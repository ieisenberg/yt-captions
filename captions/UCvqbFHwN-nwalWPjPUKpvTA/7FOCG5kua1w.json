[
  {
    "text": "so this is a beginner level class this is bits and pieces of things that I've done in training sessions over the last",
    "start": "30",
    "end": "6299"
  },
  {
    "text": "couple of years and what we're gonna do right today is basically just deep dive into how to get the logs and other",
    "start": "6299",
    "end": "13259"
  },
  {
    "text": "diagnostic and a lot of kubernetes when everything has gone wrong and you don't know where to turn so about me been an",
    "start": "13259",
    "end": "22470"
  },
  {
    "text": "IT for 20 odd years now depending on how you count worked for core OS previously",
    "start": "22470",
    "end": "28740"
  },
  {
    "text": "for Red Hat Electronic Arts although not doing anything especially thrilling at EA currently I'm a senior consultant for",
    "start": "28740",
    "end": "35910"
  },
  {
    "text": "a team oh we are hiring this is my team lead Sam right in the front of the room my blood type is caffeine positive and",
    "start": "35910",
    "end": "43440"
  },
  {
    "text": "there's my contact info down there should you care to contact me if only to",
    "start": "43440",
    "end": "49890"
  },
  {
    "text": "say god that presentation sucked it was a waste of my time first thoughts so",
    "start": "49890",
    "end": "55789"
  },
  {
    "text": "Brad giesemann who some of you may have saved his presentation I know Sam has if",
    "start": "55789",
    "end": "62760"
  },
  {
    "text": "you read his slides one of the things that he goes over is you have to kind of get in the right frame of mind for some things so I wanted to give you some",
    "start": "62760",
    "end": "69479"
  },
  {
    "text": "first thoughts when you kind of dive in to debug kubernetes first thing is it's",
    "start": "69479",
    "end": "74490"
  },
  {
    "text": "not rocket science yeah it's a distributed system that doesn't mean that it's actually hard to get the info",
    "start": "74490",
    "end": "81600"
  },
  {
    "text": "that you need to get out of it nothing that we're doing is really new we're just poking at the system and seeing",
    "start": "81600",
    "end": "87479"
  },
  {
    "text": "what falls out some of the tools are new some of the pieces you prober new that's",
    "start": "87479",
    "end": "92700"
  },
  {
    "text": "about it the general idea is the same as it's always been right on back to if",
    "start": "92700",
    "end": "97710"
  },
  {
    "text": "anybody's seen this image before this is the quote-unquote first actual computer bug they had a mainframe that was going",
    "start": "97710",
    "end": "105420"
  },
  {
    "text": "wrong and they basically interrogated the system examined its outputs and successfully debugged it this is how it",
    "start": "105420",
    "end": "115259"
  },
  {
    "text": "feels when your application deployment fails lights are lighting up red people are getting woken up by phone",
    "start": "115259",
    "end": "121799"
  },
  {
    "text": "calls sirens are going off and it's tempting to just you know kind of throw your hands up and go take a deep breath",
    "start": "121799",
    "end": "129830"
  },
  {
    "text": "don't panic do we have any IT Crowd fans here yep you know about the little book of",
    "start": "129830",
    "end": "137190"
  },
  {
    "text": "calm then find the little book of calm you know take whatever other advice from",
    "start": "137190",
    "end": "143040"
  },
  {
    "text": "classic works of fiction and film you care to take and then let's fix it the",
    "start": "143040",
    "end": "148050"
  },
  {
    "text": "first thing we have to do is gather info and that's what this is about then you're gonna form a plan you're",
    "start": "148050",
    "end": "153570"
  },
  {
    "text": "gonna test and execute your plan so how do you gather the info well let's talk",
    "start": "153570",
    "end": "159120"
  },
  {
    "text": "about that the first thing you want to do if you've done stuff with cube",
    "start": "159120",
    "end": "164280"
  },
  {
    "text": "control we've now been told that that's the official name if you've done stuff",
    "start": "164280",
    "end": "169530"
  },
  {
    "text": "with cube control you've probably done a good control get cube control describe those are nothing new sometimes that's",
    "start": "169530",
    "end": "176040"
  },
  {
    "text": "enough you you do a cube control describe you see an image pull air you go oh I forgot to put the image pull",
    "start": "176040",
    "end": "181680"
  },
  {
    "text": "secret and of course it's not pulling the image you go off and you fix it if not let's talk about logs I know my",
    "start": "181680",
    "end": "193170"
  },
  {
    "text": "humor is terrible the first thing that a lot of people don't know about is coups",
    "start": "193170",
    "end": "199260"
  },
  {
    "text": "ETL get events an event is actually a resource type in kubernetes and so when",
    "start": "199260",
    "end": "204750"
  },
  {
    "text": "you do cube CTL get events it will actually list them out just like it would list another resource and give you",
    "start": "204750",
    "end": "211110"
  },
  {
    "text": "kind of a summarized view of what it's seen and how often and when was the last time it saw it now this looks like",
    "start": "211110",
    "end": "218070"
  },
  {
    "text": "terrible formatting that's because when you see this it usually is terrible formatting like that this is only compressed a little bit in line length",
    "start": "218070",
    "end": "224880"
  },
  {
    "text": "so you know if you have the ability to widen your terminal way out that's what you want to do and in this case I've got",
    "start": "224880",
    "end": "231750"
  },
  {
    "text": "something that's failing to bind to a persistent volume because there are no volumes available so if you do a get",
    "start": "231750",
    "end": "238530"
  },
  {
    "text": "events and you see that maybe that tells you oh I forgot to deploy whatever configuration I need to make that",
    "start": "238530",
    "end": "243750"
  },
  {
    "text": "binding work Coop's ETL logs no get on",
    "start": "243750",
    "end": "249299"
  },
  {
    "text": "logs I still do it all the time but there's no get there it's just coops ETL logs",
    "start": "249299",
    "end": "254310"
  },
  {
    "text": "and then a pod name and so you'll see things like this now this is fairly innocuous this is just a pod starting up",
    "start": "254310",
    "end": "260970"
  },
  {
    "text": "this is a we've scoped pod you're gonna see a lot of we've scoped logs as we go through this because that's what I used for my",
    "start": "260970",
    "end": "266470"
  },
  {
    "text": "samples and if I had time to do demos that's what my demos will be using - if the pod has multiple containers you have",
    "start": "266470",
    "end": "273730"
  },
  {
    "text": "to specify which container you want this one only has one container container",
    "start": "273730",
    "end": "280450"
  },
  {
    "text": "logs so most of the time your container logs are your pod logs especially if",
    "start": "280450",
    "end": "286150"
  },
  {
    "text": "your pod only has one container in it if something has gone really wrong on your cluster and you can't get the logs from",
    "start": "286150",
    "end": "291940"
  },
  {
    "text": "the pod with cube CTL you may have to SSH into your container host and get the",
    "start": "291940",
    "end": "297370"
  },
  {
    "text": "logs that way and how you do that it's gonna vary by your container run time you're gonna do one way with docker another way with Rockit another way if",
    "start": "297370",
    "end": "304450"
  },
  {
    "text": "you're using something else I honestly haven't had the time to look in depth in the house ERI does it but I know there's",
    "start": "304450",
    "end": "310300"
  },
  {
    "text": "like CRI control that you can use to get logs and things like that so just keep",
    "start": "310300",
    "end": "316690"
  },
  {
    "text": "that in mind that's you may have to go back to the good old fashioned SSH you can also run",
    "start": "316690",
    "end": "323230"
  },
  {
    "text": "what I think of as a debugging container and I think somebody mentioned that in one of the keynotes today when they were talking about things you can actually",
    "start": "323230",
    "end": "329730"
  },
  {
    "text": "SSH to a host figure out where the process that se√±or troublesome container",
    "start": "329730",
    "end": "335110"
  },
  {
    "text": "is and you can attach another process to that containers namespace if you're running docker you can actually attach a",
    "start": "335110",
    "end": "340900"
  },
  {
    "text": "whole container to that containers network namespace and pit namespace and all that and so what that allows you to",
    "start": "340900",
    "end": "347080"
  },
  {
    "text": "do is you can run let's say you you're on a rail host but you feel more",
    "start": "347080",
    "end": "353290"
  },
  {
    "text": "comfortable debugging things in a debian environment you can SSH to the host run a debian container attach it to the",
    "start": "353290",
    "end": "359200"
  },
  {
    "text": "namespace you need to attach it to and then use the tools you're familiar with or in some cases there may be a specific",
    "start": "359200",
    "end": "365650"
  },
  {
    "text": "debug container that you have for your particular application it has diagnostic tools that you can use to interrogate",
    "start": "365650",
    "end": "371620"
  },
  {
    "text": "what's going on either way and it's also",
    "start": "371620",
    "end": "376660"
  },
  {
    "text": "a little bit of a Hail Mary right if your application doesn't provide good logs or it's logging but it doesn't know",
    "start": "376660",
    "end": "383740"
  },
  {
    "text": "what it's having trouble with at least you can fire up a debug container and look at the environment and maybe that",
    "start": "383740",
    "end": "389350"
  },
  {
    "text": "will give you an idea what's going wrong also if your host is having issues do you really want to be installing packages on that host right now",
    "start": "389350",
    "end": "395530"
  },
  {
    "text": "container is a good way to just get something running you can use the debug without having to make",
    "start": "395530",
    "end": "400710"
  },
  {
    "text": "and system configuration changes what",
    "start": "400710",
    "end": "407130"
  },
  {
    "text": "are we looking for the first thing you're looking for is what is your normal behavior and I call this normal",
    "start": "407130",
    "end": "414480"
  },
  {
    "text": "app model because if you looked at this and you didn't know that this is perfectly fine when you start up we've",
    "start": "414480",
    "end": "421050"
  },
  {
    "text": "scoped in an environment without weave networking then you would look at that and you would start trying to debug this",
    "start": "421050",
    "end": "426390"
  },
  {
    "text": "and you might waste a lot of time trying to debug this when this isn't actually the problem you're having",
    "start": "426390",
    "end": "431700"
  },
  {
    "text": "whatever the problem you're having is it's not that so know what you're normal and you're normal abnormal behavior",
    "start": "431700",
    "end": "437790"
  },
  {
    "text": "looks like networking issues I don't",
    "start": "437790",
    "end": "443220"
  },
  {
    "text": "really have an example of this one because it's so vast I don't want to give you an idea that like oh there's eight bullet points and if I go through",
    "start": "443220",
    "end": "449100"
  },
  {
    "text": "them I don't have a networking issue no but the advantage is networking issues are the same as they've always been so",
    "start": "449100",
    "end": "455330"
  },
  {
    "text": "if you're on the host you're debugging the network you're still debugging the network in the same old what you've always done TCP dump or you know",
    "start": "455330",
    "end": "463170"
  },
  {
    "text": "whatever your packet capture method of choice is do you see the interfaces you",
    "start": "463170",
    "end": "468570"
  },
  {
    "text": "should see did you deploy the cluster network if you did are the cluster networks you know flannel or weave pods",
    "start": "468570",
    "end": "474780"
  },
  {
    "text": "starting up these are the things you're looking for and you know sometimes you go back and you go oh there's a firewall",
    "start": "474780",
    "end": "480570"
  },
  {
    "text": "but I didn't know about so debugging your network flows is something that you",
    "start": "480570",
    "end": "485850"
  },
  {
    "text": "may occasionally need to do and the annoying thing about it is if it's your",
    "start": "485850",
    "end": "490890"
  },
  {
    "text": "network flows that are the problem that's tends to be when your applications just don't know what's going on because all they know is they",
    "start": "490890",
    "end": "496680"
  },
  {
    "text": "can't communicate with each other pod startup issues are your pods getting",
    "start": "496680",
    "end": "503070"
  },
  {
    "text": "scheduled do you see them in the list when you do get pods if they're getting scheduled are they starting up do they",
    "start": "503070",
    "end": "509640"
  },
  {
    "text": "just stay in pending forever we'll look at some examples of what that might be later are they starting up and then",
    "start": "509640",
    "end": "516659"
  },
  {
    "text": "crashing there's a crash loopback off or an image pull error or maybe an edited",
    "start": "516660",
    "end": "521669"
  },
  {
    "text": "container is failing or it may take a while you may have a pod that starts up fine runs fine for a while but it's",
    "start": "521670",
    "end": "528000"
  },
  {
    "text": "leaking memory and so eventually that memory gets too much and it just gets killed by the host because it ran",
    "start": "528000",
    "end": "533779"
  },
  {
    "text": "memory service discovery issues now if",
    "start": "533779",
    "end": "540079"
  },
  {
    "text": "anybody's paying attention here you'll notice that we aren't in 2018 yet and so",
    "start": "540079",
    "end": "545779"
  },
  {
    "text": "this is my example of if you typo a configuration and you're looking for",
    "start": "545779",
    "end": "551389"
  },
  {
    "text": "something using a service name that doesn't exist in this case it's the we've scoped agent is trying to contact",
    "start": "551389",
    "end": "556939"
  },
  {
    "text": "the we've scoped front-end and failing because I put the wrong host name in there deliberately for demonstration purposes but this is",
    "start": "556939",
    "end": "563660"
  },
  {
    "text": "what it looks like note that this is coming from the application again we're going to come back to that theme of you do depend a",
    "start": "563660",
    "end": "570379"
  },
  {
    "text": "lot on your application logs so are you having DNS issues beyond that maybe it's",
    "start": "570379",
    "end": "576499"
  },
  {
    "text": "not something you did wrong maybe it's that your cluster DNS isn't starting up or running properly did you deploy your",
    "start": "576499",
    "end": "581990"
  },
  {
    "text": "app in the wrong name space because name space matters to service host resolution",
    "start": "581990",
    "end": "587079"
  },
  {
    "text": "do your services have endpoints if the services created correctly and the eight",
    "start": "587079",
    "end": "592519"
  },
  {
    "text": "and the app is contacting it correctly is what's supposed to be behind that",
    "start": "592519",
    "end": "597620"
  },
  {
    "text": "service actually there maybe there's nothing there so you do a coop CTL get and tube control get endpoints on the",
    "start": "597620",
    "end": "605269"
  },
  {
    "text": "service and see if there are any endpoints access control this is one",
    "start": "605269",
    "end": "611149"
  },
  {
    "text": "that's been biting a lot of people lately especially in the helm community because when helm charts started to do",
    "start": "611149",
    "end": "617209"
  },
  {
    "text": "our back things they initially were advising people to default to are back",
    "start": "617209",
    "end": "622939"
  },
  {
    "text": "false meaning don't create the are back resources but then everything kind of",
    "start": "622939",
    "end": "629269"
  },
  {
    "text": "flipped and for about the last couple of months all the cluster installers have been defaulting to turning our back on so now",
    "start": "629269",
    "end": "637100"
  },
  {
    "text": "all these old help charts that worked fine when they were first created and uploaded to github are now failing",
    "start": "637100",
    "end": "642199"
  },
  {
    "text": "because they're not creating our back resources and that's what they need to have this is what an are back failure",
    "start": "642199",
    "end": "648050"
  },
  {
    "text": "looks like again this comes from the application you don't really get to see this in the API server logs or anything",
    "start": "648050",
    "end": "653540"
  },
  {
    "text": "like that I mean I suppose if you sat down and actually did a TCP dump on that IP for the API API server you would be",
    "start": "653540",
    "end": "660800"
  },
  {
    "text": "able to see these requests coming in but you don't really get a good easy view",
    "start": "660800",
    "end": "667180"
  },
  {
    "text": "of our back issues and kubernetes so again the application has to be smart enough to tell you what's going on and",
    "start": "667180",
    "end": "673240"
  },
  {
    "text": "here we see it's failing to list things because it doesn't have permissions to list anything it can't even read",
    "start": "673240",
    "end": "679030"
  },
  {
    "text": "anything out of the API server the other thing that people are running into now since it's gone stable is network policy",
    "start": "679030",
    "end": "686170"
  },
  {
    "text": "preventing traffic just like people used to bite themselves with iptables rules I just saw somebody do it the other day in",
    "start": "686170",
    "end": "692260"
  },
  {
    "text": "a production environment network policy sometimes if your policies aren't",
    "start": "692260",
    "end": "698050"
  },
  {
    "text": "written exactly the way they should be you can cut off traffic that shouldn't be cut off the other one I see although",
    "start": "698050",
    "end": "704740"
  },
  {
    "text": "not so much anymore because most cluster installers take care of it for you to a large extent is TLS issues either using",
    "start": "704740",
    "end": "712210"
  },
  {
    "text": "the wrong TLS credentials or not having TLS credentials for something that requires them or certificates have",
    "start": "712210",
    "end": "718570"
  },
  {
    "text": "expired or whatever the case may be how do you fix it",
    "start": "718570",
    "end": "723610"
  },
  {
    "text": "well it used to be you had to go into the hosts and restart daemons and change config files and all that you still",
    "start": "723610",
    "end": "729370"
  },
  {
    "text": "change a config file but kubernetes does a lot of cleanup for you so you change your config file you fix your container",
    "start": "729370",
    "end": "735850"
  },
  {
    "text": "tag or your network policy rule or whatever you do a cube CTL apply kubernetes will do a large part of the",
    "start": "735850",
    "end": "742960"
  },
  {
    "text": "cleanup for you so don't make work for yourself don't do something like go in and delete a bunch of pods in a failing",
    "start": "742960",
    "end": "749110"
  },
  {
    "text": "deployment and then fix the deployment because if you delete those failing pods they're just going to be respond as new",
    "start": "749110",
    "end": "755200"
  },
  {
    "text": "failing pods let kubernetes fix it for you preventive measures this is where I",
    "start": "755200",
    "end": "763120"
  },
  {
    "text": "get to rant for a little bit application design how many developers we got in",
    "start": "763120",
    "end": "769270"
  },
  {
    "text": "here yep lots of it how many of you developers are deploying applications on",
    "start": "769270",
    "end": "775420"
  },
  {
    "text": "kubernetes okay not as many but still quite a few do your applications log",
    "start": "775420",
    "end": "781990"
  },
  {
    "text": "diagnostic info and do they do so correctly and I call out here just",
    "start": "781990",
    "end": "787300"
  },
  {
    "text": "because I'm always amused by the fact that it is still in the Linux source code lp0 on fire now if you get that",
    "start": "787300",
    "end": "794500"
  },
  {
    "text": "error and you can get that error it doesn't actually mean anymore that your printer is on fire it means that",
    "start": "794500",
    "end": "800570"
  },
  {
    "text": "Euler combination of air conditions has happened but that error message is still in the Linux source code it still comes",
    "start": "800570",
    "end": "807740"
  },
  {
    "text": "up for that combination of air conditions that it's no longer the message itself is no longer relevant",
    "start": "807740",
    "end": "813080"
  },
  {
    "text": "they should be giving people a much more informative error message as to what's going wrong don't write lp0 on fire error messages",
    "start": "813080",
    "end": "819680"
  },
  {
    "text": "and the reason I call that one out is because that's one that actually did approximately mean your printer was on",
    "start": "819680",
    "end": "825380"
  },
  {
    "text": "fire back when it was written but it's been superseded by events so always make sure that you go back and review the",
    "start": "825380",
    "end": "832310"
  },
  {
    "text": "failure circumstances of your application and how it behaves are you logging enough so maybe you're",
    "start": "832310",
    "end": "838610"
  },
  {
    "text": "logging correct things but you aren't logging enough of them or in enough detail I love applications that let me specify",
    "start": "838610",
    "end": "844580"
  },
  {
    "text": "the level of verbosity you do a Kubb control - be 99 you get everything you",
    "start": "844580",
    "end": "850580"
  },
  {
    "text": "probably don't want everything but it'll give it to you anyway and even if you're sure you're writing enough detailed logs go ahead and make",
    "start": "850580",
    "end": "856460"
  },
  {
    "text": "it more detail do you have diagnostic tools and do you document them I talked earlier about",
    "start": "856460",
    "end": "862310"
  },
  {
    "text": "using a debug container what good is a debug container if you don't have the tools to use in it to debug anything so",
    "start": "862310",
    "end": "868940"
  },
  {
    "text": "if your application needs specific debug stuff I mean if your application can be debugged by a regular old TCP dump",
    "start": "868940",
    "end": "874550"
  },
  {
    "text": "session fine document that because even if you have the tools and they're not",
    "start": "874550",
    "end": "879980"
  },
  {
    "text": "documented they don't do anybody any good and then the last thing and I know I'm kind of",
    "start": "879980",
    "end": "885320"
  },
  {
    "text": "preaching to the choir on this and I will be again in the next slide is how safe is your data and state in case of your app failure we're working in cloud",
    "start": "885320",
    "end": "891770"
  },
  {
    "text": "environments now this is the thing we have to worry about you can't just go oh well if the process gets killed then",
    "start": "891770",
    "end": "897170"
  },
  {
    "text": "everything is resident on the disk what disk you might not be even be even",
    "start": "897170",
    "end": "902960"
  },
  {
    "text": "saw on the same node when you come back up can you roll back from migrations have you tested rolling back from",
    "start": "902960",
    "end": "908210"
  },
  {
    "text": "migrations if you haven't tested your recovery plan you don't have one",
    "start": "908210",
    "end": "914260"
  },
  {
    "text": "pre-deployment I know there's been lots of talk and especially in the keynotes",
    "start": "914260",
    "end": "919310"
  },
  {
    "text": "about automation tools my favorite one is helm I participate in helmand",
    "start": "919310",
    "end": "924320"
  },
  {
    "text": "community my demos are actually generated by helm templating a helmet art that I've been working on and have a",
    "start": "924320",
    "end": "930010"
  },
  {
    "text": "you're in for so you'll see like the helm labels they're not necessarily relevant to the demo itself but they're",
    "start": "930010",
    "end": "935050"
  },
  {
    "text": "there it was just an easy quick way to get a demo going and one of the things that the help community preaches and for",
    "start": "935050",
    "end": "941680"
  },
  {
    "text": "good reason is factored out redundancy because every time you repeat yourself you give yourself a chance to repeat yourself wrong and your environment",
    "start": "941680",
    "end": "950050"
  },
  {
    "text": "should not only make both of those possible it should be the easiest way to operate in your environment you should",
    "start": "950050",
    "end": "957130"
  },
  {
    "text": "be telling your developers you know or your code developers don't do all that work to deploy manifest manually we have",
    "start": "957130",
    "end": "963250"
  },
  {
    "text": "a helmet art in a home chart repo just helm install it's easy and if it's easy and if it works correctly then that's",
    "start": "963250",
    "end": "969760"
  },
  {
    "text": "what people will do so helm draft the other brigade is a scripting language",
    "start": "969760",
    "end": "975340"
  },
  {
    "text": "that helps automate a lot of things consider the cluster autoscaler it can",
    "start": "975340",
    "end": "980650"
  },
  {
    "text": "help you avoid outer resources problems and the last thing is test environments",
    "start": "980650",
    "end": "985660"
  },
  {
    "text": "are not optional I don't care how small your budget is you need a test",
    "start": "985660",
    "end": "990940"
  },
  {
    "text": "environment if you don't have the budget for a test environment you don't have the budget to run and I know somebody",
    "start": "990940",
    "end": "997900"
  },
  {
    "text": "has a reason why they can't afford a test environment you're wrong you need a test environment post deployment",
    "start": "997900",
    "end": "1005010"
  },
  {
    "text": "application validation tests this is another thing the helm community has started doing they want people to write",
    "start": "1005010",
    "end": "1010590"
  },
  {
    "text": "a test into their charts so that after the charts deployed you can do helm test you should do the same thing if you Jenkins deploy an application after its",
    "start": "1010590",
    "end": "1018420"
  },
  {
    "text": "deployed make sure that it actually is running properly ongoing monitoring I",
    "start": "1018420",
    "end": "1024240"
  },
  {
    "text": "don't have to tell anybody in here about monitoring your applications right but I think some people and I don't think",
    "start": "1024240",
    "end": "1031560"
  },
  {
    "text": "anybody in this room but some people's management of people in this room may not have gotten the message that you don't need to alert on every little",
    "start": "1031560",
    "end": "1037380"
  },
  {
    "text": "thing and especially in a kubernetes environment a node going down at 3:00 a.m. in a properly designed environment",
    "start": "1037380",
    "end": "1044100"
  },
  {
    "text": "is not a reason to page anybody and wake them up out of bed it is a reason to log something and maybe throw an email out",
    "start": "1044100",
    "end": "1050010"
  },
  {
    "text": "there but unless you actually lose the end-user access to the application don't",
    "start": "1050010",
    "end": "1055020"
  },
  {
    "text": "wake people up that's I saw that I saw a Prometheus presentation when I worked at core OS and that was the guy's main idea",
    "start": "1055020",
    "end": "1061350"
  },
  {
    "text": "is what matters is what the end-user can or can't do and at the end user can do",
    "start": "1061350",
    "end": "1066460"
  },
  {
    "text": "everything they should be able to do you shouldn't be waking people up adopt the",
    "start": "1066460",
    "end": "1071740"
  },
  {
    "text": "chaos monkey every now and then go into your data center and just yank a plug out whether you do that in a literal",
    "start": "1071740",
    "end": "1077920"
  },
  {
    "text": "sense or a virtual sense somebody has a chaos monkey agent that you can deploy under kubernetes cluster it'll randomly",
    "start": "1077920",
    "end": "1083620"
  },
  {
    "text": "kill pods and things like that and the reason I say that is you show me a server with high uptime and I'll show",
    "start": "1083620",
    "end": "1089140"
  },
  {
    "text": "you a server that has unstirred changes just waiting to bite somebody as soon as it reboots where you can get more help",
    "start": "1089140",
    "end": "1100559"
  },
  {
    "text": "kubernetes docks the API Docs I go back to all the time I was all over this API",
    "start": "1100559",
    "end": "1106360"
  },
  {
    "text": "Docs while I was researching for this talk there's also other good info on the main tasks page there's a sidebar there",
    "start": "1106360",
    "end": "1112690"
  },
  {
    "text": "and it doesn't seem to work to link directly to specific things under the sidebar but if you go to the main page",
    "start": "1112690",
    "end": "1118240"
  },
  {
    "text": "and you go under monitor login debug there's actually troubleshooting clusters and troubleshooting applications and he'll recap a lot of",
    "start": "1118240",
    "end": "1124780"
  },
  {
    "text": "this info kubernetes slack channels kubernetes Navas kubernetes users",
    "start": "1124780",
    "end": "1131920"
  },
  {
    "text": "depending on how confident you feel a lot of the time people come into kubernetes novice and I actually saw",
    "start": "1131920",
    "end": "1138580"
  },
  {
    "text": "this as the channel topic the other day it said if you don't get an answer it may not be an honest question go ahead",
    "start": "1138580",
    "end": "1143770"
  },
  {
    "text": "and ask it in the other channel look within yourself if you've been working",
    "start": "1143770",
    "end": "1150760"
  },
  {
    "text": "in IT for 20 30 40 years and you're going well now I'm in a cloud environment all that knowledge I have is",
    "start": "1150760",
    "end": "1156790"
  },
  {
    "text": "just it's not relevant anymore no it still is none of this is new Hen Goldberg said that yesterday right here",
    "start": "1156790",
    "end": "1163000"
  },
  {
    "text": "on stage none of what we're doing is new we're just putting it in a different environment this is my favorite",
    "start": "1163000",
    "end": "1170010"
  },
  {
    "text": "networking document RFC 1925 it was submitted as a joke but it's one of those haha only serious jokes it was an",
    "start": "1170010",
    "end": "1176770"
  },
  {
    "text": "April 1st RFC from 1996 if you go read it it will give you advice that you will",
    "start": "1176770",
    "end": "1182590"
  },
  {
    "text": "be able to apply to your kubernetes clouds today I guarantee it the other thing that I personally find",
    "start": "1182590",
    "end": "1190300"
  },
  {
    "text": "useful is take the time to actually sit down and fully describe the problem you're trying to solve because in the act of this",
    "start": "1190300",
    "end": "1195340"
  },
  {
    "text": "driving it you often go oh I know how to fix that they call it rubber duck debugging or teddybear debugging or",
    "start": "1195340",
    "end": "1201190"
  },
  {
    "text": "whatever some people go and describe it to a co-worker who doesn't know anything about it so it forces them to describe",
    "start": "1201190",
    "end": "1207310"
  },
  {
    "text": "it at a high level of detail either way just take the time take a breath sit",
    "start": "1207310",
    "end": "1213220"
  },
  {
    "text": "down and think about it demos let's see we have about 12 minutes",
    "start": "1213220",
    "end": "1220810"
  },
  {
    "text": "left I'm gonna skip over demos for now because I want to give people a chance",
    "start": "1220810",
    "end": "1226450"
  },
  {
    "text": "to ask questions but have a couple of final thoughts we just scratched the",
    "start": "1226450",
    "end": "1231700"
  },
  {
    "text": "surface like I said I'm just gonna run right over this and I don't expect",
    "start": "1231700",
    "end": "1237100"
  },
  {
    "text": "anybody to walk out of here and retain everything I just said that's why I posted the slides online and why there's",
    "start": "1237100",
    "end": "1242680"
  },
  {
    "text": "a link to the slides aren't there tools for these kind of things am I actually gonna have to go in there and do coop",
    "start": "1242680",
    "end": "1248650"
  },
  {
    "text": "control logs and cube control get events there are tools but what happens if deploying the tools goes wrong what",
    "start": "1248650",
    "end": "1255100"
  },
  {
    "text": "happens if the tools get deployed and they fail what if something happens that the tools aren't don't know how to deal with so it's still good to have that",
    "start": "1255100",
    "end": "1262540"
  },
  {
    "text": "base knowledge of how to do this kind of manually under the hood but there are a",
    "start": "1262540",
    "end": "1268210"
  },
  {
    "text": "lot of tools out there that are wonderful tools that will help you find and fix these kind of things and definitely you should go try out tons of",
    "start": "1268210",
    "end": "1275290"
  },
  {
    "text": "them find out which ones you love that work well for you come back to cube con next year tell us all about this awesome",
    "start": "1275290",
    "end": "1280960"
  },
  {
    "text": "tool that you found and how it helps you recover from a you know production sub-zero outage and how much you love",
    "start": "1280960",
    "end": "1287380"
  },
  {
    "text": "that tool because that's what everybody's been talking about community the last three days that's kind of what the community is all about go out and",
    "start": "1287380",
    "end": "1293560"
  },
  {
    "text": "find the things that work and come back and tell everybody else about it don't fall for impostor syndrome this is",
    "start": "1293560",
    "end": "1299680"
  },
  {
    "text": "just more believe in yourself you know more than you think you know and once you start digging down into it you're",
    "start": "1299680",
    "end": "1306100"
  },
  {
    "text": "gonna realize oh I know what we need to do here if you feel like you're drinking from the fire hose it just means you",
    "start": "1306100",
    "end": "1312160"
  },
  {
    "text": "actually know what's going on and Ilya I'm gonna butcher his last name check",
    "start": "1312160",
    "end": "1317620"
  },
  {
    "text": "check Regan on stage yesterday said trust yourself that's what this is all",
    "start": "1317620",
    "end": "1322930"
  },
  {
    "text": "about just giving you enough knowledge to get in there get on that command line and know that you can trust yourself to",
    "start": "1322930",
    "end": "1328570"
  },
  {
    "text": "at least find out some of the info about what the problem is does anybody have any",
    "start": "1328570",
    "end": "1334480"
  },
  {
    "text": "questions I have a microphone if anybody wants to borrow it or you can just yell",
    "start": "1334480",
    "end": "1342330"
  },
  {
    "text": "no questions oh one question",
    "start": "1343110",
    "end": "1347999"
  },
  {
    "text": "yes there is a way to do that I don't remember what that is off the top of my head but I know that you can get the",
    "start": "1364110",
    "end": "1370450"
  },
  {
    "text": "logs from a previous execution of if you're doing it through coop control it's the previous execution of that pod",
    "start": "1370450",
    "end": "1377320"
  },
  {
    "text": "but if it's a single container pod it'll be the logs for that container what's",
    "start": "1377320",
    "end": "1382600"
  },
  {
    "text": "that there you go see we're already sharing knowledge coop CTL logs - P yeah yeah",
    "start": "1382600",
    "end": "1398730"
  },
  {
    "text": "anybody else",
    "start": "1398730",
    "end": "1401970"
  },
  {
    "text": "oh I should have put that in there and I and and I don't remember it off the top of my head but if you go out",
    "start": "1412790",
    "end": "1418190"
  },
  {
    "text": "there and you look up chaos monkey kubernetes agent in Google I I think you will find it I will make a point though",
    "start": "1418190",
    "end": "1423890"
  },
  {
    "text": "when I post the updated version of these slides I will link that to the one that",
    "start": "1423890",
    "end": "1429230"
  },
  {
    "text": "I was thinking of so you will get to",
    "start": "1429230",
    "end": "1435830"
  },
  {
    "text": "that just a second yes if it's the",
    "start": "1435830",
    "end": "1461630"
  },
  {
    "text": "cluster itself then depending on how that cluster was built you may be going in you will almost always be going into",
    "start": "1461630",
    "end": "1467840"
  },
  {
    "text": "a node like connecting directly to a node and then either doing a journal CTL",
    "start": "1467840",
    "end": "1472970"
  },
  {
    "text": "or looking at syslog if it's a syslog system or looking at the docker logs",
    "start": "1472970",
    "end": "1478970"
  },
  {
    "text": "directly of the containers that run the control plane components if that's how its set up there are different ways and",
    "start": "1478970",
    "end": "1484340"
  },
  {
    "text": "so there isn't really one answer to that but yeah if you have really deep issues",
    "start": "1484340",
    "end": "1489650"
  },
  {
    "text": "with your cluster you probably are gonna have to go really deep into the host to debug and resolve them generally if it's",
    "start": "1489650",
    "end": "1505730"
  },
  {
    "text": "something to do with the cluster you will see really severe problems like you can't coop control anything right and it",
    "start": "1505730",
    "end": "1513680"
  },
  {
    "text": "will be stuff that's not even like bad credentials that you go oh I have the wrong context file or something it'll",
    "start": "1513680",
    "end": "1518990"
  },
  {
    "text": "just be like timed out or connection refused or whatever the case may be you",
    "start": "1518990",
    "end": "1524480"
  },
  {
    "text": "will see if you do a coup Control get nodes you may see nodes not ready that's",
    "start": "1524480",
    "end": "1530390"
  },
  {
    "text": "often because their networking isn't correct they're not starting up the pod and network like they should so they're not ready and they can't be used for",
    "start": "1530390",
    "end": "1536600"
  },
  {
    "text": "scheduling once you start getting down into that the possibilities are vast but",
    "start": "1536600",
    "end": "1542510"
  },
  {
    "text": "again and a lot of the knowledge that you already have from debugging hosts issues still applies everybody else okay",
    "start": "1542510",
    "end": "1557429"
  },
  {
    "text": "the most common modes that I see there and the most common install methods are",
    "start": "1567390",
    "end": "1573730"
  },
  {
    "text": "running them directly out of a container on the host or actually running them as self hosted pods and the system that I",
    "start": "1573730",
    "end": "1580510"
  },
  {
    "text": "use for spinning up little demo clusters called boo cube and also cube ATM tend to run them as actual pods with",
    "start": "1580510",
    "end": "1586750"
  },
  {
    "text": "manifests so you will actually a lot of the time be able to go into for example",
    "start": "1586750",
    "end": "1592240"
  },
  {
    "text": "the cubelet logs and if it can't run the manifest to run the API server then the couplet will have some kind of log as to",
    "start": "1592240",
    "end": "1598810"
  },
  {
    "text": "why that manifest wouldn't run or what the error may be anything else think I",
    "start": "1598810",
    "end": "1610030"
  },
  {
    "text": "have time for a baby definitely one demo maybe two so let me switch to my demo",
    "start": "1610030",
    "end": "1616960"
  },
  {
    "text": "window make sure this is still up yes I",
    "start": "1616960",
    "end": "1623140"
  },
  {
    "text": "will make that much larger for everyone where's the zoom on this guy there we",
    "start": "1623140",
    "end": "1629350"
  },
  {
    "text": "are zoom in ctrl + okay so whoops oh there",
    "start": "1629350",
    "end": "1640990"
  },
  {
    "text": "we go I just have it I'm gonna shift it down one there",
    "start": "1640990",
    "end": "1648330"
  },
  {
    "text": "these files by the way are also linked off of the slides which I will put up the thing for the there's a QR code and",
    "start": "1649660",
    "end": "1657080"
  },
  {
    "text": "a slide link that I'll put up at the very end of this so the demos I can do I",
    "start": "1657080",
    "end": "1662750"
  },
  {
    "text": "can do an app communication error a crash loopback off here a discovery failure failed mount error that's a fun",
    "start": "1662750",
    "end": "1671120"
  },
  {
    "text": "one because it just never comes up image polar pods stuck in pending or an hour",
    "start": "1671120",
    "end": "1677210"
  },
  {
    "text": "back issue show hands for app communication error show hands for crash",
    "start": "1677210",
    "end": "1685010"
  },
  {
    "text": "loopback off oh I think that one might win discovery failure failed mount image pull air and",
    "start": "1685010",
    "end": "1696700"
  },
  {
    "text": "penning pod oh and our back issue okay I",
    "start": "1696700",
    "end": "1702410"
  },
  {
    "text": "will do crash Lea back off and then if I have time I will do let me see pending",
    "start": "1702410",
    "end": "1709370"
  },
  {
    "text": "again and let me see our back again okay I think that's a rough high but I'm",
    "start": "1709370",
    "end": "1715370"
  },
  {
    "text": "gonna do our back if I have time so let me get my cube context here CD to crash",
    "start": "1715370",
    "end": "1725570"
  },
  {
    "text": "loop back off now yes broken so these",
    "start": "1725570",
    "end": "1731600"
  },
  {
    "text": "are divided up into broken and fixed and so I have a broken deployment here and we'll see it going to crash loopback off",
    "start": "1731600",
    "end": "1737120"
  },
  {
    "text": "on my deployed cube cuddle and apply dash F broken deployment okay now if I",
    "start": "1737120",
    "end": "1747710"
  },
  {
    "text": "do a cube CTL get oh yeah see I already",
    "start": "1747710",
    "end": "1752750"
  },
  {
    "text": "have an error if I watch ash n whoops I",
    "start": "1752750",
    "end": "1758480"
  },
  {
    "text": "need to pass an argument to that well",
    "start": "1758480",
    "end": "1763550"
  },
  {
    "text": "see it's already gone into crash lead backup now what am I looking at there I need to get the logs from this pod",
    "start": "1763550",
    "end": "1773050"
  },
  {
    "text": "not get logs I have to remind myself of that ah now this is it",
    "start": "1775330",
    "end": "1783080"
  },
  {
    "text": "this looks cryptic but what it actually is if you look at the manifest this pod just runs a busy box container that runs",
    "start": "1783080",
    "end": "1789170"
  },
  {
    "text": "a sleep command and so if I look at that sleep container broken deployment down",
    "start": "1789170",
    "end": "1799430"
  },
  {
    "text": "here I gave it an argument sleep R well R is not a number of seconds to sleep so",
    "start": "1799430",
    "end": "1806900"
  },
  {
    "text": "it quite reasonably terminates with an error kubernetes says well that pod terminated with an error I need to",
    "start": "1806900",
    "end": "1812300"
  },
  {
    "text": "restart that container because that pod needs to stay up it's part of a deployment but it's just gonna keep doing that over and over so eventually",
    "start": "1812300",
    "end": "1818180"
  },
  {
    "text": "it goes into crash sleep back off the solution to that is to fix your deployment and the way I do that and",
    "start": "1818180",
    "end": "1825830"
  },
  {
    "text": "this is whoops I'll just scroll down",
    "start": "1825830",
    "end": "1832040"
  },
  {
    "text": "manually I changed it from R to I actually put in the actual we've scoped",
    "start": "1832040",
    "end": "1837830"
  },
  {
    "text": "container a thing that will run normally and I can coop CTL apply - F and now",
    "start": "1837830",
    "end": "1850790"
  },
  {
    "text": "it's configured my deployment and if I do what I did before we can see the old",
    "start": "1850790",
    "end": "1857120"
  },
  {
    "text": "one is terminating already the new one is coming up and has already gone into a running state so we fixed it kubernetes",
    "start": "1857120",
    "end": "1864470"
  },
  {
    "text": "cleaned up after us we didn't have to do anything but fix it and reapply that's the great thing about declarative",
    "start": "1864470",
    "end": "1871060"
  },
  {
    "text": "systems management all right one more I'm gonna do the are back one let me clean up after this ABC help delete",
    "start": "1871060",
    "end": "1881470"
  },
  {
    "text": "I know I need a space there okay",
    "start": "1883460",
    "end": "1888679"
  },
  {
    "text": "this one's gonna be fun all right our back issue all right same thing we did",
    "start": "1888679",
    "end": "1897440"
  },
  {
    "text": "before oops no I'm just gonna deploy the whole",
    "start": "1897440",
    "end": "1903520"
  },
  {
    "text": "directory it creates a couple of things now this is the fun part these things",
    "start": "1903520",
    "end": "1912169"
  },
  {
    "text": "will start up so initially it looks like nothing's wrong everything's that's the",
    "start": "1912169",
    "end": "1922070"
  },
  {
    "text": "old one that's still terminating from before but everything looks like it's running so everything should be okay right but if I actually go into my weave",
    "start": "1922070",
    "end": "1928640"
  },
  {
    "text": "scope front end which I don't have time to set up the port forward for right now I will find out there is no data being",
    "start": "1928640",
    "end": "1934070"
  },
  {
    "text": "reported to it which means the agents can't talk to it or the agents don't have any data to give it so what's the",
    "start": "1934070",
    "end": "1940640"
  },
  {
    "text": "problem well we know it's a problem with the agent just because we know how we've scope works so I do a cube CTO yet log",
    "start": "1940640",
    "end": "1947990"
  },
  {
    "text": "no I do a coop CTL logs not get logs uh-uh",
    "start": "1947990",
    "end": "1954380"
  },
  {
    "text": "see here we go this is all the stuff that I showed you before failed to list failed to list cannot list services at",
    "start": "1954380",
    "end": "1961429"
  },
  {
    "text": "the cluster scope what's the fix the fix in this case is I'm not updating any of",
    "start": "1961429",
    "end": "1966799"
  },
  {
    "text": "the resources that I created before I'm adding resources a cluster role in a",
    "start": "1966799",
    "end": "1971990"
  },
  {
    "text": "cluster role binding and then those",
    "start": "1971990",
    "end": "1977330"
  },
  {
    "text": "errors will go away and now if I do a cube see tale logs on the agent well it",
    "start": "1977330",
    "end": "1988309"
  },
  {
    "text": "goes into a back off it's backed off to a minute and 20 seconds now so what I would probably actually do in reality is",
    "start": "1988309",
    "end": "1993980"
  },
  {
    "text": "just go ahead and delete that demon set and reapply it in fact I have probably",
    "start": "1993980",
    "end": "2000070"
  },
  {
    "text": "just about enough time to do that it's elite this is the fun thing about",
    "start": "2000070",
    "end": "2006610"
  },
  {
    "text": "working with kubernetes you get to just delete things willy-nilly broken",
    "start": "2006610",
    "end": "2012610"
  },
  {
    "text": "demon set okay takes a while has to kill",
    "start": "2012610",
    "end": "2019300"
  },
  {
    "text": "all the demon set pods this cluster is running back home in West Virginia by",
    "start": "2019300",
    "end": "2025540"
  },
  {
    "text": "the way okay so now I can apply fixed",
    "start": "2025540",
    "end": "2031720"
  },
  {
    "text": "demon set Oh actually it's still broken",
    "start": "2031720",
    "end": "2037060"
  },
  {
    "text": "demon set because it didn't change do a git PO pick an agent cube CTO logs and",
    "start": "2037060",
    "end": "2051720"
  },
  {
    "text": "publish loop starting its collecting info and it's already started to publish",
    "start": "2052679",
    "end": "2057970"
  },
  {
    "text": "it to the front end which again if I pork forward it to the front end we'd actually be able to see this nice little diagram of the cluster I don't think I",
    "start": "2057970",
    "end": "2065110"
  },
  {
    "text": "have time for that just because I'm getting a signal time is up so with that I will very quickly give my grateful",
    "start": "2065110",
    "end": "2073270"
  },
  {
    "text": "appreciation to my ot my management Sam and Raja and the other people at O Teemo",
    "start": "2073270",
    "end": "2078700"
  },
  {
    "text": "for supporting me getting here justin garrison and michelle murali helped me with my abstract core OS engineers and",
    "start": "2078700",
    "end": "2084700"
  },
  {
    "text": "red hat trainers helped me learn how to do all this stuff that i just showed you how to do and thank you for listening",
    "start": "2084700",
    "end": "2091830"
  },
  {
    "text": "[Applause]",
    "start": "2091830",
    "end": "2095790"
  }
]