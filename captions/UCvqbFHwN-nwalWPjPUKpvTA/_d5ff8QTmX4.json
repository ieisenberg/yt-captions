[
  {
    "text": "hello",
    "start": "680",
    "end": "1800"
  },
  {
    "text": "cucon my name is Dom Dono and I'm CEO",
    "start": "1800",
    "end": "4880"
  },
  {
    "text": "and founder of cosmic and pixie core",
    "start": "4880",
    "end": "7000"
  },
  {
    "text": "maintainer and today I'm excited to tell",
    "start": "7000",
    "end": "9400"
  },
  {
    "text": "you more about how powering automatic",
    "start": "9400",
    "end": "12480"
  },
  {
    "text": "authorization in Envoy through live",
    "start": "12480",
    "end": "14599"
  },
  {
    "text": "traffic inspection",
    "start": "14599",
    "end": "16800"
  },
  {
    "text": "Works before we jump into things a",
    "start": "16800",
    "end": "19279"
  },
  {
    "text": "little bit more about",
    "start": "19279",
    "end": "20680"
  },
  {
    "text": "myself I've been working in the ebpf and",
    "start": "20680",
    "end": "23320"
  },
  {
    "text": "observability space for the last few",
    "start": "23320",
    "end": "25320"
  },
  {
    "text": "years I first got introduced to the",
    "start": "25320",
    "end": "27599"
  },
  {
    "text": "pixie project when I was at Twitter as",
    "start": "27599",
    "end": "29439"
  },
  {
    "text": "an end user",
    "start": "29439",
    "end": "30720"
  },
  {
    "text": "and since then I've uh moved over to the",
    "start": "30720",
    "end": "32840"
  },
  {
    "text": "maintainer side and been working on the",
    "start": "32840",
    "end": "34440"
  },
  {
    "text": "project the last few",
    "start": "34440",
    "end": "37120"
  },
  {
    "text": "years before we get into the details",
    "start": "37120",
    "end": "39800"
  },
  {
    "text": "here's a disclaimer I'm not a security",
    "start": "39800",
    "end": "42440"
  },
  {
    "text": "expert despite working for a security",
    "start": "42440",
    "end": "44480"
  },
  {
    "text": "company you've probably heard of um",
    "start": "44480",
    "end": "47120"
  },
  {
    "text": "security is not a one-size fits-all",
    "start": "47120",
    "end": "49399"
  },
  {
    "text": "solution and always consult your",
    "start": "49399",
    "end": "51879"
  },
  {
    "text": "Security Experts um I see this as a",
    "start": "51879",
    "end": "55600"
  },
  {
    "text": "beginning of a conversation about how we",
    "start": "55600",
    "end": "57480"
  },
  {
    "text": "can use tools like pixie and other",
    "start": "57480",
    "end": "59480"
  },
  {
    "text": "observ things to scope authorization",
    "start": "59480",
    "end": "64559"
  },
  {
    "text": "policies so why do we care about",
    "start": "64840",
    "end": "67119"
  },
  {
    "text": "automatic",
    "start": "67119",
    "end": "68159"
  },
  {
    "text": "authorization the oasp top 10 has",
    "start": "68159",
    "end": "71119"
  },
  {
    "text": "security misconfiguration listed at",
    "start": "71119",
    "end": "73280"
  },
  {
    "text": "number five the authorization policies",
    "start": "73280",
    "end": "76560"
  },
  {
    "text": "that people use last week last month",
    "start": "76560",
    "end": "79159"
  },
  {
    "text": "last year eventually suffer from",
    "start": "79159",
    "end": "81520"
  },
  {
    "text": "security and configuration drift",
    "start": "81520",
    "end": "84200"
  },
  {
    "text": "products are sunsetted teams change the",
    "start": "84200",
    "end": "87640"
  },
  {
    "text": "organizational boundaries are drawn",
    "start": "87640",
    "end": "89079"
  },
  {
    "text": "differently and people forget to fix and",
    "start": "89079",
    "end": "93520"
  },
  {
    "text": "write make the boundaries of your",
    "start": "93520",
    "end": "95960"
  },
  {
    "text": "authorization to match the world today",
    "start": "95960",
    "end": "100000"
  },
  {
    "text": "and so I'd like to see a place where",
    "start": "100000",
    "end": "102159"
  },
  {
    "text": "authorization policies actually change",
    "start": "102159",
    "end": "104200"
  },
  {
    "text": "in response to microservice environment",
    "start": "104200",
    "end": "108000"
  },
  {
    "text": "changes and I think modern observability",
    "start": "108840",
    "end": "111240"
  },
  {
    "text": "is to the",
    "start": "111240",
    "end": "112159"
  },
  {
    "text": "rescue we've had a rise of zero",
    "start": "112159",
    "end": "114479"
  },
  {
    "text": "instrumentation observability tools",
    "start": "114479",
    "end": "116640"
  },
  {
    "text": "things like pixie and Hubble that",
    "start": "116640",
    "end": "118520"
  },
  {
    "text": "provide real-time service map and layer",
    "start": "118520",
    "end": "120719"
  },
  {
    "text": "7",
    "start": "120719",
    "end": "122119"
  },
  {
    "text": "visibility through the power of ebpf",
    "start": "122119",
    "end": "124600"
  },
  {
    "text": "they instrument all Network traffic",
    "start": "124600",
    "end": "126560"
  },
  {
    "text": "providing full visibility of an",
    "start": "126560",
    "end": "128319"
  },
  {
    "text": "environment this means there's no blind",
    "start": "128319",
    "end": "130440"
  },
  {
    "text": "spots nothing gets missed nothing needs",
    "start": "130440",
    "end": "133040"
  },
  {
    "text": "to be manually",
    "start": "133040",
    "end": "134800"
  },
  {
    "text": "instrumented and because their ability",
    "start": "134800",
    "end": "137480"
  },
  {
    "text": "to Peak in at the layer 7even level this",
    "start": "137480",
    "end": "140080"
  },
  {
    "text": "allows us to analyze access patterns and",
    "start": "140080",
    "end": "142599"
  },
  {
    "text": "scope access rules",
    "start": "142599",
    "end": "145560"
  },
  {
    "text": "accordingly on the Le hand side here",
    "start": "145760",
    "end": "147920"
  },
  {
    "text": "this is a picture of what the pixie UI",
    "start": "147920",
    "end": "149480"
  },
  {
    "text": "looks like",
    "start": "149480",
    "end": "150480"
  },
  {
    "text": "we have a you know Network flow graph",
    "start": "150480",
    "end": "153200"
  },
  {
    "text": "that shows kind of how all the",
    "start": "153200",
    "end": "154280"
  },
  {
    "text": "microservices are connected on the right",
    "start": "154280",
    "end": "156720"
  },
  {
    "text": "hand side is Hubble which shows a",
    "start": "156720",
    "end": "159360"
  },
  {
    "text": "similar view and also is able to point",
    "start": "159360",
    "end": "161440"
  },
  {
    "text": "out that these htdp services are talking",
    "start": "161440",
    "end": "163959"
  },
  {
    "text": "to kofka zookeeper and elastic search",
    "start": "163959",
    "end": "168680"
  },
  {
    "text": "downstreams so the goal of this talk is",
    "start": "169000",
    "end": "171440"
  },
  {
    "text": "that we are going to close Au Z policy",
    "start": "171440",
    "end": "173599"
  },
  {
    "text": "gaps as traffic evolves we're going to",
    "start": "173599",
    "end": "176640"
  },
  {
    "text": "leverage these powerful ebpf tools to",
    "start": "176640",
    "end": "179519"
  },
  {
    "text": "keep authorization policies in sync with",
    "start": "179519",
    "end": "181920"
  },
  {
    "text": "existing traffic and we're going to set",
    "start": "181920",
    "end": "184720"
  },
  {
    "text": "the foundation for future extension to",
    "start": "184720",
    "end": "187319"
  },
  {
    "text": "provide least privilege access on a",
    "start": "187319",
    "end": "189080"
  },
  {
    "text": "layer 7even",
    "start": "189080",
    "end": "190799"
  },
  {
    "text": "basis so we're going to be talking about",
    "start": "190799",
    "end": "193720"
  },
  {
    "text": "Pixie and other cncf components um but",
    "start": "193720",
    "end": "197200"
  },
  {
    "text": "really this will fit into any",
    "start": "197200",
    "end": "199040"
  },
  {
    "text": "architecture you probably have your own",
    "start": "199040",
    "end": "201519"
  },
  {
    "text": "authentication already you probably have",
    "start": "201519",
    "end": "204200"
  },
  {
    "text": "your own authorization in place um so",
    "start": "204200",
    "end": "207200"
  },
  {
    "text": "pixie is the thing that we're going to",
    "start": "207200",
    "end": "209040"
  },
  {
    "text": "use to work with any of those tools um",
    "start": "209040",
    "end": "212159"
  },
  {
    "text": "but for the purposes of this talk we",
    "start": "212159",
    "end": "213799"
  },
  {
    "text": "will have a reference architecture and",
    "start": "213799",
    "end": "215840"
  },
  {
    "text": "so for this reference architecture we",
    "start": "215840",
    "end": "218200"
  },
  {
    "text": "are going to use Mutual TLS for the",
    "start": "218200",
    "end": "220560"
  },
  {
    "text": "authentication we are going to use Envoy",
    "start": "220560",
    "end": "223159"
  },
  {
    "text": "and the open policy agent for",
    "start": "223159",
    "end": "225680"
  },
  {
    "text": "authorization we're going to use pixie",
    "start": "225680",
    "end": "227680"
  },
  {
    "text": "to inspect the live traffic and do the",
    "start": "227680",
    "end": "229360"
  },
  {
    "text": "data processing we need to actually",
    "start": "229360",
    "end": "232400"
  },
  {
    "text": "generate the policies and the final step",
    "start": "232400",
    "end": "235640"
  },
  {
    "text": "uh is going to be orchestrated by spark",
    "start": "235640",
    "end": "237200"
  },
  {
    "text": "to actually kind of do the final",
    "start": "237200",
    "end": "238840"
  },
  {
    "text": "generation",
    "start": "238840",
    "end": "240480"
  },
  {
    "text": "and so this is a proof of concept but it",
    "start": "240480",
    "end": "242640"
  },
  {
    "text": "really lays the foundation for how using",
    "start": "242640",
    "end": "245599"
  },
  {
    "text": "pixie and other tools like this can um",
    "start": "245599",
    "end": "248560"
  },
  {
    "text": "be applied to your technology",
    "start": "248560",
    "end": "251879"
  },
  {
    "text": "stack all right so our automatic",
    "start": "252239",
    "end": "255079"
  },
  {
    "text": "authorization Playbook is going to",
    "start": "255079",
    "end": "256600"
  },
  {
    "text": "really center around these four things",
    "start": "256600",
    "end": "258799"
  },
  {
    "text": "now I know this is a kind of busy",
    "start": "258799",
    "end": "260359"
  },
  {
    "text": "diagram but we're kind of we're going to",
    "start": "260359",
    "end": "261799"
  },
  {
    "text": "step through each of these sequentially",
    "start": "261799",
    "end": "264120"
  },
  {
    "text": "and so like I was saying before you're",
    "start": "264120",
    "end": "266360"
  },
  {
    "text": "going to bring your own authentication",
    "start": "266360",
    "end": "268280"
  },
  {
    "text": "authorization and policy generation and",
    "start": "268280",
    "end": "271280"
  },
  {
    "text": "pixie is the piece that's going to be",
    "start": "271280",
    "end": "273000"
  },
  {
    "text": "able to work with any components that",
    "start": "273000",
    "end": "275720"
  },
  {
    "text": "you already have that are",
    "start": "275720",
    "end": "277240"
  },
  {
    "text": "existing um so Step One is we need to",
    "start": "277240",
    "end": "280600"
  },
  {
    "text": "understand our authentication layer and",
    "start": "280600",
    "end": "282080"
  },
  {
    "text": "we need to figure out how we are going",
    "start": "282080",
    "end": "285360"
  },
  {
    "text": "to access it um are because we have",
    "start": "285360",
    "end": "290120"
  },
  {
    "text": "mutual TLS Sears um when Envoy sends the",
    "start": "290120",
    "end": "293759"
  },
  {
    "text": "request down to the backend service that",
    "start": "293759",
    "end": "296440"
  },
  {
    "text": "span is going to have the authentication",
    "start": "296440",
    "end": "298560"
  },
  {
    "text": "details that we're going to pull pull",
    "start": "298560",
    "end": "299840"
  },
  {
    "text": "out from pixie and",
    "start": "299840",
    "end": "302039"
  },
  {
    "text": "transform coming into the authorization",
    "start": "302039",
    "end": "304440"
  },
  {
    "text": "piece we're using the open policy agent",
    "start": "304440",
    "end": "307160"
  },
  {
    "text": "and so that is going to have to take",
    "start": "307160",
    "end": "309440"
  },
  {
    "text": "these authentication details and",
    "start": "309440",
    "end": "311240"
  },
  {
    "text": "ultimately turn it into the policy check",
    "start": "311240",
    "end": "313560"
  },
  {
    "text": "that we",
    "start": "313560",
    "end": "314360"
  },
  {
    "text": "want um pixie is going to be basically",
    "start": "314360",
    "end": "318440"
  },
  {
    "text": "the input we are going to be getting all",
    "start": "318440",
    "end": "320199"
  },
  {
    "text": "of our raw network data um it's able to",
    "start": "320199",
    "end": "324240"
  },
  {
    "text": "basically augment and annotate it so we",
    "start": "324240",
    "end": "327000"
  },
  {
    "text": "can add in the authentication details of",
    "start": "327000",
    "end": "329280"
  },
  {
    "text": "the sour",
    "start": "329280",
    "end": "330600"
  },
  {
    "text": "destination um and transform it into a",
    "start": "330600",
    "end": "333360"
  },
  {
    "text": "form that's easier for data processing",
    "start": "333360",
    "end": "335720"
  },
  {
    "text": "and then it supports open Telemetry",
    "start": "335720",
    "end": "337240"
  },
  {
    "text": "export so we're going to send it",
    "start": "337240",
    "end": "339199"
  },
  {
    "text": "Downstream to The otel Collector which",
    "start": "339199",
    "end": "341360"
  },
  {
    "text": "eventually will get into object storage",
    "start": "341360",
    "end": "344039"
  },
  {
    "text": "and then from there the final piece is",
    "start": "344039",
    "end": "345840"
  },
  {
    "text": "that Apache spark is going to ultimately",
    "start": "345840",
    "end": "348199"
  },
  {
    "text": "generate the OPA",
    "start": "348199",
    "end": "350199"
  },
  {
    "text": "policies and when we put all of these",
    "start": "350199",
    "end": "352800"
  },
  {
    "text": "pieces together we're going to have a",
    "start": "352800",
    "end": "354759"
  },
  {
    "text": "system that when spark generates the",
    "start": "354759",
    "end": "357400"
  },
  {
    "text": "policies and they get pushed to GitHub",
    "start": "357400",
    "end": "359639"
  },
  {
    "text": "Opa automatically picks up the latest",
    "start": "359639",
    "end": "361800"
  },
  {
    "text": "thing and Scopes the policies",
    "start": "361800",
    "end": "364680"
  },
  {
    "text": "accordingly now we're going to we're",
    "start": "364680",
    "end": "366400"
  },
  {
    "text": "going to step through each of these one",
    "start": "366400",
    "end": "367440"
  },
  {
    "text": "by one so I know this is a busy diagram",
    "start": "367440",
    "end": "369440"
  },
  {
    "text": "but we will go build it step by",
    "start": "369440",
    "end": "372400"
  },
  {
    "text": "step and so the first piece is the",
    "start": "372400",
    "end": "375800"
  },
  {
    "text": "authentication how the auth",
    "start": "375800",
    "end": "377759"
  },
  {
    "text": "authentication is represented is going",
    "start": "377759",
    "end": "379599"
  },
  {
    "text": "to dictate how our authorization will",
    "start": "379599",
    "end": "381520"
  },
  {
    "text": "perform its checks for this reference",
    "start": "381520",
    "end": "384199"
  },
  {
    "text": "architecture we're going to be using",
    "start": "384199",
    "end": "385680"
  },
  {
    "text": "spiffy and mutual TLS",
    "start": "385680",
    "end": "388199"
  },
  {
    "text": "Sears spiffy is just a specification for",
    "start": "388199",
    "end": "392039"
  },
  {
    "text": "Mutual authentication and so you either",
    "start": "392039",
    "end": "395000"
  },
  {
    "text": "have it implemented in sort of a Json",
    "start": "395000",
    "end": "396759"
  },
  {
    "text": "web token or a TLS",
    "start": "396759",
    "end": "399240"
  },
  {
    "text": "certificate um there's a project called",
    "start": "399240",
    "end": "401280"
  },
  {
    "text": "Spire that implements the runtime of",
    "start": "401280",
    "end": "403160"
  },
  {
    "text": "spiffy and so that is what we are going",
    "start": "403160",
    "end": "405160"
  },
  {
    "text": "to be using for",
    "start": "405160",
    "end": "406520"
  },
  {
    "text": "this and because uh spire and spiffy are",
    "start": "406520",
    "end": "410639"
  },
  {
    "text": "part of the cncf they integrate natively",
    "start": "410639",
    "end": "413400"
  },
  {
    "text": "with a lot of service meshes and so it",
    "start": "413400",
    "end": "416960"
  },
  {
    "text": "plugs in very easily to Envoy which is",
    "start": "416960",
    "end": "419199"
  },
  {
    "text": "the service mesh will be using",
    "start": "419199",
    "end": "422879"
  },
  {
    "text": "today looking at a zoomed in view of our",
    "start": "423120",
    "end": "426160"
  },
  {
    "text": "original architecture diagram so we're",
    "start": "426160",
    "end": "428479"
  },
  {
    "text": "going to have a frontend pod and a",
    "start": "428479",
    "end": "430520"
  },
  {
    "text": "backend pod talking to each other the",
    "start": "430520",
    "end": "432840"
  },
  {
    "text": "mutual TLS because each of them have",
    "start": "432840",
    "end": "435160"
  },
  {
    "text": "their onvoy sidecars the mutual TLS is",
    "start": "435160",
    "end": "438120"
  },
  {
    "text": "going to happen between those two",
    "start": "438120",
    "end": "440199"
  },
  {
    "text": "sidecar",
    "start": "440199",
    "end": "441240"
  },
  {
    "text": "components so because pixie sees the",
    "start": "441240",
    "end": "445160"
  },
  {
    "text": "spans of everything um the one that we",
    "start": "445160",
    "end": "447879"
  },
  {
    "text": "actually really need to focus in on is",
    "start": "447879",
    "end": "449280"
  },
  {
    "text": "the one between the backend pods Envoy",
    "start": "449280",
    "end": "451919"
  },
  {
    "text": "and the backend and the reason being is",
    "start": "451919",
    "end": "454319"
  },
  {
    "text": "that the mutual TLS has already been",
    "start": "454319",
    "end": "456400"
  },
  {
    "text": "negotiated and Envoy will populate this",
    "start": "456400",
    "end": "459680"
  },
  {
    "text": "x forwarded client seert header um",
    "start": "459680",
    "end": "462840"
  },
  {
    "text": "indicating the source and destination",
    "start": "462840",
    "end": "464879"
  },
  {
    "text": "service and so that essentially provides",
    "start": "464879",
    "end": "467479"
  },
  {
    "text": "the the data that we will use to",
    "start": "467479",
    "end": "469680"
  },
  {
    "text": "transform into an opal",
    "start": "469680",
    "end": "472039"
  },
  {
    "text": "policy so if you're not familiar this",
    "start": "472039",
    "end": "475319"
  },
  {
    "text": "xfc header the two components that are",
    "start": "475319",
    "end": "478960"
  },
  {
    "text": "important are the buy piece which is",
    "start": "478960",
    "end": "481520"
  },
  {
    "text": "essentially the downstream service and",
    "start": "481520",
    "end": "483919"
  },
  {
    "text": "the URI piece which uh corresponds to",
    "start": "483919",
    "end": "487000"
  },
  {
    "text": "the Upstream service and so we we're",
    "start": "487000",
    "end": "489599"
  },
  {
    "text": "going to be keep keeping talking about",
    "start": "489599",
    "end": "491919"
  },
  {
    "text": "this so um this is something we're going",
    "start": "491919",
    "end": "493879"
  },
  {
    "text": "to circle back",
    "start": "493879",
    "end": "496720"
  },
  {
    "text": "to moving on to the authorization layer",
    "start": "496720",
    "end": "500440"
  },
  {
    "text": "I mentioned that we will be using Envoy",
    "start": "500440",
    "end": "502919"
  },
  {
    "text": "and so Envoy has a means for doing",
    "start": "502919",
    "end": "505960"
  },
  {
    "text": "external authorization checks through",
    "start": "505960",
    "end": "508240"
  },
  {
    "text": "its EXT z uh filter and what this",
    "start": "508240",
    "end": "512919"
  },
  {
    "text": "facilitates is you basically can have a",
    "start": "512919",
    "end": "515479"
  },
  {
    "text": "authorization service and onvoy will",
    "start": "515479",
    "end": "518399"
  },
  {
    "text": "send a request to it before it proxies",
    "start": "518399",
    "end": "521399"
  },
  {
    "text": "the request to the to the intended",
    "start": "521399",
    "end": "523440"
  },
  {
    "text": "service and so what this provides us",
    "start": "523440",
    "end": "525839"
  },
  {
    "text": "with it it's the way that we can hook",
    "start": "525839",
    "end": "528399"
  },
  {
    "text": "into the service mes system and actually",
    "start": "528399",
    "end": "530399"
  },
  {
    "text": "enforce the",
    "start": "530399",
    "end": "531519"
  },
  {
    "text": "policies and so we are going to use the",
    "start": "531519",
    "end": "534120"
  },
  {
    "text": "open policy agent which is a popular",
    "start": "534120",
    "end": "537160"
  },
  {
    "text": "policy engine that has a native",
    "start": "537160",
    "end": "538839"
  },
  {
    "text": "integration with Envoy so essentially we",
    "start": "538839",
    "end": "541440"
  },
  {
    "text": "can just write our policy and the two",
    "start": "541440",
    "end": "545160"
  },
  {
    "text": "already know how to uh allow or deny the",
    "start": "545160",
    "end": "549320"
  },
  {
    "text": "traffic based on if our policy deems",
    "start": "549320",
    "end": "551720"
  },
  {
    "text": "it's acceptable and so this is just a",
    "start": "551720",
    "end": "555720"
  },
  {
    "text": "sample um policy on the right hand side",
    "start": "555720",
    "end": "558279"
  },
  {
    "text": "here but what the core details are is",
    "start": "558279",
    "end": "560920"
  },
  {
    "text": "that Opa provides the means for",
    "start": "560920",
    "end": "563399"
  },
  {
    "text": "accessing htdp headers and also uh",
    "start": "563399",
    "end": "567279"
  },
  {
    "text": "details about the HTTP request that",
    "start": "567279",
    "end": "569600"
  },
  {
    "text": "being like the HTTP method and the URL",
    "start": "569600",
    "end": "573720"
  },
  {
    "text": "and so when we think back to the policy",
    "start": "573720",
    "end": "576000"
  },
  {
    "text": "that we're going to generate we're",
    "start": "576000",
    "end": "577640"
  },
  {
    "text": "basically going to take that xfc header",
    "start": "577640",
    "end": "581200"
  },
  {
    "text": "and also the method and URI in order to",
    "start": "581200",
    "end": "584760"
  },
  {
    "text": "transform that into a policy that works",
    "start": "584760",
    "end": "587240"
  },
  {
    "text": "at the layer 7",
    "start": "587240",
    "end": "590040"
  },
  {
    "text": "Level so building off our previous",
    "start": "590120",
    "end": "593040"
  },
  {
    "text": "diagram this request in red is the new",
    "start": "593040",
    "end": "596000"
  },
  {
    "text": "addition and so like I said before Envoy",
    "start": "596000",
    "end": "600000"
  },
  {
    "text": "is going to reach out to Opa send it hey",
    "start": "600000",
    "end": "602800"
  },
  {
    "text": "here's this request that I'm about to",
    "start": "602800",
    "end": "604120"
  },
  {
    "text": "send to the back end and opa will decide",
    "start": "604120",
    "end": "606440"
  },
  {
    "text": "whether it is should be allowed or",
    "start": "606440",
    "end": "609480"
  },
  {
    "text": "not the details of that request are that",
    "start": "609480",
    "end": "612600"
  },
  {
    "text": "there's this specific check request",
    "start": "612600",
    "end": "615399"
  },
  {
    "text": "Proto but um it contains all of the",
    "start": "615399",
    "end": "619120"
  },
  {
    "text": "headers that will go to the back backend",
    "start": "619120",
    "end": "621480"
  },
  {
    "text": "service and so here again is our ex",
    "start": "621480",
    "end": "624959"
  },
  {
    "text": "forwarded client Seer header that has",
    "start": "624959",
    "end": "626920"
  },
  {
    "text": "the source and destination that we want",
    "start": "626920",
    "end": "628720"
  },
  {
    "text": "to",
    "start": "628720",
    "end": "631319"
  },
  {
    "text": "authorized okay so now going from this",
    "start": "631839",
    "end": "635320"
  },
  {
    "text": "to what our Opa policy will look like we",
    "start": "635320",
    "end": "638680"
  },
  {
    "text": "essentially if you look at that very top",
    "start": "638680",
    "end": "640839"
  },
  {
    "text": "comment on the right hand side we have",
    "start": "640839",
    "end": "642680"
  },
  {
    "text": "our",
    "start": "642680",
    "end": "643560"
  },
  {
    "text": "spiffy um xfc header and then we have to",
    "start": "643560",
    "end": "648160"
  },
  {
    "text": "parse that and turn it into destination",
    "start": "648160",
    "end": "650600"
  },
  {
    "text": "and Source",
    "start": "650600",
    "end": "652040"
  },
  {
    "text": "services and then the data that we get",
    "start": "652040",
    "end": "655360"
  },
  {
    "text": "from pixie is going to template a bunch",
    "start": "655360",
    "end": "657160"
  },
  {
    "text": "of dictionaries and other variables that",
    "start": "657160",
    "end": "659320"
  },
  {
    "text": "we will then use against that xfc header",
    "start": "659320",
    "end": "662880"
  },
  {
    "text": "and ultimately um we will check not only",
    "start": "662880",
    "end": "665839"
  },
  {
    "text": "that the source and destination service",
    "start": "665839",
    "end": "667560"
  },
  {
    "text": "should talk to each other but also if",
    "start": "667560",
    "end": "669399"
  },
  {
    "text": "their HTTP path prefix and Method",
    "start": "669399",
    "end": "674360"
  },
  {
    "text": "match all right so with the two kind of",
    "start": "674959",
    "end": "677959"
  },
  {
    "text": "prerequisites out of the way the",
    "start": "677959",
    "end": "679240"
  },
  {
    "text": "authentication and the authorization now",
    "start": "679240",
    "end": "681639"
  },
  {
    "text": "we're going to dig into the actual",
    "start": "681639",
    "end": "683920"
  },
  {
    "text": "generating of the policy but before we",
    "start": "683920",
    "end": "686160"
  },
  {
    "text": "get to that if for those that aren't",
    "start": "686160",
    "end": "688040"
  },
  {
    "text": "familiar with Pixie I wanted to give it",
    "start": "688040",
    "end": "689560"
  },
  {
    "text": "a brief introduction so the goal of",
    "start": "689560",
    "end": "691839"
  },
  {
    "text": "Pixie is performance debugging without",
    "start": "691839",
    "end": "693760"
  },
  {
    "text": "manual",
    "start": "693760",
    "end": "694639"
  },
  {
    "text": "instrumentation we do resource",
    "start": "694639",
    "end": "697120"
  },
  {
    "text": "utilization we do protocol tracing so",
    "start": "697120",
    "end": "699639"
  },
  {
    "text": "you can see the latency and payload the",
    "start": "699639",
    "end": "702440"
  },
  {
    "text": "the full payload uh which is you know",
    "start": "702440",
    "end": "704920"
  },
  {
    "text": "why we're using it in the context of",
    "start": "704920",
    "end": "706920"
  },
  {
    "text": "this automatic authorization we also do",
    "start": "706920",
    "end": "709920"
  },
  {
    "text": "uh performance profiles with flame",
    "start": "709920",
    "end": "711880"
  },
  {
    "text": "graphs and kind of the three main like",
    "start": "711880",
    "end": "714680"
  },
  {
    "text": "architecture details that are important",
    "start": "714680",
    "end": "716920"
  },
  {
    "text": "is that pixie is zero instrumentation",
    "start": "716920",
    "end": "719800"
  },
  {
    "text": "because it's powered with ebpf you don't",
    "start": "719800",
    "end": "722120"
  },
  {
    "text": "have to make application changes and we",
    "start": "722120",
    "end": "723800"
  },
  {
    "text": "see all Network traffic we have a",
    "start": "723800",
    "end": "726480"
  },
  {
    "text": "distributed architecture with an",
    "start": "726480",
    "end": "727839"
  },
  {
    "text": "in-memory data store the ebpf data",
    "start": "727839",
    "end": "730399"
  },
  {
    "text": "source is high volume and so we we",
    "start": "730399",
    "end": "732200"
  },
  {
    "text": "thought keep it there unless you need to",
    "start": "732200",
    "end": "734839"
  },
  {
    "text": "query and access it um and then the",
    "start": "734839",
    "end": "737320"
  },
  {
    "text": "final piece is that pixie is scriptable",
    "start": "737320",
    "end": "739720"
  },
  {
    "text": "through its own python pandas",
    "start": "739720",
    "end": "741680"
  },
  {
    "text": "programming language and this allows us",
    "start": "741680",
    "end": "744519"
  },
  {
    "text": "to query and process our Telemetry and",
    "start": "744519",
    "end": "747240"
  },
  {
    "text": "so in the context of this automatic",
    "start": "747240",
    "end": "749320"
  },
  {
    "text": "authorization use case the scriptability",
    "start": "749320",
    "end": "751600"
  },
  {
    "text": "of Pixie is really what like fits the",
    "start": "751600",
    "end": "755120"
  },
  {
    "text": "missing piece here is that we get our",
    "start": "755120",
    "end": "756880"
  },
  {
    "text": "Telemetry the raw network data but we'll",
    "start": "756880",
    "end": "758959"
  },
  {
    "text": "be able to turn it into the thing we",
    "start": "758959",
    "end": "760639"
  },
  {
    "text": "need to generate the",
    "start": "760639",
    "end": "763880"
  },
  {
    "text": "policies so a little bit more on the",
    "start": "763880",
    "end": "766600"
  },
  {
    "text": "scriptable components of Pixie I",
    "start": "766600",
    "end": "769079"
  },
  {
    "text": "mentioned that it is Python and",
    "start": "769079",
    "end": "771480"
  },
  {
    "text": "pandas it was built for data analysis",
    "start": "771480",
    "end": "773959"
  },
  {
    "text": "and machine learning in mind and all of",
    "start": "773959",
    "end": "776320"
  },
  {
    "text": "pixie's UI widgets and data process",
    "start": "776320",
    "end": "779720"
  },
  {
    "text": "are all powered by this language um on",
    "start": "779720",
    "end": "782480"
  },
  {
    "text": "the right hand side here you can see a",
    "start": "782480",
    "end": "784000"
  },
  {
    "text": "little snippet of what pixel looks like",
    "start": "784000",
    "end": "786680"
  },
  {
    "text": "and so like on line four this is uh",
    "start": "786680",
    "end": "790399"
  },
  {
    "text": "requesting the last 30 seconds of spans",
    "start": "790399",
    "end": "793160"
  },
  {
    "text": "of HTTP spans and then on line six pixel",
    "start": "793160",
    "end": "797440"
  },
  {
    "text": "is actually able to annotate each data",
    "start": "797440",
    "end": "800600"
  },
  {
    "text": "frame with the kubernetes Pod that that",
    "start": "800600",
    "end": "803480"
  },
  {
    "text": "frame corresponds to and then because we",
    "start": "803480",
    "end": "806320"
  },
  {
    "text": "have all of the payload and metadata we",
    "start": "806320",
    "end": "808279"
  },
  {
    "text": "can pull out things like the X forwarded",
    "start": "808279",
    "end": "810360"
  },
  {
    "text": "client seert header and do the",
    "start": "810360",
    "end": "812399"
  },
  {
    "text": "processing that we need and so um one",
    "start": "812399",
    "end": "815760"
  },
  {
    "text": "other piece is that this pixel also",
    "start": "815760",
    "end": "817480"
  },
  {
    "text": "supports otel export and so that is how",
    "start": "817480",
    "end": "819920"
  },
  {
    "text": "we're going to be integrating this into",
    "start": "819920",
    "end": "821920"
  },
  {
    "text": "the rest of our",
    "start": "821920",
    "end": "824320"
  },
  {
    "text": "pipeline all right with that background",
    "start": "824320",
    "end": "826680"
  },
  {
    "text": "out of the way let's uh look more into",
    "start": "826680",
    "end": "830360"
  },
  {
    "text": "how pixie fits this live traffic",
    "start": "830360",
    "end": "832639"
  },
  {
    "text": "inspection role so on the right hand",
    "start": "832639",
    "end": "835920"
  },
  {
    "text": "side here um one way to run this pixel",
    "start": "835920",
    "end": "840199"
  },
  {
    "text": "is through the CLI and so we are going",
    "start": "840199",
    "end": "842279"
  },
  {
    "text": "to write our export script and Trigger",
    "start": "842279",
    "end": "845120"
  },
  {
    "text": "it that way this will poke the pixie",
    "start": "845120",
    "end": "848040"
  },
  {
    "text": "control plane and ultimately trigger the",
    "start": "848040",
    "end": "850959"
  },
  {
    "text": "data collectors in your pixie",
    "start": "850959",
    "end": "852519"
  },
  {
    "text": "environment to do all the data",
    "start": "852519",
    "end": "854079"
  },
  {
    "text": "collection and",
    "start": "854079",
    "end": "855959"
  },
  {
    "text": "processing um from there we're going to",
    "start": "855959",
    "end": "858199"
  },
  {
    "text": "annotate it with the source and",
    "start": "858199",
    "end": "859680"
  },
  {
    "text": "destination kubernetes deployment pod",
    "start": "859680",
    "end": "862759"
  },
  {
    "text": "information we'll also pull out the",
    "start": "862759",
    "end": "865320"
  },
  {
    "text": "layer 7 access like the HTTP method and",
    "start": "865320",
    "end": "867880"
  },
  {
    "text": "URL and the authentication details which",
    "start": "867880",
    "end": "871040"
  },
  {
    "text": "will be the transformation of the xfc",
    "start": "871040",
    "end": "873959"
  },
  {
    "text": "header and then because it supports otel",
    "start": "873959",
    "end": "876639"
  },
  {
    "text": "export you know it'll ultimately go to",
    "start": "876639",
    "end": "878839"
  },
  {
    "text": "our otel collector and then into our",
    "start": "878839",
    "end": "880839"
  },
  {
    "text": "Object Store for further",
    "start": "880839",
    "end": "882839"
  },
  {
    "text": "processing one thing I just want to",
    "start": "882839",
    "end": "884800"
  },
  {
    "text": "mention again is that while we're",
    "start": "884800",
    "end": "886959"
  },
  {
    "text": "focused on the xfc header here because",
    "start": "886959",
    "end": "889720"
  },
  {
    "text": "pixie has the visibility for the full",
    "start": "889720",
    "end": "892040"
  },
  {
    "text": "payload whatever your authentication",
    "start": "892040",
    "end": "894279"
  },
  {
    "text": "mechanism is Pixie can still work with",
    "start": "894279",
    "end": "896480"
  },
  {
    "text": "that it's just uh you know we just have",
    "start": "896480",
    "end": "898680"
  },
  {
    "text": "to trans transform it slightly",
    "start": "898680",
    "end": "901720"
  },
  {
    "text": "differently sorry about",
    "start": "906880",
    "end": "909160"
  },
  {
    "text": "that all right so Downstream of Pixie is",
    "start": "909160",
    "end": "912560"
  },
  {
    "text": "where we are going to do the final",
    "start": "912560",
    "end": "915040"
  },
  {
    "text": "processing of the spans and the policy",
    "start": "915040",
    "end": "917959"
  },
  {
    "text": "generation so the otel collector uh S3",
    "start": "917959",
    "end": "921959"
  },
  {
    "text": "export is going to have this um S3",
    "start": "921959",
    "end": "925600"
  },
  {
    "text": "prefix that basically gets uploaded",
    "start": "925600",
    "end": "927639"
  },
  {
    "text": "every minute and and the data contained",
    "start": "927639",
    "end": "930959"
  },
  {
    "text": "at in that in those Json files is just",
    "start": "930959",
    "end": "933839"
  },
  {
    "text": "going to be like a heavily nested",
    "start": "933839",
    "end": "935319"
  },
  {
    "text": "version of what I have represented here",
    "start": "935319",
    "end": "938040"
  },
  {
    "text": "um there's a lot more information in the",
    "start": "938040",
    "end": "940399"
  },
  {
    "text": "OTP protocol but for our purposes",
    "start": "940399",
    "end": "942480"
  },
  {
    "text": "there's really just these four",
    "start": "942480",
    "end": "943680"
  },
  {
    "text": "components that we care about which are",
    "start": "943680",
    "end": "946480"
  },
  {
    "text": "The Source service which is the buy",
    "start": "946480",
    "end": "949079"
  },
  {
    "text": "piece the destination",
    "start": "949079",
    "end": "951360"
  },
  {
    "text": "service sorry I had those flipped the",
    "start": "951360",
    "end": "953720"
  },
  {
    "text": "URI and buy are the source and",
    "start": "953720",
    "end": "956160"
  },
  {
    "text": "destination respectively the HTTP method",
    "start": "956160",
    "end": "959759"
  },
  {
    "text": "and the HTTP",
    "start": "959759",
    "end": "961240"
  },
  {
    "text": "URL and so the final piece of the puzzle",
    "start": "961240",
    "end": "964160"
  },
  {
    "text": "is that spark is going to take this",
    "start": "964160",
    "end": "965720"
  },
  {
    "text": "input file these input files and",
    "start": "965720",
    "end": "968839"
  },
  {
    "text": "Aggregate and output policy files that",
    "start": "968839",
    "end": "971839"
  },
  {
    "text": "fits this sort of directory",
    "start": "971839",
    "end": "973959"
  },
  {
    "text": "structure and the reason why we have",
    "start": "973959",
    "end": "976399"
  },
  {
    "text": "this structure in place is just to Aid",
    "start": "976399",
    "end": "979000"
  },
  {
    "text": "the code generation and make the final",
    "start": "979000",
    "end": "980839"
  },
  {
    "text": "files like easy to understand but the",
    "start": "980839",
    "end": "983399"
  },
  {
    "text": "high level is that this Imports",
    "start": "983399",
    "end": "985639"
  },
  {
    "text": "directory will have a file for each",
    "start": "985639",
    "end": "987920"
  },
  {
    "text": "backend service",
    "start": "987920",
    "end": "989800"
  },
  {
    "text": "and each of those files is essentially",
    "start": "989800",
    "end": "992240"
  },
  {
    "text": "going to define the source services that",
    "start": "992240",
    "end": "995360"
  },
  {
    "text": "have communicated with it and a list of",
    "start": "995360",
    "end": "998759"
  },
  {
    "text": "URL and HTTP methods that uh that are",
    "start": "998759",
    "end": "1003160"
  },
  {
    "text": "that should be allowed and then the OPA",
    "start": "1003160",
    "end": "1006040"
  },
  {
    "text": "policy. REO file ultimately will import",
    "start": "1006040",
    "end": "1009680"
  },
  {
    "text": "all of these import files and then have",
    "start": "1009680",
    "end": "1012440"
  },
  {
    "text": "that um authorization checks that we",
    "start": "1012440",
    "end": "1014959"
  },
  {
    "text": "looked at from the previous slide",
    "start": "1014959",
    "end": "1019120"
  },
  {
    "text": "with that I'd like to show a demo of how",
    "start": "1019680",
    "end": "1021759"
  },
  {
    "text": "this works in action and how we can",
    "start": "1021759",
    "end": "1024438"
  },
  {
    "text": "create this semi- realtime system where",
    "start": "1024439",
    "end": "1027760"
  },
  {
    "text": "we you know uh process these spans",
    "start": "1027760",
    "end": "1031839"
  },
  {
    "text": "consume them from S3 push them to GitHub",
    "start": "1031839",
    "end": "1034360"
  },
  {
    "text": "and have Opa automatically pick up the",
    "start": "1034360",
    "end": "1037120"
  },
  {
    "text": "changes hello now that we've seen all",
    "start": "1037120",
    "end": "1040918"
  },
  {
    "text": "the details of how this architecture is",
    "start": "1040919",
    "end": "1042678"
  },
  {
    "text": "going to work let's dive into the",
    "start": "1042679",
    "end": "1045640"
  },
  {
    "text": "demo so this diagram should familiar at",
    "start": "1045640",
    "end": "1049559"
  },
  {
    "text": "this point but we have all of the",
    "start": "1049559",
    "end": "1051960"
  },
  {
    "text": "components we need to have uh this",
    "start": "1051960",
    "end": "1055880"
  },
  {
    "text": "feedback loop where our tracing captured",
    "start": "1055880",
    "end": "1060000"
  },
  {
    "text": "by Pixie",
    "start": "1060000",
    "end": "1061720"
  },
  {
    "text": "informs our uh op generation spark job",
    "start": "1061720",
    "end": "1067160"
  },
  {
    "text": "which then eventually feeds into our",
    "start": "1067160",
    "end": "1070559"
  },
  {
    "text": "authorization so let's just do a brief",
    "start": "1070559",
    "end": "1073039"
  },
  {
    "text": "recap of everything here so at this",
    "start": "1073039",
    "end": "1076000"
  },
  {
    "text": "bottom part here we have our",
    "start": "1076000",
    "end": "1077600"
  },
  {
    "text": "authentication layer we're using mtls",
    "start": "1077600",
    "end": "1081080"
  },
  {
    "text": "between the front ends Envoy and the",
    "start": "1081080",
    "end": "1084120"
  },
  {
    "text": "back ends",
    "start": "1084120",
    "end": "1085280"
  },
  {
    "text": "Envoy for this demo we're actually going",
    "start": "1085280",
    "end": "1087960"
  },
  {
    "text": "to have a front end and a front end-2",
    "start": "1087960",
    "end": "1091880"
  },
  {
    "text": "pod and what we will see is that we are",
    "start": "1091880",
    "end": "1095200"
  },
  {
    "text": "going to simulate what happens when the",
    "start": "1095200",
    "end": "1097480"
  },
  {
    "text": "frontend twood gets decommissioned and",
    "start": "1097480",
    "end": "1100520"
  },
  {
    "text": "we'll watch as this automation is able",
    "start": "1100520",
    "end": "1102840"
  },
  {
    "text": "to revoke access of the front end to pod",
    "start": "1102840",
    "end": "1106280"
  },
  {
    "text": "from the back end pod",
    "start": "1106280",
    "end": "1109200"
  },
  {
    "text": "coming back to these details so the span",
    "start": "1109200",
    "end": "1112799"
  },
  {
    "text": "that pixie is going to be capturing is",
    "start": "1112799",
    "end": "1115320"
  },
  {
    "text": "the one between Envoy and backend",
    "start": "1115320",
    "end": "1117720"
  },
  {
    "text": "service this is because that's where all",
    "start": "1117720",
    "end": "1120120"
  },
  {
    "text": "of our Rich authentication details occur",
    "start": "1120120",
    "end": "1123760"
  },
  {
    "text": "um once Envoy decides it's going to",
    "start": "1123760",
    "end": "1125400"
  },
  {
    "text": "forward the request",
    "start": "1125400",
    "end": "1127559"
  },
  {
    "text": "through",
    "start": "1127559",
    "end": "1129320"
  },
  {
    "text": "um so from there we have our",
    "start": "1129320",
    "end": "1131720"
  },
  {
    "text": "authorization layer which is Opa and it",
    "start": "1131720",
    "end": "1134799"
  },
  {
    "text": "is going to be pulling a specific GitHub",
    "start": "1134799",
    "end": "1137240"
  },
  {
    "text": "URL for it bundle which is essentially a",
    "start": "1137240",
    "end": "1140520"
  },
  {
    "text": "tar of all of the policy files so what",
    "start": "1140520",
    "end": "1144679"
  },
  {
    "text": "we're going to do is we're going to",
    "start": "1144679",
    "end": "1145960"
  },
  {
    "text": "start with a default allow policy file",
    "start": "1145960",
    "end": "1149880"
  },
  {
    "text": "and all of the traffic between front end",
    "start": "1149880",
    "end": "1152440"
  },
  {
    "text": "and front end two will flow freely from",
    "start": "1152440",
    "end": "1154880"
  },
  {
    "text": "to the back end pile we are then going",
    "start": "1154880",
    "end": "1157600"
  },
  {
    "text": "to run this export script which is going",
    "start": "1157600",
    "end": "1160559"
  },
  {
    "text": "to trigger pixie's capturing of the data",
    "start": "1160559",
    "end": "1163799"
  },
  {
    "text": "its enrichment of the spans with the",
    "start": "1163799",
    "end": "1166039"
  },
  {
    "text": "authentication and letter 7 details and",
    "start": "1166039",
    "end": "1168960"
  },
  {
    "text": "ultimately end up in our S3 bucket and",
    "start": "1168960",
    "end": "1172000"
  },
  {
    "text": "then we are going to run our spark job",
    "start": "1172000",
    "end": "1174039"
  },
  {
    "text": "and basically regenerate policies based",
    "start": "1174039",
    "end": "1177440"
  },
  {
    "text": "on the traffic and we will push that to",
    "start": "1177440",
    "end": "1180720"
  },
  {
    "text": "GitHub and we will show that the",
    "start": "1180720",
    "end": "1183600"
  },
  {
    "text": "difference between a default allow and",
    "start": "1183600",
    "end": "1185360"
  },
  {
    "text": "our generated policy is a noop and",
    "start": "1185360",
    "end": "1188120"
  },
  {
    "text": "traffic continues to flow",
    "start": "1188120",
    "end": "1190320"
  },
  {
    "text": "freely from that point we are going to",
    "start": "1190320",
    "end": "1192720"
  },
  {
    "text": "decommission the front end tup",
    "start": "1192720",
    "end": "1194919"
  },
  {
    "text": "pod and then we will wait 5 minutes",
    "start": "1194919",
    "end": "1199760"
  },
  {
    "text": "until uh those spans are no longer being",
    "start": "1199760",
    "end": "1202640"
  },
  {
    "text": "produced um since pixie's look back",
    "start": "1202640",
    "end": "1204960"
  },
  {
    "text": "window for our export script is 5",
    "start": "1204960",
    "end": "1207559"
  },
  {
    "text": "minutes and then when we restart this",
    "start": "1207559",
    "end": "1210320"
  },
  {
    "text": "process all over again the next pixie",
    "start": "1210320",
    "end": "1213159"
  },
  {
    "text": "export is actually not going to contain",
    "start": "1213159",
    "end": "1215919"
  },
  {
    "text": "any front-end two spans and so then when",
    "start": "1215919",
    "end": "1218400"
  },
  {
    "text": "our spark job goes to regenerate",
    "start": "1218400",
    "end": "1220480"
  },
  {
    "text": "policies we will no longer have that",
    "start": "1220480",
    "end": "1222960"
  },
  {
    "text": "present and we will shut off traffic",
    "start": "1222960",
    "end": "1226200"
  },
  {
    "text": "from that non-existent service Mak",
    "start": "1226200",
    "end": "1228640"
  },
  {
    "text": "making sure that our uh oy policies",
    "start": "1228640",
    "end": "1232840"
  },
  {
    "text": "remain up to date with the services that",
    "start": "1232840",
    "end": "1236280"
  },
  {
    "text": "are real and prevent any security Mis",
    "start": "1236280",
    "end": "1239559"
  },
  {
    "text": "configuration",
    "start": "1239559",
    "end": "1241880"
  },
  {
    "text": "TRS all right with that so the",
    "start": "1241880",
    "end": "1247200"
  },
  {
    "text": "all in the pixie demos repo underneath",
    "start": "1247360",
    "end": "1250919"
  },
  {
    "text": "this automatic offy on boy Opa directory",
    "start": "1250919",
    "end": "1254760"
  },
  {
    "text": "the read me here tells details on how to",
    "start": "1254760",
    "end": "1257720"
  },
  {
    "text": "get set up and what prerequisites you",
    "start": "1257720",
    "end": "1259679"
  },
  {
    "text": "have to do I've already gone ahead and",
    "start": "1259679",
    "end": "1262120"
  },
  {
    "text": "installed all of the components on my",
    "start": "1262120",
    "end": "1264559"
  },
  {
    "text": "cluster so we are ready to",
    "start": "1264559",
    "end": "1267520"
  },
  {
    "text": "go so I've had my cluster running here",
    "start": "1267520",
    "end": "1271520"
  },
  {
    "text": "for a few minutes now we can see that",
    "start": "1271520",
    "end": "1273960"
  },
  {
    "text": "there is the front end two pod and the",
    "start": "1273960",
    "end": "1277320"
  },
  {
    "text": "front end pod the front end pods URLs",
    "start": "1277320",
    "end": "1281960"
  },
  {
    "text": "are all suffixed with underscore one",
    "start": "1281960",
    "end": "1284640"
  },
  {
    "text": "while the front end two pods are",
    "start": "1284640",
    "end": "1286159"
  },
  {
    "text": "suffixed with underscore two",
    "start": "1286159",
    "end": "1289880"
  },
  {
    "text": "so we can see here that this is the",
    "start": "1289880",
    "end": "1292520"
  },
  {
    "text": "current Opa policy Rego file and it's",
    "start": "1292520",
    "end": "1295880"
  },
  {
    "text": "just allowing all",
    "start": "1295880",
    "end": "1297960"
  },
  {
    "text": "traffic uh now it is time for us to run",
    "start": "1297960",
    "end": "1301520"
  },
  {
    "text": "our export script basically have pixie",
    "start": "1301520",
    "end": "1304760"
  },
  {
    "text": "dump all of our data in",
    "start": "1304760",
    "end": "1308200"
  },
  {
    "text": "S3 in order to show that the data is",
    "start": "1311799",
    "end": "1314840"
  },
  {
    "text": "going to be newly",
    "start": "1314840",
    "end": "1316799"
  },
  {
    "text": "populated I am going to show what data",
    "start": "1316799",
    "end": "1321720"
  },
  {
    "text": "already exists so we exported the data",
    "start": "1321720",
    "end": "1325520"
  },
  {
    "text": "on minute",
    "start": "1325520",
    "end": "1326880"
  },
  {
    "text": "16 and we are now going to run this",
    "start": "1326880",
    "end": "1329120"
  },
  {
    "text": "export",
    "start": "1329120",
    "end": "1331480"
  },
  {
    "text": "script and from there we can see minute",
    "start": "1334440",
    "end": "1337159"
  },
  {
    "text": "40 uh has just been",
    "start": "1337159",
    "end": "1339640"
  },
  {
    "text": "uploaded now that contains the spans of",
    "start": "1339640",
    "end": "1342679"
  },
  {
    "text": "both the front end and front end two",
    "start": "1342679",
    "end": "1344240"
  },
  {
    "text": "pods so we can now run this SP job",
    "start": "1344240",
    "end": "1349320"
  },
  {
    "text": "which for right now is just a command",
    "start": "1349320",
    "end": "1350840"
  },
  {
    "text": "line utility to run spark in a local",
    "start": "1350840",
    "end": "1353559"
  },
  {
    "text": "mode but in a real production setting",
    "start": "1353559",
    "end": "1355559"
  },
  {
    "text": "you would run this on an actual spark",
    "start": "1355559",
    "end": "1357679"
  },
  {
    "text": "cluster since your data volume would be",
    "start": "1357679",
    "end": "1359880"
  },
  {
    "text": "much larger all right from there we can",
    "start": "1359880",
    "end": "1363679"
  },
  {
    "text": "see that this Opa Imports directory was",
    "start": "1363679",
    "end": "1366760"
  },
  {
    "text": "added which is the directory that we",
    "start": "1366760",
    "end": "1369039"
  },
  {
    "text": "looked at",
    "start": "1369039",
    "end": "1372240"
  },
  {
    "text": "previously and we can see that the",
    "start": "1372240",
    "end": "1374520"
  },
  {
    "text": "backend service has two valid sources",
    "start": "1374520",
    "end": "1377320"
  },
  {
    "text": "front end front end to and the URLs",
    "start": "1377320",
    "end": "1380320"
  },
  {
    "text": "correspond to what we",
    "start": "1380320",
    "end": "1383279"
  },
  {
    "text": "expect Al also the um Opa policy file is",
    "start": "1383279",
    "end": "1387919"
  },
  {
    "text": "now no longer default allow it now you",
    "start": "1387919",
    "end": "1391039"
  },
  {
    "text": "know is looking at that X forwarded",
    "start": "1391039",
    "end": "1393520"
  },
  {
    "text": "client seert header um and also",
    "start": "1393520",
    "end": "1397000"
  },
  {
    "text": "performing layer 7even access by",
    "start": "1397000",
    "end": "1399279"
  },
  {
    "text": "checking the HTP method and the path",
    "start": "1399279",
    "end": "1401840"
  },
  {
    "text": "prefix",
    "start": "1401840",
    "end": "1402960"
  },
  {
    "text": "matches um and ultimately performs the",
    "start": "1402960",
    "end": "1405720"
  },
  {
    "text": "authorization",
    "start": "1405720",
    "end": "1407159"
  },
  {
    "text": "check so that we need to build another",
    "start": "1407159",
    "end": "1411279"
  },
  {
    "text": "bundle and push that to GitHub and then",
    "start": "1411279",
    "end": "1413880"
  },
  {
    "text": "opo will take over from there and",
    "start": "1413880",
    "end": "1415720"
  },
  {
    "text": "actually once it texts that the bundle",
    "start": "1415720",
    "end": "1418679"
  },
  {
    "text": "has been updated it's going to",
    "start": "1418679",
    "end": "1419760"
  },
  {
    "text": "automatically F",
    "start": "1419760",
    "end": "1422799"
  },
  {
    "text": "rules from there I'm going to speed this",
    "start": "1426760",
    "end": "1429039"
  },
  {
    "text": "up until the policy is updated the OPA",
    "start": "1429039",
    "end": "1432600"
  },
  {
    "text": "agent has now accepted that bundle and",
    "start": "1432600",
    "end": "1436000"
  },
  {
    "text": "we can see that both services are still",
    "start": "1436000",
    "end": "1440520"
  },
  {
    "text": "freely getting 200 response",
    "start": "1440520",
    "end": "1443360"
  },
  {
    "text": "codes so despite us actually applying a",
    "start": "1443360",
    "end": "1448559"
  },
  {
    "text": "policy um we've properly accounted for",
    "start": "1448559",
    "end": "1452200"
  },
  {
    "text": "all the traffic that exist between these",
    "start": "1452200",
    "end": "1456039"
  },
  {
    "text": "services from here we are going to",
    "start": "1456039",
    "end": "1458480"
  },
  {
    "text": "delete the front end two deployment and",
    "start": "1458480",
    "end": "1462159"
  },
  {
    "text": "then regenerate the over policies again",
    "start": "1462159",
    "end": "1465360"
  },
  {
    "text": "and we're going to see that uh the pixie",
    "start": "1465360",
    "end": "1469320"
  },
  {
    "text": "traces and the spark job will ultimately",
    "start": "1469320",
    "end": "1472679"
  },
  {
    "text": "remove the permissions that no longer",
    "start": "1472679",
    "end": "1475600"
  },
  {
    "text": "make sense since the traffic is no",
    "start": "1475600",
    "end": "1477279"
  },
  {
    "text": "longer",
    "start": "1477279",
    "end": "1479640"
  },
  {
    "text": "there since our pixie script has some",
    "start": "1485440",
    "end": "1488240"
  },
  {
    "text": "look back",
    "start": "1488240",
    "end": "1489320"
  },
  {
    "text": "window",
    "start": "1489320",
    "end": "1491159"
  },
  {
    "text": "defined which we can see here",
    "start": "1491159",
    "end": "1496080"
  },
  {
    "text": "five minutes I'm go to speed this up and",
    "start": "1499520",
    "end": "1502240"
  },
  {
    "text": "then resume once the spans have aged out",
    "start": "1502240",
    "end": "1506240"
  },
  {
    "text": "of that time it's been five minutes",
    "start": "1506240",
    "end": "1508480"
  },
  {
    "text": "since that pod is terminated so we are",
    "start": "1508480",
    "end": "1511159"
  },
  {
    "text": "going to go back here and r on pixie",
    "start": "1511159",
    "end": "1514559"
  },
  {
    "text": "export",
    "start": "1514559",
    "end": "1517000"
  },
  {
    "text": "script you can see there's been a new",
    "start": "1519679",
    "end": "1521960"
  },
  {
    "text": "minute of data orted",
    "start": "1521960",
    "end": "1526039"
  },
  {
    "text": "and from there we can run sport job and",
    "start": "1531039",
    "end": "1536720"
  },
  {
    "text": "regenerate and regenerate our",
    "start": "1537159",
    "end": "1539080"
  },
  {
    "text": "authorization policies and the front end",
    "start": "1539080",
    "end": "1542120"
  },
  {
    "text": "two service should now be",
    "start": "1542120",
    "end": "1545600"
  },
  {
    "text": "removed and we can see here it was in",
    "start": "1547120",
    "end": "1550000"
  },
  {
    "text": "fact all of the method prefixes for that",
    "start": "1550000",
    "end": "1553679"
  },
  {
    "text": "service were completely",
    "start": "1553679",
    "end": "1556640"
  },
  {
    "text": "removed and from there we can go ahead",
    "start": "1556640",
    "end": "1560600"
  },
  {
    "text": "and regenerate the bundle push that out",
    "start": "1560600",
    "end": "1564279"
  },
  {
    "text": "to GitHub and the OPA agent will",
    "start": "1564279",
    "end": "1568679"
  },
  {
    "text": "eventually pick that back up and then",
    "start": "1568679",
    "end": "1571480"
  },
  {
    "text": "you know we close the gap preventing any",
    "start": "1571480",
    "end": "1574000"
  },
  {
    "text": "issues where there is any security drift",
    "start": "1574000",
    "end": "1577440"
  },
  {
    "text": "and so our microservice environment and",
    "start": "1577440",
    "end": "1580240"
  },
  {
    "text": "our off Z policies are kept in lock step",
    "start": "1580240",
    "end": "1584320"
  },
  {
    "text": "as our environment evolves our offse",
    "start": "1584320",
    "end": "1586840"
  },
  {
    "text": "policies follow",
    "start": "1586840",
    "end": "1590240"
  },
  {
    "text": "all right so hopefully that gives you a",
    "start": "1593320",
    "end": "1595840"
  },
  {
    "text": "picture of how this system would work",
    "start": "1595840",
    "end": "1598039"
  },
  {
    "text": "end to",
    "start": "1598039",
    "end": "1600398"
  },
  {
    "text": "end so what I see for the future um the",
    "start": "1606080",
    "end": "1610600"
  },
  {
    "text": "current um layer 7 policy check is",
    "start": "1610600",
    "end": "1613559"
  },
  {
    "text": "essentially a prefix match and depending",
    "start": "1613559",
    "end": "1615919"
  },
  {
    "text": "on how how much dynamic components you",
    "start": "1615919",
    "end": "1618760"
  },
  {
    "text": "have in your url um you have to decide",
    "start": "1618760",
    "end": "1621960"
  },
  {
    "text": "how to handle those cases but I see a",
    "start": "1621960",
    "end": "1624240"
  },
  {
    "text": "future where this could actually",
    "start": "1624240",
    "end": "1625640"
  },
  {
    "text": "generate logic with really strict route",
    "start": "1625640",
    "end": "1628720"
  },
  {
    "text": "information um RPC Frameworks API",
    "start": "1628720",
    "end": "1631559"
  },
  {
    "text": "tooling and generated client libraries",
    "start": "1631559",
    "end": "1634720"
  },
  {
    "text": "provide route information and",
    "start": "1634720",
    "end": "1636240"
  },
  {
    "text": "essentially Define what URLs a service",
    "start": "1636240",
    "end": "1639000"
  },
  {
    "text": "responds to um things like grpc and open",
    "start": "1639000",
    "end": "1643000"
  },
  {
    "text": "API which is formally Swagger basically",
    "start": "1643000",
    "end": "1646240"
  },
  {
    "text": "provide this information and so if you",
    "start": "1646240",
    "end": "1648000"
  },
  {
    "text": "could join this inside of some of this",
    "start": "1648000",
    "end": "1651799"
  },
  {
    "text": "processing you could get least privilege",
    "start": "1651799",
    "end": "1654120"
  },
  {
    "text": "access enforcement which I think would",
    "start": "1654120",
    "end": "1656159"
  },
  {
    "text": "be really really",
    "start": "1656159",
    "end": "1659080"
  },
  {
    "text": "amazing so to recap things",
    "start": "1659480",
    "end": "1663159"
  },
  {
    "text": "um this proof of concept really lays the",
    "start": "1663159",
    "end": "1665880"
  },
  {
    "text": "foundation where you can have continuous",
    "start": "1665880",
    "end": "1668080"
  },
  {
    "text": "enforcement of your existing traffic",
    "start": "1668080",
    "end": "1670399"
  },
  {
    "text": "patterns you know there there's a real",
    "start": "1670399",
    "end": "1672720"
  },
  {
    "text": "risk with security and configuration",
    "start": "1672720",
    "end": "1674960"
  },
  {
    "text": "drift where organizations teams products",
    "start": "1674960",
    "end": "1679440"
  },
  {
    "text": "change and people don't often know to",
    "start": "1679440",
    "end": "1681640"
  },
  {
    "text": "clean up after the fact and so if you",
    "start": "1681640",
    "end": "1685200"
  },
  {
    "text": "don't have something that is watching",
    "start": "1685200",
    "end": "1686880"
  },
  {
    "text": "this I'm sure it's already happening",
    "start": "1686880",
    "end": "1689320"
  },
  {
    "text": "somewhere and so the ability to",
    "start": "1689320",
    "end": "1691559"
  },
  {
    "text": "basically keep your service",
    "start": "1691559",
    "end": "1693440"
  },
  {
    "text": "infrastructure aligned with your",
    "start": "1693440",
    "end": "1695320"
  },
  {
    "text": "authorization rules I think is really",
    "start": "1695320",
    "end": "1698360"
  },
  {
    "text": "powerful and really the key to all of",
    "start": "1698360",
    "end": "1701200"
  },
  {
    "text": "this here is pix's data processing pixie",
    "start": "1701200",
    "end": "1704120"
  },
  {
    "text": "is essentially this platform that",
    "start": "1704120",
    "end": "1706480"
  },
  {
    "text": "provides you this data processing",
    "start": "1706480",
    "end": "1709000"
  },
  {
    "text": "capability to use your Telemetry data in",
    "start": "1709000",
    "end": "1712200"
  },
  {
    "text": "new ways that you know other tools just",
    "start": "1712200",
    "end": "1715440"
  },
  {
    "text": "don't have the capability of and so um",
    "start": "1715440",
    "end": "1718600"
  },
  {
    "text": "that's how like I talked about you bring",
    "start": "1718600",
    "end": "1721320"
  },
  {
    "text": "your own existing architecture your",
    "start": "1721320",
    "end": "1722960"
  },
  {
    "text": "authentication your authorization and",
    "start": "1722960",
    "end": "1725159"
  },
  {
    "text": "pixie provides the tooling to work",
    "start": "1725159",
    "end": "1727320"
  },
  {
    "text": "within those",
    "start": "1727320",
    "end": "1729840"
  },
  {
    "text": "means with that I want to thank you all",
    "start": "1730159",
    "end": "1732480"
  },
  {
    "text": "for attending my talk um here are some",
    "start": "1732480",
    "end": "1735120"
  },
  {
    "text": "links to the pixie project the uh",
    "start": "1735120",
    "end": "1739399"
  },
  {
    "text": "documentation website and also the pull",
    "start": "1739399",
    "end": "1741880"
  },
  {
    "text": "request that contains all of the code",
    "start": "1741880",
    "end": "1744159"
  },
  {
    "text": "that we talked about",
    "start": "1744159",
    "end": "1745519"
  },
  {
    "text": "today I'm going to be hanging around for",
    "start": "1745519",
    "end": "1747559"
  },
  {
    "text": "a little bit longer and I have uh some",
    "start": "1747559",
    "end": "1749480"
  },
  {
    "text": "pixie shirts still so if you want to",
    "start": "1749480",
    "end": "1751720"
  },
  {
    "text": "come talk to me I'd happy to give you a",
    "start": "1751720",
    "end": "1753960"
  },
  {
    "text": "shirt thank you",
    "start": "1753960",
    "end": "1758158"
  }
]