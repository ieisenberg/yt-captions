[
  {
    "text": "only make progress if all parts are",
    "start": "80",
    "end": "3040"
  },
  {
    "text": "running um at the same",
    "start": "3040",
    "end": "5960"
  },
  {
    "text": "time this significantly reduce the road",
    "start": "5960",
    "end": "9760"
  },
  {
    "text": "uh on the control plane as users can",
    "start": "9760",
    "end": "13440"
  },
  {
    "text": "create tens of thousands of jobs waiting",
    "start": "13440",
    "end": "16960"
  },
  {
    "text": "in the",
    "start": "16960",
    "end": "19359"
  },
  {
    "text": "queue actually Q is not uh just a work",
    "start": "19640",
    "end": "23800"
  },
  {
    "text": "reuler you can also look at Q from a",
    "start": "23800",
    "end": "27039"
  },
  {
    "text": "different perspective",
    "start": "27039",
    "end": "29679"
  },
  {
    "text": "um something like um as a quarter",
    "start": "29679",
    "end": "32719"
  },
  {
    "text": "manager for comput computational uh",
    "start": "32719",
    "end": "36239"
  },
  {
    "text": "resources such as GPU in Q uh we support",
    "start": "36239",
    "end": "40640"
  },
  {
    "text": "uh quite various configurations for",
    "start": "40640",
    "end": "43440"
  },
  {
    "text": "managing quarters between multiple teams",
    "start": "43440",
    "end": "47320"
  },
  {
    "text": "including fair sharing and hierarchical",
    "start": "47320",
    "end": "51480"
  },
  {
    "text": "cohorts at the same time uh we support",
    "start": "51480",
    "end": "55280"
  },
  {
    "text": "management for various types of hardware",
    "start": "55280",
    "end": "58399"
  },
  {
    "text": "like GPUs or TPUs additionally Q allows",
    "start": "58399",
    "end": "62960"
  },
  {
    "text": "to give different types of provisioning",
    "start": "62960",
    "end": "66080"
  },
  {
    "text": "like",
    "start": "66080",
    "end": "66920"
  },
  {
    "text": "reservations spot or on",
    "start": "66920",
    "end": "71040"
  },
  {
    "text": "demand finally with Q we want to meet",
    "start": "71560",
    "end": "77040"
  },
  {
    "text": "users when they are this means we",
    "start": "77040",
    "end": "80320"
  },
  {
    "text": "support a whole portfolio of different",
    "start": "80320",
    "end": "83360"
  },
  {
    "text": "worker",
    "start": "83360",
    "end": "84600"
  },
  {
    "text": "types split in three major categories in",
    "start": "84600",
    "end": "88799"
  },
  {
    "text": "particular for training uh we support",
    "start": "88799",
    "end": "92479"
  },
  {
    "text": "Kubernetes jobs job set a set of cube",
    "start": "92479",
    "end": "96000"
  },
  {
    "text": "pro training jobs and cube ray ray job",
    "start": "96000",
    "end": "100400"
  },
  {
    "text": "and ray crosser for inference we support",
    "start": "100400",
    "end": "105079"
  },
  {
    "text": "deployment set reader worker set finally",
    "start": "105079",
    "end": "110079"
  },
  {
    "text": "we also support more universal workload",
    "start": "110079",
    "end": "114479"
  },
  {
    "text": "such as app wrapper and plain",
    "start": "114479",
    "end": "118759"
  },
  {
    "text": "part in the next slide let's take a look",
    "start": "118759",
    "end": "121920"
  },
  {
    "text": "at the example of the problem users may",
    "start": "121920",
    "end": "125360"
  },
  {
    "text": "face on cubernetes using banana cube",
    "start": "125360",
    "end": "128160"
  },
  {
    "text": "scheduleer without",
    "start": "128160",
    "end": "130840"
  },
  {
    "text": "cube in this example Adam Brenda and",
    "start": "130840",
    "end": "135560"
  },
  {
    "text": "Chen create their AI training",
    "start": "135560",
    "end": "139800"
  },
  {
    "text": "workloads now cube scheduleuler",
    "start": "139800",
    "end": "142360"
  },
  {
    "text": "schedules the parts without any quarter",
    "start": "142360",
    "end": "145440"
  },
  {
    "text": "checks",
    "start": "145440",
    "end": "146959"
  },
  {
    "text": "in this case the request exceed exceeds",
    "start": "146959",
    "end": "150959"
  },
  {
    "text": "the total amount of physical resources",
    "start": "150959",
    "end": "153120"
  },
  {
    "text": "in the",
    "start": "153120",
    "end": "154040"
  },
  {
    "text": "crosser and n the job can make progress",
    "start": "154040",
    "end": "158879"
  },
  {
    "text": "because every job has some parts which",
    "start": "158879",
    "end": "162400"
  },
  {
    "text": "are not",
    "start": "162400",
    "end": "163560"
  },
  {
    "text": "scheduled this is a problem for air",
    "start": "163560",
    "end": "166400"
  },
  {
    "text": "training workloads because such",
    "start": "166400",
    "end": "169480"
  },
  {
    "text": "typically job required to schedule all",
    "start": "169480",
    "end": "172879"
  },
  {
    "text": "parts at the same time as we mentioned",
    "start": "172879",
    "end": "175760"
  },
  {
    "text": "in the previous",
    "start": "175760",
    "end": "178640"
  },
  {
    "text": "slides so we so we end up in dead rock",
    "start": "179080",
    "end": "184720"
  },
  {
    "text": "situation uh let's take a look how Q",
    "start": "185640",
    "end": "189440"
  },
  {
    "text": "help with the",
    "start": "189440",
    "end": "191959"
  },
  {
    "text": "problem now Adam Brenda and Chain submit",
    "start": "191959",
    "end": "196800"
  },
  {
    "text": "their workload to Q",
    "start": "196800",
    "end": "200040"
  },
  {
    "text": "again based on the quarter checks q",
    "start": "200040",
    "end": "203360"
  },
  {
    "text": "admits only two of the works all parts",
    "start": "203360",
    "end": "207840"
  },
  {
    "text": "get scheduled and the parts are",
    "start": "207840",
    "end": "211760"
  },
  {
    "text": "running once the workload complete the",
    "start": "211799",
    "end": "215040"
  },
  {
    "text": "waiting workload is now admitted and",
    "start": "215040",
    "end": "217440"
  },
  {
    "text": "running",
    "start": "217440",
    "end": "219480"
  },
  {
    "text": "too after a while all workloads complete",
    "start": "219480",
    "end": "223760"
  },
  {
    "text": "and the researchers are",
    "start": "223760",
    "end": "227040"
  },
  {
    "text": "happy so actually this is the ideal",
    "start": "227560",
    "end": "231280"
  },
  {
    "text": "scenario however the kora based",
    "start": "231280",
    "end": "234000"
  },
  {
    "text": "admission has some limitations first Q",
    "start": "234000",
    "end": "237760"
  },
  {
    "text": "makes admission",
    "start": "237760",
    "end": "240040"
  },
  {
    "text": "mistakes because sometime it may adomit",
    "start": "240040",
    "end": "243439"
  },
  {
    "text": "a workload which cannot run run due to",
    "start": "243439",
    "end": "247680"
  },
  {
    "text": "resource usage fragmentation or node",
    "start": "247680",
    "end": "250560"
  },
  {
    "text": "failures",
    "start": "250560",
    "end": "252200"
  },
  {
    "text": "second more importantly Q may preempt a",
    "start": "252200",
    "end": "257040"
  },
  {
    "text": "workload but the newly admitted workload",
    "start": "257040",
    "end": "261199"
  },
  {
    "text": "still cannot run due to the",
    "start": "261199",
    "end": "264160"
  },
  {
    "text": "fragmentation issue",
    "start": "264160",
    "end": "266919"
  },
  {
    "text": "finally Q delegates fine grained",
    "start": "266919",
    "end": "270960"
  },
  {
    "text": "scheduling to the binary cube",
    "start": "270960",
    "end": "273320"
  },
  {
    "text": "scheduleuler which means the parts get",
    "start": "273320",
    "end": "276320"
  },
  {
    "text": "scattered across the infrastructure",
    "start": "276320",
    "end": "279080"
  },
  {
    "text": "topologies like rack or data",
    "start": "279080",
    "end": "282600"
  },
  {
    "text": "center which is not good for performance",
    "start": "282600",
    "end": "286240"
  },
  {
    "text": "of AI ML works",
    "start": "286240",
    "end": "290560"
  },
  {
    "text": "let's imagine the issue by actual",
    "start": "290560",
    "end": "295120"
  },
  {
    "text": "scenario again adam and Chen submit",
    "start": "295160",
    "end": "299280"
  },
  {
    "text": "their workload mostly at the same",
    "start": "299280",
    "end": "303520"
  },
  {
    "text": "time q admits the workloads but",
    "start": "303880",
    "end": "308639"
  },
  {
    "text": "delegates actual fine grain scheduling",
    "start": "308639",
    "end": "311199"
  },
  {
    "text": "to the",
    "start": "311199",
    "end": "312840"
  },
  {
    "text": "cubeuler so the resource usage is",
    "start": "312840",
    "end": "316440"
  },
  {
    "text": "fragmented because cube scheduleer does",
    "start": "316440",
    "end": "319199"
  },
  {
    "text": "not consider a group of port with",
    "start": "319199",
    "end": "324280"
  },
  {
    "text": "quarter now a new high priority workload",
    "start": "324280",
    "end": "328520"
  },
  {
    "text": "coming so Q needs to preempt something",
    "start": "328520",
    "end": "331919"
  },
  {
    "text": "to run the",
    "start": "331919",
    "end": "334880"
  },
  {
    "text": "workload q preempt the green workload",
    "start": "335080",
    "end": "338560"
  },
  {
    "text": "and the quarter check indicates the",
    "start": "338560",
    "end": "340800"
  },
  {
    "text": "yellow workload is ready to run",
    "start": "340800",
    "end": "344400"
  },
  {
    "text": "the yellow workload should get scheduled",
    "start": "344400",
    "end": "347360"
  },
  {
    "text": "pre in cube point of view but actual",
    "start": "347360",
    "end": "351680"
  },
  {
    "text": "part of part cannot get scheduled by",
    "start": "351680",
    "end": "354560"
  },
  {
    "text": "cube scheduleuler due to",
    "start": "354560",
    "end": "357560"
  },
  {
    "text": "fragmentation so in this case the",
    "start": "357560",
    "end": "359840"
  },
  {
    "text": "preeemption did not help and the yellow",
    "start": "359840",
    "end": "362639"
  },
  {
    "text": "workload is likely to hit time out as it",
    "start": "362639",
    "end": "366479"
  },
  {
    "text": "as it cannot make progress",
    "start": "366479",
    "end": "371000"
  },
  {
    "text": "okay so let me uh pick it up uh right",
    "start": "371680",
    "end": "374880"
  },
  {
    "text": "here with another uh piece of motivation",
    "start": "374880",
    "end": "377759"
  },
  {
    "text": "for topology of our scheduling in Q so",
    "start": "377759",
    "end": "381280"
  },
  {
    "text": "in this example we have a new shiny",
    "start": "381280",
    "end": "383759"
  },
  {
    "text": "cluster with new machines and we are",
    "start": "383759",
    "end": "386000"
  },
  {
    "text": "ready to start training some AIS like",
    "start": "386000",
    "end": "389000"
  },
  {
    "text": "LLMs okay so we schedule the workloads",
    "start": "389000",
    "end": "392400"
  },
  {
    "text": "but the scheduling of individual pods",
    "start": "392400",
    "end": "394639"
  },
  {
    "text": "it's still delegated to cubeuler so as",
    "start": "394639",
    "end": "398240"
  },
  {
    "text": "in this case the pods get scheduled all",
    "start": "398240",
    "end": "400319"
  },
  {
    "text": "over the cluster",
    "start": "400319",
    "end": "402479"
  },
  {
    "text": "and moreover uh in the context of AI",
    "start": "402479",
    "end": "405680"
  },
  {
    "text": "training uh the pots need to exchange",
    "start": "405680",
    "end": "408479"
  },
  {
    "text": "huge amount of data uh uh communication",
    "start": "408479",
    "end": "412479"
  },
  {
    "text": "data during the training and uh also one",
    "start": "412479",
    "end": "416319"
  },
  {
    "text": "important thing is that for AI training",
    "start": "416319",
    "end": "419360"
  },
  {
    "text": "uh the communication pattern looks like",
    "start": "419360",
    "end": "421280"
  },
  {
    "text": "a ring so the pots are numbered the",
    "start": "421280",
    "end": "424240"
  },
  {
    "text": "numbers uh are called ranks and each",
    "start": "424240",
    "end": "427759"
  },
  {
    "text": "rank exchanges most of the data with the",
    "start": "427759",
    "end": "430560"
  },
  {
    "text": "neighboring ranks so this is uh the",
    "start": "430560",
    "end": "432880"
  },
  {
    "text": "pattern for the most popular framework",
    "start": "432880",
    "end": "435120"
  },
  {
    "text": "or library and CCL and as you can see",
    "start": "435120",
    "end": "438400"
  },
  {
    "text": "here uh the ports on the uh belonging to",
    "start": "438400",
    "end": "441919"
  },
  {
    "text": "the servers on the left hand side they",
    "start": "441919",
    "end": "443759"
  },
  {
    "text": "will exchange huge amount of data with",
    "start": "443759",
    "end": "445759"
  },
  {
    "text": "the servers with on the right hand side",
    "start": "445759",
    "end": "448400"
  },
  {
    "text": "over uh high latency network so this is",
    "start": "448400",
    "end": "452720"
  },
  {
    "text": "uh not good per performance and clearly",
    "start": "452720",
    "end": "455960"
  },
  {
    "text": "suboptimal so this is the picture we",
    "start": "455960",
    "end": "458479"
  },
  {
    "text": "would like to have with topology over",
    "start": "458479",
    "end": "460639"
  },
  {
    "text": "scheduling in",
    "start": "460639",
    "end": "461880"
  },
  {
    "text": "Q where the pots are packed closely and",
    "start": "461880",
    "end": "465840"
  },
  {
    "text": "tightly on the servers that that are",
    "start": "465840",
    "end": "468000"
  },
  {
    "text": "basically neighboring servers on the uh",
    "start": "468000",
    "end": "470800"
  },
  {
    "text": "connected by uh low latency network so",
    "start": "470800",
    "end": "474960"
  },
  {
    "text": "let's take a look at how we achieve it",
    "start": "474960",
    "end": "477520"
  },
  {
    "text": "with topology of our scheduling",
    "start": "477520",
    "end": "480199"
  },
  {
    "text": "so first of all we need to somehow",
    "start": "480199",
    "end": "482960"
  },
  {
    "text": "represent the topological information so",
    "start": "482960",
    "end": "485280"
  },
  {
    "text": "that Q can benefit from it but currently",
    "start": "485280",
    "end": "487599"
  },
  {
    "text": "in Kubernetes there is no standard way",
    "start": "487599",
    "end": "489759"
  },
  {
    "text": "of representing the topological",
    "start": "489759",
    "end": "491800"
  },
  {
    "text": "information so we want to propose in Q a",
    "start": "491800",
    "end": "496240"
  },
  {
    "text": "new convention for representing that",
    "start": "496240",
    "end": "498720"
  },
  {
    "text": "based on node labels so basically the",
    "start": "498720",
    "end": "501680"
  },
  {
    "text": "idea is that every node in the cluster",
    "start": "501680",
    "end": "504560"
  },
  {
    "text": "has a set of labels that identify its",
    "start": "504560",
    "end": "507360"
  },
  {
    "text": "position in a in the cluster or in the",
    "start": "507360",
    "end": "509440"
  },
  {
    "text": "data center so that Q can benefit from",
    "start": "509440",
    "end": "512560"
  },
  {
    "text": "uh knowing the relative",
    "start": "512560",
    "end": "514599"
  },
  {
    "text": "positions so let's run over the example",
    "start": "514599",
    "end": "517440"
  },
  {
    "text": "so the first label indicates the name of",
    "start": "517440",
    "end": "519919"
  },
  {
    "text": "the block in the cluster the second",
    "start": "519919",
    "end": "522240"
  },
  {
    "text": "label indicates the name of the rack and",
    "start": "522240",
    "end": "524959"
  },
  {
    "text": "then the uh last label indicates",
    "start": "524959",
    "end": "527920"
  },
  {
    "text": "basically the name of the node and we",
    "start": "527920",
    "end": "531279"
  },
  {
    "text": "believe that with this simple approach",
    "start": "531279",
    "end": "532880"
  },
  {
    "text": "it will be broadly uh um adopted by",
    "start": "532880",
    "end": "536240"
  },
  {
    "text": "cloud providers that will annotate the",
    "start": "536240",
    "end": "538560"
  },
  {
    "text": "nodes according to the um to the uh idea",
    "start": "538560",
    "end": "543600"
  },
  {
    "text": "so",
    "start": "543600",
    "end": "544839"
  },
  {
    "text": "um uh but of course uh likely because",
    "start": "544839",
    "end": "548720"
  },
  {
    "text": "there is still no standard the cloud",
    "start": "548720",
    "end": "550320"
  },
  {
    "text": "providers will want to use different uh",
    "start": "550320",
    "end": "552959"
  },
  {
    "text": "names for the labels and more uh more",
    "start": "552959",
    "end": "556800"
  },
  {
    "text": "more on that some cloud providers may",
    "start": "556800",
    "end": "559120"
  },
  {
    "text": "choose to have different topologies for",
    "start": "559120",
    "end": "562480"
  },
  {
    "text": "uh different machine types for example",
    "start": "562480",
    "end": "564320"
  },
  {
    "text": "for TPUs and GPUs so we want to be",
    "start": "564320",
    "end": "567200"
  },
  {
    "text": "vendor neutral and to achieve that we um",
    "start": "567200",
    "end": "570800"
  },
  {
    "text": "abstract it out with the topology API so",
    "start": "570800",
    "end": "574000"
  },
  {
    "text": "this new API in Q lets you specify",
    "start": "574000",
    "end": "576480"
  },
  {
    "text": "basically the list of um the note labels",
    "start": "576480",
    "end": "580320"
  },
  {
    "text": "that are u uh that denote the topology",
    "start": "580320",
    "end": "584800"
  },
  {
    "text": "and this new API is referenced from the",
    "start": "584800",
    "end": "587680"
  },
  {
    "text": "pre-existing API in Q called resource",
    "start": "587680",
    "end": "589839"
  },
  {
    "text": "flavor which denotes uh basically the",
    "start": "589839",
    "end": "592720"
  },
  {
    "text": "set of machines with common",
    "start": "592720",
    "end": "594680"
  },
  {
    "text": "characteristics so in this example we",
    "start": "594680",
    "end": "597200"
  },
  {
    "text": "have a resource flavor uh that uh",
    "start": "597200",
    "end": "600240"
  },
  {
    "text": "represents the node pool of 800 machines",
    "start": "600240",
    "end": "603920"
  },
  {
    "text": "and by linking it to the topology we say",
    "start": "603920",
    "end": "606399"
  },
  {
    "text": "that we want Q to use topology over",
    "start": "606399",
    "end": "609200"
  },
  {
    "text": "scheduling on this uh note pool",
    "start": "609200",
    "end": "612160"
  },
  {
    "text": "respecting the",
    "start": "612160",
    "end": "614519"
  },
  {
    "text": "topology okay so now as you can imagine",
    "start": "614519",
    "end": "617600"
  },
  {
    "text": "knowing the topology with the set of the",
    "start": "617600",
    "end": "620480"
  },
  {
    "text": "labels and by observing the actual nodes",
    "start": "620480",
    "end": "623200"
  },
  {
    "text": "Q is in position to reconstruct the",
    "start": "623200",
    "end": "625600"
  },
  {
    "text": "topology tree so actual",
    "start": "625600",
    "end": "628600"
  },
  {
    "text": "uh topology of the cluster in this",
    "start": "628600",
    "end": "631760"
  },
  {
    "text": "example we have a small tree with four",
    "start": "631760",
    "end": "633920"
  },
  {
    "text": "levels that correspond to zone block",
    "start": "633920",
    "end": "636640"
  },
  {
    "text": "rack and node and we the nodes of the",
    "start": "636640",
    "end": "639519"
  },
  {
    "text": "tree are called topology",
    "start": "639519",
    "end": "641959"
  },
  {
    "text": "domains you may also ask yourself how do",
    "start": "641959",
    "end": "644920"
  },
  {
    "text": "we calculate capacity on the node so",
    "start": "644920",
    "end": "649760"
  },
  {
    "text": "basically the idea is also very simple",
    "start": "649760",
    "end": "652000"
  },
  {
    "text": "we for the nominal capacity we use the",
    "start": "652000",
    "end": "654480"
  },
  {
    "text": "status allocatable field from the node",
    "start": "654480",
    "end": "657200"
  },
  {
    "text": "and from this we subtract uh usage",
    "start": "657200",
    "end": "660399"
  },
  {
    "text": "coming from the task workloads these are",
    "start": "660399",
    "end": "663040"
  },
  {
    "text": "workloads already admitted by Q so Q is",
    "start": "663040",
    "end": "665760"
  },
  {
    "text": "aware of them and uh pods that are non Q",
    "start": "665760",
    "end": "669120"
  },
  {
    "text": "and non-task uh we have such pots which",
    "start": "669120",
    "end": "672720"
  },
  {
    "text": "are static pots or pots owned by uh for",
    "start": "672720",
    "end": "675839"
  },
  {
    "text": "example demon",
    "start": "675839",
    "end": "677800"
  },
  {
    "text": "sets now let's take also a look at the",
    "start": "677800",
    "end": "681120"
  },
  {
    "text": "from a different perspective on topology",
    "start": "681120",
    "end": "683360"
  },
  {
    "text": "of our scheduling in Q from the user",
    "start": "683360",
    "end": "685519"
  },
  {
    "text": "perspective so as it was mentioned",
    "start": "685519",
    "end": "688079"
  },
  {
    "text": "before Q supports all various types of",
    "start": "688079",
    "end": "691200"
  },
  {
    "text": "jobs and what is common in them is that",
    "start": "691200",
    "end": "693760"
  },
  {
    "text": "they embed the pod template so we use",
    "start": "693760",
    "end": "696160"
  },
  {
    "text": "the pod template to let users specify",
    "start": "696160",
    "end": "700320"
  },
  {
    "text": "what type of uh scheduling requirements",
    "start": "700320",
    "end": "702720"
  },
  {
    "text": "they have for the specific pot set so in",
    "start": "702720",
    "end": "706240"
  },
  {
    "text": "this case we have a job set with two pot",
    "start": "706240",
    "end": "709360"
  },
  {
    "text": "sets and with both of them the user set",
    "start": "709360",
    "end": "712079"
  },
  {
    "text": "the requirements so let's see what",
    "start": "712079",
    "end": "714640"
  },
  {
    "text": "labels we uh support currently so we",
    "start": "714640",
    "end": "717440"
  },
  {
    "text": "have uh annotations we have the required",
    "start": "717440",
    "end": "720000"
  },
  {
    "text": "annotation so with this the user can say",
    "start": "720000",
    "end": "722160"
  },
  {
    "text": "that all of the pots in the pot set",
    "start": "722160",
    "end": "724480"
  },
  {
    "text": "should be scheduled within the same",
    "start": "724480",
    "end": "726320"
  },
  {
    "text": "topology domain at the specified level",
    "start": "726320",
    "end": "729360"
  },
  {
    "text": "then we have preferred topology so here",
    "start": "729360",
    "end": "732079"
  },
  {
    "text": "the uh constraint is that it's okay we",
    "start": "732079",
    "end": "736560"
  },
  {
    "text": "prefer them all to be scheduled in the",
    "start": "736560",
    "end": "739040"
  },
  {
    "text": "in one topology domain but we are okay",
    "start": "739040",
    "end": "741600"
  },
  {
    "text": "with spill over to the neighboring",
    "start": "741600",
    "end": "743480"
  },
  {
    "text": "domains and then finally we support",
    "start": "743480",
    "end": "746399"
  },
  {
    "text": "unconstrained topology annotation with",
    "start": "746399",
    "end": "748959"
  },
  {
    "text": "which the users can say that they don't",
    "start": "748959",
    "end": "751040"
  },
  {
    "text": "have any expectations about the",
    "start": "751040",
    "end": "753040"
  },
  {
    "text": "placement of the pods and this is",
    "start": "753040",
    "end": "754880"
  },
  {
    "text": "actually um recommended for workloads uh",
    "start": "754880",
    "end": "758560"
  },
  {
    "text": "which don't require exchanging huge",
    "start": "758560",
    "end": "761760"
  },
  {
    "text": "amounts of data so that Q can have",
    "start": "761760",
    "end": "764720"
  },
  {
    "text": "freedom to for example fill in gaps in",
    "start": "764720",
    "end": "767200"
  },
  {
    "text": "the cluster to reduce",
    "start": "767200",
    "end": "769560"
  },
  {
    "text": "fragmentation okay so now as we know the",
    "start": "769560",
    "end": "772240"
  },
  {
    "text": "user perspective and the admin",
    "start": "772240",
    "end": "774120"
  },
  {
    "text": "perspective let's take a look at the",
    "start": "774120",
    "end": "776560"
  },
  {
    "text": "inner workings of uh of Q to support",
    "start": "776560",
    "end": "779519"
  },
  {
    "text": "topology scheduling so first of all as",
    "start": "779519",
    "end": "782160"
  },
  {
    "text": "you can imagine the situation in the",
    "start": "782160",
    "end": "783839"
  },
  {
    "text": "cluster can be very dynamic with nodes",
    "start": "783839",
    "end": "786639"
  },
  {
    "text": "popping in and out of existence in some",
    "start": "786639",
    "end": "789279"
  },
  {
    "text": "clusters basically all the time so in",
    "start": "789279",
    "end": "792000"
  },
  {
    "text": "order to deal with this situation Q",
    "start": "792000",
    "end": "794480"
  },
  {
    "text": "operates in scheduling cycles and in",
    "start": "794480",
    "end": "797600"
  },
  {
    "text": "each scheduling cycle it starts by",
    "start": "797600",
    "end": "799760"
  },
  {
    "text": "creating a",
    "start": "799760",
    "end": "800920"
  },
  {
    "text": "snapshot and the snapshot contains the",
    "start": "800920",
    "end": "803920"
  },
  {
    "text": "whole topology tree with computed",
    "start": "803920",
    "end": "807120"
  },
  {
    "text": "capacities for every",
    "start": "807120",
    "end": "809399"
  },
  {
    "text": "node then in the next uh next it",
    "start": "809399",
    "end": "813040"
  },
  {
    "text": "considers a workload so while",
    "start": "813040",
    "end": "814720"
  },
  {
    "text": "considering a workload and to find its",
    "start": "814720",
    "end": "817720"
  },
  {
    "text": "placement Q executes two BFS like passes",
    "start": "817720",
    "end": "821839"
  },
  {
    "text": "through the topology tree in the first",
    "start": "821839",
    "end": "823680"
  },
  {
    "text": "pass bottom up it identifies the set of",
    "start": "823680",
    "end": "826560"
  },
  {
    "text": "topology domains uh that will",
    "start": "826560",
    "end": "829360"
  },
  {
    "text": "accommodate the workload in the second",
    "start": "829360",
    "end": "833200"
  },
  {
    "text": "uh top down traversal it maps down the",
    "start": "833200",
    "end": "836959"
  },
  {
    "text": "identified topology domains onto",
    "start": "836959",
    "end": "839120"
  },
  {
    "text": "concrete nodes",
    "start": "839120",
    "end": "841600"
  },
  {
    "text": "uh next uh it stores the assignment in",
    "start": "841600",
    "end": "844959"
  },
  {
    "text": "the workload object in and is ready to",
    "start": "844959",
    "end": "847760"
  },
  {
    "text": "admit the workload once the workload is",
    "start": "847760",
    "end": "849680"
  },
  {
    "text": "admitted the pods are created but still",
    "start": "849680",
    "end": "852399"
  },
  {
    "text": "with scheduling gates so that in the",
    "start": "852399",
    "end": "855199"
  },
  {
    "text": "next uh step when we ungate the pods we",
    "start": "855199",
    "end": "858399"
  },
  {
    "text": "can assign them specific note selectors",
    "start": "858399",
    "end": "861279"
  },
  {
    "text": "and it is in this stage that we are very",
    "start": "861279",
    "end": "863760"
  },
  {
    "text": "careful about that so that we uh make",
    "start": "863760",
    "end": "866959"
  },
  {
    "text": "the assignments according to the indexes",
    "start": "866959",
    "end": "869360"
  },
  {
    "text": "that I mentioned before for AI training",
    "start": "869360",
    "end": "871600"
  },
  {
    "text": "workloads again we call this uh rank",
    "start": "871600",
    "end": "874720"
  },
  {
    "text": "based ordering so as you can see in this",
    "start": "874720",
    "end": "876959"
  },
  {
    "text": "picture for optimal performance the pots",
    "start": "876959",
    "end": "879120"
  },
  {
    "text": "with neighboring ranks they are put at",
    "start": "879120",
    "end": "881199"
  },
  {
    "text": "the within the same",
    "start": "881199",
    "end": "884680"
  },
  {
    "text": "node okay and talking about uh",
    "start": "884680",
    "end": "887519"
  },
  {
    "text": "performance we also run uh benchmarks by",
    "start": "887519",
    "end": "891040"
  },
  {
    "text": "executing regularly uh training of GPT2",
    "start": "891040",
    "end": "894320"
  },
  {
    "text": "model from scratch on our stateofthe-art",
    "start": "894320",
    "end": "897360"
  },
  {
    "text": "GPU machines and this uh intern at the",
    "start": "897360",
    "end": "900800"
  },
  {
    "text": "scale of 32 nodes and the internal test",
    "start": "900800",
    "end": "904720"
  },
  {
    "text": "demonstrate that with task uh the",
    "start": "904720",
    "end": "907440"
  },
  {
    "text": "training time can be reduced by around",
    "start": "907440",
    "end": "911240"
  },
  {
    "text": "15% okay so let me summarize basically",
    "start": "911240",
    "end": "915120"
  },
  {
    "text": "one of the main goals of topology",
    "start": "915120",
    "end": "917199"
  },
  {
    "text": "resuling in Q is to improve user",
    "start": "917199",
    "end": "920120"
  },
  {
    "text": "experience by reducing the mistakes of",
    "start": "920120",
    "end": "923839"
  },
  {
    "text": "admission and preeemption so because now",
    "start": "923839",
    "end": "926880"
  },
  {
    "text": "Q becomes aware of the uh physical uh",
    "start": "926880",
    "end": "930959"
  },
  {
    "text": "capacity of the of the cluster",
    "start": "930959",
    "end": "934240"
  },
  {
    "text": "second of all we want to accelerate AI",
    "start": "934240",
    "end": "937360"
  },
  {
    "text": "training and inference uh by compact",
    "start": "937360",
    "end": "940720"
  },
  {
    "text": "placement of the pots and rank based",
    "start": "940720",
    "end": "942639"
  },
  {
    "text": "ordering of the",
    "start": "942639",
    "end": "944199"
  },
  {
    "text": "pots still at the same time we still",
    "start": "944199",
    "end": "946800"
  },
  {
    "text": "want to support the same uh set of jobs",
    "start": "946800",
    "end": "950160"
  },
  {
    "text": "that the standard job uh Q supports and",
    "start": "950160",
    "end": "953519"
  },
  {
    "text": "finally as of 011 Q that was released",
    "start": "953519",
    "end": "956399"
  },
  {
    "text": "just like two weeks ago uh we now",
    "start": "956399",
    "end": "959120"
  },
  {
    "text": "finally support all of the qua",
    "start": "959120",
    "end": "960800"
  },
  {
    "text": "management features that the standard Q",
    "start": "960800",
    "end": "963040"
  },
  {
    "text": "supports such as pair sharing or",
    "start": "963040",
    "end": "965199"
  },
  {
    "text": "hierarchical cohorts additionally in 011",
    "start": "965199",
    "end": "968800"
  },
  {
    "text": "we introduced the auto mode which uh",
    "start": "968800",
    "end": "972240"
  },
  {
    "text": "allows to reduce friction of adoption of",
    "start": "972240",
    "end": "975199"
  },
  {
    "text": "task because we no longer require",
    "start": "975199",
    "end": "977440"
  },
  {
    "text": "setting the uh annotations for every pot",
    "start": "977440",
    "end": "980639"
  },
  {
    "text": "set uh in the in the",
    "start": "980639",
    "end": "983079"
  },
  {
    "text": "jobs and of course we are not done yet",
    "start": "983079",
    "end": "985920"
  },
  {
    "text": "so we are um considering new",
    "start": "985920",
    "end": "988959"
  },
  {
    "text": "improvements to topological scheduling",
    "start": "988959",
    "end": "991600"
  },
  {
    "text": "some of the ideas floating around are to",
    "start": "991600",
    "end": "994560"
  },
  {
    "text": "play with different algorithms so we",
    "start": "994560",
    "end": "997040"
  },
  {
    "text": "want to basically balance uh the maybe",
    "start": "997040",
    "end": "1000560"
  },
  {
    "text": "some users want to balance utilization",
    "start": "1000560",
    "end": "1002720"
  },
  {
    "text": "and fragmentation so we want to give",
    "start": "1002720",
    "end": "1004959"
  },
  {
    "text": "them the choice of algorithms and make",
    "start": "1004959",
    "end": "1007680"
  },
  {
    "text": "them configurable we want to also solve",
    "start": "1007680",
    "end": "1009839"
  },
  {
    "text": "the problems of cost scheduling pot sets",
    "start": "1009839",
    "end": "1012480"
  },
  {
    "text": "within a",
    "start": "1012480",
    "end": "1013880"
  },
  {
    "text": "workload currently they are scheduled",
    "start": "1013880",
    "end": "1017320"
  },
  {
    "text": "independently um and then we also are",
    "start": "1017320",
    "end": "1020240"
  },
  {
    "text": "considering tighter integration with",
    "start": "1020240",
    "end": "1022440"
  },
  {
    "text": "cubeuler for better accuracy of",
    "start": "1022440",
    "end": "1024959"
  },
  {
    "text": "scheduling",
    "start": "1024959",
    "end": "1027038"
  },
  {
    "text": "if you want to be part of the",
    "start": "1027039",
    "end": "1028400"
  },
  {
    "text": "discussions uh about the future of",
    "start": "1028400",
    "end": "1031199"
  },
  {
    "text": "topology over scheduling in uh Q or Q uh",
    "start": "1031199",
    "end": "1036000"
  },
  {
    "text": "as such or even if you are more",
    "start": "1036000",
    "end": "1038079"
  },
  {
    "text": "interested about what the working group",
    "start": "1038079",
    "end": "1040319"
  },
  {
    "text": "batch is uh working on and discussing",
    "start": "1040319",
    "end": "1043839"
  },
  {
    "text": "then I highly recommend you to join our",
    "start": "1043839",
    "end": "1046798"
  },
  {
    "text": "bi-weekly meetings uh we also have a",
    "start": "1046799",
    "end": "1049520"
  },
  {
    "text": "slack channel where you can ask your",
    "start": "1049520",
    "end": "1051480"
  },
  {
    "text": "questions and we also this year have",
    "start": "1051480",
    "end": "1054240"
  },
  {
    "text": "project pavilon uh 15A where you can",
    "start": "1054240",
    "end": "1057120"
  },
  {
    "text": "also come and ask questions to the uh",
    "start": "1057120",
    "end": "1059520"
  },
  {
    "text": "people who are deeply involved in the",
    "start": "1059520",
    "end": "1061360"
  },
  {
    "text": "cube project and also there is a batch",
    "start": "1061360",
    "end": "1064400"
  },
  {
    "text": "working group updates presentation by",
    "start": "1064400",
    "end": "1066640"
  },
  {
    "text": "Martin i encourage you to uh also come",
    "start": "1066640",
    "end": "1069840"
  },
  {
    "text": "there uh with that uh I also encourage",
    "start": "1069840",
    "end": "1073440"
  },
  {
    "text": "you to try Q yourself you will find more",
    "start": "1073440",
    "end": "1075600"
  },
  {
    "text": "details on our website and we are ready",
    "start": "1075600",
    "end": "1078960"
  },
  {
    "text": "for some questions thank you",
    "start": "1078960",
    "end": "1083559"
  },
  {
    "text": "[Applause]",
    "start": "1084410",
    "end": "1089520"
  },
  {
    "text": "uh there's a microphone yeah mic over",
    "start": "1089520",
    "end": "1091600"
  },
  {
    "text": "there you can just uh ask your questions",
    "start": "1091600",
    "end": "1093679"
  },
  {
    "text": "from there",
    "start": "1093679",
    "end": "1095760"
  },
  {
    "text": "hi this is Abishek from IBM research um",
    "start": "1095760",
    "end": "1098559"
  },
  {
    "text": "so one of the use cases here of task was",
    "start": "1098559",
    "end": "1101120"
  },
  {
    "text": "performance improvement so I wonder if",
    "start": "1101120",
    "end": "1103679"
  },
  {
    "text": "you are planning to include internal",
    "start": "1103679",
    "end": "1106080"
  },
  {
    "text": "topology",
    "start": "1106080",
    "end": "1109039"
  },
  {
    "text": "uh sorry can can you repeat are there",
    "start": "1109039",
    "end": "1112000"
  },
  {
    "text": "any plans uh to include internal",
    "start": "1112000",
    "end": "1114799"
  },
  {
    "text": "topology while scheduling workloads ah",
    "start": "1114799",
    "end": "1117919"
  },
  {
    "text": "internal within a note right",
    "start": "1117919",
    "end": "1120880"
  },
  {
    "text": "this is currently out of scope uh I",
    "start": "1120880",
    "end": "1124720"
  },
  {
    "text": "think this could be somehow married with",
    "start": "1124720",
    "end": "1127480"
  },
  {
    "text": "the plugins but uh but it's not uh not",
    "start": "1127480",
    "end": "1132080"
  },
  {
    "text": "one of the goals at the moment",
    "start": "1132080",
    "end": "1135039"
  },
  {
    "text": "but if you have some ideas uh or or such",
    "start": "1135039",
    "end": "1138160"
  },
  {
    "text": "requirement then feel free to open an",
    "start": "1138160",
    "end": "1140160"
  },
  {
    "text": "issue or or come to the uh meetings so",
    "start": "1140160",
    "end": "1143840"
  },
  {
    "text": "that we can discuss it uh deeper thank",
    "start": "1143840",
    "end": "1148160"
  },
  {
    "text": "you",
    "start": "1148160",
    "end": "1151160"
  },
  {
    "text": "just one question when when we let's",
    "start": "1152080",
    "end": "1154640"
  },
  {
    "text": "imagine that we will deploy Q in cloud",
    "start": "1154640",
    "end": "1158160"
  },
  {
    "text": "we can have only three information about",
    "start": "1158160",
    "end": "1161200"
  },
  {
    "text": "region availability zone and O name so",
    "start": "1161200",
    "end": "1166320"
  },
  {
    "text": "we cannot have block or rack if I",
    "start": "1166320",
    "end": "1171360"
  },
  {
    "text": "understood correctly you are using these",
    "start": "1171360",
    "end": "1173400"
  },
  {
    "text": "two level in the topology",
    "start": "1173400",
    "end": "1177280"
  },
  {
    "text": "oh actually this depends on the cluster",
    "start": "1177280",
    "end": "1180080"
  },
  {
    "text": "pro like cluster provider cloud provider",
    "start": "1180080",
    "end": "1182880"
  },
  {
    "text": "so we believe that some uh cloud",
    "start": "1182880",
    "end": "1185840"
  },
  {
    "text": "providers uh will expose actually the",
    "start": "1185840",
    "end": "1188480"
  },
  {
    "text": "information about the blocks and racks",
    "start": "1188480",
    "end": "1190320"
  },
  {
    "text": "and more",
    "start": "1190320",
    "end": "1191960"
  },
  {
    "text": "details and I actually represent Google",
    "start": "1191960",
    "end": "1194880"
  },
  {
    "text": "and I know that such work is going on so",
    "start": "1194880",
    "end": "1197440"
  },
  {
    "text": "we uh in some note pools you can already",
    "start": "1197440",
    "end": "1200559"
  },
  {
    "text": "have the labels",
    "start": "1200559",
    "end": "1204400"
  },
  {
    "text": "is it your question or uh",
    "start": "1204400",
    "end": "1207640"
  },
  {
    "text": "Okay so it's again it's like a simple",
    "start": "1207640",
    "end": "1210559"
  },
  {
    "text": "idea so we hope for broad adoption and",
    "start": "1210559",
    "end": "1213360"
  },
  {
    "text": "uh so that this uh more cloud providers",
    "start": "1213360",
    "end": "1215919"
  },
  {
    "text": "expose this information right thank you",
    "start": "1215919",
    "end": "1221600"
  },
  {
    "text": "hi thanks for the talk uh I had a",
    "start": "1221600",
    "end": "1223840"
  },
  {
    "text": "question on the interoperability with",
    "start": "1223840",
    "end": "1225919"
  },
  {
    "text": "the cube API can it sort of offload",
    "start": "1225919",
    "end": "1229760"
  },
  {
    "text": "scheduling for certain workloads only to",
    "start": "1229760",
    "end": "1231840"
  },
  {
    "text": "cube or does cube have to be the main",
    "start": "1231840",
    "end": "1233840"
  },
  {
    "text": "schedule in the cluster",
    "start": "1233840",
    "end": "1236320"
  },
  {
    "text": "oh so you are asking about the future",
    "start": "1236320",
    "end": "1240280"
  },
  {
    "text": "uh the titer integration right yes",
    "start": "1240280",
    "end": "1245200"
  },
  {
    "text": "all right so basically currently in Q",
    "start": "1245200",
    "end": "1248320"
  },
  {
    "text": "topology of our scheduling we only",
    "start": "1248320",
    "end": "1250400"
  },
  {
    "text": "support",
    "start": "1250400",
    "end": "1251720"
  },
  {
    "text": "um like we we don't uh support for",
    "start": "1251720",
    "end": "1254799"
  },
  {
    "text": "example port affinities or",
    "start": "1254799",
    "end": "1256400"
  },
  {
    "text": "anti-affffinities",
    "start": "1256400",
    "end": "1258559"
  },
  {
    "text": "uh or we don't check ports so we only do",
    "start": "1258559",
    "end": "1261360"
  },
  {
    "text": "scheduling based on what is in the",
    "start": "1261360",
    "end": "1263120"
  },
  {
    "text": "topology but there are other scheduling",
    "start": "1263120",
    "end": "1265360"
  },
  {
    "text": "directives that are respected by cube",
    "start": "1265360",
    "end": "1267360"
  },
  {
    "text": "scheduleuler and not respected by uh",
    "start": "1267360",
    "end": "1269520"
  },
  {
    "text": "cube so we anticipate we will have users",
    "start": "1269520",
    "end": "1273840"
  },
  {
    "text": "asking to uh to have pot affinity",
    "start": "1273840",
    "end": "1276760"
  },
  {
    "text": "supported so the question is how do we",
    "start": "1276760",
    "end": "1280159"
  },
  {
    "text": "uh implement the support one approach is",
    "start": "1280159",
    "end": "1282880"
  },
  {
    "text": "that we do this inside Q but this means",
    "start": "1282880",
    "end": "1285600"
  },
  {
    "text": "that for every thing we need extra code",
    "start": "1285600",
    "end": "1288640"
  },
  {
    "text": "in Q the alternative is to vendor code",
    "start": "1288640",
    "end": "1292400"
  },
  {
    "text": "of cube scheduleuler inside Q uh and",
    "start": "1292400",
    "end": "1295360"
  },
  {
    "text": "delegate the checks to actually the code",
    "start": "1295360",
    "end": "1297919"
  },
  {
    "text": "in cube scheduleuler so this is the idea",
    "start": "1297919",
    "end": "1300799"
  },
  {
    "text": "like tighter integration so the idea is",
    "start": "1300799",
    "end": "1303280"
  },
  {
    "text": "that we would vendor the code and uh ask",
    "start": "1303280",
    "end": "1306880"
  },
  {
    "text": "some specific functions that would do",
    "start": "1306880",
    "end": "1309120"
  },
  {
    "text": "the checks for us so that means at the",
    "start": "1309120",
    "end": "1312159"
  },
  {
    "text": "moment it's a requirement to have Q be",
    "start": "1312159",
    "end": "1314640"
  },
  {
    "text": "the main schedule of the entire cluster",
    "start": "1314640",
    "end": "1317120"
  },
  {
    "text": "that's uh right yes for the topology of",
    "start": "1317120",
    "end": "1320720"
  },
  {
    "text": "Escodink yes and the second question if",
    "start": "1320720",
    "end": "1324240"
  },
  {
    "text": "I'm allowed uh could you elaborate a",
    "start": "1324240",
    "end": "1326240"
  },
  {
    "text": "little bit on how a rank of a particular",
    "start": "1326240",
    "end": "1328480"
  },
  {
    "text": "workload is picked",
    "start": "1328480",
    "end": "1331600"
  },
  {
    "text": "oh rank for the workload we rely on",
    "start": "1331600",
    "end": "1334400"
  },
  {
    "text": "labels that are set by the jobs and we",
    "start": "1334400",
    "end": "1337840"
  },
  {
    "text": "have custom code for every supported job",
    "start": "1337840",
    "end": "1340559"
  },
  {
    "text": "to extract the ranks from the labels so",
    "start": "1340559",
    "end": "1344000"
  },
  {
    "text": "for example for Kubernetes job the in",
    "start": "1344000",
    "end": "1347679"
  },
  {
    "text": "information about the rank is in",
    "start": "1347679",
    "end": "1350600"
  },
  {
    "text": "the in the I don't know completion index",
    "start": "1350600",
    "end": "1353840"
  },
  {
    "text": "label or something like this",
    "start": "1353840",
    "end": "1356720"
  },
  {
    "text": "okay thank you and then we rely on the",
    "start": "1356720",
    "end": "1358400"
  },
  {
    "text": "fact that the user who calls the for",
    "start": "1358400",
    "end": "1361280"
  },
  {
    "text": "example PyTorch would assign ranks",
    "start": "1361280",
    "end": "1364159"
  },
  {
    "text": "according to the indexes in the",
    "start": "1364159",
    "end": "1368200"
  },
  {
    "text": "labels all right thank you",
    "start": "1368200",
    "end": "1371320"
  },
  {
    "text": "sure any more questions",
    "start": "1371320",
    "end": "1377000"
  },
  {
    "text": "hello yeah uh I was just wondering",
    "start": "1378600",
    "end": "1382000"
  },
  {
    "text": "considering the",
    "start": "1382000",
    "end": "1383640"
  },
  {
    "text": "topological aware scheduling is mostly",
    "start": "1383640",
    "end": "1386400"
  },
  {
    "text": "based on top of rat switch and then",
    "start": "1386400",
    "end": "1389280"
  },
  {
    "text": "distribution switch distance is there",
    "start": "1389280",
    "end": "1391440"
  },
  {
    "text": "any plans to integrate stuff like uh",
    "start": "1391440",
    "end": "1393840"
  },
  {
    "text": "Cisco CDP for automatic discovery and",
    "start": "1393840",
    "end": "1396799"
  },
  {
    "text": "automatic labeling of those adding those",
    "start": "1396799",
    "end": "1399159"
  },
  {
    "text": "labels for when you're dynamically",
    "start": "1399159",
    "end": "1401360"
  },
  {
    "text": "creating nodes um this is not part of",
    "start": "1401360",
    "end": "1404640"
  },
  {
    "text": "the queue we would like to consider this",
    "start": "1404640",
    "end": "1407360"
  },
  {
    "text": "like separate uh thing and delegate the",
    "start": "1407360",
    "end": "1410080"
  },
  {
    "text": "responsibility of assigning the labels",
    "start": "1410080",
    "end": "1412080"
  },
  {
    "text": "either to cloud provider or cluster",
    "start": "1412080",
    "end": "1415520"
  },
  {
    "text": "administrator or by some another way of",
    "start": "1415520",
    "end": "1418480"
  },
  {
    "text": "figuring out the distance but it's we",
    "start": "1418480",
    "end": "1421600"
  },
  {
    "text": "want to keep it out of cube",
    "start": "1421600",
    "end": "1425799"
  },
  {
    "text": "all right I think that was it thank you",
    "start": "1430080",
    "end": "1431840"
  },
  {
    "text": "so much Mal and Yuki that was great",
    "start": "1431840",
    "end": "1436919"
  }
]