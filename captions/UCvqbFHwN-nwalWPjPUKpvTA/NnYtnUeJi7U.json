[
  {
    "text": "hi friends how's everyone doing yeah uh my name is Lee um thanks for so much for",
    "start": "1520",
    "end": "8240"
  },
  {
    "text": "coming to the tutorial today today we are talking a little bit about something",
    "start": "8240",
    "end": "13280"
  },
  {
    "text": "that you may have or you may have not heard about uh and then we're going to be fusing that with an idea that you",
    "start": "13280",
    "end": "20480"
  },
  {
    "text": "probably have heard about uh we're going to be talking a little bit about Nyx um we had any Nyx users in the room",
    "start": "20480",
    "end": "29519"
  },
  {
    "text": "oh wow all right so we're in good company now there's like a half of the room that raised their hand uh and then",
    "start": "29519",
    "end": "36320"
  },
  {
    "text": "there's probably another half of the room that has maybe even not heard of Nyx or never touched it or used it",
    "start": "36320",
    "end": "42680"
  },
  {
    "text": "before uh and then I want to sort of paint a little",
    "start": "42680",
    "end": "49280"
  },
  {
    "text": "bit of the visions and the possibilities so I'm going to be real with y'all i am in the lab right now like I am doing a",
    "start": "49280",
    "end": "55920"
  },
  {
    "text": "lot of R&D uh and I wouldn't say that I'm maybe as experienced of a Nyx user",
    "start": "55920",
    "end": "61440"
  },
  {
    "text": "as some of the other folks in this room uh but we are all in good company and we're going to run some experiments uh",
    "start": "61440",
    "end": "67760"
  },
  {
    "text": "learn some principles and try to hack some stuff together uh does that feel like a good vibe for today we've got 75",
    "start": "67760",
    "end": "73760"
  },
  {
    "text": "minutes to uh get our hands on the keyboard and mess around all right the other thing that I am much much more",
    "start": "73760",
    "end": "81200"
  },
  {
    "text": "authoritative in is GitOps right so we have Nyx which is a completely um kind",
    "start": "81200",
    "end": "89439"
  },
  {
    "text": "of separate idea from lots of cloudnative stuff but there where there's a lot of overlap nyx is this",
    "start": "89439",
    "end": "94880"
  },
  {
    "text": "sort of functional package manager that lets you build reproducible software in",
    "start": "94880",
    "end": "100240"
  },
  {
    "text": "a hermetic way uh and then you have a bunch of addressed blobs that you can",
    "start": "100240",
    "end": "105759"
  },
  {
    "text": "get from caches and you can assemble your programs with graphs of dependencies uh so Nyx is all about",
    "start": "105759",
    "end": "112000"
  },
  {
    "text": "building software and doing it in a programmatic and a declarative way um",
    "start": "112000",
    "end": "117479"
  },
  {
    "text": "GitOps is about declaring your",
    "start": "117479",
    "end": "123079"
  },
  {
    "text": "infrastructure in a way that is collaborative and sharable and so uh we're going to be",
    "start": "123079",
    "end": "130080"
  },
  {
    "text": "looking at Nyx uh we're going to be you using a",
    "start": "130080",
    "end": "136319"
  },
  {
    "text": "um easeofuse layer on top of Nyx uh developed by the fine and talented folks at Flocks um I did used to work with",
    "start": "136319",
    "end": "143920"
  },
  {
    "text": "them so I'm a little bit biased uh but I I still use their software every day it's very good um great way to share Nyx",
    "start": "143920",
    "end": "150879"
  },
  {
    "text": "with your team uh and then I work at Control Plane again my name is Lee uh I",
    "start": "150879",
    "end": "157360"
  },
  {
    "text": "think there's two control planes i'll just get this out of the way control plane IO um and I control plane employs me to",
    "start": "157360",
    "end": "166000"
  },
  {
    "text": "help maintain the Flux project i know that I I just mentioned",
    "start": "166000",
    "end": "171440"
  },
  {
    "text": "Flux earlier um and now I am telling you that I have I work on and have worked on",
    "start": "171440",
    "end": "177920"
  },
  {
    "text": "Flux for a really long time i'm going to do my best to inunciate both awesome",
    "start": "177920",
    "end": "183120"
  },
  {
    "text": "projects both very different from each other very similar names uh but maybe some fun overlap where we could paint a",
    "start": "183120",
    "end": "189599"
  },
  {
    "text": "workflow that goes into production all the way to the end but maybe also starts its story at the very beginning uh and I",
    "start": "189599",
    "end": "196879"
  },
  {
    "text": "think that that's something that's missing and that could be really exciting so um we're talking about Nyx",
    "start": "196879",
    "end": "202560"
  },
  {
    "text": "we're using Flux we're talking about GitOps and we're going to use Flux sound good all right um so the",
    "start": "202560",
    "end": "210959"
  },
  {
    "text": "first thing that I want to point you friends to um is a repo where I have some experimental things going on um and",
    "start": "210959",
    "end": "219920"
  },
  {
    "text": "I think the conference Wi-Fi here in this room because it's not very dense is actually pretty fast but I'm pretty sure",
    "start": "219920",
    "end": "225599"
  },
  {
    "text": "as soon as all of us run this speed test it's going to be a little bit miserable so if you are comfortable uh using your",
    "start": "225599",
    "end": "232000"
  },
  {
    "text": "free credits in your GitHub account for GitHub code spaces I recommend uh coming",
    "start": "232000",
    "end": "238879"
  },
  {
    "text": "over to github.comybox is my repo and then",
    "start": "238879",
    "end": "245120"
  },
  {
    "text": "cryo-en uh which is a little bit of a teaser for some of the things that I'm",
    "start": "245120",
    "end": "250799"
  },
  {
    "text": "experimenting with uh and instead of cloning the repo or forking it and",
    "start": "250799",
    "end": "256880"
  },
  {
    "text": "instead of clicking add a code space you should probably click this three dots",
    "start": "256880",
    "end": "262479"
  },
  {
    "text": "right here and you should say new with options and then you can check it out on",
    "start": "262479",
    "end": "268800"
  },
  {
    "text": "main um in some uh you know region that makes sense for you and I would recommend bumping up the core count uh",
    "start": "268800",
    "end": "276160"
  },
  {
    "text": "as well as the uh RAM just so that things compute a little bit faster for you this is uh going to run a Kubernetes",
    "start": "276160",
    "end": "282639"
  },
  {
    "text": "cluster uh and so it's nice to have a little bit of headroom uh that will use your core seconds uh on your GitHub",
    "start": "282639",
    "end": "290240"
  },
  {
    "text": "account faster so if you are running out of those for some reason even though it is only the beginning of April uh then",
    "start": "290240",
    "end": "296400"
  },
  {
    "text": "maybe just use the two cores it still works um so once you create your code",
    "start": "296400",
    "end": "301600"
  },
  {
    "text": "space um or if you don't Yes yeah i will go back thank you for um for calling",
    "start": "301600",
    "end": "311039"
  },
  {
    "text": "that out there so the repo is here uh there's a green button you click the green button you click the three dots",
    "start": "311039",
    "end": "317360"
  },
  {
    "text": "and you can say like launch with options uh and I recommend clicking four",
    "start": "317360",
    "end": "324039"
  },
  {
    "text": "cores and uh this is this is kind of like the the the point where I'm like trying",
    "start": "324039",
    "end": "330800"
  },
  {
    "text": "to pre-bake some stuff so sometimes these code spaces can take a little bit to start up um some things that are",
    "start": "330800",
    "end": "338639"
  },
  {
    "text": "going to be happening in this code space uh I will admit uh that the dev",
    "start": "338639",
    "end": "343919"
  },
  {
    "text": "container that I've prepared for you is in an early state um it's not like the",
    "start": "343919",
    "end": "351520"
  },
  {
    "text": "most um you know like perfectly put together dev container but what it is",
    "start": "351520",
    "end": "358400"
  },
  {
    "text": "using is Nyx uh in the dev container uh it's using Nyx via Flux which I've",
    "start": "358400",
    "end": "365360"
  },
  {
    "text": "mentioned a couple times um and it's using what's called a Flux environment",
    "start": "365360",
    "end": "371360"
  },
  {
    "text": "uh which has its dependencies declaratively stated inside of the git",
    "start": "371360",
    "end": "377680"
  },
  {
    "text": "repo that you are looking at uh and that's going to create the dev container with Docker coming from Nyx uh providing",
    "start": "377680",
    "end": "385919"
  },
  {
    "text": "you your Kubernetes command line tools providing kind the Kubernetes cluster itself as well as a bunch of developer",
    "start": "385919",
    "end": "391520"
  },
  {
    "text": "tools uh and getting everything set up uh in the dev container and then using",
    "start": "391520",
    "end": "397720"
  },
  {
    "text": "Microsoft's init RC and hooks and stuff to start the Kubernetes cluster for you",
    "start": "397720",
    "end": "403120"
  },
  {
    "text": "as well as the Nyx statement um so that's just some background uh as I fill the space uh to",
    "start": "403120",
    "end": "410720"
  },
  {
    "text": "allow folks to create the dev container um I'm going to start moving on but definitely if you need a little bit more",
    "start": "410720",
    "end": "417520"
  },
  {
    "text": "time please feel free to ask another question sweet so get the dev container spun up uh what that will look like is a",
    "start": "417520",
    "end": "424880"
  },
  {
    "text": "window that kind of looks like this um you can see I've also been working on some local changes and things so yours",
    "start": "424880",
    "end": "432319"
  },
  {
    "text": "will maybe look a little bit different but when you pop into here you'll have a terminal i'll try to make this big for",
    "start": "432319",
    "end": "438639"
  },
  {
    "text": "everybody and you'll notice um that you are going",
    "start": "438639",
    "end": "444639"
  },
  {
    "text": "to be at a shell your shell will probably look different from mine because I have my dot files loaded um if",
    "start": "444639",
    "end": "452000"
  },
  {
    "text": "you're really suffering and you need uh you know to import your dot files or whatever feel free to take the time to",
    "start": "452000",
    "end": "458319"
  },
  {
    "text": "do so i also have a simple um bash rc simple it's like bash rcen simple under",
    "start": "458319",
    "end": "465199"
  },
  {
    "text": "my name on GitHub if you want to clone that you can use those and then it your repo will uh look like mine in code",
    "start": "465199",
    "end": "472440"
  },
  {
    "text": "spaces um what else was I trying to accomplish here okay so you'll pop into",
    "start": "472440",
    "end": "478639"
  },
  {
    "text": "here and you're going to have a code space and you're going to be in the workspace cryonix i think that uh you",
    "start": "478639",
    "end": "485360"
  },
  {
    "text": "should also clone another repository so we should go into the workspaces folder",
    "start": "485360",
    "end": "492720"
  },
  {
    "text": "uh and get clone um just httpsgithub",
    "start": "492720",
    "end": "499720"
  },
  {
    "text": "uh.com and then it's going to be stealthy",
    "start": "500440",
    "end": "505680"
  },
  {
    "text": "slashcale-nix githops uh and that should put a repo",
    "start": "507160",
    "end": "512640"
  },
  {
    "text": "into that workspace folder i already have it so git is complaining at me uh",
    "start": "512640",
    "end": "517680"
  },
  {
    "text": "but uh there is another repository that has other folders with other micro demos that we can play with so go ahead and",
    "start": "517680",
    "end": "524159"
  },
  {
    "text": "get that other uh repository i'm just going to leave that up on the screen there um let's talk a little bit",
    "start": "524159",
    "end": "530760"
  },
  {
    "text": "about dependencies and working with people on a team or even just becoming",
    "start": "530760",
    "end": "538640"
  },
  {
    "text": "frustrated with yourself over time working on the software that you like to play with or the projects that you want",
    "start": "538640",
    "end": "544399"
  },
  {
    "text": "to work on um when I want to install a database on",
    "start": "544399",
    "end": "550240"
  },
  {
    "text": "my Mac so that I can write software and put information into that database I",
    "start": "550240",
    "end": "555839"
  },
  {
    "text": "usually will need some sort of package manager um I'm either popping into the",
    "start": "555839",
    "end": "560959"
  },
  {
    "text": "browser going to a website and clicking install on s some sort of application or maybe you get Brew",
    "start": "560959",
    "end": "568800"
  },
  {
    "text": "my teammate uses Ubuntu and he needs to go and get that",
    "start": "568800",
    "end": "574560"
  },
  {
    "text": "same sort of database probably a different version of it um because the package managers are now kind of out of",
    "start": "574560",
    "end": "581279"
  },
  {
    "text": "step with each other uh but he's going to use apt right and then my teammate is on Arch Linux is going to use Pac-Man uh",
    "start": "581279",
    "end": "588800"
  },
  {
    "text": "but then maybe they also might want to actually get the same exact version of the package as me and so they might also",
    "start": "588800",
    "end": "594640"
  },
  {
    "text": "use Linux Brew and maybe they'll have the same version but it'll be cross-built for their machine their uh",
    "start": "594640",
    "end": "600800"
  },
  {
    "text": "operating system and CPU uh and then I'll have my own version built for me um",
    "start": "600800",
    "end": "606800"
  },
  {
    "text": "this gets really frustrating when we have different hardware from each other",
    "start": "606800",
    "end": "611839"
  },
  {
    "text": "and so Docker came and kind of saved the day because we just wanted to pretend that everything was a Linux machine",
    "start": "611839",
    "end": "618279"
  },
  {
    "text": "unfortunately that comes with a couple of trade-offs one you've got to run a virtual machine and split up your resources it's not so big of a trade-off",
    "start": "618279",
    "end": "625200"
  },
  {
    "text": "because now we have really fast CPUs and stuff but it can make a difference and then um two it means that you actually",
    "start": "625200",
    "end": "631760"
  },
  {
    "text": "don't get to use the benefits of your operating system kernel and your native",
    "start": "631760",
    "end": "637360"
  },
  {
    "text": "hardware and maybe that might be important if you're doing an ML workload and like wanting to do some GPU um you",
    "start": "637360",
    "end": "644160"
  },
  {
    "text": "know computations or something we I think need to get to a place where",
    "start": "644160",
    "end": "652640"
  },
  {
    "text": "the system package manager evolves a little bit luckily there are some folks that got ahead of us so I'm going to",
    "start": "652640",
    "end": "660000"
  },
  {
    "text": "move on from having the repos on the screen uh also please forgive my disorganization i had to restart my",
    "start": "660000",
    "end": "666160"
  },
  {
    "text": "machine right before this um entire presentation so I'm going to try to find things as quickly as possible but the",
    "start": "666160",
    "end": "673200"
  },
  {
    "text": "the Nyx community has been around for 22 years uh this project is huge if you go",
    "start": "673200",
    "end": "678399"
  },
  {
    "text": "to github.com uh Nyxos Nyx packages and if you can type",
    "start": "678399",
    "end": "687880"
  },
  {
    "text": "correctly you'll see uh in here that there is I had this up earlier what am I",
    "start": "687880",
    "end": "694959"
  },
  {
    "text": "looking for uh it breaks the contributor count",
    "start": "694959",
    "end": "700480"
  },
  {
    "text": "on GitHub more like 20,000 or something like that uh over 22 years with massive",
    "start": "700480",
    "end": "706640"
  },
  {
    "text": "amount of commits and you can see that over this history there's a very large uh maybe even kind of multiplying or",
    "start": "706640",
    "end": "713360"
  },
  {
    "text": "exponentiating trend um some sort of curve that's going up uh people really",
    "start": "713360",
    "end": "718399"
  },
  {
    "text": "like this stuff if you've never heard of Nyx before the benefits that it gives you uh is that your builds are declarative and then you can maybe start",
    "start": "718399",
    "end": "724880"
  },
  {
    "text": "to do operational stuff declaratively nyx looks like this it's honestly miserable for anybody uh whose",
    "start": "724880",
    "end": "731760"
  },
  {
    "text": "experience would be you know beginning programming Python uh and uh just normal",
    "start": "731760",
    "end": "738160"
  },
  {
    "text": "stuff that everybody knows nyx is a functional programming language uh and consuming it oftent times uh it has a",
    "start": "738160",
    "end": "744399"
  },
  {
    "text": "reputation for being very hard to grock so uh I want to show you maybe an easier",
    "start": "744399",
    "end": "750560"
  },
  {
    "text": "way to use Nyx but still get the benefits of it uh it's an open source project called Flux uh they do have like",
    "start": "750560",
    "end": "756720"
  },
  {
    "text": "a a you know open service that's similar to DockerHub as well where you can push and pull things but you don't really need to use that part and we're not",
    "start": "756720",
    "end": "762800"
  },
  {
    "text": "going to use it today um we're just going to use Flux to create environments that are reproducible we're going to",
    "start": "762800",
    "end": "768880"
  },
  {
    "text": "consume software from open source and then we're going to try and use our same habits to build a Go application",
    "start": "768880",
    "end": "776110"
  },
  {
    "text": "[Music] so if you pop into the Oh also one thing that's really important here uh after",
    "start": "776110",
    "end": "782639"
  },
  {
    "text": "you clone both of your repos uh press command shiftp to open up the command pallet and then uh you'll want to like",
    "start": "782639",
    "end": "790240"
  },
  {
    "text": "make sure that you type the like like uh greater than sign like a little arrow",
    "start": "790240",
    "end": "797600"
  },
  {
    "text": "space and then you'll want to look for add folder to workspace you need to click that and you need to add scale nyx",
    "start": "797600",
    "end": "805519"
  },
  {
    "text": "githops to the workspace so that way you have two repos and when you do that it's",
    "start": "805519",
    "end": "810560"
  },
  {
    "text": "actually going to like restart the editor um so if you don't do that um if you pause this code space and come back",
    "start": "810560",
    "end": "817440"
  },
  {
    "text": "to it later you may lose work so just heads up that has bitten me before",
    "start": "817440",
    "end": "823290"
  },
  {
    "text": "[Music] um let's hop into the scale Nix GitOps",
    "start": "823290",
    "end": "831720"
  },
  {
    "text": "um repo here i have a software repository i want to work on my Go",
    "start": "831720",
    "end": "838360"
  },
  {
    "text": "application you'll notice I don't have Go if I go into my dev folder scrapbook",
    "start": "838360",
    "end": "848000"
  },
  {
    "text": "dev then you'll see that I have my source code there i would like to go build this but I can't because I don't",
    "start": "849000",
    "end": "855120"
  },
  {
    "text": "have go but if I run flux activate then now I will be put into a",
    "start": "855120",
    "end": "861839"
  },
  {
    "text": "subshell that will have my dependencies so if you're a Nixxian in this room which you know there's like a pretty",
    "start": "861839",
    "end": "868639"
  },
  {
    "text": "impressive percentage of you here this is like no news right um this looks a lot like maybe running Nixenv or",
    "start": "868639",
    "end": "875839"
  },
  {
    "text": "activating this thing called a flake which is a complete jargon term that you've never heard of for the rest of the room um but here what we're doing is",
    "start": "875839",
    "end": "883040"
  },
  {
    "text": "activating what's called a flock environment and so somebody has prepared",
    "start": "883040",
    "end": "889760"
  },
  {
    "text": "a group of dependencies let's see what's inside of it so if I list this flux",
    "start": "889760",
    "end": "895720"
  },
  {
    "text": "environment then I can see that I have a CA certificate bundle for making sure",
    "start": "895720",
    "end": "901040"
  },
  {
    "text": "that my application can do TLS i have GCC the GNU C compiler uh for doing",
    "start": "901040",
    "end": "907760"
  },
  {
    "text": "Cbinding stuff i have the Go uh tool chain for building Go applications i",
    "start": "907760",
    "end": "913680"
  },
  {
    "text": "have the image magic C libraries and development kit and then I have this thing called package config which",
    "start": "913680",
    "end": "920160"
  },
  {
    "text": "honestly I don't know what that is but I downloaded I I added it to the environment after I had to deal with some errors and it it helps build the",
    "start": "920160",
    "end": "927040"
  },
  {
    "text": "image magic libraries when you're doing stuff so it's it's necessary so this is what I need to",
    "start": "927040",
    "end": "933760"
  },
  {
    "text": "develop my application um similarly if I go up into the uh",
    "start": "933760",
    "end": "940639"
  },
  {
    "text": "folder above and inside of the dev container you'll see that there's",
    "start": "940639",
    "end": "948160"
  },
  {
    "text": "also a flux environment here it's called flux test it's got zsh nano kubernetes",
    "start": "948199",
    "end": "956959"
  },
  {
    "text": "helm cubectl kind jq for some json parsing or whatever you want to do",
    "start": "956959",
    "end": "962079"
  },
  {
    "text": "there's gnupg for validating you know some secrets stuff uh the GitHub command line tool Docker etc um the ACL thing",
    "start": "962079",
    "end": "969519"
  },
  {
    "text": "for fixing some file permissions in the dev container setup inside of code spaces all kinds of fun stuff and uh",
    "start": "969519",
    "end": "976320"
  },
  {
    "text": "this environment is declarative let me show you what that means uh there",
    "start": "976320",
    "end": "981720"
  },
  {
    "text": "is a flock folder we'll actually hop back up over into",
    "start": "981720",
    "end": "988560"
  },
  {
    "text": "the Sorry um let's Could you ask that question i just",
    "start": "989240",
    "end": "994959"
  },
  {
    "text": "wasn't",
    "start": "994959",
    "end": "997199"
  },
  {
    "text": "listening yeah okay cool i will do my best to slow down",
    "start": "1000199",
    "end": "1007360"
  },
  {
    "text": "a little bit here so in the scrapbook dev folder inside of the",
    "start": "1007360",
    "end": "1012680"
  },
  {
    "text": "repo there is a folder that's checked into the repo it is a hidden folder so",
    "start": "1012680",
    "end": "1018880"
  },
  {
    "text": "ls minus la uh that shows you the files inside of the scrapbook dev folder i just ran the cd command to get in here",
    "start": "1018880",
    "end": "1026480"
  },
  {
    "text": "uh there's a folder called flux and inside of this um",
    "start": "1026480",
    "end": "1032038"
  },
  {
    "text": "folder there are manifests and these manifests I did not write them instead",
    "start": "1032039",
    "end": "1038558"
  },
  {
    "text": "uh if you want to change things inside of uh here you just like flocks install",
    "start": "1038559",
    "end": "1043760"
  },
  {
    "text": "and then we could say we want to add like python 3 uh you can do the same thing with like",
    "start": "1043760",
    "end": "1051600"
  },
  {
    "text": "flock search um maybe we could search for some I don't know Elixir related things",
    "start": "1051600",
    "end": "1059520"
  },
  {
    "text": "or uh how do you even spell Elixir maybe let's just look for",
    "start": "1059520",
    "end": "1065320"
  },
  {
    "text": "Node so like you can get some Node.js runtimes from the catalog uh these",
    "start": "1065320",
    "end": "1071679"
  },
  {
    "text": "packages are ultimately backed by the Nyx packages cache um and Flux is doing",
    "start": "1071679",
    "end": "1078640"
  },
  {
    "text": "a little bit of work in their service to index them uh which means that you can also say like flux show uh the name of a",
    "start": "1078640",
    "end": "1086160"
  },
  {
    "text": "package so like say I did no.js you can see the different versions that are",
    "start": "1086160",
    "end": "1091360"
  },
  {
    "text": "available and what CPU and operating system architecture combinations are",
    "start": "1091360",
    "end": "1097280"
  },
  {
    "text": "supported for that particular package version um so this is a package manager",
    "start": "1097280",
    "end": "1102880"
  },
  {
    "text": "that probably feels similar to something you've used before brew npm uh those",
    "start": "1102880",
    "end": "1108799"
  },
  {
    "text": "sorts of things uh we have a question over here from the person in the Palumi shirt",
    "start": "1108799",
    "end": "1114840"
  },
  {
    "text": "so um basically those are versions that predate the release of the Apple Silicon Mac um and so historically uh those",
    "start": "1121760",
    "end": "1129200"
  },
  {
    "text": "package versions uh when they were built on a communal build farm called Hydra um just that the uh CPU and operating",
    "start": "1129200",
    "end": "1137919"
  },
  {
    "text": "system target for ARM 64 Darwin uh or like basically an Apple silicon Mac just",
    "start": "1137919",
    "end": "1143760"
  },
  {
    "text": "didn't exist yet which is a really good question for the other ones uh the operating system tupil is just not being",
    "start": "1143760",
    "end": "1149760"
  },
  {
    "text": "shown because it's kind of canonically expected that most packages are cross-built for all four targets um but",
    "start": "1149760",
    "end": "1156160"
  },
  {
    "text": "if you end up looking in here and you see um any uh architecture combo then",
    "start": "1156160",
    "end": "1162799"
  },
  {
    "text": "that's a sign that it's not maybe supported on your on your laptop or your",
    "start": "1162799",
    "end": "1167919"
  },
  {
    "text": "friend's laptop so um so this is really interesting because",
    "start": "1167919",
    "end": "1173520"
  },
  {
    "text": "uh this package manager is showing me a a single idea of a package that has multiple versions that then is also",
    "start": "1173520",
    "end": "1180080"
  },
  {
    "text": "supported on multiple operating systems uh which is sometimes I think that",
    "start": "1180080",
    "end": "1185120"
  },
  {
    "text": "that's pretty unusual um it's it's not unusual if you're just looking at like version manager tools for say Node.js or",
    "start": "1185120",
    "end": "1192559"
  },
  {
    "text": "Go um but it is really unusual when you're thinking about a package manager that has a scope that's as wide as Nyx",
    "start": "1192559",
    "end": "1199919"
  },
  {
    "text": "packages which is like over 120,000 packages some of them come directly from programming language libraries others",
    "start": "1199919",
    "end": "1206480"
  },
  {
    "text": "are command line tools others are system libraries a bunch of C tool chain stuff",
    "start": "1206480",
    "end": "1211600"
  },
  {
    "text": "uh and even things like systemd and docker uh you can install all of these things with nyx packages and many of",
    "start": "1211600",
    "end": "1217679"
  },
  {
    "text": "these targets are cross built are cross-built um so that's this this is already getting really interesting",
    "start": "1217679",
    "end": "1224080"
  },
  {
    "text": "what's also interesting is if you run fluxedit there is a declarative manifest for anything that you do imperatively",
    "start": "1224080",
    "end": "1231679"
  },
  {
    "text": "uh this I when I look at this I see the design of npm basically a package json",
    "start": "1231679",
    "end": "1237520"
  },
  {
    "text": "the format of this is called a manifest toml file Uh and you can edit this as well um so",
    "start": "1237520",
    "end": "1244880"
  },
  {
    "text": "if I wanted to say I just added Python 3 and um if",
    "start": "1244880",
    "end": "1252200"
  },
  {
    "text": "I was privy with I don't even know what editor I'm in nano um then",
    "start": "1252200",
    "end": "1261480"
  },
  {
    "text": "uh oh you know I'm just realizing some of you probably ran that flux edit command and then didn't know what editor you were in um I probably should have",
    "start": "1262720",
    "end": "1270320"
  },
  {
    "text": "added the the variable to open that up in VS Code i apologize um if you are in",
    "start": "1270320",
    "end": "1275919"
  },
  {
    "text": "nano uh and you are like struggling to get out you can press probably like",
    "start": "1275919",
    "end": "1281360"
  },
  {
    "text": "control uh and x and that will exit just in case anybody got trapped",
    "start": "1281360",
    "end": "1288120"
  },
  {
    "text": "um so there's a declarative manifest and that means that if I change it and I",
    "start": "1288120",
    "end": "1293760"
  },
  {
    "text": "look at my git status um then there are changes to those files and then I can go",
    "start": "1293760",
    "end": "1300159"
  },
  {
    "text": "and diff the manifest change uh and you can see now that I've",
    "start": "1300159",
    "end": "1307679"
  },
  {
    "text": "removed a comment here and I've added uh I guess I I made an edit but uh this was",
    "start": "1307679",
    "end": "1312720"
  },
  {
    "text": "uncommented just just a moment ago it was added automatically and declaratively and I could you know uh",
    "start": "1312720",
    "end": "1319200"
  },
  {
    "text": "get commit you know to push that up to the repo and then anybody who used this",
    "start": "1319200",
    "end": "1324400"
  },
  {
    "text": "commit uh would then whenever they activate that environment they would now have Python 3 at that particular version",
    "start": "1324400",
    "end": "1330799"
  },
  {
    "text": "when I say at that particular version it's a promise uh because if you actually look at the git",
    "start": "1330799",
    "end": "1337880"
  },
  {
    "text": "diff there's a lock file also a huge idea like what a concept cept when I'm",
    "start": "1337880",
    "end": "1345440"
  },
  {
    "text": "working on a project and I would like dependencies and I install a version of a programming language interpreter or",
    "start": "1345440",
    "end": "1351280"
  },
  {
    "text": "some C libraries uh or a CA certificate bundle that the the hash and the version",
    "start": "1351280",
    "end": "1357120"
  },
  {
    "text": "and the provenence of that decision that I made as a developer to pull a dependency into my software project that",
    "start": "1357120",
    "end": "1365120"
  },
  {
    "text": "we would lock it and this is again not a new idea npm does this cargo does this",
    "start": "1365120",
    "end": "1371520"
  },
  {
    "text": "go works this way so basically anybody doing real software development has",
    "start": "1371520",
    "end": "1377200"
  },
  {
    "text": "found this need for per project dependency management resolution and locking uh and we just don't treat our",
    "start": "1377200",
    "end": "1383360"
  },
  {
    "text": "machines this way uh Nyx kind of has this in a thing that's",
    "start": "1383360",
    "end": "1388880"
  },
  {
    "text": "called a flake that's also moderately experimental uh and sometimes controversial depending on who you talk",
    "start": "1388880",
    "end": "1394720"
  },
  {
    "text": "to um flux is not using uh a flakes it doesn't like require them uh you can use",
    "start": "1394720",
    "end": "1401440"
  },
  {
    "text": "flakes with this uh like uh environment format if you would like like I can I",
    "start": "1401440",
    "end": "1407679"
  },
  {
    "text": "can go and install any flake ref um there's a bunch of Nyx people in the room so yeah you can install the flake",
    "start": "1407679",
    "end": "1412880"
  },
  {
    "text": "refs you can do all of your next magic um you know your years of experience um",
    "start": "1412880",
    "end": "1418000"
  },
  {
    "text": "doing functional programming and uh uh you know crafting perfectly perfectly uh",
    "start": "1418000",
    "end": "1425039"
  },
  {
    "text": "you know tree shaken software builds uh and then just put that into a flux environment and somebody does a git",
    "start": "1425039",
    "end": "1431840"
  },
  {
    "text": "clone and they do a flux activate and they have all of your stuff running or even potentially building so um very",
    "start": "1431840",
    "end": "1437280"
  },
  {
    "text": "nice but uh these are locked not just for one operating system but for all of",
    "start": "1437280",
    "end": "1442480"
  },
  {
    "text": "the systems that my environment is declared to support that's really nice",
    "start": "1442480",
    "end": "1448240"
  },
  {
    "text": "because this exact environment that I'm using on this Linux AMD machine uh in",
    "start": "1448240",
    "end": "1453919"
  },
  {
    "text": "GitHub code spaces if you go and check this out uh on your Mac you will be able",
    "start": "1453919",
    "end": "1459440"
  },
  {
    "text": "to use that exact same environment so um this is I'm going to increase the",
    "start": "1459440",
    "end": "1465679"
  },
  {
    "text": "font size in a second here again um why is this not I'm in the wrong repo",
    "start": "1465679",
    "end": "1473440"
  },
  {
    "text": "this needs to be workshop scale there we",
    "start": "1473440",
    "end": "1480960"
  },
  {
    "text": "go i need to check the status of where I'm at here right now right i'll push that",
    "start": "1487000",
    "end": "1493919"
  },
  {
    "text": "up oh wow okay hold up one second i have to mount a",
    "start": "1499640",
    "end": "1506679"
  },
  {
    "text": "disc look away i'm doing uh developer",
    "start": "1506679",
    "end": "1511760"
  },
  {
    "text": "build stuff right now okay there we are",
    "start": "1511760",
    "end": "1520640"
  },
  {
    "text": "oh boy all",
    "start": "1520640",
    "end": "1523520"
  },
  {
    "text": "right um scrapbookdev okay so this is that",
    "start": "1527799",
    "end": "1535039"
  },
  {
    "text": "exact same developer environment uh right here right the caerts GCC go image",
    "start": "1535039",
    "end": "1540159"
  },
  {
    "text": "magic package config uh I can activate it uh and then now I have that",
    "start": "1540159",
    "end": "1545440"
  },
  {
    "text": "environment on my stack of subshells and I have access to go go is coming from my",
    "start": "1545440",
    "end": "1552320"
  },
  {
    "text": "flux environment uh you can see that it's coming from here uh and that",
    "start": "1552320",
    "end": "1557360"
  },
  {
    "text": "actually comes from a immutable uh readonly disc that you saw me just mount",
    "start": "1557360",
    "end": "1563279"
  },
  {
    "text": "uh that's part of my Nyx installation um that is built for Arch 64 Darwin uh but",
    "start": "1563279",
    "end": "1570400"
  },
  {
    "text": "this is the same exact git repo and the same conceptual environment uh with the same life cycle of management uh anytime",
    "start": "1570400",
    "end": "1576720"
  },
  {
    "text": "you change the software project uh for the uh Linux AMD4 stuff AMD 64",
    "start": "1576720",
    "end": "1584919"
  },
  {
    "text": "stuff so okay we we've thought a little bit about",
    "start": "1584919",
    "end": "1590159"
  },
  {
    "text": "environments we've talked through kind of what that means uh you have the code",
    "start": "1590159",
    "end": "1595360"
  },
  {
    "text": "space cloned you probably have both git repos cloned you have your your git repo",
    "start": "1595360",
    "end": "1600400"
  },
  {
    "text": "added to the workspace so you don't lose any of your work um so just one more",
    "start": "1600400",
    "end": "1606159"
  },
  {
    "text": "time unwinding since I know that we've kind of gone on a couple tangents but in the scale next GitOps repo if you go to",
    "start": "1606159",
    "end": "1614080"
  },
  {
    "text": "the scrapbook dev environment so in this state and you run",
    "start": "1614080",
    "end": "1620480"
  },
  {
    "text": "flux activate you will get the development dependencies necessary for you to run go build of this application",
    "start": "1620480",
    "end": "1629120"
  },
  {
    "text": "if you run that command then it will start to download a bunch of dependencies from the internet uh at",
    "start": "1629120",
    "end": "1635679"
  },
  {
    "text": "this point now I have only one thing to mention to the Nixians in the room the",
    "start": "1635679",
    "end": "1641440"
  },
  {
    "text": "folks who use Nyx already uh is that you would probably if you're very",
    "start": "1641440",
    "end": "1646640"
  },
  {
    "text": "experienced with Nyx write a a Nyx program uh to get your dependencies for",
    "start": "1646640",
    "end": "1651840"
  },
  {
    "text": "your Go build um and for people in the room who are not using Nyx uh I'm just",
    "start": "1651840",
    "end": "1657360"
  },
  {
    "text": "asking you to run a go build and do a go mod um basically like hydrate modules",
    "start": "1657360",
    "end": "1662960"
  },
  {
    "text": "the normal go way uh so I would say that this is stepping out of maybe the normal",
    "start": "1662960",
    "end": "1668960"
  },
  {
    "text": "Nyx path but what we are winning is a lot of Nyx benefits for everything",
    "start": "1668960",
    "end": "1675600"
  },
  {
    "text": "underneath the developer environment um and nothing is stopping you from",
    "start": "1675600",
    "end": "1681600"
  },
  {
    "text": "continuing to use Nyx from here but just like what's really nice about this is you can get the benefits or at least a",
    "start": "1681600",
    "end": "1687520"
  },
  {
    "text": "good number of the benefits but then you don't have to actually ask anybody to learn really anything new at all um so",
    "start": "1687520",
    "end": "1694559"
  },
  {
    "text": "go build uh what you'll end up with if you run ls I I like to run ls-la",
    "start": "1694559",
    "end": "1703080"
  },
  {
    "text": "um is a binary that's built that's just sitting in here uh great i have my",
    "start": "1703080",
    "end": "1708960"
  },
  {
    "text": "application built uh if you look through the source code uh of the app inside of",
    "start": "1708960",
    "end": "1714240"
  },
  {
    "text": "the scrapbook dev folder you'll see uh in main.go that this application is using a",
    "start": "1714240",
    "end": "1722720"
  },
  {
    "text": "Postgress driver uh it's using the Go fiber um like web application framework",
    "start": "1722720",
    "end": "1729360"
  },
  {
    "text": "uh and then we also are doing some stuff with mime types and we are using the go",
    "start": "1729360",
    "end": "1734480"
  },
  {
    "text": "graphics imageic uh bindings so these are Cb bindings from a go application",
    "start": "1734480",
    "end": "1740640"
  },
  {
    "text": "and I've done that uh kind of intentionally because now you're asking for kind of cross language dependency",
    "start": "1740640",
    "end": "1746640"
  },
  {
    "text": "management which is the kind of thing that's usually really frustrating and errorprone and cause you all sorts of issues uh the beginning of this program",
    "start": "1746640",
    "end": "1753279"
  },
  {
    "text": "initializes immig um with the C bindings uh and then we open up a connection to a",
    "start": "1753279",
    "end": "1759200"
  },
  {
    "text": "Postgress database uh and listen for a couple of uh views and then um there's a",
    "start": "1759200",
    "end": "1764960"
  },
  {
    "text": "couple of you know kind of restish ways to put stuff into a list of things uh",
    "start": "1764960",
    "end": "1771760"
  },
  {
    "text": "and then we serve uh some things from a public directory and then um there's you",
    "start": "1771760",
    "end": "1777520"
  },
  {
    "text": "know if you want to mess with the HTML and stuff uh you can go directly into views and index uh and mess around if",
    "start": "1777520",
    "end": "1784559"
  },
  {
    "text": "you are a front-end developer uh and want to have a JavaScript Go application",
    "start": "1784559",
    "end": "1790960"
  },
  {
    "text": "cool okay so that's a little bit about the application that we're doing let's go ahead and run it go image app okay my",
    "start": "1790960",
    "end": "1798240"
  },
  {
    "text": "fiber server is running um because I'm using code spaces it has noticed that my application is running on localhost port",
    "start": "1798240",
    "end": "1805279"
  },
  {
    "text": "3000 um you'll notice we're at a cloudnative conference and we're currently not using any containers at",
    "start": "1805279",
    "end": "1810320"
  },
  {
    "text": "all we are using the thrill of localhost um so open in browser that's great it's",
    "start": "1810320",
    "end": "1816240"
  },
  {
    "text": "going to go in proxy me to my application and uh just oh gosh right I",
    "start": "1816240",
    "end": "1822360"
  },
  {
    "text": "thought things are not working so I I'm just playing a game i'm I'm I'm totally",
    "start": "1822360",
    "end": "1827679"
  },
  {
    "text": "expecting that because uh you know my my Go application is trying to connect to a",
    "start": "1827679",
    "end": "1833200"
  },
  {
    "text": "Postgress database and there's no Postgress database let's fix that i'm going to show you why it kind of is fun",
    "start": "1833200",
    "end": "1840799"
  },
  {
    "text": "to not be inside of a container all of the time uh I'm going to do flocks so like with with my scrapbook",
    "start": "1840799",
    "end": "1849360"
  },
  {
    "text": "dev environment already active I'm going to run flocks activate",
    "start": "1849360",
    "end": "1854559"
  },
  {
    "text": "uh d- remote and then I'm going to say in the",
    "start": "1854559",
    "end": "1859679"
  },
  {
    "text": "flock namespace so flocks slashpostgress and then I'm going to pass another flag I'm going to say start",
    "start": "1859679",
    "end": "1869799"
  },
  {
    "text": "services and this is going to pull a remote environment that's just kind of",
    "start": "1869799",
    "end": "1874919"
  },
  {
    "text": "ephemeral and Um of course we're doing a live demo",
    "start": "1874919",
    "end": "1880279"
  },
  {
    "text": "so something didn't work",
    "start": "1880279",
    "end": "1886120"
  },
  {
    "text": "why is it a flaky problem why did that not",
    "start": "1886120",
    "end": "1891240"
  },
  {
    "text": "work service manager is unresponsive please try again later pulling updates from Foxhub i could also pull copy this",
    "start": "1891240",
    "end": "1898399"
  },
  {
    "text": "and attempt to run it i also can just not start the services",
    "start": "1898399",
    "end": "1904480"
  },
  {
    "text": "there's a couple of things I could do here i'll be truthful i was expecting",
    "start": "1904480",
    "end": "1909840"
  },
  {
    "text": "this to be like a like a wow moment but instead",
    "start": "1909840",
    "end": "1915120"
  },
  {
    "text": "um 503 yeah maybe but I mean I'm on a code",
    "start": "1926279",
    "end": "1931760"
  },
  {
    "text": "space you know like this machine is in the cloud um I did get a 503 from the",
    "start": "1931760",
    "end": "1940080"
  },
  {
    "text": "flux meta git repo that's",
    "start": "1940080",
    "end": "1945880"
  },
  {
    "text": "interesting what can I do about this i am going",
    "start": "1945880",
    "end": "1951960"
  },
  {
    "text": "to make a new flux environment uh with you friends so we're going to make a",
    "start": "1951960",
    "end": "1958480"
  },
  {
    "text": "directory i'm just going to call it Postgress and then I should hopefully be",
    "start": "1958480",
    "end": "1966159"
  },
  {
    "text": "able to flock pull d-copy",
    "start": "1966159",
    "end": "1971240"
  },
  {
    "text": "the flock hostgress",
    "start": "1971240",
    "end": "1976279"
  },
  {
    "text": "environment presumably if flockhub is up right now then I will be able to do that",
    "start": "1976279",
    "end": "1982559"
  },
  {
    "text": "if not I can get it directly from the git repo the problem here is that we need a database and we want to run it",
    "start": "1982559",
    "end": "1989360"
  },
  {
    "text": "and Wow that's Yeah okay cool let's go ahead",
    "start": "1989360",
    "end": "1995320"
  },
  {
    "text": "and go get that",
    "start": "1995320",
    "end": "2000240"
  },
  {
    "text": "environment flux ends there's a repo under the flux",
    "start": "2001799",
    "end": "2007919"
  },
  {
    "text": "namespace SL called Fluxends and if you um look through this list there's",
    "start": "2007919",
    "end": "2013720"
  },
  {
    "text": "Postgress uh and basically I'm just trying to in flock Postgress.fox env",
    "start": "2013720",
    "end": "2023279"
  },
  {
    "text": "um I'm trying to get to this TOML file and um we",
    "start": "2023279",
    "end": "2031080"
  },
  {
    "text": "can kind of just copy the entire",
    "start": "2031080",
    "end": "2035600"
  },
  {
    "text": "thing okay i wasn't in intending or expecting that service to ever go down",
    "start": "2036360",
    "end": "2042960"
  },
  {
    "text": "that's never gone down for me before so um thanks for suffering through this with me um so what I'm going to do here",
    "start": "2042960",
    "end": "2050480"
  },
  {
    "text": "is I'm in this new folder i'm going to flock init a new environment uh and then",
    "start": "2050480",
    "end": "2057919"
  },
  {
    "text": "uh I'm going to set my editor i think it's like this",
    "start": "2057919",
    "end": "2065839"
  },
  {
    "text": "and then maybe does that",
    "start": "2065839",
    "end": "2071158"
  },
  {
    "text": "work yeah there we go then I just paste",
    "start": "2071159",
    "end": "2076320"
  },
  {
    "text": "what I just copied um so again that that's from the flocks repo in the Postgress folder",
    "start": "2076320",
    "end": "2083040"
  },
  {
    "text": "underflox uh manifest tunnel i'm just going to",
    "start": "2083040",
    "end": "2090240"
  },
  {
    "text": "save that file and accidentally close my code space",
    "start": "2090240",
    "end": "2095358"
  },
  {
    "text": "uh from muscle memory and we're just gonna",
    "start": "2095359",
    "end": "2100599"
  },
  {
    "text": "Yeah yeah the upstream repo address that's um so that was",
    "start": "2106000",
    "end": "2112520"
  },
  {
    "text": "uh flocks flocks env uh and then in the postgress folder",
    "start": "2117680",
    "end": "2125680"
  },
  {
    "text": "there is a flock uh and then there is an env folder with",
    "start": "2125680",
    "end": "2130720"
  },
  {
    "text": "a manifest toml and we basically just want to copy this um technically you",
    "start": "2130720",
    "end": "2136640"
  },
  {
    "text": "should also have like the lock so if you want you can just like clone the entire repository uh but uh this should should",
    "start": "2136640",
    "end": "2145280"
  },
  {
    "text": "probably work even just copying the manifest at this point now I'm I'm totally just playing jazz so um",
    "start": "2145280",
    "end": "2154760"
  },
  {
    "text": "but yeah yeah um so once you make a new folder you can flux",
    "start": "2154760",
    "end": "2161720"
  },
  {
    "text": "init right okay so here it just says created the environment Postgress uh and then um you can also just like open that",
    "start": "2161720",
    "end": "2169440"
  },
  {
    "text": "file you don't have to necessarily run fluxedit um but that will do like some",
    "start": "2169440",
    "end": "2174560"
  },
  {
    "text": "validation checking similar to coupubectl edit uh and",
    "start": "2174560",
    "end": "2182720"
  },
  {
    "text": "uh basically so like in this Postgress folder if you just like edit the manifest toml here uh I would just paste",
    "start": "2182720",
    "end": "2190480"
  },
  {
    "text": "it in save it uh and then if you're in here and you flock activate uh then it",
    "start": "2190480",
    "end": "2197119"
  },
  {
    "text": "will want to build that environment so after activating it I'm actually going to like exit and I'm going to show you",
    "start": "2197119",
    "end": "2203599"
  },
  {
    "text": "that you can activate and you can start the services",
    "start": "2203599",
    "end": "2211520"
  },
  {
    "text": "so environment does not have any services defined that's really odd to me okay I'm like really",
    "start": "2212359",
    "end": "2219320"
  },
  {
    "text": "uh losing it right now thank you",
    "start": "2219320",
    "end": "2224240"
  },
  {
    "text": "um where are the services in here",
    "start": "2224359",
    "end": "2229880"
  },
  {
    "text": "oh did I not copy the right file oh I see there we",
    "start": "2230000",
    "end": "2237560"
  },
  {
    "text": "go i just I I wasn't able to save the file um and then I keep accidentally",
    "start": "2237560",
    "end": "2243680"
  },
  {
    "text": "closing my code",
    "start": "2243680",
    "end": "2247280"
  },
  {
    "text": "space okay cool",
    "start": "2254280",
    "end": "2259240"
  },
  {
    "text": "so I think I've saved that file",
    "start": "2264119",
    "end": "2269560"
  },
  {
    "text": "yes and",
    "start": "2269560",
    "end": "2272800"
  },
  {
    "text": "then so I just say I want to build Postgress uh and then it goes and it",
    "start": "2277720",
    "end": "2283520"
  },
  {
    "text": "makes sure that I have um the Postgress package if it's not there it goes and fetches uh the one that's needed for my",
    "start": "2283520",
    "end": "2290480"
  },
  {
    "text": "CPU and architecture from Nyx packages uh and then it initializes a Postgress",
    "start": "2290480",
    "end": "2295839"
  },
  {
    "text": "database for me uh and then tells me hey you know there's some stuff that you should go and try um here I'm also going",
    "start": "2295839",
    "end": "2304920"
  },
  {
    "text": "to So right now I have a database running right so if I run PsQL I can",
    "start": "2304920",
    "end": "2310240"
  },
  {
    "text": "actually talk to a database that's running on local host now um and then I",
    "start": "2310240",
    "end": "2315440"
  },
  {
    "text": "forget yeah so you can just type exit if you want to get out of there uh I am going to quickly",
    "start": "2315440",
    "end": "2322280"
  },
  {
    "text": "GP through the cluster directory inside of the root of scale nyx githops uh and",
    "start": "2322280",
    "end": "2331040"
  },
  {
    "text": "uh I am just going to look kind of recursively",
    "start": "2331040",
    "end": "2336720"
  },
  {
    "text": "uh for the word I think u think recursively and and",
    "start": "2336720",
    "end": "2342240"
  },
  {
    "text": "case insensitive just table so if you if you do that GP or you look inside of",
    "start": "2342240",
    "end": "2347280"
  },
  {
    "text": "cluster appd dby yaml uh there is a table creation command here uh and you",
    "start": "2347280",
    "end": "2353040"
  },
  {
    "text": "know we're we're doing local dev so we're just kind of imperatively messing around if you copy that command and you",
    "start": "2353040",
    "end": "2359440"
  },
  {
    "text": "go into psql uh and you paste it then it will create a table for you and then now",
    "start": "2359440",
    "end": "2365920"
  },
  {
    "text": "um if you in your uh dev",
    "start": "2365920",
    "end": "2371680"
  },
  {
    "text": "environment if you try to run go image app which is the thing that we built uh",
    "start": "2372680",
    "end": "2378640"
  },
  {
    "text": "then you should be able to open that in browser and now our app should be",
    "start": "2378640",
    "end": "2384079"
  },
  {
    "text": "running so what happened here is we're we have our development environment",
    "start": "2384079",
    "end": "2389920"
  },
  {
    "text": "that's giving us our development dependencies uh and then we also have the Postgress environment that we built",
    "start": "2389920",
    "end": "2395839"
  },
  {
    "text": "uh with the database that initializes itself uh and then I logged into the",
    "start": "2395839",
    "end": "2400960"
  },
  {
    "text": "database really quick on my local machine with no authentication or anything uh and then added a table and",
    "start": "2400960",
    "end": "2407760"
  },
  {
    "text": "now our app is working this is pretty kind of quintessential um experience for",
    "start": "2407760",
    "end": "2413440"
  },
  {
    "text": "local development and what's notable here is that we sort of were stacking so",
    "start": "2413440",
    "end": "2419839"
  },
  {
    "text": "you'll see uh at the top of the prompt or for you it might be at the beginning of the line and now it's taking up your entire window um it says flock and we",
    "start": "2419839",
    "end": "2428000"
  },
  {
    "text": "have the flock test environment which has like docker and all of those things installed u for our home directory and",
    "start": "2428000",
    "end": "2435359"
  },
  {
    "text": "then we have the scrapbook dev environment for my go uh interpreter and then we also have the postgress database",
    "start": "2435359",
    "end": "2441359"
  },
  {
    "text": "uh and then the Postgress database is running a service um so that's uh you'll",
    "start": "2441359",
    "end": "2449520"
  },
  {
    "text": "also notice you know like you can say uh we",
    "start": "2449520",
    "end": "2455240"
  },
  {
    "text": "can throw some uh pictures in here and then upload them to the database and now",
    "start": "2455240",
    "end": "2461440"
  },
  {
    "text": "they're you know being serialized and stored within Postgress so if you you know stop the application now the app's",
    "start": "2461440",
    "end": "2469119"
  },
  {
    "text": "not running and then you know you start running it",
    "start": "2469119",
    "end": "2474440"
  },
  {
    "text": "again it'll come back you know um so that's just like my little uh scrapbook",
    "start": "2474440",
    "end": "2481599"
  },
  {
    "text": "which is like a little modified to-do list where you can put pictures um the",
    "start": "2481599",
    "end": "2486960"
  },
  {
    "text": "idea as well was that image magic is in the go application so maybe if you are really good with the image API then you",
    "start": "2486960",
    "end": "2493520"
  },
  {
    "text": "can start um you know making the images a little bit more generative in in the",
    "start": "2493520",
    "end": "2498880"
  },
  {
    "text": "fun 2000s you know turn of the millennium kind of way great so we have our application um",
    "start": "2498880",
    "end": "2508160"
  },
  {
    "text": "I think we should try to think about what we can do to put this in a container",
    "start": "2508160",
    "end": "2513319"
  },
  {
    "text": "um there are some easy ways and then some um some more experimental ways so",
    "start": "2513319",
    "end": "2518880"
  },
  {
    "text": "the very first thing I can show you uh would just be uh flux",
    "start": "2518880",
    "end": "2524040"
  },
  {
    "text": "containerize uh what this is going to do is it's only going to take the environment not my application just only",
    "start": "2524040",
    "end": "2530319"
  },
  {
    "text": "the dependencies uh for my environment and it's going to put them into a",
    "start": "2530319",
    "end": "2536800"
  },
  {
    "text": "container um this honestly is it's I think an an early form and a a",
    "start": "2536800",
    "end": "2544400"
  },
  {
    "text": "glimpse of the future and [Music] um I guess suspicious",
    "start": "2544400",
    "end": "2553920"
  },
  {
    "text": "ownership why would that have",
    "start": "2555640",
    "end": "2559440"
  },
  {
    "text": "occurred uh I think that this was the",
    "start": "2562280",
    "end": "2567280"
  },
  {
    "text": "alle thing this won't happen to you um my my code space is in a very different",
    "start": "2567640",
    "end": "2573839"
  },
  {
    "text": "state uh than yours uh because it has been through multiple restarts but um",
    "start": "2573839",
    "end": "2580240"
  },
  {
    "text": "this is a file system uh permission issue that sometimes happens on GitHub code spaces when they recreate the temp",
    "start": "2580240",
    "end": "2586560"
  },
  {
    "text": "directory as well as some of the device tree uh and I have a script inside of",
    "start": "2586560",
    "end": "2594640"
  },
  {
    "text": "the dev container",
    "start": "2595240",
    "end": "2599720"
  },
  {
    "text": "It's the postcreate script and the probably",
    "start": "2607760",
    "end": "2614240"
  },
  {
    "text": "the post start should have fixed the permissions",
    "start": "2614240",
    "end": "2620400"
  },
  {
    "text": "the next statement's running",
    "start": "2620400",
    "end": "2624359"
  },
  {
    "text": "okay anyway I'm expecting that to work if it",
    "start": "2627920",
    "end": "2635440"
  },
  {
    "text": "doesn't uh then I will show it to you on my Mac uh oh you know why don't I do that",
    "start": "2635440",
    "end": "2641599"
  },
  {
    "text": "just now already too uh let's So we ran that and then I also",
    "start": "2641599",
    "end": "2649400"
  },
  {
    "text": "need terminal here so I'm I'm here with the repo checked",
    "start": "2649400",
    "end": "2654640"
  },
  {
    "text": "out on my Mac obviously uh because I'm using my Mac i shouldn't say obviously the all of the binaries that I'm using",
    "start": "2654640",
    "end": "2661680"
  },
  {
    "text": "from Nyx packages are built for my Mac um there's no such thing as a Mac OS container right now that is anything",
    "start": "2661680",
    "end": "2667280"
  },
  {
    "text": "that you would actually want to use there's some experiments um but uh if I",
    "start": "2667280",
    "end": "2672560"
  },
  {
    "text": "run Flux containerize then what will actually happen fail to populate",
    "start": "2672560",
    "end": "2679680"
  },
  {
    "text": "i need to I need to start Docker because I stopped my machine at the start of the session",
    "start": "2679680",
    "end": "2687839"
  },
  {
    "text": "let's go ahead and just run that with K Lima it's my favorite uh container runtime uh on a",
    "start": "2687839",
    "end": "2695838"
  },
  {
    "text": "Mac I guess meanwhile okay I need to fix my",
    "start": "2697240",
    "end": "2704079"
  },
  {
    "text": "window management here we go",
    "start": "2704079",
    "end": "2708200"
  },
  {
    "text": "cool uh back on the code space uh Flux container I completed and it wrote a container image uh to the",
    "start": "2716800",
    "end": "2723800"
  },
  {
    "text": "runtime um so this image doesn't actually have my app in it it only has my dependencies uh that means that if I",
    "start": "2723800",
    "end": "2730640"
  },
  {
    "text": "want to actually um build something with that then uh I need to probably write a",
    "start": "2730640",
    "end": "2736319"
  },
  {
    "text": "docker file around it you know so I can use those dependencies um so I basically have created a base image out of my flux",
    "start": "2736319",
    "end": "2744240"
  },
  {
    "text": "environment uh the cool thing is um that I can also run that same exact command",
    "start": "2744240",
    "end": "2750720"
  },
  {
    "text": "on my Mac what what will happen here is Flux will actually resolve the Linux",
    "start": "2750720",
    "end": "2755760"
  },
  {
    "text": "version of all my dependencies and it'll put it into a volume inside of the Docker Damon uh and then it will use",
    "start": "2755760",
    "end": "2762000"
  },
  {
    "text": "that volume to build a container image that is Linux native uh for that that",
    "start": "2762000",
    "end": "2767920"
  },
  {
    "text": "respects basically the lock file um so for all of the Mac packages you'll get the same exact versions uh of those",
    "start": "2767920",
    "end": "2775839"
  },
  {
    "text": "packages with the same build flags that were built at the same time in a hermetic way on the public uh build",
    "start": "2775839",
    "end": "2781920"
  },
  {
    "text": "servers that are called Hydra um and um then that'll assemble it into a Docker",
    "start": "2781920",
    "end": "2787520"
  },
  {
    "text": "container you'll see that this um process I wish it was faster uh and I it's it's very possible to make this a",
    "start": "2787520",
    "end": "2794319"
  },
  {
    "text": "lot faster uh it's just that it's an early uh sort of prototype of how this works um some of the ways that you can",
    "start": "2794319",
    "end": "2800800"
  },
  {
    "text": "make it faster would be uh I started messing around with a um kind of more",
    "start": "2800800",
    "end": "2806240"
  },
  {
    "text": "manual way of doing this uh so I have",
    "start": "2806240",
    "end": "2813560"
  },
  {
    "text": "um yeah",
    "start": "2817240",
    "end": "2821240"
  },
  {
    "text": "uh add flux generic docker file let's go ahead",
    "start": "2823599",
    "end": "2828800"
  },
  {
    "text": "and push up a commit to the repo uh you can pull that down if you have it cloned on your code so this uh Docker file that",
    "start": "2828800",
    "end": "2837200"
  },
  {
    "text": "I'm messing with uh let's go ahead and just read the source",
    "start": "2837200",
    "end": "2842359"
  },
  {
    "text": "code it's docker file.floxn what this does is from github",
    "start": "2842359",
    "end": "2848560"
  },
  {
    "text": "container registry flocks flocks so an installation of Nyx with the with the",
    "start": "2848560",
    "end": "2854560"
  },
  {
    "text": "flock usability layer on top of it uh tagged at just one version ago um so",
    "start": "2854560",
    "end": "2861760"
  },
  {
    "text": "from this image uh I'm going to make a working directory and from my uh",
    "start": "2861760",
    "end": "2867280"
  },
  {
    "text": "application directory I'm going to copy my environment into the build context",
    "start": "2867280",
    "end": "2874319"
  },
  {
    "text": "and into the container and um what's really important about this is uh if you",
    "start": "2874319",
    "end": "2880240"
  },
  {
    "text": "might have noticed when I looked at where the Go interpreter was or or the",
    "start": "2880240",
    "end": "2886000"
  },
  {
    "text": "Go tool chain was coming from it it was actually inside of this folder but not",
    "start": "2886000",
    "end": "2891359"
  },
  {
    "text": "actually it's being sim linked uh into what's called the Nyx store",
    "start": "2891359",
    "end": "2897920"
  },
  {
    "text": "uh which is basically a flat directory of a bunch of hashed versions of different what are called derivations",
    "start": "2897920",
    "end": "2904400"
  },
  {
    "text": "they're like pieces of packages um and so because everything is actually",
    "start": "2904400",
    "end": "2911119"
  },
  {
    "text": "in the Nyx store and it's only sim linked then when you do this in your Docker file you're actually only getting",
    "start": "2911119",
    "end": "2917359"
  },
  {
    "text": "the metadata about the environment so none of the actual binaries or documentation or um library uh dynamic",
    "start": "2917359",
    "end": "2925359"
  },
  {
    "text": "libraries are actually being copied into the container here and then when we're in the container not on a Mac but in a",
    "start": "2925359",
    "end": "2931119"
  },
  {
    "text": "Linux machine for uh Arch 64 we can activate the environment which will go",
    "start": "2931119",
    "end": "2936160"
  },
  {
    "text": "and pull down everything in order to make sure that it's actually runnable and then here uh we can actually query",
    "start": "2936160",
    "end": "2943599"
  },
  {
    "text": "the Nyx store so I'm I'm saying I would like all of the requisites for the",
    "start": "2943599",
    "end": "2949760"
  },
  {
    "text": "runtime environment for my current built system um and or my current system um from",
    "start": "2949760",
    "end": "2959000"
  },
  {
    "text": "the uh Nyx standard library uh and then",
    "start": "2959000",
    "end": "2964079"
  },
  {
    "text": "uh we have to do a little bit of formatting and then I also threw a couple wild cards in there because I'm lazy uh and then basically after we get",
    "start": "2964079",
    "end": "2972000"
  },
  {
    "text": "all of the requisites then um these are recursive hard links to all",
    "start": "2972000",
    "end": "2980079"
  },
  {
    "text": "of the files in the Nix store but in a folder that I can look at separately and",
    "start": "2980079",
    "end": "2986720"
  },
  {
    "text": "once we have that folder um I tested a few things this seems to be like the most performant and bug-free way to do",
    "start": "2986720",
    "end": "2993119"
  },
  {
    "text": "this uh then you can call that a build stage where we basically get all of the",
    "start": "2993119",
    "end": "2999040"
  },
  {
    "text": "requisite store paths for everything that our environment depends on uh and",
    "start": "2999040",
    "end": "3004240"
  },
  {
    "text": "then we can copy from that environment and then into um the Nyx store on an",
    "start": "3004240",
    "end": "3012400"
  },
  {
    "text": "Alpine Linux machine uh so this this new container that we're producing it no",
    "start": "3012400",
    "end": "3018160"
  },
  {
    "text": "longer has nyx or flocks or anything needed for nyx or flocks it only has the",
    "start": "3018160",
    "end": "3024000"
  },
  {
    "text": "dependencies that are necessary for the application's environment um this is uh",
    "start": "3024000",
    "end": "3030240"
  },
  {
    "text": "effectively equivalent except the base image is different uh to what flocks containerized does but the benefit of",
    "start": "3030240",
    "end": "3037200"
  },
  {
    "text": "doing it this way uh is that all of the logic sort of stays in the Docker Damon",
    "start": "3037200",
    "end": "3042319"
  },
  {
    "text": "and you're kind of only in a Docker file so if you're using tools that use Docker files uh or you want um the cache",
    "start": "3042319",
    "end": "3049599"
  },
  {
    "text": "coherency and behavior of the Docker build x builds then uh this is one way",
    "start": "3049599",
    "end": "3056640"
  },
  {
    "text": "to do it so you can you can say uh something along these",
    "start": "3056640",
    "end": "3062240"
  },
  {
    "text": "lines if I docker build with this generic docker file uh and then I I can",
    "start": "3062240",
    "end": "3069200"
  },
  {
    "text": "name it something like say like scrapbook uh runtime uh and then I point",
    "start": "3069200",
    "end": "3074880"
  },
  {
    "text": "it to a folder where the context of that environment is uh then you should get a",
    "start": "3074880",
    "end": "3080319"
  },
  {
    "text": "docker build um so it loads up flocks i already have it downloaded that machine is like a gigabyte because it includes",
    "start": "3080319",
    "end": "3086800"
  },
  {
    "text": "nyx and flocks and all of its dependencies um but it we're just using that as a builder image uh and then we",
    "start": "3086800",
    "end": "3093200"
  },
  {
    "text": "run the flock activation internet's working pretty fast uh here in this um conference center lovely uh this is",
    "start": "3093200",
    "end": "3100000"
  },
  {
    "text": "again happening locally on my MacBook uh and then we query the next store we find",
    "start": "3100000",
    "end": "3105280"
  },
  {
    "text": "all of the paths we make sure that they're recursively hardlin isolated from everything else that's not related",
    "start": "3105280",
    "end": "3110960"
  },
  {
    "text": "to it uh and then um this usually takes like what 25 seconds",
    "start": "3110960",
    "end": "3117839"
  },
  {
    "text": "this step could definitely be removed um if you know you just wrote like a a buildex front end uh or did this a",
    "start": "3118000",
    "end": "3125359"
  },
  {
    "text": "different way like directly with OCI registria storage um but um yeah we get copied into our",
    "start": "3125359",
    "end": "3132640"
  },
  {
    "text": "new image uh and then you end up with uh in the case of my Mac this is an ARM 64",
    "start": "3132640",
    "end": "3137839"
  },
  {
    "text": "Linux image that is runnable um you're in a shell and inside of Nick",
    "start": "3137839",
    "end": "3146079"
  },
  {
    "text": "store there's all of my dependencies right so uh you'll notice I",
    "start": "3146079",
    "end": "3151359"
  },
  {
    "text": "was using Alpine Linux there uh it's just so that you you know have a reliable base for a shell and don't have",
    "start": "3151359",
    "end": "3157119"
  },
  {
    "text": "to go and find you know the sim link uh to there should be like bash in here",
    "start": "3157119",
    "end": "3162640"
  },
  {
    "text": "somewhere uh ls next door gp",
    "start": "3162640",
    "end": "3169559"
  },
  {
    "text": "bash yeah so I mean like you could run bash here and set the entry point uh and then you wouldn't need alpine Linux at",
    "start": "3169559",
    "end": "3175800"
  },
  {
    "text": "all but um there's a just an alternative way to build those sorts of base images",
    "start": "3175800",
    "end": "3183119"
  },
  {
    "text": "but we want to be able to get our application to a format where we can actually run it inside of a container um",
    "start": "3183119",
    "end": "3190559"
  },
  {
    "text": "so let's go ahead and look at um what that Docker file might look like um this",
    "start": "3190559",
    "end": "3196720"
  },
  {
    "text": "is probably the most uh kind of standard way uh to do it so if you've used Docker",
    "start": "3196720",
    "end": "3203520"
  },
  {
    "text": "before uh what's happening here is a multi-stage build um so the first stage",
    "start": "3203520",
    "end": "3208960"
  },
  {
    "text": "is up here uh and then as soon as you see another from statement we're into the runtime uh which the last stage is",
    "start": "3208960",
    "end": "3215359"
  },
  {
    "text": "always the output image uh so basically uh from the scrapbook dev environment",
    "start": "3215359",
    "end": "3220400"
  },
  {
    "text": "that we produced either with Flux containerize or with uh my special docker file hack uh we're going to",
    "start": "3220400",
    "end": "3226000"
  },
  {
    "text": "enable CGO so that we can use our C bindings with IMIGIC uh we have the work",
    "start": "3226000",
    "end": "3231200"
  },
  {
    "text": "directory being set copy our source code in there make sure we pull our dependencies so we actually run a fully",
    "start": "3231200",
    "end": "3237040"
  },
  {
    "text": "containerized build uh that's not dependent on anybody's imperative you know kind of process or debugging or",
    "start": "3237040",
    "end": "3243520"
  },
  {
    "text": "whatever they did on their local machine um and then",
    "start": "3243520",
    "end": "3249119"
  },
  {
    "text": "um we make a new uh runtime container uh so we don't want to have the the go uh",
    "start": "3249119",
    "end": "3256880"
  },
  {
    "text": "interpreter and all of that stuff in it we just want our C libraries ideally uh",
    "start": "3256880",
    "end": "3262480"
  },
  {
    "text": "so we have a separate flux environment that is the base image for this that only has image magic in it uh and then",
    "start": "3262480",
    "end": "3269119"
  },
  {
    "text": "we take our go binary uh and we um",
    "start": "3269119",
    "end": "3274760"
  },
  {
    "text": "can just copy our web assets in there uh as well as the uh binary itself and if",
    "start": "3274760",
    "end": "3282720"
  },
  {
    "text": "we build this so you'll need to make sure that you have run like flux containerize on both the scrapbook dev",
    "start": "3282720",
    "end": "3289119"
  },
  {
    "text": "and the scrapbook runtime uh or run the docker file on both of those then you can go ahead and run this docker file",
    "start": "3289119",
    "end": "3295920"
  },
  {
    "text": "and that's just docker build and then dot uh I've",
    "start": "3295920",
    "end": "3301680"
  },
  {
    "text": "already done this so it's built the go application and uh you end up with a container image that is usable um you",
    "start": "3301680",
    "end": "3308960"
  },
  {
    "text": "should probably tag it with something i'm just going to call",
    "start": "3308960",
    "end": "3314280"
  },
  {
    "text": "it scrapbook that so then um this container",
    "start": "3314280",
    "end": "3322880"
  },
  {
    "text": "image you can docker run it",
    "start": "3322880",
    "end": "3329319"
  },
  {
    "text": "and oh that's right um",
    "start": "3329319",
    "end": "3334680"
  },
  {
    "text": "yeah thank you appreciate it uh that's that was the exactly the thing that I needed to hear thank you",
    "start": "3354960",
    "end": "3361599"
  },
  {
    "text": "really appreciate that",
    "start": "3361599",
    "end": "3365040"
  },
  {
    "text": "okay there we are okay go download uh that was an interesting",
    "start": "3375000",
    "end": "3381440"
  },
  {
    "text": "one you have to have a temp directory in order for Go to build i I can't say that I knew that um but I guess when you you",
    "start": "3381440",
    "end": "3390079"
  },
  {
    "text": "have minimal container images sometimes sometimes you discover fun things like",
    "start": "3390079",
    "end": "3395960"
  },
  {
    "text": "that uh oh I should uh actually unpack something here um I'm like glossing over",
    "start": "3395960",
    "end": "3402079"
  },
  {
    "text": "a little bit of a hack that I've done so let's go ahead and just dig into",
    "start": "3402079",
    "end": "3407720"
  },
  {
    "text": "that for a second um this run statement right here",
    "start": "3407720",
    "end": "3414119"
  },
  {
    "text": "um in order for this Go build to link up to all of the CB binding uh",
    "start": "3414119",
    "end": "3422240"
  },
  {
    "text": "for the C bindings to actually call package config and and build all of the image magic stuff into the binary itself",
    "start": "3422240",
    "end": "3429960"
  },
  {
    "text": "um we need to make sure that our environment is active uh and so uh a",
    "start": "3429960",
    "end": "3435839"
  },
  {
    "text": "hacky way to do this is inside of our base image if you look inside of the Nyx",
    "start": "3435839",
    "end": "3442880"
  },
  {
    "text": "store uh for the development environment that comes from flocks and again I'm I'm",
    "start": "3442880",
    "end": "3448880"
  },
  {
    "text": "doing a little hack here because this really should be pinned to a hash that's specific to the image uh not that",
    "start": "3448880",
    "end": "3454000"
  },
  {
    "text": "there's more than one in there there's just one but uh and then we run the activate script um with the environment",
    "start": "3454000",
    "end": "3461200"
  },
  {
    "text": "from that same um thing and then we can execute um go build and that allows you",
    "start": "3461200",
    "end": "3471280"
  },
  {
    "text": "to actually build against those uh bindings that come from Nyx uh these",
    "start": "3471280",
    "end": "3477440"
  },
  {
    "text": "kinds of wrappers are necessary because since everything actually lives in the nick store instead of the standard um",
    "start": "3477440",
    "end": "3484160"
  },
  {
    "text": "file hier file hierarchy um so like nothing is coming from slashlib or slash",
    "start": "3484160",
    "end": "3489760"
  },
  {
    "text": "user uh there's like nothing to bind against in those directories uh we need to have an environment that's specially",
    "start": "3489760",
    "end": "3497040"
  },
  {
    "text": "structured to uh inform the linker and the loader uh when programs are built and started where to find their",
    "start": "3497040",
    "end": "3503599"
  },
  {
    "text": "dependencies uh this is just kind of an inherent thing about how Nyx works um",
    "start": "3503599",
    "end": "3508720"
  },
  {
    "text": "and something like this uh is you know again a sort of proof of concept uh kind",
    "start": "3508720",
    "end": "3514559"
  },
  {
    "text": "of hack uh you wouldn't want like the final like usability to look like this but conceptually what's happening there",
    "start": "3514559",
    "end": "3520240"
  },
  {
    "text": "is uh we are hydrating the environment of the build so that it can find all of the C stuff um in a non-standard place",
    "start": "3520240",
    "end": "3527839"
  },
  {
    "text": "the reason that we want to find it in a non-standard place again is um everything in the next store is hashed",
    "start": "3527839",
    "end": "3533599"
  },
  {
    "text": "specifically to the inputs or to the content address of the bits of the packages themselves uh and since they're",
    "start": "3533599",
    "end": "3540480"
  },
  {
    "text": "hashed uh that means that we can be fully sure every time we build that the",
    "start": "3540480",
    "end": "3545680"
  },
  {
    "text": "exact versions of the things that we want uh that our binary will never accidentally get the wrong version of",
    "start": "3545680",
    "end": "3551599"
  },
  {
    "text": "image magic uh or a slightly different version of gibbc it's always only ever going to be built against exactly what",
    "start": "3551599",
    "end": "3557839"
  },
  {
    "text": "it's supposed to uh and then when you run it it'll only be ever it doesn't even know how to accidentally find other",
    "start": "3557839",
    "end": "3563200"
  },
  {
    "text": "things it's just only ever looking for exactly the the stuff that it needs uh and this um these sorts of loader hacks",
    "start": "3563200",
    "end": "3570480"
  },
  {
    "text": "and environment uh wrappers and things like that are are in like",
    "start": "3570480",
    "end": "3578280"
  },
  {
    "text": "99.999999% of the time like completely free uh you never will notice any performance or behavioral difference",
    "start": "3578280",
    "end": "3584559"
  },
  {
    "text": "with your application it'll just work better than any other time you've had a weird issue where you've had a version",
    "start": "3584559",
    "end": "3589920"
  },
  {
    "text": "skew uh between something you were using on your Mac and something that uh got accidentally pulled and updated on some",
    "start": "3589920",
    "end": "3596160"
  },
  {
    "text": "reconciling thing in CI but you like only found out after an incident so has",
    "start": "3596160",
    "end": "3602160"
  },
  {
    "text": "anyone ever had a problem like that you know you're like you had a version like slip on you uh with something that was actively running in production and then",
    "start": "3602160",
    "end": "3608400"
  },
  {
    "text": "you ran CI to like rebuild something uh and and then it just like didn't work the same or the build didn't even",
    "start": "3608400",
    "end": "3614520"
  },
  {
    "text": "work yeah cool seen a couple of nods uh it's like one of the most mortifying",
    "start": "3614520",
    "end": "3621599"
  },
  {
    "text": "problems that you run into let's get to a place where stuff is reproducible so um at this point we have",
    "start": "3621599",
    "end": "3628319"
  },
  {
    "text": "a container uh that runs our application um right like if I were",
    "start": "3628319",
    "end": "3636480"
  },
  {
    "text": "to then um should be able to",
    "start": "3638839",
    "end": "3645640"
  },
  {
    "text": "just run uh I think it's like go image app yep cool and",
    "start": "3645640",
    "end": "3653240"
  },
  {
    "text": "um another hack that's happening here is the entry point for this container is actually the flux environment itself so",
    "start": "3653240",
    "end": "3660400"
  },
  {
    "text": "you'll notice when I activated the um scrapbook runtime environment there uh",
    "start": "3660400",
    "end": "3666880"
  },
  {
    "text": "or docker image we ended up in a flux environment specifically for this go app",
    "start": "3666880",
    "end": "3674400"
  },
  {
    "text": "uh and there's a bash shell so I'll show you what this looks like",
    "start": "3674400",
    "end": "3681040"
  },
  {
    "text": "um say we wanted to actually run the this like just with a single docker run",
    "start": "3681480",
    "end": "3686880"
  },
  {
    "text": "command um we have to I think just pass the uh binary that",
    "start": "3686880",
    "end": "3696400"
  },
  {
    "text": "we're intending and then that gets activated as an argument to the activate wrapper uh so that way our go image",
    "start": "3696400",
    "end": "3703520"
  },
  {
    "text": "application is finding the exact version uh of image magic that it needs uh in",
    "start": "3703520",
    "end": "3708640"
  },
  {
    "text": "order to actually run so that's a now we have our application containerized and",
    "start": "3708640",
    "end": "3714960"
  },
  {
    "text": "there's some caveats about how to start it uh basically our our entry point is not pre-programmed because we need args",
    "start": "3714960",
    "end": "3722359"
  },
  {
    "text": "um so I could have added args to it but let's look at a uh kubernetes manifest",
    "start": "3722359",
    "end": "3728160"
  },
  {
    "text": "for um this kind of thing so in the cluster folder in the scale nyx githops",
    "start": "3728160",
    "end": "3735440"
  },
  {
    "text": "repo um there is an app folder that has a db yaml and a scrapbook yaml so um",
    "start": "3735440",
    "end": "3743040"
  },
  {
    "text": "most of these things are for illustrative purposes um so ignore the the missing um you know shutdown hooks",
    "start": "3743040",
    "end": "3750480"
  },
  {
    "text": "and things like that that you would need and like missing resource limits and all of that for an actual Kubernetes",
    "start": "3750480",
    "end": "3755680"
  },
  {
    "text": "deployment uh but here we have a Kubernetes deployment YAML uh and we're",
    "start": "3755680",
    "end": "3761280"
  },
  {
    "text": "calling everything scrapbook uh and then we can point it to some container image",
    "start": "3761280",
    "end": "3766799"
  },
  {
    "text": "uh here this is using a different name and tag uh than what I built just now",
    "start": "3766799",
    "end": "3772319"
  },
  {
    "text": "but um you can build it at that same name and tag and then here uh we're",
    "start": "3772319",
    "end": "3777680"
  },
  {
    "text": "doing that sort of workaround right like passing an argument so that we can load the the binary um in a maybe like",
    "start": "3777680",
    "end": "3784319"
  },
  {
    "text": "slightly non-standard way uh and then we want to pass it some connection data for",
    "start": "3784319",
    "end": "3791760"
  },
  {
    "text": "a Postgress database uh and we'll just tell Kubernetes that there's an HTTP",
    "start": "3791760",
    "end": "3797200"
  },
  {
    "text": "port on 3000 uh as well as a service that's pointing to that port and then in",
    "start": "3797200",
    "end": "3803200"
  },
  {
    "text": "the database YAML there is a config map uh here I didn't build the database with",
    "start": "3803200",
    "end": "3808880"
  },
  {
    "text": "Nyx uh you can do that um one of the things that's nice about using the upstream docker uh image just from",
    "start": "3808880",
    "end": "3816559"
  },
  {
    "text": "docker library postgress is that uh they do have life cycle for creating tables",
    "start": "3816559",
    "end": "3822000"
  },
  {
    "text": "so you can just put um a SQL file inside of a config map uh",
    "start": "3822000",
    "end": "3827359"
  },
  {
    "text": "and then mount it which is really nice and then um what's also nice and what",
    "start": "3827359",
    "end": "3833280"
  },
  {
    "text": "was kind of being used by my Go application to connect to my Flux",
    "start": "3833280",
    "end": "3839280"
  },
  {
    "text": "environments Postgress database is that there are standard environment variables to direct Postgress drivers to the right",
    "start": "3839280",
    "end": "3846480"
  },
  {
    "text": "place uh so my flock environment was setting these things and I just copied them uh put them into a secret uh and",
    "start": "3846480",
    "end": "3855200"
  },
  {
    "text": "then um made them appropriate for the Kubernetes service name there's a little deployment here again this is definitely",
    "start": "3855200",
    "end": "3861599"
  },
  {
    "text": "not a productionready database it's exactly the opposite it's a single replica deployment of a Postgress um",
    "start": "3861599",
    "end": "3869359"
  },
  {
    "text": "container instance so it's not even using a stateful set uh and then uh there's the volume mounts uh for that uh",
    "start": "3869359",
    "end": "3877039"
  },
  {
    "text": "table initialization logic uh and then there's that so sort of the full",
    "start": "3877039",
    "end": "3885200"
  },
  {
    "text": "story here is that we would be able to uh run our application in the Kubernetes",
    "start": "3885200",
    "end": "3891599"
  },
  {
    "text": "cluster um let's go ahead",
    "start": "3891599",
    "end": "3896000"
  },
  {
    "text": "and let's go ahead and skip actually like applying this and running this because we have I think only a handful",
    "start": "3899799",
    "end": "3907599"
  },
  {
    "text": "of minutes left in this session does anyone have any questions about flocks and nyx itself u and we can maybe spend",
    "start": "3907599",
    "end": "3915119"
  },
  {
    "text": "a few minutes on that and then I have a few closing statements about uh githops",
    "start": "3915119",
    "end": "3921720"
  },
  {
    "text": "hi yeah um so usually stuff in Nyx packages is very up to date",
    "start": "3934520",
    "end": "3940440"
  },
  {
    "text": "um and uh if we search for the top uh",
    "start": "3940440",
    "end": "3945839"
  },
  {
    "text": "level Postgress SQL I think would probably be what we're looking for",
    "start": "3945839",
    "end": "3952319"
  },
  {
    "text": "um so yeah SQL let's go ahead and flock",
    "start": "3952599",
    "end": "3958160"
  },
  {
    "text": "uh show Postgress SQL and then I'm going to pipe it through head and let's go see",
    "start": "3958160",
    "end": "3963280"
  },
  {
    "text": "uh what's on top so currently 17.4 is uh the most up-to-date package uh I would",
    "start": "3963280",
    "end": "3969119"
  },
  {
    "text": "expect that um for any hightra software uh the usage um the the user base is",
    "start": "3969119",
    "end": "3976480"
  },
  {
    "text": "incredibly wide and active um if you need to update a package you can open a pull request on NixosNix packages um",
    "start": "3976480",
    "end": "3985559"
  },
  {
    "text": "like you don't you don't need to know anybody it'll be reviewed by somebody who knows what they're doing um but for",
    "start": "3985559",
    "end": "3991520"
  },
  {
    "text": "packages like Postgress they have an active community of maintainers specifically looking at that all of the time uh and then there are bots and",
    "start": "3991520",
    "end": "3998559"
  },
  {
    "text": "scripts that are constantly looking at upstream places to automatically update these packages uh the result is that um",
    "start": "3998559",
    "end": "4004640"
  },
  {
    "text": "Nyx packages is larger than pretty much any other um package repo on the",
    "start": "4004640",
    "end": "4010240"
  },
  {
    "text": "internet and it tends to be the most up to date thanks for the",
    "start": "4010240",
    "end": "4016359"
  },
  {
    "text": "question",
    "start": "4016359",
    "end": "4019359"
  },
  {
    "text": "okay yeah sbombs think the story uh is pretty like um like like it's like it's",
    "start": "4026520",
    "end": "4033520"
  },
  {
    "text": "like begging for an sbomb story right uh and like when you when you do that um next store",
    "start": "4033520",
    "end": "4040920"
  },
  {
    "text": "um uh you know query uh requisites you",
    "start": "4040920",
    "end": "4046160"
  },
  {
    "text": "know for some um you know scrapbook dev uh flux runtime",
    "start": "4046160",
    "end": "4054079"
  },
  {
    "text": "environment for some CPU architecture um then you get a list of every required",
    "start": "4054079",
    "end": "4060640"
  },
  {
    "text": "dependency uh that would ever possibly be touched by uh applications being um",
    "start": "4060640",
    "end": "4066160"
  },
  {
    "text": "you know run in this way um and uh that's that that's like a little bit of",
    "start": "4066160",
    "end": "4072160"
  },
  {
    "text": "formatting away from an sbomb there's no like flag for it right now but definitely the story is like obvious",
    "start": "4072160",
    "end": "4077599"
  },
  {
    "text": "there um also uh something I would say that it's like kind of weak right now in",
    "start": "4077599",
    "end": "4083119"
  },
  {
    "text": "uh I shouldn't say kind of it's very weak it's almost non-existent is a vulnerability correlation uh in Nyx",
    "start": "4083119",
    "end": "4088160"
  },
  {
    "text": "packages uh just the way that the packages are maintained and stuff there's there's nobody you know who's like fed RAM certified like looking at",
    "start": "4088160",
    "end": "4094240"
  },
  {
    "text": "all these things and trying to correlate them um to you know like does does some CVE like apply to this or whatever uh",
    "start": "4094240",
    "end": "4101120"
  },
  {
    "text": "yeah uh cool uh that's going to be the last next question i'm going to take five minutes to just talk a little bit",
    "start": "4101120",
    "end": "4107040"
  },
  {
    "text": "about the vision of like GitOps with this so one really cool thing here is",
    "start": "4107040",
    "end": "4113758"
  },
  {
    "text": "when I update the environment I get a de even if I'm working with it imperatively",
    "start": "4113759",
    "end": "4119359"
  },
  {
    "text": "I get declarative changes to a manifest inside of my project's repository i do a",
    "start": "4119359",
    "end": "4124719"
  },
  {
    "text": "git push and then when my teammates come in in the morning and they do a git pull and they activate we're all using the",
    "start": "4124719",
    "end": "4131440"
  },
  {
    "text": "exact same versions of all of our dependencies so that means that any time that",
    "start": "4131440",
    "end": "4137920"
  },
  {
    "text": "somebody makes a decision to pull on a new dependency or update something because they want to use a new build",
    "start": "4137920",
    "end": "4142960"
  },
  {
    "text": "flag or a new API or a new you know feature or subcommand uh or they just",
    "start": "4142960",
    "end": "4148480"
  },
  {
    "text": "really want pretty printing for that JSON output that cames from you know AWS CLI and it they're putting it inside of",
    "start": "4148480",
    "end": "4154640"
  },
  {
    "text": "your um you know CI script then um any change that we make it just",
    "start": "4154640",
    "end": "4161920"
  },
  {
    "text": "naturally becomes a declarative consequ quence of iterating and collaborating with each other it ends up encoded in",
    "start": "4161920",
    "end": "4167199"
  },
  {
    "text": "the repo this to me has like a really nice mirror to GitOps where the reason that Kubernetes",
    "start": "4167199",
    "end": "4174960"
  },
  {
    "text": "begs for GitOps is Kubernetes is so wide in scope networking cluster management",
    "start": "4174960",
    "end": "4180080"
  },
  {
    "text": "compute storage and often across many many namespaces across multiple clusters",
    "start": "4180080",
    "end": "4185838"
  },
  {
    "text": "multiple organizations multiple teams and apps um infrastructure that's like deep and critical experiments things",
    "start": "4185839",
    "end": "4191920"
  },
  {
    "text": "that have been there in production should never change in the next 10 years kubernetes it begs to own all of that",
    "start": "4191920",
    "end": "4198719"
  },
  {
    "text": "and so people are begging to collaborate on Kubernetes but ain't nobody walking in into the you know the office in the",
    "start": "4198719",
    "end": "4206159"
  },
  {
    "text": "morning and they're logging into Kubernetes to chat with their teammates right kubernetes is not a collaboration",
    "start": "4206159",
    "end": "4211640"
  },
  {
    "text": "tool and so using Kubernetes as a team begs for us to glue collaboration in",
    "start": "4211640",
    "end": "4218719"
  },
  {
    "text": "front of it right and that's what like tools like Flux and Argo are really good at doing is educating people about how",
    "start": "4218719",
    "end": "4225440"
  },
  {
    "text": "the infrastructure works and then giving them an almost invisible thing where it's like you don't even have to look at",
    "start": "4225440",
    "end": "4231040"
  },
  {
    "text": "it when you are making collaborative changes to your infrastructure when you're changing code the robots are",
    "start": "4231040",
    "end": "4237280"
  },
  {
    "text": "always constantly at work reconciling and making sure that exactly what is intended is funneling through the builds",
    "start": "4237280",
    "end": "4244480"
  },
  {
    "text": "through the lints through the artifact publishing signing verification to your fan out in",
    "start": "4244480",
    "end": "4251080"
  },
  {
    "text": "production and I think that there's a missing step here which is that that's",
    "start": "4251080",
    "end": "4258320"
  },
  {
    "text": "everything operational we need to take GitOps further we need to shift GitOps",
    "start": "4258320",
    "end": "4265080"
  },
  {
    "text": "left and I think it starts with how we think about using our machines um again",
    "start": "4265080",
    "end": "4274640"
  },
  {
    "text": "uh I'm I'm really happy to walk people through things um if you would like to continue hacking on these things um you",
    "start": "4274640",
    "end": "4280960"
  },
  {
    "text": "know I I want to be respectful that respectful of everybody's time but like in these last two minutes uh if you look",
    "start": "4280960",
    "end": "4287600"
  },
  {
    "text": "in the scale uh nyx githops um repo there's this cluster folder and",
    "start": "4287600",
    "end": "4295440"
  },
  {
    "text": "um for any flux users that showed up uh there are a couple of new things I would like to show uh one is a usage of the",
    "start": "4295440",
    "end": "4302880"
  },
  {
    "text": "open-source um flux operator by control plane uh who full disclosure I'm employed with um you can make flux",
    "start": "4302880",
    "end": "4310320"
  },
  {
    "text": "instances and then point them to a tagged release of the flux operator manifests",
    "start": "4310320",
    "end": "4316800"
  },
  {
    "text": "um for installing flux at a particular tag version scheme uh and when you make",
    "start": "4316800",
    "end": "4322560"
  },
  {
    "text": "this and you install flux operator and and you put this one flux instance in your cluster now you have auto updating",
    "start": "4322560",
    "end": "4328719"
  },
  {
    "text": "flux uh that's really nice if you've got a fleet a fleet of a thousand or you know couple hundred clusters or",
    "start": "4328719",
    "end": "4334560"
  },
  {
    "text": "something uh running on tractors or whatever um um the next thing is okay well if we're",
    "start": "4334560",
    "end": "4341679"
  },
  {
    "text": "um going to be installing Flux this way then it sort of feels like it's replacing Flux Bootstrap which is sort of the bread and butter of anybody using",
    "start": "4341679",
    "end": "4348239"
  },
  {
    "text": "Flux um so a good way to sort of emulate that is we don't have to worry about the",
    "start": "4348239",
    "end": "4353679"
  },
  {
    "text": "uh installation manifests anymore let's just make a git repo um point at where we're at create a secret that has a",
    "start": "4353679",
    "end": "4359280"
  },
  {
    "text": "token uh and then um make our top level customization so here you can see the",
    "start": "4359280",
    "end": "4364560"
  },
  {
    "text": "git repo is pointing to the one that we have cloned uh and then it's configured",
    "start": "4364560",
    "end": "4369760"
  },
  {
    "text": "with a token and uh it's going to reconcile every minute on the cluster path so that would be this which means",
    "start": "4369760",
    "end": "4377199"
  },
  {
    "text": "that um now the git repo is also managing what version of flux you're using on all of your clusters uh as well",
    "start": "4377199",
    "end": "4384800"
  },
  {
    "text": "as itself uh and then creating a namespace for your app and then deploying our database and our scrapbook",
    "start": "4384800",
    "end": "4390880"
  },
  {
    "text": "application to the cluster uh using our container image that was built with Nyx",
    "start": "4390880",
    "end": "4396320"
  },
  {
    "text": "and again that container image all of the dependencies uh they were always",
    "start": "4396320",
    "end": "4401920"
  },
  {
    "text": "version locked from the moment that we used them so there was never a shift where it's like we went into CI and now",
    "start": "4401920",
    "end": "4409120"
  },
  {
    "text": "some something different is happening and there's never a drift when I'm experimenting on something and then",
    "start": "4409120",
    "end": "4415360"
  },
  {
    "text": "somebody on another uh laptop pulls down my branch and they're actually using a different version of Postgress like just",
    "start": "4415360",
    "end": "4421440"
  },
  {
    "text": "these differences they just can't happen anymore because we brought declarations all the way through the collaboration",
    "start": "4421440",
    "end": "4428320"
  },
  {
    "text": "platform not just for production infrastructure not just for ops but for our development environments too uh and",
    "start": "4428320",
    "end": "4435280"
  },
  {
    "text": "I think that that could be a cool piece of the future so uh thanks so much for coming to the tutorial today i wasn't",
    "start": "4435280",
    "end": "4441360"
  },
  {
    "text": "expecting a production incident to take down Flux Hub but you know um there's there's always cool stuff that happens",
    "start": "4441360",
    "end": "4447120"
  },
  {
    "text": "uh when you are friends with people at startups and um I'll be like around if you know we want to have a little chat",
    "start": "4447120",
    "end": "4453440"
  },
  {
    "text": "about whatever you guys want to chat about um and thanks so much yeah",
    "start": "4453440",
    "end": "4459880"
  }
]