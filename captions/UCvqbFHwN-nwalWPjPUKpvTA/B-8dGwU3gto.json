[
  {
    "start": "0",
    "end": "106000"
  },
  {
    "text": "all right well good morning almost afternoon everybody welcome my name is randy i'm a cloud native ambassador with",
    "start": "399",
    "end": "6399"
  },
  {
    "text": "the cncf and this is the capacity scheduling for elastic resource sharing",
    "start": "6399",
    "end": "11519"
  },
  {
    "text": "and kubernetes session and i would like you all online and here in person to welcome juan chen from apple",
    "start": "11519",
    "end": "18480"
  },
  {
    "text": "thank you already [Applause]",
    "start": "18480",
    "end": "24320"
  },
  {
    "text": "good morning good afternoon good evening we are so excited to be here",
    "start": "24320",
    "end": "29359"
  },
  {
    "text": "it's the first on-site event almost in two years",
    "start": "29359",
    "end": "35120"
  },
  {
    "text": "it's my sixth and cubecon was my sixth talk and now on-site and hope can get and",
    "start": "35120",
    "end": "41760"
  },
  {
    "text": "make new friends get connected with the community for those people who are virtual and",
    "start": "41760",
    "end": "47840"
  },
  {
    "text": "look forward to seeing you next time so today i'm co-presenting our work on capacity",
    "start": "47840",
    "end": "54719"
  },
  {
    "text": "scheduling in kubernetes with ching chan unfortunately chinchon is not able to",
    "start": "54719",
    "end": "61600"
  },
  {
    "text": "attend in person they will present a demo in a pre-recorded video later",
    "start": "61600",
    "end": "69520"
  },
  {
    "text": "so a little bit about ourselves king tut is a software engineer from oni",
    "start": "69520",
    "end": "75360"
  },
  {
    "text": "baba cloud he has been a very and active contributor in kubernetes especially",
    "start": "75360",
    "end": "82640"
  },
  {
    "text": "the sikh scheduling group he made a lot of the code contribution design contribution",
    "start": "82640",
    "end": "89360"
  },
  {
    "text": "to the kubernetes schedule i'm yan chen from apple cloud services",
    "start": "89360",
    "end": "95680"
  },
  {
    "text": "i'm a kubernetes contributor too and my work is mainly focused on the kubernetes scheduling",
    "start": "95680",
    "end": "102479"
  },
  {
    "text": "performance scalability okay i'd like to start",
    "start": "102479",
    "end": "110159"
  },
  {
    "start": "106000",
    "end": "148000"
  },
  {
    "text": "with some background context and motivations about the work",
    "start": "110159",
    "end": "115360"
  },
  {
    "text": "as all of all of us know kubernetes has becoming a de facto",
    "start": "115360",
    "end": "122240"
  },
  {
    "text": "cluster and cloud resource management platform",
    "start": "122240",
    "end": "127439"
  },
  {
    "text": "so more and more workloads and different type of workloads are running in kubernetes",
    "start": "127439",
    "end": "134800"
  },
  {
    "text": "in addition to the traditional service workloads and now there are more batch workloads",
    "start": "134800",
    "end": "141440"
  },
  {
    "text": "from the machine learning deep learning to big data workloads or running",
    "start": "141440",
    "end": "146480"
  },
  {
    "text": "kubernetes a key issue we have realized after",
    "start": "146480",
    "end": "152239"
  },
  {
    "start": "148000",
    "end": "252000"
  },
  {
    "text": "talking to our customers there are some look at today's kubernetes",
    "start": "152239",
    "end": "157360"
  },
  {
    "text": "how does kubernetes manage resources between different users or name space",
    "start": "157360",
    "end": "165519"
  },
  {
    "text": "so the quarter is a basic concept but quarter mainly used just for the admission control or",
    "start": "165519",
    "end": "171519"
  },
  {
    "text": "capacity planning not involve the scheduling and in a more dynamic way",
    "start": "171519",
    "end": "177280"
  },
  {
    "text": "the secondary the quarter so far we can define just a single value for example for each",
    "start": "177280",
    "end": "184080"
  },
  {
    "text": "namespace that's the request the total request a namespace",
    "start": "184080",
    "end": "190319"
  },
  {
    "text": "can ask for the third one is during the wrong time the resource",
    "start": "190319",
    "end": "196959"
  },
  {
    "text": "coordination is purely based on priority",
    "start": "196959",
    "end": "202080"
  },
  {
    "text": "and the default preemption we based on priority to do this and eviction",
    "start": "202080",
    "end": "208319"
  },
  {
    "text": "to achieve this kind of the fairness or the resource education",
    "start": "208319",
    "end": "213920"
  },
  {
    "text": "so as a result we can see and internet some of these more flexible or dynamic resource",
    "start": "213920",
    "end": "220400"
  },
  {
    "text": "sharing traditional cluster management system like the hadoop young can offer",
    "start": "220400",
    "end": "228720"
  },
  {
    "text": "as a also this can cause no resource and class resource utilization",
    "start": "229200",
    "end": "236720"
  },
  {
    "text": "these two and the key of this under short time disadvantage has become a",
    "start": "237360",
    "end": "243280"
  },
  {
    "text": "roadblock for many customers to migrate from traditional",
    "start": "243280",
    "end": "248720"
  },
  {
    "text": "cluster management system to kubernetes to address this",
    "start": "248720",
    "end": "255840"
  },
  {
    "text": "we have been working and in upstream community and collaborating",
    "start": "256720",
    "end": "262560"
  },
  {
    "text": "with a lot of contributors on two of the key and concept one is the",
    "start": "262560",
    "end": "269520"
  },
  {
    "text": "required terms elastic quarter the idea is",
    "start": "269520",
    "end": "275199"
  },
  {
    "text": "can introduce a define and provide a more flexible the building block can support more",
    "start": "275199",
    "end": "282320"
  },
  {
    "text": "flexible dynamic resource sharing across the name space and users",
    "start": "282320",
    "end": "287840"
  },
  {
    "text": "also it will provide some kind of resource guarantee and fairness",
    "start": "287840",
    "end": "294080"
  },
  {
    "text": "finally we're extending the flat",
    "start": "294080",
    "end": "299759"
  },
  {
    "text": "kind of the quarter structure to a tree or hierarchy level",
    "start": "299759",
    "end": "305280"
  },
  {
    "text": "to better manage the resource across the different user organization",
    "start": "305280",
    "end": "312320"
  },
  {
    "text": "that is what also other like hadoop young and offer capacity planning or scheduling or",
    "start": "312320",
    "end": "319840"
  },
  {
    "text": "fair scheduling so now let me and",
    "start": "319840",
    "end": "326479"
  },
  {
    "text": "talk a little bit the detail about what the inestic court is",
    "start": "326720",
    "end": "333039"
  },
  {
    "text": "so inestio quarter is a crd the difference from the traditional",
    "start": "333039",
    "end": "340000"
  },
  {
    "text": "or existing built-in resource quarter is we introduce",
    "start": "340000",
    "end": "345520"
  },
  {
    "text": "basically two fields or values for each elastic quarter one is minimum that is",
    "start": "345520",
    "end": "352000"
  },
  {
    "text": "guaranteed quarter for name space the second one is maximum is the limit of the name",
    "start": "352000",
    "end": "358720"
  },
  {
    "text": "space be aware here when we talk about the",
    "start": "358720",
    "end": "363759"
  },
  {
    "text": "quarter we basically refer to the request request not the limit because this is",
    "start": "363759",
    "end": "369759"
  },
  {
    "text": "more and what the schedule make decision and we look at the request",
    "start": "369759",
    "end": "375680"
  },
  {
    "text": "only so it supports multiple resource type from the building",
    "start": "375680",
    "end": "381280"
  },
  {
    "text": "cpu memory disk to extended resources like gpu or other resources",
    "start": "381280",
    "end": "387280"
  },
  {
    "text": "so i already mentioned so it's a different concept from the building or native and resource quarters",
    "start": "387280",
    "end": "394160"
  },
  {
    "text": "so this resource code is more for admission control but the more industrial quarter",
    "start": "394160",
    "end": "399360"
  },
  {
    "text": "is more used by the scheduler and coordinated resource sharing at wrong time",
    "start": "399360",
    "end": "405280"
  },
  {
    "text": "so the right side is a simple example here is a elastic quarter",
    "start": "405280",
    "end": "412080"
  },
  {
    "text": "named test it's a social river named space test so as you can see it's quite straightforward",
    "start": "412080",
    "end": "418560"
  },
  {
    "text": "so it's defined or specified maximum and minimum resources in terms",
    "start": "418560",
    "end": "423680"
  },
  {
    "text": "of cpu memory and gpu by the way throughout my presentation",
    "start": "423680",
    "end": "428720"
  },
  {
    "text": "so i'm using the gpu as an example but it can apply to any type of resources",
    "start": "428720",
    "end": "434479"
  },
  {
    "text": "like cpu memory so how can we guarantee so the basic idea for each namespace with the elastic",
    "start": "434479",
    "end": "441840"
  },
  {
    "start": "436000",
    "end": "537000"
  },
  {
    "text": "cortex means the minimum quarter will be guaranteed and you can get that",
    "start": "441840",
    "end": "447680"
  },
  {
    "text": "much of the quarter so maximum is optimistically if there are additional resources available in a",
    "start": "447680",
    "end": "454560"
  },
  {
    "text": "cluster you can borrow the quarter from other namespace or user to run it but",
    "start": "454560",
    "end": "459599"
  },
  {
    "text": "what happened if there are contentions so this is how the resource guarantee fair needs",
    "start": "459599",
    "end": "468000"
  },
  {
    "text": "is very important so to implement this basically we implemented a customer preemption",
    "start": "468000",
    "end": "475680"
  },
  {
    "text": "so at wrong time if a namespace submits ports",
    "start": "475680",
    "end": "480720"
  },
  {
    "text": "but it cannot be cannot be scheduled because it's quarter and has been used or",
    "start": "480720",
    "end": "487360"
  },
  {
    "text": "borrowed by other namespace so the preemption we try to identify those",
    "start": "487360",
    "end": "494879"
  },
  {
    "text": "over used name space so means they already use more quarter than its",
    "start": "494879",
    "end": "500000"
  },
  {
    "text": "guarantees then among all this and the candidate namespace i should take off my end mask",
    "start": "500000",
    "end": "506800"
  },
  {
    "text": "sorry about that so after it identified those then it will identify",
    "start": "506800",
    "end": "512959"
  },
  {
    "text": "these of the candidates or victim ports victims so so far we implemented a single policy",
    "start": "512959",
    "end": "520719"
  },
  {
    "text": "based on priority and also try to minimize the number of the evicted ports",
    "start": "520719",
    "end": "526160"
  },
  {
    "text": "of course one of the extensions probably have more of the fairness and the key balance across different name",
    "start": "526160",
    "end": "533120"
  },
  {
    "text": "space that can be added in the future versions",
    "start": "533120",
    "end": "538560"
  },
  {
    "text": "so this and elastic quarter is a crd the customer preemption is implemented",
    "start": "538880",
    "end": "546000"
  },
  {
    "text": "as a scheduler plug-in so for those who are not familiar with the scheduled",
    "start": "546000",
    "end": "551040"
  },
  {
    "text": "framework it's basically provide a uniform platform",
    "start": "551040",
    "end": "556880"
  },
  {
    "text": "that allows the developer to customize optimize the schedule so any of this plugin",
    "start": "556880",
    "end": "563839"
  },
  {
    "text": "will be built into the main scheduler so we are not introducing a second",
    "start": "563839",
    "end": "570160"
  },
  {
    "text": "scheduler i think this is a key advantage means this is a kubernetes native solution you still just run a",
    "start": "570160",
    "end": "576959"
  },
  {
    "text": "single schedule with additional plugin there are no risk condition problem you can share the cache other thing also you",
    "start": "576959",
    "end": "583839"
  },
  {
    "text": "can disable or enable the scheduled plugin",
    "start": "583839",
    "end": "589040"
  },
  {
    "text": "so a lot of detail here but the key thing is there are three plugins the pre-filter we check the quarter make",
    "start": "589200",
    "end": "596080"
  },
  {
    "text": "sure we schedule a port right this port and have to make sure it's and",
    "start": "596080",
    "end": "602720"
  },
  {
    "text": "meet the cannot exceed the maximum quarter post filter basically is preemption if a",
    "start": "602720",
    "end": "610320"
  },
  {
    "text": "port a name space is under you use its guaranteed quarter then have to",
    "start": "610320",
    "end": "616480"
  },
  {
    "text": "perform preemption the reserve stage is when you schedule a node with your",
    "start": "616480",
    "end": "621519"
  },
  {
    "text": "scheduled port the schedule has reserved some resources to avoid the risk condition",
    "start": "621519",
    "end": "628560"
  },
  {
    "start": "627000",
    "end": "715000"
  },
  {
    "text": "so here is example of elastic or quarter so there are two name space",
    "start": "628560",
    "end": "634800"
  },
  {
    "text": "name space one have the minimum or guarantee and a quarter of four",
    "start": "634800",
    "end": "640640"
  },
  {
    "text": "fourth gpu six maximum six gpu and another one have",
    "start": "640640",
    "end": "645760"
  },
  {
    "text": "the minimum of six and a maximum of eight gpu respectively so at the beginning",
    "start": "645760",
    "end": "651360"
  },
  {
    "text": "each of them only use two gpu and the three gpu so it's fine it's even a",
    "start": "651360",
    "end": "658160"
  },
  {
    "text": "less than their minimum one but later the namespace one or user one",
    "start": "658160",
    "end": "665760"
  },
  {
    "text": "requested additional resources then the scheduler can schedule more ports up to its",
    "start": "665760",
    "end": "672079"
  },
  {
    "text": "maximum one is six gpu the next step but the namespace two",
    "start": "672079",
    "end": "678160"
  },
  {
    "text": "submit more ports or workloads that requested more resources",
    "start": "678160",
    "end": "684800"
  },
  {
    "text": "now the scheduler realized right this name space one over",
    "start": "684800",
    "end": "690079"
  },
  {
    "text": "utilize used its guaranteed quarter so the customer parameter will be kicked in",
    "start": "690079",
    "end": "696800"
  },
  {
    "text": "and evicted ports from the namespace one so now the name space one",
    "start": "696800",
    "end": "703760"
  },
  {
    "text": "use four gpu named space two use six gpu this they are guaranteed or minimum one",
    "start": "703760",
    "end": "710399"
  },
  {
    "text": "so that's the fairness we want to achieve",
    "start": "710399",
    "end": "716360"
  },
  {
    "start": "715000",
    "end": "783000"
  },
  {
    "text": "next i'm briefly describing a extension of the work so far what",
    "start": "717040",
    "end": "723519"
  },
  {
    "text": "we're describing here is a flat quarter and structure",
    "start": "723519",
    "end": "729279"
  },
  {
    "text": "but more and more users want to map the quarter management resource management to the organizational teams",
    "start": "729279",
    "end": "736160"
  },
  {
    "text": "so the hierarchy or tree kind of structure would be a very desirable feature",
    "start": "736160",
    "end": "743200"
  },
  {
    "text": "so let's show you an example so we can create this and tree or hierarchy quarter group from the root",
    "start": "743200",
    "end": "750720"
  },
  {
    "text": "and aggregate the entire cluster resources also have a minimum or mean",
    "start": "750720",
    "end": "756560"
  },
  {
    "text": "so it's children right the sum of its children's minimum should be equal than its parent",
    "start": "756560",
    "end": "763760"
  },
  {
    "text": "minimum then its maximum should be less than its parent's maximum",
    "start": "763760",
    "end": "769519"
  },
  {
    "text": "then at the leaf level the name space will be associated with the leaf levels and",
    "start": "769519",
    "end": "775839"
  },
  {
    "text": "quarter group so this week we can manage the resource in a more dynamic and",
    "start": "775839",
    "end": "781519"
  },
  {
    "text": "flexible and manner i hope it's under readable and i",
    "start": "781519",
    "end": "787519"
  },
  {
    "start": "783000",
    "end": "825000"
  },
  {
    "text": "apologize if the fonts too small so here the example",
    "start": "787519",
    "end": "792560"
  },
  {
    "text": "so just extend the previous example so now",
    "start": "792560",
    "end": "797920"
  },
  {
    "text": "in order to define a quarter group a user can specify the minimum and the",
    "start": "797920",
    "end": "804320"
  },
  {
    "text": "maximum but also their additional field called children",
    "start": "804320",
    "end": "809440"
  },
  {
    "text": "so it's a nested structure so each quarter group can specify",
    "start": "809440",
    "end": "814480"
  },
  {
    "text": "the the children the quarter group then the children called group define the minimum and the maximum",
    "start": "814480",
    "end": "821040"
  },
  {
    "text": "and finally also can have its own children",
    "start": "821040",
    "end": "825920"
  },
  {
    "start": "825000",
    "end": "923000"
  },
  {
    "text": "next i'm talking a little about it's related to the batch workload",
    "start": "827600",
    "end": "834959"
  },
  {
    "text": "batch workload support in kubernetes but not directly and related to the scheduling it's the job",
    "start": "834959",
    "end": "842720"
  },
  {
    "text": "queue as we know the workloads and the batch workloads",
    "start": "842720",
    "end": "848160"
  },
  {
    "text": "come and running and gone so typically we need to manage or buffer",
    "start": "848160",
    "end": "854000"
  },
  {
    "text": "the job when the resource is not available so that's how we need a dual cue",
    "start": "854000",
    "end": "859120"
  },
  {
    "text": "management so to address this and a job cue",
    "start": "859120",
    "end": "865760"
  },
  {
    "text": "management is introduced to the system as well so it's managing",
    "start": "865760",
    "end": "870880"
  },
  {
    "text": "the workloads not reports the ports is the schedule and the concept",
    "start": "870880",
    "end": "877839"
  },
  {
    "text": "so far the policy is based on the priorities of the job and the creation",
    "start": "877839",
    "end": "883519"
  },
  {
    "text": "time of the job or submission time of the job and also the quarter constraint then decided and",
    "start": "883519",
    "end": "889760"
  },
  {
    "text": "which job or should be scheduled next so a new feature and we're still working",
    "start": "889760",
    "end": "896560"
  },
  {
    "text": "on is concrete multiple queue right for example each user or each tenant can",
    "start": "896560",
    "end": "901680"
  },
  {
    "text": "submit their jobs to different queue then based on certain policies",
    "start": "901680",
    "end": "907600"
  },
  {
    "text": "and either fair sharing or other more advanced policy the",
    "start": "907600",
    "end": "913680"
  },
  {
    "text": "management system can achieve or provide more flexible",
    "start": "913680",
    "end": "919839"
  },
  {
    "text": "or fairness across the user and tenants",
    "start": "919839",
    "end": "924880"
  },
  {
    "start": "923000",
    "end": "1011000"
  },
  {
    "text": "so here is a high level and architecture about how",
    "start": "925040",
    "end": "930399"
  },
  {
    "text": "the job queue is designed implemented so the idea is where job is submitted",
    "start": "930399",
    "end": "938320"
  },
  {
    "text": "annotation like suspend annotation is added so then later and the job will be added",
    "start": "938320",
    "end": "946560"
  },
  {
    "text": "to the queue so based on the policy when a job is dq",
    "start": "946560",
    "end": "951600"
  },
  {
    "text": "from the job queue then annotation will be removed then different operators",
    "start": "951600",
    "end": "958480"
  },
  {
    "text": "then got the notification will submit or create reports so one thing i want to",
    "start": "958480",
    "end": "965519"
  },
  {
    "text": "mention is because they are all types of different application level specific workloads right from tensorflow your pi",
    "start": "965519",
    "end": "973199"
  },
  {
    "text": "torch spark and pi they have different description or schema for their jobs",
    "start": "973199",
    "end": "980000"
  },
  {
    "text": "so now and we are working on the extension different extensions support different",
    "start": "980000",
    "end": "985600"
  },
  {
    "text": "workloads so the key function of the extension is to convert or adapt the application",
    "start": "985600",
    "end": "992720"
  },
  {
    "text": "specific job definition to a unified and generic",
    "start": "992720",
    "end": "999600"
  },
  {
    "text": "descriptions in the queue we call we terms is q unit so that way",
    "start": "999600",
    "end": "1006399"
  },
  {
    "text": "you can support a different type of jobs and all clothes",
    "start": "1006399",
    "end": "1012160"
  },
  {
    "start": "1011000",
    "end": "1531000"
  },
  {
    "text": "okay so next i'm going to show you a demo created by jintan",
    "start": "1012160",
    "end": "1018800"
  },
  {
    "text": "so very unfortunate if we are not able to make the the audio and the",
    "start": "1018800",
    "end": "1024959"
  },
  {
    "text": "work and otherwise qingtang would be the best present about the work so i i'm",
    "start": "1024959",
    "end": "1032000"
  },
  {
    "text": "trying to explain",
    "start": "1032000",
    "end": "1036240"
  },
  {
    "text": "okay maybe i can just creep it no it's not working",
    "start": "1037600",
    "end": "1043039"
  },
  {
    "text": "i have the video here right okay",
    "start": "1043760",
    "end": "1048919"
  },
  {
    "text": "so in this demo it's really it's running a gpu cluster",
    "start": "1052799",
    "end": "1059520"
  },
  {
    "text": "so we create elastic quarter and namespace then from different namespace submit to the jobs",
    "start": "1059520",
    "end": "1066799"
  },
  {
    "text": "and you see and how the jobs and the different namespace users",
    "start": "1066799",
    "end": "1073440"
  },
  {
    "text": "share the resources in a more dynamic way also how the job queue to manage the",
    "start": "1073440",
    "end": "1079360"
  },
  {
    "text": "different jobs okay let me quickly move through here",
    "start": "1079360",
    "end": "1086640"
  },
  {
    "text": "because we cannot hear the qin chang's voice and so",
    "start": "1086640",
    "end": "1092160"
  },
  {
    "text": "then that's see and the command okay so now",
    "start": "1092160",
    "end": "1097440"
  },
  {
    "text": "the first step we just created and to name space",
    "start": "1097440",
    "end": "1103120"
  },
  {
    "text": "name space one name space two",
    "start": "1103520",
    "end": "1111039"
  },
  {
    "text": "the next step is create the investigator with the minimum or guaranteed quarter and maximum or the",
    "start": "1111919",
    "end": "1120640"
  },
  {
    "text": "limit of the quarter okay so you can see here now we create a elastic quarter for each name space",
    "start": "1120640",
    "end": "1128240"
  },
  {
    "text": "and the maximum is 4 gpu and the minimum is 2 gpu by the way and",
    "start": "1128240",
    "end": "1133600"
  },
  {
    "text": "so far we assume and the total capacity of this tiny and",
    "start": "1133600",
    "end": "1140880"
  },
  {
    "text": "dummy cluster have total of four cpu cards so each namespace means it will get two",
    "start": "1140880",
    "end": "1149120"
  },
  {
    "text": "gpu as a guaranteed resource but it can use up to four gpu if another user",
    "start": "1149120",
    "end": "1158960"
  },
  {
    "text": "is not using the resources so as you can see here being at max",
    "start": "1158960",
    "end": "1166240"
  },
  {
    "text": "so next step is we are going to create some jobs in each name space",
    "start": "1166240",
    "end": "1172640"
  },
  {
    "text": "see how these jobs or ports are running and in cluster or schedule",
    "start": "1172640",
    "end": "1179360"
  },
  {
    "text": "running in a cluster let me see and okay that's it that's called so for the",
    "start": "1179360",
    "end": "1186240"
  },
  {
    "text": "jobs now so the name space one will submit three jobs",
    "start": "1186240",
    "end": "1192480"
  },
  {
    "text": "each job have two workers because tencent flow work so each job have to work each work",
    "start": "1192480",
    "end": "1200000"
  },
  {
    "text": "is using one gpu so it means each job",
    "start": "1200000",
    "end": "1205440"
  },
  {
    "text": "is using two gpu that also means a total of four",
    "start": "1205440",
    "end": "1212080"
  },
  {
    "text": "gpu means because there are only four gpu in a cluster now only two jobs can",
    "start": "1212080",
    "end": "1217280"
  },
  {
    "text": "run at the same time so you can see here is right there are two workers the replay",
    "start": "1217280",
    "end": "1223760"
  },
  {
    "text": "cost is two and each one the resource request one gpu",
    "start": "1223760",
    "end": "1229600"
  },
  {
    "text": "so let's see if the user one in the name space one submitter three",
    "start": "1229600",
    "end": "1235200"
  },
  {
    "text": "this type of the jobs so what will happen",
    "start": "1235200",
    "end": "1240400"
  },
  {
    "text": "teen time probably have some the more insight here so [Music]",
    "start": "1247440",
    "end": "1253520"
  },
  {
    "text": "okay let's see [Music] it's still",
    "start": "1253520",
    "end": "1259480"
  },
  {
    "text": "okay that's the first job created again the each job",
    "start": "1267039",
    "end": "1272320"
  },
  {
    "text": "basically is requesting two gpu so user one launched",
    "start": "1272320",
    "end": "1278240"
  },
  {
    "text": "three jobs so let's see the status okay",
    "start": "1278240",
    "end": "1284720"
  },
  {
    "text": "as we just described so two jobs are running each is using two gpu and then up to",
    "start": "1284720",
    "end": "1292880"
  },
  {
    "text": "four gpu the job3 is qe in the job queue because there are no resource available to run",
    "start": "1292880",
    "end": "1299840"
  },
  {
    "text": "job3 next let's see",
    "start": "1299840",
    "end": "1306000"
  },
  {
    "text": "what's happening if user 2 in name space 2",
    "start": "1306000",
    "end": "1311840"
  },
  {
    "text": "is submitting a job 2 to the system",
    "start": "1311840",
    "end": "1317559"
  },
  {
    "text": "[Music] so name space 2",
    "start": "1319220",
    "end": "1326000"
  },
  {
    "text": "is submitting a job the same type and the request to gpu so because there are two workers",
    "start": "1326000",
    "end": "1333840"
  },
  {
    "text": "so what we are expecting is then because so far there are no",
    "start": "1341679",
    "end": "1347679"
  },
  {
    "text": "gpu free gpu available so the",
    "start": "1347679",
    "end": "1352720"
  },
  {
    "text": "preemption will be kicking then evict some jobs or ports from name space",
    "start": "1352720",
    "end": "1360720"
  },
  {
    "text": "1 then the job user 2 or name space 2 can get the",
    "start": "1360720",
    "end": "1366400"
  },
  {
    "text": "resources from its job",
    "start": "1366400",
    "end": "1370000"
  },
  {
    "text": "let's see the status okay so far and because it takes some time",
    "start": "1372159",
    "end": "1377440"
  },
  {
    "text": "and the job too so far it's not getting resources it's queuing",
    "start": "1377440",
    "end": "1385440"
  },
  {
    "text": "but then during this queuing and the stage the scheduler will identify the victims and the",
    "start": "1385520",
    "end": "1392720"
  },
  {
    "text": "candidates so as you can see now the job 2 in the name space 1",
    "start": "1392720",
    "end": "1399520"
  },
  {
    "text": "is being evicted and the ports",
    "start": "1399520",
    "end": "1404799"
  },
  {
    "text": "will be evicted then the job",
    "start": "1404799",
    "end": "1410640"
  },
  {
    "text": "now okay so it's interesting because the job warning space one completes so that your three",
    "start": "1410640",
    "end": "1417760"
  },
  {
    "text": "got a chance to run because it's requested to cpu then job two or job one of the name",
    "start": "1417760",
    "end": "1424159"
  },
  {
    "text": "space two as we described and after the preemption eviction succeeded",
    "start": "1424159",
    "end": "1430559"
  },
  {
    "text": "it started running as well then the job 2 of the namespace 1",
    "start": "1430559",
    "end": "1436559"
  },
  {
    "text": "was evicted and preempted because it overused the guaranteed",
    "start": "1436559",
    "end": "1442000"
  },
  {
    "text": "resources so as you can see this demo in the show",
    "start": "1442000",
    "end": "1447520"
  },
  {
    "text": "how this resources dynamic sharing between namespace1 and the namespace 2.",
    "start": "1447520",
    "end": "1452880"
  },
  {
    "text": "so when namespace 1 didn't use the resources guaranteed resources named",
    "start": "1452880",
    "end": "1459200"
  },
  {
    "text": "smith one can run two jobs then but later when name is race two [Music]",
    "start": "1459200",
    "end": "1465200"
  },
  {
    "text": "needed resources and the name space one has to yeah the scheduler will use",
    "start": "1465200",
    "end": "1470320"
  },
  {
    "text": "preemption to reclaim the resources to run the workloads",
    "start": "1470320",
    "end": "1475520"
  },
  {
    "text": "so now and the implementation is simple and after evicting uh jobs and it will stay in the",
    "start": "1475520",
    "end": "1482480"
  },
  {
    "text": "field feeling the stage but definitely and we can extend it either by application",
    "start": "1482480",
    "end": "1489520"
  },
  {
    "text": "levels and your management resubmitted we're also discussing if it's because of",
    "start": "1489520",
    "end": "1495120"
  },
  {
    "text": "this and inestic quarter and the contention that make a ports",
    "start": "1495120",
    "end": "1501200"
  },
  {
    "text": "and terminate it early then maybe we can automatically resubmit to the queue right then it will run later with",
    "start": "1501200",
    "end": "1508240"
  },
  {
    "text": "resources available so this is the demo",
    "start": "1508240",
    "end": "1513360"
  },
  {
    "text": "to show how the industrial quarter work and also the job queue hope you find it and useful and have a",
    "start": "1513360",
    "end": "1520559"
  },
  {
    "text": "bad idea about how this elastic quarter working",
    "start": "1520559",
    "end": "1528279"
  },
  {
    "start": "1531000",
    "end": "1657000"
  },
  {
    "text": "okay so now and uh the current status of the index code of",
    "start": "1534640",
    "end": "1540559"
  },
  {
    "text": "capacity planning is we have two open source projects the first one is implemented is inestio",
    "start": "1540559",
    "end": "1547600"
  },
  {
    "text": "quarter and capacity scheduling the core component is the customer",
    "start": "1547600",
    "end": "1553200"
  },
  {
    "text": "preemption is part of the sig scheduling out of three plugin so you can check out the",
    "start": "1553200",
    "end": "1559679"
  },
  {
    "text": "code and play it with this and in the seek",
    "start": "1559679",
    "end": "1565279"
  },
  {
    "text": "scheduler and plug-in repo so the second one is independent of separate and project",
    "start": "1565279",
    "end": "1572080"
  },
  {
    "text": "repo is how to manage the workload and provide this and your queue",
    "start": "1572080",
    "end": "1578720"
  },
  {
    "text": "management functionality we just make it public and before the conference it's",
    "start": "1578720",
    "end": "1584480"
  },
  {
    "text": "still under active development so now it supports uh",
    "start": "1584480",
    "end": "1590880"
  },
  {
    "text": "tensorflow and the pi torch extension so spark npr",
    "start": "1591120",
    "end": "1596720"
  },
  {
    "text": "other thing and still working on also we look forward to contributions from all of you",
    "start": "1596720",
    "end": "1604559"
  },
  {
    "text": "so the hierarchy quarter will be released next so in terms of the",
    "start": "1604559",
    "end": "1610960"
  },
  {
    "text": "early adopters so alibaba already and apply this",
    "start": "1610960",
    "end": "1616960"
  },
  {
    "text": "elastic cord capacity planning in production the alibaba cloud",
    "start": "1616960",
    "end": "1622240"
  },
  {
    "text": "so at apple we are actively investigating how to provide this",
    "start": "1622240",
    "end": "1627919"
  },
  {
    "text": "job queue and elastic scheduling functions to support running",
    "start": "1627919",
    "end": "1633120"
  },
  {
    "text": "the smart workload in our kubernetes infrastructure",
    "start": "1633120",
    "end": "1639200"
  },
  {
    "text": "baidu is looking at use this to run their self-driving and always ai and based on",
    "start": "1639200",
    "end": "1646159"
  },
  {
    "text": "simulation workloads so here is a list of reference and you",
    "start": "1646159",
    "end": "1652320"
  },
  {
    "text": "may find useful and the repo and some documents",
    "start": "1652320",
    "end": "1657360"
  },
  {
    "start": "1657000",
    "end": "1700000"
  },
  {
    "text": "so this is a joint effort in upstream community without the",
    "start": "1658880",
    "end": "1663919"
  },
  {
    "text": "collaboration it would not be possible to even have to reach this",
    "start": "1663919",
    "end": "1669600"
  },
  {
    "text": "stage so we really want to thank all these contributors who has contributed to the ideas and the",
    "start": "1669600",
    "end": "1676159"
  },
  {
    "text": "coding the designs we also look forward to working with everyone and",
    "start": "1676159",
    "end": "1684159"
  },
  {
    "text": "so you can try out the projects provide the feedback or contribute",
    "start": "1684159",
    "end": "1690240"
  },
  {
    "text": "the code design or submitted issues or suggesting recommendations",
    "start": "1690240",
    "end": "1696320"
  },
  {
    "text": "everything would be highly appreciated and welcome",
    "start": "1696320",
    "end": "1701520"
  },
  {
    "start": "1700000",
    "end": "1734000"
  },
  {
    "text": "okay i think that's all i have and",
    "start": "1701760",
    "end": "1708679"
  },
  {
    "text": "so i i'm happy to take some questions after the",
    "start": "1713760",
    "end": "1719840"
  },
  {
    "text": "talk yeah i'll be around so if you have any questions yeah also i'll just note",
    "start": "1719840",
    "end": "1725600"
  },
  {
    "text": "for the online folks um we'll be taking questions online too so feel free to drop those in if you're online and don't",
    "start": "1725600",
    "end": "1732559"
  },
  {
    "text": "forget to review the session on sketch too",
    "start": "1732559",
    "end": "1737480"
  },
  {
    "text": "thank you for this this is amazing work uh one question i had",
    "start": "1739760",
    "end": "1745120"
  },
  {
    "text": "basically you're taking all the boxes of what we need for scientific like workloads one that you didn't mention is",
    "start": "1745120",
    "end": "1751600"
  },
  {
    "text": "gang scheduling is this also supported by the scheduler you described a cue speaker network sorry sorry i was",
    "start": "1751600",
    "end": "1759919"
  },
  {
    "text": "just saying that this is amazing you're ticking all the boxes of the stuff we need uh one that you didn't mention is",
    "start": "1759919",
    "end": "1766000"
  },
  {
    "text": "gang scheduling uh when you're uh doing the workload allocation is this",
    "start": "1766000",
    "end": "1771600"
  },
  {
    "text": "something that the scheduler also supports like uh scheduling multiple jobs at the",
    "start": "1771600",
    "end": "1777360"
  },
  {
    "text": "same time waiting for the slot things like this oh yeah so so by scheduling and so i i",
    "start": "1777360",
    "end": "1784240"
  },
  {
    "text": "should have a clarify right as you can see now basically there are two levels one is at your q level this is",
    "start": "1784240",
    "end": "1791600"
  },
  {
    "text": "the workload or job as a unit so the the queue management system will determine",
    "start": "1791600",
    "end": "1797679"
  },
  {
    "text": "who which your is the next job to schedule right as i mentioned there are some policy there so",
    "start": "1797679",
    "end": "1803840"
  },
  {
    "text": "this is separate you can think it's outside of the kubernetes and the schedule independent schedule then the",
    "start": "1803840",
    "end": "1810799"
  },
  {
    "text": "second one is the wheezing kubernetes the key component and the cube schedule",
    "start": "1810799",
    "end": "1816000"
  },
  {
    "text": "this is an important level right when the job is picked from the job queue then all the",
    "start": "1816000",
    "end": "1822640"
  },
  {
    "text": "ports within that job will be submitted to api server then",
    "start": "1822640",
    "end": "1828559"
  },
  {
    "text": "in the scheduled queue then at that time it's just the default scheduled behavior",
    "start": "1828559",
    "end": "1834000"
  },
  {
    "text": "and to do but we have a plug-in as i showed a pre-filled plug-in also we checked make sure if the scheduler",
    "start": "1834000",
    "end": "1841200"
  },
  {
    "text": "schedule a port make sure that resources total amount of resources won't exceed",
    "start": "1841200",
    "end": "1847039"
  },
  {
    "text": "right this name space and the maximum unesco quarter resources",
    "start": "1847039",
    "end": "1852399"
  },
  {
    "text": "did i answer your question thank you great thank you an online question that's got a bunch of",
    "start": "1852399",
    "end": "1858399"
  },
  {
    "text": "votes here is are the elastic quota and job queue components um going to end up in the",
    "start": "1858399",
    "end": "1865200"
  },
  {
    "text": "kate's scheduling sig you know mix at any point in time",
    "start": "1865200",
    "end": "1870320"
  },
  {
    "text": "yeah so so far we we believe as i mentioned this elastic capacity planning is already part of the sig scheduling",
    "start": "1870320",
    "end": "1877679"
  },
  {
    "text": "and out of treat repo and it's been there well and we tested extensively and it's just the",
    "start": "1877679",
    "end": "1884000"
  },
  {
    "text": "crd plus the plug-in of the schedule which is basically just kubernetes native solution alibaba already applied",
    "start": "1884000",
    "end": "1890960"
  },
  {
    "text": "in production so it definitely will come and more testing and try it and so so far and uh",
    "start": "1890960",
    "end": "1897519"
  },
  {
    "text": "we just hope and we can get more and yeah adoption and people test it and then yeah we can",
    "start": "1897519",
    "end": "1904159"
  },
  {
    "text": "improve it and so that's the goal and yeah make it turn the production ready yeah widening and",
    "start": "1904159",
    "end": "1910159"
  },
  {
    "text": "broadly excellent thank you uh just i may be completely",
    "start": "1910159",
    "end": "1915840"
  },
  {
    "text": "misunderstanding or missing a problem but could this be used for sort of like nomad style scheduling where",
    "start": "1915840",
    "end": "1922159"
  },
  {
    "text": "instead of having an hpa that has to sort of respond to a metric not being in the right threshold and",
    "start": "1922159",
    "end": "1928240"
  },
  {
    "text": "then scheduling more pods make sure that you have pods scheduled maximally across all your nodes so that",
    "start": "1928240",
    "end": "1936000"
  },
  {
    "text": "if there is a certain traffic on any workload like a web workload it is possible that it already has",
    "start": "1936000",
    "end": "1941919"
  },
  {
    "text": "more than it needs and if not then you can evict something that does have more than it needs and",
    "start": "1941919",
    "end": "1947600"
  },
  {
    "text": "then do the scale up yeah so so i would see like i said there are multiple in the decision and the",
    "start": "1947600",
    "end": "1954640"
  },
  {
    "text": "points and in the entire and the life cycle workload so we talked about that and when the",
    "start": "1954640",
    "end": "1960000"
  },
  {
    "text": "port the key function of a cube scheduler is basically assigned",
    "start": "1960000",
    "end": "1965360"
  },
  {
    "text": "right place the ports on the nodes so if you are familiar with the kubernetes scheduler and the functionality there",
    "start": "1965360",
    "end": "1971840"
  },
  {
    "text": "are different algorithms plug-in there and the bin packing algorithm neither spreading the",
    "start": "1971840",
    "end": "1977840"
  },
  {
    "text": "ports right or more best defeat consolidation with other constraints all",
    "start": "1977840",
    "end": "1983039"
  },
  {
    "text": "this can be under configurable by default for example the coupe schedule just try to spreading and",
    "start": "1983039",
    "end": "1989440"
  },
  {
    "text": "the ports across all the different nodes but you can configure it a different way i think",
    "start": "1989440",
    "end": "1994720"
  },
  {
    "text": "it's a little bit of circular to whatever and we want to do it but",
    "start": "1994720",
    "end": "2000240"
  },
  {
    "text": "the more interesting idea i think you mentioned and the comment will make a good point is i think his customer probably care more",
    "start": "2000240",
    "end": "2007440"
  },
  {
    "text": "is about slo sla right can we use some high level",
    "start": "2007440",
    "end": "2013039"
  },
  {
    "text": "metrics to drive this workload or report scheduling right i don't care what",
    "start": "2013039",
    "end": "2018240"
  },
  {
    "text": "strategy you apply right i want my ports can be scheduled around within one second two seconds yeah that's uh i",
    "start": "2018240",
    "end": "2025600"
  },
  {
    "text": "think very interesting thing and yeah the community and we are still brainstorming but i have to admit it's",
    "start": "2025600",
    "end": "2031840"
  },
  {
    "text": "still a little bit too early stage how to have a sla slo",
    "start": "2031840",
    "end": "2037039"
  },
  {
    "text": "driven and yeah scheduling hi um",
    "start": "2037039",
    "end": "2042320"
  },
  {
    "text": "yeah i was wondering if this was compatible with clusters with the cluster auto scaler or auto",
    "start": "2042320",
    "end": "2049520"
  },
  {
    "text": "scaling groups enabled um technically in that scenario shouldn't a cluster have like infinite",
    "start": "2049520",
    "end": "2056079"
  },
  {
    "text": "resources this seems more applicable for clusters with like a fixed set of resources",
    "start": "2056079",
    "end": "2062800"
  },
  {
    "text": "so in terms of the compatibility again so the",
    "start": "2062800",
    "end": "2068398"
  },
  {
    "text": "elastic quarter and the capacity sketch and pieces like i said yeah it's purely and compatible",
    "start": "2068399",
    "end": "2074960"
  },
  {
    "text": "with any upstream and kubernetes code and just met he rebuilt the the schedule",
    "start": "2074960",
    "end": "2080800"
  },
  {
    "text": "with the plugin and defined the cid the job queue and is a separate concept",
    "start": "2080800",
    "end": "2088158"
  },
  {
    "text": "we try to make it more extensible like and you just provide or",
    "start": "2088159",
    "end": "2093760"
  },
  {
    "text": "the project will provide different extensions control different workload",
    "start": "2093760",
    "end": "2098880"
  },
  {
    "text": "so overall and i would see and we try to make it and",
    "start": "2098880",
    "end": "2104560"
  },
  {
    "text": "independent or agnostic to write what the application levels workloads or",
    "start": "2104560",
    "end": "2110640"
  },
  {
    "text": "what and your workload management system so by providing this standard api for job q",
    "start": "2110640",
    "end": "2118960"
  },
  {
    "text": "by building this preemption and elastic quarter into the native in a",
    "start": "2118960",
    "end": "2125839"
  },
  {
    "text": "native kubernetes way but again yeah if there are any suggestions or concerns or some features",
    "start": "2125839",
    "end": "2132800"
  },
  {
    "text": "and you feel and we should have or desirable and please yeah check out code",
    "start": "2132800",
    "end": "2137839"
  },
  {
    "text": "or submit the issues and of course more and yeah hopefully you can help us or",
    "start": "2137839",
    "end": "2143200"
  },
  {
    "text": "contribute to the project and code all right well thank you very much man we were about time here so wonderful",
    "start": "2143200",
    "end": "2149839"
  },
  {
    "text": "presentation thank you very much i wish you have a wonderful rest of events",
    "start": "2149839",
    "end": "2157880"
  }
]