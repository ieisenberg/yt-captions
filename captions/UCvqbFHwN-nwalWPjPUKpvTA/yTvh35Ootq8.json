[
  {
    "start": "0",
    "end": "98000"
  },
  {
    "text": "all right um so i'm really glad to be",
    "start": "320",
    "end": "2960"
  },
  {
    "text": "back here first off uh you know doing an",
    "start": "2960",
    "end": "5440"
  },
  {
    "text": "in-person",
    "start": "5440",
    "end": "6799"
  },
  {
    "text": "presentation in-person conferences it's",
    "start": "6799",
    "end": "8960"
  },
  {
    "text": "been so long and it's it's one of those",
    "start": "8960",
    "end": "10400"
  },
  {
    "text": "things i never thought i'd missed until",
    "start": "10400",
    "end": "11679"
  },
  {
    "text": "it was",
    "start": "11679",
    "end": "12960"
  },
  {
    "text": "um taken away so i'm just really glad to",
    "start": "12960",
    "end": "15120"
  },
  {
    "text": "be here i'm actually going to",
    "start": "15120",
    "end": "17119"
  },
  {
    "text": "take off the mask for a bit",
    "start": "17119",
    "end": "19279"
  },
  {
    "text": "a lot easier to talk i'm happy to be",
    "start": "19279",
    "end": "22240"
  },
  {
    "text": "here talking about this subject managing",
    "start": "22240",
    "end": "24480"
  },
  {
    "text": "kubernetes web hooks",
    "start": "24480",
    "end": "26560"
  },
  {
    "text": "web hooks have been",
    "start": "26560",
    "end": "28320"
  },
  {
    "text": "kind of a thorn on my side i'm sure a",
    "start": "28320",
    "end": "30080"
  },
  {
    "text": "lot of others uh manage them in",
    "start": "30080",
    "end": "32078"
  },
  {
    "text": "kubernetes",
    "start": "32079",
    "end": "33600"
  },
  {
    "text": "comes with a lot of challenges and and",
    "start": "33600",
    "end": "36079"
  },
  {
    "text": "we've been able to use spire",
    "start": "36079",
    "end": "38000"
  },
  {
    "text": "uh to make the web hook process a lot",
    "start": "38000",
    "end": "39920"
  },
  {
    "text": "easier",
    "start": "39920",
    "end": "42239"
  },
  {
    "text": "so i'm faisal lemon i'm a software",
    "start": "42239",
    "end": "43760"
  },
  {
    "text": "engineer at f5 networks uh previously i",
    "start": "43760",
    "end": "46800"
  },
  {
    "text": "worked at nginx and nginx was acquired",
    "start": "46800",
    "end": "49600"
  },
  {
    "text": "uh by f5 nginx of course is the open",
    "start": "49600",
    "end": "52879"
  },
  {
    "text": "source web server",
    "start": "52879",
    "end": "54879"
  },
  {
    "text": "load balancer",
    "start": "54879",
    "end": "57039"
  },
  {
    "text": "solution that a lot of you guys are",
    "start": "57039",
    "end": "58320"
  },
  {
    "text": "familiar with and i'm sure um are using",
    "start": "58320",
    "end": "60800"
  },
  {
    "text": "in your deployments",
    "start": "60800",
    "end": "62480"
  },
  {
    "text": "um the picture there of course my",
    "start": "62480",
    "end": "63920"
  },
  {
    "text": "daughter uh salma and our cat marley",
    "start": "63920",
    "end": "67520"
  },
  {
    "text": "we just recently adopted her about six",
    "start": "67520",
    "end": "69280"
  },
  {
    "text": "months ago",
    "start": "69280",
    "end": "70640"
  },
  {
    "text": "um very uh naughty little cat uh but a",
    "start": "70640",
    "end": "74159"
  },
  {
    "text": "lot of fun she likes jumping on",
    "start": "74159",
    "end": "75439"
  },
  {
    "text": "shoulders so we think she was a parrot",
    "start": "75439",
    "end": "77040"
  },
  {
    "text": "in the previous life",
    "start": "77040",
    "end": "79840"
  },
  {
    "text": "uh so the agenda for today is i'm just",
    "start": "80080",
    "end": "82799"
  },
  {
    "text": "gonna talk a little bit about the",
    "start": "82799",
    "end": "84159"
  },
  {
    "text": "challenges of web hooks",
    "start": "84159",
    "end": "86799"
  },
  {
    "text": "just to set this the table",
    "start": "86799",
    "end": "89280"
  },
  {
    "text": "and then digging into how we use spire",
    "start": "89280",
    "end": "92479"
  },
  {
    "text": "to solve those challenges and then some",
    "start": "92479",
    "end": "94799"
  },
  {
    "text": "q a as well after that",
    "start": "94799",
    "end": "97680"
  },
  {
    "text": "so let's go ahead and dig into it so a",
    "start": "97680",
    "end": "99040"
  },
  {
    "start": "98000",
    "end": "98000"
  },
  {
    "text": "little bit of a refresher on the web",
    "start": "99040",
    "end": "101119"
  },
  {
    "text": "hook side so first off what is a web",
    "start": "101119",
    "end": "102880"
  },
  {
    "text": "hook",
    "start": "102880",
    "end": "103840"
  },
  {
    "text": "so in the world of kubernetes a web hook",
    "start": "103840",
    "end": "106240"
  },
  {
    "text": "is a callback",
    "start": "106240",
    "end": "108000"
  },
  {
    "text": "and it runs before kubernetes objects",
    "start": "108000",
    "end": "111040"
  },
  {
    "text": "are created updated deleted so any sort",
    "start": "111040",
    "end": "113680"
  },
  {
    "text": "of modification",
    "start": "113680",
    "end": "115360"
  },
  {
    "text": "of the kubernetes state a web hook runs",
    "start": "115360",
    "end": "118159"
  },
  {
    "text": "and then once that rep hook runs you",
    "start": "118159",
    "end": "119920"
  },
  {
    "text": "have the opportunity to do something",
    "start": "119920",
    "end": "122719"
  },
  {
    "text": "and so what is that something that you",
    "start": "122719",
    "end": "124000"
  },
  {
    "text": "can do and they typically fall into",
    "start": "124000",
    "end": "125680"
  },
  {
    "text": "these two buckets the two types of",
    "start": "125680",
    "end": "127600"
  },
  {
    "text": "webhooks",
    "start": "127600",
    "end": "129440"
  },
  {
    "text": "the first one i have listed here is a",
    "start": "129440",
    "end": "130720"
  },
  {
    "text": "validating webhook",
    "start": "130720",
    "end": "132720"
  },
  {
    "text": "and that is used to as it says just",
    "start": "132720",
    "end": "134879"
  },
  {
    "text": "validate configurations and make sure",
    "start": "134879",
    "end": "136879"
  },
  {
    "text": "that they are",
    "start": "136879",
    "end": "138560"
  },
  {
    "text": "okay there's nothing weird in them",
    "start": "138560",
    "end": "140239"
  },
  {
    "text": "there's nothing",
    "start": "140239",
    "end": "141440"
  },
  {
    "text": "that's illegal or something you don't",
    "start": "141440",
    "end": "143520"
  },
  {
    "text": "want some state you don't want",
    "start": "143520",
    "end": "145520"
  },
  {
    "text": "a very common use case of the validating",
    "start": "145520",
    "end": "148400"
  },
  {
    "text": "web hook is in the custom resource",
    "start": "148400",
    "end": "150000"
  },
  {
    "text": "definition or crd",
    "start": "150000",
    "end": "152400"
  },
  {
    "text": "and when you create a crd you obviously",
    "start": "152400",
    "end": "154800"
  },
  {
    "text": "have your custom",
    "start": "154800",
    "end": "156800"
  },
  {
    "text": "resource and there's custom rules as to",
    "start": "156800",
    "end": "158800"
  },
  {
    "text": "what's acceptable and what's not",
    "start": "158800",
    "end": "160000"
  },
  {
    "text": "acceptable",
    "start": "160000",
    "end": "161519"
  },
  {
    "text": "and so you're validating webhook you",
    "start": "161519",
    "end": "163519"
  },
  {
    "text": "have the opportunity to reject invalid",
    "start": "163519",
    "end": "165519"
  },
  {
    "text": "configs",
    "start": "165519",
    "end": "166720"
  },
  {
    "text": "a good example in the coup builder book",
    "start": "166720",
    "end": "169200"
  },
  {
    "text": "is that they go through how to create a",
    "start": "169200",
    "end": "171200"
  },
  {
    "text": "crd",
    "start": "171200",
    "end": "172560"
  },
  {
    "text": "for cron jobs",
    "start": "172560",
    "end": "174080"
  },
  {
    "text": "and so",
    "start": "174080",
    "end": "175280"
  },
  {
    "text": "the validating web book they have there",
    "start": "175280",
    "end": "176879"
  },
  {
    "text": "will reject invalid cron configs",
    "start": "176879",
    "end": "180879"
  },
  {
    "text": "a second type of web hook is a mutating",
    "start": "180879",
    "end": "182800"
  },
  {
    "text": "webpack so if you use service meshes",
    "start": "182800",
    "end": "185120"
  },
  {
    "text": "like istio",
    "start": "185120",
    "end": "186800"
  },
  {
    "text": "or others they typically deploy some",
    "start": "186800",
    "end": "188879"
  },
  {
    "text": "sort of mutating",
    "start": "188879",
    "end": "190879"
  },
  {
    "text": "web hook to modify the pod",
    "start": "190879",
    "end": "193360"
  },
  {
    "text": "uh to inject the side car in there and",
    "start": "193360",
    "end": "196000"
  },
  {
    "text": "so that's the mutating workbook is the",
    "start": "196000",
    "end": "197599"
  },
  {
    "text": "other",
    "start": "197599",
    "end": "199840"
  },
  {
    "text": "um so what makes",
    "start": "200640",
    "end": "202319"
  },
  {
    "text": "webhook so challenging um and i think",
    "start": "202319",
    "end": "204959"
  },
  {
    "text": "the first one really is that you have to",
    "start": "204959",
    "end": "206400"
  },
  {
    "text": "provide",
    "start": "206400",
    "end": "207440"
  },
  {
    "text": "a certificate a key as well as a root ca",
    "start": "207440",
    "end": "210879"
  },
  {
    "text": "certificate so you have to provide all",
    "start": "210879",
    "end": "212239"
  },
  {
    "text": "three of these pieces of information",
    "start": "212239",
    "end": "214799"
  },
  {
    "text": "two kubernetes",
    "start": "214799",
    "end": "216640"
  },
  {
    "text": "and they all have to be kept up to date",
    "start": "216640",
    "end": "218319"
  },
  {
    "text": "kept fresh rotated",
    "start": "218319",
    "end": "220319"
  },
  {
    "text": "and it's up to the operator to do that",
    "start": "220319",
    "end": "223360"
  },
  {
    "text": "the certificate and key have to be saved",
    "start": "223360",
    "end": "225200"
  },
  {
    "text": "on disk which is another challenge",
    "start": "225200",
    "end": "228560"
  },
  {
    "text": "move towards more in-memory certificates",
    "start": "228560",
    "end": "230959"
  },
  {
    "text": "the web hook system still requires",
    "start": "230959",
    "end": "232480"
  },
  {
    "text": "certificates to be on disk and that's",
    "start": "232480",
    "end": "233840"
  },
  {
    "text": "another challenge another step in the",
    "start": "233840",
    "end": "235360"
  },
  {
    "text": "process",
    "start": "235360",
    "end": "236959"
  },
  {
    "text": "and if anyone knows how to do web hooks",
    "start": "236959",
    "end": "238720"
  },
  {
    "text": "without storing stuff on disks",
    "start": "238720",
    "end": "240640"
  },
  {
    "text": "i would love to hear",
    "start": "240640",
    "end": "242000"
  },
  {
    "text": "how you accomplish that",
    "start": "242000",
    "end": "244319"
  },
  {
    "text": "and then the root ca certificate has to",
    "start": "244319",
    "end": "246560"
  },
  {
    "text": "be provided into a kubernetes object the",
    "start": "246560",
    "end": "249040"
  },
  {
    "text": "validating web hook or the mutating web",
    "start": "249040",
    "end": "250879"
  },
  {
    "text": "configuration",
    "start": "250879",
    "end": "252720"
  },
  {
    "text": "in the ca bundle field and you have to",
    "start": "252720",
    "end": "254640"
  },
  {
    "text": "keep that up to date",
    "start": "254640",
    "end": "257599"
  },
  {
    "start": "257000",
    "end": "257000"
  },
  {
    "text": "so sample configuration here is just a",
    "start": "258000",
    "end": "260160"
  },
  {
    "text": "validating webhook configuration it has",
    "start": "260160",
    "end": "262240"
  },
  {
    "text": "some sort of name",
    "start": "262240",
    "end": "264000"
  },
  {
    "text": "and then you see the ca bundle there",
    "start": "264000",
    "end": "265919"
  },
  {
    "text": "field that's the base64 encoded root ca",
    "start": "265919",
    "end": "268320"
  },
  {
    "text": "certificate",
    "start": "268320",
    "end": "269600"
  },
  {
    "text": "but so is the operator of a web hook",
    "start": "269600",
    "end": "271840"
  },
  {
    "text": "it's your responsibility to keep that up",
    "start": "271840",
    "end": "275520"
  },
  {
    "text": "so how do you manage web hooks currently",
    "start": "276639",
    "end": "279040"
  },
  {
    "text": "within kubernetes there's a couple",
    "start": "279040",
    "end": "280880"
  },
  {
    "text": "different options you can use a long",
    "start": "280880",
    "end": "282400"
  },
  {
    "text": "live certificate",
    "start": "282400",
    "end": "284400"
  },
  {
    "text": "it's a very easy way of getting around",
    "start": "284400",
    "end": "286000"
  },
  {
    "text": "the problem",
    "start": "286000",
    "end": "287120"
  },
  {
    "text": "you just have it expire far in the",
    "start": "287120",
    "end": "288800"
  },
  {
    "text": "future",
    "start": "288800",
    "end": "290160"
  },
  {
    "text": "we're guilty of doing this as well",
    "start": "290160",
    "end": "292240"
  },
  {
    "text": "internally not the best way to do it but",
    "start": "292240",
    "end": "294320"
  },
  {
    "text": "it does work um challenges there is",
    "start": "294320",
    "end": "296240"
  },
  {
    "text": "manually",
    "start": "296240",
    "end": "297360"
  },
  {
    "text": "uh you have to rotate it manually but if",
    "start": "297360",
    "end": "299040"
  },
  {
    "text": "you keep the expiration date like in the",
    "start": "299040",
    "end": "300639"
  },
  {
    "text": "year 3000 probably",
    "start": "300639",
    "end": "303039"
  },
  {
    "text": "not a big problem there but the biggest",
    "start": "303039",
    "end": "305039"
  },
  {
    "text": "problem of course is that if those",
    "start": "305039",
    "end": "306320"
  },
  {
    "text": "certificates leak it's a security",
    "start": "306320",
    "end": "307840"
  },
  {
    "text": "liability how do you revoke it so",
    "start": "307840",
    "end": "310320"
  },
  {
    "text": "typically you don't want long live",
    "start": "310320",
    "end": "311600"
  },
  {
    "text": "certificates",
    "start": "311600",
    "end": "314160"
  },
  {
    "text": "the standard solution that people use",
    "start": "314400",
    "end": "316320"
  },
  {
    "text": "for managing kubernetes web hooks is",
    "start": "316320",
    "end": "317919"
  },
  {
    "text": "cert manager",
    "start": "317919",
    "end": "319440"
  },
  {
    "text": "if you follow the coup builder book and",
    "start": "319440",
    "end": "320880"
  },
  {
    "text": "the steps they put in there they have a",
    "start": "320880",
    "end": "322320"
  },
  {
    "text": "section on cert manager and how to use",
    "start": "322320",
    "end": "324240"
  },
  {
    "text": "cert manager to manage kubernetes web",
    "start": "324240",
    "end": "325919"
  },
  {
    "text": "hooks",
    "start": "325919",
    "end": "326800"
  },
  {
    "text": "it does the auto rotation for you which",
    "start": "326800",
    "end": "328400"
  },
  {
    "text": "is great",
    "start": "328400",
    "end": "330320"
  },
  {
    "text": "the problems with cert manager i think",
    "start": "330320",
    "end": "331680"
  },
  {
    "text": "is that it has a lot of overlap with",
    "start": "331680",
    "end": "333039"
  },
  {
    "text": "spire they're both kind of certificate",
    "start": "333039",
    "end": "334639"
  },
  {
    "text": "management solutions and deploying both",
    "start": "334639",
    "end": "337520"
  },
  {
    "text": "i think",
    "start": "337520",
    "end": "338720"
  },
  {
    "text": "has a lot of overlap has a lot of",
    "start": "338720",
    "end": "340240"
  },
  {
    "text": "operational overhead",
    "start": "340240",
    "end": "342639"
  },
  {
    "text": "and for us it was out of scope just",
    "start": "342639",
    "end": "344160"
  },
  {
    "text": "because",
    "start": "344160",
    "end": "345199"
  },
  {
    "text": "the only gap that we had with spire was",
    "start": "345199",
    "end": "347199"
  },
  {
    "text": "the web hook and we didn't want to",
    "start": "347199",
    "end": "348240"
  },
  {
    "text": "deploy cert manager",
    "start": "348240",
    "end": "350160"
  },
  {
    "text": "just purely for the web hook use cases a",
    "start": "350160",
    "end": "352400"
  },
  {
    "text": "lot of you know a new tool to learn new",
    "start": "352400",
    "end": "354720"
  },
  {
    "text": "logs",
    "start": "354720",
    "end": "357039"
  },
  {
    "text": "and so",
    "start": "357039",
    "end": "357919"
  },
  {
    "text": "we wanted to avoid going down that path",
    "start": "357919",
    "end": "360319"
  },
  {
    "text": "and so the solution that we came up with",
    "start": "360319",
    "end": "362080"
  },
  {
    "text": "in working with this fire team the",
    "start": "362080",
    "end": "363440"
  },
  {
    "text": "contributors and maintainers is to use",
    "start": "363440",
    "end": "365440"
  },
  {
    "text": "fire",
    "start": "365440",
    "end": "366880"
  },
  {
    "text": "to manage certificates",
    "start": "366880",
    "end": "369280"
  },
  {
    "text": "and the solution that we have on spire",
    "start": "369280",
    "end": "370800"
  },
  {
    "text": "is based a lot on how strip manager does",
    "start": "370800",
    "end": "372400"
  },
  {
    "text": "it as well",
    "start": "372400",
    "end": "374800"
  },
  {
    "text": "so moving forward how do we actually use",
    "start": "375600",
    "end": "377600"
  },
  {
    "text": "spire to manage those certificates",
    "start": "377600",
    "end": "381360"
  },
  {
    "start": "380000",
    "end": "380000"
  },
  {
    "text": "there's three basic steps that we need",
    "start": "381360",
    "end": "383440"
  },
  {
    "text": "to do and we'll go through them in",
    "start": "383440",
    "end": "385039"
  },
  {
    "text": "detail",
    "start": "385039",
    "end": "386560"
  },
  {
    "text": "the first is that we need to keep that",
    "start": "386560",
    "end": "387919"
  },
  {
    "text": "root ca certificate fresh within the",
    "start": "387919",
    "end": "390160"
  },
  {
    "text": "validating web hook mutating webhook",
    "start": "390160",
    "end": "392479"
  },
  {
    "text": "configuration let's see bundled field so",
    "start": "392479",
    "end": "394479"
  },
  {
    "text": "we have to have a way of rotating and",
    "start": "394479",
    "end": "396639"
  },
  {
    "text": "maintaining that field",
    "start": "396639",
    "end": "399199"
  },
  {
    "text": "and then of course we need to create an",
    "start": "399199",
    "end": "400479"
  },
  {
    "text": "entry on the spire server",
    "start": "400479",
    "end": "402479"
  },
  {
    "text": "for the actual webhook pod the server",
    "start": "402479",
    "end": "405360"
  },
  {
    "text": "that's going to be servicing the webhook",
    "start": "405360",
    "end": "406880"
  },
  {
    "text": "needs the certificate",
    "start": "406880",
    "end": "408800"
  },
  {
    "text": "in order to get that certificate it",
    "start": "408800",
    "end": "410160"
  },
  {
    "text": "first needs the entry",
    "start": "410160",
    "end": "411919"
  },
  {
    "text": "and then on that pod we need to actually",
    "start": "411919",
    "end": "414000"
  },
  {
    "text": "save that certificate and key",
    "start": "414000",
    "end": "416560"
  },
  {
    "text": "to disk",
    "start": "416560",
    "end": "419120"
  },
  {
    "text": "so that those are the three logistical",
    "start": "419280",
    "end": "420880"
  },
  {
    "text": "steps and just to note that this",
    "start": "420880",
    "end": "422720"
  },
  {
    "text": "requires spire 12.2 or later that's the",
    "start": "422720",
    "end": "425840"
  },
  {
    "text": "release aspire that we got these changes",
    "start": "425840",
    "end": "430000"
  },
  {
    "start": "430000",
    "end": "430000"
  },
  {
    "text": "okay",
    "start": "430479",
    "end": "431840"
  },
  {
    "text": "the first part of the solution is",
    "start": "431840",
    "end": "433039"
  },
  {
    "text": "keeping the ca bundle fresh this is",
    "start": "433039",
    "end": "435120"
  },
  {
    "text": "actually one of the easier parts of it",
    "start": "435120",
    "end": "438240"
  },
  {
    "text": "and the way we do that is using the k-8s",
    "start": "438240",
    "end": "440319"
  },
  {
    "text": "bundle",
    "start": "440319",
    "end": "441199"
  },
  {
    "text": "notifier plug-in",
    "start": "441199",
    "end": "442960"
  },
  {
    "text": "and so if you're not familiar with this",
    "start": "442960",
    "end": "444639"
  },
  {
    "text": "plug-in what it does is it",
    "start": "444639",
    "end": "447520"
  },
  {
    "text": "takes the spire root ca certificate and",
    "start": "447520",
    "end": "450400"
  },
  {
    "text": "pushes it into a config map which then",
    "start": "450400",
    "end": "452319"
  },
  {
    "text": "you can use to bootstrap your spire",
    "start": "452319",
    "end": "454479"
  },
  {
    "text": "agent so if you're not using this this",
    "start": "454479",
    "end": "455919"
  },
  {
    "text": "plug-in",
    "start": "455919",
    "end": "457039"
  },
  {
    "text": "you should be and so what we've done",
    "start": "457039",
    "end": "459680"
  },
  {
    "text": "is extend this plug-in to also in",
    "start": "459680",
    "end": "461759"
  },
  {
    "text": "addition to pushing the root ca",
    "start": "461759",
    "end": "463199"
  },
  {
    "text": "certificate to a config map",
    "start": "463199",
    "end": "465599"
  },
  {
    "text": "we push that root ca certificate also to",
    "start": "465599",
    "end": "468000"
  },
  {
    "text": "the web hook configuration",
    "start": "468000",
    "end": "470319"
  },
  {
    "text": "um and so the configuration is",
    "start": "470319",
    "end": "473440"
  },
  {
    "text": "webhook label and then the enable or",
    "start": "473440",
    "end": "475199"
  },
  {
    "text": "sorry the name of the label that you",
    "start": "475199",
    "end": "476960"
  },
  {
    "text": "want to use",
    "start": "476960",
    "end": "478879"
  },
  {
    "text": "and then what spire server is going to",
    "start": "478879",
    "end": "480560"
  },
  {
    "text": "do is going to filter on that label and",
    "start": "480560",
    "end": "482960"
  },
  {
    "text": "pods or sorry not pods web hook",
    "start": "482960",
    "end": "485039"
  },
  {
    "text": "configurations with that label",
    "start": "485039",
    "end": "487039"
  },
  {
    "text": "a minute spire will manage the ca bundle",
    "start": "487039",
    "end": "489120"
  },
  {
    "text": "field",
    "start": "489120",
    "end": "490479"
  },
  {
    "text": "so the first box there shows a spire",
    "start": "490479",
    "end": "492960"
  },
  {
    "text": "configuration so you just specify the",
    "start": "492960",
    "end": "495039"
  },
  {
    "text": "actual label you want to use and then",
    "start": "495039",
    "end": "496319"
  },
  {
    "text": "the second box",
    "start": "496319",
    "end": "497759"
  },
  {
    "text": "with the actual web hook you put in in",
    "start": "497759",
    "end": "500319"
  },
  {
    "text": "the label field whatever label you",
    "start": "500319",
    "end": "502479"
  },
  {
    "text": "specified in this case is spiffy io",
    "start": "502479",
    "end": "504479"
  },
  {
    "text": "slash webhook um coal and true",
    "start": "504479",
    "end": "508080"
  },
  {
    "text": "and then if that is there when you",
    "start": "508080",
    "end": "509919"
  },
  {
    "text": "deploy",
    "start": "509919",
    "end": "511280"
  },
  {
    "text": "the validating webhook configuration you",
    "start": "511280",
    "end": "512959"
  },
  {
    "text": "just keep that ca bundle",
    "start": "512959",
    "end": "514880"
  },
  {
    "text": "field clear",
    "start": "514880",
    "end": "516560"
  },
  {
    "text": "and then once it's deployed we have a",
    "start": "516560",
    "end": "518159"
  },
  {
    "text": "watcher on the spire server it filters",
    "start": "518159",
    "end": "520640"
  },
  {
    "text": "on that label so anything with that",
    "start": "520640",
    "end": "522399"
  },
  {
    "text": "label spire is going to push",
    "start": "522399",
    "end": "525040"
  },
  {
    "text": "the root ca certificate into the ca",
    "start": "525040",
    "end": "526959"
  },
  {
    "text": "bundle field",
    "start": "526959",
    "end": "529360"
  },
  {
    "text": "it rotates and manages it for you so",
    "start": "529360",
    "end": "531600"
  },
  {
    "text": "whenever the root ca certificate is",
    "start": "531600",
    "end": "533360"
  },
  {
    "text": "about to expire",
    "start": "533360",
    "end": "535040"
  },
  {
    "text": "it goes through all the validating web",
    "start": "535040",
    "end": "537360"
  },
  {
    "text": "hooks mutating web hooks",
    "start": "537360",
    "end": "539600"
  },
  {
    "text": "that have that label set and rotates the",
    "start": "539600",
    "end": "542000"
  },
  {
    "text": "ca bundle for you",
    "start": "542000",
    "end": "543760"
  },
  {
    "text": "and on startup if you deploy the",
    "start": "543760",
    "end": "545200"
  },
  {
    "text": "validating web hook",
    "start": "545200",
    "end": "546800"
  },
  {
    "text": "first when spire server starts up it",
    "start": "546800",
    "end": "548560"
  },
  {
    "text": "gets a list of everything that has that",
    "start": "548560",
    "end": "550640"
  },
  {
    "text": "label set",
    "start": "550640",
    "end": "551760"
  },
  {
    "text": "um and populates that",
    "start": "551760",
    "end": "553519"
  },
  {
    "text": "so all you really need to do is just",
    "start": "553519",
    "end": "554720"
  },
  {
    "text": "really deploy",
    "start": "554720",
    "end": "556160"
  },
  {
    "text": "uh your web hook with that specific",
    "start": "556160",
    "end": "558160"
  },
  {
    "text": "label and then spy your server the rest",
    "start": "558160",
    "end": "560640"
  },
  {
    "text": "for you",
    "start": "560640",
    "end": "563800"
  },
  {
    "start": "564000",
    "end": "564000"
  },
  {
    "text": "so that's step one",
    "start": "564480",
    "end": "566000"
  },
  {
    "text": "and so that manages the root ca field",
    "start": "566000",
    "end": "567839"
  },
  {
    "text": "within the webhook configuration",
    "start": "567839",
    "end": "570160"
  },
  {
    "text": "the next thing we need to do is create",
    "start": "570160",
    "end": "571360"
  },
  {
    "text": "an entry on the spire server um there's",
    "start": "571360",
    "end": "573680"
  },
  {
    "text": "two ways you can do that you can just do",
    "start": "573680",
    "end": "574880"
  },
  {
    "text": "it manually you can go onto the spire",
    "start": "574880",
    "end": "576399"
  },
  {
    "text": "server",
    "start": "576399",
    "end": "577839"
  },
  {
    "text": "cli and just do the create entry as you",
    "start": "577839",
    "end": "579839"
  },
  {
    "text": "normally would",
    "start": "579839",
    "end": "581200"
  },
  {
    "text": "the only thing you need to pay attention",
    "start": "581200",
    "end": "582560"
  },
  {
    "text": "to is a dash dash",
    "start": "582560",
    "end": "584640"
  },
  {
    "text": "dns so you need to create a dns name in",
    "start": "584640",
    "end": "587680"
  },
  {
    "text": "this specific format the name of the",
    "start": "587680",
    "end": "589839"
  },
  {
    "text": "service that you have deployed along",
    "start": "589839",
    "end": "592000"
  },
  {
    "text": "with the webhook dot namespace",
    "start": "592000",
    "end": "594880"
  },
  {
    "text": "that it lives in dot svc the kubernetes",
    "start": "594880",
    "end": "597839"
  },
  {
    "text": "api server expects that",
    "start": "597839",
    "end": "600080"
  },
  {
    "text": "dns name to be in the certificate other",
    "start": "600080",
    "end": "602399"
  },
  {
    "text": "than that um",
    "start": "602399",
    "end": "603760"
  },
  {
    "text": "whatever you create your entry can be um",
    "start": "603760",
    "end": "606000"
  },
  {
    "text": "you know whatever you normally create",
    "start": "606000",
    "end": "607920"
  },
  {
    "text": "whether it's pod name pod uid whatever",
    "start": "607920",
    "end": "609920"
  },
  {
    "text": "it is",
    "start": "609920",
    "end": "610800"
  },
  {
    "text": "that you need so as long as the pod",
    "start": "610800",
    "end": "613360"
  },
  {
    "text": "is associated with that entry",
    "start": "613360",
    "end": "616160"
  },
  {
    "text": "you can also use the kubernetes workload",
    "start": "616160",
    "end": "618320"
  },
  {
    "text": "registrar",
    "start": "618320",
    "end": "619600"
  },
  {
    "text": "and that automatically will also add",
    "start": "619600",
    "end": "621760"
  },
  {
    "text": "that dns name that's required to the",
    "start": "621760",
    "end": "623760"
  },
  {
    "text": "certificate for you",
    "start": "623760",
    "end": "625200"
  },
  {
    "text": "the crd",
    "start": "625200",
    "end": "626480"
  },
  {
    "text": "version of it has that configuration",
    "start": "626480",
    "end": "628800"
  },
  {
    "text": "enabled by default so if you deploy",
    "start": "628800",
    "end": "630839"
  },
  {
    "text": "that then your pod that services the web",
    "start": "630839",
    "end": "633839"
  },
  {
    "text": "hook comes up it'll get the certificate",
    "start": "633839",
    "end": "635440"
  },
  {
    "text": "with the correct dns names in it",
    "start": "635440",
    "end": "639440"
  },
  {
    "start": "641000",
    "end": "641000"
  },
  {
    "text": "so now you've created the entry",
    "start": "641040",
    "end": "642959"
  },
  {
    "text": "the most complex part of the the whole",
    "start": "642959",
    "end": "644640"
  },
  {
    "text": "solution is saving the certificate key",
    "start": "644640",
    "end": "646320"
  },
  {
    "text": "to disk",
    "start": "646320",
    "end": "647440"
  },
  {
    "text": "there's a lot of code here um just first",
    "start": "647440",
    "end": "650160"
  },
  {
    "text": "thing to keep in mind though is this is",
    "start": "650160",
    "end": "651519"
  },
  {
    "text": "just based on",
    "start": "651519",
    "end": "653360"
  },
  {
    "text": "uh the ghost50 example uh the watcher",
    "start": "653360",
    "end": "655760"
  },
  {
    "text": "example sorry and the ghost50 v2",
    "start": "655760",
    "end": "657600"
  },
  {
    "text": "directory so what you're doing here is",
    "start": "657600",
    "end": "659120"
  },
  {
    "text": "we're creating a watcher",
    "start": "659120",
    "end": "661040"
  },
  {
    "text": "that watches for new certificates using",
    "start": "661040",
    "end": "663440"
  },
  {
    "text": "the ghost50 client",
    "start": "663440",
    "end": "665040"
  },
  {
    "text": "and then when the new certificate comes",
    "start": "665040",
    "end": "666399"
  },
  {
    "text": "in we save it to disk",
    "start": "666399",
    "end": "668720"
  },
  {
    "text": "uh so the first thing to pay attention",
    "start": "668720",
    "end": "670079"
  },
  {
    "text": "here is the imports i have a import in",
    "start": "670079",
    "end": "671839"
  },
  {
    "text": "my my private github or not private",
    "start": "671839",
    "end": "673920"
  },
  {
    "text": "public github",
    "start": "673920",
    "end": "675519"
  },
  {
    "text": "that just has some routines two routines",
    "start": "675519",
    "end": "677440"
  },
  {
    "text": "to save to disk",
    "start": "677440",
    "end": "678959"
  },
  {
    "text": "if you don't want to import yet another",
    "start": "678959",
    "end": "681839"
  },
  {
    "text": "library you can just go there and just",
    "start": "681839",
    "end": "683120"
  },
  {
    "text": "copy those routines",
    "start": "683120",
    "end": "684880"
  },
  {
    "text": "it's not not a lot of code",
    "start": "684880",
    "end": "688399"
  },
  {
    "text": "in any case uh moving forward we create",
    "start": "688399",
    "end": "690800"
  },
  {
    "text": "the go spiffy",
    "start": "690800",
    "end": "692480"
  },
  {
    "text": "uh client as you normally would um in",
    "start": "692480",
    "end": "694880"
  },
  {
    "text": "this first step here",
    "start": "694880",
    "end": "697920"
  },
  {
    "text": "it's okay",
    "start": "698800",
    "end": "699760"
  },
  {
    "text": "uh so that first block there",
    "start": "699760",
    "end": "701680"
  },
  {
    "text": "and then the second block there we",
    "start": "701680",
    "end": "703200"
  },
  {
    "text": "started using the go function so that",
    "start": "703200",
    "end": "704800"
  },
  {
    "text": "starts",
    "start": "704800",
    "end": "705920"
  },
  {
    "text": "uh the ghost50 client",
    "start": "705920",
    "end": "708000"
  },
  {
    "text": "and then after we start the ghost50",
    "start": "708000",
    "end": "710000"
  },
  {
    "text": "client we wait for certificates to be on",
    "start": "710000",
    "end": "711920"
  },
  {
    "text": "disk",
    "start": "711920",
    "end": "712959"
  },
  {
    "text": "we have to have a barrier there",
    "start": "712959",
    "end": "715040"
  },
  {
    "text": "because if we try to start the webhook",
    "start": "715040",
    "end": "716959"
  },
  {
    "text": "server",
    "start": "716959",
    "end": "718000"
  },
  {
    "text": "without the certificate in the disk it",
    "start": "718000",
    "end": "719279"
  },
  {
    "text": "throws out an error and then crashes and",
    "start": "719279",
    "end": "722079"
  },
  {
    "text": "goes into that",
    "start": "722079",
    "end": "723600"
  },
  {
    "text": "or sorry restart loop",
    "start": "723600",
    "end": "725839"
  },
  {
    "text": "so you have to make sure the",
    "start": "725839",
    "end": "726720"
  },
  {
    "text": "certificates are there on disk and so i",
    "start": "726720",
    "end": "728399"
  },
  {
    "text": "have",
    "start": "728399",
    "end": "729519"
  },
  {
    "text": "that in in my github there's a library",
    "start": "729519",
    "end": "731600"
  },
  {
    "text": "function that just waits for",
    "start": "731600",
    "end": "733920"
  },
  {
    "text": "the certificate",
    "start": "733920",
    "end": "735600"
  },
  {
    "text": "disk",
    "start": "735600",
    "end": "737839"
  },
  {
    "text": "um the wait for certificates to",
    "start": "739120",
    "end": "740880"
  },
  {
    "text": "dysfunction just waits about three",
    "start": "740880",
    "end": "742480"
  },
  {
    "text": "minutes",
    "start": "742480",
    "end": "743600"
  },
  {
    "text": "and after three minutes it times out and",
    "start": "743600",
    "end": "744880"
  },
  {
    "text": "gives you an error",
    "start": "744880",
    "end": "746560"
  },
  {
    "text": "and then if the certificates are there",
    "start": "746560",
    "end": "747600"
  },
  {
    "text": "of course it would",
    "start": "747600",
    "end": "750160"
  },
  {
    "text": "okay",
    "start": "752000",
    "end": "753200"
  },
  {
    "text": "so that starts up the ghost fifty client",
    "start": "753200",
    "end": "755440"
  },
  {
    "text": "uh the thing to keep out for one more",
    "start": "755440",
    "end": "756800"
  },
  {
    "text": "thing to keep out for is this x 509",
    "start": "756800",
    "end": "759040"
  },
  {
    "text": "watcher field",
    "start": "759040",
    "end": "760560"
  },
  {
    "text": "so we're passing the directory um that",
    "start": "760560",
    "end": "763360"
  },
  {
    "text": "we're saving the certificates to",
    "start": "763360",
    "end": "766000"
  },
  {
    "text": "the next part of this slide um which is",
    "start": "766000",
    "end": "769839"
  },
  {
    "text": "uh the watcher struct um and so if",
    "start": "769839",
    "end": "772480"
  },
  {
    "text": "you're familiar with the ghost50 client",
    "start": "772480",
    "end": "775120"
  },
  {
    "text": "what happens is that every time that",
    "start": "775120",
    "end": "777200"
  },
  {
    "text": "there's a new certificate",
    "start": "777200",
    "end": "779120"
  },
  {
    "text": "this on context x509 x onyx 509 context",
    "start": "779120",
    "end": "783120"
  },
  {
    "text": "update gets called",
    "start": "783120",
    "end": "785120"
  },
  {
    "text": "and so what we're going to do is when",
    "start": "785120",
    "end": "786079"
  },
  {
    "text": "that gets called all we do is just write",
    "start": "786079",
    "end": "788000"
  },
  {
    "text": "the",
    "start": "788000",
    "end": "789279"
  },
  {
    "text": "actual s-vid out to disk and so that's",
    "start": "789279",
    "end": "792079"
  },
  {
    "text": "also",
    "start": "792079",
    "end": "793040"
  },
  {
    "text": "just kind of encapsulated",
    "start": "793040",
    "end": "794720"
  },
  {
    "text": "in this library function but it just",
    "start": "794720",
    "end": "796079"
  },
  {
    "text": "takes",
    "start": "796079",
    "end": "797120"
  },
  {
    "text": "extracts the default s-fid",
    "start": "797120",
    "end": "799360"
  },
  {
    "text": "and then just saves it to",
    "start": "799360",
    "end": "801360"
  },
  {
    "text": "disk in the directory you specify",
    "start": "801360",
    "end": "804000"
  },
  {
    "text": "the file names are static tls.crt",
    "start": "804000",
    "end": "806160"
  },
  {
    "text": "tls.key because",
    "start": "806160",
    "end": "807920"
  },
  {
    "text": "every",
    "start": "807920",
    "end": "809200"
  },
  {
    "text": "webhook",
    "start": "809200",
    "end": "810720"
  },
  {
    "text": "api that i've seen in kubernetes just",
    "start": "810720",
    "end": "812320"
  },
  {
    "text": "requires it to be on those files and the",
    "start": "812320",
    "end": "814320"
  },
  {
    "text": "only function or only configurability",
    "start": "814320",
    "end": "816079"
  },
  {
    "text": "you have is actually",
    "start": "816079",
    "end": "818240"
  },
  {
    "text": "so you just pass in the directory and",
    "start": "818240",
    "end": "819440"
  },
  {
    "text": "then we save it",
    "start": "819440",
    "end": "820800"
  },
  {
    "text": "here",
    "start": "820800",
    "end": "821760"
  },
  {
    "text": "to those file names and the webhook",
    "start": "821760",
    "end": "823440"
  },
  {
    "text": "server",
    "start": "823440",
    "end": "824720"
  },
  {
    "text": "to do it",
    "start": "824720",
    "end": "826560"
  },
  {
    "text": "and then once that's all set up",
    "start": "826560",
    "end": "828560"
  },
  {
    "text": "uh that whole system will then just keep",
    "start": "828560",
    "end": "830560"
  },
  {
    "text": "refreshing the certificates on disk for",
    "start": "830560",
    "end": "832399"
  },
  {
    "text": "you",
    "start": "832399",
    "end": "833440"
  },
  {
    "text": "and then you start your webhook server",
    "start": "833440",
    "end": "834959"
  },
  {
    "text": "normally either using the control",
    "start": "834959",
    "end": "836240"
  },
  {
    "text": "runtime apis or whatever other",
    "start": "836240",
    "end": "838800"
  },
  {
    "text": "web hook setup that you do",
    "start": "838800",
    "end": "843079"
  },
  {
    "text": "looking forward um i think we need a",
    "start": "844399",
    "end": "846959"
  },
  {
    "text": "better way to save certificates to disk",
    "start": "846959",
    "end": "849440"
  },
  {
    "text": "the safe to disk use case i think it's a",
    "start": "849440",
    "end": "851040"
  },
  {
    "text": "little complex one",
    "start": "851040",
    "end": "853279"
  },
  {
    "text": "there's different ways to do it i think",
    "start": "853279",
    "end": "854399"
  },
  {
    "text": "two options here is just having ghost50",
    "start": "854399",
    "end": "857279"
  },
  {
    "text": "directly save the certificates to disk",
    "start": "857279",
    "end": "860720"
  },
  {
    "text": "if they can't do that then just have",
    "start": "860720",
    "end": "862720"
  },
  {
    "text": "export some utilities that i have in my",
    "start": "862720",
    "end": "865120"
  },
  {
    "text": "my github just have those",
    "start": "865120",
    "end": "867040"
  },
  {
    "text": "uh set in the ghost50 library so that",
    "start": "867040",
    "end": "868720"
  },
  {
    "text": "the user can just save the disk",
    "start": "868720",
    "end": "872320"
  },
  {
    "text": "another option that i think would be",
    "start": "872320",
    "end": "874399"
  },
  {
    "text": "much more clean and nicely integrated is",
    "start": "874399",
    "end": "876320"
  },
  {
    "text": "just to have spire",
    "start": "876320",
    "end": "878000"
  },
  {
    "text": "save the certain key to a kubernetes",
    "start": "878000",
    "end": "879760"
  },
  {
    "text": "secret object and then your pod",
    "start": "879760",
    "end": "882880"
  },
  {
    "text": "mounts that secret object volume mounts",
    "start": "882880",
    "end": "884480"
  },
  {
    "text": "it and then the certificates will live",
    "start": "884480",
    "end": "885760"
  },
  {
    "text": "on disk because that's how the secrets",
    "start": "885760",
    "end": "887440"
  },
  {
    "text": "are mounted",
    "start": "887440",
    "end": "888959"
  },
  {
    "text": "so it would work out nicely and that",
    "start": "888959",
    "end": "890320"
  },
  {
    "text": "would also parallel what the cert",
    "start": "890320",
    "end": "892000"
  },
  {
    "text": "manager does cert manager",
    "start": "892000",
    "end": "894560"
  },
  {
    "text": "saves the key and disk into a",
    "start": "894560",
    "end": "896880"
  },
  {
    "text": "certificate crd which is basically a",
    "start": "896880",
    "end": "898959"
  },
  {
    "text": "secret object",
    "start": "898959",
    "end": "900240"
  },
  {
    "text": "um",
    "start": "900240",
    "end": "901199"
  },
  {
    "text": "so it'll be a nice nice parallel there",
    "start": "901199",
    "end": "904720"
  },
  {
    "text": "also great is uh api service ci bundle",
    "start": "905920",
    "end": "909199"
  },
  {
    "text": "um so we extended the the plug-in",
    "start": "909199",
    "end": "912480"
  },
  {
    "text": "from webhooks to api services so if",
    "start": "912480",
    "end": "914399"
  },
  {
    "text": "you're not familiar with api services",
    "start": "914399",
    "end": "916079"
  },
  {
    "text": "it's used to extend the kubernetes api",
    "start": "916079",
    "end": "918079"
  },
  {
    "text": "server",
    "start": "918079",
    "end": "919279"
  },
  {
    "text": "with custom api endpoints we use this in",
    "start": "919279",
    "end": "921920"
  },
  {
    "text": "our product to have some custom metrics",
    "start": "921920",
    "end": "923839"
  },
  {
    "text": "endpoints",
    "start": "923839",
    "end": "925360"
  },
  {
    "text": "but nonetheless it has also a ca bundle",
    "start": "925360",
    "end": "927680"
  },
  {
    "text": "field",
    "start": "927680",
    "end": "929600"
  },
  {
    "text": "to use for the kubernetes api server to",
    "start": "929600",
    "end": "931519"
  },
  {
    "text": "use",
    "start": "931519",
    "end": "932320"
  },
  {
    "text": "um and so",
    "start": "932320",
    "end": "933759"
  },
  {
    "text": "we added some functionality there using",
    "start": "933759",
    "end": "936720"
  },
  {
    "text": "the api service label config to the same",
    "start": "936720",
    "end": "938959"
  },
  {
    "text": "plugin",
    "start": "938959",
    "end": "940480"
  },
  {
    "text": "then you just deploy your api service",
    "start": "940480",
    "end": "942160"
  },
  {
    "text": "with with that label and then spire will",
    "start": "942160",
    "end": "944560"
  },
  {
    "text": "manage",
    "start": "944560",
    "end": "945839"
  },
  {
    "text": "those certificates for you as well",
    "start": "945839",
    "end": "948160"
  },
  {
    "text": "aps services are nice because they don't",
    "start": "948160",
    "end": "950720"
  },
  {
    "text": "require certs and keys to be on disk",
    "start": "950720",
    "end": "953199"
  },
  {
    "text": "so you can use a go spiffy tls pier",
    "start": "953199",
    "end": "956240"
  },
  {
    "text": "functionality i'm rather than worrying",
    "start": "956240",
    "end": "958000"
  },
  {
    "text": "about saving stuff to disk",
    "start": "958000",
    "end": "960160"
  },
  {
    "text": "uh if there's any other kubernetes",
    "start": "960160",
    "end": "961600"
  },
  {
    "text": "objects anyone knows about",
    "start": "961600",
    "end": "963600"
  },
  {
    "text": "that have a ca bundle that needs to be",
    "start": "963600",
    "end": "965279"
  },
  {
    "text": "rotated let myself know or open a ticket",
    "start": "965279",
    "end": "968720"
  },
  {
    "text": "we could take a look into that and see",
    "start": "968720",
    "end": "969920"
  },
  {
    "text": "if we can add",
    "start": "969920",
    "end": "971040"
  },
  {
    "text": "functionality in there as well",
    "start": "971040",
    "end": "974399"
  },
  {
    "start": "975000",
    "end": "975000"
  },
  {
    "text": "um and so where all this is coming from",
    "start": "975759",
    "end": "977839"
  },
  {
    "text": "is our nginx service mesh so that's what",
    "start": "977839",
    "end": "980000"
  },
  {
    "text": "we're working on at f5",
    "start": "980000",
    "end": "983440"
  },
  {
    "text": "so we embed spire and deploy it as part",
    "start": "983440",
    "end": "986000"
  },
  {
    "text": "of the service mesh we deploy the spire",
    "start": "986000",
    "end": "988079"
  },
  {
    "text": "server",
    "start": "988079",
    "end": "989279"
  },
  {
    "text": "the agent and then we use spire to",
    "start": "989279",
    "end": "990959"
  },
  {
    "text": "manage all aspects of identity",
    "start": "990959",
    "end": "993920"
  },
  {
    "text": "mtls webhook certificates",
    "start": "993920",
    "end": "996560"
  },
  {
    "text": "api service certificates secure nas for",
    "start": "996560",
    "end": "998800"
  },
  {
    "text": "communication secure communication",
    "start": "998800",
    "end": "1001120"
  },
  {
    "text": "uh sorry secure",
    "start": "1001120",
    "end": "1002800"
  },
  {
    "text": "control plane communication",
    "start": "1002800",
    "end": "1005199"
  },
  {
    "text": "we secure",
    "start": "1005199",
    "end": "1006480"
  },
  {
    "text": "through nats using certificates provided",
    "start": "1006480",
    "end": "1009279"
  },
  {
    "text": "by spire",
    "start": "1009279",
    "end": "1010800"
  },
  {
    "text": "so we built our service mesh using spire",
    "start": "1010800",
    "end": "1013199"
  },
  {
    "text": "as a first class citizen",
    "start": "1013199",
    "end": "1015440"
  },
  {
    "text": "and all our identity and security",
    "start": "1015440",
    "end": "1017440"
  },
  {
    "text": "through",
    "start": "1017440",
    "end": "1019600"
  },
  {
    "text": "so that's my",
    "start": "1022079",
    "end": "1023519"
  },
  {
    "text": "talk for today",
    "start": "1023519",
    "end": "1025038"
  },
  {
    "text": "so let me know if you have any questions",
    "start": "1025039",
    "end": "1029480"
  },
  {
    "text": "[Applause]",
    "start": "1029810",
    "end": "1035760"
  },
  {
    "text": "well i've got one",
    "start": "1039280",
    "end": "1041280"
  },
  {
    "text": "uh you mentioned on the last slide that",
    "start": "1041280",
    "end": "1043438"
  },
  {
    "text": "that uh the nginx service measures",
    "start": "1043439",
    "end": "1045520"
  },
  {
    "text": "aspire for all of its identities uh",
    "start": "1045520",
    "end": "1048480"
  },
  {
    "text": "does that mean that that",
    "start": "1048480",
    "end": "1050640"
  },
  {
    "text": "you don't run cert manager in your",
    "start": "1050640",
    "end": "1052320"
  },
  {
    "text": "kubernetes clusters or you run a little",
    "start": "1052320",
    "end": "1054720"
  },
  {
    "text": "of both or have you",
    "start": "1054720",
    "end": "1056880"
  },
  {
    "text": "good question no we don't um run cert",
    "start": "1056880",
    "end": "1059120"
  },
  {
    "text": "manager um and yeah it was turning out",
    "start": "1059120",
    "end": "1061520"
  },
  {
    "text": "that the only thing that we needed",
    "start": "1061520",
    "end": "1062640"
  },
  {
    "text": "certain manager for was that webhook",
    "start": "1062640",
    "end": "1065679"
  },
  {
    "text": "um and yeah i'm working and getting the",
    "start": "1065679",
    "end": "1068080"
  },
  {
    "text": "the stuff um contributed to this fire",
    "start": "1068080",
    "end": "1070640"
  },
  {
    "text": "code base we just use spire for",
    "start": "1070640",
    "end": "1074559"
  },
  {
    "text": "amazon",
    "start": "1076240",
    "end": "1078400"
  },
  {
    "text": "there's a question over there questions",
    "start": "1078400",
    "end": "1082320"
  },
  {
    "text": "just a simple one which is have you done",
    "start": "1087919",
    "end": "1090240"
  },
  {
    "text": "any scale testing with using spire or",
    "start": "1090240",
    "end": "1093200"
  },
  {
    "text": "doing the ca rotation for creating the",
    "start": "1093200",
    "end": "1095600"
  },
  {
    "text": "ca",
    "start": "1095600",
    "end": "1097280"
  },
  {
    "text": "uh so the question is have we done any",
    "start": "1097280",
    "end": "1099200"
  },
  {
    "text": "scale testing",
    "start": "1099200",
    "end": "1100720"
  },
  {
    "text": "um",
    "start": "1100720",
    "end": "1101600"
  },
  {
    "text": "no what kind of scale are you are you",
    "start": "1101600",
    "end": "1103120"
  },
  {
    "text": "looking at",
    "start": "1103120",
    "end": "1104320"
  },
  {
    "text": "i'm just one wondering based off the way",
    "start": "1104320",
    "end": "1106080"
  },
  {
    "text": "you say it behaves where when spark",
    "start": "1106080",
    "end": "1108160"
  },
  {
    "text": "comes up it then generates ca bundles",
    "start": "1108160",
    "end": "1110080"
  },
  {
    "text": "i'm wondering how many of those can you",
    "start": "1110080",
    "end": "1111360"
  },
  {
    "text": "do before you get to that three minute",
    "start": "1111360",
    "end": "1113600"
  },
  {
    "text": "amount",
    "start": "1113600",
    "end": "1115760"
  },
  {
    "text": "oh so the three the three minute timeout",
    "start": "1115760",
    "end": "1119600"
  },
  {
    "text": "is for",
    "start": "1119600",
    "end": "1120799"
  },
  {
    "text": "just one spire",
    "start": "1120799",
    "end": "1122880"
  },
  {
    "text": "delivers the certificate to the workload",
    "start": "1122880",
    "end": "1125280"
  },
  {
    "text": "um",
    "start": "1125280",
    "end": "1126160"
  },
  {
    "text": "and so that hasn't come up i mean it",
    "start": "1126160",
    "end": "1128480"
  },
  {
    "text": "hasn't been a problem for us",
    "start": "1128480",
    "end": "1130320"
  },
  {
    "text": "um the testing that we did was just to",
    "start": "1130320",
    "end": "1132799"
  },
  {
    "text": "see that we put like a short lifetime on",
    "start": "1132799",
    "end": "1134799"
  },
  {
    "text": "the ca bundle and then to make sure that",
    "start": "1134799",
    "end": "1137039"
  },
  {
    "text": "it keeps keeps rotating but we haven't",
    "start": "1137039",
    "end": "1138720"
  },
  {
    "text": "done a whole lot of testing if we have",
    "start": "1138720",
    "end": "1139919"
  },
  {
    "text": "like 5 000 web hooks or anything like",
    "start": "1139919",
    "end": "1141600"
  },
  {
    "text": "that we haven't tested at that scale",
    "start": "1141600",
    "end": "1143840"
  },
  {
    "text": "that's a good definitely a good",
    "start": "1143840",
    "end": "1144880"
  },
  {
    "text": "suggestion something we should look into",
    "start": "1144880",
    "end": "1148320"
  },
  {
    "text": "shameless plug on that uh on on thursday",
    "start": "1149039",
    "end": "1151679"
  },
  {
    "text": "i'll be giving a session with a",
    "start": "1151679",
    "end": "1153840"
  },
  {
    "text": "another community member on scaling",
    "start": "1153840",
    "end": "1156080"
  },
  {
    "text": "spire to one millions and they're",
    "start": "1156080",
    "end": "1157760"
  },
  {
    "text": "running kubernetes so if you have",
    "start": "1157760",
    "end": "1159200"
  },
  {
    "text": "questions like this i highly recommend",
    "start": "1159200",
    "end": "1160559"
  },
  {
    "text": "you attend that session",
    "start": "1160559",
    "end": "1162640"
  },
  {
    "text": "great question though",
    "start": "1162640",
    "end": "1165280"
  },
  {
    "text": "any others online or",
    "start": "1166400",
    "end": "1168880"
  },
  {
    "text": "in person",
    "start": "1168880",
    "end": "1172039"
  },
  {
    "text": "let me go ahead and say no if any",
    "start": "1180400",
    "end": "1182240"
  },
  {
    "text": "questions come in on the platform after",
    "start": "1182240",
    "end": "1183760"
  },
  {
    "text": "the fact we'll just drop them in slack",
    "start": "1183760",
    "end": "1186240"
  },
  {
    "text": "thank you again this was awesome",
    "start": "1186240",
    "end": "1190679"
  }
]