[
  {
    "start": "0",
    "end": "32000"
  },
  {
    "text": "well Wow well thanks everybody for piling in here",
    "start": "530",
    "end": "7319"
  },
  {
    "text": "it's gonna be 40 minutes so I'll keep your legs strong and we're going to get started so what I'm",
    "start": "7319",
    "end": "15120"
  },
  {
    "text": "going to be doing in this talk is covering three things these are three very complex things often times",
    "start": "15120",
    "end": "20369"
  },
  {
    "text": "requiring a little bit of like mind explosion recursion so we're gonna try",
    "start": "20369",
    "end": "25710"
  },
  {
    "text": "to do our best to work our way through it so let's just get right into it",
    "start": "25710",
    "end": "33290"
  },
  {
    "start": "32000",
    "end": "73000"
  },
  {
    "text": "so for you for those of you might not be familiar I'm Brandon Phillips I'm the CTO and co-founder of core OS core OS is",
    "start": "33290",
    "end": "41219"
  },
  {
    "text": "a company that's developed a lot of fundamental open source projects for this whole ecosystem @cd is a project we",
    "start": "41219",
    "end": "47820"
  },
  {
    "text": "introduced in 2013 I'll be talking a little bit about primary data store of kubernetes core OS Linux rocket and",
    "start": "47820",
    "end": "54570"
  },
  {
    "text": "we're big contributors to cube entities as well and then we have Enterprise Products tectonic which has upstream",
    "start": "54570",
    "end": "59789"
  },
  {
    "text": "here open source kubernetes at its core and builds a bunch of features around that that are necessary for enterprises",
    "start": "59789",
    "end": "65549"
  },
  {
    "text": "and quai which is our container build system and registry hosted at quai Thao or behind the firewall with Quay",
    "start": "65549",
    "end": "71939"
  },
  {
    "text": "enterprise alright so let's get right into it with",
    "start": "71939",
    "end": "77100"
  },
  {
    "start": "73000",
    "end": "199000"
  },
  {
    "text": "scaling this is gonna be the first topic I'm essentially gonna cover from the bottom essentially all the work that's",
    "start": "77100",
    "end": "82530"
  },
  {
    "text": "happened over the last release or so from the very bottom all the way to the very top of kubernetes so let's let's",
    "start": "82530",
    "end": "89189"
  },
  {
    "text": "start with that CD since it'll play into this story overall in several different places",
    "start": "89189",
    "end": "94280"
  },
  {
    "text": "so at CD is the primary data store of kubernetes it was introduced in 2013 it",
    "start": "94280",
    "end": "104299"
  },
  {
    "text": "if you think of like the primary data store of something like WordPress or something",
    "start": "104299",
    "end": "109820"
  },
  {
    "text": "kubernetes is - at CD as my sequel is - WordPress so we we use everything that",
    "start": "109820",
    "end": "117060"
  },
  {
    "text": "kubernetes does every time you write into the API that CD is persisting to disk and replicating",
    "start": "117060",
    "end": "123200"
  },
  {
    "text": "it is a replicated consistent key value store there's a lot in that in those few",
    "start": "123200",
    "end": "129869"
  },
  {
    "text": "words there but essentially what it means is that those keys that kubernetes wants to be",
    "start": "129869",
    "end": "135410"
  },
  {
    "text": "persisted get replicated in a manner across multiple machines so that were resilient to individual machine failure",
    "start": "135410",
    "end": "142930"
  },
  {
    "text": "it allows for revisions and event streams so that as the keys change we're",
    "start": "142930",
    "end": "148460"
  },
  {
    "text": "able to go back in time do things like consistent views of the data five",
    "start": "148460",
    "end": "153980"
  },
  {
    "text": "minutes ago ten minutes ago and this is an important primitive for kubernetes and some of the fundamental UX and",
    "start": "153980",
    "end": "160220"
  },
  {
    "text": "design interactions in kubernetes build upon this and then finally the reason that we",
    "start": "160220",
    "end": "166640"
  },
  {
    "text": "replicate and the reason the system is consistent is because we want to achieve auto leader election for",
    "start": "166640",
    "end": "174350"
  },
  {
    "text": "availability so kubernetes the whole design goal here is that we're able to have systems that kind of are",
    "start": "174350",
    "end": "180980"
  },
  {
    "text": "self-healing that it will take care of themselves operators can focus on their application and so we need a database that is able",
    "start": "180980",
    "end": "187310"
  },
  {
    "text": "to kind of take care of itself as well so what that CD does in the face of failure detects failure auto leader",
    "start": "187310",
    "end": "193400"
  },
  {
    "text": "elects and allows you to continue sleeping while the computer's figure out how to continue working",
    "start": "193400",
    "end": "199120"
  },
  {
    "start": "199000",
    "end": "329000"
  },
  {
    "text": "so for a quick demo of just at CD just so everyone's on the same page of what",
    "start": "199120",
    "end": "204140"
  },
  {
    "text": "it is and why it's built we're gonna start with this service that",
    "start": "204140",
    "end": "209300"
  },
  {
    "text": "is at play at CDI oh this is a system for people to get used to cue brunette",
    "start": "209300",
    "end": "215120"
  },
  {
    "text": "or get you stat CD and how it works now this is sort of like an MMORPG fret CD",
    "start": "215120",
    "end": "220250"
  },
  {
    "text": "so you'll see that as I'm in this talk people are logging in up in the corner there which means that generally what",
    "start": "220250",
    "end": "227480"
  },
  {
    "text": "will happen is about 20 or 30 seconds people start clicking on the little circles there and clicking buttons for",
    "start": "227480",
    "end": "233480"
  },
  {
    "text": "me and I can talk through different failures that doesn't happen it's okay there we go so what Etsy Dee is doing",
    "start": "233480",
    "end": "240080"
  },
  {
    "text": "here is that we have we have five members in the subsidy cluster and we're",
    "start": "240080",
    "end": "245780"
  },
  {
    "text": "able to write into the FTD cluster submit new entries in the sed cluster",
    "start": "245780",
    "end": "250910"
  },
  {
    "text": "and the activity cluster continues to work until people kill too many members and so there's an in the symbolism here",
    "start": "250910",
    "end": "259850"
  },
  {
    "text": "we have red means that the sed members failed blue means the f.2d member is up",
    "start": "259850",
    "end": "266370"
  },
  {
    "text": "and green means that it's the leader so I would I'd kindly like ask all the",
    "start": "266370",
    "end": "272039"
  },
  {
    "text": "trolls to back off for a second here so I can have an operational cluster for",
    "start": "272039",
    "end": "277889"
  },
  {
    "text": "just a moment so what I'll do is I'll recover three of these at CTA members they come back up and now I have a",
    "start": "277889",
    "end": "284280"
  },
  {
    "text": "working cluster @cd is able to work with a simple majority it works like our",
    "start": "284280",
    "end": "290159"
  },
  {
    "text": "democracy which we will all see in action today and so I'm able to submit new values in that",
    "start": "290159",
    "end": "296189"
  },
  {
    "text": "TD so if I set food a bar bass or whatever and I click Submit what will happen is that this will replicate to",
    "start": "296189",
    "end": "302310"
  },
  {
    "text": "all the different things and the hash will update etc and you can see here",
    "start": "302310",
    "end": "307440"
  },
  {
    "text": "that as I like click and kill the machines what will happen is that leaders",
    "start": "307440",
    "end": "312930"
  },
  {
    "text": "automatically get elected it's like that new HBO show Survivor alright good good",
    "start": "312930",
    "end": "318800"
  },
  {
    "text": "so that's what FTP is its source keys and values it replicates those between machines and it automatically recovers",
    "start": "318800",
    "end": "324960"
  },
  {
    "text": "from failure any questions there hi so fcd has been around since 2013 and in",
    "start": "324960",
    "end": "333509"
  },
  {
    "text": "the last few months we've introduced a new version of that CD called STD v3 we did a little bit of a Firefox we did at",
    "start": "333509",
    "end": "339750"
  },
  {
    "text": "TV 0 for at TV 2 and then add to d3 just skip one out nobody cares",
    "start": "339750",
    "end": "345740"
  },
  {
    "text": "so at 2 DB 2 was was designed to support a really simple",
    "start": "345740",
    "end": "354000"
  },
  {
    "text": "use case the simple use case was we have all these chorus Linux machines and we want those chorus living species to",
    "start": "354000",
    "end": "359940"
  },
  {
    "text": "coordinate reboots and so in that case you maybe have on the order of like",
    "start": "359940",
    "end": "364979"
  },
  {
    "text": "thousands of machines in general and those thousands of machines really only have one piece of metadata which is can",
    "start": "364979",
    "end": "370800"
  },
  {
    "text": "I reboot right now so you're looking on the order of just a few maybe a megabyte at most maybe a couple megabytes and so",
    "start": "370800",
    "end": "378389"
  },
  {
    "text": "with kubernetes selecting at CD as its primary data store we can only scale to",
    "start": "378389",
    "end": "383520"
  },
  {
    "text": "about a thousand nodes because we needed to hold on to about 200 megabytes of data in order to have those thousand",
    "start": "383520",
    "end": "390270"
  },
  {
    "text": "nodes we're way past the original design goals of Etsy D and so with Etsy vv3 we",
    "start": "390270",
    "end": "397500"
  },
  {
    "text": "redesigned a lot of the internals of seedy taking and holding on to the exact same consensus",
    "start": "397500",
    "end": "403340"
  },
  {
    "text": "exact same consensus systems and relying rap library but rebuilding the actual",
    "start": "403340",
    "end": "408689"
  },
  {
    "text": "data store to be able to support 3,000 4,000 5,000 members inside of a",
    "start": "408689",
    "end": "415469"
  },
  {
    "text": "kubernetes cluster and beyond while holding on to event history and the event history gets important later so",
    "start": "415469",
    "end": "421949"
  },
  {
    "text": "we're able to very handily handle a gigabyte to gigabytes 3 gigabytes of resident or of keys inside of that CV",
    "start": "421949",
    "end": "429150"
  },
  {
    "text": "which is necessary to scale to this size and testing is underway with live",
    "start": "429150",
    "end": "434190"
  },
  {
    "text": "clusters of 5000 though it's plus and so FTD is clearly like in a good spot other",
    "start": "434190",
    "end": "441569"
  },
  {
    "text": "parts of kubernetes are now the scaling limit we've pretty much taken all the low-hanging fruit and FTD is a datastore",
    "start": "441569",
    "end": "447360"
  },
  {
    "text": "that as we'll see here in a moment really shines in its little niche that is consistent replicated key value",
    "start": "447360",
    "end": "454979"
  },
  {
    "text": "stores okay so let's let's take a look through history a little bit so this was",
    "start": "454979",
    "end": "460199"
  },
  {
    "start": "456000",
    "end": "582000"
  },
  {
    "text": "what a 2d - compared to console and zookeeper look like you know about eight",
    "start": "460199",
    "end": "465509"
  },
  {
    "text": "months ago so zookeeper is about at the top here as far as performance being",
    "start": "465509",
    "end": "471210"
  },
  {
    "text": "will handle requests per second at CD was somewhere in the middle and console was coming in third place and it wasn't just",
    "start": "471210",
    "end": "479729"
  },
  {
    "text": "about how many keys could you slam in but it was about what does the performance look like when you're slamming lots of keys in the database",
    "start": "479729",
    "end": "485430"
  },
  {
    "text": "and so a very common problem with these sorts of databases like that CD is that",
    "start": "485430",
    "end": "490550"
  },
  {
    "text": "you need to do this thing where you have all this data streaming in and this is right ahead log so every time I change",
    "start": "490550",
    "end": "496620"
  },
  {
    "text": "comes in your pending - this log and at some point the log grows to the point where you need a truncate it's called",
    "start": "496620",
    "end": "502169"
  },
  {
    "text": "snapshotting and it can cause performance degradation in the cluster and so here's in this trace we can see",
    "start": "502169",
    "end": "508560"
  },
  {
    "text": "like a snapshot is called cause Gatien and in fact later a snapshot gets triggered and causes as a leader",
    "start": "508560",
    "end": "515640"
  },
  {
    "text": "election because the Exedy member is no longer responding and this is common inside of zoo keeper as well snapshot",
    "start": "515640",
    "end": "522419"
  },
  {
    "text": "was triggered trigger election here inside of a snap inside of a zookeeper cluster and so what we did was we",
    "start": "522419",
    "end": "528839"
  },
  {
    "text": "focused on how to solve this problem really nicely with at CD v3 and you get is this really tight tolerance",
    "start": "528839",
    "end": "534779"
  },
  {
    "text": "band and this becomes really important because you don't want to get page with false alerts when the system just acting",
    "start": "534779",
    "end": "540360"
  },
  {
    "text": "normally oh the system had to do a snapshot well the system always asses your snapshot don't page me because a",
    "start": "540360",
    "end": "545639"
  },
  {
    "text": "leader election is happening and so we have this really consistent band of latency performance now inside of edge",
    "start": "545639",
    "end": "551009"
  },
  {
    "text": "TV be three because of the work that we did where you know within 10 20 % we're able to handle the same requests per",
    "start": "551009",
    "end": "557730"
  },
  {
    "text": "second pretty handily and this is at 2 million keys at 256 bytes per key and",
    "start": "557730",
    "end": "565350"
  },
  {
    "text": "once you kind of zoom out a little bit it looks really good we see these latency spikes the blue line is",
    "start": "565350",
    "end": "570990"
  },
  {
    "text": "zookeeper which is like you know a very nice thing to compare against pretty battle-hardened system and we see at CD",
    "start": "570990",
    "end": "578490"
  },
  {
    "text": "essentially rock steady across the latency spectrum and then the other thing that we did was",
    "start": "578490",
    "end": "585420"
  },
  {
    "start": "582000",
    "end": "652000"
  },
  {
    "text": "we wanted to reduce memory consumption resident memory consumption so at CD is being asked by kubernetes to hold on to",
    "start": "585420",
    "end": "591420"
  },
  {
    "text": "gigabytes and gigabytes of data and in order to do that we can't have this huge overhead so before if we were asked to",
    "start": "591420",
    "end": "598260"
  },
  {
    "text": "hold on to 512 megabytes of data and Etsy DV 2 it cost us about 10 gigabytes of resident memory zookeeper holding on",
    "start": "598260",
    "end": "605760"
  },
  {
    "text": "think about the same amount of data asked for about 2.5 gigabytes of resident memory and a net CD we only do",
    "start": "605760",
    "end": "611880"
  },
  {
    "text": "about a 30% markup in order to do our work in our all the marshalling on a marshalling over the network and the",
    "start": "611880",
    "end": "617730"
  },
  {
    "text": "snapshotting and we cover around 0.8 for 512 Meg's of data so we're very handily",
    "start": "617730",
    "end": "623870"
  },
  {
    "text": "able to at this point have tight latency tolerances be resilient to various",
    "start": "623870",
    "end": "630660"
  },
  {
    "text": "leader elections triggered by snapshots and take your memory efficiently and then the other work that we've done is",
    "start": "630660",
    "end": "637319"
  },
  {
    "text": "that we have sort of these chaos monkey systems that run these long running kubernetes clusters we have this fun one",
    "start": "637319",
    "end": "643079"
  },
  {
    "text": "that you can play around with from your phone and troll the speaker but also we have long long-running ones that",
    "start": "643079",
    "end": "648779"
  },
  {
    "text": "essentially check all the performance metrics of that CD so in summary we did a lot of work the",
    "start": "648779",
    "end": "655529"
  },
  {
    "start": "652000",
    "end": "705000"
  },
  {
    "text": "graphs look good and at sea the kubernetes is in good shape riding on top of Etsy d-iii so the story with that",
    "start": "655529",
    "end": "663300"
  },
  {
    "text": "CD v3 and kubernetes is that it is an option in coop and I use one for if you can turn it on if you run kubernetes",
    "start": "663300",
    "end": "672680"
  },
  {
    "text": "today on top of that to DV 2 you can deploy out to DV 3 your cluster will remain the same there are scripts inside",
    "start": "672680",
    "end": "679380"
  },
  {
    "text": "of the kubernetes repo that can help you migrate your v2 keys and to be 3 keys and take advantage of these new",
    "start": "679380",
    "end": "685880"
  },
  {
    "text": "these new things but if you're launching a new cluster there's really no reason if you're using one for or not you just",
    "start": "685880",
    "end": "691470"
  },
  {
    "text": "turn on that CV 3 plug and start from A to D v3 for all your new clusters alright so we've we've hit our pretty",
    "start": "691470",
    "end": "699150"
  },
  {
    "text": "good scaling milestone with that CD any questions on this good ok so another neat thing that we've",
    "start": "699150",
    "end": "707010"
  },
  {
    "start": "705000",
    "end": "872000"
  },
  {
    "text": "done in the last few days is we've introduced this thing called net CD operator the sed operator is able to run",
    "start": "707010",
    "end": "715140"
  },
  {
    "text": "kubernetes a run at CD on top of kubernetes so we're starting to get really meta and recursive right off the",
    "start": "715140",
    "end": "721230"
  },
  {
    "text": "bat here but the idea is that we're gonna be moving to a world where we want",
    "start": "721230",
    "end": "726330"
  },
  {
    "text": "kubernetes moving kubernetes which will be the next set of our slides and what the operator allows us to do is really",
    "start": "726330",
    "end": "732480"
  },
  {
    "text": "simply use the Cooper Nettie's API to manage Etsy itself so I have mini cube I have a",
    "start": "732480",
    "end": "740670"
  },
  {
    "text": "mini cube cluster running on my laptop if you're not familiar with mini cube it allows you run kubernetes release your laptop and so if I do coop cuddle get",
    "start": "740670",
    "end": "747930"
  },
  {
    "text": "pods what I'll see here is that that's the operator running and in a net city cluster looks like that's getting cut",
    "start": "747930",
    "end": "753660"
  },
  {
    "text": "off is it getting cut off ok ok and so this Etsy D cluster actually",
    "start": "753660",
    "end": "762029"
  },
  {
    "text": "is using this concept of an operator which is a thing that operates applications for you so if I do coop",
    "start": "762029",
    "end": "768839"
  },
  {
    "text": "cuddle get at city clusters what I'll see is that there's a TD cluster so we've extended the kubernetes api to be",
    "start": "768839",
    "end": "774990"
  },
  {
    "text": "aware of SED clusters and as an object and what is in the set CD cluster",
    "start": "774990",
    "end": "780839"
  },
  {
    "text": "manifest is really just two things it's what version of FTD do I want running and the size of that CD and the operator",
    "start": "780839",
    "end": "787560"
  },
  {
    "text": "is actively going to manage this cluster for me so if I do cubic I'll get pods and then I'm decide that you know I",
    "start": "787560",
    "end": "793500"
  },
  {
    "text": "don't particularly like this pod and right now I'll delete the pod and then",
    "start": "793500",
    "end": "799140"
  },
  {
    "text": "what we'll see happen is that well too quickly oh maybe not so what will happen",
    "start": "799140",
    "end": "804390"
  },
  {
    "text": "is that HCD operator will detective the pod is terminated and then launched a",
    "start": "804390",
    "end": "809700"
  },
  {
    "text": "new pod as a replacement and keep the sed cluster healthy and running okay",
    "start": "809700",
    "end": "815420"
  },
  {
    "text": "so that's that's going to be an important thing as we start to discuss the idea of self-hosted kubernetes in",
    "start": "815420",
    "end": "822330"
  },
  {
    "text": "the next section",
    "start": "822330",
    "end": "825800"
  },
  {
    "text": "correct sorry so this is part of Etsy dv3 so",
    "start": "828410",
    "end": "835380"
  },
  {
    "text": "this utilizes a lot of administrative API is an density v3 and we we only launched EXO DB 3 and above clusters and",
    "start": "835380",
    "end": "843390"
  },
  {
    "text": "these pods and so it took a second but you see here that we now have an Etsy v3 or Etsy d3 pod that's 14 seconds old so",
    "start": "843390",
    "end": "851850"
  },
  {
    "text": "the entity clusters under op active management and the operator can do other things like backup at CD and do disaster",
    "start": "851850",
    "end": "858240"
  },
  {
    "text": "recovery and that sort of stuff as as described here there's a blog post on it",
    "start": "858240",
    "end": "863940"
  },
  {
    "text": "it's all open source you can find it under github.com slash core LS / @ CD operator it's a single deployment to put",
    "start": "863940",
    "end": "870600"
  },
  {
    "text": "it on your cluster ok so the next topic is self hosted self",
    "start": "870600",
    "end": "877230"
  },
  {
    "start": "872000",
    "end": "1025000"
  },
  {
    "text": "hosted kubernetes so if you're not familiar with the concept of self hosted it's a pretty common computer science",
    "start": "877230",
    "end": "883550"
  },
  {
    "text": "idea so in the case of a lot of programming language there's their self",
    "start": "883550",
    "end": "889260"
  },
  {
    "text": "hosted so you write the compiler for the programming language in the programming language itself your C compilers not",
    "start": "889260",
    "end": "895020"
  },
  {
    "text": "written in an assembly so it's written in C so in the case of GCC they take the GCC source code they",
    "start": "895020",
    "end": "902580"
  },
  {
    "text": "run it through an old version of GCC out pops a new version of GCC golang just became self posted as well so majority",
    "start": "902580",
    "end": "909870"
  },
  {
    "text": "of go is written and go so you can't we go source code you run it through an old version of go you get a new version of go it gets a little bit more noodley",
    "start": "909870",
    "end": "917850"
  },
  {
    "text": "when you start to think about things like operating systems or kubernetes so let's use an example this is young",
    "start": "917850",
    "end": "923790"
  },
  {
    "text": "leanest Torvalds leanness use an operating system called MINIX and wrote this new operating system called Linux",
    "start": "923790",
    "end": "929510"
  },
  {
    "text": "out pops Linux neat I love personal email notifications",
    "start": "929510",
    "end": "936000"
  },
  {
    "text": "I don't know what tab is doing that hopefully not being embarrassing happens",
    "start": "936000",
    "end": "941210"
  },
  {
    "text": "so the the next thing that leanness did you know lean it's got a little bit older more mature and",
    "start": "941210",
    "end": "947870"
  },
  {
    "text": "Linux was actually running this actually just happened in a few months I think it's funny they use like a 40 year old",
    "start": "947870",
    "end": "953070"
  },
  {
    "text": "Lena's versus 21 and so Lena's already had Linux and so he took the Linux",
    "start": "953070",
    "end": "959430"
  },
  {
    "text": "source code Linux was able to run GCC and then out pops a new version of Linux so we need",
    "start": "959430",
    "end": "965910"
  },
  {
    "text": "to apply the same concept to kubernetes so today we have all these tools that",
    "start": "965910",
    "end": "971850"
  },
  {
    "text": "kind of deploy kubernetes on our behalf and then set kubernetes up so they talk",
    "start": "971850",
    "end": "977970"
  },
  {
    "text": "to AWS they the point AWS they do some configuration management and then kubernetes api endpoint pops out at the",
    "start": "977970",
    "end": "985140"
  },
  {
    "text": "end but what we want to do with self-hosted kubernetes is we want to move to this world where instead of",
    "start": "985140",
    "end": "991200"
  },
  {
    "text": "these tools essentially taking care of this whole stack the tool takes care of the infrastructure let the",
    "start": "991200",
    "end": "996390"
  },
  {
    "text": "infrastructure tools focus on infrastructure and kubernetes takes care of kubernetes and so the advantage with",
    "start": "996390",
    "end": "1003710"
  },
  {
    "text": "this sort of platform is that we can use say cube kettle and actually upgrade kubernetes and it works",
    "start": "1003710",
    "end": "1010730"
  },
  {
    "text": "the exact same way whether we're on AWS so we're on Azure or perhaps we're on",
    "start": "1010730",
    "end": "1016190"
  },
  {
    "text": "bare metal we can use the exact same API is the exact same process that great cuban Eddie's on any single any type of",
    "start": "1016190",
    "end": "1022850"
  },
  {
    "text": "infrastructure that you have so the goals here with self-hosted is that we use the compute networking and",
    "start": "1022850",
    "end": "1029449"
  },
  {
    "start": "1025000",
    "end": "1067000"
  },
  {
    "text": "storage abstractions that we love kubernetes for the reasons that we use kubernetes in the first place is that it",
    "start": "1029450",
    "end": "1034610"
  },
  {
    "text": "allows us to abstract these things the infrastructure tools focus on infrastructure and it provides a",
    "start": "1034610",
    "end": "1039740"
  },
  {
    "text": "foundation by using those abstractions to automate the upgrade of our clusters and scaling so the way this looks in",
    "start": "1039740",
    "end": "1046280"
  },
  {
    "text": "practice is that will say coop cuddle - in coop system do daemon sets will see",
    "start": "1046280",
    "end": "1052190"
  },
  {
    "text": "api server and proxy running daemon sets and we'll see controller manager and scheduler running as deployments now",
    "start": "1052190",
    "end": "1058010"
  },
  {
    "text": "this has a lot of natural advantages because let's say that we want to scale our scheduler we can just edit",
    "start": "1058010",
    "end": "1064809"
  },
  {
    "text": "appointment of the scheduler and scale it so obviously like the proof is in it",
    "start": "1064809",
    "end": "1071049"
  },
  {
    "start": "1067000",
    "end": "1195000"
  },
  {
    "text": "actually working not necessarily looking good architecture slides so I've gone ahead and launched a self-hosted cluster",
    "start": "1071049",
    "end": "1078749"
  },
  {
    "text": "all of this is based on Boot Cube which is an incubator project",
    "start": "1078749",
    "end": "1084009"
  },
  {
    "text": "introduced by core OS but we've wrapped really nice user experiences on top so",
    "start": "1084009",
    "end": "1090490"
  },
  {
    "text": "this is the essentially installer for tectonic which is what I use but underneath it's just",
    "start": "1090490",
    "end": "1096129"
  },
  {
    "text": "using the infrastructure at Boot Cube and out the other end what I get is a fully working kubernetes cluster that's",
    "start": "1096129",
    "end": "1102039"
  },
  {
    "text": "self hosted so if we dive into the if we dive into the coop system as described",
    "start": "1102039",
    "end": "1108970"
  },
  {
    "text": "we see that there's the cube scheduler in here there's two pods running we can",
    "start": "1108970",
    "end": "1113980"
  },
  {
    "text": "you know if we're you need to make an H a kubernetes it's really simple because we just talk to the kubernetes api and we say scale up the number of schedulers",
    "start": "1113980",
    "end": "1120940"
  },
  {
    "text": "so that in case a couple machines go away my application keeps working and we can see that those pods get launched and",
    "start": "1120940",
    "end": "1127090"
  },
  {
    "text": "they get put on to machines that are appropriate for running the kubernetes scheduler and similarly you can come in",
    "start": "1127090",
    "end": "1134019"
  },
  {
    "text": "and see the daemon sets running and the nodes that are actually doing all of the",
    "start": "1134019",
    "end": "1139059"
  },
  {
    "text": "management of the cluster simply have this label on them that say master equals true which means it's",
    "start": "1139059",
    "end": "1145600"
  },
  {
    "text": "appropriate for things like the scheduler and the API server to run on top of them and so this is all using",
    "start": "1145600",
    "end": "1152019"
  },
  {
    "text": "kubernetes api x' the great thing about this is if an API server goes down or I",
    "start": "1152019",
    "end": "1157269"
  },
  {
    "text": "lose a scheduler I actually can just debug it I can look through the events here inside of kubernetes and see oh",
    "start": "1157269",
    "end": "1164320"
  },
  {
    "text": "that's why I like a container that was running the scheduler just came up or just went away cetera",
    "start": "1164320",
    "end": "1170009"
  },
  {
    "text": "so that's that's the big concept with self-hosted kubernetes is that we are",
    "start": "1170009",
    "end": "1175570"
  },
  {
    "text": "moving towards this whole model of kubernetes managing cuban eddies",
    "start": "1175570",
    "end": "1180629"
  },
  {
    "text": "yeah that is a great question so",
    "start": "1180629",
    "end": "1186100"
  },
  {
    "text": "what about the first appointment of kubernetes how do we bootstrap our way into it so this is what the buku",
    "start": "1186100",
    "end": "1193330"
  },
  {
    "text": "tool actually does and if you want to learn how the boot queue works I'll bury",
    "start": "1193330",
    "end": "1199040"
  },
  {
    "start": "1195000",
    "end": "1297000"
  },
  {
    "text": "the lede a little bit essentially what happens is we launch a temporary kubernetes as a single process inside",
    "start": "1199040",
    "end": "1204620"
  },
  {
    "text": "that single process is your scheduling API server @cd everything you need and then we pivot on to the actual real",
    "start": "1204620",
    "end": "1210980"
  },
  {
    "text": "kubernetes and then we do all sorts of tricks to ensure that in case of power outages or whatever you don't need to",
    "start": "1210980",
    "end": "1217490"
  },
  {
    "text": "bring that temporary Cooper Nettie's back up and so if you want to learn about coop ception",
    "start": "1217490",
    "end": "1223300"
  },
  {
    "text": "Aaron Levie is giving a really deep dive on self hosted but if you want to just",
    "start": "1223300",
    "end": "1229190"
  },
  {
    "text": "get the results you can just go on to be r-cube ball of AWS and GCP guides and",
    "start": "1229190",
    "end": "1234640"
  },
  {
    "text": "try it out the other thing is that there's a lot of deployment tools inside of the",
    "start": "1234640",
    "end": "1240950"
  },
  {
    "text": "kubernetes ecosystem today there's Cube admin cops etc our hope with all of this self hosted stuff is to show that it is",
    "start": "1240950",
    "end": "1247370"
  },
  {
    "text": "a compelling deployment model show that it is stable and the people can actually run real workloads on top of it while",
    "start": "1247370",
    "end": "1253910"
  },
  {
    "text": "these things are happening and we're working closely with the cube admin team we've written up a design doc on how",
    "start": "1253910",
    "end": "1259910"
  },
  {
    "text": "cube admin can do self hosted we are working with everyone else in the Kuban IDs community including Sigma cluster",
    "start": "1259910",
    "end": "1266750"
  },
  {
    "text": "lifecycle essentially making this if not the default at least one of the premiere",
    "start": "1266750",
    "end": "1272450"
  },
  {
    "text": "choices for operating kubernetes inside of production environments boot cube is",
    "start": "1272450",
    "end": "1277820"
  },
  {
    "text": "really a tool that we've been working on that proves out the model brings all the things together and took he subset",
    "start": "1277820",
    "end": "1283880"
  },
  {
    "text": "there's a lot of work that needs to happen inside the kubernetes to make it a perfect system right now it's a 99%",
    "start": "1283880",
    "end": "1289730"
  },
  {
    "text": "system any questions on self hosting cool all right so we'll move on to",
    "start": "1289730",
    "end": "1299060"
  },
  {
    "start": "1297000",
    "end": "1471000"
  },
  {
    "text": "Federation this is a real whirlwind like we a lot of topics in 40 minutes so with",
    "start": "1299060",
    "end": "1304970"
  },
  {
    "text": "Federation the big idea is that today we have kubernetes this is what a",
    "start": "1304970",
    "end": "1310460"
  },
  {
    "text": "single kubernetes cluster looks like API server holds on to the state of kubernetes it designed for single domain",
    "start": "1310460",
    "end": "1317610"
  },
  {
    "text": "failures so you want to put a single kubernetes cluster inside of say a single data center you want to put a",
    "start": "1317610",
    "end": "1322860"
  },
  {
    "text": "single kubernetes cluster say inside of a couple of racks that are in a single power failure domain etc and",
    "start": "1322860",
    "end": "1331760"
  },
  {
    "text": "this single costs are going to handle thousands of machines so that's that's what kubernetes is designed for single",
    "start": "1331760",
    "end": "1338040"
  },
  {
    "text": "kubernetes cluster is designed to be tolerant to individual machine failures not a truck hitting your data center makes sense okay the idea what",
    "start": "1338040",
    "end": "1346560"
  },
  {
    "text": "Federation is that we kind of like self-hosted where we're using kubernetes at the bottom the idea",
    "start": "1346560",
    "end": "1353100"
  },
  {
    "text": "what Federation is we're using and managing multiple kubernetes clusters by",
    "start": "1353100",
    "end": "1358200"
  },
  {
    "text": "putting kubernetes on top and so what Federation looks like is that we have",
    "start": "1358200",
    "end": "1364700"
  },
  {
    "text": "very similar you have the coop cuddle the command line tool it's talking to this special API server that's the",
    "start": "1364700",
    "end": "1370350"
  },
  {
    "text": "Federation API it's persisting all of its data and a replicated @cd that's hopefully running across whole of your",
    "start": "1370350",
    "end": "1376020"
  },
  {
    "text": "various clusters that are being federated there's a federation controller manager that's actually",
    "start": "1376020",
    "end": "1381480"
  },
  {
    "text": "insuring the workloads end up on the machine or inside of the clusters that you'd like to them that they end up into",
    "start": "1381480",
    "end": "1386520"
  },
  {
    "text": "and then every single cluster underneath is just a normal kubernetes cluster that actually is sort of blissfully unaware",
    "start": "1386520",
    "end": "1392790"
  },
  {
    "text": "that this Federation thing is actually happening to it because the Federation ap controller manager is just another",
    "start": "1392790",
    "end": "1398850"
  },
  {
    "text": "client scheduling replica sets or pods or services to the cluster",
    "start": "1398850",
    "end": "1404840"
  },
  {
    "text": "so it's a lot to digest can I get like a show hands if that all made sense",
    "start": "1404840",
    "end": "1410780"
  },
  {
    "text": "great okay so that that's the big idea with",
    "start": "1410780",
    "end": "1416850"
  },
  {
    "text": "Federation so the API server and that 2d hold state for multiple clusters like",
    "start": "1416850",
    "end": "1421920"
  },
  {
    "text": "what services and replicas sets you want running across your clusters it spans multiple failure domains and so ideally",
    "start": "1421920",
    "end": "1429120"
  },
  {
    "text": "you will have a Federation cluster that's running in New York San Francisco and maybe Tokyo or maybe like three",
    "start": "1429120",
    "end": "1435150"
  },
  {
    "text": "places that aren't always disaster movies but it's fans multiple failure domains and",
    "start": "1435150",
    "end": "1442170"
  },
  {
    "text": "is resilient to like you know just like at CD one of the three or two of the",
    "start": "1442170",
    "end": "1447540"
  },
  {
    "text": "five failure domains going and it coordinates between clusters it's not actually for managing the individual",
    "start": "1447540",
    "end": "1454890"
  },
  {
    "text": "machines in a cluster so if you think about Federation as the couplet is",
    "start": "1454890",
    "end": "1460620"
  },
  {
    "text": "managing processes the Federation controller manager is managing clusters so it's like Federation's cubelet is",
    "start": "1460620",
    "end": "1467310"
  },
  {
    "text": "another cluster you if you want to go by analogy okay",
    "start": "1467310",
    "end": "1473030"
  },
  {
    "text": "so if you notice that all my diagrams are super slick up until now",
    "start": "1473030",
    "end": "1478400"
  },
  {
    "text": "these I forgot to update so you're gonna have to bear with me on this so the API",
    "start": "1478400",
    "end": "1484080"
  },
  {
    "text": "server talks to an API server on the cluster or actually multiple API servers",
    "start": "1484080",
    "end": "1490410"
  },
  {
    "text": "and that API server then schedules work say like an engine X process and then",
    "start": "1490410",
    "end": "1496190"
  },
  {
    "text": "that's the like replica set going through now with services what happens",
    "start": "1496190",
    "end": "1501300"
  },
  {
    "text": "is that the Federation API it now has this replica set scheduled to the individual nodes and then it creates a",
    "start": "1501300",
    "end": "1507960"
  },
  {
    "text": "new service say an engine X service ends up getting load balance",
    "start": "1507960",
    "end": "1513770"
  },
  {
    "text": "so what we're going to do is I have an actual live Federation cluster that I've set up last night hopefully so running",
    "start": "1513770",
    "end": "1520200"
  },
  {
    "text": "so let's go ahead and play around with that for a second the cluster that I'm playing with is set up using",
    "start": "1520200",
    "end": "1527570"
  },
  {
    "text": "where is it you'll see there it is Kelsey Hightower is probably",
    "start": "1527570",
    "end": "1535050"
  },
  {
    "text": "the best instructions on how they set up the Federation clusters today it runs you through setting up a",
    "start": "1535050",
    "end": "1541020"
  },
  {
    "text": "Federation cluster on GCP along with all the load balancing and DNS and everything that you need to make it happen it takes about ten or fifteen",
    "start": "1541020",
    "end": "1548610"
  },
  {
    "text": "minutes to go through the entire thing but I've done it for you so we can play around with it",
    "start": "1548610",
    "end": "1554360"
  },
  {
    "start": "1554000",
    "end": "2118000"
  },
  {
    "text": "so the big things that happen here is that I have similar to those diagrams",
    "start": "1554360",
    "end": "1561150"
  },
  {
    "text": "those really awesome diagrams that you'll remember from just a second ago I have engine acts deployed against my",
    "start": "1561150",
    "end": "1567900"
  },
  {
    "text": "federated cluster and so I have this coop kuddle is talking to this federation cluster which is a subset of",
    "start": "1567900",
    "end": "1574860"
  },
  {
    "text": "a real API server so if I try to run like git pods it's not going to say",
    "start": "1574860",
    "end": "1580650"
  },
  {
    "text": "there's any pods available because API server Federation API doesn't deal with machines that deals with clusters",
    "start": "1580650",
    "end": "1586440"
  },
  {
    "text": "so it doesn't know about pods it knows about replica sets and services and so what we can see is I get replica sets",
    "start": "1586440",
    "end": "1593429"
  },
  {
    "text": "and what we'll see in here is that there's replica sets for nginx I have one replica set that is",
    "start": "1593429",
    "end": "1599750"
  },
  {
    "text": "replicating only over the u.s. domains and they have another replica set that's going over my other clusters and so if I",
    "start": "1599750",
    "end": "1607649"
  },
  {
    "text": "go and do get clusters what I'll see is that I have four clusters in this Federation shoot sorry",
    "start": "1607649",
    "end": "1614279"
  },
  {
    "text": "this is getting cut off somebody tell me oh I have four clusters in this Federation so there's a east west",
    "start": "1614279",
    "end": "1620730"
  },
  {
    "text": "central asia east west europe west US central US",
    "start": "1620730",
    "end": "1627090"
  },
  {
    "text": "east clusters in here and i have we can go ahead and dive into this replica set",
    "start": "1627090",
    "end": "1633120"
  },
  {
    "text": "of nginx u.s. so yeah mole and what we'll",
    "start": "1633120",
    "end": "1638730"
  },
  {
    "text": "see inside of this service is that it has a bunch of annotations this annotation says I want",
    "start": "1638730",
    "end": "1646409"
  },
  {
    "text": "this replica set to only be scheduled to us by us clusters and I want there to be",
    "start": "1646409",
    "end": "1652830"
  },
  {
    "text": "some policy around how many replicas end up in which cluster and I want to rebalance those in case anything happens",
    "start": "1652830",
    "end": "1658500"
  },
  {
    "text": "etc and so you're able to express really complex failure domain logic inside of",
    "start": "1658500",
    "end": "1664049"
  },
  {
    "text": "the federation api and the federation api takes us if you account when it talks to the clusters so if we dive down",
    "start": "1664049",
    "end": "1671039"
  },
  {
    "text": "into one of the individual machines so i'll go into the cluster in US east which",
    "start": "1671039",
    "end": "1678450"
  },
  {
    "text": "should have a couple of pods of nginx running hopefully yeh so inside of here we have",
    "start": "1678450",
    "end": "1684779"
  },
  {
    "text": "this these couple of pods based on the policy running inside of us east and if",
    "start": "1684779",
    "end": "1689789"
  },
  {
    "text": "we go ahead and check out the load balancer that the federation api is set up by looking at",
    "start": "1689789",
    "end": "1696320"
  },
  {
    "text": "services if we look at the services here so we're going to describe the services what you'll see is that there's a load",
    "start": "1696320",
    "end": "1703230"
  },
  {
    "text": "balancer that is federated over lots of different IP addresses and those IP addresses are the different IP addresses",
    "start": "1703230",
    "end": "1709889"
  },
  {
    "text": "of the different clusters and the end result the big surprise here is that we get a white engine XP full-page",
    "start": "1709889",
    "end": "1721370"
  },
  {
    "text": "so this is a super highly available default engine tax page",
    "start": "1722539",
    "end": "1727850"
  },
  {
    "text": "it's globally replicated the DMS is highly available it's super awesome so",
    "start": "1727850",
    "end": "1734010"
  },
  {
    "text": "if you wanted to put like an yang cat on here like the entire world would see permanently",
    "start": "1734010",
    "end": "1739340"
  },
  {
    "text": "so that's that's the Federation API and that's the Federation API in practice like I said it's it's a work in progress",
    "start": "1739340",
    "end": "1747210"
  },
  {
    "text": "this is what Federation one plot 1.4 is capable of doing there's a lot to be",
    "start": "1747210",
    "end": "1753179"
  },
  {
    "text": "done left in the future but it is a great it is a great reflection point and",
    "start": "1753179",
    "end": "1758370"
  },
  {
    "text": "you can kind of compare and contrast it to self-hosted where self host is the",
    "start": "1758370",
    "end": "1763620"
  },
  {
    "text": "bottom kubernetes on kubernetes cluster Federation as a top kubernetes on kubernetes it's a pretty neat neat model",
    "start": "1763620",
    "end": "1770309"
  },
  {
    "text": "and really shows off the power of kubernetes as a platform for not just handling our stateless web applications",
    "start": "1770309",
    "end": "1776940"
  },
  {
    "text": "or our twelve factor apps but of handling these complex these complex",
    "start": "1776940",
    "end": "1782750"
  },
  {
    "text": "deployments that a lot of us find ourselves managing yes",
    "start": "1782750",
    "end": "1788630"
  },
  {
    "text": "absolutely great question so how does high availability of Federation work",
    "start": "1791299",
    "end": "1796760"
  },
  {
    "text": "the going back to these great diagrams so what happens i have deployed the",
    "start": "1796760",
    "end": "1802590"
  },
  {
    "text": "federation api in a single cluster obviously that's not what you want you want to add cv replicated over lots of",
    "start": "1802590",
    "end": "1808799"
  },
  {
    "text": "things but it's really hard to set up so I didn't because I'm lazy the way it should work is that you essentially run",
    "start": "1808799",
    "end": "1815910"
  },
  {
    "text": "the Federation API server over all of your clusters along with that replicated at CD and these are replicating",
    "start": "1815910",
    "end": "1822059"
  },
  {
    "text": "essentially globally and so these are put by and load balancers those load",
    "start": "1822059",
    "end": "1827100"
  },
  {
    "text": "balancers end up in some sort of globally it depends on how you want to",
    "start": "1827100",
    "end": "1833370"
  },
  {
    "text": "set this up if your cloud provider can handle it or your isp or whoever or maybe you put DNS records with really",
    "start": "1833370",
    "end": "1840840"
  },
  {
    "text": "low TTLs but you put those load balancers inside of a DNS record say in the naive case and then if any one of",
    "start": "1840840",
    "end": "1849390"
  },
  {
    "text": "those data centers goes down you either trigger automatically through like global monitoring you want to be really",
    "start": "1849390",
    "end": "1855419"
  },
  {
    "text": "careful with that but trigger automatically removal or you manually remove and you you're able to talk to the surviving",
    "start": "1855419",
    "end": "1862440"
  },
  {
    "text": "Federation clusters make sense yes",
    "start": "1862440",
    "end": "1868940"
  },
  {
    "text": "high-profile outages and when I looked carefully for Regions way down",
    "start": "1871130",
    "end": "1878360"
  },
  {
    "text": "yep",
    "start": "1881840",
    "end": "1884840"
  },
  {
    "text": "yeah for sure like if you overload your clusters like that's gonna cause problems the advantages that we have is",
    "start": "1887110",
    "end": "1893890"
  },
  {
    "text": "that containers allow us to do better resource isolation where ideally you're",
    "start": "1893890",
    "end": "1900399"
  },
  {
    "text": "able to through the cubelet and through the kubernetes isolation of namespaces we're able to",
    "start": "1900399",
    "end": "1907000"
  },
  {
    "text": "actually ensure that we don't over schedule or over provision but assuredly just like a for loop or parallel SH like",
    "start": "1907000",
    "end": "1913990"
  },
  {
    "text": "you can definitely get yourself in a massive bind with these sorts of systems it just comes down to monitoring and",
    "start": "1913990",
    "end": "1919750"
  },
  {
    "text": "good good practices yeah",
    "start": "1919750",
    "end": "1924899"
  },
  {
    "text": "right I",
    "start": "1929610",
    "end": "1932940"
  },
  {
    "text": "see so the advantage that something like Federation has is that it's kind of like",
    "start": "1935519",
    "end": "1941230"
  },
  {
    "text": "pushing down from the top and then recovering events back through and so",
    "start": "1941230",
    "end": "1947130"
  },
  {
    "text": "you absolutely can like end up it in places where bugs and stuff will take out the whole system but is very much a",
    "start": "1947130",
    "end": "1954610"
  },
  {
    "text": "like tree based system where the root is pushing down there's not really a lot of like RPC happening between the two",
    "start": "1954610",
    "end": "1960279"
  },
  {
    "text": "systems actively to like do active help on attorney that sort of stuff so it's I'm definitely like dodging",
    "start": "1960279",
    "end": "1966870"
  },
  {
    "text": "but it is like it is a fairly like well designed",
    "start": "1966870",
    "end": "1972990"
  },
  {
    "text": "abstraction yeah",
    "start": "1972990",
    "end": "1977460"
  },
  {
    "text": "yes so I'm super punting on load-balancing by using the Google cloud",
    "start": "1981499",
    "end": "1986609"
  },
  {
    "text": "load balancers so they're actually the Federation API is like setting up all",
    "start": "1986609",
    "end": "1992249"
  },
  {
    "text": "the DNS records under GE FF org and so it's setting up all the Federated DNS",
    "start": "1992249",
    "end": "1997409"
  },
  {
    "text": "records and then creating load balancers and managing all that for me the Federation API is doing that on my",
    "start": "1997409",
    "end": "2003200"
  },
  {
    "text": "behalf but I'm kind of like punting on that Hart if you again it will depend on",
    "start": "2003200",
    "end": "2008809"
  },
  {
    "text": "like if you have globally replicated or like multicast or whatever like whatever way of like having a stable IP",
    "start": "2008809",
    "end": "2016669"
  },
  {
    "text": "that is viewable globally for your web application or your DNS name that's what",
    "start": "2016669",
    "end": "2022729"
  },
  {
    "text": "you're gonna have to integrate with yeah exactly yeah you could start to do",
    "start": "2022729",
    "end": "2029779"
  },
  {
    "text": "that sort of stuff where yeah like the serve record you're like pops actually figure out which one is the correct one yeah yep oh",
    "start": "2029779",
    "end": "2039129"
  },
  {
    "text": "yeah so right now only replica sets are supported you can't really do like deployments and so when you like update",
    "start": "2041649",
    "end": "2048529"
  },
  {
    "text": "the replica set you yeah it'll essentially like the Federation API and controller manager",
    "start": "2048529",
    "end": "2055069"
  },
  {
    "text": "are pushing like you need to be running these replica sets are these these pods pushing it down to the cluster",
    "start": "2055069",
    "end": "2063068"
  },
  {
    "text": "yes",
    "start": "2063309",
    "end": "2066309"
  },
  {
    "text": "correct okay so the clusters are acting up independently yeah so the Federation",
    "start": "2069419",
    "end": "2076408"
  },
  {
    "text": "API supports ingress services namespaces replicas stats secrets and DNS which as",
    "start": "2076409",
    "end": "2081960"
  },
  {
    "text": "I mentioned as cloud provider specific today so the next steps with Federation there's to check out the Federation",
    "start": "2081960",
    "end": "2088769"
  },
  {
    "text": "setup guides at kübra i/o they kind of give an overview of how the whole thing works Kelsie's guides like I mentioned",
    "start": "2088769",
    "end": "2095220"
  },
  {
    "text": "are easier than the official guides right now so you may want to check those out sig Federation meets regularly",
    "start": "2095220",
    "end": "2100910"
  },
  {
    "text": "there's a Clinton leads sig Federation he's in the",
    "start": "2100910",
    "end": "2107250"
  },
  {
    "text": "back of the room they're wearing a bright blue kubernetes shirt so talk to him if you're interested in this and",
    "start": "2107250",
    "end": "2112789"
  },
  {
    "text": "it's it's a interesting project and rapidly developing so what all these",
    "start": "2112789",
    "end": "2119010"
  },
  {
    "start": "2118000",
    "end": "2164000"
  },
  {
    "text": "disparate things have in common why did I throw them all into one talk one is that I didn't think ahead to is that",
    "start": "2119010",
    "end": "2126960"
  },
  {
    "text": "there's actually like shared vision here so with these operators operating at CD",
    "start": "2126960",
    "end": "2132180"
  },
  {
    "text": "we can have at CD going across and actually handling this complexity of how do I get at CD replicated across these",
    "start": "2132180",
    "end": "2139140"
  },
  {
    "text": "different AZ's self-hosted you can imagine starting to",
    "start": "2139140",
    "end": "2144920"
  },
  {
    "text": "manage kubernetes itself and Federation managing lots of kubernetes clusters so",
    "start": "2144920",
    "end": "2150119"
  },
  {
    "text": "these abstractions are very similar and one thing I just want to continue to point out is this is all leveraging",
    "start": "2150119",
    "end": "2156180"
  },
  {
    "text": "tested designs we trust kubernetes and the federation api's are very very similar abstractions and very very",
    "start": "2156180",
    "end": "2162990"
  },
  {
    "text": "similar designs so my goals from here I want to make a self-hosted the default for communities clusters or perhaps at",
    "start": "2162990",
    "end": "2170009"
  },
  {
    "start": "2164000",
    "end": "2203000"
  },
  {
    "text": "least the the preferred deployment model I want to make it easy to operate at 2d",
    "start": "2170009",
    "end": "2175950"
  },
  {
    "text": "for single and federated cases that's why we've introduced the sed operator work that we've done and when I bring",
    "start": "2175950",
    "end": "2181859"
  },
  {
    "text": "these Federation technologies to market because I think over the entire time that I've been involved in the cloud",
    "start": "2181859",
    "end": "2188519"
  },
  {
    "text": "infrastructure market over the last eight or so years all of it I've ever",
    "start": "2188519",
    "end": "2193529"
  },
  {
    "text": "heard about is hybrid cloud and gosh darn it we want to bring hybrid cloud actually to market I think this is the",
    "start": "2193529",
    "end": "2199950"
  },
  {
    "text": "probably the best way in the best shot that we have doing that if you want to learn more about this stuff for what we do at coral s or you",
    "start": "2199950",
    "end": "2206890"
  },
  {
    "text": "happen to be in New York in December we have a conference December 12th and 13th a bunch of companies getting together",
    "start": "2206890",
    "end": "2211990"
  },
  {
    "text": "talking about how they're using kubernetes how this whole cloud native thing is working inside of their organizations and with that I'd like",
    "start": "2211990",
    "end": "2219790"
  },
  {
    "text": "thank you for your attention and I'll take a few more questions we have about three minutes and that is that thank you",
    "start": "2219790",
    "end": "2226950"
  },
  {
    "text": "yeah",
    "start": "2232440",
    "end": "2235440"
  },
  {
    "text": "for sure can you help me understand the difference between a home chart and the operators that you discussed yeah so",
    "start": "2237990",
    "end": "2244060"
  },
  {
    "text": "this is a question that operators grow us if you go read the blog there's an",
    "start": "2244060",
    "end": "2250600"
  },
  {
    "text": "FAQ at the bottom about that the big thing is that helm charts are about packaging up a set of essentially",
    "start": "2250600",
    "end": "2257890"
  },
  {
    "text": "kubernetes resources as like a single object whereas an operator is actively managing a complex piece of software and",
    "start": "2257890",
    "end": "2264130"
  },
  {
    "text": "doing on behalf of the user like a lot of the tasks that they would have been thinking about doing so like we think of",
    "start": "2264130",
    "end": "2271540"
  },
  {
    "text": "it as operators representing human operational knowledge those things that you would have run books for but in software and because kubernetes we have",
    "start": "2271540",
    "end": "2278560"
  },
  {
    "text": "a full cluster view of what's going on we can do those run books automatically like resizing clusters backing up",
    "start": "2278560",
    "end": "2283780"
  },
  {
    "text": "clusters etc and so reintroduce operators for vote Prometheus a and F C D and it's about this active management",
    "start": "2283780",
    "end": "2289960"
  },
  {
    "text": "component and then using and extending the kubernetes api so that I can do",
    "start": "2289960",
    "end": "2295000"
  },
  {
    "text": "things like coop Ketel get at CD controllers and actually think about them as just normal resources even",
    "start": "2295000",
    "end": "2300670"
  },
  {
    "text": "though they weren't resources that kubernetes actually has",
    "start": "2300670",
    "end": "2305430"
  },
  {
    "text": "right so the question was our operators knew primitive of the kubernetes api it's really a pattern of that contains",
    "start": "2308079",
    "end": "2315440"
  },
  {
    "text": "two things the kubernetes has always been able to you it's always been able to have external controllers so these",
    "start": "2315440",
    "end": "2321709"
  },
  {
    "text": "pieces of software that act on behalf or act on the kubernetes api running on the",
    "start": "2321709",
    "end": "2327019"
  },
  {
    "text": "kubernetes api and the idea of a third-party odd object or third-party resource and so combining these two",
    "start": "2327019",
    "end": "2333289"
  },
  {
    "text": "things there's active management component and this idea of a third-party resource is what makes an operator an",
    "start": "2333289",
    "end": "2338329"
  },
  {
    "text": "operator yes yeah",
    "start": "2338329",
    "end": "2343690"
  },
  {
    "text": "is the Federation API server developing out of the existing API server or is it",
    "start": "2343690",
    "end": "2349729"
  },
  {
    "text": "a something else I mean built from scratch yeah second question is the HDD cluster",
    "start": "2349729",
    "end": "2357160"
  },
  {
    "text": "operators or otherwise should I treat them as something part of infra",
    "start": "2357160",
    "end": "2362239"
  },
  {
    "text": "kubernetes or should I treat them as HCD as a service and use it for applications and kubernetes together what's the",
    "start": "2362239",
    "end": "2368119"
  },
  {
    "text": "recommended way yeah so good questions on Federation API it is leveraging",
    "start": "2368119",
    "end": "2374779"
  },
  {
    "text": "essentially all the same as factions the API server has but it's a subset and operates differently than normal API for",
    "start": "2374779",
    "end": "2380809"
  },
  {
    "text": "example like git pods isn't a resource so a lot of abstractions that are being leveraged on @cd we really so FTD is a",
    "start": "2380809",
    "end": "2387799"
  },
  {
    "text": "very performance sensitive application it is doing its best to essentially do",
    "start": "2387799",
    "end": "2394269"
  },
  {
    "text": "as by analogy like raid between lots of machines only for this important",
    "start": "2394269",
    "end": "2400130"
  },
  {
    "text": "configuration data and so our recommendation is that you use a single at CD for kubernetes and things like",
    "start": "2400130",
    "end": "2405739"
  },
  {
    "text": "operators make it easy for you to launch traditional pet CDs for your individual applications in a lot of cases some of",
    "start": "2405739",
    "end": "2413059"
  },
  {
    "text": "the really critical applications like your network systems like flannel canal project calico weave et cetera are",
    "start": "2413059",
    "end": "2420739"
  },
  {
    "text": "moving to running on top of the kubernetes api themselves instead of talking about cv directly but there are a lot of applications like vault or",
    "start": "2420739",
    "end": "2427430"
  },
  {
    "text": "traffic or others they want or sometimes you utilize at CD directly so for those",
    "start": "2427430",
    "end": "2433099"
  },
  {
    "text": "applications that totally makes sense to manage your own or at least deploy a net CD for those",
    "start": "2433099",
    "end": "2439320"
  },
  {
    "text": "yeah sorry you asked the question really early so I was rupiah",
    "start": "2439320",
    "end": "2445670"
  },
  {
    "text": "in the Federated set up it could be a multi cloud between different public clouds yeah exactly so that's the entire",
    "start": "2446210",
    "end": "2452580"
  },
  {
    "text": "goal so the question was about multi Club the entire goal is that you're able to",
    "start": "2452580",
    "end": "2457820"
  },
  {
    "text": "initially it's probably easiest to be like I'm gonna run in multiple AWS regions but you could imagine",
    "start": "2457820",
    "end": "2463730"
  },
  {
    "text": "essentially being able to start to play the games where I run you know on Azure I run on AWS and I load balance between",
    "start": "2463730",
    "end": "2470910"
  },
  {
    "text": "those maybe I don't trust one of the providers or I'm gonna start to play games where I noticed pricing differences and I've run my job spinning",
    "start": "2470910",
    "end": "2477570"
  },
  {
    "text": "where the pricing is good so that's absolutely the goal and the plan yeah I'll take a little overtime so I'll",
    "start": "2477570",
    "end": "2485130"
  },
  {
    "text": "take one more question you mentioned you want for the Federation to run the STD across the",
    "start": "2485130",
    "end": "2490590"
  },
  {
    "text": "globe essentially yeah how sensitive is NCD to the Layton sees there yeah so FTD operates on this idea of leader election",
    "start": "2490590",
    "end": "2496740"
  },
  {
    "text": "the way we do leader election is based on responses and so you can tune a TV to be say as long as you respond within a",
    "start": "2496740",
    "end": "2503730"
  },
  {
    "text": "second it's okay so FTD is performance sensitive but it's performance sensitive to whatever window you turn it to so by",
    "start": "2503730",
    "end": "2511070"
  },
  {
    "text": "what absolutely yeah and so in that case like",
    "start": "2511070",
    "end": "2517680"
  },
  {
    "text": "it's not gonna be the world's fastest Federation API but it will get the it'll replicate the data correctly right and",
    "start": "2517680",
    "end": "2524490"
  },
  {
    "text": "you want all you're thinking about is tuning that election time out so that",
    "start": "2524490",
    "end": "2530270"
  },
  {
    "text": "so that it is the correct latency that you expect over your transatlantic link",
    "start": "2530270",
    "end": "2535920"
  },
  {
    "text": "or whatever and this is exactly if you you read some of the material from the Google site reliability engineering",
    "start": "2535920",
    "end": "2542730"
  },
  {
    "text": "books they have this idea of cluster chubby Chubby's like the equivalent of Etsy D inside of Google they have you",
    "start": "2542730",
    "end": "2547830"
  },
  {
    "text": "have clusters chubby and global chubby and so what we're creating with the Federation at CG is essentially the",
    "start": "2547830",
    "end": "2553200"
  },
  {
    "text": "global chubby yeah terrible naming all right I've I have Google or I've more",
    "start": "2553200",
    "end": "2559440"
  },
  {
    "text": "stickers up here I'll take a few more questions and they hang out but thank you so much for your attention",
    "start": "2559440",
    "end": "2564859"
  },
  {
    "text": "you",
    "start": "2564859",
    "end": "2566920"
  }
]