[
  {
    "text": "hi everybody uh thanks for coming to this maintainer Tru session for Sig",
    "start": "120",
    "end": "5160"
  },
  {
    "text": "scheduling uh my name is Alo kondor I work at Google and I'm a TL in the",
    "start": "5160",
    "end": "12559"
  },
  {
    "text": "Sig so I'm K say from marari Japan uh I'm I'm the approver in c schedu",
    "start": "12559",
    "end": "20599"
  },
  {
    "text": "ring so uh we're going to start uh with an",
    "start": "20880",
    "end": "26960"
  },
  {
    "text": "overview of uh the schuer I guess the it's which is the main project within uh",
    "start": "26960",
    "end": "32439"
  },
  {
    "text": "our Sig uh so we'll talk about the basics of it we'll also talk about",
    "start": "32439",
    "end": "39280"
  },
  {
    "text": "what's been happening in the past um the past year and then we'll move on into",
    "start": "39280",
    "end": "45000"
  },
  {
    "text": "sub project updates as a see yes the Schuler is our main pro project but we",
    "start": "45000",
    "end": "51840"
  },
  {
    "text": "have H let's call them incubating or or mature projects that we're also working",
    "start": "51840",
    "end": "57199"
  },
  {
    "text": "on such as the uh the the schedular wasm extension Q the",
    "start": "57199",
    "end": "64080"
  },
  {
    "text": "duler and more more recently uh qua um so we're going to go through all",
    "start": "64080",
    "end": "70200"
  },
  {
    "text": "of these ones uh but let's start with schedular um and uh this is an overview",
    "start": "70200",
    "end": "78360"
  },
  {
    "text": "of uh the multiple steps that the schedular uh executes in order to assign",
    "start": "78360",
    "end": "86200"
  },
  {
    "text": "one pot to a not uh the the the computation for each PO is uh split in",
    "start": "86200",
    "end": "94680"
  },
  {
    "text": "two stages first uh scheduling cycle uh the green box the green the Big Green",
    "start": "94680",
    "end": "101399"
  },
  {
    "text": "Box um which happens serially so every pot that goes through the scaler will go",
    "start": "101399",
    "end": "108079"
  },
  {
    "text": "through this box in a Serial Manner and then we have the binding cycle uh which",
    "start": "108079",
    "end": "115439"
  },
  {
    "text": "uh basically handles the communication with API server and this can be",
    "start": "115439",
    "end": "120560"
  },
  {
    "text": "parallelized uh um so it happens like that um but overall like um the",
    "start": "120560",
    "end": "127920"
  },
  {
    "text": "scheduler is built in a way that we can uh modularize it uh to implement",
    "start": "127920",
    "end": "134800"
  },
  {
    "text": "different um mechanics different uh scheduling attributes um so for example uh you can",
    "start": "134800",
    "end": "143800"
  },
  {
    "text": "say uh the most the most basic scheduling um parameter is whether or",
    "start": "143800",
    "end": "150680"
  },
  {
    "text": "not your your node is full right so that's a yes or no decision uh or what",
    "start": "150680",
    "end": "156160"
  },
  {
    "text": "we call a filter um so you based on the the total allocatable capacity of your",
    "start": "156160",
    "end": "162760"
  },
  {
    "text": "node a PO comes in and you just answer yes or no does it fit does it not fit uh",
    "start": "162760",
    "end": "168800"
  },
  {
    "text": "and of course we have multiple apis that Define different behaviors like uh",
    "start": "168800",
    "end": "173959"
  },
  {
    "text": "affinities not Affinity but Affinity uh topology spreading and so on and so forth uh but all of these uh uh filters",
    "start": "173959",
    "end": "183040"
  },
  {
    "text": "Define a uh give a yes or no uh answer and um further we once we have a set of",
    "start": "183040",
    "end": "192200"
  },
  {
    "text": "candidate nodes where the PO can be scheduled we uh do a scoring uh based on",
    "start": "192200",
    "end": "197959"
  },
  {
    "text": "different criteria could be similar criteria uh and for each for each node we calculate a number that tells us how",
    "start": "197959",
    "end": "205680"
  },
  {
    "text": "good is it to put this pod in this node uh and that's this the scoring phase so",
    "start": "205680",
    "end": "213040"
  },
  {
    "text": "those are the main uh extension points for the scheduler but um once you go",
    "start": "213040",
    "end": "218799"
  },
  {
    "text": "into the wits there's so many uh things you can tweak so we have a few different",
    "start": "218799",
    "end": "224439"
  },
  {
    "text": "extension points um also more uh more recently we",
    "start": "224439",
    "end": "230599"
  },
  {
    "text": "introduced uh a new extension point which is even farther uh on the left on",
    "start": "230599",
    "end": "236200"
  },
  {
    "text": "the left side the um purple box uh which is what we call the pre",
    "start": "236200",
    "end": "242079"
  },
  {
    "text": "inq uh the pre inq um allows us to make",
    "start": "242079",
    "end": "248439"
  },
  {
    "text": "decisions even before we consider the PO for for scheduling uh U the the most",
    "start": "248439",
    "end": "257720"
  },
  {
    "text": "um the most important feature here that uses this uh this semantics is the",
    "start": "257720",
    "end": "264199"
  },
  {
    "text": "scheduling Gates which simply allows different uh it simply allows uh as to",
    "start": "264199",
    "end": "270440"
  },
  {
    "text": "hold the Pod from scheduling until some other controller says yes or no um so",
    "start": "270440",
    "end": "277840"
  },
  {
    "text": "you could have for example a qu manager a qu manager that decides whether or not",
    "start": "277840",
    "end": "283440"
  },
  {
    "text": "the pot is ready to be scheduled uh or well other other uh extension or other",
    "start": "283440",
    "end": "290400"
  },
  {
    "text": "mechanisms to the site so that's uh that's where we are today with the",
    "start": "290400",
    "end": "296080"
  },
  {
    "text": "Schuler um",
    "start": "296080",
    "end": "301520"
  },
  {
    "text": "so from here we will introduce the recent improvements in quand schedule so the first one is a new",
    "start": "301520",
    "end": "308280"
  },
  {
    "text": "feature called match D keys in poort affinity and part an affinity so match D",
    "start": "308280",
    "end": "314639"
  },
  {
    "text": "Keys specifies the keys for the DS uh that should match with the incoming Port",
    "start": "314639",
    "end": "320360"
  },
  {
    "text": "WS so actually we introduce the same feature in Port displ recentry and the",
    "start": "320360",
    "end": "326199"
  },
  {
    "text": "biggest biggest use case here is that uh to like improve the calculation accuracy",
    "start": "326199",
    "end": "333479"
  },
  {
    "text": "during the ring upgrades of deployment let's see how it works with the example",
    "start": "333479",
    "end": "340360"
  },
  {
    "text": "so we have a deartment with a required Port Affinity this port Affinity required parts to be in the same Zone",
    "start": "340360",
    "end": "349560"
  },
  {
    "text": "and let's see how it works if you don't have much level kits so one rolling upgrade for this",
    "start": "349560",
    "end": "357960"
  },
  {
    "text": "deployment so the design I desired outcome here is that all ports from the",
    "start": "357960",
    "end": "364000"
  },
  {
    "text": "new versions uh new version are placed in the same Zone but the schedule takes",
    "start": "364000",
    "end": "369759"
  },
  {
    "text": "both Old and New Ports into consideration during uh Port Affinity",
    "start": "369759",
    "end": "375160"
  },
  {
    "text": "calculation so the New Ports could be like scheduled in both zones because we",
    "start": "375160",
    "end": "381720"
  },
  {
    "text": "have uh ports in both th before so new it's it's going to be like",
    "start": "381720",
    "end": "389560"
  },
  {
    "text": "like this this this so it could end up uh having only one part in the Z which",
    "start": "389560",
    "end": "395319"
  },
  {
    "text": "we don't want to so let's use the M LEL Keys here to",
    "start": "395319",
    "end": "402199"
  },
  {
    "text": "uh with Port temperate hash uh so Port temperate hash is the level key which",
    "start": "402199",
    "end": "407319"
  },
  {
    "text": "all ports from the deployment have uh the value of Port temp Port temperate",
    "start": "407319",
    "end": "413280"
  },
  {
    "text": "hash is different different between each version so we can make the schedule take",
    "start": "413280",
    "end": "418840"
  },
  {
    "text": "only same versions Parts into the consideration during the calculation so let's see again uh the",
    "start": "418840",
    "end": "425639"
  },
  {
    "text": "schedule ignore the old versions parts so only sees the orange ones which is",
    "start": "425639",
    "end": "431120"
  },
  {
    "text": "new ones cool so the result should always be",
    "start": "431120",
    "end": "437080"
  },
  {
    "text": "like all all all orange parts are pressed in the same zone so the next one uh so at the same",
    "start": "437080",
    "end": "445120"
  },
  {
    "text": "time we introduced Mis mat Keys which sounds very similar Mis Matel Keys",
    "start": "445120",
    "end": "450720"
  },
  {
    "text": "specifies the keys for the levels that should not match with the with the with",
    "start": "450720",
    "end": "456800"
  },
  {
    "text": "the incoming poorts are buil so let's see one use case to",
    "start": "456800",
    "end": "461919"
  },
  {
    "text": "understand how it works so this poort have uh poort affinity and poort an",
    "start": "461919",
    "end": "467919"
  },
  {
    "text": "affinity poort Affinity enures this poort goes to not pool which already",
    "start": "467919",
    "end": "473360"
  },
  {
    "text": "have which already has ports from the same tenant and Port an affinity enjo",
    "start": "473360",
    "end": "479440"
  },
  {
    "text": "this port goes to notp which does not have ports from different tenants so I",
    "start": "479440",
    "end": "485080"
  },
  {
    "text": "mean like let's say this port is in tenant a then this port cannot go to",
    "start": "485080",
    "end": "490599"
  },
  {
    "text": "notp which already has ports from like tenant B uh this combination makes it possible",
    "start": "490599",
    "end": "497199"
  },
  {
    "text": "to achieve that uh ports go to npol which has only ports from the same",
    "start": "497199",
    "end": "503520"
  },
  {
    "text": "tenant and all ports from the same tenant are scheduled in the same no pool",
    "start": "503520",
    "end": "510759"
  },
  {
    "text": "the last one we introduced is curing hint so before getting into it uh I have",
    "start": "510759",
    "end": "516719"
  },
  {
    "text": "to describe like a back background knowledge a it about how in general how",
    "start": "516719",
    "end": "522839"
  },
  {
    "text": "ports are moved in the schedule so let's see this example uh we",
    "start": "522839",
    "end": "529880"
  },
  {
    "text": "created we we create a part with a required part ofinity when any parts are",
    "start": "529880",
    "end": "535800"
  },
  {
    "text": "created the schedule will not see such like newly created ports via event 100",
    "start": "535800",
    "end": "542440"
  },
  {
    "text": "and put the such newly created ports into scheduling queue so scheduling",
    "start": "542440",
    "end": "548640"
  },
  {
    "text": "queue is composed of three places uh active queue back of queue and",
    "start": "548640",
    "end": "554760"
  },
  {
    "text": "unschedulable pop uh basically it uh like new newly created ports uh put into",
    "start": "554760",
    "end": "562120"
  },
  {
    "text": "active CU first unless Preen reject it then the schula takes ports from the",
    "start": "562120",
    "end": "569680"
  },
  {
    "text": "active Q 1 by one and schedule them yeah so in this example the sched",
    "start": "569680",
    "end": "577600"
  },
  {
    "text": "cannot find any nodes which satisfy poort Affinity so as we described uh so",
    "start": "577600",
    "end": "583959"
  },
  {
    "text": "each like each scheding constraint is implemented as a paging so in this case",
    "start": "583959",
    "end": "590120"
  },
  {
    "text": "Port Affinity pling rejects this part because it's there there are no place to",
    "start": "590120",
    "end": "595320"
  },
  {
    "text": "like no place satisfy the port Affinity of this part so such rejected Port uh basically put",
    "start": "595320",
    "end": "603519"
  },
  {
    "text": "in the uh unschedulable Port as I emphasize basically uh there are some",
    "start": "603519",
    "end": "608680"
  },
  {
    "text": "exception but we like we don't have uh time uh to get into such detail and yes",
    "start": "608680",
    "end": "616000"
  },
  {
    "text": "uh so at the same time at this time the scheduling queue remembers which plins",
    "start": "616000",
    "end": "622040"
  },
  {
    "text": "uh rejected each part uh so this rejector pluging will be used during uh",
    "start": "622040",
    "end": "627880"
  },
  {
    "text": "ruing process in scheduling Q which is by Qing hint there we go so Qing hint is",
    "start": "627880",
    "end": "635120"
  },
  {
    "text": "a call function per prog uh to decide when to recue when to ret these ports uh",
    "start": "635120",
    "end": "642680"
  },
  {
    "text": "so the schedu keeps watching what happened in the cruster via event H and",
    "start": "642680",
    "end": "648560"
  },
  {
    "text": "cing H from rejector progins uh like cod every time some events happen so in this",
    "start": "648560",
    "end": "656000"
  },
  {
    "text": "example a port Affinity is the failure of this uh of like this thisp encountered uh so",
    "start": "656000",
    "end": "662839"
  },
  {
    "text": "this uh scheduling Q uses queing hint from part prog and like decide when to",
    "start": "662839",
    "end": "669399"
  },
  {
    "text": "rec this p uh so it makes sense because uh this part is rejected by Port",
    "start": "669399",
    "end": "675839"
  },
  {
    "text": "Affinity uh in a like last scheduling cycle so in other words uh this port",
    "start": "675839",
    "end": "682279"
  },
  {
    "text": "will never be schedulable until Port failure is resolved somehow and King",
    "start": "682279",
    "end": "688440"
  },
  {
    "text": "hint is the way to know when it's resolved so we uh King H we aim to avoid",
    "start": "688440",
    "end": "695000"
  },
  {
    "text": "having wasteful scheduling Cycles as much as possible by like retying the",
    "start": "695000",
    "end": "700959"
  },
  {
    "text": "scheduling smartly so back to this example so let's",
    "start": "700959",
    "end": "706360"
  },
  {
    "text": "think about how um Port of failure could could be",
    "start": "706360",
    "end": "711800"
  },
  {
    "text": "resolved so one possible scenario is that an existing part gets uh like new",
    "start": "711800",
    "end": "718320"
  },
  {
    "text": "rubel bar view which matches with this uh unschedule unscheduled ports Port",
    "start": "718320",
    "end": "725120"
  },
  {
    "text": "Affinity so to cover this scenario Port aity has a queing hint for Port updated",
    "start": "725120",
    "end": "732000"
  },
  {
    "text": "event and when the queuing hint finds like such events uh the scheduling C",
    "start": "732000",
    "end": "738480"
  },
  {
    "text": "cues uh thisp into active queue or back of que and the scheder will Ry the scheduling of the over the",
    "start": "738480",
    "end": "745279"
  },
  {
    "text": "Pod this is how uh King hint Works in general so we are actively working on",
    "start": "745279",
    "end": "751519"
  },
  {
    "text": "this queing in queing hint enhancements recentry so weed the deployment of this",
    "start": "751519",
    "end": "758480"
  },
  {
    "text": "uh King hint in 1.28 and uh some injury",
    "start": "758480",
    "end": "764320"
  },
  {
    "text": "progs uh supported curing hints in 1.29 next",
    "start": "764320",
    "end": "771000"
  },
  {
    "text": "prev yep so we will see other notable updates so we introduced skip status in",
    "start": "771000",
    "end": "777360"
  },
  {
    "text": "pref future and preschool uh to avoid execution of corresponding future and school so for example when",
    "start": "777360",
    "end": "785160"
  },
  {
    "text": "part does not have any like Port Affinity requirement then Port Affinity pring can return skip in prefilter and",
    "start": "785160",
    "end": "792560"
  },
  {
    "text": "the schedule won't execute uh like Port uh Port Affinity prog in future",
    "start": "792560",
    "end": "799079"
  },
  {
    "text": "phase also uh schedule configuration B bit 3 is removed in 1.29 so please move",
    "start": "799079",
    "end": "807199"
  },
  {
    "text": "your configuration to one yep so from here we going to like",
    "start": "807199",
    "end": "814680"
  },
  {
    "text": "talk about the S uh no uh sub project",
    "start": "814680",
    "end": "819880"
  },
  {
    "text": "updates the first one is BMA extension so it's uh quite new sub project in s",
    "start": "819880",
    "end": "827760"
  },
  {
    "text": "scheduling uh it's an experimental extension to build scheduling plugins uh",
    "start": "827760",
    "end": "833279"
  },
  {
    "text": "on like what web assembly so we may uh you may hear uh wasn't around the web",
    "start": "833279",
    "end": "840839"
  },
  {
    "text": "browser but actually it started to be used not only in the browser but also in the like bu andite to provide some",
    "start": "840839",
    "end": "848759"
  },
  {
    "text": "extendability so yeah let's see how it works like",
    "start": "848759",
    "end": "853959"
  },
  {
    "text": "uh this project have uh this project has a gan SDK which allows people to develop",
    "start": "853959",
    "end": "860920"
  },
  {
    "text": "progs in a like very similar experience uh to goang existing goang schedule",
    "start": "860920",
    "end": "867800"
  },
  {
    "text": "plugins so on the SDK you just need to implement the interface like this",
    "start": "867800",
    "end": "873240"
  },
  {
    "text": "example and you can like compile it into wasm binary by following uh just",
    "start": "873240",
    "end": "878839"
  },
  {
    "text": "following uh instructions and you can enable your",
    "start": "878839",
    "end": "884360"
  },
  {
    "text": "wasm pling via the schedule configuration like this and you have to pass the like file pass to the binary",
    "start": "884360",
    "end": "892519"
  },
  {
    "text": "and just enable it so when you want to bring your own",
    "start": "892519",
    "end": "898680"
  },
  {
    "text": "logic into the schedu uh you probably implement your own like goong schedu",
    "start": "898680",
    "end": "904160"
  },
  {
    "text": "prog nowadays uh this is the mo most popular way and we also have another",
    "start": "904160",
    "end": "910079"
  },
  {
    "text": "like web F based extension called extender um but it's not as popular as",
    "start": "910079",
    "end": "916079"
  },
  {
    "text": "the goong schedu program because it's less performant and less extendable so not only in the schedule",
    "start": "916079",
    "end": "923399"
  },
  {
    "text": "but uh Quant Community quantis itself has like several extensions in several",
    "start": "923399",
    "end": "929240"
  },
  {
    "text": "components so usually extensions are provided via like web FKS or like gong",
    "start": "929240",
    "end": "936319"
  },
  {
    "text": "pring stuff like the ex extended and goong schu prog in schedu so however",
    "start": "936319",
    "end": "944639"
  },
  {
    "text": "those uh come with like some drawbox uh performance concern on extender or like",
    "start": "944639",
    "end": "951440"
  },
  {
    "text": "need to rebuild your components your schedule and replace schedulers with uh",
    "start": "951440",
    "end": "957000"
  },
  {
    "text": "like your goal progins so was and best extension could",
    "start": "957000",
    "end": "962079"
  },
  {
    "text": "be a solution to these challenges so it alls users to build prog without",
    "start": "962079",
    "end": "967800"
  },
  {
    "text": "worrying about like recompiling replacing and uh like it also perform better than",
    "start": "967800",
    "end": "976880"
  },
  {
    "text": "web based uh Solutions uh so yes I personally be I",
    "start": "976880",
    "end": "983399"
  },
  {
    "text": "personally believe uh what my extension would be like big step not only for us I",
    "start": "983399",
    "end": "989720"
  },
  {
    "text": "mean not for only for S scheding but also for quantis Community to explore",
    "start": "989720",
    "end": "995000"
  },
  {
    "text": "like the possibility of extension via wasm but on the other hand there are",
    "start": "995000",
    "end": "1001319"
  },
  {
    "text": "some disadvantages disadvantages from wasm so the first one is latency impact",
    "start": "1001319",
    "end": "1007920"
  },
  {
    "text": "so as I said it actually much much faster than extenders like web web based",
    "start": "1007920",
    "end": "1014600"
  },
  {
    "text": "uh extension but uh still slower than the G schedule PR obviously because it's",
    "start": "1014600",
    "end": "1021160"
  },
  {
    "text": "needs to go through was was run time so we suppose it will not uh like",
    "start": "1021160",
    "end": "1029720"
  },
  {
    "text": "replace uh existing schedule prag eventually because if you have a very",
    "start": "1029720",
    "end": "1035839"
  },
  {
    "text": "large cluster uh the performance of scheduler is super crucial and the like",
    "start": "1035839",
    "end": "1043600"
  },
  {
    "text": "this latency impact may not be okay for your cruster your huge cruster",
    "start": "1043600",
    "end": "1050400"
  },
  {
    "text": "yes another one is was some pear limitations but yeah we don't have time",
    "start": "1050720",
    "end": "1056640"
  },
  {
    "text": "to getting into like detail here but hope hopefully uh we will have some",
    "start": "1056640",
    "end": "1063200"
  },
  {
    "text": "chance to share knowledge around this so talking about the current status",
    "start": "1063200",
    "end": "1069400"
  },
  {
    "text": "it's an as I said hourly stage and there are many things to do uh actually it",
    "start": "1069400",
    "end": "1075280"
  },
  {
    "text": "only supports the common extension points such as uh pre future future prescho and school and we' like to see",
    "start": "1075280",
    "end": "1082360"
  },
  {
    "text": "all extension points supported as soon as possible so and yeah uh but we",
    "start": "1082360",
    "end": "1090320"
  },
  {
    "text": "currently have some like ex example implementation of was based progins in",
    "start": "1090320",
    "end": "1095760"
  },
  {
    "text": "the repository so you want you can go and see what's happens",
    "start": "1095760",
    "end": "1102159"
  },
  {
    "text": "there the next project uh is I want we want to highlight is Q this is probably",
    "start": "1104360",
    "end": "1111360"
  },
  {
    "text": "at the moment one of the biggest projects in six scheduling uh other than the schu of",
    "start": "1111360",
    "end": "1118159"
  },
  {
    "text": "course um what is what is this offering so you can think of Q as a second level",
    "start": "1118159",
    "end": "1125679"
  },
  {
    "text": "scheduler that takes decisions at the job level uh and the decisions are uh",
    "start": "1125679",
    "end": "1132039"
  },
  {
    "text": "whether or not u a particular uh application a particular team has enough",
    "start": "1132039",
    "end": "1137880"
  },
  {
    "text": "quot to run their uh to run their job uh so",
    "start": "1137880",
    "end": "1144120"
  },
  {
    "text": "uh it takes decisions at the job level as opposed to the PO level like the Schuler um so we can uh",
    "start": "1144120",
    "end": "1153679"
  },
  {
    "text": "um we we can um take Qing decisions uh independently of the size of the job um",
    "start": "1153679",
    "end": "1162880"
  },
  {
    "text": "so it's a it's a resource quot manager uh to offer um some flexibility around",
    "start": "1162880",
    "end": "1171799"
  },
  {
    "text": "uh the quot management it offers two a two- level hierarchy uh so that you can",
    "start": "1171799",
    "end": "1176840"
  },
  {
    "text": "Define uh Fair sharing and borrowing semantics um and once you uh Define",
    "start": "1176840",
    "end": "1183640"
  },
  {
    "text": "borrowing you might also want to do preemption and the preemption here happens at the job level as opposed to",
    "start": "1183640",
    "end": "1190559"
  },
  {
    "text": "uh preempting in the individual pods um alsoe very core to the design of Q is uh",
    "start": "1190559",
    "end": "1197640"
  },
  {
    "text": "fungibility uh which maybe not everybody's familiar with the term but it's uh it's the",
    "start": "1197640",
    "end": "1204840"
  },
  {
    "text": "ability to burst from one type of resource into another uh which could be",
    "start": "1204840",
    "end": "1212280"
  },
  {
    "text": "uh different levels of availability like you could have reservations or on demand VMS or uh uh spot VMS or if we are",
    "start": "1212280",
    "end": "1221080"
  },
  {
    "text": "talking for example about uh accelerators maybe you have different models and you want to run on uh the new",
    "start": "1221080",
    "end": "1228400"
  },
  {
    "text": "Chinese GPU but you're okay running in a in another model so all these semantics",
    "start": "1228400",
    "end": "1234080"
  },
  {
    "text": "can be defined in Q uh again Q works at the job level uh",
    "start": "1234080",
    "end": "1239640"
  },
  {
    "text": "so we need to understand particular apis uh we already support the job API",
    "start": "1239640",
    "end": "1245840"
  },
  {
    "text": "the kubernetes native job API uh as well as uh a newer API in cabs which is job",
    "start": "1245840",
    "end": "1252960"
  },
  {
    "text": "set and we also support all of cube flow uh Cube rate",
    "start": "1252960",
    "end": "1258919"
  },
  {
    "text": "uh through through Ray job and more recently plain pots um and because not",
    "start": "1258919",
    "end": "1265480"
  },
  {
    "text": "everybody Brands like this standard or well known crds we also uh support we",
    "start": "1265480",
    "end": "1272240"
  },
  {
    "text": "have a library so you can extend support for uh any crds and we also added more",
    "start": "1272240",
    "end": "1278080"
  },
  {
    "text": "recently a a new mechanism to in uh inject extra decisions about whether or",
    "start": "1278080",
    "end": "1284880"
  },
  {
    "text": "not a job can be admitted so I want to give a quick overview of uh all the components how",
    "start": "1284880",
    "end": "1292559"
  },
  {
    "text": "all how q and scheduler and other components talk to each other how and",
    "start": "1292559",
    "end": "1298080"
  },
  {
    "text": "how it fits in a batch system uh first of all on the top on the on the left you",
    "start": "1298080",
    "end": "1303919"
  },
  {
    "text": "have uh a cluster administrator or a cluster operator uh they Define how many",
    "start": "1303919",
    "end": "1311440"
  },
  {
    "text": "how much resources can each tenant of the cluster have right so they would Define uh what we call flavor which is",
    "start": "1311440",
    "end": "1319200"
  },
  {
    "text": "which resources you have and uh cues which will have the quotas and on the",
    "start": "1319200",
    "end": "1324919"
  },
  {
    "text": "other hand you have a researcher that probably is not familiar with all the",
    "start": "1324919",
    "end": "1330440"
  },
  {
    "text": "the the internals of kubernetes they just want to run jobs so they have all their backlog of jobs uh and the the the",
    "start": "1330440",
    "end": "1339240"
  },
  {
    "text": "journey for them is very simple they just create a job which could be again a Comm job a q flow job uh so on and so",
    "start": "1339240",
    "end": "1347720"
  },
  {
    "text": "forth so that comes into the API server Q reacts to it Q takes a a quot uh level",
    "start": "1347720",
    "end": "1355840"
  },
  {
    "text": "at a quot uh decision um a quab based",
    "start": "1355840",
    "end": "1361000"
  },
  {
    "text": "decision decides whether or not to admit the job uh it looks at the resource",
    "start": "1361000",
    "end": "1366320"
  },
  {
    "text": "flavors if uh there is quot a particular resource flavor then it will inject uh",
    "start": "1366320",
    "end": "1373279"
  },
  {
    "text": "node affinities Associated to this flavor so that this scheduler can later",
    "start": "1373279",
    "end": "1379799"
  },
  {
    "text": "uh pay attention to these uh node labels and place the pods in that particular",
    "start": "1379799",
    "end": "1385760"
  },
  {
    "text": "flavor uh so that's a step two um here is where the new uh the new features",
    "start": "1385760",
    "end": "1391880"
  },
  {
    "text": "come in 2.1 and 2.2 they highlighted with asteris on red um uh we added this",
    "start": "1391880",
    "end": "1399039"
  },
  {
    "text": "uh external admission checks logic or admission check extensions uh which give",
    "start": "1399039",
    "end": "1405120"
  },
  {
    "text": "us the ability to control um uh have give the control of admission to",
    "start": "1405120",
    "end": "1410919"
  },
  {
    "text": "other controllers um one of such controllers could be is the cluster out",
    "start": "1410919",
    "end": "1416919"
  },
  {
    "text": "scaler uh so um if if you uh your cloud",
    "start": "1416919",
    "end": "1422159"
  },
  {
    "text": "provider supports uh this API uh which in the cluster Autos scare is called the",
    "start": "1422159",
    "end": "1427760"
  },
  {
    "text": "provision and request API uh if they support this API you are able to allow",
    "start": "1427760",
    "end": "1433840"
  },
  {
    "text": "you are able to request a bul a bulk of resources from the cloud provider so you",
    "start": "1433840",
    "end": "1439080"
  },
  {
    "text": "can say uh I have 10 uh 10 or 100 or a th000 pods",
    "start": "1439080",
    "end": "1446679"
  },
  {
    "text": "with this shape can you uh provide them um so we use Q is able to use this API",
    "start": "1446679",
    "end": "1455000"
  },
  {
    "text": "for your job and it will request the the scale up and once the clus scaler",
    "start": "1455000",
    "end": "1460360"
  },
  {
    "text": "responds yes I have I I made a scale up we can proceed with the rest uh of the of the process um",
    "start": "1460360",
    "end": "1468799"
  },
  {
    "text": "on the Lower Side 2.2 uh we have these external checks you can Define your own",
    "start": "1468799",
    "end": "1474360"
  },
  {
    "text": "custom external checks you could for example Implement budgets uh uh we are thinking of",
    "start": "1474360",
    "end": "1482279"
  },
  {
    "text": "implementing multic clusters through through this extension mechanism uh multiple things you can you can do",
    "start": "1482279",
    "end": "1489200"
  },
  {
    "text": "um so that's 2.2 now we have decided the job can run great uh so what does this",
    "start": "1489200",
    "end": "1495760"
  },
  {
    "text": "mean this means that uh now at this point the job controller or Q flow",
    "start": "1495760",
    "end": "1501520"
  },
  {
    "text": "controller uh is able to decide is able to create BS uh so these job controllers",
    "start": "1501520",
    "end": "1509120"
  },
  {
    "text": "go and create pods and up to this point we haven't we haven't used much atcd um storage only",
    "start": "1509120",
    "end": "1518960"
  },
  {
    "text": "at this point we when once we know that the job can run we create all these pods",
    "start": "1518960",
    "end": "1524080"
  },
  {
    "text": "um and once we have the pods Cube scer can do its usual tasks and assign a a",
    "start": "1524080",
    "end": "1531039"
  },
  {
    "text": "note to each of these pods and if you didn't have the provisional request uh",
    "start": "1531039",
    "end": "1536559"
  },
  {
    "text": "support your cluster out scaler can still scale up uh if necessary so as you can see Q doesn't",
    "start": "1536559",
    "end": "1544360"
  },
  {
    "text": "replace any of the existing components it's a it's a higher level scheduler or",
    "start": "1544360",
    "end": "1550600"
  },
  {
    "text": "we like to call it aute uh a queing system uh that plays and um",
    "start": "1550600",
    "end": "1558480"
  },
  {
    "text": "you can plug into your existing cluster and you can even use other schedulers",
    "start": "1558480",
    "end": "1564440"
  },
  {
    "text": "with Q so um quickly because I'm running out",
    "start": "1564440",
    "end": "1570399"
  },
  {
    "text": "of time this is are the the things that are in our mind for for the next releases we just did a release two weeks",
    "start": "1570399",
    "end": "1577520"
  },
  {
    "text": "ago um but we are thinking of uh more visibility group uh uh support for pods",
    "start": "1577520",
    "end": "1585399"
  },
  {
    "text": "groups of PODS as opposed to single pod uh more policies for ruing um also",
    "start": "1585399",
    "end": "1592159"
  },
  {
    "text": "hierarchies we have a two-level hierarchy uh our users are asking for higher levels uh we are thinking of",
    "start": "1592159",
    "end": "1598640"
  },
  {
    "text": "multicluster uh and uh workflows uh we don't want to implement workflows in Q",
    "start": "1598640",
    "end": "1604080"
  },
  {
    "text": "again uh there are many uh great workflow managers like Argo um tecton or",
    "start": "1604080",
    "end": "1612039"
  },
  {
    "text": "u q FL pipelines so on and so forth snake make they they do their job great",
    "start": "1612039",
    "end": "1617799"
  },
  {
    "text": "we want that to work with Q as opposed to Q having to reimplement all that",
    "start": "1617799",
    "end": "1624000"
  },
  {
    "text": "logic um another project uh we have in Cube",
    "start": "1624000",
    "end": "1629120"
  },
  {
    "text": "schul is uh the dular which is as its name suggest is kind of the opposite uh",
    "start": "1629120",
    "end": "1636080"
  },
  {
    "text": "you have lots of running pots um now you have certain policies for when these",
    "start": "1636080",
    "end": "1642559"
  },
  {
    "text": "pots needs to be evicted um so in the",
    "start": "1642559",
    "end": "1647600"
  },
  {
    "text": "new version of uh of disc 0.28 they also follows uh a similar",
    "start": "1647600",
    "end": "1655399"
  },
  {
    "text": "model to the Schuler where they have a dular framework so uh more people more",
    "start": "1655399",
    "end": "1662240"
  },
  {
    "text": "contributors can contribute plugins to the disc to implement different policies",
    "start": "1662240",
    "end": "1667559"
  },
  {
    "text": "um in this new version they uh have guarantees that they have two types of",
    "start": "1667559",
    "end": "1674120"
  },
  {
    "text": "plugins balance and the schedule and they have the guarantee is that the balance balance plugins will run before",
    "start": "1674120",
    "end": "1680240"
  },
  {
    "text": "all the dis schedule plugins and some back fixes on the V2 V1 Alpha 2",
    "start": "1680240",
    "end": "1685519"
  },
  {
    "text": "API um right now the in the last two releases they got n 29 contributors so",
    "start": "1685519",
    "end": "1693399"
  },
  {
    "text": "it's pretty exciting to see um so this is the the",
    "start": "1693399",
    "end": "1698720"
  },
  {
    "text": "framework has some resemblance of the schedular um but what I want to",
    "start": "1698720",
    "end": "1704360"
  },
  {
    "text": "highlight here is that there is these two uh this example there are two profiles uh you can have as many",
    "start": "1704360",
    "end": "1711039"
  },
  {
    "text": "different profiles uh and within the a within a profile you can have uh the",
    "start": "1711039",
    "end": "1718039"
  },
  {
    "text": "schedu plugins and balance plugins what is the scheduled plugins very simple things um they take a decision for one",
    "start": "1718039",
    "end": "1726120"
  },
  {
    "text": "po at a time for example you can have a simple policy such as TTL after X",
    "start": "1726120",
    "end": "1732480"
  },
  {
    "text": "minutes you want this the pods to stop uh that's this a simple example of a",
    "start": "1732480",
    "end": "1739159"
  },
  {
    "text": "discu plugin on the other hand you can have a Balan plugin which takes decisions for groups of pods for example",
    "start": "1739159",
    "end": "1746880"
  },
  {
    "text": "if you want to maintain High availability you probably want to uh maintain certain level of um of",
    "start": "1746880",
    "end": "1755159"
  },
  {
    "text": "homogeneity between different zones right so what uh you can Implement a",
    "start": "1755159",
    "end": "1761000"
  },
  {
    "text": "plug-in to define the semantics or the disc scaler already has this this",
    "start": "1761000",
    "end": "1766440"
  },
  {
    "text": "plugins as well um next I think this yeah this is the",
    "start": "1766440",
    "end": "1772279"
  },
  {
    "text": "last uh sub project qua uh also quite new uh",
    "start": "1772279",
    "end": "1777320"
  },
  {
    "text": "but already 2K GitHub starts which is a lot uh given the the time that it's been",
    "start": "1777320",
    "end": "1785799"
  },
  {
    "text": "um going for uh what is this uh so we have all this this uh schuer scheduling",
    "start": "1785799",
    "end": "1793679"
  },
  {
    "text": "uh projects how do we measure the performance of them how do we simulate",
    "start": "1793679",
    "end": "1800480"
  },
  {
    "text": "before we go into production how do we how do we do simulations of all these",
    "start": "1800480",
    "end": "1805919"
  },
  {
    "text": "scheduling semantics um so this is where quar comes in quar is it its name means uh",
    "start": "1805919",
    "end": "1814519"
  },
  {
    "text": "kubernetes without cuet so basically it's a controller that uh simulates what",
    "start": "1814519",
    "end": "1820480"
  },
  {
    "text": "cuet would do if all these poorts existed um all these nodes existed so we",
    "start": "1820480",
    "end": "1827399"
  },
  {
    "text": "can uh easily run for example a 10,000 uh 10,000 nodes simulation in a single",
    "start": "1827399",
    "end": "1835120"
  },
  {
    "text": "in in one laptop um you don't have to create a a big cluster a big real",
    "start": "1835120",
    "end": "1840480"
  },
  {
    "text": "cluster but you get as close as possible to a real cluster you still have health",
    "start": "1840480",
    "end": "1845919"
  },
  {
    "text": "checks and all this extra load on the API server from the cuets uh and pots can start and can",
    "start": "1845919",
    "end": "1853720"
  },
  {
    "text": "finish um so uh yeah a lot of a lot of feedback in the past uh in the past past",
    "start": "1853720",
    "end": "1861480"
  },
  {
    "text": "months and uh some some highlights uh there is uh um some support through",
    "start": "1861480",
    "end": "1868679"
  },
  {
    "text": "through crds for configuration um qu can run quo is is Deployable in a",
    "start": "1868679",
    "end": "1876039"
  },
  {
    "text": "single image um and now recently uh qu",
    "start": "1876039",
    "end": "1881519"
  },
  {
    "text": "supports potman so you can run qu anywhere pretty much docker potman nctl",
    "start": "1881519",
    "end": "1888039"
  },
  {
    "text": "or even as a binary in your laptop like directly on on your laptop um support",
    "start": "1888039",
    "end": "1895840"
  },
  {
    "text": "for snapshot and restore through quo CTL um um yes and what is coming next um",
    "start": "1895840",
    "end": "1905760"
  },
  {
    "text": "some usage simulation for CPU memory and extra um",
    "start": "1905760",
    "end": "1911000"
  },
  {
    "text": "extra commands through qul so uh lots of projects uh I hope we",
    "start": "1911000",
    "end": "1917840"
  },
  {
    "text": "didn't overwhelm you too much but now we have some minutes for",
    "start": "1917840",
    "end": "1924278"
  },
  {
    "text": "questions is there a mic I can repeat ah there's a microphone right there and you're",
    "start": "1928159",
    "end": "1934720"
  },
  {
    "text": "right thanks for your presentation um one question you mentioned you have the",
    "start": "1937519",
    "end": "1943320"
  },
  {
    "text": "concept for job sets uh can I use it together with MPI jobs bu built a job",
    "start": "1943320",
    "end": "1950559"
  },
  {
    "text": "set from MP jobs for example yes so that is well that's this",
    "start": "1950559",
    "end": "1957120"
  },
  {
    "text": "is s apps domain uh although I I'm fairly familiar with jobet uh the idea",
    "start": "1957120",
    "end": "1963799"
  },
  {
    "text": "of jobset is that you can define a job with multiple templates uh and you can Define some",
    "start": "1963799",
    "end": "1970720"
  },
  {
    "text": "networking for these spots so yes you can use it to implement MPI jobs at the",
    "start": "1970720",
    "end": "1977840"
  },
  {
    "text": "moment there are some complications because in MPI you need you need all",
    "start": "1977840",
    "end": "1984200"
  },
  {
    "text": "this uh what is you need you need a host name file right that contains all the",
    "start": "1984200",
    "end": "1989320"
  },
  {
    "text": "names of all the pods uh so that's something that you probably would have",
    "start": "1989320",
    "end": "1994519"
  },
  {
    "text": "to do it yourself uh job set by itself doesn't provide you with that I cannot mest",
    "start": "1994519",
    "end": "2002200"
  },
  {
    "text": "currently the cube flow MPI drop kind of thing uh so Q",
    "start": "2002200",
    "end": "2007760"
  },
  {
    "text": "flow solve solves all of this already uh",
    "start": "2007760",
    "end": "2012960"
  },
  {
    "text": "but only for one template so you can actually well two templates the driver",
    "start": "2012960",
    "end": "2018039"
  },
  {
    "text": "and the workers but you only have one shape of workers so yes you can Q flow",
    "start": "2018039",
    "end": "2023480"
  },
  {
    "text": "already supports all of that so um that's out of the box uh jobet tries to go a little bit",
    "start": "2023480",
    "end": "2031480"
  },
  {
    "text": "beyond but MPI is It's Tricky okay um yes thank",
    "start": "2031480",
    "end": "2040760"
  },
  {
    "text": "you hi uh I don't know if this is something that's supported in job sets",
    "start": "2041360",
    "end": "2046399"
  },
  {
    "text": "but is there going to be any uh support for like being able to consider a group",
    "start": "2046399",
    "end": "2052000"
  },
  {
    "text": "of jobs to be uh handled by the Q I think it was so I think in your example",
    "start": "2052000",
    "end": "2058560"
  },
  {
    "text": "like you can consider like a single job but if uh if we had some conditions for",
    "start": "2058560",
    "end": "2063638"
  },
  {
    "text": "like I want to schedule a group of jobs and I only want them to be scheduled if",
    "start": "2063639",
    "end": "2069200"
  },
  {
    "text": "all of them can be scheduled or some conditions like that for example like is there any um job set is is about",
    "start": "2069200",
    "end": "2076560"
  },
  {
    "text": "creation so it all what all it does is create pods based on the templates uh",
    "start": "2076560",
    "end": "2083960"
  },
  {
    "text": "scheduling is still in the schedular side and Q so q q knows how to take into",
    "start": "2083960",
    "end": "2091560"
  },
  {
    "text": "account the entire size of the job Set uh so that he can make the decision for the job set",
    "start": "2091560",
    "end": "2097599"
  },
  {
    "text": "uh the scheduler would still take individual uh decisions for each of the",
    "start": "2097599",
    "end": "2103240"
  },
  {
    "text": "pots but there is an open there's an open cap and still an open issue to",
    "start": "2103240",
    "end": "2109000"
  },
  {
    "text": "implement C scheduling we have the C scheduling plug-in in another sub project needs to which needs to be",
    "start": "2109000",
    "end": "2115839"
  },
  {
    "text": "graduated and brought back Upstream but yeah all these pieces we are trying to make them",
    "start": "2115839",
    "end": "2123599"
  },
  {
    "text": "uh uh supported all the way through but we are still on the",
    "start": "2123599",
    "end": "2129720"
  },
  {
    "text": "way I think we are out moment we have okay we're out of",
    "start": "2131880",
    "end": "2138280"
  },
  {
    "text": "time all right thank you thank you for coming thank you very much",
    "start": "2138280",
    "end": "2145000"
  }
]