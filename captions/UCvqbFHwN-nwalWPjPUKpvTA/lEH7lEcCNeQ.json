[
  {
    "text": "hello everyone uh welcome to help my clusters on the internet uh container",
    "start": "80",
    "end": "5520"
  },
  {
    "text": "security fundamentals uh my name is samuel davidson uh there's my linkedin and and website if you're interested",
    "start": "5520",
    "end": "11840"
  },
  {
    "text": "picturing me uh and i will be your tour guide through the wonderful world of container",
    "start": "11840",
    "end": "17199"
  },
  {
    "text": "security in kubernetes uh so again a little bit about me my name is samuel davidson i've been at",
    "start": "17199",
    "end": "22640"
  },
  {
    "text": "google for about three years um two and a half of which i've worked on gke the google kubernetes engine on",
    "start": "22640",
    "end": "28720"
  },
  {
    "text": "the security team um on that team i've done a ton of work with identity and authorization before joining i was a",
    "start": "28720",
    "end": "36559"
  },
  {
    "text": "total kubernetes beginner so i've kind of got that perspective of not knowing what's going on",
    "start": "36559",
    "end": "41600"
  },
  {
    "text": "to knowing a lot about kubernetes security so to the title of the talk uh again",
    "start": "41600",
    "end": "47840"
  },
  {
    "text": "help my clusters on the internet there's your cluster floating around in the cloud of the internet",
    "start": "47840",
    "end": "53120"
  },
  {
    "text": "and typically yeah uh your cluster is on the internet it's how your devs access your api",
    "start": "53120",
    "end": "59039"
  },
  {
    "text": "server and configure workloads and and uh set policy and all that",
    "start": "59039",
    "end": "65280"
  },
  {
    "text": "um and it's how your users can access their pods or their data",
    "start": "65280",
    "end": "70400"
  },
  {
    "text": "or you serve api traffic all that but um as i'm sure you know the internet is a very scary place with uh",
    "start": "70400",
    "end": "77840"
  },
  {
    "text": "bots and trolls and bugs and malicious third parties and bad guys and your developers are making mistakes",
    "start": "77840",
    "end": "84479"
  },
  {
    "text": "and all of these are working against you to compromise your cluster to cause your organization some pain",
    "start": "84479",
    "end": "90320"
  },
  {
    "text": "so uh i'm going to be walking you through a whole bunch of tips and tricks to help mitigate uh all these risks so before we dig into",
    "start": "90320",
    "end": "98479"
  },
  {
    "text": "that let me briefly talk on the structure of this talk um first",
    "start": "98479",
    "end": "103520"
  },
  {
    "text": "we're going to be looking at workload security so the posit containers then cluster security which will be like",
    "start": "103520",
    "end": "109200"
  },
  {
    "text": "the control plane and the nodes and then we'll be looking at user security which is like all of your developers your",
    "start": "109200",
    "end": "115119"
  },
  {
    "text": "automation your ci cd and all that um so starting with workload security there you are with your with your laptop and",
    "start": "115119",
    "end": "122079"
  },
  {
    "text": "you've got a workload to deploy and you want to make it secure what do you do um",
    "start": "122079",
    "end": "127520"
  },
  {
    "text": "first and foremost what you think what do you need to think about is that you need to assume that you'll be owned and this is a recurring theme",
    "start": "127520",
    "end": "133599"
  },
  {
    "text": "throughout the entire talk um uh you've got to assume that there is a",
    "start": "133599",
    "end": "138879"
  },
  {
    "text": "uh there's a yet to be discovered vulnerability in one of your dependencies or in one of your base images",
    "start": "138879",
    "end": "144800"
  },
  {
    "text": "that will allow remote code execution data exfiltration whatever your definition of owned might be",
    "start": "144800",
    "end": "150400"
  },
  {
    "text": "so let's look at a let's look at an example here container one uh has all of these tools",
    "start": "150400",
    "end": "156400"
  },
  {
    "text": "these linux tools file systems a whole bunch of keys full networking capability and container two",
    "start": "156400",
    "end": "162239"
  },
  {
    "text": "is a soft padded baby's crib with a nice purple plastic key that maybe isn't",
    "start": "162239",
    "end": "167280"
  },
  {
    "text": "useful for much just one specific goal now which of these containers would you rather an attacker own right uh there's",
    "start": "167280",
    "end": "174560"
  },
  {
    "text": "container one where they have all the suite of this huge attack surface suite of possibilities uh",
    "start": "174560",
    "end": "179680"
  },
  {
    "text": "or container two where they're kind of trapped in a little cage um obviously this is a jokey analogy but we",
    "start": "179680",
    "end": "186319"
  },
  {
    "text": "want to make our containers look more like container two so how are we gonna do that uh the first and most easy thing you can",
    "start": "186319",
    "end": "192480"
  },
  {
    "text": "do is to use a distrelus base image um if you aren't familiar with distralis",
    "start": "192480",
    "end": "197920"
  },
  {
    "text": "let's take another example here uh we've got debian 10 which is kind of like this big shiny pickup truck",
    "start": "197920",
    "end": "204159"
  },
  {
    "text": "uh this truck's great it's got a big cool shell it has all kinds of fancy features it's got that that you know anti-lock brakes",
    "start": "204159",
    "end": "211440"
  },
  {
    "text": "and and steering assist and whatever else it's got all the cool tools built into debian 10 and it's also running on top",
    "start": "211440",
    "end": "217200"
  },
  {
    "text": "of the debian kernel which would be like the wheels and the engine um the distralis release of",
    "start": "217200",
    "end": "223200"
  },
  {
    "text": "of debian 10 is more like just that kernel it's got the wheels and the engine the bare bones to move forward so mostly",
    "start": "223200",
    "end": "231519"
  },
  {
    "text": "for the most part your workloads do not need that suite of of amazing options that",
    "start": "231519",
    "end": "237519"
  },
  {
    "text": "that debian has baked in and they just act as a basically attack surface that when someone owns their cluster they can use the shell",
    "start": "237519",
    "end": "243840"
  },
  {
    "text": "to ping around to curl all kinds of endpoints within your cluster and cause you a bunch of problems so how",
    "start": "243840",
    "end": "249439"
  },
  {
    "text": "do we transition from debian 10 to the distrolus w intent or whatever other you know distribution",
    "start": "249439",
    "end": "255120"
  },
  {
    "text": "of linux or operating system you're using um it's really easy so here's an example",
    "start": "255120",
    "end": "261840"
  },
  {
    "text": "dockerfile you can see they build their binary with a sort of golang builder image and then",
    "start": "261840",
    "end": "268560"
  },
  {
    "text": "they copy that build that built binary into uh debian 10 and that is sort of the output container",
    "start": "268560",
    "end": "274960"
  },
  {
    "text": "that is used to transition to distralist you simply replace debian 10 with a distralis path to base",
    "start": "274960",
    "end": "281759"
  },
  {
    "text": "debian 10. and again you don't need to be using wn10 there's other distributions there's distalish versions of all kinds of",
    "start": "281759",
    "end": "287520"
  },
  {
    "text": "operating systems but they all strip out sort of all of those tools and shells and stuff that an",
    "start": "287520",
    "end": "292560"
  },
  {
    "text": "attacker might use i just want to note that there's a builder pattern used here where they build the binary before copying it into",
    "start": "292560",
    "end": "298720"
  },
  {
    "text": "the uh the final sort of base image and you will have to do that because the",
    "start": "298720",
    "end": "303840"
  },
  {
    "text": "distro list is so bare bones that compilers won't even really run in them um you want to read up on distralist",
    "start": "303840",
    "end": "310320"
  },
  {
    "text": "pause here go to that bitly link or you can just google distralis super easy super common number three",
    "start": "310320",
    "end": "316880"
  },
  {
    "text": "is you want to make sure that your containers are really easy to rebuild and really easy",
    "start": "316880",
    "end": "322080"
  },
  {
    "text": "to deploy um why is that aside from just the convenience um well typically a lot of the",
    "start": "322080",
    "end": "328639"
  },
  {
    "text": "vulnerabilities the critical vulnerabilities and security issues you'll run into are actually like i said",
    "start": "328639",
    "end": "334080"
  },
  {
    "text": "in your dependencies in the packages you pull in or your base images so often you'll have an exchange like",
    "start": "334080",
    "end": "341600"
  },
  {
    "text": "this where an engineer might come and they say help i've got a critical vulnerability in my container ah",
    "start": "341600",
    "end": "346639"
  },
  {
    "text": "you know uh how much work is this gonna be well if you're uh if your containers are easy to rebuild and deploy you just",
    "start": "346639",
    "end": "353039"
  },
  {
    "text": "bump that dependency number bump the base image edit the docker file you know one line change and let the",
    "start": "353039",
    "end": "360319"
  },
  {
    "text": "ci cd platform take the take the rain so here's a you know a wall of ci cd platforms it's typically",
    "start": "360319",
    "end": "366080"
  },
  {
    "text": "how people accomplish easy rebuilds easy employees um obviously there's a bunch of",
    "start": "366080",
    "end": "371440"
  },
  {
    "text": "recognizable brands there this is taken from the cncf landscape um so i recommend you set up a csd",
    "start": "371440",
    "end": "378840"
  },
  {
    "text": "platform that makes all this whole process easier and similarly you want to trust your",
    "start": "378840",
    "end": "385199"
  },
  {
    "text": "containers with signatures this is another cool feature of the ci cd environment which is",
    "start": "385199",
    "end": "390639"
  },
  {
    "text": "signatures which are also known as binary authorization signed containers image signing binary attestation content",
    "start": "390639",
    "end": "396720"
  },
  {
    "text": "trust depending on the platform or the brand or whatever they use these different names but they're basically the same thing",
    "start": "396720",
    "end": "402800"
  },
  {
    "text": "where whatever built your container whatever your compiled your code and containerized it attaches a signature to it from there",
    "start": "402800",
    "end": "409520"
  },
  {
    "text": "they have a trusted private key that you've given them and they use that private key sign you",
    "start": "409520",
    "end": "414560"
  },
  {
    "text": "know the hash probably of the container and here's an example of how that's",
    "start": "414560",
    "end": "420240"
  },
  {
    "text": "useful is let's say your company has a repository of all your containers and the access control list",
    "start": "420240",
    "end": "427680"
  },
  {
    "text": "for it isn't super well set up so developers can maybe push to it and a developer could make a mistake or",
    "start": "427680",
    "end": "433360"
  },
  {
    "text": "get their credentials compromised and be pushing untrusted buggy",
    "start": "433360",
    "end": "438560"
  },
  {
    "text": "or intentionally malicious code to your repository by building it locally and pushing it with either unsigned or",
    "start": "438560",
    "end": "445360"
  },
  {
    "text": "with an untrusted signature and give it those sort of latest tags so",
    "start": "445360",
    "end": "450400"
  },
  {
    "text": "uh maybe you're naively set up kubernetes cluster would start to pull those containers and run them no questions",
    "start": "450400",
    "end": "456000"
  },
  {
    "text": "asked which is a pretty huge risk so if we utilize signatures we can uh have our trusted ci cd",
    "start": "456000",
    "end": "463840"
  },
  {
    "text": "platform which has that private key that we've given it that we sort of has to have told our cluster to trust",
    "start": "463840",
    "end": "469440"
  },
  {
    "text": "and it will attach signature to that container spits out and our ci cd platform can be",
    "start": "469440",
    "end": "475120"
  },
  {
    "text": "configured to only pull reviewed trusted code in our master or release branches on github for instance",
    "start": "475120",
    "end": "481680"
  },
  {
    "text": "um and signatures have a bunch of other really awesome properties we can we can",
    "start": "481680",
    "end": "486800"
  },
  {
    "text": "use for them in your ci cd platform you can do dependency validation bone scanning",
    "start": "486800",
    "end": "492479"
  },
  {
    "text": "you can run a suite of integration tests and each one of these phases can each have their own signature so",
    "start": "492479",
    "end": "498160"
  },
  {
    "text": "as our reviewed code is compiled and pushed through all these phases",
    "start": "498160",
    "end": "503199"
  },
  {
    "text": "it can get a signature as each of these phases is successful and then the final output container can",
    "start": "503199",
    "end": "508639"
  },
  {
    "text": "have all of these signatures that sort of provide guarantees that we've run all these tests we have run all these dependency",
    "start": "508639",
    "end": "514399"
  },
  {
    "text": "validations and no major issues arose so uh we can then as i said take your",
    "start": "514399",
    "end": "521200"
  },
  {
    "text": "kubernetes cluster and configure it such that it will only admit containers that have these",
    "start": "521200",
    "end": "527680"
  },
  {
    "text": "um for you know valid dependencies past tests and all that and right here you can see i say some",
    "start": "527680",
    "end": "534240"
  },
  {
    "text": "policy engine require signed containers and then a whole bunch of you know public keys for these signatures this is",
    "start": "534240",
    "end": "540000"
  },
  {
    "text": "pseudo code i will discuss more about how to configure your policy engine later at the cluster level",
    "start": "540000",
    "end": "545920"
  },
  {
    "text": "um but just know that for now you want to make sure that your containers do have a trusted signature",
    "start": "545920",
    "end": "550959"
  },
  {
    "text": "pipeline set up for them okay so that was container uh just as a recap assume you'll be",
    "start": "550959",
    "end": "557920"
  },
  {
    "text": "owned use distrolus rebuild your containers or make them easy to rebuild and redeploy",
    "start": "557920",
    "end": "563440"
  },
  {
    "text": "and sign all your containers uh now what about at the pod level so at",
    "start": "563440",
    "end": "568880"
  },
  {
    "text": "the pod level i'm going to be giving all kinds of recommendations that concern the pod spec which is used all over the place um",
    "start": "568880",
    "end": "576240"
  },
  {
    "text": "and these tips all apply there so obviously in your pods you have a pod spec but also in your daemon sets and",
    "start": "576240",
    "end": "581680"
  },
  {
    "text": "jobs and cron jobs and replica sets and staple sets and any other kubernetes resource that might",
    "start": "581680",
    "end": "587040"
  },
  {
    "text": "want a pod spec um it's these tips apply and here's the pot spec reference if you want to pause",
    "start": "587040",
    "end": "593440"
  },
  {
    "text": "and go read the fields uh there's a bitly link so number one uh don't use host path uh this might",
    "start": "593440",
    "end": "599920"
  },
  {
    "text": "seem convenient because it basically takes your container and it gives it a little window into the node's file system you give it",
    "start": "599920",
    "end": "606240"
  },
  {
    "text": "a directory in the nodes file system and your container can mount that directory and can the contents and maybe",
    "start": "606240",
    "end": "612320"
  },
  {
    "text": "you have a key there or config there it's it's convenient it's a nice place to just have those files that you need to",
    "start": "612320",
    "end": "617839"
  },
  {
    "text": "load in at runtime but uh it's it's sort of a very risky",
    "start": "617839",
    "end": "623760"
  },
  {
    "text": "trojan horse you're you're an uh you're setting up for yourself where you don't know where that file system is",
    "start": "623760",
    "end": "629839"
  },
  {
    "text": "gonna be some time from now right you don't you can see all the subfolders maybe the file system is editable by a whole bunch",
    "start": "629839",
    "end": "635839"
  },
  {
    "text": "of other pods and other services so uh it's pretty risky it's it's a",
    "start": "635839",
    "end": "641760"
  },
  {
    "text": "an attacker can explore this file system and pull out all kinds of sensitive so what does it look like in code um",
    "start": "641760",
    "end": "649120"
  },
  {
    "text": "it's under it's a volume field so in your pod definition you would uh here's a very simple example you can",
    "start": "649120",
    "end": "655839"
  },
  {
    "text": "see it just pulls in basic container image and then it mounts a volume we define called key volume and",
    "start": "655839",
    "end": "662800"
  },
  {
    "text": "all keys volume is is host path to some made up directory in this case etc",
    "start": "662800",
    "end": "668880"
  },
  {
    "text": "pod data and you know maybe you did just barely make this folder you only put a config file in there you",
    "start": "668880",
    "end": "675760"
  },
  {
    "text": "trust it you know it's not very scary right now um but like i said earlier what about a",
    "start": "675760",
    "end": "680880"
  },
  {
    "text": "year from now do all of your other developers know not to reuse this pod data folder will other pods start to like",
    "start": "680880",
    "end": "687360"
  },
  {
    "text": "put all kinds of crap in the in the pod data folder um there's just a zillion better ways to",
    "start": "687360",
    "end": "693200"
  },
  {
    "text": "do this so don't do it uh use secrets or something like that which we'll discuss later number two don't use host network and",
    "start": "693200",
    "end": "699680"
  },
  {
    "text": "this is pretty similar it ties your container's network into the nodes network so local host on the node",
    "start": "699680",
    "end": "705519"
  },
  {
    "text": "is localhost on the container it shares the same port range some people do it because it's kind of",
    "start": "705519",
    "end": "710720"
  },
  {
    "text": "convenient for your container to network to other sort of things on the node but it's super risky so in this case the",
    "start": "710720",
    "end": "717920"
  },
  {
    "text": "container can through localhost ping you know the ssh server on the node or the various",
    "start": "717920",
    "end": "722959"
  },
  {
    "text": "kubernetes services and so can an attacker who owns your container um",
    "start": "722959",
    "end": "728480"
  },
  {
    "text": "and the problem the biggest problem here is localhost is kind of treated like a trust domain like things running on",
    "start": "728480",
    "end": "733839"
  },
  {
    "text": "localhost on the node are trusted sort of uh system infrastructure level services not",
    "start": "733839",
    "end": "741120"
  },
  {
    "text": "arbitrary kubernetes workloads so things like the cubelet provide some level of trust",
    "start": "741120",
    "end": "747040"
  },
  {
    "text": "for api requests coming to it from localhost um which an attacker might exploit",
    "start": "747040",
    "end": "753680"
  },
  {
    "text": "so don't use host network um it's just a field on the pod spec so in code here's",
    "start": "753680",
    "end": "758800"
  },
  {
    "text": "another pod example where this pod has host network set to true and it's bound to",
    "start": "758800",
    "end": "764880"
  },
  {
    "text": "the four fours port um just don't include this line if you are using it",
    "start": "764880",
    "end": "770399"
  },
  {
    "text": "you should really look into other networking alternatives see if it's actually something you need or if it was just set there arbitrarily",
    "start": "770399",
    "end": "777200"
  },
  {
    "text": "make sure it's not enabled um number three and this is something that a lot of people probably overlook",
    "start": "777200",
    "end": "782720"
  },
  {
    "text": "which is to be conscious of your pods service account so here's a super simple pod spec",
    "start": "782720",
    "end": "789760"
  },
  {
    "text": "all it has is a container image a path and a name is there you know is there a concern about security or service account credentials",
    "start": "789760",
    "end": "796959"
  },
  {
    "text": "bound to this pod are there credentials loaded in it or do we have any sort of concerns like that",
    "start": "796959",
    "end": "802079"
  },
  {
    "text": "it doesn't look like it it's a very simple pod well the answer is yes uh every pod is bound to a service",
    "start": "802079",
    "end": "808800"
  },
  {
    "text": "account whether you like it or not um if no service account is specified the default",
    "start": "808800",
    "end": "814160"
  },
  {
    "text": "service account is bound which is named default um this pod is in the default namespace",
    "start": "814160",
    "end": "819680"
  },
  {
    "text": "so it gets the default service account in the default namespace",
    "start": "819680",
    "end": "824800"
  },
  {
    "text": "and in this exact pod those credentials to act as that service account are actually loaded in the file system",
    "start": "824800",
    "end": "830480"
  },
  {
    "text": "available to that container at this path under secrets which an attacker who owns this",
    "start": "830480",
    "end": "836320"
  },
  {
    "text": "container now has access to act as and ping your api server and perform all kinds of malicious requests",
    "start": "836320",
    "end": "842560"
  },
  {
    "text": "um and you know such a simple pod spec like this might be running something you don't even trust that much it's just a",
    "start": "842560",
    "end": "848160"
  },
  {
    "text": "test app that might be buggy so it's really something to be aware of on the bright side the default service",
    "start": "848160",
    "end": "853760"
  },
  {
    "text": "account usually isn't bound to anything by default it doesn't have any permissions associated with it",
    "start": "853760",
    "end": "859040"
  },
  {
    "text": "but you never know if someone earlier on went and added permissions to it to like simplify some workflow um",
    "start": "859040",
    "end": "866160"
  },
  {
    "text": "and now it's exposed so thankfully there's a bunch of super",
    "start": "866160",
    "end": "871760"
  },
  {
    "text": "easy uh solutions to this uh first is you just simply bind a sim a different service account name to this",
    "start": "871760",
    "end": "878399"
  },
  {
    "text": "pod so in this case you know i made this service account called simple sa it's brand new it",
    "start": "878399",
    "end": "883519"
  },
  {
    "text": "doesn't have any permissions bound to it and we kind of like trust that it is blank or it has only the bare amount of",
    "start": "883519",
    "end": "888800"
  },
  {
    "text": "permissions needed uh better yet put the pod in a different name space so this time i put the pod in its own",
    "start": "888800",
    "end": "895920"
  },
  {
    "text": "dedicated namespace which is just a best practice regardless because namespaces are a really great",
    "start": "895920",
    "end": "901120"
  },
  {
    "text": "security isolation in our back um or chances are this will work for",
    "start": "901120",
    "end": "908079"
  },
  {
    "text": "basically you and all of your workloads is to just turn off service account token mounting",
    "start": "908079",
    "end": "913360"
  },
  {
    "text": "this field auto mount service account token is that path i showed you earlier and if you set this to false um those",
    "start": "913360",
    "end": "919920"
  },
  {
    "text": "tokens to act as that service account will not be in the file system and that means that you know the workload in the pod can't talk to the",
    "start": "919920",
    "end": "927440"
  },
  {
    "text": "api server but chances are it doesn't need to your your web server or your api server doesn't need to talk to the",
    "start": "927440",
    "end": "933040"
  },
  {
    "text": "kubernetes control plane and make configuration changes or anything like that um i would bet that for 99 of your",
    "start": "933040",
    "end": "939839"
  },
  {
    "text": "workloads you can go and copy paste this config to all of your pod specs",
    "start": "939839",
    "end": "945120"
  },
  {
    "text": "um if you want to learn more here's a bitly link again pause go read for yourself whatever um",
    "start": "945120",
    "end": "951759"
  },
  {
    "text": "recap at the pod level don't use host path don't use host network and pay really close attention to your",
    "start": "951759",
    "end": "957279"
  },
  {
    "text": "pods service account okay so that was the sort of workload security now let's talk about cluster security here you are you did great with",
    "start": "957279",
    "end": "963680"
  },
  {
    "text": "your workload now you're responsible for sort of securing up bits of your actual cluster you are standing in front",
    "start": "963680",
    "end": "970320"
  },
  {
    "text": "of it wondering what to do number one this one's a no-brainer keep your cluster",
    "start": "970320",
    "end": "975920"
  },
  {
    "text": "up to date bugs and vulnerabilities are fixed all the time and that might sound obvious but you",
    "start": "975920",
    "end": "981279"
  },
  {
    "text": "probably relate to this character who has maybe a 116-0 cluster",
    "start": "981279",
    "end": "986399"
  },
  {
    "text": "they got it up and running it's working fine for them and they really don't want to rock the boat um and while i can relate to that you",
    "start": "986399",
    "end": "992720"
  },
  {
    "text": "know updating things is scary and sort of might require rolling",
    "start": "992720",
    "end": "997920"
  },
  {
    "text": "updates and things like that um consider this since the 116-0 release there have been 174 bug fix prs not even",
    "start": "997920",
    "end": "1006800"
  },
  {
    "text": "just pr's total into that release branch the latest patch version is 116",
    "start": "1006800",
    "end": "1011839"
  },
  {
    "text": "14. so you should be updating your cluster to the latest patch version at",
    "start": "1011839",
    "end": "1016880"
  },
  {
    "text": "the very least um and if you're curious about those pr's you can go to this bitly link",
    "start": "1016880",
    "end": "1022480"
  },
  {
    "text": "um updating patch versions should be minimally intrusive you shouldn't have any compatibility issues",
    "start": "1022480",
    "end": "1027678"
  },
  {
    "text": "um and it is a very strong recommendation uh number two and this is finally to the title of the",
    "start": "1027679",
    "end": "1033120"
  },
  {
    "text": "talk help my clusters on the internet well isolate your cluster from the internet um",
    "start": "1033120",
    "end": "1038880"
  },
  {
    "text": "ideally your entire cluster is in a private network or behind an auth proxy it doesn't have",
    "start": "1038880",
    "end": "1044720"
  },
  {
    "text": "any publicly addressable ips to either control plane components the api server",
    "start": "1044720",
    "end": "1049840"
  },
  {
    "text": "or any of your nodes um there should be no way for someone to port scan or just hit",
    "start": "1049840",
    "end": "1055679"
  },
  {
    "text": "your parts of your cluster by just an ip um and you might wonder okay well that",
    "start": "1055679",
    "end": "1061360"
  },
  {
    "text": "sure that's more secure but now my cluster is not very useful it can't my web server doesn't work and my devs can't do anything so what",
    "start": "1061360",
    "end": "1069200"
  },
  {
    "text": "are some solutions to those problems well obviously for your devs and bots you can log them into the network",
    "start": "1069200",
    "end": "1074880"
  },
  {
    "text": "bring them into your vpn maybe your organization already has a vpn set up and you just put your cluster behind it",
    "start": "1074880",
    "end": "1081280"
  },
  {
    "text": "so your devs already have access to it or better or for the other concern",
    "start": "1081280",
    "end": "1087200"
  },
  {
    "text": "your users need to access your nodes this is where you might use like a load balancer or a reverse proxy you put some",
    "start": "1087200",
    "end": "1093280"
  },
  {
    "text": "sort of public load balancing layer that has public ips that customers can access and then those",
    "start": "1093280",
    "end": "1099840"
  },
  {
    "text": "will forward valid traffic within your vpn onto the nodes and they can also have good properties",
    "start": "1099840",
    "end": "1106000"
  },
  {
    "text": "like they can provide dos protection or block random garbage nonsense requests that don't match sort of urls",
    "start": "1106000",
    "end": "1113280"
  },
  {
    "text": "or um another concern might be that your cluster needs internet access your cluster needs to go download",
    "start": "1113280",
    "end": "1119440"
  },
  {
    "text": "configs or images or something in this case you again you can just configure your network to allow egress",
    "start": "1119440",
    "end": "1125200"
  },
  {
    "text": "access and better yet you can add allow deny lists you can block requests to uh you know super trusted",
    "start": "1125200",
    "end": "1133360"
  },
  {
    "text": "site.biz but allow access to your gcr repository or or docker hub or whatever",
    "start": "1133360",
    "end": "1140240"
  },
  {
    "text": "um so you can gain a lot of security benefit there um number three on the cluster security for",
    "start": "1140240",
    "end": "1146880"
  },
  {
    "text": "your secrets use secrets secrets are awesome they're great for access tokens passwords um keys whatever sort of don't use again",
    "start": "1146880",
    "end": "1154400"
  },
  {
    "text": "don't use host host path don't store secrets on your node um",
    "start": "1154400",
    "end": "1159679"
  },
  {
    "text": "secrets also have really great properties as compared to like configmaps or other types of storage",
    "start": "1159679",
    "end": "1165039"
  },
  {
    "text": "which is they are never stored in memory they're never saved on disk to the node or they are stored in memory but never",
    "start": "1165039",
    "end": "1170080"
  },
  {
    "text": "saved on disk to a node um they're only ever stored on disk in scd which you can encrypt",
    "start": "1170080",
    "end": "1175600"
  },
  {
    "text": "um they're loaded as needed so nodes can't request secrets unless their pods",
    "start": "1175600",
    "end": "1181440"
  },
  {
    "text": "scheduled on them request those secrets um they're super easy to set up authorization policy which is great um",
    "start": "1181440",
    "end": "1188160"
  },
  {
    "text": "the only downside is they are limited to one megabyte there really should just be used for keys and tokens and passwords",
    "start": "1188160",
    "end": "1194559"
  },
  {
    "text": "and not for all your configs ever you can use other stuff like configmaps or other larger",
    "start": "1194559",
    "end": "1200640"
  },
  {
    "text": "more permanent storage for those if you want to read more on secrets pause here's a bitly link for you",
    "start": "1200640",
    "end": "1206159"
  },
  {
    "text": "um quick example of what loading a secret into your pod might look like let's say you have some file",
    "start": "1206159",
    "end": "1211919"
  },
  {
    "text": "that used to be on your node naively or it's on a dev workstation you would use something like cube cuddle",
    "start": "1211919",
    "end": "1217600"
  },
  {
    "text": "to create the secret with the api server and the secrets are namespace so you put the secret in the namespace of the app",
    "start": "1217600",
    "end": "1224240"
  },
  {
    "text": "so we have our sensitive app in its own namespace called app sensitive that would create an api object with",
    "start": "1224240",
    "end": "1230400"
  },
  {
    "text": "just that namespace that name and then a base64 encoded secret um and then in our pod spec we simply",
    "start": "1230400",
    "end": "1237440"
  },
  {
    "text": "reference it in a volume so we would mount a new volume we call let's say keys but it can be anything obviously",
    "start": "1237440",
    "end": "1243440"
  },
  {
    "text": "and we reference that secret name and since the namespace is a line that secret will be loaded into the pod",
    "start": "1243440",
    "end": "1249440"
  },
  {
    "text": "at that directory that we told it to which is just great super convenient super easy to use and also much more",
    "start": "1249440",
    "end": "1255760"
  },
  {
    "text": "secure so recap at the cluster level um keep your clusters up to date",
    "start": "1255760",
    "end": "1261679"
  },
  {
    "text": "isolate your cluster from the internet and use secrets um for the node i just repeat isolate your",
    "start": "1261679",
    "end": "1267760"
  },
  {
    "text": "nodes from the internet too that's great you want to isolate the whole cluster from the internet um",
    "start": "1267760",
    "end": "1272799"
  },
  {
    "text": "user security so here you are here's your dev team you did such a great job with the cluster now your company's got",
    "start": "1272799",
    "end": "1278240"
  },
  {
    "text": "a whole bunch of new engineers and you need to make sure that they are while they're uploading all their workloads and making amazing products they are not",
    "start": "1278240",
    "end": "1285200"
  },
  {
    "text": "doing anything to compromise the security of your so number one use rbac and use groups",
    "start": "1285200",
    "end": "1292480"
  },
  {
    "text": "with our back hopefully you're all familiar with rbac you're using rbac to control authorization policy within your cluster",
    "start": "1292480",
    "end": "1298320"
  },
  {
    "text": "if you aren't familiar with rbac just it's the authorization engine built into all kubernetes clusters it has subjects",
    "start": "1298320",
    "end": "1305120"
  },
  {
    "text": "like your your engineers and your robots and your service accounts it has roles that grant permission like the git pod and create",
    "start": "1305120",
    "end": "1311360"
  },
  {
    "text": "pod and delete secret um and then it has bindings between the two so uh just here's an example of what",
    "start": "1311360",
    "end": "1318480"
  },
  {
    "text": "some our back organizational structure might look like here's all your subjects your organization has",
    "start": "1318480",
    "end": "1323840"
  },
  {
    "text": "six engineers and and two robots let's say two service accounts um these all these engineers have",
    "start": "1323840",
    "end": "1331120"
  },
  {
    "text": "different uh sort of roles within companies some are sres some are swees",
    "start": "1331120",
    "end": "1336720"
  },
  {
    "text": "some are security engineers and so you define out all these different roles within our back to sort of provide least privilege for",
    "start": "1336720",
    "end": "1342960"
  },
  {
    "text": "all these subjects you've got admins in some namespace you've got readers and figuration",
    "start": "1342960",
    "end": "1348159"
  },
  {
    "text": "roles and all that and then you would go through all of your different uh engineers or all of your different",
    "start": "1348159",
    "end": "1353360"
  },
  {
    "text": "employees and grant them different role bindings to these sort of least privileged roles that you might",
    "start": "1353360",
    "end": "1359280"
  },
  {
    "text": "need to accomplish their job and at this point all of these arrows represent the",
    "start": "1359280",
    "end": "1364720"
  },
  {
    "text": "role bindings and at this point um you know you're in a pretty good place all of your subjects have access to the things they need",
    "start": "1364720",
    "end": "1370720"
  },
  {
    "text": "hopefully they aren't over privileged if you gave your role some good thought and thought about the bindings in a",
    "start": "1370720",
    "end": "1375840"
  },
  {
    "text": "smart way um everything's in a relatively safe and secure place right here um relatively uh but the problem",
    "start": "1375840",
    "end": "1384240"
  },
  {
    "text": "happens is what happens you know some weeks or months or years from now when let's say bob quits and dave and",
    "start": "1384240",
    "end": "1390559"
  },
  {
    "text": "emily switch roles and your cicd platform is recreated with a new identity and new requirements",
    "start": "1390559",
    "end": "1395919"
  },
  {
    "text": "from the permission system um what do we do now we have this giant web of bindings and we want to make sure",
    "start": "1395919",
    "end": "1403120"
  },
  {
    "text": "that people still have what the access they need but nobody's over privileged this often leads to some pretty terrible",
    "start": "1403120",
    "end": "1409280"
  },
  {
    "text": "like authorization decay of all these bindings where things get really messy and suddenly some employee that quit a",
    "start": "1409280",
    "end": "1417039"
  },
  {
    "text": "year ago has super user on your cluster and nobody knew it right um and that access was never revoked so",
    "start": "1417039",
    "end": "1424960"
  },
  {
    "text": "what's a better way to think about this and that's and that's to use groups so again we have our roles we defined from",
    "start": "1424960",
    "end": "1430480"
  },
  {
    "text": "the previous slide these are again just toy rolls you can do whatever works best for you but instead of going directly to",
    "start": "1430480",
    "end": "1436320"
  },
  {
    "text": "subjects we create groups for each of the sort of different responsibilities within your organization so say you have",
    "start": "1436320",
    "end": "1441360"
  },
  {
    "text": "sres and then you just have engineering and you have ci cd for like deployment and you have a security group for",
    "start": "1441360",
    "end": "1447440"
  },
  {
    "text": "performing audits or something um you can spend a lot of time and thought finding",
    "start": "1447440",
    "end": "1452799"
  },
  {
    "text": "creating bindings between these root these groups and roles in a way that you feel is is very secure",
    "start": "1452799",
    "end": "1458640"
  },
  {
    "text": "you know has least privilege and you know supports the principle of least privilege um",
    "start": "1458640",
    "end": "1464400"
  },
  {
    "text": "and once these are in a really healthy place then you can think about your subjects who is at this organization and who needs to",
    "start": "1464400",
    "end": "1470480"
  },
  {
    "text": "be a part of what group and then that would simply be with these memberships and memberships can be",
    "start": "1470480",
    "end": "1475840"
  },
  {
    "text": "you know time-bound they can be ephemeral it's easy to take a user out of a group and put them in a different group when they change",
    "start": "1475840",
    "end": "1482080"
  },
  {
    "text": "roles um and the memberships can constantly be worked on while the groups to roles binding is",
    "start": "1482080",
    "end": "1488240"
  },
  {
    "text": "like rock solid so one last one thing to note though is that while our back you know you can create bindings to groups",
    "start": "1488240",
    "end": "1494559"
  },
  {
    "text": "groups are typically at your organization on how they're actually implemented maybe it's google groups",
    "start": "1494559",
    "end": "1499679"
  },
  {
    "text": "maybe it's uh some microsoft group thing i don't really know other grouping",
    "start": "1499679",
    "end": "1504960"
  },
  {
    "text": "there's all kinds of grouping software out there um and i'm sure your organization already has one but you can",
    "start": "1504960",
    "end": "1510080"
  },
  {
    "text": "basically plug in uh kubernetes to read through your group which is super awesome for user security if you",
    "start": "1510080",
    "end": "1517279"
  },
  {
    "text": "want to read about rbac there's stuff about groups in there there's bitly link if you want to read about the api spec",
    "start": "1517279",
    "end": "1522320"
  },
  {
    "text": "on all the different fields in rvac again another bitly link pause go here so my final tip and this one's",
    "start": "1522320",
    "end": "1529360"
  },
  {
    "text": "super huge and super amazing is to use a policy agent to protect your cluster um typically uh or what is a policy",
    "start": "1529360",
    "end": "1537120"
  },
  {
    "text": "agent typically it is a kubernetes admission controller which selectively allows or denies",
    "start": "1537120",
    "end": "1543039"
  },
  {
    "text": "kubernetes resource requests based on rules or policies so that was a super heavy sentence you",
    "start": "1543039",
    "end": "1548480"
  },
  {
    "text": "probably fell asleep halfway through it um let me try and explain with what what",
    "start": "1548480",
    "end": "1553520"
  },
  {
    "text": "these things do with an analogy so think about an airport or a ball game",
    "start": "1553520",
    "end": "1558880"
  },
  {
    "text": "these foreign concepts that you may or may not have forgotten about in this pandemic world um when you",
    "start": "1558880",
    "end": "1564320"
  },
  {
    "text": "arrive at these places first you go to like the ticket agent the guy on the left um who would check your identity you",
    "start": "1564320",
    "end": "1570559"
  },
  {
    "text": "would check your ticket make sure you have like a right to proceed or right to go forward um you can you know you could proceed um",
    "start": "1570559",
    "end": "1578799"
  },
  {
    "text": "and then even after that check you still have to walk through a metal detector you might have to put your bag through a",
    "start": "1578799",
    "end": "1584480"
  },
  {
    "text": "scanner um and these scanners enforce policies like no alcohol you know a check for weapons",
    "start": "1584480",
    "end": "1591360"
  },
  {
    "text": "and metal and no full 12 ounce things a toothpaste those are super dangerous as we all know",
    "start": "1591360",
    "end": "1598240"
  },
  {
    "text": "um and so in this analogy on the left the ticket agent is kind of like our back",
    "start": "1598240",
    "end": "1603440"
  },
  {
    "text": "he they know whether or not you have permission to proceed but no matter how super user you are how how many",
    "start": "1603440",
    "end": "1610080"
  },
  {
    "text": "permissions you have you still have to walk through the metal detector and it will still beep whether or not there's someone super",
    "start": "1610080",
    "end": "1615919"
  },
  {
    "text": "special so the the scanners are like the admission controllers and you can set them up for your cluster so rather than checking for alcohol or",
    "start": "1615919",
    "end": "1623360"
  },
  {
    "text": "weapons or toothpaste they can enforce all kinds of best practices within your cluster that we've been discussing throughout these",
    "start": "1623360",
    "end": "1629600"
  },
  {
    "text": "slides host path host network they can you can set policy on service accounts images urls keys are",
    "start": "1629600",
    "end": "1637120"
  },
  {
    "text": "back labels you can require owner labels and there's just a zillion billion uh cool features if you uh that you can",
    "start": "1637120",
    "end": "1644799"
  },
  {
    "text": "set up they also can audit the existing resources within your cluster so you can see if",
    "start": "1644799",
    "end": "1649840"
  },
  {
    "text": "you change policies see what's now out of compliance it's great um",
    "start": "1649840",
    "end": "1655120"
  },
  {
    "text": "and if you're wondering okay well what is a policy agent what's an example there's a bunch of them on the landscape",
    "start": "1655120",
    "end": "1660399"
  },
  {
    "text": "cncf the one i'm familiar with and i've used is opa's gatekeeper probably i think it's got the most stars",
    "start": "1660399",
    "end": "1667200"
  },
  {
    "text": "on that screenshot um it's super easy plug and play if you want to read about it there's a bitly",
    "start": "1667200",
    "end": "1672720"
  },
  {
    "text": "link um so think back 15 minutes ago to this slide um",
    "start": "1672720",
    "end": "1681440"
  },
  {
    "text": "where you have your kubernetes cluster admitting or denying certain containers with some pseudo code policy engine so",
    "start": "1681440",
    "end": "1688080"
  },
  {
    "text": "what's actually going on behind the scenes uh it's these container specs are being passed through",
    "start": "1688080",
    "end": "1693520"
  },
  {
    "text": "your admission control and one of those admission controllers is opa gatekeeper it compares the signatures in the",
    "start": "1693520",
    "end": "1699760"
  },
  {
    "text": "container to gatekeeper policies which might be in github or something and then it will say okay i allow the",
    "start": "1699760",
    "end": "1706159"
  },
  {
    "text": "container that has all these valid signatures and i deny the container that doesn't have the signature it was poorly",
    "start": "1706159",
    "end": "1711279"
  },
  {
    "text": "configured so as a recap for your developers in automation use",
    "start": "1711279",
    "end": "1716399"
  },
  {
    "text": "rbac and groups use a policy agent to protect your cluster um hooray",
    "start": "1716399",
    "end": "1723600"
  },
  {
    "text": "so your workloads cluster and developer are enjoying a much more secure kubernetes experience uh you are recognized for your efforts",
    "start": "1723600",
    "end": "1730399"
  },
  {
    "text": "and compensated handsomely uh you're filled with a sense of satisfaction there you are with your pile of money and your happy kubernetes",
    "start": "1730399",
    "end": "1736559"
  },
  {
    "text": "cluster um so that's awesome so before we go to questions just real quick epilogue here",
    "start": "1736559",
    "end": "1743919"
  },
  {
    "text": "i know that was a lot that was a wall of information that was like 20 plus tips maybe you took good notes you're",
    "start": "1743919",
    "end": "1749919"
  },
  {
    "text": "probably not gonna remember it all um the bright side i made a dock so all the tips and tricks tricks from this",
    "start": "1749919",
    "end": "1756320"
  },
  {
    "text": "from this these slides lots of links all the lots of reading if you want to read more",
    "start": "1756320",
    "end": "1761360"
  },
  {
    "text": "and learn more um plus a ton of other stuff not covered i had to cut so much out of this slide it's already long",
    "start": "1761360",
    "end": "1767279"
  },
  {
    "text": "all kinds of stuff about pods's root cloud security policy namespace isolation basic off yada yada",
    "start": "1767279",
    "end": "1773120"
  },
  {
    "text": "um it is a google doc there's a bitly link bitly sam kubernetes security or sam kde sec",
    "start": "1773120",
    "end": "1780240"
  },
  {
    "text": "um yeah commenting's enabled feel free to ask questions okay any questions all right ending the",
    "start": "1780240",
    "end": "1788799"
  },
  {
    "text": "recording here we go how do i end the recording uh stop",
    "start": "1788799",
    "end": "1795600"
  },
  {
    "text": "hi uh it's me it's sam uh i'm a little sleepier because it's",
    "start": "1795600",
    "end": "1801279"
  },
  {
    "text": "early early in the morning than i was in that video but hello i've been uh watching my recording with all of you um",
    "start": "1801279",
    "end": "1807039"
  },
  {
    "text": "and reading through tons of q a um there's a bunch of questions about slides i'm i know that this is this is",
    "start": "1807039",
    "end": "1813919"
  },
  {
    "text": "all being recorded it's going to be on the youtube um and i think the slides might be available too i'm not sure but",
    "start": "1813919",
    "end": "1819440"
  },
  {
    "text": "also check out that link i suggested at the end this sam kdes security or sam k8s sec sec",
    "start": "1819440",
    "end": "1826720"
  },
  {
    "text": "sec but let me just try and burn through some questions here there are a ton of questions uh a lot of",
    "start": "1826720",
    "end": "1833279"
  },
  {
    "text": "which frankly i don't know the answer to uh this is a huge problem space i kind of on learned",
    "start": "1833279",
    "end": "1839360"
  },
  {
    "text": "i had my knowledge and some knowledge of my team and we all sort of put it together into the slide deck and there's a ton of really",
    "start": "1839360",
    "end": "1845279"
  },
  {
    "text": "excellent questions in here that i don't know the answer to so if i don't get to them google's your friend uh feel free to ask",
    "start": "1845279",
    "end": "1851760"
  },
  {
    "text": "questions in the doc and i'll try and find uh answers for you asynchronously but uh",
    "start": "1851760",
    "end": "1856880"
  },
  {
    "text": "first question uh is basically saying is asking about signatures",
    "start": "1856880",
    "end": "1862080"
  },
  {
    "text": "uh that i have here it's like what what happens if uh poisoned images are signed like",
    "start": "1862080",
    "end": "1868320"
  },
  {
    "text": "what's protecting your cluster from a signed malicious image and that's a great question like the",
    "start": "1868320",
    "end": "1875519"
  },
  {
    "text": "idea is that we want to we want to only give signing keys to trusted building platforms so like we",
    "start": "1875519",
    "end": "1882320"
  },
  {
    "text": "have our cscd platform that engineers can't really touch like someone configured it it has private keys",
    "start": "1882320",
    "end": "1887919"
  },
  {
    "text": "um and that's that's our sort of last hope it trust so that cicd platform does run all its",
    "start": "1887919",
    "end": "1894720"
  },
  {
    "text": "tests and and phone scans and everything and attaches its signature and sure if if our trusted ci cd",
    "start": "1894720",
    "end": "1901519"
  },
  {
    "text": "platform does build a poisoned image we're in a rough place but hopefully we've configured it that",
    "start": "1901519",
    "end": "1906720"
  },
  {
    "text": "it only you know it only allows itself to pull from trusted like base images",
    "start": "1906720",
    "end": "1911760"
  },
  {
    "text": "it does all those bone scans and everything so that's my answer for that um next question let's see it says some",
    "start": "1911760",
    "end": "1917760"
  },
  {
    "text": "monitoring solutions suggest using the usage of host path uh do you consider this malicious what",
    "start": "1917760",
    "end": "1924480"
  },
  {
    "text": "if it's read-only so i saw a lot of questions like this come up a whole bunch and they're great questions because",
    "start": "1924480",
    "end": "1929760"
  },
  {
    "text": "yeah there's these fields that i say don't use uh are used all the time by a whole",
    "start": "1929760",
    "end": "1935519"
  },
  {
    "text": "bunch of different pieces of software so they exist for a reason um and so this to answer this question",
    "start": "1935519",
    "end": "1942159"
  },
  {
    "text": "as well as i think a whole bunch of others is there are probably a ton of amazing",
    "start": "1942159",
    "end": "1947919"
  },
  {
    "text": "software or amazing like plugins for your cluster that does use these fields and it's probably perfectly safe they",
    "start": "1947919",
    "end": "1954799"
  },
  {
    "text": "know what they're doing they're using the field for a reason because it provides some sort of inspection into the clusters networking",
    "start": "1954799",
    "end": "1960320"
  },
  {
    "text": "or something um and they're probably pretty safe to use i think my main recommendation is don't",
    "start": "1960320",
    "end": "1967200"
  },
  {
    "text": "use these fields lightly maybe i should have ordered it like that in my talk um really think about it sometimes they're more convenient to to",
    "start": "1967200",
    "end": "1973679"
  },
  {
    "text": "sort of like plug your container into your network or the file system but it's just it's really risky so and",
    "start": "1973679",
    "end": "1979760"
  },
  {
    "text": "there's tons of better more secure by default ways to sort of achieve your goals so that's",
    "start": "1979760",
    "end": "1985519"
  },
  {
    "text": "sort of what i have to say about that um second another highlighted question i had was again about host network",
    "start": "1985519",
    "end": "1991919"
  },
  {
    "text": "um it was asking about the like cpu consumption of not using host network frankly i",
    "start": "1991919",
    "end": "1997360"
  },
  {
    "text": "don't know anything about that um there are tons of caveats and if cpu if this is a real thing then maybe you",
    "start": "1997360",
    "end": "2003440"
  },
  {
    "text": "need to use host network again these are all suggestions these aren't the one this isn't the 100 secure like",
    "start": "2003440",
    "end": "2009760"
  },
  {
    "text": "follow these rules and you're secure that's that's not what i'm promising here these are just a whole bunch of of you",
    "start": "2009760",
    "end": "2015360"
  },
  {
    "text": "hopefully useful suggestions that you can use on your personal cluster in your organization",
    "start": "2015360",
    "end": "2020799"
  },
  {
    "text": "um another great question is are secrets secured enough aren't they just base64 hashed uh yeah",
    "start": "2020799",
    "end": "2028159"
  },
  {
    "text": "that is a concern um some people some i've read in a like official kubernetes",
    "start": "2028159",
    "end": "2034399"
  },
  {
    "text": "book that secrets are encrypted by default uh they are not they are base64 encoded and saved to",
    "start": "2034399",
    "end": "2040080"
  },
  {
    "text": "etcd in base64 encoded so maybe like a lot of hosted kubernetes",
    "start": "2040080",
    "end": "2046240"
  },
  {
    "text": "offerings like gke and i'm sure the other ones uh do encrypt secrets at rest",
    "start": "2046240",
    "end": "2051599"
  },
  {
    "text": "so you're in a pretty good place the real benefit of secrets is how the kubernetes infrastructure",
    "start": "2051599",
    "end": "2057200"
  },
  {
    "text": "passes them around um they're you know you can set really strong authorization policy",
    "start": "2057200",
    "end": "2062398"
  },
  {
    "text": "on all of them and uh they're like hard to get access to um",
    "start": "2062399",
    "end": "2068560"
  },
  {
    "text": "sure if an attacker gets access to the lcd disc like the the actual storage of ncd",
    "start": "2068560",
    "end": "2074560"
  },
  {
    "text": "then you're in a rough place for a lot of reasons um and yeah they would be able to read secrets so but",
    "start": "2074560",
    "end": "2081440"
  },
  {
    "text": "writing really good authorization policy against your secrets is really the benefit and yeah so hopefully that kind of",
    "start": "2081440",
    "end": "2087280"
  },
  {
    "text": "answers that question um there's questions about distrolus and why it's preferred this is sort of a",
    "start": "2087280",
    "end": "2094960"
  },
  {
    "text": "a bunch of people on my team like distralis i like distrulis um someone was asking about alpine i",
    "start": "2094960",
    "end": "2100560"
  },
  {
    "text": "just did a quick google search and yeah like digitalist doesn't have a default published alpine um",
    "start": "2100560",
    "end": "2107200"
  },
  {
    "text": "image which i thought was interesting um i don't i would need to research in more",
    "start": "2107200",
    "end": "2112880"
  },
  {
    "text": "into it i might post it in my doc uh again bitlydoc bit dot lee sam k8s sec scc",
    "start": "2112880",
    "end": "2121520"
  },
  {
    "text": "um with pascal casing um i don't know the answer to that but it's",
    "start": "2121520",
    "end": "2126880"
  },
  {
    "text": "a good question uh distralis is preferred uh that's another question why is digital is preferred is",
    "start": "2126880",
    "end": "2132160"
  },
  {
    "text": "like i said in the talk it's it's got a very tiny attack surface no package manager which is something i didn't bring up",
    "start": "2132160",
    "end": "2137520"
  },
  {
    "text": "so you you know if your workload gets owned they can't run like apt get you know huge network scanning data",
    "start": "2137520",
    "end": "2145280"
  },
  {
    "text": "exfiltration tool install you know so that's an it's again just small attack surface",
    "start": "2145280",
    "end": "2151200"
  },
  {
    "text": "um let's see there's some questions about how to test",
    "start": "2151200",
    "end": "2156720"
  },
  {
    "text": "cves in already running images um i don't know if i totally understand that question but i think what it's",
    "start": "2156720",
    "end": "2164560"
  },
  {
    "text": "i think basically is as far as my understanding on how to check for cdes is a volts of the way a",
    "start": "2164560",
    "end": "2171200"
  },
  {
    "text": "bone scanning tool works is it basically just checks the base images and all of the packages that",
    "start": "2171200",
    "end": "2177040"
  },
  {
    "text": "pulled in against a giant map of known vulnerabilities and checks if there are any cvs associated with it so you could",
    "start": "2177040",
    "end": "2183200"
  },
  {
    "text": "run a bone scanner on a running container um and get probably a pretty authoritative",
    "start": "2183200",
    "end": "2189359"
  },
  {
    "text": "set of known cvs um there were some questions about the software image i did a bunch of",
    "start": "2189359",
    "end": "2195520"
  },
  {
    "text": "screenshots from the cncf landscape with like opa gatekeeper and a bunch of cicd platforms um",
    "start": "2195520",
    "end": "2201599"
  },
  {
    "text": "those screenshots were not an exhaustive list of solutions for that someone was asking about an azure",
    "start": "2201599",
    "end": "2207040"
  },
  {
    "text": "uh cicd platform i'm sure that azure platform is excellent and if it works great for you use it and",
    "start": "2207040",
    "end": "2212079"
  },
  {
    "text": "there's there's other like there's google ones i didn't put right so the one the images i posted were just",
    "start": "2212079",
    "end": "2217680"
  },
  {
    "text": "the open source ones i kind of like was biasing towards showing off all the cool open source",
    "start": "2217680",
    "end": "2222800"
  },
  {
    "text": "ones like opa gatekeepers totally open source um but they're i'm sure they're super amazing",
    "start": "2222800",
    "end": "2228560"
  },
  {
    "text": "policy engines they're super amazing cxcd platforms that are not open source that maybe you're already using or would",
    "start": "2228560",
    "end": "2234400"
  },
  {
    "text": "be a best fit for you so that's the end of that answer to that um i'm just gonna keep running i don't know",
    "start": "2234400",
    "end": "2240560"
  },
  {
    "text": "when i'm gonna be cut off but uh there are like 200 300 questions",
    "start": "2240560",
    "end": "2246160"
  },
  {
    "text": "and i've answered like six so uh if i don't get to your question again maybe post it",
    "start": "2246160",
    "end": "2251680"
  },
  {
    "text": "in the the the doc sam bitly dot bit dot le slash sam k8s sec um",
    "start": "2251680",
    "end": "2259599"
  },
  {
    "text": "let's see what's another good question there's some questions about using",
    "start": "2259599",
    "end": "2264640"
  },
  {
    "text": "scratch versus distralis um i that's that's a space i'm just not",
    "start": "2264640",
    "end": "2270880"
  },
  {
    "text": "super familiar with i haven't used scratch very much maybe maybe scratch is better i know i'm pretty sure scratch is like a super",
    "start": "2270880",
    "end": "2276880"
  },
  {
    "text": "bare bone space image too so distrolus is not the only super bare bones base image it's just the one i'm",
    "start": "2276880",
    "end": "2282800"
  },
  {
    "text": "familiar with this one my team suggests um to other people and",
    "start": "2282800",
    "end": "2288560"
  },
  {
    "text": "yeah uh so let's see what's another one",
    "start": "2288560",
    "end": "2296640"
  },
  {
    "text": "okay so here's a question that says nice approach to signing binaries after each step but do you have a",
    "start": "2297599",
    "end": "2303200"
  },
  {
    "text": "practical solution in mind i can't find a solution to that oh i see okay so i think he's asked this",
    "start": "2303200",
    "end": "2309440"
  },
  {
    "text": "person's asking um like what is an actual like piece of ci cd",
    "start": "2309440",
    "end": "2316480"
  },
  {
    "text": "software that'll do that for you and i would wager that most do that it's based any i feel like most it's",
    "start": "2316480",
    "end": "2323200"
  },
  {
    "text": "just most ci cd platform probably has like phases that you can set up for your release and yet for each",
    "start": "2323200",
    "end": "2329520"
  },
  {
    "text": "phase you i'm sure you can say like perform a volt scan run this phone scan tool if you know if it didn't return an error um",
    "start": "2329520",
    "end": "2338160"
  },
  {
    "text": "run a little crypto signature on the image right to the next phase i don't actually",
    "start": "2338160",
    "end": "2343520"
  },
  {
    "text": "know exactly how they work but um i'm sure there are a lot",
    "start": "2343520",
    "end": "2349119"
  },
  {
    "text": "of ways to do it um let's see i don't know one",
    "start": "2349119",
    "end": "2356240"
  },
  {
    "text": "uh i feel like i'm out of time but no one is yelling in my ear so i don't really know what's going on",
    "start": "2356240",
    "end": "2361680"
  },
  {
    "text": "um i guess i could talk and go through hundreds of questions um what is the reason that auto mount",
    "start": "2361680",
    "end": "2368160"
  },
  {
    "text": "service account token is not set to false by default that's a great question i don't know um",
    "start": "2368160",
    "end": "2374960"
  },
  {
    "text": "the actually the kubernetes stocks right now i had to double check that during this talk uh they do not specify whether",
    "start": "2374960",
    "end": "2382079"
  },
  {
    "text": "uh it is set to false by default i'm pretty sure it's not because they kind of assume i guess that",
    "start": "2382079",
    "end": "2388160"
  },
  {
    "text": "a lot of workloads will want those service accounts to talk to the api server which is a strange assumption in my mind",
    "start": "2388160",
    "end": "2394160"
  },
  {
    "text": "but uh it it appears that it is true by default so",
    "start": "2394160",
    "end": "2399839"
  },
  {
    "text": "i don't know strange stuff okay i have two more minutes there we go now i know how much longer i've got um",
    "start": "2399839",
    "end": "2406240"
  },
  {
    "text": "let's see i kind of there are so many questions so i'm i again if i don't get to your",
    "start": "2406240",
    "end": "2411359"
  },
  {
    "text": "question i'm sorry um let's see",
    "start": "2411359",
    "end": "2416480"
  },
  {
    "text": "is using allowed host paths considered secure this is when i i saw when the talk was going on this is a",
    "start": "2417119",
    "end": "2423599"
  },
  {
    "text": "great question i didn't know about this field um maybe the talk implies i'm like a super security expert but the security",
    "start": "2423599",
    "end": "2429760"
  },
  {
    "text": "space is just absolutely so huge that oh there's a cool field called that that i didn't know about and it's under",
    "start": "2429760",
    "end": "2435200"
  },
  {
    "text": "pod security policy pod security policy maybe some of you have heard that word before",
    "start": "2435200",
    "end": "2440640"
  },
  {
    "text": "um it i think from my understanding some people on my team who used to like kind of pioneer the pod security policy stuff",
    "start": "2440640",
    "end": "2448000"
  },
  {
    "text": "it's kind of being deprecated in favor of policy agents like opa gatekeeper um",
    "start": "2448000",
    "end": "2455200"
  },
  {
    "text": "but a pod security policy is basically yeah a policy a sort of kubernetes native",
    "start": "2455200",
    "end": "2460400"
  },
  {
    "text": "built-in policy agent where you can tell um you can tell your pods but",
    "start": "2460400",
    "end": "2467920"
  },
  {
    "text": "you can you can specify that like your pod spike can't can't be certain things like it can include certain host paths so",
    "start": "2467920",
    "end": "2473920"
  },
  {
    "text": "there's probably a world where for whatever reason in your",
    "start": "2473920",
    "end": "2479119"
  },
  {
    "text": "organization's infrastructure your organization's computers that ne you really need to mount a host path",
    "start": "2479119",
    "end": "2485040"
  },
  {
    "text": "like a very specific trusted host path like path on the host which is sort of host",
    "start": "2485040",
    "end": "2492079"
  },
  {
    "text": "and you would use like a pods pod security policy spec or a gatekeeper spec um",
    "start": "2492079",
    "end": "2499040"
  },
  {
    "text": "to say this is the only allowed host path um i talk briefly on pod",
    "start": "2499040",
    "end": "2505760"
  },
  {
    "text": "security policy i believe in my um supporting doc that is a summary of this",
    "start": "2505760",
    "end": "2511440"
  },
  {
    "text": "chat also in that doc i kind of structured it so you can make a copy and then you can run through all the",
    "start": "2511440",
    "end": "2516560"
  },
  {
    "text": "bullet on to all the tips and then basically say like this is great i applied with my cluster this",
    "start": "2516560",
    "end": "2521680"
  },
  {
    "text": "is not applicable this doesn't make any sense for me ignoring it so hopefully it's like a big checklist for you",
    "start": "2521680",
    "end": "2527359"
  },
  {
    "text": "that you can either try and see if it works for you or ignore it um let's see if i can just read one more",
    "start": "2527359",
    "end": "2534640"
  },
  {
    "text": "question here um again lots of links lots of questions about getting access to the slides",
    "start": "2534640",
    "end": "2539920"
  },
  {
    "text": "i don't know if the slides themselves will be published but the talk certainly will and you can pause and fast forward and all that",
    "start": "2539920",
    "end": "2545200"
  },
  {
    "text": "um but the slides might be published too i don't know um here's a good one that says cluster",
    "start": "2545200",
    "end": "2551440"
  },
  {
    "text": "update upgrade is a tedious task how can we best automate this with minimal change that's a super",
    "start": "2551440",
    "end": "2557119"
  },
  {
    "text": "great question that frankly i don't know the answer to um i have worked mostly on gke and i guess this is a",
    "start": "2557119",
    "end": "2562880"
  },
  {
    "text": "benefit of managed kubernetes platforms is you like click a button or you make an api call that says upgrade to latest version upgrade to",
    "start": "2562880",
    "end": "2569839"
  },
  {
    "text": "version foo and your cluster spins and you know all of the engineer all the engineering work has already",
    "start": "2569839",
    "end": "2575920"
  },
  {
    "text": "been done by the google engineers or your azure engineers or whatever and your cluster is now on the latest",
    "start": "2575920",
    "end": "2581119"
  },
  {
    "text": "version i don't know what the um best way to automate",
    "start": "2581119",
    "end": "2586400"
  },
  {
    "text": "cluster upgrades but i would bet that that is a super super common google search um",
    "start": "2586400",
    "end": "2591920"
  },
  {
    "text": "i would that's probably a cluster management 101 that you there's tons of software for or",
    "start": "2591920",
    "end": "2597680"
  },
  {
    "text": "tons of best practices tons of blog posts so if i didn't answer your question and it didn't it doesn't sound like i know what",
    "start": "2597680",
    "end": "2603760"
  },
  {
    "text": "i'm even saying which could possibly be true uh just google it and i pray for you that you will find the",
    "start": "2603760",
    "end": "2611119"
  },
  {
    "text": "answers that you desire uh let's see i don't know if i have",
    "start": "2611119",
    "end": "2619040"
  },
  {
    "text": "any more time uh oh okay well i'm about to wrap up one",
    "start": "2619040",
    "end": "2625359"
  },
  {
    "text": "last question is just that like this was going too fast i wasn't able to absorb it all and i did acknowledge that at the end of the slide i",
    "start": "2625359",
    "end": "2631280"
  },
  {
    "text": "it was a dense dense slide um so go to my supporting doc bitly bit dot",
    "start": "2631280",
    "end": "2637040"
  },
  {
    "text": "lee sam kds sec um where you can learn more uh okay so i'm",
    "start": "2637040",
    "end": "2643760"
  },
  {
    "text": "gonna wrap up see ya you're great",
    "start": "2643760",
    "end": "2648240"
  }
]