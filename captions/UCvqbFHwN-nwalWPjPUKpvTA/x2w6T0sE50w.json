[
  {
    "text": "welcome to the kubecon eu 2020 intro to helm i'm bridget krumhout",
    "start": "240",
    "end": "6640"
  },
  {
    "text": "i live in minneapolis podcast with requested devops lead the devops days conferences and",
    "start": "6640",
    "end": "13679"
  },
  {
    "text": "i'm a pm for open source kubernetes ecosystem software at microsoft and i'm mark kuzam",
    "start": "13679",
    "end": "21760"
  },
  {
    "text": "i'm a core maintainer for the helm project i work for the it department at the city of montreal canada",
    "start": "21760",
    "end": "29039"
  },
  {
    "text": "where we've been using helm in production for three years now i'm particularly happy to be part of",
    "start": "29039",
    "end": "34640"
  },
  {
    "text": "kubecon eu because as a montreal native i speak french so see",
    "start": "34640",
    "end": "40800"
  },
  {
    "text": "everybody",
    "start": "42840",
    "end": "45840"
  },
  {
    "text": "all right so so here's what we're going to talk about today first we're going to go through some helm fundamentals like easily installing",
    "start": "49440",
    "end": "56640"
  },
  {
    "text": "software into kubernetes then we'll show you how to get started with charts",
    "start": "56640",
    "end": "61920"
  },
  {
    "text": "which are the packages used by hum we'll also look at the migration from",
    "start": "61920",
    "end": "67520"
  },
  {
    "text": "health version 2 to helm version 3 and that's that's very important for anyone already using helm",
    "start": "67520",
    "end": "73200"
  },
  {
    "text": "v2 and then we'll wrap up with a look at the helm community and don't worry we'll also have concrete demos",
    "start": "73200",
    "end": "79840"
  },
  {
    "text": "throughout the presentation all right so if you're tuning in because",
    "start": "79840",
    "end": "85600"
  },
  {
    "text": "you're hoping to find out what even is helm and why do people use it uh home is a package manager for",
    "start": "85600",
    "end": "92560"
  },
  {
    "text": "kubernetes like homebrew app yum it's the de facto standard for",
    "start": "92560",
    "end": "98240"
  },
  {
    "text": "packaging and deploying kubernetes applications and helm's superhero origin story",
    "start": "98240",
    "end": "105759"
  },
  {
    "text": "is it started as a hackathon project at a small startup called deus in october 2015.",
    "start": "105759",
    "end": "112000"
  },
  {
    "text": "shortly after the kubernetes project itself launched and then google joined the helm project",
    "start": "112000",
    "end": "118079"
  },
  {
    "text": "microsoft acquired dais and helm became very important to many many people",
    "start": "118079",
    "end": "124799"
  },
  {
    "text": "many people like for example the city of montreal as i mentioned we've been using helm since may 2017 and so we offer online",
    "start": "124799",
    "end": "133680"
  },
  {
    "text": "services to our citizens and many of those services are deployed in production using help and now since april 2020 helm",
    "start": "133680",
    "end": "142080"
  },
  {
    "text": "is a fully graduated cncf project it has tens of thousands of github stars",
    "start": "142080",
    "end": "147760"
  },
  {
    "text": "over two million downloads of helm cli every month did you know that helm is",
    "start": "147760",
    "end": "152800"
  },
  {
    "text": "relied on by over 70 percent of kubernetes users that's a lot of users",
    "start": "152800",
    "end": "158800"
  },
  {
    "text": "probably more by now i think that was a number from a cncf survey maybe a year ago so it's probably even",
    "start": "158800",
    "end": "164879"
  },
  {
    "text": "more now let's talk about what helm does for all these users",
    "start": "164879",
    "end": "171200"
  },
  {
    "text": "starting by managing complexity how it makes it easier to define your applications as yaml",
    "start": "171200",
    "end": "177440"
  },
  {
    "text": "charts so you can abstract away business logic and make your apps easier to install it also",
    "start": "177440",
    "end": "184480"
  },
  {
    "text": "lets you update your applications in a consistent repeatable way so that you can mirror behavior across all your",
    "start": "184480",
    "end": "190959"
  },
  {
    "text": "environments you can share public or private charts in a decentralized way",
    "start": "190959",
    "end": "196720"
  },
  {
    "text": "and then there's rollbacks which are technically roll forwards to a past state i i cannot",
    "start": "196720",
    "end": "203599"
  },
  {
    "text": "stress this enough um helm does not provide time travel so this is important to understand with",
    "start": "203599",
    "end": "210400"
  },
  {
    "text": "a rollback any data that's been changed in your database or on your file system",
    "start": "210400",
    "end": "215519"
  },
  {
    "text": "it won't be changed back it's not like restoring a backup or anything what a rollback really does is it makes",
    "start": "215519",
    "end": "222319"
  },
  {
    "text": "it very easy to redeploy an old version maybe because i don't know the latest version you deployed had a big bug in it",
    "start": "222319",
    "end": "228959"
  },
  {
    "text": "and you want to go back to a version that worked before that's what the rollback does",
    "start": "228959",
    "end": "234959"
  },
  {
    "text": "okay but enough talk let's get our hands dirty now let's look at how to get started with helm",
    "start": "235680",
    "end": "242480"
  },
  {
    "text": "for the demos we're going to assume that you already have helm installed but if you don't you can look at the",
    "start": "242480",
    "end": "248239"
  },
  {
    "text": "helm documentation for the particular installation details that are right for you all right so for our first demo we're",
    "start": "248239",
    "end": "254560"
  },
  {
    "text": "going to show you how incredibly easy it is to install software into kubernetes when using",
    "start": "254560",
    "end": "259840"
  },
  {
    "text": "helm we're going to install a web server so an nginx web server into our brand",
    "start": "259840",
    "end": "266160"
  },
  {
    "text": "new namespace today so the first thing i'm going to do is make sure that i have helm",
    "start": "266160",
    "end": "271199"
  },
  {
    "text": "properly installed so as you can see version 324 which is the latest as of today",
    "start": "271199",
    "end": "278240"
  },
  {
    "text": "the next thing i'm going to do is make sure that i can speak to my kubernetes cluster helm can communicate to my kubernetes",
    "start": "278240",
    "end": "284400"
  },
  {
    "text": "cluster and it does that using the variable cubeconfig and a queue config file",
    "start": "284400",
    "end": "290400"
  },
  {
    "text": "just like cubectl does in this case i'm going to use a kind cluster which is kubernetes in docker",
    "start": "290400",
    "end": "297759"
  },
  {
    "text": "which is a test cluster just for today's demo the first thing i'm going to do is create a namespace for our demo",
    "start": "297759",
    "end": "305360"
  },
  {
    "text": "since we're installing nginx let me call it nginx namespace and then i'm going to show you that",
    "start": "305360",
    "end": "312160"
  },
  {
    "text": "nothing's in it so nginx get let's say service as you can see there's nothing get pod",
    "start": "312160",
    "end": "320479"
  },
  {
    "text": "there's nothing and get config map there's clearly nothing i just created in the namespace now we're going to use helm to install",
    "start": "320479",
    "end": "327840"
  },
  {
    "text": "nginx so the command is very simple it's helm install",
    "start": "327840",
    "end": "332880"
  },
  {
    "text": "i'm going to tell it which namespace to use so nginx namespace i'm going to give my",
    "start": "332880",
    "end": "339360"
  },
  {
    "text": "release a name so let's call it engineer's demo this is what i'm going to name what i'm",
    "start": "339360",
    "end": "346479"
  },
  {
    "text": "the software i'm going to run and the recipe for it the chart in helm terminology which we'll talk",
    "start": "346479",
    "end": "353600"
  },
  {
    "text": "about in the second demo is bitnami ngenx so i'm gonna this is the recipe i wanna deploy",
    "start": "353600",
    "end": "359919"
  },
  {
    "text": "and i can just send that command helm then creates all the yaml necessary ships it",
    "start": "359919",
    "end": "366000"
  },
  {
    "text": "off to kubernetes and kubernetes then creates all the proper entities",
    "start": "366000",
    "end": "371759"
  },
  {
    "text": "so if i go back and i check for a service in my namespace you can",
    "start": "371759",
    "end": "377840"
  },
  {
    "text": "now see that oh i have a new service for nginx demo for pods i have a running pod",
    "start": "377840",
    "end": "385600"
  },
  {
    "text": "for my nginx and if i look for a config map i have a",
    "start": "385600",
    "end": "391680"
  },
  {
    "text": "config map for my nginx demo so i'm all set up with my nginx all ready to go",
    "start": "391680",
    "end": "396880"
  },
  {
    "text": "i can also use helm to get information about what's running in my cluster",
    "start": "396880",
    "end": "403520"
  },
  {
    "text": "that's been deployed with helm so if i ask for helm list into that namespace",
    "start": "403520",
    "end": "411919"
  },
  {
    "text": "it shows me that i have one thing deployed i can also ask for the status",
    "start": "411919",
    "end": "418479"
  },
  {
    "text": "also in the namespace of my nginx demo and then it prints me again some",
    "start": "418479",
    "end": "424160"
  },
  {
    "text": "information the name the last time it was deployed the namespace in which it is",
    "start": "424160",
    "end": "429759"
  },
  {
    "text": "current status revision etc etc and some information provided by the software itself beyond installing",
    "start": "429759",
    "end": "437680"
  },
  {
    "text": "extremely easily you can also uninstall very easily so you've seen that multiple",
    "start": "437680",
    "end": "444240"
  },
  {
    "text": "things have been created a service pods config maps deleting each one manually if you want to get rid of that",
    "start": "444240",
    "end": "450560"
  },
  {
    "text": "nginx is a little more complicated so helm provides you a way to delete the whole package at",
    "start": "450560",
    "end": "457039"
  },
  {
    "text": "once so you'll guess it's called the uninstall command",
    "start": "457039",
    "end": "462240"
  },
  {
    "text": "i also specify which namespace so i want to uninstall from that namespace and i just simply",
    "start": "462240",
    "end": "468400"
  },
  {
    "text": "give the name of my release which is called nginx demo",
    "start": "468400",
    "end": "473919"
  },
  {
    "text": "so i send that command and then helm simply wipes out everything so if i go back and i look for my config",
    "start": "473919",
    "end": "481120"
  },
  {
    "text": "map it's gone the service excuse me it's gone and the pod it's gone as well",
    "start": "481120",
    "end": "490159"
  },
  {
    "text": "click intro mark so once we have the helm package manager installed we want to manage packages",
    "start": "490639",
    "end": "497280"
  },
  {
    "text": "with it which means we need to find some of these packages which are known as charts uh helm has taken a decentralized",
    "start": "497280",
    "end": "504960"
  },
  {
    "text": "approach for its charts unlike docker hub for example which is a centralized registry of docker images",
    "start": "504960",
    "end": "510319"
  },
  {
    "text": "though not the only one uh helm instead has catalogs of",
    "start": "510319",
    "end": "515440"
  },
  {
    "text": "different repositories like artifact hub.io or hub.home.sh",
    "start": "515440",
    "end": "520719"
  },
  {
    "text": "and using a catalog you can find the registries that have the charts you want to install it may sound complex but we'll take a",
    "start": "520719",
    "end": "527120"
  },
  {
    "text": "look at how this works so for our second demo we're going to dive into charts",
    "start": "527120",
    "end": "533360"
  },
  {
    "text": "and we're going to show you how you can configure a helm chart to set up and install the software you",
    "start": "533360",
    "end": "540080"
  },
  {
    "text": "care about the way you want it installed on your kubernetes cluster before you get started let me just show",
    "start": "540080",
    "end": "546800"
  },
  {
    "text": "you a little bit about helm completion shell completion which allows us to work with the helm command line",
    "start": "546800",
    "end": "552640"
  },
  {
    "text": "tool much faster so helm provides",
    "start": "552640",
    "end": "558320"
  },
  {
    "text": "the completion command which allows you to source a script that's going to tell the shell",
    "start": "558320",
    "end": "564399"
  },
  {
    "text": "all the available commands flags arguments and you can use it to complete",
    "start": "564399",
    "end": "569440"
  },
  {
    "text": "your commands much faster so for example once i set this up i can do helm install press tab and",
    "start": "569440",
    "end": "576080"
  },
  {
    "text": "it's going to complete it for me so you're going to see i use it extensively throughout the demo",
    "start": "576080",
    "end": "581360"
  },
  {
    "text": "so now let's get started on charts if you want to install a chart you first",
    "start": "581360",
    "end": "586399"
  },
  {
    "text": "need to know which repository it belongs to so if i use the helm repo",
    "start": "586399",
    "end": "591519"
  },
  {
    "text": "list command you're going to see that helm 3 does not ship with a default repository it's up to you",
    "start": "591519",
    "end": "597440"
  },
  {
    "text": "to define which repositories you want to use as we mentioned before there are catalogs available like",
    "start": "597440",
    "end": "604000"
  },
  {
    "text": "helmhub or artifact hub where you can go and look for charts once you've found",
    "start": "604000",
    "end": "609519"
  },
  {
    "text": "which repository they belong to you can tell helm about it that's by using the helm repo ad",
    "start": "609519",
    "end": "616839"
  },
  {
    "text": "command and in this case i want to install nginx and i know it's on the bitnami",
    "start": "616839",
    "end": "623120"
  },
  {
    "text": "repository so i'm going to add it to helm in this case when i list the",
    "start": "623120",
    "end": "628640"
  },
  {
    "text": "repose now i have a repository stored if i want to install a different",
    "start": "628640",
    "end": "636240"
  },
  {
    "text": "software for example nexus i would then look on the catalog i would find out that it's stored",
    "start": "636240",
    "end": "641920"
  },
  {
    "text": "in the sona type regis repository",
    "start": "641920",
    "end": "646959"
  },
  {
    "text": "and i can add this one as well so if i now list my repositories i have",
    "start": "646959",
    "end": "653120"
  },
  {
    "text": "two so helm can now access both and i can decide which to use to install what software i care",
    "start": "653120",
    "end": "659200"
  },
  {
    "text": "about i can also use the helm search command",
    "start": "659200",
    "end": "665760"
  },
  {
    "text": "by using this i can by specifying that i want to search my repositories i can say that i'm interested in the",
    "start": "666079",
    "end": "672880"
  },
  {
    "text": "nexus software and it's going to search all the repositories i have configured",
    "start": "672880",
    "end": "678240"
  },
  {
    "text": "and tell me what are the names of the chart so then i can know which chart i want to install",
    "start": "678240",
    "end": "684079"
  },
  {
    "text": "so now if we want to install nginx i would do helm",
    "start": "684079",
    "end": "690880"
  },
  {
    "text": "search repo nginx and it will show me that i can find it under bitnami",
    "start": "690880",
    "end": "697040"
  },
  {
    "text": "nginx let's see if we have it installed already",
    "start": "697040",
    "end": "702560"
  },
  {
    "text": "helm list everywhere all namespaces i have nothing installed so let's install",
    "start": "702560",
    "end": "707680"
  },
  {
    "text": "nginx like we have done in the first demo so that's helm install",
    "start": "707680",
    "end": "712800"
  },
  {
    "text": "tab i specify the namespace i can use completion again i want to name it nginx demo as we had",
    "start": "712800",
    "end": "721279"
  },
  {
    "text": "last time and i want bitnami ngx",
    "start": "721279",
    "end": "726720"
  },
  {
    "text": "so as you signed the previous demo it's going to install nginx for us and helm",
    "start": "726720",
    "end": "733759"
  },
  {
    "text": "list will show us that it is now available so what did i just do when i",
    "start": "734480",
    "end": "742560"
  },
  {
    "text": "did and install bitnami nginx what is this bitnami nginx chart",
    "start": "742560",
    "end": "749760"
  },
  {
    "text": "what we're going to do is use the pull command to actually download the charts locally so that we can look at what it",
    "start": "749760",
    "end": "756800"
  },
  {
    "text": "it contains so helm pull and i'm going to tell it to",
    "start": "756800",
    "end": "762000"
  },
  {
    "text": "immediately antar the download and i use the same name nginx",
    "start": "762000",
    "end": "768560"
  },
  {
    "text": "from bitnami do this and now it has downloaded for me a",
    "start": "768560",
    "end": "774240"
  },
  {
    "text": "repository called nginx and if i look inside that's the actual content of a",
    "start": "774240",
    "end": "779519"
  },
  {
    "text": "chart so a chart is made up let's not go over everything but the chart is made up of a",
    "start": "779519",
    "end": "785519"
  },
  {
    "text": "chart file which describe the chart and a template directory",
    "start": "785519",
    "end": "791760"
  },
  {
    "text": "which contains all the different yamls that helm will tell kubernetes to instantiate",
    "start": "791760",
    "end": "798959"
  },
  {
    "text": "so in this case there'll be a deployment there might be a horizontal pod autoscaler",
    "start": "798959",
    "end": "805839"
  },
  {
    "text": "an ingress a service etc there's also a values.yaml file",
    "start": "805839",
    "end": "812720"
  },
  {
    "text": "which gives all the different configurable values that i can change from my own",
    "start": "812720",
    "end": "820720"
  },
  {
    "text": "release of nginx my own deployment of engineering so if i look at that file",
    "start": "820720",
    "end": "828560"
  },
  {
    "text": "i'm sorry i have to go inside the nginx repository or directory if i look inside i have",
    "start": "828560",
    "end": "836000"
  },
  {
    "text": "all kinds of different tags that i can change for example by default it specified",
    "start": "836000",
    "end": "844160"
  },
  {
    "text": "that the nginx version i'm installing is this one 119 debian 10r0 and by default",
    "start": "844160",
    "end": "851680"
  },
  {
    "text": "it has all kinds of different things like there's no part annotation",
    "start": "851680",
    "end": "858320"
  },
  {
    "text": "specified but you could specify some the liveness probe the readiness probe",
    "start": "858320",
    "end": "864240"
  },
  {
    "text": "and many many more things so now that i have this i also want to",
    "start": "864240",
    "end": "870399"
  },
  {
    "text": "show you that you can look at this values file without having to actually download the the chart itself you can use the",
    "start": "870399",
    "end": "877519"
  },
  {
    "text": "helm show command show and helm show allows you to show all the",
    "start": "877519",
    "end": "884480"
  },
  {
    "text": "details about a chart only this charts file its readme file or",
    "start": "884480",
    "end": "889839"
  },
  {
    "text": "its values file so in this case let's show the values file and again i specify",
    "start": "889839",
    "end": "895600"
  },
  {
    "text": "bitnami nginx type it to less",
    "start": "895600",
    "end": "900959"
  },
  {
    "text": "and this same file that i just showed you helm shows it to me by downloading it off the internet just for my browsing",
    "start": "900959",
    "end": "908160"
  },
  {
    "text": "pleasure all right so we saw in the file",
    "start": "908160",
    "end": "914320"
  },
  {
    "text": "here that by default the tag that i've installed for nginx is uh",
    "start": "914320",
    "end": "921519"
  },
  {
    "text": "this version so let's confirm that that's actually installed on my kubernetes cluster",
    "start": "921519",
    "end": "926880"
  },
  {
    "text": "if i run this command and i describe my deployment and i look",
    "start": "926880",
    "end": "932480"
  },
  {
    "text": "at the image version it actually tells me that yeah that is correct i've installed",
    "start": "932480",
    "end": "937600"
  },
  {
    "text": "the nginx version 119.1 debian 10 r0 let's say that i want to",
    "start": "937600",
    "end": "944480"
  },
  {
    "text": "upgrade to a newer version i would use the helm upgrade command",
    "start": "944480",
    "end": "951839"
  },
  {
    "text": "so that would be helm upgrade i can do the help and i get all the different",
    "start": "952320",
    "end": "958399"
  },
  {
    "text": "flags that i can use to configure it to configure this command properly so",
    "start": "958399",
    "end": "963600"
  },
  {
    "text": "let's go back and say helm helm upgrade i want to upgrade in the",
    "start": "963600",
    "end": "971199"
  },
  {
    "text": "namespace that i've been using nginx namespace i want to upgrade the release that i've been using",
    "start": "971199",
    "end": "977839"
  },
  {
    "text": "nginxdemo i want to use that bitnami chart",
    "start": "977839",
    "end": "984720"
  },
  {
    "text": "and linux and if i leave it like this it's going to reinstall the same version",
    "start": "984720",
    "end": "990160"
  },
  {
    "text": "of nginx so what i want to do is tell it no i'd like to use a different value for the tag so we're going to",
    "start": "990160",
    "end": "998639"
  },
  {
    "text": "use the flag set to tell the chart that i want to",
    "start": "998639",
    "end": "1004720"
  },
  {
    "text": "tweak it so that i set the image tag yaml value",
    "start": "1004720",
    "end": "1009759"
  },
  {
    "text": "to a different one so here i found a more recent version which is the r14",
    "start": "1009759",
    "end": "1016000"
  },
  {
    "text": "version so i tell nginx to i tell sorry helm to upgrade and it installs nginx again",
    "start": "1017040",
    "end": "1024319"
  },
  {
    "text": "with the new values so in this case it replaces the old one and if i do a helm list minus all",
    "start": "1024319",
    "end": "1033199"
  },
  {
    "text": "all namespaces i see that i'm on revision2 so i've upgraded my nginx version",
    "start": "1033199",
    "end": "1039918"
  },
  {
    "text": "and if i look at cubectl and i again check the version i should",
    "start": "1039919",
    "end": "1045038"
  },
  {
    "text": "now see the new r14 version let's see if that worked",
    "start": "1045039",
    "end": "1051280"
  },
  {
    "text": "and yes kubernetes are now aware that it should be downloading the r14 version",
    "start": "1051280",
    "end": "1058320"
  },
  {
    "text": "the helm upgrade allows you to override certain values like i've showed you directly on the command line with the",
    "start": "1060880",
    "end": "1067360"
  },
  {
    "text": "set flag but when you have many commands that you want to override it's better to use a",
    "start": "1067360",
    "end": "1072880"
  },
  {
    "text": "file so helm upgrade help again has here the",
    "start": "1072880",
    "end": "1080400"
  },
  {
    "text": "minus f or minus values flag which allows me to specify a file where all my different overrides",
    "start": "1080400",
    "end": "1087520"
  },
  {
    "text": "are set up so if i show you i have here a",
    "start": "1087520",
    "end": "1092559"
  },
  {
    "text": "demo values file which contains a new version",
    "start": "1092559",
    "end": "1100080"
  },
  {
    "text": "so let's say i wanted to the r14 version had a problem i wanted to downgrade to r13",
    "start": "1100080",
    "end": "1105840"
  },
  {
    "text": "i can specify a particular pull policy i can set resources which are",
    "start": "1105840",
    "end": "1111919"
  },
  {
    "text": "potentially not set already so for example let's look at the resources if i want to",
    "start": "1111919",
    "end": "1117520"
  },
  {
    "text": "set this up let's look at what's currently set up so if i look at my deployment",
    "start": "1117520",
    "end": "1123360"
  },
  {
    "text": "and i grep for limits because i want to set limits if i graph for limits currently they're not set so in my",
    "start": "1123360",
    "end": "1130240"
  },
  {
    "text": "upgrade and my override i want to set these extra limits to to to control the nginx deployment",
    "start": "1130240",
    "end": "1138400"
  },
  {
    "text": "the way i want so i would use the helm upgrade command",
    "start": "1138400",
    "end": "1145120"
  },
  {
    "text": "but in this case i would specify the minus f flag and i would say use the demo",
    "start": "1145120",
    "end": "1151640"
  },
  {
    "text": "values.yaml file that i just showed you so it's kind of like using the minus set",
    "start": "1151640",
    "end": "1157679"
  },
  {
    "text": "flag multiple times so it will overwrite the image tag the pull policy and set the resource limits so let's do",
    "start": "1157679",
    "end": "1164799"
  },
  {
    "text": "this and then i should point to the right file which",
    "start": "1164799",
    "end": "1171440"
  },
  {
    "text": "is the directory above and now again helm upgrades the nginx version follows my",
    "start": "1171440",
    "end": "1178480"
  },
  {
    "text": "instructions and now if i do helm list",
    "start": "1178480",
    "end": "1183840"
  },
  {
    "text": "i can see i'm at revision three and at vision three it should now have limits let's check",
    "start": "1183840",
    "end": "1191679"
  },
  {
    "text": "do the same if i do a describe on my deployment we actually look at the",
    "start": "1191679",
    "end": "1198320"
  },
  {
    "text": "details you see that now i do have limits and they have been set to what i had originally",
    "start": "1198320",
    "end": "1205280"
  },
  {
    "text": "requested in my overwrite file",
    "start": "1205280",
    "end": "1209280"
  },
  {
    "text": "if i want to look at the content of what's been installed by helm i can",
    "start": "1211760",
    "end": "1217360"
  },
  {
    "text": "use the helm get command helm get allows me to access my kubernetes",
    "start": "1217360",
    "end": "1224080"
  },
  {
    "text": "cluster and download the values file that i've used or the actual yaml files",
    "start": "1224080",
    "end": "1230000"
  },
  {
    "text": "that helm has sent to kubernetes so in this case i would do helm get from the namespace i want",
    "start": "1230000",
    "end": "1238080"
  },
  {
    "text": "the actual command is i want to get the values file i want to do it for my nginx",
    "start": "1238080",
    "end": "1245760"
  },
  {
    "text": "demo and i'll pipe it to less and then you can see that helm tells me when i installed last i",
    "start": "1245760",
    "end": "1252799"
  },
  {
    "text": "used these user supplied values if you want to look at the entire",
    "start": "1252799",
    "end": "1260080"
  },
  {
    "text": "manifest the entire yamo that helm has sent you can say helm get",
    "start": "1260080",
    "end": "1266559"
  },
  {
    "text": "manifest again for the nginx demo and type it to less and you'll see all the different things that",
    "start": "1266559",
    "end": "1273039"
  },
  {
    "text": "helm requested kubernetes to create so there was a config map there was a service with different",
    "start": "1273039",
    "end": "1278720"
  },
  {
    "text": "values in them there was a deployment that was created",
    "start": "1278720",
    "end": "1284720"
  },
  {
    "text": "and that was it for our nginx to work properly",
    "start": "1285520",
    "end": "1291840"
  },
  {
    "text": "so now you've learned how to configure charts using either a values file or the set flag",
    "start": "1291840",
    "end": "1299760"
  },
  {
    "text": "but what if the chart that you want to use doesn't allow you to configure those particular things",
    "start": "1299760",
    "end": "1305440"
  },
  {
    "text": "let's say you want to change something that is not configurable now you're in a little bit of a pickle",
    "start": "1305440",
    "end": "1311840"
  },
  {
    "text": "what you want to do in that case is probably improve the chart itself you probably",
    "start": "1311840",
    "end": "1317360"
  },
  {
    "text": "want to make it more configurable than what it is right now so you would download it using the pull",
    "start": "1317360",
    "end": "1324240"
  },
  {
    "text": "command i would get the bitnami nginx chart i would go into that directory",
    "start": "1324240",
    "end": "1330880"
  },
  {
    "text": "and then i could actually edit the templates and modify them the way i want",
    "start": "1330880",
    "end": "1336000"
  },
  {
    "text": "so that i can do more things than what the configuration of the chart currently allows",
    "start": "1336000",
    "end": "1342240"
  },
  {
    "text": "and if you really want to be nice you might want to consider open sourcing contributing that change",
    "start": "1342240",
    "end": "1348000"
  },
  {
    "text": "to the chart itself so that future deployments other people can do the same thing and benefit from your",
    "start": "1348000",
    "end": "1353520"
  },
  {
    "text": "improvements once you've done that let's say i've modified my nginx chart i can tell him to upgrade",
    "start": "1353520",
    "end": "1359280"
  },
  {
    "text": "using instead of the repository",
    "start": "1359280",
    "end": "1364400"
  },
  {
    "text": "instead of using here bitnami nginx i would say no i want to use my local version which",
    "start": "1364400",
    "end": "1370720"
  },
  {
    "text": "would be dot so because i'm in the nginx repository i can then upgrade",
    "start": "1370720",
    "end": "1376559"
  },
  {
    "text": "to the recipe that's stored locally on my disk helm makes an upgrade",
    "start": "1376559",
    "end": "1384320"
  },
  {
    "text": "helm list minus a and you can see now i have yet another revision that has followed",
    "start": "1384320",
    "end": "1391600"
  },
  {
    "text": "the content of the chart that i had locally on my disk",
    "start": "1391600",
    "end": "1397360"
  },
  {
    "text": "the last thing i want to show you is what if you have a product that you want to deploy into kubernetes",
    "start": "1397440",
    "end": "1402720"
  },
  {
    "text": "how do you have how do you create a chart that might not exist already so a helm helps you with this with the",
    "start": "1402720",
    "end": "1409039"
  },
  {
    "text": "helm create command it's very simple helm create and simply give it a name so i would do",
    "start": "1409039",
    "end": "1414880"
  },
  {
    "text": "my product and helm creates a directory here",
    "start": "1414880",
    "end": "1420559"
  },
  {
    "text": "called my product if i do tree it creates as i had shown you",
    "start": "1420559",
    "end": "1426960"
  },
  {
    "text": "earlier in the demo a charts file if it you want to use",
    "start": "1426960",
    "end": "1432159"
  },
  {
    "text": "dependencies uh in other charts templates is all the by these are example templates you would",
    "start": "1432159",
    "end": "1438159"
  },
  {
    "text": "put the templates that you want to use the yamls that you want to use and a values file and then you can set",
    "start": "1438159",
    "end": "1444400"
  },
  {
    "text": "that up and then you have your own configurable chart for your own product and then you're",
    "start": "1444400",
    "end": "1450880"
  },
  {
    "text": "ready to go and install your product with helm into kubernetes",
    "start": "1450880",
    "end": "1456880"
  },
  {
    "text": "awesome demo mark uh of course we can customize and even make our own charts",
    "start": "1456880",
    "end": "1462240"
  },
  {
    "text": "and there's lots of details in the docs about that so i have a link here you can check that",
    "start": "1462240",
    "end": "1467679"
  },
  {
    "text": "out so maybe you yourself are just getting",
    "start": "1467679",
    "end": "1472799"
  },
  {
    "text": "started with home but your organization already uses home too and it works great why change",
    "start": "1472799",
    "end": "1480240"
  },
  {
    "text": "well the helm project is nearly as old as kubernetes itself so over the last few years kubernetes",
    "start": "1480240",
    "end": "1486799"
  },
  {
    "text": "has evolved a lot and as a result helms original design well",
    "start": "1486799",
    "end": "1491840"
  },
  {
    "text": "it predates many advancements in kubernetes like custom resource definitions kubernetes",
    "start": "1491840",
    "end": "1498159"
  },
  {
    "text": "are back so helm 3 addresses all this seriously like your helm 3 time is now",
    "start": "1498159",
    "end": "1506480"
  },
  {
    "text": "we care about stability and reliability and version 2 is already finished with",
    "start": "1506480",
    "end": "1512640"
  },
  {
    "text": "bug fixes and it'll finish receiving security patches in november 2020. so i understand everyone competes for",
    "start": "1512640",
    "end": "1520400"
  },
  {
    "text": "your attention and it's hard to know which projects you have to undertake and if you do have helm 2 in your",
    "start": "1520400",
    "end": "1525840"
  },
  {
    "text": "organization that you inherited now is the time to convince everyone that home three is the future",
    "start": "1525840",
    "end": "1530960"
  },
  {
    "text": "or the present as a case may be absolutely so what's really different about helm3",
    "start": "1530960",
    "end": "1537840"
  },
  {
    "text": "the most important change is that helm3 directly uses kubernetes api server and that's instead",
    "start": "1537840",
    "end": "1544159"
  },
  {
    "text": "of helm's old server side component which was called tiller with that helm",
    "start": "1544159",
    "end": "1549520"
  },
  {
    "text": "is significantly more tightly integrated with kubernetes but really the real reason behind the",
    "start": "1549520",
    "end": "1556400"
  },
  {
    "text": "getting rid of tiller is all about security now the entire kubernetes are back system",
    "start": "1556400",
    "end": "1562480"
  },
  {
    "text": "applies directly to helm that was something very important for our users",
    "start": "1562480",
    "end": "1568000"
  },
  {
    "text": "and hey if you're new to helm you may see names like galloping hippo in the docks and think",
    "start": "1568000",
    "end": "1575679"
  },
  {
    "text": "what all those fun animal names are no longer a default but if you miss them",
    "start": "1575679",
    "end": "1581760"
  },
  {
    "text": "you can still opt in with generate name otherwise instead of names being",
    "start": "1581760",
    "end": "1588000"
  },
  {
    "text": "auto-generated you'll get an error unless you request auto-generation",
    "start": "1588000",
    "end": "1593279"
  },
  {
    "text": "so you have to produce or provide the name when uh doing a release",
    "start": "1593279",
    "end": "1600320"
  },
  {
    "text": "all right another improvement in helm3 is that we now have library charts a",
    "start": "1600480",
    "end": "1606720"
  },
  {
    "text": "library chart as the name suggests is a chart that allows sharing functions",
    "start": "1606720",
    "end": "1612640"
  },
  {
    "text": "across multiple charts so for example you could set security policies in the library",
    "start": "1612640",
    "end": "1617840"
  },
  {
    "text": "chart and then they would automatically apply to all your other charts uh library chart does not deploy anything itself so you",
    "start": "1617840",
    "end": "1624799"
  },
  {
    "text": "have to understand that what it does is define elements to be used by other charts so",
    "start": "1624799",
    "end": "1630240"
  },
  {
    "text": "really it's about define you'll see the actual code word define",
    "start": "1630240",
    "end": "1635360"
  },
  {
    "text": "and and these charts are really all about code reuse",
    "start": "1635360",
    "end": "1641039"
  },
  {
    "text": "yeah and also if you're new to home when you're reading docs and trying out tutorials keep an eye out",
    "start": "1641039",
    "end": "1647520"
  },
  {
    "text": "for that mention of tiller which we mentioned before um that means that those materials need to be updated",
    "start": "1647520",
    "end": "1653520"
  },
  {
    "text": "for home three because there's no tiller in home three uh the short version as kubernetes has",
    "start": "1653520",
    "end": "1659120"
  },
  {
    "text": "improved to the point where tiller isn't needed anymore so a side effect of removing tiller is",
    "start": "1659120",
    "end": "1666480"
  },
  {
    "text": "that although the releases are simpler now they're actually not backwards compatible so helm v3",
    "start": "1666480",
    "end": "1673200"
  },
  {
    "text": "stores its metadata in the same name space as the resources it creates so",
    "start": "1673200",
    "end": "1680320"
  },
  {
    "text": "there's no more tiller name space for those that have seen it none of that so so that's one of the",
    "start": "1680320",
    "end": "1685799"
  },
  {
    "text": "incompatibilities between version two of helm and version three so it",
    "start": "1685799",
    "end": "1691120"
  },
  {
    "text": "implies that you can't use helm three with a helm 2 release",
    "start": "1691120",
    "end": "1696480"
  },
  {
    "text": "you can't upgrade a helm 2 release directly using helm 3. what you must do",
    "start": "1696480",
    "end": "1702960"
  },
  {
    "text": "instead is first convert your helm 2 release to the helm 3 format using the helm to three plug-in that's",
    "start": "1702960",
    "end": "1710399"
  },
  {
    "text": "provided by the helm community then you can start upgrading using helm directly",
    "start": "1710399",
    "end": "1717520"
  },
  {
    "text": "yeah and that's a good point so let's take a look at what we can do with that helm 2-3",
    "start": "1717760",
    "end": "1724080"
  },
  {
    "text": "plug-in all right let's jump in let's look at helm version now with helm3 the first difference you",
    "start": "1724080",
    "end": "1731039"
  },
  {
    "text": "note is that there's no more server version only the client because there is no more tiller in helm3 and there was much",
    "start": "1731039",
    "end": "1737440"
  },
  {
    "text": "rejoicing so our first step is going to be",
    "start": "1737440",
    "end": "1742640"
  },
  {
    "text": "installing the migration plug-in into helm3",
    "start": "1742640",
    "end": "1748960"
  },
  {
    "text": "and we can see it downloads it installs we can see that the plugin is installed and",
    "start": "1749440",
    "end": "1757440"
  },
  {
    "text": "another difference is that we can see that uh helm3 doesn't",
    "start": "1757440",
    "end": "1763520"
  },
  {
    "text": "come with a stable repository by default this is what we call foreshadowing we'll",
    "start": "1763520",
    "end": "1769520"
  },
  {
    "text": "see what to do with that in a minute so let's take a look at the migration plugin",
    "start": "1769520",
    "end": "1775679"
  },
  {
    "text": "what it does is it can convert releases and it can migrate configuration you can",
    "start": "1775679",
    "end": "1783039"
  },
  {
    "text": "also do some cleanup let's try a dry run this is dry run mode",
    "start": "1783039",
    "end": "1790399"
  },
  {
    "text": "it'll just show us what it's going to do it won't actually do it so you can see that it will create a",
    "start": "1790399",
    "end": "1797440"
  },
  {
    "text": "bunch of folders and you know data directories will copy over anything that was in our",
    "start": "1797440",
    "end": "1805440"
  },
  {
    "text": "helm to install so let's take a look at what's in our home to install right now",
    "start": "1805440",
    "end": "1811039"
  },
  {
    "text": "we have several repositories that are not the default repository we've added a few",
    "start": "1811039",
    "end": "1817360"
  },
  {
    "text": "other ones again helm3 has no repositories by default let's look at our plugins in our home 2",
    "start": "1817360",
    "end": "1824320"
  },
  {
    "text": "cluster we have a few plugins just to have some plugins what plugin do",
    "start": "1824320",
    "end": "1830159"
  },
  {
    "text": "you think we have in home 3 well we have the one we just installed we have the migration plugin",
    "start": "1830159",
    "end": "1836000"
  },
  {
    "text": "but that's it no other plug-ins okay cool so what we can do here",
    "start": "1836000",
    "end": "1842880"
  },
  {
    "text": "is we can do the migration it warns us that we might lose v3 configuration",
    "start": "1842880",
    "end": "1847919"
  },
  {
    "text": "so you know obviously take precautions but this has moved the configuration",
    "start": "1847919",
    "end": "1854799"
  },
  {
    "text": "again from our home 2 to our home 3. let's take a look hey look at that home 3 we now have all those",
    "start": "1854799",
    "end": "1860640"
  },
  {
    "text": "repositories as an option and we have the new plugins from helm2",
    "start": "1860640",
    "end": "1867440"
  },
  {
    "text": "but it didn't overwrite the two to three plugin that we already had in our home three so that was plugins",
    "start": "1867440",
    "end": "1874159"
  },
  {
    "text": "but you may be saying well that's fine but i have a bunch of releases that already exist in my home two",
    "start": "1874159",
    "end": "1879760"
  },
  {
    "text": "cluster and i would also like to preserve them i'd like to move them over okay so",
    "start": "1879760",
    "end": "1886159"
  },
  {
    "text": "again we've moved configuration but let's take a look at what's in the helm2 cluster",
    "start": "1886159",
    "end": "1891679"
  },
  {
    "text": "we have some stuff that was released yesterday and just to make sure you see we have",
    "start": "1891679",
    "end": "1897360"
  },
  {
    "text": "nothing up our sleeve our helm 3 has nothing installed in it",
    "start": "1897360",
    "end": "1902880"
  },
  {
    "text": "right now so say we want to pick one of these um let's take a look at what the convert",
    "start": "1902880",
    "end": "1908880"
  },
  {
    "text": "tool does and of course it has a dry run option as well it has options for if tiller is in a",
    "start": "1908880",
    "end": "1916080"
  },
  {
    "text": "different name space as options if tiller is not even running in your cluster so depending on",
    "start": "1916080",
    "end": "1921600"
  },
  {
    "text": "what your helm 2 looks like you may need some of those options but we're going with a really simple path",
    "start": "1921600",
    "end": "1926720"
  },
  {
    "text": "here we're just going to convert that postgres release we're doing it in drive red mode first",
    "start": "1926720",
    "end": "1932159"
  },
  {
    "text": "and we can see all right it's just going to create a copy of that postgres release which we only had one version again this",
    "start": "1932159",
    "end": "1938480"
  },
  {
    "text": "is the simplest possible case but you can extrapolate from this so let's take a look",
    "start": "1938480",
    "end": "1945519"
  },
  {
    "text": "we converted the postgres release and note that it says that the v2 still remains",
    "start": "1946640",
    "end": "1952720"
  },
  {
    "text": "so again this doesn't do anything to our v2 cluster that we already had running that was hope you know",
    "start": "1952720",
    "end": "1959039"
  },
  {
    "text": "presumably production and important and we definitely didn't want to break in any way it's all",
    "start": "1959039",
    "end": "1964240"
  },
  {
    "text": "still there but and this is what where it gets interesting check it out the helm3 stuff that we",
    "start": "1964240",
    "end": "1972320"
  },
  {
    "text": "just brought over it was",
    "start": "1972320",
    "end": "1977519"
  },
  {
    "text": "running in the old cluster a day ago and we've brought over that exact release that was updated at that exact date",
    "start": "1977519",
    "end": "1984399"
  },
  {
    "text": "we didn't do a new deployment of postgres we brought over the one from before nicely explained bridget",
    "start": "1984399",
    "end": "1991440"
  },
  {
    "text": "that was very good so so let's talk about what we just saw v2 and v3 have different resource artifacts",
    "start": "1991440",
    "end": "1999039"
  },
  {
    "text": "they have different ways of working with kubernetes so what does it really mean it means that you must",
    "start": "1999039",
    "end": "2004880"
  },
  {
    "text": "take the time to migrate your helm v2 releases to helm v3 you cannot simply do a normal",
    "start": "2004880",
    "end": "2011360"
  },
  {
    "text": "in place upgrade using hill that's the whole point of the 2-3 plug-in bridges has just shown you",
    "start": "2011360",
    "end": "2019279"
  },
  {
    "text": "so if that seems like a lot the tldr is you want to make sure you're using home three today but we're here to help",
    "start": "2019279",
    "end": "2026640"
  },
  {
    "text": "the community has written a detailed faq that's on the doc site and we even did some cncf webinars all",
    "start": "2026640",
    "end": "2033919"
  },
  {
    "text": "about helm3 and the conversion process absolutely",
    "start": "2033919",
    "end": "2039039"
  },
  {
    "text": "and i think people should know that helm is a very active and welcoming community if you want to get involved there are",
    "start": "2039039",
    "end": "2044960"
  },
  {
    "text": "many ways to do so you can improve documentation by doing documentation pull requests",
    "start": "2044960",
    "end": "2050878"
  },
  {
    "text": "you can also take a look at existing issues and see if any interests you you could work on them some of them are",
    "start": "2050879",
    "end": "2057679"
  },
  {
    "text": "even marked as good first issue or help wanted the bottom line is that",
    "start": "2057679",
    "end": "2062720"
  },
  {
    "text": "we look forward to meeting you and don't be shy yeah and the project twitter handle will",
    "start": "2062720",
    "end": "2068878"
  },
  {
    "text": "tweet out releases and other news and kubernetes slack you can also connect with the project on channel",
    "start": "2068879",
    "end": "2075520"
  },
  {
    "text": "home dash users and channel helm dash dev and channel charts and we also have mailing lists and a",
    "start": "2075520",
    "end": "2082560"
  },
  {
    "text": "community call every thursday you could hang out with us every week and thank you for spending your time",
    "start": "2082560",
    "end": "2088878"
  },
  {
    "text": "with us today see you in the community and happy homing everybody",
    "start": "2088879",
    "end": "2096078"
  },
  {
    "text": "bye-bye",
    "start": "2096440",
    "end": "2099440"
  }
]