[
  {
    "start": "0",
    "end": "70000"
  },
  {
    "text": "okay hi good morning everyone welcome",
    "start": "30",
    "end": "5959"
  },
  {
    "text": "I am Sudhir Prasad product management director for container stories at Red",
    "start": "6750",
    "end": "12240"
  },
  {
    "text": "Hat I have with me a knit Cluett she is senior Software Architect very well",
    "start": "12240",
    "end": "19350"
  },
  {
    "text": "versed in kubernetes and storage civil lead the demo for us we also have Michael Adam who is heading",
    "start": "19350",
    "end": "26250"
  },
  {
    "text": "the manager and lead for CNS engineering Jose and Erin who actively contribute on",
    "start": "26250",
    "end": "34200"
  },
  {
    "text": "and developer in the cns world so if you guys have any deeper question they will",
    "start": "34200",
    "end": "40079"
  },
  {
    "text": "definitely be staying here for after the session to talk about it",
    "start": "40079",
    "end": "45410"
  },
  {
    "text": "so I think most of you guys are familiar about kubernetes and how you can run your estate full applications with it",
    "start": "47120",
    "end": "53039"
  },
  {
    "text": "right today we'll go and see that you know can we run the storage on the",
    "start": "53039",
    "end": "58079"
  },
  {
    "text": "kubernetes platform it why we are treating that differently can it be treated as any other service and become",
    "start": "58079",
    "end": "65700"
  },
  {
    "text": "a part of the platform so if we look at",
    "start": "65700",
    "end": "71250"
  },
  {
    "text": "the persistent storage right and I categorize them in in three broad categories the first one is basically",
    "start": "71250",
    "end": "78509"
  },
  {
    "text": "the platform infrastructure needs right its registry logging metrics if you have",
    "start": "78509",
    "end": "83640"
  },
  {
    "text": "other management application things like that right this is basically persistent storage needs for running the",
    "start": "83640",
    "end": "89220"
  },
  {
    "text": "infrastructure writing the component kubernetes platform itself and the second one is your application",
    "start": "89220",
    "end": "96020"
  },
  {
    "text": "persistent needs the data you know input data what you need are the results of analytics and things like that and the",
    "start": "96020",
    "end": "102509"
  },
  {
    "text": "last one is mostly a local storage I ephemeral storage and traditionally for",
    "start": "102509",
    "end": "108540"
  },
  {
    "text": "persistent storage we have focused on the first two one of them can we run the platform can application get persistent",
    "start": "108540",
    "end": "114420"
  },
  {
    "text": "storage there is some work going on to really make the local storage also persistent that's not yet there but you",
    "start": "114420",
    "end": "121829"
  },
  {
    "text": "know it will be there shortly so there are various solutions for",
    "start": "121829",
    "end": "127079"
  },
  {
    "text": "persistent storage and you know anyone and every storage company have some",
    "start": "127079",
    "end": "132780"
  },
  {
    "text": "persistence storage container and extremely confusing right you know and I'm sure",
    "start": "132780",
    "end": "138100"
  },
  {
    "text": "they all have unique value proposition into them right they know something some of the application do better for some",
    "start": "138100",
    "end": "144040"
  },
  {
    "text": "specific application some of them do good for some infrastructure needs right what we'll discuss here is that what is",
    "start": "144040",
    "end": "152080"
  },
  {
    "text": "the design pattern they are following and what's the trend and what are the advantages for advantage at a general",
    "start": "152080",
    "end": "158140"
  },
  {
    "text": "broad category the first one is very simple right this is how everything",
    "start": "158140",
    "end": "164410"
  },
  {
    "start": "162000",
    "end": "254000"
  },
  {
    "text": "started that you know kubernetes came as a platform people wrote their driver or",
    "start": "164410",
    "end": "170410"
  },
  {
    "text": "a plugin and then they have a legacy storage or existing storage or the storage from the cloud provider and then",
    "start": "170410",
    "end": "177459"
  },
  {
    "text": "kubernetes platform the containers can get the persistent volume from the platform the key to note here is that",
    "start": "177459",
    "end": "183640"
  },
  {
    "text": "you know we you already had the storage it's a separate independent subsystem and you're trying to make that work for",
    "start": "183640",
    "end": "189520"
  },
  {
    "text": "your containers that's the biggest advantage that you have the storage you",
    "start": "189520",
    "end": "194620"
  },
  {
    "text": "can leverage it you can focus on the new platform but the disadvantage of this approach is you know still as different",
    "start": "194620",
    "end": "204280"
  },
  {
    "text": "subsystem it's not part of your platform you can definitely use it but it's not you're not taking advantage of the newer",
    "start": "204280",
    "end": "210760"
  },
  {
    "text": "paradigm with your storage subsystem the second paradigm is basically you know",
    "start": "210760",
    "end": "217140"
  },
  {
    "text": "let me talk about this with me you may have heard about CSI interface right that you know these plugin you know then",
    "start": "217140",
    "end": "225640"
  },
  {
    "text": "there are different orchestration engines you know and these plugins doesn't work interchangeably between them means like let's make it a standard",
    "start": "225640",
    "end": "232690"
  },
  {
    "text": "and this is CSI initiative that a all these drivers should be talking to one interface so you can use kubernetes you",
    "start": "232690",
    "end": "239440"
  },
  {
    "text": "can use mesosphere and things like that but the general principles stay same",
    "start": "239440",
    "end": "245580"
  },
  {
    "text": "today I wanted to create a plugin with my existing storage subsystem or my storage subsystem our newer one and then",
    "start": "245580",
    "end": "252760"
  },
  {
    "text": "make it work the second one is basically can we make it API driven we don't really need",
    "start": "252760",
    "end": "258669"
  },
  {
    "start": "254000",
    "end": "301000"
  },
  {
    "text": "storage admin to really give developers to storage every time they need it right so this one is basically you know how we",
    "start": "258669",
    "end": "265599"
  },
  {
    "text": "can publicize an API through service broker or a service you know where developers can go and then",
    "start": "265599",
    "end": "272170"
  },
  {
    "text": "get their own storage as long as admin has given them the privilege or the quota they can through the api's they",
    "start": "272170",
    "end": "278980"
  },
  {
    "text": "can go and access the storage and then do their work without you know asking",
    "start": "278980",
    "end": "284500"
  },
  {
    "text": "the storage admin for you know any storage key thing here is that though",
    "start": "284500",
    "end": "289570"
  },
  {
    "text": "it's API driven it's still a different subsystem you know you can manage them",
    "start": "289570",
    "end": "295120"
  },
  {
    "text": "as a different subsystem but they can interconnect using a more automated way",
    "start": "295120",
    "end": "300330"
  },
  {
    "text": "the third one is much more interesting and this is where we will do deep dive and I do a live demo of that one right",
    "start": "300330",
    "end": "306010"
  },
  {
    "start": "301000",
    "end": "344000"
  },
  {
    "text": "can be merged storage subsystem as make it as invisible but an integral part of",
    "start": "306010",
    "end": "311560"
  },
  {
    "text": "the kubernetes platform itself here you run the storage on top of kubernetes platform you have multiple nodes you",
    "start": "311560",
    "end": "319060"
  },
  {
    "text": "know like one cluster some of the node just like it's hosting an application it's also hosting your storage service",
    "start": "319060",
    "end": "325650"
  },
  {
    "text": "so in this paradigm right you have basically one cluster you know storage is just like any other",
    "start": "325650",
    "end": "332260"
  },
  {
    "text": "service just like you have router service you have a storage service it's managed and and basically maintained by",
    "start": "332260",
    "end": "340330"
  },
  {
    "text": "kubernetes platform itself I'll go a little bit deeper here so you have",
    "start": "340330",
    "end": "346210"
  },
  {
    "start": "344000",
    "end": "466000"
  },
  {
    "text": "multiple a kubernetes cluster you have multiple pods one of these parts will be",
    "start": "346210",
    "end": "351340"
  },
  {
    "text": "running your storage node right and here I'll take an example of Red Hat container native storage I'm more",
    "start": "351340",
    "end": "358780"
  },
  {
    "text": "familiar with that because I'm product manager for that so you will have different nodes you know depending on",
    "start": "358780",
    "end": "364930"
  },
  {
    "text": "how many how much scale you need your multiple pods you know or multiple node",
    "start": "364930",
    "end": "370330"
  },
  {
    "text": "of the clusters but the key is that just like your application is running on top of kubernetes platform you have storage",
    "start": "370330",
    "end": "377380"
  },
  {
    "text": "running on top of kubernetes platform right you get many advantages with that right because you are taking the full",
    "start": "377380",
    "end": "383890"
  },
  {
    "text": "advantage of comment is orchestration itself it will maintain this state it will scale it just like it can scale",
    "start": "383890",
    "end": "390070"
  },
  {
    "text": "other applications you have one control plane one management plane and though",
    "start": "390070",
    "end": "396490"
  },
  {
    "text": "storage is a little bit special because attach to that data and it's little bit but you know it will be kind of integral",
    "start": "396490",
    "end": "403180"
  },
  {
    "text": "part of the platform because you're running on top of the kubernetes",
    "start": "403180",
    "end": "408490"
  },
  {
    "text": "platform right it can run anywhere wherever kubernetes runs so it can run on the private cloud public cloud",
    "start": "408490",
    "end": "415060"
  },
  {
    "text": "virtual they are metal hybrid whatever you take right that's the advantage of taking full leverage of the platform",
    "start": "415060",
    "end": "421540"
  },
  {
    "text": "itself so if you can run kubernetes on any any infrastructure then the storage can run there the other advantage you",
    "start": "421540",
    "end": "430270"
  },
  {
    "text": "get is that since you were running as a container right container itself has its own value proposition right the imagine",
    "start": "430270",
    "end": "436930"
  },
  {
    "text": "deploying a storage it is standalone appliance it always takes some time effort here you can do that in minutes",
    "start": "436930",
    "end": "442750"
  },
  {
    "text": "right it's just another container you can deploy that upgrade that it has full isolation you can do rolling upgrade",
    "start": "442750",
    "end": "449830"
  },
  {
    "text": "things like that right some customers also has done colocation of the storage",
    "start": "449830",
    "end": "457420"
  },
  {
    "text": "nodes and application notes you know for various reasons you can do that right because it just you can put them in the same part you can deliver different",
    "start": "457420",
    "end": "463450"
  },
  {
    "text": "parts on the same host I'll summarize this one this approach is basically you",
    "start": "463450",
    "end": "470050"
  },
  {
    "start": "466000",
    "end": "577000"
  },
  {
    "text": "know how we can take the whole platform make this storage as integral part of",
    "start": "470050",
    "end": "475450"
  },
  {
    "text": "the platform itself run it on top of the platform make it invisible though it's a little bit special no doubt but let's",
    "start": "475450",
    "end": "483040"
  },
  {
    "text": "exploit the full potential of kubernetes full potential of container and then you know of course the software-defined",
    "start": "483040",
    "end": "488890"
  },
  {
    "text": "approach what you gets with it we'll do a demo of the Red Hat country nav with storage and hand it over",
    "start": "488890",
    "end": "497490"
  },
  {
    "text": "yep okay can you hear me now yeah okay thank you so there yeah I want to sort",
    "start": "514930",
    "end": "523640"
  },
  {
    "text": "of go first through the demo that we're gonna I'm going to do and then I'll actually do it it will be a live demo it",
    "start": "523640",
    "end": "529250"
  },
  {
    "text": "might look uh I've set it up so that it can't go wrong right but um but you'll",
    "start": "529250",
    "end": "537440"
  },
  {
    "text": "be able to see it and it's it's pretty cool so um let me just move on here so",
    "start": "537440",
    "end": "542870"
  },
  {
    "text": "we are going to go through what Sudheer called the the pattern where",
    "start": "542870",
    "end": "548780"
  },
  {
    "text": "we're actually using the platform for the storage the storage it's some from",
    "start": "548780",
    "end": "554510"
  },
  {
    "text": "kubernetes the point of view is just another workload which you know makes it",
    "start": "554510",
    "end": "560330"
  },
  {
    "text": "pretty pretty good because at that point you know OpenShift or kubernetes i'm just to be clear I'm",
    "start": "560330",
    "end": "567110"
  },
  {
    "text": "going to be using an open shift environment to show this but it is a",
    "start": "567110",
    "end": "572900"
  },
  {
    "text": "workload in it it has all the advantages of being on the the platform I want to",
    "start": "572900",
    "end": "579820"
  },
  {
    "start": "577000",
    "end": "702000"
  },
  {
    "text": "just sort of make it simple and clear that there's there's no magic here",
    "start": "579820",
    "end": "585320"
  },
  {
    "text": "we still need real storage somewhere and the storage that we're going to consume",
    "start": "585320",
    "end": "592400"
  },
  {
    "text": "is connected to the open shift nodes or",
    "start": "592400",
    "end": "598070"
  },
  {
    "text": "the kubernetes nodes that we want to create the cluster the storage cluster with that storage can be all of the",
    "start": "598070",
    "end": "606230"
  },
  {
    "text": "storage types that you can put into a piece of hardware it could be SSDs that could be each you know hard disk it",
    "start": "606230",
    "end": "614930"
  },
  {
    "text": "could be in via Me's I mean it could be whatever storage the main thing is that for each cluster that you create and",
    "start": "614930",
    "end": "622430"
  },
  {
    "text": "this is a Gloster cluster you want to use the more storage so it's conceivable",
    "start": "622430",
    "end": "627830"
  },
  {
    "text": "that I could offer to to the developers for dynamic provisioning I could offer a",
    "start": "627830",
    "end": "633940"
  },
  {
    "text": "fast cluster say think of like AWS right I can have a cluster made of I",
    "start": "633940",
    "end": "639470"
  },
  {
    "text": "1 EBS volumes and I could have another cluster made of you know GPT GP 2 or or",
    "start": "639470",
    "end": "648230"
  },
  {
    "text": "a slower storage type and I could offer that and then you know based on their their rights they could make decisions",
    "start": "648230",
    "end": "654470"
  },
  {
    "text": "about which which storage they want to use the the other thing to do this point",
    "start": "654470",
    "end": "660830"
  },
  {
    "text": "out on here is that this is a simple architecture a simple Gloucester architecture called replica 3 it does",
    "start": "660830",
    "end": "668450"
  },
  {
    "text": "require that there are three openshift nodes involved or kubernetes knows",
    "start": "668450",
    "end": "674990"
  },
  {
    "text": "there's you need to have three at this point in time you can only have one of the storage containers on each node so",
    "start": "674990",
    "end": "682730"
  },
  {
    "text": "that that's why we need three if I wanted a second cluster which is shown here with the but anyway the the the",
    "start": "682730",
    "end": "693950"
  },
  {
    "text": "fast and the slow that would take six nodes to deploy that so the the demo",
    "start": "693950",
    "end": "705770"
  },
  {
    "start": "702000",
    "end": "775000"
  },
  {
    "text": "that I'm gonna do here so I mean I've been watching on two Mo's this week and they're in there they're good but",
    "start": "705770",
    "end": "711470"
  },
  {
    "text": "sometimes you can get a little lost in the CLI so I'm gonna do a demo that's gonna be sale I but I wanted to give you",
    "start": "711470",
    "end": "718460"
  },
  {
    "text": "some context before that so my my kubernetes open shift environment here",
    "start": "718460",
    "end": "725180"
  },
  {
    "text": "has a master node it has infra node the infra node houses the the registry the",
    "start": "725180",
    "end": "731300"
  },
  {
    "text": "router and then I have three app nodes and those app nodes are where I'm going",
    "start": "731300",
    "end": "737540"
  },
  {
    "text": "to deploy the cns there will be you'll see you're gonna see there's going to be cluster pods and then very important for",
    "start": "737540",
    "end": "745370"
  },
  {
    "text": "the service that that Sudhir discussed is the haqqani api so there will be a",
    "start": "745370",
    "end": "751430"
  },
  {
    "text": "pod that Kenny runs then it the the Keti pod is not tied to any one node and",
    "start": "751430",
    "end": "760010"
  },
  {
    "text": "that's very useful because if the Cuddy if the node that the heck a teapot is Down Goes Down the hickety pod will",
    "start": "760010",
    "end": "767390"
  },
  {
    "text": "recreate itself on another available node and it will remount at state",
    "start": "767390",
    "end": "774880"
  },
  {
    "start": "775000",
    "end": "922000"
  },
  {
    "text": "so we see here just pointing out that",
    "start": "775000",
    "end": "780110"
  },
  {
    "text": "these you know this is how we're going to create the cluster we're going to deploy pods on to the to the three AB",
    "start": "780110",
    "end": "787040"
  },
  {
    "text": "nodes in terms of Hettie what makes this I think a really useful",
    "start": "787040",
    "end": "795820"
  },
  {
    "text": "approach is that at the developer view they just see the the ability to create",
    "start": "795820",
    "end": "802250"
  },
  {
    "text": "dynamic storage and they do that via something called a storage class resource and this this storage class is",
    "start": "802250",
    "end": "810830"
  },
  {
    "text": "really the glue between openshift and the storage provisioning you see in",
    "start": "810830",
    "end": "816260"
  },
  {
    "text": "there that the provisioner is Gluster FS",
    "start": "816260",
    "end": "821450"
  },
  {
    "text": "so kubernetes has that provisioner and you also see that there is a route there",
    "start": "821450",
    "end": "828290"
  },
  {
    "text": "that is the Hettie that is the route to the Cutty service you also see a cluster",
    "start": "828290",
    "end": "833810"
  },
  {
    "text": "ID that is a petty ID to uniquely identify the cluster so if I wanted to",
    "start": "833810",
    "end": "839720"
  },
  {
    "text": "have different storage tiers fast-slow that uniquely identifies that cluster",
    "start": "839720",
    "end": "845060"
  },
  {
    "text": "and then we want to absolutely secure the the API because you know we don't",
    "start": "845060",
    "end": "851960"
  },
  {
    "text": "have people coming in and and just creating you know Peavey's persistent",
    "start": "851960",
    "end": "857720"
  },
  {
    "text": "volumes on our storage so we secure it via again an open chef resource called a secret and that that makes up the stores",
    "start": "857720",
    "end": "866390"
  },
  {
    "text": "class that this again is completely a kubernetes OpenShift resource and we're going to use it to",
    "start": "866390",
    "end": "874550"
  },
  {
    "text": "the left there you just see that you know Keti is in the middle when open stuff calls in for a new a new",
    "start": "874550",
    "end": "881240"
  },
  {
    "text": "persistent volume it goes through Katie when I delete that project it's deleted",
    "start": "881240",
    "end": "886330"
  },
  {
    "text": "with a project and that Katie does that work to will also see the heck Hettie is really useful for inspection as well as",
    "start": "886330",
    "end": "893510"
  },
  {
    "text": "day two activities all of your day to adding more storage adding more to",
    "start": "893510",
    "end": "901370"
  },
  {
    "text": "clusters all of that is done via the Hetty CLI",
    "start": "901370",
    "end": "906160"
  },
  {
    "text": "and this I think pretty much we've already gone through this but just to reiterate you know it's three three open",
    "start": "906380",
    "end": "915530"
  },
  {
    "text": "shift or three kubernetes nodes per cluster are required because of the replica 3 so the lifecycle again I'm",
    "start": "915530",
    "end": "925790"
  },
  {
    "start": "922000",
    "end": "978000"
  },
  {
    "text": "going through these slides so you know what's happening when I do the demo but the lifecycle of this is a developer via",
    "start": "925790",
    "end": "931310"
  },
  {
    "text": "a template that let's say they want to create I don't know my sequel Postgres",
    "start": "931310",
    "end": "937760"
  },
  {
    "text": "application in the template they're going to request a persistent volume and",
    "start": "937760",
    "end": "944800"
  },
  {
    "text": "in that persistent volume request there will be the defined storage cost so",
    "start": "944800",
    "end": "950720"
  },
  {
    "text": "that's really again that's just the glue is I want a persistent volume from this storage class of a particular size",
    "start": "950720",
    "end": "957400"
  },
  {
    "text": "that's submitted via the storage class and the Ketty route to the to the",
    "start": "957400",
    "end": "964700"
  },
  {
    "text": "storage back-end it goes through Keti mckiddy goes into cluster provisions the",
    "start": "964700",
    "end": "970490"
  },
  {
    "text": "volume comes back up and then that is mounted to whatever the mount point was",
    "start": "970490",
    "end": "975680"
  },
  {
    "text": "in the template so let's get into the",
    "start": "975680",
    "end": "983090"
  },
  {
    "start": "978000",
    "end": "1075000"
  },
  {
    "text": "demo any just burning questions before I",
    "start": "983090",
    "end": "991040"
  },
  {
    "text": "get started here I don't know how much time you should have a little bit of time afterwards if you have some",
    "start": "991040",
    "end": "996290"
  },
  {
    "text": "questions ok so the first thing we have",
    "start": "996290",
    "end": "1006250"
  },
  {
    "text": "there I didn't know it's going to bomb the screen but that's ok so in OpenShift",
    "start": "1006250",
    "end": "1011350"
  },
  {
    "text": "world instead of using cube let or cube couldn't cube controller so anyway",
    "start": "1011350",
    "end": "1018490"
  },
  {
    "text": "instead of using that you use those see see that's how often I use the other point so OC is essentially equal to that",
    "start": "1018490",
    "end": "1025990"
  },
  {
    "text": "so I say you know what do I have so I have already I did this a couple hours",
    "start": "1025990",
    "end": "1031510"
  },
  {
    "text": "ago creating an open shift here and we have the m4 the master and then we have",
    "start": "1031510",
    "end": "1037209"
  },
  {
    "text": "the three nodes so the first thing I need to do or I can",
    "start": "1037209",
    "end": "1043069"
  },
  {
    "text": "do I can put it in a different name space or a name space that exists but in this case just to make it clean I'm",
    "start": "1043070",
    "end": "1048680"
  },
  {
    "text": "going to create a new name space for my deployment and I call it container native storage and now the the one thing",
    "start": "1048680",
    "end": "1058880"
  },
  {
    "text": "I do need to do we're gonna see that the Gluster pods are going to use the hosts",
    "start": "1058880",
    "end": "1065480"
  },
  {
    "text": "networking so we need to give the daemon set privileged access so that's done via",
    "start": "1065480",
    "end": "1072770"
  },
  {
    "text": "that and then I just want to show you",
    "start": "1072770",
    "end": "1077920"
  },
  {
    "start": "1075000",
    "end": "1174000"
  },
  {
    "text": "quickly here so this is the topology file I'm sort of starting from the",
    "start": "1077920",
    "end": "1084020"
  },
  {
    "text": "bottom but if we look here this is a",
    "start": "1084020",
    "end": "1089690"
  },
  {
    "text": "node so we put in the node we put in the IP address that IP address actually is",
    "start": "1089690",
    "end": "1095990"
  },
  {
    "text": "equal to the host so that the hosts are and they're going to have the same and I",
    "start": "1095990",
    "end": "1101300"
  },
  {
    "text": "mean that the Gluster pod when it's created is going to have that that IP and then we give it two devices",
    "start": "1101300",
    "end": "1106480"
  },
  {
    "text": "important thing on the devices in this case this is actually on AWS so this is",
    "start": "1106480",
    "end": "1111530"
  },
  {
    "text": "an EBS volume but you can you can put as many storage devices just comma",
    "start": "1111530",
    "end": "1118070"
  },
  {
    "text": "separated as you want in there there's reasons that let's say you wanted one terabyte for your cluster you may want",
    "start": "1118070",
    "end": "1125090"
  },
  {
    "text": "to do it in 250 gigabyte chunks so that you know if you need more storage and",
    "start": "1125090",
    "end": "1130580"
  },
  {
    "text": "you need to add more storage to your cluster you just add another 250 gigabytes so it's it is useful and it's",
    "start": "1130580",
    "end": "1138590"
  },
  {
    "text": "not technically required to to have the storage well it absolutely has to be the same storage but to have it also the",
    "start": "1138590",
    "end": "1145280"
  },
  {
    "text": "same size so all of these are in this case only 50 gigabytes so let's continue",
    "start": "1145280",
    "end": "1156140"
  },
  {
    "text": "here so we're actually going to do the deployment now and and I should have mentioned it but that topology Jason is",
    "start": "1156140",
    "end": "1162830"
  },
  {
    "text": "a is is a Hettie environment so that it",
    "start": "1162830",
    "end": "1169960"
  },
  {
    "text": "Akeley uses that to create the cluster so going into some UI here so here's my",
    "start": "1169960",
    "end": "1181539"
  },
  {
    "start": "1174000",
    "end": "1310000"
  },
  {
    "text": "new project and I'll start to see the",
    "start": "1181539",
    "end": "1186820"
  },
  {
    "text": "the Gluster pods coming up here again",
    "start": "1186820",
    "end": "1192309"
  },
  {
    "text": "there there will be end up there'll be one on each one of the the node zero one",
    "start": "1192309",
    "end": "1197440"
  },
  {
    "text": "two three that I showed you and they're starting to come up once they are",
    "start": "1197440",
    "end": "1204029"
  },
  {
    "text": "available then we'll it'll go on to the Ketty deployment and I don't I'll just",
    "start": "1204029",
    "end": "1212559"
  },
  {
    "text": "mention it because I don't want to go back and forth too much of it but remember on this slide I showed you you",
    "start": "1212559",
    "end": "1221080"
  },
  {
    "text": "know the hickety route and when when we get done with the deployment here we'll",
    "start": "1221080",
    "end": "1226990"
  },
  {
    "text": "actually it will automatically create that route that we're going to use in our storage class so let's see how we're",
    "start": "1226990",
    "end": "1234760"
  },
  {
    "text": "doing here got one up so it should go",
    "start": "1234760",
    "end": "1243159"
  },
  {
    "text": "pretty quick long ages yeah there we go so now we've we've finished the we",
    "start": "1243159",
    "end": "1250059"
  },
  {
    "text": "finished the the Gloucester pod deployment and now we're going to do an interim pod called the deploy okati that",
    "start": "1250059",
    "end": "1257799"
  },
  {
    "text": "will be used to create the the final hook Hettie service you know this this",
    "start": "1257799",
    "end": "1265210"
  },
  {
    "text": "does take a little bit of time but when you think about what it's going to do here and and this CNS deploy is a Red",
    "start": "1265210",
    "end": "1272620"
  },
  {
    "text": "Hat script it's it's essentially just a very large script but this this is very useful and I just wanted to mention",
    "start": "1272620",
    "end": "1279580"
  },
  {
    "text": "today we're just going to be looking at file volumes of the type volumes of the",
    "start": "1279580",
    "end": "1285010"
  },
  {
    "text": "type file the the latest CNS images are",
    "start": "1285010",
    "end": "1290549"
  },
  {
    "text": "what we call CNS but essentially Gloucester images that that can be used on McKenney also support I scuzzy",
    "start": "1290549",
    "end": "1297909"
  },
  {
    "text": "targets as well as the s3 API so",
    "start": "1297909",
    "end": "1303580"
  },
  {
    "text": "you know it we started with a file because that that is the most sort of",
    "start": "1303580",
    "end": "1308710"
  },
  {
    "text": "commonly used so we're ready to create and provide glossary volumes let me just quickly go back here and show you what",
    "start": "1308710",
    "end": "1315100"
  },
  {
    "start": "1310000",
    "end": "1379000"
  },
  {
    "text": "we have now it looks like it's still",
    "start": "1315100",
    "end": "1320590"
  },
  {
    "text": "killing off one of them here but I just want to point out this route here okay",
    "start": "1320590",
    "end": "1327490"
  },
  {
    "text": "so that's the the route and it didn't",
    "start": "1327490",
    "end": "1333130"
  },
  {
    "text": "paginate really well because it's just a little too big but you can see that now",
    "start": "1333130",
    "end": "1342520"
  },
  {
    "text": "when I do the pods you can see that I've got three Gloucester pods and a caddy",
    "start": "1342520",
    "end": "1348730"
  },
  {
    "text": "pod and if you look at it each one of the Gloucester pods is on a this is the",
    "start": "1348730",
    "end": "1354640"
  },
  {
    "text": "IP address that was in the topology JSON file so to create our storage house we",
    "start": "1354640",
    "end": "1365680"
  },
  {
    "text": "need the okati route so we're going to use that and that is created as a",
    "start": "1365680",
    "end": "1372760"
  },
  {
    "text": "combination of the namespace and the domain name",
    "start": "1372760",
    "end": "1378390"
  },
  {
    "text": "we're also this is sort of this is just gonna just show you one of the Cutty",
    "start": "1378390",
    "end": "1384220"
  },
  {
    "start": "1379000",
    "end": "1450000"
  },
  {
    "text": "that this one is a little busy but what",
    "start": "1384220",
    "end": "1389560"
  },
  {
    "text": "we have here is that we can actually see we can see that this is our cluster that",
    "start": "1389560",
    "end": "1396550"
  },
  {
    "text": "we just created we can see that we actually have one new volume this is a Hettie DB storage the Hettie DB storage",
    "start": "1396550",
    "end": "1403690"
  },
  {
    "text": "is how the Peavey's are kept track of and like i said if if the node the",
    "start": "1403690",
    "end": "1409780"
  },
  {
    "text": "hickety is on the haqqani pod it will recreate itself on a new availability zone or a new a new machine and it will",
    "start": "1409780",
    "end": "1417010"
  },
  {
    "text": "remount this so in this situation the haqqani you know you be headless during",
    "start": "1417010",
    "end": "1423190"
  },
  {
    "text": "the time it was being recreated you couldn't create or delete any Peavey's but as soon as i came back up and remounted this you'd be good to go again",
    "start": "1423190",
    "end": "1432090"
  },
  {
    "text": "so the other thing we see here we see that",
    "start": "1432090",
    "end": "1437200"
  },
  {
    "text": "we already have our three nodes and we see that we've used to two gigabytes of",
    "start": "1437200",
    "end": "1444520"
  },
  {
    "text": "our total of 49 so very important I just",
    "start": "1444520",
    "end": "1453070"
  },
  {
    "start": "1450000",
    "end": "1498000"
  },
  {
    "text": "want to show you what the JSON looks like or the AMA looks like for the secret that key is I didn't point it out",
    "start": "1453070",
    "end": "1460270"
  },
  {
    "text": "but when we did seen us deploy we gave it a an option called admin key so we",
    "start": "1460270",
    "end": "1466000"
  },
  {
    "text": "set that password and this is the basics before encoding of that password so",
    "start": "1466000",
    "end": "1473799"
  },
  {
    "text": "we're gonna go ahead and we're going to create that resource",
    "start": "1473799",
    "end": "1480580"
  },
  {
    "text": "this is an open ship to resource so now we have a CNS secret we also need our",
    "start": "1480580",
    "end": "1486520"
  },
  {
    "text": "cluster ID for our storage class so that's our cluster ID again this is a Ketty CLI command very useful for for",
    "start": "1486520",
    "end": "1495010"
  },
  {
    "text": "listing what you have and this is our",
    "start": "1495010",
    "end": "1500110"
  },
  {
    "start": "1498000",
    "end": "1616000"
  },
  {
    "text": "storage class we I showed you an example but this is a this is you know the example for this deployment so we have",
    "start": "1500110",
    "end": "1506980"
  },
  {
    "text": "our route we have our cluster ID if you",
    "start": "1506980",
    "end": "1512500"
  },
  {
    "text": "were doing this you would have had to copy that cluster ID and put it in but this is you know I it's it I did it so",
    "start": "1512500",
    "end": "1520870"
  },
  {
    "text": "that it's already there so we don't have to do that and we haven't seen a secret so we're ready to go on that so we're",
    "start": "1520870",
    "end": "1529990"
  },
  {
    "text": "gonna go again and create that resource that resource is again a kubernetes",
    "start": "1529990",
    "end": "1536080"
  },
  {
    "text": "OpenShift resource storage cost name just one thing on the stores class name",
    "start": "1536080",
    "end": "1541500"
  },
  {
    "text": "even if you're doing evaluations maybe it's just me but try to do stores class",
    "start": "1541500",
    "end": "1546790"
  },
  {
    "text": "names that explain what it is so like if your AWS you know maybe put gp2 into the",
    "start": "1546790",
    "end": "1552070"
  },
  {
    "text": "storage class name if you just put you know Gluster that doesn't doesn't say",
    "start": "1552070",
    "end": "1558250"
  },
  {
    "text": "much about what kind of storage is so we now and and the other thing I",
    "start": "1558250",
    "end": "1564920"
  },
  {
    "text": "didn't point out when we were looking at it is that there's an annotations in the",
    "start": "1564920",
    "end": "1569990"
  },
  {
    "text": "source class that you can add that will make that the default stores cost what that means is that if I am in my",
    "start": "1569990",
    "end": "1577580"
  },
  {
    "text": "template you'll see that the template I'm going to show you I do have it I do have the annotation in there but you",
    "start": "1577580",
    "end": "1583850"
  },
  {
    "text": "don't need it if you have a default source class you can only have one default storage cost per per OpenShift",
    "start": "1583850",
    "end": "1590510"
  },
  {
    "text": "or kubernetes instance so if you add another cluster it would you know it",
    "start": "1590510",
    "end": "1596480"
  },
  {
    "text": "would not be default and you would have to specify the name so what we're going",
    "start": "1596480",
    "end": "1602150"
  },
  {
    "text": "to do now is we're going to go ahead and use we're going to use this storage",
    "start": "1602150",
    "end": "1607460"
  },
  {
    "text": "class and and create some storage for a my sequel deployment so I created a a",
    "start": "1607460",
    "end": "1613820"
  },
  {
    "text": "name space right now in that namespace I'm just gonna get it ready so we can",
    "start": "1613820",
    "end": "1620180"
  },
  {
    "text": "watch it there's nothing in it right now so we're going to deploy it via the",
    "start": "1620180",
    "end": "1628640"
  },
  {
    "text": "template so let me just show you where",
    "start": "1628640",
    "end": "1637730"
  },
  {
    "text": "it shows up in the template so all we have to do as a developer now is to",
    "start": "1637730",
    "end": "1646640"
  },
  {
    "text": "include this in our template and in our case because I have a default storage",
    "start": "1646640",
    "end": "1653600"
  },
  {
    "text": "class you wouldn't even have to put this annotation in here I think it's sort of good practice because it's pretty easy",
    "start": "1653600",
    "end": "1659870"
  },
  {
    "text": "to change a storage class to not be default for some reason so at least you have it the other thing we have is a",
    "start": "1659870",
    "end": "1667430"
  },
  {
    "text": "readwrite once important concept is that the Gluster file volumes support read/write mini you",
    "start": "1667430",
    "end": "1676070"
  },
  {
    "text": "know you could have pods writing two to one file on a a read/write mini this is",
    "start": "1676070",
    "end": "1683870"
  },
  {
    "text": "a read/write once because it's the database but the the access modes are read write once read write mini and",
    "start": "1683870",
    "end": "1691070"
  },
  {
    "text": "there's another one that's that I don't remember right now that it's not you Zuri often but you do",
    "start": "1691070",
    "end": "1697270"
  },
  {
    "text": "specify that and then very importantly you specify the size you can via in day",
    "start": "1697270",
    "end": "1704110"
  },
  {
    "text": "2 activities or day 2 task you know keep track of the usage on the volume via a",
    "start": "1704110",
    "end": "1711190"
  },
  {
    "text": "caddy you can expand that volume ok so",
    "start": "1711190",
    "end": "1717780"
  },
  {
    "text": "let's go ahead and create this now using our so we see that there's some",
    "start": "1717780",
    "end": "1722950"
  },
  {
    "text": "resources now we're creating the secret this is all in the template we're creating the service we're creating a",
    "start": "1722950",
    "end": "1728710"
  },
  {
    "text": "persistent volume claim and we're creating the deployment if we go back to",
    "start": "1728710",
    "end": "1735900"
  },
  {
    "text": "2 here we start to see the the deployment and if we go to the storage",
    "start": "1735900",
    "end": "1742540"
  },
  {
    "text": "we see that we already have our PV I might be sort of small I'll show it to a",
    "start": "1742540",
    "end": "1748300"
  },
  {
    "text": "different way I can show you in CLI but it's already been claimed via the the CNS gold storage class and it's ready to",
    "start": "1748300",
    "end": "1756280"
  },
  {
    "text": "be used go back to our pods so it looks",
    "start": "1756280",
    "end": "1761920"
  },
  {
    "text": "like that we're still sort of running this usually that my sequel deployment goes pretty quick I just I want to show",
    "start": "1761920",
    "end": "1772600"
  },
  {
    "text": "the so if we get returned here you see",
    "start": "1772600",
    "end": "1778300"
  },
  {
    "text": "that I can see that my PV is bound and again it tells me it tells me the name",
    "start": "1778300",
    "end": "1784690"
  },
  {
    "text": "of the PVC so in OpenShift or kubernetes resources you have a PV resource and you",
    "start": "1784690",
    "end": "1791320"
  },
  {
    "text": "have a PVC resource this is a PVC resource that we just created but it automatically creates a PV and what's",
    "start": "1791320",
    "end": "1798400"
  },
  {
    "text": "cool about that is when you delete the PVC the PV has gone to it's not hanging",
    "start": "1798400",
    "end": "1804250"
  },
  {
    "text": "out it's completely gone it's not you know so I know in some cases like",
    "start": "1804250",
    "end": "1809470"
  },
  {
    "text": "something like NFS or something it sort of hangs around and you have to manually do it not not true with with this so are",
    "start": "1809470",
    "end": "1818110"
  },
  {
    "text": "my sequel deployment is done and we should be able to see that here",
    "start": "1818110",
    "end": "1825450"
  },
  {
    "text": "yeah so it's going so let's go ahead and",
    "start": "1826690",
    "end": "1832790"
  },
  {
    "text": "see what we have here so we're gonna log into it via the rsh command and what I",
    "start": "1832790",
    "end": "1842510"
  },
  {
    "text": "see and again it's not paginating great but I see here that I have a volume name",
    "start": "1842510",
    "end": "1848150"
  },
  {
    "text": "and it's mounted to my my sequel data directory if I then get a little right",
    "start": "1848150",
    "end": "1860179"
  },
  {
    "text": "now what I want to do so I want to track this volume that I see mounted in the pod all the way back to cluster so I'm",
    "start": "1860179",
    "end": "1868100"
  },
  {
    "text": "going to now log in to cluster and again we're back in our container native",
    "start": "1868100",
    "end": "1874070"
  },
  {
    "text": "storage project we log in to the the first we can log with cluster if you've",
    "start": "1874070",
    "end": "1879170"
  },
  {
    "text": "ever used cluster you can run the the Gloucester commands and this the",
    "start": "1879170",
    "end": "1885230"
  },
  {
    "text": "commands were running right now would be these I mean cluster just like OpenShift",
    "start": "1885230",
    "end": "1890809"
  },
  {
    "text": "has no idea about Gloucester Gloucester has no idea about open chef for",
    "start": "1890809",
    "end": "1897020"
  },
  {
    "text": "kubernetes so this this is exactly the same command I would run in a cluster",
    "start": "1897020",
    "end": "1902030"
  },
  {
    "text": "cluster that had nothing to do with with what we're seeing today so we see we do",
    "start": "1902030",
    "end": "1909740"
  },
  {
    "text": "see our kettie volume up here at the top the very first one a caddy DB storage and then we see",
    "start": "1909740",
    "end": "1916429"
  },
  {
    "text": "the the volume that we just created we also see that there are three bricks",
    "start": "1916429",
    "end": "1922210"
  },
  {
    "text": "this is you know Gloucester's terminology for the storage and each one",
    "start": "1922210",
    "end": "1927830"
  },
  {
    "text": "is on a different note so what we're",
    "start": "1927830",
    "end": "1933590"
  },
  {
    "text": "gonna do now in the last activity we're going to do is just get used to Katie again to get more detailed information",
    "start": "1933590",
    "end": "1940280"
  },
  {
    "text": "about that volume we we get information about its volume ID cluster ID where",
    "start": "1940280",
    "end": "1946730"
  },
  {
    "text": "it's mounted and it's replicas 3 if you had day 2 activities all this would be important to you if you wanted to",
    "start": "1946730",
    "end": "1953000"
  },
  {
    "text": "increase your storage add more to your cluster add another cluster will actually not add another cluster if you",
    "start": "1953000",
    "end": "1958280"
  },
  {
    "text": "add another cluster has a different cluster ID but but if you're working on the same cluster you know this is how you can get that",
    "start": "1958280",
    "end": "1964190"
  },
  {
    "text": "information that end so anyway we have",
    "start": "1964190",
    "end": "1970690"
  },
  {
    "text": "it looks like about three minutes so I don't know yeah questions yes I do you",
    "start": "1970690",
    "end": "1990320"
  },
  {
    "start": "1980000",
    "end": "2200000"
  },
  {
    "text": "have any more to elaborate on that Jose yeah can you repeat the question do we red",
    "start": "1990320",
    "end": "2002619"
  },
  {
    "text": "hat plan on package this into a helmet art and the answer is yes yeah I can",
    "start": "2002619",
    "end": "2024159"
  },
  {
    "text": "speak to that we all this entire year have been doing performance benchmarking",
    "start": "2024159",
    "end": "2030339"
  },
  {
    "text": "and the thing you need to I guess be you need to realize is we are doing replica",
    "start": "2030339",
    "end": "2037059"
  },
  {
    "text": "three and it's absolute consistency so compared to a single right you're",
    "start": "2037059",
    "end": "2042669"
  },
  {
    "text": "writing three times right so and that's good and bad if I'm in a double US",
    "start": "2042669",
    "end": "2049658"
  },
  {
    "text": "environment say I'm across two different regions can tell you because I've done the latency testing those reasons are",
    "start": "2049659",
    "end": "2055118"
  },
  {
    "text": "not in the same they are not in the same data center in some cases they can have like a millisecond of delay which is",
    "start": "2055119",
    "end": "2061720"
  },
  {
    "text": "about twenty thirty miles in that case you know your slowest right is going to",
    "start": "2061720",
    "end": "2066970"
  },
  {
    "text": "control your right speed and in general reads no problem at all but because I",
    "start": "2066970",
    "end": "2072730"
  },
  {
    "text": "read is is is a single it's not a replica three but but the rights you know you do we have a maximum of five",
    "start": "2072730",
    "end": "2080740"
  },
  {
    "text": "millisecond latency budget diameter between the replicas and and running it",
    "start": "2080740",
    "end": "2086919"
  },
  {
    "text": "on top of platform versus not in running it aside right you know running it stand-alone we'd see not much difference",
    "start": "2086919",
    "end": "2093159"
  },
  {
    "text": "two to five percent depending on you know what kind of infrastructure you have so we it's not statistically",
    "start": "2093160",
    "end": "2098860"
  },
  {
    "text": "different as such other questions yes",
    "start": "2098860",
    "end": "2105060"
  },
  {
    "text": "yeah I take that so I think this so we took the three replicas route right now",
    "start": "2125370",
    "end": "2131970"
  },
  {
    "text": "as a default we do have option to basically he was asking if you're in a",
    "start": "2131970",
    "end": "2138990"
  },
  {
    "text": "very like a single site why do you need three replicas why couldn't you just do one replica so it's so we took the",
    "start": "2138990",
    "end": "2145860"
  },
  {
    "text": "default route right now replica three right we fully intend to support the other replicas right now we're not probably sizing the challenge is that if",
    "start": "2145860",
    "end": "2152550"
  },
  {
    "text": "you're running on top of the platform we do want you know the kubernetes can reschedule anywhere no it can go down we",
    "start": "2152550",
    "end": "2158910"
  },
  {
    "text": "wanted to protect there so there repent then there are options like replica to Plus you know arbiter kind of approach",
    "start": "2158910",
    "end": "2165060"
  },
  {
    "text": "so we will be you know making that as an option because Gloucester already supports that so we'll make that available",
    "start": "2165060",
    "end": "2170430"
  },
  {
    "text": "yeah and just in general right I mean you're looking for high availability or storage so if you do have a single",
    "start": "2170430",
    "end": "2176880"
  },
  {
    "text": "replica and that replica is gone you you know you have the pods can't come up in a different host or a different easy",
    "start": "2176880",
    "end": "2185030"
  },
  {
    "text": "okay anything I think we're going to get booted out will be outside if you have additional questions including the the",
    "start": "2187490",
    "end": "2193650"
  },
  {
    "text": "cns engineering team here thank you everyone thank you",
    "start": "2193650",
    "end": "2198730"
  },
  {
    "text": "[Applause]",
    "start": "2198730",
    "end": "2202559"
  }
]