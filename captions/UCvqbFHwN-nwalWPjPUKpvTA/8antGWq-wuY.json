[
  {
    "text": "maintainer track intro session for uh kubernetes",
    "start": "399",
    "end": "5839"
  },
  {
    "text": "uh cncf conformance working group uh to judge the audience here how many of us",
    "start": "5839",
    "end": "11599"
  },
  {
    "text": "have been involved in certifying at least one of the 79",
    "start": "11599",
    "end": "16720"
  },
  {
    "text": "certified kubernetes distributions okay um so we are going to do um the",
    "start": "16720",
    "end": "24720"
  },
  {
    "text": "this as an intro but we really are available to go into more detail and then tomorrow there's going to be a very",
    "start": "24720",
    "end": "31679"
  },
  {
    "text": "interesting deep dive session uh which is going to be much more of a working session of the working group to decide",
    "start": "31679",
    "end": "39200"
  },
  {
    "text": "you're on am i yeah you're on okay to decide particularly around windows conformance",
    "start": "39200",
    "end": "46320"
  },
  {
    "text": "so this has been in the three-year history of the cncf i",
    "start": "46640",
    "end": "53280"
  },
  {
    "text": "would argue the single thing that has had the most impact on the cloud native",
    "start": "53280",
    "end": "58719"
  },
  {
    "text": "ecosystem and it's something that i've personally been extremely involved in and i'm very",
    "start": "58719",
    "end": "63920"
  },
  {
    "text": "uh proud of and so we will walk through it okay",
    "start": "63920",
    "end": "70560"
  },
  {
    "text": "yeah so um the certified kubernetes uh program is a",
    "start": "70560",
    "end": "75759"
  },
  {
    "text": "conformance program it's actually a little unusual compared to most conformance programs there's no third",
    "start": "75759",
    "end": "81439"
  },
  {
    "text": "party lab that you send things to there's no big fee that you pay",
    "start": "81439",
    "end": "87040"
  },
  {
    "text": "there's there's an open source software conformance suite which is a",
    "start": "87040",
    "end": "92400"
  },
  {
    "text": "subset of the test suite already developed in kubernetes and it is a way",
    "start": "92400",
    "end": "98079"
  },
  {
    "text": "for vendors to certify that their implementations of kubernetes have not",
    "start": "98079",
    "end": "103280"
  },
  {
    "text": "broken broken any critical apis that their specific as we say if you've seen",
    "start": "103280",
    "end": "109600"
  },
  {
    "text": "a roadrunner cartoon acme kubernetes engine still implements all the functionality",
    "start": "109600",
    "end": "115200"
  },
  {
    "text": "of vanilla kubernetes so um we launched this uh just a little over a",
    "start": "115200",
    "end": "120799"
  },
  {
    "text": "year ago and we are now up to 79 certified kubernetes uh platforms this",
    "start": "120799",
    "end": "126320"
  },
  {
    "text": "is what happens when you prepare your slides like two weeks uh in advance is you fall back and if we",
    "start": "126320",
    "end": "132640"
  },
  {
    "text": "can just take a moment here uh taylor can you stand up please so for everyone who always wonders",
    "start": "132640",
    "end": "138959"
  },
  {
    "text": "what happens when i yeah thank you uh submit my results to uh github and who",
    "start": "138959",
    "end": "144959"
  },
  {
    "text": "looks at those it is all taylor and she's the one who does fantastic work very politely saying oh you didn't quite",
    "start": "144959",
    "end": "150800"
  },
  {
    "text": "get that writer we had one today where it was saying yes you don't just need to upload the log of your test results but",
    "start": "150800",
    "end": "158480"
  },
  {
    "text": "they actually need to be passing and she put it much more nicely than i",
    "start": "158480",
    "end": "165200"
  },
  {
    "text": "did and without any tone of sarcasm in her voice but i really would",
    "start": "165200",
    "end": "172000"
  },
  {
    "text": "compare this program to almost any other conformance or certification program in history maybe",
    "start": "172000",
    "end": "178720"
  },
  {
    "text": "up there with bluetooth and wi-fi in terms of the breadth of the industry",
    "start": "178720",
    "end": "184400"
  },
  {
    "text": "that we've been able to pull in that is literally everyone has signed on to this program and that there's some pretty",
    "start": "184400",
    "end": "191040"
  },
  {
    "text": "clever aspects built into it that uh really discourage people from falling",
    "start": "191040",
    "end": "196080"
  },
  {
    "text": "off that the release train so um yeah we won't do every piece here but uh",
    "start": "196080",
    "end": "202879"
  },
  {
    "text": "the key parts are you need to be a member of cncf or a non-profit organization so if you're just a",
    "start": "202879",
    "end": "208640"
  },
  {
    "text": "community distro that's totally fine you don't have to pay anything you sign a form it has a lot of legalese in it but",
    "start": "208640",
    "end": "214879"
  },
  {
    "text": "it is hopefully understandable it's like three pages long and then you upload the test logs from your",
    "start": "214879",
    "end": "222000"
  },
  {
    "text": "conformance results um so uh one of the key conditions is that",
    "start": "222000",
    "end": "228000"
  },
  {
    "text": "it has to be the current release or the previous one and um if we have time tomorrow i think we",
    "start": "228000",
    "end": "234640"
  },
  {
    "text": "might uh consider relaxing that where we're considering making it the past two releases because",
    "start": "234640",
    "end": "240480"
  },
  {
    "text": "uh to try and be a little bit more realistic about uh where people are um",
    "start": "240480",
    "end": "246400"
  },
  {
    "text": "the the there's these ideas built into it there this is um a little more complicated but the",
    "start": "246400",
    "end": "252720"
  },
  {
    "text": "idea behind it is to say that we don't want you to be able to take a",
    "start": "252720",
    "end": "257840"
  },
  {
    "text": "super old version of kubernetes and say okay this is now conformant and just stick there and having done a conformed",
    "start": "257840",
    "end": "264880"
  },
  {
    "text": "version we don't want you to just be able to stick there either and say oh see we're conforming forever and so we",
    "start": "264880",
    "end": "272000"
  },
  {
    "text": "have a carrot and a stick and the carrot is the both the certified",
    "start": "272000",
    "end": "277360"
  },
  {
    "text": "kubernetes logo but also the ability to use the word kubernetes in your product",
    "start": "277360",
    "end": "283840"
  },
  {
    "text": "name so you can be called acme kubernetes engine or acme kubernetes or things like that the stick is that you",
    "start": "283840",
    "end": "292080"
  },
  {
    "text": "need to keep recertifying newer versions in order for your older versions to stay",
    "start": "292080",
    "end": "297600"
  },
  {
    "text": "conformant so at least in principle if you just decide that 1.13 was going to",
    "start": "297600",
    "end": "303280"
  },
  {
    "text": "be the best and only version of kubernetes ever you can certify that and you don't have to certify a new version",
    "start": "303280",
    "end": "309919"
  },
  {
    "text": "until 1.17 1.21 and 1.25 but you actually do need to do those new",
    "start": "309919",
    "end": "316240"
  },
  {
    "text": "versions and offer them for sale and so it really is trying to avoid this fear",
    "start": "316240",
    "end": "321759"
  },
  {
    "text": "of people and then something that we've actually seen in other programs uh in the past and then um maybe the the most",
    "start": "321759",
    "end": "328960"
  },
  {
    "text": "clever and kind of most subtle aspect of the of the conformance program that's had the biggest impact is that um it's",
    "start": "328960",
    "end": "335919"
  },
  {
    "text": "not just an assertion where you can say okay well fine in theory somebody says",
    "start": "335919",
    "end": "340960"
  },
  {
    "text": "that they pass but i could have just copied somebody else's results and posted it up there how do i actually",
    "start": "340960",
    "end": "346479"
  },
  {
    "text": "know that you're conformant and here's where we've built in what's essentially a crowdsourcing element to how it works",
    "start": "346479",
    "end": "353919"
  },
  {
    "text": "that any of your customers can come along later and you've given them the exact steps in terms of flags or",
    "start": "353919",
    "end": "361120"
  },
  {
    "text": "configuration such in order to replicate these results and they need to be able to replicate them and find out that your",
    "start": "361120",
    "end": "368080"
  },
  {
    "text": "implementation is still conformant now in reality if they come along and they",
    "start": "368080",
    "end": "374000"
  },
  {
    "text": "get an error message we don't instantly take away their conformance there's all sorts of bugs that can occur and",
    "start": "374000",
    "end": "379520"
  },
  {
    "text": "incompatibilities and other sorts of stuff so there's an appeals process and they but any end user is very welcome to",
    "start": "379520",
    "end": "385919"
  },
  {
    "text": "escalate an issue to the kubernetes conformance working group we would then work with that vendor but it is",
    "start": "385919",
    "end": "392240"
  },
  {
    "text": "definitely the case there is a it's a universal consensus among this working group that if a vendor had claimed",
    "start": "392240",
    "end": "398319"
  },
  {
    "text": "conformance and was not actually conformant that they had changed something in the production environment",
    "start": "398319",
    "end": "403360"
  },
  {
    "text": "that they were now failing a test um a test that the that the sig architecture i'll say felt",
    "start": "403360",
    "end": "409599"
  },
  {
    "text": "was a valid test of kubernetes conformance that we would decertify them and they would then no longer be able to",
    "start": "409599",
    "end": "414960"
  },
  {
    "text": "use the trademark and if that happened it would actually be pretty big news so um this is not like highlighted on the",
    "start": "414960",
    "end": "421919"
  },
  {
    "text": "web page or anything but i think is just a really critical aspect of how the program was designed",
    "start": "421919",
    "end": "428960"
  },
  {
    "text": "um yeah i think i hit this so for cncf members it's free of charge if you're a little startup it's seven thousand",
    "start": "428960",
    "end": "435840"
  },
  {
    "text": "dollars to become a cncf member um if you for whatever reason are opposed to being a cncf member you're welcome to",
    "start": "435840",
    "end": "442560"
  },
  {
    "text": "just pay and certify it's the same seven thousand dollars uh either way and uh",
    "start": "442560",
    "end": "448160"
  },
  {
    "text": "free for uh for non-profits and i'll take a question and i'm going to hand it off",
    "start": "448160",
    "end": "454560"
  },
  {
    "text": "it is a certified so you're certified by product and any",
    "start": "458720",
    "end": "464479"
  },
  {
    "text": "member of cncf is welcome to certify any number of products free of charge and we",
    "start": "464479",
    "end": "470879"
  },
  {
    "text": "have at least a couple cases huawei and ibm in particular where they've certified both their public cloud",
    "start": "470879",
    "end": "476879"
  },
  {
    "text": "product and their private cloud i think there's one or two others where they've certified two it would be a little odd",
    "start": "476879",
    "end": "483360"
  },
  {
    "text": "to me if they were going to do more than that just because it's if it's confusing for us it's probably even more confusing",
    "start": "483360",
    "end": "489599"
  },
  {
    "text": "for their customers but they're welcome to do as many as they want uh so i'll stop there thanks very much",
    "start": "489599",
    "end": "495919"
  },
  {
    "text": "all right yeah that's all good yeah um so one more if you don't mind sure yeah so",
    "start": "495919",
    "end": "501360"
  },
  {
    "text": "i did have a question on the version so",
    "start": "501360",
    "end": "505759"
  },
  {
    "text": "and so what my concern is is if your operating system that you certified in your environment",
    "start": "524320",
    "end": "530640"
  },
  {
    "text": "is going to take you that long to certify i think you have to get that deployed first then you have to get",
    "start": "530640",
    "end": "537040"
  },
  {
    "text": "kubernetes on it now you're locked now you're looking at three or four years",
    "start": "537040",
    "end": "542640"
  },
  {
    "text": "so the the operating system is decoupled from kubernetes so you can run",
    "start": "542880",
    "end": "548640"
  },
  {
    "text": "kubernetes on old versions of rel in particular but to sort of get at what you're asking with the question um",
    "start": "548640",
    "end": "556720"
  },
  {
    "text": "we if you certify a version and then you keep certifying at least one new version per year the old versions remain",
    "start": "556720",
    "end": "563839"
  },
  {
    "text": "certified so",
    "start": "563839",
    "end": "567200"
  },
  {
    "text": "are you ready to make the gpu kernel module mandatory or think sig architecture we're going to quote me on",
    "start": "576080",
    "end": "581680"
  },
  {
    "text": "this right no no",
    "start": "581680",
    "end": "587360"
  },
  {
    "text": "i feel like it's a super legit use case and uh my my suggestion might be to",
    "start": "587360",
    "end": "592959"
  },
  {
    "text": "defer that discussion until we've had time to really think it through in the",
    "start": "592959",
    "end": "598480"
  },
  {
    "text": "uh lts working group as part of the kubernetes project because i think this the the cncf here is really about making",
    "start": "598480",
    "end": "605200"
  },
  {
    "text": "sure that the qualification and certification process makes the most sense and meets users needs and i think",
    "start": "605200",
    "end": "610480"
  },
  {
    "text": "the actual set of requirements and set of distinct users um still needs to be hashed out there",
    "start": "610480",
    "end": "615839"
  },
  {
    "text": "because we do care very much about that regulatory concern but it's about how do we best balance off those like long long",
    "start": "615839",
    "end": "622399"
  },
  {
    "text": "lead times with what it is we're trying to accomplish and your your example of like a newer",
    "start": "622399",
    "end": "628480"
  },
  {
    "text": "version of kubernetes versus a really really old operating system might be kind of a hairy situation i see yeah so",
    "start": "628480",
    "end": "635279"
  },
  {
    "text": "and what is the oldest kubernetes that is still getting security releases uh so the security release process matches the",
    "start": "635279",
    "end": "642640"
  },
  {
    "text": "number it's um it's three releases back so 113 is out",
    "start": "642640",
    "end": "648399"
  },
  {
    "text": "uh 110 is the last release of kubernetes or the earliest release of kubernetes",
    "start": "648399",
    "end": "653600"
  },
  {
    "text": "that still gets patch releases and so i would emphasize that fact though although vendors in principle could be",
    "start": "653600",
    "end": "659200"
  },
  {
    "text": "supporting 1.8 or 1.9 or such and there isn't it's direct analogy to linux here",
    "start": "659200",
    "end": "665120"
  },
  {
    "text": "of concerns about are the fixes really being back to be clear that that three releases",
    "start": "665120",
    "end": "670880"
  },
  {
    "text": "back that i'm talking about is what we're suggesting we have the conformance certification window match because it",
    "start": "670880",
    "end": "677360"
  },
  {
    "text": "just seems to make sense if the project's willing to support it that seems to be the same window for certification",
    "start": "677360",
    "end": "683839"
  },
  {
    "text": "mike hang on let's let's use our mic let's use our microphone voice um for the gpu use case in particular i",
    "start": "686880",
    "end": "693360"
  },
  {
    "text": "think that we'll probably solve that with a with a optional profile um to it to avoid uh basically that coupling that",
    "start": "693360",
    "end": "699680"
  },
  {
    "text": "you're trying to that you don't want there um and i think just in general just to echo what aaron",
    "start": "699680",
    "end": "704880"
  },
  {
    "text": "said uh the work group does care about that use case so probably the best thing to do is if you're interested you know just join",
    "start": "704880",
    "end": "710320"
  },
  {
    "text": "the mailing list and participate and let us know if something's kind of falling through the cracks we're certainly not trying to cut that out and so if",
    "start": "710320",
    "end": "717600"
  },
  {
    "text": "if we are inadvertently then we can revise that i think um yeah so i'm going to hand it off thank you",
    "start": "717600",
    "end": "723360"
  },
  {
    "text": "yeah thanks you just set that on the table i guess um so uh",
    "start": "723360",
    "end": "729200"
  },
  {
    "text": "how do you actually run the conformance tests there are two i know the way to",
    "start": "729200",
    "end": "734399"
  },
  {
    "text": "leave me with the easy stuff dan um there there are two different ways uh that are documented and you could maybe",
    "start": "734399",
    "end": "741360"
  },
  {
    "text": "use a couple different ways but the idea is the tests themselves are the same tests that the project uses to test",
    "start": "741360",
    "end": "746880"
  },
  {
    "text": "itself they are authored by the project they are owned by the kubernetes project these are two utilities that make it",
    "start": "746880",
    "end": "752959"
  },
  {
    "text": "maybe potentially easier to run them cubetest the first one is",
    "start": "752959",
    "end": "758800"
  },
  {
    "text": "very rich and configurable shall we say it's what we use in our in the projects",
    "start": "758800",
    "end": "765360"
  },
  {
    "text": "ci right now so the top line just is a go get for those",
    "start": "765360",
    "end": "770880"
  },
  {
    "text": "of you who use goliath this should be pretty easy and then inside of the kubernetes directory you are making just the",
    "start": "770880",
    "end": "777680"
  },
  {
    "text": "binaries you need to make which is the end to end test binary ginkgo because that's what we use to run the tests and",
    "start": "777680",
    "end": "782720"
  },
  {
    "text": "then kubectl because there is some client interaction with the server there are some environment variables just to",
    "start": "782720",
    "end": "788480"
  },
  {
    "text": "set up like the path to your kubernetes config and your your con and saying yes we're running a conformance test um and",
    "start": "788480",
    "end": "795120"
  },
  {
    "text": "then i've got you two options here to run the conformance tests the first one is the",
    "start": "795120",
    "end": "800880"
  },
  {
    "text": "most boring option and i think it's actually what the the second what the sauna boy",
    "start": "800880",
    "end": "806000"
  },
  {
    "text": "path does and that's just runs all the tests in serial so it runs every test with the",
    "start": "806000",
    "end": "812800"
  },
  {
    "text": "text conformance in it and",
    "start": "812800",
    "end": "818079"
  },
  {
    "text": "it takes about one to three hours because it's running every single test one after the other and some of those",
    "start": "818079",
    "end": "824639"
  },
  {
    "text": "tests are exercising things like exponential back off and reaching maximum delay",
    "start": "824639",
    "end": "830320"
  },
  {
    "text": "another perhaps faster way of doing it is to run the tests sort of twice",
    "start": "830320",
    "end": "836959"
  },
  {
    "text": "once you run just the tests that have to be run serially because they're disruptive",
    "start": "836959",
    "end": "842800"
  },
  {
    "text": "and then you also run in parallel the rest of the tests right and that method",
    "start": "842800",
    "end": "848079"
  },
  {
    "text": "it's probably uh larger numbers now but when i did this a couple months ago it used to be i could",
    "start": "848079",
    "end": "854639"
  },
  {
    "text": "run in parallel like in six to eight minutes i could run most of the conformance tests and then it took like",
    "start": "854639",
    "end": "859839"
  },
  {
    "text": "another three to five for the serial tests to finish",
    "start": "859839",
    "end": "865360"
  },
  {
    "text": "so that's just a really great way to do it locally and like i said we do this in the project's continuous integration",
    "start": "865360",
    "end": "871760"
  },
  {
    "text": "infrastructure because we need this level of configurability to support all these",
    "start": "871760",
    "end": "877040"
  },
  {
    "text": "sundry clouds and ways that you can deploy kubernetes so you're seeing a lot of flags that are actually used to",
    "start": "877040",
    "end": "883040"
  },
  {
    "text": "configure a lot of different things and this is just the set of them used for conformance",
    "start": "883040",
    "end": "889680"
  },
  {
    "text": "perhaps the more human way of doing this is just well we like containers so much what if",
    "start": "889680",
    "end": "896240"
  },
  {
    "text": "we just put the conformance tests inside a container and then we ran that container and what if we had a cluster",
    "start": "896240",
    "end": "902240"
  },
  {
    "text": "that's all about running containers and we just ran the container in that so you can actually run the conformance",
    "start": "902240",
    "end": "907839"
  },
  {
    "text": "tests as a container inside the cluster that you are testing that's basically what slaughterboy does",
    "start": "907839",
    "end": "913519"
  },
  {
    "text": "soniboy is the command line that sort of orchestrates all of this um but behind",
    "start": "913519",
    "end": "918560"
  },
  {
    "text": "the scenes it you know schedules a pod and a couple other things to watch that that pod is doing what it's supposed to",
    "start": "918560",
    "end": "924079"
  },
  {
    "text": "and the pod does all that gobbledygook i showed you earlier this is really great it's super user",
    "start": "924079",
    "end": "930079"
  },
  {
    "text": "friendly it's basically just these two lines it's super easy that said",
    "start": "930079",
    "end": "936000"
  },
  {
    "text": "i do sometimes wonder if this is the most realistic depiction of what conformance would mean to me as an end",
    "start": "936000",
    "end": "942800"
  },
  {
    "text": "user because i don't know about y'all but when i use a kubernetes cluster i don't crawl inside one of the machines",
    "start": "942800",
    "end": "948639"
  },
  {
    "text": "and use it from there right like i actually use it from my laptop where i probably have a little bit of network in",
    "start": "948639",
    "end": "954399"
  },
  {
    "text": "between me and the rest of the nodes so it's important to me that we use we sort of support both of those use cases",
    "start": "954399",
    "end": "961040"
  },
  {
    "text": "but this is an extremely uh concise way of doing it the other thing i'll mention about this",
    "start": "961040",
    "end": "966240"
  },
  {
    "text": "is that haptio built on a buoy um they also built the image that has all the",
    "start": "966240",
    "end": "971360"
  },
  {
    "text": "gobbledygook packaged up in there because they needed to do it super expediently",
    "start": "971360",
    "end": "976480"
  },
  {
    "text": "we'd really like to see if we can't have the project actually own this image instead because if the project owns the",
    "start": "976480",
    "end": "982959"
  },
  {
    "text": "definition of what the tests are sure seems like the project could package up the definition of all of those tests",
    "start": "982959",
    "end": "988480"
  },
  {
    "text": "into an image we had work started on doing that in 113 i actually don't know authoritatively",
    "start": "988480",
    "end": "995120"
  },
  {
    "text": "whether or not it landed by default as part of 113 so maybe it did if you're watching this maybe you can go verify",
    "start": "995120",
    "end": "1001759"
  },
  {
    "text": "but i can guarantee it'll be done by 114 since i'm leading that release process",
    "start": "1001759",
    "end": "1007839"
  },
  {
    "text": "uh question yeah we're doing questions in the middle of this test",
    "start": "1008000",
    "end": "1015040"
  },
  {
    "text": "it runs the same e2v test binary inside um yeah that's i suppose the other thing is sauna boy only cuts releases",
    "start": "1015600",
    "end": "1023360"
  },
  {
    "text": "like on release boundaries whereas cubeup kind of recompiles everything so that's how we use it to keep track of",
    "start": "1023360",
    "end": "1029760"
  },
  {
    "text": "conformance tests as they are added along the way whereas sauna buoy tends to be released like right on a release",
    "start": "1029760",
    "end": "1035199"
  },
  {
    "text": "boundary that's why for example uh the cube test way of standing up a cluster is what got",
    "start": "1035199",
    "end": "1041760"
  },
  {
    "text": "the first certification for 112 because sanovo had to wait a while to",
    "start": "1041760",
    "end": "1046959"
  },
  {
    "text": "cut the appropriate image for 112 certification um",
    "start": "1046959",
    "end": "1053480"
  },
  {
    "text": "so sauna boy the the utility itself i'm not sure i want to be an upstream dependency but the image that it",
    "start": "1053679",
    "end": "1058799"
  },
  {
    "text": "schedules to run the conformance tests is what we uh we did we started work on that um like the the code dims actually",
    "start": "1058799",
    "end": "1065919"
  },
  {
    "text": "landed some of the codes code to to build that image um but fully integrating it into everything and as",
    "start": "1065919",
    "end": "1072559"
  },
  {
    "text": "part of the set of release artifacts that we we provide with kubernetes i'm not sure if we actually got that far by",
    "start": "1072559",
    "end": "1078400"
  },
  {
    "text": "default so yeah i think i i already",
    "start": "1078400",
    "end": "1083840"
  },
  {
    "text": "talked about this and then sonoboy also has an option to just extend the timeout",
    "start": "1083840",
    "end": "1088960"
  },
  {
    "text": "if you don't have that option of running the tests in parallel and serial maybe you're just going to have to wait longer",
    "start": "1088960",
    "end": "1094720"
  },
  {
    "text": "maybe you have like a really flaky network connection or you have to download all of the container images that sort of thing",
    "start": "1094720",
    "end": "1102000"
  },
  {
    "text": "um i also wanted to talk a little bit about the progress we have made in like what",
    "start": "1102000",
    "end": "1108000"
  },
  {
    "text": "does conformance actually mean so conformance we define as a set of tests",
    "start": "1108000",
    "end": "1115200"
  },
  {
    "text": "that interact with the cluster as an end user would so that it's a set of end user behaviors visible as an end user",
    "start": "1115200",
    "end": "1122000"
  },
  {
    "text": "would see them and we've been working on trying to improve the set of behaviors or use",
    "start": "1122000",
    "end": "1128960"
  },
  {
    "text": "cases that we're exercising and so part of that is well how do we actually add the tests",
    "start": "1128960",
    "end": "1134559"
  },
  {
    "text": "part of that is how do we know like have we comprehensively covered all of the behaviors",
    "start": "1134559",
    "end": "1139600"
  },
  {
    "text": "and part of that is making sure we're going after the right behaviors first so",
    "start": "1139600",
    "end": "1145760"
  },
  {
    "text": "this is just updates on our progress over the past three releases",
    "start": "1145760",
    "end": "1151840"
  },
  {
    "text": "just to toot my own horn a little bit i started working on this in earnest in v112",
    "start": "1152160",
    "end": "1157760"
  },
  {
    "text": "so that's why i think we moved from four new test cases being added to 22 new test cases it's not like i wrote them",
    "start": "1157760",
    "end": "1163840"
  },
  {
    "text": "all myself in fact i didn't because it's the job of the feature owners to write",
    "start": "1163840",
    "end": "1169360"
  },
  {
    "text": "tests for their features not just write their features and throw them over the wall so they wrote some new test cases but we actually needed to",
    "start": "1169360",
    "end": "1176799"
  },
  {
    "text": "review them and make sure that they fit the list of conformance test requirements which shockingly weren't actually",
    "start": "1176799",
    "end": "1183120"
  },
  {
    "text": "documented and set in stone until the v112 release took us about two months to figure out what we wanted for",
    "start": "1183120",
    "end": "1189039"
  },
  {
    "text": "conformance test requirements we needed to make sure that we had a list of requirements on like what the actual",
    "start": "1189039",
    "end": "1194240"
  },
  {
    "text": "features are that are testable for conformance you know things like they should be stable they should be enabled",
    "start": "1194240",
    "end": "1200240"
  },
  {
    "text": "by default um they probably should not be optional they probably should not be the sort of thing that's dependent on",
    "start": "1200240",
    "end": "1206640"
  },
  {
    "text": "hardware or certain clouds existing um we also needed requirements on what",
    "start": "1206640",
    "end": "1212159"
  },
  {
    "text": "the test itself did so like was the test doing some sort of anti-pattern like depending upon events which don't have",
    "start": "1212159",
    "end": "1218720"
  },
  {
    "text": "guaranteed delivery or was the test doing something really disruptive that would cause other tests executing",
    "start": "1218720",
    "end": "1225120"
  },
  {
    "text": "against the cluster to fail so after that we decided to find ways to",
    "start": "1225120",
    "end": "1232240"
  },
  {
    "text": "measure whether or not we were headed in the right direction we didn't actually have a good way of measuring behavior",
    "start": "1232240",
    "end": "1238240"
  },
  {
    "text": "behavior is a pretty abstract concept so what if we instead focused on api coverage and also look at something like",
    "start": "1238240",
    "end": "1245600"
  },
  {
    "text": "code coverage code coverage you're pretty familiar with from unit testing but what if we could do the same thing with the end-to-end",
    "start": "1245600",
    "end": "1252159"
  },
  {
    "text": "tests that we run as conformance tests",
    "start": "1252159",
    "end": "1255919"
  },
  {
    "text": "type of questions all those also look at no test quantity",
    "start": "1261280",
    "end": "1266559"
  },
  {
    "text": "scale at present we don't look at performance-based metrics",
    "start": "1266559",
    "end": "1271600"
  },
  {
    "text": "right we think that could be something that could be like an optional profile because we want to make sure that",
    "start": "1271600",
    "end": "1277360"
  },
  {
    "text": "kubernetes is capable of working on a cluster of raspberry pi's as much as it is on a 5000 node supercomputing cluster",
    "start": "1277360",
    "end": "1284240"
  },
  {
    "text": "but it could be that the person who has the amount of money to stand up a 5000 node cluster wants to put a sticker on",
    "start": "1284240",
    "end": "1290799"
  },
  {
    "text": "it that says we guarantee this is really really fast and super performant and there are certain use cases that",
    "start": "1290799",
    "end": "1296799"
  },
  {
    "text": "supports that a raspberry pi cluster doesn't um but at present no",
    "start": "1296799",
    "end": "1303200"
  },
  {
    "text": "pat okay so uh just the the process to add tests i think i tried to sort of walk",
    "start": "1303200",
    "end": "1309919"
  },
  {
    "text": "through some of the requirements the little asterisk there is because i have lots of slides on very detailed examples",
    "start": "1309919",
    "end": "1315200"
  },
  {
    "text": "of each of these requirements um but around all of that you you write an end-to-end test for your feature this",
    "start": "1315200",
    "end": "1321360"
  },
  {
    "text": "is just kind of what you should do during development anyway then you should document what that end-to-end test does yes developers you must",
    "start": "1321360",
    "end": "1328080"
  },
  {
    "text": "actually document your code and then after it's demonstrated to meet the requirements of like being well",
    "start": "1328080",
    "end": "1334640"
  },
  {
    "text": "written and not doing anything in a flaky manner and using the appropriate set of features um propose it to sig architecture that",
    "start": "1334640",
    "end": "1342000"
  },
  {
    "text": "it be promoted to conformance so why sig architecture sig architecture is the special interest",
    "start": "1342000",
    "end": "1348480"
  },
  {
    "text": "group that most appropriately defines what kubernetes is they have a number of sub-projects around like how do we",
    "start": "1348480",
    "end": "1356159"
  },
  {
    "text": "add new enhancements to kubernetes through the cap process how should we organize the code in the code base",
    "start": "1356159",
    "end": "1362159"
  },
  {
    "text": "through the code organization subproject and also what are the full set of things",
    "start": "1362159",
    "end": "1367600"
  },
  {
    "text": "that make the most sense for conformance the list of people who can actually",
    "start": "1367600",
    "end": "1373360"
  },
  {
    "text": "make that decision is small right now and we are looking to grow it and part of growing it is going through this",
    "start": "1373360",
    "end": "1379039"
  },
  {
    "text": "process a lot and having uh people review these tests and make sure we've got all the requirements written down to",
    "start": "1379039",
    "end": "1385200"
  },
  {
    "text": "the point where it's not just like a very thorough review by a person but going through just a pretty quick and",
    "start": "1385200",
    "end": "1391520"
  },
  {
    "text": "easy checklist did you still have a question patrick yeah",
    "start": "1391520",
    "end": "1396960"
  },
  {
    "text": "i don't know if i have an example here uh so basically the uh the idea was um",
    "start": "1399600",
    "end": "1406480"
  },
  {
    "text": "some of the tests as written today are like a couple hundred lines of code",
    "start": "1406480",
    "end": "1412159"
  },
  {
    "text": "that's super verbose because that's just the way goes formatting works",
    "start": "1412159",
    "end": "1417280"
  },
  {
    "text": "and it can be difficult for someone who is non-technical to at a glance read that test and quickly grok what it's",
    "start": "1417280",
    "end": "1423440"
  },
  {
    "text": "trying to do so what if we instead had like a one to three sentence description that tried to",
    "start": "1423440",
    "end": "1428880"
  },
  {
    "text": "describe like what's the setup what's the logic being executed in rfc 2119",
    "start": "1428880",
    "end": "1435360"
  },
  {
    "text": "compliant language you know the one that's like must in all caps should in all caps and those actually mean things",
    "start": "1435360",
    "end": "1441120"
  },
  {
    "text": "like use that kind of language so it sounds really formal but does actually use well understood definitions for",
    "start": "1441120",
    "end": "1446400"
  },
  {
    "text": "those things and then from that we can use a tool that generates a set of documentation that's",
    "start": "1446400",
    "end": "1452720"
  },
  {
    "text": "like these are all of the tests and this is what they do so you can kind of get close to that what does conformance",
    "start": "1452720",
    "end": "1458960"
  },
  {
    "text": "actually do thing it's not perfect i would really like to find ways to improve on it we can talk",
    "start": "1458960",
    "end": "1464400"
  },
  {
    "text": "offline about how to do that but that's roughly what it is today",
    "start": "1464400",
    "end": "1468880"
  },
  {
    "text": "it's in the conformance requirements it actually specifies the format that you're supposed to do the the comment so it says something",
    "start": "1470080",
    "end": "1476480"
  },
  {
    "text": "about where the test name is supposed to go what release the test was added in and then what the description is supposed to be",
    "start": "1476480",
    "end": "1483840"
  },
  {
    "text": "um so here in graph form is the number of conformance test cases that we have",
    "start": "1484320",
    "end": "1489600"
  },
  {
    "text": "added to the kubernetes conformance test suite over the past year this is a little out of date because it was before",
    "start": "1489600",
    "end": "1495760"
  },
  {
    "text": "113 was cut but it's basically the same number of tests it's cool how it goes up into the right",
    "start": "1495760",
    "end": "1502960"
  },
  {
    "text": "here it is in text form and i'm basically just showing this to demonstrate how if you want to read these slides later because they're",
    "start": "1502960",
    "end": "1508880"
  },
  {
    "text": "posted online you can see all the exact tests that we added but i was pretty happy with the fact",
    "start": "1508880",
    "end": "1514559"
  },
  {
    "text": "that the text actually overflowed the slide we added so many in 113 that was really great and the bulk of the tests",
    "start": "1514559",
    "end": "1520640"
  },
  {
    "text": "were around um cube ctl client which was also great uh end users do often use",
    "start": "1520640",
    "end": "1526240"
  },
  {
    "text": "coupe ctl cube cuddle if you will to interact with kubernetes clusters",
    "start": "1526240",
    "end": "1532240"
  },
  {
    "text": "however that progress maybe doesn't look so great if you look at the number of conformance tests relative to say the",
    "start": "1532240",
    "end": "1538159"
  },
  {
    "text": "number of tests that we use to block the release and this isn't even actually the full number of tests this is just the",
    "start": "1538159",
    "end": "1544640"
  },
  {
    "text": "tests that run in one of the 30 or so jobs that could potentially block the release these are",
    "start": "1544640",
    "end": "1551360"
  },
  {
    "text": "all of the tests that are non-disruptive non-flaky non-slow don't don't exercise a feature that's optional",
    "start": "1551360",
    "end": "1557919"
  },
  {
    "text": "or beta and you can see there's a lot more of them so it could be like what if for example in a perfect",
    "start": "1557919",
    "end": "1565360"
  },
  {
    "text": "world we just used all of those release blocking tests and said well if you're blocking the release with it it may as well be conformance right",
    "start": "1565360",
    "end": "1573200"
  },
  {
    "text": "it turns out if i look by api coverage as one of the proxies for behavior that",
    "start": "1573520",
    "end": "1579279"
  },
  {
    "text": "those release blocking tests don't really add a whole bunch more coverage it's like it's an entire extra 10",
    "start": "1579279",
    "end": "1586000"
  },
  {
    "text": "percent which means maybe there is some room to grow maybe there are some features to grow but it also means like",
    "start": "1586000",
    "end": "1591679"
  },
  {
    "text": "there's a whole other 40 that's not being covered right now all right this graph is kind of colorful",
    "start": "1591679",
    "end": "1597679"
  },
  {
    "text": "let's actually explain it a little bit more than that so each of the colors uh",
    "start": "1597679",
    "end": "1602720"
  },
  {
    "text": "signifies um a color of the rainbow no a release so the red one is the latest release and",
    "start": "1602720",
    "end": "1609360"
  },
  {
    "text": "then the cooler you get the older you get and the release and then going down the graph",
    "start": "1609360",
    "end": "1615520"
  },
  {
    "text": "we can see that the very top entry is the api coverage for every single api endpoint available",
    "start": "1615520",
    "end": "1622880"
  },
  {
    "text": "so a by api endpoint i mean a path and a verb like post to api v1 pods foo",
    "start": "1622880",
    "end": "1632320"
  },
  {
    "text": "then instead of focusing on all api endpoints what if we just focused on the stable api endpoints which are",
    "start": "1632400",
    "end": "1637919"
  },
  {
    "text": "unchanging and is one of the requirements for conformance and then beyond that what if we focused on the",
    "start": "1637919",
    "end": "1643440"
  },
  {
    "text": "stable core api endpoints so core means things like pods things like name spaces",
    "start": "1643440",
    "end": "1650480"
  },
  {
    "text": "things that might end up in the nucleus layer of kubernetes if you've seen that architecture diagram they're the things",
    "start": "1650480",
    "end": "1656399"
  },
  {
    "text": "upon which all the other pieces of kubernetes are really built like you can't really have a deployment without a",
    "start": "1656399",
    "end": "1662320"
  },
  {
    "text": "replica set you can't really have a replica set without pods you can't really have services without end points",
    "start": "1662320",
    "end": "1669440"
  },
  {
    "text": "things of that nature um the lower three tests are the release",
    "start": "1669440",
    "end": "1674640"
  },
  {
    "text": "tests instead of the conformance tests so like i said i don't think they provide a ton of additional coverage",
    "start": "1674640",
    "end": "1680240"
  },
  {
    "text": "the other thing i wanted to denote with the colors is that yay progress as you go down as we release more things we get",
    "start": "1680240",
    "end": "1687120"
  },
  {
    "text": "more coverage we are making progress this is good um here is this in a much shinier graph",
    "start": "1687120",
    "end": "1695200"
  },
  {
    "text": "this is generated by api snoop a tool written by uh hippie hacker over here",
    "start": "1695200",
    "end": "1701760"
  },
  {
    "text": "contracted by cncf over there and the sunburst graph sort of shows",
    "start": "1701760",
    "end": "1708320"
  },
  {
    "text": "if the inner ring is the level the outer the the second ring is the",
    "start": "1708320",
    "end": "1714000"
  },
  {
    "text": "api group and then the ring beyond that is all of the different names or verbs",
    "start": "1714000",
    "end": "1719600"
  },
  {
    "text": "uh this basically shows that if we just look at the conformance test and we only looked at the end points",
    "start": "1719600",
    "end": "1725919"
  },
  {
    "text": "that we hit on a kubernetes cluster from the end-to-end test we only get 14.3 coverage",
    "start": "1725919",
    "end": "1733279"
  },
  {
    "text": "that's really not that great but it turns out like there's a lot more api stuff happening than just the api",
    "start": "1733279",
    "end": "1739440"
  },
  {
    "text": "calls as a result of the end-to-end test binary this is why we don't think it's a great",
    "start": "1739440",
    "end": "1744720"
  },
  {
    "text": "idea to just look at like well if i analyze from my laptop like what am i calling then if i've called all the",
    "start": "1744720",
    "end": "1750080"
  },
  {
    "text": "things from my laptop i've covered everything there are actually some things i can't cover from my laptop at all",
    "start": "1750080",
    "end": "1756640"
  },
  {
    "text": "so if we look at potentially all of the api coverage from every potentially qualifying test",
    "start": "1756640",
    "end": "1764559"
  },
  {
    "text": "so like let's assume all of the release tests qualified that's sort of the delta that we would get with this graph it",
    "start": "1764559",
    "end": "1770559"
  },
  {
    "text": "looks better it's up to 43.3 percent but we still have a lot to cover we still",
    "start": "1770559",
    "end": "1776159"
  },
  {
    "text": "actually need to write more end-to-end test cases so how you can help",
    "start": "1776159",
    "end": "1782480"
  },
  {
    "text": "you can help contribute tests that exercise pod functionality because i jammed three talks into one in",
    "start": "1782480",
    "end": "1789360"
  },
  {
    "text": "this i guess i kind of lost the flow here but suffice to say one of our priorities from a conformance perspective as we",
    "start": "1789360",
    "end": "1795440"
  },
  {
    "text": "look to improve coverage is we want to make sure that the pod the fundamental",
    "start": "1795440",
    "end": "1800720"
  },
  {
    "text": "building block of kubernetes is what we have the most coverage on you can change your network you can",
    "start": "1800720",
    "end": "1806640"
  },
  {
    "text": "change your run time you can change your storage but a pod's got to work the same way",
    "start": "1806640",
    "end": "1812159"
  },
  {
    "text": "every time so we got to make sure that all of those behaviors you expect from pods",
    "start": "1812159",
    "end": "1817360"
  },
  {
    "text": "from their the container probes that monitor them to the way volumes work within them to when they start and when",
    "start": "1817360",
    "end": "1824080"
  },
  {
    "text": "they die and their the sidecar stuff works all okay like we have to make sure all of that works um you could also help",
    "start": "1824080",
    "end": "1831120"
  },
  {
    "text": "by categorizing the existing set of tests that are labeled with conformance some of them don't meet the requirements",
    "start": "1831120",
    "end": "1836640"
  },
  {
    "text": "in that finely detailed list i listed out you could run conformance tests against your own kubernetes cluster you might",
    "start": "1836640",
    "end": "1842640"
  },
  {
    "text": "find there are places where it's not working in your cluster and we can have a discussion about whether that means your cluster is configured incorrectly",
    "start": "1842640",
    "end": "1849520"
  },
  {
    "text": "or maybe it shouldn't be a conformance test great example of this is those folks who've had to run conformance tests in",
    "start": "1849520",
    "end": "1855840"
  },
  {
    "text": "air-gapped environments that is a totally valid use case we had to figure out how to make that work",
    "start": "1855840",
    "end": "1861519"
  },
  {
    "text": "you can participate in discussion at one of the two main groups that talks about this the cncf conformance working group",
    "start": "1861519",
    "end": "1867360"
  },
  {
    "text": "which is what i'm talking to you about now or sig architecture which is the project group that is in charge of this",
    "start": "1867360",
    "end": "1872880"
  },
  {
    "text": "here are some references on all that if you want more thanks to these folks whose content i",
    "start": "1872880",
    "end": "1878000"
  },
  {
    "text": "largely pirated or who helped put together the program that i am talking about right now and thanks to these",
    "start": "1878000",
    "end": "1884080"
  },
  {
    "text": "folks who helped put together many of the graphs that i just showed you and i think i've already run out of time",
    "start": "1884080",
    "end": "1892919"
  },
  {
    "text": "[Applause] see you tomorrow",
    "start": "1893610",
    "end": "1898679"
  }
]