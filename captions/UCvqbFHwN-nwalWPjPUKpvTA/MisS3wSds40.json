[
  {
    "text": "hi i believe we are live with our cloud native security tutorial",
    "start": "160",
    "end": "6000"
  },
  {
    "text": "um yeah so this is the first time we've used this platform so uh i hope we're going to be able to find",
    "start": "6000",
    "end": "11519"
  },
  {
    "text": "our way around on this today and if you haven't met me before my name's liz rice",
    "start": "11519",
    "end": "16960"
  },
  {
    "text": "uh michael do you want to say hello hello there everyone my name is michael housen please",
    "start": "16960",
    "end": "23519"
  },
  {
    "text": "great so uh thanks everyone for joining us today on this tutorial now i hope",
    "start": "23519",
    "end": "29599"
  },
  {
    "text": "that you got a message beforehand about um preparation we're going to be running",
    "start": "29599",
    "end": "35200"
  },
  {
    "text": "through lots of different exercises today we've got lots of hands-on demos and if",
    "start": "35200",
    "end": "40239"
  },
  {
    "text": "you want to run through those demos with us as we go along you'll you will probably want to have",
    "start": "40239",
    "end": "47840"
  },
  {
    "text": "already done that preparation so hopefully you've been able to do that um",
    "start": "47840",
    "end": "53039"
  },
  {
    "text": "the other bit of housekeeping i wanted to mention is we're going to be using the slack channel",
    "start": "53039",
    "end": "58320"
  },
  {
    "text": "for q a it's number two cube con tutorial",
    "start": "58320",
    "end": "64878"
  },
  {
    "text": "security so do jump in there at any time when i'm speaking",
    "start": "64879",
    "end": "69920"
  },
  {
    "text": "michael will also be looking at the slack channel and then later on when michael speaking i will be looking at",
    "start": "69920",
    "end": "75040"
  },
  {
    "text": "the slack channel we'll try and answer questions as we go along this afternoon and and if",
    "start": "75040",
    "end": "81200"
  },
  {
    "text": "we don't if there's anything we don't get to while we're live today we'll try and answer it later on today or even later on during the",
    "start": "81200",
    "end": "88159"
  },
  {
    "text": "week and that also means that if there's anything uh while you're if you want to try out the exercises later",
    "start": "88159",
    "end": "95280"
  },
  {
    "text": "do come and ask us questions in the slack channel and we will try to help you out",
    "start": "95280",
    "end": "101840"
  },
  {
    "text": "all right so i'm just gonna try to share my screen now",
    "start": "101840",
    "end": "107520"
  },
  {
    "text": "see if i can get that going all right so hopefully you can see",
    "start": "107520",
    "end": "115280"
  },
  {
    "text": "my web browser and my terminal window",
    "start": "115280",
    "end": "120479"
  },
  {
    "text": "so we're going to walk through uh some practical lessons on how to defend",
    "start": "120479",
    "end": "126719"
  },
  {
    "text": "yourself against attacks and uh this diagram which comes from",
    "start": "126719",
    "end": "134239"
  },
  {
    "text": "our book we uh hold that up in front of the camera in an appropriate way",
    "start": "134239",
    "end": "139360"
  },
  {
    "text": "so this is a book that michael and i wrote about kubernetes security and this diagram comes straight from we come to your",
    "start": "139360",
    "end": "146000"
  },
  {
    "text": "screen you can't see my screen people confirm",
    "start": "146000",
    "end": "151360"
  },
  {
    "text": "nope not yet maybe there is a delay",
    "start": "151360",
    "end": "157040"
  },
  {
    "text": "i don't know i've still got so many problems okay i'm gonna you can see this group",
    "start": "157040",
    "end": "165200"
  },
  {
    "text": "some people can see the screen okay",
    "start": "165200",
    "end": "169680"
  },
  {
    "text": "okay good good it's eventual consistency right uh yeah so this diagram came from the",
    "start": "176160",
    "end": "184480"
  },
  {
    "text": "book and there is a typo in the book if the first person in that slack channel to point out what",
    "start": "184480",
    "end": "191680"
  },
  {
    "text": "the typo is and what it should say i will send you a physical copy of the book so uh",
    "start": "191680",
    "end": "198159"
  },
  {
    "text": "have a quick look at that diagram it leaps out at me but i've seen it a few times now so",
    "start": "198159",
    "end": "203920"
  },
  {
    "text": "anyway uh so this diagram is showing a variety of different ways that an",
    "start": "203920",
    "end": "209840"
  },
  {
    "text": "attacker might choose to try to compromise your",
    "start": "209840",
    "end": "214879"
  },
  {
    "text": "kubernetes cluster or applications we're not going to have time to go through all of those",
    "start": "214879",
    "end": "220720"
  },
  {
    "text": "in the session this afternoon but we are going to look at some of the most important tools that you can use to",
    "start": "220720",
    "end": "226080"
  },
  {
    "text": "defend yourself so i'm going to start by talking about",
    "start": "226080",
    "end": "231200"
  },
  {
    "text": "vulnerabilities in application codes and how you can defend yourself against known",
    "start": "231200",
    "end": "236720"
  },
  {
    "text": "vulnerabilities then i'm going to move on to talking about securing your",
    "start": "236720",
    "end": "242799"
  },
  {
    "text": "cluster according to the best practices basically uh so that will it's how how",
    "start": "242799",
    "end": "249519"
  },
  {
    "text": "to configure your nodes your xcd settings your api settings and so on",
    "start": "249519",
    "end": "254959"
  },
  {
    "text": "to make it harder for attackers to compromise through those routes and then i'm going to hand over to",
    "start": "254959",
    "end": "260959"
  },
  {
    "text": "michael he's going to talk about using policies to protect yourself against",
    "start": "260959",
    "end": "267360"
  },
  {
    "text": "for example misconfigured container uh images and uh",
    "start": "267360",
    "end": "273919"
  },
  {
    "text": "then he's gonna move on to talk about how you can use githubs to secure your cluster or to um",
    "start": "273919",
    "end": "281040"
  },
  {
    "text": "kind of add an extra layer of defense around what you're doing in your kubernetes cluster",
    "start": "281040",
    "end": "286560"
  },
  {
    "text": "so we have got a ton of exercises practical demos and so on to",
    "start": "286560",
    "end": "292160"
  },
  {
    "text": "to get through today as i say do ask questions as we go along we will try to",
    "start": "292160",
    "end": "297919"
  },
  {
    "text": "to answer those i think without further ado i'm going to go on to the first of those",
    "start": "297919",
    "end": "304000"
  },
  {
    "text": "exercises and uh we will talk about running a compromise pod",
    "start": "304000",
    "end": "312800"
  },
  {
    "text": "so if you've been through the preparation section you should have a kubernetes cluster",
    "start": "312800",
    "end": "318560"
  },
  {
    "text": "running i'm using kind some of the examples i'm using will assume that we're using kind",
    "start": "318560",
    "end": "324479"
  },
  {
    "text": "it's kubernetes in docker and what i'm going to do is run a vulnerable",
    "start": "324479",
    "end": "330800"
  },
  {
    "text": "application in my cluster i'm just going to copy this",
    "start": "330800",
    "end": "339039"
  },
  {
    "text": "and run i made a helm chart to make it very easy for you to install",
    "start": "339039",
    "end": "344080"
  },
  {
    "text": "this vulnerable web server application it's running with the shell shock vulnerability do not run that in a",
    "start": "344080",
    "end": "350400"
  },
  {
    "text": "production cluster if you just copied and pasted that while you had your kubernetes context pointing to your",
    "start": "350400",
    "end": "356479"
  },
  {
    "text": "production cluster uninstall it now don't don't don't do that",
    "start": "356479",
    "end": "361919"
  },
  {
    "text": "it's kind of okay to run on your laptop and that's pretty much it because this is a pretty bad vulnerability",
    "start": "361919",
    "end": "367840"
  },
  {
    "text": "as we're about to see so shell shock is just one of",
    "start": "367840",
    "end": "375360"
  },
  {
    "text": "many thousands of known vulnerabilities that can exist in packages that you might have",
    "start": "375360",
    "end": "383199"
  },
  {
    "text": "installed on your servers or in your container images and if you're running with those",
    "start": "383199",
    "end": "388800"
  },
  {
    "text": "vulnerabilities because they're known attackers will look for them to see if",
    "start": "388800",
    "end": "394400"
  },
  {
    "text": "they're available uh see if they can be exploited on your system",
    "start": "394400",
    "end": "399759"
  },
  {
    "text": "shell shock is a pretty old vulnerability it's from 2014 but it's quite a nice example of",
    "start": "399759",
    "end": "406319"
  },
  {
    "text": "something that's pretty easy to exploit and uh you know pretty powerful",
    "start": "406319",
    "end": "412319"
  },
  {
    "text": "so now that i've run that helm chart that will have run deployments and",
    "start": "412319",
    "end": "419599"
  },
  {
    "text": "i've got a an instance of a pod running with this shell shock",
    "start": "419599",
    "end": "425199"
  },
  {
    "text": "vulnerability in it and i'm going to want to send web",
    "start": "425199",
    "end": "430720"
  },
  {
    "text": "requests to that web server so i'm just going to run port forwarding",
    "start": "430720",
    "end": "436960"
  },
  {
    "text": "so this inner command is is getting hold of the the name of this pod and then i'm going to",
    "start": "436960",
    "end": "444960"
  },
  {
    "text": "port forward so that my local host for 8081 maps to port 80",
    "start": "444960",
    "end": "452160"
  },
  {
    "text": "in that in that container running in that pod",
    "start": "452160",
    "end": "457919"
  },
  {
    "text": "so if i click on that",
    "start": "457919",
    "end": "464080"
  },
  {
    "text": "live demo issues why is that not gonna work",
    "start": "464080",
    "end": "469680"
  },
  {
    "text": "there we go got there in the end maybe my port forwarding wasn't quite up or something",
    "start": "469680",
    "end": "475440"
  },
  {
    "text": "so this is the default uh page being served by that application",
    "start": "475440",
    "end": "482560"
  },
  {
    "text": "running on my uh in my vulnerable pod so far so good that just looks like",
    "start": "482560",
    "end": "489440"
  },
  {
    "text": "a regular apache 2 web page",
    "start": "489440",
    "end": "494639"
  },
  {
    "text": "so if i go back to my tutorial okay i also have",
    "start": "494639",
    "end": "501840"
  },
  {
    "text": "a script so actually let me just curl to just so you can see curl local host",
    "start": "501840",
    "end": "509360"
  },
  {
    "text": "okay one and we'll see a bunch of html that's the the same as the page we just looked at",
    "start": "509360",
    "end": "515360"
  },
  {
    "text": "so i can make requests to that address and get responses",
    "start": "515360",
    "end": "520880"
  },
  {
    "text": "and i can also make requests to a script so this cgi bin",
    "start": "520880",
    "end": "527760"
  },
  {
    "text": "directory runs scripts and all this script does is return some text",
    "start": "527760",
    "end": "535360"
  },
  {
    "text": "it's regular expected output that's what we expect to see when we make a request to this address",
    "start": "535360",
    "end": "544560"
  },
  {
    "text": "so now we get into the fun part we get into the bit where we can exploit shell shock",
    "start": "545360",
    "end": "552480"
  },
  {
    "text": "so what shell shock is is a vulnerability that means bash will",
    "start": "552480",
    "end": "559519"
  },
  {
    "text": "when it expands environment variables it can be made to run arbitrary bash commands",
    "start": "559519",
    "end": "568240"
  },
  {
    "text": "when you send a web request if you pass in a user agent string that",
    "start": "568240",
    "end": "574480"
  },
  {
    "text": "gets set as an environment variable so you can craft that environment variable",
    "start": "574480",
    "end": "580480"
  },
  {
    "text": "very easily in a way that includes some commands that then get executed by bash",
    "start": "580480",
    "end": "587839"
  },
  {
    "text": "because of this vulnerability so here's my uh command that i'm gonna that i'm gonna",
    "start": "587839",
    "end": "595279"
  },
  {
    "text": "run let me just copy that and paste it before i hit return on it the dash a is saying i'm",
    "start": "595279",
    "end": "603680"
  },
  {
    "text": "sending a user agent string so i'm adding to my http request",
    "start": "603680",
    "end": "611200"
  },
  {
    "text": "and that's the agent string that i'm sending in and as you can see i've included",
    "start": "611200",
    "end": "619519"
  },
  {
    "text": "some arbitrary code i've asked it to cap the contents of the etc password file",
    "start": "619519",
    "end": "624959"
  },
  {
    "text": "and it's going to send that back to me instead of the normal response to that",
    "start": "624959",
    "end": "630839"
  },
  {
    "text": "page so there we go i have essentially hacked",
    "start": "630839",
    "end": "636800"
  },
  {
    "text": "into the web server running in that container image and i've got the contents of the",
    "start": "636800",
    "end": "643040"
  },
  {
    "text": "password file i can very easily change that to run some other command maybe i just",
    "start": "643040",
    "end": "652000"
  },
  {
    "text": "list the contents of the root directory",
    "start": "652000",
    "end": "656160"
  },
  {
    "text": "pretty nice thing to be able to do as an attacker right it's a very powerful exploit",
    "start": "657360",
    "end": "666160"
  },
  {
    "text": "so as someone operating this web server i really want to know that it doesn't",
    "start": "666160",
    "end": "671920"
  },
  {
    "text": "include that vulnerability and the way we do that is with container",
    "start": "671920",
    "end": "678240"
  },
  {
    "text": "image scanning all right any uh questions that we",
    "start": "678240",
    "end": "683600"
  },
  {
    "text": "should deal with before i move on at this point michael i haven't seen anything like content",
    "start": "683600",
    "end": "690720"
  },
  {
    "text": "related it was mainly um in terms of how to access the tutorial",
    "start": "690720",
    "end": "696079"
  },
  {
    "text": "uh page itself i pasted that in there and it's also pinned on our slack",
    "start": "696079",
    "end": "702079"
  },
  {
    "text": "channel so if you're not yet there on the cncf select community to kubecon tutorials security up there",
    "start": "702079",
    "end": "710320"
  },
  {
    "text": "it's pinned tutorial quantity security.info",
    "start": "710320",
    "end": "715440"
  },
  {
    "text": "most of the feedback so far was around difficulties uh in in browser so apparently chrome and",
    "start": "715440",
    "end": "721360"
  },
  {
    "text": "firefox behaves differently um i haven't seen a content related question",
    "start": "721360",
    "end": "727120"
  },
  {
    "text": "yet so i would say let's continue and we're good in time so okay",
    "start": "727120",
    "end": "734560"
  },
  {
    "text": "good all right so we've shown how running with a vulnerable image",
    "start": "734560",
    "end": "742800"
  },
  {
    "text": "can potentially be exploited and the question now is how can you make",
    "start": "742800",
    "end": "749360"
  },
  {
    "text": "sure you're not running with one of these known vulnerabilities there are literally",
    "start": "749360",
    "end": "754959"
  },
  {
    "text": "thousands of vulnerabilities that have been published they all get given a cve identifier",
    "start": "754959",
    "end": "763120"
  },
  {
    "text": "we'll see some examples of that shortly and they exist",
    "start": "763120",
    "end": "769360"
  },
  {
    "text": "in packages that you install on your operating system they can also",
    "start": "769360",
    "end": "775760"
  },
  {
    "text": "exist in other dependencies like language specific dependencies",
    "start": "775760",
    "end": "780800"
  },
  {
    "text": "there are lots of vulnerability scanning tools that you can use to look at",
    "start": "780800",
    "end": "788399"
  },
  {
    "text": "and include any of these known",
    "start": "788720",
    "end": "794399"
  },
  {
    "text": "vulnerabilities what that really means is what packages are installed what",
    "start": "794399",
    "end": "800399"
  },
  {
    "text": "versions of those packages are installed and then for each version of a particular package looking",
    "start": "800399",
    "end": "807440"
  },
  {
    "text": "up whether it contains any known vulnerabilities so there are a few different scanners",
    "start": "807440",
    "end": "814240"
  },
  {
    "text": "available the one i'm going to use is a tool called trivi if you don't already have this installed and you want",
    "start": "814240",
    "end": "819360"
  },
  {
    "text": "to do so it's very easy to install with brew or with this installation script",
    "start": "819360",
    "end": "825680"
  },
  {
    "text": "other scanners are available there are open source scanners from anchor and red hat's claire there are",
    "start": "825680",
    "end": "833120"
  },
  {
    "text": "also several commercially available scanners then largely doing a similar job they",
    "start": "833120",
    "end": "839600"
  },
  {
    "text": "may have different data sources and handle or have support for different operating",
    "start": "839600",
    "end": "846000"
  },
  {
    "text": "system versions or different programming languages but they're all essentially doing the same",
    "start": "846000",
    "end": "851839"
  },
  {
    "text": "kind of thing trivia is developed by my team so i'm i'm",
    "start": "851839",
    "end": "857360"
  },
  {
    "text": "biased and and i think it's the best one out there but uh i'll leave it to you to uh",
    "start": "857360",
    "end": "863120"
  },
  {
    "text": "to compare and contrast different vulnerability scanners so if you've got it installed now let's",
    "start": "863120",
    "end": "870320"
  },
  {
    "text": "have a look at the [Music] pod that i'm running and let's",
    "start": "870320",
    "end": "878959"
  },
  {
    "text": "describe this um",
    "start": "879120",
    "end": "884320"
  },
  {
    "text": "odd and we can see that the image is running",
    "start": "884320",
    "end": "889360"
  },
  {
    "text": "is this shell shockable image so if i want to see whether there are",
    "start": "889360",
    "end": "895440"
  },
  {
    "text": "any vulnerabilities in that image actually i should copy and paste that's",
    "start": "895440",
    "end": "900560"
  },
  {
    "text": "quicker all i need to do is run trivia open image",
    "start": "900560",
    "end": "906320"
  },
  {
    "text": "let's apply the image name you'll see it downloading a database this is the database of",
    "start": "906320",
    "end": "913279"
  },
  {
    "text": "which vulnerabilities exist in which versions of which packages",
    "start": "913279",
    "end": "919600"
  },
  {
    "text": "and you'll see that it's come back with a few different vulnerabilities here",
    "start": "919600",
    "end": "926880"
  },
  {
    "text": "the interesting ones at the top here are cv 2014",
    "start": "926880",
    "end": "933279"
  },
  {
    "text": "uh 6271 and 71.69 so actually when shell shock was fixed",
    "start": "933279",
    "end": "939759"
  },
  {
    "text": "uh well when it was first published there was a fix for it and then it was discovered that that fix wasn't complete",
    "start": "939759",
    "end": "945360"
  },
  {
    "text": "so a second vulnerability was published so if you want to run a container that",
    "start": "945360",
    "end": "952399"
  },
  {
    "text": "uses bash without the shell shock vulnerability it needs to be",
    "start": "952399",
    "end": "958800"
  },
  {
    "text": "this fixed version or newer in reality if you install bash today you",
    "start": "958800",
    "end": "965440"
  },
  {
    "text": "will get a newer version you'll you have to jump through some hoops to get an old vulnerable version with shell",
    "start": "965440",
    "end": "972959"
  },
  {
    "text": "shock in it so just think of it as an example so if you wanted to",
    "start": "972959",
    "end": "980639"
  },
  {
    "text": "run a not vulnerable version or not vulnerable to shell shock you'd need to make sure that the version of bash you have is",
    "start": "980880",
    "end": "987759"
  },
  {
    "text": "is newer than this version you typically do that by doing some kind of act get install a",
    "start": "987759",
    "end": "994399"
  },
  {
    "text": "newer version or yum or whatever your package manager is your version of",
    "start": "994399",
    "end": "999839"
  },
  {
    "text": "linux okay so let me move that back to the right",
    "start": "999839",
    "end": "1007839"
  },
  {
    "text": "so trevi has shown us some highs and mediums some low vulnerabilities",
    "start": "1009199",
    "end": "1014639"
  },
  {
    "text": "uh in that particular example uh you might want to",
    "start": "1014639",
    "end": "1022000"
  },
  {
    "text": "only show vulnerabilities above a certain severity threshold",
    "start": "1022000",
    "end": "1027360"
  },
  {
    "text": "because in reality there are a lot of low severity vulnerabilities and you may",
    "start": "1027360",
    "end": "1033678"
  },
  {
    "text": "not consider it worth the the trouble to to go and fix them all um",
    "start": "1033679",
    "end": "1041199"
  },
  {
    "text": "so you may choose to just show for example critical high and medium vulnerabilities",
    "start": "1041199",
    "end": "1048720"
  },
  {
    "text": "um so if i run with that flag we should just see the high and the",
    "start": "1048720",
    "end": "1055679"
  },
  {
    "text": "medium but no low severity vulnerabilities",
    "start": "1055679",
    "end": "1062080"
  },
  {
    "text": "the fixed version of this image is i happen to know is 0.3.0",
    "start": "1062240",
    "end": "1070880"
  },
  {
    "text": "and uh if i run on that we should see there are no in fact i don't think there were any",
    "start": "1070880",
    "end": "1077600"
  },
  {
    "text": "let's see if there are even any low no vulnerabilities known in that",
    "start": "1077600",
    "end": "1086080"
  },
  {
    "text": "different version of the image so if i were running this image in production i'd very quickly",
    "start": "1086400",
    "end": "1092240"
  },
  {
    "text": "want to go and update all my running pods to use the fixed version of that",
    "start": "1092240",
    "end": "1097360"
  },
  {
    "text": "container image so go ahead run trivia on your favorite",
    "start": "1097360",
    "end": "1103520"
  },
  {
    "text": "images find out whether or not they've got any severities and any vulnerabilities",
    "start": "1103520",
    "end": "1108880"
  },
  {
    "text": "and see what you can do to fix them uh liz we've got a couple of questions",
    "start": "1108880",
    "end": "1115200"
  },
  {
    "text": "now maybe to give people a little bit time to catch up on the hands-on we could uh",
    "start": "1115200",
    "end": "1121600"
  },
  {
    "text": "maybe take a question or two in the meantime sure sounds good does that work um we have danny bessems here",
    "start": "1121600",
    "end": "1127919"
  },
  {
    "text": "container image scanning seems a logical remedy but when i test my images i get 70 plus warnings medium errors",
    "start": "1127919",
    "end": "1134080"
  },
  {
    "text": "how do i know which vulnerability are acceptable excellent question there right so um a lot of",
    "start": "1134080",
    "end": "1142640"
  },
  {
    "text": "uh in in practice a lot of people will say we do not want to run with any high",
    "start": "1142640",
    "end": "1149679"
  },
  {
    "text": "severity or critical vulnerabilities",
    "start": "1149679",
    "end": "1154720"
  },
  {
    "text": "some organizations will also include medium severity vulnerabilities in that in that list so that's a very sort of",
    "start": "1154720",
    "end": "1160960"
  },
  {
    "text": "simple broad brush way of deciding whether they're important or not",
    "start": "1160960",
    "end": "1166720"
  },
  {
    "text": "if you do find a vulnerability you can look them up in what's called the nvd the national",
    "start": "1166720",
    "end": "1172320"
  },
  {
    "text": "vulnerability database and find out more about exactly what the vulnerability is",
    "start": "1172320",
    "end": "1177440"
  },
  {
    "text": "and you might decide that individual vulnerabilities maybe aren't important for your",
    "start": "1177440",
    "end": "1183679"
  },
  {
    "text": "particular use of that dependency",
    "start": "1183679",
    "end": "1189760"
  },
  {
    "text": "ideally just upgrade to the newest version what",
    "start": "1190559",
    "end": "1196480"
  },
  {
    "text": "you were breaking up a bit there from not going to publish a fix",
    "start": "1204240",
    "end": "1209360"
  },
  {
    "text": "and uh so you will get different distribution specific answers about",
    "start": "1209360",
    "end": "1216960"
  },
  {
    "text": "using different um or the support that you get from",
    "start": "1218640",
    "end": "1225360"
  },
  {
    "text": "different vulnerability scanners can be important you want to make sure that your scanner supports your distribution of linux",
    "start": "1225360",
    "end": "1233360"
  },
  {
    "text": "um we have another one here i think that that's something that people are interested in as well in",
    "start": "1233679",
    "end": "1239840"
  },
  {
    "text": "general i said on slag and here um how does tribute compare to claire",
    "start": "1239840",
    "end": "1246320"
  },
  {
    "text": "right um so as i say i am somewhat biased here so uh fortunately",
    "start": "1246880",
    "end": "1254080"
  },
  {
    "text": "there are if you and google there have been a couple of people who've done some comparisons",
    "start": "1254080",
    "end": "1259280"
  },
  {
    "text": "um they have found um from from what i believe to be the case",
    "start": "1259280",
    "end": "1267280"
  },
  {
    "text": "trivia supports a wider range of data sources so more um distribution specific",
    "start": "1267280",
    "end": "1275200"
  },
  {
    "text": "database vulnerability vulnerabilities of databases databases of vulnerabilities i'll get",
    "start": "1275200",
    "end": "1280559"
  },
  {
    "text": "there in the end um and supports more kind of language",
    "start": "1280559",
    "end": "1285600"
  },
  {
    "text": "packages as well um there are also sometimes there is more than one source",
    "start": "1285600",
    "end": "1292559"
  },
  {
    "text": "of data for a particular distribution and you need to make sure you're using the the up-to-date one um",
    "start": "1292559",
    "end": "1298799"
  },
  {
    "text": "and it's also uh another comparison point is how frequently those",
    "start": "1298799",
    "end": "1304080"
  },
  {
    "text": "vulnerability databases are updated trivia actually updates everything twice a day so and the reason for",
    "start": "1304080",
    "end": "1310880"
  },
  {
    "text": "for that is that new vulnerabilities get discovered in existing software all the time so",
    "start": "1310880",
    "end": "1317679"
  },
  {
    "text": "you can scan your image for vulnerabilities today if you scan it again tomorrow it may",
    "start": "1317679",
    "end": "1322960"
  },
  {
    "text": "find additional vulnerabilities that have been discovered even though the software itself didn't change",
    "start": "1322960",
    "end": "1329440"
  },
  {
    "text": "cool um i think we might have time for one more question before we move on um i see this pattern um a couple of",
    "start": "1330400",
    "end": "1338400"
  },
  {
    "text": "times um and i don't know to what extent it is covered in the tutorial so maybe you",
    "start": "1338400",
    "end": "1344000"
  },
  {
    "text": "want to put that on hold uh the question around how to use it in you know ci cd pipeline especially yeah let's let's move on to",
    "start": "1344000",
    "end": "1351919"
  },
  {
    "text": "um let's go back to the um exercises and i will talk a little bit",
    "start": "1351919",
    "end": "1357520"
  },
  {
    "text": "about using it in ci cd um it's this screen share",
    "start": "1357520",
    "end": "1363039"
  },
  {
    "text": "still on is that still good i'm going to assume it is",
    "start": "1363039",
    "end": "1370400"
  },
  {
    "text": "all right so uh one of the reasons why trevi is nice is that you can use a",
    "start": "1370559",
    "end": "1378880"
  },
  {
    "text": "small version of the vulnerability database because when you're running",
    "start": "1378880",
    "end": "1384880"
  },
  {
    "text": "vulnerability scanning and part of your ci system you want it to be lightweight you don't want to have to go through a giant",
    "start": "1384880",
    "end": "1391200"
  },
  {
    "text": "installation process and then a giant process of installing the vulnerability database so uh trivia is designed to work",
    "start": "1391200",
    "end": "1399360"
  },
  {
    "text": "well in that scenario and there is a link here to a lot of examples that actually come",
    "start": "1399360",
    "end": "1405840"
  },
  {
    "text": "from the trivia page with example configuration for various different ci tools",
    "start": "1405840",
    "end": "1414000"
  },
  {
    "text": "if you scan your images in the ci system it means your image never gets pushed to",
    "start": "1415039",
    "end": "1421600"
  },
  {
    "text": "your registry if it contains vulnerabilities over whatever threshold you're setting",
    "start": "1421600",
    "end": "1429120"
  },
  {
    "text": "then at the point where you're about to deploy uh workload you may want to check the",
    "start": "1429600",
    "end": "1435760"
  },
  {
    "text": "scan results or even rescan at that point so let me give a shout out for",
    "start": "1435760",
    "end": "1441120"
  },
  {
    "text": "my colleague tepee fukuda who is going to be talking later on this week about using trivi",
    "start": "1441120",
    "end": "1447679"
  },
  {
    "text": "alongside open policy agent to check for vulnerabilities at the admission control",
    "start": "1447679",
    "end": "1454480"
  },
  {
    "text": "time and then the last thing i wanted to show in this section is a a new tool that we've been",
    "start": "1454480",
    "end": "1462480"
  },
  {
    "text": "uh working on called starboard and the idea of starboard is that you",
    "start": "1462480",
    "end": "1469279"
  },
  {
    "text": "use it to run a variety of different security tools trivia is one of them it also works with",
    "start": "1469279",
    "end": "1475520"
  },
  {
    "text": "some other different security tools the results are stored in kubernetes",
    "start": "1475520",
    "end": "1481279"
  },
  {
    "text": "custom resources for example there's going to be i'll show you shortly",
    "start": "1481279",
    "end": "1486720"
  },
  {
    "text": "a vulnerabilities custom resource and then you can retrieve security information across the kubernetes api",
    "start": "1486720",
    "end": "1495840"
  },
  {
    "text": "so um if you don't already have it installed you can install starboard as a crew",
    "start": "1496159",
    "end": "1503600"
  },
  {
    "text": "plugin so i already type through list",
    "start": "1503600",
    "end": "1510720"
  },
  {
    "text": "there we go so i already have starboard installed if you haven't come across true it's a really nice",
    "start": "1510720",
    "end": "1515919"
  },
  {
    "text": "way of extending your cue control functionality with it with a bunch of",
    "start": "1515919",
    "end": "1521440"
  },
  {
    "text": "different plugins so some really really nice powerful plugins out there",
    "start": "1521440",
    "end": "1526960"
  },
  {
    "text": "having installed it you can just run starboard as a cue control sort of sub command and uh",
    "start": "1527279",
    "end": "1535679"
  },
  {
    "text": "you can see here there's a few different tools that you can run through starboard",
    "start": "1535679",
    "end": "1542880"
  },
  {
    "text": "but before you do that you need to initialize starboard and that creates some custom",
    "start": "1542880",
    "end": "1550400"
  },
  {
    "text": "resource definitions and for our purposes right now we're interested in vulnerabilities",
    "start": "1550400",
    "end": "1557279"
  },
  {
    "text": "so we're going to be able to store vulnerabilities in this custom resource type",
    "start": "1557279",
    "end": "1564000"
  },
  {
    "text": "so i still have let's just check that it's still there i still have my shell shock deployment",
    "start": "1564000",
    "end": "1570799"
  },
  {
    "text": "running so i'm going to run starboard fine",
    "start": "1570799",
    "end": "1576480"
  },
  {
    "text": "vulnerabilities over that deployment what starboard is doing is creating a",
    "start": "1576480",
    "end": "1583120"
  },
  {
    "text": "job that runs trivia it looks at that deployment finds the",
    "start": "1583120",
    "end": "1589679"
  },
  {
    "text": "pod spec finds any container images and in that job runs trivia over any",
    "start": "1589679",
    "end": "1596720"
  },
  {
    "text": "container images related to that deployment which takes a few seconds",
    "start": "1596720",
    "end": "1602960"
  },
  {
    "text": "i've used this delete scan job equals false so that um or",
    "start": "1602960",
    "end": "1609760"
  },
  {
    "text": "if i hadn't said that when the job completed it would get deleted and cleaned up but by leaving it there we can we can",
    "start": "1609760",
    "end": "1617039"
  },
  {
    "text": "look at it after the event so now that i've found the vulnerabilities",
    "start": "1617039",
    "end": "1623679"
  },
  {
    "text": "i can get them using a key control command",
    "start": "1623679",
    "end": "1629360"
  },
  {
    "text": "and it's basically yaml describing the vulnerabilities that are related to that deployment",
    "start": "1629360",
    "end": "1637360"
  },
  {
    "text": "if i or to show how those are uh related to we use labels to show how",
    "start": "1638799",
    "end": "1646240"
  },
  {
    "text": "they're related uh the vulnerability report relates to",
    "start": "1646240",
    "end": "1651840"
  },
  {
    "text": "a deployment that's called shell shockable in the default namespace",
    "start": "1651840",
    "end": "1658720"
  },
  {
    "text": "and uh i because i set that delete job equals false",
    "start": "1659200",
    "end": "1666240"
  },
  {
    "text": "we can look at the job that ran",
    "start": "1666240",
    "end": "1673200"
  },
  {
    "text": "and we can see here that it's a job it ran the trivia command",
    "start": "1673600",
    "end": "1680799"
  },
  {
    "text": "over that image that we identified earlier as the the image that was running as part of that uh",
    "start": "1680799",
    "end": "1687840"
  },
  {
    "text": "that deployment uh liz we have a couple of questions um which all are",
    "start": "1687840",
    "end": "1695279"
  },
  {
    "text": "around more or less the same topic and that is uh does trivi do non-operating system",
    "start": "1695279",
    "end": "1702399"
  },
  {
    "text": "related scanning so you know in various forms like you know java or whatever it's like anything that is not os level",
    "start": "1702399",
    "end": "1709440"
  },
  {
    "text": "yeah so trivia does support a number of different programming languages um if you check on the trivia readme to",
    "start": "1709440",
    "end": "1716480"
  },
  {
    "text": "get exactly the the right list but um certainly um python ruby",
    "start": "1716480",
    "end": "1722159"
  },
  {
    "text": "node um a range of languages that i don't want",
    "start": "1722159",
    "end": "1727760"
  },
  {
    "text": "to get wrong by i don't want to mislead you by forgetting one so so check it out on the uh on the trivia read me but",
    "start": "1727760",
    "end": "1733600"
  },
  {
    "text": "yes yes it does cool and the a related question or",
    "start": "1733600",
    "end": "1740080"
  },
  {
    "text": "like it also came up a couple of times um in terms of frequency how often the",
    "start": "1740080",
    "end": "1745760"
  },
  {
    "text": "vulnerability databases is updated you know i think it was not entirely clear like",
    "start": "1745760",
    "end": "1752559"
  },
  {
    "text": "uh some people asking is tribute released twice a day or the day like you know yeah",
    "start": "1752559",
    "end": "1760159"
  },
  {
    "text": "yeah so trivia or um some uh kind of background",
    "start": "1760159",
    "end": "1767679"
  },
  {
    "text": "uh components uh in what we might call the trivia ecosystem twice a day go around to all of the",
    "start": "1767679",
    "end": "1774240"
  },
  {
    "text": "different data sources that uh that it uses and updates with any newly",
    "start": "1774240",
    "end": "1780240"
  },
  {
    "text": "published vulnerabilities or any changes to the vulnerabilities from that data source that gets built into the trivi database",
    "start": "1780240",
    "end": "1788640"
  },
  {
    "text": "uh that is actually stored on github then when you run trivi",
    "start": "1788640",
    "end": "1794559"
  },
  {
    "text": "i mean the database downloading because it was already cached but i think you might recall right at the beginning the first time i",
    "start": "1807200",
    "end": "1812960"
  },
  {
    "text": "ran it it had to download a database which will cache for a certain period of time",
    "start": "1812960",
    "end": "1818000"
  },
  {
    "text": "uh and then it will check for any um database updates that have happened",
    "start": "1818000",
    "end": "1823679"
  },
  {
    "text": "since the last time it was updated so",
    "start": "1823679",
    "end": "1829760"
  },
  {
    "text": "if for example you were in an offline",
    "start": "1829760",
    "end": "1835039"
  },
  {
    "text": "scenario where you're not internet connected you would need to update that database",
    "start": "1835039",
    "end": "1841200"
  },
  {
    "text": "that vulnerability database as often as you feel it's uh important to be",
    "start": "1841200",
    "end": "1847360"
  },
  {
    "text": "up to date with the latest known vulnerabilities i hope that answers the question",
    "start": "1847360",
    "end": "1855039"
  },
  {
    "text": "that's good um yeah i think there are many more like low-level and and i think we will",
    "start": "1855360",
    "end": "1863519"
  },
  {
    "text": "based on the volume we will not be able to answer all of them it's like at least 15 that i can count here and",
    "start": "1863519",
    "end": "1869919"
  },
  {
    "text": "that's just one of the many topics that we have here so i i guess we will have to answer them offline in this lecture i'm",
    "start": "1869919",
    "end": "1876960"
  },
  {
    "text": "sorry that's great we're here all week right so we can uh we can check out those questions in",
    "start": "1876960",
    "end": "1882000"
  },
  {
    "text": "slack later so if we didn't get your question today don't worry we will try and get back to you later",
    "start": "1882000",
    "end": "1889840"
  },
  {
    "text": "okay and there is one other interesting thing about um",
    "start": "1890080",
    "end": "1896480"
  },
  {
    "text": "about starboard which is that we have it uh we have some an octane to plug in if you haven't come",
    "start": "1896480",
    "end": "1903039"
  },
  {
    "text": "across octan it's a really nice dashboard for kubernetes",
    "start": "1903039",
    "end": "1908080"
  },
  {
    "text": "not actually going to show this right now i am going to show it for another example shortly",
    "start": "1908080",
    "end": "1914320"
  },
  {
    "text": "but if you want to check out starboard in octant you'll see that",
    "start": "1914320",
    "end": "1920159"
  },
  {
    "text": "there's a we've written this plugin that enables you to see the vulnerabilities",
    "start": "1920159",
    "end": "1926480"
  },
  {
    "text": "right there in front of you in the opt-in dashboard alongside the uh",
    "start": "1926480",
    "end": "1932559"
  },
  {
    "text": "the resource that it applies to okay so that so far",
    "start": "1932559",
    "end": "1941200"
  },
  {
    "text": "everything i've talked about so far is about vulnerable application code yeah dependency",
    "start": "1941200",
    "end": "1948240"
  },
  {
    "text": "vulnerable dependencies that exist inside your container images",
    "start": "1948240",
    "end": "1953360"
  },
  {
    "text": "now i'm going to switch to a completely different topic which is about setting up your kubernetes",
    "start": "1953360",
    "end": "1959760"
  },
  {
    "text": "configuration securely so when you install a",
    "start": "1959760",
    "end": "1965440"
  },
  {
    "text": "kubernetes cluster there are lots and lots of different configuration settings",
    "start": "1965440",
    "end": "1970720"
  },
  {
    "text": "several of which can potentially affect security some of them are really obviously going to affect security like",
    "start": "1970720",
    "end": "1978159"
  },
  {
    "text": "whether you're running with a an insecure port that lets anonymous users make requests across an api",
    "start": "1978159",
    "end": "1984799"
  },
  {
    "text": "uh other settings are maybe a little bit more subtle in how they affect security and there is",
    "start": "1984799",
    "end": "1992799"
  },
  {
    "text": "a an organization called the center for internet security publishes benchmarks that describe",
    "start": "1992799",
    "end": "2000480"
  },
  {
    "text": "recommendations on how to configure lots of different pieces of software one of which is",
    "start": "2000480",
    "end": "2006880"
  },
  {
    "text": "kubernetes so there's a cis kubernetes benchmark with",
    "start": "2006880",
    "end": "2012159"
  },
  {
    "text": "recommendations for how your kubernetes cluster should be configured",
    "start": "2012159",
    "end": "2018080"
  },
  {
    "text": "and it's it's something like 200 pages it's there's a lot",
    "start": "2018080",
    "end": "2023279"
  },
  {
    "text": "there so rather than having to manually check every single node in your",
    "start": "2023279",
    "end": "2029919"
  },
  {
    "text": "cluster and do that repeatedly to make sure that the settings are still as expected",
    "start": "2029919",
    "end": "2038240"
  },
  {
    "text": "we built a tool called cubebench to automate that process so i'm going to show you automate or",
    "start": "2038240",
    "end": "2046080"
  },
  {
    "text": "running cube bench in uh a kubernetes cluster so i'm gonna do",
    "start": "2046080",
    "end": "2053118"
  },
  {
    "text": "another really really bad example something you should never do particularly against the production cluster",
    "start": "2053119",
    "end": "2059280"
  },
  {
    "text": "i am going to download some yaml from the internet and run it there we go",
    "start": "2059280",
    "end": "2066639"
  },
  {
    "text": "look at it before you apply it and that job uh",
    "start": "2067200",
    "end": "2075358"
  },
  {
    "text": "should have run key bench on my single node kind cluster that i'm",
    "start": "2075359",
    "end": "2082079"
  },
  {
    "text": "currently running and let's look at the output from that which",
    "start": "2082079",
    "end": "2088720"
  },
  {
    "text": "goes into the logs and there's loads of it there's pages",
    "start": "2088720",
    "end": "2093839"
  },
  {
    "text": "and pages and pages and pages and pages of results from qbench there's",
    "start": "2093839",
    "end": "2099599"
  },
  {
    "text": "several different sections so you get the kind of pass fail warning output for each section",
    "start": "2099599",
    "end": "2106560"
  },
  {
    "text": "then you get remediation advice what you need to do to make a failing test pass",
    "start": "2106560",
    "end": "2114400"
  },
  {
    "text": "and then we get to another section so you get a little summary telling you the previous section",
    "start": "2114400",
    "end": "2121599"
  },
  {
    "text": "so uh i'm going to show an example of uh remediating",
    "start": "2122079",
    "end": "2129280"
  },
  {
    "text": "a test and the one that i'm going to pick on here is 4.2.6 which is about protecting",
    "start": "2129280",
    "end": "2136480"
  },
  {
    "text": "kernel defaults and this is basically the cubelet",
    "start": "2136480",
    "end": "2141920"
  },
  {
    "text": "will i believe it errors it certainly uh complains if uh the",
    "start": "2141920",
    "end": "2149680"
  },
  {
    "text": "some tunable parameters in the kernel are not set to what the cube expects to be set",
    "start": "2149680",
    "end": "2156720"
  },
  {
    "text": "so this is currently failing because protect kernel defaults is not",
    "start": "2156720",
    "end": "2162960"
  },
  {
    "text": "set to true in my kind cluster at the moment",
    "start": "2162960",
    "end": "2168960"
  },
  {
    "text": "now if you're using a different kind of cluster uh if you're using",
    "start": "2170240",
    "end": "2175440"
  },
  {
    "text": "you know mini cube or you're running kubernetes nodes in a virtual machine or you're",
    "start": "2175440",
    "end": "2181440"
  },
  {
    "text": "using a a managed service you won't be able to you know this is a kind specific way of",
    "start": "2181440",
    "end": "2190560"
  },
  {
    "text": "getting into the control plane and then remediating the problem but because i'm running kubernetes in",
    "start": "2191119",
    "end": "2197599"
  },
  {
    "text": "docker my control plane is running as",
    "start": "2197599",
    "end": "2202800"
  },
  {
    "text": "a a container so i can exec into that container and",
    "start": "2202800",
    "end": "2210160"
  },
  {
    "text": "run bash inside it so now i'm inside my kubernetes control plane",
    "start": "2210160",
    "end": "2217200"
  },
  {
    "text": "container that's kind of equivalent to a node but it is a node in my kubernetes cluster",
    "start": "2217200",
    "end": "2224319"
  },
  {
    "text": "i have already installed my editor into this particular running version so i can",
    "start": "2224560",
    "end": "2232000"
  },
  {
    "text": "already go ahead and look at the cubelet configuration",
    "start": "2232000",
    "end": "2237040"
  },
  {
    "text": "on this node and we can see that there",
    "start": "2237040",
    "end": "2243839"
  },
  {
    "text": "is they're in alphabetical order and there is no protect kernel defaults line here so i'm",
    "start": "2243839",
    "end": "2250640"
  },
  {
    "text": "just going to go ahead and add it and protect i don't know",
    "start": "2250640",
    "end": "2257838"
  },
  {
    "text": "i've updated the cubelet configuration file the cubelet will spot that that file has changed it will reload",
    "start": "2263760",
    "end": "2270720"
  },
  {
    "text": "the configuration and it will change its settings i'm going to exit that",
    "start": "2270720",
    "end": "2278240"
  },
  {
    "text": "node now i need to delete the previous q bench job",
    "start": "2278240",
    "end": "2286480"
  },
  {
    "text": "and then i can run it again",
    "start": "2287599",
    "end": "2291839"
  },
  {
    "text": "this is exactly the same as what i ran before",
    "start": "2292720",
    "end": "2298880"
  },
  {
    "text": "and we're gonna get the logs let's just check the uh",
    "start": "2298880",
    "end": "2306400"
  },
  {
    "text": "job has completed it has i remember it was 4.2.6 that we",
    "start": "2306400",
    "end": "2313599"
  },
  {
    "text": "remediated and there it is it is now passing",
    "start": "2313599",
    "end": "2322320"
  },
  {
    "text": "so that really just goes to demonstrate that if you change the configuration setting",
    "start": "2322800",
    "end": "2329920"
  },
  {
    "text": "cue bench will spot that and you know tell you whether or not you've passed it passed or failed when you",
    "start": "2329920",
    "end": "2336880"
  },
  {
    "text": "next rerun q bench in reality you're not going to do that on your running nodes you're you know it's",
    "start": "2336880",
    "end": "2344560"
  },
  {
    "text": "we're supposed to be treating our uh deployments as cattle not pets we're not supposed to",
    "start": "2344560",
    "end": "2349680"
  },
  {
    "text": "go in and manually lovingly reconfigure them while they're live we're supposed to change the",
    "start": "2349680",
    "end": "2356359"
  },
  {
    "text": "configuration that we use in deployment and",
    "start": "2356359",
    "end": "2362240"
  },
  {
    "text": "automate this process so this is more of a demonstration of what's happening you wouldn't go into your kubernetes",
    "start": "2362240",
    "end": "2369119"
  },
  {
    "text": "clothes and manually reconfigure them like i just did there but hopefully that shows the kind of",
    "start": "2369119",
    "end": "2376560"
  },
  {
    "text": "uh thing that q bench is testing for the kind of tests that the cis benchmark is uh recommending",
    "start": "2376560",
    "end": "2385839"
  },
  {
    "text": "and uh demonstrating some what key bench results look like",
    "start": "2385839",
    "end": "2391359"
  },
  {
    "text": "then we do have a few questions okay yep just to make sure that we catch up a",
    "start": "2391359",
    "end": "2397119"
  },
  {
    "text": "little bit with the backlog we won't be but at least two here a quick one uh can q bench be used with k3s yet",
    "start": "2397119",
    "end": "2403680"
  },
  {
    "text": "is that something that works with keys and that's a really great question uh i am sure that some of the tests are",
    "start": "2403680",
    "end": "2411680"
  },
  {
    "text": "let's say not appropriate on uh k3s for example there's a whole section",
    "start": "2411680",
    "end": "2417119"
  },
  {
    "text": "of scd tests and k3s doesn't use lcd so those would inevitably fail",
    "start": "2417119",
    "end": "2423599"
  },
  {
    "text": "um there is i talked about there being a cis kubernetes benchmark there's actually a few different versions",
    "start": "2423599",
    "end": "2430000"
  },
  {
    "text": "um there's a version for eks amazon's managed kubernetes service there's a",
    "start": "2430000",
    "end": "2435359"
  },
  {
    "text": "version for uh gke there is i believe a version under development for",
    "start": "2435359",
    "end": "2441359"
  },
  {
    "text": "openshift it might make sense at some point for you know k3s if if there was demand for",
    "start": "2441359",
    "end": "2448720"
  },
  {
    "text": "it maybe uh you know there should be a k3s specific version of those tests but i think if you were to run",
    "start": "2448720",
    "end": "2455760"
  },
  {
    "text": "q bench right now on k3s you'd have to use some judgment about",
    "start": "2455760",
    "end": "2461599"
  },
  {
    "text": "whether which set of tests were relevant",
    "start": "2461599",
    "end": "2467839"
  },
  {
    "text": "all right the last thing i wanted to show you related to uh cubebench was how we can use starboard",
    "start": "2469040",
    "end": "2475760"
  },
  {
    "text": "to run cue bench and store the results in another custom resource definition i",
    "start": "2475760",
    "end": "2481040"
  },
  {
    "text": "actually ran it quickly while i was being asked a question because i thought it might take a minute or two so that's",
    "start": "2481040",
    "end": "2486880"
  },
  {
    "text": "what i ran uh i'm just gonna run the second half of that",
    "start": "2486880",
    "end": "2492480"
  },
  {
    "text": "to get the eventual reports",
    "start": "2492480",
    "end": "2497760"
  },
  {
    "text": "record that's given basically the same information but in yaml form right it's",
    "start": "2501440",
    "end": "2507680"
  },
  {
    "text": "run exactly the same job just starboard ran it for me rather",
    "start": "2507680",
    "end": "2513359"
  },
  {
    "text": "than me um applying yaml directly but i will show you this in optins",
    "start": "2513359",
    "end": "2521040"
  },
  {
    "text": "now this is the octant ui and",
    "start": "2521040",
    "end": "2529760"
  },
  {
    "text": "nodes there's notes and here's my single node",
    "start": "2531440",
    "end": "2538400"
  },
  {
    "text": "and because we have this octant plug-in associated with starboard uh",
    "start": "2538400",
    "end": "2546560"
  },
  {
    "text": "the the plug-in will grab hold of this information from that cas q bench report and show the outputs",
    "start": "2546560",
    "end": "2555520"
  },
  {
    "text": "here in the dashboard let me also show you the output for",
    "start": "2555520",
    "end": "2562800"
  },
  {
    "text": "deployments because that's still running right so hopefully we can see",
    "start": "2562800",
    "end": "2569280"
  },
  {
    "text": "the vulnerabilities and there's our shell shock vulnerability that we discovered earlier",
    "start": "2569280",
    "end": "2576400"
  },
  {
    "text": "so this is the the reason why i'm really excited about starboard it's showing the security information",
    "start": "2576400",
    "end": "2582640"
  },
  {
    "text": "related to running workloads and related to the running state of the kubernetes cluster",
    "start": "2582640",
    "end": "2590560"
  },
  {
    "text": "okay so what are we doing for and we have one question that",
    "start": "2591520",
    "end": "2598720"
  },
  {
    "text": "i think makes sense that we address it right away and that is um it's on the slack um",
    "start": "2598720",
    "end": "2605280"
  },
  {
    "text": "and that is around how do you address newly discovered cvs after workload has",
    "start": "2605280",
    "end": "2611760"
  },
  {
    "text": "been started oppa doesn't seem to be the right answer right yes so",
    "start": "2611760",
    "end": "2620160"
  },
  {
    "text": "the the scenario here is you're running some software maybe it has a dependency and new vulnerability gets discovered in",
    "start": "2620160",
    "end": "2626640"
  },
  {
    "text": "that dependency it's good practice to regularly",
    "start": "2626640",
    "end": "2632960"
  },
  {
    "text": "rescan all your all the images that relate to running workloads and you",
    "start": "2632960",
    "end": "2640720"
  },
  {
    "text": "could be doing that with something like starboard or you could be using",
    "start": "2640720",
    "end": "2646720"
  },
  {
    "text": "scanning that hooks into a registry a lot of commercial scanners will hook into a registry",
    "start": "2646720",
    "end": "2651760"
  },
  {
    "text": "and regularly scan also if you're using harbor as your",
    "start": "2651760",
    "end": "2656960"
  },
  {
    "text": "registry that can rescan images within that that are stored in",
    "start": "2656960",
    "end": "2664000"
  },
  {
    "text": "that register so you it's basically a case of you know you have to be regularly rescanning to",
    "start": "2664000",
    "end": "2670000"
  },
  {
    "text": "find out which images are vulnerable and then if you discover that you are running with",
    "start": "2670000",
    "end": "2675200"
  },
  {
    "text": "an image that has vulnerabilities you need to rebuild that image with updated",
    "start": "2675200",
    "end": "2681839"
  },
  {
    "text": "dependencies whatever fixed version of packages are needed to address that",
    "start": "2681839",
    "end": "2688480"
  },
  {
    "text": "vulnerability so you rebuild the image and redeploy your containers based on that new image",
    "start": "2688480",
    "end": "2695599"
  },
  {
    "text": "excellent and we have one question which is really interesting and to be honest i have no really good",
    "start": "2695599",
    "end": "2701040"
  },
  {
    "text": "answer for that but maybe it is know something um probabilities with no cv details what",
    "start": "2701040",
    "end": "2706480"
  },
  {
    "text": "is the recommendation for this to report to tool vendor to fix that",
    "start": "2706480",
    "end": "2711599"
  },
  {
    "text": "right so if there is a vulnerability that doesn't have a cve uh it basically means it's not published",
    "start": "2711599",
    "end": "2717760"
  },
  {
    "text": "yet so if you've found something you've discovered a new vulnerability",
    "start": "2717760",
    "end": "2723200"
  },
  {
    "text": "a lot of tools projects vendors will have some kind of",
    "start": "2723200",
    "end": "2729760"
  },
  {
    "text": "security reporting process um so for example for kubernetes",
    "start": "2729760",
    "end": "2735440"
  },
  {
    "text": "it's an email address i'm pretty sure it's security at kubernetes dot io something like that and",
    "start": "2735440",
    "end": "2743440"
  },
  {
    "text": "you can the responsible thing to do is to tell the project or the vendor or",
    "start": "2743440",
    "end": "2750960"
  },
  {
    "text": "you know whoever is responsible for that code and say hey i found this vulnerability and then typically what happens is the",
    "start": "2750960",
    "end": "2757280"
  },
  {
    "text": "person reporting the vulnerability and the project maintainers or the vendor agree",
    "start": "2757280",
    "end": "2765040"
  },
  {
    "text": "a date on which they'll publish information about that vulnerability typically at that point you go to the um",
    "start": "2765040",
    "end": "2771440"
  },
  {
    "text": "to a cve um there's a term for this it's like a numbering authority that can give out",
    "start": "2771440",
    "end": "2776960"
  },
  {
    "text": "new cves so you might grab that number before you publish the the details of the vulnerability but the",
    "start": "2776960",
    "end": "2783520"
  },
  {
    "text": "idea is you give the vendor or the project maintainers enough time that they can come up with a",
    "start": "2783520",
    "end": "2788960"
  },
  {
    "text": "fix i think i mentioned earlier that typically the cve details and",
    "start": "2788960",
    "end": "2794800"
  },
  {
    "text": "the fix are published at the same time and that's because of responsible disclosure",
    "start": "2794800",
    "end": "2800240"
  },
  {
    "text": "and behavior on the part of the person who found the uh the vulnerability",
    "start": "2800240",
    "end": "2806480"
  },
  {
    "text": "cool uh we have tons of questions but as i said we are pretty much like a little bit over over",
    "start": "2807280",
    "end": "2814319"
  },
  {
    "text": "time in terms of schedules yeah i'm excited that there are lots of questions i think this is a good time for me to",
    "start": "2814319",
    "end": "2820079"
  },
  {
    "text": "stop my screen share so that michael can take over and talk",
    "start": "2820079",
    "end": "2826000"
  },
  {
    "text": "about policies yeah and uh good luck and and have fun uh keeping up with the vodka",
    "start": "2826000",
    "end": "2834319"
  },
  {
    "text": "i would say uh presenting is nicer it's less stressful let's see about that so",
    "start": "2836000",
    "end": "2842839"
  },
  {
    "text": "um can you see my screen",
    "start": "2842839",
    "end": "2847280"
  },
  {
    "text": "or at least the audience yes although i turned off my audio but yes",
    "start": "2847920",
    "end": "2854880"
  },
  {
    "text": "awesome cool all right um so did you",
    "start": "2854880",
    "end": "2861359"
  },
  {
    "text": "um yeah were you secure setting so we are moving on to policies um",
    "start": "2861359",
    "end": "2869440"
  },
  {
    "text": "and just to make sure you can also see",
    "start": "2869440",
    "end": "2874318"
  },
  {
    "text": "my uh coming over here right policies everything that we",
    "start": "2875359",
    "end": "2884960"
  },
  {
    "text": "saw so far um if you think about defense in depth is um it's awesome and",
    "start": "2884960",
    "end": "2891520"
  },
  {
    "text": "you should you know be doing that's like you know uh the the 101 image scanning etc",
    "start": "2891520",
    "end": "2897520"
  },
  {
    "text": "no doubt about that what we're talking about now the policies might be depending on",
    "start": "2897520",
    "end": "2904400"
  },
  {
    "text": "what you're looking at might be considered a little bit more advanced so don't feel bad if",
    "start": "2904400",
    "end": "2910319"
  },
  {
    "text": "you don't do everything right away but at least you should be aware of what's",
    "start": "2910319",
    "end": "2915440"
  },
  {
    "text": "going on in terms of least privileges which is you know throw out no matter where you're looking at it and enforcing it",
    "start": "2915440",
    "end": "2921440"
  },
  {
    "text": "super important and at least be aware of what's going on in terms of network um you know what's the default",
    "start": "2921440",
    "end": "2928400"
  },
  {
    "text": "behavior of communities there and what what have you got there in terms of network policies at your hands and then",
    "start": "2928400",
    "end": "2934160"
  },
  {
    "text": "last but not least in this section we're going to talk about oppa the open policy agent and have a look at it in action so",
    "start": "2934160",
    "end": "2941520"
  },
  {
    "text": "first things first least privileges this is really something super important",
    "start": "2941520",
    "end": "2947599"
  },
  {
    "text": "to consider in the sense of give whatever a person or process only the rights the",
    "start": "2947599",
    "end": "2956079"
  },
  {
    "text": "permissions to carry out its job and not more right exactly what it needs but not more",
    "start": "2956079",
    "end": "2963200"
  },
  {
    "text": "and we're going to have a look at that in the context of the security context security context was one of i think the",
    "start": "2963200",
    "end": "2970000"
  },
  {
    "text": "first um contributions by the redhead openshift team that",
    "start": "2970000",
    "end": "2975520"
  },
  {
    "text": "was upstream accepted so a lot of terminology around security context and",
    "start": "2975520",
    "end": "2981280"
  },
  {
    "text": "you know in uh that context no pun intended is is actually uh uh",
    "start": "2981280",
    "end": "2987119"
  },
  {
    "text": "kudos to redhead or red hat for expected so we're gonna use a kind again",
    "start": "2987119",
    "end": "2992880"
  },
  {
    "text": "um from scratch so i'm gonna create a kind cluster there let's do",
    "start": "2992880",
    "end": "2999200"
  },
  {
    "text": "that it takes a moment and what we're going to do then is um and picked a example from the",
    "start": "2999200",
    "end": "3007040"
  },
  {
    "text": "query this doc so that you can in your own time and dig deeper there and read upon the context there",
    "start": "3007040",
    "end": "3012240"
  },
  {
    "text": "that has a security context defined so let's have a look at the security context",
    "start": "3012240",
    "end": "3018880"
  },
  {
    "text": "i hope you can see that here the intention here is with the security context first",
    "start": "3018880",
    "end": "3026000"
  },
  {
    "text": "observation there you can see it is pot wide so it is it applies to all of the containers in",
    "start": "3026000",
    "end": "3031280"
  },
  {
    "text": "that part and it is to run this user um the id 1000 one is",
    "start": "3031280",
    "end": "3036800"
  },
  {
    "text": "group group 3000 and fs group 2000 right this is the intention that you as a",
    "start": "3036800",
    "end": "3042319"
  },
  {
    "text": "developer whoever whatever role you're putting together that pots back uh you want you define the policy as",
    "start": "3042319",
    "end": "3049200"
  },
  {
    "text": "this and then we're just gonna uh have a sleep there so that we can do we can exit into that part and do",
    "start": "3049200",
    "end": "3054880"
  },
  {
    "text": "something into that container we have a volume here data volume",
    "start": "3054880",
    "end": "3060400"
  },
  {
    "text": "um which is mounted under slash data and on that container additionally",
    "start": "3060400",
    "end": "3067359"
  },
  {
    "text": "disallow privilege escalation so that is our setup here",
    "start": "3067359",
    "end": "3072880"
  },
  {
    "text": "if you want to follow along create the kind cluster depending on if you've done it freshly or not it",
    "start": "3072880",
    "end": "3078559"
  },
  {
    "text": "might take a moment and once we have the kind container at a",
    "start": "3078559",
    "end": "3086319"
  },
  {
    "text": "kind cluster sorry up um we can launch that part with the security",
    "start": "3086319",
    "end": "3092960"
  },
  {
    "text": "context set so copy that here and",
    "start": "3092960",
    "end": "3098640"
  },
  {
    "text": "using this one and",
    "start": "3099839",
    "end": "3103520"
  },
  {
    "text": "if we have a look at the",
    "start": "3106800",
    "end": "3112319"
  },
  {
    "text": "part that is running takes a little bit needs to pull the image so uh in a moment or so it will be",
    "start": "3113280",
    "end": "3121599"
  },
  {
    "text": "running and as soon as it's running we can let the equivalent of a good old you",
    "start": "3121599",
    "end": "3127520"
  },
  {
    "text": "know ssh into a vm we exit exit in into the container once it's running",
    "start": "3127520",
    "end": "3135760"
  },
  {
    "text": "uh running all right we are exiting into the company as you can see from the shelf",
    "start": "3135760",
    "end": "3141040"
  },
  {
    "text": "prompt here we are now in the container and we're gonna um create",
    "start": "3141040",
    "end": "3147520"
  },
  {
    "text": "a file uh data slash content and put something like literally",
    "start": "3147520",
    "end": "3154079"
  },
  {
    "text": "something in there and then have a look at the id right and as you can see uid 1000 grd",
    "start": "3154079",
    "end": "3160960"
  },
  {
    "text": "group id 3000 and the fs group 2000 that is exactly and we can obviously",
    "start": "3160960",
    "end": "3167280"
  },
  {
    "text": "also go there um ls minus al",
    "start": "3167280",
    "end": "3172880"
  },
  {
    "text": "um this content file here this is exactly what we defined in",
    "start": "3172880",
    "end": "3179440"
  },
  {
    "text": "the security context over here right so that's awesome",
    "start": "3179440",
    "end": "3185920"
  },
  {
    "text": "but it kind of depends on your developers or whoever is in",
    "start": "3185920",
    "end": "3192880"
  },
  {
    "text": "charge for creating these these pot specs to uh you know to play along to actually",
    "start": "3192880",
    "end": "3200240"
  },
  {
    "text": "think about that and maybe be an expert in what is the right thing to do here",
    "start": "3200240",
    "end": "3205680"
  },
  {
    "text": "so this is nice this is a good control but as it depends on the cooperation or you",
    "start": "3205680",
    "end": "3212960"
  },
  {
    "text": "know control is trust is good but control is better you want to have a policy a cluster-wide",
    "start": "3212960",
    "end": "3218720"
  },
  {
    "text": "policy that actually enforces that kind of behavior and that is where psp support security",
    "start": "3218720",
    "end": "3223839"
  },
  {
    "text": "policies uh come in so you can define that kind of behavior on the cluster level so",
    "start": "3223839",
    "end": "3229359"
  },
  {
    "text": "um for example if you say you know you cannot run something as root or whatever then you",
    "start": "3229359",
    "end": "3236720"
  },
  {
    "text": "can use psp to enforce it cluster-wide i will point out that um",
    "start": "3236720",
    "end": "3243920"
  },
  {
    "text": "if you think about investing into psp be aware of there is a cap between this",
    "start": "3243920",
    "end": "3248960"
  },
  {
    "text": "enhancement proposal kept five that talks about the current state and the future of psps",
    "start": "3248960",
    "end": "3255040"
  },
  {
    "text": "and at the current point in time there is no decision yet made in terms of where",
    "start": "3255040",
    "end": "3260880"
  },
  {
    "text": "psps should go will they they will very likely not at the current point in time um graduate",
    "start": "3260880",
    "end": "3268400"
  },
  {
    "text": "so you might want to keep an open mind for example opa gatekeeper at the bottom of this",
    "start": "3268400",
    "end": "3274640"
  },
  {
    "text": "section later on might be a good option to invest but in general having something like psp in",
    "start": "3274640",
    "end": "3281839"
  },
  {
    "text": "place is certainly recommended i'm gonna pause here for a moment just to give people time to",
    "start": "3281839",
    "end": "3288960"
  },
  {
    "text": "catch up and also maybe we have a question or two that we want to address right away",
    "start": "3288960",
    "end": "3296880"
  },
  {
    "text": "anything that pops out liz um yeah so one question is about whether or",
    "start": "3297440",
    "end": "3304880"
  },
  {
    "text": "not you can define security context at the name space level",
    "start": "3304880",
    "end": "3311119"
  },
  {
    "text": "um the way the security context is defined it is in the context of a pot",
    "start": "3311760",
    "end": "3316880"
  },
  {
    "text": "spec so i can imagine that if you have that use case that you're",
    "start": "3316880",
    "end": "3322799"
  },
  {
    "text": "very likely happy with a you know something like over gatekeeper",
    "start": "3322799",
    "end": "3328720"
  },
  {
    "text": "or doing something yourself with opa you know with a custom controller uh but no uh the answer is a lot longer",
    "start": "3328720",
    "end": "3336000"
  },
  {
    "text": "short if it isn't it's not gonna work another uh",
    "start": "3336000",
    "end": "3341920"
  },
  {
    "text": "thing that may be worth uh sort of clarifying um are we saying that gatekeeper should",
    "start": "3341920",
    "end": "3347599"
  },
  {
    "text": "be preferred over psps moving forward",
    "start": "3347599",
    "end": "3352240"
  },
  {
    "text": "all i can really say uh let me share the [Music]",
    "start": "3353119",
    "end": "3359040"
  },
  {
    "text": "the proposal enhancement proposal cap file",
    "start": "3359040",
    "end": "3364240"
  },
  {
    "text": "that's the question in the chat and",
    "start": "3365040",
    "end": "3371280"
  },
  {
    "text": "where do we have it i think it was five",
    "start": "3371280",
    "end": "3378480"
  },
  {
    "text": "[Music] there you go",
    "start": "3380770",
    "end": "3387020"
  },
  {
    "text": "[Music] all i can say oops there you go",
    "start": "3387020",
    "end": "3394240"
  },
  {
    "text": "i'm too what is it i'm too slow here",
    "start": "3395200",
    "end": "3401440"
  },
  {
    "text": "i'm gonna post the uh the link to that kubernetes kubernetes issue about do you have it",
    "start": "3401760",
    "end": "3407040"
  },
  {
    "text": "yet perfect there it is thank you very much",
    "start": "3407040",
    "end": "3412400"
  },
  {
    "text": "um all i can say if you look at it at the very bottom is that um the only thing that is",
    "start": "3412400",
    "end": "3419040"
  },
  {
    "text": "clear is that at the current point in time um the psps will not graduate",
    "start": "3419040",
    "end": "3427200"
  },
  {
    "text": "to ga which means it's at some like 1.22 whatever um psps will not be part",
    "start": "3427200",
    "end": "3434319"
  },
  {
    "text": "of it will be deprecated so if you think again i encourage you to have something that enforces a security",
    "start": "3434319",
    "end": "3442640"
  },
  {
    "text": "context if you going forward want to look at something",
    "start": "3442640",
    "end": "3447920"
  },
  {
    "text": "you might already have psps in you know production usage or you're considering",
    "start": "3447920",
    "end": "3453839"
  },
  {
    "text": "it and thinking about should i invest into psp or just something else then i would think that going forward it",
    "start": "3453839",
    "end": "3459920"
  },
  {
    "text": "would make a lot of sense to look into oppa gatekeeper yes",
    "start": "3459920",
    "end": "3464720"
  },
  {
    "text": "um anything else",
    "start": "3468240",
    "end": "3474160"
  },
  {
    "text": "right now um i can't hear you liz you're muted to",
    "start": "3474160",
    "end": "3480160"
  },
  {
    "text": "me yes uh i think we're good to carry on",
    "start": "3480160",
    "end": "3486880"
  },
  {
    "text": "okay cool all right um so that was um the simple case of a",
    "start": "3486880",
    "end": "3494559"
  },
  {
    "text": "run time enforcing a runtime policy container runtime um depending on how",
    "start": "3494559",
    "end": "3501920"
  },
  {
    "text": "much space you have available i'm gonna do that uh only got 16 gigs so",
    "start": "3501920",
    "end": "3508480"
  },
  {
    "text": "got to be careful here um you want to delete the cluster think of each of those um if you",
    "start": "3508480",
    "end": "3515359"
  },
  {
    "text": "think about docker running in your local machine being something so you want to make sure",
    "start": "3515359",
    "end": "3521359"
  },
  {
    "text": "that uh you have enough um [Music]",
    "start": "3521359",
    "end": "3527680"
  },
  {
    "text": "all right so we are set up for the next one network policies by default um",
    "start": "3527680",
    "end": "3534000"
  },
  {
    "text": "you might not know that but by default all the communication paths every part",
    "start": "3534000",
    "end": "3540160"
  },
  {
    "text": "and every namespace etc etc are open and that is something",
    "start": "3540160",
    "end": "3546319"
  },
  {
    "text": "that especially if you have a security network background might be a little bit scary right to",
    "start": "3546319",
    "end": "3551760"
  },
  {
    "text": "come to communities like oh wow everything can talk to everything",
    "start": "3551760",
    "end": "3556839"
  },
  {
    "text": "maybe it's a good idea if you actually um define and enforce",
    "start": "3556839",
    "end": "3564000"
  },
  {
    "text": "the network policies the way it works is very often when you get to that you see",
    "start": "3564000",
    "end": "3570319"
  },
  {
    "text": "oh right i know how to do that right i take the network policies you know whatever they're here down there",
    "start": "3570319",
    "end": "3576799"
  },
  {
    "text": "and i you can't apply them and everything works not so fast turns out that just because you define",
    "start": "3576799",
    "end": "3583520"
  },
  {
    "text": "the resource the network policy resource it's not enforced you need something that enforces it in our case we're using",
    "start": "3583520",
    "end": "3589839"
  },
  {
    "text": "uh calico here which is free to use something else calico is battle proof and widely used",
    "start": "3589839",
    "end": "3595280"
  },
  {
    "text": "so i'm using that but again if you just define the network policy the resource",
    "start": "3595280",
    "end": "3600799"
  },
  {
    "text": "to cut and apply the resource nothing happens right the api server will happily take it and",
    "start": "3600799",
    "end": "3606000"
  },
  {
    "text": "serialize it for you in ncd but nothing happens because there is no controller nothing that looks after that resource actually enforces it through",
    "start": "3606000",
    "end": "3612960"
  },
  {
    "text": "this uni uh interface right so we're gonna create the the kind cluster we're gonna install",
    "start": "3612960",
    "end": "3619280"
  },
  {
    "text": "calico patch it um to make it work with kind and then we're gonna define um a sequence of",
    "start": "3619280",
    "end": "3626480"
  },
  {
    "text": "things all right let's let's start with the actual cluster",
    "start": "3626480",
    "end": "3632720"
  },
  {
    "text": "back here creating the cluster a little bit faster than last time um",
    "start": "3633280",
    "end": "3639520"
  },
  {
    "text": "once the cluster is up as i said i'm going to install calico that will essentially set up",
    "start": "3639520",
    "end": "3646880"
  },
  {
    "text": "calico creating a couple of custom resources controls etc to make sure that calico",
    "start": "3646880",
    "end": "3654240"
  },
  {
    "text": "essentially can do its job as this unite plug-in there and um once that's done",
    "start": "3654240",
    "end": "3662160"
  },
  {
    "text": "we as i said we need to patch it but that's just you know the way how we set up using kind uh so you can if you're not",
    "start": "3662160",
    "end": "3669040"
  },
  {
    "text": "using kind you can ignore this next part here um and once we have that then we can",
    "start": "3669040",
    "end": "3676480"
  },
  {
    "text": "actually define the [Music] sorry the next step before we do that",
    "start": "3676480",
    "end": "3682319"
  },
  {
    "text": "because as an example we're using ingress so we want to access a workload",
    "start": "3682319",
    "end": "3687599"
  },
  {
    "text": "that runs in the cluster from outside this kind cluster so we can install ambassador as an ingress",
    "start": "3687599",
    "end": "3692640"
  },
  {
    "text": "controller and that will launch the workload there",
    "start": "3692640",
    "end": "3698079"
  },
  {
    "text": "right um almost there",
    "start": "3698079",
    "end": "3704640"
  },
  {
    "text": "and let's see if there is anything in",
    "start": "3705040",
    "end": "3710839"
  },
  {
    "text": "between yes bogdan liz posted the cap5",
    "start": "3710839",
    "end": "3717680"
  },
  {
    "text": "on the slack channel [Music]",
    "start": "3717680",
    "end": "3724089"
  },
  {
    "text": "zabic's agent interesting that's a cool one um rodrigo if you want to put that on",
    "start": "3725760",
    "end": "3732000"
  },
  {
    "text": "the slack as well not sure if the q and a with the speakers that's why you're",
    "start": "3732000",
    "end": "3737680"
  },
  {
    "text": "inviting everyone to go on the slack channel because that one for sure is uh you know subject to public",
    "start": "3737680",
    "end": "3744319"
  },
  {
    "text": "record how is it to implement gatekeeper um did they install",
    "start": "3744319",
    "end": "3750559"
  },
  {
    "text": "i put a link to a video tutorial there is very straightforward i think it's then more a matter of operational issues you know uh keeping",
    "start": "3750559",
    "end": "3757839"
  },
  {
    "text": "it you know aj and everything uh but it doesn't the video does a good job walking you through that",
    "start": "3757839",
    "end": "3764880"
  },
  {
    "text": "all right kind is there so let's install calico boom some smear these there",
    "start": "3764880",
    "end": "3771920"
  },
  {
    "text": "um and now the patch again ignore that that's really just for our",
    "start": "3771920",
    "end": "3777119"
  },
  {
    "text": "case because of kind and now we should see just to verify",
    "start": "3777119",
    "end": "3782720"
  },
  {
    "text": "um the three parts there of course that takes a",
    "start": "3782720",
    "end": "3788720"
  },
  {
    "text": "little bit my experience the dryer runs maybe 30 seconds to a minute",
    "start": "3788720",
    "end": "3796880"
  },
  {
    "text": "and once the calico everything is set up there the notes are",
    "start": "3796880",
    "end": "3803039"
  },
  {
    "text": "fine we can install ambassador here so this is one command so you can literally take everything",
    "start": "3803039",
    "end": "3809039"
  },
  {
    "text": "as you can see here this one command just take that and you know once you see",
    "start": "3809039",
    "end": "3817599"
  },
  {
    "text": "that up and running",
    "start": "3817599",
    "end": "3824000"
  },
  {
    "text": "automate things watch um while i'm waiting watching and waiting",
    "start": "3824000",
    "end": "3829599"
  },
  {
    "text": "i'm gonna see if there is",
    "start": "3829599",
    "end": "3835680"
  },
  {
    "text": "something new here",
    "start": "3835839",
    "end": "3839839"
  },
  {
    "text": "anything that pops up for you list anything that i might not see because i'm",
    "start": "3841440",
    "end": "3847680"
  },
  {
    "text": "at least half of my time so uh duffy duffy was talking uh well first of",
    "start": "3848079",
    "end": "3854640"
  },
  {
    "text": "all saying uh good plus one on display",
    "start": "3854640",
    "end": "3858720"
  },
  {
    "text": "yes which is all good uh",
    "start": "3859920",
    "end": "3866640"
  },
  {
    "text": "also a shout out for a network security testing tool by control plane called net assert which sounds good",
    "start": "3866640",
    "end": "3872960"
  },
  {
    "text": "oh yes oh yes control plane uh are uh are great and uh yeah that desert is",
    "start": "3872960",
    "end": "3879280"
  },
  {
    "text": "absolutely perfect we're gonna um daffy do you want to pr that on on our",
    "start": "3879280",
    "end": "3884400"
  },
  {
    "text": "um in our tutorial it's up to github that would be awesome i think it's it's",
    "start": "3884400",
    "end": "3889839"
  },
  {
    "text": "worth it how well does kelly could perform in a large cluster with a thousand parts",
    "start": "3889839",
    "end": "3895920"
  },
  {
    "text": "um i wouldn't say that thousand parts and depends on the density is a large cluster necessarily um",
    "start": "3895920",
    "end": "3903520"
  },
  {
    "text": "i haven't seen any any issues a couple of hundred notes uh at all but i'm i'm you know i'm",
    "start": "3903520",
    "end": "3910319"
  },
  {
    "text": "not uh authoritatively speaking for localico um so",
    "start": "3910319",
    "end": "3917680"
  },
  {
    "text": "uh feel free to share your your experiences there and that's in general if you have great suggestions um for for our",
    "start": "3917680",
    "end": "3924400"
  },
  {
    "text": "tutorial please pr it right we're not oh it's running we are not uh limited to just the",
    "start": "3924400",
    "end": "3929440"
  },
  {
    "text": "the two things that you know uh listen in myself though all right so calico is up",
    "start": "3929440",
    "end": "3936319"
  },
  {
    "text": "and now we can actually install ambassador boom boom boom boom",
    "start": "3936319",
    "end": "3943440"
  },
  {
    "text": "there you go and with that good we should have everything right so",
    "start": "3943440",
    "end": "3950240"
  },
  {
    "text": "let's see if we look into",
    "start": "3950240",
    "end": "3954318"
  },
  {
    "text": "this but it's not too bad it should be fairly quick",
    "start": "3955359",
    "end": "3961519"
  },
  {
    "text": "unless you're doing some maintenance there please daniel don't don't tell me you're doing",
    "start": "3963599",
    "end": "3969839"
  },
  {
    "text": "something there that looks um there you go perfect",
    "start": "3969839",
    "end": "3975599"
  },
  {
    "text": "uh all right let's have a look at",
    "start": "3975599",
    "end": "3980400"
  },
  {
    "text": "workload so you can have a look at the workload yourself it's it's just a very simple engine x that you know",
    "start": "3987200",
    "end": "3994640"
  },
  {
    "text": "is available made available through through the ingress there so",
    "start": "3994640",
    "end": "3999680"
  },
  {
    "text": "onto that it's not",
    "start": "3999680",
    "end": "4007838"
  },
  {
    "text": "[Music] um it's really just this engine exit",
    "start": "4011800",
    "end": "4016960"
  },
  {
    "text": "right with ingress",
    "start": "4016960",
    "end": "4021838"
  },
  {
    "text": "with that we should be able that was all just set up um we should be able to do that right so",
    "start": "4025520",
    "end": "4031599"
  },
  {
    "text": "pearl since we have the ingress it is available slash api is just the default nginx welcome page",
    "start": "4031599",
    "end": "4039039"
  },
  {
    "text": "so we can do that for now remember what i said earlier on by default everything is open super",
    "start": "4039039",
    "end": "4045200"
  },
  {
    "text": "scary right so first thing you want to do is to um deny all",
    "start": "4045200",
    "end": "4052000"
  },
  {
    "text": "right so we're going to launch a um",
    "start": "4052000",
    "end": "4057280"
  },
  {
    "text": "we're going to define a network policy that it's called deny all and that literally does exactly",
    "start": "4058000",
    "end": "4064480"
  },
  {
    "text": "what it says denies all traffic right so let's do that so you do this one here",
    "start": "4064480",
    "end": "4072960"
  },
  {
    "text": "deny all and now anyone gets an idea if we do",
    "start": "4072960",
    "end": "4078780"
  },
  {
    "text": "[Music] um again what would we expect",
    "start": "4078780",
    "end": "4086960"
  },
  {
    "text": "a timeout right curl time's up right we don't get to it anymore right so we've shut down all the",
    "start": "4088880",
    "end": "4094319"
  },
  {
    "text": "traffic from the outside everything is is this up okay",
    "start": "4094319",
    "end": "4101120"
  },
  {
    "text": "but at the end of the day we do want to have traffic to that front end right",
    "start": "4101120",
    "end": "4106400"
  },
  {
    "text": "so if we look at um the",
    "start": "4106400",
    "end": "4111600"
  },
  {
    "text": "f our front and network policy and we say here whatever is labeled with",
    "start": "4112080",
    "end": "4118318"
  },
  {
    "text": "front end is allowed to get them allowed to get ingress right so we're gonna",
    "start": "4118319",
    "end": "4126400"
  },
  {
    "text": "define that new network policy remember the component in the kind cluster that",
    "start": "4126400",
    "end": "4132238"
  },
  {
    "text": "is actually enforcing it is calico um and then we're going to label our let's do it in two steps right",
    "start": "4132239",
    "end": "4138798"
  },
  {
    "text": "first you can do that together again one quantity you can just go but i'm gonna break it up why because i",
    "start": "4138799",
    "end": "4146238"
  },
  {
    "text": "want to show you that just because you have defined that policy does not mean yet that you actually get",
    "start": "4146239",
    "end": "4154400"
  },
  {
    "text": "traffic right it is still if you look at it um",
    "start": "4154400",
    "end": "4161839"
  },
  {
    "text": "the part the front-end part the nginx workload has not been labeled yet with",
    "start": "4161920",
    "end": "4167758"
  },
  {
    "text": "front-end so just like i'm not gonna i'm not gonna apply that right i'm not gonna apply the policy so",
    "start": "4167759",
    "end": "4173440"
  },
  {
    "text": "let's apply now let's label that part and now it hopefully should work",
    "start": "4173440",
    "end": "4182719"
  },
  {
    "text": "trust um oh it works right so from default",
    "start": "4182719",
    "end": "4188880"
  },
  {
    "text": "everything is open to deny everything that's the first thing deny everything and then you open up exactly the",
    "start": "4188880",
    "end": "4194800"
  },
  {
    "text": "communication paths one by one that you need make sense",
    "start": "4194800",
    "end": "4200400"
  },
  {
    "text": "cool how are we doing time-wise i think i'm a little bit behind but that's not too bad",
    "start": "4201600",
    "end": "4207199"
  },
  {
    "text": "um so that's great um as i said always do do",
    "start": "4207199",
    "end": "4214560"
  },
  {
    "text": "the network policies but if you think about that we've seen two cases now that's just two",
    "start": "4214560",
    "end": "4220159"
  },
  {
    "text": "where we kind of like have to deal with custom specific policies the way how we define it the",
    "start": "4220159",
    "end": "4227040"
  },
  {
    "text": "way how we enforce it what we need to install for the satellite center so what if there was a way in a",
    "start": "4227040",
    "end": "4235120"
  },
  {
    "text": "generic way to define policies and that does not mean necessary only",
    "start": "4235120",
    "end": "4242000"
  },
  {
    "text": "you know technical things like network policies this part can talk to this part or the",
    "start": "4242000",
    "end": "4249040"
  },
  {
    "text": "parts in this namespace have to you know run with this user or whatever but in general any kind of policy for",
    "start": "4249040",
    "end": "4255520"
  },
  {
    "text": "example think of i thing we're going to talk at the very end git ups where you need to want to enforce a policy that",
    "start": "4255520",
    "end": "4263520"
  },
  {
    "text": "at least two human reviewers need to look at every um that every",
    "start": "4263520",
    "end": "4270400"
  },
  {
    "text": "commit right report request you can do that that is the open policy age picture",
    "start": "4270400",
    "end": "4276800"
  },
  {
    "text": "project so um oppa",
    "start": "4276800",
    "end": "4281199"
  },
  {
    "text": "nine minutes oh wow okay gotta wrap up oprah is super powerful and",
    "start": "4282080",
    "end": "4288960"
  },
  {
    "text": "rather than talking blankly about that i just pointed at the end there are a number of great resources",
    "start": "4288960",
    "end": "4294640"
  },
  {
    "text": "that you can watch and read in your own time i'm just going to walk you through an example here",
    "start": "4294640",
    "end": "4299679"
  },
  {
    "text": "in the very awesome rego playground so what we have here is two parts",
    "start": "4299679",
    "end": "4307280"
  },
  {
    "text": "the one hand you have input and that input data input data is json and nowadays you can pretty much",
    "start": "4307280",
    "end": "4314960"
  },
  {
    "text": "create or or generate convert everything into chase it shouldn't be a problem so in our case",
    "start": "4314960",
    "end": "4320400"
  },
  {
    "text": "we have these time stamped um payload doesn't matter what whatever it is the important thing",
    "start": "4320400",
    "end": "4326640"
  },
  {
    "text": "are these time steps here we have three regular rules and what we want to",
    "start": "4326640",
    "end": "4332880"
  },
  {
    "text": "know is if a certain event for example that could be a commit message if you think about it",
    "start": "4332880",
    "end": "4338400"
  },
  {
    "text": "could be audit trail or whatever it doesn't matter the question is is an entry",
    "start": "4338400",
    "end": "4346000"
  },
  {
    "text": "within a certain time frame in this case a week if you head over to the rego playground",
    "start": "4346000",
    "end": "4352320"
  },
  {
    "text": "it's linked from here okay i should have",
    "start": "4352320",
    "end": "4357600"
  },
  {
    "text": "taken the correct link not one it's the generic one um i'm not gonna",
    "start": "4357600",
    "end": "4364159"
  },
  {
    "text": "zoom in for now we have the input data here and i've shown you we have the rules here and if",
    "start": "4364159",
    "end": "4369360"
  },
  {
    "text": "you just hit evaluate you would get this this output down here",
    "start": "4369360",
    "end": "4374640"
  },
  {
    "text": "and that really is in the the simplest case this is really all",
    "start": "4374640",
    "end": "4380800"
  },
  {
    "text": "that you need to know about about rig you have your input data you need to provide it as json obviously",
    "start": "4380800",
    "end": "4387440"
  },
  {
    "text": "you have your rules here uh things like within a week same year time window",
    "start": "4387440",
    "end": "4393679"
  },
  {
    "text": "check in this case we're gonna we're querying for this one level one here that might",
    "start": "4393679",
    "end": "4398880"
  },
  {
    "text": "invoke others and i also wanted to show off uh the awesomeness in terms of some",
    "start": "4398880",
    "end": "4404560"
  },
  {
    "text": "built-in functions in this case it's just simple uh time related data there are many many more",
    "start": "4404560",
    "end": "4409600"
  },
  {
    "text": "things crypto and many many more built-in functions that they can use in a very high level so definitely",
    "start": "4409600",
    "end": "4415920"
  },
  {
    "text": "lends itself for security purposes but you can you know represent any kind of general purpose",
    "start": "4415920",
    "end": "4423040"
  },
  {
    "text": "policies and you have a very um generic way how to enforce it now i can",
    "start": "4423360",
    "end": "4429679"
  },
  {
    "text": "imagine that you would say whoa you know writing these these rules that that looks not very",
    "start": "4429679",
    "end": "4436560"
  },
  {
    "text": "easy and unless you have a background in prolog or xslt you might not find it very easy",
    "start": "4436560",
    "end": "4441840"
  },
  {
    "text": "so good news in the context of kunitis you don't have to write those things yourself you can use",
    "start": "4441840",
    "end": "4448640"
  },
  {
    "text": "opel gatekeeper opelgatekeeper essentially does a separation of concerns our separation of duties",
    "start": "4448640",
    "end": "4455280"
  },
  {
    "text": "approach here it allows you as the end user who what just wants to apply these kind of",
    "start": "4455280",
    "end": "4462320"
  },
  {
    "text": "policies to use good old custom resources so you essentially just",
    "start": "4462320",
    "end": "4469040"
  },
  {
    "text": "apply you can't apply something like this here and then someone else uh an expert in",
    "start": "4469040",
    "end": "4475600"
  },
  {
    "text": "you know writing these regular rules um writes these templates and open gatekeeper will",
    "start": "4475600",
    "end": "4481600"
  },
  {
    "text": "take that input and enforce it so you don't even need to you know learn rego rules in order to",
    "start": "4481600",
    "end": "4488960"
  },
  {
    "text": "benefit from that i see we're running out of time so i will quickly wrap it up here just pointing",
    "start": "4488960",
    "end": "4495120"
  },
  {
    "text": "out that we have githubs um the main point if you want to try it yourself um that's why we put it at the",
    "start": "4495120",
    "end": "4502159"
  },
  {
    "text": "end because we're not sure how can we get through all of that depending on your questions um go to this getting started and and",
    "start": "4502159",
    "end": "4509840"
  },
  {
    "text": "again it's using kind so it should be relatively straightforward all right i guess um that's pretty much",
    "start": "4509840",
    "end": "4516960"
  },
  {
    "text": "it what we have in terms of time so we do want to do the wrap up so conclusion fed up so",
    "start": "4516960",
    "end": "4524159"
  },
  {
    "text": "heading back to uh to listen do you want to just take a minute to say",
    "start": "4524159",
    "end": "4530800"
  },
  {
    "text": "why get gitops is a good thing from a security perspective sure absolutely",
    "start": "4530800",
    "end": "4537280"
  },
  {
    "text": "yeah so the the basic idea uh here is that rather than",
    "start": "4537600",
    "end": "4544960"
  },
  {
    "text": "letting people developers whatever the the role is ops that change the cluster stage in the",
    "start": "4544960",
    "end": "4552159"
  },
  {
    "text": "sense of you know uh launching uh deployment the service and ingress persistent volume whatever giving them",
    "start": "4552159",
    "end": "4559760"
  },
  {
    "text": "direct access to the quality cluster your interface as a developer is git",
    "start": "4559760",
    "end": "4566480"
  },
  {
    "text": "very often these demonstrations you see github where in addition to your",
    "start": "4566480",
    "end": "4573600"
  },
  {
    "text": "application whatever that might be written in java or you know php or whatever you now also",
    "start": "4573600",
    "end": "4579360"
  },
  {
    "text": "have um all of your infrastructure related yemen manifest for example helm charts",
    "start": "4579360",
    "end": "4585920"
  },
  {
    "text": "or whatever you have in git and if you want to do a change if you let's let's say for example",
    "start": "4585920",
    "end": "4591920"
  },
  {
    "text": "want to change something in your deployment you would issue a pull request or do a",
    "start": "4591920",
    "end": "4598400"
  },
  {
    "text": "git commit then something a combination of bots and human reviewers would look at that and",
    "start": "4598400",
    "end": "4603760"
  },
  {
    "text": "say yep okay i'm going to accept that and merge it and then there is an agent in the kubernetes cluster that",
    "start": "4603760",
    "end": "4610320"
  },
  {
    "text": "looks has an eye on the git repo and synchronizes the state indicate repo",
    "start": "4610320",
    "end": "4615440"
  },
  {
    "text": "with what what is going on in the cluster so that separation of concerns",
    "start": "4615440",
    "end": "4620960"
  },
  {
    "text": "um it's a good security practice you have very clear um boundaries there it's very clear you",
    "start": "4620960",
    "end": "4628000"
  },
  {
    "text": "know who requested the change who reviewed and approved the change also think in terms of auditing right",
    "start": "4628000",
    "end": "4634480"
  },
  {
    "text": "any point in time you can go back into a previous good state um and uh also in terms of if you think about",
    "start": "4634480",
    "end": "4640880"
  },
  {
    "text": "the controls access controls etc uh you have pretty much already in your environment set up you know",
    "start": "4640880",
    "end": "4647120"
  },
  {
    "text": "um access to git and your workflows there who is reviewing and how reviewing is",
    "start": "4647120",
    "end": "4653679"
  },
  {
    "text": "assigned and who is doing that so it really lends itself to in a cloud",
    "start": "4653679",
    "end": "4658800"
  },
  {
    "text": "native setup to enforce good practices with with uh quantities",
    "start": "4658800",
    "end": "4664480"
  },
  {
    "text": "so i'd strongly recommend to to have a look at that and uh if if the surveys or sorry results",
    "start": "4664480",
    "end": "4670400"
  },
  {
    "text": "intermediate sorry results are true uh half of the people um i asked so far are saying they're",
    "start": "4670400",
    "end": "4676400"
  },
  {
    "text": "already practicing github so that's that's great keep it up",
    "start": "4676400",
    "end": "4681599"
  },
  {
    "text": "amazing so i think we just have a couple of minutes left",
    "start": "4684080",
    "end": "4689199"
  },
  {
    "text": "uh if that um so yeah plenty more questions came into the snack channel so we'll",
    "start": "4689199",
    "end": "4695360"
  },
  {
    "text": "we'll work our way through that today and perhaps later on during the week and and",
    "start": "4695360",
    "end": "4700640"
  },
  {
    "text": "let's keep on the conversation with you know it's it's always fun to have this have this kind of interaction",
    "start": "4700640",
    "end": "4706480"
  },
  {
    "text": "so yeah keep using the that channel will be there all week so uh do keep keep using it",
    "start": "4706480",
    "end": "4712800"
  },
  {
    "text": "um you can get hold of the electronic copy of the kubernetes",
    "start": "4712800",
    "end": "4718800"
  },
  {
    "text": "security book that it's linked to on the conclusion page of the tutorial",
    "start": "4718800",
    "end": "4724719"
  },
  {
    "text": "website which is pinned hopefully you've all found it by now but it's pinned in the channel",
    "start": "4724719",
    "end": "4729920"
  },
  {
    "text": "and i think one last order of business i believe the person who won the taipo competition is thomas",
    "start": "4729920",
    "end": "4737440"
  },
  {
    "text": "crispin hope i've pronounced your name matthew i hope that i i i i saw that right",
    "start": "4737440",
    "end": "4746480"
  },
  {
    "text": "so i'll reach out to you and you'll be getting a physical copy of the book so thank you everyone for your time today",
    "start": "4746480",
    "end": "4752080"
  },
  {
    "text": "and for your great questions and uh yeah enjoy the rest of your week",
    "start": "4752080",
    "end": "4758560"
  },
  {
    "text": "thanks a lot",
    "start": "4758560",
    "end": "4762080"
  }
]