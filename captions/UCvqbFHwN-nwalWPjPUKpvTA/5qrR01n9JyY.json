[
  {
    "text": "welcome we are from the Norwegian welfare and labour administration and",
    "start": "140",
    "end": "7350"
  },
  {
    "text": "we're here to talk to you about how we prepared our platform when we decided to",
    "start": "7350",
    "end": "14280"
  },
  {
    "text": "migrate some of our services from on-prem clusters to public cloud but",
    "start": "14280",
    "end": "28380"
  },
  {
    "text": "just to set the scene we're going to Europe and we're going to Norway Norway is a small country with just above 5.2",
    "start": "28380",
    "end": "37620"
  },
  {
    "text": "million inhabitants and like I said",
    "start": "37620",
    "end": "44340"
  },
  {
    "text": "we're from the welfare and labour administration which we call nob for",
    "start": "44340",
    "end": "49530"
  },
  {
    "text": "short now is the governmental directorates who are responsible for",
    "start": "49530",
    "end": "57559"
  },
  {
    "text": "implementing the Norwegian welfare model and just to give you an example of what",
    "start": "57559",
    "end": "65309"
  },
  {
    "text": "we mean by the welfare model I'm going",
    "start": "65309",
    "end": "70710"
  },
  {
    "text": "to give you a quick introduction so we say that enough we will follow you from",
    "start": "70710",
    "end": "76290"
  },
  {
    "text": "cradle to grave by that we mean that if you have a baby",
    "start": "76290",
    "end": "81770"
  },
  {
    "text": "we'll get benefits for that or we will get benefits and support if you are",
    "start": "81770",
    "end": "90170"
  },
  {
    "text": "unemployed if you are have a job you are",
    "start": "90170",
    "end": "95250"
  },
  {
    "text": "employed but you get sick so you cannot work for a while or if you have a disability so that you cannot work at",
    "start": "95250",
    "end": "102060"
  },
  {
    "text": "all and when you are old enough to retire you'll get a pension and",
    "start": "102060",
    "end": "113030"
  },
  {
    "text": "technically that means that all of these services they're about 16 total that we",
    "start": "113030",
    "end": "120210"
  },
  {
    "text": "support from love that in that means",
    "start": "120210",
    "end": "125549"
  },
  {
    "text": "that we have a lot of systems they range from",
    "start": "125549",
    "end": "131310"
  },
  {
    "text": "and 70s COBOL system still in production today - brand-new coupling code so we",
    "start": "131310",
    "end": "139349"
  },
  {
    "text": "had a lot of systems in a lot of different aspects the systems are for",
    "start": "139349",
    "end": "149720"
  },
  {
    "text": "for example applying for these services and benefits their system for processing",
    "start": "149720",
    "end": "158160"
  },
  {
    "text": "the applications systems for retrieving and storing information on our citizens",
    "start": "158160",
    "end": "164760"
  },
  {
    "text": "and so on in the Norway now is a huge deal we distribute about a third of the",
    "start": "164760",
    "end": "173069"
  },
  {
    "text": "national budget each year and we also",
    "start": "173069",
    "end": "178140"
  },
  {
    "text": "see that in a period of about five years time about 95 percent of the Norwegian",
    "start": "178140",
    "end": "184680"
  },
  {
    "text": "population are using some of nobs services that means that we do have a",
    "start": "184680",
    "end": "191459"
  },
  {
    "text": "lot of sensitive personal data on the Norwegian population it also means that",
    "start": "191459",
    "end": "198650"
  },
  {
    "text": "our application development teams enough have to be able to maintain and debug",
    "start": "198650",
    "end": "212660"
  },
  {
    "text": "their applications in an efficient manner they also have to reemployment",
    "start": "212660",
    "end": "221090"
  },
  {
    "text": "implement new ones when there's new regulations in laws and stuff like that so let's talk about the platform team",
    "start": "221090",
    "end": "231900"
  },
  {
    "text": "which Johnny and I are a part of this is",
    "start": "231900",
    "end": "240540"
  },
  {
    "text": "us you can see that we take security seriously we also use helm we saw the",
    "start": "240540",
    "end": "252180"
  },
  {
    "text": "need for giving the application",
    "start": "252180",
    "end": "258000"
  },
  {
    "text": "development teams a platform that made them suited for",
    "start": "258000",
    "end": "264810"
  },
  {
    "text": "and that made them suited for work efficiently be autonomous and could",
    "start": "264810",
    "end": "271590"
  },
  {
    "text": "respond to changes in regulation and loss in a quick way so one and a half",
    "start": "271590",
    "end": "278100"
  },
  {
    "text": "year ago we built a platform called nice which are Cuban it is based we built it",
    "start": "278100",
    "end": "286830"
  },
  {
    "text": "to optimize for development in speed and it's open source you can go check it out",
    "start": "286830",
    "end": "292770"
  },
  {
    "text": "on github and it's open source because we believe that the way we run and",
    "start": "292770",
    "end": "297870"
  },
  {
    "text": "implement knobs services and the welfare model should be transparent",
    "start": "297870",
    "end": "305510"
  },
  {
    "text": "besides the runtime of our environment in the platform we also wanted to",
    "start": "307560",
    "end": "312600"
  },
  {
    "text": "provide the teams with tools that I could take into use if they needed to",
    "start": "312600",
    "end": "318750"
  },
  {
    "text": "make the migration from old JBoss servers onto this new platform easier or",
    "start": "318750",
    "end": "326419"
  },
  {
    "text": "just to make them able to develop stuff",
    "start": "326419",
    "end": "331919"
  },
  {
    "text": "in a good way so we added tools like building blocks in the system so that",
    "start": "331919",
    "end": "341039"
  },
  {
    "text": "they could configure these to their needs when they needed them and all of",
    "start": "341039",
    "end": "346350"
  },
  {
    "text": "this is to optimize for autonomously development in speed and continuous",
    "start": "346350",
    "end": "352650"
  },
  {
    "text": "delivery and this is what we what is the goal of our platform nice the",
    "start": "352650",
    "end": "358139"
  },
  {
    "text": "application platform and it's also our guidance when we face designs design",
    "start": "358139",
    "end": "365370"
  },
  {
    "text": "decisions in the platform ok so now",
    "start": "365370",
    "end": "375240"
  },
  {
    "text": "we're going to take a bit closer look at what these components and building blocks actually is so we start by",
    "start": "375240",
    "end": "384210"
  },
  {
    "text": "looking at a single application like kini and I said we provide it with a",
    "start": "384210",
    "end": "389240"
  },
  {
    "text": "runtime environment we use just plain Q brothers",
    "start": "389240",
    "end": "394770"
  },
  {
    "text": "in addition we provide storage to the developers we use a project called rook",
    "start": "394770",
    "end": "399840"
  },
  {
    "text": "that sits on top of SEF and provides block storage and object storage for",
    "start": "399840",
    "end": "406110"
  },
  {
    "text": "those application who needs needs that we also have a centralized vault",
    "start": "406110",
    "end": "411509"
  },
  {
    "text": "instance that the development teams they put application secrets and during",
    "start": "411509",
    "end": "418889"
  },
  {
    "text": "deployment we make these secrets are available for actual application we have",
    "start": "418889",
    "end": "427110"
  },
  {
    "text": "a centralized logging solution so the applications simply write to stand out and stand there and then we have fluent",
    "start": "427110",
    "end": "434370"
  },
  {
    "text": "e running as a diamond set in the cluster transporting the logs into elasticsearch and then we have key Bamba",
    "start": "434370",
    "end": "441539"
  },
  {
    "text": "as a front-end for developers to view the logs on to do self dashboards",
    "start": "441539",
    "end": "450770"
  },
  {
    "text": "similarly for metrics we have Prometheus running inside the cluster so the application provide us with endpoint",
    "start": "452840",
    "end": "459449"
  },
  {
    "text": "that that has metrics so this is scraped and put into Prometheus and the",
    "start": "459449",
    "end": "467370"
  },
  {
    "text": "application developers set up their own dashboards in graph form where they have their monitoring so the idea here is",
    "start": "467370",
    "end": "475139"
  },
  {
    "text": "that we ask the platform team we provide a set of base metrics for these",
    "start": "475139",
    "end": "481349"
  },
  {
    "text": "dashboards that has to do with infrastructure and then the application",
    "start": "481349",
    "end": "486419"
  },
  {
    "text": "developers instrument their own applications to add the business but our",
    "start": "486419",
    "end": "492900"
  },
  {
    "text": "domain specific metrics we also have a",
    "start": "492900",
    "end": "498090"
  },
  {
    "text": "solution for alerts this is also based on Prometheus so this is where the alerts itself is defined and then we",
    "start": "498090",
    "end": "506039"
  },
  {
    "text": "have alert manager that forwards the alerts or the events to the team's slack",
    "start": "506039",
    "end": "513750"
  },
  {
    "text": "channel we have a centralized event bus a lot of the newer application that we",
    "start": "513750",
    "end": "521159"
  },
  {
    "text": "develop are small applications that subscribe and publish events so then you need a common event bus we",
    "start": "521159",
    "end": "531550"
  },
  {
    "text": "have a Redis operator running inside the cluster at least we have a solution for",
    "start": "531550",
    "end": "537579"
  },
  {
    "text": "deployment and this is basically a kubernetes operator so we have defined",
    "start": "537579",
    "end": "543040"
  },
  {
    "text": "the customer resource definition and then they have operator running inside",
    "start": "543040",
    "end": "549069"
  },
  {
    "text": "adjuster so this is basically just to reduce the amount of PML that the",
    "start": "549069",
    "end": "554439"
  },
  {
    "text": "development teams has to have to know about so these are the main components",
    "start": "554439",
    "end": "560740"
  },
  {
    "text": "and the building blocks that we have in our cluster so this is our available and",
    "start": "560740",
    "end": "565930"
  },
  {
    "text": "this is what we call a nice cluster now we have six of these clusters for which",
    "start": "565930",
    "end": "573309"
  },
  {
    "text": "runs on premise so we have two data centers in Illinois and then we have two",
    "start": "573309",
    "end": "579069"
  },
  {
    "text": "clusters running on Google Cloud and with dk and in the five years period",
    "start": "579069",
    "end": "587110"
  },
  {
    "text": "we're looking to migrating all of our work loads from our internal data centers into multiple public cloud",
    "start": "587110",
    "end": "594610"
  },
  {
    "text": "providers but in order to do this successfully we need to start looking at",
    "start": "594610",
    "end": "600939"
  },
  {
    "text": "how we think about security and how we model this and if we take a look at our",
    "start": "600939",
    "end": "608170"
  },
  {
    "text": "cluster itself or internally we see that we have two zones internal and external",
    "start": "608170",
    "end": "613360"
  },
  {
    "text": "zone between these we have a firewall",
    "start": "613360",
    "end": "618970"
  },
  {
    "text": "and some hardware appliance and a load balancer and the combination of this",
    "start": "618970",
    "end": "625110"
  },
  {
    "text": "nothing so the internal zone is where we have the most sensitive data and the",
    "start": "625110",
    "end": "630850"
  },
  {
    "text": "external is less secure a demilitarized zone with the same boundary and then",
    "start": "630850",
    "end": "636459"
  },
  {
    "text": "it's the internet and the idea here is that from left to right it's most secure",
    "start": "636459",
    "end": "642399"
  },
  {
    "text": "to the least secure and this model here is typically called a parameter based",
    "start": "642399",
    "end": "648850"
  },
  {
    "text": "security and the idea here is that if you look at the single cluster or I mean",
    "start": "648850",
    "end": "655480"
  },
  {
    "text": "a single zone each application assumes that the environment that it",
    "start": "655480",
    "end": "661540"
  },
  {
    "text": "runs in is secure and it places some trust in wherever it is and in order for",
    "start": "661540",
    "end": "670029"
  },
  {
    "text": "us to successfully move into public health we want to move from this to this",
    "start": "670029",
    "end": "675190"
  },
  {
    "text": "where each and every work lobe is secure in and of itself and we're going to look",
    "start": "675190",
    "end": "682930"
  },
  {
    "text": "at what this boundary actually actually means and this is where it still comes",
    "start": "682930",
    "end": "689170"
  },
  {
    "text": "into the picture so the current situation looks a bit like this for a",
    "start": "689170",
    "end": "696100"
  },
  {
    "text": "cluster so inside the cluster the communication is insecure on-premise",
    "start": "696100",
    "end": "701790"
  },
  {
    "text": "just pure HTTP and but traffic coming from outside via ingress is terminated",
    "start": "701790",
    "end": "709510"
  },
  {
    "text": "at the ingress controller and then unencrypted inside the cluster so what",
    "start": "709510",
    "end": "714940"
  },
  {
    "text": "we wanted out of still is basically to secure the crypt the communication",
    "start": "714940",
    "end": "721360"
  },
  {
    "text": "end-to-end with strong identities for each of these applications and basically being able to",
    "start": "721360",
    "end": "728890"
  },
  {
    "text": "provide the mutual TLS as a service to the development tips so they don't have to deal with certificates and trusts or",
    "start": "728890",
    "end": "737740"
  },
  {
    "text": "some rotation and everything like that in addition there the possibility to",
    "start": "737740",
    "end": "744220"
  },
  {
    "text": "enforce access policies between each of these applications to say that this",
    "start": "744220",
    "end": "749740"
  },
  {
    "text": "application here can only be communicated by these this set of applications or only the ingress",
    "start": "749740",
    "end": "756700"
  },
  {
    "text": "controller so that is the basic driver",
    "start": "756700",
    "end": "761709"
  },
  {
    "text": "for a further thing is to in addition we wanted to enhance the observability as",
    "start": "761709",
    "end": "769240"
  },
  {
    "text": "we believe that in order for things to go really fast for fast iteration cycles",
    "start": "769240",
    "end": "774640"
  },
  {
    "text": "then you need to increase and invest in the actual of observability and having",
    "start": "774640",
    "end": "781779"
  },
  {
    "text": "the ISTE of proxies sitting beside the application processing all the traffic allows for some really great insight",
    "start": "781779",
    "end": "788950"
  },
  {
    "text": "both for tracing and seeing what applications talks to what other applications and also also what happens",
    "start": "788950",
    "end": "798220"
  },
  {
    "text": "with each call are things starting to fail we see latencies both of the applications ever and the platform level",
    "start": "798220",
    "end": "805830"
  },
  {
    "text": "so that is our basic motivation for other things do I'm going to talk about",
    "start": "805830",
    "end": "816880"
  },
  {
    "text": "how we are journey with this dough and how we started and stuff like that and",
    "start": "816880",
    "end": "824080"
  },
  {
    "text": "that takes us back to January this year in Norway in January it was very cold it",
    "start": "824080",
    "end": "832420"
  },
  {
    "text": "was tons of snow people are actually going skiing in the city centre to get",
    "start": "832420",
    "end": "840280"
  },
  {
    "text": "to work and this is a picture of",
    "start": "840280",
    "end": "845370"
  },
  {
    "text": "Johnny's dog in front of his house as you can see there's a lot of snow and",
    "start": "845370",
    "end": "852840"
  },
  {
    "text": "this with this we had started and decided to test sto because we heard it",
    "start": "852840",
    "end": "862450"
  },
  {
    "text": "on Cube cone the year before we thought that this will solve a lot of our",
    "start": "862450",
    "end": "868200"
  },
  {
    "text": "problems and issues when going into a public cloud and at that point Easter",
    "start": "868200",
    "end": "877630"
  },
  {
    "text": "was in release 0.5 so we created we",
    "start": "877630",
    "end": "888250"
  },
  {
    "text": "installed still on on premise cluster just to test a bare minimum we decided",
    "start": "888250",
    "end": "895000"
  },
  {
    "text": "to test the telemetry part like Johnny",
    "start": "895000",
    "end": "900190"
  },
  {
    "text": "said it's because we wanted to enhance the observability for our application",
    "start": "900190",
    "end": "906070"
  },
  {
    "text": "teams and also for us as a platform team to have insight in our clusters but we",
    "start": "906070",
    "end": "915220"
  },
  {
    "text": "quickly found that a lot of the stuff that we thought was going to work did not work for example egress TCP did not",
    "start": "915220",
    "end": "923290"
  },
  {
    "text": "work and we used a lot of time and resources",
    "start": "923290",
    "end": "929260"
  },
  {
    "text": "to try to get the other stuff that was supposed to work to work and we felt",
    "start": "929260",
    "end": "936310"
  },
  {
    "text": "like this black box where we tweaked a little on the CR DS to just see what",
    "start": "936310",
    "end": "942010"
  },
  {
    "text": "happened when we applied them so we",
    "start": "942010",
    "end": "947080"
  },
  {
    "text": "didn't there was a lot of stuff that we didn't understand and we used a lot of time to try to understand it and to try",
    "start": "947080",
    "end": "954430"
  },
  {
    "text": "to make it work for our small use case but all in all they didn't feel that",
    "start": "954430",
    "end": "961500"
  },
  {
    "text": "ready to use in production we did not feel like this was something that we can",
    "start": "961500",
    "end": "968830"
  },
  {
    "text": "put onto our working production clusters so we decided to wait we decided to just",
    "start": "968830",
    "end": "975460"
  },
  {
    "text": "throw this away and wait for a stable release so let's fast forward a couple",
    "start": "975460",
    "end": "981790"
  },
  {
    "text": "of months it's spring in Norway and the snow had finally started to melt and",
    "start": "981790",
    "end": "988380"
  },
  {
    "text": "with spring came still 0.8 that's not a stable release but that's relevant",
    "start": "988380",
    "end": "996340"
  },
  {
    "text": "because we had been starting to talk to some guys from a company called Tetris",
    "start": "996340",
    "end": "1002540"
  },
  {
    "text": "they had been involved in developing central components in is Joe and when we",
    "start": "1002540",
    "end": "1009660"
  },
  {
    "text": "explained our concerns and issues from the last time they assured us that first",
    "start": "1009660",
    "end": "1014940"
  },
  {
    "text": "of all it was well he still had became much more stable in release year 0.8 and",
    "start": "1014940",
    "end": "1022850"
  },
  {
    "text": "that a lot of the issues we had were solved so with them on slack and slack",
    "start": "1022850",
    "end": "1030300"
  },
  {
    "text": "cause we got new enthusiasms to try again",
    "start": "1030300",
    "end": "1036050"
  },
  {
    "text": "this time we decided to test on public cloud and just skip the on-prem and with",
    "start": "1036050",
    "end": "1046890"
  },
  {
    "text": "that we turned to now and we found an application development team who were",
    "start": "1046890",
    "end": "1052140"
  },
  {
    "text": "eager to try this with us because not only were there they curious about it",
    "start": "1052140",
    "end": "1057390"
  },
  {
    "text": "Joe and the security aspects and telemetry and observability but they also wanted to get to public cloud",
    "start": "1057390",
    "end": "1066630"
  },
  {
    "text": "because that would make their daily life much more easy this team had a small app",
    "start": "1066630",
    "end": "1073190"
  },
  {
    "text": "which made sense even though it was small it made sense and gave value as a",
    "start": "1073190",
    "end": "1078600"
  },
  {
    "text": "proof-of-concept when going on Prem I'm still communicating with her you know going to",
    "start": "1078600",
    "end": "1084770"
  },
  {
    "text": "public cloud and still communicating with our own premise clusters and services so what we did we decided to",
    "start": "1084770",
    "end": "1096330"
  },
  {
    "text": "test out Google cloud platform we created clusters there and we installed",
    "start": "1096330",
    "end": "1102240"
  },
  {
    "text": "its Joe this time we installed it with mutual TLS which we did not do the first time",
    "start": "1102240",
    "end": "1109410"
  },
  {
    "text": "and in the in like June this year we had is Joe running in production with this",
    "start": "1109410",
    "end": "1118650"
  },
  {
    "text": "small app and it was stuff did work we found that a lot of change since the 0.5",
    "start": "1118650",
    "end": "1127560"
  },
  {
    "text": "release but stuff did make sense because even though we had to relearn a lot of",
    "start": "1127560",
    "end": "1134880"
  },
  {
    "text": "the CR DS and concepts when we got things to work of course it made more",
    "start": "1134880",
    "end": "1140610"
  },
  {
    "text": "sense so it felt like something that we could actually put into use in",
    "start": "1140610",
    "end": "1145830"
  },
  {
    "text": "production and exposed to all of our application development teams and with",
    "start": "1145830",
    "end": "1153240"
  },
  {
    "text": "this it's time to celebrate so this is our team office and the day that we put",
    "start": "1153240",
    "end": "1160350"
  },
  {
    "text": "this into production you can I said in",
    "start": "1160350",
    "end": "1165870"
  },
  {
    "text": "the beginning that Norway is a small country and this was a small application",
    "start": "1165870",
    "end": "1170970"
  },
  {
    "text": "so you see the number 27 on the screen we that's the number of applications",
    "start": "1170970",
    "end": "1178830"
  },
  {
    "text": "sent through that day and in order for us to celebrate and eat the cake we had",
    "start": "1178830",
    "end": "1185730"
  },
  {
    "text": "to wait for that number to get from 26 to 27 we had to wait for mmm",
    "start": "1185730",
    "end": "1192980"
  },
  {
    "text": "but we could eat cake fun finally and celebrate that we have actually deployed this in production alright so now we're",
    "start": "1192980",
    "end": "1206340"
  },
  {
    "text": "going to take a look at how we actually ended up implementing these features and how we expose this to the application",
    "start": "1206340",
    "end": "1214740"
  },
  {
    "text": "developers so again way let's imagine that you have released your application it's pushed to",
    "start": "1214740",
    "end": "1221460"
  },
  {
    "text": "a docker image your dock dock Remus is put dr. a post array and you want to get",
    "start": "1221460",
    "end": "1227670"
  },
  {
    "text": "it to run on mice like this what you",
    "start": "1227670",
    "end": "1233760"
  },
  {
    "text": "have to do is to define or create a custom resource this is custom research",
    "start": "1233760",
    "end": "1240030"
  },
  {
    "text": "that we as the platform team has defined and it's simply called an application",
    "start": "1240030",
    "end": "1248060"
  },
  {
    "text": "this resource is basically a distillate of all the information that we need in",
    "start": "1248060",
    "end": "1253590"
  },
  {
    "text": "order to set up a working application on our platform so for now we can just call",
    "start": "1253590",
    "end": "1261480"
  },
  {
    "text": "this noise llamo and we will go through the details a bit later so when you have",
    "start": "1261480",
    "end": "1269430"
  },
  {
    "text": "your noisy mo all the development teams have cube CTL access and their pipelines",
    "start": "1269430",
    "end": "1276660"
  },
  {
    "text": "as well so they use it they'll apply this noisy mo the application is the",
    "start": "1276660",
    "end": "1284100"
  },
  {
    "text": "application resource is created inside the cluster inside the cluster we have an operator that receives events about",
    "start": "1284100",
    "end": "1293040"
  },
  {
    "text": "this resource kind and what that operator does is that it takes the",
    "start": "1293040",
    "end": "1298500"
  },
  {
    "text": "information from application llamo and it creates all the different key",
    "start": "1298500",
    "end": "1303570"
  },
  {
    "text": "varieties and still resources for us so",
    "start": "1303570",
    "end": "1309870"
  },
  {
    "text": "that everything hangs together and the application works as specified in in the",
    "start": "1309870",
    "end": "1315450"
  },
  {
    "text": "application llamo also worth mentioning is that all of these resources have a",
    "start": "1315450",
    "end": "1320790"
  },
  {
    "text": "parent reference to the application resource so if the application is deleted all of the other resources",
    "start": "1320790",
    "end": "1328360"
  },
  {
    "text": "are removed as well so if we take a",
    "start": "1328360",
    "end": "1334750"
  },
  {
    "text": "closer look at the application we see you can notice the team label this is",
    "start": "1334750",
    "end": "1343180"
  },
  {
    "text": "the name of the team that is responsible for the application and this is important because inside the cluster we",
    "start": "1343180",
    "end": "1349990"
  },
  {
    "text": "have another operator that ensures that only this team has access to to",
    "start": "1349990",
    "end": "1356760"
  },
  {
    "text": "administer that application since we have a multi-tenancy environment with a",
    "start": "1356760",
    "end": "1361810"
  },
  {
    "text": "lot of different development teams and a lot of application it's important that the access control is correct so what",
    "start": "1361810",
    "end": "1370480"
  },
  {
    "text": "this does is simply to create dynamically a role that consists of all of the different resources and then it",
    "start": "1370480",
    "end": "1378640"
  },
  {
    "text": "takes that role and binds it to the application team that owns it then we",
    "start": "1378640",
    "end": "1385690"
  },
  {
    "text": "have the default information that you need to get a working deployment how to",
    "start": "1385690",
    "end": "1391300"
  },
  {
    "text": "scale the application and what kind of probes that the application has typically liveness and readiness probes",
    "start": "1391300",
    "end": "1398490"
  },
  {
    "text": "metrics pre stop hoops and so on and those endpoints are what we call the",
    "start": "1398490",
    "end": "1404380"
  },
  {
    "text": "platform endpoints that doesn't really have anything to do with the application domain itself it's just services for the",
    "start": "1404380",
    "end": "1411520"
  },
  {
    "text": "platform then they define what ingresses",
    "start": "1411520",
    "end": "1417190"
  },
  {
    "text": "that their application should be reached at so for that we create a ver still virtual service",
    "start": "1417190",
    "end": "1423840"
  },
  {
    "text": "similarly for egress s here we also add service entry to add that hostname to",
    "start": "1423840",
    "end": "1429550"
  },
  {
    "text": "the service mesh if the application has any secrets simply stated like this and",
    "start": "1429550",
    "end": "1437640"
  },
  {
    "text": "what we do and what happens is that for application we inside the pub or inject",
    "start": "1437640",
    "end": "1444460"
  },
  {
    "text": "in it container that in the container complex vault and presents the service",
    "start": "1444460",
    "end": "1450310"
  },
  {
    "text": "account token that the application has volton validates this against api server",
    "start": "1450310",
    "end": "1457270"
  },
  {
    "text": "and if this goes okay Volt will return our access token to the init container",
    "start": "1457270",
    "end": "1462970"
  },
  {
    "text": "which is then used to fetch the actual secrets and make them available for that",
    "start": "1462970",
    "end": "1468490"
  },
  {
    "text": "actual application yesterday we were at to talk with Maya and Alexander from",
    "start": "1468490",
    "end": "1474730"
  },
  {
    "text": "Google we've talked about kms plug-in volt which seemed really interesting and",
    "start": "1474730",
    "end": "1480580"
  },
  {
    "text": "it's probably something that we can use to simplify this solution even further",
    "start": "1480580",
    "end": "1487770"
  },
  {
    "text": "so and here we have plus the access policy and this is where the application",
    "start": "1488520",
    "end": "1495340"
  },
  {
    "text": "called up in this case define what other applications can talk to and communicate",
    "start": "1495340",
    "end": "1501250"
  },
  {
    "text": "with this application so based on this information here we create a cavalettis",
    "start": "1501250",
    "end": "1506740"
  },
  {
    "text": "Network policy and the East EO are back key resources namely the service role",
    "start": "1506740",
    "end": "1512620"
  },
  {
    "text": "and service role binding these resources",
    "start": "1512620",
    "end": "1517810"
  },
  {
    "text": "look like this first a network policy here you first select the workload that",
    "start": "1517810",
    "end": "1523690"
  },
  {
    "text": "you're targeting then you state what kind of ingress traffic that should receive and how we say that only apps",
    "start": "1523690",
    "end": "1530890"
  },
  {
    "text": "with that matches this label consumer a in this case should be able to",
    "start": "1530890",
    "end": "1536530"
  },
  {
    "text": "communicate it so it's locked down on layer 3 here we",
    "start": "1536530",
    "end": "1545380"
  },
  {
    "text": "have the service role this role just says that you're able to talk to application called app and then we use",
    "start": "1545380",
    "end": "1553840"
  },
  {
    "text": "this role in the service role binding we say that the service role is bound to",
    "start": "1553840",
    "end": "1559740"
  },
  {
    "text": "the service account of the consuming application so this way on layer 7 all",
    "start": "1559740",
    "end": "1565960"
  },
  {
    "text": "applicate application with or only this user meaning the application can talk to",
    "start": "1565960",
    "end": "1572890"
  },
  {
    "text": "the name called the alright so if we go back to",
    "start": "1572890",
    "end": "1581120"
  },
  {
    "text": "this mobile here and we take a look at this single application what we actually",
    "start": "1581120",
    "end": "1586910"
  },
  {
    "text": "mean if we swim into this orange dotted line what we actually mean is this",
    "start": "1586910",
    "end": "1595280"
  },
  {
    "text": "consists of a service role and a service role binding these two are back also the",
    "start": "1595280",
    "end": "1602840"
  },
  {
    "text": "network policy and port security policy that is also inside the inside leg",
    "start": "1602840",
    "end": "1608480"
  },
  {
    "text": "history so these here are mechanisms that we are able to provide as a service",
    "start": "1608480",
    "end": "1613820"
  },
  {
    "text": "to the development teams without them having to care about the different details around that all right so now",
    "start": "1613820",
    "end": "1625190"
  },
  {
    "text": "we're going to take a quick look at some of the challenges that we met to",
    "start": "1625190",
    "end": "1631070"
  },
  {
    "text": "describe this we start with just this example so here we have two apps happily",
    "start": "1631070",
    "end": "1636580"
  },
  {
    "text": "communicating with each other and we have the cubelets talking to the",
    "start": "1636580",
    "end": "1641900"
  },
  {
    "text": "applications typically probing the applications and seeing if they're alive and ready but what happens is that when",
    "start": "1641900",
    "end": "1650690"
  },
  {
    "text": "you add is still and with mutual TLS the",
    "start": "1650690",
    "end": "1656630"
  },
  {
    "text": "cubelet is no longer able to communicate with the applications because it doesn't",
    "start": "1656630",
    "end": "1661940"
  },
  {
    "text": "have the required certificates and it's not part of the mesh so to solve this",
    "start": "1661940",
    "end": "1667370"
  },
  {
    "text": "there are two proposed solutions by the community so to explain one of them we",
    "start": "1667370",
    "end": "1675290"
  },
  {
    "text": "start again with the application and we see that it has a binary and OS other",
    "start": "1675290",
    "end": "1681620"
  },
  {
    "text": "applications are still happily talking to it but the cubelet is not so what you",
    "start": "1681620",
    "end": "1687620"
  },
  {
    "text": "can do is - you can bundle curl inside the application container image and then",
    "start": "1687620",
    "end": "1695720"
  },
  {
    "text": "you can use exact type of aliveness redness problem and everything will work",
    "start": "1695720",
    "end": "1701360"
  },
  {
    "text": "fine so that is one solution the drawback being that you have to",
    "start": "1701360",
    "end": "1706590"
  },
  {
    "text": "have a curl inside the application image another solution might look like this so",
    "start": "1706590",
    "end": "1715470"
  },
  {
    "text": "now we're back to the cubelet not being able to talk and probe the application and we see that we've splitted the",
    "start": "1715470",
    "end": "1721620"
  },
  {
    "text": "services that application provides into two we have the business end points or",
    "start": "1721620",
    "end": "1728640"
  },
  {
    "text": "services which is the reason why the application exists in the first place and then you have all the platform",
    "start": "1728640",
    "end": "1734730"
  },
  {
    "text": "services liveness probes earnest probes metrics and so on and what you can do is",
    "start": "1734730",
    "end": "1741240"
  },
  {
    "text": "that you can expose these types of services on different ports so you can",
    "start": "1741240",
    "end": "1746970"
  },
  {
    "text": "say that the platform services are served on port 9000 no one in this case and then you can tell is still too lot",
    "start": "1746970",
    "end": "1754080"
  },
  {
    "text": "and force mutual TOS on that specific port and that will work fine drawback",
    "start": "1754080",
    "end": "1760799"
  },
  {
    "text": "being here at all of at least all of our applications had to change into this moment so what we ended up doing is",
    "start": "1760799",
    "end": "1768980"
  },
  {
    "text": "basically this but sewing it on the platform layer so back to this we have",
    "start": "1768980",
    "end": "1777720"
  },
  {
    "text": "as the application exposes a single port and then inside the pub we inject",
    "start": "1777720",
    "end": "1783299"
  },
  {
    "text": "something that we called a nice car which is simply a envoi container that",
    "start": "1783299",
    "end": "1789450"
  },
  {
    "text": "is dynamically configured to allow traffic only to those specific endpoints",
    "start": "1789450",
    "end": "1794549"
  },
  {
    "text": "that the application exposes for the platform and then we tell it still to",
    "start": "1794549",
    "end": "1801720"
  },
  {
    "text": "not enforce mutual TLS on that port and then that means that the entire pub",
    "start": "1801720",
    "end": "1808860"
  },
  {
    "text": "looks like this we have the history of proxy that hands all the rest of the the traffic and the",
    "start": "1808860",
    "end": "1816690"
  },
  {
    "text": "noise can Mosquera handles the the platform services so this is our current best",
    "start": "1816690",
    "end": "1824549"
  },
  {
    "text": "workaround it's not something we consider a sole",
    "start": "1824549",
    "end": "1829740"
  },
  {
    "text": "problem but it's the best that we have for now ideally you would you don't want",
    "start": "1829740",
    "end": "1836610"
  },
  {
    "text": "to have the overhead we're having an extra and why so there might be a solution where II",
    "start": "1836610",
    "end": "1842340"
  },
  {
    "text": "can imagine that this invoice configuration in the nice car is somehow",
    "start": "1842340",
    "end": "1847730"
  },
  {
    "text": "moved into these two approxi so if anyone has any thoughts or ideas around",
    "start": "1847730",
    "end": "1853560"
  },
  {
    "text": "this please come talk to us after of this ok so to start to wrap things up",
    "start": "1853560",
    "end": "1870960"
  },
  {
    "text": "I'm going to talk about some of the other stuff that we or some of the",
    "start": "1870960",
    "end": "1875970"
  },
  {
    "text": "things that we learn from this experience first of all since we started",
    "start": "1875970",
    "end": "1884250"
  },
  {
    "text": "this and there was really cold in Norway a lot bunch of snow and there was a very hot summer in June we learned that our",
    "start": "1884250",
    "end": "1892610"
  },
  {
    "text": "experience with Easter is quite correlating to the weather in Norway and",
    "start": "1892610",
    "end": "1897960"
  },
  {
    "text": "since winter is coming we are fearing we are afraid that there will be dark still",
    "start": "1897960",
    "end": "1904380"
  },
  {
    "text": "times ahead of us but hopefully not SEO",
    "start": "1904380",
    "end": "1912660"
  },
  {
    "text": "is a complex system which has a lot of functionalities and features and it's",
    "start": "1912660",
    "end": "1919950"
  },
  {
    "text": "not something that you can put into use in a working production environment just",
    "start": "1919950",
    "end": "1926520"
  },
  {
    "text": "without any considerations we learned that it takes a lot of time and",
    "start": "1926520",
    "end": "1932370"
  },
  {
    "text": "resources to learn the system to learn it still what it offers what's the drawbacks and bugs and to",
    "start": "1932370",
    "end": "1944460"
  },
  {
    "text": "figure out what is needed for our use case and what makes sense in our",
    "start": "1944460",
    "end": "1950160"
  },
  {
    "text": "environments and also to configure it to our environment at now which is quite",
    "start": "1950160",
    "end": "1956010"
  },
  {
    "text": "complex from the beginning so that took time and in many cases it will take time",
    "start": "1956010",
    "end": "1965220"
  },
  {
    "text": "and resources we also learned that while",
    "start": "1965220",
    "end": "1971130"
  },
  {
    "text": "our team has a lot of freedom to use new",
    "start": "1971130",
    "end": "1976310"
  },
  {
    "text": "cutting-edge technology when we see that that will suit our needs solve the",
    "start": "1976310",
    "end": "1982910"
  },
  {
    "text": "issues or problems we have we saw that when we actually you do this sometimes",
    "start": "1982910",
    "end": "1990920"
  },
  {
    "text": "with alpha products it can mean that you cut yourself that bleeding edge actually",
    "start": "1990920",
    "end": "1996770"
  },
  {
    "text": "means that it is it is blood so that was quite new to us because when we started",
    "start": "1996770",
    "end": "2002980"
  },
  {
    "text": "with East EO in January we we thought",
    "start": "2002980",
    "end": "2008890"
  },
  {
    "text": "that this was more used and more stable than that it was at that point also",
    "start": "2008890",
    "end": "2017290"
  },
  {
    "text": "because like it was so much talked about it on the previous Cube Khan and stuff like that so we didn't actually consider",
    "start": "2017290",
    "end": "2025960"
  },
  {
    "text": "the fact that it was alpha meant alpha",
    "start": "2025960",
    "end": "2031980"
  },
  {
    "text": "sorry so what's next so in a period of",
    "start": "2035580",
    "end": "2040870"
  },
  {
    "text": "five years time we're seeing that hopefully we will have migrated all of migrated all of our workloads",
    "start": "2040870",
    "end": "2047230"
  },
  {
    "text": "from away from on-premise to public clouds clusters that means that we will",
    "start": "2047230",
    "end": "2055570"
  },
  {
    "text": "still run a lot of services on-premise for a little good while so we will look",
    "start": "2055570",
    "end": "2062020"
  },
  {
    "text": "into having sto installed on our on premise clusters as well both for the security reasons and in order to make",
    "start": "2062020",
    "end": "2070330"
  },
  {
    "text": "the environments more trans more equal so that the migration from on-prem to",
    "start": "2070330",
    "end": "2076780"
  },
  {
    "text": "public cloud providers will be easier for us and for the application teams so",
    "start": "2076780",
    "end": "2085960"
  },
  {
    "text": "and right now we have gke as a google cloud as our only public cloud provider",
    "start": "2085960",
    "end": "2092679"
  },
  {
    "text": "but we will look into at least one more so we have started looking into a sure",
    "start": "2092679",
    "end": "2098800"
  },
  {
    "text": "and we will continue to use to look at a",
    "start": "2098800",
    "end": "2104050"
  },
  {
    "text": "sure see if create clusters there and when we do",
    "start": "2104050",
    "end": "2109290"
  },
  {
    "text": "that we will see take a look at the multi cloud feature of a statistical to",
    "start": "2109290",
    "end": "2115140"
  },
  {
    "text": "see that whether mesh expanding over several clusters will make sense for us",
    "start": "2115140",
    "end": "2122220"
  },
  {
    "text": "to use and we also know that there's a",
    "start": "2122220",
    "end": "2127560"
  },
  {
    "text": "lot of experience around people solving stuff in a different way so we learned a",
    "start": "2127560",
    "end": "2134220"
  },
  {
    "text": "couple months ago that for example Google cloud is providing SEO as a",
    "start": "2134220",
    "end": "2140730"
  },
  {
    "text": "service so we look into that and see if we can learn something from them and see",
    "start": "2140730",
    "end": "2147150"
  },
  {
    "text": "if they have solved some of our issues in another way and will that make sense",
    "start": "2147150",
    "end": "2153089"
  },
  {
    "text": "for us to use so that's about what we",
    "start": "2153089",
    "end": "2160890"
  },
  {
    "text": "had time for check us out on Twitter if you want we have our own a nice IO",
    "start": "2160890",
    "end": "2167580"
  },
  {
    "text": "account for the platform and if you have",
    "start": "2167580",
    "end": "2172650"
  },
  {
    "text": "some experiences or thoughts or questions about the things that we had talked about have talked about please",
    "start": "2172650",
    "end": "2179160"
  },
  {
    "text": "come seek us out after the talk thank you so much for listening",
    "start": "2179160",
    "end": "2184200"
  },
  {
    "text": "[Applause]",
    "start": "2184200",
    "end": "2188250"
  }
]