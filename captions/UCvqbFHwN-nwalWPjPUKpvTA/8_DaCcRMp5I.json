[
  {
    "start": "0",
    "end": "250000"
  },
  {
    "text": "hi everyone welcome hopefully you're in the right place this is the operator framework workshop we are here to this",
    "start": "30",
    "end": "10200"
  },
  {
    "text": "is one hour so we're gonna be going at a very hour and a half that's right that's right thank you an hour and a half so we're",
    "start": "10200",
    "end": "16198"
  },
  {
    "text": "going to be going at a very very quick pace we're gonna learn all about the what operators are what the operator",
    "start": "16199",
    "end": "23369"
  },
  {
    "text": "framework is how you can use it and for those you that use kubernetes every day guess what you might learn a few things",
    "start": "23369",
    "end": "31590"
  },
  {
    "text": "bug better going on behind the scenes that you never knew about before so let's go ahead and do some introductions",
    "start": "31590",
    "end": "36660"
  },
  {
    "text": "my name is Matt Dorn I'm with Red Hat I was previously with core OS and part of the core OS",
    "start": "36660",
    "end": "42660"
  },
  {
    "text": "acquisition before that I used to work a lot in the OpenStack world and I'm happy",
    "start": "42660",
    "end": "48510"
  },
  {
    "text": "to be here Lily hi I used to work at",
    "start": "48510",
    "end": "53850"
  },
  {
    "text": "operators decay I'm moving on to monitoring I'm just here to help out ask any questions answer anything really",
    "start": "53850",
    "end": "60090"
  },
  {
    "text": "yeah I'm an engineer at Red Hat basically thank you hey I'm Michael",
    "start": "60090",
    "end": "65880"
  },
  {
    "text": "rhythmic I've been at Red Hat for almost eight years in the criminais space for several of those years work it on the",
    "start": "65880",
    "end": "71880"
  },
  {
    "text": "operators DK and before that a thing called the ansible service broker which",
    "start": "71880",
    "end": "76950"
  },
  {
    "text": "is part of the whole Service Catalog ecosystem and kubernetes and it just generally been in the space of",
    "start": "76950",
    "end": "82799"
  },
  {
    "text": "automating workloads on kubernetes for a while most recently I've been involved in bare-metal support so running",
    "start": "82799",
    "end": "88920"
  },
  {
    "text": "kubernetes on bare metal it's pretty cool turns out you need a lot of controllers to make that happen too and we're using this same technology to do",
    "start": "88920",
    "end": "95970"
  },
  {
    "text": "all of that very happy to be here and I'm gonna talk with you about building ansible based operators in a little bit",
    "start": "95970",
    "end": "102060"
  },
  {
    "text": "in the second half of this talk great and we're gonna be going very very quick so I do ask that you know if you have",
    "start": "102060",
    "end": "108149"
  },
  {
    "text": "any questions we were gonna have a Q&A immediately after but please come talk",
    "start": "108149",
    "end": "114119"
  },
  {
    "text": "to us we have Red Hat people here in the front these people also deal with Red Hat certifications of your operators they",
    "start": "114119",
    "end": "120659"
  },
  {
    "text": "can talk to you about that and we're here to help you if you need anything so please don't leave with your questions",
    "start": "120659",
    "end": "126899"
  },
  {
    "text": "unanswered we're here to help you okay so let's let's get an idea of what's going on inside the room here how many",
    "start": "126899",
    "end": "132510"
  },
  {
    "text": "people here use COO Nettie's and OpenShift regularly well we are at cube con so I expect there's",
    "start": "132510",
    "end": "138150"
  },
  {
    "text": "gonna be a lot of hands up in the air okay yeah most you okay how about this how many people here develop and golang",
    "start": "138150",
    "end": "143900"
  },
  {
    "text": "weight regularly okay great okay that's like oh is that a quarter maybe and the",
    "start": "143900",
    "end": "149910"
  },
  {
    "text": "people um yeah but a quarter how about this one use ansible regularly Oh way do we have",
    "start": "149910",
    "end": "157830"
  },
  {
    "text": "more okay do we have more ansible people in here are more goaling people you think based off about the same okay okay",
    "start": "157830",
    "end": "164070"
  },
  {
    "text": "all right and anyone here attended to build or actually did build maybe you didn't get",
    "start": "164070",
    "end": "171000"
  },
  {
    "text": "frustrated and get and gave up build a custom kubernetes controller from scratch custom community okay a few",
    "start": "171000",
    "end": "179160"
  },
  {
    "text": "people in here okay so for those who have been hearing all about this controller stuff and you're not really sure the internals work this is a good",
    "start": "179160",
    "end": "185960"
  },
  {
    "text": "workshop for you to be and is anyone here tried operator SDK ansible operator",
    "start": "185960",
    "end": "191730"
  },
  {
    "text": "or the hell map operator yet one two three four five six okay cool",
    "start": "191730",
    "end": "197790"
  },
  {
    "text": "few people so hopefully you know today you are going to use it and get a get you get a feel for how it works okay so",
    "start": "197790",
    "end": "204420"
  },
  {
    "text": "our goal here is to help you succeed with our tools so in this entry level session we're gonna be talking about the",
    "start": "204420",
    "end": "210120"
  },
  {
    "text": "operator framework okay what it is why it exists all that good stuff support",
    "start": "210120",
    "end": "215160"
  },
  {
    "text": "channels because you're gonna need it once you start diving deeply into operators Google Groups we have setup",
    "start": "215160",
    "end": "220260"
  },
  {
    "text": "for you we also have kubernetes slack this is the official kubernetes slack if",
    "start": "220260",
    "end": "226140"
  },
  {
    "text": "you go to that channel communities operators we're always in there hanging out and we can help you okay and the openshift commons operator",
    "start": "226140",
    "end": "234720"
  },
  {
    "text": "framework this is a group that gets together every third Tuesday of the month at 9:00 a.m. Pacific to talk about",
    "start": "234720",
    "end": "240690"
  },
  {
    "text": "all things operators maybe you're working on an operator and you want to share it with the community and see what",
    "start": "240690",
    "end": "246240"
  },
  {
    "text": "they think about it that's where you do that it's a live meeting okay so let's",
    "start": "246240",
    "end": "252450"
  },
  {
    "start": "250000",
    "end": "465000"
  },
  {
    "text": "start out with what an operator is but before we do that let's make sure I",
    "start": "252450",
    "end": "259350"
  },
  {
    "text": "haven't we were talking right here let's make sure the lab environments work okay let's make sure the lab environments",
    "start": "259350",
    "end": "265350"
  },
  {
    "text": "work so what we're going to do is work I'm gonna show you what URL to go to here let's make sure that stuff",
    "start": "265350",
    "end": "271980"
  },
  {
    "text": "works go to learn open ship comm slash",
    "start": "271980",
    "end": "279810"
  },
  {
    "text": "training okay so for those you who just showed up the reality here is that you",
    "start": "279810",
    "end": "286110"
  },
  {
    "text": "are using a dedicated instance and a dedicated OpenShift instance running on ec2 on Amazon ec2 it's embedded into a",
    "start": "286110",
    "end": "294360"
  },
  {
    "text": "program into a web app called cata Kota which if you haven't heard a cat ACOTA you're gonna experience it now it's",
    "start": "294360",
    "end": "300660"
  },
  {
    "text": "awesome it was just acquired by O'Reilly",
    "start": "300660",
    "end": "305270"
  },
  {
    "text": "when was it thank you no it's it's training here it was just acquired by O'Reilly a couple",
    "start": "305780",
    "end": "313350"
  },
  {
    "text": "days ago so congratulations the category for that I'm gonna give this a second to see if",
    "start": "313350",
    "end": "318780"
  },
  {
    "text": "it comes up again the link is C learnin",
    "start": "318780",
    "end": "329400"
  },
  {
    "text": "ship comm slash training learn OpenShift comm slash training so what we're gonna",
    "start": "329400",
    "end": "336000"
  },
  {
    "text": "do here is a little smoke test alright go ahead and click on start training here we're gonna need feedback from you",
    "start": "336000",
    "end": "343410"
  },
  {
    "text": "all to know if this stuff works okay click on the first scenario here start",
    "start": "343410",
    "end": "352110"
  },
  {
    "text": "kubernetes api fundamentals click on start scenario",
    "start": "352110",
    "end": "357199"
  },
  {
    "text": "okay it might take a while then you're gonna click start here it says",
    "start": "361759",
    "end": "368479"
  },
  {
    "text": "connecting because it's provisioning the instance it's spinning up on demand how",
    "start": "368479",
    "end": "374300"
  },
  {
    "text": "many people currently on their screen it says connecting its you're waiting for it to connect how many people calf you",
    "start": "374300",
    "end": "381650"
  },
  {
    "text": "people over here how many people have it's up and running how many people",
    "start": "381650",
    "end": "387080"
  },
  {
    "text": "these people that didn't say anything what's going on okay I didn't realize",
    "start": "387080",
    "end": "393080"
  },
  {
    "text": "that was that okay blank screen okay thank you okay so give it some time okay because we provision this thing for 500",
    "start": "393080",
    "end": "400580"
  },
  {
    "text": "it's supposed to be able to handle capacity about 500 people in here right now we'll see what happens there",
    "start": "400580",
    "end": "407749"
  },
  {
    "text": "they're showing up slowly okay okay cool",
    "start": "407749",
    "end": "412330"
  },
  {
    "text": "[Music] let's go ahead and let that run while I go through the introduction okay for",
    "start": "414100",
    "end": "421129"
  },
  {
    "text": "those of you who have yours up and running feel free you don't want to hear me talk play around with this this is",
    "start": "421129",
    "end": "427580"
  },
  {
    "text": "pretty cool it's just a little smoke test we're creating a pod right I'm sure we all know what a pod is in here with a",
    "start": "427580",
    "end": "433339"
  },
  {
    "text": "couple containers inside so have fun and play around with it it is an actual instance feel free to blow it up if you",
    "start": "433339",
    "end": "439520"
  },
  {
    "text": "want okay all right let's go to the intro here",
    "start": "439520",
    "end": "445089"
  },
  {
    "text": "what's an operator now look maybe you were probably here like oh yeah why are",
    "start": "445089",
    "end": "450319"
  },
  {
    "text": "you going through what an operator is look reality is there it's totally possible that you all have been walking around this conference everyone's",
    "start": "450319",
    "end": "456319"
  },
  {
    "text": "talking about operators you don't even know what they are right which I don't blame you it's like it's kind of hard",
    "start": "456319",
    "end": "461569"
  },
  {
    "text": "people throw in all these terms what are we talking about here it's kind of hard to there two out there the actual definition if you were to go to look it",
    "start": "461569",
    "end": "467899"
  },
  {
    "start": "465000",
    "end": "850000"
  },
  {
    "text": "up would say an operator represents human operational knowledge and software to reliably manage an application right",
    "start": "467899",
    "end": "475089"
  },
  {
    "text": "but what does that actually mean what are we talking about there let's go back a few years so two years ago back in",
    "start": "475089",
    "end": "480860"
  },
  {
    "text": "November to 2016 Brandon Phillips the CTO of core OS you don't know core OS a",
    "start": "480860",
    "end": "487099"
  },
  {
    "text": "little startup right in San Francisco that specialized in something called container Linux an operating system",
    "start": "487099",
    "end": "493069"
  },
  {
    "text": "that's sole goal in life was to run containers right says talks about",
    "start": "493069",
    "end": "499880"
  },
  {
    "text": "this on their blog this idea of this new piece of software called operators right and it says an operator builds upon the",
    "start": "499880",
    "end": "506750"
  },
  {
    "text": "basic kubernetes resource controller and",
    "start": "506750",
    "end": "512289"
  },
  {
    "text": "application specific knowledge concept those three things so an operator is nothing more than a nickname that fits",
    "start": "512289",
    "end": "518450"
  },
  {
    "text": "this criteria it's got to have these three things to be an operator again operators just the nickname people throw",
    "start": "518450",
    "end": "523700"
  },
  {
    "text": "around is it an operator well does it have these three things what three things resource controller or knowledge",
    "start": "523700",
    "end": "531230"
  },
  {
    "text": "okay which what's going on here like it has to have these three things but what are these what's a resource and kubernetes",
    "start": "531230",
    "end": "537920"
  },
  {
    "text": "well we should know it a resource is in cuba Nettie's right a pod we know a pod can have one container multiple",
    "start": "537920",
    "end": "543770"
  },
  {
    "text": "containers right we have a config map for application data their key values",
    "start": "543770",
    "end": "550310"
  },
  {
    "text": "route for those you don't know what a route is that's kind of like an open ship term but it's the same thing as ingress right you need a way to get",
    "start": "550310",
    "end": "557000"
  },
  {
    "text": "people access from the outside world you know access to your application that's what a route provides okay and two we",
    "start": "557000",
    "end": "566089"
  },
  {
    "text": "have controllers controllers what are controllers and kubernetes I know you",
    "start": "566089",
    "end": "571820"
  },
  {
    "text": "all know what controllers are right the replicas set the replica set right when you specify the number of pods that you",
    "start": "571820",
    "end": "577970"
  },
  {
    "text": "want running and it ensures that that number of pods are always running that's what's really cool about replica sets",
    "start": "577970",
    "end": "584390"
  },
  {
    "text": "we're gonna learn about why studying the replica set is a great way to learn about operators if you study the replica",
    "start": "584390",
    "end": "590600"
  },
  {
    "text": "set it really helps you understand what an operator does right what else is",
    "start": "590600",
    "end": "596300"
  },
  {
    "text": "daemon set who knows what a daemon set isn't here right Damon said they used a",
    "start": "596300",
    "end": "601310"
  },
  {
    "text": "run on every node in the environment right and typically they have host level access they're pretty cool I like daemon",
    "start": "601310",
    "end": "607459"
  },
  {
    "text": "sets and then deployments deployment before deployments came around we had to",
    "start": "607459",
    "end": "613430"
  },
  {
    "text": "do client-side rollouts we had of if we wanted to roll out a new version of our application right we had to actually go",
    "start": "613430",
    "end": "619100"
  },
  {
    "text": "and manually client-side send an API call to create a replica set number two and version number two and do that",
    "start": "619100",
    "end": "625990"
  },
  {
    "text": "deployments are great they manage our replica sets for us they do this server-side rollouts for us you can",
    "start": "625990",
    "end": "631340"
  },
  {
    "text": "determine the availability or specify the availability there cool so what's domain or application specific",
    "start": "631340",
    "end": "639680"
  },
  {
    "text": "knowledge what are we talking about here we're talking about knowledge specific to your application knowledge specific",
    "start": "639680",
    "end": "647510"
  },
  {
    "text": "to your application that only you know because you know your application inside",
    "start": "647510",
    "end": "653450"
  },
  {
    "text": "and out you know all the the knobs you have to turn you know about being woken up in the middle of the night and you",
    "start": "653450",
    "end": "658970"
  },
  {
    "text": "have to maybe SSH into the server and then modify something in this application you know all its quirks all",
    "start": "658970",
    "end": "664160"
  },
  {
    "text": "its things we're talking about knowing how to install it how to scale it properly what I mean like scaling",
    "start": "664160",
    "end": "670190"
  },
  {
    "text": "properly as if it's a stateful application not just stateless lis like",
    "start": "670190",
    "end": "675440"
  },
  {
    "text": "a replica set you know if it's having one pot here one pot here one pot here right scaling properly self heal self heal so",
    "start": "675440",
    "end": "684770"
  },
  {
    "text": "aware what something's going wrong cleaning up updating backup restore etc",
    "start": "684770",
    "end": "690980"
  },
  {
    "text": "okay so we're going to dive more into this still high level I know you all",
    "start": "690980",
    "end": "696170"
  },
  {
    "text": "know what this is you probably look it up all the time when you want to create something in kubernetes I'm sure you just go and you Google you know okay",
    "start": "696170",
    "end": "702800"
  },
  {
    "text": "deployment and then you just who here uses the explain command so here knows the explain command if you don't know",
    "start": "702800",
    "end": "709490"
  },
  {
    "text": "the explaining command you should be using that every day right they explain command actually coop CTL explain",
    "start": "709490",
    "end": "715540"
  },
  {
    "text": "deployment COO CTL explain replica set that thing talks to the API right and",
    "start": "715540",
    "end": "721370"
  },
  {
    "text": "get you back information on how you can actually fill your declaration right out",
    "start": "721370",
    "end": "727280"
  },
  {
    "text": "so in this manifest we have here the way to think about this when you look at this in the future think about it as",
    "start": "727280",
    "end": "733760"
  },
  {
    "text": "four different parts you're looking at four different parts here the first part is the gbk or a group version kind we",
    "start": "733760",
    "end": "740600"
  },
  {
    "text": "also call that the type meta that's the group version and kind here we also have",
    "start": "740600",
    "end": "746270"
  },
  {
    "text": "the metadata or object meta you know about this right you can put a namespace in there it's your if you're not scoped",
    "start": "746270",
    "end": "752690"
  },
  {
    "text": "to a specific namespace when using cube CTL it will our view our scope to a specific namespace when using cube CTL",
    "start": "752690",
    "end": "759050"
  },
  {
    "text": "you don't have to put a namespace in their annotations go in there the owner references end up in there",
    "start": "759050",
    "end": "764650"
  },
  {
    "text": "which we'll talk about later labels we can duplicate though we can put a lot of",
    "start": "764650",
    "end": "771910"
  },
  {
    "text": "stuff in there okay so spec what about spec so in our spec here this is our",
    "start": "771910",
    "end": "778270"
  },
  {
    "text": "declaration this is what we want right so what we're actually doing is we're saying I want to have make this replica",
    "start": "778270",
    "end": "784240"
  },
  {
    "text": "set that has five replicas right and then we can specify one container or multiple containers this is your",
    "start": "784240",
    "end": "790810"
  },
  {
    "text": "declaration this is what you are requesting right this is your declaration what you want now the fourth",
    "start": "790810",
    "end": "797140"
  },
  {
    "text": "section here is status it seems like you know a lot of people that get new to kubernetes are kind of like well I",
    "start": "797140",
    "end": "802210"
  },
  {
    "text": "assumed when we talk about operators as kind of comparing the actual state of",
    "start": "802210",
    "end": "807250"
  },
  {
    "text": "the cluster to the desired State this being the desired state that this is the actual state a lot of people think that",
    "start": "807250",
    "end": "813280"
  },
  {
    "text": "but no the status is only written by your controller and it's a way to provide information to your users it can",
    "start": "813280",
    "end": "820330"
  },
  {
    "text": "also if you're creating maybe a more advanced operator be used as a way to store previous old state so if you have",
    "start": "820330",
    "end": "827230"
  },
  {
    "text": "to you want to check and only do something and this is in ready status your operator can actually look at that",
    "start": "827230",
    "end": "832900"
  },
  {
    "text": "and decide whether or not to proceed if that's in a certain status right but my point about talking about this is that",
    "start": "832900",
    "end": "838390"
  },
  {
    "text": "this is something that a user does not fill out that a human does not fill out your controller does it to provide",
    "start": "838390",
    "end": "844330"
  },
  {
    "text": "information to you the human or perhaps other operators running in their cluster operators take advantage of custom",
    "start": "844330",
    "end": "850990"
  },
  {
    "start": "850000",
    "end": "1342000"
  },
  {
    "text": "resource definitions okay so those who have used these before you know that these things are incredible right",
    "start": "850990",
    "end": "857530"
  },
  {
    "text": "because they allow you to extend the API via the API okay so you don't have to",
    "start": "857530",
    "end": "864640"
  },
  {
    "text": "actually go and grab the kubernetes code and then like for example if you want it to add a new resource like let's say you",
    "start": "864640",
    "end": "870460"
  },
  {
    "text": "want it to add a new resource called coop con so you could do like coop CTL get coop con or something right or have",
    "start": "870460",
    "end": "875620"
  },
  {
    "text": "an end point if you're visualizing the API endpoint right you're visualizing like B 1 beta 1 slash like namespaces",
    "start": "875620",
    "end": "882550"
  },
  {
    "text": "slash whatever slash coop con like you've the actual resource you don't have to actually bring down the code to",
    "start": "882550",
    "end": "888940"
  },
  {
    "text": "make that change you send an API call to modify and create that new resource on",
    "start": "888940",
    "end": "893980"
  },
  {
    "text": "the API that's pretty powerful command right because I mean it literally impacts the entire cluster and everybody",
    "start": "893980",
    "end": "900610"
  },
  {
    "text": "using the entire cluster so here we have an example custom resource just so you",
    "start": "900610",
    "end": "906430"
  },
  {
    "text": "can see what one looks like this one is two called kinder fauna what do you think this does if you had a guest you",
    "start": "906430",
    "end": "912190"
  },
  {
    "text": "had to take a wild guess what does this probably do if you were apply this right it creates a group on an instance of",
    "start": "912190",
    "end": "917590"
  },
  {
    "text": "something right this is just an example of showing you this you could see though there's some configuration parameters in",
    "start": "917590",
    "end": "923020"
  },
  {
    "text": "here right so it's kind of like rather than using like a configuration file or a config map and having to mount that",
    "start": "923020",
    "end": "928510"
  },
  {
    "text": "config map as like a volume mount right it's like a deployment or whatever like we're just specifying what we want as a",
    "start": "928510",
    "end": "934030"
  },
  {
    "text": "declaration and the spec section here right and there were cool thing about creating si RDS or a custom resource is",
    "start": "934030",
    "end": "939520"
  },
  {
    "text": "as an author I can actually design this I can design what users can put into",
    "start": "939520",
    "end": "946090"
  },
  {
    "text": "here right which is really really neat so let's go ahead and just show you an example of let's extending the",
    "start": "946090",
    "end": "951940"
  },
  {
    "text": "kubernetes api by creating our very own object or resource via CR DS so for",
    "start": "951940",
    "end": "958450"
  },
  {
    "text": "those of you who've done this before just go play on your play on the lab environment and look around and you know",
    "start": "958450",
    "end": "963760"
  },
  {
    "text": "probably boring you you've done this but if you're never if you're not really familiar with CR DS and you've been in the conference for the past few days and",
    "start": "963760",
    "end": "969910"
  },
  {
    "text": "you're like what is this thing CR D thing anyways this is basically what it is really straight forward creating the CR D so what we do here is",
    "start": "969910",
    "end": "978760"
  },
  {
    "text": "we create the CR D first the custom resource definition and literally the kind is custom resource definition this",
    "start": "978760",
    "end": "986080"
  },
  {
    "text": "is the first step to creating a CR D you can see that this right here is the customized piece my sequel's I'm just",
    "start": "986080",
    "end": "992920"
  },
  {
    "text": "making that up I'm going to create an operator that let's say creates my sequel easier said than done as we're",
    "start": "992920",
    "end": "998590"
  },
  {
    "text": "gonna see but point is as I'm creating my custom name here and my custom group",
    "start": "998590",
    "end": "1004800"
  },
  {
    "text": "here in here what's the group the group is nothing more than a way to disambiguate different kinds that may",
    "start": "1004800",
    "end": "1012750"
  },
  {
    "text": "have or let's imagine that they're in companies all come out with my sequel operators right and they probably all create the same kind my sequel right",
    "start": "1012750",
    "end": "1019590"
  },
  {
    "text": "well how do you tell the difference one's gonna be company a one's gonna be got company B right so that B company a",
    "start": "1019590",
    "end": "1024630"
  },
  {
    "text": "Company B and then here we're saying here the version well this one starts with v1",
    "start": "1024630",
    "end": "1030360"
  },
  {
    "text": "I should probably fix this slide because what do we want to start with usually if you want to start with V 1 alpha 1 right",
    "start": "1030360",
    "end": "1036449"
  },
  {
    "text": "that's what you want to start with usually so I should probably fix that so don't look at that right now ok scope namespace scope namespace this",
    "start": "1036449",
    "end": "1044519"
  },
  {
    "text": "is saying after I create this custom resource deficit definition which by the way let me ask you a question",
    "start": "1044519",
    "end": "1050450"
  },
  {
    "text": "what do you what do you think that this object here is gonna be scoped to first",
    "start": "1050450",
    "end": "1057360"
  },
  {
    "text": "of all do you think you need privileges to do this would you think you need pretty wide privileges to create something like this you're modifying the",
    "start": "1057360",
    "end": "1063929"
  },
  {
    "text": "kubernetes api think about that yes you need some pretty cluster wide privileges",
    "start": "1063929",
    "end": "1069690"
  },
  {
    "text": "to do this right you're literally modifying the API but then this block here says scope namespace why are we",
    "start": "1069690",
    "end": "1076559"
  },
  {
    "text": "talking about scope namespace right namespaces are how we do multi-tenancy and kubernetes",
    "start": "1076559",
    "end": "1081570"
  },
  {
    "text": "because after we create this and we want to create the kind my sequel object",
    "start": "1081570",
    "end": "1087360"
  },
  {
    "text": "right we're going to want that scoped to a namespace so if we have example my",
    "start": "1087360",
    "end": "1093870"
  },
  {
    "text": "sequel that's gonna dis a namespace one but if I want to create another example",
    "start": "1093870",
    "end": "1099510"
  },
  {
    "text": "my sequel that's the name literally we know that we can't have multiple objects with the same name right so we gonna put",
    "start": "1099510",
    "end": "1105990"
  },
  {
    "text": "that into another namespace so that means it's gonna be scoped to the namespace what do you think the opposite option of this is if you had a guess",
    "start": "1105990",
    "end": "1112700"
  },
  {
    "text": "cluster why the exactly right very good yep so this is just a couple ways to",
    "start": "1112700",
    "end": "1117929"
  },
  {
    "text": "refer to it and some aliases that we can refer to which is very awesome I can say coop CTL get MS and it understands what",
    "start": "1117929",
    "end": "1124500"
  },
  {
    "text": "I'm talking about how does it do that the client does discovery right right when you type the word it's gonna scan the API for the alias or nickname and it",
    "start": "1124500",
    "end": "1132149"
  },
  {
    "text": "puts that in the dot what is it what's the directory do all those with a dot cache or dot yeah the coop needs a coop CTL is it a dot",
    "start": "1132149",
    "end": "1138090"
  },
  {
    "text": "cache directory that it puts it in I think it's a dot cache directory or something right yeah so we're aware that",
    "start": "1138090",
    "end": "1146190"
  },
  {
    "text": "the environments are having a connection error right now I've reported it to Ben",
    "start": "1146190",
    "end": "1151940"
  },
  {
    "text": "and we're gonna try to get that fixed as we're going so hang tight as they say in",
    "start": "1151940",
    "end": "1157019"
  },
  {
    "text": "this environment with that hopefully we'll get that back up no thank you appreciate it Thanks",
    "start": "1157019",
    "end": "1163820"
  },
  {
    "text": "and then you create the CRD after we verify the creation of the CRD we then",
    "start": "1165070",
    "end": "1171070"
  },
  {
    "text": "go in and we say oh see get CR D and how",
    "start": "1171070",
    "end": "1176620"
  },
  {
    "text": "do we know it's there is it there yes it's there we say oh so you're wondering probably wondering what's OC",
    "start": "1176620",
    "end": "1181750"
  },
  {
    "text": "okay so OC is the OpenShift client all",
    "start": "1181750",
    "end": "1187810"
  },
  {
    "text": "right maybe I'm a little biased we originally an open ship it's just like coop CTL what is it what is what do",
    "start": "1187810",
    "end": "1193810"
  },
  {
    "text": "these things do behind the scenes you're just an API calls right they're just talking to the communities API so OC is just like coop TTL OC just has some",
    "start": "1193810",
    "end": "1200740"
  },
  {
    "text": "extra open shifty stuff added to it but it pretty much acts like coop CTL same",
    "start": "1200740",
    "end": "1206560"
  },
  {
    "text": "thing you can use both interchangeably okay work really great so we're saying coop CTL get CRD and it comes back and",
    "start": "1206560",
    "end": "1214120"
  },
  {
    "text": "goes that's your CRD let's now actually verify our new my sequel resource and",
    "start": "1214120",
    "end": "1219220"
  },
  {
    "text": "object so what we're gonna do now is we have to see our D created check this out now I can actually go up here and say OC",
    "start": "1219220",
    "end": "1225280"
  },
  {
    "text": "or cube CTL get my sequel I can actually say get my sequel and what happens is it",
    "start": "1225280",
    "end": "1231310"
  },
  {
    "text": "comes back and says no resources family everybody thinks at this point when they see this they're like oh it didn't work",
    "start": "1231310",
    "end": "1236470"
  },
  {
    "text": "but this is a good thing this means that behind the scenes coop CTL or OC talked out to the API and",
    "start": "1236470",
    "end": "1243460"
  },
  {
    "text": "actually found an end point when I say end point it found a Ning spaces /v 1",
    "start": "1243460",
    "end": "1249370"
  },
  {
    "text": "alpha 1 slash whatever right it's a slash my sequel it's bound it but guess what there were no objects in there yet",
    "start": "1249370",
    "end": "1255550"
  },
  {
    "text": "we haven't created one yet so let's go ahead and create an object so when we create this object it's gonna look like",
    "start": "1255550",
    "end": "1261520"
  },
  {
    "text": "this DP'd example.com class v1 it has my sequel in it it says name WordPress user",
    "start": "1261520",
    "end": "1268260"
  },
  {
    "text": "password you may be thinking like where did you get this stuff from how did you how did you know to put this stuff in",
    "start": "1268260",
    "end": "1274510"
  },
  {
    "text": "there well let's just say that you can actually customize your custom resource definition with the same information you",
    "start": "1274510",
    "end": "1279850"
  },
  {
    "text": "get back when you use OC or coop CTL explained so for those you who use the",
    "start": "1279850",
    "end": "1285160"
  },
  {
    "text": "explain command you can inside your CRD you can actually program or customize",
    "start": "1285160",
    "end": "1290170"
  },
  {
    "text": "what comes back so I could actually have it's a coop CTL explain my Segal and it will tell me okay you can put you",
    "start": "1290170",
    "end": "1296140"
  },
  {
    "text": "here you can put a password here you can put you know food here or whatever it will give you and you can program it",
    "start": "1296140",
    "end": "1301990"
  },
  {
    "text": "to give you instruct instructions but the reality is that this right here you",
    "start": "1301990",
    "end": "1307030"
  },
  {
    "text": "know this is not really doing much yet we're just adding this to the API that's",
    "start": "1307030",
    "end": "1312130"
  },
  {
    "text": "it you can probably guess what we're doing here we're trying to create a wordpress database right this is an example so we go ahead and create that",
    "start": "1312130",
    "end": "1317710"
  },
  {
    "text": "object after we create that object we say coop CTO get my sequel it comes back it says WordPress if I want to actually",
    "start": "1317710",
    "end": "1323590"
  },
  {
    "text": "look at the object my object is actually in here it looks good it's persisted on",
    "start": "1323590",
    "end": "1328990"
  },
  {
    "text": "the API thus persisted where I see it where is it actual where is it where is it",
    "start": "1328990",
    "end": "1334270"
  },
  {
    "text": "sitting where's the source that's exactly right it's sitting and EDD right the greatest key value store okay so",
    "start": "1334270",
    "end": "1342580"
  },
  {
    "text": "that doesn't really do much for me when it comes to an operator it gets me done with number one which is number one",
    "start": "1342580",
    "end": "1349060"
  },
  {
    "text": "what's number one required for an operator I need a customer resource definition right yeah that's right so it gets me that that's good but a custom",
    "start": "1349060",
    "end": "1356860"
  },
  {
    "text": "resource it needs a controller to act upon its presence so without if controller you just have this thing on",
    "start": "1356860",
    "end": "1364930"
  },
  {
    "text": "the API and that's it and that's not gonna get you much right so what do controllers do controllers literally sit",
    "start": "1364930",
    "end": "1373180"
  },
  {
    "text": "in the cluster they sit in the cluster and they just watch the API now how they",
    "start": "1373180",
    "end": "1378280"
  },
  {
    "text": "watch the API we usually talk about we run a version of this coarsely over a couple days and you get into the",
    "start": "1378280",
    "end": "1383530"
  },
  {
    "text": "hardcore specific sorta like it former shared informers to watch all that good stuff that is you who use client go know",
    "start": "1383530",
    "end": "1389350"
  },
  {
    "text": "and love I know you all know what I'm talking about but those years ago now just know it watches the API okay it just watches the API for the current",
    "start": "1389350",
    "end": "1395680"
  },
  {
    "text": "state of the cluster then after it watches the current state of the cluster it analyzes okay it compares the current",
    "start": "1395680",
    "end": "1403720"
  },
  {
    "text": "state of the cluster like how many pods are running and how many config maps and whatever I want to look for is the",
    "start": "1403720",
    "end": "1410020"
  },
  {
    "text": "current state to the desired state where does the desired state live you tell me",
    "start": "1410020",
    "end": "1415440"
  },
  {
    "text": "yeah that's exactly right it's in the custom resource in which section the spec section that's your declaration",
    "start": "1415440",
    "end": "1422530"
  },
  {
    "text": "right that's what you want that's what you want in the declaration so it compares what is do I have any my sequel",
    "start": "1422530",
    "end": "1429490"
  },
  {
    "text": "things run how many pods whatever do I mean deployments deployments so I have any you know Peavey's whatever to what I",
    "start": "1429490",
    "end": "1436240"
  },
  {
    "text": "want in my spec and if I don't have what's desired what does the controller",
    "start": "1436240",
    "end": "1442600"
  },
  {
    "text": "do it acts right it performs all the actions necessary to make a current state me the desired state that's what",
    "start": "1442600",
    "end": "1448810"
  },
  {
    "text": "it does and that loop runs whenever it receives an event and guess what for",
    "start": "1448810",
    "end": "1455500"
  },
  {
    "text": "those you use kubernetes and you've never used it internally which is totally fine maybe that's not your scope",
    "start": "1455500",
    "end": "1461320"
  },
  {
    "text": "of your your you know what you do day to day it's totally possible to use curators every day and not to get into the internals just not part of the scope",
    "start": "1461320",
    "end": "1468040"
  },
  {
    "text": "of what you do day to day but this thing right here we talk about events we're",
    "start": "1468040",
    "end": "1474310"
  },
  {
    "text": "not talking about cube CTL get events that's not what we're talking about we're not talking about coops to kill good events we're talking about events",
    "start": "1474310",
    "end": "1481030"
  },
  {
    "text": "that you see you get when you watch the API you get a add event when it's",
    "start": "1481030",
    "end": "1488380"
  },
  {
    "text": "something when that CR is created you get a update event when the update is",
    "start": "1488380",
    "end": "1493900"
  },
  {
    "text": "modified I'm sorry when the CR is modified how do you modify a CR you can run coops ETL replace right on the",
    "start": "1493900",
    "end": "1501370"
  },
  {
    "text": "command mock command line how else how about some of you probably use coops ETL edit right you do coup steal edit and you go in",
    "start": "1501370",
    "end": "1507400"
  },
  {
    "text": "there and you like using your editor of choice and editing it that way maybe you do it that way that's an update and then",
    "start": "1507400",
    "end": "1512410"
  },
  {
    "text": "if you delete it so this thing only happens this trigger only happens for those three different events add update",
    "start": "1512410",
    "end": "1520300"
  },
  {
    "text": "and delete okay so it's not like your regular coop ETL get events totally different type of event this is an",
    "start": "1520300",
    "end": "1525310"
  },
  {
    "text": "internal event here replica sets in action remember I told you that understanding what how awful the sets",
    "start": "1525310",
    "end": "1530980"
  },
  {
    "start": "1526000",
    "end": "1576000"
  },
  {
    "text": "work can really help you in understanding operators here's our",
    "start": "1530980",
    "end": "1537250"
  },
  {
    "text": "replica set which notice how it has a selector it's saying I'm looking for a P equals my first app we have a pod here",
    "start": "1537250",
    "end": "1542650"
  },
  {
    "text": "app equals my first app that's how it knows to pay attention to this pod it has the same label we have replicas set to one what happens",
    "start": "1542650",
    "end": "1549940"
  },
  {
    "text": "here we change replicas to three and it's smart enough to know to spin up two",
    "start": "1549940",
    "end": "1555130"
  },
  {
    "text": "more okay pretty straightforward that's our primary resource these are our secondary",
    "start": "1555130",
    "end": "1560680"
  },
  {
    "text": "resources there's just a nickname that we use to refer to something like this so imagine the replica set as sort of",
    "start": "1560680",
    "end": "1566300"
  },
  {
    "text": "like the custom resource think of it like that kind of like the custom resource right and these are the kind of",
    "start": "1566300",
    "end": "1571640"
  },
  {
    "text": "the children or secondary resources that are being controlled by that thing by that replica set now owner references",
    "start": "1571640",
    "end": "1577910"
  },
  {
    "start": "1576000",
    "end": "1670000"
  },
  {
    "text": "are things that you may not know you may not know what an Oda reference is right you mean to have no idea what a",
    "start": "1577910",
    "end": "1583760"
  },
  {
    "text": "reference is but you use them all the time if you're spinning up deployments you may name never just see maybe this is really notice owner references help",
    "start": "1583760",
    "end": "1590870"
  },
  {
    "text": "us with garbage collection right can you think about it you're creating these things called deployments or you're creating a custom resource and it's",
    "start": "1590870",
    "end": "1596750"
  },
  {
    "text": "creating things like you don't want it when you delete the custom resource or you delete the deployment or whatever or you delete the replica set in this case",
    "start": "1596750",
    "end": "1602870"
  },
  {
    "text": "you don't want your pods hanging out right after the things been deleted you want those to go away too",
    "start": "1602870",
    "end": "1608030"
  },
  {
    "text": "that's what owner references do okay so if we have a replica set we spin up a replica set and we have pods here we",
    "start": "1608030",
    "end": "1615920"
  },
  {
    "text": "want three replicas they all have an owner reference now what the owner reference does for those who don't know",
    "start": "1615920",
    "end": "1622070"
  },
  {
    "text": "if the owner goes away so in this case the owner here is this replica set if",
    "start": "1622070",
    "end": "1628190"
  },
  {
    "text": "the owner goes away and gets destroyed and never comes back well I just say if",
    "start": "1628190",
    "end": "1633230"
  },
  {
    "text": "it goes away guess what happens to the orphan here it goes away right kind of",
    "start": "1633230",
    "end": "1638930"
  },
  {
    "text": "sad right so pod has a parent parent goes away gone guess what",
    "start": "1638930",
    "end": "1644570"
  },
  {
    "text": "child is gone that's how they work who controls that logic the garbage",
    "start": "1644570",
    "end": "1649880"
  },
  {
    "text": "collector that runs and is embedded into the controller manager in kubernetes so",
    "start": "1649880",
    "end": "1654890"
  },
  {
    "text": "this is embed it you get this for free in kubernetes it's not an operator thing okay it's not an operator thing very",
    "start": "1654890",
    "end": "1660860"
  },
  {
    "text": "important when you're creating an operator understanding how owner references work because you don't want to have people you don't want to leave a",
    "start": "1660860",
    "end": "1665930"
  },
  {
    "text": "mess right you don't want to leave a mess when someone deletes your custom resource okay so how does the replica",
    "start": "1665930",
    "end": "1672020"
  },
  {
    "start": "1670000",
    "end": "1703000"
  },
  {
    "text": "set control loop works it gets triggered this is Kylee we showed you before it finds pods matching the label selector",
    "start": "1672020",
    "end": "1678310"
  },
  {
    "text": "we compare the matched versus desired pod count right so think about this if",
    "start": "1678310",
    "end": "1685090"
  },
  {
    "text": "there's too few pods when we're comparing the match versus desired right we're gonna create some additional pods",
    "start": "1685090",
    "end": "1691250"
  },
  {
    "text": "we'll have some logic in there if there's too many what are we gonna do delete them right we're gonna delete",
    "start": "1691250",
    "end": "1697490"
  },
  {
    "text": "them get rid of them we think and guess what this thing gets triggered anytime there was an event okay and then you can",
    "start": "1697490",
    "end": "1706170"
  },
  {
    "start": "1703000",
    "end": "1902000"
  },
  {
    "text": "actually see these in action here it's a little getting a little more detailed you have a cube API you have a replica set controller the replica set",
    "start": "1706170",
    "end": "1712650"
  },
  {
    "text": "controller watches for replica sets so it sees you bed space up replica sets",
    "start": "1712650",
    "end": "1717720"
  },
  {
    "text": "and you have pods it also watches for pods but not just any old pods it watches for pods that are owned by the",
    "start": "1717720",
    "end": "1723360"
  },
  {
    "text": "replica set and check this out create a replica set there's an event that gets",
    "start": "1723360",
    "end": "1730050"
  },
  {
    "text": "triggered we then do a list against the API for the actual state turns out that",
    "start": "1730050",
    "end": "1735179"
  },
  {
    "text": "the actual state is zero it's less than the number of desired replicas here so what do we do we then create one pod",
    "start": "1735179",
    "end": "1742160"
  },
  {
    "text": "guess what we get an event based off the creation of that one pod we then list again get the actual state now we have",
    "start": "1742160",
    "end": "1748350"
  },
  {
    "text": "one all right you all seeing how it's playing on here right and this is the",
    "start": "1748350",
    "end": "1755070"
  },
  {
    "text": "triggering here everything you see these events and I think it's important for you to understand that these events your controller doesn't actually know that",
    "start": "1755070",
    "end": "1761340"
  },
  {
    "text": "they're at events it just knows it there you get an add event sure but your controller isn't care if it's an ad of",
    "start": "1761340",
    "end": "1766380"
  },
  {
    "text": "end of the care with an update event it's something you have a bunch of if statements in there in your logic right it's not like that we're gonna look at",
    "start": "1766380",
    "end": "1771420"
  },
  {
    "text": "the logic coming up here and some you're very fast because I don't have a lot of time oh now we're happy why are we happy",
    "start": "1771420",
    "end": "1777420"
  },
  {
    "text": "because now three is equal desired is equal to what actual and that's good and",
    "start": "1777420",
    "end": "1783630"
  },
  {
    "text": "then guess what when that happens your controller stops",
    "start": "1783630",
    "end": "1789770"
  },
  {
    "text": "every time you see an event that is the controller what we call it was a nickname for it reconciling that this is",
    "start": "1799960",
    "end": "1807040"
  },
  {
    "text": "the control on the right is the controller on the right is the controller right so just take",
    "start": "1807040",
    "end": "1813120"
  },
  {
    "text": "yeah you you could said he's asking if you",
    "start": "1822770",
    "end": "1830900"
  },
  {
    "text": "want three pods you might code it to loop three times or something along those lines or the 301 burst you have",
    "start": "1830900",
    "end": "1836300"
  },
  {
    "text": "three in one burst yeah oh three all in one go is that it yeah and sometimes you do want to do that but sometimes it's",
    "start": "1836300",
    "end": "1842450"
  },
  {
    "text": "sufficient and even desirable to just take one step in the direction of the desired state instead of going all the",
    "start": "1842450",
    "end": "1848270"
  },
  {
    "text": "way to the desired state it really depends on what exactly you're deploying and and why in the case of pods probably",
    "start": "1848270",
    "end": "1855860"
  },
  {
    "text": "it would be fine to go ahead and deploy all of them like figure out the entire difference between desired and actual and just do it all in one shot but in",
    "start": "1855860",
    "end": "1862850"
  },
  {
    "text": "other cases it's advantageous to not you're gonna come around for another reconcile loop immediately anyway so",
    "start": "1862850",
    "end": "1869210"
  },
  {
    "text": "there's really no harm and in some ways it's a better pattern to do it incrementally it's easier to test and",
    "start": "1869210",
    "end": "1874790"
  },
  {
    "text": "that's reducing yeah and the performance is obviously doing it's very fast right",
    "start": "1874790",
    "end": "1880720"
  },
  {
    "text": "when you do it this way as well okay so",
    "start": "1880720",
    "end": "1886270"
  },
  {
    "text": "and look what happens when we delete a pod we get a bleed event too right so there goes our delete event and then",
    "start": "1886270",
    "end": "1892400"
  },
  {
    "text": "we're gonna have you that actual state again which says there's two so I obviously have to go and create a new pod we get a pot event and then we're",
    "start": "1892400",
    "end": "1901490"
  },
  {
    "text": "happy okay so going back to the my sequel example check it out so remember",
    "start": "1901490",
    "end": "1908600"
  },
  {
    "text": "we didn't create a my sequel controller yet we were to show you how to replicate but notice how notice how the the the CR",
    "start": "1908600",
    "end": "1918559"
  },
  {
    "text": "is sitting on the API here by itself nothing is happening in our cluster but we don't have a controller so what we",
    "start": "1918559",
    "end": "1924410"
  },
  {
    "text": "have to do is that we actually have to go and very quiet we have to go and deploy a controller in our cluster right",
    "start": "1924410",
    "end": "1930500"
  },
  {
    "text": "and notice how we have these controllers now this is actually I got to change",
    "start": "1930500",
    "end": "1935990"
  },
  {
    "text": "this slide because even though we want to have multiple controllers running guess what only one is allowed to actually contact the API and act on that",
    "start": "1935990",
    "end": "1943580"
  },
  {
    "text": "object you don't want these controllers stepping on each other's toes here right so we have in place leader election so",
    "start": "1943580",
    "end": "1950960"
  },
  {
    "text": "one controller will be able to actually watch the API here so don't be confused by this I need to fix the slide and",
    "start": "1950960",
    "end": "1957110"
  },
  {
    "text": "that's gonna dust or my seagull pod but obviously I'm missing a lot of stuff here if I want to",
    "start": "1957110",
    "end": "1962450"
  },
  {
    "text": "have multiple my seagull pods you probably want to have these deployed as a staple set we probably want to have multiple TVs deployed didn't have tiny",
    "start": "1962450",
    "end": "1968929"
  },
  {
    "text": "but all those graphics on there but here's reality it's actually more complicated than that I mean you're free to use any of the",
    "start": "1968929",
    "end": "1975669"
  },
  {
    "text": "primitives or any of the artifacts you get with kubernetes to actually go and deploy this my sequel instance however",
    "start": "1975669",
    "end": "1982909"
  },
  {
    "text": "you want to do it right you're free to do that but it's really a lot more complicated than just creating something",
    "start": "1982909",
    "end": "1989179"
  },
  {
    "start": "1986000",
    "end": "2056000"
  },
  {
    "text": "or reading it and updating or deleting okay think about anyone here my sequel",
    "start": "1989179",
    "end": "1994309"
  },
  {
    "text": "admin think about all the things that you have to do when you manage my sequel right like all the tasks these are the",
    "start": "1994309",
    "end": "2002259"
  },
  {
    "text": "things that you need to think about when you build your operator these are the things that you're gonna codify and put",
    "start": "2002259",
    "end": "2007869"
  },
  {
    "text": "into your operator now how you put those things in there you can use the go you",
    "start": "2007869",
    "end": "2013629"
  },
  {
    "text": "can use go to do it and if you're comfortable go and that's where you feel comfortable you can do that but think about this you can use ansible to create",
    "start": "2013629",
    "end": "2020289"
  },
  {
    "text": "an operator to with the operator SDK and you're probably thinking to yourself huh I can use ansible to do create a my",
    "start": "2020289",
    "end": "2026769"
  },
  {
    "text": "sequel operator Matthieu by you when are you pulling down there's my sequel ansible modules right maybe that you those either use ansible right so we'll",
    "start": "2026769",
    "end": "2036249"
  },
  {
    "text": "talk more about that we get to date the Angelo piece as well but point is is that this is the human operational knowledge we're talking about how you",
    "start": "2036249",
    "end": "2042159"
  },
  {
    "text": "codify that and how you put this in to your operator and again we'll think about more of an app think about an app",
    "start": "2042159",
    "end": "2048309"
  },
  {
    "text": "that you know and love this is kind of general my sequel the ins and outs of that app that's what you're gonna put",
    "start": "2048309",
    "end": "2053530"
  },
  {
    "text": "into your operator how you do that we're gonna talk about coming up so to recap we custom resource definitions plus",
    "start": "2053530",
    "end": "2059679"
  },
  {
    "start": "2056000",
    "end": "2096000"
  },
  {
    "text": "custom controller plus your knowledge equals operators why they matter here's the whole idea we're trying to build an as a",
    "start": "2059679",
    "end": "2065950"
  },
  {
    "text": "service experience right what we didn't buy that you go to AWS you go GCP you go to a sure you know you want to go you",
    "start": "2065950",
    "end": "2071500"
  },
  {
    "text": "know go ahead and provision a database or something is very easy you just you know fill out some fields put some radio buttons if you use the UI you know",
    "start": "2071500",
    "end": "2077618"
  },
  {
    "text": "you're probably using terraform or something you know to actually programmatically interact with that",
    "start": "2077619",
    "end": "2082658"
  },
  {
    "text": "infrastructure but you get what I'm saying it's like a very easy experience you build an ecosystem of software on",
    "start": "2082659",
    "end": "2088358"
  },
  {
    "text": "kubernetes that can be as easy and safe too reliable to use as a cloud service touch remotely managed one-click updates",
    "start": "2088359",
    "end": "2094520"
  },
  {
    "text": "right giving you that really nice you know low touch experience an example of",
    "start": "2094520",
    "end": "2099980"
  },
  {
    "text": "an operate on the dashboard looks something like this when I say dashboards I think in what dashboard what do you mean I just mean",
    "start": "2099980",
    "end": "2105290"
  },
  {
    "text": "from the UI if you were gonna deploy an operator like this is what we're going for like making it look like just",
    "start": "2105290",
    "end": "2110869"
  },
  {
    "text": "clicking a button and going enable it here's the sed operator that's where your apps running on kubernetes Prometheus and for monitoring and volt",
    "start": "2110869",
    "end": "2119060"
  },
  {
    "text": "for a secret storage it's really easy to play an operator accumulators environment how do you create your own",
    "start": "2119060",
    "end": "2125270"
  },
  {
    "start": "2120000",
    "end": "2140000"
  },
  {
    "text": "operator light before the operator SDK it's really for those you create an operator you know can be a little",
    "start": "2125270",
    "end": "2130820"
  },
  {
    "text": "complicated right it's not just as simple as creating some resources and then defining a controller with some pseudo look code that looks like this",
    "start": "2130820",
    "end": "2137690"
  },
  {
    "text": "right it's actually a lot more complicated they require many building blocks of",
    "start": "2137690",
    "end": "2143270"
  },
  {
    "start": "2140000",
    "end": "2206000"
  },
  {
    "text": "boilerplate code you have to research and download tools to interact with the API first of all you start at the client libraries for those you who know there's",
    "start": "2143270",
    "end": "2150200"
  },
  {
    "text": "not a lot there's not a whole lot of Doc's on these client libraries right maybe some of you who or you know maybe you may not be you doesn't matter you",
    "start": "2150200",
    "end": "2157069"
  },
  {
    "text": "just read the code anyway but you know go Python Java dotnet what is this stuff for it's for programmatically working in",
    "start": "2157069",
    "end": "2164180"
  },
  {
    "text": "the language that you're most comfortable in to interact with API we interact with Guber Nettie's right specifically the communities API yep",
    "start": "2164180",
    "end": "2171310"
  },
  {
    "text": "okay well I didn't realize that",
    "start": "2171310",
    "end": "2176920"
  },
  {
    "text": "knowledge of Informer's shared Informer's or object cache and event handling why do we care about object",
    "start": "2177310",
    "end": "2182599"
  },
  {
    "text": "cache and event handling think about this what do controllers do they watch the API you have a whole bunch of",
    "start": "2182599",
    "end": "2188839"
  },
  {
    "text": "controllers running in the cluster right tons of controllers running in the cluster they're always wedding in the cluster there watching the API what does that",
    "start": "2188839",
    "end": "2195770"
  },
  {
    "text": "mean for the API that poor API is getting beaten right so how do we make",
    "start": "2195770",
    "end": "2201710"
  },
  {
    "text": "it more efficient the controller has you know caching we have a work queue where they work off of communicating desired",
    "start": "2201710",
    "end": "2207380"
  },
  {
    "text": "state you have to build that if you do this from scratch it's really annoying this is an example we're just using",
    "start": "2207380",
    "end": "2212540"
  },
  {
    "text": "client code directly just showing you what a sample project would look like and we need an easier way to create",
    "start": "2212540",
    "end": "2218420"
  },
  {
    "start": "2215000",
    "end": "2222000"
  },
  {
    "text": "operators and easy way to manage operators that's what the operator framework comes in it consists of operator SDK allows you to create an",
    "start": "2218420",
    "end": "2225020"
  },
  {
    "start": "2222000",
    "end": "2314000"
  },
  {
    "text": "operator with go and or helm you can convert all your existing helm charts to an operator if",
    "start": "2225020",
    "end": "2230120"
  },
  {
    "text": "you want to okay we're not competing with helm helm is awesome but if for",
    "start": "2230120",
    "end": "2235160"
  },
  {
    "text": "some reason you want to create an operator and put it in the operator hub you can do that with or put it in your",
    "start": "2235160",
    "end": "2240920"
  },
  {
    "text": "operator hub which is nothing more than like an app store you can create your own if you want kind of your own",
    "start": "2240920",
    "end": "2246790"
  },
  {
    "text": "registry of operators helm helps you the helm helps you do that with the or the",
    "start": "2246790",
    "end": "2253970"
  },
  {
    "text": "helm side of the operator SDK this is the full lifecycle going through five",
    "start": "2253970",
    "end": "2260080"
  },
  {
    "text": "stages of maturity and every we're up to autopilot which is fully running on its",
    "start": "2260080",
    "end": "2268490"
  },
  {
    "text": "own auto scaling responding to custom metrics for those you who are devs you're developing operators Prometheus",
    "start": "2268490",
    "end": "2274250"
  },
  {
    "text": "metrics definitely learn how to instrument your app that's really important using the previous libraries because autopilot responds based off",
    "start": "2274250",
    "end": "2280910"
  },
  {
    "text": "thresholds of those custom metrics okay",
    "start": "2280910",
    "end": "2284950"
  },
  {
    "text": "that's exactly right you can choose either one you can choose helm you can choose Anne's floor you can choose go",
    "start": "2290110",
    "end": "2297420"
  },
  {
    "text": "yeah that's exactly right that's what that's what it's saying here maybe someone if you all work on hell",
    "start": "2302490",
    "end": "2307500"
  },
  {
    "text": "more if anyone here works in the home community we can we can talk about this but that's what this is suggesting yeah",
    "start": "2307500",
    "end": "2314660"
  },
  {
    "start": "2314000",
    "end": "2384000"
  },
  {
    "text": "and then OLM OLM handles the installation the upgrade did the whole",
    "start": "2314810",
    "end": "2321270"
  },
  {
    "text": "dependency management with operators how do you install them how do you upgrade them all that good stuff this is actually giving you that app",
    "start": "2321270",
    "end": "2326700"
  },
  {
    "text": "store like experience think about this when it comes time as an operator author for you to roll out a new version of",
    "start": "2326700",
    "end": "2331800"
  },
  {
    "text": "your operator to your audience kind of like an app store oh I have to you know one of you do you want version 2 what is",
    "start": "2331800",
    "end": "2337380"
  },
  {
    "text": "it gonna do that's what LM does for you we might have time to talk about that later it's totally upstream fully available",
    "start": "2337380",
    "end": "2344400"
  },
  {
    "text": "operator hub that IO this is these run in any kubernetes clusters it's kind of",
    "start": "2344400",
    "end": "2349980"
  },
  {
    "text": "like your App Store like experience caddy coda housecat ACOTA doing is it working oh well good we apparently had",
    "start": "2349980",
    "end": "2359490"
  },
  {
    "text": "so many connections so quickly to Kai Dakota that we set off an alarm and it thought it was under attack and they",
    "start": "2359490",
    "end": "2365670"
  },
  {
    "text": "were all from the same IP so it said oh no no we're not let these people in so the threshold has been increased we",
    "start": "2365670",
    "end": "2372839"
  },
  {
    "text": "should be in good shape anybody's still having trouble well slow ok hopefully it'll still be",
    "start": "2372839",
    "end": "2380430"
  },
  {
    "text": "workable and I think we're about to dig into that now yeah we'll find out thanks oh yeah by the way there's some bonus",
    "start": "2380430",
    "end": "2386849"
  },
  {
    "start": "2384000",
    "end": "2419000"
  },
  {
    "text": "materials I forgot to check the website it should still be up workshop that quarter less trained me a lot of slides",
    "start": "2386849",
    "end": "2392940"
  },
  {
    "text": "you can download from there workshop that core OS trained me trained me it's like there's lots of good stuff on there",
    "start": "2392940",
    "end": "2398400"
  },
  {
    "text": "you can download lots of resources lots of access to the support Docs and the chat and all that good stuff please take",
    "start": "2398400",
    "end": "2404160"
  },
  {
    "text": "a picture real quick I'm sorry for speeding through all this stuff I told Michael I promised Michael I said I won't make this one long and it ended up",
    "start": "2404160",
    "end": "2411480"
  },
  {
    "text": "long the intro long I have a hard time condensing this is a big topic it's a",
    "start": "2411480",
    "end": "2416490"
  },
  {
    "text": "big topic ok ok so by the way get your",
    "start": "2416490",
    "end": "2421859"
  },
  {
    "start": "2419000",
    "end": "2446000"
  },
  {
    "text": "if you want if you all working on an operator you want to get it certified and featured in openshift so everyone sees it and even if you you know have a",
    "start": "2421859",
    "end": "2429140"
  },
  {
    "text": "an enterprise offering or something that that you know so after people are evaluating the upstream version come",
    "start": "2429140",
    "end": "2435960"
  },
  {
    "text": "talk to the people in the front here that's what they do they help people get their operators certified going through a series of very strict testing on your",
    "start": "2435960",
    "end": "2443490"
  },
  {
    "text": "image and your operator metadata okay so we're gonna go ahead and create an",
    "start": "2443490",
    "end": "2448829"
  },
  {
    "start": "2446000",
    "end": "2721000"
  },
  {
    "text": "operator with go and it's going to be very quick and I'm gonna ask I'm not trying to be rude but it looks like let's hold the questions I hate rushing through this type of",
    "start": "2448829",
    "end": "2455220"
  },
  {
    "text": "stuff I you know it's just but this is where we're condensed for time but stick around afterwards we're gonna answer all",
    "start": "2455220",
    "end": "2460710"
  },
  {
    "text": "your questions again we're gonna be here for you to help you so what we're going is we are going to not the Cates",
    "start": "2460710",
    "end": "2466500"
  },
  {
    "text": "fundamentals which is a really cool exercise that helps you explore the API but the operator SDK with go pod set the",
    "start": "2466500",
    "end": "2475260"
  },
  {
    "text": "operator SDK with go pod set and what",
    "start": "2475260",
    "end": "2481200"
  },
  {
    "text": "this is now look here's a reality I noticed with these workshops a lot of people like just this is the quiet time",
    "start": "2481200",
    "end": "2487560"
  },
  {
    "text": "where it's like go work on this but I'm just gonna walk through it okay maybe it helps okay so I'm just gonna walk",
    "start": "2487560",
    "end": "2492750"
  },
  {
    "text": "through it very quickly you're free to do this on your own time oh yeah when you leave you can hit all these",
    "start": "2492750",
    "end": "2498240"
  },
  {
    "text": "exercises not add flash training but just knock off the slash training right and just go to learn dot open chip calm",
    "start": "2498240",
    "end": "2504990"
  },
  {
    "text": "and you'll have all the modules on there all the modules will be on there so when you leave learned open chip calm we'll",
    "start": "2504990",
    "end": "2511500"
  },
  {
    "text": "have all this stuff so it's not going away so I guess I have to wait for my",
    "start": "2511500",
    "end": "2517770"
  },
  {
    "text": "environment to come up now I guess okay",
    "start": "2517770",
    "end": "2523040"
  },
  {
    "text": "let's do this what we're gonna do here is we are going to use the operator SDK",
    "start": "2523040",
    "end": "2530099"
  },
  {
    "text": "command okay and we're gonna say here operator SDK new pod set - operator - -",
    "start": "2530099",
    "end": "2538950"
  },
  {
    "text": "type equals go operator - SDK new and",
    "start": "2538950",
    "end": "2544530"
  },
  {
    "text": "now the gentleman in the back set was asking do you have to use all these things how does it so no here we're",
    "start": "2544530",
    "end": "2550050"
  },
  {
    "text": "saying I want to create an operator with go now you may be wondering should I go with go or should I go advancable which",
    "start": "2550050",
    "end": "2555060"
  },
  {
    "text": "one do I use here it really depends it depends on what you're comfortable with that's all if you're an ansible shop and",
    "start": "2555060",
    "end": "2561630"
  },
  {
    "text": "you all you have tons of antal modules that you all have stored and tower or you use you like to fetch them from",
    "start": "2561630",
    "end": "2567630"
  },
  {
    "text": "galaxy or however you want to you know you use ansible you can use ansible to create an operator if you all are go",
    "start": "2567630",
    "end": "2574869"
  },
  {
    "text": "shop you love go you code and go you can use go we're gonna create a go on here but let's see if this one provision in",
    "start": "2574869",
    "end": "2581230"
  },
  {
    "text": "time can anyone I don't know maybe if we want to maybe your house yours yeah this",
    "start": "2581230",
    "end": "2587740"
  },
  {
    "text": "I thought we did this in the beginning I thought that okay yeah okay oh here we",
    "start": "2587740",
    "end": "2595510"
  },
  {
    "text": "go okay I'm good yeah okay alright good yeah okay alright so I'm gonna create a",
    "start": "2595510",
    "end": "2602560"
  },
  {
    "text": "new project which for those you who are like what's project are you talking about it's a namespace that's it open shape disease use the word project",
    "start": "2602560",
    "end": "2608140"
  },
  {
    "text": "that's all it is so I'm gonna click this to create a new project and then I'm",
    "start": "2608140",
    "end": "2613450"
  },
  {
    "text": "gonna create inside my little sandbox and my go path right this Red Hat",
    "start": "2613450",
    "end": "2619119"
  },
  {
    "text": "directory and then I'm gonna navigate to that directory and then I'm going to",
    "start": "2619119",
    "end": "2627910"
  },
  {
    "text": "create the operator with go and I'm gonna say skip get in it because guess what we're not pushing this any we're not pushing this to get so we don't",
    "start": "2627910",
    "end": "2633670"
  },
  {
    "text": "going to worry about that and there it goes now what's happening",
    "start": "2633670",
    "end": "2641050"
  },
  {
    "text": "right now is you're getting all the boilerplate code and you can probably those either use go you know what that",
    "start": "2641050",
    "end": "2646300"
  },
  {
    "text": "screen looks like right third your the depth screen that's going out and pulling down all those packages okay",
    "start": "2646300",
    "end": "2653140"
  },
  {
    "text": "that are being referenced in that boilerplate code so getting all of that all that go code from those import",
    "start": "2653140",
    "end": "2658450"
  },
  {
    "text": "statements that are in the top of the code this is talking out to the net to do this so you do need a extra you know",
    "start": "2658450",
    "end": "2664450"
  },
  {
    "text": "you need external connectivity to run this and so what's that you're probably",
    "start": "2664450",
    "end": "2670839"
  },
  {
    "text": "thinking is this creating my operator how does it even know what kind of operator I want to create what's happening right now I'm confused this gentleman has a",
    "start": "2670839",
    "end": "2676869"
  },
  {
    "text": "question yes thank you okay",
    "start": "2676869",
    "end": "2686338"
  },
  {
    "text": "what's the error was that okay oh okay",
    "start": "2687930",
    "end": "2704890"
  },
  {
    "text": "oh yeah oh yeah by the way real quick",
    "start": "2704890",
    "end": "2711670"
  },
  {
    "text": "yeah let me show you that somebody asked about this where do though I know we just want to show you it workshop",
    "start": "2711670",
    "end": "2716710"
  },
  {
    "text": "what is it core OS train I have a minute anyone for us trains I mean okay if you",
    "start": "2716710",
    "end": "2722740"
  },
  {
    "start": "2721000",
    "end": "2979000"
  },
  {
    "text": "want the slides click on support' and you can download either of these links this was a from previous cube Khan and",
    "start": "2722740",
    "end": "2730420"
  },
  {
    "text": "ansible fest yes we did not update much content here from the previous cube con but we are totally revamping this for",
    "start": "2730420",
    "end": "2738880"
  },
  {
    "text": "the new version of OpenShift of the URL workshop core OS train dot me I'm gonna",
    "start": "2738880",
    "end": "2747340"
  },
  {
    "text": "put it on a big screen here",
    "start": "2747340",
    "end": "2751080"
  },
  {
    "text": "there we go",
    "start": "2756940",
    "end": "2759690"
  },
  {
    "text": "Thanks thank you",
    "start": "2763180",
    "end": "2766349"
  },
  {
    "text": "yeah so he's talking about the difference between COO builder which is another way to easily create operators",
    "start": "2774809",
    "end": "2782900"
  },
  {
    "text": "now with if you're all familiar with COO builder so they both both operator SDK",
    "start": "2782900",
    "end": "2788489"
  },
  {
    "text": "and both COO builder both use something called controller runtime right",
    "start": "2788489",
    "end": "2793709"
  },
  {
    "text": "controller runtime is a series of packages go packages that makes creating",
    "start": "2793709",
    "end": "2799859"
  },
  {
    "text": "operators really really easy it was developed by the kubernetes authors actually or developers of the API and",
    "start": "2799859",
    "end": "2806579"
  },
  {
    "text": "there's some news that actually operator SDK has been working with COO builder",
    "start": "2806579",
    "end": "2812400"
  },
  {
    "text": "directly so are we gonna do we know anything about the changes with the operator SDK Michael and up and cue",
    "start": "2812400",
    "end": "2817799"
  },
  {
    "text": "builder like as far as what's working together still pending but we have",
    "start": "2817799",
    "end": "2822839"
  },
  {
    "text": "weekly meetings with each other so we are not we're not that's they're these aren't two competing platforms so to",
    "start": "2822839",
    "end": "2828779"
  },
  {
    "text": "speak right ultimately the go features are gonna fold under queue builder and operator CK",
    "start": "2828779",
    "end": "2835019"
  },
  {
    "text": "will bring operator specific things on top of what key builder currently offers",
    "start": "2835019",
    "end": "2840449"
  },
  {
    "text": "that'll be things like packaging for operator lifecycle manager perhaps testing and that sort of operator",
    "start": "2840449",
    "end": "2845939"
  },
  {
    "text": "specific stuff that opera CK does today but that'll all be go focused and",
    "start": "2845939",
    "end": "2851069"
  },
  {
    "text": "probably the ansible in home pieces will stay under the the operator CK umbrella",
    "start": "2851069",
    "end": "2857489"
  },
  {
    "text": "as it is now yeah so there's you're not this is really a good you know which one should I go with they're basically gonna",
    "start": "2857489",
    "end": "2864089"
  },
  {
    "text": "be this have the same workflow operator SDK is great if you want to be in the operator lifecycle manager and get those",
    "start": "2864089",
    "end": "2870599"
  },
  {
    "text": "kind of features right building out all the artifacts you need for OLM",
    "start": "2870599",
    "end": "2876380"
  },
  {
    "text": "yeah we don't know yet but Oh Willa doesn't say this let's add is a good",
    "start": "2884550",
    "end": "2890970"
  },
  {
    "text": "question if I want to get started creating an operator today what do I pick though right now tonight I want to get started with the operator and work",
    "start": "2890970",
    "end": "2896640"
  },
  {
    "text": "throughout the weekend which one am I gonna pick what should I do I would say",
    "start": "2896640",
    "end": "2904020"
  },
  {
    "text": "I mean today like right now tonight operator CK still has the operator bits that are gonna get you all the way to",
    "start": "2904020",
    "end": "2910200"
  },
  {
    "text": "the finish line with operator hub for example or does generally if you want to package and distribute your operator",
    "start": "2910200",
    "end": "2916140"
  },
  {
    "text": "even internally it's got that essentially that package management feature built into it and ready to go so",
    "start": "2916140",
    "end": "2922380"
  },
  {
    "text": "I would do that today oh thanks yeah",
    "start": "2922380",
    "end": "2928670"
  },
  {
    "text": "okay so okay I'm gonna go to this pretty",
    "start": "2928670",
    "end": "2937980"
  },
  {
    "text": "quick so the first step to creating this",
    "start": "2937980",
    "end": "2943170"
  },
  {
    "text": "go based operator is to add an API is to add an API what does that mean to add an API that means to create the custom",
    "start": "2943170",
    "end": "2948690"
  },
  {
    "text": "resource definition the custom we basically telling this this code this is",
    "start": "2948690",
    "end": "2954630"
  },
  {
    "text": "the custom resource definition that I want to use make the code aware of that actual object that's what we're doing",
    "start": "2954630",
    "end": "2960540"
  },
  {
    "text": "here okay so we're saying operator SDK add API - - API version apt example.com /v 1",
    "start": "2960540",
    "end": "2968040"
  },
  {
    "text": "alpha 1 so very creative name group here apt at example.com and then we're gonna",
    "start": "2968040",
    "end": "2974730"
  },
  {
    "text": "be calling creating this thing called a pod set now if you're wondering what is a pod set a pod set in this objective",
    "start": "2974730",
    "end": "2980880"
  },
  {
    "start": "2979000",
    "end": "3021000"
  },
  {
    "text": "the kind of operator that we're actually creating does this right here it's very simple it's almost like a replica set",
    "start": "2980880",
    "end": "2987270"
  },
  {
    "text": "and that like you specify the number of pods that you want right and then it",
    "start": "2987270",
    "end": "2992670"
  },
  {
    "text": "gives you that number of pods and it also has the pod names in the status section very very simple maybe thinking well how is this different than a",
    "start": "2992670",
    "end": "2998460"
  },
  {
    "text": "replica set it's really not much different at all just we're showing you how this is a good place to start to understand creating a controller okay",
    "start": "2998460",
    "end": "3006290"
  },
  {
    "text": "here if I change the size to one the declaration the pod set should be smart enough to scale down so you want to have",
    "start": "3006290",
    "end": "3012530"
  },
  {
    "text": "in the spec section replicas in the status section pod names okay",
    "start": "3012530",
    "end": "3018200"
  },
  {
    "text": "so just to give an idea what we're doing here all right so we're gonna go and",
    "start": "3018200",
    "end": "3025130"
  },
  {
    "start": "3021000",
    "end": "3079000"
  },
  {
    "text": "create this add API command",
    "start": "3025130",
    "end": "3030640"
  },
  {
    "text": "again you see what it's creating here you can see it's creating the CR the CR",
    "start": "3046990",
    "end": "3052750"
  },
  {
    "text": "D for us automatically it doesn't know the contents of our custom resource it doesn't know what we want to have inside",
    "start": "3052750",
    "end": "3058690"
  },
  {
    "text": "the spec yet we have to tell it that right and never we want in this case we want was at replicas that's what we one",
    "start": "3058690",
    "end": "3064300"
  },
  {
    "text": "side of respect right we haven't told it that yet we're gonna have to tell it that okay so now if you actually look at",
    "start": "3064300",
    "end": "3070030"
  },
  {
    "text": "the CR D the CR D has been created for you alright again I'm skipping over so much usually",
    "start": "3070030",
    "end": "3077440"
  },
  {
    "text": "you know this is a lot of stuff and we're skipping it over now we're going into here is hopefully if this works for",
    "start": "3077440",
    "end": "3083380"
  },
  {
    "start": "3079000",
    "end": "3159000"
  },
  {
    "text": "you you can drill down on the very top to this file location pod set operator",
    "start": "3083380",
    "end": "3089370"
  },
  {
    "text": "package api's and i need to refresh it",
    "start": "3089370",
    "end": "3102580"
  },
  {
    "text": "seems like the environments are working again for many people so if you're still staring at that red error message",
    "start": "3102580",
    "end": "3108190"
  },
  {
    "text": "refresh one more time hope it'll work",
    "start": "3108190",
    "end": "3113339"
  },
  {
    "text": "so what I'm doing here is",
    "start": "3115590",
    "end": "3120090"
  },
  {
    "text": "there we go okay all right so what I'm doing here is I am going to create my",
    "start": "3129089",
    "end": "3136199"
  },
  {
    "text": "cuss my spec I have to design my spec right what do i wet in my spec I want the number of replicas so what I'm gonna",
    "start": "3136199",
    "end": "3141569"
  },
  {
    "text": "do here is I'm gonna drill down and do this types go file right right here posit type let go this is where I design",
    "start": "3141569",
    "end": "3148289"
  },
  {
    "text": "my spec this is where I say these are the fields I want right and this is what I want them set to this is the status",
    "start": "3148289",
    "end": "3155249"
  },
  {
    "text": "that I want please open okay there we go all right so what we're gonna do here is we're",
    "start": "3155249",
    "end": "3162509"
  },
  {
    "start": "3159000",
    "end": "3212000"
  },
  {
    "text": "gonna say this is very easy okay Dakota all you have to do is click copy to editor and it literally updates it just",
    "start": "3162509",
    "end": "3168359"
  },
  {
    "text": "like that but if you're wondering what this is spec section status section this is a field that can be referenced and go it's gonna be a 32-bit integer and then",
    "start": "3168359",
    "end": "3175409"
  },
  {
    "text": "we're this is a JSON tag it's basically saying inside the JSON in that declaration we're gonna have replicas",
    "start": "3175409",
    "end": "3183179"
  },
  {
    "text": "here and in the status section or have this array of pod names that's all we're doing and after you run that command",
    "start": "3183179",
    "end": "3189299"
  },
  {
    "text": "after you update that code you run this generate Kate's command for those of you that are super controller savvy these",
    "start": "3189299",
    "end": "3196199"
  },
  {
    "text": "are just the code generators that are running in the background here you know you don't know what that is you never",
    "start": "3196199",
    "end": "3201689"
  },
  {
    "text": "use controller don't worry about it but just understand that just a little command that we did to run those code generators to create the type objects",
    "start": "3201689",
    "end": "3207959"
  },
  {
    "text": "based off this information here and OH generate open API you all have you know",
    "start": "3207959",
    "end": "3214679"
  },
  {
    "start": "3212000",
    "end": "3289000"
  },
  {
    "text": "it's a really cool thing about this is is you all when you all do coop CTO edit like an object you know when you go in",
    "start": "3214679",
    "end": "3221549"
  },
  {
    "text": "there and you try to change something and you hit return I'll satisfy that you made your change and it like comes back at you it's like you can't do that",
    "start": "3221549",
    "end": "3227759"
  },
  {
    "text": "that's validation that's validation taking place right you can do that in your spec so you can say users can't put",
    "start": "3227759",
    "end": "3235319"
  },
  {
    "text": "four replicas you know some like long string or something they can only put it 32-bit integer e you can say they can only put an integer between 1 & 5 you",
    "start": "3235319",
    "end": "3242130"
  },
  {
    "text": "can put all that information into your validation and that validation goes into",
    "start": "3242130",
    "end": "3247589"
  },
  {
    "text": "the CR D and now we have our C Rd created and there it is pod sets tapped",
    "start": "3247589",
    "end": "3253949"
  },
  {
    "text": "at example.com now comes the really cool part where we have the logic controller the controller is the thing that does",
    "start": "3253949",
    "end": "3260309"
  },
  {
    "text": "the reconciling remember that screen that we showed you with the back-and-forth the the kind of the looping this is the controller that",
    "start": "3260309",
    "end": "3266610"
  },
  {
    "text": "does that reconciling and then now what we're gonna do is we're gonna go and",
    "start": "3266610",
    "end": "3272100"
  },
  {
    "text": "update our logic let's see let's go into",
    "start": "3272100",
    "end": "3280560"
  },
  {
    "text": "our controller pod set pod set",
    "start": "3280560",
    "end": "3288570"
  },
  {
    "text": "controller okay there we go you get some default logic but it's very very basic it just creates one pod we're gonna",
    "start": "3288570",
    "end": "3294480"
  },
  {
    "start": "3289000",
    "end": "3356000"
  },
  {
    "text": "create them this is what our logic looks like okay look tipless and i promised we would typically go through all this and",
    "start": "3294480",
    "end": "3299580"
  },
  {
    "text": "tell you everything that's going on but we don't have time we got to talk about Hanceville operators so please come I",
    "start": "3299580",
    "end": "3306540"
  },
  {
    "text": "want you to scan this I want you to get your questions ready and come see us afterwards and ask his questions about this okay but the most important logic",
    "start": "3306540",
    "end": "3313290"
  },
  {
    "text": "if you're kind of wondering what's really going on here the real meat of it if you will like the",
    "start": "3313290",
    "end": "3318600"
  },
  {
    "text": "actual thing that we should focus on is if the number available is greater than the this is the comparison right the",
    "start": "3318600",
    "end": "3326490"
  },
  {
    "text": "number available is the actual state this is our declaration if this is greater than this we're gonna go ahead",
    "start": "3326490",
    "end": "3332400"
  },
  {
    "text": "and scale down if this is less than the Declaration we're gonna scale up that's",
    "start": "3332400",
    "end": "3338970"
  },
  {
    "text": "the most important piece in all this right so I'm gonna go ahead and apply this",
    "start": "3338970",
    "end": "3344270"
  },
  {
    "text": "and we should be updated there you don't have to click save or anything it should",
    "start": "3348720",
    "end": "3354539"
  },
  {
    "text": "save automatically and now we're gonna run this controller using the up local",
    "start": "3354539",
    "end": "3360299"
  },
  {
    "start": "3356000",
    "end": "3444000"
  },
  {
    "text": "command you may be thinking I don't understand why aren't you deploying this with a deployment like into the cluster it's because the up local command allows",
    "start": "3360299",
    "end": "3367260"
  },
  {
    "text": "you to compile this code and talk to Anne Cooper IDs cluster if it's",
    "start": "3367260",
    "end": "3372359"
  },
  {
    "text": "externally accessible so you're literally running a controller outside of the cluster and it can actually think",
    "start": "3372359",
    "end": "3379950"
  },
  {
    "text": "about this the reason why we have this command and we made this command is because can you imagine if every time you made a little code change you'd have",
    "start": "3379950",
    "end": "3385470"
  },
  {
    "text": "to literally compile your image push it up to a container registry go and you know put that the name into a deployment",
    "start": "3385470",
    "end": "3392609"
  },
  {
    "text": "imagine how annoying that workflow would be so this is a really nice workflow to just instantly connect to your cluster and try your code against that cluster",
    "start": "3392609",
    "end": "3399299"
  },
  {
    "text": "ok and it's running ok how do I know it's running well I have a my screen",
    "start": "3399299",
    "end": "3405780"
  },
  {
    "text": "here and let's go ahead and make sure it works what I'm gonna do here to make sure it works is I'm gonna open up a new",
    "start": "3405780",
    "end": "3413130"
  },
  {
    "text": "terminal and I'm going to go into this directory here and I'm gonna notice that",
    "start": "3413130",
    "end": "3419789"
  },
  {
    "text": "this is set to size remember we set it to replicas so how do we get this to actually work but step the replicas what",
    "start": "3419789",
    "end": "3425520"
  },
  {
    "text": "we're gonna do is we're just gonna open up our deploy folder go to see our DS go",
    "start": "3425520",
    "end": "3432359"
  },
  {
    "text": "to see our y amyl and click our magical copy to editor button isn't this great wouldn't it be awesome",
    "start": "3432359",
    "end": "3438630"
  },
  {
    "text": "if Cody was actually like those you just like clean fun no that wouldn't be fun all right it would be very fun all right",
    "start": "3438630",
    "end": "3445140"
  },
  {
    "start": "3444000",
    "end": "3600000"
  },
  {
    "text": "so then we then we actually go and we say OC create - F deploy CR DS let's go",
    "start": "3445140",
    "end": "3451349"
  },
  {
    "text": "ahead and create that and then we say OC get pods and the",
    "start": "3451349",
    "end": "3461670"
  },
  {
    "text": "control or check this out this is pretty cool if you look at the terminal notice how instantly when I created that custom",
    "start": "3461670",
    "end": "3468329"
  },
  {
    "text": "resource my controller got an event you can look at all the logs here and then it scaled up based off that event etc",
    "start": "3468329",
    "end": "3473490"
  },
  {
    "text": "etc you might be thinking I don't ever say this is such a simple example while you do it showing us it's like a replica",
    "start": "3473490",
    "end": "3479010"
  },
  {
    "text": "set was a big deal it's academic or just you study this and this will prime you for",
    "start": "3479010",
    "end": "3484950"
  },
  {
    "text": "understanding how op the controller or loop works play with this play with this play around with it modify it break it",
    "start": "3484950",
    "end": "3490049"
  },
  {
    "text": "get comfortable with how this controller is actually working we can actually see that if we actually go in and we say OC",
    "start": "3490049",
    "end": "3497789"
  },
  {
    "text": "get pod set this is pretty cool just like this OC get pod set",
    "start": "3497789",
    "end": "3506660"
  },
  {
    "text": "- oh yeah Mille you see that how the pod names got put in there okay",
    "start": "3508670",
    "end": "3514500"
  },
  {
    "text": "pretty cool you look at the code you'll see the relationship there again we go through more but we have to move on to",
    "start": "3514500",
    "end": "3520609"
  },
  {
    "text": "the anvil operators right let's go ahead and do that yeah Michael do you want to",
    "start": "3520609",
    "end": "3527460"
  },
  {
    "text": "talk about that yeah let's yeah real",
    "start": "3527460",
    "end": "3533430"
  },
  {
    "text": "quick guards the gentleman asked about garbage collection where is it how does it work where can I see it",
    "start": "3533430",
    "end": "3538470"
  },
  {
    "text": "you can see it in the code but did you want to see it in person you just say OC get pods let's look at a pod and see if",
    "start": "3538470",
    "end": "3544589"
  },
  {
    "text": "it has a garbage collection owner reference on it I'm gonna grab it grab the first one here I'm gonna say - oh",
    "start": "3544589",
    "end": "3549839"
  },
  {
    "text": "yeah mo let's grep for the word owner ref and let's just go down see it it's",
    "start": "3549839",
    "end": "3561270"
  },
  {
    "text": "in the metadata section there it is so these pods have owner references on them right and what does that mean it means",
    "start": "3561270",
    "end": "3567450"
  },
  {
    "text": "that if I actually go and say OC delete pod set example pod set guess what",
    "start": "3567450",
    "end": "3575480"
  },
  {
    "text": "permeating okay",
    "start": "3575480",
    "end": "3578869"
  },
  {
    "text": "all right how's this looking fantastic we're plugged in we're ready to rock let's look at the easy way to do this",
    "start": "3615710",
    "end": "3622069"
  },
  {
    "text": "with ansible now I'm gonna apologize up front I've got a bit of a cough I'm gonna try my",
    "start": "3622069",
    "end": "3627559"
  },
  {
    "text": "best and not coffin to this microphone but we'll see how it goes so why would you do this with ansible so the answer",
    "start": "3627559",
    "end": "3634640"
  },
  {
    "text": "both side of the operator CK makes it particularly easy orders of magnitude",
    "start": "3634640",
    "end": "3639680"
  },
  {
    "text": "easier to deploy manage applications with operators as opposed to doing one",
    "start": "3639680",
    "end": "3644930"
  },
  {
    "text": "from scratch with even with the go side of the operator SDK and let's look at",
    "start": "3644930",
    "end": "3651440"
  },
  {
    "text": "how it fits naturally so a criminai is an ansible very much playing in the same",
    "start": "3651440",
    "end": "3656990"
  },
  {
    "text": "kind of mindset there are both all about automation and orchestration open-source",
    "start": "3656990",
    "end": "3663230"
  },
  {
    "text": "very popular active communities on both sides but two things that I like to",
    "start": "3663230",
    "end": "3669500"
  },
  {
    "text": "focus on are they're both yamo base from their heavily gamal top to bottom so you're already familiar that they're",
    "start": "3669500",
    "end": "3675020"
  },
  {
    "text": "both also all about declaring your desired state so in the antipas side if",
    "start": "3675020",
    "end": "3680599"
  },
  {
    "text": "you're not familiar with ansible you create an answer will roll such that you can run it over and over and over again",
    "start": "3680599",
    "end": "3687619"
  },
  {
    "text": "and no matter what the starting state of your infrastructure was it will end up",
    "start": "3687619",
    "end": "3693710"
  },
  {
    "text": "at your desired state very much like a controller in kubernetes already does",
    "start": "3693710",
    "end": "3699710"
  },
  {
    "text": "anyway so these are a really natural and a really good fit for each other so let's look at using ansible as a client",
    "start": "3699710",
    "end": "3705890"
  },
  {
    "text": "to interact with kubernetes so on the Left we have normal yamo like you might see in a file you could cube CTL create",
    "start": "3705890",
    "end": "3713359"
  },
  {
    "text": "- F this config map and you'd have a config map on the right side this is actual ansible code and you can see I've",
    "start": "3713359",
    "end": "3720680"
  },
  {
    "text": "just inlined I've directly inline to the exact same yamo and this will using the k8s module",
    "start": "3720680",
    "end": "3728390"
  },
  {
    "text": "directly create that resource or it'll ensure that it exists in the desired",
    "start": "3728390",
    "end": "3734480"
  },
  {
    "text": "State so it's a little bit like like the apply verb that you're probably used to now the one difference here you may see",
    "start": "3734480",
    "end": "3741109"
  },
  {
    "text": "is I've taken the liberty of just showing off a little bit in template izing that last line so we've",
    "start": "3741109",
    "end": "3747200"
  },
  {
    "text": "templatized color and when your ansible code runs this way",
    "start": "3747200",
    "end": "3752240"
  },
  {
    "text": "inside your ansible operator any any key value pairs you put in your spec on your",
    "start": "3752240",
    "end": "3758900"
  },
  {
    "text": "CR D get plumbed in here at render time for ansible to use so if you have color",
    "start": "3758900",
    "end": "3766690"
  },
  {
    "text": ": read in your spec of your CR that you just created in your cluster then when",
    "start": "3766690",
    "end": "3773540"
  },
  {
    "text": "ansible runs its gonna use that and its gonna render this template using those values and it will ensure that this",
    "start": "3773540",
    "end": "3780530"
  },
  {
    "text": "resource has the value red as the string red there as the color so pretty neat",
    "start": "3780530",
    "end": "3785870"
  },
  {
    "text": "now what if you don't want to inline your yeah Mille I don't really want to inline my mo either there's a better way",
    "start": "3785870",
    "end": "3793190"
  },
  {
    "text": "you can maintain your llamo manifests as",
    "start": "3793190",
    "end": "3798250"
  },
  {
    "text": "separate templates and templatized them just the same way but keep them in a separate directory inside your role and",
    "start": "3798250",
    "end": "3806410"
  },
  {
    "text": "with these three lines we're looking we're using the lookup feature of ansible which is a staple core feature",
    "start": "3806410",
    "end": "3814490"
  },
  {
    "text": "of ansible it's used in many different ways we're looking up the template that has a certain name and we're just",
    "start": "3814490",
    "end": "3821450"
  },
  {
    "text": "rendering that and the k8s module understands how to receive that as its",
    "start": "3821450",
    "end": "3826700"
  },
  {
    "text": "input and now it's just going to basically apply whatever has been",
    "start": "3826700",
    "end": "3832850"
  },
  {
    "text": "rendered out of out of those templates so this is a very natural way to interact with kubernetes from inside of",
    "start": "3832850",
    "end": "3839330"
  },
  {
    "text": "ansible so why build operators are the antelope",
    "start": "3839330",
    "end": "3844930"
  },
  {
    "text": "cutting right to the chase of these things ultimately it's it's about the",
    "start": "3844930",
    "end": "3851060"
  },
  {
    "text": "ease and the ease of getting started the ease of maintaining you can have an operator with no previous experience at",
    "start": "3851060",
    "end": "3857720"
  },
  {
    "text": "all even if no experience with ansible even itself up and running in under a",
    "start": "3857720",
    "end": "3863360"
  },
  {
    "text": "day when your boss comes to you and says hey we bought openshift congratulations",
    "start": "3863360",
    "end": "3869930"
  },
  {
    "text": "and now you have to go make operators for these twelve things and i need them by the end of the week so we can",
    "start": "3869930",
    "end": "3875210"
  },
  {
    "text": "continue to deploy them you can get that done actually in a big hurry and you can take even whatever yan will manifest",
    "start": "3875210",
    "end": "3881780"
  },
  {
    "text": "you've already been using to deploy your workloads meet with other tooling maybe not and feed them in",
    "start": "3881780",
    "end": "3888800"
  },
  {
    "text": "here and create an operator very quickly but you still have the full power of ansible so you can do anything",
    "start": "3888800",
    "end": "3894320"
  },
  {
    "text": "fully advanced day to management of your workloads is still totally within realm",
    "start": "3894320",
    "end": "3900610"
  },
  {
    "text": "so I'll say about that for now we looked at this already earlier so you're familiar now how does a controller work",
    "start": "3900610",
    "end": "3907490"
  },
  {
    "text": "Matt already talked through this we're gonna compare this is a normal controller and we're gonna compare this",
    "start": "3907490",
    "end": "3913040"
  },
  {
    "text": "in a moment with an answerable based controller so in this normal one we've got this controller in the middle it's",
    "start": "3913040",
    "end": "3918500"
  },
  {
    "text": "watching events right any time a custom resource or any a resource of any kind",
    "start": "3918500",
    "end": "3925520"
  },
  {
    "text": "changes that it is watching it gets that event and it runs that reconcile",
    "start": "3925520",
    "end": "3930530"
  },
  {
    "text": "function right now what happens when we drop ansible into this here's what we",
    "start": "3930530",
    "end": "3936680"
  },
  {
    "text": "have inside that controller we have created for you a generic binary it it's",
    "start": "3936680",
    "end": "3944350"
  },
  {
    "text": "written and go using the operators 2k and it runs and it'll watch whatever",
    "start": "3944350",
    "end": "3951590"
  },
  {
    "text": "resources you tell it to watch so we have this watch file that we'll look at",
    "start": "3951590",
    "end": "3956840"
  },
  {
    "text": "in a moment that really just says for this group version and kind when you see",
    "start": "3956840",
    "end": "3962060"
  },
  {
    "text": "an event for that group version kind run this ansible playbook or run this",
    "start": "3962060",
    "end": "3967250"
  },
  {
    "text": "ansible role you do either one so it really ends up being very simple there's some other advanced features around this",
    "start": "3967250",
    "end": "3973840"
  },
  {
    "text": "but then that ansible can run and do anything it wants now Matt was talking",
    "start": "3973840",
    "end": "3979730"
  },
  {
    "text": "about owner references earlier now here this automatically puts owner references on every resource you create",
    "start": "3979730",
    "end": "3986600"
  },
  {
    "text": "for you so it knows what your primary resource is and when you create",
    "start": "3986600",
    "end": "3992480"
  },
  {
    "text": "secondary resources it will do two things it'll put the owner reference on it and it will also start watching that",
    "start": "3992480",
    "end": "4000760"
  },
  {
    "text": "other resource type also and it'll use that that handle or if you're familiar with the go side it will include of",
    "start": "4000760",
    "end": "4011920"
  },
  {
    "text": "happens very naturally for you here finalizar czar super easy [Music] and so on so automating with ansible",
    "start": "4011920",
    "end": "4021559"
  },
  {
    "text": "doing this for the first time what are you gonna do you are going to create a role or a playbook that understands how",
    "start": "4021559",
    "end": "4029119"
  },
  {
    "text": "to deploy an application so if we were gonna deploy Maria DB we would create a",
    "start": "4029119",
    "end": "4035089"
  },
  {
    "text": "Maria DB role and fill it out so that it understands how to deploy Maria DB on",
    "start": "4035089",
    "end": "4041119"
  },
  {
    "text": "kubernetes in this context in the operator context the custom resource",
    "start": "4041119",
    "end": "4048079"
  },
  {
    "text": "input is going to be passed into ansible at runtime so when we run answerable all",
    "start": "4048079",
    "end": "4053359"
  },
  {
    "text": "that input gets passed in and is used by ansible to render templates for a logic",
    "start": "4053359",
    "end": "4059200"
  },
  {
    "text": "branching you can do effectively like if kind of statements in an table you can",
    "start": "4059200",
    "end": "4065630"
  },
  {
    "text": "run a block of code only when an expression is true so all those things you can use that input to in very",
    "start": "4065630",
    "end": "4072319"
  },
  {
    "text": "powerful ways make decisions in your ansible code and so typically you're gonna use the k8s module there's a",
    "start": "4072319",
    "end": "4079400"
  },
  {
    "text": "collection of other related kubernetes modules around that to do things like manage the status and other things and",
    "start": "4079400",
    "end": "4086089"
  },
  {
    "text": "then if your interact with any external services you can use that as well we've",
    "start": "4086089",
    "end": "4091339"
  },
  {
    "text": "seen somebody creating an operator with ansible to manage a physical switch that's on the top of their their rack of",
    "start": "4091339",
    "end": "4101020"
  },
  {
    "text": "hosts that turn into nodes in their cluster so they're managing their kubernetes infrastructure from",
    "start": "4101020",
    "end": "4106609"
  },
  {
    "text": "kubernetes including the switch and they're using Angelo's very rich collection of network equipment roles to",
    "start": "4106609",
    "end": "4115460"
  },
  {
    "text": "to do that so let's uh let's keep moving this is what that watches file looks like like I said really no nothing fancy",
    "start": "4115460",
    "end": "4123170"
  },
  {
    "text": "here just group version kind mapping to a playbook and this gets scaffolded out",
    "start": "4123170",
    "end": "4129560"
  },
  {
    "text": "for you by the operator 2k as you'll see now with your custom resource in the spec so let's say we're making this",
    "start": "4129560",
    "end": "4136338"
  },
  {
    "text": "Maria TV operator we've got a Maria DB custom resource definition when I create",
    "start": "4136339",
    "end": "4141830"
  },
  {
    "text": "one of those resources in the spec I can put any key value pairs I want and those",
    "start": "4141830",
    "end": "4146900"
  },
  {
    "text": "get passed into ansible now what about the stat you have two options the easy option is",
    "start": "4146900",
    "end": "4153620"
  },
  {
    "text": "we take care of it for you the answerable based operator will create a default status it's fairly",
    "start": "4153620",
    "end": "4160370"
  },
  {
    "text": "generic it's not going to be specific to your workload but it is a useful and",
    "start": "4160370",
    "end": "4166700"
  },
  {
    "text": "informative status it says things about what happened when ansible ran didn't",
    "start": "4166700",
    "end": "4172040"
  },
  {
    "text": "encounter any errors did it change anything or not those sorts of things and then probably the last thing we look",
    "start": "4172040",
    "end": "4179810"
  },
  {
    "text": "at before we dive into the exercise this is what the image really looks like for",
    "start": "4179810",
    "end": "4185299"
  },
  {
    "text": "your ansible based operator all the stuff on the bottom is provided for you that binary answerable itself is in the",
    "start": "4185300",
    "end": "4192410"
  },
  {
    "text": "image all the libraries and dependencies you need all you add on top are that",
    "start": "4192410",
    "end": "4198230"
  },
  {
    "text": "watches file and whatever roles are playbooks get referenced by that watches",
    "start": "4198230",
    "end": "4203270"
  },
  {
    "text": "file it's really very simple in terms of artifacts it's very little for you to manage so you can already see this is a",
    "start": "4203270",
    "end": "4210710"
  },
  {
    "text": "very different picture than managing an entire go based software project yourself I'm a software engineer I love",
    "start": "4210710",
    "end": "4218180"
  },
  {
    "text": "writing and go I would be happy to write good all day long but not every organization wants to throw a full",
    "start": "4218180",
    "end": "4224870"
  },
  {
    "text": "development team onto every operator that they need to make this is a very different way to manage the artifacts",
    "start": "4224870",
    "end": "4230960"
  },
  {
    "text": "that you need organizations generally are very used to having small teams ops",
    "start": "4230960",
    "end": "4236270"
  },
  {
    "text": "teams teams are not even software engineering oriented owning and",
    "start": "4236270",
    "end": "4241610"
  },
  {
    "text": "maintaining ansible assets as a regular matter of course and that's just as easy",
    "start": "4241610",
    "end": "4247280"
  },
  {
    "text": "to do here with your operator okay let's",
    "start": "4247280",
    "end": "4252350"
  },
  {
    "text": "go back to our exercises and let's see",
    "start": "4252350",
    "end": "4257390"
  },
  {
    "text": "mine is alive and well now I've got good news for you about this exercise it's a",
    "start": "4257390",
    "end": "4263420"
  },
  {
    "text": "nine step exercise the first four are start is just reading and I already told",
    "start": "4263420",
    "end": "4268820"
  },
  {
    "text": "you all that stuff so we're just gonna fast right forward past that all the way",
    "start": "4268820",
    "end": "4273980"
  },
  {
    "text": "to step five and about halfway down it sounds like they're already tearing down",
    "start": "4273980",
    "end": "4279920"
  },
  {
    "text": "the conference over there okay that's not an earthquake I'm in",
    "start": "4279920",
    "end": "4286309"
  },
  {
    "text": "East Coaster so I'm not used to that fear okay operator SDK new",
    "start": "4286309",
    "end": "4292940"
  },
  {
    "text": "just as you might expect right so we're gonna run operators 2k new we're saying type is ansible we're giving it the",
    "start": "4292940",
    "end": "4300349"
  },
  {
    "text": "group version and kind right up front and it just scaffold it out an entire operator for us let's look at what we",
    "start": "4300349",
    "end": "4308300"
  },
  {
    "text": "got with this tree command right what do we have here okay so we have a build directory and we",
    "start": "4308300",
    "end": "4314719"
  },
  {
    "text": "have a docker file we could build this operator right now we have a working operator already the bad news is it",
    "start": "4314719",
    "end": "4321559"
  },
  {
    "text": "doesn't do anything but it will totally watch our resource it will run in the an",
    "start": "4321559",
    "end": "4328340"
  },
  {
    "text": "total role that it just created every time that resource has an event there's nothing in that role yet but we already",
    "start": "4328340",
    "end": "4334309"
  },
  {
    "text": "have everything we need we could run operators to get build right now and this thing would run deployment all this",
    "start": "4334309",
    "end": "4341750"
  },
  {
    "text": "is all the usual stuff you'd get with the SDK where there's go or ansible or anything else so we have the CR D we",
    "start": "4341750",
    "end": "4346969"
  },
  {
    "text": "have an example CR and so on all the stuff you need to deploy your operator into a cluster molecule anybody familiar",
    "start": "4346969",
    "end": "4355849"
  },
  {
    "text": "with an Sable's molecule project yeah big fans in the antipope community of",
    "start": "4355849",
    "end": "4361159"
  },
  {
    "text": "molecule it's a whole testing framework it's super useful as it turns out for operator testing not even just ansible",
    "start": "4361159",
    "end": "4367849"
  },
  {
    "text": "operator testing by the way if you're even if you're making operators with something that's not ansible like an NGO",
    "start": "4367849",
    "end": "4373099"
  },
  {
    "text": "or otherwise do you think molecule it",
    "start": "4373099",
    "end": "4378949"
  },
  {
    "text": "turns out is a really useful way to to stand up transient cluster very quickly",
    "start": "4378949",
    "end": "4385599"
  },
  {
    "text": "throw your operator into it test it and tear the whole thing down and give you very quick feedback cycles as you're",
    "start": "4385599",
    "end": "4392210"
  },
  {
    "text": "developing or your operator so that's really cool stuff I wish we had more time to go into that right now okay rolls ansible rolls so we got a",
    "start": "4392210",
    "end": "4400250"
  },
  {
    "text": "memcache D roll scaffolded it out for us already in in all this stuff there's",
    "start": "4400250",
    "end": "4407210"
  },
  {
    "text": "really only two things you need to worry about inside here one is tasks main yeah",
    "start": "4407210",
    "end": "4414650"
  },
  {
    "text": "Mille that's where we go that's like the main function in your program that's the",
    "start": "4414650",
    "end": "4421500"
  },
  {
    "text": "starting point for our ansible code so that's what we're gonna we're gonna start putting ansible code and then the",
    "start": "4421500",
    "end": "4427949"
  },
  {
    "text": "templates directory that's the directory we can put template files so any mo",
    "start": "4427949",
    "end": "4433530"
  },
  {
    "text": "manifest you already have you can just stuff them in there and reference them from that main dot yeah mo like we saw a",
    "start": "4433530",
    "end": "4440340"
  },
  {
    "text": "few minutes ago on the slides and then last but not least we have this watches diamo file as promised that's the file",
    "start": "4440340",
    "end": "4446910"
  },
  {
    "text": "where we we look and express for the group version kind run this role because",
    "start": "4446910",
    "end": "4453360"
  },
  {
    "text": "the operator ck already knows what group version kind you're gonna use it already",
    "start": "4453360",
    "end": "4458610"
  },
  {
    "text": "created the role for you it has already filled out the values in that file so we don't even need to touch it it's already",
    "start": "4458610",
    "end": "4465780"
  },
  {
    "text": "ready to go so let's press on so our",
    "start": "4465780",
    "end": "4471030"
  },
  {
    "text": "next step is to customize the operator logic cuz right now there is no logic now rather than sit here and type out",
    "start": "4471030",
    "end": "4478230"
  },
  {
    "text": "some ansible code we're gonna take the easy path we're gonna take the lazy path thankfully one of my colleagues Dylan",
    "start": "4478230",
    "end": "4484530"
  },
  {
    "text": "Murray created a role for us it's to gonna deploy memcache D so what we're gonna do here is use the antibiotic to",
    "start": "4484530",
    "end": "4491430"
  },
  {
    "text": "to download and install that module for us an answerable galaxy that I'm the",
    "start": "4491430",
    "end": "4500310"
  },
  {
    "text": "command there's really nothing fancy going on here it's just retrieving that off of github for us and putting that",
    "start": "4500310",
    "end": "4506400"
  },
  {
    "text": "role here in our roles directory so if we type one-handed and look okay so in",
    "start": "4506400",
    "end": "4514440"
  },
  {
    "text": "the roles directory look we've got a way to die I missed a step didn't I I missed",
    "start": "4514440",
    "end": "4521400"
  },
  {
    "text": "a CD into my memcache D operator directory don't make that mistake like I",
    "start": "4521400",
    "end": "4526620"
  },
  {
    "text": "did and I'm glad I caught it just then so let's run this again",
    "start": "4526620",
    "end": "4531650"
  },
  {
    "text": "in let's LS in roles that looks better",
    "start": "4535230",
    "end": "4540310"
  },
  {
    "text": "okay now we have that old role that original one that got scaffolded out for",
    "start": "4540310",
    "end": "4546340"
  },
  {
    "text": "us we're just gonna delete that we don't need that anymore and let's take a",
    "start": "4546340",
    "end": "4551710"
  },
  {
    "text": "closer look at that if we look into that role it's very similar Dillons customizes a little bit but",
    "start": "4551710",
    "end": "4558040"
  },
  {
    "text": "again let's see it's got that tasks file he doesn't actually have templates he's not using templates here he inlined all",
    "start": "4558040",
    "end": "4564970"
  },
  {
    "text": "the ammo you can look at it yourself if you like but we just have that main Don llamo file and that's really the only",
    "start": "4564970",
    "end": "4570520"
  },
  {
    "text": "thing you need to worry about to get an awful lot of stuff done we can go and",
    "start": "4570520",
    "end": "4576610"
  },
  {
    "text": "look at the defaults let's see this is not sometimes this text editor lags ah",
    "start": "4576610",
    "end": "4587620"
  },
  {
    "text": "here we go memcache D operator roles villain memory",
    "start": "4587620",
    "end": "4592690"
  },
  {
    "text": "defaults may enamel so in the defaults",
    "start": "4592690",
    "end": "4597730"
  },
  {
    "text": "we can set defaults for different things this case we've got a default of size 1 we'll just stick with that and you can",
    "start": "4597730",
    "end": "4603580"
  },
  {
    "text": "see here this is a printout of of what Dylan did and you can see that we're using just Jinja style templating here",
    "start": "4603580",
    "end": "4610330"
  },
  {
    "text": "and where he's referencing so meta name that is the name of the custom resource",
    "start": "4610330",
    "end": "4616300"
  },
  {
    "text": "that you just created so if I had a memcache de resource in a Yemma file and",
    "start": "4616300",
    "end": "4623200"
  },
  {
    "text": "I keep CTO create a shelf that thing this operator is gonna wake up its gonna see that event it's gonna run this code",
    "start": "4623200",
    "end": "4629590"
  },
  {
    "text": "and it's going to use the name of that that CR to be to create the name of this",
    "start": "4629590",
    "end": "4638830"
  },
  {
    "text": "deployment Andy you did the same thing in the namespace so that's pretty cool and finally the size we're using the",
    "start": "4638830",
    "end": "4645130"
  },
  {
    "text": "size also in this template again as Matt was saying this is not a brilliant",
    "start": "4645130",
    "end": "4651520"
  },
  {
    "text": "operator in fact this is kind of a silly operator why would you do this we're just reimplemented sort of what a",
    "start": "4651520",
    "end": "4657280"
  },
  {
    "text": "deployment already can do but this is the pattern it's academic and you can see how you could add logic onto this to",
    "start": "4657280",
    "end": "4665530"
  },
  {
    "text": "do more advanced things like upgrade logic fixing things when they're broken",
    "start": "4665530",
    "end": "4671580"
  },
  {
    "text": "any kind of custom logic that has to happen when you scale up and down some things like Etsy D you can't just start",
    "start": "4671580",
    "end": "4678310"
  },
  {
    "text": "up new that CD processes and expect that to work there's a whole workflow of introducing new nodes into a net CD",
    "start": "4678310",
    "end": "4684850"
  },
  {
    "text": "cluster for example many other databases have the same kind of thing so you can imagine how you would add that extra",
    "start": "4684850",
    "end": "4689890"
  },
  {
    "text": "kind of logic to your ansible role okay we do need to correct our watches file",
    "start": "4689890",
    "end": "4697030"
  },
  {
    "text": "because that role is in a different file path now we just need to change this the",
    "start": "4697030",
    "end": "4703300"
  },
  {
    "text": "path on disk to that role and by the way",
    "start": "4703300",
    "end": "4708840"
  },
  {
    "text": "what this is that's the path on disk inside to the container image for your",
    "start": "4708840",
    "end": "4715930"
  },
  {
    "text": "operator when you build your operators image you've got a docker file for your",
    "start": "4715930",
    "end": "4721150"
  },
  {
    "text": "operator you're gonna put your role somewhere and it's got to be wherever this thinks it is so you just gotta make",
    "start": "4721150",
    "end": "4728590"
  },
  {
    "text": "that match alright let's press forward it's time to deploy this thing all right",
    "start": "4728590",
    "end": "4734080"
  },
  {
    "text": "OC did we cover what OC is great OC is just like cube CTO",
    "start": "4734080",
    "end": "4741510"
  },
  {
    "text": "okay we created our CRD great so we've",
    "start": "4742290",
    "end": "4748480"
  },
  {
    "text": "extended the kubernetes api what a miracle that is by the way how many systems do you know that let you just",
    "start": "4748480",
    "end": "4753730"
  },
  {
    "text": "extend their api with your own things they're really empowered and it enables so much it's a great feature okay we are",
    "start": "4753730",
    "end": "4761320"
  },
  {
    "text": "building our operator we're in the extracting phase okay we have built the",
    "start": "4761320",
    "end": "4768910"
  },
  {
    "text": "operator now we needed to just hand wave a little bit we're gonna tell you have",
    "start": "4768910",
    "end": "4777310"
  },
  {
    "text": "to choose a name for your your operator image right your container image the sdk doesn't know it can't read your mind and",
    "start": "4777310",
    "end": "4784240"
  },
  {
    "text": "know is this gonna be on docker hub is it gonna be on quay is it gonna be in your own registry is gonna be somewhere",
    "start": "4784240",
    "end": "4789880"
  },
  {
    "text": "else so you have to pick when you build when you run that build command where you're gonna host like what's the full",
    "start": "4789880",
    "end": "4796750"
  },
  {
    "text": "reference to your image gonna be so we just need to put that here in our deploy manifest",
    "start": "4796750",
    "end": "4801820"
  },
  {
    "text": "operator that's all we're doing here and we'll change the the poll policy just to",
    "start": "4801820",
    "end": "4808000"
  },
  {
    "text": "help with the demo all right new project we know what new project does we did that in in the last exercise",
    "start": "4808000",
    "end": "4814030"
  },
  {
    "text": "that creates basically namespace for us with some other features around it service account role role binding all",
    "start": "4814030",
    "end": "4822730"
  },
  {
    "text": "very critical things for your operator by the way notice that operator seek a",
    "start": "4822730",
    "end": "4828660"
  },
  {
    "text": "scaffolded those things out for you and they're already ready to go with with defaults that get you started we don't",
    "start": "4828660",
    "end": "4836980"
  },
  {
    "text": "have to muck around and there yet with with the our back ok it's time to actually deploy the darn thing and cross",
    "start": "4836980",
    "end": "4844000"
  },
  {
    "text": "our fingers and hope that our operator starts successfully and it looks like it did ok congratulations we just made an",
    "start": "4844000",
    "end": "4851680"
  },
  {
    "text": "operator thank you thank you very much",
    "start": "4851680",
    "end": "4858150"
  },
  {
    "text": "ok rising forward let's actually use the darn thing and and just see it in action",
    "start": "4858150",
    "end": "4863620"
  },
  {
    "text": "so we have a custom resource here it's the kind is memcache D like we were",
    "start": "4863620",
    "end": "4869260"
  },
  {
    "text": "looking at earlier just this is the ansible implementation of that we can go",
    "start": "4869260",
    "end": "4874810"
  },
  {
    "text": "look at that file this one yes it is ok",
    "start": "4874810",
    "end": "4885280"
  },
  {
    "text": "so by default we have a size of 3 here and this is our memcache D resource let's uh let's just change it to two cuz",
    "start": "4885280",
    "end": "4892810"
  },
  {
    "text": "why not and let's create that CR and see",
    "start": "4892810",
    "end": "4900730"
  },
  {
    "text": "what happens ok now hopefully just now we created that CR our ansible operator is running so",
    "start": "4900730",
    "end": "4907900"
  },
  {
    "text": "that go biner that we created for you it was already watching memcache de resources it saw the event it noticed",
    "start": "4907900",
    "end": "4914950"
  },
  {
    "text": "the group version kind of the resource that the event was associated with it looked in that watches file that mapping",
    "start": "4914950",
    "end": "4921400"
  },
  {
    "text": "file and said okay I know what role to run and it ran that role and it injected",
    "start": "4921400",
    "end": "4927070"
  },
  {
    "text": "the entire CR all the concepts of the CR as input when it ran ansible with that role and when in that role",
    "start": "4927070",
    "end": "4935470"
  },
  {
    "text": "and as we saw in that role it should have deployed or should have created a",
    "start": "4935470",
    "end": "4940480"
  },
  {
    "text": "deployment and it did we have our example memcache D memcache D we have to",
    "start": "4940480",
    "end": "4946330"
  },
  {
    "text": "find a better name for that deployment running there are desired two pods there",
    "start": "4946330",
    "end": "4951940"
  },
  {
    "text": "are currently two pods they're available life is beautiful this thing works I",
    "start": "4951940",
    "end": "4957160"
  },
  {
    "text": "love it when a plan comes together okay we can come here we can change the",
    "start": "4957160",
    "end": "4964300"
  },
  {
    "text": "size I don't say five week a notice the",
    "start": "4964300",
    "end": "4970270"
  },
  {
    "text": "apply",
    "start": "4970270",
    "end": "4972570"
  },
  {
    "text": "we can give it a moment there we are we've got five only two are available but there's five pods okay now they're",
    "start": "4977410",
    "end": "4984520"
  },
  {
    "text": "all available so it's that easy we've taken ansible we've taken very simple",
    "start": "4984520",
    "end": "4991330"
  },
  {
    "text": "ansible code we've made it kubernetes native as they say and a big part of being kubernetes native is plugging into",
    "start": "4991330",
    "end": "4998350"
  },
  {
    "text": "the crew Bernays api so there is now a custom API in this cluster representing",
    "start": "4998350",
    "end": "5003930"
  },
  {
    "text": "memcache D and plugged into that we're plumbing all the way from that API we're",
    "start": "5003930",
    "end": "5009300"
  },
  {
    "text": "calling an ansible and we've exposed this Angela code through that yes sir",
    "start": "5009300",
    "end": "5014780"
  },
  {
    "text": "oh we we could I'm I'm trying to type",
    "start": "5018750",
    "end": "5025770"
  },
  {
    "text": "one-handed so I'm not gonna but yes we could and I would encourage you to run this this exercising you get home and",
    "start": "5025770",
    "end": "5032400"
  },
  {
    "text": "give that a try but it absolutely would if any outside actor comes and changes",
    "start": "5032400",
    "end": "5038730"
  },
  {
    "text": "this deployment that's going to generate an event and that will it'll notice that event I mean that's that is literally",
    "start": "5038730",
    "end": "5045300"
  },
  {
    "text": "actually what we just did I guess on the CR but just like it's watching this er it's also watching the deployment that",
    "start": "5045300",
    "end": "5050880"
  },
  {
    "text": "would kick off an event and fix whatever somebody had head screwed around with",
    "start": "5050880",
    "end": "5057560"
  },
  {
    "text": "okay look we've got the memcache D resource let's just look at the status real quick so like I said it's a generic",
    "start": "5059060",
    "end": "5065700"
  },
  {
    "text": "status but it shows that the last time this ran nothing changed two things were",
    "start": "5065700",
    "end": "5071330"
  },
  {
    "text": "okay these are ansible tasks and by the way ansible code typically is a series",
    "start": "5071330",
    "end": "5078660"
  },
  {
    "text": "of tasks in traditional ansible it's often you know a role to like deploy a",
    "start": "5078660",
    "end": "5084570"
  },
  {
    "text": "service on like a physical blending so you might start by you know ensure these",
    "start": "5084570",
    "end": "5092460"
  },
  {
    "text": "rpms or Debian packages are present ensure that these ports are open on the",
    "start": "5092460",
    "end": "5097590"
  },
  {
    "text": "firewall ensure that some config file exists in the right place create a system D unit file enable that system to",
    "start": "5097590",
    "end": "5105060"
  },
  {
    "text": "unify all those kind of things each one of those is a task going down your gamma file and here we're doing the exact same",
    "start": "5105060",
    "end": "5111240"
  },
  {
    "text": "with an tobacco we had two of those tasks apparently in here and they both",
    "start": "5111240",
    "end": "5116910"
  },
  {
    "text": "ran neither them changed anything neither them failed so overall pretty boring run there of Anton",
    "start": "5116910",
    "end": "5126440"
  },
  {
    "text": "now what if all right I'm gonna put the mic down for 10 seconds be right back",
    "start": "5126440",
    "end": "5134630"
  },
  {
    "text": "is it on there are oh great okay thank you Thanks okay as you get deployments we're back I",
    "start": "5169320",
    "end": "5175350"
  },
  {
    "text": "think it already fixed it so I scaled it done too we can look at the pods and",
    "start": "5175350",
    "end": "5181200"
  },
  {
    "text": "probably see this summer are much newer yeah see these are only three of them are only 15 seconds old so there you go",
    "start": "5181200",
    "end": "5186840"
  },
  {
    "text": "scale down and the thing went right back up and did it yeah so if your intern",
    "start": "5186840",
    "end": "5192480"
  },
  {
    "text": "gets in there and starts messing the stuff they shouldn't mess with your Angela based operator has your back and",
    "start": "5192480",
    "end": "5198230"
  },
  {
    "text": "just like that we can also delete this thing get the pods so we deleted the CR",
    "start": "5198230",
    "end": "5205260"
  },
  {
    "text": "and it's uh did I loops I deleted the ability the operator instead oh well I",
    "start": "5205260",
    "end": "5213110"
  },
  {
    "text": "think we've made the point the next part of this exercise we're not going to go",
    "start": "5213110",
    "end": "5218610"
  },
  {
    "text": "through right now but you can go through on your own is a way to run your operator locally when you're developing",
    "start": "5218610",
    "end": "5226170"
  },
  {
    "text": "and iterating on your operator whether it's go or anta below it slows you down",
    "start": "5226170",
    "end": "5231870"
  },
  {
    "text": "if you've got to build a new image and push the image of registry and then wait for your cluster to pull that image and",
    "start": "5231870",
    "end": "5238530"
  },
  {
    "text": "deploy that in a in a pod so the operators ticket is a run local commit",
    "start": "5238530",
    "end": "5243870"
  },
  {
    "text": "or up local command that you can use to run the operator like locally on your laptop and you can get very very quick",
    "start": "5243870",
    "end": "5251220"
  },
  {
    "text": "feedback cycles that way and so the rest of this exercise just goes through that now when you get home",
    "start": "5251220",
    "end": "5258180"
  },
  {
    "text": "this weekend if you're just so excited about the this whole week you just gotta make yourself an operator you can do",
    "start": "5258180",
    "end": "5265050"
  },
  {
    "text": "that just go to learn openshift comm without the training part on the URL and",
    "start": "5265050",
    "end": "5271500"
  },
  {
    "text": "all these exercises are there it's not there's not enough capacity there for 400 of your best friends to do it with",
    "start": "5271500",
    "end": "5277950"
  },
  {
    "text": "you so that's not why we didn't use it today but you can individually do that anytime you want there's no signup",
    "start": "5277950",
    "end": "5283320"
  },
  {
    "text": "there's no information collected it's just totally free and open anybody can do it thank you yep",
    "start": "5283320",
    "end": "5291590"
  },
  {
    "text": "lots of other operator exercises on there so go learn we're gonna stick",
    "start": "5291590",
    "end": "5297690"
  },
  {
    "text": "around I think they might kick us out of here so we might just move right out there but come ask us all your questions we're here",
    "start": "5297690",
    "end": "5303100"
  },
  {
    "text": "you thank you for coming [Applause]",
    "start": "5303100",
    "end": "5310550"
  }
]