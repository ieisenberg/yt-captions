[
  {
    "text": "hello everyone thank you for coming to",
    "start": "520",
    "end": "2720"
  },
  {
    "text": "my session I am di Alias Dixie and I",
    "start": "2720",
    "end": "6120"
  },
  {
    "text": "work for Google um my co-speaker who",
    "start": "6120",
    "end": "9080"
  },
  {
    "text": "unfortunately couldn't make it to the",
    "start": "9080",
    "end": "10679"
  },
  {
    "text": "conference because of personal reasons",
    "start": "10679",
    "end": "12360"
  },
  {
    "text": "is anti-an and he works for Intel so",
    "start": "12360",
    "end": "16680"
  },
  {
    "text": "this talk is about uh Advanced memory",
    "start": "16680",
    "end": "19400"
  },
  {
    "text": "management techniques uh and memory Qs",
    "start": "19400",
    "end": "22199"
  },
  {
    "text": "and uh some of the NRI plugins that you",
    "start": "22199",
    "end": "25039"
  },
  {
    "text": "can use for managing the",
    "start": "25039",
    "end": "27560"
  },
  {
    "text": "memory what is memory Qs so memory Qs",
    "start": "27560",
    "end": "31199"
  },
  {
    "text": "feature is currently in Alpha it's",
    "start": "31199",
    "end": "33200"
  },
  {
    "text": "actually Alpha since",
    "start": "33200",
    "end": "34680"
  },
  {
    "text": "127 and with cgroups V2 exposing new",
    "start": "34680",
    "end": "37840"
  },
  {
    "text": "memory controllers uh like memory. high",
    "start": "37840",
    "end": "40640"
  },
  {
    "text": "and memory. Min we thought maybe we",
    "start": "40640",
    "end": "43239"
  },
  {
    "text": "could configure uh these values to",
    "start": "43239",
    "end": "45559"
  },
  {
    "text": "provide better memory",
    "start": "45559",
    "end": "47039"
  },
  {
    "text": "guarantees and um memory. Min basically",
    "start": "47039",
    "end": "51039"
  },
  {
    "text": "we wanted to map that to the requested",
    "start": "51039",
    "end": "53039"
  },
  {
    "text": "memory and wanted to use memory. high",
    "start": "53039",
    "end": "55520"
  },
  {
    "text": "for throttling the workloads so that uh",
    "start": "55520",
    "end": "57600"
  },
  {
    "text": "kernel has enough chances to reclaim the",
    "start": "57600",
    "end": "59440"
  },
  {
    "text": "memory before uh the container the",
    "start": "59440",
    "end": "62199"
  },
  {
    "text": "containers reach the uh maximum limit so",
    "start": "62199",
    "end": "65760"
  },
  {
    "text": "all of this sounded very promising",
    "start": "65760",
    "end": "67640"
  },
  {
    "text": "theoretically but when we actually",
    "start": "67640",
    "end": "69880"
  },
  {
    "text": "performed the test um we figured that",
    "start": "69880",
    "end": "73040"
  },
  {
    "text": "our comprehension of memory. high did",
    "start": "73040",
    "end": "76119"
  },
  {
    "text": "not align with the recommended",
    "start": "76119",
    "end": "77960"
  },
  {
    "text": "guidelines and before we delve into um",
    "start": "77960",
    "end": "81320"
  },
  {
    "text": "what went wrong what are the key",
    "start": "81320",
    "end": "82759"
  },
  {
    "text": "takeaways and our learnings from working",
    "start": "82759",
    "end": "84479"
  },
  {
    "text": "on memory Qs Pro uh feature I would like",
    "start": "84479",
    "end": "87759"
  },
  {
    "text": "to do a quick refresher on groups and",
    "start": "87759",
    "end": "90759"
  },
  {
    "text": "what happens when you uh create a pod",
    "start": "90759",
    "end": "92840"
  },
  {
    "text": "using podspec in",
    "start": "92840",
    "end": "95360"
  },
  {
    "text": "kubernetes so what are c groups c groups",
    "start": "95360",
    "end": "98560"
  },
  {
    "text": "are basically a mechanism that uh allows",
    "start": "98560",
    "end": "101560"
  },
  {
    "text": "the processes to be uh organized",
    "start": "101560",
    "end": "104159"
  },
  {
    "text": "hierarchically and the resources to be",
    "start": "104159",
    "end": "106320"
  },
  {
    "text": "distributed um hierarchically as well",
    "start": "106320",
    "end": "108600"
  },
  {
    "text": "and in a controlled manner uh and also",
    "start": "108600",
    "end": "110640"
  },
  {
    "text": "in a configurable manner so c groups uh",
    "start": "110640",
    "end": "113960"
  },
  {
    "text": "have two components one is the core and",
    "start": "113960",
    "end": "116240"
  },
  {
    "text": "the other one is the controllers so core",
    "start": "116240",
    "end": "119119"
  },
  {
    "text": "uh takes the responsibility of",
    "start": "119119",
    "end": "120960"
  },
  {
    "text": "organizing the processes hierarchically",
    "start": "120960",
    "end": "123360"
  },
  {
    "text": "and the controllers take the",
    "start": "123360",
    "end": "124479"
  },
  {
    "text": "responsibility of Distributing the",
    "start": "124479",
    "end": "126000"
  },
  {
    "text": "resources across those processes in a",
    "start": "126000",
    "end": "128160"
  },
  {
    "text": "controlled manner so this is what a",
    "start": "128160",
    "end": "130800"
  },
  {
    "text": "general uh kubernetes node would look",
    "start": "130800",
    "end": "132760"
  },
  {
    "text": "like that has cgroups V2 configured it",
    "start": "132760",
    "end": "135280"
  },
  {
    "text": "will have uh these three slices one is",
    "start": "135280",
    "end": "137440"
  },
  {
    "text": "the cod slice one is system slice and",
    "start": "137440",
    "end": "140040"
  },
  {
    "text": "the other one is user slice system slice",
    "start": "140040",
    "end": "142480"
  },
  {
    "text": "will have uh all the configuration",
    "start": "142480",
    "end": "144760"
  },
  {
    "text": "corresponding to the system services",
    "start": "144760",
    "end": "146560"
  },
  {
    "text": "like container D cuet Etc and and cod.",
    "start": "146560",
    "end": "150879"
  },
  {
    "text": "slice will then have U cgroup files",
    "start": "150879",
    "end": "153920"
  },
  {
    "text": "basically the slices for each Qs classes",
    "start": "153920",
    "end": "156360"
  },
  {
    "text": "that the kubernetes support so when you",
    "start": "156360",
    "end": "159000"
  },
  {
    "text": "create a pod uh cuet takes care of uh",
    "start": "159000",
    "end": "162280"
  },
  {
    "text": "creating the C group for the Pod and it",
    "start": "162280",
    "end": "164840"
  },
  {
    "text": "places those files inside the Qs uh to",
    "start": "164840",
    "end": "168080"
  },
  {
    "text": "which inside the Qs directory to uh",
    "start": "168080",
    "end": "170440"
  },
  {
    "text": "which the Pod belongs say best effort",
    "start": "170440",
    "end": "172720"
  },
  {
    "text": "guaranteed or uh",
    "start": "172720",
    "end": "174800"
  },
  {
    "text": "burstable the path of the Pod C group is",
    "start": "174800",
    "end": "178000"
  },
  {
    "text": "then passed to The Container runtime",
    "start": "178000",
    "end": "180280"
  },
  {
    "text": "which takes care of creating the c",
    "start": "180280",
    "end": "182440"
  },
  {
    "text": "groups for the containers and also",
    "start": "182440",
    "end": "184280"
  },
  {
    "text": "manage manages them so this is what the",
    "start": "184280",
    "end": "187159"
  },
  {
    "text": "workflow would look like when you create",
    "start": "187159",
    "end": "188959"
  },
  {
    "text": "a pod it's passed on to the cuet which",
    "start": "188959",
    "end": "191680"
  },
  {
    "text": "takes some of the parameters from it",
    "start": "191680",
    "end": "193519"
  },
  {
    "text": "some of the resource related parameters",
    "start": "193519",
    "end": "195120"
  },
  {
    "text": "and passes on those parameters to The",
    "start": "195120",
    "end": "197200"
  },
  {
    "text": "Container runtime um using the protocol",
    "start": "197200",
    "end": "200879"
  },
  {
    "text": "CRI grpc protocol and then the container",
    "start": "200879",
    "end": "203920"
  },
  {
    "text": "runtime passes on that information to",
    "start": "203920",
    "end": "205799"
  },
  {
    "text": "the underlying container runtime shim",
    "start": "205799",
    "end": "208360"
  },
  {
    "text": "and that passes on the information",
    "start": "208360",
    "end": "210319"
  },
  {
    "text": "to the underlying uh container",
    "start": "210319",
    "end": "212599"
  },
  {
    "text": "underlying lowlevel container runtime",
    "start": "212599",
    "end": "214480"
  },
  {
    "text": "like runy which is actually responsible",
    "start": "214480",
    "end": "217080"
  },
  {
    "text": "for uh creating the containers and also",
    "start": "217080",
    "end": "219640"
  },
  {
    "text": "configuring uh the resource values for",
    "start": "219640",
    "end": "222560"
  },
  {
    "text": "them so if this is what your ppec looks",
    "start": "222560",
    "end": "225640"
  },
  {
    "text": "like uh and you have the requests and",
    "start": "225640",
    "end": "227840"
  },
  {
    "text": "the limits configured so Schuler takes",
    "start": "227840",
    "end": "230640"
  },
  {
    "text": "Schuler uses the CPU request from here",
    "start": "230640",
    "end": "233239"
  },
  {
    "text": "and finds a port that would uh fit in",
    "start": "233239",
    "end": "236000"
  },
  {
    "text": "and is able to uh run your workload the",
    "start": "236000",
    "end": "238959"
  },
  {
    "text": "container run time then Maps so this",
    "start": "238959",
    "end": "241239"
  },
  {
    "text": "information is passed from cuet to",
    "start": "241239",
    "end": "242799"
  },
  {
    "text": "container runtime and container runtime",
    "start": "242799",
    "end": "245079"
  },
  {
    "text": "Maps the requested CPU to uh CPU weight",
    "start": "245079",
    "end": "247840"
  },
  {
    "text": "cgroup parameter and if you also have",
    "start": "247840",
    "end": "250480"
  },
  {
    "text": "limits specified scheduler completely",
    "start": "250480",
    "end": "252599"
  },
  {
    "text": "ignores the CPU limits but the container",
    "start": "252599",
    "end": "255640"
  },
  {
    "text": "runtime Maps the limits to CPU",
    "start": "255640",
    "end": "258840"
  },
  {
    "text": "Max moving on to the memory request and",
    "start": "258840",
    "end": "261720"
  },
  {
    "text": "limit um the cubern Schuler uses the",
    "start": "261720",
    "end": "264840"
  },
  {
    "text": "request again just like it uses CPU",
    "start": "264840",
    "end": "267080"
  },
  {
    "text": "request to find a port that would be",
    "start": "267080",
    "end": "269160"
  },
  {
    "text": "able to on your workload but here",
    "start": "269160",
    "end": "271680"
  },
  {
    "text": "container runtime ignores the uh",
    "start": "271680",
    "end": "273840"
  },
  {
    "text": "requested memory value so we saw that",
    "start": "273840",
    "end": "277360"
  },
  {
    "text": "there might be an opportunity to provide",
    "start": "277360",
    "end": "279320"
  },
  {
    "text": "better memory guarantees with the cgroup",
    "start": "279320",
    "end": "281320"
  },
  {
    "text": "V2 controllers like memory do Min if we",
    "start": "281320",
    "end": "283919"
  },
  {
    "text": "are able to map the requested memory",
    "start": "283919",
    "end": "285880"
  },
  {
    "text": "with",
    "start": "285880",
    "end": "286800"
  },
  {
    "text": "that uh and for the memory limits",
    "start": "286800",
    "end": "289479"
  },
  {
    "text": "scheduler ignores the memory limits and",
    "start": "289479",
    "end": "291680"
  },
  {
    "text": "container runtime Maps the limits to the",
    "start": "291680",
    "end": "293919"
  },
  {
    "text": "memory",
    "start": "293919",
    "end": "295120"
  },
  {
    "text": "Max so moving on to the particular uh",
    "start": "295120",
    "end": "298560"
  },
  {
    "text": "cgroup V2 memory knobs that we explored",
    "start": "298560",
    "end": "301240"
  },
  {
    "text": "in memory Qs so memory. max which is",
    "start": "301240",
    "end": "304840"
  },
  {
    "text": "similar to um memory. liit do limit and",
    "start": "304840",
    "end": "307960"
  },
  {
    "text": "bytes in cgroup E1 this can be used to",
    "start": "307960",
    "end": "310720"
  },
  {
    "text": "specify uh the maximum amount of memory",
    "start": "310720",
    "end": "314080"
  },
  {
    "text": "uh Beyond which uh you would want the OM",
    "start": "314080",
    "end": "316479"
  },
  {
    "text": "killer to be triggered so when the usage",
    "start": "316479",
    "end": "318680"
  },
  {
    "text": "just goes beyond this me uh this level",
    "start": "318680",
    "end": "320720"
  },
  {
    "text": "the OM killer will be",
    "start": "320720",
    "end": "322120"
  },
  {
    "text": "triggered and the new controller memory",
    "start": "322120",
    "end": "325160"
  },
  {
    "text": "dommin which we explored um as a part of",
    "start": "325160",
    "end": "327759"
  },
  {
    "text": "memory Qs we wanted to map uh the",
    "start": "327759",
    "end": "330120"
  },
  {
    "text": "requested memory to memory. Min to make",
    "start": "330120",
    "end": "333759"
  },
  {
    "text": "sure that uh whatever the memory is",
    "start": "333759",
    "end": "336600"
  },
  {
    "text": "requested in the Pod is always available",
    "start": "336600",
    "end": "338400"
  },
  {
    "text": "for the PO to run and also from the",
    "start": "338400",
    "end": "341080"
  },
  {
    "text": "kernel docs um it said that uh this is",
    "start": "341080",
    "end": "343919"
  },
  {
    "text": "the hard memory protection and if the",
    "start": "343919",
    "end": "346800"
  },
  {
    "text": "usage is below memory do men values the",
    "start": "346800",
    "end": "350400"
  },
  {
    "text": "the memory won't be reclaimed in any",
    "start": "350400",
    "end": "352520"
  },
  {
    "text": "conditions the next controller that we",
    "start": "352520",
    "end": "354680"
  },
  {
    "text": "explored as a part of memory Qs is",
    "start": "354680",
    "end": "356680"
  },
  {
    "text": "memory high so as per the colel",
    "start": "356680",
    "end": "358880"
  },
  {
    "text": "documentation it set if you set memory",
    "start": "358880",
    "end": "361400"
  },
  {
    "text": "do high for a process and if your if the",
    "start": "361400",
    "end": "364639"
  },
  {
    "text": "memory usage reaches memory do high the",
    "start": "364639",
    "end": "367680"
  },
  {
    "text": "memory will be throttle beyond that",
    "start": "367680",
    "end": "369319"
  },
  {
    "text": "point and so we thought maybe this is",
    "start": "369319",
    "end": "372400"
  },
  {
    "text": "this is helpful and we will give it will",
    "start": "372400",
    "end": "375120"
  },
  {
    "text": "give conel enough chances to reclaim the",
    "start": "375120",
    "end": "377039"
  },
  {
    "text": "memory before it eventually gets o",
    "start": "377039",
    "end": "379199"
  },
  {
    "text": "killed so this sounded like a happy",
    "start": "379199",
    "end": "381080"
  },
  {
    "text": "picture we have founded we have found",
    "start": "381080",
    "end": "382919"
  },
  {
    "text": "the uh controllers that can help us",
    "start": "382919",
    "end": "385120"
  },
  {
    "text": "guarantee uh better",
    "start": "385120",
    "end": "387800"
  },
  {
    "text": "memory and we also explored memory.",
    "start": "387800",
    "end": "390639"
  },
  {
    "text": "events so this is just a readable file",
    "start": "390639",
    "end": "392919"
  },
  {
    "text": "that keeps track of how many uh number",
    "start": "392919",
    "end": "395319"
  },
  {
    "text": "of times uh om kill was triggered and",
    "start": "395319",
    "end": "397840"
  },
  {
    "text": "how many number of times memory do high",
    "start": "397840",
    "end": "399960"
  },
  {
    "text": "was reached or how many times uh the",
    "start": "399960",
    "end": "402560"
  },
  {
    "text": "memory was throttled so like I said this",
    "start": "402560",
    "end": "404800"
  },
  {
    "text": "sounded like a happy picture but it was",
    "start": "404800",
    "end": "407080"
  },
  {
    "text": "only when we started experimenting with",
    "start": "407080",
    "end": "409599"
  },
  {
    "text": "these values that we found out um our",
    "start": "409599",
    "end": "412840"
  },
  {
    "text": "interpretation of these controllers was",
    "start": "412840",
    "end": "415800"
  },
  {
    "text": "wrong so what are the possible side",
    "start": "415800",
    "end": "418240"
  },
  {
    "text": "effects of mapping of setting memory do",
    "start": "418240",
    "end": "420960"
  },
  {
    "text": "men in our use case so if there are",
    "start": "420960",
    "end": "424720"
  },
  {
    "text": "processes that are actually using lesser",
    "start": "424720",
    "end": "427400"
  },
  {
    "text": "memory than the requested memory setting",
    "start": "427400",
    "end": "430680"
  },
  {
    "text": "memory. Min uh would actually Reserve",
    "start": "430680",
    "end": "433800"
  },
  {
    "text": "extra memory and it won't be usable by",
    "start": "433800",
    "end": "436960"
  },
  {
    "text": "other processes so this can trigger this",
    "start": "436960",
    "end": "439360"
  },
  {
    "text": "can lead to more o kills as the memory",
    "start": "439360",
    "end": "442000"
  },
  {
    "text": "becomes unreclaimed in each C group and",
    "start": "442000",
    "end": "445000"
  },
  {
    "text": "when the system is under memory pressure",
    "start": "445000",
    "end": "447160"
  },
  {
    "text": "this amount of memory uh reserved in",
    "start": "447160",
    "end": "449400"
  },
  {
    "text": "each C group cannot be uh reclaimed and",
    "start": "449400",
    "end": "452319"
  },
  {
    "text": "O killer is involved I want to walk over",
    "start": "452319",
    "end": "455440"
  },
  {
    "text": "this hypothetical example to explain",
    "start": "455440",
    "end": "457680"
  },
  {
    "text": "that um just assume that uh this node",
    "start": "457680",
    "end": "461080"
  },
  {
    "text": "doesn't Reserve doesn't require any",
    "start": "461080",
    "end": "463080"
  },
  {
    "text": "memory reservation to run system or",
    "start": "463080",
    "end": "464919"
  },
  {
    "text": "kubernetes uh workloads so say this node",
    "start": "464919",
    "end": "468080"
  },
  {
    "text": "has 1 GB of memory and there is a",
    "start": "468080",
    "end": "470360"
  },
  {
    "text": "container one that requests 500 uh MB of",
    "start": "470360",
    "end": "473919"
  },
  {
    "text": "memory and its usage is below the set",
    "start": "473919",
    "end": "477680"
  },
  {
    "text": "value below the minimum uh requested",
    "start": "477680",
    "end": "480039"
  },
  {
    "text": "value say 300 MB and then there is",
    "start": "480039",
    "end": "482599"
  },
  {
    "text": "another container which requests 500 MB",
    "start": "482599",
    "end": "485400"
  },
  {
    "text": "again and at a certain point of time its",
    "start": "485400",
    "end": "487919"
  },
  {
    "text": "usage bumps up from 500 MB to 600 MB so",
    "start": "487919",
    "end": "492199"
  },
  {
    "text": "at this point of time container One is",
    "start": "492199",
    "end": "494039"
  },
  {
    "text": "using 300 MB container 2 is using 600 MB",
    "start": "494039",
    "end": "497720"
  },
  {
    "text": "which is still less than 1 GB but um",
    "start": "497720",
    "end": "501240"
  },
  {
    "text": "killer get gets in worked because the",
    "start": "501240",
    "end": "504479"
  },
  {
    "text": "container one reserves the extra 200 MB",
    "start": "504479",
    "end": "507599"
  },
  {
    "text": "of memory which it is not even using but",
    "start": "507599",
    "end": "510080"
  },
  {
    "text": "it just reserves it and it it seems like",
    "start": "510080",
    "end": "514279"
  },
  {
    "text": "there is just no um memory available for",
    "start": "514279",
    "end": "517320"
  },
  {
    "text": "container container two to uh to reach",
    "start": "517320",
    "end": "521000"
  },
  {
    "text": "the 600 MB memory usage so at least for",
    "start": "521000",
    "end": "524720"
  },
  {
    "text": "our use case my my takeaway is that uh",
    "start": "524720",
    "end": "528240"
  },
  {
    "text": "it might be a little aggressive to set",
    "start": "528240",
    "end": "530000"
  },
  {
    "text": "memory doin and it could lead to more o",
    "start": "530000",
    "end": "532320"
  },
  {
    "text": "kills if the user is not responsible in",
    "start": "532320",
    "end": "535080"
  },
  {
    "text": "setting the requested memory value which",
    "start": "535080",
    "end": "537120"
  },
  {
    "text": "is more or less a likely case",
    "start": "537120",
    "end": "540839"
  },
  {
    "text": "now what are the possible side effects",
    "start": "540839",
    "end": "542959"
  },
  {
    "text": "of setting memory. high so like I said",
    "start": "542959",
    "end": "545600"
  },
  {
    "text": "memory do high can be used to throttle",
    "start": "545600",
    "end": "548040"
  },
  {
    "text": "the memory once the usage reaches that",
    "start": "548040",
    "end": "550720"
  },
  {
    "text": "level and beyond that uh once it is",
    "start": "550720",
    "end": "554519"
  },
  {
    "text": "throttled um the kernel reclaim uh",
    "start": "554519",
    "end": "556920"
  },
  {
    "text": "triggers the reclaims so what we",
    "start": "556920",
    "end": "559440"
  },
  {
    "text": "observed was uh say for example there is",
    "start": "559440",
    "end": "562600"
  },
  {
    "text": "a process that consumes all the memory",
    "start": "562600",
    "end": "565440"
  },
  {
    "text": "that was uh recovered during the reclaim",
    "start": "565440",
    "end": "568240"
  },
  {
    "text": "what can happen is it can just stay in a",
    "start": "568240",
    "end": "570320"
  },
  {
    "text": "deadlock like the process is consuming",
    "start": "570320",
    "end": "572760"
  },
  {
    "text": "the memory it triggers uh the reclaim it",
    "start": "572760",
    "end": "575120"
  },
  {
    "text": "reaches the memory do high and then",
    "start": "575120",
    "end": "576920"
  },
  {
    "text": "again um it consumes the recovered",
    "start": "576920",
    "end": "579320"
  },
  {
    "text": "memory and then again it just stays in",
    "start": "579320",
    "end": "581839"
  },
  {
    "text": "that",
    "start": "581839",
    "end": "583160"
  },
  {
    "text": "Loop so the process will be stuck",
    "start": "583160",
    "end": "585440"
  },
  {
    "text": "indefinitely in this case this is when",
    "start": "585440",
    "end": "588440"
  },
  {
    "text": "uh we reached out to some uh colel folks",
    "start": "588440",
    "end": "590640"
  },
  {
    "text": "around and got their feedback uh to",
    "start": "590640",
    "end": "593519"
  },
  {
    "text": "understand what memory. high basically",
    "start": "593519",
    "end": "595399"
  },
  {
    "text": "can be used for so they recommended that",
    "start": "595399",
    "end": "598240"
  },
  {
    "text": "memory. high I should be used in a",
    "start": "598240",
    "end": "600839"
  },
  {
    "text": "feedback loop where there is an external",
    "start": "600839",
    "end": "603160"
  },
  {
    "text": "process that is uh trying to alleviate",
    "start": "603160",
    "end": "606480"
  },
  {
    "text": "the uh me heavy memory reclaim pressure",
    "start": "606480",
    "end": "609040"
  },
  {
    "text": "that is triggered when memory do high",
    "start": "609040",
    "end": "611040"
  },
  {
    "text": "levels are",
    "start": "611040",
    "end": "612360"
  },
  {
    "text": "reached so it didn't fit the use case as",
    "start": "612360",
    "end": "615519"
  },
  {
    "text": "well and we had to unfortunately uh",
    "start": "615519",
    "end": "618920"
  },
  {
    "text": "stall the efforts uh to promote the",
    "start": "618920",
    "end": "620839"
  },
  {
    "text": "feature to Beta I want to show uh give a",
    "start": "620839",
    "end": "623600"
  },
  {
    "text": "demo of um how that live lock scenario",
    "start": "623600",
    "end": "626519"
  },
  {
    "text": "looks",
    "start": "626519",
    "end": "628040"
  },
  {
    "text": "like",
    "start": "628040",
    "end": "631040"
  },
  {
    "text": "so say this is uh this is a PO spec uh",
    "start": "631600",
    "end": "635279"
  },
  {
    "text": "that I have in this uh there is a python",
    "start": "635279",
    "end": "638200"
  },
  {
    "text": "command line uh that runs the script it",
    "start": "638200",
    "end": "641079"
  },
  {
    "text": "basically tries to allocate almost 1",
    "start": "641079",
    "end": "643959"
  },
  {
    "text": "Megabyte of memory in every run and then",
    "start": "643959",
    "end": "646240"
  },
  {
    "text": "sleeps for 3 seconds after that the",
    "start": "646240",
    "end": "648959"
  },
  {
    "text": "request and the memory limits are set",
    "start": "648959",
    "end": "651560"
  },
  {
    "text": "the requested memory is uh 10 MB and the",
    "start": "651560",
    "end": "654920"
  },
  {
    "text": "limits are 20",
    "start": "654920",
    "end": "656639"
  },
  {
    "text": "MB I then go ahead and apply the pod",
    "start": "656639",
    "end": "660360"
  },
  {
    "text": "spec and the Pod is",
    "start": "660360",
    "end": "663360"
  },
  {
    "text": "created we uh get the Pod uid from it",
    "start": "663360",
    "end": "666920"
  },
  {
    "text": "because that's what we can use to uh get",
    "start": "666920",
    "end": "669800"
  },
  {
    "text": "the path of the respective pod C group",
    "start": "669800",
    "end": "672959"
  },
  {
    "text": "so I get the Pod U ID from",
    "start": "672959",
    "end": "676440"
  },
  {
    "text": "here and I continue to watch that part",
    "start": "677760",
    "end": "680639"
  },
  {
    "text": "to see what happens and in the other tab",
    "start": "680639",
    "end": "685240"
  },
  {
    "text": "um I do a cat on basically the C group",
    "start": "685240",
    "end": "689360"
  },
  {
    "text": "that I have configured the memory. high",
    "start": "689360",
    "end": "691360"
  },
  {
    "text": "value that I have configured in this",
    "start": "691360",
    "end": "695000"
  },
  {
    "text": "demo so if you see the memory. high",
    "start": "695079",
    "end": "697560"
  },
  {
    "text": "value that set is 19 almost 19 megabytes",
    "start": "697560",
    "end": "700079"
  },
  {
    "text": "so the the request is 10 the limit is 20",
    "start": "700079",
    "end": "703200"
  },
  {
    "text": "and where we want to throttle is when",
    "start": "703200",
    "end": "705639"
  },
  {
    "text": "the usage reaches 19",
    "start": "705639",
    "end": "709040"
  },
  {
    "text": "megabytes and there is this another file",
    "start": "709240",
    "end": "711600"
  },
  {
    "text": "which we spoke about memory. events",
    "start": "711600",
    "end": "713399"
  },
  {
    "text": "which keeps track of the number of times",
    "start": "713399",
    "end": "715959"
  },
  {
    "text": "um the different events were triggered",
    "start": "715959",
    "end": "720040"
  },
  {
    "text": "now I'm just getting the uh particular",
    "start": "720040",
    "end": "723320"
  },
  {
    "text": "container and watching how the stats uh",
    "start": "723320",
    "end": "727399"
  },
  {
    "text": "look like for this",
    "start": "727399",
    "end": "730160"
  },
  {
    "text": "container so right now the usage is 10",
    "start": "730440",
    "end": "732959"
  },
  {
    "text": "MBT which is fine and it just continues",
    "start": "732959",
    "end": "736560"
  },
  {
    "text": "to make progress and I'm also printing",
    "start": "736560",
    "end": "738959"
  },
  {
    "text": "the logs in the other tab from the",
    "start": "738959",
    "end": "740600"
  },
  {
    "text": "container it says that it's still it's",
    "start": "740600",
    "end": "743920"
  },
  {
    "text": "still progressing it's allocating",
    "start": "743920",
    "end": "747240"
  },
  {
    "text": "memory and it continu new but when the",
    "start": "747240",
    "end": "750880"
  },
  {
    "text": "memory reaches the throttling limit",
    "start": "750880",
    "end": "753600"
  },
  {
    "text": "which was 19 let's see what happens",
    "start": "753600",
    "end": "758240"
  },
  {
    "text": "there so I'm opening the memory. events",
    "start": "758240",
    "end": "760880"
  },
  {
    "text": "file which keeps track of the number of",
    "start": "760880",
    "end": "762760"
  },
  {
    "text": "times the the memory was throttled you",
    "start": "762760",
    "end": "765720"
  },
  {
    "text": "can see the memory is getting throttled",
    "start": "765720",
    "end": "768199"
  },
  {
    "text": "and in this tab after a point of time",
    "start": "768199",
    "end": "772040"
  },
  {
    "text": "the workload is stuck nothing",
    "start": "772040",
    "end": "774360"
  },
  {
    "text": "happens and it just continues to get",
    "start": "774360",
    "end": "777079"
  },
  {
    "text": "throttled and you get no signal from",
    "start": "777079",
    "end": "781240"
  },
  {
    "text": "it and it takes forever",
    "start": "781760",
    "end": "785360"
  },
  {
    "text": "basically so my key takea away from this",
    "start": "785360",
    "end": "788480"
  },
  {
    "text": "was it's just better to be oom killed",
    "start": "788480",
    "end": "790720"
  },
  {
    "text": "than to be throttle forever and wait",
    "start": "790720",
    "end": "792760"
  },
  {
    "text": "without any signals knowing what to do",
    "start": "792760",
    "end": "794839"
  },
  {
    "text": "without knowing what to do so another",
    "start": "794839",
    "end": "797440"
  },
  {
    "text": "takeaway is that if we have a cap that",
    "start": "797440",
    "end": "800279"
  },
  {
    "text": "kind of involves uh say for example this",
    "start": "800279",
    "end": "803760"
  },
  {
    "text": "particular cap involved a very deep uh",
    "start": "803760",
    "end": "806279"
  },
  {
    "text": "knowledge expertise around kernel so it",
    "start": "806279",
    "end": "808959"
  },
  {
    "text": "it might be better that we involve the",
    "start": "808959",
    "end": "810600"
  },
  {
    "text": "subject matter expertise in the kep",
    "start": "810600",
    "end": "812480"
  },
  {
    "text": "approval process way early on so that we",
    "start": "812480",
    "end": "815199"
  },
  {
    "text": "have insights into whether uh the design",
    "start": "815199",
    "end": "817639"
  },
  {
    "text": "looks fine or not so this is all all the",
    "start": "817639",
    "end": "821560"
  },
  {
    "text": "bad things that happened in this",
    "start": "821560",
    "end": "823079"
  },
  {
    "text": "particular feature but um we realized",
    "start": "823079",
    "end": "826199"
  },
  {
    "text": "that even though memory. High could not",
    "start": "826199",
    "end": "828120"
  },
  {
    "text": "be used to throttle the memory and um it",
    "start": "828120",
    "end": "831360"
  },
  {
    "text": "could be used to throttle the memory but",
    "start": "831360",
    "end": "832880"
  },
  {
    "text": "it wasn't fitting our case it can still",
    "start": "832880",
    "end": "835959"
  },
  {
    "text": "be used if you have an external process",
    "start": "835959",
    "end": "838480"
  },
  {
    "text": "and for other use",
    "start": "838480",
    "end": "840199"
  },
  {
    "text": "cases so for one of the use cases for",
    "start": "840199",
    "end": "843240"
  },
  {
    "text": "which memory. high can be used is you",
    "start": "843240",
    "end": "845199"
  },
  {
    "text": "can still throttle the workloads and",
    "start": "845199",
    "end": "847320"
  },
  {
    "text": "have a liveness probe which can act as",
    "start": "847320",
    "end": "849600"
  },
  {
    "text": "the external process and uh when when",
    "start": "849600",
    "end": "853800"
  },
  {
    "text": "memory. high is reached maybe the probe",
    "start": "853800",
    "end": "855920"
  },
  {
    "text": "can take care of uh pulling out the",
    "start": "855920",
    "end": "857800"
  },
  {
    "text": "process from the live lock scenario and",
    "start": "857800",
    "end": "859959"
  },
  {
    "text": "continue uh and it just it would just",
    "start": "859959",
    "end": "862120"
  },
  {
    "text": "restart the process rather than invoking",
    "start": "862120",
    "end": "864240"
  },
  {
    "text": "the OM",
    "start": "864240",
    "end": "865880"
  },
  {
    "text": "killer the next use case that can be",
    "start": "865880",
    "end": "869079"
  },
  {
    "text": "useful is um to vertically scale the",
    "start": "869079",
    "end": "872360"
  },
  {
    "text": "pods use memory. high as a signal so",
    "start": "872360",
    "end": "875160"
  },
  {
    "text": "when the usage reaches memory. High",
    "start": "875160",
    "end": "877720"
  },
  {
    "text": "throttle the uh workloads for some time",
    "start": "877720",
    "end": "880360"
  },
  {
    "text": "uh and have some threshold values there",
    "start": "880360",
    "end": "882680"
  },
  {
    "text": "and there can be another process that",
    "start": "882680",
    "end": "884480"
  },
  {
    "text": "then uh scales the Pod uh as",
    "start": "884480",
    "end": "889000"
  },
  {
    "text": "needed the third use case uh which we",
    "start": "889120",
    "end": "892199"
  },
  {
    "text": "are also going to dive deep into is",
    "start": "892199",
    "end": "894920"
  },
  {
    "text": "maybe memory. high can also be used to",
    "start": "894920",
    "end": "897720"
  },
  {
    "text": "uh used as a signal to swap out the",
    "start": "897720",
    "end": "899399"
  },
  {
    "text": "container memory say the usage reaches",
    "start": "899399",
    "end": "901440"
  },
  {
    "text": "memory. high that can trigger another uh",
    "start": "901440",
    "end": "904120"
  },
  {
    "text": "that can trigger another external",
    "start": "904120",
    "end": "905880"
  },
  {
    "text": "process to um to swap out some memory",
    "start": "905880",
    "end": "908959"
  },
  {
    "text": "and then the workload can make progress",
    "start": "908959",
    "end": "911040"
  },
  {
    "text": "so today uh kubernetes does not have a",
    "start": "911040",
    "end": "913360"
  },
  {
    "text": "full-fledged support for swap but it's",
    "start": "913360",
    "end": "915279"
  },
  {
    "text": "still work in progress uh so for the",
    "start": "915279",
    "end": "917639"
  },
  {
    "text": "demo I have a plugin which is a little",
    "start": "917639",
    "end": "919680"
  },
  {
    "text": "Advanced it's called memory Qs NRI",
    "start": "919680",
    "end": "921920"
  },
  {
    "text": "plugin which can be used to swap out the",
    "start": "921920",
    "end": "924800"
  },
  {
    "text": "memory so what are NRI plugins NRI lug",
    "start": "924800",
    "end": "929079"
  },
  {
    "text": "is basically a kubernetes workload that",
    "start": "929079",
    "end": "931680"
  },
  {
    "text": "intercepts the communication between uh",
    "start": "931680",
    "end": "934000"
  },
  {
    "text": "container D and run C and then you can",
    "start": "934000",
    "end": "937040"
  },
  {
    "text": "have different sorts of configuration",
    "start": "937040",
    "end": "938759"
  },
  {
    "text": "that you want to modify so for our",
    "start": "938759",
    "end": "940800"
  },
  {
    "text": "particular uh use case we are using NRI",
    "start": "940800",
    "end": "943319"
  },
  {
    "text": "memory Qs plug-in what it does is it",
    "start": "943319",
    "end": "945880"
  },
  {
    "text": "lets you specify memory. high and",
    "start": "945880",
    "end": "948720"
  },
  {
    "text": "memory. swap. Max in the Pod annotations",
    "start": "948720",
    "end": "952160"
  },
  {
    "text": "and once you have these values you say",
    "start": "952160",
    "end": "954279"
  },
  {
    "text": "that okay after uh after the process as",
    "start": "954279",
    "end": "957880"
  },
  {
    "text": "used say 90% % of the memory we want to",
    "start": "957880",
    "end": "960160"
  },
  {
    "text": "swap out 20% of the memory so all that",
    "start": "960160",
    "end": "962519"
  },
  {
    "text": "is configurable using this um",
    "start": "962519",
    "end": "965920"
  },
  {
    "text": "plug-in so uh my co- speaker uh I'm",
    "start": "965920",
    "end": "969040"
  },
  {
    "text": "going to play their recording they have",
    "start": "969040",
    "end": "970440"
  },
  {
    "text": "worked on this plug-in and they have a",
    "start": "970440",
    "end": "972560"
  },
  {
    "text": "demo using this plug-in to swap out the",
    "start": "972560",
    "end": "976399"
  },
  {
    "text": "memory and now that you know that how",
    "start": "980319",
    "end": "983360"
  },
  {
    "text": "NRI plugins hook into this deack let's",
    "start": "983360",
    "end": "986440"
  },
  {
    "text": "take a look into the n I memory qos",
    "start": "986440",
    "end": "990120"
  },
  {
    "text": "plug-in in",
    "start": "990120",
    "end": "991800"
  },
  {
    "text": "particular so you can find this plug-in",
    "start": "991800",
    "end": "995279"
  },
  {
    "text": "from NRI plugins project and you can",
    "start": "995279",
    "end": "998440"
  },
  {
    "text": "easily install this plugin using",
    "start": "998440",
    "end": "1002560"
  },
  {
    "text": "H and this plugin can be configured with",
    "start": "1002560",
    "end": "1007240"
  },
  {
    "text": "a config map where you can introduce",
    "start": "1007240",
    "end": "1010440"
  },
  {
    "text": "memory qos classes so have to define the",
    "start": "1010440",
    "end": "1013920"
  },
  {
    "text": "class name like silver and bronze here",
    "start": "1013920",
    "end": "1017920"
  },
  {
    "text": "and you you can also Define swap limit",
    "start": "1017920",
    "end": "1021279"
  },
  {
    "text": "ratio for workloads in each class swap",
    "start": "1021279",
    "end": "1026760"
  },
  {
    "text": "limit ratio is basically the percentage",
    "start": "1026760",
    "end": "1031678"
  },
  {
    "text": "of the",
    "start": "1031679",
    "end": "1032720"
  },
  {
    "text": "data that should be swapped out when the",
    "start": "1032720",
    "end": "1036678"
  },
  {
    "text": "memory consumption of the workload gets",
    "start": "1036679",
    "end": "1040558"
  },
  {
    "text": "close to the",
    "start": "1040559",
    "end": "1043438"
  },
  {
    "text": "Limit and in this silver case we say",
    "start": "1043439",
    "end": "1046558"
  },
  {
    "text": "that 20% of the memory should be swapped",
    "start": "1046559",
    "end": "1049960"
  },
  {
    "text": "out when the limit is reached and for",
    "start": "1049960",
    "end": "1052880"
  },
  {
    "text": "the bronze workloads we want to swap out",
    "start": "1052880",
    "end": "1056280"
  },
  {
    "text": "half of the memory when getting closer",
    "start": "1056280",
    "end": "1059360"
  },
  {
    "text": "to the memory",
    "start": "1059360",
    "end": "1061720"
  },
  {
    "text": "limit in addition to these classes some",
    "start": "1061720",
    "end": "1066320"
  },
  {
    "text": "of the uh",
    "start": "1066320",
    "end": "1069160"
  },
  {
    "text": "unified uh fields in c groups 2 can be",
    "start": "1069160",
    "end": "1073320"
  },
  {
    "text": "directly Modified by workload",
    "start": "1073320",
    "end": "1076400"
  },
  {
    "text": "specifications with this configuration",
    "start": "1076400",
    "end": "1079240"
  },
  {
    "text": "we allow direct data values to be",
    "start": "1079240",
    "end": "1083400"
  },
  {
    "text": "written to memory. swap.",
    "start": "1083400",
    "end": "1086200"
  },
  {
    "text": "Max and memory. high in c",
    "start": "1086200",
    "end": "1092120"
  },
  {
    "text": "groups and how we are going to then uh",
    "start": "1092120",
    "end": "1095720"
  },
  {
    "text": "tell this information in workloads here",
    "start": "1095720",
    "end": "1098440"
  },
  {
    "text": "is an example of a workload where we",
    "start": "1098440",
    "end": "1100880"
  },
  {
    "text": "Define in po",
    "start": "1100880",
    "end": "1102400"
  },
  {
    "text": "annotations that all containers by",
    "start": "1102400",
    "end": "1105679"
  },
  {
    "text": "default in this PO belong to the C class",
    "start": "1105679",
    "end": "1109799"
  },
  {
    "text": "and especially for container B the",
    "start": "1109799",
    "end": "1113919"
  },
  {
    "text": "memory qos class is actually",
    "start": "1113919",
    "end": "1117000"
  },
  {
    "text": "Bron finally we can specify that",
    "start": "1117000",
    "end": "1121000"
  },
  {
    "text": "container a should have these exact",
    "start": "1121000",
    "end": "1124440"
  },
  {
    "text": "values in memory. swap. Max and memory.",
    "start": "1124440",
    "end": "1128679"
  },
  {
    "text": "high in",
    "start": "1128679",
    "end": "1130559"
  },
  {
    "text": "CPS so memory swap Max should be zero",
    "start": "1130559",
    "end": "1134880"
  },
  {
    "text": "that is we do not allow any of the",
    "start": "1134880",
    "end": "1137000"
  },
  {
    "text": "memory of this coner a to be swapped out",
    "start": "1137000",
    "end": "1140000"
  },
  {
    "text": "and memory. high should be Max that is",
    "start": "1140000",
    "end": "1144280"
  },
  {
    "text": "there is no high memory threshold for",
    "start": "1144280",
    "end": "1147720"
  },
  {
    "text": "this",
    "start": "1147720",
    "end": "1149840"
  },
  {
    "text": "container okay let's see then how it",
    "start": "1149840",
    "end": "1153240"
  },
  {
    "text": "looks in",
    "start": "1153240",
    "end": "1155559"
  },
  {
    "text": "practice in this cluster I have now NRI",
    "start": "1155559",
    "end": "1159679"
  },
  {
    "text": "memory qos plug-in running but there are",
    "start": "1159679",
    "end": "1163919"
  },
  {
    "text": "no",
    "start": "1163919",
    "end": "1166240"
  },
  {
    "text": "workloads next I'm cre creating a test",
    "start": "1166240",
    "end": "1170880"
  },
  {
    "text": "pod and now that it is",
    "start": "1170880",
    "end": "1174919"
  },
  {
    "text": "created let's see that it has been",
    "start": "1174919",
    "end": "1178159"
  },
  {
    "text": "successfully started up there it",
    "start": "1178159",
    "end": "1182159"
  },
  {
    "text": "is and let's take a look into the",
    "start": "1182159",
    "end": "1186799"
  },
  {
    "text": "workload specifications so here we can",
    "start": "1186799",
    "end": "1189640"
  },
  {
    "text": "see some annotations all the containers",
    "start": "1189640",
    "end": "1192640"
  },
  {
    "text": "in this pot belong to the silver memory",
    "start": "1192640",
    "end": "1196000"
  },
  {
    "text": "qos class by default",
    "start": "1196000",
    "end": "1199520"
  },
  {
    "text": "uh then there's an exception for",
    "start": "1199520",
    "end": "1201799"
  },
  {
    "text": "container z0 low prior which belongs to",
    "start": "1201799",
    "end": "1205720"
  },
  {
    "text": "the bronze",
    "start": "1205720",
    "end": "1207080"
  },
  {
    "text": "class and there's a a container C2 no",
    "start": "1207080",
    "end": "1212280"
  },
  {
    "text": "swap where we say that it has no memory",
    "start": "1212280",
    "end": "1216760"
  },
  {
    "text": "High uh threshold and it never should be",
    "start": "1216760",
    "end": "1221080"
  },
  {
    "text": "swapped and here are the definitions of",
    "start": "1221080",
    "end": "1224600"
  },
  {
    "text": "these containers so that you can see",
    "start": "1224600",
    "end": "1227159"
  },
  {
    "text": "what they are actually doing in each",
    "start": "1227159",
    "end": "1229960"
  },
  {
    "text": "container there is DD running 80 megab",
    "start": "1229960",
    "end": "1233360"
  },
  {
    "text": "of memory allocated for the data from",
    "start": "1233360",
    "end": "1237120"
  },
  {
    "text": "Dev zero and memory limitting",
    "start": "1237120",
    "end": "1240640"
  },
  {
    "text": "100 so the system shows now that 40",
    "start": "1240640",
    "end": "1244640"
  },
  {
    "text": "megab of swap has been used and if we",
    "start": "1244640",
    "end": "1249720"
  },
  {
    "text": "see how is the memory of this DD process",
    "start": "1249720",
    "end": "1253960"
  },
  {
    "text": "is doing by reading VM size and VM swap",
    "start": "1253960",
    "end": "1258960"
  },
  {
    "text": "from proc",
    "start": "1258960",
    "end": "1260440"
  },
  {
    "text": "status then we can find out that the",
    "start": "1260440",
    "end": "1264559"
  },
  {
    "text": "there is a DD process that hasn't been",
    "start": "1264559",
    "end": "1267280"
  },
  {
    "text": "swapped at",
    "start": "1267280",
    "end": "1268600"
  },
  {
    "text": "all then there is a DD process where",
    "start": "1268600",
    "end": "1272039"
  },
  {
    "text": "roughly 5 megabytes have been swapped",
    "start": "1272039",
    "end": "1274760"
  },
  {
    "text": "which means that roughly 80 megabytes of",
    "start": "1274760",
    "end": "1278600"
  },
  {
    "text": "data is kept in Ram which kind of sounds",
    "start": "1278600",
    "end": "1282120"
  },
  {
    "text": "like the silver class DD because it can",
    "start": "1282120",
    "end": "1285960"
  },
  {
    "text": "use 80% of all the data in Ram and",
    "start": "1285960",
    "end": "1293200"
  },
  {
    "text": "20% should be swapped when it would",
    "start": "1293200",
    "end": "1296360"
  },
  {
    "text": "reach the limit that is 100",
    "start": "1296360",
    "end": "1299279"
  },
  {
    "text": "megabyte finally there's one DD where",
    "start": "1299279",
    "end": "1303080"
  },
  {
    "text": "roughly 35 megabytes of the data has",
    "start": "1303080",
    "end": "1306480"
  },
  {
    "text": "been swept out which means that roughly",
    "start": "1306480",
    "end": "1309880"
  },
  {
    "text": "50 megabytes of the data is kept in drop",
    "start": "1309880",
    "end": "1313679"
  },
  {
    "text": "so this sounds like the bronze class",
    "start": "1313679",
    "end": "1317039"
  },
  {
    "text": "workload because as you probably",
    "start": "1317039",
    "end": "1321400"
  },
  {
    "text": "remember in this n memory qos",
    "start": "1321400",
    "end": "1324679"
  },
  {
    "text": "configuration we Define that the swap",
    "start": "1324679",
    "end": "1327320"
  },
  {
    "text": "limit ratio of the bronze class",
    "start": "1327320",
    "end": "1330000"
  },
  {
    "text": "workloads is",
    "start": "1330000",
    "end": "1332039"
  },
  {
    "text": "50% at Max 50 megabytes in",
    "start": "1332039",
    "end": "1336640"
  },
  {
    "text": "Ram so far we have taken a look at how c",
    "start": "1336640",
    "end": "1341120"
  },
  {
    "text": "groups controls that is memory. high and",
    "start": "1341120",
    "end": "1344240"
  },
  {
    "text": "memory. swap. Max can be used from NRI",
    "start": "1344240",
    "end": "1349640"
  },
  {
    "text": "plugins and now bit more advanced",
    "start": "1349640",
    "end": "1353480"
  },
  {
    "text": "look that how memory can be managed in",
    "start": "1353480",
    "end": "1357520"
  },
  {
    "text": "more",
    "start": "1357520",
    "end": "1358559"
  },
  {
    "text": "detail and for this example I'm using",
    "start": "1358559",
    "end": "1361720"
  },
  {
    "text": "the MTI D which is a user space demon",
    "start": "1361720",
    "end": "1366279"
  },
  {
    "text": "that is able to watch and track and Swap",
    "start": "1366279",
    "end": "1371840"
  },
  {
    "text": "and move memory of other processes",
    "start": "1371840",
    "end": "1374559"
  },
  {
    "text": "running in",
    "start": "1374559",
    "end": "1376080"
  },
  {
    "text": "Linux so in short M keeps watching new",
    "start": "1376080",
    "end": "1381760"
  },
  {
    "text": "processes being created inside a c group",
    "start": "1381760",
    "end": "1386159"
  },
  {
    "text": "and that then can track the memory usage",
    "start": "1386159",
    "end": "1389400"
  },
  {
    "text": "of those processes meaning which parts",
    "start": "1389400",
    "end": "1392159"
  },
  {
    "text": "of the memory is active and which parts",
    "start": "1392159",
    "end": "1395000"
  },
  {
    "text": "of the memory is Idle this happens with",
    "start": "1395000",
    "end": "1398520"
  },
  {
    "text": "standard Linux kernel uh trackers like",
    "start": "1398520",
    "end": "1401480"
  },
  {
    "text": "idle pages of dirty and dum",
    "start": "1401480",
    "end": "1404279"
  },
  {
    "text": "on and based on the tracker information",
    "start": "1404279",
    "end": "1409720"
  },
  {
    "text": "and policy configuration Mt policy can",
    "start": "1409720",
    "end": "1413120"
  },
  {
    "text": "then make decisions move data to another",
    "start": "1413120",
    "end": "1416320"
  },
  {
    "text": "Numa node or swap out data which is then",
    "start": "1416320",
    "end": "1420400"
  },
  {
    "text": "handled by mover with a bandwidth that",
    "start": "1420400",
    "end": "1425000"
  },
  {
    "text": "you",
    "start": "1425000",
    "end": "1426880"
  },
  {
    "text": "wish and now the question is how to",
    "start": "1426880",
    "end": "1429880"
  },
  {
    "text": "integrate this kind of fuses space demon",
    "start": "1429880",
    "end": "1434039"
  },
  {
    "text": "into kubernetes noes and for that",
    "start": "1434039",
    "end": "1437440"
  },
  {
    "text": "purpose",
    "start": "1437440",
    "end": "1438480"
  },
  {
    "text": "we have written also NRI M plug-in which",
    "start": "1438480",
    "end": "1443360"
  },
  {
    "text": "registers to the NRI in the container",
    "start": "1443360",
    "end": "1446240"
  },
  {
    "text": "run time and starts listening to start",
    "start": "1446240",
    "end": "1449240"
  },
  {
    "text": "container",
    "start": "1449240",
    "end": "1451159"
  },
  {
    "text": "messages uh which means that the create",
    "start": "1451159",
    "end": "1454159"
  },
  {
    "text": "container has been already called",
    "start": "1454159",
    "end": "1456520"
  },
  {
    "text": "successfully and there is a container in",
    "start": "1456520",
    "end": "1459320"
  },
  {
    "text": "the system meaning there are the c",
    "start": "1459320",
    "end": "1461600"
  },
  {
    "text": "groups directories and such already in",
    "start": "1461600",
    "end": "1464679"
  },
  {
    "text": "place and",
    "start": "1464679",
    "end": "1466240"
  },
  {
    "text": "nowlet is telling that we should",
    "start": "1466240",
    "end": "1468600"
  },
  {
    "text": "actually launch a process there but when",
    "start": "1468600",
    "end": "1471559"
  },
  {
    "text": "this n m plug-in gets that message we",
    "start": "1471559",
    "end": "1475960"
  },
  {
    "text": "are starting a new container it creates",
    "start": "1475960",
    "end": "1479559"
  },
  {
    "text": "a sub process that is a Mt",
    "start": "1479559",
    "end": "1483159"
  },
  {
    "text": "process and M process starts watching",
    "start": "1483159",
    "end": "1486960"
  },
  {
    "text": "the coups",
    "start": "1486960",
    "end": "1488799"
  },
  {
    "text": "directory uh where the processes of the",
    "start": "1488799",
    "end": "1492760"
  },
  {
    "text": "new workload are being",
    "start": "1492760",
    "end": "1495919"
  },
  {
    "text": "created and",
    "start": "1495919",
    "end": "1498399"
  },
  {
    "text": "uh based on the data that it gets from",
    "start": "1498399",
    "end": "1501399"
  },
  {
    "text": "the tracker and from the configuration",
    "start": "1501399",
    "end": "1504279"
  },
  {
    "text": "it then makes the decisions that this",
    "start": "1504279",
    "end": "1507559"
  },
  {
    "text": "memory of that workload should be",
    "start": "1507559",
    "end": "1509320"
  },
  {
    "text": "swapped out or moved you can find also",
    "start": "1509320",
    "end": "1512399"
  },
  {
    "text": "NM Mt project in NRI plugins and install",
    "start": "1512399",
    "end": "1517480"
  },
  {
    "text": "it using Helm similarly to NRI memory",
    "start": "1517480",
    "end": "1521000"
  },
  {
    "text": "qos plug-in a quick look on",
    "start": "1521000",
    "end": "1523960"
  },
  {
    "text": "configuration on both n plug-in and work",
    "start": "1523960",
    "end": "1527760"
  },
  {
    "text": "loads this is again similar pattern that",
    "start": "1527760",
    "end": "1530919"
  },
  {
    "text": "we used earlier so we can Define classes",
    "start": "1530919",
    "end": "1534880"
  },
  {
    "text": "for uh workloads for instance web idle",
    "start": "1534880",
    "end": "1539240"
  },
  {
    "text": "data class there we can have a Mt",
    "start": "1539240",
    "end": "1543399"
  },
  {
    "text": "configuration which you can find from",
    "start": "1543399",
    "end": "1545960"
  },
  {
    "text": "GitHub um which basically tells that if",
    "start": "1545960",
    "end": "1552120"
  },
  {
    "text": "a container is not using the memory that",
    "start": "1552120",
    "end": "1554840"
  },
  {
    "text": "it has uh then mty",
    "start": "1554840",
    "end": "1558360"
  },
  {
    "text": "is free to swap it",
    "start": "1558360",
    "end": "1560640"
  },
  {
    "text": "out without any memory pressure which",
    "start": "1560640",
    "end": "1564440"
  },
  {
    "text": "then will uh free more memory to the",
    "start": "1564440",
    "end": "1567399"
  },
  {
    "text": "system okay so here we are we have",
    "start": "1567399",
    "end": "1571480"
  },
  {
    "text": "demonstrated Now using coups controls",
    "start": "1571480",
    "end": "1574760"
  },
  {
    "text": "and using this kind of custom user space",
    "start": "1574760",
    "end": "1578000"
  },
  {
    "text": "demons to manage memory and now how to",
    "start": "1578000",
    "end": "1582640"
  },
  {
    "text": "improve and how you can participate in",
    "start": "1582640",
    "end": "1586159"
  },
  {
    "text": "this memory management",
    "start": "1586159",
    "end": "1589039"
  },
  {
    "text": "so I wish to raise two kubernetes",
    "start": "1589039",
    "end": "1593240"
  },
  {
    "text": "enhancement proposals that are important",
    "start": "1593240",
    "end": "1596440"
  },
  {
    "text": "in this qos perspective and N plugins",
    "start": "1596440",
    "end": "1600320"
  },
  {
    "text": "perspective first of all in these",
    "start": "1600320",
    "end": "1602440"
  },
  {
    "text": "examples we use uh po annotations for",
    "start": "1602440",
    "end": "1607399"
  },
  {
    "text": "qos saying that we have qos classes",
    "start": "1607399",
    "end": "1610360"
  },
  {
    "text": "bronze and silver andal data do these",
    "start": "1610360",
    "end": "1613760"
  },
  {
    "text": "classes even exist and on the other hand",
    "start": "1613760",
    "end": "1617000"
  },
  {
    "text": "schedule like where are the Kutis nodes",
    "start": "1617000",
    "end": "1620919"
  },
  {
    "text": "where you can actually use this and that",
    "start": "1620919",
    "end": "1623440"
  },
  {
    "text": "class and again like Q quotas how many",
    "start": "1623440",
    "end": "1627960"
  },
  {
    "text": "gold and platinum workloads you can",
    "start": "1627960",
    "end": "1629880"
  },
  {
    "text": "schedule on the Note all these are",
    "start": "1629880",
    "end": "1632840"
  },
  {
    "text": "already add in the qos class resources",
    "start": "1632840",
    "end": "1636200"
  },
  {
    "text": "cap which actually makes the qos a first",
    "start": "1636200",
    "end": "1640000"
  },
  {
    "text": "class citizen in Ceres so instead of",
    "start": "1640000",
    "end": "1643559"
  },
  {
    "text": "annotations with that cap we would be",
    "start": "1643559",
    "end": "1646039"
  },
  {
    "text": "able to say that there are qos resources",
    "start": "1646039",
    "end": "1649919"
  },
  {
    "text": "associated with a Container for instance",
    "start": "1649919",
    "end": "1653799"
  },
  {
    "text": "resource called memory qos would be",
    "start": "1653799",
    "end": "1656240"
  },
  {
    "text": "class bronze the second cap is about a",
    "start": "1656240",
    "end": "1660799"
  },
  {
    "text": "resource",
    "start": "1660799",
    "end": "1661880"
  },
  {
    "text": "information so currently not all the",
    "start": "1661880",
    "end": "1665799"
  },
  {
    "text": "information that is in the pot and",
    "start": "1665799",
    "end": "1668279"
  },
  {
    "text": "container specifications is passed to",
    "start": "1668279",
    "end": "1671880"
  },
  {
    "text": "The Container run time through the C",
    "start": "1671880",
    "end": "1674640"
  },
  {
    "text": "protocol this cap makes the change means",
    "start": "1674640",
    "end": "1678080"
  },
  {
    "text": "that CET is not leaving out any",
    "start": "1678080",
    "end": "1681039"
  },
  {
    "text": "important information that could be",
    "start": "1681039",
    "end": "1682919"
  },
  {
    "text": "useful in the container onun time or n",
    "start": "1682919",
    "end": "1688000"
  },
  {
    "text": "plugins that are connecting to the",
    "start": "1688000",
    "end": "1690039"
  },
  {
    "text": "container on",
    "start": "1690039",
    "end": "1692159"
  },
  {
    "text": "times and that's",
    "start": "1692159",
    "end": "1694640"
  },
  {
    "text": "it thank you for your attention I hope",
    "start": "1694640",
    "end": "1698240"
  },
  {
    "text": "this presentation gave you some new",
    "start": "1698240",
    "end": "1701000"
  },
  {
    "text": "fresh",
    "start": "1701000",
    "end": "1702279"
  },
  {
    "text": "idea there is one more um there is one",
    "start": "1702279",
    "end": "1706000"
  },
  {
    "text": "more slide to this I hope I'm able to",
    "start": "1706000",
    "end": "1708200"
  },
  {
    "text": "move to the next slide yeah so um like I",
    "start": "1708200",
    "end": "1713159"
  },
  {
    "text": "like like we spoke about the design",
    "start": "1713159",
    "end": "1714960"
  },
  {
    "text": "issues we have in kep 2570 which is",
    "start": "1714960",
    "end": "1718000"
  },
  {
    "text": "about memory Qs so there are a couple of",
    "start": "1718000",
    "end": "1720519"
  },
  {
    "text": "ideas uh that people came up with during",
    "start": "1720519",
    "end": "1723000"
  },
  {
    "text": "the conference itself like maybe uh when",
    "start": "1723000",
    "end": "1726600"
  },
  {
    "text": "memory. high is reached you have cuet uh",
    "start": "1726600",
    "end": "1729640"
  },
  {
    "text": "take be the external process and it can",
    "start": "1729640",
    "end": "1732919"
  },
  {
    "text": "reset the memory do high at that point",
    "start": "1732919",
    "end": "1735200"
  },
  {
    "text": "and then eventually the process gets um",
    "start": "1735200",
    "end": "1737039"
  },
  {
    "text": "killed",
    "start": "1737039",
    "end": "1738039"
  },
  {
    "text": "so I wanted to uh uh I wanted to see",
    "start": "1738039",
    "end": "1742120"
  },
  {
    "text": "that if there are any other people who",
    "start": "1742120",
    "end": "1743679"
  },
  {
    "text": "have any other ideas around this and you",
    "start": "1743679",
    "end": "1746200"
  },
  {
    "text": "can reach out uh to signode and maybe we",
    "start": "1746200",
    "end": "1748880"
  },
  {
    "text": "can make redesign the Skip and make it",
    "start": "1748880",
    "end": "1750799"
  },
  {
    "text": "work yeah that's all thank",
    "start": "1750799",
    "end": "1755799"
  },
  {
    "text": "you",
    "start": "1756799",
    "end": "1759799"
  }
]