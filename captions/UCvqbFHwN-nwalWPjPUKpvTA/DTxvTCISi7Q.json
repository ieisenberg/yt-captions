[
  {
    "text": "welcome everyone I'm suya sitaraman I'm an engineer working on the open shift",
    "start": "320",
    "end": "6279"
  },
  {
    "text": "networking team at Red Hat I'm also a contributor to the Sig Network policy API working group Welcome to our talk on",
    "start": "6279",
    "end": "13759"
  },
  {
    "text": "the admin Network policy API it's a new kubernetes native API that is designed",
    "start": "13759",
    "end": "19960"
  },
  {
    "text": "for comprehensive cluster-wide network security hello everyone my name is Nadia",
    "start": "19960",
    "end": "26000"
  },
  {
    "text": "I'm a senior software engineer at thread open shift networking team hi uh my name",
    "start": "26000",
    "end": "31160"
  },
  {
    "text": "is Yan and I'm a senior software engineer at VMware working on container networking and security and my name is",
    "start": "31160",
    "end": "38239"
  },
  {
    "text": "Andrew stokus I'm a senior software engineer at red hat in the office of the CTO um and we are all part of the",
    "start": "38239",
    "end": "45640"
  },
  {
    "text": "network policy API subgroup to Sig Network that subgroup is fully devoted to the future of Upstream policy-based",
    "start": "45640",
    "end": "53520"
  },
  {
    "text": "apis um today there's a lot of Downstream variants of policy based apis we're trying to consolidate everyone um",
    "start": "53520",
    "end": "59879"
  },
  {
    "text": "to increase portability and kind of help the whole ecosystem We additionally have a maintainer track talk on that subgroup",
    "start": "59879",
    "end": "66040"
  },
  {
    "text": "tomorrow afternoon so please come check us out okay so hopefully everyone heard the",
    "start": "66040",
    "end": "73000"
  },
  {
    "text": "theme music as you were walking in um we're really excited today um to kind of go into a little Hogwart story uh who",
    "start": "73000",
    "end": "80119"
  },
  {
    "text": "here knows what Harry Potter is hope to see a lot of hands who here would",
    "start": "80119",
    "end": "85759"
  },
  {
    "text": "classify themselves as like a Harry Potter fan some good some good hands okay",
    "start": "85759",
    "end": "91079"
  },
  {
    "text": "awesome I'm a huge Harry Potter fan so I forced everyone here to kind of go through the Harry Potter story so uh",
    "start": "91079",
    "end": "97320"
  },
  {
    "text": "bear with us today um for today we're going to have a Hogwarts kubernetes cluster at the head of that kubernetes",
    "start": "97320",
    "end": "103880"
  },
  {
    "text": "cluster is going to be Alvis Dumbledore of course so he's going to be our cluster admin we're going to be telling this story from the bottom up from the",
    "start": "103880",
    "end": "110840"
  },
  {
    "text": "perspective of the cluster admin so just try to keep that in mind it's going to be really important to remember throughout the entire story um we also",
    "start": "110840",
    "end": "118119"
  },
  {
    "text": "have some really important Nam SPAC right so we have the Forbidden Forest name space oo scary right we don't like",
    "start": "118119",
    "end": "124479"
  },
  {
    "text": "it just remember that um the professor's name space obviously that includes Professor mogle who is an important",
    "start": "124479",
    "end": "130759"
  },
  {
    "text": "developer now they're in nam space with some developers but those developers have slightly more rights than the rest",
    "start": "130760",
    "end": "136800"
  },
  {
    "text": "of developers right they're professors so they're kind of important um and of course we have Gryffindor and Slytherin",
    "start": "136800",
    "end": "142519"
  },
  {
    "text": "with our favorites Harry and Draco um this is what makes up the Harry the Hogwarts cluster and it's going to be",
    "start": "142519",
    "end": "149280"
  },
  {
    "text": "integral to the rest of our story so let's hop into kind of Ground Zero today",
    "start": "149280",
    "end": "155560"
  },
  {
    "text": "in kubernetes uh the the basic networking model is every pod can talk to every pod right and I think most of",
    "start": "155560",
    "end": "162159"
  },
  {
    "text": "us most of us are pretty familiar with this but we wanted to start from ground zero so here you can see Gryffindor",
    "start": "162159",
    "end": "167720"
  },
  {
    "text": "namespace pods can always talk to slyther and namespace pods everything is kosher um by default everything's",
    "start": "167720",
    "end": "175760"
  },
  {
    "text": "allowed so let's look at a little bit more complex case not that much more complex right um Harry doesn't love",
    "start": "175760",
    "end": "183519"
  },
  {
    "text": "Draco Harry's like ah draco's a little evil so we're going to block traffic from the slyther and names space what do",
    "start": "183519",
    "end": "190360"
  },
  {
    "text": "they use to do that today they really only have one tool that's part of the core kubernetes API and that is Network",
    "start": "190360",
    "end": "196599"
  },
  {
    "text": "policy right most of us here know what network policy is it's been around for a long time it's a stable API it was",
    "start": "196599",
    "end": "202560"
  },
  {
    "text": "originally made explicitly and only for the application developer and I want everyone here to remember that um and it",
    "start": "202560",
    "end": "209480"
  },
  {
    "text": "was also explicitly made to be namespaced it was not cluster scoped and it was only for the application",
    "start": "209480",
    "end": "215080"
  },
  {
    "text": "developer so one other funny thing I want you to uh note here is that when",
    "start": "215080",
    "end": "220239"
  },
  {
    "text": "Harry creates it its Network policy in the Gryffindor namespace it implicitly",
    "start": "220239",
    "end": "225439"
  },
  {
    "text": "isolates the Gryffindor Nam space from everything on this slide we're just seeing from Slytherin",
    "start": "225439",
    "end": "231239"
  },
  {
    "text": "but on the next slide we'll also see oops kind of accidentally kind of not",
    "start": "231239",
    "end": "237040"
  },
  {
    "text": "accidentally we also block traffic from professors but wait shouldn't professors",
    "start": "237040",
    "end": "242959"
  },
  {
    "text": "be allowed to talk to every student namespace um this is kind of a problem",
    "start": "242959",
    "end": "249480"
  },
  {
    "text": "so let let's look at that a little bit more so now what do professors do even",
    "start": "249480",
    "end": "256239"
  },
  {
    "text": "if they really want to talk to student namespaces they might try to use those existing tools that we have right",
    "start": "256239",
    "end": "262160"
  },
  {
    "text": "Network policy uh but that doesn't work very well as you can see even if professors try to write and allow in",
    "start": "262160",
    "end": "269240"
  },
  {
    "text": "their name space that arrow is still red uh we have some major problems so this",
    "start": "269240",
    "end": "276160"
  },
  {
    "text": "is where kind of the work we've been doing comes in um we're moving away from the application developer role and",
    "start": "276160",
    "end": "282039"
  },
  {
    "text": "looking at the cluster administrator role and Nadia is going to kind of take us down that journey of some of the new",
    "start": "282039",
    "end": "287360"
  },
  {
    "text": "stuff we've been working on thank you so we've seen how professors tried to solve",
    "start": "287360",
    "end": "293039"
  },
  {
    "text": "their problem themselves that didn't quite work so now they go to Cluster admin Dumbledore and ask for help",
    "start": "293039",
    "end": "300120"
  },
  {
    "text": "and actually dumbler is able to help thanks to the new API called admin Network policy which is created",
    "start": "300120",
    "end": "306800"
  },
  {
    "text": "specifically for cluster administrators and it lets you enforce security policies that can apply to multiple name",
    "start": "306800",
    "end": "313440"
  },
  {
    "text": "spaces and that cannot be over readen by any other personas so Dumbledore",
    "start": "313440",
    "end": "319400"
  },
  {
    "text": "actually agrees that professors should be able to talk to all houses and he creates a cluster scoped object admin",
    "start": "319400",
    "end": "325800"
  },
  {
    "text": "Network policy that explicitly allows that and you can see the arrow is now",
    "start": "325800",
    "end": "330919"
  },
  {
    "text": "turned green but let's take a deeper look into how it works so we have",
    "start": "330919",
    "end": "336520"
  },
  {
    "text": "introduced three layers of Precedence they are evaluated top to bottom and you",
    "start": "336520",
    "end": "343160"
  },
  {
    "text": "can see that the first one is admin Network policy it is managed by cluster admins and as soon as admin Network",
    "start": "343160",
    "end": "350639"
  },
  {
    "text": "policy has a decision on a connection it will be applied and nothing else can change it but if admin Network policy",
    "start": "350639",
    "end": "358360"
  },
  {
    "text": "didn't match your connection then the network policy is the next layer that will be applied it is managed by",
    "start": "358360",
    "end": "363800"
  },
  {
    "text": "application developers and that will take effect and you can see there is one more layer that is called Baseline admin",
    "start": "363800",
    "end": "370479"
  },
  {
    "text": "Network policy it is also managed by cluster admins and it is evaluated last",
    "start": "370479",
    "end": "376400"
  },
  {
    "text": "and we'll talk about that in more detail in just about a couple slides okay so let's go back to our",
    "start": "376400",
    "end": "383479"
  },
  {
    "text": "professors and see how it actually works so you can see that admin Network policy",
    "start": "383479",
    "end": "389240"
  },
  {
    "text": "has the highest precedence so it will be evaluated first that means that when",
    "start": "389240",
    "end": "394639"
  },
  {
    "text": "professors are trying to connect to the Griffin dur namespace this connection will be matched by an admin Network",
    "start": "394639",
    "end": "401440"
  },
  {
    "text": "policy and the connection will be allowed but for slyther in namespace it",
    "start": "401440",
    "end": "407240"
  },
  {
    "text": "is a bit different because their connection to Gryffindor namespace is not matched by an admin Network policy",
    "start": "407240",
    "end": "413720"
  },
  {
    "text": "that is why the griffindor namespace network policy actually applies and that's why this connection is is still",
    "start": "413720",
    "end": "420240"
  },
  {
    "text": "denied you can also see one more detail it's a little field called priority and",
    "start": "420240",
    "end": "425400"
  },
  {
    "text": "admin Network policy object and all it says is that different admin Network policies are prioritized and this field",
    "start": "425400",
    "end": "432360"
  },
  {
    "text": "basically defines in which order admin Network policies will be applied so uh let's take keep this",
    "start": "432360",
    "end": "439560"
  },
  {
    "text": "picture in mind as Yang will show us a little demo on that thanks Nadia so um",
    "start": "439560",
    "end": "445960"
  },
  {
    "text": "as you look at you know the admin now policy in yo form you can see that it is",
    "start": "445960",
    "end": "451479"
  },
  {
    "text": "really kind of like similar to the current kubernetes Network policies but there are some key uh differences uh we",
    "start": "451479",
    "end": "458479"
  },
  {
    "text": "wanted the API to be explicit first of all and second of all you know we we see",
    "start": "458479",
    "end": "464240"
  },
  {
    "text": "we're seeing some um fields that are new to the ab Network policy which we highlighted here U First is a priority",
    "start": "464240",
    "end": "471240"
  },
  {
    "text": "One um the priority field actually signals the relative precedence of this admin policy compared to the other ones",
    "start": "471240",
    "end": "478800"
  },
  {
    "text": "but admin n policy objects uh in the cluster will always be evaluated before",
    "start": "478800",
    "end": "484800"
  },
  {
    "text": "the namespaced kuet N policies so that's why we can um achieve something like",
    "start": "484800",
    "end": "490159"
  },
  {
    "text": "strong allow that we're demo um demonstrating here and the second one is for the um rules which is an Ingress",
    "start": "490159",
    "end": "497319"
  },
  {
    "text": "Ingress section there is a explicit action field that says you know I want",
    "start": "497319",
    "end": "502639"
  },
  {
    "text": "this to be allowed or denied and it actually comes really handy with the power model so that you can do a Deni",
    "start": "502639",
    "end": "510000"
  },
  {
    "text": "rule underneath and then you know some allow rules um on top of that which we'll show later but for for the purpose",
    "start": "510000",
    "end": "517680"
  },
  {
    "text": "of this Demo First uh this is a strong alloud story um that is which we just",
    "start": "517680",
    "end": "523518"
  },
  {
    "text": "showcase here um for the uh in this diagram and we want to dive in to a",
    "start": "523519",
    "end": "530279"
  },
  {
    "text": "pre-recorded live demo um let's see if it works",
    "start": "530279",
    "end": "535800"
  },
  {
    "text": "so so we're showing this on a cluster that's running anrea as a cni um Andrea",
    "start": "535800",
    "end": "542720"
  },
  {
    "text": "is open source cni based on ovs and along with other kinetes are the two",
    "start": "542720",
    "end": "547920"
  },
  {
    "text": "first implementers of this uh AB n policy API so you can see that you know",
    "start": "547920",
    "end": "553720"
  },
  {
    "text": "um in the cluster we have ENT running as a cni and we are actually also showing you",
    "start": "553720",
    "end": "561079"
  },
  {
    "text": "know all the name spaces that are in the cluster which includes the FID Forest",
    "start": "561079",
    "end": "566240"
  },
  {
    "text": "the G uh Gryffindor and suring houses that we just seen and the professor Nam",
    "start": "566240",
    "end": "572800"
  },
  {
    "text": "space um we wanted to um to make the demo a little bit easier to read we",
    "start": "572800",
    "end": "578360"
  },
  {
    "text": "wanted to oh sorry um we are actually looking at the Gryffindor Nam space um and there is",
    "start": "578360",
    "end": "586399"
  },
  {
    "text": "actually the N policy that we just talk about which says uh I don't want to allow any connection coming into me and",
    "start": "586399",
    "end": "593800"
  },
  {
    "text": "this n policy actually does that it as you can see it allows nothing uh as an in press traffic and it's appli in the",
    "start": "593800",
    "end": "601360"
  },
  {
    "text": "Gryffindor Nam space so U for the purpose of demo we're",
    "start": "601360",
    "end": "606680"
  },
  {
    "text": "first of exporting the IP of the griffindor har reported part in the Gryffindor names space um which serves",
    "start": "606680",
    "end": "613640"
  },
  {
    "text": "as you know our haror IP and then um to",
    "start": "613640",
    "end": "618839"
  },
  {
    "text": "demonstrate you know the nwk policy effect we can see that the drco part in the C name space cannot actually connect",
    "start": "618839",
    "end": "626720"
  },
  {
    "text": "to the har reporter IP because of the n policy that are in this Gryffindor names",
    "start": "626720",
    "end": "633120"
  },
  {
    "text": "space similarly if we want to initiate a connection from the professor Nam space",
    "start": "633120",
    "end": "639880"
  },
  {
    "text": "to the Harry Porter IP it will got denied uh for the same reason because of",
    "start": "639880",
    "end": "645720"
  },
  {
    "text": "the same n policy that's in place now um let's look at the admin n",
    "start": "645720",
    "end": "653279"
  },
  {
    "text": "policy that I just showed you guys um which is um we have you know the power",
    "start": "653279",
    "end": "659079"
  },
  {
    "text": "11 admin policy which is applied to the two houses and it has a strong allow",
    "start": "659079",
    "end": "665800"
  },
  {
    "text": "rule that says the professors should always be able to talk to the houses now if we do the good old Copo apply of this",
    "start": "665800",
    "end": "673320"
  },
  {
    "text": "policy and then we try the connections again now you will notice that the",
    "start": "673320",
    "end": "678480"
  },
  {
    "text": "professors are now able to talk to Gryffindor because um the admin now a",
    "start": "678480",
    "end": "683680"
  },
  {
    "text": "policy has a higher precedence and override the um the n policy implicit",
    "start": "683680",
    "end": "690519"
  },
  {
    "text": "isolation behavior on the other hand um Draco U will still not be able to",
    "start": "690519",
    "end": "697240"
  },
  {
    "text": "connect to Har Porter because of the N policy that Harry Porter has",
    "start": "697240",
    "end": "702519"
  },
  {
    "text": "placed so this is you know the first part of our demo and in addition to",
    "start": "702519",
    "end": "708360"
  },
  {
    "text": "something like strong allow oops we also wanted to show another use case um which",
    "start": "708360",
    "end": "715639"
  },
  {
    "text": "is strong deny this is a totally different story story line um because we're now looking at the Forbidden",
    "start": "715639",
    "end": "721560"
  },
  {
    "text": "Forest as Andrew just mentioned you know um dumor comes in and say Forbidden Forest is really dangerous right like",
    "start": "721560",
    "end": "728200"
  },
  {
    "text": "nobody should just be able to talk to for Forest but people like uh like Draco",
    "start": "728200",
    "end": "733760"
  },
  {
    "text": "and the professors um they are actually having their own n policies they're trying to talk to the fbid forest so as",
    "start": "733760",
    "end": "740720"
  },
  {
    "text": "an admin how can I lock this down completely well the answer is uh a",
    "start": "740720",
    "end": "746600"
  },
  {
    "text": "strong Deni admin NW policy so um right here we have a admin now policy that's",
    "start": "746600",
    "end": "754000"
  },
  {
    "text": "really like the one we just showed before with a slightly higher priority but instead of allow rule we have a deny",
    "start": "754000",
    "end": "761360"
  },
  {
    "text": "rule for the eress uh it's selecting every name space in the cluster and",
    "start": "761360",
    "end": "766880"
  },
  {
    "text": "basically says that nobody in the cluster should be able to talk to the Forbidden Forest and we also has that uh",
    "start": "766880",
    "end": "774720"
  },
  {
    "text": "as a demo uh so you guys can better understand how this works Works uh we",
    "start": "774720",
    "end": "780360"
  },
  {
    "text": "have the um wait a",
    "start": "780360",
    "end": "785600"
  },
  {
    "text": "second is it can you guys see that all right I think the resolution is a little bit low",
    "start": "786040",
    "end": "792079"
  },
  {
    "text": "for that one go okay",
    "start": "792079",
    "end": "798240"
  },
  {
    "text": "cool all right cool so yeah we have the same",
    "start": "798240",
    "end": "803320"
  },
  {
    "text": "cluster as before we have the four name spaces um this time we're exporting actually",
    "start": "803320",
    "end": "810279"
  },
  {
    "text": "The Forbidden Forest pod IP so that we can refer to it later easily um then uh",
    "start": "810279",
    "end": "818320"
  },
  {
    "text": "we're actually looking at the admin n policy that I just showed which is a strong um Deni one and it as I said it",
    "start": "818320",
    "end": "825880"
  },
  {
    "text": "applies to all the name spaces has a higher priority which is you know trying to deny people to talk to the Forbidden",
    "start": "825880",
    "end": "832240"
  },
  {
    "text": "Forest and as we you know showed before we wanted to do a c Colo apply for the",
    "start": "832240",
    "end": "838320"
  },
  {
    "text": "policy so that we create in a cluster",
    "start": "838320",
    "end": "842639"
  },
  {
    "text": "level okay now it's created um what it does now is that if you try to make a",
    "start": "844839",
    "end": "852560"
  },
  {
    "text": "connection from Draco in a certain name space to the Forbidden Forest IP it will",
    "start": "852560",
    "end": "858880"
  },
  {
    "text": "get denied uh it it because you know the admin that will policy is taken into effect similarly also like for the",
    "start": "858880",
    "end": "866480"
  },
  {
    "text": "professor name space um if you initiate a connection to the fen Forest it will",
    "start": "866480",
    "end": "872120"
  },
  {
    "text": "also get denied because of the same admin now policy that's applied there uh",
    "start": "872120",
    "end": "877279"
  },
  {
    "text": "the important part though is that we are actually also going to try to put a now",
    "start": "877279",
    "end": "884680"
  },
  {
    "text": "policy in the professor name space which basically says that as a professor I",
    "start": "884680",
    "end": "891360"
  },
  {
    "text": "wanted or as a application developer I want to put a network policy that",
    "start": "891360",
    "end": "896880"
  },
  {
    "text": "actually allows myself to regress to the Forbidden Forest name space well this n",
    "start": "896880",
    "end": "903959"
  },
  {
    "text": "policy has been already created in the professor namespace and that's allowing erass traffic to the Forbidden Forest",
    "start": "903959",
    "end": "910759"
  },
  {
    "text": "but does it work let's find out so we're having a connection from",
    "start": "910759",
    "end": "919079"
  },
  {
    "text": "the professor namespace to the Forbidden Forest and it's timing now because um",
    "start": "919079",
    "end": "924680"
  },
  {
    "text": "the admin now policy strong deny is actually taking effect before the nwor",
    "start": "924680",
    "end": "930920"
  },
  {
    "text": "policy evaluation so that's how as a cluster admin or dador you can ensure",
    "start": "930920",
    "end": "936440"
  },
  {
    "text": "that you know if you have a strong dni rule it's always going to hit before um any developer tries to do anything",
    "start": "936440",
    "end": "942759"
  },
  {
    "text": "different so that concludes my part of the",
    "start": "942759",
    "end": "948800"
  },
  {
    "text": "demo and I'll hand over to Nadia thank you Yang that was a nice demo uh let's",
    "start": "948800",
    "end": "955639"
  },
  {
    "text": "get back for a second from yaml to pictures that is what we've just seen on",
    "start": "955639",
    "end": "960880"
  },
  {
    "text": "this demo so we have a cluster why deny everyone to the Forbidden Forest policy",
    "start": "960880",
    "end": "967040"
  },
  {
    "text": "no one can talk to the Forbidden Forest even though they have their own allow Network policies in the name",
    "start": "967040",
    "end": "972959"
  },
  {
    "text": "spaces but at some point professors decide that they actually do want to go",
    "start": "972959",
    "end": "978160"
  },
  {
    "text": "to the Forbidden Forest maybe they need to feed a giant spider or they have some",
    "start": "978160",
    "end": "983560"
  },
  {
    "text": "other business there who knows but they go to Dumbledore again and say say that",
    "start": "983560",
    "end": "988959"
  },
  {
    "text": "yeah we want to decide by ourselves and actually dumbler thinks yeah professors",
    "start": "988959",
    "end": "994440"
  },
  {
    "text": "should be an exception to this strong deny rule I want to delegate this decision to them if they want to allow",
    "start": "994440",
    "end": "1001720"
  },
  {
    "text": "themselves to go to the Forbidden Forest or not and that is now possible with a new pass action what it does is it",
    "start": "1001720",
    "end": "1010240"
  },
  {
    "text": "basically skips all the following admin Network policy for the Matched connection and jump straight to the",
    "start": "1010240",
    "end": "1017399"
  },
  {
    "text": "namespace network policy layer so let's try to see what happens here you can see",
    "start": "1017399",
    "end": "1023360"
  },
  {
    "text": "that pass action admin Network policy has higher priority than the deny one so",
    "start": "1023360",
    "end": "1028640"
  },
  {
    "text": "it will be applied first and then when professors are trying to connect to the Forbidden Forest pass Action Network",
    "start": "1028640",
    "end": "1035558"
  },
  {
    "text": "admin Network policy will be applied and the network policy in the professor's",
    "start": "1035559",
    "end": "1041079"
  },
  {
    "text": "Nam space will be actually the one that decides if the connection is allowed or not so now you can see that professors",
    "start": "1041079",
    "end": "1047760"
  },
  {
    "text": "can connect to the Forbidden Forest Nam space because they have this allow Network policy it is again different for",
    "start": "1047760",
    "end": "1054480"
  },
  {
    "text": "for the Slither in nam space because their connection to the Forbidden Forest is not matched by the past admin Network",
    "start": "1054480",
    "end": "1061280"
  },
  {
    "text": "policy but it is still matched by the deny one so this connection will be",
    "start": "1061280",
    "end": "1066600"
  },
  {
    "text": "denied without even looking into what Slytherin Nam space has in",
    "start": "1066600",
    "end": "1072320"
  },
  {
    "text": "it okay now keep that picture in mind again as we go to CU",
    "start": "1072320",
    "end": "1079919"
  },
  {
    "text": "demo thank you nardia so like nardia mentioned we have",
    "start": "1079919",
    "end": "1085200"
  },
  {
    "text": "a pass action and a normal traditional Fireball usually allows you to do deny",
    "start": "1085200",
    "end": "1090880"
  },
  {
    "text": "or allow so the pass is our shiny new feature that is a part of this API and",
    "start": "1090880",
    "end": "1096320"
  },
  {
    "text": "this is that feature that lets admin Network policy interact with the network policy so this is exactly how you",
    "start": "1096320",
    "end": "1102720"
  },
  {
    "text": "delegate to the network policies in your name space so this is how a sample yo looks like of kind admin Network policy",
    "start": "1102720",
    "end": "1109840"
  },
  {
    "text": "and here we are trying to pass all the egress traffic that's coming from our subject the",
    "start": "1109840",
    "end": "1115720"
  },
  {
    "text": "professors and going towards the Forbidden Forest you can see that it's created at priority three which means",
    "start": "1115720",
    "end": "1122280"
  },
  {
    "text": "it's higher compared to the strong allow and deny admin Network policies that Yang created on his cluster and you can",
    "start": "1122280",
    "end": "1129320"
  },
  {
    "text": "also see the explicit action pass which is different from what you've seen before so I know I'm the last to present",
    "start": "1129320",
    "end": "1136280"
  },
  {
    "text": "but I want to make sure everybody's with me here so how many of you use Network policies can we have cool that's a lot",
    "start": "1136280",
    "end": "1143720"
  },
  {
    "text": "of you I'm happy to see that so this is the one thing that lets your admin Network policies interact with the",
    "start": "1143720",
    "end": "1149080"
  },
  {
    "text": "network policies right so literally if you figure out that your network policies are not working as expected you",
    "start": "1149080",
    "end": "1154120"
  },
  {
    "text": "might want to open a ticket to your cluster admin or Alis Dumbledore right trying to figure out what's wrong so",
    "start": "1154120",
    "end": "1159640"
  },
  {
    "text": "let's look at the pass action demo that we have pre-recorded here and like Yang mentioned I'm going",
    "start": "1159640",
    "end": "1166320"
  },
  {
    "text": "to show the demo on the ovn cub CNR cluster so here we have a kind cluster",
    "start": "1166320",
    "end": "1171640"
  },
  {
    "text": "with three nodes one control plane and two worker nodes we also have our OBM Cube agents",
    "start": "1171640",
    "end": "1180760"
  },
  {
    "text": "that are running on each node in our cluster and then we have our den pods",
    "start": "1180760",
    "end": "1186559"
  },
  {
    "text": "right so these are the four main spaces that we've been coming back to again and again so we have the Forbidden Forest",
    "start": "1186559",
    "end": "1192320"
  },
  {
    "text": "Nam space which has the Forbidden zero pod we have the gryffin DAR name space with the Harry Potter pods we have the",
    "start": "1192320",
    "end": "1197919"
  },
  {
    "text": "professor Nam space with the minova magal Pod and then we have the slyther Nam space with the Draco Mali pods the",
    "start": "1197919",
    "end": "1204080"
  },
  {
    "text": "ones that we care about in this story line in the demo are the professor's Nam space so this one right here and the",
    "start": "1204080",
    "end": "1210600"
  },
  {
    "text": "Forbidden Forest Nam space right",
    "start": "1210600",
    "end": "1214559"
  },
  {
    "text": "here we also have a network policy that is defined in the professor's name space",
    "start": "1216520",
    "end": "1221559"
  },
  {
    "text": "like we saw earlier so this is nam space scoped and this one is allowing all traffic to go to the Forbidden Forest",
    "start": "1221559",
    "end": "1228679"
  },
  {
    "text": "and this is I'm just taking it from the same spot that Yang left in his",
    "start": "1228679",
    "end": "1234520"
  },
  {
    "text": "demo we also have the two admin Network policies in our cluster at priority 11",
    "start": "1236400",
    "end": "1241520"
  },
  {
    "text": "and five so this is the strong allowing the strong deny cases and I think we've already seen the strong deny yo that",
    "start": "1241520",
    "end": "1247799"
  },
  {
    "text": "looks exactly like that so we have basically denied everybody our cluster",
    "start": "1247799",
    "end": "1252919"
  },
  {
    "text": "from being able to talk to the Forbidden Forest so all the egress traffic is denied so clearly when Min garal tries",
    "start": "1252919",
    "end": "1260039"
  },
  {
    "text": "to talk to the fidden forest she gets a timeout so this is where our arabus",
    "start": "1260039",
    "end": "1265559"
  },
  {
    "text": "dumbledor comes in and he says okay I want to delegate right so I want to create a pass action admin Network",
    "start": "1265559",
    "end": "1272400"
  },
  {
    "text": "policy at a higher priority number three which allows Min gagal to be able to talk to well not really talk to but you",
    "start": "1272400",
    "end": "1280440"
  },
  {
    "text": "know to allow Min gal's Network policy to take effect so the past a& that you",
    "start": "1280440",
    "end": "1287159"
  },
  {
    "text": "see here is the examp the same thing that I showed on our slide deck so let's go ahead and do a cube cutle create of",
    "start": "1287159",
    "end": "1294159"
  },
  {
    "text": "our pass action sorry pass admin Network policy let's also do a get admin Network",
    "start": "1294159",
    "end": "1300559"
  },
  {
    "text": "policy command to make sure it's created and that we have all our three &s in our cluster right",
    "start": "1300559",
    "end": "1308000"
  },
  {
    "text": "here and now when when gagle tries to connect to the Forbidden Forest you can",
    "start": "1308679",
    "end": "1314880"
  },
  {
    "text": "clearly see that it passed right so it actually worked as in it was successful",
    "start": "1314880",
    "end": "1320120"
  },
  {
    "text": "the reason is because the network policy in the professor's Nam space is what took effect here not the strong deny not",
    "start": "1320120",
    "end": "1328120"
  },
  {
    "text": "the the it was actually the pass admin policy which first took effect and then",
    "start": "1328120",
    "end": "1334760"
  },
  {
    "text": "it actually delegated it to the network policy in the professor's name space and that took effect right so that's two",
    "start": "1334760",
    "end": "1340240"
  },
  {
    "text": "matches that happened",
    "start": "1340240",
    "end": "1343200"
  },
  {
    "text": "there so going back to our picture so the this is the same thing that nardia explained and this is exactly what you",
    "start": "1345520",
    "end": "1350760"
  },
  {
    "text": "just saw in our demo right here so we have the professors who Tred to talk to the Forbidden Forest namespace worked",
    "start": "1350760",
    "end": "1357840"
  },
  {
    "text": "seamlessly because we have a priority three pass action admin Network policy",
    "start": "1357840",
    "end": "1363240"
  },
  {
    "text": "that took higher priority compared to the deny admin Network policy in our cluster which was a priority",
    "start": "1363240",
    "end": "1369840"
  },
  {
    "text": "five so we keep coming back to this diagram because it is kind of important and this is how the interaction works so",
    "start": "1369840",
    "end": "1376720"
  },
  {
    "text": "from the admin Network policy layer so let's say you have an admin netor policy",
    "start": "1376720",
    "end": "1381760"
  },
  {
    "text": "where you passed the traffic which is what we saw in this demo you fall down to the network policy layer right but",
    "start": "1381760",
    "end": "1387919"
  },
  {
    "text": "let's say you have no admin Network policies on your cluster in which case there's nothing matching that layer",
    "start": "1387919",
    "end": "1393799"
  },
  {
    "text": "right so then you evaluate the network policies anyway so that's the two conditions for you to fall back to the",
    "start": "1393799",
    "end": "1398840"
  },
  {
    "text": "next layer and then if there are no network policies in your cluster then",
    "start": "1398840",
    "end": "1403919"
  },
  {
    "text": "you fall down to the third layer which is the Baseline admin Network policy so this is the second resource that we ship",
    "start": "1403919",
    "end": "1410039"
  },
  {
    "text": "as part of the admin Network policy API it's also a new one and one of the use",
    "start": "1410039",
    "end": "1415320"
  },
  {
    "text": "cases and one of the main reasons why we shipped this API is for you as cluster",
    "start": "1415320",
    "end": "1421360"
  },
  {
    "text": "administrators or for Alis Dumbledore in this case to be able to Define default guard rails in your cluster so maybe",
    "start": "1421360",
    "end": "1427880"
  },
  {
    "text": "there are no admin Network policies Network policies in your cluster and maybe when you delegate stuff it doesn't",
    "start": "1427880",
    "end": "1433480"
  },
  {
    "text": "really hit any network policies even in that case you want to have a zero trust",
    "start": "1433480",
    "end": "1438799"
  },
  {
    "text": "policy sometimes right so the Baseline ADB Network policy which is a Singleton resource in your cluster allows you to",
    "start": "1438799",
    "end": "1445360"
  },
  {
    "text": "do that so let's also come back to our story line here right so we had a pass",
    "start": "1445360",
    "end": "1451720"
  },
  {
    "text": "action admin Network policy at priority 3 that's where we left off now we are",
    "start": "1451720",
    "end": "1456960"
  },
  {
    "text": "creating another resource which is the Baseline admin Network policy and this is saying I want to deny everybody from",
    "start": "1456960",
    "end": "1464039"
  },
  {
    "text": "talking to the Forbidden Forest so this is the default guard rail that Albert Dumbledore is laying down in case",
    "start": "1464039",
    "end": "1470679"
  },
  {
    "text": "professors don't have any network policies you don't know right they could just delete it for all you know so you want to have the default guard rail",
    "start": "1470679",
    "end": "1477520"
  },
  {
    "text": "layer on your cluster and that is what this shows but still we still have our",
    "start": "1477520",
    "end": "1482559"
  },
  {
    "text": "admin Network policy and the network policies in our cluster at this stage so right now the pass action admin Network",
    "start": "1482559",
    "end": "1488760"
  },
  {
    "text": "policy is what is taking effect right here in this picture which is why you still see the arrow being green which",
    "start": "1488760",
    "end": "1494399"
  },
  {
    "text": "means it's passing it to the allow to Forbidden Forest Network policy in the professor's name space so that's what's",
    "start": "1494399",
    "end": "1500600"
  },
  {
    "text": "taking effect right now in this instance like I mentioned what if you delete the network policy right what if",
    "start": "1500600",
    "end": "1506880"
  },
  {
    "text": "the professor's name space has no network policies present in that case that's when the Baseline admin Network",
    "start": "1506880",
    "end": "1513440"
  },
  {
    "text": "policy forly known as B&P kicks in so now you're going to deny all the egress",
    "start": "1513440",
    "end": "1518559"
  },
  {
    "text": "traffic from everyone to the Forbidden Forest based on the banp so it's the",
    "start": "1518559",
    "end": "1524159"
  },
  {
    "text": "point to note however is the admin Network policy at priority three is still being hit and then you are passing",
    "start": "1524159",
    "end": "1531240"
  },
  {
    "text": "it it's just that there's nothing on the network policy layer right now so you're falling down to the Baseline and network",
    "start": "1531240",
    "end": "1536440"
  },
  {
    "text": "policy and this is how a sample yaml for a b andp looks like where you have like",
    "start": "1536440",
    "end": "1542880"
  },
  {
    "text": "I mentioned it's a single turn resource so you can have only one B NP in your cluster so be wise to Define it right in",
    "start": "1542880",
    "end": "1550679"
  },
  {
    "text": "our subject's part of the API we have selected all name spaces in the cluster",
    "start": "1550679",
    "end": "1555720"
  },
  {
    "text": "and we are saying we're going to deny AG traffic from everyone to the fidden forest let's also look at our part two",
    "start": "1555720",
    "end": "1563120"
  },
  {
    "text": "demo for the BP on Oban kubernetes cluster so just recapping the whole",
    "start": "1563120",
    "end": "1569480"
  },
  {
    "text": "thing we have three admin Network policies on our cluster right now we have a network policy in our professor's",
    "start": "1569480",
    "end": "1577200"
  },
  {
    "text": "namespace and this is how our Baseline admin Network policy looks like which I",
    "start": "1577200",
    "end": "1582799"
  },
  {
    "text": "showed on our slides here and so let's go ahead and create our BP in the cluster right now let's also try to get",
    "start": "1582799",
    "end": "1589159"
  },
  {
    "text": "the BP to make sure that it got created correctly so we have our default BP right there and now when minav gnal",
    "start": "1589159",
    "end": "1596880"
  },
  {
    "text": "tries to connect to the Forbidden Forest she's going to get connected because we have not",
    "start": "1596880",
    "end": "1605360"
  },
  {
    "text": "really because we have not really had the B&P take effect right there's still the network policy in the professor's",
    "start": "1606840",
    "end": "1613799"
  },
  {
    "text": "name space that's kicking in so we have created the Baseline on network policy but the reason why the connection still",
    "start": "1613799",
    "end": "1619679"
  },
  {
    "text": "works is because you have a network policy in the professor's name space however if you delete that Network",
    "start": "1619679",
    "end": "1627679"
  },
  {
    "text": "policy any pass action that's happening from your admin Network policy layer is",
    "start": "1627679",
    "end": "1632840"
  },
  {
    "text": "going to fall down to your third layer B&P and that's why the connection doesn't work",
    "start": "1632840",
    "end": "1639600"
  },
  {
    "text": "anymore so the key takeaways right so let me try to cap it I'm sure that was a lot of information in the short time",
    "start": "1644480",
    "end": "1650600"
  },
  {
    "text": "that we had if you are a cluster admin Persona please check out our admin Network policy and Baseline admin policy",
    "start": "1650600",
    "end": "1657440"
  },
  {
    "text": "resources and you can clearly see that if you define &ps you can either use the",
    "start": "1657440",
    "end": "1662720"
  },
  {
    "text": "past to interact with your network policies or with your Baseline admin Network policies if there is no matching",
    "start": "1662720",
    "end": "1668279"
  },
  {
    "text": "Network policies right and then if you have no admin Network policies and no network policies you can still fall down",
    "start": "1668279",
    "end": "1673840"
  },
  {
    "text": "to your Baseline on network policies so these are the three layers to keep in mind and the three takeaways of our",
    "start": "1673840",
    "end": "1679840"
  },
  {
    "text": "presentation over to Andrew who will talk about how to get more involved in our project yeah so thanks Sera I think",
    "start": "1679840",
    "end": "1687360"
  },
  {
    "text": "this was our first introduction to admin Network policy at our main Cube contract um our overarching goal is to you know",
    "start": "1687360",
    "end": "1694760"
  },
  {
    "text": "consolidate on network policy apis uh we know in the ecosystem today many um cnis",
    "start": "1694760",
    "end": "1700760"
  },
  {
    "text": "Implement their own sort of Global Network policy or cluster scope Network policy we want to bring it back to the",
    "start": "1700760",
    "end": "1706000"
  },
  {
    "text": "upstream and we want to make it able for everyone so how to get involved um I kind of split it up into a couple",
    "start": "1706000",
    "end": "1712279"
  },
  {
    "text": "different levels here um because we want everyone like we truly need a lot of help um we've had some exciting new",
    "start": "1712279",
    "end": "1718760"
  },
  {
    "text": "contributors recently and they're able to kind of hop in and take some big roles um but even before getting involved if any of you uh maintain a cni",
    "start": "1718760",
    "end": "1727080"
  },
  {
    "text": "or know people who maintain a cni we want to get the message out there we want to work together um we have some",
    "start": "1727080",
    "end": "1733080"
  },
  {
    "text": "really exciting new features that are coming in with the admin Network policy API that we did didn't talk about today",
    "start": "1733080",
    "end": "1738440"
  },
  {
    "text": "that'll be for another talk um that kind of make it even more useful but for getting involved I've laid out a couple",
    "start": "1738440",
    "end": "1745159"
  },
  {
    "text": "different layers here you can kind of be completely new start at some of the generic kubernetes documentation um you",
    "start": "1745159",
    "end": "1752559"
  },
  {
    "text": "also can be a little bit more advanced with that um hop right into our documentation and even further if you're",
    "start": "1752559",
    "end": "1759720"
  },
  {
    "text": "sitting here and saying oh W I'm a cni who has a cluster scope object and we are implementing a feature that we",
    "start": "1759720",
    "end": "1765799"
  },
  {
    "text": "haven't talked about here we want to hear that like we want everyone to get involved we want to in uh create new n",
    "start": "1765799",
    "end": "1771600"
  },
  {
    "text": "peps which is kind of our version of a ke we've designed it after the Gateway api's Gap and it is way less painful",
    "start": "1771600",
    "end": "1778880"
  },
  {
    "text": "than a cap so it should be a lot uh more enjoyable process to get done in my",
    "start": "1778880",
    "end": "1784080"
  },
  {
    "text": "opinion um so yeah I think that's all we have today thanks so much for coming and please leave us a review if you'd like",
    "start": "1784080",
    "end": "1790600"
  },
  {
    "text": "to take some questions",
    "start": "1790600",
    "end": "1793840"
  },
  {
    "text": "now hi um I don't have a question but I did",
    "start": "1796320",
    "end": "1802600"
  },
  {
    "text": "just want to let you guys know how much um I'm looking forward to trying this out it's gonna make my life so much",
    "start": "1802600",
    "end": "1808200"
  },
  {
    "text": "easier and I just want to tell you guys how much I appreciate your work thank you we appreciate you what we want to",
    "start": "1808200",
    "end": "1813799"
  },
  {
    "text": "hear thank [Applause]",
    "start": "1813799",
    "end": "1818549"
  },
  {
    "text": "you I'll second that um for the Baseline you have a rle in there that says you",
    "start": "1819880",
    "end": "1826200"
  },
  {
    "text": "know you can allow or whatever what's the default from that so if you say like",
    "start": "1826200",
    "end": "1833880"
  },
  {
    "text": "you're forbidden from talking to Forbidden Forest is everything else then allowed or does it how is how does that",
    "start": "1833880",
    "end": "1840720"
  },
  {
    "text": "work if it doesn't hit a rule at Baseline it falls down to the default",
    "start": "1840720",
    "end": "1846080"
  },
  {
    "text": "stance of the kubernetes cluster which is always allow today um but what we kind of fora Baseline is being as a way",
    "start": "1846080",
    "end": "1852720"
  },
  {
    "text": "to kind of flip that right so Network policy it's implicit whenever you make one it blocks that pod off in the name",
    "start": "1852720",
    "end": "1858880"
  },
  {
    "text": "space we wanted to make everything in this API explicit so if you want to do that at a cluster scope you can",
    "start": "1858880",
    "end": "1865279"
  },
  {
    "text": "basically create a baseline admin Network policy that says don't allow anything to anything and then developers",
    "start": "1865279",
    "end": "1871840"
  },
  {
    "text": "and admins need to work together to Whit list or allow list um the things that should be allowed for the cluster to",
    "start": "1871840",
    "end": "1878039"
  },
  {
    "text": "function right so I think the the the the major thing is usually the Baseline",
    "start": "1878039",
    "end": "1883799"
  },
  {
    "text": "policy is supposed to be used for you know Deni rules the the reason why allow",
    "start": "1883799",
    "end": "1889600"
  },
  {
    "text": "action is in there is because we have priorities right so it's really hard sometimes to you know make a whole out",
    "start": "1889600",
    "end": "1895440"
  },
  {
    "text": "of a bunch of Deni rules where you can now with the Basel on admin NW policy",
    "start": "1895440",
    "end": "1901000"
  },
  {
    "text": "you can actually stack an allow rule which is really narrow and then we have a you know Universal deny everything",
    "start": "1901000",
    "end": "1906960"
  },
  {
    "text": "rule below and then it will just work as you know um as expected but uh it's just",
    "start": "1906960",
    "end": "1912519"
  },
  {
    "text": "a way to uh for you to more easily write those kind of policies so",
    "start": "1912519",
    "end": "1918480"
  },
  {
    "text": "yeah but you all can you can only have like one B so you also want to be a bit careful with how that's defined",
    "start": "1918480",
    "end": "1924200"
  },
  {
    "text": "sometimes you can Sho yourself in the foot and deny everything to everything so yeah that's also why we don't have priorities on that API yeah or if you",
    "start": "1924200",
    "end": "1932519"
  },
  {
    "text": "have a very nice use case while you may need more than one BNP reach out to us",
    "start": "1932519",
    "end": "1937760"
  },
  {
    "text": "we are happy to discuss okay it's not a question thanks for the sessions so I'm part of the the",
    "start": "1937760",
    "end": "1944880"
  },
  {
    "text": "MERS Andrea projects s here you all invited for the dinner tomorrow who",
    "start": "1944880",
    "end": "1950519"
  },
  {
    "text": "sweet the dinner by on here free dinner free drink 2216 South Michigan Jet and",
    "start": "1950519",
    "end": "1958279"
  },
  {
    "text": "Cherry 2216 South Michigan 400 p.m. tomorrow you on to have invited pH dinner and drinks offer by VMware bance",
    "start": "1958279",
    "end": "1967679"
  },
  {
    "text": "and Google there three talks we have a speaker here he is one of the speaker go deep into this thank you we'll talk",
    "start": "1967679",
    "end": "1973960"
  },
  {
    "text": "about admin poliy yeah yes uh thank you this is uh actually",
    "start": "1973960",
    "end": "1980120"
  },
  {
    "text": "very good I think it's very needed so I had an interest a question about your earlier comment about user versus U uh",
    "start": "1980120",
    "end": "1988799"
  },
  {
    "text": "admin so how often do you actually see actual like users quote users like what",
    "start": "1988799",
    "end": "1996480"
  },
  {
    "text": "scenarios do you see users writing to the kubernetes API because something I've seen in the industry and I just",
    "start": "1996480",
    "end": "2002279"
  },
  {
    "text": "like to see your your just your input on this is that there are people who talk to kubernetes API and then there are the",
    "start": "2002279",
    "end": "2008799"
  },
  {
    "text": "containers running in there and a lot of people like to force users to be just in the containers and not know anything",
    "start": "2008799",
    "end": "2014399"
  },
  {
    "text": "about kubernetes but clearly this is you you have to know quite a bit about kubernetes to do it so I just as far as",
    "start": "2014399",
    "end": "2021080"
  },
  {
    "text": "that line I don't know if you have any inputs or thoughts on",
    "start": "2021080",
    "end": "2026120"
  },
  {
    "text": "it I mean basically person making a Helm package you might consider that a user",
    "start": "2026120",
    "end": "2031440"
  },
  {
    "text": "right because because that's what that is really applying to but question is how often like is is there particular",
    "start": "2031440",
    "end": "2037519"
  },
  {
    "text": "workflows that youve seen where there like more other than that I mean I guess",
    "start": "2037519",
    "end": "2042919"
  },
  {
    "text": "cuz like a lot of the gitlab stuff and you know a bunch of stuff I see out there it's there's a clear wall between",
    "start": "2042919",
    "end": "2049118"
  },
  {
    "text": "kuber's API and the actual applications running in the",
    "start": "2049119",
    "end": "2055398"
  },
  {
    "text": "cluster I think like that's kind of an interesting case for us as core developers versus what's going on in",
    "start": "2056800",
    "end": "2062240"
  },
  {
    "text": "Industry on the ground right and and to be honest with you like we're thinking of it from um when we say a developer um",
    "start": "2062240",
    "end": "2069560"
  },
  {
    "text": "it's sometimes lumped in there synonymously with something that you might want to call a namespace",
    "start": "2069560",
    "end": "2075358"
  },
  {
    "text": "administrator right so someone who's in charge of a namespace and who gives pods or resources to someone who can't talk",
    "start": "2075359",
    "end": "2082358"
  },
  {
    "text": "to the city's API right does that make does that clear it up a little bit yeah that's that to me I guess that's kind of",
    "start": "2082359",
    "end": "2088158"
  },
  {
    "text": "like there's one level of cluster admin and then there's maybe some sort of another level of admin right there's a",
    "start": "2088159",
    "end": "2094118"
  },
  {
    "text": "like and the personas are they do are a bit flexible and like if we need to be more clear on that please please come",
    "start": "2094119",
    "end": "2100160"
  },
  {
    "text": "talk to us and that's I mean no no it's a great question really good question I think a lot of times we have the cluster",
    "start": "2100160",
    "end": "2106680"
  },
  {
    "text": "admins Define our back roles for the namespace resource in general and then",
    "start": "2106680",
    "end": "2111960"
  },
  {
    "text": "each namespace owners can do their own thing is what what we actually intended",
    "start": "2111960",
    "end": "2118599"
  },
  {
    "text": "yeah okay so this stuff is really cool um what my question revolves around that",
    "start": "2119040",
    "end": "2125359"
  },
  {
    "text": "new priority um that seems like adding a lot of complexity um first question is",
    "start": "2125359",
    "end": "2131960"
  },
  {
    "text": "do you foresee that adding uh quite a bit to uh what cni providers have to",
    "start": "2131960",
    "end": "2138560"
  },
  {
    "text": "implement do you see issues with having to implement something like that where",
    "start": "2138560",
    "end": "2143800"
  },
  {
    "text": "before it was hey I defined one one set of whitelisted rules in order to",
    "start": "2143800",
    "end": "2149560"
  },
  {
    "text": "evaluate a policy and now I have a a chain to filter so I think today",
    "start": "2149560",
    "end": "2155119"
  },
  {
    "text": "different cnis already have their API proprietary and one of the goals that we have is to be able to commonize all of",
    "start": "2155119",
    "end": "2161960"
  },
  {
    "text": "that and be using the kubernetes native API so for example Calico has their own Global Network policy celum has their",
    "start": "2161960",
    "end": "2167800"
  },
  {
    "text": "own so today implementers already have a extra layer right and we are actually",
    "start": "2167800",
    "end": "2173040"
  },
  {
    "text": "trying to make it simpler by having just that one API that they have to implement so almost all cnis today like most",
    "start": "2173040",
    "end": "2178599"
  },
  {
    "text": "common ones have it as as it pertains to the data plane it depends right",
    "start": "2178599",
    "end": "2183880"
  },
  {
    "text": "already has priorities um that's one concrete example whether it's easier for oh sorry I misspoke C uh Calico already",
    "start": "2183880",
    "end": "2191280"
  },
  {
    "text": "has explicit priorities in their Global Network policy is it hard for selum to do it may be harder than Calico but it",
    "start": "2191280",
    "end": "2197280"
  },
  {
    "text": "is on a Bas basis wise basis level I think the other part of that question is complexity in use right it's going to be",
    "start": "2197280",
    "end": "2203880"
  },
  {
    "text": "tricky right we're going to have more priorities more objects with different priorities you as an administrator or",
    "start": "2203880",
    "end": "2209920"
  },
  {
    "text": "even as just a viewer observability viewer how do you understand the relationship between those those um",
    "start": "2209920",
    "end": "2215040"
  },
  {
    "text": "objects we actually have kind of a commitment to create some really nice developer tooling along with this API um",
    "start": "2215040",
    "end": "2221839"
  },
  {
    "text": "and we have a cool tool called cyclonus that we've kind of been building off of in the Upstream that gives you a really",
    "start": "2221839",
    "end": "2228119"
  },
  {
    "text": "nice table output view of the relationship and what's going on with your cluster that's a place we need help",
    "start": "2228119",
    "end": "2234400"
  },
  {
    "text": "it's going to be really exciting I think it's going to be cool for the whole ecosystem so and I think if the concern is on you know the prority the scale of",
    "start": "2234400",
    "end": "2241480"
  },
  {
    "text": "pity know that right now in the API it's not un bonded I think it's like 100 0 to",
    "start": "2241480",
    "end": "2247200"
  },
  {
    "text": "100 something like we can think of a use case where people will create you know",
    "start": "2247200",
    "end": "2252319"
  },
  {
    "text": "90 different priority in the cluster already not to mention like say 10,000 so there's not going to be too much of a",
    "start": "2252319",
    "end": "2259359"
  },
  {
    "text": "data plan turn in my opinion um for most of CN implementers we just want to control it so that people write policy",
    "start": "2259359",
    "end": "2266480"
  },
  {
    "text": "that are actually making sense right they're they're not try to put every rule in every namespace at a different",
    "start": "2266480",
    "end": "2272680"
  },
  {
    "text": "power that just doesn't make any sense so and and I think it's kind of like what I've seen in production today is",
    "start": "2272680",
    "end": "2278599"
  },
  {
    "text": "the periph of thousands of network policies like customers are rolling out",
    "start": "2278599",
    "end": "2283839"
  },
  {
    "text": "entire systems just to manage their Network policies and we want to cut that",
    "start": "2283839",
    "end": "2289000"
  },
  {
    "text": "down one more detail to add to that is that it's a bit of moving the complexity",
    "start": "2289000",
    "end": "2294480"
  },
  {
    "text": "to the implementation from the customers because it seems like it is actually easier for customers to use priorities",
    "start": "2294480",
    "end": "2301119"
  },
  {
    "text": "they are very used to it they know how to write their policies in these terms right so that's another reason to do",
    "start": "2301119",
    "end": "2307920"
  },
  {
    "text": "that um my second question regarding priority is priority unique um and if",
    "start": "2307920",
    "end": "2314280"
  },
  {
    "text": "it's not unique how do you handle um two policies um that might conflict or do",
    "start": "2314280",
    "end": "2320680"
  },
  {
    "text": "you have to leave space in order to and plan out eventually you know what could",
    "start": "2320680",
    "end": "2326200"
  },
  {
    "text": "be if there's changes and you reorder you might have to reorder all of your priority numbers the API today itself is",
    "start": "2326200",
    "end": "2334760"
  },
  {
    "text": "actually if you have if you Define to admin Network policies at the same priority it's",
    "start": "2334760",
    "end": "2339960"
  },
  {
    "text": "undetermined the definition so it's a great question however implementations",
    "start": "2339960",
    "end": "2345280"
  },
  {
    "text": "sometimes take over and they do the implementation specific stuff so the way we did it in the OV and cube cni is we",
    "start": "2345280",
    "end": "2351240"
  },
  {
    "text": "say that you cannot create to admin policies is the same priority we do not support it if you do it it's at your own",
    "start": "2351240",
    "end": "2357520"
  },
  {
    "text": "risk so we call that out I I wanted to add on that it's only undetermined if you sort of like step on own toes",
    "start": "2357520",
    "end": "2365000"
  },
  {
    "text": "because there are cases where you have to admin policy create the same priority",
    "start": "2365000",
    "end": "2370720"
  },
  {
    "text": "but they're regulating completely different traffic and that's fine because you know you will never have a conflicting rule with each other but",
    "start": "2370720",
    "end": "2378079"
  },
  {
    "text": "let's say you know because a pod can have uh 10 labels right so if you are writing different labeled rules which",
    "start": "2378079",
    "end": "2384920"
  },
  {
    "text": "are essentially selecting the same traffic but one is uh two at the same Priority One is allow and one is denied",
    "start": "2384920",
    "end": "2392760"
  },
  {
    "text": "well you kind of like step on your own toes and that will be deterministic it really depends on how the",
    "start": "2392760",
    "end": "2399000"
  },
  {
    "text": "implementations choose to write data pass rules for it but in in the in general we just you know advise against",
    "start": "2399000",
    "end": "2405920"
  },
  {
    "text": "doing that so and it's important to remember that that PRI um rules are also ordered within a single admin Network",
    "start": "2405920",
    "end": "2412079"
  },
  {
    "text": "policy you can write multiple rules at one priority level and and they're explicitly prior prioritized in that",
    "start": "2412079",
    "end": "2417680"
  },
  {
    "text": "single rule um so we hope to avoid that as much as possible and we hope to write",
    "start": "2417680",
    "end": "2423000"
  },
  {
    "text": "you know really good tooling really good user documentation to avoid it thank you thank",
    "start": "2423000",
    "end": "2428280"
  },
  {
    "text": "you great questions by the way thanks everyone that was awesome we have the Sig Network policy API intro and update",
    "start": "2428280",
    "end": "2435960"
  },
  {
    "text": "talk at 3:15 central time tomorrow so please join us if you want to come and know more about about that the yes we",
    "start": "2435960",
    "end": "2443359"
  },
  {
    "text": "want contributors in help and implementations cool proposals um that's we are trying to add to the admin now",
    "start": "2443359",
    "end": "2449680"
  },
  {
    "text": "policy so thanks everyone thanks",
    "start": "2449680",
    "end": "2456640"
  }
]