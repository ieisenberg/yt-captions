[
  {
    "text": "yeah should start yeah hello everyone my",
    "start": "2080",
    "end": "4480"
  },
  {
    "text": "name is francisa and and I'm Daniel grim",
    "start": "4480",
    "end": "7439"
  },
  {
    "text": "and I'm we are here to give a Liney talk",
    "start": "7439",
    "end": "10080"
  },
  {
    "text": "called it a sale operator making",
    "start": "10080",
    "end": "12240"
  },
  {
    "text": "seamless e upgrades easy so we are going",
    "start": "12240",
    "end": "15679"
  },
  {
    "text": "to be talking about this new project",
    "start": "15679",
    "end": "17880"
  },
  {
    "text": "that we are working on",
    "start": "17880",
    "end": "19560"
  },
  {
    "text": "so first one what we think that are the",
    "start": "19560",
    "end": "23480"
  },
  {
    "text": "main problems upgrading isio right now",
    "start": "23480",
    "end": "26080"
  },
  {
    "text": "so is upgrades can be really complex and",
    "start": "26080",
    "end": "29119"
  },
  {
    "text": "involve a lot of manual steps so",
    "start": "29119",
    "end": "31880"
  },
  {
    "text": "especially when we are running large",
    "start": "31880",
    "end": "33480"
  },
  {
    "text": "cluster so if you are running large",
    "start": "33480",
    "end": "35000"
  },
  {
    "text": "cluster with a lot of services with a",
    "start": "35000",
    "end": "36920"
  },
  {
    "text": "lot of Cl configuration this can be",
    "start": "36920",
    "end": "39960"
  },
  {
    "text": "really difficult to do so right now the",
    "start": "39960",
    "end": "42640"
  },
  {
    "text": "official encloser operator has been",
    "start": "42640",
    "end": "44399"
  },
  {
    "text": "deprecated so we are going we are trying",
    "start": "44399",
    "end": "47800"
  },
  {
    "text": "to fill this Gap that now it's empty by",
    "start": "47800",
    "end": "51120"
  },
  {
    "text": "building an operator that can be that",
    "start": "51120",
    "end": "54760"
  },
  {
    "text": "that can be managed easy opat in a easy",
    "start": "54760",
    "end": "58000"
  },
  {
    "text": "declarative way this mean that we are",
    "start": "58000",
    "end": "60600"
  },
  {
    "text": "looking to do something that users can",
    "start": "60600",
    "end": "64680"
  },
  {
    "text": "be get feel comfortable to to to",
    "start": "64680",
    "end": "69600"
  },
  {
    "text": "do so in case people here don't know",
    "start": "69600",
    "end": "73560"
  },
  {
    "text": "what's an operator I will explain so",
    "start": "73560",
    "end": "76200"
  },
  {
    "text": "basically an operator is a piece of code",
    "start": "76200",
    "end": "78720"
  },
  {
    "text": "that is built to communicate directly",
    "start": "78720",
    "end": "81600"
  },
  {
    "text": "with the with the qnet operator to",
    "start": "81600",
    "end": "83680"
  },
  {
    "text": "manage custom resources custom resource",
    "start": "83680",
    "end": "87439"
  },
  {
    "text": "definition that are given by the user to",
    "start": "87439",
    "end": "90479"
  },
  {
    "text": "update and manage uh cuber resources so",
    "start": "90479",
    "end": "95240"
  },
  {
    "text": "not you not now that you know what is an",
    "start": "95240",
    "end": "98240"
  },
  {
    "text": "operator what are our Three core ideas",
    "start": "98240",
    "end": "102200"
  },
  {
    "text": "for the sale operator so we are looking",
    "start": "102200",
    "end": "104479"
  },
  {
    "text": "to add new value to the community we are",
    "start": "104479",
    "end": "107520"
  },
  {
    "text": "looking to add features that we do not",
    "start": "107520",
    "end": "110560"
  },
  {
    "text": "have right now with the S with the",
    "start": "110560",
    "end": "113040"
  },
  {
    "text": "community operator or with with the",
    "start": "113040",
    "end": "115079"
  },
  {
    "text": "former Community operator we are looking",
    "start": "115079",
    "end": "117680"
  },
  {
    "text": "to be a Community First operator",
    "start": "117680",
    "end": "120439"
  },
  {
    "text": "so the main idea is to have a really",
    "start": "120439",
    "end": "125880"
  },
  {
    "text": "good feedback from the community get",
    "start": "125880",
    "end": "128080"
  },
  {
    "text": "contributions get what the people want",
    "start": "128080",
    "end": "130759"
  },
  {
    "text": "to from from the operator so and we are",
    "start": "130760",
    "end": "134959"
  },
  {
    "text": "basing basing this operator on the EO",
    "start": "134959",
    "end": "138319"
  },
  {
    "text": "Helm API this means that we are taking",
    "start": "138319",
    "end": "141360"
  },
  {
    "text": "directly the helm charts that are in the",
    "start": "141360",
    "end": "143160"
  },
  {
    "text": "io opam project and we are using this in",
    "start": "143160",
    "end": "146680"
  },
  {
    "text": "the operator so this is really useful",
    "start": "146680",
    "end": "149319"
  },
  {
    "text": "because ER once A Change Is been done in",
    "start": "149319",
    "end": "153800"
  },
  {
    "text": "the oping community we can Port this",
    "start": "153800",
    "end": "155360"
  },
  {
    "text": "change immediately so we don't do not",
    "start": "155360",
    "end": "158440"
  },
  {
    "text": "have to wait large periods to Port this",
    "start": "158440",
    "end": "161440"
  },
  {
    "text": "chain to our operator so for example",
    "start": "161440",
    "end": "165720"
  },
  {
    "text": "this in an EO resource used by the sale",
    "start": "165720",
    "end": "168879"
  },
  {
    "text": "operator so you can set with this simple",
    "start": "168879",
    "end": "172200"
  },
  {
    "text": "configuration an EO dual stack cluster",
    "start": "172200",
    "end": "176159"
  },
  {
    "text": "uh control plane just sporting this the",
    "start": "176159",
    "end": "179440"
  },
  {
    "text": "the expect that values mesh mesh confit",
    "start": "179440",
    "end": "182800"
  },
  {
    "text": "setting e stock to true so if you are us",
    "start": "182800",
    "end": "186680"
  },
  {
    "text": "it to if you are us it to use EO control",
    "start": "186680",
    "end": "190599"
  },
  {
    "text": "planes and you know how to configure the",
    "start": "190599",
    "end": "192920"
  },
  {
    "text": "the home charts it will really it will",
    "start": "192920",
    "end": "195280"
  },
  {
    "text": "be really easy to you to Port this",
    "start": "195280",
    "end": "198000"
  },
  {
    "text": "change to use it in the sale",
    "start": "198000",
    "end": "200840"
  },
  {
    "text": "operator all right uh yeah and I'll talk",
    "start": "200840",
    "end": "203680"
  },
  {
    "text": "a little bit more about what's different",
    "start": "203680",
    "end": "205879"
  },
  {
    "text": "in the sale operator compared to the in",
    "start": "205879",
    "end": "209439"
  },
  {
    "text": "cluster operator that we had before so",
    "start": "209439",
    "end": "212200"
  },
  {
    "text": "one of the main things that we design",
    "start": "212200",
    "end": "213959"
  },
  {
    "text": "the operator around is Canary upgrades",
    "start": "213959",
    "end": "216200"
  },
  {
    "text": "so if you don't if you haven't used",
    "start": "216200",
    "end": "217760"
  },
  {
    "text": "Canary upgrades in is year yet uh you",
    "start": "217760",
    "end": "220280"
  },
  {
    "text": "can imagine it like if you have to",
    "start": "220280",
    "end": "221959"
  },
  {
    "text": "replace a bridge and there's traffic",
    "start": "221959",
    "end": "223439"
  },
  {
    "text": "going over it of course you could just",
    "start": "223439",
    "end": "225319"
  },
  {
    "text": "shut the bridge down and you know fix it",
    "start": "225319",
    "end": "227920"
  },
  {
    "text": "but usually you want to keep the traffic",
    "start": "227920",
    "end": "229480"
  },
  {
    "text": "going so what do you do you build a",
    "start": "229480",
    "end": "231120"
  },
  {
    "text": "temporary Bridge next to it you reroute",
    "start": "231120",
    "end": "232680"
  },
  {
    "text": "the traffic and once you're done fixing",
    "start": "232680",
    "end": "235159"
  },
  {
    "text": "the original Bridge you reroute the",
    "start": "235159",
    "end": "236560"
  },
  {
    "text": "traffic again now we're not civil",
    "start": "236560",
    "end": "238400"
  },
  {
    "text": "engineers we're software Engineers so we",
    "start": "238400",
    "end": "239920"
  },
  {
    "text": "don't have to build temporary Bridges uh",
    "start": "239920",
    "end": "242280"
  },
  {
    "text": "but we also deploy a second control",
    "start": "242280",
    "end": "244280"
  },
  {
    "text": "plane we reroute the traffic and what we",
    "start": "244280",
    "end": "246720"
  },
  {
    "text": "can do is we just uh migrate everything",
    "start": "246720",
    "end": "248840"
  },
  {
    "text": "to the new control plan and we shut down",
    "start": "248840",
    "end": "250480"
  },
  {
    "text": "the old one and uh it's basically the",
    "start": "250480",
    "end": "253480"
  },
  {
    "text": "same thing so with this in mind uh",
    "start": "253480",
    "end": "257479"
  },
  {
    "text": "that's basically the core idea of the",
    "start": "257479",
    "end": "259440"
  },
  {
    "text": "operator we wanted to be the best",
    "start": "259440",
    "end": "261479"
  },
  {
    "text": "operator to do Canary upgrades of your",
    "start": "261479",
    "end": "263479"
  },
  {
    "text": "is control planes so how does it look in",
    "start": "263479",
    "end": "265919"
  },
  {
    "text": "in apis we tried to make it look and",
    "start": "265919",
    "end": "268520"
  },
  {
    "text": "feel a lot like the apis you already",
    "start": "268520",
    "end": "270440"
  },
  {
    "text": "know from kubernetes so if you've used a",
    "start": "270440",
    "end": "272600"
  },
  {
    "text": "deployment API and you know what a",
    "start": "272600",
    "end": "274960"
  },
  {
    "text": "replica set is then you kind of already",
    "start": "274960",
    "end": "277240"
  },
  {
    "text": "know how this works um so if you look at",
    "start": "277240",
    "end": "280960"
  },
  {
    "text": "uh this and you have let's say you had a",
    "start": "280960",
    "end": "283759"
  },
  {
    "text": "deployment with uh a spec that's defined",
    "start": "283759",
    "end": "286759"
  },
  {
    "text": "it to have two replicas then the",
    "start": "286759",
    "end": "289199"
  },
  {
    "text": "kubernetes controller behind it would",
    "start": "289199",
    "end": "290759"
  },
  {
    "text": "create a replica set for you that then",
    "start": "290759",
    "end": "293680"
  },
  {
    "text": "spawned two pods now you changed your",
    "start": "293680",
    "end": "296440"
  },
  {
    "text": "deployment to uh have three replicas",
    "start": "296440",
    "end": "300120"
  },
  {
    "text": "what it does in the background is it",
    "start": "300120",
    "end": "301400"
  },
  {
    "text": "spins up a new replica set that has",
    "start": "301400",
    "end": "304400"
  },
  {
    "text": "three replicas in its spe which in turn",
    "start": "304400",
    "end": "307400"
  },
  {
    "text": "uh spins up three parts for you and then",
    "start": "307400",
    "end": "309160"
  },
  {
    "text": "it tears down the old replica set and we",
    "start": "309160",
    "end": "311560"
  },
  {
    "text": "do a very similar thing with ISO so you",
    "start": "311560",
    "end": "315199"
  },
  {
    "text": "define an ISTA resource and you set its",
    "start": "315199",
    "end": "317360"
  },
  {
    "text": "version to be",
    "start": "317360",
    "end": "319280"
  },
  {
    "text": "1223 and it will the sale operator will",
    "start": "319280",
    "end": "322319"
  },
  {
    "text": "create an ISTA revision object for you",
    "start": "322319",
    "end": "324880"
  },
  {
    "text": "which will then in turn deploy your ISU",
    "start": "324880",
    "end": "327280"
  },
  {
    "text": "control plane with that version so it",
    "start": "327280",
    "end": "329080"
  },
  {
    "text": "creates the deployments the service",
    "start": "329080",
    "end": "330520"
  },
  {
    "text": "accounts everything you need to run ISO",
    "start": "330520",
    "end": "332919"
  },
  {
    "text": "now when you change the version on your",
    "start": "332919",
    "end": "334400"
  },
  {
    "text": "ISO resource to",
    "start": "334400",
    "end": "336080"
  },
  {
    "text": "124 what it does in the background is it",
    "start": "336080",
    "end": "338319"
  },
  {
    "text": "creates a second is your revision",
    "start": "338319",
    "end": "340080"
  },
  {
    "text": "resource with the version set to",
    "start": "340080",
    "end": "342840"
  },
  {
    "text": "124 and once you've migrated all the",
    "start": "342840",
    "end": "345280"
  },
  {
    "text": "traffic over it will automatically",
    "start": "345280",
    "end": "347360"
  },
  {
    "text": "terminate the old one so it's it's very",
    "start": "347360",
    "end": "349520"
  },
  {
    "text": "similar to the API Concepts you already",
    "start": "349520",
    "end": "353199"
  },
  {
    "text": "know and with that let's do a quick demo",
    "start": "353199",
    "end": "357199"
  },
  {
    "text": "we're lightning talk so we only have",
    "start": "357199",
    "end": "359080"
  },
  {
    "text": "three minutes if I'm rushing through",
    "start": "359080",
    "end": "361120"
  },
  {
    "text": "this uh sorry about that but uh there",
    "start": "361120",
    "end": "364800"
  },
  {
    "text": "was no other way we have a three-minute",
    "start": "364800",
    "end": "366120"
  },
  {
    "text": "demo prepared let me make sure the",
    "start": "366120",
    "end": "368039"
  },
  {
    "text": "quality is all",
    "start": "368039",
    "end": "370680"
  },
  {
    "text": "right okay I can't go full screen oh",
    "start": "371039",
    "end": "374560"
  },
  {
    "text": "it's fine I think it's fine so wait",
    "start": "374560",
    "end": "377800"
  },
  {
    "text": "before I start up here on the right I",
    "start": "377800",
    "end": "380759"
  },
  {
    "text": "show you these the operator resources so",
    "start": "380759",
    "end": "382840"
  },
  {
    "text": "the iso resources will show up here is",
    "start": "382840",
    "end": "385280"
  },
  {
    "text": "your revisions will show up here and",
    "start": "385280",
    "end": "387240"
  },
  {
    "text": "then we have a resource called is your",
    "start": "387240",
    "end": "389039"
  },
  {
    "text": "revision tab tag and if you've used is",
    "start": "389039",
    "end": "391360"
  },
  {
    "text": "you probably know about revision tags",
    "start": "391360",
    "end": "393599"
  },
  {
    "text": "that way you can have sort of stable",
    "start": "393599",
    "end": "395599"
  },
  {
    "text": "revision names during upgrades so it",
    "start": "395599",
    "end": "397560"
  },
  {
    "text": "allows for things like using the ISU",
    "start": "397560",
    "end": "399840"
  },
  {
    "text": "injection label and when you upgrade you",
    "start": "399840",
    "end": "402199"
  },
  {
    "text": "just point the tag to the new version",
    "start": "402199",
    "end": "404599"
  },
  {
    "text": "and you don't have to relab your",
    "start": "404599",
    "end": "405840"
  },
  {
    "text": "namespaces that's something we",
    "start": "405840",
    "end": "407400"
  },
  {
    "text": "implemented as well and I'll show you in",
    "start": "407400",
    "end": "409680"
  },
  {
    "text": "this demo so first we make sure that the",
    "start": "409680",
    "end": "412240"
  },
  {
    "text": "sale operator is installed it's up and",
    "start": "412240",
    "end": "413680"
  },
  {
    "text": "running all fine so then we create our",
    "start": "413680",
    "end": "415960"
  },
  {
    "text": "ISO resource which is uh of type",
    "start": "415960",
    "end": "418720"
  },
  {
    "text": "revision based and has version",
    "start": "418720",
    "end": "420560"
  },
  {
    "text": "1232 we wait till it's up and now it's",
    "start": "420560",
    "end": "423440"
  },
  {
    "text": "up and healthy and it's considered not",
    "start": "423440",
    "end": "426120"
  },
  {
    "text": "in use by the operator so it constantly",
    "start": "426120",
    "end": "428280"
  },
  {
    "text": "checks in the background whether it's",
    "start": "428280",
    "end": "429599"
  },
  {
    "text": "referenced by any workloads and then we",
    "start": "429599",
    "end": "432160"
  },
  {
    "text": "create our revision tag that points to",
    "start": "432160",
    "end": "434240"
  },
  {
    "text": "this ISO resource and the rision tag is",
    "start": "434240",
    "end": "436520"
  },
  {
    "text": "called default and that allows us to use",
    "start": "436520",
    "end": "439280"
  },
  {
    "text": "the iso injection equals enabled label",
    "start": "439280",
    "end": "441720"
  },
  {
    "text": "and with the tag creation our resources",
    "start": "441720",
    "end": "445080"
  },
  {
    "text": "now considered inuse by the operator",
    "start": "445080",
    "end": "446800"
  },
  {
    "text": "because it's referenced somewhere then",
    "start": "446800",
    "end": "448759"
  },
  {
    "text": "we create a book in for namespace and",
    "start": "448759",
    "end": "450360"
  },
  {
    "text": "you",
    "start": "450360",
    "end": "451160"
  },
  {
    "text": "see that uh the tag is not in use",
    "start": "451160",
    "end": "454560"
  },
  {
    "text": "currently and now we create a label on",
    "start": "454560",
    "end": "456680"
  },
  {
    "text": "the namespace and now it is considered",
    "start": "456680",
    "end": "458800"
  },
  {
    "text": "in use because it has the injection",
    "start": "458800",
    "end": "460319"
  },
  {
    "text": "label so next step we'll create the book",
    "start": "460319",
    "end": "463560"
  },
  {
    "text": "info sample application in that",
    "start": "463560",
    "end": "465080"
  },
  {
    "text": "namespace and it brings up all the uh",
    "start": "465080",
    "end": "467759"
  },
  {
    "text": "application parts and the",
    "start": "467759",
    "end": "469599"
  },
  {
    "text": "proxies and then we'll very quickly go",
    "start": "469599",
    "end": "472039"
  },
  {
    "text": "in after all these pods are up and",
    "start": "472039",
    "end": "474680"
  },
  {
    "text": "verify that they're connecting to the",
    "start": "474680",
    "end": "476120"
  },
  {
    "text": "correct sod of course right now there's",
    "start": "476120",
    "end": "478879"
  },
  {
    "text": "only one",
    "start": "478879",
    "end": "479960"
  },
  {
    "text": "but we'll do this before and after the",
    "start": "479960",
    "end": "481360"
  },
  {
    "text": "upgrade just to show you that it's doing",
    "start": "481360",
    "end": "483840"
  },
  {
    "text": "everything all",
    "start": "483840",
    "end": "486440"
  },
  {
    "text": "right",
    "start": "487159",
    "end": "490159"
  },
  {
    "text": "so yes here we go uh we're only showing",
    "start": "491440",
    "end": "495000"
  },
  {
    "text": "the review services for lack of screen",
    "start": "495000",
    "end": "496720"
  },
  {
    "text": "space so it's connecting to the default",
    "start": "496720",
    "end": "499479"
  },
  {
    "text": "v123 2 instance that we deployed that's",
    "start": "499479",
    "end": "502479"
  },
  {
    "text": "all fine as expected so now we go in and",
    "start": "502479",
    "end": "505919"
  },
  {
    "text": "we patch the iso resource and change the",
    "start": "505919",
    "end": "507639"
  },
  {
    "text": "version to 124 no actually changing it",
    "start": "507639",
    "end": "509879"
  },
  {
    "text": "to latest which points to the tip of the",
    "start": "509879",
    "end": "512518"
  },
  {
    "text": "master Branch uh we use that to test the",
    "start": "512519",
    "end": "515479"
  },
  {
    "text": "latest version of ISO on",
    "start": "515479",
    "end": "517680"
  },
  {
    "text": "master and now you see we have a second",
    "start": "517680",
    "end": "520440"
  },
  {
    "text": "control plane coming up a second ISO",
    "start": "520440",
    "end": "522240"
  },
  {
    "text": "revision and now both these revisions",
    "start": "522240",
    "end": "524680"
  },
  {
    "text": "are considered in use the old one",
    "start": "524680",
    "end": "526839"
  },
  {
    "text": "because we still have proxies connected",
    "start": "526839",
    "end": "528560"
  },
  {
    "text": "to it and the new one because the",
    "start": "528560",
    "end": "530680"
  },
  {
    "text": "revision tag was automatically rewired",
    "start": "530680",
    "end": "532920"
  },
  {
    "text": "to point to the new",
    "start": "532920",
    "end": "534640"
  },
  {
    "text": "revision and what we need to do now is",
    "start": "534640",
    "end": "537640"
  },
  {
    "text": "we need to restart the application",
    "start": "537640",
    "end": "539519"
  },
  {
    "text": "ations so that they're reinjected with",
    "start": "539519",
    "end": "541160"
  },
  {
    "text": "the new",
    "start": "541160",
    "end": "542160"
  },
  {
    "text": "proxies and after that's done and the",
    "start": "542160",
    "end": "544480"
  },
  {
    "text": "old ones are terminated we can see that",
    "start": "544480",
    "end": "546519"
  },
  {
    "text": "the old control plane is no longer",
    "start": "546519",
    "end": "549079"
  },
  {
    "text": "considered in",
    "start": "549079",
    "end": "550600"
  },
  {
    "text": "use there you go it switched to",
    "start": "550600",
    "end": "553160"
  },
  {
    "text": "false and uh then after 30 seconds which",
    "start": "553160",
    "end": "556720"
  },
  {
    "text": "is the timeout that we gave uh in the",
    "start": "556720",
    "end": "559480"
  },
  {
    "text": "original resource it's configurable",
    "start": "559480",
    "end": "561760"
  },
  {
    "text": "after 30 seconds that uh ISD revision",
    "start": "561760",
    "end": "565160"
  },
  {
    "text": "and the accompanying ISD control plane",
    "start": "565160",
    "end": "567800"
  },
  {
    "text": "is removed by the operator",
    "start": "567800",
    "end": "571360"
  },
  {
    "text": "and that's it yeah now we just have to",
    "start": "572000",
    "end": "573399"
  },
  {
    "text": "wait 30 seconds I guess um and then it",
    "start": "573399",
    "end": "578519"
  },
  {
    "text": "disappears so let's see and it's gone so",
    "start": "578519",
    "end": "583160"
  },
  {
    "text": "that's the demo and that's pretty much",
    "start": "583160",
    "end": "585760"
  },
  {
    "text": "also our lightning talk thank you very",
    "start": "585760",
    "end": "588160"
  },
  {
    "text": "much you can find",
    "start": "588160",
    "end": "590760"
  },
  {
    "text": "us you can find us at the iso ecosystem",
    "start": "590760",
    "end": "594519"
  },
  {
    "text": "organization on the sale operator we",
    "start": "594519",
    "end": "596440"
  },
  {
    "text": "have a sale operator channel on ISO",
    "start": "596440",
    "end": "598279"
  },
  {
    "text": "Slack and we try to do all our work",
    "start": "598279",
    "end": "601120"
  },
  {
    "text": "asynchronously we're globally",
    "start": "601120",
    "end": "603079"
  },
  {
    "text": "distributed um mostly redhead folks for",
    "start": "603079",
    "end": "605480"
  },
  {
    "text": "now but we're very much open to",
    "start": "605480",
    "end": "607480"
  },
  {
    "text": "contributions and people opening issues",
    "start": "607480",
    "end": "609519"
  },
  {
    "text": "so yeah would be great to see some of",
    "start": "609519",
    "end": "611760"
  },
  {
    "text": "you there thank you thanks everyone",
    "start": "611760",
    "end": "615020"
  },
  {
    "text": "[Applause]",
    "start": "615020",
    "end": "619289"
  }
]