[
  {
    "text": "uh",
    "start": "120",
    "end": "1620"
  },
  {
    "text": "good afternoon everyone my name is Vijay",
    "start": "1620",
    "end": "4140"
  },
  {
    "text": "and I work for eBay as eBay's",
    "start": "4140",
    "end": "7259"
  },
  {
    "text": "obserability architect so today we are",
    "start": "7259",
    "end": "9960"
  },
  {
    "text": "going to discuss about how we moved to",
    "start": "9960",
    "end": "13139"
  },
  {
    "text": "open Telemetry collector specifically uh",
    "start": "13139",
    "end": "16800"
  },
  {
    "text": "and how we did it",
    "start": "16800",
    "end": "18900"
  },
  {
    "text": "while we are running at the scale at",
    "start": "18900",
    "end": "20939"
  },
  {
    "text": "which we are today",
    "start": "20939",
    "end": "23580"
  },
  {
    "text": "so we'll talk a little bit about what",
    "start": "23580",
    "end": "26220"
  },
  {
    "text": "observability at eBay means uh what's",
    "start": "26220",
    "end": "28439"
  },
  {
    "text": "our architecture things that we use and",
    "start": "28439",
    "end": "31859"
  },
  {
    "text": "what was the previous strategy that we",
    "start": "31859",
    "end": "34500"
  },
  {
    "text": "used how we evolved it over a period of",
    "start": "34500",
    "end": "36480"
  },
  {
    "text": "time",
    "start": "36480",
    "end": "37920"
  },
  {
    "text": "um some of the design changes that were",
    "start": "37920",
    "end": "39600"
  },
  {
    "text": "associated with it and then talk a",
    "start": "39600",
    "end": "41579"
  },
  {
    "text": "little bit about the",
    "start": "41579",
    "end": "43160"
  },
  {
    "text": "actual changes that were involved in the",
    "start": "43160",
    "end": "46079"
  },
  {
    "text": "open Telemetry migration and talk about",
    "start": "46079",
    "end": "48960"
  },
  {
    "text": "what we are going to do next",
    "start": "48960",
    "end": "51960"
  },
  {
    "text": "uh but before that we are hiring uh",
    "start": "51960",
    "end": "55379"
  },
  {
    "text": "specifically to work on open Telemetry",
    "start": "55379",
    "end": "57300"
  },
  {
    "text": "collector uh eBay is a great place to",
    "start": "57300",
    "end": "59640"
  },
  {
    "text": "work I've been here for 10 years and I",
    "start": "59640",
    "end": "63120"
  },
  {
    "text": "considered it a blessing from God to be",
    "start": "63120",
    "end": "65640"
  },
  {
    "text": "able to work in such a great company so",
    "start": "65640",
    "end": "67920"
  },
  {
    "text": "if you are interested please use the QR",
    "start": "67920",
    "end": "70979"
  },
  {
    "text": "code to find out more",
    "start": "70979",
    "end": "74340"
  },
  {
    "text": "so observability at eBay",
    "start": "74340",
    "end": "76680"
  },
  {
    "text": "so what does the developer do a",
    "start": "76680",
    "end": "78960"
  },
  {
    "text": "developer first does some",
    "start": "78960",
    "end": "80420"
  },
  {
    "text": "instrumentation to they use either an",
    "start": "80420",
    "end": "85619"
  },
  {
    "text": "open source Library that's bundled into",
    "start": "85619",
    "end": "88259"
  },
  {
    "text": "the managed framework or if it's a",
    "start": "88259",
    "end": "91020"
  },
  {
    "text": "drop-in application if the application",
    "start": "91020",
    "end": "93240"
  },
  {
    "text": "is pre-instrumented then it's it's used",
    "start": "93240",
    "end": "96960"
  },
  {
    "text": "they onboard their application into the",
    "start": "96960",
    "end": "100380"
  },
  {
    "text": "observability platform by going into our",
    "start": "100380",
    "end": "102900"
  },
  {
    "text": "ebase Cloud console and say that this is",
    "start": "102900",
    "end": "107400"
  },
  {
    "text": "the application that I need to onboard",
    "start": "107400",
    "end": "108600"
  },
  {
    "text": "if it's a if it's a metric onboarding",
    "start": "108600",
    "end": "111000"
  },
  {
    "text": "they say that my application exposes",
    "start": "111000",
    "end": "113220"
  },
  {
    "text": "Port say 8080 Prometheus and",
    "start": "113220",
    "end": "117680"
  },
  {
    "text": "they basically hit submit and then a lot",
    "start": "117680",
    "end": "121320"
  },
  {
    "text": "of magic happens in the background where",
    "start": "121320",
    "end": "123780"
  },
  {
    "text": "most of our scraping log file trailing",
    "start": "123780",
    "end": "127140"
  },
  {
    "text": "and all that is part through annotations",
    "start": "127140",
    "end": "128880"
  },
  {
    "text": "on top of kubernetes so all the",
    "start": "128880",
    "end": "130979"
  },
  {
    "text": "annotations are delivered into the",
    "start": "130979",
    "end": "132540"
  },
  {
    "text": "appropriate kubernetes clusters so that",
    "start": "132540",
    "end": "134840"
  },
  {
    "text": "the actual harvesting can begin so we",
    "start": "134840",
    "end": "137879"
  },
  {
    "text": "have agents deployed on all our",
    "start": "137879",
    "end": "139920"
  },
  {
    "text": "infrastructure whether it be for logs",
    "start": "139920",
    "end": "142020"
  },
  {
    "text": "metrics or traces",
    "start": "142020",
    "end": "144260"
  },
  {
    "text": "once the agent has enough information",
    "start": "144260",
    "end": "146640"
  },
  {
    "text": "about what to look for it goes and",
    "start": "146640",
    "end": "148980"
  },
  {
    "text": "Begins the harvesting process",
    "start": "148980",
    "end": "151200"
  },
  {
    "text": "so after harvesting is done a user is",
    "start": "151200",
    "end": "154620"
  },
  {
    "text": "free to set up any alerts that they want",
    "start": "154620",
    "end": "157319"
  },
  {
    "text": "to do uh want to be alerted on top of so",
    "start": "157319",
    "end": "160440"
  },
  {
    "text": "they can either use a threshold base",
    "start": "160440",
    "end": "163440"
  },
  {
    "text": "alerts in conventional promptule style",
    "start": "163440",
    "end": "166019"
  },
  {
    "text": "or they can even do anomaly detection",
    "start": "166019",
    "end": "168920"
  },
  {
    "text": "using some of the models that we have",
    "start": "168920",
    "end": "171000"
  },
  {
    "text": "built for the end user",
    "start": "171000",
    "end": "173519"
  },
  {
    "text": "or if you have a TV screen on the",
    "start": "173519",
    "end": "176760"
  },
  {
    "text": "hallway that you want to visualize or",
    "start": "176760",
    "end": "180180"
  },
  {
    "text": "just on your laptop you can build up",
    "start": "180180",
    "end": "182519"
  },
  {
    "text": "dashboards using our console so so that",
    "start": "182519",
    "end": "186060"
  },
  {
    "text": "you can observe what is going on",
    "start": "186060",
    "end": "189140"
  },
  {
    "text": "scale this is something that I'm really",
    "start": "189900",
    "end": "192000"
  },
  {
    "text": "passionate to talk about",
    "start": "192000",
    "end": "193519"
  },
  {
    "text": "when we were taking stock of how much we",
    "start": "193519",
    "end": "196739"
  },
  {
    "text": "have grown we realized that we are",
    "start": "196739",
    "end": "199560"
  },
  {
    "text": "scraping about 1.25 million open metrics",
    "start": "199560",
    "end": "203220"
  },
  {
    "text": "endpoint endpoints across all our",
    "start": "203220",
    "end": "206040"
  },
  {
    "text": "clusters and that translates into",
    "start": "206040",
    "end": "208440"
  },
  {
    "text": "roughly 32 million time series per",
    "start": "208440",
    "end": "211680"
  },
  {
    "text": "second that we are our samples per",
    "start": "211680",
    "end": "213540"
  },
  {
    "text": "second that we are scraping",
    "start": "213540",
    "end": "215580"
  },
  {
    "text": "and those translate to 1.5 billion",
    "start": "215580",
    "end": "217980"
  },
  {
    "text": "active Time series",
    "start": "217980",
    "end": "220879"
  },
  {
    "text": "uh we do 7500 odd queries every uh every",
    "start": "221519",
    "end": "226860"
  },
  {
    "text": "second uh most of these translate into",
    "start": "226860",
    "end": "229140"
  },
  {
    "text": "recording rules uh either to roll up or",
    "start": "229140",
    "end": "232019"
  },
  {
    "text": "to alert uh",
    "start": "232019",
    "end": "234060"
  },
  {
    "text": "very minimal dashboards so a lot of it",
    "start": "234060",
    "end": "236580"
  },
  {
    "text": "is actually being used by systems to",
    "start": "236580",
    "end": "238379"
  },
  {
    "text": "power intelligence",
    "start": "238379",
    "end": "240360"
  },
  {
    "text": "and we provided attention of one year",
    "start": "240360",
    "end": "242340"
  },
  {
    "text": "for uh all the raw metrics that are",
    "start": "242340",
    "end": "245280"
  },
  {
    "text": "being collected on behalf of Developers",
    "start": "245280",
    "end": "249080"
  },
  {
    "text": "so this",
    "start": "250319",
    "end": "251879"
  },
  {
    "text": "roughly sums up the architecture that we",
    "start": "251879",
    "end": "254459"
  },
  {
    "text": "have for the Sherlock IO platform uh on",
    "start": "254459",
    "end": "257160"
  },
  {
    "text": "the leftmost side you have actual",
    "start": "257160",
    "end": "259260"
  },
  {
    "text": "applications that are being deployed on",
    "start": "259260",
    "end": "261419"
  },
  {
    "text": "our compute influx infrastructure it can",
    "start": "261419",
    "end": "263580"
  },
  {
    "text": "either be VMS or it can be a kubernetes",
    "start": "263580",
    "end": "266820"
  },
  {
    "text": "nodes on which the workloads are are",
    "start": "266820",
    "end": "269100"
  },
  {
    "text": "scheduled into uh",
    "start": "269100",
    "end": "271440"
  },
  {
    "text": "we have two major flavor of applications",
    "start": "271440",
    "end": "274259"
  },
  {
    "text": "that are there one is through managed",
    "start": "274259",
    "end": "277080"
  },
  {
    "text": "applications so we have managed",
    "start": "277080",
    "end": "278880"
  },
  {
    "text": "Frameworks for uh Java node.js which pre",
    "start": "278880",
    "end": "284040"
  },
  {
    "text": "which come",
    "start": "284040",
    "end": "285840"
  },
  {
    "text": "pre-packaged with some of the open",
    "start": "285840",
    "end": "287460"
  },
  {
    "text": "source clients or you can have a generic",
    "start": "287460",
    "end": "289199"
  },
  {
    "text": "application that you're deploying once",
    "start": "289199",
    "end": "291840"
  },
  {
    "text": "it's deployed the agent that's either",
    "start": "291840",
    "end": "294360"
  },
  {
    "text": "sitting on the same node or the same",
    "start": "294360",
    "end": "295740"
  },
  {
    "text": "cluster they start harvesting the data",
    "start": "295740",
    "end": "297840"
  },
  {
    "text": "it's sent into the platform into our",
    "start": "297840",
    "end": "300300"
  },
  {
    "text": "ingest apis and depending on what signal",
    "start": "300300",
    "end": "303000"
  },
  {
    "text": "is being processed you either have a",
    "start": "303000",
    "end": "305100"
  },
  {
    "text": "metric store event store lock store or",
    "start": "305100",
    "end": "307199"
  },
  {
    "text": "tray store we store it in and for a",
    "start": "307199",
    "end": "309960"
  },
  {
    "text": "certain unique set of use cases we have",
    "start": "309960",
    "end": "312479"
  },
  {
    "text": "something called a probing engine it's",
    "start": "312479",
    "end": "314040"
  },
  {
    "text": "nothing but stock Prometheus which can",
    "start": "314040",
    "end": "316500"
  },
  {
    "text": "either do SNMP walks or use a SQL",
    "start": "316500",
    "end": "320580"
  },
  {
    "text": "exporter to query some metrics out of",
    "start": "320580",
    "end": "322860"
  },
  {
    "text": "databases and those also follow the same",
    "start": "322860",
    "end": "325320"
  },
  {
    "text": "ingest path we have a query layer which",
    "start": "325320",
    "end": "328220"
  },
  {
    "text": "implements uh the Prometheus API for us",
    "start": "328220",
    "end": "332220"
  },
  {
    "text": "to be able to",
    "start": "332220",
    "end": "333740"
  },
  {
    "text": "power either recording rules or anomaly",
    "start": "333740",
    "end": "337080"
  },
  {
    "text": "detection or just simply view dashboards",
    "start": "337080",
    "end": "341780"
  },
  {
    "text": "so when it comes to ingest and doing it",
    "start": "342600",
    "end": "345780"
  },
  {
    "text": "in a in a cloud native way what does it",
    "start": "345780",
    "end": "348180"
  },
  {
    "text": "actually mean",
    "start": "348180",
    "end": "349199"
  },
  {
    "text": "so for for for for us to be able to",
    "start": "349199",
    "end": "352500"
  },
  {
    "text": "correct collect metrics we either need",
    "start": "352500",
    "end": "354840"
  },
  {
    "text": "to be able to say that without knowing",
    "start": "354840",
    "end": "357060"
  },
  {
    "text": "what the application runtime is we",
    "start": "357060",
    "end": "359699"
  },
  {
    "text": "should be able to scrape it in a generic",
    "start": "359699",
    "end": "361860"
  },
  {
    "text": "way regardless of what language you're",
    "start": "361860",
    "end": "363960"
  },
  {
    "text": "using or you should be able to push it",
    "start": "363960",
    "end": "365759"
  },
  {
    "text": "in a well-defined format so we have",
    "start": "365759",
    "end": "367500"
  },
  {
    "text": "things like",
    "start": "367500",
    "end": "368460"
  },
  {
    "text": "otlp or Prometheus or moderate and we",
    "start": "368460",
    "end": "370680"
  },
  {
    "text": "have open metrics endpoints that are",
    "start": "370680",
    "end": "372180"
  },
  {
    "text": "there as well",
    "start": "372180",
    "end": "373259"
  },
  {
    "text": "but in some cases it's not necessarily",
    "start": "373259",
    "end": "375600"
  },
  {
    "text": "easy you have Legacy applications for",
    "start": "375600",
    "end": "378660"
  },
  {
    "text": "which you might need to have to do some",
    "start": "378660",
    "end": "380160"
  },
  {
    "text": "sort of a one-off fire handling but for",
    "start": "380160",
    "end": "382139"
  },
  {
    "text": "the most part uh we we would typically",
    "start": "382139",
    "end": "385860"
  },
  {
    "text": "rely on some open source client uh and",
    "start": "385860",
    "end": "388680"
  },
  {
    "text": "then we'll have some agents that are",
    "start": "388680",
    "end": "390720"
  },
  {
    "text": "there which can understand some of these",
    "start": "390720",
    "end": "392759"
  },
  {
    "text": "well-known protocols or handle these",
    "start": "392759",
    "end": "395340"
  },
  {
    "text": "one-offs through custom plugins and we",
    "start": "395340",
    "end": "397979"
  },
  {
    "text": "also need to be able to discover them in",
    "start": "397979",
    "end": "400319"
  },
  {
    "text": "in specifically kubernetes like",
    "start": "400319",
    "end": "402180"
  },
  {
    "text": "environments where things are very",
    "start": "402180",
    "end": "403979"
  },
  {
    "text": "ephemeral so either you drop in an",
    "start": "403979",
    "end": "406440"
  },
  {
    "text": "annotation to say that this is very easy",
    "start": "406440",
    "end": "409919"
  },
  {
    "text": "to look for or if something is being",
    "start": "409919",
    "end": "411660"
  },
  {
    "text": "sent given minimal information like a",
    "start": "411660",
    "end": "414539"
  },
  {
    "text": "pod IP or a pod name and a namespace you",
    "start": "414539",
    "end": "416759"
  },
  {
    "text": "should be able to enrich all the",
    "start": "416759",
    "end": "419400"
  },
  {
    "text": "additional metadata that was that was uh",
    "start": "419400",
    "end": "422479"
  },
  {
    "text": "that was described as part of the Pod",
    "start": "422479",
    "end": "424680"
  },
  {
    "text": "spec itself",
    "start": "424680",
    "end": "427340"
  },
  {
    "text": "so in in 2016 we initially started using",
    "start": "427620",
    "end": "431759"
  },
  {
    "text": "the elastic beads family uh uh at that",
    "start": "431759",
    "end": "435660"
  },
  {
    "text": "time I think there was only a file bit",
    "start": "435660",
    "end": "437400"
  },
  {
    "text": "and Metric beat was just coming along",
    "start": "437400",
    "end": "440940"
  },
  {
    "text": "at that point in time it it looked",
    "start": "440940",
    "end": "443400"
  },
  {
    "text": "really good to us uh I think Prometheus",
    "start": "443400",
    "end": "445800"
  },
  {
    "text": "was still a single server that that",
    "start": "445800",
    "end": "448020"
  },
  {
    "text": "queries uh the entire cluster and we",
    "start": "448020",
    "end": "451080"
  },
  {
    "text": "were already at a stage where it was",
    "start": "451080",
    "end": "452639"
  },
  {
    "text": "like we had several thousand nodes large",
    "start": "452639",
    "end": "455340"
  },
  {
    "text": "number of Prometheus endpoints that were",
    "start": "455340",
    "end": "456780"
  },
  {
    "text": "there it was difficult for us to say",
    "start": "456780",
    "end": "458400"
  },
  {
    "text": "that okay we can figure out the sharding",
    "start": "458400",
    "end": "460380"
  },
  {
    "text": "and then set up multiple Prometheus",
    "start": "460380",
    "end": "462240"
  },
  {
    "text": "clusters uh Prometheus instances so for",
    "start": "462240",
    "end": "465479"
  },
  {
    "text": "that reason we we went for the Beats",
    "start": "465479",
    "end": "467400"
  },
  {
    "text": "route because uh it was more Deployable",
    "start": "467400",
    "end": "469740"
  },
  {
    "text": "in the in the demon set pattern so to",
    "start": "469740",
    "end": "472919"
  },
  {
    "text": "speak and it was an agent just built uh",
    "start": "472919",
    "end": "476699"
  },
  {
    "text": "for being able to harvest in uh",
    "start": "476699",
    "end": "479039"
  },
  {
    "text": "observability information so",
    "start": "479039",
    "end": "481680"
  },
  {
    "text": "today we uh we or at least until this",
    "start": "481680",
    "end": "485580"
  },
  {
    "text": "point we have used filebeat for",
    "start": "485580",
    "end": "487979"
  },
  {
    "text": "collecting uh collecting logs metric",
    "start": "487979",
    "end": "490919"
  },
  {
    "text": "beat uh also initially it was deployed",
    "start": "490919",
    "end": "493680"
  },
  {
    "text": "as a demon set to be able to harvest",
    "start": "493680",
    "end": "495060"
  },
  {
    "text": "metrics audit beat uh deployed again as",
    "start": "495060",
    "end": "498300"
  },
  {
    "text": "a demon said to be able to collect uh",
    "start": "498300",
    "end": "501300"
  },
  {
    "text": "file Integrity monitoring events and any",
    "start": "501300",
    "end": "504000"
  },
  {
    "text": "audit rules that were added into the",
    "start": "504000",
    "end": "506400"
  },
  {
    "text": "kernel to be able to uh figure out who",
    "start": "506400",
    "end": "509759"
  },
  {
    "text": "is associating in or escalating to root",
    "start": "509759",
    "end": "511680"
  },
  {
    "text": "and things like that and finally",
    "start": "511680",
    "end": "513000"
  },
  {
    "text": "heartbeat for doing uh uptime checks",
    "start": "513000",
    "end": "517380"
  },
  {
    "text": "so a quick refresher for the demon set",
    "start": "517380",
    "end": "520680"
  },
  {
    "text": "pattern a demon said in kubernetes",
    "start": "520680",
    "end": "524159"
  },
  {
    "text": "basically allows you to deploy a single",
    "start": "524159",
    "end": "526800"
  },
  {
    "text": "instance across all nodes that match the",
    "start": "526800",
    "end": "529260"
  },
  {
    "text": "given node selector so by default it can",
    "start": "529260",
    "end": "533160"
  },
  {
    "text": "go to Every nodes all the nodes that are",
    "start": "533160",
    "end": "535740"
  },
  {
    "text": "there or you can even say that okay I",
    "start": "535740",
    "end": "537839"
  },
  {
    "text": "just need it on a particular set of",
    "start": "537839",
    "end": "539339"
  },
  {
    "text": "nodes that match a certain label",
    "start": "539339",
    "end": "541200"
  },
  {
    "text": "selector and what this agent that is",
    "start": "541200",
    "end": "544140"
  },
  {
    "text": "deployed into a given node will do is",
    "start": "544140",
    "end": "546120"
  },
  {
    "text": "first it will communicate to the API",
    "start": "546120",
    "end": "547740"
  },
  {
    "text": "server telling asking it give me all the",
    "start": "547740",
    "end": "550800"
  },
  {
    "text": "metadata for all the pods that were",
    "start": "550800",
    "end": "552779"
  },
  {
    "text": "there in this in this specific",
    "start": "552779",
    "end": "556019"
  },
  {
    "text": "given it is an old and it will again say",
    "start": "556019",
    "end": "559740"
  },
  {
    "text": "okay I will monitor these specific Parts",
    "start": "559740",
    "end": "561660"
  },
  {
    "text": "on these specific ports uh once the data",
    "start": "561660",
    "end": "564480"
  },
  {
    "text": "is collected it will tag it with all the",
    "start": "564480",
    "end": "566339"
  },
  {
    "text": "part metadata and then ship it out and",
    "start": "566339",
    "end": "569060"
  },
  {
    "text": "the demon set pattern doesn't",
    "start": "569060",
    "end": "571200"
  },
  {
    "text": "necessarily limit you to tagging only to",
    "start": "571200",
    "end": "573060"
  },
  {
    "text": "pods you can also say that okay along",
    "start": "573060",
    "end": "575339"
  },
  {
    "text": "with the Pod metadata I need to tag some",
    "start": "575339",
    "end": "577620"
  },
  {
    "text": "labels that are there in the namespace",
    "start": "577620",
    "end": "579180"
  },
  {
    "text": "OR certain labels that are there in the",
    "start": "579180",
    "end": "581040"
  },
  {
    "text": "deployment object that the Pod belong to",
    "start": "581040",
    "end": "582600"
  },
  {
    "text": "so on and so forth so for for those",
    "start": "582600",
    "end": "584940"
  },
  {
    "text": "kinds of metadata you need to pull all",
    "start": "584940",
    "end": "588300"
  },
  {
    "text": "the deployment objects or all the",
    "start": "588300",
    "end": "590220"
  },
  {
    "text": "namespace objects because those are not",
    "start": "590220",
    "end": "592620"
  },
  {
    "text": "necessarily node scoped",
    "start": "592620",
    "end": "595019"
  },
  {
    "text": "so what is the problem with this with",
    "start": "595019",
    "end": "597000"
  },
  {
    "text": "this approach the first biggest problem",
    "start": "597000",
    "end": "599480"
  },
  {
    "text": "is resource fragmentation in the sense",
    "start": "599480",
    "end": "602519"
  },
  {
    "text": "that every part that you are deploying",
    "start": "602519",
    "end": "605100"
  },
  {
    "text": "on every node for the process that is",
    "start": "605100",
    "end": "607620"
  },
  {
    "text": "running in it it has some arbitrary cost",
    "start": "607620",
    "end": "611220"
  },
  {
    "text": "that is associated with it so for",
    "start": "611220",
    "end": "613140"
  },
  {
    "text": "example if you say that it it costs 50",
    "start": "613140",
    "end": "615420"
  },
  {
    "text": "mb to run the Beats pipeline or the",
    "start": "615420",
    "end": "618240"
  },
  {
    "text": "hotel pipeline or whatever then this",
    "start": "618240",
    "end": "620279"
  },
  {
    "text": "means that if it's a 3000 node cluster",
    "start": "620279",
    "end": "622500"
  },
  {
    "text": "it's going to cost you 150 gigabytes so",
    "start": "622500",
    "end": "625140"
  },
  {
    "text": "depending on how many kubernetes nodes",
    "start": "625140",
    "end": "626940"
  },
  {
    "text": "your you have across your data centers",
    "start": "626940",
    "end": "630060"
  },
  {
    "text": "or your public Cloud",
    "start": "630060",
    "end": "631820"
  },
  {
    "text": "you're gonna spend that much on just",
    "start": "631820",
    "end": "635519"
  },
  {
    "text": "running the process itself and there's a",
    "start": "635519",
    "end": "638100"
  },
  {
    "text": "CPU cost Associated as well especially",
    "start": "638100",
    "end": "640620"
  },
  {
    "text": "when it comes to pulling all the",
    "start": "640620",
    "end": "642420"
  },
  {
    "text": "metadata from kubernetes and then",
    "start": "642420",
    "end": "644540"
  },
  {
    "text": "maintaining it over period of time",
    "start": "644540",
    "end": "647640"
  },
  {
    "text": "the other problem when you run as a",
    "start": "647640",
    "end": "649920"
  },
  {
    "text": "demon said you uh",
    "start": "649920",
    "end": "652740"
  },
  {
    "text": "you're gonna say that okay I'm gonna",
    "start": "652740",
    "end": "654420"
  },
  {
    "text": "limit",
    "start": "654420",
    "end": "655320"
  },
  {
    "text": "how much I'm going to spend on Metric",
    "start": "655320",
    "end": "657540"
  },
  {
    "text": "scraping to say one CPU and one gigabyte",
    "start": "657540",
    "end": "660420"
  },
  {
    "text": "for every node that you are deploying",
    "start": "660420",
    "end": "662640"
  },
  {
    "text": "uh deploying into so 1GB while we say",
    "start": "662640",
    "end": "666959"
  },
  {
    "text": "that Prometheus endpoints need to be",
    "start": "666959",
    "end": "668779"
  },
  {
    "text": "concise the reality is that people tend",
    "start": "668779",
    "end": "671760"
  },
  {
    "text": "to abuse instrumentation over a period",
    "start": "671760",
    "end": "673740"
  },
  {
    "text": "of time so we have seen endpoints as",
    "start": "673740",
    "end": "677040"
  },
  {
    "text": "more or less tens or few hundreds and",
    "start": "677040",
    "end": "679920"
  },
  {
    "text": "endpoints as large as few Millions worth",
    "start": "679920",
    "end": "682440"
  },
  {
    "text": "of entries a cube State metrics is a",
    "start": "682440",
    "end": "684480"
  },
  {
    "text": "good example for that so if you are",
    "start": "684480",
    "end": "687600"
  },
  {
    "text": "giving 1 GB for a metric beat that's",
    "start": "687600",
    "end": "691800"
  },
  {
    "text": "that's running on a set on on a node",
    "start": "691800",
    "end": "694140"
  },
  {
    "text": "where Cube State Matrix is deployed as",
    "start": "694140",
    "end": "695760"
  },
  {
    "text": "well it's gonna crash and when it",
    "start": "695760",
    "end": "698160"
  },
  {
    "text": "crashes you basically lose visibility",
    "start": "698160",
    "end": "700140"
  },
  {
    "text": "into all the parts that are there on",
    "start": "700140",
    "end": "702240"
  },
  {
    "text": "that kubernetes node as well",
    "start": "702240",
    "end": "704040"
  },
  {
    "text": "and given that you are watching the same",
    "start": "704040",
    "end": "708360"
  },
  {
    "text": "artifacts across all kubernetes nodes",
    "start": "708360",
    "end": "711300"
  },
  {
    "text": "this is going to add unnecessary API",
    "start": "711300",
    "end": "714300"
  },
  {
    "text": "pressure on on uh unnecessary pressure",
    "start": "714300",
    "end": "717480"
  },
  {
    "text": "because you're doing a lot of redundant",
    "start": "717480",
    "end": "719160"
  },
  {
    "text": "watches across all the nodes that are",
    "start": "719160",
    "end": "721079"
  },
  {
    "text": "deployed on the cluster",
    "start": "721079",
    "end": "723480"
  },
  {
    "text": "so in order to mitigate some of these",
    "start": "723480",
    "end": "725940"
  },
  {
    "text": "problems we basically moved into a",
    "start": "725940",
    "end": "727560"
  },
  {
    "text": "cluster local mode in the sense that",
    "start": "727560",
    "end": "729480"
  },
  {
    "text": "rather than deploying as a demonstrate",
    "start": "729480",
    "end": "731760"
  },
  {
    "text": "demon said deploy it as a stateful set",
    "start": "731760",
    "end": "733940"
  },
  {
    "text": "uh depending on the cluster size you",
    "start": "733940",
    "end": "737100"
  },
  {
    "text": "choose for every thousand nodes I deploy",
    "start": "737100",
    "end": "740220"
  },
  {
    "text": "10 instances of metric bit or open",
    "start": "740220",
    "end": "742500"
  },
  {
    "text": "telemetic collector whatever and you",
    "start": "742500",
    "end": "745260"
  },
  {
    "text": "basically Shard the work across all all",
    "start": "745260",
    "end": "748620"
  },
  {
    "text": "of them so if you do a simple hash mod",
    "start": "748620",
    "end": "751380"
  },
  {
    "text": "you can use the staple set size and then",
    "start": "751380",
    "end": "754200"
  },
  {
    "text": "say that okay this is the number and if",
    "start": "754200",
    "end": "757200"
  },
  {
    "text": "I am that instance ID I basically",
    "start": "757200",
    "end": "759360"
  },
  {
    "text": "monitor that pod or I drop it and then",
    "start": "759360",
    "end": "762560"
  },
  {
    "text": "someone else will end up monitoring that",
    "start": "762560",
    "end": "766079"
  },
  {
    "text": "so this is how it would look uh rather",
    "start": "766079",
    "end": "768720"
  },
  {
    "text": "than being at the node you sit at the",
    "start": "768720",
    "end": "771180"
  },
  {
    "text": "cluster level uh monitor only the parts",
    "start": "771180",
    "end": "774540"
  },
  {
    "text": "that you are responsible for and then",
    "start": "774540",
    "end": "776880"
  },
  {
    "text": "send the data out once you have",
    "start": "776880",
    "end": "778200"
  },
  {
    "text": "harvested it",
    "start": "778200",
    "end": "780800"
  },
  {
    "text": "so what were the advantages of this",
    "start": "781320",
    "end": "782820"
  },
  {
    "text": "approach",
    "start": "782820",
    "end": "784440"
  },
  {
    "text": "tremendous cost savings so when we when",
    "start": "784440",
    "end": "786600"
  },
  {
    "text": "we did this we saved 90 of capacity as",
    "start": "786600",
    "end": "789959"
  },
  {
    "text": "compared to running it as the",
    "start": "789959",
    "end": "791579"
  },
  {
    "text": "demonstrate specifically for metrics",
    "start": "791579",
    "end": "793620"
  },
  {
    "text": "and the amount of pressure that we put",
    "start": "793620",
    "end": "795660"
  },
  {
    "text": "on the API server was substantially",
    "start": "795660",
    "end": "797579"
  },
  {
    "text": "lower because rather than 3000 nodes",
    "start": "797579",
    "end": "800220"
  },
  {
    "text": "doing that now it's say 10 or 20 or 30",
    "start": "800220",
    "end": "802740"
  },
  {
    "text": "depending on how big the cluster is",
    "start": "802740",
    "end": "806120"
  },
  {
    "text": "and given that we are running a finite",
    "start": "806120",
    "end": "808620"
  },
  {
    "text": "number of PODS we can choose to run",
    "start": "808620",
    "end": "810560"
  },
  {
    "text": "bigger agents say 16 cores and 32 gigs",
    "start": "810560",
    "end": "816420"
  },
  {
    "text": "so uh or depending on the cluster do a",
    "start": "816420",
    "end": "820019"
  },
  {
    "text": "different t-shirt sizing but",
    "start": "820019",
    "end": "821820"
  },
  {
    "text": "this meant that we could now process",
    "start": "821820",
    "end": "823800"
  },
  {
    "text": "much bigger Prometheus endpoints without",
    "start": "823800",
    "end": "825839"
  },
  {
    "text": "crashing so this was one of the big",
    "start": "825839",
    "end": "827940"
  },
  {
    "text": "advantage that we saw",
    "start": "827940",
    "end": "830700"
  },
  {
    "text": "but somehow this is still not enough We",
    "start": "830700",
    "end": "832740"
  },
  {
    "text": "are Never Satisfied",
    "start": "832740",
    "end": "834120"
  },
  {
    "text": "so one of the problems that was there is",
    "start": "834120",
    "end": "836579"
  },
  {
    "text": "that when you when you end up doing a",
    "start": "836579",
    "end": "838019"
  },
  {
    "text": "rollout or a new version upgrade of the",
    "start": "838019",
    "end": "840540"
  },
  {
    "text": "agent uh what's gonna happen is that",
    "start": "840540",
    "end": "844100"
  },
  {
    "text": "when one part goes down all the",
    "start": "844100",
    "end": "847380"
  },
  {
    "text": "endpoints that were being monitored by",
    "start": "847380",
    "end": "848760"
  },
  {
    "text": "that part uh suddenly blackout and if",
    "start": "848760",
    "end": "851639"
  },
  {
    "text": "someone has said that I need an alert on",
    "start": "851639",
    "end": "855180"
  },
  {
    "text": "an absent query uh if uh if the metric",
    "start": "855180",
    "end": "860100"
  },
  {
    "text": "is absent for say one minute or two",
    "start": "860100",
    "end": "861600"
  },
  {
    "text": "minutes if it took two minutes for the",
    "start": "861600",
    "end": "863100"
  },
  {
    "text": "part to come up then it's gonna it's",
    "start": "863100",
    "end": "865019"
  },
  {
    "text": "gonna fire",
    "start": "865019",
    "end": "866399"
  },
  {
    "text": "so this was problematic and",
    "start": "866399",
    "end": "869639"
  },
  {
    "text": "even though we were limiting the amount",
    "start": "869639",
    "end": "872220"
  },
  {
    "text": "of API server watches that were there",
    "start": "872220",
    "end": "873779"
  },
  {
    "text": "it's still a lot of redundant API server",
    "start": "873779",
    "end": "876360"
  },
  {
    "text": "watches",
    "start": "876360",
    "end": "877279"
  },
  {
    "text": "and sometimes what happens is that if a",
    "start": "877279",
    "end": "880260"
  },
  {
    "text": "given cluster has several hundreds of",
    "start": "880260",
    "end": "882480"
  },
  {
    "text": "thousands of parts that are there just",
    "start": "882480",
    "end": "884820"
  },
  {
    "text": "being able to do this even with multiple",
    "start": "884820",
    "end": "887040"
  },
  {
    "text": "workers on the on the control Loop would",
    "start": "887040",
    "end": "889800"
  },
  {
    "text": "still take several minutes for the",
    "start": "889800",
    "end": "892380"
  },
  {
    "text": "entire thing to happen which definitely",
    "start": "892380",
    "end": "894180"
  },
  {
    "text": "means that someone is going to get",
    "start": "894180",
    "end": "896040"
  },
  {
    "text": "alerted at the time of a rollout",
    "start": "896040",
    "end": "898579"
  },
  {
    "text": "and naive scheduling hash mode is still",
    "start": "898579",
    "end": "901380"
  },
  {
    "text": "hash mode it's not it's not rocket",
    "start": "901380",
    "end": "902940"
  },
  {
    "text": "science",
    "start": "902940",
    "end": "905060"
  },
  {
    "text": "so what we ended up doing is we thought",
    "start": "905940",
    "end": "908040"
  },
  {
    "text": "okay maybe we should just decouple the",
    "start": "908040",
    "end": "910860"
  },
  {
    "text": "discovery process from the from the",
    "start": "910860",
    "end": "913199"
  },
  {
    "text": "agent itself so that you have a",
    "start": "913199",
    "end": "915300"
  },
  {
    "text": "centralized control Loop that can",
    "start": "915300",
    "end": "917940"
  },
  {
    "text": "that can do the discovery and let some",
    "start": "917940",
    "end": "921600"
  },
  {
    "text": "workers know that this is what needs to",
    "start": "921600",
    "end": "923339"
  },
  {
    "text": "be uh handled by you so that's that's",
    "start": "923339",
    "end": "927180"
  },
  {
    "text": "exactly what we did in the sense that we",
    "start": "927180",
    "end": "929220"
  },
  {
    "text": "we we took the discovery process put it",
    "start": "929220",
    "end": "932459"
  },
  {
    "text": "in a separate control Loop and we also",
    "start": "932459",
    "end": "935339"
  },
  {
    "text": "started adding Intelligence on top of it",
    "start": "935339",
    "end": "937019"
  },
  {
    "text": "where",
    "start": "937019",
    "end": "939019"
  },
  {
    "text": "uh we",
    "start": "939019",
    "end": "941459"
  },
  {
    "text": "we also started looking at other",
    "start": "941459",
    "end": "943139"
  },
  {
    "text": "parameters that are there like CPU",
    "start": "943139",
    "end": "944579"
  },
  {
    "text": "memory uh if a certain uh metric detail",
    "start": "944579",
    "end": "948480"
  },
  {
    "text": "agent is taking too much time too much",
    "start": "948480",
    "end": "950339"
  },
  {
    "text": "CPU resources then maybe take a few",
    "start": "950339",
    "end": "951959"
  },
  {
    "text": "endpoints from there and then put it",
    "start": "951959",
    "end": "953399"
  },
  {
    "text": "into someone else so that the",
    "start": "953399",
    "end": "955380"
  },
  {
    "text": "distribution is more complex than just",
    "start": "955380",
    "end": "957060"
  },
  {
    "text": "hashmod and uh we also made the",
    "start": "957060",
    "end": "961100"
  },
  {
    "text": "configuration generation a lot more",
    "start": "961100",
    "end": "962940"
  },
  {
    "text": "plugable in the sense that you have a",
    "start": "962940",
    "end": "964620"
  },
  {
    "text": "language which you are using to Define",
    "start": "964620",
    "end": "967079"
  },
  {
    "text": "your scrape logic uh or the scrape rules",
    "start": "967079",
    "end": "971040"
  },
  {
    "text": "now you can use that parse it and then",
    "start": "971040",
    "end": "973860"
  },
  {
    "text": "generate a configuration for maybe",
    "start": "973860",
    "end": "975180"
  },
  {
    "text": "metric beat or file beat or even open",
    "start": "975180",
    "end": "977579"
  },
  {
    "text": "Telemetry collector",
    "start": "977579",
    "end": "980339"
  },
  {
    "text": "so uh",
    "start": "980339",
    "end": "983100"
  },
  {
    "text": "when open Telemetry came about it was",
    "start": "983100",
    "end": "985920"
  },
  {
    "text": "very fascinating to us in the sense that",
    "start": "985920",
    "end": "988199"
  },
  {
    "text": "similar to kubernetes where you say that",
    "start": "988199",
    "end": "990300"
  },
  {
    "text": "I have a pod a part is a part regardless",
    "start": "990300",
    "end": "992940"
  },
  {
    "text": "of it's running on a VM or it's running",
    "start": "992940",
    "end": "994980"
  },
  {
    "text": "on public Cloud private Cloud it's it's",
    "start": "994980",
    "end": "997560"
  },
  {
    "text": "an API",
    "start": "997560",
    "end": "999060"
  },
  {
    "text": "now the in the observability space",
    "start": "999060",
    "end": "1002060"
  },
  {
    "text": "open Telemetry brought the same notion",
    "start": "1002060",
    "end": "1003920"
  },
  {
    "text": "in where you have you have an API you",
    "start": "1003920",
    "end": "1006019"
  },
  {
    "text": "have an SDK you also have a collector",
    "start": "1006019",
    "end": "1008540"
  },
  {
    "text": "that you can use to do arbitrary",
    "start": "1008540",
    "end": "1012440"
  },
  {
    "text": "Transformations and then write to any",
    "start": "1012440",
    "end": "1014120"
  },
  {
    "text": "back end a backend that's either owned",
    "start": "1014120",
    "end": "1016220"
  },
  {
    "text": "by eBay or vendor or an open source",
    "start": "1016220",
    "end": "1018500"
  },
  {
    "text": "technology this was a very powerful",
    "start": "1018500",
    "end": "1019699"
  },
  {
    "text": "concept and we were and at the time when",
    "start": "1019699",
    "end": "1022420"
  },
  {
    "text": "the metric SD case were becoming stable",
    "start": "1022420",
    "end": "1026058"
  },
  {
    "text": "we began to re-evaluate to see that hey",
    "start": "1026059",
    "end": "1028339"
  },
  {
    "text": "maybe we should get on to this",
    "start": "1028339",
    "end": "1030380"
  },
  {
    "text": "we were already in the process of",
    "start": "1030380",
    "end": "1032740"
  },
  {
    "text": "adopting tracing",
    "start": "1032740",
    "end": "1034959"
  },
  {
    "text": "moving metrics and eventually logs made",
    "start": "1034959",
    "end": "1038120"
  },
  {
    "text": "natural sense in that we would be in one",
    "start": "1038120",
    "end": "1040880"
  },
  {
    "text": "family altogether",
    "start": "1040880",
    "end": "1043220"
  },
  {
    "text": "so that being said so we have put in a",
    "start": "1043220",
    "end": "1045620"
  },
  {
    "text": "lot of effort to say that okay we are",
    "start": "1045620",
    "end": "1047720"
  },
  {
    "text": "optimizing on cost uh we are",
    "start": "1047720",
    "end": "1051280"
  },
  {
    "text": "solving problems that make it easy for",
    "start": "1051280",
    "end": "1054320"
  },
  {
    "text": "switching into any agent it should be",
    "start": "1054320",
    "end": "1057679"
  },
  {
    "text": "very easy right but the the journey",
    "start": "1057679",
    "end": "1061100"
  },
  {
    "text": "wasn't as simple as that in the sense",
    "start": "1061100",
    "end": "1062720"
  },
  {
    "text": "that now all features that were",
    "start": "1062720",
    "end": "1065120"
  },
  {
    "text": "available on Metric beat we needed some",
    "start": "1065120",
    "end": "1067460"
  },
  {
    "text": "suitable alternative on open Telemetry",
    "start": "1067460",
    "end": "1070160"
  },
  {
    "text": "with the assumption that a certain",
    "start": "1070160",
    "end": "1071419"
  },
  {
    "text": "feature was being used by at least one",
    "start": "1071419",
    "end": "1073400"
  },
  {
    "text": "developer inside the company",
    "start": "1073400",
    "end": "1076160"
  },
  {
    "text": "are there any Show Stoppers we",
    "start": "1076160",
    "end": "1078260"
  },
  {
    "text": "identified one big gap in the sense that",
    "start": "1078260",
    "end": "1080240"
  },
  {
    "text": "open Telemetry collector does not allow",
    "start": "1080240",
    "end": "1082039"
  },
  {
    "text": "us to do Dynamic configuration reloading",
    "start": "1082039",
    "end": "1083780"
  },
  {
    "text": "this was one of the best features that",
    "start": "1083780",
    "end": "1085400"
  },
  {
    "text": "we really liked about uh elastic beats",
    "start": "1085400",
    "end": "1088039"
  },
  {
    "text": "that wasn't wasn't there",
    "start": "1088039",
    "end": "1090500"
  },
  {
    "text": "scrape parity",
    "start": "1090500",
    "end": "1091940"
  },
  {
    "text": "does a scrape from metric beat look",
    "start": "1091940",
    "end": "1094100"
  },
  {
    "text": "exactly the same as it would look on",
    "start": "1094100",
    "end": "1096919"
  },
  {
    "text": "open telemetric collector or for that",
    "start": "1096919",
    "end": "1098780"
  },
  {
    "text": "matter a scrape that's being done by",
    "start": "1098780",
    "end": "1100640"
  },
  {
    "text": "Prometheus would it look exactly the",
    "start": "1100640",
    "end": "1102260"
  },
  {
    "text": "same",
    "start": "1102260",
    "end": "1103120"
  },
  {
    "text": "on open Telemetry collector if it is not",
    "start": "1103120",
    "end": "1106460"
  },
  {
    "text": "is it a feature or or is it by Design or",
    "start": "1106460",
    "end": "1109160"
  },
  {
    "text": "is an actual bug so these were some of",
    "start": "1109160",
    "end": "1111020"
  },
  {
    "text": "the things that we need to we needed to",
    "start": "1111020",
    "end": "1112460"
  },
  {
    "text": "figure out and the last one open",
    "start": "1112460",
    "end": "1113900"
  },
  {
    "text": "Telemetry collector is a rapidly",
    "start": "1113900",
    "end": "1115580"
  },
  {
    "text": "evolving uh Community there are so many",
    "start": "1115580",
    "end": "1119480"
  },
  {
    "text": "releases that if we decide to move to a",
    "start": "1119480",
    "end": "1122000"
  },
  {
    "text": "more recent version how do we ensure",
    "start": "1122000",
    "end": "1124039"
  },
  {
    "text": "that we are not regressing on any",
    "start": "1124039",
    "end": "1125840"
  },
  {
    "text": "feature and causing issues at the time",
    "start": "1125840",
    "end": "1127520"
  },
  {
    "text": "of rollout",
    "start": "1127520",
    "end": "1129679"
  },
  {
    "text": "so we came up with all the features that",
    "start": "1129679",
    "end": "1133280"
  },
  {
    "text": "we needed and",
    "start": "1133280",
    "end": "1135860"
  },
  {
    "text": "what it would take for us to move to",
    "start": "1135860",
    "end": "1137900"
  },
  {
    "text": "open Telemetry collector some of it was",
    "start": "1137900",
    "end": "1140020"
  },
  {
    "text": "already available like metadata you can",
    "start": "1140020",
    "end": "1143360"
  },
  {
    "text": "use the attribute processor or the",
    "start": "1143360",
    "end": "1145100"
  },
  {
    "text": "resource attribute processor order",
    "start": "1145100",
    "end": "1147200"
  },
  {
    "text": "discover we had figured out in the sense",
    "start": "1147200",
    "end": "1148700"
  },
  {
    "text": "that we came up with our own color with",
    "start": "1148700",
    "end": "1151340"
  },
  {
    "text": "our own control Loop that can handle it",
    "start": "1151340",
    "end": "1153700"
  },
  {
    "text": "Prometheus scraping there is an",
    "start": "1153700",
    "end": "1155600"
  },
  {
    "text": "alternative system metrics there's an",
    "start": "1155600",
    "end": "1157580"
  },
  {
    "text": "alternative",
    "start": "1157580",
    "end": "1158480"
  },
  {
    "text": "kubernetes metadata enrichment as an",
    "start": "1158480",
    "end": "1160880"
  },
  {
    "text": "alternative and for everything else we",
    "start": "1160880",
    "end": "1162140"
  },
  {
    "text": "were like okay we can figure it out",
    "start": "1162140",
    "end": "1163580"
  },
  {
    "text": "along the way in the sense that uh if",
    "start": "1163580",
    "end": "1166340"
  },
  {
    "text": "it's a feature that the community would",
    "start": "1166340",
    "end": "1167960"
  },
  {
    "text": "accept we would file pull requests and",
    "start": "1167960",
    "end": "1170419"
  },
  {
    "text": "get it into the community or we can we",
    "start": "1170419",
    "end": "1173419"
  },
  {
    "text": "can manage it as a plugin internally",
    "start": "1173419",
    "end": "1176919"
  },
  {
    "text": "so to be able to address the the problem",
    "start": "1177200",
    "end": "1181580"
  },
  {
    "text": "of not being able to reload uh at least",
    "start": "1181580",
    "end": "1184580"
  },
  {
    "text": "what we have done at this point is",
    "start": "1184580",
    "end": "1186559"
  },
  {
    "text": "introduce an internal receiver called",
    "start": "1186559",
    "end": "1188720"
  },
  {
    "text": "the file reload receiver which can take",
    "start": "1188720",
    "end": "1192559"
  },
  {
    "text": "the car which can take a partial",
    "start": "1192559",
    "end": "1194900"
  },
  {
    "text": "pipeline definition to say that this is",
    "start": "1194900",
    "end": "1196520"
  },
  {
    "text": "the receiver and these are the",
    "start": "1196520",
    "end": "1198140"
  },
  {
    "text": "processors that are associated with it",
    "start": "1198140",
    "end": "1200080"
  },
  {
    "text": "it would plug in into a standard set of",
    "start": "1200080",
    "end": "1203660"
  },
  {
    "text": "processors and an exporter so this what",
    "start": "1203660",
    "end": "1206000"
  },
  {
    "text": "this would allow us is mimic the exact",
    "start": "1206000",
    "end": "1208460"
  },
  {
    "text": "reloading feature that beats us",
    "start": "1208460",
    "end": "1211000"
  },
  {
    "text": "and bring the same capability into open",
    "start": "1211000",
    "end": "1214160"
  },
  {
    "text": "Telemetry collector so uh what was what",
    "start": "1214160",
    "end": "1217700"
  },
  {
    "text": "is essentially going to happen is that",
    "start": "1217700",
    "end": "1219080"
  },
  {
    "text": "we would uh the receiver would watch all",
    "start": "1219080",
    "end": "1221600"
  },
  {
    "text": "file changes that happen",
    "start": "1221600",
    "end": "1223220"
  },
  {
    "text": "for configurations that are being added",
    "start": "1223220",
    "end": "1225320"
  },
  {
    "text": "and removed and it would stop those",
    "start": "1225320",
    "end": "1227000"
  },
  {
    "text": "partial pipelines or start them if",
    "start": "1227000",
    "end": "1229160"
  },
  {
    "text": "there's a change it would update it so",
    "start": "1229160",
    "end": "1230840"
  },
  {
    "text": "on and so forth",
    "start": "1230840",
    "end": "1232700"
  },
  {
    "text": "this file reload receiver we have we",
    "start": "1232700",
    "end": "1235100"
  },
  {
    "text": "have been running it inside of eBay for",
    "start": "1235100",
    "end": "1236600"
  },
  {
    "text": "a while now and I think we are at a",
    "start": "1236600",
    "end": "1237919"
  },
  {
    "text": "point where we are comfortable to start",
    "start": "1237919",
    "end": "1239299"
  },
  {
    "text": "working with the community to see if",
    "start": "1239299",
    "end": "1241100"
  },
  {
    "text": "that is something that can be accepted",
    "start": "1241100",
    "end": "1242539"
  },
  {
    "text": "into the country Repository",
    "start": "1242539",
    "end": "1244520"
  },
  {
    "text": "so there's at a high level this is how",
    "start": "1244520",
    "end": "1247460"
  },
  {
    "text": "it looks like so if a person using the",
    "start": "1247460",
    "end": "1250760"
  },
  {
    "text": "the Beats hints based Auto discover",
    "start": "1250760",
    "end": "1253640"
  },
  {
    "text": "language defines that I need to be able",
    "start": "1253640",
    "end": "1256640"
  },
  {
    "text": "to scrape five zero zero one stats uh",
    "start": "1256640",
    "end": "1259820"
  },
  {
    "text": "and this is the namespace the module the",
    "start": "1259820",
    "end": "1263720"
  },
  {
    "text": "script frequency and script type mode",
    "start": "1263720",
    "end": "1266660"
  },
  {
    "text": "the left side is what",
    "start": "1266660",
    "end": "1269120"
  },
  {
    "text": "the metric beat would generate",
    "start": "1269120",
    "end": "1271400"
  },
  {
    "text": "and the right side is what we generate",
    "start": "1271400",
    "end": "1273200"
  },
  {
    "text": "so that hotel can understand so as you",
    "start": "1273200",
    "end": "1275780"
  },
  {
    "text": "can see all the mappings that we needed",
    "start": "1275780",
    "end": "1279679"
  },
  {
    "text": "to make sure that the configuration is",
    "start": "1279679",
    "end": "1281840"
  },
  {
    "text": "compatible across the agents we are",
    "start": "1281840",
    "end": "1284059"
  },
  {
    "text": "doing on the control Loop",
    "start": "1284059",
    "end": "1287799"
  },
  {
    "text": "and we ran into a bunch of issues",
    "start": "1288440",
    "end": "1290240"
  },
  {
    "text": "especially with scrape parity where",
    "start": "1290240",
    "end": "1292580"
  },
  {
    "text": "label sanitization sanitization",
    "start": "1292580",
    "end": "1294500"
  },
  {
    "text": "Prometheus was doing in one way uh open",
    "start": "1294500",
    "end": "1296780"
  },
  {
    "text": "Telemetry collector was doing it in",
    "start": "1296780",
    "end": "1298159"
  },
  {
    "text": "another way and uh understanding colon",
    "start": "1298159",
    "end": "1301280"
  },
  {
    "text": "as a as a as a",
    "start": "1301280",
    "end": "1304179"
  },
  {
    "text": "first character of a metric name Hotel",
    "start": "1304179",
    "end": "1307100"
  },
  {
    "text": "was behaving a different way than",
    "start": "1307100",
    "end": "1308780"
  },
  {
    "text": "Prometheus so these are things that we",
    "start": "1308780",
    "end": "1311360"
  },
  {
    "text": "have worked with the community and we",
    "start": "1311360",
    "end": "1314000"
  },
  {
    "text": "have file PR's they have been accepted",
    "start": "1314000",
    "end": "1315740"
  },
  {
    "text": "by the community either behind a feature",
    "start": "1315740",
    "end": "1317659"
  },
  {
    "text": "flag or as a straight out bug fix and uh",
    "start": "1317659",
    "end": "1321380"
  },
  {
    "text": "uh at least now we are in a in a space",
    "start": "1321380",
    "end": "1324260"
  },
  {
    "text": "where we can say that okay the scrapes",
    "start": "1324260",
    "end": "1326179"
  },
  {
    "text": "more or less match and we can start we",
    "start": "1326179",
    "end": "1328460"
  },
  {
    "text": "can confidently roll out open Telemetry",
    "start": "1328460",
    "end": "1330980"
  },
  {
    "text": "into our into our kubernetes clusters",
    "start": "1330980",
    "end": "1333679"
  },
  {
    "text": "um",
    "start": "1333679",
    "end": "1334700"
  },
  {
    "text": "we also had to put in a lot of effort to",
    "start": "1334700",
    "end": "1337100"
  },
  {
    "text": "run",
    "start": "1337100",
    "end": "1338360"
  },
  {
    "text": "um uh sort of pre-checks in the sense",
    "start": "1338360",
    "end": "1340940"
  },
  {
    "text": "that we spin up metric beat we spin up",
    "start": "1340940",
    "end": "1343280"
  },
  {
    "text": "open till midi collector we point them",
    "start": "1343280",
    "end": "1345080"
  },
  {
    "text": "to the same endpoint uh get collect",
    "start": "1345080",
    "end": "1347900"
  },
  {
    "text": "their outputs compare the left side and",
    "start": "1347900",
    "end": "1350299"
  },
  {
    "text": "the right side make sure that things are",
    "start": "1350299",
    "end": "1351679"
  },
  {
    "text": "good and if they are good then",
    "start": "1351679",
    "end": "1354760"
  },
  {
    "text": "we move on to actually rolling out into",
    "start": "1354760",
    "end": "1357320"
  },
  {
    "text": "their cluster if we identify an issue we",
    "start": "1357320",
    "end": "1360679"
  },
  {
    "text": "triage fix and then move forward we kept",
    "start": "1360679",
    "end": "1363080"
  },
  {
    "text": "iterating and we you'd be surprised so",
    "start": "1363080",
    "end": "1366500"
  },
  {
    "text": "many times we had to roll back because",
    "start": "1366500",
    "end": "1368179"
  },
  {
    "text": "as I had said like one 1.25 million",
    "start": "1368179",
    "end": "1370400"
  },
  {
    "text": "Prometheus endpoints there are going to",
    "start": "1370400",
    "end": "1372500"
  },
  {
    "text": "be",
    "start": "1372500",
    "end": "1373240"
  },
  {
    "text": "several quote-unquote handwritings that",
    "start": "1373240",
    "end": "1376220"
  },
  {
    "text": "people had in terms of how they did",
    "start": "1376220",
    "end": "1377840"
  },
  {
    "text": "instrumentation some of it good some of",
    "start": "1377840",
    "end": "1379820"
  },
  {
    "text": "it not so good but still we had to make",
    "start": "1379820",
    "end": "1381860"
  },
  {
    "text": "sure that we do not break any",
    "start": "1381860",
    "end": "1384100"
  },
  {
    "text": "metric scraping when we are moving from",
    "start": "1384100",
    "end": "1386419"
  },
  {
    "text": "One agent to another",
    "start": "1386419",
    "end": "1388580"
  },
  {
    "text": "so right now uh I think this this",
    "start": "1388580",
    "end": "1391580"
  },
  {
    "text": "happened just last week we are done",
    "start": "1391580",
    "end": "1394299"
  },
  {
    "text": "migrating out of metric beat into uh",
    "start": "1394299",
    "end": "1397820"
  },
  {
    "text": "open Telemetry collector we even bridged",
    "start": "1397820",
    "end": "1401360"
  },
  {
    "text": "a gap of exemplars not being scraped by",
    "start": "1401360",
    "end": "1404299"
  },
  {
    "text": "the open Geometry collector one of our",
    "start": "1404299",
    "end": "1406159"
  },
  {
    "text": "Engineers actually filed a pull request",
    "start": "1406159",
    "end": "1408200"
  },
  {
    "text": "that got merged a couple of weeks back",
    "start": "1408200",
    "end": "1409840"
  },
  {
    "text": "tracing we are using open Telemetry",
    "start": "1409840",
    "end": "1412580"
  },
  {
    "text": "collector and the open telemetest SDK",
    "start": "1412580",
    "end": "1415760"
  },
  {
    "text": "right from day one and file beat also",
    "start": "1415760",
    "end": "1418400"
  },
  {
    "text": "for logs we are actively figuring out",
    "start": "1418400",
    "end": "1420140"
  },
  {
    "text": "how we can Bridge the gaps and sometime",
    "start": "1420140",
    "end": "1422720"
  },
  {
    "text": "next year we'll be fully on open",
    "start": "1422720",
    "end": "1425059"
  },
  {
    "text": "telemetic collector for logs as well",
    "start": "1425059",
    "end": "1427820"
  },
  {
    "text": "uh we are still",
    "start": "1427820",
    "end": "1430720"
  },
  {
    "text": "hardening uh by coming up with the",
    "start": "1430720",
    "end": "1434240"
  },
  {
    "text": "regression Frameworks that we can run",
    "start": "1434240",
    "end": "1436039"
  },
  {
    "text": "periodically to make sure that we can",
    "start": "1436039",
    "end": "1438320"
  },
  {
    "text": "upgrade with ease that is something that",
    "start": "1438320",
    "end": "1440539"
  },
  {
    "text": "we are still actively working on uh and",
    "start": "1440539",
    "end": "1443120"
  },
  {
    "text": "uh over the coming days weeks months we",
    "start": "1443120",
    "end": "1446659"
  },
  {
    "text": "will continue to work with the open",
    "start": "1446659",
    "end": "1447740"
  },
  {
    "text": "geometrical collector Community to make",
    "start": "1447740",
    "end": "1451340"
  },
  {
    "text": "sure that issues that we are seeing we",
    "start": "1451340",
    "end": "1454100"
  },
  {
    "text": "are able to contribute fixes and we are",
    "start": "1454100",
    "end": "1455960"
  },
  {
    "text": "also able to work with the community to",
    "start": "1455960",
    "end": "1458720"
  },
  {
    "text": "make sure that we are enhancing the",
    "start": "1458720",
    "end": "1460340"
  },
  {
    "text": "capabilities that the collector offers",
    "start": "1460340",
    "end": "1463760"
  },
  {
    "text": "uh this is our team uh Prem and Peter",
    "start": "1463760",
    "end": "1466700"
  },
  {
    "text": "they're the pillars of the agent group",
    "start": "1466700",
    "end": "1468820"
  },
  {
    "text": "uh did most of the migration for metrics",
    "start": "1468820",
    "end": "1472700"
  },
  {
    "text": "uh Aishwarya she works on tracing she",
    "start": "1472700",
    "end": "1475520"
  },
  {
    "text": "helped with the Exemplar feature and",
    "start": "1475520",
    "end": "1477260"
  },
  {
    "text": "then Edward uh he's helping with the",
    "start": "1477260",
    "end": "1480820"
  },
  {
    "text": "logs migration",
    "start": "1480820",
    "end": "1484100"
  },
  {
    "text": "if you like what you heard scan the QR",
    "start": "1484100",
    "end": "1486799"
  },
  {
    "text": "code we definitely would like to work",
    "start": "1486799",
    "end": "1489260"
  },
  {
    "text": "with you on open Telemetry together",
    "start": "1489260",
    "end": "1493360"
  }
]