[
  {
    "start": "0",
    "end": "63000"
  },
  {
    "text": "thank you for joining good afternoon my name is rich runner and my name is gage",
    "start": "79",
    "end": "7410"
  },
  {
    "text": "ors brain i we both work at one source integrations and we are predominantly a",
    "start": "7410",
    "end": "14280"
  },
  {
    "text": "consulting company which recently decided we were going to be a software company",
    "start": "14280",
    "end": "21140"
  },
  {
    "text": "our business is network testing Network automation enterprises will hire us to",
    "start": "21140",
    "end": "28980"
  },
  {
    "text": "do things like data center refreshes or advising on next phases of technology",
    "start": "28980",
    "end": "35370"
  },
  {
    "text": "for their on-prem infrastructure one of the challenges that we've had in that business model is being able to provide",
    "start": "35370",
    "end": "44100"
  },
  {
    "text": "certainty around automation strategies or tooling that we recommend so that's",
    "start": "44100",
    "end": "51719"
  },
  {
    "text": "what this talk is about our journey into how we attempted to solve that problem",
    "start": "51719",
    "end": "57090"
  },
  {
    "text": "previously and how we're successfully solving it leveraging kubernetes so",
    "start": "57090",
    "end": "65460"
  },
  {
    "start": "63000",
    "end": "63000"
  },
  {
    "text": "today's agenda we'll go through the problem hopefully give those that haven't been a part of a enterprise",
    "start": "65460",
    "end": "71939"
  },
  {
    "text": "network change window an understanding of what goes into that at least at a high level talk about what we wanted to",
    "start": "71939",
    "end": "79259"
  },
  {
    "text": "achieve with this project as well as some of the key community projects here",
    "start": "79259",
    "end": "85110"
  },
  {
    "text": "at the cloud native conference that enabled us to to do this it's also a",
    "start": "85110",
    "end": "92299"
  },
  {
    "text": "fairly difficult problem a lot of folks are talking about multiple interfaces for their runtime virtual routers and",
    "start": "92299",
    "end": "101369"
  },
  {
    "text": "virtual network appliances have more than one interface by default so should",
    "start": "101369",
    "end": "108240"
  },
  {
    "text": "be a good time so let's jump right into it originally we were describing the",
    "start": "108240",
    "end": "116340"
  },
  {
    "start": "112000",
    "end": "112000"
  },
  {
    "text": "problem in terms of like this router won't run on this platform this f5 load",
    "start": "116340",
    "end": "122880"
  },
  {
    "text": "bouncer won't run in kubernetes because of this the recommendation from the",
    "start": "122880",
    "end": "129720"
  },
  {
    "text": "community was to say tell me more about what you're trying to solve the end of the day and then I can",
    "start": "129720",
    "end": "135630"
  },
  {
    "text": "understand where you're trying to go so if you're an enterprise and you have a",
    "start": "135630",
    "end": "142400"
  },
  {
    "text": "let's say data center network and when network and a few branches or several",
    "start": "142400",
    "end": "149190"
  },
  {
    "text": "branches in certain cases the only metric that your users measure you buy is how available you are they don't ask",
    "start": "149190",
    "end": "156930"
  },
  {
    "text": "you what version you're running on your routing platform they don't ask you how how good is your throughput it's just is",
    "start": "156930",
    "end": "164310"
  },
  {
    "text": "it available or is it not so pretty easy on face value",
    "start": "164310",
    "end": "170610"
  },
  {
    "text": "just keep the network up so let's",
    "start": "170610",
    "end": "175709"
  },
  {
    "start": "174000",
    "end": "174000"
  },
  {
    "text": "quickly try to gain some understanding about what it is that I'm talking about",
    "start": "175709",
    "end": "180870"
  },
  {
    "text": "with a change control process or salt on the attendee list a lot of the vendor",
    "start": "180870",
    "end": "187410"
  },
  {
    "text": "names so I'm sure you guys will be very familiar with this but get everybody on the same page here in most cases what",
    "start": "187410",
    "end": "194370"
  },
  {
    "text": "will happen is a customer of the business wants to make a change for one reason or another either to enhance",
    "start": "194370",
    "end": "200070"
  },
  {
    "text": "security to allow a new service to implement a new service in this case in",
    "start": "200070",
    "end": "205920"
  },
  {
    "text": "our Acme Incorporated here we've been ax asked to update an access",
    "start": "205920",
    "end": "212310"
  },
  {
    "text": "control list so pretty simple request I have SFTP clients and HTTP clients on",
    "start": "212310",
    "end": "220260"
  },
  {
    "text": "the right and the Internet and the SFTP server that's being targeted on the left",
    "start": "220260",
    "end": "226950"
  },
  {
    "text": "so we need to make a firewall rule which will allow that and secure the firewall",
    "start": "226950",
    "end": "234570"
  },
  {
    "text": "from the perspective of not allowing other types of traffic through so let's go ahead and get started it seems to",
    "start": "234570",
    "end": "244380"
  },
  {
    "start": "239000",
    "end": "239000"
  },
  {
    "text": "make sense to put the access rule in the outbound direction from the perspective",
    "start": "244380",
    "end": "249720"
  },
  {
    "text": "of the clients so a couple Google searches later SFTP operates over port",
    "start": "249720",
    "end": "257070"
  },
  {
    "text": "22 using TCP protocol HTTP uses 443 and",
    "start": "257070",
    "end": "262620"
  },
  {
    "text": "then I need to make sure that I meet that last requirement make it secure so I'm gonna have to deny",
    "start": "262620",
    "end": "268729"
  },
  {
    "text": "something looking across Internet there's a lot of default rules that say",
    "start": "268729",
    "end": "275240"
  },
  {
    "text": "well just an isle IP that seemed good",
    "start": "275240",
    "end": "280360"
  },
  {
    "text": "and I want to make sure that I can turn in a good change report at the end of this change request so I test can 443",
    "start": "280719",
    "end": "288949"
  },
  {
    "text": "get out perfect how about telnet something that I wasn't asked to enable okay can't get out",
    "start": "288949",
    "end": "295569"
  },
  {
    "text": "perfect so close it down we're good well",
    "start": "295569",
    "end": "303099"
  },
  {
    "text": "everybody comes in the next morning and they still want DNS and NTP so at the",
    "start": "303099",
    "end": "312439"
  },
  {
    "text": "time when nobody was on the network to give me any feedback seemed like I had met all the requirements but in reality",
    "start": "312439",
    "end": "318259"
  },
  {
    "text": "I had broken just about every server or network device on the other side so that",
    "start": "318259",
    "end": "326569"
  },
  {
    "text": "was a contrived example obviously an experienced firewall engineer wouldn't",
    "start": "326569",
    "end": "333050"
  },
  {
    "text": "make that mistake but the idea is to give you an idea of some of the",
    "start": "333050",
    "end": "338449"
  },
  {
    "text": "challenges and things that are creeping up that you might not necessarily think about when given a problem to solve thank you solved it but in reality a lot",
    "start": "338449",
    "end": "347180"
  },
  {
    "text": "of other things at play the second part of the problem is that this isn't a new",
    "start": "347180",
    "end": "352870"
  },
  {
    "text": "goal you know vendors have been producing network appliances platforms",
    "start": "352870",
    "end": "358159"
  },
  {
    "text": "operating systems for years and their customers have said how can i model this",
    "start": "358159",
    "end": "363529"
  },
  {
    "text": "in a low risk environment that allows me to validate my changes and several other",
    "start": "363529",
    "end": "369529"
  },
  {
    "text": "upgrade procedures the biggest problem that our company is run into is that",
    "start": "369529",
    "end": "376310"
  },
  {
    "text": "most of those can't scale for various reasons you know and know no harm no",
    "start": "376310",
    "end": "385009"
  },
  {
    "text": "foul but that was a sticking point you know and pretty much everything we tried",
    "start": "385009",
    "end": "390189"
  },
  {
    "text": "right around the time Gage joined the team I started hearing a lot about kubernetes and when I told him well I",
    "start": "390189",
    "end": "397009"
  },
  {
    "text": "need to make 300 devices to model this customers network boy he's",
    "start": "397009",
    "end": "403320"
  },
  {
    "text": "like will here look at this planet scale so I read it and it's like well you know if it's good enough for Google",
    "start": "403320",
    "end": "409440"
  },
  {
    "text": "I guess it's good enough for me because my problems not that big so now we know",
    "start": "409440",
    "end": "416040"
  },
  {
    "start": "414000",
    "end": "414000"
  },
  {
    "text": "that we want to use kubernetes for scale purposes we need to set some goals and try to stay focused while we're",
    "start": "416040",
    "end": "421620"
  },
  {
    "text": "developing this product the most important thing that we want to do is provide that assurance like we're tarmo",
    "start": "421620",
    "end": "429360"
  },
  {
    "text": "earlier a company is only as good as the availability or a network team as only",
    "start": "429360",
    "end": "434550"
  },
  {
    "text": "as good as its availability so that's 0.1 and then various online",
    "start": "434550",
    "end": "439680"
  },
  {
    "text": "posts and other surveys and things of the like say that the network process is",
    "start": "439680",
    "end": "448110"
  },
  {
    "text": "archaic a lot of other words being thrown around but that was the second",
    "start": "448110",
    "end": "453870"
  },
  {
    "text": "thing that we wanted to attack bring the principles and the successful methodologies and impresses that other",
    "start": "453870",
    "end": "460590"
  },
  {
    "text": "groups application developers and server administrators alike have leverage to be",
    "start": "460590",
    "end": "466050"
  },
  {
    "text": "successful in their field bring that to the network so I think I mentioned it",
    "start": "466050",
    "end": "473370"
  },
  {
    "start": "470000",
    "end": "470000"
  },
  {
    "text": "earlier most network appliances come in the form of a VM and very few are",
    "start": "473370",
    "end": "480120"
  },
  {
    "text": "containerized by default in addition of that while customers are asking for it",
    "start": "480120",
    "end": "488040"
  },
  {
    "text": "and the answers is being replied or the vendors are providing solutions rather",
    "start": "488040",
    "end": "494180"
  },
  {
    "text": "the ecosystem could use some growth I mean there's just a lot of tools that will help you produce changes in your",
    "start": "494180",
    "end": "502320"
  },
  {
    "text": "production environment but there doesn't seem to be as much focus around the validation and the the",
    "start": "502320",
    "end": "509730"
  },
  {
    "text": "pipeline that gets you to that production page and the first thing that",
    "start": "509730",
    "end": "516690"
  },
  {
    "text": "we noticed was that we have a network topology that looks a very particular way and taking advantage of kubernetes",
    "start": "516690",
    "end": "525000"
  },
  {
    "text": "is going to swing that topology the routers are going to be all over separate notes so gonna solve that",
    "start": "525000",
    "end": "530220"
  },
  {
    "text": "problem somehow so I'm gonna hit on that first point in",
    "start": "530220",
    "end": "536100"
  },
  {
    "text": "that previous slide that Ridge hit about network appliances being hard to",
    "start": "536100",
    "end": "541140"
  },
  {
    "text": "containerize our solution that we came across for this is a Red Hat upstream",
    "start": "541140",
    "end": "547440"
  },
  {
    "text": "project product project called Q Bert get repose on the slides along with a",
    "start": "547440",
    "end": "553260"
  },
  {
    "text": "demo it's a I'll just give like a beat brief kind of description of it so it's",
    "start": "553260",
    "end": "559800"
  },
  {
    "text": "it's really just a kubernetes addon that adds a few custom resource definitions",
    "start": "559800",
    "end": "565100"
  },
  {
    "text": "mainly we're adding in virtual machines and virtual machine instances so that we",
    "start": "565100",
    "end": "571170"
  },
  {
    "text": "can enable vm workloads whenever we need them right",
    "start": "571170",
    "end": "576350"
  },
  {
    "text": "Cubert kind of allows us to do some cool things with converged infrastructure so",
    "start": "576380",
    "end": "581850"
  },
  {
    "text": "that we can put kubernetes or OpenShift on bare metal and still run our vm",
    "start": "581850",
    "end": "587760"
  },
  {
    "text": "workloads as we need there there's some cool talk and cool stuff going on in the community",
    "start": "587760",
    "end": "593880"
  },
  {
    "text": "for instance we there there was an issue and there's been some examples out there about putting kubernetes on top of cube",
    "start": "593880",
    "end": "600870"
  },
  {
    "text": "roots so you're kind of running like kubernetes on top of kubernetes real",
    "start": "600870",
    "end": "606900"
  },
  {
    "text": "real interesting stuff so doing a lot of kubernetes and open chef consulting i",
    "start": "606900",
    "end": "614040"
  },
  {
    "text": "noticed that just about every customer is using some software that they don't control using some software through a",
    "start": "614040",
    "end": "621060"
  },
  {
    "text": "vendor or their they're running products",
    "start": "621060",
    "end": "627450"
  },
  {
    "text": "like legacy applications that they're just not ready or able to containerize",
    "start": "627450",
    "end": "632610"
  },
  {
    "text": "just yet this is especially true for network appliances a few vendors have",
    "start": "632610",
    "end": "640110"
  },
  {
    "text": "containerized their appliances many are still VMS it's great when the vendors",
    "start": "640110",
    "end": "647310"
  },
  {
    "text": "already have containerized their appliances because it we're running kubernetes kubernetes is great at",
    "start": "647310",
    "end": "652920"
  },
  {
    "text": "orchestrating containers so we don't like there there's no action for us to",
    "start": "652920",
    "end": "658980"
  },
  {
    "text": "do there what's really cool about this Cubert setup is that it allows us to run",
    "start": "658980",
    "end": "665769"
  },
  {
    "text": "both vm appliances as well as containerized applications as they like",
    "start": "665769",
    "end": "672579"
  },
  {
    "text": "as they get released containerize or sorry it's good with the NEX so another",
    "start": "672579",
    "end": "682480"
  },
  {
    "text": "good project that's in the community is the containerized data importer otherwise known as CDI it's essentially",
    "start": "682480",
    "end": "692019"
  },
  {
    "text": "a like it kind of X traps abstracts away",
    "start": "692019",
    "end": "698820"
  },
  {
    "text": "importing images into PVCs and enables things like cloning that you that you",
    "start": "698820",
    "end": "704680"
  },
  {
    "text": "typically have in a VM environment but you don't quite that we don't quite have in kubernetes typically for things like",
    "start": "704680",
    "end": "713620"
  },
  {
    "text": "CI CD we don't really care much about state for virtual routers towards the",
    "start": "713620",
    "end": "719199"
  },
  {
    "text": "end of our pipeline run the virtual router is going to die down anyway so we",
    "start": "719199",
    "end": "724300"
  },
  {
    "text": "typically we typically use a container disks to do that but there are some",
    "start": "724300",
    "end": "734440"
  },
  {
    "text": "instances where we want to be able to power off or our virtual router and then",
    "start": "734440",
    "end": "741910"
  },
  {
    "text": "power it back on and it kind of have that same state or you know have a router that's kind of fixed in it in an",
    "start": "741910",
    "end": "748209"
  },
  {
    "text": "in a state without us having to provision it so example of that is",
    "start": "748209",
    "end": "754420"
  },
  {
    "text": "bridge earlier mentioned if we have 300 virtual routers it's cool that",
    "start": "754420",
    "end": "759670"
  },
  {
    "text": "kubernetes can orchestrate all those routers for me but it's going to take a",
    "start": "759670",
    "end": "765459"
  },
  {
    "text": "while to provision all those guys there's 300 of them so that that might",
    "start": "765459",
    "end": "771339"
  },
  {
    "text": "be an instance where we want to use CDI another cool thing that we've done is we",
    "start": "771339",
    "end": "780930"
  },
  {
    "text": "we use Qbert Qbert has a like bridge like little",
    "start": "780930",
    "end": "788319"
  },
  {
    "text": "bridge mechanism that it uses to pass the",
    "start": "788319",
    "end": "793290"
  },
  {
    "text": "the IP address from the pod directly to the VM and we kind of hooked onto that",
    "start": "793570",
    "end": "799310"
  },
  {
    "text": "and add it in like dhcp options so we can leverage some some stuff like",
    "start": "799310",
    "end": "805310"
  },
  {
    "text": "automatically bootstrapping our routers with say SSH config or say we want to be",
    "start": "805310",
    "end": "813529"
  },
  {
    "text": "testing like ztp stuff like that you can",
    "start": "813529",
    "end": "819350"
  },
  {
    "text": "kind of see an example of this in the slides and that's kind of kind of all",
    "start": "819350",
    "end": "825380"
  },
  {
    "text": "I'm gonna talk about Qbert if you're interested in it there's one more session that's on Thursday it's go to it",
    "start": "825380",
    "end": "833720"
  },
  {
    "text": "I encourage it or I recommend it if you're interested so in this picture",
    "start": "833720",
    "end": "846500"
  },
  {
    "start": "844000",
    "end": "844000"
  },
  {
    "text": "we've used a cube verb or kubernetes manifest to kind of deploy a service",
    "start": "846500",
    "end": "853070"
  },
  {
    "text": "provider topology in its own namespace after we actually deploy it as you can",
    "start": "853070",
    "end": "860180"
  },
  {
    "text": "see we we have this new object called a VMI which is a virtual machine instance",
    "start": "860180",
    "end": "865760"
  },
  {
    "text": "we got a we got we got a virtual machine instance for every one of our routers",
    "start": "865760",
    "end": "871570"
  },
  {
    "text": "they each got their own IP they all got scheduled to different nodes wherever",
    "start": "871570",
    "end": "879260"
  },
  {
    "text": "there was capacity to schedule them and then here's a view of the pods where you",
    "start": "879260",
    "end": "887959"
  },
  {
    "text": "can kind of see the same thing if you notice the the pods kind of match up one",
    "start": "887959",
    "end": "893390"
  },
  {
    "text": "to one with the VM is except you notice there's three three containers at the",
    "start": "893390",
    "end": "898699"
  },
  {
    "text": "top we kind of already touched on the the TFTP we're using that to bootstrap",
    "start": "898699",
    "end": "905060"
  },
  {
    "text": "routers as we deploy a topology OC serve is open connect server we're typically",
    "start": "905060",
    "end": "910550"
  },
  {
    "text": "using that whenever we want to allow ingress into our kubernetes cluster and",
    "start": "910550",
    "end": "916940"
  },
  {
    "text": "we can leverage things like goo varieties and network policy to kind of like lock that down and control what",
    "start": "916940",
    "end": "922220"
  },
  {
    "text": "what can access what the last thing there is the metadata",
    "start": "922220",
    "end": "929760"
  },
  {
    "text": "server and it's if you've ever used ec2 I believe there is a like or AWS which",
    "start": "929760",
    "end": "938040"
  },
  {
    "start": "930000",
    "end": "930000"
  },
  {
    "text": "most of you probably have there is a like 169 169 something address that you",
    "start": "938040",
    "end": "946170"
  },
  {
    "text": "can that you can query and it'll give you it'll give you metadata and",
    "start": "946170",
    "end": "951240"
  },
  {
    "text": "information about your about your servers and this is useful for stuff like like say whenever we're installing",
    "start": "951240",
    "end": "959640"
  },
  {
    "text": "OpenShift on a bit on AWS the open shipped installer actually uses this to gather",
    "start": "959640",
    "end": "966480"
  },
  {
    "text": "information about my nodes what we typically use it for or well this this",
    "start": "966480",
    "end": "972840"
  },
  {
    "text": "the service kind of mirrors that and what we typically use it for is to",
    "start": "972840",
    "end": "977900"
  },
  {
    "text": "provide us kind of like a dynamic inventory so that we're not so that",
    "start": "978680",
    "end": "988890"
  },
  {
    "text": "we're not having to like re like mess with static files every time we deploy a new topology usually we're testing",
    "start": "988890",
    "end": "995370"
  },
  {
    "text": "topologies pretty rapidly and we're trying different combinations of different things and it's it's a lot to",
    "start": "995370",
    "end": "1001070"
  },
  {
    "text": "keep track of that static file so we try to do it we try to do as much dynamically as possible and with that I'm gonna give it",
    "start": "1001070",
    "end": "1009500"
  },
  {
    "text": "back to rich to talk a little bit about how we conquer some of the C&I and networking problems to accomplish this",
    "start": "1009500",
    "end": "1015520"
  },
  {
    "text": "sure thanks gage just to recap I guess from the perspective of the network",
    "start": "1015520",
    "end": "1021260"
  },
  {
    "text": "engineer at this point I now have the ability to provision as many routers as",
    "start": "1021260",
    "end": "1027050"
  },
  {
    "text": "is required I can also set up the initial bootstrap of those",
    "start": "1027050",
    "end": "1033050"
  },
  {
    "text": "so I've already probably saved a day in my change preparation or validation",
    "start": "1033050",
    "end": "1039770"
  },
  {
    "text": "efforts so big thanks to the Qbert guys if anybody's here definitely a key",
    "start": "1039770",
    "end": "1047000"
  },
  {
    "text": "component to what we're trying to achieve so this is our first time talking to cube Khan and in watching all",
    "start": "1047000",
    "end": "1054920"
  },
  {
    "start": "1050000",
    "end": "1050000"
  },
  {
    "text": "of the other videos on the internet it seems like it is unspoken rule that you have to quote",
    "start": "1054920",
    "end": "1060220"
  },
  {
    "text": "Kelsey Hightower or have a tweet from him or something so he doesn't talk",
    "start": "1060220",
    "end": "1065380"
  },
  {
    "text": "about Network automation change control and see ICD pipelines in that context",
    "start": "1065380",
    "end": "1071530"
  },
  {
    "text": "very often but he does mention that multiple interfaces is hard he is not",
    "start": "1071530",
    "end": "1078550"
  },
  {
    "text": "wrong it it was a problem that we thought we would solve in a week and I",
    "start": "1078550",
    "end": "1084880"
  },
  {
    "text": "think it took several months before it was actually all all settled so why is",
    "start": "1084880",
    "end": "1092800"
  },
  {
    "text": "this why is this hard well by default if I were to spend up at kubernetes cluster and spin up all these routers that would",
    "start": "1092800",
    "end": "1100690"
  },
  {
    "start": "1093000",
    "end": "1093000"
  },
  {
    "text": "work except they would only be provisioned that single communities",
    "start": "1100690",
    "end": "1106090"
  },
  {
    "text": "allocated address an interface so some of the appliances actually would not",
    "start": "1106090",
    "end": "1111250"
  },
  {
    "text": "even boot as a result of that so multi seems to be a pretty popular network",
    "start": "1111250",
    "end": "1117580"
  },
  {
    "text": "plumbing frontrunner I haven't checked in on the sig group and and where",
    "start": "1117580",
    "end": "1122950"
  },
  {
    "text": "they're heading in the long run but we've certainly been happy with it and I",
    "start": "1122950",
    "end": "1129030"
  },
  {
    "text": "think it has applications outside of you know the the context that we're speaking of it certainly a lot of like service",
    "start": "1129030",
    "end": "1134680"
  },
  {
    "text": "VMs and other virtual network forwarding applications that that are in the hunt",
    "start": "1134680",
    "end": "1139810"
  },
  {
    "text": "for multiple interfaces so we'll walk through how we're leveraging that and",
    "start": "1139810",
    "end": "1145050"
  },
  {
    "text": "some of the some of the specifics around the configuration so the mechanism to",
    "start": "1145050",
    "end": "1154500"
  },
  {
    "text": "get more interfaces associated in a particular pods in network namespace is",
    "start": "1154500",
    "end": "1159640"
  },
  {
    "text": "an annotation I think that this is just due to the youth of the project and",
    "start": "1159640",
    "end": "1165190"
  },
  {
    "text": "eventually will be part of like the actual spec and not be a custom resource but for the time being we have to use",
    "start": "1165190",
    "end": "1172810"
  },
  {
    "text": "this network attachment definition to let the provisioner know or the",
    "start": "1172810",
    "end": "1177970"
  },
  {
    "text": "orchestrator cubelet in this case like what is the interface connectivity and",
    "start": "1177970",
    "end": "1184180"
  },
  {
    "text": "in some cases addressing that we want to use",
    "start": "1184180",
    "end": "1188910"
  },
  {
    "text": "in our case we didn't know that we were gonna write a C and I I guess naively I",
    "start": "1189900",
    "end": "1196480"
  },
  {
    "text": "thought that we would use Malta and a community provided plugin and like I said a week's time would be out of there",
    "start": "1196480",
    "end": "1203010"
  },
  {
    "text": "on to the fun stuff of validating network topologies and magic all kinds",
    "start": "1203010",
    "end": "1208570"
  },
  {
    "text": "of other things so let's take a look at the community plugins even if you're not",
    "start": "1208570",
    "end": "1213790"
  },
  {
    "text": "testing virtual network topologies maybe you can derive some value from the plugins some that we tried and some of",
    "start": "1213790",
    "end": "1219760"
  },
  {
    "text": "the insights of a game from it so first up we have a host device this is very",
    "start": "1219760",
    "end": "1227860"
  },
  {
    "start": "1221000",
    "end": "1221000"
  },
  {
    "text": "simple it just means that I have a network interface that is already ready to be leveraged by a pod and it's in the",
    "start": "1227860",
    "end": "1235750"
  },
  {
    "text": "root namespace at the host this is a common theme that we'll see throughout these I tried to simplify the example I",
    "start": "1235750",
    "end": "1244060"
  },
  {
    "text": "mean there's plenty of talks in past Q cons around the network name space and and CNI provisioning process so just to",
    "start": "1244060",
    "end": "1251740"
  },
  {
    "text": "give you some context here the router one is our you know virtual router name space or a pod just like any other and",
    "start": "1251740",
    "end": "1258220"
  },
  {
    "text": "we highlight when we're on the inside the outside of the network namespace so like I said the host device means I",
    "start": "1258220",
    "end": "1265330"
  },
  {
    "text": "gotta already have that pre provisioned and it's job is just to put it inside",
    "start": "1265330",
    "end": "1270460"
  },
  {
    "text": "the bottle that's not too bad it becomes difficult to predict what topologies",
    "start": "1270460",
    "end": "1278170"
  },
  {
    "text": "come in next especially as we go to GA when you know it's not just us testing in the lab anymore people are just",
    "start": "1278170",
    "end": "1284020"
  },
  {
    "text": "coming and deploying topologies or have automated processes that are calling the API so possibly solvable but certainly",
    "start": "1284020",
    "end": "1293560"
  },
  {
    "text": "not optimal this one tricked me I thought that point-to-point meant like",
    "start": "1293560",
    "end": "1300550"
  },
  {
    "text": "very simple point-to-point pipe no interference but what it actually means",
    "start": "1300550",
    "end": "1306130"
  },
  {
    "text": "is it expects that there's gonna be an IP address allocated to the pod interface at which point it gets routed",
    "start": "1306130",
    "end": "1311530"
  },
  {
    "text": "to the host that wasn't optimal because we have no idea what the interface IP",
    "start": "1311530",
    "end": "1317290"
  },
  {
    "text": "address is of that router and you know hopefully the customer is leveraging some sort of configuration",
    "start": "1317290",
    "end": "1323429"
  },
  {
    "text": "management tooling once they have their router bootstrapped you know to assign that so what enable will take advantage",
    "start": "1323429",
    "end": "1330330"
  },
  {
    "text": "of that Mac VLAN again is kind of a",
    "start": "1330330",
    "end": "1335630"
  },
  {
    "text": "potential option notice that we've added another Ethernet interface here that's",
    "start": "1335630",
    "end": "1341340"
  },
  {
    "text": "just a demonstrate that if we're gonna enslave this Ethernet one in this case",
    "start": "1341340",
    "end": "1346620"
  },
  {
    "text": "to be taken advantage of by the pods being provisioned it basically means",
    "start": "1346620",
    "end": "1352559"
  },
  {
    "text": "that I'm pushing my problem like outside of kubernetes we're looking to take",
    "start": "1352559",
    "end": "1358860"
  },
  {
    "text": "advantage of multiple clouds and cost optimized in that way so we have no idea what the environments gonna be nor",
    "start": "1358860",
    "end": "1365220"
  },
  {
    "text": "visibility and access to make changes so that one's out this is the one that",
    "start": "1365220",
    "end": "1372590"
  },
  {
    "text": "again we thought we were good to go we started running down the road with a bridge plugin and there's an option with",
    "start": "1372590",
    "end": "1380280"
  },
  {
    "text": "the bridge CNI plug-in where you can operate an l2 mode only so for us that",
    "start": "1380280",
    "end": "1386010"
  },
  {
    "text": "seemed like a good deal because we could get back to the days of getting our virtual routers and appliances into a",
    "start": "1386010",
    "end": "1392549"
  },
  {
    "text": "common Linux bridge trusted well used across several solutions and off we go",
    "start": "1392549",
    "end": "1401780"
  },
  {
    "text": "we start to run into a few problems after we left three nodes and once we",
    "start": "1404000",
    "end": "1410039"
  },
  {
    "text": "got into 8 to 10 routers with this approach one of our first tests",
    "start": "1410039",
    "end": "1417690"
  },
  {
    "text": "apologies was a V X LAN implementation which happened to leverage some",
    "start": "1417690",
    "end": "1425600"
  },
  {
    "text": "broadcast and multicast traffic and after a little while of running in a few",
    "start": "1425600",
    "end": "1432330"
  },
  {
    "text": "tests of like failing this node or failing that node all of that broadcast domain traffic started to actually make",
    "start": "1432330",
    "end": "1441659"
  },
  {
    "text": "it not usable because we were using a 2-0 at the time but point being from our",
    "start": "1441659",
    "end": "1450179"
  },
  {
    "text": "goal and our problem statement of scale and ease of deployment having a",
    "start": "1450179",
    "end": "1456710"
  },
  {
    "text": "limitation on well make sure that you limit your broadcast domains in this way because this is the architecture behind",
    "start": "1456710",
    "end": "1462680"
  },
  {
    "text": "the scenes didn't quite seem like the right way to go and then something that",
    "start": "1462680",
    "end": "1470650"
  },
  {
    "start": "1466000",
    "end": "1466000"
  },
  {
    "text": "neither of us noticed but some other guys on the team notice that once you",
    "start": "1470650",
    "end": "1475850"
  },
  {
    "text": "deployed this there were no LDP neighbors so even if you've deployed it",
    "start": "1475850",
    "end": "1481100"
  },
  {
    "text": "and you know how everything's connected and you trust us a common utility used by most operators and administrators is",
    "start": "1481100",
    "end": "1488080"
  },
  {
    "text": "well what is my neighbor like what is the protocol telling me that I'm connected to well it turns out that we",
    "start": "1488080",
    "end": "1496520"
  },
  {
    "text": "started to get a list of these hacks on the left side of the screen there the first of which was spanning tree any",
    "start": "1496520",
    "end": "1503000"
  },
  {
    "text": "time we were running something that talks back tree that Linux bridge was interacting with that so we took a",
    "start": "1503000",
    "end": "1510320"
  },
  {
    "text": "cluster down one time by not knowing that and eventually found out that we",
    "start": "1510320",
    "end": "1515870"
  },
  {
    "text": "could disable it which then again causes the table cluster down for different reasons so that was a bad bad start I",
    "start": "1515870",
    "end": "1523880"
  },
  {
    "text": "guess in general we kept pushing forward though we thought well you know we can manage it we can figure it out we",
    "start": "1523880",
    "end": "1529970"
  },
  {
    "text": "eventually found this lldp forwarding hack which is something that had to be ran every time basically boot or new",
    "start": "1529970",
    "end": "1537470"
  },
  {
    "text": "node was added the state of that starting to get frustrating and then we",
    "start": "1537470",
    "end": "1544420"
  },
  {
    "text": "expanded our testing group to folks that had some land use cases at which point",
    "start": "1544420",
    "end": "1549800"
  },
  {
    "text": "we realized that we were eating the multicast flows from certain linux",
    "start": "1549800",
    "end": "1556880"
  },
  {
    "text": "bridges because they were out of state and we had general mac learning problems",
    "start": "1556880",
    "end": "1562160"
  },
  {
    "text": "when we had multiple customers on the same cluster and those macs conflicted",
    "start": "1562160",
    "end": "1567520"
  },
  {
    "text": "so eventually we had a problem that we couldn't solve which I'm actually",
    "start": "1567520",
    "end": "1573380"
  },
  {
    "text": "thankful for because already we had so many problems with the solution that we should it ditches it but I don't know",
    "start": "1573380",
    "end": "1579920"
  },
  {
    "text": "what that last one was but I put it there just for remembrance we'll fill it in one day if we ever come around to it so as I'm",
    "start": "1579920",
    "end": "1588340"
  },
  {
    "start": "1584000",
    "end": "1584000"
  },
  {
    "text": "sure you notice on the original slide some foreshadowing we had to write our own CNI plugin for this product and this",
    "start": "1588340",
    "end": "1597519"
  },
  {
    "text": "is some information around how we did it why we did it also if anybody is",
    "start": "1597519",
    "end": "1604690"
  },
  {
    "text": "interested in it this github Lincoln and the community around seeing eyes is they're doing a great job I mean I think",
    "start": "1604690",
    "end": "1612279"
  },
  {
    "text": "I learned what I see and I was at the beginning of this process and I was able to write one at the end not because I'm",
    "start": "1612279",
    "end": "1619809"
  },
  {
    "text": "all that good at going but they pretty much have written it for me and just left stubs and I just had to fill it in",
    "start": "1619809",
    "end": "1625029"
  },
  {
    "text": "so a very easy process so thanks to that community the only rule that we broke",
    "start": "1625029",
    "end": "1630220"
  },
  {
    "text": "was rule 3 we did not provision IP addresses but it didn't seem to be too",
    "start": "1630220",
    "end": "1635860"
  },
  {
    "text": "upset about that so step one you're",
    "start": "1635860",
    "end": "1641950"
  },
  {
    "text": "responsible for putting this interface in the network namespace we've already talked about that this is a simplified",
    "start": "1641950",
    "end": "1649659"
  },
  {
    "text": "version of the configuration but I mean of the implementation but again very easy I mean step one was done before",
    "start": "1649659",
    "end": "1657820"
  },
  {
    "text": "lunch and we're thinking that we should have done this a long time ago",
    "start": "1657820",
    "end": "1662610"
  },
  {
    "text": "okay step 2 make any necessary changes of the hoses the part we've been waiting for",
    "start": "1667350",
    "end": "1674730"
  },
  {
    "text": "basically I just want to take the other end of that D eath pair in the hostname space and put it in whatever forwarding",
    "start": "1674730",
    "end": "1681070"
  },
  {
    "text": "I guess container in this case a linux bridge that I choose and again fairly",
    "start": "1681070",
    "end": "1690039"
  },
  {
    "text": "easy implementation they left a nice stub area for us to fill that in and",
    "start": "1690039",
    "end": "1695679"
  },
  {
    "start": "1695000",
    "end": "1695000"
  },
  {
    "text": "then I finally got to send this picture instead of receiving this picture I had",
    "start": "1695679",
    "end": "1702880"
  },
  {
    "text": "been developing this on an Ubuntu host or a set of a bun to host as the base",
    "start": "1702880",
    "end": "1708580"
  },
  {
    "text": "layer for kubernetes and as it turns out just about every going library that",
    "start": "1708580",
    "end": "1716230"
  },
  {
    "text": "deals with open V switch it just wraps the binary so I never noticed on the",
    "start": "1716230",
    "end": "1723070"
  },
  {
    "text": "upon to host and when I deployed to our production cluster which was atomic and core OS depending on which his own that",
    "start": "1723070",
    "end": "1730809"
  },
  {
    "text": "was not a binary that the cubelet container or cubelet runtime had any",
    "start": "1730809",
    "end": "1736480"
  },
  {
    "text": "idea about so I asked aged if I could modify the default base image for",
    "start": "1736480",
    "end": "1742650"
  },
  {
    "text": "cubelet to which he replied absolutely not and so back to the drawing board we will",
    "start": "1742650",
    "end": "1755909"
  },
  {
    "start": "1750000",
    "end": "1750000"
  },
  {
    "text": "we will likely mention this in a couple of different ways I don't know what you would call this other than stitching",
    "start": "1756659",
    "end": "1764460"
  },
  {
    "text": "let's say that I did win the battle and we updated the kubernetes or the cubelet",
    "start": "1764460",
    "end": "1771850"
  },
  {
    "text": "base container and i'm allowed to use OVS vs CTL in it the biggest problem",
    "start": "1771850",
    "end": "1777220"
  },
  {
    "text": "that we hadn't tackled and didn't know really how to tackle was when a customer defines their a topology it looks like",
    "start": "1777220",
    "end": "1783610"
  },
  {
    "text": "this and they say I have router one who was connected to router two on these interfaces and somehow we got to figure",
    "start": "1783610",
    "end": "1790059"
  },
  {
    "text": "out how to put that on the kubernetes cluster so if anybody has a better word than",
    "start": "1790059",
    "end": "1796030"
  },
  {
    "text": "stitching let me know after this but network topology stitching is it is what we're calling it for now so in the",
    "start": "1796030",
    "end": "1806260"
  },
  {
    "start": "1802000",
    "end": "1802000"
  },
  {
    "text": "background I'm feverishly let's say trying to",
    "start": "1806260",
    "end": "1811960"
  },
  {
    "text": "figure out how to write open V switch database transactions the other guys on the team are figuring out how to program",
    "start": "1811960",
    "end": "1818830"
  },
  {
    "text": "these nodes so the first example is when I have a router on a single node and",
    "start": "1818830",
    "end": "1826750"
  },
  {
    "text": "luckily its neighbor also gets provision on that same note so our CNI is working",
    "start": "1826750",
    "end": "1833890"
  },
  {
    "text": "perfectly and provisioning the eath pairs putting them into the host namespace putting them into the correct",
    "start": "1833890",
    "end": "1840610"
  },
  {
    "text": "bridge and the same process happens for router two so the first thing to know is",
    "start": "1840610",
    "end": "1849850"
  },
  {
    "text": "that by default the open V switch is a broadcast chamber if you don't set it to",
    "start": "1849850",
    "end": "1856930"
  },
  {
    "text": "mode secure or fail mode secure it means that allows all flows until you tell it",
    "start": "1856930",
    "end": "1862750"
  },
  {
    "text": "not to allow the flow and we wanted the reverse of that because we wanted as close as possible represent a network",
    "start": "1862750",
    "end": "1869860"
  },
  {
    "text": "topology the way that it is in real life there aren't any linux bridges in the middle of Ethernet cables or other",
    "start": "1869860",
    "end": "1877380"
  },
  {
    "text": "interference so failed by default and",
    "start": "1877380",
    "end": "1882450"
  },
  {
    "text": "let's program a flow that says this link can talk to this link so that's what",
    "start": "1882450",
    "end": "1888880"
  },
  {
    "text": "that second line is ofc TL is the binary that's used for that again all libraries",
    "start": "1888880",
    "end": "1895510"
  },
  {
    "text": "wrap that binary - it's a little bit cryptic at first and I think the only",
    "start": "1895510",
    "end": "1902650"
  },
  {
    "text": "way to really say is that open V switch an application just like any other has an internal index that it references",
    "start": "1902650",
    "end": "1909700"
  },
  {
    "text": "these interfaces by and so that's how this flow gets programmed it's saying that on this bridge if it comes in port",
    "start": "1909700",
    "end": "1918250"
  },
  {
    "text": "21 send it out port 11 so pretty simple and matches what we're looking to do",
    "start": "1918250",
    "end": "1925000"
  },
  {
    "text": "almost exactly so you do and that allows you to go in one",
    "start": "1925000",
    "end": "1930340"
  },
  {
    "text": "direction which is a very strange until you realize that that's what's happening because you'll see neighbors in one",
    "start": "1930340",
    "end": "1936669"
  },
  {
    "text": "direction and not the other or other such strange behavior like Arps",
    "start": "1936669",
    "end": "1942610"
  },
  {
    "text": "resolving one direction but never leaving the bridge in the other direction so just flip it good to go and",
    "start": "1942610",
    "end": "1954100"
  },
  {
    "text": "again you know same idea I've used ve",
    "start": "1954100",
    "end": "1959440"
  },
  {
    "text": "names which match the router and the interface to kind of give you an idea of what's where and then used open flow",
    "start": "1959440",
    "end": "1968529"
  },
  {
    "text": "ports that match that router ID in an interface index again for for readability but in reality is not even",
    "start": "1968529",
    "end": "1976870"
  },
  {
    "text": "close to this easy and the biggest problem is just trying to wrangle in like what is connected to what at which",
    "start": "1976870",
    "end": "1983230"
  },
  {
    "text": "layer so local node programming some challenge not too bad",
    "start": "1983230",
    "end": "1990750"
  },
  {
    "start": "1988000",
    "end": "1988000"
  },
  {
    "text": "going back to the scale aspect we don't strive to have a lot of virtual routers",
    "start": "1990750",
    "end": "1996220"
  },
  {
    "text": "on one node there's a lot lot easier ways to achieve that so now we gotta",
    "start": "1996220",
    "end": "2001799"
  },
  {
    "text": "figure out how to stitch these things together on remote nodes so in this case",
    "start": "2001799",
    "end": "2006960"
  },
  {
    "text": "I'm gonna have to use an external interface either one and the biggest",
    "start": "2006960",
    "end": "2013799"
  },
  {
    "text": "point that I want to make in this case is that you have several options you'll have to use VX LAN we chose that for",
    "start": "2013799",
    "end": "2019980"
  },
  {
    "text": "scale purposes and all this required is just selecting the remote node and",
    "start": "2019980",
    "end": "2025019"
  },
  {
    "text": "saying hey there's going to be a key for each flow and that is going to be how",
    "start": "2025019",
    "end": "2030630"
  },
  {
    "text": "you determine similar to VLANs anybody's familiar with with those so you do this",
    "start": "2030630",
    "end": "2039559"
  },
  {
    "text": "VX land tunnel just call it the highway in both directions and then just like",
    "start": "2039559",
    "end": "2044940"
  },
  {
    "text": "before you program a flow down which says if I come in this port set this VX",
    "start": "2044940",
    "end": "2053398"
  },
  {
    "text": "Lang attribute ID and then send it to this port well",
    "start": "2053399",
    "end": "2058908"
  },
  {
    "text": "no 2e1 is no tewi ones VX land tunnel so",
    "start": "2058909",
    "end": "2064800"
  },
  {
    "text": "we've just built that bridge and now we're saying egress towards that and all",
    "start": "2064800",
    "end": "2070530"
  },
  {
    "text": "that poor knows how to do is wrap it in VX land and send it to that IP likewise",
    "start": "2070530",
    "end": "2076169"
  },
  {
    "text": "in the reverse direction just like before doing the other side so now let's",
    "start": "2076169",
    "end": "2082790"
  },
  {
    "text": "try to understand how this frame is gonna get from gig one on router two to",
    "start": "2082790",
    "end": "2088950"
  },
  {
    "text": "router one when I first leave the interface I'm a standard Ethernet frame and I'm boarding based on the ve pair",
    "start": "2088950",
    "end": "2096780"
  },
  {
    "text": "that exists when I hit the host I'd be para to an open flow rule lookup which",
    "start": "2096780",
    "end": "2102780"
  },
  {
    "text": "says if I came in this port send me to this port which has instructions that",
    "start": "2102780",
    "end": "2109920"
  },
  {
    "text": "say put me in a VX LAN header and send me to some IP address which happens to",
    "start": "2109920",
    "end": "2115500"
  },
  {
    "text": "be our other node this is where we depend on the external environment like I mentioned earlier we don't always have",
    "start": "2115500",
    "end": "2120839"
  },
  {
    "text": "the ability to you know no but that's gonna look like and so likewise in the",
    "start": "2120839",
    "end": "2127109"
  },
  {
    "text": "reverse sorry same idea on the other side okay so now we've finally done",
    "start": "2127109",
    "end": "2134460"
  },
  {
    "text": "everything we came to do it's time to have fun let's make a network see ICD workflow we didn't pick any one",
    "start": "2134460",
    "end": "2141960"
  },
  {
    "text": "particular product tool set or otherwise I think ansible is probably the most popular but some things to leave you",
    "start": "2141960",
    "end": "2149430"
  },
  {
    "text": "guys with is that once you're able to provision a network topology reliably bootstrap it however you want all those",
    "start": "2149430",
    "end": "2158040"
  },
  {
    "text": "other discussions actually become pretty easy because the community and and the networking environment you know is ready",
    "start": "2158040",
    "end": "2164940"
  },
  {
    "text": "to receive any of that configuration the hard part is getting these models set up",
    "start": "2164940",
    "end": "2170220"
  },
  {
    "text": "so here's an example workflow this is something that we developed in our lab",
    "start": "2170220",
    "end": "2176540"
  },
  {
    "text": "the testing changes part is what we're talking about here a CI platform",
    "start": "2176540",
    "end": "2184040"
  },
  {
    "start": "2185000",
    "end": "2185000"
  },
  {
    "text": "and we've had a lot of success with this some of our internal testing and now for customers you know guys that our network engineer",
    "start": "2185720",
    "end": "2192470"
  },
  {
    "text": "has been doing it their whole lives don't know anything about kubernetes they're able to start using things like",
    "start": "2192470",
    "end": "2198740"
  },
  {
    "text": "ansible because now they have an environment that is in their production environment to test against we've been",
    "start": "2198740",
    "end": "2204680"
  },
  {
    "text": "able to use a piece or API subscription from a particular vendor that when a vulnerability comes in the model that's",
    "start": "2204680",
    "end": "2211580"
  },
  {
    "text": "saved and all the testing gets kicked off with an automatic upgrade and then",
    "start": "2211580",
    "end": "2216860"
  },
  {
    "text": "returns the report as good as your testing is which is the caveat but some",
    "start": "2216860",
    "end": "2225650"
  },
  {
    "text": "things we're doing next and are continuing to work on now is integrations of vnfs a lot of work in",
    "start": "2225650",
    "end": "2231470"
  },
  {
    "text": "the community around producing new cloud native oriented vnf and finally with",
    "start": "2231470",
    "end": "2238580"
  },
  {
    "text": "respect to the data that's required to train things to classify and logs and network behavior we now have like a",
    "start": "2238580",
    "end": "2245420"
  },
  {
    "text": "stable system to produce that data to feed it into machine learning ai and all",
    "start": "2245420",
    "end": "2251150"
  },
  {
    "text": "these other fancy things so if you interested or have any questions or",
    "start": "2251150",
    "end": "2256850"
  },
  {
    "text": "comments please contact us we'll be around later on as well thank you all for joining appreciate it",
    "start": "2256850",
    "end": "2262190"
  },
  {
    "text": "time [Applause]",
    "start": "2262190",
    "end": "2266109"
  }
]