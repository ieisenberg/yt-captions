[
  {
    "text": "[Music]",
    "start": "5490",
    "end": "11059"
  },
  {
    "text": "is the team lead of openshift GitHub service team at Red Hat he has around 17",
    "start": "11059",
    "end": "16080"
  },
  {
    "text": "years of experience in building and operating Enterprise applications and yeah I think we're all excited to hear",
    "start": "16080",
    "end": "21900"
  },
  {
    "text": "from you",
    "start": "21900",
    "end": "24260"
  },
  {
    "text": "hello everyone my name is Anand Francis and I'm from the red ad developer tools team I'm here",
    "start": "27779",
    "end": "35640"
  },
  {
    "text": "to present a talk on multi-cluster githubs mainly dealing with two Open Source",
    "start": "35640",
    "end": "41760"
  },
  {
    "text": "Products ago CD and open cluster management so probably Argo City many of you might",
    "start": "41760",
    "end": "49320"
  },
  {
    "text": "have been familiar with that probably a quick show of hands like how many have heard about Argo CD",
    "start": "49320",
    "end": "57420"
  },
  {
    "text": "yeah not surprising it's it's quite a popular city tool",
    "start": "57420",
    "end": "63260"
  },
  {
    "text": "and how about open cluster management have any of you tried out or used open",
    "start": "63260",
    "end": "69180"
  },
  {
    "text": "cluster management ocm okay I see one end",
    "start": "69180",
    "end": "75720"
  },
  {
    "text": "nice okay yeah uh",
    "start": "75720",
    "end": "81840"
  },
  {
    "text": "probably this was done already I'm working as a team lead for one of the",
    "start": "81840",
    "end": "87299"
  },
  {
    "text": "managed service that we are building internet uh it's a CI CD service built",
    "start": "87299",
    "end": "92820"
  },
  {
    "text": "on tecton and Argo CD",
    "start": "92820",
    "end": "97400"
  },
  {
    "text": "so this is a quick agenda on what we'll discuss in this session we'll see what a",
    "start": "100020",
    "end": "107040"
  },
  {
    "text": "multi-cluster setup is the need for it and what are the challenges that we have",
    "start": "107040",
    "end": "113280"
  },
  {
    "text": "next we look into like what is ocm and how ocm can help",
    "start": "113280",
    "end": "118320"
  },
  {
    "text": "then we can see what are some of the github's principles and what is Argo CD",
    "start": "118320",
    "end": "124560"
  },
  {
    "text": "then we can see how we can leverage both ocm and Argo CD to build an open",
    "start": "124560",
    "end": "129959"
  },
  {
    "text": "application model based framework so that will be a demo",
    "start": "129959",
    "end": "135420"
  },
  {
    "text": "based on both these open source tools",
    "start": "135420",
    "end": "140760"
  },
  {
    "text": "and yeah finally we can have questions",
    "start": "140760",
    "end": "144920"
  },
  {
    "text": "okay so let's start with a basic cluster so this is a single kubernetes cluster",
    "start": "146040",
    "end": "152040"
  },
  {
    "text": "we have a control plane and a data plane and in control plane we have storage in",
    "start": "152040",
    "end": "157140"
  },
  {
    "text": "hcd scheduler controller manager and API server and data plane we can have",
    "start": "157140",
    "end": "162720"
  },
  {
    "text": "multiple nodes and pods are kind of allotted to each node so this is a",
    "start": "162720",
    "end": "167940"
  },
  {
    "text": "single cluster setup and ultimately we can have a cloud provider which provides",
    "start": "167940",
    "end": "173819"
  },
  {
    "text": "the load balancer to interface with all this workloads",
    "start": "173819",
    "end": "179220"
  },
  {
    "text": "so now let's get into one more detail like I'm adding",
    "start": "179220",
    "end": "184260"
  },
  {
    "text": "another cluster so this is a two cluster setup but still",
    "start": "184260",
    "end": "189360"
  },
  {
    "text": "you can see that the control plane nodes are kind of segregated they work in isolation so this is one issue with",
    "start": "189360",
    "end": "196680"
  },
  {
    "text": "kubernetes like a cluster is kind of an independent resource and the control",
    "start": "196680",
    "end": "201959"
  },
  {
    "text": "plane is kind of controlling all the aspects of it the life cycle of the cluster is controlled by that single",
    "start": "201959",
    "end": "208680"
  },
  {
    "text": "control plane so there is no interaction with that so what we mean by multi-cluster setup is some kind of",
    "start": "208680",
    "end": "215340"
  },
  {
    "text": "federation between two or more kubernetes clusters where we have a",
    "start": "215340",
    "end": "220620"
  },
  {
    "text": "control plane that can control more than two clusters",
    "start": "220620",
    "end": "228060"
  },
  {
    "text": "so these are some of the common reasons why we need a multi-cluster so uh the",
    "start": "228060",
    "end": "234060"
  },
  {
    "text": "broad areas I've just marked here so one is the location the next one is the",
    "start": "234060",
    "end": "239340"
  },
  {
    "text": "isolation reliability and there are some specific scenarios where multi-cluster",
    "start": "239340",
    "end": "244560"
  },
  {
    "text": "is the only choice so let's start looking into each of them for location there are like jurisdiction",
    "start": "244560",
    "end": "252080"
  },
  {
    "text": "constraints where data has to reside on a particular region or a country latency there can be",
    "start": "252080",
    "end": "260340"
  },
  {
    "text": "like customers accessing your services across multiple regions from from the",
    "start": "260340",
    "end": "266400"
  },
  {
    "text": "world and the latency can be a factor and then we have data and service",
    "start": "266400",
    "end": "272460"
  },
  {
    "text": "gravity like we have your data residing in some particular region and you can't",
    "start": "272460",
    "end": "277680"
  },
  {
    "text": "move that out so you need to operate your kubernetes cluster in the same region or audio service might be already",
    "start": "277680",
    "end": "284520"
  },
  {
    "text": "running in a particular region and you want to run your kubernetes cluster along with that",
    "start": "284520",
    "end": "291138"
  },
  {
    "text": "we'll look into each of it in detail I'm just giving a quick overview here",
    "start": "292740",
    "end": "298340"
  },
  {
    "text": "isolation though kubernetes provides uh isolation through namespaces it's it's a",
    "start": "298340",
    "end": "305100"
  },
  {
    "text": "weak isolation so if you need strong isolation you can have scenarios like",
    "start": "305100",
    "end": "311100"
  },
  {
    "text": "where you have multiple environments like Dev test staging and QA you can",
    "start": "311100",
    "end": "316919"
  },
  {
    "text": "have hard isolations by having multiple clusters and cost could be a reason",
    "start": "316919",
    "end": "322020"
  },
  {
    "text": "where you can like uh segregate the cost aspect of it from different departments",
    "start": "322020",
    "end": "328860"
  },
  {
    "text": "and different parts of your company having different cost controls the next",
    "start": "328860",
    "end": "335160"
  },
  {
    "text": "can be performance you can have multiple clusters offering different service level agreements and thereby giving",
    "start": "335160",
    "end": "341940"
  },
  {
    "text": "different performance and cost benefit of it the last one is the security of it",
    "start": "341940",
    "end": "347759"
  },
  {
    "text": "like you can run your audit services and security related services in a secure isolated cluster which is not exposed to",
    "start": "347759",
    "end": "356280"
  },
  {
    "text": "the other parts of the workload and then you that the the last reason is",
    "start": "356280",
    "end": "362759"
  },
  {
    "text": "the organization you can have an organization specific multi-cluster so that each part of the",
    "start": "362759",
    "end": "369780"
  },
  {
    "text": "organization does not interfere with the other part of the organization",
    "start": "369780",
    "end": "375500"
  },
  {
    "text": "next related to reliability we have infrastructure diversity like you can have multiple clouds multiple regions to",
    "start": "375539",
    "end": "384539"
  },
  {
    "text": "increase the reliability of the service so for example if one AC goes down you can have multiple azs I mean clusters",
    "start": "384539",
    "end": "391560"
  },
  {
    "text": "running in multiple azs and regions to take care of the infrastructure reducing",
    "start": "391560",
    "end": "397199"
  },
  {
    "text": "the blast radius so if one of the workloads is down like you can reduce",
    "start": "397199",
    "end": "402300"
  },
  {
    "text": "the blast radius by operating it on multiple regions and multiple clusters",
    "start": "402300",
    "end": "408479"
  },
  {
    "text": "next one is to handle upgrades so whenever you are upgrading your kubernetes version you can have multiple",
    "start": "408479",
    "end": "413880"
  },
  {
    "text": "clusters and like slowly move your workloads to the new version",
    "start": "413880",
    "end": "419220"
  },
  {
    "text": "last one is scaling so if your kubernetes has reached a scaling Point",
    "start": "419220",
    "end": "425819"
  },
  {
    "text": "like where you have to increase the number of nodes and that the number of nodes are kind of a limiting factor for",
    "start": "425819",
    "end": "431940"
  },
  {
    "text": "a single cluster you can have multiple clusters to kind of scale your workloads and move on to different clusters",
    "start": "431940",
    "end": "440539"
  },
  {
    "text": "yeah so the specific scenarios is like some complex migration scenarios where you have to migrate to a different cni",
    "start": "441300",
    "end": "448020"
  },
  {
    "text": "uh you need a different cluster altogether to move to a different uh cni",
    "start": "448020",
    "end": "453360"
  },
  {
    "text": "versions and then there are some Edge and iot use cases uh now we are going towards microshift and k3s where uh",
    "start": "453360",
    "end": "461220"
  },
  {
    "text": "kubernetes is being run on a Raspberry Pi kind of a device so there it can be",
    "start": "461220",
    "end": "466500"
  },
  {
    "text": "like each device can be treated as a kubernetes cluster in itself and there we can use this multi-cluster scenario",
    "start": "466500",
    "end": "473160"
  },
  {
    "text": "to kind of control the overall flow",
    "start": "473160",
    "end": "477380"
  },
  {
    "text": "so a bit more detail on the same aspect like one is the jurisdiction like where",
    "start": "478199",
    "end": "483960"
  },
  {
    "text": "customers are forced to run all their data centers in a particular region or a country next one is uh controlling the",
    "start": "483960",
    "end": "492300"
  },
  {
    "text": "latency so if there are customers working in I mean accessing your service in different regions you can have",
    "start": "492300",
    "end": "498720"
  },
  {
    "text": "different load balances and you can point to the right load balancer based on the customers region",
    "start": "498720",
    "end": "505979"
  },
  {
    "text": "this is related to data gravity and service gravity for example some of the data that your workload requires is",
    "start": "505979",
    "end": "512880"
  },
  {
    "text": "already available in one of the regions and the cost of egress of that data",
    "start": "512880",
    "end": "517919"
  },
  {
    "text": "would be expensive so you are forced to run your kubernetes cluster in those regions so this is one example and this",
    "start": "517919",
    "end": "524459"
  },
  {
    "text": "is related to service similar to data if you are depending on some particular service regional service",
    "start": "524459",
    "end": "530339"
  },
  {
    "text": "and you are not able to move that service you can use the multi-cluster approach to handle that",
    "start": "530339",
    "end": "537839"
  },
  {
    "text": "yeah and these are like performance related like you can have different uh",
    "start": "537839",
    "end": "542959"
  },
  {
    "text": "customer tires where you can have different slas you",
    "start": "542959",
    "end": "549000"
  },
  {
    "text": "can offer different slas for different customers uh this is the environment that we",
    "start": "549000",
    "end": "554580"
  },
  {
    "text": "already spoke out we can have the dev functional different environments on each cluster",
    "start": "554580",
    "end": "561260"
  },
  {
    "text": "organization like during mergers and acquisition like there can be different organizations that are kind of",
    "start": "561260",
    "end": "567120"
  },
  {
    "text": "integrated and you don't want uh different parts of the organizations to",
    "start": "567120",
    "end": "572519"
  },
  {
    "text": "kind of interact with each other in that case you can have different clusters for",
    "start": "572519",
    "end": "578339"
  },
  {
    "text": "each organization and there could be like cost control reasons where each organizations want a separate bill so",
    "start": "578339",
    "end": "585540"
  },
  {
    "text": "they don't want to share the bill and they can have cost control on their usage",
    "start": "585540",
    "end": "592700"
  },
  {
    "text": "and infrastructure diversity uh so you can like use different flavors of",
    "start": "593160",
    "end": "598560"
  },
  {
    "text": "kubernetes cluster to have a diverse infrastructure which is uh which can",
    "start": "598560",
    "end": "605820"
  },
  {
    "text": "help in increasing the reliability of your workloads reducing the blast radius",
    "start": "605820",
    "end": "610920"
  },
  {
    "text": "for example if one of the cluster goes down there will be still one healthy cluster that will still serve the",
    "start": "610920",
    "end": "617040"
  },
  {
    "text": "request from the customers these are cluster upgrades so when you",
    "start": "617040",
    "end": "624300"
  },
  {
    "text": "want to upgrade a cluster across different versions you can use this multi-cluster and kind of move your",
    "start": "624300",
    "end": "630120"
  },
  {
    "text": "workloads to the newer clusters",
    "start": "630120",
    "end": "635240"
  },
  {
    "text": "yeah so uh Edge iot that's uh that's the upcoming area where kubernetes is being",
    "start": "635820",
    "end": "642720"
  },
  {
    "text": "run on like smaller devices and you can use this multi-cluster approach to kind of handle the Fleet Management of those",
    "start": "642720",
    "end": "650399"
  },
  {
    "text": "clusters and this is like an example of a cni migration where where you need a",
    "start": "650399",
    "end": "656700"
  },
  {
    "text": "completely different cluster with a different cni provider that is installed and you want to kind of slowly move your",
    "start": "656700",
    "end": "663480"
  },
  {
    "text": "workloads to the new new newer cluster",
    "start": "663480",
    "end": "669320"
  },
  {
    "text": "so now let's look at the challenges we have the first one is the infrastructure cost",
    "start": "669839",
    "end": "676980"
  },
  {
    "text": "so as as you scale more clusters the number of control planes is going to",
    "start": "676980",
    "end": "683160"
  },
  {
    "text": "increase and the cost of administering the cluster also will increase so the",
    "start": "683160",
    "end": "689640"
  },
  {
    "text": "infrastructure cost is going to go up uh the next is the complex configuration",
    "start": "689640",
    "end": "694860"
  },
  {
    "text": "so you have to plan well in advance especially the network configurations how each cluster networking should look",
    "start": "694860",
    "end": "701519"
  },
  {
    "text": "like and uh how you kind of configure each of the cluster so the rbac and",
    "start": "701519",
    "end": "708600"
  },
  {
    "text": "other related parameters that needs to be configured for each cluster needs to be done in an efficient way so this is a",
    "start": "708600",
    "end": "715320"
  },
  {
    "text": "challenge right now and security aspects same like we have to configure our back",
    "start": "715320",
    "end": "721500"
  },
  {
    "text": "and we have to ensure that all the security certificates are kind of handled efficiently and the inter API",
    "start": "721500",
    "end": "729480"
  },
  {
    "text": "calls between these clusters also needs to be handled so ocm or the open cluster management",
    "start": "729480",
    "end": "735779"
  },
  {
    "text": "handles some part of these challenges infrastructure cost is not something that can be addressed with the ocm tool",
    "start": "735779",
    "end": "742800"
  },
  {
    "text": "but configurations and security aspects of it can be handled using ocm so now",
    "start": "742800",
    "end": "749100"
  },
  {
    "text": "let's look into what what ocm is so open cluster management or ocm in",
    "start": "749100",
    "end": "756360"
  },
  {
    "text": "short is a Community Driven open source project it's in cncf sandbox maturity",
    "start": "756360",
    "end": "762899"
  },
  {
    "text": "level as of now uh it's based on a hub and spoke architecture so we have a",
    "start": "762899",
    "end": "768540"
  },
  {
    "text": "central admin server and several managed clusters that are attached to that",
    "start": "768540",
    "end": "774000"
  },
  {
    "text": "it supports multi-cluster and multi-cloud management it can provide a Fleet Management so you",
    "start": "774000",
    "end": "782040"
  },
  {
    "text": "can handle all the configurations with a single pane of view so all the configurations are done in a single",
    "start": "782040",
    "end": "788160"
  },
  {
    "text": "place that gets replicated to all the managed clusters",
    "start": "788160",
    "end": "793260"
  },
  {
    "text": "so it's highly scalable basically due to the pull-based model that that it uses",
    "start": "793260",
    "end": "798899"
  },
  {
    "text": "so the admin server just acts as a storage layer and all the managed",
    "start": "798899",
    "end": "805200"
  },
  {
    "text": "clusters does the most of the effort in pulling those configurations towards the",
    "start": "805200",
    "end": "810480"
  },
  {
    "text": "manage cluster so we have an ah CLI interface which is",
    "start": "810480",
    "end": "817380"
  },
  {
    "text": "called cluster ADM that that eases the management and creation of the resources",
    "start": "817380",
    "end": "824220"
  },
  {
    "text": "so this is what is briefly about the ocm uh this is uh the architecture of it so",
    "start": "824220",
    "end": "832800"
  },
  {
    "text": "we have a central Hub cluster uh which acts as a which acts as the control plane of all",
    "start": "832800",
    "end": "840720"
  },
  {
    "text": "the kubernetes Clusters that are going to be connected to it and then we have",
    "start": "840720",
    "end": "846060"
  },
  {
    "text": "multiple managed clusters uh each each managed clusters will have several",
    "start": "846060",
    "end": "851579"
  },
  {
    "text": "agents that are running on it and the Hub cluster will have a placement controller and a registration controller",
    "start": "851579",
    "end": "858959"
  },
  {
    "text": "so the registration agent and the registration controller is is the one that is involved in the initial resist",
    "start": "858959",
    "end": "867000"
  },
  {
    "text": "initial uh registration of the manage cluster with the Hub cluster",
    "start": "867000",
    "end": "873000"
  },
  {
    "text": "and the work agent is what it it picks the work from The Hub cluster and",
    "start": "873000",
    "end": "878220"
  },
  {
    "text": "executes it on the managed clusters and then sends the status back to the hub cluster so the main advantage is you can",
    "start": "878220",
    "end": "885480"
  },
  {
    "text": "manage the fleet and also you can have a single place where you can configure all",
    "start": "885480",
    "end": "890519"
  },
  {
    "text": "the resources through the app cluster",
    "start": "890519",
    "end": "895100"
  },
  {
    "text": "so this is the typical cluster registration process that we have",
    "start": "896220",
    "end": "902699"
  },
  {
    "text": "so Hub cluster and the manage cluster are kind of isolated so there can be like two different administrators for",
    "start": "902699",
    "end": "909480"
  },
  {
    "text": "them uh the app cluster will provide a token and that token will be used by the",
    "start": "909480",
    "end": "915779"
  },
  {
    "text": "manage cluster to do the initial registration then it creates an CSR certificate signing request that",
    "start": "915779",
    "end": "923279"
  },
  {
    "text": "initiates the registration process and the Hub cluster has to accept that the",
    "start": "923279",
    "end": "928980"
  },
  {
    "text": "manage cluster in order to accept that signing request to create the manage",
    "start": "928980",
    "end": "934139"
  },
  {
    "text": "cluster setup once the cluster is integrated to the hub cluster it keeps",
    "start": "934139",
    "end": "940980"
  },
  {
    "text": "sending the heartbeat to in to indicate that the services are running healthy",
    "start": "940980",
    "end": "947160"
  },
  {
    "text": "and whenever the certificates are kind of expired The Hub cluster will trigger",
    "start": "947160",
    "end": "954720"
  },
  {
    "text": "uh and it will issue a new certificate for the manage cluster",
    "start": "954720",
    "end": "961339"
  },
  {
    "text": "so this is the Hub and spoke model so here you can see that the admin cluster does not have any workloads as such uh",
    "start": "963720",
    "end": "972300"
  },
  {
    "text": "it it has a namespace for each cluster and it assigns work for the managed",
    "start": "972300",
    "end": "978240"
  },
  {
    "text": "clusters as the workload unit ah whereas the managed cluster is a",
    "start": "978240",
    "end": "983760"
  },
  {
    "text": "typical one it has nodes and it has spots assigned to it uh it has the work",
    "start": "983760",
    "end": "988800"
  },
  {
    "text": "agent that continuously pulls the Hub cluster for any new work that is being",
    "start": "988800",
    "end": "993839"
  },
  {
    "text": "created in the hub cluster it will take and execute that on the manage cluster",
    "start": "993839",
    "end": "1000639"
  },
  {
    "text": "so these are uh some of the concepts uh in the ocm so we have a managed cluster",
    "start": "1001399",
    "end": "1008060"
  },
  {
    "text": "that's the cluster that we are going to uh that is going to host the workloads",
    "start": "1008060",
    "end": "1013480"
  },
  {
    "text": "Hub cluster is one that is used purely for the management of the cluster purpose and then you can group the",
    "start": "1013480",
    "end": "1020959"
  },
  {
    "text": "Clusters the manage clusters can be grouped as cluster set so you can group it on certain parameters like you can",
    "start": "1020959",
    "end": "1027620"
  },
  {
    "text": "group your cluster set based on the environment or the cloud provider that",
    "start": "1027620",
    "end": "1032660"
  },
  {
    "text": "is being used so there are different combinations that can be used so that you you can see the label selector claim",
    "start": "1032660",
    "end": "1039020"
  },
  {
    "text": "selector and similar to kubernetes tense and tolerations you can have tanes applied",
    "start": "1039020",
    "end": "1045020"
  },
  {
    "text": "to the manage cluster as well placement is another resource type",
    "start": "1045020",
    "end": "1051260"
  },
  {
    "text": "custom resource type that can Define like what are the managed cluster that",
    "start": "1051260",
    "end": "1057380"
  },
  {
    "text": "that needs to be selected and placement decision is the output so whenever you",
    "start": "1057380",
    "end": "1063440"
  },
  {
    "text": "are scheduling a workload you create a placement and you associate",
    "start": "1063440",
    "end": "1068960"
  },
  {
    "text": "a managed cluster set to it then the placement decision will select a",
    "start": "1068960",
    "end": "1074179"
  },
  {
    "text": "subgroup of the Clusters from the managed cluster and all the workloads will be spread across those clusters",
    "start": "1074179",
    "end": "1082100"
  },
  {
    "text": "manifest work and manifest work replica set these are the work related items so",
    "start": "1082100",
    "end": "1087620"
  },
  {
    "text": "the workloads get spread using these two aspects so manifest work replica set",
    "start": "1087620",
    "end": "1093080"
  },
  {
    "text": "works on I mean it's uh manifest work works on a per cluster",
    "start": "1093080",
    "end": "1098299"
  },
  {
    "text": "basis manifest work replica set will work on a cluster set basis so that is the essential difference but both are",
    "start": "1098299",
    "end": "1105620"
  },
  {
    "text": "used to spread the workload across the manage cluster",
    "start": "1105620",
    "end": "1110919"
  },
  {
    "text": "so these are some snapshots that I've taken so this is how crd for a managed",
    "start": "1113179",
    "end": "1120860"
  },
  {
    "text": "cluster will look like the below one is the manage cluster set",
    "start": "1120860",
    "end": "1126919"
  },
  {
    "text": "you can have different label selectors to select all the managed clusters that",
    "start": "1126919",
    "end": "1133460"
  },
  {
    "text": "match the particular label then you have an exclusive cluster set",
    "start": "1133460",
    "end": "1139580"
  },
  {
    "text": "label which is which works on an label that is specific for cluster set so that",
    "start": "1139580",
    "end": "1145940"
  },
  {
    "text": "particular label can be set only for one manage cluster set",
    "start": "1145940",
    "end": "1151059"
  },
  {
    "text": "uh next we have placement so this is used for the selection criteria so you",
    "start": "1152240",
    "end": "1158299"
  },
  {
    "text": "can select based on a label or a claim selector so claim claims are",
    "start": "1158299",
    "end": "1164440"
  },
  {
    "text": "properties which are assigned to the managed cluster for example you can set",
    "start": "1164440",
    "end": "1170000"
  },
  {
    "text": "uh the platform for example if it's AWS you can set the",
    "start": "1170000",
    "end": "1175160"
  },
  {
    "text": "platform Dot opencluster management.io uh which which mainly says that what",
    "start": "1175160",
    "end": "1181039"
  },
  {
    "text": "provider is that particular kubernetes cluster is you can also have a",
    "start": "1181039",
    "end": "1187039"
  },
  {
    "text": "prioritizer policy so predicates are like filtering criteria the Clusters are get get",
    "start": "1187039",
    "end": "1193100"
  },
  {
    "text": "filtered based on the predicate criteria you can also have the prioritizer policy",
    "start": "1193100",
    "end": "1198320"
  },
  {
    "text": "where you don't want to filter but you want to say the top 10 clusters that match this particular",
    "start": "1198320",
    "end": "1205400"
  },
  {
    "text": "cluster criteria so you can select based on how much CPU and how much memory is",
    "start": "1205400",
    "end": "1210500"
  },
  {
    "text": "available and you can tell the number of clusters that you need to select based on this particular criteria",
    "start": "1210500",
    "end": "1218260"
  },
  {
    "text": "so this is an example of a manifest work so this is how the workloads get spread",
    "start": "1219919",
    "end": "1225860"
  },
  {
    "text": "across the multiple clusters so here you tell the namespace so each manage",
    "start": "1225860",
    "end": "1232220"
  },
  {
    "text": "cluster will have a particular name space created in the hub cluster so a manifest work will will work only for a",
    "start": "1232220",
    "end": "1240080"
  },
  {
    "text": "single managed cluster so here you have to tell what kind of workload you want to deploy on your",
    "start": "1240080",
    "end": "1246980"
  },
  {
    "text": "manage cluster so this is how you have to kind of specify that using the",
    "start": "1246980",
    "end": "1252860"
  },
  {
    "text": "workload manifest so here I'm creating a deployment on the manage cluster I can create this",
    "start": "1252860",
    "end": "1260179"
  },
  {
    "text": "on a Target namespace and that particular cluster will pick this workload and",
    "start": "1260179",
    "end": "1265880"
  },
  {
    "text": "deploy it next we have a manifest work replica set",
    "start": "1265880",
    "end": "1272419"
  },
  {
    "text": "this is an extension to the Manifest work and it's still in an alpha state so this",
    "start": "1272419",
    "end": "1279679"
  },
  {
    "text": "is a new feature that got developed so here the advantages you can refer a",
    "start": "1279679",
    "end": "1285140"
  },
  {
    "text": "placement which can select any number of clusters so this is spread across all",
    "start": "1285140",
    "end": "1291020"
  },
  {
    "text": "the Clusters that match this placement name app platform clusters",
    "start": "1291020",
    "end": "1297919"
  },
  {
    "text": "so in this example I am using uh the ago City application to deploy a gas",
    "start": "1297919",
    "end": "1305299"
  },
  {
    "text": "guestbook application which is a sample application we can see an example of this in the",
    "start": "1305299",
    "end": "1312020"
  },
  {
    "text": "demo as well so now uh the ocm concepts are uh like",
    "start": "1312020",
    "end": "1319520"
  },
  {
    "text": "almost complete now I'll get into the githubs aspect of it so this is a",
    "start": "1319520",
    "end": "1325460"
  },
  {
    "text": "standard uh github's principles that we have we have a system that is described",
    "start": "1325460",
    "end": "1331880"
  },
  {
    "text": "declaratively and kubernetes is a declarative system so we can manage",
    "start": "1331880",
    "end": "1337940"
  },
  {
    "text": "the artifacts and the workloads that that need to run in kubernetes the",
    "start": "1337940",
    "end": "1344000"
  },
  {
    "text": "decide state is versioned and stored in git so this is one of the principle that",
    "start": "1344000",
    "end": "1349299"
  },
  {
    "text": "the storage should be versioned and the decide state must be explicitly set in",
    "start": "1349299",
    "end": "1355820"
  },
  {
    "text": "git so all the workflows that uh that is applicable in Gate like all the approval",
    "start": "1355820",
    "end": "1362179"
  },
  {
    "text": "and PR process can be applied and approved changes are applied automatically through an agent",
    "start": "1362179",
    "end": "1369620"
  },
  {
    "text": "and there is continuous reconciliation in githubs like where you you have a",
    "start": "1369620",
    "end": "1375559"
  },
  {
    "text": "controller running in the um kubernetes cluster which constantly pulls the changes that are happening in uh in the",
    "start": "1375559",
    "end": "1383000"
  },
  {
    "text": "uh git Repository and it constantly checks for differences and corrects the",
    "start": "1383000",
    "end": "1388880"
  },
  {
    "text": "uh required and makes the required changes to keep it in sync with what is applied in git",
    "start": "1388880",
    "end": "1396200"
  },
  {
    "text": "so a little bit about Argo City so ago city is a cncf graduated project it",
    "start": "1396200",
    "end": "1404000"
  },
  {
    "text": "follows all the github's principle apart from Argo City we have flux CD as",
    "start": "1404000",
    "end": "1409460"
  },
  {
    "text": "well so both of these projects are kind of achieving the same gitops principles",
    "start": "1409460",
    "end": "1416500"
  },
  {
    "text": "ago city was created by Engineers from Intuit and they have open source the",
    "start": "1416500",
    "end": "1422480"
  },
  {
    "text": "project uh right now redat also contributes to most of the features and",
    "start": "1422480",
    "end": "1428000"
  },
  {
    "text": "Bug issues in Argo City so in this demo I'm using Argo CD",
    "start": "1428000",
    "end": "1433940"
  },
  {
    "text": "to store the workloads that needs to be distributed uh in across the managed",
    "start": "1433940",
    "end": "1439700"
  },
  {
    "text": "cluster so on the left side you can see the Hub cluster",
    "start": "1439700",
    "end": "1445760"
  },
  {
    "text": "where you have different managed clusters grouped as into a single managed cluster set",
    "start": "1445760",
    "end": "1451640"
  },
  {
    "text": "and then we have created a placement and a manifest replica set to spread the workloads uh to the Clusters that are",
    "start": "1451640",
    "end": "1459919"
  },
  {
    "text": "selected by a particular placement towards my right uh this has",
    "start": "1459919",
    "end": "1467659"
  },
  {
    "text": "all the managed clusters so like I have three managed clusters and I have a go",
    "start": "1467659",
    "end": "1473240"
  },
  {
    "text": "CD instances running on each of them uh uh I have an application set which",
    "start": "1473240",
    "end": "1480080"
  },
  {
    "text": "which Builds an um om based platform and as part of this demo uh application set",
    "start": "1480080",
    "end": "1487400"
  },
  {
    "text": "are like a group of applications so in this example it has a group of Helm",
    "start": "1487400",
    "end": "1492500"
  },
  {
    "text": "charts that installs a bunch of cncf graduated projects that can be used as a",
    "start": "1492500",
    "end": "1499220"
  },
  {
    "text": "app platform and an application set controller in turn will create several applications uh",
    "start": "1499220",
    "end": "1506059"
  },
  {
    "text": "like each each one will be a separate Helm chart in itself and the application",
    "start": "1506059",
    "end": "1511580"
  },
  {
    "text": "controller again from Argo City is is what it does the constant reconciliation so any manual changes that you do to the",
    "start": "1511580",
    "end": "1519380"
  },
  {
    "text": "club manage cluster will be automatically fixed and reverted through the",
    "start": "1519380",
    "end": "1526039"
  },
  {
    "text": "application controller so let's see the recording of the demo",
    "start": "1526039",
    "end": "1533440"
  },
  {
    "text": "so here I'm creating uh this is the cluster admin CLI that I'm using so I'm creating a cluster set called app",
    "start": "1543559",
    "end": "1550039"
  },
  {
    "text": "platform and I'm adding uh clusters one and two to that particular cluster set I",
    "start": "1550039",
    "end": "1556520"
  },
  {
    "text": "need to bind that cluster set to a particular namespace this is to control like who can",
    "start": "1556520",
    "end": "1562419"
  },
  {
    "text": "associate a workload to um to that particular manage cluster so we use rbac",
    "start": "1562419",
    "end": "1568400"
  },
  {
    "text": "for controlling that and that's why we have to bind it to a particular namespace",
    "start": "1568400",
    "end": "1574600"
  },
  {
    "text": "so these are some of the commands that are available I can list the cluster sets and what are the Clusters that are",
    "start": "1578720",
    "end": "1584659"
  },
  {
    "text": "selected for that particular cluster set",
    "start": "1584659",
    "end": "1588700"
  },
  {
    "text": "so the first problem is to apply the um install the Argo CD instances on the",
    "start": "1597860",
    "end": "1604580"
  },
  {
    "text": "manage cluster so the first step is to create a work replica set to install Argo CD so with this uh the workload for",
    "start": "1604580",
    "end": "1613640"
  },
  {
    "text": "Argo CD Argo City gets installed in all the managed clusters so this will be my first step",
    "start": "1613640",
    "end": "1619039"
  },
  {
    "text": "and the subsequent steps I will create the application set",
    "start": "1619039",
    "end": "1624620"
  },
  {
    "text": "and spread it across all the um workloads",
    "start": "1624620",
    "end": "1630080"
  },
  {
    "text": "so I'm just uh so there are some issues that I was",
    "start": "1630080",
    "end": "1635779"
  },
  {
    "text": "debugging as part of the video so I'm just skipping them so the placement reference was wrong so",
    "start": "1635779",
    "end": "1643640"
  },
  {
    "text": "that's why it was initially not spreading the workloads so once I corrected that you can see that the Argo",
    "start": "1643640",
    "end": "1652039"
  },
  {
    "text": "CD parts they are starting to initialize",
    "start": "1652039",
    "end": "1657039"
  },
  {
    "text": "so the next step is to apply the app platform which is the application set",
    "start": "1665419",
    "end": "1670820"
  },
  {
    "text": "that I initially briefed about so that will create a",
    "start": "1670820",
    "end": "1676520"
  },
  {
    "text": "uh the workloads to create the application set and in turn the applications uh get created using Argo",
    "start": "1676520",
    "end": "1684140"
  },
  {
    "text": "CD so here you can see all the applications that the Argo City instance has created",
    "start": "1684140",
    "end": "1690020"
  },
  {
    "text": "so it it is initially in out of sync State and uh it shows the health status",
    "start": "1690020",
    "end": "1695860"
  },
  {
    "text": "so agar city is has two concepts one is the application sync and another is the",
    "start": "1695860",
    "end": "1703700"
  },
  {
    "text": "health check so out of sync means that the required resources are not created",
    "start": "1703700",
    "end": "1709159"
  },
  {
    "text": "at so it will keep on trying retrying in a loop to bring it to sync so it will",
    "start": "1709159",
    "end": "1714740"
  },
  {
    "text": "create that required kubernetes resources to bring it to sync and the",
    "start": "1714740",
    "end": "1720020"
  },
  {
    "text": "health check is for denoting the health of the deployed resources so all of that",
    "start": "1720020",
    "end": "1725240"
  },
  {
    "text": "is available in a single uh pane of glass like you can see all the",
    "start": "1725240",
    "end": "1731059"
  },
  {
    "text": "components that are getting installed and whether it's in sync and whether it's in a healthy state",
    "start": "1731059",
    "end": "1737120"
  },
  {
    "text": "yeah so that's all I have for the demo",
    "start": "1737120",
    "end": "1742340"
  },
  {
    "text": "yeah so I have one more video but I'm skipping it to save time that talks",
    "start": "1742340",
    "end": "1747380"
  },
  {
    "text": "about how to add managed clusters to the app cluster but yeah I'll skip that for",
    "start": "1747380",
    "end": "1752960"
  },
  {
    "text": "now uh I'm open to questions if there are so all the code uh that I have demoed",
    "start": "1752960",
    "end": "1761120"
  },
  {
    "text": "here is available in my GitHub account it's uh it's a public repository so if you want to have a look at it uh you can",
    "start": "1761120",
    "end": "1767600"
  },
  {
    "text": "take a note of it and stuff hi so my doubt is let's say I have managed",
    "start": "1767600",
    "end": "1774919"
  },
  {
    "text": "clusters in three uh different Cloud providers and everything I am controlling it with",
    "start": "1774919",
    "end": "1781940"
  },
  {
    "text": "ocm okay so can I create a deployment file so just as that where each pod will",
    "start": "1781940",
    "end": "1788240"
  },
  {
    "text": "be placed on each cloud provider correct so no um",
    "start": "1788240",
    "end": "1794200"
  },
  {
    "text": "yeah if I'm understanding your question like you have a deployment and you want to spread the parts across different",
    "start": "1794200",
    "end": "1801279"
  },
  {
    "text": "that's not possible you can have deployments on each of it but probably you can control the replica of each of",
    "start": "1801279",
    "end": "1808520"
  },
  {
    "text": "it based on like if you want one replica in each uh for I mean each environment",
    "start": "1808520",
    "end": "1814279"
  },
  {
    "text": "you can control that part of it it's it's not like uh because the deployment",
    "start": "1814279",
    "end": "1819500"
  },
  {
    "text": "controller is running uh inside the specific cluster right so ocm doesn't",
    "start": "1819500",
    "end": "1824539"
  },
  {
    "text": "understand what's running within the code thank you yeah hi thanks for your presentation so",
    "start": "1824539",
    "end": "1832520"
  },
  {
    "text": "initial slide I could see you have connected you know two different clusters with one load balancer so can",
    "start": "1832520",
    "end": "1839419"
  },
  {
    "text": "you please explain how the connectivity will be because as far as my understanding how the one load balancer",
    "start": "1839419",
    "end": "1844760"
  },
  {
    "text": "will connect to another load balancer yeah basically this is kind of a low",
    "start": "1844760",
    "end": "1849820"
  },
  {
    "text": "Global load balancer concept uh wherein you can take a client request and based",
    "start": "1849820",
    "end": "1856820"
  },
  {
    "text": "on the uh geographical area you can redirect it to one another IP address so",
    "start": "1856820",
    "end": "1863000"
  },
  {
    "text": "this this is based on that concept okay if I have a multiple application in",
    "start": "1863000",
    "end": "1869360"
  },
  {
    "text": "the I have a multiple deployment in the cluster one and I have a multiple deployment the cluster Tool uh how this",
    "start": "1869360",
    "end": "1874580"
  },
  {
    "text": "load balancer will route it to the correct application you want to Route it based on the end",
    "start": "1874580",
    "end": "1881120"
  },
  {
    "text": "points yeah since I have a multiple deployment right application I pointed to uh through Ingress I have pointed to",
    "start": "1881120",
    "end": "1887899"
  },
  {
    "text": "on ALB imagine in such way how this will route my packets when I have a multi",
    "start": "1887899",
    "end": "1893659"
  },
  {
    "text": "load balancer concept so is it about this particular example yeah so in this",
    "start": "1893659",
    "end": "1899840"
  },
  {
    "text": "this is like all the workloads will be kind of replicated and the idea here is",
    "start": "1899840",
    "end": "1904880"
  },
  {
    "text": "to reduce the latency so for example a customer accessing your",
    "start": "1904880",
    "end": "1909919"
  },
  {
    "text": "particular application from U.S region might require to be connecting to the",
    "start": "1909919",
    "end": "1915919"
  },
  {
    "text": "service that is running in U.S right he doesn't want to connect to a cluster that is running in India So based on the",
    "start": "1915919",
    "end": "1922279"
  },
  {
    "text": "particular region we can route it route the request to the cluster running in",
    "start": "1922279",
    "end": "1927679"
  },
  {
    "text": "U.S so that latency will be reduced but the workload will be kind of replicated in both the Clusters so it's to serve",
    "start": "1927679",
    "end": "1934880"
  },
  {
    "text": "different customers okay thank you thank you",
    "start": "1934880",
    "end": "1939100"
  },
  {
    "text": "time will have the Q a offline you can reach out to one in the detail thank you thank you everyone",
    "start": "1941179",
    "end": "1948880"
  },
  {
    "text": "I would like to request money to one second",
    "start": "1951020",
    "end": "1956080"
  },
  {
    "text": "[Applause]",
    "start": "1963000",
    "end": "1966150"
  }
]