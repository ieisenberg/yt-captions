[
  {
    "start": "0",
    "end": "39000"
  },
  {
    "text": "hey kubecon it's mike foster here",
    "start": "160",
    "end": "2159"
  },
  {
    "text": "technical marketing engineer at",
    "start": "2159",
    "end": "3280"
  },
  {
    "text": "stackrocks and today i want to take you",
    "start": "3280",
    "end": "5120"
  },
  {
    "text": "through a kubernetes security checklist",
    "start": "5120",
    "end": "7279"
  },
  {
    "text": "using the miter attack framework all",
    "start": "7279",
    "end": "9599"
  },
  {
    "text": "right so i have 15 minutes to get",
    "start": "9599",
    "end": "11120"
  },
  {
    "text": "through a lot with you guys so i'm going",
    "start": "11120",
    "end": "12480"
  },
  {
    "text": "to start off by talking about the",
    "start": "12480",
    "end": "14080"
  },
  {
    "text": "kubernetes attack",
    "start": "14080",
    "end": "15120"
  },
  {
    "text": "vectors and this is specifically through",
    "start": "15120",
    "end": "16800"
  },
  {
    "text": "the lens of the miter attack framework",
    "start": "16800",
    "end": "19359"
  },
  {
    "text": "then i'm going to get into some",
    "start": "19359",
    "end": "20560"
  },
  {
    "text": "kubernetes security controls",
    "start": "20560",
    "end": "22800"
  },
  {
    "text": "we're going to demo a few just simple",
    "start": "22800",
    "end": "24880"
  },
  {
    "text": "techniques that you can use to secure a",
    "start": "24880",
    "end": "26400"
  },
  {
    "text": "cluster",
    "start": "26400",
    "end": "27359"
  },
  {
    "text": "and then lastly i'm going to talk about",
    "start": "27359",
    "end": "28960"
  },
  {
    "text": "you know how we apply those techniques",
    "start": "28960",
    "end": "30400"
  },
  {
    "text": "in a way that makes sense for",
    "start": "30400",
    "end": "31920"
  },
  {
    "text": "you know the developers and the admins",
    "start": "31920",
    "end": "33680"
  },
  {
    "text": "and the organization as a whole how we",
    "start": "33680",
    "end": "35040"
  },
  {
    "text": "can kind of you know balance security",
    "start": "35040",
    "end": "36800"
  },
  {
    "text": "risks",
    "start": "36800",
    "end": "37680"
  },
  {
    "text": "and still keep developers speed up now",
    "start": "37680",
    "end": "39760"
  },
  {
    "start": "39000",
    "end": "75000"
  },
  {
    "text": "let's kick it off by reviewing the",
    "start": "39760",
    "end": "40960"
  },
  {
    "text": "original miter attack framework so in",
    "start": "40960",
    "end": "42800"
  },
  {
    "text": "2013 mitre came",
    "start": "42800",
    "end": "44000"
  },
  {
    "text": "out with this framework and it has since",
    "start": "44000",
    "end": "45920"
  },
  {
    "text": "been expanded on",
    "start": "45920",
    "end": "47360"
  },
  {
    "text": "it now encompasses over 11 different",
    "start": "47360",
    "end": "49520"
  },
  {
    "text": "tactics and over 290 techniques for",
    "start": "49520",
    "end": "51840"
  },
  {
    "text": "exploitation of systems",
    "start": "51840",
    "end": "53840"
  },
  {
    "text": "now this is a comprehensive list that",
    "start": "53840",
    "end": "55520"
  },
  {
    "text": "was detailed based off of real world",
    "start": "55520",
    "end": "57120"
  },
  {
    "text": "examples and has been added to over time",
    "start": "57120",
    "end": "59440"
  },
  {
    "text": "since kubernetes 1.0 we've seen",
    "start": "59440",
    "end": "61680"
  },
  {
    "text": "kubernetes specific",
    "start": "61680",
    "end": "62800"
  },
  {
    "text": "exploits and we found it useful to put",
    "start": "62800",
    "end": "66320"
  },
  {
    "text": "this into a matrix that we can update",
    "start": "66320",
    "end": "68000"
  },
  {
    "text": "over time",
    "start": "68000",
    "end": "68880"
  },
  {
    "text": "and that you can follow along and make",
    "start": "68880",
    "end": "71360"
  },
  {
    "text": "sure that you have all your bases",
    "start": "71360",
    "end": "73040"
  },
  {
    "text": "covered when working with kubernetes",
    "start": "73040",
    "end": "75759"
  },
  {
    "start": "75000",
    "end": "247000"
  },
  {
    "text": "here you can see the kubernetes attack",
    "start": "75759",
    "end": "77520"
  },
  {
    "text": "matrix and it's nine",
    "start": "77520",
    "end": "79119"
  },
  {
    "text": "different tactics across the top these",
    "start": "79119",
    "end": "80960"
  },
  {
    "text": "tactics are the same as the 2013 version",
    "start": "80960",
    "end": "83520"
  },
  {
    "text": "however the 40 different techniques",
    "start": "83520",
    "end": "85439"
  },
  {
    "text": "underneath them",
    "start": "85439",
    "end": "86560"
  },
  {
    "text": "are different and i can guarantee you",
    "start": "86560",
    "end": "88159"
  },
  {
    "text": "that they will be added to in the future",
    "start": "88159",
    "end": "90400"
  },
  {
    "text": "let's start off by discussing the first",
    "start": "90400",
    "end": "91840"
  },
  {
    "text": "tactic and that's initial access and",
    "start": "91840",
    "end": "94000"
  },
  {
    "text": "this tactic is referencing the",
    "start": "94000",
    "end": "95840"
  },
  {
    "text": "attacker's objective of gaining access",
    "start": "95840",
    "end": "97759"
  },
  {
    "text": "to the kubernetes cluster",
    "start": "97759",
    "end": "99280"
  },
  {
    "text": "either through compromising a component",
    "start": "99280",
    "end": "100720"
  },
  {
    "text": "of the control plane or from a",
    "start": "100720",
    "end": "102079"
  },
  {
    "text": "kubernetes resource",
    "start": "102079",
    "end": "103200"
  },
  {
    "text": "itself like an image or some sort of",
    "start": "103200",
    "end": "105680"
  },
  {
    "text": "container of vulnerability that you have",
    "start": "105680",
    "end": "107119"
  },
  {
    "text": "imported into the cluster",
    "start": "107119",
    "end": "108479"
  },
  {
    "text": "next we're moving to execution and",
    "start": "108479",
    "end": "110399"
  },
  {
    "text": "focusing on the container at runtime",
    "start": "110399",
    "end": "112479"
  },
  {
    "text": "now we're looking at an attacker trying",
    "start": "112479",
    "end": "115040"
  },
  {
    "text": "to achieve their objectives",
    "start": "115040",
    "end": "116719"
  },
  {
    "text": "either by gaining access to a container",
    "start": "116719",
    "end": "118960"
  },
  {
    "text": "or having some sort of",
    "start": "118960",
    "end": "120640"
  },
  {
    "text": "remote access where we're downloading",
    "start": "120640",
    "end": "122640"
  },
  {
    "text": "and executing scripts inside the",
    "start": "122640",
    "end": "124159"
  },
  {
    "text": "container at runtime",
    "start": "124159",
    "end": "125680"
  },
  {
    "text": "the next tactic is persistence and this",
    "start": "125680",
    "end": "128560"
  },
  {
    "text": "is the case",
    "start": "128560",
    "end": "129599"
  },
  {
    "text": "in which an attacker wants to maintain a",
    "start": "129599",
    "end": "131440"
  },
  {
    "text": "presence within the cluster",
    "start": "131440",
    "end": "133040"
  },
  {
    "text": "so they're either going to use scripts",
    "start": "133040",
    "end": "135680"
  },
  {
    "text": "and mount them into containers or",
    "start": "135680",
    "end": "137599"
  },
  {
    "text": "they might leverage a kubernetes",
    "start": "137599",
    "end": "139280"
  },
  {
    "text": "functionality like cron jobs to",
    "start": "139280",
    "end": "141360"
  },
  {
    "text": "have some sort of reoccurring process",
    "start": "141360",
    "end": "143280"
  },
  {
    "text": "within the within the cluster",
    "start": "143280",
    "end": "146000"
  },
  {
    "text": "the fourth tactic is privilege",
    "start": "146000",
    "end": "147920"
  },
  {
    "text": "escalation and this encompasses",
    "start": "147920",
    "end": "150000"
  },
  {
    "text": "any technique that enables an attacker",
    "start": "150000",
    "end": "151840"
  },
  {
    "text": "to gain additional privileges",
    "start": "151840",
    "end": "153519"
  },
  {
    "text": "uh that can be used to take on more",
    "start": "153519",
    "end": "155040"
  },
  {
    "text": "actions within the cluster or from a",
    "start": "155040",
    "end": "156560"
  },
  {
    "text": "wider scope of resources",
    "start": "156560",
    "end": "158480"
  },
  {
    "text": "this is can include running a privileged",
    "start": "158480",
    "end": "160239"
  },
  {
    "text": "container taking advantage of rules",
    "start": "160239",
    "end": "162080"
  },
  {
    "text": "within the cluster",
    "start": "162080",
    "end": "163200"
  },
  {
    "text": "that the administrator forgot to lock",
    "start": "163200",
    "end": "164640"
  },
  {
    "text": "down or getting access to cloud",
    "start": "164640",
    "end": "166640"
  },
  {
    "text": "resources",
    "start": "166640",
    "end": "167599"
  },
  {
    "text": "the fifth tactic is defense evasion and",
    "start": "167599",
    "end": "170319"
  },
  {
    "text": "it's a group of techniques that are",
    "start": "170319",
    "end": "171680"
  },
  {
    "text": "focused on concealing",
    "start": "171680",
    "end": "173040"
  },
  {
    "text": "adversary actions intended to avoid",
    "start": "173040",
    "end": "175920"
  },
  {
    "text": "detection so this could be deleting",
    "start": "175920",
    "end": "177920"
  },
  {
    "text": "evidence of an attacker's presence",
    "start": "177920",
    "end": "180239"
  },
  {
    "text": "or deleting evidence of how you know",
    "start": "180239",
    "end": "182319"
  },
  {
    "text": "access to a resource was gained",
    "start": "182319",
    "end": "184080"
  },
  {
    "text": "moving on to the sixth tactic we have",
    "start": "184080",
    "end": "186319"
  },
  {
    "text": "credential access",
    "start": "186319",
    "end": "187760"
  },
  {
    "text": "and this is activities where the hacker",
    "start": "187760",
    "end": "190319"
  },
  {
    "text": "is stealing sensitive credentials such",
    "start": "190319",
    "end": "192319"
  },
  {
    "text": "as application secrets passwords tokens",
    "start": "192319",
    "end": "194959"
  },
  {
    "text": "anything that can be used uh to be",
    "start": "194959",
    "end": "196959"
  },
  {
    "text": "leveraged into accessing users or",
    "start": "196959",
    "end": "199040"
  },
  {
    "text": "accounts",
    "start": "199040",
    "end": "200159"
  },
  {
    "text": "and this could be anything from",
    "start": "200159",
    "end": "201519"
  },
  {
    "text": "applications cluster resources",
    "start": "201519",
    "end": "203200"
  },
  {
    "text": "even sometimes cloud resources next we",
    "start": "203200",
    "end": "206000"
  },
  {
    "text": "have discovery and this tactic",
    "start": "206000",
    "end": "207599"
  },
  {
    "text": "really revolves around a hacker gaining",
    "start": "207599",
    "end": "209519"
  },
  {
    "text": "access and exploring",
    "start": "209519",
    "end": "211120"
  },
  {
    "text": "kubernetes through mechanisms like the",
    "start": "211120",
    "end": "213680"
  },
  {
    "text": "kubernetes api server or the cubelet api",
    "start": "213680",
    "end": "216720"
  },
  {
    "text": "um and even some things like the",
    "start": "216720",
    "end": "218080"
  },
  {
    "text": "kubernetes dashboard in which they could",
    "start": "218080",
    "end": "219680"
  },
  {
    "text": "get access and then pull the information",
    "start": "219680",
    "end": "221680"
  },
  {
    "text": "from your kubernetes cluster out next we",
    "start": "221680",
    "end": "224239"
  },
  {
    "text": "have lateral movement following a breach",
    "start": "224239",
    "end": "226560"
  },
  {
    "text": "an attacker might try to move throughout",
    "start": "226560",
    "end": "228319"
  },
  {
    "text": "the environment",
    "start": "228319",
    "end": "229200"
  },
  {
    "text": "and gain access to other resources",
    "start": "229200",
    "end": "231040"
  },
  {
    "text": "including other containers nodes or even",
    "start": "231040",
    "end": "232959"
  },
  {
    "text": "other cloud resources and we want to",
    "start": "232959",
    "end": "234480"
  },
  {
    "text": "minimize that as much as possible",
    "start": "234480",
    "end": "236959"
  },
  {
    "text": "lastly we have impact and this can be",
    "start": "236959",
    "end": "240080"
  },
  {
    "text": "seen as a hacker's ultimate goal",
    "start": "240080",
    "end": "242400"
  },
  {
    "text": "it's aimed at disrupting or destroying",
    "start": "242400",
    "end": "244720"
  },
  {
    "text": "resources",
    "start": "244720",
    "end": "245439"
  },
  {
    "text": "and activity within the target",
    "start": "245439",
    "end": "246959"
  },
  {
    "text": "environment now with those vectors of",
    "start": "246959",
    "end": "249439"
  },
  {
    "text": "attack in mind what are some simple",
    "start": "249439",
    "end": "250879"
  },
  {
    "text": "things that you can do to make sure your",
    "start": "250879",
    "end": "252159"
  },
  {
    "text": "cluster is secure",
    "start": "252159",
    "end": "253680"
  },
  {
    "text": "it starts by upgrading to the newest",
    "start": "253680",
    "end": "255599"
  },
  {
    "text": "version we want to take advantage of all",
    "start": "255599",
    "end": "257919"
  },
  {
    "text": "that the community has to offer the",
    "start": "257919",
    "end": "259919"
  },
  {
    "text": "different patches",
    "start": "259919",
    "end": "261600"
  },
  {
    "text": "and functionality they bring to the",
    "start": "261600",
    "end": "262720"
  },
  {
    "text": "table make sure that you are",
    "start": "262720",
    "end": "264800"
  },
  {
    "text": "taking advantage of that and upgrading",
    "start": "264800",
    "end": "266479"
  },
  {
    "text": "to a new stable version",
    "start": "266479",
    "end": "268960"
  },
  {
    "text": "next when we are creating our images we",
    "start": "268960",
    "end": "271520"
  },
  {
    "text": "want to make sure that our images are as",
    "start": "271520",
    "end": "272880"
  },
  {
    "text": "lightweight as possible",
    "start": "272880",
    "end": "274240"
  },
  {
    "text": "with no packages that need to that don't",
    "start": "274240",
    "end": "276720"
  },
  {
    "text": "need to be there",
    "start": "276720",
    "end": "277600"
  },
  {
    "text": "and it also helps to implement some sort",
    "start": "277600",
    "end": "279360"
  },
  {
    "text": "of image scanner into your ci process",
    "start": "279360",
    "end": "282000"
  },
  {
    "text": "your build process for those images",
    "start": "282000",
    "end": "284960"
  },
  {
    "text": "moving on",
    "start": "284960",
    "end": "285680"
  },
  {
    "text": "we have namespaces and since namespace",
    "start": "285680",
    "end": "288320"
  },
  {
    "text": "is that core concept that",
    "start": "288320",
    "end": "290720"
  },
  {
    "text": "just encompasses all of our applications",
    "start": "290720",
    "end": "293120"
  },
  {
    "text": "we want to make sure that those",
    "start": "293120",
    "end": "294240"
  },
  {
    "text": "are segmented in a way that makes sense",
    "start": "294240",
    "end": "296400"
  },
  {
    "text": "for organization",
    "start": "296400",
    "end": "297680"
  },
  {
    "text": "and that we can build reasonable",
    "start": "297680",
    "end": "299120"
  },
  {
    "text": "policies on top of that",
    "start": "299120",
    "end": "301360"
  },
  {
    "text": "speaking of those reasonable policies",
    "start": "301360",
    "end": "303199"
  },
  {
    "text": "our back is",
    "start": "303199",
    "end": "304479"
  },
  {
    "text": "the main one here make sure that you are",
    "start": "304479",
    "end": "306720"
  },
  {
    "text": "back is enabled in your cluster",
    "start": "306720",
    "end": "309280"
  },
  {
    "text": "and that we are actually scoping our",
    "start": "309280",
    "end": "311280"
  },
  {
    "text": "resources accordingly",
    "start": "311280",
    "end": "313039"
  },
  {
    "text": "we want to make sure that uh resources",
    "start": "313039",
    "end": "315120"
  },
  {
    "text": "don't have the ability to create",
    "start": "315120",
    "end": "316560"
  },
  {
    "text": "cluster-wide resources",
    "start": "316560",
    "end": "317919"
  },
  {
    "text": "if they don't need them and uh and",
    "start": "317919",
    "end": "321199"
  },
  {
    "text": "that other people or if especially if",
    "start": "321199",
    "end": "322960"
  },
  {
    "text": "you have a multi-tenant cluster",
    "start": "322960",
    "end": "324479"
  },
  {
    "text": "that people don't have access to",
    "start": "324479",
    "end": "326639"
  },
  {
    "text": "namespaces and resources they shouldn't",
    "start": "326639",
    "end": "329680"
  },
  {
    "text": "now moving on from our back we have",
    "start": "329680",
    "end": "331520"
  },
  {
    "text": "network policies make sure that you have",
    "start": "331520",
    "end": "333680"
  },
  {
    "text": "a software-defined network that supports",
    "start": "333680",
    "end": "335520"
  },
  {
    "text": "network policies",
    "start": "335520",
    "end": "336720"
  },
  {
    "text": "if using a cloud provider sometimes you",
    "start": "336720",
    "end": "338400"
  },
  {
    "text": "have to actually enable network policies",
    "start": "338400",
    "end": "340639"
  },
  {
    "text": "but we do recommend having them if",
    "start": "340639",
    "end": "342880"
  },
  {
    "text": "they're not you could",
    "start": "342880",
    "end": "344080"
  },
  {
    "text": "if they're not enabled especially the",
    "start": "344080",
    "end": "345280"
  },
  {
    "text": "cloud provider and you go and try to",
    "start": "345280",
    "end": "347840"
  },
  {
    "text": "try to implement network policy you",
    "start": "347840",
    "end": "349360"
  },
  {
    "text": "might find that they won't work",
    "start": "349360",
    "end": "350880"
  },
  {
    "text": "so again make sure that network policies",
    "start": "350880",
    "end": "352720"
  },
  {
    "text": "are enabled and you have a container",
    "start": "352720",
    "end": "354400"
  },
  {
    "text": "network interface",
    "start": "354400",
    "end": "355680"
  },
  {
    "text": "that supports them lastly",
    "start": "355680",
    "end": "359199"
  },
  {
    "text": "blogging monitoring metrics tracing you",
    "start": "359199",
    "end": "361840"
  },
  {
    "text": "need to make sense of your cluster you",
    "start": "361840",
    "end": "363039"
  },
  {
    "text": "need to figure out what's going on with",
    "start": "363039",
    "end": "364240"
  },
  {
    "text": "your microservices and your various",
    "start": "364240",
    "end": "366000"
  },
  {
    "text": "applications in order to make educated",
    "start": "366000",
    "end": "368240"
  },
  {
    "text": "decisions for vulnerabilities and where",
    "start": "368240",
    "end": "370639"
  },
  {
    "text": "to",
    "start": "370639",
    "end": "370960"
  },
  {
    "text": "allocate time we need to know what's",
    "start": "370960",
    "end": "373120"
  },
  {
    "text": "going on so",
    "start": "373120",
    "end": "374080"
  },
  {
    "text": "again make sure that you are getting the",
    "start": "374080",
    "end": "376160"
  },
  {
    "text": "accurate information and that you have",
    "start": "376160",
    "end": "378000"
  },
  {
    "text": "the right monitoring",
    "start": "378000",
    "end": "379520"
  },
  {
    "text": "logging and metrics set up and that way",
    "start": "379520",
    "end": "382880"
  },
  {
    "text": "you know",
    "start": "382880",
    "end": "383360"
  },
  {
    "text": "we can relay information to the",
    "start": "383360",
    "end": "385199"
  },
  {
    "text": "developers they can relate information",
    "start": "385199",
    "end": "386639"
  },
  {
    "text": "to us and we can make more accurate",
    "start": "386639",
    "end": "388080"
  },
  {
    "text": "decisions about",
    "start": "388080",
    "end": "389120"
  },
  {
    "text": "how to assess our cluster now i've",
    "start": "389120",
    "end": "391199"
  },
  {
    "start": "390000",
    "end": "748000"
  },
  {
    "text": "talked a lot so i want to get into some",
    "start": "391199",
    "end": "392960"
  },
  {
    "text": "real",
    "start": "392960",
    "end": "393360"
  },
  {
    "text": "actual use cases and there's three that",
    "start": "393360",
    "end": "395440"
  },
  {
    "text": "i want to outline in this talk and",
    "start": "395440",
    "end": "396800"
  },
  {
    "text": "that's the read only root file system",
    "start": "396800",
    "end": "399199"
  },
  {
    "text": "some linux capabilities and network",
    "start": "399199",
    "end": "401520"
  },
  {
    "text": "policies i think these are the three",
    "start": "401520",
    "end": "403120"
  },
  {
    "text": "core concepts that i think you should",
    "start": "403120",
    "end": "404560"
  },
  {
    "text": "leverage",
    "start": "404560",
    "end": "405680"
  },
  {
    "text": "within reason for your developers and",
    "start": "405680",
    "end": "407759"
  },
  {
    "text": "then i want to talk a little bit about",
    "start": "407759",
    "end": "409039"
  },
  {
    "text": "how we can implement them in a way that",
    "start": "409039",
    "end": "410560"
  },
  {
    "text": "makes sense",
    "start": "410560",
    "end": "412400"
  },
  {
    "text": "now starting off with the read-only file",
    "start": "412400",
    "end": "415520"
  },
  {
    "text": "system what we want to do here is we",
    "start": "415520",
    "end": "417280"
  },
  {
    "text": "want to make sure that hackers",
    "start": "417280",
    "end": "418960"
  },
  {
    "text": "don't have the ability to download or",
    "start": "418960",
    "end": "421599"
  },
  {
    "text": "use any malicious code internally in the",
    "start": "421599",
    "end": "423759"
  },
  {
    "text": "container",
    "start": "423759",
    "end": "424479"
  },
  {
    "text": "that shouldn't be there so for keeping",
    "start": "424479",
    "end": "426080"
  },
  {
    "text": "our images slim and we're making sure",
    "start": "426080",
    "end": "427919"
  },
  {
    "text": "that there's no",
    "start": "427919",
    "end": "429280"
  },
  {
    "text": "packages that shouldn't be there really",
    "start": "429280",
    "end": "431039"
  },
  {
    "text": "one of the exploits is somebody accesses",
    "start": "431039",
    "end": "432960"
  },
  {
    "text": "our container and then uses it to",
    "start": "432960",
    "end": "435039"
  },
  {
    "text": "to download and run some malicious code",
    "start": "435039",
    "end": "437360"
  },
  {
    "text": "now i'm going to give you an example of",
    "start": "437360",
    "end": "440080"
  },
  {
    "text": "the struts api deployment",
    "start": "440080",
    "end": "444800"
  },
  {
    "text": "in which right now is configured with",
    "start": "444800",
    "end": "447919"
  },
  {
    "text": "the ability to read write to its file",
    "start": "447919",
    "end": "449680"
  },
  {
    "text": "system",
    "start": "449680",
    "end": "450400"
  },
  {
    "text": "so we have it up and running now and",
    "start": "450400",
    "end": "453680"
  },
  {
    "text": "what we're going to do is we're going to",
    "start": "453680",
    "end": "455360"
  },
  {
    "text": "run the exploit",
    "start": "455360",
    "end": "458400"
  },
  {
    "text": "we're going to download and run a crypto",
    "start": "458400",
    "end": "462240"
  },
  {
    "text": "miner",
    "start": "462840",
    "end": "464080"
  },
  {
    "text": "so as you can see uh the container was",
    "start": "464080",
    "end": "466960"
  },
  {
    "text": "able to",
    "start": "466960",
    "end": "467599"
  },
  {
    "text": "download and untar the miner d",
    "start": "467599",
    "end": "471039"
  },
  {
    "text": "binary and currently is running inside",
    "start": "471039",
    "end": "473759"
  },
  {
    "text": "of our api server",
    "start": "473759",
    "end": "475599"
  },
  {
    "text": "now that's not what we want obviously so",
    "start": "475599",
    "end": "478240"
  },
  {
    "text": "let's",
    "start": "478240",
    "end": "478960"
  },
  {
    "text": "create the api server as a read-only",
    "start": "478960",
    "end": "482400"
  },
  {
    "text": "root file system",
    "start": "482400",
    "end": "484080"
  },
  {
    "text": "and try to execute the same code",
    "start": "484080",
    "end": "487199"
  },
  {
    "text": "so let's update this with a replace",
    "start": "487199",
    "end": "490240"
  },
  {
    "text": "so we've reconfigured our deployment",
    "start": "490240",
    "end": "494319"
  },
  {
    "text": "and we'll rerun the exploit",
    "start": "495680",
    "end": "502080"
  },
  {
    "text": "and as you can see we weren't able to",
    "start": "502560",
    "end": "505280"
  },
  {
    "text": "actually download and",
    "start": "505280",
    "end": "506800"
  },
  {
    "text": "untar the minor d binary",
    "start": "506800",
    "end": "510319"
  },
  {
    "text": "so this is just something as simple as",
    "start": "510319",
    "end": "512560"
  },
  {
    "text": "making all of your",
    "start": "512560",
    "end": "514719"
  },
  {
    "text": "all of your default your default for all",
    "start": "514719",
    "end": "516640"
  },
  {
    "text": "of your pods as a read only root file",
    "start": "516640",
    "end": "518959"
  },
  {
    "text": "system and then adjusting accordingly",
    "start": "518959",
    "end": "521039"
  },
  {
    "text": "as developers need access and need to be",
    "start": "521039",
    "end": "523120"
  },
  {
    "text": "able to write within the container",
    "start": "523120",
    "end": "524959"
  },
  {
    "text": "now you can actually create a read-only",
    "start": "524959",
    "end": "527120"
  },
  {
    "text": "root file system",
    "start": "527120",
    "end": "528160"
  },
  {
    "text": "and still be able to to save",
    "start": "528160",
    "end": "531680"
  },
  {
    "text": "code in the container what you should do",
    "start": "531680",
    "end": "533760"
  },
  {
    "text": "is use a volume",
    "start": "533760",
    "end": "534959"
  },
  {
    "text": "an md directory and then write to it",
    "start": "534959",
    "end": "538160"
  },
  {
    "text": "instead of writing actually to the",
    "start": "538160",
    "end": "539760"
  },
  {
    "text": "internal file system within the cluster",
    "start": "539760",
    "end": "542000"
  },
  {
    "text": "just the fact that you're doing it alone",
    "start": "542000",
    "end": "543680"
  },
  {
    "text": "will confuse a lot of would-be hackers",
    "start": "543680",
    "end": "545519"
  },
  {
    "text": "since",
    "start": "545519",
    "end": "546240"
  },
  {
    "text": "they tend to use exploits that are that",
    "start": "546240",
    "end": "548080"
  },
  {
    "text": "are well known so things like always",
    "start": "548080",
    "end": "549600"
  },
  {
    "text": "being able to write to temp since temp",
    "start": "549600",
    "end": "551040"
  },
  {
    "text": "is normally writable",
    "start": "551040",
    "end": "552640"
  },
  {
    "text": "the fact that you are mounting an empty",
    "start": "552640",
    "end": "554959"
  },
  {
    "text": "directory volume into your container",
    "start": "554959",
    "end": "557200"
  },
  {
    "text": "and then using that for read write will",
    "start": "557200",
    "end": "559279"
  },
  {
    "text": "throw off a lot of would-be hackers the",
    "start": "559279",
    "end": "562399"
  },
  {
    "text": "next functionality that i want to",
    "start": "562399",
    "end": "563680"
  },
  {
    "text": "highlight is the linux capability",
    "start": "563680",
    "end": "565680"
  },
  {
    "text": "functionality",
    "start": "565680",
    "end": "567120"
  },
  {
    "text": "and really what linux capabilities are",
    "start": "567120",
    "end": "568560"
  },
  {
    "text": "here to do is to split that route",
    "start": "568560",
    "end": "570320"
  },
  {
    "text": "that root superpower into a series of",
    "start": "570320",
    "end": "572880"
  },
  {
    "text": "smaller capabilities",
    "start": "572880",
    "end": "574399"
  },
  {
    "text": "uh and you've probably run across these",
    "start": "574399",
    "end": "576480"
  },
  {
    "text": "in your work as",
    "start": "576480",
    "end": "577600"
  },
  {
    "text": "things like cap chown capnet raw so cap",
    "start": "577600",
    "end": "580240"
  },
  {
    "text": "challenge used by chown or cabnet raw",
    "start": "580240",
    "end": "581839"
  },
  {
    "text": "used by ping",
    "start": "581839",
    "end": "583120"
  },
  {
    "text": "and these are just examples of system",
    "start": "583120",
    "end": "584880"
  },
  {
    "text": "calls that can be limited",
    "start": "584880",
    "end": "586560"
  },
  {
    "text": "we can shut them all down or we can",
    "start": "586560",
    "end": "588000"
  },
  {
    "text": "limit to the scopes of what our",
    "start": "588000",
    "end": "589360"
  },
  {
    "text": "applications need",
    "start": "589360",
    "end": "590720"
  },
  {
    "text": "to access now in this example what we're",
    "start": "590720",
    "end": "593360"
  },
  {
    "text": "going to do is we're just going to drop",
    "start": "593360",
    "end": "594399"
  },
  {
    "text": "all",
    "start": "594399",
    "end": "595680"
  },
  {
    "text": "and then we're going to see that the",
    "start": "595680",
    "end": "599680"
  },
  {
    "text": "that the container is not able to",
    "start": "600160",
    "end": "602560"
  },
  {
    "text": "actually download",
    "start": "602560",
    "end": "603680"
  },
  {
    "text": "the binary and execute it in the",
    "start": "603680",
    "end": "606800"
  },
  {
    "text": "cluster so as you can see it's",
    "start": "606800",
    "end": "609920"
  },
  {
    "text": "running right now and if we run the same",
    "start": "609920",
    "end": "612880"
  },
  {
    "text": "exploit where we're trying to download",
    "start": "612880",
    "end": "614399"
  },
  {
    "text": "and",
    "start": "614399",
    "end": "614800"
  },
  {
    "text": "untar the minor d",
    "start": "614800",
    "end": "618160"
  },
  {
    "text": "binary",
    "start": "618160",
    "end": "620720"
  },
  {
    "text": "we'll see that we were able to download",
    "start": "621360",
    "end": "623040"
  },
  {
    "text": "it however as soon as we want to",
    "start": "623040",
    "end": "625680"
  },
  {
    "text": "change the ownership of the binary",
    "start": "625680",
    "end": "629040"
  },
  {
    "text": "we have to exit the container",
    "start": "629040",
    "end": "632640"
  },
  {
    "text": "so last concept i want to talk about is",
    "start": "632640",
    "end": "634560"
  },
  {
    "text": "network policies",
    "start": "634560",
    "end": "635760"
  },
  {
    "text": "and you can think of network policies",
    "start": "635760",
    "end": "637120"
  },
  {
    "text": "like l3 l4 firewall rules with",
    "start": "637120",
    "end": "640079"
  },
  {
    "text": "some kubernetes specific concepts",
    "start": "640079",
    "end": "642399"
  },
  {
    "text": "layered in there",
    "start": "642399",
    "end": "643839"
  },
  {
    "text": "what we're going to be doing is we're",
    "start": "643839",
    "end": "644880"
  },
  {
    "text": "going to be applying a default deny",
    "start": "644880",
    "end": "646800"
  },
  {
    "text": "network policy",
    "start": "646800",
    "end": "648240"
  },
  {
    "text": "now what's interesting about this",
    "start": "648240",
    "end": "650079"
  },
  {
    "text": "network policy is it's not really",
    "start": "650079",
    "end": "651200"
  },
  {
    "text": "intuitive",
    "start": "651200",
    "end": "652000"
  },
  {
    "text": "uh we're just really saying we're giving",
    "start": "652000",
    "end": "653519"
  },
  {
    "text": "a name of default and i",
    "start": "653519",
    "end": "655120"
  },
  {
    "text": "you know matching to the namespace in",
    "start": "655120",
    "end": "656399"
  },
  {
    "text": "the pod selector and matching labels",
    "start": "656399",
    "end": "658800"
  },
  {
    "text": "just like we normally would with",
    "start": "658800",
    "end": "660160"
  },
  {
    "text": "a kubernetes service uh and we're saying",
    "start": "660160",
    "end": "662959"
  },
  {
    "text": "we're limiting a policy type of egress",
    "start": "662959",
    "end": "664720"
  },
  {
    "text": "however",
    "start": "664720",
    "end": "665519"
  },
  {
    "text": "this policy is going to shut down all",
    "start": "665519",
    "end": "667120"
  },
  {
    "text": "communication uh to and from the pod",
    "start": "667120",
    "end": "669200"
  },
  {
    "text": "altogether",
    "start": "669200",
    "end": "670079"
  },
  {
    "text": "and that's because kubernetes has a",
    "start": "670079",
    "end": "672839"
  },
  {
    "text": "restrictive",
    "start": "672839",
    "end": "674240"
  },
  {
    "text": "permission system with network policies",
    "start": "674240",
    "end": "676240"
  },
  {
    "text": "where everything is open by default when",
    "start": "676240",
    "end": "678160"
  },
  {
    "text": "you create a cluster and as soon as you",
    "start": "678160",
    "end": "679600"
  },
  {
    "text": "apply a policy",
    "start": "679600",
    "end": "680959"
  },
  {
    "text": "uh everything except for the policy that",
    "start": "680959",
    "end": "682720"
  },
  {
    "text": "you've applied is shut down so since we",
    "start": "682720",
    "end": "685120"
  },
  {
    "text": "haven't actually specified anything",
    "start": "685120",
    "end": "687200"
  },
  {
    "text": "underneath this policy type for a",
    "start": "687200",
    "end": "688560"
  },
  {
    "text": "specific port or protocol",
    "start": "688560",
    "end": "690240"
  },
  {
    "text": "all communication to and from that pod",
    "start": "690240",
    "end": "692560"
  },
  {
    "text": "is going to be shut down",
    "start": "692560",
    "end": "694720"
  },
  {
    "text": "and that means i'm going to redeploy my",
    "start": "694720",
    "end": "698000"
  },
  {
    "text": "first struts vulnerable deployment",
    "start": "698000",
    "end": "701760"
  },
  {
    "text": "what we're going to do is we're going to",
    "start": "701760",
    "end": "703920"
  },
  {
    "text": "then add the",
    "start": "703920",
    "end": "704800"
  },
  {
    "text": "network policy for this deployment",
    "start": "704800",
    "end": "708079"
  },
  {
    "text": "and again run that exploit that we had",
    "start": "708079",
    "end": "710880"
  },
  {
    "text": "before",
    "start": "710880",
    "end": "711839"
  },
  {
    "text": "now what we should see is we should see",
    "start": "711839",
    "end": "714720"
  },
  {
    "text": "a w wget",
    "start": "714720",
    "end": "716000"
  },
  {
    "text": "function call and it should it's",
    "start": "716000",
    "end": "718639"
  },
  {
    "text": "basically just hanging in the background",
    "start": "718639",
    "end": "720639"
  },
  {
    "text": "it's not able to actually perform its",
    "start": "720639",
    "end": "722240"
  },
  {
    "text": "function and you know",
    "start": "722240",
    "end": "723760"
  },
  {
    "text": "eventually it's going to time out so to",
    "start": "723760",
    "end": "726320"
  },
  {
    "text": "summarize",
    "start": "726320",
    "end": "727120"
  },
  {
    "text": "we went through a read-only root file",
    "start": "727120",
    "end": "729360"
  },
  {
    "text": "system outlined linux capabilities and",
    "start": "729360",
    "end": "731680"
  },
  {
    "text": "demonstrated a basic network policy",
    "start": "731680",
    "end": "734079"
  },
  {
    "text": "all that can help secure some basic",
    "start": "734079",
    "end": "735839"
  },
  {
    "text": "workloads in your cluster",
    "start": "735839",
    "end": "738240"
  },
  {
    "text": "again it's up to you in order to",
    "start": "738240",
    "end": "740480"
  },
  {
    "text": "interpret how to use them and that leads",
    "start": "740480",
    "end": "742240"
  },
  {
    "text": "into our next section of how do we",
    "start": "742240",
    "end": "744160"
  },
  {
    "text": "actually implement these policies in a",
    "start": "744160",
    "end": "746639"
  },
  {
    "text": "way that makes sense for our developers",
    "start": "746639",
    "end": "748959"
  },
  {
    "start": "748000",
    "end": "876000"
  },
  {
    "text": "we've gone over a lot in these last",
    "start": "748959",
    "end": "750480"
  },
  {
    "text": "couple of minutes so i want to take some",
    "start": "750480",
    "end": "752079"
  },
  {
    "text": "time to",
    "start": "752079",
    "end": "752800"
  },
  {
    "text": "talk about some ways that you can",
    "start": "752800",
    "end": "754240"
  },
  {
    "text": "actually integrate this in a way that",
    "start": "754240",
    "end": "755440"
  },
  {
    "text": "makes sense",
    "start": "755440",
    "end": "756480"
  },
  {
    "text": "at your workplace the first step is to",
    "start": "756480",
    "end": "760399"
  },
  {
    "text": "shift things onto the developers and",
    "start": "760399",
    "end": "762160"
  },
  {
    "text": "please don't hate me for this but",
    "start": "762160",
    "end": "763760"
  },
  {
    "text": "the developers you guys are going to",
    "start": "763760",
    "end": "765120"
  },
  {
    "text": "know what you need in terms of resources",
    "start": "765120",
    "end": "767760"
  },
  {
    "text": "the networks and communication that your",
    "start": "767760",
    "end": "769760"
  },
  {
    "text": "containers are going to have",
    "start": "769760",
    "end": "770959"
  },
  {
    "text": "and any persistence or any storage that",
    "start": "770959",
    "end": "772720"
  },
  {
    "text": "the containers need so there has to be a",
    "start": "772720",
    "end": "774880"
  },
  {
    "text": "communication",
    "start": "774880",
    "end": "775839"
  },
  {
    "text": "in terms of what makes sense secondly",
    "start": "775839",
    "end": "778560"
  },
  {
    "text": "build things into your pipeline as",
    "start": "778560",
    "end": "780639"
  },
  {
    "text": "get as many security checks into your",
    "start": "780639",
    "end": "782320"
  },
  {
    "text": "pipeline as possible whether it's image",
    "start": "782320",
    "end": "783839"
  },
  {
    "text": "scanning",
    "start": "783839",
    "end": "784959"
  },
  {
    "text": "something like a configuration check as",
    "start": "784959",
    "end": "787519"
  },
  {
    "text": "as part of that pipeline",
    "start": "787519",
    "end": "789760"
  },
  {
    "text": "automating will save you a lot of time",
    "start": "789760",
    "end": "791600"
  },
  {
    "text": "and the faster that you can",
    "start": "791600",
    "end": "794000"
  },
  {
    "text": "automate and do things the safer you",
    "start": "794000",
    "end": "795760"
  },
  {
    "text": "actually are because you're constantly",
    "start": "795760",
    "end": "796959"
  },
  {
    "text": "building checks into your pipeline and",
    "start": "796959",
    "end": "798639"
  },
  {
    "text": "it's harder for hackers to",
    "start": "798639",
    "end": "800079"
  },
  {
    "text": "accommodate for the speed at which you",
    "start": "800079",
    "end": "801519"
  },
  {
    "text": "develop lastly after",
    "start": "801519",
    "end": "803600"
  },
  {
    "text": "we have established that communication",
    "start": "803600",
    "end": "806000"
  },
  {
    "text": "and we've",
    "start": "806000",
    "end": "807040"
  },
  {
    "text": "we've set up checks in our pipeline we",
    "start": "807040",
    "end": "809120"
  },
  {
    "text": "want to use a principle of least",
    "start": "809120",
    "end": "810720"
  },
  {
    "text": "privilege when applying these policies",
    "start": "810720",
    "end": "813440"
  },
  {
    "text": "across our teams you know keep that",
    "start": "813440",
    "end": "816079"
  },
  {
    "text": "communication up",
    "start": "816079",
    "end": "817200"
  },
  {
    "text": "when a developer needs something else",
    "start": "817200",
    "end": "818959"
  },
  {
    "text": "you know we can relax that policy or",
    "start": "818959",
    "end": "821040"
  },
  {
    "text": "enforce more policy as different",
    "start": "821040",
    "end": "822639"
  },
  {
    "text": "services are needed",
    "start": "822639",
    "end": "824240"
  },
  {
    "text": "but regardless again try to keep that",
    "start": "824240",
    "end": "826639"
  },
  {
    "text": "that policy standard as",
    "start": "826639",
    "end": "828160"
  },
  {
    "text": "minimal as possible to reduce that",
    "start": "828160",
    "end": "829920"
  },
  {
    "text": "surface area of attack",
    "start": "829920",
    "end": "832240"
  },
  {
    "text": "thanks for watching i got so many shout",
    "start": "832240",
    "end": "834160"
  },
  {
    "text": "outs to give",
    "start": "834160",
    "end": "835600"
  },
  {
    "text": "follow me on twitter linkedin and my",
    "start": "835600",
    "end": "837519"
  },
  {
    "text": "github account where i'll be breaking",
    "start": "837519",
    "end": "839199"
  },
  {
    "text": "down the certified kubernetes security",
    "start": "839199",
    "end": "841120"
  },
  {
    "text": "specialist",
    "start": "841120",
    "end": "842320"
  },
  {
    "text": "check out cubelinter it's a open source",
    "start": "842320",
    "end": "844800"
  },
  {
    "text": "security tool",
    "start": "844800",
    "end": "845680"
  },
  {
    "text": "for enabling policy requirements as part",
    "start": "845680",
    "end": "847760"
  },
  {
    "text": "of your ci build",
    "start": "847760",
    "end": "848720"
  },
  {
    "text": "pipeline come join my meetups",
    "start": "848720",
    "end": "851920"
  },
  {
    "text": "we talk about cloud native kubernetes",
    "start": "851920",
    "end": "853920"
  },
  {
    "text": "and general security applications",
    "start": "853920",
    "end": "855440"
  },
  {
    "text": "policies",
    "start": "855440",
    "end": "856000"
  },
  {
    "text": "what's new what's hot lastly if you want",
    "start": "856000",
    "end": "858000"
  },
  {
    "text": "to reach me personally i'll be at the",
    "start": "858000",
    "end": "859600"
  },
  {
    "text": "booth during kubecon come say hi",
    "start": "859600",
    "end": "861680"
  },
  {
    "text": "bring your questions with you you can",
    "start": "861680",
    "end": "863519"
  },
  {
    "text": "always email me dm me on twitter or",
    "start": "863519",
    "end": "865600"
  },
  {
    "text": "linkedin",
    "start": "865600",
    "end": "866320"
  },
  {
    "text": "or check me out at the kubernetes slack",
    "start": "866320",
    "end": "868480"
  },
  {
    "text": "channel where i'm a part of sick",
    "start": "868480",
    "end": "869839"
  },
  {
    "text": "security and security tooling so",
    "start": "869839",
    "end": "872480"
  },
  {
    "text": "come join the community and i look",
    "start": "872480",
    "end": "874320"
  },
  {
    "text": "forward to hearing from you thanks again",
    "start": "874320",
    "end": "878560"
  }
]