[
  {
    "text": "hello how's everyone going so today",
    "start": "30",
    "end": "3959"
  },
  {
    "text": "we're going to be talking about OPA",
    "start": "3959",
    "end": "5640"
  },
  {
    "text": "policy and how you can go about testing",
    "start": "5640",
    "end": "8490"
  },
  {
    "text": "and production izing and go about",
    "start": "8490",
    "end": "10410"
  },
  {
    "text": "improving the overall process of",
    "start": "10410",
    "end": "11910"
  },
  {
    "text": "delivering OPA policy and in a",
    "start": "11910",
    "end": "14219"
  },
  {
    "text": "production environment my name is Ben",
    "start": "14219",
    "end": "16710"
  },
  {
    "text": "and I'm dizzy Oh",
    "start": "16710",
    "end": "17820"
  },
  {
    "text": "my name is stager somewhere they own Zed",
    "start": "17820",
    "end": "19830"
  },
  {
    "text": "okay so let's that's kind of just do a",
    "start": "19830",
    "end": "23519"
  },
  {
    "text": "quick overview here of how many people",
    "start": "23519",
    "end": "25380"
  },
  {
    "text": "have heard of OPA there was a precursor",
    "start": "25380",
    "end": "27660"
  },
  {
    "text": "session today but kind of skater show of",
    "start": "27660",
    "end": "29849"
  },
  {
    "text": "hands how many people are using OPA just",
    "start": "29849",
    "end": "31650"
  },
  {
    "text": "in a basic form okay and how many people",
    "start": "31650",
    "end": "35309"
  },
  {
    "text": "are using that in production so a little",
    "start": "35309",
    "end": "37829"
  },
  {
    "text": "bit more serious cool",
    "start": "37829",
    "end": "39570"
  },
  {
    "text": "so hopefully out of this we kind of get",
    "start": "39570",
    "end": "41430"
  },
  {
    "text": "to get a bit of a feel for some of the",
    "start": "41430",
    "end": "43920"
  },
  {
    "text": "things that we've kind of thought about",
    "start": "43920",
    "end": "45149"
  },
  {
    "text": "and some of the measures we've taken to",
    "start": "45149",
    "end": "46620"
  },
  {
    "text": "improve the kind of production ization",
    "start": "46620",
    "end": "48539"
  },
  {
    "text": "aspects so if I give it just a really",
    "start": "48539",
    "end": "50730"
  },
  {
    "text": "quick overview because there was a",
    "start": "50730",
    "end": "52739"
  },
  {
    "text": "precursor session I guess it's not worth",
    "start": "52739",
    "end": "54539"
  },
  {
    "text": "necessarily going deep onto this but",
    "start": "54539",
    "end": "56280"
  },
  {
    "text": "just the main the main aspects of OPA if",
    "start": "56280",
    "end": "59850"
  },
  {
    "text": "we just break it down to what it's doing",
    "start": "59850",
    "end": "61620"
  },
  {
    "text": "it's just effectively a core policy",
    "start": "61620",
    "end": "63629"
  },
  {
    "text": "engine and in the context of kubernetes",
    "start": "63629",
    "end": "65670"
  },
  {
    "text": "we're effectively just hooking it up",
    "start": "65670",
    "end": "67500"
  },
  {
    "text": "with the extension API in kubernetes for",
    "start": "67500",
    "end": "69960"
  },
  {
    "text": "admission control and so in the",
    "start": "69960",
    "end": "72180"
  },
  {
    "text": "scenarios we're going to be describing",
    "start": "72180",
    "end": "73260"
  },
  {
    "text": "here we're using that to effectively",
    "start": "73260",
    "end": "75150"
  },
  {
    "text": "just put some guardrails in place for",
    "start": "75150",
    "end": "78030"
  },
  {
    "text": "controlling what resources are coming",
    "start": "78030",
    "end": "80340"
  },
  {
    "text": "into our cluster and potentially doing",
    "start": "80340",
    "end": "82229"
  },
  {
    "text": "things like mutation to add extra extra",
    "start": "82229",
    "end": "84720"
  },
  {
    "text": "information onto the resources we create",
    "start": "84720",
    "end": "86310"
  },
  {
    "text": "so I'm gonna hand it at ages who's going",
    "start": "86310",
    "end": "87869"
  },
  {
    "text": "to walk through some of the user stories",
    "start": "87869",
    "end": "89939"
  },
  {
    "text": "that we have yeah so one of the major",
    "start": "89939",
    "end": "94860"
  },
  {
    "text": "use cases of OPA is to provide some dev",
    "start": "94860",
    "end": "97170"
  },
  {
    "text": "guardrails often in companies we have",
    "start": "97170",
    "end": "99810"
  },
  {
    "text": "high feature cadence you know you know",
    "start": "99810",
    "end": "101729"
  },
  {
    "text": "let developers prototype and have their",
    "start": "101729",
    "end": "104040"
  },
  {
    "text": "own segments cluster which they can",
    "start": "104040",
    "end": "105509"
  },
  {
    "text": "administer so in in such scenarios we",
    "start": "105509",
    "end": "108149"
  },
  {
    "text": "can then had deployed OPA in order to",
    "start": "108149",
    "end": "109890"
  },
  {
    "text": "provide some guardrails or some like",
    "start": "109890",
    "end": "112020"
  },
  {
    "text": "restraints in to in there in the",
    "start": "112020",
    "end": "114390"
  },
  {
    "text": "clusters so one of the major examples",
    "start": "114390",
    "end": "116729"
  },
  {
    "text": "that come into mind when we talk about",
    "start": "116729",
    "end": "118200"
  },
  {
    "text": "dev guardrails is the use of like",
    "start": "118200",
    "end": "120210"
  },
  {
    "text": "external versus internal load balancers",
    "start": "120210",
    "end": "122310"
  },
  {
    "text": "so different cloud providers have",
    "start": "122310",
    "end": "124140"
  },
  {
    "text": "different annotations that you add to",
    "start": "124140",
    "end": "126000"
  },
  {
    "text": "services in order to specify whether",
    "start": "126000",
    "end": "127860"
  },
  {
    "text": "it's an internal or an external load",
    "start": "127860",
    "end": "129390"
  },
  {
    "text": "balancer now it's often times we forget",
    "start": "129390",
    "end": "132030"
  },
  {
    "text": "to add this annotation so",
    "start": "132030",
    "end": "133350"
  },
  {
    "text": "we can instead use opa to police police",
    "start": "133350",
    "end": "135420"
  },
  {
    "text": "this and ensure that all services all",
    "start": "135420",
    "end": "138210"
  },
  {
    "text": "these services with these annotations",
    "start": "138210",
    "end": "139680"
  },
  {
    "text": "are actually deployed into the cluster",
    "start": "139680",
    "end": "141770"
  },
  {
    "text": "now security is another major aspect",
    "start": "141770",
    "end": "144870"
  },
  {
    "text": "which OPA can be very applicable and one",
    "start": "144870",
    "end": "147660"
  },
  {
    "text": "of the major of use cases of this would",
    "start": "147660",
    "end": "150300"
  },
  {
    "text": "be to actually isolate a sensitive",
    "start": "150300",
    "end": "152340"
  },
  {
    "text": "workloads into different node pools",
    "start": "152340",
    "end": "153720"
  },
  {
    "text": "essentially we can have the",
    "start": "153720",
    "end": "155280"
  },
  {
    "text": "functionality of having any any",
    "start": "155280",
    "end": "158280"
  },
  {
    "text": "workloads that are deployed in namespace",
    "start": "158280",
    "end": "160440"
  },
  {
    "text": "a be deployed to a specific node pool",
    "start": "160440",
    "end": "162240"
  },
  {
    "text": "now this might be because of compliance",
    "start": "162240",
    "end": "163950"
  },
  {
    "text": "requirements or if you have specific yes",
    "start": "163950",
    "end": "166680"
  },
  {
    "text": "specific compliance or sensitive",
    "start": "166680",
    "end": "169320"
  },
  {
    "text": "workloads you want to make sure that",
    "start": "169320",
    "end": "170610"
  },
  {
    "text": "that is separated from your other",
    "start": "170610",
    "end": "172260"
  },
  {
    "text": "workloads we can use OPA support",
    "start": "172260",
    "end": "174900"
  },
  {
    "text": "affinity policies and then mutate them",
    "start": "174900",
    "end": "177300"
  },
  {
    "text": "into the pods depending on which",
    "start": "177300",
    "end": "178710"
  },
  {
    "text": "namespace they're going to now more or",
    "start": "178710",
    "end": "182100"
  },
  {
    "text": "less used but then another use case",
    "start": "182100",
    "end": "184470"
  },
  {
    "text": "would be an administrative purposes",
    "start": "184470",
    "end": "186030"
  },
  {
    "text": "often enterprises need to inject",
    "start": "186030",
    "end": "188760"
  },
  {
    "text": "metadata information such as which team",
    "start": "188760",
    "end": "190920"
  },
  {
    "text": "owns this or which billing account",
    "start": "190920",
    "end": "193140"
  },
  {
    "text": "assist with this deployment associated",
    "start": "193140",
    "end": "195330"
  },
  {
    "text": "with and so all this administrative",
    "start": "195330",
    "end": "197490"
  },
  {
    "text": "metadata is required to deploy into a",
    "start": "197490",
    "end": "199260"
  },
  {
    "text": "cluster at times now for a development",
    "start": "199260",
    "end": "201570"
  },
  {
    "text": "it can often be cumbersome in order to",
    "start": "201570",
    "end": "203400"
  },
  {
    "text": "have to do that every single time they",
    "start": "203400",
    "end": "205500"
  },
  {
    "text": "prototype or deploy something something",
    "start": "205500",
    "end": "207600"
  },
  {
    "text": "into the cluster so we can instead",
    "start": "207600",
    "end": "208980"
  },
  {
    "text": "offload this capability into the",
    "start": "208980",
    "end": "210930"
  },
  {
    "text": "platform team they can develop a policy",
    "start": "210930",
    "end": "213060"
  },
  {
    "text": "which automatically mutates these",
    "start": "213060",
    "end": "215250"
  },
  {
    "text": "additional enriched metadata information",
    "start": "215250",
    "end": "217260"
  },
  {
    "text": "into your deployments depending on the",
    "start": "217260",
    "end": "219720"
  },
  {
    "text": "namespace or the label that you give on",
    "start": "219720",
    "end": "221340"
  },
  {
    "text": "our OPA policy now back to them okay so",
    "start": "221340",
    "end": "225060"
  },
  {
    "text": "now if we actually touch on some of the",
    "start": "225060",
    "end": "227460"
  },
  {
    "text": "production requirements we had going",
    "start": "227460",
    "end": "229650"
  },
  {
    "text": "into the overall aspects of deploying",
    "start": "229650",
    "end": "232170"
  },
  {
    "text": "OPA so in a large kind of enterprise",
    "start": "232170",
    "end": "235440"
  },
  {
    "text": "context these are some of the",
    "start": "235440",
    "end": "236880"
  },
  {
    "text": "requirements that we were looking at",
    "start": "236880",
    "end": "238500"
  },
  {
    "text": "primarily so as part of the overall",
    "start": "238500",
    "end": "241140"
  },
  {
    "text": "development process of the underlying",
    "start": "241140",
    "end": "242730"
  },
  {
    "text": "OPA policy some of the focuses we had",
    "start": "242730",
    "end": "244860"
  },
  {
    "text": "was effectively simplifying and making",
    "start": "244860",
    "end": "247530"
  },
  {
    "text": "it easier to extend and continuously",
    "start": "247530",
    "end": "249540"
  },
  {
    "text": "develop OPA policy as like a code base",
    "start": "249540",
    "end": "252270"
  },
  {
    "text": "micro and as well as wanting to be able",
    "start": "252270",
    "end": "254610"
  },
  {
    "text": "to improve the maintenance and review",
    "start": "254610",
    "end": "256650"
  },
  {
    "text": "ability of the policy that would be",
    "start": "256650",
    "end": "258840"
  },
  {
    "text": "general would be overall developed and",
    "start": "258840",
    "end": "261000"
  },
  {
    "text": "so that really manifested itself as",
    "start": "261000",
    "end": "263010"
  },
  {
    "text": "effectively a common library that",
    "start": "263010",
    "end": "264419"
  },
  {
    "text": "effectively had all of the core",
    "start": "264419",
    "end": "266550"
  },
  {
    "text": "functions that a lot of other people",
    "start": "266550",
    "end": "268530"
  },
  {
    "text": "would use quite actively and this was",
    "start": "268530",
    "end": "271229"
  },
  {
    "text": "very helpful in being able to",
    "start": "271229",
    "end": "272930"
  },
  {
    "text": "effectively establish standards on on",
    "start": "272930",
    "end": "275699"
  },
  {
    "text": "how someone can go about developing",
    "start": "275699",
    "end": "277620"
  },
  {
    "text": "higher-order functions which meet",
    "start": "277620",
    "end": "279479"
  },
  {
    "text": "specific bespoke OPA actions so for",
    "start": "279479",
    "end": "283319"
  },
  {
    "text": "example you might be wanting to mutate",
    "start": "283319",
    "end": "284789"
  },
  {
    "text": "you might be wanted to do with admission",
    "start": "284789",
    "end": "286860"
  },
  {
    "text": "validation and so you could have a",
    "start": "286860",
    "end": "288900"
  },
  {
    "text": "reference to a common library function",
    "start": "288900",
    "end": "292080"
  },
  {
    "text": "that would then give you most of that",
    "start": "292080",
    "end": "293460"
  },
  {
    "text": "capability out of the box and so if we",
    "start": "293460",
    "end": "295740"
  },
  {
    "text": "take a look at what this would look like",
    "start": "295740",
    "end": "297120"
  },
  {
    "text": "is you effectively have just a common",
    "start": "297120",
    "end": "299430"
  },
  {
    "text": "package where you would define all of",
    "start": "299430",
    "end": "300810"
  },
  {
    "text": "your common functions and then those",
    "start": "300810",
    "end": "302520"
  },
  {
    "text": "would be referenceable in your",
    "start": "302520",
    "end": "304139"
  },
  {
    "text": "higher-order functions which are",
    "start": "304139",
    "end": "305520"
  },
  {
    "text": "actually implementing your specific",
    "start": "305520",
    "end": "307349"
  },
  {
    "text": "capability and so you can see in this",
    "start": "307349",
    "end": "309569"
  },
  {
    "text": "scenario here we have some mutations so",
    "start": "309569",
    "end": "312419"
  },
  {
    "text": "a mutation of a label and so we're using",
    "start": "312419",
    "end": "314099"
  },
  {
    "text": "is just a basic function here to just",
    "start": "314099",
    "end": "316590"
  },
  {
    "text": "check to see if it has a label and so",
    "start": "316590",
    "end": "318120"
  },
  {
    "text": "this is an example of how we can go",
    "start": "318120",
    "end": "319830"
  },
  {
    "text": "about simplifying the the readability as",
    "start": "319830",
    "end": "322560"
  },
  {
    "text": "well so now that we can reference a kind",
    "start": "322560",
    "end": "325379"
  },
  {
    "text": "of a core library function we now have",
    "start": "325379",
    "end": "327270"
  },
  {
    "text": "the ability of referencing that and",
    "start": "327270",
    "end": "328530"
  },
  {
    "text": "using it and reducing the overall code",
    "start": "328530",
    "end": "331050"
  },
  {
    "text": "that would go into a specific function",
    "start": "331050",
    "end": "333479"
  },
  {
    "text": "higher-order function another scenario",
    "start": "333479",
    "end": "336330"
  },
  {
    "text": "we looked at was effectively trying to",
    "start": "336330",
    "end": "338159"
  },
  {
    "text": "be admission controller agnostic and so",
    "start": "338159",
    "end": "340710"
  },
  {
    "text": "what we mean by that is effectively that",
    "start": "340710",
    "end": "342479"
  },
  {
    "text": "there's different solutions you can use",
    "start": "342479",
    "end": "344580"
  },
  {
    "text": "to overall implement OPA inside of a",
    "start": "344580",
    "end": "346949"
  },
  {
    "text": "kubernetes environment where you can use",
    "start": "346949",
    "end": "348750"
  },
  {
    "text": "for example just the raw OPA server",
    "start": "348750",
    "end": "350669"
  },
  {
    "text": "itself in combination with cube manager",
    "start": "350669",
    "end": "353699"
  },
  {
    "text": "to then go about just effectively",
    "start": "353699",
    "end": "355889"
  },
  {
    "text": "applying config Maps and then having",
    "start": "355889",
    "end": "357840"
  },
  {
    "text": "that OPA policy the read read policy",
    "start": "357840",
    "end": "360659"
  },
  {
    "text": "Rhaego policy rather directly go into",
    "start": "360659",
    "end": "362759"
  },
  {
    "text": "the the kubernetes environment now an",
    "start": "362759",
    "end": "365310"
  },
  {
    "text": "alternative to that is to use gatekeeper",
    "start": "365310",
    "end": "366870"
  },
  {
    "text": "where you have a different controller",
    "start": "366870",
    "end": "368729"
  },
  {
    "text": "that will consume see IDs and go about",
    "start": "368729",
    "end": "371430"
  },
  {
    "text": "achieving a similar function where for",
    "start": "371430",
    "end": "373529"
  },
  {
    "text": "example that might try and reduce the",
    "start": "373529",
    "end": "375539"
  },
  {
    "text": "cognitive complexity in delivering OPA",
    "start": "375539",
    "end": "378569"
  },
  {
    "text": "into a given environment where you have",
    "start": "378569",
    "end": "380729"
  },
  {
    "text": "a nicer way of representing it using",
    "start": "380729",
    "end": "382889"
  },
  {
    "text": "gatekeeper and so what we wanted to do",
    "start": "382889",
    "end": "384930"
  },
  {
    "text": "is effectively generalize that or",
    "start": "384930",
    "end": "386490"
  },
  {
    "text": "decouple it where we use templating so",
    "start": "386490",
    "end": "388830"
  },
  {
    "text": "in our case we're using ginger to to go",
    "start": "388830",
    "end": "390990"
  },
  {
    "text": "about building out all of our raw Reggio",
    "start": "390990",
    "end": "392729"
  },
  {
    "text": "policy and so this gave us the ability",
    "start": "392729",
    "end": "395159"
  },
  {
    "text": "once we were decoupled like this to be",
    "start": "395159",
    "end": "397919"
  },
  {
    "text": "able to support things like gatekeeper",
    "start": "397919",
    "end": "399899"
  },
  {
    "text": "and pretend",
    "start": "399899",
    "end": "400350"
  },
  {
    "text": "she even inter changeably support both",
    "start": "400350",
    "end": "402120"
  },
  {
    "text": "at the same time as the community would",
    "start": "402120",
    "end": "404730"
  },
  {
    "text": "evolve in how they go about applying OPA",
    "start": "404730",
    "end": "408480"
  },
  {
    "text": "policy so just to kind of show what we",
    "start": "408480",
    "end": "412380"
  },
  {
    "text": "mean by templating we've got this",
    "start": "412380",
    "end": "414030"
  },
  {
    "text": "ability here to iterate over like",
    "start": "414030",
    "end": "416730"
  },
  {
    "text": "high-level config values and generate",
    "start": "416730",
    "end": "418740"
  },
  {
    "text": "all of the Associated OPA policy that",
    "start": "418740",
    "end": "421650"
  },
  {
    "text": "that would then translate to we wanted",
    "start": "421650",
    "end": "426270"
  },
  {
    "text": "to have that high level abstraction",
    "start": "426270",
    "end": "428910"
  },
  {
    "text": "which is linked to that ability to",
    "start": "428910",
    "end": "430710"
  },
  {
    "text": "template which would then give a smaller",
    "start": "430710",
    "end": "432810"
  },
  {
    "text": "surface area of how developers or how",
    "start": "432810",
    "end": "435450"
  },
  {
    "text": "users would actually go about then",
    "start": "435450",
    "end": "436920"
  },
  {
    "text": "defining and extending the OPA policy",
    "start": "436920",
    "end": "441360"
  },
  {
    "text": "needed for their given environment so if",
    "start": "441360",
    "end": "443250"
  },
  {
    "text": "a developer needed to add some extra",
    "start": "443250",
    "end": "445320"
  },
  {
    "text": "capability or reduce the number of",
    "start": "445320",
    "end": "447480"
  },
  {
    "text": "controls or extend them on their",
    "start": "447480",
    "end": "449400"
  },
  {
    "text": "specific namespace we want them to do",
    "start": "449400",
    "end": "451290"
  },
  {
    "text": "that not necessarily through raw Reggio",
    "start": "451290",
    "end": "452910"
  },
  {
    "text": "policy but through a higher-level",
    "start": "452910",
    "end": "454400"
  },
  {
    "text": "representation where we would be as the",
    "start": "454400",
    "end": "457110"
  },
  {
    "text": "platform team responsible for that",
    "start": "457110",
    "end": "458850"
  },
  {
    "text": "abstraction and managing then the",
    "start": "458850",
    "end": "461040"
  },
  {
    "text": "extension when they did have new",
    "start": "461040",
    "end": "462450"
  },
  {
    "text": "requirements and so just to see what we",
    "start": "462450",
    "end": "464760"
  },
  {
    "text": "mean by that as well we have effectively",
    "start": "464760",
    "end": "466710"
  },
  {
    "text": "a higher level yeah more representation",
    "start": "466710",
    "end": "468900"
  },
  {
    "text": "of that and so in this case here what",
    "start": "468900",
    "end": "472260"
  },
  {
    "text": "we're trying to represent here is that",
    "start": "472260",
    "end": "473640"
  },
  {
    "text": "for these resources we want to mutate",
    "start": "473640",
    "end": "476760"
  },
  {
    "text": "these specific labels so we want to add",
    "start": "476760",
    "end": "478500"
  },
  {
    "text": "labels to these associated resources and",
    "start": "478500",
    "end": "480750"
  },
  {
    "text": "so what we can see here is just it's a",
    "start": "480750",
    "end": "482940"
  },
  {
    "text": "bit simpler to reason about what our",
    "start": "482940",
    "end": "485160"
  },
  {
    "text": "actual intent is and so when it comes to",
    "start": "485160",
    "end": "487290"
  },
  {
    "text": "kind of ramping up developers or trying",
    "start": "487290",
    "end": "489690"
  },
  {
    "text": "to give this to the end user it's a bit",
    "start": "489690",
    "end": "491790"
  },
  {
    "text": "of an easier representation of the",
    "start": "491790",
    "end": "494520"
  },
  {
    "text": "overall intent and so now when it comes",
    "start": "494520",
    "end": "496710"
  },
  {
    "text": "to doing reviews when a PR is raised",
    "start": "496710",
    "end": "498870"
  },
  {
    "text": "you've got now an easier interface to to",
    "start": "498870",
    "end": "501780"
  },
  {
    "text": "have to review and so that was a",
    "start": "501780",
    "end": "503580"
  },
  {
    "text": "critical requirement in us being able to",
    "start": "503580",
    "end": "505110"
  },
  {
    "text": "support this at scale as more developers",
    "start": "505110",
    "end": "506940"
  },
  {
    "text": "would be on board more develops would be",
    "start": "506940",
    "end": "508710"
  },
  {
    "text": "expected to potentially manage that OPA",
    "start": "508710",
    "end": "511560"
  },
  {
    "text": "policy for their given environments we",
    "start": "511560",
    "end": "514710"
  },
  {
    "text": "wanted to also have a higher level of",
    "start": "514710",
    "end": "516810"
  },
  {
    "text": "reliability on the overall functionality",
    "start": "516810",
    "end": "519180"
  },
  {
    "text": "of the OPA policy being templated and",
    "start": "519180",
    "end": "521550"
  },
  {
    "text": "applied to our environments so as part",
    "start": "521550",
    "end": "524700"
  },
  {
    "text": "of that templating that we're doing",
    "start": "524700",
    "end": "525870"
  },
  {
    "text": "we're also automatically generating all",
    "start": "525870",
    "end": "527940"
  },
  {
    "text": "of the Associated unit tests are needed",
    "start": "527940",
    "end": "530100"
  },
  {
    "text": "for each of those functions and so this",
    "start": "530100",
    "end": "532980"
  },
  {
    "text": "gave",
    "start": "532980",
    "end": "533790"
  },
  {
    "text": "the final result here we had 100% test",
    "start": "533790",
    "end": "536130"
  },
  {
    "text": "coverage unit test coverage of all of",
    "start": "536130",
    "end": "538950"
  },
  {
    "text": "the policies that we were actually",
    "start": "538950",
    "end": "540000"
  },
  {
    "text": "applying to our environments and so this",
    "start": "540000",
    "end": "543030"
  },
  {
    "text": "again gave us the benefit of having more",
    "start": "543030",
    "end": "545640"
  },
  {
    "text": "confidence in giving that to developers",
    "start": "545640",
    "end": "547560"
  },
  {
    "text": "to be able to have the flexibility of",
    "start": "547560",
    "end": "548880"
  },
  {
    "text": "managing those interfaces themselves and",
    "start": "548880",
    "end": "553880"
  },
  {
    "text": "so if we have a look at what a unit test",
    "start": "553880",
    "end": "556980"
  },
  {
    "text": "effectively translates to an OPA it's",
    "start": "556980",
    "end": "558810"
  },
  {
    "text": "just another function that goes about",
    "start": "558810",
    "end": "560550"
  },
  {
    "text": "doing a specific validation and so we",
    "start": "560550",
    "end": "562830"
  },
  {
    "text": "can see here that it's doing that same",
    "start": "562830",
    "end": "564900"
  },
  {
    "text": "templating that we were doing for the",
    "start": "564900",
    "end": "567780"
  },
  {
    "text": "high-level functions as well so we kind",
    "start": "567780",
    "end": "569520"
  },
  {
    "text": "of get them in unison so when we're",
    "start": "569520",
    "end": "571230"
  },
  {
    "text": "generating specific bespoke function we",
    "start": "571230",
    "end": "573000"
  },
  {
    "text": "generate the corresponding unit test so",
    "start": "573000",
    "end": "575910"
  },
  {
    "text": "I'm gonna now hand it to teachers who's",
    "start": "575910",
    "end": "577170"
  },
  {
    "text": "gonna walk us through the final",
    "start": "577170",
    "end": "578490"
  },
  {
    "text": "requirement we had here which was",
    "start": "578490",
    "end": "579930"
  },
  {
    "text": "integration testing yeah so integration",
    "start": "579930",
    "end": "582840"
  },
  {
    "text": "testing so taking inspiration from",
    "start": "582840",
    "end": "583980"
  },
  {
    "text": "like/comment software development",
    "start": "583980",
    "end": "585660"
  },
  {
    "text": "practices we wanted to ensure that we",
    "start": "585660",
    "end": "587100"
  },
  {
    "text": "integration test each of our OPA",
    "start": "587100",
    "end": "588750"
  },
  {
    "text": "policies before deploying it to dev",
    "start": "588750",
    "end": "591120"
  },
  {
    "text": "clusters or non prod or even prod now in",
    "start": "591120",
    "end": "594600"
  },
  {
    "text": "context to OPA",
    "start": "594600",
    "end": "595770"
  },
  {
    "text": "we wanted to ensure that once the bottom",
    "start": "595770",
    "end": "598680"
  },
  {
    "text": "once the policies are in the cluster we",
    "start": "598680",
    "end": "600060"
  },
  {
    "text": "wanted to make sure that it was compiled",
    "start": "600060",
    "end": "601470"
  },
  {
    "text": "and recognized by OPA as needed we",
    "start": "601470",
    "end": "603960"
  },
  {
    "text": "wanted to make sure that the validation",
    "start": "603960",
    "end": "606200"
  },
  {
    "text": "policy returns the expected error that",
    "start": "606200",
    "end": "608520"
  },
  {
    "text": "we would expect it with I would expect",
    "start": "608520",
    "end": "610740"
  },
  {
    "text": "it to return and that the mutating",
    "start": "610740",
    "end": "612780"
  },
  {
    "text": "policy appropriately mutates the",
    "start": "612780",
    "end": "614700"
  },
  {
    "text": "resources as we would expect there till",
    "start": "614700",
    "end": "616650"
  },
  {
    "text": "now looking at the toolset testing tool",
    "start": "616650",
    "end": "618600"
  },
  {
    "text": "set that's available in the current",
    "start": "618600",
    "end": "619710"
  },
  {
    "text": "environment we didn't really find",
    "start": "619710",
    "end": "621210"
  },
  {
    "text": "anything that could particularly fit all",
    "start": "621210",
    "end": "624030"
  },
  {
    "text": "three of our requirements so the closest",
    "start": "624030",
    "end": "626100"
  },
  {
    "text": "thing that we found out was about the",
    "start": "626100",
    "end": "627540"
  },
  {
    "text": "contest which does structure conflict",
    "start": "627540",
    "end": "629910"
  },
  {
    "text": "testing against OPA policies fantastic",
    "start": "629910",
    "end": "633180"
  },
  {
    "text": "tool enables us to do validation policy",
    "start": "633180",
    "end": "635970"
  },
  {
    "text": "checks but it doesn't enable us to test",
    "start": "635970",
    "end": "638310"
  },
  {
    "text": "against a real cluster or it doesn't",
    "start": "638310",
    "end": "640470"
  },
  {
    "text": "enable us to test for the mutating",
    "start": "640470",
    "end": "643230"
  },
  {
    "text": "policies so we came up with a small goal",
    "start": "643230",
    "end": "648090"
  },
  {
    "text": "line",
    "start": "648090",
    "end": "648660"
  },
  {
    "text": "CLI tool that that enables us to",
    "start": "648660",
    "end": "651720"
  },
  {
    "text": "interact and test with a real cluster so",
    "start": "651720",
    "end": "654150"
  },
  {
    "text": "it's essentially a library of assertion",
    "start": "654150",
    "end": "658320"
  },
  {
    "text": "functions which enable you to prototype",
    "start": "658320",
    "end": "660300"
  },
  {
    "text": "and develop Kuban Eddie's components",
    "start": "660300",
    "end": "662220"
  },
  {
    "text": "with a very test-driven approach so",
    "start": "662220",
    "end": "666130"
  },
  {
    "text": "it essentially enables developers to",
    "start": "666130",
    "end": "669399"
  },
  {
    "text": "easily reason about and develop",
    "start": "669399",
    "end": "671649"
  },
  {
    "text": "integration testing for different",
    "start": "671649",
    "end": "674199"
  },
  {
    "text": "kubernetes components as you can see the",
    "start": "674199",
    "end": "676420"
  },
  {
    "text": "interface of this kind of looks like a",
    "start": "676420",
    "end": "678040"
  },
  {
    "text": "CR D which provides a similar which",
    "start": "678040",
    "end": "680649"
  },
  {
    "text": "which means that developers are able to",
    "start": "680649",
    "end": "682240"
  },
  {
    "text": "define the integration test the same way",
    "start": "682240",
    "end": "684459"
  },
  {
    "text": "that they would be able to define their",
    "start": "684459",
    "end": "687519"
  },
  {
    "text": "deployments now taking a closer look at",
    "start": "687519",
    "end": "689829"
  },
  {
    "text": "the actual spec of ankus ETL so similar",
    "start": "689829",
    "end": "693339"
  },
  {
    "text": "to other testing frameworks and caseta",
    "start": "693339",
    "end": "695350"
  },
  {
    "text": "actually allows you to bootstrap your",
    "start": "695350",
    "end": "697690"
  },
  {
    "text": "testing environment it allows you to",
    "start": "697690",
    "end": "699610"
  },
  {
    "text": "deploy the testing namespaces and the",
    "start": "699610",
    "end": "701920"
  },
  {
    "text": "and any any resources that you can then",
    "start": "701920",
    "end": "704319"
  },
  {
    "text": "reference at a later test in order to",
    "start": "704319",
    "end": "706180"
  },
  {
    "text": "ensure that it is working as expected it",
    "start": "706180",
    "end": "710259"
  },
  {
    "text": "has the functionality of looking up a",
    "start": "710259",
    "end": "711910"
  },
  {
    "text": "resource from an existing cluster or",
    "start": "711910",
    "end": "713829"
  },
  {
    "text": "being able to create a new resource now",
    "start": "713829",
    "end": "716139"
  },
  {
    "text": "these functionalities can then be used",
    "start": "716139",
    "end": "717639"
  },
  {
    "text": "at later test stages in order to assert",
    "start": "717639",
    "end": "720279"
  },
  {
    "text": "that it is functioning as you expect it",
    "start": "720279",
    "end": "722019"
  },
  {
    "text": "to now asserting the API interactions to",
    "start": "722019",
    "end": "724449"
  },
  {
    "text": "actually assert that the validation",
    "start": "724449",
    "end": "727209"
  },
  {
    "text": "policy works you need the capability of",
    "start": "727209",
    "end": "729670"
  },
  {
    "text": "applying a resource into the cluster",
    "start": "729670",
    "end": "731649"
  },
  {
    "text": "taking the error that the cube API",
    "start": "731649",
    "end": "733839"
  },
  {
    "text": "server outputs and then making sure that",
    "start": "733839",
    "end": "735910"
  },
  {
    "text": "that error approximately matches the",
    "start": "735910",
    "end": "738399"
  },
  {
    "text": "error that you're expecting it to so",
    "start": "738399",
    "end": "740199"
  },
  {
    "text": "anka CTO provides a way of asserting",
    "start": "740199",
    "end": "742060"
  },
  {
    "text": "asserting API interactions the other",
    "start": "742060",
    "end": "744880"
  },
  {
    "text": "thing it also helps do is to assert",
    "start": "744880",
    "end": "746800"
  },
  {
    "text": "Jason pats so if there's an object in",
    "start": "746800",
    "end": "750459"
  },
  {
    "text": "the light cluster you're then able to",
    "start": "750459",
    "end": "752800"
  },
  {
    "text": "look up the resource that's in the",
    "start": "752800",
    "end": "754360"
  },
  {
    "text": "cluster and then assert that adjacent",
    "start": "754360",
    "end": "756790"
  },
  {
    "text": "path of that resource is what you expect",
    "start": "756790",
    "end": "758860"
  },
  {
    "text": "it to be now this can be used for",
    "start": "758860",
    "end": "760600"
  },
  {
    "text": "ensuring that pods have all the pods in",
    "start": "760600",
    "end": "763449"
  },
  {
    "text": "your class who are running the number of",
    "start": "763449",
    "end": "764889"
  },
  {
    "text": "pods that are running the image that it",
    "start": "764889",
    "end": "766449"
  },
  {
    "text": "uses or in specific contexts to Opa Opa",
    "start": "766449",
    "end": "769779"
  },
  {
    "text": "actually injects an annotation which",
    "start": "769779",
    "end": "771490"
  },
  {
    "text": "says that all the Reggio policies have",
    "start": "771490",
    "end": "772959"
  },
  {
    "text": "successfully compiled and this actually",
    "start": "772959",
    "end": "774970"
  },
  {
    "text": "enables us to test that inside of the",
    "start": "774970",
    "end": "777250"
  },
  {
    "text": "cluster the config maps have",
    "start": "777250",
    "end": "779519"
  },
  {
    "text": "successfully compiled in the for the",
    "start": "779519",
    "end": "783130"
  },
  {
    "text": "policies now the other yeah last but not",
    "start": "783130",
    "end": "785949"
  },
  {
    "text": "least the after all your tests per have",
    "start": "785949",
    "end": "787720"
  },
  {
    "text": "run the it provides a teardown",
    "start": "787720",
    "end": "789730"
  },
  {
    "text": "functionality which then you can delete",
    "start": "789730",
    "end": "792100"
  },
  {
    "text": "all the dangling resources that you have",
    "start": "792100",
    "end": "793930"
  },
  {
    "text": "from your test or delete an a testing",
    "start": "793930",
    "end": "796029"
  },
  {
    "text": "namespace that was created now back to",
    "start": "796029",
    "end": "797949"
  },
  {
    "text": "Ben for the demo",
    "start": "797949",
    "end": "800670"
  },
  {
    "text": "okay so we've kind of gone through quite",
    "start": "800910",
    "end": "803470"
  },
  {
    "text": "a lot of material here we've kind of",
    "start": "803470",
    "end": "805510"
  },
  {
    "text": "walked through a number of steps that",
    "start": "805510",
    "end": "806680"
  },
  {
    "text": "we've gone about implementing to improve",
    "start": "806680",
    "end": "809530"
  },
  {
    "text": "the kind of production ization and",
    "start": "809530",
    "end": "811030"
  },
  {
    "text": "reliability that we have in our OPA",
    "start": "811030",
    "end": "813760"
  },
  {
    "text": "deployments and so we're gonna actually",
    "start": "813760",
    "end": "815410"
  },
  {
    "text": "kind of bring this all together with an",
    "start": "815410",
    "end": "817390"
  },
  {
    "text": "actual demonstration where we're going",
    "start": "817390",
    "end": "818860"
  },
  {
    "text": "to connect all the dots but Before we",
    "start": "818860",
    "end": "820930"
  },
  {
    "text": "jump into that just to give you some",
    "start": "820930",
    "end": "822160"
  },
  {
    "text": "context of what we're going to be",
    "start": "822160",
    "end": "823330"
  },
  {
    "text": "running through in this demonstration",
    "start": "823330",
    "end": "824350"
  },
  {
    "text": "we're going to kind of act as a",
    "start": "824350",
    "end": "826300"
  },
  {
    "text": "developer so we're going to simulate",
    "start": "826300",
    "end": "827470"
  },
  {
    "text": "effectively a developer workflow where",
    "start": "827470",
    "end": "829720"
  },
  {
    "text": "we're going to raise a pool request on a",
    "start": "829720",
    "end": "831010"
  },
  {
    "text": "specific repository and then what this",
    "start": "831010",
    "end": "833110"
  },
  {
    "text": "is going to do is it's going to trigger",
    "start": "833110",
    "end": "834340"
  },
  {
    "text": "a Tecton pipeline now if you're not",
    "start": "834340",
    "end": "838390"
  },
  {
    "text": "familiar with Tecton tech tongs is",
    "start": "838390",
    "end": "839590"
  },
  {
    "text": "effectively an arbitrary pipeline engine",
    "start": "839590",
    "end": "842230"
  },
  {
    "text": "solution that allows you to build",
    "start": "842230",
    "end": "844330"
  },
  {
    "text": "pipelines like you would in github",
    "start": "844330",
    "end": "847000"
  },
  {
    "text": "actions or other solutions where you can",
    "start": "847000",
    "end": "849850"
  },
  {
    "text": "actually run everything inside of",
    "start": "849850",
    "end": "850900"
  },
  {
    "text": "kubernetes and because we're at the",
    "start": "850900",
    "end": "852010"
  },
  {
    "text": "kubernetes forum it's cool to actually",
    "start": "852010",
    "end": "853810"
  },
  {
    "text": "be able to run everything inside of the",
    "start": "853810",
    "end": "856180"
  },
  {
    "text": "same kind of environment and so I've",
    "start": "856180",
    "end": "858730"
  },
  {
    "text": "raised that pull request what that's",
    "start": "858730",
    "end": "860260"
  },
  {
    "text": "going to do is it's going to then create",
    "start": "860260",
    "end": "862050"
  },
  {
    "text": "the that's going to trigger a web hook",
    "start": "862050",
    "end": "864430"
  },
  {
    "text": "the web pools gonna hit to our tacked-on",
    "start": "864430",
    "end": "865960"
  },
  {
    "text": "trigger and so once in the Tecton",
    "start": "865960",
    "end": "868240"
  },
  {
    "text": "trigger the Tecton trigger will be",
    "start": "868240",
    "end": "869590"
  },
  {
    "text": "responsible for them creating an",
    "start": "869590",
    "end": "871540"
  },
  {
    "text": "Associated pipeline run where a pipeline",
    "start": "871540",
    "end": "874540"
  },
  {
    "text": "run is then responsible for it's",
    "start": "874540",
    "end": "876790"
  },
  {
    "text": "effectively an instance of a pipeline",
    "start": "876790",
    "end": "878110"
  },
  {
    "text": "and then a pipeline will then be a",
    "start": "878110",
    "end": "880600"
  },
  {
    "text": "representation of a number of steps and",
    "start": "880600",
    "end": "882640"
  },
  {
    "text": "so those steps allow you to then run",
    "start": "882640",
    "end": "884530"
  },
  {
    "text": "specific actions or stages that you",
    "start": "884530",
    "end": "886840"
  },
  {
    "text": "might want to construct and so on this",
    "start": "886840",
    "end": "888640"
  },
  {
    "text": "step and it's in this example we're",
    "start": "888640",
    "end": "890140"
  },
  {
    "text": "going to be running through and as part",
    "start": "890140",
    "end": "892210"
  },
  {
    "text": "of the the kind of requirements we've",
    "start": "892210",
    "end": "894580"
  },
  {
    "text": "walked through the first thing we're",
    "start": "894580",
    "end": "895930"
  },
  {
    "text": "going to do is that templating aspect so",
    "start": "895930",
    "end": "897640"
  },
  {
    "text": "we're going to generate all of our",
    "start": "897640",
    "end": "898960"
  },
  {
    "text": "policy we're going to do the generation",
    "start": "898960",
    "end": "901180"
  },
  {
    "text": "of our test cases as well and then in",
    "start": "901180",
    "end": "903820"
  },
  {
    "text": "addition to all of that we're actually",
    "start": "903820",
    "end": "905980"
  },
  {
    "text": "going to convert the policy we've",
    "start": "905980",
    "end": "907630"
  },
  {
    "text": "generated into config maps so we can",
    "start": "907630",
    "end": "909610"
  },
  {
    "text": "actually apply it to the environment",
    "start": "909610",
    "end": "910990"
  },
  {
    "text": "we're going to try and do our",
    "start": "910990",
    "end": "912010"
  },
  {
    "text": "integration testing on so once that's",
    "start": "912010",
    "end": "914740"
  },
  {
    "text": "passed we actually then are going to run",
    "start": "914740",
    "end": "916570"
  },
  {
    "text": "our unit tests so our unit tests are",
    "start": "916570",
    "end": "918340"
  },
  {
    "text": "simply going to execute the OPA test",
    "start": "918340",
    "end": "921520"
  },
  {
    "text": "entry point where it's only going to run",
    "start": "921520",
    "end": "923260"
  },
  {
    "text": "against all of the generated read read",
    "start": "923260",
    "end": "924790"
  },
  {
    "text": "policy and then give you a test coverage",
    "start": "924790",
    "end": "926650"
  },
  {
    "text": "report and we'll see that in action",
    "start": "926650",
    "end": "928240"
  },
  {
    "text": "shortly once those two have passed we",
    "start": "928240",
    "end": "930700"
  },
  {
    "text": "then go into the integration testing",
    "start": "930700",
    "end": "932050"
  },
  {
    "text": "phase",
    "start": "932050",
    "end": "932710"
  },
  {
    "text": "now this is by far one of the most",
    "start": "932710",
    "end": "935500"
  },
  {
    "text": "interesting scenarios here where when we",
    "start": "935500",
    "end": "938020"
  },
  {
    "text": "say integration test were actually going",
    "start": "938020",
    "end": "939850"
  },
  {
    "text": "to be running the validation process",
    "start": "939850",
    "end": "941920"
  },
  {
    "text": "that tasers walk through that anchor CTL",
    "start": "941920",
    "end": "944529"
  },
  {
    "text": "gives us insider or against a real",
    "start": "944529",
    "end": "947140"
  },
  {
    "text": "kubernetes environment that's been you",
    "start": "947140",
    "end": "949089"
  },
  {
    "text": "ephemeral II spun up specifically for",
    "start": "949089",
    "end": "951190"
  },
  {
    "text": "this CI pipeline and so the way we're",
    "start": "951190",
    "end": "954100"
  },
  {
    "text": "doing that is we're using kind which is",
    "start": "954100",
    "end": "955690"
  },
  {
    "text": "kubernetes and docker which is running",
    "start": "955690",
    "end": "957880"
  },
  {
    "text": "inside of a kubernetes pod so in this",
    "start": "957880",
    "end": "959649"
  },
  {
    "text": "scenario here we're actually running",
    "start": "959649",
    "end": "960730"
  },
  {
    "text": "kubernetes inside of cuba Nettie's which",
    "start": "960730",
    "end": "962290"
  },
  {
    "text": "is pretty cool so let's jump into that",
    "start": "962290",
    "end": "965140"
  },
  {
    "text": "so I'm just gonna raise a PR here and",
    "start": "965140",
    "end": "966520"
  },
  {
    "text": "then we're gonna walk through what",
    "start": "966520",
    "end": "968320"
  },
  {
    "text": "happens so if I create a pull request so",
    "start": "968320",
    "end": "973510"
  },
  {
    "text": "I've already prepared this earlier just",
    "start": "973510",
    "end": "974770"
  },
  {
    "text": "so that we weren't doing some live",
    "start": "974770",
    "end": "975970"
  },
  {
    "text": "coding which would be quite scary we're",
    "start": "975970",
    "end": "979990"
  },
  {
    "text": "gonna create a pull request and this has",
    "start": "979990",
    "end": "981490"
  },
  {
    "text": "all of the associated changes for a",
    "start": "981490",
    "end": "984459"
  },
  {
    "text": "specific feature that someone's adding",
    "start": "984459",
    "end": "987040"
  },
  {
    "text": "hypothetically where it's going to be",
    "start": "987040",
    "end": "988870"
  },
  {
    "text": "updating the OPA policy interface it's",
    "start": "988870",
    "end": "991120"
  },
  {
    "text": "going to be defining some anchor CTL",
    "start": "991120",
    "end": "994050"
  },
  {
    "text": "changes as we just walk through that",
    "start": "994050",
    "end": "996040"
  },
  {
    "text": "here it's going to have the ability of",
    "start": "996040",
    "end": "998200"
  },
  {
    "text": "setting up some specific resources so in",
    "start": "998200",
    "end": "1000900"
  },
  {
    "text": "this case here let's say we need to",
    "start": "1000900",
    "end": "1002190"
  },
  {
    "text": "create a certain namespace before we run",
    "start": "1002190",
    "end": "1004140"
  },
  {
    "text": "our tests and so in this case here we're",
    "start": "1004140",
    "end": "1006300"
  },
  {
    "text": "just defining effectively the actions we",
    "start": "1006300",
    "end": "1007950"
  },
  {
    "text": "need to take initially we're then going",
    "start": "1007950",
    "end": "1009870"
  },
  {
    "text": "into defining our assertion so our test",
    "start": "1009870",
    "end": "1011640"
  },
  {
    "text": "cases and in this case we're just saying",
    "start": "1011640",
    "end": "1013709"
  },
  {
    "text": "that we expect a certain path within the",
    "start": "1013709",
    "end": "1016650"
  },
  {
    "text": "resource that gets created to have a",
    "start": "1016650",
    "end": "1018330"
  },
  {
    "text": "certain value so it's effectively just",
    "start": "1018330",
    "end": "1019890"
  },
  {
    "text": "doing a really basic assertion and if we",
    "start": "1019890",
    "end": "1022650"
  },
  {
    "text": "actually look at what was was defined by",
    "start": "1022650",
    "end": "1025050"
  },
  {
    "text": "the the user in this scenario is that",
    "start": "1025050",
    "end": "1027660"
  },
  {
    "text": "for the demo namespace so as we can see",
    "start": "1027660",
    "end": "1030688"
  },
  {
    "text": "here for the demo namespace we want to",
    "start": "1030689",
    "end": "1033449"
  },
  {
    "text": "be able to meet we want to be able to",
    "start": "1033449",
    "end": "1034709"
  },
  {
    "text": "assert that in this case here we're",
    "start": "1034709",
    "end": "1037920"
  },
  {
    "text": "mutating any resources that get to point",
    "start": "1037920",
    "end": "1040290"
  },
  {
    "text": "into the demo namespace with a label of",
    "start": "1040290",
    "end": "1042540"
  },
  {
    "text": "with the key billing information and",
    "start": "1042540",
    "end": "1044459"
  },
  {
    "text": "then a specific billion key value and so",
    "start": "1044459",
    "end": "1047030"
  },
  {
    "text": "what we want this to translate to is",
    "start": "1047030",
    "end": "1049290"
  },
  {
    "text": "effectively all the resources in that",
    "start": "1049290",
    "end": "1050970"
  },
  {
    "text": "namespace should now have a certain",
    "start": "1050970",
    "end": "1052800"
  },
  {
    "text": "label on them and then up here the",
    "start": "1052800",
    "end": "1054900"
  },
  {
    "text": "assertion is just making sure that's the",
    "start": "1054900",
    "end": "1056400"
  },
  {
    "text": "case and so now hypothetically if I",
    "start": "1056400",
    "end": "1058890"
  },
  {
    "text": "develop it wasn't that aware of what",
    "start": "1058890",
    "end": "1060690"
  },
  {
    "text": "this policy was doing and they changed",
    "start": "1060690",
    "end": "1062700"
  },
  {
    "text": "the label value here for example when",
    "start": "1062700",
    "end": "1065460"
  },
  {
    "text": "they",
    "start": "1065460",
    "end": "1065730"
  },
  {
    "text": "went into the CI phase of that change",
    "start": "1065730",
    "end": "1067640"
  },
  {
    "text": "during a pull request the integration",
    "start": "1067640",
    "end": "1071190"
  },
  {
    "text": "test would actually fail because that",
    "start": "1071190",
    "end": "1072450"
  },
  {
    "text": "wouldn't be the case anymore so we're",
    "start": "1072450",
    "end": "1074160"
  },
  {
    "text": "effectively demonstrating here how you",
    "start": "1074160",
    "end": "1076049"
  },
  {
    "text": "can do test-driven development of the",
    "start": "1076049",
    "end": "1078419"
  },
  {
    "text": "actual underlying OPA policy and so if",
    "start": "1078419",
    "end": "1081240"
  },
  {
    "text": "we raise this pull request if we go to",
    "start": "1081240",
    "end": "1087090"
  },
  {
    "text": "Tecton let's actually close this Andrey",
    "start": "1087090",
    "end": "1091380"
  },
  {
    "text": "raise it so it actually generates the",
    "start": "1091380",
    "end": "1092760"
  },
  {
    "text": "web",
    "start": "1092760",
    "end": "1094880"
  },
  {
    "text": "let me just close this one",
    "start": "1099290",
    "end": "1102940"
  },
  {
    "text": "generated another one",
    "start": "1108840",
    "end": "1112169"
  },
  {
    "text": "okay so now in Tecton let's just because",
    "start": "1118920",
    "end": "1122560"
  },
  {
    "text": "we did that so many times it's just",
    "start": "1122560",
    "end": "1123760"
  },
  {
    "text": "triggered a few let me just stop those",
    "start": "1123760",
    "end": "1127020"
  },
  {
    "text": "so we can see here that that web book is",
    "start": "1127020",
    "end": "1129780"
  },
  {
    "text": "triggered effectively the start of the",
    "start": "1129780",
    "end": "1132130"
  },
  {
    "text": "Tecton pipeline run and so if we jump",
    "start": "1132130",
    "end": "1134200"
  },
  {
    "text": "into here and actually what's happening",
    "start": "1134200",
    "end": "1136080"
  },
  {
    "text": "if we just wait a moment is we can see",
    "start": "1136080",
    "end": "1140260"
  },
  {
    "text": "that the first step here is generating",
    "start": "1140260",
    "end": "1141880"
  },
  {
    "text": "the OPA policy and so we've defined",
    "start": "1141880",
    "end": "1144520"
  },
  {
    "text": "effectively the necessary steps to go",
    "start": "1144520",
    "end": "1147220"
  },
  {
    "text": "about generating",
    "start": "1147220",
    "end": "1148000"
  },
  {
    "text": "those necessary policies so we actually",
    "start": "1148000",
    "end": "1150730"
  },
  {
    "text": "look at the details here is we've just",
    "start": "1150730",
    "end": "1152800"
  },
  {
    "text": "got to make entry point here that's",
    "start": "1152800",
    "end": "1154180"
  },
  {
    "text": "kicking off all the necessary steps and",
    "start": "1154180",
    "end": "1156250"
  },
  {
    "text": "just as it by the way we're going to",
    "start": "1156250",
    "end": "1157750"
  },
  {
    "text": "have references to all of the necessary",
    "start": "1157750",
    "end": "1159580"
  },
  {
    "text": "code we're running here so you can",
    "start": "1159580",
    "end": "1161020"
  },
  {
    "text": "potentially follow this in your own pace",
    "start": "1161020",
    "end": "1163540"
  },
  {
    "text": "and kind of get a feel for how all this",
    "start": "1163540",
    "end": "1165370"
  },
  {
    "text": "looks so what's happening in Tecton is",
    "start": "1165370",
    "end": "1168340"
  },
  {
    "text": "it's now running those steps so we can",
    "start": "1168340",
    "end": "1169780"
  },
  {
    "text": "see in the logs here it's generated all",
    "start": "1169780",
    "end": "1171190"
  },
  {
    "text": "of our OPA policy and so once this steps",
    "start": "1171190",
    "end": "1174340"
  },
  {
    "text": "complete we're actually going to see the",
    "start": "1174340",
    "end": "1175540"
  },
  {
    "text": "next step kickoff which is actually",
    "start": "1175540",
    "end": "1177340"
  },
  {
    "text": "going to be the stage to actually",
    "start": "1177340",
    "end": "1179440"
  },
  {
    "text": "generate or run on our OPA policy test",
    "start": "1179440",
    "end": "1181810"
  },
  {
    "text": "cases before then getting to the next",
    "start": "1181810",
    "end": "1184000"
  },
  {
    "text": "step and so if we have a look inside of",
    "start": "1184000",
    "end": "1187600"
  },
  {
    "text": "github here as well you know github",
    "start": "1187600",
    "end": "1193450"
  },
  {
    "text": "actions we can see here the github",
    "start": "1193450",
    "end": "1194950"
  },
  {
    "text": "status API is being used to actually",
    "start": "1194950",
    "end": "1197260"
  },
  {
    "text": "show us the stage in which the those",
    "start": "1197260",
    "end": "1199120"
  },
  {
    "text": "those testing phases are running so we",
    "start": "1199120",
    "end": "1201160"
  },
  {
    "text": "can see the generation has been",
    "start": "1201160",
    "end": "1202690"
  },
  {
    "text": "successful so hypothetically you could",
    "start": "1202690",
    "end": "1205090"
  },
  {
    "text": "introduce a change which breaks that and",
    "start": "1205090",
    "end": "1206860"
  },
  {
    "text": "so you could fail quickly and give the",
    "start": "1206860",
    "end": "1208690"
  },
  {
    "text": "feedback that that step failed the next",
    "start": "1208690",
    "end": "1210820"
  },
  {
    "text": "two steps that are still pending here at",
    "start": "1210820",
    "end": "1212290"
  },
  {
    "text": "the unit tests and integration tests so",
    "start": "1212290",
    "end": "1214960"
  },
  {
    "text": "if we just see what OK's tacked on is",
    "start": "1214960",
    "end": "1216970"
  },
  {
    "text": "doing so wait Vista load",
    "start": "1216970",
    "end": "1225870"
  },
  {
    "text": "I believe this is actually the Wi-Fi",
    "start": "1226980",
    "end": "1230340"
  },
  {
    "text": "okay so the unit tests of now run",
    "start": "1230340",
    "end": "1233240"
  },
  {
    "text": "successfully and we can see here that",
    "start": "1233240",
    "end": "1235140"
  },
  {
    "text": "all those unit tests that were generated",
    "start": "1235140",
    "end": "1236490"
  },
  {
    "text": "have now successfully run and we can see",
    "start": "1236490",
    "end": "1238350"
  },
  {
    "text": "that 53 out of 53 have successfully",
    "start": "1238350",
    "end": "1240299"
  },
  {
    "text": "passed so that's effectively",
    "start": "1240299",
    "end": "1242059"
  },
  {
    "text": "demonstrated we've got that",
    "start": "1242059",
    "end": "1243419"
  },
  {
    "text": "hundred-percent test coverage we've got",
    "start": "1243419",
    "end": "1244799"
  },
  {
    "text": "all of our unit tests passing the next",
    "start": "1244799",
    "end": "1246570"
  },
  {
    "text": "step is the actual spinning up of the",
    "start": "1246570",
    "end": "1249179"
  },
  {
    "text": "cube cluster inside of a kubernetes pod",
    "start": "1249179",
    "end": "1251340"
  },
  {
    "text": "to then run our integration test against",
    "start": "1251340",
    "end": "1253440"
  },
  {
    "text": "a real life like kubernetes environment",
    "start": "1253440",
    "end": "1256070"
  },
  {
    "text": "so the first step we can see here is",
    "start": "1256070",
    "end": "1258410"
  },
  {
    "text": "start cluster and then what that's going",
    "start": "1258410",
    "end": "1261000"
  },
  {
    "text": "to be doing is it's actually gonna be",
    "start": "1261000",
    "end": "1262080"
  },
  {
    "text": "starting the the cube the cube cluster",
    "start": "1262080",
    "end": "1264360"
  },
  {
    "text": "is a kind of cluster and so if we take",
    "start": "1264360",
    "end": "1266610"
  },
  {
    "text": "it a deep if we look at take a look at",
    "start": "1266610",
    "end": "1267870"
  },
  {
    "text": "the details here it's just running the",
    "start": "1267870",
    "end": "1270179"
  },
  {
    "text": "the kind entry point here kind of create",
    "start": "1270179",
    "end": "1273270"
  },
  {
    "text": "cluster and now what that's going to be",
    "start": "1273270",
    "end": "1275160"
  },
  {
    "text": "responsible for is actually starting up",
    "start": "1275160",
    "end": "1277110"
  },
  {
    "text": "a complete kubernetes environment for us",
    "start": "1277110",
    "end": "1279450"
  },
  {
    "text": "to then run the subsequent steps and so",
    "start": "1279450",
    "end": "1282090"
  },
  {
    "text": "some of those subsequent steps that we",
    "start": "1282090",
    "end": "1283410"
  },
  {
    "text": "can see here is going to be loading in",
    "start": "1283410",
    "end": "1285510"
  },
  {
    "text": "the required OPA images so those OPA",
    "start": "1285510",
    "end": "1289169"
  },
  {
    "text": "images need to be loaded into kind so",
    "start": "1289169",
    "end": "1291330"
  },
  {
    "text": "that then when you create the OPA",
    "start": "1291330",
    "end": "1293370"
  },
  {
    "text": "deployment inside of the client cluster",
    "start": "1293370",
    "end": "1295230"
  },
  {
    "text": "the images are there so that it can",
    "start": "1295230",
    "end": "1297179"
  },
  {
    "text": "stand up your environment and so we can",
    "start": "1297179",
    "end": "1299549"
  },
  {
    "text": "see here it's just going about its its",
    "start": "1299549",
    "end": "1301260"
  },
  {
    "text": "way spinning everything up and so then",
    "start": "1301260",
    "end": "1303540"
  },
  {
    "text": "once that's successful the next step is",
    "start": "1303540",
    "end": "1305220"
  },
  {
    "text": "going to kick off which is going to be",
    "start": "1305220",
    "end": "1310169"
  },
  {
    "text": "to deploy OPA so if we just wait for",
    "start": "1310169",
    "end": "1313950"
  },
  {
    "text": "this to start",
    "start": "1313950",
    "end": "1316519"
  },
  {
    "text": "so what's happening in this step here is",
    "start": "1318860",
    "end": "1320990"
  },
  {
    "text": "we're effectively doing what you're",
    "start": "1320990",
    "end": "1322640"
  },
  {
    "text": "doing a real nonprofit or production",
    "start": "1322640",
    "end": "1324799"
  },
  {
    "text": "environment where you would deploy OPA",
    "start": "1324799",
    "end": "1326240"
  },
  {
    "text": "but this time we're actually targeting",
    "start": "1326240",
    "end": "1328070"
  },
  {
    "text": "effectively that kind cluster which is",
    "start": "1328070",
    "end": "1329779"
  },
  {
    "text": "running inside of a kubernetes it's like",
    "start": "1329779",
    "end": "1332299"
  },
  {
    "text": "nested kubernetes and so once that's",
    "start": "1332299",
    "end": "1334669"
  },
  {
    "text": "successfully up and running we're",
    "start": "1334669",
    "end": "1336799"
  },
  {
    "text": "actually able to then deploy our OPA",
    "start": "1336799",
    "end": "1338570"
  },
  {
    "text": "policy and then we're gonna go about",
    "start": "1338570",
    "end": "1340309"
  },
  {
    "text": "doing the whole validation process that",
    "start": "1340309",
    "end": "1342950"
  },
  {
    "text": "that OPA policy is doing what we expect",
    "start": "1342950",
    "end": "1346000"
  },
  {
    "text": "so if we just wait a moment and if we",
    "start": "1346000",
    "end": "1351350"
  },
  {
    "text": "actually just go back and look at the",
    "start": "1351350",
    "end": "1352399"
  },
  {
    "text": "github status we want to see those these",
    "start": "1352399",
    "end": "1354559"
  },
  {
    "text": "two steps also update okay so we've",
    "start": "1354559",
    "end": "1358700"
  },
  {
    "text": "deployed OPA we can see that the policy",
    "start": "1358700",
    "end": "1361909"
  },
  {
    "text": "has been applied so these are those",
    "start": "1361909",
    "end": "1362870"
  },
  {
    "text": "config Maps being created in that nested",
    "start": "1362870",
    "end": "1366409"
  },
  {
    "text": "kubernetes cluster and so we're now able",
    "start": "1366409",
    "end": "1368960"
  },
  {
    "text": "to run effectively the final step where",
    "start": "1368960",
    "end": "1371269"
  },
  {
    "text": "we're going to run the anchor CTL test",
    "start": "1371269",
    "end": "1373460"
  },
  {
    "text": "cases to go about doing that deeper",
    "start": "1373460",
    "end": "1376039"
  },
  {
    "text": "integration testing to validate that",
    "start": "1376039",
    "end": "1378139"
  },
  {
    "text": "functionality that we expect so this",
    "start": "1378139",
    "end": "1383450"
  },
  {
    "text": "isn't particularly active but what you",
    "start": "1383450",
    "end": "1386539"
  },
  {
    "text": "can see here is this is the test report",
    "start": "1386539",
    "end": "1388130"
  },
  {
    "text": "that's produced as part of ankor CTO",
    "start": "1388130",
    "end": "1389690"
  },
  {
    "text": "where we can see that these specific use",
    "start": "1389690",
    "end": "1392360"
  },
  {
    "text": "cases these specific test cases have",
    "start": "1392360",
    "end": "1394490"
  },
  {
    "text": "passed so we can see here that we've",
    "start": "1394490",
    "end": "1397399"
  },
  {
    "text": "done a JSON parser past assertion",
    "start": "1397399",
    "end": "1399519"
  },
  {
    "text": "validating that the config maps that we",
    "start": "1399519",
    "end": "1401990"
  },
  {
    "text": "applied to the cluster of those reg",
    "start": "1401990",
    "end": "1403789"
  },
  {
    "text": "wrote policies meet the certain",
    "start": "1403789",
    "end": "1405350"
  },
  {
    "text": "expectation that the status is okay and",
    "start": "1405350",
    "end": "1407210"
  },
  {
    "text": "as tages mentioned before what that's",
    "start": "1407210",
    "end": "1409370"
  },
  {
    "text": "doing is it saying",
    "start": "1409370",
    "end": "1410830"
  },
  {
    "text": "OPA has successfully passed those config",
    "start": "1410830",
    "end": "1413990"
  },
  {
    "text": "files the passes that Reggie and so if",
    "start": "1413990",
    "end": "1417080"
  },
  {
    "text": "you for example had invalid reg a policy",
    "start": "1417080",
    "end": "1420049"
  },
  {
    "text": "this this status would never appear so",
    "start": "1420049",
    "end": "1421940"
  },
  {
    "text": "that test case is passing at least the",
    "start": "1421940",
    "end": "1424039"
  },
  {
    "text": "next one here is to go about doing an",
    "start": "1424039",
    "end": "1426110"
  },
  {
    "text": "assertion here that we successfully get",
    "start": "1426110",
    "end": "1427850"
  },
  {
    "text": "the expected response which is that we",
    "start": "1427850",
    "end": "1430340"
  },
  {
    "text": "can't create an external load balancer",
    "start": "1430340",
    "end": "1431960"
  },
  {
    "text": "so that was another one of the use cases",
    "start": "1431960",
    "end": "1433909"
  },
  {
    "text": "that we talked about and then we also",
    "start": "1433909",
    "end": "1435950"
  },
  {
    "text": "have an additional mutation assertion",
    "start": "1435950",
    "end": "1438350"
  },
  {
    "text": "here where we're just validating that",
    "start": "1438350",
    "end": "1440059"
  },
  {
    "text": "the the pod that we create is part of",
    "start": "1440059",
    "end": "1441919"
  },
  {
    "text": "the test case has the correct labels",
    "start": "1441919",
    "end": "1445039"
  },
  {
    "text": "associated with them which finally then",
    "start": "1445039",
    "end": "1447380"
  },
  {
    "text": "is the final test case we have which is",
    "start": "1447380",
    "end": "1449419"
  },
  {
    "text": "we want to validate that the mutation",
    "start": "1449419",
    "end": "1451789"
  },
  {
    "text": "that's occurring with",
    "start": "1451789",
    "end": "1452630"
  },
  {
    "text": "Opa is doing what we expect and then",
    "start": "1452630",
    "end": "1456110"
  },
  {
    "text": "finally we get the overall kind of",
    "start": "1456110",
    "end": "1457700"
  },
  {
    "text": "report coverage here which tests pass",
    "start": "1457700",
    "end": "1459590"
  },
  {
    "text": "and which tests failed and so that",
    "start": "1459590",
    "end": "1461990"
  },
  {
    "text": "overall gives us the end-to-end pipeline",
    "start": "1461990",
    "end": "1464090"
  },
  {
    "text": "of how we can actually go about",
    "start": "1464090",
    "end": "1465710"
  },
  {
    "text": "implementing all of those steps and if",
    "start": "1465710",
    "end": "1467840"
  },
  {
    "text": "we have a look at the github status we",
    "start": "1467840",
    "end": "1469040"
  },
  {
    "text": "can see all checks have passed and so",
    "start": "1469040",
    "end": "1470960"
  },
  {
    "text": "now that true that policy should be",
    "start": "1470960",
    "end": "1472520"
  },
  {
    "text": "valid to effectively merge into master",
    "start": "1472520",
    "end": "1474470"
  },
  {
    "text": "we're then have the second phase kickoff",
    "start": "1474470",
    "end": "1477260"
  },
  {
    "text": "which is the delivery so you would",
    "start": "1477260",
    "end": "1478880"
  },
  {
    "text": "deploy it into your given environment",
    "start": "1478880",
    "end": "1480620"
  },
  {
    "text": "and potentially have some additional",
    "start": "1480620",
    "end": "1481850"
  },
  {
    "text": "steps before promoting it to production",
    "start": "1481850",
    "end": "1484040"
  },
  {
    "text": "so that pretty much brings us to the end",
    "start": "1484040",
    "end": "1490240"
  },
  {
    "text": "oops",
    "start": "1491230",
    "end": "1494230"
  },
  {
    "text": "so thank you for having us and finally",
    "start": "1499750",
    "end": "1502030"
  },
  {
    "text": "these are the references for all of the",
    "start": "1502030",
    "end": "1504039"
  },
  {
    "text": "material we've referenced today so we've",
    "start": "1504039",
    "end": "1505929"
  },
  {
    "text": "got examples for all of those pipelines",
    "start": "1505929",
    "end": "1507549"
  },
  {
    "text": "and we also have a repo there for the",
    "start": "1507549",
    "end": "1509890"
  },
  {
    "text": "underlying CLI to a wanker CTL thank you",
    "start": "1509890",
    "end": "1513340"
  },
  {
    "text": "[Applause]",
    "start": "1513340",
    "end": "1516990"
  }
]