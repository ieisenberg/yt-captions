[
  {
    "text": "test test oh yeah perfect",
    "start": "0",
    "end": "2000"
  },
  {
    "text": "okay so we're restarting",
    "start": "2000",
    "end": "5279"
  },
  {
    "text": "please find your seat if you know we",
    "start": "5279",
    "end": "8160"
  },
  {
    "text": "don't need to dig frag yet later in the",
    "start": "8160",
    "end": "10679"
  },
  {
    "text": "day we might start to actually start",
    "start": "10679",
    "end": "12179"
  },
  {
    "text": "defragging you",
    "start": "12179",
    "end": "14340"
  },
  {
    "text": "if you also could quiet down a little",
    "start": "14340",
    "end": "16920"
  },
  {
    "text": "bit because up here it's really really",
    "start": "16920",
    "end": "18720"
  },
  {
    "text": "loud",
    "start": "18720",
    "end": "19740"
  },
  {
    "text": "um Justice",
    "start": "19740",
    "end": "22199"
  },
  {
    "text": "the people who are still talking okay",
    "start": "22199",
    "end": "24779"
  },
  {
    "text": "anyway they're going to stop talking in",
    "start": "24779",
    "end": "26699"
  },
  {
    "text": "a bit",
    "start": "26699",
    "end": "27539"
  },
  {
    "text": "um so I teased it just a few minutes ago",
    "start": "27539",
    "end": "30240"
  },
  {
    "text": "now you're going to see the real thing",
    "start": "30240",
    "end": "31740"
  },
  {
    "text": "we have Bjorn ramenstein talk about",
    "start": "31740",
    "end": "33840"
  },
  {
    "text": "Native histograms thank you",
    "start": "33840",
    "end": "37219"
  },
  {
    "text": "thank you",
    "start": "39000",
    "end": "40320"
  },
  {
    "text": "thank you",
    "start": "40320",
    "end": "42000"
  },
  {
    "text": "um yeah my name is Bjorn I work for",
    "start": "42000",
    "end": "43500"
  },
  {
    "text": "grafana labs and I also do one thing or",
    "start": "43500",
    "end": "46559"
  },
  {
    "text": "two in the Prometheus ecosystem and my",
    "start": "46559",
    "end": "49200"
  },
  {
    "text": "pet project four years has been the",
    "start": "49200",
    "end": "52620"
  },
  {
    "text": "native histograms",
    "start": "52620",
    "end": "54300"
  },
  {
    "text": "um this is not a talk about the native",
    "start": "54300",
    "end": "57780"
  },
  {
    "text": "histograms in general there have been",
    "start": "57780",
    "end": "59699"
  },
  {
    "text": "too many of those already if you have",
    "start": "59699",
    "end": "62160"
  },
  {
    "text": "never heard about Native histograms if",
    "start": "62160",
    "end": "64440"
  },
  {
    "text": "you're watching the recording of This",
    "start": "64440",
    "end": "65820"
  },
  {
    "text": "you should stop now and watch those",
    "start": "65820",
    "end": "67740"
  },
  {
    "text": "other talks if you're here in the room",
    "start": "67740",
    "end": "69360"
  },
  {
    "text": "that's not an option but you can still",
    "start": "69360",
    "end": "72299"
  },
  {
    "text": "watch it afterwards right so this is a",
    "start": "72299",
    "end": "74520"
  },
  {
    "text": "view list it starts with the historical",
    "start": "74520",
    "end": "76560"
  },
  {
    "text": "context and the middle one is promcon",
    "start": "76560",
    "end": "79979"
  },
  {
    "text": "2019 in Munich which it's all more than",
    "start": "79979",
    "end": "82860"
  },
  {
    "text": "three years ago which proves how long we",
    "start": "82860",
    "end": "85799"
  },
  {
    "text": "have been working on this it it tells",
    "start": "85799",
    "end": "88200"
  },
  {
    "text": "you all the stuff that um where we",
    "start": "88200",
    "end": "90420"
  },
  {
    "text": "started from or was the plan and the the",
    "start": "90420",
    "end": "94560"
  },
  {
    "text": "final one is actually two talks this is",
    "start": "94560",
    "end": "96960"
  },
  {
    "text": "the reason prom Con in 2022",
    "start": "96960",
    "end": "99960"
  },
  {
    "text": "where we",
    "start": "99960",
    "end": "102000"
  },
  {
    "text": "um",
    "start": "102000",
    "end": "102799"
  },
  {
    "text": "yeah what we showed what we have and",
    "start": "102799",
    "end": "105360"
  },
  {
    "text": "this talk now is about how histograms",
    "start": "105360",
    "end": "107700"
  },
  {
    "text": "actually work in production",
    "start": "107700",
    "end": "110340"
  },
  {
    "text": "um the abstract promise that I will talk",
    "start": "110340",
    "end": "112799"
  },
  {
    "text": "about the compatibility with the open",
    "start": "112799",
    "end": "114899"
  },
  {
    "text": "Telemetry new histograms exponential",
    "start": "114899",
    "end": "117659"
  },
  {
    "text": "histograms",
    "start": "117659",
    "end": "119000"
  },
  {
    "text": "luckily this topic is so important that",
    "start": "119000",
    "end": "121740"
  },
  {
    "text": "there's a talk on its own so I don't",
    "start": "121740",
    "end": "123720"
  },
  {
    "text": "have to talk about it so just watch the",
    "start": "123720",
    "end": "125579"
  },
  {
    "text": "session later today",
    "start": "125579",
    "end": "127979"
  },
  {
    "text": "okay so let's start",
    "start": "127979",
    "end": "130380"
  },
  {
    "text": "um Native histograms are still",
    "start": "130380",
    "end": "132060"
  },
  {
    "text": "experimental so you this is the first",
    "start": "132060",
    "end": "133980"
  },
  {
    "text": "production Pro tip you need a feature",
    "start": "133980",
    "end": "135599"
  },
  {
    "text": "flag to enable them everything could",
    "start": "135599",
    "end": "137819"
  },
  {
    "text": "still break but we are more and more",
    "start": "137819",
    "end": "140040"
  },
  {
    "text": "confident",
    "start": "140040",
    "end": "141120"
  },
  {
    "text": "that nothing will break and this is",
    "start": "141120",
    "end": "143280"
  },
  {
    "text": "actually",
    "start": "143280",
    "end": "144360"
  },
  {
    "text": "um",
    "start": "144360",
    "end": "145400"
  },
  {
    "text": "more and more stable but there's no",
    "start": "145400",
    "end": "147660"
  },
  {
    "text": "guarantee yet so be prepared",
    "start": "147660",
    "end": "150020"
  },
  {
    "text": "although we get more and more confident",
    "start": "150020",
    "end": "153180"
  },
  {
    "text": "okay let's start with instrumentation",
    "start": "153180",
    "end": "155640"
  },
  {
    "text": "because that's where you start to use",
    "start": "155640",
    "end": "157980"
  },
  {
    "text": "native histograms I when I submitted",
    "start": "157980",
    "end": "160560"
  },
  {
    "text": "this talk I was hoping that I could tell",
    "start": "160560",
    "end": "163080"
  },
  {
    "text": "you it's all good it's everywhere",
    "start": "163080",
    "end": "165300"
  },
  {
    "text": "unfortunately it's not uh Klein golang",
    "start": "165300",
    "end": "167819"
  },
  {
    "text": "is the official go instrumentation",
    "start": "167819",
    "end": "170040"
  },
  {
    "text": "Library it has released it",
    "start": "170040",
    "end": "174140"
  },
  {
    "text": "in 1.14 it's all released that's cool",
    "start": "174379",
    "end": "178640"
  },
  {
    "text": "client Java has it in a branch and it's",
    "start": "178640",
    "end": "182400"
  },
  {
    "text": "not quite complete and there is no other",
    "start": "182400",
    "end": "185400"
  },
  {
    "text": "official client already supporting it",
    "start": "185400",
    "end": "187140"
  },
  {
    "text": "yet the problem the problem quote",
    "start": "187140",
    "end": "189599"
  },
  {
    "text": "unquote is protov protobuf is of course",
    "start": "189599",
    "end": "192659"
  },
  {
    "text": "not a problem it's awesome and it's very",
    "start": "192659",
    "end": "194640"
  },
  {
    "text": "well suited for Native histograms that's",
    "start": "194640",
    "end": "197220"
  },
  {
    "text": "why the one library that still supported",
    "start": "197220",
    "end": "199920"
  },
  {
    "text": "the protograph exposition format",
    "start": "199920",
    "end": "201659"
  },
  {
    "text": "although Prometheus didn't",
    "start": "201659",
    "end": "204140"
  },
  {
    "text": "Hazard has the support fully if you",
    "start": "204140",
    "end": "207720"
  },
  {
    "text": "enable that feature flag that I showed",
    "start": "207720",
    "end": "209760"
  },
  {
    "text": "on the previous slide you will actually",
    "start": "209760",
    "end": "211739"
  },
  {
    "text": "get Prometheus back into the state where",
    "start": "211739",
    "end": "214140"
  },
  {
    "text": "it's using protob",
    "start": "214140",
    "end": "215480"
  },
  {
    "text": "now we are not planning to add",
    "start": "215480",
    "end": "218099"
  },
  {
    "text": "protograph to all the instrumentation",
    "start": "218099",
    "end": "219599"
  },
  {
    "text": "libraries we are doing the opposite we",
    "start": "219599",
    "end": "221879"
  },
  {
    "text": "will create a text representation of",
    "start": "221879",
    "end": "223980"
  },
  {
    "text": "native histograms eventually which might",
    "start": "223980",
    "end": "226260"
  },
  {
    "text": "not be as as efficient but it will work",
    "start": "226260",
    "end": "228540"
  },
  {
    "text": "but not quite there yet that's why you",
    "start": "228540",
    "end": "230940"
  },
  {
    "text": "don't see the support in all the other",
    "start": "230940",
    "end": "232860"
  },
  {
    "text": "client libraries yet so you have to wait",
    "start": "232860",
    "end": "236040"
  },
  {
    "text": "a bit you can also go down the open",
    "start": "236040",
    "end": "237540"
  },
  {
    "text": "Telemetry path but this is the other",
    "start": "237540",
    "end": "239519"
  },
  {
    "text": "talk okay",
    "start": "239519",
    "end": "241680"
  },
  {
    "text": "this is a talk from this is a slide from",
    "start": "241680",
    "end": "245640"
  },
  {
    "text": "yet another talk that wasn't even on",
    "start": "245640",
    "end": "247319"
  },
  {
    "text": "that view list which is kubecon 22 EU",
    "start": "247319",
    "end": "251459"
  },
  {
    "text": "but it was online so not really EU in",
    "start": "251459",
    "end": "254400"
  },
  {
    "text": "this talk I formulated wishes what we",
    "start": "254400",
    "end": "257160"
  },
  {
    "text": "want from the Native histograms and the",
    "start": "257160",
    "end": "259979"
  },
  {
    "text": "yellow wishes that was the conclusion",
    "start": "259979",
    "end": "262260"
  },
  {
    "text": "they are all fulfilled by Design and now",
    "start": "262260",
    "end": "264300"
  },
  {
    "text": "that the native histograms are there",
    "start": "264300",
    "end": "265860"
  },
  {
    "text": "they are indeed all fulfilled but the",
    "start": "265860",
    "end": "268320"
  },
  {
    "text": "open question back then was the orange",
    "start": "268320",
    "end": "270000"
  },
  {
    "text": "wish",
    "start": "270000",
    "end": "271080"
  },
  {
    "text": "I want all of that at a lower cost than",
    "start": "271080",
    "end": "273300"
  },
  {
    "text": "current histograms that also that I can",
    "start": "273300",
    "end": "275280"
  },
  {
    "text": "finally partition histograms at will",
    "start": "275280",
    "end": "276780"
  },
  {
    "text": "right that was the wish back then that",
    "start": "276780",
    "end": "278699"
  },
  {
    "text": "we had to see if it will come true and",
    "start": "278699",
    "end": "280440"
  },
  {
    "text": "essentially this talk is about checking",
    "start": "280440",
    "end": "282600"
  },
  {
    "text": "out if the wish has come true",
    "start": "282600",
    "end": "284240"
  },
  {
    "text": "partitioning of histograms the old",
    "start": "284240",
    "end": "287040"
  },
  {
    "text": "classic histograms was kind of what",
    "start": "287040",
    "end": "289320"
  },
  {
    "text": "nobody wanted to do because the",
    "start": "289320",
    "end": "291120"
  },
  {
    "text": "histograms were so expensive that you",
    "start": "291120",
    "end": "292800"
  },
  {
    "text": "don't want to add labels to them in",
    "start": "292800",
    "end": "295080"
  },
  {
    "text": "addition and multiply the problems right",
    "start": "295080",
    "end": "296940"
  },
  {
    "text": "and now we want to see if this works",
    "start": "296940",
    "end": "299699"
  },
  {
    "text": "with the native histograms a comparison",
    "start": "299699",
    "end": "301979"
  },
  {
    "text": "are kind of almost impossible because",
    "start": "301979",
    "end": "305340"
  },
  {
    "text": "um it is kind of missing the point if",
    "start": "305340",
    "end": "307680"
  },
  {
    "text": "you reconstruct the exact use case of a",
    "start": "307680",
    "end": "310080"
  },
  {
    "text": "classic histogram with Native histograms",
    "start": "310080",
    "end": "311820"
  },
  {
    "text": "because then all the yellow wishes",
    "start": "311820",
    "end": "313620"
  },
  {
    "text": "aren't fulfilled and if you use native",
    "start": "313620",
    "end": "315780"
  },
  {
    "text": "histograms and fulfill all the yellow",
    "start": "315780",
    "end": "317520"
  },
  {
    "text": "wishes then if you want to do the same",
    "start": "317520",
    "end": "320340"
  },
  {
    "text": "with classic histograms everything blows",
    "start": "320340",
    "end": "322080"
  },
  {
    "text": "up immediately because the classic",
    "start": "322080",
    "end": "323460"
  },
  {
    "text": "histograms are too expensive so I I went",
    "start": "323460",
    "end": "326940"
  },
  {
    "text": "down a more pragmatic path I took this",
    "start": "326940",
    "end": "328979"
  },
  {
    "text": "more or less popular framework from",
    "start": "328979",
    "end": "330660"
  },
  {
    "text": "Weaver works we Works common which has a",
    "start": "330660",
    "end": "333900"
  },
  {
    "text": "really expensive classic histogram in it",
    "start": "333900",
    "end": "336240"
  },
  {
    "text": "and modeled the same case with Native",
    "start": "336240",
    "end": "339240"
  },
  {
    "text": "histograms I don't know if you know that",
    "start": "339240",
    "end": "341340"
  },
  {
    "text": "at grafana lives we are using this kind",
    "start": "341340",
    "end": "343500"
  },
  {
    "text": "of as the plumbing for some of our",
    "start": "343500",
    "end": "345060"
  },
  {
    "text": "microservices and our pet will be the",
    "start": "345060",
    "end": "349080"
  },
  {
    "text": "so-called cloud back and Gateway which",
    "start": "349080",
    "end": "351539"
  },
  {
    "text": "we use to whatever root request to the",
    "start": "351539",
    "end": "355800"
  },
  {
    "text": "actual backends and the histogram in",
    "start": "355800",
    "end": "359160"
  },
  {
    "text": "there is configured in that way this is",
    "start": "359160",
    "end": "361860"
  },
  {
    "text": "the classic histogram it has",
    "start": "361860",
    "end": "364460"
  },
  {
    "text": "a humongous amount of bucket 14 buckets",
    "start": "364460",
    "end": "367500"
  },
  {
    "text": "and it has a humongous amount of labels",
    "start": "367500",
    "end": "369539"
  },
  {
    "text": "which you usually don't do with",
    "start": "369539",
    "end": "370800"
  },
  {
    "text": "partitions by so it's instrumenting HTTP",
    "start": "370800",
    "end": "374039"
  },
  {
    "text": "server in it partitions by Method root",
    "start": "374039",
    "end": "376199"
  },
  {
    "text": "and status code and WS probably means",
    "start": "376199",
    "end": "378300"
  },
  {
    "text": "websocket I don't know Brian Brian not",
    "start": "378300",
    "end": "380900"
  },
  {
    "text": "it's ever true or it's only ever true or",
    "start": "380900",
    "end": "383639"
  },
  {
    "text": "false so this is a lot of labels and",
    "start": "383639",
    "end": "385620"
  },
  {
    "text": "there's a lot of pockets and this is as",
    "start": "385620",
    "end": "387240"
  },
  {
    "text": "far as you can take classic histograms",
    "start": "387240",
    "end": "389280"
  },
  {
    "text": "and it's already a very expensive",
    "start": "389280",
    "end": "391020"
  },
  {
    "text": "histogram Vector right the terminology",
    "start": "391020",
    "end": "394080"
  },
  {
    "text": "in Klein goldling is Vic",
    "start": "394080",
    "end": "396360"
  },
  {
    "text": "um there's all those effort you still",
    "start": "396360",
    "end": "398280"
  },
  {
    "text": "get",
    "start": "398280",
    "end": "399120"
  },
  {
    "text": "um where's my pointer here you still get",
    "start": "399120",
    "end": "401940"
  },
  {
    "text": "only a um you cap your relative error if",
    "start": "401940",
    "end": "406380"
  },
  {
    "text": "you want to estimate quantiles from",
    "start": "406380",
    "end": "408060"
  },
  {
    "text": "these histograms at 42.9 percent which",
    "start": "408060",
    "end": "411419"
  },
  {
    "text": "is already a very favorable calculation",
    "start": "411419",
    "end": "414060"
  },
  {
    "text": "you can ask me after this talk for the",
    "start": "414060",
    "end": "416520"
  },
  {
    "text": "math behind it",
    "start": "416520",
    "end": "418139"
  },
  {
    "text": "um I mean you grow every bucket by a",
    "start": "418139",
    "end": "420300"
  },
  {
    "text": "factor of 2 or 2.5 it's kind of obvious",
    "start": "420300",
    "end": "422699"
  },
  {
    "text": "that the error of quantiles that you",
    "start": "422699",
    "end": "425160"
  },
  {
    "text": "estimate from it is kind of high also it",
    "start": "425160",
    "end": "428400"
  },
  {
    "text": "only works if you're within the range",
    "start": "428400",
    "end": "430440"
  },
  {
    "text": "which is from five millisecond to 100",
    "start": "430440",
    "end": "432300"
  },
  {
    "text": "seconds that's a pretty big range but if",
    "start": "432300",
    "end": "434759"
  },
  {
    "text": "you happen to have like even slower or",
    "start": "434759",
    "end": "436800"
  },
  {
    "text": "faster requests then you still don't get",
    "start": "436800",
    "end": "439500"
  },
  {
    "text": "this guarantee right so for all the",
    "start": "439500",
    "end": "442139"
  },
  {
    "text": "effort you have paid here it's it's not",
    "start": "442139",
    "end": "444240"
  },
  {
    "text": "a very good",
    "start": "444240",
    "end": "445440"
  },
  {
    "text": "um result with Native histograms this is",
    "start": "445440",
    "end": "448800"
  },
  {
    "text": "what you do to add them you you add this",
    "start": "448800",
    "end": "451740"
  },
  {
    "text": "native histogram bucket Factor that's",
    "start": "451740",
    "end": "453780"
  },
  {
    "text": "the one thing you have to configure we",
    "start": "453780",
    "end": "455819"
  },
  {
    "text": "essentially say I want a native",
    "start": "455819",
    "end": "457440"
  },
  {
    "text": "histogram with a 10 bucket to pocket",
    "start": "457440",
    "end": "459840"
  },
  {
    "text": "growth in reality it's 1.09 that's the",
    "start": "459840",
    "end": "462840"
  },
  {
    "text": "math behind native histograms which is",
    "start": "462840",
    "end": "465060"
  },
  {
    "text": "explained in the other talks 2 to the",
    "start": "465060",
    "end": "467699"
  },
  {
    "text": "power of 2 to the power of minus three",
    "start": "467699",
    "end": "469139"
  },
  {
    "text": "if you want it really precisely and the",
    "start": "469139",
    "end": "471960"
  },
  {
    "text": "other two fact configuration",
    "start": "471960",
    "end": "474479"
  },
  {
    "text": "settings here are to limit the number of",
    "start": "474479",
    "end": "477780"
  },
  {
    "text": "populated buckets so one of the main",
    "start": "477780",
    "end": "480360"
  },
  {
    "text": "main ideas in Native histograms is that",
    "start": "480360",
    "end": "482460"
  },
  {
    "text": "only populated buckets inflict a cost",
    "start": "482460",
    "end": "485520"
  },
  {
    "text": "but you still might get a lot an",
    "start": "485520",
    "end": "487500"
  },
  {
    "text": "infinite number in fact I'm not quite",
    "start": "487500",
    "end": "490199"
  },
  {
    "text": "infinite but like a lot",
    "start": "490199",
    "end": "492199"
  },
  {
    "text": "and so you might want to limit in",
    "start": "492199",
    "end": "494880"
  },
  {
    "text": "production the number of buckets you're",
    "start": "494880",
    "end": "496500"
  },
  {
    "text": "actually using and in this case I have",
    "start": "496500",
    "end": "498660"
  },
  {
    "text": "configured This Cloud native backend",
    "start": "498660",
    "end": "501080"
  },
  {
    "text": "gateway to have at most 100 Pockets per",
    "start": "501080",
    "end": "504660"
  },
  {
    "text": "histogram like per label combination and",
    "start": "504660",
    "end": "507960"
  },
  {
    "text": "if you ever hit this 100 pocket you just",
    "start": "507960",
    "end": "510120"
  },
  {
    "text": "reset the histogram and you start with",
    "start": "510120",
    "end": "511800"
  },
  {
    "text": "only empty pockets that's fine as you",
    "start": "511800",
    "end": "515159"
  },
  {
    "text": "can see in all the other talks if it",
    "start": "515159",
    "end": "516839"
  },
  {
    "text": "doesn't happen too often and this is the",
    "start": "516839",
    "end": "518700"
  },
  {
    "text": "other limit here if you if you want to",
    "start": "518700",
    "end": "521099"
  },
  {
    "text": "reset it don't reset it more than once",
    "start": "521099",
    "end": "523500"
  },
  {
    "text": "per hour and this is the last resort if",
    "start": "523500",
    "end": "526080"
  },
  {
    "text": "you have to reset the more than once per",
    "start": "526080",
    "end": "527399"
  },
  {
    "text": "hour you start to degrade the resolution",
    "start": "527399",
    "end": "529260"
  },
  {
    "text": "which is something we don't want but",
    "start": "529260",
    "end": "531120"
  },
  {
    "text": "we'll see how this works out in practice",
    "start": "531120",
    "end": "532740"
  },
  {
    "text": "okay so I deploy the this I deployed",
    "start": "532740",
    "end": "535560"
  },
  {
    "text": "this to a real Cloud native Cloud native",
    "start": "535560",
    "end": "538200"
  },
  {
    "text": "Cloud backend Gateway in our production",
    "start": "538200",
    "end": "542220"
  },
  {
    "text": "environment and now I can do actual",
    "start": "542220",
    "end": "544680"
  },
  {
    "text": "questions how does this work in",
    "start": "544680",
    "end": "546180"
  },
  {
    "text": "production so the first question is how",
    "start": "546180",
    "end": "548399"
  },
  {
    "text": "much resources do we have to pay to",
    "start": "548399",
    "end": "551040"
  },
  {
    "text": "additionally expose those native",
    "start": "551040",
    "end": "552899"
  },
  {
    "text": "histograms because the way I configured",
    "start": "552899",
    "end": "555060"
  },
  {
    "text": "it here it still does both and the",
    "start": "555060",
    "end": "557220"
  },
  {
    "text": "scraper decides if it wants to see the",
    "start": "557220",
    "end": "559320"
  },
  {
    "text": "classic histogram of the Native",
    "start": "559320",
    "end": "560580"
  },
  {
    "text": "histogram so we have additional cost of",
    "start": "560580",
    "end": "563100"
  },
  {
    "text": "course because we're exposing the native",
    "start": "563100",
    "end": "565500"
  },
  {
    "text": "buckets as well and here's the graph of",
    "start": "565500",
    "end": "569580"
  },
  {
    "text": "like RSS and go Heap size so you would",
    "start": "569580",
    "end": "573240"
  },
  {
    "text": "think obviously",
    "start": "573240",
    "end": "575880"
  },
  {
    "text": "this is the resource we have to pay in",
    "start": "575880",
    "end": "578160"
  },
  {
    "text": "addition right luckily that's not the",
    "start": "578160",
    "end": "580080"
  },
  {
    "text": "time I deployed this the time I deployed",
    "start": "580080",
    "end": "582420"
  },
  {
    "text": "this was here so essentially there's no",
    "start": "582420",
    "end": "585740"
  },
  {
    "text": "reasonable research resource increase",
    "start": "585740",
    "end": "588360"
  },
  {
    "text": "that's because this get this Cloud",
    "start": "588360",
    "end": "591540"
  },
  {
    "text": "backend Gateway is actually doing real",
    "start": "591540",
    "end": "593519"
  },
  {
    "text": "heavy lifting so the Telemetry stuff is",
    "start": "593519",
    "end": "597180"
  },
  {
    "text": "not really taking as much resources that",
    "start": "597180",
    "end": "600240"
  },
  {
    "text": "you could see any Dent here which is",
    "start": "600240",
    "end": "601740"
  },
  {
    "text": "good right in a binary that is only",
    "start": "601740",
    "end": "604680"
  },
  {
    "text": "doing metric serving you would see it",
    "start": "604680",
    "end": "607260"
  },
  {
    "text": "then but the good thing is compared to",
    "start": "607260",
    "end": "609360"
  },
  {
    "text": "your actual production payload this is",
    "start": "609360",
    "end": "611279"
  },
  {
    "text": "still negligible",
    "start": "611279",
    "end": "613019"
  },
  {
    "text": "okay question Jew how often do those",
    "start": "613019",
    "end": "616860"
  },
  {
    "text": "strategies kick in to limit the buckets",
    "start": "616860",
    "end": "618839"
  },
  {
    "text": "because if we reset the histogram all",
    "start": "618839",
    "end": "621300"
  },
  {
    "text": "the time that would be not so good but",
    "start": "621300",
    "end": "623339"
  },
  {
    "text": "it would be even worse if we had to",
    "start": "623339",
    "end": "625019"
  },
  {
    "text": "reduce the resolution all the time and",
    "start": "625019",
    "end": "627000"
  },
  {
    "text": "don't get that high resolution",
    "start": "627000",
    "end": "629339"
  },
  {
    "text": "um which is like gives you an order of",
    "start": "629339",
    "end": "631200"
  },
  {
    "text": "magnitude better quantile estimations",
    "start": "631200",
    "end": "634740"
  },
  {
    "text": "um",
    "start": "634740",
    "end": "636000"
  },
  {
    "text": "this boils down to question two and a",
    "start": "636000",
    "end": "638339"
  },
  {
    "text": "half how many buckets are actually",
    "start": "638339",
    "end": "640380"
  },
  {
    "text": "populated with the native histograms",
    "start": "640380",
    "end": "643320"
  },
  {
    "text": "okay",
    "start": "643320",
    "end": "644700"
  },
  {
    "text": "um so I set up two Prometheus to test",
    "start": "644700",
    "end": "647940"
  },
  {
    "text": "this because on a production Prometheus",
    "start": "647940",
    "end": "650459"
  },
  {
    "text": "that just scrapes everything just a tiny",
    "start": "650459",
    "end": "652440"
  },
  {
    "text": "bit is actually histograms so to really",
    "start": "652440",
    "end": "654720"
  },
  {
    "text": "see the effect I set up a test",
    "start": "654720",
    "end": "656940"
  },
  {
    "text": "Prometheus server that the one was just",
    "start": "656940",
    "end": "659279"
  },
  {
    "text": "scraping classic histograms and the",
    "start": "659279",
    "end": "661800"
  },
  {
    "text": "other one was scraping native histograms",
    "start": "661800",
    "end": "663540"
  },
  {
    "text": "and I also dropped all the other metrics",
    "start": "663540",
    "end": "665640"
  },
  {
    "text": "I just keep this one super expensive",
    "start": "665640",
    "end": "667800"
  },
  {
    "text": "histogram Vector which is in this case",
    "start": "667800",
    "end": "670620"
  },
  {
    "text": "called cortex duration seconds which is",
    "start": "670620",
    "end": "673620"
  },
  {
    "text": "because we use cortex in the old days",
    "start": "673620",
    "end": "676380"
  },
  {
    "text": "and the metric is still called that",
    "start": "676380",
    "end": "677820"
  },
  {
    "text": "right in reality this is rooting mimir",
    "start": "677820",
    "end": "679920"
  },
  {
    "text": "queries mimir is a distributed thing",
    "start": "679920",
    "end": "683279"
  },
  {
    "text": "that implements the Prometheus apis so",
    "start": "683279",
    "end": "686100"
  },
  {
    "text": "this is very meta right we are using",
    "start": "686100",
    "end": "688620"
  },
  {
    "text": "Prometheus to monitor something that",
    "start": "688620",
    "end": "690180"
  },
  {
    "text": "implements the Prometheus API",
    "start": "690180",
    "end": "692480"
  },
  {
    "text": "but that's a pretty cool test case",
    "start": "692480",
    "end": "695160"
  },
  {
    "text": "because Prometheus API is usually you",
    "start": "695160",
    "end": "699120"
  },
  {
    "text": "run queries and this has a broad",
    "start": "699120",
    "end": "700980"
  },
  {
    "text": "distribution of latency so we are stress",
    "start": "700980",
    "end": "703980"
  },
  {
    "text": "testing the the newer histograms here",
    "start": "703980",
    "end": "705839"
  },
  {
    "text": "okay",
    "start": "705839",
    "end": "707760"
  },
  {
    "text": "um",
    "start": "707760",
    "end": "708360"
  },
  {
    "text": "so classic histogram it sees 964",
    "start": "708360",
    "end": "711420"
  },
  {
    "text": "histograms and it monitors 15 of those",
    "start": "711420",
    "end": "714360"
  },
  {
    "text": "back-end gateways so its per instance is",
    "start": "714360",
    "end": "717720"
  },
  {
    "text": "about 60 histograms these are the",
    "start": "717720",
    "end": "719519"
  },
  {
    "text": "different label combinations every",
    "start": "719519",
    "end": "722160"
  },
  {
    "text": "histogram has 14 buckets as we have seen",
    "start": "722160",
    "end": "724320"
  },
  {
    "text": "there's a Infinity bucket and there's",
    "start": "724320",
    "end": "726300"
  },
  {
    "text": "count and some so every classic",
    "start": "726300",
    "end": "728040"
  },
  {
    "text": "histogram creates 17 Series so we have",
    "start": "728040",
    "end": "730320"
  },
  {
    "text": "16 000 something serious which is I mean",
    "start": "730320",
    "end": "733680"
  },
  {
    "text": "if it's the only thing your Prometheus",
    "start": "733680",
    "end": "735300"
  },
  {
    "text": "server is doing it's not bad right but",
    "start": "735300",
    "end": "736920"
  },
  {
    "text": "for a single metric that's that's a lot",
    "start": "736920",
    "end": "739260"
  },
  {
    "text": "of theories if you just want to look at",
    "start": "739260",
    "end": "741660"
  },
  {
    "text": "the buckets it's times 15",
    "start": "741660",
    "end": "743839"
  },
  {
    "text": "for the native case we let it scrape the",
    "start": "743839",
    "end": "747360"
  },
  {
    "text": "same",
    "start": "747360",
    "end": "748880"
  },
  {
    "text": "964 histograms and then it results in",
    "start": "748880",
    "end": "753300"
  },
  {
    "text": "964 series because that's the other idea",
    "start": "753300",
    "end": "756540"
  },
  {
    "text": "about Native histograms that every",
    "start": "756540",
    "end": "759120"
  },
  {
    "text": "histogram is just one series but of",
    "start": "759120",
    "end": "761700"
  },
  {
    "text": "course the samples there still have a",
    "start": "761700",
    "end": "763440"
  },
  {
    "text": "lot of pockets and this is now the core",
    "start": "763440",
    "end": "765720"
  },
  {
    "text": "question how many buckets will we see we",
    "start": "765720",
    "end": "768540"
  },
  {
    "text": "have seen we are at 10x accuracy so we",
    "start": "768540",
    "end": "773040"
  },
  {
    "text": "kind of as the worst case expect 10",
    "start": "773040",
    "end": "775079"
  },
  {
    "text": "times as many buckets so something like",
    "start": "775079",
    "end": "777420"
  },
  {
    "text": "150 000 Pockets but how many buckets are",
    "start": "777420",
    "end": "780779"
  },
  {
    "text": "really populated now you can all make a",
    "start": "780779",
    "end": "782700"
  },
  {
    "text": "guess in your hand",
    "start": "782700",
    "end": "784680"
  },
  {
    "text": "we see twenty thousand or Twenty One",
    "start": "784680",
    "end": "786779"
  },
  {
    "text": "Thousand populated buckets in reality",
    "start": "786779",
    "end": "789240"
  },
  {
    "text": "and that's cool right that's the thing I",
    "start": "789240",
    "end": "792060"
  },
  {
    "text": "wanted to see we are increasing the",
    "start": "792060",
    "end": "794399"
  },
  {
    "text": "resolution by a factor of 10 and we are",
    "start": "794399",
    "end": "796620"
  },
  {
    "text": "still only seeing about as many buckets",
    "start": "796620",
    "end": "799019"
  },
  {
    "text": "as with the classic histograms because",
    "start": "799019",
    "end": "801600"
  },
  {
    "text": "the classic histograms have to account",
    "start": "801600",
    "end": "803339"
  },
  {
    "text": "for every bucket even if it's not",
    "start": "803339",
    "end": "805560"
  },
  {
    "text": "populated and you can see this this is",
    "start": "805560",
    "end": "808260"
  },
  {
    "text": "like the wall of text representation of",
    "start": "808260",
    "end": "810120"
  },
  {
    "text": "native histograms that we have in",
    "start": "810120",
    "end": "811920"
  },
  {
    "text": "Prometheus in the UI that will be nicer",
    "start": "811920",
    "end": "814860"
  },
  {
    "text": "graphical representations in the future",
    "start": "814860",
    "end": "816540"
  },
  {
    "text": "but that's what you see this is like a",
    "start": "816540",
    "end": "819060"
  },
  {
    "text": "typical busy histogram if you if you",
    "start": "819060",
    "end": "821760"
  },
  {
    "text": "like read the fine print it's like a 200",
    "start": "821760",
    "end": "824459"
  },
  {
    "text": "HTTP status code it's a very typical",
    "start": "824459",
    "end": "826920"
  },
  {
    "text": "endpoint so this has seen a lot of",
    "start": "826920",
    "end": "828959"
  },
  {
    "text": "observations and has seen a lot of",
    "start": "828959",
    "end": "831060"
  },
  {
    "text": "different latencies so it has 96",
    "start": "831060",
    "end": "833339"
  },
  {
    "text": "populated Pockets which is very close to",
    "start": "833339",
    "end": "835139"
  },
  {
    "text": "the limit of 100 well",
    "start": "835139",
    "end": "837600"
  },
  {
    "text": "this one here is something like an",
    "start": "837600",
    "end": "839639"
  },
  {
    "text": "exotic endpoint that is almost never hit",
    "start": "839639",
    "end": "841560"
  },
  {
    "text": "it has only seen one observations with",
    "start": "841560",
    "end": "843480"
  },
  {
    "text": "classic histograms it would trigger all",
    "start": "843480",
    "end": "845579"
  },
  {
    "text": "the 17 Series this does just trigger one",
    "start": "845579",
    "end": "848519"
  },
  {
    "text": "theories which is also really cheap to",
    "start": "848519",
    "end": "850320"
  },
  {
    "text": "handle and there's where we get all the",
    "start": "850320",
    "end": "853019"
  },
  {
    "text": "leverage from right and this is",
    "start": "853019",
    "end": "854880"
  },
  {
    "text": "interesting here this is like a 404",
    "start": "854880",
    "end": "856980"
  },
  {
    "text": "status code and four four or fours I",
    "start": "856980",
    "end": "859920"
  },
  {
    "text": "expect a more narrow distribution of",
    "start": "859920",
    "end": "861839"
  },
  {
    "text": "latencies because you just you just",
    "start": "861839",
    "end": "863880"
  },
  {
    "text": "serve the 404 right nothing found and",
    "start": "863880",
    "end": "866339"
  },
  {
    "text": "it's not like different payloads and",
    "start": "866339",
    "end": "868200"
  },
  {
    "text": "everything and indeed although this has",
    "start": "868200",
    "end": "870779"
  },
  {
    "text": "like comparable number of observation it",
    "start": "870779",
    "end": "873300"
  },
  {
    "text": "has way fewer buckets because the",
    "start": "873300",
    "end": "875339"
  },
  {
    "text": "distribution is narrower more narrow so",
    "start": "875339",
    "end": "877920"
  },
  {
    "text": "we also save on buckets because we only",
    "start": "877920",
    "end": "880860"
  },
  {
    "text": "represent populated Pockets so this",
    "start": "880860",
    "end": "883079"
  },
  {
    "text": "works out really nicely the question is",
    "start": "883079",
    "end": "885420"
  },
  {
    "text": "how often do we have to reset because",
    "start": "885420",
    "end": "887399"
  },
  {
    "text": "this one busy histogram was reaching the",
    "start": "887399",
    "end": "889560"
  },
  {
    "text": "100 limit right and in fact we don't",
    "start": "889560",
    "end": "892560"
  },
  {
    "text": "resent that often and also what I like",
    "start": "892560",
    "end": "894959"
  },
  {
    "text": "the top 10 most reset histograms are all",
    "start": "894959",
    "end": "897540"
  },
  {
    "text": "histograms which like serve the it's the",
    "start": "897540",
    "end": "901500"
  },
  {
    "text": "200 status code and it's actually",
    "start": "901500",
    "end": "903180"
  },
  {
    "text": "serving the Prometheus API query",
    "start": "903180",
    "end": "905579"
  },
  {
    "text": "endpoint where I expect a broad",
    "start": "905579",
    "end": "907680"
  },
  {
    "text": "distribution of latencies so it all",
    "start": "907680",
    "end": "909660"
  },
  {
    "text": "makes sense this is where we see resets",
    "start": "909660",
    "end": "911820"
  },
  {
    "text": "at all and we have like a handful of",
    "start": "911820",
    "end": "914459"
  },
  {
    "text": "resets a day even in those cases and I",
    "start": "914459",
    "end": "916920"
  },
  {
    "text": "found the worst case during my",
    "start": "916920",
    "end": "918540"
  },
  {
    "text": "experiment of two weeks it has seen",
    "start": "918540",
    "end": "921480"
  },
  {
    "text": "eight of his expert a and this is the",
    "start": "921480",
    "end": "923160"
  },
  {
    "text": "graph it's the count so you see it goes",
    "start": "923160",
    "end": "925920"
  },
  {
    "text": "up and then you see the results and",
    "start": "925920",
    "end": "927899"
  },
  {
    "text": "apparently there was a lot of traffic in",
    "start": "927899",
    "end": "929639"
  },
  {
    "text": "this moment where you saw a lot of",
    "start": "929639",
    "end": "931199"
  },
  {
    "text": "different latencies so you had to reset",
    "start": "931199",
    "end": "933180"
  },
  {
    "text": "the system quite often but rarely would",
    "start": "933180",
    "end": "935399"
  },
  {
    "text": "you hit this one hour limit where you",
    "start": "935399",
    "end": "937980"
  },
  {
    "text": "have to reduce the latency and that's",
    "start": "937980",
    "end": "939779"
  },
  {
    "text": "the key question how often did that",
    "start": "939779",
    "end": "941699"
  },
  {
    "text": "happen occasionally the like it happened",
    "start": "941699",
    "end": "945540"
  },
  {
    "text": "just a couple of times during the",
    "start": "945540",
    "end": "948120"
  },
  {
    "text": "experiment the the problem is that",
    "start": "948120",
    "end": "950639"
  },
  {
    "text": "there's a bug in the instrumentation lab",
    "start": "950639",
    "end": "953040"
  },
  {
    "text": "we forego where it essentially never",
    "start": "953040",
    "end": "955139"
  },
  {
    "text": "switches back although it could and I",
    "start": "955139",
    "end": "957240"
  },
  {
    "text": "discover about this while analyzing the",
    "start": "957240",
    "end": "959160"
  },
  {
    "text": "data for this talk conference driven",
    "start": "959160",
    "end": "961560"
  },
  {
    "text": "development at its best you can look up",
    "start": "961560",
    "end": "964800"
  },
  {
    "text": "this this issue it's a bit complicated",
    "start": "964800",
    "end": "966660"
  },
  {
    "text": "to explain why it happens but once you",
    "start": "966660",
    "end": "968880"
  },
  {
    "text": "see it it totally makes sense and I just",
    "start": "968880",
    "end": "971760"
  },
  {
    "text": "have to",
    "start": "971760",
    "end": "972779"
  },
  {
    "text": "um fix it right bartek pull request",
    "start": "972779",
    "end": "975779"
  },
  {
    "text": "incoming he maintains that that Library",
    "start": "975779",
    "end": "979139"
  },
  {
    "text": "okay so this all works out as I wanted",
    "start": "979139",
    "end": "982320"
  },
  {
    "text": "to so next question when I scrape this",
    "start": "982320",
    "end": "985079"
  },
  {
    "text": "how much resources do I need on the",
    "start": "985079",
    "end": "987300"
  },
  {
    "text": "Prometheus side",
    "start": "987300",
    "end": "989040"
  },
  {
    "text": "um uh this is again the list from before",
    "start": "989040",
    "end": "991560"
  },
  {
    "text": "but now I added the RSS of the",
    "start": "991560",
    "end": "993540"
  },
  {
    "text": "Prometheus of both Prometheus right the",
    "start": "993540",
    "end": "996000"
  },
  {
    "text": "classic one the native one RSS is almost",
    "start": "996000",
    "end": "999240"
  },
  {
    "text": "the same which is because I only scraped",
    "start": "999240",
    "end": "1002420"
  },
  {
    "text": "this one query this one metric so most",
    "start": "1002420",
    "end": "1005300"
  },
  {
    "text": "of this is just Baseline usage of",
    "start": "1005300",
    "end": "1006920"
  },
  {
    "text": "Prometheus doing its thing right",
    "start": "1006920",
    "end": "1009019"
  },
  {
    "text": "um so we can't see so much so I went",
    "start": "1009019",
    "end": "1011600"
  },
  {
    "text": "down to the basement of this Prometheus",
    "start": "1011600",
    "end": "1014540"
  },
  {
    "text": "her and looked at the storage it uses on",
    "start": "1014540",
    "end": "1016880"
  },
  {
    "text": "disk and Prometheus uses the same",
    "start": "1016880",
    "end": "1018740"
  },
  {
    "text": "storage layout on disk and in Ram so",
    "start": "1018740",
    "end": "1021320"
  },
  {
    "text": "this kind of gives me an idea how much",
    "start": "1021320",
    "end": "1023540"
  },
  {
    "text": "is actually used in terms of RAM and",
    "start": "1023540",
    "end": "1026900"
  },
  {
    "text": "disk storage for the actual data for",
    "start": "1026900",
    "end": "1029480"
  },
  {
    "text": "histograms and here we see essentially",
    "start": "1029480",
    "end": "1031360"
  },
  {
    "text": "we have a few like fewer Pockets to",
    "start": "1031360",
    "end": "1035480"
  },
  {
    "text": "represent here we have many more and",
    "start": "1035480",
    "end": "1037880"
  },
  {
    "text": "only the populated ones that you have",
    "start": "1037880",
    "end": "1039620"
  },
  {
    "text": "data but still we need only half of the",
    "start": "1039620",
    "end": "1041959"
  },
  {
    "text": "storage and if you look only at blocks",
    "start": "1041959",
    "end": "1044780"
  },
  {
    "text": "which is like minus the wall and",
    "start": "1044780",
    "end": "1046699"
  },
  {
    "text": "whatever else Prometheus might store",
    "start": "1046699",
    "end": "1048319"
  },
  {
    "text": "this kind of factor too is even more",
    "start": "1048319",
    "end": "1050780"
  },
  {
    "text": "pronounced so bottom line here is you",
    "start": "1050780",
    "end": "1054080"
  },
  {
    "text": "get 10 times the resolution for half the",
    "start": "1054080",
    "end": "1056000"
  },
  {
    "text": "price right good",
    "start": "1056000",
    "end": "1058700"
  },
  {
    "text": "okay but maybe the query the queries are",
    "start": "1058700",
    "end": "1062539"
  },
  {
    "text": "now way more expensive because it has to",
    "start": "1062539",
    "end": "1064880"
  },
  {
    "text": "like get into all those Advanced data",
    "start": "1064880",
    "end": "1067100"
  },
  {
    "text": "structures and turn through all the data",
    "start": "1067100",
    "end": "1069679"
  },
  {
    "text": "um this is the most popular query you do",
    "start": "1069679",
    "end": "1072860"
  },
  {
    "text": "with a histogram you calculate a",
    "start": "1072860",
    "end": "1074419"
  },
  {
    "text": "quantile and the graph look different",
    "start": "1074419",
    "end": "1076760"
  },
  {
    "text": "left and right because the right one is",
    "start": "1076760",
    "end": "1078860"
  },
  {
    "text": "with Native histograms and it's like so",
    "start": "1078860",
    "end": "1081260"
  },
  {
    "text": "much more precise so the right one is",
    "start": "1081260",
    "end": "1084020"
  },
  {
    "text": "the the truth right oh it's closer to",
    "start": "1084020",
    "end": "1086360"
  },
  {
    "text": "the truth there's a pocket boundary in",
    "start": "1086360",
    "end": "1088520"
  },
  {
    "text": "the classic histogram at 100",
    "start": "1088520",
    "end": "1089660"
  },
  {
    "text": "milliseconds and you kind of see this",
    "start": "1089660",
    "end": "1091400"
  },
  {
    "text": "this looks like some stop Gap here where",
    "start": "1091400",
    "end": "1093799"
  },
  {
    "text": "you hit this right so that's cool and",
    "start": "1093799",
    "end": "1096380"
  },
  {
    "text": "also I mean this query just Aggregates",
    "start": "1096380",
    "end": "1098360"
  },
  {
    "text": "everything into one so it doesn't really",
    "start": "1098360",
    "end": "1100760"
  },
  {
    "text": "make sense but it turns through all the",
    "start": "1100760",
    "end": "1103160"
  },
  {
    "text": "data so in that case the native",
    "start": "1103160",
    "end": "1105140"
  },
  {
    "text": "histograms are even a bit faster right",
    "start": "1105140",
    "end": "1107120"
  },
  {
    "text": "so 10 times resolution faster query",
    "start": "1107120",
    "end": "1109880"
  },
  {
    "text": "speed cool this is a more typical query",
    "start": "1109880",
    "end": "1113179"
  },
  {
    "text": "where you just look at a specific",
    "start": "1113179",
    "end": "1115280"
  },
  {
    "text": "endpoint with a specific status code and",
    "start": "1115280",
    "end": "1117980"
  },
  {
    "text": "this is the endpoint that is serving",
    "start": "1117980",
    "end": "1120320"
  },
  {
    "text": "this like broad latency distributions",
    "start": "1120320",
    "end": "1122780"
  },
  {
    "text": "with prompt ql query endpoint so it's",
    "start": "1122780",
    "end": "1126200"
  },
  {
    "text": "kind of stress testing the native",
    "start": "1126200",
    "end": "1127580"
  },
  {
    "text": "histograms again and then they are a bit",
    "start": "1127580",
    "end": "1129919"
  },
  {
    "text": "like slower in execution time but it's",
    "start": "1129919",
    "end": "1133280"
  },
  {
    "text": "like yeah more or less in the noise so I",
    "start": "1133280",
    "end": "1136160"
  },
  {
    "text": "essentially we get this at um",
    "start": "1136160",
    "end": "1139580"
  },
  {
    "text": "at a reasonable performance speed now",
    "start": "1139580",
    "end": "1143240"
  },
  {
    "text": "the other important thing you want to do",
    "start": "1143240",
    "end": "1145400"
  },
  {
    "text": "with histograms is heat Maps and heat",
    "start": "1145400",
    "end": "1148580"
  },
  {
    "text": "maps with the classic histograms are",
    "start": "1148580",
    "end": "1150140"
  },
  {
    "text": "kind of a joke right because you have",
    "start": "1150140",
    "end": "1151580"
  },
  {
    "text": "those like 10ish pockets and I you I",
    "start": "1151580",
    "end": "1154580"
  },
  {
    "text": "like to say left is like Hubble and",
    "start": "1154580",
    "end": "1156320"
  },
  {
    "text": "right is James Webb or something",
    "start": "1156320",
    "end": "1158840"
  },
  {
    "text": "um so this is just amazing right if you",
    "start": "1158840",
    "end": "1162020"
  },
  {
    "text": "look at this increase in resolution",
    "start": "1162020",
    "end": "1163400"
  },
  {
    "text": "where you can graphically see it for",
    "start": "1163400",
    "end": "1165140"
  },
  {
    "text": "humans this is what we want right so",
    "start": "1165140",
    "end": "1167419"
  },
  {
    "text": "this band for example this is where we",
    "start": "1167419",
    "end": "1169640"
  },
  {
    "text": "have this the smallest pockets in the",
    "start": "1169640",
    "end": "1171320"
  },
  {
    "text": "class against five milliseconds and",
    "start": "1171320",
    "end": "1173299"
  },
  {
    "text": "there are actually a lot of requests",
    "start": "1173299",
    "end": "1174500"
  },
  {
    "text": "that are faster than five milliseconds",
    "start": "1174500",
    "end": "1176299"
  },
  {
    "text": "it all ends on this band",
    "start": "1176299",
    "end": "1178160"
  },
  {
    "text": "and here the five millisecond line is",
    "start": "1178160",
    "end": "1180559"
  },
  {
    "text": "approximately here you see those",
    "start": "1180559",
    "end": "1181880"
  },
  {
    "text": "exponential Pockets nicely and you see",
    "start": "1181880",
    "end": "1184100"
  },
  {
    "text": "there is a whole story going on in this",
    "start": "1184100",
    "end": "1185960"
  },
  {
    "text": "five millisecond band right and it's all",
    "start": "1185960",
    "end": "1188299"
  },
  {
    "text": "resolved it's like it's beautiful",
    "start": "1188299",
    "end": "1191240"
  },
  {
    "text": "um to be fair the this is a very long",
    "start": "1191240",
    "end": "1194059"
  },
  {
    "text": "Theory right it's a heat map over the",
    "start": "1194059",
    "end": "1196820"
  },
  {
    "text": "whole like expert experiment a duration",
    "start": "1196820",
    "end": "1199580"
  },
  {
    "text": "of 15 days and it's aggregating all the",
    "start": "1199580",
    "end": "1202700"
  },
  {
    "text": "2X x queries so it takes a long time you",
    "start": "1202700",
    "end": "1205160"
  },
  {
    "text": "in practice you'll probably want a",
    "start": "1205160",
    "end": "1206539"
  },
  {
    "text": "recording Rule and it takes like twice",
    "start": "1206539",
    "end": "1208580"
  },
  {
    "text": "as long for the native histograms but",
    "start": "1208580",
    "end": "1211340"
  },
  {
    "text": "this is really heavy lifting right and",
    "start": "1211340",
    "end": "1212960"
  },
  {
    "text": "you get a lot of reward okay I think we",
    "start": "1212960",
    "end": "1216080"
  },
  {
    "text": "are done here this is everything in",
    "start": "1216080",
    "end": "1218120"
  },
  {
    "text": "production if you want to know the",
    "start": "1218120",
    "end": "1219679"
  },
  {
    "text": "backgrounds I said watch the other talks",
    "start": "1219679",
    "end": "1221480"
  },
  {
    "text": "but the good news is it works and it's",
    "start": "1221480",
    "end": "1224120"
  },
  {
    "text": "beautiful and it performs nicely thank",
    "start": "1224120",
    "end": "1226400"
  },
  {
    "text": "you",
    "start": "1226400",
    "end": "1228520"
  },
  {
    "text": "foreign",
    "start": "1233000",
    "end": "1235960"
  }
]