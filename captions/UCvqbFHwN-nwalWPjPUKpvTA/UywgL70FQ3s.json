[
  {
    "start": "0",
    "end": "30000"
  },
  {
    "text": "so user interaction in social data tell us a great deal about the real world by",
    "start": "30",
    "end": "6029"
  },
  {
    "text": "understanding the time-dependent nature around the discussions in social media and public web we're able to get being",
    "start": "6029",
    "end": "12809"
  },
  {
    "text": "able to identify and even sometimes predict important real-world trends today",
    "start": "12809",
    "end": "18539"
  },
  {
    "text": "Christophe and I Eric are here to talk about project Fortis which is spirited towards accelerating humanitarian relief",
    "start": "18539",
    "end": "24869"
  },
  {
    "text": "all powered by kubernetes just a brief",
    "start": "24869",
    "end": "30689"
  },
  {
    "start": "30000",
    "end": "193000"
  },
  {
    "text": "introduction of myself my name's Eric Schlegel I'm a principal engineer for Microsoft and we're gonna team called",
    "start": "30689",
    "end": "36719"
  },
  {
    "text": "the commercial software engineering team my passion in terms of the projects I'd like to work on is how we can use",
    "start": "36719",
    "end": "43260"
  },
  {
    "text": "emerging technologies to help accelerate Microsoft's most innovative partners and",
    "start": "43260",
    "end": "49829"
  },
  {
    "text": "I'm Christoph said Kooiman engineer on Eric's team I'm kind of like you would think up these the chronic early adopter",
    "start": "49829",
    "end": "56039"
  },
  {
    "text": "there's just something about working with undocumented software that attracts me I'm not sure what it is but I keep",
    "start": "56039",
    "end": "63090"
  },
  {
    "text": "doing and I've been doing it for many many years you'll find most of my my current work you can reach me on twitter",
    "start": "63090",
    "end": "72450"
  },
  {
    "text": "SC the architect as eric mentioned we work on a team",
    "start": "72450",
    "end": "78500"
  },
  {
    "text": "now our Charter is about unlocking and accelerating innovation with also two we",
    "start": "82230",
    "end": "90850"
  },
  {
    "text": "get to work with small startups we get to work the larger enterprises we get",
    "start": "90850",
    "end": "96990"
  },
  {
    "text": "like the United Nations and then this project will showcase some of that work this talk was but showcase some of that",
    "start": "96990",
    "end": "103330"
  },
  {
    "text": "work and but we don't just engage with those customers the only stream that we",
    "start": "103330",
    "end": "117880"
  },
  {
    "text": "have that comes attached to engagement",
    "start": "117880",
    "end": "121770"
  },
  {
    "text": "that we can work on together so the",
    "start": "138450",
    "end": "144250"
  },
  {
    "text": "project for DES story started a little over a year and a half ago through collaboration with United Nations",
    "start": "144250",
    "end": "149430"
  },
  {
    "text": "specifically a team called ogia and this team this part of the UN is responsible",
    "start": "149430",
    "end": "155590"
  },
  {
    "text": "for providing humanitarian relief for those that are in vulnerable need that",
    "start": "155590",
    "end": "161200"
  },
  {
    "text": "are a mist of humanitarian crisis and trying to provide that aid as quickly as",
    "start": "161200",
    "end": "166510"
  },
  {
    "text": "possible so to focus on a targeted scenario that they had that at the time",
    "start": "166510",
    "end": "173140"
  },
  {
    "text": "was a post Gadhafi situation the refugee displacement situation in Libya and",
    "start": "173140",
    "end": "179280"
  },
  {
    "text": "their main their main focus at that point was trying to get more insight",
    "start": "179280",
    "end": "184570"
  },
  {
    "text": "around refugee displacement terrorist attacks famine that was occurring in that area",
    "start": "184570",
    "end": "192239"
  },
  {
    "start": "193000",
    "end": "228000"
  },
  {
    "text": "so at the time their current process for trying to assess what the humanitarian",
    "start": "193440",
    "end": "200520"
  },
  {
    "text": "situation was at the time was trying to manually grab at the time was trying to",
    "start": "200520",
    "end": "207570"
  },
  {
    "text": "manually collect information related to a specific target set of topics in the",
    "start": "207570",
    "end": "213750"
  },
  {
    "text": "area so they were collecting Twitter feeds Facebook feeds public news sites",
    "start": "213750",
    "end": "220050"
  },
  {
    "text": "listen to radio broadcasts now this process was happening every single day by feet on the ground and with this",
    "start": "220050",
    "end": "229410"
  },
  {
    "start": "228000",
    "end": "273000"
  },
  {
    "text": "manual nature process the eight plans became imprecise because the turnaround",
    "start": "229410",
    "end": "235860"
  },
  {
    "text": "time it took by the time that you actually collected this information and we're to able to assess the impact that",
    "start": "235860",
    "end": "242190"
  },
  {
    "text": "was going on on the ground was was a huge challenge at the time so the other",
    "start": "242190",
    "end": "249420"
  },
  {
    "text": "look obvious challenge is the amount of data sources that had to be manually curated and in areas like Benghazi the",
    "start": "249420",
    "end": "259019"
  },
  {
    "text": "availability is is quite an accessible because of the the tumultuous situation",
    "start": "259020",
    "end": "264870"
  },
  {
    "text": "that was happening there so that team was operating out of Cairo because it was the closest place that they could access so with Project Fortis the main",
    "start": "264870",
    "end": "277919"
  },
  {
    "start": "273000",
    "end": "328000"
  },
  {
    "text": "goal at the time was how do we accelerate the aid planning process well",
    "start": "277919",
    "end": "283200"
  },
  {
    "text": "one is to sit down with the operations team in Cairo and figure out what types",
    "start": "283200",
    "end": "288660"
  },
  {
    "text": "of data sources they were collecting so what we did was we figured okay if you",
    "start": "288660",
    "end": "294000"
  },
  {
    "text": "were to go out if we were to listen to all those data streams Twitter public web radio and being able to collect all",
    "start": "294000",
    "end": "301680"
  },
  {
    "text": "that information and then being able to use a variety of different machine learning and NLP technologies and",
    "start": "301680",
    "end": "307380"
  },
  {
    "text": "approaches to be able to do topical extraction off of that data as well as",
    "start": "307380",
    "end": "313140"
  },
  {
    "text": "to be able to identify the location that people are talking about extract the sentiment from the conversation being",
    "start": "313140",
    "end": "319890"
  },
  {
    "text": "able to extract what organizations being mentioned what person what what event so",
    "start": "319890",
    "end": "324900"
  },
  {
    "text": "the idea was that we would want to be able to identify",
    "start": "324900",
    "end": "330830"
  },
  {
    "text": "atypical increases of mentions within those channels of information and then",
    "start": "330830",
    "end": "336330"
  },
  {
    "text": "being able to provide that level of insight to the aid planners so they can make an appropriate decision in terms of",
    "start": "336330",
    "end": "342270"
  },
  {
    "text": "where they want to send their aid workers timing is a timing as it was",
    "start": "342270",
    "end": "349920"
  },
  {
    "text": "absolutely critical for our use case so we wanted to build a data processing pipeline that was as near real time as",
    "start": "349920",
    "end": "355710"
  },
  {
    "text": "possible with Fordyce we were able to do a turnaround time in less than 15",
    "start": "355710",
    "end": "361920"
  },
  {
    "text": "seconds in terms of when an event is actually tweeted to the time that we're able to process it aggregate it and be",
    "start": "361920",
    "end": "368490"
  },
  {
    "text": "able to provide it on the dashboard so what we wanted to do is build something",
    "start": "368490",
    "end": "375930"
  },
  {
    "start": "372000",
    "end": "440000"
  },
  {
    "text": "that's repeatable something that's adaptable to other scenarios so we then",
    "start": "375930",
    "end": "381150"
  },
  {
    "text": "take the we took the same exact forward a solution and we repurpose it through a collaboration with amia University in",
    "start": "381150",
    "end": "387540"
  },
  {
    "text": "wohl to help identify and predict where Zika virus was spreading so the way we",
    "start": "387540",
    "end": "394170"
  },
  {
    "text": "did that was we took a look at weather forecast data to try to predict where",
    "start": "394170",
    "end": "399630"
  },
  {
    "text": "mosquitoes were migrating towards to then inference where whether those",
    "start": "399630",
    "end": "404700"
  },
  {
    "text": "regions those areas or high-risk sounds then layering in the social media data",
    "start": "404700",
    "end": "411270"
  },
  {
    "text": "that we that we currently have on top of that that whether the weather pattern",
    "start": "411270",
    "end": "416520"
  },
  {
    "text": "data we're able to then assess if people are talking about fever or you know Zika",
    "start": "416520",
    "end": "422220"
  },
  {
    "text": "like symptoms and there's a high level of confidence that Zika is in this place and then you could also layer in things",
    "start": "422220",
    "end": "429060"
  },
  {
    "text": "like interventions where you have health workers that are actually in there",
    "start": "429060",
    "end": "434790"
  },
  {
    "text": "trying to try to remediate that that the disease so just to talk a bit about the",
    "start": "434790",
    "end": "442980"
  },
  {
    "start": "440000",
    "end": "479000"
  },
  {
    "text": "functional architecture of fortis so we build streaming connectors all base off spark where we started collecting we",
    "start": "442980",
    "end": "449760"
  },
  {
    "text": "built real-time streams off of things like Twitter Facebook even Instagram and",
    "start": "449760",
    "end": "456169"
  },
  {
    "text": "RSS feeds and then also bring your own data source with so that if there's custom data you could",
    "start": "456169",
    "end": "462570"
  },
  {
    "text": "just pump it into Kafka and repeat into the pipeline and the other really cool thing we did was we actually also tapped",
    "start": "462570",
    "end": "467970"
  },
  {
    "text": "into radio feeds so taking real-time audio streams that are coming in",
    "start": "467970",
    "end": "472980"
  },
  {
    "text": "converting that to text and then being able to do any extraction off of that",
    "start": "472980",
    "end": "478760"
  },
  {
    "start": "479000",
    "end": "541000"
  },
  {
    "text": "so our kubernetes cluster is running on Azure off of Azure container services",
    "start": "479270",
    "end": "486180"
  },
  {
    "text": "and we're using spark streaming so the data stream will come in we would then",
    "start": "486180",
    "end": "492060"
  },
  {
    "text": "distribute that data through through spark RDD partitioning then based on the",
    "start": "492060",
    "end": "498330"
  },
  {
    "text": "events that people are talking about we would then run some and the extractors",
    "start": "498330",
    "end": "503850"
  },
  {
    "text": "to trying to figure out mentioned places even down to a street level or a corner",
    "start": "503850",
    "end": "509040"
  },
  {
    "text": "or a district or administrative boundary and then we would tag the event to that",
    "start": "509040",
    "end": "514320"
  },
  {
    "text": "place so we then took a time series representation saying okay take a",
    "start": "514320",
    "end": "519450"
  },
  {
    "text": "snapshot per minute per hour per day per week per month per quarter of figuring",
    "start": "519450",
    "end": "524700"
  },
  {
    "text": "out what was what was the context of the discussion across all these verticals this way that we once we index it by geo",
    "start": "524700",
    "end": "532680"
  },
  {
    "text": "tiles we're able to get both a spatial and a time-dependent view on a set of",
    "start": "532680",
    "end": "538650"
  },
  {
    "text": "topics and entities by using a variety of different cognitive services for",
    "start": "538650",
    "end": "545100"
  },
  {
    "start": "541000",
    "end": "581000"
  },
  {
    "text": "speech analytics and text analytics for sentiment we then used Lucene to do the",
    "start": "545100",
    "end": "551910"
  },
  {
    "text": "to do the the entity the entity recognizer so we built a whole bunch of",
    "start": "551910",
    "end": "557040"
  },
  {
    "text": "analyzers with inspark we filter the content based on a geofence that the user defined and then we push the data",
    "start": "557040",
    "end": "563760"
  },
  {
    "text": "into Cassandra that data would then be served on an administrative dashboard for in a user dashboard and the backend",
    "start": "563760",
    "end": "571350"
  },
  {
    "text": "API is will be all based on graph QL and the reason why we did that is because we want to give the end-user the flexibility to query the data however",
    "start": "571350",
    "end": "577320"
  },
  {
    "text": "they want so our solution was built on on",
    "start": "577320",
    "end": "584890"
  },
  {
    "start": "581000",
    "end": "610000"
  },
  {
    "text": "kubernetes we wanted to run spark on kubernetes and the main driver for why we wanted to do that is because we",
    "start": "584890",
    "end": "591820"
  },
  {
    "text": "wanted to increase the resource utilization of all of our pods we didn't want to have a VM just stood up to run a",
    "start": "591820",
    "end": "598750"
  },
  {
    "text": "single spark worker we wanted to be able to maximize all the nodes we have within",
    "start": "598750",
    "end": "603790"
  },
  {
    "text": "our cluster we wanted to be able to decrease our operational cost as much as possible",
    "start": "603790",
    "end": "610259"
  },
  {
    "start": "610000",
    "end": "677000"
  },
  {
    "text": "simplified deployment model as well so we are so one one of the great",
    "start": "611710",
    "end": "617140"
  },
  {
    "text": "advancements that's happening within the spark and kubernetes space is a project called spark native we have a bunch of",
    "start": "617140",
    "end": "623170"
  },
  {
    "text": "open source contributors that originated from Bloomberg and Palantir and a bunch of other companies as well and what this",
    "start": "623170",
    "end": "629110"
  },
  {
    "text": "is is it's a it's a it's a framework that allows you it's a plug-in framework that's they forked spark so that it's a",
    "start": "629110",
    "end": "637060"
  },
  {
    "text": "back-end scheduler where they had they're able to talk directly to kubernetes and schedule pods and",
    "start": "637060",
    "end": "643300"
  },
  {
    "text": "elastically scale out the number of workers depending on the the the",
    "start": "643300",
    "end": "648460"
  },
  {
    "text": "depending on how that spark job is progressing so they provide a shuffle service were they able to automatically",
    "start": "648460",
    "end": "654280"
  },
  {
    "text": "scale that out and they provide a staging server where you're able to containerize your your underlying data",
    "start": "654280",
    "end": "660970"
  },
  {
    "text": "sources your underlying spark files so the great thing about that is when you",
    "start": "660970",
    "end": "666190"
  },
  {
    "text": "submit your spark job you specify your kubernetes end point and then kubernetes acts as your your driver so the whole",
    "start": "666190",
    "end": "672160"
  },
  {
    "text": "concept of the master pod within spark completely goes away we also the the",
    "start": "672160",
    "end": "679480"
  },
  {
    "start": "677000",
    "end": "692000"
  },
  {
    "text": "other big driver for using kubernetes for spark was helm so being able to have one single convention for deploying our",
    "start": "679480",
    "end": "686110"
  },
  {
    "text": "stack as well as deus for serving graph QL and our react endpoint the",
    "start": "686110",
    "end": "693430"
  },
  {
    "start": "692000",
    "end": "732000"
  },
  {
    "text": "streamlined developer experience the coop CTL so one-to-one CLI to monitor entire cluster and high availability",
    "start": "693430",
    "end": "699040"
  },
  {
    "text": "with with with this allow this freed us from having to use ooh keeper and",
    "start": "699040",
    "end": "704170"
  },
  {
    "text": "minimize our our our operational management stack and then the ability to",
    "start": "704170",
    "end": "710080"
  },
  {
    "text": "elastically scale out our our workers via the coop CTL max replicas and then also simplified",
    "start": "710080",
    "end": "718370"
  },
  {
    "text": "our DevOps with being able to leverage tools like Prometheus and spark and spark - and the kubernetes dashboard to",
    "start": "718370",
    "end": "725000"
  },
  {
    "text": "monitor and log and to raise events in certain scenarios so it just to talk",
    "start": "725000",
    "end": "734480"
  },
  {
    "start": "732000",
    "end": "882000"
  },
  {
    "text": "through a bit over the 12 the deployment model all the code that with four days",
    "start": "734480",
    "end": "739970"
  },
  {
    "text": "is all open source so the way that we deploy a spark job is once you cut a new release on github we that kicks off at",
    "start": "739970",
    "end": "746029"
  },
  {
    "text": "Travis CI build we then use simple build tool assembly to generate the fat jar we take that fat jar and then we posted the",
    "start": "746029",
    "end": "752750"
  },
  {
    "text": "blob storage and Chrysostom to talk more about come through now next time then I",
    "start": "752750",
    "end": "761630"
  },
  {
    "text": "can go so for the kubernetes part of the",
    "start": "761630",
    "end": "766810"
  },
  {
    "text": "conversation first of all working on a project like this that's deployed by the",
    "start": "766810",
    "end": "773990"
  },
  {
    "text": "United Nations I think is a real it's a real way for us to make a difference so",
    "start": "773990",
    "end": "779390"
  },
  {
    "text": "it's it's quite a piece of pride that we get to present here on the kubernetes side the we've we've worked on on the",
    "start": "779390",
    "end": "788480"
  },
  {
    "text": "deployment quite a bit we started with the helm charts that you find on on the kubernetes repo but now you made some of",
    "start": "788480",
    "end": "797120"
  },
  {
    "text": "some interesting modifications to meet our needs as as Eric mentioned density",
    "start": "797120",
    "end": "802190"
  },
  {
    "text": "and just resource utilization was one of our goals so we're deploying to two",
    "start": "802190",
    "end": "807620"
  },
  {
    "text": "namespaces into into a single cluster we have one namespace for SPARC we have one",
    "start": "807620",
    "end": "813589"
  },
  {
    "text": "namespace for Cassandra we modified the templates a little bit on the SPARC side we upgraded to the latest version 2.2",
    "start": "813589",
    "end": "821810"
  },
  {
    "text": "we're eyeing 2.3 at the moment so so we have spark streaming and all the latest features available and we also made some",
    "start": "821810",
    "end": "828740"
  },
  {
    "text": "some changes in order to be able to kick off jobs as we launch the applications",
    "start": "828740",
    "end": "834260"
  },
  {
    "text": "so if you go to our our catalyst code repo you will find it a chart that has",
    "start": "834260",
    "end": "839630"
  },
  {
    "text": "those modifications but from a spark perspective we run a single master that",
    "start": "839630",
    "end": "844880"
  },
  {
    "text": "we kick off as a deployment then we have a stateful set of worker nodes work yeah they're",
    "start": "844880",
    "end": "852230"
  },
  {
    "text": "executors and that run the spike jobs we also have the Cassandra nodes running in",
    "start": "852230",
    "end": "857690"
  },
  {
    "text": "the cluster and with Cassandra we optimized to charge mostly with an eye on high availability within within",
    "start": "857690",
    "end": "865010"
  },
  {
    "text": "kubernetes um and optimizing that for how things run in Azure we're also using",
    "start": "865010",
    "end": "870920"
  },
  {
    "text": "stateful sets here because the the pod identity becomes very interesting when",
    "start": "870920",
    "end": "877040"
  },
  {
    "text": "you try try to discover services and we'll talk about that in a second who's",
    "start": "877040",
    "end": "883970"
  },
  {
    "text": "been the keynote this morning everybody everybody so Kelsey Kelsey was asking about spinning up kubernetes jobs",
    "start": "883970",
    "end": "890930"
  },
  {
    "text": "kubernetes clusters he made it sound like a big deal because we use um",
    "start": "890930",
    "end": "896240"
  },
  {
    "start": "893000",
    "end": "973000"
  },
  {
    "text": "the Azure container service and for the Azure container service some spinning up a cluster is kind of a one command line",
    "start": "896240",
    "end": "902840"
  },
  {
    "text": "kind of kind of a deal do you type a bunch of letters and you wait five minutes and you have a cluster so the",
    "start": "902840",
    "end": "912020"
  },
  {
    "text": "azor container service is what we use then we actually use a derivative of that it's a way to spin up a cluster but that",
    "start": "912020",
    "end": "919340"
  },
  {
    "text": "is your cluster it's not managed by Microsoft you're you have some control",
    "start": "919340",
    "end": "924470"
  },
  {
    "text": "over the configuration it has let's say reasonable defaults for networking for",
    "start": "924470",
    "end": "930410"
  },
  {
    "text": "the distros for and and then so on but if if you have advanced configuration",
    "start": "930410",
    "end": "936980"
  },
  {
    "text": "needs like so some of our customers do for example they want to run a GPU",
    "start": "936980",
    "end": "942280"
  },
  {
    "text": "enabled VM or they have a very special distro that they want to run on they",
    "start": "942280",
    "end": "947870"
  },
  {
    "text": "have a I don't know a special version of Korres for example we also have what we",
    "start": "947870",
    "end": "952940"
  },
  {
    "text": "call the ACS engine that is a way to run a provision very advanced configurations",
    "start": "952940",
    "end": "958760"
  },
  {
    "text": "of of kubernetes clusters all the way down to controlling the pod cider so",
    "start": "958760",
    "end": "965180"
  },
  {
    "text": "that the service networks and so on so you get to customize the address space which we also did for something we're",
    "start": "965180",
    "end": "971540"
  },
  {
    "text": "going to talk about in a second you may have heard just a little plug for our",
    "start": "971540",
    "end": "976730"
  },
  {
    "start": "973000",
    "end": "1092000"
  },
  {
    "text": "employer we have the AKS the azure container service but the cake not with a see this is a fully managed",
    "start": "976730",
    "end": "985970"
  },
  {
    "text": "service where Microsoft will maintain the operating system the kubernetes",
    "start": "985970",
    "end": "991699"
  },
  {
    "text": "runtime and they won't even charge you for the Masters so you just pay for the agent notes so much for that",
    "start": "991699",
    "end": "999100"
  },
  {
    "text": "Sokka says so kubernetes for us is a just yeah standing up the cluster is the",
    "start": "999100",
    "end": "1005220"
  },
  {
    "text": "smallest of all our voice um we did some extensive research on how we how we",
    "start": "1005220",
    "end": "1011319"
  },
  {
    "text": "configure the cluster um for from a networking and benchmarking perspective",
    "start": "1011319",
    "end": "1017499"
  },
  {
    "text": "and about this its reformatted again um the benchmark that we're running is",
    "start": "1017499",
    "end": "1024480"
  },
  {
    "text": "taking activity data so data about people going on runs and bicycle trails",
    "start": "1024480",
    "end": "1029890"
  },
  {
    "text": "and stuff like that and produces heat maps from that so here on the slide you see heat maps for people going running",
    "start": "1029890",
    "end": "1037029"
  },
  {
    "text": "or bicycling in Austin it's a rather large data set that we use to benchmark and we have a configuration that",
    "start": "1037029",
    "end": "1044279"
  },
  {
    "text": "exercises the network and and avoids resource contention so we have a",
    "start": "1044279",
    "end": "1050100"
  },
  {
    "text": "kubernetes cluster where we run spark and we have virtual machines where we",
    "start": "1050100",
    "end": "1055240"
  },
  {
    "text": "run Kassandra of course they're connected via the network and we the",
    "start": "1055240",
    "end": "1060580"
  },
  {
    "text": "azure see and I plug in that was fairly new and throughout our project it came out sometime this summer we wanted to",
    "start": "1060580",
    "end": "1067659"
  },
  {
    "text": "compare that to calico which which many of our customers were using so we still",
    "start": "1067659",
    "end": "1074350"
  },
  {
    "text": "get a good good performance advantage out of the addressee and I have about ten fifteen percent which is kind of",
    "start": "1074350",
    "end": "1079840"
  },
  {
    "text": "what what people expect when when you compare native networking to two calico so um we were quite happy that this was",
    "start": "1079840",
    "end": "1088570"
  },
  {
    "text": "indeed the result that we expected going into the benchmark um so our cluster is",
    "start": "1088570",
    "end": "1094419"
  },
  {
    "start": "1092000",
    "end": "1266000"
  },
  {
    "text": "now configured for running as a C and I we also did quite a bit of work around",
    "start": "1094419",
    "end": "1101020"
  },
  {
    "text": "high availability but specifically with the with regards to the Cassandra setup and now you're probably familiar with",
    "start": "1101020",
    "end": "1108970"
  },
  {
    "text": "the the concept of fault domains where your cloud provider will make sure that",
    "start": "1108970",
    "end": "1114520"
  },
  {
    "text": "your machines are truly highly available because when we provision for high",
    "start": "1114520",
    "end": "1119649"
  },
  {
    "text": "availability we typically say okay I'm kind of provision more than one maybe two or three virtual machines and we",
    "start": "1119649",
    "end": "1127419"
  },
  {
    "text": "hope that things go right now there's a little bit of trickery to that because if you imagine you have three virtual",
    "start": "1127419",
    "end": "1133659"
  },
  {
    "text": "machines and they all run in the same rack and that one rack has a problem",
    "start": "1133659",
    "end": "1139179"
  },
  {
    "text": "like somebody trips over the power cord hopefully not or the top of racks which",
    "start": "1139179",
    "end": "1145509"
  },
  {
    "text": "goes bad then all three VMs would be unavailable in your application would essentially be be not there the same is",
    "start": "1145509",
    "end": "1152980"
  },
  {
    "text": "true for containers the way we're placing containers in the cluster and I",
    "start": "1152980",
    "end": "1159489"
  },
  {
    "text": "had this conversation very recently with with a an engineer over at mrs. fear",
    "start": "1159489",
    "end": "1165119"
  },
  {
    "text": "just because you're deploying more than one replica into a container doesn't",
    "start": "1165119",
    "end": "1170950"
  },
  {
    "text": "necessarily mean that you're highly available because or into a cluster doesn't necessarily mean you're highly",
    "start": "1170950",
    "end": "1176409"
  },
  {
    "text": "available because even if you have three replicas of let's say Cassandra running",
    "start": "1176409",
    "end": "1182499"
  },
  {
    "text": "of all of those replicas were running in the same rack and that rack has a",
    "start": "1182499",
    "end": "1188529"
  },
  {
    "text": "problem then you still have an issue and the high availability setup wasn't as",
    "start": "1188529",
    "end": "1194499"
  },
  {
    "text": "good as it should have been so what we did Cassandra has some built-in high",
    "start": "1194499",
    "end": "1199659"
  },
  {
    "text": "availability features that when you tell Cassandra where the racks are and where",
    "start": "1199659",
    "end": "1207850"
  },
  {
    "text": "where the data centers are it will automatically place data across the ring",
    "start": "1207850",
    "end": "1214889"
  },
  {
    "text": "so that even if a single node has a failure all the data is replicated across the ring we also had some extra",
    "start": "1214889",
    "end": "1222330"
  },
  {
    "text": "setup in the in the chart they were made sure that we only have one Cassandra",
    "start": "1222330",
    "end": "1229379"
  },
  {
    "text": "kind of Cassandra pod running on each node just to make sure we have we don't",
    "start": "1229379",
    "end": "1235389"
  },
  {
    "text": "have duplication and we truly have the key space replicated across the entire cluster multiple times the the feature",
    "start": "1235389",
    "end": "1243039"
  },
  {
    "text": "in Cassandra is the gossiping property file snitch I think it's a great word that we",
    "start": "1243039",
    "end": "1249850"
  },
  {
    "text": "configured if you running where they they'll be configured in a custom custom",
    "start": "1249850",
    "end": "1255610"
  },
  {
    "text": "container image that we have out on on docker hub right now ec2 has their own snitch and we should",
    "start": "1255610",
    "end": "1261309"
  },
  {
    "text": "probably write our own at some point but for Azure this works actually quite well",
    "start": "1261309",
    "end": "1266429"
  },
  {
    "start": "1266000",
    "end": "1352000"
  },
  {
    "text": "so this enabled us to do a a multi Azure data center set up for for high",
    "start": "1266429",
    "end": "1272559"
  },
  {
    "text": "availability we can now take that container because it has the data center",
    "start": "1272559",
    "end": "1279130"
  },
  {
    "text": "information and the rack information baked into each Cassandra image I can",
    "start": "1279130",
    "end": "1284890"
  },
  {
    "text": "take that and deploy that into two data centers so I bring up two data centers",
    "start": "1284890",
    "end": "1291179"
  },
  {
    "text": "imma bring to kubernetes clusters I will then provision a single Cassandra",
    "start": "1291179",
    "end": "1298049"
  },
  {
    "text": "ring across those with a single line of script so that's actually kind of we",
    "start": "1298049",
    "end": "1303909"
  },
  {
    "text": "were quite proud to show that but not everybody wants to a Azure data centers",
    "start": "1303909",
    "end": "1311860"
  },
  {
    "text": "we have some customers that say ok we have actually our own data center that",
    "start": "1311860",
    "end": "1317470"
  },
  {
    "text": "we would like to do high availability and can you stand up a cluster that is a",
    "start": "1317470",
    "end": "1323380"
  },
  {
    "text": "would be a hybrid Cassandra ring over our on Prem bring their Cassandra that",
    "start": "1323380",
    "end": "1329080"
  },
  {
    "text": "we already have and extend that into the cloud and we can certainly do that with the networking connectivity features",
    "start": "1329080",
    "end": "1335230"
  },
  {
    "text": "that we have between a cloud provider and an azure so in this case it would be Ashley Express route that would connect",
    "start": "1335230",
    "end": "1341559"
  },
  {
    "text": "the on-prem environment and a cloud environment to form a single network and",
    "start": "1341559",
    "end": "1346600"
  },
  {
    "text": "then we can bring up Cassandra on those on the to true clouds the last one we",
    "start": "1346600",
    "end": "1354610"
  },
  {
    "start": "1352000",
    "end": "1592000"
  },
  {
    "text": "thought we show is our our work in progress and we learned in the keynote this morning that a multi cloud this is",
    "start": "1354610",
    "end": "1361090"
  },
  {
    "text": "a big deal so we were looking at like yeah that's that's actually what we've",
    "start": "1361090",
    "end": "1366190"
  },
  {
    "text": "been working on so we have been experimenting with a multi cloud setup",
    "start": "1366190",
    "end": "1372159"
  },
  {
    "text": "for Cassandra taking a the half the cluster in an",
    "start": "1372159",
    "end": "1377780"
  },
  {
    "text": "and half the cluster in another cloud and AWS and connected those two via via",
    "start": "1377780",
    "end": "1383870"
  },
  {
    "text": "a VPN connection and then bootstrapped our Cassandra cluster just to see how it works so the good news is the the very",
    "start": "1383870",
    "end": "1392810"
  },
  {
    "text": "good news is I can actually show this because it it did work see if I can show",
    "start": "1392810",
    "end": "1401180"
  },
  {
    "text": "this so here we have terminals of why",
    "start": "1401180",
    "end": "1408800"
  },
  {
    "text": "not here we don't have yes here we have",
    "start": "1408800",
    "end": "1417940"
  },
  {
    "text": "SSH connections into two different defend and virtual machines one is",
    "start": "1420010",
    "end": "1426950"
  },
  {
    "text": "running in Azure the left on the right one is running in AWS just to make sure you you believe me I can actually go to",
    "start": "1426950",
    "end": "1436280"
  },
  {
    "text": "I can go to the metadata service and",
    "start": "1436280",
    "end": "1441560"
  },
  {
    "text": "this looks very much like an azure VM that's running in in our West US region",
    "start": "1441560",
    "end": "1447410"
  },
  {
    "text": "I can do with the same over here and you",
    "start": "1447410",
    "end": "1453740"
  },
  {
    "text": "see this this is truly it's just type",
    "start": "1453740",
    "end": "1464140"
  },
  {
    "text": "this type yes so this is truly an AWS VM",
    "start": "1465409",
    "end": "1470809"
  },
  {
    "text": "the two are connected so if you actually if you can you see the IP address over",
    "start": "1470809",
    "end": "1477120"
  },
  {
    "text": "here I can actually say something like ping 172 trainee 51 31 and surprisingly",
    "start": "1477120",
    "end": "1496649"
  },
  {
    "text": "enough even though we're connecting in an azure data center to an AWS data center we have a latency for in the in",
    "start": "1496649",
    "end": "1505020"
  },
  {
    "text": "the tens of milliseconds so so that's that we feel quite confident it's good",
    "start": "1505020",
    "end": "1510149"
  },
  {
    "text": "enough to run a distributed cluster so if I look here I actually have Cassandra",
    "start": "1510149",
    "end": "1517950"
  },
  {
    "text": "deployed it's the same help chart that I have on my repo and I actually do have a",
    "start": "1517950",
    "end": "1526590"
  },
  {
    "text": "Cassandra pod running over here I do have",
    "start": "1526590",
    "end": "1532220"
  },
  {
    "text": "I do also have Cassandra pods running",
    "start": "1536080",
    "end": "1541179"
  },
  {
    "text": "over here and when I say something like",
    "start": "1541179",
    "end": "1547080"
  },
  {
    "text": "Cassandra Burnett check the status of my cluster you'll see I do have indeed I do",
    "start": "1547529",
    "end": "1553240"
  },
  {
    "text": "have indeed a data center a two data center cluster one here in AWS and one",
    "start": "1553240",
    "end": "1561130"
  },
  {
    "text": "and one-half of that in in our Azure data center so now I have a single distributed Cassandra ring across two",
    "start": "1561130",
    "end": "1569260"
  },
  {
    "text": "data centers see it just comes back and",
    "start": "1569260",
    "end": "1576269"
  },
  {
    "text": "so you may ask how we did this in the fused Federation the answer is not yet",
    "start": "1576960",
    "end": "1583950"
  },
  {
    "text": "currently because Federation is still a little bit early in its life cycle and",
    "start": "1583950",
    "end": "1589059"
  },
  {
    "text": "we try to do something that that was stable enough for customers to experiment with we actually are looking",
    "start": "1589059",
    "end": "1594279"
  },
  {
    "text": "for customers that would like to work with us on setups like that so if you if",
    "start": "1594279",
    "end": "1599769"
  },
  {
    "text": "you're interested in exploring multi cluster configurations or multi data center configurations multi-cloud",
    "start": "1599769",
    "end": "1606100"
  },
  {
    "text": "configurations or know as somebody that does we would absolutely love to work with you and as the as departing",
    "start": "1606100",
    "end": "1614070"
  },
  {
    "text": "fighting slide so to say everything we do is open and everything we do is on",
    "start": "1614070",
    "end": "1619330"
  },
  {
    "text": "github so the everything from the ingestion pipeline with SPARC and",
    "start": "1619330",
    "end": "1625269"
  },
  {
    "text": "Cassandra that is yours to stand up complete with the graph QL based on it",
    "start": "1625269",
    "end": "1630630"
  },
  {
    "text": "we have of course the multi data center multi-cloud configurations documented we",
    "start": "1630630",
    "end": "1636460"
  },
  {
    "text": "have to cross cloud networking documented and everything else we also expand on a site on Microsoft",
    "start": "1636460",
    "end": "1642100"
  },
  {
    "text": "comm called the developer blog so if you go to Microsoft comm slash developer blog you will find lots of information",
    "start": "1642100",
    "end": "1648909"
  },
  {
    "text": "about other projects that we're doing so not just the humanitarian but other other work that we've done with in the",
    "start": "1648909",
    "end": "1656919"
  },
  {
    "text": "areas of artificial intelligence computer vision blockchain machine",
    "start": "1656919",
    "end": "1662110"
  },
  {
    "text": "learning I mean pretty much anything that's interesting and and and a little bit out there right now is the stuff",
    "start": "1662110",
    "end": "1668409"
  },
  {
    "text": "that we work so yes look at the virtual guide dog so",
    "start": "1668409",
    "end": "1677110"
  },
  {
    "text": "using mixed reality - as a virtual guide dog was another project that we think is",
    "start": "1677110",
    "end": "1684650"
  },
  {
    "text": "very interesting and has a very nice human humanitarian aspect to it I don't",
    "start": "1684650",
    "end": "1689960"
  },
  {
    "text": "think we have five more minutes for questions so if you if you have any",
    "start": "1689960",
    "end": "1696559"
  },
  {
    "text": "please ask away no question but of",
    "start": "1696559",
    "end": "1707270"
  },
  {
    "text": "course yes",
    "start": "1707270",
    "end": "1712980"
  },
  {
    "text": "yes sure sure so we used there's a speech",
    "start": "1718360",
    "end": "1726610"
  },
  {
    "text": "SDK that comes with cognitive services we built a protocol on top of that where",
    "start": "1726610",
    "end": "1732519"
  },
  {
    "text": "we were doing real-time speech to text so the the API word speech text out",
    "start": "1732519",
    "end": "1739299"
  },
  {
    "text": "pretty much the the Cortana API ultimately so we integrated that in real",
    "start": "1739299",
    "end": "1745960"
  },
  {
    "text": "time with inspark so we built the whole sparks room connector around that the other one we used was sentiment at the",
    "start": "1745960",
    "end": "1752139"
  },
  {
    "text": "text analytics for sentiment analysis and then computer vision so what we did with that was for Instagram posts",
    "start": "1752139",
    "end": "1759129"
  },
  {
    "text": "whether it's pictures or video we would do object detection off of what is in",
    "start": "1759129",
    "end": "1764320"
  },
  {
    "text": "the video so you can imagine an Isis flag or ak-47 so being able to be able",
    "start": "1764320",
    "end": "1771129"
  },
  {
    "text": "to to tag that image as a piece of content that we were displaying for this",
    "start": "1771129",
    "end": "1777179"
  },
  {
    "text": "sure so what we did was we we have we",
    "start": "1787740",
    "end": "1793590"
  },
  {
    "text": "have a copy of OpenStreetMap and we use",
    "start": "1793590",
    "end": "1799100"
  },
  {
    "text": "you see to identify whatever mentioned places so once we have a mention place",
    "start": "1799100",
    "end": "1804480"
  },
  {
    "text": "we then geo tagged that event to the shape of that place so we then within within a spark job we",
    "start": "1804480",
    "end": "1814529"
  },
  {
    "text": "then partition that event to all those different tiles from say zoom level 8 to",
    "start": "1814529",
    "end": "1819750"
  },
  {
    "text": "18 so we're basically able to get a time and space representation of that event",
    "start": "1819750",
    "end": "1826799"
  },
  {
    "text": "and we store it in Cassandra is a as a spatial day as a spatial dataset",
    "start": "1826799",
    "end": "1831899"
  },
  {
    "text": "basically based on the tile ID and that's what tries to heat map",
    "start": "1831899",
    "end": "1837590"
  },
  {
    "text": "yeah so we were using stateful sets for our pods for the worker notes as part of",
    "start": "1852800",
    "end": "1859310"
  },
  {
    "text": "the helmet chart that we set up you can you can set that up with min Max replicas based on CPU limits but with",
    "start": "1859310",
    "end": "1868280"
  },
  {
    "text": "spark native that's already baked into the spark native engine itself and they're their scheduled service so what",
    "start": "1868280",
    "end": "1875360"
  },
  {
    "text": "they do is they take a look at all the tasks that have to get that they that",
    "start": "1875360",
    "end": "1880400"
  },
  {
    "text": "have to basically get scheduled out and they take a look at what the kubernetes load is and then they figure out exactly",
    "start": "1880400",
    "end": "1885920"
  },
  {
    "text": "if they have to create any more work with no pods but spark native according to the contributing cording to the",
    "start": "1885920",
    "end": "1892700"
  },
  {
    "text": "author's Park needing that they're trying to get that merged back into the upstream and spark 2.3 I don't know when",
    "start": "1892700",
    "end": "1898130"
  },
  {
    "text": "that's going to be fun so that crew binaries will be naturally integrate with spot",
    "start": "1898130",
    "end": "1904480"
  },
  {
    "text": "okay great well thank you all for attending [Applause]",
    "start": "1911310",
    "end": "1920049"
  }
]