[
  {
    "text": "so welcome to the Gateway API Workshop I'm Flynn and this is Mike I'm",
    "start": "320",
    "end": "6600"
  },
  {
    "text": "Mike I am a tech evangelist with buyant I work primarily with Linker in a past life I was also the original author of",
    "start": "6600",
    "end": "13360"
  },
  {
    "text": "The Emissary Ingress API Gateway and these days I work also with Gateway API",
    "start": "13360",
    "end": "18640"
  },
  {
    "text": "and I'm a co-lead for the gamma initiative over to Mike uh I'm a product",
    "start": "18640",
    "end": "24119"
  },
  {
    "text": "manager at Microsoft now uh I'm currently working on our Upstream Open Source service mesh team uh with uh ISO",
    "start": "24119",
    "end": "31480"
  },
  {
    "text": "and Gateway API I've been involved with the Gateway API project for over two years now and prior to that I was uh at",
    "start": "31480",
    "end": "38000"
  },
  {
    "text": "hash cor working on Console service mesh so been around the service mesh space for quite a bit and you also used to be",
    "start": "38000",
    "end": "43640"
  },
  {
    "text": "a co-lead of gamma yes yeah I I was one of the founding co-leads of gamma along with uh John Howard from Google and",
    "start": "43640",
    "end": "49079"
  },
  {
    "text": "Keith madx from Microsoft so what this means is that you have a couple of people up here who now work in marketing and management trying to talk to you",
    "start": "49079",
    "end": "55440"
  },
  {
    "text": "about technical things wish luck um I should also",
    "start": "55440",
    "end": "60840"
  },
  {
    "text": "apologize in advance if you see me making weird winsing faces or something it's because I broke this color bone a",
    "start": "60840",
    "end": "65880"
  },
  {
    "text": "week and a half ago it's not a commentary on Gateway API or because we broke our demo well we might have broken",
    "start": "65880",
    "end": "72759"
  },
  {
    "text": "the demo anyway I mean we'll find out um we also we haven't really gone through",
    "start": "72759",
    "end": "79479"
  },
  {
    "text": "and done a lot of workshops in this format before so on the one hand I don't",
    "start": "79479",
    "end": "85600"
  },
  {
    "text": "actually know if it's going to take an hour and a half to get through everything uh but you know feel free to",
    "start": "85600",
    "end": "91079"
  },
  {
    "text": "ask questions and I believe there are a couple of microphones out of the audience if you want to or just you know",
    "start": "91079",
    "end": "96439"
  },
  {
    "text": "yell out and we'll try to help people out um and if we finish early then we",
    "start": "96439",
    "end": "102439"
  },
  {
    "text": "finish early and that'll be great because that will mean that everything went swimmingly and it's really easy to",
    "start": "102439",
    "end": "108600"
  },
  {
    "text": "use so who are we here for yeah we're here for platform Engineers application",
    "start": "108600",
    "end": "115200"
  },
  {
    "text": "developers infrastructure people uh really",
    "start": "115200",
    "end": "120479"
  },
  {
    "text": "anybody who's trying to work with applications in kubernetes if you are doing applications",
    "start": "120479",
    "end": "127039"
  },
  {
    "text": "in kubernetes you will always have to solve problems that Gateway API is here to",
    "start": "127039",
    "end": "132360"
  },
  {
    "text": "solve if you are doing kubernetes and you're not doing it for the purpose of applications then I'm not sure what",
    "start": "132360",
    "end": "139120"
  },
  {
    "text": "you're doing exactly because nobody runs clusters just to say they're running the cluster everybody's trying to do",
    "start": "139120",
    "end": "144840"
  },
  {
    "text": "something with a cluster so that's what we're here to talk about and and one of the strengths of Gateway API is really",
    "start": "144840",
    "end": "150640"
  },
  {
    "text": "um that it's also for platform Engineers too so even if you're not running the applications yourself you can empower",
    "start": "150640",
    "end": "156519"
  },
  {
    "text": "the application developers on your team that you're building for to be able to do things autonomously like on their own",
    "start": "156519",
    "end": "162760"
  },
  {
    "text": "very much so on the agenda today we will talk about the Engish problem which is",
    "start": "162760",
    "end": "169720"
  },
  {
    "text": "separate from the Engish resource and separate from Engish controllers uh yeah",
    "start": "169720",
    "end": "175000"
  },
  {
    "text": "we'll talk about how Gateway API relates to the English problem and to service measures as well",
    "start": "175000",
    "end": "181159"
  },
  {
    "text": "uh then we're going to go in and we're going to do a workshop to let everybody get their hands dirty and hopefully",
    "start": "181159",
    "end": "188080"
  },
  {
    "text": "things will work you will need a kubernetes cluster",
    "start": "188080",
    "end": "193120"
  },
  {
    "text": "the two of us are running k3d because the two of us really wanted to set things up ahead of time to make sure",
    "start": "193120",
    "end": "199000"
  },
  {
    "text": "that it was going to work get our local development running with conference Wi-Fi um you don't have to use a k3d",
    "start": "199000",
    "end": "206360"
  },
  {
    "text": "cluster you can use your favorite cloud provider if you don't have a favorite cloud provider and you want to use the COO cluster there's a link up there",
    "start": "206360",
    "end": "212640"
  },
  {
    "text": "which you can get yourself set up for you will need Cube control you'll need",
    "start": "212640",
    "end": "217959"
  },
  {
    "text": "Helm we are going to demo things with the bat command which is just kind of a",
    "start": "217959",
    "end": "223319"
  },
  {
    "text": "more polite version of less uh if you don't have bat and you don't want to install it just type less",
    "start": "223319",
    "end": "230159"
  },
  {
    "text": "instead no big deal uh and yq shows up a couple times it's nice I use bad instead of cat it colorizes the output in",
    "start": "230159",
    "end": "236599"
  },
  {
    "text": "addition to a few and it also pages and it's just it's a nice tool it works out really nicely yq is a similar tool for",
    "start": "236599",
    "end": "243439"
  },
  {
    "text": "uh yaml so it can colorize you can filter it in the same way that like JQ works with Json",
    "start": "243439",
    "end": "249120"
  },
  {
    "text": "yep um the workshop is currently set up to download either the linkerd CLI or",
    "start": "249120",
    "end": "256680"
  },
  {
    "text": "the iso control CLI depending on your choice of service mesh as you go through the",
    "start": "256680",
    "end": "262320"
  },
  {
    "text": "workshop uh the workshop Source I apologize for not putting a QR code in there you can clone The Bu SL Gateway",
    "start": "262320",
    "end": "271639"
  },
  {
    "text": "API well or gamma Workshop see this is we moved the rep",
    "start": "271639",
    "end": "276840"
  },
  {
    "text": "last minute let's",
    "start": "276840",
    "end": "281759"
  },
  {
    "text": "uh there we go like I said Gateway API Workshop you can clone that and you will",
    "start": "282919",
    "end": "289840"
  },
  {
    "text": "see both all of the resources that we're using all of the scripting that we're using the readme is actually the",
    "start": "289840",
    "end": "297039"
  },
  {
    "text": "executable code we'll be going through um um so that's a good resource to",
    "start": "297039",
    "end": "302280"
  },
  {
    "text": "follow along or you can frantically try to type things while we're doing it on the screen is up to",
    "start": "302280",
    "end": "309520"
  },
  {
    "text": "you whatever you are doing though please make sure you have an empty",
    "start": "309520",
    "end": "317440"
  },
  {
    "text": "cluster I don't think that the workshop will necessarily break your production",
    "start": "317479",
    "end": "323360"
  },
  {
    "text": "cluster but I don't know let's not risk it let's not risk it let's let's just",
    "start": "323360",
    "end": "328840"
  },
  {
    "text": "not I I threw a little Cube cuddle cluster info in there at the very beginning just to make sure you're on",
    "start": "328840",
    "end": "334120"
  },
  {
    "text": "the right one yeah uh if you want to use AK 3D cluster for this there's a script",
    "start": "334120",
    "end": "339639"
  },
  {
    "text": "in the repo called create cluster. sh that will try to do the right thing for",
    "start": "339639",
    "end": "345600"
  },
  {
    "text": "you given that you are on conference Wi-Fi the right thing might be a little tricky to come by but you know we'll see",
    "start": "345600",
    "end": "352160"
  },
  {
    "text": "what happens uh and again if you want to use steo then that's the repeat of the",
    "start": "352160",
    "end": "357720"
  },
  {
    "text": "link okay",
    "start": "358000",
    "end": "361639"
  },
  {
    "text": "well let's talk a little bit about the Ingress",
    "start": "364000",
    "end": "367880"
  },
  {
    "text": "problem when you work with kubernetes you start off by getting a bunch of workloads running inside a cluster where",
    "start": "369919",
    "end": "377599"
  },
  {
    "text": "that's what your Cloud native application is and you will instantly run into this problem that your users",
    "start": "377599",
    "end": "385000"
  },
  {
    "text": "are outside of the cluster but your workloads are inside the cluster and one of the things that clusters try really",
    "start": "385000",
    "end": "391639"
  },
  {
    "text": "hard to do is to prevent people outside the cluster from messing with things inside the cluster this is the Engish",
    "start": "391639",
    "end": "398039"
  },
  {
    "text": "problem you have to have a way to let people use the things inside your cluster or what's the",
    "start": "398039",
    "end": "403960"
  },
  {
    "text": "point this is the first problem you're going to have to solve with Cloud native always so we tend to do this by sticking",
    "start": "403960",
    "end": "412440"
  },
  {
    "text": "some sort of a a thing right there on the edge of the of the cluster whose purpose in life is to provide you some",
    "start": "412440",
    "end": "419120"
  },
  {
    "text": "control over who can get through that boundary we refer to this thing as an",
    "start": "419120",
    "end": "425479"
  },
  {
    "text": "whoops as an Engish controller or you will see and some of the stuff we do here we talk about Gateway controllers",
    "start": "425479",
    "end": "432639"
  },
  {
    "text": "because Gateway API uses gateways as opposed to the old Engish resource but",
    "start": "432639",
    "end": "438000"
  },
  {
    "text": "that's its purpose in life is to provide you control and to be able to Route requests and do all of the fancy stuff",
    "start": "438000",
    "end": "443759"
  },
  {
    "text": "that you would like to do and to terminology can be a bit confusing um we will try to be explicit when we're",
    "start": "443759",
    "end": "450000"
  },
  {
    "text": "disambiguating between lowercase Ingress as in like the functionality of bringing",
    "start": "450000",
    "end": "455879"
  },
  {
    "text": "traffic into your cluster versus the capital I Ingress V1 kubernetes API uh",
    "start": "455879",
    "end": "461759"
  },
  {
    "text": "we'll go over some history of that in the beginning and then we'll move on mostly be talking about Gateway API I",
    "start": "461759",
    "end": "467280"
  },
  {
    "text": "was going to say I think these next couple of slides are the only places we talk about the capital ey Ingress",
    "start": "467280",
    "end": "472759"
  },
  {
    "text": "resource um back in the bad old days kubernetes invented this thing called",
    "start": "472759",
    "end": "478400"
  },
  {
    "text": "the Ingress resource with the intention of using it to solve the Ingress problem",
    "start": "478400",
    "end": "485800"
  },
  {
    "text": "and I think we can say at this removed that it didn't work that well it it has been widely used so because it's a",
    "start": "485800",
    "end": "493440"
  },
  {
    "text": "problem that everybody has yes it is everywhere and and we've seen the pain",
    "start": "493440",
    "end": "498680"
  },
  {
    "text": "points with it Ingress is actually a really nice example of the way",
    "start": "498680",
    "end": "505560"
  },
  {
    "text": "widespread use does not necessarily mean something is a well designed API for",
    "start": "505560",
    "end": "510680"
  },
  {
    "text": "that use uh we found that it had trouble with",
    "start": "510680",
    "end": "517320"
  },
  {
    "text": "standardization okay so I'm I apologize I was about to do the slide points out of order terribly sorry uh one problem",
    "start": "517919",
    "end": "525120"
  },
  {
    "text": "that we found with the old Ingress resource was that you tended to have one",
    "start": "525120",
    "end": "530320"
  },
  {
    "text": "or a small number of Ingress resources irrespective of how many workloads and",
    "start": "530320",
    "end": "535480"
  },
  {
    "text": "how many developers you had so it tended to be a major point of contention where a developer would want to go and",
    "start": "535480",
    "end": "542079"
  },
  {
    "text": "add a new workload and they would have to go edit the ing resource or they would have to ask their platform team",
    "start": "542079",
    "end": "549040"
  },
  {
    "text": "that carefully guards it because they don't trust any of their application teams not to screw it up yeah if you",
    "start": "549040",
    "end": "555160"
  },
  {
    "text": "have this one big centralized resource that controls a critical piece of functionality in your cluster the Ops",
    "start": "555160",
    "end": "561920"
  },
  {
    "text": "guys tend to get very paranoid about letting the developers mess with it and so this tended to make things",
    "start": "561920",
    "end": "568360"
  },
  {
    "text": "slow um Ingress also there were a lot of things it could not do so for example",
    "start": "568360",
    "end": "575360"
  },
  {
    "text": "there was at least a long time where it couldn't configure TLS termination and such and you know that's kind of basic",
    "start": "575360",
    "end": "583519"
  },
  {
    "text": "functionality you need this sort of thing so what ended up happening was that people just threw annotations at it",
    "start": "583519",
    "end": "590800"
  },
  {
    "text": "to deal with their particular iners controller and of course everybody did that in their own special snowflake",
    "start": "590800",
    "end": "596519"
  },
  {
    "text": "unique way oh yeah so we ended up with uh I think Nick is fond of calling it",
    "start": "596519",
    "end": "602399"
  },
  {
    "text": "the wild west of annotations yep y um yeah the this is actually a big reason",
    "start": "602399",
    "end": "608160"
  },
  {
    "text": "why Gateway API does not use annotations for things because some of the Gateway API maintainers were so badly burned by",
    "start": "608160",
    "end": "616240"
  },
  {
    "text": "annotations on the Ingress resource so overall the Ingress resource",
    "start": "616240",
    "end": "623800"
  },
  {
    "text": "both helped to solve the ingis problem and created another raft of different",
    "start": "623800",
    "end": "631800"
  },
  {
    "text": "problems so go ahead go go back one second yeah so so another part of it was",
    "start": "631800",
    "end": "637959"
  },
  {
    "text": "just there was poor extensibility mechanisms and that's why people were resorting to these annotations is there",
    "start": "637959",
    "end": "643240"
  },
  {
    "text": "was no structured way to be able to extend it so that was like definitely another guidan principle in the design",
    "start": "643240",
    "end": "649399"
  },
  {
    "text": "of Gateway API is knowing that we can't build one API that will solve everything",
    "start": "649399",
    "end": "656360"
  },
  {
    "text": "so finding better ways to enable that extent ibility in a well understood pattern I think I might go so far as to",
    "start": "656360",
    "end": "663720"
  },
  {
    "text": "say that the ingis resource had no extensibility mechanism I think you're right",
    "start": "663720",
    "end": "669920"
  },
  {
    "text": "yeah so that led us to Gateway",
    "start": "669920",
    "end": "674839"
  },
  {
    "text": "API you're you're going to see this diagram everywhere that you talking",
    "start": "677560",
    "end": "682880"
  },
  {
    "text": "about Gateway API",
    "start": "682880",
    "end": "686920"
  },
  {
    "text": "um why thank",
    "start": "688240",
    "end": "693519"
  },
  {
    "text": "you it is a project within kubernetes Sig Network we have this set of different",
    "start": "693519",
    "end": "700120"
  },
  {
    "text": "crds in here that are kind of originally intended to be Ingress version two or at",
    "start": "700120",
    "end": "707920"
  },
  {
    "text": "least to take a different cut at solving the Ingress problem in a way that can be",
    "start": "707920",
    "end": "713600"
  },
  {
    "text": "more extensible in a way that can be more structured um it's not on this this",
    "start": "713600",
    "end": "719519"
  },
  {
    "text": "slide but another thing that I think is really important about Gateway API is that it explicitly acknowledges that",
    "start": "719519",
    "end": "726800"
  },
  {
    "text": "there are multiple roles within one application in kubernetes where you will",
    "start": "726800",
    "end": "732800"
  },
  {
    "text": "have people whose job it is to maintain the infrastructure on which your cluster is running and then possibly a different",
    "start": "732800",
    "end": "739120"
  },
  {
    "text": "set of people whose job it is to keep the cluster healthy and then a different set of people to be writing the",
    "start": "739120",
    "end": "745720"
  },
  {
    "text": "applications if you're doing this in a four-person startup all of these roles might be filled by the same person but",
    "start": "745720",
    "end": "752600"
  },
  {
    "text": "if you're doing it in a large company they are probably different people different organizations but they all",
    "start": "752600",
    "end": "757720"
  },
  {
    "text": "have to work together and so this is another thing where Gateway API was deliberately trying to tackle that",
    "start": "757720",
    "end": "764519"
  },
  {
    "text": "explicitly up front yeah and and the reason it's not actually Ingress V2 is because doing a V2 of anything in",
    "start": "764519",
    "end": "771079"
  },
  {
    "text": "kubernetes is very very painful so uh that that's why it became its own",
    "start": "771079",
    "end": "776639"
  },
  {
    "text": "product uh own project it is still an explicitly uh sub project within Sig",
    "start": "776639",
    "end": "782160"
  },
  {
    "text": "network but it is moved out of tree there are no plans uh to move it in Tree in kubernetes uh because we're actually",
    "start": "782160",
    "end": "788720"
  },
  {
    "text": "really happy with the flexibility and speed that we have moving as an out of tree project um and yeah it reached uh",
    "start": "788720",
    "end": "796079"
  },
  {
    "text": "GA with a onepoint over lease last October so uh yeah it is at a point",
    "start": "796079",
    "end": "801519"
  },
  {
    "text": "where the core resources of it are stable there's absolutely still a lot of",
    "start": "801519",
    "end": "806760"
  },
  {
    "text": "experimental work happening at a pretty quick pace space so keep your eyes on this space and watch for uh continuous",
    "start": "806760",
    "end": "813440"
  },
  {
    "text": "improvements to it and yeah we'll get a bit into more of some of the like design principles on the next slide do we have",
    "start": "813440",
    "end": "820320"
  },
  {
    "text": "a slide about release channels I don't remember I don't no the versing scheme is a little bit",
    "start": "820320",
    "end": "826760"
  },
  {
    "text": "complex uh but it's really given us the flexibility to be able to offer both a",
    "start": "826760",
    "end": "831920"
  },
  {
    "text": "stable API for consumers as well as have some of the freedom to experiment and iterate and really work collaborative ly",
    "start": "831920",
    "end": "839440"
  },
  {
    "text": "to design something uh for the future and and yeah so like this is the successor to the Ingress B1 API which is",
    "start": "839440",
    "end": "846040"
  },
  {
    "text": "effectively Frozen at this point it's been around a long time and new work isn't really happening on that everyone",
    "start": "846040",
    "end": "852360"
  },
  {
    "text": "who's doing Ingress things now is pretty much all contributing to Gateway API I think that's true sorry it's definitely",
    "start": "852360",
    "end": "860240"
  },
  {
    "text": "true that no real work is happening in the Ingress resource I believe it's true that everybody doing work in this space",
    "start": "860240",
    "end": "866839"
  },
  {
    "text": "is involved with Gateway API which is pretty the vast majority like there there are dozens of implementations at",
    "start": "866839",
    "end": "872399"
  },
  {
    "text": "this point now yeah since I don't think we have a slide on release channels and since you will",
    "start": "872399",
    "end": "878360"
  },
  {
    "text": "run into this as you look at Gateway API um there's a concept of a stable release",
    "start": "878360",
    "end": "886680"
  },
  {
    "text": "Channel and an experimental release channel so as we go through the workshop we will",
    "start": "886680",
    "end": "893279"
  },
  {
    "text": "be using the experimental Channel because of one feature that we'll talk about later",
    "start": "893279",
    "end": "901040"
  },
  {
    "text": "um the thing that I think is important there is at this point there's I'm not sure",
    "start": "901320",
    "end": "909079"
  },
  {
    "text": "there's really a lot of significant difference between experimental and standard except for timeouts or sorry",
    "start": "909079",
    "end": "914800"
  },
  {
    "text": "except for the port on the yeah the the experimental channel is a super side of the standard channel so the intent is",
    "start": "914800",
    "end": "922639"
  },
  {
    "text": "that when we're adding new apis new Fields uh new enum value potentially",
    "start": "922639",
    "end": "929560"
  },
  {
    "text": "even small things like that uh that we can do them in this separate Channel and make sure that they're uh working as",
    "start": "929560",
    "end": "936639"
  },
  {
    "text": "intended before we eventually promote them to standard at which point it is part of the stable API that has those V1",
    "start": "936639",
    "end": "944040"
  },
  {
    "text": "guarantees yeah we really we'll see if we can uh go through and yeah get this",
    "start": "944040",
    "end": "949720"
  },
  {
    "text": "written down while we do this all right we talked a little bit about the",
    "start": "949720",
    "end": "955000"
  },
  {
    "text": "RO oriented design standard generic API is an",
    "start": "955000",
    "end": "961680"
  },
  {
    "text": "interesting way of phrasing this one to me but the idea here is that if you think",
    "start": "961680",
    "end": "969000"
  },
  {
    "text": "about working in kubernetes right now you learn how a deployment works and then you can carry that from job to job",
    "start": "969000",
    "end": "975759"
  },
  {
    "text": "or cluster to Cluster or roll to roll because you already have this knowledge that transferability is a very useful",
    "start": "975759",
    "end": "983040"
  },
  {
    "text": "thing in this ecosystem so that's part of the point of Gateway API is that you",
    "start": "983040",
    "end": "988160"
  },
  {
    "text": "should be able to learn how an HTTP route works and then use it with ISO or use it with linkerd or use it with your",
    "start": "988160",
    "end": "995120"
  },
  {
    "text": "favorite other Engish controller or a service mesh or whatever and be able to carry that knowledge with you rather",
    "start": "995120",
    "end": "1001279"
  },
  {
    "text": "than having to relearn every time how your particular thing at this particular job",
    "start": "1001279",
    "end": "1007920"
  },
  {
    "text": "Works um there is extensibility built into the gateway API we're not going to",
    "start": "1008079",
    "end": "1014600"
  },
  {
    "text": "talk about it a lot in this Workshop um we're really trying to focus on the things that everybody is doing together",
    "start": "1014600",
    "end": "1021680"
  },
  {
    "text": "yeah but but but there are yeah a few things if there's HTTP root filters um",
    "start": "1021680",
    "end": "1027280"
  },
  {
    "text": "there are ways for implementations to add their own functionality in a way",
    "start": "1027280",
    "end": "1032520"
  },
  {
    "text": "that is predictable and integrates well with the rest of these resources integrates well and",
    "start": "1032520",
    "end": "1039720"
  },
  {
    "text": "predictable those are those are important Concepts here we're going to stick in this Workshop primarily to the",
    "start": "1039720",
    "end": "1047160"
  },
  {
    "text": "basics of what can you actually get done today without having to go and do crazy",
    "start": "1047160",
    "end": "1053320"
  },
  {
    "text": "stuff should you start using Gateway API now uh probably if you're starting",
    "start": "1054480",
    "end": "1064520"
  },
  {
    "text": "fresh you should definitely look really hard at it being able to learn something that",
    "start": "1064520",
    "end": "1071320"
  },
  {
    "text": "you can carry with you as you move around in the ecosystem is very useful if you are not starting fresh and",
    "start": "1071320",
    "end": "1077880"
  },
  {
    "text": "you have an existing employment it might be more useful to just learn how it works uh rather than immediately looking",
    "start": "1077880",
    "end": "1084799"
  },
  {
    "text": "to Port your entire world over to Gateway API it's still you know 2020 is still a",
    "start": "1084799",
    "end": "1091440"
  },
  {
    "text": "fairly young thing in kubernetes land there are still things that Gateway API",
    "start": "1091440",
    "end": "1096520"
  },
  {
    "text": "cannot do we're working on that but yeah it's still good to learn about it you're",
    "start": "1096520",
    "end": "1102200"
  },
  {
    "text": "going to run across it for sure and yes by all means come and help out building building it um",
    "start": "1102200",
    "end": "1110440"
  },
  {
    "text": "I don't remember if the most collaborative API was from looking over individual contributors or organizations",
    "start": "1110440",
    "end": "1116960"
  },
  {
    "text": "or both but it's really amazing how many different people from how many different places have been working on this and it",
    "start": "1116960",
    "end": "1123520"
  },
  {
    "text": "shows it's really nice I think yeah I think it's both if I remember it was the talk that Rob Scott gave I think uh last",
    "start": "1123520",
    "end": "1129440"
  },
  {
    "text": "last Paris sorry last October uh the US cubec con yeah talked about how uh so",
    "start": "1129440",
    "end": "1135280"
  },
  {
    "text": "many people from so many different projects have come together and some a lot of the core apis and kuet that are",
    "start": "1135280",
    "end": "1140360"
  },
  {
    "text": "in tre are really just a handful of folks that are building them and the way that we've been been able to structure",
    "start": "1140360",
    "end": "1146320"
  },
  {
    "text": "this project has been great for being able to have a low barrier to entry uh for many different implementations or",
    "start": "1146320",
    "end": "1153120"
  },
  {
    "text": "users to help with even little things our conformance tests um adding uh",
    "start": "1153120",
    "end": "1160240"
  },
  {
    "text": "implementation details uh for with their own implementation needs and helping",
    "start": "1160240",
    "end": "1165559"
  },
  {
    "text": "kind of like shape the apis as we're building them",
    "start": "1165559",
    "end": "1170720"
  },
  {
    "text": "good so yeah I just thought the show about traffic management before you may be familiar with some of these resources",
    "start": "1171960",
    "end": "1177760"
  },
  {
    "text": "is Do's virtual Service uh the SMI uh service mesh interface spec traffic",
    "start": "1177760",
    "end": "1183200"
  },
  {
    "text": "split uh that Linker D is used uh Ingress B1 API and and a handful of",
    "start": "1183200",
    "end": "1188760"
  },
  {
    "text": "others there was definitely a proliferation this this slide causes me actual pain I'm going to skip it um and",
    "start": "1188760",
    "end": "1196799"
  },
  {
    "text": "with with gway API hopefully you should just be able to focus on uh the Gateway API resources the really two of them are",
    "start": "1196799",
    "end": "1204159"
  },
  {
    "text": "stable Channel right now uh the Gateway resource that you attach to um that represents your infrastructure uh and",
    "start": "1204159",
    "end": "1210320"
  },
  {
    "text": "then the HTTP route is how you write your routes there's also a thing called a",
    "start": "1210320",
    "end": "1216159"
  },
  {
    "text": "Gateway class which is not on here but well it's less important it's less important yeah yeah some somebody has to",
    "start": "1216159",
    "end": "1222280"
  },
  {
    "text": "create it but it you know it may not be you",
    "start": "1222280",
    "end": "1227640"
  },
  {
    "text": "okay things you can do with Gateway API right now remember it got to V1 and the",
    "start": "1227640",
    "end": "1234679"
  },
  {
    "text": "question then becomes so what can you actually do with it we actually didn't put at the start",
    "start": "1234679",
    "end": "1241280"
  },
  {
    "text": "oh you can use this to Route traffic but hey you can use this to Route traffic you can do things like oh if you see",
    "start": "1241280",
    "end": "1247320"
  },
  {
    "text": "something that comes into SL gooy slash then it goes to this workload and SL fat slash goes to this other workload",
    "start": "1247320",
    "end": "1253480"
  },
  {
    "text": "awesome you can do more fancy things like that like traffic splitting with it you including things like you know",
    "start": "1253480",
    "end": "1260200"
  },
  {
    "text": "routing progressor delivery or failover or whatever you can do Dynamic stuff",
    "start": "1260200",
    "end": "1266080"
  },
  {
    "text": "based on the headers of a request based on the HTTP method you cannot do",
    "start": "1266080",
    "end": "1272440"
  },
  {
    "text": "filtering b or routing based on the body because that would probably be silly um",
    "start": "1272440",
    "end": "1278640"
  },
  {
    "text": "if you are using this we should also have put on here oh you can do routing for both your gateway controller and",
    "start": "1278640",
    "end": "1285279"
  },
  {
    "text": "your service mesh and if you are doing both of them then you get things like Progressive delivery anywhere in the",
    "start": "1285279",
    "end": "1290840"
  },
  {
    "text": "call graph instead of right on the edge where only the Gateway can see",
    "start": "1290840",
    "end": "1297840"
  },
  {
    "text": "um we have a demo app that we're working with that we will be using to show this",
    "start": "1297840",
    "end": "1304000"
  },
  {
    "text": "off this is the faces app it has a guey that talks to a workload called face",
    "start": "1304000",
    "end": "1309200"
  },
  {
    "text": "that talks to a workload called Smiley and a workload called color uh the smiley workload when things are going",
    "start": "1309200",
    "end": "1315400"
  },
  {
    "text": "well returns a grinning Smiley the oops we messed this up the color workload now Returns the color",
    "start": "1315400",
    "end": "1322760"
  },
  {
    "text": "blue uh the face workload puts the two together and then hands it back to the guey so when all is well you see a grid",
    "start": "1322760",
    "end": "1330000"
  },
  {
    "text": "of grinning faces on blue backgrounds not green",
    "start": "1330000",
    "end": "1334559"
  },
  {
    "text": "backgrounds excuse me we also have two other workloads here",
    "start": "1335559",
    "end": "1342320"
  },
  {
    "text": "smiley 2 does return heart-eyed Smileys color two now returns",
    "start": "1342320",
    "end": "1347520"
  },
  {
    "text": "Orange in the middle rather in the middle of this picture but right at the edge of the",
    "start": "1347520",
    "end": "1353159"
  },
  {
    "text": "cluster we have a Gateway controller so we can figure this with Gateway API we have a service mesh in the",
    "start": "1353159",
    "end": "1360360"
  },
  {
    "text": "cluster you get to pick between Linker and ISO Flint will be deploying Licor D",
    "start": "1360360",
    "end": "1365720"
  },
  {
    "text": "I'll be deploying sto and we'll be showing that uh with this mesh deployed we have a single set of Uh custom",
    "start": "1365720",
    "end": "1373080"
  },
  {
    "text": "resources that will be deploying after the initial configuration uh and you should be able to",
    "start": "1373080",
    "end": "1379000"
  },
  {
    "text": "walk through this exercise and have one configuration that works in either your",
    "start": "1379000",
    "end": "1385799"
  },
  {
    "text": "sto service mesh or your linkerd service mesh we were very tempted to have me do sdo and him do linkerd but we thought",
    "start": "1385799",
    "end": "1393039"
  },
  {
    "text": "that might be a little dangerous okay let's go ahead and get this started",
    "start": "1393039",
    "end": "1400440"
  },
  {
    "text": "then I'll let you start and then I'll be ready to show the iso side of it",
    "start": "1403200",
    "end": "1409559"
  },
  {
    "text": "so I have created",
    "start": "1409559",
    "end": "1413399"
  },
  {
    "text": "a I have created a cluster already and when you do",
    "start": "1416760",
    "end": "1424400"
  },
  {
    "text": "this you can do it with either demo mesh equals Linker or with demo mesh equals",
    "start": "1424400",
    "end": "1431520"
  },
  {
    "text": "ISO I will do it with linkerd Mike will do it with sdo",
    "start": "1431520",
    "end": "1437440"
  },
  {
    "text": "um feel free to follow along as we're doing this one of the fun things with this one",
    "start": "1437440",
    "end": "1444120"
  },
  {
    "text": "is going to be that we don't actually know if this is really going to work because you know as always we make",
    "start": "1444120",
    "end": "1449960"
  },
  {
    "text": "changes up to the last minute so I guess we'll",
    "start": "1449960",
    "end": "1454400"
  },
  {
    "text": "see first thing we're going to do here is create sorry the first thing I did here",
    "start": "1457120",
    "end": "1462760"
  },
  {
    "text": "was create a name space for the faces application I have now uh this was",
    "start": "1462760",
    "end": "1468640"
  },
  {
    "text": "making sure that Linker the Linker CLI is",
    "start": "1468640",
    "end": "1473679"
  },
  {
    "text": "installed I'm now going to make sure that my cluster can actually work with linkerd oh good it",
    "start": "1473679",
    "end": "1480840"
  },
  {
    "text": "can and we will go ahead and install linker's crds and then linkerd",
    "start": "1480840",
    "end": "1488559"
  },
  {
    "text": "itself I'm also going to install linkerd viz which is the visualization",
    "start": "1488799",
    "end": "1495600"
  },
  {
    "text": "tool fancy ooh",
    "start": "1495600",
    "end": "1500320"
  },
  {
    "text": "and while this is take was going to say how about let's switch to the other laptop and Michael get started with this to you yeah yeah well this just Tak a",
    "start": "1503120",
    "end": "1509039"
  },
  {
    "text": "minute for the code control point to become available yeah we can switch over to me all right so I've got my cluster",
    "start": "1509039",
    "end": "1514720"
  },
  {
    "text": "up and running and now I'm going to uh run with demo mesh equals",
    "start": "1514720",
    "end": "1521520"
  },
  {
    "text": "ISO and we'll make sure our cluster is correct and then get going so I'm using",
    "start": "1524520",
    "end": "1531840"
  },
  {
    "text": "the sctl that I downloaded it's going to be version 1",
    "start": "1531840",
    "end": "1537679"
  },
  {
    "text": "1203 our pre-flight check looks good and we're going to install the minimal",
    "start": "1537679",
    "end": "1543960"
  },
  {
    "text": "profile and the reason for doing this rather than the default profile is the iso's default profile uh installs an",
    "start": "1543960",
    "end": "1551120"
  },
  {
    "text": "older version of uh the iso Ingress Gateway so that's something that uses uh",
    "start": "1551120",
    "end": "1557120"
  },
  {
    "text": "like bespoke ISO configuration uh and it also like creates that infrastructure automatically because we're going to be",
    "start": "1557120",
    "end": "1564679"
  },
  {
    "text": "deploying this ourselves we don't want that because it'll uh create conflicts uh around uh I forget if it's the port",
    "start": "1564679",
    "end": "1571559"
  },
  {
    "text": "or like the host name that it reserves so uh to to avoid that conflict we're just going to do a minimal install uh",
    "start": "1571559",
    "end": "1577799"
  },
  {
    "text": "and get going see I always thought you did that because k3d can't handle the maximal install but I guess I was wrong",
    "start": "1577799",
    "end": "1584120"
  },
  {
    "text": "no K do is actually fine yeah no it's just to avoid having two inres getting in the way of",
    "start": "1584120",
    "end": "1590480"
  },
  {
    "text": "each other",
    "start": "1590480",
    "end": "1593240"
  },
  {
    "text": "yep so we can flip back to this laptop for a moment this will take a minute",
    "start": "1595960",
    "end": "1601120"
  },
  {
    "text": "yeah so viz finished installing I'm going to run Linker check to make sure",
    "start": "1601120",
    "end": "1606200"
  },
  {
    "text": "that everything is okay um I actually did not back up at",
    "start": "1606200",
    "end": "1612760"
  },
  {
    "text": "the beginning and emphasize this and should have I am currently running an edge release of linkerd so this is the",
    "start": "1612760",
    "end": "1620000"
  },
  {
    "text": "completely open- Source version of linkerd uh and I'm either using the",
    "start": "1620000",
    "end": "1626880"
  },
  {
    "text": "latest version or like one prior to the latest version",
    "start": "1626880",
    "end": "1633919"
  },
  {
    "text": "so and you know it's taking a little bit to finish this last",
    "start": "1637720",
    "end": "1643240"
  },
  {
    "text": "check there we",
    "start": "1647159",
    "end": "1653760"
  },
  {
    "text": "go and we're ready to go on my side if we yeah go ahead want to get going and switch back to my there we go oh no all",
    "start": "1663880",
    "end": "1670480"
  },
  {
    "text": "right all right we can continue here the last thing that I did was to annotate",
    "start": "1670480",
    "end": "1676120"
  },
  {
    "text": "the faces name space to tell Linker any pod that appears at this namespace just",
    "start": "1676120",
    "end": "1681840"
  },
  {
    "text": "go ahead and bring it into the mesh this is the simple way of dealing with that on the linerty",
    "start": "1681840",
    "end": "1688360"
  },
  {
    "text": "side um now while we are running this bit we",
    "start": "1688360",
    "end": "1693480"
  },
  {
    "text": "shall install the Gateway API crds themselves that curl looks really funny",
    "start": "1693480",
    "end": "1699880"
  },
  {
    "text": "on such a narrow window linkerd does not ship with its own Gateway controller so I am",
    "start": "1699880",
    "end": "1706760"
  },
  {
    "text": "installing Envoy Gateway way with linkerd and once I start this going then",
    "start": "1706760",
    "end": "1712840"
  },
  {
    "text": "I think this is a fine time to switch back to the iso install while we wait for Envoy Gateway all",
    "start": "1712840",
    "end": "1720480"
  },
  {
    "text": "right it should come up on the screen in a moment huh well we can switch okay I",
    "start": "1723559",
    "end": "1730000"
  },
  {
    "text": "guess we",
    "start": "1730000",
    "end": "1737039"
  },
  {
    "text": "yeah all right well let's just finish this out for a second sure",
    "start": "1737039",
    "end": "1744480"
  },
  {
    "text": "um the last thing happening here is after getting Envoy Gateway going then I",
    "start": "1744480",
    "end": "1750440"
  },
  {
    "text": "will annotate the envoy Gateway name space so that when we go through and create the proxies the enway proxy then",
    "start": "1750440",
    "end": "1757840"
  },
  {
    "text": "linkerd will automatically bring that into the mesh as well I can't do that",
    "start": "1757840",
    "end": "1763679"
  },
  {
    "text": "first because a lot of the sidecar based world has this issue where if you try to run a Cron job the Cron job will get",
    "start": "1763679",
    "end": "1770279"
  },
  {
    "text": "stuck waiting on the side car to go away this is a thing that's addressed by kep",
    "start": "1770279",
    "end": "1776640"
  },
  {
    "text": "753 but kep 753 kind of only just landed it's not in kubernetes by default until",
    "start": "1776640",
    "end": "1783840"
  },
  {
    "text": "kuber is 1.28 and while we were putting this workshop together we were on",
    "start": "1783840",
    "end": "1788960"
  },
  {
    "text": "1.27 so I couldn't use that and this is the way around it but yeah uh good news",
    "start": "1788960",
    "end": "1794559"
  },
  {
    "text": "for anyone using a sidecar based service mesh uh if you have issues with your application or side car starting out of",
    "start": "1794559",
    "end": "1802000"
  },
  {
    "text": "order one before the other uh there's a better way to do that in newer versions of kubernetes now which is",
    "start": "1802000",
    "end": "1809320"
  },
  {
    "text": "nice okay let's go back to this his laptop for a moment",
    "start": "1809320",
    "end": "1816200"
  },
  {
    "text": "here there we go all right so now we've got ISO installed and we're going to",
    "start": "1816919",
    "end": "1823120"
  },
  {
    "text": "continue we're going to do a very similar thing we're going to create the namespace",
    "start": "1823120",
    "end": "1828559"
  },
  {
    "text": "uh and similarly we're going to set it up for uh service mesh injection by",
    "start": "1828559",
    "end": "1834880"
  },
  {
    "text": "labeling it and now that it's labeled uh we're",
    "start": "1834880",
    "end": "1840000"
  },
  {
    "text": "going to create we're going to install the gway API crds and then create our Ingress",
    "start": "1840000",
    "end": "1847600"
  },
  {
    "text": "Gateway and as we pointed out we're using the experimental channel of Gateway API 1.0",
    "start": "1847600",
    "end": "1854919"
  },
  {
    "text": "here uh and I guess I should mention one of the reasons that we're uh installing the Gateway API crds um currently",
    "start": "1854919",
    "end": "1863000"
  },
  {
    "text": "because they're out of tree they are not going to necessarily be in the version of kubernetes uh that you're installed",
    "start": "1863000",
    "end": "1869639"
  },
  {
    "text": "by default so some depending on your cloud provider or distribution may ship",
    "start": "1869639",
    "end": "1875240"
  },
  {
    "text": "with a version of the Gateway API CDs installed Some Cloud providers May manage those for you uh keeping them",
    "start": "1875240",
    "end": "1881880"
  },
  {
    "text": "updated or at a certain version depending on your install um we're explicitly installing them manually to",
    "start": "1881880",
    "end": "1887519"
  },
  {
    "text": "make sure that we have the latest version in particular I'm not sure there are any",
    "start": "1887519",
    "end": "1893320"
  },
  {
    "text": "Cloud providers doing 1. zero yet are there I don't think so I don't think so",
    "start": "1893320",
    "end": "1899159"
  },
  {
    "text": "yeah so um 1.0 is recent enough that the cloud providers are still rolling out",
    "start": "1899159",
    "end": "1905399"
  },
  {
    "text": "some of this stuff and for the most part they are going to be using the standard",
    "start": "1905399",
    "end": "1910559"
  },
  {
    "text": "Channel anyway so the experimental Channel like I said there's one feature in here that we need the experiment Al",
    "start": "1910559",
    "end": "1918159"
  },
  {
    "text": "channel for um and so we need to do that manually yeah and yeah so this is what",
    "start": "1918159",
    "end": "1926080"
  },
  {
    "text": "uh the definition for a Gateway API uh Gateway looks like um so it's pretty",
    "start": "1926080",
    "end": "1933399"
  },
  {
    "text": "small minimal right here um you'll notice the only difference that we have",
    "start": "1933399",
    "end": "1938480"
  },
  {
    "text": "between what you're going to see on Flynn's laptop in a moment and mine is going to be the Gateway class name so",
    "start": "1938480",
    "end": "1944960"
  },
  {
    "text": "why that needs to be unique is because that is going to tell which Gateway controller implementation should look at",
    "start": "1944960",
    "end": "1952399"
  },
  {
    "text": "this resource and pay attention to it and process it and turn it into infrastructure um in this case uh with",
    "start": "1952399",
    "end": "1959000"
  },
  {
    "text": "sto the sto Gateway controller is going to be the one that we're referencing from uh the Gateway that we create it's",
    "start": "1959000",
    "end": "1965559"
  },
  {
    "text": "going to use the iso Gateway class you heard us mentioned Gateway class uh earlier um and yeah the rest of it is",
    "start": "1965559",
    "end": "1974039"
  },
  {
    "text": "going to be identical so we're going to set up just a single listener uh on Port 80 with the HTTP protocol um and we're",
    "start": "1974039",
    "end": "1982159"
  },
  {
    "text": "allowing roots to attach to it from any name space uh there is this is",
    "start": "1982159",
    "end": "1987679"
  },
  {
    "text": "important uh I believe the default uh if you don't have this allowed Roots configuration is only allowing roots to",
    "start": "1987679",
    "end": "1995240"
  },
  {
    "text": "attach from the same name space so yeah and that's pretty different from the way a lot of the",
    "start": "1995240",
    "end": "2001360"
  },
  {
    "text": "earlier Ingress controllers work so as you're switching over to Gateway API",
    "start": "2001360",
    "end": "2007159"
  },
  {
    "text": "this is a great way to be confused not that I have any personal experience with this uh with creating a Gateway class or",
    "start": "2007159",
    "end": "2015240"
  },
  {
    "text": "sorry creating a Gateway forgetting to do that bit and then sitting there tearing your hair out with okay why",
    "start": "2015240",
    "end": "2021200"
  },
  {
    "text": "isn't my route working yeah it it's also a really critical part of that like role",
    "start": "2021200",
    "end": "2026279"
  },
  {
    "text": "oriented design where you can have your gateway administrator uh create this",
    "start": "2026279",
    "end": "2031480"
  },
  {
    "text": "Gateway and the allowed routes configuration also supports like label selectors for namespaces and things like",
    "start": "2031480",
    "end": "2037159"
  },
  {
    "text": "that so so you can potentially scope it to only a single name space is allowed to write Roots uh that attach to this",
    "start": "2037159",
    "end": "2043919"
  },
  {
    "text": "Gateway um or you can open it up to everything or you can have your",
    "start": "2043919",
    "end": "2049240"
  },
  {
    "text": "application teams create gateways and just keep them scoped to only their Nam space uh so it's really flexible uh and",
    "start": "2049240",
    "end": "2056158"
  },
  {
    "text": "yeah this is one of the really nice things about kind of this design and uh where We've Ended up at with this API so",
    "start": "2056159",
    "end": "2061599"
  },
  {
    "text": "you want to go ahead and apply that one and then we flip over and show the one uh jump over to it so yeah um I'm going",
    "start": "2061599",
    "end": "2068079"
  },
  {
    "text": "to wait for a minute for uh this gateway to get ready and we'll switch back over to Flint's laptop",
    "start": "2068079",
    "end": "2075639"
  },
  {
    "text": "yep so this is going to look remarkably like the one that he just did for",
    "start": "2078800",
    "end": "2085000"
  },
  {
    "text": "ISO except that since I am using the envoy",
    "start": "2085000",
    "end": "2090320"
  },
  {
    "text": "Gateway as my Gateway controller then whoops I pressed too",
    "start": "2090320",
    "end": "2095919"
  },
  {
    "text": "hard on my mouse then I'm using this controller",
    "start": "2095919",
    "end": "2101760"
  },
  {
    "text": "name uh I'm also calling this the envoy Gateway class and in my Ingress or sorry",
    "start": "2101760",
    "end": "2107599"
  },
  {
    "text": "in my Gateway named Ingress just so we can do this in an even more confusing",
    "start": "2107599",
    "end": "2112760"
  },
  {
    "text": "set of names uh I'm using the enoy Gateway class and then everything else is exactly the same as for",
    "start": "2112760",
    "end": "2120640"
  },
  {
    "text": "ISO and now I'm going to wait for my okay now my my Gateway control is",
    "start": "2122760",
    "end": "2128040"
  },
  {
    "text": "actually working all right so",
    "start": "2128040",
    "end": "2133560"
  },
  {
    "text": "so I will start the faces application installing and then we'll flip back and",
    "start": "2135400",
    "end": "2141720"
  },
  {
    "text": "make sure things are okay with thiso this Helm install commands looks",
    "start": "2141720",
    "end": "2149280"
  },
  {
    "text": "disturbing but there's an explanation in the comment up there um basically what we're",
    "start": "2149280",
    "end": "2155880"
  },
  {
    "text": "doing here is normally when you install the faces application it's set up to",
    "start": "2155880",
    "end": "2161400"
  },
  {
    "text": "deliberately be terrible and because it was originally written to show off a bunch of",
    "start": "2161400",
    "end": "2167160"
  },
  {
    "text": "resilience patterns so most of what's going on there is saying hey we want both color and color 2 and smiley and",
    "start": "2167160",
    "end": "2173480"
  },
  {
    "text": "Smiley 2 but only Smiley 2 should be bad",
    "start": "2173480",
    "end": "2179520"
  },
  {
    "text": "right now yeah and this is just a demo application it's not any part of uh the actual stuff that you should really care",
    "start": "2179520",
    "end": "2186480"
  },
  {
    "text": "about for your workload it's just a way to kind of demonstrate uh you know gooey the different kinds of patterns that",
    "start": "2186480",
    "end": "2192200"
  },
  {
    "text": "we're going to be able to demonstrate as far as like uh traffic shifting and uh switching and yeah want to uh switch",
    "start": "2192200",
    "end": "2198440"
  },
  {
    "text": "back to the other laptop please and we'll see how stdo is coming along all right so I've been uh watching uh the",
    "start": "2198440",
    "end": "2205800"
  },
  {
    "text": "resources coming up and everything is running now so I will jump back over one",
    "start": "2205800",
    "end": "2211040"
  },
  {
    "text": "of the cool things about this demo is also that for all that ISO gets a bad",
    "start": "2211040",
    "end": "2216160"
  },
  {
    "text": "rap including from people like me um you know you can see that it's taking us",
    "start": "2216160",
    "end": "2222359"
  },
  {
    "text": "about the same amount of time to do both of these honestly the limiting factor in both cases has been pulling the images",
    "start": "2222359",
    "end": "2230720"
  },
  {
    "text": "down it's kind of fun to see that that for all that we throw shade at each other you know a lot of this stuff",
    "start": "2231800",
    "end": "2238240"
  },
  {
    "text": "really does work",
    "start": "2238240",
    "end": "2241040"
  },
  {
    "text": "well all right okay all right let's uh go back to this",
    "start": "2245400",
    "end": "2251720"
  },
  {
    "text": "laptop for a moment",
    "start": "2251720",
    "end": "2254680"
  },
  {
    "text": "please okay so like it says we should be able to hit reload in the browsers and",
    "start": "2256839",
    "end": "2262520"
  },
  {
    "text": "see good things again maybe",
    "start": "2262520",
    "end": "2270280"
  },
  {
    "text": "not this is actually not because the application is broken",
    "start": "2272400",
    "end": "2278119"
  },
  {
    "text": "this is because the bit that we did not do any guesses anybody we've created a",
    "start": "2278119",
    "end": "2285000"
  },
  {
    "text": "Gateway class we created a Gateway any suggestions for what we have not yet",
    "start": "2285000",
    "end": "2290599"
  },
  {
    "text": "done excellent thank you yes we did not yet actually route any traffic here we",
    "start": "2290599",
    "end": "2298240"
  },
  {
    "text": "also did not break our demo as uh I was scared about when I initially walked through this I got to confess I I",
    "start": "2298240",
    "end": "2304440"
  },
  {
    "text": "tweaked to the demo to do this and I forgot to tell my about it so he was",
    "start": "2304440",
    "end": "2310079"
  },
  {
    "text": "very concerned that that the world had suddenly come to an end sorry so this is",
    "start": "2310079",
    "end": "2315720"
  },
  {
    "text": "our first HTTP route where we're for our parent ref",
    "start": "2315720",
    "end": "2322640"
  },
  {
    "text": "whoops actually let me back up this is an HTTP",
    "start": "2322640",
    "end": "2328880"
  },
  {
    "text": "route it's in gateway. networking. kat.",
    "start": "2328880",
    "end": "2334400"
  },
  {
    "text": "iv1 it is an HTTP route I'm going to name it faces gooey route",
    "start": "2334960",
    "end": "2340200"
  },
  {
    "text": "in case I need to deal with it later it's in the faces Nam space this is why",
    "start": "2340200",
    "end": "2346200"
  },
  {
    "text": "we told the Gateway hey you should allow routes from any namespace it's very very",
    "start": "2346200",
    "end": "2351440"
  },
  {
    "text": "convenient in most cases to allow application developers to put their routes in with their application because",
    "start": "2351440",
    "end": "2358640"
  },
  {
    "text": "that way your arbac is simpler people can more easily find the routes etc",
    "start": "2358640",
    "end": "2364200"
  },
  {
    "text": "etc if you have to deploy your routes in a different name space than the actual",
    "start": "2364200",
    "end": "2370240"
  },
  {
    "text": "backends that you're routing to that's also possible with Gateway API uh there's a little bit more permissioning",
    "start": "2370240",
    "end": "2376160"
  },
  {
    "text": "structure to allow that uh to make sure that it's safe that you can't just have anybody directing traffic to anything",
    "start": "2376160",
    "end": "2382040"
  },
  {
    "text": "else in your mesh uh you'll want to look for the gway API reference Grant resource uh if you need to be uh do that",
    "start": "2382040",
    "end": "2389359"
  },
  {
    "text": "kind of topology right and that is a kind of common thing if you have a single like platform Ops Team that's",
    "start": "2389359",
    "end": "2396680"
  },
  {
    "text": "managing your Gateway and all of the routes for it and really wants that tight control over delegating to the",
    "start": "2396680",
    "end": "2403040"
  },
  {
    "text": "application teams rather than letting them manage their own routes on the other",
    "start": "2403040",
    "end": "2409720"
  },
  {
    "text": "hand if you can let the application teams manage their own routes that's often a better way to do that because it",
    "start": "2409720",
    "end": "2416240"
  },
  {
    "text": "permits faster development so HTTP routes are always associated",
    "start": "2416240",
    "end": "2422960"
  },
  {
    "text": "with some parent or possibly multiple parents although we're not going to show that one",
    "start": "2422960",
    "end": "2428079"
  },
  {
    "text": "the parent here is our Ingress Gateway controller in the default",
    "start": "2428079",
    "end": "2435599"
  },
  {
    "text": "namespace we are going to go ahead and match any path with a prefix of SL",
    "start": "2437240",
    "end": "2442720"
  },
  {
    "text": "slash we'll get routed to the service called faces guey on Port",
    "start": "2442720",
    "end": "2448160"
  },
  {
    "text": "80 and we are going to use a filter to rewrite the URL with just",
    "start": "2448160",
    "end": "2456240"
  },
  {
    "text": "slash and the reason for that is that that's what the application wants that the guey application expects that it",
    "start": "2456240",
    "end": "2462880"
  },
  {
    "text": "will be seeing rooted paths and nothing else so this is how we can expose it to",
    "start": "2462880",
    "end": "2469400"
  },
  {
    "text": "the public internet at a different path yeah than what the application might expect this is kind of table Stakes for",
    "start": "2469400",
    "end": "2475200"
  },
  {
    "text": "any Engish controller you have to be able to do path rewrites you have to be able to do path matching and we're going",
    "start": "2475200",
    "end": "2481280"
  },
  {
    "text": "demonstrate that so when I do that if I come back to the web browser it now",
    "start": "2481280",
    "end": "2487319"
  },
  {
    "text": "loads the guey and we get griesing faces on purple backgrounds because what the guy is doing for each cell is it is",
    "start": "2487319",
    "end": "2494280"
  },
  {
    "text": "trying to go and fetch a different path slace slash and we have not routed that",
    "start": "2494280",
    "end": "2500280"
  },
  {
    "text": "one yet so let's go through and put in a route for",
    "start": "2500280",
    "end": "2504880"
  },
  {
    "text": "that the face",
    "start": "2505480",
    "end": "2508960"
  },
  {
    "text": "route is pretty much the same thing except that it has a different prefix",
    "start": "2510839",
    "end": "2516760"
  },
  {
    "text": "and it uses a different back end R so we have the guey prefix is getting",
    "start": "2516760",
    "end": "2523000"
  },
  {
    "text": "routed to the guey workload and the face prefix is getting routed to the face workload uh but they're basically the",
    "start": "2523000",
    "end": "2529800"
  },
  {
    "text": "same idea and if I do this then things start working and we have grinning faces on blue",
    "start": "2529800",
    "end": "2535920"
  },
  {
    "text": "backgrounds and now if we can jump over to my laptop I will walk through the same thing with",
    "start": "2535920",
    "end": "2541920"
  },
  {
    "text": "hiso and it will look exactly the same that is the Hope",
    "start": "2541920",
    "end": "2549119"
  },
  {
    "text": "so we're just going to wait a minute see if uh we can get our laptop switched over to my",
    "start": "2552200",
    "end": "2558838"
  },
  {
    "text": "screen there we all right so as you can see we're using the",
    "start": "2559960",
    "end": "2568040"
  },
  {
    "text": "same HTTP route the same file it's literally the same file it's not just it",
    "start": "2568040",
    "end": "2573839"
  },
  {
    "text": "looks similar it's it's literally the same file um and yeah",
    "start": "2573839",
    "end": "2581319"
  },
  {
    "text": "so we will now keep C to apply it and jump over to our browser refresh",
    "start": "2582880",
    "end": "2592000"
  },
  {
    "text": "and there we go there's our uh first initial one of we've exposed the guey",
    "start": "2592000",
    "end": "2597920"
  },
  {
    "text": "but the guey is trying to go back through the Ingress um and reach that face app and it's still not able to do",
    "start": "2597920",
    "end": "2604760"
  },
  {
    "text": "that so similarly we're going to to deploy the same uh face rot app to expose that to the public internet as",
    "start": "2604760",
    "end": "2611960"
  },
  {
    "text": "well again identical it's the same file Cube cuddle apply it and if we jump",
    "start": "2611960",
    "end": "2620240"
  },
  {
    "text": "back over to the browser it feels a little silly to be",
    "start": "2620240",
    "end": "2627680"
  },
  {
    "text": "showing hey we did the same thing and we got the same result but remember that",
    "start": "2627680",
    "end": "2632839"
  },
  {
    "text": "the infrastructure underneath this is completely different between these two",
    "start": "2632839",
    "end": "2637960"
  },
  {
    "text": "clusters so that part's kind of cool we have Linker D with uh it's rust based",
    "start": "2637960",
    "end": "2645079"
  },
  {
    "text": "proxies with Envoy Gateway a completely separate product uh in front serving as the Ingress uh and then ISO with our",
    "start": "2645079",
    "end": "2652480"
  },
  {
    "text": "Envoy side cars and our uh integrated uh mesh or or Ingress that's part of the",
    "start": "2652480",
    "end": "2658599"
  },
  {
    "text": "sto product so it's really kind of cool just how flexible this is that you can use the same API to control these",
    "start": "2658599",
    "end": "2665920"
  },
  {
    "text": "completely different mations it's a little depressing that we're still relying on Envoy on both of",
    "start": "2665920",
    "end": "2671960"
  },
  {
    "text": "them though we got to fix that we'll get around that okay",
    "start": "2671960",
    "end": "2678240"
  },
  {
    "text": "um how about come back to this laptop again",
    "start": "2678240",
    "end": "2684039"
  },
  {
    "text": "please you looks like you're live okay excuse me",
    "start": "2684400",
    "end": "2692400"
  },
  {
    "text": "so excuse me okay so what else can we do here well one kind of another table",
    "start": "2694280",
    "end": "2702040"
  },
  {
    "text": "stake sort of thing for most Gateway controllers is the whole Canary concept this AB",
    "start": "2702040",
    "end": "2707920"
  },
  {
    "text": "thing so let's start by",
    "start": "2707920",
    "end": "2713599"
  },
  {
    "text": "showing depending on how you look at it you can look at this as a canary test or you can look at this as Progressive",
    "start": "2713599",
    "end": "2719079"
  },
  {
    "text": "delivery where what we're going to do here is we're going to take a certain amount of traffic from the face workload",
    "start": "2719079",
    "end": "2726119"
  },
  {
    "text": "going to the color workload and we're going to shift it over to color two so that instead of getting blue backgrounds",
    "start": "2726119",
    "end": "2733200"
  },
  {
    "text": "the ones that get shifted over to color two should show orange backgrounds we will do that by applying",
    "start": "2733200",
    "end": "2738720"
  },
  {
    "text": "another HTTP route just configured differently there are a couple of substantial differences with this we we",
    "start": "2738720",
    "end": "2745680"
  },
  {
    "text": "should jump back over to the slides for a minute just so we can show on the mesh diagram kind of like what we're going to be doing here we can do",
    "start": "2745680",
    "end": "2753440"
  },
  {
    "text": "that this is why there are two of us up here so yeah uh gway API we just showed",
    "start": "2753440",
    "end": "2759160"
  },
  {
    "text": "how to do it um for Ingress traffic that's what both of those routes were doing um they were even uh the the Goya",
    "start": "2759160",
    "end": "2766839"
  },
  {
    "text": "was expecting a public uh address so even though they're both inside the same cluster was actually going out of the",
    "start": "2766839",
    "end": "2772240"
  },
  {
    "text": "cluster and reaching back through the public IP through the public uh address to reach that face surface so both of",
    "start": "2772240",
    "end": "2778400"
  },
  {
    "text": "those were uh Ingress rots well the guey is the one trying to talk to the face",
    "start": "2778400",
    "end": "2784520"
  },
  {
    "text": "workk load yes so speak that request is coming from outside the cluster so it has to be the Gateway controller doing",
    "start": "2784520",
    "end": "2790960"
  },
  {
    "text": "yes yes uh yeah so as a little bit of background",
    "start": "2790960",
    "end": "2797599"
  },
  {
    "text": "um G the gamma initiative uh was a project that we started in 2022 to kind",
    "start": "2797599",
    "end": "2804559"
  },
  {
    "text": "of figure out if it might be possible to use Gateway API for service mesh",
    "start": "2804559",
    "end": "2811000"
  },
  {
    "text": "implementations this is not the first time we've tried this having a common API uh for meshes is because we really",
    "start": "2811000",
    "end": "2818599"
  },
  {
    "text": "in spite of like how many different service mesh offerings there there are they really solve very similar problems",
    "start": "2818599",
    "end": "2825640"
  },
  {
    "text": "they have different ways of doing them different pros and cons different functionality in some cases but really",
    "start": "2825640",
    "end": "2831640"
  },
  {
    "text": "at the core uh they do a lot of the same things so uh an earlier iteration of",
    "start": "2831640",
    "end": "2837720"
  },
  {
    "text": "this you may have heard of is the service mesh interface or SMI spec uh that's where Flynn and I met actually",
    "start": "2837720",
    "end": "2843880"
  },
  {
    "text": "through uh some of the work on yeah actually it is yeah yeah um and that's also uh where I met Keith",
    "start": "2843880",
    "end": "2850559"
  },
  {
    "text": "madx uh and some of the discussions started in that project about hey this",
    "start": "2850559",
    "end": "2855640"
  },
  {
    "text": "Gateway API thing it has a lot of traction like there's a lot of people",
    "start": "2855640",
    "end": "2861800"
  },
  {
    "text": "working with this and it actually looks really similar to the thing that we're doing with our traffic split um maybe we",
    "start": "2861800",
    "end": "2869040"
  },
  {
    "text": "can use that so uh yeah we we reached out to uh John Howard uh from uh Google's",
    "start": "2869040",
    "end": "2877440"
  },
  {
    "text": "uh team and reached out to Flynn uh lard D and started to think about like hey",
    "start": "2877440",
    "end": "2883160"
  },
  {
    "text": "this seems like a thing that might be a viable solution and also a whole lot of other implementations are betting on",
    "start": "2883160",
    "end": "2889200"
  },
  {
    "text": "this too and that's really kind of what was the critical mass there is because there were so many uh vendors invested",
    "start": "2889200",
    "end": "2897280"
  },
  {
    "text": "in it it felt like there was a high probability of it going somewhere of it actually being a thing that we can count",
    "start": "2897280",
    "end": "2902960"
  },
  {
    "text": "on to be the future of how you configure your service mesh um yeah so we we saw",
    "start": "2902960",
    "end": "2909359"
  },
  {
    "text": "that uh you can hopefully make things better uh for users by adopting these",
    "start": "2909359",
    "end": "2914599"
  },
  {
    "text": "common apis uh and yeah Linker started using Gateway API for mes traffic",
    "start": "2914599",
    "end": "2921000"
  },
  {
    "text": "routing in 2.13 one of the very relatively recent releases uh funny that",
    "start": "2921000",
    "end": "2926480"
  },
  {
    "text": "that's relatively recent and it's also like I want to say a year old maybe yeah",
    "start": "2926480",
    "end": "2931559"
  },
  {
    "text": "yeah that's about right um uh and then yeah sdo start using gway API for R much",
    "start": "2931559",
    "end": "2937319"
  },
  {
    "text": "earlier on um in 1.9 so that's been around quite a while uh but only added",
    "start": "2937319",
    "end": "2942920"
  },
  {
    "text": "mesh traffic routing much more recently in",
    "start": "2942920",
    "end": "2947160"
  },
  {
    "text": "119 another I guess a thing that I want to emphasize a little bit",
    "start": "2948640",
    "end": "2953880"
  },
  {
    "text": "is one of the really interesting things about the gamma initiative is that it's very easy for people to say oh hey",
    "start": "2953880",
    "end": "2960559"
  },
  {
    "text": "meeses are routing httv we should just go ahead and do that but it turns out to be complex so so it was a much more",
    "start": "2960559",
    "end": "2968440"
  },
  {
    "text": "challenging thing to do um partly because it ends up being more challenging than we thought it was there",
    "start": "2968440",
    "end": "2974160"
  },
  {
    "text": "are a bunch of things that you can't actually do yet for service meshes some",
    "start": "2974160",
    "end": "2980240"
  },
  {
    "text": "of them are complex things but some of them are fairly basic things like retries which you would think would be",
    "start": "2980240",
    "end": "2987119"
  },
  {
    "text": "really easy but it turns out that people handle retries and timeouts and stuff like that very very differently across",
    "start": "2987119",
    "end": "2994880"
  },
  {
    "text": "implementations of the G way controllers and service meshes so this is there's a",
    "start": "2994880",
    "end": "3000799"
  },
  {
    "text": "lot of work going on very actively in improving this situation it's also one of the reasons why it's really great",
    "start": "3000799",
    "end": "3007280"
  },
  {
    "text": "having so many different implementations as active partipants in Gateway API is",
    "start": "3007280",
    "end": "3012760"
  },
  {
    "text": "it would not be as successful as it is today without the feedback and perspectives of people who are",
    "start": "3012760",
    "end": "3018400"
  },
  {
    "text": "approaching these same problems differently and it pushes us to make these more extensible solutions that",
    "start": "3018400",
    "end": "3024680"
  },
  {
    "text": "allow uh for different ways of doing things linerty and sto have different ways of handling retries um I think the",
    "start": "3024680",
    "end": "3032640"
  },
  {
    "text": "envoy proxy recently added support for doing a very similar way uh to uh link",
    "start": "3032640",
    "end": "3038119"
  },
  {
    "text": "or D's method of doing retries yeah so that's something where we see that as hey if we can add this in Gateway API we",
    "start": "3038119",
    "end": "3045359"
  },
  {
    "text": "know that there's multiple implementations that could support this because that's really critical for getting going into the Upstream API is",
    "start": "3045359",
    "end": "3051119"
  },
  {
    "text": "making sure that it's useful to more than one and not just something that should be one of those like implementation specific options um but",
    "start": "3051119",
    "end": "3058480"
  },
  {
    "text": "yeah we we we see a path forward for this kind of stuff so uh yeah it's pretty exciting and uh timeouts uh was",
    "start": "3058480",
    "end": "3064640"
  },
  {
    "text": "one of the ones that until very recently was not available uh but there's now a a",
    "start": "3064640",
    "end": "3069760"
  },
  {
    "text": "Gap a Gateway enhancement proposal uh that merged uh a few months back and",
    "start": "3069760",
    "end": "3075640"
  },
  {
    "text": "support is now available in I think the latest stto uh major release and the one",
    "start": "3075640",
    "end": "3081720"
  },
  {
    "text": "of the latest linard D Edge releases yeah that's from like six months ago",
    "start": "3081720",
    "end": "3087880"
  },
  {
    "text": "um timeouts turned out to be ridiculously hard looking at the",
    "start": "3087880",
    "end": "3093000"
  },
  {
    "text": "different implementations but the core thing here is that we showed or the the",
    "start": "3093000",
    "end": "3099319"
  },
  {
    "text": "core thing for gamma is that we showed bits where you would use the parent ref",
    "start": "3099319",
    "end": "3104640"
  },
  {
    "text": "referring back to your gateway for the mesh you're going to use a parent ref that refers to a service yeah and in",
    "start": "3104640",
    "end": "3111480"
  },
  {
    "text": "both cases you use back end refs to talk about where you want the traffic to go um I am going to skip these",
    "start": "3111480",
    "end": "3118640"
  },
  {
    "text": "slides go back to that one that's that's the important one yeah this is a a demonstration of what we are",
    "start": "3118640",
    "end": "3126040"
  },
  {
    "text": "doing differently as we're go about to do this this Canary deployment here is",
    "start": "3126040",
    "end": "3131319"
  },
  {
    "text": "that some of the traffic will get routed over by the mesh from face to color two instead of going to color and then the",
    "start": "3131319",
    "end": "3136960"
  },
  {
    "text": "rest of it will stay with the color workload",
    "start": "3136960",
    "end": "3142440"
  },
  {
    "text": "okay there we go so yeah here we have like we were saying",
    "start": "3143280",
    "end": "3149799"
  },
  {
    "text": "our parent ref here is a",
    "start": "3149799",
    "end": "3155760"
  },
  {
    "text": "service we're talking about the color service you need to specify which Port it's on and then 90% of our traffic will",
    "start": "3155760",
    "end": "3163720"
  },
  {
    "text": "continue on to the color back end and 10% will go on to color two now this may",
    "start": "3163720",
    "end": "3171480"
  },
  {
    "text": "look like there is a circular route here because we're saying take 90% of the",
    "start": "3171480",
    "end": "3176559"
  },
  {
    "text": "traffic from color and send it to color but then it would just get re you know resplit over and over and over again",
    "start": "3176559",
    "end": "3184040"
  },
  {
    "text": "this is one of the things that's complex with service measures when we talk about a parent ref we are talking about the",
    "start": "3184040",
    "end": "3191000"
  },
  {
    "text": "part of a service that's allocating a cluster IP in a DNS name and we're talking when we talk about a backend D",
    "start": "3191000",
    "end": "3197400"
  },
  {
    "text": "we're talking about the part of a service that is a bag of end points and the two are not the same thing so there",
    "start": "3197400",
    "end": "3203359"
  },
  {
    "text": "is no Circle here this is one of the more confus using things about Gateway API for mesh I",
    "start": "3203359",
    "end": "3210040"
  },
  {
    "text": "think um I will leave it as an exercise to the reader to determine how many",
    "start": "3210040",
    "end": "3215200"
  },
  {
    "text": "cells should be orange if 10% of the traffic is getting routed but you can see that some of it is getting routed",
    "start": "3215200",
    "end": "3223440"
  },
  {
    "text": "and um let me do one more step and then we'll flip over to sto if we change the",
    "start": "3223440",
    "end": "3229079"
  },
  {
    "text": "weights we would expect the fraction of traffic that's orange to change so in",
    "start": "3229079",
    "end": "3234799"
  },
  {
    "text": "this case instead of 90% instead of a 9010 split we're going to do a 50/50 split and when I apply that we should",
    "start": "3234799",
    "end": "3241839"
  },
  {
    "text": "see a lot more orange over there instantly and yeah now let's flip over to ISO and we",
    "start": "3241839",
    "end": "3249000"
  },
  {
    "text": "will see that happening over there while we wait for the video to switch I'll point out that there is no requirement",
    "start": "3249000",
    "end": "3256559"
  },
  {
    "text": "that the weights add up to 100 in the HTTP route the important thing is just",
    "start": "3256559",
    "end": "3262480"
  },
  {
    "text": "the ratio yeah so you can do a weight of one and a weight of three and it adds up",
    "start": "3262480",
    "end": "3267680"
  },
  {
    "text": "to 25% and 75% for example doing it with percentages just tends to be a little",
    "start": "3267680",
    "end": "3273160"
  },
  {
    "text": "bit easier for me well it's been easier to explain in some ways um yeah can we switch to the other laptop please thank",
    "start": "3273160",
    "end": "3280240"
  },
  {
    "text": "you all right so as we can see mine are",
    "start": "3280240",
    "end": "3285400"
  },
  {
    "text": "currently still all in the blue and I'm about to apply the exact same resource the color Canary DOL uh I did make one",
    "start": "3285400",
    "end": "3293520"
  },
  {
    "text": "tiny difference here as we were um working on this oh that's right I forgot to pull that I I need to go back and",
    "start": "3293520",
    "end": "3300160"
  },
  {
    "text": "double check if it's something thato and Linker D like have slightly different",
    "start": "3300160",
    "end": "3306040"
  },
  {
    "text": "support if it's something that's specific to linkerd or if it's something that is standard that I should go add to",
    "start": "3306040",
    "end": "3312040"
  },
  {
    "text": "ISO but uh the group that you'll see here um because service is in the core",
    "start": "3312040",
    "end": "3317960"
  },
  {
    "text": "uh kubernetes API Group um I have an empty string for the group it's a little",
    "start": "3317960",
    "end": "3324880"
  },
  {
    "text": "bit awkward uh uh on Linker D you'll see you you will have seen that Flynn had the word core there um empty string",
    "start": "3324880",
    "end": "3332640"
  },
  {
    "text": "works for both so that is typically what you'll be writing I need to double check",
    "start": "3332640",
    "end": "3337920"
  },
  {
    "text": "if it's actually okay for us to specify core but that didn't work for me so um",
    "start": "3337920",
    "end": "3343119"
  },
  {
    "text": "mine mine are empty string but uh empty string works for both I just hand edited",
    "start": "3343119",
    "end": "3348799"
  },
  {
    "text": "my version to use the empty string to verify that it worked it works with",
    "start": "3348799",
    "end": "3354000"
  },
  {
    "text": "Linker D and yeah now now that which makes me feel much better now that we have that 10% uh you can see a few",
    "start": "3354000",
    "end": "3361240"
  },
  {
    "text": "orange Smileys coming through and same thing uh we're going to switch",
    "start": "3361240",
    "end": "3368680"
  },
  {
    "text": "the to 50/50 and apply and you have 50/50",
    "start": "3368680",
    "end": "3376960"
  },
  {
    "text": "now why don't you go ahead and do the next step sure and then next step that we're going",
    "start": "3376960",
    "end": "3382599"
  },
  {
    "text": "to do is fully switch it all the way uh over to 100 to our new orange",
    "start": "3382599",
    "end": "3389720"
  },
  {
    "text": "service this is a thing that I wanted to show in particular because having I I",
    "start": "3389720",
    "end": "3395280"
  },
  {
    "text": "just said the important thing was the ratio and then we just demonstrated one where the weight is zero so the ratio",
    "start": "3395280",
    "end": "3401359"
  },
  {
    "text": "gets to be a weird concept zero is kind of a special case that says don't take any traffic for this uh on the other",
    "start": "3401359",
    "end": "3409079"
  },
  {
    "text": "hand like you can't do two back end refs that both have a weight of zero that will not give you a 50/50 split I don't",
    "start": "3409079",
    "end": "3416200"
  },
  {
    "text": "I don't know what that does but I'm sure it does nothing I forgot if a controller would reject it I don't know I wonder we'll we'll try it later um but it's",
    "start": "3416200",
    "end": "3424440"
  },
  {
    "text": "kind of Handy to be able to use a weight of zero for this because if you're doing Progressive deployment it makes it easy",
    "start": "3424440",
    "end": "3430039"
  },
  {
    "text": "to go all the way over and then decide okay well things are great now I can go",
    "start": "3430039",
    "end": "3435119"
  },
  {
    "text": "ahead and clean up and use the new version which we will let Mike demonstrate all right so jumping back to",
    "start": "3435119",
    "end": "3442000"
  },
  {
    "text": "here what I'm going to do first is delete the old deployment now that we've",
    "start": "3442000",
    "end": "3447520"
  },
  {
    "text": "successfully uh done our switch over um we want to make sure that we don't have",
    "start": "3447520",
    "end": "3452839"
  },
  {
    "text": "this awkward route in place forever that is redirecting things that are going to the color workload over to color two",
    "start": "3452839",
    "end": "3459960"
  },
  {
    "text": "ideally we can get back to having our single workload just named color so from",
    "start": "3459960",
    "end": "3466200"
  },
  {
    "text": "a functional point of view having color traffic always routed to color 2 forever",
    "start": "3466200",
    "end": "3473160"
  },
  {
    "text": "will work fine but operation Al it will get you into some troubling situations cuz 6",
    "start": "3473160",
    "end": "3480319"
  },
  {
    "text": "weeks down the road people will forget about that and then somebody will do something with the color workload and go",
    "start": "3480319",
    "end": "3486280"
  },
  {
    "text": "oh my God color is not working I need to restart it and then they restart it and nothing happens so yeah definitely best",
    "start": "3486280",
    "end": "3493799"
  },
  {
    "text": "practice to as you're doing these kind of transitions like clean up after yourself yeah so what we're doing now is",
    "start": "3493799",
    "end": "3501480"
  },
  {
    "text": "we're going to look at this color replacement yaml um which we're going to to",
    "start": "3501480",
    "end": "3507160"
  },
  {
    "text": "deploy uh back to the original one this is we're deploying our color 2 service",
    "start": "3507160",
    "end": "3512680"
  },
  {
    "text": "but we're deploying it back to the original one and then what we'll be able to do is we'll be able to get rid of that route and you'll see that uh",
    "start": "3512680",
    "end": "3519559"
  },
  {
    "text": "traffic will just drop back to the original one uh which is now running the",
    "start": "3519559",
    "end": "3524680"
  },
  {
    "text": "new uh actual workload the only difference actually in",
    "start": "3524680",
    "end": "3531559"
  },
  {
    "text": "the yaml is the environment variable named color so it's not a very per change for this particular application",
    "start": "3531559",
    "end": "3538480"
  },
  {
    "text": "so as you see like I deleted the the original workload everything's still going through to that new one",
    "start": "3538480",
    "end": "3543920"
  },
  {
    "text": "currently um I'll apply the uh y for that color workload for",
    "start": "3543920",
    "end": "3551599"
  },
  {
    "text": "that uh color deployment again and roll it back out it's rolled",
    "start": "3551599",
    "end": "3557880"
  },
  {
    "text": "out and nothing's going to go to it yet um but this is the change that should be",
    "start": "3557880",
    "end": "3563640"
  },
  {
    "text": "invisible is we're going to delete that h DP route so we're removing that redirect now that we've successfully",
    "start": "3563640",
    "end": "3570119"
  },
  {
    "text": "deployed back to that original name for this service so we deleted the HTTP route and",
    "start": "3570119",
    "end": "3578200"
  },
  {
    "text": "we jump over here and there's no change visible to the users it's always nice when things",
    "start": "3578200",
    "end": "3585480"
  },
  {
    "text": "work all right and I'll hand it back over to Flynn to talk about how uh rollbacks can we switch over here",
    "start": "3587599",
    "end": "3594920"
  },
  {
    "text": "rollbacks are kind of a I don't know they're a little underwhelming to watch but it's an",
    "start": "3594920",
    "end": "3600559"
  },
  {
    "text": "important thing to be able to do okay so what I'm going to do now is do a 50/50",
    "start": "3600559",
    "end": "3606720"
  },
  {
    "text": "split for over to to sorry a 50/50 split",
    "start": "3606720",
    "end": "3612000"
  },
  {
    "text": "for the smiley workload between Smiley and Smiley 2 so when I do this what I",
    "start": "3612000",
    "end": "3618160"
  },
  {
    "text": "should see is half of that will be grinning smilees and the other half will be hearty smilees but if you were paying",
    "start": "3618160",
    "end": "3626000"
  },
  {
    "text": "attention early when we installed this thing you will remember me saying that I deliberately configured Smiley 2 to be",
    "start": "3626000",
    "end": "3633119"
  },
  {
    "text": "bad um this is exactly the same resource that we showed earlier for the 50/50",
    "start": "3633119",
    "end": "3638960"
  },
  {
    "text": "split just it's Smiley instead of color so when I apply",
    "start": "3638960",
    "end": "3644680"
  },
  {
    "text": "that uh I do see some hard-eyed smilees but I also see some cursing faces because that's where the smiley 2",
    "start": "3644680",
    "end": "3650920"
  },
  {
    "text": "workload fails this is something that you will",
    "start": "3650920",
    "end": "3656520"
  },
  {
    "text": "yeah yeah this is the reality of you deploy a new thing it has a bug sure",
    "start": "3656520",
    "end": "3662520"
  },
  {
    "text": "your new feature you think launched but maybe you need to pull it back because",
    "start": "3662520",
    "end": "3668079"
  },
  {
    "text": "something's not right fortunately this is not a difficult thing to do we just delete the HTTP route and pretend it",
    "start": "3668079",
    "end": "3674799"
  },
  {
    "text": "never happened and there you go that's it we've we've just deployed a bad service",
    "start": "3674799",
    "end": "3682039"
  },
  {
    "text": "and then rolled back and it was horribly difficult right and and that's just because we're not just deploying",
    "start": "3682039",
    "end": "3688480"
  },
  {
    "text": "directly over the old deployment we're creating a new deployment and we're creating this HTTP route to only shift a",
    "start": "3688480",
    "end": "3695480"
  },
  {
    "text": "small percentage of traffic over so we can test it and hopefully catch those errors early and be able to roll back",
    "start": "3695480",
    "end": "3702079"
  },
  {
    "text": "before this gets out to all of our users so at this point the next couple of",
    "start": "3702079",
    "end": "3707119"
  },
  {
    "text": "steps in the demo are prepping for the next thing I'm going to do uh which is",
    "start": "3707119",
    "end": "3712240"
  },
  {
    "text": "to say I'm GNA make Smiley too so it doesn't error all the time um but let's go over to the other laptop",
    "start": "3712240",
    "end": "3719799"
  },
  {
    "text": "to make sure that this works for ISO while I'm doing [Music]",
    "start": "3719799",
    "end": "3726200"
  },
  {
    "text": "that all right so again uh same",
    "start": "3726200",
    "end": "3733960"
  },
  {
    "text": "route I'm applying or sorry uh yes same route uh applying",
    "start": "3735200",
    "end": "3740839"
  },
  {
    "text": "that and let's jump into the browser to check out it same errors",
    "start": "3740839",
    "end": "3747599"
  },
  {
    "text": "it really is nice when we get identical behavior in different environments and we're going to do the exact same thing",
    "start": "3747599",
    "end": "3752880"
  },
  {
    "text": "to roll back we're going to just delete that HTTP route and with that gone our errors",
    "start": "3752880",
    "end": "3758960"
  },
  {
    "text": "start dis disappearing cool all right can we come back to this laptop again",
    "start": "3758960",
    "end": "3766319"
  },
  {
    "text": "please Mery so another thing we can do",
    "start": "3766319",
    "end": "3772640"
  },
  {
    "text": "is you remember that we were talking about being able to do routing based on HTTP headers which is sort of the basis",
    "start": "3772640",
    "end": "3779039"
  },
  {
    "text": "of an AB test instead of just picking a random subset of your traffic to divert",
    "start": "3779039",
    "end": "3784160"
  },
  {
    "text": "to the other workload you pick it based on specific values like the user's name or whatever so I'm going to do an AB",
    "start": "3784160",
    "end": "3791160"
  },
  {
    "text": "test here based on the xes user header",
    "start": "3791160",
    "end": "3797640"
  },
  {
    "text": "specifically um I'm doing this with traffic going too",
    "start": "3797640",
    "end": "3803480"
  },
  {
    "text": "smiley if the request has a header that says xes user test user then take that",
    "start": "3803640",
    "end": "3811760"
  },
  {
    "text": "to Smiley 2 and if you look carefully at this resource you'll see that this is all one",
    "start": "3811760",
    "end": "3817960"
  },
  {
    "text": "stanza so this backend dri is a pier of this matches this backend dff does not have a",
    "start": "3817960",
    "end": "3825039"
  },
  {
    "text": "matches Clause at all so this is s of the default case if we have the test",
    "start": "3825039",
    "end": "3831680"
  },
  {
    "text": "user header we go to Smiley 2 if we don't we go to smiley and this is something that you can have",
    "start": "3831680",
    "end": "3837680"
  },
  {
    "text": "like your ab test infrastructure do where you can like have it uh inject headers like this uh into your services",
    "start": "3837680",
    "end": "3844920"
  },
  {
    "text": "um yeah I think like launch darkley and similar things like there's a bunch of them this is also this is table Stakes",
    "start": "3844920",
    "end": "3851480"
  },
  {
    "text": "yes you need to be able to do this to have a functioning API for solving the English problem what I have here is one",
    "start": "3851480",
    "end": "3857599"
  },
  {
    "text": "browser that has no user associated with it and in my other browser it says user",
    "start": "3857599",
    "end": "3864119"
  },
  {
    "text": "test user because I'm just using mod header to inject xes user test user into",
    "start": "3864119",
    "end": "3870160"
  },
  {
    "text": "all the requests so when I do this we should see that bottom browser",
    "start": "3870160",
    "end": "3875640"
  },
  {
    "text": "window instantly switch over to Hardy Smileys while the upper browser stays",
    "start": "3875640",
    "end": "3881400"
  },
  {
    "text": "that way uh and let's switch over and you can see this Doo can do the same thing as",
    "start": "3881400",
    "end": "3889079"
  },
  {
    "text": "well I don't think I set up my browser to do the the header inject but I'm going to see if I might be able to do it",
    "start": "3889240",
    "end": "3896000"
  },
  {
    "text": "um manually so yep uh there we go deploying",
    "start": "3896000",
    "end": "3902400"
  },
  {
    "text": "the same route we'll Cube cuddle apply",
    "start": "3902400",
    "end": "3909760"
  },
  {
    "text": "it and you can see that nothing's going to",
    "start": "3910559",
    "end": "3916240"
  },
  {
    "text": "hard smilees currently um what is the best way to change that user to test user uh mod",
    "start": "3916240",
    "end": "3924920"
  },
  {
    "text": "header",
    "start": "3924920",
    "end": "3927640"
  },
  {
    "text": "or you could just show it with curl come to think of it all right I am going to skip over",
    "start": "3934599",
    "end": "3942760"
  },
  {
    "text": "this for now that's also a fine I'm just going to skip over for now rather than",
    "start": "3942760",
    "end": "3947799"
  },
  {
    "text": "try to spend a few minutes uh getting something working sorry for sorry for forgetting to check that with you ahead",
    "start": "3947799",
    "end": "3953920"
  },
  {
    "text": "of time it's all right Mike's going great thanks for throwing me under the busz splin really appreciate that but as",
    "start": "3953920",
    "end": "3961839"
  },
  {
    "text": "you can see though um without that header applied traffic is still going uh directly to uh the regular service okay",
    "start": "3961839",
    "end": "3969200"
  },
  {
    "text": "how about let's switch back to the other laptop then and we will continue a",
    "start": "3969200",
    "end": "3976039"
  },
  {
    "text": "bit all right so this is another one",
    "start": "3977520",
    "end": "3983839"
  },
  {
    "text": "where we could modify this route if we decide that our user base just really loves the Hardy",
    "start": "3983839",
    "end": "3990279"
  },
  {
    "text": "Smileys and so we want to do everything with hard eyes then we could do this by",
    "start": "3990279",
    "end": "3995440"
  },
  {
    "text": "inserting another matches Clause into the previous route but it's a lot easier just to delete that backend ref entirely",
    "start": "3995440",
    "end": "4002400"
  },
  {
    "text": "and this is now a route that will unconditionally take all the traffic",
    "start": "4002400",
    "end": "4008000"
  },
  {
    "text": "that was going to the smiley service and send it to the smiley 2 service so when I apply this one everybody gets hard",
    "start": "4008000",
    "end": "4014920"
  },
  {
    "text": "eyes now we mentioned earlier this is not a",
    "start": "4014920",
    "end": "4022279"
  },
  {
    "text": "state that you should leave your cluster in especially because right now we have a smiley workload that's getting no",
    "start": "4022279",
    "end": "4028119"
  },
  {
    "text": "traffic whatsoever and that will be very confusing operationally I'm just going to delete the ab test route which will",
    "start": "4028119",
    "end": "4034640"
  },
  {
    "text": "switch everybody back to normal grinning Smileys but you know cleans up for this",
    "start": "4034640",
    "end": "4040039"
  },
  {
    "text": "next little chunk of the demo um let's flip back over to me so I can just show the same thing over going to be uh",
    "start": "4040039",
    "end": "4046839"
  },
  {
    "text": "deleting that other backend ref um to remove that filter and making sure that everything is going over uh to Smiley to",
    "start": "4046839",
    "end": "4055480"
  },
  {
    "text": "instead so that everything is still going to",
    "start": "4055480",
    "end": "4059798"
  },
  {
    "text": "Smiley actually you could just do that one it's fine you won't notice you won't",
    "start": "4067799",
    "end": "4073039"
  },
  {
    "text": "notice any change so let's go ahead talk quickly about timeouts",
    "start": "4073039",
    "end": "4080000"
  },
  {
    "text": "um timeouts are a little bit interesting because if you look over the browsers",
    "start": "4082160",
    "end": "4088799"
  },
  {
    "text": "you'll see some of these where the cell kind of Fades away and that's because a",
    "start": "4088799",
    "end": "4094039"
  },
  {
    "text": "call took too long so we can use timeouts to make this a better experience for the",
    "start": "4094039",
    "end": "4100318"
  },
  {
    "text": "user demoing timeouts is a little bit weird because timeouts are really about",
    "start": "4100319",
    "end": "4106278"
  },
  {
    "text": "returning agency to the client they actually tend to increase load on your workloads which can be",
    "start": "4106279",
    "end": "4112679"
  },
  {
    "text": "interesting and Visually it can be a little bit weird to make sure that we",
    "start": "4112679",
    "end": "4118238"
  },
  {
    "text": "demo what's going on properly so what we're going to do is we're going to start down in the call graph we're going",
    "start": "4118239",
    "end": "4126440"
  },
  {
    "text": "to add a timeout to the color Service First and what you'll see in the guey is",
    "start": "4126440",
    "end": "4132120"
  },
  {
    "text": "if the timeout fires you'll see pink background s instead of orange or",
    "start": "4132120",
    "end": "4138318"
  },
  {
    "text": "blue so if I do oh yeah and this is a very important",
    "start": "4138319",
    "end": "4143880"
  },
  {
    "text": "point I'm ashamed to admit it but linkerd is not all the way up to Gateway",
    "start": "4143880",
    "end": "4149679"
  },
  {
    "text": "API one do zero yet so this is the only place in this demo where we have to do",
    "start": "4149679",
    "end": "4154880"
  },
  {
    "text": "things differently between stdo and linkerd to do this with linkerd I have to use a different API Group we're",
    "start": "4154880",
    "end": "4162960"
  },
  {
    "text": "getting this fixed so in the linkerd version you'll",
    "start": "4162960",
    "end": "4168400"
  },
  {
    "text": "see that I'm now using this policy. linkerd doio resource",
    "start": "4168400",
    "end": "4175238"
  },
  {
    "text": "uh it's a long story but this was the way Linker started experimenting with Gateway API before it was possible for a",
    "start": "4175239",
    "end": "4183880"
  },
  {
    "text": "mesh to be conformant with Gateway API so this was the way we kind of had to do",
    "start": "4183880",
    "end": "4190040"
  },
  {
    "text": "that um same thing with app parent ref here",
    "start": "4190040",
    "end": "4195800"
  },
  {
    "text": "we're adding a timeouts Clause to the backend ref we're saying overall if the",
    "start": "4195800",
    "end": "4201760"
  },
  {
    "text": "request as a whole takes more than 300 milliseconds cut it short return",
    "start": "4201760",
    "end": "4206800"
  },
  {
    "text": "timeout and when I do this we should start seeing some pink cells showing",
    "start": "4206800",
    "end": "4212360"
  },
  {
    "text": "up it's a little trickier to see that with the orange things than I would have thought but that's",
    "start": "4212360",
    "end": "4218679"
  },
  {
    "text": "okay um we can do the same thing with smileys",
    "start": "4218679",
    "end": "4227320"
  },
  {
    "text": "again 300 millisecond timeout and Smileys we will get a sleeping face",
    "start": "4227360",
    "end": "4233280"
  },
  {
    "text": "whenever that times out so you can already see that first there are fewer",
    "start": "4233280",
    "end": "4238480"
  },
  {
    "text": "fading cells now because we've what happens is the face workload has to talk",
    "start": "4238480",
    "end": "4244159"
  },
  {
    "text": "to the smiley workload and the color workload so it will always take longer than either of them but now that we're",
    "start": "4244159",
    "end": "4251400"
  },
  {
    "text": "cutting those short deeper in the call graph the front service actually behaves",
    "start": "4251400",
    "end": "4257679"
  },
  {
    "text": "differently now so we see fewer fading out cells but we still see some um let's flip over to this",
    "start": "4257679",
    "end": "4265239"
  },
  {
    "text": "laptop uh oh Mike is editing something that makes me nervous I'm just making sure the API Group or version is uh",
    "start": "4265239",
    "end": "4272560"
  },
  {
    "text": "correct for the sd1 that's a good thing to check",
    "start": "4272560",
    "end": "4278239"
  },
  {
    "text": "yeah I was the one who added the timeout part to the demo and so it's entirely",
    "start": "4279320",
    "end": "4284679"
  },
  {
    "text": "possible that I could have copied the file and then forgot to change the IPI group for sto see yeah if we can just",
    "start": "4284679",
    "end": "4290280"
  },
  {
    "text": "switch over to my laptop again I'll be able to just show the one difference in",
    "start": "4290280",
    "end": "4296719"
  },
  {
    "text": "this file that hopefully on a future release of linker D we'll get back over",
    "start": "4296719",
    "end": "4301840"
  },
  {
    "text": "to uh the official Gateway API this is not a permanent thing for Linker D",
    "start": "4301840",
    "end": "4308880"
  },
  {
    "text": "[Music] definitely could we get the other laptop please thank you all all right so if you",
    "start": "4309090",
    "end": "4316800"
  },
  {
    "text": "can see just the top line of this file here uh instead of the special linkerd API version group uh we have the",
    "start": "4316800",
    "end": "4322880"
  },
  {
    "text": "official gateway. networking. kat. ib1 um and then I'm going to try to",
    "start": "4322880",
    "end": "4329000"
  },
  {
    "text": "deploy this Smiley uh that's the smiley timeout but that's the same as the other",
    "start": "4329000",
    "end": "4335080"
  },
  {
    "text": "one that was the one I just had to edit uh the color timeouts the same uh",
    "start": "4335080",
    "end": "4340600"
  },
  {
    "text": "or gateway. n.k. um and I'll jump over",
    "start": "4340600",
    "end": "4347159"
  },
  {
    "text": "to deploy this so color timeout",
    "start": "4348719",
    "end": "4355400"
  },
  {
    "text": "ISO um looks like that and we should start see some pink",
    "start": "4355400",
    "end": "4361159"
  },
  {
    "text": "cells appearing yep and there we go so now we'll deploy the next one to",
    "start": "4361159",
    "end": "4371199"
  },
  {
    "text": "add some artificial latency and timeout uh handling on",
    "start": "4371199",
    "end": "4377199"
  },
  {
    "text": "the smiley timeout which again us using that uh API",
    "start": "4377199",
    "end": "4385120"
  },
  {
    "text": "Group is the only reason that we have different files this will eventually reconcile in the very near",
    "start": "4385120",
    "end": "4391120"
  },
  {
    "text": "future yeah hopefully not that eventually uh and now you start seeing",
    "start": "4391120",
    "end": "4396280"
  },
  {
    "text": "those uh smilees with the snoozy icon because they're taking a nap uh that",
    "start": "4396280",
    "end": "4402600"
  },
  {
    "text": "that service um is being basically cut off um by the face service because uh it",
    "start": "4402600",
    "end": "4408760"
  },
  {
    "text": "says yep sorry you took too long uh just return just I'm going to error out instead and ship what I have off to the",
    "start": "4408760",
    "end": "4416080"
  },
  {
    "text": "end user rather than making them wait potentially for 10 seconds or something like that yep so why don't you go ahead with your",
    "start": "4416080",
    "end": "4424120"
  },
  {
    "text": "laptop here uh the next thing that we're going to do is to do that timeout also for the",
    "start": "4424120",
    "end": "4431440"
  },
  {
    "text": "face workload itself but this one we're going to do with the Gateway controller not with a",
    "start": "4431440",
    "end": "4437920"
  },
  {
    "text": "service mesh so if you look at the I think it's going to show you the next",
    "start": "4437920",
    "end": "4445400"
  },
  {
    "text": "resource oh right there's some explanation in there because the guey",
    "start": "4445440",
    "end": "4450719"
  },
  {
    "text": "gets to make kind of interesting choices about what it wants to do for a timeout",
    "start": "4450719",
    "end": "4456320"
  },
  {
    "text": "what the guey currently does is it will keep the if the face surfice itself times out then the GUI will just show",
    "start": "4456320",
    "end": "4464760"
  },
  {
    "text": "the old data but for the moment we increment a counter in the corner so you",
    "start": "4464760",
    "end": "4470159"
  },
  {
    "text": "can see how often it happens if it keeps happening over and over again we'll fade the whole cell out as a timed out cell",
    "start": "4470159",
    "end": "4476080"
  },
  {
    "text": "so hopefully we'll see some of that so let's take a look at this resource here um you'll notice the parent ref is",
    "start": "4476080",
    "end": "4484280"
  },
  {
    "text": "now back to Ingress because we're applying this for the Gateway controller",
    "start": "4484280",
    "end": "4489360"
  },
  {
    "text": "to to take action Y because it's the Gateway controller is the one that's mediating the connection into the the",
    "start": "4489360",
    "end": "4495639"
  },
  {
    "text": "the phase workload you could do this with a mesh as well but the Ingress controller is a",
    "start": "4495639",
    "end": "4501000"
  },
  {
    "text": "often a more graceful way and we're back on the common API version as well because we're cing Envoy Gateway or ISO",
    "start": "4501000",
    "end": "4507719"
  },
  {
    "text": "Ingress right and we're actually editing the existing face route because we're",
    "start": "4507719",
    "end": "4514120"
  },
  {
    "text": "just we already have a route that does this we just want to modify it slightly so we're just adding a timeout Clause to it uh you'll also note that the timeout",
    "start": "4514120",
    "end": "4521639"
  },
  {
    "text": "here is deliberately less than the 300 millisecond timeout from either of the",
    "start": "4521639",
    "end": "4526960"
  },
  {
    "text": "backend workloads mostly because it makes it easier to see something",
    "start": "4526960",
    "end": "4532000"
  },
  {
    "text": "different all right so I'm going to apply this and then hopefully we should start seeing a counter up",
    "start": "4532000",
    "end": "4538880"
  },
  {
    "text": "here all right so I'm going to zoom in a little bit just so you can see that easier you also notice that the we see a",
    "start": "4538880",
    "end": "4546920"
  },
  {
    "text": "lot fewer of the pink backgrounds or sleeping faces because now the gooey is",
    "start": "4546920",
    "end": "4554560"
  },
  {
    "text": "protect in us from that with the shorter timeout all the way at the front if we",
    "start": "4554560",
    "end": "4560400"
  },
  {
    "text": "let this go longer yeah there we go we got a we got a cell that faded out a little bit or that that turned less",
    "start": "4560400",
    "end": "4567679"
  },
  {
    "text": "opaque there's got to be a better word than fade for that so yeah so this is how you can have",
    "start": "4567679",
    "end": "4574320"
  },
  {
    "text": "a more robust kind of timeout architecture like within your mesh so that you don't end up with like",
    "start": "4574320",
    "end": "4580040"
  },
  {
    "text": "extraneous Long Live things that are putting inordinate load on your services inside so you're able to",
    "start": "4580040",
    "end": "4585679"
  },
  {
    "text": "uh kind of manage the health of those Services inside your mesh more predictably um but still have that uh",
    "start": "4585679",
    "end": "4592400"
  },
  {
    "text": "control at the external layer to really protect the user from seeing all of the things that you're doing inside your",
    "start": "4592400",
    "end": "4598239"
  },
  {
    "text": "microservice architecture so let's come back to uh",
    "start": "4598239",
    "end": "4603480"
  },
  {
    "text": "the other laptop please this that's the end of the workshop stuff let's talk a little bit about",
    "start": "4603480",
    "end": "4611040"
  },
  {
    "text": "gotas um very important when things are not working the first thing to look at",
    "start": "4611639",
    "end": "4617880"
  },
  {
    "text": "is going to be the status on your various Gateway API resources especially",
    "start": "4617880",
    "end": "4623080"
  },
  {
    "text": "HTTP routes um one of the most common failures that you run across is you",
    "start": "4623080",
    "end": "4630280"
  },
  {
    "text": "create an HTTP route but the parent ref is wrong or the permissions are wrong so",
    "start": "4630280",
    "end": "4636600"
  },
  {
    "text": "no Gateway controller or no implementation of the Gateway API actually claims it and does anything",
    "start": "4636600",
    "end": "4642679"
  },
  {
    "text": "with it and you will see that in the stat stat this really you'll see that there's nothing in the status and that",
    "start": "4642679",
    "end": "4648920"
  },
  {
    "text": "will tell you that nothing claimed it and this is exactly the problem that I ran into uh when I had that wrong API",
    "start": "4648920",
    "end": "4654719"
  },
  {
    "text": "Group where it said core I did exactly this step I did Cube cuddle get HTTP",
    "start": "4654719",
    "end": "4660000"
  },
  {
    "text": "route the the name of it in the faces name space um and check the status and there was nothing there because the iso",
    "start": "4660000",
    "end": "4666719"
  },
  {
    "text": "Gateway API controller didn't understand what group core was so uh once I",
    "start": "4666719",
    "end": "4671920"
  },
  {
    "text": "switched it to the empty string then I was able to check the status of that route and see oh it was recognized it",
    "start": "4671920",
    "end": "4678960"
  },
  {
    "text": "was populated the controller will list something that says like accepted true it'll say conflicted false uh and a",
    "start": "4678960",
    "end": "4685880"
  },
  {
    "text": "handful of other things to kind of like let you know that that route was recognized it was applied it was",
    "start": "4685880",
    "end": "4691840"
  },
  {
    "text": "understood and then it was actually programmed into the underlying architecture I've had the opposite",
    "start": "4691840",
    "end": "4697199"
  },
  {
    "text": "experience with linkerd if you don't specify group the",
    "start": "4697199",
    "end": "4702280"
  },
  {
    "text": "group empty string or group core for us if you don't specify that it usually assumes that the group is gateway.",
    "start": "4702280",
    "end": "4709800"
  },
  {
    "text": "networking. kat. which if you're trying to use a service is wrong y same thing what is",
    "start": "4709800",
    "end": "4718080"
  },
  {
    "text": "going on check the statuses oh okay now I got it and and there's also links on there",
    "start": "4718080",
    "end": "4725199"
  },
  {
    "text": "for like the in the API specification reference on the Gateway API website uh",
    "start": "4725199",
    "end": "4731080"
  },
  {
    "text": "you can look for Gateway condition type Gateway condition reason route condition type route condition reason and you'll",
    "start": "4731080",
    "end": "4738199"
  },
  {
    "text": "find a detailed explanation of what each of the possible standard ones are uh each implementation can also add some of",
    "start": "4738199",
    "end": "4744679"
  },
  {
    "text": "their own if they have unique things that they're able to express right as a human usually you can just read it and",
    "start": "4744679",
    "end": "4752040"
  },
  {
    "text": "it makes sense which is kind of nice you remember I mentioned earlier",
    "start": "4752040",
    "end": "4759639"
  },
  {
    "text": "that there's a distinction between the parent ref and the backend ref for how the service how a service will be",
    "start": "4759639",
    "end": "4767880"
  },
  {
    "text": "interpreted this is kind of important you can't do things like this in Gateway",
    "start": "4767880",
    "end": "4773800"
  },
  {
    "text": "API you cannot have requests that go to Foo might go to Foo or bar but then",
    "start": "4773800",
    "end": "4779040"
  },
  {
    "text": "requests that go to Bar will get split between bar and baz what ends up happening is that if you have traffic",
    "start": "4779040",
    "end": "4785040"
  },
  {
    "text": "that goes directly to bar it will be split between bar and baz but traffic that goes to Foo will never be split",
    "start": "4785040",
    "end": "4792440"
  },
  {
    "text": "once it reaches bar and the reason for that is that the parent ref is only interpreted",
    "start": "4792440",
    "end": "4801760"
  },
  {
    "text": "as the what we call the front end of the service the thing with the DNS name and",
    "start": "4801760",
    "end": "4807520"
  },
  {
    "text": "a cluster IP so if you address traffic directly to one of the endpoint IPS",
    "start": "4807520",
    "end": "4813159"
  },
  {
    "text": "we're not going to split it or do anything funky like that um the end result is that if you try to set up an",
    "start": "4813159",
    "end": "4820000"
  },
  {
    "text": "architecture like this you are actually setting up something that looks like",
    "start": "4820000",
    "end": "4826320"
  },
  {
    "text": "this and this is not a bug so much as it is a",
    "start": "4826320",
    "end": "4835040"
  },
  {
    "text": "thing to be aware of I don't see this changing anytime soon because if it does",
    "start": "4835040",
    "end": "4840239"
  },
  {
    "text": "change oh my God things get complicated it it really actually isn't designed to",
    "start": "4840239",
    "end": "4845560"
  },
  {
    "text": "protect you from really nasty cyclical things where you start losing a complete",
    "start": "4845560",
    "end": "4852679"
  },
  {
    "text": "understanding of where you're tra is getting shipped off to yeah it's it's fun to go down the rabbit hole but it's",
    "start": "4852679",
    "end": "4859960"
  },
  {
    "text": "it's a bad idea right yes um oh can we just jump back over to my",
    "start": "4859960",
    "end": "4865639"
  },
  {
    "text": "laptop for a second I just want to show an example of kind of what that status is going to look like that we were talking about",
    "start": "4865639",
    "end": "4871560"
  },
  {
    "text": "yeah um you know what actually let me talk about this slide really quickly because we're at the end and we should",
    "start": "4871560",
    "end": "4878159"
  },
  {
    "text": "be opening up for questions anyway um yeah so we talked about using Gateway AI",
    "start": "4878159",
    "end": "4883679"
  },
  {
    "text": "for north south and East West routing in the same cluster at the same time we mentioned earlier yeah you should",
    "start": "4883679",
    "end": "4889840"
  },
  {
    "text": "definitely consider Gateway API for new stuff uh you should learn if you're not",
    "start": "4889840",
    "end": "4895520"
  },
  {
    "text": "wanting to use it for new stuff right now there are pretty easy ways to use",
    "start": "4895520",
    "end": "4901280"
  },
  {
    "text": "tools like Argo and Flagger to automate to use Gateway API for Progressive",
    "start": "4901280",
    "end": "4906360"
  },
  {
    "text": "delivery with all of their funky stuff uh Linker works well with those ISO works well with",
    "start": "4906360",
    "end": "4912600"
  },
  {
    "text": "those I don't think I've actually personally tried it with Envoy Gateway but hey it's a Gateway API it'll work",
    "start": "4912600",
    "end": "4918239"
  },
  {
    "text": "sure um and you can check on the Sig Network calendar for the Gateway API and Gamma meetings both of which tend to",
    "start": "4918239",
    "end": "4925560"
  },
  {
    "text": "alternate time zones to try to make it convenient wherever you are in the world and with that yes let's go back to",
    "start": "4925560",
    "end": "4932719"
  },
  {
    "text": "this laptop so that we can take a look at some status yeah so just this is just",
    "start": "4932719",
    "end": "4938159"
  },
  {
    "text": "an example uh I did Cube cuddle get HTTP route names space faces and the face",
    "start": "4938159",
    "end": "4943320"
  },
  {
    "text": "root is the one that I'm looking at as an example um piping it to yq we talked about that in the beginning it's just",
    "start": "4943320",
    "end": "4948639"
  },
  {
    "text": "like JQ but for yaml to be able to colorize it and uh filter so I'm only showing the status field uh and you'll",
    "start": "4948639",
    "end": "4955480"
  },
  {
    "text": "see uh the parents group here is the parent ref at the bottom there uh is",
    "start": "4955480",
    "end": "4961280"
  },
  {
    "text": "saying that this HTTP route uh is attached or is is targeting uh the sto",
    "start": "4961280",
    "end": "4969120"
  },
  {
    "text": "uh Ingress Gateway um well it's targeting sorry a Gateway by the name Ingress which happens to be an",
    "start": "4969120",
    "end": "4975520"
  },
  {
    "text": "implementation of iso in this case uh if Flynn did the same thing this would actually look the same it would have the",
    "start": "4975520",
    "end": "4981400"
  },
  {
    "text": "same name but it would be a very different Gateway controller yes uh so yeah the controller name though you'll",
    "start": "4981400",
    "end": "4987800"
  },
  {
    "text": "see is the sto Gateway controller so that's how you can tell that this is being recognized and parsed and reported",
    "start": "4987800",
    "end": "4994239"
  },
  {
    "text": "uh by my controller uh for ISO and not the linkerd controller um and then the",
    "start": "4994239",
    "end": "4999840"
  },
  {
    "text": "list of conditions there you'll see when it was updated you'll uh see the type of",
    "start": "4999840",
    "end": "5005679"
  },
  {
    "text": "the condition and then the status and then the reason for the two basic ones",
    "start": "5005679",
    "end": "5010800"
  },
  {
    "text": "uh accepted true means the controller says that it's syntactically valid and is trying to understand it um and then",
    "start": "5010800",
    "end": "5018520"
  },
  {
    "text": "resolve ref means that for the services that you defined in the backend refs",
    "start": "5018520",
    "end": "5023639"
  },
  {
    "text": "that they are real things that it understands so if you make a typo there you might see something like resolved",
    "start": "5023639",
    "end": "5030239"
  },
  {
    "text": "refs false and that's a great place to check if traffic is not going uh to",
    "start": "5030239",
    "end": "5035679"
  },
  {
    "text": "where you expect it to go and that's basically it so if there",
    "start": "5035679",
    "end": "5041960"
  },
  {
    "text": "are any questions now is a great time if there are no questions I'll be",
    "start": "5041960",
    "end": "5048280"
  },
  {
    "text": "very surprised yeah go",
    "start": "5048280",
    "end": "5053960"
  },
  {
    "text": "ahead so so that's are there plans to integrate egress functionality into",
    "start": "5062239",
    "end": "5067320"
  },
  {
    "text": "Gateway API and if so when is that correct yeah yes uh that's a really",
    "start": "5067320",
    "end": "5073280"
  },
  {
    "text": "interesting question it's definitely something that has come up there are a",
    "start": "5073280",
    "end": "5078760"
  },
  {
    "text": "few vendors that are interested in working on ESS functionality um there",
    "start": "5078760",
    "end": "5084119"
  },
  {
    "text": "was an attempt at writing a gap to propose some of this I think that we",
    "start": "5084119",
    "end": "5089560"
  },
  {
    "text": "ended up holding on it for now because we couldn't find enough Common Ground",
    "start": "5089560",
    "end": "5095600"
  },
  {
    "text": "between different implementations to really understand what the best way to do this was going to be one of the real",
    "start": "5095600",
    "end": "5101400"
  },
  {
    "text": "challenges with Gateway API is as you start looking at different functionality",
    "start": "5101400",
    "end": "5106800"
  },
  {
    "text": "you realize that the different implementations can do very very different things at a detailed level and",
    "start": "5106800",
    "end": "5115560"
  },
  {
    "text": "uh yeah life can be really complex with that and egress in particular has maybe",
    "start": "5115560",
    "end": "5121080"
  },
  {
    "text": "even more different use cases so like when I'm looking at press from the perspective of a mesh like esto I want",
    "start": "5121080",
    "end": "5128119"
  },
  {
    "text": "like an allow list of specific domains or something like that that my traffic is allowed to exit too um when you have",
    "start": "5128119",
    "end": "5135280"
  },
  {
    "text": "say a Telco provider or somebody building gateways for them working with",
    "start": "5135280",
    "end": "5140520"
  },
  {
    "text": "egress what they're thinking of is I want to make sure my traffic exits on a stable IP from the tower so that is an",
    "start": "5140520",
    "end": "5149040"
  },
  {
    "text": "extremely different concern even though they're both in the realm of egress Gateway so yeah one of the really",
    "start": "5149040",
    "end": "5156000"
  },
  {
    "text": "entertaining things that happened was when some of the folks dealing with 5G telephony started coming to Gateway API",
    "start": "5156000",
    "end": "5161320"
  },
  {
    "text": "meetings and all of us who are not in 5G telephony went oh my God you guys are wait wait what explain that again it's",
    "start": "5161320",
    "end": "5169000"
  },
  {
    "text": "really exciting there's a lot of potential maybe longterm but it's definitely not something that's on the immediate road map um there's also other",
    "start": "5169000",
    "end": "5177000"
  },
  {
    "text": "efforts to deal with egress traffic underway in network policy that we want to make sure that we're not going to do",
    "start": "5177000",
    "end": "5183239"
  },
  {
    "text": "something Terri different from uh so yeah making sure that we're trying to have those conversations and reconcile",
    "start": "5183239",
    "end": "5190360"
  },
  {
    "text": "our approaches across the kubernetes landscape with other sigs is going to be an important part of how we approach",
    "start": "5190360",
    "end": "5196040"
  },
  {
    "text": "eress as well go ahead yeah uh thank you for the",
    "start": "5196040",
    "end": "5201480"
  },
  {
    "text": "workshop was very fun thank you uh I got a question about how the priorities of matchers are",
    "start": "5201480",
    "end": "5209239"
  },
  {
    "text": "working because in essence HTTP routes are decentralized you can have multiple",
    "start": "5209239",
    "end": "5215040"
  },
  {
    "text": "different objects matching on slightly different things and it is reasonable to",
    "start": "5215040",
    "end": "5223040"
  },
  {
    "text": "assume that there is the same matcher in different HTTP routes which one will",
    "start": "5223040",
    "end": "5229040"
  },
  {
    "text": "actually take precedence uh the short answer to that question is you need to look at the",
    "start": "5229040",
    "end": "5234440"
  },
  {
    "text": "Gateway API documentation and there's a whole section on exactly that question",
    "start": "5234440",
    "end": "5241760"
  },
  {
    "text": "um very broadly speaking more specific things win over less",
    "start": "5241760",
    "end": "5246920"
  },
  {
    "text": "specific things but there's there's stuff to read",
    "start": "5246920",
    "end": "5252719"
  },
  {
    "text": "there there are at least for a good chunk of that there are conformance",
    "start": "5252719",
    "end": "5257880"
  },
  {
    "text": "tests so that most implementations should behave the same way um that's",
    "start": "5257880",
    "end": "5264560"
  },
  {
    "text": "where you'll also potentially see things like if your routes are targeting completely different HTP paths and",
    "start": "5264560",
    "end": "5270840"
  },
  {
    "text": "they're able to like be applied simultaneously without conflicting with each other then that might be fine and that might work um if they're trying to",
    "start": "5270840",
    "end": "5278560"
  },
  {
    "text": "do two different things like attach a grpc route and HTTP route to the same listener you might get an error like a",
    "start": "5278560",
    "end": "5286119"
  },
  {
    "text": "conflicted uh raised and the implementation will say that sorry you can't do that",
    "start": "5286119",
    "end": "5293480"
  },
  {
    "text": "yep I got another quick question um what happens in a situation where the backend",
    "start": "5293480",
    "end": "5301199"
  },
  {
    "text": "ref is not healthy from the point of view of kubernetes so the service itself",
    "start": "5301199",
    "end": "5306400"
  },
  {
    "text": "doesn't have any end point back in it if the service exists but it has no",
    "start": "5306400",
    "end": "5314960"
  },
  {
    "text": "workloads I think traffic to the route gets 500s but I would have to go look that",
    "start": "5314960",
    "end": "5321600"
  },
  {
    "text": "one up exactly and if there are several uh Services back in it would automaic uh",
    "start": "5321600",
    "end": "5328719"
  },
  {
    "text": "load balancing happened to the failover that's actually going to tell you um that's going to depend on the",
    "start": "5328719",
    "end": "5334639"
  },
  {
    "text": "implementation and how it does that one we are being told that we are out of time I'm AP apologize for the folks",
    "start": "5334639",
    "end": "5340719"
  },
  {
    "text": "whose questions we didn't get to we will both be up here so absolutely come on up and ask your questions anyway and you",
    "start": "5340719",
    "end": "5347360"
  },
  {
    "text": "can find us in these places or the cncf slack or via email so thank you very",
    "start": "5347360",
    "end": "5353800"
  },
  {
    "text": "much thank you everyone",
    "start": "5353800",
    "end": "5360119"
  }
]