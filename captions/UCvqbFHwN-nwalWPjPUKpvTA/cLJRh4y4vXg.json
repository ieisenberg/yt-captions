[
  {
    "text": "okay we're going to get started Holy cow",
    "start": "320",
    "end": "2879"
  },
  {
    "text": "I can't see anything back there These",
    "start": "2879",
    "end": "4640"
  },
  {
    "text": "lights are",
    "start": "4640",
    "end": "5720"
  },
  {
    "text": "bright Okay really quick exercise I'm",
    "start": "5720",
    "end": "8160"
  },
  {
    "text": "going to do my best to see but I need",
    "start": "8160",
    "end": "10480"
  },
  {
    "text": "some help from the audience Can you",
    "start": "10480",
    "end": "12960"
  },
  {
    "text": "raise your hand if you have ever had a",
    "start": "12960",
    "end": "16240"
  },
  {
    "text": "GPU fall off the",
    "start": "16240",
    "end": "19160"
  },
  {
    "text": "bus I can't really see I see a few There",
    "start": "19160",
    "end": "22720"
  },
  {
    "text": "are some hands Yeah All right keep your",
    "start": "22720",
    "end": "24320"
  },
  {
    "text": "hands raised for a second Uh if you have",
    "start": "24320",
    "end": "27199"
  },
  {
    "text": "had to restart a machine because a",
    "start": "27199",
    "end": "30599"
  },
  {
    "text": "GPU wasn't working the way you'd hoped",
    "start": "30599",
    "end": "34079"
  },
  {
    "text": "How many more hands Oh even more Okay",
    "start": "34079",
    "end": "36800"
  },
  {
    "text": "quite a few Okay you can put your hands",
    "start": "36800",
    "end": "38079"
  },
  {
    "text": "down Thank you Okay Um so we're from",
    "start": "38079",
    "end": "40480"
  },
  {
    "text": "NVIDIA I'm Ryan Haly This is Natalie",
    "start": "40480",
    "end": "42879"
  },
  {
    "text": "Bandelle Um and we encounter this too I",
    "start": "42879",
    "end": "47440"
  },
  {
    "text": "had my hand raised She had her hand",
    "start": "47440",
    "end": "48879"
  },
  {
    "text": "raised We experience this a lot Um and",
    "start": "48879",
    "end": "52160"
  },
  {
    "text": "uh so we we feel your pain on this We",
    "start": "52160",
    "end": "54160"
  },
  {
    "text": "this is something that uh we're going to",
    "start": "54160",
    "end": "55600"
  },
  {
    "text": "be talking about how how we deal with",
    "start": "55600",
    "end": "57360"
  },
  {
    "text": "this Uh we run Kubernetes clusters and",
    "start": "57360",
    "end": "59840"
  },
  {
    "text": "we have a lot of GPUs and we go through",
    "start": "59840",
    "end": "62320"
  },
  {
    "text": "the same thing We will reboot our GPUs",
    "start": "62320",
    "end": "65360"
  },
  {
    "text": "for for different various reasons So",
    "start": "65360",
    "end": "67840"
  },
  {
    "text": "that's what we're going to talk",
    "start": "67840",
    "end": "70640"
  },
  {
    "text": "about Okay So a little bit about our uh",
    "start": "71479",
    "end": "74720"
  },
  {
    "text": "our Kubernetes clusters Um we've got a",
    "start": "74720",
    "end": "77280"
  },
  {
    "text": "large fleet We've got uh geoloccated all",
    "start": "77280",
    "end": "80320"
  },
  {
    "text": "over the world Um so pretty much in",
    "start": "80320",
    "end": "83360"
  },
  {
    "text": "we're in a lot of countries uh 40 plus",
    "start": "83360",
    "end": "86080"
  },
  {
    "text": "clusters 30,000 plus nodes uh 60,000",
    "start": "86080",
    "end": "90080"
  },
  {
    "text": "plus GPUs so roughly two GPUs uh two",
    "start": "90080",
    "end": "93200"
  },
  {
    "text": "GPUs per node of density",
    "start": "93200",
    "end": "95920"
  },
  {
    "text": "uh and like I said we run into a lot of",
    "start": "95920",
    "end": "97920"
  },
  {
    "text": "device failures so that's a lot of GPUs",
    "start": "97920",
    "end": "99759"
  },
  {
    "text": "so we do encounter",
    "start": "99759",
    "end": "102720"
  },
  {
    "text": "this okay so the product that uh that we",
    "start": "104520",
    "end": "107360"
  },
  {
    "text": "actually represent we build the",
    "start": "107360",
    "end": "108399"
  },
  {
    "text": "infrastructure for it's called",
    "start": "108399",
    "end": "111119"
  },
  {
    "text": "GeForce Now it's I think Nvidia cloud",
    "start": "111119",
    "end": "114320"
  },
  {
    "text": "gaming Um so we want to take graphics",
    "start": "114320",
    "end": "117200"
  },
  {
    "text": "and we want to stream these to the end",
    "start": "117200",
    "end": "119600"
  },
  {
    "text": "user So we want low latency you know",
    "start": "119600",
    "end": "121840"
  },
  {
    "text": "we're geollocated right near the the",
    "start": "121840",
    "end": "123439"
  },
  {
    "text": "user Um and we want to give that that uh",
    "start": "123439",
    "end": "126159"
  },
  {
    "text": "desktop experience uh for the GPU like",
    "start": "126159",
    "end": "128800"
  },
  {
    "text": "you're playing the game locally",
    "start": "128800",
    "end": "131239"
  },
  {
    "text": "Um so our workload uh primarily when",
    "start": "131239",
    "end": "134400"
  },
  {
    "text": "representing uh and working with uh",
    "start": "134400",
    "end": "136400"
  },
  {
    "text": "GeForce Now is we have a lot of online",
    "start": "136400",
    "end": "138000"
  },
  {
    "text": "gaming like I said and we also do a bit",
    "start": "138000",
    "end": "140000"
  },
  {
    "text": "of inferencing uh we have spot capacity",
    "start": "140000",
    "end": "142319"
  },
  {
    "text": "um so we'll run some inferencing",
    "start": "142319",
    "end": "143840"
  },
  {
    "text": "workloads uh there with our additional",
    "start": "143840",
    "end": "146520"
  },
  {
    "text": "capacity um so we'll we'll fill our data",
    "start": "146520",
    "end": "148959"
  },
  {
    "text": "centers quite a bit",
    "start": "148959",
    "end": "152599"
  },
  {
    "text": "Okay so device failures",
    "start": "152800",
    "end": "156280"
  },
  {
    "text": "Um so we want to maintain our capacity",
    "start": "156280",
    "end": "159680"
  },
  {
    "text": "right It's really important We want our",
    "start": "159680",
    "end": "161040"
  },
  {
    "text": "GPUs running really hot They they cost",
    "start": "161040",
    "end": "163840"
  },
  {
    "text": "us a lot of money We put a lot of effort",
    "start": "163840",
    "end": "165280"
  },
  {
    "text": "into putting them into the data center",
    "start": "165280",
    "end": "167519"
  },
  {
    "text": "and we want them used Um so that's a",
    "start": "167519",
    "end": "170480"
  },
  {
    "text": "really important thing and thing that",
    "start": "170480",
    "end": "172080"
  },
  {
    "text": "we're going to be thinking about a lot",
    "start": "172080",
    "end": "173360"
  },
  {
    "text": "So we really care about this right A",
    "start": "173360",
    "end": "175200"
  },
  {
    "text": "device we put all that effort into",
    "start": "175200",
    "end": "177120"
  },
  {
    "text": "getting it into the data center and we",
    "start": "177120",
    "end": "178640"
  },
  {
    "text": "want it to to run all the time We want",
    "start": "178640",
    "end": "181200"
  },
  {
    "text": "it to have lots of workloads on it Uh we",
    "start": "181200",
    "end": "183440"
  },
  {
    "text": "want to make the user happy right So",
    "start": "183440",
    "end": "185360"
  },
  {
    "text": "this is really important We want to use",
    "start": "185360",
    "end": "186959"
  },
  {
    "text": "we want to run at uh maximum capacity",
    "start": "186959",
    "end": "189440"
  },
  {
    "text": "all the",
    "start": "189440",
    "end": "190440"
  },
  {
    "text": "time Okay So let's get into the device",
    "start": "190440",
    "end": "193000"
  },
  {
    "text": "failures Uh there's a whole list here",
    "start": "193000",
    "end": "196159"
  },
  {
    "text": "There's probably",
    "start": "196159",
    "end": "198239"
  },
  {
    "text": "um you've probably encountered at least",
    "start": "198239",
    "end": "200640"
  },
  {
    "text": "one or multiple of these Uh so this is",
    "start": "200640",
    "end": "204319"
  },
  {
    "text": "uh so I asked you first about GPUs",
    "start": "204319",
    "end": "206319"
  },
  {
    "text": "falling off the bus So the little",
    "start": "206319",
    "end": "207519"
  },
  {
    "text": "context about that um in in the kernel",
    "start": "207519",
    "end": "210480"
  },
  {
    "text": "ring buffer there's a a message if you",
    "start": "210480",
    "end": "213440"
  },
  {
    "text": "look uh when you're experiencing this",
    "start": "213440",
    "end": "216000"
  },
  {
    "text": "type of failure um there'll be a message",
    "start": "216000",
    "end": "218319"
  },
  {
    "text": "that's saying that uh your device has",
    "start": "218319",
    "end": "220560"
  },
  {
    "text": "fallen off the bus and so how does that",
    "start": "220560",
    "end": "223360"
  },
  {
    "text": "happen Um well the these these are all",
    "start": "223360",
    "end": "225280"
  },
  {
    "text": "the things that that can lead to that Uh",
    "start": "225280",
    "end": "227920"
  },
  {
    "text": "so I'll go into like maybe a few of",
    "start": "227920",
    "end": "229599"
  },
  {
    "text": "these So overheating um GPUs we know",
    "start": "229599",
    "end": "233519"
  },
  {
    "text": "they use a lot of power So what uh what",
    "start": "233519",
    "end": "237519"
  },
  {
    "text": "are lots of ways that uh we can cause",
    "start": "237519",
    "end": "240000"
  },
  {
    "text": "problems Well we can use them a ton They",
    "start": "240000",
    "end": "242239"
  },
  {
    "text": "could they could overheat and this could",
    "start": "242239",
    "end": "243760"
  },
  {
    "text": "lead to uh a GPU falling off the bus Uh",
    "start": "243760",
    "end": "247200"
  },
  {
    "text": "an insufficient power supply Um think of",
    "start": "247200",
    "end": "250239"
  },
  {
    "text": "the amount of amount of wattage and that",
    "start": "250239",
    "end": "252560"
  },
  {
    "text": "is being transferred over the copper",
    "start": "252560",
    "end": "254400"
  },
  {
    "text": "right We need to be really careful about",
    "start": "254400",
    "end": "256479"
  },
  {
    "text": "you know how much uh uh like how the",
    "start": "256479",
    "end": "259519"
  },
  {
    "text": "connections are like they're really",
    "start": "259519",
    "end": "261919"
  },
  {
    "text": "really really closely or like the copper",
    "start": "261919",
    "end": "264720"
  },
  {
    "text": "is like you know the whatever the",
    "start": "264720",
    "end": "266160"
  },
  {
    "text": "perfect quality and the the leads are",
    "start": "266160",
    "end": "268080"
  },
  {
    "text": "touching and all the different things",
    "start": "268080",
    "end": "269440"
  },
  {
    "text": "you can imagine that could possibly go",
    "start": "269440",
    "end": "270960"
  },
  {
    "text": "wrong with power transferring over wire",
    "start": "270960",
    "end": "273759"
  },
  {
    "text": "Um any of that stuff could possibly",
    "start": "273759",
    "end": "275600"
  },
  {
    "text": "cause this error Um and then the third",
    "start": "275600",
    "end": "279280"
  },
  {
    "text": "one I'll go into just uh this will be",
    "start": "279280",
    "end": "281440"
  },
  {
    "text": "the last one will be uh driver failures",
    "start": "281440",
    "end": "284800"
  },
  {
    "text": "driver issues Um we experience this a",
    "start": "284800",
    "end": "286880"
  },
  {
    "text": "lot We run um cubvert we run a lot of",
    "start": "286880",
    "end": "289440"
  },
  {
    "text": "VMs Our workload runs in VMs So what we",
    "start": "289440",
    "end": "292400"
  },
  {
    "text": "do is we will um we'll launch a virtual",
    "start": "292400",
    "end": "295600"
  },
  {
    "text": "machine and we'll pass through the GPU",
    "start": "295600",
    "end": "298880"
  },
  {
    "text": "and to do that you have to use the VFIO",
    "start": "298880",
    "end": "300800"
  },
  {
    "text": "driver and we will also use media",
    "start": "300800",
    "end": "304240"
  },
  {
    "text": "devices So we will you know use VGPUs",
    "start": "304240",
    "end": "306960"
  },
  {
    "text": "which means we need to use the Nvidia",
    "start": "306960",
    "end": "308800"
  },
  {
    "text": "driver So we're constantly changing our",
    "start": "308800",
    "end": "311199"
  },
  {
    "text": "our driver on the fly And sometimes we",
    "start": "311199",
    "end": "313840"
  },
  {
    "text": "run into issues where we change the",
    "start": "313840",
    "end": "316080"
  },
  {
    "text": "driver and it doesn't quite work And you",
    "start": "316080",
    "end": "318000"
  },
  {
    "text": "know we we run into some sort of failure",
    "start": "318000",
    "end": "320080"
  },
  {
    "text": "So in all cases or almost all these",
    "start": "320080",
    "end": "322000"
  },
  {
    "text": "cases um we have to deal with it in some",
    "start": "322000",
    "end": "327440"
  },
  {
    "text": "way Okay Okay And so here's actually a",
    "start": "328520",
    "end": "330800"
  },
  {
    "text": "picture of an example of um the message",
    "start": "330800",
    "end": "333840"
  },
  {
    "text": "the GPU has fallen off the",
    "start": "333840",
    "end": "336199"
  },
  {
    "text": "bus Uh so when we when we actually",
    "start": "336199",
    "end": "338880"
  },
  {
    "text": "started our our journey when we were",
    "start": "338880",
    "end": "340639"
  },
  {
    "text": "looking at um trying to understand and",
    "start": "340639",
    "end": "342880"
  },
  {
    "text": "achieve that goal of having maximum",
    "start": "342880",
    "end": "344759"
  },
  {
    "text": "capacity",
    "start": "344759",
    "end": "346440"
  },
  {
    "text": "we wanted to we wanted we needed to",
    "start": "346440",
    "end": "349919"
  },
  {
    "text": "understand um well we actually we ran",
    "start": "349919",
    "end": "351919"
  },
  {
    "text": "into some problems We wanted to",
    "start": "351919",
    "end": "353039"
  },
  {
    "text": "understand that uh why some nodes",
    "start": "353039",
    "end": "355280"
  },
  {
    "text": "weren't quite filling up And this was",
    "start": "355280",
    "end": "358800"
  },
  {
    "text": "something that um you know we we noticed",
    "start": "358800",
    "end": "362280"
  },
  {
    "text": "and sometimes we would go to the node",
    "start": "362280",
    "end": "365360"
  },
  {
    "text": "and we see you know workloads aren't",
    "start": "365360",
    "end": "366560"
  },
  {
    "text": "running there and and we discover",
    "start": "366560",
    "end": "368319"
  },
  {
    "text": "eventually this kind these kinds of",
    "start": "368319",
    "end": "369840"
  },
  {
    "text": "issues are are happening Um so we needed",
    "start": "369840",
    "end": "372560"
  },
  {
    "text": "to do some work we needed to discover",
    "start": "372560",
    "end": "374639"
  },
  {
    "text": "you know what is going on And eventually",
    "start": "374639",
    "end": "376319"
  },
  {
    "text": "this discovery you know led us to hear",
    "start": "376319",
    "end": "379039"
  },
  {
    "text": "which is what Natalie is going to go",
    "start": "379039",
    "end": "380639"
  },
  {
    "text": "into more detail about in just a second",
    "start": "380639",
    "end": "382880"
  },
  {
    "text": "um different ways of how we dealt with",
    "start": "382880",
    "end": "384800"
  },
  {
    "text": "these GPU failures so that we can make",
    "start": "384800",
    "end": "386639"
  },
  {
    "text": "sure we're maxizing our",
    "start": "386639",
    "end": "390080"
  },
  {
    "text": "capacity Okay so just to give you a",
    "start": "390520",
    "end": "392680"
  },
  {
    "text": "picture of what I'm talking about when I",
    "start": "392680",
    "end": "395240"
  },
  {
    "text": "say we've been experiencing device",
    "start": "395240",
    "end": "397759"
  },
  {
    "text": "failure So for for numbers here I said",
    "start": "397759",
    "end": "400400"
  },
  {
    "text": "60,000 GPUs 30,000 plus nodes 40 plus",
    "start": "400400",
    "end": "404400"
  },
  {
    "text": "clusters So here's a roughly in a",
    "start": "404400",
    "end": "406240"
  },
  {
    "text": "timeline what we experience um and this",
    "start": "406240",
    "end": "409440"
  },
  {
    "text": "is like this varies a little bit um",
    "start": "409440",
    "end": "411600"
  },
  {
    "text": "based on various things like drivers and",
    "start": "411600",
    "end": "414080"
  },
  {
    "text": "um and a bunch of other things that can",
    "start": "414080",
    "end": "416400"
  },
  {
    "text": "change these numbers a little bit So",
    "start": "416400",
    "end": "418000"
  },
  {
    "text": "roughly what I'd say is you know between",
    "start": "418000",
    "end": "420639"
  },
  {
    "text": "um you know like 120 and 190 or maybe",
    "start": "420639",
    "end": "423840"
  },
  {
    "text": "200 um will experience uh between 120",
    "start": "423840",
    "end": "428400"
  },
  {
    "text": "and 200 GPU failures over a 24-hour",
    "start": "428400",
    "end": "431720"
  },
  {
    "text": "period So it's quite a bit 120 to 200",
    "start": "431720",
    "end": "434639"
  },
  {
    "text": "somewhere in that range Um and so what",
    "start": "434639",
    "end": "436800"
  },
  {
    "text": "happens We we have to do something about",
    "start": "436800",
    "end": "438720"
  },
  {
    "text": "that right That's a lot of devices that",
    "start": "438720",
    "end": "440800"
  },
  {
    "text": "that we now have to we now have to fix",
    "start": "440800",
    "end": "444479"
  },
  {
    "text": "You know we need to reboot the machine",
    "start": "444479",
    "end": "446560"
  },
  {
    "text": "right Or or whatever it is that we need",
    "start": "446560",
    "end": "448639"
  },
  {
    "text": "to do to fix it So Natalie's going to",
    "start": "448639",
    "end": "450880"
  },
  {
    "text": "talk through some of the the tools and",
    "start": "450880",
    "end": "452720"
  },
  {
    "text": "techniques that helped us get through",
    "start": "452720",
    "end": "454639"
  },
  {
    "text": "this so that you know we're not",
    "start": "454639",
    "end": "456319"
  },
  {
    "text": "constantly getting paged to to go in and",
    "start": "456319",
    "end": "459120"
  },
  {
    "text": "fix things and you know what automation",
    "start": "459120",
    "end": "461039"
  },
  {
    "text": "tools and techniques that we did to to",
    "start": "461039",
    "end": "463199"
  },
  {
    "text": "actually deal with with this so that we",
    "start": "463199",
    "end": "464960"
  },
  {
    "text": "can run at maximum capacity",
    "start": "464960",
    "end": "469000"
  },
  {
    "text": "Let me take you through what we are",
    "start": "472400",
    "end": "474720"
  },
  {
    "text": "doing to make sure our GPUs and devices",
    "start": "474720",
    "end": "477360"
  },
  {
    "text": "are at max capacity So the first step to",
    "start": "477360",
    "end": "481199"
  },
  {
    "text": "solve the problem is to acknowledge the",
    "start": "481199",
    "end": "484080"
  },
  {
    "text": "problem",
    "start": "484080",
    "end": "485240"
  },
  {
    "text": "exist It's not always uh trivial right",
    "start": "485240",
    "end": "488800"
  },
  {
    "text": "Our discover mechanism has two parts",
    "start": "488800",
    "end": "491759"
  },
  {
    "text": "First part is custom GPU problem",
    "start": "491759",
    "end": "494599"
  },
  {
    "text": "detector and we use an internal GPU",
    "start": "494599",
    "end": "498160"
  },
  {
    "text": "device plug-in It extends the GPU device",
    "start": "498160",
    "end": "502479"
  },
  {
    "text": "uh the device plug-in framework to",
    "start": "502479",
    "end": "504639"
  },
  {
    "text": "detect driver",
    "start": "504639",
    "end": "507080"
  },
  {
    "text": "failures When it detects the problem it",
    "start": "507080",
    "end": "511520"
  },
  {
    "text": "marks the",
    "start": "511520",
    "end": "513479"
  },
  {
    "text": "node and putting a condition on the",
    "start": "513479",
    "end": "517000"
  },
  {
    "text": "node And then our second part uh of the",
    "start": "517000",
    "end": "520640"
  },
  {
    "text": "solution kicks in That's node problem",
    "start": "520640",
    "end": "522880"
  },
  {
    "text": "detector It's an open source project and",
    "start": "522880",
    "end": "526320"
  },
  {
    "text": "it goes all over all the nodes and looks",
    "start": "526320",
    "end": "530399"
  },
  {
    "text": "which nodes were marked and those nodes",
    "start": "530399",
    "end": "533760"
  },
  {
    "text": "that are marked are being sent into a",
    "start": "533760",
    "end": "536080"
  },
  {
    "text": "remediation process",
    "start": "536080",
    "end": "539800"
  },
  {
    "text": "Once um the remediation process kicks in",
    "start": "542360",
    "end": "546240"
  },
  {
    "text": "we have the uh built-in solution that",
    "start": "546240",
    "end": "549360"
  },
  {
    "text": "takes and has a maintenance going over",
    "start": "549360",
    "end": "552800"
  },
  {
    "text": "the node and we can u automate that and",
    "start": "552800",
    "end": "556480"
  },
  {
    "text": "monitor that process We actually talked",
    "start": "556480",
    "end": "559279"
  },
  {
    "text": "about it in last cubecon Um Ryan had a",
    "start": "559279",
    "end": "563360"
  },
  {
    "text": "talk that is called all your GPUs are",
    "start": "563360",
    "end": "566399"
  },
  {
    "text": "belong to us I will add a QR code with a",
    "start": "566399",
    "end": "569600"
  },
  {
    "text": "link to the slides later if you want to",
    "start": "569600",
    "end": "571920"
  },
  {
    "text": "go and check that one",
    "start": "571920",
    "end": "574440"
  },
  {
    "text": "out So now that we know how to discover",
    "start": "574440",
    "end": "578800"
  },
  {
    "text": "those failures and how to take the node",
    "start": "578800",
    "end": "582160"
  },
  {
    "text": "and do something to uh return this uh",
    "start": "582160",
    "end": "586000"
  },
  {
    "text": "GPU capacity back Let's talk a little",
    "start": "586000",
    "end": "588560"
  },
  {
    "text": "bit what exactly do we do In the next",
    "start": "588560",
    "end": "591600"
  },
  {
    "text": "slides we talk how we try to solve the",
    "start": "591600",
    "end": "594440"
  },
  {
    "text": "problem and how we try to bring the no",
    "start": "594440",
    "end": "597680"
  },
  {
    "text": "capacity back into the functioning",
    "start": "597680",
    "end": "601519"
  },
  {
    "text": "state So you might think",
    "start": "602040",
    "end": "606040"
  },
  {
    "text": "that reboot everything is a joke No",
    "start": "606040",
    "end": "609680"
  },
  {
    "text": "actually it's the",
    "start": "609680",
    "end": "611959"
  },
  {
    "text": "strategy Reboot solves our",
    "start": "611959",
    "end": "614519"
  },
  {
    "text": "problems It has short downtime If",
    "start": "614519",
    "end": "617600"
  },
  {
    "text": "there's no workloads on the node it",
    "start": "617600",
    "end": "619680"
  },
  {
    "text": "resets the",
    "start": "619680",
    "end": "621079"
  },
  {
    "text": "driver We get a fresh state on the node",
    "start": "621079",
    "end": "625040"
  },
  {
    "text": "and it basically",
    "start": "625040",
    "end": "628800"
  },
  {
    "text": "works",
    "start": "630120",
    "end": "631720"
  },
  {
    "text": "Oops But of course reboot has some",
    "start": "631720",
    "end": "635720"
  },
  {
    "text": "downsides especially if the node has",
    "start": "635720",
    "end": "638320"
  },
  {
    "text": "workloads running on it",
    "start": "638320",
    "end": "641839"
  },
  {
    "text": "We have to either migrate the",
    "start": "641839",
    "end": "645320"
  },
  {
    "text": "workloads or wait for them to finish",
    "start": "645320",
    "end": "648560"
  },
  {
    "text": "Node drain is the most time consuming",
    "start": "648560",
    "end": "652600"
  },
  {
    "text": "part So let's see how much time",
    "start": "652600",
    "end": "656000"
  },
  {
    "text": "consuming that actually",
    "start": "656000",
    "end": "658839"
  },
  {
    "text": "is As Ryan mentioned we have many many",
    "start": "658839",
    "end": "663240"
  },
  {
    "text": "clusters So we wanted to make a graphana",
    "start": "663240",
    "end": "666720"
  },
  {
    "text": "dashboard that",
    "start": "666720",
    "end": "668360"
  },
  {
    "text": "shows how long it takes to drain a node",
    "start": "668360",
    "end": "673839"
  },
  {
    "text": "We accumulated data over a period of",
    "start": "673839",
    "end": "676240"
  },
  {
    "text": "several weeks and each row represents a",
    "start": "676240",
    "end": "679360"
  },
  {
    "text": "different cluster Each column is how",
    "start": "679360",
    "end": "682800"
  },
  {
    "text": "long it took for nodes to drain",
    "start": "682800",
    "end": "685760"
  },
  {
    "text": "So we can see that many nodes drain",
    "start": "685760",
    "end": "687680"
  },
  {
    "text": "within an",
    "start": "687680",
    "end": "688680"
  },
  {
    "text": "hour but there are long tail of",
    "start": "688680",
    "end": "692360"
  },
  {
    "text": "nodes and for some of them it can take",
    "start": "692360",
    "end": "695200"
  },
  {
    "text": "even up to eight hours especially if you",
    "start": "695200",
    "end": "698160"
  },
  {
    "text": "have long running",
    "start": "698160",
    "end": "701440"
  },
  {
    "text": "workloads and as one of the keynote",
    "start": "701640",
    "end": "704640"
  },
  {
    "text": "sessions today",
    "start": "704640",
    "end": "706200"
  },
  {
    "text": "stated the cloud and your money is not",
    "start": "706200",
    "end": "709040"
  },
  {
    "text": "infinite right we want those nodes with",
    "start": "709040",
    "end": "713040"
  },
  {
    "text": "the GPUs to be available We want to use",
    "start": "713040",
    "end": "716880"
  },
  {
    "text": "them as much as",
    "start": "716880",
    "end": "719760"
  },
  {
    "text": "possible So this is our solution to",
    "start": "720680",
    "end": "722959"
  },
  {
    "text": "device failure of problem We discover",
    "start": "722959",
    "end": "726079"
  },
  {
    "text": "the failures we drain the nodes and",
    "start": "726079",
    "end": "729880"
  },
  {
    "text": "reboot and we do it in an endless",
    "start": "729880",
    "end": "733560"
  },
  {
    "text": "loop on all of our clusters Our journey",
    "start": "733560",
    "end": "738120"
  },
  {
    "text": "started mostly with manual steps and uh",
    "start": "738120",
    "end": "742480"
  },
  {
    "text": "we were looking at graphana dashboards",
    "start": "742480",
    "end": "745120"
  },
  {
    "text": "saw nodes that didn't have",
    "start": "745120",
    "end": "747720"
  },
  {
    "text": "workloads went to the node and manually",
    "start": "747720",
    "end": "750320"
  },
  {
    "text": "cordoned it labeled as broken and later",
    "start": "750320",
    "end": "753200"
  },
  {
    "text": "rebooted it The process was time and",
    "start": "753200",
    "end": "756800"
  },
  {
    "text": "effort",
    "start": "756800",
    "end": "757880"
  },
  {
    "text": "consuming the response was not fast",
    "start": "757880",
    "end": "761320"
  },
  {
    "text": "enough and of course it didn't",
    "start": "761320",
    "end": "764120"
  },
  {
    "text": "scale So we created automation and uh",
    "start": "764120",
    "end": "768000"
  },
  {
    "text": "some improvements around all these areas",
    "start": "768000",
    "end": "771440"
  },
  {
    "text": "and uh now we're going to talk about",
    "start": "771440",
    "end": "773519"
  },
  {
    "text": "some of",
    "start": "773519",
    "end": "775920"
  },
  {
    "text": "them With this improvements on the",
    "start": "777880",
    "end": "780240"
  },
  {
    "text": "automation we can get much closer to the",
    "start": "780240",
    "end": "782959"
  },
  {
    "text": "max",
    "start": "782959",
    "end": "785200"
  },
  {
    "text": "capacity Our improvements",
    "start": "785959",
    "end": "789240"
  },
  {
    "text": "touched several areas such as uh",
    "start": "789240",
    "end": "792480"
  },
  {
    "text": "monitoring node drain and the reboot",
    "start": "792480",
    "end": "795040"
  },
  {
    "text": "that we already uh",
    "start": "795040",
    "end": "797399"
  },
  {
    "text": "mentioned So let's talk about",
    "start": "797399",
    "end": "801519"
  },
  {
    "text": "each For the monitoring we often had a",
    "start": "802360",
    "end": "806519"
  },
  {
    "text": "situation when we were fixing the same",
    "start": "806519",
    "end": "810560"
  },
  {
    "text": "node over and over again",
    "start": "810560",
    "end": "814000"
  },
  {
    "text": "To solve this problem we've added uh",
    "start": "814000",
    "end": "816240"
  },
  {
    "text": "this alert to detect such remediation",
    "start": "816240",
    "end": "821399"
  },
  {
    "text": "loops Meaning that when node gets",
    "start": "821399",
    "end": "823920"
  },
  {
    "text": "rebooted many times over and over again",
    "start": "823920",
    "end": "827200"
  },
  {
    "text": "This specific alert that we've added it",
    "start": "827200",
    "end": "829279"
  },
  {
    "text": "goes uh and checks if the node",
    "start": "829279",
    "end": "832680"
  },
  {
    "text": "went into a reboot more than twice over",
    "start": "832680",
    "end": "836800"
  },
  {
    "text": "90 minutes The alert fires and we look",
    "start": "836800",
    "end": "839839"
  },
  {
    "text": "at the node",
    "start": "839839",
    "end": "842720"
  },
  {
    "text": "No point of uh trying to reboot such",
    "start": "842720",
    "end": "845120"
  },
  {
    "text": "node again if previous couple of reboots",
    "start": "845120",
    "end": "849440"
  },
  {
    "text": "didn't solve the",
    "start": "849440",
    "end": "852560"
  },
  {
    "text": "problem After the discovery of this",
    "start": "854279",
    "end": "858519"
  },
  {
    "text": "uh node that requires a",
    "start": "858519",
    "end": "864120"
  },
  {
    "text": "reboot we are scheduling them to drain",
    "start": "864120",
    "end": "868959"
  },
  {
    "text": "And we saw that train can be a",
    "start": "868959",
    "end": "871600"
  },
  {
    "text": "potentially really painful",
    "start": "871600",
    "end": "873959"
  },
  {
    "text": "process So is there anything we can do",
    "start": "873959",
    "end": "877839"
  },
  {
    "text": "to speed it up I mean except for killing",
    "start": "877839",
    "end": "880800"
  },
  {
    "text": "the sessions which we would never do",
    "start": "880800",
    "end": "883440"
  },
  {
    "text": "that",
    "start": "883440",
    "end": "885160"
  },
  {
    "text": "right So we thought about two things and",
    "start": "885160",
    "end": "888639"
  },
  {
    "text": "we implemented them First we integrated",
    "start": "888639",
    "end": "891440"
  },
  {
    "text": "with our tenant to drain spot capacity",
    "start": "891440",
    "end": "894800"
  },
  {
    "text": "and pre-warm sessions",
    "start": "894800",
    "end": "897360"
  },
  {
    "text": "We also",
    "start": "897360",
    "end": "898440"
  },
  {
    "text": "prioritized those nodes over other less",
    "start": "898440",
    "end": "902880"
  },
  {
    "text": "urgent maintenance activities in the",
    "start": "902880",
    "end": "904800"
  },
  {
    "text": "cluster It means if we need to reboot a",
    "start": "904800",
    "end": "907920"
  },
  {
    "text": "node because there is a device failure",
    "start": "907920",
    "end": "910880"
  },
  {
    "text": "we try to do that as soon as possible We",
    "start": "910880",
    "end": "915199"
  },
  {
    "text": "don't",
    "start": "915199",
    "end": "916360"
  },
  {
    "text": "always have enough capacity to do it",
    "start": "916360",
    "end": "919240"
  },
  {
    "text": "immediately but we prioritize that",
    "start": "919240",
    "end": "924519"
  },
  {
    "text": "After the node is drained and there are",
    "start": "927920",
    "end": "930320"
  },
  {
    "text": "no workloads we can finally reboot it to",
    "start": "930320",
    "end": "934320"
  },
  {
    "text": "get the GPUs and the devices back",
    "start": "934320",
    "end": "938040"
  },
  {
    "text": "working Reboot doesn't always solve our",
    "start": "938040",
    "end": "941360"
  },
  {
    "text": "problem Sometimes there are more steps",
    "start": "941360",
    "end": "943600"
  },
  {
    "text": "we need to take So we created this",
    "start": "943600",
    "end": "946240"
  },
  {
    "text": "recovery workflow that you see on the",
    "start": "946240",
    "end": "949079"
  },
  {
    "text": "slide and it goes through reboot then",
    "start": "949079",
    "end": "952320"
  },
  {
    "text": "power",
    "start": "952320",
    "end": "953160"
  },
  {
    "text": "cycle then rebuild and uh if that",
    "start": "953160",
    "end": "957600"
  },
  {
    "text": "doesn't help we have a manual",
    "start": "957600",
    "end": "959160"
  },
  {
    "text": "intervention and",
    "start": "959160",
    "end": "961240"
  },
  {
    "text": "RMA we automated some of that and some",
    "start": "961240",
    "end": "965759"
  },
  {
    "text": "of that is still manual but for example",
    "start": "965759",
    "end": "968720"
  },
  {
    "text": "when there is a remediation loop",
    "start": "968720",
    "end": "971279"
  },
  {
    "text": "discovered it means that several reboots",
    "start": "971279",
    "end": "974560"
  },
  {
    "text": "didn't help We automatically mark that",
    "start": "974560",
    "end": "977680"
  },
  {
    "text": "node to go into rebuild process and we",
    "start": "977680",
    "end": "982720"
  },
  {
    "text": "have a",
    "start": "982720",
    "end": "985079"
  },
  {
    "text": "automated rebuild uh process that runs",
    "start": "985079",
    "end": "988839"
  },
  {
    "text": "periodically and discover those nodes",
    "start": "988839",
    "end": "992320"
  },
  {
    "text": "and then it can automatically rebuild",
    "start": "992320",
    "end": "996519"
  },
  {
    "text": "them We still have some challenges that",
    "start": "996519",
    "end": "999360"
  },
  {
    "text": "we look into solving in the future",
    "start": "999360",
    "end": "1003680"
  },
  {
    "text": "For",
    "start": "1003680",
    "end": "1004440"
  },
  {
    "text": "example we would really love to know",
    "start": "1004440",
    "end": "1007720"
  },
  {
    "text": "that after reboot or power cycle or",
    "start": "1007720",
    "end": "1012000"
  },
  {
    "text": "whatever step we took we bring back the",
    "start": "1012000",
    "end": "1015279"
  },
  {
    "text": "node into the cluster and we know that",
    "start": "1015279",
    "end": "1017519"
  },
  {
    "text": "the problem is solved Right now we know",
    "start": "1017519",
    "end": "1020560"
  },
  {
    "text": "that the problem is solved only after",
    "start": "1020560",
    "end": "1022639"
  },
  {
    "text": "the node is back in cluster and we run",
    "start": "1022639",
    "end": "1025199"
  },
  {
    "text": "some workflows on it",
    "start": "1025199",
    "end": "1029480"
  },
  {
    "text": "So we talked",
    "start": "1031760",
    "end": "1033640"
  },
  {
    "text": "about three steps for",
    "start": "1033640",
    "end": "1036760"
  },
  {
    "text": "fixing our GPUs that sometimes they have",
    "start": "1036760",
    "end": "1040000"
  },
  {
    "text": "the tendency to fall of the",
    "start": "1040000",
    "end": "1042600"
  },
  {
    "text": "bus And this slides uh talks about how",
    "start": "1042600",
    "end": "1046480"
  },
  {
    "text": "we try to keep the GPUs on the bus as",
    "start": "1046480",
    "end": "1050000"
  },
  {
    "text": "long as possible and without",
    "start": "1050000",
    "end": "1053240"
  },
  {
    "text": "reboots We try to do that with several",
    "start": "1053240",
    "end": "1055919"
  },
  {
    "text": "things",
    "start": "1055919",
    "end": "1058160"
  },
  {
    "text": "First we monitor the GPU health We have",
    "start": "1058160",
    "end": "1061200"
  },
  {
    "text": "graph finana",
    "start": "1061200",
    "end": "1062440"
  },
  {
    "text": "dashboards and we have alerts and for",
    "start": "1062440",
    "end": "1065840"
  },
  {
    "text": "GPU metrics such as temperature",
    "start": "1065840",
    "end": "1069000"
  },
  {
    "text": "anomalies power usage and so",
    "start": "1069000",
    "end": "1071960"
  },
  {
    "text": "on This might help prevent problems with",
    "start": "1071960",
    "end": "1076000"
  },
  {
    "text": "uh what Ryan mentioned earlier about um",
    "start": "1076000",
    "end": "1079200"
  },
  {
    "text": "overheating and uh power issues and",
    "start": "1079200",
    "end": "1082799"
  },
  {
    "text": "things like that",
    "start": "1082799",
    "end": "1085120"
  },
  {
    "text": "From the node perspective we use node",
    "start": "1085120",
    "end": "1088160"
  },
  {
    "text": "problem detector to catch kernel issues",
    "start": "1088160",
    "end": "1090720"
  },
  {
    "text": "and system errors and more things like",
    "start": "1090720",
    "end": "1095440"
  },
  {
    "text": "that We do periodic proactive self tests",
    "start": "1095799",
    "end": "1099200"
  },
  {
    "text": "on nodes and on",
    "start": "1099200",
    "end": "1101400"
  },
  {
    "text": "GPU And to prevent scheduling workloads",
    "start": "1101400",
    "end": "1105200"
  },
  {
    "text": "on unhealthy nodes we use uh some taints",
    "start": "1105200",
    "end": "1108480"
  },
  {
    "text": "and",
    "start": "1108480",
    "end": "1109320"
  },
  {
    "text": "tolerations If we know that we will need",
    "start": "1109320",
    "end": "1112919"
  },
  {
    "text": "to drain the node soon we might",
    "start": "1112919",
    "end": "1117160"
  },
  {
    "text": "uh not allow workflows on that node as",
    "start": "1117160",
    "end": "1121280"
  },
  {
    "text": "soon as",
    "start": "1121280",
    "end": "1123480"
  },
  {
    "text": "possible Our process from maintenance",
    "start": "1123480",
    "end": "1126080"
  },
  {
    "text": "and upgrades uh includes automatic",
    "start": "1126080",
    "end": "1129120"
  },
  {
    "text": "sanity",
    "start": "1129120",
    "end": "1130679"
  },
  {
    "text": "tests and uh those tests have workloads",
    "start": "1130679",
    "end": "1134000"
  },
  {
    "text": "to verify that the node and the GPU are",
    "start": "1134000",
    "end": "1137760"
  },
  {
    "text": "still healthy So for each maintenance or",
    "start": "1137760",
    "end": "1141919"
  },
  {
    "text": "upgrade that we do on the",
    "start": "1141919",
    "end": "1144840"
  },
  {
    "text": "node we run some sanity after that This",
    "start": "1144840",
    "end": "1148320"
  },
  {
    "text": "way we know that we did not break the",
    "start": "1148320",
    "end": "1151760"
  },
  {
    "text": "node or the devices on the node because",
    "start": "1151760",
    "end": "1155280"
  },
  {
    "text": "of driver failures or some incomp",
    "start": "1155280",
    "end": "1160799"
  },
  {
    "text": "incompatibilities Of course we regularly",
    "start": "1162919",
    "end": "1165679"
  },
  {
    "text": "update drivers Kubernetes components",
    "start": "1165679",
    "end": "1169600"
  },
  {
    "text": "operation system and on the node and so",
    "start": "1169600",
    "end": "1172600"
  },
  {
    "text": "on For that part we have uh created the",
    "start": "1172600",
    "end": "1177679"
  },
  {
    "text": "solution that is called PA and it is",
    "start": "1177679",
    "end": "1180320"
  },
  {
    "text": "open sourced uh starting a couple of",
    "start": "1180320",
    "end": "1183120"
  },
  {
    "text": "months ago and you're welcome to take a",
    "start": "1183120",
    "end": "1185760"
  },
  {
    "text": "look at it I will also add the link to",
    "start": "1185760",
    "end": "1188160"
  },
  {
    "text": "that u in the slides later after",
    "start": "1188160",
    "end": "1192919"
  },
  {
    "text": "So our goal is basically to keep the",
    "start": "1196919",
    "end": "1199919"
  },
  {
    "text": "devices",
    "start": "1199919",
    "end": "1201160"
  },
  {
    "text": "healthy and maximize their",
    "start": "1201160",
    "end": "1204600"
  },
  {
    "text": "uptime We try to do that by preventing",
    "start": "1204600",
    "end": "1208000"
  },
  {
    "text": "issues and when there is a problem we",
    "start": "1208000",
    "end": "1211360"
  },
  {
    "text": "drain the node and schedule it into the",
    "start": "1211360",
    "end": "1213760"
  },
  {
    "text": "recovery",
    "start": "1213760",
    "end": "1216120"
  },
  {
    "text": "workflow But we should not forget that",
    "start": "1216120",
    "end": "1219360"
  },
  {
    "text": "reboot has a cost",
    "start": "1219360",
    "end": "1222080"
  },
  {
    "text": "And the cost is the entire node",
    "start": "1222080",
    "end": "1225320"
  },
  {
    "text": "downtime and the node drain time And we",
    "start": "1225320",
    "end": "1228799"
  },
  {
    "text": "saw it might take a while",
    "start": "1228799",
    "end": "1231000"
  },
  {
    "text": "right Currently nodes with there are",
    "start": "1231000",
    "end": "1234240"
  },
  {
    "text": "nodes with two to four GPUs And that's",
    "start": "1234240",
    "end": "1236320"
  },
  {
    "text": "the typical uh configuration in large",
    "start": "1236320",
    "end": "1239919"
  },
  {
    "text": "data centers But there is a notable",
    "start": "1239919",
    "end": "1243280"
  },
  {
    "text": "trend towards configuring nodes with up",
    "start": "1243280",
    "end": "1246320"
  },
  {
    "text": "to eight",
    "start": "1246320",
    "end": "1247400"
  },
  {
    "text": "GPUs particularly to meet the demands of",
    "start": "1247400",
    "end": "1250720"
  },
  {
    "text": "AI",
    "start": "1250720",
    "end": "1251880"
  },
  {
    "text": "works and as num as the number of GPUs",
    "start": "1251880",
    "end": "1255440"
  },
  {
    "text": "on the node",
    "start": "1255440",
    "end": "1256840"
  },
  {
    "text": "increases so does the cost of the nodes",
    "start": "1256840",
    "end": "1260159"
  },
  {
    "text": "reboot",
    "start": "1260159",
    "end": "1261919"
  },
  {
    "text": "We are facing some new challenges here",
    "start": "1261919",
    "end": "1265280"
  },
  {
    "text": "and we want to figure out mostly how we",
    "start": "1265280",
    "end": "1268559"
  },
  {
    "text": "can use Kubernetes How can Kubernetes",
    "start": "1268559",
    "end": "1272880"
  },
  {
    "text": "help us here to solve this challenges",
    "start": "1272880",
    "end": "1276400"
  },
  {
    "text": "with looking forward to increasing the",
    "start": "1276400",
    "end": "1279360"
  },
  {
    "text": "GPU",
    "start": "1279360",
    "end": "1280880"
  },
  {
    "text": "uh capacity per",
    "start": "1280880",
    "end": "1283559"
  },
  {
    "text": "node For",
    "start": "1283559",
    "end": "1285559"
  },
  {
    "text": "example can we leverage the schedule Can",
    "start": "1285559",
    "end": "1289760"
  },
  {
    "text": "the schedule move workloads away from a",
    "start": "1289760",
    "end": "1293520"
  },
  {
    "text": "node when one GPU is",
    "start": "1293520",
    "end": "1296200"
  },
  {
    "text": "failing Or can the schedule detect a",
    "start": "1296200",
    "end": "1298960"
  },
  {
    "text": "node that is being rebooted at every",
    "start": "1298960",
    "end": "1300880"
  },
  {
    "text": "couple of days Those are questions and",
    "start": "1300880",
    "end": "1304240"
  },
  {
    "text": "challenges that we start to think about",
    "start": "1304240",
    "end": "1309520"
  },
  {
    "text": "and we start to think forward how we",
    "start": "1309520",
    "end": "1312600"
  },
  {
    "text": "can get help from Kubernetes on these",
    "start": "1312600",
    "end": "1316520"
  },
  {
    "text": "challenges how we can uh raise awareness",
    "start": "1316520",
    "end": "1319440"
  },
  {
    "text": "in the community about these challenges",
    "start": "1319440",
    "end": "1321840"
  },
  {
    "text": "and how we can uh work together to solve",
    "start": "1321840",
    "end": "1324960"
  },
  {
    "text": "those eventually",
    "start": "1324960",
    "end": "1328360"
  },
  {
    "text": "Uh so like Natalie mentioned um which is",
    "start": "1330640",
    "end": "1333760"
  },
  {
    "text": "like really interesting to think about",
    "start": "1333760",
    "end": "1334720"
  },
  {
    "text": "So we get to eight GPUs right We can get",
    "start": "1334720",
    "end": "1337600"
  },
  {
    "text": "to 16 GPUs And then you also think about",
    "start": "1337600",
    "end": "1341280"
  },
  {
    "text": "what happens when you know you have",
    "start": "1341280",
    "end": "1342400"
  },
  {
    "text": "these long running really big machine",
    "start": "1342400",
    "end": "1344960"
  },
  {
    "text": "learning workflows that are now going to",
    "start": "1344960",
    "end": "1346640"
  },
  {
    "text": "be have multiple GPUs and they're going",
    "start": "1346640",
    "end": "1348960"
  },
  {
    "text": "to be across different nodes right Are",
    "start": "1348960",
    "end": "1351360"
  },
  {
    "text": "we going to be rebooting all sorts of",
    "start": "1351360",
    "end": "1353600"
  },
  {
    "text": "nodes and you know how is that going to",
    "start": "1353600",
    "end": "1355039"
  },
  {
    "text": "affect our our clusters Like how how can",
    "start": "1355039",
    "end": "1357440"
  },
  {
    "text": "we think about that So um uh what I",
    "start": "1357440",
    "end": "1360640"
  },
  {
    "text": "wanted to share with everyone is um we",
    "start": "1360640",
    "end": "1362960"
  },
  {
    "text": "uh uh so I started a working group uh",
    "start": "1362960",
    "end": "1366159"
  },
  {
    "text": "with Red Hat Uh this is uh Felipe um",
    "start": "1366159",
    "end": "1369440"
  },
  {
    "text": "from Red Hat uh we just proposed this um",
    "start": "1369440",
    "end": "1372559"
  },
  {
    "text": "it's called uh node life cycle and uh",
    "start": "1372559",
    "end": "1375360"
  },
  {
    "text": "what we're looking to do is to work with",
    "start": "1375360",
    "end": "1376799"
  },
  {
    "text": "the community work with all of you to",
    "start": "1376799",
    "end": "1378480"
  },
  {
    "text": "figure out uh this problem um to see how",
    "start": "1378480",
    "end": "1381120"
  },
  {
    "text": "how we can use Kubernetes to help us um",
    "start": "1381120",
    "end": "1383520"
  },
  {
    "text": "you know particularly in the areas uh",
    "start": "1383520",
    "end": "1385600"
  },
  {
    "text": "where we we feel like um you know this",
    "start": "1385600",
    "end": "1388080"
  },
  {
    "text": "problem has has caused a lot of uh",
    "start": "1388080",
    "end": "1391039"
  },
  {
    "text": "people to build different solutions on",
    "start": "1391039",
    "end": "1392880"
  },
  {
    "text": "their own I mean we I've heard",
    "start": "1392880",
    "end": "1394400"
  },
  {
    "text": "personally from a lot of different",
    "start": "1394400",
    "end": "1395760"
  },
  {
    "text": "people who have already done that and",
    "start": "1395760",
    "end": "1397280"
  },
  {
    "text": "we've we've even done it ourselves like",
    "start": "1397280",
    "end": "1398880"
  },
  {
    "text": "we just talked through and and we really",
    "start": "1398880",
    "end": "1401200"
  },
  {
    "text": "think that these problems can uh many of",
    "start": "1401200",
    "end": "1404400"
  },
  {
    "text": "them can be solved uh together in the",
    "start": "1404400",
    "end": "1406240"
  },
  {
    "text": "community And so that's what we want to",
    "start": "1406240",
    "end": "1407679"
  },
  {
    "text": "address here in this working group that",
    "start": "1407679",
    "end": "1409280"
  },
  {
    "text": "we've proposed Um and so we're looking",
    "start": "1409280",
    "end": "1411360"
  },
  {
    "text": "for your support So um you know for",
    "start": "1411360",
    "end": "1413120"
  },
  {
    "text": "everyone you know that's interested you",
    "start": "1413120",
    "end": "1414720"
  },
  {
    "text": "know please come check out the link you",
    "start": "1414720",
    "end": "1416320"
  },
  {
    "text": "know tell us you tell us about your use",
    "start": "1416320",
    "end": "1418080"
  },
  {
    "text": "cases you know tell us about um things",
    "start": "1418080",
    "end": "1420720"
  },
  {
    "text": "that that you would want to have so that",
    "start": "1420720",
    "end": "1422640"
  },
  {
    "text": "to help you do maintenance inside of",
    "start": "1422640",
    "end": "1424799"
  },
  {
    "text": "your Kubernetes clusters um you can come",
    "start": "1424799",
    "end": "1427039"
  },
  {
    "text": "find us afterwards we're also on Slack",
    "start": "1427039",
    "end": "1429200"
  },
  {
    "text": "um and like I said please comment on the",
    "start": "1429200",
    "end": "1431120"
  },
  {
    "text": "uh on the poll request you know we we",
    "start": "1431120",
    "end": "1432960"
  },
  {
    "text": "want to build this charter so that you",
    "start": "1432960",
    "end": "1434480"
  },
  {
    "text": "know it can be effective you know for",
    "start": "1434480",
    "end": "1436080"
  },
  {
    "text": "helping you do maintenance and and all",
    "start": "1436080",
    "end": "1437679"
  },
  {
    "text": "the different challenges that come uh",
    "start": "1437679",
    "end": "1439280"
  },
  {
    "text": "with the day 2 device management",
    "start": "1439280",
    "end": "1442240"
  },
  {
    "text": "Okay with that uh we'll open up for",
    "start": "1442240",
    "end": "1444400"
  },
  {
    "text": "questions Thank you",
    "start": "1444400",
    "end": "1447170"
  },
  {
    "text": "[Applause]",
    "start": "1447170",
    "end": "1452640"
  },
  {
    "text": "This is the feedback QR code I would",
    "start": "1452640",
    "end": "1455200"
  },
  {
    "text": "appreciate any feedback you have Hey",
    "start": "1455200",
    "end": "1458320"
  },
  {
    "text": "thanks uh for the talk uh as uh we've",
    "start": "1458320",
    "end": "1462320"
  },
  {
    "text": "come to these challenges too We see that",
    "start": "1462320",
    "end": "1465039"
  },
  {
    "text": "you use the node problem detector and uh",
    "start": "1465039",
    "end": "1468640"
  },
  {
    "text": "as far as we've like been looking at it",
    "start": "1468640",
    "end": "1470799"
  },
  {
    "text": "it doesn't have any like GPU support for",
    "start": "1470799",
    "end": "1473440"
  },
  {
    "text": "detecting the problems Any like plans to",
    "start": "1473440",
    "end": "1476640"
  },
  {
    "text": "like open source or share with the",
    "start": "1476640",
    "end": "1478400"
  },
  {
    "text": "community how do you do that so we can",
    "start": "1478400",
    "end": "1480559"
  },
  {
    "text": "also like reuse it Yeah I think that's",
    "start": "1480559",
    "end": "1483520"
  },
  {
    "text": "uh that's a that's a good question Um I",
    "start": "1483520",
    "end": "1485840"
  },
  {
    "text": "I think we can certainly do it I think",
    "start": "1485840",
    "end": "1488320"
  },
  {
    "text": "um uh I just think it hasn't been on uh",
    "start": "1488320",
    "end": "1490960"
  },
  {
    "text": "in a road map Um but we could we could",
    "start": "1490960",
    "end": "1493120"
  },
  {
    "text": "certainly prioritize and and get that um",
    "start": "1493120",
    "end": "1495760"
  },
  {
    "text": "shared I think the only thing though I I",
    "start": "1495760",
    "end": "1497760"
  },
  {
    "text": "believe we have would have to create a",
    "start": "1497760",
    "end": "1498960"
  },
  {
    "text": "plugin or something Is is that how it",
    "start": "1498960",
    "end": "1500400"
  },
  {
    "text": "would work I think um but we would have",
    "start": "1500400",
    "end": "1502080"
  },
  {
    "text": "to figure that out Maybe we can have",
    "start": "1502080",
    "end": "1503440"
  },
  {
    "text": "something in um um we could find a place",
    "start": "1503440",
    "end": "1505760"
  },
  {
    "text": "for it so that you know everyone out",
    "start": "1505760",
    "end": "1507600"
  },
  {
    "text": "there can can do exactly what we're",
    "start": "1507600",
    "end": "1509360"
  },
  {
    "text": "doing Um so we can look into it I'd be",
    "start": "1509360",
    "end": "1511520"
  },
  {
    "text": "happy to look into that and we can find",
    "start": "1511520",
    "end": "1512880"
  },
  {
    "text": "a way to do it Awesome Thanks a lot That",
    "start": "1512880",
    "end": "1515360"
  },
  {
    "text": "would be really cool Thanks",
    "start": "1515360",
    "end": "1518880"
  },
  {
    "text": "Hey Um you had a slide showing the rate",
    "start": "1520799",
    "end": "1524559"
  },
  {
    "text": "of failure and the number of GPU",
    "start": "1524559",
    "end": "1526159"
  },
  {
    "text": "failures you had I'm interested to know",
    "start": "1526159",
    "end": "1528000"
  },
  {
    "text": "is that 0.6% figure like representative",
    "start": "1528000",
    "end": "1531120"
  },
  {
    "text": "of a normal rate of failure that you'd",
    "start": "1531120",
    "end": "1533760"
  },
  {
    "text": "see in your estate And also uh what kind",
    "start": "1533760",
    "end": "1537760"
  },
  {
    "text": "of things are you counting as failures",
    "start": "1537760",
    "end": "1539760"
  },
  {
    "text": "How are you tracking them Is it just",
    "start": "1539760",
    "end": "1540960"
  },
  {
    "text": "like every time a no problem detector",
    "start": "1540960",
    "end": "1542799"
  },
  {
    "text": "check fails that triggers that",
    "start": "1542799",
    "end": "1544880"
  },
  {
    "text": "increments the count So the way way we",
    "start": "1544880",
    "end": "1547200"
  },
  {
    "text": "do it is um is when we notice uh",
    "start": "1547200",
    "end": "1551200"
  },
  {
    "text": "specifically when we can't run a",
    "start": "1551200",
    "end": "1553120"
  },
  {
    "text": "workload um on that node we've basically",
    "start": "1553120",
    "end": "1556159"
  },
  {
    "text": "identified that the device is um that we",
    "start": "1556159",
    "end": "1559279"
  },
  {
    "text": "can't use it and generally under the",
    "start": "1559279",
    "end": "1561279"
  },
  {
    "text": "hood that means that the GPU has fallen",
    "start": "1561279",
    "end": "1562799"
  },
  {
    "text": "off the bus Um but a lot of times this",
    "start": "1562799",
    "end": "1564559"
  },
  {
    "text": "was a driver failure that we've",
    "start": "1564559",
    "end": "1565679"
  },
  {
    "text": "encountered because we switched drivers",
    "start": "1565679",
    "end": "1567279"
  },
  {
    "text": "and and we're not able to run a workload",
    "start": "1567279",
    "end": "1569600"
  },
  {
    "text": "on it That's how we get um that's how we",
    "start": "1569600",
    "end": "1572640"
  },
  {
    "text": "uh will increase the counter to for that",
    "start": "1572640",
    "end": "1575120"
  },
  {
    "text": "metric is we'll detect that and we can't",
    "start": "1575120",
    "end": "1577200"
  },
  {
    "text": "run a workload on it So we know we need",
    "start": "1577200",
    "end": "1579200"
  },
  {
    "text": "so it's based off of the response from",
    "start": "1579200",
    "end": "1580640"
  },
  {
    "text": "the user's job that they can't run",
    "start": "1580640",
    "end": "1582559"
  },
  {
    "text": "rather than your metrics you're",
    "start": "1582559",
    "end": "1584000"
  },
  {
    "text": "monitoring on the node Um we have a",
    "start": "1584000",
    "end": "1587039"
  },
  {
    "text": "device plugin that will uh detect it",
    "start": "1587039",
    "end": "1589440"
  },
  {
    "text": "because it will try and switch the",
    "start": "1589440",
    "end": "1590880"
  },
  {
    "text": "driver um and when it can't it will it",
    "start": "1590880",
    "end": "1594000"
  },
  {
    "text": "will share the metric and that will get",
    "start": "1594000",
    "end": "1595600"
  },
  {
    "text": "posted as a condition on the node and",
    "start": "1595600",
    "end": "1598559"
  },
  {
    "text": "then um so your your first question um",
    "start": "1598559",
    "end": "1601600"
  },
  {
    "text": "about um the value of of 06% So this is",
    "start": "1601600",
    "end": "1606240"
  },
  {
    "text": "um based on the the total number of uh",
    "start": "1606240",
    "end": "1609520"
  },
  {
    "text": "GPUs we have in the fleet So we have the",
    "start": "1609520",
    "end": "1611440"
  },
  {
    "text": "the value that um we do over 24 hours",
    "start": "1611440",
    "end": "1614320"
  },
  {
    "text": "and and that's based on um the the total",
    "start": "1614320",
    "end": "1618080"
  },
  {
    "text": "So the percentage is based on the number",
    "start": "1618080",
    "end": "1619679"
  },
  {
    "text": "over 24 hours and how much that is of",
    "start": "1619679",
    "end": "1623400"
  },
  {
    "text": "60,000 Um and so something to think",
    "start": "1623400",
    "end": "1625679"
  },
  {
    "text": "about with that is um because like we",
    "start": "1625679",
    "end": "1627600"
  },
  {
    "text": "mentioned reboot and um it's the density",
    "start": "1627600",
    "end": "1630080"
  },
  {
    "text": "right There's a there's a sort of",
    "start": "1630080",
    "end": "1631360"
  },
  {
    "text": "another part of this right Um that's",
    "start": "1631360",
    "end": "1633440"
  },
  {
    "text": "just the the failure rate but um think",
    "start": "1633440",
    "end": "1636000"
  },
  {
    "text": "about the capacity The capacity equation",
    "start": "1636000",
    "end": "1638400"
  },
  {
    "text": "is actually gets a little more",
    "start": "1638400",
    "end": "1640000"
  },
  {
    "text": "challenging you'd have to double it So",
    "start": "1640000",
    "end": "1641600"
  },
  {
    "text": "0.6* 2 would be um 1.2 if you wanted to",
    "start": "1641600",
    "end": "1645600"
  },
  {
    "text": "remediate right So the failure is 0.6%",
    "start": "1645600",
    "end": "1648240"
  },
  {
    "text": "but the actual remediation is 1.2% And",
    "start": "1648240",
    "end": "1650960"
  },
  {
    "text": "if you went up to eight you'd actually",
    "start": "1650960",
    "end": "1653200"
  },
  {
    "text": "um do times four right So now the number",
    "start": "1653200",
    "end": "1656400"
  },
  {
    "text": "gets a little bit more scary So that's",
    "start": "1656400",
    "end": "1658640"
  },
  {
    "text": "kind of what we were alluding to is that",
    "start": "1658640",
    "end": "1660400"
  },
  {
    "text": "um is and and this could also change",
    "start": "1660400",
    "end": "1662720"
  },
  {
    "text": "like if you're doing cross nodes right",
    "start": "1662720",
    "end": "1664240"
  },
  {
    "text": "Like now you've got now how do you",
    "start": "1664240",
    "end": "1666400"
  },
  {
    "text": "schedule that That's a whole scheduling",
    "start": "1666400",
    "end": "1668120"
  },
  {
    "text": "compl problem that you have to figure",
    "start": "1668120",
    "end": "1670720"
  },
  {
    "text": "out And you know when you should you",
    "start": "1670720",
    "end": "1672480"
  },
  {
    "text": "know what if your workload demands that",
    "start": "1672480",
    "end": "1674399"
  },
  {
    "text": "it needs an H100 or there's 10 H100s",
    "start": "1674399",
    "end": "1676880"
  },
  {
    "text": "right",
    "start": "1676880",
    "end": "1679039"
  },
  {
    "text": "ac few challenges here that that just",
    "start": "1685480",
    "end": "1688960"
  },
  {
    "text": "that one number illustrates and kind of",
    "start": "1688960",
    "end": "1691279"
  },
  {
    "text": "where you know where we want to go with",
    "start": "1691279",
    "end": "1692799"
  },
  {
    "text": "with this working group Thank you very",
    "start": "1692799",
    "end": "1694799"
  },
  {
    "text": "much Welcome",
    "start": "1694799",
    "end": "1698278"
  },
  {
    "text": "Thank you everyone If there are any",
    "start": "1702080",
    "end": "1704240"
  },
  {
    "text": "questions we can uh answer them after",
    "start": "1704240",
    "end": "1707799"
  },
  {
    "text": "the talk is over",
    "start": "1707799",
    "end": "1711690"
  },
  {
    "text": "[Applause]",
    "start": "1711690",
    "end": "1714649"
  }
]