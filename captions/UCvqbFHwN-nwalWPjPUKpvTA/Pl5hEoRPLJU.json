[
  {
    "text": "okay hi hi everyone um okay we still have one more minute",
    "start": "9960",
    "end": "17880"
  },
  {
    "text": "uh but maybe I can ask a question who's here for cortex to",
    "start": "17880",
    "end": "23820"
  },
  {
    "text": "and just to make sure everybody's in the right building okay good um who's here um to see AI generated",
    "start": "23820",
    "end": "32480"
  },
  {
    "text": "pictures of puppies ah nobody oh right cool okay good so we I guess we",
    "start": "32480",
    "end": "41160"
  },
  {
    "text": "have to do both um we have to do cortex and AI generated pictures of puppies",
    "start": "41160",
    "end": "46680"
  },
  {
    "text": "um yeah okay we're gonna talk um on cortex and how to run a rock solid",
    "start": "46680",
    "end": "53300"
  },
  {
    "text": "multi-tenant Prometheus um and how do we do how do we do that with",
    "start": "53300",
    "end": "58559"
  },
  {
    "text": "cortex right on the agenda um we're gonna do we're gonna do a bit of",
    "start": "58559",
    "end": "64559"
  },
  {
    "text": "introduction on cortex for those that are not familiar very quick then we're going to talk about",
    "start": "64559",
    "end": "70260"
  },
  {
    "text": "what is latest on cortex uh we just released something and then",
    "start": "70260",
    "end": "76380"
  },
  {
    "text": "we're going to go in some of it of drillability in cortex and having users in mind",
    "start": "76380",
    "end": "83640"
  },
  {
    "text": "you're gonna see what that is about and then we're going to see a specific on cortex what is the secret sauce of",
    "start": "83640",
    "end": "89700"
  },
  {
    "text": "Cortex um we're gonna get that and then then we're going to talk what's coming up for",
    "start": "89700",
    "end": "95460"
  },
  {
    "text": "cortex in in the pipeline and then we're going to do some questions",
    "start": "95460",
    "end": "101280"
  },
  {
    "text": "right um",
    "start": "101280",
    "end": "104960"
  },
  {
    "text": "cortex is a horizontally scalable highly available long-term storage for",
    "start": "106740",
    "end": "113220"
  },
  {
    "text": "Prometheus um it's a cncf project it's an integrating project",
    "start": "113220",
    "end": "118799"
  },
  {
    "text": "is not a new project it started 2016. um it had since a lot of contributors",
    "start": "118799",
    "end": "125939"
  },
  {
    "text": "over the years lots of maintainers um uh if we even change at some point",
    "start": "125939",
    "end": "133500"
  },
  {
    "text": "The Backs back in storage but we're going to talk a bit on what's",
    "start": "133500",
    "end": "138840"
  },
  {
    "text": "like last year a bit um so my name is fedris Gonzalez I'm a",
    "start": "138840",
    "end": "145379"
  },
  {
    "text": "software engineer at Adobe in here with me is um hey uh I'm Alan I'm also a software",
    "start": "145379",
    "end": "151800"
  },
  {
    "text": "engineer on AWS yeah so and then we also",
    "start": "151800",
    "end": "157379"
  },
  {
    "text": "have some other members of the team that we surely value Alvin a software",
    "start": "157379",
    "end": "163319"
  },
  {
    "text": "development manager who's also a maintainer and we also have Ben from Amazon as well",
    "start": "163319",
    "end": "169580"
  },
  {
    "text": "um also we have maintainers on the health chart we also want to mention they do a",
    "start": "170220",
    "end": "175319"
  },
  {
    "text": "great work on the home chart these are the faces sorry Nicholas I didn't get",
    "start": "175319",
    "end": "180480"
  },
  {
    "text": "your picture for the talk but yeah you do good work and these are the people have been working uh a lot on cortex",
    "start": "180480",
    "end": "187379"
  },
  {
    "text": "lately um some of the key contributes that we have in cortex are on this slide",
    "start": "187379",
    "end": "192959"
  },
  {
    "text": "um yeah if you it might be that you made some comic on cortex you're not in this",
    "start": "192959",
    "end": "199140"
  },
  {
    "text": "ladder probably this is like if you more make more than one comment your show um so sorry",
    "start": "199140",
    "end": "205200"
  },
  {
    "text": "um but we want to thank them all because these are the people that we're gonna talk about when we talk about all these",
    "start": "205200",
    "end": "212280"
  },
  {
    "text": "features that we're going to do the talk right so but why is cortex and how",
    "start": "212280",
    "end": "220920"
  },
  {
    "text": "cortex came to be um cortex",
    "start": "220920",
    "end": "226159"
  },
  {
    "text": "existence because of Prometheus so let's start with Prometheus Prometheus in a",
    "start": "226159",
    "end": "231659"
  },
  {
    "text": "simple form it's just a scrapes an application that application my increasing High current",
    "start": "231659",
    "end": "240000"
  },
  {
    "text": "or you might increase your diet retention on Prometheus typically",
    "start": "240000",
    "end": "245700"
  },
  {
    "text": "there's a happy puppy um that is an owner and this is the",
    "start": "245700",
    "end": "251760"
  },
  {
    "text": "owner of this remedy and he's a really happy puppy as you can see um whenever there's High candidate",
    "start": "251760",
    "end": "258239"
  },
  {
    "text": "problems the owner of this cortex decides to increase vertically in resources all that is",
    "start": "258239",
    "end": "266220"
  },
  {
    "text": "needed for Prometheus um",
    "start": "266220",
    "end": "271560"
  },
  {
    "text": "but what happens if we have multiple applications we have multiple applications Prometheus is ready to give you more",
    "start": "271560",
    "end": "277979"
  },
  {
    "text": "you can scrape multiple apps from Prometheus if you have the same problems that we talked before you still are a",
    "start": "277979",
    "end": "284940"
  },
  {
    "text": "happy puppy you're still happy owner of because you can still increase your",
    "start": "284940",
    "end": "290100"
  },
  {
    "text": "resources vertically as you need simple use case um in all those scenarios",
    "start": "290100",
    "end": "298860"
  },
  {
    "text": "um but what happens in this next use case in this next use",
    "start": "298860",
    "end": "303960"
  },
  {
    "text": "case we have two groups of applications and we have the same problems but this High turn belongs to some",
    "start": "303960",
    "end": "310800"
  },
  {
    "text": "applications not all of them and they belong to different teams so in this case the users are not happy",
    "start": "310800",
    "end": "318000"
  },
  {
    "text": "with each other why because there's no tenant isolation in Prometheus a",
    "start": "318000",
    "end": "323280"
  },
  {
    "text": "Prometheus was never designed to do Tenon isolation and it will never met him it would it will never be",
    "start": "323280",
    "end": "329880"
  },
  {
    "text": "intermedius right it's part of the design it's a simple project made for that",
    "start": "329880",
    "end": "336440"
  },
  {
    "text": "and in this case there's no way around that right so this is where cortex fits",
    "start": "336440",
    "end": "343979"
  },
  {
    "text": "in cortex comes and allows you to have a tendency in another environment so now",
    "start": "343979",
    "end": "351240"
  },
  {
    "text": "you have two Primitives in the same Primitives that we had before scribbing multiple applications they send to",
    "start": "351240",
    "end": "357060"
  },
  {
    "text": "Cortex to different tenants because they send to different tenants cortex provide the multi-tenancy",
    "start": "357060",
    "end": "364160"
  },
  {
    "text": "in the scenarios that we've talked before of Kai County Library cortex is",
    "start": "364160",
    "end": "369479"
  },
  {
    "text": "prepared to limit for one tenant and not for another one so if another if one",
    "start": "369479",
    "end": "375060"
  },
  {
    "text": "thing and solving problems you can still have the other tenant working and this is the key factor",
    "start": "375060",
    "end": "380940"
  },
  {
    "text": "so now you have the two puppies really happy the two owners really happy with their service because they can scale",
    "start": "380940",
    "end": "387180"
  },
  {
    "text": "separately they don't have to deal with the problems that the other owner has so they can achieve High higher",
    "start": "387180",
    "end": "395100"
  },
  {
    "text": "availability and everything um we're gonna stop right here and we're gonna go quickly on the architecture",
    "start": "395100",
    "end": "401639"
  },
  {
    "text": "Alan please uh hey um just before starting talking in uh",
    "start": "401639",
    "end": "407580"
  },
  {
    "text": "cortex architecture uh just out of curiosity how many of you uh use cortex",
    "start": "407580",
    "end": "413340"
  },
  {
    "text": "in a way or another ah oh cool like",
    "start": "413340",
    "end": "419580"
  },
  {
    "text": "10 people nice well uh we would love to chat with you if you guys have uh uh",
    "start": "419580",
    "end": "427699"
  },
  {
    "text": "uh Channel like we would like love to see uh talk about your experience",
    "start": "427699",
    "end": "434759"
  },
  {
    "text": "so a little bit about cortex architecture right uh cortex is basically uh multiple microservice that",
    "start": "434759",
    "end": "444180"
  },
  {
    "text": "we deploy if you are talking in the kubernetes world we deploy those micro",
    "start": "444180",
    "end": "449699"
  },
  {
    "text": "services like a deployment or as data facets and each one of them has a very key goal",
    "start": "449699",
    "end": "457740"
  },
  {
    "text": "on the cortex cluster uh today we will not be diving deep on which one of those",
    "start": "457740",
    "end": "464520"
  },
  {
    "text": "components are and what they do but I think the main thing here is that those",
    "start": "464520",
    "end": "469740"
  },
  {
    "text": "components can be horizontally scalable so if you increase your number of Time",
    "start": "469740",
    "end": "475919"
  },
  {
    "text": "series or a number of samples or your query path number of rules or",
    "start": "475919",
    "end": "481680"
  },
  {
    "text": "number of dashboards that you have in our organization we can just do what we",
    "start": "481680",
    "end": "487740"
  },
  {
    "text": "do on cortex we can have hpas looks at some metrics and if you need more time",
    "start": "487740",
    "end": "492840"
  },
  {
    "text": "series just put more pods cortex video reallocate the timing series to the new",
    "start": "492840",
    "end": "498539"
  },
  {
    "text": "pods everything will be done under the hood and like we can scale down and up",
    "start": "498539",
    "end": "503780"
  },
  {
    "text": "microservices just like any other microservices on kubernetes uh",
    "start": "503780",
    "end": "509699"
  },
  {
    "text": "the second thing that cortexed have here and like that we can see is that you can retain your data for a long period of",
    "start": "509699",
    "end": "516419"
  },
  {
    "text": "time uh cortex only keeps in disk recent data",
    "start": "516419",
    "end": "522899"
  },
  {
    "text": "and after some time that you can configure your this data is shipped to a",
    "start": "522899",
    "end": "528740"
  },
  {
    "text": "object storage and can remain there for how long as you want those data they are",
    "start": "528740",
    "end": "535680"
  },
  {
    "text": "credible so it will work just like from it just like a normal Prometheus but it",
    "start": "535680",
    "end": "541620"
  },
  {
    "text": "will be stored in a S3 or Azure blocks blob storage in your cloud provider",
    "start": "541620",
    "end": "549080"
  },
  {
    "text": "the third thing is that even though we have like multiple microservice and uh",
    "start": "549080",
    "end": "554640"
  },
  {
    "text": "multiple things going on under the hood these cortex is fully Prometheus compatible so if you have your",
    "start": "554640",
    "end": "560880"
  },
  {
    "text": "dashboards uh cortex will work just like uh a single tenant uh",
    "start": "560880",
    "end": "567600"
  },
  {
    "text": "single process Prometheus server uh",
    "start": "567600",
    "end": "572779"
  },
  {
    "text": "so what's the latest in cortex we the last",
    "start": "572779",
    "end": "577800"
  },
  {
    "text": "six months we had two release uh the we released 1.14 uh December last",
    "start": "577800",
    "end": "585899"
  },
  {
    "text": "year we have some key features here like we we remove it like a deprecated uh",
    "start": "585899",
    "end": "592440"
  },
  {
    "text": "junk storage uh this is not well not adding feature but a removing feature",
    "start": "592440",
    "end": "598019"
  },
  {
    "text": "but this was being deprecated for a long time and it was very very good to have a",
    "start": "598019",
    "end": "603779"
  },
  {
    "text": "big Cleanup in the code of Cortex we also added vertical sharding uh so",
    "start": "603779",
    "end": "610200"
  },
  {
    "text": "cortex traditionally like when you call about Chardon on the query is basically",
    "start": "610200",
    "end": "615240"
  },
  {
    "text": "a technique that cortex use to split a big aquarium into smaller ones and",
    "start": "615240",
    "end": "620820"
  },
  {
    "text": "traditionally cortex is split by time so if you have let's say if our query seven",
    "start": "620820",
    "end": "625860"
  },
  {
    "text": "days cortex is split by a day around those pairs in parallel receives the",
    "start": "625860",
    "end": "631860"
  },
  {
    "text": "result back converge everything and return so increases our latency oh improve latency but in 1.14 we also",
    "start": "631860",
    "end": "640500"
  },
  {
    "text": "introduced the vertical shardening so like the same query for the same time range some of some types of queries can",
    "start": "640500",
    "end": "646800"
  },
  {
    "text": "be is splitted in smaller queries that you can also run in parallel in multiple pods and just merge the result back and",
    "start": "646800",
    "end": "655200"
  },
  {
    "text": "return it to the client we also added open Telemetry hotel for creating just before before we were just using open",
    "start": "655200",
    "end": "661620"
  },
  {
    "text": "tracing so it's nice to see that uh and actually yesterday we released",
    "start": "661620",
    "end": "667140"
  },
  {
    "text": "cortex 1.15 and in this release we are bringing some latest features from",
    "start": "667140",
    "end": "672660"
  },
  {
    "text": "Prometheus like uh supports for out of other samples if you want to enable uh",
    "start": "672660",
    "end": "678120"
  },
  {
    "text": "supports for redis cache we have several caches layers on uh cortex and now you can use Reds for it uh arm images that",
    "start": "678120",
    "end": "686279"
  },
  {
    "text": "uh it was long asked by the community and uh we finally did it and support for",
    "start": "686279",
    "end": "692940"
  },
  {
    "text": "the new tunnels from 12 engine I will talk a little bit more about about that",
    "start": "692940",
    "end": "698640"
  },
  {
    "text": "so we want we also want to welcome Ben as maintainer for cortex he is",
    "start": "698640",
    "end": "705060"
  },
  {
    "text": "he's doing amazing job he's also maintainer for tunnels uh his uh his his",
    "start": "705060",
    "end": "711899"
  },
  {
    "text": "his contributions is already making lots of difference to the project so take",
    "start": "711899",
    "end": "717300"
  },
  {
    "text": "thank you Ben for being part of the team uh so I just said that in 1.15 we uh we",
    "start": "717300",
    "end": "725339"
  },
  {
    "text": "introduced the support the experimental support for the new Thanos from ql",
    "start": "725339",
    "end": "730380"
  },
  {
    "text": "engine and what is what is this uh uh",
    "start": "730380",
    "end": "736680"
  },
  {
    "text": "is trying is creating a new promo code engine uh and uh is doing everything",
    "start": "739560",
    "end": "744600"
  },
  {
    "text": "from scratch and why is that same as Prometheus Prometheus engine is uh is",
    "start": "744600",
    "end": "750300"
  },
  {
    "text": "designed to run in a single car in a single uh in a single process and here we have a",
    "start": "750300",
    "end": "757380"
  },
  {
    "text": "distributed system uh so that is an initiative to like uh",
    "start": "757380",
    "end": "762959"
  },
  {
    "text": "create an engine that's fully compatible and can work better in the distributed system so like uh when you are doing",
    "start": "762959",
    "end": "769740"
  },
  {
    "text": "like sharding the query instead of doing tricks here and there like splitting by day splitting by something we can have a",
    "start": "769740",
    "end": "777000"
  },
  {
    "text": "fully supportive distributed query and and mood core queries in in the in the",
    "start": "777000",
    "end": "782760"
  },
  {
    "text": "engine itself so this is a red experimento like uh you can enable that in cortex in a feature flag uh that is",
    "start": "782760",
    "end": "790139"
  },
  {
    "text": "like this engine is new it is in development it's constants are changing but you can try out as a experimental",
    "start": "790139",
    "end": "796920"
  },
  {
    "text": "features on cortex right now uh so and uh we also have a new project sub",
    "start": "796920",
    "end": "806160"
  },
  {
    "text": "project Zone cortex uh it's called from from ql Smith oh it's basically based on",
    "start": "806160",
    "end": "813000"
  },
  {
    "text": "desk myth uh but basically this this this project is trying to help us to do",
    "start": "813000",
    "end": "819660"
  },
  {
    "text": "first testing Zoom cortex we just said that we are doing a vertical sharding horizontal sharding queries uh and also",
    "start": "819660",
    "end": "827160"
  },
  {
    "text": "trying out the new promptio engines but uh we need to make sure that uh we we",
    "start": "827160",
    "end": "832680"
  },
  {
    "text": "are not uh breaking the semantics of chrome ql so uh this project runs now on uh the new",
    "start": "832680",
    "end": "841620"
  },
  {
    "text": "engine and also on cortex and do first testing like with it generate a bunch of",
    "start": "841620",
    "end": "847019"
  },
  {
    "text": "data create a bunch of uh different queries we run cortex with the old",
    "start": "847019",
    "end": "852420"
  },
  {
    "text": "Engine with the the native Prometheus engine uh uh with no optimization",
    "start": "852420",
    "end": "859500"
  },
  {
    "text": "whatsoever we get this result we run with the vertical horizontal sharding",
    "start": "859500",
    "end": "864959"
  },
  {
    "text": "and with the new prompt QR engine we make sure that everything uh is the same so we are not breaking experience",
    "start": "864959",
    "end": "873660"
  },
  {
    "text": "now back to you",
    "start": "873660",
    "end": "876680"
  },
  {
    "text": "to the question of Cortex and how you know how can we add all these new features and still keep credibility",
    "start": "879600",
    "end": "887100"
  },
  {
    "text": "right and the question that you see in the in the slide is what is a single",
    "start": "887100",
    "end": "892500"
  },
  {
    "text": "thing what people want for monitoring and it's already a given",
    "start": "892500",
    "end": "897680"
  },
  {
    "text": "it needs to be reliable um monitor needs to be more reliable",
    "start": "897680",
    "end": "903899"
  },
  {
    "text": "than production your how can you know if your production is down if your",
    "start": "903899",
    "end": "909420"
  },
  {
    "text": "monitoring environment is not up on really and really it really available",
    "start": "909420",
    "end": "915779"
  },
  {
    "text": "um but how can we do that well we have to measure it",
    "start": "915779",
    "end": "922199"
  },
  {
    "text": "we have to measure um the relatability in this slide you're",
    "start": "922199",
    "end": "928139"
  },
  {
    "text": "going to see there are very complicated prompt ql expression that prompt your expression we're not going to go through",
    "start": "928139",
    "end": "934079"
  },
  {
    "text": "it but the bottom line is you have to make sure you can divide your the number of Errors",
    "start": "934079",
    "end": "941339"
  },
  {
    "text": "you have your application by the number of requests you have when you do that you",
    "start": "941339",
    "end": "947519"
  },
  {
    "text": "get a nice percentage that tells you the reliability what is important from this",
    "start": "947519",
    "end": "952620"
  },
  {
    "text": "QR expression that you see there is that is not only the errors that you care about you also care about the latency",
    "start": "952620",
    "end": "959639"
  },
  {
    "text": "right so you measure that um I know I'm I this might not be",
    "start": "959639",
    "end": "964800"
  },
  {
    "text": "entirely just for cortex you might apply these to other things but it's for cortex since the beginning it has been",
    "start": "964800",
    "end": "971579"
  },
  {
    "text": "the case that you have to do this to do to make it reliable",
    "start": "971579",
    "end": "976800"
  },
  {
    "text": "great but once you measure that that availability what you have and this is",
    "start": "976800",
    "end": "983579"
  },
  {
    "text": "me tell you things that are common to other applications but you do have to do that for cortex",
    "start": "983579",
    "end": "990540"
  },
  {
    "text": "um you have to set up a SLO for your environment you have to set up a",
    "start": "990540",
    "end": "995940"
  },
  {
    "text": "realistic SLO and you have to one once you refine that SLO",
    "start": "995940",
    "end": "1002300"
  },
  {
    "text": "you're gonna have to page if you have problems in other solo it's",
    "start": "1002300",
    "end": "1008240"
  },
  {
    "text": "there's too much to talk about this so and there's already a talk that does exactly this explains this and it's in",
    "start": "1008240",
    "end": "1016100"
  },
  {
    "text": "this slide that you see if you if you're not familiar with this go to this presentation from kubecon and watch that",
    "start": "1016100",
    "end": "1022519"
  },
  {
    "text": "out um it's very important to keep your environment reliable this if you don't",
    "start": "1022519",
    "end": "1028160"
  },
  {
    "text": "if you try to do some other alerts and you don't do this you're not going in the right way",
    "start": "1028160",
    "end": "1033558"
  },
  {
    "text": "but but thinking of the way cortex is designed",
    "start": "1033559",
    "end": "1038660"
  },
  {
    "text": "um even if you're all your monitoring initialis are green",
    "start": "1038660",
    "end": "1045380"
  },
  {
    "text": "how can you really say everything is good if you don't talk to your users",
    "start": "1045380",
    "end": "1051679"
  },
  {
    "text": "you have to know from your user's perspective what they say about it it's",
    "start": "1051679",
    "end": "1057080"
  },
  {
    "text": "not only important to have everything green you have to know what they think about it",
    "start": "1057080",
    "end": "1063679"
  },
  {
    "text": "you have to see if they are able to do what they want to do with the application",
    "start": "1063679",
    "end": "1068780"
  },
  {
    "text": "and what is recommended from the beginning in the cortex scene has been done as you can see we use from ql to",
    "start": "1068780",
    "end": "1075440"
  },
  {
    "text": "measure latency we do dark footing you're expected to monitor cortex using",
    "start": "1075440",
    "end": "1081980"
  },
  {
    "text": "Prometheus so in doing that you can do a lot of duck footing it's expected also",
    "start": "1081980",
    "end": "1087740"
  },
  {
    "text": "that you feel whatever users pains they have in their environments so if you",
    "start": "1087740",
    "end": "1094820"
  },
  {
    "text": "provide cortex you are the first time user of Cortex um and and this too much",
    "start": "1094820",
    "end": "1101000"
  },
  {
    "text": "to talk about this slide but I have to move on because there are more specific things that we need to talk about cortex",
    "start": "1101000",
    "end": "1108320"
  },
  {
    "text": "right so what is the secret source of Cortex since the beginning and how is it that",
    "start": "1108320",
    "end": "1114080"
  },
  {
    "text": "is reliable till today it was from the beginning made for kubernetes a long",
    "start": "1114080",
    "end": "1120260"
  },
  {
    "text": "time ago imagine being in 2016 and doing it ready for kubernetes but not only",
    "start": "1120260",
    "end": "1125660"
  },
  {
    "text": "that cortex is not a separate project from Prometheus it vendors Prometheus",
    "start": "1125660",
    "end": "1131000"
  },
  {
    "text": "right so we use Prometheus as a library like you know we import all the",
    "start": "1131000",
    "end": "1136760"
  },
  {
    "text": "Prometheus in cortexes so that's how we can achieve and I'll mention that and",
    "start": "1136760",
    "end": "1142700"
  },
  {
    "text": "there is binarily compatibility and at the same time we also use Thanos",
    "start": "1142700",
    "end": "1149600"
  },
  {
    "text": "cortex uses latest version of Prometheus and latest version of Thanos so when",
    "start": "1149600",
    "end": "1155419"
  },
  {
    "text": "you're using cortex you're using Primitives there's no way it's no way not to do that and that's",
    "start": "1155419",
    "end": "1160640"
  },
  {
    "text": "kind of like the secret sauce how can we keep up with all the new features always coming up within Prometheus and that's",
    "start": "1160640",
    "end": "1167840"
  },
  {
    "text": "how it opens it all is also very possible to always go fast with the",
    "start": "1167840",
    "end": "1173120"
  },
  {
    "text": "features and keep their availability but on top of Thanos what does cortex do",
    "start": "1173120",
    "end": "1180860"
  },
  {
    "text": "um so on top of Thanos cortex does an amazing thing for reliability and that",
    "start": "1180860",
    "end": "1186980"
  },
  {
    "text": "is that it provides limits the limits",
    "start": "1186980",
    "end": "1192200"
  },
  {
    "text": "um the limits in cortex are done by Design you car you can in each tenant provide a",
    "start": "1192200",
    "end": "1200419"
  },
  {
    "text": "different um a different type of active series maximum active series for example or",
    "start": "1200419",
    "end": "1207860"
  },
  {
    "text": "maximum engine ingestion rate or maximum there's there's too many options",
    "start": "1207860",
    "end": "1214880"
  },
  {
    "text": "um actually what we recommend is that you create tiers like what you see in this slide on the right side you see a",
    "start": "1214880",
    "end": "1221299"
  },
  {
    "text": "bigger user you give it a modern limits on the right side you see medium user this is how you refine your promise",
    "start": "1221299",
    "end": "1227480"
  },
  {
    "text": "remember when we talk about slos well you do refine your promise you say I'm",
    "start": "1227480",
    "end": "1232880"
  },
  {
    "text": "going to support all your active series till this level and until this level what happens with cortex start replies",
    "start": "1232880",
    "end": "1240440"
  },
  {
    "text": "with 400 which is typical that you're not cortex is not wrong it's just you're",
    "start": "1240440",
    "end": "1245960"
  },
  {
    "text": "sending too much data doing that cortex remains reliable if it in keeps the promise that was made",
    "start": "1245960",
    "end": "1253760"
  },
  {
    "text": "to the users um but there are too many limits",
    "start": "1253760",
    "end": "1259640"
  },
  {
    "text": "um in this slide you can see all the limits that are having adding other over the years and are still compatible and you can still use them to refine what",
    "start": "1259640",
    "end": "1267200"
  },
  {
    "text": "you need for your user their limits for ingest and their limit for querying their limits for the tensions we don't",
    "start": "1267200",
    "end": "1273020"
  },
  {
    "text": "have time to go all over them but I do want to mention the ones that you see in bold are the ones that were added last",
    "start": "1273020",
    "end": "1278960"
  },
  {
    "text": "and have been added in the last year uh specifically in this release actually",
    "start": "1278960",
    "end": "1284299"
  },
  {
    "text": "the release that we did yesterday um there are other limits in cortex",
    "start": "1284299",
    "end": "1290419"
  },
  {
    "text": "um and and remember all these limits are made to guarantee relability the",
    "start": "1290419",
    "end": "1296299"
  },
  {
    "text": "reliability of Cortex is the most important thing um you can set up heading gestures",
    "start": "1296299",
    "end": "1301760"
  },
  {
    "text": "which is a component of Cortex how many Mac how many active series you want put in yester so when your Iniesta receives",
    "start": "1301760",
    "end": "1308120"
  },
  {
    "text": "too many active series because the outer scaling didn't trigger your investors will never or or will never have",
    "start": "1308120",
    "end": "1315140"
  },
  {
    "text": "problems um there's still of course something can happen as we'll see in the next slides",
    "start": "1315140",
    "end": "1321020"
  },
  {
    "text": "but this is another way to keep things under control and keep things reliable",
    "start": "1321020",
    "end": "1327400"
  },
  {
    "text": "and same thing for distributors very important for ingestion to keep them",
    "start": "1328280",
    "end": "1334000"
  },
  {
    "text": "very close um I'm not going to go over exactly those details we're going to move to",
    "start": "1334000",
    "end": "1341840"
  },
  {
    "text": "another specific feature of Cortex that we want to explain to you a bit and it's",
    "start": "1341840",
    "end": "1347000"
  },
  {
    "text": "the replication factor and the quorum thank you Frederick yes like having per",
    "start": "1347000",
    "end": "1353780"
  },
  {
    "text": "instance limits pertinent limit is very important it protects the service and protect tenant abuse so uh we do that",
    "start": "1353780",
    "end": "1363440"
  },
  {
    "text": "but on top of it we also do some things to improve the reliability even further",
    "start": "1363440",
    "end": "1369460"
  },
  {
    "text": "we'll go through three techniques that cortex implement but that is meant more",
    "start": "1369460",
    "end": "1376039"
  },
  {
    "text": "uh there so the first one is a simple column uh usually you configure cortex",
    "start": "1376039",
    "end": "1382100"
  },
  {
    "text": "to have a replica of three this means that on every right your date is",
    "start": "1382100",
    "end": "1388820"
  },
  {
    "text": "replicated across three instances uh you try to replicate across 3D instance",
    "start": "1388820",
    "end": "1394880"
  },
  {
    "text": "but if you have two out of three success you will return success to the customer",
    "start": "1394880",
    "end": "1400940"
  },
  {
    "text": "so this happens on the read ending the right path uh here you already have some",
    "start": "1400940",
    "end": "1406400"
  },
  {
    "text": "reliability in in case of one instance failing the second thing is uh is a is a",
    "start": "1406400",
    "end": "1413659"
  },
  {
    "text": "technical Shuffle sharding so watch out for Chardonnay Shuffle shark is just like a way to uh allocate part of your",
    "start": "1413659",
    "end": "1421039"
  },
  {
    "text": "Fleet to some of the two different tenants so uh and you and you allocate",
    "start": "1421039",
    "end": "1427280"
  },
  {
    "text": "afflict in a way that you try to avoid that too many too many instances or too",
    "start": "1427280",
    "end": "1433159"
  },
  {
    "text": "many node overlaps between two tenants so uh 1080 can have ABC nodes 1080 B can",
    "start": "1433159",
    "end": "1440539"
  },
  {
    "text": "have CDE so they don't have to be the same like if I choose to minimize the overlap of instance between tenants uh",
    "start": "1440539",
    "end": "1447980"
  },
  {
    "text": "we have a graph here that in this case for instance if you have 50 instance and",
    "start": "1447980",
    "end": "1454520"
  },
  {
    "text": "uh chart size of four uh you have only three plus three percent of chance of",
    "start": "1454520",
    "end": "1461240"
  },
  {
    "text": "like between two tenancy they share more than one instance this is very important because let's say that even with all the",
    "start": "1461240",
    "end": "1468140"
  },
  {
    "text": "limits with all the the a day",
    "start": "1468140",
    "end": "1473299"
  },
  {
    "text": "the protections that we put on the on the fleet to to avoid abuse one of the",
    "start": "1473299",
    "end": "1479780"
  },
  {
    "text": "tenants can cause uh some of your Fleet to go out of memory or use a lot of CPU",
    "start": "1479780",
    "end": "1485720"
  },
  {
    "text": "and as we as we said before uh if you have one bad actor that is causing",
    "start": "1485720",
    "end": "1492080"
  },
  {
    "text": "problem in for instance of fairfleet you only have three percent chance of impacting other tenets is",
    "start": "1492080",
    "end": "1499340"
  },
  {
    "text": "you only have three percent of chance of of sharing more than one uh instance",
    "start": "1499340",
    "end": "1504620"
  },
  {
    "text": "and with the replication Factor if I have one instance down uh I'm okay",
    "start": "1504620",
    "end": "1510140"
  },
  {
    "text": "so this is Shuffle sharding uh we also have a thing called ring ring is",
    "start": "1510140",
    "end": "1517340"
  },
  {
    "text": "just like a service Discovery slash consistence hashing",
    "start": "1517340",
    "end": "1522760"
  },
  {
    "text": "implementation that cortex has so the ring is like uh so every time that we",
    "start": "1522760",
    "end": "1529460"
  },
  {
    "text": "scale up and down your Fleet the new instances will join the ring",
    "start": "1529460",
    "end": "1536260"
  },
  {
    "text": "and some of the load will be shifted to that new instance",
    "start": "1536260",
    "end": "1542260"
  },
  {
    "text": "the the service discovered part is like the instance itself like registrator and",
    "start": "1542260",
    "end": "1547460"
  },
  {
    "text": "like the consistent hash is that is is is a consistent session like uh",
    "start": "1547460",
    "end": "1553640"
  },
  {
    "text": "when a new instance come or go we don't restart the all the time series but just",
    "start": "1553640",
    "end": "1559640"
  },
  {
    "text": "the time series or the load that will be uh migrated to the new instance to the",
    "start": "1559640",
    "end": "1566779"
  },
  {
    "text": "new instance for the ring we have like multiple uh backhands like traditionally like",
    "start": "1566779",
    "end": "1573679"
  },
  {
    "text": "console at tcd and member list are late uh we just added dynamodb uh as a",
    "start": "1573679",
    "end": "1580900"
  },
  {
    "text": "serverless back-end let's say about together with member list you don't have",
    "start": "1580900",
    "end": "1586039"
  },
  {
    "text": "to uh running things you know cluster uh if you want to use this implementation",
    "start": "1586039",
    "end": "1592340"
  },
  {
    "text": "uh uh also uh cortex implements vulnerable replication uh this can be enabled on",
    "start": "1592340",
    "end": "1600860"
  },
  {
    "text": "cortex and basically this is to Cortex that besides replicating my my data",
    "start": "1600860",
    "end": "1607820"
  },
  {
    "text": "across three different different instance I need to make sure that my",
    "start": "1607820",
    "end": "1613340"
  },
  {
    "text": "data is replicated across this is very important because you can have your",
    "start": "1613340",
    "end": "1618620"
  },
  {
    "text": "cloud provider can have an easy failure uh and when this happens it's exactly",
    "start": "1618620",
    "end": "1625039"
  },
  {
    "text": "when you need more uh metrics and Telemetry uh and then like",
    "start": "1625039",
    "end": "1631940"
  },
  {
    "text": "cortex we will just still work as fine like even in a case of a total is the",
    "start": "1631940",
    "end": "1638240"
  },
  {
    "text": "outage cortex should continue to work just fine",
    "start": "1638240",
    "end": "1643659"
  },
  {
    "text": "uh we also have modern projects coming up soon uh we have uh our we are",
    "start": "1643659",
    "end": "1651980"
  },
  {
    "text": "implementing out the Gateway uh cortex doesn't do authorization and authentication uh",
    "start": "1651980",
    "end": "1658520"
  },
  {
    "text": "uh traditionally uh one we we have on Linux Foundation uh mainly working on",
    "start": "1658520",
    "end": "1666200"
  },
  {
    "text": "that uh we also have another uh mentee project to import uh blocks on cortex",
    "start": "1666200",
    "end": "1673179"
  },
  {
    "text": "this is being asked by the community a lot like uh uh I have my Prometheus",
    "start": "1673179",
    "end": "1678620"
  },
  {
    "text": "running and then I have a scale scale problems or like I I want to do in I",
    "start": "1678620",
    "end": "1684679"
  },
  {
    "text": "want to do cortex uh how can I have like how can I import my historical data to",
    "start": "1684679",
    "end": "1690320"
  },
  {
    "text": "Cortex so this has been implemented uh by MNT as well we have down sampling",
    "start": "1690320",
    "end": "1695419"
  },
  {
    "text": "don't simply can have can help a lot if you have queries that's uh over a very",
    "start": "1695419",
    "end": "1701120"
  },
  {
    "text": "big period of time so let's say I want to acquire that from the last six months so like I reduce I down sample uh the",
    "start": "1701120",
    "end": "1709340"
  },
  {
    "text": "data so like the query can I I end up uh acquiring light samples and speeding up",
    "start": "1709340",
    "end": "1716360"
  },
  {
    "text": "the queries quite a bit Federated rules is another feature asked by the community one tenant can say to another",
    "start": "1716360",
    "end": "1722840"
  },
  {
    "text": "like oh I allow you to query my data to create the rules and alerts and Native",
    "start": "1722840",
    "end": "1729440"
  },
  {
    "text": "histogram line native histogram it was just added in Prometheus we already have",
    "start": "1729440",
    "end": "1736100"
  },
  {
    "text": "Prometheus version with Native histogram support but we still have work to do in our side that's been done as we speak to",
    "start": "1736100",
    "end": "1744559"
  },
  {
    "text": "supporting a native histogram",
    "start": "1744559",
    "end": "1748120"
  },
  {
    "text": "um we typically hang out in the cortex cncf Channel if you have enjoyed that",
    "start": "1749960",
    "end": "1755900"
  },
  {
    "text": "you should um that's where we are if you're have any questions",
    "start": "1755900",
    "end": "1761059"
  },
  {
    "text": "um goodbye um somewhere it might take time not too long probably by every day if you have",
    "start": "1761059",
    "end": "1768500"
  },
  {
    "text": "some issues you can file issues you can search through issues something is important um of course PR welcome we we have",
    "start": "1768500",
    "end": "1777860"
  },
  {
    "text": "mentees if you want to join if you want to help out um yeah you are more than welcome and",
    "start": "1777860",
    "end": "1784340"
  },
  {
    "text": "this is my actual puppy ah yeah okay that's it that's I'm done",
    "start": "1784340",
    "end": "1790560"
  },
  {
    "text": "[Music] thank you",
    "start": "1790560",
    "end": "1795820"
  },
  {
    "text": "yeah so um I'm gonna do a very uh five minutes or whatever questions you have",
    "start": "1798080",
    "end": "1803480"
  },
  {
    "text": "anybody has any questions",
    "start": "1803480",
    "end": "1806919"
  },
  {
    "text": "no questions yeah there is one okay",
    "start": "1813200",
    "end": "1820880"
  },
  {
    "text": "hey guys thank you for the good talk hey questions yeah regarding the cardinality uh is there any way to improve",
    "start": "1820880",
    "end": "1827779"
  },
  {
    "text": "observability on the cortex layer for cardinality or do you have some plans",
    "start": "1827779",
    "end": "1833600"
  },
  {
    "text": "for that yes I yes I like that you answer that um so yeah as uh wherever I'm very",
    "start": "1833600",
    "end": "1841279"
  },
  {
    "text": "interested in that um and we are we have been talking this",
    "start": "1841279",
    "end": "1846500"
  },
  {
    "text": "this week a lot with the community and that's been very asked I might say how can we do",
    "start": "1846500",
    "end": "1852080"
  },
  {
    "text": "um I have to say there have been internal approaches that I know have been working on like many people are",
    "start": "1852080",
    "end": "1857720"
  },
  {
    "text": "working on doing uh reducing cardinality but yes there's something that we can do",
    "start": "1857720",
    "end": "1862880"
  },
  {
    "text": "there we are thinking thinking about it currently though you can still aggregate metrics in Prometheus and then",
    "start": "1862880",
    "end": "1871340"
  },
  {
    "text": "send uh recorded rules to Cortex and don't send the raw metrics to Cortex and",
    "start": "1871340",
    "end": "1877399"
  },
  {
    "text": "doing that you can reduce cardinality in cortex not on Primitives but at least on cortex",
    "start": "1877399",
    "end": "1883279"
  },
  {
    "text": "yeah ah go ahead uh you are talking about improving visibility or improving",
    "start": "1883279",
    "end": "1889940"
  },
  {
    "text": "control of cardinality",
    "start": "1889940",
    "end": "1893320"
  },
  {
    "text": "yeah we have some ideas uh but if you if",
    "start": "1897700",
    "end": "1902840"
  },
  {
    "text": "you also have like some some recommendations or some oh this would be great if we do that like please create",
    "start": "1902840",
    "end": "1909620"
  },
  {
    "text": "an issue and we will track that and we'll finally yeah it's something it's something that",
    "start": "1909620",
    "end": "1917380"
  },
  {
    "text": "everybody's asking yeah yeah that was a question on high cardinality anybody",
    "start": "1917380",
    "end": "1922580"
  },
  {
    "text": "else um I'm hoping that was good yeah okay okay anybody any other questions",
    "start": "1922580",
    "end": "1931899"
  },
  {
    "text": "come on more questions",
    "start": "1932120",
    "end": "1937419"
  },
  {
    "text": "I guess one",
    "start": "1939820",
    "end": "1945460"
  },
  {
    "text": "you do you want to see more puppy pictures I do have more",
    "start": "1945460",
    "end": "1951760"
  },
  {
    "text": "talk a little more about people like Thanos and vortex yeah yeah we we did mention a bit of it",
    "start": "1954500",
    "end": "1962360"
  },
  {
    "text": "but I'll just some summarize it again um Thanos and cortex that are based on",
    "start": "1962360",
    "end": "1969500"
  },
  {
    "text": "Prometheus right quarter Prometheus Thanos and cortex are all projects from cncf so we all prolonged to the cnci",
    "start": "1969500",
    "end": "1977120"
  },
  {
    "text": "foundation open source so we share a lot a lot um too much in many of the bugs in",
    "start": "1977120",
    "end": "1985159"
  },
  {
    "text": "cortex are actually in on the other projects so we don't we don't Fork Thanos we don't use another version of",
    "start": "1985159",
    "end": "1992120"
  },
  {
    "text": "Thanos we just reuse Thanos so Thanos has an implementation has",
    "start": "1992120",
    "end": "1998840"
  },
  {
    "text": "um something that they do that it works in a certain way it cortex reuses that",
    "start": "1998840",
    "end": "2004120"
  },
  {
    "text": "and exposes it in a different way but it's on the back end it's very similar do you have something to add to that",
    "start": "2004120",
    "end": "2010600"
  },
  {
    "text": "yeah it so we use Thanos cortex uh",
    "start": "2010600",
    "end": "2016899"
  },
  {
    "text": "I think like my in my view the main difference right now is uh",
    "start": "2016899",
    "end": "2025440"
  },
  {
    "text": "tunnels uh when you are tonsil has the receiver mode which is basically it's",
    "start": "2025440",
    "end": "2032019"
  },
  {
    "text": "very similar to the feature that cortex provides so you can remote right and can read on tons receive modes but I think",
    "start": "2032019",
    "end": "2040720"
  },
  {
    "text": "the main difference is that uh tunnels does something uh tons will need an",
    "start": "2040720",
    "end": "2046659"
  },
  {
    "text": "operator you need to scale your Fleet up and down you need to create an operator to change some configurations uh to like",
    "start": "2046659",
    "end": "2054339"
  },
  {
    "text": "you add add one node you change you change your configuration in some way and then you start running cortex has",
    "start": "2054339",
    "end": "2061898"
  },
  {
    "text": "the hash ring so like is scaling up and down uh",
    "start": "2061899",
    "end": "2067980"
  },
  {
    "text": "is just basically you can use HPA and then like the new instance come did new",
    "start": "2067980",
    "end": "2074440"
  },
  {
    "text": "but sometimes Series has been is uh is shifted to the new instance so it's just",
    "start": "2074440",
    "end": "2080200"
  },
  {
    "text": "two different ways of uh achieving the same thing sometimes yeah",
    "start": "2080200",
    "end": "2086320"
  },
  {
    "text": "that's that answer the question does that answer the question regarding timers and cortex yes okay",
    "start": "2086320",
    "end": "2093158"
  },
  {
    "text": "okay cool right one minute for more questions and",
    "start": "2093159",
    "end": "2098800"
  },
  {
    "text": "more questions good one more",
    "start": "2098800",
    "end": "2103980"
  },
  {
    "text": "there the question is there are a lot of cortexes around like another project",
    "start": "2106300",
    "end": "2111400"
  },
  {
    "text": "like another product well cortex here is an open source project I don't I don't know what the other yeah this is like a",
    "start": "2111400",
    "end": "2119260"
  },
  {
    "text": "very use on like all name I guess but yeah I mean cortex exist since six years ago so yeah pretty much established Mark",
    "start": "2119260",
    "end": "2126880"
  },
  {
    "text": "brand I would say from cncf yeah",
    "start": "2126880",
    "end": "2131338"
  },
  {
    "text": "yeah and the question is if the if you're implementing charting was hard well I was there I was I was I was I was",
    "start": "2134619",
    "end": "2142660"
  },
  {
    "text": "not a maintainer when that happened um it took a long time I you were part of that",
    "start": "2142660",
    "end": "2148839"
  },
  {
    "text": "uh I was there come to the back I was using cortex already that was not the",
    "start": "2148839",
    "end": "2155680"
  },
  {
    "text": "one that was participating the implementation uh but I guess like sharding uh sharding",
    "start": "2155680",
    "end": "2165700"
  },
  {
    "text": "and so for sharding sharding was there since the beginning uh cortex at the shuffle sharding uh",
    "start": "2165700",
    "end": "2171880"
  },
  {
    "text": "later to try to improve tenants tenant isolation then it was just",
    "start": "2171880",
    "end": "2179140"
  },
  {
    "text": "something built on top of the charting that was there before so uh yeah it was",
    "start": "2179140",
    "end": "2185020"
  },
  {
    "text": "more like implementing an idea I don't think that was a huge change",
    "start": "2185020",
    "end": "2190720"
  },
  {
    "text": "yeah good question yeah I hope that answered cool and we're done thanks everyone",
    "start": "2190720",
    "end": "2197080"
  },
  {
    "text": "[Applause]",
    "start": "2197080",
    "end": "2200489"
  }
]