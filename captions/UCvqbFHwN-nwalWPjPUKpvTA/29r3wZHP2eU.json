[
  {
    "text": "we are going to talk to you today about",
    "start": "1079",
    "end": "3600"
  },
  {
    "text": "how you can do less work or how your",
    "start": "3600",
    "end": "6839"
  },
  {
    "text": "Argo workflows can do less",
    "start": "6839",
    "end": "10280"
  },
  {
    "text": "work my name is Julie vogelman I am an",
    "start": "11080",
    "end": "14160"
  },
  {
    "text": "Argo workflows maintainer I'm also um a",
    "start": "14160",
    "end": "17160"
  },
  {
    "text": "staff software engineer at into it uh",
    "start": "17160",
    "end": "20039"
  },
  {
    "text": "which is the company that founded Argo",
    "start": "20039",
    "end": "23000"
  },
  {
    "text": "and Argo workflow",
    "start": "23000",
    "end": "26119"
  },
  {
    "text": "specifically hi I'm Alan clcas I'm an",
    "start": "26599",
    "end": "29480"
  },
  {
    "text": "engineer at pipe kit uh and also an Argo",
    "start": "29480",
    "end": "32719"
  },
  {
    "text": "workplace",
    "start": "32719",
    "end": "34200"
  },
  {
    "text": "maintainer so um what we're going to try",
    "start": "34200",
    "end": "38719"
  },
  {
    "text": "and Achieve with this talk is how we can",
    "start": "38719",
    "end": "41640"
  },
  {
    "text": "save some time when we're running",
    "start": "41640",
    "end": "43879"
  },
  {
    "text": "workflows um by and by saving time we're",
    "start": "43879",
    "end": "46960"
  },
  {
    "text": "going to save cost running less",
    "start": "46960",
    "end": "49559"
  },
  {
    "text": "pods um and how we're going to do that",
    "start": "49559",
    "end": "53000"
  },
  {
    "text": "is not repeating work that we've already",
    "start": "53000",
    "end": "55920"
  },
  {
    "text": "done if we have already calculated",
    "start": "55920",
    "end": "59000"
  },
  {
    "text": "something uh we know the answer already",
    "start": "59000",
    "end": "62239"
  },
  {
    "text": "we can use that",
    "start": "62239",
    "end": "66360"
  },
  {
    "text": "um if you're familiar with workflows",
    "start": "66439",
    "end": "69320"
  },
  {
    "text": "then you can do this with individual",
    "start": "69320",
    "end": "71880"
  },
  {
    "text": "steps or tasks in your dags um and then",
    "start": "71880",
    "end": "76560"
  },
  {
    "text": "use the information you've done in one",
    "start": "76560",
    "end": "78720"
  },
  {
    "text": "workflow run in another workflow run to",
    "start": "78720",
    "end": "82600"
  },
  {
    "text": "skip that step uh you can also do this",
    "start": "82600",
    "end": "85479"
  },
  {
    "text": "to entire template so an entire dag can",
    "start": "85479",
    "end": "88040"
  },
  {
    "text": "be skipped if it's calculates a bunch of",
    "start": "88040",
    "end": "91240"
  },
  {
    "text": "things takes a bunch of inputs creats an",
    "start": "91240",
    "end": "93119"
  },
  {
    "text": "output as using multiple steps on or a",
    "start": "93119",
    "end": "95880"
  },
  {
    "text": "whole dag it will you can use the",
    "start": "95880",
    "end": "98520"
  },
  {
    "text": "techniques we're going to talk about",
    "start": "98520",
    "end": "99840"
  },
  {
    "text": "here um we go over a bit of",
    "start": "99840",
    "end": "103040"
  },
  {
    "text": "terminology uh",
    "start": "103040",
    "end": "106079"
  },
  {
    "text": "workflows um and steps can take inputs",
    "start": "106079",
    "end": "109200"
  },
  {
    "text": "so you can take parameters as inputs to",
    "start": "109200",
    "end": "112040"
  },
  {
    "text": "a workflow and individual steps can have",
    "start": "112040",
    "end": "115360"
  },
  {
    "text": "inputs and they can have outputs and",
    "start": "115360",
    "end": "117479"
  },
  {
    "text": "those inputs and outputs can be",
    "start": "117479",
    "end": "119880"
  },
  {
    "text": "parameters which are strings so you can",
    "start": "119880",
    "end": "123399"
  },
  {
    "text": "pass information between the various",
    "start": "123399",
    "end": "125360"
  },
  {
    "text": "steps in your workflow using strings",
    "start": "125360",
    "end": "127640"
  },
  {
    "text": "which are parameters or using artifacts",
    "start": "127640",
    "end": "130280"
  },
  {
    "text": "artifacts are files stored in Blob",
    "start": "130280",
    "end": "133760"
  },
  {
    "text": "storage normally S3 something like that",
    "start": "133760",
    "end": "137160"
  },
  {
    "text": "as your blob storage um minio whatever",
    "start": "137160",
    "end": "141000"
  },
  {
    "text": "uh and all of these things hopefully a",
    "start": "141000",
    "end": "143800"
  },
  {
    "text": "bit familiar with if youve used",
    "start": "143800",
    "end": "144720"
  },
  {
    "text": "workflows before uh the things we're",
    "start": "144720",
    "end": "147319"
  },
  {
    "text": "going to introduce to you today are",
    "start": "147319",
    "end": "149000"
  },
  {
    "text": "memorization",
    "start": "149000",
    "end": "150879"
  },
  {
    "text": "uh which is a very weird word um",
    "start": "150879",
    "end": "154239"
  },
  {
    "text": "memorization is a feature of Argo",
    "start": "154239",
    "end": "157040"
  },
  {
    "text": "workflows so Argo workface had code that",
    "start": "157040",
    "end": "159760"
  },
  {
    "text": "will help you with skipping steps um and",
    "start": "159760",
    "end": "164400"
  },
  {
    "text": "the magic word is memorization if you",
    "start": "164400",
    "end": "166400"
  },
  {
    "text": "need to search things uh work avoidance",
    "start": "166400",
    "end": "169200"
  },
  {
    "text": "is a technique it's documented in the",
    "start": "169200",
    "end": "172159"
  },
  {
    "text": "Argo workflows documentation but there's",
    "start": "172159",
    "end": "174599"
  },
  {
    "text": "no explicit code behind work avoidance",
    "start": "174599",
    "end": "178800"
  },
  {
    "text": "um but they they both achieve the same",
    "start": "178800",
    "end": "180800"
  },
  {
    "text": "goal memorization is more efficient and",
    "start": "180800",
    "end": "182959"
  },
  {
    "text": "we'll go over that in a",
    "start": "182959",
    "end": "185159"
  },
  {
    "text": "moment so what do you do to memorize",
    "start": "185159",
    "end": "188239"
  },
  {
    "text": "something uh you add a little memorize",
    "start": "188239",
    "end": "191360"
  },
  {
    "text": "block to your",
    "start": "191360",
    "end": "193080"
  },
  {
    "text": "template um as shown here um it's got",
    "start": "193080",
    "end": "196519"
  },
  {
    "text": "three sections to it um it's got a cache",
    "start": "196519",
    "end": "200159"
  },
  {
    "text": "which is where we're going to store the",
    "start": "200159",
    "end": "201920"
  },
  {
    "text": "information from one workflow run to be",
    "start": "201920",
    "end": "204480"
  },
  {
    "text": "allowed to pick up in pick picked up in",
    "start": "204480",
    "end": "206760"
  },
  {
    "text": "another workflow run uh the only option",
    "start": "206760",
    "end": "209239"
  },
  {
    "text": "here you have is config Maps um we'll",
    "start": "209239",
    "end": "213080"
  },
  {
    "text": "talk about the config maps in more",
    "start": "213080",
    "end": "214400"
  },
  {
    "text": "detail in a moment um if config maps are",
    "start": "214400",
    "end": "218000"
  },
  {
    "text": "a limitation uh come visit us in GitHub",
    "start": "218000",
    "end": "222519"
  },
  {
    "text": "or slack and talk about your use cases",
    "start": "222519",
    "end": "226319"
  },
  {
    "text": "um so that we can design something",
    "start": "226319",
    "end": "228040"
  },
  {
    "text": "that's more flexible than a config map",
    "start": "228040",
    "end": "231480"
  },
  {
    "text": "um youve got two other parameters uh the",
    "start": "231480",
    "end": "234519"
  },
  {
    "text": "max age is how long is this cach line",
    "start": "234519",
    "end": "237640"
  },
  {
    "text": "valid for so how long is it we've stored",
    "start": "237640",
    "end": "240840"
  },
  {
    "text": "the result of a step how long are we",
    "start": "240840",
    "end": "243280"
  },
  {
    "text": "allowed to keep using that until we have",
    "start": "243280",
    "end": "244959"
  },
  {
    "text": "to rerun that step in this case it's",
    "start": "244959",
    "end": "246920"
  },
  {
    "text": "only 10 seconds a ridiculously short",
    "start": "246920",
    "end": "249000"
  },
  {
    "text": "time for any real workload um and the",
    "start": "249000",
    "end": "253200"
  },
  {
    "text": "most important part of the memorization",
    "start": "253200",
    "end": "254920"
  },
  {
    "text": "is the key the key is what we use to say",
    "start": "254920",
    "end": "260320"
  },
  {
    "text": "this time we're running it is the same",
    "start": "260320",
    "end": "262320"
  },
  {
    "text": "as last time we run it and that ran it",
    "start": "262320",
    "end": "264280"
  },
  {
    "text": "and therefore we are allowed to skip it",
    "start": "264280",
    "end": "267520"
  },
  {
    "text": "and use the outputs that we determined",
    "start": "267520",
    "end": "269680"
  },
  {
    "text": "last time instead of having to rerun the",
    "start": "269680",
    "end": "271520"
  },
  {
    "text": "whole",
    "start": "271520",
    "end": "273000"
  },
  {
    "text": "step in this case uh we've got one of",
    "start": "273000",
    "end": "276120"
  },
  {
    "text": "the in parameters to the template being",
    "start": "276120",
    "end": "281000"
  },
  {
    "text": "used and that that will be a very normal",
    "start": "281000",
    "end": "283240"
  },
  {
    "text": "patent to to",
    "start": "283240",
    "end": "285320"
  },
  {
    "text": "use uh when you do this and memorizer",
    "start": "285320",
    "end": "288199"
  },
  {
    "text": "step um it looks up the key in the cache",
    "start": "288199",
    "end": "291919"
  },
  {
    "text": "to see if we've already run it and if",
    "start": "291919",
    "end": "293280"
  },
  {
    "text": "it's valid you will go from the left",
    "start": "293280",
    "end": "295960"
  },
  {
    "text": "hand side where we've got a duration of",
    "start": "295960",
    "end": "297919"
  },
  {
    "text": "17 seconds to do whale I have no idea",
    "start": "297919",
    "end": "300120"
  },
  {
    "text": "why my laptop was so slow at that point",
    "start": "300120",
    "end": "302199"
  },
  {
    "text": "uh down to 0 seconds the Pod was not",
    "start": "302199",
    "end": "304960"
  },
  {
    "text": "spun up at all the workflow",
    "start": "304960",
    "end": "307400"
  },
  {
    "text": "controller decided that this was a a",
    "start": "307400",
    "end": "309840"
  },
  {
    "text": "valid cached entry you can see that down",
    "start": "309840",
    "end": "312320"
  },
  {
    "text": "the bottom there's a cache hit going",
    "start": "312320",
    "end": "313720"
  },
  {
    "text": "from no to yes and it's completely",
    "start": "313720",
    "end": "316320"
  },
  {
    "text": "skipped the step um and that's the main",
    "start": "316320",
    "end": "319560"
  },
  {
    "text": "advantage of memorization there's just",
    "start": "319560",
    "end": "321240"
  },
  {
    "text": "no interaction with kubernetes at that",
    "start": "321240",
    "end": "323680"
  },
  {
    "text": "point no need to wait for a pod to spin",
    "start": "323680",
    "end": "325560"
  },
  {
    "text": "up to say we don't need to do any work",
    "start": "325560",
    "end": "327560"
  },
  {
    "text": "at",
    "start": "327560",
    "end": "328479"
  },
  {
    "text": "all um this also works in a slightly",
    "start": "328479",
    "end": "332280"
  },
  {
    "text": "more sophisticated but still very toy",
    "start": "332280",
    "end": "334880"
  },
  {
    "text": "example um here we've got an output",
    "start": "334880",
    "end": "337759"
  },
  {
    "text": "artifact so the output artifact is a",
    "start": "337759",
    "end": "340280"
  },
  {
    "text": "file we're pretending to do um DNA",
    "start": "340280",
    "end": "343039"
  },
  {
    "text": "sequencing here so we've taken some",
    "start": "343039",
    "end": "344680"
  },
  {
    "text": "input data and we've sequenced the DNA",
    "start": "344680",
    "end": "346960"
  },
  {
    "text": "put it into S3 and this is the second",
    "start": "346960",
    "end": "350000"
  },
  {
    "text": "time we've run this workflow and we're",
    "start": "350000",
    "end": "352600"
  },
  {
    "text": "able to pull through a fairly invisible",
    "start": "352600",
    "end": "355759"
  },
  {
    "text": "line into the used DNA step below uh the",
    "start": "355759",
    "end": "358840"
  },
  {
    "text": "data that we use used we created in the",
    "start": "358840",
    "end": "361120"
  },
  {
    "text": "first time run first time we ran this um",
    "start": "361120",
    "end": "364560"
  },
  {
    "text": "and as you can see the highlighted step",
    "start": "364560",
    "end": "367520"
  },
  {
    "text": "the yellow ring uh is what's shown on",
    "start": "367520",
    "end": "370240"
  },
  {
    "text": "the right hand side duration of 0",
    "start": "370240",
    "end": "372039"
  },
  {
    "text": "seconds and again memorization hit of",
    "start": "372039",
    "end": "376160"
  },
  {
    "text": "yes um you can do the same thing for an",
    "start": "376160",
    "end": "379960"
  },
  {
    "text": "entire dag so first run it runs our",
    "start": "379960",
    "end": "383440"
  },
  {
    "text": "classic dag Diamond to show off dags and",
    "start": "383440",
    "end": "386400"
  },
  {
    "text": "then the second time we've memorized the",
    "start": "386400",
    "end": "388479"
  },
  {
    "text": "inputs to that d dag and it skipped the",
    "start": "388479",
    "end": "391199"
  },
  {
    "text": "entire thing and provided the outputs",
    "start": "391199",
    "end": "392919"
  },
  {
    "text": "from the",
    "start": "392919",
    "end": "395240"
  },
  {
    "text": "dag um this cache is in a config map um",
    "start": "396199",
    "end": "401599"
  },
  {
    "text": "the config map is created for you",
    "start": "401599",
    "end": "403360"
  },
  {
    "text": "automatically by the workflow controller",
    "start": "403360",
    "end": "406160"
  },
  {
    "text": "uh this is interesting because many",
    "start": "406160",
    "end": "409000"
  },
  {
    "text": "installations ofare workflows won't have",
    "start": "409000",
    "end": "411400"
  },
  {
    "text": "the capabilities of writing the all back",
    "start": "411400",
    "end": "413479"
  },
  {
    "text": "rules will not have the ability to write",
    "start": "413479",
    "end": "415680"
  },
  {
    "text": "config Maps so if you find memorization",
    "start": "415680",
    "end": "418720"
  },
  {
    "text": "is not working for you that's the first",
    "start": "418720",
    "end": "420360"
  },
  {
    "text": "place I would start to look is have you",
    "start": "420360",
    "end": "422440"
  },
  {
    "text": "given appropriate um arback permissions",
    "start": "422440",
    "end": "425680"
  },
  {
    "text": "to the workflow controller so that it",
    "start": "425680",
    "end": "427160"
  },
  {
    "text": "can write config Maps it will write them",
    "start": "427160",
    "end": "429680"
  },
  {
    "text": "into the same namespace as the workflow",
    "start": "429680",
    "end": "432599"
  },
  {
    "text": "controller um or the workflow right",
    "start": "432599",
    "end": "435720"
  },
  {
    "text": "sorry same name space as the workflow no",
    "start": "435720",
    "end": "438199"
  },
  {
    "text": "same oh same name space as the workflow",
    "start": "438199",
    "end": "440639"
  },
  {
    "text": "controller which is again something if",
    "start": "440639",
    "end": "444560"
  },
  {
    "text": "that doesn't work for you we need use",
    "start": "444560",
    "end": "446639"
  },
  {
    "text": "cases for how to fix that um",
    "start": "446639",
    "end": "450720"
  },
  {
    "text": "uh so that you could have uh caches in",
    "start": "450720",
    "end": "454080"
  },
  {
    "text": "the same namespace as the workflow is",
    "start": "454080",
    "end": "455440"
  },
  {
    "text": "running it yes genuinely is in the",
    "start": "455440",
    "end": "457039"
  },
  {
    "text": "workflow controller uh namespace uh your",
    "start": "457039",
    "end": "460039"
  },
  {
    "text": "config maps are usually limited to a",
    "start": "460039",
    "end": "462120"
  },
  {
    "text": "megabyte because they're stored in ETC",
    "start": "462120",
    "end": "465520"
  },
  {
    "text": "um and that means there's a limited",
    "start": "465520",
    "end": "468560"
  },
  {
    "text": "number of cached entries you can have uh",
    "start": "468560",
    "end": "470840"
  },
  {
    "text": "the controller does understand this and",
    "start": "470840",
    "end": "472560"
  },
  {
    "text": "starts to evict things for you but it",
    "start": "472560",
    "end": "474919"
  },
  {
    "text": "may be that you just have too much data",
    "start": "474919",
    "end": "477199"
  },
  {
    "text": "and it's not a useful thing as it is",
    "start": "477199",
    "end": "479599"
  },
  {
    "text": "again talk to us on GitHub or slack",
    "start": "479599",
    "end": "482319"
  },
  {
    "text": "about how your use cases can we can",
    "start": "482319",
    "end": "485680"
  },
  {
    "text": "improve to to make your use case work um",
    "start": "485680",
    "end": "488520"
  },
  {
    "text": "the config map is a key value pair in",
    "start": "488520",
    "end": "491960"
  },
  {
    "text": "the normal config map way the key being",
    "start": "491960",
    "end": "494039"
  },
  {
    "text": "the key from the memo wi so that's nice",
    "start": "494039",
    "end": "496319"
  },
  {
    "text": "and easy to read and the value will be a",
    "start": "496319",
    "end": "498759"
  },
  {
    "text": "chunk of Json uh which will contain the",
    "start": "498759",
    "end": "501360"
  },
  {
    "text": "time it was run and the outputs from",
    "start": "501360",
    "end": "503960"
  },
  {
    "text": "that run so that we can take those",
    "start": "503960",
    "end": "506560"
  },
  {
    "text": "outputs and use them in the event that",
    "start": "506560",
    "end": "509599"
  },
  {
    "text": "we're skipping the step enti entirely",
    "start": "509599",
    "end": "511720"
  },
  {
    "text": "we're we're we're faking all those",
    "start": "511720",
    "end": "513760"
  },
  {
    "text": "outputs they're not really faked because",
    "start": "513760",
    "end": "515800"
  },
  {
    "text": "we've done them already we've calculated",
    "start": "515800",
    "end": "517880"
  },
  {
    "text": "the answer you wanted um so the",
    "start": "517880",
    "end": "520440"
  },
  {
    "text": "advantage of that Jason Being Human",
    "start": "520440",
    "end": "522039"
  },
  {
    "text": "readable is you can go in there and edit",
    "start": "522039",
    "end": "524320"
  },
  {
    "text": "it you can look at it work out why your",
    "start": "524320",
    "end": "527200"
  },
  {
    "text": "workf memorization is not working um",
    "start": "527200",
    "end": "530519"
  },
  {
    "text": "perhaps and um if you want to edit it to",
    "start": "530519",
    "end": "534760"
  },
  {
    "text": "remove a line so that it reruns you can",
    "start": "534760",
    "end": "537279"
  },
  {
    "text": "do that as well",
    "start": "537279",
    "end": "541200"
  },
  {
    "text": "okay so I'm going to walk through an",
    "start": "542680",
    "end": "544440"
  },
  {
    "text": "example here of a workflow template um",
    "start": "544440",
    "end": "548000"
  },
  {
    "text": "whose job is to sequence DNA and maybe",
    "start": "548000",
    "end": "551720"
  },
  {
    "text": "do something with that and you can",
    "start": "551720",
    "end": "553760"
  },
  {
    "text": "imagine that sequencing DNA is a very",
    "start": "553760",
    "end": "556079"
  },
  {
    "text": "time intensive and compute intensive",
    "start": "556079",
    "end": "558320"
  },
  {
    "text": "task so if we can do that LE you know",
    "start": "558320",
    "end": "561399"
  },
  {
    "text": "fewer times that's better um so",
    "start": "561399",
    "end": "565240"
  },
  {
    "text": "specifically step a here uh you know",
    "start": "565240",
    "end": "568440"
  },
  {
    "text": "takes an input parameter uh you know",
    "start": "568440",
    "end": "571800"
  },
  {
    "text": "which is basically like the person whose",
    "start": "571800",
    "end": "574040"
  },
  {
    "text": "DNA is being sequenced and you know",
    "start": "574040",
    "end": "576760"
  },
  {
    "text": "obviously we need to pass like all of",
    "start": "576760",
    "end": "578519"
  },
  {
    "text": "that blood information to it as well um",
    "start": "578519",
    "end": "582920"
  },
  {
    "text": "and uh and so it sequences the DNA and",
    "start": "582920",
    "end": "587200"
  },
  {
    "text": "then in this case um uses an output",
    "start": "587200",
    "end": "589720"
  },
  {
    "text": "artifact to go store it in",
    "start": "589720",
    "end": "592440"
  },
  {
    "text": "S3 um and the step was configured with",
    "start": "592440",
    "end": "596959"
  },
  {
    "text": "memorization so basically",
    "start": "596959",
    "end": "599720"
  },
  {
    "text": "um behind the scenes uh the workflow",
    "start": "599720",
    "end": "602120"
  },
  {
    "text": "controller will create that config map",
    "start": "602120",
    "end": "605040"
  },
  {
    "text": "and maybe for the key you know you've",
    "start": "605040",
    "end": "608040"
  },
  {
    "text": "indicated who the person is right um so",
    "start": "608040",
    "end": "613000"
  },
  {
    "text": "you could imagine many different Keys",
    "start": "613000",
    "end": "615279"
  },
  {
    "text": "list live in this config map right one",
    "start": "615279",
    "end": "617760"
  },
  {
    "text": "for for each of those",
    "start": "617760",
    "end": "619800"
  },
  {
    "text": "people um so now when the workflow",
    "start": "619800",
    "end": "623200"
  },
  {
    "text": "template gets run a second time down",
    "start": "623200",
    "end": "625040"
  },
  {
    "text": "here um you know assuming this key entry",
    "start": "625040",
    "end": "628120"
  },
  {
    "text": "has not expired",
    "start": "628120",
    "end": "629839"
  },
  {
    "text": "then the workflow controller will not",
    "start": "629839",
    "end": "632000"
  },
  {
    "text": "run this Step at all um because it",
    "start": "632000",
    "end": "634040"
  },
  {
    "text": "doesn't need",
    "start": "634040",
    "end": "636480"
  },
  {
    "text": "to so um all right so we talked about",
    "start": "637519",
    "end": "641880"
  },
  {
    "text": "you know the",
    "start": "641880",
    "end": "644079"
  },
  {
    "text": "step might output a parameter it might",
    "start": "644079",
    "end": "646920"
  },
  {
    "text": "output an artifact well parameters and",
    "start": "646920",
    "end": "649839"
  },
  {
    "text": "artifacts are sort of capital O outputs",
    "start": "649839",
    "end": "654200"
  },
  {
    "text": "of Argo workflows but really you can",
    "start": "654200",
    "end": "656920"
  },
  {
    "text": "have other types of outputs um for",
    "start": "656920",
    "end": "660320"
  },
  {
    "text": "example you might output to a database",
    "start": "660320",
    "end": "663519"
  },
  {
    "text": "and so then the question is um will it",
    "start": "663519",
    "end": "668240"
  },
  {
    "text": "work if you memorize that",
    "start": "668240",
    "end": "671320"
  },
  {
    "text": "step um and the answer is that if you uh",
    "start": "671320",
    "end": "676600"
  },
  {
    "text": "actually use the very latest Argo",
    "start": "676600",
    "end": "679440"
  },
  {
    "text": "workflows um this will",
    "start": "679440",
    "end": "682639"
  },
  {
    "text": "work uh but unfortunately prior to the",
    "start": "682639",
    "end": "687040"
  },
  {
    "text": "very latest um you need to use an",
    "start": "687040",
    "end": "690200"
  },
  {
    "text": "alternative technique if you want to be",
    "start": "690200",
    "end": "692160"
  },
  {
    "text": "able to do this kind of",
    "start": "692160",
    "end": "695120"
  },
  {
    "text": "thing and that technique is called work",
    "start": "697560",
    "end": "700600"
  },
  {
    "text": "avoidance and it's actually a fairly",
    "start": "700600",
    "end": "702959"
  },
  {
    "text": "simple concept really basically it just",
    "start": "702959",
    "end": "705800"
  },
  {
    "text": "means that your container logic can just",
    "start": "705800",
    "end": "710240"
  },
  {
    "text": "go and check first before it does",
    "start": "710240",
    "end": "712279"
  },
  {
    "text": "anything right does this data exist um",
    "start": "712279",
    "end": "716680"
  },
  {
    "text": "you know if it does if it's of a recent",
    "start": "716680",
    "end": "719760"
  },
  {
    "text": "Tim stamp then I'm not going to do",
    "start": "719760",
    "end": "722120"
  },
  {
    "text": "anything um of course in this case you",
    "start": "722120",
    "end": "724959"
  },
  {
    "text": "know the workflow controller had to go",
    "start": "724959",
    "end": "726959"
  },
  {
    "text": "to uh had to go and actually deploy the",
    "start": "726959",
    "end": "730360"
  },
  {
    "text": "Pod you know um which it did not have to",
    "start": "730360",
    "end": "733279"
  },
  {
    "text": "do in the other",
    "start": "733279",
    "end": "734519"
  },
  {
    "text": "case",
    "start": "734519",
    "end": "736079"
  },
  {
    "text": "um so if you do go and look up work",
    "start": "736079",
    "end": "739560"
  },
  {
    "text": "avoidance on the Argo workflows",
    "start": "739560",
    "end": "741959"
  },
  {
    "text": "documentation uh you'll also see that it",
    "start": "741959",
    "end": "744240"
  },
  {
    "text": "mentions that you can use a marker",
    "start": "744240",
    "end": "747360"
  },
  {
    "text": "file uh to indicate you know whether the",
    "start": "747360",
    "end": "750800"
  },
  {
    "text": "data was written um so basically you",
    "start": "750800",
    "end": "754519"
  },
  {
    "text": "know your your container would both",
    "start": "754519",
    "end": "756880"
  },
  {
    "text": "write to the marker file to say hey the",
    "start": "756880",
    "end": "759000"
  },
  {
    "text": "data is here and then it would also",
    "start": "759000",
    "end": "761639"
  },
  {
    "text": "before it runs at all check to see does",
    "start": "761639",
    "end": "763760"
  },
  {
    "text": "does that marker file uh exist",
    "start": "763760",
    "end": "767240"
  },
  {
    "text": "already um I'm not sure offhand the cas",
    "start": "767240",
    "end": "771199"
  },
  {
    "text": "is where you want to use a marker file",
    "start": "771199",
    "end": "773040"
  },
  {
    "text": "rather than just checking for the data",
    "start": "773040",
    "end": "774760"
  },
  {
    "text": "itself but it's sort of the same",
    "start": "774760",
    "end": "777839"
  },
  {
    "text": "concept",
    "start": "777839",
    "end": "780839"
  },
  {
    "text": "okay is there any other time that you",
    "start": "781000",
    "end": "782480"
  },
  {
    "text": "can't use",
    "start": "782480",
    "end": "783600"
  },
  {
    "text": "memoization well Allan mentioned that",
    "start": "783600",
    "end": "786920"
  },
  {
    "text": "the config map uh you know is going to",
    "start": "786920",
    "end": "789120"
  },
  {
    "text": "have a size limit um and it's one me um",
    "start": "789120",
    "end": "792880"
  },
  {
    "text": "by etcd",
    "start": "792880",
    "end": "795079"
  },
  {
    "text": "limitations",
    "start": "795079",
    "end": "796639"
  },
  {
    "text": "um so in that case you would could also",
    "start": "796639",
    "end": "800399"
  },
  {
    "text": "employ the work avoidance technique",
    "start": "800399",
    "end": "802519"
  },
  {
    "text": "instead um and just to kind of look at",
    "start": "802519",
    "end": "805920"
  },
  {
    "text": "oh sorry um",
    "start": "805920",
    "end": "809839"
  },
  {
    "text": "you know reaching that limit if we go",
    "start": "809839",
    "end": "812600"
  },
  {
    "text": "back and we look at you know this you",
    "start": "812600",
    "end": "816199"
  },
  {
    "text": "know here we're basically saying you",
    "start": "816199",
    "end": "817920"
  },
  {
    "text": "know use this whale sale whale say cach",
    "start": "817920",
    "end": "821120"
  },
  {
    "text": "config map to store the values of all of",
    "start": "821120",
    "end": "826480"
  },
  {
    "text": "you know any potential key here right um",
    "start": "826480",
    "end": "831440"
  },
  {
    "text": "and so you know if you have enough of",
    "start": "831440",
    "end": "833959"
  },
  {
    "text": "those keys and if the value is big",
    "start": "833959",
    "end": "837000"
  },
  {
    "text": "enough um then then you're going to get",
    "start": "837000",
    "end": "839279"
  },
  {
    "text": "to that limitation",
    "start": "839279",
    "end": "842079"
  },
  {
    "text": "potentially",
    "start": "842079",
    "end": "843639"
  },
  {
    "text": "um now that's specifically with",
    "start": "843639",
    "end": "846440"
  },
  {
    "text": "parameters because with",
    "start": "846440",
    "end": "848880"
  },
  {
    "text": "parameters the uh the workflow",
    "start": "848880",
    "end": "852480"
  },
  {
    "text": "controller actually embeds the full",
    "start": "852480",
    "end": "854880"
  },
  {
    "text": "values into the config map um itself",
    "start": "854880",
    "end": "859959"
  },
  {
    "text": "versus uh if you have an",
    "start": "859959",
    "end": "862560"
  },
  {
    "text": "artifact",
    "start": "862560",
    "end": "864160"
  },
  {
    "text": "um then it will it will in instead",
    "start": "864160",
    "end": "867199"
  },
  {
    "text": "include the the paths to the artifact uh",
    "start": "867199",
    "end": "870480"
  },
  {
    "text": "so it's so it's not actually the values",
    "start": "870480",
    "end": "872639"
  },
  {
    "text": "themselves so that data if you're using",
    "start": "872639",
    "end": "874720"
  },
  {
    "text": "artifacts it's it's going to be smaller",
    "start": "874720",
    "end": "876480"
  },
  {
    "text": "and less likely to hit that",
    "start": "876480",
    "end": "880360"
  },
  {
    "text": "limit okay and I will turn it",
    "start": "880839",
    "end": "886040"
  },
  {
    "text": "back um this quote is usually attributed",
    "start": "889440",
    "end": "893199"
  },
  {
    "text": "to Phil Coulton um that there are only",
    "start": "893199",
    "end": "896040"
  },
  {
    "text": "two hard things in computer science cash",
    "start": "896040",
    "end": "898000"
  },
  {
    "text": "and validation and naming things um so",
    "start": "898000",
    "end": "902720"
  },
  {
    "text": "what I'm meaning here is what I'm trying",
    "start": "902720",
    "end": "904720"
  },
  {
    "text": "to talk about is that it's quite hard to",
    "start": "904720",
    "end": "907199"
  },
  {
    "text": "know when you should or shouldn't",
    "start": "907199",
    "end": "910759"
  },
  {
    "text": "memorize things what the the bounds are",
    "start": "910759",
    "end": "915279"
  },
  {
    "text": "of valid things to skip um and there's a",
    "start": "915279",
    "end": "919519"
  },
  {
    "text": "rule that allows you to guarantee a safe",
    "start": "919519",
    "end": "922639"
  },
  {
    "text": "memorized step um computer science talks",
    "start": "922639",
    "end": "926800"
  },
  {
    "text": "about pure functions quite a lot in",
    "start": "926800",
    "end": "929199"
  },
  {
    "text": "um functional programming um if you have",
    "start": "929199",
    "end": "932839"
  },
  {
    "text": "uh what I'm going to call Pure steps so",
    "start": "932839",
    "end": "935360"
  },
  {
    "text": "where the outputs of a step it could be",
    "start": "935360",
    "end": "938880"
  },
  {
    "text": "any kind of Step or a whole dag or",
    "start": "938880",
    "end": "940639"
  },
  {
    "text": "whatever are derived only from the",
    "start": "940639",
    "end": "943279"
  },
  {
    "text": "inputs of the step they are manipulating",
    "start": "943279",
    "end": "945800"
  },
  {
    "text": "the data that's coming in through the",
    "start": "945800",
    "end": "947319"
  },
  {
    "text": "inputs and you are storing using all of",
    "start": "947319",
    "end": "950000"
  },
  {
    "text": "those inputs or perhaps a hash of those",
    "start": "950000",
    "end": "951720"
  },
  {
    "text": "inputs as the memorization key um then",
    "start": "951720",
    "end": "956079"
  },
  {
    "text": "that's a pure step it's not interacting",
    "start": "956079",
    "end": "958440"
  },
  {
    "text": "with with anything in the outside world",
    "start": "958440",
    "end": "959880"
  },
  {
    "text": "so skipping it will not miss updating a",
    "start": "959880",
    "end": "964560"
  },
  {
    "text": "database skipping it will not depend",
    "start": "964560",
    "end": "967120"
  },
  {
    "text": "upon the weather today versus tomorrow",
    "start": "967120",
    "end": "970199"
  },
  {
    "text": "um so you can guarantee that that",
    "start": "970199",
    "end": "972519"
  },
  {
    "text": "information that is derived from the",
    "start": "972519",
    "end": "974600"
  },
  {
    "text": "inputs will be valid whatever the time",
    "start": "974600",
    "end": "978000"
  },
  {
    "text": "of day is whatever however long it is",
    "start": "978000",
    "end": "980000"
  },
  {
    "text": "since you last ran it and um that would",
    "start": "980000",
    "end": "985000"
  },
  {
    "text": "allow you to think through your",
    "start": "985000",
    "end": "986480"
  },
  {
    "text": "workflows perhaps refactor some of them",
    "start": "986480",
    "end": "988639"
  },
  {
    "text": "to produce pure steps that you can",
    "start": "988639",
    "end": "991440"
  },
  {
    "text": "guarantee to memorize if you can't do",
    "start": "991440",
    "end": "994240"
  },
  {
    "text": "that uh you're going to have to be",
    "start": "994240",
    "end": "995920"
  },
  {
    "text": "careful um workflows will do what you",
    "start": "995920",
    "end": "998240"
  },
  {
    "text": "tell it to do it will memorize things",
    "start": "998240",
    "end": "1000240"
  },
  {
    "text": "that really shouldn't be memorized um it",
    "start": "1000240",
    "end": "1003519"
  },
  {
    "text": "will skip a step when the keys match and",
    "start": "1003519",
    "end": "1007600"
  },
  {
    "text": "the time since you started uh sorry time",
    "start": "1007600",
    "end": "1010880"
  },
  {
    "text": "since you stored that memorized",
    "start": "1010880",
    "end": "1013800"
  },
  {
    "text": "information is less than max age as",
    "start": "1013800",
    "end": "1016560"
  },
  {
    "text": "you've defined it um and that may be",
    "start": "1016560",
    "end": "1019680"
  },
  {
    "text": "good or that may be bad you're going to",
    "start": "1019680",
    "end": "1021319"
  },
  {
    "text": "have to work that out for",
    "start": "1021319",
    "end": "1024398"
  },
  {
    "text": "yourself um that's the end of our talk",
    "start": "1024880",
    "end": "1027400"
  },
  {
    "text": "um you can come and find me uh I'll be",
    "start": "1027400",
    "end": "1030280"
  },
  {
    "text": "around all week on the on our pip kit",
    "start": "1030280",
    "end": "1033000"
  },
  {
    "text": "stand um can talk about memorization or",
    "start": "1033000",
    "end": "1036120"
  },
  {
    "text": "anything else Argo related uh there's a",
    "start": "1036120",
    "end": "1038079"
  },
  {
    "text": "couple of links there for the",
    "start": "1038079",
    "end": "1039798"
  },
  {
    "text": "documentation on memorization and work",
    "start": "1039799",
    "end": "1041760"
  },
  {
    "text": "avoidance there's some there's an",
    "start": "1041760",
    "end": "1043280"
  },
  {
    "text": "example memorized step in the examples",
    "start": "1043280",
    "end": "1045959"
  },
  {
    "text": "folder in Argo workflows um if you'd",
    "start": "1045959",
    "end": "1049200"
  },
  {
    "text": "like to book a a meeting there's a QR",
    "start": "1049200",
    "end": "1052600"
  },
  {
    "text": "code on the right hand side um hases",
    "start": "1052600",
    "end": "1054760"
  },
  {
    "text": "anybody got any questions and by the way",
    "start": "1054760",
    "end": "1057000"
  },
  {
    "text": "feel free to talk to me to you I just",
    "start": "1057000",
    "end": "1059200"
  },
  {
    "text": "I'm not on the slide",
    "start": "1059200",
    "end": "1062080"
  },
  {
    "text": "[Applause]",
    "start": "1062080",
    "end": "1068890"
  },
  {
    "text": "though to catch the",
    "start": "1071200",
    "end": "1073559"
  },
  {
    "text": "mic I have a quick question how the",
    "start": "1073559",
    "end": "1076559"
  },
  {
    "text": "database will support the multitenant",
    "start": "1076559",
    "end": "1078600"
  },
  {
    "text": "see suppose if the cluster has like a 10",
    "start": "1078600",
    "end": "1082200"
  },
  {
    "text": "name space so it's challenging at the",
    "start": "1082200",
    "end": "1086559"
  },
  {
    "text": "moment because there's there's no",
    "start": "1086559",
    "end": "1088720"
  },
  {
    "text": "multi-tenancy capabilities there the",
    "start": "1088720",
    "end": "1091039"
  },
  {
    "text": "arbac is either your workflow controller",
    "start": "1091039",
    "end": "1093840"
  },
  {
    "text": "can write to config maps in its um own",
    "start": "1093840",
    "end": "1097919"
  },
  {
    "text": "namespace or it can't and that's your",
    "start": "1097919",
    "end": "1099880"
  },
  {
    "text": "only choice that's why I was saying we",
    "start": "1099880",
    "end": "1101799"
  },
  {
    "text": "need some use cases for uh how there are",
    "start": "1101799",
    "end": "1105600"
  },
  {
    "text": "already issues in workflows about this",
    "start": "1105600",
    "end": "1108880"
  },
  {
    "text": "problem how would you like it to work",
    "start": "1108880",
    "end": "1110799"
  },
  {
    "text": "for you contribute there um and we'll",
    "start": "1110799",
    "end": "1114600"
  },
  {
    "text": "try and fix it yeah but you said all the",
    "start": "1114600",
    "end": "1119799"
  },
  {
    "text": "input as a key are you using like a",
    "start": "1119799",
    "end": "1122080"
  },
  {
    "text": "namespace SL workflow as a workflow or",
    "start": "1122080",
    "end": "1125600"
  },
  {
    "text": "names space SL template name is a key uh",
    "start": "1125600",
    "end": "1129320"
  },
  {
    "text": "no there's no the key is whatever you",
    "start": "1129320",
    "end": "1131200"
  },
  {
    "text": "put in that okay in that block so you",
    "start": "1131200",
    "end": "1134000"
  },
  {
    "text": "you could have two completely",
    "start": "1134000",
    "end": "1135880"
  },
  {
    "text": "independent teams writing to the same",
    "start": "1135880",
    "end": "1137600"
  },
  {
    "text": "config map and and okay yeah there's no",
    "start": "1137600",
    "end": "1140720"
  },
  {
    "text": "there's nothing to help you there I'm",
    "start": "1140720",
    "end": "1142039"
  },
  {
    "text": "afraid okay got it got it because the",
    "start": "1142039",
    "end": "1144240"
  },
  {
    "text": "original memorization is based on that",
    "start": "1144240",
    "end": "1146480"
  },
  {
    "text": "multi- tency that's why the config map",
    "start": "1146480",
    "end": "1148320"
  },
  {
    "text": "is invented that's why I asked that yeah",
    "start": "1148320",
    "end": "1151280"
  },
  {
    "text": "it it's a problem that we're aware of on",
    "start": "1151280",
    "end": "1152760"
  },
  {
    "text": "needs fixing um yeah I know thank you by",
    "start": "1152760",
    "end": "1157559"
  },
  {
    "text": "I'm Bala oh sorry haven't met before",
    "start": "1157559",
    "end": "1163039"
  },
  {
    "text": "sorry yeah um hey just curious about the",
    "start": "1163039",
    "end": "1166240"
  },
  {
    "text": "work avoidance for managing a key Value",
    "start": "1166240",
    "end": "1169559"
  },
  {
    "text": "Store um is there any advice you have",
    "start": "1169559",
    "end": "1172720"
  },
  {
    "text": "for life cycle management when it comes",
    "start": "1172720",
    "end": "1174600"
  },
  {
    "text": "to creating that database like have you",
    "start": "1174600",
    "end": "1177840"
  },
  {
    "text": "done providing or provisioning your own",
    "start": "1177840",
    "end": "1181159"
  },
  {
    "text": "uh like redice pod along with a workflow",
    "start": "1181159",
    "end": "1184120"
  },
  {
    "text": "set so you avoid some of that key value",
    "start": "1184120",
    "end": "1187360"
  },
  {
    "text": "pair um not personally no I",
    "start": "1187360",
    "end": "1190559"
  },
  {
    "text": "have",
    "start": "1190559",
    "end": "1192200"
  },
  {
    "text": "any nope okay I was just curious I've",
    "start": "1192200",
    "end": "1195840"
  },
  {
    "text": "I've done something similar with an etcr",
    "start": "1195840",
    "end": "1198600"
  },
  {
    "text": "um mhm but yeah I'm not sure that's",
    "start": "1198600",
    "end": "1201919"
  },
  {
    "text": "necessarily useful okay yeah thank",
    "start": "1201919",
    "end": "1206559"
  },
  {
    "text": "you hi um on the uh definition of the",
    "start": "1209039",
    "end": "1212640"
  },
  {
    "text": "workflow right you had um the config map",
    "start": "1212640",
    "end": "1216000"
  },
  {
    "text": "name",
    "start": "1216000",
    "end": "1217600"
  },
  {
    "text": "there right there at the bottom yeah um",
    "start": "1217600",
    "end": "1220039"
  },
  {
    "text": "does that imply you can have multiple",
    "start": "1220039",
    "end": "1221760"
  },
  {
    "text": "config maps you can you can use",
    "start": "1221760",
    "end": "1224440"
  },
  {
    "text": "parameters in there I checked that this",
    "start": "1224440",
    "end": "1225880"
  },
  {
    "text": "morning um so you could if you put the",
    "start": "1225880",
    "end": "1228280"
  },
  {
    "text": "same thing in your if you put your key",
    "start": "1228280",
    "end": "1230159"
  },
  {
    "text": "into your config map you get a config",
    "start": "1230159",
    "end": "1232400"
  },
  {
    "text": "map per key um so you get one Meg per",
    "start": "1232400",
    "end": "1235760"
  },
  {
    "text": "thing but there's no real life cycle",
    "start": "1235760",
    "end": "1237480"
  },
  {
    "text": "management or Garbage Collection that",
    "start": "1237480",
    "end": "1239039"
  },
  {
    "text": "will properly happen in that case as far",
    "start": "1239039",
    "end": "1241200"
  },
  {
    "text": "as I'm aware okay so but you would have",
    "start": "1241200",
    "end": "1243400"
  },
  {
    "text": "a a config map per tenant per say you",
    "start": "1243400",
    "end": "1247520"
  },
  {
    "text": "need to somehow get the tency",
    "start": "1247520",
    "end": "1249320"
  },
  {
    "text": "information in as a parameter you could",
    "start": "1249320",
    "end": "1252000"
  },
  {
    "text": "do it but you're then relying it depends",
    "start": "1252000",
    "end": "1254840"
  },
  {
    "text": "how you're deploying templates if you're",
    "start": "1254840",
    "end": "1257880"
  },
  {
    "text": "if if you've got control and over your",
    "start": "1257880",
    "end": "1260159"
  },
  {
    "text": "template deployment perhaps you can",
    "start": "1260159",
    "end": "1261640"
  },
  {
    "text": "inject parameters between the template",
    "start": "1261640",
    "end": "1264720"
  },
  {
    "text": "being written by somebody and ending up",
    "start": "1264720",
    "end": "1266880"
  },
  {
    "text": "in the cluster to add further things",
    "start": "1266880",
    "end": "1270799"
  },
  {
    "text": "um I don't believe there's a way of sort",
    "start": "1270799",
    "end": "1273880"
  },
  {
    "text": "of using workflow defaults for that sort",
    "start": "1273880",
    "end": "1275679"
  },
  {
    "text": "of thing though so it's not yeah okay",
    "start": "1275679",
    "end": "1278919"
  },
  {
    "text": "right",
    "start": "1278919",
    "end": "1281080"
  },
  {
    "text": "EGS now it seems like it may be a bug",
    "start": "1281320",
    "end": "1283919"
  },
  {
    "text": "that the config Maps uh aren't always",
    "start": "1283919",
    "end": "1287240"
  },
  {
    "text": "being yeah garbage collected I guess",
    "start": "1287240",
    "end": "1289840"
  },
  {
    "text": "right the the config Maps never",
    "start": "1289840",
    "end": "1291520"
  },
  {
    "text": "disappear um completely they can get",
    "start": "1291520",
    "end": "1293679"
  },
  {
    "text": "garbage collected entries from them but",
    "start": "1293679",
    "end": "1297799"
  },
  {
    "text": "yeah all",
    "start": "1300520",
    "end": "1303679"
  },
  {
    "text": "right sorry about that thank you very",
    "start": "1305640",
    "end": "1310200"
  },
  {
    "text": "much",
    "start": "1311080",
    "end": "1314080"
  }
]