[
  {
    "start": "0",
    "end": "20000"
  },
  {
    "text": "so hey my name is Matt Klein I'm gonna do a really high-level overview of envoy",
    "start": "60",
    "end": "8280"
  },
  {
    "text": "it'll be an extended version effectively of the keynote this morning so if that",
    "start": "8280",
    "end": "14250"
  },
  {
    "text": "sounds boring to you feel free to give someone else your seat fair fair warning",
    "start": "14250",
    "end": "20390"
  },
  {
    "start": "20000",
    "end": "189000"
  },
  {
    "text": "so you know let's go into a little a little history of how on go I came to be",
    "start": "20390",
    "end": "26160"
  },
  {
    "text": "at lyft so this is lifts of architecture about five and a half years ago at this",
    "start": "26160",
    "end": "31590"
  },
  {
    "text": "point so is a pretty you know typical model attic architecture clients internet lift is entirely cloud-based",
    "start": "31590",
    "end": "39570"
  },
  {
    "text": "so cloud load balancer at the time lyft was a PHP Apache monolith and a single",
    "start": "39570",
    "end": "46829"
  },
  {
    "text": "database so you know this is how almost everyone starts it's a it's a typical architecture and what's interesting here",
    "start": "46829",
    "end": "55199"
  },
  {
    "text": "is that even though this is a monolithic architecture it's not you know micro services there's still problems that",
    "start": "55199",
    "end": "61590"
  },
  {
    "text": "people are having at this stage you know that are more common or more commonly talked about and micro service",
    "start": "61590",
    "end": "67470"
  },
  {
    "text": "architectures so networking observability we still have different components in this system we still have",
    "start": "67470",
    "end": "73500"
  },
  {
    "text": "database we still have the application we still have load balancers so even in this very basic architecture it can be",
    "start": "73500",
    "end": "79409"
  },
  {
    "text": "difficult to understand where problems are occurring are they and the database are they in the monolith are they in the",
    "start": "79409",
    "end": "85830"
  },
  {
    "text": "load balancer are they in the virtual infrastructure so fast forward about two",
    "start": "85830",
    "end": "92250"
  },
  {
    "text": "years later and again this is a common progression for for most companies that are going through growth so we still",
    "start": "92250",
    "end": "98280"
  },
  {
    "text": "have clients we still have the internet we still have the load balancer but now we have it expanded to micro-services so",
    "start": "98280",
    "end": "105689"
  },
  {
    "text": "we still have our monolith monolith you know it's been a little slow so let's add some a tree proxy and some queuing",
    "start": "105689",
    "end": "112070"
  },
  {
    "text": "we're now using a bunch of internal load balancers for service discovery we now",
    "start": "112070",
    "end": "117780"
  },
  {
    "text": "have two databases so MongoDB and dynamodb we now have probably twenty or thirty different micro services and",
    "start": "117780",
    "end": "124950"
  },
  {
    "text": "Python and you know this architecture compared to the one previous is probably",
    "start": "124950",
    "end": "130020"
  },
  {
    "text": "an order of magnitude more complicated there more hops there's more places that",
    "start": "130020",
    "end": "135099"
  },
  {
    "text": "things can go wrong there's more virtual infrastructure there's some black boxes in terms of those load balancers so it",
    "start": "135099",
    "end": "142060"
  },
  {
    "text": "can be very hard to understand you know where things are actually breaking and what we saw at this time in lips'",
    "start": "142060",
    "end": "149829"
  },
  {
    "text": "history which is something that I hear from lots of different companies that are undergoing their micro service",
    "start": "149829",
    "end": "155170"
  },
  {
    "text": "migration is that you know they don't they want to move to micro services for",
    "start": "155170",
    "end": "162700"
  },
  {
    "text": "the agility reasons but then what ends up actually happening is it stalls",
    "start": "162700",
    "end": "167739"
  },
  {
    "text": "because developers don't trust Mike receivers they think they're too complicated they can't debug problems",
    "start": "167739",
    "end": "173049"
  },
  {
    "text": "they don't know where latency is coming from and then you know you end up in the worst of all possible worlds which is",
    "start": "173049",
    "end": "180180"
  },
  {
    "text": "you have a bunch of Micra services that no one trusts and then you have your monoliths and developers just end up",
    "start": "180180",
    "end": "186250"
  },
  {
    "text": "adding all their code to the monolith and that's a pretty bad place to be so let's talk about the general state of",
    "start": "186250",
    "end": "193120"
  },
  {
    "start": "189000",
    "end": "365000"
  },
  {
    "text": "micro service networking within the industry so you know we've moved from a time in which most organizations are",
    "start": "193120",
    "end": "200169"
  },
  {
    "text": "developing using a single language to a situation whether through just internal",
    "start": "200169",
    "end": "206319"
  },
  {
    "text": "desire or through acquisition we now have organizations that have you know developed in five or six or seven",
    "start": "206319",
    "end": "212169"
  },
  {
    "text": "different languages lots of frameworks with which people write their their services so you know we have a we have a",
    "start": "212169",
    "end": "217930"
  },
  {
    "text": "real expansion of how people are writing their applications lots of different protocols we have HTTP one HTTP 2 ERP",
    "start": "217930",
    "end": "225940"
  },
  {
    "text": "see we have different databases different caching so people are building their applications and different ways",
    "start": "225940",
    "end": "231000"
  },
  {
    "text": "lots of different infrastructure we've gone through on Fram to virtual infrastructure containers as a service",
    "start": "231000",
    "end": "237970"
  },
  {
    "text": "obviously we have functions lots of different ways that people are building things different load balancers so we've",
    "start": "237970",
    "end": "244780"
  },
  {
    "text": "gone from Hardware load balancers to virtual load balancers from cloud providers to you know software load",
    "start": "244780",
    "end": "252069"
  },
  {
    "text": "balancers so lots of different ways that people are doing networking between services and most importantly",
    "start": "252069",
    "end": "258570"
  },
  {
    "text": "observability so we're trying to debug these systems through typically stats logging and maybe if you're lucky",
    "start": "258570",
    "end": "264430"
  },
  {
    "text": "tracing and what you see from the rest of all of these things that are on the screen is",
    "start": "264430",
    "end": "269919"
  },
  {
    "text": "that it's very hard to get consistent stats logging and tracing because all of",
    "start": "269919",
    "end": "275020"
  },
  {
    "text": "these components your different load balancers your different infrastructures or different protocols they're giving",
    "start": "275020",
    "end": "280900"
  },
  {
    "text": "you different stats so from a cognitive overload perspective very difficult to understand what's going on in your",
    "start": "280900",
    "end": "287110"
  },
  {
    "text": "system and that leads to people being frustrated because they can't debug then",
    "start": "287110",
    "end": "292419"
  },
  {
    "text": "we move on to best practices so we're all told that we need things like retries and circuit braking and rate",
    "start": "292419",
    "end": "298000"
  },
  {
    "text": "limiting and timeouts you know do developers have them maybe you know are",
    "start": "298000",
    "end": "304210"
  },
  {
    "text": "they implemented differently in different you know different frameworks and languages and libraries probably and",
    "start": "304210",
    "end": "311169"
  },
  {
    "text": "again that just leads to confusion and cognitive overload authentication",
    "start": "311169",
    "end": "316330"
  },
  {
    "text": "authorization you know these are key concepts everyone wants them but sometimes you know let's be honest they",
    "start": "316330",
    "end": "322000"
  },
  {
    "text": "can fall to the the backburner so these are things you know that might have",
    "start": "322000",
    "end": "327039"
  },
  {
    "text": "partial implementations or rollouts and coming back to the multiple languages",
    "start": "327039",
    "end": "332919"
  },
  {
    "text": "and frameworks we have multiple libraries that people are typically using to solve these problems so twitter",
    "start": "332919",
    "end": "339010"
  },
  {
    "text": "has finagle Netflix has history those are both Java based libraries and then you'll see that people will you know",
    "start": "339010",
    "end": "345490"
  },
  {
    "text": "develop different libraries for different languages but those libraries that have different stats different",
    "start": "345490",
    "end": "350800"
  },
  {
    "text": "logging different features and that can be very complicated from trying to get",
    "start": "350800",
    "end": "356880"
  },
  {
    "text": "uniformity and making sure that everyone is doing the same thing and that everything is easy to understand as",
    "start": "356880",
    "end": "363370"
  },
  {
    "text": "we're doing this traffic between hops so that leaves us here and this is this is",
    "start": "363370",
    "end": "368680"
  },
  {
    "start": "365000",
    "end": "430000"
  },
  {
    "text": "where I think most organizations wind up after they start doing micro services",
    "start": "368680",
    "end": "373810"
  },
  {
    "text": "without a firm plan around networking and observability and it can get bad pretty quick so that brings us to the",
    "start": "373810",
    "end": "381039"
  },
  {
    "text": "envoy project and servers mesh in general so the idea behind the project is that we want the network to be",
    "start": "381039",
    "end": "388060"
  },
  {
    "text": "transparent to applications obviously problems are going to occur so when they do occur you know let's let's make it",
    "start": "388060",
    "end": "394509"
  },
  {
    "text": "easy for people to figure out the source of the problem and you like I say in most of my talks you know",
    "start": "394509",
    "end": "401630"
  },
  {
    "text": "we're all here to talk about infrastructure and to hopefully build infrastructure that helps people do their their job faster but for the most",
    "start": "401630",
    "end": "408740"
  },
  {
    "text": "part any time the application developers are spending working on infrastructure is time that they're not writing",
    "start": "408740",
    "end": "414920"
  },
  {
    "text": "business logic and that's typically not a good use of time for most companies so",
    "start": "414920",
    "end": "420260"
  },
  {
    "text": "our goal to the greatest extent possible is to abstract a lot of the virtual",
    "start": "420260",
    "end": "425870"
  },
  {
    "text": "infrastructure from folks so that they can focus on their business logic so",
    "start": "425870",
    "end": "431510"
  },
  {
    "start": "430000",
    "end": "492000"
  },
  {
    "text": "this is a service mesh refresher service meshes very buzzy these days so I'm sure",
    "start": "431510",
    "end": "437090"
  },
  {
    "text": "that many of you have have at least been exposed to this a little bit the idea behind the service mesh is that we have",
    "start": "437090",
    "end": "444050"
  },
  {
    "text": "a proxy that is co-located next to every application so in this case we have you",
    "start": "444050",
    "end": "449690"
  },
  {
    "text": "know service a B C and D and there's a sidecar proxy that's co-located with",
    "start": "449690",
    "end": "454820"
  },
  {
    "text": "that service and then when a service wants to talk to another service it talks to its local proxy that proxy is",
    "start": "454820",
    "end": "462230"
  },
  {
    "text": "gonna do common concerns around things like service discovery and load balancing and timeouts and rate limiting",
    "start": "462230",
    "end": "468380"
  },
  {
    "text": "and and then it will talk to the other side the other side might do some tracing and some logging and some stats",
    "start": "468380",
    "end": "474580"
  },
  {
    "text": "and the nice part about this is that we can have common concerns in that proxy",
    "start": "474580",
    "end": "481550"
  },
  {
    "text": "they can be quite complicated and it'll work alongside any application language",
    "start": "481550",
    "end": "486650"
  },
  {
    "text": "doesn't matter what language that application is actually written and so if it's a very powerful paradigm so from",
    "start": "486650",
    "end": "494270"
  },
  {
    "start": "492000",
    "end": "783000"
  },
  {
    "text": "a non-void perspective envoy is an out of process proxy so it would be most",
    "start": "494270",
    "end": "501350"
  },
  {
    "text": "similar to an H a proxy or nginx and meaning it's not a library it's a",
    "start": "501350",
    "end": "508700"
  },
  {
    "text": "self-contained Dame that you run and it has a config it is a modern C++ code base this was",
    "start": "508700",
    "end": "516440"
  },
  {
    "text": "chosen for performance reasons it is at its core it's an extensible what we call",
    "start": "516440",
    "end": "523690"
  },
  {
    "text": "l3 l4 filter architecture so what this means is that there's a core proxy that",
    "start": "523690",
    "end": "529700"
  },
  {
    "text": "does a bunch of things and then top of that you can write extensions or filters and at the l3 or l4 layer this",
    "start": "529700",
    "end": "537710"
  },
  {
    "text": "operates on bytes so bytes in bytes out you can transform bytes and what that means is that it can it can be used to",
    "start": "537710",
    "end": "544820"
  },
  {
    "text": "build up on top many different protocols so envoy can support HTTP Redis DB",
    "start": "544820",
    "end": "551390"
  },
  {
    "text": "by sequel thrift whole bunch of different things you know so that's a",
    "start": "551390",
    "end": "556610"
  },
  {
    "text": "powerful construct that has made envoy very popular is that there's that core code and then there's a bunch of",
    "start": "556610",
    "end": "561830"
  },
  {
    "text": "extensions obviously HTTP is very popular we build lots of HTTP services",
    "start": "561830",
    "end": "567890"
  },
  {
    "text": "so envoy has a lot of HTTP codes so not only do we allow filters and extensions at the l3 l4 layer but we also allow at",
    "start": "567890",
    "end": "575600"
  },
  {
    "text": "the l7 layer so we can allow extensions that operate on headers and bodies and",
    "start": "575600",
    "end": "581660"
  },
  {
    "text": "trailers and this allows us to do things that make it easier for people to write extensions around authentication and",
    "start": "581660",
    "end": "588260"
  },
  {
    "text": "rate limiting and routing and stuff like that envoy was written as an HTTP to first",
    "start": "588260",
    "end": "595520"
  },
  {
    "text": "proxy and at the you know most proxies now there's still not quite all caught",
    "start": "595520",
    "end": "600980"
  },
  {
    "text": "up but but most of them are heading in that direction but this is quite novel at the time the Envoy was originally put",
    "start": "600980",
    "end": "607400"
  },
  {
    "text": "out and by HTTP two first it means that envoy was written as a multiplexing proxy from the get-go and they can proxy",
    "start": "607400",
    "end": "615470"
  },
  {
    "text": "transparently from HTTP 1 to HTTP 2 or vice versa and that allows it to be used for GRP",
    "start": "615470",
    "end": "622430"
  },
  {
    "text": "see it has quite a few different built-in service discovery mechanisms so",
    "start": "622430",
    "end": "629210"
  },
  {
    "text": "whether that be DNS and our dynamic configuration systems which I'll get to in a second and it supports both active",
    "start": "629210",
    "end": "635270"
  },
  {
    "text": "and passive health checking so active health check is you know sending a slash health check pinging to a host and",
    "start": "635270",
    "end": "641600"
  },
  {
    "text": "getting a response and passive health checking is monitoring in band traffic",
    "start": "641600",
    "end": "647150"
  },
  {
    "text": "say looking if we have three 500s in a row and saying oh you know I think that hosts probably bad let me boot that host",
    "start": "647150",
    "end": "654110"
  },
  {
    "text": "and and kick it out and we'll see later if it if it's healthy again so the",
    "start": "654110",
    "end": "659480"
  },
  {
    "text": "combination of active and passive health checking can be very powerful because active health checking can give",
    "start": "659480",
    "end": "664730"
  },
  {
    "text": "a baseline health status but passive chuckling passive health tracking can give you very fast reaction speeds to",
    "start": "664730",
    "end": "671600"
  },
  {
    "text": "when things go wrong so one of the things that that you may have heard of",
    "start": "671600",
    "end": "677420"
  },
  {
    "text": "with envoy is we have our configuration API is what we call our XDS api or star",
    "start": "677420",
    "end": "683630"
  },
  {
    "text": "discovery service api and we built up a whole number of these api's over the",
    "start": "683630",
    "end": "689779"
  },
  {
    "text": "years and the idea here is that envoy which is very novel for a proxy can be",
    "start": "689779",
    "end": "695510"
  },
  {
    "text": "dynamically configured so it's been built to have a separate control plane from a data plan and we've seen over the",
    "start": "695510",
    "end": "701839"
  },
  {
    "text": "last few years many control planes written on top of on voice you probably heard of Sto now a bunch of the cloud",
    "start": "701839",
    "end": "708980"
  },
  {
    "text": "vendors or offering their own hosted control planes so Amazon just enough at mesh or Google has traffic director and",
    "start": "708980",
    "end": "716180"
  },
  {
    "text": "Ashur has service fabric these are all control planes that use the XDS api to",
    "start": "716180",
    "end": "721220"
  },
  {
    "text": "configure envoy and there's lots of other projects that do the same so this API has been very powerful and that's",
    "start": "721220",
    "end": "728630"
  },
  {
    "text": "been that's been pretty awesome in terms of load balancing we have lots of different load balancing algorithms we",
    "start": "728630",
    "end": "735079"
  },
  {
    "text": "do priority failover and help checking and spilling and all types of stuff and",
    "start": "735079",
    "end": "741079"
  },
  {
    "text": "observability right so as I said before really when we're managing these systems we need to understand what's going on",
    "start": "741079",
    "end": "747769"
  },
  {
    "text": "and having you know copious stats logging tracing superpowerful and",
    "start": "747769",
    "end": "753529"
  },
  {
    "text": "finally from an edge proxy perspective you know we would ultimately like to be",
    "start": "753529",
    "end": "758870"
  },
  {
    "text": "able to use the same proxy both for service to service traffic middle proxy traffic and edge proxy or",
    "start": "758870",
    "end": "764420"
  },
  {
    "text": "internet-facing because in reality these things do the same thing right so 99% of",
    "start": "764420",
    "end": "770630"
  },
  {
    "text": "what these proxies do load balancing service discovery they're all the same so from an operational load perspective",
    "start": "770630",
    "end": "776449"
  },
  {
    "text": "just from a cognitive load perspective much easier to actually go through and use the same software and operate it so",
    "start": "776449",
    "end": "784399"
  },
  {
    "start": "783000",
    "end": "878000"
  },
  {
    "text": "this is roughly what lyft looks like today so we have our clients obviously internet now you know we have Amazon",
    "start": "784399",
    "end": "792560"
  },
  {
    "text": "Network load balancers in front we run a fleet of what we call our front or our edge-on voice we've actually",
    "start": "792560",
    "end": "800210"
  },
  {
    "text": "recently in the last couple of months finally after years got rid of our PHP monolith",
    "start": "800210",
    "end": "806030"
  },
  {
    "text": "no more PHP and now we have lots of ghost services lots of Python services",
    "start": "806030",
    "end": "812990"
  },
  {
    "text": "there's a bunch of random one-off other services C++ Java a node and then from",
    "start": "812990",
    "end": "819170"
  },
  {
    "text": "the backing perspective still using MongoDB Redis dynamodb a whole bunch of",
    "start": "819170",
    "end": "824360"
  },
  {
    "text": "external partners stats logging and tracing and Envoy runs everywhere we have a hundred percent coverage of on",
    "start": "824360",
    "end": "830600"
  },
  {
    "text": "but all traffic at live flows through envoy and backing it behind it all is",
    "start": "830600",
    "end": "836150"
  },
  {
    "text": "what we call our envoy manager this is an XD a server or a config server so roughly the way that it works is an",
    "start": "836150",
    "end": "842660"
  },
  {
    "text": "envoy boots up with it with a base configuration it says hey I am this server and you know this availability",
    "start": "842660",
    "end": "850010"
  },
  {
    "text": "zone and this auto scaling group give me my configuration and then I don't quite",
    "start": "850010",
    "end": "855230"
  },
  {
    "text": "have time to go into it today but we have an entire configuration pipeline that will inform you know what",
    "start": "855230",
    "end": "862970"
  },
  {
    "text": "configuration that on Boyd gets and then that configuration can be dynamically updated in real time without restarting",
    "start": "862970",
    "end": "869540"
  },
  {
    "text": "the proxy which is very very powerful very useful from an Operations perspective so this is generally what",
    "start": "869540",
    "end": "876470"
  },
  {
    "text": "what lyft looks like today so from a",
    "start": "876470",
    "end": "881630"
  },
  {
    "start": "878000",
    "end": "995000"
  },
  {
    "text": "Envoy deployment perspective we have you know many hundreds of services at lyft",
    "start": "881630",
    "end": "888260"
  },
  {
    "text": "now we run envoy depending on time of day on many tens of thousands of hosts",
    "start": "888260",
    "end": "894520"
  },
  {
    "text": "anywhere five ten million plus requests per second that run through the entire",
    "start": "894520",
    "end": "899660"
  },
  {
    "text": "mesh the majority of it is HTTP to service to service traffic all of our",
    "start": "899660",
    "end": "906200"
  },
  {
    "text": "edge service to service most of our external partners flow through envoy so those are things for example like",
    "start": "906200",
    "end": "912260"
  },
  {
    "text": "DynamoDB we're just having global visibility of applications that are",
    "start": "912260",
    "end": "918020"
  },
  {
    "text": "talking to DynamoDB across our fleet makes it much easier to identify problems is it specific to a host is it",
    "start": "918020",
    "end": "925820"
  },
  {
    "text": "specific to an availability zone is it specific to all of DynamoDB and there are countless examples of",
    "start": "925820",
    "end": "932310"
  },
  {
    "text": "times where we have gone back and forth with AWS reporting issues and being able to highlight you know either global",
    "start": "932310",
    "end": "939870"
  },
  {
    "text": "information or logs from envoy that have given us confidence it's an Amazon",
    "start": "939870",
    "end": "944910"
  },
  {
    "text": "problem and it just makes that debugging back and forth much faster and you know",
    "start": "944910",
    "end": "950550"
  },
  {
    "text": "we're still obviously sorry and so that includes dynamo we do all of our",
    "start": "950550",
    "end": "955560"
  },
  {
    "text": "Redis clustered Redis through envoy and that's many many many tens of millions",
    "start": "955560",
    "end": "960630"
  },
  {
    "text": "queries per second against Redis left is a very heavy Redis user so that's been",
    "start": "960630",
    "end": "966120"
  },
  {
    "text": "it's been a very nice system for us because it couples envoys dynamic configuration eventually consistent",
    "start": "966120",
    "end": "971820"
  },
  {
    "text": "mechanisms with support for Redis and consistent fashion we're still working",
    "start": "971820",
    "end": "978000"
  },
  {
    "text": "on our configuration management system since we built envoy at lyft we've gone through many iterations from static",
    "start": "978000",
    "end": "984900"
  },
  {
    "text": "configurations to you know template eight configurations to our dynamic configuration manager you know and",
    "start": "984900",
    "end": "991560"
  },
  {
    "text": "that's just the natural way of things so yeah in terms of adoption as I said",
    "start": "991560",
    "end": "999090"
  },
  {
    "start": "995000",
    "end": "1033000"
  },
  {
    "text": "this morning and the keynote for those of you that were there we open sourced envoy about you know to two and a half",
    "start": "999090",
    "end": "1006920"
  },
  {
    "text": "years ago and adoption has been truly incredible I think beyond our wildest",
    "start": "1006920",
    "end": "1012530"
  },
  {
    "text": "imagination we're now being used by all three of the major cloud providers many",
    "start": "1012530",
    "end": "1020120"
  },
  {
    "text": "large peer companies there's lots of companies down on the show floor that are building their technologies on top",
    "start": "1020120",
    "end": "1026660"
  },
  {
    "text": "of envoy so it's been it's been a pretty pretty amazing ride from a you know from",
    "start": "1026660",
    "end": "1036439"
  },
  {
    "start": "1033000",
    "end": "1489000"
  },
  {
    "text": "a why envoy perspective I talked about this this morning but I'll expand on it",
    "start": "1036440",
    "end": "1042650"
  },
  {
    "text": "a little bit more is you know I think we've been able to keep quality quite",
    "start": "1042650",
    "end": "1048199"
  },
  {
    "text": "high while actually still moving fast so through modern development philosophy is",
    "start": "1048199",
    "end": "1053330"
  },
  {
    "text": "by using git up by you know doing CI and all that good stuff we've been able to",
    "start": "1053330",
    "end": "1058670"
  },
  {
    "text": "keep keep high quality but move fast we've really getting focused on extensibility and I",
    "start": "1058670",
    "end": "1065210"
  },
  {
    "text": "already talked about you know filters at l3 and l4 and else Evan but we have lots",
    "start": "1065210",
    "end": "1070460"
  },
  {
    "text": "of other extension points we allow people to build their own stats plugins and their own tracers and their own",
    "start": "1070460",
    "end": "1076100"
  },
  {
    "text": "retry policies and and I mean there's probably seven or eight or nine different extension points right now and",
    "start": "1076100",
    "end": "1082460"
  },
  {
    "text": "we're always adding new ones the general philosophy is that we want to build a core piece of code that people can you",
    "start": "1082460",
    "end": "1088790"
  },
  {
    "text": "know build into interesting vertical solutions are I talked about the eventually consistent API that's been",
    "start": "1088790",
    "end": "1095360"
  },
  {
    "text": "very powerful the API used to be in JSON with it with a JSON schema we've since",
    "start": "1095360",
    "end": "1102620"
  },
  {
    "text": "moved to proto 3 proto 3 in my opinion is a real tech success story it's it's",
    "start": "1102620",
    "end": "1109580"
  },
  {
    "text": "pretty awesome in the sense that allows you to have typed api's but actually convert back and forth between a",
    "start": "1109580",
    "end": "1116270"
  },
  {
    "text": "structured file and JSON and yamo so we allow people to call these configuration",
    "start": "1116270",
    "end": "1121669"
  },
  {
    "text": "API is using JSON or Yama if they want or they can use G RPC and have it be structured and whatever language G RPC",
    "start": "1121669",
    "end": "1128660"
  },
  {
    "text": "supports so that's been really fantastic and as I was saying this morning on boy",
    "start": "1128660",
    "end": "1134750"
  },
  {
    "text": "there is no enterprise envoy it is a pure community driven project and unlike",
    "start": "1134750",
    "end": "1140630"
  },
  {
    "text": "some of our competitors that has frankly allowed us to make technology first decisions and not worry about oh we need",
    "start": "1140630",
    "end": "1147500"
  },
  {
    "text": "to save this advanced feature for enterprise product so that's been really really fantastic and I think has you",
    "start": "1147500",
    "end": "1154429"
  },
  {
    "text": "know made us very very competitive and very very compelling for people to pick up and form a community perspective you",
    "start": "1154429",
    "end": "1163100"
  },
  {
    "text": "know because of the know you know the know like enterprise version and just because of our goal of trying to bring",
    "start": "1163100",
    "end": "1170570"
  },
  {
    "text": "on maintainer xand and have everyone be involved we've built up I think a pretty amazing and passionate community which",
    "start": "1170570",
    "end": "1177590"
  },
  {
    "text": "has been fantastic yesterday we hosted our first envoy Khan we had like 350 people really amazing",
    "start": "1177590",
    "end": "1183770"
  },
  {
    "text": "can't believe that all these people showed up so that was great so thank you",
    "start": "1183770",
    "end": "1189470"
  },
  {
    "text": "that's a brief intro I'm stopped there we have plenty of time like five or six minutes little QA I can pass the mic around or",
    "start": "1189470",
    "end": "1197330"
  },
  {
    "text": "you can call out questions and I can repeat them so thank you very much sorry",
    "start": "1197330",
    "end": "1215450"
  },
  {
    "text": "encryption niblet so the question is can envoy be used for encryption sure in",
    "start": "1215450",
    "end": "1223370"
  },
  {
    "text": "fact we have a lot of people that are building mutual TLS solutions and various types of encapsulation systems",
    "start": "1223370",
    "end": "1229970"
  },
  {
    "text": "based on envoy in terms of you know data going to a volume I think it depends on",
    "start": "1229970",
    "end": "1236210"
  },
  {
    "text": "what protocol that is and you know I mean I think it would depend on a particular use case but there's no",
    "start": "1236210",
    "end": "1242620"
  },
  {
    "text": "technical reason that envoy could not proxy data to some service and perform",
    "start": "1242620",
    "end": "1247670"
  },
  {
    "text": "encryption on on on that services behalf",
    "start": "1247670",
    "end": "1252220"
  },
  {
    "text": "question is envoy is typically associated with service mesh or sidecar",
    "start": "1261580",
    "end": "1267490"
  },
  {
    "text": "envoy we see it now being used in a huge variety of use cases we see it being",
    "start": "1267490",
    "end": "1272510"
  },
  {
    "text": "used on bare metal we see it being used as an edge proxy we see being used as a middle proxy as a standalone server or",
    "start": "1272510",
    "end": "1278420"
  },
  {
    "text": "as a sidecar or as a daemon set I think what we've tried to do with envoy is",
    "start": "1278420",
    "end": "1283880"
  },
  {
    "text": "we're not prescribing a particular use case we're building a building block that allows people to build a whole",
    "start": "1283880",
    "end": "1289940"
  },
  {
    "text": "bunch of different solutions",
    "start": "1289940",
    "end": "1293019"
  },
  {
    "text": "within I was going to ask with it so the question is challenges of adoption and this is the question within lifts or",
    "start": "1300420",
    "end": "1306120"
  },
  {
    "text": "outside of lift you know within lift I",
    "start": "1306120",
    "end": "1311990"
  },
  {
    "text": "originally I thought that it was going to be difficult like I I thought that we",
    "start": "1311990",
    "end": "1317430"
  },
  {
    "text": "were gonna build this thing and you know we had deployed as an edge proxy shown a bunch of value we had deployed it on our",
    "start": "1317430",
    "end": "1323880"
  },
  {
    "text": "monolith to to help with MongoDB proxying and a couple other things and I had really thought that we were gonna",
    "start": "1323880",
    "end": "1330210"
  },
  {
    "text": "have to take the stick approach of like you know let's let's get everyone in the list and let's you know with them until",
    "start": "1330210",
    "end": "1337230"
  },
  {
    "text": "they they they upgrade and that's kinda why I thought was gonna happen I was very surprised in the sense that we made",
    "start": "1337230",
    "end": "1344790"
  },
  {
    "text": "a concerted effort to provide people value like immediately so we made",
    "start": "1344790",
    "end": "1349980"
  },
  {
    "text": "automatic dashboards that worked if they were using envoy and we gave them special logs and abilities to debug and",
    "start": "1349980",
    "end": "1356310"
  },
  {
    "text": "all these kinds of things and what we saw frankly at lyft is that once people saw the benefit of particularly the",
    "start": "1356310",
    "end": "1364080"
  },
  {
    "text": "observability between two points we didn't it was mostly a carrot thing like",
    "start": "1364080",
    "end": "1369570"
  },
  {
    "text": "I was really shocked I mean it was not hard like we had people upgrading I mean we just gave them instructions we had",
    "start": "1369570",
    "end": "1375330"
  },
  {
    "text": "you know took some time of course but did not really have to chase down very",
    "start": "1375330",
    "end": "1380400"
  },
  {
    "text": "very many people on the external front from adoption I think what's the most",
    "start": "1380400",
    "end": "1386100"
  },
  {
    "text": "interesting is before we open sourced you know I didn't know what to expect",
    "start": "1386100",
    "end": "1392160"
  },
  {
    "text": "so I thought oh you know it'd be great I would be so happy if we got one of lift spear companies say like Pinterest or",
    "start": "1392160",
    "end": "1398790"
  },
  {
    "text": "Yelp or slack or you know similar size company wouldn't be great if like one of them used envoy so before we open",
    "start": "1398790",
    "end": "1405000"
  },
  {
    "text": "sourced I went around and talked a lot his companies and gave presentations and everyone told me you know this is great",
    "start": "1405000",
    "end": "1411450"
  },
  {
    "text": "but like we don't have time to go and do this right now and I was sad and we you",
    "start": "1411450",
    "end": "1416790"
  },
  {
    "text": "know open sourced and didn't know what would happen and what was interesting actually from a public adoption",
    "start": "1416790",
    "end": "1422610"
  },
  {
    "text": "perspective it was it was actually the biggest companies that came first so Google showed up within actually before",
    "start": "1422610",
    "end": "1430020"
  },
  {
    "text": "we even open source they found out about somehow and like Apple came very soon after and then other other big companies",
    "start": "1430020",
    "end": "1435880"
  },
  {
    "text": "I think the larger companies had the time to invest in in in this began and",
    "start": "1435880",
    "end": "1442990"
  },
  {
    "text": "they saw some of the potential and they had more people or more projects that were dependent on it and then I think",
    "start": "1442990",
    "end": "1448390"
  },
  {
    "text": "over time just with the momentum of getting more industry wait behind it and",
    "start": "1448390",
    "end": "1454480"
  },
  {
    "text": "then just the control plane and an sto and now all the products I think it's a",
    "start": "1454480",
    "end": "1460630"
  },
  {
    "text": "we just have a snowball that keeps going",
    "start": "1460630",
    "end": "1465240"
  },
  {
    "text": "sure so the question is we see patterns of envoy you know finding kubernetes",
    "start": "1478260",
    "end": "1484570"
  },
  {
    "text": "services how do you do it outside envoy itself actually does not know anything about kubernetes really all we offer is",
    "start": "1484570",
    "end": "1492520"
  },
  {
    "start": "1489000",
    "end": "1820000"
  },
  {
    "text": "these generic discovery API so there's an API around the endpoint discovery service which helps you find endpoints",
    "start": "1492520",
    "end": "1499650"
  },
  {
    "text": "yeah and when we first put out envoy we would see a bunch of queries come in",
    "start": "1499650",
    "end": "1505930"
  },
  {
    "text": "about well you know will you support in CS or will you support kubernetes or will you support docker swarm rule",
    "start": "1505930",
    "end": "1511510"
  },
  {
    "text": "whatever and what we found pretty quickly is that people stopped asking a",
    "start": "1511510",
    "end": "1519730"
  },
  {
    "text": "because I think the discovery API is are simple to use they're easy to understand",
    "start": "1519730",
    "end": "1524740"
  },
  {
    "text": "and they're compelling and to very often people want to customize the behavior in",
    "start": "1524740",
    "end": "1529840"
  },
  {
    "text": "some way so like just supporting kubernetes ends up not being that useful people want to have some intermediate",
    "start": "1529840",
    "end": "1536160"
  },
  {
    "text": "translation layer that actually you know has some control over what is discovered",
    "start": "1536160",
    "end": "1542410"
  },
  {
    "text": "so everyone just ended up implementing our API so you know there's tons of examples out there now of people that",
    "start": "1542410",
    "end": "1549070"
  },
  {
    "text": "have envoy running against almost all of these systems whether it be console or communities or something else but the",
    "start": "1549070",
    "end": "1556060"
  },
  {
    "text": "envoy project itself doesn't doesn't support kubernetes there's a question no I think or there",
    "start": "1556060",
    "end": "1561880"
  },
  {
    "text": "[Music]",
    "start": "1561880",
    "end": "1564999"
  },
  {
    "text": "the question is in sto we've seen a bunch of 500s during ungraceful",
    "start": "1578130",
    "end": "1583450"
  },
  {
    "text": "termination what do you mean by ungraceful termination",
    "start": "1583450",
    "end": "1589020"
  },
  {
    "text": "right I can't really speak to sto what I would say is that that's where a combination of passive and active help",
    "start": "1599700",
    "end": "1606580"
  },
  {
    "text": "checking comes in so typically at lift we run with both active health checking and passive and typically when something",
    "start": "1606580",
    "end": "1613750"
  },
  {
    "text": "gets killed we use passive health checking to fail it out very quickly so I would follow up with the is do folks",
    "start": "1613750",
    "end": "1620640"
  },
  {
    "text": "there was some here the question is",
    "start": "1620640",
    "end": "1637510"
  },
  {
    "text": "we're going to deploy should we use sto or should we just just use envoy unfortunately that's a really deep",
    "start": "1637510",
    "end": "1644230"
  },
  {
    "text": "question there's no there's no there's no one answer there I will give you a general answer which is that envoy is a",
    "start": "1644230",
    "end": "1652390"
  },
  {
    "text": "Swiss Army knife that can do a lot of different things like as was asked before people use it for edge proxy for",
    "start": "1652390",
    "end": "1659560"
  },
  {
    "text": "service proxy for middle proxy I think",
    "start": "1659560",
    "end": "1664600"
  },
  {
    "text": "whether you choose to build your own control plane on top of envoy or use sto or now there's console connect there's",
    "start": "1664600",
    "end": "1671860"
  },
  {
    "text": "that mesh that I mean there's all kinds of things right I think that's a decision that you'll have to think hard",
    "start": "1671860",
    "end": "1679930"
  },
  {
    "text": "about in terms of where you want to spend your resources and how tied in you want to be to a particular control point",
    "start": "1679930",
    "end": "1685060"
  },
  {
    "text": "implementation I would say quite honestly that to use on Boyd directly",
    "start": "1685060",
    "end": "1690820"
  },
  {
    "text": "requires a fairly high level of networking expertise so I think you know",
    "start": "1690820",
    "end": "1695950"
  },
  {
    "text": "I think that's that's what you have to weigh in terms of whether to go one way or the other",
    "start": "1695950",
    "end": "1701940"
  },
  {
    "text": "yeah mmm right but sto is a combined system that offers an opinionated control plane plus envoy so",
    "start": "1701940",
    "end": "1708880"
  },
  {
    "text": "unfortunately there's no quick answer there I think we've time for maybe one one more yeah",
    "start": "1708880",
    "end": "1716100"
  },
  {
    "text": "sure yeah yeah the question is perf in packs so how much does does envoy add we",
    "start": "1722809",
    "end": "1730140"
  },
  {
    "text": "don't actually officially announce perf numbers and the reason for that is that with this type of software very hard to",
    "start": "1730140",
    "end": "1739140"
  },
  {
    "text": "actually accurately measure perf it depends on the features that you're using like the system that you're",
    "start": "1739140",
    "end": "1745169"
  },
  {
    "text": "running on a bunch of other stuff I'll say two things I think in many are most",
    "start": "1745169",
    "end": "1752010"
  },
  {
    "text": "use cases we see people measuring overhead in the sub millisecond range so",
    "start": "1752010",
    "end": "1757049"
  },
  {
    "text": "high microseconds to one to one millisecond range overhead per hop I",
    "start": "1757049",
    "end": "1762210"
  },
  {
    "text": "also think that there are some people within the community that are doing some really incredible work around",
    "start": "1762210",
    "end": "1768330"
  },
  {
    "text": "performance and envoy so there's the cilium project that's using BPF there's talks at this conference about it and",
    "start": "1768330",
    "end": "1774720"
  },
  {
    "text": "they're doing really what wild and crazy stuff to really minimize a bunch of that overhead so I guess my standard answer",
    "start": "1774720",
    "end": "1782970"
  },
  {
    "text": "here is I think everyone needs to measure for themselves to see what the overhead will be answer to the",
    "start": "1782970",
    "end": "1789179"
  },
  {
    "text": "performance is always getting better answer three typically the features so",
    "start": "1789179",
    "end": "1794399"
  },
  {
    "text": "far outweigh the performance loss that I think for all but a tiny number of",
    "start": "1794399",
    "end": "1800570"
  },
  {
    "text": "installations it just doesn't matter cool well thank you we are doing a deep",
    "start": "1800570",
    "end": "1806760"
  },
  {
    "text": "dive in like 20 or 30 minutes in here where we'll just be doing pretty much QA for the whole time so if people have",
    "start": "1806760",
    "end": "1813270"
  },
  {
    "text": "additional questions feel free to stick around Thanks [Applause]",
    "start": "1813270",
    "end": "1821849"
  }
]