[
  {
    "text": "okay um so yeah this is uh good fences mate good neighbors uh I am Nick Young I just",
    "start": "60",
    "end": "7740"
  },
  {
    "text": "wanted to I'm not gonna be doing much walking around because of this thing um but uh yeah let's get started so",
    "start": "7740",
    "end": "14880"
  },
  {
    "text": "uh my name is Nick Young uh I am a uh Senior Systems engineer with ice",
    "start": "14880",
    "end": "21000"
  },
  {
    "text": "surveillance I do a lot of work on ethelium service mesh there but my other hat is that I'm a maintainer on a",
    "start": "21000",
    "end": "27420"
  },
  {
    "text": "Gateway API and that's where that's where all of this work on reference Grant mainly comes from so as an Australian",
    "start": "27420",
    "end": "34920"
  },
  {
    "text": "I feel like it's quite important that I mentioned that uh I'm not talking about these type of neighbors",
    "start": "34920",
    "end": "40739"
  },
  {
    "text": "um you know although uh the theme song tells us that uh you know this this type",
    "start": "40739",
    "end": "45840"
  },
  {
    "text": "of neighbors often become good friends um the uh the TV show is not what I'm talking about today",
    "start": "45840",
    "end": "51300"
  },
  {
    "text": "what I am talking about is that you know the idea for this talk sort of came from this statement um that you know it's a",
    "start": "51300",
    "end": "57899"
  },
  {
    "text": "bit of a cliche but you know good fences make good neighbors is all about the fact that you if you're living right next to somebody the thing you need the",
    "start": "57899",
    "end": "65158"
  },
  {
    "text": "thing you need to do is talk to them about you know you need to have agreements about what happens between",
    "start": "65159",
    "end": "70680"
  },
  {
    "text": "the two of you right like it's all about agreements and having clear delineation between between neighbors is what makes",
    "start": "70680",
    "end": "76860"
  },
  {
    "text": "neighbors good friends right like that's what the and so that's that's sort of the the where the theme of the tour came",
    "start": "76860",
    "end": "83220"
  },
  {
    "text": "from so here's what we'll talk about today so namespace is one of the most important",
    "start": "83220",
    "end": "89640"
  },
  {
    "text": "security boundaries in kubernetes making references across namespaces is actually really easy to get wrong very",
    "start": "89640",
    "end": "96299"
  },
  {
    "text": "easy to do in a in a not great way um there is a little bit of prior art",
    "start": "96299",
    "end": "101460"
  },
  {
    "text": "here before reference Grant and then this is how we do it in go API including reference Grant and what is a",
    "start": "101460",
    "end": "107640"
  },
  {
    "text": "reference Grant and then actually there's been a lot of developments in next steps for reference Grant I had to literally update this",
    "start": "107640",
    "end": "113820"
  },
  {
    "text": "like three times this week because there's been some stuff happen this week so there I'll get to that at the end",
    "start": "113820",
    "end": "120840"
  },
  {
    "text": "so kubernetes namespaces um you know hopefully you're all reasonably familiar with kubernetes uh and you know",
    "start": "120840",
    "end": "128280"
  },
  {
    "text": "namespace is the main way you enclose a trust domain in kubernetes um most users have access to a bunch of",
    "start": "128280",
    "end": "135420"
  },
  {
    "text": "resources in a whole namespace it's pretty unusual to have people share a namespace and not sort of have access to",
    "start": "135420",
    "end": "141300"
  },
  {
    "text": "all the same things so generally in this sort of use case we've assumed in general that basically that people",
    "start": "141300",
    "end": "147900"
  },
  {
    "text": "pretty much have like admin over their namespace like that they can read read write and Patch all",
    "start": "147900",
    "end": "155400"
  },
  {
    "text": "resources in their namespace generally obviously that's not always the case but like most of the design that we're doing",
    "start": "155400",
    "end": "161040"
  },
  {
    "text": "here assumes that um it is sometimes really handy to have cost no space references um you know a",
    "start": "161040",
    "end": "167220"
  },
  {
    "text": "good example here is uh you know TLS secrets that you might want some conflict to be able to consume but you",
    "start": "167220",
    "end": "173160"
  },
  {
    "text": "don't want people to actually be able to read so an example of that would be you know you've got some TLS secret that is",
    "start": "173160",
    "end": "178440"
  },
  {
    "text": "the um you know that's the the key pair for your the Wild Card keeper for your company domain you don't want everybody",
    "start": "178440",
    "end": "184620"
  },
  {
    "text": "to be able to read that key pair but you probably do want a lot of people to be able to use things to make arbitrary you",
    "start": "184620",
    "end": "191099"
  },
  {
    "text": "know subdomains for Ingress or something like that and so like that is a really good use case where it's really good to be able to have to be able to say you",
    "start": "191099",
    "end": "197940"
  },
  {
    "text": "can use this but you can't read it um and you know another one is that this",
    "start": "197940",
    "end": "203099"
  },
  {
    "text": "is another Ingress example some people want to have Ingress config live in one namespace and the back end's in another",
    "start": "203099",
    "end": "208980"
  },
  {
    "text": "um you know with with V1 Ingress uh one of the problems with it is that you can do that really easily",
    "start": "208980",
    "end": "214920"
  },
  {
    "text": "um you know but it's kind of not ideal um because of some of the reasons I'll go into",
    "start": "214920",
    "end": "221159"
  },
  {
    "text": "yeah so cross namespace references are actually really hard because it's really easy to accidentally Grant too much",
    "start": "221159",
    "end": "227459"
  },
  {
    "text": "access um you know so if you think about it you if uh you know Alice owns a namespace",
    "start": "227459",
    "end": "234120"
  },
  {
    "text": "and Bob owns a namespace and Alice wants to use something in Bob's namespace and the The Primitives you're using just say",
    "start": "234120",
    "end": "241799"
  },
  {
    "text": "Okay Alice gets to use anything that's in Bob's namespace Bob has no control Bob doesn't understand what's being used",
    "start": "241799",
    "end": "247379"
  },
  {
    "text": "and has no way to say you can't use this maybe Bob has something he doesn't want other people using but there's no way",
    "start": "247379",
    "end": "252540"
  },
  {
    "text": "unless you unless you do something like this to make sure that you do that and so that's that's where we come to the",
    "start": "252540",
    "end": "257639"
  },
  {
    "text": "key the key is the two people need to agree the person who is making the reference needs you know needs to be",
    "start": "257639",
    "end": "263940"
  },
  {
    "text": "able to Signal their intent that they want to use a reference across name spaces and the person who owns the thing",
    "start": "263940",
    "end": "269160"
  },
  {
    "text": "that is being referred the referent um need to be able to needs to be able to say this type of reference is okay",
    "start": "269160",
    "end": "276780"
  },
  {
    "text": "uh and you know so that's that's the sort of the keys there needs to be a two-way handshake uh for the for namespace for cost namespace references",
    "start": "276780",
    "end": "283919"
  },
  {
    "text": "to be more secure I won't say secure because we're at a security conference we all know there's no such thing as secure but more secure I think is",
    "start": "283919",
    "end": "290520"
  },
  {
    "text": "probably the best we can aim for you I should note that uh I kind of feel like this is a pretty good General Security",
    "start": "290520",
    "end": "296460"
  },
  {
    "text": "design principle that if you're talking about any sort of Crossing trust domain relationship both sides of the trust you",
    "start": "296460",
    "end": "303180"
  },
  {
    "text": "know of any trust relationship need to agree seems pretty stupid and simple when you say it aside but we all know",
    "start": "303180",
    "end": "309780"
  },
  {
    "text": "Common Sense is not that common right so oh",
    "start": "309780",
    "end": "314820"
  },
  {
    "text": "great my slides have not helped",
    "start": "314820",
    "end": "318620"
  },
  {
    "text": "thank you for changing my things",
    "start": "320220",
    "end": "324560"
  },
  {
    "text": "okay so here's a piece of prior art um well I mean for full disclosure I was a",
    "start": "328680",
    "end": "336240"
  },
  {
    "text": "maintainer on Contour I didn't build this but I certainly used it a lot and so um we had uh we had we needed to solve",
    "start": "336240",
    "end": "343919"
  },
  {
    "text": "that exact problem I talked about before with having you know Ingress config live in one namespace and the uh you know TLS",
    "start": "343919",
    "end": "351600"
  },
  {
    "text": "certificate live in another namespace and so we came up with this um resource called TLS certificate delegation and so",
    "start": "351600",
    "end": "358080"
  },
  {
    "text": "the way it worked was it lived in alongside the secret that you want to share access to and basically said for",
    "start": "358080",
    "end": "364560"
  },
  {
    "text": "this secret you know this this secret is available to be used by anything in the following the following namespaces uh",
    "start": "364560",
    "end": "372300"
  },
  {
    "text": "notably you could have star which means all namespaces so it's up to the it's up to the owner to it is an option for the",
    "start": "372300",
    "end": "379440"
  },
  {
    "text": "owner to be super insecure but they need to actively opt into it",
    "start": "379440",
    "end": "384800"
  },
  {
    "text": "um yeah so so this then allowed you to use it in uh our customer resource HTTP proxy",
    "start": "384840",
    "end": "389960"
  },
  {
    "text": "we you know cribbed a thing that we you could do in V1 beta1 Ingress where you",
    "start": "389960",
    "end": "395400"
  },
  {
    "text": "were allowed to put a slash in the name of the secret and so we said okay that means it's in a different namespace",
    "start": "395400",
    "end": "401280"
  },
  {
    "text": "pretty hacky way to do this would have been much better to have a separate field but yeah this is what we ended up",
    "start": "401280",
    "end": "407220"
  },
  {
    "text": "doing at the time so yeah that's sort of the main thing here is that it lives next to the to the secret that's being",
    "start": "407220",
    "end": "412319"
  },
  {
    "text": "delegated and it grants access to it from out from other namespaces so in Gateway API we wanted to do this",
    "start": "412319",
    "end": "420300"
  },
  {
    "text": "in a more stable we wanted to do this exact same thing but in a more stable structured way",
    "start": "420300",
    "end": "426539"
  },
  {
    "text": "and so this is this is our standard uh diagram for Gateway API and how the resources break down",
    "start": "426539",
    "end": "432660"
  },
  {
    "text": "um one of the other things that we're trying to do in Gateway API is we're trying to make it so that we break down the resources by the Persona that needs",
    "start": "432660",
    "end": "439500"
  },
  {
    "text": "to use them so a Gateway class is like roughly analogous to English class but",
    "start": "439500",
    "end": "445979"
  },
  {
    "text": "it's designed for the people who own the the infrastructure the people who set up controllers who have full view a large",
    "start": "445979",
    "end": "452639"
  },
  {
    "text": "amount of access to a cluster and then individual cluster operators can create",
    "start": "452639",
    "end": "458639"
  },
  {
    "text": "individual gateways which roughly correspond to a load balancer roughly roughly not always but a lot of the time",
    "start": "458639",
    "end": "465419"
  },
  {
    "text": "um and then application developers can create route of different types HTTP routers about terminated HTTP traffic",
    "start": "465419",
    "end": "471479"
  },
  {
    "text": "there's TLS route TCP route UDP route a bunch of other stuff um but the the key part here is that we're sort of trying to break things",
    "start": "471479",
    "end": "477360"
  },
  {
    "text": "down by a persona and so when we're talking about these personas it's pretty common that say the",
    "start": "477360",
    "end": "483360"
  },
  {
    "text": "Gateway and the app and the HTTP route will be owned by different people because they're different personas a lot",
    "start": "483360",
    "end": "488880"
  },
  {
    "text": "of sometimes maybe they won't maybe they'll all be all these personas will simultaneously exist in the same person but the whole point of it is that we're",
    "start": "488880",
    "end": "495300"
  },
  {
    "text": "designing it so they don't have to and so what we ended up doing is we ended up trying to find ways that we",
    "start": "495300",
    "end": "501660"
  },
  {
    "text": "could solve this sort of problem where you've got a shared a shared Gateway in a shared namespace",
    "start": "501660",
    "end": "507060"
  },
  {
    "text": "and then you have HTTP routes living in the individual app name spaces that refer to that shared Gateway and so this",
    "start": "507060",
    "end": "514320"
  },
  {
    "text": "is a this is again a classic hey we want to be able to do across namespace reference kind of problem and we but we",
    "start": "514320",
    "end": "521159"
  },
  {
    "text": "want you know we want there to be this agreement between these two parties between the owner of the Gateway and the",
    "start": "521159",
    "end": "526200"
  },
  {
    "text": "owner of the HTTP Rel um so the way that we ended up doing",
    "start": "526200",
    "end": "531240"
  },
  {
    "text": "that is because Gateway is a new thing it's a new CID and we have control of the",
    "start": "531240",
    "end": "537480"
  },
  {
    "text": "entire spec and we can change anything we like um the way that we did it was that we made it so that HTTP routes basically",
    "start": "537480",
    "end": "544920"
  },
  {
    "text": "request so you can see on the on the right hand side here um the HD period has a parent ref",
    "start": "544920",
    "end": "550740"
  },
  {
    "text": "section that specifies the name and the namespace of a Gateway um that's actually there's actually a",
    "start": "550740",
    "end": "556740"
  },
  {
    "text": "few other fields in there that we're not using here you can do other types of things other than Gateway but you know the important part for this talk is that",
    "start": "556740",
    "end": "563580"
  },
  {
    "text": "uh you know the shared Gateway is in a different namespace to the httpr and so",
    "start": "563580",
    "end": "569160"
  },
  {
    "text": "on the shared gateway then you have this allowed route stands up that lets you say hey only namespaces that have the",
    "start": "569160",
    "end": "577320"
  },
  {
    "text": "share Gateway access true label are allowed to are allowed to have HTTP routes use this use this Gateway and so",
    "start": "577320",
    "end": "584760"
  },
  {
    "text": "that's that's again this is the two-way handshake right like you've got the HTTP here out requesting to be able to use a",
    "start": "584760",
    "end": "589860"
  },
  {
    "text": "Gateway and the Gateway has to sort of except it's almost like the allowed routes is almost like building a lock",
    "start": "589860",
    "end": "595560"
  },
  {
    "text": "and then the HTTP route you know may have the right key and so again two-way",
    "start": "595560",
    "end": "601019"
  },
  {
    "text": "handshakes that's the order of the day here but yeah and this one was only possible because we control both sides the spec",
    "start": "601019",
    "end": "607980"
  },
  {
    "text": "of both sides of these objects so when we start talking about uh yeah hang on I",
    "start": "607980",
    "end": "614100"
  },
  {
    "text": "haven't missed anything there good good um so when we start talking about core objects though we can't change secret or",
    "start": "614100",
    "end": "621959"
  },
  {
    "text": "service or you know any of the other core kubernetes objects there because they're they're GA objects and you know",
    "start": "621959",
    "end": "629459"
  },
  {
    "text": "we don't get to make changes to them so we had we needed to come up with a way that we could have owners of those",
    "start": "629459",
    "end": "635940"
  },
  {
    "text": "objects be able to do this sort of um you know this sort of granting and permissions",
    "start": "635940",
    "end": "641459"
  },
  {
    "text": "uh and so that's that's what reference Grant is reference Grant is the same idea that we had with that prior art of",
    "start": "641459",
    "end": "648480"
  },
  {
    "text": "Contours with the TLs certificate delegation just you know kicked up a notch",
    "start": "648480",
    "end": "653760"
  },
  {
    "text": "um you know to make it a bit more generic so here's a reference Grant um this reference Grant uh allow sits in the app",
    "start": "653760",
    "end": "661620"
  },
  {
    "text": "namespace with the service it allows uh",
    "start": "661620",
    "end": "667440"
  },
  {
    "text": "references from HTTP routes in the namespace prod to uh anything that's a",
    "start": "667440",
    "end": "673620"
  },
  {
    "text": "service in the app namespace so you know pretty like reasonably simple spec here",
    "start": "673620",
    "end": "680220"
  },
  {
    "text": "um yeah it's all just about creating that lock that sort of says I allow I",
    "start": "680220",
    "end": "685800"
  },
  {
    "text": "explicitly allow this access and we're very careful here that there's no implied access here if you create an",
    "start": "685800",
    "end": "691860"
  },
  {
    "text": "empty spec it means nothing you have to actively opt in for every one of these fields you have to put them in specifically there is no sort of default",
    "start": "691860",
    "end": "699240"
  },
  {
    "text": "behavior for a reference green unless you specifically put things in",
    "start": "699240",
    "end": "704940"
  },
  {
    "text": "and so here's another one that's uh secret similar idea um you know this one uh in in the",
    "start": "704940",
    "end": "711480"
  },
  {
    "text": "Gateway API on the gateways are reference to less config so they're the only ones that need to be able to",
    "start": "711480",
    "end": "716700"
  },
  {
    "text": "reference uh secrets and so this one allows references from the Gateway in the prod namespace to secrets in the",
    "start": "716700",
    "end": "723959"
  },
  {
    "text": "secrets of here namespace so yeah same idea um you know it's just allowing those of",
    "start": "723959",
    "end": "729660"
  },
  {
    "text": "allowing those references uh in",
    "start": "729660",
    "end": "734000"
  },
  {
    "text": "so yeah so the the here's the design goals for a reference Grant you know for",
    "start": "734940",
    "end": "740040"
  },
  {
    "text": "things that we can't we couldn't change the spec of easily uh service and secret are the first ones but basically you can",
    "start": "740040",
    "end": "745620"
  },
  {
    "text": "use these for anything that you can't easily add fields to both sides of",
    "start": "745620",
    "end": "750779"
  },
  {
    "text": "um there I'll mention a bit more later but um some of the folks from uh Sig storage have used this for um some new",
    "start": "750779",
    "end": "758279"
  },
  {
    "text": "support in uh PVC controller um to be able to do cross namespace references to PVS which I thought was pretty neat",
    "start": "758279",
    "end": "765959"
  },
  {
    "text": "um but yeah and the other key things here is it's owned by the owner of the granted object and lives in the same namespace we yeah sure",
    "start": "765959",
    "end": "774259"
  },
  {
    "text": "the example we gave was a secret does it make a copy of the secret was it in the other name space no no I said it's",
    "start": "774720",
    "end": "781019"
  },
  {
    "text": "literally just the they see so the question was um what do I mean by the the granted object does it make a copy",
    "start": "781019",
    "end": "786720"
  },
  {
    "text": "of the secret no the original secret stays where it is and then the controller that you implement this with",
    "start": "786720",
    "end": "792360"
  },
  {
    "text": "needs to respect this Behavior it's one of the you know it's one of the problems that if you want your controller to",
    "start": "792360",
    "end": "798120"
  },
  {
    "text": "support reference Grant you have to like watch reference grants from everywhere and you have to you have to implement",
    "start": "798120",
    "end": "804240"
  },
  {
    "text": "this behavior that says you don't allow cross namespace references unless there's a reference grant that allows it",
    "start": "804240",
    "end": "811040"
  },
  {
    "text": "yes exactly yeah so yeah yeah so yes you do well you're",
    "start": "813360",
    "end": "818519"
  },
  {
    "text": "assuming that the controller can just repeating for the recording yeah",
    "start": "818519",
    "end": "823339"
  },
  {
    "text": "exactly yeah yeah so so it's not it's not that you're I",
    "start": "825779",
    "end": "831300"
  },
  {
    "text": "mean we actually call this reference policy originally but that was an even worse name um because we have uh in Gateway API we",
    "start": "831300",
    "end": "837420"
  },
  {
    "text": "have another thing called policy attachment that is completely different to this so we wanted to not reuse the same word for two things uh which you",
    "start": "837420",
    "end": "843480"
  },
  {
    "text": "know be naming no no but yeah so I think the the key Parts here are that the you",
    "start": "843480",
    "end": "848880"
  },
  {
    "text": "know the secret lives where it is the controller that is implementing this whole Behavior needs read access to like",
    "start": "848880",
    "end": "854820"
  },
  {
    "text": "you know everything that you want to Grant access to everywhere um again this comes from the world of",
    "start": "854820",
    "end": "860100"
  },
  {
    "text": "Ingress where it's quite common for your Ingress controller to have read access to Secrets across the entire cluster uh",
    "start": "860100",
    "end": "865980"
  },
  {
    "text": "whether or not that's a good idea that is historically how it's been if you want to be able to do a very Dynamic Ingress controller where you have",
    "start": "865980",
    "end": "873839"
  },
  {
    "text": "um you know you can create an Ingress or HD proxy or a Gateway or a route anywhere then and you practically",
    "start": "873839",
    "end": "881220"
  },
  {
    "text": "there's no way around that like you can't you can't get away from the fact you have to just grant a bear read access to all secrets and that's because",
    "start": "881220",
    "end": "888360"
  },
  {
    "text": "all although their secrets have a type you can't sub you can you can't like sub",
    "start": "888360",
    "end": "893820"
  },
  {
    "text": "allocate the access that are back based on the type ideally you would have our back that says only Grant access to TLS",
    "start": "893820",
    "end": "901139"
  },
  {
    "text": "Secrets but we don't have that we've only got buy by kind not by resource technically but you know but not by",
    "start": "901139",
    "end": "907560"
  },
  {
    "text": "subtype um great question thank you um so yeah so the",
    "start": "907560",
    "end": "914040"
  },
  {
    "text": "because it we really wanted to avoid the problem of having to have the thing that",
    "start": "914040",
    "end": "919500"
  },
  {
    "text": "we were doing building to do cross namespace references have cross namespace references itself so that's",
    "start": "919500",
    "end": "924540"
  },
  {
    "text": "why the reference Grant lives in the same has to live in alongside the thing that you're granting access to so that",
    "start": "924540",
    "end": "929639"
  },
  {
    "text": "you don't have that chicken and egg problem um the it groups access it grants access",
    "start": "929639",
    "end": "934860"
  },
  {
    "text": "to things by a group uh kind and namespace um the idea here being that you know if",
    "start": "934860",
    "end": "941160"
  },
  {
    "text": "right now it's it default the group in the kind default to the Gateway API",
    "start": "941160",
    "end": "946199"
  },
  {
    "text": "um group and kind so that you have like config when you're doing Gateway API ones um but the um",
    "start": "946199",
    "end": "952920"
  },
  {
    "text": "but yeah and and then of course it allows a namespace um",
    "start": "952920",
    "end": "958339"
  },
  {
    "text": "uh I used label selectors there for the um the reference Grant does not",
    "start": "958339",
    "end": "964139"
  },
  {
    "text": "currently allow label selectors though so the um the HD appear out and Gateway interaction does allow label selectors",
    "start": "964139",
    "end": "969899"
  },
  {
    "text": "but the reference Grant one does not that's because when you have",
    "start": "969899",
    "end": "975060"
  },
  {
    "text": "um the label selectors plus the reference Grant plus all the other things you've got to watch adding in",
    "start": "975060",
    "end": "980279"
  },
  {
    "text": "label selectors for namespaces means you also have to watch namespaces and then you have like a whole extra reconciliation Loop in in case of",
    "start": "980279",
    "end": "987300"
  },
  {
    "text": "namespace label updates and so this is just about making these a little bit easier to implement",
    "start": "987300",
    "end": "993000"
  },
  {
    "text": "um yeah when I come to the cap there's a couple of changes that people have requested and one that is one of them so",
    "start": "993000",
    "end": "999540"
  },
  {
    "text": "um yeah here's some other notes uh I think I talked about this uh the reference Grant has to be fully reconciled so you can't just say hey I",
    "start": "999540",
    "end": "1006800"
  },
  {
    "text": "saw a reference granted startup now things are good you have to watch the reference grants and if the reference Grant is removed that constitutes",
    "start": "1006800",
    "end": "1013220"
  },
  {
    "text": "revocation of that of the of the granted access and so if someone removes a",
    "start": "1013220",
    "end": "1018680"
  },
  {
    "text": "reference grant that allows access to a TLS secret for a Gateway you have removed effectively removed the TLs",
    "start": "1018680",
    "end": "1024079"
  },
  {
    "text": "secret and that Gateway is now invalid because there's no TLS Secret and so the exact Behavior here can",
    "start": "1024079",
    "end": "1029839"
  },
  {
    "text": "depend on the on the exact type of reference and what you're doing with it and a bunch of other stuff like that but the key part here is that if you revoke",
    "start": "1029839",
    "end": "1036438"
  },
  {
    "text": "the reference Grant by deleting it or by changing it such that the thing that you were referencing doesn't it is no longer",
    "start": "1036439",
    "end": "1042740"
  },
  {
    "text": "in scope then you have to revoke the access um and again yeah controllers are expected",
    "start": "1042740",
    "end": "1048980"
  },
  {
    "text": "to be out to be granted very broad read access and then self-limit based on the reference Grant",
    "start": "1048980",
    "end": "1055160"
  },
  {
    "text": "um so yeah I mean that doesn't help in the case that you're worried about a controller compromise you know like if",
    "start": "1055160",
    "end": "1060260"
  },
  {
    "text": "you're worried about your Ingress controller being compromised and then get having a read access or this does not help you um you know I think that is",
    "start": "1060260",
    "end": "1066799"
  },
  {
    "text": "definitely a problem that we all should think about solving but this is not designed to solve that problem",
    "start": "1066799",
    "end": "1072860"
  },
  {
    "text": "um in notably right now there is no way to Grant access to all namespaces",
    "start": "1072860",
    "end": "1079520"
  },
  {
    "text": "um you know we talked about maybe using a special star name to say it to mean all namespaces again I'm kind of in",
    "start": "1079520",
    "end": "1087620"
  },
  {
    "text": "favor of that because my my experience with this has been a lot of the time people are like I know what I'm doing I",
    "start": "1087620",
    "end": "1094760"
  },
  {
    "text": "want to be insecure and I'm like that's fine as long as you're very clearly opting into something that's a terrible",
    "start": "1094760",
    "end": "1100100"
  },
  {
    "text": "idea um you know in general and so having to take definite action to do something",
    "start": "1100100",
    "end": "1105500"
  },
  {
    "text": "like really insecure is sort of my design goals for an API",
    "start": "1105500",
    "end": "1111100"
  },
  {
    "text": "um sure so next steps uh in terms of next steps um yeah as I said it's already used in",
    "start": "1111260",
    "end": "1117080"
  },
  {
    "text": "sync storage for cross namespace data data sources for presenting volume claims so you can right now uh it's in",
    "start": "1117080",
    "end": "1124580"
  },
  {
    "text": "Alpha uh in the latest release of kubernetes but in a persistent volume claim you can reference a snapshot of a",
    "start": "1124580",
    "end": "1131419"
  },
  {
    "text": "persistent volume that's in another namespace using a reference Grant object and so",
    "start": "1131419",
    "end": "1136700"
  },
  {
    "text": "you know when the the focus on storage were doing that work they were sort of like I kind of sucks that we've got to",
    "start": "1136700",
    "end": "1142460"
  },
  {
    "text": "import all the Gateway API objects just to be able to get reference Grant and we were like we agree that does kind of",
    "start": "1142460",
    "end": "1147740"
  },
  {
    "text": "suck so um we were hoping to we opened a cap to uh move reference Grant to a new",
    "start": "1147740",
    "end": "1155059"
  },
  {
    "text": "API Group Home um and so yeah uh the two those two QR",
    "start": "1155059",
    "end": "1160220"
  },
  {
    "text": "codes are the the blog post and the and the cap itself um that cap uh as of like two days ago",
    "start": "1160220",
    "end": "1167000"
  },
  {
    "text": "has actually been merged uh as provisional however um one of the things that happened is uh",
    "start": "1167000",
    "end": "1175880"
  },
  {
    "text": "the all the reviewers which I was really surprised about were like oh no we don't want this to be a CID uh the SQL reviews",
    "start": "1175880",
    "end": "1181580"
  },
  {
    "text": "are like no this should not be a CID this should be an entry core resource and I was like uh okay that's surprising",
    "start": "1181580",
    "end": "1187820"
  },
  {
    "text": "um I thought everyone would be more in favor of this being a crd but in order for it to be a core resource it needs to",
    "start": "1187820",
    "end": "1193039"
  },
  {
    "text": "be much more generic than it currently is it currently makes a lot of assumptions about the fact that you're running probably running something like",
    "start": "1193039",
    "end": "1198380"
  },
  {
    "text": "an Ingress controller and about what sorts of things you're talking about and what sorts of access you're granting",
    "start": "1198380",
    "end": "1204260"
  },
  {
    "text": "most importantly you're like you're almost always granting read access or read-only access to something but you",
    "start": "1204260",
    "end": "1210500"
  },
  {
    "text": "know the stick author viewers raise the very reasonable question of what about if you want to do a cross namespace",
    "start": "1210500",
    "end": "1215660"
  },
  {
    "text": "reference where you're kind of implicitly granting some sort of right access you know like and and you want to",
    "start": "1215660",
    "end": "1221780"
  },
  {
    "text": "restrict that separately to the read access so you know we're looking it looks like probably we're going to need to add like some other stuff like verbs",
    "start": "1221780",
    "end": "1228860"
  },
  {
    "text": "to sort of further slice the access that you granting down and some other stuff like that so really interesting work the",
    "start": "1228860",
    "end": "1237140"
  },
  {
    "text": "original the initial cap has merged as provisional and so we're iterating on that cap right now and looking at doing",
    "start": "1237140",
    "end": "1243020"
  },
  {
    "text": "some of the stuff like I just mentioned the um and yeah yeah I think",
    "start": "1243020",
    "end": "1248480"
  },
  {
    "text": "that part in particular will be really interesting I mean I'd be really happy if this ended up as a core resource in a",
    "start": "1248480",
    "end": "1253940"
  },
  {
    "text": "future version of kubernetes it'll be really great I think that it will be really handy for people notably nobody",
    "start": "1253940",
    "end": "1260120"
  },
  {
    "text": "is suggesting that although this resource might be in core it will not be reconciled in core it'll be like Ingress where the the type itself existed in the",
    "start": "1260120",
    "end": "1268100"
  },
  {
    "text": "core spec but in order to have get any Behavior out of it you need to install a controller that will reconcile it for",
    "start": "1268100",
    "end": "1273799"
  },
  {
    "text": "you right so um I think everyone is agreement that it's going to work very much like",
    "start": "1273799",
    "end": "1279260"
  },
  {
    "text": "Ingress in that respect so you'll need to install like a reference compatible controller and one of the other things that's",
    "start": "1279260",
    "end": "1284900"
  },
  {
    "text": "really interesting about the design here is there probably will end up being multiple reference Grant controllers in",
    "start": "1284900",
    "end": "1290780"
  },
  {
    "text": "the class in the cluster you know some of them might be a Gateway API one some of them might be a storage one there",
    "start": "1290780",
    "end": "1296539"
  },
  {
    "text": "might be some other ones and they're all going to need to have some way to interact and also then",
    "start": "1296539",
    "end": "1301940"
  },
  {
    "text": "somewhere some standard way of feeding back whether or not your reference Grant is in use that is probably one of our",
    "start": "1301940",
    "end": "1307820"
  },
  {
    "text": "biggest areas of upcoming work is how do we make it clear to you the user that",
    "start": "1307820",
    "end": "1313280"
  },
  {
    "text": "the reference grant that you have created is actually correctly configured and is being used correctly you know or",
    "start": "1313280",
    "end": "1319400"
  },
  {
    "text": "more importantly if you want to go and delete this reference Grant how do you know if 100 people are using it or if",
    "start": "1319400",
    "end": "1324860"
  },
  {
    "text": "nobody's using it right like that seems really important to me too that uh yeah you wouldn't want to delete the wrong",
    "start": "1324860",
    "end": "1329960"
  },
  {
    "text": "reference Grant and have every like 100 people be like oh my God you know my TLS site just went down because you deleted",
    "start": "1329960",
    "end": "1335240"
  },
  {
    "text": "the you effectively deleted the key pair the TLs keeper that would suck so they're having some feedback available",
    "start": "1335240",
    "end": "1341240"
  },
  {
    "text": "to people that uh that's that stuff um be sorted out would be good",
    "start": "1341240",
    "end": "1346700"
  },
  {
    "text": "um so I have talked much faster than I anticipated um so you guys are all going to get",
    "start": "1346700",
    "end": "1352820"
  },
  {
    "text": "heaps of time for questions um but here's my takeaways so across the namespace reference that's so hard",
    "start": "1352820",
    "end": "1358220"
  },
  {
    "text": "really hard it's really really important to do them correctly but it's really really easy to get them wrong and so one",
    "start": "1358220",
    "end": "1363740"
  },
  {
    "text": "of the things I wanted to do with this talk was to sort of have a way that you know to sort of tell",
    "start": "1363740",
    "end": "1368780"
  },
  {
    "text": "people like hey that the key thing here is just that agreement between the two parties you know making sure that you",
    "start": "1368780",
    "end": "1376520"
  },
  {
    "text": "have the agreement between the two parties is the right thing to do here sorry",
    "start": "1376520",
    "end": "1383600"
  },
  {
    "text": "um and then so multiple patterns are definitely possible to do this to do this sort of uh Crossing trust domain uh",
    "start": "1383780",
    "end": "1389120"
  },
  {
    "text": "relationship yeah we've already got two uh you know about two examples today the Gateway uh HTTP route mapping and then",
    "start": "1389120",
    "end": "1396260"
  },
  {
    "text": "reference Grant itself um so yeah as I said",
    "start": "1396260",
    "end": "1401720"
  },
  {
    "text": "that was a lot faster than it was when I practiced I think I'm talking much faster today so um we have a lot of time",
    "start": "1401720",
    "end": "1407360"
  },
  {
    "text": "for questions uh really sorry about that but please feel free to hit me up",
    "start": "1407360",
    "end": "1412419"
  },
  {
    "text": "maybe I have a PPI key for something that I'm falling outside I have a bunch of services",
    "start": "1417200",
    "end": "1424299"
  },
  {
    "text": "forward",
    "start": "1429740",
    "end": "1432740"
  },
  {
    "text": "well so I would argue that the thing that you are using is going to have to read kubernetes resources in order to be",
    "start": "1435919",
    "end": "1441799"
  },
  {
    "text": "able to reconcile the reference Grant objects that makes it a controller right like you're building a controller that is gonna that is gonna maintain like",
    "start": "1441799",
    "end": "1449059"
  },
  {
    "text": "some sort of custom reference to this API key secret um you know like so you the thing that",
    "start": "1449059",
    "end": "1455120"
  },
  {
    "text": "you will have to build to do that is going to have to be a controller like you're going to have to have some something that watches",
    "start": "1455120",
    "end": "1461179"
  },
  {
    "text": "um for reference grants knows about API key secrets knows like which ones are relevant ones",
    "start": "1461179",
    "end": "1468440"
  },
  {
    "text": "and you know and how you would grant them and then um allows the allows the",
    "start": "1468440",
    "end": "1474440"
  },
  {
    "text": "thing that you want to be able to use that secret to use it um you most of what we've done here is about",
    "start": "1474440",
    "end": "1479900"
  },
  {
    "text": "if you have a um if you have a kubernetes object that needs to reference another kubernetes",
    "start": "1479900",
    "end": "1485419"
  },
  {
    "text": "object not like a service that needs to reference a kubernetes object in a case that you're talking about where um you",
    "start": "1485419",
    "end": "1492020"
  },
  {
    "text": "know where probably you'd want you know if it's an API key or something like that usually you'd want to mount that into into the Pod as like a as a volume",
    "start": "1492020",
    "end": "1498440"
  },
  {
    "text": "is usually the way that you would consume an API key like that um and so you you might want to be if",
    "start": "1498440",
    "end": "1506299"
  },
  {
    "text": "you want to be able to have something like that you know you can absolutely can do it using a reference Grant but you would need then a custom controller",
    "start": "1506299",
    "end": "1512419"
  },
  {
    "text": "to sort of manage the how do you get the secret to the right place probably if you're spending that effort you'd almost",
    "start": "1512419",
    "end": "1518120"
  },
  {
    "text": "be better off building a like a CSI plugin to handle the secret to handle",
    "start": "1518120",
    "end": "1524720"
  },
  {
    "text": "the secret so you can build a secret store plug-in that will when that will",
    "start": "1524720",
    "end": "1529940"
  },
  {
    "text": "provide you a virtual file on disk that when you access it we'll reach out via some web call to somewhere and and give",
    "start": "1529940",
    "end": "1535580"
  },
  {
    "text": "you give the contents back in a standard way um so there's a few ones that we'll talk to Vault or you know uh the various Key",
    "start": "1535580",
    "end": "1542779"
  },
  {
    "text": "Management stores of clouds and stuff like that so you can effectively mount a secret straight from some other key store into your pod and and then every",
    "start": "1542779",
    "end": "1550159"
  },
  {
    "text": "time the Pod accesses it it gets the current value um so yeah I think I see what you're",
    "start": "1550159",
    "end": "1555559"
  },
  {
    "text": "saying um but yeah if you did build something that wanted to do that sort of cross Nature's reference you're building a",
    "start": "1555559",
    "end": "1560779"
  },
  {
    "text": "controller like you know it's going to have to reconcile the reference credits because again if you delete the",
    "start": "1560779",
    "end": "1566120"
  },
  {
    "text": "reference Grant the access needs to go away you need to revoke it is that",
    "start": "1566120",
    "end": "1572299"
  },
  {
    "text": "yeah yeah feel free to argue with me like I'm not not saying that I'm the only one who's right here like",
    "start": "1572299",
    "end": "1579220"
  },
  {
    "text": "yo uh yeah yep",
    "start": "1579220",
    "end": "1584658"
  },
  {
    "text": "yes yes exactly yeah and so that's to prevent exactly the sort of thing because if the reference Grant can live",
    "start": "1593659",
    "end": "1598760"
  },
  {
    "text": "in a different name space to the thing it's granting access to then you're going to need a reference grant for the reference Grant right like that doesn't",
    "start": "1598760",
    "end": "1606020"
  },
  {
    "text": "seem like a good idea for anybody like so that's what it was much simpler to make it that it also it helps with the",
    "start": "1606020",
    "end": "1611779"
  },
  {
    "text": "the notion of ownership that um if the uh you that the person who owns the object",
    "start": "1611779",
    "end": "1618919"
  },
  {
    "text": "should own the reference Grant you know it should be the same person it's actually one of the things that the uh",
    "start": "1618919",
    "end": "1624020"
  },
  {
    "text": "came up in the kept review was that um let's see Authority reviewers would like",
    "start": "1624020",
    "end": "1629240"
  },
  {
    "text": "us to mandate some sort of our back check that if you're creating a reference grant that allows access to a",
    "start": "1629240",
    "end": "1635120"
  },
  {
    "text": "secret that you as the user have access to that secret um so that one is actually a pretty",
    "start": "1635120",
    "end": "1641179"
  },
  {
    "text": "interesting problem of actually implementing that check um and so like yeah we'll need to do the",
    "start": "1641179",
    "end": "1647419"
  },
  {
    "text": "controller that implements it would need to do like subject access review for the person creating the thing as like a validating webhook or something",
    "start": "1647419",
    "end": "1654140"
  },
  {
    "text": "um so yeah that's a pretty interesting design that I'm looking forward to talking to other people more about",
    "start": "1654140",
    "end": "1660620"
  },
  {
    "text": "yeah so again cool awesome thanks",
    "start": "1660620",
    "end": "1664658"
  },
  {
    "text": "yeah so I think that so the question was um with the uh bringing a reference going into core um what's going to",
    "start": "1675980",
    "end": "1682159"
  },
  {
    "text": "happen with the allowed routes and stuff I think we'll probably will keep that the same because um uh it allows sort of",
    "start": "1682159",
    "end": "1688520"
  },
  {
    "text": "a really clear thing for people who don't necessarily need to go off and learn about reference Grant like it's a very clear relationship",
    "start": "1688520",
    "end": "1695480"
  },
  {
    "text": "sorry too much talking um about it yeah yeah yeah yeah yeah yeah totally yeah I mean I practically",
    "start": "1695480",
    "end": "1702440"
  },
  {
    "text": "practically I think that we'll um that we will end up uh sort of owning the the definition anyway even once it moves",
    "start": "1702440",
    "end": "1709039"
  },
  {
    "text": "into court um yeah so um yeah like I said I think that the uh",
    "start": "1709039",
    "end": "1714320"
  },
  {
    "text": "that um the the level of work that we've got to do uh is like yeah super interesting so",
    "start": "1714320",
    "end": "1721820"
  },
  {
    "text": "yeah does anyone else have other questions if not like maybe I'll uh pull",
    "start": "1721820",
    "end": "1727159"
  },
  {
    "text": "up that cap and walk you through a couple of things because you've still got ages um yeah okay let me pull up that kit",
    "start": "1727159",
    "end": "1734919"
  },
  {
    "text": "uh let me find a link",
    "start": "1737779",
    "end": "1740919"
  },
  {
    "text": "it's Wi-Fi hoping it is good is that",
    "start": "1750380",
    "end": "1757840"
  },
  {
    "text": "the night at the pr",
    "start": "1757940",
    "end": "1760898"
  },
  {
    "text": "oud",
    "start": "1769460",
    "end": "1771880"
  },
  {
    "text": "Okay so here's the cap you know most of what is",
    "start": "1779360",
    "end": "1784640"
  },
  {
    "text": "in there thank you very much you're a legend",
    "start": "1784640",
    "end": "1789580"
  },
  {
    "text": "most of what is in there is what I sort of went over already um you know one of the things uh the phrases that uh that we did come up with",
    "start": "1791659",
    "end": "1798320"
  },
  {
    "text": "that I do like so you know as usual for a cap you sort of go through like Risk",
    "start": "1798320",
    "end": "1803360"
  },
  {
    "text": "and mitigations and stuff like no default implementation as I mentioned that's one of the things you know there you'll need to provide your own",
    "start": "1803360",
    "end": "1809360"
  },
  {
    "text": "implementation um you know I mean it is a pretty big risk",
    "start": "1809360",
    "end": "1815059"
  },
  {
    "text": "that allowing any cross namespace references sort of does weaken the idea that the namespace is your fundamental",
    "start": "1815059",
    "end": "1820220"
  },
  {
    "text": "unit I I would argue that you know this is weakening a very controlled careful",
    "start": "1820220",
    "end": "1825380"
  },
  {
    "text": "way and that's what that's the best that we can hope for um but yeah like the thing so the",
    "start": "1825380",
    "end": "1830899"
  },
  {
    "text": "reference going object is half of a handshake that's one of the most important things that you know I would like you to take away from this is you",
    "start": "1830899",
    "end": "1836600"
  },
  {
    "text": "know you've got to have the handshake and the thing that we're talking about here it's only half you know the other half is that something has to make a",
    "start": "1836600",
    "end": "1842360"
  },
  {
    "text": "reference and there needs to be a way for that thing to make the reference so um",
    "start": "1842360",
    "end": "1848299"
  },
  {
    "text": "yeah and so the um and so you can see here that we've sort of",
    "start": "1848299",
    "end": "1854240"
  },
  {
    "text": "ended up needing to bring in the thing that you know you need to have uh read access at least to the things that",
    "start": "1854240",
    "end": "1859520"
  },
  {
    "text": "you're gaining access to um so yeah part of implementing control for this we'll be doing a subject accessory review of the person who's",
    "start": "1859520",
    "end": "1866419"
  },
  {
    "text": "created that object um and making sure that that person has access to the thing they're graining",
    "start": "1866419",
    "end": "1872360"
  },
  {
    "text": "access to um yeah this this last this one is one that I was a bit",
    "start": "1872360",
    "end": "1877820"
  },
  {
    "text": "sad about um in the Gateway API reference Grant we chose to use kind rather than resource",
    "start": "1877820",
    "end": "1884419"
  },
  {
    "text": "um so who here knows about the distinction between kind and resource okay one person yeah",
    "start": "1884419",
    "end": "1890720"
  },
  {
    "text": "um most of the time you this doesn't matter um but a kind is a singular object",
    "start": "1890720",
    "end": "1897080"
  },
  {
    "text": "um a singular name uh capitalized it's what you see at the top of your most yaml files but um it does not uniquely",
    "start": "1897080",
    "end": "1904760"
  },
  {
    "text": "identify an object like an object type a resource is actually the portion of the",
    "start": "1904760",
    "end": "1910399"
  },
  {
    "text": "uh like the rescue URL that does uniquely identify a resource type so",
    "start": "1910399",
    "end": "1917240"
  },
  {
    "text": "because this API is going to end up being very generic we can't get away with using the sort of may not be Unique",
    "start": "1917240",
    "end": "1924440"
  },
  {
    "text": "Kind even though using it would be much easier for people to understand um and so practically what it means is",
    "start": "1924440",
    "end": "1931279"
  },
  {
    "text": "that instead of doing something like this where you're going to be like kind Gateway you will need to be resource gateways",
    "start": "1931279",
    "end": "1938720"
  },
  {
    "text": "and so the resource is actually the one that you see in Q cattle and stuff like that if you you know if You tab complete",
    "start": "1938720",
    "end": "1944720"
  },
  {
    "text": "and you get like gateways in this case of this it'll be gateways.gateway.networking.kubernetes.io",
    "start": "1944720",
    "end": "1950120"
  },
  {
    "text": "is the name of the resource fully qualified name and so that's why we have to use the name that you can use for the",
    "start": "1950120",
    "end": "1955640"
  },
  {
    "text": "fully qualified name um unfortunately um you know as as Tim Hawkins said like",
    "start": "1955640",
    "end": "1962840"
  },
  {
    "text": "it kind of sucks that we have to do this but here we are like we can't change it now",
    "start": "1962840",
    "end": "1968059"
  },
  {
    "text": "um yeah we've got the revocation behavior that I mentioned the um you know yeah deletion deletion of a",
    "start": "1968059",
    "end": "1973820"
  },
  {
    "text": "reference Grant means that the greatest actors granted access is revoked um so the",
    "start": "1973820",
    "end": "1980059"
  },
  {
    "text": "um one other thing here is it's like you need to remove any config generated but",
    "start": "1980059",
    "end": "1985220"
  },
  {
    "text": "it's kind of up to you exactly what that means right so for the storage for the storage use case that we talked about before",
    "start": "1985220",
    "end": "1991100"
  },
  {
    "text": "um they're actually saying if the reference going exists when you make the reference and the the the",
    "start": "1991100",
    "end": "1996140"
  },
  {
    "text": "persistent volume is provisioned that's okay that's enough if the reference Grant is later revoked you don't like",
    "start": "1996140",
    "end": "2002500"
  },
  {
    "text": "lose access to the volume because that would be pretty bad um whereas in the case of go API",
    "start": "2002500",
    "end": "2007899"
  },
  {
    "text": "it's kind of expected that if the TLs secret goes away then you can't serve you shouldn't be serving traffic out of",
    "start": "2007899",
    "end": "2014019"
  },
  {
    "text": "that Gateway anymore so it's it's a slightly different thing because it's a slightly different usage and so it's one of the things that's a bit tricky about",
    "start": "2014019",
    "end": "2019840"
  },
  {
    "text": "writing this is that um you know we have to have wording like some actions that",
    "start": "2019840",
    "end": "2025000"
  },
  {
    "text": "have been enabled you can't be undone but but no future actions should be allowed right so",
    "start": "2025000",
    "end": "2031960"
  },
  {
    "text": "um you know one of the hardest things about writing this sort of standard um so we had some examples here yeah I",
    "start": "2031960",
    "end": "2037960"
  },
  {
    "text": "would definitely recommend that if you are interested in this have a look at this cap obviously it's going to be important later we will keep you all",
    "start": "2037960",
    "end": "2045279"
  },
  {
    "text": "posted as this sort of makes into actual core I would imagine there'll be blog posts in the future",
    "start": "2045279",
    "end": "2051638"
  },
  {
    "text": "um as you can see you end up needing to put quite a lot of yo text around these sort",
    "start": "2051639",
    "end": "2057040"
  },
  {
    "text": "of things uh writing API specs turns out uh you need to be I have a lot more",
    "start": "2057040",
    "end": "2062618"
  },
  {
    "text": "sympathy I would say for people who write rfcs than I did before I started writing API specs I used to read rfcs",
    "start": "2062619",
    "end": "2068800"
  },
  {
    "text": "and was like oh how could you possibly write something so dry and I'm like that's because if it's not dry and boring then it contains ambiguity and",
    "start": "2068800",
    "end": "2076000"
  },
  {
    "text": "that means that Engineers will take great Delight in telling you all the ways in which it contains ambiguity and will make your day living hell until you",
    "start": "2076000",
    "end": "2082358"
  },
  {
    "text": "remove the ambiguity so um yeah but what about what about if you do",
    "start": "2082359",
    "end": "2088118"
  },
  {
    "text": "this Edge case oh yes okay we better cover that too um so yeah uh I think",
    "start": "2088119",
    "end": "2094599"
  },
  {
    "text": "the yeah that one of the other things that uh one of the other things that people have had an objection to is the",
    "start": "2094599",
    "end": "2100599"
  },
  {
    "text": "use of from and two as the names um you know I think as this is a more generic API than the",
    "start": "2100599",
    "end": "2107140"
  },
  {
    "text": "original Gateway API one it kind of makes a bit more sense to have like you know uh something like",
    "start": "2107140",
    "end": "2113980"
  },
  {
    "text": "subject from subject origin subject object like you know I was like you",
    "start": "2113980",
    "end": "2119680"
  },
  {
    "text": "could use subject object that's technically correct but it also means that you need to grammatically explain to people the difference between a",
    "start": "2119680",
    "end": "2125500"
  },
  {
    "text": "subject and an object um you know and people are generally pretty bad at that one so yeah uh we",
    "start": "2125500",
    "end": "2132220"
  },
  {
    "text": "look like we're going to be having a good old bike shooting session about uh about the names there but uh yeah so um",
    "start": "2132220",
    "end": "2138760"
  },
  {
    "text": "I feel like I'm starting to be a bit boring so I will uh sort of stop here that we're one of the things like I said",
    "start": "2138760",
    "end": "2144940"
  },
  {
    "text": "that we really need a lot of design work on and I would love to hear people's opinions on is how best to surface",
    "start": "2144940",
    "end": "2150880"
  },
  {
    "text": "information about how this thing is being used um the naive answer is I have a status",
    "start": "2150880",
    "end": "2155920"
  },
  {
    "text": "on the reference Grant the problem then is that if you have 10 controllers reconciling different types of reference",
    "start": "2155920",
    "end": "2161500"
  },
  {
    "text": "Grant every single one of them is going to need to write status to every reference Grant to say whether or not they're using it and so how do you",
    "start": "2161500",
    "end": "2168040"
  },
  {
    "text": "coordinate everybody writing into the one sub resource is really really hard",
    "start": "2168040",
    "end": "2173200"
  },
  {
    "text": "um and and ads produces lots of fun race conditions and eventual consistency  you know that basically makes",
    "start": "2173200",
    "end": "2180940"
  },
  {
    "text": "it really hard so yeah um I'm really interested in like spending a lot of time thinking about",
    "start": "2180940",
    "end": "2186700"
  },
  {
    "text": "that sort of stuff but yeah oh sorry yeah go",
    "start": "2186700",
    "end": "2191039"
  },
  {
    "text": "community",
    "start": "2193300",
    "end": "2195720"
  },
  {
    "text": "exactly yeah yeah yeah yeah so that you need to so either you need to be like",
    "start": "2202359",
    "end": "2208000"
  },
  {
    "text": "hey you are consuming reference grants in your resource your resource needs to have something that says the reference",
    "start": "2208000",
    "end": "2213280"
  },
  {
    "text": "Grant has been consumed because you know um what the thing is but then the owner of the reference Grant has no way of",
    "start": "2213280",
    "end": "2218500"
  },
  {
    "text": "knowing what what possible resources could be consuming it aside from what they have allowed right so",
    "start": "2218500",
    "end": "2225940"
  },
  {
    "text": "yeah exactly right like yeah so I mean there's there's a real interesting design space problem there about like",
    "start": "2225940",
    "end": "2231099"
  },
  {
    "text": "how do you communicate the intent back to the user how do you do that without creating like massive fan out problems",
    "start": "2231099",
    "end": "2236859"
  },
  {
    "text": "for the API server where like updating what object means you then need to go and update the status for like 100 other objects and things like that there's a",
    "start": "2236859",
    "end": "2243640"
  },
  {
    "text": "real risk in this sort of design so yeah there's a bunch of interesting really interesting sort of design work",
    "start": "2243640",
    "end": "2248740"
  },
  {
    "text": "there for this API but I think that you know as you can see like it has a lot of potential",
    "start": "2248740",
    "end": "2253960"
  },
  {
    "text": "um I think that making being able to make this sort of cross namespace more secure in like a standard way could be",
    "start": "2253960",
    "end": "2260140"
  },
  {
    "text": "really uh game changing for lots of different use cases so yeah um with that uh I've probably",
    "start": "2260140",
    "end": "2265300"
  },
  {
    "text": "taken up enough of your time uh yeah if if you have any other questions feel free to grab me here",
    "start": "2265300",
    "end": "2270460"
  },
  {
    "text": "um catch me on uh kubernetes slack at Young Nick um or all Grammy anywhere around today",
    "start": "2270460",
    "end": "2276099"
  },
  {
    "text": "so thanks very much everyone free time",
    "start": "2276099",
    "end": "2280859"
  }
]