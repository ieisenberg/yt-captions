[
  {
    "start": "0",
    "end": "66000"
  },
  {
    "text": "my name is Constance careless I was an",
    "start": "60",
    "end": "2909"
  },
  {
    "text": "envoy maintainer up till a few weeks ago",
    "start": "2909",
    "end": "4799"
  },
  {
    "text": "and I'm here to talk about reducing mean",
    "start": "4799",
    "end": "7080"
  },
  {
    "text": "time to detection of incidents with an",
    "start": "7080",
    "end": "8639"
  },
  {
    "text": "envoy service mesh yes I do come from",
    "start": "8639",
    "end": "11250"
  },
  {
    "text": "lift and so that will be the context of",
    "start": "11250",
    "end": "13740"
  },
  {
    "text": "how we're seeing everything today so",
    "start": "13740",
    "end": "15929"
  },
  {
    "text": "first I would like everyone in the room",
    "start": "15929",
    "end": "17640"
  },
  {
    "text": "to close our eyes and imagine you're",
    "start": "17640",
    "end": "20369"
  },
  {
    "text": "back home in your bed it's middle of the",
    "start": "20369",
    "end": "22410"
  },
  {
    "text": "night you're getting the best sleep you",
    "start": "22410",
    "end": "24600"
  },
  {
    "text": "could ever get wall away at a conference",
    "start": "24600",
    "end": "26039"
  },
  {
    "text": "in a hotel room and then you hear the",
    "start": "26039",
    "end": "29580"
  },
  {
    "text": "ding ding ding ding Pedro Duty is waking",
    "start": "29580",
    "end": "33000"
  },
  {
    "text": "it up at 3:30 9:00 in the morning pater",
    "start": "33000",
    "end": "36180"
  },
  {
    "text": "duties letting you know that front envoy",
    "start": "36180",
    "end": "38399"
  },
  {
    "text": "at lift success rate has dipped below",
    "start": "38399",
    "end": "41160"
  },
  {
    "text": "98% this is where the adrenaline kicks",
    "start": "41160",
    "end": "45149"
  },
  {
    "text": "in you're no longer asleep and your",
    "start": "45149",
    "end": "46890"
  },
  {
    "text": "start to panic who deployed at 3 o'clock",
    "start": "46890",
    "end": "50340"
  },
  {
    "text": "in the morning what do I do",
    "start": "50340",
    "end": "52530"
  },
  {
    "text": "how do I fix this lift is hard down and",
    "start": "52530",
    "end": "57660"
  },
  {
    "text": "I have no idea what to do and so this is",
    "start": "57660",
    "end": "61440"
  },
  {
    "text": "how I look like a 3 o'clock in the",
    "start": "61440",
    "end": "62670"
  },
  {
    "text": "morning when I get a page good thing is",
    "start": "62670",
    "end": "67229"
  },
  {
    "start": "66000",
    "end": "464000"
  },
  {
    "text": "it's actually afternoon and none of us",
    "start": "67229",
    "end": "69869"
  },
  {
    "text": "are on call for lift or any of our",
    "start": "69869",
    "end": "71640"
  },
  {
    "text": "hopefully none of our services that our",
    "start": "71640",
    "end": "73110"
  },
  {
    "text": "own company so as a group let's all",
    "start": "73110",
    "end": "75540"
  },
  {
    "text": "breathe in and breathe out today what",
    "start": "75540",
    "end": "83610"
  },
  {
    "text": "I'm going to do is walk us through this",
    "start": "83610",
    "end": "85530"
  },
  {
    "text": "incident and how an engineer at lift",
    "start": "85530",
    "end": "87570"
  },
  {
    "text": "would take steps to remediate the",
    "start": "87570",
    "end": "90390"
  },
  {
    "text": "situation and obviously we're going to",
    "start": "90390",
    "end": "93900"
  },
  {
    "text": "be using envoy to achieve that before we",
    "start": "93900",
    "end": "97020"
  },
  {
    "text": "actually start breaking down the problem",
    "start": "97020",
    "end": "98280"
  },
  {
    "text": "and the page here's just a simple",
    "start": "98280",
    "end": "100710"
  },
  {
    "text": "reminder of what lifts architecture was",
    "start": "100710",
    "end": "102060"
  },
  {
    "text": "I wasn't joking when you say you'd see",
    "start": "102060",
    "end": "103920"
  },
  {
    "text": "this form to format avert apology many",
    "start": "103920",
    "end": "106799"
  },
  {
    "text": "many times we have an edge envoy that",
    "start": "106799",
    "end": "110549"
  },
  {
    "text": "routes that proxies all their requests",
    "start": "110549",
    "end": "112229"
  },
  {
    "text": "that are coming from various clients on",
    "start": "112229",
    "end": "113759"
  },
  {
    "text": "the internet and then enforcing requests",
    "start": "113759",
    "end": "116820"
  },
  {
    "text": "to internal services on each of our",
    "start": "116820",
    "end": "119700"
  },
  {
    "text": "services and edge envoy there's an envoy",
    "start": "119700",
    "end": "122009"
  },
  {
    "text": "running the handles ingress and egress",
    "start": "122009",
    "end": "123479"
  },
  {
    "text": "traffic so",
    "start": "123479",
    "end": "128709"
  },
  {
    "text": "at lyft whenever we have a page we have",
    "start": "128709",
    "end": "130420"
  },
  {
    "text": "to send an instant response report email",
    "start": "130420",
    "end": "132040"
  },
  {
    "text": "the first one goes out john-boy is",
    "start": "132040",
    "end": "135310"
  },
  {
    "text": "paging due to success success rate dip",
    "start": "135310",
    "end": "137340"
  },
  {
    "text": "investigations ongoing operations a",
    "start": "137340",
    "end": "139840"
  },
  {
    "text": "little bit understanding of impact",
    "start": "139840",
    "end": "140890"
  },
  {
    "text": "update whenever we figure something else",
    "start": "140890",
    "end": "143469"
  },
  {
    "text": "out so this is what we know so far we",
    "start": "143469",
    "end": "147969"
  },
  {
    "text": "know that calls coming into edge envoy",
    "start": "147969",
    "end": "150129"
  },
  {
    "text": "are failing this is a piece or a page at",
    "start": "150129",
    "end": "153579"
  },
  {
    "text": "lift this is where everyone wakes up and",
    "start": "153579",
    "end": "155170"
  },
  {
    "text": "they snap to attention this also usually",
    "start": "155170",
    "end": "157840"
  },
  {
    "text": "means that there's some form of customer",
    "start": "157840",
    "end": "159189"
  },
  {
    "text": "impact and so we're on the west coast",
    "start": "159189",
    "end": "162669"
  },
  {
    "text": "3:49 is almost 7:00 a.m. on the East",
    "start": "162669",
    "end": "164709"
  },
  {
    "text": "Coast New York's a big market Boston's",
    "start": "164709",
    "end": "168579"
  },
  {
    "text": "big market East Coast it's something to",
    "start": "168579",
    "end": "170079"
  },
  {
    "text": "take very seriously",
    "start": "170079",
    "end": "171040"
  },
  {
    "text": "so just because we are sleeping doesn't",
    "start": "171040",
    "end": "172810"
  },
  {
    "text": "mean that other people across the",
    "start": "172810",
    "end": "174189"
  },
  {
    "text": "country are so we need to figure out",
    "start": "174189",
    "end": "176799"
  },
  {
    "text": "what is causing the success rate dip on",
    "start": "176799",
    "end": "181060"
  },
  {
    "text": "the yes on the left is a little bit of",
    "start": "181060",
    "end": "184810"
  },
  {
    "text": "diagram is showing what edge",
    "start": "184810",
    "end": "186069"
  },
  {
    "text": "configuration look like we do usually",
    "start": "186069",
    "end": "188109"
  },
  {
    "text": "group routes by domains and then the",
    "start": "188109",
    "end": "191139"
  },
  {
    "text": "routes and I'll determine which service",
    "start": "191139",
    "end": "192579"
  },
  {
    "text": "needs to go to for this one we're gonna",
    "start": "192579",
    "end": "196060"
  },
  {
    "text": "be caring about the prefix show map and",
    "start": "196060",
    "end": "197859"
  },
  {
    "text": "that Ford's request to map render and",
    "start": "197859",
    "end": "199750"
  },
  {
    "text": "everything else under this domain if it",
    "start": "199750",
    "end": "202150"
  },
  {
    "text": "hasn't matched a previous route it will",
    "start": "202150",
    "end": "203470"
  },
  {
    "text": "go to the render service the page that",
    "start": "203470",
    "end": "207599"
  },
  {
    "text": "triggered the alarm and our unfortunate",
    "start": "207599",
    "end": "209889"
  },
  {
    "text": "wake-up call it's just a ratio it's",
    "start": "209889",
    "end": "212530"
  },
  {
    "text": "looking at the total amount of 5-xx",
    "start": "212530",
    "end": "214389"
  },
  {
    "text": "errors over the total matter request",
    "start": "214389",
    "end": "216609"
  },
  {
    "text": "sent and so one of the easiest way to",
    "start": "216609",
    "end": "218859"
  },
  {
    "text": "actually identify what serves is causing",
    "start": "218859",
    "end": "220569"
  },
  {
    "text": "it it's just look at the 5x x per",
    "start": "220569",
    "end": "222489"
  },
  {
    "text": "service from the point of view bed envoy",
    "start": "222489",
    "end": "224650"
  },
  {
    "text": "and as we can see here it is the map",
    "start": "224650",
    "end": "227319"
  },
  {
    "text": "render service for whatever reason it is",
    "start": "227319",
    "end": "230019"
  },
  {
    "text": "returning an abnormal amount of 5x x so",
    "start": "230019",
    "end": "233069"
  },
  {
    "text": "to keep on figure out what so what to",
    "start": "233069",
    "end": "235659"
  },
  {
    "text": "see what we know so far is we know that",
    "start": "235659",
    "end": "237129"
  },
  {
    "text": "a request from some clients a to map",
    "start": "237129",
    "end": "241329"
  },
  {
    "text": "rendering or returning an error and with",
    "start": "241329",
    "end": "243639"
  },
  {
    "text": "a little bit of side investigation we",
    "start": "243639",
    "end": "245859"
  },
  {
    "text": "actually know that clients can actually",
    "start": "245859",
    "end": "247509"
  },
  {
    "text": "render a map and if you can't render a",
    "start": "247509",
    "end": "249519"
  },
  {
    "text": "map",
    "start": "249519",
    "end": "250000"
  },
  {
    "text": "no one's gonna request a lift so this is",
    "start": "250000",
    "end": "252159"
  },
  {
    "text": "pretty bad so how do we keep on figuring",
    "start": "252159",
    "end": "255370"
  },
  {
    "text": "out what's going on next this is a",
    "start": "255370",
    "end": "258820"
  },
  {
    "text": "snapshot of what our service service",
    "start": "258820",
    "end": "260349"
  },
  {
    "text": "dashboard is that lift",
    "start": "260349",
    "end": "261790"
  },
  {
    "text": "and this shows pretty much all",
    "start": "261790",
    "end": "263350"
  },
  {
    "text": "permutations between one service and",
    "start": "263350",
    "end": "265000"
  },
  {
    "text": "everything else it talks to you can also",
    "start": "265000",
    "end": "266800"
  },
  {
    "text": "limit it between survey and service B",
    "start": "266800",
    "end": "268590"
  },
  {
    "text": "this will show you the amount of",
    "start": "268590",
    "end": "270670"
  },
  {
    "text": "requests ups in response time success",
    "start": "270670",
    "end": "272710"
  },
  {
    "text": "rate what's really interesting about",
    "start": "272710",
    "end": "275560"
  },
  {
    "text": "this is it applies to every single",
    "start": "275560",
    "end": "277630"
  },
  {
    "text": "service that lifts since a lot of ways",
    "start": "277630",
    "end": "279400"
  },
  {
    "text": "use it every hop and the one thing that",
    "start": "279400",
    "end": "282430"
  },
  {
    "text": "we want to look at since we know that",
    "start": "282430",
    "end": "283930"
  },
  {
    "text": "map render is my returning errors is it",
    "start": "283930",
    "end": "287050"
  },
  {
    "text": "the maps or render service itself or is",
    "start": "287050",
    "end": "288910"
  },
  {
    "text": "it forwarding errors that I've seen from",
    "start": "288910",
    "end": "290110"
  },
  {
    "text": "other callers so we're gonna look at the",
    "start": "290110",
    "end": "292600"
  },
  {
    "text": "service errors from upstream services",
    "start": "292600",
    "end": "294330"
  },
  {
    "text": "and we're to see here that it is a",
    "start": "294330",
    "end": "296620"
  },
  {
    "text": "driver service so instead of looking",
    "start": "296620",
    "end": "299920"
  },
  {
    "text": "into how we can make map within focusing",
    "start": "299920",
    "end": "301990"
  },
  {
    "text": "our intentional map render we're gonna",
    "start": "301990",
    "end": "303250"
  },
  {
    "text": "keep on following the errors until we",
    "start": "303250",
    "end": "305200"
  },
  {
    "text": "see some root cause if it's either a",
    "start": "305200",
    "end": "307000"
  },
  {
    "text": "service itself or an external service or",
    "start": "307000",
    "end": "309700"
  },
  {
    "text": "maybe something else in one line now one",
    "start": "309700",
    "end": "313450"
  },
  {
    "text": "thing I want to clarify upstream versus",
    "start": "313450",
    "end": "315760"
  },
  {
    "text": "downstream we at Envoy we use those",
    "start": "315760",
    "end": "320080"
  },
  {
    "text": "terminology as well as you view it in",
    "start": "320080",
    "end": "321460"
  },
  {
    "text": "the context of the response map render",
    "start": "321460",
    "end": "323860"
  },
  {
    "text": "is dance no sir to driver because it",
    "start": "323860",
    "end": "326110"
  },
  {
    "text": "receives the response drivers upstream",
    "start": "326110",
    "end": "328210"
  },
  {
    "text": "to map render because it sends a",
    "start": "328210",
    "end": "329980"
  },
  {
    "text": "response one really awesome thing about",
    "start": "329980",
    "end": "332680"
  },
  {
    "text": "envoy that I will not show you today cuz",
    "start": "332680",
    "end": "334450"
  },
  {
    "text": "it could actually take about two three",
    "start": "334450",
    "end": "336100"
  },
  {
    "text": "hours to go through the entire seeing",
    "start": "336100",
    "end": "337510"
  },
  {
    "text": "all the different statistics is that",
    "start": "337510",
    "end": "339010"
  },
  {
    "text": "you're able to see all the stats of from",
    "start": "339010",
    "end": "341170"
  },
  {
    "text": "map render sending upstream requests to",
    "start": "341170",
    "end": "342970"
  },
  {
    "text": "driver and from the driver point of view",
    "start": "342970",
    "end": "344830"
  },
  {
    "text": "you get to see all the calls going into",
    "start": "344830",
    "end": "346480"
  },
  {
    "text": "it and so now we have a little bit",
    "start": "346480",
    "end": "350260"
  },
  {
    "text": "clearer picture of what's causing the",
    "start": "350260",
    "end": "351760"
  },
  {
    "text": "page right now we know that driver is",
    "start": "351760",
    "end": "354640"
  },
  {
    "text": "returning errors but why is driver",
    "start": "354640",
    "end": "356290"
  },
  {
    "text": "returning errors a really nice thing",
    "start": "356290",
    "end": "359710"
  },
  {
    "text": "about this is that's reiterating the",
    "start": "359710",
    "end": "361480"
  },
  {
    "text": "point that we have on we're running",
    "start": "361480",
    "end": "362530"
  },
  {
    "text": "everywhere is that let's apply the same",
    "start": "362530",
    "end": "364720"
  },
  {
    "text": "methodology that we use for map render",
    "start": "364720",
    "end": "366370"
  },
  {
    "text": "let's look of any of the upstream",
    "start": "366370",
    "end": "367810"
  },
  {
    "text": "services or causing errors and once",
    "start": "367810",
    "end": "369850"
  },
  {
    "text": "again in this case it's actually an",
    "start": "369850",
    "end": "372760"
  },
  {
    "text": "external service called photo filters",
    "start": "372760",
    "end": "374200"
  },
  {
    "text": "and as we're figuring this out not too",
    "start": "374200",
    "end": "377770"
  },
  {
    "text": "long ago there is a new feature called",
    "start": "377770",
    "end": "379680"
  },
  {
    "text": "photo filters that drivers would",
    "start": "379680",
    "end": "382060"
  },
  {
    "text": "actually apply kind of like the snapshot",
    "start": "382060",
    "end": "383890"
  },
  {
    "text": "filters to their little photos very",
    "start": "383890",
    "end": "385780"
  },
  {
    "text": "popular service in this hypothetical",
    "start": "385780",
    "end": "388450"
  },
  {
    "text": "situation and unfortunately is that this",
    "start": "388450",
    "end": "392140"
  },
  {
    "text": "wouldn't when this is returning errors",
    "start": "392140",
    "end": "393490"
  },
  {
    "text": "no maps are being rendered",
    "start": "393490",
    "end": "395199"
  },
  {
    "text": "so something is going on very something",
    "start": "395199",
    "end": "397419"
  },
  {
    "text": "wrong is going on wonder the thing we",
    "start": "397419",
    "end": "399849"
  },
  {
    "text": "know too is actually the CPU percentage",
    "start": "399849",
    "end": "401800"
  },
  {
    "text": "of the driver instances is really high",
    "start": "401800",
    "end": "405060"
  },
  {
    "text": "that's not so good now this is the root",
    "start": "405060",
    "end": "410710"
  },
  {
    "text": "cause we stepped from the initial page",
    "start": "410710",
    "end": "414159"
  },
  {
    "text": "where we had a success rate ratio and",
    "start": "414159",
    "end": "416169"
  },
  {
    "text": "then we just followed the errors from",
    "start": "416169",
    "end": "417490"
  },
  {
    "text": "the initial hop on edge all the way down",
    "start": "417490",
    "end": "420129"
  },
  {
    "text": "to photo filters root closing is only",
    "start": "420129",
    "end": "424629"
  },
  {
    "text": "part of it the actual interesting part",
    "start": "424629",
    "end": "426610"
  },
  {
    "text": "is remediation but we'll get to that in",
    "start": "426610",
    "end": "428469"
  },
  {
    "text": "a minute once again we've send an update",
    "start": "428469",
    "end": "431889"
  },
  {
    "text": "email to everyone so the instant report",
    "start": "431889",
    "end": "434680"
  },
  {
    "text": "email says that we know what causing",
    "start": "434680",
    "end": "436240"
  },
  {
    "text": "issue but we're still talking about how",
    "start": "436240",
    "end": "438460"
  },
  {
    "text": "we want to mediate we also know that now",
    "start": "438460",
    "end": "440830"
  },
  {
    "text": "the maps are being rendered in clients",
    "start": "440830",
    "end": "443969"
  },
  {
    "text": "so first we're going to do if we know",
    "start": "443969",
    "end": "446650"
  },
  {
    "text": "our external provider is serving serving",
    "start": "446650",
    "end": "450310"
  },
  {
    "text": "us errors let's contact support downside",
    "start": "450310",
    "end": "453249"
  },
  {
    "text": "is is that there is no ETA for fix they",
    "start": "453249",
    "end": "455589"
  },
  {
    "text": "know that there's an issue but they",
    "start": "455589",
    "end": "457060"
  },
  {
    "text": "can't figure it out",
    "start": "457060",
    "end": "457900"
  },
  {
    "text": "their machines are hos they are not be",
    "start": "457900",
    "end": "459909"
  },
  {
    "text": "able to take more requests we are pretty",
    "start": "459909",
    "end": "462099"
  },
  {
    "text": "much stumped once again panic and chaos",
    "start": "462099",
    "end": "466589"
  },
  {
    "start": "464000",
    "end": "764000"
  },
  {
    "text": "if you we no one can control the whole",
    "start": "466589",
    "end": "469000"
  },
  {
    "text": "internet and so since we can't fix our",
    "start": "469000",
    "end": "470680"
  },
  {
    "text": "errors you could be a little bit stop",
    "start": "470680",
    "end": "472539"
  },
  {
    "text": "there let's talk about remediation so",
    "start": "472539",
    "end": "478599"
  },
  {
    "text": "first thing we can do so we have to",
    "start": "478599",
    "end": "480460"
  },
  {
    "text": "pursue options full one of two options",
    "start": "480460",
    "end": "482500"
  },
  {
    "text": "one we can wake up a driver a developer",
    "start": "482500",
    "end": "485319"
  },
  {
    "text": "and ask them to start coding error",
    "start": "485319",
    "end": "486789"
  },
  {
    "text": "better hair error handling at four",
    "start": "486789",
    "end": "488199"
  },
  {
    "text": "o'clock in the morning unfortunately",
    "start": "488199",
    "end": "490210"
  },
  {
    "text": "unfortunately all know that this is not",
    "start": "490210",
    "end": "491860"
  },
  {
    "text": "the best way to handle issues in the",
    "start": "491860",
    "end": "493089"
  },
  {
    "text": "middle of the night so the second thing",
    "start": "493089",
    "end": "495639"
  },
  {
    "text": "we can do is potentially reduce the load",
    "start": "495639",
    "end": "497229"
  },
  {
    "text": "on a photo filter API we were talking to",
    "start": "497229",
    "end": "499810"
  },
  {
    "text": "the support since we know that there",
    "start": "499810",
    "end": "501310"
  },
  {
    "text": "instances are super all the their",
    "start": "501310",
    "end": "503319"
  },
  {
    "text": "machines are pretty saturated right now",
    "start": "503319",
    "end": "504789"
  },
  {
    "text": "reducing the load might actually help",
    "start": "504789",
    "end": "506560"
  },
  {
    "text": "them get back to a stable spot and",
    "start": "506560",
    "end": "509169"
  },
  {
    "text": "return fewer errors now this is where",
    "start": "509169",
    "end": "512380"
  },
  {
    "text": "Envoy is really really fascinating it",
    "start": "512380",
    "end": "515018"
  },
  {
    "text": "that we have this thing called main ins",
    "start": "515019",
    "end": "516250"
  },
  {
    "text": "mode and what maintenance mode will do",
    "start": "516250",
    "end": "518440"
  },
  {
    "text": "is a when it's in your configuration you",
    "start": "518440",
    "end": "521709"
  },
  {
    "text": "can use specify all the closer's",
    "start": "521709",
    "end": "523149"
  },
  {
    "text": "upstream clusters so you talk to you can",
    "start": "523149",
    "end": "525760"
  },
  {
    "text": "eventually say hey",
    "start": "525760",
    "end": "527029"
  },
  {
    "text": "in this example the external photo",
    "start": "527029",
    "end": "529100"
  },
  {
    "text": "filters of stream service is not doing",
    "start": "529100",
    "end": "532160"
  },
  {
    "text": "so well I would like to shed five or ten",
    "start": "532160",
    "end": "534230"
  },
  {
    "text": "percent traffic away from it and what",
    "start": "534230",
    "end": "536149"
  },
  {
    "text": "that will do is it will actually",
    "start": "536149",
    "end": "537379"
  },
  {
    "text": "automatically return a 503 to the caller",
    "start": "537379",
    "end": "540199"
  },
  {
    "text": "and not even forward request to the",
    "start": "540199",
    "end": "542569"
  },
  {
    "text": "service the upstream service so this",
    "start": "542569",
    "end": "544790"
  },
  {
    "text": "could give a chance for photo filter API",
    "start": "544790",
    "end": "546319"
  },
  {
    "text": "to recover and then after give the",
    "start": "546319",
    "end": "549170"
  },
  {
    "text": "driver service an opportunity to go",
    "start": "549170",
    "end": "550459"
  },
  {
    "text": "through its error handling path and so",
    "start": "550459",
    "end": "555860"
  },
  {
    "text": "this is an example of throughout the",
    "start": "555860",
    "end": "557540"
  },
  {
    "text": "root cause path of where we're applying",
    "start": "557540",
    "end": "560319"
  },
  {
    "text": "1q surround boy finance mode so now we",
    "start": "560319",
    "end": "565160"
  },
  {
    "text": "apply the mainus mode and we're waiting",
    "start": "565160",
    "end": "566800"
  },
  {
    "text": "we give it a few minutes we sorry we",
    "start": "566800",
    "end": "569600"
  },
  {
    "text": "apply range mode through runtime team",
    "start": "569600",
    "end": "571100"
  },
  {
    "text": "and they'll usually take about a minute",
    "start": "571100",
    "end": "572329"
  },
  {
    "text": "or two to get everywhere and so after",
    "start": "572329",
    "end": "575180"
  },
  {
    "text": "waiting a few minutes you see or things",
    "start": "575180",
    "end": "576980"
  },
  {
    "text": "better well unfortunately not success",
    "start": "576980",
    "end": "581569"
  },
  {
    "text": "rate is still the amount of errors that",
    "start": "581569",
    "end": "583250"
  },
  {
    "text": "drivers returning is pretty high and the",
    "start": "583250",
    "end": "586100"
  },
  {
    "text": "actual cpu percentage hasn't changed so",
    "start": "586100",
    "end": "589160"
  },
  {
    "text": "we have two options clearly our driver",
    "start": "589160",
    "end": "591949"
  },
  {
    "text": "service can't handle this matter my",
    "start": "591949",
    "end": "593689"
  },
  {
    "text": "request so we can scale up one",
    "start": "593689",
    "end": "596689"
  },
  {
    "text": "unfortunate thing of our current",
    "start": "596689",
    "end": "598040"
  },
  {
    "text": "infrastructure eyelift we're migrating",
    "start": "598040",
    "end": "599809"
  },
  {
    "text": "kubernetes it's not done yet but scaling",
    "start": "599809",
    "end": "602269"
  },
  {
    "text": "up for us is very slow it can take about",
    "start": "602269",
    "end": "605029"
  },
  {
    "text": "20 minutes for new instance come up and",
    "start": "605029",
    "end": "606939"
  },
  {
    "text": "20 minutes in our industry is very it's",
    "start": "606939",
    "end": "611990"
  },
  {
    "text": "kind of detrimental right it's easy it's",
    "start": "611990",
    "end": "614600"
  },
  {
    "text": "easy to lose trust really hard to regain",
    "start": "614600",
    "end": "616309"
  },
  {
    "text": "that trust",
    "start": "616309",
    "end": "616939"
  },
  {
    "text": "so whenever a rider camera costs ride",
    "start": "616939",
    "end": "619040"
  },
  {
    "text": "for a few minutes they're gonna switch",
    "start": "619040",
    "end": "620449"
  },
  {
    "text": "an alternative so scaling up is an",
    "start": "620449",
    "end": "622970"
  },
  {
    "text": "option we can add to this but it's still",
    "start": "622970",
    "end": "624829"
  },
  {
    "text": "actually not going to do anything to",
    "start": "624829",
    "end": "626300"
  },
  {
    "text": "help us get riders back in the cards one",
    "start": "626300",
    "end": "631939"
  },
  {
    "text": "thing we actually were realizing is that",
    "start": "631939",
    "end": "633769"
  },
  {
    "text": "since this new code path to apply in the",
    "start": "633769",
    "end": "636319"
  },
  {
    "text": "photo filters is that the circuit",
    "start": "636319",
    "end": "638269"
  },
  {
    "text": "breaker settings weren't properly",
    "start": "638269",
    "end": "639949"
  },
  {
    "text": "configured and when the circuit breaker",
    "start": "639949",
    "end": "641660"
  },
  {
    "text": "settings do is tell all down streams are",
    "start": "641660",
    "end": "644089"
  },
  {
    "text": "communicating to driver or any other",
    "start": "644089",
    "end": "645949"
  },
  {
    "text": "service is I know how many max requests",
    "start": "645949",
    "end": "648379"
  },
  {
    "text": "in this case is h2 this can actually",
    "start": "648379",
    "end": "650779"
  },
  {
    "text": "handle and if you must configure it you",
    "start": "650779",
    "end": "653480"
  },
  {
    "text": "can be flooding your entire OSIS your",
    "start": "653480",
    "end": "654949"
  },
  {
    "text": "entire service",
    "start": "654949",
    "end": "656319"
  },
  {
    "text": "so one thing we do here is that we're",
    "start": "656319",
    "end": "659120"
  },
  {
    "text": "gonna set a gel",
    "start": "659120",
    "end": "660160"
  },
  {
    "text": "the circuit breaker settings - driver",
    "start": "660160",
    "end": "661690"
  },
  {
    "text": "service to give it a better chance to",
    "start": "661690",
    "end": "663639"
  },
  {
    "text": "reduce CPU saturation and that way we'll",
    "start": "663639",
    "end": "667329"
  },
  {
    "text": "still be returning some errors but that",
    "start": "667329",
    "end": "669160"
  },
  {
    "text": "might actually give us a better chance",
    "start": "669160",
    "end": "670060"
  },
  {
    "text": "at keeping those whose requests are",
    "start": "670060",
    "end": "672639"
  },
  {
    "text": "going through be successful and so just",
    "start": "672639",
    "end": "676750"
  },
  {
    "text": "showing us here on top of the",
    "start": "676750",
    "end": "678100"
  },
  {
    "text": "maintenance mode - the photo filters we",
    "start": "678100",
    "end": "680170"
  },
  {
    "text": "are applying circuit breaker settings",
    "start": "680170",
    "end": "683040"
  },
  {
    "text": "and now we wait we get a few minutes",
    "start": "683040",
    "end": "686800"
  },
  {
    "text": "can't we're testing it manually",
    "start": "686800",
    "end": "689230"
  },
  {
    "text": "can we still request rides unfortunately",
    "start": "689230",
    "end": "693069"
  },
  {
    "text": "not and this is where at this point",
    "start": "693069",
    "end": "697089"
  },
  {
    "text": "we've all held it's middle of the night",
    "start": "697089",
    "end": "699009"
  },
  {
    "text": "and we've been trying to think about",
    "start": "699009",
    "end": "701170"
  },
  {
    "text": "different ways to work around the driver",
    "start": "701170",
    "end": "703180"
  },
  {
    "text": "code mapper under code different photo",
    "start": "703180",
    "end": "706569"
  },
  {
    "text": "filters and just not working and so when",
    "start": "706569",
    "end": "709779"
  },
  {
    "text": "we're releasing this feature we release",
    "start": "709779",
    "end": "713079"
  },
  {
    "text": "it under a runtime key in edge envoy and",
    "start": "713079",
    "end": "715360"
  },
  {
    "text": "what this runtime key does it actually",
    "start": "715360",
    "end": "719079"
  },
  {
    "text": "says once the runtime key said 100% when",
    "start": "719079",
    "end": "722500"
  },
  {
    "text": "something matches to it send all traffic",
    "start": "722500",
    "end": "724360"
  },
  {
    "text": "there this is really useful when you're",
    "start": "724360",
    "end": "726639"
  },
  {
    "text": "rolling out a new feature if you're",
    "start": "726639",
    "end": "728500"
  },
  {
    "text": "testing something out and you want to",
    "start": "728500",
    "end": "729939"
  },
  {
    "text": "spend only 5 or 10 percent set this one",
    "start": "729939",
    "end": "732370"
  },
  {
    "text": "time cue to 5 or 10% and only 5 or 10%",
    "start": "732370",
    "end": "734589"
  },
  {
    "text": "of the requests will go there and",
    "start": "734589",
    "end": "736149"
  },
  {
    "text": "everything else will do you fault to the",
    "start": "736149",
    "end": "738130"
  },
  {
    "text": "previous matching route and so what we",
    "start": "738130",
    "end": "742420"
  },
  {
    "text": "do is we decide to shut it down this",
    "start": "742420",
    "end": "746529"
  },
  {
    "text": "code path as well intentionally was had",
    "start": "746529",
    "end": "748899"
  },
  {
    "text": "some bugs in terms of hailing error",
    "start": "748899",
    "end": "750970"
  },
  {
    "text": "cases things weren't fully fleshed out",
    "start": "750970",
    "end": "753069"
  },
  {
    "text": "and this is not something that we need",
    "start": "753069",
    "end": "754569"
  },
  {
    "text": "to solve a 4 o'clock in the morning",
    "start": "754569",
    "end": "755949"
  },
  {
    "text": "we're going to detour all traffic from",
    "start": "755949",
    "end": "758889"
  },
  {
    "text": "show map the shows to map render and go",
    "start": "758889",
    "end": "760959"
  },
  {
    "text": "back to the legacy path now that we know",
    "start": "760959",
    "end": "769180"
  },
  {
    "start": "764000",
    "end": "851000"
  },
  {
    "text": "that we've decided to switch all traffic",
    "start": "769180",
    "end": "770829"
  },
  {
    "text": "to the legacy path we're gonna wait we",
    "start": "770829",
    "end": "773110"
  },
  {
    "text": "expect everything to go back to normal",
    "start": "773110",
    "end": "774309"
  },
  {
    "text": "and we're gonna wait while we're waiting",
    "start": "774309",
    "end": "776920"
  },
  {
    "text": "for everything to go back to normal",
    "start": "776920",
    "end": "778680"
  },
  {
    "text": "let's do recap so first we started off",
    "start": "778680",
    "end": "783370"
  },
  {
    "text": "with identifying that the photo filters",
    "start": "783370",
    "end": "784809"
  },
  {
    "text": "an external service that us at lyft or",
    "start": "784809",
    "end": "787240"
  },
  {
    "text": "if for your own company someone you have",
    "start": "787240",
    "end": "790209"
  },
  {
    "text": "no control over and they're returning",
    "start": "790209",
    "end": "792579"
  },
  {
    "text": "set of error",
    "start": "792579",
    "end": "793240"
  },
  {
    "text": "you can stop sending requests to them",
    "start": "793240",
    "end": "795189"
  },
  {
    "text": "without having to make any code changes",
    "start": "795189",
    "end": "797050"
  },
  {
    "text": "this is called maintenance mode after",
    "start": "797050",
    "end": "800100"
  },
  {
    "text": "realizing that this doesn't work we can",
    "start": "800100",
    "end": "802420"
  },
  {
    "text": "take another step back and notice that",
    "start": "802420",
    "end": "803889"
  },
  {
    "text": "we had poorly misconfigured driver and",
    "start": "803889",
    "end": "806410"
  },
  {
    "text": "there were sending too many requests",
    "start": "806410",
    "end": "808059"
  },
  {
    "text": "that can't be handled by the service so",
    "start": "808059",
    "end": "810009"
  },
  {
    "text": "let's reduce the amount of requests that",
    "start": "810009",
    "end": "811360"
  },
  {
    "text": "we send to it and hope that things get",
    "start": "811360",
    "end": "814300"
  },
  {
    "text": "better unfortunately they do not and as",
    "start": "814300",
    "end": "818079"
  },
  {
    "text": "the last result or as a last option in",
    "start": "818079",
    "end": "820480"
  },
  {
    "text": "this case we're just going to stop",
    "start": "820480",
    "end": "823269"
  },
  {
    "text": "sending all requests on this path and",
    "start": "823269",
    "end": "824920"
  },
  {
    "text": "we're gonna find a better solution in",
    "start": "824920",
    "end": "826449"
  },
  {
    "text": "the day time when we're all well",
    "start": "826449",
    "end": "827860"
  },
  {
    "text": "arrested and we're gonna go back to the",
    "start": "827860",
    "end": "829869"
  },
  {
    "text": "legacy path that had been working for X",
    "start": "829869",
    "end": "831670"
  },
  {
    "text": "amount of months days years after this",
    "start": "831670",
    "end": "837069"
  },
  {
    "text": "amount of time we actually confirmed",
    "start": "837069",
    "end": "839439"
  },
  {
    "text": "that the drivers that the map is",
    "start": "839439",
    "end": "841839"
  },
  {
    "text": "correctly rendering and all on all",
    "start": "841839",
    "end": "843670"
  },
  {
    "text": "clients application success rate is back",
    "start": "843670",
    "end": "845949"
  },
  {
    "text": "at 100% and that we can start serving",
    "start": "845949",
    "end": "848889"
  },
  {
    "text": "rides again",
    "start": "848889",
    "end": "851248"
  },
  {
    "text": "now this is element this is a contrived",
    "start": "852779",
    "end": "855759"
  },
  {
    "text": "example but it is meant to show just a",
    "start": "855759",
    "end": "858549"
  },
  {
    "text": "few of the ways that envoy can be used",
    "start": "858549",
    "end": "861069"
  },
  {
    "text": "to handle it remediate an incident I",
    "start": "861069",
    "end": "863189"
  },
  {
    "text": "talked about circuit breaker settings",
    "start": "863189",
    "end": "865240"
  },
  {
    "text": "very quickly but we can also handle max",
    "start": "865240",
    "end": "868029"
  },
  {
    "text": "pending requests max connections so",
    "start": "868029",
    "end": "870759"
  },
  {
    "text": "doesn't only apply to h2 outlier",
    "start": "870759",
    "end": "872829"
  },
  {
    "text": "detection if it were the case of the",
    "start": "872829",
    "end": "874660"
  },
  {
    "text": "driver service instead of it being the",
    "start": "874660",
    "end": "877240"
  },
  {
    "text": "entire fleet that was being hosed you",
    "start": "877240",
    "end": "878829"
  },
  {
    "text": "could actually imagine that maybe two or",
    "start": "878829",
    "end": "880389"
  },
  {
    "text": "three of however many instances you have",
    "start": "880389",
    "end": "882639"
  },
  {
    "text": "are just poorly performing outlier",
    "start": "882639",
    "end": "885879"
  },
  {
    "text": "detection we'll look at all of the five",
    "start": "885879",
    "end": "888009"
  },
  {
    "text": "xx - per instance and identify the ones",
    "start": "888009",
    "end": "891730"
  },
  {
    "text": "that are poorly behaving and stops any",
    "start": "891730",
    "end": "894100"
  },
  {
    "text": "requests and for a certain amount of",
    "start": "894100",
    "end": "895240"
  },
  {
    "text": "time and we'll see after a certain",
    "start": "895240",
    "end": "897459"
  },
  {
    "text": "amount of period is it acts healthy",
    "start": "897459",
    "end": "899740"
  },
  {
    "text": "again can respond just request properly",
    "start": "899740",
    "end": "902740"
  },
  {
    "text": "if it can it'll bring it back into the",
    "start": "902740",
    "end": "904269"
  },
  {
    "text": "pool and keep on sending requests to it",
    "start": "904269",
    "end": "906249"
  },
  {
    "text": "but if it starts failing again kick it",
    "start": "906249",
    "end": "908529"
  },
  {
    "text": "back out access logging one thing that",
    "start": "908529",
    "end": "913089"
  },
  {
    "text": "we could do once we identified that the",
    "start": "913089",
    "end": "914679"
  },
  {
    "text": "map render service was an issue is you",
    "start": "914679",
    "end": "916959"
  },
  {
    "text": "could actually look at the access log of",
    "start": "916959",
    "end": "918429"
  },
  {
    "text": "which prefix was being hit you can group",
    "start": "918429",
    "end": "920709"
  },
  {
    "text": "those in and find it out of the pattern",
    "start": "920709",
    "end": "923069"
  },
  {
    "text": "tracing if you were earlier at Leto's",
    "start": "923069",
    "end": "926049"
  },
  {
    "text": "talk",
    "start": "926049",
    "end": "926860"
  },
  {
    "text": "leeta talk to us about how tracing shows",
    "start": "926860",
    "end": "928390"
  },
  {
    "text": "the entire flow of a request sometimes",
    "start": "928390",
    "end": "930790"
  },
  {
    "text": "it's not in this sometimes it is an",
    "start": "930790",
    "end": "934420"
  },
  {
    "text": "occasional night but there's a weird",
    "start": "934420",
    "end": "936100"
  },
  {
    "text": "one-off instance of something being",
    "start": "936100",
    "end": "937780"
  },
  {
    "text": "wrong you can use tracing to identify in",
    "start": "937780",
    "end": "941020"
  },
  {
    "text": "particular cases what is going wrong",
    "start": "941020",
    "end": "942820"
  },
  {
    "text": "there and to see everything a deep dive",
    "start": "942820",
    "end": "944940"
  },
  {
    "text": "another example with the edge envoy",
    "start": "944940",
    "end": "947560"
  },
  {
    "text": "configuration",
    "start": "947560",
    "end": "948370"
  },
  {
    "text": "what if someone misconfigured an edge",
    "start": "948370",
    "end": "950650"
  },
  {
    "text": "and you start returning 404s if you're",
    "start": "950650",
    "end": "953470"
  },
  {
    "text": "using a static config it could take you",
    "start": "953470",
    "end": "955510"
  },
  {
    "text": "a while to actually remediates at if you",
    "start": "955510",
    "end": "957970"
  },
  {
    "text": "use the dynamic configurations already",
    "start": "957970",
    "end": "960580"
  },
  {
    "text": "SCDS call them XDS all's I don't",
    "start": "960580",
    "end": "962890"
  },
  {
    "text": "discovery a service api's you could",
    "start": "962890",
    "end": "966040"
  },
  {
    "text": "actually roll out a bad configuration",
    "start": "966040",
    "end": "968350"
  },
  {
    "text": "give it a 30 seconds a minute realize is",
    "start": "968350",
    "end": "971080"
  },
  {
    "text": "bad and then send another update to",
    "start": "971080",
    "end": "972850"
  },
  {
    "text": "remove that bad configuration in a",
    "start": "972850",
    "end": "975130"
  },
  {
    "text": "matter of minutes",
    "start": "975130",
    "end": "977310"
  },
  {
    "text": "HP header options if it's a bad request",
    "start": "977310",
    "end": "980700"
  },
  {
    "text": "request timeout retries these are things",
    "start": "980700",
    "end": "984610"
  },
  {
    "text": "that actually we configured within the",
    "start": "984610",
    "end": "985750"
  },
  {
    "text": "header and not something that's actually",
    "start": "985750",
    "end": "987670"
  },
  {
    "text": "in the code traffic shifting is what I",
    "start": "987670",
    "end": "990490"
  },
  {
    "text": "showed you in terms of the runtime",
    "start": "990490",
    "end": "991570"
  },
  {
    "text": "switch and maintance mode was the first",
    "start": "991570",
    "end": "994000"
  },
  {
    "text": "thing we talked about photo filters so",
    "start": "994000",
    "end": "998800"
  },
  {
    "start": "996000",
    "end": "1002000"
  },
  {
    "text": "how is this help look you don't have to",
    "start": "998800",
    "end": "1006450"
  },
  {
    "start": "1002000",
    "end": "1072000"
  },
  {
    "text": "be on the networking team or on the",
    "start": "1006450",
    "end": "1008490"
  },
  {
    "text": "driver team to actually apply this",
    "start": "1008490",
    "end": "1009750"
  },
  {
    "text": "knowledge this knowledge applies to",
    "start": "1009750",
    "end": "1011820"
  },
  {
    "text": "everywhere that ongoing is used so the",
    "start": "1011820",
    "end": "1014430"
  },
  {
    "text": "benefit of this is once you teach your",
    "start": "1014430",
    "end": "1015960"
  },
  {
    "text": "engineers these sets they have a set of",
    "start": "1015960",
    "end": "1018240"
  },
  {
    "text": "tools they can apply it anywhere I have",
    "start": "1018240",
    "end": "1021750"
  },
  {
    "text": "two beliefs when an infant happens that",
    "start": "1021750",
    "end": "1023750"
  },
  {
    "text": "the first thing you need to do is keep",
    "start": "1023750",
    "end": "1025949"
  },
  {
    "text": "the lights on most of us work in a",
    "start": "1025949",
    "end": "1028069"
  },
  {
    "text": "server in a world where if you're off or",
    "start": "1028070",
    "end": "1030870"
  },
  {
    "text": "even 10 seconds 30 seconds our customers",
    "start": "1030870",
    "end": "1033420"
  },
  {
    "text": "get really angry so keeping the lights",
    "start": "1033420",
    "end": "1035160"
  },
  {
    "text": "on is a big priority and the second",
    "start": "1035160",
    "end": "1037589"
  },
  {
    "text": "priority is in allowing those who have",
    "start": "1037589",
    "end": "1040290"
  },
  {
    "text": "maybe a deeper understanding of the",
    "start": "1040290",
    "end": "1042240"
  },
  {
    "text": "application logic or anything that's",
    "start": "1042240",
    "end": "1044250"
  },
  {
    "text": "required to like anything associated",
    "start": "1044250",
    "end": "1045630"
  },
  {
    "text": "there cause they can focus on fixing",
    "start": "1045630",
    "end": "1047699"
  },
  {
    "text": "that while other people are keeping the",
    "start": "1047699",
    "end": "1049260"
  },
  {
    "text": "lights on why this is even cool is that",
    "start": "1049260",
    "end": "1051900"
  },
  {
    "text": "you can actually have a junior engineer",
    "start": "1051900",
    "end": "1053160"
  },
  {
    "text": "who just joined the driver team they can",
    "start": "1053160",
    "end": "1056070"
  },
  {
    "text": "be apply in the maintenance mode they",
    "start": "1056070",
    "end": "1057270"
  },
  {
    "text": "can be traffic shifting turn on and off",
    "start": "1057270",
    "end": "1058650"
  },
  {
    "text": "the route why senior engineer is",
    "start": "1058650",
    "end": "1060750"
  },
  {
    "text": "debugging with the photo filters contact",
    "start": "1060750",
    "end": "1064110"
  },
  {
    "text": "support you can scale yourself and not",
    "start": "1064110",
    "end": "1067170"
  },
  {
    "text": "have it be stuck to only one sort of",
    "start": "1067170",
    "end": "1068490"
  },
  {
    "text": "team and with that it was pretty short",
    "start": "1068490",
    "end": "1075390"
  },
  {
    "start": "1072000",
    "end": "1200000"
  },
  {
    "text": "but leaves a lot of time for questions",
    "start": "1075390",
    "end": "1077310"
  },
  {
    "text": "so I want to say thank you everyone and",
    "start": "1077310",
    "end": "1080630"
  },
  {
    "text": "questions please",
    "start": "1080630",
    "end": "1083990"
  },
  {
    "text": "[Applause]",
    "start": "1089730",
    "end": "1093230"
  },
  {
    "text": "yeah like automatic remediation so his",
    "start": "1094500",
    "end": "1104770"
  },
  {
    "text": "question was in our configuration we had",
    "start": "1104770",
    "end": "1107350"
  },
  {
    "text": "a backup and there's our concept in",
    "start": "1107350",
    "end": "1109480"
  },
  {
    "text": "envoy they can do automatic remediation",
    "start": "1109480",
    "end": "1111940"
  },
  {
    "text": "between one and the other we don't have",
    "start": "1111940",
    "end": "1115270"
  },
  {
    "text": "that but it is something you can",
    "start": "1115270",
    "end": "1116350"
  },
  {
    "text": "actually program around you can either",
    "start": "1116350",
    "end": "1117550"
  },
  {
    "text": "do like consuming the metrics around",
    "start": "1117550",
    "end": "1119470"
  },
  {
    "text": "like certain endpoint being wrong and",
    "start": "1119470",
    "end": "1121000"
  },
  {
    "text": "then after do a little bit of a loop in",
    "start": "1121000",
    "end": "1122980"
  },
  {
    "text": "terms of updating the configuration but",
    "start": "1122980",
    "end": "1124570"
  },
  {
    "text": "there is no automatic way right now it",
    "start": "1124570",
    "end": "1126550"
  },
  {
    "text": "something would be really cool oh I I",
    "start": "1126550",
    "end": "1132760"
  },
  {
    "text": "turned off that one wasn't really at",
    "start": "1132760",
    "end": "1134920"
  },
  {
    "text": "three am because I always forgot to take",
    "start": "1134920",
    "end": "1136270"
  },
  {
    "text": "snapshots of 3m but I did actually just",
    "start": "1136270",
    "end": "1138310"
  },
  {
    "text": "tweak the phone Oh Matt I'm on my phone",
    "start": "1138310",
    "end": "1141130"
  },
  {
    "text": "but I have definitely been woken up at",
    "start": "1141130",
    "end": "1143170"
  },
  {
    "text": "all times of the day sorry say that",
    "start": "1143170",
    "end": "1154990"
  },
  {
    "text": "again I'm sorry I actually can't hear",
    "start": "1154990",
    "end": "1162820"
  },
  {
    "text": "you",
    "start": "1162820",
    "end": "1164970"
  },
  {
    "text": "autoblog odd log um",
    "start": "1165600",
    "end": "1169770"
  },
  {
    "text": "that's apparently based on just how you",
    "start": "1169770",
    "end": "1171700"
  },
  {
    "text": "actually implementing yourself weird",
    "start": "1171700",
    "end": "1174070"
  },
  {
    "text": "like so that's where we'd have our logs",
    "start": "1174070",
    "end": "1175450"
  },
  {
    "text": "with like we for our configurations we",
    "start": "1175450",
    "end": "1177550"
  },
  {
    "text": "actually put everything committed within",
    "start": "1177550",
    "end": "1178840"
  },
  {
    "text": "a git repo and we use that sha as our",
    "start": "1178840",
    "end": "1181360"
  },
  {
    "text": "version history and so then we can see",
    "start": "1181360",
    "end": "1183760"
  },
  {
    "text": "what we deployed when we don't have it",
    "start": "1183760",
    "end": "1185080"
  },
  {
    "text": "deployed that's how we keep track of all",
    "start": "1185080",
    "end": "1186340"
  },
  {
    "text": "that questions anyone anyone outside no",
    "start": "1186340",
    "end": "1195840"
  },
  {
    "text": "great",
    "start": "1195840",
    "end": "1197840"
  },
  {
    "text": "thank you",
    "start": "1197840",
    "end": "1200380"
  }
]