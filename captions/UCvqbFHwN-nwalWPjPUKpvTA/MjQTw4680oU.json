[
  {
    "text": "all right good uh afternoon so uh we are",
    "start": "640",
    "end": "3399"
  },
  {
    "text": "officially post noon and I am standing",
    "start": "3399",
    "end": "7439"
  },
  {
    "text": "between you and lunch so I take that",
    "start": "7439",
    "end": "9360"
  },
  {
    "text": "responsibility very",
    "start": "9360",
    "end": "10840"
  },
  {
    "text": "seriously and we'll make sure that this",
    "start": "10840",
    "end": "12799"
  },
  {
    "text": "talk is on time and to the point so",
    "start": "12799",
    "end": "17560"
  },
  {
    "text": "today uh I'm going to be talking about",
    "start": "17560",
    "end": "19400"
  },
  {
    "text": "juggling Argo rollouts for Progressive",
    "start": "19400",
    "end": "21600"
  },
  {
    "text": "delivery across multiple Services how",
    "start": "21600",
    "end": "24080"
  },
  {
    "text": "many people are using Argo rollouts",
    "start": "24080",
    "end": "25400"
  },
  {
    "text": "today hand raise okay like actually like",
    "start": "25400",
    "end": "29519"
  },
  {
    "text": "not a ton of people from this audience",
    "start": "29519",
    "end": "31400"
  },
  {
    "text": "so a lot of you are new to Argo rollouts",
    "start": "31400",
    "end": "33960"
  },
  {
    "text": "and um hopefully this uh some of these",
    "start": "33960",
    "end": "36280"
  },
  {
    "text": "concepts are going to translate and make",
    "start": "36280",
    "end": "37520"
  },
  {
    "text": "sense my name is Dan Garfield I am a",
    "start": "37520",
    "end": "40280"
  },
  {
    "text": "co-founder and chief open source officer",
    "start": "40280",
    "end": "42800"
  },
  {
    "text": "of a an amazing company and team called",
    "start": "42800",
    "end": "45559"
  },
  {
    "text": "codefresh um we've got a booth out there",
    "start": "45559",
    "end": "47920"
  },
  {
    "text": "we uh helped create argoon and we",
    "start": "47920",
    "end": "50920"
  },
  {
    "text": "maintain Argo and we helped graduate",
    "start": "50920",
    "end": "53440"
  },
  {
    "text": "Argo and we've been involved in this",
    "start": "53440",
    "end": "55000"
  },
  {
    "text": "space for a long time you can follow me",
    "start": "55000",
    "end": "56920"
  },
  {
    "text": "on Twitter at toay was awesome I mostly",
    "start": "56920",
    "end": "59680"
  },
  {
    "text": "just snarkily complain about uh",
    "start": "59680",
    "end": "62480"
  },
  {
    "text": "kubernetes and um things like that so if",
    "start": "62480",
    "end": "64799"
  },
  {
    "text": "you're into people that complain and",
    "start": "64799",
    "end": "66400"
  },
  {
    "text": "whine Twitter is you already know the",
    "start": "66400",
    "end": "69080"
  },
  {
    "text": "right place to go",
    "start": "69080",
    "end": "71000"
  },
  {
    "text": "um and then uh in addition to being an",
    "start": "71000",
    "end": "73840"
  },
  {
    "text": "Argo maintainer uh I also helped create",
    "start": "73840",
    "end": "77040"
  },
  {
    "text": "uh the open getop standard so if you've",
    "start": "77040",
    "end": "78600"
  },
  {
    "text": "seen the giops principles that was an",
    "start": "78600",
    "end": "80880"
  },
  {
    "text": "initiative that I I helped start um with",
    "start": "80880",
    "end": "83400"
  },
  {
    "text": "uh some folks from weave Works in AWS",
    "start": "83400",
    "end": "85360"
  },
  {
    "text": "and GitHub so and Azure and red hat I",
    "start": "85360",
    "end": "87720"
  },
  {
    "text": "don't want to leave anybody out all",
    "start": "87720",
    "end": "89200"
  },
  {
    "text": "right so so um let's jump into this so",
    "start": "89200",
    "end": "92159"
  },
  {
    "text": "uh Progressive delivery with Argo",
    "start": "92159",
    "end": "94920"
  },
  {
    "text": "rollouts is uh very powerful and for",
    "start": "94920",
    "end": "99040"
  },
  {
    "text": "those of you and it sounds like many of",
    "start": "99040",
    "end": "100920"
  },
  {
    "text": "you aren't necessarily super familiar",
    "start": "100920",
    "end": "102439"
  },
  {
    "text": "with how Argo rollouts Works yet um just",
    "start": "102439",
    "end": "105280"
  },
  {
    "text": "a brief you know review of this so Argo",
    "start": "105280",
    "end": "110000"
  },
  {
    "text": "rollouts works by having a controller",
    "start": "110000",
    "end": "113560"
  },
  {
    "text": "that sits on our cluster and it looks",
    "start": "113560",
    "end": "116360"
  },
  {
    "text": "for new deployment versions now a roll",
    "start": "116360",
    "end": "119439"
  },
  {
    "text": "out is basically just an Argo deployment",
    "start": "119439",
    "end": "122320"
  },
  {
    "text": "it's really that simple um you can",
    "start": "122320",
    "end": "124680"
  },
  {
    "text": "actually take an existing kubernetes",
    "start": "124680",
    "end": "126240"
  },
  {
    "text": "deployment and you can just wrap it in a",
    "start": "126240",
    "end": "128039"
  },
  {
    "text": "roller in a roll out it's the exact same",
    "start": "128039",
    "end": "130599"
  },
  {
    "text": "spec with additional options so roll",
    "start": "130599",
    "end": "133040"
  },
  {
    "text": "out's very simple to implement in that",
    "start": "133040",
    "end": "134560"
  },
  {
    "text": "way and basically what it does is the",
    "start": "134560",
    "end": "137400"
  },
  {
    "text": "controller will monitor for changes to",
    "start": "137400",
    "end": "139680"
  },
  {
    "text": "the rollout and then it will spin up new",
    "start": "139680",
    "end": "143000"
  },
  {
    "text": "versions and pods according to the plan",
    "start": "143000",
    "end": "145440"
  },
  {
    "text": "and adjust Ingress and service so that",
    "start": "145440",
    "end": "149200"
  },
  {
    "text": "uh the traffic that you want getting",
    "start": "149200",
    "end": "151360"
  },
  {
    "text": "there is getting there um it could be a",
    "start": "151360",
    "end": "153319"
  },
  {
    "text": "percentage of traffic if it's a canary",
    "start": "153319",
    "end": "155160"
  },
  {
    "text": "release it could be a blue green",
    "start": "155160",
    "end": "156519"
  },
  {
    "text": "deployment where it spins up everything",
    "start": "156519",
    "end": "158959"
  },
  {
    "text": "um and then it has a mechanism to run",
    "start": "158959",
    "end": "160680"
  },
  {
    "text": "tests with an analysis template uh and",
    "start": "160680",
    "end": "163200"
  },
  {
    "text": "you can pull metrics from Prometheus or",
    "start": "163200",
    "end": "165360"
  },
  {
    "text": "wavefront or whatever the heck you want",
    "start": "165360",
    "end": "167800"
  },
  {
    "text": "um to decide if you're going to continue",
    "start": "167800",
    "end": "169360"
  },
  {
    "text": "to promote your roll out or complete",
    "start": "169360",
    "end": "171159"
  },
  {
    "text": "your roll out okay so so far so good",
    "start": "171159",
    "end": "173040"
  },
  {
    "text": "right it's very simple uh Progressive",
    "start": "173040",
    "end": "175080"
  },
  {
    "text": "delivery but it's all done in a",
    "start": "175080",
    "end": "176319"
  },
  {
    "text": "declarative format and Argo rollouts is",
    "start": "176319",
    "end": "179040"
  },
  {
    "text": "extremely po popular um and uh a lot of",
    "start": "179040",
    "end": "182280"
  },
  {
    "text": "people use Argo rollouts without Argo CD",
    "start": "182280",
    "end": "185319"
  },
  {
    "text": "so I'm going to talk a little bit about",
    "start": "185319",
    "end": "186799"
  },
  {
    "text": "some of the differences if you use this",
    "start": "186799",
    "end": "189080"
  },
  {
    "text": "with Argo CD as far as this talk goes",
    "start": "189080",
    "end": "191720"
  },
  {
    "text": "and some of the things that are just",
    "start": "191720",
    "end": "193319"
  },
  {
    "text": "Standalone but a lot of people use it um",
    "start": "193319",
    "end": "195760"
  },
  {
    "text": "Salesforce famously uses Argo rollouts",
    "start": "195760",
    "end": "199120"
  },
  {
    "text": "for like everything they've got uh like",
    "start": "199120",
    "end": "201360"
  },
  {
    "text": "tens of thousands of rollouts going um",
    "start": "201360",
    "end": "203760"
  },
  {
    "text": "so every time that you do an update this",
    "start": "203760",
    "end": "206200"
  },
  {
    "text": "is really a way of drisking that update",
    "start": "206200",
    "end": "208799"
  },
  {
    "text": "right so that",
    "start": "208799",
    "end": "210239"
  },
  {
    "text": "um the blast radius of potential failure",
    "start": "210239",
    "end": "213040"
  },
  {
    "text": "is a lot smaller okay so let's just",
    "start": "213040",
    "end": "215720"
  },
  {
    "text": "review really quickly how does a blue",
    "start": "215720",
    "end": "218840"
  },
  {
    "text": "green deployment work so you've got your",
    "start": "218840",
    "end": "221360"
  },
  {
    "text": "prod version which is currently blue",
    "start": "221360",
    "end": "223640"
  },
  {
    "text": "it's the only thing that's deployed and",
    "start": "223640",
    "end": "225799"
  },
  {
    "text": "all of your users are currently getting",
    "start": "225799",
    "end": "227599"
  },
  {
    "text": "traffic from that in a blue green",
    "start": "227599",
    "end": "230159"
  },
  {
    "text": "deployment we're going to deploy the new",
    "start": "230159",
    "end": "231680"
  },
  {
    "text": "version spin it up uh and then we can",
    "start": "231680",
    "end": "234879"
  },
  {
    "text": "actually run tests against that new",
    "start": "234879",
    "end": "236519"
  },
  {
    "text": "version make sure everything is good",
    "start": "236519",
    "end": "238599"
  },
  {
    "text": "before switching all the traffic over at",
    "start": "238599",
    "end": "240920"
  },
  {
    "text": "once to the new version and then if",
    "start": "240920",
    "end": "243720"
  },
  {
    "text": "there were a problem you can actually do",
    "start": "243720",
    "end": "245720"
  },
  {
    "text": "like a hot swap back to the old version",
    "start": "245720",
    "end": "248159"
  },
  {
    "text": "right so you can do a really quick",
    "start": "248159",
    "end": "249480"
  },
  {
    "text": "recovery if there was something that",
    "start": "249480",
    "end": "251439"
  },
  {
    "text": "went wrong after it was switched over",
    "start": "251439",
    "end": "253079"
  },
  {
    "text": "now a canary release Works similarly",
    "start": "253079",
    "end": "254959"
  },
  {
    "text": "right except it's just a portion of",
    "start": "254959",
    "end": "256280"
  },
  {
    "text": "traffic that's getting sent over these",
    "start": "256280",
    "end": "257919"
  },
  {
    "text": "Concepts everybody's like yeah get on",
    "start": "257919",
    "end": "260479"
  },
  {
    "text": "with it we know this very simple right",
    "start": "260479",
    "end": "263280"
  },
  {
    "text": "um so we've all seen that okay so many",
    "start": "263280",
    "end": "265800"
  },
  {
    "text": "services aren't that simple and that's",
    "start": "265800",
    "end": "268639"
  },
  {
    "text": "what this talk is really about it's",
    "start": "268639",
    "end": "270080"
  },
  {
    "text": "about handling those services that are",
    "start": "270080",
    "end": "271680"
  },
  {
    "text": "more complex um specifically",
    "start": "271680",
    "end": "274800"
  },
  {
    "text": "applications that aren't monolithic so",
    "start": "274800",
    "end": "278199"
  },
  {
    "text": "if we think about a simple blue green",
    "start": "278199",
    "end": "280320"
  },
  {
    "text": "release um well you're deploying",
    "start": "280320",
    "end": "283800"
  },
  {
    "text": "microservices right we're not deploying",
    "start": "283800",
    "end": "286120"
  },
  {
    "text": "monoliths or distributed monoliths we're",
    "start": "286120",
    "end": "288360"
  },
  {
    "text": "deploying microservices and so um these",
    "start": "288360",
    "end": "290639"
  },
  {
    "text": "things are interdependent so you might",
    "start": "290639",
    "end": "292360"
  },
  {
    "text": "have like front end uh a front-end",
    "start": "292360",
    "end": "295199"
  },
  {
    "text": "version is dependent on a backend",
    "start": "295199",
    "end": "298120"
  },
  {
    "text": "version so if you're rolling out a new",
    "start": "298120",
    "end": "299600"
  },
  {
    "text": "feature and this is very common right",
    "start": "299600",
    "end": "301240"
  },
  {
    "text": "you're working on a new feature and how",
    "start": "301240",
    "end": "303919"
  },
  {
    "text": "how often I mean think about it how",
    "start": "303919",
    "end": "306440"
  },
  {
    "text": "often is a new feature confined to a",
    "start": "306440",
    "end": "309360"
  },
  {
    "text": "single",
    "start": "309360",
    "end": "310320"
  },
  {
    "text": "service very rarely right most of the",
    "start": "310320",
    "end": "313759"
  },
  {
    "text": "time you want to roll out a new feature",
    "start": "313759",
    "end": "315560"
  },
  {
    "text": "you need to make a change to a UI and a",
    "start": "315560",
    "end": "318199"
  },
  {
    "text": "backend and maybe some other services in",
    "start": "318199",
    "end": "320280"
  },
  {
    "text": "order for that feature to actually fully",
    "start": "320280",
    "end": "322120"
  },
  {
    "text": "function right so um what can happen",
    "start": "322120",
    "end": "325759"
  },
  {
    "text": "with some applications is you deploy",
    "start": "325759",
    "end": "328319"
  },
  {
    "text": "your new front end",
    "start": "328319",
    "end": "330400"
  },
  {
    "text": "and here it's showing kind of a canary",
    "start": "330400",
    "end": "331840"
  },
  {
    "text": "release actually now that I look at the",
    "start": "331840",
    "end": "333360"
  },
  {
    "text": "arrows so pretend that it wasn't that",
    "start": "333360",
    "end": "336120"
  },
  {
    "text": "Arrow wasn't splitting but um you deploy",
    "start": "336120",
    "end": "338880"
  },
  {
    "text": "that new front end and you've deployed a",
    "start": "338880",
    "end": "340639"
  },
  {
    "text": "new back end but if there is a version",
    "start": "340639",
    "end": "343639"
  },
  {
    "text": "mismatch between your current front end",
    "start": "343639",
    "end": "346120"
  },
  {
    "text": "and the back end uh like it'll explode",
    "start": "346120",
    "end": "350199"
  },
  {
    "text": "right um because maybe the front end is",
    "start": "350199",
    "end": "352440"
  },
  {
    "text": "trying to pull a value that's not",
    "start": "352440",
    "end": "355080"
  },
  {
    "text": "existing on the old back end right so",
    "start": "355080",
    "end": "357440"
  },
  {
    "text": "you have to be able to version these",
    "start": "357440",
    "end": "358720"
  },
  {
    "text": "things and match them them and um so",
    "start": "358720",
    "end": "361800"
  },
  {
    "text": "what happens uh a lot of the time is",
    "start": "361800",
    "end": "364360"
  },
  {
    "text": "people get to this point where they're",
    "start": "364360",
    "end": "366240"
  },
  {
    "text": "like uhoh I tried to use Canary I tried",
    "start": "366240",
    "end": "369520"
  },
  {
    "text": "to use a canary release I tried to use a",
    "start": "369520",
    "end": "370960"
  },
  {
    "text": "blue green release and I tried to deploy",
    "start": "370960",
    "end": "374199"
  },
  {
    "text": "a new service but it was talking to an",
    "start": "374199",
    "end": "376880"
  },
  {
    "text": "old service that wasn't ready for it and",
    "start": "376880",
    "end": "379319"
  },
  {
    "text": "the thing exploded and fell over and so",
    "start": "379319",
    "end": "382440"
  },
  {
    "text": "you just give up and you're like Canary",
    "start": "382440",
    "end": "384759"
  },
  {
    "text": "is too hard blue greens too hard",
    "start": "384759",
    "end": "386840"
  },
  {
    "text": "Progressive deliver is too hard it's",
    "start": "386840",
    "end": "388720"
  },
  {
    "text": "like too complex to do and uh so you",
    "start": "388720",
    "end": "391880"
  },
  {
    "text": "give up you uninstall Argo rollouts you",
    "start": "391880",
    "end": "394240"
  },
  {
    "text": "you unhook your deployment and then you",
    "start": "394240",
    "end": "396599"
  },
  {
    "text": "go home and you cry and uh your boss is",
    "start": "396599",
    "end": "399639"
  },
  {
    "text": "like yeah Canary maybe one day blue",
    "start": "399639",
    "end": "401800"
  },
  {
    "text": "green maybe one day but it's too hard",
    "start": "401800",
    "end": "403840"
  },
  {
    "text": "cool so that's the end of my talk thanks",
    "start": "403840",
    "end": "405160"
  },
  {
    "text": "for",
    "start": "405160",
    "end": "407039"
  },
  {
    "text": "coming uh no no we can do something",
    "start": "407039",
    "end": "409360"
  },
  {
    "text": "about that right um there's a way to",
    "start": "409360",
    "end": "410840"
  },
  {
    "text": "solve this so we're going to talk about",
    "start": "410840",
    "end": "413039"
  },
  {
    "text": "three scenarios and um I've got a giant",
    "start": "413039",
    "end": "415639"
  },
  {
    "text": "QR code where you can follow along this",
    "start": "415639",
    "end": "417479"
  },
  {
    "text": "is uh built on a Blog post that uh and a",
    "start": "417479",
    "end": "421000"
  },
  {
    "text": "technique that was put together by",
    "start": "421000",
    "end": "422400"
  },
  {
    "text": "costess who's sitting in the front row",
    "start": "422400",
    "end": "424160"
  },
  {
    "text": "who's on the codefresh team he's",
    "start": "424160",
    "end": "425400"
  },
  {
    "text": "brilliant uh far far smarter than we",
    "start": "425400",
    "end": "427919"
  },
  {
    "text": "deserve and U he actually came up with",
    "start": "427919",
    "end": "430360"
  },
  {
    "text": "these techniques and uh he's an argor",
    "start": "430360",
    "end": "432120"
  },
  {
    "text": "rollouts maintainer um and uh does a ton",
    "start": "432120",
    "end": "434960"
  },
  {
    "text": "of work so the first scenario oh oh well",
    "start": "434960",
    "end": "437759"
  },
  {
    "text": "first let's introduce our application so",
    "start": "437759",
    "end": "439639"
  },
  {
    "text": "um our application is really simple it",
    "start": "439639",
    "end": "442440"
  },
  {
    "text": "consists of a front end and a back end",
    "start": "442440",
    "end": "444879"
  },
  {
    "text": "and one of the amazing things about this",
    "start": "444879",
    "end": "446960"
  },
  {
    "text": "application is it tells you what version",
    "start": "446960",
    "end": "449639"
  },
  {
    "text": "it's running and what version of back",
    "start": "449639",
    "end": "451680"
  },
  {
    "text": "end it's talking to uh so this allows us",
    "start": "451680",
    "end": "454280"
  },
  {
    "text": "to actually make sure that these",
    "start": "454280",
    "end": "455680"
  },
  {
    "text": "versions um we always know what's going",
    "start": "455680",
    "end": "457720"
  },
  {
    "text": "on and this this is a sample application",
    "start": "457720",
    "end": "459680"
  },
  {
    "text": "it's available on GitHub and it's linked",
    "start": "459680",
    "end": "461120"
  },
  {
    "text": "in the blog post that I mentioned",
    "start": "461120",
    "end": "462599"
  },
  {
    "text": "earlier and I'll have another link later",
    "start": "462599",
    "end": "464000"
  },
  {
    "text": "that you can grab it on so let's go",
    "start": "464000",
    "end": "465680"
  },
  {
    "text": "through a modern application and when I",
    "start": "465680",
    "end": "468000"
  },
  {
    "text": "say a modern application what I'm",
    "start": "468000",
    "end": "469919"
  },
  {
    "text": "talking about is like that 12 Factor app",
    "start": "469919",
    "end": "473400"
  },
  {
    "text": "that is fine with talking to different",
    "start": "473400",
    "end": "476199"
  },
  {
    "text": "versions it's got a versioned API right",
    "start": "476199",
    "end": "477879"
  },
  {
    "text": "so if I update the front end it knows",
    "start": "477879",
    "end": "480440"
  },
  {
    "text": "that if it's talking to the back end uh",
    "start": "480440",
    "end": "483319"
  },
  {
    "text": "it it can fail you know gracefully if",
    "start": "483319",
    "end": "485680"
  },
  {
    "text": "the feature is not available it won't",
    "start": "485680",
    "end": "487159"
  },
  {
    "text": "expose it in the front end if it is",
    "start": "487159",
    "end": "489120"
  },
  {
    "text": "available it will expose it this is like",
    "start": "489120",
    "end": "491280"
  },
  {
    "text": "a modern application and this is how we",
    "start": "491280",
    "end": "493360"
  },
  {
    "text": "should be architecting our applications",
    "start": "493360",
    "end": "495520"
  },
  {
    "text": "right if we're not architecting them",
    "start": "495520",
    "end": "496919"
  },
  {
    "text": "this way then they're more monolithic",
    "start": "496919",
    "end": "498960"
  },
  {
    "text": "but a a blue green deployment um is",
    "start": "498960",
    "end": "502319"
  },
  {
    "text": "pretty simple right in stage one only",
    "start": "502319",
    "end": "504680"
  },
  {
    "text": "version one is deployed in stage two we",
    "start": "504680",
    "end": "507240"
  },
  {
    "text": "deploy a new backend right version two",
    "start": "507240",
    "end": "509919"
  },
  {
    "text": "of our backend and we can run smoke",
    "start": "509919",
    "end": "511599"
  },
  {
    "text": "tests against that make sure it looks",
    "start": "511599",
    "end": "513159"
  },
  {
    "text": "good um do QA whatever but the user",
    "start": "513159",
    "end": "515919"
  },
  {
    "text": "still only getting version one across",
    "start": "515919",
    "end": "518279"
  },
  {
    "text": "the board and then we switch over the",
    "start": "518279",
    "end": "520919"
  },
  {
    "text": "traffic at once so that uh now the ver",
    "start": "520919",
    "end": "524560"
  },
  {
    "text": "the front end is talking to the new back",
    "start": "524560",
    "end": "526880"
  },
  {
    "text": "end and we can again run tests on that",
    "start": "526880",
    "end": "529880"
  },
  {
    "text": "in in stage four uh sorry in stage three",
    "start": "529880",
    "end": "533279"
  },
  {
    "text": "we can run test against that and stage",
    "start": "533279",
    "end": "535320"
  },
  {
    "text": "four we can introduce the new version of",
    "start": "535320",
    "end": "537399"
  },
  {
    "text": "the UI that relies on those back end",
    "start": "537399",
    "end": "539560"
  },
  {
    "text": "changes right and then um uh people are",
    "start": "539560",
    "end": "542880"
  },
  {
    "text": "still only getting the front end but",
    "start": "542880",
    "end": "544240"
  },
  {
    "text": "once we've tested it we switch everybody",
    "start": "544240",
    "end": "545839"
  },
  {
    "text": "over to to two so we've we've got",
    "start": "545839",
    "end": "548560"
  },
  {
    "text": "essentially two different Progressive",
    "start": "548560",
    "end": "550519"
  },
  {
    "text": "deliveries happening um two different",
    "start": "550519",
    "end": "553079"
  },
  {
    "text": "blue green deployments happening here",
    "start": "553079",
    "end": "554600"
  },
  {
    "text": "and they're basically happening they're",
    "start": "554600",
    "end": "557160"
  },
  {
    "text": "happening linearly but they're in",
    "start": "557160",
    "end": "560120"
  },
  {
    "text": "they're independent of one another so",
    "start": "560120",
    "end": "561640"
  },
  {
    "text": "this is a this is the best case scenario",
    "start": "561640",
    "end": "563160"
  },
  {
    "text": "because you're using a modern",
    "start": "563160",
    "end": "564079"
  },
  {
    "text": "application it's got a versioned API um",
    "start": "564079",
    "end": "566399"
  },
  {
    "text": "it's not going to explode so you're okay",
    "start": "566399",
    "end": "568680"
  },
  {
    "text": "with this even though you have to Stage",
    "start": "568680",
    "end": "570240"
  },
  {
    "text": "out these deployments uh you know to",
    "start": "570240",
    "end": "572839"
  },
  {
    "text": "happen one after the other this is fine",
    "start": "572839",
    "end": "576000"
  },
  {
    "text": "right um and then scenario two is very",
    "start": "576000",
    "end": "578800"
  },
  {
    "text": "similar but it's the reverse so it's",
    "start": "578800",
    "end": "580680"
  },
  {
    "text": "like I deploy a new front end first so",
    "start": "580680",
    "end": "582920"
  },
  {
    "text": "maybe you have uh maybe you have some uh",
    "start": "582920",
    "end": "586640"
  },
  {
    "text": "your front end is architected so it",
    "start": "586640",
    "end": "588000"
  },
  {
    "text": "doesn't rely on the back end so in that",
    "start": "588000",
    "end": "589720"
  },
  {
    "text": "case in stage two the front end gets",
    "start": "589720",
    "end": "591640"
  },
  {
    "text": "deployed it's still pointed to the old",
    "start": "591640",
    "end": "593160"
  },
  {
    "text": "back end um stage three you've you've",
    "start": "593160",
    "end": "596800"
  },
  {
    "text": "switched over you know the users are now",
    "start": "596800",
    "end": "599680"
  },
  {
    "text": "getting the front end traffic stage four",
    "start": "599680",
    "end": "601959"
  },
  {
    "text": "you then deploy the new backend you run",
    "start": "601959",
    "end": "604279"
  },
  {
    "text": "smoke test and then stage five",
    "start": "604279",
    "end": "605600"
  },
  {
    "text": "everybody's getting the new version of",
    "start": "605600",
    "end": "606880"
  },
  {
    "text": "both right so this is same thing as the",
    "start": "606880",
    "end": "609040"
  },
  {
    "text": "first scenario except in Reverse right",
    "start": "609040",
    "end": "611839"
  },
  {
    "text": "because you might have an application",
    "start": "611839",
    "end": "613839"
  },
  {
    "text": "depending on what you're doing um you",
    "start": "613839",
    "end": "616120"
  },
  {
    "text": "might have to order front end and back",
    "start": "616120",
    "end": "618640"
  },
  {
    "text": "end differently right okay so that's",
    "start": "618640",
    "end": "621640"
  },
  {
    "text": "that's actually pretty simple to do",
    "start": "621640",
    "end": "623079"
  },
  {
    "text": "today that's just a simple you know Argo",
    "start": "623079",
    "end": "625399"
  },
  {
    "text": "roll out um you basically just set up",
    "start": "625399",
    "end": "627440"
  },
  {
    "text": "two of them and then you have have some",
    "start": "627440",
    "end": "630440"
  },
  {
    "text": "orchestration to Stage them out maybe a",
    "start": "630440",
    "end": "632920"
  },
  {
    "text": "CI CD pipeline that's going to kick off",
    "start": "632920",
    "end": "635959"
  },
  {
    "text": "one and then kick off the next one when",
    "start": "635959",
    "end": "637720"
  },
  {
    "text": "you're done or maybe you're going to",
    "start": "637720",
    "end": "638880"
  },
  {
    "text": "fire off a job that creates the next",
    "start": "638880",
    "end": "641360"
  },
  {
    "text": "roll out whatever it is so that's pretty",
    "start": "641360",
    "end": "643360"
  },
  {
    "text": "simple um but uh these scenarios are",
    "start": "643360",
    "end": "648360"
  },
  {
    "text": "unfortunately not available most of the",
    "start": "648360",
    "end": "650839"
  },
  {
    "text": "time for a lot of users and we would",
    "start": "650839",
    "end": "652920"
  },
  {
    "text": "consider these Legacy scenarios so like",
    "start": "652920",
    "end": "655160"
  },
  {
    "text": "can I mismatch versions between front",
    "start": "655160",
    "end": "657399"
  },
  {
    "text": "end and and back end if you can do that",
    "start": "657399",
    "end": "660440"
  },
  {
    "text": "then you're in the modern boat but if",
    "start": "660440",
    "end": "662399"
  },
  {
    "text": "you're not you're in the Legacy boat and",
    "start": "662399",
    "end": "664120"
  },
  {
    "text": "there's a couple of different situations",
    "start": "664120",
    "end": "665680"
  },
  {
    "text": "that would put you in the Legacy boat so",
    "start": "665680",
    "end": "667200"
  },
  {
    "text": "the first one would be you have a",
    "start": "667200",
    "end": "668959"
  },
  {
    "text": "feature that requires changes to two",
    "start": "668959",
    "end": "671240"
  },
  {
    "text": "services at the same time that's what I",
    "start": "671240",
    "end": "673360"
  },
  {
    "text": "mentioned most of the time that we're",
    "start": "673360",
    "end": "675079"
  },
  {
    "text": "deploying new features they do require",
    "start": "675079",
    "end": "677839"
  },
  {
    "text": "updating more than one service right um",
    "start": "677839",
    "end": "680959"
  },
  {
    "text": "that's I I would say that in my",
    "start": "680959",
    "end": "682880"
  },
  {
    "text": "experience it's like you know a",
    "start": "682880",
    "end": "685360"
  },
  {
    "text": "plurality at the very least 40% of the",
    "start": "685360",
    "end": "687399"
  },
  {
    "text": "time 60% of the time that that that's",
    "start": "687399",
    "end": "689800"
  },
  {
    "text": "happening that way um some Services",
    "start": "689800",
    "end": "692040"
  },
  {
    "text": "don't provide versioned apis and a lot",
    "start": "692040",
    "end": "694320"
  },
  {
    "text": "of times companies that are just",
    "start": "694320",
    "end": "696160"
  },
  {
    "text": "deploying Services don't version their",
    "start": "696160",
    "end": "698279"
  },
  {
    "text": "apis because it's not worth their time",
    "start": "698279",
    "end": "701160"
  },
  {
    "text": "they don't view it as worth their time",
    "start": "701160",
    "end": "702839"
  },
  {
    "text": "um like how many of you cut a release",
    "start": "702839",
    "end": "705720"
  },
  {
    "text": "like a git release when you deploy a new",
    "start": "705720",
    "end": "707760"
  },
  {
    "text": "version of software like hands up yeah",
    "start": "707760",
    "end": "710959"
  },
  {
    "text": "not that many yeah it's rare right most",
    "start": "710959",
    "end": "713399"
  },
  {
    "text": "people don't do that extra step because",
    "start": "713399",
    "end": "715760"
  },
  {
    "text": "they're like I'm the only one consuming",
    "start": "715760",
    "end": "717200"
  },
  {
    "text": "this or it's just my team or it's just a",
    "start": "717200",
    "end": "718560"
  },
  {
    "text": "couple team teams so I'm not going to",
    "start": "718560",
    "end": "719880"
  },
  {
    "text": "cut a release um so maybe they don't you",
    "start": "719880",
    "end": "722000"
  },
  {
    "text": "don't have uh versioned apis another",
    "start": "722000",
    "end": "724160"
  },
  {
    "text": "issue is maybe your integration tests",
    "start": "724160",
    "end": "727000"
  },
  {
    "text": "can't fully run right until both those",
    "start": "727000",
    "end": "730360"
  },
  {
    "text": "services are deployed you actually can't",
    "start": "730360",
    "end": "732959"
  },
  {
    "text": "run all of the tests that you need to",
    "start": "732959",
    "end": "735160"
  },
  {
    "text": "run that's another scenario um and then",
    "start": "735160",
    "end": "737240"
  },
  {
    "text": "there's another kind of",
    "start": "737240",
    "end": "739120"
  },
  {
    "text": "bonus uh",
    "start": "739120",
    "end": "741399"
  },
  {
    "text": "situation that we're going to cover in",
    "start": "741399",
    "end": "743440"
  },
  {
    "text": "here um which is what if you're only",
    "start": "743440",
    "end": "745839"
  },
  {
    "text": "updating configuration not binaries now",
    "start": "745839",
    "end": "748399"
  },
  {
    "text": "this is a an artifact of using Argo",
    "start": "748399",
    "end": "751120"
  },
  {
    "text": "rollouts uh so here's the scenario",
    "start": "751120",
    "end": "753959"
  },
  {
    "text": "imagine that you have a deployment and",
    "start": "753959",
    "end": "756639"
  },
  {
    "text": "you've got a new image now if you've",
    "start": "756639",
    "end": "758720"
  },
  {
    "text": "used Argo rollouts you know I update my",
    "start": "758720",
    "end": "761240"
  },
  {
    "text": "image tag I deploy the new roll out Argo",
    "start": "761240",
    "end": "764880"
  },
  {
    "text": "rollouts controller is going to pick it",
    "start": "764880",
    "end": "766240"
  },
  {
    "text": "up and deploy it what if I change a",
    "start": "766240",
    "end": "768639"
  },
  {
    "text": "config map that is loading values into",
    "start": "768639",
    "end": "770600"
  },
  {
    "text": "that pod everybody knows oh you update",
    "start": "770600",
    "end": "773680"
  },
  {
    "text": "the config map and then nothing happens",
    "start": "773680",
    "end": "776920"
  },
  {
    "text": "right because the that are currently",
    "start": "776920",
    "end": "779639"
  },
  {
    "text": "running they're not going to restart and",
    "start": "779639",
    "end": "782440"
  },
  {
    "text": "you might it's not there's no change to",
    "start": "782440",
    "end": "784680"
  },
  {
    "text": "the binary to run there's no change to",
    "start": "784680",
    "end": "786600"
  },
  {
    "text": "the configuration of your deployment to",
    "start": "786600",
    "end": "788120"
  },
  {
    "text": "run so it's not going to kick off a new",
    "start": "788120",
    "end": "791440"
  },
  {
    "text": "deployment because all you changed was a",
    "start": "791440",
    "end": "793160"
  },
  {
    "text": "config map so um you'll sometimes see",
    "start": "793160",
    "end": "796000"
  },
  {
    "text": "that there are like people using Argo CD",
    "start": "796000",
    "end": "798720"
  },
  {
    "text": "will have like a a a post sync job that",
    "start": "798720",
    "end": "801760"
  },
  {
    "text": "kills all their pods to force them to",
    "start": "801760",
    "end": "805120"
  },
  {
    "text": "restart doesn't that sound terrible it's",
    "start": "805120",
    "end": "807800"
  },
  {
    "text": "like a terrible way to do it right it's",
    "start": "807800",
    "end": "809320"
  },
  {
    "text": "like an awful um it's awful experience",
    "start": "809320",
    "end": "812680"
  },
  {
    "text": "they like yeah good news I killed all",
    "start": "812680",
    "end": "814160"
  },
  {
    "text": "the pods and they like what happens if",
    "start": "814160",
    "end": "815920"
  },
  {
    "text": "they don't restart like you just have",
    "start": "815920",
    "end": "817680"
  },
  {
    "text": "downtime this is terrible um why would",
    "start": "817680",
    "end": "820240"
  },
  {
    "text": "you do that so Coast just came up with a",
    "start": "820240",
    "end": "822279"
  },
  {
    "text": "really brilliant technique to handle",
    "start": "822279",
    "end": "823560"
  },
  {
    "text": "that scenario that we're going to cover",
    "start": "823560",
    "end": "825160"
  },
  {
    "text": "in here okay so this is what we're",
    "start": "825160",
    "end": "828000"
  },
  {
    "text": "actually here to talk about is scenario",
    "start": "828000",
    "end": "829639"
  },
  {
    "text": "three the Legacy application now in this",
    "start": "829639",
    "end": "832360"
  },
  {
    "text": "case the user you can see on the user",
    "start": "832360",
    "end": "836320"
  },
  {
    "text": "timeline they are only going to get",
    "start": "836320",
    "end": "838720"
  },
  {
    "text": "front end and backend matching Services",
    "start": "838720",
    "end": "840839"
  },
  {
    "text": "throughout they're only going to be",
    "start": "840839",
    "end": "842759"
  },
  {
    "text": "using version one or they're only going",
    "start": "842759",
    "end": "844320"
  },
  {
    "text": "to be vers using version two but they're",
    "start": "844320",
    "end": "846199"
  },
  {
    "text": "never going to be using a mismatch like",
    "start": "846199",
    "end": "848320"
  },
  {
    "text": "in the previous two scenarios um so even",
    "start": "848320",
    "end": "851600"
  },
  {
    "text": "though in step two yeah we deploy a back",
    "start": "851600",
    "end": "853839"
  },
  {
    "text": "end and we can run tests against it",
    "start": "853839",
    "end": "856000"
  },
  {
    "text": "stage three we deploy the new front end",
    "start": "856000",
    "end": "858279"
  },
  {
    "text": "and now we can run full integration",
    "start": "858279",
    "end": "860040"
  },
  {
    "text": "tests on those two services that are",
    "start": "860040",
    "end": "862560"
  },
  {
    "text": "linked um and then in stage four we can",
    "start": "862560",
    "end": "865320"
  },
  {
    "text": "switch over the traffic and then",
    "start": "865320",
    "end": "866920"
  },
  {
    "text": "actually pull down those uh previous",
    "start": "866920",
    "end": "868959"
  },
  {
    "text": "Services you're not running them anymore",
    "start": "868959",
    "end": "870600"
  },
  {
    "text": "and then you have everybody moving and",
    "start": "870600",
    "end": "872800"
  },
  {
    "text": "switching all at once right this is a",
    "start": "872800",
    "end": "874480"
  },
  {
    "text": "blue green now everything that I'm",
    "start": "874480",
    "end": "876240"
  },
  {
    "text": "showing you applies equally to Canary",
    "start": "876240",
    "end": "879160"
  },
  {
    "text": "releases you can do the exact same this",
    "start": "879160",
    "end": "881279"
  },
  {
    "text": "exact same technique will work with a",
    "start": "881279",
    "end": "882759"
  },
  {
    "text": "canary release just fine um for the sake",
    "start": "882759",
    "end": "885120"
  },
  {
    "text": "of demoing it's easier to demo it as a",
    "start": "885120",
    "end": "887360"
  },
  {
    "text": "blue green um because it's more obvious",
    "start": "887360",
    "end": "889360"
  },
  {
    "text": "what's happening but uh but you can you",
    "start": "889360",
    "end": "891720"
  },
  {
    "text": "can use these techniques um for both",
    "start": "891720",
    "end": "893839"
  },
  {
    "text": "cases so the requirements to get your",
    "start": "893839",
    "end": "896399"
  },
  {
    "text": "legacy apps running and deploying in",
    "start": "896399",
    "end": "899120"
  },
  {
    "text": "synchronoscope",
    "start": "899120",
    "end": "902120"
  },
  {
    "text": "um and if if you say hey this is going",
    "start": "928880",
    "end": "930600"
  },
  {
    "text": "to allow us to do Progressive delivery",
    "start": "930600",
    "end": "932079"
  },
  {
    "text": "and it's going to reduce our blast",
    "start": "932079",
    "end": "933160"
  },
  {
    "text": "radius and it's going to make our",
    "start": "933160",
    "end": "934600"
  },
  {
    "text": "services more reliable it's going to",
    "start": "934600",
    "end": "936279"
  },
  {
    "text": "lower the barrier for you to deploy new",
    "start": "936279",
    "end": "938160"
  },
  {
    "text": "stuff they should be on board um and",
    "start": "938160",
    "end": "940000"
  },
  {
    "text": "then on the right hand side I have uh",
    "start": "940000",
    "end": "942560"
  },
  {
    "text": "you can see uh this is from either a",
    "start": "942560",
    "end": "945600"
  },
  {
    "text": "either a deployment or from a rollout um",
    "start": "945600",
    "end": "948440"
  },
  {
    "text": "and we just are pulling the value from",
    "start": "948440",
    "end": "951399"
  },
  {
    "text": "uh that backend host and we're loading",
    "start": "951399",
    "end": "954040"
  },
  {
    "text": "it from a config map okay um so the the",
    "start": "954040",
    "end": "958639"
  },
  {
    "text": "second component to make this work is",
    "start": "958639",
    "end": "961519"
  },
  {
    "text": "you need to have a config map generator",
    "start": "961519",
    "end": "964279"
  },
  {
    "text": "now for those of you that are big Helm",
    "start": "964279",
    "end": "966199"
  },
  {
    "text": "users you might not be familiar with",
    "start": "966199",
    "end": "967639"
  },
  {
    "text": "this because this is a customized",
    "start": "967639",
    "end": "969000"
  },
  {
    "text": "feature um and I'll show you how it",
    "start": "969000",
    "end": "971880"
  },
  {
    "text": "works um",
    "start": "971880",
    "end": "973959"
  },
  {
    "text": "so with a config map generator uh on the",
    "start": "973959",
    "end": "979360"
  },
  {
    "text": "right hand side you can see that we've",
    "start": "979360",
    "end": "981600"
  },
  {
    "text": "got a config map generator and I've set",
    "start": "981600",
    "end": "983720"
  },
  {
    "text": "all my values and uh on the left hand",
    "start": "983720",
    "end": "987279"
  },
  {
    "text": "side I've got my normal",
    "start": "987279",
    "end": "989199"
  },
  {
    "text": "configuration saying that I'm going to",
    "start": "989199",
    "end": "992240"
  },
  {
    "text": "be pulling the value from a config map",
    "start": "992240",
    "end": "994120"
  },
  {
    "text": "just like I would in vanilla kubernetes",
    "start": "994120",
    "end": "995800"
  },
  {
    "text": "right but here I'm using customize to do",
    "start": "995800",
    "end": "997759"
  },
  {
    "text": "this now what's going to happen and",
    "start": "997759",
    "end": "1000560"
  },
  {
    "text": "you're going to see why this is you're",
    "start": "1000560",
    "end": "1002160"
  },
  {
    "text": "all like I don't understand why you're",
    "start": "1002160",
    "end": "1003360"
  },
  {
    "text": "talking to me about this you'll see it",
    "start": "1003360",
    "end": "1004319"
  },
  {
    "text": "in a second um what's going to happen",
    "start": "1004319",
    "end": "1007199"
  },
  {
    "text": "when I render this customization it's",
    "start": "1007199",
    "end": "1010279"
  },
  {
    "text": "going to generate a unique config map",
    "start": "1010279",
    "end": "1012600"
  },
  {
    "text": "name and then all of those values in my",
    "start": "1012600",
    "end": "1016240"
  },
  {
    "text": "deployment or my roll out are going to",
    "start": "1016240",
    "end": "1018000"
  },
  {
    "text": "get updated to pull from that now unique",
    "start": "1018000",
    "end": "1021199"
  },
  {
    "text": "uh config map so that means that I",
    "start": "1021199",
    "end": "1025079"
  },
  {
    "text": "actually have two config Maps when I",
    "start": "1025079",
    "end": "1027120"
  },
  {
    "text": "kick off my roll out right the one that",
    "start": "1027120",
    "end": "1028720"
  },
  {
    "text": "existed before and the new one and the",
    "start": "1028720",
    "end": "1031160"
  },
  {
    "text": "new roll out references the new config",
    "start": "1031160",
    "end": "1032880"
  },
  {
    "text": "map and the old one references the old",
    "start": "1032880",
    "end": "1034240"
  },
  {
    "text": "config map so I don't have to go kill",
    "start": "1034240",
    "end": "1036839"
  },
  {
    "text": "pods I've got a new roll out that's",
    "start": "1036839",
    "end": "1038959"
  },
  {
    "text": "using the new config map and there's no",
    "start": "1038959",
    "end": "1041558"
  },
  {
    "text": "ambiguity can you imagine a scenario",
    "start": "1041559",
    "end": "1043640"
  },
  {
    "text": "where you update your config map and",
    "start": "1043640",
    "end": "1045079"
  },
  {
    "text": "then pods accidentally die and your your",
    "start": "1045079",
    "end": "1048120"
  },
  {
    "text": "app application is now broken because",
    "start": "1048120",
    "end": "1049960"
  },
  {
    "text": "it's taken new configuration and now how",
    "start": "1049960",
    "end": "1052360"
  },
  {
    "text": "do you fix it you got to roll back and",
    "start": "1052360",
    "end": "1054039"
  },
  {
    "text": "how do you roll back you roll back your",
    "start": "1054039",
    "end": "1056720"
  },
  {
    "text": "config map and then you kill pods what",
    "start": "1056720",
    "end": "1060679"
  },
  {
    "text": "terrible terrible don't do that it's bad",
    "start": "1060679",
    "end": "1063919"
  },
  {
    "text": "so using using this setup your config",
    "start": "1063919",
    "end": "1067799"
  },
  {
    "text": "map is versioned along with your",
    "start": "1067799",
    "end": "1070400"
  },
  {
    "text": "deployment or your roll out okay so",
    "start": "1070400",
    "end": "1072280"
  },
  {
    "text": "that's going to be key to this technique",
    "start": "1072280",
    "end": "1074799"
  },
  {
    "text": "um and uh again I I've thrown up the",
    "start": "1074799",
    "end": "1077600"
  },
  {
    "text": "link to the blog post post here I'll let",
    "start": "1077600",
    "end": "1079640"
  },
  {
    "text": "this slide sit for like 3 seconds if you",
    "start": "1079640",
    "end": "1081360"
  },
  {
    "text": "want to scan it and of course the slides",
    "start": "1081360",
    "end": "1083280"
  },
  {
    "text": "are going to be available",
    "start": "1083280",
    "end": "1084799"
  },
  {
    "text": "afterwards um okay so let's let's show",
    "start": "1084799",
    "end": "1088000"
  },
  {
    "text": "you how this all works in action so to",
    "start": "1088000",
    "end": "1091240"
  },
  {
    "text": "do this I've got and hopefully you can",
    "start": "1091240",
    "end": "1094360"
  },
  {
    "text": "see these reasonably",
    "start": "1094360",
    "end": "1096960"
  },
  {
    "text": "well um I've got two uh I've got my",
    "start": "1096960",
    "end": "1100440"
  },
  {
    "text": "service right here's my application and",
    "start": "1100440",
    "end": "1102440"
  },
  {
    "text": "I've got two different these look",
    "start": "1102440",
    "end": "1104640"
  },
  {
    "text": "identical right now they're different",
    "start": "1104640",
    "end": "1105880"
  },
  {
    "text": "ports so these are these are looking at",
    "start": "1105880",
    "end": "1108720"
  },
  {
    "text": "um a preview version and the customer",
    "start": "1108720",
    "end": "1111360"
  },
  {
    "text": "view version of my application right",
    "start": "1111360",
    "end": "1113400"
  },
  {
    "text": "here okay and um I can see you can see",
    "start": "1113400",
    "end": "1116520"
  },
  {
    "text": "I've got two rollouts this is for my",
    "start": "1116520",
    "end": "1118120"
  },
  {
    "text": "front end and this is for my back end",
    "start": "1118120",
    "end": "1120240"
  },
  {
    "text": "and they're both currently sitting",
    "start": "1120240",
    "end": "1121679"
  },
  {
    "text": "steady we haven't deployed any changes",
    "start": "1121679",
    "end": "1124120"
  },
  {
    "text": "okay um now of course you could do this",
    "start": "1124120",
    "end": "1127080"
  },
  {
    "text": "all with gitops and using uh using um",
    "start": "1127080",
    "end": "1132600"
  },
  {
    "text": "you know you could be making get commits",
    "start": "1132600",
    "end": "1134240"
  },
  {
    "text": "but for the sake of demo we're going to",
    "start": "1134240",
    "end": "1135240"
  },
  {
    "text": "keep it simple so uh here's my",
    "start": "1135240",
    "end": "1137760"
  },
  {
    "text": "configuration",
    "start": "1137760",
    "end": "1139760"
  },
  {
    "text": "oops okay so here's my configuration",
    "start": "1139760",
    "end": "1142120"
  },
  {
    "text": "here's my customization and you can see",
    "start": "1142120",
    "end": "1144720"
  },
  {
    "text": "that I've using a config map generator",
    "start": "1144720",
    "end": "1147880"
  },
  {
    "text": "and I have settings that I'm passing to",
    "start": "1147880",
    "end": "1149720"
  },
  {
    "text": "my backend to specify what version it is",
    "start": "1149720",
    "end": "1152559"
  },
  {
    "text": "and I have settings that I'm specifying",
    "start": "1152559",
    "end": "1154360"
  },
  {
    "text": "to my front end to say what version it",
    "start": "1154360",
    "end": "1156600"
  },
  {
    "text": "is and I have a backend um host that I'm",
    "start": "1156600",
    "end": "1160600"
  },
  {
    "text": "specifying what the front end is",
    "start": "1160600",
    "end": "1162280"
  },
  {
    "text": "supposed to be pointing at now remember",
    "start": "1162280",
    "end": "1163799"
  },
  {
    "text": "this is living on the roll out right so",
    "start": "1163799",
    "end": "1167360"
  },
  {
    "text": "if I don't EXP expose that to users that",
    "start": "1167360",
    "end": "1170200"
  },
  {
    "text": "new front end people aren't going to get",
    "start": "1170200",
    "end": "1172880"
  },
  {
    "text": "that traffic okay so let's first start",
    "start": "1172880",
    "end": "1175760"
  },
  {
    "text": "by updating the back end we're going to",
    "start": "1175760",
    "end": "1177120"
  },
  {
    "text": "move this to",
    "start": "1177120",
    "end": "1178360"
  },
  {
    "text": "2.0 and uh let's apply",
    "start": "1178360",
    "end": "1182159"
  },
  {
    "text": "that so we're going to do a k apply",
    "start": "1182159",
    "end": "1185640"
  },
  {
    "text": "manifest again you can do this with with",
    "start": "1185640",
    "end": "1188159"
  },
  {
    "text": "kops right okay so we can see this is",
    "start": "1188159",
    "end": "1190640"
  },
  {
    "text": "going to kick off a new roll out so now",
    "start": "1190640",
    "end": "1193799"
  },
  {
    "text": "I have my deployment here and for my uh",
    "start": "1193799",
    "end": "1198720"
  },
  {
    "text": "for my users by the way if you're using",
    "start": "1198720",
    "end": "1201440"
  },
  {
    "text": "port forwarding um anytime you change a",
    "start": "1201440",
    "end": "1203679"
  },
  {
    "text": "service you have to restart I'm just",
    "start": "1203679",
    "end": "1204960"
  },
  {
    "text": "going to restart it in the background",
    "start": "1204960",
    "end": "1206200"
  },
  {
    "text": "every time but you'll notice that",
    "start": "1206200",
    "end": "1207320"
  },
  {
    "text": "there's no change right because I've",
    "start": "1207320",
    "end": "1210240"
  },
  {
    "text": "only deployed the back end I haven't",
    "start": "1210240",
    "end": "1211880"
  },
  {
    "text": "deployed a new front end okay um so now",
    "start": "1211880",
    "end": "1216559"
  },
  {
    "text": "in order to kick off the view for my",
    "start": "1216559",
    "end": "1220120"
  },
  {
    "text": "users I'm going to need",
    "start": "1220120",
    "end": "1222600"
  },
  {
    "text": "to update my front end and I'll also",
    "start": "1222600",
    "end": "1226960"
  },
  {
    "text": "specify that the new version of my front",
    "start": "1226960",
    "end": "1229679"
  },
  {
    "text": "end is going to point to backend",
    "start": "1229679",
    "end": "1233240"
  },
  {
    "text": "preview um and so that's going to be the",
    "start": "1233240",
    "end": "1235280"
  },
  {
    "text": "service name that it's looking for in",
    "start": "1235280",
    "end": "1236760"
  },
  {
    "text": "kubernetes just using local kubernetes",
    "start": "1236760",
    "end": "1238760"
  },
  {
    "text": "URLs right okay and if I look at my back",
    "start": "1238760",
    "end": "1241360"
  },
  {
    "text": "end uh or sorry at my front end you can",
    "start": "1241360",
    "end": "1243840"
  },
  {
    "text": "see that it's it's currently only got",
    "start": "1243840",
    "end": "1245320"
  },
  {
    "text": "one version available and the back end",
    "start": "1245320",
    "end": "1247520"
  },
  {
    "text": "now has a uh two versions available one",
    "start": "1247520",
    "end": "1249840"
  },
  {
    "text": "in preview um not deployed yet so I'm",
    "start": "1249840",
    "end": "1252640"
  },
  {
    "text": "going to apply my changes again and",
    "start": "1252640",
    "end": "1256120"
  },
  {
    "text": "we're going to see the roll out kick off",
    "start": "1256120",
    "end": "1258480"
  },
  {
    "text": "so we can see it now has the new version",
    "start": "1258480",
    "end": "1260720"
  },
  {
    "text": "deployed and so now I have two new",
    "start": "1260720",
    "end": "1263799"
  },
  {
    "text": "versions and if I restart my port",
    "start": "1263799",
    "end": "1267480"
  },
  {
    "text": "forwards um again the Lo the users are",
    "start": "1267480",
    "end": "1270600"
  },
  {
    "text": "not going to get any difference they're",
    "start": "1270600",
    "end": "1271720"
  },
  {
    "text": "both getting front end and if I look at",
    "start": "1271720",
    "end": "1273840"
  },
  {
    "text": "my preview they're now getting version",
    "start": "1273840",
    "end": "1277480"
  },
  {
    "text": "2.0 right so I can now run smoke tests",
    "start": "1277480",
    "end": "1281799"
  },
  {
    "text": "against this I can run integration tests",
    "start": "1281799",
    "end": "1283440"
  },
  {
    "text": "against this I can have uh you know do",
    "start": "1283440",
    "end": "1286360"
  },
  {
    "text": "whatever validation I want users are not",
    "start": "1286360",
    "end": "1289000"
  },
  {
    "text": "getting a mismatched version here we",
    "start": "1289000",
    "end": "1291679"
  },
  {
    "text": "don't have a mismatched version and then",
    "start": "1291679",
    "end": "1294240"
  },
  {
    "text": "to complete this all I have to do is",
    "start": "1294240",
    "end": "1297240"
  },
  {
    "text": "finish promoting my blue green",
    "start": "1297240",
    "end": "1298600"
  },
  {
    "text": "deployment right so right now they're",
    "start": "1298600",
    "end": "1300039"
  },
  {
    "text": "only available as preview right so if I",
    "start": "1300039",
    "end": "1302360"
  },
  {
    "text": "want to switch it to tra switch it to um",
    "start": "1302360",
    "end": "1305400"
  },
  {
    "text": "over to",
    "start": "1305400",
    "end": "1306880"
  },
  {
    "text": "users um I'm just going to do a rollouts",
    "start": "1306880",
    "end": "1310080"
  },
  {
    "text": "promote and I'll promote the front end",
    "start": "1310080",
    "end": "1312320"
  },
  {
    "text": "first the front end is already pointing",
    "start": "1312320",
    "end": "1314200"
  },
  {
    "text": "at the back",
    "start": "1314200",
    "end": "1316400"
  },
  {
    "text": "end and uh this this is going to now",
    "start": "1316400",
    "end": "1318640"
  },
  {
    "text": "delete the old deployment you can see",
    "start": "1318640",
    "end": "1320200"
  },
  {
    "text": "these pods are still here but they're",
    "start": "1320200",
    "end": "1321640"
  },
  {
    "text": "going to delete in 24",
    "start": "1321640",
    "end": "1323520"
  },
  {
    "text": "seconds and let's restart my port",
    "start": "1323520",
    "end": "1326480"
  },
  {
    "text": "forward",
    "start": "1326480",
    "end": "1328120"
  },
  {
    "text": "in and if I refresh this now everybody's",
    "start": "1328120",
    "end": "1331360"
  },
  {
    "text": "getting version two altogether so",
    "start": "1331360",
    "end": "1333159"
  },
  {
    "text": "they're synced up so you have",
    "start": "1333159",
    "end": "1334320"
  },
  {
    "text": "synchronoscope",
    "start": "1334320",
    "end": "1337320"
  },
  {
    "text": "back end the uh preview version is still",
    "start": "1348080",
    "end": "1350360"
  },
  {
    "text": "hanging around but I don't need it to so",
    "start": "1350360",
    "end": "1353080"
  },
  {
    "text": "I can go ahead and promote my back end",
    "start": "1353080",
    "end": "1355480"
  },
  {
    "text": "as",
    "start": "1355480",
    "end": "1356679"
  },
  {
    "text": "well and that's going to kick off you",
    "start": "1356679",
    "end": "1359440"
  },
  {
    "text": "can see it's now starting the deletion",
    "start": "1359440",
    "end": "1361240"
  },
  {
    "text": "but it already the traffic has switched",
    "start": "1361240",
    "end": "1362880"
  },
  {
    "text": "over and again if I switch",
    "start": "1362880",
    "end": "1365799"
  },
  {
    "text": "these over um you're going to see that",
    "start": "1365799",
    "end": "1369200"
  },
  {
    "text": "there's no there's no change here",
    "start": "1369200",
    "end": "1370880"
  },
  {
    "text": "they're they're getting version two",
    "start": "1370880",
    "end": "1372559"
  },
  {
    "text": "right okay so um hopefully that was",
    "start": "1372559",
    "end": "1376919"
  },
  {
    "text": "clear what was happening there's a lot",
    "start": "1376919",
    "end": "1378679"
  },
  {
    "text": "of moving parts right um and I think",
    "start": "1378679",
    "end": "1381760"
  },
  {
    "text": "we'll have time for a question oh yeah",
    "start": "1381760",
    "end": "1383159"
  },
  {
    "text": "what what's your question go ahead and",
    "start": "1383159",
    "end": "1384400"
  },
  {
    "text": "I'll repeat",
    "start": "1384400",
    "end": "1386880"
  },
  {
    "text": "it yes that's right so in this case and",
    "start": "1388760",
    "end": "1391720"
  },
  {
    "text": "this is this is for demo purposes but",
    "start": "1391720",
    "end": "1395320"
  },
  {
    "text": "and and there's comments in here but um",
    "start": "1395320",
    "end": "1397520"
  },
  {
    "text": "when I reset this I should have a final",
    "start": "1397520",
    "end": "1399880"
  },
  {
    "text": "step to change this back to front end",
    "start": "1399880",
    "end": "1403039"
  },
  {
    "text": "right um just to reset it for the next",
    "start": "1403039",
    "end": "1405000"
  },
  {
    "text": "time but I could do it the next time",
    "start": "1405000",
    "end": "1406320"
  },
  {
    "text": "that I run uh or whatever it doesn't",
    "start": "1406320",
    "end": "1408559"
  },
  {
    "text": "matter because the frontend service is",
    "start": "1408559",
    "end": "1410000"
  },
  {
    "text": "going to is going to be automatically",
    "start": "1410000",
    "end": "1411520"
  },
  {
    "text": "pushing back but you're you're exactly",
    "start": "1411520",
    "end": "1412919"
  },
  {
    "text": "correct okay now um You can obviously",
    "start": "1412919",
    "end": "1416760"
  },
  {
    "text": "automate this process and you can see",
    "start": "1416760",
    "end": "1419400"
  },
  {
    "text": "here I've got like a cicd pipeline and",
    "start": "1419400",
    "end": "1421640"
  },
  {
    "text": "in this case it's deploying the new back",
    "start": "1421640",
    "end": "1424039"
  },
  {
    "text": "end it's running test and then it's",
    "start": "1424039",
    "end": "1425480"
  },
  {
    "text": "waiting for like a manual approval uh",
    "start": "1425480",
    "end": "1427799"
  },
  {
    "text": "and then when people hit approve it's",
    "start": "1427799",
    "end": "1429120"
  },
  {
    "text": "going to move to the next step and",
    "start": "1429120",
    "end": "1430120"
  },
  {
    "text": "deploy both um and then you can do the",
    "start": "1430120",
    "end": "1432000"
  },
  {
    "text": "promotion so of course you can automate",
    "start": "1432000",
    "end": "1433760"
  },
  {
    "text": "this but you would need like a cicd",
    "start": "1433760",
    "end": "1435200"
  },
  {
    "text": "pipeline to do it um today that would be",
    "start": "1435200",
    "end": "1438200"
  },
  {
    "text": "you know this is legacy and there are of",
    "start": "1438200",
    "end": "1440000"
  },
  {
    "text": "course gitops ways of doing this that um",
    "start": "1440000",
    "end": "1442520"
  },
  {
    "text": "codefresh is we actually announced this",
    "start": "1442520",
    "end": "1445120"
  },
  {
    "text": "week which you can go check out at our",
    "start": "1445120",
    "end": "1446400"
  },
  {
    "text": "booth um so you can find like the giops",
    "start": "1446400",
    "end": "1449279"
  },
  {
    "text": "way to do promotions uh but there are a",
    "start": "1449279",
    "end": "1451400"
  },
  {
    "text": "few warnings and caveats with this",
    "start": "1451400",
    "end": "1452760"
  },
  {
    "text": "technique now the big one is that if",
    "start": "1452760",
    "end": "1454679"
  },
  {
    "text": "you're using config map gener with",
    "start": "1454679",
    "end": "1456600"
  },
  {
    "text": "generator with Argo CD when you are",
    "start": "1456600",
    "end": "1459880"
  },
  {
    "text": "doing your promotion or roll out it may",
    "start": "1459880",
    "end": "1463640"
  },
  {
    "text": "delete the old config",
    "start": "1463640",
    "end": "1466799"
  },
  {
    "text": "map",
    "start": "1466799",
    "end": "1468799"
  },
  {
    "text": "before you want it to so if you go to do",
    "start": "1468799",
    "end": "1471440"
  },
  {
    "text": "a roll back the pods won't be able to",
    "start": "1471440",
    "end": "1473279"
  },
  {
    "text": "start because the config map is missing",
    "start": "1473279",
    "end": "1476360"
  },
  {
    "text": "okay so to fix that all you need to do",
    "start": "1476360",
    "end": "1479000"
  },
  {
    "text": "is add um and you can see I've actually",
    "start": "1479000",
    "end": "1481760"
  },
  {
    "text": "done it here in your config map",
    "start": "1481760",
    "end": "1483799"
  },
  {
    "text": "generator you just need to add prune",
    "start": "1483799",
    "end": "1485720"
  },
  {
    "text": "last so that'll make sure that the",
    "start": "1485720",
    "end": "1488120"
  },
  {
    "text": "config maps are the last thing that to",
    "start": "1488120",
    "end": "1490320"
  },
  {
    "text": "get deleted so if you have to do a roll",
    "start": "1490320",
    "end": "1492320"
  },
  {
    "text": "back they'll be available for you um and",
    "start": "1492320",
    "end": "1495080"
  },
  {
    "text": "so uh that's pretty important because if",
    "start": "1495080",
    "end": "1496760"
  },
  {
    "text": "you went to do a roll back like the",
    "start": "1496760",
    "end": "1498399"
  },
  {
    "text": "config map isn't there um and it fails",
    "start": "1498399",
    "end": "1500840"
  },
  {
    "text": "to complete the roll back that would be",
    "start": "1500840",
    "end": "1502640"
  },
  {
    "text": "a big problem um and that's basically it",
    "start": "1502640",
    "end": "1506120"
  },
  {
    "text": "there you go thank",
    "start": "1506120",
    "end": "1508919"
  },
  {
    "text": "you um it is uh it is lunch time now and",
    "start": "1511159",
    "end": "1514840"
  },
  {
    "text": "the session is officially over um but",
    "start": "1514840",
    "end": "1517279"
  },
  {
    "text": "I'll be available hanging out here if",
    "start": "1517279",
    "end": "1518960"
  },
  {
    "text": "you want to ask me any questions and",
    "start": "1518960",
    "end": "1520799"
  },
  {
    "text": "thank you again PR really appreciate the",
    "start": "1520799",
    "end": "1523480"
  },
  {
    "text": "great audience and wonderful uh warm",
    "start": "1523480",
    "end": "1526279"
  },
  {
    "text": "reception",
    "start": "1526279",
    "end": "1529120"
  }
]