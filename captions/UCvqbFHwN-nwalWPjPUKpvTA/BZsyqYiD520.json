[
  {
    "start": "0",
    "end": "0"
  },
  {
    "text": "2018 was before web assembly and at that time i was working at vmware on what is known",
    "start": "2080",
    "end": "7279"
  },
  {
    "text": "today as tenzu service mesh in the team i was in charge of everything devops",
    "start": "7279",
    "end": "13679"
  },
  {
    "text": "as such i worked closely with a small group of developers one day one of them came to me and said",
    "start": "13679",
    "end": "21119"
  },
  {
    "text": "emmanuel come over here i want to show you something i went when in front of me he demoed a custom",
    "start": "21119",
    "end": "28080"
  },
  {
    "text": "filter in this demo i witnessed how is a filter sql queries can be introspected",
    "start": "28080",
    "end": "35200"
  },
  {
    "text": "runtime statistics can be captured in a way that is completely transparent to the database server",
    "start": "35200",
    "end": "41200"
  },
  {
    "text": "i was fascinated i asked the developer how he had done it he went on to",
    "start": "41200",
    "end": "47200"
  },
  {
    "text": "describe this step by step first he said i forgot the android source code",
    "start": "47200",
    "end": "53360"
  },
  {
    "text": "i build the extension in c plus plus rebuilds envoy to finally test the resulting",
    "start": "53360",
    "end": "60079"
  },
  {
    "text": "binary he was a c plus plus expert and as a devops i thought",
    "start": "60079",
    "end": "65198"
  },
  {
    "text": "there was no way i could write a custom filter but you know what you can do he said now",
    "start": "65199",
    "end": "72320"
  },
  {
    "text": "that i'm done you can package my code in the docker image distribute the image in all of our environment",
    "start": "72320",
    "end": "78000"
  },
  {
    "text": "update the version of envoy in all of our dev staging and port clusters and of course as a",
    "start": "78000",
    "end": "83520"
  },
  {
    "text": "devsecops emanuel do not forget to incorporate patches and other improvements thanks",
    "start": "83520",
    "end": "93040"
  },
  {
    "text": "it turns out that back then what we were working on is what is today the envoy native",
    "start": "93040",
    "end": "99600"
  },
  {
    "text": "mysql filter",
    "start": "99600",
    "end": "103118"
  },
  {
    "text": "fast forward to present days i joined another company three months ago i i was hired by",
    "start": "105040",
    "end": "112320"
  },
  {
    "text": "american express where i joined the identity group as such once completed with the onboarding process",
    "start": "112320",
    "end": "118399"
  },
  {
    "text": "i was immediately approached by the team that managed all of our ipi gateways we are migrating",
    "start": "118399",
    "end": "124960"
  },
  {
    "text": "to android they said with the expected number of requests we need to squeeze as much performance from",
    "start": "124960",
    "end": "131360"
  },
  {
    "text": "this proxy as we can get emmanuel can you help of course i",
    "start": "131360",
    "end": "137120"
  },
  {
    "text": "immediately thought of using the open policy agent oppa but i quickly found out",
    "start": "137120",
    "end": "142879"
  },
  {
    "text": "that with custom policies and required support for eight plus type of joe token",
    "start": "142879",
    "end": "148640"
  },
  {
    "text": "oppa was useless what those people were really asking me was if i could",
    "start": "148640",
    "end": "155680"
  },
  {
    "text": "write a custom filter thanks so",
    "start": "155680",
    "end": "163040"
  },
  {
    "text": "i started reading the docs and this is when i learned about web assembly with wasm envoy doesn't",
    "start": "163040",
    "end": "169920"
  },
  {
    "text": "need to be recompiled filters do not need to be written in c plus plus",
    "start": "169920",
    "end": "175760"
  },
  {
    "text": "thanks to lds custom filters can now be dynamically loaded",
    "start": "175760",
    "end": "181280"
  },
  {
    "start": "183000",
    "end": "183000"
  },
  {
    "text": "at american express we are currently evaluating the glue api gateway from solo.io",
    "start": "183440",
    "end": "189440"
  },
  {
    "text": "there is an open source version with which anyone i you can get started",
    "start": "189440",
    "end": "196560"
  },
  {
    "text": "i got started with web assembly simply by going through their web assembly hub",
    "start": "196560",
    "end": "201760"
  },
  {
    "text": "tutorial during this tutorial you will just add a header to your request",
    "start": "201760",
    "end": "207760"
  },
  {
    "text": "but also you will be introduced to the wasm cli was me in it to create a scaffold or",
    "start": "207760",
    "end": "213440"
  },
  {
    "text": "bullet plate code was maybe to compile your code to was to wasn't file",
    "start": "213440",
    "end": "219200"
  },
  {
    "text": "was me push to push it to a public registry called webassembly hub very similar to docker hub but for",
    "start": "219200",
    "end": "225760"
  },
  {
    "text": "reason filter and finally once you're done publishing your filter to deploy it",
    "start": "225760",
    "end": "231519"
  },
  {
    "text": "you can simply use usb deploy now if you are using sto to deploy a",
    "start": "231519",
    "end": "237519"
  },
  {
    "text": "filter you are even given the alternative of using a custom resource definition",
    "start": "237519",
    "end": "243680"
  },
  {
    "text": "as a devops i really love what solo.i o is doing",
    "start": "243680",
    "end": "249200"
  },
  {
    "start": "250000",
    "end": "250000"
  },
  {
    "text": "now if like me you are curious and you want to find out how the configuration of your android has changed",
    "start": "250959",
    "end": "257040"
  },
  {
    "text": "during the deployment of your filter you can simply connect to the device admin ui to do so",
    "start": "257040",
    "end": "264240"
  },
  {
    "text": "keep control part forward to the pod with the proxy you won't transrospect select the",
    "start": "264240",
    "end": "270960"
  },
  {
    "text": "android container and map the port of its admin interface to a port on your localhost",
    "start": "270960",
    "end": "277680"
  },
  {
    "text": "after doing so you will be able to connect to envoy in particular to the admin interface",
    "start": "277680",
    "end": "283520"
  },
  {
    "text": "using a web browser then select config dump to see your on",
    "start": "283520",
    "end": "288880"
  },
  {
    "text": "voice active configuration the configuration snippet on this slide",
    "start": "288880",
    "end": "295120"
  },
  {
    "text": "is what is added for resin filter this ml blob may seem a little bit",
    "start": "295120",
    "end": "301280"
  },
  {
    "text": "complicated to those of you who are new to android but essentially to configure and filter",
    "start": "301280",
    "end": "306560"
  },
  {
    "text": "you need to provide a runtime here it's runtime v8 and the location of",
    "start": "306560",
    "end": "312240"
  },
  {
    "text": "usm by code here a local file",
    "start": "312240",
    "end": "317600"
  },
  {
    "start": "317000",
    "end": "317000"
  },
  {
    "text": "now as described earlier to use your filter on kubernetes you need to compile your filter locally package it",
    "start": "318080",
    "end": "324880"
  },
  {
    "text": "push it webassembly here deploy it with the crd and wait for the deployment to complete this workflow is awesome but is way too",
    "start": "324880",
    "end": "332720"
  },
  {
    "text": "slow for development purpose for the development of your filter you need a much faster turnaround",
    "start": "332720",
    "end": "339840"
  },
  {
    "text": "higher velocity to achieve this a solution is to use docker compose",
    "start": "339840",
    "end": "345440"
  },
  {
    "text": "this diagram represents my first iteration in docker compose but ultimately i was left with a",
    "start": "345440",
    "end": "350840"
  },
  {
    "text": "question with resume can you do more than just add remove",
    "start": "350840",
    "end": "357520"
  },
  {
    "text": "update headers",
    "start": "357520",
    "end": "361039"
  },
  {
    "text": "to find the answer to that question and develop my authorization filter",
    "start": "364400",
    "end": "369600"
  },
  {
    "text": "i started iterating i iterated i experimented i read the available the",
    "start": "369600",
    "end": "375680"
  },
  {
    "text": "available but limited documentation i went online trying to find examples",
    "start": "375680",
    "end": "380960"
  },
  {
    "text": "i looked at the source code and occasionally reached out on slack to select people",
    "start": "380960",
    "end": "387840"
  },
  {
    "text": "given the current lack of documentation for proxy wasn't you may think it's a bit early to get started but what i found is that if you",
    "start": "388160",
    "end": "395840"
  },
  {
    "text": "know where to where to look the answers are already there",
    "start": "395840",
    "end": "401120"
  },
  {
    "text": "now before you get started a couple of warning first today vanilla envoy does not",
    "start": "401120",
    "end": "409120"
  },
  {
    "text": "support wesem to experiment with wesm like me you will have to use the recent version of glue",
    "start": "409120",
    "end": "415039"
  },
  {
    "text": "envoy or eastern proxy in addition today the implementation of the",
    "start": "415039",
    "end": "422160"
  },
  {
    "text": "application binary interface or api is near completion but is not 100",
    "start": "422160",
    "end": "427520"
  },
  {
    "text": "completed as a result when you upgrade from one version of android to the next",
    "start": "427520",
    "end": "434319"
  },
  {
    "text": "you may have to tweak the source code of your filter",
    "start": "434319",
    "end": "438800"
  },
  {
    "text": "so you iterate you iterate until you finally arrive to something that looks like this",
    "start": "440560",
    "end": "446560"
  },
  {
    "text": "don't tilt your head i'm not expecting you to understand the details just yet let me just say that i am now using",
    "start": "446560",
    "end": "453840"
  },
  {
    "text": "several android proxies different versions and weather extensions are everywhere",
    "start": "453840",
    "end": "459680"
  },
  {
    "text": "now let me share some of the key highlights on what i learned",
    "start": "459680",
    "end": "465840"
  },
  {
    "start": "464000",
    "end": "464000"
  },
  {
    "text": "let me start by introducing to you ytt ytt the ml templating tool if you have ever",
    "start": "465840",
    "end": "472879"
  },
  {
    "text": "dealt with the ml configuration file which i'm sure everyone everyone here has stop",
    "start": "472879",
    "end": "478639"
  },
  {
    "text": "watching this video right now and immediately go to http",
    "start": "478639",
    "end": "486240"
  },
  {
    "text": "this tool is fantastic to give you a preview the ytt cli text",
    "start": "486240",
    "end": "491919"
  },
  {
    "text": "for input oml file passes its content look for the commands and replace the",
    "start": "491919",
    "end": "498560"
  },
  {
    "text": "commands with the content of other ml files in short this allows for a ml file to",
    "start": "498560",
    "end": "504560"
  },
  {
    "text": "import all the rml files on this slide i extracted the code snippet for my input",
    "start": "504560",
    "end": "510479"
  },
  {
    "text": "configuration the transformation of this original ml file is possible thanks to a programming",
    "start": "510479",
    "end": "516640"
  },
  {
    "text": "language very similar to python called starlark as a result now instead of having to",
    "start": "516640",
    "end": "523599"
  },
  {
    "text": "deal with lengthy unending confusing ml files you can work at the level of components",
    "start": "523599",
    "end": "530959"
  },
  {
    "text": "such as individual filters or even group of components such as group of filters by far in this",
    "start": "530959",
    "end": "538320"
  },
  {
    "text": "project ytt is a common line utility that gave me the most productivity boost check it out",
    "start": "538320",
    "end": "548560"
  },
  {
    "start": "547000",
    "end": "547000"
  },
  {
    "text": "a word about programming language you can use with proxy with them one of the promise of proxy wasm",
    "start": "548560",
    "end": "555360"
  },
  {
    "text": "is to allow the programming of android extension with non-c plus plus programming languages",
    "start": "555360",
    "end": "560720"
  },
  {
    "text": "if you want to write a proxy extension today there are four programming languages available",
    "start": "560720",
    "end": "566160"
  },
  {
    "text": "they are c plus plus rest assembly script and go starting from",
    "start": "566160",
    "end": "573040"
  },
  {
    "text": "the bottom go through tiny go is the latest addition to the list",
    "start": "573040",
    "end": "578080"
  },
  {
    "text": "it's very new i have not personally tried an ego to write a western filter",
    "start": "578080",
    "end": "583839"
  },
  {
    "text": "but based on my reading the main issue with go or similar programming language is that no asm vm or wasm sandbox",
    "start": "583839",
    "end": "591440"
  },
  {
    "text": "can yet deal with garbage collection then you have a zombie script a strongly",
    "start": "591440",
    "end": "597680"
  },
  {
    "text": "typed javascript which is promoted in our community by solo.io",
    "start": "597680",
    "end": "603360"
  },
  {
    "text": "assembly script defined itself as a language made for wasm after experimenting with it",
    "start": "603360",
    "end": "610640"
  },
  {
    "text": "i was immediately confronted with a limited number of library therefore it is my opinion that i",
    "start": "610640",
    "end": "616480"
  },
  {
    "text": "assembly script is not yet made for proxy wizard just yet",
    "start": "616480",
    "end": "623279"
  },
  {
    "text": "then you have rust like assembly script rust itself is relatively new programming language and i thought rust",
    "start": "623600",
    "end": "630640"
  },
  {
    "text": "has very strong potential most of us most of us will have to learn it",
    "start": "630640",
    "end": "637040"
  },
  {
    "text": "finally back to c plus plus certainly the core developers of envoy",
    "start": "637040",
    "end": "643040"
  },
  {
    "text": "estio android wasm are all well-versed with c plus plus",
    "start": "643040",
    "end": "648640"
  },
  {
    "text": "most examples of words and filters are found online were written in c plus plus",
    "start": "648640",
    "end": "653920"
  },
  {
    "text": "additionally if like me in a past life you had to program it opposite c plus",
    "start": "653920",
    "end": "660320"
  },
  {
    "text": "plus would clearly be the winning choice indeed compiling c plus plus code to",
    "start": "660320",
    "end": "666240"
  },
  {
    "text": "javascript to run in llvm vm runtime is very similar to embedded system",
    "start": "666240",
    "end": "672959"
  },
  {
    "text": "programming as such today it is my opinion",
    "start": "672959",
    "end": "678720"
  },
  {
    "text": "that proxy wasn't failed on its promise of using a non-c plus plus programming",
    "start": "678720",
    "end": "683839"
  },
  {
    "text": "language but thankfully the ecosystem is fast evolving",
    "start": "683839",
    "end": "690320"
  },
  {
    "start": "690000",
    "end": "690000"
  },
  {
    "text": "regardless of the primary language you choose you will have to understand the application binary interface",
    "start": "692000",
    "end": "698240"
  },
  {
    "text": "your compile code usm extension is running in a wasm sandbox an interface with android",
    "start": "698240",
    "end": "704399"
  },
  {
    "text": "using this api you can find the description of the api",
    "start": "704399",
    "end": "709440"
  },
  {
    "text": "in the software development kit of your chosen programming language you can think of your wealth extension",
    "start": "709440",
    "end": "715680"
  },
  {
    "text": "as a library that needs to implement a given set of functions or methods that android thread recall for example",
    "start": "715680",
    "end": "724160"
  },
  {
    "text": "when you bootstrap envoy the wasm sandbox also starts the onstart method",
    "start": "724160",
    "end": "730480"
  },
  {
    "text": "is called likewise when request is processed by the listener to which your",
    "start": "730480",
    "end": "735839"
  },
  {
    "text": "filter is attached the on request header on request body methods will trigger this is what is represented",
    "start": "735839",
    "end": "744000"
  },
  {
    "text": "in blue on this slide as the envoy extension lifecycle",
    "start": "744000",
    "end": "750480"
  },
  {
    "text": "but envoy must also be thought of as the operating system of the wesum sandbox",
    "start": "750480",
    "end": "755519"
  },
  {
    "text": "indeed in usm filter if you want to introspect the request headers",
    "start": "755519",
    "end": "763200"
  },
  {
    "text": "read write in memory execute an external http call you will need to",
    "start": "763200",
    "end": "769040"
  },
  {
    "text": "call foreign functions to illustrate with my authorization project i",
    "start": "769040",
    "end": "774800"
  },
  {
    "text": "use the get request header function on the authorization header to",
    "start": "774800",
    "end": "781120"
  },
  {
    "text": "extract the authorization header to find out its content in my case the content of that header is",
    "start": "781120",
    "end": "788480"
  },
  {
    "text": "a request perhaps token",
    "start": "788480",
    "end": "791839"
  },
  {
    "text": "if like me you choose to build your extension in c plus plus you will need to understand bazel bezel",
    "start": "794160",
    "end": "800720"
  },
  {
    "text": "is a build tool developed by google similar to cmec maven or even the sampler glumec",
    "start": "800720",
    "end": "807279"
  },
  {
    "text": "it is used to compile c plus plus code of your filter",
    "start": "807279",
    "end": "814000"
  },
  {
    "text": "i am sure several of you have had some exposure to bezel because better as it turns out is also used to",
    "start": "814000",
    "end": "821920"
  },
  {
    "text": "build and compile envoy for those of you who are new to bazel there are two concepts",
    "start": "821920",
    "end": "828079"
  },
  {
    "text": "or files that are important first the workspace file this is where you",
    "start": "828079",
    "end": "833519"
  },
  {
    "text": "define all of your external dependencies and how to import them in the workspace",
    "start": "833519",
    "end": "838560"
  },
  {
    "text": "file for uc plus plus resume extension you will need at the minimum to import",
    "start": "838560",
    "end": "844160"
  },
  {
    "text": "the unscripted compiler and to chain require to compile c plus plus to run in the v8",
    "start": "844160",
    "end": "850160"
  },
  {
    "text": "and two you will need to fetch a code that describes the application binary interface this can be done by importing the",
    "start": "850160",
    "end": "857680"
  },
  {
    "text": "sources of istio proxy the second concept you understand with",
    "start": "857680",
    "end": "863920"
  },
  {
    "text": "bezel is a build file this is where you define your targets what you want to build in bezel you",
    "start": "863920",
    "end": "871040"
  },
  {
    "text": "define targets by using predefined by using predefined or custom macros",
    "start": "871040",
    "end": "876959"
  },
  {
    "text": "written in starlark those macro in basel are called basel rules",
    "start": "876959",
    "end": "886959"
  },
  {
    "text": "at the bottom left i show the bazel rule to build a custom library at the bottom right i show the basel",
    "start": "886959",
    "end": "892800"
  },
  {
    "text": "command to build it now without altering too much in the",
    "start": "892800",
    "end": "899360"
  },
  {
    "start": "896000",
    "end": "896000"
  },
  {
    "text": "details i would like to share some of the external dependencies i imported in my bezel workspace",
    "start": "899360",
    "end": "906000"
  },
  {
    "text": "the google test framework very useful to test custom libraries boost yes",
    "start": "906000",
    "end": "913360"
  },
  {
    "text": "the very popular c plus plus boost library a must have for c plus plus filters of medium to advanced complexity",
    "start": "913360",
    "end": "921440"
  },
  {
    "text": "rapid json in my case that i used to manipulate json documents such as my authorization policy",
    "start": "921440",
    "end": "928000"
  },
  {
    "text": "or my br token claims finally once all the dependencies are",
    "start": "928000",
    "end": "934639"
  },
  {
    "start": "931000",
    "end": "931000"
  },
  {
    "text": "imported in your workspace the next thing is to build the wasm file this is done here with the wasam cc",
    "start": "934639",
    "end": "941920"
  },
  {
    "text": "binary starlack macro in english what that bezel rule means is",
    "start": "941920",
    "end": "948240"
  },
  {
    "text": "to build the binary file worker apptoken wasm compile the source file worker",
    "start": "948240",
    "end": "954360"
  },
  {
    "text": "apptoken.cc and link the resulting object to the api boost",
    "start": "954360",
    "end": "959920"
  },
  {
    "text": "rapid json and my custom library",
    "start": "959920",
    "end": "964079"
  },
  {
    "start": "965000",
    "end": "965000"
  },
  {
    "text": "now let's get out of the width and go back to a higher level there are two types of wizard extension",
    "start": "965920",
    "end": "971680"
  },
  {
    "text": "the first type are wasm filters attached to listener",
    "start": "971680",
    "end": "976880"
  },
  {
    "text": "can therefore dynamically be configured with a listener discovery service or lds and are",
    "start": "976880",
    "end": "983680"
  },
  {
    "text": "triggered by a request the second type of wasm extensions are singletons",
    "start": "983680",
    "end": "989680"
  },
  {
    "text": "in the next few few slides i will introduce them but before i do so i'd like to share or convey that filters",
    "start": "989680",
    "end": "996959"
  },
  {
    "text": "and singletons can communicate with each other this is done by using either",
    "start": "996959",
    "end": "1002399"
  },
  {
    "text": "a message queue or shared data or in a shared memory let me illustrate",
    "start": "1002399",
    "end": "1009680"
  },
  {
    "text": "all of this with my filter and my singleton in my authorization project",
    "start": "1009680",
    "end": "1017519"
  },
  {
    "text": "let's go back for this to the docker compose development environment i flashed earlier and let's zoom in",
    "start": "1018480",
    "end": "1024079"
  },
  {
    "text": "on one of my envoy on this history envoy three listener and",
    "start": "1024079",
    "end": "1031120"
  },
  {
    "start": "1027000",
    "end": "1027000"
  },
  {
    "text": "the admin interface have been configured at the top of your screen on port 8080",
    "start": "1031120",
    "end": "1036640"
  },
  {
    "text": "is a listener i use to simulate an android sidecar to http",
    "start": "1036640",
    "end": "1041760"
  },
  {
    "text": "just below on port 8007 7 is a listener configured with a wasm",
    "start": "1041760",
    "end": "1046798"
  },
  {
    "text": "filter and a simulated backend such a configuration is extremely useful",
    "start": "1046799",
    "end": "1052080"
  },
  {
    "text": "for performance measurements for example using fortio a load",
    "start": "1052080",
    "end": "1057280"
  },
  {
    "text": "generator you can send requests and measure the impacts of usm filter on latency",
    "start": "1057280",
    "end": "1064960"
  },
  {
    "text": "finally on port 843 is the listener of interest this",
    "start": "1064960",
    "end": "1070640"
  },
  {
    "text": "listener user was a filter chain and a singleton stack",
    "start": "1070640",
    "end": "1076080"
  },
  {
    "start": "1077000",
    "end": "1077000"
  },
  {
    "text": "now here is an is an early version of my singleton stack its purpose is to fetch and then refresh",
    "start": "1078880",
    "end": "1085600"
  },
  {
    "text": "the local copy of american express authorization policy as you can see single terms are not on",
    "start": "1085600",
    "end": "1092880"
  },
  {
    "text": "the request path and therefore their number and performance have no impact on request latency in my case",
    "start": "1092880",
    "end": "1100799"
  },
  {
    "text": "the execution of my singleton is triggered at regular interval by a timer",
    "start": "1100799",
    "end": "1106160"
  },
  {
    "text": "every 10 seconds the top one pulls from a remote location a document assumed to be the global",
    "start": "1106160",
    "end": "1113200"
  },
  {
    "text": "authorization policy that documentation that document is fetched and then stored in shared memory",
    "start": "1113200",
    "end": "1121200"
  },
  {
    "text": "the bottom one every 10 seconds read the document stored in shared memory and execute and",
    "start": "1121200",
    "end": "1127600"
  },
  {
    "text": "put validation now you may wonder why we have several",
    "start": "1127600",
    "end": "1134160"
  },
  {
    "text": "singleton instances instead of just one the short answer is that we are experimenting",
    "start": "1134160",
    "end": "1140880"
  },
  {
    "text": "but one clear advantage with this approach is that we maximize we can maximize code reviews",
    "start": "1140880",
    "end": "1146720"
  },
  {
    "text": "and additionally if we want to upgrade a diffidual component we minimize disruption",
    "start": "1146720",
    "end": "1153840"
  },
  {
    "start": "1155000",
    "end": "1155000"
  },
  {
    "text": "as mentioned earlier at american express with your point we support different type of json web token",
    "start": "1156400",
    "end": "1162320"
  },
  {
    "text": "depicted at the center of the slide are three filters for validating user application",
    "start": "1162320",
    "end": "1168720"
  },
  {
    "text": "and spire web token at both extreme our two filters are called bookends",
    "start": "1168720",
    "end": "1174880"
  },
  {
    "text": "indeed the purpose of the field the first filter at the extreme left is to do a deep",
    "start": "1174880",
    "end": "1180080"
  },
  {
    "text": "introspection of our quest and to mark which upstream filter should process it",
    "start": "1180080",
    "end": "1185919"
  },
  {
    "text": "meanwhile the purpose of the last filter at the extreme right is to make sure",
    "start": "1185919",
    "end": "1191679"
  },
  {
    "text": "that the request has been properly processed it turns out that wasn't filters have",
    "start": "1191679",
    "end": "1198480"
  },
  {
    "text": "another way to communicate with one another by using the request itself",
    "start": "1198480",
    "end": "1205039"
  },
  {
    "text": "this can be done with metadata or with what i call hidden request header again",
    "start": "1205039",
    "end": "1211600"
  },
  {
    "text": "we are just experimenting so what's next",
    "start": "1211600",
    "end": "1216720"
  },
  {
    "start": "1214000",
    "end": "1214000"
  },
  {
    "text": "the end of this presentation is still to be written but besides some new additional requirement i was",
    "start": "1216720",
    "end": "1222799"
  },
  {
    "text": "given last week solo released a new version of the api gateway with better resume support additionally",
    "start": "1222799",
    "end": "1230640"
  },
  {
    "text": "i just found out that tetrads as you've graded that gear their get invoice eli to build in rust",
    "start": "1230640",
    "end": "1236880"
  },
  {
    "text": "a filter scaffold so clearly i will continue exploring",
    "start": "1236880",
    "end": "1243600"
  },
  {
    "text": "now let me turn the question around and ask what's next for you if on one end",
    "start": "1243760",
    "end": "1250559"
  },
  {
    "text": "you're interested in better understanding and void i encourage you to play with weather if on the other",
    "start": "1250559",
    "end": "1256640"
  },
  {
    "text": "hand you are contemplating getting serious with weatherman envoy i'd love to hear from you and",
    "start": "1256640",
    "end": "1262559"
  },
  {
    "text": "potentially help i look forward to your questions",
    "start": "1262559",
    "end": "1268880"
  },
  {
    "text": "hello hello everybody thank you for attending my presentation i i have this presentation was recorded",
    "start": "1269520",
    "end": "1278159"
  },
  {
    "text": "a few days ago and i shared with the video with the meeting organizer and",
    "start": "1278159",
    "end": "1284000"
  },
  {
    "text": "a few things happened in between and i have to say that a lot of innovation is being done with envoy in",
    "start": "1284000",
    "end": "1290000"
  },
  {
    "text": "the western space the first thing that happened last weekend is that to date as i mentioned in the",
    "start": "1290000",
    "end": "1298159"
  },
  {
    "text": "video you had to use a specific version of envoy to to to experiment with weather",
    "start": "1298159",
    "end": "1306000"
  },
  {
    "text": "it turns out that the wasm envoy or the source code of the the the new",
    "start": "1306000",
    "end": "1312240"
  },
  {
    "text": "addition has been no merge into into envoy into the upstream of anybody which means that soon",
    "start": "1312240",
    "end": "1318400"
  },
  {
    "text": "i think it will start in version 117 in the version 117 of envoy where them",
    "start": "1318400",
    "end": "1323919"
  },
  {
    "text": "will be available everywhere something else i haven't talked about",
    "start": "1323919",
    "end": "1330480"
  },
  {
    "text": "about uh in this presentation not too much because lack of time maybe was about uh matrix",
    "start": "1330480",
    "end": "1339280"
  },
  {
    "text": "and and and logs as well it turns out that uh western filters just like native",
    "start": "1339280",
    "end": "1345679"
  },
  {
    "text": "filters can also act with envoys and communicate with the outside world",
    "start": "1345679",
    "end": "1352080"
  },
  {
    "text": "using prominent use matrix or matrix published those metrics will be published in the",
    "start": "1352080",
    "end": "1357760"
  },
  {
    "text": "admin in the admin interface which is in the same ui i introduced earlier",
    "start": "1357760",
    "end": "1363840"
  },
  {
    "text": "at the slash stats path so you can from usn filter you can add",
    "start": "1363840",
    "end": "1370240"
  },
  {
    "text": "matrix that could be meaningful in my particular case for example in my singletons i'm looking into finding out why my",
    "start": "1370240",
    "end": "1379120"
  },
  {
    "text": "filters uh would not behave correctly for example if i'm trying to reach out",
    "start": "1379120",
    "end": "1384400"
  },
  {
    "text": "the policy and for some reason i cannot see we want to know that of course once",
    "start": "1384400",
    "end": "1390400"
  },
  {
    "text": "your metrics are important mediums if you're interested you can also you can also highlight on some",
    "start": "1390400",
    "end": "1398240"
  },
  {
    "text": "on some triggers which can be useful as well to develop my filter",
    "start": "1398240",
    "end": "1405760"
  },
  {
    "text": "i'm using logs also actually that's my main source of troubleshooting and when you start",
    "start": "1405760",
    "end": "1412320"
  },
  {
    "text": "envoys you can specify some command line parameters",
    "start": "1412320",
    "end": "1417679"
  },
  {
    "text": "such as component logs so this is really on the command line of invoice so if you use the containers you will have to pass this as",
    "start": "1417679",
    "end": "1424640"
  },
  {
    "text": "as the common parameters to the android process itself and you can specify the log level of",
    "start": "1424640",
    "end": "1430320"
  },
  {
    "text": "components and in particular there is a component for always and filter which is called wasm",
    "start": "1430320",
    "end": "1435600"
  },
  {
    "text": "and you can set this uh this android component called wasm to the level debug and then",
    "start": "1435600",
    "end": "1442400"
  },
  {
    "text": "you will you will be able to see all the debug level messages which is quite useful when you are uh",
    "start": "1442400",
    "end": "1449520"
  },
  {
    "text": "troubleshooting that being said when it's in pollution make sure that you do not uh run your android in debug level",
    "start": "1449520",
    "end": "1457360"
  },
  {
    "text": "including forwards and features it turns out also that uh in the past",
    "start": "1457360",
    "end": "1463840"
  },
  {
    "text": "few days i have been experimenting with get on voice clr catan voicilla which i just talked about",
    "start": "1463840",
    "end": "1470159"
  },
  {
    "text": "which offers uh rust um first uh scaffold to develop filters i'm",
    "start": "1470159",
    "end": "1476640"
  },
  {
    "text": "really getting started with this uh i'm very pleased by what",
    "start": "1476640",
    "end": "1482159"
  },
  {
    "text": "rust provides in terms of the developer experience and",
    "start": "1482159",
    "end": "1488559"
  },
  {
    "text": "i'm really looking forward to it so there are some you don't have to deal with bezel anymore because there is no there is cargo there is a concept of",
    "start": "1488559",
    "end": "1494960"
  },
  {
    "text": "traits you have also tests that are integrated in language and i'm kind of experimenting again",
    "start": "1494960",
    "end": "1503039"
  },
  {
    "text": "with this what i found is that if you put too many level too many libraries into usm filters you end up having the resin",
    "start": "1503039",
    "end": "1510559"
  },
  {
    "text": "binary itself becomes larger and larger and i'm wondering if we should not be monitoring the size",
    "start": "1510559",
    "end": "1517919"
  },
  {
    "text": "of the resin filter obviously in my case it's being fetched from almost location but you have also the concepts of",
    "start": "1517919",
    "end": "1525360"
  },
  {
    "text": "concurrencies and i i do not know yet if the size of the filter is something that",
    "start": "1525360",
    "end": "1530640"
  },
  {
    "text": "should be monitored in which case plus plus or even a zombie script which has the smallest size",
    "start": "1530640",
    "end": "1535919"
  },
  {
    "text": "for what i've seen uh c plus plus you can really take only exactly what you need i'm not too sure if it's possible",
    "start": "1535919",
    "end": "1541919"
  },
  {
    "text": "without assuming this but um so far the what i've been what i found with the rust is that",
    "start": "1541919",
    "end": "1547120"
  },
  {
    "text": "my filter was just too hard or extracted was a little bit too big to my to my",
    "start": "1547120",
    "end": "1552559"
  },
  {
    "text": "test another things i i want to talk about is about performance",
    "start": "1552559",
    "end": "1558799"
  },
  {
    "text": "and it turns out that over an external authorization filter such as opal and compared to a wasm",
    "start": "1558799",
    "end": "1566240"
  },
  {
    "text": "filter which is completely compiled you know running inside envoy i think you can have",
    "start": "1566240",
    "end": "1571440"
  },
  {
    "text": "about 20 times unpromoting performance which is significant that being said uh with",
    "start": "1571440",
    "end": "1578640"
  },
  {
    "text": "resume you have also the concept of runtime and i talked about the runtime the whole time that i've been using was mostly the v8 sandbox",
    "start": "1578640",
    "end": "1586080"
  },
  {
    "text": "which i think is the most mature to date but there are other sandbox that are coming with the v8 sandbox",
    "start": "1586080",
    "end": "1592240"
  },
  {
    "text": "really compared to native filters you can get you can reach approximately 40 of the",
    "start": "1592240",
    "end": "1598720"
  },
  {
    "text": "performance of native filters which is quite significant",
    "start": "1598720",
    "end": "1603919"
  },
  {
    "text": "but some new type of runtime are on the way where you will be able to get even",
    "start": "1603919",
    "end": "1610320"
  },
  {
    "text": "closer to native performance there is a the webvm which with uh with uh uh",
    "start": "1610320",
    "end": "1618559"
  },
  {
    "text": "which with which you are you will be expected to reach about ninety percent uh ninety percent the performance of",
    "start": "1618559",
    "end": "1624480"
  },
  {
    "text": "native filters and new vmware basically you are using the wasa sdk",
    "start": "1624480",
    "end": "1630080"
  },
  {
    "text": "but it's actually almost compiling into uh into one board so",
    "start": "1630080",
    "end": "1636559"
  },
  {
    "text": "it's quite possible in the future that native features will be built into wasm to benefit from",
    "start": "1636559",
    "end": "1642880"
  },
  {
    "text": "the fact that you can bring them in and out based on the configuration of the filter itself",
    "start": "1642880",
    "end": "1650158"
  },
  {
    "text": "i looked at uh at performance of uh you know from aurora quest performance as i said uh filters was",
    "start": "1652159",
    "end": "1659039"
  },
  {
    "text": "on the request path uh in my particular case right i i want to make sure i'm getting as much",
    "start": "1659039",
    "end": "1664320"
  },
  {
    "text": "performance as possible as you have seen in the architecture i have right now i have several features i don't know if it's the right",
    "start": "1664320",
    "end": "1670960"
  },
  {
    "text": "strategy on the request path at least uh but that's something i will have to to to find out and the way",
    "start": "1670960",
    "end": "1677279"
  },
  {
    "text": "i i do it or anytime to do it is by using fortune i briefly talked about this",
    "start": "1677279",
    "end": "1682799"
  },
  {
    "text": "and to try to um to experiment uh with the architecture",
    "start": "1682799",
    "end": "1689279"
  },
  {
    "text": "of the system it turns out that right now instead of trying to improve the performance i've",
    "start": "1689279",
    "end": "1694880"
  },
  {
    "text": "been trying to saturate my creator filter that slows down the request to see what would be the behavior",
    "start": "1694880",
    "end": "1700799"
  },
  {
    "text": "of envoy when it's being saturated and that's something that is very",
    "start": "1700799",
    "end": "1706159"
  },
  {
    "text": "interesting to me to see what what is the expected behavior of envoy itself with wasm with wasanthi working",
    "start": "1706159",
    "end": "1712559"
  },
  {
    "text": "on on getting the highest performance as possible i've been trying actually to build a filter that literally slows down",
    "start": "1712559",
    "end": "1718720"
  },
  {
    "text": "my request and sleeps uh and send the request you know alpha seven later and then i send a",
    "start": "1718720",
    "end": "1724640"
  },
  {
    "text": "lot of requests and i look at what android does uh that's for me that's interesting that's",
    "start": "1724640",
    "end": "1730799"
  },
  {
    "text": "something that i'm exploring as well i uh to conclude really i",
    "start": "1730799",
    "end": "1738640"
  },
  {
    "text": "if you think about if you think about what web assembly is really um and if you have been working",
    "start": "1738640",
    "end": "1745679"
  },
  {
    "text": "with uh with uh with containers for a while i think it has a potential to be",
    "start": "1745679",
    "end": "1753200"
  },
  {
    "text": "to have a huge impact in the continent space um for example uh some people say you",
    "start": "1753200",
    "end": "1759679"
  },
  {
    "text": "can replace containers themselves with a web assembly and actually that's something i looked at",
    "start": "1759679",
    "end": "1764799"
  },
  {
    "text": "i wanted actually at some point to have a web assembly singleton that would read my policy",
    "start": "1764799",
    "end": "1770720"
  },
  {
    "text": "transform it into regular policy and feed it to the oppa external filter",
    "start": "1770720",
    "end": "1777120"
  },
  {
    "text": "uh i have not completed the work but i was thinking oh you know that would allow us to migrate from our custom",
    "start": "1777120",
    "end": "1782799"
  },
  {
    "text": "policies to something that is more open which would be the open policy agent or rego policies",
    "start": "1782799",
    "end": "1789039"
  },
  {
    "text": "and to try to see that's a way to do the transition but if you work also with a function as a service you can see that",
    "start": "1789039",
    "end": "1795840"
  },
  {
    "text": "actually what android is it's really invoking functions and those functions are actually the function that's here that are in my in",
    "start": "1795840",
    "end": "1802320"
  },
  {
    "text": "my wasm filter and uh in the space of uh functional service i'm",
    "start": "1802320",
    "end": "1807440"
  },
  {
    "text": "you know where them can have a huge impact lots of work is being done there i",
    "start": "1807440",
    "end": "1813279"
  },
  {
    "text": "encourage you to have a look at it and finally the last notes i think",
    "start": "1813279",
    "end": "1818960"
  },
  {
    "text": "there is as i said envoy the wasm extension has been merged into",
    "start": "1818960",
    "end": "1824159"
  },
  {
    "text": "the stream on envoy even so the code has been merged there is still a lot of work in terms of the documentation",
    "start": "1824159",
    "end": "1830159"
  },
  {
    "text": "that needs to happen there is no documentation there i think it will be there in the 117",
    "start": "1830159",
    "end": "1835600"
  },
  {
    "text": "version of envoy documentation so there are a lot of opportunities for some of you including myself for that matter to",
    "start": "1835600",
    "end": "1842720"
  },
  {
    "text": "to contribute to the open source community that way and if you do not know how to",
    "start": "1842720",
    "end": "1850399"
  },
  {
    "text": "do that feel free to reach out to me i'll be happy to to help you out in any way i can",
    "start": "1850399",
    "end": "1855600"
  },
  {
    "text": "you can find me of course on the unvoiced channel and a few others as well so i look",
    "start": "1855600",
    "end": "1861200"
  },
  {
    "text": "forward to hearing from you very soon thank you",
    "start": "1861200",
    "end": "1865840"
  }
]