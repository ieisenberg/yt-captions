[
  {
    "text": "all right I think we can get started uh we are here for the demystifying of",
    "start": "120",
    "end": "6560"
  },
  {
    "text": "workload identity tutorial um with Spire of course on",
    "start": "6560",
    "end": "12000"
  },
  {
    "text": "cloud native ecosystem before I start the tutorial I just want to see uh show off hands if",
    "start": "12000",
    "end": "18640"
  },
  {
    "text": "you don't have a laptop to work on for this",
    "start": "18640",
    "end": "23960"
  },
  {
    "text": "tutorial okay we have couple of folks uh for the rest of the folks so this is",
    "start": "23960",
    "end": "29199"
  },
  {
    "text": "going to be a hand on tutorial I'm just going to talk you know briefly for 10 minutes and give you an overview of what",
    "start": "29199",
    "end": "35520"
  },
  {
    "text": "we are going to do and uh the rest of you can follow the tutorial we'll give you actual environments to work on and",
    "start": "35520",
    "end": "44000"
  },
  {
    "text": "the folks that don't have an environment uh one of us is going to do this live",
    "start": "44000",
    "end": "49879"
  },
  {
    "text": "there is no requirement for tooling as long as you have a browser you're good yeah and you need to know copy and paste",
    "start": "49879",
    "end": "56600"
  },
  {
    "text": "uh method which is pretty simple here yes",
    "start": "56600",
    "end": "61920"
  },
  {
    "text": "hopefully all right uh so let's get started let's talk about spiffy Inspire",
    "start": "63040",
    "end": "68600"
  },
  {
    "text": "and workload identity um before I start the session I would like to introduce",
    "start": "68600",
    "end": "73720"
  },
  {
    "text": "myself and my co-presenters today I am aneli Tang I am the product manager for",
    "start": "73720",
    "end": "80200"
  },
  {
    "text": "open shift authentication and I have with me some excellent rock stars who have worked on",
    "start": "80200",
    "end": "86920"
  },
  {
    "text": "this tutorial uh do you want to come uh introduce your",
    "start": "86920",
    "end": "91920"
  },
  {
    "text": "Sal does that work oh you want it does hey everyone my name is Andy block I'm a",
    "start": "93479",
    "end": "98880"
  },
  {
    "text": "distinguished architect in redheads Global Services office of Technology uh I work with our customers to implement",
    "start": "98880",
    "end": "104719"
  },
  {
    "text": "Cloud Solutions and securing their organization I'm also a Helm maintainer",
    "start": "104719",
    "end": "109960"
  },
  {
    "text": "and a Sig store U contributor so working a lot in both the cncf and security",
    "start": "109960",
    "end": "118640"
  },
  {
    "text": "space and my name is Maya I am a research software developer at IBM and",
    "start": "118640",
    "end": "125360"
  },
  {
    "text": "related to this technology we do a lot of work with spire and the Spire Community uh I am a maintainer of the",
    "start": "125360",
    "end": "131959"
  },
  {
    "text": "torac project which is a project within the spiffy Spire Community for specifically simplifying the visibility",
    "start": "131959",
    "end": "138800"
  },
  {
    "text": "and manageability of spire hello my name is Mario sabath I'm",
    "start": "138800",
    "end": "144440"
  },
  {
    "text": "from IBM research um senior engineer on multicloud",
    "start": "144440",
    "end": "150400"
  },
  {
    "text": "identity and I'm one of the maintainers on the helm charts Spire uh project with",
    "start": "150400",
    "end": "156560"
  },
  {
    "text": "the torac focus and zero trust okay thank you awesome thank you guys and",
    "start": "156560",
    "end": "165000"
  },
  {
    "text": "they've done all the hard work so when you do applaud please applaud for them",
    "start": "165000",
    "end": "170599"
  },
  {
    "text": "all right uh so here's the plan uh I'm going to give you a brief overview of",
    "start": "170599",
    "end": "175879"
  },
  {
    "text": "what we want to cover in the tutorial today um I it I promise I will get through it quickly so that you can get",
    "start": "175879",
    "end": "182400"
  },
  {
    "text": "to the good stuff and get into the actual tutorial and start digging in uh",
    "start": "182400",
    "end": "188400"
  },
  {
    "text": "but it's important to talk about you know why we're here and uh you know what problem we want to solve uh so as I get",
    "start": "188400",
    "end": "196319"
  },
  {
    "text": "started um show off hands of how many of you have heard of spiffy and spire and I",
    "start": "196319",
    "end": "202360"
  },
  {
    "text": "I know one gentleman there I see your shirt awesome many of you have",
    "start": "202360",
    "end": "208280"
  },
  {
    "text": "heard all right so so we have a mixed audience and that's great because now we can really dig into the problem and",
    "start": "208280",
    "end": "214560"
  },
  {
    "text": "solve some of the workload identity uh issues so state of workload identity",
    "start": "214560",
    "end": "222760"
  },
  {
    "text": "first of all why do we need identity um we need identity in a zero trust model",
    "start": "222760",
    "end": "228640"
  },
  {
    "text": "because zero trust says uh never trust always verify so we want to verify",
    "start": "228640",
    "end": "235480"
  },
  {
    "text": "everything and everyone whether it's a machine or whether it's a human",
    "start": "235480",
    "end": "240519"
  },
  {
    "text": "uh in traditional uh perimeter models what you will see is this was addressed",
    "start": "240519",
    "end": "246000"
  },
  {
    "text": "by um you know IP uh mostly IP you know each of the machines would get IP um and",
    "start": "246000",
    "end": "253280"
  },
  {
    "text": "some sort of uh Technologies on top of it and that's great you know we need those we need those for fast",
    "start": "253280",
    "end": "259440"
  },
  {
    "text": "communication secure communication but it doesn't really represent the workload itself so uh there needs to be way a way",
    "start": "259440",
    "end": "268040"
  },
  {
    "text": "for uh the workloads to be represented a workload to say hey here's who I am and",
    "start": "268040",
    "end": "274800"
  },
  {
    "text": "uh for someone to verify the who I am so uh that's what workload identity is all",
    "start": "274800",
    "end": "280800"
  },
  {
    "text": "about and U in kubernetes let's look at some of the challenges that we have",
    "start": "280800",
    "end": "287759"
  },
  {
    "text": "today so kubernetes comes with service accounts uh for handling uh uh the you",
    "start": "287759",
    "end": "294919"
  },
  {
    "text": "know for the for the workload identity uh solution for any of the service to",
    "start": "294919",
    "end": "300320"
  },
  {
    "text": "talk to any other service and service accounts have tokens and credentials and",
    "start": "300320",
    "end": "306840"
  },
  {
    "text": "these can be short lift or long lift so long lift credentials long lift tokens",
    "start": "306840",
    "end": "313199"
  },
  {
    "text": "like uh you know in any other scenario whenever you're using long lived credentials there's always um issues U",
    "start": "313199",
    "end": "321600"
  },
  {
    "text": "they can be easily exfiltrated um they can be misused exploited uh it's hard to",
    "start": "321600",
    "end": "328759"
  },
  {
    "text": "control the blaster radius uh it uh you know uh it sort of violates the zero",
    "start": "328759",
    "end": "334639"
  },
  {
    "text": "trust PR principle because uh now you're putting all the Trust on the administrator and uh there can be issues",
    "start": "334639",
    "end": "342160"
  },
  {
    "text": "with your compliance as well so this is you know always a problem having long lived credentials it's easy to use but",
    "start": "342160",
    "end": "350360"
  },
  {
    "text": "it is not very secure then this bound service account tokens uh those are great they have they",
    "start": "350360",
    "end": "356600"
  },
  {
    "text": "are shortlived they are audience bound but but uh they are specific to a",
    "start": "356600",
    "end": "362199"
  },
  {
    "text": "cluster so you know in a multicluster scenario you have to come up with a lot",
    "start": "362199",
    "end": "367479"
  },
  {
    "text": "of Automation and work around it and that's where the you know the cloud uh",
    "start": "367479",
    "end": "372599"
  },
  {
    "text": "Federation comes in so a lot of the uh Cloud platforms today have a federation",
    "start": "372599",
    "end": "378440"
  },
  {
    "text": "model where you can integrate uh with their IM uh services and get shortlived",
    "start": "378440",
    "end": "384720"
  },
  {
    "text": "oidc tokens uh those are great those can be rotated uh those are audience bound",
    "start": "384720",
    "end": "391000"
  },
  {
    "text": "but there are some challenges with that and those challenges are that each of these clouds has their own sort of uh",
    "start": "391000",
    "end": "399080"
  },
  {
    "text": "schema around how they handle identity and um uh that's for one Cloud you work",
    "start": "399080",
    "end": "406039"
  },
  {
    "text": "with that now you have to work with another Cloud so again you have to work through their uh schema and their trust",
    "start": "406039",
    "end": "413000"
  },
  {
    "text": "model so imagine you're working with all of these clouds together because you",
    "start": "413000",
    "end": "419759"
  },
  {
    "text": "have applications everywhere uh on Prem and in the cloud what happens then um",
    "start": "419759",
    "end": "425680"
  },
  {
    "text": "you know uh as my friend marish has put it very eloquently here it just adds to",
    "start": "425680",
    "end": "431840"
  },
  {
    "text": "the quadratic complexity I promise it's not my word it says it comes from",
    "start": "431840",
    "end": "437199"
  },
  {
    "text": "research so uh and the complexity is around you know how do you configure",
    "start": "437199",
    "end": "443319"
  },
  {
    "text": "this how do you automate this how do you do it securely how many resources you want to put in it so that that's the",
    "start": "443319",
    "end": "449919"
  },
  {
    "text": "complexity that's how it gets added okay this just basically Recaps",
    "start": "449919",
    "end": "457879"
  },
  {
    "text": "the problem where where I mentioned that you have to make sure that your identity",
    "start": "457879",
    "end": "463360"
  },
  {
    "text": "provider your trust is properly configured uh your applications are able",
    "start": "463360",
    "end": "469280"
  },
  {
    "text": "to gain the workload identity uh um you have to enforce the right policies at",
    "start": "469280",
    "end": "475960"
  },
  {
    "text": "the policy enforcement point and uh there's the right automation to handle",
    "start": "475960",
    "end": "481159"
  },
  {
    "text": "all this now single cloud is",
    "start": "481159",
    "end": "486319"
  },
  {
    "text": "hard but multicloud is even harder so the quadratic complexity I was talking",
    "start": "486319",
    "end": "492520"
  },
  {
    "text": "about just imagine all the other clouds in this picture and it just becomes uh",
    "start": "492520",
    "end": "499199"
  },
  {
    "text": "very difficult to manage very resource uh intensive uh not just you know not",
    "start": "499199",
    "end": "505599"
  },
  {
    "text": "just machine resources but human resources that you need to put into this",
    "start": "505599",
    "end": "511640"
  },
  {
    "text": "effort okay we talked a lot about the problem let's talk about the solution and solution is",
    "start": "511640",
    "end": "519839"
  },
  {
    "text": "straightforward is the introduction of spiffy and Spire to solve this",
    "start": "519839",
    "end": "525200"
  },
  {
    "text": "problem so what is it these are all cncf projects uh spiffy is a graduated",
    "start": "525200",
    "end": "532920"
  },
  {
    "text": "project and spiffy is the standard for um providing the common identity format",
    "start": "532920",
    "end": "541800"
  },
  {
    "text": "uh the essense of which is shortlived verifiable identities uh swis uh where",
    "start": "541800",
    "end": "549560"
  },
  {
    "text": "the spiffy identity is encoded inside an x509 or a jot Spire um we're going to",
    "start": "549560",
    "end": "557920"
  },
  {
    "text": "get through a little bit more detail in few like later slides Spire is an",
    "start": "557920",
    "end": "563079"
  },
  {
    "text": "implementation of spiffy and um this provides the actual organization wide",
    "start": "563079",
    "end": "570160"
  },
  {
    "text": "workload identity um it it handles and manages these identities rotation uh",
    "start": "570160",
    "end": "577440"
  },
  {
    "text": "revocation Etc and it also provides a single point of federation uh with IDC",
    "start": "577440",
    "end": "584720"
  },
  {
    "text": "Discovery and then finally there's tnak tnak is the control plane that uh my",
    "start": "584720",
    "end": "590920"
  },
  {
    "text": "friend Maya mentioned earlier uh it provides you with a nice visibility um",
    "start": "590920",
    "end": "597040"
  },
  {
    "text": "around spiffy and the identities across your organization and together with",
    "start": "597040",
    "end": "603160"
  },
  {
    "text": "kubernetes it provides a universal workload identity",
    "start": "603160",
    "end": "608519"
  },
  {
    "text": "solution all right so that picture now is a little bit better you still have to",
    "start": "609880",
    "end": "615680"
  },
  {
    "text": "put in work but now you have this nice comprehensive uh platform uh that you",
    "start": "615680",
    "end": "623120"
  },
  {
    "text": "can have for managing trust across all your organization needs",
    "start": "623120",
    "end": "631079"
  },
  {
    "text": "a bit into the architecture I'm just going to give you a very high level overview uh there are lots of folks uh",
    "start": "632880",
    "end": "639480"
  },
  {
    "text": "that can you know uh give you more details here and in the tutorial we have excellent uh links and descriptions you",
    "start": "639480",
    "end": "647240"
  },
  {
    "text": "can go over that but at a very high level um the Spire architecture has two",
    "start": "647240",
    "end": "653480"
  },
  {
    "text": "main elements the Spire server and the Spire agent now Spire server think of it",
    "start": "653480",
    "end": "659120"
  },
  {
    "text": "as is your control plane for Spire um and Spire agents are your data plane",
    "start": "659120",
    "end": "665560"
  },
  {
    "text": "which is like every uh node will have a Spire agent so what does the Spire",
    "start": "665560",
    "end": "671320"
  },
  {
    "text": "server do the Spire server is the one that provides the spiffy IDs the uh the",
    "start": "671320",
    "end": "678519"
  },
  {
    "text": "identities uh in x509 or jot format it uh integrates nicely with Upstream",
    "start": "678519",
    "end": "685200"
  },
  {
    "text": "Casas uh it does node at a station now this is the you know this is the key thing that I",
    "start": "685200",
    "end": "692079"
  },
  {
    "text": "want you guys to really take away from this presentation and from the tutorial that Spire provides both uh uh spewing",
    "start": "692079",
    "end": "700880"
  },
  {
    "text": "of shortl tokens and also doing that in a attestable way so the the attestation",
    "start": "700880",
    "end": "707040"
  },
  {
    "text": "happens at both node level and workload level at the node level um node level",
    "start": "707040",
    "end": "713639"
  },
  {
    "text": "attestation is when uh the Spire agent is deployed on the Node for the first",
    "start": "713639",
    "end": "718720"
  },
  {
    "text": "time it gets um the Spire agent will first authenticate to the Spire server",
    "start": "718720",
    "end": "725000"
  },
  {
    "text": "and the way it authenticates is it queries the infrastructure on which it is deployed uh sends that information",
    "start": "725000",
    "end": "732160"
  },
  {
    "text": "out to the Spire server the Spire server will itself validate that information",
    "start": "732160",
    "end": "738279"
  },
  {
    "text": "using external apis so that's how node attestation works it's available for AWS",
    "start": "738279",
    "end": "744320"
  },
  {
    "text": "gcp Azure um kubernetes uses service accounts for this because service",
    "start": "744320",
    "end": "750600"
  },
  {
    "text": "account tokens can be reviewed with token review API and uh that's what what",
    "start": "750600",
    "end": "755760"
  },
  {
    "text": "Spy server does uh it integrates with Tac like",
    "start": "755760",
    "end": "761440"
  },
  {
    "text": "we've talked about uh user management visibility policy",
    "start": "761440",
    "end": "766880"
  },
  {
    "text": "Etc um it also provides the oidc Federation and um the last but not the",
    "start": "766880",
    "end": "775040"
  },
  {
    "text": "least uh important bullet uh the Spire controller manager is one of the um uh the way ways in which",
    "start": "775040",
    "end": "782639"
  },
  {
    "text": "it integrates with kubernetes spy controller manager is a kubernetes uh uh",
    "start": "782639",
    "end": "789240"
  },
  {
    "text": "controller manager basically it provides uh registration for all the workloads",
    "start": "789240",
    "end": "794839"
  },
  {
    "text": "that are uh present in the cluster so that's the Spire server now",
    "start": "794839",
    "end": "801120"
  },
  {
    "text": "the Spire agent like I mentioned is deployed on all of the nodes in the",
    "start": "801120",
    "end": "807320"
  },
  {
    "text": "cluster um it par participates in the node level attestation now it does the workload",
    "start": "807320",
    "end": "813880"
  },
  {
    "text": "level attestation and what that means is that workloads will talk to the um uh agent",
    "start": "813880",
    "end": "821760"
  },
  {
    "text": "using the workload API and uh the workload API will make sure that it",
    "start": "821760",
    "end": "828760"
  },
  {
    "text": "validates the workload um and the attestation happens using aester plugins",
    "start": "828760",
    "end": "834920"
  },
  {
    "text": "so there's a plugin for kubernetes at a station and that plugin use is POD ID so",
    "start": "834920",
    "end": "840519"
  },
  {
    "text": "it will query the kernel get the cgroup Pod ID from that present it to the cuet",
    "start": "840519",
    "end": "846800"
  },
  {
    "text": "and get information about the application then it will uh compare that",
    "start": "846800",
    "end": "852040"
  },
  {
    "text": "to the information it fetches from the Spire server and if there is a match then it will provide the workload",
    "start": "852040",
    "end": "859240"
  },
  {
    "text": "identity to the application the way it work provides the workload identity is using uh volume",
    "start": "859240",
    "end": "867079"
  },
  {
    "text": "mount with CSI driver um host path is also available but we",
    "start": "867079",
    "end": "872120"
  },
  {
    "text": "suggest you use the CSI driver so uh I'm going to pause here but",
    "start": "872120",
    "end": "879320"
  },
  {
    "text": "anything to add Maya or Mario short maybe it's like who if anyone has",
    "start": "879320",
    "end": "884560"
  },
  {
    "text": "questions that might be useful yeah I think we'll take oh oh you have a question",
    "start": "884560",
    "end": "889720"
  },
  {
    "text": "sorry I'm ready to rip yeah to explore this stuff it'll it'll so so help me out",
    "start": "889720",
    "end": "897759"
  },
  {
    "text": "um and bold disclosure I'm a little bit dangerous with this but",
    "start": "897759",
    "end": "903639"
  },
  {
    "text": "um the workload testation and as as",
    "start": "903639",
    "end": "912199"
  },
  {
    "text": "a single Federation that makes sense there's a certain level of complexity",
    "start": "912199",
    "end": "918480"
  },
  {
    "text": "it's not cognitive complexity that so why why would one do that versus say",
    "start": "918480",
    "end": "924399"
  },
  {
    "text": "just taking a token",
    "start": "924399",
    "end": "930759"
  },
  {
    "text": "injected and token you can do it for one cluster but",
    "start": "930759",
    "end": "937240"
  },
  {
    "text": "uh now like like I mentioned each of these identity providers have their own",
    "start": "937240",
    "end": "943279"
  },
  {
    "text": "uh Federation right so it depends on which Cloud you're working on then you have to work on that and then add",
    "start": "943279",
    "end": "950240"
  },
  {
    "text": "automation for another cloud and another Cloud so that's the complexity we were talking about um there is no common",
    "start": "950240",
    "end": "957839"
  },
  {
    "text": "trust domain any number of kubernetes clusters provided that I I wh list them",
    "start": "957839",
    "end": "965319"
  },
  {
    "text": "forc Discovery at point in advance and establish a trust relationship I could do",
    "start": "965319",
    "end": "973040"
  },
  {
    "text": "that and I wouldn't need the parts the application would just have to",
    "start": "973040",
    "end": "979160"
  },
  {
    "text": "know how to do token exchange but that's a lot of custom you",
    "start": "979160",
    "end": "985000"
  },
  {
    "text": "know tooling around this when there is already an architecture available that defines this and the attestation bit I",
    "start": "985000",
    "end": "992959"
  },
  {
    "text": "know it sounds complex but in the long run it's really useful to know and and",
    "start": "992959",
    "end": "1000120"
  },
  {
    "text": "with the attestation there are lot of uh one thing I forgot to mention Spire server is very extensible there are lots",
    "start": "1000120",
    "end": "1006920"
  },
  {
    "text": "of plugins available and the the more plugins you add the Richer it gets so",
    "start": "1006920",
    "end": "1012639"
  },
  {
    "text": "there's a lot of plugins around uh Hardware security modules Etc that you can integrate with the at station and",
    "start": "1012639",
    "end": "1019759"
  },
  {
    "text": "and uh make it really uh especially for Mission critical workloads you can",
    "start": "1019759",
    "end": "1025120"
  },
  {
    "text": "really uh you know make it more secure uh PL are customizable you can your own",
    "start": "1025120",
    "end": "1032600"
  },
  {
    "text": "dep on situation but what I suggest we should go through the workshop and go and show you everything we plan to",
    "start": "1032600",
    "end": "1040400"
  },
  {
    "text": "discuss today and then I think that sounds good yeah we can do that uh what",
    "start": "1040400",
    "end": "1045438"
  },
  {
    "text": "we can do is uh we're have some time at the end anyways yes we are going to have some time the workshop is probably going",
    "start": "1045439",
    "end": "1051400"
  },
  {
    "text": "to take 40 45 minutes so let's get through like couple of more slides and",
    "start": "1051400",
    "end": "1057320"
  },
  {
    "text": "then I promise I won't keep you long uh we will talk about what we are going to cover in the workshop and then uh you go",
    "start": "1057320",
    "end": "1065280"
  },
  {
    "text": "through the workshop some of the questions might get answered while you're doing it and in the end I really",
    "start": "1065280",
    "end": "1071799"
  },
  {
    "text": "want to keep about half an hour or 20 25 minutes just to talk do we have that",
    "start": "1071799",
    "end": "1077679"
  },
  {
    "text": "much time no okay so uh yeah so uh you know now that",
    "start": "1077679",
    "end": "1085240"
  },
  {
    "text": "the architecture is out of the way and we know it's the secure solution let's",
    "start": "1085240",
    "end": "1090520"
  },
  {
    "text": "look at how um two uh two real world uh users Bob and Kaaya would approach this",
    "start": "1090520",
    "end": "1098440"
  },
  {
    "text": "now Bob and Kaaya were first not aware of span Spire um so Bob being a sort of",
    "start": "1098440",
    "end": "1107360"
  },
  {
    "text": "happy gol lucky but developer uh he decided to hardcode",
    "start": "1107360",
    "end": "1113320"
  },
  {
    "text": "credentials for one of the applications he was writing he was in a hurry he said okay let's uh and and the credentials",
    "start": "1113320",
    "end": "1120280"
  },
  {
    "text": "were required to access a backend database so hardcodes it and pushes it",
    "start": "1120280",
    "end": "1126640"
  },
  {
    "text": "and he's ready to go he's ready to go have coffee with his friends but Kaa who's the administrator thinks it's a",
    "start": "1126640",
    "end": "1133240"
  },
  {
    "text": "little bit curious that this is working out all great but is it going to be an",
    "start": "1133240",
    "end": "1139000"
  },
  {
    "text": "insecure uh solution so she does some of the work herself and tries to redeploy",
    "start": "1139000",
    "end": "1144559"
  },
  {
    "text": "the application and test it out meanwhile uh as I mentioned Long Live",
    "start": "1144559",
    "end": "1149679"
  },
  {
    "text": "credentials anyone can get those credentials and attack that golden database and get your valuable",
    "start": "1149679",
    "end": "1155880"
  },
  {
    "text": "information so Bob and Kaya they attended the tutorial went through it",
    "start": "1155880",
    "end": "1161919"
  },
  {
    "text": "loved what they saw and so after the learnings uh this is what happened so",
    "start": "1161919",
    "end": "1167880"
  },
  {
    "text": "Kaaya decided she wants to have Spire in her environment so she installed the",
    "start": "1167880",
    "end": "1173039"
  },
  {
    "text": "Spire server and agent and then she made sure that oidc Discovery is enabled and",
    "start": "1173039",
    "end": "1179679"
  },
  {
    "text": "she configured it next she configured Vault um and she made sure that she's uh",
    "start": "1179679",
    "end": "1186840"
  },
  {
    "text": "configuring the Spire server as the O oidc authentication provider for the W",
    "start": "1186840",
    "end": "1193960"
  },
  {
    "text": "and after she's done that she says Bob go ahead and now use the your",
    "start": "1193960",
    "end": "1200080"
  },
  {
    "text": "deployment so then Bob oh here you go so Bob has become uh",
    "start": "1200080",
    "end": "1208039"
  },
  {
    "text": "Spire Savvy as well and so uh what Bob does is",
    "start": "1208039",
    "end": "1214799"
  },
  {
    "text": "oh did it not okay yeah yeah so Bob uh goes and stores the",
    "start": "1214960",
    "end": "1223120"
  },
  {
    "text": "database credentials inside Walt and then he says okay now that I have those",
    "start": "1223120",
    "end": "1228720"
  },
  {
    "text": "inval and secured let's redeploy the application with a side car and the side",
    "start": "1228720",
    "end": "1234360"
  },
  {
    "text": "car is going to fetch the uh jot swid from the Spire agent um once all that",
    "start": "1234360",
    "end": "1241559"
  },
  {
    "text": "attestation logic has happened uh uh now the side car has the swid and this is",
    "start": "1241559",
    "end": "1247880"
  },
  {
    "text": "presented to Walt and this is this is when Walt will authenticate and then",
    "start": "1247880",
    "end": "1254120"
  },
  {
    "text": "give the credentials to the side car and this is then loaded in the applications",
    "start": "1254120",
    "end": "1260760"
  },
  {
    "text": "um using volume Mount so now this is a secure uh application deployment model",
    "start": "1260760",
    "end": "1266640"
  },
  {
    "text": "using spire and this is what you're going to do in the tutorial also this is exactly the workflow you're going to",
    "start": "1266640",
    "end": "1274000"
  },
  {
    "text": "use all right uh quick recap uh on all the the uh you know the the good things",
    "start": "1274000",
    "end": "1281400"
  },
  {
    "text": "about using Spire so we have now dynamically uh provided credential",
    "start": "1281400",
    "end": "1286600"
  },
  {
    "text": "instead of hardcoding them uh they are restricted by audience uh the credentials are shortlived and often",
    "start": "1286600",
    "end": "1293640"
  },
  {
    "text": "rotated um and then Spire does that not just for uh one workload but for all the",
    "start": "1293640",
    "end": "1299520"
  },
  {
    "text": "workloads uh that are there on the cluster and um and node level",
    "start": "1299520",
    "end": "1304840"
  },
  {
    "text": "attestation also happens and workload level attestation also happens so now everyone can go drink their",
    "start": "1304840",
    "end": "1311360"
  },
  {
    "text": "coffee all right so thanks for you know",
    "start": "1311360",
    "end": "1317279"
  },
  {
    "text": "uh for your patients going through through this I know you're excited for the next phase and uh what I would like",
    "start": "1317279",
    "end": "1323640"
  },
  {
    "text": "is uh for you to give your feedback to us uh on you know what are the use cases",
    "start": "1323640",
    "end": "1329200"
  },
  {
    "text": "you want to solve and uh what are the different options you're considering and",
    "start": "1329200",
    "end": "1335039"
  },
  {
    "text": "even like feedback on the uh tutorial itself please please definitely contact",
    "start": "1335039",
    "end": "1341799"
  },
  {
    "text": "us [Applause]",
    "start": "1341799",
    "end": "1346960"
  },
  {
    "text": "okay all right here's the tutorial link if you want to",
    "start": "1346960",
    "end": "1353840"
  },
  {
    "text": "use that and uh the first link itself is uh for the tutorial and the second link",
    "start": "1353840",
    "end": "1361000"
  },
  {
    "text": "is where you can uh log in to the demo clusters that we've stood up for",
    "start": "1361000",
    "end": "1367000"
  },
  {
    "text": "you okay how many people were able to access the tutorial and the the work",
    "start": "1367000",
    "end": "1373679"
  },
  {
    "text": "workshop environment okay few people right so if you follow the second",
    "start": "1373679",
    "end": "1380320"
  },
  {
    "text": "link you would end up with page that looks like this so put your user ID that's any",
    "start": "1380320",
    "end": "1387200"
  },
  {
    "text": "email doesn't matter and then the password which is uh what I just said",
    "start": "1387200",
    "end": "1393760"
  },
  {
    "text": "earlier and if you do this assuming you don't have the same emails you would end",
    "start": "1393760",
    "end": "1400760"
  },
  {
    "text": "up with page that looks like this so we'll copy the password",
    "start": "1400760",
    "end": "1406960"
  },
  {
    "text": "Here click on the link and login with the cube admin and the password that is",
    "start": "1406960",
    "end": "1413679"
  },
  {
    "text": "just for you there's about 100 machines right now provisioned there so I think",
    "start": "1413679",
    "end": "1419679"
  },
  {
    "text": "we should be okay and eventually you would end up with page that looks like",
    "start": "1419679",
    "end": "1426679"
  },
  {
    "text": "this okay so let's I will have the tutorial here on the",
    "start": "1437240",
    "end": "1444240"
  },
  {
    "text": "right make it a little bit",
    "start": "1444360",
    "end": "1448080"
  },
  {
    "text": "bigger okay so there's a lot of good text you can read it I would just go to",
    "start": "1460760",
    "end": "1466399"
  },
  {
    "text": "the good parts so set up the environment so we have access to [Music]",
    "start": "1466399",
    "end": "1474369"
  },
  {
    "text": "environment so how many people are on this stage that you can see what I see",
    "start": "1481919",
    "end": "1486960"
  },
  {
    "text": "here on the screen okay we have few very good okay so if you follow this little",
    "start": "1486960",
    "end": "1495080"
  },
  {
    "text": "red arrow on the top it's going to get you to a console okay once you open the",
    "start": "1495080",
    "end": "1502200"
  },
  {
    "text": "console it says welcome to open shift web terminal and this is basically what we're going to be using for the rest of",
    "start": "1502200",
    "end": "1509080"
  },
  {
    "text": "the day",
    "start": "1509080",
    "end": "1512720"
  },
  {
    "text": "here I'll make it bigger",
    "start": "1514760",
    "end": "1519320"
  },
  {
    "text": "okay we need to export few environment variables so I will just grab one from",
    "start": "1528919",
    "end": "1536039"
  },
  {
    "text": "here individual app domain which is specific for your cluster so everyone would get a",
    "start": "1543480",
    "end": "1551080"
  },
  {
    "text": "different let's make sure that we have the domain",
    "start": "1555679",
    "end": "1561480"
  },
  {
    "text": "set so this one looks mine looks like this you have probably something",
    "start": "1562399",
    "end": "1568919"
  },
  {
    "text": "similar this is basically the public access from outside to your cluster it's",
    "start": "1570360",
    "end": "1575799"
  },
  {
    "text": "a inrease all right I'll go to the next",
    "start": "1575799",
    "end": "1581640"
  },
  {
    "text": "step okay deploying application so now I'll be performing the role of B",
    "start": "1583279",
    "end": "1589279"
  },
  {
    "text": "and I will deploy the application so I will go and get the clone of the",
    "start": "1589279",
    "end": "1597520"
  },
  {
    "text": "repository that we use for this",
    "start": "1597520",
    "end": "1601320"
  },
  {
    "text": "demo and you have all this instructions here so you can read it in your",
    "start": "1607360",
    "end": "1613159"
  },
  {
    "text": "leisure this is actually good stuff to do before falling to bed falling to sleep",
    "start": "1613159",
    "end": "1619039"
  },
  {
    "text": "sleep uh so we deploy the namespace mySQL",
    "start": "1619039",
    "end": "1624440"
  },
  {
    "text": "database and the python application that is would be accessing this database and",
    "start": "1624440",
    "end": "1630799"
  },
  {
    "text": "pulls the data out of the uh out the database and displays on the screen okay",
    "start": "1630799",
    "end": "1637760"
  },
  {
    "text": "so step one once we have a code locally here let me just",
    "start": "1637760",
    "end": "1643399"
  },
  {
    "text": "run create the Nam space for application because as uh as a Security Experts we",
    "start": "1643399",
    "end": "1650399"
  },
  {
    "text": "don't want to use the default one you should never use the default let's go the let's create our own one here you",
    "start": "1650399",
    "end": "1659799"
  },
  {
    "text": "go all right so now I'm going to deploy the mySQL database",
    "start": "1664640",
    "end": "1672480"
  },
  {
    "text": "let's see if that was deployed okay creating if you're lazy",
    "start": "1679960",
    "end": "1688399"
  },
  {
    "text": "don't want to do it multiple times we just put",
    "start": "1688399",
    "end": "1692679"
  },
  {
    "text": "waight all right it's running",
    "start": "1694919",
    "end": "1699480"
  },
  {
    "text": "O Okay so once the application is running let's get access to this",
    "start": "1716679",
    "end": "1722240"
  },
  {
    "text": "database so I'm copying this Command right",
    "start": "1722240",
    "end": "1727480"
  },
  {
    "text": "here oops",
    "start": "1729440",
    "end": "1733440"
  },
  {
    "text": "oh yeah I just started the database I didn't start the application it okay so application is right here",
    "start": "1743279",
    "end": "1750760"
  },
  {
    "text": "sorry so database is operational now the",
    "start": "1750799",
    "end": "1758640"
  },
  {
    "text": "application same thing let's verify the application is",
    "start": "1758640",
    "end": "1764080"
  },
  {
    "text": "up creating",
    "start": "1765640",
    "end": "1769640"
  },
  {
    "text": "okay the app is running as well so we have both database and the application are operational so now I should be able",
    "start": "1779640",
    "end": "1788840"
  },
  {
    "text": "to get access to the application which is this command",
    "start": "1788840",
    "end": "1794760"
  },
  {
    "text": "here good so this is a link that I can open now in a",
    "start": "1796760",
    "end": "1805559"
  },
  {
    "text": "browser and very simple app it's just pulling some data from the database you",
    "start": "1810480",
    "end": "1816120"
  },
  {
    "text": "know little movies in fact if you want to get fancy you can actually add a new",
    "start": "1816120",
    "end": "1822120"
  },
  {
    "text": "movie or delete the movies but I don't think we need to do it right now all right",
    "start": "1822120",
    "end": "1828840"
  },
  {
    "text": "so this part is done let's go to the next step next step",
    "start": "1828840",
    "end": "1834799"
  },
  {
    "text": "is identifying security challenges okay so this whole page here",
    "start": "1834799",
    "end": "1842320"
  },
  {
    "text": "describes basically what Angelie was telling us on the presentation what are the challenges with the application why",
    "start": "1842320",
    "end": "1849240"
  },
  {
    "text": "the using hardcoded keys is not a bad idea is not a good idea and you know so",
    "start": "1849240",
    "end": "1855679"
  },
  {
    "text": "for example we have this access to the database in form of a configuration file",
    "start": "1855679",
    "end": "1862279"
  },
  {
    "text": "that's this guy and that has been hardcoded as a config mop in in an",
    "start": "1862279",
    "end": "1868080"
  },
  {
    "text": "application so there's a whole discussion why this is not good and what we can do better I will just skip it for",
    "start": "1868080",
    "end": "1875240"
  },
  {
    "text": "now and go to the next deploying",
    "start": "1875240",
    "end": "1880399"
  },
  {
    "text": "Spire this doesn't mean you don't have to read it you have to read it but you know you don't have to do it right now",
    "start": "1881440",
    "end": "1888760"
  },
  {
    "text": "okay deploying Spire using Helm all right so we have this nice Helm",
    "start": "1888760",
    "end": "1896440"
  },
  {
    "text": "charts that allow you to install Spire quickly so let's get",
    "start": "1896440",
    "end": "1903679"
  },
  {
    "text": "the hel charts",
    "start": "1903679",
    "end": "1907398"
  },
  {
    "text": "now okay the repo is preloaded on to machine",
    "start": "1910639",
    "end": "1917720"
  },
  {
    "text": "so the first step we're going to deploy crds they should be deployed separately",
    "start": "1918919",
    "end": "1925360"
  },
  {
    "text": "as a best practice for H charts so we'll set up few",
    "start": "1925360",
    "end": "1933000"
  },
  {
    "text": "crds all right and now we'll deploy the actual",
    "start": "1933399",
    "end": "1938559"
  },
  {
    "text": "Spire environment which deploys Spire server spy agent and all the good stuff",
    "start": "1938559",
    "end": "1948879"
  },
  {
    "text": "so this Command right here it's already uh prepopulated with all the values I",
    "start": "1952240",
    "end": "1958919"
  },
  {
    "text": "will show you also tornac tornac is the user interface to Spire uh we are Maya and myself we are",
    "start": "1958919",
    "end": "1968799"
  },
  {
    "text": "part of the team that works on this uh we need contribution so if you if you like it you're welcome to join",
    "start": "1968799",
    "end": "1976200"
  },
  {
    "text": "us all right so let's do",
    "start": "1976200",
    "end": "1981799"
  },
  {
    "text": "this this might take a minute to deploy because he's doing several operations",
    "start": "1981799",
    "end": "1987960"
  },
  {
    "text": "setting up all the services",
    "start": "1987960",
    "end": "1991960"
  },
  {
    "text": "actually I can open another terminal and just show you the progress",
    "start": "2023880",
    "end": "2031440"
  },
  {
    "text": "oh I think it's already finished all right very",
    "start": "2038399",
    "end": "2042600"
  },
  {
    "text": "good so there's some post install things that validates stuff that is correctly",
    "start": "2043480",
    "end": "2050320"
  },
  {
    "text": "deployed yeah it's all set okay so Spire has been",
    "start": "2050320",
    "end": "2056079"
  },
  {
    "text": "installed let's",
    "start": "2056079",
    "end": "2059399"
  },
  {
    "text": "verify y are",
    "start": "2065440",
    "end": "2069919"
  },
  {
    "text": "installed we can even demonstrate you that this is a there's a demon set",
    "start": "2071480",
    "end": "2077480"
  },
  {
    "text": "running with the agents SP agents so since there is only",
    "start": "2077480",
    "end": "2084079"
  },
  {
    "text": "one node in this cluster that means there's only one Spire agent Spire agents are deployed as a demon set so uh",
    "start": "2084079",
    "end": "2091960"
  },
  {
    "text": "for each individual node they get this uh spy agent there's only the one here",
    "start": "2091960",
    "end": "2099400"
  },
  {
    "text": "all right so let's validate that we have oidc Discovery service operational",
    "start": "2099400",
    "end": "2105280"
  },
  {
    "text": "because this is going to be a key for the next few steps so let me make sure we have this part",
    "start": "2105280",
    "end": "2113320"
  },
  {
    "text": "operational Yep looks like we have the public key available for the discovery",
    "start": "2113320",
    "end": "2119079"
  },
  {
    "text": "which is great all right so torac let's see if I",
    "start": "2119079",
    "end": "2124480"
  },
  {
    "text": "can get access to our famous torac",
    "start": "2124480",
    "end": "2129359"
  },
  {
    "text": "by the way tornac that's the name of the dog breed somewhere from Europe it's a",
    "start": "2129880",
    "end": "2136680"
  },
  {
    "text": "hering it's a hering Shepherd yeah so it's that containers little cows all little yeah",
    "start": "2136680",
    "end": "2145839"
  },
  {
    "text": "animals sheering",
    "start": "2145839",
    "end": "2150240"
  },
  {
    "text": "okay okay so this command here provides the the URL for torak let me see if I",
    "start": "2154400",
    "end": "2160880"
  },
  {
    "text": "can access",
    "start": "2160880",
    "end": "2163559"
  },
  {
    "text": "it all right so here's the little Tac and you have clust you can Define",
    "start": "2171960",
    "end": "2178000"
  },
  {
    "text": "multiple information about clusters so uh agents this is the list of all the",
    "start": "2178000",
    "end": "2183440"
  },
  {
    "text": "agents there's only one because there's only one node but if you have 30 they actually comes help helpful and useful",
    "start": "2183440",
    "end": "2190160"
  },
  {
    "text": "entries shows all the active entries so we have few",
    "start": "2190160",
    "end": "2197319"
  },
  {
    "text": "entries so by the way I'm going a little bit on attention here but we are working on extending tornac with a functionality",
    "start": "2213400",
    "end": "2221359"
  },
  {
    "text": "for Spire Federation so you can bring multiple spers together and they would",
    "start": "2221359",
    "end": "2227000"
  },
  {
    "text": "be trusting each other you can actually use this UI for connecting uh and",
    "start": "2227000",
    "end": "2232319"
  },
  {
    "text": "assigning which workload identities would get uh Federated and so on so this",
    "start": "2232319",
    "end": "2239319"
  },
  {
    "text": "is basically on our plate for the next few weeks months I think to the demo to a multi cluster",
    "start": "2239319",
    "end": "2246839"
  },
  {
    "text": "because right now working in a single cluster for next year yes next year next",
    "start": "2246839",
    "end": "2252119"
  },
  {
    "text": "year EV yeah let's do it next year exactly or maybe for Cub if we if we get this",
    "start": "2252119",
    "end": "2258680"
  },
  {
    "text": "done all right so this is tornac let's go to the next deploying Vault okay so",
    "start": "2258680",
    "end": "2265560"
  },
  {
    "text": "again just to follow up what Angeli said earlier keeping credentials in the cluster not the great idea not keeping",
    "start": "2265560",
    "end": "2273200"
  },
  {
    "text": "them hardcoded we should put them to some other tool so they can be decoupled from the application now you can rotate",
    "start": "2273200",
    "end": "2280000"
  },
  {
    "text": "them easily and pull dynamically to the application as needed so let's do this first we'll",
    "start": "2280000",
    "end": "2288800"
  },
  {
    "text": "create a separate name space for",
    "start": "2288800",
    "end": "2292880"
  },
  {
    "text": "Vault okay now I'm going to deploy vault",
    "start": "2297400",
    "end": "2302960"
  },
  {
    "text": "okay vault is being deployed so let's just validate if I can see",
    "start": "2311200",
    "end": "2317880"
  },
  {
    "text": "it oh still creating",
    "start": "2317880",
    "end": "2323040"
  },
  {
    "text": "so oh it's running all",
    "start": "2323040",
    "end": "2327000"
  },
  {
    "text": "right okay so we're going to get access to volt so there's this command that",
    "start": "2328880",
    "end": "2335599"
  },
  {
    "text": "basically converts uh the public Ingress to something",
    "start": "2335599",
    "end": "2342760"
  },
  {
    "text": "useful and let's see if we can access it okay so it's in a healthy State I can",
    "start": "2349440",
    "end": "2358760"
  },
  {
    "text": "access Vault I can get information back of it so good now we cannot just use vault",
    "start": "2358760",
    "end": "2367000"
  },
  {
    "text": "as uh directly for uh for this presentation we want to",
    "start": "2367000",
    "end": "2374960"
  },
  {
    "text": "configure it in a way that it accepts Spire as one of the identity uh",
    "start": "2374960",
    "end": "2380880"
  },
  {
    "text": "identities so in order to do this I need to obtain uh root login so I'm now the",
    "start": "2380880",
    "end": "2387280"
  },
  {
    "text": "administrator who sets up the Vault before the application can actually use it so let me just get my password for",
    "start": "2387280",
    "end": "2395680"
  },
  {
    "text": "this vault",
    "start": "2395680",
    "end": "2398880"
  },
  {
    "text": "okay so I have this root token again this is just for setting up this is just as an administrator I do it",
    "start": "2401319",
    "end": "2408200"
  },
  {
    "text": "once let's validate if I can access with this",
    "start": "2408200",
    "end": "2413599"
  },
  {
    "text": "password okay it works otherwise I would get an error so now we have this handy",
    "start": "2414359",
    "end": "2422800"
  },
  {
    "text": "script okay but before I do it let me set up the",
    "start": "2425880",
    "end": "2431960"
  },
  {
    "text": "environment so tutorial root and I'm going to execute the script",
    "start": "2432200",
    "end": "2438880"
  },
  {
    "text": "okay so this script basically sets up all the policies it sets up the uh the",
    "start": "2438880",
    "end": "2446000"
  },
  {
    "text": "plug-in that allows the Vault to understand what Spy ID identities",
    "start": "2446000",
    "end": "2452640"
  },
  {
    "text": "are and sets up the authentication so let's go through this few steps just so",
    "start": "2452640",
    "end": "2458000"
  },
  {
    "text": "I can show you what we did so show",
    "start": "2458000",
    "end": "2464200"
  },
  {
    "text": "policy okay so I set up the policy it's important to not that the policy",
    "start": "2468960",
    "end": "2476240"
  },
  {
    "text": "basically we're usue Secret store it's basically allowing access on we're going to be",
    "start": "2476240",
    "end": "2483640"
  },
  {
    "text": "creating going ahead and setting configuration so that down the road when",
    "start": "2483640",
    "end": "2488960"
  },
  {
    "text": "appc need to access it's going to have the right to access",
    "start": "2488960",
    "end": "2495280"
  },
  {
    "text": "thatf",
    "start": "2495680",
    "end": "2498680"
  },
  {
    "text": "y okay so now you can you can see that this JWT uh functionality",
    "start": "2503599",
    "end": "2511280"
  },
  {
    "text": "enabled in addition to the Token that we used initially",
    "start": "2511280",
    "end": "2517560"
  },
  {
    "text": "oh let me show you the DB",
    "start": "2520280",
    "end": "2523680"
  },
  {
    "text": "roll okay so this is actually key here this part so we set up the",
    "start": "2528440",
    "end": "2535440"
  },
  {
    "text": "policy that it can accept only identities that come from this",
    "start": "2535440",
    "end": "2541319"
  },
  {
    "text": "domain trust domain which is basically the domain that we are using here for this example",
    "start": "2541319",
    "end": "2548040"
  },
  {
    "text": "and the namespace has to be workload identity tutorial and the service",
    "start": "2548040",
    "end": "2554559"
  },
  {
    "text": "account has to be py that's the name of the application that we use",
    "start": "2554559",
    "end": "2560599"
  },
  {
    "text": "okay so once I have this defined so this is the uh role and policies that we",
    "start": "2560599",
    "end": "2567280"
  },
  {
    "text": "defined now we can store some real values involv so we're going to convert the",
    "start": "2567280",
    "end": "2575200"
  },
  {
    "text": "database configuration file that I showed you before uh",
    "start": "2575200",
    "end": "2580760"
  },
  {
    "text": "will this is this format here I'm me just show",
    "start": "2580760",
    "end": "2587000"
  },
  {
    "text": "you okay and since format of this",
    "start": "2592480",
    "end": "2598760"
  },
  {
    "text": "uh of this file is not Json what we're going to do we're going to play a trick",
    "start": "2598760",
    "end": "2604319"
  },
  {
    "text": "and encode this file into a string and",
    "start": "2604319",
    "end": "2610200"
  },
  {
    "text": "then keep the string as encoded string in a database if we had this in adjacent",
    "start": "2610200",
    "end": "2616040"
  },
  {
    "text": "format I don't have to worry about this you could be easily uploaded to Vault so let me put this okay I need to",
    "start": "2616040",
    "end": "2625359"
  },
  {
    "text": "convert I didn't do this part yet so I'm going to take the in init",
    "start": "2625359",
    "end": "2632480"
  },
  {
    "text": "database init file convert to base 6 for",
    "start": "2632480",
    "end": "2638680"
  },
  {
    "text": "string and store it as a value in",
    "start": "2638680",
    "end": "2644319"
  },
  {
    "text": "the in a",
    "start": "2644319",
    "end": "2647760"
  },
  {
    "text": "volt okay it's there so now let me see if I can read",
    "start": "2650400",
    "end": "2656800"
  },
  {
    "text": "it so let me just show you how it would look like without decoding it so it's",
    "start": "2658319",
    "end": "2665040"
  },
  {
    "text": "basically just a long string",
    "start": "2665040",
    "end": "2669040"
  },
  {
    "text": "I think it's easier if I",
    "start": "2673559",
    "end": "2676760"
  },
  {
    "text": "just okay yeah so once we decod it it's back to the values that we preserved",
    "start": "2679240",
    "end": "2685200"
  },
  {
    "text": "earlier in the",
    "start": "2685200",
    "end": "2688599"
  },
  {
    "text": "file okay so now we have this whole ch about spy work",
    "start": "2693400",
    "end": "2701240"
  },
  {
    "text": "identities and they put a lot of effort to writing all this so thank you",
    "start": "2701240",
    "end": "2707200"
  },
  {
    "text": "Andy and so what what we're going to do now I",
    "start": "2707200",
    "end": "2713280"
  },
  {
    "text": "will show you we'll create a little debug pod that can actually go and we",
    "start": "2713280",
    "end": "2720520"
  },
  {
    "text": "can go inside of this container and I'll show you all the steps that we are doing",
    "start": "2720520",
    "end": "2725599"
  },
  {
    "text": "in order to obtain the identity from uh the identity for the database from",
    "start": "2725599",
    "end": "2735000"
  },
  {
    "text": "Vault okay so the application called Spire debug has been",
    "start": "2742680",
    "end": "2750599"
  },
  {
    "text": "created and by the way it's using the CSI driver uh to talk to Spire agent and obtain",
    "start": "2753640",
    "end": "2762160"
  },
  {
    "text": "identities for this pod so let's see if it's",
    "start": "2762160",
    "end": "2771839"
  },
  {
    "text": "operational okay it's running so now I can get inside so I'm getting inside of this",
    "start": "2772240",
    "end": "2780838"
  },
  {
    "text": "container all right and now we can do a few things here so so first one let's",
    "start": "2782880",
    "end": "2788040"
  },
  {
    "text": "just fetch identity for this container so for those who know what",
    "start": "2788040",
    "end": "2793880"
  },
  {
    "text": "who've done before Spire this is pretty straightforward you I'm sure you've done this before it's basically uh using the",
    "start": "2793880",
    "end": "2802280"
  },
  {
    "text": "Spire agent binary file we just call to fetch API uh",
    "start": "2802280",
    "end": "2808520"
  },
  {
    "text": "to to fetch JWT token and with the using audience called",
    "start": "2808520",
    "end": "2814319"
  },
  {
    "text": "volt on the socket path which is basically access to",
    "start": "2814319",
    "end": "2820400"
  },
  {
    "text": "CSI okay so this part right here is this JWT",
    "start": "2820400",
    "end": "2827800"
  },
  {
    "text": "token with the encoded identity information so I'm going to take this guy how many people haveed around",
    "start": "2827800",
    "end": "2838240"
  },
  {
    "text": "to okay so let's go to this JWT debugger and I can show you",
    "start": "2841240",
    "end": "2848559"
  },
  {
    "text": "the identity that we just received for this",
    "start": "2848559",
    "end": "2854079"
  },
  {
    "text": "container so basically it has this level information so here this",
    "start": "2854079",
    "end": "2861119"
  },
  {
    "text": "this is the identity for this container uh right",
    "start": "2861119",
    "end": "2866359"
  },
  {
    "text": "here okay is's using the trust domain name space and the service",
    "start": "2866359",
    "end": "2874920"
  },
  {
    "text": "account okay and that much as the policy that we defined on vault so if we send",
    "start": "2874920",
    "end": "2882880"
  },
  {
    "text": "this request to vault in theory should return the values for",
    "start": "2882880",
    "end": "2890040"
  },
  {
    "text": "us okay so we did this part so let me store this token as a",
    "start": "2895160",
    "end": "2902599"
  },
  {
    "text": "environment variable",
    "start": "2902599",
    "end": "2906240"
  },
  {
    "text": "okay so now I have this stored I can show you how it looks",
    "start": "2909240",
    "end": "2916240"
  },
  {
    "text": "like okay that's basically the same as",
    "start": "2922480",
    "end": "2927640"
  },
  {
    "text": "above okay maybe not be maybe it's not the same because the time changed so there's this",
    "start": "2927839",
    "end": "2934400"
  },
  {
    "text": "small value change but all",
    "start": "2934400",
    "end": "2939318"
  },
  {
    "text": "right so this is all chapter about what's inside of the token and I just",
    "start": "2939559",
    "end": "2945680"
  },
  {
    "text": "showed you so here now we going we're going to use this token obtained from",
    "start": "2945680",
    "end": "2953119"
  },
  {
    "text": "Spire to get access to volt so that's this comment right",
    "start": "2953119",
    "end": "2961160"
  },
  {
    "text": "here okay you see right here the client token this is the temporary token that",
    "start": "2964640",
    "end": "2971960"
  },
  {
    "text": "we receive to access volt so we're going to parse this token and request the",
    "start": "2971960",
    "end": "2979000"
  },
  {
    "text": "actual",
    "start": "2979000",
    "end": "2981559"
  },
  {
    "text": "secret okay",
    "start": "2989839",
    "end": "2993839"
  },
  {
    "text": "all right here you go so we were able to get the secret out once was delivered then we convert",
    "start": "3002839",
    "end": "3009480"
  },
  {
    "text": "it back to uh with we decoded from the base 64 so now",
    "start": "3009480",
    "end": "3017280"
  },
  {
    "text": "it's converted back back to text which we can store locally and used by the",
    "start": "3017280",
    "end": "3023839"
  },
  {
    "text": "application to uh access the database so",
    "start": "3023839",
    "end": "3029400"
  },
  {
    "text": "since I am inside of the container I'm going to exit back to our development due to our",
    "start": "3029400",
    "end": "3037920"
  },
  {
    "text": "environment and I don't think we need this guy anymore so I'm going to delete it that was just for demonstration",
    "start": "3038160",
    "end": "3048040"
  },
  {
    "text": "purpose all right so we have we have deployed spy fire we have deployed volt",
    "start": "3052440",
    "end": "3059200"
  },
  {
    "text": "we injected the credentials into volt we tested that they can be obtained from",
    "start": "3059200",
    "end": "3065960"
  },
  {
    "text": "inside of the side car so now let's do this inside of the actual",
    "start": "3065960",
    "end": "3071880"
  },
  {
    "text": "application so first step I'm going to delete the config map which contains the",
    "start": "3071880",
    "end": "3079000"
  },
  {
    "text": "hardcoded database information for our",
    "start": "3079000",
    "end": "3084640"
  },
  {
    "text": "application okay",
    "start": "3084640",
    "end": "3088558"
  },
  {
    "text": "now let's redeploy the app this time it contains the little side card that does",
    "start": "3092000",
    "end": "3097640"
  },
  {
    "text": "automatically what we went through in a minute a few minutes ago",
    "start": "3097640",
    "end": "3105359"
  },
  {
    "text": "so as you can see few things change like the application itself is",
    "start": "3118599",
    "end": "3125000"
  },
  {
    "text": "different make sure it's",
    "start": "3131799",
    "end": "3135920"
  },
  {
    "text": "deployed oh it's still terminating the old one okay I'll put this on white",
    "start": "3137960",
    "end": "3145040"
  },
  {
    "text": "okay so the way this is structured this site car is defined as a init container",
    "start": "3150920",
    "end": "3157000"
  },
  {
    "text": "so it does this work ahead of time obtains the identity from the database",
    "start": "3157000",
    "end": "3162960"
  },
  {
    "text": "for for the database and then injects this to a shared drive that can be uh",
    "start": "3162960",
    "end": "3169559"
  },
  {
    "text": "read from inside of the application this is just for this demo for today typically what happens the",
    "start": "3169559",
    "end": "3175760"
  },
  {
    "text": "side car can be assisting the application continuously if anytime data changes if any of the uh tokens are",
    "start": "3175760",
    "end": "3184319"
  },
  {
    "text": "being recycled or uh recreated it would pick up the changes and put it back into",
    "start": "3184319",
    "end": "3191839"
  },
  {
    "text": "a file then anytime application sees the changes it would restart uh the",
    "start": "3191839",
    "end": "3198280"
  },
  {
    "text": "application with the new credentials okay",
    "start": "3198280",
    "end": "3203799"
  },
  {
    "text": "so since this is",
    "start": "3207000",
    "end": "3210000"
  },
  {
    "text": "running now let me get back again the public access tool so this is",
    "start": "3212559",
    "end": "3218920"
  },
  {
    "text": "the new application the running with the side car config map was deleted so everything",
    "start": "3218920",
    "end": "3225400"
  },
  {
    "text": "we have now is dynamically obtained from The Vault",
    "start": "3225400",
    "end": "3231079"
  },
  {
    "text": "so let's go back to the application",
    "start": "3231079",
    "end": "3237599"
  },
  {
    "text": "yeah it's working again actually maybe I should have add",
    "start": "3243839",
    "end": "3249520"
  },
  {
    "text": "something on the old database like some random text and then I could show it now",
    "start": "3249520",
    "end": "3255559"
  },
  {
    "text": "that it's still using the same database with the dynamic is we should have done it yeah okay",
    "start": "3255559",
    "end": "3264359"
  },
  {
    "text": "yeah but this will be more convincing yeah yeah there'll be no there's zero",
    "start": "3266720",
    "end": "3273799"
  },
  {
    "text": "trust don't trust me you know maybe it was fully recorded you don't know I'm just good in clicking and yeah yeah",
    "start": "3273799",
    "end": "3279079"
  },
  {
    "text": "maybe that was fully recorded exactly okay so",
    "start": "3279079",
    "end": "3286119"
  },
  {
    "text": "conclusions so this is what you learned today there's a set of useful useful",
    "start": "3286119",
    "end": "3292880"
  },
  {
    "text": "links we uh encourage everyone to go through some of these links and if you're",
    "start": "3292880",
    "end": "3298240"
  },
  {
    "text": "interested getting more information about this project about some of the work that we",
    "start": "3298240",
    "end": "3304119"
  },
  {
    "text": "doing either reach out to us directly or through this links or slack channels",
    "start": "3304119",
    "end": "3312160"
  },
  {
    "text": "we are publicly",
    "start": "3312160",
    "end": "3314920"
  },
  {
    "text": "available EnV going to add add comment",
    "start": "3320359",
    "end": "3327640"
  },
  {
    "text": "only yeah there is you actually have to remove one of the values that says",
    "start": "3336200",
    "end": "3341720"
  },
  {
    "text": "enable open shift okay so there is one value that says open shift yes or no you",
    "start": "3341720",
    "end": "3347839"
  },
  {
    "text": "just set to no that's it I think and if you have any specific Ingress requirements you have to modify the",
    "start": "3347839",
    "end": "3354760"
  },
  {
    "text": "Ingress value but otherwise it would be identical so you can run this on kind or",
    "start": "3354760",
    "end": "3360880"
  },
  {
    "text": "or any Cloud that you have access to uh what else for torac I'm pitching",
    "start": "3360880",
    "end": "3369160"
  },
  {
    "text": "Tac again but for torac we are also we also introduced the user management",
    "start": "3369160",
    "end": "3374760"
  },
  {
    "text": "which you know the tnac that I showed you today it has no access like everybody who knows the URL can they can",
    "start": "3374760",
    "end": "3381559"
  },
  {
    "text": "access but there's also user management that could be integrated with I",
    "start": "3381559",
    "end": "3387400"
  },
  {
    "text": "either through uh key loock or directly using oidc authentication like with",
    "start": "3387400",
    "end": "3395000"
  },
  {
    "text": "different IM AWS works as well so we have this production level Access",
    "start": "3395000",
    "end": "3403119"
  },
  {
    "text": "Control uh let's see what else we should say questions questions yes",
    "start": "3403119",
    "end": "3409119"
  },
  {
    "text": "questions I've been talking I've been talking a lot so so maybe questions now to Angeli Andy Maya because they they",
    "start": "3409119",
    "end": "3416359"
  },
  {
    "text": "feel like they they under appreciate",
    "start": "3416359",
    "end": "3421038"
  },
  {
    "text": "it I have set this up trying to",
    "start": "3424119",
    "end": "3429440"
  },
  {
    "text": "follow not do it 25 minutes this is useful in enough",
    "start": "3431280",
    "end": "3440319"
  },
  {
    "text": "itself I'm really happy to hear it yes we try to make it so my mother can",
    "start": "3440319",
    "end": "3447000"
  },
  {
    "text": "go through it so if you ever do any workshops or any tutorial educational material",
    "start": "3447000",
    "end": "3456280"
  },
  {
    "text": "always as as you could see there's no magic here it's just copy paste commands and these are very simple commands",
    "start": "3462680",
    "end": "3468799"
  },
  {
    "text": "there's no open shift if we didn't tell you this is running on open shift you wouldn't even know there's no open shift",
    "start": "3468799",
    "end": "3475520"
  },
  {
    "text": "specific operations there was no open shift client anywhere just a simple for",
    "start": "3475520",
    "end": "3481680"
  },
  {
    "text": "the terminal terminal well yeah that's the only reason why we use it because open shift allow us to to prepare the",
    "start": "3481680",
    "end": "3488799"
  },
  {
    "text": "environments for you so everybody would be running the same exactly demo it would be a nightmare to run it on your",
    "start": "3488799",
    "end": "3494680"
  },
  {
    "text": "local machine today with 100 people having all questions about how do you set up environment on my Windows machine",
    "start": "3494680",
    "end": "3501400"
  },
  {
    "text": "I don't know so yeah this was this was the easy way that that was the only",
    "start": "3501400",
    "end": "3506559"
  },
  {
    "text": "reason why we run open shift yes",
    "start": "3506559",
    "end": "3510079"
  },
  {
    "text": "sir curious your thoughts this does not seem like an",
    "start": "3513280",
    "end": "3518599"
  },
  {
    "text": "uncom to",
    "start": "3518599",
    "end": "3522559"
  },
  {
    "text": "oh yeah so what we could have done here for this presentation which would be probably a little bit more difficult for",
    "start": "3538079",
    "end": "3544680"
  },
  {
    "text": "to to do it in in in one Workshop but we could convert the MySQL to completely",
    "start": "3544680",
    "end": "3551319"
  },
  {
    "text": "ignore secrets and just adapt to uh spire and spiffy identities that would",
    "start": "3551319",
    "end": "3557880"
  },
  {
    "text": "be very easy for us to do as well but we would lose the ability to show you all",
    "start": "3557880",
    "end": "3562960"
  },
  {
    "text": "these Growing Pains of going from one process to another one so that we we",
    "start": "3562960",
    "end": "3568000"
  },
  {
    "text": "decided to do this way I agree that if we remove Secrets completely just use",
    "start": "3568000",
    "end": "3573520"
  },
  {
    "text": "the short lft identities to communicate between the application and a database",
    "start": "3573520",
    "end": "3578640"
  },
  {
    "text": "or any a service that will be real zero trust but you know we would lose the",
    "start": "3578640",
    "end": "3584200"
  },
  {
    "text": "story that we are trying to to sell here",
    "start": "3584200",
    "end": "3589440"
  },
  {
    "text": "right right but not every application supports spiffy Inspire identity and",
    "start": "3599920",
    "end": "3606839"
  },
  {
    "text": "sometimes the only solution is to do something like this you basically decouple the credentials from the",
    "start": "3606839",
    "end": "3613280"
  },
  {
    "text": "application put it in some other place I'm not saying it has to be Vault it could be something else right but you",
    "start": "3613280",
    "end": "3619280"
  },
  {
    "text": "put it in a place that can be retrieved using identity so you're introducing some parts of the zero trust I know it's",
    "start": "3619280",
    "end": "3626880"
  },
  {
    "text": "not perfect but it's better than just having them hardcoded yes sir you just answer my question you're very",
    "start": "3626880",
    "end": "3634599"
  },
  {
    "text": "welcome I guess before you know that how",
    "start": "3639359",
    "end": "3644798"
  },
  {
    "text": "many that's not fair you have a t-shirt so we know that you this",
    "start": "3646799",
    "end": "3652318"
  },
  {
    "text": "is could be fan okay good good and bad it on good",
    "start": "3652599",
    "end": "3658359"
  },
  {
    "text": "and bad um so points",
    "start": "3658359",
    "end": "3665839"
  },
  {
    "text": "MERS absolutely when it comes to Federation it works well",
    "start": "3670640",
    "end": "3677520"
  },
  {
    "text": "with clusters but when when you have multiple cleda to each other you have",
    "start": "3677520",
    "end": "3687559"
  },
  {
    "text": "Rel devil inil correct it's definitely I think another point is",
    "start": "3698760",
    "end": "3707240"
  },
  {
    "text": "registration and registration I think whoever actually dection",
    "start": "3707240",
    "end": "3716200"
  },
  {
    "text": "has wrote their own reg",
    "start": "3716200",
    "end": "3721078"
  },
  {
    "text": "atnet yeah you can modify the format of it of course yes you don't have to use the stand we just use we just optt for",
    "start": "3738319",
    "end": "3745520"
  },
  {
    "text": "the fults which is the name space and the service accounts you can actually go very fancy you can we did experiments in",
    "start": "3745520",
    "end": "3751920"
  },
  {
    "text": "the past when we used the uh image ID actually even image Sha so we have we we",
    "start": "3751920",
    "end": "3759920"
  },
  {
    "text": "we validated only specific image that was blessed and validated and trusted",
    "start": "3759920",
    "end": "3765960"
  },
  {
    "text": "can access my database I don't want anyone else to touch it even with the same image name has to be the same",
    "start": "3765960",
    "end": "3772680"
  },
  {
    "text": "version of the image right because du due to some uh government requirements there has",
    "start": "3772680",
    "end": "3780960"
  },
  {
    "text": "there's some policy that you know only the specific image can be executed right",
    "start": "3780960",
    "end": "3786839"
  },
  {
    "text": "because it was validated and tested well tested by by some tooling some",
    "start": "3786839",
    "end": "3793799"
  },
  {
    "text": "process yeah I think when it comes TOS I challeng being cruster deoy know",
    "start": "3803640",
    "end": "3813880"
  },
  {
    "text": "you have a bu ofu sitting in between",
    "start": "3813880",
    "end": "3819680"
  },
  {
    "text": "terminating TLS",
    "start": "3819680",
    "end": "3823680"
  },
  {
    "text": "it and I agree with your observation on Federation because Maya is our",
    "start": "3837760",
    "end": "3842960"
  },
  {
    "text": "Federation expert and she spent long time to actually find out all the information available on on how to",
    "start": "3842960",
    "end": "3849760"
  },
  {
    "text": "basically start more simple Federation and then more complex ones so Amaya is",
    "start": "3849760",
    "end": "3855799"
  },
  {
    "text": "in the middle of preparing a Blog that basically summarizes all her findings I think that could be pretty useful but",
    "start": "3855799",
    "end": "3861880"
  },
  {
    "text": "there were a few challenges she she was not able to initially find enough information inform to do it properly",
    "start": "3861880",
    "end": "3867240"
  },
  {
    "text": "like you just said you know once you start scaling above certain levels it becomes shaky",
    "start": "3867240",
    "end": "3874440"
  }
]