[
  {
    "text": "okay let's get started hello everyone thank you very much for joining us to today's cncf webinar",
    "start": "13679",
    "end": "19760"
  },
  {
    "text": "the evolution of ingress through the gateway api i'm jerry fallon and i'll be moderating",
    "start": "19760",
    "end": "25279"
  },
  {
    "text": "today's webinar we would like to welcome our presenters today castlin fields developer advocate at",
    "start": "25279",
    "end": "31119"
  },
  {
    "text": "google and bowie do staffs software engineer at google just a few housekeeping items before we",
    "start": "31119",
    "end": "37360"
  },
  {
    "text": "get started during the webinar you are not able to talk as an attendee there is a q a box at the bottom of your",
    "start": "37360",
    "end": "43200"
  },
  {
    "text": "screen so please feel free to drop your questions in there and we'll get to as many as we can at the end",
    "start": "43200",
    "end": "48239"
  },
  {
    "text": "this is an official webinar of the cncf and as such is subject to the cncf code of conduct",
    "start": "48239",
    "end": "53520"
  },
  {
    "text": "please do not add anything to the chat or questions that would be in violation of the code of conduct please be respectful of all of your",
    "start": "53520",
    "end": "60320"
  },
  {
    "text": "fellow participants and presenters please also note that the recording on slides will be posted later today to the",
    "start": "60320",
    "end": "66159"
  },
  {
    "text": "cncf webinar page at cncf dot io slash webinars and with that i'll hand it over to our presenters",
    "start": "66159",
    "end": "72159"
  },
  {
    "text": "for today's webinar hello and welcome everyone um i think",
    "start": "72159",
    "end": "79600"
  },
  {
    "text": "as you mentioned this is the evolution of ingress through the gateway api",
    "start": "79600",
    "end": "84840"
  },
  {
    "text": "and there we go like you said i'm caslin fields and i'm",
    "start": "84840",
    "end": "91119"
  },
  {
    "text": "a developer advocate at google i focus on devops kubernetes containers and all sorts of things",
    "start": "91119",
    "end": "97360"
  },
  {
    "text": "and i'm also a cloud native computing foundation ambassador and today i have with me hi i'm bowie",
    "start": "97360",
    "end": "103439"
  },
  {
    "text": "i'm uh one of the leads on kubernetes networking at gk networking at google",
    "start": "103439",
    "end": "111520"
  },
  {
    "text": "it's a good cool so let's get started so today we're",
    "start": "111520",
    "end": "117040"
  },
  {
    "text": "going to be talking about gateway api and i wanted to tell you all a little background on how i",
    "start": "117040",
    "end": "122960"
  },
  {
    "text": "found out about this which honestly i don't really know i am a kubernetes kind of person so i'm in all these",
    "start": "122960",
    "end": "129280"
  },
  {
    "text": "kubernetes groups and things and gateway api was one of those things that i heard about at some point and i was like wow i",
    "start": "129280",
    "end": "134720"
  },
  {
    "text": "would love to learn more about that so i learned about boei and the team",
    "start": "134720",
    "end": "140080"
  },
  {
    "text": "creating gateway api and i started learning about it so what i'm going to share with you all today is what i've learned",
    "start": "140080",
    "end": "145680"
  },
  {
    "text": "so far i'm going to give you all a little bit of a demo and bowie's going to jump in a little bit deeper so to start",
    "start": "145680",
    "end": "151920"
  },
  {
    "text": "off with what is gateway api and kind of where does it come from",
    "start": "151920",
    "end": "158080"
  },
  {
    "text": "so in terms of kubernetes ingress and the ways that kind of",
    "start": "158080",
    "end": "165040"
  },
  {
    "text": "networking and traffic within kubernetes are handled traditionally uh these types of roles",
    "start": "165040",
    "end": "171360"
  },
  {
    "text": "have been a single type of role and it's been very self-service in style but over time as more and more",
    "start": "171360",
    "end": "179440"
  },
  {
    "text": "companies are are adopting kind of the devops methodology for dealing with kubernetes",
    "start": "179440",
    "end": "184959"
  },
  {
    "text": "and adopting cloud-native technologies this is changing there are now many",
    "start": "184959",
    "end": "190239"
  },
  {
    "text": "roles that kind of touch this space and so the permissions and the way",
    "start": "190239",
    "end": "196400"
  },
  {
    "text": "uh ways that people interact with these tools are changing as these roles are kind of",
    "start": "196400",
    "end": "201680"
  },
  {
    "text": "diversifying so there are several tools in this space",
    "start": "201680",
    "end": "207120"
  },
  {
    "text": "there's kind of proxies there's cloud load balancers which i'm sure most people are familiar with and",
    "start": "207120",
    "end": "213280"
  },
  {
    "text": "there are middle proxies like nginx and envoy and these types of things so traditionally these",
    "start": "213280",
    "end": "220879"
  },
  {
    "text": "kind of categories of tools have been more separated but as devops methodology takes hold",
    "start": "220879",
    "end": "227120"
  },
  {
    "text": "as these roles are transforming these tools are also transforming and",
    "start": "227120",
    "end": "232159"
  },
  {
    "text": "the intersections between them are getting more and more there's more and more overlap between the feature sets",
    "start": "232159",
    "end": "237280"
  },
  {
    "text": "so the the kind of landscape here has been around ingress and networking has been",
    "start": "237280",
    "end": "243680"
  },
  {
    "text": "evolving so the goals of the gateway api project are to better model the personas and the",
    "start": "243680",
    "end": "250799"
  },
  {
    "text": "roles that are involved with services and load balancing like i mentioned they've been kind of changing with the adoption of devops",
    "start": "250799",
    "end": "258560"
  },
  {
    "text": "and we want to support modern load balancing features while maintaining portability",
    "start": "258560",
    "end": "264880"
  },
  {
    "text": "or maybe a predictability we'll talk more about what that means in a little bit and we want to have",
    "start": "264880",
    "end": "270080"
  },
  {
    "text": "standard mechanisms for extending apis in this space so that",
    "start": "270080",
    "end": "275120"
  },
  {
    "text": "as the api grows and as vendor-specific behaviors are needed and",
    "start": "275120",
    "end": "281280"
  },
  {
    "text": "implemented everything is kind of consistent and standard",
    "start": "281280",
    "end": "287199"
  },
  {
    "text": "so how is gateway api going to accomplish these things",
    "start": "287199",
    "end": "292560"
  },
  {
    "text": "for dealing with personas and roles you have to incorporate that into the resource model of how you do ingress",
    "start": "292560",
    "end": "298960"
  },
  {
    "text": "how you create load balancers how do different roles use those resources",
    "start": "298960",
    "end": "304240"
  },
  {
    "text": "so part of that is the resource model part of that is our back rule-based access control",
    "start": "304240",
    "end": "310080"
  },
  {
    "text": "and if you're familiar with kubernetes you probably or lots of other things you probably have something",
    "start": "310080",
    "end": "315120"
  },
  {
    "text": "familiarity with our back but i'll go into a little bit more detail on that in a minute in terms of",
    "start": "315120",
    "end": "322160"
  },
  {
    "text": "modern load balancing features and making sure that this stays portable and predictable",
    "start": "322160",
    "end": "329680"
  },
  {
    "text": "we're going the gateway api is going to do that with levels of support and creating a",
    "start": "329680",
    "end": "335840"
  },
  {
    "text": "specification for everything to kind of conform by and doing things like conformance",
    "start": "335840",
    "end": "341280"
  },
  {
    "text": "testing and i'll talk more about that and for standard mechanisms for extension of the api",
    "start": "341280",
    "end": "347919"
  },
  {
    "text": "part of that is in the resource model and there's kind of a polymorphism like uh strategy that the team has adopted",
    "start": "347919",
    "end": "353759"
  },
  {
    "text": "here which i'll talk more about again so did you have something",
    "start": "353759",
    "end": "360800"
  },
  {
    "text": "to add polly nope okay sorry uh so",
    "start": "360800",
    "end": "367280"
  },
  {
    "text": "uh modeling let's first talk about services kubernetes services a service as a",
    "start": "367280",
    "end": "373680"
  },
  {
    "text": "resource kind of handles a lot of jobs if you are just getting started with kubernetes the",
    "start": "373680",
    "end": "380800"
  },
  {
    "text": "first kind of exposure that you get to services is probably as a method of exposure for your",
    "start": "380800",
    "end": "387520"
  },
  {
    "text": "applications that you're running in kubernetes so there are a variety of methods for doing that you can have cluster ip type",
    "start": "387520",
    "end": "394800"
  },
  {
    "text": "services node port and load balancer type services and i know in some of the early",
    "start": "394800",
    "end": "400639"
  },
  {
    "text": "tutorials i did with kubernetes you'd actually do like cube ctl expose",
    "start": "400639",
    "end": "405680"
  },
  {
    "text": "whatever your pod was um and that is how you enable",
    "start": "405680",
    "end": "412160"
  },
  {
    "text": "sending traffic to that application how you connect it to other applications so services are a method of exposure",
    "start": "412160",
    "end": "420400"
  },
  {
    "text": "another important point that uh sometimes people forget about or don't think about enough",
    "start": "420400",
    "end": "426880"
  },
  {
    "text": "is that services are a method of grouping back ends a workload is often not just a",
    "start": "426880",
    "end": "432000"
  },
  {
    "text": "single pod it's often several pods altogether and so you give those all selectors",
    "start": "432000",
    "end": "438639"
  },
  {
    "text": "and the service kind of connects back to all of those different",
    "start": "438639",
    "end": "445120"
  },
  {
    "text": "selected pods so it's a grouping of back ends and it's also a way for you to",
    "start": "445120",
    "end": "453039"
  },
  {
    "text": "place attributes on on your service for example you can describe how to",
    "start": "453280",
    "end": "458560"
  },
  {
    "text": "handle traffic for the service with external traffic policy and then there's things like session affinity",
    "start": "458560",
    "end": "464319"
  },
  {
    "text": "so services kind of have a lot of jobs and so as such they can be kind of",
    "start": "464319",
    "end": "472479"
  },
  {
    "text": "complex to handle so there's this concept of ingress that kubernetes introduced and",
    "start": "472479",
    "end": "478720"
  },
  {
    "text": "we're introducing gateway api to kind of separate out the chunks so that they make more sense with the",
    "start": "478720",
    "end": "484240"
  },
  {
    "text": "different roles that have to deal with services so let's go over those roles that we",
    "start": "484240",
    "end": "489680"
  },
  {
    "text": "keep talking about the three roles that we're going to kind of focus on here are the infrastructure provider and this",
    "start": "489680",
    "end": "496160"
  },
  {
    "text": "is going to be whoever is providing the infrastructure for cluster creation this could be a cloud provider or for",
    "start": "496160",
    "end": "501520"
  },
  {
    "text": "example an internal platforms of the service team there's also the cluster operator or",
    "start": "501520",
    "end": "507120"
  },
  {
    "text": "cluster administrator network operations site reliability engineer these types of roles do cluster",
    "start": "507120",
    "end": "515120"
  },
  {
    "text": "management once it's been created they're responsible for overall policies",
    "start": "515120",
    "end": "521120"
  },
  {
    "text": "for example what services to expose to the internet very important in terms of security",
    "start": "521120",
    "end": "526480"
  },
  {
    "text": "especially and then of course there's the application developer who is actually building the applications",
    "start": "526480",
    "end": "531839"
  },
  {
    "text": "and thus they have some stake in the services that expose those applications and they have some stake in defining",
    "start": "531839",
    "end": "539120"
  },
  {
    "text": "traffic routing to those services and this is kind of how we think about these roles",
    "start": "539120",
    "end": "545600"
  },
  {
    "text": "now i mentioned our back earlier i want to give a brief overview of what kubernetes r back means or kind of our back means",
    "start": "545600",
    "end": "551839"
  },
  {
    "text": "in general and our back is a way of describing",
    "start": "551839",
    "end": "557440"
  },
  {
    "text": "roles using clauses so a rbac rule kind of has",
    "start": "557440",
    "end": "565040"
  },
  {
    "text": "a user a role a verb and a resource",
    "start": "565040",
    "end": "571760"
  },
  {
    "text": "so our example here is alice our user can act as a cluster operator which is",
    "start": "571760",
    "end": "578399"
  },
  {
    "text": "our role uh with permission to update the thing that alice can do",
    "start": "578399",
    "end": "583920"
  },
  {
    "text": "the configuration of a gateway the resource that alice can do this action to so the important thing here",
    "start": "583920",
    "end": "592720"
  },
  {
    "text": "is to remember that there are many different types of roles different personas that need to be able to do different things they need different",
    "start": "592720",
    "end": "598800"
  },
  {
    "text": "permissions so this is a way to kind of control that and we need to divide up the resources so",
    "start": "598800",
    "end": "605040"
  },
  {
    "text": "that roles can be given different types of access depending on what they need to do",
    "start": "605040",
    "end": "610959"
  },
  {
    "text": "and i want to mention that the kubernetes api implements are back so uh",
    "start": "610959",
    "end": "617839"
  },
  {
    "text": "apis mostly have kind of the same set of verbs and uh so if you're familiar with",
    "start": "617839",
    "end": "624079"
  },
  {
    "text": "kubernetes are back you'll you'll know a little bit of this already and this will relate back to the way",
    "start": "624079",
    "end": "629519"
  },
  {
    "text": "that gateway api is implemented which you'll see so i want to talk for a second about ingress",
    "start": "629519",
    "end": "635040"
  },
  {
    "text": "so kubernetes has this concept of an ingress class and an ingress",
    "start": "635040",
    "end": "641200"
  },
  {
    "text": "resource and the ingress resource in kubernetes is more of that self-service model i",
    "start": "641200",
    "end": "646720"
  },
  {
    "text": "mentioned how the roles have been changing over time uh so this is we think not as",
    "start": "646720",
    "end": "652480"
  },
  {
    "text": "representative of of what these roles are doing now that kind of devops has started to",
    "start": "652480",
    "end": "659279"
  },
  {
    "text": "become the way of things so ingress is a self-service model the ingress class",
    "start": "659279",
    "end": "664640"
  },
  {
    "text": "is the part that's created by the infrastructure provider if we're talking about those roles and then the application developer kind",
    "start": "664640",
    "end": "671920"
  },
  {
    "text": "of manages both the ingress and the service and ingress is limited to kind of simple",
    "start": "671920",
    "end": "677519"
  },
  {
    "text": "l7 descriptions so it kind of ignores the cluster administrator all together here",
    "start": "677519",
    "end": "684240"
  },
  {
    "text": "and this is arranged differently in the gateway api model and this is all centered around those",
    "start": "684240",
    "end": "690959"
  },
  {
    "text": "roles that we just talked about so the idea here is to decouple along the role",
    "start": "690959",
    "end": "696000"
  },
  {
    "text": "concept so the first one we talked about infrastructure providers",
    "start": "696000",
    "end": "701760"
  },
  {
    "text": "they are going to deal with the gateway class which basically sets up a template of this is the types of load balancers",
    "start": "701760",
    "end": "708320"
  },
  {
    "text": "basically that you can have in kubernetes for your various services",
    "start": "708320",
    "end": "713600"
  },
  {
    "text": "then the cluster administrator will take those templates and actually implement them as actual resources and kubernetes which",
    "start": "713600",
    "end": "721040"
  },
  {
    "text": "are called gateways and the application developer cares then about routes and services so this is a little",
    "start": "721040",
    "end": "728240"
  },
  {
    "text": "bit closer to what they actually care about it's all about the types of traffic that are coming in and where",
    "start": "728240",
    "end": "733360"
  },
  {
    "text": "that traffic goes making sure that it's going to their services in the way that they want it to",
    "start": "733360",
    "end": "739920"
  },
  {
    "text": "so in terms of concepts the gateway is all about exposure and access it's kind of a load balancer",
    "start": "739920",
    "end": "746240"
  },
  {
    "text": "it's taking in uh traffic and then the routes define more where that traffic is going",
    "start": "746240",
    "end": "752800"
  },
  {
    "text": "to go it's all about routing protocol specific attributes and then",
    "start": "752800",
    "end": "758000"
  },
  {
    "text": "the services are like we said about grouping pods dealing with back ends",
    "start": "758000",
    "end": "763120"
  },
  {
    "text": "and allowing for that type of selection so here's a look at what the api kind of",
    "start": "763120",
    "end": "769440"
  },
  {
    "text": "looks like you'll see this several times it'll make a lot more sense probably in the demo if you want to check that out so there's",
    "start": "769440",
    "end": "777360"
  },
  {
    "text": "uh the gateway class which i mentioned is kind of a template and there's the gateway itself and then we've got these two http",
    "start": "777360",
    "end": "784800"
  },
  {
    "text": "routes that are defining where traffic goes and then they go to the",
    "start": "784800",
    "end": "790160"
  },
  {
    "text": "backend services so you can get kind of an idea for what this flow looks like and now boy",
    "start": "790160",
    "end": "797920"
  },
  {
    "text": "are always going to go into more detail on that in a minute there's one more thing i wanted to talk about here which is",
    "start": "797920",
    "end": "804480"
  },
  {
    "text": "portability and predictability i used these words earlier what does that really mean and how is it",
    "start": "804480",
    "end": "809920"
  },
  {
    "text": "being implemented in gateway api so one challenge here and",
    "start": "809920",
    "end": "816160"
  },
  {
    "text": "one thing that a lot of people have been really excited about with kubernetes for example is custom resource definitions right you",
    "start": "816160",
    "end": "822399"
  },
  {
    "text": "have a very specific use case and you want kubernetes to do something very particular so you implement a",
    "start": "822399",
    "end": "827519"
  },
  {
    "text": "customer resource definition the challenge is that sometimes the ways",
    "start": "827519",
    "end": "833440"
  },
  {
    "text": "that these are implemented are very standardized and so they can be kind of challenging",
    "start": "833440",
    "end": "838480"
  },
  {
    "text": "to deal with so in developing the gateway api we know that it's going to grow over time and we want to make sure",
    "start": "838480",
    "end": "845279"
  },
  {
    "text": "that extensions to that api make sense they're kind of predictable they're really easy to use",
    "start": "845279",
    "end": "851760"
  },
  {
    "text": "so we're doing this with these few concepts we've got the core api",
    "start": "851760",
    "end": "856800"
  },
  {
    "text": "of the gateway api which is kind of you know the core functionality should be 100 predictable and portable",
    "start": "856800",
    "end": "863920"
  },
  {
    "text": "you should know what it looks like it should be pretty easy to use then there are going to be this concept",
    "start": "863920",
    "end": "870240"
  },
  {
    "text": "of extended api where you've got core api concepts that you're extending just a",
    "start": "870240",
    "end": "875600"
  },
  {
    "text": "bit further out and we want to make sure that those conform to a standard specification",
    "start": "875600",
    "end": "881680"
  },
  {
    "text": "so that's kind of the idea with the extended api and then implementation",
    "start": "881680",
    "end": "888160"
  },
  {
    "text": "specific apis is going to be all of those edge cases where i really want it to work this way for my",
    "start": "888160",
    "end": "893279"
  },
  {
    "text": "specific use case you can still do that and it doesn't have to conform to our expectations uh if it's just kind of",
    "start": "893279",
    "end": "900959"
  },
  {
    "text": "a one-off type of thing so core must be supported extended",
    "start": "900959",
    "end": "907360"
  },
  {
    "text": "is kind of a feature by feature thing it might be supported but it really must",
    "start": "907360",
    "end": "913120"
  },
  {
    "text": "be portable so we want to make sure that it conforms to our specification and it's part of the api schema",
    "start": "913120",
    "end": "920320"
  },
  {
    "text": "and then implementation specific is no guarantees there it's whatever you need for your specific use",
    "start": "920320",
    "end": "925600"
  },
  {
    "text": "case and how will we make this happen with conformance tests",
    "start": "925600",
    "end": "931600"
  },
  {
    "text": "so if you're doing an extended feature definition then we're going to require that you do",
    "start": "931600",
    "end": "938079"
  },
  {
    "text": "self-contained conformance to make sure that that conforms to the specification",
    "start": "938079",
    "end": "943680"
  },
  {
    "text": "and everything kind of makes sense between the core api and the extended api and all extended features must be",
    "start": "943680",
    "end": "950240"
  },
  {
    "text": "checkable statically so conformance all around for the extended portions of the api basically",
    "start": "950240",
    "end": "958399"
  },
  {
    "text": "and extensibility so i mentioned earlier that this is kind of a polymorphic style uh that is being adopted",
    "start": "959360",
    "end": "968399"
  },
  {
    "text": "to try to kind of make this really extensible so what we mean here is gateways can",
    "start": "968399",
    "end": "975279"
  },
  {
    "text": "refer to different kinds of routes for one thing you can have http tcp",
    "start": "975279",
    "end": "981120"
  },
  {
    "text": "or even custom routes so we've got this concept of a route and it can be used in many different ways",
    "start": "981120",
    "end": "988320"
  },
  {
    "text": "and you can also route to back ends in a kind of a polymorphic way and",
    "start": "988320",
    "end": "994959"
  },
  {
    "text": "if you're familiar with the concept of custom resource definitions and kubernetes like i mentioned earlier this is using uh custom resource",
    "start": "994959",
    "end": "1002320"
  },
  {
    "text": "definitions to make this work cool and now boy is going to go into",
    "start": "1002320",
    "end": "1007839"
  },
  {
    "text": "more detail on all this yeah thanks caslin um so now we're just",
    "start": "1007839",
    "end": "1013040"
  },
  {
    "text": "going to go into sort of give a taste of the api so your next slide so we'll go through a",
    "start": "1013040",
    "end": "1020720"
  },
  {
    "text": "user story where we have the different roles so imagine we have alice the ias provider we have bob the sre and we have",
    "start": "1020720",
    "end": "1028640"
  },
  {
    "text": "carol the application developer next slide so",
    "start": "1028640",
    "end": "1035038"
  },
  {
    "text": "first we start with alice the ias she's the person who's providing let's say the",
    "start": "1035039",
    "end": "1040160"
  },
  {
    "text": "cloud provider or in many cases the person who sets up the overall infrastructure for",
    "start": "1040160",
    "end": "1045678"
  },
  {
    "text": "your kubernetes clusters and as part of this she has basically two flavors of low",
    "start": "1045679",
    "end": "1051039"
  },
  {
    "text": "bouncers that she wants her users to use she has one that's external and this basically creates a load balancer that's",
    "start": "1051039",
    "end": "1057440"
  },
  {
    "text": "accessible on the internet and one that's internal and this is internal to the vpc this kind of comes as part of the infrastructure for",
    "start": "1057440",
    "end": "1064720"
  },
  {
    "text": "kubernetes clusters that she is providing the way she will sort of express this in",
    "start": "1064720",
    "end": "1070320"
  },
  {
    "text": "the api is that she will create two gateway classes that come basically pre-installed with the",
    "start": "1070320",
    "end": "1075919"
  },
  {
    "text": "kubernetes cluster she will create a gateway class called external and then because you know it's alice",
    "start": "1075919",
    "end": "1081440"
  },
  {
    "text": "cloud so she has a controller called alice.io that's going to facilitate all the gateway apis",
    "start": "1081440",
    "end": "1088080"
  },
  {
    "text": "in addition she has another gateway class called internal and similarly it's controlled by the",
    "start": "1088080",
    "end": "1093679"
  },
  {
    "text": "same controller what this gives alice's users is a way to kind of talk about",
    "start": "1093679",
    "end": "1099919"
  },
  {
    "text": "these functionalities without actually talking directly about alice.io gateway controller or",
    "start": "1099919",
    "end": "1107360"
  },
  {
    "text": "kind of knowing the internal implementation details for example alice may be changing her controller or",
    "start": "1107360",
    "end": "1113760"
  },
  {
    "text": "she may be changing attributes about uh you know how the controller works and it's set up and so forth",
    "start": "1113760",
    "end": "1119039"
  },
  {
    "text": "and kind of the users of her cluster actually don't need to understand that they just need to understand that",
    "start": "1119039",
    "end": "1124080"
  },
  {
    "text": "oh i want a load balancer on the internet i'm going to use a gateway class of external similarly a",
    "start": "1124080",
    "end": "1130799"
  },
  {
    "text": "private load balancer i'm just going to use internal so it kind of allows a bit of decoupling between the",
    "start": "1130799",
    "end": "1136160"
  },
  {
    "text": "underlying platform and the users of the cluster next slide so now that alice",
    "start": "1136160",
    "end": "1143760"
  },
  {
    "text": "has set up this overall infrastructure next comes bob the sre so bob is in charge of managing actually stuff",
    "start": "1143760",
    "end": "1150720"
  },
  {
    "text": "that's running inside the cluster not just the infrastructure itself and he's also responsible for",
    "start": "1150720",
    "end": "1155760"
  },
  {
    "text": "various policies especially around load balancers for example it would be bad if you know arbitrary",
    "start": "1155760",
    "end": "1161280"
  },
  {
    "text": "users can just kind of expose their applications on the internet they'll probably be quite unhappy so bob",
    "start": "1161280",
    "end": "1166880"
  },
  {
    "text": "wants a couple of things so bob wants that only certain name spaces can deploy external lbs so imagine that he's going",
    "start": "1166880",
    "end": "1174480"
  },
  {
    "text": "to control how to label namespaces and he basically says if i label your namespace with",
    "start": "1174480",
    "end": "1179600"
  },
  {
    "text": "internet external you can create an external lb otherwise no like i don't want you to be able to go on the internet",
    "start": "1179600",
    "end": "1186160"
  },
  {
    "text": "also the second thing that bob wants is that he knows that developers want to be able to you know experiment and just kind of do their dev",
    "start": "1186160",
    "end": "1193039"
  },
  {
    "text": "work so anyone can deploy an internal lb and finally um anyone can deploy an",
    "start": "1193039",
    "end": "1198160"
  },
  {
    "text": "in-cluster proxy for testing bob knows that alice.io is going to be charging for these lbs and then maybe he",
    "start": "1198160",
    "end": "1205200"
  },
  {
    "text": "has some custom configurations so he wants to use a acme.io proxy so he basically deploys that as well",
    "start": "1205200",
    "end": "1211360"
  },
  {
    "text": "so first we have these gateway class definitions and bob",
    "start": "1211360",
    "end": "1216720"
  },
  {
    "text": "actually edits one of the definitions for external to basically say that only those with uh internet",
    "start": "1216720",
    "end": "1223679"
  },
  {
    "text": "external can on their labels on their name space can create uh gateways of this class internal he's",
    "start": "1223679",
    "end": "1230400"
  },
  {
    "text": "going to allow everyone that's the default so he's going to allow everyone to create an internal class and then actually caslin can click",
    "start": "1230400",
    "end": "1238400"
  },
  {
    "text": "he's going to actually install an acme io proxy and this basically adds another gateway",
    "start": "1238400",
    "end": "1244000"
  },
  {
    "text": "class he's going to call me a test he says hey if you want to test things out use gateways of this class okay next slide so now we get to carol",
    "start": "1244000",
    "end": "1252480"
  },
  {
    "text": "carol's the dev she's going to be developing the application and kind of writing descriptions about",
    "start": "1252480",
    "end": "1258159"
  },
  {
    "text": "how her application is routed and attributes about it so she has two applications one is store one is",
    "start": "1258159",
    "end": "1263280"
  },
  {
    "text": "checkout the first one uh store she writes a route for store so this is stored on acme rail",
    "start": "1263280",
    "end": "1269600"
  },
  {
    "text": "and you know it has a bunch of rules about matching let's say route goes to the store service",
    "start": "1269600",
    "end": "1276159"
  },
  {
    "text": "and then the search path goes to the search service and her other application is a different",
    "start": "1276159",
    "end": "1283840"
  },
  {
    "text": "host name it's checkout.acme.io and it goes to a checkout service",
    "start": "1283840",
    "end": "1289200"
  },
  {
    "text": "and uh if you click okay okay oh go back yeah so just to",
    "start": "1289200",
    "end": "1297360"
  },
  {
    "text": "highlight um the alpha basically the schema looks like",
    "start": "1297360",
    "end": "1302400"
  },
  {
    "text": "this but we the one thing i want to note is that we added in a bunch of advanced slow well not really advanced but basically",
    "start": "1302400",
    "end": "1308640"
  },
  {
    "text": "modern load balancing features that you can express with hp route and one of the ones that i think has been commonly asked is this header matching",
    "start": "1308640",
    "end": "1315600"
  },
  {
    "text": "so a lot of the common http load balancing features we've added into the new api",
    "start": "1315600",
    "end": "1320720"
  },
  {
    "text": "as opposed to the previous ingress okay next slide so to continue this story so carol the",
    "start": "1320720",
    "end": "1328320"
  },
  {
    "text": "dev she wants to test out her applications so she creates a gateway of class tests in her name space and you see that this is a gateway",
    "start": "1328320",
    "end": "1334559"
  },
  {
    "text": "definition and uh so she calls it test and she defines a bunch of listeners",
    "start": "1334559",
    "end": "1341200"
  },
  {
    "text": "um that refer to routes and actually by default you can take up pick up have your",
    "start": "1341200",
    "end": "1347280"
  },
  {
    "text": "gateway pick up all the routes in your namespace it's just an easy way to use it and you'll notice that there's a",
    "start": "1347280",
    "end": "1352799"
  },
  {
    "text": "dashed box around all the resources these are all created in carol's namespace so she has control over all the objects in here so",
    "start": "1352799",
    "end": "1360159"
  },
  {
    "text": "click so a gateway to kind of get into more detail about what it is",
    "start": "1360159",
    "end": "1366159"
  },
  {
    "text": "that what does this api represent so gateway is actually a request for an lb and you'll notice here that it's",
    "start": "1366159",
    "end": "1372240"
  },
  {
    "text": "actually quite underspecified for example i'm requesting a listener for protocol http but i didn't spill in the",
    "start": "1372240",
    "end": "1377520"
  },
  {
    "text": "port i didn't fill in the address i wanted and it's up to the controller to kind of fill in the blanks",
    "start": "1377520",
    "end": "1383280"
  },
  {
    "text": "this basically makes it easy for the application developer to basically specify only things that they care about",
    "start": "1383280",
    "end": "1388400"
  },
  {
    "text": "for example in carroll's case she only cares about exposing her applications using http for testing",
    "start": "1388400",
    "end": "1393760"
  },
  {
    "text": "she doesn't necessarily you know require a particular ip address or you know hosting it on a different",
    "start": "1393760",
    "end": "1400799"
  },
  {
    "text": "port than port 80. and the controller will basically look at this and say oh i can satisfy your",
    "start": "1400799",
    "end": "1407120"
  },
  {
    "text": "request for exposing your services and routes in this way you know i will stamp it out",
    "start": "1407120",
    "end": "1414159"
  },
  {
    "text": "in next slide yeah so here you see that she only specifies http it's underspecified but",
    "start": "1414159",
    "end": "1420960"
  },
  {
    "text": "it's okay the controller can fill in the blanks next slide all right so once she has",
    "start": "1420960",
    "end": "1426080"
  },
  {
    "text": "created the gateway this is where the controller machinery just kicks into action so the gateway is",
    "start": "1426080",
    "end": "1431279"
  },
  {
    "text": "somewhat the cornerstone resource that's going to tie in basically gateway classes routes and",
    "start": "1431279",
    "end": "1436480"
  },
  {
    "text": "services all together to actually create the load bouncer and like i said before she",
    "start": "1436480",
    "end": "1443120"
  },
  {
    "text": "picks up all the routes in her local name space next slide",
    "start": "1443120",
    "end": "1448720"
  },
  {
    "text": "yep next slide okay so now it's all wired up and actually this",
    "start": "1448720",
    "end": "1454240"
  },
  {
    "text": "wires up the gateway with the acme dot io proxy class that bob has installed previously and",
    "start": "1454240",
    "end": "1460320"
  },
  {
    "text": "he's given kind of access to every single dev on the cluster and this lets carol test",
    "start": "1460320",
    "end": "1465679"
  },
  {
    "text": "her stuff so next slide yep so she does curl",
    "start": "1465679",
    "end": "1471120"
  },
  {
    "text": "you'll notice that in the status it's just a raw ip address because probably this one doesn't integrate with dns in",
    "start": "1471120",
    "end": "1476240"
  },
  {
    "text": "any way and she can test other stuff the next slide okay so one thing to note is that carol",
    "start": "1476240",
    "end": "1482720"
  },
  {
    "text": "cannot create an external class gateway and serve production traffic she's just not allowed",
    "start": "1482720",
    "end": "1487840"
  },
  {
    "text": "and you'll see here basically if she tried to reference the external class it's just denied by the controller",
    "start": "1487840",
    "end": "1494880"
  },
  {
    "text": "next slide now bob the sre manages external gateways so clearly at some",
    "start": "1494880",
    "end": "1500159"
  },
  {
    "text": "point carol hopefully after she checks in all her code and it all works wants to put into production",
    "start": "1500159",
    "end": "1505440"
  },
  {
    "text": "so what does he do so actually he can explicitly reference her route and it's actually in a",
    "start": "1505440",
    "end": "1510799"
  },
  {
    "text": "different namespace so you'll see this namespace bob seems like that's not great practice to name your name spaces after yourself but",
    "start": "1510799",
    "end": "1517360"
  },
  {
    "text": "you know this is his production namespace and uh from that namespace he creates a gateway",
    "start": "1517360",
    "end": "1522480"
  },
  {
    "text": "of class external he's allowed to do so because his namespace has the appropriate labels and he references a route in carol's",
    "start": "1522480",
    "end": "1529679"
  },
  {
    "text": "name space so he actually brings carol's routes into this gateway and exposed in",
    "start": "1529679",
    "end": "1535600"
  },
  {
    "text": "doing so exposes it into the internet funny enough like this has been a very commonly requested feature for ingress",
    "start": "1535600",
    "end": "1542080"
  },
  {
    "text": "is to basically refer across name spaces but the important thing to note is that you have to be able to do this",
    "start": "1542080",
    "end": "1548559"
  },
  {
    "text": "safely so it's very easy if you have cross name space that you",
    "start": "1548559",
    "end": "1554159"
  },
  {
    "text": "ended up having situations where someone can expose something that you didn't intend to expose or the other way around so",
    "start": "1554159",
    "end": "1562000"
  },
  {
    "text": "bob has to create a reference from gateway to the route and the next slide",
    "start": "1562000",
    "end": "1567200"
  },
  {
    "text": "also carol needs to allow her route to be exposed to the prod gateway now there are some sort of easy defaults",
    "start": "1567200",
    "end": "1574799"
  },
  {
    "text": "in this case carol has used the okay just allow every gateway to target my route but there may be cases where you want to",
    "start": "1574799",
    "end": "1581039"
  },
  {
    "text": "restrict who can expose your route because imagine that carol can also create gateways although it's just",
    "start": "1581039",
    "end": "1586320"
  },
  {
    "text": "for the test class but it would be bad if she could just suddenly arbitrarily expose",
    "start": "1586320",
    "end": "1591360"
  },
  {
    "text": "developers gateways you know in random namespaces next slide so here",
    "start": "1591360",
    "end": "1598080"
  },
  {
    "text": "after all this is wired up by bob um carol is able to basically deploy her application to",
    "start": "1598080",
    "end": "1604200"
  },
  {
    "text": "store.acme.io and it works next slide okay so a recap on the user stories",
    "start": "1604200",
    "end": "1610880"
  },
  {
    "text": "right so you know what are the roles of all these api objects so gateway class basically",
    "start": "1610880",
    "end": "1616000"
  },
  {
    "text": "allows you to as the iis provider or even the sre kind of support multiple classes of load",
    "start": "1616000",
    "end": "1621120"
  },
  {
    "text": "balancing multiple implementations side by side and it reflects the capabilities of the",
    "start": "1621120",
    "end": "1626159"
  },
  {
    "text": "iis or underlying deployed infrastructure in fact uh you know you can install a new",
    "start": "1626159",
    "end": "1632240"
  },
  {
    "text": "gateway well assuming you have permissions you can install new gateway classes lets you mix and match different implementations as you see fit",
    "start": "1632240",
    "end": "1638880"
  },
  {
    "text": "it also gives a layer of abstraction from the underlying platform for example if you're managing a cluster and you're kind of building a",
    "start": "1638880",
    "end": "1644799"
  },
  {
    "text": "platform for your users you can kind of hide them from the fact that oh this is going to be a specific kind of load balancing that",
    "start": "1644799",
    "end": "1652320"
  },
  {
    "text": "we're using versus just oh this will be put on the internet this one's cheap this one's internal this one's special",
    "start": "1652320",
    "end": "1658480"
  },
  {
    "text": "in some other way the next api object is gateway so this defines how your application is exposed",
    "start": "1658480",
    "end": "1665360"
  },
  {
    "text": "you know what is the virtual ip import what kind of proxy is going to be used and also this is the thing that ties it",
    "start": "1665360",
    "end": "1672000"
  },
  {
    "text": "together to kind of kick off the controller action to expose your application",
    "start": "1672000",
    "end": "1677120"
  },
  {
    "text": "finally we have route and service so route defines routing for your application for a given protocol and then services uh you know basically",
    "start": "1677120",
    "end": "1684880"
  },
  {
    "text": "i think what service does really well is define how your back-ends are grouped and this is the decomposition that we're",
    "start": "1684880",
    "end": "1690720"
  },
  {
    "text": "hoping we can move towards uh as mentioned earlier it's like how do we take these things that are just",
    "start": "1690720",
    "end": "1696240"
  },
  {
    "text": "all focused on service or all combination of service and ingress and kind of decompose them into their",
    "start": "1696240",
    "end": "1701679"
  },
  {
    "text": "different roles and then once you have decomposed them into different resources you can assign them to different roles",
    "start": "1701679",
    "end": "1707919"
  },
  {
    "text": "next slide so also um going into like what we're seeing in the",
    "start": "1707919",
    "end": "1713679"
  },
  {
    "text": "user story so we can deploy multiple classes of load balancing we can control access to different gateway",
    "start": "1713679",
    "end": "1719279"
  },
  {
    "text": "classes and we can also control access to different gateways so basically this lets you do cross namespace sharing in a safe manner",
    "start": "1719279",
    "end": "1727760"
  },
  {
    "text": "uh and it's kind of if you think about it as a access is a handshake between gateway and routes next slide",
    "start": "1727760",
    "end": "1736159"
  },
  {
    "text": "so if you are astute and thinking through you know what's happening here clearly if you have a bunch of routes",
    "start": "1736159",
    "end": "1743279"
  },
  {
    "text": "they get merged into a gateway and gateway and routes may not be",
    "start": "1743279",
    "end": "1748480"
  },
  {
    "text": "compatible so when you kind of do this sort of merging when you have split up the object across",
    "start": "1748480",
    "end": "1753520"
  },
  {
    "text": "like what used to be a single object which is ingress you kind of split into multiple objects now with gateway routes and so forth you",
    "start": "1753520",
    "end": "1760320"
  },
  {
    "text": "can result in conflicts very common one would be same host same path right so how do we",
    "start": "1760320",
    "end": "1765679"
  },
  {
    "text": "handle this in the api next slide so it turns out the details probably are",
    "start": "1765679",
    "end": "1772000"
  },
  {
    "text": "tricky and you should read the comments in the documentation but we have three main principles that we are",
    "start": "1772000",
    "end": "1777520"
  },
  {
    "text": "following in terms of how to handle conflicts so the first one is do no harm so when you have a conflict",
    "start": "1777520",
    "end": "1783679"
  },
  {
    "text": "you don't want to break things that are working for example if you have a load bouncer and the store acne store is",
    "start": "1783679",
    "end": "1789039"
  },
  {
    "text": "all wired up you want to drop as little traffic as possible if someone absolutely pushes a conflict into the system",
    "start": "1789039",
    "end": "1795440"
  },
  {
    "text": "you want to be consistent so you want to provide consistent behavior when conflicts occur so if you had a state you know object a",
    "start": "1795440",
    "end": "1803279"
  },
  {
    "text": "and then object b got created it should probably be the equivalent to having b and a because in kubernetes the notion",
    "start": "1803279",
    "end": "1809039"
  },
  {
    "text": "of time is quite loose and you can't really guarantee like i knew that a happened and that b happened",
    "start": "1809039",
    "end": "1814799"
  },
  {
    "text": "and then b and a unless it's like stably expressed somehow or recorded somehow",
    "start": "1814799",
    "end": "1820240"
  },
  {
    "text": "so prefer more specific matches less specific matches i think this is just expected behavior that many people have",
    "start": "1820240",
    "end": "1825679"
  },
  {
    "text": "intuitively and then as i said before you should decide all these conflicts using stable properties what i mean by stable",
    "start": "1825679",
    "end": "1832000"
  },
  {
    "text": "properties is basically it's written in the database so creation timestamp and then maybe some sort of canonical order such as",
    "start": "1832000",
    "end": "1837520"
  },
  {
    "text": "name space common name finally the thing that's really confusing of conflicts is that's very",
    "start": "1837520",
    "end": "1843200"
  },
  {
    "text": "hard for humans to understand so we should basically make it clear which con configuration has been chosen",
    "start": "1843200",
    "end": "1849120"
  },
  {
    "text": "and then all the conflicts will be communicated via the object status and that's something that we've been working on extensively",
    "start": "1849120",
    "end": "1854720"
  },
  {
    "text": "in terms of defining the apis to really make it clear in the status so next slide now let's talk about",
    "start": "1854720",
    "end": "1860480"
  },
  {
    "text": "extension points so right now in the alpha we have a couple of extension points",
    "start": "1860480",
    "end": "1865760"
  },
  {
    "text": "as caslin alluded to earlier they use basically this sort of polymorphic like reference",
    "start": "1865760",
    "end": "1870880"
  },
  {
    "text": "so we have a bunch of extension ref references that can reference arbitrary crds and this is",
    "start": "1870880",
    "end": "1876720"
  },
  {
    "text": "where you can plug in your own custom crds for your for example your vendor specific",
    "start": "1876720",
    "end": "1883120"
  },
  {
    "text": "uh properties as well as just allow you to sort of reuse the api without having to",
    "start": "1883120",
    "end": "1889919"
  },
  {
    "text": "kind of throw all of the different fields into one big resource there's a couple of",
    "start": "1889919",
    "end": "1896240"
  },
  {
    "text": "existing extension points that we have in the alpha gateway class has the extension point for parameters",
    "start": "1896240",
    "end": "1902240"
  },
  {
    "text": "gateway listeners each have an extension ref for customizing listener properties and then routes have this notion of",
    "start": "1902240",
    "end": "1908240"
  },
  {
    "text": "filters which allows you to have extensions in terms of how the processing works and that back ends",
    "start": "1908240",
    "end": "1914000"
  },
  {
    "text": "can be referred to more than just services ingress actually has this in the ga form is that you can point to",
    "start": "1914000",
    "end": "1919360"
  },
  {
    "text": "just more than services and the same thing gets carried over to the gateway apis this is an area where i feel like we",
    "start": "1919360",
    "end": "1924799"
  },
  {
    "text": "really need feedback to kind of understand okay are these super awkward should there be broader investment in api",
    "start": "1924799",
    "end": "1931279"
  },
  {
    "text": "machinery to make this happen smoother and what does that look like so definitely feedback is",
    "start": "1931279",
    "end": "1937039"
  },
  {
    "text": "needed next slide so one thing that we're very excited about",
    "start": "1937039",
    "end": "1942320"
  },
  {
    "text": "in the service apis and gateway uh sort of group that we're working on is that we're actually very close to the",
    "start": "1942320",
    "end": "1948320"
  },
  {
    "text": "alpha so it should be cut in a matter of weeks what's currently in the alpha we have support for basic",
    "start": "1948320",
    "end": "1954399"
  },
  {
    "text": "application data types so this gateway class gateway all the different routes listed there",
    "start": "1954399",
    "end": "1959679"
  },
  {
    "text": "support for tls and kind of defining how to deal with tls we have authors who are going to have",
    "start": "1959679",
    "end": "1966799"
  },
  {
    "text": "implementations both for in-cluster proxies so it's like a merging style where gateway's kind of",
    "start": "1966799",
    "end": "1972159"
  },
  {
    "text": "definitions get merged into a single infrastructure as well as a provisioning style is basically you create a gateway",
    "start": "1972159",
    "end": "1977760"
  },
  {
    "text": "and it kind of provisions a load bouncer for you what remains to be done of course a lot remains to be",
    "start": "1977760",
    "end": "1983679"
  },
  {
    "text": "done i think the key thing is to get feedback from users we need to define those conformance tests that we talked about before",
    "start": "1983679",
    "end": "1990080"
  },
  {
    "text": "and then one thing that we punted for now that was in previous uh conversations about gateway is how to",
    "start": "1990080",
    "end": "1995440"
  },
  {
    "text": "do delegation so not not only delegate from gateway to route but actually from route to other routes sort of can you carve",
    "start": "1995440",
    "end": "2002320"
  },
  {
    "text": "off say sections of your website and then kind of delegate it to a different team a different name space",
    "start": "2002320",
    "end": "2008159"
  },
  {
    "text": "so not only can you share a gateway cross namespace but you can also share pieces of the",
    "start": "2008159",
    "end": "2014480"
  },
  {
    "text": "routing itself across namespace and then with these things hopefully we can gain confidence",
    "start": "2014480",
    "end": "2019600"
  },
  {
    "text": "towards uh beta no next slide all right now we're ready for a demo one",
    "start": "2019600",
    "end": "2026559"
  },
  {
    "text": "thing i wanted to mention before we go into the demo that i wanted to mention at the beginning and forgot is even though boy and i are both",
    "start": "2026559",
    "end": "2033279"
  },
  {
    "text": "from google this is an open source effort with uh more than just us involved in it right do you want to",
    "start": "2033279",
    "end": "2040799"
  },
  {
    "text": "say anything there boy yeah this is a there's a landing page at",
    "start": "2040799",
    "end": "2046240"
  },
  {
    "text": "the bottom it's like a sub project of sig network and we have a lot of participation uh from many different vendors and",
    "start": "2046240",
    "end": "2053118"
  },
  {
    "text": "really we're looking at creating a portable sort of standard and a lot of the",
    "start": "2053119",
    "end": "2058560"
  },
  {
    "text": "discussion is around how to do that and that's where the difficulty is yeah so now like i mentioned i'm pretty",
    "start": "2058560",
    "end": "2067118"
  },
  {
    "text": "new to this stuff but i got to do some cool hands-on trying this out",
    "start": "2067119",
    "end": "2072158"
  },
  {
    "text": "if you're interested and want to do that as well feel free to join us at this uh bitly link or find the thing on",
    "start": "2072159",
    "end": "2078800"
  },
  {
    "text": "github when i move over to that in a minute sorry i need to like",
    "start": "2078800",
    "end": "2084638"
  },
  {
    "text": "change this surprise there was a terminal under there all along",
    "start": "2084639",
    "end": "2089839"
  },
  {
    "text": "okay so what i've got up over here is in github i've got google cloud platform",
    "start": "2090639",
    "end": "2096800"
  },
  {
    "text": "slash gke networking recipes slash gateway in here so this is a fun little",
    "start": "2096800",
    "end": "2103920"
  },
  {
    "text": "tutorial if you want to try this stuff out for yourself it's pretty easy to get started with i didn't",
    "start": "2103920",
    "end": "2109839"
  },
  {
    "text": "really have too much trouble with it so i would recommend if you want to check it out and i'm just",
    "start": "2109839",
    "end": "2115599"
  },
  {
    "text": "going to kind of run through this a little bit so if you're new to this like i am which",
    "start": "2115599",
    "end": "2120800"
  },
  {
    "text": "i assume pretty much everyone is this is a good way to get hands-on what you need is a",
    "start": "2120800",
    "end": "2126640"
  },
  {
    "text": "kubernetes cluster you'll install the api custom resource definitions uh",
    "start": "2126640",
    "end": "2133920"
  },
  {
    "text": "you'll install seo and uh you'll need to",
    "start": "2133920",
    "end": "2139359"
  },
  {
    "text": "i think i've already got this stuff here [Music] um but i'll run it again just to make",
    "start": "2139359",
    "end": "2145520"
  },
  {
    "text": "sure so i'm gonna need these um",
    "start": "2145520",
    "end": "2151040"
  },
  {
    "text": "kind of parameters set i'm gonna copy this and paste it over just to make sure that",
    "start": "2151040",
    "end": "2156160"
  },
  {
    "text": "i've got all those set up there we go cool",
    "start": "2156160",
    "end": "2162560"
  },
  {
    "text": "so then we hop into the tutorial so we talked earlier about gateways and the different styles uh",
    "start": "2162560",
    "end": "2170240"
  },
  {
    "text": "kind of that you can use gateways in like you can have a gateway that routes to a single service",
    "start": "2170240",
    "end": "2175440"
  },
  {
    "text": "uh you can have multi-service gateway you can have a gateway with multiple routes that all",
    "start": "2175440",
    "end": "2181520"
  },
  {
    "text": "connect to the same kind of load balancing gateway resource and you can do traffic splitting which",
    "start": "2181520",
    "end": "2187119"
  },
  {
    "text": "is pretty cool and this tutorial is going to cover all of those different situations and it's going to show you how to do the traffic splitting",
    "start": "2187119",
    "end": "2192640"
  },
  {
    "text": "tool which i think is pretty cool so first off i've got to apply the demo",
    "start": "2192640",
    "end": "2199599"
  },
  {
    "text": "app i think i already have that running cube ctl get i got okay",
    "start": "2199599",
    "end": "2207760"
  },
  {
    "text": "i think that is the demo app i guess i should do like",
    "start": "2207760",
    "end": "2215838"
  },
  {
    "text": "foo and bar is that what it creates namespace deployment yep we can see it creates the deployment foo",
    "start": "2216640",
    "end": "2223680"
  },
  {
    "text": "and it creates the deployment bar so i already ran this command but if you're following along at home watching the recording or something",
    "start": "2223680",
    "end": "2229280"
  },
  {
    "text": "run cube ctl apply a demo and you'll want to be in uh basically this repo that we're in",
    "start": "2229280",
    "end": "2236640"
  },
  {
    "text": "right now so you'd have to get this from github and do that so let's do something actually cool with",
    "start": "2236640",
    "end": "2245280"
  },
  {
    "text": "it so you can see here i could open it up over here too but i'll just point over here this is what a",
    "start": "2245280",
    "end": "2251680"
  },
  {
    "text": "definition of a gateway class looks like we talked earlier about how a gateway class is basically defining kind of a",
    "start": "2251680",
    "end": "2256800"
  },
  {
    "text": "template for gateway resources that you'll be able to create later since i have istio installed",
    "start": "2256800",
    "end": "2262400"
  },
  {
    "text": "just it's an easy way to try this out this is going to be istio style gateways and i can apply that i wonder",
    "start": "2262400",
    "end": "2270960"
  },
  {
    "text": "if i already have one let's see cube cpl",
    "start": "2270960",
    "end": "2275200"
  },
  {
    "text": "right class i don't know",
    "start": "2280640",
    "end": "2285760"
  },
  {
    "text": "yeah so i already did this i've got my gateway class up and running [Music]",
    "start": "2285760",
    "end": "2291920"
  },
  {
    "text": "but how you would do it is just to run the thing from this repo so i've got my getaway class next",
    "start": "2291920",
    "end": "2297440"
  },
  {
    "text": "thing is to create some gateways and this is what a gateway definition looks like",
    "start": "2297440",
    "end": "2302720"
  },
  {
    "text": "you can see we've got our gateway important thing here to know about is the listeners for your gateway what traffic is going",
    "start": "2302720",
    "end": "2309760"
  },
  {
    "text": "to be coming into this gateway that it's going to have to manage so we're listening on port 80 we're listening for",
    "start": "2309760",
    "end": "2315119"
  },
  {
    "text": "http protocol traffic um and it's going to connect to http routes",
    "start": "2315119",
    "end": "2321760"
  },
  {
    "text": "we talked about our gateway routes earlier so this is going to be able to connect to routes of the http kind of type",
    "start": "2321760",
    "end": "2330880"
  },
  {
    "text": "and you can see a cool diagram of how all that works here and so here's what the http route",
    "start": "2330880",
    "end": "2339040"
  },
  {
    "text": "definition looks like if you want to check that out it's going to define kind of where",
    "start": "2339040",
    "end": "2346800"
  },
  {
    "text": "stuff goes the name of the service that your incoming traffic is going to go to and",
    "start": "2346800",
    "end": "2352800"
  },
  {
    "text": "this one is a single service style i think so uh we're going to apply that",
    "start": "2352800",
    "end": "2360130"
  },
  {
    "text": "[Music] so what i'm doing here is creating the http route",
    "start": "2360130",
    "end": "2365839"
  },
  {
    "text": "i already had my gateway like i showed earlier and wait",
    "start": "2365839",
    "end": "2372160"
  },
  {
    "text": "so this is the well i had the gateway class i just created the gateway and now i'm",
    "start": "2372160",
    "end": "2377680"
  },
  {
    "text": "going to create the route let's just copy paste that in here",
    "start": "2377680",
    "end": "2385680"
  },
  {
    "text": "cool and so now i should have a gateway setup and a route set up yay",
    "start": "2385680",
    "end": "2391040"
  },
  {
    "text": "how do i know that that does anything so we're just going to run a curl command",
    "start": "2391040",
    "end": "2396320"
  },
  {
    "text": "um with those parameters that i set up earlier",
    "start": "2396320",
    "end": "2402160"
  },
  {
    "text": "so you can see here that it's returning some information i really like the pod name emoji that's",
    "start": "2402160",
    "end": "2409119"
  },
  {
    "text": "a lot of fun so you can see that we sent some traffic",
    "start": "2409119",
    "end": "2414800"
  },
  {
    "text": "to our gateway uh to the porch that our gateway was",
    "start": "2414800",
    "end": "2420960"
  },
  {
    "text": "listening on and then had that routed to metadata foo is telling us that we're",
    "start": "2420960",
    "end": "2426079"
  },
  {
    "text": "hitting the correct pod on the back end [Music] cool so let's try doing it with",
    "start": "2426079",
    "end": "2433200"
  },
  {
    "text": "multiple services on the back end so let's first delete",
    "start": "2433200",
    "end": "2440079"
  },
  {
    "text": "what we just made release the route anyway and then",
    "start": "2440079",
    "end": "2446960"
  },
  {
    "text": "what we're going to create is a new http route",
    "start": "2449200",
    "end": "2457520"
  },
  {
    "text": "and this one yeah is what's defined right here so",
    "start": "2458880",
    "end": "2464880"
  },
  {
    "text": "you've got foo and bar both of those services defined in this http route so we're",
    "start": "2464880",
    "end": "2470240"
  },
  {
    "text": "routing all of our traffic to multiple services so if we send in some traffic",
    "start": "2470240",
    "end": "2478400"
  },
  {
    "text": "that is intended to be destined for the foo service back-end we can do this curl",
    "start": "2478400",
    "end": "2485040"
  },
  {
    "text": "command we're specifying hostfu.com and so you can see in the metadata that",
    "start": "2485040",
    "end": "2491920"
  },
  {
    "text": "that spits out that it's hitting the fu backend service and we can do the",
    "start": "2491920",
    "end": "2497119"
  },
  {
    "text": "same thing with bar so that we know that both of our back ends are available and we can hit them both depending on what we put in",
    "start": "2497119",
    "end": "2503599"
  },
  {
    "text": "and so that's hitting the bar service on the back end so cool we did multi-service this",
    "start": "2503599",
    "end": "2510000"
  },
  {
    "text": "multi-route one gets pretty cool i think so we've already got our multi uh",
    "start": "2510000",
    "end": "2515920"
  },
  {
    "text": "service http route defined now we're gonna define a new one to yet another service first i've got to",
    "start": "2515920",
    "end": "2523599"
  },
  {
    "text": "deploy that app which i think i actually already have running",
    "start": "2523599",
    "end": "2529200"
  },
  {
    "text": "um get deploy i don't so i will run this to run",
    "start": "2530720",
    "end": "2538720"
  },
  {
    "text": "the new backend service that we're gonna route some traffic to [Music]",
    "start": "2538720",
    "end": "2545750"
  },
  {
    "text": "i mean it said it deployed it so i don't really need to check but there you go there it is and then we're going to create another",
    "start": "2545760",
    "end": "2551839"
  },
  {
    "text": "new http route that's going to route some of our traffic to uh baz.com",
    "start": "2551839",
    "end": "2558319"
  },
  {
    "text": "well to our baz service on the back end from baz.com hostings so",
    "start": "2558319",
    "end": "2565680"
  },
  {
    "text": "let's apply that http route",
    "start": "2565680",
    "end": "2570000"
  },
  {
    "text": "and then let's send some traffic to it",
    "start": "2572079",
    "end": "2579119"
  },
  {
    "text": "so now we've got a multi-service route and we also have multiple routes",
    "start": "2579119",
    "end": "2586800"
  },
  {
    "text": "that can route all of your traffic to different back-ends so that's pretty cool and then traffic",
    "start": "2586800",
    "end": "2593200"
  },
  {
    "text": "splitting i mentioned earlier that it's pretty cool that the gateway api also includes traffic",
    "start": "2593200",
    "end": "2598240"
  },
  {
    "text": "splitting capabilities in it so we're going to create another http",
    "start": "2598240",
    "end": "2603520"
  },
  {
    "text": "route to our foo back end and well created another back end so we're",
    "start": "2603520",
    "end": "2610560"
  },
  {
    "text": "going to have 20 of our traffic going to one back end and 80 going to another",
    "start": "2610560",
    "end": "2616240"
  },
  {
    "text": "so let's create a new fu store",
    "start": "2618839",
    "end": "2624000"
  },
  {
    "text": "back end for this and",
    "start": "2624000",
    "end": "2630160"
  },
  {
    "text": "we're going to apply our new traffic splitting http route which is this definition that we were talking about earlier with the weighted",
    "start": "2631359",
    "end": "2639119"
  },
  {
    "text": "traffic splitting [Music]",
    "start": "2639119",
    "end": "2645040"
  },
  {
    "text": "i just copy paste that and i do that and then if you want to learn more about what's",
    "start": "2645040",
    "end": "2650800"
  },
  {
    "text": "going on you can run this cubesatl describe command which will show you more",
    "start": "2650800",
    "end": "2655839"
  },
  {
    "text": "about what it's doing the total weight is it's fully weighted to v1 of our food",
    "start": "2655839",
    "end": "2663119"
  },
  {
    "text": "store application right now so now i'm gonna create",
    "start": "2663119",
    "end": "2671440"
  },
  {
    "text": "another tab here and i'm gonna have to run back up to the top of this and grab our export",
    "start": "2672000",
    "end": "2681280"
  },
  {
    "text": "or export our um parameter names again for this new tab",
    "start": "2681280",
    "end": "2687119"
  },
  {
    "text": "otherwise this wouldn't work because that would be silly uh not that i did that the first time",
    "start": "2687119",
    "end": "2692560"
  },
  {
    "text": "because i definitely did and then i'm gonna set up a continuous",
    "start": "2692560",
    "end": "2698160"
  },
  {
    "text": "curl command so that you can see as we flip over so all of our traffic is going to our v1",
    "start": "2698160",
    "end": "2705280"
  },
  {
    "text": "of our back end right now and now we want to apply the new traffic splitting route where it actually splits",
    "start": "2705280",
    "end": "2711760"
  },
  {
    "text": "it this was a hundred and zero so this new one is going to do 2080. uh so 20 of the traffic is going",
    "start": "2711760",
    "end": "2718240"
  },
  {
    "text": "to start going to v2 so you'll start seeing v2 pop up here every now and then but mostly it's going to be v1",
    "start": "2718240",
    "end": "2726240"
  },
  {
    "text": "and then we can switch our traffic completely over to our v2",
    "start": "2726240",
    "end": "2734318"
  },
  {
    "text": "so once i do that you should start seeing see these are just all v2 now whereas before it was only sometimes v2",
    "start": "2734960",
    "end": "2742400"
  },
  {
    "text": "and that's pretty much it so what you saw here was",
    "start": "2742400",
    "end": "2747599"
  },
  {
    "text": "uh a single service gateway uh kind of using the gateway resource to",
    "start": "2747599",
    "end": "2753440"
  },
  {
    "text": "load balance traffic to a single service on the back end and then",
    "start": "2753440",
    "end": "2758880"
  },
  {
    "text": "creating a gateway with a route that routes traffic to multiple",
    "start": "2758880",
    "end": "2764960"
  },
  {
    "text": "services and then creating a gateway uh with multiple different routes",
    "start": "2764960",
    "end": "2770160"
  },
  {
    "text": "so you can use one load balancer to kind of route your traffic in in multiple different directions so",
    "start": "2770160",
    "end": "2776560"
  },
  {
    "text": "pretty cool stuff and then we did traffic splitting too so if you want to try this stuff out for yourself all you",
    "start": "2776560",
    "end": "2782640"
  },
  {
    "text": "need is a kubernetes cluster um i use gke for this because i work at",
    "start": "2782640",
    "end": "2789200"
  },
  {
    "text": "google so that's what i have but if you wanted to run it on like a mini cube or something like that there's",
    "start": "2789200",
    "end": "2795200"
  },
  {
    "text": "also the export for node port if you need to use a node port type service uh so yeah",
    "start": "2795200",
    "end": "2803680"
  },
  {
    "text": "check this stuff out and that's kind of what i've got for you",
    "start": "2803680",
    "end": "2809359"
  },
  {
    "text": "yeah thanks guys that's really cool uh it's always good to have bleeding edge software not completely blow up um it didn't blow up",
    "start": "2810400",
    "end": "2820160"
  },
  {
    "text": "so yeah so you know we're a sig network uh subproject we're basically trying very hard to get",
    "start": "2820160",
    "end": "2826720"
  },
  {
    "text": "the alpha out right now and then we're you know it's it's going to be part of the stream the project homepage is there uh",
    "start": "2826720",
    "end": "2834480"
  },
  {
    "text": "all these will be available on in the slides if you want to contribute that's a community page we",
    "start": "2834480",
    "end": "2839520"
  },
  {
    "text": "have meetings basically weekly which is kind of intense uh two days a week actually for the try to",
    "start": "2839520",
    "end": "2846480"
  },
  {
    "text": "get this alpha out and it's going to be alternating am time",
    "start": "2846480",
    "end": "2851520"
  },
  {
    "text": "specific because we want to be inclusive of both the apac and the euro time zones and uh there's a",
    "start": "2851520",
    "end": "2858800"
  },
  {
    "text": "meeting code so please check out the website check out the calendar the demo",
    "start": "2858800",
    "end": "2864319"
  },
  {
    "text": "is link is also available uh in the slides and that's freely available to you can",
    "start": "2864319",
    "end": "2869680"
  },
  {
    "text": "just do whatever you want with it um yeah so thanks for coming i think we can",
    "start": "2869680",
    "end": "2874880"
  },
  {
    "text": "move to questions okay well thank you both for a wonderful presentation",
    "start": "2874880",
    "end": "2880640"
  },
  {
    "text": "um we have about a little less than 10 minutes left for questions so please feel free to drop",
    "start": "2880640",
    "end": "2886160"
  },
  {
    "text": "them into the q a box looks like we have a couple here lucas wants to know what sort of",
    "start": "2886160",
    "end": "2891680"
  },
  {
    "text": "implementation do you anticipate for on-prem clusters that can't rely on a public cloud controller",
    "start": "2891680",
    "end": "2897520"
  },
  {
    "text": "like the one on alice.io is there going to eventually be an enginx gateway",
    "start": "2897520",
    "end": "2903280"
  },
  {
    "text": "controller and a treeflight gateway controller yeah that's what we're uh we're",
    "start": "2903280",
    "end": "2910800"
  },
  {
    "text": "basically for the alphas along with is a bake off of different implementations so clearly there'll be some cloud",
    "start": "2910800",
    "end": "2917760"
  },
  {
    "text": "represented like i'm going to represent google cloud and we'll have an implementation there",
    "start": "2917760",
    "end": "2922800"
  },
  {
    "text": "but also some of the other participants are you know for example contour support",
    "start": "2922800",
    "end": "2929920"
  },
  {
    "text": "uh implementers there's going to be um other sort of and then you saw one",
    "start": "2929920",
    "end": "2936880"
  },
  {
    "text": "the demo actually uses sort of istio as the basis so this is uh there's we expect actually",
    "start": "2936880",
    "end": "2945359"
  },
  {
    "text": "many different implementations and then it also it supports both the cloud-based and the",
    "start": "2945359",
    "end": "2950400"
  },
  {
    "text": "in-cluster proxies so in terms of flexibility you should you should be able to",
    "start": "2950400",
    "end": "2955599"
  },
  {
    "text": "use many different uh sort of ways to get at the api implement the api the the whole goal is",
    "start": "2955599",
    "end": "2962400"
  },
  {
    "text": "to make it so that this experience is portable across all of these different um",
    "start": "2962400",
    "end": "2968559"
  },
  {
    "text": "sort of ways of doing it uh which is kind of down in that very first slide in terms of the trends is that",
    "start": "2968559",
    "end": "2974720"
  },
  {
    "text": "you know not just in cluster proxy but service mesh and cloud are all kind of",
    "start": "2974720",
    "end": "2980559"
  },
  {
    "text": "merging together and we find that to be more and more the case uh going forward",
    "start": "2980559",
    "end": "2987760"
  },
  {
    "text": "any thoughts on adding off n or author z for services yeah that's a",
    "start": "2988400",
    "end": "2995040"
  },
  {
    "text": "good question one of the it's actually an issue on the um rio so there's plenty of discussion",
    "start": "2995040",
    "end": "3001200"
  },
  {
    "text": "there there's a couple of things one of them is we did spec out what it means to add",
    "start": "3001200",
    "end": "3008079"
  },
  {
    "text": "just configuration knobs for mtls so that's one way to do authentication the other one is that",
    "start": "3008079",
    "end": "3015520"
  },
  {
    "text": "if you have a very specific sort of requirement there's two extension points that can be used one of",
    "start": "3015520",
    "end": "3021839"
  },
  {
    "text": "them is in the listener so you can say okay i'm listening to http and you know i want to apply this",
    "start": "3021839",
    "end": "3027760"
  },
  {
    "text": "special thing that's inserted there there's another one on the filter of the route itself so you could say",
    "start": "3027760",
    "end": "3034000"
  },
  {
    "text": "while you're sort of matching requests for this particular service you can add your",
    "start": "3034000",
    "end": "3040880"
  },
  {
    "text": "authentic uh sort of configuration there really um we would",
    "start": "3040880",
    "end": "3047920"
  },
  {
    "text": "like feedback in terms of like how to make that generic because i think a lot of the focus will be like okay",
    "start": "3047920",
    "end": "3054240"
  },
  {
    "text": "how do we make this work for an nginx implementation an envoy implementation a contour implementation a cloud",
    "start": "3054240",
    "end": "3060000"
  },
  {
    "text": "implementation and that's where all the conformance and the extended versus the core comes in if there's a",
    "start": "3060000",
    "end": "3067599"
  },
  {
    "text": "extended portable way to do authentic definitely we are super interested and there's a",
    "start": "3067599",
    "end": "3072800"
  },
  {
    "text": "conversation i can forward the issue uh if you ping me on slack",
    "start": "3072800",
    "end": "3079279"
  },
  {
    "text": "we have any other questions at this time but there's someone that said does this",
    "start": "3080800",
    "end": "3088720"
  },
  {
    "text": "depend on service mesh yeah that was the question no no it",
    "start": "3088720",
    "end": "3094480"
  },
  {
    "text": "doesn't there's no service mesh requirement right there's no like",
    "start": "3094480",
    "end": "3100800"
  },
  {
    "text": "required there's no service mesh requirement yeah in fact the demo is quite self-contained",
    "start": "3100800",
    "end": "3106640"
  },
  {
    "text": "if you look at the demo you should just run it it's just you know like installing and i think you",
    "start": "3106640",
    "end": "3112480"
  },
  {
    "text": "just install it get rid of it",
    "start": "3112480",
    "end": "3116000"
  },
  {
    "text": "cool i think that's the last question we had for now anyone else they would like to chime in",
    "start": "3120480",
    "end": "3127520"
  },
  {
    "text": "with questions we have a few minutes left so if you have any thing you'd like",
    "start": "3127520",
    "end": "3132880"
  },
  {
    "text": "answered now's the time",
    "start": "3132880",
    "end": "3139838"
  },
  {
    "text": "seems like we're good to go all right then well and we will wrap",
    "start": "3156720",
    "end": "3164559"
  },
  {
    "text": "this up thank you everyone for joining us today and thank you to our presenters for a wonderful",
    "start": "3164559",
    "end": "3170000"
  },
  {
    "text": "presentation as i said before today's webinar will be posted later today to the cncf webinar",
    "start": "3170000",
    "end": "3177040"
  },
  {
    "text": "page along with today's slides thank you both again for a wonderful presentation and",
    "start": "3177040",
    "end": "3182160"
  },
  {
    "text": "thank you everyone for joining us stay safe take care and have a wonderful weekend thank you",
    "start": "3182160",
    "end": "3193920"
  }
]