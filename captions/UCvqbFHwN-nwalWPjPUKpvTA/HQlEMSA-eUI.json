[
  {
    "text": "uh and today we're going to be talking",
    "start": "120",
    "end": "1240"
  },
  {
    "text": "about extending Argo CD with health",
    "start": "1240",
    "end": "3600"
  },
  {
    "text": "checks and resource actions these fall",
    "start": "3600",
    "end": "5319"
  },
  {
    "text": "under the umbrella of resource",
    "start": "5319",
    "end": "7080"
  },
  {
    "text": "customizations Christian during the",
    "start": "7080",
    "end": "8760"
  },
  {
    "text": "cargo talk if you for that said his talk",
    "start": "8760",
    "end": "10599"
  },
  {
    "text": "was an advanced one this one is not an",
    "start": "10599",
    "end": "12160"
  },
  {
    "text": "advanced one it's a relatively",
    "start": "12160",
    "end": "14000"
  },
  {
    "text": "straightforward and basic one originally",
    "start": "14000",
    "end": "16358"
  },
  {
    "text": "this was a lightning talk 10 minutes but",
    "start": "16359",
    "end": "18480"
  },
  {
    "text": "I got asked to kind of blow it out to 25",
    "start": "18480",
    "end": "20640"
  },
  {
    "text": "because one of the presenters had some",
    "start": "20640",
    "end": "22160"
  },
  {
    "text": "Visa issues and I was like okay no",
    "start": "22160",
    "end": "23720"
  },
  {
    "text": "problem I can fill some time so in terms",
    "start": "23720",
    "end": "26439"
  },
  {
    "text": "of the structure of this talk I'm really",
    "start": "26439",
    "end": "28119"
  },
  {
    "text": "kind of following the four and an what",
    "start": "28119",
    "end": "31960"
  },
  {
    "text": "are these things why do you want to do",
    "start": "31960",
    "end": "33719"
  },
  {
    "text": "these things how do you do these things",
    "start": "33719",
    "end": "36040"
  },
  {
    "text": "who should care about this stuff and",
    "start": "36040",
    "end": "37960"
  },
  {
    "text": "where can you do it uh Upstream now some",
    "start": "37960",
    "end": "40960"
  },
  {
    "text": "background as I mentioned I'm with red",
    "start": "40960",
    "end": "42840"
  },
  {
    "text": "hat we have a kubernetes distribution",
    "start": "42840",
    "end": "45360"
  },
  {
    "text": "called open shift if you're not familiar",
    "start": "45360",
    "end": "47079"
  },
  {
    "text": "with it it is extremely operator heavy",
    "start": "47079",
    "end": "49520"
  },
  {
    "text": "right like we have operators up the iny",
    "start": "49520",
    "end": "51120"
  },
  {
    "text": "Yang you want to manage nodes and open",
    "start": "51120",
    "end": "53719"
  },
  {
    "text": "shift an operator does that for you you",
    "start": "53719",
    "end": "55320"
  },
  {
    "text": "want to manage authentication open shift",
    "start": "55320",
    "end": "56879"
  },
  {
    "text": "an operator does that for you which",
    "start": "56879",
    "end": "58559"
  },
  {
    "text": "means that this talk is is really",
    "start": "58559",
    "end": "60920"
  },
  {
    "text": "important for that and is why I'm",
    "start": "60920",
    "end": "62280"
  },
  {
    "text": "passionate about it because you really",
    "start": "62280",
    "end": "64320"
  },
  {
    "text": "need to have these health checks and",
    "start": "64320",
    "end": "65960"
  },
  {
    "text": "resource actions to allow your users to",
    "start": "65960",
    "end": "68320"
  },
  {
    "text": "manage those operators effectively so if",
    "start": "68320",
    "end": "70560"
  },
  {
    "text": "you're not familiar with health checks",
    "start": "70560",
    "end": "71840"
  },
  {
    "text": "in argocd what that does is essentially",
    "start": "71840",
    "end": "74040"
  },
  {
    "text": "validates the health of your resource is",
    "start": "74040",
    "end": "76119"
  },
  {
    "text": "your resource healthy is it suspended is",
    "start": "76119",
    "end": "78880"
  },
  {
    "text": "it degraded is it a bunch of other",
    "start": "78880",
    "end": "81520"
  },
  {
    "text": "statuses uh the resource action what it",
    "start": "81520",
    "end": "84280"
  },
  {
    "text": "does is it allows the user to interact",
    "start": "84280",
    "end": "86600"
  },
  {
    "text": "with the resource in an easy way right",
    "start": "86600",
    "end": "89240"
  },
  {
    "text": "and there's a RI reason why you want to",
    "start": "89240",
    "end": "90759"
  },
  {
    "text": "do that we'll get on that in a second",
    "start": "90759",
    "end": "92680"
  },
  {
    "text": "but in terms of the what one thing I",
    "start": "92680",
    "end": "94560"
  },
  {
    "text": "kind of added to this presentation when",
    "start": "94560",
    "end": "96399"
  },
  {
    "text": "it kind of expanded",
    "start": "96399",
    "end": "98280"
  },
  {
    "text": "is one of the things that Argo does is",
    "start": "98280",
    "end": "100680"
  },
  {
    "text": "it will take the health check from a",
    "start": "100680",
    "end": "102000"
  },
  {
    "text": "resource and then it Aggregates all of",
    "start": "102000",
    "end": "104000"
  },
  {
    "text": "that upwards into the application and it",
    "start": "104000",
    "end": "106520"
  },
  {
    "text": "does that by looking at essentially an",
    "start": "106520",
    "end": "107920"
  },
  {
    "text": "order of Precedence or priority of the",
    "start": "107920",
    "end": "109799"
  },
  {
    "text": "resource health checks and going to the",
    "start": "109799",
    "end": "111799"
  },
  {
    "text": "one that's worse and I always kind of",
    "start": "111799",
    "end": "114240"
  },
  {
    "text": "thought well I know degraded is probably",
    "start": "114240",
    "end": "116079"
  },
  {
    "text": "the worst but I never really understood",
    "start": "116079",
    "end": "117479"
  },
  {
    "text": "what the order actually was and I go",
    "start": "117479",
    "end": "119159"
  },
  {
    "text": "look at the Argo docs and there's no",
    "start": "119159",
    "end": "121399"
  },
  {
    "text": "documentation what that order actually",
    "start": "121399",
    "end": "122719"
  },
  {
    "text": "is you got to go dig into the source",
    "start": "122719",
    "end": "123960"
  },
  {
    "text": "code to find it so here's what the order",
    "start": "123960",
    "end": "126240"
  },
  {
    "text": "is so you know unknown is actually",
    "start": "126240",
    "end": "128119"
  },
  {
    "text": "surprisingly the worst health status and",
    "start": "128119",
    "end": "130280"
  },
  {
    "text": "with the one always be picked of any",
    "start": "130280",
    "end": "131920"
  },
  {
    "text": "resources in that then degraded then",
    "start": "131920",
    "end": "133640"
  },
  {
    "text": "missing then progressing then suspended",
    "start": "133640",
    "end": "135519"
  },
  {
    "text": "then healthy as the the last resource if",
    "start": "135519",
    "end": "138480"
  },
  {
    "text": "you look here on the right you can see",
    "start": "138480",
    "end": "140360"
  },
  {
    "text": "the canary one whoops sorry go back you",
    "start": "140360",
    "end": "142840"
  },
  {
    "text": "can see the canary one as a heart which",
    "start": "142840",
    "end": "144400"
  },
  {
    "text": "indicates that it's healthy the blue",
    "start": "144400",
    "end": "146280"
  },
  {
    "text": "green has a little pause symbol in it",
    "start": "146280",
    "end": "148120"
  },
  {
    "text": "which you really squint you can see it",
    "start": "148120",
    "end": "150000"
  },
  {
    "text": "which indicates is suspended and then",
    "start": "150000",
    "end": "151959"
  },
  {
    "text": "the last one the network policy there's",
    "start": "151959",
    "end": "153440"
  },
  {
    "text": "no health check at all right because",
    "start": "153440",
    "end": "154680"
  },
  {
    "text": "there's no",
    "start": "154680",
    "end": "156959"
  },
  {
    "text": "symbol so why do you want to do health",
    "start": "156959",
    "end": "159159"
  },
  {
    "text": "checks are all my applications and",
    "start": "159159",
    "end": "161920"
  },
  {
    "text": "resources healthy you can ask the magic",
    "start": "161920",
    "end": "163800"
  },
  {
    "text": "gball but it probably won't give you a",
    "start": "163800",
    "end": "165599"
  },
  {
    "text": "good answer right really what you want",
    "start": "165599",
    "end": "167800"
  },
  {
    "text": "to do is you want to observe the",
    "start": "167800",
    "end": "169040"
  },
  {
    "text": "application in order to understand",
    "start": "169040",
    "end": "170640"
  },
  {
    "text": "whether it's healthy or not and that's",
    "start": "170640",
    "end": "172000"
  },
  {
    "text": "really where this health checks come",
    "start": "172000",
    "end": "173120"
  },
  {
    "text": "into play another metaphor for this that",
    "start": "173120",
    "end": "175080"
  },
  {
    "text": "I kind of like is if people are familiar",
    "start": "175080",
    "end": "176519"
  },
  {
    "text": "with shinger cat everybody's kind of",
    "start": "176519",
    "end": "178519"
  },
  {
    "text": "knows that the cat is at a lie or is it",
    "start": "178519",
    "end": "180400"
  },
  {
    "text": "dead you don't really know until you",
    "start": "180400",
    "end": "182080"
  },
  {
    "text": "look at it right and it's the same thing",
    "start": "182080",
    "end": "183879"
  },
  {
    "text": "with your application is it alive or",
    "start": "183879",
    "end": "185879"
  },
  {
    "text": "it's dead you don't know until something",
    "start": "185879",
    "end": "187799"
  },
  {
    "text": "deserves it and unlike the cat though",
    "start": "187799",
    "end": "189879"
  },
  {
    "text": "your application can come back to life",
    "start": "189879",
    "end": "192280"
  },
  {
    "text": "right so you need to monitor that",
    "start": "192280",
    "end": "195200"
  },
  {
    "text": "status so again for the why it allows",
    "start": "195200",
    "end": "198280"
  },
  {
    "text": "Argo to understand the health of a",
    "start": "198280",
    "end": "200040"
  },
  {
    "text": "resource and this is really critical",
    "start": "200040",
    "end": "201560"
  },
  {
    "text": "when you're deploying custom resource",
    "start": "201560",
    "end": "202959"
  },
  {
    "text": "definitions operators things like that",
    "start": "202959",
    "end": "205200"
  },
  {
    "text": "that kubernetes has no understanding",
    "start": "205200",
    "end": "207239"
  },
  {
    "text": "about in terms of what this thing is and",
    "start": "207239",
    "end": "209439"
  },
  {
    "text": "what it does the other one that you'll",
    "start": "209439",
    "end": "211680"
  },
  {
    "text": "often see people ask questions about on",
    "start": "211680",
    "end": "213519"
  },
  {
    "text": "the cncf Aro CD slack forums is I'm",
    "start": "213519",
    "end": "216400"
  },
  {
    "text": "doing a sync wave and it's not working",
    "start": "216400",
    "end": "218239"
  },
  {
    "text": "it's just skipping the resource and",
    "start": "218239",
    "end": "219519"
  },
  {
    "text": "going to the next one nine times out of",
    "start": "219519",
    "end": "221519"
  },
  {
    "text": "10 is because that is a custom resource",
    "start": "221519",
    "end": "223439"
  },
  {
    "text": "or something that doesn't have a health",
    "start": "223439",
    "end": "224680"
  },
  {
    "text": "check Argo knows nothing about it so it",
    "start": "224680",
    "end": "226840"
  },
  {
    "text": "just deploys it and from that point",
    "start": "226840",
    "end": "228000"
  },
  {
    "text": "forward Aro considers it to be healthy",
    "start": "228000",
    "end": "230000"
  },
  {
    "text": "right you need to write a health check",
    "start": "230000",
    "end": "231280"
  },
  {
    "text": "for it in order for that sync wave to",
    "start": "231280",
    "end": "233120"
  },
  {
    "text": "actually work and the um other one as I",
    "start": "233120",
    "end": "236879"
  },
  {
    "text": "mentioned is it's aggregated now I'm",
    "start": "236879",
    "end": "239439"
  },
  {
    "text": "here to trying to sell you on health",
    "start": "239439",
    "end": "240840"
  },
  {
    "text": "checks and the importance of creating",
    "start": "240840",
    "end": "242280"
  },
  {
    "text": "custom health checks and Billy Mays if",
    "start": "242280",
    "end": "244280"
  },
  {
    "text": "folks are familiar with him from the",
    "start": "244280",
    "end": "245560"
  },
  {
    "text": "early 2000s was very familiar for",
    "start": "245560",
    "end": "248120"
  },
  {
    "text": "selling infomercial products on TV and",
    "start": "248120",
    "end": "250439"
  },
  {
    "text": "he always goes you know buy this product",
    "start": "250439",
    "end": "252000"
  },
  {
    "text": "it's $9.99 but wait there's more and",
    "start": "252000",
    "end": "254680"
  },
  {
    "text": "then he would try to sell you something",
    "start": "254680",
    "end": "255799"
  },
  {
    "text": "else as part of the package right so for",
    "start": "255799",
    "end": "258239"
  },
  {
    "text": "me one of the big reasons why you want",
    "start": "258239",
    "end": "259880"
  },
  {
    "text": "to do health checks is if you're already",
    "start": "259880",
    "end": "261519"
  },
  {
    "text": "monitoring Argo CD in terms of the",
    "start": "261519",
    "end": "263240"
  },
  {
    "text": "application status is it degraded is it",
    "start": "263240",
    "end": "265800"
  },
  {
    "text": "spending adding health checks to your",
    "start": "265800",
    "end": "267840"
  },
  {
    "text": "resources gets you monitoring for for",
    "start": "267840",
    "end": "269840"
  },
  {
    "text": "those resources for free right so I got",
    "start": "269840",
    "end": "272400"
  },
  {
    "text": "a custom resource that normally",
    "start": "272400",
    "end": "273720"
  },
  {
    "text": "kubernetes knows nothing about there's",
    "start": "273720",
    "end": "275160"
  },
  {
    "text": "no service monitor nobody knows what the",
    "start": "275160",
    "end": "276960"
  },
  {
    "text": "status is but I add a custom health",
    "start": "276960",
    "end": "278800"
  },
  {
    "text": "check for it in Argo and in Argo if it",
    "start": "278800",
    "end": "281039"
  },
  {
    "text": "gets reported as degraded that will",
    "start": "281039",
    "end": "282720"
  },
  {
    "text": "filter up to the application and I will",
    "start": "282720",
    "end": "284400"
  },
  {
    "text": "see that in my monitoring right so I",
    "start": "284400",
    "end": "286000"
  },
  {
    "text": "essentially get free monitoring for",
    "start": "286000",
    "end": "287800"
  },
  {
    "text": "those resources simply by building this",
    "start": "287800",
    "end": "289720"
  },
  {
    "text": "custom resource",
    "start": "289720",
    "end": "291680"
  },
  {
    "text": "check so I wrote two common use cases",
    "start": "291680",
    "end": "294440"
  },
  {
    "text": "here for custom health checks that I",
    "start": "294440",
    "end": "295840"
  },
  {
    "text": "could think of the default health check",
    "start": "295840",
    "end": "298400"
  },
  {
    "text": "doesn't do what I want so there's",
    "start": "298400",
    "end": "300039"
  },
  {
    "text": "various scenarios for that the classic",
    "start": "300039",
    "end": "301400"
  },
  {
    "text": "example and I got a bit of a demo for it",
    "start": "301400",
    "end": "303639"
  },
  {
    "text": "is you have persistent volume claims",
    "start": "303639",
    "end": "305199"
  },
  {
    "text": "that support late binding and they'll be",
    "start": "305199",
    "end": "307080"
  },
  {
    "text": "stuck in progressing until something",
    "start": "307080",
    "end": "308720"
  },
  {
    "text": "binds to it but if you do things like",
    "start": "308720",
    "end": "310720"
  },
  {
    "text": "Argo workflows or tecton nothing binds",
    "start": "310720",
    "end": "313520"
  },
  {
    "text": "to it until you actually run a pipeline",
    "start": "313520",
    "end": "315080"
  },
  {
    "text": "right and that essentially hangs up your",
    "start": "315080",
    "end": "316360"
  },
  {
    "text": "whole",
    "start": "316360",
    "end": "317360"
  },
  {
    "text": "application um new versions or bugs",
    "start": "317360",
    "end": "319960"
  },
  {
    "text": "cause the outof the-box health checks to",
    "start": "319960",
    "end": "321639"
  },
  {
    "text": "behave differently so I've got this",
    "start": "321639",
    "end": "323479"
  },
  {
    "text": "problem and I got a demo for it as well",
    "start": "323479",
    "end": "324919"
  },
  {
    "text": "in open shift where they've done a",
    "start": "324919",
    "end": "326240"
  },
  {
    "text": "change to something there's a bug in it",
    "start": "326240",
    "end": "328199"
  },
  {
    "text": "and now all of my operators reporting",
    "start": "328199",
    "end": "330039"
  },
  {
    "text": "degraded because of that bug and I had",
    "start": "330039",
    "end": "331600"
  },
  {
    "text": "to create a overwritten health check to",
    "start": "331600",
    "end": "333639"
  },
  {
    "text": "fix that and the one I like to rant a",
    "start": "333639",
    "end": "335680"
  },
  {
    "text": "little bit about is that the health",
    "start": "335680",
    "end": "337440"
  },
  {
    "text": "check was out of the box but for some",
    "start": "337440",
    "end": "339360"
  },
  {
    "text": "reason somebody Upstream decided to",
    "start": "339360",
    "end": "340880"
  },
  {
    "text": "remove it and I'm looking at you",
    "start": "340880",
    "end": "342360"
  },
  {
    "text": "application object so anybody who's done",
    "start": "342360",
    "end": "344080"
  },
  {
    "text": "app of app in 1.8 they removed the",
    "start": "344080",
    "end": "346759"
  },
  {
    "text": "application health check object that",
    "start": "346759",
    "end": "348360"
  },
  {
    "text": "really burned my britches to use an",
    "start": "348360",
    "end": "350600"
  },
  {
    "text": "expression because it was like there was",
    "start": "350600",
    "end": "352720"
  },
  {
    "text": "no good reason in my opinion for",
    "start": "352720",
    "end": "354039"
  },
  {
    "text": "removing it but now I've got to go back",
    "start": "354039",
    "end": "356199"
  },
  {
    "text": "and add this thing every time I want to",
    "start": "356199",
    "end": "358360"
  },
  {
    "text": "use app of app right",
    "start": "358360",
    "end": "360280"
  },
  {
    "text": "and then the last one is the obvious one",
    "start": "360280",
    "end": "361919"
  },
  {
    "text": "managing custom resources you deploy",
    "start": "361919",
    "end": "364000"
  },
  {
    "text": "like C manage or something else in your",
    "start": "364000",
    "end": "365800"
  },
  {
    "text": "cluster that has a custom resource",
    "start": "365800",
    "end": "367160"
  },
  {
    "text": "definition requires you to create custom",
    "start": "367160",
    "end": "369120"
  },
  {
    "text": "resources kubernetes knows nothing about",
    "start": "369120",
    "end": "371120"
  },
  {
    "text": "it yes it knows your pods your",
    "start": "371120",
    "end": "372759"
  },
  {
    "text": "deployments whether they're healthy or",
    "start": "372759",
    "end": "374000"
  },
  {
    "text": "unhealthy but your custom resources it",
    "start": "374000",
    "end": "376639"
  },
  {
    "text": "knows nothing about and that's really",
    "start": "376639",
    "end": "378479"
  },
  {
    "text": "where a custom health check comes into",
    "start": "378479",
    "end": "380960"
  },
  {
    "text": "play now on the resource action side of",
    "start": "380960",
    "end": "383919"
  },
  {
    "text": "the",
    "start": "383919",
    "end": "385039"
  },
  {
    "text": "house you know many of these resources",
    "start": "385039",
    "end": "388039"
  },
  {
    "text": "well let me back up for a second let me",
    "start": "388039",
    "end": "389240"
  },
  {
    "text": "ask a question question how many people",
    "start": "389240",
    "end": "390280"
  },
  {
    "text": "here know with an Argo application you",
    "start": "390280",
    "end": "392160"
  },
  {
    "text": "can add an annotation to it to do a",
    "start": "392160",
    "end": "394800"
  },
  {
    "text": "refresh only a couple people do okay how",
    "start": "394800",
    "end": "397759"
  },
  {
    "text": "many people know what that annotation is",
    "start": "397759",
    "end": "399240"
  },
  {
    "text": "off the top of their",
    "start": "399240",
    "end": "400960"
  },
  {
    "text": "head yeah same with me I'm always",
    "start": "400960",
    "end": "403120"
  },
  {
    "text": "Googling it right so basically as I'm",
    "start": "403120",
    "end": "405319"
  },
  {
    "text": "saying here a lot of these resources",
    "start": "405319",
    "end": "407199"
  },
  {
    "text": "have these kind of annotations where you",
    "start": "407199",
    "end": "408479"
  },
  {
    "text": "can put an annotation on a resource and",
    "start": "408479",
    "end": "410240"
  },
  {
    "text": "it will drive some Behavior or you can",
    "start": "410240",
    "end": "411919"
  },
  {
    "text": "do something with it to drive some",
    "start": "411919",
    "end": "413280"
  },
  {
    "text": "Behavior and the user is trying to",
    "start": "413280",
    "end": "415360"
  },
  {
    "text": "remember that it's difficult or",
    "start": "415360",
    "end": "417120"
  },
  {
    "text": "impossible but instead in Argo CD you",
    "start": "417120",
    "end": "419680"
  },
  {
    "text": "can create this resource action and it",
    "start": "419680",
    "end": "421879"
  },
  {
    "text": "will appear up in that little popup menu",
    "start": "421879",
    "end": "423960"
  },
  {
    "text": "there on the right and your users can",
    "start": "423960",
    "end": "425919"
  },
  {
    "text": "access it without necessarily having to",
    "start": "425919",
    "end": "427240"
  },
  {
    "text": "Google or figure out what is that",
    "start": "427240",
    "end": "428680"
  },
  {
    "text": "annotation again right it also AIDS",
    "start": "428680",
    "end": "430879"
  },
  {
    "text": "Discovery Because unless somebody",
    "start": "430879",
    "end": "432080"
  },
  {
    "text": "bothers to look up The annotation that",
    "start": "432080",
    "end": "433720"
  },
  {
    "text": "may not even know that capability is",
    "start": "433720",
    "end": "435199"
  },
  {
    "text": "there CT manager another classic one",
    "start": "435199",
    "end": "437560"
  },
  {
    "text": "like maybe I need to refresh my",
    "start": "437560",
    "end": "439280"
  },
  {
    "text": "certificate how do I do that right",
    "start": "439280",
    "end": "440879"
  },
  {
    "text": "there's an annotation for that uh but",
    "start": "440879",
    "end": "443000"
  },
  {
    "text": "unless you are aware of that you would",
    "start": "443000",
    "end": "444840"
  },
  {
    "text": "never know and you'd struggle to get",
    "start": "444840",
    "end": "446319"
  },
  {
    "text": "make that happen the other thing is it",
    "start": "446319",
    "end": "448120"
  },
  {
    "text": "can provide additional capabilities so",
    "start": "448120",
    "end": "449919"
  },
  {
    "text": "when you're working with custom",
    "start": "449919",
    "end": "451720"
  },
  {
    "text": "resources um there may be other things",
    "start": "451720",
    "end": "454639"
  },
  {
    "text": "that you want people to be able to do",
    "start": "454639",
    "end": "455800"
  },
  {
    "text": "with them and you can add a resource",
    "start": "455800",
    "end": "457360"
  },
  {
    "text": "action to support that and maybe another",
    "start": "457360",
    "end": "459720"
  },
  {
    "text": "question for the audience how many",
    "start": "459720",
    "end": "461039"
  },
  {
    "text": "people here have their application teams",
    "start": "461039",
    "end": "462800"
  },
  {
    "text": "using Argo CD as the way they manage",
    "start": "462800",
    "end": "464599"
  },
  {
    "text": "their apps or clusters like they're",
    "start": "464599",
    "end": "466240"
  },
  {
    "text": "viewing to kubernetes yeah a few that's",
    "start": "466240",
    "end": "468759"
  },
  {
    "text": "pretty common so this is really useful",
    "start": "468759",
    "end": "471360"
  },
  {
    "text": "for teams that manage your applications",
    "start": "471360",
    "end": "473039"
  },
  {
    "text": "from the Aro CD UI right because you're",
    "start": "473039",
    "end": "474800"
  },
  {
    "text": "giving them the capability to do things",
    "start": "474800",
    "end": "476759"
  },
  {
    "text": "in that UI that they use day-to-day to",
    "start": "476759",
    "end": "478680"
  },
  {
    "text": "manage their application",
    "start": "478680",
    "end": "481440"
  },
  {
    "text": "all right so how to do this your resour",
    "start": "482080",
    "end": "485360"
  },
  {
    "text": "custom resource checks are resource",
    "start": "485360",
    "end": "487520"
  },
  {
    "text": "actions and health checks are written in",
    "start": "487520",
    "end": "488919"
  },
  {
    "text": "Lua which is a programming language uh",
    "start": "488919",
    "end": "491919"
  },
  {
    "text": "it's added as a resource customization",
    "start": "491919",
    "end": "493720"
  },
  {
    "text": "in the config map Argo CD CM which we'll",
    "start": "493720",
    "end": "496039"
  },
  {
    "text": "get to a little more detail in a second",
    "start": "496039",
    "end": "498720"
  },
  {
    "text": "and your resource customizations that",
    "start": "498720",
    "end": "500680"
  },
  {
    "text": "you place in Argo cdcm that config map",
    "start": "500680",
    "end": "503720"
  },
  {
    "text": "overrides the default ones right so it",
    "start": "503720",
    "end": "505599"
  },
  {
    "text": "always takes precedence over what the",
    "start": "505599",
    "end": "506840"
  },
  {
    "text": "default ones are and people people",
    "start": "506840",
    "end": "509800"
  },
  {
    "text": "sometimes get a bit uh put off okay I",
    "start": "509800",
    "end": "511680"
  },
  {
    "text": "got to write some code I got to write",
    "start": "511680",
    "end": "512800"
  },
  {
    "text": "some Lua I like to say if you can write",
    "start": "512800",
    "end": "514320"
  },
  {
    "text": "a bash script you can write a Lua script",
    "start": "514320",
    "end": "516399"
  },
  {
    "text": "anybody know where that guy's",
    "start": "516399",
    "end": "517919"
  },
  {
    "text": "from Doge dodgeball that's right if you",
    "start": "517919",
    "end": "520800"
  },
  {
    "text": "can throw a wrench you could or you can",
    "start": "520800",
    "end": "522279"
  },
  {
    "text": "dodge a wrench you could Dodge a ball I",
    "start": "522279",
    "end": "524360"
  },
  {
    "text": "was going to bring a wrench and throw it",
    "start": "524360",
    "end": "525680"
  },
  {
    "text": "into the audience but the cncf committee",
    "start": "525680",
    "end": "527720"
  },
  {
    "text": "told me that technically that would",
    "start": "527720",
    "end": "528959"
  },
  {
    "text": "violate the Good Conduct rule so I guess",
    "start": "528959",
    "end": "531640"
  },
  {
    "text": "I didn't do",
    "start": "531640",
    "end": "534040"
  },
  {
    "text": "that all right so to define the health",
    "start": "534040",
    "end": "536320"
  },
  {
    "text": "checks and custom resources in Argo uh",
    "start": "536320",
    "end": "538600"
  },
  {
    "text": "CM the health check is basically",
    "start": "538600",
    "end": "540399"
  },
  {
    "text": "resource customizations health and then",
    "start": "540399",
    "end": "542800"
  },
  {
    "text": "the group underscore kind if it's a core",
    "start": "542800",
    "end": "545240"
  },
  {
    "text": "API and there's no group you can just do",
    "start": "545240",
    "end": "546839"
  },
  {
    "text": "the underscore kind and the resource",
    "start": "546839",
    "end": "548800"
  },
  {
    "text": "action follows the same practice except",
    "start": "548800",
    "end": "550519"
  },
  {
    "text": "it's actions instead of Health very",
    "start": "550519",
    "end": "554480"
  },
  {
    "text": "straightforward so in terms of the how",
    "start": "554519",
    "end": "556720"
  },
  {
    "text": "how do you create a custom health check",
    "start": "556720",
    "end": "558720"
  },
  {
    "text": "so a health check can access all of the",
    "start": "558720",
    "end": "560880"
  },
  {
    "text": "fields on the object that you're",
    "start": "560880",
    "end": "562800"
  },
  {
    "text": "checking so you can use Lua to check the",
    "start": "562800",
    "end": "565560"
  },
  {
    "text": "status you can check other fields in",
    "start": "565560",
    "end": "567560"
  },
  {
    "text": "spec for example or metadata if you need",
    "start": "567560",
    "end": "569200"
  },
  {
    "text": "to",
    "start": "569200",
    "end": "570320"
  },
  {
    "text": "and what you want to do in that Lis",
    "start": "570320",
    "end": "571519"
  },
  {
    "text": "script is you want to return a health",
    "start": "571519",
    "end": "573000"
  },
  {
    "text": "status object back to Argo and it",
    "start": "573000",
    "end": "575040"
  },
  {
    "text": "consists of two things one is the status",
    "start": "575040",
    "end": "577399"
  },
  {
    "text": "so is this help app healthy is it",
    "start": "577399",
    "end": "579600"
  },
  {
    "text": "progressing is it degraded and the other",
    "start": "579600",
    "end": "581760"
  },
  {
    "text": "one is a message right and that can",
    "start": "581760",
    "end": "583200"
  },
  {
    "text": "provide additional information to the",
    "start": "583200",
    "end": "584800"
  },
  {
    "text": "user in terms of what's happening if",
    "start": "584800",
    "end": "586880"
  },
  {
    "text": "there's a problem in my opinion best",
    "start": "586880",
    "end": "589279"
  },
  {
    "text": "practice always provide a meaningful",
    "start": "589279",
    "end": "591320"
  },
  {
    "text": "message when you're returning a status",
    "start": "591320",
    "end": "594040"
  },
  {
    "text": "other than healthy nothing is more",
    "start": "594040",
    "end": "595680"
  },
  {
    "text": "annoying than a user to see hey this is",
    "start": "595680",
    "end": "597279"
  },
  {
    "text": "degraded and there's nothing right right",
    "start": "597279",
    "end": "599600"
  },
  {
    "text": "okay let me go splunking through the",
    "start": "599600",
    "end": "600959"
  },
  {
    "text": "status block to see what's going on with",
    "start": "600959",
    "end": "602480"
  },
  {
    "text": "this",
    "start": "602480",
    "end": "604680"
  },
  {
    "text": "thing uh you can develop your health",
    "start": "605800",
    "end": "608000"
  },
  {
    "text": "checks locally and",
    "start": "608000",
    "end": "609839"
  },
  {
    "text": "iteratively so uh in Cube cutle the",
    "start": "609839",
    "end": "613040"
  },
  {
    "text": "first step to doing this is basically",
    "start": "613040",
    "end": "614519"
  },
  {
    "text": "getting a copy of the Aro CD config map",
    "start": "614519",
    "end": "617959"
  },
  {
    "text": "um if you want users to be able to",
    "start": "617959",
    "end": "619600"
  },
  {
    "text": "develop their own health checks you can",
    "start": "619600",
    "end": "621120"
  },
  {
    "text": "give them a skeleton like they",
    "start": "621120",
    "end": "622279"
  },
  {
    "text": "necessarily have to have access to the",
    "start": "622279",
    "end": "623440"
  },
  {
    "text": "production version of",
    "start": "623440",
    "end": "624880"
  },
  {
    "text": "it um then what you want to do is you",
    "start": "624880",
    "end": "627000"
  },
  {
    "text": "want to get the resource that you're",
    "start": "627000",
    "end": "628600"
  },
  {
    "text": "going to check so in this case I've got",
    "start": "628600",
    "end": "630079"
  },
  {
    "text": "a subscription and open shift which is a",
    "start": "630079",
    "end": "632040"
  },
  {
    "text": "custom resource that we have for",
    "start": "632040",
    "end": "633640"
  },
  {
    "text": "managing operators and that one has a",
    "start": "633640",
    "end": "636279"
  },
  {
    "text": "problem so I'm going to Output that to",
    "start": "636279",
    "end": "637920"
  },
  {
    "text": "AML and save it as a file and then the",
    "start": "637920",
    "end": "640320"
  },
  {
    "text": "last thing you can do is you want to do",
    "start": "640320",
    "end": "642200"
  },
  {
    "text": "is you want to run the Argo CD command",
    "start": "642200",
    "end": "643959"
  },
  {
    "text": "line and you can actually say Okay Argo",
    "start": "643959",
    "end": "646279"
  },
  {
    "text": "CD run this command and what I want you",
    "start": "646279",
    "end": "648800"
  },
  {
    "text": "to do is to look at my uh subscription",
    "start": "648800",
    "end": "651959"
  },
  {
    "text": "my bad sub. yaml and run it against the",
    "start": "651959",
    "end": "654880"
  },
  {
    "text": "Argo cdcm that I'm providing and in",
    "start": "654880",
    "end": "657120"
  },
  {
    "text": "there I'll have my custom health check",
    "start": "657120",
    "end": "659040"
  },
  {
    "text": "and it will output what the status is so",
    "start": "659040",
    "end": "661720"
  },
  {
    "text": "if you ever try to write your own health",
    "start": "661720",
    "end": "663120"
  },
  {
    "text": "check and you're doing it directly in a",
    "start": "663120",
    "end": "664480"
  },
  {
    "text": "cluster it's pretty painful to be",
    "start": "664480",
    "end": "666360"
  },
  {
    "text": "constantly trying to update the config",
    "start": "666360",
    "end": "668040"
  },
  {
    "text": "map and then test your thing in the",
    "start": "668040",
    "end": "669839"
  },
  {
    "text": "cluster whereas this allows you to kind",
    "start": "669839",
    "end": "671760"
  },
  {
    "text": "of mock things up and try different",
    "start": "671760",
    "end": "673240"
  },
  {
    "text": "scenarios and understand what's going on",
    "start": "673240",
    "end": "674760"
  },
  {
    "text": "a lot better",
    "start": "674760",
    "end": "676680"
  },
  {
    "text": "right all right so we'll do a demo here",
    "start": "676680",
    "end": "679760"
  },
  {
    "text": "now I'm well known for fat fingering",
    "start": "679760",
    "end": "681959"
  },
  {
    "text": "things so we'll see how I do here with",
    "start": "681959",
    "end": "684839"
  },
  {
    "text": "this and also well known for my really",
    "start": "684839",
    "end": "687240"
  },
  {
    "text": "poor trackpad skills so let's take a uh",
    "start": "687240",
    "end": "690959"
  },
  {
    "text": "the classic example we have a persistent",
    "start": "690959",
    "end": "692920"
  },
  {
    "text": "volume that has late binding on it uh is",
    "start": "692920",
    "end": "695360"
  },
  {
    "text": "that big enough let me make that a",
    "start": "695360",
    "end": "696399"
  },
  {
    "text": "little",
    "start": "696399",
    "end": "697399"
  },
  {
    "text": "bigger there's I see there's a few older",
    "start": "697399",
    "end": "699600"
  },
  {
    "text": "people in the audience like me they",
    "start": "699600",
    "end": "700760"
  },
  {
    "text": "can't",
    "start": "700760",
    "end": "702959"
  },
  {
    "text": "see yeah so you can see here are the",
    "start": "704200",
    "end": "706320"
  },
  {
    "text": "phases set to pending right and if we",
    "start": "706320",
    "end": "708880"
  },
  {
    "text": "run that against the default health",
    "start": "708880",
    "end": "710360"
  },
  {
    "text": "check and I've got a script that I wrote",
    "start": "710360",
    "end": "712160"
  },
  {
    "text": "here because like I just said I am",
    "start": "712160",
    "end": "714279"
  },
  {
    "text": "terrible with fat",
    "start": "714279",
    "end": "716839"
  },
  {
    "text": "fingering you're already witnessing my",
    "start": "716839",
    "end": "718880"
  },
  {
    "text": "PO trackpad skills too with this most",
    "start": "718880",
    "end": "720959"
  },
  {
    "text": "pad if we do the late bind",
    "start": "720959",
    "end": "725320"
  },
  {
    "text": "default oop sorry let me change",
    "start": "725320",
    "end": "727200"
  },
  {
    "text": "directories that would be",
    "start": "727200",
    "end": "729959"
  },
  {
    "text": "helpful you can see that it's coming out",
    "start": "739800",
    "end": "741959"
  },
  {
    "text": "as the status is progressing right which",
    "start": "741959",
    "end": "744199"
  },
  {
    "text": "is bad in many cases when you have a",
    "start": "744199",
    "end": "746040"
  },
  {
    "text": "late binding storage driver on the other",
    "start": "746040",
    "end": "748639"
  },
  {
    "text": "hand what I done is in the Argo",
    "start": "748639",
    "end": "751839"
  },
  {
    "text": "cdcm I've added a persistent volume",
    "start": "751839",
    "end": "754279"
  },
  {
    "text": "claim here where I'm actually checking",
    "start": "754279",
    "end": "756519"
  },
  {
    "text": "what the",
    "start": "756519",
    "end": "757360"
  },
  {
    "text": "statuses and if it's in the pending",
    "start": "757360",
    "end": "759440"
  },
  {
    "text": "state I'm overriding it and saying you",
    "start": "759440",
    "end": "760880"
  },
  {
    "text": "know what just return healthy it's not",
    "start": "760880",
    "end": "762360"
  },
  {
    "text": "progressing because I don't want my",
    "start": "762360",
    "end": "763720"
  },
  {
    "text": "application to be clogged up waiting for",
    "start": "763720",
    "end": "766000"
  },
  {
    "text": "a binding that's never going to happen",
    "start": "766000",
    "end": "767320"
  },
  {
    "text": "or is going to happen infrequently and",
    "start": "767320",
    "end": "769480"
  },
  {
    "text": "if we run the uh the script against that",
    "start": "769480",
    "end": "771639"
  },
  {
    "text": "one",
    "start": "771639",
    "end": "774639"
  },
  {
    "text": "you can see here it comes up healthy",
    "start": "784560",
    "end": "786000"
  },
  {
    "text": "right and the only thing that's",
    "start": "786000",
    "end": "787040"
  },
  {
    "text": "different between that script is I'm",
    "start": "787040",
    "end": "789240"
  },
  {
    "text": "going against the newer Argo cdcm where",
    "start": "789240",
    "end": "791800"
  },
  {
    "text": "I added that health check right so",
    "start": "791800",
    "end": "795320"
  },
  {
    "text": "that's how easy it is to develop these",
    "start": "795320",
    "end": "796800"
  },
  {
    "text": "things same with the uh throw a little",
    "start": "796800",
    "end": "799279"
  },
  {
    "text": "shade on my employer because hopefully",
    "start": "799279",
    "end": "801000"
  },
  {
    "text": "they won't fire me for it but uh as I",
    "start": "801000",
    "end": "804240"
  },
  {
    "text": "mentioned there is a bug in subscription",
    "start": "804240",
    "end": "806880"
  },
  {
    "text": "objects in open shift that was recently",
    "start": "806880",
    "end": "808839"
  },
  {
    "text": "intr reduced and it really only happens",
    "start": "808839",
    "end": "810920"
  },
  {
    "text": "when you restart clusters unfortunately",
    "start": "810920",
    "end": "812680"
  },
  {
    "text": "for me I have a home lab environment",
    "start": "812680",
    "end": "814120"
  },
  {
    "text": "where every day I'm starting it in the",
    "start": "814120",
    "end": "815680"
  },
  {
    "text": "morning and I'm shutting it down at",
    "start": "815680",
    "end": "816800"
  },
  {
    "text": "night because it also doubles as my",
    "start": "816800",
    "end": "818040"
  },
  {
    "text": "gaming machine so uh I hit this thing",
    "start": "818040",
    "end": "821079"
  },
  {
    "text": "all the time and it was driving me nuts",
    "start": "821079",
    "end": "822560"
  },
  {
    "text": "because all my operators would come up",
    "start": "822560",
    "end": "823760"
  },
  {
    "text": "as degraded and the bug essentially that",
    "start": "823760",
    "end": "825519"
  },
  {
    "text": "you see this resolution failed problem",
    "start": "825519",
    "end": "828320"
  },
  {
    "text": "here right the outof the boox health",
    "start": "828320",
    "end": "830160"
  },
  {
    "text": "check that is in Argo CD will",
    "start": "830160",
    "end": "832199"
  },
  {
    "text": "essentially considered the subscription",
    "start": "832199",
    "end": "833880"
  },
  {
    "text": "to be degraded if it has this health",
    "start": "833880",
    "end": "835920"
  },
  {
    "text": "check status and the reason why this is",
    "start": "835920",
    "end": "837399"
  },
  {
    "text": "happening is because there is a where",
    "start": "837399",
    "end": "839399"
  },
  {
    "text": "the operator is not clearing this like",
    "start": "839399",
    "end": "840959"
  },
  {
    "text": "it should be right and it's actually",
    "start": "840959",
    "end": "842040"
  },
  {
    "text": "going to be fixed in the next uh next z-",
    "start": "842040",
    "end": "844519"
  },
  {
    "text": "relase of open shift but again if I uh",
    "start": "844519",
    "end": "848480"
  },
  {
    "text": "do my health checks here and I do a bad",
    "start": "848480",
    "end": "850920"
  },
  {
    "text": "let me get out of this directory and go",
    "start": "850920",
    "end": "852199"
  },
  {
    "text": "back to",
    "start": "852199",
    "end": "854519"
  },
  {
    "text": "sub and we do the bad sub",
    "start": "854800",
    "end": "860560"
  },
  {
    "text": "default you can see this is coming",
    "start": "860560",
    "end": "862519"
  },
  {
    "text": "across as degraded down here right and",
    "start": "862519",
    "end": "865759"
  },
  {
    "text": "again if I update my health check let",
    "start": "865759",
    "end": "867959"
  },
  {
    "text": "just go get the one I did here here for",
    "start": "867959",
    "end": "869519"
  },
  {
    "text": "the",
    "start": "869519",
    "end": "870199"
  },
  {
    "text": "subscription all I did here and this is",
    "start": "870199",
    "end": "872279"
  },
  {
    "text": "a little maybe a little complicated Lu",
    "start": "872279",
    "end": "874120"
  },
  {
    "text": "but really it's not that bad is I'm just",
    "start": "874120",
    "end": "876480"
  },
  {
    "text": "B basically as soon as I see that the",
    "start": "876480",
    "end": "878160"
  },
  {
    "text": "status looks okay on the first condition",
    "start": "878160",
    "end": "880440"
  },
  {
    "text": "of the array of conditions I'm just",
    "start": "880440",
    "end": "881880"
  },
  {
    "text": "breaking out and not checking anything",
    "start": "881880",
    "end": "883399"
  },
  {
    "text": "else in order to get it to return",
    "start": "883399",
    "end": "885480"
  },
  {
    "text": "healthy and if I run that one and I do",
    "start": "885480",
    "end": "889279"
  },
  {
    "text": "bad sub",
    "start": "889279",
    "end": "891199"
  },
  {
    "text": "updated you can see it comes back",
    "start": "891199",
    "end": "893199"
  },
  {
    "text": "healthy right so there's just a couple",
    "start": "893199",
    "end": "895320"
  },
  {
    "text": "of use cases where uh having health",
    "start": "895320",
    "end": "897720"
  },
  {
    "text": "checks is really useful and having",
    "start": "897720",
    "end": "899600"
  },
  {
    "text": "the ability to create them adds a lot of",
    "start": "899600",
    "end": "901199"
  },
  {
    "text": "value to a deployment of Argo",
    "start": "901199",
    "end": "904120"
  },
  {
    "text": "CD so we'll continue on here with the",
    "start": "904120",
    "end": "906759"
  },
  {
    "text": "slides then we'll come back to a demo in",
    "start": "906759",
    "end": "908920"
  },
  {
    "text": "a",
    "start": "908920",
    "end": "910120"
  },
  {
    "text": "second see how I'm doing on time pretty",
    "start": "910120",
    "end": "914040"
  },
  {
    "text": "good all right so resource actions are",
    "start": "914040",
    "end": "916519"
  },
  {
    "text": "the next thing so actions are surfaced",
    "start": "916519",
    "end": "918720"
  },
  {
    "text": "in the user interface via the the",
    "start": "918720",
    "end": "921079"
  },
  {
    "text": "resource menu or the Kebab menu on each",
    "start": "921079",
    "end": "923320"
  },
  {
    "text": "uh resource everybody familiar with the",
    "start": "923320",
    "end": "924759"
  },
  {
    "text": "gabab term okay just check in uh it also",
    "start": "924759",
    "end": "928600"
  },
  {
    "text": "is available through the Argo CD CLI you",
    "start": "928600",
    "end": "931319"
  },
  {
    "text": "can actually run actions directly",
    "start": "931319",
    "end": "932680"
  },
  {
    "text": "through the Argo CD CLI it's composed of",
    "start": "932680",
    "end": "935360"
  },
  {
    "text": "two parts you have a discovery part here",
    "start": "935360",
    "end": "937920"
  },
  {
    "text": "which is essentially returning the list",
    "start": "937920",
    "end": "939160"
  },
  {
    "text": "of actions that that is applic whoops I",
    "start": "939160",
    "end": "942120"
  },
  {
    "text": "forgot I can't highlight things here",
    "start": "942120",
    "end": "943639"
  },
  {
    "text": "it's applicable to that resource and",
    "start": "943639",
    "end": "945440"
  },
  {
    "text": "then you got the actual definitions so",
    "start": "945440",
    "end": "947000"
  },
  {
    "text": "under the definitions you have a",
    "start": "947000",
    "end": "948120"
  },
  {
    "text": "definition for every action that you",
    "start": "948120",
    "end": "949480"
  },
  {
    "text": "define and it does something right so in",
    "start": "949480",
    "end": "952079"
  },
  {
    "text": "this case here for external secret for",
    "start": "952079",
    "end": "954000"
  },
  {
    "text": "example what it does is it will force",
    "start": "954000",
    "end": "955920"
  },
  {
    "text": "that external secret to be do a resync",
    "start": "955920",
    "end": "958240"
  },
  {
    "text": "and as I mentioned earlier you know",
    "start": "958240",
    "end": "959560"
  },
  {
    "text": "about annotations would I remember what",
    "start": "959560",
    "end": "961240"
  },
  {
    "text": "the force sync is off the top of my head",
    "start": "961240",
    "end": "962959"
  },
  {
    "text": "annotation no right this makes it easy",
    "start": "962959",
    "end": "966120"
  },
  {
    "text": "so uh the discovery. Lua gets executed",
    "start": "966120",
    "end": "968959"
  },
  {
    "text": "when you actually click the Kebab menu",
    "start": "968959",
    "end": "970759"
  },
  {
    "text": "it does not get executed all the time so",
    "start": "970759",
    "end": "972560"
  },
  {
    "text": "it's not like a performance sync or",
    "start": "972560",
    "end": "973920"
  },
  {
    "text": "anything from that point of view and the",
    "start": "973920",
    "end": "975880"
  },
  {
    "text": "action definition as I mentioned is what",
    "start": "975880",
    "end": "977480"
  },
  {
    "text": "actually gets executed when they select",
    "start": "977480",
    "end": "978920"
  },
  {
    "text": "a particular action on that object as a",
    "start": "978920",
    "end": "981440"
  },
  {
    "text": "best practice I highly recommend setting",
    "start": "981440",
    "end": "983680"
  },
  {
    "text": "the enabled disabled states of the",
    "start": "983680",
    "end": "985440"
  },
  {
    "text": "actions based on the status of the",
    "start": "985440",
    "end": "987480"
  },
  {
    "text": "object right not all actions are going",
    "start": "987480",
    "end": "988759"
  },
  {
    "text": "to be applicable at all times don't make",
    "start": "988759",
    "end": "990680"
  },
  {
    "text": "the user click it nothing happens and",
    "start": "990680",
    "end": "992279"
  },
  {
    "text": "they're scratching their head warning",
    "start": "992279",
    "end": "993720"
  },
  {
    "text": "what's going on right just disable the",
    "start": "993720",
    "end": "995720"
  },
  {
    "text": "action from the get-go but you can see",
    "start": "995720",
    "end": "998079"
  },
  {
    "text": "here this is a very small amount of Lua",
    "start": "998079",
    "end": "999880"
  },
  {
    "text": "right this is not a lot of code and",
    "start": "999880",
    "end": "1001319"
  },
  {
    "text": "again most people can do bash can handle",
    "start": "1001319",
    "end": "1003319"
  },
  {
    "text": "that no problem at",
    "start": "1003319",
    "end": "1006079"
  },
  {
    "text": "all uh so when you're using a resource",
    "start": "1006240",
    "end": "1008639"
  },
  {
    "text": "action to mutate an object like add an",
    "start": "1008639",
    "end": "1010279"
  },
  {
    "text": "annotation or something to it uh that's",
    "start": "1010279",
    "end": "1013040"
  },
  {
    "text": "perfectly fine but be aware if you do",
    "start": "1013040",
    "end": "1014839"
  },
  {
    "text": "other kind of mutations it might",
    "start": "1014839",
    "end": "1016279"
  },
  {
    "text": "actually conflict with what's in G right",
    "start": "1016279",
    "end": "1018040"
  },
  {
    "text": "Argo might go whoa I've just modified",
    "start": "1018040",
    "end": "1019720"
  },
  {
    "text": "something in that object with this",
    "start": "1019720",
    "end": "1020839"
  },
  {
    "text": "resource action now it's no longer in",
    "start": "1020839",
    "end": "1022680"
  },
  {
    "text": "sync what do I do the other thing to be",
    "start": "1022680",
    "end": "1024839"
  },
  {
    "text": "aware of with resource actions that is",
    "start": "1024839",
    "end": "1026678"
  },
  {
    "text": "cool but it's a double-edged sword is",
    "start": "1026679",
    "end": "1028558"
  },
  {
    "text": "you can actually create brand new",
    "start": "1028559",
    "end": "1030079"
  },
  {
    "text": "resources in a resource action I really",
    "start": "1030079",
    "end": "1032760"
  },
  {
    "text": "don't recommend this generally speaking",
    "start": "1032760",
    "end": "1034720"
  },
  {
    "text": "it should only really be used in my",
    "start": "1034720",
    "end": "1036160"
  },
  {
    "text": "opinion with ephemeral objects so if you",
    "start": "1036160",
    "end": "1038360"
  },
  {
    "text": "want to create out like a one-off job",
    "start": "1038360",
    "end": "1039678"
  },
  {
    "text": "from a Cron job as a resource action",
    "start": "1039679",
    "end": "1041720"
  },
  {
    "text": "that's fine in tecton which is something",
    "start": "1041720",
    "end": "1044120"
  },
  {
    "text": "I'm familiar with which is a CI tool we",
    "start": "1044120",
    "end": "1045678"
  },
  {
    "text": "would create a pipeline run which is",
    "start": "1045679",
    "end": "1047640"
  },
  {
    "text": "essentially one run of a pipeline and",
    "start": "1047640",
    "end": "1050000"
  },
  {
    "text": "that's ephemeral and that's fine too",
    "start": "1050000",
    "end": "1051840"
  },
  {
    "text": "those kind of use cases but you",
    "start": "1051840",
    "end": "1053120"
  },
  {
    "text": "shouldn't be creating permanent things",
    "start": "1053120",
    "end": "1054640"
  },
  {
    "text": "because that again should be in git and",
    "start": "1054640",
    "end": "1056559"
  },
  {
    "text": "managed by get Ops not something that's",
    "start": "1056559",
    "end": "1058039"
  },
  {
    "text": "created by people pressing a menu right",
    "start": "1058039",
    "end": "1060080"
  },
  {
    "text": "we don't want to do click",
    "start": "1060080",
    "end": "1061840"
  },
  {
    "text": "Ops all right so from a demo",
    "start": "1061840",
    "end": "1065960"
  },
  {
    "text": "perspective close that close that so in",
    "start": "1071360",
    "end": "1075520"
  },
  {
    "text": "open shift we have a operator um called",
    "start": "1075520",
    "end": "1078880"
  },
  {
    "text": "the compliance operator basically make",
    "start": "1078880",
    "end": "1080679"
  },
  {
    "text": "sure that your cluster is in compliance",
    "start": "1080679",
    "end": "1082200"
  },
  {
    "text": "with pis PCI CIS I'll get that right",
    "start": "1082200",
    "end": "1085679"
  },
  {
    "text": "eventually uh benchmarks that are out",
    "start": "1085679",
    "end": "1087679"
  },
  {
    "text": "there right and it will test all that",
    "start": "1087679",
    "end": "1089039"
  },
  {
    "text": "for you one of the things that it can do",
    "start": "1089039",
    "end": "1090320"
  },
  {
    "text": "the compliance scan object is it can",
    "start": "1090320",
    "end": "1092480"
  },
  {
    "text": "actually uh resan you can add an",
    "start": "1092480",
    "end": "1095480"
  },
  {
    "text": "annotation to it and rescan so here I've",
    "start": "1095480",
    "end": "1097320"
  },
  {
    "text": "got my Discovery Lua where I'm basically",
    "start": "1097320",
    "end": "1099559"
  },
  {
    "text": "saying you know if that object status",
    "start": "1099559",
    "end": "1101880"
  },
  {
    "text": "isn't nil and the status of that is done",
    "start": "1101880",
    "end": "1104799"
  },
  {
    "text": "I.E it's already done a scan it's not in",
    "start": "1104799",
    "end": "1106320"
  },
  {
    "text": "the middle of doing a scan enable this",
    "start": "1106320",
    "end": "1108400"
  },
  {
    "text": "action which I'm doing down here and",
    "start": "1108400",
    "end": "1110360"
  },
  {
    "text": "then from a definition point of view",
    "start": "1110360",
    "end": "1111720"
  },
  {
    "text": "this is really straightforward checking",
    "start": "1111720",
    "end": "1113640"
  },
  {
    "text": "to see if there's any annotations if not",
    "start": "1113640",
    "end": "1115480"
  },
  {
    "text": "empty add an empty annotation block and",
    "start": "1115480",
    "end": "1117640"
  },
  {
    "text": "then add that annotation to actually do",
    "start": "1117640",
    "end": "1119520"
  },
  {
    "text": "that rescan right so if I go to my open",
    "start": "1119520",
    "end": "1122360"
  },
  {
    "text": "shift environment here and you don't",
    "start": "1122360",
    "end": "1123520"
  },
  {
    "text": "have to be an open shift person to",
    "start": "1123520",
    "end": "1125880"
  },
  {
    "text": "understand this but uh what happened",
    "start": "1125880",
    "end": "1127679"
  },
  {
    "text": "there hang on let me f five it I think",
    "start": "1127679",
    "end": "1130400"
  },
  {
    "text": "it's just because I woke up from SS",
    "start": "1130400",
    "end": "1133720"
  },
  {
    "text": "whoops there we",
    "start": "1133720",
    "end": "1136600"
  },
  {
    "text": "go there we go so I've got my compl scan",
    "start": "1136600",
    "end": "1139360"
  },
  {
    "text": "objects here you can see they're all",
    "start": "1139360",
    "end": "1140559"
  },
  {
    "text": "inone and if I go to this object in rocd",
    "start": "1140559",
    "end": "1145039"
  },
  {
    "text": "Hang On Again suspend let me resign in",
    "start": "1145039",
    "end": "1147679"
  },
  {
    "text": "there we go find the compliance",
    "start": "1147679",
    "end": "1151679"
  },
  {
    "text": "object and we go down yeah you see the",
    "start": "1153120",
    "end": "1156880"
  },
  {
    "text": "compliance scan object here this ocp4",
    "start": "1156880",
    "end": "1159280"
  },
  {
    "text": "CIS lab click that there's my rescan go",
    "start": "1159280",
    "end": "1162000"
  },
  {
    "text": "ahead and click that yeah I want to",
    "start": "1162000",
    "end": "1164240"
  },
  {
    "text": "execute that",
    "start": "1164240",
    "end": "1165480"
  },
  {
    "text": "action and if I go back to open shift",
    "start": "1165480",
    "end": "1168120"
  },
  {
    "text": "you can see now now that it's running",
    "start": "1168120",
    "end": "1169440"
  },
  {
    "text": "that scan again right I didn't need to",
    "start": "1169440",
    "end": "1171600"
  },
  {
    "text": "as a user I didn't need to remember that",
    "start": "1171600",
    "end": "1173000"
  },
  {
    "text": "annotation I could just go ahead and do",
    "start": "1173000",
    "end": "1174799"
  },
  {
    "text": "it and it makes operating things much",
    "start": "1174799",
    "end": "1176880"
  },
  {
    "text": "more easy and",
    "start": "1176880",
    "end": "1178280"
  },
  {
    "text": "simple so that was a very simple and",
    "start": "1178280",
    "end": "1180960"
  },
  {
    "text": "straightforward demo as I'm getting near",
    "start": "1180960",
    "end": "1183360"
  },
  {
    "text": "the end on time here so who should be",
    "start": "1183360",
    "end": "1186760"
  },
  {
    "text": "doing this stuff if you are somebody",
    "start": "1186760",
    "end": "1189520"
  },
  {
    "text": "anybody here writing operators by the",
    "start": "1189520",
    "end": "1191080"
  },
  {
    "text": "way I just just ask that oh one guy okay",
    "start": "1191080",
    "end": "1193919"
  },
  {
    "text": "so if you're writing an operator and you",
    "start": "1193919",
    "end": "1195919"
  },
  {
    "text": "have custom resource definitions which",
    "start": "1195919",
    "end": "1197400"
  },
  {
    "text": "you almost always do with an operator",
    "start": "1197400",
    "end": "1199520"
  },
  {
    "text": "you should be providing health checks",
    "start": "1199520",
    "end": "1201039"
  },
  {
    "text": "please don't make me troll through your",
    "start": "1201039",
    "end": "1202480"
  },
  {
    "text": "operator code to figure out what all the",
    "start": "1202480",
    "end": "1204080"
  },
  {
    "text": "status is if you look at that condition",
    "start": "1204080",
    "end": "1206240"
  },
  {
    "text": "block the standard condition blocking",
    "start": "1206240",
    "end": "1207640"
  },
  {
    "text": "kubernetes with different op operators",
    "start": "1207640",
    "end": "1209600"
  },
  {
    "text": "it can be really difficult to figure out",
    "start": "1209600",
    "end": "1211799"
  },
  {
    "text": "what is unhealthy for this the other",
    "start": "1211799",
    "end": "1213360"
  },
  {
    "text": "thing with operators that's interesting",
    "start": "1213360",
    "end": "1214760"
  },
  {
    "text": "and you probably may have run into this",
    "start": "1214760",
    "end": "1216440"
  },
  {
    "text": "is they often have edge cases that are",
    "start": "1216440",
    "end": "1217880"
  },
  {
    "text": "hard to discern unless you actually hit",
    "start": "1217880",
    "end": "1219320"
  },
  {
    "text": "that issue so it's really nice when the",
    "start": "1219320",
    "end": "1221679"
  },
  {
    "text": "person who wrote the operator",
    "start": "1221679",
    "end": "1223360"
  },
  {
    "text": "understands the design understands the",
    "start": "1223360",
    "end": "1224880"
  },
  {
    "text": "status of things writes the health check",
    "start": "1224880",
    "end": "1226880"
  },
  {
    "text": "for it the other benefit of that is that",
    "start": "1226880",
    "end": "1229039"
  },
  {
    "text": "you increase user satisfaction of your",
    "start": "1229039",
    "end": "1230760"
  },
  {
    "text": "operator and you increase adoption of",
    "start": "1230760",
    "end": "1232480"
  },
  {
    "text": "your project nobody gets frustrated",
    "start": "1232480",
    "end": "1233840"
  },
  {
    "text": "trying to deploy this in a giops way",
    "start": "1233840",
    "end": "1235600"
  },
  {
    "text": "because there's no health check",
    "start": "1235600",
    "end": "1236679"
  },
  {
    "text": "associated with it for platform teams",
    "start": "1236679",
    "end": "1239080"
  },
  {
    "text": "same idea you may be deploying things",
    "start": "1239080",
    "end": "1241080"
  },
  {
    "text": "into the platform that don't have a",
    "start": "1241080",
    "end": "1243440"
  },
  {
    "text": "default resource check don't make your",
    "start": "1243440",
    "end": "1245080"
  },
  {
    "text": "users do it you should provide that as",
    "start": "1245080",
    "end": "1246440"
  },
  {
    "text": "part of the outof the boox platform",
    "start": "1246440",
    "end": "1247679"
  },
  {
    "text": "experience and same is with the operator",
    "start": "1247679",
    "end": "1249760"
  },
  {
    "text": "team you're increasing user satisfaction",
    "start": "1249760",
    "end": "1252039"
  },
  {
    "text": "and Adoption of your platform and at the",
    "start": "1252039",
    "end": "1253960"
  },
  {
    "text": "end everybody I mean if you have a",
    "start": "1253960",
    "end": "1255520"
  },
  {
    "text": "problem with a resource that doesn't",
    "start": "1255520",
    "end": "1256679"
  },
  {
    "text": "have a health check and it's returning",
    "start": "1256679",
    "end": "1258919"
  },
  {
    "text": "errorist or inappropriate uh information",
    "start": "1258919",
    "end": "1261679"
  },
  {
    "text": "go ahead and add that uh custom health",
    "start": "1261679",
    "end": "1263360"
  },
  {
    "text": "check so Argo CD includes a number of",
    "start": "1263360",
    "end": "1266159"
  },
  {
    "text": "health checks and resource actions out",
    "start": "1266159",
    "end": "1267559"
  },
  {
    "text": "of the box there's a link to where you",
    "start": "1267559",
    "end": "1268880"
  },
  {
    "text": "can find them in the GitHub repo if",
    "start": "1268880",
    "end": "1271080"
  },
  {
    "text": "you're looking for examples of how to do",
    "start": "1271080",
    "end": "1272760"
  },
  {
    "text": "it you will find no better place to go",
    "start": "1272760",
    "end": "1274799"
  },
  {
    "text": "for those examples the other interesting",
    "start": "1274799",
    "end": "1277000"
  },
  {
    "text": "one is if you're wondering and this",
    "start": "1277000",
    "end": "1278120"
  },
  {
    "text": "comes up sometimes in the on slock as",
    "start": "1278120",
    "end": "1280240"
  },
  {
    "text": "well where's the default health checks",
    "start": "1280240",
    "end": "1281880"
  },
  {
    "text": "for deployments jobs the core kubernetes",
    "start": "1281880",
    "end": "1284440"
  },
  {
    "text": "apis they're not in the uh that folder",
    "start": "1284440",
    "end": "1287279"
  },
  {
    "text": "which is all Lu code they those were",
    "start": "1287279",
    "end": "1288799"
  },
  {
    "text": "actually written in goang and they're",
    "start": "1288799",
    "end": "1290440"
  },
  {
    "text": "part of the G Ops engine at that uh that",
    "start": "1290440",
    "end": "1292720"
  },
  {
    "text": "point so if you want to see what's the",
    "start": "1292720",
    "end": "1294279"
  },
  {
    "text": "behavior of a core API because you're",
    "start": "1294279",
    "end": "1295840"
  },
  {
    "text": "looking at overwriting it our core",
    "start": "1295840",
    "end": "1297559"
  },
  {
    "text": "health check that's where You' go to see",
    "start": "1297559",
    "end": "1299760"
  },
  {
    "text": "it if you want to contribute health",
    "start": "1299760",
    "end": "1302159"
  },
  {
    "text": "checks there's a nice cont contribution",
    "start": "1302159",
    "end": "1304559"
  },
  {
    "text": "guide and how to do it but it's",
    "start": "1304559",
    "end": "1306120"
  },
  {
    "text": "essentially just writing a health check",
    "start": "1306120",
    "end": "1307600"
  },
  {
    "text": "doing a PR in that folder I showed you",
    "start": "1307600",
    "end": "1309679"
  },
  {
    "text": "before this uh this first one submitting",
    "start": "1309679",
    "end": "1312760"
  },
  {
    "text": "it along with your test cases and you're",
    "start": "1312760",
    "end": "1314559"
  },
  {
    "text": "Off to the Races and getting in again if",
    "start": "1314559",
    "end": "1316480"
  },
  {
    "text": "you're writing operators for public",
    "start": "1316480",
    "end": "1317840"
  },
  {
    "text": "consumption you you should be doing this",
    "start": "1317840",
    "end": "1320080"
  },
  {
    "text": "and honestly is again kind of mini rant",
    "start": "1320080",
    "end": "1321799"
  },
  {
    "text": "at Red Hat I'm kind of fighting this",
    "start": "1321799",
    "end": "1323000"
  },
  {
    "text": "battle a little bit trying to convince",
    "start": "1323000",
    "end": "1324760"
  },
  {
    "text": "all the red hat operator teams that they",
    "start": "1324760",
    "end": "1326400"
  },
  {
    "text": "need to start doing this right now that",
    "start": "1326400",
    "end": "1328279"
  },
  {
    "text": "we're fully supporting Argo",
    "start": "1328279",
    "end": "1330679"
  },
  {
    "text": "CD all right so that brings me to the",
    "start": "1330679",
    "end": "1333440"
  },
  {
    "text": "end of the presentation do I have time",
    "start": "1333440",
    "end": "1335960"
  },
  {
    "text": "for",
    "start": "1335960",
    "end": "1337559"
  },
  {
    "text": "questions okay so we got a few minutes",
    "start": "1337559",
    "end": "1339640"
  },
  {
    "text": "for questions uh any",
    "start": "1339640",
    "end": "1344159"
  },
  {
    "text": "yep great presentation so a question",
    "start": "1351159",
    "end": "1353760"
  },
  {
    "text": "about the resource actions um you said",
    "start": "1353760",
    "end": "1357400"
  },
  {
    "text": "the user could click there and do clicky",
    "start": "1357400",
    "end": "1359400"
  },
  {
    "text": "clicky stuff uh do you allow users to",
    "start": "1359400",
    "end": "1362360"
  },
  {
    "text": "input something for example if I have to",
    "start": "1362360",
    "end": "1364760"
  },
  {
    "text": "do an annotation where some string part",
    "start": "1364760",
    "end": "1367480"
  },
  {
    "text": "of it should come from a user you know",
    "start": "1367480",
    "end": "1369440"
  },
  {
    "text": "that's a good question I have never had",
    "start": "1369440",
    "end": "1371240"
  },
  {
    "text": "to do it so I've never really thought",
    "start": "1371240",
    "end": "1372919"
  },
  {
    "text": "about it right but I'll tell you what",
    "start": "1372919",
    "end": "1374520"
  },
  {
    "text": "let me uh do a quick check I I want to",
    "start": "1374520",
    "end": "1376960"
  },
  {
    "text": "say no but I don't want to say no",
    "start": "1376960",
    "end": "1378919"
  },
  {
    "text": "without knowing for sure right so let me",
    "start": "1378919",
    "end": "1381120"
  },
  {
    "text": "have a look but I don't remember seeing",
    "start": "1381120",
    "end": "1382159"
  },
  {
    "text": "anything in the documentation about it",
    "start": "1382159",
    "end": "1383840"
  },
  {
    "text": "but having said that um Lou has a number",
    "start": "1383840",
    "end": "1386200"
  },
  {
    "text": "of libraries and I don't know if there's",
    "start": "1386200",
    "end": "1387640"
  },
  {
    "text": "some way to do it but I would suspect no",
    "start": "1387640",
    "end": "1389360"
  },
  {
    "text": "is the answer because the the resource",
    "start": "1389360",
    "end": "1391240"
  },
  {
    "text": "action actually executes in the back end",
    "start": "1391240",
    "end": "1393679"
  },
  {
    "text": "so unless you do something magical in",
    "start": "1393679",
    "end": "1396360"
  },
  {
    "text": "Discovery I'm not sure how you would",
    "start": "1396360",
    "end": "1397360"
  },
  {
    "text": "make that work so I think it's no but I",
    "start": "1397360",
    "end": "1399320"
  },
  {
    "text": "can I'll double check all right okay",
    "start": "1399320",
    "end": "1400880"
  },
  {
    "text": "thank you that was a long answer to a",
    "start": "1400880",
    "end": "1402840"
  },
  {
    "text": "short",
    "start": "1402840",
    "end": "1404039"
  },
  {
    "text": "question any other",
    "start": "1404039",
    "end": "1406000"
  },
  {
    "text": "questions oh I see Michael kensaw is",
    "start": "1406000",
    "end": "1408159"
  },
  {
    "text": "here he get answer that right",
    "start": "1408159",
    "end": "1410200"
  },
  {
    "text": "away ah thank you",
    "start": "1410200",
    "end": "1413679"
  },
  {
    "text": "Michael is there plans to support",
    "start": "1421120",
    "end": "1423880"
  },
  {
    "text": "something else besides Lua like for",
    "start": "1423880",
    "end": "1425919"
  },
  {
    "text": "example if the default H trucks her in",
    "start": "1425919",
    "end": "1427520"
  },
  {
    "text": "go is there a plan to support it in go",
    "start": "1427520",
    "end": "1431320"
  },
  {
    "text": "for example I don't know the answer to",
    "start": "1431320",
    "end": "1433320"
  },
  {
    "text": "that but again if M since Michael's",
    "start": "1433320",
    "end": "1434840"
  },
  {
    "text": "sitting right there I'll take advantage",
    "start": "1434840",
    "end": "1436159"
  },
  {
    "text": "of him and pick on him",
    "start": "1436159",
    "end": "1438559"
  },
  {
    "text": "probably",
    "start": "1438559",
    "end": "1440440"
  },
  {
    "text": "Nots uh probably not I think leis seems",
    "start": "1440440",
    "end": "1443360"
  },
  {
    "text": "to cover the use cases that we're",
    "start": "1443360",
    "end": "1444600"
  },
  {
    "text": "concerned with uh there are a few like",
    "start": "1444600",
    "end": "1447080"
  },
  {
    "text": "core resources that are implemented in",
    "start": "1447080",
    "end": "1448559"
  },
  {
    "text": "goang for reasons that predate my",
    "start": "1448559",
    "end": "1450799"
  },
  {
    "text": "knowledge of Argo CD as a project uh so",
    "start": "1450799",
    "end": "1454559"
  },
  {
    "text": "yeah as far as I know we're sticking",
    "start": "1454559",
    "end": "1455880"
  },
  {
    "text": "with just L for",
    "start": "1455880",
    "end": "1458760"
  },
  {
    "text": "custom yeah so uh",
    "start": "1466720",
    "end": "1468960"
  },
  {
    "text": "why just Lua I mean why not use basm or",
    "start": "1468960",
    "end": "1471320"
  },
  {
    "text": "something like everybody's crazy about F",
    "start": "1471320",
    "end": "1473440"
  },
  {
    "text": "Well I'm sure Michael Can Shed more",
    "start": "1473440",
    "end": "1474960"
  },
  {
    "text": "light on that but I'll give you my two",
    "start": "1474960",
    "end": "1476679"
  },
  {
    "text": "cents there's there's also the so having",
    "start": "1476679",
    "end": "1480279"
  },
  {
    "text": "options means more work for maintainers",
    "start": "1480279",
    "end": "1482720"
  },
  {
    "text": "right Lu is not a complicated",
    "start": "1482720",
    "end": "1484799"
  },
  {
    "text": "programming language it's very",
    "start": "1484799",
    "end": "1485799"
  },
  {
    "text": "straightforward there's a number of",
    "start": "1485799",
    "end": "1486799"
  },
  {
    "text": "other products that use load of as an",
    "start": "1486799",
    "end": "1488360"
  },
  {
    "text": "extension mechanism so it's very popular",
    "start": "1488360",
    "end": "1489960"
  },
  {
    "text": "in that space so from my point of view",
    "start": "1489960",
    "end": "1492120"
  },
  {
    "text": "it's like yeah you could add more stuff",
    "start": "1492120",
    "end": "1493559"
  },
  {
    "text": "but you're making more work for",
    "start": "1493559",
    "end": "1494520"
  },
  {
    "text": "everybody that could probably be better",
    "start": "1494520",
    "end": "1495720"
  },
  {
    "text": "spent on other things okay yeah Michael",
    "start": "1495720",
    "end": "1497880"
  },
  {
    "text": "got gave me the the thumbs up so",
    "start": "1497880",
    "end": "1501960"
  }
]