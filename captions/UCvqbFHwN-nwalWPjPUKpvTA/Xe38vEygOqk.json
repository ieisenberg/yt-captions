[
  {
    "start": "0",
    "end": "80000"
  },
  {
    "text": "good morning everyone today I'll be",
    "start": "120",
    "end": "1920"
  },
  {
    "text": "talking about running an API Gateway on",
    "start": "1920",
    "end": "4240"
  },
  {
    "text": "ISO our pitfalls and",
    "start": "4240",
    "end": "6839"
  },
  {
    "text": "learnings my name is kareim Lani I'm a",
    "start": "6839",
    "end": "10160"
  },
  {
    "text": "senior staff software engineer at Inuit",
    "start": "10160",
    "end": "13000"
  },
  {
    "text": "and I'm the technical lead of intuit's",
    "start": "13000",
    "end": "15000"
  },
  {
    "text": "API",
    "start": "15000",
    "end": "16560"
  },
  {
    "text": "Gateway so our agenda today is talking",
    "start": "16560",
    "end": "19279"
  },
  {
    "text": "about Intuit API Gateway why",
    "start": "19279",
    "end": "22599"
  },
  {
    "text": "inhouse why we migrated to Cloud native",
    "start": "22599",
    "end": "26679"
  },
  {
    "text": "Technologies um our architecture",
    "start": "26679",
    "end": "30800"
  },
  {
    "text": "and the pitfalls and learnings that",
    "start": "30800",
    "end": "32480"
  },
  {
    "text": "everyone's here",
    "start": "32480",
    "end": "33800"
  },
  {
    "text": "for so add into it we're leading the way",
    "start": "33800",
    "end": "37040"
  },
  {
    "text": "and building an AI native development",
    "start": "37040",
    "end": "39160"
  },
  {
    "text": "experience using Cloud native open",
    "start": "39160",
    "end": "41120"
  },
  {
    "text": "source",
    "start": "41120",
    "end": "42120"
  },
  {
    "text": "Technologies and this is some statistics",
    "start": "42120",
    "end": "44559"
  },
  {
    "text": "on our scale I'll call out $560 billion",
    "start": "44559",
    "end": "49120"
  },
  {
    "text": "of money",
    "start": "49120",
    "end": "50719"
  },
  {
    "text": "moved",
    "start": "50719",
    "end": "52600"
  },
  {
    "text": "and some more stats on this on our",
    "start": "52600",
    "end": "55800"
  },
  {
    "text": "developer environment that's built on",
    "start": "55800",
    "end": "57680"
  },
  {
    "text": "cloud native Technologies we're running",
    "start": "57680",
    "end": "60039"
  },
  {
    "text": "at Peak over 1 million cores CPU cores",
    "start": "60039",
    "end": "64000"
  },
  {
    "text": "2,000 Services all of which have",
    "start": "64000",
    "end": "66920"
  },
  {
    "text": "multiple apis one or more apis over",
    "start": "66920",
    "end": "70640"
  },
  {
    "text": "16,000 name spaces and over 1,000",
    "start": "70640",
    "end": "74200"
  },
  {
    "text": "teams and the API Gateway is the front",
    "start": "74200",
    "end": "77000"
  },
  {
    "text": "door to all this",
    "start": "77000",
    "end": "79159"
  },
  {
    "text": "infrastructure so the into an API",
    "start": "79159",
    "end": "81600"
  },
  {
    "start": "80000",
    "end": "197000"
  },
  {
    "text": "Gateway at a glance what is the role of",
    "start": "81600",
    "end": "84600"
  },
  {
    "text": "it so as I mentioned it's the front door",
    "start": "84600",
    "end": "87280"
  },
  {
    "text": "to all the requests coming in and it",
    "start": "87280",
    "end": "90119"
  },
  {
    "text": "also serves for a lot of servic TOS",
    "start": "90119",
    "end": "92119"
  },
  {
    "text": "service",
    "start": "92119",
    "end": "93479"
  },
  {
    "text": "communication um before recently in the",
    "start": "93479",
    "end": "96399"
  },
  {
    "text": "last few years we've adopted ISO service",
    "start": "96399",
    "end": "98560"
  },
  {
    "text": "mesh but before that there was a need",
    "start": "98560",
    "end": "101000"
  },
  {
    "text": "for servico service communication and we",
    "start": "101000",
    "end": "103399"
  },
  {
    "text": "actually used our API Gateway for that",
    "start": "103399",
    "end": "105280"
  },
  {
    "text": "as",
    "start": "105280",
    "end": "106159"
  },
  {
    "text": "well so it provides routing",
    "start": "106159",
    "end": "109880"
  },
  {
    "text": "security authentication and",
    "start": "109880",
    "end": "111840"
  },
  {
    "text": "authorization of both the client",
    "start": "111840",
    "end": "113920"
  },
  {
    "text": "application as well as the user metrics",
    "start": "113920",
    "end": "117680"
  },
  {
    "text": "and dashboards including our golden",
    "start": "117680",
    "end": "119920"
  },
  {
    "text": "signals which provides availability",
    "start": "119920",
    "end": "123039"
  },
  {
    "text": "latency metrics for every service on API",
    "start": "123039",
    "end": "126360"
  },
  {
    "text": "Gateway very detailed access logging and",
    "start": "126360",
    "end": "130599"
  },
  {
    "text": "quality of service features including",
    "start": "130599",
    "end": "132560"
  },
  {
    "text": "rate limiting and traffic",
    "start": "132560",
    "end": "135920"
  },
  {
    "text": "dialing so the benefits and stats of our",
    "start": "135920",
    "end": "138480"
  },
  {
    "text": "API Gateway it's highly scalable we run",
    "start": "138480",
    "end": "142720"
  },
  {
    "text": "over 30 billion requests per day at Peak",
    "start": "142720",
    "end": "145599"
  },
  {
    "text": "and over 1 million requests per second",
    "start": "145599",
    "end": "148519"
  },
  {
    "text": "and we scale up to about ,000 pods",
    "start": "148519",
    "end": "150959"
  },
  {
    "text": "across all of our environments at Peak",
    "start": "150959",
    "end": "153800"
  },
  {
    "text": "it's highly available um there's no room",
    "start": "153800",
    "end": "156160"
  },
  {
    "text": "for downtime really so we have four",
    "start": "156160",
    "end": "158480"
  },
  {
    "text": "nines of availability at the minute",
    "start": "158480",
    "end": "161159"
  },
  {
    "text": "level it's highly reliable as I",
    "start": "161159",
    "end": "163560"
  },
  {
    "text": "mentioned it's the source of the golden",
    "start": "163560",
    "end": "165319"
  },
  {
    "text": "signal metric so it can't be wrong um",
    "start": "165319",
    "end": "168720"
  },
  {
    "text": "when it says that a service has a",
    "start": "168720",
    "end": "170239"
  },
  {
    "text": "certain error rate or certain latency",
    "start": "170239",
    "end": "172720"
  },
  {
    "text": "has to be",
    "start": "172720",
    "end": "173879"
  },
  {
    "text": "trusted it has to be a low latency so we",
    "start": "173879",
    "end": "177200"
  },
  {
    "text": "look at targeting um 30 milliseconds at",
    "start": "177200",
    "end": "179519"
  },
  {
    "text": "the P99 for our",
    "start": "179519",
    "end": "183200"
  },
  {
    "text": "overhead and it has very deep",
    "start": "183200",
    "end": "185519"
  },
  {
    "text": "self-service management uh through our",
    "start": "185519",
    "end": "187879"
  },
  {
    "text": "developer portal uh the onboarding",
    "start": "187879",
    "end": "190519"
  },
  {
    "text": "experience as well as the configuration",
    "start": "190519",
    "end": "192280"
  },
  {
    "text": "management experience is all integrated",
    "start": "192280",
    "end": "194799"
  },
  {
    "text": "into",
    "start": "194799",
    "end": "196840"
  },
  {
    "text": "there so why in-house",
    "start": "196840",
    "end": "199879"
  },
  {
    "start": "197000",
    "end": "514000"
  },
  {
    "text": "development uh our apeg gway started",
    "start": "199879",
    "end": "202280"
  },
  {
    "text": "about 11 years ago and when we were",
    "start": "202280",
    "end": "205080"
  },
  {
    "text": "still in into a data center at that time",
    "start": "205080",
    "end": "207480"
  },
  {
    "text": "we had a need to move towards microsof",
    "start": "207480",
    "end": "209760"
  },
  {
    "text": "services from our monolithic",
    "start": "209760",
    "end": "212200"
  },
  {
    "text": "architecture and so at that time there",
    "start": "212200",
    "end": "214799"
  },
  {
    "text": "were not too many open- Source options",
    "start": "214799",
    "end": "217720"
  },
  {
    "text": "the ones that were available were not",
    "start": "217720",
    "end": "219920"
  },
  {
    "text": "highly performant as we needed and so we",
    "start": "219920",
    "end": "223040"
  },
  {
    "text": "felt that we could build our own and um",
    "start": "223040",
    "end": "226080"
  },
  {
    "text": "we saw a value in being able to",
    "start": "226080",
    "end": "227799"
  },
  {
    "text": "customize it to fit our needs so we",
    "start": "227799",
    "end": "230439"
  },
  {
    "text": "built our own API Gateway and then over",
    "start": "230439",
    "end": "233319"
  },
  {
    "text": "the last 11 years we've made a lot of",
    "start": "233319",
    "end": "235959"
  },
  {
    "text": "customizations as we anticipated",
    "start": "235959",
    "end": "238519"
  },
  {
    "text": "including uh deep integration with our",
    "start": "238519",
    "end": "240560"
  },
  {
    "text": "identity providers uh we do a ticket",
    "start": "240560",
    "end": "243640"
  },
  {
    "text": "exchange and as well as a lot of",
    "start": "243640",
    "end": "245760"
  },
  {
    "text": "features to support different business",
    "start": "245760",
    "end": "248000"
  },
  {
    "text": "use cases such as fraud detection and",
    "start": "248000",
    "end": "251319"
  },
  {
    "text": "traffic capture so our approach is very",
    "start": "251319",
    "end": "255920"
  },
  {
    "text": "similar to Netflix Zu 2 and AWS API gway",
    "start": "255920",
    "end": "260479"
  },
  {
    "text": "we use the non-blocking and asynchronous",
    "start": "260479",
    "end": "263199"
  },
  {
    "text": "architecture which uh is written in Java",
    "start": "263199",
    "end": "266360"
  },
  {
    "text": "and one of the differences is that it's",
    "start": "266360",
    "end": "268680"
  },
  {
    "text": "has partitioning built in as a first",
    "start": "268680",
    "end": "270840"
  },
  {
    "text": "class feature so our partitioning is",
    "start": "270840",
    "end": "273520"
  },
  {
    "text": "really key in the control plane we have",
    "start": "273520",
    "end": "275960"
  },
  {
    "text": "partitioning logically in the data and",
    "start": "275960",
    "end": "278680"
  },
  {
    "text": "then in the data plane we have",
    "start": "278680",
    "end": "280199"
  },
  {
    "text": "partitioning in the computer and the",
    "start": "280199",
    "end": "282080"
  },
  {
    "text": "network so that way we're able to",
    "start": "282080",
    "end": "284360"
  },
  {
    "text": "isolate workloads such as QuickBooks",
    "start": "284360",
    "end": "286600"
  },
  {
    "text": "Turbo Tax MailChimp Credit Karma into",
    "start": "286600",
    "end": "289680"
  },
  {
    "text": "their dedicated infrastructure and keep",
    "start": "289680",
    "end": "291800"
  },
  {
    "text": "all the data separate as well as the",
    "start": "291800",
    "end": "294320"
  },
  {
    "text": "compute and then compared to AWS API",
    "start": "294320",
    "end": "297080"
  },
  {
    "text": "Gateway we have more relaxed quotas so",
    "start": "297080",
    "end": "300039"
  },
  {
    "text": "we allow longer timeouts uh and larger",
    "start": "300039",
    "end": "302840"
  },
  {
    "text": "request and response",
    "start": "302840",
    "end": "305400"
  },
  {
    "text": "payloads so as I mentioned we started in",
    "start": "305400",
    "end": "308199"
  },
  {
    "text": "the data center and then we did a lift",
    "start": "308199",
    "end": "310600"
  },
  {
    "text": "and shift into AWS cloud and then after",
    "start": "310600",
    "end": "314080"
  },
  {
    "text": "a few years we started considering",
    "start": "314080",
    "end": "315800"
  },
  {
    "text": "should we move to Cloud native",
    "start": "315800",
    "end": "317680"
  },
  {
    "text": "Technologies and so I'll talk about why",
    "start": "317680",
    "end": "319680"
  },
  {
    "text": "we decided to do that the first step the",
    "start": "319680",
    "end": "322960"
  },
  {
    "text": "first reason is ISO so we wanted",
    "start": "322960",
    "end": "326039"
  },
  {
    "text": "integration with the service mesh right",
    "start": "326039",
    "end": "328199"
  },
  {
    "text": "the service mesh came about 3 years ago",
    "start": "328199",
    "end": "331280"
  },
  {
    "text": "and our AP gway was standing alone from",
    "start": "331280",
    "end": "333880"
  },
  {
    "text": "that it wasn't really connected to it",
    "start": "333880",
    "end": "336319"
  },
  {
    "text": "and this put an extra burden on the",
    "start": "336319",
    "end": "337960"
  },
  {
    "text": "service developers to support traffic",
    "start": "337960",
    "end": "340360"
  },
  {
    "text": "coming in from Gateway and from the mesh",
    "start": "340360",
    "end": "343720"
  },
  {
    "text": "as well as us implementing special",
    "start": "343720",
    "end": "345720"
  },
  {
    "text": "mechanisms to establish trust between",
    "start": "345720",
    "end": "348000"
  },
  {
    "text": "our Gateway and the mesh so we wanted to",
    "start": "348000",
    "end": "351160"
  },
  {
    "text": "have a deep connection between those",
    "start": "351160",
    "end": "352840"
  },
  {
    "text": "Technologies and that would improve our",
    "start": "352840",
    "end": "354800"
  },
  {
    "text": "security reliability and",
    "start": "354800",
    "end": "357720"
  },
  {
    "text": "observability it would also reduce our",
    "start": "357720",
    "end": "359720"
  },
  {
    "text": "data transfer costs because we are",
    "start": "359720",
    "end": "361680"
  },
  {
    "text": "relying on public internet to move these",
    "start": "361680",
    "end": "364680"
  },
  {
    "text": "bytes and with sto we can go uh through",
    "start": "364680",
    "end": "367319"
  },
  {
    "text": "a private",
    "start": "367319",
    "end": "368639"
  },
  {
    "text": "networking additionally we are looking",
    "start": "368639",
    "end": "370880"
  },
  {
    "text": "to enable Network abstraction which is",
    "start": "370880",
    "end": "373800"
  },
  {
    "text": "our way for the client developer that",
    "start": "373800",
    "end": "376639"
  },
  {
    "text": "regardless of whether they're calling an",
    "start": "376639",
    "end": "378240"
  },
  {
    "text": "API Gateway endpoint or a mesh endpoint",
    "start": "378240",
    "end": "381319"
  },
  {
    "text": "it's the same experience so before this",
    "start": "381319",
    "end": "384560"
  },
  {
    "text": "you would call a Gateway endpoint using",
    "start": "384560",
    "end": "386800"
  },
  {
    "text": "a doom using a certain Authentication",
    "start": "386800",
    "end": "390240"
  },
  {
    "text": "protocol and with mesh you would use a",
    "start": "390240",
    "end": "392680"
  },
  {
    "text": "different one so we wanted to unify that",
    "start": "392680",
    "end": "396440"
  },
  {
    "text": "experience next we wanted to improve our",
    "start": "396440",
    "end": "398960"
  },
  {
    "text": "observability now we had metrics we had",
    "start": "398960",
    "end": "401800"
  },
  {
    "text": "logging however there were gaps in it",
    "start": "401800",
    "end": "404599"
  },
  {
    "text": "and um we were using some Legacy",
    "start": "404599",
    "end": "406720"
  },
  {
    "text": "Technologies which were causing quite a",
    "start": "406720",
    "end": "408479"
  },
  {
    "text": "lot of overhead uh development wise and",
    "start": "408479",
    "end": "411360"
  },
  {
    "text": "deployment",
    "start": "411360",
    "end": "412639"
  },
  {
    "text": "wise um so we saw an opportunity to",
    "start": "412639",
    "end": "415360"
  },
  {
    "text": "improve that with Prometheus and other",
    "start": "415360",
    "end": "417319"
  },
  {
    "text": "Cloud native Technologies additionally",
    "start": "417319",
    "end": "420800"
  },
  {
    "text": "we had uh our cost analytics were rather",
    "start": "420800",
    "end": "424599"
  },
  {
    "text": "complicated it was built all custom the",
    "start": "424599",
    "end": "427960"
  },
  {
    "text": "the chargeback model that we have and",
    "start": "427960",
    "end": "430000"
  },
  {
    "text": "how we report on that so we saw an",
    "start": "430000",
    "end": "432360"
  },
  {
    "text": "opportunity there with better isolation",
    "start": "432360",
    "end": "434520"
  },
  {
    "text": "of workloads uh with kubernetes clusters",
    "start": "434520",
    "end": "437440"
  },
  {
    "text": "with name spaces to get clarity on",
    "start": "437440",
    "end": "440720"
  },
  {
    "text": "that and then finally we wanted to take",
    "start": "440720",
    "end": "443840"
  },
  {
    "text": "advantage of into its's modern SAS",
    "start": "443840",
    "end": "446560"
  },
  {
    "text": "platform which in the last few years",
    "start": "446560",
    "end": "448720"
  },
  {
    "text": "we've been",
    "start": "448720",
    "end": "449840"
  },
  {
    "text": "um building on so you know we wanted to",
    "start": "449840",
    "end": "452599"
  },
  {
    "text": "take advantage of these Cloud native",
    "start": "452599",
    "end": "454000"
  },
  {
    "text": "Technologies such as Argo CD Argo",
    "start": "454000",
    "end": "456400"
  },
  {
    "text": "rollouts Argo",
    "start": "456400",
    "end": "458120"
  },
  {
    "text": "workflows and ISO service mesh which is",
    "start": "458120",
    "end": "460800"
  },
  {
    "text": "built on esto in service mesh which is",
    "start": "460800",
    "end": "463639"
  },
  {
    "text": "built on esto and",
    "start": "463639",
    "end": "465560"
  },
  {
    "text": "Admiral um so we were seeing issues you",
    "start": "465560",
    "end": "468639"
  },
  {
    "text": "know with our custom scripts our custom",
    "start": "468639",
    "end": "470759"
  },
  {
    "text": "deployment it was hard for new team",
    "start": "470759",
    "end": "472560"
  },
  {
    "text": "members to join and get onboarded we saw",
    "start": "472560",
    "end": "475560"
  },
  {
    "text": "an opportunity there to improve so that",
    "start": "475560",
    "end": "477759"
  },
  {
    "text": "we could be on the same technology stack",
    "start": "477759",
    "end": "479759"
  },
  {
    "text": "as other services add into",
    "start": "479759",
    "end": "482639"
  },
  {
    "text": "it and add into it we believe deeply in",
    "start": "482639",
    "end": "485479"
  },
  {
    "text": "open source and open collaboration so",
    "start": "485479",
    "end": "487840"
  },
  {
    "text": "we're the recipient of the end user",
    "start": "487840",
    "end": "489520"
  },
  {
    "text": "award in 2019 and",
    "start": "489520",
    "end": "491879"
  },
  {
    "text": "2022 and we also have various open",
    "start": "491879",
    "end": "494479"
  },
  {
    "text": "source projects that we've created and",
    "start": "494479",
    "end": "496080"
  },
  {
    "text": "we maintain including numao Admiral uh",
    "start": "496080",
    "end": "501360"
  },
  {
    "text": "Argo and we're the end user of multiple",
    "start": "501360",
    "end": "504400"
  },
  {
    "text": "open source and Cloud native",
    "start": "504400",
    "end": "505759"
  },
  {
    "text": "Technologies including kubernetes sdo",
    "start": "505759",
    "end": "508120"
  },
  {
    "text": "and Envoy so there's a link here for our",
    "start": "508120",
    "end": "510800"
  },
  {
    "text": "open source Community if you'd like to",
    "start": "510800",
    "end": "513599"
  },
  {
    "text": "join so quickly I'll go through our API",
    "start": "513599",
    "end": "516120"
  },
  {
    "start": "514000",
    "end": "644000"
  },
  {
    "text": "gway architecture before I get into the",
    "start": "516120",
    "end": "518279"
  },
  {
    "text": "pitfalls and learnings on our journey to",
    "start": "518279",
    "end": "521080"
  },
  {
    "text": "migrate so it all starts with our mobile",
    "start": "521080",
    "end": "523760"
  },
  {
    "text": "applications our web apps our",
    "start": "523760",
    "end": "526320"
  },
  {
    "text": "users and they make requests to various",
    "start": "526320",
    "end": "529480"
  },
  {
    "text": "apis as I mentioned there's 2,000 plus",
    "start": "529480",
    "end": "531920"
  },
  {
    "text": "different apis that into it not all user",
    "start": "531920",
    "end": "534920"
  },
  {
    "text": "facing but um that all comes through our",
    "start": "534920",
    "end": "537880"
  },
  {
    "text": "API Gateway",
    "start": "537880",
    "end": "539839"
  },
  {
    "text": "and so our AP Gateway will have multiple",
    "start": "539839",
    "end": "541760"
  },
  {
    "text": "apis that it's serving it's uh in",
    "start": "541760",
    "end": "544399"
  },
  {
    "text": "kubernetes and ISO",
    "start": "544399",
    "end": "546480"
  },
  {
    "text": "enabled now we use Admiral which is our",
    "start": "546480",
    "end": "549120"
  },
  {
    "text": "open- source multicluster service mesh",
    "start": "549120",
    "end": "552000"
  },
  {
    "text": "solution to inject all the configuration",
    "start": "552000",
    "end": "554839"
  },
  {
    "text": "for all the different clusters add into",
    "start": "554839",
    "end": "556920"
  },
  {
    "text": "it so that API Gateway knows how to",
    "start": "556920",
    "end": "559160"
  },
  {
    "text": "route the request to the right cluster",
    "start": "559160",
    "end": "561279"
  },
  {
    "text": "and to the right",
    "start": "561279",
    "end": "562480"
  },
  {
    "text": "service so from there we're able to",
    "start": "562480",
    "end": "565360"
  },
  {
    "text": "Route the request to the API that was",
    "start": "565360",
    "end": "568279"
  },
  {
    "text": "it's supposed to be men for and then",
    "start": "568279",
    "end": "570880"
  },
  {
    "text": "from there the services can talk to each",
    "start": "570880",
    "end": "572880"
  },
  {
    "text": "other through the service mesh so that's",
    "start": "572880",
    "end": "575680"
  },
  {
    "text": "a highle view of our architecture and as",
    "start": "575680",
    "end": "578440"
  },
  {
    "text": "I mentioned Admiral provides the",
    "start": "578440",
    "end": "580360"
  },
  {
    "text": "automatic configuration and service",
    "start": "580360",
    "end": "582560"
  },
  {
    "text": "Discovery because we have a multicluster",
    "start": "582560",
    "end": "586800"
  },
  {
    "text": "architecture and a little bit deeper",
    "start": "587600",
    "end": "589519"
  },
  {
    "text": "look at that so in our control plane",
    "start": "589519",
    "end": "591680"
  },
  {
    "text": "which is STO based we have estd which",
    "start": "591680",
    "end": "594120"
  },
  {
    "text": "has the envoy config and kubernetes",
    "start": "594120",
    "end": "596079"
  },
  {
    "text": "config we use Argo for our rollouts and",
    "start": "596079",
    "end": "599600"
  },
  {
    "text": "then we have Admiral which is pushing",
    "start": "599600",
    "end": "601279"
  },
  {
    "text": "all this multicluster config into ISO we",
    "start": "601279",
    "end": "604480"
  },
  {
    "text": "also have a cerman component which is",
    "start": "604480",
    "end": "606480"
  },
  {
    "text": "responsible for the certificate",
    "start": "606480",
    "end": "608560"
  },
  {
    "text": "management and then in our data plane we",
    "start": "608560",
    "end": "611959"
  },
  {
    "text": "accept request both from a public load",
    "start": "611959",
    "end": "614079"
  },
  {
    "text": "balancer and esto Ingress Gateway and",
    "start": "614079",
    "end": "617760"
  },
  {
    "text": "the requests come into our API Gateway",
    "start": "617760",
    "end": "620160"
  },
  {
    "text": "through our Envoy",
    "start": "620160",
    "end": "621760"
  },
  {
    "text": "proxy um we have a mtls agent which is",
    "start": "621760",
    "end": "624959"
  },
  {
    "text": "managing the mtls",
    "start": "624959",
    "end": "626880"
  },
  {
    "text": "Sears and then we are able to use mtls",
    "start": "626880",
    "end": "629920"
  },
  {
    "text": "to call out to our backend Services very",
    "start": "629920",
    "end": "632680"
  },
  {
    "text": "securely and through using private",
    "start": "632680",
    "end": "635160"
  },
  {
    "text": "networking um and that way we're able to",
    "start": "635160",
    "end": "637760"
  },
  {
    "text": "have a a very secure and reliable",
    "start": "637760",
    "end": "642279"
  },
  {
    "start": "644000",
    "end": "732000"
  },
  {
    "text": "communication so now moving on to our",
    "start": "644240",
    "end": "646240"
  },
  {
    "text": "pitfalls and learnings I'll list them",
    "start": "646240",
    "end": "647760"
  },
  {
    "text": "out here and go into more detail so I'll",
    "start": "647760",
    "end": "651160"
  },
  {
    "text": "be talking about esto sidecar in hybrid",
    "start": "651160",
    "end": "653560"
  },
  {
    "text": "mode graceful shutdown configuration",
    "start": "653560",
    "end": "657360"
  },
  {
    "text": "overload outlier detection and auto",
    "start": "657360",
    "end": "660720"
  },
  {
    "text": "scaling and",
    "start": "660720",
    "end": "662880"
  },
  {
    "text": "resources so starting with ISO inside",
    "start": "662880",
    "end": "666600"
  },
  {
    "text": "car mode so in most sto deployments",
    "start": "666600",
    "end": "669440"
  },
  {
    "text": "traffic comes into the cluster through",
    "start": "669440",
    "end": "671120"
  },
  {
    "text": "the Ingress Gateway which does a TLS",
    "start": "671120",
    "end": "673920"
  },
  {
    "text": "termination and then mtls is established",
    "start": "673920",
    "end": "676760"
  },
  {
    "text": "between the esto Ingress Gateway and the",
    "start": "676760",
    "end": "679720"
  },
  {
    "text": "the esto proxy itself now our API gway",
    "start": "679720",
    "end": "683519"
  },
  {
    "text": "supported a Al Ingress as well and we",
    "start": "683519",
    "end": "686160"
  },
  {
    "text": "wanted to continue supporting an ALB",
    "start": "686160",
    "end": "688160"
  },
  {
    "text": "Ingress for our that's where all our",
    "start": "688160",
    "end": "690560"
  },
  {
    "text": "certificates were",
    "start": "690560",
    "end": "692079"
  },
  {
    "text": "installed so we wanted we didn't want",
    "start": "692079",
    "end": "695639"
  },
  {
    "text": "two different envoys we wanted one Envoy",
    "start": "695639",
    "end": "697720"
  },
  {
    "text": "that can do both mtls with the sdo",
    "start": "697720",
    "end": "700079"
  },
  {
    "text": "Ingress Gateway and TLS with the ALB and",
    "start": "700079",
    "end": "703240"
  },
  {
    "text": "that wasn't",
    "start": "703240",
    "end": "704399"
  },
  {
    "text": "supported so we worked with the stdo",
    "start": "704399",
    "end": "707440"
  },
  {
    "text": "team to uh make a open contribution to",
    "start": "707440",
    "end": "710120"
  },
  {
    "text": "the sidecar API with a new property TLS",
    "start": "710120",
    "end": "714320"
  },
  {
    "text": "that's allows us to support both TLS",
    "start": "714320",
    "end": "716880"
  },
  {
    "text": "termination on the sdo proxy as well as",
    "start": "716880",
    "end": "719920"
  },
  {
    "text": "mtls all on one port so for more details",
    "start": "719920",
    "end": "724079"
  },
  {
    "text": "I have here listed this CFC which goes",
    "start": "724079",
    "end": "726600"
  },
  {
    "text": "into the configuration but it's just a",
    "start": "726600",
    "end": "729040"
  },
  {
    "text": "few configurations needed to set that",
    "start": "729040",
    "end": "732399"
  },
  {
    "start": "732000",
    "end": "814000"
  },
  {
    "text": "up next we have graceful shutdown now",
    "start": "732399",
    "end": "736079"
  },
  {
    "text": "this is not exactly purely a ntio",
    "start": "736079",
    "end": "738399"
  },
  {
    "text": "problem but we faced a more complication",
    "start": "738399",
    "end": "741160"
  },
  {
    "text": "with this Deo so as we started rolling",
    "start": "741160",
    "end": "743440"
  },
  {
    "text": "out our API Gateway with",
    "start": "743440",
    "end": "745839"
  },
  {
    "text": "kubernetes uh as we were scaling down we",
    "start": "745839",
    "end": "749079"
  },
  {
    "text": "errors sometimes and we found out okay",
    "start": "749079",
    "end": "751399"
  },
  {
    "text": "there's a lot of different settings that",
    "start": "751399",
    "end": "753639"
  },
  {
    "text": "have to be set up exactly correctly to",
    "start": "753639",
    "end": "756040"
  },
  {
    "text": "have a graceful shutdown so in our case",
    "start": "756040",
    "end": "758279"
  },
  {
    "text": "we had idle Timeout on our load balancer",
    "start": "758279",
    "end": "761279"
  },
  {
    "text": "we had a pre-stop on the container which",
    "start": "761279",
    "end": "763519"
  },
  {
    "text": "could sleep uh we had a termination",
    "start": "763519",
    "end": "766760"
  },
  {
    "text": "grace period on the sto proxy we had a",
    "start": "766760",
    "end": "769120"
  },
  {
    "text": "termination grace period on the",
    "start": "769120",
    "end": "771279"
  },
  {
    "text": "container and we had a Target Group D",
    "start": "771279",
    "end": "773760"
  },
  {
    "text": "registration delay so we had to do a",
    "start": "773760",
    "end": "776680"
  },
  {
    "text": "deep dive and uh understand what all",
    "start": "776680",
    "end": "778639"
  },
  {
    "text": "these configurations do how to configure",
    "start": "778639",
    "end": "781600"
  },
  {
    "text": "them correctly and uh this is what we",
    "start": "781600",
    "end": "784800"
  },
  {
    "text": "ended up settling on we have a Max",
    "start": "784800",
    "end": "787639"
  },
  {
    "text": "Timeout on our Gateway of about 5",
    "start": "787639",
    "end": "789440"
  },
  {
    "text": "minutes on most of our workloads on some",
    "start": "789440",
    "end": "792040"
  },
  {
    "text": "of our workloads we do allow longer",
    "start": "792040",
    "end": "794800"
  },
  {
    "text": "timeouts but this is what we ended up",
    "start": "794800",
    "end": "797120"
  },
  {
    "text": "settling on so this way the requests",
    "start": "797120",
    "end": "799079"
  },
  {
    "text": "stop coming to Gateway when a when a pod",
    "start": "799079",
    "end": "801440"
  },
  {
    "text": "is being",
    "start": "801440",
    "end": "802560"
  },
  {
    "text": "deregistered and we give enough time for",
    "start": "802560",
    "end": "804839"
  },
  {
    "text": "requests andlight request to finish",
    "start": "804839",
    "end": "807279"
  },
  {
    "text": "before we start terminating the the",
    "start": "807279",
    "end": "809920"
  },
  {
    "text": "workload like the Pod and the",
    "start": "809920",
    "end": "813519"
  },
  {
    "text": "containers next one is configuration",
    "start": "813800",
    "end": "816959"
  },
  {
    "start": "814000",
    "end": "882000"
  },
  {
    "text": "overload so as I mentioned we have a lot",
    "start": "816959",
    "end": "820480"
  },
  {
    "text": "of services into it API Gateway has a",
    "start": "820480",
    "end": "823279"
  },
  {
    "text": "lot of clusters and we have partitioning",
    "start": "823279",
    "end": "826320"
  },
  {
    "text": "built in to our data plane but not in",
    "start": "826320",
    "end": "828800"
  },
  {
    "text": "the sto in the sto world so without",
    "start": "828800",
    "end": "832279"
  },
  {
    "text": "partitioning in the iso world all the",
    "start": "832279",
    "end": "834759"
  },
  {
    "text": "configurations are delivered to every",
    "start": "834759",
    "end": "836720"
  },
  {
    "text": "single Gateway but every single gayway",
    "start": "836720",
    "end": "839199"
  },
  {
    "text": "doesn't exactly talk to every single",
    "start": "839199",
    "end": "841399"
  },
  {
    "text": "service so this was a area of uh",
    "start": "841399",
    "end": "844560"
  },
  {
    "text": "Improvement for us we were getting a lot",
    "start": "844560",
    "end": "846399"
  },
  {
    "text": "of data transfer from stod to sto proxy",
    "start": "846399",
    "end": "850079"
  },
  {
    "text": "it was going cross a and even during a",
    "start": "850079",
    "end": "853040"
  },
  {
    "text": "scale up we saw CPU Spike because of",
    "start": "853040",
    "end": "856360"
  },
  {
    "text": "this so to uh resolve this we started",
    "start": "856360",
    "end": "860880"
  },
  {
    "text": "implementing a partitioning logic into",
    "start": "860880",
    "end": "862920"
  },
  {
    "text": "our Admiral so that way the API gway",
    "start": "862920",
    "end": "866320"
  },
  {
    "text": "only gets the config that it needs to so",
    "start": "866320",
    "end": "868839"
  },
  {
    "text": "Admiral knows about the partitioning of",
    "start": "868839",
    "end": "871440"
  },
  {
    "text": "the data in our control plane in our",
    "start": "871440",
    "end": "874040"
  },
  {
    "text": "registry and it's able to use that to",
    "start": "874040",
    "end": "876360"
  },
  {
    "text": "make sure that Gateway doesn't load all",
    "start": "876360",
    "end": "878560"
  },
  {
    "text": "the config for every service in the",
    "start": "878560",
    "end": "882320"
  },
  {
    "start": "882000",
    "end": "946000"
  },
  {
    "text": "mesh next we have outlier detection so",
    "start": "882519",
    "end": "886240"
  },
  {
    "text": "in ISO there's a nice feature called",
    "start": "886240",
    "end": "888000"
  },
  {
    "text": "outlier detection which is a circuit",
    "start": "888000",
    "end": "889800"
  },
  {
    "text": "breaker which tracks the status of every",
    "start": "889800",
    "end": "892480"
  },
  {
    "text": "host and how that host is doing so that",
    "start": "892480",
    "end": "895639"
  },
  {
    "text": "if it becomes unhealthy you can stop",
    "start": "895639",
    "end": "897720"
  },
  {
    "text": "talking to it",
    "start": "897720",
    "end": "899519"
  },
  {
    "text": "however in our Gateway we are talking to",
    "start": "899519",
    "end": "901800"
  },
  {
    "text": "500 different services on one pod so",
    "start": "901800",
    "end": "905399"
  },
  {
    "text": "every every service that we talk to",
    "start": "905399",
    "end": "907240"
  },
  {
    "text": "might only get a few requests and so",
    "start": "907240",
    "end": "909800"
  },
  {
    "text": "it's hard to set a certain number of",
    "start": "909800",
    "end": "912480"
  },
  {
    "text": "failures that will trigger the circuit",
    "start": "912480",
    "end": "914759"
  },
  {
    "text": "breaker and so what happens is a certain",
    "start": "914759",
    "end": "917720"
  },
  {
    "text": "host on the back end might be unhealthy",
    "start": "917720",
    "end": "920199"
  },
  {
    "text": "but we don't know about it we continue",
    "start": "920199",
    "end": "921920"
  },
  {
    "text": "sending it",
    "start": "921920",
    "end": "923720"
  },
  {
    "text": "requests now this is something that we",
    "start": "923720",
    "end": "925920"
  },
  {
    "text": "still need to work on so it's a work in",
    "start": "925920",
    "end": "928680"
  },
  {
    "text": "progress um but we need to extend this",
    "start": "928680",
    "end": "930680"
  },
  {
    "text": "and optimize it to work with this",
    "start": "930680",
    "end": "932319"
  },
  {
    "text": "workload um we're exploring Active",
    "start": "932319",
    "end": "934480"
  },
  {
    "text": "Health checking or some type of global",
    "start": "934480",
    "end": "937399"
  },
  {
    "text": "circuit breaker type of implementation",
    "start": "937399",
    "end": "939440"
  },
  {
    "text": "because uh you know obviously when a",
    "start": "939440",
    "end": "941680"
  },
  {
    "text": "back end is unhealthy we want to stop",
    "start": "941680",
    "end": "943360"
  },
  {
    "text": "talking to",
    "start": "943360",
    "end": "945920"
  },
  {
    "text": "it next autoscaling and resource limits",
    "start": "945920",
    "end": "949120"
  },
  {
    "start": "946000",
    "end": "1044000"
  },
  {
    "text": "again this is a common problem with",
    "start": "949120",
    "end": "950680"
  },
  {
    "text": "kubernetes and we uh face more issues",
    "start": "950680",
    "end": "954040"
  },
  {
    "text": "with this steo proxy here",
    "start": "954040",
    "end": "956720"
  },
  {
    "text": "so first of all our Gateway has to be",
    "start": "956720",
    "end": "959480"
  },
  {
    "text": "rapidly scaling to handle surges of",
    "start": "959480",
    "end": "962079"
  },
  {
    "text": "traffic load tests we can't really",
    "start": "962079",
    "end": "964319"
  },
  {
    "text": "control the traffic coming in so our HPA",
    "start": "964319",
    "end": "967279"
  },
  {
    "text": "has to be very",
    "start": "967279",
    "end": "968720"
  },
  {
    "text": "optimized and um we originally went with",
    "start": "968720",
    "end": "971639"
  },
  {
    "text": "a HPA implementation but saw that it was",
    "start": "971639",
    "end": "974839"
  },
  {
    "text": "either over over scaling or um",
    "start": "974839",
    "end": "979279"
  },
  {
    "text": "oscillating in scaling and we also saw",
    "start": "979279",
    "end": "982199"
  },
  {
    "text": "challenges with the we were using the",
    "start": "982199",
    "end": "984680"
  },
  {
    "text": "average CPU of the containers on the Pod",
    "start": "984680",
    "end": "988319"
  },
  {
    "text": "and that wasn't really a great metric to",
    "start": "988319",
    "end": "990279"
  },
  {
    "text": "scale on because ISO CPU was fairly low",
    "start": "990279",
    "end": "993480"
  },
  {
    "text": "while our application CPU was fairly",
    "start": "993480",
    "end": "995519"
  },
  {
    "text": "high and so the average wasn't there to",
    "start": "995519",
    "end": "998319"
  },
  {
    "text": "trigger the scaling so we were basically",
    "start": "998319",
    "end": "1001759"
  },
  {
    "text": "scaling on the average which was the",
    "start": "1001759",
    "end": "1003519"
  },
  {
    "text": "default in our workload so the solution",
    "start": "1003519",
    "end": "1006279"
  },
  {
    "text": "is to understand the metrics understand",
    "start": "1006279",
    "end": "1009079"
  },
  {
    "text": "which metrics you want to scale on",
    "start": "1009079",
    "end": "1010800"
  },
  {
    "text": "whether it's the application CPU the Pod",
    "start": "1010800",
    "end": "1013560"
  },
  {
    "text": "average CPU sdo CPU on your workload and",
    "start": "1013560",
    "end": "1018040"
  },
  {
    "text": "in our case we use now multiple metrics",
    "start": "1018040",
    "end": "1020240"
  },
  {
    "text": "so we use both the average and the Pod",
    "start": "1020240",
    "end": "1022360"
  },
  {
    "text": "level",
    "start": "1022360",
    "end": "1023480"
  },
  {
    "text": "CPU and another thing is we we weren't",
    "start": "1023480",
    "end": "1026240"
  },
  {
    "text": "happy with the HPA implementation for",
    "start": "1026240",
    "end": "1028160"
  },
  {
    "text": "our workload so we actually have uh",
    "start": "1028160",
    "end": "1031160"
  },
  {
    "text": "extension of that called uh step scaling",
    "start": "1031160",
    "end": "1034600"
  },
  {
    "text": "which basically generates a synthetic",
    "start": "1034600",
    "end": "1036880"
  },
  {
    "text": "metric based on how much we're above the",
    "start": "1036880",
    "end": "1039438"
  },
  {
    "text": "target CPU so if we're for",
    "start": "1039439",
    "end": "1042839"
  },
  {
    "text": "example here I have you know if we're",
    "start": "1042839",
    "end": "1046839"
  },
  {
    "text": "more than 9 to 13",
    "start": "1046839",
    "end": "1049240"
  },
  {
    "text": "% above the target CPU then we actually",
    "start": "1049240",
    "end": "1053600"
  },
  {
    "text": "scale up our what we say is our CPU by",
    "start": "1053600",
    "end": "1057120"
  },
  {
    "text": "25% higher or 50% higher so that way",
    "start": "1057120",
    "end": "1060799"
  },
  {
    "text": "we're scaling more aggressively but not",
    "start": "1060799",
    "end": "1063360"
  },
  {
    "text": "too aggressively based on how much we're",
    "start": "1063360",
    "end": "1066280"
  },
  {
    "text": "actually over the target so with this",
    "start": "1066280",
    "end": "1068880"
  },
  {
    "text": "implementation we had a lot more control",
    "start": "1068880",
    "end": "1071039"
  },
  {
    "text": "over our scaling and we're able to scale",
    "start": "1071039",
    "end": "1074240"
  },
  {
    "text": "just as much as we need and not have it",
    "start": "1074240",
    "end": "1076120"
  },
  {
    "text": "scale up and",
    "start": "1076120",
    "end": "1077400"
  },
  {
    "text": "down",
    "start": "1077400",
    "end": "1080400"
  },
  {
    "start": "1079000",
    "end": "1154000"
  },
  {
    "text": "now the last thing is our CPU throttling",
    "start": "1081000",
    "end": "1084600"
  },
  {
    "text": "so we deployed this API Gateway with sto",
    "start": "1084600",
    "end": "1088440"
  },
  {
    "text": "kubernetes production serving all these",
    "start": "1088440",
    "end": "1091039"
  },
  {
    "text": "requests overall everything was going",
    "start": "1091039",
    "end": "1092960"
  },
  {
    "text": "good except for two of our clusters had",
    "start": "1092960",
    "end": "1094880"
  },
  {
    "text": "a",
    "start": "1094880",
    "end": "1096039"
  },
  {
    "text": "problem and things were basically",
    "start": "1096039",
    "end": "1098240"
  },
  {
    "text": "slowing down latency was being added we",
    "start": "1098240",
    "end": "1100760"
  },
  {
    "text": "weren't sure what's going on and then we",
    "start": "1100760",
    "end": "1103200"
  },
  {
    "text": "found out it's because of CPU",
    "start": "1103200",
    "end": "1105120"
  },
  {
    "text": "throttling so we didn't have that",
    "start": "1105120",
    "end": "1107600"
  },
  {
    "text": "visibility so we had to get that uh add",
    "start": "1107600",
    "end": "1110159"
  },
  {
    "text": "added to our dashboards and understand",
    "start": "1110159",
    "end": "1112240"
  },
  {
    "text": "you know why is CPU throttling happening",
    "start": "1112240",
    "end": "1114960"
  },
  {
    "text": "why our requests or our limits not set",
    "start": "1114960",
    "end": "1117720"
  },
  {
    "text": "for this workload uh correctly and um we",
    "start": "1117720",
    "end": "1122240"
  },
  {
    "text": "had to test different setups to see",
    "start": "1122240",
    "end": "1123880"
  },
  {
    "text": "what's the best setup and we're still",
    "start": "1123880",
    "end": "1125400"
  },
  {
    "text": "kind of going through that process right",
    "start": "1125400",
    "end": "1127240"
  },
  {
    "text": "now so and part of this again is with",
    "start": "1127240",
    "end": "1130440"
  },
  {
    "text": "how do you set the limit on ISO proxy",
    "start": "1130440",
    "end": "1133440"
  },
  {
    "text": "right that's another it's uh challenging",
    "start": "1133440",
    "end": "1135840"
  },
  {
    "text": "enough and now you have another",
    "start": "1135840",
    "end": "1137120"
  },
  {
    "text": "container and and um so far we haven't",
    "start": "1137120",
    "end": "1139960"
  },
  {
    "text": "seen CPU throttling on the iso but it's",
    "start": "1139960",
    "end": "1142000"
  },
  {
    "text": "something that we're keeping an eye on",
    "start": "1142000",
    "end": "1144200"
  },
  {
    "text": "and in some workloads we did see higher",
    "start": "1144200",
    "end": "1146280"
  },
  {
    "text": "workload on sdo proxy so we did have to",
    "start": "1146280",
    "end": "1149720"
  },
  {
    "text": "increase the requests and the limits on",
    "start": "1149720",
    "end": "1151679"
  },
  {
    "text": "that specific",
    "start": "1151679",
    "end": "1154760"
  },
  {
    "start": "1154000",
    "end": "1175000"
  },
  {
    "text": "cluster so an overview is uh of the",
    "start": "1154760",
    "end": "1158200"
  },
  {
    "text": "pitfalls and learnings on our sto Cloud",
    "start": "1158200",
    "end": "1161240"
  },
  {
    "text": "native journey is the hybrid mode",
    "start": "1161240",
    "end": "1164200"
  },
  {
    "text": "graceful",
    "start": "1164200",
    "end": "1165360"
  },
  {
    "text": "deregistration configuration overload",
    "start": "1165360",
    "end": "1167919"
  },
  {
    "text": "out fire detection request and limits",
    "start": "1167919",
    "end": "1170919"
  },
  {
    "text": "correctly and our Auto",
    "start": "1170919",
    "end": "1173520"
  },
  {
    "text": "scaling and with that I will open it up",
    "start": "1173520",
    "end": "1176720"
  },
  {
    "start": "1175000",
    "end": "1224000"
  },
  {
    "text": "for questions um please follow our uh",
    "start": "1176720",
    "end": "1179520"
  },
  {
    "text": "open source Community we have a booth",
    "start": "1179520",
    "end": "1182039"
  },
  {
    "text": "which we have a swag and as well on the",
    "start": "1182039",
    "end": "1185320"
  },
  {
    "text": "right hand side I have um a QR code for",
    "start": "1185320",
    "end": "1187720"
  },
  {
    "text": "a feedback on this uh presentation and",
    "start": "1187720",
    "end": "1190960"
  },
  {
    "text": "also a link here to our open source",
    "start": "1190960",
    "end": "1193039"
  },
  {
    "text": "Admiral for more details on our",
    "start": "1193039",
    "end": "1194960"
  },
  {
    "text": "multicluster service mesh solution",
    "start": "1194960",
    "end": "1200240"
  },
  {
    "text": "so any",
    "start": "1201240",
    "end": "1203200"
  },
  {
    "text": "[Applause]",
    "start": "1203200",
    "end": "1212240"
  },
  {
    "text": "questions certificate",
    "start": "1212240",
    "end": "1215960"
  },
  {
    "text": "distri",
    "start": "1225520",
    "end": "1227159"
  },
  {
    "text": "yes yes I'll repeat the question so the",
    "start": "1227159",
    "end": "1229840"
  },
  {
    "text": "questions are on our certificate",
    "start": "1229840",
    "end": "1231679"
  },
  {
    "text": "management and are for mtls SS like how",
    "start": "1231679",
    "end": "1234720"
  },
  {
    "text": "do we do that so we do have a in-house",
    "start": "1234720",
    "end": "1237080"
  },
  {
    "text": "uh uh certificate provider and we also",
    "start": "1237080",
    "end": "1240080"
  },
  {
    "text": "have an in-house uh agent like a",
    "start": "1240080",
    "end": "1242440"
  },
  {
    "text": "container that that communicates with it",
    "start": "1242440",
    "end": "1245159"
  },
  {
    "text": "as",
    "start": "1245159",
    "end": "1247320"
  },
  {
    "text": "well and we have the mic in the middle",
    "start": "1248559",
    "end": "1251200"
  },
  {
    "text": "so folks have questions please come up",
    "start": "1251200",
    "end": "1252880"
  },
  {
    "text": "to the mic here to ask that way",
    "start": "1252880",
    "end": "1254520"
  },
  {
    "text": "everybody can",
    "start": "1254520",
    "end": "1257000"
  },
  {
    "text": "hear",
    "start": "1257120",
    "end": "1260120"
  },
  {
    "text": "think it's turned",
    "start": "1266080",
    "end": "1268679"
  },
  {
    "text": "off hello",
    "start": "1269279",
    "end": "1271120"
  },
  {
    "text": "Tess yeah I think it was",
    "start": "1271120",
    "end": "1273760"
  },
  {
    "text": "working uh you mentioned the AL issue",
    "start": "1273760",
    "end": "1278559"
  },
  {
    "text": "and you had a whole bunch of tunings in",
    "start": "1278559",
    "end": "1280080"
  },
  {
    "text": "there is that an IP mode or instance",
    "start": "1280080",
    "end": "1282400"
  },
  {
    "text": "mode we are",
    "start": "1282400",
    "end": "1284760"
  },
  {
    "text": "using I believe it's IP mode or",
    "start": "1284760",
    "end": "1290039"
  },
  {
    "text": "it's is it IP mode yeah it's IP mode",
    "start": "1290240",
    "end": "1294080"
  },
  {
    "text": "okay was that before was that part of",
    "start": "1294080",
    "end": "1295880"
  },
  {
    "text": "the T or was that always like that that",
    "start": "1295880",
    "end": "1297640"
  },
  {
    "text": "was always like that okay all right",
    "start": "1297640",
    "end": "1299640"
  },
  {
    "text": "thank you thank",
    "start": "1299640",
    "end": "1301799"
  },
  {
    "text": "you um so um from transitioning your",
    "start": "1301799",
    "end": "1306279"
  },
  {
    "text": "in-house U API Gateway to API Gateway um",
    "start": "1306279",
    "end": "1311360"
  },
  {
    "text": "how is that Journey looks like what are",
    "start": "1311360",
    "end": "1313400"
  },
  {
    "text": "the things that you kind of like you",
    "start": "1313400",
    "end": "1314799"
  },
  {
    "text": "know uh uh looked into and what the kind",
    "start": "1314799",
    "end": "1318039"
  },
  {
    "text": "kind of different uh sort of tools that",
    "start": "1318039",
    "end": "1320919"
  },
  {
    "text": "you might have used to figure out that",
    "start": "1320919",
    "end": "1322919"
  },
  {
    "text": "things are safe to kind of like",
    "start": "1322919",
    "end": "1324200"
  },
  {
    "text": "transition to this new",
    "start": "1324200",
    "end": "1326000"
  },
  {
    "text": "one I'm sorry I didn't hear the whole",
    "start": "1326000",
    "end": "1328159"
  },
  {
    "text": "question uh so can you hear me now yeah",
    "start": "1328159",
    "end": "1330559"
  },
  {
    "text": "yeah I can hear so from the um",
    "start": "1330559",
    "end": "1333880"
  },
  {
    "text": "inhouse the API Gateway to the new esto",
    "start": "1333880",
    "end": "1337120"
  },
  {
    "text": "based API Gateway what how was that",
    "start": "1337120",
    "end": "1339080"
  },
  {
    "text": "transition like what was your experience",
    "start": "1339080",
    "end": "1341080"
  },
  {
    "text": "in terms of like moving to the sto1 what",
    "start": "1341080",
    "end": "1342919"
  },
  {
    "text": "are the different things that if you",
    "start": "1342919",
    "end": "1344679"
  },
  {
    "text": "elaborate on that like you know um the",
    "start": "1344679",
    "end": "1346880"
  },
  {
    "text": "new Gateway is in prodution and you are",
    "start": "1346880",
    "end": "1349720"
  },
  {
    "text": "safe and confident enough with this yeah",
    "start": "1349720",
    "end": "1352520"
  },
  {
    "text": "yeah so I mean just to clarify right",
    "start": "1352520",
    "end": "1354600"
  },
  {
    "text": "we're using we moved our gateway to",
    "start": "1354600",
    "end": "1357840"
  },
  {
    "text": "kubernetes and we're using ISO in",
    "start": "1357840",
    "end": "1360000"
  },
  {
    "text": "collaboration with it so overall our",
    "start": "1360000",
    "end": "1363440"
  },
  {
    "text": "journey was fairly smooth aside from",
    "start": "1363440",
    "end": "1365360"
  },
  {
    "text": "these you know issues that we faced we",
    "start": "1365360",
    "end": "1368240"
  },
  {
    "text": "did a slow roll out across all of our",
    "start": "1368240",
    "end": "1370400"
  },
  {
    "text": "workloads across preprod it was",
    "start": "1370400",
    "end": "1372240"
  },
  {
    "text": "multi-month",
    "start": "1372240",
    "end": "1373600"
  },
  {
    "text": "migration and um you know I think pretty",
    "start": "1373600",
    "end": "1376760"
  },
  {
    "text": "much now we're at a place where where we",
    "start": "1376760",
    "end": "1378520"
  },
  {
    "text": "have a much better security with our",
    "start": "1378520",
    "end": "1381400"
  },
  {
    "text": "backend Services we're able to use TLS",
    "start": "1381400",
    "end": "1383520"
  },
  {
    "text": "rather than a custom jot authorization",
    "start": "1383520",
    "end": "1385919"
  },
  {
    "text": "or trust that we built",
    "start": "1385919",
    "end": "1387919"
  },
  {
    "text": "earlier um and now one of the great",
    "start": "1387919",
    "end": "1390520"
  },
  {
    "text": "benefits is we have the sto metrics and",
    "start": "1390520",
    "end": "1392760"
  },
  {
    "text": "logging on the destination so a lot of",
    "start": "1392760",
    "end": "1395520"
  },
  {
    "text": "times the destination Services would",
    "start": "1395520",
    "end": "1397600"
  },
  {
    "text": "come to the Gateway and say hey my",
    "start": "1397600",
    "end": "1399279"
  },
  {
    "text": "service is not working is it because of",
    "start": "1399279",
    "end": "1401679"
  },
  {
    "text": "the Gateway and we wouldn't really have",
    "start": "1401679",
    "end": "1404200"
  },
  {
    "text": "much Insight on what's going on on their",
    "start": "1404200",
    "end": "1406120"
  },
  {
    "text": "end they would have to kind of show us",
    "start": "1406120",
    "end": "1408000"
  },
  {
    "text": "then we would say well look your service",
    "start": "1408000",
    "end": "1409559"
  },
  {
    "text": "is unhealthy so now with the isometrics",
    "start": "1409559",
    "end": "1412400"
  },
  {
    "text": "we're able to have a uniform way to",
    "start": "1412400",
    "end": "1415159"
  },
  {
    "text": "understand what's going on on the",
    "start": "1415159",
    "end": "1416240"
  },
  {
    "text": "service and troubleshoot those",
    "start": "1416240",
    "end": "1419520"
  },
  {
    "text": "issues um and one of your slides you",
    "start": "1421200",
    "end": "1423559"
  },
  {
    "text": "talked about outlier detection on on one",
    "start": "1423559",
    "end": "1426360"
  },
  {
    "text": "of your slides yeah you talk about",
    "start": "1426360",
    "end": "1427840"
  },
  {
    "text": "Circle breaker patterns and things like",
    "start": "1427840",
    "end": "1429480"
  },
  {
    "start": "1429000",
    "end": "1495000"
  },
  {
    "text": "that can you go a little bit into how",
    "start": "1429480",
    "end": "1432080"
  },
  {
    "text": "you're achieving like um multi- tendency",
    "start": "1432080",
    "end": "1435039"
  },
  {
    "text": "and isolation and for the different",
    "start": "1435039",
    "end": "1437880"
  },
  {
    "text": "Services definitely yeah so the question",
    "start": "1437880",
    "end": "1440240"
  },
  {
    "text": "is around how do we achieve multi-",
    "start": "1440240",
    "end": "1442159"
  },
  {
    "text": "tendency and isolation so we have",
    "start": "1442159",
    "end": "1444880"
  },
  {
    "text": "isolation at the cluster level as well",
    "start": "1444880",
    "end": "1447360"
  },
  {
    "text": "as the Nam Space level so as I mentioned",
    "start": "1447360",
    "end": "1450039"
  },
  {
    "text": "we have multiple clusters multiple name",
    "start": "1450039",
    "end": "1452039"
  },
  {
    "text": "spaces now within a nam space we do",
    "start": "1452039",
    "end": "1455080"
  },
  {
    "text": "serve traffic for multiple Services up",
    "start": "1455080",
    "end": "1457559"
  },
  {
    "text": "to maybe 5 600 services in some cases in",
    "start": "1457559",
    "end": "1460799"
  },
  {
    "text": "some cases only five Services depending",
    "start": "1460799",
    "end": "1463360"
  },
  {
    "text": "on the workload so there is some risk",
    "start": "1463360",
    "end": "1466240"
  },
  {
    "text": "for a Noisy Neighbor there",
    "start": "1466240",
    "end": "1468520"
  },
  {
    "text": "um but you know we do have that level of",
    "start": "1468520",
    "end": "1471080"
  },
  {
    "text": "isolation and we basically have thread",
    "start": "1471080",
    "end": "1473520"
  },
  {
    "text": "pools and connection pools set up to",
    "start": "1473520",
    "end": "1476360"
  },
  {
    "text": "help isolate some of the traffic there",
    "start": "1476360",
    "end": "1479000"
  },
  {
    "text": "however you know we have seen issues",
    "start": "1479000",
    "end": "1480919"
  },
  {
    "text": "where if one service is unhealthy it can",
    "start": "1480919",
    "end": "1483840"
  },
  {
    "text": "kind of Spike the CPU and cause impact",
    "start": "1483840",
    "end": "1486440"
  },
  {
    "text": "on other service so that's also",
    "start": "1486440",
    "end": "1488000"
  },
  {
    "text": "something that we're continually working",
    "start": "1488000",
    "end": "1489440"
  },
  {
    "text": "on",
    "start": "1489440",
    "end": "1490240"
  },
  {
    "text": "improving thanks for the question and",
    "start": "1490240",
    "end": "1493240"
  },
  {
    "text": "with that I'm out of time so thank you",
    "start": "1493240",
    "end": "1494880"
  },
  {
    "text": "everyone",
    "start": "1494880",
    "end": "1497720"
  }
]