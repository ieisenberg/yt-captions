[
  {
    "start": "0",
    "end": "45000"
  },
  {
    "text": "to speak out coupon it's our first cube Khan and this is our first time in China",
    "start": "3600",
    "end": "9870"
  },
  {
    "text": "and we are really excited to be here basically we have been here for last few",
    "start": "9870",
    "end": "17070"
  },
  {
    "text": "days and it's been amazing and obviously not being on call is amazing and it's",
    "start": "17070",
    "end": "23430"
  },
  {
    "text": "been a while though my name is Vijay dama that means my colleague kiri Canora",
    "start": "23430",
    "end": "30890"
  },
  {
    "text": "we're both engineers from go-jek ride hailing app from Indonesia today we're",
    "start": "30890",
    "end": "38219"
  },
  {
    "text": "gonna be sharing our x-men results on benchmarking various container network plugins here's the agenda for today",
    "start": "38219",
    "end": "46079"
  },
  {
    "start": "45000",
    "end": "45000"
  },
  {
    "text": "we'll start off with the overview of various ENF plugins just to get you guys a line and we'll be sharing what kind of",
    "start": "46079",
    "end": "53760"
  },
  {
    "text": "motivated us on doing these experimentations and what kind of environments we conducted the",
    "start": "53760",
    "end": "59760"
  },
  {
    "text": "experiments on and what are the results that we got from these experiments then",
    "start": "59760",
    "end": "65220"
  },
  {
    "text": "finally what are the key takeaways that we can learn from our experiments Vijay",
    "start": "65220",
    "end": "70710"
  },
  {
    "text": "will start with brief overview of various E&I plugins that we used to conduct the best ok so a brief overview",
    "start": "70710",
    "end": "79020"
  },
  {
    "start": "77000",
    "end": "77000"
  },
  {
    "text": "of humanity's network model before we start with CNI it's just a humanities",
    "start": "79020",
    "end": "84420"
  },
  {
    "text": "network model is meant to be quite simple every container should be able to talk to every other container without",
    "start": "84420",
    "end": "90359"
  },
  {
    "text": "being mounted or traffic bridge through and all nodes should be able to talk to",
    "start": "90359",
    "end": "96479"
  },
  {
    "text": "each every other node without being added and basically whatever the",
    "start": "96479",
    "end": "101520"
  },
  {
    "text": "container IP the other contingencies is what is the job what is the continuous IP so the implementation itself of",
    "start": "101520",
    "end": "109079"
  },
  {
    "text": "networking is not done in communities it just provides an interface through CNI for other plugins to implement and plug",
    "start": "109079",
    "end": "116429"
  },
  {
    "text": "in into your humanities implementation or deployment next is just a brief",
    "start": "116429",
    "end": "124439"
  },
  {
    "start": "121000",
    "end": "121000"
  },
  {
    "text": "overview of what CNI does CNI two eyes two things it provides connectivity and reachability so connectivity as simple",
    "start": "124439",
    "end": "132990"
  },
  {
    "text": "as just provisions or the network interfaces of the continued or pods and second part is which ability",
    "start": "132990",
    "end": "140800"
  },
  {
    "text": "which is done by the demon that is basically the cni plugin it provides you",
    "start": "140800",
    "end": "147580"
  },
  {
    "text": "with a way of reaching from one part to another pod or basically one part to a",
    "start": "147580",
    "end": "152920"
  },
  {
    "text": "service all there are lots of CNI plugins around this is a link down below",
    "start": "152920",
    "end": "161200"
  },
  {
    "start": "156000",
    "end": "156000"
  },
  {
    "text": "where you can find the number of CNI plugins that are actively maintained there are actually a few moon much more",
    "start": "161200",
    "end": "168700"
  },
  {
    "text": "than that and but these are the listed in our plugins that you can take a look at the cni plugins that we are going to",
    "start": "168700",
    "end": "176440"
  },
  {
    "text": "talk about our flannel calico weave psyllium he brow turd amazon's here",
    "start": "176440",
    "end": "181690"
  },
  {
    "text": "amazon skate of the cni papaya and romana",
    "start": "181690",
    "end": "187140"
  },
  {
    "text": "starting with the beef production these are CNI plugins so I'm going to",
    "start": "187140",
    "end": "193900"
  },
  {
    "text": "just run through these flannel is just a simple as three based on a netbook",
    "start": "193900",
    "end": "200110"
  },
  {
    "text": "fabric which provides a bunch of support for actually support for a bunch of patterns including VX LAN which is a",
    "start": "200110",
    "end": "207400"
  },
  {
    "start": "203000",
    "end": "203000"
  },
  {
    "text": "default in flannel and it also suppose other things like you can set up a WSB",
    "start": "207400",
    "end": "216489"
  },
  {
    "text": "PC netbook fabric with in a flannel and",
    "start": "216489",
    "end": "221880"
  },
  {
    "text": "second his calico Coleco is a basically three approached for and using you know",
    "start": "221880",
    "end": "229480"
  },
  {
    "text": "it also provides a be a default support for a BGP and it also provides support",
    "start": "229480",
    "end": "236410"
  },
  {
    "text": "needed support for network policies not all cni plugin do next is we've is a",
    "start": "236410",
    "end": "244959"
  },
  {
    "text": "product from V box it is saying I plug-in that provide that works on",
    "start": "244959",
    "end": "250980"
  },
  {
    "text": "nowadays works on who is module and which is called something called faster",
    "start": "250980",
    "end": "256989"
  },
  {
    "text": "path and that's provides support for encryption and network policy next is",
    "start": "256989",
    "end": "263770"
  },
  {
    "text": "helium helium is a PPF based CNI plug-in",
    "start": "263770",
    "end": "270740"
  },
  {
    "text": "it has extensive support for network policies even greater than calico and Romana cube router is a simple ipbs",
    "start": "270740",
    "end": "280400"
  },
  {
    "text": "based and I plug-in it does simple",
    "start": "280400",
    "end": "287230"
  },
  {
    "text": "networking it doesn't provide support for overlay network then it does cost based routing AWC ni sa' provide support",
    "start": "287230",
    "end": "296450"
  },
  {
    "start": "293000",
    "end": "293000"
  },
  {
    "text": "for basically configuring your cuban it is now clustered within the red grace v",
    "start": "296450",
    "end": "303470"
  },
  {
    "text": "pc in that book fabric so you can provision your given it is cluster to have IBS from the BBC itself and just",
    "start": "303470",
    "end": "311660"
  },
  {
    "text": "directly have a custom both load running where and you then talk from a vm to",
    "start": "311660",
    "end": "317690"
  },
  {
    "text": "directly to a pod without going through service and hot papaya was another",
    "start": "317690",
    "end": "323210"
  },
  {
    "text": "excellent based CNI plugin suppose L do with GRE an IPSec for encryption",
    "start": "323210",
    "end": "331580"
  },
  {
    "start": "331000",
    "end": "331000"
  },
  {
    "text": "the last one is l3 basically romana as it is also a l3 based sinaia plugin",
    "start": "331580",
    "end": "337190"
  },
  {
    "text": "which works with which was PGP or OSP",
    "start": "337190",
    "end": "343150"
  },
  {
    "text": "next we're going to go through experiments which we will go through",
    "start": "343150",
    "end": "349510"
  },
  {
    "text": "let's now see kind of experiments that we did we started with curiosity on each",
    "start": "349510",
    "end": "356600"
  },
  {
    "text": "of this plugin because there's just so many and we started to play around with each of those and conducted some",
    "start": "356600",
    "end": "363670"
  },
  {
    "text": "performance study some simple football study on each of this when we were",
    "start": "363670",
    "end": "369560"
  },
  {
    "start": "369000",
    "end": "369000"
  },
  {
    "text": "conducting this experiment we had four goals in mind that motivated us in doing",
    "start": "369560",
    "end": "375050"
  },
  {
    "text": "this experiment first we wanted to see which Siena plug-in that offers the",
    "start": "375050",
    "end": "380840"
  },
  {
    "text": "lowest latency and which one has the highest throughput as a typical performance network benchmark started",
    "start": "380840",
    "end": "388190"
  },
  {
    "text": "and then we wanted to evaluate CNF plugins performance with different",
    "start": "388190",
    "end": "394070"
  },
  {
    "text": "protocols that were protocols in this case TCP and UDP as well as how do they",
    "start": "394070",
    "end": "399410"
  },
  {
    "text": "perform with various packet sizes the third one we wanted to see",
    "start": "399410",
    "end": "404639"
  },
  {
    "text": "each CNM plug-in consume how much do they consume and how much time do they",
    "start": "404639",
    "end": "411030"
  },
  {
    "text": "take the provision container network for example and then lastly we wanted to",
    "start": "411030",
    "end": "416430"
  },
  {
    "text": "evaluate whether there is an impact of communities Network policies in network performance these are the environment",
    "start": "416430",
    "end": "424379"
  },
  {
    "start": "423000",
    "end": "423000"
  },
  {
    "text": "that we did and conducting the experiment we spawn eight kubernetes clusters with different CNM plugins we",
    "start": "424379",
    "end": "432000"
  },
  {
    "text": "set this up with a minimal no sighs it was two node cluster the master node we",
    "start": "432000",
    "end": "437490"
  },
  {
    "text": "painted so that we could spin up workloads in it the size is m4x large in",
    "start": "437490",
    "end": "443849"
  },
  {
    "text": "Amazon AWS we chose area because because we cannot use Google Cloud here in China",
    "start": "443849",
    "end": "449310"
  },
  {
    "text": "you know that we use Debian nine destroy",
    "start": "449310",
    "end": "454590"
  },
  {
    "text": "and kernel 4.9 we use cops to help us spin out the clusters with version 1.9",
    "start": "454590",
    "end": "462680"
  },
  {
    "text": "but when we were doing the experimentations these are the version of CNI plugins that we leverage to",
    "start": "462680",
    "end": "471029"
  },
  {
    "text": "conduct this experiment an important note here is we threaded each of the",
    "start": "471029",
    "end": "477389"
  },
  {
    "text": "Siena plug-in as a black box so we didn't do any specific tuning or custom configuration with each of the Siena",
    "start": "477389",
    "end": "483240"
  },
  {
    "text": "plugins so we were just using the default configuration that they provided as documented in the communities IO Docs",
    "start": "483240",
    "end": "489240"
  },
  {
    "text": "as well as I think included in cops we",
    "start": "489240",
    "end": "495419"
  },
  {
    "start": "495000",
    "end": "495000"
  },
  {
    "text": "use three pools to conduct these experiments first we were using soft perf to measure throughput and latency",
    "start": "495419",
    "end": "502879"
  },
  {
    "text": "and then we use net perf particularly there a specific feature called UDP RR to help us measure the CPU",
    "start": "502879",
    "end": "511229"
  },
  {
    "text": "utilization that easy and Ciena plugin consume and lastly we were using a simple gang based tool implemented by",
    "start": "511229",
    "end": "518909"
  },
  {
    "text": "our friends and panel networks that help us in simulating SD workloads and",
    "start": "518909",
    "end": "524010"
  },
  {
    "text": "measure response with various network policies we then conducted five",
    "start": "524010",
    "end": "529800"
  },
  {
    "text": "different experiments in eight kubernetes clusters",
    "start": "529800",
    "end": "534890"
  },
  {
    "text": "our first experiment is on throughput and latency which is pretty basic in",
    "start": "534890",
    "end": "541010"
  },
  {
    "text": "this case we were running software client pod in note a the first node in",
    "start": "541010",
    "end": "546589"
  },
  {
    "text": "our company's cluster and software server part in the second node or node in this case we then configured the",
    "start": "546589",
    "end": "553820"
  },
  {
    "text": "packet size to be fixed 256 bytes for TCP throughput test as well as 16 bytes",
    "start": "553820",
    "end": "559730"
  },
  {
    "text": "for the disabilities in CFS we we use",
    "start": "559730",
    "end": "565209"
  },
  {
    "text": "host network without any C and a plugin to be our baseline as can be depicted by",
    "start": "565209",
    "end": "570589"
  },
  {
    "text": "this picture this is our dispute result or graph the red graph the red bar on",
    "start": "570589",
    "end": "576980"
  },
  {
    "text": "the left side is our baseline which is also depicted by the line graph in a nice pink color as our baseline as you",
    "start": "576980",
    "end": "584570"
  },
  {
    "text": "can see here all obviously any plugins suffered dissipate throughput loss",
    "start": "584570",
    "end": "590240"
  },
  {
    "text": "obviously because of their their mechanism right some of the plugins do a",
    "start": "590240",
    "end": "597470"
  },
  {
    "text": "packet encapsulation encapsulation or over your networking some does routings",
    "start": "597470",
    "end": "603019"
  },
  {
    "text": "etc apart apply for flannel we've got our Romana they suffer speed throughput",
    "start": "603019",
    "end": "610360"
  },
  {
    "text": "a bit less around 15 to 20 percent here for overlay networks network performance",
    "start": "610360",
    "end": "617660"
  },
  {
    "text": "hits are understandable because they need to traverse the network stack back",
    "start": "617660",
    "end": "622880"
  },
  {
    "text": "and forth right to do the packet processing for instance the packet decapsulation gets invoked at host",
    "start": "622880",
    "end": "628519"
  },
  {
    "text": "operating system whenever host OS meets the encapsulated packet at l4 for",
    "start": "628519",
    "end": "634040"
  },
  {
    "text": "example and then the packet will get transmitted to the port through internet interface which will then traverse the",
    "start": "634040",
    "end": "641060"
  },
  {
    "text": "network stack again for weave the result here is is very interesting because it",
    "start": "641060",
    "end": "647779"
  },
  {
    "text": "is pretty close to the baseline I think the closest to the baseline we've came",
    "start": "647779",
    "end": "653000"
  },
  {
    "text": "up with I think an interesting feature called fast data path around last year",
    "start": "653000",
    "end": "658430"
  },
  {
    "text": "which is essentially using the data path module of OBS in their implementation so",
    "start": "658430",
    "end": "665329"
  },
  {
    "text": "that they could decrease the number of network traversal apartment decrease the",
    "start": "665329",
    "end": "671509"
  },
  {
    "text": "the the traversing between user space and kernel space basically this was also",
    "start": "671509",
    "end": "678470"
  },
  {
    "text": "documented in there we've documentation they could improve the result of their performance around three times",
    "start": "678470",
    "end": "684379"
  },
  {
    "text": "compared to their old implementation for this for calico psyllium coupe router",
    "start": "684379",
    "end": "691160"
  },
  {
    "text": "and over CNI unfortunately they suffer",
    "start": "691160",
    "end": "697269"
  },
  {
    "text": "significant loss in our study we were actually expecting a much better result by calico however apparently in the in",
    "start": "697269",
    "end": "704480"
  },
  {
    "text": "the default conflict that they have in calico they still configured IP and IP",
    "start": "704480",
    "end": "710300"
  },
  {
    "text": "capsulation as default so that's why we can see the result here for calico",
    "start": "710300",
    "end": "716470"
  },
  {
    "text": "here's the result for our tcp latency study overall most of the plugins added",
    "start": "716470",
    "end": "726199"
  },
  {
    "start": "717000",
    "end": "717000"
  },
  {
    "text": "around 25% on average latency additional latency here for a diversity on a and",
    "start": "726199",
    "end": "732379"
  },
  {
    "text": "Roman they they suffer latency the lease additional latency the lease because",
    "start": "732379",
    "end": "738819"
  },
  {
    "text": "both NSA Romanic pops to a SS V PC fabric on the network pack and that's",
    "start": "738819",
    "end": "745850"
  },
  {
    "text": "how the packets are relatively faster to travel compared to the others in it",
    "start": "745850",
    "end": "751160"
  },
  {
    "text": "plugins for cope I owe the the let's see",
    "start": "751160",
    "end": "756740"
  },
  {
    "text": "is is doubled at least compared to the baseline we haven't conducted deeper",
    "start": "756740",
    "end": "762619"
  },
  {
    "text": "analysis yet so if you want to help us please come meet us our second",
    "start": "762619",
    "end": "769459"
  },
  {
    "text": "experiment is on different protocols and different packet sizes so it is",
    "start": "769459",
    "end": "775249"
  },
  {
    "text": "important to pick appropriate network protocols to do to get a desired for",
    "start": "775249",
    "end": "781879"
  },
  {
    "text": "example quality of service in our system and the packet size here plays important",
    "start": "781879",
    "end": "787009"
  },
  {
    "text": "role in in a network performance because for example given sustained data rate a",
    "start": "787009",
    "end": "792649"
  },
  {
    "text": "larger packet size will give less number of packet being transmitted and on the",
    "start": "792649",
    "end": "799699"
  },
  {
    "text": "other hand a fix packet being transmitted for large",
    "start": "799699",
    "end": "805250"
  },
  {
    "text": "package size it will give us a larger data rate we did a similar experiment",
    "start": "805250",
    "end": "812899"
  },
  {
    "text": "what we did in the first experiment we ran software fine pot in the first node and then software server apart in the in",
    "start": "812899",
    "end": "819740"
  },
  {
    "text": "the second node however the difference here is we measure both for TCP and UDP",
    "start": "819740",
    "end": "825279"
  },
  {
    "text": "throughput and then we tweak increase the packet size from 16 to 256 bytes",
    "start": "825279",
    "end": "833740"
  },
  {
    "text": "here's the result of our TCP throughput study the x-axis is actually the",
    "start": "833740",
    "end": "840500"
  },
  {
    "start": "835000",
    "end": "835000"
  },
  {
    "text": "different packet size from 1650 256 as you can see here only half of the CNF",
    "start": "840500",
    "end": "847490"
  },
  {
    "text": "plugins code skill as the packet size increase in particular final we've copia",
    "start": "847490",
    "end": "854569"
  },
  {
    "text": "Romina could scale that CIPA throughput well pretty close to the baseline as the",
    "start": "854569",
    "end": "861170"
  },
  {
    "text": "packet size increase here however for this four we could see here they suffer",
    "start": "861170",
    "end": "868790"
  },
  {
    "text": "considerable loss especially when we increase the packet size from 125 128 to",
    "start": "868790",
    "end": "876259"
  },
  {
    "text": "2050 to 6 the throughput level is quite similar here for UDP proof put for",
    "start": "876259",
    "end": "886250"
  },
  {
    "text": "obvious reason in general including the baseline they provide less UDP",
    "start": "886250",
    "end": "891769"
  },
  {
    "text": "throughput because of obvious reason in TCP we could actually make the physical link more efficient right by design it's",
    "start": "891769",
    "end": "898069"
  },
  {
    "text": "like that there mechanism however the difference here is all the C&I plugins",
    "start": "898069",
    "end": "905059"
  },
  {
    "text": "could actually skill given a different packet sizes although the the throughput",
    "start": "905059",
    "end": "911420"
  },
  {
    "text": "loss is considerable but the point is is an applicant could scale as the packet",
    "start": "911420",
    "end": "916730"
  },
  {
    "text": "size increase being a SS enin Romana",
    "start": "916730",
    "end": "921759"
  },
  {
    "text": "suffer the lease throughput loss for UDP actually our third experiment is on on",
    "start": "921759",
    "end": "931939"
  },
  {
    "text": "the CP overhead that an applicant introduced to kubernetes we",
    "start": "931939",
    "end": "937500"
  },
  {
    "text": "were using an app a pretty famous tool for performance benchmark we",
    "start": "937500",
    "end": "943320"
  },
  {
    "text": "particularly use their unique feature called UDP RR which is utilizing UDP to",
    "start": "943320",
    "end": "949860"
  },
  {
    "text": "measure sip utilization of each of this plugin by using this UDP RR we could",
    "start": "949860",
    "end": "956850"
  },
  {
    "text": "measure the time spent in user space kernel space and waiting for IO here's",
    "start": "956850",
    "end": "964770"
  },
  {
    "start": "964000",
    "end": "964000"
  },
  {
    "text": "the graph on the two graphs on the left side are actually CPU utilization and",
    "start": "964770",
    "end": "971640"
  },
  {
    "text": "two graphs on the right are CPU time or service demand the service demand means",
    "start": "971640",
    "end": "977550"
  },
  {
    "text": "a time that is required to complete one transaction of UDP with this we could",
    "start": "977550",
    "end": "984870"
  },
  {
    "text": "actually show the cost of Siena plug-in from the request ID or client side as",
    "start": "984870",
    "end": "992670"
  },
  {
    "text": "you can see here most of the plugins in fact all of the plugins introduce CPU",
    "start": "992670",
    "end": "998970"
  },
  {
    "text": "overhead but it actually very very from the least is around 10% to 40% because",
    "start": "998970",
    "end": "1008780"
  },
  {
    "text": "they need to obviously see and a plugin they need to allocate some IP from IP pools they need to do in cap the cap",
    "start": "1008780",
    "end": "1015430"
  },
  {
    "text": "they need to talk to a WSB PC API for instance for AWS CNI and romana etc",
    "start": "1015430",
    "end": "1022370"
  },
  {
    "text": "however an interesting result here is is this - Siena plugins which is viven",
    "start": "1022370",
    "end": "1028040"
  },
  {
    "text": "cilium they for for weave the weave adds",
    "start": "1028040",
    "end": "1035079"
  },
  {
    "text": "around double the CPU overhead compared to the baseline and salome at least triple the CPU utilization here for",
    "start": "1035079",
    "end": "1043130"
  },
  {
    "text": "weave we think because because of the obvious probably and their software",
    "start": "1043130",
    "end": "1050330"
  },
  {
    "text": "routing because they do the they do routings they do pairings and they could save network partition and cluster and",
    "start": "1050330",
    "end": "1057260"
  },
  {
    "text": "things like that most probably add additional computation and then for cilium they leverage the",
    "start": "1057260",
    "end": "1063720"
  },
  {
    "text": "BPF module in colonel every time they need to generate the bite right and then",
    "start": "1063720",
    "end": "1070080"
  },
  {
    "text": "inject it to the to the packet ploy so we thought that add except the cpu more",
    "start": "1070080",
    "end": "1078760"
  },
  {
    "text": "if you have a better analysis please come to me the first experiment we were",
    "start": "1078760",
    "end": "1085510"
  },
  {
    "text": "looking into how much time does a CNF plug-in use took to provision and",
    "start": "1085510",
    "end": "1091480"
  },
  {
    "text": "network whenever a new pod being created so network launch time is is very",
    "start": "1091480",
    "end": "1097960"
  },
  {
    "text": "important in case you guys have a short live or latency sensitive workload in",
    "start": "1097960",
    "end": "1104590"
  },
  {
    "text": "your kubernetes cluster right so we measure the time when cubelet when",
    "start": "1104590",
    "end": "1111310"
  },
  {
    "text": "cubelet issues container create command or pod get command in this case and in",
    "start": "1111310",
    "end": "1116350"
  },
  {
    "text": "the example cubelet is trying to spin up nginx pod on the left and then until the",
    "start": "1116350",
    "end": "1123310"
  },
  {
    "text": "engine next pod is responding to pinging requests from the pod on the note B we stop the stopwatch so it is a time from",
    "start": "1123310",
    "end": "1131010"
  },
  {
    "text": "container create command until it responds to the pinging request we",
    "start": "1131010",
    "end": "1137320"
  },
  {
    "text": "understand there might be a an overhead here because cubelet is appalling events to the cube api server here however",
    "start": "1137320",
    "end": "1144130"
  },
  {
    "text": "however we didn't figure out a better way to measure this and i don't think this will cause issue because the",
    "start": "1144130",
    "end": "1150370"
  },
  {
    "text": "comparison between CA plugins are Apple to Apple here's the result",
    "start": "1150370",
    "end": "1155640"
  },
  {
    "start": "1154000",
    "end": "1154000"
  },
  {
    "text": "for some reason flannel took more than 10 seconds to to spin up the network on",
    "start": "1155640",
    "end": "1164950"
  },
  {
    "text": "a pod so in order to make graph prettier I'm gonna take this out most of the",
    "start": "1164950",
    "end": "1172390"
  },
  {
    "text": "plugins add additional network lunch time for this for CNI plugins at around",
    "start": "1172390",
    "end": "1182220"
  },
  {
    "text": "0.5 to 1 second additional network lunch time whenever cubelet creates a pod keep",
    "start": "1182220",
    "end": "1191020"
  },
  {
    "text": "that in mind that network launch time doesn't include the image being download it because the cubelet state",
    "start": "1191020",
    "end": "1199230"
  },
  {
    "text": "comes after that the cubelet Connecticut it comes after the image download also",
    "start": "1199230",
    "end": "1205470"
  },
  {
    "text": "for this three Salem coupe prouder and caballo they add additional one to one",
    "start": "1205470",
    "end": "1211620"
  },
  {
    "text": "and a half second our last experiment is",
    "start": "1211620",
    "end": "1218100"
  },
  {
    "text": "on whether there's an impact of network policies to the network performance in",
    "start": "1218100",
    "end": "1225360"
  },
  {
    "text": "our reference in a typical performance benchmark there's no application logic",
    "start": "1225360",
    "end": "1233070"
  },
  {
    "text": "running in the host level so this leaves the host CPU to be available to process",
    "start": "1233070",
    "end": "1238710"
  },
  {
    "text": "whatever networking required in the host level so with this we make sure to run",
    "start": "1238710",
    "end": "1248360"
  },
  {
    "text": "Network policy test that doesn't saturate the network as well as separate the CPU this has impact of isolating the",
    "start": "1248360",
    "end": "1257850"
  },
  {
    "text": "the network policy process by the CPU at first level so we are borrowing a pool",
    "start": "1257850",
    "end": "1265620"
  },
  {
    "text": "from our friends and panel network we run the pool the client pod in not a in",
    "start": "1265620",
    "end": "1272160"
  },
  {
    "text": "server body not B we then configured the client part to send a fixed rate of 2000",
    "start": "1272160",
    "end": "1278880"
  },
  {
    "text": "SP requests with rate that we ensure do not saturate the network as well as CPU and then the server we configure it with",
    "start": "1278880",
    "end": "1286020"
  },
  {
    "text": "various response eyes from one kilobyte 100 kilobyte and then we make sure each",
    "start": "1286020",
    "end": "1291360"
  },
  {
    "text": "request is is perform in a new to speak connection by disabling the persistent",
    "start": "1291360",
    "end": "1297270"
  },
  {
    "text": "connection in case you guys are using nginx this could be achieved by disabling the keepalive a configuration",
    "start": "1297270",
    "end": "1303900"
  },
  {
    "text": "for example and then we repeat this best for 0 to 200 Network policies what this",
    "start": "1303900",
    "end": "1312840"
  },
  {
    "text": "means is for 0 network policy we do not run any network policy obviously but for",
    "start": "1312840",
    "end": "1319700"
  },
  {
    "text": "for instance I'm giving an example of 200 policies in this case we configure",
    "start": "1319700",
    "end": "1325920"
  },
  {
    "text": "the first policy as default deny the we'll disable all traffic coming into the server and then 198 we generated a",
    "start": "1325920",
    "end": "1334650"
  },
  {
    "text": "policy a random policy for instance in this case allowing us to port a allowing",
    "start": "1334650",
    "end": "1339730"
  },
  {
    "text": "us to port b a b c d random port which do not match the the port that the",
    "start": "1339730",
    "end": "1346540"
  },
  {
    "text": "server is listening to then the last the last policy we configured with port 80",
    "start": "1346540",
    "end": "1352900"
  },
  {
    "text": "which will allow packet to coming in and matches the the port basically in this case we could simulate that the that the",
    "start": "1352900",
    "end": "1362770"
  },
  {
    "text": "the traffic the all the policies are being hit before when we were doing this test here's the result for calico",
    "start": "1362770",
    "end": "1372960"
  },
  {
    "start": "1370000",
    "end": "1370000"
  },
  {
    "text": "network policy there's no meaningful delay at all being introduced in the response time at max around 0.1",
    "start": "1372960",
    "end": "1381130"
  },
  {
    "text": "millisecond we could not this very slightly for 100 kilobyte response there",
    "start": "1381130",
    "end": "1386980"
  },
  {
    "text": "when we try to increase the number of policies from 50 to 100 and then for",
    "start": "1386980",
    "end": "1393130"
  },
  {
    "start": "1392000",
    "end": "1392000"
  },
  {
    "text": "we've we've also provides us with similar result which is a non",
    "start": "1393130",
    "end": "1398200"
  },
  {
    "text": "significant additional response time here for cilium also similar result",
    "start": "1398200",
    "end": "1406570"
  },
  {
    "start": "1403000",
    "end": "1403000"
  },
  {
    "text": "probably around 0.2 millisecond for the blue one however keep in mind that the",
    "start": "1406570",
    "end": "1413290"
  },
  {
    "text": "network policy that we tested with cilium is actually the native network policy feature that offered by native",
    "start": "1413290",
    "end": "1419830"
  },
  {
    "text": "kubernetes cilium actually provides a much better way by providing us a custom",
    "start": "1419830",
    "end": "1426100"
  },
  {
    "text": "resource that they have called a cilium network policy that we didn't pass here",
    "start": "1426100",
    "end": "1432210"
  },
  {
    "text": "for that custom resource they actually offer extended what native network",
    "start": "1432210",
    "end": "1438340"
  },
  {
    "text": "policy can offer the native network policy can offer a policy in l3 and l4",
    "start": "1438340",
    "end": "1444150"
  },
  {
    "text": "for complete ingress and limited egress but for cilium network policy they could",
    "start": "1444150",
    "end": "1451150"
  },
  {
    "text": "offer l7 as well with complete much better egress feature for coop router again",
    "start": "1451150",
    "end": "1459120"
  },
  {
    "text": "similar result a little bit higher but still not",
    "start": "1459120",
    "end": "1465400"
  },
  {
    "text": "meaningful they add additional 0.4 millisecond additional response time for",
    "start": "1465400",
    "end": "1471580"
  },
  {
    "text": "the the green one which is 100 kilobyte response we do not we did not pass the",
    "start": "1471580",
    "end": "1478960"
  },
  {
    "text": "other Sienna plugins because obviously not all Sienna plugins offer this network policy feature forum Romana they",
    "start": "1478960",
    "end": "1487140"
  },
  {
    "text": "actually provides but because of an open issue in github we could not play around",
    "start": "1487140",
    "end": "1492550"
  },
  {
    "text": "with the network policy when we set up with hops because I think the latest cops release somehow changed the default",
    "start": "1492550",
    "end": "1501010"
  },
  {
    "text": "IP tables configuration that cause some issue with with Romana and effort policy",
    "start": "1501010",
    "end": "1507700"
  },
  {
    "text": "there Vijay is going to share what are the takeaways that we can learn from this ok so forth",
    "start": "1507700",
    "end": "1516280"
  },
  {
    "text": "echoey is our starting with the CNI itself in general very tricky to pick",
    "start": "1516280",
    "end": "1523090"
  },
  {
    "start": "1519000",
    "end": "1519000"
  },
  {
    "text": "appropriate CNI plugin engine because it totally depends on the use case and where you are running that particular",
    "start": "1523090",
    "end": "1529870"
  },
  {
    "text": "given it his workload and the Kuban it is cluster there are a lot of trade-offs",
    "start": "1529870",
    "end": "1535690"
  },
  {
    "text": "to be taking to be taken into account including performance security and isolation so if you need network policy",
    "start": "1535690",
    "end": "1542920"
  },
  {
    "text": "other than you are going to look into something like calico or Celia and",
    "start": "1542920",
    "end": "1549870"
  },
  {
    "text": "perhaps Romana and terms of what works",
    "start": "1549870",
    "end": "1555820"
  },
  {
    "text": "better on throughput the default config flannel beavin Romana achieved much",
    "start": "1555820",
    "end": "1562930"
  },
  {
    "text": "better network performance than the others in terms of the larger throughput",
    "start": "1562930",
    "end": "1569410"
  },
  {
    "text": "of obviously DCP has much larger throughput then the regular UDP",
    "start": "1569410",
    "end": "1574690"
  },
  {
    "text": "workloads which is usually not much for most of you perhaps most CNI plugins",
    "start": "1574690",
    "end": "1583060"
  },
  {
    "text": "scaled better and UDP with about 30 or takeaway here is you definitely have",
    "start": "1583060",
    "end": "1590800"
  },
  {
    "text": "some considerable amount of loss because it's",
    "start": "1590800",
    "end": "1595260"
  },
  {
    "text": "mostly and I plugins introduced some CP overhead of the vivre and see Liam being",
    "start": "1596150",
    "end": "1602100"
  },
  {
    "text": "the largest we've as Pickers we think it's because in V it uses the previous",
    "start": "1602100",
    "end": "1610410"
  },
  {
    "text": "module of which is probably the cost for that CP overhead in see Liam it's",
    "start": "1610410",
    "end": "1616380"
  },
  {
    "text": "I think the beep-beep underlying BPF what you are currently Maudie that is",
    "start": "1616380",
    "end": "1622170"
  },
  {
    "text": "the reason for that CP overhead but that's just a assumption right so also",
    "start": "1622170",
    "end": "1631290"
  },
  {
    "text": "in terms of network launch delay there is a beast nipple network launched early",
    "start": "1631290",
    "end": "1637500"
  },
  {
    "text": "to launch containers except for flannel which I think in this particular test case was a flag and wasn't totally",
    "start": "1637500",
    "end": "1646320"
  },
  {
    "text": "expected for network policies there is a non significant delay and in the no and",
    "start": "1646320",
    "end": "1654840"
  },
  {
    "text": "the basically hilly that isn't used app on the number of network policies you",
    "start": "1654840",
    "end": "1660990"
  },
  {
    "text": "had yeah so that is mostly take away is",
    "start": "1660990",
    "end": "1666600"
  },
  {
    "text": "around the policies for the experiment itself we need a more comprehensive",
    "start": "1666600",
    "end": "1673350"
  },
  {
    "text": "analysis which which will basically prove or add more info to what can be",
    "start": "1673350",
    "end": "1681750"
  },
  {
    "text": "done to improve particulars in AI and all and have a bit much better picture",
    "start": "1681750",
    "end": "1687929"
  },
  {
    "text": "of differences between inner plugins for example we can configure of some PC and",
    "start": "1687929",
    "end": "1695160"
  },
  {
    "text": "I plugins to work much better on bare metal and bare metal workloads then we",
    "start": "1695160",
    "end": "1702630"
  },
  {
    "text": "can do on on cloud providers for example calico you can disable I can IP mode to",
    "start": "1702630",
    "end": "1711200"
  },
  {
    "text": "just use BGP and which be",
    "start": "1711200",
    "end": "1716490"
  },
  {
    "text": "think we'll offer much better performance another experiments way of",
    "start": "1716490",
    "end": "1721500"
  },
  {
    "text": "thinking of as doing concurrent requests and testing but you know all this you",
    "start": "1721500",
    "end": "1727050"
  },
  {
    "text": "know plugins against those and see what is the performance and throughput and",
    "start": "1727050",
    "end": "1732690"
  },
  {
    "text": "latency responses from TNI plugins and another testers workload",
    "start": "1732690",
    "end": "1738270"
  },
  {
    "text": "interference wherein if you already have some workload running on your Cuban ADIZ cluster you can run these tests to",
    "start": "1738270",
    "end": "1745260"
  },
  {
    "text": "figure out how does CNI plugin get affected or due to existing workload and",
    "start": "1745260",
    "end": "1750600"
  },
  {
    "text": "all we had a lot of references for preparation of this talk three of them",
    "start": "1750600",
    "end": "1759240"
  },
  {
    "start": "1753000",
    "end": "1753000"
  },
  {
    "text": "three of them include and this is an empirical study of computer networks comparison of our networking solutions",
    "start": "1759240",
    "end": "1766680"
  },
  {
    "text": "of our communities from machine easel and high performance network policies in",
    "start": "1766680",
    "end": "1772050"
  },
  {
    "text": "Cuba Nettie's fluster from folks fire networks we had few help from people as",
    "start": "1772050",
    "end": "1780000"
  },
  {
    "text": "well during a J gather know early and summer thank you so this is our contact",
    "start": "1780000",
    "end": "1789420"
  },
  {
    "text": "details or is reach out to us if you have any details to add to what we can do to improve the if there's any",
    "start": "1789420",
    "end": "1807030"
  },
  {
    "text": "questions or we can share after this so",
    "start": "1807030",
    "end": "1819450"
  },
  {
    "text": "your question is how did weaken that Network lunch time right how did you",
    "start": "1819450",
    "end": "1824520"
  },
  {
    "text": "mission so as you can see here from this",
    "start": "1824520",
    "end": "1830670"
  },
  {
    "text": "diagram we actually have a stopwatch I mean stopwatch and then when you",
    "start": "1830670",
    "end": "1839610"
  },
  {
    "start": "1839000",
    "end": "1839000"
  },
  {
    "text": "deploy an pod typical kubernetes thing rakubian this scheduler will actually an",
    "start": "1839610",
    "end": "1846390"
  },
  {
    "text": "update that somewhere in the impurity state and then couplet will watch that then say that oh i need to spawn the pod",
    "start": "1846390",
    "end": "1853740"
  },
  {
    "text": "that is not running yet in my note so when cubelet has its own state state",
    "start": "1853740",
    "end": "1860820"
  },
  {
    "text": "ABCD one of them is including container schedule and then container should be",
    "start": "1860820",
    "end": "1867930"
  },
  {
    "text": "download don't need it then after this when everything is ready there's a state in cubelet that says container CLE when",
    "start": "1867930",
    "end": "1877140"
  },
  {
    "text": "Kotak when cubelet reaches this container create state and then we start the stopwatch we start the timer and",
    "start": "1877140",
    "end": "1883460"
  },
  {
    "text": "then the pod the docker images already access straight after that because sorry before",
    "start": "1883460",
    "end": "1889890"
  },
  {
    "text": "that then pod will run and then when the",
    "start": "1889890",
    "end": "1895380"
  },
  {
    "text": "pod is running CNI will provision whatever network required right assign IPS for instance routings talking to at",
    "start": "1895380",
    "end": "1905190"
  },
  {
    "text": "CD for instance there's a bunch of mechanisms there depending on CNN plugin and then at some point the pod will",
    "start": "1905190",
    "end": "1912690"
  },
  {
    "text": "accept connect TV whether the two things that Sienna provide in the beginning",
    "start": "1912690",
    "end": "1918380"
  },
  {
    "text": "reach ability and connectivity from the second node we just spawn a ping request",
    "start": "1918380",
    "end": "1925790"
  },
  {
    "text": "then when this spot starts receiving the ping request we stop the timer so both",
    "start": "1925790",
    "end": "1933180"
  },
  {
    "text": "those time but only not no service here pod on me does that make sense anything",
    "start": "1933180",
    "end": "1942000"
  },
  {
    "text": "else I sorry can you repeat packet loss",
    "start": "1942000",
    "end": "1959550"
  },
  {
    "text": "right so he's asking whether there's a packet loss when we were doing this test",
    "start": "1959550",
    "end": "1966770"
  },
  {
    "text": "what is the answer for packet loss",
    "start": "1966770",
    "end": "1972030"
  },
  {
    "text": "bidding actually identify any packet loss for UDP experiment we did actually",
    "start": "1972030",
    "end": "1977100"
  },
  {
    "text": "get a lot of packet locks losses which is acceptable because but we per se for",
    "start": "1977100",
    "end": "1986370"
  },
  {
    "text": "experiments because the packet size is also pretty low which is 256 probably",
    "start": "1986370",
    "end": "1993380"
  },
  {
    "text": "depending on the type size depending on the instance type when we increase to 500 or 1000 we will see that but if we",
    "start": "1993380",
    "end": "2000830"
  },
  {
    "text": "didn't do it unfortunately okay I think the time is",
    "start": "2000830",
    "end": "2007490"
  },
  {
    "text": "up thank you so much for attending my fault [Applause]",
    "start": "2007490",
    "end": "2014569"
  }
]