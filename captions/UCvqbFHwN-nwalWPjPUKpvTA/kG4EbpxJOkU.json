[
  {
    "text": "so thank you everyone and welcome back again after after the last coffee break",
    "start": "40",
    "end": "5160"
  },
  {
    "text": "we have the last session and we are together with Richard",
    "start": "5160",
    "end": "10480"
  },
  {
    "text": "Bosch from awell and yeah he's going to talk about how to survive managing",
    "start": "10480",
    "end": "16039"
  },
  {
    "text": "stream Z in an Enterprise so it's to you Richard thank you thank you P so uh",
    "start": "16039",
    "end": "24400"
  },
  {
    "text": "thanks for joining me last Talk of the streamon um I hope you've enjoyed did so",
    "start": "24400",
    "end": "30759"
  },
  {
    "text": "far I know I did so I'm Richard BOS I'm",
    "start": "30759",
    "end": "36800"
  },
  {
    "text": "def Advocate at exual and I'm here to talk about surviving uh managing stre in an",
    "start": "36800",
    "end": "42840"
  },
  {
    "text": "Enterprise so why do I say that in an Enterprise I work for actual and we build and maintain the actual platform",
    "start": "42840",
    "end": "49320"
  },
  {
    "text": "which is uh amongst other things a cloud surface or your own uh platform based on",
    "start": "49320",
    "end": "55800"
  },
  {
    "text": "streamy um before I did this uh I was also uh doing implementation so I was",
    "start": "55800",
    "end": "63320"
  },
  {
    "text": "focusing on embedded systems ESB worked a lot with integration",
    "start": "63320",
    "end": "70080"
  },
  {
    "text": "systems um of course there's also some play I uh also just go around taking",
    "start": "70080",
    "end": "75640"
  },
  {
    "text": "pictures love air shows so for me it is just uh fun to have technology and uh",
    "start": "75640",
    "end": "84439"
  },
  {
    "text": "well basically anything surrounding technology and doing something with",
    "start": "84439",
    "end": "91560"
  },
  {
    "text": "photography so let's talk about stream managing stream scene and Enterprise uh the Enterprise we're talking about is a",
    "start": "91560",
    "end": "97680"
  },
  {
    "text": "bank in the Netherlands and in 2015 they decided they wanted to go to a 100%",
    "start": "97680",
    "end": "103799"
  },
  {
    "text": "digital bank and become a real-time business um they started designing",
    "start": "103799",
    "end": "110320"
  },
  {
    "text": "analyzing their systems and they came up with an product or a surface called the",
    "start": "110320",
    "end": "115680"
  },
  {
    "text": "business event bus where uh a solution where think that Happ can be captured",
    "start": "115680",
    "end": "121840"
  },
  {
    "text": "from anywhere and delivered to anywhere for processing uh it relies on consumers and",
    "start": "121840",
    "end": "128239"
  },
  {
    "text": "producers not knowing about each other and uh being generally available within",
    "start": "128239",
    "end": "134640"
  },
  {
    "text": "the Enterprise it says here business event bus uh the focus here was on business",
    "start": "134640",
    "end": "141560"
  },
  {
    "text": "events uh so organizational events and not that's just technical events like",
    "start": "141560",
    "end": "147080"
  },
  {
    "text": "you often also see with kfka so what did they Envision well the first",
    "start": "147080",
    "end": "154840"
  },
  {
    "text": "use cases were based on transaction processing and for example alerting if",
    "start": "154840",
    "end": "160560"
  },
  {
    "text": "you've got you can set up an alert for your mobile phone you get a text message",
    "start": "160560",
    "end": "166360"
  },
  {
    "text": "that the money was transferred or uh your uh balance is getting too",
    "start": "166360",
    "end": "172280"
  },
  {
    "text": "low and in the previous implementations the delays went up to 50 minutes",
    "start": "172280",
    "end": "178319"
  },
  {
    "text": "sometimes that needed to be improved but they already envisioned if this is an",
    "start": "178319",
    "end": "183680"
  },
  {
    "text": "successful uh implementation we have more use",
    "start": "183680",
    "end": "188840"
  },
  {
    "text": "cases um you can see these are quite a list and they have just started growing",
    "start": "188840",
    "end": "193959"
  },
  {
    "text": "and growing needless to say I'm still here with actual those use cases were a",
    "start": "193959",
    "end": "200120"
  },
  {
    "text": "success and basically they are all now implemented so when I'm talking about an",
    "start": "200120",
    "end": "207040"
  },
  {
    "text": "Enterprise we usually go into business style stakeholders data owners uh who",
    "start": "207040",
    "end": "214159"
  },
  {
    "text": "wants say I I'm responsible for a certain type of data I want to be in",
    "start": "214159",
    "end": "219959"
  },
  {
    "text": "control Architects that want to have un stable ready to go",
    "start": "219959",
    "end": "225959"
  },
  {
    "text": "platform uh developers want of course develop they want to be uh not be",
    "start": "225959",
    "end": "232079"
  },
  {
    "text": "limited by processes or by tools they just want to develop deploy run",
    "start": "232079",
    "end": "240439"
  },
  {
    "text": "then we have operators that wants of course predictability mainten and maintainable systems and often you work",
    "start": "240439",
    "end": "247280"
  },
  {
    "text": "with procurement because they want to have fendors that the organization can rely on so at the first only a couple of",
    "start": "247280",
    "end": "255319"
  },
  {
    "text": "these were relevant uh procurement was not that uh relevant at that",
    "start": "255319",
    "end": "261160"
  },
  {
    "text": "stage but uh the data ownership and uh",
    "start": "261160",
    "end": "266199"
  },
  {
    "text": "the uh the future proof platform was very important important so we came up",
    "start": "266199",
    "end": "272039"
  },
  {
    "text": "with some initial requirements and challenges um for our deployment we",
    "start": "272039",
    "end": "277120"
  },
  {
    "text": "wanted TLS Communications encryption uh it needed to be high available uh in multiple uh data centers",
    "start": "277120",
    "end": "286120"
  },
  {
    "text": "data needed to be replicated they wanted to use TLS client authentication and uh authorization was",
    "start": "286120",
    "end": "294759"
  },
  {
    "text": "required for all activities this is 2015 Kai is at 0. n",
    "start": "294759",
    "end": "300840"
  },
  {
    "text": "and strey isn't even there yet so TLS was just introduced we uh mirror maker",
    "start": "300840",
    "end": "308360"
  },
  {
    "text": "was there but was also limited um stretching AC Coster Coss",
    "start": "308360",
    "end": "315320"
  },
  {
    "text": "data centers is technically possible but the challenge as well and setting up and",
    "start": "315320",
    "end": "321199"
  },
  {
    "text": "maintaining the excess control well that was all manual",
    "start": "321199",
    "end": "327600"
  },
  {
    "text": "work and then we move to the management part um the and I mean with management",
    "start": "327600",
    "end": "334080"
  },
  {
    "text": "the operations the the the definitions of data so they only wanted afro schema",
    "start": "334080",
    "end": "340520"
  },
  {
    "text": "support uh there was a single support operations team uh the exess control was uh",
    "start": "340520",
    "end": "348080"
  },
  {
    "text": "controlled uh the exess control was very strict so they wanted separation of",
    "start": "348080",
    "end": "353639"
  },
  {
    "text": "roles uh to uh control access to topics and applications",
    "start": "353639",
    "end": "359759"
  },
  {
    "text": "most of all the business is responsible so they should be able to approve access",
    "start": "359759",
    "end": "366039"
  },
  {
    "text": "uh to a topic so what are the challenges here well we need schema libraries we need to",
    "start": "366039",
    "end": "374240"
  },
  {
    "text": "maintain registrations and uh uh the onboarding business clients and",
    "start": "374240",
    "end": "380120"
  },
  {
    "text": "coordinating all those access requests so let's start with the",
    "start": "380120",
    "end": "385840"
  },
  {
    "text": "implementation first we decided on two clusters don't",
    "start": "385840",
    "end": "391599"
  },
  {
    "text": "go with stretched because there was too much issues with latencies we had a transaction system in",
    "start": "391599",
    "end": "398039"
  },
  {
    "text": "a notification system and they will be producing a consum to on one of the data",
    "start": "398039",
    "end": "405039"
  },
  {
    "text": "centers but there was an requirement for high availability in failover so that",
    "start": "405039",
    "end": "410800"
  },
  {
    "text": "means that there needed to be a second Data Center and that means data",
    "start": "410800",
    "end": "416720"
  },
  {
    "text": "synchronization so we set this up we built our own uh connectors to optimize",
    "start": "416720",
    "end": "422360"
  },
  {
    "text": "the data synchronization according to our requirements we uh set up the process",
    "start": "422360",
    "end": "429400"
  },
  {
    "text": "the initial the first processes for uh onboarding so what what's the what was",
    "start": "429400",
    "end": "436720"
  },
  {
    "text": "our job in operations well we monitor everything of usage we add topics we",
    "start": "436720",
    "end": "444680"
  },
  {
    "text": "update access controls we onboard thems Developers",
    "start": "444680",
    "end": "449840"
  },
  {
    "text": "business owners and uh maintain the libraries and",
    "start": "449840",
    "end": "454960"
  },
  {
    "text": "uh in the meantime we also did technical collection of data to make sure that everything was up and",
    "start": "454960",
    "end": "460639"
  },
  {
    "text": "running which is quite a lot for a single team this was a typical day someone",
    "start": "460639",
    "end": "466800"
  },
  {
    "text": "comes by and I want to uh to publish an event what should I do uh someone else",
    "start": "466800",
    "end": "472319"
  },
  {
    "text": "is saying well um someone wanted to consume are they actually allowed to",
    "start": "472319",
    "end": "477919"
  },
  {
    "text": "consume and then five other people come by with uh other",
    "start": "477919",
    "end": "483240"
  },
  {
    "text": "questions so typical flow in this case scenario 2015 was the developer needs access okay",
    "start": "483240",
    "end": "492199"
  },
  {
    "text": "sure I'll tell them it's going to be needed we need permissions I'll ask them",
    "start": "492199",
    "end": "499080"
  },
  {
    "text": "so I asked the owner if they accept and they said well I have no idea why they want to do this um I I'll talk to them",
    "start": "499080",
    "end": "507319"
  },
  {
    "text": "and get back to you sometimes a couple of days sometimes a couple of weeks later",
    "start": "507319",
    "end": "513640"
  },
  {
    "text": "yes well nice now I can finally continue while keeping track of my",
    "start": "513640",
    "end": "519279"
  },
  {
    "text": "paperwork schema updates I written down the process I'm not going to through it go through it but basically it's git uh",
    "start": "519279",
    "end": "527080"
  },
  {
    "text": "based it's a project that needs to be built and released and we were the only ones that are approving uh the the",
    "start": "527080",
    "end": "534640"
  },
  {
    "text": "changes to it so how did we do do that",
    "start": "534640",
    "end": "541959"
  },
  {
    "text": "prompts command line scripts everywhere we created scripts for deploying our",
    "start": "541959",
    "end": "547880"
  },
  {
    "text": "components Kafka zookeeper uh Kafka connect then we had",
    "start": "547880",
    "end": "553480"
  },
  {
    "text": "uh configuration scripts to tell them how to be deployed then after they were deployed",
    "start": "553480",
    "end": "560120"
  },
  {
    "text": "we had scripts for creation of the things inside the the the",
    "start": "560120",
    "end": "565800"
  },
  {
    "text": "custers um we had scripts about scripts about scripts it's a",
    "start": "565800",
    "end": "573120"
  },
  {
    "text": "headache so scripts all these acccess all these request how do you survive",
    "start": "573120",
    "end": "579680"
  },
  {
    "text": "this in an Enterprise well the answer is actually simple you delegate your reassign",
    "start": "579680",
    "end": "587040"
  },
  {
    "text": "responsibilities what I don't want to do is be a bottleneck for others so everything that they can do themselves",
    "start": "587040",
    "end": "593720"
  },
  {
    "text": "they should be doing so we decided on a self-surface approach where we had two groups topic",
    "start": "593720",
    "end": "601079"
  },
  {
    "text": "owners and application owners and the topic owners defined",
    "start": "601079",
    "end": "606160"
  },
  {
    "text": "topics the sizing they approve access uh they def they decide what the schema",
    "start": "606160",
    "end": "612680"
  },
  {
    "text": "definitions are um and they can are allowed to get contact information for for application",
    "start": "612680",
    "end": "620519"
  },
  {
    "text": "owners the application owner can register the application and credentials they request access to",
    "start": "620519",
    "end": "627600"
  },
  {
    "text": "topics and they can get the contact information for topic owners which means I'm no",
    "start": "627600",
    "end": "633839"
  },
  {
    "text": "longer in the middle this helps you survive of",
    "start": "633839",
    "end": "639320"
  },
  {
    "text": "course but it also introduces new challenges um we'll get to that later on",
    "start": "639320",
    "end": "645279"
  },
  {
    "text": "on our kka operations and where strey comes in so we finally removed all those",
    "start": "645279",
    "end": "652880"
  },
  {
    "text": "scripts and we can focus on operations maintenance on boarding and support so",
    "start": "652880",
    "end": "658560"
  },
  {
    "text": "quick overview this is what we created a topic overview uh topic data information",
    "start": "658560",
    "end": "666320"
  },
  {
    "text": "application information but it's a success we're an",
    "start": "666320",
    "end": "673279"
  },
  {
    "text": "Enterprise the stakeholders are back some of them were ignored long enough where they say it's now success",
    "start": "673279",
    "end": "679880"
  },
  {
    "text": "our requirements need to be taken into account so we had some new requirements",
    "start": "679880",
    "end": "687200"
  },
  {
    "text": "also for ourselves because we were going public with this solution so we wanted",
    "start": "687200",
    "end": "692920"
  },
  {
    "text": "it to run on kubernetes it should be multi-tenant uh where each tenant can",
    "start": "692920",
    "end": "699240"
  },
  {
    "text": "Define their own topics their own environments with the same names as another tenant without having fear of",
    "start": "699240",
    "end": "706079"
  },
  {
    "text": "cols tenants should not be able to even see or use each other's topics uh both",
    "start": "706079",
    "end": "711680"
  },
  {
    "text": "in kka or in selfs surface and uh there should be secured",
    "start": "711680",
    "end": "717200"
  },
  {
    "text": "public endpoints so that they could connect to it all straight very",
    "start": "717200",
    "end": "724279"
  },
  {
    "text": "straightforward so again how do we survive these new requirements in this case we started by",
    "start": "724279",
    "end": "731160"
  },
  {
    "text": "introducing streamy well we moveed to the cloud for our Solutions FM based deployments it's",
    "start": "731160",
    "end": "738519"
  },
  {
    "text": "not a problem but um kubernetes uh was the future and it's still very easy to",
    "start": "738519",
    "end": "745880"
  },
  {
    "text": "deploy and maintain uh your infrastructure that way so we move to the cloud we want to",
    "start": "745880",
    "end": "753680"
  },
  {
    "text": "become kubernetes native and stream's open source has a very active Community",
    "start": "753680",
    "end": "759360"
  },
  {
    "text": "but also very important it's extendable and configurable they have their own way of doing things but give you the option",
    "start": "759360",
    "end": "765920"
  },
  {
    "text": "to do it your own way if you need different if you have different requirements you are mostly capable of",
    "start": "765920",
    "end": "773040"
  },
  {
    "text": "setting uh using that so where did uh stream see come in",
    "start": "773040",
    "end": "781399"
  },
  {
    "text": "on these challenges and what were those challenges so at first we had the multi-",
    "start": "781399",
    "end": "787600"
  },
  {
    "text": "tendency um we need authentication support uh authorization of course and",
    "start": "787600",
    "end": "793839"
  },
  {
    "text": "needed to be very secure so if I have multiple tenants on a cluster I want to use naming patterns",
    "start": "793839",
    "end": "802120"
  },
  {
    "text": "for resources there were actually several presentations on uh before now on multi- tendency uh or partial M",
    "start": "802120",
    "end": "810320"
  },
  {
    "text": "multi- tendency that uses the same approach uh and you want to use those",
    "start": "810320",
    "end": "816160"
  },
  {
    "text": "patterns for the predictable resources environment it's the same",
    "start": "816160",
    "end": "822279"
  },
  {
    "text": "thing you can use the environment name in your",
    "start": "822279",
    "end": "827120"
  },
  {
    "text": "patterns and then prevent visibility and access across environments this was a bit harder because that means we needed",
    "start": "827880",
    "end": "834800"
  },
  {
    "text": "to set strict ACLS you basically want to deny every everything unless you allow it uh kka",
    "start": "834800",
    "end": "842079"
  },
  {
    "text": "supports it strey supports this but we are multi-tenant and this tenants are",
    "start": "842079",
    "end": "847759"
  },
  {
    "text": "not even from the same company sometimes so we needed to prevent same principal",
    "start": "847759",
    "end": "854880"
  },
  {
    "text": "names be generated by accident um for example if you use SSL",
    "start": "854880",
    "end": "861759"
  },
  {
    "text": "by default it uses your distinguished name CN is uh my",
    "start": "861759",
    "end": "867519"
  },
  {
    "text": "user um but if another com another company uses that same name then they",
    "start": "867519",
    "end": "873639"
  },
  {
    "text": "might get access to the topics of the other tenant which is of course not",
    "start": "873639",
    "end": "880160"
  },
  {
    "text": "allowed um so what was our solution we enforce everything in",
    "start": "880160",
    "end": "886000"
  },
  {
    "text": "self-surface we create unique social credentials we uh can specify",
    "start": "886000",
    "end": "891880"
  },
  {
    "text": "certificate authorities and include it in the principal names and uh we specify which",
    "start": "891880",
    "end": "899000"
  },
  {
    "text": "certificate authorities are allowed for certain environments",
    "start": "899000",
    "end": "904279"
  },
  {
    "text": "tenants so it gets a bit a look like this uh you have your",
    "start": "904720",
    "end": "910519"
  },
  {
    "text": "deployments the red the yellow and the green uh descriptions are the different",
    "start": "910519",
    "end": "915839"
  },
  {
    "text": "tenants they have multiple environments and as you can see sometimes they have the same name like",
    "start": "915839",
    "end": "921839"
  },
  {
    "text": "PL um we collect them inside what we call an instance uh which is a group of",
    "start": "921839",
    "end": "928279"
  },
  {
    "text": "environments that need to be deployed on one or more Custer and then we basically deploy them",
    "start": "928279",
    "end": "936399"
  },
  {
    "text": "with that pattern uh with those pattern names and ACLS and enable replication",
    "start": "936399",
    "end": "941839"
  },
  {
    "text": "between the custers for those",
    "start": "941839",
    "end": "945959"
  },
  {
    "text": "topics um so where streamy multi- tendency is a",
    "start": "947360",
    "end": "954279"
  },
  {
    "text": "bit harder because of the requirements we just had special the SSL",
    "start": "954279",
    "end": "960519"
  },
  {
    "text": "TLS um we don't use the the user or topic operators uh the user operator creates",
    "start": "960519",
    "end": "967440"
  },
  {
    "text": "for SSL TLS uh their simple formats of names and not the advanced one that we",
    "start": "967440",
    "end": "974720"
  },
  {
    "text": "want to use with the uh certificate Authority as part of the principal",
    "start": "974720",
    "end": "980079"
  },
  {
    "text": "name and also uh we don't didn't want any dependency or wait for resources to",
    "start": "980079",
    "end": "986040"
  },
  {
    "text": "be created from our selfservice point of view which is of course you can just",
    "start": "986040",
    "end": "992120"
  },
  {
    "text": "debate that uh for us it was uh what we decided",
    "start": "992120",
    "end": "998160"
  },
  {
    "text": "on to allow this in strey we set an explicit super user and we connect you",
    "start": "998600",
    "end": "1004199"
  },
  {
    "text": "to uh the customer using the Kafka admin apis it means that we always can read",
    "start": "1004199",
    "end": "1009920"
  },
  {
    "text": "the current state and apply changes because of our new SSL and the",
    "start": "1009920",
    "end": "1019240"
  },
  {
    "text": "requirement we also needed to update uh the Kafka images from stream C which",
    "start": "1019240",
    "end": "1025319"
  },
  {
    "text": "they allow we added our own principal Builder configured stream sheet to use that principal",
    "start": "1025319",
    "end": "1031319"
  },
  {
    "text": "Builder uh and now it will add the certificate authority to the principal name so streamy by its flexibility and",
    "start": "1031319",
    "end": "1040000"
  },
  {
    "text": "its uh extendability allowed us to do this relatively",
    "start": "1040000",
    "end": "1046600"
  },
  {
    "text": "simple so what did we achieve well we're now running on kubernetes we uh have a Custer that can",
    "start": "1047360",
    "end": "1055120"
  },
  {
    "text": "support topics for separate tenants that can be uh they can reuse names and environment names because of the naming",
    "start": "1055120",
    "end": "1063240"
  },
  {
    "text": "patterns and they cannot uh see each other's topics because we generate all",
    "start": "1063240",
    "end": "1069400"
  },
  {
    "text": "credentials and principal names and are in control that they are unique per",
    "start": "1069400",
    "end": "1075120"
  },
  {
    "text": "tenant and and are cross tenants",
    "start": "1075120",
    "end": "1080120"
  },
  {
    "text": "what have we not done yet we've not even touched the end points",
    "start": "1081000",
    "end": "1087158"
  },
  {
    "text": "yet so our Second Challenge with setting up uh the this uh streamy and kubernetes",
    "start": "1088520",
    "end": "1095280"
  },
  {
    "text": "deployment is the external connections we are running in a",
    "start": "1095280",
    "end": "1100400"
  },
  {
    "text": "cloud um we own the cloud machines but our",
    "start": "1100400",
    "end": "1106080"
  },
  {
    "text": "customers are anywhere on the internet or have their own connections uh outside",
    "start": "1106080",
    "end": "1112640"
  },
  {
    "text": "of kubernetes so how do we make sure that they are reliable and accessible to the",
    "start": "1112640",
    "end": "1120200"
  },
  {
    "text": "the C accessible to those customers so first we provide static",
    "start": "1120200",
    "end": "1127520"
  },
  {
    "text": "public endpoints we arrange IP addresses we arrange the DNS entries public ones",
    "start": "1127520",
    "end": "1135640"
  },
  {
    "text": "uh for those uh that match those addresses this means that now you can set up",
    "start": "1135640",
    "end": "1141520"
  },
  {
    "text": "firewall rules or routing rules uh in your company",
    "start": "1141520",
    "end": "1146919"
  },
  {
    "text": "networks of course you need to set up external listeners explicitly for SSL",
    "start": "1146919",
    "end": "1152280"
  },
  {
    "text": "and TLS and or for sule and you need to use these public names as your",
    "start": "1152280",
    "end": "1159840"
  },
  {
    "text": "advertised listener while kovka supports all of this out of the box um so how do we did that uh in",
    "start": "1159840",
    "end": "1168159"
  },
  {
    "text": "stream SE well after we uh need to secure the endpoints we use TLS of",
    "start": "1168159",
    "end": "1173720"
  },
  {
    "text": "course and the certificate certif with the the subject alternative",
    "start": "1173720",
    "end": "1179640"
  },
  {
    "text": "name for our URLs of course",
    "start": "1179640",
    "end": "1183960"
  },
  {
    "text": "sorry so when you configure streamy you can set up your own listeners you can",
    "start": "1185559",
    "end": "1191440"
  },
  {
    "text": "set per broker what kind of listen uh you can set up a listener type and then",
    "start": "1191440",
    "end": "1196520"
  },
  {
    "text": "per broker you can specify host names you can uh spec",
    "start": "1196520",
    "end": "1203159"
  },
  {
    "text": "specify uh what kind of connection it is sule or uh TLS encrypted or TLS",
    "start": "1203159",
    "end": "1209720"
  },
  {
    "text": "authentication so the first one we use is internal one because when we uh",
    "start": "1209720",
    "end": "1216320"
  },
  {
    "text": "communicate between our own systems we don't want to go outside of our cloud and have extra traffic",
    "start": "1216320",
    "end": "1223320"
  },
  {
    "text": "cost and you can use Network policy peers to limit access to those in to",
    "start": "1223320",
    "end": "1228840"
  },
  {
    "text": "those uh uh internal listeners but for the external ones we",
    "start": "1228840",
    "end": "1235080"
  },
  {
    "text": "specify load balancers or Ingress which allows us to specify the",
    "start": "1235080",
    "end": "1240360"
  },
  {
    "text": "host name or IP address per broker and uh we can generate",
    "start": "1240360",
    "end": "1245840"
  },
  {
    "text": "certificates with the with those names uh accordingly we turn on uh the",
    "start": "1245840",
    "end": "1253440"
  },
  {
    "text": "authentication and the authorization with sule and the client certificate",
    "start": "1253440",
    "end": "1260480"
  },
  {
    "text": "so now in streamy we can set up all of these and we can basically start the end",
    "start": "1261520",
    "end": "1269200"
  },
  {
    "text": "result would be we have an uh kubernetes cluster now running which can be used",
    "start": "1269200",
    "end": "1275840"
  },
  {
    "text": "internally uh from your own apps and uh externally for customer",
    "start": "1275840",
    "end": "1284240"
  },
  {
    "text": "apps so did we uh have some more requirements met now well",
    "start": "1286520",
    "end": "1293320"
  },
  {
    "text": "yeah basically our public endpoints are now reachable each of our broker has its",
    "start": "1293320",
    "end": "1298520"
  },
  {
    "text": "own end point and a certificate signed with the relevant uh host uh signed by",
    "start": "1298520",
    "end": "1304200"
  },
  {
    "text": "the CA and with the relevant host name in the sun list of the",
    "start": "1304200",
    "end": "1310919"
  },
  {
    "text": "certificate uh when you connect to streamy it will uh offer that and when",
    "start": "1312240",
    "end": "1317520"
  },
  {
    "text": "the advertised host the next part of the communication uh will use those public",
    "start": "1317520",
    "end": "1325000"
  },
  {
    "text": "addresses now we have one final and this is a big challenge but thankfully",
    "start": "1326200",
    "end": "1332919"
  },
  {
    "text": "something that kubernetes was made for it's about resource usage to get insight",
    "start": "1332919",
    "end": "1338679"
  },
  {
    "text": "and uh to try to optimize",
    "start": "1338679",
    "end": "1343039"
  },
  {
    "text": "it so what are the challenges we have for resources well we have uh the node sizes we have",
    "start": "1344799",
    "end": "1353120"
  },
  {
    "text": "in kues of course different nodes and we assign uh there are pods being scheduled",
    "start": "1353120",
    "end": "1360440"
  },
  {
    "text": "to use those nodes but how do we make sure that the",
    "start": "1360440",
    "end": "1365679"
  },
  {
    "text": "right nodes are used for our kovka which needs a lot of CPU a lot of",
    "start": "1365679",
    "end": "1373000"
  },
  {
    "text": "memory um also how we make sure that other applications are not using that",
    "start": "1373159",
    "end": "1378520"
  },
  {
    "text": "for example so that these are things that are quite common about how do we do",
    "start": "1378520",
    "end": "1384559"
  },
  {
    "text": "that with strey well we had to find out we also want to monitor of course",
    "start": "1384559",
    "end": "1390120"
  },
  {
    "text": "this resource uh usage and alert when we reach those limits and in the end of",
    "start": "1390120",
    "end": "1397440"
  },
  {
    "text": "course optimize the configuration so let's start with the",
    "start": "1397440",
    "end": "1403480"
  },
  {
    "text": "sizing we we created dedicated notes for Kafka",
    "start": "1403480",
    "end": "1408760"
  },
  {
    "text": "um like I said kfai is uh pretty high has pretty high standards for uh their",
    "start": "1408760",
    "end": "1417200"
  },
  {
    "text": "VM for the CPU their um memory usage and their dis usage so you often want to use",
    "start": "1417200",
    "end": "1424640"
  },
  {
    "text": "dedicated notes uh to make sure that it can meets those performance",
    "start": "1424640",
    "end": "1429919"
  },
  {
    "text": "requirements then we need to Mark those notes with some way to indicate what their sizing is or where they're what",
    "start": "1429919",
    "end": "1436080"
  },
  {
    "text": "they're supposed to be used for and then we use the concept of affinity and anti-affinity",
    "start": "1436080",
    "end": "1442320"
  },
  {
    "text": "to select the node for the proper size and usage and to make sure that others uh uh",
    "start": "1442320",
    "end": "1450320"
  },
  {
    "text": "pots are not allocated",
    "start": "1450320",
    "end": "1454278"
  },
  {
    "text": "there so what does it look like we've done a bit of sizing here we have our",
    "start": "1455520",
    "end": "1461360"
  },
  {
    "text": "kubernetes and we have a bunch of nodes running the D1 are dedicated ones and they are dedicated in this case for cu",
    "start": "1461360",
    "end": "1469279"
  },
  {
    "text": "we gave them some uh uh labels and you can use uh different ways",
    "start": "1469279",
    "end": "1475240"
  },
  {
    "text": "of identifying them but now you have a label that it says this is dedicated for",
    "start": "1475240",
    "end": "1480799"
  },
  {
    "text": "Kafka and it's in zone Z1 Z2 Z3 then we have noas C which are as you",
    "start": "1480799",
    "end": "1490120"
  },
  {
    "text": "can see smaller in size and they are the default Runners we have we can use those",
    "start": "1490120",
    "end": "1497000"
  },
  {
    "text": "for uh the basically are components that do not require dedicated",
    "start": "1497000",
    "end": "1504279"
  },
  {
    "text": "hardware and that can be anything from schema Registries to uh uh certificate",
    "start": "1504279",
    "end": "1509919"
  },
  {
    "text": "managers and uh other",
    "start": "1509919",
    "end": "1514519"
  },
  {
    "text": "utilities so what offers uh what does streamy offer well it has two",
    "start": "1517720",
    "end": "1525000"
  },
  {
    "text": "features uh that it offer us for deploying the",
    "start": "1525000",
    "end": "1530360"
  },
  {
    "text": "resources one of them is uh uh the wck awareness which is mostly used for",
    "start": "1530360",
    "end": "1537080"
  },
  {
    "text": "partitioning making sure that you can have multiple recs and if you have a",
    "start": "1537080",
    "end": "1543120"
  },
  {
    "text": "partition in replicas it will spread the replicas as as much as possible to different Recs if one of the Recs fails",
    "start": "1543120",
    "end": "1550520"
  },
  {
    "text": "or or availability zones in clouds it will continue to work because",
    "start": "1550520",
    "end": "1556840"
  },
  {
    "text": "one of the replicas will take over there's also the affinity and",
    "start": "1556840",
    "end": "1564120"
  },
  {
    "text": "anti-affinity rules which they made possible to configure so the end the",
    "start": "1564120",
    "end": "1570039"
  },
  {
    "text": "Affinity rules can be used to say I want to use a note which has the label uh",
    "start": "1570039",
    "end": "1578799"
  },
  {
    "text": "dedicated and the value Kafka and then I can use an different",
    "start": "1578799",
    "end": "1584000"
  },
  {
    "text": "rule to say you should not deploy this if there is already one",
    "start": "1584000",
    "end": "1589320"
  },
  {
    "text": "deployed or um there should be uh no",
    "start": "1589320",
    "end": "1594880"
  },
  {
    "text": "system named X running here the these two rules which are basic",
    "start": "1594880",
    "end": "1602240"
  },
  {
    "text": "uh kubernetes are sometimes hard to set up to to tweak right but make sure that you",
    "start": "1602240",
    "end": "1610640"
  },
  {
    "text": "have uh you don't reuse your resources unless you absolutely want",
    "start": "1610640",
    "end": "1615919"
  },
  {
    "text": "to uh and you also don't get into trouble that if you reuse the same note",
    "start": "1615919",
    "end": "1621440"
  },
  {
    "text": "um let's say the load goes up then both then the load goes up twice for both Brokers maybe um killing your",
    "start": "1621440",
    "end": "1629360"
  },
  {
    "text": "note so we set it up that Brokers do not share a",
    "start": "1629360",
    "end": "1634679"
  },
  {
    "text": "note then we go into the uh monitoring which again you collect",
    "start": "1636720",
    "end": "1642799"
  },
  {
    "text": "metrics from kubernetes from applications from kka you visualize them",
    "start": "1642799",
    "end": "1648799"
  },
  {
    "text": "and again stream C offers everything already you can export your metrics you",
    "start": "1648799",
    "end": "1654000"
  },
  {
    "text": "can export EXT additional Kafka metric with the kka exporter you can enable",
    "start": "1654000",
    "end": "1659440"
  },
  {
    "text": "scanning with a PA monitor so that promethus and kafana can uh discover",
    "start": "1659440",
    "end": "1666440"
  },
  {
    "text": "them and uh we also enable note monitoring so we can see what each node is",
    "start": "1666440",
    "end": "1671919"
  },
  {
    "text": "doing and we add some dashboards based on the streamy also offers a lot of those so this is for uh one of our",
    "start": "1671919",
    "end": "1681080"
  },
  {
    "text": "clusters you can see different loads so the Kafka exporter",
    "start": "1681080",
    "end": "1688279"
  },
  {
    "text": "data um going to check about time um well alerting is uh uh important",
    "start": "1689360",
    "end": "1699760"
  },
  {
    "text": "of course but before you can set up alerts you need to know what normal is so always track your CPU your memory dis",
    "start": "1699760",
    "end": "1707120"
  },
  {
    "text": "usage for your notes your pods and uh use your alert manager and",
    "start": "1707120",
    "end": "1713720"
  },
  {
    "text": "your uh to and these metrics to determine the values the triggers for",
    "start": "1713720",
    "end": "1719120"
  },
  {
    "text": "your alerts um use kka defined alerts there",
    "start": "1719120",
    "end": "1725080"
  },
  {
    "text": "are uh lots of documentation about what the metrics mean what you need to monitor where you should put an",
    "start": "1725080",
    "end": "1731440"
  },
  {
    "text": "immediate alarm on what you shouldn't and then I'm thinking about",
    "start": "1731440",
    "end": "1737240"
  },
  {
    "text": "under replicated partitions offline partitions the",
    "start": "1737240",
    "end": "1742799"
  },
  {
    "text": "sort so stre suppos the metric collection for all of these things uh",
    "start": "1745480",
    "end": "1751960"
  },
  {
    "text": "and if you deploy the alert manager with promus you get those warnings uh you can",
    "start": "1751960",
    "end": "1758399"
  },
  {
    "text": "set up the rules as well you can mon you can update them in kubernetes maintain",
    "start": "1758399",
    "end": "1763840"
  },
  {
    "text": "them and then you can have call outs that sort of thing h recommended for",
    "start": "1763840",
    "end": "1769039"
  },
  {
    "text": "highly available systems to uh do this an example of some of the rules",
    "start": "1769039",
    "end": "1776519"
  },
  {
    "text": "these are based on the noes performance and then when you optimize",
    "start": "1776519",
    "end": "1783240"
  },
  {
    "text": "you track CPU memory and dis usage you uh again use these values and",
    "start": "1783240",
    "end": "1790440"
  },
  {
    "text": "you start optimizing it what's important to track um CPU",
    "start": "1790440",
    "end": "1796799"
  },
  {
    "text": "memory usage we often over proficient then realize we use memory or we use CPU",
    "start": "1796799",
    "end": "1803279"
  },
  {
    "text": "we assign it but we never use it or the other way around it's getting critical it's reaching a boundary we might want",
    "start": "1803279",
    "end": "1809559"
  },
  {
    "text": "to give them more margin especially important to track",
    "start": "1809559",
    "end": "1815240"
  },
  {
    "text": "here is the file system for kovka because it's very heavy on the file system and too many files can break your",
    "start": "1815240",
    "end": "1821799"
  },
  {
    "text": "kka deployment your broker um so the number of partitions",
    "start": "1821799",
    "end": "1827120"
  },
  {
    "text": "and the segment tools will determine how many files you have too many files and kka won't start anymore we've had this a",
    "start": "1827120",
    "end": "1834679"
  },
  {
    "text": "couple of times um very hard to recover from try to prevent this monitor your",
    "start": "1834679",
    "end": "1840880"
  },
  {
    "text": "files and very important use cruise control to redistribute your",
    "start": "1840880",
    "end": "1846720"
  },
  {
    "text": "replicas uh to even your load during production and scaling up you will",
    "start": "1846720",
    "end": "1852799"
  },
  {
    "text": "encounter imbalances so now we can optimize our",
    "start": "1852799",
    "end": "1859360"
  },
  {
    "text": "resources again with streamy We have basically all our new requirements",
    "start": "1859360",
    "end": "1865159"
  },
  {
    "text": "met so the business event bus is currently still active we now have 565",
    "start": "1865159",
    "end": "1871799"
  },
  {
    "text": "topics in production 18 over 1,800 topics uh for",
    "start": "1871799",
    "end": "1877039"
  },
  {
    "text": "development and 350 applications uh uh active while reducing our maintenance",
    "start": "1877039",
    "end": "1884880"
  },
  {
    "text": "team from 6% to a half FD in 2021 so that's quite a way to optimize",
    "start": "1884880",
    "end": "1893679"
  },
  {
    "text": "it we survived and even better better the",
    "start": "1893679",
    "end": "1899200"
  },
  {
    "text": "business event bus is just one of the tenants sharing that single cluster so it there 16 Brokers uh 2700 partitions",
    "start": "1899200",
    "end": "1908360"
  },
  {
    "text": "10 terabytes of storage in use and 1100 consumer",
    "start": "1908360",
    "end": "1914039"
  },
  {
    "text": "groups this is how we have survived with the help of strey uh to scale up like",
    "start": "1914360",
    "end": "1922840"
  },
  {
    "text": "this are there any questions I think we're almost out of time",
    "start": "1923200",
    "end": "1929679"
  },
  {
    "text": "already so there are no questions uh we still have 10 minutes so if you want to",
    "start": "1935639",
    "end": "1942120"
  },
  {
    "text": "move forward you can um",
    "start": "1942120",
    "end": "1948919"
  },
  {
    "text": "what do you mean Paul to move forward oh I mean so that's the end of the session",
    "start": "1949080",
    "end": "1954480"
  },
  {
    "text": "so it's fine no no was just saying if that you have any something more to show there are no questions right now yeah if",
    "start": "1954480",
    "end": "1962240"
  },
  {
    "text": "you have I no this there's a lot of text a lot of things to do if you want to have more information just contact me",
    "start": "1962240",
    "end": "1967880"
  },
  {
    "text": "I'm on LinkedIn uh I'm also on Reddit active uh with asking with questions and on",
    "start": "1967880",
    "end": "1974080"
  },
  {
    "text": "different mailing lists um we happy to have a chat with you about your insights my insights not",
    "start": "1974080",
    "end": "1980399"
  },
  {
    "text": "just from the sales point of view but also just as a technical guy in Ling streamy and what they offer",
    "start": "1980399",
    "end": "1986919"
  },
  {
    "text": "us so we actually have got a question for you uh Richard so morit is asking",
    "start": "1986919",
    "end": "1994360"
  },
  {
    "text": "are you using the CSI for local files provided by your cloud provider or local",
    "start": "1994360",
    "end": "2000720"
  },
  {
    "text": "discs for the dedicated Kafka notes um what we're currently using I'm",
    "start": "2000720",
    "end": "2006960"
  },
  {
    "text": "not really sure of uh I think we're still using we're using the C the",
    "start": "2006960",
    "end": "2013200"
  },
  {
    "text": "CSI um but we have set done setups with both uh where of course the local discs",
    "start": "2013200",
    "end": "2019880"
  },
  {
    "text": "for the dedicated kfka notes have an higher performance but are also in our",
    "start": "2019880",
    "end": "2025600"
  },
  {
    "text": "experience I think a bit harder to set",
    "start": "2025600",
    "end": "2029278"
  },
  {
    "text": "up thank you so any more questions from the",
    "start": "2030639",
    "end": "2036399"
  },
  {
    "text": "audience we still have five minutes or we can",
    "start": "2036399",
    "end": "2041919"
  },
  {
    "text": "wrap up here and thank Richard for the session you're welcome I'm glad to",
    "start": "2041919",
    "end": "2049158"
  },
  {
    "text": "joined you and uh I hope you've all enjoyed streamon as much as I have yeah sure thank you very much",
    "start": "2049159",
    "end": "2056079"
  },
  {
    "text": "Richard it was great session and thank you for sharing our actual this using stream Z underneath your",
    "start": "2056079",
    "end": "2062079"
  },
  {
    "text": "platform you're welcome",
    "start": "2062079",
    "end": "2066399"
  }
]