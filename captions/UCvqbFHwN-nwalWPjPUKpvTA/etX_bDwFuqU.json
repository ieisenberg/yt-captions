[
  {
    "text": "all right thank you everyone for joining us today uh this is today's cncf live",
    "start": "2440",
    "end": "8200"
  },
  {
    "text": "webinar thinking like a threat actor in your kubernetes environments I'm Libby Schultz and I'll be moderating today's",
    "start": "8200",
    "end": "14519"
  },
  {
    "text": "webinar I'm going to read our code of conduct and then I'll hand over to abav Mishra director of product management",
    "start": "14519",
    "end": "20840"
  },
  {
    "text": "and rayan Tam a a consultant both with upticks um a few housekeeping items",
    "start": "20840",
    "end": "27359"
  },
  {
    "text": "before we get started during the webinar you're not able to talk as an attendee but there's a chat box on the right hand",
    "start": "27359",
    "end": "33440"
  },
  {
    "text": "side of your screen please feel free to drop questions there and um our",
    "start": "33440",
    "end": "38480"
  },
  {
    "text": "presenters will get to them as they come through as many as we can within the time limit um this is an official",
    "start": "38480",
    "end": "45120"
  },
  {
    "text": "webinar of the cncf and as such a subject to the cncf code of conduct please do not add anything to the chat",
    "start": "45120",
    "end": "51840"
  },
  {
    "text": "or questions that would be in violation of that code of conduct and please be respectful of all of your fellow",
    "start": "51840",
    "end": "57320"
  },
  {
    "text": "participants and presenters please also note that the recording and slides will be posted later today to the cncf online",
    "start": "57320",
    "end": "64280"
  },
  {
    "text": "programs page at community. cncf Doo under online programs they're also",
    "start": "64280",
    "end": "70520"
  },
  {
    "text": "available via your registration link and the recording is available on our online programs YouTube playlist um and will be",
    "start": "70520",
    "end": "77280"
  },
  {
    "text": "online later today with that I will hand it over to our presenters to take it",
    "start": "77280",
    "end": "84520"
  },
  {
    "text": "away hi everybody thanks so much for joining uh Libby can you hear me are we good",
    "start": "84520",
    "end": "91479"
  },
  {
    "text": "yep you're all good cool so thank you so much uh for joining I'm a Mishra I'm a",
    "start": "91479",
    "end": "97280"
  },
  {
    "text": "director of product at Optics where I lead the containers in kubernetes security rayan do you want to introduce",
    "start": "97280",
    "end": "104880"
  },
  {
    "text": "yourself sure uh hello all I'm rayan and",
    "start": "104880",
    "end": "110240"
  },
  {
    "text": "I'm working as a consultant at Optics and I mostly focus on the kubernetes",
    "start": "110240",
    "end": "116759"
  },
  {
    "text": "security side of things thanks for joining",
    "start": "116759",
    "end": "121840"
  },
  {
    "text": "awesome so we went through intros um so I'll SK I'll skip through that those",
    "start": "122000",
    "end": "127759"
  },
  {
    "text": "are things you can get later too but the real thing is um kubernetes and of",
    "start": "127759",
    "end": "133480"
  },
  {
    "text": "course the attacks that are happening we the goal today is to really be able to",
    "start": "133480",
    "end": "139640"
  },
  {
    "text": "think like a threat actor when you're talking about kubernetes incident response this was a recent some recent",
    "start": "139640",
    "end": "147040"
  },
  {
    "text": "findings from uh Red Hats 2023 security report and there are some very",
    "start": "147040",
    "end": "152560"
  },
  {
    "text": "interesting stats where this was one interesting point that 37% experienced",
    "start": "152560",
    "end": "157800"
  },
  {
    "text": "revenue or customer loss due to a container or kubernetes security incident uh is a pretty large number",
    "start": "157800",
    "end": "166400"
  },
  {
    "text": "across you're talking thousands of customers and moreover Rue or customer loss is something that as an Enterprise",
    "start": "166400",
    "end": "173080"
  },
  {
    "text": "we never want to experience um similarly we see um of course vulnerabilities and",
    "start": "173080",
    "end": "179760"
  },
  {
    "text": "you know malware and and sensitive data you know those traditional things being looked at from a security point of view",
    "start": "179760",
    "end": "186000"
  },
  {
    "text": "but we're starting to look at other things such as the supply chain and how that comes into the fold um as we to uh",
    "start": "186000",
    "end": "192840"
  },
  {
    "text": "respond to incidents such as you know the solar winds attack or log for J vulnerability and so the real thing is",
    "start": "192840",
    "end": "200200"
  },
  {
    "text": "now thread actors are now kubernetes Security Experts we saw this in Cloud uh",
    "start": "200200",
    "end": "205239"
  },
  {
    "text": "when you know Cloud adoption was happening and uh thread actors knowing to manipulate IM roles and get inside of",
    "start": "205239",
    "end": "212400"
  },
  {
    "text": "cloud environments and now we see the same thing um inside kubernetes clusters and across the container supply chain um",
    "start": "212400",
    "end": "220200"
  },
  {
    "text": "and so it's very for important for us to be able to think about how a thread actor um goes inside of kubernetes and",
    "start": "220200",
    "end": "227760"
  },
  {
    "text": "performs attacks for example um now the analogy um I like to give is if you think about a robber when",
    "start": "227760",
    "end": "235120"
  },
  {
    "text": "they a house um some of the questions that he or she would want to answer",
    "start": "235120",
    "end": "240280"
  },
  {
    "text": "uh to be able to do the attack is which room am I in or where are the security cameras where are the valuable items",
    "start": "240280",
    "end": "247319"
  },
  {
    "text": "notice that they're starting to ask these questions to start to drill down into specific parts of the house that",
    "start": "247319",
    "end": "252680"
  },
  {
    "text": "they can attack or valuable items that they can steal and this very much maps to kubernetes for",
    "start": "252680",
    "end": "259040"
  },
  {
    "text": "example which room am I in May map to a specific Potter name space that you enter in when you enter the cluster",
    "start": "259040",
    "end": "265800"
  },
  {
    "text": "where the security cameras there can be data like kubernetes audit log which is having a track of the audit seeing what",
    "start": "265800",
    "end": "272400"
  },
  {
    "text": "people are doing and that is data that of course you want from a compliance point of view uh but that's data that a",
    "start": "272400",
    "end": "279960"
  },
  {
    "text": "can be exploited but B also you need to protect um against your kubernetes",
    "start": "279960",
    "end": "285000"
  },
  {
    "text": "environment and so we're going to talk a little bit about those nuances there the valuable items of course can map to",
    "start": "285000",
    "end": "290680"
  },
  {
    "text": "Secrets or sensitive data and you know the other rooms that you can get into for example lateral movements kubernetes",
    "start": "290680",
    "end": "297039"
  },
  {
    "text": "Network policies and of course the doors that I can open and Rel to access controls and role bindings so all of",
    "start": "297039",
    "end": "302880"
  },
  {
    "text": "this forms a very holistic picture in terms of how do we look at um threats what is red actor thinking about um in",
    "start": "302880",
    "end": "310000"
  },
  {
    "text": "the context of kubernetes and we'll dive deep into some pillars and Frameworks around how to think about",
    "start": "310000",
    "end": "317160"
  },
  {
    "text": "this now before uh we get into more detail this is something I always uh",
    "start": "317360",
    "end": "323000"
  },
  {
    "text": "like to share in terms of tools so um you know there's this concept of red teaming and of course with red teaming",
    "start": "323000",
    "end": "328960"
  },
  {
    "text": "you're really you know going in trying to perform attacks you know reveal U",
    "start": "328960",
    "end": "334840"
  },
  {
    "text": "misconfigurations or vulnerabilities and there are tools and Frameworks that",
    "start": "334840",
    "end": "340240"
  },
  {
    "text": "exist out there that can really help you uh think about how to simulate these types of attacks you don't know what you",
    "start": "340240",
    "end": "346520"
  },
  {
    "text": "don't know and you know anecdotally you know for example there there are things like you know how does a container",
    "start": "346520",
    "end": "352600"
  },
  {
    "text": "breakout work how does priv privilege escalation work there then there's Frameworks and and tools out there that",
    "start": "352600",
    "end": "358240"
  },
  {
    "text": "can really help you not just understand what those are but actually try them out and simulate them a kubernetes goat is",
    "start": "358240",
    "end": "365280"
  },
  {
    "text": "one really good example where they talk around you know different types of attacks from the control plane to the",
    "start": "365280",
    "end": "371039"
  },
  {
    "text": "data plane in kubernetes um and help you simulate those attacks and understand what remediation steps you can take um",
    "start": "371039",
    "end": "378160"
  },
  {
    "text": "similarly Cube Hound is another one that was recently introduced by data dog and",
    "start": "378160",
    "end": "383360"
  },
  {
    "text": "that one goes into attack paths for kubernetes and how to think about the different attack paths and uh get inside",
    "start": "383360",
    "end": "389720"
  },
  {
    "text": "of a cluster for example so these are tools that I highly recommend um you know looking at really being able to",
    "start": "389720",
    "end": "396639"
  },
  {
    "text": "think about what would a threat actor do uh to simulate the different types of attacks really want any uh perspective",
    "start": "396639",
    "end": "404360"
  },
  {
    "text": "here from your end as well being a kubernetes security ninja um nothing in specific I think you",
    "start": "404360",
    "end": "411160"
  },
  {
    "text": "have covered most of the things and once we go through the demos I think we'll cover all these things again",
    "start": "411160",
    "end": "418400"
  },
  {
    "text": "cool so the first pillar uh that I'd like to talk about is visibility across",
    "start": "418400",
    "end": "423599"
  },
  {
    "text": "your supply chain and supply chain is something that's been getting a lot of um visibility you see we've seen great",
    "start": "423599",
    "end": "430319"
  },
  {
    "text": "thought leadership from um the folks at chain guard for example um and you know",
    "start": "430319",
    "end": "435639"
  },
  {
    "text": "even the analyst like Gardner talking about it so what is the container supply chain kind of how does it play into the",
    "start": "435639",
    "end": "441919"
  },
  {
    "text": "different types of attacks so when we look across the supply chain you know we're not just talking about your",
    "start": "441919",
    "end": "447960"
  },
  {
    "text": "kubernetes clusters anymore if we work backwards we're talking around looking at things like container images that are",
    "start": "447960",
    "end": "454199"
  },
  {
    "text": "being built as part of my pipelines for example in jins or being stored in",
    "start": "454199",
    "end": "459560"
  },
  {
    "text": "container Registries for example artifactory or ER and even going all the",
    "start": "459560",
    "end": "464919"
  },
  {
    "text": "way back uh to the actual you know GitHub repos and the code and the PRS",
    "start": "464919",
    "end": "470039"
  },
  {
    "text": "where they're being built and going even back to the developer laptop where the blast radius and attacks can start from",
    "start": "470039",
    "end": "477159"
  },
  {
    "text": "and so it's very important to have a holistic View into all of this because what can happen is any misconfiguration",
    "start": "477159",
    "end": "483680"
  },
  {
    "text": "or any vulnerability or malware can be introduced in any one of these parts of the supply chain um so it's not just",
    "start": "483680",
    "end": "489800"
  },
  {
    "text": "being able to proactively um or reactively remediate from a runtime",
    "start": "489800",
    "end": "494960"
  },
  {
    "text": "point of view but to be able to be proactive and catch these issues earlier for example when a container image is",
    "start": "494960",
    "end": "501319"
  },
  {
    "text": "being built and be able to enforce certain policies in guard",
    "start": "501319",
    "end": "506680"
  },
  {
    "text": "rails soone is you know uh one of our kubernetes Security Experts and Ray do",
    "start": "507639",
    "end": "513399"
  },
  {
    "text": "you want to go over this quote and uh sort of your perspective on what it means yeah sure",
    "start": "513399",
    "end": "521200"
  },
  {
    "text": "so this quote has been coined by me like when I Was preparing for my blackhead",
    "start": "521200",
    "end": "526440"
  },
  {
    "text": "talk on supply chain security and when you observe at the trends about supply",
    "start": "526440",
    "end": "531760"
  },
  {
    "text": "chain security most of the attacks happen just because the companies don't",
    "start": "531760",
    "end": "537640"
  },
  {
    "text": "know how to patch the systems it's not like they don't want to do it they procrastinate or they are not",
    "start": "537640",
    "end": "543839"
  },
  {
    "text": "interested in patching the systems it's just they don't know where to look for they don't know what their system is",
    "start": "543839",
    "end": "549760"
  },
  {
    "text": "made up of and that's when the attacker comes in and he tries to understand your",
    "start": "549760",
    "end": "555440"
  },
  {
    "text": "system better than you do and all the things start to fall so that was the context about",
    "start": "555440",
    "end": "562399"
  },
  {
    "text": "writing this and I think the next slides would cover a bit about the supply chain security or the different components and",
    "start": "562399",
    "end": "568760"
  },
  {
    "text": "things yeah yeah thank thanks rayens let's take a specific example right um you build a",
    "start": "568760",
    "end": "574760"
  },
  {
    "text": "container image for example and there are certain things right like we talk about image signing where you know you",
    "start": "574760",
    "end": "580640"
  },
  {
    "text": "have maybe Docker trust you've you've said hey the image is signed and attested um by some Authority so hey",
    "start": "580640",
    "end": "587959"
  },
  {
    "text": "we're good there similarly we're doing scanning at the registry and C Level where the image is built we're scanning",
    "start": "587959",
    "end": "593959"
  },
  {
    "text": "for vulnerabilities including at the layer level and you think you're all set but",
    "start": "593959",
    "end": "600440"
  },
  {
    "text": "it's about having kind of that snapshot point of view each time so for example an image is built and being able to look",
    "start": "600440",
    "end": "607079"
  },
  {
    "text": "deeper so imagine like we were just you know I'm I'm someone who maybe likes to",
    "start": "607079",
    "end": "612640"
  },
  {
    "text": "get Insomnia Cookies delivered every week for example right um and maybe you",
    "start": "612640",
    "end": "618279"
  },
  {
    "text": "know the 10 months that they're delivered um they're so far so great but I'm in November and not to call out any",
    "start": "618279",
    "end": "624839"
  },
  {
    "text": "brand actually let's not say insom let just say any cookies for example they're just getting delivered",
    "start": "624839",
    "end": "630240"
  },
  {
    "text": "um and we look and and we have to understand at that point in time what",
    "start": "630240",
    "end": "635959"
  },
  {
    "text": "were the ingredients used to make the cookie was it safe at that given point in time what are the contents of the",
    "start": "635959",
    "end": "641760"
  },
  {
    "text": "cookie on the inside right it's not just you know we see the chocolate chips on top but is there something inside that",
    "start": "641760",
    "end": "647720"
  },
  {
    "text": "is malicious or you know something that I cannot eat what was the state of the",
    "start": "647720",
    "end": "652760"
  },
  {
    "text": "factory when the cookie was being made or in the context of the container image being built each it's very important so",
    "start": "652760",
    "end": "660920"
  },
  {
    "text": "there a couple factors right what what am I looking at at that given point of time so a snapshot point of view and",
    "start": "660920",
    "end": "668120"
  },
  {
    "text": "also being able to deep or deep dig deep inside of the contents of that thing and not just taking an outside peripheral",
    "start": "668120",
    "end": "675000"
  },
  {
    "text": "view um and that's something that's really important in terms of looking at specific vulnerable packages for example",
    "start": "675000",
    "end": "680680"
  },
  {
    "text": "in the container image uh r with I'll delegate this one to you in terms of you want to talk about this specific",
    "start": "680680",
    "end": "687279"
  },
  {
    "text": "example uh yeah sure thanks enough uh so regarding the supply chain security that we just discussed a",
    "start": "687279",
    "end": "694800"
  },
  {
    "text": "few slides earlier this is a part of the same chain where there are fer and color",
    "start": "694800",
    "end": "701680"
  },
  {
    "text": "JS packages of npm and they have been compromised directly by the developer he",
    "start": "701680",
    "end": "708200"
  },
  {
    "text": "introduced some not malicious code he just made sure the packages stopped working and there are numerous thousands",
    "start": "708200",
    "end": "716200"
  },
  {
    "text": "of other packages that rely on them for Faker JS the weekly downloads is around",
    "start": "716200",
    "end": "722600"
  },
  {
    "text": "6 million and for color JS it was around 20 million weekly downloads M and there",
    "start": "722600",
    "end": "728040"
  },
  {
    "text": "are around 20,000 packages that depend on color JS so when color JS is affected",
    "start": "728040",
    "end": "733839"
  },
  {
    "text": "all these subsequent packages and all their users are also affected easily so",
    "start": "733839",
    "end": "740079"
  },
  {
    "text": "that's the entire path of supply chain where the core component gets broken and",
    "start": "740079",
    "end": "745120"
  },
  {
    "text": "then everything that's using it starts falling into pieces so that's where you'll have to look into different",
    "start": "745120",
    "end": "751760"
  },
  {
    "text": "things like how your software is built similar to the cookie case you're seeing a cookie and you know what it is made of",
    "start": "751760",
    "end": "758720"
  },
  {
    "text": "then you can easily say okay you don't you have diabetes for example you don't want to take in sugar when you look at",
    "start": "758720",
    "end": "765399"
  },
  {
    "text": "the ingredients you can say sure this is having sugar so I don't want to consume it similarly when you have a software if",
    "start": "765399",
    "end": "772000"
  },
  {
    "text": "there is any vulnerable package and if you have a pre-composed list of it that will help you to immediately patch the",
    "start": "772000",
    "end": "778440"
  },
  {
    "text": "systems that's where the contents of the image comes in and similarly the traceability and Provence as well like if the image",
    "start": "778440",
    "end": "785240"
  },
  {
    "text": "can really be trusted for example if you are downloading something from npm there are",
    "start": "785240",
    "end": "790519"
  },
  {
    "text": "some packages directly coming from the nodejs maintenance and there are some third party packages that come from",
    "start": "790519",
    "end": "796040"
  },
  {
    "text": "different contributors in the open source community so how do you know which one to trust which one not to trust",
    "start": "796040",
    "end": "802680"
  },
  {
    "text": "or it's inevitable that you'll have to use the things eventually so even when it is coming from an untrusted",
    "start": "802680",
    "end": "810040"
  },
  {
    "text": "U author you might end up using it or maybe you might be using a real package",
    "start": "810040",
    "end": "815360"
  },
  {
    "text": "but there can be some other package that's using the untrusted package so how to map all these things that's a",
    "start": "815360",
    "end": "823240"
  },
  {
    "text": "really challenging problem and that's where the seriousness of supply chain",
    "start": "823240",
    "end": "828839"
  },
  {
    "text": "security kicks in and all the other things around it and one question I have",
    "start": "828839",
    "end": "834680"
  },
  {
    "text": "for you is you know we've heard a lot about es bombs and you know being able to have that in terms of understanding",
    "start": "834680",
    "end": "842120"
  },
  {
    "text": "specific content for example um as for example in an image can you talk a",
    "start": "842120",
    "end": "847320"
  },
  {
    "text": "little bit about that and some of like the pros and cons around esoms for",
    "start": "847320",
    "end": "852759"
  },
  {
    "text": "example sure uh so sbom stands for supply chain software bill of materials",
    "start": "852759",
    "end": "859759"
  },
  {
    "text": "in supply chain and what it basically does is similar to cookie on the back of the cookie we get the ingredients like",
    "start": "859759",
    "end": "866079"
  },
  {
    "text": "what it is made of and how much of each each uh what's the quantity of each",
    "start": "866079",
    "end": "871240"
  },
  {
    "text": "ingredient similarly when it comes to software we just explain like okay we",
    "start": "871240",
    "end": "876480"
  },
  {
    "text": "have a nodejs application or a python application and it is using one package let's say if python it's using flask for",
    "start": "876480",
    "end": "883560"
  },
  {
    "text": "example we only stop at flask let's say in requirements file or when it comes to",
    "start": "883560",
    "end": "888920"
  },
  {
    "text": "nodejs in the package.json you look at only one entity but it subsequently",
    "start": "888920",
    "end": "895480"
  },
  {
    "text": "downloads multiple transitive dependencies and usually we tend to leave them all and that's where the S",
    "start": "895480",
    "end": "903040"
  },
  {
    "text": "bombs come into picture where it will try to keep a storage of all the transitive dependencies as well for you",
    "start": "903040",
    "end": "909639"
  },
  {
    "text": "and then when something happens you'll have a chance to look up to see okay if",
    "start": "909639",
    "end": "914759"
  },
  {
    "text": "you have 100 applications which are the applications that are using a specific package and you can easily map the",
    "start": "914759",
    "end": "921320"
  },
  {
    "text": "things awesome awesome thanks for that so one other example I'd like to talk",
    "start": "921320",
    "end": "927880"
  },
  {
    "text": "around is um admission controllers now there's of course a lot of positives",
    "start": "927880",
    "end": "933000"
  },
  {
    "text": "with admission controls for example they're able to enforce sensible and secure defaults you can use them for",
    "start": "933000",
    "end": "939160"
  },
  {
    "text": "example to say hey only allow trusted repositories and enforce when um maybe",
    "start": "939160",
    "end": "944880"
  },
  {
    "text": "there's um images for example being pulled from untrusted repos or not allowing insecure resources to be",
    "start": "944880",
    "end": "951040"
  },
  {
    "text": "deployed for example wild cards or ders controllers or overprivileged service accounts but when you're thinking like a",
    "start": "951040",
    "end": "957120"
  },
  {
    "text": "threat actor um one of the things you have to account for is let's are they going to attack the things that are not",
    "start": "957120",
    "end": "964880"
  },
  {
    "text": "obvious and the things that are actually you think are doing secure things but",
    "start": "964880",
    "end": "970680"
  },
  {
    "text": "maybe if attacked can be even worse right if for example if somebody goes",
    "start": "970680",
    "end": "975839"
  },
  {
    "text": "into my house and attacks the security cameras uh then they have access to",
    "start": "975839",
    "end": "981440"
  },
  {
    "text": "everything and we may think those security cameras are secure but we also need to think about when attacked what",
    "start": "981440",
    "end": "987519"
  },
  {
    "text": "can happen and Mission controls uh of course act as a key guard rail but when",
    "start": "987519",
    "end": "992560"
  },
  {
    "text": "attacked can be extremely malicious um so the key challenge is how do I know",
    "start": "992560",
    "end": "998000"
  },
  {
    "text": "that my admission controller is secure at any given point in time and so one",
    "start": "998000",
    "end": "1003720"
  },
  {
    "text": "example we have here is uh mutating web hook configuration where um we see that",
    "start": "1003720",
    "end": "1010519"
  },
  {
    "text": "uh we wanted we want to do a cube cuddle run engine X and this is very common right just you know pulling and",
    "start": "1010519",
    "end": "1016639"
  },
  {
    "text": "deploying an engine X image but it turns out there was a mutating web hook that was deployed on my cluster that is",
    "start": "1016639",
    "end": "1023600"
  },
  {
    "text": "actually uh leading uh instead of pulling enginex X when we have this command it's actually pulling a",
    "start": "1023600",
    "end": "1029038"
  },
  {
    "text": "malicious image and so you have to watch out for these specific configurations at",
    "start": "1029039",
    "end": "1034160"
  },
  {
    "text": "any point in time it's not just say like we have the admission controller it's deployed on the cluster and we're all",
    "start": "1034160",
    "end": "1040720"
  },
  {
    "text": "set we have to look at every we have to have continuous uh posture over what those admission controllers mutating web",
    "start": "1040720",
    "end": "1047640"
  },
  {
    "text": "hook configuration and other key components of our kubernetes uh control plane and data plane are",
    "start": "1047640",
    "end": "1053919"
  },
  {
    "text": "doing so there's a Blog here by rayth you can feel free to check this out around how to create these malicious",
    "start": "1053919",
    "end": "1059520"
  },
  {
    "text": "admission controllers set this up and we'll dive deep into a little bit of a demo um towards the second half of this",
    "start": "1059520",
    "end": "1066039"
  },
  {
    "text": "uh",
    "start": "1066039",
    "end": "1068240"
  },
  {
    "text": "talk so one example uh Ray do you want to go into this crypto mining example",
    "start": "1072320",
    "end": "1079840"
  },
  {
    "text": "sure so just adding on to what ABN has mentioned about malicious admission",
    "start": "1079840",
    "end": "1085640"
  },
  {
    "text": "controllers or the malicious mutating web hooks there are different ways an attacker can gain persistence on the",
    "start": "1085640",
    "end": "1091799"
  },
  {
    "text": "systems and once the system is compromised the attacker wants to stay in the system as long as possible",
    "start": "1091799",
    "end": "1098520"
  },
  {
    "text": "without being caught so they can get the most Ben out of it and one way to do",
    "start": "1098520",
    "end": "1104039"
  },
  {
    "text": "that would be leveraging this mutating web Hooks and they can add an init container or a side",
    "start": "1104039",
    "end": "1111039"
  },
  {
    "text": "carard to each of your deployment so let's say you are deploying a application and nodejs or python or",
    "start": "1111039",
    "end": "1117679"
  },
  {
    "text": "goang application you just expose it on a service through a port and once you",
    "start": "1117679",
    "end": "1123280"
  },
  {
    "text": "make a deployment through Jenkins job your application gets deployed and it will be accessible to the outside and",
    "start": "1123280",
    "end": "1129640"
  },
  {
    "text": "you start using it but you don't really tend to look at what's happening behind",
    "start": "1129640",
    "end": "1135120"
  },
  {
    "text": "the scenes at least not often maybe some sometimes we do that so let's say if you",
    "start": "1135120",
    "end": "1140760"
  },
  {
    "text": "have a side card running along with your application and if it is running a crypto Miner it will run in the",
    "start": "1140760",
    "end": "1146400"
  },
  {
    "text": "background it will not tamper with your application it will not stop your application from running so whenever you",
    "start": "1146400",
    "end": "1152600"
  },
  {
    "text": "try to use it it gives you an very good performance considering you're able to",
    "start": "1152600",
    "end": "1158840"
  },
  {
    "text": "access the application but in the back end that doesn't work like that your system is compromised or the resources",
    "start": "1158840",
    "end": "1165039"
  },
  {
    "text": "are being consumed or there can be an attacker sitting and monitoring all the network traffic so how do you detect",
    "start": "1165039",
    "end": "1171240"
  },
  {
    "text": "these kind of things we do have the CIS benchmarking from different companies or",
    "start": "1171240",
    "end": "1176440"
  },
  {
    "text": "from different vendors including governments like uh organizations like the NSA and Department of Defense but",
    "start": "1176440",
    "end": "1183159"
  },
  {
    "text": "they only look at the static scanning side of things how do you prevent or look at this Dynamic side of things",
    "start": "1183159",
    "end": "1190039"
  },
  {
    "text": "that's what our main aim is on runtime security so we'll do a demo on this so I think it will get more clear yeah should",
    "start": "1190039",
    "end": "1197440"
  },
  {
    "text": "we start with the demo uh sure so we'll so the first demo we'll",
    "start": "1197440",
    "end": "1203600"
  },
  {
    "text": "try to do is how easy is it to set up a crypto mining service on a kubernetes",
    "start": "1203600",
    "end": "1210840"
  },
  {
    "text": "environment so when compared to monolithic systems the kuity systems are",
    "start": "1210840",
    "end": "1215880"
  },
  {
    "text": "quite different so let me know if you can see the",
    "start": "1215880",
    "end": "1221600"
  },
  {
    "text": "screen so this is a website called mining pool stat where you can look at",
    "start": "1225120",
    "end": "1231240"
  },
  {
    "text": "all the crypto mining sorry all the cryptocurrencies where happens and we looking at the",
    "start": "1231240",
    "end": "1237600"
  },
  {
    "text": "Monero Serv for example and these are all the different pools that are available for us where can connect with",
    "start": "1237600",
    "end": "1244080"
  },
  {
    "text": "them once you mine you can send out the results to it and then you'll be getting the money and you can see the number of",
    "start": "1244080",
    "end": "1250799"
  },
  {
    "text": "concurrent miners at a point of time as well as what are the connection settings",
    "start": "1250799",
    "end": "1256320"
  },
  {
    "text": "how can you mine something and connect with the these pools and the other port numbers like a SSL port and a non SSL",
    "start": "1256320",
    "end": "1265120"
  },
  {
    "text": "Port so the first thing would be we'll need to have a configuration in order to",
    "start": "1265799",
    "end": "1271480"
  },
  {
    "text": "run the crypto Miner and we'll use something called XM rig and here the URL will be getting it",
    "start": "1271480",
    "end": "1279679"
  },
  {
    "text": "from this page and similarly you can create a new user information so whenever you mine something you get the",
    "start": "1279679",
    "end": "1288679"
  },
  {
    "text": "profit out of it but for this use case I'll just copy a random users ID and",
    "start": "1288679",
    "end": "1295360"
  },
  {
    "text": "then we'll just use it over there and then we'll just do a simple",
    "start": "1295360",
    "end": "1301440"
  },
  {
    "text": "deployment where we are trying to pull a xmri image so even if you check on the",
    "start": "1301440",
    "end": "1306760"
  },
  {
    "text": "docker Hub it's quite famous like all the attackers have been using it and it got more than a million downloads I mean",
    "start": "1306760",
    "end": "1313440"
  },
  {
    "text": "million pulls if you see on the right side",
    "start": "1313440",
    "end": "1320039"
  },
  {
    "text": "and the others are some basic",
    "start": "1322200",
    "end": "1326158"
  },
  {
    "text": "configurations so first we try to create a config map of the configuration I think it already exists because I was",
    "start": "1329200",
    "end": "1336080"
  },
  {
    "text": "just testing out before the demo we'll just delete it out and then create a fresh",
    "start": "1336080",
    "end": "1342960"
  },
  {
    "text": "one",
    "start": "1346960",
    "end": "1349960"
  },
  {
    "text": "so once we create a config map with the usern name and the URLs where it has to connect",
    "start": "1353520",
    "end": "1360200"
  },
  {
    "text": "with we will use this to load it into the xmri",
    "start": "1360320",
    "end": "1366278"
  },
  {
    "text": "deployment so the main idea behind showing this is to demonstrate how easy",
    "start": "1368760",
    "end": "1374600"
  },
  {
    "text": "it is to have a crypt Miner running in in the world of kubernetes or the",
    "start": "1374600",
    "end": "1380200"
  },
  {
    "text": "containers unlike the monolith applications where you'll have to do so many other things and once you have you",
    "start": "1380200",
    "end": "1387919"
  },
  {
    "text": "can configure everything starting from number of threads or the CPU usage the memory usage so if you are putting it to",
    "start": "1387919",
    "end": "1394279"
  },
  {
    "text": "very low the users will not even find any difference in it and it goes",
    "start": "1394279",
    "end": "1403919"
  },
  {
    "text": "on so I think yeah that's a bit that's a short demo on how we can LEL",
    "start": "1403919",
    "end": "1412880"
  },
  {
    "text": "Mining and the configurations are available on a GitHub repository we'll",
    "start": "1412880",
    "end": "1418039"
  },
  {
    "text": "share the links post webinar and if you want to try you can just do a quick hands on demo as",
    "start": "1418039",
    "end": "1424799"
  },
  {
    "text": "well and we got one more explain about the mutating web hooks I think we'll do",
    "start": "1424799",
    "end": "1430039"
  },
  {
    "text": "that after this yeah over to your yeah thanks rayin so that was a great example",
    "start": "1430039",
    "end": "1435919"
  },
  {
    "text": "where um sort of being able to think like a threat actor trying to actually simulate the types of attacks uh prove",
    "start": "1435919",
    "end": "1442360"
  },
  {
    "text": "to be very valuable and understanding for example of of course the pros of admission control but when they are",
    "start": "1442360",
    "end": "1449240"
  },
  {
    "text": "compromised what the what are the kinds of things they can lead to so just um",
    "start": "1449240",
    "end": "1454640"
  },
  {
    "text": "you know only going to spend a minute on this in terms of takeaways um always have point in time snapshot of your",
    "start": "1454640",
    "end": "1460760"
  },
  {
    "text": "security posture not it's not just about starting the monitoring but of course making sure that in a given point in",
    "start": "1460760",
    "end": "1467279"
  },
  {
    "text": "time what am I looking at and making sure that we relying on a combination of the following for images not just of",
    "start": "1467279",
    "end": "1473440"
  },
  {
    "text": "course scanning and signing and verification but also looking at provenance and traceability um as",
    "start": "1473440",
    "end": "1479799"
  },
  {
    "text": "explained before so uh for time purposes I'm going to move on to the next pillar",
    "start": "1479799",
    "end": "1485360"
  },
  {
    "text": "which is um you want when we're looking at attacks right um there's a big",
    "start": "1485360",
    "end": "1490720"
  },
  {
    "text": "question around where do we start especially if I'm new to kubernetes and you know from the data um it seems you",
    "start": "1490720",
    "end": "1497320"
  },
  {
    "text": "know the best place to start is to start with our back and to dive deeper and one data point is uh this is the miner",
    "start": "1497320",
    "end": "1503960"
  },
  {
    "text": "attack framework for uh containers and if you look at across pretty much all these buckets right um there's always",
    "start": "1503960",
    "end": "1510919"
  },
  {
    "text": "some element of um our back right that comes into play because there's always a",
    "start": "1510919",
    "end": "1515960"
  },
  {
    "text": "question of you know how do I get in and once I get in of course there's a lot of different things you can do but it's",
    "start": "1515960",
    "end": "1522399"
  },
  {
    "text": "that initial sort of key to the door uh to make sure that um you want to be able",
    "start": "1522399",
    "end": "1527720"
  },
  {
    "text": "to at least protect that and understand you know what are you're auditing uh your permissions you want to be able to",
    "start": "1527720",
    "end": "1533640"
  },
  {
    "text": "understand uh the different controls and access controls you have in your system so I'll give a couple examples um so",
    "start": "1533640",
    "end": "1542720"
  },
  {
    "text": "here uh this was uh from um you know Aqua security and they talk around um",
    "start": "1542720",
    "end": "1549760"
  },
  {
    "text": "racks and and cluster roles this is an interesting one because we noticed that there's a System Controller uh Cube",
    "start": "1549760",
    "end": "1556520"
  },
  {
    "text": "controller uh named for this cluster role and what happens sometimes is we're in this mindset saying hey this looks",
    "start": "1556520",
    "end": "1562960"
  },
  {
    "text": "like something that is a system role uh let's allow for it but it turns out this system role has all excessive",
    "start": "1562960",
    "end": "1569840"
  },
  {
    "text": "permissions and so it's very important that uh to understand that threat actors will try to hide behind benign names or",
    "start": "1569840",
    "end": "1576600"
  },
  {
    "text": "components that seem important could actually be harmful or could be exploited uh in this case even though um",
    "start": "1576600",
    "end": "1583760"
  },
  {
    "text": "it's this was a custom cluster role that was called the system name and so it seemed benign but was actually",
    "start": "1583760",
    "end": "1590399"
  },
  {
    "text": "malicious um so and one important thing to note is that miscon can also be",
    "start": "1590399",
    "end": "1596159"
  },
  {
    "text": "introduced via human error or using defaults so many times in our clusters we have default service accounts that",
    "start": "1596159",
    "end": "1603080"
  },
  {
    "text": "have you know star permissions across the cluster and while those are good from a devops point of view to just you",
    "start": "1603080",
    "end": "1609120"
  },
  {
    "text": "know quickly try things and get started when we're thinking about Enterprise security we have to understand to that",
    "start": "1609120",
    "end": "1615720"
  },
  {
    "text": "those default service accounts um should not actually be used on the cluster and if they're lying around they can pose",
    "start": "1615720",
    "end": "1622120"
  },
  {
    "text": "major major threats um and here's an example um in",
    "start": "1622120",
    "end": "1627640"
  },
  {
    "text": "terms of lateral movements via default service accounts where say you're using a shared eks cluster and you have Team",
    "start": "1627640",
    "end": "1634559"
  },
  {
    "text": "Alpha and team beta and the different name spaces here uh we'll notice that",
    "start": "1634559",
    "end": "1639799"
  },
  {
    "text": "what's happening is that um while you know the namespace alpha 1 and namespace",
    "start": "1639799",
    "end": "1645080"
  },
  {
    "text": "Alpha 3 in this case have locks in them namespace Alpha 2 is using a default",
    "start": "1645080",
    "end": "1651279"
  },
  {
    "text": "service account that has cluster wide privileges assigned to it so if any malware appears in the namespace Alpha 2",
    "start": "1651279",
    "end": "1658760"
  },
  {
    "text": "it can actually spread to the rest of the cluster and laterally move and so you need platforms you need an",
    "start": "1658760",
    "end": "1666039"
  },
  {
    "text": "understanding of what are those um rback misconfigurations uh not just in terms of um at the cluster level but at an",
    "start": "1666039",
    "end": "1673480"
  },
  {
    "text": "individual namespace level as well Ray do you want to discuss this one",
    "start": "1673480",
    "end": "1679760"
  },
  {
    "text": "around zero trust and I am in the cloud and how it relates uh to your kubernetes service account",
    "start": "1679760",
    "end": "1685600"
  },
  {
    "text": "security sure I think abna has covered a wide range of things starting from the",
    "start": "1685600",
    "end": "1691640"
  },
  {
    "text": "supply chain security and the other pillars for our back and This falls under the similar scenario where we are",
    "start": "1691640",
    "end": "1698519"
  },
  {
    "text": "trying to enforce the zero trust model or trying to have a least privilege",
    "start": "1698519",
    "end": "1703880"
  },
  {
    "text": "access in the cloud environments because in the cloud environments you had issue",
    "start": "1703880",
    "end": "1709399"
  },
  {
    "text": "or when one of the components get compromised you want to make sure the blast radius is less for let's take a",
    "start": "1709399",
    "end": "1716519"
  },
  {
    "text": "scenario where one of your application fetches takes a file from the user and tries to upload it to an S3 bucket so",
    "start": "1716519",
    "end": "1724440"
  },
  {
    "text": "how do you make sure the authentication between your application and the S3 bucket is secure or it's in the best way",
    "start": "1724440",
    "end": "1733640"
  },
  {
    "text": "possible and one way of the simplest way to do would be using the IM IM users in",
    "start": "1733640",
    "end": "1738760"
  },
  {
    "text": "AWS directly but in that scenario you'll have the keys directly within your",
    "start": "1738760",
    "end": "1745080"
  },
  {
    "text": "application and if that gets compromised an attacker can easily extract that and reuse that to authenticate to the S3",
    "start": "1745080",
    "end": "1752480"
  },
  {
    "text": "bucket or if those credentials are having more privileges like if they can access the other resources like the RDS",
    "start": "1752480",
    "end": "1760600"
  },
  {
    "text": "or I then that will be even a bigger blast radius and the one would be to attach",
    "start": "1760600",
    "end": "1767919"
  },
  {
    "text": "these roles directly to the nodes where your pod is running on and even in that",
    "start": "1767919",
    "end": "1773159"
  },
  {
    "text": "case there have some scenarios where uh if it gets compromised the blast radius will be huge the more secure way and the",
    "start": "1773159",
    "end": "1781080"
  },
  {
    "text": "one that AWS recommends is to use the oidc providers like the I IM rules for",
    "start": "1781080",
    "end": "1787039"
  },
  {
    "text": "service accounts where you try to have a tight binding between your pod and the",
    "start": "1787039",
    "end": "1792600"
  },
  {
    "text": "S3 bucket so we won't go in great detail but there is a blog post available on that so if you interested you can have a",
    "start": "1792600",
    "end": "1799080"
  },
  {
    "text": "look at it but the main idea of showing this is to say how easy it is to just",
    "start": "1799080",
    "end": "1804880"
  },
  {
    "text": "take the wrong path in order to achieve the goal if you see there are different ways to connect your application with S3",
    "start": "1804880",
    "end": "1811600"
  },
  {
    "text": "bucket but it often depends on how you are doing it and in case of compromise of the Pod what are the preventive",
    "start": "1811600",
    "end": "1818480"
  },
  {
    "text": "controls you have or what are the difference in depth steps you have to take care of that and Rens one thing around um",
    "start": "1818480",
    "end": "1827440"
  },
  {
    "text": "service accounts and sort of our back like role bindings in a cluster can you talk around the difference between um",
    "start": "1827440",
    "end": "1833960"
  },
  {
    "text": "for example if I'm scoping to a name space right um there's a difference",
    "start": "1833960",
    "end": "1839039"
  },
  {
    "text": "between sort of object scoping versus permission scoping do you want to talk about that or I can dive a little bit",
    "start": "1839039",
    "end": "1845039"
  },
  {
    "text": "into that yes sure I think you can take yeah so one thing we want to account for as well is even if we have the logs",
    "start": "1845039",
    "end": "1851880"
  },
  {
    "text": "right say we're scoped to a specific name space we also have to look at permissions in inside of that specific",
    "start": "1851880",
    "end": "1858240"
  },
  {
    "text": "namespace because tomorrow if that Nam space is compromised say there's um an open there's no network policy for that",
    "start": "1858240",
    "end": "1864919"
  },
  {
    "text": "name space and it's able to laterally move and talk to the rest of the cluster we have problems and so that is",
    "start": "1864919",
    "end": "1871279"
  },
  {
    "text": "something that also doesn't get enough attention not just looking at what are we scoping the permission to for a given",
    "start": "1871279",
    "end": "1878399"
  },
  {
    "text": "developer for example saying hey that developer only has the ability to talk in what name in X name space but what",
    "start": "1878399",
    "end": "1885919"
  },
  {
    "text": "are the permissions inside of that name space as well if for example say the developer compromised and they",
    "start": "1885919",
    "end": "1892880"
  },
  {
    "text": "accidentally delete audit logs uh because they have the permission to in that name space and tomorrow we need to",
    "start": "1892880",
    "end": "1898760"
  },
  {
    "text": "uh we see that name space led to some compromise because um the the permissions were changed the you know",
    "start": "1898760",
    "end": "1905080"
  },
  {
    "text": "something you know it led to um you know laterally lateral movements inside the",
    "start": "1905080",
    "end": "1910159"
  },
  {
    "text": "rest of the cluster then we have a problem as well and so it's not just about the scoping of the Your Role",
    "start": "1910159",
    "end": "1915720"
  },
  {
    "text": "bindings in kubernetes um you know kubernetes of course is cluster Ro binding and just the generic",
    "start": "1915720",
    "end": "1921519"
  },
  {
    "text": "role binding where generic role bindings are typically used for Nam spases or pods but it's also about the permissions",
    "start": "1921519",
    "end": "1928559"
  },
  {
    "text": "with that role binding and what for example um a developer from an in developer self-service model is able to",
    "start": "1928559",
    "end": "1935279"
  },
  {
    "text": "do within that context so just wanted to address that as",
    "start": "1935279",
    "end": "1941840"
  },
  {
    "text": "well so for rbac in terms of starting with rbac and Diving deeper always have",
    "start": "1942039",
    "end": "1947679"
  },
  {
    "text": "a way to monitor your identities in and across your clusters uh leverage Concepts such as IRAs and pod identity",
    "start": "1947679",
    "end": "1954760"
  },
  {
    "text": "this was actually something that uh was for example introduced at I think reinvent this week to to map kubernetes",
    "start": "1954760",
    "end": "1960840"
  },
  {
    "text": "service accounts to core IM roles that are properly managed and audited and you leverage Concepts such as oidc to make",
    "start": "1960840",
    "end": "1967320"
  },
  {
    "text": "sure you're secure have secure access to resources in your cloud and of course you can leverage security platforms or",
    "start": "1967320",
    "end": "1973760"
  },
  {
    "text": "tooling that helps you answer key questions about your rback posture um of course when you have thousands of",
    "start": "1973760",
    "end": "1979679"
  },
  {
    "text": "thousands of apps you want to have high L questions that you can answer and we we'll go into that in a little bit further into the call",
    "start": "1979679",
    "end": "1987159"
  },
  {
    "text": "but cool so Rens do you want to go uh into another demo uh yeah sure let",
    "start": "1987159",
    "end": "1995720"
  },
  {
    "text": "me um share my screen and then we can just",
    "start": "1995720",
    "end": "2001120"
  },
  {
    "text": "have a quick look so this is uh a demo",
    "start": "2001120",
    "end": "2007559"
  },
  {
    "text": "from to end perspective where you have an application and how does an attacker leverage it or how does he try to gain",
    "start": "2007559",
    "end": "2014039"
  },
  {
    "text": "the persistence within the system so in this scenario we have an",
    "start": "2014039",
    "end": "2020000"
  },
  {
    "text": "application running on this specific uh IP address and",
    "start": "2020000",
    "end": "2028399"
  },
  {
    "text": "port and if you see it's just a regular application which got a whole set of",
    "start": "2028399",
    "end": "2034120"
  },
  {
    "text": "features displaying multiple things like the integration or some examples as",
    "start": "2034120",
    "end": "2039919"
  },
  {
    "text": "well on how to use it up and some configurations and tags and so on many",
    "start": "2039919",
    "end": "2046720"
  },
  {
    "text": "other features and as a user you'll tend to",
    "start": "2046720",
    "end": "2053520"
  },
  {
    "text": "just use this application in a regular way but when it comes to the security side of things or when it comes to the",
    "start": "2053520",
    "end": "2059760"
  },
  {
    "text": "attackers they try to enumerate the application and try to see what it's built off similar to the cookie example",
    "start": "2059760",
    "end": "2065398"
  },
  {
    "text": "that we discussed earlier trying to understand what a cook is made of and if",
    "start": "2065399",
    "end": "2070800"
  },
  {
    "text": "you see we can see bunch of information about it saying what's the server type and what is the target host name so",
    "start": "2070800",
    "end": "2077760"
  },
  {
    "text": "there is something called showcase action that we are seeing and ncto is a tool that allows",
    "start": "2077760",
    "end": "2084760"
  },
  {
    "text": "you to look through the web application banners and fit some use information we got some information but",
    "start": "2084760",
    "end": "2092040"
  },
  {
    "text": "it's not really helpful so far so what we'll try to do is we'll try to use tool",
    "start": "2092040",
    "end": "2097520"
  },
  {
    "text": "called nmap that will allow you to scan the specific port or the entire service",
    "start": "2097520",
    "end": "2104320"
  },
  {
    "text": "or the subnet to look for what are the open ports that are running or what are the",
    "start": "2104320",
    "end": "2109400"
  },
  {
    "text": "kind of services that are running on the application of the",
    "start": "2109400",
    "end": "2115920"
  },
  {
    "text": "system so here what we are trying to do is we are trying to scan specific port",
    "start": "2116079",
    "end": "2121680"
  },
  {
    "text": "number because we know that is available but for some reason the server is blocking our pink probes so we'll try",
    "start": "2121680",
    "end": "2130040"
  },
  {
    "text": "to just skip that and if you see it shows scanning ec2 something so it also",
    "start": "2130040",
    "end": "2136160"
  },
  {
    "text": "tells you that this application is being executed on an ec2",
    "start": "2136160",
    "end": "2141960"
  },
  {
    "text": "system and if you see it is having some information like the server",
    "start": "2141960",
    "end": "2148079"
  },
  {
    "text": "headers and the versioning information so we can quickly try to search what",
    "start": "2148079",
    "end": "2154520"
  },
  {
    "text": "kind of uh things are AV aailable and I just gave a space in my browser and it",
    "start": "2154520",
    "end": "2159800"
  },
  {
    "text": "automatically showed exploit over there so it is definitely exploitable or it's",
    "start": "2159800",
    "end": "2165079"
  },
  {
    "text": "been a very old one what caught my attention was the",
    "start": "2165079",
    "end": "2170200"
  },
  {
    "text": "struct to where so exploit DB is a place where you can look for",
    "start": "2170200",
    "end": "2176599"
  },
  {
    "text": "CVS of the specific vulnerabilities uh and stuff so what we'll try to do is",
    "start": "2176599",
    "end": "2181960"
  },
  {
    "text": "we'll just copy this specific payload which is publicly available as a proof of concept and since the system is not",
    "start": "2181960",
    "end": "2189880"
  },
  {
    "text": "patched we'll try to execute it and see if the end system is vulnerable for this",
    "start": "2189880",
    "end": "2195960"
  },
  {
    "text": "vulnerability or if we can exploit that so if you see like we have the code",
    "start": "2195960",
    "end": "2202760"
  },
  {
    "text": "and CV 2017 so it's a pretty old one and we still find these applications every",
    "start": "2202760",
    "end": "2209680"
  },
  {
    "text": "day if you look at showan or the other sensors kind of search engines",
    "start": "2209680",
    "end": "2217760"
  },
  {
    "text": "uh maybe it must be python 2 so and it requires the IP address of the",
    "start": "2217760",
    "end": "2225520"
  },
  {
    "text": "machine so what we'll try to do is we'll just give the IP address of the machine and then we'll give the command the",
    "start": "2227359",
    "end": "2234280"
  },
  {
    "text": "exploit DB is having the entire code to bypass or leverage the vulnerability and",
    "start": "2234280",
    "end": "2239440"
  },
  {
    "text": "perform a remote code execution so I execute commands from my machine and",
    "start": "2239440",
    "end": "2244839"
  },
  {
    "text": "they geted on the application system so ifconfig doio is a website",
    "start": "2244839",
    "end": "2253960"
  },
  {
    "text": "where you can get the public IP address of yours or any system so this is my IP",
    "start": "2253960",
    "end": "2260680"
  },
  {
    "text": "address of the server where I'm running on and if I want to check where the so",
    "start": "2260680",
    "end": "2267800"
  },
  {
    "text": "what I'm simply doing is we are passing on the IP address of the URL and we are",
    "start": "2267800",
    "end": "2273000"
  },
  {
    "text": "sending the commands that we want to be executed there and and if you see the IP",
    "start": "2273000",
    "end": "2278480"
  },
  {
    "text": "address is different from my IP address and it gives the IP address of that machine which of course we know from the",
    "start": "2278480",
    "end": "2285720"
  },
  {
    "text": "URL but just wanted to double check so this is good for running One",
    "start": "2285720",
    "end": "2292599"
  },
  {
    "text": "to1 commands but if you want to perform some extensive operations it's not a feasible approach you should get a shell",
    "start": "2292599",
    "end": "2300240"
  },
  {
    "text": "on the system and the way to do it is using a river shell for",
    "start": "2300240",
    "end": "2305520"
  },
  {
    "text": "example and NC is netcat it's a tool that will help us to connect make socket",
    "start": "2305520",
    "end": "2311640"
  },
  {
    "text": "connections with the other applications and try to gain",
    "start": "2311640",
    "end": "2317078"
  },
  {
    "text": "access so here we just try to get a reversal payload from a GitHub",
    "start": "2318000",
    "end": "2323319"
  },
  {
    "text": "repository you'll find it all over the Internet it just opens a TCP socket",
    "start": "2323319",
    "end": "2329359"
  },
  {
    "text": "connection from the source to the destination so the destination would be",
    "start": "2329359",
    "end": "2334880"
  },
  {
    "text": "my IP address and the port that I'll be listening on so it's",
    "start": "2334880",
    "end": "2341200"
  },
  {
    "text": "1337 and this is my IP address so once I execute",
    "start": "2341200",
    "end": "2346319"
  },
  {
    "text": "this we should be able to see a shell but first let's make sure there is",
    "start": "2346319",
    "end": "2353319"
  },
  {
    "text": "communication between my server and the application that would be the primary",
    "start": "2353319",
    "end": "2359240"
  },
  {
    "text": "requirement because we need to see if we can even access it so I'll try",
    "start": "2359240",
    "end": "2365119"
  },
  {
    "text": "to do a ping command but the Ping goes on forever so I made sure I'm giving like minus C1 so it will send",
    "start": "2365119",
    "end": "2371319"
  },
  {
    "text": "only one packet and then return the response rather than waiting for it but still I didn't get anything so",
    "start": "2371319",
    "end": "2377960"
  },
  {
    "text": "we'll kill that out and we'll put a timeout saying if in 2 seconds if you're not",
    "start": "2377960",
    "end": "2384560"
  },
  {
    "text": "getting any response just terminate it and you can see the 100% packet loss",
    "start": "2384560",
    "end": "2392040"
  },
  {
    "text": "happened so it means the application is trying to connect with my IP address of 501 120 140 and 105 but it's not able to",
    "start": "2392040",
    "end": "2400240"
  },
  {
    "text": "connect to this so it can be because of multiple reasons maybe the outburn connections",
    "start": "2400240",
    "end": "2405960"
  },
  {
    "text": "are completely blocked from the system so that's the reason and in those scenarios you won't be able to get a",
    "start": "2405960",
    "end": "2411359"
  },
  {
    "text": "reverse shell but in some scenarios maybe the icmp is blogged so just we are",
    "start": "2411359",
    "end": "2417280"
  },
  {
    "text": "not able to do a ping so we'll see if we can make HTTP request out of it so we",
    "start": "2417280",
    "end": "2423599"
  },
  {
    "text": "can be sure that at least the system is able to connect to the outside servers",
    "start": "2423599",
    "end": "2430520"
  },
  {
    "text": "using HTTP request so I start a python server on my",
    "start": "2430520",
    "end": "2435640"
  },
  {
    "text": "system and then I just try to make a curl or dou get",
    "start": "2435640",
    "end": "2442400"
  },
  {
    "text": "command uh yeah I think the quote is missing if you see the request came and",
    "start": "2442400",
    "end": "2450200"
  },
  {
    "text": "we able to see the response so this clarifies or Ensure",
    "start": "2450200",
    "end": "2456960"
  },
  {
    "text": "that the system can make connections but the icmp is blocked whereas the TCP",
    "start": "2456960",
    "end": "2463880"
  },
  {
    "text": "connections of the HTTP connections are open we tested for HTTP now we'll try",
    "start": "2463880",
    "end": "2468920"
  },
  {
    "text": "for TCP there are reversals available in HTTP as well so we can get HTTP reversals",
    "start": "2468920",
    "end": "2475119"
  },
  {
    "text": "so that's not a constraint for us and now what this simply does is it",
    "start": "2475119",
    "end": "2482960"
  },
  {
    "text": "will open a TCP connection and it will pass on the bash terminal over that socket",
    "start": "2482960",
    "end": "2490799"
  },
  {
    "text": "connection we should get a shell sometimes there can be some network issues and it will take couple of",
    "start": "2491040",
    "end": "2498599"
  },
  {
    "text": "seconds but usually it should be instantaneous if all the connectivity is",
    "start": "2498599",
    "end": "2504839"
  },
  {
    "text": "good we'll just try again we'll just restart it and it",
    "start": "2505240",
    "end": "2513200"
  },
  {
    "text": "should usually work yeah so we have a connection if you",
    "start": "2513200",
    "end": "2521359"
  },
  {
    "text": "see who am I like I'm the root user and also if you see the host name",
    "start": "2521720",
    "end": "2528079"
  },
  {
    "text": "it is the IP address of that sorry it's the host name is different from mine",
    "start": "2528079",
    "end": "2534560"
  },
  {
    "text": "it's some web something it clears up that we are on",
    "start": "2534560",
    "end": "2540880"
  },
  {
    "text": "the victims machine or the application yeah so if you see it is so",
    "start": "2540880",
    "end": "2547200"
  },
  {
    "text": "usually this is a structure for a pod it will be the name of the",
    "start": "2547200",
    "end": "2553200"
  },
  {
    "text": "application replica set and some random values and we can see at all the processes available on the",
    "start": "2553200",
    "end": "2560720"
  },
  {
    "text": "machine so now since we know it is running on kubernetes or we guessed",
    "start": "2561040",
    "end": "2566079"
  },
  {
    "text": "it we can try to enumerate system but in this specific scenario since it's made",
    "start": "2566079",
    "end": "2571760"
  },
  {
    "text": "for the demo I know what's exactly wrong with it so we'll just look at get the service account available because that's",
    "start": "2571760",
    "end": "2578359"
  },
  {
    "text": "a common thing that is done by all the applications they mount the service account into the kubernetes environment",
    "start": "2578359",
    "end": "2585680"
  },
  {
    "text": "or the deployment I think abov has covered this",
    "start": "2585680",
    "end": "2590920"
  },
  {
    "text": "in the previous thing related to rback so it falls under the same category so what we'll try to do",
    "start": "2590920",
    "end": "2599838"
  },
  {
    "text": "is we are trying to connect with the AP server from",
    "start": "2602800",
    "end": "2609760"
  },
  {
    "text": "here so for people who are new to kubernetes um service account simply gives you a",
    "start": "2609760",
    "end": "2618240"
  },
  {
    "text": "method to authenticate to the API server and perform some operations so it's like",
    "start": "2618240",
    "end": "2623319"
  },
  {
    "text": "your authentication token we can say but it got tied with its own set of",
    "start": "2623319",
    "end": "2628599"
  },
  {
    "text": "privileges so sometimes you can say it should not have any privilege to do any operation or sometimes you can give it",
    "start": "2628599",
    "end": "2635440"
  },
  {
    "text": "wide set of privileges",
    "start": "2635440",
    "end": "2640240"
  },
  {
    "text": "so we'll use that to connect with the S server and see if we can perform some operations so if you see all these uh",
    "start": "2641240",
    "end": "2650640"
  },
  {
    "text": "values we are trying to connect the AP server and we are able to get some",
    "start": "2650640",
    "end": "2656640"
  },
  {
    "text": "values from it and similarly we'll see if we can list secrets in a kubernetes",
    "start": "2656640",
    "end": "2663558"
  },
  {
    "text": "environment using a similar method",
    "start": "2663720",
    "end": "2669040"
  },
  {
    "text": "and yeah so looks like we are able to list the secrets as well this is all cool but this is all the readon access",
    "start": "2670480",
    "end": "2678800"
  },
  {
    "text": "so you can extract the tokens and if there are any API Keys stored on your kubernetes system you can easily extract when this",
    "start": "2678800",
    "end": "2686559"
  },
  {
    "text": "kind of misconfiguration happens but what we are interested in is something",
    "start": "2686559",
    "end": "2692440"
  },
  {
    "text": "more so this is my blog on where I just",
    "start": "2692440",
    "end": "2697520"
  },
  {
    "text": "write about the security side of things so this is something we just discussed",
    "start": "2697520",
    "end": "2703400"
  },
  {
    "text": "on the Malo submission controller so this is how the workflow looks like in kubernetes you get a",
    "start": "2703400",
    "end": "2710160"
  },
  {
    "text": "request that passes on through multiple phases we'll not discuss in detail but once the authentication is successful it",
    "start": "2710160",
    "end": "2716920"
  },
  {
    "text": "comes the mutating place where you can mutate the request once you have a incoming request you get to choose if",
    "start": "2716920",
    "end": "2724160"
  },
  {
    "text": "you want to pass it on like that or if you want to make some changes to it and now we are exploiting that specific",
    "start": "2724160",
    "end": "2731920"
  },
  {
    "text": "component I also have a GitHub repository on the same so if you want to try it out you can do it uh post the",
    "start": "2733079",
    "end": "2741599"
  },
  {
    "text": "webinar or whenever you feel so it's a simply a go code it will",
    "start": "2741599",
    "end": "2748160"
  },
  {
    "text": "try to connect with the API server sorry when an application tries to connect with API server it performs some",
    "start": "2748160",
    "end": "2755040"
  },
  {
    "text": "mutating operation on",
    "start": "2755040",
    "end": "2758240"
  },
  {
    "text": "it yeah since we are here we don't have access to connect to the kubernetes API",
    "start": "2762079",
    "end": "2768079"
  },
  {
    "text": "server directly we are communicating using curve by token service account token to",
    "start": "2768079",
    "end": "2777319"
  },
  {
    "text": "authenticate but nevertheless we'll just check if there is any Cube Con in the",
    "start": "2777319",
    "end": "2783079"
  },
  {
    "text": "system there's nothing over there we did the find find command so we'll just use a",
    "start": "2783079",
    "end": "2788960"
  },
  {
    "text": "curl in a but this time instead of just listing the secrets we'll try to create",
    "start": "2788960",
    "end": "2794160"
  },
  {
    "text": "some Secrets or create name spaces so for that I have done was",
    "start": "2794160",
    "end": "2802640"
  },
  {
    "text": "uh we will be creating a hook demo all this content is available online so",
    "start": "2803040",
    "end": "2808319"
  },
  {
    "text": "we'll share it once the webinar is done own as",
    "start": "2808319",
    "end": "2814359"
  },
  {
    "text": "well so the cser and token for authentication once we have the name",
    "start": "2814359",
    "end": "2819680"
  },
  {
    "text": "space instead of yaml it will be in Json because we're passing through a cur request and then we'll send the request",
    "start": "2819680",
    "end": "2825880"
  },
  {
    "text": "to the API",
    "start": "2825880",
    "end": "2829519"
  },
  {
    "text": "server and you can see the status is active because it's instantaneous and mpace creation and we got the",
    "start": "2834960",
    "end": "2842599"
  },
  {
    "text": "response so similarly we'll create the other serves as well that are required to create a mutating web",
    "start": "2842599",
    "end": "2850839"
  },
  {
    "text": "hook so these are the certificates so nothing much over there just create it",
    "start": "2850839",
    "end": "2858680"
  },
  {
    "text": "directly re time check it's 1250 so just one heads up sure",
    "start": "2859760",
    "end": "2866280"
  },
  {
    "text": "thanks um yeah six more minutes and then so if you see the image it's um",
    "start": "2866280",
    "end": "2875440"
  },
  {
    "text": "point pointing to my dockerhub repository so either we can look at that or maybe we can skip it out and just",
    "start": "2875440",
    "end": "2882400"
  },
  {
    "text": "deploy this specific file so that would be the same we'll",
    "start": "2882400",
    "end": "2889480"
  },
  {
    "text": "just download the file using WG is a curl request to connect with API server",
    "start": "2889480",
    "end": "2894960"
  },
  {
    "text": "and deploy it and the status is still pending because deployment takes time",
    "start": "2894960",
    "end": "2900280"
  },
  {
    "text": "unlike namespaces",
    "start": "2900280",
    "end": "2906400"
  },
  {
    "text": "and this is a service that we are creating to connect with the",
    "start": "2906400",
    "end": "2914359"
  },
  {
    "text": "deployment and then yeah the service is also created and similarly we'll create a mutating web hook this star of the",
    "start": "2915400",
    "end": "2924599"
  },
  {
    "text": "center operation where it connects with the service to perform some muting",
    "start": "2924599",
    "end": "2930280"
  },
  {
    "text": "operations on every object that goes to the API server",
    "start": "2930280",
    "end": "2937599"
  },
  {
    "text": "so if you see it is successful but let's just check the status of the Pod so this",
    "start": "2940839",
    "end": "2946000"
  },
  {
    "text": "is the API server if you see the name space we are just looking at the demo name space",
    "start": "2946000",
    "end": "2953240"
  },
  {
    "text": "specifically and it is successful like the images referring to my Docker Hub and we",
    "start": "2954799",
    "end": "2963520"
  },
  {
    "text": "can see the status and it should be run over here yeah the container status the state",
    "start": "2963520",
    "end": "2971079"
  },
  {
    "text": "is running so now we have deployed all the things but what does it mean for",
    "start": "2971079",
    "end": "2979040"
  },
  {
    "text": "us using curl and overprivileged service account because this service account is",
    "start": "2980040",
    "end": "2986240"
  },
  {
    "text": "having more privileges like write permissions we are able to write things to the API server directly from your",
    "start": "2986240",
    "end": "2994520"
  },
  {
    "text": "pod so I already have access to the cluster so we'll try to create",
    "start": "2994520",
    "end": "3000640"
  },
  {
    "text": "a new pod and see if this what does this",
    "start": "3000640",
    "end": "3006400"
  },
  {
    "text": "Ming web hook do so we'll just switch back to our demo",
    "start": "3006400",
    "end": "3013960"
  },
  {
    "text": "name space",
    "start": "3013960",
    "end": "3016799"
  },
  {
    "text": "where we'll just try to create an ninx image but this",
    "start": "3021960",
    "end": "3029000"
  },
  {
    "text": "time if you see it is unable to pull but NX is a public anyone should be able to",
    "start": "3029079",
    "end": "3035240"
  },
  {
    "text": "pull it but when you try to analyze the errors you can see that it's trying to",
    "start": "3035240",
    "end": "3040960"
  },
  {
    "text": "pull a different image overall it's trying to pull a malicious image even though you're trying to get engine X",
    "start": "3040960",
    "end": "3050200"
  },
  {
    "text": "running so this one was meant to interrupt the way it works but but if an",
    "start": "3050200",
    "end": "3055960"
  },
  {
    "text": "attacker wants to gain persistence what they'll try to do is they'll inject a side car along with it or they can have",
    "start": "3055960",
    "end": "3062359"
  },
  {
    "text": "an init container so you can never detect it or",
    "start": "3062359",
    "end": "3067880"
  },
  {
    "text": "at least not in a regular fashion so if you look at the mutating web it will have bunch of things but",
    "start": "3067880",
    "end": "3074760"
  },
  {
    "text": "eventually it connects with a service",
    "start": "3074760",
    "end": "3080400"
  },
  {
    "text": "where and then we can look at the so if you just look at the code what it is",
    "start": "3081079",
    "end": "3086720"
  },
  {
    "text": "doing the goang code related to the service it's trying to replace every request and first image",
    "start": "3086720",
    "end": "3095359"
  },
  {
    "text": "that is available and it is replacing it with a malicious image so that's what",
    "start": "3095359",
    "end": "3101599"
  },
  {
    "text": "the mutating web Hook is doing so often all the companies rely on",
    "start": "3101599",
    "end": "3109040"
  },
  {
    "text": "CIS benchmarking or compliance in order to test these kind of things for example",
    "start": "3109040",
    "end": "3114799"
  },
  {
    "text": "Cube scape is one of the most famous uh benchmarking tool for kubernetes if you",
    "start": "3114799",
    "end": "3121000"
  },
  {
    "text": "try to use that and I'll just do a quick clone on the local system and we'll see",
    "start": "3121000",
    "end": "3127799"
  },
  {
    "text": "if there are any checks related to mutating web hook configurations because you have seen how",
    "start": "3127799",
    "end": "3133040"
  },
  {
    "text": "devastating it can be or what kind of impact it can have on a system where it",
    "start": "3133040",
    "end": "3138440"
  },
  {
    "text": "can gain the persistance it can do defens evasions and stuff so if you see there are so many",
    "start": "3138440",
    "end": "3144240"
  },
  {
    "text": "matches to mutating but all of them are Comm test data folder which is purely there for testing",
    "start": "3144240",
    "end": "3151960"
  },
  {
    "text": "purposes as well as even the other ones are just examples so if we are just excluding those",
    "start": "3151960",
    "end": "3159359"
  },
  {
    "text": "folders the cube scape is not having any kind of checks related to this and none",
    "start": "3159359",
    "end": "3164440"
  },
  {
    "text": "of the available tools can do a check on these kind of",
    "start": "3164440",
    "end": "3170920"
  },
  {
    "text": "scenarios where everything happens at a run time so even when you try to run a compl scan it will be all green all",
    "start": "3170920",
    "end": "3177599"
  },
  {
    "text": "checks past it says your complaint to everything but in real your is quite",
    "start": "3177599",
    "end": "3183920"
  },
  {
    "text": "compromised or it's having so many other issues uh over to you now I think that's",
    "start": "3183920",
    "end": "3191040"
  },
  {
    "text": "wanted to show cool awesome so we have only a couple minutes so I'll just uh",
    "start": "3191040",
    "end": "3197880"
  },
  {
    "text": "quickly go through last things where Ravens was talking around um you know",
    "start": "3197880",
    "end": "3203799"
  },
  {
    "text": "compliance and and being able to um you know it's not just a control plane thing",
    "start": "3203799",
    "end": "3208880"
  },
  {
    "text": "right we also have to look not just at compliance but also runtime uh Telemetry and security and if we look at runtime",
    "start": "3208880",
    "end": "3216000"
  },
  {
    "text": "security it relies on observability you don't know what you don't know um and so if I'm looking at for example um any",
    "start": "3216000",
    "end": "3223240"
  },
  {
    "text": "cluster this is just an example of eks one but anything of course you want to look at control plane data in terms of",
    "start": "3223240",
    "end": "3229280"
  },
  {
    "text": "audit logs or things coming from the kubernetes control plane but you also when you a good uh security solution to",
    "start": "3229280",
    "end": "3236960"
  },
  {
    "text": "be able to tackle the kinds of threats that rayun was demonstrating earlier relies on ebpf Telemetry and some",
    "start": "3236960",
    "end": "3244160"
  },
  {
    "text": "examples are like looking at specific processes that were started um for",
    "start": "3244160",
    "end": "3249799"
  },
  {
    "text": "example maybe the in side cars looking at Network events in terms of like the TCP the other connections that were",
    "start": "3249799",
    "end": "3255799"
  },
  {
    "text": "started inside of the runtime or looking at specific files that were manipulated or changed and so um what you want to do",
    "start": "3255799",
    "end": "3263280"
  },
  {
    "text": "is from the pillar three takeaway terms of colle correlating telemetry you want it across your data plane and control",
    "start": "3263280",
    "end": "3269400"
  },
  {
    "text": "plane you need to start with observability and really have some kind of data Lake that you can start to",
    "start": "3269400",
    "end": "3274920"
  },
  {
    "text": "collect this data because you don't know what you don't know and you want to leverage not just um the control plane",
    "start": "3274920",
    "end": "3280640"
  },
  {
    "text": "data but ebpf Telemetry and even forensic techniques potentially such as Yara rule scanning I'll dive it to a",
    "start": "3280640",
    "end": "3287559"
  },
  {
    "text": "little bit of an example there where um basically you know your process could be hiding behind something uh benign and",
    "start": "3287559",
    "end": "3294319"
  },
  {
    "text": "you want to be able ble to analyze the signature of the process uh in order to be in order to understand what's",
    "start": "3294319",
    "end": "3299839"
  },
  {
    "text": "actually hiding behind it um so just last couple minutes um you know there are security platforms uh that can help",
    "start": "3299839",
    "end": "3307000"
  },
  {
    "text": "you you know really tackle a lot of these security challenges and in terms of the pillars um that we talked around",
    "start": "3307000",
    "end": "3313960"
  },
  {
    "text": "the first one of being around supply chain where for example platforms like",
    "start": "3313960",
    "end": "3319440"
  },
  {
    "text": "Optics can help you have that single pane of glass view from the developer laptop to your identity providers from",
    "start": "3319440",
    "end": "3326240"
  },
  {
    "text": "code to cloud and it's really about having a single golden thread that allows you to understand the overall um",
    "start": "3326240",
    "end": "3333240"
  },
  {
    "text": "sort of the overall attack surface and how a thread actor got into each of the different components using a detection",
    "start": "3333240",
    "end": "3339599"
  },
  {
    "text": "graph um in terms of starting with rbac and going deeper this is just a simple example but where you want to uplevel",
    "start": "3339599",
    "end": "3346400"
  },
  {
    "text": "certain questions especially if you have say thousands of name spaces or or many service accounts for example we have 64",
    "start": "3346400",
    "end": "3352839"
  },
  {
    "text": "and 79 cluster rols we want want to understand which particular ones of those can access Secrets or can exec to",
    "start": "3352839",
    "end": "3359240"
  },
  {
    "text": "pods and so you can answer these questions at a very high level um that helps you being able to enforce more of",
    "start": "3359240",
    "end": "3365480"
  },
  {
    "text": "a strategy that actually makes auditing policies real rather than just having to",
    "start": "3365480",
    "end": "3370839"
  },
  {
    "text": "do it on a quarter-to-quarter basis for example if some new service accounts comes in and can access secrets you can",
    "start": "3370839",
    "end": "3377520"
  },
  {
    "text": "have learning mechanisms to be able to act on that data and finally being able to correlate",
    "start": "3377520",
    "end": "3383880"
  },
  {
    "text": "that data plane and control PL Telemetry here for example we see this 8.8.8.8 um",
    "start": "3383880",
    "end": "3390720"
  },
  {
    "text": "and it says qw but what's really happening is that that's an end map that's uh enumer enumerating",
    "start": "3390720",
    "end": "3396799"
  },
  {
    "text": "vulnerabilities and doing a port scan and that's where you know uh using different forensic techniques such as",
    "start": "3396799",
    "end": "3403079"
  },
  {
    "text": "Yara rule scanning which is actually looking at the process a signature of a process and saying hey based on the data",
    "start": "3403079",
    "end": "3409680"
  },
  {
    "text": "we're seeing this is actually an end map that is being executed um is really really important and making sure of",
    "start": "3409680",
    "end": "3415440"
  },
  {
    "text": "course you're not just looking at uh control plane data but also runtime data um at the process level to understand",
    "start": "3415440",
    "end": "3421440"
  },
  {
    "text": "what is happening so I know we're uh at the minute but um uh you can reach out uh",
    "start": "3421440",
    "end": "3429160"
  },
  {
    "text": "optics.com I'm on LinkedIn upin of Mishra um and you can reach out to me or",
    "start": "3429160",
    "end": "3435240"
  },
  {
    "text": "to Ray anytime and uh you know thank you so much for joining this conversation today and we really appreciate",
    "start": "3435240",
    "end": "3442000"
  },
  {
    "text": "it thank you both so much thank you every everyone for joining us today um",
    "start": "3442000",
    "end": "3447240"
  },
  {
    "text": "like we posted in the chat the recording and slides will be up later today on cncf doio um thank you both for your",
    "start": "3447240",
    "end": "3454760"
  },
  {
    "text": "time today and for all this great information and um we'll see yall again on another live webinar soon awesome",
    "start": "3454760",
    "end": "3463280"
  },
  {
    "text": "thanks Le forone thank you",
    "start": "3463280",
    "end": "3468039"
  },
  {
    "text": "bye",
    "start": "3471200",
    "end": "3474200"
  }
]