[
  {
    "start": "0",
    "end": "20000"
  },
  {
    "text": "hi everyone uh welcome to our virtual",
    "start": "80",
    "end": "2560"
  },
  {
    "text": "kubecon talk",
    "start": "2560",
    "end": "3760"
  },
  {
    "text": "look ma no pause i'm renar patel i'm a",
    "start": "3760",
    "end": "6399"
  },
  {
    "text": "cryo and once you maintainer and i work",
    "start": "6399",
    "end": "8240"
  },
  {
    "text": "for",
    "start": "8240",
    "end": "8800"
  },
  {
    "text": "good heart hello everyone my name is",
    "start": "8800",
    "end": "11759"
  },
  {
    "text": "peter hunt",
    "start": "11759",
    "end": "12400"
  },
  {
    "text": "i also work for red hat and i'm a crowd",
    "start": "12400",
    "end": "14719"
  },
  {
    "text": "maintainer and i also work on podman",
    "start": "14719",
    "end": "16880"
  },
  {
    "text": "conron and other related technologies",
    "start": "16880",
    "end": "20560"
  },
  {
    "start": "20000",
    "end": "60000"
  },
  {
    "text": "right we can get started so what is",
    "start": "20960",
    "end": "24560"
  },
  {
    "text": "pause so if you ever run docker ps on a",
    "start": "24560",
    "end": "27359"
  },
  {
    "text": "kubernetes node",
    "start": "27359",
    "end": "28800"
  },
  {
    "text": "you must have seen a mysterious",
    "start": "28800",
    "end": "30320"
  },
  {
    "text": "container running with a pause image for",
    "start": "30320",
    "end": "32398"
  },
  {
    "text": "each one of your pods so if you take a",
    "start": "32399",
    "end": "34320"
  },
  {
    "text": "look at the example on the slide",
    "start": "34320",
    "end": "36320"
  },
  {
    "text": "i am running two parts the dns port and",
    "start": "36320",
    "end": "38480"
  },
  {
    "text": "the dashboard part",
    "start": "38480",
    "end": "39760"
  },
  {
    "text": "and there are two pause container one",
    "start": "39760",
    "end": "41520"
  },
  {
    "text": "for each of them",
    "start": "41520",
    "end": "43280"
  },
  {
    "text": "so today in this talk we're going to",
    "start": "43280",
    "end": "45920"
  },
  {
    "text": "cover",
    "start": "45920",
    "end": "47039"
  },
  {
    "text": "uh what the pause container is what is",
    "start": "47039",
    "end": "49600"
  },
  {
    "text": "it purpose",
    "start": "49600",
    "end": "50480"
  },
  {
    "text": "the history and finally how we can get",
    "start": "50480",
    "end": "52800"
  },
  {
    "text": "rid of it to make our kubernetes part",
    "start": "52800",
    "end": "56840"
  },
  {
    "text": "slimmer",
    "start": "56840",
    "end": "59840"
  },
  {
    "start": "60000",
    "end": "110000"
  },
  {
    "text": "so so what exactly is the pause",
    "start": "60800",
    "end": "64478"
  },
  {
    "text": "container doing",
    "start": "64479",
    "end": "65600"
  },
  {
    "text": "so okay so we can talk about how a cuban",
    "start": "65600",
    "end": "68400"
  },
  {
    "text": "at this",
    "start": "68400",
    "end": "69119"
  },
  {
    "text": "pod works so a kubernetes pod consists",
    "start": "69119",
    "end": "72320"
  },
  {
    "text": "of multiple containers that",
    "start": "72320",
    "end": "73760"
  },
  {
    "text": "share linux name spaces and are nested",
    "start": "73760",
    "end": "76560"
  },
  {
    "text": "under",
    "start": "76560",
    "end": "77040"
  },
  {
    "text": "a common port c group the pause",
    "start": "77040",
    "end": "79360"
  },
  {
    "text": "container",
    "start": "79360",
    "end": "80080"
  },
  {
    "text": "holds the shared namespaces for the",
    "start": "80080",
    "end": "81680"
  },
  {
    "text": "containers in a pod and it is referred",
    "start": "81680",
    "end": "83920"
  },
  {
    "text": "to as a pod infra container",
    "start": "83920",
    "end": "86479"
  },
  {
    "text": "in the kubernetes code base so on the",
    "start": "86479",
    "end": "88880"
  },
  {
    "text": "right",
    "start": "88880",
    "end": "89840"
  },
  {
    "text": "you can see a picture of what a pod",
    "start": "89840",
    "end": "92320"
  },
  {
    "text": "looks like",
    "start": "92320",
    "end": "93040"
  },
  {
    "text": "when using cryo as your container",
    "start": "93040",
    "end": "94799"
  },
  {
    "text": "runtime so",
    "start": "94799",
    "end": "96240"
  },
  {
    "text": "you may have defined a container a and b",
    "start": "96240",
    "end": "98479"
  },
  {
    "text": "in your podiaml",
    "start": "98479",
    "end": "99759"
  },
  {
    "text": "and then we have one infra container and",
    "start": "99759",
    "end": "101759"
  },
  {
    "text": "then we have helper processes called",
    "start": "101759",
    "end": "103360"
  },
  {
    "text": "con1",
    "start": "103360",
    "end": "104159"
  },
  {
    "text": "so if you want to learn more about that",
    "start": "104159",
    "end": "105920"
  },
  {
    "text": "you can watch",
    "start": "105920",
    "end": "107280"
  },
  {
    "text": "one of the cryotalks",
    "start": "107280",
    "end": "110479"
  },
  {
    "start": "110000",
    "end": "183000"
  },
  {
    "text": "so now let's talk about the history of",
    "start": "110799",
    "end": "114079"
  },
  {
    "text": "kubernetes pods",
    "start": "114079",
    "end": "115439"
  },
  {
    "text": "so kubernetes was started after the",
    "start": "115439",
    "end": "118000"
  },
  {
    "text": "container revolution was brought about",
    "start": "118000",
    "end": "119759"
  },
  {
    "text": "by",
    "start": "119759",
    "end": "120240"
  },
  {
    "text": "docker kubernetes aimed to solve",
    "start": "120240",
    "end": "123439"
  },
  {
    "text": "the problem of orchestrating containers",
    "start": "123439",
    "end": "125759"
  },
  {
    "text": "across a cluster of nodes",
    "start": "125759",
    "end": "127840"
  },
  {
    "text": "note this this was way before the",
    "start": "127840",
    "end": "130000"
  },
  {
    "text": "container runtime",
    "start": "130000",
    "end": "131200"
  },
  {
    "text": "interface of the cri was introduced to",
    "start": "131200",
    "end": "133760"
  },
  {
    "text": "support plugging in different container",
    "start": "133760",
    "end": "135680"
  },
  {
    "text": "runtimes",
    "start": "135680",
    "end": "136560"
  },
  {
    "text": "like you can do today with cryo or",
    "start": "136560",
    "end": "138560"
  },
  {
    "text": "container d",
    "start": "138560",
    "end": "140160"
  },
  {
    "text": "and one of the core kubernetes decisions",
    "start": "140160",
    "end": "142720"
  },
  {
    "text": "initially was to give each pod a unique",
    "start": "142720",
    "end": "145360"
  },
  {
    "text": "ip address now how would you do that",
    "start": "145360",
    "end": "148640"
  },
  {
    "text": "using just docker containers well to do",
    "start": "148640",
    "end": "151040"
  },
  {
    "text": "that you can",
    "start": "151040",
    "end": "151920"
  },
  {
    "text": "create and start a container have some",
    "start": "151920",
    "end": "154560"
  },
  {
    "text": "custom code that joins the network",
    "start": "154560",
    "end": "156800"
  },
  {
    "text": "namespace of that container",
    "start": "156800",
    "end": "158560"
  },
  {
    "text": "and give it a unique ip address and",
    "start": "158560",
    "end": "161200"
  },
  {
    "text": "finally",
    "start": "161200",
    "end": "162080"
  },
  {
    "text": "you create and start the container",
    "start": "162080",
    "end": "164239"
  },
  {
    "text": "specified in your pod yaml",
    "start": "164239",
    "end": "166239"
  },
  {
    "text": "to join the network namespace of that",
    "start": "166239",
    "end": "168080"
  },
  {
    "text": "container congratulations so you have",
    "start": "168080",
    "end": "169920"
  },
  {
    "text": "invented the pause container",
    "start": "169920",
    "end": "171760"
  },
  {
    "text": "and that's how it came to be and",
    "start": "171760",
    "end": "174000"
  },
  {
    "text": "initially it was referred to",
    "start": "174000",
    "end": "175599"
  },
  {
    "text": "as the network container in the code",
    "start": "175599",
    "end": "177519"
  },
  {
    "text": "base because that's",
    "start": "177519",
    "end": "179040"
  },
  {
    "text": "all its job was at that point",
    "start": "179040",
    "end": "183360"
  },
  {
    "start": "183000",
    "end": "231000"
  },
  {
    "text": "and then uh soon after it made sense to",
    "start": "183840",
    "end": "187120"
  },
  {
    "text": "enable",
    "start": "187120",
    "end": "188400"
  },
  {
    "text": "uh sharing ipc namespace inside a pod to",
    "start": "188400",
    "end": "191040"
  },
  {
    "text": "allow the containers in a pod",
    "start": "191040",
    "end": "192720"
  },
  {
    "text": "to communicate using ipc cues and shared",
    "start": "192720",
    "end": "195360"
  },
  {
    "text": "memory",
    "start": "195360",
    "end": "196239"
  },
  {
    "text": "so with that change the net container",
    "start": "196239",
    "end": "198959"
  },
  {
    "text": "was renamed to the much more",
    "start": "198959",
    "end": "200720"
  },
  {
    "text": "appropriate pod infra container in the",
    "start": "200720",
    "end": "202480"
  },
  {
    "text": "code base so you can take a look at that",
    "start": "202480",
    "end": "204799"
  },
  {
    "text": "pull request that made some of those",
    "start": "204799",
    "end": "206560"
  },
  {
    "text": "changes to",
    "start": "206560",
    "end": "207519"
  },
  {
    "text": "see the history and the discussions that",
    "start": "207519",
    "end": "209440"
  },
  {
    "text": "happened back then",
    "start": "209440",
    "end": "211200"
  },
  {
    "text": "and finally support for sharing with",
    "start": "211200",
    "end": "214000"
  },
  {
    "text": "namespaces was added",
    "start": "214000",
    "end": "215440"
  },
  {
    "text": "and at that point the job of the pause",
    "start": "215440",
    "end": "217680"
  },
  {
    "text": "container became a bit more involved",
    "start": "217680",
    "end": "219760"
  },
  {
    "text": "than just holding namespaces it was also",
    "start": "219760",
    "end": "223120"
  },
  {
    "text": "responsible for reaping pits for all the",
    "start": "223120",
    "end": "225280"
  },
  {
    "text": "containers in a pod",
    "start": "225280",
    "end": "226720"
  },
  {
    "text": "basically acting as in it for the pod",
    "start": "226720",
    "end": "231120"
  },
  {
    "start": "231000",
    "end": "265000"
  },
  {
    "text": "so now we talked about the purpose of",
    "start": "233200",
    "end": "235439"
  },
  {
    "text": "the pause container and what it does",
    "start": "235439",
    "end": "237680"
  },
  {
    "text": "so why would we want to drop that",
    "start": "237680",
    "end": "239360"
  },
  {
    "text": "container so there are a few reasons",
    "start": "239360",
    "end": "241680"
  },
  {
    "text": "and let's talk about the reasons the",
    "start": "241680",
    "end": "244560"
  },
  {
    "text": "first is that it uses up space",
    "start": "244560",
    "end": "246879"
  },
  {
    "text": "for the binary and for the containers so",
    "start": "246879",
    "end": "248879"
  },
  {
    "text": "on its own the pause container doesn't",
    "start": "248879",
    "end": "250720"
  },
  {
    "text": "occupy a lot of disk space",
    "start": "250720",
    "end": "252640"
  },
  {
    "text": "but if you are starting a pause",
    "start": "252640",
    "end": "254799"
  },
  {
    "text": "container for 200 pods on your note",
    "start": "254799",
    "end": "257759"
  },
  {
    "text": "then you are using a bit of memory which",
    "start": "257759",
    "end": "260400"
  },
  {
    "text": "could be",
    "start": "260400",
    "end": "261199"
  },
  {
    "text": "used elsewhere so that's that's the",
    "start": "261199",
    "end": "263360"
  },
  {
    "text": "first reason to",
    "start": "263360",
    "end": "265120"
  },
  {
    "text": "drop pause the second reason",
    "start": "265120",
    "end": "268800"
  },
  {
    "text": "it takes time to create the root file",
    "start": "268800",
    "end": "271120"
  },
  {
    "text": "system",
    "start": "271120",
    "end": "271840"
  },
  {
    "text": "create start mount the pause container",
    "start": "271840",
    "end": "275120"
  },
  {
    "text": "and so on",
    "start": "275120",
    "end": "276240"
  },
  {
    "text": "and you can see a small micro benchmark",
    "start": "276240",
    "end": "278800"
  },
  {
    "text": "of that with and without",
    "start": "278800",
    "end": "280560"
  },
  {
    "text": "and later on in the talk peter is going",
    "start": "280560",
    "end": "282240"
  },
  {
    "text": "to cover some more performance numbers",
    "start": "282240",
    "end": "286400"
  },
  {
    "start": "286000",
    "end": "363000"
  },
  {
    "text": "and the final reason for dropping pause",
    "start": "286400",
    "end": "289680"
  },
  {
    "text": "is to just get rid of the additional",
    "start": "289680",
    "end": "291199"
  },
  {
    "text": "process management overhead",
    "start": "291199",
    "end": "292880"
  },
  {
    "text": "right we have code today to set up",
    "start": "292880",
    "end": "296960"
  },
  {
    "text": "monitor and clean up the pause process",
    "start": "296960",
    "end": "299600"
  },
  {
    "text": "we have to keep tracking",
    "start": "299600",
    "end": "301039"
  },
  {
    "text": "that the pause container is still",
    "start": "301039",
    "end": "303280"
  },
  {
    "text": "running",
    "start": "303280",
    "end": "304080"
  },
  {
    "text": "uh cubelet has custom code in the image",
    "start": "304080",
    "end": "306720"
  },
  {
    "text": "gc code part to make sure that the pause",
    "start": "306720",
    "end": "309039"
  },
  {
    "text": "controller image is available so if",
    "start": "309039",
    "end": "310960"
  },
  {
    "text": "there's no such process",
    "start": "310960",
    "end": "312240"
  },
  {
    "text": "we just get rid of the process",
    "start": "312240",
    "end": "313600"
  },
  {
    "text": "management and our goal",
    "start": "313600",
    "end": "315600"
  },
  {
    "text": "if you look at the two diagrams below is",
    "start": "315600",
    "end": "317280"
  },
  {
    "text": "to get rid of the pause container",
    "start": "317280",
    "end": "319520"
  },
  {
    "text": "now peter is going to talk about how",
    "start": "319520",
    "end": "322639"
  },
  {
    "text": "and in what situations we can get rid of",
    "start": "322639",
    "end": "324880"
  },
  {
    "text": "the pause container",
    "start": "324880",
    "end": "327840"
  },
  {
    "text": "we can't hear you peter",
    "start": "334320",
    "end": "339840"
  },
  {
    "text": "yes hello uh so",
    "start": "340639",
    "end": "344160"
  },
  {
    "text": "we we're gonna first talk about how to",
    "start": "344160",
    "end": "346000"
  },
  {
    "text": "drop the pause container",
    "start": "346000",
    "end": "347440"
  },
  {
    "text": "and we for that we need three steps the",
    "start": "347440",
    "end": "349360"
  },
  {
    "text": "first step",
    "start": "349360",
    "end": "350639"
  },
  {
    "text": "is we need to emulate the behavior of",
    "start": "350639",
    "end": "353600"
  },
  {
    "text": "the",
    "start": "353600",
    "end": "355520"
  },
  {
    "text": "nine let me do this",
    "start": "355520",
    "end": "359680"
  },
  {
    "text": "oh next okay sorry about that so first",
    "start": "362960",
    "end": "365840"
  },
  {
    "text": "we need to emulate what the runtime does",
    "start": "365840",
    "end": "368240"
  },
  {
    "text": "uh when creating a pause container we",
    "start": "368240",
    "end": "369759"
  },
  {
    "text": "need to uh create a new namespace",
    "start": "369759",
    "end": "372319"
  },
  {
    "text": "for the pod so",
    "start": "372319",
    "end": "375360"
  },
  {
    "text": "luckily linux supports bind mounting",
    "start": "375360",
    "end": "377199"
  },
  {
    "text": "namespaces so",
    "start": "377199",
    "end": "378639"
  },
  {
    "text": "here in this diagram below we have a",
    "start": "378639",
    "end": "380800"
  },
  {
    "text": "little example so",
    "start": "380800",
    "end": "381919"
  },
  {
    "text": "unshare in linux is create me a new name",
    "start": "381919",
    "end": "384639"
  },
  {
    "text": "space",
    "start": "384639",
    "end": "385120"
  },
  {
    "text": "and put my process inside of it so",
    "start": "385120",
    "end": "387120"
  },
  {
    "text": "unshare",
    "start": "387120",
    "end": "388319"
  },
  {
    "text": "here we're going to create a net name",
    "start": "388319",
    "end": "389360"
  },
  {
    "text": "space and then the next step is to bind",
    "start": "389360",
    "end": "391680"
  },
  {
    "text": "mount",
    "start": "391680",
    "end": "392240"
  },
  {
    "text": "that our new next namespace proc self",
    "start": "392240",
    "end": "394880"
  },
  {
    "text": "and s",
    "start": "394880",
    "end": "395280"
  },
  {
    "text": "net to a specified location bar one net",
    "start": "395280",
    "end": "398160"
  },
  {
    "text": "one",
    "start": "398160",
    "end": "399280"
  },
  {
    "text": "underneath that we have another process",
    "start": "399280",
    "end": "401360"
  },
  {
    "text": "and that process",
    "start": "401360",
    "end": "402800"
  },
  {
    "text": "is unsharing or joining in this case",
    "start": "402800",
    "end": "406240"
  },
  {
    "text": "a specified name space here far",
    "start": "406240",
    "end": "409599"
  },
  {
    "text": "run net1 so now both of these uh",
    "start": "409599",
    "end": "413039"
  },
  {
    "text": "windows are in the same net name space",
    "start": "413039",
    "end": "417520"
  },
  {
    "start": "417000",
    "end": "470000"
  },
  {
    "text": "the second uh which was kind of",
    "start": "418000",
    "end": "420240"
  },
  {
    "text": "discovered a little bit later is",
    "start": "420240",
    "end": "422400"
  },
  {
    "text": "uh applying cis cuddles so cis cuddles",
    "start": "422400",
    "end": "424960"
  },
  {
    "text": "and kubernetes",
    "start": "424960",
    "end": "425919"
  },
  {
    "text": "are at a pod level and typically you",
    "start": "425919",
    "end": "428880"
  },
  {
    "text": "pass",
    "start": "428880",
    "end": "429440"
  },
  {
    "text": "the cis cuddles to the creation of the",
    "start": "429440",
    "end": "432080"
  },
  {
    "text": "pause container",
    "start": "432080",
    "end": "433039"
  },
  {
    "text": "and then the runtime configures them on",
    "start": "433039",
    "end": "435840"
  },
  {
    "text": "behalf of the pod",
    "start": "435840",
    "end": "437360"
  },
  {
    "text": "but here we don't have a runtime so we",
    "start": "437360",
    "end": "439039"
  },
  {
    "text": "need to uh do it ourselves",
    "start": "439039",
    "end": "441360"
  },
  {
    "text": "so though the time you do it is after",
    "start": "441360",
    "end": "443919"
  },
  {
    "text": "you've unshared",
    "start": "443919",
    "end": "444880"
  },
  {
    "text": "your pod you need to write a file",
    "start": "444880",
    "end": "448240"
  },
  {
    "text": "within you know that uh within",
    "start": "448240",
    "end": "451520"
  },
  {
    "text": "the unshared um hierarchy",
    "start": "451520",
    "end": "454560"
  },
  {
    "text": "versus and then uh once you write to the",
    "start": "454560",
    "end": "458240"
  },
  {
    "text": "file then",
    "start": "458240",
    "end": "459199"
  },
  {
    "text": "uh for that namespace that's the skill",
    "start": "459199",
    "end": "461840"
  },
  {
    "text": "is configured",
    "start": "461840",
    "end": "462639"
  },
  {
    "text": "some statistical examples are ip forward",
    "start": "462639",
    "end": "464879"
  },
  {
    "text": "and",
    "start": "464879",
    "end": "465680"
  },
  {
    "text": "message math there's like 12 000 tons of",
    "start": "465680",
    "end": "468160"
  },
  {
    "text": "them",
    "start": "468160",
    "end": "470319"
  },
  {
    "text": "the third step is you need to make the",
    "start": "470879",
    "end": "473759"
  },
  {
    "text": "pod containers use it",
    "start": "473759",
    "end": "475199"
  },
  {
    "text": "so luckily run c allows you to",
    "start": "475199",
    "end": "478879"
  },
  {
    "text": "configure the namespaces inside of a",
    "start": "478879",
    "end": "481759"
  },
  {
    "text": "config json",
    "start": "481759",
    "end": "482879"
  },
  {
    "text": "so here we have the two examples on the",
    "start": "482879",
    "end": "484960"
  },
  {
    "text": "left we have the old way of doing it",
    "start": "484960",
    "end": "486800"
  },
  {
    "text": "where we have the proc pid entries for",
    "start": "486800",
    "end": "489360"
  },
  {
    "text": "each of the",
    "start": "489360",
    "end": "490000"
  },
  {
    "text": "types of namespaces that we're sharing",
    "start": "490000",
    "end": "492560"
  },
  {
    "text": "on the pod level",
    "start": "492560",
    "end": "494240"
  },
  {
    "text": "these pod level name spaces were created",
    "start": "494240",
    "end": "496960"
  },
  {
    "text": "on behalf of the",
    "start": "496960",
    "end": "498160"
  },
  {
    "text": "by the runtime when the pause container",
    "start": "498160",
    "end": "500319"
  },
  {
    "text": "was created and now we're using the pit",
    "start": "500319",
    "end": "502080"
  },
  {
    "text": "of the pause container",
    "start": "502080",
    "end": "503280"
  },
  {
    "text": "to reference those namespaces in cryo",
    "start": "503280",
    "end": "506960"
  },
  {
    "text": "the new way of doing it is referring to",
    "start": "506960",
    "end": "509199"
  },
  {
    "text": "the file that was bind mounted",
    "start": "509199",
    "end": "511199"
  },
  {
    "text": "uh so on the right we have these uh",
    "start": "511199",
    "end": "514479"
  },
  {
    "text": "different paths that are the bind",
    "start": "514479",
    "end": "516240"
  },
  {
    "text": "mounted locations of the newly created",
    "start": "516240",
    "end": "518959"
  },
  {
    "text": "uh run",
    "start": "518959",
    "end": "520399"
  },
  {
    "text": "namespaces so we need someone to do this",
    "start": "520399",
    "end": "523919"
  },
  {
    "text": "and uh so we created this binary uh",
    "start": "523919",
    "end": "527040"
  },
  {
    "start": "526000",
    "end": "633000"
  },
  {
    "text": "which is called pin and s",
    "start": "527040",
    "end": "528720"
  },
  {
    "text": "uh it's not pronounced pins so i've",
    "start": "528720",
    "end": "531519"
  },
  {
    "text": "capitalized it",
    "start": "531519",
    "end": "532640"
  },
  {
    "text": "but it's a pin ns so that it currently",
    "start": "532640",
    "end": "535600"
  },
  {
    "text": "exists in the",
    "start": "535600",
    "end": "536480"
  },
  {
    "text": "uh cryo uh tree and",
    "start": "536480",
    "end": "539839"
  },
  {
    "text": "it was inspired by uh ipnes",
    "start": "539839",
    "end": "542959"
  },
  {
    "text": "commands to create new network name",
    "start": "542959",
    "end": "545440"
  },
  {
    "text": "spaces",
    "start": "545440",
    "end": "546640"
  },
  {
    "text": "uh but also a little bit and uh",
    "start": "546640",
    "end": "549839"
  },
  {
    "text": "the inspiration came from the go a",
    "start": "549839",
    "end": "552160"
  },
  {
    "text": "goling",
    "start": "552160",
    "end": "552880"
  },
  {
    "text": "variant uh which was written for",
    "start": "552880",
    "end": "556000"
  },
  {
    "text": "container networking",
    "start": "556000",
    "end": "557600"
  },
  {
    "text": "ns package um",
    "start": "557600",
    "end": "560880"
  },
  {
    "text": "we exec pin and s from cryo uh because",
    "start": "560880",
    "end": "564000"
  },
  {
    "text": "pin in s is written in c",
    "start": "564000",
    "end": "565920"
  },
  {
    "text": "and cryo's written in go and the go uh",
    "start": "565920",
    "end": "569040"
  },
  {
    "text": "runtime fusses with the way that",
    "start": "569040",
    "end": "571279"
  },
  {
    "text": "namespaces works a little bit",
    "start": "571279",
    "end": "573040"
  },
  {
    "text": "so you need to like lock you need to",
    "start": "573040",
    "end": "575440"
  },
  {
    "text": "create a new",
    "start": "575440",
    "end": "576080"
  },
  {
    "text": "uh go uh you know go routine and then",
    "start": "576080",
    "end": "579760"
  },
  {
    "text": "lock the os thread so that the runtime",
    "start": "579760",
    "end": "581839"
  },
  {
    "text": "doesn't interrupt it",
    "start": "581839",
    "end": "582800"
  },
  {
    "text": "and then do all of your specific uh",
    "start": "582800",
    "end": "585279"
  },
  {
    "text": "operations and unlock it",
    "start": "585279",
    "end": "586720"
  },
  {
    "text": "upon leaving it uh whereas c you just",
    "start": "586720",
    "end": "589839"
  },
  {
    "text": "call and share and call",
    "start": "589839",
    "end": "591200"
  },
  {
    "text": "mount it's it's much more um direct so",
    "start": "591200",
    "end": "594480"
  },
  {
    "text": "we",
    "start": "594480",
    "end": "594880"
  },
  {
    "text": "we decided it would be easier and uh",
    "start": "594880",
    "end": "598320"
  },
  {
    "text": "you know more convenient to do and see",
    "start": "598320",
    "end": "600560"
  },
  {
    "text": "uh so",
    "start": "600560",
    "end": "602240"
  },
  {
    "text": "we exec from cryo and then so pin and s",
    "start": "602240",
    "end": "605440"
  },
  {
    "text": "unshares its own name space create a new",
    "start": "605440",
    "end": "607920"
  },
  {
    "text": "one fine mounts it into a specific",
    "start": "607920",
    "end": "609839"
  },
  {
    "text": "location",
    "start": "609839",
    "end": "610959"
  },
  {
    "text": "then returns cryo take oh and uh",
    "start": "610959",
    "end": "614000"
  },
  {
    "text": "it uh after unsharing it configures the",
    "start": "614000",
    "end": "616320"
  },
  {
    "text": "ciscos",
    "start": "616320",
    "end": "617279"
  },
  {
    "text": "and then it returns cryo takes those",
    "start": "617279",
    "end": "619839"
  },
  {
    "text": "newly mounted namespaces",
    "start": "619839",
    "end": "621600"
  },
  {
    "text": "and hands them to the new uh container",
    "start": "621600",
    "end": "624880"
  },
  {
    "text": "and boom we did it pause dropped problem",
    "start": "624880",
    "end": "627440"
  },
  {
    "text": "solved",
    "start": "627440",
    "end": "628640"
  },
  {
    "text": "uh for pretty much every case however we",
    "start": "628640",
    "end": "631680"
  },
  {
    "text": "still have",
    "start": "631680",
    "end": "632399"
  },
  {
    "text": "the last case the faded pid namespace",
    "start": "632399",
    "end": "636079"
  },
  {
    "text": "so when you created a new",
    "start": "636079",
    "end": "639279"
  },
  {
    "text": "pid namespace you're given pid1 within",
    "start": "639279",
    "end": "641440"
  },
  {
    "text": "that pid namespace and pin one has a",
    "start": "641440",
    "end": "643279"
  },
  {
    "text": "couple of",
    "start": "643279",
    "end": "643839"
  },
  {
    "text": "special responsibilities it's",
    "start": "643839",
    "end": "645600"
  },
  {
    "text": "responsible for reaping",
    "start": "645600",
    "end": "647200"
  },
  {
    "text": "all of the children within that pit name",
    "start": "647200",
    "end": "649200"
  },
  {
    "text": "space from",
    "start": "649200",
    "end": "650320"
  },
  {
    "text": "the kernel's process table",
    "start": "650320",
    "end": "653600"
  },
  {
    "text": "so for this case the pod level pid",
    "start": "653600",
    "end": "656000"
  },
  {
    "text": "namespace",
    "start": "656000",
    "end": "656880"
  },
  {
    "text": "we need to keep some process to do",
    "start": "656880",
    "end": "660000"
  },
  {
    "text": "the reaping otherwise uh the all of the",
    "start": "660000",
    "end": "663680"
  },
  {
    "text": "containers and all of the child",
    "start": "663680",
    "end": "665519"
  },
  {
    "text": "processes within that pin name space",
    "start": "665519",
    "end": "667519"
  },
  {
    "text": "will leak or they're called zombie",
    "start": "667519",
    "end": "669680"
  },
  {
    "text": "processes and we need",
    "start": "669680",
    "end": "670959"
  },
  {
    "text": "some sort of zombie antidote there what",
    "start": "670959",
    "end": "674160"
  },
  {
    "text": "about having one of the containers be",
    "start": "674160",
    "end": "676480"
  },
  {
    "text": "pig one within the pit name space",
    "start": "676480",
    "end": "678480"
  },
  {
    "text": "you know say we have two containers in",
    "start": "678480",
    "end": "680880"
  },
  {
    "text": "our pod an nginx container",
    "start": "680880",
    "end": "682800"
  },
  {
    "text": "and some sidecar container why not have",
    "start": "682800",
    "end": "685040"
  },
  {
    "text": "the nginx container just",
    "start": "685040",
    "end": "686399"
  },
  {
    "text": "do the reaping and everything well",
    "start": "686399",
    "end": "689040"
  },
  {
    "text": "number one we'd have to ensure ordering",
    "start": "689040",
    "end": "690959"
  },
  {
    "text": "uh the pid name space uh we'd have to",
    "start": "690959",
    "end": "693360"
  },
  {
    "text": "make sure that the",
    "start": "693360",
    "end": "694480"
  },
  {
    "text": "uh pid one within the pid name space",
    "start": "694480",
    "end": "696480"
  },
  {
    "text": "exits after everything else",
    "start": "696480",
    "end": "698320"
  },
  {
    "text": "uh to actually be able to do the reaping",
    "start": "698320",
    "end": "699920"
  },
  {
    "text": "of all of its children or else its",
    "start": "699920",
    "end": "701519"
  },
  {
    "text": "children will become zombified",
    "start": "701519",
    "end": "703600"
  },
  {
    "text": "also we're not totally positive that",
    "start": "703600",
    "end": "705519"
  },
  {
    "text": "every container",
    "start": "705519",
    "end": "706640"
  },
  {
    "text": "has a reaping capability so it you",
    "start": "706640",
    "end": "709360"
  },
  {
    "text": "actually have to",
    "start": "709360",
    "end": "710320"
  },
  {
    "text": "you know specif there's some code that",
    "start": "710320",
    "end": "711920"
  },
  {
    "text": "you need to call to actually wait for",
    "start": "711920",
    "end": "713920"
  },
  {
    "text": "all of your children to exit",
    "start": "713920",
    "end": "715440"
  },
  {
    "text": "and that reaps them from the process",
    "start": "715440",
    "end": "717279"
  },
  {
    "text": "table so",
    "start": "717279",
    "end": "718720"
  },
  {
    "text": "you know joe schmoe container may not",
    "start": "718720",
    "end": "721040"
  },
  {
    "text": "have",
    "start": "721040",
    "end": "721760"
  },
  {
    "text": "the reaping capabilities and ultimately",
    "start": "721760",
    "end": "724320"
  },
  {
    "text": "the pause container already does",
    "start": "724320",
    "end": "725920"
  },
  {
    "text": "all of this we already make sure that",
    "start": "725920",
    "end": "727920"
  },
  {
    "text": "the pause container is the first one to",
    "start": "727920",
    "end": "730079"
  },
  {
    "text": "enter the pod and the last one to leave",
    "start": "730079",
    "end": "731839"
  },
  {
    "text": "so it has pid one and it reaps all of",
    "start": "731839",
    "end": "733600"
  },
  {
    "text": "the",
    "start": "733600",
    "end": "733920"
  },
  {
    "text": "children processes within the container",
    "start": "733920",
    "end": "736480"
  },
  {
    "text": "and",
    "start": "736480",
    "end": "736959"
  },
  {
    "text": "it has reaping capabilities already it",
    "start": "736959",
    "end": "739200"
  },
  {
    "text": "has since pin namespaces were introduced",
    "start": "739200",
    "end": "743120"
  },
  {
    "text": "uh so unfortunately you know we can't",
    "start": "743120",
    "end": "745120"
  },
  {
    "text": "drop the pause container for this one",
    "start": "745120",
    "end": "746800"
  },
  {
    "text": "case the pit name space case but luckily",
    "start": "746800",
    "end": "749440"
  },
  {
    "text": "uh most uh most containers have a",
    "start": "749440",
    "end": "752800"
  },
  {
    "text": "private pit namespace which means",
    "start": "752800",
    "end": "754399"
  },
  {
    "text": "they're",
    "start": "754399",
    "end": "754880"
  },
  {
    "text": "they create one a new one for each new",
    "start": "754880",
    "end": "757120"
  },
  {
    "text": "container",
    "start": "757120",
    "end": "758000"
  },
  {
    "text": "as the private bid name space is the",
    "start": "758000",
    "end": "759519"
  },
  {
    "text": "default so it's only when a user",
    "start": "759519",
    "end": "761839"
  },
  {
    "text": "specifically specifies",
    "start": "761839",
    "end": "763519"
  },
  {
    "text": "hey i need a pod level name space can we",
    "start": "763519",
    "end": "766320"
  },
  {
    "text": "not drop the",
    "start": "766320",
    "end": "767360"
  },
  {
    "text": "pause container so",
    "start": "767360",
    "end": "770639"
  },
  {
    "text": "let's talk a little bit about cryo's",
    "start": "770639",
    "end": "773360"
  },
  {
    "start": "771000",
    "end": "915000"
  },
  {
    "text": "journey",
    "start": "773360",
    "end": "774240"
  },
  {
    "text": "from uh you know the original way to",
    "start": "774240",
    "end": "777440"
  },
  {
    "text": "the new world of dropping the pause",
    "start": "777440",
    "end": "779440"
  },
  {
    "text": "container so",
    "start": "779440",
    "end": "781040"
  },
  {
    "text": "we started out configuring pods with",
    "start": "781040",
    "end": "783440"
  },
  {
    "text": "namespaces",
    "start": "783440",
    "end": "784560"
  },
  {
    "text": "via the proc entry for the pit of the",
    "start": "784560",
    "end": "786720"
  },
  {
    "text": "pause container",
    "start": "786720",
    "end": "788079"
  },
  {
    "text": "as we saw in the diagram showing",
    "start": "788079",
    "end": "791519"
  },
  {
    "text": "the two different name space",
    "start": "791519",
    "end": "793200"
  },
  {
    "text": "configurations for the newly",
    "start": "793200",
    "end": "795040"
  },
  {
    "text": "new container config json that was",
    "start": "795040",
    "end": "798240"
  },
  {
    "text": "represented the option with the pause",
    "start": "798240",
    "end": "800240"
  },
  {
    "text": "container uh",
    "start": "800240",
    "end": "801360"
  },
  {
    "text": "which was the original option then to",
    "start": "801360",
    "end": "804720"
  },
  {
    "text": "add support for kata containers we added",
    "start": "804720",
    "end": "807120"
  },
  {
    "text": "an option manage",
    "start": "807120",
    "end": "808079"
  },
  {
    "text": "network ns lifecycle which",
    "start": "808079",
    "end": "810720"
  },
  {
    "text": "pre-configured the network namespaces",
    "start": "810720",
    "end": "812800"
  },
  {
    "text": "and did a similar thing to what pin in s",
    "start": "812800",
    "end": "814880"
  },
  {
    "text": "does but only for the network namespace",
    "start": "814880",
    "end": "817519"
  },
  {
    "text": "that was introduced",
    "start": "817519",
    "end": "818560"
  },
  {
    "text": "by the time cryo was uh had its initial",
    "start": "818560",
    "end": "821680"
  },
  {
    "text": "release and that allowed cod of vms to",
    "start": "821680",
    "end": "823440"
  },
  {
    "text": "work so now you can",
    "start": "823440",
    "end": "824959"
  },
  {
    "text": "run cryo crowd sandbox inside of a kata",
    "start": "824959",
    "end": "827440"
  },
  {
    "text": "vm",
    "start": "827440",
    "end": "829440"
  },
  {
    "text": "later we added the option managenice",
    "start": "829440",
    "end": "831839"
  },
  {
    "text": "lifecycle to be able to configure",
    "start": "831839",
    "end": "833360"
  },
  {
    "text": "most other namespaces so the manage ns",
    "start": "833360",
    "end": "837199"
  },
  {
    "text": "uh so we had a security vulnerability",
    "start": "837199",
    "end": "840399"
  },
  {
    "text": "uh about a a little bit less than a year",
    "start": "840399",
    "end": "843760"
  },
  {
    "text": "ago now",
    "start": "843760",
    "end": "844800"
  },
  {
    "text": "uh that was discovered where uh",
    "start": "844800",
    "end": "848240"
  },
  {
    "text": "containers would try to join a proc",
    "start": "848240",
    "end": "851120"
  },
  {
    "text": "entry that was stale so cryo had",
    "start": "851120",
    "end": "853279"
  },
  {
    "text": "some stale state in it and this happened",
    "start": "853279",
    "end": "856480"
  },
  {
    "text": "through some weird interactions with the",
    "start": "856480",
    "end": "858000"
  },
  {
    "text": "um killer",
    "start": "858000",
    "end": "859120"
  },
  {
    "text": "uh and then the uh",
    "start": "859120",
    "end": "863120"
  },
  {
    "text": "the container could join a namespace",
    "start": "863120",
    "end": "865199"
  },
  {
    "text": "that was not",
    "start": "865199",
    "end": "866399"
  },
  {
    "text": "uh related to its pause container so",
    "start": "866399",
    "end": "869440"
  },
  {
    "text": "uh to mitigate this we have created",
    "start": "869440",
    "end": "872560"
  },
  {
    "text": "uh you know managed ns lifecycle to uh",
    "start": "872560",
    "end": "875839"
  },
  {
    "text": "pin all of the other name spaces and",
    "start": "875839",
    "end": "877839"
  },
  {
    "text": "that was introduced in cryo117",
    "start": "877839",
    "end": "880800"
  },
  {
    "text": "uh the security vulnerability was also",
    "start": "880800",
    "end": "882800"
  },
  {
    "text": "mitigated in a couple of other ways so",
    "start": "882800",
    "end": "884240"
  },
  {
    "text": "it's",
    "start": "884240",
    "end": "884800"
  },
  {
    "text": "you don't need to set manage ns life",
    "start": "884800",
    "end": "886639"
  },
  {
    "text": "cycle to be mitigated but it is",
    "start": "886639",
    "end": "889040"
  },
  {
    "text": "uh you know the final nail in the coffin",
    "start": "889040",
    "end": "891199"
  },
  {
    "text": "to defeat that vulnerability",
    "start": "891199",
    "end": "893600"
  },
  {
    "text": "and finally for performance we use the",
    "start": "893600",
    "end": "896399"
  },
  {
    "text": "infrastructure already",
    "start": "896399",
    "end": "897600"
  },
  {
    "text": "created from anagenis lifecycle mainly",
    "start": "897600",
    "end": "899519"
  },
  {
    "text": "pin and s",
    "start": "899519",
    "end": "900720"
  },
  {
    "text": "uh and then we reconfigured some things",
    "start": "900720",
    "end": "904160"
  },
  {
    "text": "in uh cryo to drop the infra and we're",
    "start": "904160",
    "end": "907680"
  },
  {
    "text": "uh we are pushing for that to make it in",
    "start": "907680",
    "end": "910240"
  },
  {
    "text": "for cryo 119 which releases with cube",
    "start": "910240",
    "end": "912639"
  },
  {
    "text": "119.",
    "start": "912639",
    "end": "914880"
  },
  {
    "text": "so let's look at a roadmap so as",
    "start": "914880",
    "end": "917040"
  },
  {
    "start": "915000",
    "end": "984000"
  },
  {
    "text": "mentioned uh",
    "start": "917040",
    "end": "918639"
  },
  {
    "text": "we have we're targeting experimental",
    "start": "918639",
    "end": "920399"
  },
  {
    "text": "support for dropping the pause container",
    "start": "920399",
    "end": "922880"
  },
  {
    "text": "in cryo119 uh",
    "start": "922880",
    "end": "926000"
  },
  {
    "text": "and after that we're also going to",
    "start": "926000",
    "end": "928560"
  },
  {
    "text": "investigate using pod uh using pin and s",
    "start": "928560",
    "end": "931040"
  },
  {
    "text": "in pod man",
    "start": "931040",
    "end": "932240"
  },
  {
    "text": "um right now pod man for podman pods it",
    "start": "932240",
    "end": "935360"
  },
  {
    "text": "also",
    "start": "935360",
    "end": "936000"
  },
  {
    "text": "has a an infra container to hold the",
    "start": "936000",
    "end": "939120"
  },
  {
    "text": "name spaces for the pod so we're going",
    "start": "939120",
    "end": "940800"
  },
  {
    "text": "to investigate using pin and s for that",
    "start": "940800",
    "end": "942639"
  },
  {
    "text": "case as well",
    "start": "942639",
    "end": "943600"
  },
  {
    "text": "as well as for the rootless pod man",
    "start": "943600",
    "end": "945920"
  },
  {
    "text": "there's a username space that every",
    "start": "945920",
    "end": "947680"
  },
  {
    "text": "container is put into",
    "start": "947680",
    "end": "948880"
  },
  {
    "text": "and we're going to look at maybe having",
    "start": "948880",
    "end": "950320"
  },
  {
    "text": "pin and nest can figure that as well",
    "start": "950320",
    "end": "952959"
  },
  {
    "text": "finally we're planning on having uh pin",
    "start": "952959",
    "end": "956079"
  },
  {
    "text": "name spaces and drop pause beats",
    "start": "956079",
    "end": "958079"
  },
  {
    "text": "uh the default so pin name spaces are",
    "start": "958079",
    "end": "960639"
  },
  {
    "text": "we're shooting for the default to be",
    "start": "960639",
    "end": "962160"
  },
  {
    "text": "in 119 and then eventually cycle out",
    "start": "962160",
    "end": "965600"
  },
  {
    "text": "the uh proc entry uh",
    "start": "965600",
    "end": "968720"
  },
  {
    "text": "version of a pod in a couple of releases",
    "start": "968720",
    "end": "971600"
  },
  {
    "text": "and",
    "start": "971600",
    "end": "972000"
  },
  {
    "text": "then a couple releases after that will",
    "start": "972000",
    "end": "973440"
  },
  {
    "text": "hopefully drop the pause container in",
    "start": "973440",
    "end": "975759"
  },
  {
    "text": "nearly all",
    "start": "975759",
    "end": "976800"
  },
  {
    "text": "uh situations unless absolutely needed",
    "start": "976800",
    "end": "980959"
  },
  {
    "text": "so now let's go to a demo",
    "start": "980959",
    "end": "985600"
  },
  {
    "start": "984000",
    "end": "1323000"
  },
  {
    "text": "all right so here we have",
    "start": "991120",
    "end": "994839"
  },
  {
    "text": "a local kubernetes cluster running",
    "start": "994839",
    "end": "998320"
  },
  {
    "text": "so see here we're we're going to start",
    "start": "998320",
    "end": "1000160"
  },
  {
    "text": "off with cryo",
    "start": "1000160",
    "end": "1001600"
  },
  {
    "text": "running with uh dropping the pause",
    "start": "1001600",
    "end": "1004240"
  },
  {
    "text": "container",
    "start": "1004240",
    "end": "1005279"
  },
  {
    "text": "uh not dropping the pause container so",
    "start": "1005279",
    "end": "1006880"
  },
  {
    "text": "we're gonna start off with the pause",
    "start": "1006880",
    "end": "1007920"
  },
  {
    "text": "container with the old",
    "start": "1007920",
    "end": "1009120"
  },
  {
    "text": "proc way of doing things so",
    "start": "1009120",
    "end": "1012480"
  },
  {
    "text": "uh right now so we have no pods let's",
    "start": "1012480",
    "end": "1016399"
  },
  {
    "text": "create a pod",
    "start": "1016399",
    "end": "1017440"
  },
  {
    "text": "so uh we have two pod yamls they're",
    "start": "1017440",
    "end": "1020480"
  },
  {
    "text": "nearly identical they just have a",
    "start": "1020480",
    "end": "1021839"
  },
  {
    "text": "slightly different name hello and hello",
    "start": "1021839",
    "end": "1023600"
  },
  {
    "text": "too",
    "start": "1023600",
    "end": "1024720"
  },
  {
    "text": "all they are is an alpine container that",
    "start": "1024720",
    "end": "1028000"
  },
  {
    "text": "runs top we can thank podman for",
    "start": "1028000",
    "end": "1030480"
  },
  {
    "text": "generating these yamls for me",
    "start": "1030480",
    "end": "1032720"
  },
  {
    "text": "because it's annoying um so let's start",
    "start": "1032720",
    "end": "1036000"
  },
  {
    "text": "let's run this",
    "start": "1036000",
    "end": "1037199"
  },
  {
    "text": "k uh apply",
    "start": "1037199",
    "end": "1040400"
  },
  {
    "text": "hello squad created so the first thing",
    "start": "1040400",
    "end": "1044000"
  },
  {
    "text": "we can check",
    "start": "1044000",
    "end": "1045038"
  },
  {
    "text": "is uh",
    "start": "1045039",
    "end": "1048879"
  },
  {
    "text": "oh we have our hello container running",
    "start": "1049440",
    "end": "1051200"
  },
  {
    "text": "let's use crycuddle to find the pod id",
    "start": "1051200",
    "end": "1055120"
  },
  {
    "text": "for cryo so here we have this hello",
    "start": "1055120",
    "end": "1057200"
  },
  {
    "text": "container",
    "start": "1057200",
    "end": "1058799"
  },
  {
    "text": "pod id is 3a6",
    "start": "1058799",
    "end": "1062480"
  },
  {
    "text": "so let's look at this pod this uh",
    "start": "1062480",
    "end": "1066000"
  },
  {
    "text": "pause container in run c so i'm gonna",
    "start": "1066000",
    "end": "1067919"
  },
  {
    "text": "see list we've got for this id",
    "start": "1067919",
    "end": "1070160"
  },
  {
    "text": "and here is our pause container we can",
    "start": "1070160",
    "end": "1072480"
  },
  {
    "text": "we know this",
    "start": "1072480",
    "end": "1073360"
  },
  {
    "text": "because we can do",
    "start": "1073360",
    "end": "1076640"
  },
  {
    "text": "uh status cryo",
    "start": "1076640",
    "end": "1081280"
  },
  {
    "text": "podi dot scope and here we have this",
    "start": "1081280",
    "end": "1083200"
  },
  {
    "text": "pause binary note this",
    "start": "1083200",
    "end": "1084799"
  },
  {
    "text": "pid 240 732",
    "start": "1084799",
    "end": "1088000"
  },
  {
    "text": "that'll be important later so let's look",
    "start": "1088000",
    "end": "1090720"
  },
  {
    "text": "at",
    "start": "1090720",
    "end": "1091120"
  },
  {
    "text": "uh the pause containers config blob",
    "start": "1091120",
    "end": "1093600"
  },
  {
    "text": "which is specified",
    "start": "1093600",
    "end": "1096240"
  },
  {
    "text": "so this is passed directly to run c",
    "start": "1096240",
    "end": "1099520"
  },
  {
    "text": "and notice here we have not specified",
    "start": "1099520",
    "end": "1101760"
  },
  {
    "text": "any locations for the pod but instead",
    "start": "1101760",
    "end": "1104080"
  },
  {
    "text": "have asked run c to create us",
    "start": "1104080",
    "end": "1105840"
  },
  {
    "text": "new name spaces for each of these",
    "start": "1105840",
    "end": "1108160"
  },
  {
    "text": "namespaces",
    "start": "1108160",
    "end": "1109440"
  },
  {
    "text": "uh for the pod",
    "start": "1109440",
    "end": "1112720"
  },
  {
    "text": "now we're gonna look uh at our container",
    "start": "1113919",
    "end": "1116400"
  },
  {
    "text": "so crypto",
    "start": "1116400",
    "end": "1118080"
  },
  {
    "text": "ps so here is the container",
    "start": "1118080",
    "end": "1122160"
  },
  {
    "text": "hello let's look at it",
    "start": "1122160",
    "end": "1125679"
  },
  {
    "text": "in systemd",
    "start": "1125679",
    "end": "1128480"
  },
  {
    "text": "so here we have our simple top running",
    "start": "1131120",
    "end": "1137840"
  },
  {
    "text": "looking at it that our config blob",
    "start": "1138320",
    "end": "1142880"
  },
  {
    "text": "notice here if we remember our pid",
    "start": "1145280",
    "end": "1148640"
  },
  {
    "text": "value we have the proc pid and that's",
    "start": "1148640",
    "end": "1151039"
  },
  {
    "text": "net so this is the net name space that",
    "start": "1151039",
    "end": "1152720"
  },
  {
    "text": "runs he created for the pod",
    "start": "1152720",
    "end": "1154320"
  },
  {
    "text": "that crowl then uh took from the pause",
    "start": "1154320",
    "end": "1157360"
  },
  {
    "text": "uh took uh with respect to",
    "start": "1157360",
    "end": "1160559"
  },
  {
    "text": "the pause containers pid and passed it",
    "start": "1160559",
    "end": "1162480"
  },
  {
    "text": "down to run c to create",
    "start": "1162480",
    "end": "1164400"
  },
  {
    "text": "and uh to in creating a container use",
    "start": "1164400",
    "end": "1167840"
  },
  {
    "text": "that network namespace",
    "start": "1167840",
    "end": "1170240"
  },
  {
    "text": "same with ipc and ets so let's try a",
    "start": "1170240",
    "end": "1173360"
  },
  {
    "text": "different way",
    "start": "1173360",
    "end": "1174080"
  },
  {
    "text": "let's do it with",
    "start": "1174080",
    "end": "1177039"
  },
  {
    "text": "uh managing ns lifecycle and dropping",
    "start": "1177360",
    "end": "1180240"
  },
  {
    "text": "the infra container",
    "start": "1180240",
    "end": "1181919"
  },
  {
    "text": "and so we're gonna",
    "start": "1181919",
    "end": "1186720"
  },
  {
    "text": "create our new pod new",
    "start": "1187280",
    "end": "1190400"
  },
  {
    "text": "improved to",
    "start": "1190400",
    "end": "1193440"
  },
  {
    "text": "so we have hello to create and then so",
    "start": "1194559",
    "end": "1198160"
  },
  {
    "text": "let's do a cry cuddle",
    "start": "1198160",
    "end": "1200160"
  },
  {
    "text": "yes uh pods so",
    "start": "1200160",
    "end": "1203919"
  },
  {
    "text": "notice we have hello 2 here this is our",
    "start": "1203919",
    "end": "1206720"
  },
  {
    "text": "id",
    "start": "1206720",
    "end": "1207200"
  },
  {
    "text": "let's do a run c list and look for",
    "start": "1207200",
    "end": "1210320"
  },
  {
    "text": "our pause container well we have no",
    "start": "1210320",
    "end": "1212400"
  },
  {
    "text": "pause container we asked it to drop it",
    "start": "1212400",
    "end": "1214480"
  },
  {
    "text": "of course we did so in uh in this",
    "start": "1214480",
    "end": "1217360"
  },
  {
    "text": "situation we've dropped the pause",
    "start": "1217360",
    "end": "1218640"
  },
  {
    "text": "container",
    "start": "1218640",
    "end": "1219520"
  },
  {
    "text": "and there's no config blob that we're",
    "start": "1219520",
    "end": "1221440"
  },
  {
    "text": "keeping associated with it",
    "start": "1221440",
    "end": "1222960"
  },
  {
    "text": "all we've done is have pin and s create",
    "start": "1222960",
    "end": "1225200"
  },
  {
    "text": "the namespaces so let's look instead",
    "start": "1225200",
    "end": "1227280"
  },
  {
    "text": "at",
    "start": "1227280",
    "end": "1229520"
  },
  {
    "text": "the container for hello 2.",
    "start": "1232080",
    "end": "1235760"
  },
  {
    "text": "we can show it's running",
    "start": "1235760",
    "end": "1238960"
  },
  {
    "text": "and it's our top pod",
    "start": "1241360",
    "end": "1244400"
  },
  {
    "text": "looking for its config blob let's take a",
    "start": "1246799",
    "end": "1250000"
  },
  {
    "text": "look at it",
    "start": "1250000",
    "end": "1252559"
  },
  {
    "text": "so here notice we have our newly our our",
    "start": "1253039",
    "end": "1255760"
  },
  {
    "text": "newly formatted",
    "start": "1255760",
    "end": "1256880"
  },
  {
    "text": "namespace paths so this was a namespace",
    "start": "1256880",
    "end": "1259440"
  },
  {
    "text": "that was unshared",
    "start": "1259440",
    "end": "1260840"
  },
  {
    "text": "from pin and s and then we have we",
    "start": "1260840",
    "end": "1265200"
  },
  {
    "text": "configured the ciscos and mounted the",
    "start": "1265200",
    "end": "1268320"
  },
  {
    "text": "mounted it at this location and then",
    "start": "1268320",
    "end": "1271360"
  },
  {
    "text": "cryo took that location and passed it",
    "start": "1271360",
    "end": "1273039"
  },
  {
    "text": "down to the newly created container",
    "start": "1273039",
    "end": "1276000"
  },
  {
    "text": "and now the container is operating",
    "start": "1276000",
    "end": "1278080"
  },
  {
    "text": "within",
    "start": "1278080",
    "end": "1279039"
  },
  {
    "text": "the pods namespaces",
    "start": "1279039",
    "end": "1284240"
  },
  {
    "text": "and any old process can unshare into",
    "start": "1284240",
    "end": "1288480"
  },
  {
    "text": "if i copy it any old process can share",
    "start": "1288480",
    "end": "1291679"
  },
  {
    "text": "into this container",
    "start": "1291679",
    "end": "1294159"
  },
  {
    "text": "like so and now we're in the pods",
    "start": "1294159",
    "end": "1296640"
  },
  {
    "text": "namespace",
    "start": "1296640",
    "end": "1297840"
  },
  {
    "text": "hello which is different from the host",
    "start": "1297840",
    "end": "1300880"
  },
  {
    "text": "name space",
    "start": "1300880",
    "end": "1302559"
  },
  {
    "text": "so and we can also show it exists",
    "start": "1302559",
    "end": "1307360"
  },
  {
    "text": "we have to get our own sim links",
    "start": "1307360",
    "end": "1310400"
  },
  {
    "text": "so here we have the net name space",
    "start": "1310400",
    "end": "1312640"
  },
  {
    "text": "mounted on the host",
    "start": "1312640",
    "end": "1315919"
  },
  {
    "text": "so uh we're gonna talk a little bit now",
    "start": "1316240",
    "end": "1319520"
  },
  {
    "text": "about the performance differences",
    "start": "1319520",
    "end": "1322960"
  },
  {
    "text": "so here we have a script that was run",
    "start": "1322960",
    "end": "1326320"
  },
  {
    "start": "1323000",
    "end": "1491000"
  },
  {
    "text": "uh so uh here it's just creating",
    "start": "1326320",
    "end": "1329760"
  },
  {
    "text": "a hundred unique pods waiting for them",
    "start": "1329760",
    "end": "1332880"
  },
  {
    "text": "to be done",
    "start": "1332880",
    "end": "1333919"
  },
  {
    "text": "uh being created and then removing the",
    "start": "1333919",
    "end": "1337039"
  },
  {
    "text": "pods i",
    "start": "1337039",
    "end": "1338080"
  },
  {
    "text": "there's actually a typo here that i",
    "start": "1338080",
    "end": "1339919"
  },
  {
    "text": "missed that all these",
    "start": "1339919",
    "end": "1341360"
  },
  {
    "text": "pod creations were done in the",
    "start": "1341360",
    "end": "1343039"
  },
  {
    "text": "background so wait it was waiting for",
    "start": "1343039",
    "end": "1344960"
  },
  {
    "text": "all of the children to be",
    "start": "1344960",
    "end": "1346000"
  },
  {
    "text": "created um so the",
    "start": "1346000",
    "end": "1349679"
  },
  {
    "text": "we have all of those pods created and",
    "start": "1349679",
    "end": "1352000"
  },
  {
    "text": "then we wait and then we remove them all",
    "start": "1352000",
    "end": "1354240"
  },
  {
    "text": "and i ran so we did that 100 times for",
    "start": "1354240",
    "end": "1357280"
  },
  {
    "text": "one run",
    "start": "1357280",
    "end": "1357840"
  },
  {
    "text": "and then we ran uh each of those",
    "start": "1357840",
    "end": "1360960"
  },
  {
    "text": "100 ones 10 times to see and then",
    "start": "1360960",
    "end": "1364000"
  },
  {
    "text": "average the time difference to see get a",
    "start": "1364000",
    "end": "1366799"
  },
  {
    "text": "kind of an idea",
    "start": "1366799",
    "end": "1368159"
  },
  {
    "text": "of the performance comparison this is",
    "start": "1368159",
    "end": "1370480"
  },
  {
    "text": "simply with respect to runtime",
    "start": "1370480",
    "end": "1373200"
  },
  {
    "text": "so here we have some results we used uh",
    "start": "1373200",
    "end": "1375120"
  },
  {
    "text": "multi-time",
    "start": "1375120",
    "end": "1376240"
  },
  {
    "text": "to compile and uh do all the math for us",
    "start": "1376240",
    "end": "1379520"
  },
  {
    "text": "so uh the first one is with the pause",
    "start": "1379520",
    "end": "1382480"
  },
  {
    "text": "dropped and the second one is",
    "start": "1382480",
    "end": "1384080"
  },
  {
    "text": "with uh keeping the pause now a couple",
    "start": "1384080",
    "end": "1387039"
  },
  {
    "text": "of things to note",
    "start": "1387039",
    "end": "1388000"
  },
  {
    "text": "so notice how the the real uh the user",
    "start": "1388000",
    "end": "1390720"
  },
  {
    "text": "and the cis time for both of them are",
    "start": "1390720",
    "end": "1392320"
  },
  {
    "text": "actually pretty similar",
    "start": "1392320",
    "end": "1393520"
  },
  {
    "text": "and that's expected cry cuddle just uh",
    "start": "1393520",
    "end": "1396720"
  },
  {
    "text": "makes a request to cryo cryo does all",
    "start": "1396720",
    "end": "1399200"
  },
  {
    "text": "the actual work and then returns a",
    "start": "1399200",
    "end": "1400720"
  },
  {
    "text": "response to crycuddle",
    "start": "1400720",
    "end": "1402159"
  },
  {
    "text": "so time won't be calculating the user in",
    "start": "1402159",
    "end": "1405360"
  },
  {
    "text": "the system for the actual operation",
    "start": "1405360",
    "end": "1407120"
  },
  {
    "text": "because that's happening in cryo not cry",
    "start": "1407120",
    "end": "1408960"
  },
  {
    "text": "cuddle and we're only doing time on cry",
    "start": "1408960",
    "end": "1410559"
  },
  {
    "text": "cuddle",
    "start": "1410559",
    "end": "1411200"
  },
  {
    "text": "so the only metric that we really get is",
    "start": "1411200",
    "end": "1413600"
  },
  {
    "text": "with the real time",
    "start": "1413600",
    "end": "1415440"
  },
  {
    "text": "unfortunately the real time is you know",
    "start": "1415440",
    "end": "1418159"
  },
  {
    "text": "a little bit",
    "start": "1418159",
    "end": "1419360"
  },
  {
    "text": "it's not like the most accurate um",
    "start": "1419360",
    "end": "1421440"
  },
  {
    "text": "because it accounts for",
    "start": "1421440",
    "end": "1423039"
  },
  {
    "text": "kernel interrupts and everything um but",
    "start": "1423039",
    "end": "1425679"
  },
  {
    "text": "you know i",
    "start": "1425679",
    "end": "1426159"
  },
  {
    "text": "i run it a couple of times and there has",
    "start": "1426159",
    "end": "1427840"
  },
  {
    "text": "been a little bit of variation but",
    "start": "1427840",
    "end": "1429039"
  },
  {
    "text": "ultimately there is",
    "start": "1429039",
    "end": "1430240"
  },
  {
    "text": "a savings in runtime there's also a",
    "start": "1430240",
    "end": "1432159"
  },
  {
    "text": "savings",
    "start": "1432159",
    "end": "1433279"
  },
  {
    "text": "in overhead which we have we don't show",
    "start": "1433279",
    "end": "1436640"
  },
  {
    "text": "here but",
    "start": "1436640",
    "end": "1437520"
  },
  {
    "text": "if 900 kilobytes for every",
    "start": "1437520",
    "end": "1440880"
  },
  {
    "text": "uh pause container and say you know max",
    "start": "1440880",
    "end": "1443279"
  },
  {
    "text": "200 pods",
    "start": "1443279",
    "end": "1444720"
  },
  {
    "text": "on a node that means we have 200 megs",
    "start": "1444720",
    "end": "1448480"
  },
  {
    "text": "uh for uh our pause container",
    "start": "1448480",
    "end": "1452640"
  },
  {
    "text": "uh all of the pause containers on the",
    "start": "1452640",
    "end": "1454559"
  },
  {
    "text": "node which you know isn't a ton but all",
    "start": "1454559",
    "end": "1456559"
  },
  {
    "text": "of that could be",
    "start": "1456559",
    "end": "1457520"
  },
  {
    "text": "better used by uh you know the workloads",
    "start": "1457520",
    "end": "1460880"
  },
  {
    "text": "instead of the infrastructure so",
    "start": "1460880",
    "end": "1462240"
  },
  {
    "text": "dropping the pause container fix that",
    "start": "1462240",
    "end": "1463600"
  },
  {
    "text": "and also",
    "start": "1463600",
    "end": "1464400"
  },
  {
    "text": "we're saving on all of the uh code",
    "start": "1464400",
    "end": "1467840"
  },
  {
    "text": "that would go through to create the",
    "start": "1467840",
    "end": "1470320"
  },
  {
    "text": "pause container",
    "start": "1470320",
    "end": "1471279"
  },
  {
    "text": "we're saving on the run c exec we're",
    "start": "1471279",
    "end": "1472960"
  },
  {
    "text": "saving on a con mon paying attention to",
    "start": "1472960",
    "end": "1474720"
  },
  {
    "text": "the pause container",
    "start": "1474720",
    "end": "1475919"
  },
  {
    "text": "accounting for when it spuriously gets",
    "start": "1475919",
    "end": "1478480"
  },
  {
    "text": "killed",
    "start": "1478480",
    "end": "1479360"
  },
  {
    "text": "all of these different things totally",
    "start": "1479360",
    "end": "1481039"
  },
  {
    "text": "avoided all we're doing is",
    "start": "1481039",
    "end": "1482640"
  },
  {
    "text": "we're mounting a file passing that file",
    "start": "1482640",
    "end": "1484480"
  },
  {
    "text": "to run c",
    "start": "1484480",
    "end": "1485760"
  },
  {
    "text": "and that's like the majority of our pod",
    "start": "1485760",
    "end": "1487679"
  },
  {
    "text": "creation",
    "start": "1487679",
    "end": "1488799"
  },
  {
    "text": "um",
    "start": "1488799",
    "end": "1491120"
  },
  {
    "start": "1491000",
    "end": "1653000"
  },
  {
    "text": "oh thanks",
    "start": "1495919",
    "end": "1501840"
  },
  {
    "text": "yeah and also if uh you have uh",
    "start": "1506080",
    "end": "1509279"
  },
  {
    "text": "questions but are not watching live then",
    "start": "1509279",
    "end": "1511679"
  },
  {
    "text": "you can always reach out to us",
    "start": "1511679",
    "end": "1512960"
  },
  {
    "text": "in the cryo channel in the kubernetes",
    "start": "1512960",
    "end": "1516159"
  },
  {
    "text": "slack",
    "start": "1516159",
    "end": "1516559"
  },
  {
    "text": "or with an issue on github and we'll be",
    "start": "1516559",
    "end": "1519039"
  },
  {
    "text": "happy to help",
    "start": "1519039",
    "end": "1521039"
  },
  {
    "text": "thank you",
    "start": "1521039",
    "end": "1528720"
  },
  {
    "text": "hey everyone uh sorry about",
    "start": "1528720",
    "end": "1531840"
  },
  {
    "text": "the uh demo issues we'll uh follow up on",
    "start": "1531840",
    "end": "1535520"
  },
  {
    "text": "the um kubecon runtimes channel with an",
    "start": "1535520",
    "end": "1538799"
  },
  {
    "text": "ask cinema",
    "start": "1538799",
    "end": "1539679"
  },
  {
    "text": "once recreated so it'll be in a little",
    "start": "1539679",
    "end": "1542000"
  },
  {
    "text": "bit but",
    "start": "1542000",
    "end": "1544480"
  },
  {
    "text": "are there any questions that are not",
    "start": "1547120",
    "end": "1549760"
  },
  {
    "text": "related to the fact that our demo didn't",
    "start": "1549760",
    "end": "1553520"
  },
  {
    "text": "run",
    "start": "1554840",
    "end": "1557840"
  },
  {
    "text": "there's one question on the kubernetes",
    "start": "1561600",
    "end": "1565440"
  },
  {
    "text": "slack that why don't we use ipnetinus",
    "start": "1565440",
    "end": "1569120"
  },
  {
    "text": "so the response is like ipnet10s only",
    "start": "1569120",
    "end": "1571760"
  },
  {
    "text": "handles a network namespace",
    "start": "1571760",
    "end": "1573840"
  },
  {
    "text": "so we wrote this custom toolpin ns that",
    "start": "1573840",
    "end": "1576000"
  },
  {
    "text": "can handle all the namespaces and also",
    "start": "1576000",
    "end": "1578080"
  },
  {
    "text": "we don't want to stomp on the system",
    "start": "1578080",
    "end": "1580159"
  },
  {
    "text": "directories so we allow you to customize",
    "start": "1580159",
    "end": "1582400"
  },
  {
    "text": "the directory in which the namespaces",
    "start": "1582400",
    "end": "1584240"
  },
  {
    "text": "are print",
    "start": "1584240",
    "end": "1599840"
  },
  {
    "text": "and on the topic of the demo so we've",
    "start": "1600640",
    "end": "1603120"
  },
  {
    "text": "been told that",
    "start": "1603120",
    "end": "1604400"
  },
  {
    "text": "it it will be fixed in the on-demand uh",
    "start": "1604400",
    "end": "1607600"
  },
  {
    "text": "version of the talk so maybe that will",
    "start": "1607600",
    "end": "1610559"
  },
  {
    "text": "work out",
    "start": "1610559",
    "end": "1613840"
  },
  {
    "text": "yeah i'm not sure if we'll get yeah the",
    "start": "1615120",
    "end": "1617440"
  },
  {
    "text": "on-demander i'm not sure how to work",
    "start": "1617440",
    "end": "1619679"
  },
  {
    "text": "uh in the for that but yeah we'll we'll",
    "start": "1619679",
    "end": "1622240"
  },
  {
    "text": "post it",
    "start": "1622240",
    "end": "1622880"
  },
  {
    "text": "and try to get that demo out to you guys",
    "start": "1622880",
    "end": "1625120"
  },
  {
    "text": "sorry about that",
    "start": "1625120",
    "end": "1626240"
  },
  {
    "text": "see y'all",
    "start": "1626240",
    "end": "1641840"
  },
  {
    "text": "okay there aren't any more questions",
    "start": "1645039",
    "end": "1646799"
  },
  {
    "text": "thanks for",
    "start": "1646799",
    "end": "1648399"
  },
  {
    "text": "tuning in to the talk folks yeah thanks",
    "start": "1648399",
    "end": "1652200"
  },
  {
    "text": "everyone",
    "start": "1652200",
    "end": "1655200"
  }
]