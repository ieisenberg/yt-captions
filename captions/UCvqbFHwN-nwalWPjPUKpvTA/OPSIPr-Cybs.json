[
  {
    "text": "alright let's kick this up welcome to K native scaling from 0 to infinity session this is Thursday the last",
    "start": "570",
    "end": "7980"
  },
  {
    "text": "session last day of the session so hopefully thanks for coming and hopefully we have enough room for about",
    "start": "7980",
    "end": "13230"
  },
  {
    "text": "here quick interest hey my name is Jo brunette I work on Google App Engine and I'm the auto-scaling",
    "start": "13230",
    "end": "19890"
  },
  {
    "text": "working group lead for KDF my name is March Marnie I'm one of the technical",
    "start": "19890",
    "end": "25380"
  },
  {
    "text": "program managers at Google working specifically on serve lists on top of kubernetes so like I said this is the",
    "start": "25380",
    "end": "33600"
  },
  {
    "text": "fourth day we already had I think 11 sessions depending if you count some of the off sites or not so hopefully you",
    "start": "33600",
    "end": "40170"
  },
  {
    "text": "have got some of the introductory information about key native if you haven't we'll capture as little in",
    "start": "40170",
    "end": "47010"
  },
  {
    "text": "following slides there are still two other sessions today so this is total or thirteen which is in itself very amazing",
    "start": "47010",
    "end": "53940"
  },
  {
    "text": "thing given that this project just launched four months ago so if you haven't attended any one of those births",
    "start": "53940",
    "end": "59520"
  },
  {
    "text": "with other sessions please do just a quick recap if you haven't made to those previous sessions or you haven't heard",
    "start": "59520",
    "end": "65790"
  },
  {
    "text": "about Candide before we try to shove everything in what a slide so hopefully it's not overwhelming but key native is",
    "start": "65790",
    "end": "72510"
  },
  {
    "text": "a set of low level components that address many of the common concerns when you're building a service application on",
    "start": "72510",
    "end": "78689"
  },
  {
    "text": "top of kubernetes it solves for modern application patterns so it doesn't try",
    "start": "78689",
    "end": "84090"
  },
  {
    "text": "to kind of go after the stateful workloads but more kind of stateless and it is very much the set of ingredients",
    "start": "84090",
    "end": "91650"
  },
  {
    "text": "for what you would need if you were to build service application on top of kubernetes implements many of the",
    "start": "91650",
    "end": "96960"
  },
  {
    "text": "learnings from Google and the partners so there's a lot of goodness there at the core there's three things we would",
    "start": "96960",
    "end": "102960"
  },
  {
    "text": "like you to walk away knowing about Kay native it's simple to start with there's a lot of emphasis have been placed on",
    "start": "102960",
    "end": "108869"
  },
  {
    "text": "kind of obfuscating the complexity of cover of cornice itself there's a lot of things that happen for you automatically",
    "start": "108869",
    "end": "114750"
  },
  {
    "text": "including auto scaling which we're going to be talking about today and on the end of the day there's a lot of",
    "start": "114750",
    "end": "119880"
  },
  {
    "text": "different platforms that you've used before they were super simple for the hello world example but then you know",
    "start": "119880",
    "end": "125100"
  },
  {
    "text": "day to day they hundreds start and you have kind of limitations we want to make sure that it's very very extensible",
    "start": "125100",
    "end": "130729"
  },
  {
    "text": "there's a couple additional links we'll have more about the information and the different places where you can find additional",
    "start": "130730",
    "end": "136530"
  },
  {
    "text": "data about that so let's let's go into this I think for the purposes of kind of",
    "start": "136530",
    "end": "143280"
  },
  {
    "text": "level setting with everybody to the same we're going to capture very quickly the kind of principal objects that are",
    "start": "143280",
    "end": "149900"
  },
  {
    "text": "implementing key native there's a configuration that represents instead of",
    "start": "149900",
    "end": "155540"
  },
  {
    "text": "the state of the application both config the code as well as the configuration that you would deploy we you follow the",
    "start": "155540",
    "end": "162840"
  },
  {
    "text": "twelve factor principle separating the code and the application there is a revision that represents a point in time",
    "start": "162840",
    "end": "169799"
  },
  {
    "text": "snapshot of that of those two their code and configuration that allow you to kind of roll back to and from if you wanted",
    "start": "169799",
    "end": "175680"
  },
  {
    "text": "to and there is a route which Maps the traffic to a particular version of the of the revision there's also a subset of",
    "start": "175680",
    "end": "183900"
  },
  {
    "text": "these objects represented by service or K service as you might have seen some of this referred to on a conference here",
    "start": "183900",
    "end": "191489"
  },
  {
    "text": "that allows you to kind of manage these three principal objects in one construct",
    "start": "191489",
    "end": "196980"
  },
  {
    "text": "a kind of high-level object today however we're gonna go slightly lower than that we're going to go into the pod",
    "start": "196980",
    "end": "202889"
  },
  {
    "text": "autoscaler so I want to ask Joel to maybe tell us a little more about that sure so the pod autoscaler is another",
    "start": "202889",
    "end": "209760"
  },
  {
    "text": "custom resource just like these other boxes here it's a entity that you write to at CD has its own controller the pod",
    "start": "209760",
    "end": "217920"
  },
  {
    "text": "autoscaler abstracts the auto scaling requirements and the auto scaling state of the revision so for each revision",
    "start": "217920",
    "end": "225120"
  },
  {
    "text": "there's a pot on a scaler and it gives us some really nice extensibility and control that I'll talk a little bit more",
    "start": "225120",
    "end": "231780"
  },
  {
    "text": "in a minute awesome so if I went today Joe and downloaded Kay native or if I",
    "start": "231780",
    "end": "237359"
  },
  {
    "text": "followed our GK Auden where with one click you can provide the actual entire instance of of Kay native what type of",
    "start": "237359",
    "end": "245190"
  },
  {
    "text": "capabilities would I get with regards to auto scaling out-of-the-box even there is no box really per se so out of the",
    "start": "245190",
    "end": "254370"
  },
  {
    "text": "box when you get with Kay native is auto scaling by default you get auto scaling",
    "start": "254370",
    "end": "260519"
  },
  {
    "text": "based on requests a very fast auto scaling so responds",
    "start": "260519",
    "end": "265650"
  },
  {
    "text": "within seconds so this is this is pretty powerful but it also scales two zeros there's some orchestration that you get",
    "start": "265650",
    "end": "272550"
  },
  {
    "text": "out of the box in R and a scale zero when you don't need it in scale back I'm going to show you some of that but",
    "start": "272550",
    "end": "278580"
  },
  {
    "text": "before I do I want to give you a little bit of orientation to the screen that we're gonna be looking at this is an",
    "start": "278580",
    "end": "284850"
  },
  {
    "text": "intermediate session so of course it has command line okay Joe took in a",
    "start": "284850",
    "end": "291630"
  },
  {
    "text": "challenge of showing us many panels of console as possum physically possible so",
    "start": "291630",
    "end": "296820"
  },
  {
    "text": "that's right more contact more panels okay so this is a service this is what",
    "start": "296820",
    "end": "302480"
  },
  {
    "text": "what Mark was talking about that top level box where you just basically give it a container describe how you want to",
    "start": "302480",
    "end": "308430"
  },
  {
    "text": "run it and how you want to roll it out I have another panel that I'm going to be",
    "start": "308430",
    "end": "313740"
  },
  {
    "text": "showing you looks like this on the upper left-hand corner there are all the pod",
    "start": "313740",
    "end": "320700"
  },
  {
    "text": "auto scalars that are deployed in this cluster so right now there's one pot of a scale which means there was one",
    "start": "320700",
    "end": "326490"
  },
  {
    "text": "revision it's currently not getting any traffic and so as you can see on the right hand side there are no pots okay",
    "start": "326490",
    "end": "333720"
  },
  {
    "text": "nothing's wrong this thing is ready to serve traffic the revisions ready but there's no pause around okay so what I'm",
    "start": "333720",
    "end": "340919"
  },
  {
    "text": "gonna do is I'm gonna take you over here and I mean we're gonna hit this application so I've got this wired up to",
    "start": "340919",
    "end": "346890"
  },
  {
    "text": "a custom domain you can see how to do this in many of the Canada documentation",
    "start": "346890",
    "end": "352260"
  },
  {
    "text": "I'm gonna hit it with a request Oh what's up already okay I guess got a",
    "start": "352260",
    "end": "359160"
  },
  {
    "text": "Google fired off a request before I ever hit so there's a pod now so this thing scales from zero and it will go away",
    "start": "359160",
    "end": "365730"
  },
  {
    "text": "again if I stop sending a traffic so this is pretty powerful actually you don't have to worry about what happens after you're done with something just",
    "start": "365730",
    "end": "371970"
  },
  {
    "text": "take traffic away from it and it'll get garbage collected on its own so as I as",
    "start": "371970",
    "end": "379680"
  },
  {
    "text": "I go through this demo I want to try to fulfill promise which is the KDF comes",
    "start": "379680",
    "end": "385410"
  },
  {
    "text": "with what you need out of the box to get started but Katie it is auto-scaling will grow with you as your service gross",
    "start": "385410",
    "end": "392450"
  },
  {
    "text": "that means that you're not gonna have to suddenly have a point where you reach or everything can ativ a lot of scaling",
    "start": "392450",
    "end": "398950"
  },
  {
    "text": "will allow you to address your new and evolving requirements so in order to",
    "start": "398950",
    "end": "405910"
  },
  {
    "text": "keep it real what I'm going to do is I'm going to start a little bit a load against this revision I'm going to send",
    "start": "405910",
    "end": "411130"
  },
  {
    "text": "it traffic through the whole demo as I evolve this application through the various auto scale auto scaling",
    "start": "411130",
    "end": "417100"
  },
  {
    "text": "configurations and so you will get to see that this thing actually still continues to work and serve customers",
    "start": "417100",
    "end": "423520"
  },
  {
    "text": "even as we get into some more advanced auto scaling months so I'm going to say go run load what this is gonna do is",
    "start": "423520",
    "end": "433480"
  },
  {
    "text": "it's gonna start 16 like processes making continuous requests against this",
    "start": "433480",
    "end": "439180"
  },
  {
    "text": "revision I happen to catch it right when it was trying to scale down so one pot",
    "start": "439180",
    "end": "444640"
  },
  {
    "text": "is going down one pod coming back up again you'll see that the last response",
    "start": "444640",
    "end": "450160"
  },
  {
    "text": "here always the how many requests have been made each one consumes a little bit",
    "start": "450160",
    "end": "456040"
  },
  {
    "text": "of CPU okay so here's my load generator now I'm gonna show you what it looks like when you roll out a new new",
    "start": "456040",
    "end": "463150"
  },
  {
    "text": "revision okay so here is my service again and I'm gonna I'm gonna change a",
    "start": "463150",
    "end": "468460"
  },
  {
    "text": "few things about this this is the first customization that I'm gonna do suppose that my service has a whole bunch of",
    "start": "468460",
    "end": "474070"
  },
  {
    "text": "startup latency like it needs to do some pre-processing on the first starts up and I don't want my I don't actually",
    "start": "474070",
    "end": "481120"
  },
  {
    "text": "want to scale to zero I can actually specify min scale zero and tell it just",
    "start": "481120",
    "end": "486190"
  },
  {
    "text": "stick around and I can adjust the auto scaling target as well so let's say I",
    "start": "486190",
    "end": "493090"
  },
  {
    "text": "want a target of two to what so auto scaling like a native auto scaling is based on concurrency so",
    "start": "493090",
    "end": "500800"
  },
  {
    "text": "that's the number of requests that are in flight per pod so the cluster that I",
    "start": "500800",
    "end": "506230"
  },
  {
    "text": "deployed here has a default of ten so for each pod it's trying to keep ten requests going on that pod at any given",
    "start": "506230",
    "end": "513280"
  },
  {
    "text": "time so if traffic increases you get more pod if latency increases you get more pods but that seems to be a little",
    "start": "513280",
    "end": "519969"
  },
  {
    "text": "bit too heavy for my application so I want to bring that target down to just two okay so here I'm going to deploy a",
    "start": "519969",
    "end": "525820"
  },
  {
    "text": "new revision I'm gonna call cube con two so you can see the change here on this",
    "start": "525820",
    "end": "531260"
  },
  {
    "text": "screen you're gonna see that it rolls out a new revision oh one thing I forgot to tell you is that that service animal",
    "start": "531260",
    "end": "538130"
  },
  {
    "text": "I have a little script that just watches it and applies it every time I head in it so you'll see me make changes I'm just",
    "start": "538130",
    "end": "544340"
  },
  {
    "text": "hitting save and then it gets applied and you can see it rolled out a new revision here you can see it's serving",
    "start": "544340",
    "end": "550700"
  },
  {
    "text": "the new data right it's a giving me cube con - the old one is still there it even",
    "start": "550700",
    "end": "556130"
  },
  {
    "text": "has a pod running still because it hasn't gone away entirely but there's more pods so previously we",
    "start": "556130",
    "end": "562490"
  },
  {
    "text": "had 16 requesters targeting concurrency of 10 rounds out to about two pods",
    "start": "562490",
    "end": "568940"
  },
  {
    "text": "now I said ok actually I want two requests per pod so that comes out to about eight or nine pots so that's sort",
    "start": "568940",
    "end": "577370"
  },
  {
    "text": "of the the basic auto scaling that you get out of the box nice so Joe has showed us the default auto scaling",
    "start": "577370",
    "end": "583910"
  },
  {
    "text": "strategy in key native which is based on the requests per second rather than utilization it showed us",
    "start": "583910",
    "end": "589700"
  },
  {
    "text": "some configuration capabilities that are available in a manifest for service itself that allow us to define a minimum",
    "start": "589700",
    "end": "595910"
  },
  {
    "text": "the maximum the explicit target and other capabilities therein but how about",
    "start": "595910",
    "end": "601640"
  },
  {
    "text": "if whatever type of strategies are included with key native that I can easily switch to for example can I go",
    "start": "601640",
    "end": "607760"
  },
  {
    "text": "back to the standard cpu-based autoscaler that we are used to with",
    "start": "607760",
    "end": "613130"
  },
  {
    "text": "kubernetes I'm glad you asked that question yes it's almost us we were scripting it yes you can",
    "start": "613130",
    "end": "619130"
  },
  {
    "text": "so the pop out of scheme there there is is a resource that actually has two controllers inkay native and if you want",
    "start": "619130",
    "end": "626360"
  },
  {
    "text": "to change the strategy you can actually select a different controller if you",
    "start": "626360",
    "end": "631370"
  },
  {
    "text": "want to go back to each CPU based auto scaling maybe you just want to maybe your your service doesn't need to scale",
    "start": "631370",
    "end": "638330"
  },
  {
    "text": "on request maybe it's just CPU bound you could do that so I'm going to show you how okay over here I'm actually going to",
    "start": "638330",
    "end": "646550"
  },
  {
    "text": "change the metric to target CPU and as I",
    "start": "646550",
    "end": "652940"
  },
  {
    "text": "mentioned this is actually implemented by a different controller and so I actually specified class now what the",
    "start": "652940",
    "end": "660950"
  },
  {
    "text": "is a select on class to decide which pot out of skills they should operon they operate on so instead of the default kPa",
    "start": "660950",
    "end": "668570"
  },
  {
    "text": "or K native autoscaler I'm gonna go with an HB HB a make sure I spelled that",
    "start": "668570",
    "end": "676940"
  },
  {
    "text": "right okay so I'm selecting the HPA class I'm gonna say this is our CPU",
    "start": "676940",
    "end": "682340"
  },
  {
    "text": "based one and I'm gonna show you one more cool feature about the service animals you can roll things out in an",
    "start": "682340",
    "end": "690590"
  },
  {
    "text": "incremental fashion so you'll this going from the currency based auto scaling CPU",
    "start": "690590",
    "end": "696500"
  },
  {
    "text": "based auto scaling maybe it's a little bit hairy so I want to do this a little bit at a time so I'm gonna roll it out",
    "start": "696500",
    "end": "702050"
  },
  {
    "text": "to 50% and kind of make sure it's ok before I couldn't continue right this is this is how we actually release software",
    "start": "702050",
    "end": "709280"
  },
  {
    "text": "in production ok so I'm gonna save that again it applied it let's see what happens oh we got a new revision that's",
    "start": "709280",
    "end": "716960"
  },
  {
    "text": "great you can see there's one pod you can see it's serving about 50% which the",
    "start": "716960",
    "end": "722030"
  },
  {
    "text": "traffic here ok and I'm gonna show you something that it created so as I said",
    "start": "722030",
    "end": "729670"
  },
  {
    "text": "this just uses the regular kubernetes horizontal pod autoscaler so I'm gonna",
    "start": "729670",
    "end": "735190"
  },
  {
    "text": "show you that there's actually there's an HPA that it turned around and created here and delegated to that so that this",
    "start": "735190",
    "end": "741530"
  },
  {
    "text": "is using the normal kubernetes auto scaling that you you know and love gap",
    "start": "741530",
    "end": "748100"
  },
  {
    "text": "so this looks good to me so I'm actually gonna go ahead and roll it out to 100% delete the old one go back to 0 it's not",
    "start": "748100",
    "end": "756560"
  },
  {
    "text": "gonna roll out a new revision because I only modified the the traffic split and we're on CPU based auto scaling now nice",
    "start": "756560",
    "end": "765070"
  },
  {
    "text": "so Joe has showed a lot of flexibility and control points they're already",
    "start": "765070",
    "end": "770870"
  },
  {
    "text": "exposed to any developer who's owned solely through the manifest this is a service manifest the developer applied",
    "start": "770870",
    "end": "777230"
  },
  {
    "text": "in a llamo file applied and pushed it which is great from a flexibility standpoint but I could see the ops",
    "start": "777230",
    "end": "782990"
  },
  {
    "text": "people going so what are some of the operational controls that can ADA provides in order to kind of",
    "start": "782990",
    "end": "789830"
  },
  {
    "text": "have a little more of a boundary or control points that I can introduce to the deployment sure so it's it's true",
    "start": "789830",
    "end": "796850"
  },
  {
    "text": "like if eventually you don't really want somebody just going and modifying production and rolling out arbitrary",
    "start": "796850",
    "end": "803000"
  },
  {
    "text": "strategies now Canada Canada addresses this in part by",
    "start": "803000",
    "end": "808250"
  },
  {
    "text": "making revisions and mutable so revisions are immutable snapshots of the code plus the configuration so every",
    "start": "808250",
    "end": "814730"
  },
  {
    "text": "time you change something it rolls out a new revision so you can always roll back right that's it's really nice that way",
    "start": "814730",
    "end": "821440"
  },
  {
    "text": "but sometimes you don't necessarily want to roll out a new revision like for",
    "start": "821440",
    "end": "827360"
  },
  {
    "text": "example maybe it's New Year's Eve right you have a very popular video and",
    "start": "827360",
    "end": "833750"
  },
  {
    "text": "transcoding app and you are running at 80% of your quota and you realize that",
    "start": "833750",
    "end": "839810"
  },
  {
    "text": "you need to change your auto scaling parameters you need to tweak things a little bit you don't want to roll out a",
    "start": "839810",
    "end": "845030"
  },
  {
    "text": "new revision right it's 10 minutes before a New Year's Eve you don't have this is a bad idea so maybe you would",
    "start": "845030",
    "end": "852230"
  },
  {
    "text": "like to just reach under the hood and tweak some of the other scaling parameters this is another reason why it's useful to have the auto scaling",
    "start": "852230",
    "end": "858890"
  },
  {
    "text": "state as a separate resource the pot autoscaler is actually mutable so you",
    "start": "858890",
    "end": "863990"
  },
  {
    "text": "can actually Akal this down to your sra org or whoever you think should have that power and you can change the",
    "start": "863990",
    "end": "870050"
  },
  {
    "text": "parameters in place and they'll take effect immediately without necessarily rolling out a new version so I'm gonna",
    "start": "870050",
    "end": "875300"
  },
  {
    "text": "show you what that looks like and come back over here but instead of changing the service",
    "start": "875300",
    "end": "880580"
  },
  {
    "text": "I'm gonna go modify the revisions that exist already so I'm going to just use Q",
    "start": "880580",
    "end": "886400"
  },
  {
    "text": "patrol edit and I'm going to modify this second app this is the one that I said",
    "start": "886400",
    "end": "892100"
  },
  {
    "text": "don't scale to zero but I want that quota back so I'm gonna tell it to just go ahead and scale to zero by deleting",
    "start": "892100",
    "end": "898190"
  },
  {
    "text": "that directive okay and I'm also going",
    "start": "898190",
    "end": "903230"
  },
  {
    "text": "to modify the CPU based autoscaler and I",
    "start": "903230",
    "end": "909440"
  },
  {
    "text": "realized that even though we said infinity infinity is not a good idea so",
    "start": "909440",
    "end": "915430"
  },
  {
    "text": "I'm gonna go with max scale of 10 okay",
    "start": "915430",
    "end": "920540"
  },
  {
    "text": "and I'm gonna change the target a little bit so target you know means something",
    "start": "920540",
    "end": "925829"
  },
  {
    "text": "different depending on what your metric is so what I'm gonna do is as soon as I save this you're gonna see those values",
    "start": "925829",
    "end": "932220"
  },
  {
    "text": "propagate over here to the horizontal pot out of skimmer so I'll save this and apply it and you can see now we're",
    "start": "932220",
    "end": "939029"
  },
  {
    "text": "targeting 50% with a max positive 10 no no revision just kind of modifying things in place and this works the same",
    "start": "939029",
    "end": "944790"
  },
  {
    "text": "way for the the Cape the K native autoscaler as well so yeah you got the",
    "start": "944790",
    "end": "950279"
  },
  {
    "text": "usual kubernetes goodness for managing this resource it's good if it's a more powerful resource that you can restrict",
    "start": "950279",
    "end": "957569"
  },
  {
    "text": "access to great so we've seen the automatic auto scaling that basically comes out of the box source we've been",
    "start": "957569",
    "end": "964259"
  },
  {
    "text": "calling it now you've seen a lot of control points where you can impact this yourself we also have seen some guard",
    "start": "964259",
    "end": "970649"
  },
  {
    "text": "guardrails you can define Joe talk little about the control organizational",
    "start": "970649",
    "end": "977490"
  },
  {
    "text": "controls you can implement on the end of the day this is the auto scalars implemented as like CRD so you can apply",
    "start": "977490",
    "end": "983850"
  },
  {
    "text": "our back rules to this that will be organization specific within your team so that's all great there's a lot of",
    "start": "983850",
    "end": "991290"
  },
  {
    "text": "flexibility that's built in that the key native team has envisioned you needing but how about if I'm special Joe how",
    "start": "991290",
    "end": "998370"
  },
  {
    "text": "about if I need something that the candidate team just possibly could not imagine what are some of the options",
    "start": "998370",
    "end": "1003679"
  },
  {
    "text": "there for me right mark you are special oh thank you so yeah sometimes sometimes",
    "start": "1003679",
    "end": "1009350"
  },
  {
    "text": "you need something entirely different I don't know maybe something we haven't thought about that's the whole point right is to put these extension points",
    "start": "1009350",
    "end": "1015439"
  },
  {
    "text": "in place so that you have a nice escape hatch so as I said we have two controllers that we've implemented for",
    "start": "1015439",
    "end": "1021379"
  },
  {
    "text": "the pod autoscaler you can make another controller it selects based on class so",
    "start": "1021379",
    "end": "1026959"
  },
  {
    "text": "as a demo of how easy that is to do I've created my own controller I call it the",
    "start": "1026959",
    "end": "1033288"
  },
  {
    "text": "Yolo controller right and what this thing does so just uh this is very",
    "start": "1033289",
    "end": "1039829"
  },
  {
    "text": "simple for the purpose of this demo if you actually want to do this in production there's a nice example",
    "start": "1039829",
    "end": "1045409"
  },
  {
    "text": "there's a sample controller here that you can copy I started with that it just was it wasn't very good for the purpose",
    "start": "1045409",
    "end": "1052020"
  },
  {
    "text": "demo because it was you know too many lines too many lines of code you know this is like you know 50 lines of code",
    "start": "1052020",
    "end": "1058200"
  },
  {
    "text": "here alright so what it does is it establishes a watch on pause auto spirits okay so we can see changes to",
    "start": "1058200",
    "end": "1064890"
  },
  {
    "text": "them selects just those that are annotated with Yolo alright those are my",
    "start": "1064890",
    "end": "1071130"
  },
  {
    "text": "those are my pod Auto skewers rather than kPa or HPA auto-scaling negative",
    "start": "1071130",
    "end": "1076800"
  },
  {
    "text": "death it runs a very intelligent algorithm here called recommended scale",
    "start": "1076800",
    "end": "1083450"
  },
  {
    "text": "which does something okay maybe this reads for database maybe and runs a",
    "start": "1083450",
    "end": "1090600"
  },
  {
    "text": "machine learning algorithm you know this is a controller running in your cluster so you can give it permission to do what",
    "start": "1090600",
    "end": "1098100"
  },
  {
    "text": "it needs to do this is your control plan code right then you just update the",
    "start": "1098100",
    "end": "1103260"
  },
  {
    "text": "scale ref that's part of the pod autoscaler and update the status so the",
    "start": "1103260",
    "end": "1110070"
  },
  {
    "text": "one other signal you have to give is you have to say ready equals true so that the higher level controllers like the",
    "start": "1110070",
    "end": "1115830"
  },
  {
    "text": "route controller knows that it can send you traffic so for example the KPA checks to make sure the endpoints are",
    "start": "1115830",
    "end": "1121860"
  },
  {
    "text": "there make sure the pot actually started and then it says okay I'm ready to go so",
    "start": "1121860",
    "end": "1126900"
  },
  {
    "text": "I'm gonna deploy a Yolo revision so",
    "start": "1126900",
    "end": "1132270"
  },
  {
    "text": "don't worry about the metric we don't need metrics okay this is gonna be",
    "start": "1132270",
    "end": "1138150"
  },
  {
    "text": "Yolo because you live only once that's right just go for it as a matter of fact",
    "start": "1138150",
    "end": "1143970"
  },
  {
    "text": "we're gonna go ahead and release it all of us because that's what this is sorry",
    "start": "1143970",
    "end": "1152790"
  },
  {
    "text": "I just deployed this thing you can see there's a new revision here up and running my controller has complete",
    "start": "1152790",
    "end": "1161130"
  },
  {
    "text": "control over the pot autoscaler I'm the one that decides the reason for the status right it just said I'm ready I'm",
    "start": "1161130",
    "end": "1167520"
  },
  {
    "text": "ready to go didn't even matter and even check the pods or anything and it scaled too right and there it is so now I'm",
    "start": "1167520",
    "end": "1174780"
  },
  {
    "text": "serving Yolo and just to kind of drive the point home you can update the",
    "start": "1174780",
    "end": "1180179"
  },
  {
    "text": "controller too so I'm gonna come back over here and I'm gonna I'm gonna make my algorithm a little bit smarter twice",
    "start": "1180179",
    "end": "1189309"
  },
  {
    "text": "it's mine that's right I mean really we know the answer is 42 but I don't want",
    "start": "1189309",
    "end": "1195100"
  },
  {
    "text": "to attempt to face now I'm gonna build my controller okay so I'm gonna run a",
    "start": "1195100",
    "end": "1203889"
  },
  {
    "text": "tool called Co and what Co does is it builds go binaries in user space",
    "start": "1203889",
    "end": "1211450"
  },
  {
    "text": "it just looks in your yah mph or something that looks like it's probably a go binary builds it uploads it to your your repository gets the fully qualified",
    "start": "1211450",
    "end": "1218590"
  },
  {
    "text": "hash injects it back in and then queue control applies the thing just basically",
    "start": "1218590",
    "end": "1224440"
  },
  {
    "text": "makes it easy to deploy stuffs okay I think I've seen the author of Co over there somewhere oh yeah I won't have words with you it's",
    "start": "1224440",
    "end": "1233860"
  },
  {
    "text": "awesome it's one of these random things that came out of Matt Moore's brain isn't really cool if you happen to be using go",
    "start": "1233860",
    "end": "1240340"
  },
  {
    "text": "and you're using a lot of yamo it makes things a little smoother so here it is it it's built to deploy it uploaded",
    "start": "1240340",
    "end": "1247570"
  },
  {
    "text": "update the deployment came over here hailer our algorithm has run we've",
    "start": "1247570",
    "end": "1253419"
  },
  {
    "text": "calculated we need four pods notice that it only touched the yellow revision and",
    "start": "1253419",
    "end": "1259539"
  },
  {
    "text": "that's it I mean we're now where we're using my controller if you choose that annotation now you can now you can mix",
    "start": "1259539",
    "end": "1265450"
  },
  {
    "text": "and match here depending on which would skate auto-scaling strategy you want for your service and of course you can roll",
    "start": "1265450",
    "end": "1272139"
  },
  {
    "text": "back to awesome so Joe has showed a very simplistic algorithm obviously",
    "start": "1272139",
    "end": "1277450"
  },
  {
    "text": "hard-coded into the autoscaler k native autoscaler strategies are entirely based on metrics that come from",
    "start": "1277450",
    "end": "1284409"
  },
  {
    "text": "the cluster itself but in using this custom are scaler you can actually implement strategies that would be based",
    "start": "1284409",
    "end": "1290440"
  },
  {
    "text": "on other variables outside of the cluster Joe mention machine learning algorithm they might be using parameters",
    "start": "1290440",
    "end": "1296379"
  },
  {
    "text": "or inputs they're from some gateway upstream or even some use cases where",
    "start": "1296379",
    "end": "1301450"
  },
  {
    "text": "you have n number of micro services that implement a pipeline and maybe the one downstream is to be scaled based on the",
    "start": "1301450",
    "end": "1308080"
  },
  {
    "text": "input from the further upstream so a lot of different variables and customizations you can do there",
    "start": "1308080",
    "end": "1314870"
  },
  {
    "text": "right any other no just uh yeah we want to make sure that all right no we get out of your way and you can you can do",
    "start": "1314870",
    "end": "1320870"
  },
  {
    "text": "what you want to do so hopefully we've showed you at least a few ways you can kind of customize the auto scaling",
    "start": "1320870",
    "end": "1325910"
  },
  {
    "text": "strategy inside of K native we've put up a number of different links and",
    "start": "1325910",
    "end": "1331090"
  },
  {
    "text": "documentation there is Joe also provided every single sample that you've seen during the demo today on his repo we",
    "start": "1331090",
    "end": "1339230"
  },
  {
    "text": "have ability to both follow the instructions for installing key native",
    "start": "1339230",
    "end": "1344840"
  },
  {
    "text": "itself by yourself on a kubernetes cluster in our repository we also have a gke atom that it's now available on DCP",
    "start": "1344840",
    "end": "1354500"
  },
  {
    "text": "on google cloud that you can kind of subscribe to and just with a single command provide a fully configured and",
    "start": "1354500",
    "end": "1359720"
  },
  {
    "text": "validated cluster we also have octave slack channels including one dedicated to auto scaling so if you want to learn",
    "start": "1359720",
    "end": "1366140"
  },
  {
    "text": "more about it and ask the people who actually work on this from the broader community this is a good place to ask anything else just ping me on Twitter",
    "start": "1366140",
    "end": "1372470"
  },
  {
    "text": "and we love to love to talk",
    "start": "1372470",
    "end": "1375700"
  },
  {
    "text": "well I think we can open our think we have another three four minutes if anybody has question there was question",
    "start": "1380620",
    "end": "1387570"
  },
  {
    "text": "can you report repeat questions yeah sure so the question was is this",
    "start": "1405029",
    "end": "1410679"
  },
  {
    "text": "following the pattern of ingress yes it is ingress has a problem which is it has",
    "start": "1410679",
    "end": "1416020"
  },
  {
    "text": "an explosion of annotations I think this could have the same problem I don't know",
    "start": "1416020",
    "end": "1423010"
  },
  {
    "text": "if I have an answer other than yeah we need to make sure that we we manage that we have fully qualified the class you",
    "start": "1423010",
    "end": "1430630"
  },
  {
    "text": "know so that you don't have collisions there and I think all the other annotations can just be per for class",
    "start": "1430630",
    "end": "1436960"
  },
  {
    "text": "I've tried to make them consistent within K native but if you have thoughts on how to contain that please do tell me",
    "start": "1436960",
    "end": "1441970"
  },
  {
    "text": "cuz I'm sure I'll run into the same problem",
    "start": "1441970",
    "end": "1446010"
  },
  {
    "text": "the question was are we aware of any production yeah this is the session",
    "start": "1451770",
    "end": "1459460"
  },
  {
    "text": "before this one by t-mobile showed I don't have any you know intimate knowledge how they deploy in production",
    "start": "1459460",
    "end": "1465040"
  },
  {
    "text": "anything but showed a store locator application that that's definitely some",
    "start": "1465040",
    "end": "1470050"
  },
  {
    "text": "portion of that running in production I think the IBM team has something out there too I think in a channel there was",
    "start": "1470050",
    "end": "1477520"
  },
  {
    "text": "a couple of examples there people listed too I don't I don't have a good of a knowledge outside of Google but yeah not",
    "start": "1477520",
    "end": "1482890"
  },
  {
    "text": "enough though I mean like part of it still early days yeah part of the one of the reasons why I've been focusing on this extensibility is because if",
    "start": "1482890",
    "end": "1490590"
  },
  {
    "text": "concurrency based auto-scaling doesn't pan out I don't want anyone in production to be stuck so I want you to",
    "start": "1490590",
    "end": "1497080"
  },
  {
    "text": "be able to sort of tweak the necessary parameters to make it work for you so yeah we really need a lot more",
    "start": "1497080",
    "end": "1503860"
  },
  {
    "text": "production experience I encourage you to try it tell me what you think give some Beach feedback and if there's anything",
    "start": "1503860",
    "end": "1509590"
  },
  {
    "text": "missing tell us tell us about your use cases and this might be a great point even if you're not developer and you are",
    "start": "1509590",
    "end": "1515380"
  },
  {
    "text": "working on a specific use case that it's not addressable currently just please go into github submit a issue it doesn't",
    "start": "1515380",
    "end": "1522400"
  },
  {
    "text": "have to be some pulled with code or anything like this just tell us what's missing and that's the only way Kennedy was gonna get",
    "start": "1522400",
    "end": "1528010"
  },
  {
    "text": "better other questions",
    "start": "1528010",
    "end": "1531720"
  },
  {
    "text": "latency based scaling um I don't have examples of it this the concurrency",
    "start": "1533610",
    "end": "1539440"
  },
  {
    "text": "based scaling does take latency into account because of course it's like QPS + latency I have it like I mean I have",
    "start": "1539440",
    "end": "1546550"
  },
  {
    "text": "them the data there like one of the reasons one of the ways that I was able to achieve fast scaling is by billing my",
    "start": "1546550",
    "end": "1552490"
  },
  {
    "text": "own metrics pipeline like the the pods kind of communicate directly with the autoscaler because it needs to be fast",
    "start": "1552490",
    "end": "1558310"
  },
  {
    "text": "I have latency I was I wanted to add QPS and latency both as an alternative",
    "start": "1558310",
    "end": "1564640"
  },
  {
    "text": "strategy I was just kind of also waiting to see if anybody asks about it so do",
    "start": "1564640",
    "end": "1569710"
  },
  {
    "text": "you want it okay one more so cold start time like from",
    "start": "1569710",
    "end": "1578210"
  },
  {
    "text": "the very from zero right now without a network mash it's about four seconds",
    "start": "1578210",
    "end": "1583370"
  },
  {
    "text": "which is too long it's and we know it's too long because really if you're gonna",
    "start": "1583370",
    "end": "1589610"
  },
  {
    "text": "rely on server list to be like fully server list you want to know that you're cuz it's gonna come back I think iBM is",
    "start": "1589610",
    "end": "1595399"
  },
  {
    "text": "starting to spearhead some work to get sub-second scaling I know it's possible",
    "start": "1595399",
    "end": "1601029"
  },
  {
    "text": "it's just a matter of sort of teasing things apart in a way that it's gonna be",
    "start": "1601029",
    "end": "1606320"
  },
  {
    "text": "saying yeah some what some of that solution may also come from outside of Canada there's infrastructure ways that",
    "start": "1606320",
    "end": "1613340"
  },
  {
    "text": "we can address that initially maybe combined it with capabilities in Canada actually Greg sitting right next to you",
    "start": "1613340",
    "end": "1618649"
  },
  {
    "text": "knows a lot about that yeah so chat there was a question over there sorry",
    "start": "1618649",
    "end": "1623740"
  },
  {
    "text": "yeah hey let me come to you quite here",
    "start": "1623740",
    "end": "1632169"
  },
  {
    "text": "about what about the currency is there a",
    "start": "1632919",
    "end": "1639169"
  },
  {
    "text": "limit on the concurrency well that's a good question so the autoscaler set the target right and it sort of tries to achieve that but",
    "start": "1639169",
    "end": "1646130"
  },
  {
    "text": "it might not there is another place where concurrency is referenced which is in the which is in the revision spec and",
    "start": "1646130",
    "end": "1654770"
  },
  {
    "text": "gets propagated to the pot autoscaler spec that says container concurrency that's the actual limit of what your",
    "start": "1654770",
    "end": "1661490"
  },
  {
    "text": "container can handle we enforce that so you can you can't enforce a concurrency",
    "start": "1661490",
    "end": "1668480"
  },
  {
    "text": "limit and if you don't specify a target we will base our our default target on",
    "start": "1668480",
    "end": "1673820"
  },
  {
    "text": "that value because of course it sounds like concurrency is important so there is the ability of limit concurrency we",
    "start": "1673820",
    "end": "1679789"
  },
  {
    "text": "want this to work isn't like work for apps but also for like single threaded functions as well does that answer your",
    "start": "1679789",
    "end": "1685970"
  },
  {
    "text": "question I think we might be running out of time sorry did you have one more question okay sorry yes actually Canada",
    "start": "1685970",
    "end": "1695510"
  },
  {
    "text": "relies on Sto an integral part of the scale to zero is being able to switch",
    "start": "1695510",
    "end": "1700669"
  },
  {
    "text": "sto routes between the running revision and a caching service called the activator",
    "start": "1700669",
    "end": "1707419"
  },
  {
    "text": "which proxies those and bootstraps them so yes you can definitely use it with",
    "start": "1707419",
    "end": "1713360"
  },
  {
    "text": "this deal even if you follow the instructions in a github repository in will install que native and East here",
    "start": "1713360",
    "end": "1720919"
  },
  {
    "text": "together and if you go through the g'kar then will automatically be added for you so you don't have to check for even ask for",
    "start": "1720919",
    "end": "1726350"
  },
  {
    "text": "it oh yeah I think we're out of time but I'd love to chat if you have more questions I'll be on the hoenn we're",
    "start": "1726350",
    "end": "1733639"
  },
  {
    "text": "still five minutes okay apparently we'll have more time I don't know how that",
    "start": "1733639",
    "end": "1739129"
  },
  {
    "text": "happened we always practice it'll always lasted longer than that I like that",
    "start": "1739129",
    "end": "1746509"
  },
  {
    "text": "answer this deal okay so another",
    "start": "1746509",
    "end": "1756440"
  },
  {
    "text": "question but ever this is amazing people staying after a session and still asking question this is awesome scaling down so",
    "start": "1756440",
    "end": "1766759"
  },
  {
    "text": "one thing I didn't talk about it all was scaling up and down nodes and that actually is very highly dependent on your cloud provider so right now that's",
    "start": "1766759",
    "end": "1774620"
  },
  {
    "text": "way that those signals are get to the cluster auto scaling is just by scheduling or on scheduling or deleting",
    "start": "1774620",
    "end": "1781759"
  },
  {
    "text": "pods so candy dip doesn't really help you with with scaling your notes on G",
    "start": "1781759",
    "end": "1788600"
  },
  {
    "text": "key if you scale your pods exponentially and notes will be unused eventually gke",
    "start": "1788600",
    "end": "1795129"
  },
  {
    "text": "if you have configured this way will remove those notes but it's not happening very very fast that's not yeah",
    "start": "1795129",
    "end": "1802629"
  },
  {
    "text": "is it your time by default isn't it okay well every time I set up a GK Koster I",
    "start": "1802629",
    "end": "1808970"
  },
  {
    "text": "tell it to auto scale my nodes and it's it's pretty pretty good I think auto skills the question may be fun",
    "start": "1808970",
    "end": "1817659"
  },
  {
    "text": "yes the answer is depends but technically yes the the challenge we",
    "start": "1825640",
    "end": "1832250"
  },
  {
    "text": "would probably see is the versioning so if you're deploying K native with all",
    "start": "1832250",
    "end": "1837500"
  },
  {
    "text": "the dependency we will make sure that the right version of East you is configured so assuming all this",
    "start": "1837500",
    "end": "1844160"
  },
  {
    "text": "variables were met in a tech in technically yes but to be honest I don't think we have done a lot of that kind of",
    "start": "1844160",
    "end": "1850940"
  },
  {
    "text": "validation yet like in in you know",
    "start": "1850940",
    "end": "1856100"
  },
  {
    "text": "there's also you know depending how you Easter was configured if you configure some certain outbound traffic rules or",
    "start": "1856100",
    "end": "1861200"
  },
  {
    "text": "something candidate might not be able to live in that kind of environment do you",
    "start": "1861200",
    "end": "1870740"
  },
  {
    "text": "dedicate right now is there's the recommended process yes deployed cluster pre instance we this is zero to version",
    "start": "1870740",
    "end": "1878050"
  },
  {
    "text": "within the gke atom we are trying to because we have a lot more control we",
    "start": "1878050",
    "end": "1883610"
  },
  {
    "text": "know how it's going to be deployed and run we're running we're trying to address those kind of concerns how do you",
    "start": "1883610",
    "end": "1888830"
  },
  {
    "text": "upgrade the cluster after the fact how do you scale up and down how do you address some of the traffic shaping and",
    "start": "1888830",
    "end": "1894740"
  },
  {
    "text": "all that but that's none of that it's right now in their just-in-time design",
    "start": "1894740",
    "end": "1917740"
  },
  {
    "text": "yeah all right thank you very much for staying sorry just come on over",
    "start": "1920000",
    "end": "1925420"
  },
  {
    "text": "[Applause]",
    "start": "1925420",
    "end": "1929559"
  }
]