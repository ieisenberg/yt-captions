[
  {
    "text": "hi everyone thanks for joining us today here uh before we get started we have",
    "start": "1319",
    "end": "9960"
  },
  {
    "text": "a couple of questions we'd like to to ask you today how many of you set their",
    "start": "9960",
    "end": "15059"
  },
  {
    "text": "requests in your kubernetes workloads okay nice",
    "start": "15059",
    "end": "20880"
  },
  {
    "text": "how many of you know people that doesn't do it yeah well-known people I've been one of",
    "start": "20880",
    "end": "27900"
  },
  {
    "text": "them though so it's no big deal and how many of you say it sometimes higher",
    "start": "27900",
    "end": "34559"
  },
  {
    "text": "requests just in case because you want your application to run smoothly you want you don't want problems there's a",
    "start": "34559",
    "end": "41760"
  },
  {
    "text": "deadline you don't want surprises okay so we might have some greedy greedy developers",
    "start": "41760",
    "end": "47640"
  },
  {
    "text": "here my name is Jesus and my name is David we",
    "start": "47640",
    "end": "53820"
  },
  {
    "text": "work at systic we help our customers understand their kubernetes clusters and we are also the maintainers of",
    "start": "53820",
    "end": "60539"
  },
  {
    "text": "promcad.io which is an open source project that gives you a curated lists",
    "start": "60539",
    "end": "65700"
  },
  {
    "text": "of Prometheus exporters that are just ready to go you can go there search for",
    "start": "65700",
    "end": "70799"
  },
  {
    "text": "the technology that you want to Monitor and it's very straightforward it helps you configuring your primitive jobs your",
    "start": "70799",
    "end": "77939"
  },
  {
    "text": "exporter Etc so there is a problem with the real",
    "start": "77939",
    "end": "83460"
  },
  {
    "text": "developers right and what what happens here is that knowing",
    "start": "83460",
    "end": "88860"
  },
  {
    "text": "the exact amount of resources that your application needs to use is a really complicated matter right so we don't",
    "start": "88860",
    "end": "96119"
  },
  {
    "text": "normally know how to do it so in this talk we are going to to show you guys how we uh right size the request of",
    "start": "96119",
    "end": "104939"
  },
  {
    "text": "our clusters for a lot of benefits that we'll discuss later so first",
    "start": "104939",
    "end": "111720"
  },
  {
    "text": "normally agree developer will set higher limits and higher requests so what",
    "start": "111720",
    "end": "119460"
  },
  {
    "text": "happens when you set higher limits uh well first if you set lower limits",
    "start": "119460",
    "end": "127020"
  },
  {
    "text": "you might kill your application your CPU might throttle you you might have some",
    "start": "127020",
    "end": "134540"
  },
  {
    "text": "boss kills by the out of memory but on the other hand if you if you set",
    "start": "134540",
    "end": "140040"
  },
  {
    "text": "two high limits you might be a starving other applications in the cluster if the usage are Rises right",
    "start": "140040",
    "end": "147300"
  },
  {
    "text": "something really similar happens with requests if you set low requests is the",
    "start": "147300",
    "end": "153720"
  },
  {
    "text": "same right CPU throttling memory kills but if you set higher requests at first",
    "start": "153720",
    "end": "160319"
  },
  {
    "text": "your obligation runs smoothly but you might be doing core uh harder",
    "start": "160319",
    "end": "166680"
  },
  {
    "text": "for kubernetes to allocate more pots and also you're wasting a lot of resources you are buying for more CPU and memory",
    "start": "166680",
    "end": "174300"
  },
  {
    "text": "that you won't use so you are you you might be wasting some money right",
    "start": "174300",
    "end": "180239"
  },
  {
    "text": "this is let's explain first what are the limits okay let's do a quick recap what",
    "start": "180239",
    "end": "187800"
  },
  {
    "text": "are the limits okay the limits are the amount of the maximum amount of",
    "start": "187800",
    "end": "193620"
  },
  {
    "text": "resources that your application can use but this resources are not guaranteed",
    "start": "193620",
    "end": "199980"
  },
  {
    "text": "this resources depends on the available resource that the node has",
    "start": "199980",
    "end": "205739"
  },
  {
    "text": "and what are the requests the requests are the minimum resources that your application have Reserves so how it",
    "start": "205739",
    "end": "215580"
  },
  {
    "text": "starts in a really scenario yeah well for this presentation we are going to right size a real application",
    "start": "215580",
    "end": "222180"
  },
  {
    "text": "well not real as in real but this application existed in an actual cluster",
    "start": "222180",
    "end": "228000"
  },
  {
    "text": "so uh we we have uh set uh one gigabyte and one on one course",
    "start": "228000",
    "end": "234659"
  },
  {
    "text": "CPU for the limits and the same for the requests and we are going to start from",
    "start": "234659",
    "end": "240000"
  },
  {
    "text": "here okay of course right now the application runs perfectly",
    "start": "240000",
    "end": "246739"
  },
  {
    "text": "uh this is how we if if we if we take a look at our dashboard this is how we see",
    "start": "247280",
    "end": "254040"
  },
  {
    "text": "we see four gigabyte in one line why is this because we have four pots",
    "start": "254040",
    "end": "260220"
  },
  {
    "text": "we have four replicas for our workload so we have four gigabytes of memory and",
    "start": "260220",
    "end": "265380"
  },
  {
    "text": "why there is just one line because we have the same limits and requests so in the chart is the same okay",
    "start": "265380",
    "end": "272400"
  },
  {
    "text": "so before we start we need some Theory first so we need to explain what these",
    "start": "272400",
    "end": "279060"
  },
  {
    "text": "are qos classes quality of service depends of the memory or request that you set in your",
    "start": "279060",
    "end": "285600"
  },
  {
    "text": "workloads if you set the same amount of requests and limits you will have a qis",
    "start": "285600",
    "end": "292380"
  },
  {
    "text": "of guarantee that means that your posts will be the last of all parts addicted",
    "start": "292380",
    "end": "298919"
  },
  {
    "text": "if you set the limits on the request but the limits are not the same",
    "start": "298919",
    "end": "304380"
  },
  {
    "text": "and then you will have a qos of a boost cover that means that you bought maybe",
    "start": "304380",
    "end": "310040"
  },
  {
    "text": "or might be addicted and if you don't set limits or requests at all then you",
    "start": "310040",
    "end": "316080"
  },
  {
    "text": "bot will be passive for so that kind of PODS will be evicted first",
    "start": "316080",
    "end": "321840"
  },
  {
    "text": "Okay so let's put it an example here if you have",
    "start": "321840",
    "end": "327180"
  },
  {
    "text": "one port your application runs in one port for example a database",
    "start": "327180",
    "end": "332280"
  },
  {
    "text": "it does is just one stateful set you don't want by any means that that bot gets evicted right you don't want your",
    "start": "332280",
    "end": "338880"
  },
  {
    "text": "database to be down you just have one port so the strategy here is obvious you need",
    "start": "338880",
    "end": "345960"
  },
  {
    "text": "to set the same limits on request so if governance have has problems your",
    "start": "345960",
    "end": "351660"
  },
  {
    "text": "database will be the last part that that the cluster will evict",
    "start": "351660",
    "end": "356759"
  },
  {
    "text": "but sometimes you need to optimize your limits and requests and maybe maybe",
    "start": "356759",
    "end": "362940"
  },
  {
    "text": "there are applications that you can take some risk for example an API Gateway if you have an API Gateway you have say",
    "start": "362940",
    "end": "370500"
  },
  {
    "text": "10 ports 10 engine exports and if two parts are evicted it's not a big deal",
    "start": "370500",
    "end": "375780"
  },
  {
    "text": "we'll talk more about this later but you can take the risk because the benefits",
    "start": "375780",
    "end": "381120"
  },
  {
    "text": "are most efficient more optimized limits and requests okay so you could go with",
    "start": "381120",
    "end": "387300"
  },
  {
    "text": "the personal strategy here and the best effort well I don't know any non-critical application uh I guess",
    "start": "387300",
    "end": "394740"
  },
  {
    "text": "uh it depends on the on on the use case so we're talking about",
    "start": "394740",
    "end": "400500"
  },
  {
    "text": "that some parts can be evicted so if kubernetes a big your pot is it such a",
    "start": "400500",
    "end": "407580"
  },
  {
    "text": "big deal no it's not a big deal actually if your application is running in",
    "start": "407580",
    "end": "412620"
  },
  {
    "text": "multiple paths or you don't have just a single boat it's",
    "start": "412620",
    "end": "418500"
  },
  {
    "text": "it's normal I I mean kubernetes works like that it's the natural thing in",
    "start": "418500",
    "end": "424919"
  },
  {
    "text": "kubernetes and after any things you do in the in the request or in the limits",
    "start": "424919",
    "end": "430860"
  },
  {
    "text": "of our Warlock the scheduler will try to arrange your ports so it will be a bit",
    "start": "430860",
    "end": "437699"
  },
  {
    "text": "somber so don't worry about where your pot is okay so normally usually setting",
    "start": "437699",
    "end": "445319"
  },
  {
    "text": "limits on request is a good idea okay before talking about how to right",
    "start": "445319",
    "end": "452099"
  },
  {
    "text": "size your request let's see how we should be setting our",
    "start": "452099",
    "end": "457380"
  },
  {
    "text": "limits the strategies how how can how can we do it for limit right size we can",
    "start": "457380",
    "end": "464699"
  },
  {
    "text": "use two extra things phase one is the conservative that means that we trust",
    "start": "464699",
    "end": "470220"
  },
  {
    "text": "more in the request than the limits so in this case for",
    "start": "470220",
    "end": "476880"
  },
  {
    "text": "example a database that has several Bots we want to assure that we are using the",
    "start": "476880",
    "end": "484620"
  },
  {
    "text": "request more than the limits and that way we will have enough room to to move",
    "start": "484620",
    "end": "490860"
  },
  {
    "text": "it and in the other hand on in that in that one we could use like a 25 percent",
    "start": "490860",
    "end": "497160"
  },
  {
    "text": "more than the request in the other hand for the aggressive study we choose more in in the limits so",
    "start": "497160",
    "end": "507060"
  },
  {
    "text": "for example if the application have some Peaks then the limits will absorb that",
    "start": "507060",
    "end": "512279"
  },
  {
    "text": "Peaks and we are saving money with that like your application might run uh of",
    "start": "512279",
    "end": "517979"
  },
  {
    "text": "resource in that case Okay uh so let's get started with the right size",
    "start": "517979",
    "end": "523860"
  },
  {
    "text": "strategies but first why are we doing this what are the key benefits that that have right",
    "start": "523860",
    "end": "531540"
  },
  {
    "text": "size in your request what first of all you you'll have a better understanding of your application",
    "start": "531540",
    "end": "537660"
  },
  {
    "text": "you'll understand how your application performs and what what your application can do in the cluster",
    "start": "537660",
    "end": "544440"
  },
  {
    "text": "also you might discover some issues that your obligation have related to uh",
    "start": "544440",
    "end": "550800"
  },
  {
    "text": "performance that you didn't know because your application was running with a lot of resources available so maybe your",
    "start": "550800",
    "end": "556920"
  },
  {
    "text": "application have some peaks of users because of a misconfiguration or a software problem and now that you have",
    "start": "556920",
    "end": "563279"
  },
  {
    "text": "limited the request you'll see it so you can fix it",
    "start": "563279",
    "end": "568680"
  },
  {
    "text": "also you'll make uh the most of the resources because maybe you're sharing",
    "start": "568680",
    "end": "575100"
  },
  {
    "text": "your cluster with another team and maybe your if you start resizing your workloads the team the other team will",
    "start": "575100",
    "end": "582540"
  },
  {
    "text": "have more room for their application and of course you'll save money that's that's obvious because you'll be uh",
    "start": "582540",
    "end": "589680"
  },
  {
    "text": "buying less resources for your applications so we have a plan here",
    "start": "589680",
    "end": "596180"
  },
  {
    "text": "uh first we need to monitor this is the core thing we are going to do today this is",
    "start": "596180",
    "end": "603060"
  },
  {
    "text": "the most important thing that you need to to do with your applications monitor",
    "start": "603060",
    "end": "608399"
  },
  {
    "text": "them you need to monitor a cluster you need to monitor your application then you need to know what are the the",
    "start": "608399",
    "end": "615480"
  },
  {
    "text": "requests that you have to set you have to discover this then we'll do this results right we will perform the size",
    "start": "615480",
    "end": "622620"
  },
  {
    "text": "but then you need to monitor it again because right sizing your",
    "start": "622620",
    "end": "627720"
  },
  {
    "text": "request isn't something that you do once this is this is something you you have to do quite regularly because your",
    "start": "627720",
    "end": "634260"
  },
  {
    "text": "application is a living thing so maybe today is one number but tomorrow or the",
    "start": "634260",
    "end": "639480"
  },
  {
    "text": "next month is another number because usage can vary so please monitor your",
    "start": "639480",
    "end": "644640"
  },
  {
    "text": "applications we can tweak it and then we back to four for this monitoring so",
    "start": "644640",
    "end": "651000"
  },
  {
    "text": "so we need to monitor what what are we going to use here of course Prometheus we love Prometheus Prometheus is de",
    "start": "651000",
    "end": "657839"
  },
  {
    "text": "facto standard for monitoring kubernetes we all use Prometheus I guess uh so what",
    "start": "657839",
    "end": "665820"
  },
  {
    "text": "information are we going to retrieve from Prometheus first we need to know what is happening inside the containers",
    "start": "665820",
    "end": "671160"
  },
  {
    "text": "we need to know how many resources are your containers using right now",
    "start": "671160",
    "end": "677700"
  },
  {
    "text": "and for that we are going to use the C advisor exporter but also we need to do we need to know",
    "start": "677700",
    "end": "683640"
  },
  {
    "text": "what happens inside kubernetes we need to know how we configure it how what are the",
    "start": "683640",
    "end": "690000"
  },
  {
    "text": "requests and limits that we set up so we need the cube State metrics exporter KSM",
    "start": "690000",
    "end": "695820"
  },
  {
    "text": "for getting that information for kubernetes so how we how can we detect and used",
    "start": "695820",
    "end": "702899"
  },
  {
    "text": "resources so in order to calculate the percentages of an user memory we can create this",
    "start": "702899",
    "end": "710579"
  },
  {
    "text": "okay we can use that mod we can get the memory request minus the memory usage",
    "start": "710579",
    "end": "718019"
  },
  {
    "text": "and all of that divided by the requests so that will be the total percentage of",
    "start": "718019",
    "end": "726480"
  },
  {
    "text": "memory and use and if we see that in a real scenario we",
    "start": "726480",
    "end": "733260"
  },
  {
    "text": "can use that query that it's uh doing the same thing but we have the",
    "start": "733260",
    "end": "740279"
  },
  {
    "text": "percentage so we are getting the request minus the memory I've seen in that query",
    "start": "740279",
    "end": "746640"
  },
  {
    "text": "it's a upside down but doesn't matter and we can get one of the workloads that",
    "start": "746640",
    "end": "754980"
  },
  {
    "text": "are and use more memory okay so what if instead of using uh if",
    "start": "754980",
    "end": "762000"
  },
  {
    "text": "instead of aggregating by uh by workload namespace and cluster what if we upgrade",
    "start": "762000",
    "end": "768839"
  },
  {
    "text": "this just by namespace then we might are we are might creating the cube CTL blame",
    "start": "768839",
    "end": "774660"
  },
  {
    "text": "command because this is like a picture of what are the themes or the projects that are wasting more resources I'm just",
    "start": "774660",
    "end": "780839"
  },
  {
    "text": "kidding don't do this because you don't want to fight anyone okay so we",
    "start": "780839",
    "end": "786240"
  },
  {
    "text": "monitored we we have a lot of information how do we use this",
    "start": "786240",
    "end": "791639"
  },
  {
    "text": "information now the next step was to calculate uh the the request so there are two ways of",
    "start": "791639",
    "end": "800040"
  },
  {
    "text": "doing this the first one is the conservative way the conservative strategy this is using",
    "start": "800040",
    "end": "807480"
  },
  {
    "text": "the max this is calculating the max number of resources that your",
    "start": "807480",
    "end": "812760"
  },
  {
    "text": "application is using and that's your request these have some benefits into drawbacks the",
    "start": "812760",
    "end": "819720"
  },
  {
    "text": "benefits is that you'll be full of room for your application the drawbacks is you might be wasting",
    "start": "819720",
    "end": "825540"
  },
  {
    "text": "some money anyway because what if your application have peaks of usage if",
    "start": "825540",
    "end": "830700"
  },
  {
    "text": "you're if you set the maximum their request as the max there will be some",
    "start": "830700",
    "end": "835860"
  },
  {
    "text": "some picks that that you'll be paying for but you won't be using that when your application isn't in one of the of",
    "start": "835860",
    "end": "842399"
  },
  {
    "text": "the speak but this could be an uh a nicer starting point for a start to",
    "start": "842399",
    "end": "847860"
  },
  {
    "text": "tweaking because there is not a formula did you there's some some trying here",
    "start": "847860",
    "end": "854060"
  },
  {
    "text": "well there is another strategy maybe a more aggressive one yeah you can use",
    "start": "854060",
    "end": "860399"
  },
  {
    "text": "some more an aggressive strategy that is calculating the average of the consumption of your application and that",
    "start": "860399",
    "end": "868200"
  },
  {
    "text": "way you application might use some pics of memory but that's okay the limits are",
    "start": "868200",
    "end": "875760"
  },
  {
    "text": "there so the limits absorb that Peak and if you need to do guitar so you",
    "start": "875760",
    "end": "883620"
  },
  {
    "text": "have to increase that's okay because it's a living things as you say so we",
    "start": "883620",
    "end": "888660"
  },
  {
    "text": "can increase it okay we need it so so let's recite the application that we",
    "start": "888660",
    "end": "896160"
  },
  {
    "text": "saw before in the previous slide we are going to help the request the memory and",
    "start": "896160",
    "end": "903000"
  },
  {
    "text": "the seat view and let's see oh that's the impact let's check the",
    "start": "903000",
    "end": "908820"
  },
  {
    "text": "impact okay let's check the impact in that panel we can see the unused",
    "start": "908820",
    "end": "916860"
  },
  {
    "text": "memory of your application what is the amount of unused memory we can see that now we",
    "start": "916860",
    "end": "923699"
  },
  {
    "text": "are requesting less resources and in that one we can see the",
    "start": "923699",
    "end": "930480"
  },
  {
    "text": "percentage of their resources the memory versus the request so now we have",
    "start": "930480",
    "end": "937800"
  },
  {
    "text": "increased the percentage of the of the memory that we are using so",
    "start": "937800",
    "end": "943440"
  },
  {
    "text": "we are fine but we are not in in our standpoint it was a good starting point",
    "start": "943440",
    "end": "949560"
  },
  {
    "text": "right now we are wasting less resources which is nice but we have some room for",
    "start": "949560",
    "end": "955560"
  },
  {
    "text": "for improvement here let's we monitor it again and we we could tweak it again so",
    "start": "955560",
    "end": "961079"
  },
  {
    "text": "what if we help it again we go from 512 to",
    "start": "961079",
    "end": "967820"
  },
  {
    "text": "256. what happens let's check the impact so in this screenshot in the in this",
    "start": "967820",
    "end": "973320"
  },
  {
    "text": "chart uh we we went even further we we went from 2056 to 128. and this is uh",
    "start": "973320",
    "end": "983100"
  },
  {
    "text": "uh like like all the process when we requested one gigabyte uh we were using 20 of the resources",
    "start": "983100",
    "end": "992699"
  },
  {
    "text": "which means that we were paying for 100 but we were only using 20. now we",
    "start": "992699",
    "end": "1001160"
  },
  {
    "text": "that we uh said 128 we are using a bow a",
    "start": "1001160",
    "end": "1006620"
  },
  {
    "text": "bow uh 100 because we have the limits there so and this is where we want to be",
    "start": "1006620",
    "end": "1012980"
  },
  {
    "text": "we want to use all the resources that we are reserving because that way we won't be wasting any resources or any money",
    "start": "1012980",
    "end": "1020240"
  },
  {
    "text": "this is the same image but the other way around this is the quantity of resources that were wasted we went from a lot of",
    "start": "1020240",
    "end": "1028100"
  },
  {
    "text": "percent to almost zero or even zero uh after after setting uh to 128. so",
    "start": "1028100",
    "end": "1037459"
  },
  {
    "text": "this is it right this is uh this is what we wanted this now we have uh we we are",
    "start": "1037459",
    "end": "1044120"
  },
  {
    "text": "in wasting any resource so we are happy right right no we had to",
    "start": "1044120",
    "end": "1050240"
  },
  {
    "text": "to talk about the real thing real thing okay yeah we have to talk about the money Everyone likes money right well I",
    "start": "1050240",
    "end": "1056539"
  },
  {
    "text": "do so let's see how much",
    "start": "1056539",
    "end": "1061840"
  },
  {
    "text": "so in in that we were paying like 100",
    "start": "1066460",
    "end": "1072160"
  },
  {
    "text": "dollars per month for the request and after rest I think",
    "start": "1072160",
    "end": "1078320"
  },
  {
    "text": "we were paying 25 dollars per month so there is an improvement here so we",
    "start": "1078320",
    "end": "1084919"
  },
  {
    "text": "improve it in 775 dollars per month and just with one",
    "start": "1084919",
    "end": "1092480"
  },
  {
    "text": "workload yeah we did it only with one more and imagine we could do if we do",
    "start": "1092480",
    "end": "1098960"
  },
  {
    "text": "that in the entire cluster we could save a lot of money okay so what are the conclusions here",
    "start": "1098960",
    "end": "1106240"
  },
  {
    "text": "uh we learned that our application was lighter than we thought",
    "start": "1106240",
    "end": "1112220"
  },
  {
    "text": "we we thought it was a more complex application and it runs with less resources",
    "start": "1112220",
    "end": "1118580"
  },
  {
    "text": "we also saved 75 dollars a month for yes one wordload which is great but the most",
    "start": "1118580",
    "end": "1124400"
  },
  {
    "text": "important thing from my perspective is that we are starting a workflow that is easily repeatable",
    "start": "1124400",
    "end": "1132380"
  },
  {
    "text": "to monitor the resource usage we created some dashboards depending on its use case with those queries with those",
    "start": "1132380",
    "end": "1139160"
  },
  {
    "text": "metrics we you can create different dashboards but you can have all the information there leaving there so you",
    "start": "1139160",
    "end": "1144860"
  },
  {
    "text": "can use that same dashboard for all your workloads so you can take a look from time to time and see if your cluster",
    "start": "1144860",
    "end": "1150860"
  },
  {
    "text": "needs some right sizing so this will help you to keep",
    "start": "1150860",
    "end": "1155960"
  },
  {
    "text": "ing your applications uh like in shape so that's all that we wanted to show you",
    "start": "1155960",
    "end": "1163880"
  },
  {
    "text": "guys today thanks for listening",
    "start": "1163880",
    "end": "1168160"
  },
  {
    "text": "[Applause]",
    "start": "1169430",
    "end": "1176519"
  },
  {
    "text": "have you ever been in a situation where a workload uses a lot more resources at",
    "start": "1181039",
    "end": "1187100"
  },
  {
    "text": "the beginning but then goes down like how would you set resource and limits in that situation",
    "start": "1187100",
    "end": "1192740"
  },
  {
    "text": "okay yeah the question is what happens if the workload uses a lot of resources",
    "start": "1192740",
    "end": "1199820"
  },
  {
    "text": "at first but then it lowers it can we manage this situation yeah that's why we",
    "start": "1199820",
    "end": "1206360"
  },
  {
    "text": "do our navigates for over time so you do you don't have to take an even if you",
    "start": "1206360",
    "end": "1212900"
  },
  {
    "text": "use uh a lot of resources Affairs that's why the limits are so the limits will be",
    "start": "1212900",
    "end": "1220520"
  },
  {
    "text": "absorbed at amount so you have to assure the limits in that case the problem is the limits so we have to put the limits",
    "start": "1220520",
    "end": "1227360"
  },
  {
    "text": "there you know what are the big so then you have to request about that so I do",
    "start": "1227360",
    "end": "1234260"
  },
  {
    "text": "know after that you know the average of of your application right so that",
    "start": "1234260",
    "end": "1239299"
  },
  {
    "text": "program is sold in the future not there again the brand is the limit you have to put the limit",
    "start": "1239299",
    "end": "1246320"
  },
  {
    "text": "right and and this is something you are doing regularly so it will be fixed after a few uh",
    "start": "1246320",
    "end": "1254600"
  },
  {
    "text": "time monitoring so yeah",
    "start": "1254600",
    "end": "1258220"
  },
  {
    "text": "excuse me you got me okay hey uh here I am do you think the amount of money spent",
    "start": "1262580",
    "end": "1269120"
  },
  {
    "text": "and man have spent on resizing is always less than money saved after resizing",
    "start": "1269120",
    "end": "1274640"
  },
  {
    "text": "excuse me can you repeat the amount of money and the man however spent on resizing work is always less",
    "start": "1274640",
    "end": "1281660"
  },
  {
    "text": "than the money we save after resizing the workloads you mean uh what happens if if you need",
    "start": "1281660",
    "end": "1290720"
  },
  {
    "text": "like more like you need to spend more money or what I'm saying you know you speak",
    "start": "1290720",
    "end": "1297559"
  },
  {
    "text": "you know resizing each workload is a lot of work right so you need a lot of man hours for you",
    "start": "1297559",
    "end": "1303320"
  },
  {
    "text": "know doing that do you think that will actually uh benefiting uh after the",
    "start": "1303320",
    "end": "1309200"
  },
  {
    "text": "money you see the savings after resizing you see what my question is",
    "start": "1309200",
    "end": "1315340"
  },
  {
    "text": "for me excuse me so if it takes you uh so if it",
    "start": "1316419",
    "end": "1321620"
  },
  {
    "text": "takes you a week of work I am not underneath the speaker yeah so if it takes you a week of work to save a hundred bucks",
    "start": "1321620",
    "end": "1328760"
  },
  {
    "text": "but you're weak yeah your salary is higher yeah that's a good question uh sorry the question is uh what what if we",
    "start": "1328760",
    "end": "1337340"
  },
  {
    "text": "are you are saving a lot of uh money but you are spending a lot of time on our",
    "start": "1337340",
    "end": "1342679"
  },
  {
    "text": "efforts right right sizing yeah that this is a good question as we said uh we",
    "start": "1342679",
    "end": "1348559"
  },
  {
    "text": "worked in this dashboard once and then we are using it for all the attachments for the workloads so yes at",
    "start": "1348559",
    "end": "1355220"
  },
  {
    "text": "first it's some you you need to be some time uh writing queries and knowing how",
    "start": "1355220",
    "end": "1360860"
  },
  {
    "text": "your applications work but once you have this you can replicate this anytime so",
    "start": "1360860",
    "end": "1366559"
  },
  {
    "text": "well it depends on your use case but I think it's it's worth it",
    "start": "1366559",
    "end": "1372100"
  },
  {
    "text": "thank you",
    "start": "1372980",
    "end": "1375640"
  },
  {
    "text": "you're kind of operating at 100 right or at 100 of the resources",
    "start": "1380860",
    "end": "1387919"
  },
  {
    "text": "is that kind of developers and they think oh I'm not at",
    "start": "1387919",
    "end": "1395419"
  },
  {
    "text": "the age it's more of a sweet s where it's you know you're running it 80 to 90 yeah that's a",
    "start": "1395419",
    "end": "1402260"
  },
  {
    "text": "really nice question thank you the question is if we are reaching 100 of our resources",
    "start": "1402260",
    "end": "1408080"
  },
  {
    "text": "that could be uh misleading to our developers they would they might think",
    "start": "1408080",
    "end": "1414100"
  },
  {
    "text": "85 percent is better yeah the application never working like in a",
    "start": "1414100",
    "end": "1420440"
  },
  {
    "text": "stable and probably are like that so yeah there is like a range like uh 19 or",
    "start": "1420440",
    "end": "1428480"
  },
  {
    "text": "uh 110 percent so that is the the streets the thing is",
    "start": "1428480",
    "end": "1436039"
  },
  {
    "text": "you have the limits there yeah the limits are for that yeah so you using",
    "start": "1436039",
    "end": "1441080"
  },
  {
    "text": "100 it's a good idea because you are taking the best of your requests and if",
    "start": "1441080",
    "end": "1449360"
  },
  {
    "text": "there is something that makes your application go even further you have the limits to cover that to absorb that and",
    "start": "1449360",
    "end": "1456559"
  },
  {
    "text": "of course if that go even further and you have memory issues uh",
    "start": "1456559",
    "end": "1463100"
  },
  {
    "text": "as you are monitoring this you'll know this and you you'll be able to fix it so",
    "start": "1463100",
    "end": "1468559"
  },
  {
    "text": "yes that's a good question because at first I was thinking the same so I 100 this is a way in the edge but no no it's",
    "start": "1468559",
    "end": "1475820"
  },
  {
    "text": "it's because you have the limits for that thank you",
    "start": "1475820",
    "end": "1480519"
  },
  {
    "text": "hi actually my question is related to the same question he asked so I got",
    "start": "1483620",
    "end": "1489380"
  },
  {
    "text": "something like a five six different environments and each environment I got like probably more than 100 applications",
    "start": "1489380",
    "end": "1496700"
  },
  {
    "text": "running if someone is in SRE if he's sitting around and thinking that okay I've said quite a lot of money",
    "start": "1496700",
    "end": "1503900"
  },
  {
    "text": "by tweaking my apps and I go to bed and then my ports get evicted so I have to",
    "start": "1503900",
    "end": "1509360"
  },
  {
    "text": "make a decisions like do I make my life easy or do I save money or just vice versa I think this problem had been",
    "start": "1509360",
    "end": "1516860"
  },
  {
    "text": "going on for a while I think that is is still a bit of a like a firefighting",
    "start": "1516860",
    "end": "1522020"
  },
  {
    "text": "kind of like a manual approach it starts well and at one point you can't just give up like someone said that initially",
    "start": "1522020",
    "end": "1529760"
  },
  {
    "text": "ports are fine then eventually load goes up then you constantly have to keep and watch on where the metrics where the",
    "start": "1529760",
    "end": "1537559"
  },
  {
    "text": "load is flowing through it might become a bit quite a cumbersome job to",
    "start": "1537559",
    "end": "1542659"
  },
  {
    "text": "constantly have to tweak your apps and then if you have hundreds more than 100 applications and then each has got and",
    "start": "1542659",
    "end": "1549919"
  },
  {
    "text": "I've got four or five environments where do I go",
    "start": "1549919",
    "end": "1554260"
  },
  {
    "text": "okay excuse me can you repeat the question can you repeat the question again so what is the question I I don't",
    "start": "1555140",
    "end": "1561740"
  },
  {
    "text": "hear it I I the microphone I think is a little bit low it's not actually a",
    "start": "1561740",
    "end": "1567140"
  },
  {
    "text": "question it's like it's a little bit difficult to actually it's good to start with this kind of right sizing but if",
    "start": "1567140",
    "end": "1573080"
  },
  {
    "text": "you have say 100 workloads 100 applications and I got four to five different environments that means four",
    "start": "1573080",
    "end": "1579799"
  },
  {
    "text": "times hundred four hundred how can I maintain this thing it starts off from the beginning and over a period",
    "start": "1579799",
    "end": "1586520"
  },
  {
    "text": "okay it keeps changing yeah the question is what happens when you have a lot of notes a lot of clusters uh how can you",
    "start": "1586520",
    "end": "1594980"
  },
  {
    "text": "uh manage all these work yeah the thing is in in the lab we saw we can probably",
    "start": "1594980",
    "end": "1600500"
  },
  {
    "text": "prioritize because we know what are the worst applications like the applications",
    "start": "1600500",
    "end": "1606980"
  },
  {
    "text": "that are wasting more so we do can focus in that and then you can improve it and",
    "start": "1606980",
    "end": "1613039"
  },
  {
    "text": "you can yeah continue with that yeah it depends it's it's the the the other this",
    "start": "1613039",
    "end": "1618500"
  },
  {
    "text": "other person asks something like is it worth it well you can start with",
    "start": "1618500",
    "end": "1624200"
  },
  {
    "text": "what uh what's the name space that is wasting more resources you can start there and you don't you don't need to do",
    "start": "1624200",
    "end": "1631580"
  },
  {
    "text": "it uh at in one night so yes uh it depends on on any on each scenario",
    "start": "1631580",
    "end": "1642039"
  },
  {
    "text": "uh you remember that slide with like the guaranteed burstable and best effort",
    "start": "1643400",
    "end": "1648679"
  },
  {
    "text": "yeah but like a different scenario that wasn't up there was what if you set um your requests but don't set limits",
    "start": "1648679",
    "end": "1655220"
  },
  {
    "text": "because there any scenarios that you would advise doing that or you ever seen that being done if you said you you say",
    "start": "1655220",
    "end": "1661580"
  },
  {
    "text": "if you if we set requests but no limits what will be uh yeah he's asking uh in",
    "start": "1661580",
    "end": "1669919"
  },
  {
    "text": "what place will we see if you're related to this is not working okay if you if you require if you put a",
    "start": "1669919",
    "end": "1676640"
  },
  {
    "text": "request but not limits will be vegetable yeah first of all yeah any scenarios",
    "start": "1676640",
    "end": "1682640"
  },
  {
    "text": "where you would because yeah if you don't set the the limit is like the limits it's like",
    "start": "1682640",
    "end": "1689659"
  },
  {
    "text": "if you put limits very higher like it's like no limits for kubernetes so",
    "start": "1689659",
    "end": "1696200"
  },
  {
    "text": "will be the most terrible yeah I was just curious like is there any scenarios where that makes sense",
    "start": "1696200",
    "end": "1701720"
  },
  {
    "text": "like you gave like an example in the previous slide like database or API Gateway uh sure can you repeat is there any",
    "start": "1701720",
    "end": "1707960"
  },
  {
    "text": "scenario where that would make sense to not set limits or is it always no set limits well yes uh it depends on on uh",
    "start": "1707960",
    "end": "1716179"
  },
  {
    "text": "the use case yes if you have sorry the question was if it makes sense in any X",
    "start": "1716179",
    "end": "1721700"
  },
  {
    "text": "scenario to not not setting the limits yeah if you if you have an idealist",
    "start": "1721700",
    "end": "1726799"
  },
  {
    "text": "scenario where all applications can down can be down or can be evicted we found",
    "start": "1726799",
    "end": "1733220"
  },
  {
    "text": "any problem yeah you can put No Limits so every application that needs that CPU",
    "start": "1733220",
    "end": "1740000"
  },
  {
    "text": "will really will receive the the CPU that is for CPU mainly not for",
    "start": "1740000",
    "end": "1747559"
  },
  {
    "text": "memory for memory it's not not spelled but for CPU there sometimes it's it's",
    "start": "1747559",
    "end": "1755840"
  },
  {
    "text": "but it depends of all uh teams or of your class because sometimes you have",
    "start": "1755840",
    "end": "1763820"
  },
  {
    "text": "a lot of teams that don't tell each other yeah you don't trust in in the",
    "start": "1763820",
    "end": "1769760"
  },
  {
    "text": "other team so take care about that because maybe that thing is terrible but if you monitor your application you can",
    "start": "1769760",
    "end": "1776659"
  },
  {
    "text": "you can answer your own question in in that scenario you can you can know what is happening so I would go without",
    "start": "1776659",
    "end": "1783200"
  },
  {
    "text": "limits and that and do something and try it yeah this is for CPU yeah only for",
    "start": "1783200",
    "end": "1790279"
  },
  {
    "text": "CPU yeah so um my question is similar to what you",
    "start": "1790279",
    "end": "1796640"
  },
  {
    "text": "were just saying about the limits um how do you handle a case where you're",
    "start": "1796640",
    "end": "1803600"
  },
  {
    "text": "you're almost at a hundred percent but your traffic is very burstable",
    "start": "1803600",
    "end": "1811039"
  },
  {
    "text": "and you need a little bit of overhead short periods of time",
    "start": "1811039",
    "end": "1817760"
  },
  {
    "text": "sorry I don't know where you are I'm sorry I was looking at the end of",
    "start": "1817760",
    "end": "1823940"
  },
  {
    "text": "the room sorry how do you handle burstable Network traffic where you know a little bit of",
    "start": "1823940",
    "end": "1831140"
  },
  {
    "text": "peaking you want to be able to grow otherwise you're going to run out of memory and your node's gonna die or your",
    "start": "1831140",
    "end": "1837080"
  },
  {
    "text": "pod's gonna die and then it's gets worse and worse and worse",
    "start": "1837080",
    "end": "1842140"
  },
  {
    "text": "so that makes sense what is the question sorry uh did you mean when what what",
    "start": "1842240",
    "end": "1847820"
  },
  {
    "text": "happens if we go above that 100 yeah period of time yeah but it's not a",
    "start": "1847820",
    "end": "1853700"
  },
  {
    "text": "problem if you but 100 of the requests especially the request right",
    "start": "1853700",
    "end": "1858919"
  },
  {
    "text": "it's no problem because for that is the limit the limit is for that so you do yeah if if there's a problem if you go",
    "start": "1858919",
    "end": "1865340"
  },
  {
    "text": "above your 100 of your of your limit of the request and you have problems with",
    "start": "1865340",
    "end": "1870380"
  },
  {
    "text": "that you should set the limit yeah because you might need to tweak the limit a bit uh if you need a guaranteed uh State you",
    "start": "1870380",
    "end": "1880340"
  },
  {
    "text": "might want to up to increase both limit and request but but it depends on any",
    "start": "1880340",
    "end": "1886220"
  },
  {
    "text": "scenario sorry because there's no formula for this but but if you monitor this uh you you could have some some",
    "start": "1886220",
    "end": "1892760"
  },
  {
    "text": "answers uh so first of all really great talk I really like how systematic your",
    "start": "1892760",
    "end": "1899539"
  },
  {
    "text": "approaches for this sort of inefficiency and problem um but the the question I have is that",
    "start": "1899539",
    "end": "1906860"
  },
  {
    "text": "the system you have it involves like uh like an iteration",
    "start": "1906860",
    "end": "1912200"
  },
  {
    "text": "um like kind of manually changing the limits and requests and I was wondering if you have any knowledge of any kind of",
    "start": "1912200",
    "end": "1919520"
  },
  {
    "text": "automation to do that so that rather than a human having to like keep pushing",
    "start": "1919520",
    "end": "1924559"
  },
  {
    "text": "commits to like tweak the numbers of the limits and requests that like you have like some operator that would go in and",
    "start": "1924559",
    "end": "1931000"
  },
  {
    "text": "dynamically change it based off of uh the promiscuous metric status yeah the",
    "start": "1931000",
    "end": "1936620"
  },
  {
    "text": "question he asked is is there any automated way of doing it of doing this",
    "start": "1936620",
    "end": "1942200"
  },
  {
    "text": "instead of being manually tweaking the queries and and the limits on the",
    "start": "1942200",
    "end": "1947720"
  },
  {
    "text": "requests uh like this is a very tough question because",
    "start": "1947720",
    "end": "1953960"
  },
  {
    "text": "you need this is a very Craftman operation because it's a scenario it's application even even two two teams",
    "start": "1953960",
    "end": "1962659"
  },
  {
    "text": "could be using nginx and yeah limits and requests of each team could be completely different maybe it's",
    "start": "1962659",
    "end": "1968840"
  },
  {
    "text": "happening like the first question that in the beginning you have a peek",
    "start": "1968840",
    "end": "1974000"
  },
  {
    "text": "very big peak and if you do it that automatically maybe you are missing so I",
    "start": "1974000",
    "end": "1980539"
  },
  {
    "text": "I'd go for for example if you go to the systic booth in in uh in the in the here",
    "start": "1980539",
    "end": "1987080"
  },
  {
    "text": "in the salon uh you can you can see how uh CSD for example do this uh we we have",
    "start": "1987080",
    "end": "1993620"
  },
  {
    "text": "this thing called um okay I'll kubernetes dashboards that that gives you this information and can",
    "start": "1993620",
    "end": "2000340"
  },
  {
    "text": "help you finding what without you doing a thing uh finding uh what's the right",
    "start": "2000340",
    "end": "2005799"
  },
  {
    "text": "request with the right limit but like I don't think there's an algorithm that",
    "start": "2005799",
    "end": "2011620"
  },
  {
    "text": "you could deploy in your cluster and I",
    "start": "2011620",
    "end": "2016019"
  },
  {
    "text": "said",
    "start": "2023140",
    "end": "2025440"
  },
  {
    "text": "yeah that it's not yeah I I get it we we have we have a few formulas we have an",
    "start": "2028240",
    "end": "2034059"
  },
  {
    "text": "average and Max and we saw we said that that that was a starting point so",
    "start": "2034059",
    "end": "2040899"
  },
  {
    "text": "at first you don't you you have nothing with the first Formula you have something so you could automate the",
    "start": "2040899",
    "end": "2047200"
  },
  {
    "text": "average formula the max is the most sorry you should you",
    "start": "2047200",
    "end": "2054040"
  },
  {
    "text": "could automate for rhythm the the conservative strategy which is the max yeah",
    "start": "2054040",
    "end": "2060419"
  },
  {
    "text": "start going and until I change it for each file I guess",
    "start": "2067720",
    "end": "2073060"
  },
  {
    "text": "spending a lot of time if there was some time like operator",
    "start": "2073060",
    "end": "2079358"
  },
  {
    "text": "that could go like Time by hand we decided basically based on the max",
    "start": "2079359",
    "end": "2084520"
  },
  {
    "text": "be a lot more",
    "start": "2084520",
    "end": "2087060"
  },
  {
    "text": "yeah I I wish I had like uh yeah better answer for for you but but",
    "start": "2096460",
    "end": "2103599"
  },
  {
    "text": "yes it's quite it's quite like that it's you",
    "start": "2103599",
    "end": "2108240"
  },
  {
    "text": "know",
    "start": "2117099",
    "end": "2119099"
  },
  {
    "text": "okay",
    "start": "2131440",
    "end": "2133859"
  },
  {
    "text": "yeah you you could use for example Kira uh no sorry uh no because uh that's that",
    "start": "2136839",
    "end": "2144460"
  },
  {
    "text": "would be with the with the BPA yeah we could yeah we could use uh the current vpa for right sizing the limits on the",
    "start": "2144460",
    "end": "2150880"
  },
  {
    "text": "requests but that but that wouldn't be very like",
    "start": "2150880",
    "end": "2156160"
  },
  {
    "text": "did that wouldn't be the most efficient way of doing this because you'll have some",
    "start": "2156160",
    "end": "2161920"
  },
  {
    "text": "but yes you can try it like that the good thing about this is the numbers are",
    "start": "2161920",
    "end": "2168099"
  },
  {
    "text": "in Prometheus so just just take a look okay this I think we are uh okay thanks",
    "start": "2168099",
    "end": "2174099"
  },
  {
    "text": "for thanks for joining us today have a nice day",
    "start": "2174099",
    "end": "2178859"
  }
]