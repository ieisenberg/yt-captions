[
  {
    "start": "0",
    "end": "58000"
  },
  {
    "text": "welcome everyone thank you for being here we're gonna get started so this is",
    "start": "60",
    "end": "6330"
  },
  {
    "text": "day two with stateful applications implementing a data protection strategy a little bit about ourselves",
    "start": "6330",
    "end": "14340"
  },
  {
    "text": "oh hi everyone I'm the Picard big ship I'm a member of technical staff at Gaston I have a background in storage I",
    "start": "14340",
    "end": "21119"
  },
  {
    "text": "previously worked at entry and I've graduated from ASU I and I'm bap of",
    "start": "21119",
    "end": "26369"
  },
  {
    "text": "camera I'm the co-founder and CTO at Caston I'm also a contributor on a project called canister so we'll talk a",
    "start": "26369",
    "end": "32550"
  },
  {
    "text": "little bit about that today as well previously I've done databases at Microsoft file systems and storage at",
    "start": "32550",
    "end": "39559"
  },
  {
    "text": "magnetics and most recently I was doing data protection at EMC so very happy to",
    "start": "39559",
    "end": "46020"
  },
  {
    "text": "talk to you about this topic it's very near and dear to us at Caston we do data management for cloud native applications",
    "start": "46020",
    "end": "51480"
  },
  {
    "text": "so data protection is one of those things so I hope to make this relevant for you guys so what are we going to",
    "start": "51480",
    "end": "59609"
  },
  {
    "start": "58000",
    "end": "93000"
  },
  {
    "text": "talk about today so the first half of the talk will talk about where the data is when it comes to applications and",
    "start": "59609",
    "end": "64619"
  },
  {
    "text": "kubernetes what do we really mean by stateful applications everybody has their own definition we'll talk about",
    "start": "64619",
    "end": "70380"
  },
  {
    "text": "what data protection is you know just set the problem up for everyone and the second half we will talk about what it",
    "start": "70380",
    "end": "76799"
  },
  {
    "text": "takes to get this right in kubernetes hopefully give a blueprint for all of us to use when we're thinking about it in",
    "start": "76799",
    "end": "82439"
  },
  {
    "text": "our environments we'll also talk about tools that we can use they're available out there we'll also do an end-to-end",
    "start": "82439",
    "end": "89100"
  },
  {
    "text": "demo that will show all of this and bring it all together so quick show of",
    "start": "89100",
    "end": "94799"
  },
  {
    "start": "93000",
    "end": "123000"
  },
  {
    "text": "hands who here is running stateful applications in kubernetes all right and",
    "start": "94799",
    "end": "99840"
  },
  {
    "text": "so by this what I mean is you're using persistent volumes you're deploying databases in kubernetes you're using",
    "start": "99840",
    "end": "105840"
  },
  {
    "text": "data services elasticsearch Redis a whole bunch of things right and let me ask you a little slightly different",
    "start": "105840",
    "end": "112079"
  },
  {
    "text": "question who's running applications that store data outside of kubernetes so you're",
    "start": "112079",
    "end": "117210"
  },
  {
    "text": "using a managed service cloud SQL Amazon RDS something like that right thank you",
    "start": "117210",
    "end": "122790"
  },
  {
    "text": "so that is a good segue in at this slide so when it comes to applications in",
    "start": "122790",
    "end": "128459"
  },
  {
    "start": "123000",
    "end": "202000"
  },
  {
    "text": "kubernetes they're all there are different adoption patterns that we see the first one is what we just talked about",
    "start": "128459",
    "end": "135099"
  },
  {
    "text": "so they're empty hexagons there those are pods right so you've got pods which have no state and you've got pods that",
    "start": "135099",
    "end": "141560"
  },
  {
    "text": "have stayed so the first pattern is that all the data services all the data is in kubernetes you're either using volumes",
    "start": "141560",
    "end": "147650"
  },
  {
    "text": "or using a database like Postgres or something else the second one is you're",
    "start": "147650",
    "end": "153829"
  },
  {
    "text": "still all in kubernetes but your data services and your application are logically separate they're deployed",
    "start": "153829",
    "end": "161150"
  },
  {
    "text": "managed independently so if you think about the database as a service pattern the pattern where people are using",
    "start": "161150",
    "end": "167299"
  },
  {
    "text": "operators to deploy databases this is what we see and then you've got applications that will communicate with",
    "start": "167299",
    "end": "172790"
  },
  {
    "text": "the databases or the data services I should say using either control or data api's and then there's the third one",
    "start": "172790",
    "end": "179450"
  },
  {
    "text": "which we also talked about where your your all your data service is outside and your again you're using control api",
    "start": "179450",
    "end": "185750"
  },
  {
    "text": "is to provision you using data api is to talk to those and so what we're going to talk about today covers all of this",
    "start": "185750",
    "end": "192920"
  },
  {
    "text": "because I think these are all valid patterns when you're building your applications there are pros and cons - to each of them but what we will talk",
    "start": "192920",
    "end": "199849"
  },
  {
    "text": "about will apply to everything so what is data protection let's let's set that",
    "start": "199849",
    "end": "205849"
  },
  {
    "start": "202000",
    "end": "243000"
  },
  {
    "text": "up at a very high level it means that you have systems in place to recover",
    "start": "205849",
    "end": "210859"
  },
  {
    "text": "applications and the data if things go bad and there are a bunch of reasons or",
    "start": "210859",
    "end": "215900"
  },
  {
    "text": "you would need this dealing with accidental or malicious data loss so think bugs in your code that we need",
    "start": "215900",
    "end": "223069"
  },
  {
    "text": "to recover from you got hit with ransomware infrastructure failure to deal with application miss configuration",
    "start": "223069",
    "end": "228949"
  },
  {
    "text": "this is the I have a typo in my config file and suddenly a production was pointing to dev it does happen and then",
    "start": "228949",
    "end": "236870"
  },
  {
    "text": "regulatory reasons in certain environments having systems in place like this is a requirement and when you",
    "start": "236870",
    "end": "244370"
  },
  {
    "start": "243000",
    "end": "295000"
  },
  {
    "text": "think about when we think about data protection strategy there's certain elements certain things that are table stakes and especially in these",
    "start": "244370",
    "end": "250760"
  },
  {
    "text": "environments at scale automation around our backup and recovery processes",
    "start": "250760",
    "end": "256539"
  },
  {
    "text": "policies in place that will take care of scheduling and retirement security so you want to make sure you have the right",
    "start": "256539",
    "end": "262580"
  },
  {
    "text": "controls in place who has access to what who can restore Encryption SLA is around recovery so how",
    "start": "262580",
    "end": "268900"
  },
  {
    "text": "long this thing are things gonna take how much data and me I I might lose this is all important but most important is",
    "start": "268900",
    "end": "275380"
  },
  {
    "text": "doing all of this at scale so we're in a day to talk over here day two in kubernetes is all about doing things at",
    "start": "275380",
    "end": "282250"
  },
  {
    "text": "scale doing things in a repeatable way not having manual processes and also handling all sorts of applications that",
    "start": "282250",
    "end": "289090"
  },
  {
    "text": "are going to show up in our cluster not just the the one application or the two application right now everything I think",
    "start": "289090",
    "end": "297760"
  },
  {
    "start": "295000",
    "end": "395000"
  },
  {
    "text": "I said right now I think this is a pretty standard part of any operational table I'm sure we're all aware of it if",
    "start": "297760",
    "end": "303580"
  },
  {
    "text": "we're running our environments in production but when it comes to kubernetes application applications and",
    "start": "303580",
    "end": "309640"
  },
  {
    "text": "kubernetes I think there's some misconceptions out there that we should just talk about because this is something that keeps coming up over and",
    "start": "309640",
    "end": "315190"
  },
  {
    "text": "over again so the first one is I don't have any stateful applications and kubernetes so",
    "start": "315190",
    "end": "320410"
  },
  {
    "text": "this is obviously changing I mean the show of hands shows that but also when when people make this statement or when",
    "start": "320410",
    "end": "326800"
  },
  {
    "text": "we when we hear this it's really a description of where the data lives rather than the application itself the",
    "start": "326800",
    "end": "332620"
  },
  {
    "text": "application has stayed what we're saying here is that this state may be outside of kubernetes and that's okay you still",
    "start": "332620",
    "end": "338230"
  },
  {
    "text": "have data that's valuable and you still need a strategy in place second one is",
    "start": "338230",
    "end": "343390"
  },
  {
    "text": "my data stores are replicated right they I'm using a cloud native database I'm",
    "start": "343390",
    "end": "348940"
  },
  {
    "text": "using X or Y and so why do I need something like this now replication is is great for resiliency it can help help",
    "start": "348940",
    "end": "356290"
  },
  {
    "text": "you with infrastructure failures but when it comes to dealing with accidental data loss malicious data loss",
    "start": "356290",
    "end": "362590"
  },
  {
    "text": "configuration issues you still need a complete data protection strategy you need points in time backup and recovery",
    "start": "362590",
    "end": "368530"
  },
  {
    "text": "so that's that's what what's important here and the third one which I think",
    "start": "368530",
    "end": "374650"
  },
  {
    "text": "we'll spend a little bit more time on is my underlying infrastructure I'm using a",
    "start": "374650",
    "end": "379960"
  },
  {
    "text": "cloud service I'm using a storage system I'm using a database it already has things like backup and recovery so why",
    "start": "379960",
    "end": "386050"
  },
  {
    "text": "do I need something else so for this let's let's make it a little bit visual because I think that'll help us and",
    "start": "386050",
    "end": "391780"
  },
  {
    "text": "we'll keep coming back to this one later as well so let's look at what a typical cloud native application looks like",
    "start": "391780",
    "end": "399160"
  },
  {
    "start": "395000",
    "end": "490000"
  },
  {
    "text": "you might have a service I'm gonna see if this shows up I think it's big enough so you might have let's say a front-end",
    "start": "399160",
    "end": "405010"
  },
  {
    "text": "service that's behind an ingress over there let's see it has a couple of other back-end micro services micro service",
    "start": "405010",
    "end": "411520"
  },
  {
    "text": "architectures are what you'll see a lot in these environments let's say they're stateful so the first one is using a",
    "start": "411520",
    "end": "418000"
  },
  {
    "text": "volume it's putting unstructured data on there and you've got another one that's using it's using a cloud database for",
    "start": "418000",
    "end": "424420"
  },
  {
    "text": "some structured data so this is a pretty typical pattern for cloud native applications now when you think about",
    "start": "424420",
    "end": "430540"
  },
  {
    "text": "the operational unit here what do you care about what do we deploy what do we",
    "start": "430540",
    "end": "435940"
  },
  {
    "text": "want to manage what do we want to backup and eventually if we have an issue what do we want to recover it is this entire",
    "start": "435940",
    "end": "441820"
  },
  {
    "text": "thing it is the application doing that at the infrastructure level becomes",
    "start": "441820",
    "end": "448390"
  },
  {
    "text": "really hard so when I'm sitting at for example the storage layer over there or within Amazon RDS I've got a backup",
    "start": "448390",
    "end": "454900"
  },
  {
    "text": "policy running over there it has no awareness about the entire application it has no awareness of what the",
    "start": "454900",
    "end": "461170"
  },
  {
    "text": "dependencies are are there micro services that I need ordering against across do I need to collect backup all",
    "start": "461170",
    "end": "466690"
  },
  {
    "text": "of this at one time together there's kubernetes I mean how is all of this gonna tie into kubernetes there's",
    "start": "466690",
    "end": "472330"
  },
  {
    "text": "no real awareness of that layer so it becomes really hard to do this at just the infrastructure layer you need to do",
    "start": "472330",
    "end": "478630"
  },
  {
    "text": "this in an application aware manner and that's really why for our kubernetes applications we need a data protection",
    "start": "478630",
    "end": "484690"
  },
  {
    "text": "strategy that starts at the application level so now that we've set the problem",
    "start": "484690",
    "end": "492460"
  },
  {
    "start": "490000",
    "end": "518000"
  },
  {
    "text": "up a bit let's talk about implementation and so implementation there are a variety of things to talk about what I'm",
    "start": "492460",
    "end": "497980"
  },
  {
    "text": "trying to what I'm gonna try and do is offer a blueprint of things to think about maybe four or five whenever you're",
    "start": "497980",
    "end": "504670"
  },
  {
    "text": "thinking about data protection so I would I would hope that people can take this back look at their own environments",
    "start": "504670",
    "end": "510280"
  },
  {
    "text": "their own applications and consider each topic in here and say okay what am I gonna do about a B and C so we're gonna",
    "start": "510280",
    "end": "516130"
  },
  {
    "text": "go through those the first one is again I've got that picture of that",
    "start": "516130",
    "end": "521289"
  },
  {
    "start": "518000",
    "end": "578000"
  },
  {
    "text": "application of there so what are we gonna do about the kubernetes resources the application configuration I might",
    "start": "521290",
    "end": "528070"
  },
  {
    "text": "have other information I need to recover this application I might have shared secrets in my environment I might I might need pipeline",
    "start": "528070",
    "end": "533980"
  },
  {
    "text": "information how was this deployed what environment was it running in so we need to think about how we're gonna capture",
    "start": "533980",
    "end": "539380"
  },
  {
    "text": "that information when we're trying to back up an application when it comes to the kubernetes resources there are a few",
    "start": "539380",
    "end": "545140"
  },
  {
    "text": "techniques you can go to the API server and that really gives you what the runtime state is if it's all",
    "start": "545140",
    "end": "550960"
  },
  {
    "text": "infrastructures code you can go and you can get a source code reference you could go refer to your repository if",
    "start": "550960",
    "end": "556090"
  },
  {
    "text": "you're using something like helm you can protect the helm chart you can bring that in or even just store a reference",
    "start": "556090",
    "end": "561700"
  },
  {
    "text": "but that's something we do need to worry about because applications are so dynamic that configurations change quite",
    "start": "561700",
    "end": "568780"
  },
  {
    "text": "quite often in these environments so if you're backing up data you want to make sure that you get the configuration that",
    "start": "568780",
    "end": "573970"
  },
  {
    "text": "actually matches that data if you ever want to recover this the next one is",
    "start": "573970",
    "end": "579540"
  },
  {
    "start": "578000",
    "end": "713000"
  },
  {
    "text": "what we think about most often is what are we going to do about the persistent data and this really depends on where",
    "start": "579540",
    "end": "585130"
  },
  {
    "text": "the data is so if the data is in volumes we've got a few options over there we can if the storage system supports it we",
    "start": "585130",
    "end": "591970"
  },
  {
    "text": "can leverage volume snapshots we can use filesystem backups a very popular",
    "start": "591970",
    "end": "597070"
  },
  {
    "text": "technique and actually very powerful is to use a combination of both I take volume user volume snapshot to get a",
    "start": "597070",
    "end": "602290"
  },
  {
    "text": "quick consistent copy of the volume and then use filesystem backups to extract what you need if you're dealing with",
    "start": "602290",
    "end": "609730"
  },
  {
    "text": "data services in the application again you have a few options there you can snapshot underlying volumes this will",
    "start": "609730",
    "end": "616000"
  },
  {
    "text": "give you something which is crash consistent really depends on whether your application can deal with this or not if not you can use application level",
    "start": "616000",
    "end": "623350"
  },
  {
    "text": "tools so think of using this would be for example using my sequel dump with my sequel or a Postgres tool or a",
    "start": "623350",
    "end": "629590"
  },
  {
    "text": "tool using both of these in a combination is also very powerful",
    "start": "629590",
    "end": "634690"
  },
  {
    "text": "especially when you start to think of large data sets and then if you're dealing with managed services similarly",
    "start": "634690",
    "end": "641800"
  },
  {
    "text": "you're going to you can use the application level tools I can use my sequel dump to extract it out of RDS if",
    "start": "641800",
    "end": "647290"
  },
  {
    "text": "I want to the managed service may also offer API is that will give me a copy of",
    "start": "647290",
    "end": "652420"
  },
  {
    "text": "the data that I can use as part of my backup set now once we figured out what",
    "start": "652420",
    "end": "660430"
  },
  {
    "text": "we want to capture you start getting into the the looking into what the workflow is going",
    "start": "660430",
    "end": "665930"
  },
  {
    "text": "to be for backup and restore I think this is important as well because what turns out what it turns out to be is",
    "start": "665930",
    "end": "671750"
  },
  {
    "text": "that every application has a particular workflow for both for backup or for",
    "start": "671750",
    "end": "676880"
  },
  {
    "text": "recovery or for whatever you want to do with the data you might have application requirements I might want to order the",
    "start": "676880",
    "end": "683780"
  },
  {
    "text": "see the steps how steps run across the application I might need to quiet the application I might have pre and post",
    "start": "683780",
    "end": "690130"
  },
  {
    "text": "steps to run you're dealing with kubernetes over here remember we talked about bringing back the entire",
    "start": "690130",
    "end": "697670"
  },
  {
    "text": "application you need to worry about how are you going to orchestrate this in kubernetes what resources need to get created before how do you get volumes",
    "start": "697670",
    "end": "704360"
  },
  {
    "text": "from snapshots stateful sets from those volumes so let's use an example to actually illustrate what I mean by",
    "start": "704360",
    "end": "710270"
  },
  {
    "text": "workflow orchestration and why you need to think about it so if you look at the standard recovery playbook for Postgres",
    "start": "710270",
    "end": "717380"
  },
  {
    "text": "for example if I'm getting Postgres back from physical backups if one stress was running in a VM I would go in there I",
    "start": "717380",
    "end": "723290"
  },
  {
    "text": "would shut down the post curse server I would restore the database and the the log files I had run a recovery step and",
    "start": "723290",
    "end": "729800"
  },
  {
    "text": "then finally when I'm done I start post quest and that works great what happens in a containerized environment when I'm",
    "start": "729800",
    "end": "736010"
  },
  {
    "text": "running in coburn Eddy's as soon as you shutdown Postgres if you get to that",
    "start": "736010",
    "end": "741110"
  },
  {
    "text": "container the container is going to shut down when the container shuts down the pod goes away you lose access to the",
    "start": "741110",
    "end": "746570"
  },
  {
    "text": "database the files all the other steps in the workflow you can't do anymore so",
    "start": "746570",
    "end": "751850"
  },
  {
    "text": "you need to worry about now okay what am I gonna do with my recovery playbook what what is the workflow gonna look like in kubernetes so one option to do",
    "start": "751850",
    "end": "759860"
  },
  {
    "text": "to use here is using init containers but in containers it becomes really brittle",
    "start": "759860",
    "end": "765110"
  },
  {
    "text": "because what happens is you end up embedding script embedded scripts in your application in a sidecar container",
    "start": "765110",
    "end": "771680"
  },
  {
    "text": "a better approach for example is to do this and this is how you would",
    "start": "771680",
    "end": "777050"
  },
  {
    "text": "orchestrate this on kubernetes you can scale down the original Postgres instance you can start another pod and",
    "start": "777050",
    "end": "783500"
  },
  {
    "text": "this is a container that has all your tools has Postgres in there but you can control the lifetime of it you can",
    "start": "783500",
    "end": "789380"
  },
  {
    "text": "attach those volumes that have all the data then you can go and run the rest of the steps of the workflow restore the",
    "start": "789380",
    "end": "794750"
  },
  {
    "text": "database files Postgres recovery finally when you're done you shut down and then bring scale up the original",
    "start": "794750",
    "end": "800809"
  },
  {
    "text": "Postgres application again those volumes go get attached you're good to go so this is kind of what I mean by thinking",
    "start": "800809",
    "end": "806329"
  },
  {
    "text": "about orchestration in these environments finally I think considering",
    "start": "806329",
    "end": "812329"
  },
  {
    "start": "809000",
    "end": "913000"
  },
  {
    "text": "where you're gonna put your backups backup storage becomes really important and what format you're gonna put in",
    "start": "812329",
    "end": "818419"
  },
  {
    "text": "there that's something to take up think about object storage tends to be a really good choice it's scalable it's",
    "start": "818419",
    "end": "824239"
  },
  {
    "text": "low cost has many tiering options has the right controls for security so you",
    "start": "824239",
    "end": "830029"
  },
  {
    "text": "can say who has access to what encryption has really good integration over there so I think this is a great",
    "start": "830029",
    "end": "835759"
  },
  {
    "text": "option to use if you're leveraging data service snapshot so if you're leveraging",
    "start": "835759",
    "end": "841729"
  },
  {
    "text": "volume snapshots if you're leveraging RDS snapshots then one of the things to think about is water what are the",
    "start": "841729",
    "end": "847999"
  },
  {
    "text": "requirements or what are the guarantees the underlying system is going to give me think about a storage appliance that",
    "start": "847999",
    "end": "854629"
  },
  {
    "text": "you take a snapshot on those snapshots are not really backups because when the appliance goes away the snapshots are",
    "start": "854629",
    "end": "859879"
  },
  {
    "text": "gone if you've taken snapshots in the cloud you might get better guarantees so this is something to consider",
    "start": "859879",
    "end": "864910"
  },
  {
    "text": "portability is another one so think about what environment you're gonna have to recover these applications in is the",
    "start": "864910",
    "end": "871730"
  },
  {
    "text": "same infrastructure gonna be there if it is then you might be able to use a snapshot that's tied to that",
    "start": "871730",
    "end": "876949"
  },
  {
    "text": "infrastructure if not you might have to make things portable for example take a volume snapshot and then run a file",
    "start": "876949",
    "end": "882499"
  },
  {
    "text": "system backup out of that - to make the extracted data lastly I mean obvious",
    "start": "882499",
    "end": "888949"
  },
  {
    "text": "stuff I think encryption is something that at this point everybody does think about but what we find is that security",
    "start": "888949",
    "end": "895639"
  },
  {
    "text": "in terms of who has access to what especially you're talking about lots of applications getting backed up it's as",
    "start": "895639",
    "end": "903230"
  },
  {
    "text": "good as having Apple access to the application so you have to worry about who has access to the data who is allowed to restore so we need to write",
    "start": "903230",
    "end": "909589"
  },
  {
    "text": "have make sure you have the right controls in place so that was me that",
    "start": "909589",
    "end": "916039"
  },
  {
    "start": "913000",
    "end": "967000"
  },
  {
    "text": "was the first part I'm gonna hand it over to Deepika who is actually gonna show this in action with a sample",
    "start": "916039",
    "end": "922009"
  },
  {
    "text": "application talk about what tools we can use in these environments as well Thank",
    "start": "922009",
    "end": "927259"
  },
  {
    "text": "You Abu so now that we've seen that what all goes into implementing or even thinking about a",
    "start": "927259",
    "end": "933170"
  },
  {
    "text": "data protection strategy let's look at a demo app and see how we would go about with the same so your if you can see we",
    "start": "933170",
    "end": "940790"
  },
  {
    "text": "have a simple application it's a stateful application it is deployment with one replica set with one replicas",
    "start": "940790",
    "end": "947270"
  },
  {
    "text": "so it has one pod and we have given it three persistent volumes so it's using my sequel for one of the volumes and",
    "start": "947270",
    "end": "953600"
  },
  {
    "text": "then it has some config data in the other one and it has an unstructured file data so it is a simple typical",
    "start": "953600",
    "end": "959480"
  },
  {
    "text": "stateful application that anyone could run in the aquaponics cluster or let's go to the demo and see what this would",
    "start": "959480",
    "end": "965420"
  },
  {
    "text": "look like in our cluster so I think everybody can see that we've pre-recorded it to speed things up so we",
    "start": "965420",
    "end": "972410"
  },
  {
    "start": "967000",
    "end": "1011000"
  },
  {
    "text": "can get the cluster and see what it looks like actually in production oh",
    "start": "972410",
    "end": "983800"
  },
  {
    "text": "okay I just did a get on deployment pods in service and the PVC so if you look",
    "start": "983800",
    "end": "988910"
  },
  {
    "text": "there is one deployment picture gallery and we have one pod running with it and",
    "start": "988910",
    "end": "993950"
  },
  {
    "text": "apart from that we have three volumes so we have this my sequel and then we have the config and then we have the pictures",
    "start": "993950",
    "end": "1000340"
  },
  {
    "text": "we can also go and look at what the UI looks like for this that will give us a better idea of what kind of an app we",
    "start": "1000340",
    "end": "1006550"
  },
  {
    "text": "are dealing with so hey look it's Pippy",
    "start": "1006550",
    "end": "1014020"
  },
  {
    "text": "and we have 12 pictures over here it's a simple picture gallery VP's crying he'll",
    "start": "1014020",
    "end": "1019870"
  },
  {
    "text": "get back to it later and so it's a typical application which is using some",
    "start": "1019870",
    "end": "1024910"
  },
  {
    "text": "persistent volumes and now we need to backup and restore an application like this so for that we're going to",
    "start": "1024910",
    "end": "1030520"
  },
  {
    "text": "introduce a tool our tool urs canister it's an open source project what it does",
    "start": "1030520",
    "end": "1035890"
  },
  {
    "text": "is it's going to help you plan your data protection workflows and it's going to use kubernetes custom resources for that",
    "start": "1035890",
    "end": "1041860"
  },
  {
    "text": "so that gives you a single pane of control if you know how to use coop cutter you know how to use canister it's",
    "start": "1041860",
    "end": "1047709"
  },
  {
    "text": "as simple as that and another important thing is canister has its own primitives",
    "start": "1047710",
    "end": "1052750"
  },
  {
    "text": "for data capture to and from a variety of data sources so you you can have a block storage have your local file",
    "start": "1052750",
    "end": "1058810"
  },
  {
    "text": "system my sequel Postgres canister has a lot of primitives for data capture and the most important thing that even",
    "start": "1058810",
    "end": "1064910"
  },
  {
    "text": "mentioned before is we all have a data protection plan but we need somebody to orchestrate all the workflow for us like",
    "start": "1064910",
    "end": "1071090"
  },
  {
    "text": "we saw in the Postgres example there's a bunch of extra steps that are needed to have a complete data protection story so",
    "start": "1071090",
    "end": "1076940"
  },
  {
    "text": "canister will help you orchestrate that so you just tell it the tell canister what workflow needs to be done it will",
    "start": "1076940",
    "end": "1082340"
  },
  {
    "text": "execute all the steps all the queuing everything will be taken care of for you so let's get back to the app and see",
    "start": "1082340",
    "end": "1088460"
  },
  {
    "text": "what a backup boxer would look like so if you remember our app has a single pod",
    "start": "1088460",
    "end": "1093710"
  },
  {
    "text": "and it has a couple of volumes so a typical backup workflow would be something like this we will first go and",
    "start": "1093710",
    "end": "1099680"
  },
  {
    "text": "discover the volumes then we need to snapshot the PVC is on the underlying volumes and then lastly we need to store",
    "start": "1099680",
    "end": "1106880"
  },
  {
    "text": "the snapshot information somewhere so it could be some backup storage which is local or it could be in cloud I know how",
    "start": "1106880",
    "end": "1112940"
  },
  {
    "text": "does canister help you do this so in canister we define something called as the blueprint which is the",
    "start": "1112940",
    "end": "1118490"
  },
  {
    "text": "kubernetes custom resource so let's start writing the blueprint since it's a kubernetes resource we have the typical",
    "start": "1118490",
    "end": "1125690"
  },
  {
    "text": "API version and kind in there and next up we are going to define something called as actions so we're going to tell",
    "start": "1125690",
    "end": "1132260"
  },
  {
    "text": "it that you are going to this blueprint has a bunch of actions the first one we are going to define is backup so for",
    "start": "1132260",
    "end": "1137540"
  },
  {
    "text": "backup is an action and it's working on type deployment so this blueprint is telling what needs to be done for this",
    "start": "1137540",
    "end": "1143030"
  },
  {
    "text": "action and it's working on type deployment say instead of deployment we could have stateful sets or any other",
    "start": "1143030",
    "end": "1149270"
  },
  {
    "text": "kubernetes resource this particular blueprint is working on our picture gallery which is a deployment which is",
    "start": "1149270",
    "end": "1154670"
  },
  {
    "text": "why the type here is deployment so next up is output artifacts or if you see the third step is you need to push the",
    "start": "1154670",
    "end": "1160820"
  },
  {
    "text": "backup in for somewhere into backup storage so the backup info in there is location details where you want they",
    "start": "1160820",
    "end": "1166910"
  },
  {
    "text": "have to go and the last but the most important is phases so these are the steps in the workflow that needs to be",
    "start": "1166910",
    "end": "1173150"
  },
  {
    "text": "captured for a backup action so here we are using an inbuilt canister function called create volume snapshot it's a",
    "start": "1173150",
    "end": "1179870"
  },
  {
    "text": "canister primitive which will help you discover the PVCs then it will snapshot the underlying volumes and lastly it",
    "start": "1179870",
    "end": "1185570"
  },
  {
    "text": "will push the backup in for using the backup info at effects that we have mentioned before so this is how a backup",
    "start": "1185570",
    "end": "1191720"
  },
  {
    "text": "blueprint would look like now let's continue writing this blueprint but first let's look at restore workflow so",
    "start": "1191720",
    "end": "1196880"
  },
  {
    "text": "assume we have a backup everything in place now something went wrong so we wanna do a restore so for",
    "start": "1196880",
    "end": "1202330"
  },
  {
    "text": "our application the restore steps would probably be look like first we need to scale down the application then we",
    "start": "1202330",
    "end": "1208210"
  },
  {
    "text": "should delete the existing PVCs then we should create the new PVCs from the snapshot that we have taken already",
    "start": "1208210",
    "end": "1214120"
  },
  {
    "text": "and then finally scale the application back up so let's continue writing the blueprint and this time we will define a",
    "start": "1214120",
    "end": "1219820"
  },
  {
    "text": "new action restore so again the action is restore it's working on type deployment and here instead of output",
    "start": "1219820",
    "end": "1226809"
  },
  {
    "text": "artifacts we have input artifacts so since the restore needs information about the snapshot where it's coming from where it's stored all the",
    "start": "1226809",
    "end": "1233260"
  },
  {
    "text": "information goes in over here and the next step is phases now back up a simple in restore we have a couple more phases",
    "start": "1233260",
    "end": "1239800"
  },
  {
    "text": "so first up we are using the cannister and will function to scale the workload down next up we are doing create volumes",
    "start": "1239800",
    "end": "1246400"
  },
  {
    "text": "from snapshot which is another cannister inbuilt function you are as you can see it's using the backup info to get",
    "start": "1246400",
    "end": "1251950"
  },
  {
    "text": "information for where the volume snapshot lies in and lastly we are going to scale the workload back up so I'm going to",
    "start": "1251950",
    "end": "1259270"
  },
  {
    "text": "pause here for a minute for you to take in all the information it's a blue it's a blue print is again a custom resource",
    "start": "1259270",
    "end": "1264970"
  },
  {
    "text": "in kubernetes so it's a simple Yambol file what we are doing is video we are defining the actions you are for this",
    "start": "1264970",
    "end": "1270610"
  },
  {
    "text": "application we have backup and restore and then we are defining the phases that go along with it so we can go back to",
    "start": "1270610",
    "end": "1276550"
  },
  {
    "text": "the demo and see how canister is actually doing this in action so let's",
    "start": "1276550",
    "end": "1282340"
  },
  {
    "start": "1281000",
    "end": "1369000"
  },
  {
    "text": "go back to the demo I'm using something called as can cuddle which is the canister tool which is helping us create",
    "start": "1282340",
    "end": "1287920"
  },
  {
    "text": "a custom resource called action set and action set helps you execute the blueprint that we just defined so again",
    "start": "1287920",
    "end": "1295030"
  },
  {
    "text": "it's a kubernetes custom resource you could have all this information in a Yaman if you're more comfortable with that and you scoop cuddle applied to do",
    "start": "1295030",
    "end": "1301390"
  },
  {
    "text": "that we're just using can't cuddle because it's easier to create for clear to CR through this so we are doing a",
    "start": "1301390",
    "end": "1307240"
  },
  {
    "text": "create on action set the action type here is backup since we want to execute the backup part first and then we are",
    "start": "1307240",
    "end": "1314080"
  },
  {
    "text": "telling that we only use the blueprint that we just defined so we are telling it blueprint as picture gallery and we",
    "start": "1314080",
    "end": "1319330"
  },
  {
    "text": "are telling that do this on the deployment picture gallery which is in the canister namespace so we are giving",
    "start": "1319330",
    "end": "1324580"
  },
  {
    "text": "can cuddle all the information it needs to start executing the blueprint last up is profile which is the backup",
    "start": "1324580",
    "end": "1330700"
  },
  {
    "text": "information that remain so it has all the location details that it needs and as simple as that an action",
    "start": "1330700",
    "end": "1336789"
  },
  {
    "text": "set was created by can cuddle so what can cuddle did is it created a custom resource it validated it and then it",
    "start": "1336789",
    "end": "1342549"
  },
  {
    "text": "applied to to kubernetes if you are como comfortable riding a Yamaha also perfectly fine again action set is a",
    "start": "1342549",
    "end": "1350200"
  },
  {
    "text": "kubernetes custom resource so we can do a cube cuddle describe and get the information for the action set so let's",
    "start": "1350200",
    "end": "1356019"
  },
  {
    "text": "do that",
    "start": "1356019",
    "end": "1358230"
  },
  {
    "text": "so I'm gonna pause if you see at the bottom of the page you can see a bunch of events that this action said went",
    "start": "1369340",
    "end": "1375249"
  },
  {
    "text": "through so first stop was started it started to execute the backup or action next up since the backup workflow if you",
    "start": "1375249",
    "end": "1382269"
  },
  {
    "text": "remember just had one phase so that was the backing up the volume so it started executing that phase and then once that",
    "start": "1382269",
    "end": "1388269"
  },
  {
    "text": "was completed marked the status as complete for this particular action set so the action set is marked complete and",
    "start": "1388269",
    "end": "1394149"
  },
  {
    "text": "if we scroll up we can see that for every volume that the snapshot was taken for we have something called as volume",
    "start": "1394149",
    "end": "1401049"
  },
  {
    "text": "snapshot at four so that has all the snapshot ID all the metadata ID needs which can be used later on for restore",
    "start": "1401049",
    "end": "1406720"
  },
  {
    "text": "so for every volume we have all the data we need do in this action set for the backup that we just took now let's go",
    "start": "1406720",
    "end": "1414249"
  },
  {
    "text": "back to the application let's go back to crying 50 and we'll go ahead and delete something and see if we can restore from",
    "start": "1414249",
    "end": "1420730"
  },
  {
    "text": "a backup so let's just yeah it's twelve pictures so I'm gonna go delete crying",
    "start": "1420730",
    "end": "1427240"
  },
  {
    "text": "fifty I don't like this picture I'm",
    "start": "1427240",
    "end": "1432850"
  },
  {
    "text": "gonna delete these two as well so now we have ten pictures and the story looks",
    "start": "1432850",
    "end": "1440980"
  },
  {
    "text": "incomplete and I don't think that's expected so I'm gonna try and restore and see if we can get crying 50 back so",
    "start": "1440980",
    "end": "1450190"
  },
  {
    "text": "let's go back to our demo in the terminal and again we are using canned cuddles",
    "start": "1450190",
    "end": "1455559"
  },
  {
    "text": "same thing it will create an action set but this time the action that we are asking it to perform is restore and the",
    "start": "1455559",
    "end": "1462999"
  },
  {
    "text": "input parameters are pretty simple since we already took a backup we are going to tell it that create this action set",
    "start": "1462999",
    "end": "1468490"
  },
  {
    "text": "restore from and the backup that we just created so as I mentioned before the backup has all the information we need",
    "start": "1468490",
    "end": "1474460"
  },
  {
    "text": "so the restore action is pretty simple it just gets the information from the backup and the action set is created and",
    "start": "1474460",
    "end": "1481149"
  },
  {
    "text": "again can Cardo created it for us we didn't have to do anything but if you're comfortable with the amyl you can do",
    "start": "1481149",
    "end": "1487299"
  },
  {
    "text": "that as well let's do a cube car will describe on this as well and see if the execution of this restore has begun",
    "start": "1487299",
    "end": "1496320"
  },
  {
    "text": "so as you can see the execution is still in progress it had a couple of phases",
    "start": "1502880",
    "end": "1508040"
  },
  {
    "start": "1503000",
    "end": "1578000"
  },
  {
    "text": "the first phase is done which is shutting down the board and then now it's in the volumes face so we are going",
    "start": "1508040",
    "end": "1514310"
  },
  {
    "text": "to do a weight on the volumes to see if they are bound so the my sequel and the",
    "start": "1514310",
    "end": "1519770"
  },
  {
    "text": "config file if you can see they are new and the pics is coming up so once that's",
    "start": "1519770",
    "end": "1524810"
  },
  {
    "text": "bound I the action set will go into the next phase which were scaling up the workload back up so we're gonna look at",
    "start": "1524810",
    "end": "1531620"
  },
  {
    "text": "the action set again to see where it's at as you can see the first and the",
    "start": "1531620",
    "end": "1537110"
  },
  {
    "text": "second phase is completed we are in the third phase of bringing the pods up so let's just look at the pod status and",
    "start": "1537110",
    "end": "1542720"
  },
  {
    "text": "see if it's up and the pod seems to be",
    "start": "1542720",
    "end": "1547880"
  },
  {
    "text": "running so we can just go back and see check on our deployments see if everything is in place the way we",
    "start": "1547880",
    "end": "1553430"
  },
  {
    "text": "expected it to be like the deployment the pods and the volumes so as you can",
    "start": "1553430",
    "end": "1560570"
  },
  {
    "text": "see we have the deployment from before the same picture gallery deployment but now it has a new pod and new volumes to",
    "start": "1560570",
    "end": "1567260"
  },
  {
    "text": "it hopefully it has restored crying 50 and we will go back and look at the UI to see if that's in place so let's",
    "start": "1567260",
    "end": "1579200"
  },
  {
    "start": "1578000",
    "end": "1658000"
  },
  {
    "text": "refresh and yes there are twelve pictures and crying Phoebe's back happy",
    "start": "1579200",
    "end": "1584540"
  },
  {
    "text": "to be restored and all the story is complete",
    "start": "1584540",
    "end": "1589840"
  },
  {
    "text": "so back to the blueprint so that is how a canister helps you execute your",
    "start": "1595270",
    "end": "1601030"
  },
  {
    "text": "workflows for you that's what we mean by orchestration so we define the blueprint it works on a type deployment we gave it",
    "start": "1601030",
    "end": "1606610"
  },
  {
    "text": "all the phases it needed and then we use canister to help orchestrate that now this blueprint is pretty generic as you",
    "start": "1606610",
    "end": "1612850"
  },
  {
    "text": "can see it is working on PVCs so the backup phase is pretty simple the restore phase is comparatively simple",
    "start": "1612850",
    "end": "1618280"
  },
  {
    "text": "you can customize this blueprint as per your need since this is working on PVCs on a deployment I can actually reuse it",
    "start": "1618280",
    "end": "1624880"
  },
  {
    "text": "for another example but I can also customize it to my application so maybe my application needs some pre pre and",
    "start": "1624880",
    "end": "1631450"
  },
  {
    "text": "post hooks or maybe I want to use a typical third-party tool like my sequel dump or something in the middle I can",
    "start": "1631450",
    "end": "1637390"
  },
  {
    "text": "add that as well a blueprints are meant to be like shareable and you can customize them as per your need you can",
    "start": "1637390",
    "end": "1643510"
  },
  {
    "text": "keep them as simple as you want or you can keep them as a kind of detail as you",
    "start": "1643510",
    "end": "1650170"
  },
  {
    "text": "want and we have a few on the website so you can go check them out as well I'll get I'll show the link later so here's",
    "start": "1650170",
    "end": "1658930"
  },
  {
    "text": "the link for canister the first one which we just discussed it's an open source project so the picture gallery app that I just discussed is on there",
    "start": "1658930",
    "end": "1665620"
  },
  {
    "text": "with all the steps that you need to execute it there's also a bunch of other examples like my sequel and Postgres you",
    "start": "1665620",
    "end": "1671380"
  },
  {
    "text": "can go go and look the next if you want an enterprise version of this we have a website on cashton you can go check that",
    "start": "1671380",
    "end": "1677440"
  },
  {
    "text": "out apart from that as I can see that the community is being very active especially for stateful applications and",
    "start": "1677440",
    "end": "1683920"
  },
  {
    "text": "backup and restore there's a bunch of other projects that are worthy of mention like art then there's reshift or there's also kubernetes snapshot this -",
    "start": "1683920",
    "end": "1691180"
  },
  {
    "text": "and if you look at the last link the community has created an exhaustive list",
    "start": "1691180",
    "end": "1697240"
  },
  {
    "text": "of projects that are there so all things stateful is there at that link and we have uploaded the slides so you can go",
    "start": "1697240",
    "end": "1702730"
  },
  {
    "text": "and have a look at them at your ease now what we just discussed was definitely important but there are some other",
    "start": "1702730",
    "end": "1708580"
  },
  {
    "start": "1705000",
    "end": "1741000"
  },
  {
    "text": "topics that we couldn't get to today which are equally important when you're thinking about a data protection strategy so you need to think about",
    "start": "1708580",
    "end": "1714490"
  },
  {
    "text": "cataloguing your snapshots and your backup you also need to think about scheduling and retirement of these as",
    "start": "1714490",
    "end": "1720070"
  },
  {
    "text": "well as you need to be able to validate your snapshots because a snapshot is not useful until you have restored from it",
    "start": "1720070",
    "end": "1725530"
  },
  {
    "text": "so you need to have a plan for validation and staying of these snapshots and lastly all this you need to be able to",
    "start": "1725530",
    "end": "1731250"
  },
  {
    "text": "integrate into CI CD we had a talk yesterday on this hopefully you guys made to it but if you didn't look for",
    "start": "1731250",
    "end": "1737520"
  },
  {
    "text": "the slides they will be up and you will get a more detailed version of that that's it from us for now I think we",
    "start": "1737520",
    "end": "1743100"
  },
  {
    "start": "1741000",
    "end": "2091000"
  },
  {
    "text": "will take questions but if you want to discuss something offline or in detail we have a booth so please come check us",
    "start": "1743100",
    "end": "1748470"
  },
  {
    "text": "out over there and I think I'll open the floor for questions thank you are you",
    "start": "1748470",
    "end": "1767790"
  },
  {
    "text": "talking about in this particular example right so the question was where does we",
    "start": "1767790",
    "end": "1774450"
  },
  {
    "text": "talked about scheduling where does the schedule live when it comes to canister blueprint so canister itself does not",
    "start": "1774450",
    "end": "1779610"
  },
  {
    "text": "have scheduling you can build a schedule around it whether you want to use cron jobs or or any other tool yeah exactly",
    "start": "1779610",
    "end": "1786690"
  },
  {
    "text": "and the other one I was gonna say is that we're also seeing a lot of people integrate this into pipeline so CI CD so",
    "start": "1786690",
    "end": "1793650"
  },
  {
    "text": "use that as a scheduler as well if that if that's a better option",
    "start": "1793650",
    "end": "1799190"
  },
  {
    "text": "canister can work within any online cloud provider or even your local on-prem storage so it's a framework you",
    "start": "1803920",
    "end": "1811220"
  },
  {
    "text": "can plug and play with it as you wish whichever cloud provider it doesn't matter yes yes you can and something",
    "start": "1811220",
    "end": "1819290"
  },
  {
    "text": "we're doing as well I mean we you know you can ping us on slack over there if",
    "start": "1819290",
    "end": "1824510"
  },
  {
    "text": "you want if you're looking for something specific what we are planning to do with canister is really and what I should",
    "start": "1824510",
    "end": "1830750"
  },
  {
    "text": "have mentioned all year is the community is doing a lot of work with volume snapshots and CSI and so our goal is to",
    "start": "1830750",
    "end": "1836630"
  },
  {
    "text": "make sure we support that right now that's not there's still alpha so what we're doing is for storage providers we",
    "start": "1836630",
    "end": "1842960"
  },
  {
    "text": "pick one and we go and implement the snapshotting capability but as soon as that shows up we'll start using that and",
    "start": "1842960",
    "end": "1849050"
  },
  {
    "text": "I'll open up a lot of more providers for us",
    "start": "1849050",
    "end": "1853510"
  },
  {
    "text": "well canister is definitely a tool that you can use for that and I don't know if the question is specific to Kanna",
    "start": "1872899",
    "end": "1878539"
  },
  {
    "text": "stories gent in general okay so thank",
    "start": "1878539",
    "end": "1885109"
  },
  {
    "text": "you so the question was what's the feasibility of orchestrating a cluster restore with a tool like canister so",
    "start": "1885109",
    "end": "1891470"
  },
  {
    "text": "we've definitely actually done this in practice Deepika mentioned k10 something",
    "start": "1891470",
    "end": "1896539"
  },
  {
    "text": "that we work on which is more enterprise but that actually uses canister under the covers and is something that we do",
    "start": "1896539",
    "end": "1901759"
  },
  {
    "text": "use in practice one of the things to consider is backup storage and this is",
    "start": "1901759",
    "end": "1908749"
  },
  {
    "text": "one of the reasons why I would highly recommend using object storage for this tends to be scale out give you the",
    "start": "1908749",
    "end": "1914119"
  },
  {
    "text": "performance you need and plugs in really well into this environment",
    "start": "1914119",
    "end": "1919600"
  },
  {
    "text": "the question was on the back end you should be able to integrate with any storage provider if it's a PVC so that's",
    "start": "1929640",
    "end": "1936700"
  },
  {
    "text": "yes and that's correct at this point of time we do leverage volume snapshot",
    "start": "1936700",
    "end": "1942460"
  },
  {
    "text": "functionality so it really and since that's not surfaced as a standard API yet the API is in alpha and the CSI",
    "start": "1942460",
    "end": "1949450"
  },
  {
    "text": "providers drivers are getting to one oh so what that means right now is that you",
    "start": "1949450",
    "end": "1955330"
  },
  {
    "text": "every provider you want to support you need to go and understand the infrastructure go call those provider",
    "start": "1955330",
    "end": "1960580"
  },
  {
    "text": "api's so we're adding support for we already have AWS they're Google IBM safe",
    "start": "1960580",
    "end": "1968710"
  },
  {
    "text": "and those should start to show up soon but really our goal a roadmap is to",
    "start": "1968710",
    "end": "1973720"
  },
  {
    "text": "really align with the CSI and the volume snapshot API is from kubernetes it",
    "start": "1973720",
    "end": "1981690"
  },
  {
    "text": "exactly if you are doing a CSI driver finger provider then then then it will",
    "start": "1981690",
    "end": "1986740"
  },
  {
    "text": "work and we're working on that I yes I do know about you question was does open",
    "start": "1986740",
    "end": "1999250"
  },
  {
    "text": "EBS have the features that you need for this I believe it does I believe it does have a snapshot API I do not know if",
    "start": "1999250",
    "end": "2005010"
  },
  {
    "text": "they have a CSI provider but I know there's someone here who can comment on that and tell us do you have a CSI",
    "start": "2005010",
    "end": "2010860"
  },
  {
    "text": "provider for open EBS it's coming with snapshots all right so soon question",
    "start": "2010860",
    "end": "2024200"
  },
  {
    "text": "so the question was do you support incremental backups to answer that there",
    "start": "2025570",
    "end": "2032600"
  },
  {
    "text": "a variety of cases where we do support incremental backups so canister allows you to hook in at the application level",
    "start": "2032600",
    "end": "2039410"
  },
  {
    "text": "when it comes to databases and if so if you look at the examples on the website when it comes to something like Postgres",
    "start": "2039410",
    "end": "2044960"
  },
  {
    "text": "it we do support incremental backups over there and in fact we offer point in time recovery as well because we're",
    "start": "2044960",
    "end": "2050210"
  },
  {
    "text": "using physical backups and walls when you're dealing with volume snapshots often the volume snapshot the storage",
    "start": "2050210",
    "end": "2057080"
  },
  {
    "text": "provider will do incremental backups so we get some of it over there and then finally when we're dealing with storage",
    "start": "2057080",
    "end": "2062300"
  },
  {
    "text": "providers that don't have volume incremental support we use filesystem we",
    "start": "2062300",
    "end": "2067700"
  },
  {
    "text": "use a tool called Rustique which gives us deduplication and so you can build an incremental story over there",
    "start": "2067700",
    "end": "2073720"
  },
  {
    "text": "questions anything else this is great",
    "start": "2077200",
    "end": "2082210"
  },
  {
    "text": "okay thank you very much I hope this was helpful come find us",
    "start": "2082210",
    "end": "2088628"
  }
]