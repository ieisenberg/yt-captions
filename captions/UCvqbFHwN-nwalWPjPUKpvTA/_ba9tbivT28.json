[
  {
    "text": "so our story uh started pretty early um demonware has been around for over 20",
    "start": "240",
    "end": "6080"
  },
  {
    "text": "years uh providing services to games um I think like they Activision acquired",
    "start": "6080",
    "end": "12679"
  },
  {
    "text": "them so they were providing games before that but um we originally just ran on",
    "start": "12679",
    "end": "18240"
  },
  {
    "text": "bare metal um it was quite normal back then to do that um as time progressed",
    "start": "18240",
    "end": "23400"
  },
  {
    "text": "and the internet grew we had to change how we did things so we introduced",
    "start": "23400",
    "end": "29320"
  },
  {
    "text": "charting to our bare metal databases and it worked for a",
    "start": "29320",
    "end": "34640"
  },
  {
    "text": "while um as time went on and our catalog grew we had to adapt so we thought hey",
    "start": "34640",
    "end": "40840"
  },
  {
    "text": "why don't we you know use uh KVM and lxc to build you know make it more flexible",
    "start": "40840",
    "end": "47199"
  },
  {
    "text": "and and give us the uh you know build an orchestration layer in there and and make it more manageable and that that",
    "start": "47199",
    "end": "53039"
  },
  {
    "text": "was good um until yeah we hit thousands of databases and then it became kind of",
    "start": "53039",
    "end": "58760"
  },
  {
    "text": "unmanageable um so we started building something on top of that which um",
    "start": "58760",
    "end": "64760"
  },
  {
    "text": "managed the connections and managed the uh failovers and the errors and all that and it worked but uh yeah we we uh were",
    "start": "64760",
    "end": "74040"
  },
  {
    "text": "kind of you know still like a little bit stressed by it so as we uh continued through there we",
    "start": "74040",
    "end": "82360"
  },
  {
    "text": "investigated um some different you know things and and it came that uh we kind",
    "start": "82360",
    "end": "88880"
  },
  {
    "text": "of like figured out the challenges that we were looking for so Vlad is gonna talk about",
    "start": "88880",
    "end": "93920"
  },
  {
    "text": "that yeah we started seeing multiple operational issues which uh were a",
    "start": "93920",
    "end": "101759"
  },
  {
    "text": "challenges for us when we when we started to uh find Solutions how to fix",
    "start": "101759",
    "end": "107719"
  },
  {
    "text": "them uh what we did is we worked with multiple service teams and we identified",
    "start": "107719",
    "end": "113880"
  },
  {
    "text": "few key areas uh of the issues that those teams were seeing",
    "start": "113880",
    "end": "121520"
  },
  {
    "text": "first area was around scalability um Activision Lunes uh several AAA uh game",
    "start": "121520",
    "end": "131080"
  },
  {
    "text": "titles every year um a game Lounge is a",
    "start": "131080",
    "end": "136519"
  },
  {
    "text": "very important even for us where um many millions players will show up at the",
    "start": "136519",
    "end": "143760"
  },
  {
    "text": "same date uh around the same time and this is um maybe a very pleasant",
    "start": "143760",
    "end": "153720"
  },
  {
    "text": "problem to have for a business but it's a very big technical challenge to to",
    "start": "153720",
    "end": "159760"
  },
  {
    "text": "solve um to have a smooth experience uh for the G uh game Lounge we prepare many",
    "start": "159760",
    "end": "166599"
  },
  {
    "text": "months before and we spend a lot of time low testing low testing",
    "start": "166599",
    "end": "172480"
  },
  {
    "text": "how uh the new game client behaves what are the new workloads that are that we",
    "start": "172480",
    "end": "177800"
  },
  {
    "text": "are seeing from the new game typ title but we also try to predict how many",
    "start": "177800",
    "end": "184720"
  },
  {
    "text": "players will show up on the on the lounge date um it's not always possible to predict",
    "start": "184720",
    "end": "194200"
  },
  {
    "text": "um exactly how many players will show up so um we what we tend to do is we uh",
    "start": "194200",
    "end": "202159"
  },
  {
    "text": "over overbuild our uh database uh platform to handle any potential Peak",
    "start": "202159",
    "end": "208959"
  },
  {
    "text": "that we might be seeing during during the lunch you will think as as the time goes",
    "start": "208959",
    "end": "216879"
  },
  {
    "text": "and uh the workload decreases after game is launched uh you would think that we",
    "start": "216879",
    "end": "223400"
  },
  {
    "text": "we would decrease the the capacity of the database to in order to save",
    "start": "223400",
    "end": "228760"
  },
  {
    "text": "resources that sounds logical uh it's not that easy though um",
    "start": "228760",
    "end": "234799"
  },
  {
    "text": "we were able to scale out our database in certain",
    "start": "234799",
    "end": "240239"
  },
  {
    "text": "hecky way but um we weren't really able to um scale down without having a",
    "start": "240239",
    "end": "247400"
  },
  {
    "text": "significant player impact that's why we actually never or",
    "start": "247400",
    "end": "253400"
  },
  {
    "text": "like very long time ago uh scaled down our database after after we we had",
    "start": "253400",
    "end": "260519"
  },
  {
    "text": "launched another scalability issue which I would mention is about Connections uh",
    "start": "260519",
    "end": "266120"
  },
  {
    "text": "since our um application layer uh has no",
    "start": "266120",
    "end": "271800"
  },
  {
    "text": "um database connection pooling at all um we were seeing databases running with",
    "start": "271800",
    "end": "278160"
  },
  {
    "text": "more than 10,000 connections which was extremely painful",
    "start": "278160",
    "end": "283240"
  },
  {
    "text": "and uh was causing um MySQL performance issues uh related to CPU and um and the",
    "start": "283240",
    "end": "292759"
  },
  {
    "text": "memory another area is about operational burden um at our scale um",
    "start": "293199",
    "end": "300160"
  },
  {
    "text": "we see failures Hardware failures happening every day um those affect",
    "start": "300160",
    "end": "307160"
  },
  {
    "text": "databases uh we had quite thorough Automation in place to uh automatically",
    "start": "307160",
    "end": "315520"
  },
  {
    "text": "REM remediate the a primary failover so like if if my SQL primary went down uh",
    "start": "315520",
    "end": "321319"
  },
  {
    "text": "it would have been automatically uh failed over to one of the replicas but still there was a lot of",
    "start": "321319",
    "end": "328639"
  },
  {
    "text": "operational overhead for on Call that had to run a manual unble automation to",
    "start": "328639",
    "end": "335479"
  },
  {
    "text": "replace missing my SQL note",
    "start": "335479",
    "end": "341280"
  },
  {
    "text": "um we run on premise we run in in a data",
    "start": "341280",
    "end": "347440"
  },
  {
    "text": "center that um we've RAR seen large scale issues with but I'm not saying",
    "start": "347440",
    "end": "355120"
  },
  {
    "text": "like we haven't had any issues we we have had few large scale uh like infra",
    "start": "355120",
    "end": "362720"
  },
  {
    "text": "failur that resulted in in many many um",
    "start": "362720",
    "end": "367800"
  },
  {
    "text": "uh engineering hours uh to fix um broken",
    "start": "367800",
    "end": "373039"
  },
  {
    "text": "myle replicas what we saw is that uh um myle replicas at least in in our case um",
    "start": "373039",
    "end": "381919"
  },
  {
    "text": "broke in a in a ways that uh they couldn't couldn't have been used as the",
    "start": "381919",
    "end": "387800"
  },
  {
    "text": "as the new potential primaries we just had to replace them and we had to replace several hundreds of such",
    "start": "387800",
    "end": "394120"
  },
  {
    "text": "broken replicas so if such thing happened it was extremely",
    "start": "394120",
    "end": "400919"
  },
  {
    "text": "painful um as I mentioned earlier we were lacking a robust scaling solution",
    "start": "400919",
    "end": "409319"
  },
  {
    "text": "uh we were somewhat we were able to scale out but",
    "start": "409319",
    "end": "415680"
  },
  {
    "text": "only by uh doubling number of charts that was not ideal",
    "start": "415680",
    "end": "421080"
  },
  {
    "text": "because uh scaling by doubling is probably not very uh resource efficient",
    "start": "421080",
    "end": "428120"
  },
  {
    "text": "if you just want to add only let's say 10% the last area which we identified",
    "start": "428120",
    "end": "436479"
  },
  {
    "text": "was about the setup complexity um um",
    "start": "436479",
    "end": "442319"
  },
  {
    "text": "demonware operates in multiple um platform and service teams uh service",
    "start": "442319",
    "end": "448599"
  },
  {
    "text": "teams uh own their own uh database operations um as",
    "start": "448599",
    "end": "456160"
  },
  {
    "text": "such um each team is required to have at",
    "start": "456160",
    "end": "461360"
  },
  {
    "text": "least certain level of database operations experience",
    "start": "461360",
    "end": "466919"
  },
  {
    "text": "um that's not always true for every team um and some teams were delayed",
    "start": "466919",
    "end": "475560"
  },
  {
    "text": "by by this because they they had to wait for basically they had to wait for help",
    "start": "475560",
    "end": "480599"
  },
  {
    "text": "from other teams uh",
    "start": "480599",
    "end": "486280"
  },
  {
    "text": "database large scale database buildout and we are talking about the database with over 100 charts took very long time",
    "start": "486280",
    "end": "493960"
  },
  {
    "text": "it took between two and three days and uh this was not acceptable for um",
    "start": "493960",
    "end": "501759"
  },
  {
    "text": "development agility when you wanted to iterate on the database quickly when you",
    "start": "501759",
    "end": "506919"
  },
  {
    "text": "wanted to change configuration try different things drop database build database uh um it was delaying",
    "start": "506919",
    "end": "516320"
  },
  {
    "text": "us uh schema migrations were also hard to execute by certain",
    "start": "516320",
    "end": "523719"
  },
  {
    "text": "teams uh those required High experience running",
    "start": "523719",
    "end": "530600"
  },
  {
    "text": "database in production they require very careful planning and execution so that",
    "start": "530600",
    "end": "538240"
  },
  {
    "text": "often uh led to delays in um in",
    "start": "538240",
    "end": "543560"
  },
  {
    "text": "development workflows and that led us to finding a",
    "start": "543560",
    "end": "551040"
  },
  {
    "text": "solution that would address these key areas so yeah the next um section is the",
    "start": "551040",
    "end": "558120"
  },
  {
    "text": "tech adoption so uh I ran the tech adoption for vest at demonware",
    "start": "558120",
    "end": "564040"
  },
  {
    "text": "um yeah so we started by doing a NextGen DB evaluation we set a bunch of criteria",
    "start": "564040",
    "end": "571240"
  },
  {
    "text": "this is you know with six of them but I think we had 100 in the in the spreadsheet and we kind of went through",
    "start": "571240",
    "end": "577760"
  },
  {
    "text": "many different products um all of them were",
    "start": "577760",
    "end": "583560"
  },
  {
    "text": "working at some level but um we decided that uh the the the major things that we",
    "start": "583560",
    "end": "589880"
  },
  {
    "text": "wanted were the SQL career compatibility um so that the application",
    "start": "589880",
    "end": "595640"
  },
  {
    "text": "didn't really have to change anything um we wanted it to run myql in the back end",
    "start": "595640",
    "end": "601079"
  },
  {
    "text": "if possible uh we were currently when we started this we were uh looking at our",
    "start": "601079",
    "end": "608600"
  },
  {
    "text": "platform and we were saying okay well everything is kind of moving towards kubernetes internally in the company so",
    "start": "608600",
    "end": "614519"
  },
  {
    "text": "it would be nice if we found something that was kubernetes native um a bonus feature would be that it provides an",
    "start": "614519",
    "end": "620399"
  },
  {
    "text": "operator uh after taking these all into account we evaluated and uh yeah vest",
    "start": "620399",
    "end": "626040"
  },
  {
    "text": "came out as a pretty clear winner",
    "start": "626040",
    "end": "630320"
  },
  {
    "text": "um when we started the adoption process post um you know testing and and you",
    "start": "631200",
    "end": "637920"
  },
  {
    "text": "know that we uh discovered that vitess was a near drop in replacement for um",
    "start": "637920",
    "end": "643959"
  },
  {
    "text": "most of the services that we had targeted um one of the things that was great about it was that we had a bunch",
    "start": "643959",
    "end": "650399"
  },
  {
    "text": "of MySQL expertise on staff uh those people when we you know had problems we",
    "start": "650399",
    "end": "656399"
  },
  {
    "text": "could just be like hey we're seeing this thing like what's going on in 99% of the time it it wasn't like a problem with",
    "start": "656399",
    "end": "662079"
  },
  {
    "text": "the test it was like you know oh hey we can change this or do this this way and it was fine um another big thing was",
    "start": "662079",
    "end": "668320"
  },
  {
    "text": "that there were a lot of success stories from other companies uh just kind of like in the community we we we heard",
    "start": "668320",
    "end": "673959"
  },
  {
    "text": "about um we start you know we joined the um the test slack and you know random people would come out and and see us",
    "start": "673959",
    "end": "681200"
  },
  {
    "text": "asking questions and just be like hey you know what's going on and you know I reached out to a bunch of people just like oh I see you asking questions so it",
    "start": "681200",
    "end": "686680"
  },
  {
    "text": "was a pretty Lively um community",
    "start": "686680",
    "end": "691240"
  },
  {
    "text": "um so we'll get like we we're going to talk about two main parts of the adoption um the small service uh which",
    "start": "691959",
    "end": "699240"
  },
  {
    "text": "was a a social service um that uh was not critical path and a large service",
    "start": "699240",
    "end": "705440"
  },
  {
    "text": "which was fairly business critical so I ran the um first track um of the small",
    "start": "705440",
    "end": "712240"
  },
  {
    "text": "service uh where we were doing a lot of platform things and Vlad ran the large",
    "start": "712240",
    "end": "717680"
  },
  {
    "text": "service so small service wise why we chose it it",
    "start": "717680",
    "end": "724320"
  },
  {
    "text": "uh well like the backstory of this is actually a little bit different so we had targeted to do a large service and",
    "start": "724320",
    "end": "729399"
  },
  {
    "text": "we were like okay well if we can do our most complex service then we can do any service and as time progressed we were",
    "start": "729399",
    "end": "735279"
  },
  {
    "text": "like no no that's that's actually not going to work so we uh we we I was actually walking on the seaw wall in",
    "start": "735279",
    "end": "741399"
  },
  {
    "text": "Vancouver with one of my co-workers and he was like why don't you take you know the the our group service and just like you know it's new it's it's it it",
    "start": "741399",
    "end": "748079"
  },
  {
    "text": "doesn't have any data you know just use that and I was like yeah okay let's",
    "start": "748079",
    "end": "753160"
  },
  {
    "text": "let's do that so like a few days later we we' started working on it um we got to start with fresh data which was quite",
    "start": "753160",
    "end": "759279"
  },
  {
    "text": "nice we didn't have to do a migration um as I mentioned in the previous uh slide it it wasn't in the critical login path",
    "start": "759279",
    "end": "766079"
  },
  {
    "text": "so if something did happen with it um during the proof of concept it wasn't going to block players from logging in",
    "start": "766079",
    "end": "772320"
  },
  {
    "text": "um another feature of it was it was very easy to make architectural changes to it",
    "start": "772320",
    "end": "777480"
  },
  {
    "text": "so we didn't end up making that many architectural changes but you know we we made some and it uh it was much easier",
    "start": "777480",
    "end": "784560"
  },
  {
    "text": "to do to a service that was not in production at the time um what this did",
    "start": "784560",
    "end": "790079"
  },
  {
    "text": "though was give us an opportunity to see what a a service would look like running",
    "start": "790079",
    "end": "796560"
  },
  {
    "text": "uh on our kubernetes platform so we had to do a lot of work with um you know how volumes were managed how you know the",
    "start": "796560",
    "end": "803800"
  },
  {
    "text": "the Pod disruption budgets the you know work all of those things out like we couldn't just go say Hey you know we're",
    "start": "803800",
    "end": "808959"
  },
  {
    "text": "going going to run v test on our kubernetes cluster because that I mean that just it it wasn't going to work so",
    "start": "808959",
    "end": "814440"
  },
  {
    "text": "we we spent a bit of time building this and integrating it into our into our platform uh which built a good Baseline",
    "start": "814440",
    "end": "820760"
  },
  {
    "text": "for uh other services uh so the timeline uh when we first started",
    "start": "820760",
    "end": "826920"
  },
  {
    "text": "looking at this for vzer we we weren't very serious about adopting it at the time um we kind of were like hey we",
    "start": "826920",
    "end": "833240"
  },
  {
    "text": "should build a proof of concept like there was a few engineers and we were like we should build a proof of concept of this and and see what it looks like running um so we were like if we're",
    "start": "833240",
    "end": "841440"
  },
  {
    "text": "going to build this you know and move it into our kubernetes platform maybe we build it parallel to what we have now",
    "start": "841440",
    "end": "848000"
  },
  {
    "text": "see how it runs and then migrate that into the kubernetes platform uh we",
    "start": "848000",
    "end": "853440"
  },
  {
    "text": "didn't get super far with that so we started doing it we got it running but",
    "start": "853440",
    "end": "858680"
  },
  {
    "text": "it just didn't seem like it wasn't there was no magic moment um so a little bit",
    "start": "858680",
    "end": "865759"
  },
  {
    "text": "of time passed and we were taking it a little more seriously and we moved to a V1 which was using the",
    "start": "865759",
    "end": "872360"
  },
  {
    "text": "now deprecated Helm charts and uh on our kubernetes platform and I think we kind of had like that magic moment where it",
    "start": "872360",
    "end": "878720"
  },
  {
    "text": "was like okay this this works and you know we we were we started we had tied this uh setup into the small service",
    "start": "878720",
    "end": "886120"
  },
  {
    "text": "that I was talking about we had run queries against it we had done even I believe some like minor load tests and",
    "start": "886120",
    "end": "891440"
  },
  {
    "text": "we were like okay this is this is this is real and um as we continued we were",
    "start": "891440",
    "end": "897160"
  },
  {
    "text": "like okay now we need to figure out like these operations burdens and the the other things we were talking about you know what how are we going to deal with",
    "start": "897160",
    "end": "903680"
  },
  {
    "text": "that so the helm chart was working good but we just you know it was missing something so we decided to be early",
    "start": "903680",
    "end": "911399"
  },
  {
    "text": "adopters of the operator which um you know it was it it it worked out of the",
    "start": "911399",
    "end": "917279"
  },
  {
    "text": "box um it was it was you know we could just throw our cluster definition in and",
    "start": "917279",
    "end": "923040"
  },
  {
    "text": "we had a a uh working um system there uh",
    "start": "923040",
    "end": "928279"
  },
  {
    "text": "it still it was it was great and we were like okay this is like almost on par with what we have like right now but it's",
    "start": "928279",
    "end": "934600"
  },
  {
    "text": "still like we like why this this feels like a vertical move and not a a like an upgrade so we decided to be I we may",
    "start": "934600",
    "end": "941800"
  },
  {
    "text": "have been one of the first um adopters of VOR which um we were we were we were",
    "start": "941800",
    "end": "948839"
  },
  {
    "text": "confused at how well it worked um we were doing bad things to clusters and it just wouldn't it wouldn't die so uh we",
    "start": "948839",
    "end": "956120"
  },
  {
    "text": "ended up shipping with our this V3 into to production uh for both the small",
    "start": "956120",
    "end": "961480"
  },
  {
    "text": "service and the large service and uh yeah so the proof of concept uh how it",
    "start": "961480",
    "end": "968639"
  },
  {
    "text": "actually went was it was uh like the previous slide with the timeline um it was pretty slow to start because there",
    "start": "968639",
    "end": "974160"
  },
  {
    "text": "was a lot of different ways we could do things um there was a lot of you know it felt like it wasn't just something you",
    "start": "974160",
    "end": "980040"
  },
  {
    "text": "could Google because there was not really anybody that you know was was running it like how we were running it",
    "start": "980040",
    "end": "986040"
  },
  {
    "text": "and we had a lot of you know platform requirements um um it turned out that our platform team was great and they",
    "start": "986040",
    "end": "992839"
  },
  {
    "text": "ended up um you know helping quite a bit and it went pretty smoothly um once we had it like fully",
    "start": "992839",
    "end": "999920"
  },
  {
    "text": "working and everything we started on the testing of the small service and it was",
    "start": "999920",
    "end": "1005519"
  },
  {
    "text": "ruthless because this is when the people come out of the woodwork and they're like what about this small Edge case",
    "start": "1005519",
    "end": "1011480"
  },
  {
    "text": "like what you know what's going to happen when this happens and it's like yeah I can I think this and they're like have you tested it and I'm like no so",
    "start": "1011480",
    "end": "1019000"
  },
  {
    "text": "there was a lot of edge case testing which which turned out to be very helpful um at the end um we ended up",
    "start": "1019000",
    "end": "1024558"
  },
  {
    "text": "testing uh Shard expansion uh up and down during uh one",
    "start": "1024559",
    "end": "1029760"
  },
  {
    "text": "of the uh larger betas um and it worked flawlessly for us uh we did vertical",
    "start": "1029760",
    "end": "1036280"
  },
  {
    "text": "scaling we tested that adding CPUs adding memory no issues and we did a lot",
    "start": "1036280",
    "end": "1041600"
  },
  {
    "text": "of recovery and uh error handling testing just deleting deleting shards deleting parts of shards deleting",
    "start": "1041600",
    "end": "1048199"
  },
  {
    "text": "everything bringing it back and it was it was uh the first time it happened I actually did it accidentally and then I",
    "start": "1048199",
    "end": "1054440"
  },
  {
    "text": "went to the washroom and came back and I was like why is this still running I deleted it and I was like looking at my history and looking at the events and I was like okay this is I was like I",
    "start": "1054440",
    "end": "1061120"
  },
  {
    "text": "didn't realize that the backups were something that were automatically triggered when the anyways H it was it",
    "start": "1061120",
    "end": "1066880"
  },
  {
    "text": "was unexpected but like quite nice um we started the",
    "start": "1066880",
    "end": "1072960"
  },
  {
    "text": "load testing and it went uh pretty well and uh you know during all of this we started building quite good relationship",
    "start": "1072960",
    "end": "1078840"
  },
  {
    "text": "ship with the open source Community um it was you know really really helpful uh",
    "start": "1078840",
    "end": "1083880"
  },
  {
    "text": "to have them they they helped out a lot um and then we launched uh and it was so",
    "start": "1083880",
    "end": "1090679"
  },
  {
    "text": "successful that nobody talked about it um until January when they were like okay we're going to look at a much",
    "start": "1090679",
    "end": "1096400"
  },
  {
    "text": "bigger service here and we're going to try and uh implement it for that which Vlad was mainly working on and he will",
    "start": "1096400",
    "end": "1103240"
  },
  {
    "text": "take over uh we had very great experience",
    "start": "1103240",
    "end": "1109480"
  },
  {
    "text": "from adoption on this small small service as Greg mentioned um we were",
    "start": "1109480",
    "end": "1116880"
  },
  {
    "text": "thinking okay what's next um what are our biggest pain what's our biggest pain",
    "start": "1116880",
    "end": "1124240"
  },
  {
    "text": "and where which Service uh has the biggest pain so we we're absolutely",
    "start": "1124240",
    "end": "1129960"
  },
  {
    "text": "clear about that we We are continuing with a a large business critical",
    "start": "1129960",
    "end": "1136840"
  },
  {
    "text": "service which you may think like oh that's that's really crazy like you you",
    "start": "1136840",
    "end": "1143200"
  },
  {
    "text": "just finished your small scale adoption like why are you picking the business",
    "start": "1143200",
    "end": "1149320"
  },
  {
    "text": "critical service well um the main reason was that we just",
    "start": "1149320",
    "end": "1155880"
  },
  {
    "text": "recently finished execution of um manual scaling",
    "start": "1155880",
    "end": "1162520"
  },
  {
    "text": "operation that had been very stressful and painful operation that uh took",
    "start": "1162520",
    "end": "1169400"
  },
  {
    "text": "several sleepless nights to finish and we we had committed ourselves that we",
    "start": "1169400",
    "end": "1176280"
  },
  {
    "text": "don't want to repeat those nights again and we want to fully automate the uh",
    "start": "1176280",
    "end": "1183640"
  },
  {
    "text": "next scaling operation for this large service",
    "start": "1183640",
    "end": "1189600"
  },
  {
    "text": "um what we picked we picked uh what we call inventory",
    "start": "1189840",
    "end": "1197159"
  },
  {
    "text": "service what is this service doing it stores it mainly stores player items so",
    "start": "1197159",
    "end": "1204080"
  },
  {
    "text": "you can think of inventory of what a player owns in the game uh examples",
    "start": "1204080",
    "end": "1210440"
  },
  {
    "text": "would be guns attachments like various modifications uh there are like even",
    "start": "1210440",
    "end": "1217240"
  },
  {
    "text": "things that you would not really consider to be items uh so like anything in the game that can be related to a",
    "start": "1217240",
    "end": "1224080"
  },
  {
    "text": "player and it's it's in in a way granted by certain achievements",
    "start": "1224080",
    "end": "1230559"
  },
  {
    "text": "it's huge the database is huge uh I'm not saying like we've reached these numbers in one year like it was over it",
    "start": "1231919",
    "end": "1239200"
  },
  {
    "text": "was over a few years but uh at recent Lounge this database",
    "start": "1239200",
    "end": "1245120"
  },
  {
    "text": "saw uh Bak requests at half million requests per",
    "start": "1245120",
    "end": "1250400"
  },
  {
    "text": "second um and the data size has been a",
    "start": "1250400",
    "end": "1255960"
  },
  {
    "text": "pain too uh we are seeing nearly two times increase in size every",
    "start": "1255960",
    "end": "1263039"
  },
  {
    "text": "two years which makes a like additional challenge up top on top",
    "start": "1263039",
    "end": "1270360"
  },
  {
    "text": "of uh of the request rate that that we are seeing",
    "start": "1270360",
    "end": "1276520"
  },
  {
    "text": "um how we tackle this uh we identified",
    "start": "1277120",
    "end": "1284039"
  },
  {
    "text": "few adoption high level adoption stages um we knew that it's not going to be",
    "start": "1284039",
    "end": "1292400"
  },
  {
    "text": "easy this this service has been around for uh more than eight years it's a big",
    "start": "1292400",
    "end": "1299600"
  },
  {
    "text": "monolith application with very complex business uh business logic uh full of",
    "start": "1299600",
    "end": "1306880"
  },
  {
    "text": "transactions uses foreign keys in the database uh so we knew that",
    "start": "1306880",
    "end": "1313320"
  },
  {
    "text": "uh it's going to take some time to to get there and if",
    "start": "1313320",
    "end": "1319080"
  },
  {
    "text": "if possible what we were trying to Define",
    "start": "1319080",
    "end": "1326240"
  },
  {
    "text": "is what actually an MVP for an existing service would mean in our case of",
    "start": "1326240",
    "end": "1332679"
  },
  {
    "text": "adoption vs so we we came up of a definition of",
    "start": "1332679",
    "end": "1339240"
  },
  {
    "text": "uh core uh core core functionality of uh of the service that we that we needed to be",
    "start": "1339240",
    "end": "1348159"
  },
  {
    "text": "running on vas it sounds easy you identify okay",
    "start": "1348159",
    "end": "1354640"
  },
  {
    "text": "this is important to my application but how how do you confirm that like such thing actually runs without any",
    "start": "1354640",
    "end": "1361360"
  },
  {
    "text": "disruptions on on your new database fortunately we had a very good",
    "start": "1361360",
    "end": "1369039"
  },
  {
    "text": "uh unit and integration test coverage so we we decided yeah why don't we use",
    "start": "1369039",
    "end": "1376840"
  },
  {
    "text": "those tests to to confirm that uh that our integration works on",
    "start": "1376840",
    "end": "1382159"
  },
  {
    "text": "vas initially when we run our first attempt uh it looked scary um about 50%",
    "start": "1382159",
    "end": "1390320"
  },
  {
    "text": "of the tests were failing and we were really uh I'm not saying like we were",
    "start": "1390320",
    "end": "1396080"
  },
  {
    "text": "not ready to give up but it felt overwhel overwhelming",
    "start": "1396080",
    "end": "1402559"
  },
  {
    "text": "um what we did is we we tried to like obviously you and oh I I need to mention",
    "start": "1402559",
    "end": "1409320"
  },
  {
    "text": "that uh it's about 4,000 unit tests that this uh that this uh service has and",
    "start": "1409320",
    "end": "1416240"
  },
  {
    "text": "like when you have 2,000 tests failing uh you won't go one by",
    "start": "1416240",
    "end": "1424039"
  },
  {
    "text": "one uh instead we Tred to find like similarities uh like why these tests are",
    "start": "1424039",
    "end": "1429120"
  },
  {
    "text": "failing and and we we we were slowly coming up with like similar patterns and",
    "start": "1429120",
    "end": "1434600"
  },
  {
    "text": "uh similar issues um and we were able to group group these unit tests into few",
    "start": "1434600",
    "end": "1440760"
  },
  {
    "text": "smaller set of issues and we started tackling the",
    "start": "1440760",
    "end": "1449159"
  },
  {
    "text": "problem of of adaptation uh in a in a more systematic",
    "start": "1449159",
    "end": "1454440"
  },
  {
    "text": "way uh MV MVP took about two months to",
    "start": "1454440",
    "end": "1460000"
  },
  {
    "text": "finish um we were able to uh resolve all these issues that we",
    "start": "1460000",
    "end": "1467159"
  },
  {
    "text": "that we set ourselves for this uh basic MVP",
    "start": "1467159",
    "end": "1472400"
  },
  {
    "text": "[Music] and along this way we we found ourselves",
    "start": "1472400",
    "end": "1478240"
  },
  {
    "text": "stuck few times where where as as Greg mentioned earlier it was it was really",
    "start": "1478240",
    "end": "1484840"
  },
  {
    "text": "great experience uh for us to work with the",
    "start": "1484840",
    "end": "1490240"
  },
  {
    "text": "community uh we want to share what we learned Al along the way uh and we are",
    "start": "1490919",
    "end": "1498640"
  },
  {
    "text": "mentioning only like few uh incompat few SQL",
    "start": "1498640",
    "end": "1504000"
  },
  {
    "text": "incompatibilities or a different Behavior which which was not necessar a blocker for us but like it required",
    "start": "1504000",
    "end": "1511840"
  },
  {
    "text": "some I would say minor work to uh to",
    "start": "1511840",
    "end": "1517799"
  },
  {
    "text": "update our application code um uh the first one that I'm that I'm showing here",
    "start": "1517799",
    "end": "1523159"
  },
  {
    "text": "is about the MySQL named logs um",
    "start": "1523159",
    "end": "1529480"
  },
  {
    "text": "the application was full of them uh we were having multiple places where we",
    "start": "1529480",
    "end": "1536279"
  },
  {
    "text": "needed to stay synchronized to protect the data and stay consistent uh what we learned with VES",
    "start": "1536279",
    "end": "1543760"
  },
  {
    "text": "was that uh the at least with version 14 uh that's what we are um still using in",
    "start": "1543760",
    "end": "1551679"
  },
  {
    "text": "production um vtes implements named logs using the",
    "start": "1551679",
    "end": "1557360"
  },
  {
    "text": "first chart which uh turned out to be a I'm not saying like a blocker but a",
    "start": "1557360",
    "end": "1563360"
  },
  {
    "text": "potential uh performance bottleneck what we did was to look",
    "start": "1563360",
    "end": "1569080"
  },
  {
    "text": "around at these places and we um we updated application code to uh reduce",
    "start": "1569080",
    "end": "1576799"
  },
  {
    "text": "number of um logs that we are acquiring per second another one uh is about the",
    "start": "1576799",
    "end": "1583960"
  },
  {
    "text": "foreign keys I mentioned that the application is full of them",
    "start": "1583960",
    "end": "1590279"
  },
  {
    "text": "um tables use um foreign key constraints",
    "start": "1590279",
    "end": "1595840"
  },
  {
    "text": "to implement certain business business rules and um VES does",
    "start": "1595840",
    "end": "1603000"
  },
  {
    "text": "not um does not fully support the foreign Keys like uh it doesn't mean",
    "start": "1603000",
    "end": "1609279"
  },
  {
    "text": "they don't work they they they do for us and they do and they work well it's just",
    "start": "1609279",
    "end": "1616440"
  },
  {
    "text": "certain um scenarios where um um things were failing for us and actually it was",
    "start": "1616440",
    "end": "1623559"
  },
  {
    "text": "only one which was about the when when we were scaling so adding adding more",
    "start": "1623559",
    "end": "1629399"
  },
  {
    "text": "shards um the operation was was failing um on those foreign key checks when the",
    "start": "1629399",
    "end": "1635799"
  },
  {
    "text": "database schema was being created we worked around it by temporarily disabling the foreign key checks on the",
    "start": "1635799",
    "end": "1642919"
  },
  {
    "text": "the target new sharts um uh this didn't put data into any risk",
    "start": "1642919",
    "end": "1649440"
  },
  {
    "text": "because uh the the new shards were not not receiving live data at that moment",
    "start": "1649440",
    "end": "1656360"
  },
  {
    "text": "so um we felt absolutely safe about this workr we we we had",
    "start": "1656360",
    "end": "1663120"
  },
  {
    "text": "chosen um last one but yeah these are just",
    "start": "1663120",
    "end": "1669279"
  },
  {
    "text": "examples is uh for example replace into uh was heavily used in our um data layer",
    "start": "1669279",
    "end": "1677760"
  },
  {
    "text": "uper ction in in the in the application and uh we um the problem was",
    "start": "1677760",
    "end": "1685720"
  },
  {
    "text": "that uh replace into statement by definition requires all columns to be",
    "start": "1685720",
    "end": "1692360"
  },
  {
    "text": "included which means that you had to include even Shard key but you just",
    "start": "1692360",
    "end": "1697799"
  },
  {
    "text": "can't update Shard key in a sharding solution because that that would just mean that you are expecting to to data",
    "start": "1697799",
    "end": "1705200"
  },
  {
    "text": "to start moving between different charts that's that's just doesn't make sense um so like it made made sense why",
    "start": "1705200",
    "end": "1713320"
  },
  {
    "text": "this is not supported but we had to update our uh application",
    "start": "1713320",
    "end": "1718960"
  },
  {
    "text": "to to work to work uh again and what we did we we just simply",
    "start": "1718960",
    "end": "1726519"
  },
  {
    "text": "switched to using insert uh insert on duplicate and that",
    "start": "1726519",
    "end": "1734440"
  },
  {
    "text": "worked we continued with uh with low testing we we needed to uh feel",
    "start": "1735279",
    "end": "1741840"
  },
  {
    "text": "confident that uh the new database solution will handle the traffic that we",
    "start": "1741840",
    "end": "1748000"
  },
  {
    "text": "expect uh on the on the game Lounge uh what",
    "start": "1748000",
    "end": "1753200"
  },
  {
    "text": "we we we already had like a lot of experience from the previous years with the low testing MySQL workloads uh so we",
    "start": "1753200",
    "end": "1761399"
  },
  {
    "text": "we knew that the my SQL is behind so like we don't really need to focus on",
    "start": "1761399",
    "end": "1766519"
  },
  {
    "text": "those parts like instead we focused on the uh vest components that were new to",
    "start": "1766519",
    "end": "1772840"
  },
  {
    "text": "us so we we are basically trying to confirm that the that vest components",
    "start": "1772840",
    "end": "1777880"
  },
  {
    "text": "that are on the request path on the query path uh that they uh scale um",
    "start": "1777880",
    "end": "1784880"
  },
  {
    "text": "scale linearly with uh adding more shards and that we would not hit any",
    "start": "1784880",
    "end": "1791080"
  },
  {
    "text": "performance bottom leg um we basically",
    "start": "1791080",
    "end": "1796679"
  },
  {
    "text": "confirmed those assumptions um we what we also learned is that um",
    "start": "1796679",
    "end": "1805760"
  },
  {
    "text": "the new solution will require uh some additional CPU resources which was kind",
    "start": "1805760",
    "end": "1812039"
  },
  {
    "text": "of expected we like anytime you you run like additional proxy somewhere or like",
    "start": "1812039",
    "end": "1819200"
  },
  {
    "text": "side cars to your applications like of course it it will take more resources uh",
    "start": "1819200",
    "end": "1825840"
  },
  {
    "text": "but the the benefits that we were about to get from the the new platform uh much",
    "start": "1825840",
    "end": "1832519"
  },
  {
    "text": "more ad Whited the additionals uh resource that we were bringing into the",
    "start": "1832519",
    "end": "1839360"
  },
  {
    "text": "platform so what we learned is that the uh the component which is a side car",
    "start": "1839360",
    "end": "1846840"
  },
  {
    "text": "uh to the MySQL runs on the data noes uh requires about the at least in our",
    "start": "1846840",
    "end": "1852840"
  },
  {
    "text": "case um requires about the same CPU resources as the MyQ process",
    "start": "1852840",
    "end": "1859080"
  },
  {
    "text": "itself uh that was kind of surprise to us but um we were also positively um",
    "start": "1859080",
    "end": "1866639"
  },
  {
    "text": "surprised by the fact that uh that the connection pooling that is provided by",
    "start": "1866639",
    "end": "1872240"
  },
  {
    "text": "vites uh greatly offsets um CPU utilization that is uh that is on",
    "start": "1872240",
    "end": "1882200"
  },
  {
    "text": "the MySQL process itself so the fact that we were not having over 10,000 Conn",
    "start": "1882200",
    "end": "1887919"
  },
  {
    "text": "nections on the my my SQL process anymore so we we went from 10,000 15,000",
    "start": "1887919",
    "end": "1894919"
  },
  {
    "text": "to something around 300 400 connections per database that greatly helped",
    "start": "1894919",
    "end": "1903120"
  },
  {
    "text": "to uh for my SQL to to start breeding",
    "start": "1903120",
    "end": "1909080"
  },
  {
    "text": "again uh we were done with the low testing uh so all our expectations were",
    "start": "1909919",
    "end": "1917679"
  },
  {
    "text": "uh um were confirmed so we we went to the",
    "start": "1917679",
    "end": "1924000"
  },
  {
    "text": "last stage where we we needed to prove that we will be",
    "start": "1924000",
    "end": "1929919"
  },
  {
    "text": "able to operate the new database at scale and that um yeah that the the",
    "start": "1929919",
    "end": "1936360"
  },
  {
    "text": "database remains stable uh after C in certain uh failer scenarios so we",
    "start": "1936360",
    "end": "1943799"
  },
  {
    "text": "already we already did like lot of failure thing before and during the",
    "start": "1943799",
    "end": "1950240"
  },
  {
    "text": "small service adoption but we we continued further we went even more aggressive so",
    "start": "1950240",
    "end": "1958600"
  },
  {
    "text": "we again we were doing very bad things to the database and uh",
    "start": "1958600",
    "end": "1965799"
  },
  {
    "text": "um it was always able to recover uh which which was",
    "start": "1965799",
    "end": "1971919"
  },
  {
    "text": "magical we very much uh focused on",
    "start": "1971919",
    "end": "1979679"
  },
  {
    "text": "configuration deployment testing so what we we we",
    "start": "1979679",
    "end": "1985440"
  },
  {
    "text": "really wanted to make sure that the changing a database configuration it",
    "start": "1985440",
    "end": "1992360"
  },
  {
    "text": "is should be seen by people as a normal change as you would be changing",
    "start": "1992360",
    "end": "1998880"
  },
  {
    "text": "configuration to your application that seemed to to be a like huge difference",
    "start": "1998880",
    "end": "2004679"
  },
  {
    "text": "compared to the past where we where we felt like oh database is something",
    "start": "2004679",
    "end": "2010120"
  },
  {
    "text": "precious that you are not touching if you really absolutely really don't have to touch we wanted to change this model",
    "start": "2010120",
    "end": "2017480"
  },
  {
    "text": "so we we really wanted to be able or to enable not even like database operations",
    "start": "2017480",
    "end": "2024960"
  },
  {
    "text": "people to run run this uh run this configuration changes as a result of this work we came",
    "start": "2024960",
    "end": "2032760"
  },
  {
    "text": "up with uh tuned vest configuration that",
    "start": "2032760",
    "end": "2038120"
  },
  {
    "text": "uh we are mentioning few features that we used and",
    "start": "2038120",
    "end": "2043960"
  },
  {
    "text": "um yeah uh it was stable",
    "start": "2043960",
    "end": "2051878"
  },
  {
    "text": "um what I would like to highlight uh on this slide is uh the the key points what",
    "start": "2051879",
    "end": "2059919"
  },
  {
    "text": "what we what what has changed um we went",
    "start": "2059919",
    "end": "2065560"
  },
  {
    "text": "from shards defined in the application configuration so we we had pretty much",
    "start": "2065560",
    "end": "2073000"
  },
  {
    "text": "every uh every shart defined in the config uh we we went to a single",
    "start": "2073000",
    "end": "2079720"
  },
  {
    "text": "database endpoint where the charts are abstract to the to the",
    "start": "2079720",
    "end": "2086960"
  },
  {
    "text": "application uh since previously since um",
    "start": "2087399",
    "end": "2092760"
  },
  {
    "text": "shards were defined in the config uh that in past that allowed us to make",
    "start": "2092760",
    "end": "2099119"
  },
  {
    "text": "certain assumptions when we were designing database queries some queries were just two shart aare and there were",
    "start": "2099119",
    "end": "2107520"
  },
  {
    "text": "like implicit assumptions they are just that you are working just with the being",
    "start": "2107520",
    "end": "2113599"
  },
  {
    "text": "with a single shart data uh such kind of queries were uh not",
    "start": "2113599",
    "end": "2121560"
  },
  {
    "text": "running um efficiently with vas at the like at",
    "start": "2121560",
    "end": "2127320"
  },
  {
    "text": "the first stage but when we learn that we just need to we just need to give a hint V that hey like you need to you",
    "start": "2127320",
    "end": "2135720"
  },
  {
    "text": "need to Target a specific Shard by just like including um including a wear",
    "start": "2135720",
    "end": "2141880"
  },
  {
    "text": "condition that helps uh vs query planner to to route your query to just one or",
    "start": "2141880",
    "end": "2149640"
  },
  {
    "text": "subset of the sharts instead of all of",
    "start": "2149640",
    "end": "2153960"
  },
  {
    "text": "them where we spend a bit of time was uh figuring out how to expire data with",
    "start": "2155000",
    "end": "2162920"
  },
  {
    "text": "vites uh previously we were hitting the sharts uh individually and we were",
    "start": "2162920",
    "end": "2170240"
  },
  {
    "text": "running a delete with limit on on uh on the sharts in a Serial on or a parallel",
    "start": "2170240",
    "end": "2177760"
  },
  {
    "text": "manner um when you have a single database endpoint uh and uh sharts are abstracted",
    "start": "2177760",
    "end": "2186400"
  },
  {
    "text": "uh I I guess that's the reason why why delete with limit is not supported by",
    "start": "2186400",
    "end": "2192480"
  },
  {
    "text": "vtes because if you think about it like you you can't really identify which rows",
    "start": "2192480",
    "end": "2199480"
  },
  {
    "text": "you really want to delete from those charts so it's it's just it make it makes total sense that it it just can't",
    "start": "2199480",
    "end": "2205400"
  },
  {
    "text": "be supported uh for the safety safety reason what we did instead is V still",
    "start": "2205400",
    "end": "2213240"
  },
  {
    "text": "supports a way to talk to the sharts IND ually even though it it's definitely not the best",
    "start": "2213240",
    "end": "2220079"
  },
  {
    "text": "practice but uh that's what we had chosen to uh to address this uh this",
    "start": "2220079",
    "end": "2227599"
  },
  {
    "text": "issue and we we kind of in our like data layer we implemented what we call Shard",
    "start": "2227599",
    "end": "2232960"
  },
  {
    "text": "walking where we where we do pretty much what we were doing before but we do it",
    "start": "2232960",
    "end": "2238560"
  },
  {
    "text": "with vest now all right so yeah we can get some",
    "start": "2238560",
    "end": "2245960"
  },
  {
    "text": "conclusions from all this information uh so the benefits that we had um we now",
    "start": "2245960",
    "end": "2252280"
  },
  {
    "text": "had tested it a bunch tested it in production scenarios and we had a very proven method of uh sharding up and and",
    "start": "2252280",
    "end": "2259040"
  },
  {
    "text": "sharding down um The Shard tools were provided by the Upstream of v test team",
    "start": "2259040",
    "end": "2264400"
  },
  {
    "text": "which is pretty great um the on call burden that um that we were talking about earlier was greatly reduced um",
    "start": "2264400",
    "end": "2272160"
  },
  {
    "text": "when we were creating these slides I was thinking like okay there's going to be at least one escalation before this happens but",
    "start": "2272160",
    "end": "2278079"
  },
  {
    "text": "yeah uh to my knowledge there has been no escalations to our production um vest cluster the uh operator and orchestrator",
    "start": "2278079",
    "end": "2284880"
  },
  {
    "text": "have just kind of taken care of anything so but take this with a grain of salt like this like if some if you do do this",
    "start": "2284880",
    "end": "2290760"
  },
  {
    "text": "and something happens please don't blame me um the uh the database uh setup um is",
    "start": "2290760",
    "end": "2297079"
  },
  {
    "text": "using our giops model which the rest of the kubernetes services are using so uh the rest of the company's quite happy with that um yeah it's it's uh overall",
    "start": "2297079",
    "end": "2305960"
  },
  {
    "text": "the the benefits have that we were looking for have been you know show like we can see them quite quite there so um",
    "start": "2305960",
    "end": "2313880"
  },
  {
    "text": "I guess did it work yes uh it worked uh to our",
    "start": "2313880",
    "end": "2319000"
  },
  {
    "text": "expectations um so much so that we're building a team around supporting it uh and currently there uh we're I would say",
    "start": "2319000",
    "end": "2326440"
  },
  {
    "text": "about one year into opening it up to multiple teams and there's about 60",
    "start": "2326440",
    "end": "2331880"
  },
  {
    "text": "separate vest clusters running in our different environments um and as of like U I would say say about two months ago",
    "start": "2331880",
    "end": "2338400"
  },
  {
    "text": "vest has become the uh default database solution for anything that we uh any new",
    "start": "2338400",
    "end": "2344040"
  },
  {
    "text": "products and a lot of our teams are uh kind of jealous of the people running it",
    "start": "2344040",
    "end": "2349400"
  },
  {
    "text": "so they're starting to uh talk about migrating their data into it uh thank you for coming here uh thank",
    "start": "2349400",
    "end": "2356920"
  },
  {
    "text": "you to everyone at demonware who helped uh make this possible and thank you to Planet scale for helping us along the way and yeah if anybody has questions",
    "start": "2356920",
    "end": "2365320"
  },
  {
    "text": "[Applause] the question I don't know where how do",
    "start": "2365320",
    "end": "2371319"
  },
  {
    "text": "you do it um how does this work we will we will repeat the question",
    "start": "2371319",
    "end": "2378838"
  },
  {
    "text": "yeah yes we started fresh on both so the the thing was was like we um had an",
    "start": "2384920",
    "end": "2391520"
  },
  {
    "text": "opportunity to start fresh so right now we're um in our adoption process we're we're figuring out the best ways to do",
    "start": "2391520",
    "end": "2398200"
  },
  {
    "text": "data migrations but it is um you know it's different kind of for every service so uh yeah we're we're we're working on",
    "start": "2398200",
    "end": "2404760"
  },
  {
    "text": "that right now and it it looks quite promising uh I think one second I'll",
    "start": "2404760",
    "end": "2411119"
  },
  {
    "text": "bring it there hello uh hi I was wondering uh if",
    "start": "2411119",
    "end": "2417160"
  },
  {
    "text": "you could speak a little uh you mentioned that you use SEF I don't know if everything is using SEF um but if you",
    "start": "2417160",
    "end": "2423000"
  },
  {
    "text": "could speak a little to the SEF configuration and uh what the performance is like on SEF sure um so uh",
    "start": "2423000",
    "end": "2431319"
  },
  {
    "text": "yeah he's asking what is the performance like on Seth and what do we use Seth for so um we're we initially just used Seth",
    "start": "2431319",
    "end": "2437520"
  },
  {
    "text": "um for the ETD backing um because it the way that the operator had set it up it",
    "start": "2437520",
    "end": "2442839"
  },
  {
    "text": "was kind of expecting network storage but then we were like why don't we move less performant um um volumes into SE",
    "start": "2442839",
    "end": "2449680"
  },
  {
    "text": "storage so it uh right now I think we only have some test clusters running with the actual um data backed uh SEF",
    "start": "2449680",
    "end": "2456319"
  },
  {
    "text": "but it seems to be fine um I don't think we will ever run any like high performance requirement stuff",
    "start": "2456319",
    "end": "2462560"
  },
  {
    "text": "sefb um potentially just Dev environments and and um some staging environments is that answer uh yes so",
    "start": "2462560",
    "end": "2469119"
  },
  {
    "text": "then I guess my follow question would be what's the storage backend for like the prod the test yeah so we uh we use local",
    "start": "2469119",
    "end": "2476280"
  },
  {
    "text": "storage so we have our own um disc provisioner um and I guess that this is actually the question that a lot of",
    "start": "2476280",
    "end": "2481760"
  },
  {
    "text": "people who've talked to me have asked because they're like how do you actually do this we're trying to solve this um yeah we we have an in-house thing that",
    "start": "2481760",
    "end": "2487839"
  },
  {
    "text": "we use that just um pre-provision volumes and we just uh create a PVC and",
    "start": "2487839",
    "end": "2493040"
  },
  {
    "text": "and it pulls it in so each server has the PVS uh available and then we just say hey we want this PVC and they're all",
    "start": "2493040",
    "end": "2498839"
  },
  {
    "text": "pre-formatted they're all everything so it's h it's not very flexible but it it it actually ended up working quite well",
    "start": "2498839",
    "end": "2504440"
  },
  {
    "text": "because with the way we have it set up we can um it's it's like pers I'm calling it like persistent EP",
    "start": "2504440",
    "end": "2511040"
  },
  {
    "text": "persistently ephemeral so you know we we can um treat the volumes as ephemeral volumes but they're they're quite",
    "start": "2511040",
    "end": "2516480"
  },
  {
    "text": "persistent as well thank you",
    "start": "2516480",
    "end": "2522880"
  },
  {
    "text": "back hi I have two if you have time so first question is are you using any High",
    "start": "2522880",
    "end": "2528240"
  },
  {
    "text": "availability like Primitives that v test provides and like have you have any",
    "start": "2528240",
    "end": "2533800"
  },
  {
    "text": "troubles with them and the second is when you scale the V tablets do you see",
    "start": "2533800",
    "end": "2538920"
  },
  {
    "text": "any trouble with the time it takes the v Tablet to start and restore from a backup and the load is gone",
    "start": "2538920",
    "end": "2544720"
  },
  {
    "text": "already uh so the question was uh are we using any High availability",
    "start": "2544720",
    "end": "2551319"
  },
  {
    "text": "tools like cells and like multi origin things of",
    "start": "2551319",
    "end": "2558920"
  },
  {
    "text": "um no no no for for the for that's fine",
    "start": "2558920",
    "end": "2563960"
  },
  {
    "text": "no for the multi- region but the uh Vitus itself has great High availability",
    "start": "2563960",
    "end": "2571480"
  },
  {
    "text": "buil-in mechanisms itself um so the proxy layer is is F redundant you just",
    "start": "2571480",
    "end": "2578480"
  },
  {
    "text": "keep adding replicas in in the deployment uh Shard is highly available",
    "start": "2578480",
    "end": "2583760"
  },
  {
    "text": "uh by using MyQ replicas and uh VT org automatically fails over that the",
    "start": "2583760",
    "end": "2590119"
  },
  {
    "text": "primary to one of the chosen replicas um the question about the",
    "start": "2590119",
    "end": "2596640"
  },
  {
    "text": "tablet resizing I think that that was the question yeah I mean like we use VT",
    "start": "2596640",
    "end": "2602119"
  },
  {
    "text": "tablets and sometimes we have like load spikes so we want to have more database but but by the time we store like a",
    "start": "2602119",
    "end": "2608839"
  },
  {
    "text": "terabyte of data the spike is gone so we need to vertically scale and not",
    "start": "2608839",
    "end": "2614040"
  },
  {
    "text": "horizontally scale yeah if you see something like that so I think what greatly helps in our case is that we we",
    "start": "2614040",
    "end": "2620599"
  },
  {
    "text": "use uh SEF uh that is u local in our",
    "start": "2620599",
    "end": "2625960"
  },
  {
    "text": "Network and is is is extremely fast I don't remember the the numbers we're on we're on like 100 uh gigb backbone so we",
    "start": "2625960",
    "end": "2633880"
  },
  {
    "text": "can just like pull it it's very fast and and what also did to I I totally get",
    "start": "2633880",
    "end": "2640599"
  },
  {
    "text": "your question because that was one of our um implementation requirements to to",
    "start": "2640599",
    "end": "2646559"
  },
  {
    "text": "make sure that the that the replica gets recreated even with uh in including",
    "start": "2646559",
    "end": "2653960"
  },
  {
    "text": "ketchup MySQL replication ketchup under 10 minutes so like with this large scale",
    "start": "2653960",
    "end": "2659480"
  },
  {
    "text": "database the new replica gets up under 10 minutes thank you uh I think we",
    "start": "2659480",
    "end": "2666040"
  },
  {
    "text": "should cut it there and and um if anybody has questions just find us um and we will uh be happy to talk thank",
    "start": "2666040",
    "end": "2672960"
  },
  {
    "text": "you [Applause]",
    "start": "2672960",
    "end": "2677760"
  }
]