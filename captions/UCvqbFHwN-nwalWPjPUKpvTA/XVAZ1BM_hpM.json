[
  {
    "start": "0",
    "end": "30000"
  },
  {
    "text": "hi so my name is Shane young and from Ranchi labs and today we'll be talking",
    "start": "1010",
    "end": "7170"
  },
  {
    "text": "about how we build a community based cloud native story software from scratch",
    "start": "7170",
    "end": "13070"
  },
  {
    "text": "so many of you may have heard about rental apps because of rancher or case",
    "start": "13070",
    "end": "18960"
  },
  {
    "text": "Ria's recently but there's another project would have been working on for the last four and a half years that is",
    "start": "18960",
    "end": "26130"
  },
  {
    "text": "starting the things the starting of the rancher company so that's is project",
    "start": "26130",
    "end": "32668"
  },
  {
    "start": "30000",
    "end": "70000"
  },
  {
    "text": "Longhorn so Longhorn is the open source distributed block storage software for",
    "start": "32669",
    "end": "39090"
  },
  {
    "text": "kubernetes you can find more information about Longhorn in the github links now and what long run do is very easy way to",
    "start": "39090",
    "end": "48300"
  },
  {
    "text": "add persistent storage support to any kubernetes cluster no matter where the cluster is being hosted so you can add",
    "start": "48300",
    "end": "56370"
  },
  {
    "text": "the Longhorn to your system just using this one line of code control command",
    "start": "56370",
    "end": "62329"
  },
  {
    "text": "but many people will raise questions there's already so many existing storage",
    "start": "62329",
    "end": "68040"
  },
  {
    "text": "solution there why we need Longhorn let's compare Longhorn to the legacy",
    "start": "68040",
    "end": "74189"
  },
  {
    "start": "70000",
    "end": "173000"
  },
  {
    "text": "story software's so normally the legacy storage software's implements",
    "start": "74189",
    "end": "80600"
  },
  {
    "text": "sophisticated storage stack that's including disk management storage",
    "start": "80600",
    "end": "85710"
  },
  {
    "text": "visualization file system and the storage protocols and amendment many of",
    "start": "85710",
    "end": "91079"
  },
  {
    "text": "them may be Patera touring and also they have h8a storage controller that can",
    "start": "91079",
    "end": "97829"
  },
  {
    "text": "those worry hi I will opt as throughput across the cluster the which can be a",
    "start": "97829",
    "end": "103140"
  },
  {
    "text": "bottleneck in real use at the last their most the storage system appeared upon",
    "start": "103140",
    "end": "109860"
  },
  {
    "text": "the hundreds of thousands lines of code or is not more and is very complexed so",
    "start": "109860",
    "end": "117210"
  },
  {
    "text": "the approach we take with Longhorn is different we leverage it modern high",
    "start": "117210",
    "end": "122549"
  },
  {
    "text": "speed high capacity SSD an nvme and we use proven Linux storage features like",
    "start": "122549",
    "end": "129450"
  },
  {
    "text": "sparse file and the seat groups and we are using well each volume in Longhorn is a set of",
    "start": "129450",
    "end": "137500"
  },
  {
    "text": "independent microservices and we utilize in communities and other existing",
    "start": "137500",
    "end": "143440"
  },
  {
    "text": "technology to orchestrate that that's reduced the complexity in the long run itself in the end Longhorn I mean",
    "start": "143440",
    "end": "151900"
  },
  {
    "text": "currently have about 30,000 live a code we're writing mostly in go and broke",
    "start": "151900",
    "end": "157900"
  },
  {
    "text": "into clear pieces you can easily find you can easily read the code and understand it and work with it so in the",
    "start": "157900",
    "end": "167440"
  },
  {
    "text": "end Longhorn is the micro service basis community basis storage solution so our",
    "start": "167440",
    "end": "175840"
  },
  {
    "start": "173000",
    "end": "290000"
  },
  {
    "text": "latest release is long-form delta v dot o and currently Longhorn still in the",
    "start": "175840",
    "end": "181000"
  },
  {
    "text": "alpha stage and as I said Lancome provides enterprise grade this you will",
    "start": "181000",
    "end": "187390"
  },
  {
    "text": "distributed block story software for kubernetes and we support a warning snapshot backup and restore the",
    "start": "187390",
    "end": "194830"
  },
  {
    "text": "difference between the snapshot and the backup is the snapshot was taking inside your kubernetes cluster so data doesn't",
    "start": "194830",
    "end": "201489"
  },
  {
    "text": "leave your cluster but the backup is the way we provide a way to migrate you backup your data into someone else like",
    "start": "201489",
    "end": "208870"
  },
  {
    "text": "AWS s3 or ending s3 compatible type object stores or the anther server so in",
    "start": "208870",
    "end": "216519"
  },
  {
    "text": "that way you have another failsafe for your if anything goes wrong with your cluster one of the highlighted feature",
    "start": "216519",
    "end": "223900"
  },
  {
    "text": "we have with Longhorn is we support life outrage of long-haul software without impacting the running volumes I will",
    "start": "223900",
    "end": "231820"
  },
  {
    "text": "demonstrate that later and we also support cross cluster disaster recovery in volume with user-defined RTO and RPO",
    "start": "231820",
    "end": "240959"
  },
  {
    "text": "many users like a long horn at first sight because a Longhorn has a worried intuitive UI so we provide a UI as a",
    "start": "240959",
    "end": "249790"
  },
  {
    "text": "complement of the compliment of the function of the kubernetes like besides",
    "start": "249790",
    "end": "256090"
  },
  {
    "text": "the create and delete warnings a snapshot UI provide the full functionality like a backup and other operations for your",
    "start": "256090",
    "end": "263440"
  },
  {
    "text": "long form systems and we support one-click installation as we mentioned before you can use the coop",
    "start": "263440",
    "end": "271180"
  },
  {
    "text": "control apply a Yama file or you can use a helmet chart or you can use the rancher catalog apps to use to a long",
    "start": "271180",
    "end": "277420"
  },
  {
    "text": "haul with zero configuration of course more features are coming we are planning",
    "start": "277420",
    "end": "282700"
  },
  {
    "text": "to the QoS William resizing and a real-time on real-time performance monitoring adventure so that's to talk about a",
    "start": "282700",
    "end": "292000"
  },
  {
    "start": "290000",
    "end": "445000"
  },
  {
    "text": "little bit about Lodz architecture there's two main components of lungworm",
    "start": "292000",
    "end": "297400"
  },
  {
    "text": "the engine which handles the data plane implements the block device which used",
    "start": "297400",
    "end": "303220"
  },
  {
    "text": "by the user another part is a manager which August rated engine across the classroom let's together engine first so",
    "start": "303220",
    "end": "312970"
  },
  {
    "text": "here we have two nodes as an example each node has some hard drives and the",
    "start": "312970",
    "end": "319060"
  },
  {
    "text": "matron and the member CPU and memory so when kubernetes create a part which",
    "start": "319060",
    "end": "325630"
  },
  {
    "text": "would request the system volume Longhorn received a request and will create queue",
    "start": "325630",
    "end": "331180"
  },
  {
    "text": "replicas on three different nodes and it probably different discs as long as the disk has enough space to accommodate the",
    "start": "331180",
    "end": "337600"
  },
  {
    "text": "warning after we create the two replicas we create an engine which connects the",
    "start": "337600",
    "end": "343120"
  },
  {
    "text": "two replicas and implement the block device which will be mounted will be",
    "start": "343120",
    "end": "349300"
  },
  {
    "text": "attached to the same node as Paul is running and then kubernetes take the blow device formatted and bounties and",
    "start": "349300",
    "end": "356650"
  },
  {
    "text": "host namespace and then finally buy mounted as the volume inside the part so",
    "start": "356650",
    "end": "363790"
  },
  {
    "text": "the with reason why we separate two replicas is because if one node goes down we still have one replicas running",
    "start": "363790",
    "end": "371110"
  },
  {
    "text": "and as long as the warning has one replicas exist and running the warning will be fine so whatever happens you",
    "start": "371110",
    "end": "378370"
  },
  {
    "text": "have multiple parts as you can you match the same things happens very simple we",
    "start": "378370",
    "end": "384850"
  },
  {
    "text": "created multiple we create the two more replicas at one more engine for the second volume at the third one so in",
    "start": "384850",
    "end": "394000"
  },
  {
    "text": "fact this approach has a worried desirable effect that the data path of",
    "start": "394000",
    "end": "399620"
  },
  {
    "text": "volume is isolated from each other as you see that if one woman goes down due",
    "start": "399620",
    "end": "406370"
  },
  {
    "text": "to whatever reason there's no reason for other volume to be affect as well because their data path is completely",
    "start": "406370",
    "end": "412370"
  },
  {
    "text": "separate it's nothing interact with each other but now we have a question how can",
    "start": "412370",
    "end": "419600"
  },
  {
    "text": "we manage all this engines replicas so they are managed by the cube ladies so",
    "start": "419600",
    "end": "426440"
  },
  {
    "text": "that's the answer we are utilizing kubernetes to manage the oldest moving parts and we cannot do",
    "start": "426440",
    "end": "432949"
  },
  {
    "text": "that without kubernetes because in the past there's no total container technology there's no kubernetes is",
    "start": "432949",
    "end": "438949"
  },
  {
    "text": "really hard for us to do the micro service in this level so we build the",
    "start": "438949",
    "end": "447199"
  },
  {
    "start": "445000",
    "end": "562000"
  },
  {
    "text": "local manager based on kubernetes here's the extraction of the local manager",
    "start": "447199",
    "end": "452410"
  },
  {
    "text": "still assume we create a new part we want some warnings kubernetes is going",
    "start": "452410",
    "end": "458900"
  },
  {
    "text": "to talk with the Longhorns the SI plugin csi's container storage interface a",
    "start": "458900",
    "end": "464210"
  },
  {
    "text": "single starter has to mention that in his keynote and his world chameleon way for the storage winter you hook into the",
    "start": "464210",
    "end": "470360"
  },
  {
    "text": "kubernetes and the Longhorns are plugging will talk to the local manager through the local capi",
    "start": "470360",
    "end": "477190"
  },
  {
    "text": "in fact the local manager is just like another another controller inside",
    "start": "477190",
    "end": "482960"
  },
  {
    "text": "kubernetes the local manager will create new CRD object customer resource",
    "start": "482960",
    "end": "489889"
  },
  {
    "text": "definition object inside kubernetes api server so we don't have the burden to",
    "start": "489889",
    "end": "495680"
  },
  {
    "text": "have another data store so the change of say local manager create a new volume",
    "start": "495680",
    "end": "503000"
  },
  {
    "text": "CRD inside connects api server that's one where we pick up by the other controllers the volume control inside",
    "start": "503000",
    "end": "509690"
  },
  {
    "text": "local manager and that controllers see that ok now I have a new warning so I",
    "start": "509690",
    "end": "514820"
  },
  {
    "text": "need to create a new engine and replace that sorry replicas to to implement that",
    "start": "514820",
    "end": "521810"
  },
  {
    "text": "wording for the user if you have multiple requests to see the same so the",
    "start": "521810",
    "end": "527630"
  },
  {
    "text": "local manager is implemented on top of the kubernetes cluster to do all this kind of obvious",
    "start": "527630",
    "end": "533329"
  },
  {
    "text": "works another way to interact with local manager is used in the long haul UI as I",
    "start": "533329",
    "end": "539959"
  },
  {
    "text": "as I mentioned before so local UI provides backup a lab upgrade cross",
    "start": "539959",
    "end": "545629"
  },
  {
    "text": "cluster disaster recovery these kind of features the additions to come let's provide create delete volume and",
    "start": "545629",
    "end": "552049"
  },
  {
    "text": "snapshot if you have external snapshot plugins so that's about local manager so",
    "start": "552049",
    "end": "563509"
  },
  {
    "start": "562000",
    "end": "748000"
  },
  {
    "text": "this is really good interesting if you haven't know about what is the controller pattern or operator pattern",
    "start": "563509",
    "end": "568939"
  },
  {
    "text": "inside kubernetes I can show you the example here so on the right you can see",
    "start": "568939",
    "end": "575480"
  },
  {
    "text": "that we have a warning object we have an engine object each of them have two",
    "start": "575480",
    "end": "580489"
  },
  {
    "text": "fields wine is called spark another one is called the status so basic concept of",
    "start": "580489",
    "end": "586249"
  },
  {
    "text": "controller pattern is we are always working towards reconciliation this two stage and we are going to check what our",
    "start": "586249",
    "end": "593929"
  },
  {
    "text": "current status is and the try to reconcile that with our spec to reach our desired State let's take an example",
    "start": "593929",
    "end": "601850"
  },
  {
    "text": "that how long who are handling the self-healing say I have three replicas",
    "start": "601850",
    "end": "608899"
  },
  {
    "text": "of three node at one engine talking to all of them and the engine company talk to the manager now suddenly notes reach",
    "start": "608899",
    "end": "616879"
  },
  {
    "text": "down low an engine will tilak detect that zero immediately and Mark the",
    "start": "616879",
    "end": "623959"
  },
  {
    "text": "critical three as red as arrow in the in the engine status field and that",
    "start": "623959",
    "end": "631669"
  },
  {
    "text": "information was picked up or going to be pick up immunity by the manager so manager found ok there's the bad replica",
    "start": "631669",
    "end": "638209"
  },
  {
    "text": "I don't you remove it the manager removed the rep nursery for the engines",
    "start": "638209",
    "end": "643459"
  },
  {
    "text": "back so engines know that I don't need this replica no more so I just disconnected totally but as you notice",
    "start": "643459",
    "end": "654999"
  },
  {
    "text": "the top the member of current healthy replicas in the warning status has been",
    "start": "654999",
    "end": "660589"
  },
  {
    "text": "reduced to two because we lost one healthy replica so many to design that",
    "start": "660589",
    "end": "666139"
  },
  {
    "text": "yeah we see that this is a one replica difference between the world we have",
    "start": "666139",
    "end": "671720"
  },
  {
    "text": "right now at what we desired so we're going to create another replica the",
    "start": "671720",
    "end": "677240"
  },
  {
    "text": "manager found another note note 4 which is available and the space is suitable",
    "start": "677240",
    "end": "683570"
  },
  {
    "text": "so they create a replica for on the note 4 and after the replica for get start up",
    "start": "683570",
    "end": "689920"
  },
  {
    "text": "the replica for we are planning here we're at replica for in the engines back at winching will receive the spec say ok",
    "start": "689920",
    "end": "698149"
  },
  {
    "text": "so I suppose we have a replica for but I don't have now so I'm going to add a replica for in my status and that engine",
    "start": "698149",
    "end": "707240"
  },
  {
    "text": "are going to connect two replicas for and start process we call the rebuilding the rebuilding process is basically copy",
    "start": "707240",
    "end": "714829"
  },
  {
    "text": "the data from existing housing replicas to the new replicas and to make sure that we have the correct residency of",
    "start": "714829",
    "end": "722899"
  },
  {
    "text": "our warnings once rebuilding is down the replica floor will be marked as the",
    "start": "722899",
    "end": "728630"
  },
  {
    "text": "brain and you see the currently housed replicas count on top right well update",
    "start": "728630",
    "end": "734000"
  },
  {
    "text": "to 3 and then use this our stack so that's the whole process of how the",
    "start": "734000",
    "end": "740000"
  },
  {
    "text": "Longhorn has self-healing process was driven by the controller pattern based on kubernetes alright so yeah let's do a",
    "start": "740000",
    "end": "751730"
  },
  {
    "start": "748000",
    "end": "775000"
  },
  {
    "text": "live demo now this will be going to be a little bit risky so if anything goes",
    "start": "751730",
    "end": "757520"
  },
  {
    "text": "wrong please be kind",
    "start": "757520",
    "end": "761140"
  },
  {
    "text": "all right okay so what I'm looking right now is a",
    "start": "771680",
    "end": "776840"
  },
  {
    "text": "rancher our cook that is management platform and I have a demo class the",
    "start": "776840",
    "end": "781910"
  },
  {
    "text": "setting up here I'm going to currently this is the storage project project is",
    "start": "781910",
    "end": "788600"
  },
  {
    "text": "the concept of rancher which is just a bunch of namespace nosing fancy and we are going to deploy a long word using",
    "start": "788600",
    "end": "795650"
  },
  {
    "text": "the Rancher apps so here is the long",
    "start": "795650",
    "end": "802700"
  },
  {
    "text": "current catalog in the Rancher apps and you can just click view details and then you can start in but now we are going to",
    "start": "802700",
    "end": "810710"
  },
  {
    "text": "I'm going to demonstrate how life upgrade works later so I'm going to choose a slightly older version I want",
    "start": "810710",
    "end": "818180"
  },
  {
    "text": "to just want to name it as the local system let's click Launch",
    "start": "818180",
    "end": "825610"
  },
  {
    "text": "so the app is the way also a way to aggregate all the related components",
    "start": "825610",
    "end": "831710"
  },
  {
    "text": "like a different deployment different services into one catalog as you can see that we have three major workload here",
    "start": "831710",
    "end": "838750"
  },
  {
    "text": "NoHo manager has been deployed at the long who UI as a nation don't you talk",
    "start": "838750",
    "end": "844130"
  },
  {
    "text": "to the manager and that one here is the driver deployer I will explain what they do later alright so there's one",
    "start": "844130",
    "end": "855110"
  },
  {
    "text": "advantage of using catalog apps is if anything supposed to be upgradeable you'll see that's directly and we're not",
    "start": "855110",
    "end": "861050"
  },
  {
    "text": "doing that now okay so now you're seeing",
    "start": "861050",
    "end": "869420"
  },
  {
    "text": "is what's a long forest - what it looks like three parts rather clear the left",
    "start": "869420",
    "end": "874670"
  },
  {
    "text": "one you have anyone who now the volume stage the meter one how many we have remaining our storage the right one was",
    "start": "874670",
    "end": "882260"
  },
  {
    "text": "the notice status and the Longhorn caste in other states is directly from the communities node object and also here we",
    "start": "882260",
    "end": "891890"
  },
  {
    "text": "have a bunch of event log which is we basically use the kubernetes event log and to record what's happened in the",
    "start": "891890",
    "end": "899120"
  },
  {
    "text": "long run as well so we just set the different source so we can filter down but basically this thing is welcome to",
    "start": "899120",
    "end": "906830"
  },
  {
    "text": "qnet so let's take two a note as you see here",
    "start": "906830",
    "end": "914150"
  },
  {
    "text": "party forge we have a pass which we use going to use as store the data in the",
    "start": "914150",
    "end": "921020"
  },
  {
    "text": "replicas and for each node you have add more disk to it through this way or",
    "start": "921020",
    "end": "926630"
  },
  {
    "text": "disable it or doing something like say disable scheduling for the nodes or",
    "start": "926630",
    "end": "934100"
  },
  {
    "text": "disable scheduling for the disk and okay you can you also say that how many volumes has been allocated in this node",
    "start": "934100",
    "end": "940370"
  },
  {
    "text": "this basically says space take by the replicas and was this real-time usage of",
    "start": "940370",
    "end": "946279"
  },
  {
    "text": "this disk and this node that was the total size of this disk the next half is",
    "start": "946279",
    "end": "953870"
  },
  {
    "text": "the volume which we don't have any run so I'm going to skip that for now the next one okay you see the arrow here why",
    "start": "953870",
    "end": "960800"
  },
  {
    "text": "this one is the back half so in order you have a backup as I mentioned it's basically a defined place you can backup",
    "start": "960800",
    "end": "967700"
  },
  {
    "text": "your snapshot you but you need to find that place first so let's go to the settings as set a backup target",
    "start": "967700",
    "end": "975400"
  },
  {
    "text": "so so basically what I'm doing right now is that I have a minion which is",
    "start": "979950",
    "end": "985079"
  },
  {
    "text": "installed inside this kubernetes cluster and acting SS 3 for us and now the",
    "start": "985079",
    "end": "990180"
  },
  {
    "text": "backups to error information is gone and now let's deploy some will close down",
    "start": "990180",
    "end": "996089"
  },
  {
    "text": "that alright so for example I'm going to",
    "start": "996089",
    "end": "1002630"
  },
  {
    "text": "use WordPress so I choose the WordPress",
    "start": "1002630",
    "end": "1008149"
  },
  {
    "text": "from the Ranchod catalog and I want to set the WordPress password and enable",
    "start": "1008149",
    "end": "1018470"
  },
  {
    "text": "the persistent volume using all foreign I wanted you the same for Mary ODB as",
    "start": "1018470",
    "end": "1025520"
  },
  {
    "text": "well",
    "start": "1025520",
    "end": "1027760"
  },
  {
    "text": "okay so let's take a look at back at the long",
    "start": "1032309",
    "end": "1037829"
  },
  {
    "text": "run dashboard so now the WordPress application has been installed it should",
    "start": "1037829",
    "end": "1045930"
  },
  {
    "text": "be it's being installed so the lungworm should have worried yeah",
    "start": "1045930",
    "end": "1050940"
  },
  {
    "text": "see so well France as I said before requires Tim Williams and the WordPress",
    "start": "1050940",
    "end": "1057060"
  },
  {
    "text": "is creating that inside long can receive that request and creating volumes and you can see that this color means that",
    "start": "1057060",
    "end": "1064380"
  },
  {
    "text": "we're in progress is either creating attaching or detaching and if you take",
    "start": "1064380",
    "end": "1070200"
  },
  {
    "text": "it volume page now you can see that two morning has been attached the house is healthy and you show some information",
    "start": "1070200",
    "end": "1076770"
  },
  {
    "text": "about warning as well let's take a look back as the WordPress ok so the Mary DB",
    "start": "1076770",
    "end": "1086580"
  },
  {
    "text": "stuff but this hasn't been completed yet let's take a look a look okay now I think he's going to be out very soon",
    "start": "1086580",
    "end": "1093620"
  },
  {
    "text": "yeah you see narrative is running so the",
    "start": "1093620",
    "end": "1099180"
  },
  {
    "text": "WordPress it depends on Mara TV so you have to be married we have to drown first okay I think yeah the WordPress will be",
    "start": "1099180",
    "end": "1107880"
  },
  {
    "text": "running soon yeah I think that's it all",
    "start": "1107880",
    "end": "1115050"
  },
  {
    "text": "right that's take it take the look back has the apps now the apps provide a work",
    "start": "1115050",
    "end": "1121050"
  },
  {
    "text": "convenient interface you access any service and now the WordPress is up let's write something to it",
    "start": "1121050",
    "end": "1129260"
  },
  {
    "text": "hopefully you got your brain yes all right let's add posts a could come",
    "start": "1131710",
    "end": "1141090"
  },
  {
    "text": "demo what's not very exciting though",
    "start": "1141090",
    "end": "1149070"
  },
  {
    "text": "okay so now this beta has been written into the long haul system and now I'm",
    "start": "1149070",
    "end": "1157210"
  },
  {
    "text": "going to try what I mentioned before a life upgrade the first part that will be",
    "start": "1157210",
    "end": "1163090"
  },
  {
    "text": "I just clicked upgrade here I'm going to up this one will operate the local",
    "start": "1163090",
    "end": "1169450"
  },
  {
    "text": "manager and just click upgrade all right",
    "start": "1169450",
    "end": "1176740"
  },
  {
    "text": "I guess I need to refresh the page and during this time of course the wordpress",
    "start": "1176740",
    "end": "1183160"
  },
  {
    "text": "you're walking no problem you can click you can add comments no interruption and",
    "start": "1183160",
    "end": "1194220"
  },
  {
    "text": "here yes yeah I see that the image has been reflecting to the new image and the",
    "start": "1194220",
    "end": "1202060"
  },
  {
    "text": "manager is almost down with upgrading and let's take a look at the UI ok",
    "start": "1202060",
    "end": "1210640"
  },
  {
    "text": "now done yet that's right again so of course when you upgrade your manager the",
    "start": "1210640",
    "end": "1217270"
  },
  {
    "text": "UI service will be interrupted",
    "start": "1217270",
    "end": "1220620"
  },
  {
    "text": "Robbi I want to do this",
    "start": "1224029",
    "end": "1227679"
  },
  {
    "text": "okay now it's back now you can see that the version number has been changed to",
    "start": "1229669",
    "end": "1234799"
  },
  {
    "text": "zero five zero and the next step we're going to do an upgrade you can see that",
    "start": "1234799",
    "end": "1240259"
  },
  {
    "start": "1238000",
    "end": "1280000"
  },
  {
    "text": "because the local manager is different from the orchestration level a local engine is the one provided data pass",
    "start": "1240259",
    "end": "1246769"
  },
  {
    "text": "so that's your upgrade on engine this is far more risky than what I did before",
    "start": "1246769",
    "end": "1253299"
  },
  {
    "text": "but let's try it if it works okay let's go have NJ upgraded a doing that right",
    "start": "1253299",
    "end": "1261259"
  },
  {
    "text": "now turns out what Fry's need upgrade as well so I click this one this to process",
    "start": "1261259",
    "end": "1267799"
  },
  {
    "text": "it happens simultaneously we'll press finish very fast but that I guess they",
    "start": "1267799",
    "end": "1274429"
  },
  {
    "text": "have a back yeah it's supposed to be five to one and let's take a look at the",
    "start": "1274429",
    "end": "1281209"
  },
  {
    "start": "1280000",
    "end": "1360000"
  },
  {
    "text": "engine yeah the engine works now because you didn't you see that green arrow in front is that it's gone and you can see",
    "start": "1281209",
    "end": "1288079"
  },
  {
    "text": "that yeah and immersion has been upgraded to the latest one so now you're",
    "start": "1288079",
    "end": "1294950"
  },
  {
    "text": "looking at is the volunteer health page so it gives you the every teacher of this volume you can see that where the",
    "start": "1294950",
    "end": "1301039"
  },
  {
    "text": "replicas resign at what's notice running on and even was the data was the",
    "start": "1301039",
    "end": "1306820"
  },
  {
    "text": "location of the data is stored on that note so you can take a snapshot or",
    "start": "1306820",
    "end": "1313839"
  },
  {
    "text": "create backup easily another feature we have is we have a recurring snaps on the",
    "start": "1313839",
    "end": "1320929"
  },
  {
    "text": "backup schedule which means that you can make you can decide that when you would you want to take snapshot on the backup",
    "start": "1320929",
    "end": "1327009"
  },
  {
    "text": "doing say now low traffic hours like",
    "start": "1327009",
    "end": "1333049"
  },
  {
    "text": "3:00 in the morning let's try that yeah in fact I don't have that much time so I",
    "start": "1333049",
    "end": "1338299"
  },
  {
    "text": "just take a backup every minute I want to return the last four or five of them",
    "start": "1338299",
    "end": "1344809"
  },
  {
    "text": "and save so here's how we implement this feature okay it's down by using the",
    "start": "1344809",
    "end": "1352909"
  },
  {
    "text": "cuvee nice chrome job it's hundred percent just chrome job",
    "start": "1352909",
    "end": "1357879"
  },
  {
    "text": "all right so now you can see that this",
    "start": "1358510",
    "end": "1363790"
  },
  {
    "text": "now the scheduling has been scheduled and you can see the last backup is be",
    "start": "1363790",
    "end": "1370040"
  },
  {
    "text": "created okay it was a minute ago now it's a few seconds go means and now the backup is still going on and also now",
    "start": "1370040",
    "end": "1377300"
  },
  {
    "text": "it's in the new version you can see that do I have more information present in this dashboard you know who the PvP who",
    "start": "1377300",
    "end": "1383450"
  },
  {
    "text": "the PVC is that was named in stage name space Liang at what part they are using using the warning this is one purely",
    "start": "1383450",
    "end": "1391610"
  },
  {
    "text": "based on the users refer feedback that because the kubernetes provides storage",
    "start": "1391610",
    "end": "1396710"
  },
  {
    "text": "vendor only a worried random PVC name they have no way to associate that's warn you mr. actual workload so we added",
    "start": "1396710",
    "end": "1403910"
  },
  {
    "text": "the feature make it easier for the user alright so I guess that's is the demo",
    "start": "1403910",
    "end": "1411170"
  },
  {
    "text": "that's the end of demo let's go back to the slide yeah in fact let me refreshes",
    "start": "1411170",
    "end": "1417680"
  },
  {
    "text": "oh that's one another's death okay now",
    "start": "1417680",
    "end": "1424010"
  },
  {
    "text": "it's done",
    "start": "1424010",
    "end": "1426310"
  },
  {
    "text": "Sarek battlements",
    "start": "1431570",
    "end": "1434950"
  },
  {
    "text": "yeah so I just like I just demonstrated kubernetes August rate the data plan",
    "start": "1444010",
    "end": "1450690"
  },
  {
    "start": "1445000",
    "end": "1487000"
  },
  {
    "text": "because the engine part and the replica part are scheduled to the Associated nodes by the kubernetes and also as you",
    "start": "1450690",
    "end": "1457380"
  },
  {
    "text": "said as you see each replica contains the full copy of the volume and you can see easily",
    "start": "1457380",
    "end": "1462780"
  },
  {
    "text": "well that data resides on your nodes so that means only one correct replica is",
    "start": "1462780",
    "end": "1469740"
  },
  {
    "text": "all that neat if you really have word disaster happens and try to recount recover your whole volume that's this",
    "start": "1469740",
    "end": "1476250"
  },
  {
    "text": "worry transparent compared to many others to which windows approach which they just have a blog presenting you but",
    "start": "1476250",
    "end": "1482670"
  },
  {
    "text": "you don't really know where the data is that or not also kubernetes helped the increase",
    "start": "1482670",
    "end": "1490140"
  },
  {
    "start": "1487000",
    "end": "1557000"
  },
  {
    "text": "resiliency like what I mentioned the node status was we called from kubernetes",
    "start": "1490140",
    "end": "1495570"
  },
  {
    "text": "so if any node is down we are going to skip that node for the scheduling and do",
    "start": "1495570",
    "end": "1500670"
  },
  {
    "text": "some fabric failover recoveries but in fact the core logic of the data plan not",
    "start": "1500670",
    "end": "1505830"
  },
  {
    "text": "really relay on that that depends on that because community is it kind of slow and reflecting what's the power",
    "start": "1505830",
    "end": "1512010"
  },
  {
    "text": "statuses so we're the constant energy in the self will decide if it replicas is",
    "start": "1512010",
    "end": "1518310"
  },
  {
    "text": "bad purely based on its connection to the replicas so that is rich so that is makes it very faster and the port status",
    "start": "1518310",
    "end": "1525960"
  },
  {
    "text": "monitoring yeah we still rely on we can some information for the kubernetes if something goes wrong and we automatic",
    "start": "1525960",
    "end": "1532440"
  },
  {
    "text": "connect lock if something unexpected happens to that replicas or ng part another feature is we can automatically",
    "start": "1532440",
    "end": "1539730"
  },
  {
    "text": "retouch the volume if you reboot your communities book node we use the special field called boot ID inside the",
    "start": "1539730",
    "end": "1547290"
  },
  {
    "text": "communities node object that's its best IP will be refreshed every time we put a",
    "start": "1547290",
    "end": "1552330"
  },
  {
    "text": "node so we use that to decide is this have been rebooted or not of course",
    "start": "1552330",
    "end": "1558810"
  },
  {
    "start": "1557000",
    "end": "1565000"
  },
  {
    "text": "there's always a few issues when you working with kubernetes well i don't",
    "start": "1558810",
    "end": "1564180"
  },
  {
    "text": "know if everybody agrees but at least as a storage vendor there's two major",
    "start": "1564180",
    "end": "1569400"
  },
  {
    "start": "1565000",
    "end": "1662000"
  },
  {
    "text": "things we had the first one is the driving interface in fact it's keeping",
    "start": "1569400",
    "end": "1574440"
  },
  {
    "text": "changing for almost every other major version before the community has a standard quarter flax volume which",
    "start": "1574440",
    "end": "1581629"
  },
  {
    "text": "missing probably not going to DGA but in the end is winter TGA and become one of",
    "start": "1581629",
    "end": "1586799"
  },
  {
    "text": "the standard and the things went out 11 the CSI served Austria was out as he's",
    "start": "1586799",
    "end": "1592980"
  },
  {
    "text": "in the beta so we start started using si si and then we found the CSI two out of",
    "start": "1592980",
    "end": "1598169"
  },
  {
    "text": "four which is one dollar off brake cam ability upstairs at one tom is a third of three and the CSI wonder all into one",
    "start": "1598169",
    "end": "1606389"
  },
  {
    "text": "thirteen yeah brakes complete backwards completely again so the long haul adapts",
    "start": "1606389",
    "end": "1612119"
  },
  {
    "text": "by using a once more to we call the driver deployer as I show you before",
    "start": "1612119",
    "end": "1618539"
  },
  {
    "text": "that's one where automatic act was the environment this was recruiting area settings what your automatic version",
    "start": "1618539",
    "end": "1625080"
  },
  {
    "text": "they decide was the proper way to deploy your driver it wasn't correct configuration for that another what",
    "start": "1625080",
    "end": "1633330"
  },
  {
    "text": "issue is related to the controller pattern were using so if you have been fully minion with the combat is control",
    "start": "1633330",
    "end": "1640109"
  },
  {
    "text": "we know that we're normally using something called informal easter-egg former and the informer contains another",
    "start": "1640109",
    "end": "1646139"
  },
  {
    "text": "object called Lister which is easily used to access the cupola in CRD objects in the cache",
    "start": "1646139",
    "end": "1651869"
  },
  {
    "text": "that's why it's much faster than using the API directly but we've found out the",
    "start": "1651869",
    "end": "1657929"
  },
  {
    "text": "Lister can stamp I retain the style information even with OneNote so here's",
    "start": "1657929",
    "end": "1663210"
  },
  {
    "text": "the some example the correct the correct sequence is something like this client",
    "start": "1663210",
    "end": "1669450"
  },
  {
    "text": "issue a request to the API server create a new object API server using the sed",
    "start": "1669450",
    "end": "1675960"
  },
  {
    "text": "watch mechanism now the Lister yeah usually you now you need to update your internal cache and the object will in",
    "start": "1675960",
    "end": "1684690"
  },
  {
    "text": "the cache and the client will go to the listed say ok what's my new object it's there and this one is correct but",
    "start": "1684690",
    "end": "1692129"
  },
  {
    "text": "sometimes the race condition happens the first time the same client",
    "start": "1692129",
    "end": "1697619"
  },
  {
    "text": "issue a new required to create a new object but before API server notified",
    "start": "1697619",
    "end": "1703559"
  },
  {
    "text": "the Lister to update it's the internal cache trying to make the query for the new object of course object is not there",
    "start": "1703559",
    "end": "1711630"
  },
  {
    "text": "the problem is the process of client initial request and the Lister updating",
    "start": "1711630",
    "end": "1718080"
  },
  {
    "text": "internal cache is a synchronized process they're not really secretive",
    "start": "1718080",
    "end": "1723299"
  },
  {
    "text": "sequentially so the client will see this kind of strange result I create object well it's down there I update the object",
    "start": "1723299",
    "end": "1729750"
  },
  {
    "text": "but the change is now there so long we'll have to implement additional levels of a cache validation basically",
    "start": "1729750",
    "end": "1737640"
  },
  {
    "text": "means that whenever we do a modification to your object we need to check we need to wait for the Lister to return us a",
    "start": "1737640",
    "end": "1744450"
  },
  {
    "text": "newer version if we can check you can check that by using the reverse version inside that object as long as after the",
    "start": "1744450",
    "end": "1752130"
  },
  {
    "text": "after we can confirm that least the return last a new version we cannot continue all right so the upcoming local",
    "start": "1752130",
    "end": "1763740"
  },
  {
    "start": "1759000",
    "end": "1867000"
  },
  {
    "text": "release is where we stare at all things that all is well be the one we announced",
    "start": "1763740",
    "end": "1770100"
  },
  {
    "text": "beta and yeah we need to go do some react active there of the engine level",
    "start": "1770100",
    "end": "1775380"
  },
  {
    "text": "the the engines and replicas will be wrong and the process instead the demoiselle part instead of each part for",
    "start": "1775380",
    "end": "1784830"
  },
  {
    "text": "each engine replicas now that's give us a few battery result that the current solution so we should be able to speak",
    "start": "1784830",
    "end": "1792179"
  },
  {
    "text": "out warning attach and detach process because whenever you start even though the container on the part of the starts",
    "start": "1792179",
    "end": "1798480"
  },
  {
    "text": "and stop work as it's not as fast as you start to stop the process another why is",
    "start": "1798480",
    "end": "1803700"
  },
  {
    "text": "pretty major because kubernetes has the part of limitation of 110 so basically",
    "start": "1803700",
    "end": "1810330"
  },
  {
    "text": "means that you can only have 100 10 parts per node and we already have some",
    "start": "1810330",
    "end": "1815789"
  },
  {
    "text": "users hitting that because we're using pretty much many parts per volume so",
    "start": "1815789",
    "end": "1821700"
  },
  {
    "text": "we're going to avoid that by running just the demoiselle part on each node and the third reason is now we can get",
    "start": "1821700",
    "end": "1829260"
  },
  {
    "text": "guaranteed the CPU resources for the daemon set apart before we can really",
    "start": "1829260",
    "end": "1834390"
  },
  {
    "text": "not do that because the Canadian scheduling is doesn't know about storage",
    "start": "1834390",
    "end": "1840090"
  },
  {
    "text": "and the local scheduler doesn't really know about CPU so now we",
    "start": "1840090",
    "end": "1845400"
  },
  {
    "text": "basically we the schedule the demon center part we can set the CPU guaranteed on that and make sure that",
    "start": "1845400",
    "end": "1852450"
  },
  {
    "text": "the other process in the same note will not really eat into the engine's CPU",
    "start": "1852450",
    "end": "1858540"
  },
  {
    "text": "cycle and make it make its delay this response because you as you know that the time is really sensitive on the",
    "start": "1858540",
    "end": "1865290"
  },
  {
    "text": "block storage so let's conclude my session please check out lungworm and we",
    "start": "1865290",
    "end": "1874890"
  },
  {
    "start": "1867000",
    "end": "1905000"
  },
  {
    "text": "are going to have website up soon and at long without io we're still working on that and we also want to send Q the",
    "start": "1874890",
    "end": "1882510"
  },
  {
    "text": "users of existing local cut of the existing long words because we're still in the RF project that many users keep",
    "start": "1882510",
    "end": "1889530"
  },
  {
    "text": "as many feedback regarding so how they choose how they want to see this project go in what feature they want and they",
    "start": "1889530",
    "end": "1896070"
  },
  {
    "text": "some of them even give us life environment to debug some tricky bugs I really appreciate for that so if you",
    "start": "1896070",
    "end": "1903210"
  },
  {
    "text": "haven't please check out Longhorn thank you",
    "start": "1903210",
    "end": "1908570"
  },
  {
    "start": "1905000",
    "end": "2009000"
  },
  {
    "text": "please remember to give the talk a rating on the schedule and we have time for a couple audience questions before",
    "start": "1913390",
    "end": "1919820"
  },
  {
    "text": "lunch hello thank you for your talk",
    "start": "1919820",
    "end": "1927049"
  },
  {
    "text": "what's the position of long gone against the rooks does it intend to repress it",
    "start": "1927049",
    "end": "1933950"
  },
  {
    "text": "ought to be integrated okay so yeah everybody know about rooks Brookshire is",
    "start": "1933950",
    "end": "1941419"
  },
  {
    "text": "the position to be storage operator it's not a really a full stack storage",
    "start": "1941419",
    "end": "1946490"
  },
  {
    "text": "solution rooks will lay on the staff and our because I works for telecom and",
    "start": "1946490",
    "end": "1953600"
  },
  {
    "text": "other campaigns before we know that staff there's many users the complaints that is way too complex it's very hard",
    "start": "1953600",
    "end": "1960649"
  },
  {
    "text": "to maintain you some kinda know where you practices and some time you probably",
    "start": "1960649",
    "end": "1966380"
  },
  {
    "text": "configure your crash map wrong so we're not looking to replace route but we are",
    "start": "1966380",
    "end": "1973159"
  },
  {
    "text": "lists we want to provide a tentative to the staff as a simple and more usable no",
    "start": "1973159",
    "end": "1979580"
  },
  {
    "text": "more user friendly solutions",
    "start": "1979580",
    "end": "1983140"
  },
  {
    "text": "can you maybe explain a little bit more about the internals sorry can you explain more about the internals how",
    "start": "1986520",
    "end": "1992700"
  },
  {
    "text": "what what what scuzzy do you use I read something about you need to install some tools oh okay",
    "start": "1992700",
    "end": "2000580"
  },
  {
    "text": "alright so in fact I have backup just for that so in fact we have tried a few ways to",
    "start": "2001120",
    "end": "2009020"
  },
  {
    "text": "expose the block device we try the MPD which is very easy but not not reliable",
    "start": "2009020",
    "end": "2015620"
  },
  {
    "text": "at all it's easily close to Colonel crash and we try to use the TCM you and spend quite diverse to that and I",
    "start": "2015620",
    "end": "2021860"
  },
  {
    "text": "contribute you through kernel patches to TCM you to make to spire to increase the",
    "start": "2021860",
    "end": "2027860"
  },
  {
    "text": "performance but in the end we found the limitation that because it's kernel so it's really taking a long time to get",
    "start": "2027860",
    "end": "2034460"
  },
  {
    "text": "down to the end users so I don't want to limit it out user because that we realize TCM you and also we try to fuse",
    "start": "2034460",
    "end": "2041330"
  },
  {
    "text": "well it's too slow and in the end the block device were using the tea GTE and",
    "start": "2041330",
    "end": "2048080"
  },
  {
    "text": "ice classic combination the tea GTD is the kind of worried old ice guards the use of series user space",
    "start": "2048080",
    "end": "2054050"
  },
  {
    "text": "framework but it's very stable its I didn't see crash the curl anytime at all",
    "start": "2054050",
    "end": "2059480"
  },
  {
    "text": "and the process is most likely we ever get a little bit complicated here but",
    "start": "2059480",
    "end": "2066590"
  },
  {
    "text": "basically the engine will start a GGG target inside container and then engine",
    "start": "2066590",
    "end": "2071690"
  },
  {
    "text": "will talk to the host and using the ice cassia the meaning of the host to connect you that you digitize the TTT",
    "start": "2071690",
    "end": "2078409"
  },
  {
    "text": "target the reason is ice custody which is organized gauzy it's not really",
    "start": "2078410",
    "end": "2084350"
  },
  {
    "text": "namespaced the kernel has a they need in some kernel patch to support that that",
    "start": "2084350",
    "end": "2090260"
  },
  {
    "text": "haven't happened yet so you can only have one eye scarcity running in one",
    "start": "2090260",
    "end": "2095450"
  },
  {
    "text": "node with and the bound to and other major silver distribution already supports that so I don't want to have",
    "start": "2095450",
    "end": "2102350"
  },
  {
    "text": "our own installation and probably potentially t-strap others so after we",
    "start": "2102350",
    "end": "2108290"
  },
  {
    "text": "cutting the node and thus using Isis kasi asked us at the main to create a block device and then you can mount it",
    "start": "2108290",
    "end": "2115520"
  },
  {
    "text": "and use it in the user pod so that is how implement the blog device part alright I think we",
    "start": "2115520",
    "end": "2124080"
  },
  {
    "text": "have time for one more hi thanks for your call",
    "start": "2124080",
    "end": "2130080"
  },
  {
    "text": "do you respect data locality so so one",
    "start": "2130080",
    "end": "2135450"
  },
  {
    "text": "part is writing to the disk and using only the local disk on the local machine and not doing the writes in long form",
    "start": "2135450",
    "end": "2144540"
  },
  {
    "text": "every replica is treated the same so we're not really prioritized anyone",
    "start": "2144540",
    "end": "2150350"
  },
  {
    "text": "basically when you do a write you write to the old replicas simultaneously when",
    "start": "2150350",
    "end": "2155670"
  },
  {
    "text": "you read you basically we basically put employee round-robin mechanisms that you just read another replicas and whatever",
    "start": "2155670",
    "end": "2162840"
  },
  {
    "text": "replicas is the readwrite position we can read from it yeah bonus can can you",
    "start": "2162840",
    "end": "2170430"
  },
  {
    "text": "evict notes sorry can you evict notes so",
    "start": "2170430",
    "end": "2175860"
  },
  {
    "text": "remove it from the cluster and why yeah sure sure you can remove the from the cluster yeah because after you remove is to",
    "start": "2175860",
    "end": "2181590"
  },
  {
    "text": "basically chance that the worst case scenario is one replicas gone and then as I demonstrate on that controller",
    "start": "2181590",
    "end": "2188430"
  },
  {
    "text": "pattern slide we're going to review the replicas for another you know another node so the warning will stay healthy",
    "start": "2188430",
    "end": "2197120"
  }
]