[
  {
    "text": "Okay so let's start with the basics vulnerabilities anyone sounds familiar",
    "start": "60",
    "end": "6600"
  },
  {
    "text": "I'm sure it is um kind of all news by now right vulnerability scanning I'm",
    "start": "6600",
    "end": "13440"
  },
  {
    "text": "I'm assuming that everyone here knows what it means and you are scanning your images or your code repositories",
    "start": "13440",
    "end": "19080"
  },
  {
    "text": "for non-vulnerabilities and if you do so you probably also know that it's kind of",
    "start": "19080",
    "end": "25019"
  },
  {
    "text": "a moving Target right asking the question",
    "start": "25019",
    "end": "30060"
  },
  {
    "text": "is my image vulnerability free or is my code clean",
    "start": "30060",
    "end": "36420"
  },
  {
    "text": "because new vulnerabilities are being discovered every day many of them so we",
    "start": "36420",
    "end": "42120"
  },
  {
    "text": "need to keep asking this question all the time literally every day it's a",
    "start": "42120",
    "end": "47700"
  },
  {
    "text": "common and a good practice to rescan your images like on a nightly basis",
    "start": "47700",
    "end": "52980"
  },
  {
    "text": "let's say and this is why um because it's a moving Target the the",
    "start": "52980",
    "end": "60420"
  },
  {
    "text": "the currency for communicating vulnerability information has to be something more stable than the",
    "start": "60420",
    "end": "66659"
  },
  {
    "text": "vulnerability report itself and this is why it has to be something like the S pro which is the description of the",
    "start": "66659",
    "end": "73979"
  },
  {
    "text": "contents of the code repository of the image and that's around the time when we",
    "start": "73979",
    "end": "79140"
  },
  {
    "text": "started to have a lot of discussion in the industry about s-bomb probably heard about it as well",
    "start": "79140",
    "end": "85439"
  },
  {
    "text": "way too much about why esbom is important tooling that generates as boom",
    "start": "85439",
    "end": "93560"
  },
  {
    "text": "standards and formats around the s-bomb ecosystem I think this is where we were like maybe",
    "start": "93560",
    "end": "100640"
  },
  {
    "text": "last year and then the next logical challenge was answering the",
    "start": "100640",
    "end": "108000"
  },
  {
    "text": "question of where do we actually store this s-bomb and how do we store them okay now I have",
    "start": "108000",
    "end": "113759"
  },
  {
    "text": "plenty of them for every single artifact what do I do with them how do I make the",
    "start": "113759",
    "end": "119280"
  },
  {
    "text": "s-bomb available easily available when it's needed",
    "start": "119280",
    "end": "125040"
  },
  {
    "text": "in relevance to the artifact that it's describing so that's the first part you see the",
    "start": "125040",
    "end": "130679"
  },
  {
    "text": "numbers one two three here this is also the agenda slide so this is the first part of our talk where we start to",
    "start": "130679",
    "end": "135959"
  },
  {
    "text": "describe the new oci specifications that helps you attach the s-bomb to The Container",
    "start": "135959",
    "end": "143520"
  },
  {
    "text": "images in the registry and then we'll move on to the logical next challenge of how do I actually",
    "start": "143520",
    "end": "150120"
  },
  {
    "text": "trust what is there because this is not just any artifact these are security",
    "start": "150120",
    "end": "155760"
  },
  {
    "text": "artifacts we use them to make security decisions right critical security decisions we have to be absolutely sure",
    "start": "155760",
    "end": "162540"
  },
  {
    "text": "that we can trust the integrity and the authenticity of this",
    "start": "162540",
    "end": "168360"
  },
  {
    "text": "artifact so we'll talk a little bit about signing of this and how the",
    "start": "168360",
    "end": "174260"
  },
  {
    "text": "artifact spec relates to that and finally in the third part of the",
    "start": "174260",
    "end": "181319"
  },
  {
    "text": "talk we will show the use case of why do we even talk about all of this what are",
    "start": "181319",
    "end": "188519"
  },
  {
    "text": "these how are these building blocks fit together into a use case an end-to-end",
    "start": "188519",
    "end": "193620"
  },
  {
    "text": "use case that solves a real problem so um we'll try to simulate actually",
    "start": "193620",
    "end": "201599"
  },
  {
    "text": "this picture in our demos it's a very typical example of word folder let's say",
    "start": "201599",
    "end": "208140"
  },
  {
    "text": "that you can see in the Enterprises you have on the left side open source site",
    "start": "208140",
    "end": "213480"
  },
  {
    "text": "where open source developers are producing images they are publishing them to Docker help or ghcr",
    "start": "213480",
    "end": "221099"
  },
  {
    "text": "and on the right side you have the Enterprise so the Enterprise consumes those base images and expects that",
    "start": "221099",
    "end": "228239"
  },
  {
    "text": "actually there is some information in the base images to give them a clue is that base image really secure should I",
    "start": "228239",
    "end": "234599"
  },
  {
    "text": "use it as my base image for my development purposes or not so if you look from the flow from from left to to",
    "start": "234599",
    "end": "242040"
  },
  {
    "text": "the right so you'll see that you can already based on the new",
    "start": "242040",
    "end": "247860"
  },
  {
    "text": "developments in in the oci specification also publish s-bombs also publish even",
    "start": "247860",
    "end": "254159"
  },
  {
    "text": "vulnerability reports in the open source repositories uh when somebody in the",
    "start": "254159",
    "end": "260699"
  },
  {
    "text": "Enterprise decides to use this base image they can verify the for example",
    "start": "260699",
    "end": "265740"
  },
  {
    "text": "the authenticity of diaspam before they decide actually to use it for their builds and internally they can continue",
    "start": "265740",
    "end": "272400"
  },
  {
    "text": "this process by continuing to generate vulnerability reports sign them and",
    "start": "272400",
    "end": "279060"
  },
  {
    "text": "enforce them a deployment to their kubernetes cluster so this is once again",
    "start": "279060",
    "end": "284580"
  },
  {
    "text": "remember that picture because this is what the demos will be and how this is enabled very quickly uh",
    "start": "284580",
    "end": "292860"
  },
  {
    "text": "let's talk about how Registries used to work and how they are supposed to work in the future",
    "start": "292860",
    "end": "298860"
  },
  {
    "text": "everybody knows that container Registries started a while back when Docker actually become popular and so",
    "start": "298860",
    "end": "306419"
  },
  {
    "text": "far we were used to actually push container images in the Registries only however a few years back people started",
    "start": "306419",
    "end": "314340"
  },
  {
    "text": "actually pushing other stuff uh Helm charts was another thing that got pushed to the to the Registries and about two",
    "start": "314340",
    "end": "321600"
  },
  {
    "text": "years ago uh cosine and six store they started pushing signatures and attestations but everything was pushed",
    "start": "321600",
    "end": "328259"
  },
  {
    "text": "as a in a flat structure and it was really hard to enforce the relationship between the artifacts in each in the",
    "start": "328259",
    "end": "336180"
  },
  {
    "text": "registry itself here is where oci comes into place so thanks to all CI now we",
    "start": "336180",
    "end": "342840"
  },
  {
    "text": "can also relate artifacts in the Registries for example when I have a",
    "start": "342840",
    "end": "347940"
  },
  {
    "text": "container image and if I have a signatures for that container image I",
    "start": "347940",
    "end": "353160"
  },
  {
    "text": "can relate those and they can actually work together and this is enforced not by just the tagging convention",
    "start": "353160",
    "end": "359300"
  },
  {
    "text": "but referring the the digest of the artifacts in the actual manifests of the",
    "start": "359300",
    "end": "366240"
  },
  {
    "text": "artifacts which means it's really harder to let's say override attack and let's",
    "start": "366240",
    "end": "372240"
  },
  {
    "text": "say change the signature for a particular image and not only that",
    "start": "372240",
    "end": "377940"
  },
  {
    "text": "actually we can create a much deeper hierarchies in in the registry so I can",
    "start": "377940",
    "end": "383340"
  },
  {
    "text": "actually push a s-bomb that is related to the image I can also sign this s-bomb",
    "start": "383340",
    "end": "389280"
  },
  {
    "text": "so you can create this arbitrary structures and you can Traverse these three very easily thanks to the new",
    "start": "389280",
    "end": "395520"
  },
  {
    "text": "developments in the oci apis if you need more details actually the",
    "start": "395520",
    "end": "402180"
  },
  {
    "text": "link below uh Brandon has a very good talk uh that you can watch on YouTube",
    "start": "402180",
    "end": "407340"
  },
  {
    "text": "with much more details how LCI works and uh how it is implemented",
    "start": "407340",
    "end": "413639"
  },
  {
    "text": "so the refer-up API is the thing that actually enables this functionality so",
    "start": "413639",
    "end": "418979"
  },
  {
    "text": "everybody knows the docker V2 apis the new additions are the last two apis what",
    "start": "418979",
    "end": "425759"
  },
  {
    "text": "they allow you to do is to get all the referrals for a specific artifacts and",
    "start": "425759",
    "end": "431759"
  },
  {
    "text": "one additional capability is to get not only all the referrals but you can filter them based on the artifact type",
    "start": "431759",
    "end": "439620"
  },
  {
    "text": "looking at examples for that so uh this is the first example of calling the",
    "start": "439620",
    "end": "445620"
  },
  {
    "text": "first API where I want to get all the referrals for a specific image and as you can see here I have a vulnerability",
    "start": "445620",
    "end": "453840"
  },
  {
    "text": "reports I have uh sorry if I have uh signatures for for",
    "start": "453840",
    "end": "460560"
  },
  {
    "text": "uh the sarif I have also s-bombs and and so on everything is is linked to the",
    "start": "460560",
    "end": "466199"
  },
  {
    "text": "image if I want for example to filter something uh I can actually create a",
    "start": "466199",
    "end": "472319"
  },
  {
    "text": "filter and filter only a specific um",
    "start": "472319",
    "end": "477560"
  },
  {
    "text": "artifact types and just work with those artifact types",
    "start": "477560",
    "end": "482639"
  },
  {
    "text": "okay you tight okay so I want to show uh this the new",
    "start": "482639",
    "end": "490020"
  },
  {
    "text": "oci stuff in practice before we do that let's just examine uh something trivi",
    "start": "490020",
    "end": "496740"
  },
  {
    "text": "open source vulnerability scanner this is the typical flow of what's happening",
    "start": "496740",
    "end": "502259"
  },
  {
    "text": "when you are scanning an image first of all trivia has to pull the image locally",
    "start": "502259",
    "end": "507599"
  },
  {
    "text": "and then it can analyze the image basically create an inventory of what's",
    "start": "507599",
    "end": "512700"
  },
  {
    "text": "there and then it can match this inventory with an up-to-date vulnerability",
    "start": "512700",
    "end": "519360"
  },
  {
    "text": "database so essentially these three steps pulling analyzing matching usually",
    "start": "519360",
    "end": "524880"
  },
  {
    "text": "happens when you scan an image and then you have the report itself now the one way we can Leverage The the",
    "start": "524880",
    "end": "532920"
  },
  {
    "text": "new reference types is by splitting the process in two because",
    "start": "532920",
    "end": "538920"
  },
  {
    "text": "if we are doing a nightly scan like I described earlier the first couple of steps analyzing pulling and analyzing",
    "start": "538920",
    "end": "546240"
  },
  {
    "text": "the image they're going to be redundant in the second in the third scan because the s-bomb is not supposed to change",
    "start": "546240",
    "end": "553320"
  },
  {
    "text": "right so I can do the first couple of steps pooling and analyzing once have an s-bomb and then when I do a rescan I can",
    "start": "553320",
    "end": "561480"
  },
  {
    "text": "rescan the s-bomb basically just step three just the matching so to do that we",
    "start": "561480",
    "end": "567180"
  },
  {
    "text": "can pull the image once analyze it once create an s-bomb and then",
    "start": "567180",
    "end": "573060"
  },
  {
    "text": "where do I store the respawn I can store it right next to the image in the registry so it is very easily available",
    "start": "573060",
    "end": "579120"
  },
  {
    "text": "there and then when I want to do a scan or a rescan I just pull the s-bomb and",
    "start": "579120",
    "end": "585180"
  },
  {
    "text": "resconnect match it with the availability database and I have the result in this case I can also push the",
    "start": "585180",
    "end": "590640"
  },
  {
    "text": "result push the availability report itself to the registry to sit there next to the",
    "start": "590640",
    "end": "596760"
  },
  {
    "text": "image if anyone wants to make decisions based of it we'll take the decisions part to the last part but this is the",
    "start": "596760",
    "end": "603660"
  },
  {
    "text": "the thing you should have the mental model you should have as we go into the demo",
    "start": "603660",
    "end": "609120"
  },
  {
    "text": "okay so let's start so what I'm going to do",
    "start": "609120",
    "end": "615180"
  },
  {
    "text": "first is to run a regular",
    "start": "615180",
    "end": "620220"
  },
  {
    "text": "image scan so 3v image name of the image it's going to run the full scan it's",
    "start": "620220",
    "end": "625740"
  },
  {
    "text": "pulling the image it's analyzing the image it's matching it and we have we got some vulnerabilities in this image",
    "start": "625740",
    "end": "633480"
  },
  {
    "text": "so the first step that we wanted to do is to split the process so let's stop",
    "start": "633480",
    "end": "638580"
  },
  {
    "text": "after step one and two so I'm typing the same command here this time I'm saying I",
    "start": "638580",
    "end": "643740"
  },
  {
    "text": "just want the Cyclone DX format which essentially says generate an s-bomb and",
    "start": "643740",
    "end": "649500"
  },
  {
    "text": "stop there so I'm running this and then JV is pulling the image analyzing the image and just printing",
    "start": "649500",
    "end": "655920"
  },
  {
    "text": "the result of the analysis this is a cyclone discs Cyclone DX s-bomb I can take this as one maybe store it in",
    "start": "655920",
    "end": "664260"
  },
  {
    "text": "a file locally so here I'm just redirecting the output to a local file",
    "start": "664260",
    "end": "670380"
  },
  {
    "text": "same thing happens this time the contents are stored to the file and now instead of scanning the image like I did",
    "start": "670380",
    "end": "678180"
  },
  {
    "text": "earlier I typed to the image instead of scanning the image I'm going to scan the s-bomb so the command is a little bit",
    "start": "678180",
    "end": "684540"
  },
  {
    "text": "different JVS one and I'm pointing it to the s-bomb that needs to scan now it's doing only step",
    "start": "684540",
    "end": "691140"
  },
  {
    "text": "three it happened a lot quicker and we get pretty much the same result as in the first step except this time I can",
    "start": "691140",
    "end": "698100"
  },
  {
    "text": "repeat this process much faster all right we split the process but we",
    "start": "698100",
    "end": "703920"
  },
  {
    "text": "still haven't leveraged the new uh OCR references so let's push the s-bomb that",
    "start": "703920",
    "end": "709800"
  },
  {
    "text": "we generated to the registry to sit there right next to the image how can we do that so first of all you",
    "start": "709800",
    "end": "717300"
  },
  {
    "text": "can use any generic registry manipulation tool toddy just talked",
    "start": "717300",
    "end": "722700"
  },
  {
    "text": "about auras which is one of the options crane is another option I'm going to show here a red red cctl which is",
    "start": "722700",
    "end": "729779"
  },
  {
    "text": "another option so you can do something like 3v generate an",
    "start": "729779",
    "end": "734880"
  },
  {
    "text": "s-bomb and then pipe the result to Red CTL artifact boot you need to tell it which image it is",
    "start": "734880",
    "end": "742860"
  },
  {
    "text": "referring to the source image you need to tell it which type of artifact you",
    "start": "742860",
    "end": "748380"
  },
  {
    "text": "are pushing so this is a cyclone DX mime type and you can add any annotations",
    "start": "748380",
    "end": "754320"
  },
  {
    "text": "that you want with this artifact and this will be very handful later when we want to find",
    "start": "754320",
    "end": "762000"
  },
  {
    "text": "an artifacts that refers to the image so this is how a command that pushes the",
    "start": "762000",
    "end": "768260"
  },
  {
    "text": "the S1 to the artifact store looks like but there is a much easier way with",
    "start": "768260",
    "end": "774720"
  },
  {
    "text": "trivi so first of all you need to install a plugin so I'm doing a trivia plugin install and",
    "start": "774720",
    "end": "781139"
  },
  {
    "text": "the plugin is called referrer it's a new one that we built basically for this new spec and now we can simplify it by",
    "start": "781139",
    "end": "789060"
  },
  {
    "text": "taking the s-bomb scan and just piping it to 3v referral boot",
    "start": "789060",
    "end": "795120"
  },
  {
    "text": "that's pretty much it TV will understand that this is an s-bomb that",
    "start": "795120",
    "end": "801240"
  },
  {
    "text": "this is cycle on the access bomb it will understand which image it's supposed to represent it will also add",
    "start": "801240",
    "end": "808079"
  },
  {
    "text": "the necessary annotations so let's run this",
    "start": "808079",
    "end": "814220"
  },
  {
    "text": "and we have our first artifact in the registry you see here that it was pushed",
    "start": "814860",
    "end": "820019"
  },
  {
    "text": "and we have an image an artifact digest for it",
    "start": "820019",
    "end": "825420"
  },
  {
    "text": "that's good let's push some more artifacts just for fun so here I'm generating another S1 this time in a",
    "start": "825420",
    "end": "833459"
  },
  {
    "text": "different format it's a it's an spdx s-bomb and again I'm sending the result",
    "start": "833459",
    "end": "839040"
  },
  {
    "text": "to the registry with 3v referral boot run this",
    "start": "839040",
    "end": "846120"
  },
  {
    "text": "and we have a second artifact and let's also generate a sarif report sorry if it's a",
    "start": "846120",
    "end": "853920"
  },
  {
    "text": "format that represents the vulnerability report itself so",
    "start": "853920",
    "end": "860160"
  },
  {
    "text": "steps one two and three right including the vulnerability information and yes I just said it will probably be",
    "start": "860160",
    "end": "866639"
  },
  {
    "text": "out of date or Irrelevant in a week or in a month but we're still going to use",
    "start": "866639",
    "end": "871920"
  },
  {
    "text": "it later on in the demo so let's uh push it as well to the registry",
    "start": "871920",
    "end": "878600"
  },
  {
    "text": "all right so we have our three artifacts there to see them I can run a red City or",
    "start": "880079",
    "end": "887339"
  },
  {
    "text": "artifact list with the name of the image and it dumps everything it knows about the referrals",
    "start": "887339",
    "end": "894360"
  },
  {
    "text": "of this image so we have a lot of information here trivia can simplify this as well so I",
    "start": "894360",
    "end": "901199"
  },
  {
    "text": "can do a trivia referrals list and to see everything in a nicer way as a table so",
    "start": "901199",
    "end": "907560"
  },
  {
    "text": "we can see our three artifacts here we can see a cyclone dxpdx and sarif",
    "start": "907560",
    "end": "913800"
  },
  {
    "text": "reports something to note here is the trivia also added annotations that to mention",
    "start": "913800",
    "end": "920339"
  },
  {
    "text": "that this was created by trivi and most importantly when it was created this is not part of the spec",
    "start": "920339",
    "end": "926699"
  },
  {
    "text": "and it's super important because think about the scenario where you scan your",
    "start": "926699",
    "end": "931980"
  },
  {
    "text": "images nightly and you push every night a serif report or something like that and then you want to make a decision",
    "start": "931980",
    "end": "939899"
  },
  {
    "text": "based on the vulnerability posture of your image you would probably have tens of or hundreds I don't know how many",
    "start": "939899",
    "end": "947880"
  },
  {
    "text": "hundreds of artifacts of the same type so the type itself is not enough you",
    "start": "947880",
    "end": "952980"
  },
  {
    "text": "probably want the latest one how do you know which is the latest one you need to keep the timestamp there so with the 3D",
    "start": "952980",
    "end": "959339"
  },
  {
    "text": "plugin we also do that so we can list the artifacts as well if",
    "start": "959339",
    "end": "965820"
  },
  {
    "text": "we want to get the contents of one of them because for example I want to scan the s-bomb right so I need the contents",
    "start": "965820",
    "end": "971519"
  },
  {
    "text": "of the s-bomb I can run the list command maybe find",
    "start": "971519",
    "end": "976920"
  },
  {
    "text": "the one that I need to and then I can take the you see every one of those artifacts has an",
    "start": "976920",
    "end": "982680"
  },
  {
    "text": "has a digest so I can take the digest with a generic tool I can do a artifact",
    "start": "982680",
    "end": "989459"
  },
  {
    "text": "get and did the Sha itself which points it to the a precise location it would",
    "start": "989459",
    "end": "996959"
  },
  {
    "text": "have gotten me the the s-bomb itself but again an easier way to do that if you're",
    "start": "996959",
    "end": "1002660"
  },
  {
    "text": "dealing with security content in the registry is with the 3D plugin so you can do a trivia referral get name of the",
    "start": "1002660",
    "end": "1009199"
  },
  {
    "text": "image just tell it I want a cyclone DX and it will do all of those um three or",
    "start": "1009199",
    "end": "1015019"
  },
  {
    "text": "four steps automatically for you it will use the reverse API see which artifacts",
    "start": "1015019",
    "end": "1021320"
  },
  {
    "text": "are there filter by the type and then sort them by date and then get the",
    "start": "1021320",
    "end": "1027860"
  },
  {
    "text": "contents by digest and the result of this one command is just itself",
    "start": "1027860",
    "end": "1035000"
  },
  {
    "text": "so now that I have the s-bomb for the image I can scan it right we've seen earlier",
    "start": "1035000",
    "end": "1040579"
  },
  {
    "text": "that I can do a 3DS bomb and scan this thing that's one way to do that actually",
    "start": "1040579",
    "end": "1045620"
  },
  {
    "text": "an easier way to do that is uh to tell trivia to scan the image like we did in the first time when we",
    "start": "1045620",
    "end": "1053120"
  },
  {
    "text": "did all the three steps but this time I'm giving it a hint I'm adding s-pom sources as oci and",
    "start": "1053120",
    "end": "1060380"
  },
  {
    "text": "telling it scan this image but before you pulling it check to see if there's an s-bomb attached to this image in the",
    "start": "1060380",
    "end": "1067880"
  },
  {
    "text": "registry if if there is an S1 just skip the first couple of steps and use the S1",
    "start": "1067880",
    "end": "1074000"
  },
  {
    "text": "so I'm going to run this command slowly to show you that the first thing that",
    "start": "1074000",
    "end": "1081500"
  },
  {
    "text": "truly prints here is that it found an s-bomb in the OCR refers",
    "start": "1081500",
    "end": "1087740"
  },
  {
    "text": "which is Cyclone DX meaning that it worked like we have the S1 there so it was able to leverage that and the",
    "start": "1087740",
    "end": "1095179"
  },
  {
    "text": "results are pretty immediately",
    "start": "1095179",
    "end": "1098779"
  },
  {
    "text": "okay and now you see how actually you can use s-bombs to really do the scanning of the",
    "start": "1101960",
    "end": "1109400"
  },
  {
    "text": "image and improve the performance when you do to when you need to partially scan often the problem that we are",
    "start": "1109400",
    "end": "1115280"
  },
  {
    "text": "facing now is like do you trust these s-bombs right because everybody can go and eventually push an s-bomb to to the",
    "start": "1115280",
    "end": "1122660"
  },
  {
    "text": "registry right if somebody takes over the registry they can replace the s-bombs and and so on so just having",
    "start": "1122660",
    "end": "1130340"
  },
  {
    "text": "this bomb attached to the images uh not reliable what we need to do is to really",
    "start": "1130340",
    "end": "1136100"
  },
  {
    "text": "ensure that there is some Integrity in the every artifact that we are pushing to the registry here is where two open",
    "start": "1136100",
    "end": "1143000"
  },
  {
    "text": "source projects come in place one is the cosine or from six door and the other",
    "start": "1143000",
    "end": "1148340"
  },
  {
    "text": "one is the notary project how that works so I will show you how",
    "start": "1148340",
    "end": "1155179"
  },
  {
    "text": "you can use cosine to assign all the images that itai just pushed",
    "start": "1155179",
    "end": "1162880"
  },
  {
    "text": "remember the picture that we had at the beginning so you have the open source side where actually open source",
    "start": "1162880",
    "end": "1169039"
  },
  {
    "text": "developers can push images to ghcr or Docker Hub they can sign them with",
    "start": "1169039",
    "end": "1174679"
  },
  {
    "text": "cosine they can also push vulnerability reports as bombs they can also assign them with cosine and the next step will",
    "start": "1174679",
    "end": "1182299"
  },
  {
    "text": "be we will take these images we'll copy them in a private registry and we will resign them with",
    "start": "1182299",
    "end": "1189559"
  },
  {
    "text": "a notary so let's start on that first we'll look",
    "start": "1189559",
    "end": "1196700"
  },
  {
    "text": "at again what was the structure that e-time produced so as you can see we",
    "start": "1196700",
    "end": "1202520"
  },
  {
    "text": "have an image with a cyclone DX spdx and a sarif Json",
    "start": "1202520",
    "end": "1208460"
  },
  {
    "text": "we will sign the image with cosine first so this is the signing of the image and",
    "start": "1208460",
    "end": "1215419"
  },
  {
    "text": "now we will go and sign each individual artifact starting with the second DX",
    "start": "1215419",
    "end": "1221020"
  },
  {
    "text": "the actually the referrer apis",
    "start": "1221020",
    "end": "1226520"
  },
  {
    "text": "they are a relatively simplistic right now so we need to do some magic with JQ",
    "start": "1226520",
    "end": "1231679"
  },
  {
    "text": "in order to select the right artifacts there and to find the digest of the",
    "start": "1231679",
    "end": "1237919"
  },
  {
    "text": "artifacts in order to uh to sign them so we signed already the Cyclone DX now we",
    "start": "1237919",
    "end": "1243320"
  },
  {
    "text": "are signing the spdx with cosine and the last thing that we'll do is",
    "start": "1243320",
    "end": "1248900"
  },
  {
    "text": "we'll sign the serif with cosine let it finish that will be pretty fast",
    "start": "1248900",
    "end": "1256640"
  },
  {
    "text": "during this process actually this can be completely automated in cicd pipelines",
    "start": "1256640",
    "end": "1262580"
  },
  {
    "text": "for open source development typical example is GitHub actions now what we are doing is actually we are",
    "start": "1262580",
    "end": "1270679"
  },
  {
    "text": "copying all these artifacts that are stored in ghcr into a private Enterprise",
    "start": "1270679",
    "end": "1276559"
  },
  {
    "text": "registry and this is the the new structure it",
    "start": "1276559",
    "end": "1282200"
  },
  {
    "text": "keeps all the digests in the private registry so all the signatures are still valid from cosine and as you can see we",
    "start": "1282200",
    "end": "1289159"
  },
  {
    "text": "are verifying the image here uh the signature of the image and we are",
    "start": "1289159",
    "end": "1294740"
  },
  {
    "text": "resigning now with notary the reason we are doing that is very often Enterprises",
    "start": "1294740",
    "end": "1300679"
  },
  {
    "text": "they actually want to verify the artifacts before they allow them to be used internally and also they want to",
    "start": "1300679",
    "end": "1307220"
  },
  {
    "text": "sign it with some uh internal uh key that is trusted within the Enterprise",
    "start": "1307220",
    "end": "1312700"
  },
  {
    "text": "because else they need to actually add too many uh trust",
    "start": "1312700",
    "end": "1318400"
  },
  {
    "text": "sources if they've actually take images base images from various open source",
    "start": "1318400",
    "end": "1324020"
  },
  {
    "text": "Developers so we signed the um image we are",
    "start": "1324020",
    "end": "1330820"
  },
  {
    "text": "resigned verifying the Cyclone DX and the spdx and the sarif and resigning them",
    "start": "1330820",
    "end": "1338539"
  },
  {
    "text": "internally so uh it's it's a lot of text but those",
    "start": "1338539",
    "end": "1343700"
  },
  {
    "text": "are all the steps that actually are going through last we are actually linking the three",
    "start": "1343700",
    "end": "1351980"
  },
  {
    "text": "and as you can see in the three now we have everything that we copied from ghcr",
    "start": "1351980",
    "end": "1358400"
  },
  {
    "text": "and added the signatures for let's say notary so each artifact has two",
    "start": "1358400",
    "end": "1364520"
  },
  {
    "text": "signatures the cosine signature and the notary signature now inside the Enterprise I can go and actually verify",
    "start": "1364520",
    "end": "1372140"
  },
  {
    "text": "the notary signature and move forward with my deployments there",
    "start": "1372140",
    "end": "1377960"
  },
  {
    "text": "so this is the process that we went through once again to summarize so we",
    "start": "1377960",
    "end": "1384260"
  },
  {
    "text": "pulled the image we analyze it uh we generate the s-bomb sine dice bomb push",
    "start": "1384260",
    "end": "1390559"
  },
  {
    "text": "this bomb and then uh when we actually wanna uh rescan again we can pull the",
    "start": "1390559",
    "end": "1397820"
  },
  {
    "text": "s-bomb verify the signature of the s-bomb and uh do the scanning",
    "start": "1397820",
    "end": "1403880"
  },
  {
    "text": "there",
    "start": "1403880",
    "end": "1406419"
  },
  {
    "text": "all right so to recap everything in one end-to-end",
    "start": "1409340",
    "end": "1414559"
  },
  {
    "text": "example Let's uh in the in the left part of this",
    "start": "1414559",
    "end": "1420380"
  },
  {
    "text": "slide you see everything we've gone through so far we have an image it has some artifacts",
    "start": "1420380",
    "end": "1426860"
  },
  {
    "text": "in the registry everything is signed everything is ready to be used now let's use it what do we",
    "start": "1426860",
    "end": "1432919"
  },
  {
    "text": "do with this image let's deploy it to kubernetes this is on the right side so when we are about to deploy the image we",
    "start": "1432919",
    "end": "1440960"
  },
  {
    "text": "will also want to enforce some policies at the deployed I'm at admission time on",
    "start": "1440960",
    "end": "1448580"
  },
  {
    "text": "kubernetes for that we're going to use kiverno which is the cncf open source project",
    "start": "1448580",
    "end": "1453880"
  },
  {
    "text": "that were quick enough to implement the new spec for us for this talk to",
    "start": "1453880",
    "end": "1459620"
  },
  {
    "text": "demonstrate so kudos to Kevin for the hard work and what we're going to do is",
    "start": "1459620",
    "end": "1466340"
  },
  {
    "text": "to uh create a policy now easily when you think about an admission policy it gets",
    "start": "1466340",
    "end": "1472640"
  },
  {
    "text": "this the the Pod spec for example so you have everything in the Pod spec to make decision on for example",
    "start": "1472640",
    "end": "1479299"
  },
  {
    "text": "where is my image coming from what attributes are in the spec or think",
    "start": "1479299",
    "end": "1484520"
  },
  {
    "text": "something like that in this case we want to tell kivano that the attestation is",
    "start": "1484520",
    "end": "1489679"
  },
  {
    "text": "not on the contents of the spec it's on something else so kivano needs to go to the registry pull something else like",
    "start": "1489679",
    "end": "1496820"
  },
  {
    "text": "the S1 for the image and then we can only make the attestation so",
    "start": "1496820",
    "end": "1504020"
  },
  {
    "text": "let's see how this can look like so first of all",
    "start": "1504020",
    "end": "1511600"
  },
  {
    "text": "just to recap to referral three we have all the we have our image everything is",
    "start": "1511720",
    "end": "1518480"
  },
  {
    "text": "uh is signed and everything is there the s-bomb and the vulnerability report itself this is a starting point now",
    "start": "1518480",
    "end": "1524840"
  },
  {
    "text": "let's look at the first policy the first given a policy that is just verifying the image",
    "start": "1524840",
    "end": "1531080"
  },
  {
    "text": "signature equivalent policy is just a yaml uh a kubernetes resource so it's a",
    "start": "1531080",
    "end": "1537559"
  },
  {
    "text": "cluster policy kind and we are enforcing that any pod this",
    "start": "1537559",
    "end": "1545179"
  },
  {
    "text": "is the resource selector what this policy applies to any pod and what we want to do is to verify the images",
    "start": "1545179",
    "end": "1551900"
  },
  {
    "text": "using notary there are different kinds of verifiers also cosine in this case we're using notary",
    "start": "1551900",
    "end": "1557779"
  },
  {
    "text": "for the signature it will apply to any image coming from this registry or",
    "start": "1557779",
    "end": "1563000"
  },
  {
    "text": "private registry which we copied everything to and that the attestation is for the",
    "start": "1563000",
    "end": "1569360"
  },
  {
    "text": "public certificate so we want to make sure that the image was signed with the same public",
    "start": "1569360",
    "end": "1575000"
  },
  {
    "text": "certificate that we expect you can see that I I don't actually print the",
    "start": "1575000",
    "end": "1580520"
  },
  {
    "text": "certificate contents here I could have just pasted the certificate contents here but just for readability I store",
    "start": "1580520",
    "end": "1587840"
  },
  {
    "text": "the the certificate as a config map you see here I'm referring to a config map",
    "start": "1587840",
    "end": "1593179"
  },
  {
    "text": "in the kivano namespace I created a config map called keys and it has the",
    "start": "1593179",
    "end": "1598700"
  },
  {
    "text": "certificate itself so here I can just refer to it like so so this is a very",
    "start": "1598700",
    "end": "1604039"
  },
  {
    "text": "simple kind of almost like a copy paste take it to your cluster and it will also work a policy",
    "start": "1604039",
    "end": "1611299"
  },
  {
    "text": "uh so to create it we just it's a kubernetes resource right so we just give CTL create it and what's once it's",
    "start": "1611299",
    "end": "1618320"
  },
  {
    "text": "deployed we can try to deploy our pod the same one that we",
    "start": "1618320",
    "end": "1624080"
  },
  {
    "text": "signed it succeeded that's a good sign it it didn't just succeed it actually",
    "start": "1624080",
    "end": "1629659"
  },
  {
    "text": "passed through the policy because it is signed with the right certificate so it",
    "start": "1629659",
    "end": "1635840"
  },
  {
    "text": "worked we can also double check that it worked because the for this running",
    "start": "1635840",
    "end": "1642080"
  },
  {
    "text": "so let's clean it up and look at the next policy the next policy is going to esque Verno",
    "start": "1642080",
    "end": "1649520"
  },
  {
    "text": "to pull the s-bomb so it starts the same exactly the same until we get to this",
    "start": "1649520",
    "end": "1655820"
  },
  {
    "text": "part when we verify the image using notary and here in that station we say",
    "start": "1655820",
    "end": "1660860"
  },
  {
    "text": "that it needs a predicate of type Cyclone DX this is the line that tells",
    "start": "1660860",
    "end": "1666020"
  },
  {
    "text": "giverno to find the s-bomb for the image that I",
    "start": "1666020",
    "end": "1671299"
  },
  {
    "text": "deployed and first of all before we make an attestation we just verify the signature",
    "start": "1671299",
    "end": "1676820"
  },
  {
    "text": "of the esplan this is different from before before we verify the signature of the image now we're verifying that the",
    "start": "1676820",
    "end": "1684380"
  },
  {
    "text": "s-bomb is signed that we can trust the s-bomb itself after we know we can trust it we can",
    "start": "1684380",
    "end": "1689600"
  },
  {
    "text": "check inside of the s-bomb so here I'm saying let's look at all of the",
    "start": "1689600",
    "end": "1695659"
  },
  {
    "text": "components all of the licenses of all of the components and I want to see that none of them are GPL 203 typical",
    "start": "1695659",
    "end": "1703279"
  },
  {
    "text": "Enterprise policy I don't want any GPA license dependencies running so this is",
    "start": "1703279",
    "end": "1709039"
  },
  {
    "text": "how you can enforce something like that and let's create it group CTL create this policy",
    "start": "1709039",
    "end": "1715520"
  },
  {
    "text": "and now we can deploy our pod this time it fails it should fail because we do",
    "start": "1715520",
    "end": "1721460"
  },
  {
    "text": "have a GPL dependency which is good and we can actually double",
    "start": "1721460",
    "end": "1727400"
  },
  {
    "text": "check that there is no pod running right now because kivano blocked it",
    "start": "1727400",
    "end": "1732820"
  },
  {
    "text": "so let's clean up and look at the third policy",
    "start": "1732919",
    "end": "1738158"
  },
  {
    "text": "so the third policy is looking at the vulnerability report itself not the s-bomb the one including the",
    "start": "1738679",
    "end": "1744260"
  },
  {
    "text": "availability information starts exactly the same until we get to this part when we attest",
    "start": "1744260",
    "end": "1751279"
  },
  {
    "text": "the predicate this time I'm looking for a sarif kind of artifact in the registry",
    "start": "1751279",
    "end": "1759080"
  },
  {
    "text": "and if we find something like this we first of all verify that we trust it using the signature and then I can look",
    "start": "1759080",
    "end": "1767299"
  },
  {
    "text": "into the vulnerability report itself now because this is the sarif report is a very generic kind of standard",
    "start": "1767299",
    "end": "1775220"
  },
  {
    "text": "um there is no easy way to look at the summary of our nobilities so if trivia",
    "start": "1775220",
    "end": "1780740"
  },
  {
    "text": "generated it we know that trivia would record the severity of the vulnerabilities in a certain way so",
    "start": "1780740",
    "end": "1787159"
  },
  {
    "text": "first of all before we do anything I just want to make sure that the tool that created this Arif and this is one",
    "start": "1787159",
    "end": "1793340"
  },
  {
    "text": "of the fields it's recorded in the report equals to 3v this is just to make sure that we can work with this",
    "start": "1793340",
    "end": "1799940"
  },
  {
    "text": "and then I can do another test that basically checks that there are no critical or",
    "start": "1799940",
    "end": "1806960"
  },
  {
    "text": "high vulnerabilities this is what I want to see and if we KUB CTL create this policy and try",
    "start": "1806960",
    "end": "1815720"
  },
  {
    "text": "to deploy our image then it failed it's a good sign because we do have a",
    "start": "1815720",
    "end": "1821840"
  },
  {
    "text": "critical vulnerability if we are going to want to see the",
    "start": "1821840",
    "end": "1829279"
  },
  {
    "text": "the other side of this so let's say we have a fixed version of this so this is a real image that doesn't have this",
    "start": "1829279",
    "end": "1835880"
  },
  {
    "text": "vulnerability to make it work we had to rescan it and push the serif report to",
    "start": "1835880",
    "end": "1841760"
  },
  {
    "text": "the registry and sign it right in order to see this works and this is what this best image fixed means",
    "start": "1841760",
    "end": "1848659"
  },
  {
    "text": "um and if we run this image it works so it passed through the policy and it's",
    "start": "1848659",
    "end": "1854299"
  },
  {
    "text": "the policy was happy with everything it saw there so",
    "start": "1854299",
    "end": "1859460"
  },
  {
    "text": "claps all right yeah we can take slabs um",
    "start": "1859460",
    "end": "1865220"
  },
  {
    "text": "all right so that's uh the grand finale",
    "start": "1865220",
    "end": "1870260"
  },
  {
    "text": "um what did we learn here yeah so um what we learned is uh with",
    "start": "1870260",
    "end": "1877159"
  },
  {
    "text": "the new oci changes it's uh making it easier for us to start",
    "start": "1877159",
    "end": "1882440"
  },
  {
    "text": "managing not only the images but also vulnerabilities as bombs and everything",
    "start": "1882440",
    "end": "1887539"
  },
  {
    "text": "is stored in one place however of course we we hit certain challenges right now",
    "start": "1887539",
    "end": "1892700"
  },
  {
    "text": "so oci is not very specific about the let's say the artifact types for example",
    "start": "1892700",
    "end": "1899480"
  },
  {
    "text": "when you push s-bombs to um to the Registries we cannot use let's say",
    "start": "1899480",
    "end": "1906440"
  },
  {
    "text": "generic as bomb type we need to be very specific right now we use the",
    "start": "1906440",
    "end": "1911480"
  },
  {
    "text": "Ayana media types for the artifact types the question is are they actually",
    "start": "1911480",
    "end": "1917380"
  },
  {
    "text": "specific enough or generic enough or go through all the scenarios or one of the things that that we hit is like us did I",
    "start": "1917380",
    "end": "1924799"
  },
  {
    "text": "mentioned sorry if that so sarif can describe also other problems not vulnerabilities only so how do we",
    "start": "1924799",
    "end": "1931760"
  },
  {
    "text": "differentiate between a serif report that is for vulnerability sensory report that is for other type of bugs in the",
    "start": "1931760",
    "end": "1937700"
  },
  {
    "text": "software annotation standardization was another thing uh we had to create custom",
    "start": "1937700",
    "end": "1945980"
  },
  {
    "text": "annotations like created by trivi because currently oci doesn't have any",
    "start": "1945980",
    "end": "1951740"
  },
  {
    "text": "guidance on how for example we should store the two that generated either less",
    "start": "1951740",
    "end": "1957919"
  },
  {
    "text": "bomb or the report in the artifact itself we looked at some suggestions",
    "start": "1957919",
    "end": "1963919"
  },
  {
    "text": "that oci had like for example or coupon containers image created as for example",
    "start": "1963919",
    "end": "1971299"
  },
  {
    "text": "date for that or vendor however vendor is too generic in our case so that's why",
    "start": "1971299",
    "end": "1977600"
  },
  {
    "text": "we went with created by trivi so",
    "start": "1977600",
    "end": "1982720"
  },
  {
    "text": "another thing we learned is that getting the artifact is much the right artifact",
    "start": "1983440",
    "end": "1989899"
  },
  {
    "text": "is much harder than just pushing it there because the new specs is basically just a way to put",
    "start": "1989899",
    "end": "1996260"
  },
  {
    "text": "stuff arbitrary stuff in the registry and Link them to the image now if I want",
    "start": "1996260",
    "end": "2002200"
  },
  {
    "text": "I know that I pushed like every day sorry report there and now I want the",
    "start": "2002200",
    "end": "2007480"
  },
  {
    "text": "right one to make decisions on there is certain step that I need to make some of them are manual some that can be",
    "start": "2007480",
    "end": "2014140"
  },
  {
    "text": "automated first of all I can ask the refers API give me all the refers of",
    "start": "2014140",
    "end": "2019179"
  },
  {
    "text": "this image the only filterable thing I can do there is by type but as Dodi said",
    "start": "2019179",
    "end": "2025299"
  },
  {
    "text": "if I'm asking for a sorry if I don't really know what I'm gonna get it's like saying give me a Json what is it is it a",
    "start": "2025299",
    "end": "2032679"
  },
  {
    "text": "vulnerability report or what is it um another thing is um like after I got the referrals I can",
    "start": "2032679",
    "end": "2040600"
  },
  {
    "text": "maybe look at the annotations that uh it has but this is up to the client that",
    "start": "2040600",
    "end": "2046539"
  },
  {
    "text": "pushed the image to populate the right annotations and um I this is a place where um",
    "start": "2046539",
    "end": "2054280"
  },
  {
    "text": "conventions will come into play probably but this is another step that you need",
    "start": "2054280",
    "end": "2059980"
  },
  {
    "text": "to take on the client side to further locate the right artifact that you're",
    "start": "2059980",
    "end": "2065679"
  },
  {
    "text": "looking for and that might not even be enough because sometimes if it doesn't have The",
    "start": "2065679",
    "end": "2072158"
  },
  {
    "text": "annotation you need to actually look into the contents of the file itself to to decide if it's right for you or not",
    "start": "2072159",
    "end": "2078339"
  },
  {
    "text": "for example if it didn't have the time step and annotation maybe you need to look at the timestamp from inside of the",
    "start": "2078339",
    "end": "2086138"
  },
  {
    "text": "file which is another step this is pretty much all of those three steps are",
    "start": "2086139",
    "end": "2091658"
  },
  {
    "text": "encapsulated in the 3v refer get command this is what we actually do there",
    "start": "2091659",
    "end": "2097180"
  },
  {
    "text": "um and finally the specifications are not exactly accurate I mean a 3vs bomb",
    "start": "2097180",
    "end": "2102820"
  },
  {
    "text": "is not the same as a regular response we had to push some more information there to make the vulnerability report more",
    "start": "2102820",
    "end": "2109720"
  },
  {
    "text": "accurate some of it is the related to the s-bomb spec some of this is like",
    "start": "2109720",
    "end": "2115140"
  },
  {
    "text": "adjacent to it like the Purl spec or something like that but it's another",
    "start": "2115140",
    "end": "2120640"
  },
  {
    "text": "thing to keep in mind that even though everything is standardized it's not always the same exactly the same",
    "start": "2120640",
    "end": "2126220"
  },
  {
    "text": "implementation all right so thank you very much thank",
    "start": "2126220",
    "end": "2132520"
  },
  {
    "text": "you very much [Applause]",
    "start": "2132520",
    "end": "2138649"
  }
]