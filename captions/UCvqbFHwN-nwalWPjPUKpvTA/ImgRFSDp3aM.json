[
  {
    "text": "all right so hello everyone uh another session of our cncf um research and user",
    "start": "1040",
    "end": "8719"
  },
  {
    "text": "group uh today we'll have one main topic which is an update on the developments",
    "start": "8719",
    "end": "14799"
  },
  {
    "text": "on upam kubernetes on the area of jobs and job set and we have Kevin to give us",
    "start": "14799",
    "end": "20800"
  },
  {
    "text": "the update so thanks a lot Kevin and um yeah go ahead of course yes hi everyone",
    "start": "20800",
    "end": "26679"
  },
  {
    "text": "I'm glad to be here uh so yeah today I'm GNA talk about the updates on what the",
    "start": "26679",
    "end": "32279"
  },
  {
    "text": "kubernetes community has been doing in the job API and I'm also going to introduce a project called jobset uh I",
    "start": "32279",
    "end": "39360"
  },
  {
    "text": "actually started my career as a kubernetes engineer trying to support uh",
    "start": "39360",
    "end": "44399"
  },
  {
    "text": "researchers running scientific workflows on both slurm and kubernetes and I kind",
    "start": "44399",
    "end": "51280"
  },
  {
    "text": "of saw there were a lot of gaps in the kubernetes space around bat scheduling",
    "start": "51280",
    "end": "56399"
  },
  {
    "text": "and I've been kind of trying to improve that ever since uh I currently work as a senior software",
    "start": "56399",
    "end": "63359"
  },
  {
    "text": "engineer at Red Hat uh Focus mostly on kubernetes upstream and so I spend a lot",
    "start": "63359",
    "end": "69640"
  },
  {
    "text": "of time looking at all this uh so kind of to start off with what I like to kind",
    "start": "69640",
    "end": "75159"
  },
  {
    "text": "of go through is what actually happens when a pod like what what's actually going on when a pod is created uh at the",
    "start": "75159",
    "end": "82759"
  },
  {
    "text": "end of the day like a user or a workload is going to create a pod and then that",
    "start": "82759",
    "end": "88240"
  },
  {
    "text": "goes to the API server and then uh get stored in etcd and then",
    "start": "88240",
    "end": "93360"
  },
  {
    "text": "the scheduler which is uh Cube scheduler and kubernetes will actually be trying",
    "start": "93360",
    "end": "98399"
  },
  {
    "text": "to find a node that satisfies the Pod requests uh what I've seen from the",
    "start": "98399",
    "end": "105880"
  },
  {
    "text": "usearch in the HPC Community is that typically the scheduler is very different from like stuff like uh like",
    "start": "105880",
    "end": "112840"
  },
  {
    "text": "slurm or yarn because it kind of has a much limited scope I would say it's",
    "start": "112840",
    "end": "118799"
  },
  {
    "text": "really for it's doing node level scheduling and so that's like one area that's kind of different and then",
    "start": "118799",
    "end": "125600"
  },
  {
    "text": "effectively a lot of the the bindings to the CPU and all that kind of stuff is done in cuet uh and that's cuet is a",
    "start": "125600",
    "end": "133000"
  },
  {
    "text": "node agent that actually runs uh the container that communicates with the container runtime such as cryo or",
    "start": "133000",
    "end": "139599"
  },
  {
    "text": "container Rd to actually start your pod or start your images all that and so why",
    "start": "139599",
    "end": "146959"
  },
  {
    "text": "I brought this up is because I think this is important to have your a mental model for like what actually happens",
    "start": "146959",
    "end": "152480"
  },
  {
    "text": "when you create a pod this is I I call this like it's kind of like a scheduling or it's like the Pod life cycle Loop and",
    "start": "152480",
    "end": "159599"
  },
  {
    "text": "effectively it's sort of like a racehorse like as soon as you create a pod you are you're hitting this Loop and",
    "start": "159599",
    "end": "165480"
  },
  {
    "text": "if you have too many pods uh you can actually cause some problems in your",
    "start": "165480",
    "end": "171000"
  },
  {
    "text": "cluster so generally when you're building a batch platform or really like",
    "start": "171000",
    "end": "176680"
  },
  {
    "text": "kubernetes 101 is really all about like you should use some kind of workload to",
    "start": "176680",
    "end": "182560"
  },
  {
    "text": "manage pods so for for microservices really kubernetes tries to encourage",
    "start": "182560",
    "end": "188200"
  },
  {
    "text": "people to use deployments or state full sets if you need State uh and that's and",
    "start": "188200",
    "end": "193720"
  },
  {
    "text": "those that's designed to keep your pods running forever uh and then you and so why is",
    "start": "193720",
    "end": "200519"
  },
  {
    "text": "that useful because you kind of get self-healing in your workload so if a node goes down and your pod is failing",
    "start": "200519",
    "end": "207799"
  },
  {
    "text": "it will actually recreate and start the scheduling Loop all over again and find a new node for you and it keeps your",
    "start": "207799",
    "end": "213720"
  },
  {
    "text": "microservices up and running uh and now I think that honestly what I have seen",
    "start": "213720",
    "end": "219000"
  },
  {
    "text": "over the years our batch users want the same kind of behavior for running",
    "start": "219000",
    "end": "224200"
  },
  {
    "text": "workloads like if a node fails they want to relocate to a different node so that",
    "start": "224200",
    "end": "229480"
  },
  {
    "text": "they can continue their jobs running now it's a bit harder to support in the batch case because you got a lot of",
    "start": "229480",
    "end": "235319"
  },
  {
    "text": "state and some of these calculations are using expensive devices so you might",
    "start": "235319",
    "end": "240400"
  },
  {
    "text": "have to handle things a little bit differently but generally there's not much difference between a batch user and",
    "start": "240400",
    "end": "245959"
  },
  {
    "text": "a microservices in the sense that they want self-healing the last thing is generally",
    "start": "245959",
    "end": "253799"
  },
  {
    "text": "the PO API is a is an atomic component in kubernetes it's used everywhere for",
    "start": "253799",
    "end": "259680"
  },
  {
    "text": "all kind of workloads and trying to add API API changes into the Pod API to",
    "start": "259680",
    "end": "266560"
  },
  {
    "text": "benefit the batch user doesn't really go over that well uh because you would need to think of",
    "start": "266560",
    "end": "272280"
  },
  {
    "text": "all the cases around microservices and all that and make sure that your use case fits both so typically I what I I",
    "start": "272280",
    "end": "280800"
  },
  {
    "text": "don't really encourage people to try and propose new apis and the Pod API for the",
    "start": "280800",
    "end": "285880"
  },
  {
    "text": "batch use case and the last one that is super important for a batch user is",
    "start": "285880",
    "end": "291520"
  },
  {
    "text": "queuing this kind of helps mitigate the Thundering Herd issue on clusters where",
    "start": "291520",
    "end": "297160"
  },
  {
    "text": "if you have too many pods getting created you're draining your cluster because you have that scheduling Loop",
    "start": "297160",
    "end": "302919"
  },
  {
    "text": "continuously going on and on and on and you can actually either you know best",
    "start": "302919",
    "end": "308479"
  },
  {
    "text": "case after a while you might slow down your cluster so the API server might take a little bit longer but you can",
    "start": "308479",
    "end": "314720"
  },
  {
    "text": "actually also potentially lock up at CD and then you can actually uh have to",
    "start": "314720",
    "end": "320039"
  },
  {
    "text": "take some manual efforts to get your cluster back in a functional state so typically this is a major problem when",
    "start": "320039",
    "end": "326400"
  },
  {
    "text": "you're having way more pods than you have capacity on your cluster so you have a lot of PODS kind of getting stuck",
    "start": "326400",
    "end": "332039"
  },
  {
    "text": "in a scheduling Loop so this is the reason why there are a",
    "start": "332039",
    "end": "337319"
  },
  {
    "text": "lot of Open Source uh some of these are cncf projects others are a projects as",
    "start": "337319",
    "end": "343280"
  },
  {
    "text": "part of Apache and others are other some are separate open source projects entirely but this is why there's so many",
    "start": "343280",
    "end": "350240"
  },
  {
    "text": "of these projects like I have listed a few of them I'm I think there are actually more now every year it seems I",
    "start": "350240",
    "end": "356080"
  },
  {
    "text": "hear a new one being created but generally volcano is kind of one of the first ones to the it's one of the first",
    "start": "356080",
    "end": "362639"
  },
  {
    "text": "projects I know of for running batch uh Sy or doing batch jobs on top of",
    "start": "362639",
    "end": "368560"
  },
  {
    "text": "kubernetes they kind of have their own queuing and scheduling and it's a really full-fledged platform for running batch",
    "start": "368560",
    "end": "375560"
  },
  {
    "text": "jobs Armada was a project for running is a project for running pods across",
    "start": "375560",
    "end": "380880"
  },
  {
    "text": "multiple kubernetes clusters it kind of tries to replicate the idea of HT Condor uh and Cube flow I'll talk a lot",
    "start": "380880",
    "end": "387960"
  },
  {
    "text": "more about Cube flow through this talk but generally C flow is a collection of controllers trying to help machine",
    "start": "387960",
    "end": "395080"
  },
  {
    "text": "learning people run uh those types of those types of things on kubernetes so",
    "start": "395080",
    "end": "401199"
  },
  {
    "text": "they have you know various things like a notebook controller they also have training and they have stuff like uh I",
    "start": "401199",
    "end": "407680"
  },
  {
    "text": "forgot what they have a lot of things in there for pipe for machine learning pipelines and they kind of have designated controllers for each of these",
    "start": "407680",
    "end": "415680"
  },
  {
    "text": "components those are the main ones so what you what's the main problem that",
    "start": "415680",
    "end": "421400"
  },
  {
    "text": "you have with all these different apis well each of them took a like most of them take a different approach for how",
    "start": "421400",
    "end": "428240"
  },
  {
    "text": "to represent a a job uh Cube flow kind of has a similar pattern for the most",
    "start": "428240",
    "end": "433280"
  },
  {
    "text": "part of they use a pod and a service uh to rep and then they have a higher level",
    "start": "433280",
    "end": "438560"
  },
  {
    "text": "workload called like you know depending on your machine learning framework of choice they have a job designated for",
    "start": "438560",
    "end": "444440"
  },
  {
    "text": "that and then uh all of them kind of have you know different approaches and",
    "start": "444440",
    "end": "449560"
  },
  {
    "text": "honestly it's a little bit it's pretty chaotic because you know it was not clear to me when I first started at this",
    "start": "449560",
    "end": "455440"
  },
  {
    "text": "like if I want to run a batch job and kubernetes like what should I use should I use a kubernetes job should I use a",
    "start": "455440",
    "end": "463479"
  },
  {
    "text": "cube flow should I use volcano do I use Armada like I don't really know and to be honest the answer is kind of it's",
    "start": "463479",
    "end": "470280"
  },
  {
    "text": "confusing to me and I think it's confusing to a lot of people because there's a lot of different ways to do this",
    "start": "470280",
    "end": "476199"
  },
  {
    "text": "so to be honest we're kind of it was kind of in a chaotic State a few years ago because like to be honest the job",
    "start": "476199",
    "end": "482599"
  },
  {
    "text": "API was not quite there to support a lot of these use cases so this is why these",
    "start": "482599",
    "end": "488199"
  },
  {
    "text": "projects were created uh and and over the last few years there's been a a working group in",
    "start": "488199",
    "end": "494240"
  },
  {
    "text": "the kubernetes community uh called uh I guess the working group batch is what the title is",
    "start": "494240",
    "end": "501000"
  },
  {
    "text": "uh in the kubernetes slack it's WG hyphen batch uh this is basically they were",
    "start": "501000",
    "end": "508680"
  },
  {
    "text": "designed to kind kind of reduce the chaos in the ecosystem if you will we wanted to kind of say we want to improve",
    "start": "508680",
    "end": "516360"
  },
  {
    "text": "the job API in kubernetes so that people can use that rather than having to use",
    "start": "516360",
    "end": "522000"
  },
  {
    "text": "these separate projects to run jobs and then kind of causing a maintenance problem where every group was sort of",
    "start": "522000",
    "end": "528800"
  },
  {
    "text": "supporting this in a different way uh and so the top I'm G to focus on the top",
    "start": "528800",
    "end": "534120"
  },
  {
    "text": "two bullet points for the rest of this talk I'm going to go through kind of",
    "start": "534120",
    "end": "539200"
  },
  {
    "text": "what has actually been done in the batch API to make it an easier an easier way",
    "start": "539200",
    "end": "545120"
  },
  {
    "text": "to run batch jobs in kubernetes and also talk a little bit about workload or job",
    "start": "545120",
    "end": "550480"
  },
  {
    "text": "level queuing through a project called Q uh and some other areas that I think are",
    "start": "550480",
    "end": "555959"
  },
  {
    "text": "actually really interesting but I did not cover in this talk are the last two bullet points which is uh you know how",
    "start": "555959",
    "end": "563000"
  },
  {
    "text": "to control and maximize utilization of resources in on-prem and and Cloud",
    "start": "563000",
    "end": "568160"
  },
  {
    "text": "clusters and other one is runtime and scheduling support that actually has been splintered off into a separate",
    "start": "568160",
    "end": "574800"
  },
  {
    "text": "working group because it is actually a very interesting problem that involves a",
    "start": "574800",
    "end": "581240"
  },
  {
    "text": "lot of different people and you know you might see in kubernetes there's a a device management group that's actually",
    "start": "581240",
    "end": "587440"
  },
  {
    "text": "kind of leading a lot of this effort for for how to design this in a better way but if you are curious you can slack me",
    "start": "587440",
    "end": "595519"
  },
  {
    "text": "and I can tell you more about that but I won't talk more about that in the rest of this talk",
    "start": "595519",
    "end": "601000"
  },
  {
    "text": "so what is the job API if you're not familiar I just want to kind of give a couple components to highlight uh jaob",
    "start": "601000",
    "end": "609320"
  },
  {
    "text": "API pretty simple I would say probably the biggest problem in the early stages is it didn't really fit a lot of the HPC",
    "start": "609320",
    "end": "616360"
  },
  {
    "text": "use case because there is there was no communication among the PODS of a",
    "start": "616360",
    "end": "622160"
  },
  {
    "text": "job uh and so but effectively what the job API is doing is you have this pod",
    "start": "622160",
    "end": "629040"
  },
  {
    "text": "templ template and you have parallelisms which is kind of similar to replicas and you have this completions which is how",
    "start": "629040",
    "end": "635680"
  },
  {
    "text": "many of your pods once they're complete can I mark my job as a success so in",
    "start": "635680",
    "end": "640839"
  },
  {
    "text": "this case I have one replica and one completion that means that if one of my pods succeed which is all of them my job",
    "start": "640839",
    "end": "647880"
  },
  {
    "text": "should be considered successful but you can kind of have uh different ways to",
    "start": "647880",
    "end": "653519"
  },
  {
    "text": "specify that so you could say like I have I want a couple of these jobs pods to succeed I want my overall job to be",
    "start": "653519",
    "end": "660120"
  },
  {
    "text": "successful and that's it uh back off limit is the number of retries this is kind of how the job this is how the job",
    "start": "660120",
    "end": "668360"
  },
  {
    "text": "API handles self-healing if a pod is running um I want a number of retries in",
    "start": "668360",
    "end": "674000"
  },
  {
    "text": "case there's Network failures or anything I want to keep retrying up to six time up to the back off limit",
    "start": "674000",
    "end": "679600"
  },
  {
    "text": "specification and then I'll declare my job as uh my job is failed and I'll move",
    "start": "679600",
    "end": "686800"
  },
  {
    "text": "on so how do you uh what was the next feature for really making this more useful for the HPC user",
    "start": "686800",
    "end": "696279"
  },
  {
    "text": "uh this is kind of uh it's a sort of subtle feature but we introduced a new",
    "start": "696279",
    "end": "702000"
  },
  {
    "text": "uh field in the job API called an index job this kind of exposes of an",
    "start": "702000",
    "end": "708440"
  },
  {
    "text": "environment variable and labels for each of the indexes of your job so you if",
    "start": "708440",
    "end": "713600"
  },
  {
    "text": "you're using like an MPI like job maybe your rank zero pod you want to make sure that you always know uh if you can",
    "start": "713600",
    "end": "721279"
  },
  {
    "text": "always find that pod because he is kind of like your leader and then you have a bunch of workers that's kind of the idea",
    "start": "721279",
    "end": "728279"
  },
  {
    "text": "and so that's sort of what the one of the goals for the index job was and then if you couple this with a a headless",
    "start": "728279",
    "end": "736839"
  },
  {
    "text": "Service uh you can actually get communication with all your pods so all",
    "start": "736839",
    "end": "742519"
  },
  {
    "text": "your pods are able to talk to one another and then you're you can actually run uh you can run more complicated jobs",
    "start": "742519",
    "end": "748000"
  },
  {
    "text": "that require communication within the job so uh that that's one feature that",
    "start": "748000",
    "end": "756000"
  },
  {
    "text": "was introduced in the bat API uh the next one is one of my favorite features to follow it seems",
    "start": "756000",
    "end": "762360"
  },
  {
    "text": "like it's a pretty simple feature pod failure policy the idea is if I'm a user",
    "start": "762360",
    "end": "769760"
  },
  {
    "text": "and uh I want like let's say I'm an admin running uh or let's say I'm I'm",
    "start": "769760",
    "end": "777519"
  },
  {
    "text": "using a GPU and I'm having a segmentation fault and I have my R rise",
    "start": "777519",
    "end": "783760"
  },
  {
    "text": "limit way up because I I want my job to continue selfhealing if you will and I",
    "start": "783760",
    "end": "789480"
  },
  {
    "text": "and I'm confident in my code well if your segmentation faulting your code's probably not that great it's failing but",
    "start": "789480",
    "end": "795680"
  },
  {
    "text": "you're still using that GPU and you're taking that device away from somebody else and so one of the ideas was can we",
    "start": "795680",
    "end": "803079"
  },
  {
    "text": "tune the PO the back off limit so can we end early if a job is failing for",
    "start": "803079",
    "end": "808800"
  },
  {
    "text": "particular reasons so on the left hand side I have an example of using exit codes to kind of fail your job early so",
    "start": "808800",
    "end": "816560"
  },
  {
    "text": "if you hit if you hit an exit code of 42 for this simple dummy example I can",
    "start": "816560",
    "end": "822480"
  },
  {
    "text": "actually I'll declare my job failed immediately and not retry anymore now the Counterpoint to this is",
    "start": "822480",
    "end": "831240"
  },
  {
    "text": "what we also see is if I'm a if I'm running a batch job on a kubernetes",
    "start": "831240",
    "end": "836639"
  },
  {
    "text": "cluster and let's say my pod gets pre preempted or my node gets preempted or",
    "start": "836639",
    "end": "842079"
  },
  {
    "text": "really I guess it would be a pod getting preempted I don't really think I should be penalized for uh for my job failing",
    "start": "842079",
    "end": "850839"
  },
  {
    "text": "because I it was failed for A disruption that was not caused by my code so maybe",
    "start": "850839",
    "end": "856000"
  },
  {
    "text": "I can uh ignore the back off limit counter in that case and that's kind of",
    "start": "856000",
    "end": "861040"
  },
  {
    "text": "one idea we had with the Pod failer policy is to we can we also have ignoring the counts of the limit based",
    "start": "861040",
    "end": "868880"
  },
  {
    "text": "off certain conditions uh this actually this is why it's one of my favorite",
    "start": "868880",
    "end": "874279"
  },
  {
    "text": "features because there was a lot of collaboration between the different groups in kubernetes which are called",
    "start": "874279",
    "end": "881399"
  },
  {
    "text": "sigs uh special interest groups where basically how do you how do you",
    "start": "881399",
    "end": "887160"
  },
  {
    "text": "determine A disruption and how do you make sure that the state of your PO is expected if like say you have an M kill",
    "start": "887160",
    "end": "893880"
  },
  {
    "text": "or a preempted event or an evicted I'm sorry a preempted pod or an evicted pod",
    "start": "893880",
    "end": "899440"
  },
  {
    "text": "we have to make sure they kind of go into the same state to get this feature to work and there were some bugs there",
    "start": "899440",
    "end": "905320"
  },
  {
    "text": "and over time we've kind of fixed a lot of these so this feature actually went GA as of the last release of kubernetes",
    "start": "905320",
    "end": "913160"
  },
  {
    "text": "in 1.31 and uh yeah so it's an interesting",
    "start": "913160",
    "end": "918560"
  },
  {
    "text": "one to follow over the years because you can kind of see uh people working",
    "start": "918560",
    "end": "923600"
  },
  {
    "text": "together to try to achieve it's pretty relatively simple ask but as we all know code is never simple",
    "start": "923600",
    "end": "930319"
  },
  {
    "text": "uh and one of the more recent features is a pod success policy this idea of can",
    "start": "930319",
    "end": "936000"
  },
  {
    "text": "I specify uh certain indexes that are going to succeed in this case I would",
    "start": "936000",
    "end": "942959"
  },
  {
    "text": "say if my zero my two or three indexes of my pod complete then I want to",
    "start": "942959",
    "end": "950680"
  },
  {
    "text": "consider my my pod my job successful and uh that's pretty much the",
    "start": "950680",
    "end": "957079"
  },
  {
    "text": "idea it's kind of a Counterpoint to the pod failure policy where we have one where we want to declare our job",
    "start": "957079",
    "end": "962839"
  },
  {
    "text": "successful early uh and yeah so we think this will be",
    "start": "962839",
    "end": "968600"
  },
  {
    "text": "useful there are there are definitely some use cases we had in mind when we developed this",
    "start": "968600",
    "end": "973720"
  },
  {
    "text": "feature uh one of the last uh features I'll highlight for the job API this is a",
    "start": "973720",
    "end": "979959"
  },
  {
    "text": "relatively subtle feature uh it's actually a a Boolean in your p in your",
    "start": "979959",
    "end": "985600"
  },
  {
    "text": "job spec called suspend which uh by default is is false but this kind of",
    "start": "985600",
    "end": "991040"
  },
  {
    "text": "helps mitigate the Thundering Herd problem of a cluster because what you're doing is you're registering your",
    "start": "991040",
    "end": "996440"
  },
  {
    "text": "workload like a job and you know under the hood we know how many pods a job is",
    "start": "996440",
    "end": "1001880"
  },
  {
    "text": "going to create but and so let's say what we kind of want is we want to",
    "start": "1001880",
    "end": "1007160"
  },
  {
    "text": "register our workload with an API server and then have some external controller",
    "start": "1007160",
    "end": "1012880"
  },
  {
    "text": "kind of monitor the cluster and make sure I have capacity for this workload and then resume that workload once I",
    "start": "1012880",
    "end": "1020279"
  },
  {
    "text": "have capacity this is effectively the",
    "start": "1020279",
    "end": "1025360"
  },
  {
    "text": "highlevel operation of a project called Q which I think this group I heard a",
    "start": "1025360",
    "end": "1030678"
  },
  {
    "text": "talk from them a few months ago or a few weeks ago maybe now uh but basically the",
    "start": "1030679",
    "end": "1036120"
  },
  {
    "text": "idea is I have workloads that have a suspend field and then I can un I can",
    "start": "1036120",
    "end": "1042438"
  },
  {
    "text": "resume them if I have capacity on my cluster and one of my favorite things",
    "start": "1042439",
    "end": "1047880"
  },
  {
    "text": "about following the cube project is they took a very pragmatic approach for integration where they want to try to",
    "start": "1047880",
    "end": "1054679"
  },
  {
    "text": "meet uh users where they are like they're using workloads like Cube flow",
    "start": "1054679",
    "end": "1060400"
  },
  {
    "text": "Ray uh I forgot all the ones that are in there those are the ones I can think up on top of my head uh but all these",
    "start": "1060400",
    "end": "1067400"
  },
  {
    "text": "workloads are very popular in the kubernetes space and we want to have integration with q but we don't want to",
    "start": "1067400",
    "end": "1073440"
  },
  {
    "text": "force everybody to use the job API which you know because a lot of people are not",
    "start": "1073440",
    "end": "1079840"
  },
  {
    "text": "really willing to move their apis over so we kind of got to meet them where they are so this is a really interesting",
    "start": "1079840",
    "end": "1085440"
  },
  {
    "text": "project to follow uh they are really trying to push a lot of the the kubernetes community to think about",
    "start": "1085440",
    "end": "1091600"
  },
  {
    "text": "queuing and you'll see a lot of features kind of coming from this project to kind of support this use case and others so",
    "start": "1091600",
    "end": "1099320"
  },
  {
    "text": "very interesting project to follow so at I I highlighted only a few",
    "start": "1099320",
    "end": "1105919"
  },
  {
    "text": "of the features that the the batch working group has promoted over over the years uh some of these are uh are G uh",
    "start": "1105919",
    "end": "1113840"
  },
  {
    "text": "in most supported versions of kubernetes I think the top four I don't think they",
    "start": "1113840",
    "end": "1119200"
  },
  {
    "text": "I think they have been G for at least since 1.27 so they for all the open",
    "start": "1119200",
    "end": "1124720"
  },
  {
    "text": "source supported versions of kubernetes they're fully available and ready for use uh the ready pods is one I didn't",
    "start": "1124720",
    "end": "1133080"
  },
  {
    "text": "talk too much about but this is kind of this idea of tracking like pods have a state called readiness and when our pod",
    "start": "1133080",
    "end": "1139960"
  },
  {
    "text": "is ready it is effectively running in some areas but it it can mean that it is",
    "start": "1139960",
    "end": "1145760"
  },
  {
    "text": "there might be a state where your pod is running but maybe you're maybe it takes a little bit of time to get ready to",
    "start": "1145760",
    "end": "1151679"
  },
  {
    "text": "serve traffic that's kind of the idea of Readiness and it's I'll talk about why",
    "start": "1151679",
    "end": "1156840"
  },
  {
    "text": "that's important for a little bit later uh and then pod replacement policy is actually a kep that I was my first kept",
    "start": "1156840",
    "end": "1163679"
  },
  {
    "text": "that I got merged in the kubernetes ecosystem this one was just about when a",
    "start": "1163679",
    "end": "1169600"
  },
  {
    "text": "when a an underlying pod of a job gets terminated we were creating a replacement immediately and this kind of",
    "start": "1169600",
    "end": "1175679"
  },
  {
    "text": "causes some problems and machine learning Frameworks because you might have two pods that are having the same",
    "start": "1175679",
    "end": "1181799"
  },
  {
    "text": "index and they kind of fight over one another and then you get some uh framework errors that appear so the idea",
    "start": "1181799",
    "end": "1188480"
  },
  {
    "text": "was to Halt the creation halt the creation of a replacement pod until the until the",
    "start": "1188480",
    "end": "1194960"
  },
  {
    "text": "original pod is fully terminated uh and so that's it for the",
    "start": "1194960",
    "end": "1200080"
  },
  {
    "text": "job API uh I think one thing that's really interesting to see and uh for this group",
    "start": "1200080",
    "end": "1207600"
  },
  {
    "text": "I wanted to give a I wanted to come here because I was thinking like as an enduser if you're using a lot of these",
    "start": "1207600",
    "end": "1214880"
  },
  {
    "text": "like projects and Frameworks we are seeing a lot of people really be willing to integrate with stuff like Q or the",
    "start": "1214880",
    "end": "1221880"
  },
  {
    "text": "job API you know for example if you're a dask user I actually posted this issue a few maybe a year or two now ago like",
    "start": "1221880",
    "end": "1229840"
  },
  {
    "text": "trying to maybe build an integration with the dask operator to kind of start saying like you know if you have this",
    "start": "1229840",
    "end": "1236000"
  },
  {
    "text": "suspend field and dask you can actually build an integration with q and you can actually have queing with something like",
    "start": "1236000",
    "end": "1242400"
  },
  {
    "text": "dask which I thought would be pretty cool but anyway some of these uh projects have really kind of picked up",
    "start": "1242400",
    "end": "1248760"
  },
  {
    "text": "like seeing the benefits uh airflow so popular workflow engine and",
    "start": "1248760",
    "end": "1254840"
  },
  {
    "text": "they used to only support pods uh so when you had airf flow running on",
    "start": "1254840",
    "end": "1259919"
  },
  {
    "text": "kubernetes you could create a pod on your kubernetes cluster well sometimes",
    "start": "1259919",
    "end": "1265400"
  },
  {
    "text": "uh that you know I already mention that can cause some problems and uh it's hard to represent a more complicated job that",
    "start": "1265400",
    "end": "1272919"
  },
  {
    "text": "way so somebody actually added a new operator in airflow called the kubernetes job operator to kind of",
    "start": "1272919",
    "end": "1280279"
  },
  {
    "text": "follow a lot of the benefits of this so I think that's super cool probably a more challenging aspect of keeping up",
    "start": "1280279",
    "end": "1287799"
  },
  {
    "text": "with the job API is actually coming from the cube flow Community they're getting a lot of feature requests for stuff like",
    "start": "1287799",
    "end": "1294720"
  },
  {
    "text": "pod failure policy and other job features that that community that the kubernetes community has been creating",
    "start": "1294720",
    "end": "1301600"
  },
  {
    "text": "but you know as all most open source projects are it's difficult to keep up with all the features that are coming in",
    "start": "1301600",
    "end": "1308159"
  },
  {
    "text": "and C flow is kind of hitting a point where some of these features are actually really difficult to support",
    "start": "1308159",
    "end": "1313760"
  },
  {
    "text": "over time because of their their choice of what they use for their Frameworks so",
    "start": "1313760",
    "end": "1318960"
  },
  {
    "text": "using pods and services they kind of would have to implement a counter a counter API to all these features to",
    "start": "1318960",
    "end": "1326159"
  },
  {
    "text": "support it and kind of reimplement everything in that area and there's you know some challenges with",
    "start": "1326159",
    "end": "1332480"
  },
  {
    "text": "that so what uh last thing this or another thing this batch group has kind",
    "start": "1332480",
    "end": "1338279"
  },
  {
    "text": "of started looking at is trying to understand how like what are the",
    "start": "1338279",
    "end": "1344440"
  },
  {
    "text": "requirements for a distributed job and my you know a lot of the folks focuses in machine learning nowadays I always",
    "start": "1344440",
    "end": "1351279"
  },
  {
    "text": "like to try to keep in mind the the high performance Computing user and also",
    "start": "1351279",
    "end": "1356480"
  },
  {
    "text": "researchers running you know maybe not machine learning training but maybe some other kind of job where they kind of",
    "start": "1356480",
    "end": "1362440"
  },
  {
    "text": "have a very they all have very similar requirements so what we wanted to kind of do is start thinking about you know",
    "start": "1362440",
    "end": "1368840"
  },
  {
    "text": "what's the common component among all these batch batch projects and maybe design like a stable API that people",
    "start": "1368840",
    "end": "1375760"
  },
  {
    "text": "could build off of so at the end of the day we have five we had five",
    "start": "1375760",
    "end": "1381440"
  },
  {
    "text": "requirements really for a distributed job uh multiple templates this is this idea of it's a probably a major",
    "start": "1381440",
    "end": "1387919"
  },
  {
    "text": "limitation of the job API is that you can only have a single pod template and you can say how many replicas of that",
    "start": "1387919",
    "end": "1394960"
  },
  {
    "text": "pod template you have that's fine for a lot of cases but",
    "start": "1394960",
    "end": "1401120"
  },
  {
    "text": "for a distributed job like say you have an MPI job with a",
    "start": "1401120",
    "end": "1406200"
  },
  {
    "text": "leader uh a leader pod and workers where they have they're using a different container or they're using different",
    "start": "1406200",
    "end": "1411640"
  },
  {
    "text": "environment variables or different commands or arguments you kind of can't really represent that with the",
    "start": "1411640",
    "end": "1416840"
  },
  {
    "text": "distributed job and so volcano and Cube flow kind of immediately jumped at that",
    "start": "1416840",
    "end": "1422600"
  },
  {
    "text": "and created the own representation for this to really solve this problem so",
    "start": "1422600",
    "end": "1427679"
  },
  {
    "text": "that was one of the top ones we wanted to solve uh failure and success policies are you know kind of this idea of if I",
    "start": "1427679",
    "end": "1435360"
  },
  {
    "text": "have leaders and workers or I have you know whatever whatever you want to call it if I have a single template that I",
    "start": "1435360",
    "end": "1441600"
  },
  {
    "text": "know if it fails I want my entire job to be failed Counterpoint is if I have a",
    "start": "1441600",
    "end": "1446919"
  },
  {
    "text": "separate template where all them succeed I want to mark my job as a successful and uh startup policy is",
    "start": "1446919",
    "end": "1454880"
  },
  {
    "text": "another one where we might want we want our leader to kind of start and start being up and ready to serve traffic if",
    "start": "1454880",
    "end": "1462440"
  },
  {
    "text": "you will and then your workers can start and communicate with the leader but if you wait if if you're work and leaders",
    "start": "1462440",
    "end": "1469120"
  },
  {
    "text": "are created at the same time you're going to hit a bunch of failures so you kind of want to Halt some execution until things are ready to go and then",
    "start": "1469120",
    "end": "1476440"
  },
  {
    "text": "the last thing is communication between all these pods you know an embarrassingly parallel workload doesn't",
    "start": "1476440",
    "end": "1481960"
  },
  {
    "text": "need any communication while distributed job would actually you probably would want some kind of communication with all",
    "start": "1481960",
    "end": "1488080"
  },
  {
    "text": "your pods because you are trying to represent it as a single job for that",
    "start": "1488080",
    "end": "1493360"
  },
  {
    "text": "reason so this is uh the batch working group proposed a kubernetes Sig project",
    "start": "1493360",
    "end": "1499880"
  },
  {
    "text": "called job Set uh this is this idea of having templates for trying to have",
    "start": "1499880",
    "end": "1506200"
  },
  {
    "text": "trying to use a kubernetes job and then you can represent these jobs in uh using",
    "start": "1506200",
    "end": "1513399"
  },
  {
    "text": "different templates and at the end of the day uh we have support you know conven conveniently we have support for",
    "start": "1513399",
    "end": "1519640"
  },
  {
    "text": "what we call a distributed job we have features for failure policies success",
    "start": "1519640",
    "end": "1524760"
  },
  {
    "text": "policies startup policies and we also create a head list service under the hood so that all these workloads can",
    "start": "1524760",
    "end": "1531120"
  },
  {
    "text": "communicate to one another and then also uh i' like to view Q as kind of uh q and jobset are sort of",
    "start": "1531120",
    "end": "1538760"
  },
  {
    "text": "two PS in a pod we're always working together with the Q Community to uh make",
    "start": "1538760",
    "end": "1544039"
  },
  {
    "text": "sure that job set is supported for most of the features because you know we have job and job set are two major areas we",
    "start": "1544039",
    "end": "1551919"
  },
  {
    "text": "want to try to propel in the kubernetes community uh and we work closely with",
    "start": "1551919",
    "end": "1557000"
  },
  {
    "text": "them uh so at a high level the the job set",
    "start": "1557000",
    "end": "1563039"
  },
  {
    "text": "API is pretty simple it's a we are kind of using uh we have this idea of a",
    "start": "1563039",
    "end": "1568159"
  },
  {
    "text": "replicated job and then we have a job template and then this is kind of your",
    "start": "1568159",
    "end": "1573760"
  },
  {
    "text": "job spec uh and you have in this case I'm representing I'm running this is how",
    "start": "1573760",
    "end": "1579360"
  },
  {
    "text": "you could actually represent a p torch job using job set so I",
    "start": "1579360",
    "end": "1584559"
  },
  {
    "text": "have uh I have a head under the hood a headless service is getting created for this job and with that I'm able to",
    "start": "1584559",
    "end": "1591960"
  },
  {
    "text": "actually have my my master is zeroth index of my pod or sorry the zeroth",
    "start": "1591960",
    "end": "1597320"
  },
  {
    "text": "index of of a pod and I'm able to specify uh the right environment variable to communicate with him via the",
    "start": "1597320",
    "end": "1604080"
  },
  {
    "text": "master and then I'm able to run a torch run with four pod replicas and this",
    "start": "1604080",
    "end": "1609440"
  },
  {
    "text": "actually uh like if you try to represent this with a job it would not work out of the box because you would need the",
    "start": "1609440",
    "end": "1615120"
  },
  {
    "text": "Headless service also created uh and so that's kind of one of our first major use cases was can we represent some of",
    "start": "1615120",
    "end": "1622399"
  },
  {
    "text": "these uh machine learning workflows pretty easily using a job set and have all these kind of job features that we",
    "start": "1622399",
    "end": "1629640"
  },
  {
    "text": "wanted so uh the next one is Success policies uh this is a major area that we",
    "start": "1629640",
    "end": "1637320"
  },
  {
    "text": "wanted to Target was like let's say if my workers you know if my workers succeed I want to mark My overall job",
    "start": "1637320",
    "end": "1645360"
  },
  {
    "text": "set as a success and that's kind of what you can with the success policy so",
    "start": "1645360",
    "end": "1650520"
  },
  {
    "text": "workers complete my leader will get teared down and I can move on and and",
    "start": "1650520",
    "end": "1655640"
  },
  {
    "text": "have my job set be marked as successful and that helps uh and that that",
    "start": "1655640",
    "end": "1661320"
  },
  {
    "text": "satisfies a lot of the use cases we had from users from people about why they use stuff like volcano and other",
    "start": "1661320",
    "end": "1668320"
  },
  {
    "text": "projects was a lot of times for some of this this usefulness for these some of",
    "start": "1668320",
    "end": "1673840"
  },
  {
    "text": "these apis uh startup policy is another simple this is I already mentioned this but the",
    "start": "1673840",
    "end": "1680880"
  },
  {
    "text": "idea is that uh I can have my driver start first or sorry this will start it",
    "start": "1680880",
    "end": "1687159"
  },
  {
    "text": "in order as listed on your jobs on your job set spec so in this case it will say",
    "start": "1687159",
    "end": "1692840"
  },
  {
    "text": "I have my driver and then once it passes the Readiness probes it's considered ready and then my workers will go ahead",
    "start": "1692840",
    "end": "1700000"
  },
  {
    "text": "and start uh and uh by default if you don't have a",
    "start": "1700000",
    "end": "1706760"
  },
  {
    "text": "startup policy we kind would just create the driver and the workers and depending on where the nodes where your your jobs",
    "start": "1706760",
    "end": "1714399"
  },
  {
    "text": "went it would you could have your workers start first while your driver is still getting scheduled and so that's",
    "start": "1714399",
    "end": "1720320"
  },
  {
    "text": "kind of why we wanted to sort of have the startup policy work in its way",
    "start": "1720320",
    "end": "1725519"
  },
  {
    "text": "because we we we want to kind of control the creation of these and make sure they're ready before the next one list",
    "start": "1725519",
    "end": "1733000"
  },
  {
    "text": "goes of the last or one feature that just recently was released in the job",
    "start": "1733000",
    "end": "1738720"
  },
  {
    "text": "set as of a few weeks ago or job set had failure policy in the beginning where",
    "start": "1738720",
    "end": "1744519"
  },
  {
    "text": "they had kind of the max restarts this is kind of like the equivalent of a backoff limit in the job API and it sort",
    "start": "1744519",
    "end": "1751200"
  },
  {
    "text": "of says you know if I job if one of my jobs fails I want to go ahead and",
    "start": "1751200",
    "end": "1756919"
  },
  {
    "text": "restart the entire job Set uh and then we can have a a Max limit of three well",
    "start": "1756919",
    "end": "1763279"
  },
  {
    "text": "what do we do if a a job is failing for particular reasons like you know maybe",
    "start": "1763279",
    "end": "1770200"
  },
  {
    "text": "uh we have a pod failure policy that we we we want to tolerate and so we kind of",
    "start": "1770200",
    "end": "1775679"
  },
  {
    "text": "want to keep restarting in that case kind of on the left-and side that is uh",
    "start": "1775679",
    "end": "1781080"
  },
  {
    "text": "effectively one way to do this and this is actually uh reusing a lot of the",
    "start": "1781080",
    "end": "1786480"
  },
  {
    "text": "features in the job API like the Pod failure policy when it actually fails it sets a a condition in kubernetes and and",
    "start": "1786480",
    "end": "1794640"
  },
  {
    "text": "a particular reason will kind of tell you why your job failed you know in this case it would say pod failure policy and",
    "start": "1794640",
    "end": "1801679"
  },
  {
    "text": "then uh you could kind of say if my leader failed for a certain reason due to a pod failure policy maybe I just",
    "start": "1801679",
    "end": "1807679"
  },
  {
    "text": "want to fail my job set maybe I just want to restart it's kind of building these robust rules into your",
    "start": "1807679",
    "end": "1813640"
  },
  {
    "text": "workloads uh and then you also have the Counterpoint where if my leader fails maybe I just want to fail",
    "start": "1813640",
    "end": "1820600"
  },
  {
    "text": "outright uh and I don't and and I want to continue on or I want my job set to be marked as",
    "start": "1820600",
    "end": "1827799"
  },
  {
    "text": "fa fa and kind of move on uh that's kind of the idea with the failure policy",
    "start": "1827799",
    "end": "1833159"
  },
  {
    "text": "uh and so the last thing I wanted to kind of this is probably the most exciting thing to me was uh in the last",
    "start": "1833159",
    "end": "1840080"
  },
  {
    "text": "few weeks really no maybe it was a few months ago the cube flow Community has kind of been looking at how to design",
    "start": "1840080",
    "end": "1847399"
  },
  {
    "text": "the next uh version of their training operator uh one and this is all in the",
    "start": "1847399",
    "end": "1852559"
  },
  {
    "text": "design phase they have they have drafted a cube flow kep kind of walking through",
    "start": "1852559",
    "end": "1857720"
  },
  {
    "text": "the and I I'll just explain it kind of briefly but generally the idea is Cube",
    "start": "1857720",
    "end": "1863679"
  },
  {
    "text": "flow was designed to help improve the machine learning life cycle in kubernetes and",
    "start": "1863679",
    "end": "1869919"
  },
  {
    "text": "what they find is a lot of data scientists and machine learning practitioners don't really want to know",
    "start": "1869919",
    "end": "1875120"
  },
  {
    "text": "too much about kubernetes like that's kind of that should be delegated to the role of a platform engineer they're kind",
    "start": "1875120",
    "end": "1882120"
  },
  {
    "text": "of the ones setting up the the kubernetes cluster they're setting up",
    "start": "1882120",
    "end": "1887240"
  },
  {
    "text": "how you want to run run certain jobs in kubernetes and then maybe a data scientist kind of wants to inject you",
    "start": "1887240",
    "end": "1893440"
  },
  {
    "text": "know their images or the containers or tune their podspec for their workload",
    "start": "1893440",
    "end": "1899720"
  },
  {
    "text": "but they don't want to have to know about how do I run a a pytorch job on kubernetes like maybe I just want to",
    "start": "1899720",
    "end": "1904960"
  },
  {
    "text": "reuse the same template that everyone else has been using for running a pytorch job on",
    "start": "1904960",
    "end": "1910600"
  },
  {
    "text": "kubernetes so at the end of the day why I'm bringing this project up is because at the you know the top there you can",
    "start": "1910600",
    "end": "1915840"
  },
  {
    "text": "see job Set uh the idea was can we get a lot of the features that the",
    "start": "1915840",
    "end": "1922279"
  },
  {
    "text": "job uh project has been adding and we can and we could also have the multiple",
    "start": "1922279",
    "end": "1927480"
  },
  {
    "text": "template aspect that Cube flow actually uses and we can use a job set to represent that for training and then we",
    "start": "1927480",
    "end": "1934039"
  },
  {
    "text": "can kind of uh sort of gravitate towards the API",
    "start": "1934039",
    "end": "1939600"
  },
  {
    "text": "that our user that the users want for cube flow and also maybe help try to push more of the maintenance of these",
    "start": "1939600",
    "end": "1946960"
  },
  {
    "text": "features into on the job set and that way the CU flow Community can focus more",
    "start": "1946960",
    "end": "1952760"
  },
  {
    "text": "on the machine learning use case on the bottom right here I have a QR code if you're interested to read more it's a",
    "start": "1952760",
    "end": "1959440"
  },
  {
    "text": "very welld detailed enhancement about how they want the cube flow project to",
    "start": "1959440",
    "end": "1964480"
  },
  {
    "text": "go going forward uh so generally uh I always like",
    "start": "1964480",
    "end": "1972159"
  },
  {
    "text": "to end my talks I'm giving open source talks about like you know we want people to try these features like there really",
    "start": "1972159",
    "end": "1979120"
  },
  {
    "text": "our goal is that people try them post issues on GitHub or message people or message the the working group batch on",
    "start": "1979120",
    "end": "1986559"
  },
  {
    "text": "kubernetes slack about what you tried and what didn't work uh I know that one of my I actually started my career in",
    "start": "1986559",
    "end": "1993960"
  },
  {
    "text": "kubernetes by working with the batch working group and I found them to be incredibly helpful for uh answering",
    "start": "1993960",
    "end": "2001440"
  },
  {
    "text": "questions around features and Bug reports and how to how to actually design like some kind of batch platform",
    "start": "2001440",
    "end": "2006720"
  },
  {
    "text": "on kubernetes like the best practices for that they've been really helpful and in generally all these projects like job",
    "start": "2006720",
    "end": "2014000"
  },
  {
    "text": "job set and Q are all really open for new features and trying to steer how you",
    "start": "2014000",
    "end": "2019600"
  },
  {
    "text": "could actually get these implemented in kubernetes uh so the last part of my",
    "start": "2019600",
    "end": "2024720"
  },
  {
    "text": "talk I wanted to kind of give a live demo of job set so uh I was going to go",
    "start": "2024720",
    "end": "2031159"
  },
  {
    "text": "just to make sure can you all see uh my terminal not really we just see your uh",
    "start": "2031159",
    "end": "2040120"
  },
  {
    "text": "slides you're right because",
    "start": "2040120",
    "end": "2044039"
  },
  {
    "text": "I all right can you see a terminal now yep yep very good all right great all",
    "start": "2054119",
    "end": "2060280"
  },
  {
    "text": "right I'm just gonna quickly go to the job set website I'll just show to make it simple I want to show how you can",
    "start": "2060280",
    "end": "2066919"
  },
  {
    "text": "install this on a simple kind cluster just to kind of show like how you could",
    "start": "2066919",
    "end": "2072358"
  },
  {
    "text": "test this out so uh we just recently released our version 0.6 whatever",
    "start": "2072359",
    "end": "2079398"
  },
  {
    "text": "0.6 so I can paste this uh on kubernetes uh I'm I'm",
    "start": "2079399",
    "end": "2085118"
  },
  {
    "text": "installing a cube this is a cube Builder operator uh generally you want to wait",
    "start": "2085119",
    "end": "2090720"
  },
  {
    "text": "until the uh the controller is created because uh there's some web hooks that",
    "start": "2090720",
    "end": "2096398"
  },
  {
    "text": "will you will fail if they aren't uh there so you kind of just usually wait until this is",
    "start": "2096399",
    "end": "2103280"
  },
  {
    "text": "done all right looks like it's good now so it's running uh so now I have some",
    "start": "2103280",
    "end": "2108599"
  },
  {
    "text": "simple examples I will show startup policy first so this looks very similar",
    "start": "2108599",
    "end": "2115359"
  },
  {
    "text": "to my my yl that I showed earlier uh let's go ahead and create it and we can",
    "start": "2115359",
    "end": "2121359"
  },
  {
    "text": "walk through what it does so",
    "start": "2121359",
    "end": "2128599"
  },
  {
    "text": "uh I have I've created this job set called startup driver ready it actually",
    "start": "2128599",
    "end": "2134320"
  },
  {
    "text": "is creating jobs under the hood and again this is startup policy so it's",
    "start": "2134320",
    "end": "2140000"
  },
  {
    "text": "running the driver first and waiting for the Readiness uh it's kind of",
    "start": "2140000",
    "end": "2145839"
  },
  {
    "text": "unfortunate that we don't show this in the table but you can see that the job",
    "start": "2145839",
    "end": "2151319"
  },
  {
    "text": "status is saying that it's not ready yet so that's why it's it's not creating the other objects here it should should",
    "start": "2151319",
    "end": "2159520"
  },
  {
    "text": "happen soon uh uh but basically uh I",
    "start": "2159520",
    "end": "2166800"
  },
  {
    "text": "guess yeah it should happened soon let's see almost uh",
    "start": "2166800",
    "end": "2173960"
  },
  {
    "text": "interesting oh wait now it is running okay that's why I said four so now you",
    "start": "2173960",
    "end": "2179119"
  },
  {
    "text": "can see the driver is running the workers are running uh",
    "start": "2179119",
    "end": "2184599"
  },
  {
    "text": "and you know uh well there's nothing it has hasn't finished yet so that's at least what's going on there so that's",
    "start": "2184599",
    "end": "2191400"
  },
  {
    "text": "the startup policy uh oh and the last thing as I mentioned headless",
    "start": "2191400",
    "end": "2197480"
  },
  {
    "text": "Services you can see here the startup driver ready this thing is just",
    "start": "2197480",
    "end": "2203240"
  },
  {
    "text": "created on every job on every job Set uh it's pretty simple service that kind of",
    "start": "2203240",
    "end": "2209480"
  },
  {
    "text": "allows you allows the communication uh and uh I will go to a",
    "start": "2209480",
    "end": "2215040"
  },
  {
    "text": "nice simple one just to show uh what I want to",
    "start": "2215040",
    "end": "2222040"
  },
  {
    "text": "show I'll show the success",
    "start": "2222040",
    "end": "2226520"
  },
  {
    "text": "policy so uh this is basically uh kind",
    "start": "2228359",
    "end": "2233760"
  },
  {
    "text": "of showing I have uh and this has a leader who sleeping",
    "start": "2233760",
    "end": "2240839"
  },
  {
    "text": "for a really long time and I have workers and they're going to sleep uh very shortly so you can see here my work",
    "start": "2240839",
    "end": "2247520"
  },
  {
    "text": "workers have completed my job set is actually my leaders are being terminated",
    "start": "2247520",
    "end": "2254240"
  },
  {
    "text": "so then I can go here and it can actually say okay my job set is actually",
    "start": "2254240",
    "end": "2259920"
  },
  {
    "text": "completed uh terminal State just kind of represents phase I don't know why we have a completed true here but whatever",
    "start": "2259920",
    "end": "2267000"
  },
  {
    "text": "uh the terminal state is actually an interesting story because uh Argo the",
    "start": "2267000",
    "end": "2273000"
  },
  {
    "text": "community for Argo workflows was looking at trying to use job set or I think it was actually meta flow from Netflix was",
    "start": "2273000",
    "end": "2279880"
  },
  {
    "text": "trying to use jobet and they found that they wanted to use it with Argo workflows and they were wanted to use a",
    "start": "2279880",
    "end": "2287400"
  },
  {
    "text": "phase to kind of determine whether or not their job set was successful or not so we actually introduced a feature",
    "start": "2287400",
    "end": "2293560"
  },
  {
    "text": "called terminal state that kind of allows uh easier integration uh with",
    "start": "2293560",
    "end": "2298720"
  },
  {
    "text": "Argo so I just show that I don't know if I have that",
    "start": "2298720",
    "end": "2305599"
  },
  {
    "text": "one uh so that's at Le success policy and then I will go ahead and do Max",
    "start": "2305599",
    "end": "2313440"
  },
  {
    "text": "restarts so this is kind of uh shows restarts three",
    "start": "2314800",
    "end": "2322200"
  },
  {
    "text": "times and I'll wait for that one that one take a little bit and then the last",
    "start": "2323280",
    "end": "2328720"
  },
  {
    "text": "uh feature I wanted to show was failure policy",
    "start": "2328720",
    "end": "2334680"
  },
  {
    "text": "uh let's see what this one",
    "start": "2334680",
    "end": "2339440"
  },
  {
    "text": "yeah so I'll show this",
    "start": "2344520",
    "end": "2347480"
  },
  {
    "text": "one so uh you can see here I have some leaders",
    "start": "2352960",
    "end": "2360960"
  },
  {
    "text": "remember what I so this would say if it exits one you can see here what happened is I",
    "start": "2367560",
    "end": "2374119"
  },
  {
    "text": "actually have a pod failure policy we have this what we call",
    "start": "2374119",
    "end": "2379520"
  },
  {
    "text": "a uh the reason is POD failure policy and you can see here in the condition it",
    "start": "2379520",
    "end": "2384599"
  },
  {
    "text": "says why it failed and then this is actually what the job",
    "start": "2384599",
    "end": "2389720"
  },
  {
    "text": "set is able to uh",
    "start": "2389720",
    "end": "2395240"
  },
  {
    "text": "uh that's why the job set will actually uh it will show like how much uh it will",
    "start": "2408079",
    "end": "2415319"
  },
  {
    "text": "actually predict why it failed for a certain reason based off bubbling up that information uh and yeah so that is",
    "start": "2415319",
    "end": "2424040"
  },
  {
    "text": "that's kind of all I wanted to talk about today uh and so I'm open for questions now",
    "start": "2424040",
    "end": "2431520"
  },
  {
    "text": "stop sharing all right that was awesome",
    "start": "2431520",
    "end": "2437800"
  },
  {
    "text": "thanks a lot for all the updates um see that Clemens dropped out see",
    "start": "2437800",
    "end": "2445960"
  },
  {
    "text": "Timothy Sylvia do you have",
    "start": "2445960",
    "end": "2450078"
  },
  {
    "text": "questions oh uh there is one from Clemens he asked uh",
    "start": "2452160",
    "end": "2457920"
  },
  {
    "text": "do you see projects like volcano Cube flow adapting the new job schemas such as job",
    "start": "2457920",
    "end": "2464119"
  },
  {
    "text": "Set uh Cube flow uh is the one where we are seeing uh features from them as",
    "start": "2464119",
    "end": "2474119"
  },
  {
    "text": "yeah yeah I saw I saw that they already have integration with things like Q as",
    "start": "2474280",
    "end": "2479560"
  },
  {
    "text": "well so it's something we want to to try as well in in our deployments",
    "start": "2479560",
    "end": "2487920"
  },
  {
    "text": "any questions from Team or",
    "start": "2491280",
    "end": "2496079"
  },
  {
    "text": "syia otherwise um I I did have a question because you were mentioning",
    "start": "2498000",
    "end": "2503040"
  },
  {
    "text": "dask and actually dask is uh is one of those that is quite popular in our",
    "start": "2503040",
    "end": "2510440"
  },
  {
    "text": "community and we do use like the coret operation operator uh cornes backends in",
    "start": "2510440",
    "end": "2516880"
  },
  {
    "text": "addition to others with desk um you you mentioned like",
    "start": "2516880",
    "end": "2522160"
  },
  {
    "text": "supporting uh jobs in dask how would that actually work because my my",
    "start": "2522160",
    "end": "2528240"
  },
  {
    "text": "understanding is that what dask is doing is deploying workers in a cornetes cluster and then",
    "start": "2528240",
    "end": "2535040"
  },
  {
    "text": "pulling from like a central pool for for different time yeah I guess I wasn't going to say they have to support jobs",
    "start": "2535040",
    "end": "2541760"
  },
  {
    "text": "but if they could Implement something like a suspend uh seman ICS in dask uh that",
    "start": "2541760",
    "end": "2549440"
  },
  {
    "text": "could make integration with Q possible now I created that issue before Q had",
    "start": "2549440",
    "end": "2557240"
  },
  {
    "text": "integration with uh pods through via the use of scheduling Gates so uh it becomes",
    "start": "2557240",
    "end": "2565400"
  },
  {
    "text": "less like what we're seeing is like the the the first class citizen in Q would",
    "start": "2565400",
    "end": "2572760"
  },
  {
    "text": "be supporting like a suspend semantics but in a lot of cases a lot of people",
    "start": "2572760",
    "end": "2578240"
  },
  {
    "text": "are still using uh uh pods uh directly",
    "start": "2578240",
    "end": "2583440"
  },
  {
    "text": "and pods can't really do a suspend and the way to kind of have that is done via the use of scheduling Gates where you",
    "start": "2583440",
    "end": "2589760"
  },
  {
    "text": "kind of pause the scheduling Loop effectively for a pod and so that could",
    "start": "2589760",
    "end": "2594920"
  },
  {
    "text": "be one option that's actually what we we're seeing projects like Argo like Argo workflows can have a rough",
    "start": "2594920",
    "end": "2601960"
  },
  {
    "text": "integration with Q via the use of scheduling Gates",
    "start": "2601960",
    "end": "2607480"
  },
  {
    "text": "uh and and also uh Q does support uh pod",
    "start": "2607480",
    "end": "2612720"
  },
  {
    "text": "integration that way but yeah so that's kind of the idea what is like Cube flow",
    "start": "2612720",
    "end": "2618359"
  },
  {
    "text": "when they want to get support for Q they actually created the suspend field and",
    "start": "2618359",
    "end": "2624440"
  },
  {
    "text": "then kind of work through a lot of the implementation of that and then someone on the Q side built a",
    "start": "2624440",
    "end": "2631280"
  },
  {
    "text": "integration for a queue controller there and then that's sort of how the integration went for ask the idea could",
    "start": "2631280",
    "end": "2638280"
  },
  {
    "text": "be you know implementing suspend which is really just about if my field is set",
    "start": "2638280",
    "end": "2644440"
  },
  {
    "text": "I want to I don't want the those objects to be created once it's unset I'll create those objects and then if that",
    "start": "2644440",
    "end": "2651240"
  },
  {
    "text": "field is set again I'll probably delete those objects it's kind of that's at least the the flow we implemented in job",
    "start": "2651240",
    "end": "2657960"
  },
  {
    "text": "set and in Cube flow it's a very similar idea yep sounds good but it's something",
    "start": "2657960",
    "end": "2665680"
  },
  {
    "text": "we can also have a look at because with the Pod like I said with the Pod integration in Q can probably already",
    "start": "2665680",
    "end": "2672079"
  },
  {
    "text": "look at this so uh I guess one question I have like what kind of workloads are you all",
    "start": "2672079",
    "end": "2679319"
  },
  {
    "text": "using in your kubernetes environments y I'll let Sylvia go first",
    "start": "2679319",
    "end": "2689160"
  },
  {
    "text": "yes so we are just starting to uh sorry put my",
    "start": "2689160",
    "end": "2694760"
  },
  {
    "text": "head uh we are just starting to build a AI service so at the moment we have",
    "start": "2694760",
    "end": "2704839"
  },
  {
    "text": "uh licenses from HP for machine learning uh development environment so we are",
    "start": "2704839",
    "end": "2711760"
  },
  {
    "text": "starting with this but we just have it for 64 GPU so we'll need to look at",
    "start": "2711760",
    "end": "2718400"
  },
  {
    "text": "other solution to add more users and scale later",
    "start": "2718400",
    "end": "2724319"
  },
  {
    "text": "so you uh so ml do GPU management we can do across",
    "start": "2724319",
    "end": "2731559"
  },
  {
    "text": "kubernetes cluster it has also multi- tendency uh we we had just a process on",
    "start": "2731559",
    "end": "2739200"
  },
  {
    "text": "working with them and trying to uh have it work on our kubernetes clusters so",
    "start": "2739200",
    "end": "2746200"
  },
  {
    "text": "I'm interested on the new tools the open source tool because we uh we are University",
    "start": "2746200",
    "end": "2752480"
  },
  {
    "text": "so uh licenses are quite expensive and so I'm looking at uh other solution Cube",
    "start": "2752480",
    "end": "2760559"
  },
  {
    "text": "flow and this can be integrated with Cube flow could be great um so yes that's the kind of",
    "start": "2760559",
    "end": "2767559"
  },
  {
    "text": "things that I'm looking at hope that answer your question no it does yeah no that's that's helpful yeah it's I find",
    "start": "2767559",
    "end": "2775000"
  },
  {
    "text": "every every person I talk to has it they use different tools that's what made it",
    "start": "2775000",
    "end": "2780119"
  },
  {
    "text": "uh this makes it difficult to really understand like what's the best approach because everybody everyone uses",
    "start": "2780119",
    "end": "2785920"
  },
  {
    "text": "something different I think Ricardo I think you and I talked",
    "start": "2785920",
    "end": "2792240"
  },
  {
    "text": "briefly I think you were exploring Cube flow at CERN for a little while or no we",
    "start": "2792240",
    "end": "2798240"
  },
  {
    "text": "we are running a manag service with cflow for forl we're actually expanding it um and what we have been trying to to",
    "start": "2798240",
    "end": "2807640"
  },
  {
    "text": "do is also look at Q uh to and integrating with Q uh for",
    "start": "2807640",
    "end": "2813599"
  },
  {
    "text": "other workloads as well um so is it um a manage Service as in like a cloud vendor",
    "start": "2813599",
    "end": "2819640"
  },
  {
    "text": "manage or you're managing no our own yeah yeah we offer it to our users yeah",
    "start": "2819640",
    "end": "2825480"
  },
  {
    "text": "but uh the the main thing we've been trying is to to",
    "start": "2825480",
    "end": "2830720"
  },
  {
    "text": "integrate uh interactive with batch workloads uh in the same cluster and especially for gpus to make the best of",
    "start": "2830720",
    "end": "2837880"
  },
  {
    "text": "them because we well like many people we we tend to part or to split the",
    "start": "2837880",
    "end": "2843960"
  },
  {
    "text": "assignment of gpus between services and what we end up with quite a lot of",
    "start": "2843960",
    "end": "2849599"
  },
  {
    "text": "inefficiency in the more interactive working hours kind of usage of gpus in",
    "start": "2849599",
    "end": "2856119"
  },
  {
    "text": "one set and then uh we can't basically backfill those with uh with jobs during",
    "start": "2856119",
    "end": "2862280"
  },
  {
    "text": "the night easily so to day so we we are looking at this",
    "start": "2862280",
    "end": "2867839"
  },
  {
    "text": "to have a single deployment where we can put both worlds sorry it's saw cat jump",
    "start": "2867839",
    "end": "2873599"
  },
  {
    "text": "in the background one uh thing I've always wondered with uh interactive notebooks",
    "start": "2873599",
    "end": "2881200"
  },
  {
    "text": "have you do you have support for like multiple nodes with Jupiter like like",
    "start": "2881200",
    "end": "2886480"
  },
  {
    "text": "spawning a job that has like yeah no you can have multiple gpus in a single note",
    "start": "2886480",
    "end": "2893480"
  },
  {
    "text": "but you won't have multiple notes yeah yeah because that's something I've actually there's in the kubernetes",
    "start": "2893480",
    "end": "2898720"
  },
  {
    "text": "community they we've have a lot of working groups now probably too many if you ask me but anyway we have batch then",
    "start": "2898720",
    "end": "2905040"
  },
  {
    "text": "we have serving and device management and I've always been curious about like",
    "start": "2905040",
    "end": "2911040"
  },
  {
    "text": "if serving should really incorporate a lot of the use cases from notebooks because at the end of the day serving",
    "start": "2911040",
    "end": "2917119"
  },
  {
    "text": "and inferencing and notebooks I think are a very similar use user pattern uh",
    "start": "2917119",
    "end": "2923440"
  },
  {
    "text": "but I haven't really found like a great uh example for",
    "start": "2923440",
    "end": "2929079"
  },
  {
    "text": "notebooks on kubernetes like I don't know if that's Cube flow notebooks is",
    "start": "2929079",
    "end": "2934640"
  },
  {
    "text": "pretty there like is probably the most popular one to",
    "start": "2934640",
    "end": "2939960"
  },
  {
    "text": "the yeah that runs on kubernetes I've used it before but I didn't know yeah",
    "start": "2939960",
    "end": "2945119"
  },
  {
    "text": "there's even there's a hum chart called zero to Jah hop which is extremely popular like a lot of the members in",
    "start": "2945119",
    "end": "2951920"
  },
  {
    "text": "this group will be using it and it's extremely popular yeah okay that's good to know and usually the pattern will be",
    "start": "2951920",
    "end": "2959640"
  },
  {
    "text": "that people have a single notebook or a couple of them and notebooks are single",
    "start": "2959640",
    "end": "2964760"
  },
  {
    "text": "note but then what they do is they put some magic in the notebook uh",
    "start": "2964760",
    "end": "2970240"
  },
  {
    "text": "systems or in the as extensions to jup the lab or something similar so that you",
    "start": "2970240",
    "end": "2975799"
  },
  {
    "text": "can submit from your notebook to some sort of like batch system behind this can be anything slur HD cond TK so the",
    "start": "2975799",
    "end": "2983160"
  },
  {
    "text": "desk integration with notebooks is very good and uh cflow used to have a",
    "start": "2983160",
    "end": "2988200"
  },
  {
    "text": "component called kale that was abandoned and now it's being donated again to goodflow so there's some I remember that",
    "start": "2988200",
    "end": "2995720"
  },
  {
    "text": "yeah I think that was Oro or a KO I think they offero yeah yeah support for",
    "start": "2995720",
    "end": "3003520"
  },
  {
    "text": "that um well that's I had one more question as we have two more minutes uh",
    "start": "3003520",
    "end": "3010799"
  },
  {
    "text": "one one thing that always comes to us is the multicluster uh so um we are looking at multiq um and",
    "start": "3010799",
    "end": "3020240"
  },
  {
    "text": "there are some we yeah there there's some things to work out there like uh a",
    "start": "3020240",
    "end": "3026440"
  },
  {
    "text": "lot of of the tools we use like CFL Argo and others they use the kubernetes API",
    "start": "3026440",
    "end": "3031760"
  },
  {
    "text": "to get things like logs for example and uh in the multicluster these things are",
    "start": "3031760",
    "end": "3037160"
  },
  {
    "text": "not supported or not yet supported let's put it like this if we start looking at things like job sets um I guess this if",
    "start": "3037160",
    "end": "3045920"
  },
  {
    "text": "we look at multicluster and job sets this could have an impact uh how is the",
    "start": "3045920",
    "end": "3051599"
  },
  {
    "text": "coordination between would that be like a one cluster he would be submitting the",
    "start": "3051599",
    "end": "3057599"
  },
  {
    "text": "job sets to a multiq instance that then distributes this in different clusters or how would this",
    "start": "3057599",
    "end": "3064040"
  },
  {
    "text": "work uh I don't know if it would span multiple clusters I haven't actually",
    "start": "3064040",
    "end": "3069359"
  },
  {
    "text": "thought about how that would work uh I would think that multiq from what I remember it kind of is when you create",
    "start": "3069359",
    "end": "3076720"
  },
  {
    "text": "an object you're sort of picking which cluster it goes to and I think that we",
    "start": "3076720",
    "end": "3082240"
  },
  {
    "text": "would say like job set goes on one cluster and then logs I guess you would have to know what",
    "start": "3082240",
    "end": "3088000"
  },
  {
    "text": "cluster your job set was on so then you grab the logs of those",
    "start": "3088000",
    "end": "3093160"
  },
  {
    "text": "pods yeah I think I think they implementing this on multiq that was my understanding and the support for jobs",
    "start": "3093160",
    "end": "3099280"
  },
  {
    "text": "in multiq is pretty good they don't support pods yet but they were working on it as well uh but I was just thinking",
    "start": "3099280",
    "end": "3105799"
  },
  {
    "text": "when we had job sets uh I guess there's an implication there if we collocate always in the same cluster I think",
    "start": "3105799",
    "end": "3112720"
  },
  {
    "text": "it's in my head at least it's kind of more obvious but I was thinking if it starts",
    "start": "3112720",
    "end": "3118200"
  },
  {
    "text": "splitting yeah I don't I don't know exactly how controllers work across",
    "start": "3118200",
    "end": "3123319"
  },
  {
    "text": "clusters like I I know that there the multicluster community in kubernetes has",
    "start": "3123319",
    "end": "3129119"
  },
  {
    "text": "been doing a lot of work but I'm never really sure like where I remember seeing a",
    "start": "3129119",
    "end": "3134760"
  },
  {
    "text": "project called multicluster controller where I was kinding of build like General controllers for multicluster but",
    "start": "3134760",
    "end": "3141119"
  },
  {
    "text": "I don't know where that went or how far that got along I'm not as much in the multicluster space anymore okay so um",
    "start": "3141119",
    "end": "3148920"
  },
  {
    "text": "maybe I'll I'll open it an issue multiq from what at least uh I",
    "start": "3148920",
    "end": "3157480"
  },
  {
    "text": "think job set was one that we have explicit support for okay uh they do try",
    "start": "3157480",
    "end": "3163319"
  },
  {
    "text": "to we do follow exactly kind of what they're doing and what we're doing and try to co coordinate so we",
    "start": "3163319",
    "end": "3170559"
  },
  {
    "text": "have uh manage by a support field for it which tells you which controllers",
    "start": "3170559",
    "end": "3176119"
  },
  {
    "text": "actually running uh the object and that that is supported in job set that I",
    "start": "3176119",
    "end": "3181520"
  },
  {
    "text": "haven't I haven't played around with multiq that much sounds very good",
    "start": "3181520",
    "end": "3188839"
  },
  {
    "text": "yeah all right um I think we're on time then on the hour so yeah thank you uh",
    "start": "3188839",
    "end": "3196640"
  },
  {
    "text": "for letting me come here and give a talk yeah thank you for presenting and what I will do is also share the recording on",
    "start": "3196640",
    "end": "3202119"
  },
  {
    "text": "the channel and um I think we can ask for for more feedback and uh for people to",
    "start": "3202119",
    "end": "3209520"
  },
  {
    "text": "go towards you if they have more feedback I just I already shared the the",
    "start": "3209520",
    "end": "3215520"
  },
  {
    "text": "slides on the slack as part of the meeting invite I don't know how you like",
    "start": "3215520",
    "end": "3220599"
  },
  {
    "text": "you feel free to upload them I have a public share link for that",
    "start": "3220599",
    "end": "3225960"
  },
  {
    "text": "so okay yeah yeah sounds amazing yeah if you send me I I'll I'll update to the",
    "start": "3225960",
    "end": "3232359"
  },
  {
    "text": "agenda also with the link yeah thanks so I'm sure we'll we'll stay in touch uh in",
    "start": "3232359",
    "end": "3239119"
  },
  {
    "text": "the next couple of months for sure and we'll ask you to come back at some point thank you so much byebye bye bye",
    "start": "3239119",
    "end": "3246680"
  },
  {
    "text": "bye everyone",
    "start": "3246680",
    "end": "3249838"
  }
]