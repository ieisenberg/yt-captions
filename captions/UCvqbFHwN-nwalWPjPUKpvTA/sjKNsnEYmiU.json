[
  {
    "text": "[Applause]",
    "start": "0",
    "end": "160"
  },
  {
    "text": "it's good to see you all it's good to be",
    "start": "160",
    "end": "1360"
  },
  {
    "text": "here uh together in person with our",
    "start": "1360",
    "end": "3360"
  },
  {
    "text": "virtual attendees as well um my name is",
    "start": "3360",
    "end": "5520"
  },
  {
    "text": "andrew harding i'm a spiffy spire",
    "start": "5520",
    "end": "7120"
  },
  {
    "text": "maintainer i've been involved in those",
    "start": "7120",
    "end": "8639"
  },
  {
    "text": "projects for the last",
    "start": "8639",
    "end": "10400"
  },
  {
    "text": "uh three and a half years or so um i'm a",
    "start": "10400",
    "end": "12880"
  },
  {
    "text": "staff engineer at vmware where i'm",
    "start": "12880",
    "end": "14960"
  },
  {
    "text": "allowed to continue that work and work",
    "start": "14960",
    "end": "16320"
  },
  {
    "text": "on it full time which is which is",
    "start": "16320",
    "end": "18000"
  },
  {
    "text": "fantastic it's awesome",
    "start": "18000",
    "end": "19600"
  },
  {
    "text": "um real quick before we get in today all",
    "start": "19600",
    "end": "21840"
  },
  {
    "text": "these celebrations and and and uh good",
    "start": "21840",
    "end": "24240"
  },
  {
    "text": "times everybody i threw my back out so i",
    "start": "24240",
    "end": "26560"
  },
  {
    "text": "won't be doing any break dancing today",
    "start": "26560",
    "end": "28240"
  },
  {
    "text": "and if you see me like tilting to one",
    "start": "28240",
    "end": "29519"
  },
  {
    "text": "side maybe some can run up and kind of",
    "start": "29519",
    "end": "30960"
  },
  {
    "text": "like you know tilt me back up into the",
    "start": "30960",
    "end": "32960"
  },
  {
    "text": "upright position um",
    "start": "32960",
    "end": "35680"
  },
  {
    "text": "anyway moving on so",
    "start": "35680",
    "end": "37440"
  },
  {
    "text": "we have a real quick like",
    "start": "37440",
    "end": "39600"
  },
  {
    "text": "we got a lot to get through today so our",
    "start": "39600",
    "end": "41040"
  },
  {
    "text": "agenda is fairly short but each of these",
    "start": "41040",
    "end": "43280"
  },
  {
    "text": "sections is going to be meaty we're",
    "start": "43280",
    "end": "44800"
  },
  {
    "text": "going to go over our problem statement",
    "start": "44800",
    "end": "46000"
  },
  {
    "text": "make sure we're all on the same page",
    "start": "46000",
    "end": "47520"
  },
  {
    "text": "we're going to do a very quick hopefully",
    "start": "47520",
    "end": "49039"
  },
  {
    "text": "just a few minute refresher of spiffy",
    "start": "49039",
    "end": "50960"
  },
  {
    "text": "inspire to kind of set the stage for the",
    "start": "50960",
    "end": "53280"
  },
  {
    "text": "kubernetes controller work that we're",
    "start": "53280",
    "end": "54800"
  },
  {
    "text": "doing and to demonstrate",
    "start": "54800",
    "end": "57280"
  },
  {
    "text": "accomplishing cross-cluster",
    "start": "57280",
    "end": "58320"
  },
  {
    "text": "authentication using spiffy inspire in",
    "start": "58320",
    "end": "60239"
  },
  {
    "text": "this",
    "start": "60239",
    "end": "61039"
  },
  {
    "text": "kubernetes controller work so",
    "start": "61039",
    "end": "63440"
  },
  {
    "text": "real quick",
    "start": "63440",
    "end": "64640"
  },
  {
    "text": "our problem statement you know we've",
    "start": "64640",
    "end": "66400"
  },
  {
    "text": "we're all very familiar i think with",
    "start": "66400",
    "end": "68080"
  },
  {
    "text": "with this this sort of setup we've got",
    "start": "68080",
    "end": "69680"
  },
  {
    "text": "multiple kubernetes clusters we got",
    "start": "69680",
    "end": "71200"
  },
  {
    "text": "workloads running within those clusters",
    "start": "71200",
    "end": "73760"
  },
  {
    "text": "the uh intra communication store within",
    "start": "73760",
    "end": "75920"
  },
  {
    "text": "kubernetes you know there's there are",
    "start": "75920",
    "end": "77439"
  },
  {
    "text": "things that work there and that people",
    "start": "77439",
    "end": "79360"
  },
  {
    "text": "have done to communicate between",
    "start": "79360",
    "end": "81200"
  },
  {
    "text": "workloads within the same cluster when",
    "start": "81200",
    "end": "83200"
  },
  {
    "text": "you start talking about workloads",
    "start": "83200",
    "end": "84880"
  },
  {
    "text": "between clusters then the authentication",
    "start": "84880",
    "end": "86720"
  },
  {
    "text": "story gets a little more complicated and",
    "start": "86720",
    "end": "88000"
  },
  {
    "text": "there are solutions out there with",
    "start": "88000",
    "end": "89040"
  },
  {
    "text": "various pros and cons today we're going",
    "start": "89040",
    "end": "91040"
  },
  {
    "text": "to talk about solving it with spiffy and",
    "start": "91040",
    "end": "93520"
  },
  {
    "text": "spire",
    "start": "93520",
    "end": "94720"
  },
  {
    "text": "so what is spiffy it's the secure",
    "start": "94720",
    "end": "96560"
  },
  {
    "text": "production identity framework for",
    "start": "96560",
    "end": "98079"
  },
  {
    "text": "everyone",
    "start": "98079",
    "end": "99520"
  },
  {
    "text": "it is essentially a set of",
    "start": "99520",
    "end": "100799"
  },
  {
    "text": "specifications that are all geared",
    "start": "100799",
    "end": "102320"
  },
  {
    "text": "around how do you get a workload",
    "start": "102320",
    "end": "104399"
  },
  {
    "text": "a cryptographic identity that it can use",
    "start": "104399",
    "end": "106159"
  },
  {
    "text": "to authenticate with other workloads",
    "start": "106159",
    "end": "108399"
  },
  {
    "text": "and how do you get the public key",
    "start": "108399",
    "end": "110240"
  },
  {
    "text": "material around so that you know",
    "start": "110240",
    "end": "112240"
  },
  {
    "text": "receiving parties of these verifiable",
    "start": "112240",
    "end": "114720"
  },
  {
    "text": "identity documents can you know um",
    "start": "114720",
    "end": "117360"
  },
  {
    "text": "verify the signatures and verify the",
    "start": "117360",
    "end": "119600"
  },
  {
    "text": "authenticity of those documents and get",
    "start": "119600",
    "end": "121280"
  },
  {
    "text": "your authentication so",
    "start": "121280",
    "end": "123119"
  },
  {
    "text": "at the heart of spiffy is something",
    "start": "123119",
    "end": "125040"
  },
  {
    "text": "called the spiffy id this is your",
    "start": "125040",
    "end": "126560"
  },
  {
    "text": "username for your service your workload",
    "start": "126560",
    "end": "128479"
  },
  {
    "text": "this is your",
    "start": "128479",
    "end": "129520"
  },
  {
    "text": "your identity uh it's a uri",
    "start": "129520",
    "end": "132480"
  },
  {
    "text": "very basic uh it's got basically two",
    "start": "132480",
    "end": "134640"
  },
  {
    "text": "parts to it you've got a trust domain",
    "start": "134640",
    "end": "136239"
  },
  {
    "text": "part and you've got this like entity",
    "start": "136239",
    "end": "138480"
  },
  {
    "text": "part within that trust domain and the",
    "start": "138480",
    "end": "140480"
  },
  {
    "text": "trust domain is essentially acting as a",
    "start": "140480",
    "end": "142319"
  },
  {
    "text": "namespace uh for these entities right um",
    "start": "142319",
    "end": "145840"
  },
  {
    "text": "it represents a security boundary or",
    "start": "145840",
    "end": "148160"
  },
  {
    "text": "maybe a different administrative domain",
    "start": "148160",
    "end": "149920"
  },
  {
    "text": "uh this could be like you know you could",
    "start": "149920",
    "end": "151280"
  },
  {
    "text": "have a company has a single trust domain",
    "start": "151280",
    "end": "153360"
  },
  {
    "text": "maybe it has a trust domain for prod and",
    "start": "153360",
    "end": "155040"
  },
  {
    "text": "staging maybe it has a trust me between",
    "start": "155040",
    "end": "156720"
  },
  {
    "text": "business units the banking business unit",
    "start": "156720",
    "end": "158400"
  },
  {
    "text": "and the hr business unit or whatever",
    "start": "158400",
    "end": "160720"
  },
  {
    "text": "uh the point is that these these trust",
    "start": "160720",
    "end": "162400"
  },
  {
    "text": "remains form this cryptographic boundary",
    "start": "162400",
    "end": "164560"
  },
  {
    "text": "the security boundary and uh trust me",
    "start": "164560",
    "end": "167200"
  },
  {
    "text": "typically has",
    "start": "167200",
    "end": "168879"
  },
  {
    "text": "its own pki or its own set of",
    "start": "168879",
    "end": "170640"
  },
  {
    "text": "cryptographic keys",
    "start": "170640",
    "end": "172319"
  },
  {
    "text": "that it uses to sign",
    "start": "172319",
    "end": "174160"
  },
  {
    "text": "identities within itself okay",
    "start": "174160",
    "end": "177040"
  },
  {
    "text": "and that is what we'll talk about next",
    "start": "177040",
    "end": "179120"
  },
  {
    "text": "which is you've got this id you want to",
    "start": "179120",
    "end": "181760"
  },
  {
    "text": "be able to assert this id",
    "start": "181760",
    "end": "182879"
  },
  {
    "text": "cryptographically and so we put it into",
    "start": "182879",
    "end": "185440"
  },
  {
    "text": "a document called a nesvid and we've got",
    "start": "185440",
    "end": "187680"
  },
  {
    "text": "both x509 and",
    "start": "187680",
    "end": "189760"
  },
  {
    "text": "jot documents",
    "start": "189760",
    "end": "191440"
  },
  {
    "text": "in the within the specifications for",
    "start": "191440",
    "end": "193120"
  },
  {
    "text": "svids and this is just a signed document",
    "start": "193120",
    "end": "195280"
  },
  {
    "text": "over that id and it's signed again by an",
    "start": "195280",
    "end": "198080"
  },
  {
    "text": "authority within that trust domain",
    "start": "198080",
    "end": "200400"
  },
  {
    "text": "and this is what workloads present as",
    "start": "200400",
    "end": "202319"
  },
  {
    "text": "their proof of identity okay",
    "start": "202319",
    "end": "205680"
  },
  {
    "text": "receiving parties",
    "start": "205680",
    "end": "208640"
  },
  {
    "text": "take something that is called the spiffy",
    "start": "208720",
    "end": "210560"
  },
  {
    "text": "bundle and use this to verify those",
    "start": "210560",
    "end": "212640"
  },
  {
    "text": "identities now the spiffy bundle is just",
    "start": "212640",
    "end": "214640"
  },
  {
    "text": "a collection of the public keys for the",
    "start": "214640",
    "end": "217200"
  },
  {
    "text": "signing authorities within a trust",
    "start": "217200",
    "end": "218959"
  },
  {
    "text": "domain",
    "start": "218959",
    "end": "220159"
  },
  {
    "text": "okay",
    "start": "220159",
    "end": "221200"
  },
  {
    "text": "we we call it like",
    "start": "221200",
    "end": "223040"
  },
  {
    "text": "we called a bunch of different things",
    "start": "223040",
    "end": "224000"
  },
  {
    "text": "it's a trust bundle or a trust domain",
    "start": "224000",
    "end": "225840"
  },
  {
    "text": "bundle but in you know the specification",
    "start": "225840",
    "end": "228400"
  },
  {
    "text": "correct standard is or correct naming is",
    "start": "228400",
    "end": "230480"
  },
  {
    "text": "the spiffy bundle",
    "start": "230480",
    "end": "232879"
  },
  {
    "text": "so we've got these signed identity",
    "start": "232879",
    "end": "234879"
  },
  {
    "text": "documents we've got these bundles we can",
    "start": "234879",
    "end": "236640"
  },
  {
    "text": "use to verify them how do we get those",
    "start": "236640",
    "end": "238640"
  },
  {
    "text": "documents to the workload itself so that",
    "start": "238640",
    "end": "241280"
  },
  {
    "text": "it can use them and the answer there is",
    "start": "241280",
    "end": "242959"
  },
  {
    "text": "something called the workload api",
    "start": "242959",
    "end": "244959"
  },
  {
    "text": "so this is an unauthenticated api",
    "start": "244959",
    "end": "246879"
  },
  {
    "text": "workloads don't have to bring anything",
    "start": "246879",
    "end": "248319"
  },
  {
    "text": "to the table in order to talk to this",
    "start": "248319",
    "end": "250400"
  },
  {
    "text": "thing and obtain credentials over it",
    "start": "250400",
    "end": "252080"
  },
  {
    "text": "they just stand up wherever they are",
    "start": "252080",
    "end": "253760"
  },
  {
    "text": "find the workload api say hey give me my",
    "start": "253760",
    "end": "255760"
  },
  {
    "text": "identity the workload api through all",
    "start": "255760",
    "end": "257600"
  },
  {
    "text": "the spiffy magic identifies the workload",
    "start": "257600",
    "end": "260000"
  },
  {
    "text": "applies whatever policy is necessary and",
    "start": "260000",
    "end": "261919"
  },
  {
    "text": "then ships down across this workload api",
    "start": "261919",
    "end": "264880"
  },
  {
    "text": "the svid and the bundles",
    "start": "264880",
    "end": "268639"
  },
  {
    "text": "as those secrets or materials change and",
    "start": "268639",
    "end": "271520"
  },
  {
    "text": "are rotated because with spiffy you can",
    "start": "271520",
    "end": "273120"
  },
  {
    "text": "get you can get rotation all the way",
    "start": "273120",
    "end": "274800"
  },
  {
    "text": "from the you know the leaf certificates",
    "start": "274800",
    "end": "276560"
  },
  {
    "text": "all the way up through your certificate",
    "start": "276560",
    "end": "278320"
  },
  {
    "text": "authorities",
    "start": "278320",
    "end": "279520"
  },
  {
    "text": "as those materials change and rotate",
    "start": "279520",
    "end": "281120"
  },
  {
    "text": "over time sometimes very frequently",
    "start": "281120",
    "end": "283199"
  },
  {
    "text": "those updates are streamed down to the",
    "start": "283199",
    "end": "285440"
  },
  {
    "text": "workload they're pushed down to the",
    "start": "285440",
    "end": "286639"
  },
  {
    "text": "workload so the workload always has a",
    "start": "286639",
    "end": "288320"
  },
  {
    "text": "you know very quick snappy idea of like",
    "start": "288320",
    "end": "291040"
  },
  {
    "text": "what the what it the identity universe",
    "start": "291040",
    "end": "292960"
  },
  {
    "text": "looks like how it's able to authenticate",
    "start": "292960",
    "end": "294560"
  },
  {
    "text": "other identities and present its own",
    "start": "294560",
    "end": "296580"
  },
  {
    "text": "[Applause]",
    "start": "296580",
    "end": "298560"
  },
  {
    "text": "now the very last thing we'll talk about",
    "start": "298560",
    "end": "300400"
  },
  {
    "text": "for spiffy is you know we've talked",
    "start": "300400",
    "end": "302400"
  },
  {
    "text": "about how the the workload receives",
    "start": "302400",
    "end": "304000"
  },
  {
    "text": "these documents the question is how do",
    "start": "304000",
    "end": "305680"
  },
  {
    "text": "other trust domains receive these",
    "start": "305680",
    "end": "307600"
  },
  {
    "text": "documents this is where we're going to",
    "start": "307600",
    "end": "309039"
  },
  {
    "text": "talk about federation right if i have",
    "start": "309039",
    "end": "311360"
  },
  {
    "text": "two trust domains and they want to be",
    "start": "311360",
    "end": "312800"
  },
  {
    "text": "able to authenticate the asvids that are",
    "start": "312800",
    "end": "315360"
  },
  {
    "text": "produced from each other they need to",
    "start": "315360",
    "end": "317520"
  },
  {
    "text": "get their hands on the spiffy bundle",
    "start": "317520",
    "end": "319120"
  },
  {
    "text": "material for the foreign trust domain",
    "start": "319120",
    "end": "321280"
  },
  {
    "text": "and so this is uh it's not really called",
    "start": "321280",
    "end": "323759"
  },
  {
    "text": "the federation api spec it's called the",
    "start": "323759",
    "end": "326320"
  },
  {
    "text": "bundle endpoint it's called the",
    "start": "326320",
    "end": "327840"
  },
  {
    "text": "federation specification inside that",
    "start": "327840",
    "end": "329280"
  },
  {
    "text": "there's something called the bundle",
    "start": "329280",
    "end": "330240"
  },
  {
    "text": "endpoint which is",
    "start": "330240",
    "end": "331680"
  },
  {
    "text": "um",
    "start": "331680",
    "end": "332639"
  },
  {
    "text": "you know it's very simple https endpoint",
    "start": "332639",
    "end": "334479"
  },
  {
    "text": "that you talk to to obtain the spiffy",
    "start": "334479",
    "end": "336160"
  },
  {
    "text": "bundle and there's rules in there on how",
    "start": "336160",
    "end": "337520"
  },
  {
    "text": "you authenticate that endpoint a couple",
    "start": "337520",
    "end": "339840"
  },
  {
    "text": "different profiles you can use to do",
    "start": "339840",
    "end": "341199"
  },
  {
    "text": "that but this is the federation api it's",
    "start": "341199",
    "end": "343520"
  },
  {
    "text": "the way that a foreign trust domain is",
    "start": "343520",
    "end": "345360"
  },
  {
    "text": "able to obtain the bundle for your trust",
    "start": "345360",
    "end": "347039"
  },
  {
    "text": "domain so they can verify the identities",
    "start": "347039",
    "end": "349520"
  },
  {
    "text": "the svid documents that come out of your",
    "start": "349520",
    "end": "351280"
  },
  {
    "text": "trust me",
    "start": "351280",
    "end": "353520"
  },
  {
    "text": "so in a nutshell what you get with",
    "start": "353520",
    "end": "354960"
  },
  {
    "text": "spiffy is these cryptographic verifiable",
    "start": "354960",
    "end": "357280"
  },
  {
    "text": "secret zero like federatable um you know",
    "start": "357280",
    "end": "360960"
  },
  {
    "text": "frequently rotated namespace uniform",
    "start": "360960",
    "end": "362880"
  },
  {
    "text": "identity and that's kind of like the",
    "start": "362880",
    "end": "365360"
  },
  {
    "text": "the crux that's what spiffy is giving",
    "start": "365360",
    "end": "367199"
  },
  {
    "text": "you",
    "start": "367199",
    "end": "368319"
  },
  {
    "text": "and that's what we're going to build on",
    "start": "368319",
    "end": "369280"
  },
  {
    "text": "today or use today leveraged today to do",
    "start": "369280",
    "end": "371199"
  },
  {
    "text": "our cross-cluster authentication and",
    "start": "371199",
    "end": "373199"
  },
  {
    "text": "we're going to do that with spire",
    "start": "373199",
    "end": "374960"
  },
  {
    "text": "so spire",
    "start": "374960",
    "end": "376160"
  },
  {
    "text": "is",
    "start": "376160",
    "end": "376960"
  },
  {
    "text": "basically an implementation of all those",
    "start": "376960",
    "end": "378720"
  },
  {
    "text": "spiffy standards that we just talked",
    "start": "378720",
    "end": "380080"
  },
  {
    "text": "about and the goal of spire",
    "start": "380080",
    "end": "382080"
  },
  {
    "text": "is to take",
    "start": "382080",
    "end": "383680"
  },
  {
    "text": "all the functionality you get through",
    "start": "383680",
    "end": "384880"
  },
  {
    "text": "those apis all the interoperability etc",
    "start": "384880",
    "end": "387440"
  },
  {
    "text": "and just shove that as many places we",
    "start": "387440",
    "end": "389360"
  },
  {
    "text": "can get it light this thing up",
    "start": "389360",
    "end": "390880"
  },
  {
    "text": "everywhere whether that's you know",
    "start": "390880",
    "end": "392960"
  },
  {
    "text": "inside different hosted cloud services",
    "start": "392960",
    "end": "394479"
  },
  {
    "text": "azure aws gcp whatever",
    "start": "394479",
    "end": "396880"
  },
  {
    "text": "whether it's on bare metal servers",
    "start": "396880",
    "end": "398479"
  },
  {
    "text": "whether it's running inside kubernetes",
    "start": "398479",
    "end": "399840"
  },
  {
    "text": "or outside kubernetes like we want to",
    "start": "399840",
    "end": "401199"
  },
  {
    "text": "stick this thing everywhere because the",
    "start": "401199",
    "end": "402319"
  },
  {
    "text": "more places you have the workload api",
    "start": "402319",
    "end": "404000"
  },
  {
    "text": "and the related you know spiffy",
    "start": "404000",
    "end": "405840"
  },
  {
    "text": "specifications like out there the more",
    "start": "405840",
    "end": "408080"
  },
  {
    "text": "powerful it becomes the easier it is to",
    "start": "408080",
    "end": "409840"
  },
  {
    "text": "just say hey i don't i don't care where",
    "start": "409840",
    "end": "411360"
  },
  {
    "text": "my workload's running i'm just going to",
    "start": "411360",
    "end": "412479"
  },
  {
    "text": "kick that thing up it's going to be able",
    "start": "412479",
    "end": "413680"
  },
  {
    "text": "to talk to workload api get credentials",
    "start": "413680",
    "end": "415440"
  },
  {
    "text": "and authenticate and that's really what",
    "start": "415440",
    "end": "417280"
  },
  {
    "text": "we're striving for is kind of like this",
    "start": "417280",
    "end": "418639"
  },
  {
    "text": "this very easy way to",
    "start": "418639",
    "end": "420319"
  },
  {
    "text": "to provide workloads this identity in a",
    "start": "420319",
    "end": "422400"
  },
  {
    "text": "way that that isn't complicated for them",
    "start": "422400",
    "end": "424000"
  },
  {
    "text": "they just and we'll show that you later",
    "start": "424000",
    "end": "425360"
  },
  {
    "text": "we're going to do a little bit of live",
    "start": "425360",
    "end": "426319"
  },
  {
    "text": "coding we'll see how easy it is to pick",
    "start": "426319",
    "end": "428000"
  },
  {
    "text": "up credentials off the workload api and",
    "start": "428000",
    "end": "429680"
  },
  {
    "text": "do this sort of thing",
    "start": "429680",
    "end": "431360"
  },
  {
    "text": "so let's talk real quick about the",
    "start": "431360",
    "end": "432560"
  },
  {
    "text": "components of spire we're going to start",
    "start": "432560",
    "end": "433919"
  },
  {
    "text": "with the workload that's",
    "start": "433919",
    "end": "435440"
  },
  {
    "text": "not spire but it's the whole reason",
    "start": "435440",
    "end": "437280"
  },
  {
    "text": "spire exists is to like light up this",
    "start": "437280",
    "end": "439039"
  },
  {
    "text": "workload and give it identity",
    "start": "439039",
    "end": "440880"
  },
  {
    "text": "uh the workload api we talked about is",
    "start": "440880",
    "end": "443680"
  },
  {
    "text": "uh the thing that workloads talk to to",
    "start": "443680",
    "end": "445360"
  },
  {
    "text": "get their credentials and that is hosted",
    "start": "445360",
    "end": "446720"
  },
  {
    "text": "by a component called the spire agent",
    "start": "446720",
    "end": "448880"
  },
  {
    "text": "okay the spire agent is able to identify",
    "start": "448880",
    "end": "451280"
  },
  {
    "text": "the workload and",
    "start": "451280",
    "end": "452960"
  },
  {
    "text": "take the policy that it has and use that",
    "start": "452960",
    "end": "455280"
  },
  {
    "text": "policy to figure out which identity is",
    "start": "455280",
    "end": "456800"
  },
  {
    "text": "supposed to go to that workload and or",
    "start": "456800",
    "end": "458560"
  },
  {
    "text": "not and and deliver those materials",
    "start": "458560",
    "end": "461599"
  },
  {
    "text": "the spire agent itself is not the",
    "start": "461599",
    "end": "463120"
  },
  {
    "text": "signing authority",
    "start": "463120",
    "end": "464479"
  },
  {
    "text": "for the trust domain that is delegated",
    "start": "464479",
    "end": "466560"
  },
  {
    "text": "and also the",
    "start": "466560",
    "end": "468319"
  },
  {
    "text": "policy",
    "start": "468319",
    "end": "469440"
  },
  {
    "text": "is delegated to a component called the",
    "start": "469440",
    "end": "471280"
  },
  {
    "text": "spire server this has a management api",
    "start": "471280",
    "end": "473440"
  },
  {
    "text": "that",
    "start": "473440",
    "end": "474240"
  },
  {
    "text": "you know operators can use to configure",
    "start": "474240",
    "end": "476080"
  },
  {
    "text": "and register workloads and federation",
    "start": "476080",
    "end": "477840"
  },
  {
    "text": "relationships and all that jazz it's",
    "start": "477840",
    "end": "479840"
  },
  {
    "text": "also the component that hosts the spiffy",
    "start": "479840",
    "end": "481680"
  },
  {
    "text": "federation api so in our example we'll",
    "start": "481680",
    "end": "483520"
  },
  {
    "text": "have these spire deployments running",
    "start": "483520",
    "end": "485120"
  },
  {
    "text": "each cluster the inspire servers are",
    "start": "485120",
    "end": "487039"
  },
  {
    "text": "going to be talking to each other to",
    "start": "487039",
    "end": "488720"
  },
  {
    "text": "obtain the spiffy bundle for for the",
    "start": "488720",
    "end": "490400"
  },
  {
    "text": "other trust domains so we can do our our",
    "start": "490400",
    "end": "492240"
  },
  {
    "text": "federation across cluster authentication",
    "start": "492240",
    "end": "495360"
  },
  {
    "text": "so how do we typically deploy spire",
    "start": "495360",
    "end": "496879"
  },
  {
    "text": "inside kubernetes",
    "start": "496879",
    "end": "498800"
  },
  {
    "text": "ta-da we did it there it is we've got uh",
    "start": "498800",
    "end": "501440"
  },
  {
    "text": "spire server running in either in a",
    "start": "501440",
    "end": "502800"
  },
  {
    "text": "deployment or in a stateful set",
    "start": "502800",
    "end": "504479"
  },
  {
    "text": "depending on you know a few different",
    "start": "504479",
    "end": "506080"
  },
  {
    "text": "ways that you might want to decide to",
    "start": "506080",
    "end": "507199"
  },
  {
    "text": "deploy that",
    "start": "507199",
    "end": "508400"
  },
  {
    "text": "the important bit is that on each node",
    "start": "508400",
    "end": "509919"
  },
  {
    "text": "we've got a daemon set that's going to",
    "start": "509919",
    "end": "511280"
  },
  {
    "text": "be running the spire agent so that no",
    "start": "511280",
    "end": "513518"
  },
  {
    "text": "our uh you know workloads that come up",
    "start": "513519",
    "end": "515760"
  },
  {
    "text": "on that node can talk to the workload",
    "start": "515760",
    "end": "518080"
  },
  {
    "text": "api hosted by that spire agent to get",
    "start": "518080",
    "end": "520320"
  },
  {
    "text": "their credentials",
    "start": "520320",
    "end": "522800"
  },
  {
    "text": "all right so the next bit we're going to",
    "start": "522800",
    "end": "524320"
  },
  {
    "text": "talk about is this new work that we're",
    "start": "524320",
    "end": "526399"
  },
  {
    "text": "doing in kubernetes now i say new",
    "start": "526399",
    "end": "528959"
  },
  {
    "text": "because this is this is a new body of",
    "start": "528959",
    "end": "531040"
  },
  {
    "text": "work but it's not as if spire hasn't had",
    "start": "531040",
    "end": "533040"
  },
  {
    "text": "kubernetes integration",
    "start": "533040",
    "end": "534800"
  },
  {
    "text": "before this point we've actually had",
    "start": "534800",
    "end": "536000"
  },
  {
    "text": "support for a couple years in a",
    "start": "536000",
    "end": "537200"
  },
  {
    "text": "component called the the kubernetes",
    "start": "537200",
    "end": "538640"
  },
  {
    "text": "workload registrar",
    "start": "538640",
    "end": "540399"
  },
  {
    "text": "um the kubernetes workflow registrar is",
    "start": "540399",
    "end": "542080"
  },
  {
    "text": "something that the community heavily",
    "start": "542080",
    "end": "544080"
  },
  {
    "text": "contributed to their people are using in",
    "start": "544080",
    "end": "545680"
  },
  {
    "text": "production it's got a couple different",
    "start": "545680",
    "end": "547519"
  },
  {
    "text": "operating modes and it solves mainly the",
    "start": "547519",
    "end": "549519"
  },
  {
    "text": "problem of like how do you automate the",
    "start": "549519",
    "end": "551360"
  },
  {
    "text": "registration of workloads within your",
    "start": "551360",
    "end": "552800"
  },
  {
    "text": "kubernetes cluster so that they can talk",
    "start": "552800",
    "end": "554480"
  },
  {
    "text": "to the workload api and get their",
    "start": "554480",
    "end": "555600"
  },
  {
    "text": "credential",
    "start": "555600",
    "end": "556720"
  },
  {
    "text": "we've learned a bunch over the past",
    "start": "556720",
    "end": "558240"
  },
  {
    "text": "couple of years seeing this thing uh",
    "start": "558240",
    "end": "560160"
  },
  {
    "text": "happen in production seeing the type of",
    "start": "560160",
    "end": "561600"
  },
  {
    "text": "features that it has grown over time",
    "start": "561600",
    "end": "563680"
  },
  {
    "text": "and we think we can take those learnings",
    "start": "563680",
    "end": "565200"
  },
  {
    "text": "and and go",
    "start": "565200",
    "end": "566240"
  },
  {
    "text": "even further and make it even more turn",
    "start": "566240",
    "end": "568399"
  },
  {
    "text": "key to light up spiffy inside of inside",
    "start": "568399",
    "end": "571279"
  },
  {
    "text": "of kubernetes with spire",
    "start": "571279",
    "end": "573040"
  },
  {
    "text": "so right now we currently have two crds",
    "start": "573040",
    "end": "575279"
  },
  {
    "text": "defined with this work we've got one",
    "start": "575279",
    "end": "576640"
  },
  {
    "text": "that'll allow us to declare workload",
    "start": "576640",
    "end": "578240"
  },
  {
    "text": "identity one that'll allow us to declare",
    "start": "578240",
    "end": "579839"
  },
  {
    "text": "these federation relationships and we'll",
    "start": "579839",
    "end": "581680"
  },
  {
    "text": "show how that's gonna how that's gonna",
    "start": "581680",
    "end": "583760"
  },
  {
    "text": "break down and the idea is that these",
    "start": "583760",
    "end": "585360"
  },
  {
    "text": "controllers are gonna look at these you",
    "start": "585360",
    "end": "586720"
  },
  {
    "text": "know declared resources inside",
    "start": "586720",
    "end": "587920"
  },
  {
    "text": "kubernetes and when they reconcile",
    "start": "587920",
    "end": "589360"
  },
  {
    "text": "they'll take a look at fire server",
    "start": "589360",
    "end": "590720"
  },
  {
    "text": "management apis and decide what has to",
    "start": "590720",
    "end": "592959"
  },
  {
    "text": "change in order to reflect the declared",
    "start": "592959",
    "end": "595120"
  },
  {
    "text": "state of the world back into spire",
    "start": "595120",
    "end": "596399"
  },
  {
    "text": "servers",
    "start": "596399",
    "end": "597600"
  },
  {
    "text": "um",
    "start": "597600",
    "end": "598880"
  },
  {
    "text": "specifically we've got",
    "start": "598880",
    "end": "600720"
  },
  {
    "text": "this is the the workload identity crd",
    "start": "600720",
    "end": "602959"
  },
  {
    "text": "it's called the cluster spiffy idc rd it",
    "start": "602959",
    "end": "605040"
  },
  {
    "text": "allows you to define the shape of the",
    "start": "605040",
    "end": "606399"
  },
  {
    "text": "spiffy id that your workload's going to",
    "start": "606399",
    "end": "607920"
  },
  {
    "text": "get it allows you to declare what sort",
    "start": "607920",
    "end": "610240"
  },
  {
    "text": "of trust domains that workload should",
    "start": "610240",
    "end": "612399"
  },
  {
    "text": "federate with",
    "start": "612399",
    "end": "613920"
  },
  {
    "text": "it also allows you to kind of sharp",
    "start": "613920",
    "end": "615760"
  },
  {
    "text": "shoot and target the specific nodes in",
    "start": "615760",
    "end": "618079"
  },
  {
    "text": "the specific name spaces where this",
    "start": "618079",
    "end": "619680"
  },
  {
    "text": "identity should be available",
    "start": "619680",
    "end": "623040"
  },
  {
    "text": "the second crd is called the cluster",
    "start": "623040",
    "end": "624959"
  },
  {
    "text": "federated trust domain crd",
    "start": "624959",
    "end": "626880"
  },
  {
    "text": "super basic has the the name of the",
    "start": "626880",
    "end": "629120"
  },
  {
    "text": "trust domain that you want to",
    "start": "629120",
    "end": "631120"
  },
  {
    "text": "federate with and also we talked about",
    "start": "631120",
    "end": "633120"
  },
  {
    "text": "that bundle endpoint specification and",
    "start": "633120",
    "end": "634959"
  },
  {
    "text": "the ways you authenticate and connect to",
    "start": "634959",
    "end": "636959"
  },
  {
    "text": "that bundle endpoint uh it has all the",
    "start": "636959",
    "end": "639040"
  },
  {
    "text": "materials and all the the information",
    "start": "639040",
    "end": "640959"
  },
  {
    "text": "that you need to talk to that endpoint",
    "start": "640959",
    "end": "642480"
  },
  {
    "text": "authenticate it in order to receive the",
    "start": "642480",
    "end": "644240"
  },
  {
    "text": "bundle",
    "start": "644240",
    "end": "645600"
  },
  {
    "text": "and",
    "start": "645600",
    "end": "647839"
  },
  {
    "text": "that's it so far we might have other",
    "start": "648079",
    "end": "649920"
  },
  {
    "text": "control or sorry other resources that we",
    "start": "649920",
    "end": "651680"
  },
  {
    "text": "added in later points maybe",
    "start": "651680",
    "end": "653680"
  },
  {
    "text": "go down the operator route we're still",
    "start": "653680",
    "end": "655440"
  },
  {
    "text": "all this is still in flux under uh",
    "start": "655440",
    "end": "657279"
  },
  {
    "text": "design and development right now so",
    "start": "657279",
    "end": "660880"
  },
  {
    "text": "um",
    "start": "660880",
    "end": "663040"
  },
  {
    "text": "let's get into our demo architecture",
    "start": "663040",
    "end": "665680"
  },
  {
    "text": "so we will start today",
    "start": "665680",
    "end": "667839"
  },
  {
    "text": "with",
    "start": "667839",
    "end": "668880"
  },
  {
    "text": "our typical spire deployment site",
    "start": "668880",
    "end": "670720"
  },
  {
    "text": "kubernetes and then we're going to toss",
    "start": "670720",
    "end": "672640"
  },
  {
    "text": "in this new controller into the mix okay",
    "start": "672640",
    "end": "675519"
  },
  {
    "text": "and the controller is going to",
    "start": "675519",
    "end": "677440"
  },
  {
    "text": "look at the kubernetes api watch that",
    "start": "677440",
    "end": "679440"
  },
  {
    "text": "get reconciliation events for these",
    "start": "679440",
    "end": "681200"
  },
  {
    "text": "different resources and then it's going",
    "start": "681200",
    "end": "682959"
  },
  {
    "text": "to reconcile the state of the world with",
    "start": "682959",
    "end": "685519"
  },
  {
    "text": "aspire server",
    "start": "685519",
    "end": "687200"
  },
  {
    "text": "programming the workload identity and",
    "start": "687200",
    "end": "688560"
  },
  {
    "text": "the federation relationships that are",
    "start": "688560",
    "end": "690160"
  },
  {
    "text": "needed",
    "start": "690160",
    "end": "691519"
  },
  {
    "text": "and then of course spire server is going",
    "start": "691519",
    "end": "693120"
  },
  {
    "text": "to be applying policy and what not and",
    "start": "693120",
    "end": "695120"
  },
  {
    "text": "it's going to end up you know at some",
    "start": "695120",
    "end": "696959"
  },
  {
    "text": "point uh shipping these s and bundles",
    "start": "696959",
    "end": "699040"
  },
  {
    "text": "down to the spire agent and on to the",
    "start": "699040",
    "end": "700880"
  },
  {
    "text": "workload",
    "start": "700880",
    "end": "702720"
  },
  {
    "text": "and that's that's our whole picture",
    "start": "702720",
    "end": "704399"
  },
  {
    "text": "within the single cluster",
    "start": "704399",
    "end": "706560"
  },
  {
    "text": "now",
    "start": "706560",
    "end": "707279"
  },
  {
    "text": "between clusters you can see here on the",
    "start": "707279",
    "end": "708959"
  },
  {
    "text": "left we got cluster one on the right",
    "start": "708959",
    "end": "710240"
  },
  {
    "text": "we've got cluster two and we've got",
    "start": "710240",
    "end": "711519"
  },
  {
    "text": "we've kind of lumped all that spire",
    "start": "711519",
    "end": "712959"
  },
  {
    "text": "infrastructure into into one little box",
    "start": "712959",
    "end": "714639"
  },
  {
    "text": "there named spire on each side and then",
    "start": "714639",
    "end": "716959"
  },
  {
    "text": "we've got our workloads we have a",
    "start": "716959",
    "end": "718880"
  },
  {
    "text": "greeter server running in cluster one",
    "start": "718880",
    "end": "721279"
  },
  {
    "text": "and we have a greeter client running in",
    "start": "721279",
    "end": "722880"
  },
  {
    "text": "cluster two",
    "start": "722880",
    "end": "724240"
  },
  {
    "text": "the spire servers are gonna be",
    "start": "724240",
    "end": "725519"
  },
  {
    "text": "programmed using that cluster federated",
    "start": "725519",
    "end": "727200"
  },
  {
    "text": "trust domain crd",
    "start": "727200",
    "end": "729360"
  },
  {
    "text": "to federate with each other so they're",
    "start": "729360",
    "end": "730880"
  },
  {
    "text": "going to they're going to start talking",
    "start": "730880",
    "end": "732000"
  },
  {
    "text": "to each other and pulling spiffy bundle",
    "start": "732000",
    "end": "733760"
  },
  {
    "text": "material",
    "start": "733760",
    "end": "735040"
  },
  {
    "text": "into each other's trust domains",
    "start": "735040",
    "end": "736959"
  },
  {
    "text": "and of course the workloads are going to",
    "start": "736959",
    "end": "738800"
  },
  {
    "text": "connect up through the workload api and",
    "start": "738800",
    "end": "740959"
  },
  {
    "text": "obtain those s fit and spiffy bundles",
    "start": "740959",
    "end": "743360"
  },
  {
    "text": "over the workload api and then they're",
    "start": "743360",
    "end": "745440"
  },
  {
    "text": "going to talk to each other over mts and",
    "start": "745440",
    "end": "747040"
  },
  {
    "text": "do mutual authentication",
    "start": "747040",
    "end": "750320"
  },
  {
    "text": "all right",
    "start": "750320",
    "end": "752800"
  },
  {
    "text": "let's do the demo",
    "start": "753120",
    "end": "755920"
  },
  {
    "text": "okay",
    "start": "756480",
    "end": "759380"
  },
  {
    "text": "[Applause]",
    "start": "759380",
    "end": "762720"
  },
  {
    "text": "let me fix my display up here real quick",
    "start": "762720",
    "end": "766000"
  },
  {
    "text": "so i can also see my terminal",
    "start": "766000",
    "end": "769600"
  },
  {
    "text": "all right",
    "start": "769600",
    "end": "772839"
  },
  {
    "text": "you guys see that okay do i need to bump",
    "start": "773279",
    "end": "774800"
  },
  {
    "text": "up the font size",
    "start": "774800",
    "end": "777600"
  },
  {
    "text": "i'll go a little bit bigger",
    "start": "778880",
    "end": "781200"
  },
  {
    "text": "never be too careful",
    "start": "781200",
    "end": "783040"
  },
  {
    "text": "okay",
    "start": "783040",
    "end": "783920"
  },
  {
    "text": "all right so",
    "start": "783920",
    "end": "785680"
  },
  {
    "text": "uh first thing",
    "start": "785680",
    "end": "786959"
  },
  {
    "text": "i'll show you is this workload that",
    "start": "786959",
    "end": "788959"
  },
  {
    "text": "we've developed okay uh we're not going",
    "start": "788959",
    "end": "790560"
  },
  {
    "text": "to write it all by by uh scratch that",
    "start": "790560",
    "end": "792720"
  },
  {
    "text": "would take way too long so i've got most",
    "start": "792720",
    "end": "794480"
  },
  {
    "text": "of the code in place",
    "start": "794480",
    "end": "795920"
  },
  {
    "text": "let me show you what it does first",
    "start": "795920",
    "end": "797760"
  },
  {
    "text": "so",
    "start": "797760",
    "end": "798560"
  },
  {
    "text": "the greeter server i'll just uh",
    "start": "798560",
    "end": "802480"
  },
  {
    "text": "build that real quick",
    "start": "802480",
    "end": "804720"
  },
  {
    "text": "and the greater server is just going to",
    "start": "804720",
    "end": "806480"
  },
  {
    "text": "be sitting there listening on port 8080",
    "start": "806480",
    "end": "808240"
  },
  {
    "text": "over plain text because we haven't",
    "start": "808240",
    "end": "809360"
  },
  {
    "text": "changed it to take advantage of the",
    "start": "809360",
    "end": "810480"
  },
  {
    "text": "workload api yet",
    "start": "810480",
    "end": "812560"
  },
  {
    "text": "and on this side we will start up the",
    "start": "812560",
    "end": "816959"
  },
  {
    "text": "greater client",
    "start": "817680",
    "end": "819199"
  },
  {
    "text": "and this thing's going to connect to the",
    "start": "819199",
    "end": "820399"
  },
  {
    "text": "server it's going to issue a request and",
    "start": "820399",
    "end": "821760"
  },
  {
    "text": "say hey say hello to joe and the server",
    "start": "821760",
    "end": "824320"
  },
  {
    "text": "is going to respond with a message that",
    "start": "824320",
    "end": "825519"
  },
  {
    "text": "said hey someone wants me to say hello",
    "start": "825519",
    "end": "826800"
  },
  {
    "text": "to joe hello joe type of a thing right",
    "start": "826800",
    "end": "828800"
  },
  {
    "text": "but if you notice on each side like the",
    "start": "828800",
    "end": "830720"
  },
  {
    "text": "server doesn't know who the client is",
    "start": "830720",
    "end": "832480"
  },
  {
    "text": "that connected to it has no idea that",
    "start": "832480",
    "end": "834320"
  },
  {
    "text": "connected over you know this plain text",
    "start": "834320",
    "end": "836000"
  },
  {
    "text": "connection issued the request it doesn't",
    "start": "836000",
    "end": "838000"
  },
  {
    "text": "know the identity of the client likewise",
    "start": "838000",
    "end": "840240"
  },
  {
    "text": "the client doesn't really know who",
    "start": "840240",
    "end": "841519"
  },
  {
    "text": "satisfied the request right it just it's",
    "start": "841519",
    "end": "843920"
  },
  {
    "text": "some server okay so we're gonna fix that",
    "start": "843920",
    "end": "846160"
  },
  {
    "text": "up so that each side can not only",
    "start": "846160",
    "end": "848240"
  },
  {
    "text": "authenticate but but look at the",
    "start": "848240",
    "end": "849920"
  },
  {
    "text": "identity of the the calling party",
    "start": "849920",
    "end": "852880"
  },
  {
    "text": "okay",
    "start": "852880",
    "end": "855199"
  },
  {
    "text": "so let's make those code changes real",
    "start": "855279",
    "end": "857199"
  },
  {
    "text": "quick",
    "start": "857199",
    "end": "858880"
  },
  {
    "text": "and really the point of this is to",
    "start": "858880",
    "end": "860079"
  },
  {
    "text": "demonstrate how easy it is to wire up",
    "start": "860079",
    "end": "861920"
  },
  {
    "text": "the workload api into your into your",
    "start": "861920",
    "end": "863600"
  },
  {
    "text": "applications so",
    "start": "863600",
    "end": "865040"
  },
  {
    "text": "um we'll start with the server",
    "start": "865040",
    "end": "868399"
  },
  {
    "text": "all right here's the server code",
    "start": "868399",
    "end": "870800"
  },
  {
    "text": "very easy uh we have a little flag to to",
    "start": "870800",
    "end": "873600"
  },
  {
    "text": "configure our listening address we",
    "start": "873600",
    "end": "875360"
  },
  {
    "text": "create our listener bind or report right",
    "start": "875360",
    "end": "877839"
  },
  {
    "text": "then down here we're going to create our",
    "start": "877839",
    "end": "879120"
  },
  {
    "text": "grpc server and register our",
    "start": "879120",
    "end": "881199"
  },
  {
    "text": "implementation and then we're just going",
    "start": "881199",
    "end": "883120"
  },
  {
    "text": "to serve that grpc server",
    "start": "883120",
    "end": "885519"
  },
  {
    "text": "forever right",
    "start": "885519",
    "end": "887279"
  },
  {
    "text": "um our implementation",
    "start": "887279",
    "end": "889920"
  },
  {
    "text": "is very trivial",
    "start": "889920",
    "end": "891920"
  },
  {
    "text": "uh it essentially receives the request",
    "start": "891920",
    "end": "893760"
  },
  {
    "text": "does a little bit of logging and then",
    "start": "893760",
    "end": "895760"
  },
  {
    "text": "responds with a little message to say",
    "start": "895760",
    "end": "897519"
  },
  {
    "text": "hello to whoever it was asked to say",
    "start": "897519",
    "end": "898959"
  },
  {
    "text": "hello to",
    "start": "898959",
    "end": "900399"
  },
  {
    "text": "we've got a couple of placeholders",
    "start": "900399",
    "end": "902399"
  },
  {
    "text": "inside our our implementation we've got",
    "start": "902399",
    "end": "904160"
  },
  {
    "text": "a a to do up here to wire up the",
    "start": "904160",
    "end": "906800"
  },
  {
    "text": "workload api to get some some spiffy",
    "start": "906800",
    "end": "909440"
  },
  {
    "text": "credentials to power this grpc server",
    "start": "909440",
    "end": "912880"
  },
  {
    "text": "and then down here we've got a little",
    "start": "912880",
    "end": "914320"
  },
  {
    "text": "to-do uh to extract the identity of the",
    "start": "914320",
    "end": "916959"
  },
  {
    "text": "client from the request context so that",
    "start": "916959",
    "end": "918959"
  },
  {
    "text": "we can log it and send back the",
    "start": "918959",
    "end": "920639"
  },
  {
    "text": "appropriate message so we'll start here",
    "start": "920639",
    "end": "922480"
  },
  {
    "text": "with this first one",
    "start": "922480",
    "end": "925040"
  },
  {
    "text": "uh we're going to be using a library",
    "start": "925040",
    "end": "927600"
  },
  {
    "text": "that is provided in the spiffy org",
    "start": "927600",
    "end": "931199"
  },
  {
    "text": "it's a go spiffy library we've got a",
    "start": "932480",
    "end": "934240"
  },
  {
    "text": "version 2 that we've been working on for",
    "start": "934240",
    "end": "935839"
  },
  {
    "text": "quite some time",
    "start": "935839",
    "end": "937120"
  },
  {
    "text": "and that's what we're going to use to do",
    "start": "937120",
    "end": "938240"
  },
  {
    "text": "this work okay so the first thing we're",
    "start": "938240",
    "end": "940160"
  },
  {
    "text": "going to create is something called",
    "start": "940160",
    "end": "943360"
  },
  {
    "text": "an x509 source this is a source of x509",
    "start": "943360",
    "end": "946399"
  },
  {
    "text": "materials",
    "start": "946399",
    "end": "948000"
  },
  {
    "text": "that we're going to obtain from the",
    "start": "948000",
    "end": "949360"
  },
  {
    "text": "workload api so we'll create that source",
    "start": "949360",
    "end": "951680"
  },
  {
    "text": "here i'm going to",
    "start": "951680",
    "end": "952880"
  },
  {
    "text": "borrow some error handling from the",
    "start": "952880",
    "end": "955040"
  },
  {
    "text": "thing above and when we're done we",
    "start": "955040",
    "end": "956240"
  },
  {
    "text": "should close this source down",
    "start": "956240",
    "end": "959360"
  },
  {
    "text": "okay and so now we have a source for x59",
    "start": "960320",
    "end": "963279"
  },
  {
    "text": "materials this is both for the svid and",
    "start": "963279",
    "end": "965120"
  },
  {
    "text": "the bundles so the next step here is",
    "start": "965120",
    "end": "967040"
  },
  {
    "text": "we're going to create some grpc",
    "start": "967040",
    "end": "968240"
  },
  {
    "text": "credentials you notice that when we",
    "start": "968240",
    "end": "969360"
  },
  {
    "text": "created our grpc server we didn't",
    "start": "969360",
    "end": "971199"
  },
  {
    "text": "configure it with any credentials",
    "start": "971199",
    "end": "973120"
  },
  {
    "text": "so let's create those credentials now",
    "start": "973120",
    "end": "976240"
  },
  {
    "text": "and for this we're going to use a little",
    "start": "976240",
    "end": "977360"
  },
  {
    "text": "helper package",
    "start": "977360",
    "end": "980160"
  },
  {
    "text": "provided by the ghostbiffy library",
    "start": "980880",
    "end": "983759"
  },
  {
    "text": "to give us mtls server credentials",
    "start": "983759",
    "end": "987360"
  },
  {
    "text": "and we're going to give it the source",
    "start": "987360",
    "end": "989120"
  },
  {
    "text": "twice here and this is a very low level",
    "start": "989120",
    "end": "991519"
  },
  {
    "text": "and flexible library",
    "start": "991519",
    "end": "993199"
  },
  {
    "text": "the first",
    "start": "993199",
    "end": "994560"
  },
  {
    "text": "parameter here is the source of the svid",
    "start": "994560",
    "end": "996320"
  },
  {
    "text": "the second parameter is the source of",
    "start": "996320",
    "end": "997519"
  },
  {
    "text": "the bundles we're going from the same",
    "start": "997519",
    "end": "998959"
  },
  {
    "text": "source for both materials so we'll pass",
    "start": "998959",
    "end": "1000800"
  },
  {
    "text": "the same source twice",
    "start": "1000800",
    "end": "1002160"
  },
  {
    "text": "and then we're gonna the third parameter",
    "start": "1002160",
    "end": "1003839"
  },
  {
    "text": "here is a little authorization hook that",
    "start": "1003839",
    "end": "1005360"
  },
  {
    "text": "you can do for the server we're just",
    "start": "1005360",
    "end": "1006560"
  },
  {
    "text": "gonna authorize any id as long as it is",
    "start": "1006560",
    "end": "1009680"
  },
  {
    "text": "authenticated against a bundle that we",
    "start": "1009680",
    "end": "1011920"
  },
  {
    "text": "that is provided by the source we'll",
    "start": "1011920",
    "end": "1013680"
  },
  {
    "text": "allow the connection in",
    "start": "1013680",
    "end": "1016480"
  },
  {
    "text": "uh but you could imagine if you wanted",
    "start": "1016480",
    "end": "1017920"
  },
  {
    "text": "hook in your own custom authorization",
    "start": "1017920",
    "end": "1019759"
  },
  {
    "text": "libraries if you want to do rego and",
    "start": "1019759",
    "end": "1021519"
  },
  {
    "text": "opel or whatever or something else a",
    "start": "1021519",
    "end": "1023600"
  },
  {
    "text": "flat file like whatever you want to do",
    "start": "1023600",
    "end": "1025120"
  },
  {
    "text": "this is this is the parameter that you'd",
    "start": "1025120",
    "end": "1026480"
  },
  {
    "text": "pass in order to like influence the",
    "start": "1026480",
    "end": "1027839"
  },
  {
    "text": "authorization of the connections",
    "start": "1027839",
    "end": "1029760"
  },
  {
    "text": "so now that we've got our credentials we",
    "start": "1029760",
    "end": "1031199"
  },
  {
    "text": "can come down here to the grpc server",
    "start": "1031199",
    "end": "1035120"
  },
  {
    "text": "type things right",
    "start": "1037679",
    "end": "1039600"
  },
  {
    "text": "pass the creds into the server",
    "start": "1039600",
    "end": "1041678"
  },
  {
    "text": "okay and that's it that's all we need to",
    "start": "1041679",
    "end": "1043760"
  },
  {
    "text": "do to to",
    "start": "1043760",
    "end": "1045280"
  },
  {
    "text": "provide spiffy credentials to our grpc",
    "start": "1045280",
    "end": "1047678"
  },
  {
    "text": "server",
    "start": "1047679",
    "end": "1048960"
  },
  {
    "text": "down here to obtain the client",
    "start": "1048960",
    "end": "1051760"
  },
  {
    "text": "we are going to again use that grpc",
    "start": "1051760",
    "end": "1053760"
  },
  {
    "text": "credentials package",
    "start": "1053760",
    "end": "1055600"
  },
  {
    "text": "as a convenient little helper",
    "start": "1055600",
    "end": "1059200"
  },
  {
    "text": "we're in we can give it the context of",
    "start": "1061840",
    "end": "1064000"
  },
  {
    "text": "the request",
    "start": "1064000",
    "end": "1066240"
  },
  {
    "text": "and it will extract the peer id",
    "start": "1066240",
    "end": "1068880"
  },
  {
    "text": "from that context and if we're able to",
    "start": "1068880",
    "end": "1070960"
  },
  {
    "text": "successfully do that we'll overwrite the",
    "start": "1070960",
    "end": "1072640"
  },
  {
    "text": "value of this client id",
    "start": "1072640",
    "end": "1075200"
  },
  {
    "text": "variable with the identity of the peer",
    "start": "1075200",
    "end": "1078480"
  },
  {
    "text": "let's make sure that builds",
    "start": "1078480",
    "end": "1081840"
  },
  {
    "text": "no it did not",
    "start": "1082000",
    "end": "1084240"
  },
  {
    "text": "[Applause]",
    "start": "1084240",
    "end": "1087440"
  },
  {
    "text": "miss the c there we go now it should",
    "start": "1088559",
    "end": "1090640"
  },
  {
    "text": "build",
    "start": "1090640",
    "end": "1092880"
  },
  {
    "text": "okay so server's done",
    "start": "1093200",
    "end": "1095679"
  },
  {
    "text": "let's go to the client",
    "start": "1095679",
    "end": "1098880"
  },
  {
    "text": "client again very basic you can",
    "start": "1100640",
    "end": "1102640"
  },
  {
    "text": "configure the address through a flag",
    "start": "1102640",
    "end": "1104880"
  },
  {
    "text": "it dials the server",
    "start": "1104880",
    "end": "1106720"
  },
  {
    "text": "creates a little client over the grpc",
    "start": "1106720",
    "end": "1108799"
  },
  {
    "text": "connection",
    "start": "1108799",
    "end": "1109840"
  },
  {
    "text": "and then sits here in the loops and",
    "start": "1109840",
    "end": "1111520"
  },
  {
    "text": "every 10 seconds just issues in a",
    "start": "1111520",
    "end": "1112880"
  },
  {
    "text": "request to the server",
    "start": "1112880",
    "end": "1114880"
  },
  {
    "text": "and then down here to issue the request",
    "start": "1114880",
    "end": "1117679"
  },
  {
    "text": "it just invokes this rpc on the client",
    "start": "1117679",
    "end": "1120720"
  },
  {
    "text": "and then",
    "start": "1120720",
    "end": "1122400"
  },
  {
    "text": "logs out the response",
    "start": "1122400",
    "end": "1124160"
  },
  {
    "text": "we have the same set of to-do's inside",
    "start": "1124160",
    "end": "1126160"
  },
  {
    "text": "the client that we did on the server",
    "start": "1126160",
    "end": "1128400"
  },
  {
    "text": "instead of here to wire up the workload",
    "start": "1128400",
    "end": "1130160"
  },
  {
    "text": "api",
    "start": "1130160",
    "end": "1131840"
  },
  {
    "text": "and a to-do down here in the",
    "start": "1131840",
    "end": "1133679"
  },
  {
    "text": "implementation",
    "start": "1133679",
    "end": "1135120"
  },
  {
    "text": "of the rpc or on the response of the rpc",
    "start": "1135120",
    "end": "1137600"
  },
  {
    "text": "to extract somehow the the id of the",
    "start": "1137600",
    "end": "1139600"
  },
  {
    "text": "server",
    "start": "1139600",
    "end": "1140799"
  },
  {
    "text": "so just like in the server we'll start",
    "start": "1140799",
    "end": "1142640"
  },
  {
    "text": "here",
    "start": "1142640",
    "end": "1143760"
  },
  {
    "text": "at the top to wire up the workload api",
    "start": "1143760",
    "end": "1146080"
  },
  {
    "text": "we're going to do the exact same thing",
    "start": "1146080",
    "end": "1147760"
  },
  {
    "text": "here",
    "start": "1147760",
    "end": "1148880"
  },
  {
    "text": "that we did on the server",
    "start": "1148880",
    "end": "1151360"
  },
  {
    "text": "create a next 509 source",
    "start": "1151360",
    "end": "1154880"
  },
  {
    "text": "oh",
    "start": "1155760",
    "end": "1158000"
  },
  {
    "text": "borrow some error handling there",
    "start": "1160559",
    "end": "1165240"
  },
  {
    "text": "and this time when we create our",
    "start": "1165280",
    "end": "1166559"
  },
  {
    "text": "credentials we are going to use",
    "start": "1166559",
    "end": "1170480"
  },
  {
    "text": "the mts client credentials",
    "start": "1170480",
    "end": "1173919"
  },
  {
    "text": "and we're going to give it the same",
    "start": "1173919",
    "end": "1175440"
  },
  {
    "text": "source for svid and bundle",
    "start": "1175440",
    "end": "1177360"
  },
  {
    "text": "and this time we'll do something cute",
    "start": "1177360",
    "end": "1180000"
  },
  {
    "text": "we're going to authorize a specific id",
    "start": "1180000",
    "end": "1182880"
  },
  {
    "text": "we if it doesn't have this id we're",
    "start": "1182880",
    "end": "1185039"
  },
  {
    "text": "going to reject the the the connection",
    "start": "1185039",
    "end": "1188080"
  },
  {
    "text": "and the id we're going to give it",
    "start": "1188080",
    "end": "1192200"
  },
  {
    "text": "here's the spiffy id of the greater",
    "start": "1195760",
    "end": "1197760"
  },
  {
    "text": "server and the",
    "start": "1197760",
    "end": "1199360"
  },
  {
    "text": "cluster one trust domain",
    "start": "1199360",
    "end": "1203160"
  },
  {
    "text": "let's hope i didn't typo any of this",
    "start": "1208080",
    "end": "1209440"
  },
  {
    "text": "otherwise this",
    "start": "1209440",
    "end": "1210720"
  },
  {
    "text": "is going to crash and burn",
    "start": "1210720",
    "end": "1213360"
  },
  {
    "text": "all right so that's our first to do",
    "start": "1213360",
    "end": "1215120"
  },
  {
    "text": "we've wired oh no we're not done yet",
    "start": "1215120",
    "end": "1218799"
  },
  {
    "text": "again we're not providing any transport",
    "start": "1218799",
    "end": "1220240"
  },
  {
    "text": "credentials to this dialing operation so",
    "start": "1220240",
    "end": "1222240"
  },
  {
    "text": "let's fix that",
    "start": "1222240",
    "end": "1224960"
  },
  {
    "text": "okay that should be it for our first to",
    "start": "1229679",
    "end": "1232480"
  },
  {
    "text": "do",
    "start": "1232480",
    "end": "1233600"
  },
  {
    "text": "all right we're wired up to the workload",
    "start": "1233600",
    "end": "1235440"
  },
  {
    "text": "api",
    "start": "1235440",
    "end": "1236559"
  },
  {
    "text": "to get our client creds and the bundle",
    "start": "1236559",
    "end": "1238240"
  },
  {
    "text": "we need to verify the server",
    "start": "1238240",
    "end": "1240799"
  },
  {
    "text": "and then down here we're going to do the",
    "start": "1240799",
    "end": "1242240"
  },
  {
    "text": "same sort of thing",
    "start": "1242240",
    "end": "1246039"
  },
  {
    "text": "now this time we don't have a request",
    "start": "1248159",
    "end": "1250320"
  },
  {
    "text": "context so we need to get",
    "start": "1250320",
    "end": "1252400"
  },
  {
    "text": "our identity from appear object and that",
    "start": "1252400",
    "end": "1255440"
  },
  {
    "text": "i went a little backwards here",
    "start": "1255440",
    "end": "1258799"
  },
  {
    "text": "where does this pure object come from",
    "start": "1260480",
    "end": "1262240"
  },
  {
    "text": "well to do that we need to",
    "start": "1262240",
    "end": "1264480"
  },
  {
    "text": "pass something into the rpc call",
    "start": "1264480",
    "end": "1268640"
  },
  {
    "text": "and grpc",
    "start": "1269840",
    "end": "1272559"
  },
  {
    "text": "will",
    "start": "1272559",
    "end": "1274159"
  },
  {
    "text": "helpfully",
    "start": "1274159",
    "end": "1275200"
  },
  {
    "text": "populate this peer structure with",
    "start": "1275200",
    "end": "1278400"
  },
  {
    "text": "the uh peer information",
    "start": "1278400",
    "end": "1280480"
  },
  {
    "text": "that for the server that fulfilled this",
    "start": "1280480",
    "end": "1282159"
  },
  {
    "text": "request",
    "start": "1282159",
    "end": "1283679"
  },
  {
    "text": "so down here we'll extract that peer id",
    "start": "1283679",
    "end": "1285760"
  },
  {
    "text": "out and if we're able to we'll go ahead",
    "start": "1285760",
    "end": "1287440"
  },
  {
    "text": "and overwrite server id with the",
    "start": "1287440",
    "end": "1288799"
  },
  {
    "text": "identity of of the server",
    "start": "1288799",
    "end": "1292559"
  },
  {
    "text": "all right we built",
    "start": "1294640",
    "end": "1297200"
  },
  {
    "text": "okay so let's go ahead and",
    "start": "1297200",
    "end": "1300159"
  },
  {
    "text": "just make file it's going to build the",
    "start": "1300159",
    "end": "1301200"
  },
  {
    "text": "docker container it's going to push the",
    "start": "1301200",
    "end": "1302720"
  },
  {
    "text": "server into the cluster into the cluster",
    "start": "1302720",
    "end": "1304799"
  },
  {
    "text": "1 cluster and the client into the",
    "start": "1304799",
    "end": "1306480"
  },
  {
    "text": "cluster 2 cluster",
    "start": "1306480",
    "end": "1308080"
  },
  {
    "text": "which i have running hopefully in a",
    "start": "1308080",
    "end": "1309919"
  },
  {
    "text": "pristine state",
    "start": "1309919",
    "end": "1312720"
  },
  {
    "text": "let's make sure this finishes",
    "start": "1314480",
    "end": "1317039"
  },
  {
    "text": "great so",
    "start": "1317039",
    "end": "1318960"
  },
  {
    "text": "i've got a tmx window here for cluster",
    "start": "1318960",
    "end": "1320640"
  },
  {
    "text": "one i've got a similar window for",
    "start": "1320640",
    "end": "1321919"
  },
  {
    "text": "cluster two",
    "start": "1321919",
    "end": "1323200"
  },
  {
    "text": "let's go ahead and",
    "start": "1323200",
    "end": "1324960"
  },
  {
    "text": "deploy",
    "start": "1324960",
    "end": "1326080"
  },
  {
    "text": "all of that spire infrastructure",
    "start": "1326080",
    "end": "1329840"
  },
  {
    "text": "uh including spire server spire agent",
    "start": "1331120",
    "end": "1333039"
  },
  {
    "text": "the controller etc",
    "start": "1333039",
    "end": "1336559"
  },
  {
    "text": "okay that's all deployed let's do the",
    "start": "1339600",
    "end": "1341440"
  },
  {
    "text": "same thing in cluster two",
    "start": "1341440",
    "end": "1345639"
  },
  {
    "text": "all right",
    "start": "1351440",
    "end": "1352799"
  },
  {
    "text": "and like we talked about",
    "start": "1352799",
    "end": "1354559"
  },
  {
    "text": "next we're going to federate these two",
    "start": "1354559",
    "end": "1356080"
  },
  {
    "text": "trust domains and to do that we have",
    "start": "1356080",
    "end": "1357679"
  },
  {
    "text": "that cluster federated trust domain crd",
    "start": "1357679",
    "end": "1361360"
  },
  {
    "text": "real quick",
    "start": "1361360",
    "end": "1363919"
  },
  {
    "text": "if you look at the services",
    "start": "1369360",
    "end": "1371520"
  },
  {
    "text": "provided in this first cluster we can",
    "start": "1371520",
    "end": "1373600"
  },
  {
    "text": "see the spire server bundle endpoint",
    "start": "1373600",
    "end": "1375280"
  },
  {
    "text": "service and this thing is has an",
    "start": "1375280",
    "end": "1377679"
  },
  {
    "text": "external ip this is what we're going to",
    "start": "1377679",
    "end": "1379679"
  },
  {
    "text": "use for the second cluster to talk to",
    "start": "1379679",
    "end": "1381760"
  },
  {
    "text": "the bundle endpoint in the first cluster",
    "start": "1381760",
    "end": "1385200"
  },
  {
    "text": "creating the crd by hand is a pain so i",
    "start": "1385200",
    "end": "1386960"
  },
  {
    "text": "got a little script here",
    "start": "1386960",
    "end": "1389840"
  },
  {
    "text": "that will create it for me and if we",
    "start": "1390240",
    "end": "1391840"
  },
  {
    "text": "scroll up",
    "start": "1391840",
    "end": "1394400"
  },
  {
    "text": "there we go we've got a cluster",
    "start": "1397679",
    "end": "1398880"
  },
  {
    "text": "federated trust main crd it's got the",
    "start": "1398880",
    "end": "1400960"
  },
  {
    "text": "trust domain that we're going to be",
    "start": "1400960",
    "end": "1403039"
  },
  {
    "text": "sorry we're going to be federating with",
    "start": "1403039",
    "end": "1404960"
  },
  {
    "text": "it's got the bundle endpoint url",
    "start": "1404960",
    "end": "1407200"
  },
  {
    "text": "uh it's got the profile information so",
    "start": "1407200",
    "end": "1409039"
  },
  {
    "text": "how do i authenticate to this thing to",
    "start": "1409039",
    "end": "1410559"
  },
  {
    "text": "pull down the bundle um this is the crd",
    "start": "1410559",
    "end": "1413760"
  },
  {
    "text": "that for cluster one that we need to",
    "start": "1413760",
    "end": "1415600"
  },
  {
    "text": "apply into cluster two so i'm gonna go",
    "start": "1415600",
    "end": "1417679"
  },
  {
    "text": "ahead",
    "start": "1417679",
    "end": "1418799"
  },
  {
    "text": "and just",
    "start": "1418799",
    "end": "1421279"
  },
  {
    "text": "put that in my clipboard we're gonna",
    "start": "1421279",
    "end": "1422960"
  },
  {
    "text": "jump over to cluster two here",
    "start": "1422960",
    "end": "1427158"
  },
  {
    "text": "and apply that thing",
    "start": "1430559",
    "end": "1433520"
  },
  {
    "text": "and now we're going to do the same thing",
    "start": "1434480",
    "end": "1435760"
  },
  {
    "text": "for uh",
    "start": "1435760",
    "end": "1437679"
  },
  {
    "text": "cluster 2",
    "start": "1437679",
    "end": "1440399"
  },
  {
    "text": "copy the cluster 2 crd",
    "start": "1441679",
    "end": "1444799"
  },
  {
    "text": "and apply that inside cluster 1.",
    "start": "1444799",
    "end": "1449639"
  },
  {
    "text": "just to see what we got here",
    "start": "1459039",
    "end": "1460960"
  },
  {
    "text": "oh",
    "start": "1460960",
    "end": "1462720"
  },
  {
    "text": "sorry wrong wrong crd",
    "start": "1462720",
    "end": "1466240"
  },
  {
    "text": "we've got this the crd that's programmed",
    "start": "1468640",
    "end": "1470480"
  },
  {
    "text": "with the right endpoint url and has the",
    "start": "1470480",
    "end": "1471760"
  },
  {
    "text": "profile information it needs to connect",
    "start": "1471760",
    "end": "1473200"
  },
  {
    "text": "to it",
    "start": "1473200",
    "end": "1474880"
  },
  {
    "text": "okay perfect all right so",
    "start": "1474880",
    "end": "1477520"
  },
  {
    "text": "now we should have",
    "start": "1477520",
    "end": "1479039"
  },
  {
    "text": "um if we if we if we peek into the spire",
    "start": "1479039",
    "end": "1482400"
  },
  {
    "text": "infrastructure here a little bit",
    "start": "1482400",
    "end": "1484960"
  },
  {
    "text": "um inside cluster one we're gonna we're",
    "start": "1484960",
    "end": "1486960"
  },
  {
    "text": "gonna peek into the spire server and say",
    "start": "1486960",
    "end": "1488480"
  },
  {
    "text": "hey give me all the federated bundles",
    "start": "1488480",
    "end": "1489840"
  },
  {
    "text": "you have",
    "start": "1489840",
    "end": "1491520"
  },
  {
    "text": "and we can see that it has indeed the",
    "start": "1491520",
    "end": "1493440"
  },
  {
    "text": "bundle for",
    "start": "1493440",
    "end": "1495120"
  },
  {
    "text": "cluster two",
    "start": "1495120",
    "end": "1497120"
  },
  {
    "text": "okay and we can do the same thing in",
    "start": "1497120",
    "end": "1498799"
  },
  {
    "text": "cluster two if we want to show that it",
    "start": "1498799",
    "end": "1500080"
  },
  {
    "text": "has the the bundle for cluster one",
    "start": "1500080",
    "end": "1502640"
  },
  {
    "text": "okay so now now that these things are",
    "start": "1502640",
    "end": "1504559"
  },
  {
    "text": "federated let's go ahead and deploy that",
    "start": "1504559",
    "end": "1507120"
  },
  {
    "text": "greeter workload uh server and client",
    "start": "1507120",
    "end": "1510240"
  },
  {
    "text": "into each trust domain",
    "start": "1510240",
    "end": "1514039"
  },
  {
    "text": "so",
    "start": "1514480",
    "end": "1516720"
  },
  {
    "text": "in cluster one we'll deploy the greater",
    "start": "1518320",
    "end": "1519840"
  },
  {
    "text": "server",
    "start": "1519840",
    "end": "1521360"
  },
  {
    "text": "that should be getting up and running",
    "start": "1521360",
    "end": "1522720"
  },
  {
    "text": "and now we will do",
    "start": "1522720",
    "end": "1523660"
  },
  {
    "text": "[Music]",
    "start": "1523660",
    "end": "1525200"
  },
  {
    "text": "the same",
    "start": "1525200",
    "end": "1528440"
  },
  {
    "text": "for the greater client",
    "start": "1529440",
    "end": "1531840"
  },
  {
    "text": "and now we wanted using the cluster",
    "start": "1531840",
    "end": "1533760"
  },
  {
    "text": "spiffy id crd describe the identity for",
    "start": "1533760",
    "end": "1536960"
  },
  {
    "text": "these two different workloads so in",
    "start": "1536960",
    "end": "1539360"
  },
  {
    "text": "cluster one",
    "start": "1539360",
    "end": "1541679"
  },
  {
    "text": "i've got a little crd prepared here for",
    "start": "1541679",
    "end": "1544480"
  },
  {
    "text": "the greeter server",
    "start": "1544480",
    "end": "1546000"
  },
  {
    "text": "uh you can see here the spiffy id",
    "start": "1546000",
    "end": "1547520"
  },
  {
    "text": "template now i don't have any like",
    "start": "1547520",
    "end": "1548720"
  },
  {
    "text": "template parameters on this we're just",
    "start": "1548720",
    "end": "1550240"
  },
  {
    "text": "doing a fixed id but there's a lot that",
    "start": "1550240",
    "end": "1551760"
  },
  {
    "text": "you can like fold into this template to",
    "start": "1551760",
    "end": "1553679"
  },
  {
    "text": "take properties from the pot or the node",
    "start": "1553679",
    "end": "1555200"
  },
  {
    "text": "or whatever and",
    "start": "1555200",
    "end": "1556400"
  },
  {
    "text": "reflect that in the id",
    "start": "1556400",
    "end": "1558320"
  },
  {
    "text": "we also have a pod selector because",
    "start": "1558320",
    "end": "1559840"
  },
  {
    "text": "we're going to sharp shoot the greater",
    "start": "1559840",
    "end": "1561279"
  },
  {
    "text": "server running in this cluster as the",
    "start": "1561279",
    "end": "1562960"
  },
  {
    "text": "one to whom this identity belongs to and",
    "start": "1562960",
    "end": "1565120"
  },
  {
    "text": "then we've got a little federates with",
    "start": "1565120",
    "end": "1566480"
  },
  {
    "text": "clause here and this",
    "start": "1566480",
    "end": "1568080"
  },
  {
    "text": "this",
    "start": "1568080",
    "end": "1569039"
  },
  {
    "text": "tells spire to allow this workload to",
    "start": "1569039",
    "end": "1572240"
  },
  {
    "text": "obtain the cluster 2.demo",
    "start": "1572240",
    "end": "1574559"
  },
  {
    "text": "trust bundle over the workload api",
    "start": "1574559",
    "end": "1577840"
  },
  {
    "text": "all right so let's apply that",
    "start": "1577840",
    "end": "1582039"
  },
  {
    "text": "and we'll go to cluster 2",
    "start": "1585360",
    "end": "1589279"
  },
  {
    "text": "and apply the same sort of thing for the",
    "start": "1589279",
    "end": "1591600"
  },
  {
    "text": "greater client i can show you that",
    "start": "1591600",
    "end": "1594080"
  },
  {
    "text": "it's very similar got this fixed id",
    "start": "1594080",
    "end": "1596480"
  },
  {
    "text": "we're matching on the greater client pod",
    "start": "1596480",
    "end": "1598960"
  },
  {
    "text": "and it confederate with cluster one",
    "start": "1598960",
    "end": "1601600"
  },
  {
    "text": "all right so now",
    "start": "1601600",
    "end": "1603200"
  },
  {
    "text": "we can look at the logs before we",
    "start": "1603200",
    "end": "1604400"
  },
  {
    "text": "probably should have for this workload",
    "start": "1604400",
    "end": "1605919"
  },
  {
    "text": "but if we look at the logs now for these",
    "start": "1605919",
    "end": "1607360"
  },
  {
    "text": "workloads they should be talking to each",
    "start": "1607360",
    "end": "1609279"
  },
  {
    "text": "other that client should be sitting in",
    "start": "1609279",
    "end": "1610559"
  },
  {
    "text": "that loop every 10 seconds",
    "start": "1610559",
    "end": "1612640"
  },
  {
    "text": "talking to the server so let's",
    "start": "1612640",
    "end": "1615679"
  },
  {
    "text": "dump the logs from that",
    "start": "1615679",
    "end": "1618880"
  },
  {
    "text": "greeter client",
    "start": "1618880",
    "end": "1621760"
  },
  {
    "text": "oh",
    "start": "1623120",
    "end": "1626120"
  },
  {
    "text": "logs uh",
    "start": "1627039",
    "end": "1629520"
  },
  {
    "text": "and there we go this is much better",
    "start": "1629520",
    "end": "1631039"
  },
  {
    "text": "experience no more some server or some",
    "start": "1631039",
    "end": "1632720"
  },
  {
    "text": "client we have the identity",
    "start": "1632720",
    "end": "1635200"
  },
  {
    "text": "of",
    "start": "1635200",
    "end": "1636400"
  },
  {
    "text": "uh",
    "start": "1636400",
    "end": "1637600"
  },
  {
    "text": "the server",
    "start": "1637600",
    "end": "1638799"
  },
  {
    "text": "right here right the greeter server",
    "start": "1638799",
    "end": "1642559"
  },
  {
    "text": "that the client was able to obtain over",
    "start": "1643360",
    "end": "1645279"
  },
  {
    "text": "that mtls connection",
    "start": "1645279",
    "end": "1647360"
  },
  {
    "text": "and the server was able to pull out the",
    "start": "1647360",
    "end": "1649440"
  },
  {
    "text": "client id",
    "start": "1649440",
    "end": "1650720"
  },
  {
    "text": "from from its request",
    "start": "1650720",
    "end": "1652799"
  },
  {
    "text": "and reflect that in the message that are",
    "start": "1652799",
    "end": "1654399"
  },
  {
    "text": "returned to the server and so",
    "start": "1654399",
    "end": "1656159"
  },
  {
    "text": "this is uh there's a lot going on",
    "start": "1656159",
    "end": "1657840"
  },
  {
    "text": "underneath the covers but this is it",
    "start": "1657840",
    "end": "1658960"
  },
  {
    "text": "this is cross-cluster authentication uh",
    "start": "1658960",
    "end": "1661279"
  },
  {
    "text": "using spiffy inspire inside kubernetes",
    "start": "1661279",
    "end": "1663840"
  },
  {
    "text": "um there's a lot of details we can dig",
    "start": "1663840",
    "end": "1665600"
  },
  {
    "text": "into we don't have time in the",
    "start": "1665600",
    "end": "1666559"
  },
  {
    "text": "presentation but i will be posting up",
    "start": "1666559",
    "end": "1670480"
  },
  {
    "text": "this demo online so folks can run",
    "start": "1670480",
    "end": "1672320"
  },
  {
    "text": "through it themselves if they want at a",
    "start": "1672320",
    "end": "1673679"
  },
  {
    "text": "later point",
    "start": "1673679",
    "end": "1675520"
  },
  {
    "text": "so",
    "start": "1675520",
    "end": "1677760"
  },
  {
    "text": "back here",
    "start": "1678640",
    "end": "1682039"
  },
  {
    "text": "what do we do today",
    "start": "1682720",
    "end": "1684240"
  },
  {
    "text": "well we used crds to program our",
    "start": "1684240",
    "end": "1687120"
  },
  {
    "text": "kubernetes clusters",
    "start": "1687120",
    "end": "1689039"
  },
  {
    "text": "with the workload identity that we",
    "start": "1689039",
    "end": "1690880"
  },
  {
    "text": "wanted we also declared our federation",
    "start": "1690880",
    "end": "1693039"
  },
  {
    "text": "relationships",
    "start": "1693039",
    "end": "1694320"
  },
  {
    "text": "and using those we were able to get two",
    "start": "1694320",
    "end": "1696240"
  },
  {
    "text": "clusters to perform federation with each",
    "start": "1696240",
    "end": "1698240"
  },
  {
    "text": "other and exchange spiffy bundles so",
    "start": "1698240",
    "end": "1700080"
  },
  {
    "text": "that we could authenticate s vids from",
    "start": "1700080",
    "end": "1702240"
  },
  {
    "text": "from each of the trust domains",
    "start": "1702240",
    "end": "1704559"
  },
  {
    "text": "and then we using the workload identity",
    "start": "1704559",
    "end": "1707120"
  },
  {
    "text": "crd we're able to",
    "start": "1707120",
    "end": "1708799"
  },
  {
    "text": "configure spires so that workloads could",
    "start": "1708799",
    "end": "1710399"
  },
  {
    "text": "connect to the workload api and obtain",
    "start": "1710399",
    "end": "1712240"
  },
  {
    "text": "their credentials",
    "start": "1712240",
    "end": "1713520"
  },
  {
    "text": "and then do mutual tls between each",
    "start": "1713520",
    "end": "1715360"
  },
  {
    "text": "other",
    "start": "1715360",
    "end": "1717120"
  },
  {
    "text": "and get that strong authentication layer",
    "start": "1717120",
    "end": "1719050"
  },
  {
    "text": "[Applause]",
    "start": "1719050",
    "end": "1721840"
  },
  {
    "text": "if you'd like to learn more",
    "start": "1721840",
    "end": "1724320"
  },
  {
    "text": "there's a website at the top",
    "start": "1724320",
    "end": "1726080"
  },
  {
    "text": "there's a couple of our github",
    "start": "1726080",
    "end": "1727120"
  },
  {
    "text": "repositories there's more than this this",
    "start": "1727120",
    "end": "1729200"
  },
  {
    "text": "specific controller itself has its own",
    "start": "1729200",
    "end": "1730640"
  },
  {
    "text": "repository i'll make sure that gets",
    "start": "1730640",
    "end": "1732240"
  },
  {
    "text": "published here in the next week or so",
    "start": "1732240",
    "end": "1733919"
  },
  {
    "text": "and then last but not least we've got",
    "start": "1733919",
    "end": "1735520"
  },
  {
    "text": "our spiffy slack and this is a place",
    "start": "1735520",
    "end": "1737840"
  },
  {
    "text": "where not only maintainers on the",
    "start": "1737840",
    "end": "1739279"
  },
  {
    "text": "projects but users of the projects and",
    "start": "1739279",
    "end": "1740880"
  },
  {
    "text": "other interesting parties are we're",
    "start": "1740880",
    "end": "1742399"
  },
  {
    "text": "there every day it's it's a very active",
    "start": "1742399",
    "end": "1744320"
  },
  {
    "text": "um",
    "start": "1744320",
    "end": "1745200"
  },
  {
    "text": "spiffy it's a very active",
    "start": "1745200",
    "end": "1747120"
  },
  {
    "text": "slack",
    "start": "1747120",
    "end": "1748320"
  },
  {
    "text": "you can come there to get help or just",
    "start": "1748320",
    "end": "1750159"
  },
  {
    "text": "shoot the breeze or to like you know",
    "start": "1750159",
    "end": "1751520"
  },
  {
    "text": "figure out where spiffy and spark can",
    "start": "1751520",
    "end": "1752799"
  },
  {
    "text": "maybe help in your deployments",
    "start": "1752799",
    "end": "1754880"
  },
  {
    "text": "um",
    "start": "1754880",
    "end": "1756159"
  },
  {
    "text": "and that's it",
    "start": "1756159",
    "end": "1757440"
  },
  {
    "text": "do we have",
    "start": "1757440",
    "end": "1758960"
  },
  {
    "text": "[Applause]",
    "start": "1758960",
    "end": "1762710"
  }
]