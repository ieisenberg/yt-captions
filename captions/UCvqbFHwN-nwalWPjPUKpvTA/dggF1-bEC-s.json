[
  {
    "text": "good evening everyone my name is Sunil",
    "start": "5279",
    "end": "7680"
  },
  {
    "text": "Govinda so I'm a unicorn PMC member I",
    "start": "7680",
    "end": "11460"
  },
  {
    "text": "also lead the data engineering and",
    "start": "11460",
    "end": "12900"
  },
  {
    "text": "scheduling team at Cloudera my",
    "start": "12900",
    "end": "15360"
  },
  {
    "text": "co-speaker Craig who could not join with",
    "start": "15360",
    "end": "17699"
  },
  {
    "text": "us today here he's also a PMC member at",
    "start": "17699",
    "end": "19980"
  },
  {
    "text": "unicorn project and he is a lead",
    "start": "19980",
    "end": "21420"
  },
  {
    "text": "developer for unicorn at Laura",
    "start": "21420",
    "end": "24119"
  },
  {
    "text": "in today's session we'll be talking",
    "start": "24119",
    "end": "26220"
  },
  {
    "text": "about SLA aware bash scheduling in",
    "start": "26220",
    "end": "29220"
  },
  {
    "text": "unicorn with multi-term preemption",
    "start": "29220",
    "end": "33559"
  },
  {
    "text": "here's a brief agenda",
    "start": "35100",
    "end": "38420"
  },
  {
    "text": "so let us look at some of the core",
    "start": "40379",
    "end": "42600"
  },
  {
    "text": "abilities of unicorns karura unicorn can",
    "start": "42600",
    "end": "45719"
  },
  {
    "text": "schedule both batch workloads and long",
    "start": "45719",
    "end": "48539"
  },
  {
    "text": "running services in both plugin mode and",
    "start": "48539",
    "end": "52020"
  },
  {
    "text": "as a standalone's scheduler unicorn is",
    "start": "52020",
    "end": "54960"
  },
  {
    "text": "also capable of make taking faster",
    "start": "54960",
    "end": "57780"
  },
  {
    "text": "scheduling decisions in case of batch",
    "start": "57780",
    "end": "59820"
  },
  {
    "text": "workloads where the resource demand",
    "start": "59820",
    "end": "61620"
  },
  {
    "text": "demand is very huge",
    "start": "61620",
    "end": "65000"
  },
  {
    "text": "and it supports hierarchical quotas",
    "start": "65240",
    "end": "68580"
  },
  {
    "text": "based on the business requirements",
    "start": "68580",
    "end": "72060"
  },
  {
    "text": "unicorn can also be deployed both on",
    "start": "72060",
    "end": "74460"
  },
  {
    "text": "Prem and on cloud as well",
    "start": "74460",
    "end": "76920"
  },
  {
    "text": "and one of the core differential",
    "start": "76920",
    "end": "80100"
  },
  {
    "text": "differentiator feature of unicorn is",
    "start": "80100",
    "end": "82140"
  },
  {
    "text": "workload queuing",
    "start": "82140",
    "end": "83640"
  },
  {
    "text": "as you can see there can be many queues",
    "start": "83640",
    "end": "86700"
  },
  {
    "text": "and resource request can be placed into",
    "start": "86700",
    "end": "89400"
  },
  {
    "text": "any one of these queues based on the use",
    "start": "89400",
    "end": "91799"
  },
  {
    "text": "case",
    "start": "91799",
    "end": "92759"
  },
  {
    "text": "unicorn effectively schedules these",
    "start": "92759",
    "end": "95159"
  },
  {
    "text": "resource requests based on the resource",
    "start": "95159",
    "end": "98159"
  },
  {
    "text": "availability",
    "start": "98159",
    "end": "99119"
  },
  {
    "text": "and also based on the scheduling",
    "start": "99119",
    "end": "100979"
  },
  {
    "text": "policies such as fairness fifo or the",
    "start": "100979",
    "end": "104700"
  },
  {
    "text": "gang screwing itself",
    "start": "104700",
    "end": "106200"
  },
  {
    "text": "and unicorn also adhere to the quota",
    "start": "106200",
    "end": "108960"
  },
  {
    "text": "limit set forth on each of the queues",
    "start": "108960",
    "end": "111740"
  },
  {
    "text": "and then these ports will get scheduled",
    "start": "111740",
    "end": "114119"
  },
  {
    "text": "across various nodes in the cluster",
    "start": "114119",
    "end": "116399"
  },
  {
    "text": "and this is an open source project from",
    "start": "116399",
    "end": "118259"
  },
  {
    "text": "2020 onwards and it's a popular project",
    "start": "118259",
    "end": "120659"
  },
  {
    "text": "Apache and so we are at 1.2.0 version of",
    "start": "120659",
    "end": "125040"
  },
  {
    "text": "unicorn at this point of time",
    "start": "125040",
    "end": "128060"
  },
  {
    "text": "now let us look at about the batch",
    "start": "128520",
    "end": "131660"
  },
  {
    "text": "workload itself",
    "start": "131660",
    "end": "133739"
  },
  {
    "text": "so preemption is a mission critical",
    "start": "133739",
    "end": "136560"
  },
  {
    "text": "feature for most of the batch workloads",
    "start": "136560",
    "end": "138959"
  },
  {
    "text": "and we'll try to Deep dive into y right",
    "start": "138959",
    "end": "142080"
  },
  {
    "text": "so if we consider static queues where",
    "start": "142080",
    "end": "145260"
  },
  {
    "text": "both guaranteed and the resource the max",
    "start": "145260",
    "end": "148260"
  },
  {
    "text": "limits are same and this will definitely",
    "start": "148260",
    "end": "150900"
  },
  {
    "text": "help to guarantee that in a multi-tenant",
    "start": "150900",
    "end": "153060"
  },
  {
    "text": "cluster deployment the resources are",
    "start": "153060",
    "end": "155280"
  },
  {
    "text": "scheduled within the quota boundaries",
    "start": "155280",
    "end": "157620"
  },
  {
    "text": "however there is a caveat this will",
    "start": "157620",
    "end": "160560"
  },
  {
    "text": "cause under utilization in most of the",
    "start": "160560",
    "end": "162660"
  },
  {
    "text": "queues because most of the time the",
    "start": "162660",
    "end": "165300"
  },
  {
    "text": "entire Q capacity won't be used",
    "start": "165300",
    "end": "168319"
  },
  {
    "text": "when you're running the jobs for a",
    "start": "168319",
    "end": "170819"
  },
  {
    "text": "longer time such issues can be resolved",
    "start": "170819",
    "end": "173760"
  },
  {
    "text": "by making the Q elastic",
    "start": "173760",
    "end": "176519"
  },
  {
    "text": "so that means you will be able to",
    "start": "176519",
    "end": "178319"
  },
  {
    "text": "configure and guaranteed resource and",
    "start": "178319",
    "end": "180540"
  },
  {
    "text": "also you can configure a Max limit to it",
    "start": "180540",
    "end": "185360"
  },
  {
    "text": "in with this model also there is a",
    "start": "185360",
    "end": "187620"
  },
  {
    "text": "caveat because",
    "start": "187620",
    "end": "189060"
  },
  {
    "text": "um when you when a legitimate",
    "start": "189060",
    "end": "191340"
  },
  {
    "text": "applications uh wants its resource back",
    "start": "191340",
    "end": "193860"
  },
  {
    "text": "at that point of time it has to wait",
    "start": "193860",
    "end": "196019"
  },
  {
    "text": "till other",
    "start": "196019",
    "end": "198180"
  },
  {
    "text": "application to finish its its execution",
    "start": "198180",
    "end": "202459"
  },
  {
    "text": "this usually causes delays because we",
    "start": "202459",
    "end": "205500"
  },
  {
    "text": "don't know how long the other",
    "start": "205500",
    "end": "206459"
  },
  {
    "text": "application may take and in such a",
    "start": "206459",
    "end": "208620"
  },
  {
    "text": "scenarios this found to be much more",
    "start": "208620",
    "end": "211080"
  },
  {
    "text": "trouble",
    "start": "211080",
    "end": "212159"
  },
  {
    "text": "so preemption will be very handy in such",
    "start": "212159",
    "end": "215159"
  },
  {
    "text": "scenarios and by enabling preemption we",
    "start": "215159",
    "end": "217860"
  },
  {
    "text": "can quickly bring the balance across",
    "start": "217860",
    "end": "220260"
  },
  {
    "text": "multiple queues and this needs to be",
    "start": "220260",
    "end": "222060"
  },
  {
    "text": "application aware also and we will",
    "start": "222060",
    "end": "223980"
  },
  {
    "text": "discuss about that in the future",
    "start": "223980",
    "end": "225480"
  },
  {
    "text": "upcoming slides",
    "start": "225480",
    "end": "227879"
  },
  {
    "text": "so I want to give a detailed example",
    "start": "227879",
    "end": "229680"
  },
  {
    "text": "about the uh the previous scenario",
    "start": "229680",
    "end": "232980"
  },
  {
    "text": "so",
    "start": "232980",
    "end": "234360"
  },
  {
    "text": "this is one of the application called",
    "start": "234360",
    "end": "237480"
  },
  {
    "text": "Apple which is submitted to q1",
    "start": "237480",
    "end": "240000"
  },
  {
    "text": "and",
    "start": "240000",
    "end": "241379"
  },
  {
    "text": "it is taken the entire cluster capacity",
    "start": "241379",
    "end": "243239"
  },
  {
    "text": "that is 100 percentage because there",
    "start": "243239",
    "end": "244860"
  },
  {
    "text": "were no other applications running in Q2",
    "start": "244860",
    "end": "246659"
  },
  {
    "text": "at that given point of time",
    "start": "246659",
    "end": "248400"
  },
  {
    "text": "now when we submitted some application",
    "start": "248400",
    "end": "250319"
  },
  {
    "text": "of two that is app2 in Q2 at around time",
    "start": "250319",
    "end": "253799"
  },
  {
    "text": "T1 you can see that like there were no",
    "start": "253799",
    "end": "256019"
  },
  {
    "text": "enough capacity available so some around",
    "start": "256019",
    "end": "258540"
  },
  {
    "text": "for 20 plus uh spark up executors was",
    "start": "258540",
    "end": "260940"
  },
  {
    "text": "running as part of the app one so some",
    "start": "260940",
    "end": "262860"
  },
  {
    "text": "of the executed got completed at even",
    "start": "262860",
    "end": "264780"
  },
  {
    "text": "and Q up two were able to grab those",
    "start": "264780",
    "end": "267419"
  },
  {
    "text": "resources and around T2 time frame it",
    "start": "267419",
    "end": "269880"
  },
  {
    "text": "got some more resources because the app",
    "start": "269880",
    "end": "272400"
  },
  {
    "text": "one was almost about to finish its",
    "start": "272400",
    "end": "274320"
  },
  {
    "text": "execution and around T3 it got the full",
    "start": "274320",
    "end": "277259"
  },
  {
    "text": "resource because Apple got completed now",
    "start": "277259",
    "end": "279120"
  },
  {
    "text": "as you can see it took a good amount of",
    "start": "279120",
    "end": "280979"
  },
  {
    "text": "time to get its desired capacity for up",
    "start": "280979",
    "end": "283800"
  },
  {
    "text": "to which was running in Q2 so if you",
    "start": "283800",
    "end": "285900"
  },
  {
    "text": "enable preemption we will be able to",
    "start": "285900",
    "end": "288360"
  },
  {
    "text": "bring that cut that delay by allowed and",
    "start": "288360",
    "end": "292380"
  },
  {
    "text": "at time T1 itself we will be able to",
    "start": "292380",
    "end": "294360"
  },
  {
    "text": "give the full guaranteed capacity for",
    "start": "294360",
    "end": "296900"
  },
  {
    "text": "applications running in Q2",
    "start": "296900",
    "end": "300479"
  },
  {
    "text": "so with that note I would like to move",
    "start": "300479",
    "end": "303479"
  },
  {
    "text": "on to the nest segment where we want to",
    "start": "303479",
    "end": "306120"
  },
  {
    "text": "discuss about",
    "start": "306120",
    "end": "307340"
  },
  {
    "text": "where things are standing with respect",
    "start": "307340",
    "end": "309479"
  },
  {
    "text": "to kubernetes uh with respect to these",
    "start": "309479",
    "end": "311280"
  },
  {
    "text": "multi-tenant scenarios right",
    "start": "311280",
    "end": "314220"
  },
  {
    "text": "so",
    "start": "314220",
    "end": "315360"
  },
  {
    "text": "in in kubernetes uh old ports in the",
    "start": "315360",
    "end": "317759"
  },
  {
    "text": "entire cluster are are sorted based on",
    "start": "317759",
    "end": "320460"
  },
  {
    "text": "priority so that means it's a big queue",
    "start": "320460",
    "end": "323400"
  },
  {
    "text": "and the ports are then considered for",
    "start": "323400",
    "end": "326280"
  },
  {
    "text": "eviction based on based on that order",
    "start": "326280",
    "end": "329600"
  },
  {
    "text": "and an optode is not quite possible by",
    "start": "329600",
    "end": "333660"
  },
  {
    "text": "looking at the contrast of the",
    "start": "333660",
    "end": "334740"
  },
  {
    "text": "application for example I'll take the",
    "start": "334740",
    "end": "336539"
  },
  {
    "text": "example of spark right you have spark",
    "start": "336539",
    "end": "338160"
  },
  {
    "text": "driver Port which is very critical and",
    "start": "338160",
    "end": "340139"
  },
  {
    "text": "if you kill the driver Port itself the",
    "start": "340139",
    "end": "341580"
  },
  {
    "text": "entire job will fail so uh in today's",
    "start": "341580",
    "end": "344699"
  },
  {
    "text": "scenario it's not possible to do that",
    "start": "344699",
    "end": "346680"
  },
  {
    "text": "and hence this will cause a lot of cost",
    "start": "346680",
    "end": "351620"
  },
  {
    "text": "and this will bring in um maybe a job",
    "start": "351620",
    "end": "355020"
  },
  {
    "text": "which is running for eight hours or nine",
    "start": "355020",
    "end": "356699"
  },
  {
    "text": "hours and what if the driver itself is",
    "start": "356699",
    "end": "358380"
  },
  {
    "text": "lost right so you'll be losing the whole",
    "start": "358380",
    "end": "360060"
  },
  {
    "text": "job and and results with huge penalty",
    "start": "360060",
    "end": "363780"
  },
  {
    "text": "and coming to the priority class that is",
    "start": "363780",
    "end": "367020"
  },
  {
    "text": "used for defining priorities across jobs",
    "start": "367020",
    "end": "369360"
  },
  {
    "text": "or ports in the kubernetes these are",
    "start": "369360",
    "end": "372660"
  },
  {
    "text": "cluster-wide objects right and when you",
    "start": "372660",
    "end": "376199"
  },
  {
    "text": "and also there are no limitations that",
    "start": "376199",
    "end": "379199"
  },
  {
    "text": "we can set",
    "start": "379199",
    "end": "380280"
  },
  {
    "text": "um onto this priority on on that",
    "start": "380280",
    "end": "383699"
  },
  {
    "text": "particular approach",
    "start": "383699",
    "end": "385500"
  },
  {
    "text": "so we can because of this uh any Rogue",
    "start": "385500",
    "end": "389400"
  },
  {
    "text": "user could come and set a larger",
    "start": "389400",
    "end": "391620"
  },
  {
    "text": "priority on a port and that could",
    "start": "391620",
    "end": "393300"
  },
  {
    "text": "disrupt the entire system so this is one",
    "start": "393300",
    "end": "395340"
  },
  {
    "text": "of the possibility yeah there are few",
    "start": "395340",
    "end": "397020"
  },
  {
    "text": "later few configuration from 1 to 24",
    "start": "397020",
    "end": "400860"
  },
  {
    "text": "onwards however uh in a public Cloud uh",
    "start": "400860",
    "end": "403919"
  },
  {
    "text": "setup it is difficult to be configured",
    "start": "403919",
    "end": "405720"
  },
  {
    "text": "because it is mostly an admin and API",
    "start": "405720",
    "end": "407520"
  },
  {
    "text": "server related configuration",
    "start": "407520",
    "end": "410660"
  },
  {
    "text": "so now let's look at the preemption in",
    "start": "410940",
    "end": "413880"
  },
  {
    "text": "unicorn itself a very high level",
    "start": "413880",
    "end": "415560"
  },
  {
    "text": "overview",
    "start": "415560",
    "end": "416699"
  },
  {
    "text": "so in order to understand about",
    "start": "416699",
    "end": "418380"
  },
  {
    "text": "preemption with Unicom we need to get",
    "start": "418380",
    "end": "420720"
  },
  {
    "text": "familiarize a bit about our unicorn",
    "start": "420720",
    "end": "422699"
  },
  {
    "text": "itself how it is handling right so",
    "start": "422699",
    "end": "425759"
  },
  {
    "text": "unicorn works with hierarchical cues as",
    "start": "425759",
    "end": "427860"
  },
  {
    "text": "I mentioned earlier so that means",
    "start": "427860",
    "end": "429960"
  },
  {
    "text": "resource limits configurations and the",
    "start": "429960",
    "end": "433440"
  },
  {
    "text": "actual controls can be set it to any any",
    "start": "433440",
    "end": "437280"
  },
  {
    "text": "level uh it will queues at any level and",
    "start": "437280",
    "end": "439860"
  },
  {
    "text": "it will be inherited to its child cues",
    "start": "439860",
    "end": "442440"
  },
  {
    "text": "and preemption makes makes use of the",
    "start": "442440",
    "end": "444780"
  },
  {
    "text": "fact that it allows",
    "start": "444780",
    "end": "447800"
  },
  {
    "text": "applying the guaranteed and the max",
    "start": "447800",
    "end": "450060"
  },
  {
    "text": "limits to any of the Queue at any level",
    "start": "450060",
    "end": "453060"
  },
  {
    "text": "so that means as you can ask yourself in",
    "start": "453060",
    "end": "455520"
  },
  {
    "text": "the earlier example uh q1 and Q2 we will",
    "start": "455520",
    "end": "459000"
  },
  {
    "text": "be able to find and over utilize Queue",
    "start": "459000",
    "end": "461759"
  },
  {
    "text": "at any given point of time and then do",
    "start": "461759",
    "end": "464639"
  },
  {
    "text": "the preemption necessary to ensure that",
    "start": "464639",
    "end": "467099"
  },
  {
    "text": "the under committed queue in that",
    "start": "467099",
    "end": "469020"
  },
  {
    "text": "example it was Q2 gets its desired",
    "start": "469020",
    "end": "471479"
  },
  {
    "text": "guaranteed quota",
    "start": "471479",
    "end": "474120"
  },
  {
    "text": "and for unicorn I think the large batch",
    "start": "474120",
    "end": "477419"
  },
  {
    "text": "workloads are the major Focus because",
    "start": "477419",
    "end": "480060"
  },
  {
    "text": "um to run jobs like spark or Flink we",
    "start": "480060",
    "end": "482880"
  },
  {
    "text": "need to ensure that uh unicorn handles",
    "start": "482880",
    "end": "484680"
  },
  {
    "text": "this volume of jobs",
    "start": "484680",
    "end": "487319"
  },
  {
    "text": "so it means that we cannot lose the jobs",
    "start": "487319",
    "end": "489599"
  },
  {
    "text": "as well so we were trying to ensure that",
    "start": "489599",
    "end": "493139"
  },
  {
    "text": "we look at each of the application in",
    "start": "493139",
    "end": "495840"
  },
  {
    "text": "detail and make sure that the originate",
    "start": "495840",
    "end": "498479"
  },
  {
    "text": "report in case maybe I'll say the spark",
    "start": "498479",
    "end": "501360"
  },
  {
    "text": "driver Port is always kept safe so that",
    "start": "501360",
    "end": "504720"
  },
  {
    "text": "it will not cause any kind of",
    "start": "504720",
    "end": "505979"
  },
  {
    "text": "disruptions right and we also give an",
    "start": "505979",
    "end": "509639"
  },
  {
    "text": "option to opt out from this preemption",
    "start": "509639",
    "end": "512279"
  },
  {
    "text": "itself so this opt-out option will be",
    "start": "512279",
    "end": "514820"
  },
  {
    "text": "can be easily configured in the spec",
    "start": "514820",
    "end": "518279"
  },
  {
    "text": "itself and the port will not be",
    "start": "518279",
    "end": "520260"
  },
  {
    "text": "preempted but it is just a",
    "start": "520260",
    "end": "523099"
  },
  {
    "text": "an ocean or to the scheduler that okay",
    "start": "523099",
    "end": "527339"
  },
  {
    "text": "don't preempt me however in scenarios",
    "start": "527339",
    "end": "530040"
  },
  {
    "text": "where Mission critical ports needs to be",
    "start": "530040",
    "end": "533300"
  },
  {
    "text": "scheduled on that node there could be",
    "start": "533300",
    "end": "535860"
  },
  {
    "text": "chance that these Port all also could be",
    "start": "535860",
    "end": "538380"
  },
  {
    "text": "preempted as the last resort",
    "start": "538380",
    "end": "542360"
  },
  {
    "text": "so in order to understand the unicorn's",
    "start": "543540",
    "end": "546899"
  },
  {
    "text": "preemption algorithm we thought it would",
    "start": "546899",
    "end": "549120"
  },
  {
    "text": "be helpful to State it as a series of",
    "start": "549120",
    "end": "551399"
  },
  {
    "text": "rules or laws then it's be much more",
    "start": "551399",
    "end": "553560"
  },
  {
    "text": "simpler to explain what was the",
    "start": "553560",
    "end": "556220"
  },
  {
    "text": "algorithm that we were using to select",
    "start": "556220",
    "end": "558480"
  },
  {
    "text": "the candidates or the victims right so",
    "start": "558480",
    "end": "562200"
  },
  {
    "text": "rule one",
    "start": "562200",
    "end": "563760"
  },
  {
    "text": "um policies are not guarantees this will",
    "start": "563760",
    "end": "566640"
  },
  {
    "text": "help you ensure that in a multi-tenant",
    "start": "566640",
    "end": "568860"
  },
  {
    "text": "environment",
    "start": "568860",
    "end": "569899"
  },
  {
    "text": "not all all the ports who are saying",
    "start": "569899",
    "end": "572640"
  },
  {
    "text": "that I am I want to opt out monopolize",
    "start": "572640",
    "end": "574560"
  },
  {
    "text": "the entire cluster so we could get into",
    "start": "574560",
    "end": "576480"
  },
  {
    "text": "that kind of a trouble so we will still",
    "start": "576480",
    "end": "578459"
  },
  {
    "text": "uh",
    "start": "578459",
    "end": "579720"
  },
  {
    "text": "those kind of ports however we'll keep",
    "start": "579720",
    "end": "582779"
  },
  {
    "text": "it as the last resort",
    "start": "582779",
    "end": "584760"
  },
  {
    "text": "now the second law says that preemption",
    "start": "584760",
    "end": "587580"
  },
  {
    "text": "cannot leave the Q lower than its",
    "start": "587580",
    "end": "590160"
  },
  {
    "text": "guaranteed capacity so this exits so",
    "start": "590160",
    "end": "592320"
  },
  {
    "text": "that like use guaranteed the queue",
    "start": "592320",
    "end": "595380"
  },
  {
    "text": "guarantees that actual",
    "start": "595380",
    "end": "597500"
  },
  {
    "text": "guaranteed quota is always meant there",
    "start": "597500",
    "end": "599760"
  },
  {
    "text": "so that we don't want to bring down the",
    "start": "599760",
    "end": "602580"
  },
  {
    "text": "uh",
    "start": "602580",
    "end": "603920"
  },
  {
    "text": "capacity below its guaranteed quota",
    "start": "603920",
    "end": "607680"
  },
  {
    "text": "third one is second simpler a task",
    "start": "607680",
    "end": "609779"
  },
  {
    "text": "cannot preempt other tasks in the same",
    "start": "609779",
    "end": "612600"
  },
  {
    "text": "application so when I say application",
    "start": "612600",
    "end": "614220"
  },
  {
    "text": "like take an example spark right so you",
    "start": "614220",
    "end": "616320"
  },
  {
    "text": "may have 30 or 50 or plus ports running",
    "start": "616320",
    "end": "618839"
  },
  {
    "text": "together as an executor fifty percent of",
    "start": "618839",
    "end": "621060"
  },
  {
    "text": "them is allocated then you met the Q",
    "start": "621060",
    "end": "623339"
  },
  {
    "text": "quota and uh for the remaining say fifty",
    "start": "623339",
    "end": "626519"
  },
  {
    "text": "percent of the executors we should not",
    "start": "626519",
    "end": "627899"
  },
  {
    "text": "be preempting the other 50 percentage so",
    "start": "627899",
    "end": "630180"
  },
  {
    "text": "then that means we'll be getting into a",
    "start": "630180",
    "end": "631800"
  },
  {
    "text": "loop",
    "start": "631800",
    "end": "633899"
  },
  {
    "text": "the next one is like a task cannot",
    "start": "633899",
    "end": "635940"
  },
  {
    "text": "trigger preemption unless its queue is",
    "start": "635940",
    "end": "638339"
  },
  {
    "text": "under the guaranteed capacity so this is",
    "start": "638339",
    "end": "640680"
  },
  {
    "text": "again a simpler explanation right so uh",
    "start": "640680",
    "end": "644220"
  },
  {
    "text": "if there are enough resources in the",
    "start": "644220",
    "end": "646079"
  },
  {
    "text": "cluster or it's in the parent queue if",
    "start": "646079",
    "end": "648660"
  },
  {
    "text": "the elastic quota is also available then",
    "start": "648660",
    "end": "650640"
  },
  {
    "text": "we should go and grab them before even",
    "start": "650640",
    "end": "652500"
  },
  {
    "text": "triggering the preemption so we should",
    "start": "652500",
    "end": "655019"
  },
  {
    "text": "ensure that the queue is properly",
    "start": "655019",
    "end": "657060"
  },
  {
    "text": "starved so that we can do that",
    "start": "657060",
    "end": "659760"
  },
  {
    "text": "the next low is that a task cannot be",
    "start": "659760",
    "end": "663060"
  },
  {
    "text": "preempted unless this queue is over its",
    "start": "663060",
    "end": "665399"
  },
  {
    "text": "guaranteed capacity so we want to so all",
    "start": "665399",
    "end": "667860"
  },
  {
    "text": "the queues who are behaving nicely in",
    "start": "667860",
    "end": "669779"
  },
  {
    "text": "the cluster will be left As Cities only",
    "start": "669779",
    "end": "672180"
  },
  {
    "text": "those queues who are above its uh",
    "start": "672180",
    "end": "673920"
  },
  {
    "text": "guaranteed capacity and we have a",
    "start": "673920",
    "end": "676200"
  },
  {
    "text": "critical demand then only we'll be uh",
    "start": "676200",
    "end": "678360"
  },
  {
    "text": "clienting them",
    "start": "678360",
    "end": "681079"
  },
  {
    "text": "so rule 6 is that a task can only",
    "start": "681300",
    "end": "683519"
  },
  {
    "text": "preempt a task with lower or equal",
    "start": "683519",
    "end": "685560"
  },
  {
    "text": "priority this is very similar to the",
    "start": "685560",
    "end": "687120"
  },
  {
    "text": "today's kubernetes preemption model that",
    "start": "687120",
    "end": "689880"
  },
  {
    "text": "we'll be uh taking uh we'll be",
    "start": "689880",
    "end": "691980"
  },
  {
    "text": "considering the task for preemption only",
    "start": "691980",
    "end": "693300"
  },
  {
    "text": "if it is lower priority",
    "start": "693300",
    "end": "695579"
  },
  {
    "text": "and the final one is a task cannot",
    "start": "695579",
    "end": "697620"
  },
  {
    "text": "preempt task I would say its Prem uh",
    "start": "697620",
    "end": "700920"
  },
  {
    "text": "preemption fence so in in unicorn",
    "start": "700920",
    "end": "703620"
  },
  {
    "text": "preemption implementation we also come",
    "start": "703620",
    "end": "706079"
  },
  {
    "text": "up with a concept called fencing so that",
    "start": "706079",
    "end": "708540"
  },
  {
    "text": "uh when you when you look at queues we",
    "start": "708540",
    "end": "711899"
  },
  {
    "text": "can protect by itself by creating a",
    "start": "711899",
    "end": "714180"
  },
  {
    "text": "boundary so which will be explaining",
    "start": "714180",
    "end": "716100"
  },
  {
    "text": "later",
    "start": "716100",
    "end": "718339"
  },
  {
    "text": "okay so this is the core uh design so",
    "start": "722880",
    "end": "725880"
  },
  {
    "text": "which we which I also already covered",
    "start": "725880",
    "end": "727920"
  },
  {
    "text": "that I unicorn adhes to the Q hierarchy",
    "start": "727920",
    "end": "731640"
  },
  {
    "text": "and preemption makes the decisions to",
    "start": "731640",
    "end": "734519"
  },
  {
    "text": "bring the quids to its guaranteed",
    "start": "734519",
    "end": "736260"
  },
  {
    "text": "resources and preemption is also",
    "start": "736260",
    "end": "738240"
  },
  {
    "text": "application aware so that the original",
    "start": "738240",
    "end": "740459"
  },
  {
    "text": "reports are kept uh will be trying we'll",
    "start": "740459",
    "end": "743339"
  },
  {
    "text": "try to save the original report as much",
    "start": "743339",
    "end": "744779"
  },
  {
    "text": "as possible and we provide the option to",
    "start": "744779",
    "end": "747720"
  },
  {
    "text": "opt out from the preemption",
    "start": "747720",
    "end": "750600"
  },
  {
    "text": "now let's look at a workflow",
    "start": "750600",
    "end": "753180"
  },
  {
    "text": "so this is a simple queue structure",
    "start": "753180",
    "end": "755160"
  },
  {
    "text": "where you have root Cube Marketing sales",
    "start": "755160",
    "end": "758700"
  },
  {
    "text": "and system queue and under marketing",
    "start": "758700",
    "end": "761220"
  },
  {
    "text": "your sales and sales shops and finance",
    "start": "761220",
    "end": "762899"
  },
  {
    "text": "as payroll and Reporting",
    "start": "762899",
    "end": "765540"
  },
  {
    "text": "so as you can see uh we fenced these two",
    "start": "765540",
    "end": "768120"
  },
  {
    "text": "trees that is sales and marketing so",
    "start": "768120",
    "end": "770579"
  },
  {
    "text": "that it can if there is a requirement if",
    "start": "770579",
    "end": "773639"
  },
  {
    "text": "there is a requirement on the sales",
    "start": "773639",
    "end": "775860"
  },
  {
    "text": "queue or sales Ops queue we will not be",
    "start": "775860",
    "end": "778019"
  },
  {
    "text": "preempting anything from the payroll or",
    "start": "778019",
    "end": "779639"
  },
  {
    "text": "payroll reporting queue or and vice",
    "start": "779639",
    "end": "781920"
  },
  {
    "text": "versa",
    "start": "781920",
    "end": "783360"
  },
  {
    "text": "and within each other we also put a",
    "start": "783360",
    "end": "786839"
  },
  {
    "text": "boundary for sales and Reporting so we",
    "start": "786839",
    "end": "789540"
  },
  {
    "text": "are and we did couple of levels of",
    "start": "789540",
    "end": "791880"
  },
  {
    "text": "fencing here",
    "start": "791880",
    "end": "793320"
  },
  {
    "text": "now let's look at an example where at 20",
    "start": "793320",
    "end": "795540"
  },
  {
    "text": "GB demand is on the sales Ops queue and",
    "start": "795540",
    "end": "799139"
  },
  {
    "text": "you can see that uh there are no",
    "start": "799139",
    "end": "801240"
  },
  {
    "text": "available resources in the marketing",
    "start": "801240",
    "end": "803459"
  },
  {
    "text": "queue it's already it's at its capacity",
    "start": "803459",
    "end": "805320"
  },
  {
    "text": "but sales is already above its guarantee",
    "start": "805320",
    "end": "808320"
  },
  {
    "text": "so a preemption will occur here by",
    "start": "808320",
    "end": "810839"
  },
  {
    "text": "taking 20 GB from the sales queue and",
    "start": "810839",
    "end": "813120"
  },
  {
    "text": "sales Ops will be able to immediately",
    "start": "813120",
    "end": "814860"
  },
  {
    "text": "schedule those 20 GB right so I'm",
    "start": "814860",
    "end": "816720"
  },
  {
    "text": "showing us memory as a resource but it",
    "start": "816720",
    "end": "818820"
  },
  {
    "text": "could be for anything CPU GPU doesn't",
    "start": "818820",
    "end": "820560"
  },
  {
    "text": "say matter for the Simplicity stick I",
    "start": "820560",
    "end": "822240"
  },
  {
    "text": "will be showing this one",
    "start": "822240",
    "end": "823860"
  },
  {
    "text": "and the next one is uh to the payroll",
    "start": "823860",
    "end": "826920"
  },
  {
    "text": "queue a new 50 GB can be directly",
    "start": "826920",
    "end": "829500"
  },
  {
    "text": "scheduled you don't need to do any",
    "start": "829500",
    "end": "830459"
  },
  {
    "text": "preemption here because our variable",
    "start": "830459",
    "end": "831720"
  },
  {
    "text": "capacity is there so it directly gets",
    "start": "831720",
    "end": "833940"
  },
  {
    "text": "scheduled uh in the finance layer and",
    "start": "833940",
    "end": "835620"
  },
  {
    "text": "because the route is now after",
    "start": "835620",
    "end": "837180"
  },
  {
    "text": "scheduling the 50 GB we are at 100",
    "start": "837180",
    "end": "839279"
  },
  {
    "text": "percentage",
    "start": "839279",
    "end": "841680"
  },
  {
    "text": "now we are trying to uh submit some more",
    "start": "841680",
    "end": "844860"
  },
  {
    "text": "jobs to the reporting queue but this is",
    "start": "844860",
    "end": "847380"
  },
  {
    "text": "fenced so since it is fenced",
    "start": "847380",
    "end": "850320"
  },
  {
    "text": "um it cannot actually grab resources",
    "start": "850320",
    "end": "852540"
  },
  {
    "text": "from the payroll so that is actually the",
    "start": "852540",
    "end": "854880"
  },
  {
    "text": "core concept here so you're trying to",
    "start": "854880",
    "end": "856500"
  },
  {
    "text": "protect uh on the queues that are of to",
    "start": "856500",
    "end": "859860"
  },
  {
    "text": "our priority",
    "start": "859860",
    "end": "861600"
  },
  {
    "text": "so in this case there won't be any kind",
    "start": "861600",
    "end": "863700"
  },
  {
    "text": "of preemption",
    "start": "863700",
    "end": "865500"
  },
  {
    "text": "finally we are submitting 10 more GB to",
    "start": "865500",
    "end": "867899"
  },
  {
    "text": "the system queue but system queue does",
    "start": "867899",
    "end": "870060"
  },
  {
    "text": "not have any kind of fencing around it",
    "start": "870060",
    "end": "871200"
  },
  {
    "text": "so it can go and actually preempt any",
    "start": "871200",
    "end": "872760"
  },
  {
    "text": "resources from these queues and here you",
    "start": "872760",
    "end": "875399"
  },
  {
    "text": "can see that the finance queue is",
    "start": "875399",
    "end": "876720"
  },
  {
    "text": "already above its guaranteed capacity so",
    "start": "876720",
    "end": "879180"
  },
  {
    "text": "and it will be hitting the payroll",
    "start": "879180",
    "end": "881279"
  },
  {
    "text": "so if a 10 GB will be low preempted from",
    "start": "881279",
    "end": "884339"
  },
  {
    "text": "the payroll queue and that 10 GB goes to",
    "start": "884339",
    "end": "886980"
  },
  {
    "text": "the system queue",
    "start": "886980",
    "end": "889260"
  },
  {
    "text": "okay now",
    "start": "889260",
    "end": "892260"
  },
  {
    "text": "to going to the configuration support",
    "start": "892260",
    "end": "894120"
  },
  {
    "text": "right it's very simple to enable",
    "start": "894120",
    "end": "896040"
  },
  {
    "text": "preemption with unicorn so you can allow",
    "start": "896040",
    "end": "898920"
  },
  {
    "text": "the ports can opt out from the",
    "start": "898920",
    "end": "900240"
  },
  {
    "text": "preemption when using unicorn and the",
    "start": "900240",
    "end": "902699"
  },
  {
    "text": "default kubernetes priority class itself",
    "start": "902699",
    "end": "904500"
  },
  {
    "text": "can be used so we don't need to add any",
    "start": "904500",
    "end": "905940"
  },
  {
    "text": "new additional configuration uh here and",
    "start": "905940",
    "end": "909240"
  },
  {
    "text": "you just need to add an annotation",
    "start": "909240",
    "end": "910680"
  },
  {
    "text": "called",
    "start": "910680",
    "end": "911720"
  },
  {
    "text": "allo preemption equal to true",
    "start": "911720",
    "end": "915600"
  },
  {
    "text": "setting this an expectation to True will",
    "start": "915600",
    "end": "917699"
  },
  {
    "text": "Mark any ports to opt out from the",
    "start": "917699",
    "end": "920060"
  },
  {
    "text": "preemption however it's just a",
    "start": "920060",
    "end": "923160"
  },
  {
    "text": "integration it can be still be preempted",
    "start": "923160",
    "end": "925560"
  },
  {
    "text": "if there is a critical workload coming",
    "start": "925560",
    "end": "927540"
  },
  {
    "text": "but we will try to put it as last",
    "start": "927540",
    "end": "930779"
  },
  {
    "text": "now we're looking into some other",
    "start": "930779",
    "end": "932820"
  },
  {
    "text": "configuration features as well",
    "start": "932820",
    "end": "936380"
  },
  {
    "text": "the first one is the Q Properties as you",
    "start": "937500",
    "end": "940920"
  },
  {
    "text": "can see on here we have multiple",
    "start": "940920",
    "end": "942660"
  },
  {
    "text": "configurations that are that can be",
    "start": "942660",
    "end": "944519"
  },
  {
    "text": "configured along with the existing Cube",
    "start": "944519",
    "end": "946320"
  },
  {
    "text": "configuration these are nothing but",
    "start": "946320",
    "end": "947820"
  },
  {
    "text": "annotation with which you will be able",
    "start": "947820",
    "end": "949380"
  },
  {
    "text": "to enable preemption in in unicorn",
    "start": "949380",
    "end": "952860"
  },
  {
    "text": "so first one is guaranteed and maximum",
    "start": "952860",
    "end": "955199"
  },
  {
    "text": "resources for workflows to be preempted",
    "start": "955199",
    "end": "957839"
  },
  {
    "text": "in IQ the guaranteed limit must be lower",
    "start": "957839",
    "end": "960420"
  },
  {
    "text": "than the max limits",
    "start": "960420",
    "end": "964699"
  },
  {
    "text": "now coming to the fencing a cube a",
    "start": "965519",
    "end": "969000"
  },
  {
    "text": "specific preemption policy can be uh",
    "start": "969000",
    "end": "970920"
  },
  {
    "text": "configured and you can give two options",
    "start": "970920",
    "end": "973260"
  },
  {
    "text": "either you can fence that or or you can",
    "start": "973260",
    "end": "976440"
  },
  {
    "text": "actually say disable the preemption for",
    "start": "976440",
    "end": "978000"
  },
  {
    "text": "this queue all together",
    "start": "978000",
    "end": "979199"
  },
  {
    "text": "so when you when you fence uh create a",
    "start": "979199",
    "end": "981779"
  },
  {
    "text": "fence around the queue and its sub",
    "start": "981779",
    "end": "983220"
  },
  {
    "text": "queues it will prevent the preemption",
    "start": "983220",
    "end": "985620"
  },
  {
    "text": "um request within the fencing boundary",
    "start": "985620",
    "end": "989100"
  },
  {
    "text": "so that any new request coming from the",
    "start": "989100",
    "end": "991079"
  },
  {
    "text": "fencing Foundry boundary will be will be",
    "start": "991079",
    "end": "993600"
  },
  {
    "text": "locked within that segment and it will",
    "start": "993600",
    "end": "995220"
  },
  {
    "text": "not go outside and preempt something",
    "start": "995220",
    "end": "996540"
  },
  {
    "text": "else",
    "start": "996540",
    "end": "998779"
  },
  {
    "text": "now we also added a preemption delay and",
    "start": "999779",
    "end": "1002540"
  },
  {
    "text": "this can be set how soon the preemption",
    "start": "1002540",
    "end": "1004279"
  },
  {
    "text": "will be attempted so in an SLA driven",
    "start": "1004279",
    "end": "1007040"
  },
  {
    "text": "environment this preemption delay will",
    "start": "1007040",
    "end": "1008899"
  },
  {
    "text": "Define how fast you need a Prem rat",
    "start": "1008899",
    "end": "1011420"
  },
  {
    "text": "house house how slow",
    "start": "1011420",
    "end": "1014360"
  },
  {
    "text": "so we also have few other configuration",
    "start": "1014360",
    "end": "1015980"
  },
  {
    "text": "like priority based fencing this will",
    "start": "1015980",
    "end": "1018259"
  },
  {
    "text": "also help to see",
    "start": "1018259",
    "end": "1019820"
  },
  {
    "text": "um creating a priority for the priority",
    "start": "1019820",
    "end": "1022639"
  },
  {
    "text": "classes the on the priority value can be",
    "start": "1022639",
    "end": "1025760"
  },
  {
    "text": "seen by outside that queue could be uh",
    "start": "1025760",
    "end": "1030020"
  },
  {
    "text": "the fenced value but within the fence",
    "start": "1030020",
    "end": "1032178"
  },
  {
    "text": "you can use any other priority but I",
    "start": "1032179",
    "end": "1033620"
  },
  {
    "text": "would say uh queues could see it in a",
    "start": "1033620",
    "end": "1035839"
  },
  {
    "text": "different value so it's a very detailed",
    "start": "1035839",
    "end": "1037880"
  },
  {
    "text": "uh explanation we'll be covering later",
    "start": "1037880",
    "end": "1041500"
  },
  {
    "text": "so with that I would like to go to a",
    "start": "1042860",
    "end": "1045079"
  },
  {
    "text": "quick demo",
    "start": "1045079",
    "end": "1048160"
  },
  {
    "text": "Craig will be taking over the spot",
    "start": "1049760",
    "end": "1053320"
  },
  {
    "text": "I will explain the basics of unicorn",
    "start": "1055880",
    "end": "1057740"
  },
  {
    "text": "preemption show a sample configuration",
    "start": "1057740",
    "end": "1060080"
  },
  {
    "text": "and demonstrate how unicorn applies this",
    "start": "1060080",
    "end": "1062600"
  },
  {
    "text": "functionality in practice",
    "start": "1062600",
    "end": "1064460"
  },
  {
    "text": "for this demo we will use the queue",
    "start": "1064460",
    "end": "1066440"
  },
  {
    "text": "setup depicted in this diagram unicorn",
    "start": "1066440",
    "end": "1069020"
  },
  {
    "text": "schedules workloads using a set of cues",
    "start": "1069020",
    "end": "1070940"
  },
  {
    "text": "arranged in a hierarchy with the root",
    "start": "1070940",
    "end": "1072980"
  },
  {
    "text": "queue on down Q's shown in purple on the",
    "start": "1072980",
    "end": "1075860"
  },
  {
    "text": "diagram are parent cues and are used for",
    "start": "1075860",
    "end": "1078320"
  },
  {
    "text": "organizational structure cues shown in",
    "start": "1078320",
    "end": "1080720"
  },
  {
    "text": "green are Leaf cues and are where",
    "start": "1080720",
    "end": "1082760"
  },
  {
    "text": "workloads are submitted and run",
    "start": "1082760",
    "end": "1085220"
  },
  {
    "text": "unicorn supports setting a preemption",
    "start": "1085220",
    "end": "1087380"
  },
  {
    "text": "fence boundary at any Q level which",
    "start": "1087380",
    "end": "1089900"
  },
  {
    "text": "limits the scope of preemption to that",
    "start": "1089900",
    "end": "1092059"
  },
  {
    "text": "queue and its child cues these fences",
    "start": "1092059",
    "end": "1094640"
  },
  {
    "text": "are one way requests outside of fence",
    "start": "1094640",
    "end": "1096620"
  },
  {
    "text": "boundary May preempt tasks within",
    "start": "1096620",
    "end": "1098720"
  },
  {
    "text": "another fence boundary but not the",
    "start": "1098720",
    "end": "1101240"
  },
  {
    "text": "reverse",
    "start": "1101240",
    "end": "1102380"
  },
  {
    "text": "in the setup shown here there is a",
    "start": "1102380",
    "end": "1104299"
  },
  {
    "text": "system queue which exists outside of any",
    "start": "1104299",
    "end": "1106220"
  },
  {
    "text": "fence this queue is permitted to preempt",
    "start": "1106220",
    "end": "1108440"
  },
  {
    "text": "workloads in any other queue under the",
    "start": "1108440",
    "end": "1110780"
  },
  {
    "text": "org parent we have two cues sales and",
    "start": "1110780",
    "end": "1113600"
  },
  {
    "text": "marketing each is fenced which means",
    "start": "1113600",
    "end": "1115700"
  },
  {
    "text": "workloads running in sales can never",
    "start": "1115700",
    "end": "1117200"
  },
  {
    "text": "preempt those in marketing and vice",
    "start": "1117200",
    "end": "1119240"
  },
  {
    "text": "versa finally both sales and marketing",
    "start": "1119240",
    "end": "1121520"
  },
  {
    "text": "have Leaf cues for Dev and prod",
    "start": "1121520",
    "end": "1123200"
  },
  {
    "text": "workflows the dev cues are fenced but",
    "start": "1123200",
    "end": "1125840"
  },
  {
    "text": "the prod cues are not this allows prod",
    "start": "1125840",
    "end": "1128299"
  },
  {
    "text": "workloads to preempt Dev workflows",
    "start": "1128299",
    "end": "1130460"
  },
  {
    "text": "within each organization but not the",
    "start": "1130460",
    "end": "1132740"
  },
  {
    "text": "reverse",
    "start": "1132740",
    "end": "1135100"
  },
  {
    "text": "shown here is the Unicorn Q",
    "start": "1135500",
    "end": "1137720"
  },
  {
    "text": "configuration for our demo at the top",
    "start": "1137720",
    "end": "1140240"
  },
  {
    "text": "level we have a root queue containing",
    "start": "1140240",
    "end": "1142160"
  },
  {
    "text": "child cues system and org system is",
    "start": "1142160",
    "end": "1144980"
  },
  {
    "text": "unlimited but org has a maximum capacity",
    "start": "1144980",
    "end": "1148100"
  },
  {
    "text": "of 400 megabytes of RAM and 400",
    "start": "1148100",
    "end": "1150620"
  },
  {
    "text": "millisecpus",
    "start": "1150620",
    "end": "1152000"
  },
  {
    "text": "the org queue has two child cues sales",
    "start": "1152000",
    "end": "1154820"
  },
  {
    "text": "and marketing each with a 200 megabyte",
    "start": "1154820",
    "end": "1157340"
  },
  {
    "text": "maximum and 200 megabyte guaranteed",
    "start": "1157340",
    "end": "1159500"
  },
  {
    "text": "capacity finally each of sales and",
    "start": "1159500",
    "end": "1162320"
  },
  {
    "text": "marketing has two child cues Dev and",
    "start": "1162320",
    "end": "1164780"
  },
  {
    "text": "prod both have a maximum capacity of 200",
    "start": "1164780",
    "end": "1167480"
  },
  {
    "text": "megabytes each but only 100 megabytes",
    "start": "1167480",
    "end": "1169940"
  },
  {
    "text": "guaranteed",
    "start": "1169940",
    "end": "1171080"
  },
  {
    "text": "we also Define a preemption policy",
    "start": "1171080",
    "end": "1173059"
  },
  {
    "text": "offense at the sales marketing and Dev",
    "start": "1173059",
    "end": "1175760"
  },
  {
    "text": "queues the prod cues are unfenced which",
    "start": "1175760",
    "end": "1178700"
  },
  {
    "text": "means they are allowed to preempt from",
    "start": "1178700",
    "end": "1180260"
  },
  {
    "text": "their siblings",
    "start": "1180260",
    "end": "1182799"
  },
  {
    "text": "shown here is an example pod for this",
    "start": "1183140",
    "end": "1185660"
  },
  {
    "text": "test",
    "start": "1185660",
    "end": "1187220"
  },
  {
    "text": "in order for unicorn to schedule things",
    "start": "1187220",
    "end": "1189200"
  },
  {
    "text": "successfully three attributes need to be",
    "start": "1189200",
    "end": "1191360"
  },
  {
    "text": "present one the scheduler name needs to",
    "start": "1191360",
    "end": "1193760"
  },
  {
    "text": "be set to unicorn this can either be",
    "start": "1193760",
    "end": "1195500"
  },
  {
    "text": "done explicitly as is done here or can",
    "start": "1195500",
    "end": "1198020"
  },
  {
    "text": "be done automatically by the Unicorn",
    "start": "1198020",
    "end": "1199520"
  },
  {
    "text": "admission controller secondly unicorn",
    "start": "1199520",
    "end": "1201919"
  },
  {
    "text": "requires an application ID to organize",
    "start": "1201919",
    "end": "1204860"
  },
  {
    "text": "groups of PODS together",
    "start": "1204860",
    "end": "1206600"
  },
  {
    "text": "finally a queue must be specified either",
    "start": "1206600",
    "end": "1209179"
  },
  {
    "text": "directly in this case or via placement",
    "start": "1209179",
    "end": "1211100"
  },
  {
    "text": "rules within the queue configuration",
    "start": "1211100",
    "end": "1213260"
  },
  {
    "text": "for the purposes of this test all of the",
    "start": "1213260",
    "end": "1215539"
  },
  {
    "text": "example pods will be of this form the",
    "start": "1215539",
    "end": "1218240"
  },
  {
    "text": "only difference will be the application",
    "start": "1218240",
    "end": "1220280"
  },
  {
    "text": "ID cue and name",
    "start": "1220280",
    "end": "1222559"
  },
  {
    "text": "the resource requests will be constant",
    "start": "1222559",
    "end": "1224600"
  },
  {
    "text": "at 100 ml CPUs and 100 megabytes of",
    "start": "1224600",
    "end": "1227120"
  },
  {
    "text": "memory",
    "start": "1227120",
    "end": "1229280"
  },
  {
    "text": "to begin let's launch four system pods",
    "start": "1229280",
    "end": "1232039"
  },
  {
    "text": "which will remain running for the",
    "start": "1232039",
    "end": "1233480"
  },
  {
    "text": "duration of this demo this demonstrates",
    "start": "1233480",
    "end": "1235520"
  },
  {
    "text": "that pods in the system queue will never",
    "start": "1235520",
    "end": "1237559"
  },
  {
    "text": "be chosen as candidates for preemption",
    "start": "1237559",
    "end": "1240020"
  },
  {
    "text": "we can see from the Unicorn UI that four",
    "start": "1240020",
    "end": "1242840"
  },
  {
    "text": "applications and four containers have",
    "start": "1242840",
    "end": "1244820"
  },
  {
    "text": "been launched additionally if we",
    "start": "1244820",
    "end": "1246500"
  },
  {
    "text": "navigate to the root dot system queue we",
    "start": "1246500",
    "end": "1249020"
  },
  {
    "text": "can see that the allocated memory in",
    "start": "1249020",
    "end": "1250520"
  },
  {
    "text": "this queue is 400 megabytes",
    "start": "1250520",
    "end": "1253100"
  },
  {
    "text": "next let's launch a set of pods in the",
    "start": "1253100",
    "end": "1255919"
  },
  {
    "text": "sales Dev queue although we have",
    "start": "1255919",
    "end": "1258020"
  },
  {
    "text": "launched three pods there is only room",
    "start": "1258020",
    "end": "1260000"
  },
  {
    "text": "in the queue for two of them to run so",
    "start": "1260000",
    "end": "1262160"
  },
  {
    "text": "one will remain pending",
    "start": "1262160",
    "end": "1264260"
  },
  {
    "text": "we can see from the UI that seven",
    "start": "1264260",
    "end": "1266240"
  },
  {
    "text": "applications but only six containers",
    "start": "1266240",
    "end": "1268280"
  },
  {
    "text": "have been launched",
    "start": "1268280",
    "end": "1269539"
  },
  {
    "text": "navigating to the sales Dev queue shows",
    "start": "1269539",
    "end": "1271940"
  },
  {
    "text": "that the allocated memory in this queue",
    "start": "1271940",
    "end": "1273620"
  },
  {
    "text": "is 200 megabytes which exceeds the",
    "start": "1273620",
    "end": "1276140"
  },
  {
    "text": "guaranteed capacity of 100 megabytes",
    "start": "1276140",
    "end": "1278120"
  },
  {
    "text": "this means the tasks running in this",
    "start": "1278120",
    "end": "1280520"
  },
  {
    "text": "queue may be considered for preemption",
    "start": "1280520",
    "end": "1282679"
  },
  {
    "text": "by other processes",
    "start": "1282679",
    "end": "1284660"
  },
  {
    "text": "now let's launch a similar set of pods",
    "start": "1284660",
    "end": "1287000"
  },
  {
    "text": "in the marketing Dev queue again",
    "start": "1287000",
    "end": "1288980"
  },
  {
    "text": "although we have launched three pods",
    "start": "1288980",
    "end": "1290600"
  },
  {
    "text": "only two can fit in the queue so the",
    "start": "1290600",
    "end": "1292520"
  },
  {
    "text": "third will remain pending however no",
    "start": "1292520",
    "end": "1294860"
  },
  {
    "text": "preemptions occur as the queue is over",
    "start": "1294860",
    "end": "1296840"
  },
  {
    "text": "its guaranteed limit and both the sales",
    "start": "1296840",
    "end": "1298880"
  },
  {
    "text": "and marketing queues are fenced from",
    "start": "1298880",
    "end": "1300559"
  },
  {
    "text": "each other",
    "start": "1300559",
    "end": "1301520"
  },
  {
    "text": "navigating to the marketing Dev queue",
    "start": "1301520",
    "end": "1303380"
  },
  {
    "text": "again shows the allocated memory in the",
    "start": "1303380",
    "end": "1305299"
  },
  {
    "text": "queue is 200 megabytes exceeding the",
    "start": "1305299",
    "end": "1307640"
  },
  {
    "text": "guaranteed amount of 100 megabytes",
    "start": "1307640",
    "end": "1311419"
  },
  {
    "text": "now that we've added some running pods",
    "start": "1311419",
    "end": "1313460"
  },
  {
    "text": "to the cluster let's try to schedule a",
    "start": "1313460",
    "end": "1315679"
  },
  {
    "text": "pod in the sales production queue",
    "start": "1315679",
    "end": "1317539"
  },
  {
    "text": "because the sales queue is already at",
    "start": "1317539",
    "end": "1319940"
  },
  {
    "text": "its maximum utilization of 200 megabytes",
    "start": "1319940",
    "end": "1322039"
  },
  {
    "text": "the Pod cannot be scheduled directly",
    "start": "1322039",
    "end": "1324020"
  },
  {
    "text": "however because the production queue is",
    "start": "1324020",
    "end": "1326659"
  },
  {
    "text": "below its guaranteed resource amount of",
    "start": "1326659",
    "end": "1328580"
  },
  {
    "text": "100 megabytes preemption can occur by",
    "start": "1328580",
    "end": "1331520"
  },
  {
    "text": "default unicorn weights for newly",
    "start": "1331520",
    "end": "1333200"
  },
  {
    "text": "created tasks to be waiting for at least",
    "start": "1333200",
    "end": "1335059"
  },
  {
    "text": "30 seconds before attempting preemption",
    "start": "1335059",
    "end": "1337159"
  },
  {
    "text": "once this time elapses unicorn will",
    "start": "1337159",
    "end": "1339679"
  },
  {
    "text": "attempt to find a suitable preemption",
    "start": "1339679",
    "end": "1341240"
  },
  {
    "text": "candidate since we have a fence around",
    "start": "1341240",
    "end": "1343400"
  },
  {
    "text": "sales only the sales Dev queue is",
    "start": "1343400",
    "end": "1345799"
  },
  {
    "text": "eligible for preemption preempting a",
    "start": "1345799",
    "end": "1348200"
  },
  {
    "text": "single task from the dev queue will",
    "start": "1348200",
    "end": "1349760"
  },
  {
    "text": "satisfy the requirements either the",
    "start": "1349760",
    "end": "1351919"
  },
  {
    "text": "first or second pods scheduled in the",
    "start": "1351919",
    "end": "1353539"
  },
  {
    "text": "dev queue would work however unicorn",
    "start": "1353539",
    "end": "1355940"
  },
  {
    "text": "prefers to preempt tasks which have been",
    "start": "1355940",
    "end": "1357980"
  },
  {
    "text": "running for a shorter period of time",
    "start": "1357980",
    "end": "1361039"
  },
  {
    "text": "as we can see a second sales devpod is",
    "start": "1361039",
    "end": "1363679"
  },
  {
    "text": "terminating and the production pod is",
    "start": "1363679",
    "end": "1365900"
  },
  {
    "text": "started in its place",
    "start": "1365900",
    "end": "1368860"
  },
  {
    "text": "when we attempt to launch a second pod",
    "start": "1370820",
    "end": "1372980"
  },
  {
    "text": "in the sales production queue we see",
    "start": "1372980",
    "end": "1375260"
  },
  {
    "text": "that it remains in pending State because",
    "start": "1375260",
    "end": "1377120"
  },
  {
    "text": "the parent sales queue is already at its",
    "start": "1377120",
    "end": "1379460"
  },
  {
    "text": "maximum capacity additionally since the",
    "start": "1379460",
    "end": "1382280"
  },
  {
    "text": "first pod in the production queue was",
    "start": "1382280",
    "end": "1383780"
  },
  {
    "text": "already scheduled the prod queue is now",
    "start": "1383780",
    "end": "1386059"
  },
  {
    "text": "at its guaranteed resource capacity and",
    "start": "1386059",
    "end": "1388580"
  },
  {
    "text": "so no further preemptions will be",
    "start": "1388580",
    "end": "1390080"
  },
  {
    "text": "attempted",
    "start": "1390080",
    "end": "1392299"
  },
  {
    "text": "finally we can see that our original",
    "start": "1392299",
    "end": "1394580"
  },
  {
    "text": "four system pods have remained running",
    "start": "1394580",
    "end": "1396679"
  },
  {
    "text": "throughout the demo illustrating that",
    "start": "1396679",
    "end": "1398600"
  },
  {
    "text": "they were protected from preemption our",
    "start": "1398600",
    "end": "1400820"
  },
  {
    "text": "sales and marketing organizations had no",
    "start": "1400820",
    "end": "1402740"
  },
  {
    "text": "impact on one another and our Dev cues",
    "start": "1402740",
    "end": "1405080"
  },
  {
    "text": "were not able to monopolize resources",
    "start": "1405080",
    "end": "1406760"
  },
  {
    "text": "guaranteed for our production cues I",
    "start": "1406760",
    "end": "1409159"
  },
  {
    "text": "hope you can see from this demo that",
    "start": "1409159",
    "end": "1410539"
  },
  {
    "text": "unicorn provides a simple yet powerful",
    "start": "1410539",
    "end": "1412640"
  },
  {
    "text": "framework for managing diverse workloads",
    "start": "1412640",
    "end": "1414620"
  },
  {
    "text": "across a multi-tenant environment we",
    "start": "1414620",
    "end": "1417080"
  },
  {
    "text": "look forward to announcing this feature",
    "start": "1417080",
    "end": "1418520"
  },
  {
    "text": "as part of the upcoming unicorn 1.3",
    "start": "1418520",
    "end": "1420440"
  },
  {
    "text": "release which",
    "start": "1420440",
    "end": "1423340"
  },
  {
    "text": "no",
    "start": "1430100",
    "end": "1432580"
  },
  {
    "text": "so quickly an acknowledgment so Craig",
    "start": "1435080",
    "end": "1438740"
  },
  {
    "text": "and Wilfred are from the Unicorn",
    "start": "1438740",
    "end": "1440539"
  },
  {
    "text": "Community completed this whole design",
    "start": "1440539",
    "end": "1442100"
  },
  {
    "text": "and the development of the future and",
    "start": "1442100",
    "end": "1444140"
  },
  {
    "text": "this will be available as part of the",
    "start": "1444140",
    "end": "1445460"
  },
  {
    "text": "Unicorn 1.3 release which is due very",
    "start": "1445460",
    "end": "1448520"
  },
  {
    "text": "shortly",
    "start": "1448520",
    "end": "1450080"
  },
  {
    "text": "and join us and share your feedback",
    "start": "1450080",
    "end": "1452480"
  },
  {
    "text": "through the mailing list and also the",
    "start": "1452480",
    "end": "1454400"
  },
  {
    "text": "slack Channel we expect more suggestions",
    "start": "1454400",
    "end": "1457880"
  },
  {
    "text": "and thoughts are always welcome",
    "start": "1457880",
    "end": "1459919"
  },
  {
    "text": "so thanks again",
    "start": "1459919",
    "end": "1461780"
  },
  {
    "text": "will wait for some questions and answers",
    "start": "1461780",
    "end": "1466179"
  },
  {
    "text": "foreign",
    "start": "1467780",
    "end": "1470380"
  }
]