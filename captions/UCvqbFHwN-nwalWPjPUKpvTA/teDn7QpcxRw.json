[
  {
    "text": "okay so that's good this presentation started hello my name is sue Martin virgos and magic Whittle and today we'll",
    "start": "1469",
    "end": "9719"
  },
  {
    "text": "talk a little bit about how to scale and actually we have one additional",
    "start": "9719",
    "end": "16630"
  },
  {
    "text": "person who will help us on this talk at least at the very beginning and I guess this guy doesn't need an introduction",
    "start": "16630",
    "end": "23860"
  },
  {
    "text": "here everyone knows Bruce Lee so he wants a very nice sentence a wise man",
    "start": "23860",
    "end": "30309"
  },
  {
    "text": "can learn more from a foolish question that a fool can learn from a wise answer",
    "start": "30309",
    "end": "35550"
  },
  {
    "text": "you are on cube con and more importantly you're I will talk so you must be wise",
    "start": "35550",
    "end": "40899"
  },
  {
    "text": "so we will start with couple quest and there are various questions that people",
    "start": "40899",
    "end": "46570"
  },
  {
    "text": "ask in their life some of them are trivial like what should we eat for lunch some of they are turning your life",
    "start": "46570",
    "end": "53710"
  },
  {
    "text": "upside down like will you marry me and obviously there are a couple of foolish questions but today we will focus on a",
    "start": "53710",
    "end": "61390"
  },
  {
    "text": "question that is slightly different mainly how much resources do you need in",
    "start": "61390",
    "end": "66640"
  },
  {
    "text": "your cluster if you ask this question to application developers you will get",
    "start": "66640",
    "end": "72010"
  },
  {
    "text": "various answer ranging from I don't know or it has not been yet decided to a semi",
    "start": "72010",
    "end": "79119"
  },
  {
    "text": "random number like places 40 took CPUs which is probably much more than the application really needs sometimes if",
    "start": "79119",
    "end": "87280"
  },
  {
    "text": "you are lucky the developers actually did some tests at some version of the application based on some rough",
    "start": "87280",
    "end": "94479"
  },
  {
    "text": "impression of what the application usage may be if you are lucky this estimates may be quite accurate however more often",
    "start": "94479",
    "end": "102490"
  },
  {
    "text": "than not this estimates are lacking one most important factor the change in the",
    "start": "102490",
    "end": "110140"
  },
  {
    "text": "modern software engineering world the version change all the time continuous delivery pipeline pushes in new versions",
    "start": "110140",
    "end": "116560"
  },
  {
    "text": "over and over the new version might be either faster than the previous one or there might be some performance",
    "start": "116560",
    "end": "123159"
  },
  {
    "text": "regression which may not necessarily be caused by the test the traffic may change some real-world",
    "start": "123159",
    "end": "129509"
  },
  {
    "text": "events may cause a sudden inflow of requests newly launched feature may make",
    "start": "129509",
    "end": "135030"
  },
  {
    "text": "your application much more popular or miscommunication between development teams may result in the inappropriate",
    "start": "135030",
    "end": "142140"
  },
  {
    "text": "API usage and so on and so on and these changes may cause you a lot of problems",
    "start": "142140",
    "end": "148710"
  },
  {
    "text": "your application might crash or become unresponsive and drop same grief and a",
    "start": "148710",
    "end": "154320"
  },
  {
    "text": "serious embarrassment on youth not to mention financial implication for your company and your future personal career",
    "start": "154320",
    "end": "163130"
  },
  {
    "text": "you might have a superhero on your team someone with special powers like full",
    "start": "163130",
    "end": "169320"
  },
  {
    "text": "root access or unlimited budget on your cloud provider a friendly dev of spider-man from the neighborhood will",
    "start": "169320",
    "end": "176640"
  },
  {
    "text": "fix your resources and load problems he may save you once or twice but",
    "start": "176640",
    "end": "182090"
  },
  {
    "text": "superheroes may get tired of saving her but over and over also they want to have",
    "start": "182090",
    "end": "187620"
  },
  {
    "text": "a good night sleep personal life evenings and weekends of Duty vacation sick leave and you should",
    "start": "187620",
    "end": "194640"
  },
  {
    "text": "not strongly depend on them so you need a robot a robot that will",
    "start": "194640",
    "end": "201260"
  },
  {
    "text": "take care of your cluster and your application day and night without getting tired and with no personal life",
    "start": "201260",
    "end": "207230"
  },
  {
    "text": "a robot called outer scaling the mission of this robot will be to",
    "start": "207230",
    "end": "213060"
  },
  {
    "text": "automatically adjust resources to match the current needs but what does it actually mean the first goal of",
    "start": "213060",
    "end": "220200"
  },
  {
    "text": "auto-scaling is to save you from from this crashing application outages unhandled requests caused by increased",
    "start": "220200",
    "end": "226980"
  },
  {
    "text": "load or performance impacting changes the second goal of auto-scaling",
    "start": "226980",
    "end": "232680"
  },
  {
    "text": "is to save you money based on the first goal alone you could just provide an",
    "start": "232680",
    "end": "237959"
  },
  {
    "text": "insane amount of resources pallet and stuff and call it a day but obviously",
    "start": "237959",
    "end": "243810"
  },
  {
    "text": "you don't want to pay an insane amount of money you probably want to pay just",
    "start": "243810",
    "end": "249810"
  },
  {
    "text": "what is paper what is really needed so",
    "start": "249810",
    "end": "254970"
  },
  {
    "text": "the ultimate goal of auto-scaling is to automatically keep the right balance between what you pay and how much spare",
    "start": "254970",
    "end": "263550"
  },
  {
    "text": "capacity or resources you have in your cluster so let's go consult this problem",
    "start": "263550",
    "end": "269639"
  },
  {
    "text": "how to maintain the decent load in your application you can think about polls",
    "start": "269639",
    "end": "276030"
  },
  {
    "text": "and application as pipes there is some water traffic coming in for the pipe you",
    "start": "276030",
    "end": "282720"
  },
  {
    "text": "don't want to the pipe to explode and due to high pressure or B you",
    "start": "282720",
    "end": "287840"
  },
  {
    "text": "underutilized because it would mean a waste investment and as you can see here",
    "start": "287840",
    "end": "294060"
  },
  {
    "text": "there are matters with some god attached to the pipes there are some values on these matters",
    "start": "294060",
    "end": "301240"
  },
  {
    "text": "that were indicating that the load starts to be unsafe to the pot for example when it is using more CPU and/or",
    "start": "301240",
    "end": "309370"
  },
  {
    "text": "memory then it has initially requested if the loads go above the safe threshold",
    "start": "309370",
    "end": "316660"
  },
  {
    "text": "it might be beneficial to start a new pot lucky starting a new pot is much",
    "start": "316660",
    "end": "322870"
  },
  {
    "text": "easier than lying new pipes thanks to deployments or stateful sets getting yet another pot is more similar",
    "start": "322870",
    "end": "331030"
  },
  {
    "text": "to cooking a cookie cutting a cookie then rank a new pipe let's take a look",
    "start": "331030",
    "end": "340090"
  },
  {
    "text": "at some more concrete example let's imagine that the gouge say shows the",
    "start": "340090",
    "end": "345760"
  },
  {
    "text": "ratio between how much resources I put really uses and that and the pot here",
    "start": "345760",
    "end": "351520"
  },
  {
    "text": "has initially requested on this example we have four pots they are burning hot",
    "start": "351520",
    "end": "357160"
  },
  {
    "text": "they are almost out of their capacity should there be any traffic increase there might be not enough computing",
    "start": "357160",
    "end": "364480"
  },
  {
    "text": "power to handle it however if we add pot",
    "start": "364480",
    "end": "369580"
  },
  {
    "text": "today and the same traffic spread across five pots then the average per pot load",
    "start": "369580",
    "end": "374950"
  },
  {
    "text": "will obviously decrease leaving more space for the spikes in the future if",
    "start": "374950",
    "end": "381190"
  },
  {
    "text": "the situation is slightly different and the port load is let's say below 50%",
    "start": "381190",
    "end": "386490"
  },
  {
    "text": "meaning that more than half of the resources are wasted then it might be",
    "start": "386490",
    "end": "392860"
  },
  {
    "text": "actually beneficial to remove one or two of the pots and then the remaining part",
    "start": "392860",
    "end": "398530"
  },
  {
    "text": "will be handing study more traffic and the requested capacity will be better utilized",
    "start": "398530",
    "end": "405100"
  },
  {
    "text": "in general we want to specify a target not too big but not too small something",
    "start": "405100",
    "end": "411490"
  },
  {
    "text": "that we would be happy with then the autoscaler will try to add and remove replicas to move the load more towards",
    "start": "411490",
    "end": "419200"
  },
  {
    "text": "this target value and this is what horizontal pot",
    "start": "419200",
    "end": "426180"
  },
  {
    "text": "autoscaler in kubernetes does horizontal pot of a scalar is built-in took the core of kubernetes from quite a long",
    "start": "426180",
    "end": "432060"
  },
  {
    "text": "time it adjust the number of replicas to maintain the target load but what is",
    "start": "432060",
    "end": "439590"
  },
  {
    "text": "load exactly for a long time horizontal pot autoscaler understood the load as",
    "start": "439590",
    "end": "445260"
  },
  {
    "text": "duration between the actual CPU usage to end the requested capacity because",
    "start": "445260",
    "end": "450270"
  },
  {
    "text": "actually the underlying monitoring infrastructure allowed only this there",
    "start": "450270",
    "end": "456390"
  },
  {
    "text": "was a hipster which is now replaced by metric server that scraped basic metrics",
    "start": "456390",
    "end": "461640"
  },
  {
    "text": "like CPU and memory usage for all containers running inside of the kubernetes cluster and we created a",
    "start": "461640",
    "end": "469470"
  },
  {
    "text": "simple controller that talked to this hipster slashed metrics everything that obtained the utilization and based on",
    "start": "469470",
    "end": "476580"
  },
  {
    "text": "this utilization is scaled the deployments or something else up and down ok so we have the CP obey scale",
    "start": "476580",
    "end": "485100"
  },
  {
    "text": "however CPU utilization is not the only way to express the load for some people",
    "start": "485100",
    "end": "491430"
  },
  {
    "text": "the best metric expressing the load would be a request per second for others",
    "start": "491430",
    "end": "497190"
  },
  {
    "text": "something like queue size if they are running let's say batch processing workloads for others who would like to",
    "start": "497190",
    "end": "504150"
  },
  {
    "text": "have something more as a loss focused and the good metrics would be the",
    "start": "504150",
    "end": "509880"
  },
  {
    "text": "latency and for that reasons well some time ago we introduced custom metrics to horizontal path autoscaler with custom",
    "start": "509880",
    "end": "518039"
  },
  {
    "text": "metrics user are allowed to point horizontal quad autoscaler to some metrics stored in their monitoring",
    "start": "518040",
    "end": "524760"
  },
  {
    "text": "solution and scaled based on it on google kubernetes engine the metrics are I'm a beast artist and driver on some",
    "start": "524760",
    "end": "531330"
  },
  {
    "text": "other cloud provider or on Prem it might be Prometheus or something completely different",
    "start": "531330",
    "end": "537170"
  },
  {
    "text": "the pods or some other entity pushes the metrics to the monitoring solution and",
    "start": "537170",
    "end": "542500"
  },
  {
    "text": "then horizontal put out a report out a stellar controller against this matrix",
    "start": "542500",
    "end": "547550"
  },
  {
    "text": "for a dedicated adapter and based on the actual metric value it adjust the number of pots okay how to use it as I said",
    "start": "547550",
    "end": "557200"
  },
  {
    "text": "horizontal part of the scaler is controlled by an API object so to",
    "start": "557200",
    "end": "563779"
  },
  {
    "text": "configure it you need to create an object point it to the appropriate deployment replica set or something else",
    "start": "563779",
    "end": "571870"
  },
  {
    "text": "you need to come up with the right metrics type for your scaling so for",
    "start": "571870",
    "end": "577190"
  },
  {
    "text": "example CPU load or something more custom you need to express the target load for CPU utilization a good value",
    "start": "577190",
    "end": "584480"
  },
  {
    "text": "would be something between 70 and 80% you probably shouldn't go much higher",
    "start": "584480",
    "end": "589760"
  },
  {
    "text": "because then you will not have much space for spikes and any scale ups in",
    "start": "589760",
    "end": "596029"
  },
  {
    "text": "the future may be slowed down for the CPU load you might use cubes ETL",
    "start": "596029",
    "end": "602320"
  },
  {
    "text": "autoscale comment and it will create the authors HP object for you for custom",
    "start": "602320",
    "end": "608209"
  },
  {
    "text": "metrics you need to play with Yamal a bit when to use it horizontal pot autoscaler",
    "start": "608209",
    "end": "615630"
  },
  {
    "text": "is the best for stateless servings workloads some think like nginx front-end server",
    "start": "615630",
    "end": "620880"
  },
  {
    "text": "or a lightweight micro service something that starts reasonably fast and can be",
    "start": "620880",
    "end": "628980"
  },
  {
    "text": "removed and added at will you need also the right matrix to drive the scaling the matrix should be a open Gulch type",
    "start": "628980",
    "end": "636570"
  },
  {
    "text": "so stuff like counters that go always up are not not really ok HPI is not the",
    "start": "636570",
    "end": "645000"
  },
  {
    "text": "best suited for stuff that is stateful although with the appropriate care you it is possible to stay to scale stateful",
    "start": "645000",
    "end": "652260"
  },
  {
    "text": "sets with it I showed you one way of dealing with the load let's take a look at the other one",
    "start": "652260",
    "end": "659670"
  },
  {
    "text": "those of you who have kids are probably aware of this problem you are in the",
    "start": "659670",
    "end": "665050"
  },
  {
    "text": "constant process of buying new clothes new shoes new trousers new jacket and so",
    "start": "665050",
    "end": "670540"
  },
  {
    "text": "on for some reasons this clothes doesn't have a knob that would allow you to adjust the size as the kids grow and if",
    "start": "670540",
    "end": "679059"
  },
  {
    "text": "you don't act proactively one day at the worst possible moment the kid will say daddy I don't worry wear this it's too",
    "start": "679059",
    "end": "687220"
  },
  {
    "text": "tight and start crying if you try to put it on for the very last time and actually having small shoes for",
    "start": "687220",
    "end": "695920"
  },
  {
    "text": "small shoes by no means can be a substitute for the pair in the right size grown-ups are not much easier we",
    "start": "695920",
    "end": "703689"
  },
  {
    "text": "lose and what is unfortunately more common we gain weight making the previously bought clauses obsolete and",
    "start": "703689",
    "end": "711899"
  },
  {
    "text": "kubernetes we have similar situations application grow the containers are too",
    "start": "711899",
    "end": "717999"
  },
  {
    "text": "big or too small some workloads don't scale well horizontally and for this workload we",
    "start": "717999",
    "end": "724509"
  },
  {
    "text": "have vertical path autoscaler it adjusts container sizes based on the real world",
    "start": "724509",
    "end": "730629"
  },
  {
    "text": "usage let's take a look at this this case we have a pot that is constantly",
    "start": "730629",
    "end": "737100"
  },
  {
    "text": "using 95% of its resources it's not the safe situation if any traffic spice",
    "start": "737100",
    "end": "744040"
  },
  {
    "text": "comes there will be no space to handle it or the container might even crash a crash in this case the pot size should",
    "start": "744040",
    "end": "752529"
  },
  {
    "text": "be increased if this increase and for example the traffic stays in the same",
    "start": "752529",
    "end": "757720"
  },
  {
    "text": "place then it stays in 70% loss so there is a space for this bike so it's much",
    "start": "757720",
    "end": "765129"
  },
  {
    "text": "much safer situation vertical port autoscaler is simple there is a",
    "start": "765129",
    "end": "772480"
  },
  {
    "text": "recommender that provides spot size recommendation there is a bidet tur that checks whether the pots are under the",
    "start": "772480",
    "end": "778809"
  },
  {
    "text": "pots on the repay have good resources request and if some of the pots don't",
    "start": "778809",
    "end": "785799"
  },
  {
    "text": "have good resources updater is responsible for restarting them and once the pods are restarted",
    "start": "785799",
    "end": "792089"
  },
  {
    "text": "they are assigned the right request by admission plugins and vertical path",
    "start": "792089",
    "end": "798870"
  },
  {
    "text": "autoscaler can work in three modes the one is to assign recommendations at the",
    "start": "798870",
    "end": "804930"
  },
  {
    "text": "very beginning the one is like a full trust mode in which you give full",
    "start": "804930",
    "end": "810240"
  },
  {
    "text": "control over your deployment to the vertical path autoscaler or if you don't",
    "start": "810240",
    "end": "815790"
  },
  {
    "text": "want to trust vertical path autoscaler it can work in a dry run mode in which it provides you only with the",
    "start": "815790",
    "end": "822269"
  },
  {
    "text": "recommendation that you can apply or not apply on your own",
    "start": "822269",
    "end": "827269"
  },
  {
    "text": "how to use it vertical patatas color similarity to horizontal patatas color",
    "start": "827279",
    "end": "832709"
  },
  {
    "text": "is contiguous is controlled by a API server object but in this case we are",
    "start": "832709",
    "end": "840120"
  },
  {
    "text": "not built into the default API it's a custom resources the definition and if",
    "start": "840120",
    "end": "846029"
  },
  {
    "text": "you are creating a vpa object you need to select obviously a set of policy you want to scale using collaborator you",
    "start": "846029",
    "end": "852269"
  },
  {
    "text": "need to decide which mode so either any time full outer or dry run mode you need",
    "start": "852269",
    "end": "860129"
  },
  {
    "text": "also to specify boundaries in which VP should work like minimum and maximum size of the container and so on and so",
    "start": "860129",
    "end": "867600"
  },
  {
    "text": "on when to use it as I said VP is suitable in cases where horizontal pot",
    "start": "867600",
    "end": "872970"
  },
  {
    "text": "autoscaler is not an option so in cases when you need to have a fixed amount of",
    "start": "872970",
    "end": "879449"
  },
  {
    "text": "pots or the change you change the number of pots rarely for example to make sure",
    "start": "879449",
    "end": "886259"
  },
  {
    "text": "that your staple set always has the has enough memory VP is recommend in the",
    "start": "886259",
    "end": "893790"
  },
  {
    "text": "recommended only mode is used to investigate the right amount of resources that can be applied later",
    "start": "893790",
    "end": "899660"
  },
  {
    "text": "later in time okay so yeah as I said vertical patatas",
    "start": "899660",
    "end": "906100"
  },
  {
    "text": "killer is not a part of coke or kubernetes however it is developed in kubernetes repository and if you want to",
    "start": "906100",
    "end": "912370"
  },
  {
    "text": "learn more about it it's here so in kubernetes slash of the spill area on github",
    "start": "912370",
    "end": "918410"
  },
  {
    "text": "okay so everyone like spices good spices",
    "start": "918410",
    "end": "924050"
  },
  {
    "text": "however some really good spices don't always go well together can you mix",
    "start": "924050",
    "end": "929540"
  },
  {
    "text": "horizontal pot autoscaler and vertical pot autoscaler at the same time well not",
    "start": "929540",
    "end": "935600"
  },
  {
    "text": "really not yet and not always please notice that horizontal and vertical pot",
    "start": "935600",
    "end": "941390"
  },
  {
    "text": "autoscaler are trying to solve the exact same problem they keep the right balance between what the pot consume and what",
    "start": "941390",
    "end": "949460"
  },
  {
    "text": "the pot request so if you run HPA and we pay for managing scipio related stuff",
    "start": "949460",
    "end": "955970"
  },
  {
    "text": "you may end up with too big scale up our to big scale downs combining custom metric base HPA and VPI",
    "start": "955970",
    "end": "963650"
  },
  {
    "text": "is a bit safer however some extra care and consideration needs to be applied hopefully we'll have a better story",
    "start": "963650",
    "end": "971150"
  },
  {
    "text": "about this in the future ok so imagine",
    "start": "971150",
    "end": "978620"
  },
  {
    "text": "you have your perfectly configured pot out of Skylink already and there is a",
    "start": "978620",
    "end": "984380"
  },
  {
    "text": "big traffic spike in your cluster and HPA reacts to it by maybe adding some",
    "start": "984380",
    "end": "990650"
  },
  {
    "text": "more replicas of your application or maybe VPA makes your existing crap recast larger the problem is all that",
    "start": "990650",
    "end": "997520"
  },
  {
    "text": "effort is basically wasted if you don't have space in your closet editor and those new pots i mean i guess you can",
    "start": "997520",
    "end": "1004060"
  },
  {
    "text": "have monitoring can just add mod VMs but that requires some manual intervention",
    "start": "1004060",
    "end": "1009370"
  },
  {
    "text": "and it's really not very fast or you could approach this problem differently over-provision and just always have",
    "start": "1009370",
    "end": "1016180"
  },
  {
    "text": "enough capacity in your cluster to handle any possible spike in that case",
    "start": "1016180",
    "end": "1021850"
  },
  {
    "text": "the problem is you're basically most of your resources are going to be idle most",
    "start": "1021850",
    "end": "1028180"
  },
  {
    "text": "of the time so you're not very cost efficient and modern cloud providers",
    "start": "1028180",
    "end": "1033880"
  },
  {
    "text": "have a lot of capacity available on demand whenever you need it so it's it",
    "start": "1033880",
    "end": "1040300"
  },
  {
    "text": "would be pretty cool to be able to just use that and buy as much VMs as you need",
    "start": "1040300",
    "end": "1046688"
  },
  {
    "text": "when you need them and just stop using them when you no longer need them to save money",
    "start": "1046689",
    "end": "1051970"
  },
  {
    "text": "and that's exactly what no doubt of scaling does so let's see how that works",
    "start": "1051970",
    "end": "1060250"
  },
  {
    "text": "basically what we're trying to do is to make sure we always have the right amount the right number of nodes in our",
    "start": "1060250",
    "end": "1066730"
  },
  {
    "text": "class dead and to talk about no-doubter scaling we have to start with scheduling",
    "start": "1066730",
    "end": "1071950"
  },
  {
    "text": "since this is the inter talk I'll just sort of do a very high-level basic",
    "start": "1071950",
    "end": "1077140"
  },
  {
    "text": "overview so basically kubernetes schedule is the component that puts pots on the nodes",
    "start": "1077140",
    "end": "1084429"
  },
  {
    "text": "and each pot has a size it's basically how much resources it requests so maybe",
    "start": "1084429",
    "end": "1090909"
  },
  {
    "text": "a small pot can only request a fraction of a single CPU call and maybe a very",
    "start": "1090909",
    "end": "1096580"
  },
  {
    "text": "large pot can request multiple lines on 25 to 50 CPUs and the same goes for",
    "start": "1096580",
    "end": "1101830"
  },
  {
    "text": "memory GPUs and other resources and the scheduler will only put a port on a node",
    "start": "1101830",
    "end": "1107860"
  },
  {
    "text": "which actually have enough resources for the pot to learn so let's consider a",
    "start": "1107860",
    "end": "1114280"
  },
  {
    "text": "simple example we have four nodes and each of them is already running a pod and we have a new green pod which has",
    "start": "1114280",
    "end": "1122440"
  },
  {
    "text": "just been created and I mean just visually we can see it will no not fit with those large pots so what the",
    "start": "1122440",
    "end": "1129400"
  },
  {
    "text": "scheduler would do I see to just put it on the single node that actually has enough space for this pot to run",
    "start": "1129400",
    "end": "1136450"
  },
  {
    "text": "now imagine the same scenario but slightly changed our yellow pot is now",
    "start": "1136450",
    "end": "1141669"
  },
  {
    "text": "also very big and there is just not a single node with enough capacity to run our new pot what will happen is",
    "start": "1141669",
    "end": "1148630"
  },
  {
    "text": "basically scheduler refuses to schedule this pot it will not start running it will be pending forever so what we would",
    "start": "1148630",
    "end": "1155980"
  },
  {
    "text": "like I will know how to scale to do in this case is just add a new node so",
    "start": "1155980",
    "end": "1161530"
  },
  {
    "text": "there is enough capacity to run all our world clothes different scenario would",
    "start": "1161530",
    "end": "1166870"
  },
  {
    "text": "be this we already have five nodes and each of them around some pots but some",
    "start": "1166870",
    "end": "1173380"
  },
  {
    "text": "of them actually only run very small pots and have some actually quite a lot",
    "start": "1173380",
    "end": "1178750"
  },
  {
    "text": "of spare capacity so what we could do is if we move the green pod to the yellow",
    "start": "1178750",
    "end": "1184419"
  },
  {
    "text": "port we wouldn't actually need this extra the last note we can done the same set of",
    "start": "1184419",
    "end": "1190540"
  },
  {
    "text": "world clothes the same way except using Leslie services so with a saving money here and that's basically what I will no",
    "start": "1190540",
    "end": "1199180"
  },
  {
    "text": "doubt a scale called class delta scaler does it up selves the ports in the",
    "start": "1199180",
    "end": "1204640"
  },
  {
    "text": "cluster and if it sees any posts that are pending and it was that cannot be scheduled it will add more notes so",
    "start": "1204640",
    "end": "1210400"
  },
  {
    "text": "those ports can be scheduled and it also monitors all the existing nodes and if",
    "start": "1210400",
    "end": "1215920"
  },
  {
    "text": "it finds a note that is not very highly utilized and can be removed without",
    "start": "1215920",
    "end": "1222900"
  },
  {
    "text": "disturbing any ports permanently it will remove this note and that's sort of a",
    "start": "1222900",
    "end": "1230080"
  },
  {
    "text": "very high-level overview of how cross Delta scale works and the important",
    "start": "1230080",
    "end": "1236170"
  },
  {
    "text": "difference between class Delta scale and pod autoscaler is pull out of scalars is what they look",
    "start": "1236170",
    "end": "1242320"
  },
  {
    "text": "at so h PA and V P a look at actual usage metrics so basically how much your",
    "start": "1242320",
    "end": "1248140"
  },
  {
    "text": "CPU actually uses and how that relates to what you would like it to use across",
    "start": "1248140",
    "end": "1253720"
  },
  {
    "text": "the autoscaler on the other hand only cares about the stuff that component is scheduler CAD cares about it won't help",
    "start": "1253720",
    "end": "1259690"
  },
  {
    "text": "you if you actually you'll pull the requests way way less resources than it",
    "start": "1259690",
    "end": "1265540"
  },
  {
    "text": "needs to and it just crashes because you'll note doesn't have enough resources all it does is it makes sure",
    "start": "1265540",
    "end": "1271150"
  },
  {
    "text": "that every pot can be scheduled and that includes both resource requests and",
    "start": "1271150",
    "end": "1277210"
  },
  {
    "text": "motor scheduling more advanced kubernetes scheduling mechanisms so for the best effect it's good to use both",
    "start": "1277210",
    "end": "1285120"
  },
  {
    "text": "pod outer scaling and crust out or scaling they are designed to complement each other",
    "start": "1285120",
    "end": "1292020"
  },
  {
    "text": "okay so how to use cross Delta Scylla well I mean contrary to put out of",
    "start": "1292809",
    "end": "1298820"
  },
  {
    "text": "scalars its it lives in between a kubernetes cluster and cloud provider so",
    "start": "1298820",
    "end": "1307190"
  },
  {
    "text": "basically every cloud needs a specific integration with cluster Delta scalar and currently supported clouds Google",
    "start": "1307190",
    "end": "1315230"
  },
  {
    "text": "cloud platform AWS agile and recently added Alibaba cloud and unfortunately",
    "start": "1315230",
    "end": "1323149"
  },
  {
    "text": "the configuration is slightly different on each of those platforms on GK is just a simple assigning a single comment in",
    "start": "1323149",
    "end": "1329840"
  },
  {
    "text": "other crowds I believe you need to run your own cross the autoscaler deployment and all the details are documented in",
    "start": "1329840",
    "end": "1336860"
  },
  {
    "text": "our repo so that's the best place to start if you want to run it",
    "start": "1336860",
    "end": "1342070"
  },
  {
    "text": "okay so now that we know how to learn class without the scaler the question is when to run it and we",
    "start": "1342070",
    "end": "1347450"
  },
  {
    "text": "like to think that the answer is basically almost always of course you",
    "start": "1347450",
    "end": "1352610"
  },
  {
    "text": "can alternate if you're running on that crowd divider that is not yet supported and maybe if you somebody like basically",
    "start": "1352610",
    "end": "1358760"
  },
  {
    "text": "complex custom scheduling called something like that it may be tricky but",
    "start": "1358760",
    "end": "1365150"
  },
  {
    "text": "otherwise there is really no reason not and that's about it from no Delta",
    "start": "1365150",
    "end": "1371750"
  },
  {
    "text": "scaling I'd like to proceed to the sort of status report part of our talk",
    "start": "1371750",
    "end": "1377830"
  },
  {
    "text": "basically where are we with all of those components so Christ autoscaler is generally available and have been in GA",
    "start": "1377830",
    "end": "1385040"
  },
  {
    "text": "for about a year now so it's a pretty major and stable product HPA based on",
    "start": "1385040",
    "end": "1394420"
  },
  {
    "text": "cpu utilization has been in GA for even longer and HP a with custom metrics is",
    "start": "1394420",
    "end": "1401929"
  },
  {
    "text": "currently in beta finally VP a is in alpha but we're about to graduate it to beta so it should be",
    "start": "1401929",
    "end": "1409130"
  },
  {
    "text": "in beta release on and what's the progress or what what are we working on",
    "start": "1409130",
    "end": "1415340"
  },
  {
    "text": "right now in improving those features well there have been actually quite a bit of effort recently on HPA we've",
    "start": "1415340",
    "end": "1423020"
  },
  {
    "text": "improved the algorithm a lot I don't know if you see previously but it used sort of a blackout window where it would",
    "start": "1423020",
    "end": "1429350"
  },
  {
    "text": "not scale shortly after a scalable scale downs of the metrics can stabilize so",
    "start": "1429350",
    "end": "1435559"
  },
  {
    "text": "the new are gonna actually handle it without this blackout so it should react faster and also the scale down should be",
    "start": "1435559",
    "end": "1442070"
  },
  {
    "text": "more stable and safer and we're also planning to add an API to give you more",
    "start": "1442070",
    "end": "1448400"
  },
  {
    "text": "control over basically scaling speed and scaling parameters finally they were in",
    "start": "1448400",
    "end": "1454220"
  },
  {
    "text": "I believe kubernetes 112 some changes to the HPA API that allows you more control",
    "start": "1454220",
    "end": "1460910"
  },
  {
    "text": "over exactly which metric is used for auto scaling on the VPI front we",
    "start": "1460910",
    "end": "1466580"
  },
  {
    "text": "received a lot of feedback from our alpha users so if any of you use it in alpha thank you and we've basically",
    "start": "1466580",
    "end": "1472970"
  },
  {
    "text": "managed to fix a lot of buck and approve the and approved instability so we believe",
    "start": "1472970",
    "end": "1478600"
  },
  {
    "text": "we ready almost ready for beta finally on the crust out of Scylla will mostly",
    "start": "1478600",
    "end": "1485380"
  },
  {
    "text": "just maintaining it we have done a lot of work to improve the performance recently so we hope you'll be able to",
    "start": "1485380",
    "end": "1492220"
  },
  {
    "text": "use it on larger clusters than before and also there is an ongoing effort to",
    "start": "1492220",
    "end": "1497500"
  },
  {
    "text": "integrate cluster to scaler with cluster API which is a separate kubernetes",
    "start": "1497500",
    "end": "1502600"
  },
  {
    "text": "project it's basically an abstraction layer on top of cloud provider and we hope that once you integrate it with",
    "start": "1502600",
    "end": "1509590"
  },
  {
    "text": "cross Delta Scylla you will be able to use it on more clouds without having to explicitly implement support incrusted",
    "start": "1509590",
    "end": "1516400"
  },
  {
    "text": "autoscaler for each of them so we hope it will get much more palatable what",
    "start": "1516400",
    "end": "1523929"
  },
  {
    "text": "else are we doing in our seek order a few sort of system internal components",
    "start": "1523929",
    "end": "1530950"
  },
  {
    "text": "that internal outer Skyler's used by things like matrix or hips tell we",
    "start": "1530950",
    "end": "1538390"
  },
  {
    "text": "mostly just maintaining those and ideally we would like to replace them with HP and VP a but it may take a while",
    "start": "1538390",
    "end": "1546750"
  },
  {
    "text": "so if you want to just use out of scaling features ask us about anything",
    "start": "1546750",
    "end": "1552100"
  },
  {
    "text": "contribute something to the auto scaling space in kubernetes we have Sigma ting",
    "start": "1552100",
    "end": "1557770"
  },
  {
    "text": "each Monday at 4:00 p.m. Central European Time that's the zoom link and",
    "start": "1557770",
    "end": "1565179"
  },
  {
    "text": "we also have a channel on the kubernetes slack and a lot of our most active",
    "start": "1565179",
    "end": "1573130"
  },
  {
    "text": "contributors are quite active on this channel so that's also quite a good place to ask us any questions of discuss",
    "start": "1573130",
    "end": "1580270"
  },
  {
    "text": "any features you'd like finally most of our stuff lives in this repository so",
    "start": "1580270",
    "end": "1588130"
  },
  {
    "text": "that's a good place to look at the code open any issues or just the documentation the only exception is HPA",
    "start": "1588130",
    "end": "1595630"
  },
  {
    "text": "which actually lives in the main kubernetes kubernetes repo and the very",
    "start": "1595630",
    "end": "1601990"
  },
  {
    "text": "last thing i want to mention is other auto-scaling talks on this cube con so",
    "start": "1601990",
    "end": "1607240"
  },
  {
    "text": "tomorrow at half past eleven me and machine will do seek out the scaling deep-dive well we'll talk more",
    "start": "1607240",
    "end": "1614500"
  },
  {
    "text": "about vpa and cross the autoscaler sort of in more detail talk about more advanced use cases and how it works",
    "start": "1614500",
    "end": "1620380"
  },
  {
    "text": "internally and i was a friend alexander i will have a talk tomorrow at 5:00",
    "start": "1620380",
    "end": "1625720"
  },
  {
    "text": "Pacific discussing how to get cross the autoscaler to work on other clouds that have not yet supported and basically",
    "start": "1625720",
    "end": "1632320"
  },
  {
    "text": "what's involved with this and that's it from us thank you very much if you have",
    "start": "1632320",
    "end": "1637540"
  },
  {
    "text": "any questions",
    "start": "1637540",
    "end": "1640170"
  },
  {
    "text": "we're using class or scalar we need to cite our utilization such as 50% to",
    "start": "1645640",
    "end": "1656780"
  },
  {
    "text": "skill town a utilization why do old when",
    "start": "1656780",
    "end": "1673160"
  },
  {
    "text": "autoscaler starts cause the drink noses I needed for example and note that",
    "start": "1673160",
    "end": "1679090"
  },
  {
    "text": "request that the pot requested in 70% it's quite useful note and should yes",
    "start": "1679090",
    "end": "1685850"
  },
  {
    "text": "but only when utilization value is not enough because maybe I have",
    "start": "1685850",
    "end": "1691130"
  },
  {
    "text": "mutti all skating group different screen group is for different use case y is for",
    "start": "1691130",
    "end": "1698570"
  },
  {
    "text": "big data table is for online work loss but maybe they have different utilization value per current we we can",
    "start": "1698570",
    "end": "1707150"
  },
  {
    "text": "only decide what and why is for CPU GPU memory and odd metrics I think maybe we",
    "start": "1707150",
    "end": "1714950"
  },
  {
    "text": "should have different utilization module and for different I was getting group so",
    "start": "1714950",
    "end": "1726080"
  },
  {
    "text": "if you need please please send code we may do it by ourself however it may take",
    "start": "1726080",
    "end": "1733100"
  },
  {
    "text": "a while anyway also the all the class or the scalar code is in public so if you",
    "start": "1733100",
    "end": "1740750"
  },
  {
    "text": "think that something extra is needed or there is a use case that we didn't fought about please come to our meeting",
    "start": "1740750",
    "end": "1748580"
  },
  {
    "text": "course and as PR or file an issue and will gladly accept any contribution in that area",
    "start": "1748580",
    "end": "1755679"
  },
  {
    "text": "you is there a plan to like support",
    "start": "1759470",
    "end": "1767330"
  },
  {
    "text": "prometheus custom metrics natively I mean right now it you would need the adapter be a generic as possible so we",
    "start": "1767330",
    "end": "1780660"
  },
  {
    "text": "have a separate API to get a matrix that is independent of any mentoring solution",
    "start": "1780660",
    "end": "1787500"
  },
  {
    "text": "that is on the market so we don't want to bless any monitoring social for",
    "start": "1787500",
    "end": "1794789"
  },
  {
    "text": "example make Prometheus the only sub natively support associate so all matrix",
    "start": "1794789",
    "end": "1800850"
  },
  {
    "text": "solutions are kind of considered equal and all of them probably will require",
    "start": "1800850",
    "end": "1805970"
  },
  {
    "text": "some kind of adapter which is relatively lightweight so it shouldn't be like a great problem unless use problem is let",
    "start": "1805970",
    "end": "1815820"
  },
  {
    "text": "me hear your feedback on ok I just thought maybe it easier to",
    "start": "1815820",
    "end": "1821520"
  },
  {
    "text": "boots it you can just say get get metrics from permeated yes but there are",
    "start": "1821520",
    "end": "1827730"
  },
  {
    "text": "other winter exposure on the market so if we blessed prometheus then guys from",
    "start": "1827730",
    "end": "1835440"
  },
  {
    "text": "data dock would also like to have the same level of support and obviously our company will ask us to do the same for",
    "start": "1835440",
    "end": "1842279"
  },
  {
    "text": "star driver and we will be originally supporting the whole range of monitoring",
    "start": "1842279",
    "end": "1847409"
  },
  {
    "text": "solution in the core of kubernetes which we don't want please remember that HPA sits in the",
    "start": "1847409",
    "end": "1853850"
  },
  {
    "text": "main controller manager so plug in there any libraries that are specific to a",
    "start": "1853850",
    "end": "1861659"
  },
  {
    "text": "particular monitoring solution may not be well as well the reason",
    "start": "1861659",
    "end": "1868900"
  },
  {
    "text": "thank you I would also add to that that the different monitoring systems have",
    "start": "1868900",
    "end": "1875590"
  },
  {
    "text": "very different way of specifying time series in the database so it's actually",
    "start": "1875590",
    "end": "1882670"
  },
  {
    "text": "difficult to have an API that works for everything and it's not very general",
    "start": "1882670",
    "end": "1888450"
  },
  {
    "text": "we may have some situation data we know that in the future we have some activity",
    "start": "1891110",
    "end": "1897120"
  },
  {
    "text": "and then we know like maybe tomorrow at the 10:00 we have some requests pi so if",
    "start": "1897120",
    "end": "1903509"
  },
  {
    "text": "I currents time enabled I'll just butt autoscaler",
    "start": "1903509",
    "end": "1908880"
  },
  {
    "text": "and and we haven't heard so many requests and at hours go down my",
    "start": "1908880",
    "end": "1914960"
  },
  {
    "text": "resource so how can how can I prevent this maybe well I don't I need to",
    "start": "1914960",
    "end": "1921450"
  },
  {
    "text": "prepare for tomorrow that there will be a spike the spike over very high and autoscaler were not skill my resource",
    "start": "1921450",
    "end": "1930240"
  },
  {
    "text": "immediately you need to do at this",
    "start": "1930240",
    "end": "1937169"
  },
  {
    "text": "moment by yourself so either you fill up your motor spinning groups whatever you not group",
    "start": "1937169",
    "end": "1944460"
  },
  {
    "text": "equivalent you use on your cloud or you can mark your notes as unremovable and",
    "start": "1944460",
    "end": "1950549"
  },
  {
    "text": "we then cluster autoscaler will not touch them we don't yet have an",
    "start": "1950549",
    "end": "1955610"
  },
  {
    "text": "integration of any of our two scalars with calendar so you cannot say that I",
    "start": "1955610",
    "end": "1960870"
  },
  {
    "text": "don't know at 1:00 p.m. on Friday I need more capacity right now it's not",
    "start": "1960870",
    "end": "1966600"
  },
  {
    "text": "supported we hear this request from the user from time to time so maybe in the future there will be at this moment we",
    "start": "1966600",
    "end": "1973139"
  },
  {
    "text": "try to focus on some more basic building blocks okay definitely it's valid use case and",
    "start": "1973139",
    "end": "1978899"
  },
  {
    "text": "unfortunately at this moment you need to solve a little bit on your own",
    "start": "1978899",
    "end": "1984980"
  },
  {
    "text": "any more questions welcome to Shanghai and this year for HP",
    "start": "1988710",
    "end": "1996629"
  },
  {
    "text": "and I my team is running the companies on top of it a sec ETS okay and you",
    "start": "1996629",
    "end": "2003559"
  },
  {
    "text": "can't use the cloud formatting to manage the nose and in a scale I was killing",
    "start": "2003559",
    "end": "2008779"
  },
  {
    "text": "such crime things so my question is if we use this cluster autoscaler so is",
    "start": "2008779",
    "end": "2016970"
  },
  {
    "text": "there any specific value we can be added on top of you know you can see moment",
    "start": "2016970",
    "end": "2023600"
  },
  {
    "text": "[Music]",
    "start": "2023600",
    "end": "2029829"
  },
  {
    "text": "however there are some people who support the support of providers please",
    "start": "2031600",
    "end": "2041659"
  },
  {
    "text": "find any issue and there will be the best person to answer your cloud provider a specific question sorry okay",
    "start": "2041659",
    "end": "2049898"
  },
  {
    "text": "okay okay you",
    "start": "2049899",
    "end": "2055160"
  },
  {
    "text": "okay I guess that will be it if you have any more question you can catch us in the lobby and thank you thank you for",
    "start": "2055589",
    "end": "2063449"
  },
  {
    "text": "joining us today and hopefully we'll see you tomorrow on our deep dive thank you",
    "start": "2063449",
    "end": "2072799"
  }
]