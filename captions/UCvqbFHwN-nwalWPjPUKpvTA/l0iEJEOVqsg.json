[
  {
    "text": "okay so welcome to my talk about making",
    "start": "280",
    "end": "2520"
  },
  {
    "text": "your Kafka cluster production ready my",
    "start": "2520",
    "end": "5359"
  },
  {
    "text": "name is yob Schulz I work as engineer at",
    "start": "5359",
    "end": "7399"
  },
  {
    "text": "redhead and I'm also one of the",
    "start": "7399",
    "end": "9320"
  },
  {
    "text": "maintainers of the strey project which",
    "start": "9320",
    "end": "12719"
  },
  {
    "text": "is all about running Apachi Kafka on",
    "start": "12719",
    "end": "15680"
  },
  {
    "text": "kubernetes and of course in my talk the",
    "start": "15680",
    "end": "19800"
  },
  {
    "text": "best way you can do afterwards to run",
    "start": "19800",
    "end": "22039"
  },
  {
    "text": "your kfka clustering production is using",
    "start": "22039",
    "end": "23880"
  },
  {
    "text": "stmy but the things I will be talking",
    "start": "23880",
    "end": "26199"
  },
  {
    "text": "about they are actually applicable to",
    "start": "26199",
    "end": "28199"
  },
  {
    "text": "other operators or even if you use chart",
    "start": "28199",
    "end": "30480"
  },
  {
    "text": "or some self-made",
    "start": "30480",
    "end": "32759"
  },
  {
    "text": "deployment now who has ever seen this",
    "start": "32760",
    "end": "36480"
  },
  {
    "text": "animal this is actually a Kafka monster",
    "start": "36480",
    "end": "39040"
  },
  {
    "text": "and if you look it into the eyes you",
    "start": "39040",
    "end": "41079"
  },
  {
    "text": "will see that all it has in its mind is",
    "start": "41079",
    "end": "43200"
  },
  {
    "text": "eating your Kafka clusters that are not",
    "start": "43200",
    "end": "45440"
  },
  {
    "text": "production ready The Only Exception is",
    "start": "45440",
    "end": "48039"
  },
  {
    "text": "Sundays because on Sunday it eats red",
    "start": "48039",
    "end": "50480"
  },
  {
    "text": "pandas for",
    "start": "50480",
    "end": "52800"
  },
  {
    "text": "lunch now unfortunately in the Kafka",
    "start": "52800",
    "end": "55800"
  },
  {
    "text": "Community I see quite often that people",
    "start": "55800",
    "end": "58440"
  },
  {
    "text": "get some operator get some Helm chart",
    "start": "58440",
    "end": "60920"
  },
  {
    "text": "get some simple example deploy the Kafka",
    "start": "60920",
    "end": "63559"
  },
  {
    "text": "cluster and hoay it's up and running",
    "start": "63559",
    "end": "65799"
  },
  {
    "text": "it's sending the messages so let's move",
    "start": "65799",
    "end": "67920"
  },
  {
    "text": "to production and as a result often the",
    "start": "67920",
    "end": "71720"
  },
  {
    "text": "Clusters are not really production ready",
    "start": "71720",
    "end": "74960"
  },
  {
    "text": "and it's just asking for issues similar",
    "start": "74960",
    "end": "77799"
  },
  {
    "text": "issue is that users sometimes start with",
    "start": "77799",
    "end": "79799"
  },
  {
    "text": "some simple use cases like just deliver",
    "start": "79799",
    "end": "83000"
  },
  {
    "text": "some metrics or locks where they don't",
    "start": "83000",
    "end": "85280"
  },
  {
    "text": "care that much about reliability",
    "start": "85280",
    "end": "87600"
  },
  {
    "text": "availability and then suddenly without",
    "start": "87600",
    "end": "90000"
  },
  {
    "text": "really any change new projects are on",
    "start": "90000",
    "end": "92119"
  },
  {
    "text": "board it and now they are using it for",
    "start": "92119",
    "end": "94360"
  },
  {
    "text": "banking transactions and customer data",
    "start": "94360",
    "end": "97079"
  },
  {
    "text": "and they don't have any thoughts about",
    "start": "97079",
    "end": "100240"
  },
  {
    "text": "being ready so unfortunately it's quite",
    "start": "100240",
    "end": "102600"
  },
  {
    "text": "common and then this animal lives in",
    "start": "102600",
    "end": "104560"
  },
  {
    "text": "your kubernetes cluster and takes your",
    "start": "104560",
    "end": "106399"
  },
  {
    "text": "Kafka cluster down so what can you do so",
    "start": "106399",
    "end": "109799"
  },
  {
    "text": "that it doesn't happen and so that this",
    "start": "109799",
    "end": "111520"
  },
  {
    "text": "animal doesn't eat it first you should",
    "start": "111520",
    "end": "115320"
  },
  {
    "text": "think a bit about",
    "start": "115320",
    "end": "117399"
  },
  {
    "text": "infrastructure now obviously there are",
    "start": "117399",
    "end": "120159"
  },
  {
    "text": "different kinds of kafa clusters some",
    "start": "120159",
    "end": "122079"
  },
  {
    "text": "are small some are big but usually they",
    "start": "122079",
    "end": "124479"
  },
  {
    "text": "have something in common they can use",
    "start": "124479",
    "end": "126520"
  },
  {
    "text": "quite a lot of resources and it's",
    "start": "126520",
    "end": "129319"
  },
  {
    "text": "networking resources in the first place",
    "start": "129319",
    "end": "131239"
  },
  {
    "text": "because it's not just the data which you",
    "start": "131239",
    "end": "132680"
  },
  {
    "text": "are sending to the Kafka cluster from",
    "start": "132680",
    "end": "135000"
  },
  {
    "text": "The Producers but there's also the",
    "start": "135000",
    "end": "137239"
  },
  {
    "text": "consumers which are consuming this data",
    "start": "137239",
    "end": "139280"
  },
  {
    "text": "there's the replication between the",
    "start": "139280",
    "end": "140800"
  },
  {
    "text": "Brokers so it kind of adds up and",
    "start": "140800",
    "end": "143160"
  },
  {
    "text": "multiplies and it can create quite",
    "start": "143160",
    "end": "145000"
  },
  {
    "text": "substantial Network load so you should",
    "start": "145000",
    "end": "147599"
  },
  {
    "text": "make sure that your network is ready",
    "start": "147599",
    "end": "150319"
  },
  {
    "text": "the next thing is storage Kafka doesn't",
    "start": "150319",
    "end": "154400"
  },
  {
    "text": "work well with things such as NFS but in",
    "start": "154400",
    "end": "157000"
  },
  {
    "text": "general it works quite well with most",
    "start": "157000",
    "end": "159959"
  },
  {
    "text": "types of block storage it even can work",
    "start": "159959",
    "end": "163200"
  },
  {
    "text": "with what's called in Kafka jbot storage",
    "start": "163200",
    "end": "165120"
  },
  {
    "text": "just a bunch of diss so you can just",
    "start": "165120",
    "end": "167200"
  },
  {
    "text": "take multiple discs and use them in a",
    "start": "167200",
    "end": "169040"
  },
  {
    "text": "single broker to kind of increase the",
    "start": "169040",
    "end": "171360"
  },
  {
    "text": "capacity or what's great especially if",
    "start": "171360",
    "end": "174159"
  },
  {
    "text": "you are running on premise and don't",
    "start": "174159",
    "end": "175560"
  },
  {
    "text": "have some super expensive storage",
    "start": "175560",
    "end": "177360"
  },
  {
    "text": "Appliance you can also use local",
    "start": "177360",
    "end": "179760"
  },
  {
    "text": "resistant volumes with it just keep in",
    "start": "179760",
    "end": "182400"
  },
  {
    "text": "mind that all these methods they don't",
    "start": "182400",
    "end": "184519"
  },
  {
    "text": "have only the benefits they have also",
    "start": "184519",
    "end": "186280"
  },
  {
    "text": "some some negative side some issues",
    "start": "186280",
    "end": "188959"
  },
  {
    "text": "which you should be aware of and uh make",
    "start": "188959",
    "end": "191959"
  },
  {
    "text": "the choice carefully the next thing to",
    "start": "191959",
    "end": "195159"
  },
  {
    "text": "do is you should configure your resource",
    "start": "195159",
    "end": "198040"
  },
  {
    "text": "requests and limits and that's not",
    "start": "198040",
    "end": "200000"
  },
  {
    "text": "really just a Kafka thing or a strey",
    "start": "200000",
    "end": "202000"
  },
  {
    "text": "thing you should actually do it for",
    "start": "202000",
    "end": "203560"
  },
  {
    "text": "every application you Deploy on your",
    "start": "203560",
    "end": "205400"
  },
  {
    "text": "cluster but with Kafka some of these",
    "start": "205400",
    "end": "208640"
  },
  {
    "text": "things are a bit more",
    "start": "208640",
    "end": "210280"
  },
  {
    "text": "special",
    "start": "210280",
    "end": "211920"
  },
  {
    "text": "so uh one thing is that uh the",
    "start": "211920",
    "end": "218439"
  },
  {
    "text": "memory is because it's Java application",
    "start": "219360",
    "end": "221920"
  },
  {
    "text": "it has different parts so when you talk",
    "start": "221920",
    "end": "225159"
  },
  {
    "text": "about Java application the first thing",
    "start": "225159",
    "end": "227239"
  },
  {
    "text": "which comes to people's mind is Heap",
    "start": "227239",
    "end": "229879"
  },
  {
    "text": "memory but the reality is that the Java",
    "start": "229879",
    "end": "232560"
  },
  {
    "text": "Heap memory is just one part of the",
    "start": "232560",
    "end": "234439"
  },
  {
    "text": "whole Java application memory so you",
    "start": "234439",
    "end": "237200"
  },
  {
    "text": "need to be careful about this because if",
    "start": "237200",
    "end": "239000"
  },
  {
    "text": "you give a Java process one gig of",
    "start": "239000",
    "end": "241400"
  },
  {
    "text": "memory then you can't tell it that the",
    "start": "241400",
    "end": "243959"
  },
  {
    "text": "Heap size should be 1 gbyte because",
    "start": "243959",
    "end": "245879"
  },
  {
    "text": "there will be other things as well so",
    "start": "245879",
    "end": "248040"
  },
  {
    "text": "you should be careful about that but",
    "start": "248040",
    "end": "251000"
  },
  {
    "text": "Kafka also relies quite a lot on the dis",
    "start": "251000",
    "end": "253879"
  },
  {
    "text": "page cach that means that when the",
    "start": "253879",
    "end": "256440"
  },
  {
    "text": "producers are sending the data and these",
    "start": "256440",
    "end": "258239"
  },
  {
    "text": "data are written to the diss they stay",
    "start": "258239",
    "end": "260359"
  },
  {
    "text": "for some time when there's free memory",
    "start": "260359",
    "end": "262320"
  },
  {
    "text": "for that in the disk page cach",
    "start": "262320",
    "end": "264199"
  },
  {
    "text": "maintained by the operating system and",
    "start": "264199",
    "end": "266479"
  },
  {
    "text": "when the consumers consume the data",
    "start": "266479",
    "end": "268320"
  },
  {
    "text": "which were just recently proded used the",
    "start": "268320",
    "end": "270440"
  },
  {
    "text": "Brokers don't really need to read them",
    "start": "270440",
    "end": "272320"
  },
  {
    "text": "from the diss they just go to this cach",
    "start": "272320",
    "end": "274680"
  },
  {
    "text": "and grab them from the cach so that",
    "start": "274680",
    "end": "276280"
  },
  {
    "text": "makes things much faster so when",
    "start": "276280",
    "end": "278680"
  },
  {
    "text": "planning for the memory you should keep",
    "start": "278680",
    "end": "280800"
  },
  {
    "text": "in mind to leave some space for this",
    "start": "280800",
    "end": "283479"
  },
  {
    "text": "cach as well now the important part is",
    "start": "283479",
    "end": "287479"
  },
  {
    "text": "also to consider how you configure the",
    "start": "287479",
    "end": "289240"
  },
  {
    "text": "request and limit normally I would",
    "start": "289240",
    "end": "291840"
  },
  {
    "text": "actually for production ready Kafka",
    "start": "291840",
    "end": "293400"
  },
  {
    "text": "clusters recommend to not use memory",
    "start": "293400",
    "end": "295600"
  },
  {
    "text": "limits and just set the request and the",
    "start": "295600",
    "end": "298160"
  },
  {
    "text": "limit to the same value or just said",
    "start": "298160",
    "end": "299759"
  },
  {
    "text": "only the limit which then means is the",
    "start": "299759",
    "end": "301759"
  },
  {
    "text": "same as the request because that's how",
    "start": "301759",
    "end": "303919"
  },
  {
    "text": "you get the best performance and how you",
    "start": "303919",
    "end": "305840"
  },
  {
    "text": "avoid some issues but if you want to use",
    "start": "305840",
    "end": "308120"
  },
  {
    "text": "the limit you should make sure that the",
    "start": "308120",
    "end": "310160"
  },
  {
    "text": "Java memory itself sticks into the",
    "start": "310160",
    "end": "312560"
  },
  {
    "text": "request and the limit is only used for",
    "start": "312560",
    "end": "314639"
  },
  {
    "text": "the page cache because that allows it to",
    "start": "314639",
    "end": "316880"
  },
  {
    "text": "kind of scale up and down more flexibly",
    "start": "316880",
    "end": "319759"
  },
  {
    "text": "the Java part itself will not really do",
    "start": "319759",
    "end": "322560"
  },
  {
    "text": "that for CPU this is much easier because",
    "start": "322560",
    "end": "325440"
  },
  {
    "text": "you just give it the CPU you need to",
    "start": "325440",
    "end": "327479"
  },
  {
    "text": "give it for the performance you want",
    "start": "327479",
    "end": "328960"
  },
  {
    "text": "from it and the request and limits",
    "start": "328960",
    "end": "331360"
  },
  {
    "text": "that's handled quite nicely because the",
    "start": "331360",
    "end": "333080"
  },
  {
    "text": "CPU can be used uh",
    "start": "333080",
    "end": "336360"
  },
  {
    "text": "dynamically",
    "start": "336360",
    "end": "338560"
  },
  {
    "text": "the next thing to talk about is",
    "start": "338560",
    "end": "342560"
  },
  {
    "text": "security now some of these things are",
    "start": "342560",
    "end": "345280"
  },
  {
    "text": "pretty generic and not really kubernetes",
    "start": "345280",
    "end": "347280"
  },
  {
    "text": "specific so I will just run through this",
    "start": "347280",
    "end": "349160"
  },
  {
    "text": "a bit quickly but you should of course",
    "start": "349160",
    "end": "352039"
  },
  {
    "text": "use TLS encryption you should use some",
    "start": "352039",
    "end": "355240"
  },
  {
    "text": "authentication you should use some",
    "start": "355240",
    "end": "357759"
  },
  {
    "text": "authorization now in trim Z will for",
    "start": "357759",
    "end": "360280"
  },
  {
    "text": "example automatically secure the inter",
    "start": "360280",
    "end": "362600"
  },
  {
    "text": "broker internal connections for the",
    "start": "362600",
    "end": "364400"
  },
  {
    "text": "replications out of the box using TLS",
    "start": "364400",
    "end": "366800"
  },
  {
    "text": "and mtls authentication but for the",
    "start": "366800",
    "end": "370960"
  },
  {
    "text": "listeners where your applications",
    "start": "370960",
    "end": "372800"
  },
  {
    "text": "connect it's actually configurable so",
    "start": "372800",
    "end": "374720"
  },
  {
    "text": "it's up to you what kind of security you",
    "start": "374720",
    "end": "376880"
  },
  {
    "text": "choose what maybe a bit special about",
    "start": "376880",
    "end": "379680"
  },
  {
    "text": "strums is that we have also this thing",
    "start": "379680",
    "end": "381400"
  },
  {
    "text": "we call user operator which allows you",
    "start": "381400",
    "end": "383800"
  },
  {
    "text": "to manage the Kafka users using the",
    "start": "383800",
    "end": "385639"
  },
  {
    "text": "custom resources as well so you can",
    "start": "385639",
    "end": "387440"
  },
  {
    "text": "create the kubernetes resource called",
    "start": "387440",
    "end": "389919"
  },
  {
    "text": "Kafka user either directly or using Argo",
    "start": "389919",
    "end": "392919"
  },
  {
    "text": "or whatever you are using and there you",
    "start": "392919",
    "end": "395039"
  },
  {
    "text": "can say this user should use mtls",
    "start": "395039",
    "end": "397720"
  },
  {
    "text": "authentication or scrum sha",
    "start": "397720",
    "end": "399440"
  },
  {
    "text": "authentication and it should have these",
    "start": "399440",
    "end": "401479"
  },
  {
    "text": "and these ACL rights and then the",
    "start": "401479",
    "end": "404400"
  },
  {
    "text": "operator will go and create it or if you",
    "start": "404400",
    "end": "407199"
  },
  {
    "text": "are in a more Enterprise likee",
    "start": "407199",
    "end": "408840"
  },
  {
    "text": "environments then maybe you want to use",
    "start": "408840",
    "end": "410560"
  },
  {
    "text": "things such as oaf or open policy agent",
    "start": "410560",
    "end": "413520"
  },
  {
    "text": "which give you kind of a central",
    "start": "413520",
    "end": "415199"
  },
  {
    "text": "management for the for the security",
    "start": "415199",
    "end": "417800"
  },
  {
    "text": "things there are also some kubernetes",
    "start": "417800",
    "end": "420960"
  },
  {
    "text": "specific things you can think about one",
    "start": "420960",
    "end": "423960"
  },
  {
    "text": "of them is Network policies which can",
    "start": "423960",
    "end": "426360"
  },
  {
    "text": "easily improve your security where you",
    "start": "426360",
    "end": "429000"
  },
  {
    "text": "can configure which applications can",
    "start": "429000",
    "end": "431800"
  },
  {
    "text": "connect to the Kafka Brokers and",
    "start": "431800",
    "end": "433479"
  },
  {
    "text": "consumer produce messages on the network",
    "start": "433479",
    "end": "435599"
  },
  {
    "text": "level in streamy again we would for",
    "start": "435599",
    "end": "438280"
  },
  {
    "text": "example automatically set it up for",
    "start": "438280",
    "end": "440120"
  },
  {
    "text": "internal connections but for the",
    "start": "440120",
    "end": "442720"
  },
  {
    "text": "consumers and producers in your",
    "start": "442720",
    "end": "444960"
  },
  {
    "text": "applications streamy doesn't really know",
    "start": "444960",
    "end": "447319"
  },
  {
    "text": "out of the box which are a allow to",
    "start": "447319",
    "end": "449879"
  },
  {
    "text": "connect and not so you need to give it",
    "start": "449879",
    "end": "451720"
  },
  {
    "text": "the guidance how to set up the network",
    "start": "451720",
    "end": "453720"
  },
  {
    "text": "policies and then especially if you are",
    "start": "453720",
    "end": "456000"
  },
  {
    "text": "writing your own deployment or using",
    "start": "456000",
    "end": "457879"
  },
  {
    "text": "some Helm chart you should be careful",
    "start": "457879",
    "end": "459879"
  },
  {
    "text": "about what arbec rights does it give to",
    "start": "459879",
    "end": "462199"
  },
  {
    "text": "the Kafka Brokers because if someone",
    "start": "462199",
    "end": "464520"
  },
  {
    "text": "somehow Hecks into the broker you don't",
    "start": "464520",
    "end": "466680"
  },
  {
    "text": "want it to hack your whole kubernetes",
    "start": "466680",
    "end": "468879"
  },
  {
    "text": "cluster and similarly you should make",
    "start": "468879",
    "end": "471000"
  },
  {
    "text": "sure the security context it's running",
    "start": "471000",
    "end": "473159"
  },
  {
    "text": "under doesn't for example allow",
    "start": "473159",
    "end": "475240"
  },
  {
    "text": "escalating privileges uh and uh doing",
    "start": "475240",
    "end": "478879"
  },
  {
    "text": "something harmful to the work",
    "start": "478879",
    "end": "482199"
  },
  {
    "text": "note another area to think about is",
    "start": "482199",
    "end": "486960"
  },
  {
    "text": "monitoring now this is again pretty",
    "start": "486960",
    "end": "489960"
  },
  {
    "text": "common you should have in your",
    "start": "489960",
    "end": "491360"
  },
  {
    "text": "kubernetes cluster some login collection",
    "start": "491360",
    "end": "494159"
  },
  {
    "text": "stack some elastic search or open search",
    "start": "494159",
    "end": "496840"
  },
  {
    "text": "or whatever is used these days you",
    "start": "496840",
    "end": "499240"
  },
  {
    "text": "should use some metrics some dashboards",
    "start": "499240",
    "end": "501599"
  },
  {
    "text": "with some alerts in stry we provide you",
    "start": "501599",
    "end": "504080"
  },
  {
    "text": "with some Basics and examples but this",
    "start": "504080",
    "end": "506120"
  },
  {
    "text": "is normally quite easy to set up even if",
    "start": "506120",
    "end": "508039"
  },
  {
    "text": "you use something else",
    "start": "508039",
    "end": "509960"
  },
  {
    "text": "uh tracing is something what's",
    "start": "509960",
    "end": "511919"
  },
  {
    "text": "interesting as well for monitoring the",
    "start": "511919",
    "end": "513640"
  },
  {
    "text": "Kafka based applications but these are",
    "start": "513640",
    "end": "516000"
  },
  {
    "text": "kind of the usual usual things which you",
    "start": "516000",
    "end": "518360"
  },
  {
    "text": "will hear about a lot at cucon uh what's",
    "start": "518360",
    "end": "521479"
  },
  {
    "text": "maybe a bit more special for Kafka is",
    "start": "521479",
    "end": "523760"
  },
  {
    "text": "consumer leg monitoring consumer leg is",
    "start": "523760",
    "end": "526600"
  },
  {
    "text": "this kind of difference between your",
    "start": "526600",
    "end": "528720"
  },
  {
    "text": "consumers and your producers and it's",
    "start": "528720",
    "end": "531360"
  },
  {
    "text": "important because if you for example use",
    "start": "531360",
    "end": "533240"
  },
  {
    "text": "CFA for some credit card fraud detection",
    "start": "533240",
    "end": "536440"
  },
  {
    "text": "you want to detect the fraud on the",
    "start": "536440",
    "end": "538760"
  },
  {
    "text": "transaction action which happened few",
    "start": "538760",
    "end": "540320"
  },
  {
    "text": "seconds a ago and not on the",
    "start": "540320",
    "end": "542519"
  },
  {
    "text": "transactions which happens two weeks ago",
    "start": "542519",
    "end": "544560"
  },
  {
    "text": "so this leg kind of gives you idea how",
    "start": "544560",
    "end": "547279"
  },
  {
    "text": "much behind your consumers are and",
    "start": "547279",
    "end": "549560"
  },
  {
    "text": "whether they are near time or whether",
    "start": "549560",
    "end": "551680"
  },
  {
    "text": "they are using some old data and in",
    "start": "551680",
    "end": "554079"
  },
  {
    "text": "strey we integrate with a tool called",
    "start": "554079",
    "end": "555959"
  },
  {
    "text": "Kafka exporter for this but there are",
    "start": "555959",
    "end": "558160"
  },
  {
    "text": "many other tools as well which you can",
    "start": "558160",
    "end": "562000"
  },
  {
    "text": "use",
    "start": "562000",
    "end": "564320"
  },
  {
    "text": "uh now another part and there we get a",
    "start": "564320",
    "end": "567839"
  },
  {
    "text": "bit more into the kubernetes details to",
    "start": "567839",
    "end": "570399"
  },
  {
    "text": "think about is availability reliability",
    "start": "570399",
    "end": "573360"
  },
  {
    "text": "not losing messages having the cluster",
    "start": "573360",
    "end": "575839"
  },
  {
    "text": "always available so that your client's",
    "start": "575839",
    "end": "578320"
  },
  {
    "text": "work uh but before we get to the",
    "start": "578320",
    "end": "580399"
  },
  {
    "text": "kubernetes details this always starts",
    "start": "580399",
    "end": "583600"
  },
  {
    "text": "with the Kafka configuration itself you",
    "start": "583600",
    "end": "585640"
  },
  {
    "text": "have to make sure that your Kafka topics",
    "start": "585640",
    "end": "587920"
  },
  {
    "text": "are properly configured they use",
    "start": "587920",
    "end": "589720"
  },
  {
    "text": "replication factor that they use mean",
    "start": "589720",
    "end": "592079"
  },
  {
    "text": "ins sync replicas and then you also have",
    "start": "592079",
    "end": "595160"
  },
  {
    "text": "to make sure that your clients are",
    "start": "595160",
    "end": "596720"
  },
  {
    "text": "correctly configured so that they are",
    "start": "596720",
    "end": "598200"
  },
  {
    "text": "not losing messages is when some broker",
    "start": "598200",
    "end": "600680"
  },
  {
    "text": "is restarted at the same time and and so",
    "start": "600680",
    "end": "603399"
  },
  {
    "text": "on so that is at the Kafka level and you",
    "start": "603399",
    "end": "605200"
  },
  {
    "text": "always have to make sure about it",
    "start": "605200",
    "end": "607200"
  },
  {
    "text": "because there are many users who are",
    "start": "607200",
    "end": "608680"
  },
  {
    "text": "like topic with single replication",
    "start": "608680",
    "end": "611760"
  },
  {
    "text": "Factor one uh client which doesn't care",
    "start": "611760",
    "end": "615720"
  },
  {
    "text": "whether the Brokers accepted the",
    "start": "615720",
    "end": "617079"
  },
  {
    "text": "messages and acknowledge them or not and",
    "start": "617079",
    "end": "618959"
  },
  {
    "text": "then they are wondering where are my",
    "start": "618959",
    "end": "620360"
  },
  {
    "text": "messages and that's what you have to fix",
    "start": "620360",
    "end": "623279"
  },
  {
    "text": "in the Kafka",
    "start": "623279",
    "end": "624480"
  },
  {
    "text": "configuration but then there are some",
    "start": "624480",
    "end": "626880"
  },
  {
    "text": "kubernetes specific things such as how",
    "start": "626880",
    "end": "629920"
  },
  {
    "text": "to do rolling updates now kubernetes has",
    "start": "629920",
    "end": "633800"
  },
  {
    "text": "this great tool called Cube cuddle or",
    "start": "633800",
    "end": "635839"
  },
  {
    "text": "cube CTL or whatever you call it and it",
    "start": "635839",
    "end": "638360"
  },
  {
    "text": "has this magical command Cube CTL roll",
    "start": "638360",
    "end": "640959"
  },
  {
    "text": "out I think which does a rolling update",
    "start": "640959",
    "end": "643399"
  },
  {
    "text": "of your deployment or state full set",
    "start": "643399",
    "end": "645399"
  },
  {
    "text": "kind of rolls the pot but Cube cutle",
    "start": "645399",
    "end": "649200"
  },
  {
    "text": "doesn't have the knowledge of Kafka",
    "start": "649200",
    "end": "651320"
  },
  {
    "text": "clusters itself so there are several",
    "start": "651320",
    "end": "653079"
  },
  {
    "text": "issues you can easily run into for",
    "start": "653079",
    "end": "655480"
  },
  {
    "text": "example if you have a Kafka cluster with",
    "start": "655480",
    "end": "657160"
  },
  {
    "text": "four Brokers as I have here here then",
    "start": "657160",
    "end": "659959"
  },
  {
    "text": "one of these Brokers will be designated",
    "start": "659959",
    "end": "661839"
  },
  {
    "text": "as a controller this controller has a",
    "start": "661839",
    "end": "664600"
  },
  {
    "text": "bit more responsibilities a bit more",
    "start": "664600",
    "end": "666600"
  },
  {
    "text": "tasks to do and when the controller role",
    "start": "666600",
    "end": "669320"
  },
  {
    "text": "Chang then it always means disruption",
    "start": "669320",
    "end": "671880"
  },
  {
    "text": "for the clients using the Kafka cluster",
    "start": "671880",
    "end": "673839"
  },
  {
    "text": "they have to find the new controller and",
    "start": "673839",
    "end": "675959"
  },
  {
    "text": "they have to reconnect to it and so on",
    "start": "675959",
    "end": "677920"
  },
  {
    "text": "and now if you do the rolling update",
    "start": "677920",
    "end": "680120"
  },
  {
    "text": "incorrectly then something like this can",
    "start": "680120",
    "end": "682360"
  },
  {
    "text": "happen you have the controller on the",
    "start": "682360",
    "end": "684320"
  },
  {
    "text": "first pot and then you restart the first",
    "start": "684320",
    "end": "686800"
  },
  {
    "text": "pot so the controller Ro is shifted to",
    "start": "686800",
    "end": "688600"
  },
  {
    "text": "the second po then you restart the",
    "start": "688600",
    "end": "691120"
  },
  {
    "text": "second pot so the controller roll shifts",
    "start": "691120",
    "end": "693120"
  },
  {
    "text": "again and so on and so on and at the end",
    "start": "693120",
    "end": "695839"
  },
  {
    "text": "you restart all four pots so the rolling",
    "start": "695839",
    "end": "698040"
  },
  {
    "text": "update is complete but the controller",
    "start": "698040",
    "end": "700320"
  },
  {
    "text": "roll actually changed four times during",
    "start": "700320",
    "end": "702600"
  },
  {
    "text": "this this update and that's not the end",
    "start": "702600",
    "end": "706040"
  },
  {
    "text": "of the world but it definitely caused",
    "start": "706040",
    "end": "707720"
  },
  {
    "text": "some disruption which was not necessary",
    "start": "707720",
    "end": "710399"
  },
  {
    "text": "now if you have operator like strey or",
    "start": "710399",
    "end": "712560"
  },
  {
    "text": "if you do it manually but do it the",
    "start": "712560",
    "end": "714639"
  },
  {
    "text": "better way you can do it like",
    "start": "714639",
    "end": "717240"
  },
  {
    "text": "this so you first roll the second pot",
    "start": "717240",
    "end": "720720"
  },
  {
    "text": "then you roll the third pot then you",
    "start": "720720",
    "end": "723200"
  },
  {
    "text": "roll the fourth pot and only in the end",
    "start": "723200",
    "end": "725839"
  },
  {
    "text": "when you are done with everything else",
    "start": "725839",
    "end": "727839"
  },
  {
    "text": "we actually go and roll the first spot",
    "start": "727839",
    "end": "729800"
  },
  {
    "text": "which was the",
    "start": "729800",
    "end": "730880"
  },
  {
    "text": "controller and now again we roll the",
    "start": "730880",
    "end": "733199"
  },
  {
    "text": "whole cluster but actually we did only",
    "start": "733199",
    "end": "736560"
  },
  {
    "text": "one change of the controller so lot less",
    "start": "736560",
    "end": "739120"
  },
  {
    "text": "disruption for the",
    "start": "739120",
    "end": "741240"
  },
  {
    "text": "clients and because kka is actually a",
    "start": "741240",
    "end": "744760"
  },
  {
    "text": "distributed streaming platform there's a",
    "start": "744760",
    "end": "747600"
  },
  {
    "text": "bit more to it than just the controller",
    "start": "747600",
    "end": "749320"
  },
  {
    "text": "role because uh you will have the",
    "start": "749320",
    "end": "751720"
  },
  {
    "text": "partitions and their replicas",
    "start": "751720",
    "end": "753160"
  },
  {
    "text": "distributed across these Brokers and",
    "start": "753160",
    "end": "755720"
  },
  {
    "text": "when the producers are producing data",
    "start": "755720",
    "end": "758199"
  },
  {
    "text": "these data are always copied to all",
    "start": "758199",
    "end": "759959"
  },
  {
    "text": "these replicas and now when you restart",
    "start": "759959",
    "end": "763240"
  },
  {
    "text": "one of these Brokers then for some time",
    "start": "763240",
    "end": "766120"
  },
  {
    "text": "it will be down it might be just 5",
    "start": "766120",
    "end": "769440"
  },
  {
    "text": "Second to shut down then 20 seconds to",
    "start": "769440",
    "end": "772000"
  },
  {
    "text": "start up but even in this short time",
    "start": "772000",
    "end": "774399"
  },
  {
    "text": "there will be new messages produced to",
    "start": "774399",
    "end": "776240"
  },
  {
    "text": "the other Brokers so when the broker",
    "start": "776240",
    "end": "778480"
  },
  {
    "text": "start up again the replicas which it",
    "start": "778480",
    "end": "781199"
  },
  {
    "text": "hosts they will not be in sync with the",
    "start": "781199",
    "end": "783320"
  },
  {
    "text": "rest of the cluster and if I will now go",
    "start": "783320",
    "end": "785600"
  },
  {
    "text": "and delete one of the other Brokers then",
    "start": "785600",
    "end": "788639"
  },
  {
    "text": "the partitions might be under replicated",
    "start": "788639",
    "end": "791120"
  },
  {
    "text": "and your producers might stop working so",
    "start": "791120",
    "end": "793839"
  },
  {
    "text": "it's important that the operator when",
    "start": "793839",
    "end": "795480"
  },
  {
    "text": "doing the rolling update waits for these",
    "start": "795480",
    "end": "798000"
  },
  {
    "text": "replicas to become in sync again to",
    "start": "798000",
    "end": "800880"
  },
  {
    "text": "resync with other Brokers and get the",
    "start": "800880",
    "end": "802800"
  },
  {
    "text": "latest data and only then you can",
    "start": "802800",
    "end": "805079"
  },
  {
    "text": "actually proceed and roll the the",
    "start": "805079",
    "end": "809360"
  },
  {
    "text": "uh next",
    "start": "809360",
    "end": "811360"
  },
  {
    "text": "broker another thing",
    "start": "811360",
    "end": "813880"
  },
  {
    "text": "to make sure you are using is W",
    "start": "813880",
    "end": "817760"
  },
  {
    "text": "awareness most kubernetes cluster run in",
    "start": "817760",
    "end": "821320"
  },
  {
    "text": "multiple zones it can be the AWS zones",
    "start": "821320",
    "end": "824920"
  },
  {
    "text": "if you use aw availability zones if you",
    "start": "824920",
    "end": "827120"
  },
  {
    "text": "use AWS if you are on premise maybe it's",
    "start": "827120",
    "end": "830480"
  },
  {
    "text": "just a separate rooms in your data",
    "start": "830480",
    "end": "832199"
  },
  {
    "text": "center with some fireproof wall between",
    "start": "832199",
    "end": "834519"
  },
  {
    "text": "them but this is a concept which is",
    "start": "834519",
    "end": "836480"
  },
  {
    "text": "quite common for for all",
    "start": "836480",
    "end": "839720"
  },
  {
    "text": "uh kubernetes clusters and now when you",
    "start": "839720",
    "end": "842399"
  },
  {
    "text": "deploy your Kafka cluster on top of it",
    "start": "842399",
    "end": "844639"
  },
  {
    "text": "you definitely don't want it to be",
    "start": "844639",
    "end": "846279"
  },
  {
    "text": "deployed like this where you have nine",
    "start": "846279",
    "end": "848800"
  },
  {
    "text": "different Brokers but six of them are in",
    "start": "848800",
    "end": "851279"
  },
  {
    "text": "the zone a two of them are in the zone B",
    "start": "851279",
    "end": "854600"
  },
  {
    "text": "and just one of them is in the zone C",
    "start": "854600",
    "end": "857240"
  },
  {
    "text": "and moreover because it's not just about",
    "start": "857240",
    "end": "859440"
  },
  {
    "text": "the Brokers it's also about the",
    "start": "859440",
    "end": "861600"
  },
  {
    "text": "partitions and the replicas of them on",
    "start": "861600",
    "end": "864639"
  },
  {
    "text": "which are on top of them so it can also",
    "start": "864639",
    "end": "867320"
  },
  {
    "text": "happen that the these partition replicas",
    "start": "867320",
    "end": "870000"
  },
  {
    "text": "are all in the brokers in the zone a now",
    "start": "870000",
    "end": "873120"
  },
  {
    "text": "what happens if you lose the Zone a for",
    "start": "873120",
    "end": "875000"
  },
  {
    "text": "some reason well that's bad because you",
    "start": "875000",
    "end": "878000"
  },
  {
    "text": "basically lost most of your Brokers and",
    "start": "878000",
    "end": "880680"
  },
  {
    "text": "most of your data and you have to wait",
    "start": "880680",
    "end": "882199"
  },
  {
    "text": "for it to recover to continue so what",
    "start": "882199",
    "end": "884759"
  },
  {
    "text": "you want to do is you want to use the",
    "start": "884759",
    "end": "886560"
  },
  {
    "text": "kubernetes API such as po topology",
    "start": "886560",
    "end": "889759"
  },
  {
    "text": "spread constraints or uh po affinity and",
    "start": "889759",
    "end": "892720"
  },
  {
    "text": "anti-affinity to make sure that the pots",
    "start": "892720",
    "end": "895680"
  },
  {
    "text": "are nicely spread like this across the",
    "start": "895680",
    "end": "897680"
  },
  {
    "text": "availability zones",
    "start": "897680",
    "end": "899320"
  },
  {
    "text": "but you also need to propagate this",
    "start": "899320",
    "end": "901800"
  },
  {
    "text": "application which uh into the Kafka",
    "start": "901800",
    "end": "905320"
  },
  {
    "text": "Brokers which basically tell it into",
    "start": "905320",
    "end": "907040"
  },
  {
    "text": "which zone this broker is running and",
    "start": "907040",
    "end": "909320"
  },
  {
    "text": "that helps Kafka and the other tooling",
    "start": "909320",
    "end": "911199"
  },
  {
    "text": "around Kafka such as cruise control to",
    "start": "911199",
    "end": "913759"
  },
  {
    "text": "distribute the replicas of your",
    "start": "913759",
    "end": "915399"
  },
  {
    "text": "partitions across these zones as well so",
    "start": "915399",
    "end": "918279"
  },
  {
    "text": "now when your Kafka cluster is nicely",
    "start": "918279",
    "end": "920399"
  },
  {
    "text": "balanced like this and you lose one of",
    "start": "920399",
    "end": "922680"
  },
  {
    "text": "the availability zones it's completely",
    "start": "922680",
    "end": "925639"
  },
  {
    "text": "fine because you have the other two",
    "start": "925639",
    "end": "926880"
  },
  {
    "text": "zones which have enough replicas to keep",
    "start": "926880",
    "end": "929199"
  },
  {
    "text": "running until it",
    "start": "929199",
    "end": "932199"
  },
  {
    "text": "recovers uh there are some other things",
    "start": "932199",
    "end": "934639"
  },
  {
    "text": "uh to keep in mind as well you should",
    "start": "934639",
    "end": "937199"
  },
  {
    "text": "think about voluntary disruptions that's",
    "start": "937199",
    "end": "939319"
  },
  {
    "text": "for example when you do Cube cuddle",
    "start": "939319",
    "end": "941440"
  },
  {
    "text": "drain on some worker node to move the",
    "start": "941440",
    "end": "945319"
  },
  {
    "text": "applications from it and run some",
    "start": "945319",
    "end": "947120"
  },
  {
    "text": "upgrades then uh for that you can use",
    "start": "947120",
    "end": "950360"
  },
  {
    "text": "pot disruption budgets to control how",
    "start": "950360",
    "end": "952839"
  },
  {
    "text": "many of the pots can be shut down at the",
    "start": "952839",
    "end": "955759"
  },
  {
    "text": "moment but what's important is that you",
    "start": "955759",
    "end": "958319"
  },
  {
    "text": "need to also understand how the",
    "start": "958319",
    "end": "960160"
  },
  {
    "text": "Readiness probes work for your Kafka",
    "start": "960160",
    "end": "962800"
  },
  {
    "text": "Brokers because for example in stmy we",
    "start": "962800",
    "end": "965639"
  },
  {
    "text": "kind of follow the original kubernetes",
    "start": "965639",
    "end": "967639"
  },
  {
    "text": "semantics for the Readiness probe that",
    "start": "967639",
    "end": "969839"
  },
  {
    "text": "the pot should be ready when the clients",
    "start": "969839",
    "end": "972600"
  },
  {
    "text": "are able to connect to it and use it but",
    "start": "972600",
    "end": "975279"
  },
  {
    "text": "in Kafka that doesn't necessarily mean",
    "start": "975279",
    "end": "977800"
  },
  {
    "text": "that again all these partition replicas",
    "start": "977800",
    "end": "979839"
  },
  {
    "text": "on this broker are in sync and that you",
    "start": "979839",
    "end": "982199"
  },
  {
    "text": "can restart the next broker without",
    "start": "982199",
    "end": "985000"
  },
  {
    "text": "having any damage to the availability so",
    "start": "985000",
    "end": "987519"
  },
  {
    "text": "that's why in streams if for example we",
    "start": "987519",
    "end": "989120"
  },
  {
    "text": "have a tool which we call drain cleaner",
    "start": "989120",
    "end": "991800"
  },
  {
    "text": "which allows you to handle draining of",
    "start": "991800",
    "end": "993759"
  },
  {
    "text": "the nodes by using the operator Logic",
    "start": "993759",
    "end": "996720"
  },
  {
    "text": "for the rolling update and for",
    "start": "996720",
    "end": "998079"
  },
  {
    "text": "restarting the pot and not leaving it",
    "start": "998079",
    "end": "1000079"
  },
  {
    "text": "just to kubernetes so that it can use",
    "start": "1000079",
    "end": "1002480"
  },
  {
    "text": "all this thinking about how the Kafka",
    "start": "1002480",
    "end": "1004839"
  },
  {
    "text": "cluster Works to do it now that's how it",
    "start": "1004839",
    "end": "1008000"
  },
  {
    "text": "works in stmy in other operators or in",
    "start": "1008000",
    "end": "1010319"
  },
  {
    "text": "your Helm chart it might work",
    "start": "1010319",
    "end": "1011720"
  },
  {
    "text": "differently so it's important to",
    "start": "1011720",
    "end": "1013880"
  },
  {
    "text": "understand what you are using and how it",
    "start": "1013880",
    "end": "1016040"
  },
  {
    "text": "works so that you can handle this",
    "start": "1016040",
    "end": "1018000"
  },
  {
    "text": "situation",
    "start": "1018000",
    "end": "1019519"
  },
  {
    "text": "and now of course you should also handle",
    "start": "1019519",
    "end": "1021399"
  },
  {
    "text": "things such as Disaster Recovery or",
    "start": "1021399",
    "end": "1024360"
  },
  {
    "text": "backups unfortunately in Kafka it's",
    "start": "1024360",
    "end": "1026720"
  },
  {
    "text": "actually topic uh on its own which is",
    "start": "1026720",
    "end": "1030038"
  },
  {
    "text": "quite hard but you should at least try",
    "start": "1030039",
    "end": "1033000"
  },
  {
    "text": "to think about it uh if you want to have",
    "start": "1033000",
    "end": "1035038"
  },
  {
    "text": "your cluster production",
    "start": "1035039",
    "end": "1037319"
  },
  {
    "text": "ready and then once you have the cluster",
    "start": "1037319",
    "end": "1040678"
  },
  {
    "text": "deployed on a good infrastructure",
    "start": "1040679",
    "end": "1042798"
  },
  {
    "text": "secured monitored available you can",
    "start": "1042799",
    "end": "1045640"
  },
  {
    "text": "start think about things such as",
    "start": "1045640",
    "end": "1047400"
  },
  {
    "text": "performance you can do some things such",
    "start": "1047400",
    "end": "1051240"
  },
  {
    "text": "as tune the jvm the Java virtual machine",
    "start": "1051240",
    "end": "1054280"
  },
  {
    "text": "there's always one or the other user who",
    "start": "1054280",
    "end": "1056160"
  },
  {
    "text": "is 100% convinced that he knows which",
    "start": "1056160",
    "end": "1059000"
  },
  {
    "text": "garbage collection class is best for his",
    "start": "1059000",
    "end": "1061200"
  },
  {
    "text": "Kafka cluster and to be honest I don't",
    "start": "1061200",
    "end": "1064080"
  },
  {
    "text": "understand it enough to fight with them",
    "start": "1064080",
    "end": "1065840"
  },
  {
    "text": "but in streamy we actually have this",
    "start": "1065840",
    "end": "1067360"
  },
  {
    "text": "configurable so yeah if you think that's",
    "start": "1067360",
    "end": "1070480"
  },
  {
    "text": "better then you can change it but then",
    "start": "1070480",
    "end": "1072919"
  },
  {
    "text": "there are some more kubernetes things as",
    "start": "1072919",
    "end": "1075360"
  },
  {
    "text": "well such as problems with the noisy",
    "start": "1075360",
    "end": "1077000"
  },
  {
    "text": "neighbors today here we heard a lot of",
    "start": "1077000",
    "end": "1079720"
  },
  {
    "text": "talks about databases and uh I'm not",
    "start": "1079720",
    "end": "1083000"
  },
  {
    "text": "sure if we had any talks but there will",
    "start": "1083000",
    "end": "1084720"
  },
  {
    "text": "be other talks At cubec Con about Cloud",
    "start": "1084720",
    "end": "1086640"
  },
  {
    "text": "native storage and about other messaging",
    "start": "1086640",
    "end": "1088960"
  },
  {
    "text": "systems such as nuts and so on and these",
    "start": "1088960",
    "end": "1091720"
  },
  {
    "text": "all might live in the same kubernetes",
    "start": "1091720",
    "end": "1093799"
  },
  {
    "text": "cluster and these often use the same",
    "start": "1093799",
    "end": "1096120"
  },
  {
    "text": "resources right they all are typically",
    "start": "1096120",
    "end": "1099120"
  },
  {
    "text": "Network heavy they are heavy users of",
    "start": "1099120",
    "end": "1102000"
  },
  {
    "text": "storage and so on so if you share a",
    "start": "1102000",
    "end": "1105320"
  },
  {
    "text": "kubernetes cluster for these these",
    "start": "1105320",
    "end": "1107440"
  },
  {
    "text": "deployments then typically you want to",
    "start": "1107440",
    "end": "1109640"
  },
  {
    "text": "make sure that for example your",
    "start": "1109640",
    "end": "1111480"
  },
  {
    "text": "postgress pots don't run on the same",
    "start": "1111480",
    "end": "1114280"
  },
  {
    "text": "worker note as your Kafka Brokers run",
    "start": "1114280",
    "end": "1116960"
  },
  {
    "text": "because they might fight for the",
    "start": "1116960",
    "end": "1118280"
  },
  {
    "text": "resources and you can use the pot",
    "start": "1118280",
    "end": "1120960"
  },
  {
    "text": "anti-affinity rules for example for it",
    "start": "1120960",
    "end": "1123039"
  },
  {
    "text": "to kind of tell kuber is not to schedule",
    "start": "1123039",
    "end": "1125840"
  },
  {
    "text": "these on the same notes but if you have",
    "start": "1125840",
    "end": "1127960"
  },
  {
    "text": "a really big Kafka cluster I normally",
    "start": "1127960",
    "end": "1130679"
  },
  {
    "text": "would even recommend you to set up",
    "start": "1130679",
    "end": "1132520"
  },
  {
    "text": "dedicated nodes and basically use the",
    "start": "1132520",
    "end": "1134240"
  },
  {
    "text": "kubernetes tains and tolerations apis to",
    "start": "1134240",
    "end": "1137720"
  },
  {
    "text": "to have not which are dedicated only for",
    "start": "1137720",
    "end": "1140039"
  },
  {
    "text": "your Kafka cluster that of course makes",
    "start": "1140039",
    "end": "1142559"
  },
  {
    "text": "sense only if your Kafka cluster gets",
    "start": "1142559",
    "end": "1145880"
  },
  {
    "text": "big and then another thing to think",
    "start": "1145880",
    "end": "1148919"
  },
  {
    "text": "about is also uh cluster balancing so",
    "start": "1148919",
    "end": "1152559"
  },
  {
    "text": "when you start with a fresh cluster",
    "start": "1152559",
    "end": "1154559"
  },
  {
    "text": "everything looks nice and simple we have",
    "start": "1154559",
    "end": "1156240"
  },
  {
    "text": "free Brokers you start creating some",
    "start": "1156240",
    "end": "1158559"
  },
  {
    "text": "topics and partitions and they are",
    "start": "1158559",
    "end": "1160559"
  },
  {
    "text": "nicely created and distributed across",
    "start": "1160559",
    "end": "1162799"
  },
  {
    "text": "the Brokers and it's it's perfect it's",
    "start": "1162799",
    "end": "1165919"
  },
  {
    "text": "everything balanced and equal but then",
    "start": "1165919",
    "end": "1168919"
  },
  {
    "text": "as the time goes on and you use the",
    "start": "1168919",
    "end": "1171480"
  },
  {
    "text": "cluster things",
    "start": "1171480",
    "end": "1173720"
  },
  {
    "text": "change some projects you deploy there",
    "start": "1173720",
    "end": "1177080"
  },
  {
    "text": "they will be a huge success much more",
    "start": "1177080",
    "end": "1179000"
  },
  {
    "text": "than you expected and they will get a",
    "start": "1179000",
    "end": "1180720"
  },
  {
    "text": "lot more traffic so their partitions",
    "start": "1180720",
    "end": "1182960"
  },
  {
    "text": "will get bigger some others will be",
    "start": "1182960",
    "end": "1185200"
  },
  {
    "text": "maybe complete disaster and you will",
    "start": "1185200",
    "end": "1187039"
  },
  {
    "text": "just delete them because nobody's using",
    "start": "1187039",
    "end": "1189360"
  },
  {
    "text": "them it might be also that some customer",
    "start": "1189360",
    "end": "1192080"
  },
  {
    "text": "gets bigger and bigger and bigger and",
    "start": "1192080",
    "end": "1193960"
  },
  {
    "text": "the transactions for this single",
    "start": "1193960",
    "end": "1195799"
  },
  {
    "text": "customer are half of your business and",
    "start": "1195799",
    "end": "1198000"
  },
  {
    "text": "they create a huge partition in your",
    "start": "1198000",
    "end": "1199960"
  },
  {
    "text": "Kafka cluster so over the time the way",
    "start": "1199960",
    "end": "1203280"
  },
  {
    "text": "how the Kafka Brokers are used can",
    "start": "1203280",
    "end": "1205559"
  },
  {
    "text": "change and it can get it out of balance",
    "start": "1205559",
    "end": "1208280"
  },
  {
    "text": "so you it might look something like this",
    "start": "1208280",
    "end": "1210760"
  },
  {
    "text": "where the first broker is kind of",
    "start": "1210760",
    "end": "1213679"
  },
  {
    "text": "overloaded running at 110% of its",
    "start": "1213679",
    "end": "1216039"
  },
  {
    "text": "capacity the second broker is kind of",
    "start": "1216039",
    "end": "1219640"
  },
  {
    "text": "doing nothing there and then the third",
    "start": "1219640",
    "end": "1221679"
  },
  {
    "text": "broker is kind of yeah it's not",
    "start": "1221679",
    "end": "1223520"
  },
  {
    "text": "overloaded but it's quite busy",
    "start": "1223520",
    "end": "1226600"
  },
  {
    "text": "and the balance means that you want to",
    "start": "1226600",
    "end": "1229039"
  },
  {
    "text": "bring this in balance and in strey we",
    "start": "1229039",
    "end": "1231080"
  },
  {
    "text": "integrate with the open source tool",
    "start": "1231080",
    "end": "1232840"
  },
  {
    "text": "called cruise control from LinkedIn",
    "start": "1232840",
    "end": "1235080"
  },
  {
    "text": "which does what's called cluster",
    "start": "1235080",
    "end": "1236600"
  },
  {
    "text": "balancing so you tell it some criteria",
    "start": "1236600",
    "end": "1239159"
  },
  {
    "text": "which are important for you such as the",
    "start": "1239159",
    "end": "1241520"
  },
  {
    "text": "best utilization of the available disc",
    "start": "1241520",
    "end": "1244320"
  },
  {
    "text": "storage or the best latency the best",
    "start": "1244320",
    "end": "1246760"
  },
  {
    "text": "throughput and then you basically tell",
    "start": "1246760",
    "end": "1249600"
  },
  {
    "text": "it how you want it to be balanced and it",
    "start": "1249600",
    "end": "1251640"
  },
  {
    "text": "gives you a proposal and when you say",
    "start": "1251640",
    "end": "1253440"
  },
  {
    "text": "yes then it will kind of magically",
    "start": "1253440",
    "end": "1256360"
  },
  {
    "text": "reshuffle all the partitions and move",
    "start": "1256360",
    "end": "1258559"
  },
  {
    "text": "them around the Brokers and make sure",
    "start": "1258559",
    "end": "1260679"
  },
  {
    "text": "that you have nicely balanced nodes in",
    "start": "1260679",
    "end": "1262600"
  },
  {
    "text": "your cluster and that they are kind of",
    "start": "1262600",
    "end": "1265200"
  },
  {
    "text": "uh all working",
    "start": "1265200",
    "end": "1268200"
  },
  {
    "text": "well so that's the performance now if",
    "start": "1268200",
    "end": "1273279"
  },
  {
    "text": "the wordss you heard here the kubernetes",
    "start": "1273279",
    "end": "1276600"
  },
  {
    "text": "apis and so on were not something you",
    "start": "1276600",
    "end": "1279400"
  },
  {
    "text": "already know then don't be afraid this",
    "start": "1279400",
    "end": "1281440"
  },
  {
    "text": "is kind of my hierarchy of uh production",
    "start": "1281440",
    "end": "1284360"
  },
  {
    "text": "ready gafka which shows you the the",
    "start": "1284360",
    "end": "1287720"
  },
  {
    "text": "things you should consider and it",
    "start": "1287720",
    "end": "1289880"
  },
  {
    "text": "basically has all of them and it's",
    "start": "1289880",
    "end": "1291480"
  },
  {
    "text": "uploaded to the to the kubernetes",
    "start": "1291480",
    "end": "1293520"
  },
  {
    "text": "schedule in the slides as well so you",
    "start": "1293520",
    "end": "1295559"
  },
  {
    "text": "can just go through it and Google it in",
    "start": "1295559",
    "end": "1297400"
  },
  {
    "text": "the streamy or in the Kafka or",
    "start": "1297400",
    "end": "1300520"
  },
  {
    "text": "kubernetes documentation and that should",
    "start": "1300520",
    "end": "1303039"
  },
  {
    "text": "get you",
    "start": "1303039",
    "end": "1304880"
  },
  {
    "text": "started now I have some other resources",
    "start": "1304880",
    "end": "1307640"
  },
  {
    "text": "as well uh that was one slide too much",
    "start": "1307640",
    "end": "1312000"
  },
  {
    "text": "uh obviously the stream Z and kubernetes",
    "start": "1312000",
    "end": "1314200"
  },
  {
    "text": "documentations are a good source but we",
    "start": "1314200",
    "end": "1316799"
  },
  {
    "text": "have also all kind of examples on the",
    "start": "1316799",
    "end": "1319039"
  },
  {
    "text": "strey GitHub and on the blog post we",
    "start": "1319039",
    "end": "1321960"
  },
  {
    "text": "have some blogs about tuning the",
    "start": "1321960",
    "end": "1324320"
  },
  {
    "text": "performance of the Kafka clusters and",
    "start": "1324320",
    "end": "1326039"
  },
  {
    "text": "how to configure it and then finally on",
    "start": "1326039",
    "end": "1328720"
  },
  {
    "text": "our YouTube channel I actually created a",
    "start": "1328720",
    "end": "1331440"
  },
  {
    "text": "series which I think now has a nine or",
    "start": "1331440",
    "end": "1333760"
  },
  {
    "text": "10 parts already which is named the same",
    "start": "1333760",
    "end": "1336159"
  },
  {
    "text": "as this talk and it kind of goes a bit",
    "start": "1336159",
    "end": "1337960"
  },
  {
    "text": "more into detail about some of these",
    "start": "1337960",
    "end": "1340799"
  },
  {
    "text": "things I talked about which uh we didn't",
    "start": "1340799",
    "end": "1343400"
  },
  {
    "text": "really had enough time today but you can",
    "start": "1343400",
    "end": "1345799"
  },
  {
    "text": "then go and if you are interested in",
    "start": "1345799",
    "end": "1347240"
  },
  {
    "text": "something in particular you can watch a",
    "start": "1347240",
    "end": "1349240"
  },
  {
    "text": "bit more now the obvious question might",
    "start": "1349240",
    "end": "1352600"
  },
  {
    "text": "be why should you care about this uh why",
    "start": "1352600",
    "end": "1355679"
  },
  {
    "text": "doesn't operator like streamy do all of",
    "start": "1355679",
    "end": "1358279"
  },
  {
    "text": "this out of the box now it's a good",
    "start": "1358279",
    "end": "1361279"
  },
  {
    "text": "question but unfortunately it's not that",
    "start": "1361279",
    "end": "1363679"
  },
  {
    "text": "easy because not there's no one size",
    "start": "1363679",
    "end": "1367320"
  },
  {
    "text": "fits all",
    "start": "1367320",
    "end": "1369440"
  },
  {
    "text": "unfortunately there are many different",
    "start": "1369440",
    "end": "1371679"
  },
  {
    "text": "users with many different requirements",
    "start": "1371679",
    "end": "1373760"
  },
  {
    "text": "not everyone use stmy or Kafka in",
    "start": "1373760",
    "end": "1375760"
  },
  {
    "text": "production a lot of people use stre it",
    "start": "1375760",
    "end": "1378240"
  },
  {
    "text": "just on their laptop for development",
    "start": "1378240",
    "end": "1380440"
  },
  {
    "text": "others use it in CIS and then others of",
    "start": "1380440",
    "end": "1383240"
  },
  {
    "text": "course use it in production some use it",
    "start": "1383240",
    "end": "1385200"
  },
  {
    "text": "for all of these things but all of these",
    "start": "1385200",
    "end": "1387559"
  },
  {
    "text": "environments has different requirements",
    "start": "1387559",
    "end": "1389760"
  },
  {
    "text": "like you probably want to have the",
    "start": "1389760",
    "end": "1391679"
  },
  {
    "text": "security in your CI for testing but",
    "start": "1391679",
    "end": "1394919"
  },
  {
    "text": "maybe you don't want to spend the money",
    "start": "1394919",
    "end": "1396640"
  },
  {
    "text": "on having the high availability and all",
    "start": "1396640",
    "end": "1399080"
  },
  {
    "text": "the replicas and so on",
    "start": "1399080",
    "end": "1402000"
  },
  {
    "text": "similarly uh the infrastructure is",
    "start": "1402000",
    "end": "1405919"
  },
  {
    "text": "different between different users so it",
    "start": "1405919",
    "end": "1409000"
  },
  {
    "text": "can be some basic things such",
    "start": "1409000",
    "end": "1411080"
  },
  {
    "text": "as some users run with three",
    "start": "1411080",
    "end": "1413520"
  },
  {
    "text": "availability zones some users have just",
    "start": "1413520",
    "end": "1415480"
  },
  {
    "text": "two availability zones some are playing",
    "start": "1415480",
    "end": "1418080"
  },
  {
    "text": "the tricky game and they have two and a",
    "start": "1418080",
    "end": "1419600"
  },
  {
    "text": "half availability zones but it can be",
    "start": "1419600",
    "end": "1422120"
  },
  {
    "text": "also some more trivial things such as",
    "start": "1422120",
    "end": "1425080"
  },
  {
    "text": "not everyone is using the same label for",
    "start": "1425080",
    "end": "1428080"
  },
  {
    "text": "the Zone identification on their worker",
    "start": "1428080",
    "end": "1430159"
  },
  {
    "text": "node so it's not that easy to kind of",
    "start": "1430159",
    "end": "1432320"
  },
  {
    "text": "produce one configuration which with",
    "start": "1432320",
    "end": "1434159"
  },
  {
    "text": "with everyone and that's why it kind of",
    "start": "1434159",
    "end": "1436520"
  },
  {
    "text": "expects uh the users to think about it a",
    "start": "1436520",
    "end": "1439679"
  },
  {
    "text": "bit and make sure that the configuration",
    "start": "1439679",
    "end": "1441400"
  },
  {
    "text": "is tailored for their",
    "start": "1441400",
    "end": "1444120"
  },
  {
    "text": "environment now that's it uh thanks a",
    "start": "1444120",
    "end": "1446600"
  },
  {
    "text": "lot for listening if you have any",
    "start": "1446600",
    "end": "1449240"
  },
  {
    "text": "questions I think we should have few",
    "start": "1449240",
    "end": "1451880"
  },
  {
    "text": "more seconds for that but I will be also",
    "start": "1451880",
    "end": "1454120"
  },
  {
    "text": "around here during the cube con so uh",
    "start": "1454120",
    "end": "1457000"
  },
  {
    "text": "yeah feel free to stop me if you have",
    "start": "1457000",
    "end": "1458720"
  },
  {
    "text": "any questions to this or if you just",
    "start": "1458720",
    "end": "1460559"
  },
  {
    "text": "want to talk about stream",
    "start": "1460559",
    "end": "1464240"
  }
]