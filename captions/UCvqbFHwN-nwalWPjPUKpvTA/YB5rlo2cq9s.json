[
  {
    "text": "hi welcome to the sidecars and netflix",
    "start": "1199",
    "end": "3600"
  },
  {
    "text": "presentation",
    "start": "3600",
    "end": "5600"
  },
  {
    "text": "uh i'm rodrigo i'm a software engineer",
    "start": "5600",
    "end": "8240"
  },
  {
    "text": "at kinfold",
    "start": "8240",
    "end": "9280"
  },
  {
    "text": "uh a little bit about me i studied",
    "start": "9280",
    "end": "11759"
  },
  {
    "text": "computer science in argentina and i'm a",
    "start": "11759",
    "end": "13920"
  },
  {
    "text": "maintainer of middleweight and",
    "start": "13920",
    "end": "15599"
  },
  {
    "text": "core coordinates reviewer and as i said",
    "start": "15599",
    "end": "18320"
  },
  {
    "text": "i work at kinfolk",
    "start": "18320",
    "end": "19840"
  },
  {
    "text": "we are focused on developing open source",
    "start": "19840",
    "end": "22000"
  },
  {
    "text": "software you may know some of our",
    "start": "22000",
    "end": "23840"
  },
  {
    "text": "projects like flat car container linux",
    "start": "23840",
    "end": "26640"
  },
  {
    "text": "there is a container optimized rs or",
    "start": "26640",
    "end": "28480"
  },
  {
    "text": "headlamp or coordinated work ui",
    "start": "28480",
    "end": "30800"
  },
  {
    "text": "or locomotive a fully self-hosted",
    "start": "30800",
    "end": "33040"
  },
  {
    "text": "coordinated distribution",
    "start": "33040",
    "end": "35360"
  },
  {
    "text": "today i'll be presenting with manus a",
    "start": "35360",
    "end": "37440"
  },
  {
    "text": "software engineer at netflix",
    "start": "37440",
    "end": "39360"
  },
  {
    "text": "he works on the compute infrastructure",
    "start": "39360",
    "end": "41200"
  },
  {
    "text": "team on container execution",
    "start": "41200",
    "end": "42879"
  },
  {
    "text": "and we work together on the cycle",
    "start": "42879",
    "end": "44960"
  },
  {
    "text": "ordering on the cubit",
    "start": "44960",
    "end": "47520"
  },
  {
    "text": "the top is divided in two parts first",
    "start": "47520",
    "end": "50320"
  },
  {
    "text": "manus will",
    "start": "50320",
    "end": "51199"
  },
  {
    "text": "share how netflix is using size car",
    "start": "51199",
    "end": "54320"
  },
  {
    "text": "containers and in the second part",
    "start": "54320",
    "end": "56160"
  },
  {
    "text": "i'll talk about the problems we face",
    "start": "56160",
    "end": "57600"
  },
  {
    "text": "today with sidecars and the efforts we",
    "start": "57600",
    "end": "59840"
  },
  {
    "text": "didn't improve this situation in ground",
    "start": "59840",
    "end": "61359"
  },
  {
    "text": "at the saturn",
    "start": "61359",
    "end": "64000"
  },
  {
    "text": "hi i'm manus and before we dive into",
    "start": "65199",
    "end": "67760"
  },
  {
    "text": "side cars here is some background",
    "start": "67760",
    "end": "70240"
  },
  {
    "text": "at netflix our fleet is composed of more",
    "start": "70240",
    "end": "72720"
  },
  {
    "text": "vms",
    "start": "72720",
    "end": "73360"
  },
  {
    "text": "and titus our container platform is",
    "start": "73360",
    "end": "75520"
  },
  {
    "text": "gaining organic adoption",
    "start": "75520",
    "end": "77680"
  },
  {
    "text": "we are now working to make titus the",
    "start": "77680",
    "end": "79520"
  },
  {
    "text": "primary deployment target",
    "start": "79520",
    "end": "81040"
  },
  {
    "text": "to give developers one well supported",
    "start": "81040",
    "end": "83200"
  },
  {
    "text": "infrastructure that allows them to",
    "start": "83200",
    "end": "84799"
  },
  {
    "text": "iterate fast",
    "start": "84799",
    "end": "86080"
  },
  {
    "text": "and is also more scalable and more",
    "start": "86080",
    "end": "87920"
  },
  {
    "text": "efficient at the same time",
    "start": "87920",
    "end": "90000"
  },
  {
    "text": "the goal is to do this migration fast",
    "start": "90000",
    "end": "92079"
  },
  {
    "text": "and automate as much as we can",
    "start": "92079",
    "end": "93759"
  },
  {
    "text": "so hundreds of platform engineers are",
    "start": "93759",
    "end": "95680"
  },
  {
    "text": "not supporting two deployment targets",
    "start": "95680",
    "end": "97759"
  },
  {
    "text": "for a very long time",
    "start": "97759",
    "end": "100159"
  },
  {
    "text": "to get a sense of what we are migrating",
    "start": "100159",
    "end": "102479"
  },
  {
    "text": "here is what a typical vm runs at",
    "start": "102479",
    "end": "104320"
  },
  {
    "text": "netflix",
    "start": "104320",
    "end": "105439"
  },
  {
    "text": "we have the application typically",
    "start": "105439",
    "end": "107119"
  },
  {
    "text": "running in the jvm and a series of",
    "start": "107119",
    "end": "109280"
  },
  {
    "text": "daemons",
    "start": "109280",
    "end": "109920"
  },
  {
    "text": "providing service discovery security and",
    "start": "109920",
    "end": "112240"
  },
  {
    "text": "observability to name a few things",
    "start": "112240",
    "end": "114960"
  },
  {
    "text": "application developers expect these",
    "start": "114960",
    "end": "116960"
  },
  {
    "text": "demons to just work",
    "start": "116960",
    "end": "118240"
  },
  {
    "text": "and so we run them in an operationally",
    "start": "118240",
    "end": "120399"
  },
  {
    "text": "sensitive fashion",
    "start": "120399",
    "end": "122079"
  },
  {
    "text": "by which i mean we start and shut them",
    "start": "122079",
    "end": "124399"
  },
  {
    "text": "down in a specific order",
    "start": "124399",
    "end": "126000"
  },
  {
    "text": "restart them when they fail and they are",
    "start": "126000",
    "end": "128720"
  },
  {
    "text": "generally available to the application",
    "start": "128720",
    "end": "131360"
  },
  {
    "text": "as an example the metrics forwarder",
    "start": "131360",
    "end": "134160"
  },
  {
    "text": "starts up",
    "start": "134160",
    "end": "134879"
  },
  {
    "text": "before the agent which boots traps",
    "start": "134879",
    "end": "136959"
  },
  {
    "text": "certificates",
    "start": "136959",
    "end": "138239"
  },
  {
    "text": "this is important because consider what",
    "start": "138239",
    "end": "140560"
  },
  {
    "text": "happens when that agent starts failing",
    "start": "140560",
    "end": "143680"
  },
  {
    "text": "in our case it can publish a metric to",
    "start": "143680",
    "end": "145840"
  },
  {
    "text": "report these",
    "start": "145840",
    "end": "146959"
  },
  {
    "text": "failures and we can use our monitoring",
    "start": "146959",
    "end": "149280"
  },
  {
    "text": "and alerting systems to track and",
    "start": "149280",
    "end": "150879"
  },
  {
    "text": "remediate these",
    "start": "150879",
    "end": "152879"
  },
  {
    "text": "in the same way the service mesh expects",
    "start": "152879",
    "end": "155920"
  },
  {
    "text": "tls certificates",
    "start": "155920",
    "end": "157280"
  },
  {
    "text": "and the open policy agent to be",
    "start": "157280",
    "end": "159120"
  },
  {
    "text": "available before it starts up",
    "start": "159120",
    "end": "161440"
  },
  {
    "text": "otherwise every application has to",
    "start": "161440",
    "end": "163120"
  },
  {
    "text": "decide if the mesh needs to fail",
    "start": "163120",
    "end": "164959"
  },
  {
    "text": "open or short circuited start",
    "start": "164959",
    "end": "168400"
  },
  {
    "text": "to do this we run demons as systemd",
    "start": "168400",
    "end": "170959"
  },
  {
    "text": "units",
    "start": "170959",
    "end": "171519"
  },
  {
    "text": "and use its dsl to get the ordering and",
    "start": "171519",
    "end": "174160"
  },
  {
    "text": "restart policies we want",
    "start": "174160",
    "end": "176800"
  },
  {
    "text": "we also control the shutdown sequence",
    "start": "176800",
    "end": "178560"
  },
  {
    "text": "with systemd so a node is taken out of",
    "start": "178560",
    "end": "180879"
  },
  {
    "text": "service discovery and connections get",
    "start": "180879",
    "end": "182959"
  },
  {
    "text": "drained before we shut it down",
    "start": "182959",
    "end": "186319"
  },
  {
    "text": "now here is what our titus host instance",
    "start": "186319",
    "end": "189280"
  },
  {
    "text": "is running",
    "start": "189280",
    "end": "190720"
  },
  {
    "text": "the virtual cooperate launches an",
    "start": "190720",
    "end": "192640"
  },
  {
    "text": "instance of titus executor per container",
    "start": "192640",
    "end": "195760"
  },
  {
    "text": "and because titus is multi-tenant",
    "start": "195760",
    "end": "197599"
  },
  {
    "text": "containers in different aws accounts",
    "start": "197599",
    "end": "200000"
  },
  {
    "text": "with different security groups and im",
    "start": "200000",
    "end": "201920"
  },
  {
    "text": "roles run on a shared instance",
    "start": "201920",
    "end": "204400"
  },
  {
    "text": "we provide the functionality provided by",
    "start": "204400",
    "end": "206640"
  },
  {
    "text": "daemons and vms",
    "start": "206640",
    "end": "207920"
  },
  {
    "text": "using what we call system services",
    "start": "207920",
    "end": "210959"
  },
  {
    "text": "and alongside a few extra services we",
    "start": "210959",
    "end": "213120"
  },
  {
    "text": "need for example",
    "start": "213120",
    "end": "214720"
  },
  {
    "text": "we intercept instance metadata service",
    "start": "214720",
    "end": "216799"
  },
  {
    "text": "on titus",
    "start": "216799",
    "end": "218640"
  },
  {
    "text": "finally we have some software we use to",
    "start": "218640",
    "end": "221120"
  },
  {
    "text": "manage the field",
    "start": "221120",
    "end": "223599"
  },
  {
    "text": "it might seem that the simplest way to",
    "start": "223599",
    "end": "225599"
  },
  {
    "text": "run services is to run containers that",
    "start": "225599",
    "end": "228000"
  },
  {
    "text": "look like vms",
    "start": "228000",
    "end": "229840"
  },
  {
    "text": "but this means that we have to rebuild",
    "start": "229840",
    "end": "231920"
  },
  {
    "text": "and redeploy containers when we want to",
    "start": "231920",
    "end": "233840"
  },
  {
    "text": "replace system services",
    "start": "233840",
    "end": "236159"
  },
  {
    "text": "this impacts how fast we can react to",
    "start": "236159",
    "end": "238319"
  },
  {
    "text": "security advisories",
    "start": "238319",
    "end": "239760"
  },
  {
    "text": "or deploy hot fixes to these services",
    "start": "239760",
    "end": "242480"
  },
  {
    "text": "and we see these",
    "start": "242480",
    "end": "243760"
  },
  {
    "text": "problems on vms secondly it is not",
    "start": "243760",
    "end": "247120"
  },
  {
    "text": "possible for developers to import a",
    "start": "247120",
    "end": "249200"
  },
  {
    "text": "container from docker hub",
    "start": "249200",
    "end": "250799"
  },
  {
    "text": "and expect it to work on titles in this",
    "start": "250799",
    "end": "253439"
  },
  {
    "text": "setup",
    "start": "253439",
    "end": "254640"
  },
  {
    "text": "we want our developers to have this",
    "start": "254640",
    "end": "256239"
  },
  {
    "text": "ability to experiment",
    "start": "256239",
    "end": "259120"
  },
  {
    "text": "also we cannot intercept the instance",
    "start": "259120",
    "end": "261280"
  },
  {
    "text": "metadata service",
    "start": "261280",
    "end": "262479"
  },
  {
    "text": "or amount remote storage securely in",
    "start": "262479",
    "end": "264720"
  },
  {
    "text": "this model",
    "start": "264720",
    "end": "266560"
  },
  {
    "text": "so perhaps we should run multitenant",
    "start": "266560",
    "end": "268720"
  },
  {
    "text": "services on the host",
    "start": "268720",
    "end": "270000"
  },
  {
    "text": "this has no ordering issues and we might",
    "start": "270000",
    "end": "272080"
  },
  {
    "text": "optimize some resource usage",
    "start": "272080",
    "end": "274720"
  },
  {
    "text": "we started by running a multitenant",
    "start": "274720",
    "end": "276960"
  },
  {
    "text": "instance metadata service",
    "start": "276960",
    "end": "278720"
  },
  {
    "text": "as an example but we learned very",
    "start": "278720",
    "end": "280720"
  },
  {
    "text": "quickly that users can accidentally",
    "start": "280720",
    "end": "282800"
  },
  {
    "text": "deploy workloads which query it in a",
    "start": "282800",
    "end": "284720"
  },
  {
    "text": "tight loop",
    "start": "284720",
    "end": "286080"
  },
  {
    "text": "this starvs other containers on the host",
    "start": "286080",
    "end": "288160"
  },
  {
    "text": "and if that loop is leaking connections",
    "start": "288160",
    "end": "290560"
  },
  {
    "text": "then",
    "start": "290560",
    "end": "290960"
  },
  {
    "text": "our service runs out of file descriptors",
    "start": "290960",
    "end": "293040"
  },
  {
    "text": "and now we have a bad host",
    "start": "293040",
    "end": "295120"
  },
  {
    "text": "another example is a log viewer which",
    "start": "295120",
    "end": "297040"
  },
  {
    "text": "used to be multi-tenant",
    "start": "297040",
    "end": "298720"
  },
  {
    "text": "and developers realize that the lock",
    "start": "298720",
    "end": "300720"
  },
  {
    "text": "viewer is a performant http server",
    "start": "300720",
    "end": "303520"
  },
  {
    "text": "so why write your own when you can serve",
    "start": "303520",
    "end": "305919"
  },
  {
    "text": "large files by writing them to the log",
    "start": "305919",
    "end": "307680"
  },
  {
    "text": "volume",
    "start": "307680",
    "end": "309039"
  },
  {
    "text": "and as a platform we want to be",
    "start": "309039",
    "end": "310720"
  },
  {
    "text": "resilient to such resource",
    "start": "310720",
    "end": "312960"
  },
  {
    "text": "sharing issues the second problem",
    "start": "312960",
    "end": "316000"
  },
  {
    "text": "is that we have workloads that expect to",
    "start": "316000",
    "end": "318080"
  },
  {
    "text": "not be disrupted once they are running",
    "start": "318080",
    "end": "320639"
  },
  {
    "text": "this means all our system services will",
    "start": "320639",
    "end": "323360"
  },
  {
    "text": "need to have the ability to hot reload",
    "start": "323360",
    "end": "325759"
  },
  {
    "text": "and have perfect current isolation if",
    "start": "325759",
    "end": "327840"
  },
  {
    "text": "these workloads are going to meet their",
    "start": "327840",
    "end": "329600"
  },
  {
    "text": "slas",
    "start": "329600",
    "end": "331520"
  },
  {
    "text": "there are some more serious challenges",
    "start": "331520",
    "end": "333520"
  },
  {
    "text": "when it comes to securing these",
    "start": "333520",
    "end": "335039"
  },
  {
    "text": "multi-tenant services",
    "start": "335039",
    "end": "337120"
  },
  {
    "text": "consider our multi-tenant clock viewer",
    "start": "337120",
    "end": "339360"
  },
  {
    "text": "which serve logs for all containers",
    "start": "339360",
    "end": "342000"
  },
  {
    "text": "and someone figured out that relative",
    "start": "342000",
    "end": "344240"
  },
  {
    "text": "paths work",
    "start": "344240",
    "end": "346560"
  },
  {
    "text": "we also allowed users to configure the",
    "start": "346560",
    "end": "348800"
  },
  {
    "text": "metrics agent using a file in a volume",
    "start": "348800",
    "end": "351680"
  },
  {
    "text": "and red team provided a handcrafted",
    "start": "351680",
    "end": "354320"
  },
  {
    "text": "executable",
    "start": "354320",
    "end": "355120"
  },
  {
    "text": "instead of a csv now we have compromised",
    "start": "355120",
    "end": "358479"
  },
  {
    "text": "the host",
    "start": "358479",
    "end": "359199"
  },
  {
    "text": "instead of a container and this is not",
    "start": "359199",
    "end": "361919"
  },
  {
    "text": "acceptable",
    "start": "361919",
    "end": "364160"
  },
  {
    "text": "we feel it is difficult to anticipate",
    "start": "364160",
    "end": "366400"
  },
  {
    "text": "all these issues",
    "start": "366400",
    "end": "367360"
  },
  {
    "text": "and get perfect isolation and fault",
    "start": "367360",
    "end": "369600"
  },
  {
    "text": "domains on multitenant services",
    "start": "369600",
    "end": "371919"
  },
  {
    "text": "so we write single tenant services and",
    "start": "371919",
    "end": "374319"
  },
  {
    "text": "contain them with the workload",
    "start": "374319",
    "end": "376720"
  },
  {
    "text": "to that end we have settled on a design",
    "start": "376720",
    "end": "379039"
  },
  {
    "text": "where we give every",
    "start": "379039",
    "end": "380000"
  },
  {
    "text": "container its own set of immutable",
    "start": "380000",
    "end": "382400"
  },
  {
    "text": "system services",
    "start": "382400",
    "end": "383919"
  },
  {
    "text": "and usually this guarantees that once a",
    "start": "383919",
    "end": "386080"
  },
  {
    "text": "container is set running it will keep",
    "start": "386080",
    "end": "387840"
  },
  {
    "text": "running",
    "start": "387840",
    "end": "388880"
  },
  {
    "text": "you tie the lifetime of the service to",
    "start": "388880",
    "end": "390800"
  },
  {
    "text": "the container so the service dies when",
    "start": "390800",
    "end": "392560"
  },
  {
    "text": "the container dies",
    "start": "392560",
    "end": "394479"
  },
  {
    "text": "and a service also shares the identity",
    "start": "394479",
    "end": "396720"
  },
  {
    "text": "fault domains",
    "start": "396720",
    "end": "397919"
  },
  {
    "text": "and resources with the container this",
    "start": "397919",
    "end": "401039"
  },
  {
    "text": "means for example",
    "start": "401039",
    "end": "402880"
  },
  {
    "text": "that the application and service mesh",
    "start": "402880",
    "end": "405440"
  },
  {
    "text": "share cryptographic identity namespaces",
    "start": "405440",
    "end": "408000"
  },
  {
    "text": "and c groups",
    "start": "408000",
    "end": "409120"
  },
  {
    "text": "which is almost always what our users",
    "start": "409120",
    "end": "411520"
  },
  {
    "text": "expect",
    "start": "411520",
    "end": "413360"
  },
  {
    "text": "so how does titus executor run system",
    "start": "413360",
    "end": "415840"
  },
  {
    "text": "services",
    "start": "415840",
    "end": "417520"
  },
  {
    "text": "it starts by creating the container",
    "start": "417520",
    "end": "419759"
  },
  {
    "text": "using the image specified by the user",
    "start": "419759",
    "end": "422479"
  },
  {
    "text": "and then it bind mounts data containers",
    "start": "422479",
    "end": "424560"
  },
  {
    "text": "which package the system services into",
    "start": "424560",
    "end": "426400"
  },
  {
    "text": "it",
    "start": "426400",
    "end": "427440"
  },
  {
    "text": "these are rootless containers in our",
    "start": "427440",
    "end": "429199"
  },
  {
    "text": "system and that has its pros and cons",
    "start": "429199",
    "end": "431759"
  },
  {
    "text": "it also bind mounts a socket which we",
    "start": "431759",
    "end": "433680"
  },
  {
    "text": "use to control the container at a few",
    "start": "433680",
    "end": "435440"
  },
  {
    "text": "volumes",
    "start": "435440",
    "end": "436160"
  },
  {
    "text": "and it does all of this in parallel next",
    "start": "436160",
    "end": "440080"
  },
  {
    "text": "it runs the container with the entry",
    "start": "440080",
    "end": "441919"
  },
  {
    "text": "point set to teeny which immediately",
    "start": "441919",
    "end": "443680"
  },
  {
    "text": "blocks",
    "start": "443680",
    "end": "444960"
  },
  {
    "text": "this creates the name spaces and c",
    "start": "444960",
    "end": "446960"
  },
  {
    "text": "groups in which",
    "start": "446960",
    "end": "448000"
  },
  {
    "text": "the system services will run tv is a",
    "start": "448000",
    "end": "451759"
  },
  {
    "text": "tiny in it for containers which is used",
    "start": "451759",
    "end": "453599"
  },
  {
    "text": "by docker and we",
    "start": "453599",
    "end": "455039"
  },
  {
    "text": "use our own fork now the executor can",
    "start": "455039",
    "end": "458400"
  },
  {
    "text": "set system services running with the",
    "start": "458400",
    "end": "460240"
  },
  {
    "text": "correct ordering and restart policies",
    "start": "460240",
    "end": "462800"
  },
  {
    "text": "and we do this using system d",
    "start": "462800",
    "end": "466479"
  },
  {
    "text": "these services are actually",
    "start": "466479",
    "end": "468319"
  },
  {
    "text": "parameterized units which are managed by",
    "start": "468319",
    "end": "470720"
  },
  {
    "text": "the systemd running on the host",
    "start": "470720",
    "end": "473360"
  },
  {
    "text": "the information about which container to",
    "start": "473360",
    "end": "475919"
  },
  {
    "text": "join",
    "start": "475919",
    "end": "476400"
  },
  {
    "text": "is passed in files on the host by the",
    "start": "476400",
    "end": "478639"
  },
  {
    "text": "status executor",
    "start": "478639",
    "end": "480960"
  },
  {
    "text": "and finally we simply use run c to",
    "start": "480960",
    "end": "483280"
  },
  {
    "text": "launch a process running inside the",
    "start": "483280",
    "end": "484800"
  },
  {
    "text": "container",
    "start": "484800",
    "end": "486479"
  },
  {
    "text": "now the service is running in the name",
    "start": "486479",
    "end": "488160"
  },
  {
    "text": "space and c group of the container which",
    "start": "488160",
    "end": "490319"
  },
  {
    "text": "means that the",
    "start": "490319",
    "end": "491680"
  },
  {
    "text": "kernel will reap the service when the",
    "start": "491680",
    "end": "493919"
  },
  {
    "text": "container dies",
    "start": "493919",
    "end": "496319"
  },
  {
    "text": "once the sidecars are running we release",
    "start": "496319",
    "end": "498639"
  },
  {
    "text": "teeny using",
    "start": "498639",
    "end": "499840"
  },
  {
    "text": "the socket and it runs the entry point",
    "start": "499840",
    "end": "501680"
  },
  {
    "text": "at the child",
    "start": "501680",
    "end": "503039"
  },
  {
    "text": "pe remains speed 1 except in special",
    "start": "503039",
    "end": "505680"
  },
  {
    "text": "cases",
    "start": "505680",
    "end": "506400"
  },
  {
    "text": "and we use it to redirect standard",
    "start": "506400",
    "end": "508400"
  },
  {
    "text": "output and error",
    "start": "508400",
    "end": "509520"
  },
  {
    "text": "and also to do more advanced things with",
    "start": "509520",
    "end": "511840"
  },
  {
    "text": "sec comp notify",
    "start": "511840",
    "end": "513360"
  },
  {
    "text": "as an example since tv is not really",
    "start": "513360",
    "end": "516000"
  },
  {
    "text": "optional the way we use it titus can",
    "start": "516000",
    "end": "518000"
  },
  {
    "text": "avoid the overhead of pause containers",
    "start": "518000",
    "end": "521360"
  },
  {
    "text": "we just follow the reverse sequence when",
    "start": "521360",
    "end": "523120"
  },
  {
    "text": "shutting down a container so services",
    "start": "523120",
    "end": "524959"
  },
  {
    "text": "are always available",
    "start": "524959",
    "end": "526880"
  },
  {
    "text": "we don't have to worry about an",
    "start": "526880",
    "end": "528320"
  },
  {
    "text": "application starting before the metadata",
    "start": "528320",
    "end": "530320"
  },
  {
    "text": "service starts and crashing or the",
    "start": "530320",
    "end": "532080"
  },
  {
    "text": "metadata service stopping before the",
    "start": "532080",
    "end": "534080"
  },
  {
    "text": "application",
    "start": "534080",
    "end": "534959"
  },
  {
    "text": "and causing the application to crash",
    "start": "534959",
    "end": "538560"
  },
  {
    "text": "i should point out that there are some",
    "start": "538560",
    "end": "540480"
  },
  {
    "text": "special services like",
    "start": "540480",
    "end": "541760"
  },
  {
    "text": "ssh where we don't use run c there used",
    "start": "541760",
    "end": "544800"
  },
  {
    "text": "to be a time when we ran docker exec",
    "start": "544800",
    "end": "546959"
  },
  {
    "text": "to get a shell in the container but that",
    "start": "546959",
    "end": "549200"
  },
  {
    "text": "is insecure",
    "start": "549200",
    "end": "550880"
  },
  {
    "text": "now we use a custom injector this",
    "start": "550880",
    "end": "553920"
  },
  {
    "text": "injector is a small c",
    "start": "553920",
    "end": "555120"
  },
  {
    "text": "program again we pass information about",
    "start": "555120",
    "end": "557600"
  },
  {
    "text": "which name spaces to join via the",
    "start": "557600",
    "end": "559600"
  },
  {
    "text": "environment",
    "start": "559600",
    "end": "560880"
  },
  {
    "text": "and the injector make sure that it wears",
    "start": "560880",
    "end": "563040"
  },
  {
    "text": "the correct app armor hat",
    "start": "563040",
    "end": "564800"
  },
  {
    "text": "and change hack before it enters the",
    "start": "564800",
    "end": "566720"
  },
  {
    "text": "container and launches the ssh",
    "start": "566720",
    "end": "568560"
  },
  {
    "text": "server with this work we can use a real",
    "start": "568560",
    "end": "572240"
  },
  {
    "text": "ssh server with all the bells and",
    "start": "572240",
    "end": "574240"
  },
  {
    "text": "whistles",
    "start": "574240",
    "end": "574800"
  },
  {
    "text": "including the ability to scp files to",
    "start": "574800",
    "end": "577920"
  },
  {
    "text": "the instance",
    "start": "577920",
    "end": "578720"
  },
  {
    "text": "and that is nice we do some similar",
    "start": "578720",
    "end": "582480"
  },
  {
    "text": "advanced injection for mounting remote",
    "start": "582480",
    "end": "584720"
  },
  {
    "text": "storage and",
    "start": "584720",
    "end": "585760"
  },
  {
    "text": "intercepting the metadata service and",
    "start": "585760",
    "end": "588640"
  },
  {
    "text": "this way we can avoid running privileged",
    "start": "588640",
    "end": "590720"
  },
  {
    "text": "containers",
    "start": "590720",
    "end": "591519"
  },
  {
    "text": "or using iptables connection tracking",
    "start": "591519",
    "end": "594480"
  },
  {
    "text": "and you can find more details in the",
    "start": "594480",
    "end": "596080"
  },
  {
    "text": "titus executor sources which are open",
    "start": "596080",
    "end": "598160"
  },
  {
    "text": "source",
    "start": "598160",
    "end": "599839"
  },
  {
    "text": "that brings us to how we version and",
    "start": "599839",
    "end": "602160"
  },
  {
    "text": "upgrade",
    "start": "602160",
    "end": "602880"
  },
  {
    "text": "the system services for most workloads",
    "start": "602880",
    "end": "607120"
  },
  {
    "text": "the executor reads what the current",
    "start": "607120",
    "end": "608880"
  },
  {
    "text": "stable version of side cars is",
    "start": "608880",
    "end": "610959"
  },
  {
    "text": "from a centralized store and this",
    "start": "610959",
    "end": "613200"
  },
  {
    "text": "happens at every container launch",
    "start": "613200",
    "end": "615440"
  },
  {
    "text": "this makes upgrading side cars fast and",
    "start": "615440",
    "end": "617680"
  },
  {
    "text": "simple",
    "start": "617680",
    "end": "618640"
  },
  {
    "text": "we change the configuration in the store",
    "start": "618640",
    "end": "620399"
  },
  {
    "text": "and trigger a redeploy if required",
    "start": "620399",
    "end": "623360"
  },
  {
    "text": "and some jobs have more exacting slas",
    "start": "623360",
    "end": "626399"
  },
  {
    "text": "and they specify a exact version for a",
    "start": "626399",
    "end": "628720"
  },
  {
    "text": "specific service",
    "start": "628720",
    "end": "630399"
  },
  {
    "text": "for example applications in the",
    "start": "630399",
    "end": "632720"
  },
  {
    "text": "streaming path might win the service",
    "start": "632720",
    "end": "634560"
  },
  {
    "text": "mesh",
    "start": "634560",
    "end": "635760"
  },
  {
    "text": "in this case all containers in that",
    "start": "635760",
    "end": "638480"
  },
  {
    "text": "title's job get the pinned version",
    "start": "638480",
    "end": "641680"
  },
  {
    "text": "some services are opt-in and there is a",
    "start": "641680",
    "end": "644000"
  },
  {
    "text": "parameter on title's job which says if a",
    "start": "644000",
    "end": "646240"
  },
  {
    "text": "container",
    "start": "646240",
    "end": "646880"
  },
  {
    "text": "gets that particular service or not",
    "start": "646880",
    "end": "650079"
  },
  {
    "text": "but broadly it is an open problem for us",
    "start": "650079",
    "end": "652640"
  },
  {
    "text": "how we go about",
    "start": "652640",
    "end": "653760"
  },
  {
    "text": "managing and upgrading these services as",
    "start": "653760",
    "end": "656560"
  },
  {
    "text": "we adopt a growing number of them to",
    "start": "656560",
    "end": "658480"
  },
  {
    "text": "enable our",
    "start": "658480",
    "end": "659600"
  },
  {
    "text": "developers the challenge in this",
    "start": "659600",
    "end": "662880"
  },
  {
    "text": "space is pretty big and it's probably",
    "start": "662880",
    "end": "666240"
  },
  {
    "text": "worthy of a discussion",
    "start": "666240",
    "end": "667760"
  },
  {
    "text": "of its own in summary system services",
    "start": "667760",
    "end": "671120"
  },
  {
    "text": "are pretty easy to implement using",
    "start": "671120",
    "end": "672720"
  },
  {
    "text": "rootless containers",
    "start": "672720",
    "end": "674560"
  },
  {
    "text": "we get the benefit of being able to",
    "start": "674560",
    "end": "676720"
  },
  {
    "text": "share mount and pit name spaces so when",
    "start": "676720",
    "end": "678880"
  },
  {
    "text": "a user logs into a container",
    "start": "678880",
    "end": "680800"
  },
  {
    "text": "they see a process tree and file system",
    "start": "680800",
    "end": "682880"
  },
  {
    "text": "layout that makes sense",
    "start": "682880",
    "end": "684800"
  },
  {
    "text": "but we can only have one user container",
    "start": "684800",
    "end": "686800"
  },
  {
    "text": "in our model and we want to have",
    "start": "686800",
    "end": "689279"
  },
  {
    "text": "more user containers to move towards",
    "start": "689279",
    "end": "691600"
  },
  {
    "text": "more composable workloads",
    "start": "691600",
    "end": "694560"
  },
  {
    "text": "although it is trivial to create these",
    "start": "694560",
    "end": "696399"
  },
  {
    "text": "services in c or go",
    "start": "696399",
    "end": "698560"
  },
  {
    "text": "it is not so easy to build a relocated",
    "start": "698560",
    "end": "700800"
  },
  {
    "text": "statically linked ssh server",
    "start": "700800",
    "end": "703600"
  },
  {
    "text": "and currently we expect our partners to",
    "start": "703600",
    "end": "706079"
  },
  {
    "text": "pay this tax alongside us",
    "start": "706079",
    "end": "707920"
  },
  {
    "text": "if they want to run system services",
    "start": "707920",
    "end": "711200"
  },
  {
    "text": "lastly the debugging experience for",
    "start": "711200",
    "end": "713920"
  },
  {
    "text": "these containers is terrible you can't",
    "start": "713920",
    "end": "716399"
  },
  {
    "text": "ship extra tools with these containers",
    "start": "716399",
    "end": "718639"
  },
  {
    "text": "and debug symbols blew up the size of",
    "start": "718639",
    "end": "721440"
  },
  {
    "text": "the static binaries",
    "start": "721440",
    "end": "722959"
  },
  {
    "text": "which can make these containers a long",
    "start": "722959",
    "end": "724959"
  },
  {
    "text": "pole in container start names",
    "start": "724959",
    "end": "728000"
  },
  {
    "text": "so what has this got to do with the",
    "start": "728000",
    "end": "729760"
  },
  {
    "text": "coblet",
    "start": "729760",
    "end": "731920"
  },
  {
    "text": "titus started life as a maze was cluster",
    "start": "731920",
    "end": "734480"
  },
  {
    "text": "but starting in 2019",
    "start": "734480",
    "end": "736480"
  },
  {
    "text": "we moved to virtual google my colleague",
    "start": "736480",
    "end": "739600"
  },
  {
    "text": "sargon talked about",
    "start": "739600",
    "end": "741040"
  },
  {
    "text": "this in coupon san diego you can look at",
    "start": "741040",
    "end": "744000"
  },
  {
    "text": "that talk",
    "start": "744000",
    "end": "745200"
  },
  {
    "text": "and over the past year we have been",
    "start": "745200",
    "end": "746720"
  },
  {
    "text": "adopting more kubernetes components in",
    "start": "746720",
    "end": "748880"
  },
  {
    "text": "the control plane like coupe schedulers",
    "start": "748880",
    "end": "751040"
  },
  {
    "text": "crds and controllers",
    "start": "751040",
    "end": "753360"
  },
  {
    "text": "which do fleet management and usage",
    "start": "753360",
    "end": "755440"
  },
  {
    "text": "based scheduling",
    "start": "755440",
    "end": "756560"
  },
  {
    "text": "as an example so in 2020 we decided that",
    "start": "756560",
    "end": "760399"
  },
  {
    "text": "we would try to migrate to the kublet",
    "start": "760399",
    "end": "762800"
  },
  {
    "text": "then we can run multiple user containers",
    "start": "762800",
    "end": "765200"
  },
  {
    "text": "and get benefits of the kubernetes",
    "start": "765200",
    "end": "767279"
  },
  {
    "text": "ecosystem",
    "start": "767279",
    "end": "769040"
  },
  {
    "text": "but we ran into some problems first",
    "start": "769040",
    "end": "772880"
  },
  {
    "text": "we need startup and shutdown ordering to",
    "start": "772880",
    "end": "774959"
  },
  {
    "text": "run parts in our operational model",
    "start": "774959",
    "end": "777519"
  },
  {
    "text": "we have teeny and we know how to write",
    "start": "777519",
    "end": "779519"
  },
  {
    "text": "the unique socket so naturally we",
    "start": "779519",
    "end": "781360"
  },
  {
    "text": "thought of",
    "start": "781360",
    "end": "781920"
  },
  {
    "text": "building a coordinator using the web",
    "start": "781920",
    "end": "784000"
  },
  {
    "text": "hook",
    "start": "784000",
    "end": "785760"
  },
  {
    "text": "and you get this contraption this works",
    "start": "785760",
    "end": "788800"
  },
  {
    "text": "but we are not enthused about rewriting",
    "start": "788800",
    "end": "790720"
  },
  {
    "text": "entry points to all containers when",
    "start": "790720",
    "end": "792560"
  },
  {
    "text": "using the cooler",
    "start": "792560",
    "end": "794800"
  },
  {
    "text": "we also looked around and found kept 753",
    "start": "794800",
    "end": "798720"
  },
  {
    "text": "and decided we'd work with rata to see",
    "start": "798720",
    "end": "801120"
  },
  {
    "text": "how far we can get",
    "start": "801120",
    "end": "802399"
  },
  {
    "text": "with two phase ordering now if we had",
    "start": "802399",
    "end": "805760"
  },
  {
    "text": "that feature",
    "start": "805760",
    "end": "806639"
  },
  {
    "text": "some agents like the log viewer and",
    "start": "806639",
    "end": "808399"
  },
  {
    "text": "aggregators or the open policy agent",
    "start": "808399",
    "end": "810880"
  },
  {
    "text": "can start up before the application if",
    "start": "810880",
    "end": "812720"
  },
  {
    "text": "we mark them as hydros",
    "start": "812720",
    "end": "814800"
  },
  {
    "text": "you can even make the cryptographic",
    "start": "814800",
    "end": "816399"
  },
  {
    "text": "bootstrap work by splitting it into an",
    "start": "816399",
    "end": "818560"
  },
  {
    "text": "init container that generates the",
    "start": "818560",
    "end": "820160"
  },
  {
    "text": "certificates and a sidecar that",
    "start": "820160",
    "end": "822000"
  },
  {
    "text": "refreshes them",
    "start": "822000",
    "end": "823920"
  },
  {
    "text": "and then there are some system services",
    "start": "823920",
    "end": "825760"
  },
  {
    "text": "like storage which we can implement",
    "start": "825760",
    "end": "827360"
  },
  {
    "text": "using the csi",
    "start": "827360",
    "end": "828399"
  },
  {
    "text": "and the metadata service which we can",
    "start": "828399",
    "end": "830320"
  },
  {
    "text": "implement using a cni",
    "start": "830320",
    "end": "832320"
  },
  {
    "text": "if we are willing to tweak our resource",
    "start": "832320",
    "end": "834160"
  },
  {
    "text": "isolation a little bit",
    "start": "834160",
    "end": "836959"
  },
  {
    "text": "but we cannot make the matrix forwarder",
    "start": "836959",
    "end": "839120"
  },
  {
    "text": "start first",
    "start": "839120",
    "end": "840560"
  },
  {
    "text": "or shut a part down with connection",
    "start": "840560",
    "end": "842639"
  },
  {
    "text": "draining till we have made some more",
    "start": "842639",
    "end": "844560"
  },
  {
    "text": "progress on ordering",
    "start": "844560",
    "end": "846800"
  },
  {
    "text": "we will probably maintain some highly",
    "start": "846800",
    "end": "848639"
  },
  {
    "text": "sophisticated injectors",
    "start": "848639",
    "end": "850160"
  },
  {
    "text": "outside the cubelet and that is fine but",
    "start": "850160",
    "end": "853279"
  },
  {
    "text": "we don't want to build a contraption",
    "start": "853279",
    "end": "854880"
  },
  {
    "text": "outside the cubelet or run an",
    "start": "854880",
    "end": "856959"
  },
  {
    "text": "internal fork and risk maintaining it in",
    "start": "856959",
    "end": "859199"
  },
  {
    "text": "perpetuity",
    "start": "859199",
    "end": "860480"
  },
  {
    "text": "if the community pursues a different",
    "start": "860480",
    "end": "862079"
  },
  {
    "text": "direction",
    "start": "862079",
    "end": "864079"
  },
  {
    "text": "in summary we run sidecast in an",
    "start": "864079",
    "end": "866240"
  },
  {
    "text": "operationally sensitive fashion",
    "start": "866240",
    "end": "867920"
  },
  {
    "text": "and letting them crash is not an option",
    "start": "867920",
    "end": "869920"
  },
  {
    "text": "for us",
    "start": "869920",
    "end": "871279"
  },
  {
    "text": "we also run an aggressive security",
    "start": "871279",
    "end": "873199"
  },
  {
    "text": "posture using",
    "start": "873199",
    "end": "874800"
  },
  {
    "text": "user name spaces sec com and app armor",
    "start": "874800",
    "end": "878399"
  },
  {
    "text": "and there have been cases where one of",
    "start": "878399",
    "end": "880079"
  },
  {
    "text": "these was the final thread between",
    "start": "880079",
    "end": "881839"
  },
  {
    "text": "us and an attacker so we cannot",
    "start": "881839",
    "end": "884160"
  },
  {
    "text": "compromise here",
    "start": "884160",
    "end": "886000"
  },
  {
    "text": "finally we like our single talent",
    "start": "886000",
    "end": "888320"
  },
  {
    "text": "services",
    "start": "888320",
    "end": "889040"
  },
  {
    "text": "they are easy to write and run reliably",
    "start": "889040",
    "end": "892880"
  },
  {
    "text": "i want to wrap up by saying that we want",
    "start": "892880",
    "end": "895760"
  },
  {
    "text": "to move towards a more composable pod",
    "start": "895760",
    "end": "898000"
  },
  {
    "text": "with side cars",
    "start": "898000",
    "end": "899120"
  },
  {
    "text": "and multiple user containers and we",
    "start": "899120",
    "end": "901760"
  },
  {
    "text": "could use the kubelet to get there",
    "start": "901760",
    "end": "903600"
  },
  {
    "text": "if it had ordering and user name space",
    "start": "903600",
    "end": "905440"
  },
  {
    "text": "support",
    "start": "905440",
    "end": "906800"
  },
  {
    "text": "so now over to rata for more about the",
    "start": "906800",
    "end": "909680"
  },
  {
    "text": "kubler",
    "start": "909680",
    "end": "911600"
  },
  {
    "text": "hi i'll now explain what are the",
    "start": "911600",
    "end": "913600"
  },
  {
    "text": "problems that",
    "start": "913600",
    "end": "914639"
  },
  {
    "text": "we have with cycle containers in",
    "start": "914639",
    "end": "916160"
  },
  {
    "text": "coordinates today and the efforts we did",
    "start": "916160",
    "end": "918160"
  },
  {
    "text": "in coordinated options to improve this",
    "start": "918160",
    "end": "920800"
  },
  {
    "text": "before we start let me say that granite",
    "start": "920800",
    "end": "923040"
  },
  {
    "text": "knows nothing about cycle containers",
    "start": "923040",
    "end": "925120"
  },
  {
    "text": "today coordinated treats all containers",
    "start": "925120",
    "end": "927519"
  },
  {
    "text": "in the same way the distinction between",
    "start": "927519",
    "end": "929279"
  },
  {
    "text": "sidecar and main containers is useful",
    "start": "929279",
    "end": "931600"
  },
  {
    "text": "only for us",
    "start": "931600",
    "end": "932959"
  },
  {
    "text": "at least for now so let's see some",
    "start": "932959",
    "end": "935600"
  },
  {
    "text": "problems we have today",
    "start": "935600",
    "end": "936800"
  },
  {
    "text": "if coronado doesn't really know anything",
    "start": "936800",
    "end": "938480"
  },
  {
    "text": "about scent cars um",
    "start": "938480",
    "end": "940240"
  },
  {
    "text": "i'll use a service mesh for several",
    "start": "940240",
    "end": "941920"
  },
  {
    "text": "examples but these problems are not",
    "start": "941920",
    "end": "944079"
  },
  {
    "text": "limited to a surface mesh",
    "start": "944079",
    "end": "945600"
  },
  {
    "text": "they affect the vast majority of sidecar",
    "start": "945600",
    "end": "947839"
  },
  {
    "text": "containers",
    "start": "947839",
    "end": "950320"
  },
  {
    "text": "so one problem that we face today is",
    "start": "950320",
    "end": "952240"
  },
  {
    "text": "that there is no startup order",
    "start": "952240",
    "end": "954560"
  },
  {
    "text": "warranties",
    "start": "954560",
    "end": "955839"
  },
  {
    "text": "the main container can be started before",
    "start": "955839",
    "end": "958480"
  },
  {
    "text": "the sidecars and when that happens the",
    "start": "958480",
    "end": "960560"
  },
  {
    "text": "window between the main containers is",
    "start": "960560",
    "end": "962240"
  },
  {
    "text": "started until the sidecar is ready",
    "start": "962240",
    "end": "964560"
  },
  {
    "text": "is the window where the problems usually",
    "start": "964560",
    "end": "966839"
  },
  {
    "text": "arise for example",
    "start": "966839",
    "end": "968959"
  },
  {
    "text": "if the sitecar is a service mesh all",
    "start": "968959",
    "end": "971120"
  },
  {
    "text": "network connections will be black hole",
    "start": "971120",
    "end": "973199"
  },
  {
    "text": "until the service mesh container is",
    "start": "973199",
    "end": "975040"
  },
  {
    "text": "ready",
    "start": "975040",
    "end": "976800"
  },
  {
    "text": "this is not a minor problem and",
    "start": "976800",
    "end": "978480"
  },
  {
    "text": "workarounds are not great",
    "start": "978480",
    "end": "980079"
  },
  {
    "text": "quite the opposite i walk around in some",
    "start": "980079",
    "end": "982959"
  },
  {
    "text": "cases for example is to do nothing",
    "start": "982959",
    "end": "985839"
  },
  {
    "text": "let's say your container crashes when",
    "start": "985839",
    "end": "988480"
  },
  {
    "text": "cycles are not ready",
    "start": "988480",
    "end": "990320"
  },
  {
    "text": "if you do nothing your container will",
    "start": "990320",
    "end": "992000"
  },
  {
    "text": "crash until the cycles are ready and the",
    "start": "992000",
    "end": "993839"
  },
  {
    "text": "next time it is restarted",
    "start": "993839",
    "end": "995279"
  },
  {
    "text": "it will work this can be slow though and",
    "start": "995279",
    "end": "998560"
  },
  {
    "text": "if your sidecar depends on some other",
    "start": "998560",
    "end": "1000320"
  },
  {
    "text": "cycles they can",
    "start": "1000320",
    "end": "1001519"
  },
  {
    "text": "this can get easily super slow and this",
    "start": "1001519",
    "end": "1004399"
  },
  {
    "text": "will be a problem you",
    "start": "1004399",
    "end": "1005600"
  },
  {
    "text": "you face to scale up when traffic",
    "start": "1005600",
    "end": "1007279"
  },
  {
    "text": "increases for example",
    "start": "1007279",
    "end": "1010240"
  },
  {
    "text": "another workaround is to change your",
    "start": "1010240",
    "end": "1011920"
  },
  {
    "text": "container entry point for example you",
    "start": "1011920",
    "end": "1013680"
  },
  {
    "text": "can change it",
    "start": "1013680",
    "end": "1014959"
  },
  {
    "text": "with a script that waits for other",
    "start": "1014959",
    "end": "1016639"
  },
  {
    "text": "cycles to be ready and only then starts",
    "start": "1016639",
    "end": "1018959"
  },
  {
    "text": "the main process in the container",
    "start": "1018959",
    "end": "1021519"
  },
  {
    "text": "an example of this is the link of the",
    "start": "1021519",
    "end": "1023360"
  },
  {
    "text": "await comment and that waits for",
    "start": "1023360",
    "end": "1025038"
  },
  {
    "text": "lingerie to become ready and then",
    "start": "1025039",
    "end": "1026640"
  },
  {
    "text": "executes",
    "start": "1026640",
    "end": "1027760"
  },
  {
    "text": "your container process this has a lot of",
    "start": "1027760",
    "end": "1030798"
  },
  {
    "text": "downsides",
    "start": "1030799",
    "end": "1031600"
  },
  {
    "text": "because it becomes impossible with lot",
    "start": "1031600",
    "end": "1034160"
  },
  {
    "text": "of side cars and we fill the promise of",
    "start": "1034160",
    "end": "1036160"
  },
  {
    "text": "augmenting the functionality without",
    "start": "1036160",
    "end": "1037918"
  },
  {
    "text": "changes to the main container",
    "start": "1037919",
    "end": "1039600"
  },
  {
    "text": "the container are completely coupled",
    "start": "1039600",
    "end": "1042000"
  },
  {
    "text": "right now i fully do this",
    "start": "1042000",
    "end": "1045120"
  },
  {
    "text": "something similar happens on shutdown",
    "start": "1045679",
    "end": "1047600"
  },
  {
    "text": "there are no order warranties on shelton",
    "start": "1047600",
    "end": "1049760"
  },
  {
    "text": "either",
    "start": "1049760",
    "end": "1050720"
  },
  {
    "text": "so the sidecar can terminate before the",
    "start": "1050720",
    "end": "1052559"
  },
  {
    "text": "main application and this is a",
    "start": "1052559",
    "end": "1054640"
  },
  {
    "text": "big problem for several scenarios let's",
    "start": "1054640",
    "end": "1057520"
  },
  {
    "text": "say the sidecar is a service mesh again",
    "start": "1057520",
    "end": "1060080"
  },
  {
    "text": "if the service mesh is killed before",
    "start": "1060080",
    "end": "1061679"
  },
  {
    "text": "your main container we won't be able to",
    "start": "1061679",
    "end": "1063520"
  },
  {
    "text": "gracefully finish in flight connections",
    "start": "1063520",
    "end": "1066000"
  },
  {
    "text": "because we can use the network and this",
    "start": "1066000",
    "end": "1067919"
  },
  {
    "text": "is a big problem",
    "start": "1067919",
    "end": "1070000"
  },
  {
    "text": "uh warper runs we have are from far from",
    "start": "1070000",
    "end": "1072320"
  },
  {
    "text": "who",
    "start": "1072320",
    "end": "1073440"
  },
  {
    "text": "far from good uh to like doing a slip to",
    "start": "1073440",
    "end": "1076640"
  },
  {
    "text": "delay being killed or ignoring term or",
    "start": "1076640",
    "end": "1079039"
  },
  {
    "text": "just losing some traffic",
    "start": "1079039",
    "end": "1080799"
  },
  {
    "text": "all work on all workarounds have big",
    "start": "1080799",
    "end": "1083600"
  },
  {
    "text": "downsides",
    "start": "1083600",
    "end": "1086080"
  },
  {
    "text": "another problem that i want to talk",
    "start": "1086320",
    "end": "1087600"
  },
  {
    "text": "about is that we can't use cycle",
    "start": "1087600",
    "end": "1090480"
  },
  {
    "text": "containers with a job today",
    "start": "1090480",
    "end": "1092640"
  },
  {
    "text": "a job is a part that runs until",
    "start": "1092640",
    "end": "1094720"
  },
  {
    "text": "completion",
    "start": "1094720",
    "end": "1096080"
  },
  {
    "text": "completes something unfinished like the",
    "start": "1096080",
    "end": "1098559"
  },
  {
    "text": "first 100 digits of",
    "start": "1098559",
    "end": "1100000"
  },
  {
    "text": "pi",
    "start": "1100000",
    "end": "1102160"
  },
  {
    "text": "and it usually works like this the",
    "start": "1103679",
    "end": "1105600"
  },
  {
    "text": "container starts",
    "start": "1105600",
    "end": "1107200"
  },
  {
    "text": "compute something and finish therefore",
    "start": "1107200",
    "end": "1109440"
  },
  {
    "text": "all container exits",
    "start": "1109440",
    "end": "1110799"
  },
  {
    "text": "successfully and coordinates process to",
    "start": "1110799",
    "end": "1113280"
  },
  {
    "text": "clean up the",
    "start": "1113280",
    "end": "1114080"
  },
  {
    "text": "part however if we are using a",
    "start": "1114080",
    "end": "1117840"
  },
  {
    "text": "surface mesh for example we start the",
    "start": "1117840",
    "end": "1119760"
  },
  {
    "text": "part with two containers now the main",
    "start": "1119760",
    "end": "1121280"
  },
  {
    "text": "container and the service mesh",
    "start": "1121280",
    "end": "1123200"
  },
  {
    "text": "the manufacturer finishes but the",
    "start": "1123200",
    "end": "1125120"
  },
  {
    "text": "sidecar won't finish",
    "start": "1125120",
    "end": "1126320"
  },
  {
    "text": "and it will never finish because it is a",
    "start": "1126320",
    "end": "1128320"
  },
  {
    "text": "demon therefore",
    "start": "1128320",
    "end": "1130160"
  },
  {
    "text": "therefore the part continues to run",
    "start": "1130160",
    "end": "1132640"
  },
  {
    "text": "forever and",
    "start": "1132640",
    "end": "1133600"
  },
  {
    "text": "will never be cleaned up some",
    "start": "1133600",
    "end": "1136960"
  },
  {
    "text": "similar problems arise when we take into",
    "start": "1136960",
    "end": "1139120"
  },
  {
    "text": "account unit containers",
    "start": "1139120",
    "end": "1140640"
  },
  {
    "text": "because any containers of running",
    "start": "1140640",
    "end": "1142720"
  },
  {
    "text": "completion",
    "start": "1142720",
    "end": "1143919"
  },
  {
    "text": "um but let's not go into the details of",
    "start": "1143919",
    "end": "1147280"
  },
  {
    "text": "those now",
    "start": "1147280",
    "end": "1148000"
  },
  {
    "text": "we can read them in the cap linked at",
    "start": "1148000",
    "end": "1150240"
  },
  {
    "text": "the end",
    "start": "1150240",
    "end": "1151039"
  },
  {
    "text": "of the presentation if you want",
    "start": "1151039",
    "end": "1154480"
  },
  {
    "text": "so those are the problems uh we",
    "start": "1156000",
    "end": "1159280"
  },
  {
    "text": "currently have with zakker",
    "start": "1159280",
    "end": "1160799"
  },
  {
    "text": "but now let me tell you about the",
    "start": "1160799",
    "end": "1162400"
  },
  {
    "text": "coordinates enhancement proposal",
    "start": "1162400",
    "end": "1164480"
  },
  {
    "text": "we work on to improve the situation a",
    "start": "1164480",
    "end": "1166960"
  },
  {
    "text": "cap is a document that describes",
    "start": "1166960",
    "end": "1169120"
  },
  {
    "text": "any enhancement made to kubernetes and",
    "start": "1169120",
    "end": "1172320"
  },
  {
    "text": "the sidecar cap that adds the notion of",
    "start": "1172320",
    "end": "1175600"
  },
  {
    "text": "software containers to coordinates has a",
    "start": "1175600",
    "end": "1177440"
  },
  {
    "text": "long history",
    "start": "1177440",
    "end": "1178559"
  },
  {
    "text": "it was created in 2018 by joseph irving",
    "start": "1178559",
    "end": "1181679"
  },
  {
    "text": "and it started a big discussion in the",
    "start": "1181679",
    "end": "1183679"
  },
  {
    "text": "community about the different ways that",
    "start": "1183679",
    "end": "1185440"
  },
  {
    "text": "can be pursued",
    "start": "1185440",
    "end": "1186799"
  },
  {
    "text": "to solve these issues we just talked",
    "start": "1186799",
    "end": "1188960"
  },
  {
    "text": "about",
    "start": "1188960",
    "end": "1190480"
  },
  {
    "text": "i joined the sidecar effort in metro new",
    "start": "1190480",
    "end": "1192880"
  },
  {
    "text": "tuning and we really try to do what",
    "start": "1192880",
    "end": "1195039"
  },
  {
    "text": "what is best for the community so uh we",
    "start": "1195039",
    "end": "1198160"
  },
  {
    "text": "reach out to as much people as possible",
    "start": "1198160",
    "end": "1199840"
  },
  {
    "text": "to make sure what we propose in the cap",
    "start": "1199840",
    "end": "1201679"
  },
  {
    "text": "worked for al for for all and not only",
    "start": "1201679",
    "end": "1204640"
  },
  {
    "text": "for us uh",
    "start": "1204640",
    "end": "1206000"
  },
  {
    "text": "and as a side note uh by reaching out i",
    "start": "1206000",
    "end": "1208480"
  },
  {
    "text": "found out that several companies today",
    "start": "1208480",
    "end": "1210080"
  },
  {
    "text": "are",
    "start": "1210080",
    "end": "1210559"
  },
  {
    "text": "using a coordinated fork just to add the",
    "start": "1210559",
    "end": "1212320"
  },
  {
    "text": "concept of sidecar containers",
    "start": "1212320",
    "end": "1214320"
  },
  {
    "text": "i was really surprised about this and",
    "start": "1214320",
    "end": "1216400"
  },
  {
    "text": "but it helped me to convince myself that",
    "start": "1216400",
    "end": "1218320"
  },
  {
    "text": "this is a problem we need to solve in",
    "start": "1218320",
    "end": "1220240"
  },
  {
    "text": "some way or the other",
    "start": "1220240",
    "end": "1222720"
  },
  {
    "text": "and so as i was saying we invested a lot",
    "start": "1222720",
    "end": "1224880"
  },
  {
    "text": "of time and effort in this uh",
    "start": "1224880",
    "end": "1226799"
  },
  {
    "text": "we met with these companies but we also",
    "start": "1226799",
    "end": "1229120"
  },
  {
    "text": "met with developers from",
    "start": "1229120",
    "end": "1230559"
  },
  {
    "text": "linkedin istio and we did a bunch of",
    "start": "1230559",
    "end": "1232720"
  },
  {
    "text": "other things like",
    "start": "1232720",
    "end": "1234640"
  },
  {
    "text": "make sure the cubelet graceful shutdown",
    "start": "1234640",
    "end": "1236559"
  },
  {
    "text": "cap interacts properly with a sidecar",
    "start": "1236559",
    "end": "1238480"
  },
  {
    "text": "cap",
    "start": "1238480",
    "end": "1239840"
  },
  {
    "text": "we did a detailed analysis of some edge",
    "start": "1239840",
    "end": "1242159"
  },
  {
    "text": "cases that were a major concern for",
    "start": "1242159",
    "end": "1244080"
  },
  {
    "text": "using node",
    "start": "1244080",
    "end": "1245120"
  },
  {
    "text": "and we found some design issues and bags",
    "start": "1245120",
    "end": "1247360"
  },
  {
    "text": "that exist in the",
    "start": "1247360",
    "end": "1248400"
  },
  {
    "text": "cap and pr that weren't noticed in the",
    "start": "1248400",
    "end": "1251039"
  },
  {
    "text": "past two years",
    "start": "1251039",
    "end": "1253360"
  },
  {
    "text": "after all of this we improved the cap to",
    "start": "1253360",
    "end": "1256159"
  },
  {
    "text": "others",
    "start": "1256159",
    "end": "1256720"
  },
  {
    "text": "all concerned raised by synod and",
    "start": "1256720",
    "end": "1258720"
  },
  {
    "text": "companies using sidecars in their own",
    "start": "1258720",
    "end": "1260400"
  },
  {
    "text": "fork",
    "start": "1260400",
    "end": "1261200"
  },
  {
    "text": "it was not easy but we found our way",
    "start": "1261200",
    "end": "1263280"
  },
  {
    "text": "forward with reasonable traitors",
    "start": "1263280",
    "end": "1266640"
  },
  {
    "text": "sadly there was a catch the original cap",
    "start": "1266640",
    "end": "1269520"
  },
  {
    "text": "focused on doing a simple change",
    "start": "1269520",
    "end": "1271520"
  },
  {
    "text": "just adding the concept of side car",
    "start": "1271520",
    "end": "1273200"
  },
  {
    "text": "containers",
    "start": "1273200",
    "end": "1274799"
  },
  {
    "text": "and after much uh discussion and",
    "start": "1274799",
    "end": "1276799"
  },
  {
    "text": "deliberation it became clear that",
    "start": "1276799",
    "end": "1279120"
  },
  {
    "text": "this would this change would leave out",
    "start": "1279120",
    "end": "1281280"
  },
  {
    "text": "too many use cases that would require",
    "start": "1281280",
    "end": "1283039"
  },
  {
    "text": "significant uh additional work in the",
    "start": "1283039",
    "end": "1285280"
  },
  {
    "text": "future",
    "start": "1285280",
    "end": "1286640"
  },
  {
    "text": "so in october 2020 together with a",
    "start": "1286640",
    "end": "1288720"
  },
  {
    "text": "single community we decided to reject",
    "start": "1288720",
    "end": "1290799"
  },
  {
    "text": "the original cap and work on something",
    "start": "1290799",
    "end": "1292799"
  },
  {
    "text": "completely different",
    "start": "1292799",
    "end": "1294480"
  },
  {
    "text": "to solve more use cases some of the",
    "start": "1294480",
    "end": "1298000"
  },
  {
    "text": "ideas",
    "start": "1298000",
    "end": "1299200"
  },
  {
    "text": "that we might want to explore on on a",
    "start": "1299200",
    "end": "1301440"
  },
  {
    "text": "more radical cap include something like",
    "start": "1301440",
    "end": "1303600"
  },
  {
    "text": "useful levels for container startup or",
    "start": "1303600",
    "end": "1306000"
  },
  {
    "text": "termination",
    "start": "1306000",
    "end": "1306799"
  },
  {
    "text": "or or even add an explicit container to",
    "start": "1306799",
    "end": "1310080"
  },
  {
    "text": "container dependencies like container a",
    "start": "1310080",
    "end": "1312240"
  },
  {
    "text": "depends on container b",
    "start": "1312240",
    "end": "1315360"
  },
  {
    "text": "so the startup of the part looks like a",
    "start": "1315600",
    "end": "1318320"
  },
  {
    "text": "graph now",
    "start": "1318320",
    "end": "1320880"
  },
  {
    "text": "so we decided to reject this cap and",
    "start": "1320960",
    "end": "1323120"
  },
  {
    "text": "start from scratch also",
    "start": "1323120",
    "end": "1324880"
  },
  {
    "text": "like really from scratch we decided to",
    "start": "1324880",
    "end": "1327039"
  },
  {
    "text": "start collecting use cases for things",
    "start": "1327039",
    "end": "1329039"
  },
  {
    "text": "that are not properly supported in",
    "start": "1329039",
    "end": "1330480"
  },
  {
    "text": "corners today and",
    "start": "1330480",
    "end": "1332240"
  },
  {
    "text": "sketch some high-level ideas or",
    "start": "1332240",
    "end": "1334240"
  },
  {
    "text": "pre-proposals",
    "start": "1334240",
    "end": "1336720"
  },
  {
    "text": "we have done that and we have one",
    "start": "1336720",
    "end": "1338640"
  },
  {
    "text": "proposal by tim hawking",
    "start": "1338640",
    "end": "1340159"
  },
  {
    "text": "and the idea is to later choose with the",
    "start": "1340159",
    "end": "1341840"
  },
  {
    "text": "community which proposals should turn",
    "start": "1341840",
    "end": "1343840"
  },
  {
    "text": "in into a cap looking back",
    "start": "1343840",
    "end": "1347200"
  },
  {
    "text": "we made good progress we have documented",
    "start": "1347200",
    "end": "1349840"
  },
  {
    "text": "a lot of use cases we can now use to",
    "start": "1349840",
    "end": "1351760"
  },
  {
    "text": "create proposals and i really want to",
    "start": "1351760",
    "end": "1353760"
  },
  {
    "text": "thank everyone that helped by having the",
    "start": "1353760",
    "end": "1355360"
  },
  {
    "text": "reuse case there",
    "start": "1355360",
    "end": "1357840"
  },
  {
    "text": "this journey also helped to clarify that",
    "start": "1357840",
    "end": "1359919"
  },
  {
    "text": "side cars are somehow important to",
    "start": "1359919",
    "end": "1361679"
  },
  {
    "text": "kubernetes",
    "start": "1361679",
    "end": "1362880"
  },
  {
    "text": "and that we don't want to make minimal",
    "start": "1362880",
    "end": "1364799"
  },
  {
    "text": "changes we want something that probably",
    "start": "1364799",
    "end": "1366799"
  },
  {
    "text": "solves the problem",
    "start": "1366799",
    "end": "1369120"
  },
  {
    "text": "and that opens the door not only for",
    "start": "1369120",
    "end": "1371440"
  },
  {
    "text": "bigger changes but also for better",
    "start": "1371440",
    "end": "1373200"
  },
  {
    "text": "support",
    "start": "1373200",
    "end": "1374400"
  },
  {
    "text": "not just fixing the most obvious use",
    "start": "1374400",
    "end": "1376320"
  },
  {
    "text": "cases that need to work",
    "start": "1376320",
    "end": "1377760"
  },
  {
    "text": "but also more complex container",
    "start": "1377760",
    "end": "1380559"
  },
  {
    "text": "dependencies within the pot",
    "start": "1380559",
    "end": "1382720"
  },
  {
    "text": "overall uh this is clear a big very very",
    "start": "1382720",
    "end": "1386400"
  },
  {
    "text": "big project and we've come a long way",
    "start": "1386400",
    "end": "1389600"
  },
  {
    "text": "but even though it is far from finished",
    "start": "1389600",
    "end": "1391360"
  },
  {
    "text": "now",
    "start": "1391360",
    "end": "1393440"
  },
  {
    "text": "uh and with this wherever we're where we",
    "start": "1393440",
    "end": "1396480"
  },
  {
    "text": "are today",
    "start": "1396480",
    "end": "1397440"
  },
  {
    "text": "where at this precap stage joseph moved",
    "start": "1397440",
    "end": "1400840"
  },
  {
    "text": "on suddenly i don't expect to have the",
    "start": "1400840",
    "end": "1403520"
  },
  {
    "text": "time to move this from the pre-cap stage",
    "start": "1403520",
    "end": "1405840"
  },
  {
    "text": "we",
    "start": "1405840",
    "end": "1406240"
  },
  {
    "text": "currently are at all the way into a cap",
    "start": "1406240",
    "end": "1409200"
  },
  {
    "text": "and later to a gi feature",
    "start": "1409200",
    "end": "1411520"
  },
  {
    "text": "but i spend a lot of time on this and",
    "start": "1411520",
    "end": "1414000"
  },
  {
    "text": "would like to help so",
    "start": "1414000",
    "end": "1415520"
  },
  {
    "text": "let me know if i can help to reveal some",
    "start": "1415520",
    "end": "1417440"
  },
  {
    "text": "proposal or give some general input",
    "start": "1417440",
    "end": "1420480"
  },
  {
    "text": "like luckily uh matias from the",
    "start": "1420480",
    "end": "1422559"
  },
  {
    "text": "community has volunteered to continue to",
    "start": "1422559",
    "end": "1424400"
  },
  {
    "text": "drive this forward and i want to thank",
    "start": "1424400",
    "end": "1426320"
  },
  {
    "text": "him",
    "start": "1426320",
    "end": "1426720"
  },
  {
    "text": "again for this um",
    "start": "1426720",
    "end": "1430640"
  },
  {
    "text": "and yeah so to close regarding cycle",
    "start": "1430640",
    "end": "1433440"
  },
  {
    "text": "usage",
    "start": "1433440",
    "end": "1434000"
  },
  {
    "text": "uh we showed four uh problems with",
    "start": "1434000",
    "end": "1436080"
  },
  {
    "text": "cycles that don't have a",
    "start": "1436080",
    "end": "1437919"
  },
  {
    "text": "original workaround today and this is",
    "start": "1437919",
    "end": "1440320"
  },
  {
    "text": "making some companies fork the cubelet",
    "start": "1440320",
    "end": "1442320"
  },
  {
    "text": "like pinterest lyft have their public",
    "start": "1442320",
    "end": "1445360"
  },
  {
    "text": "forks on with her",
    "start": "1445360",
    "end": "1446880"
  },
  {
    "text": "netflix is also the version as manas",
    "start": "1446880",
    "end": "1449039"
  },
  {
    "text": "showed using the virtual cubelet",
    "start": "1449039",
    "end": "1451600"
  },
  {
    "text": "um sidecar seems to be a big win for",
    "start": "1451600",
    "end": "1454400"
  },
  {
    "text": "others too uh",
    "start": "1454400",
    "end": "1455360"
  },
  {
    "text": "it's a big win for lingardin in istio in",
    "start": "1455360",
    "end": "1458080"
  },
  {
    "text": "the software clash",
    "start": "1458080",
    "end": "1460320"
  },
  {
    "text": "it's also it seems tact on the google ci",
    "start": "1460320",
    "end": "1463520"
  },
  {
    "text": "cd will also benefit from this",
    "start": "1463520",
    "end": "1465360"
  },
  {
    "text": "as they mentioned in the presentation at",
    "start": "1465360",
    "end": "1467600"
  },
  {
    "text": "cube cubecon 2018",
    "start": "1467600",
    "end": "1470080"
  },
  {
    "text": "especially if we add more advanced",
    "start": "1470080",
    "end": "1471679"
  },
  {
    "text": "features",
    "start": "1471679",
    "end": "1473120"
  },
  {
    "text": "and regarding improving sidecar",
    "start": "1473120",
    "end": "1474640"
  },
  {
    "text": "supporting coordinators we're at this",
    "start": "1474640",
    "end": "1476640"
  },
  {
    "text": "precap stage and we expect a cap",
    "start": "1476640",
    "end": "1479679"
  },
  {
    "text": "out of the proposal to improve the",
    "start": "1479679",
    "end": "1481440"
  },
  {
    "text": "situation",
    "start": "1481440",
    "end": "1483600"
  },
  {
    "text": "here are the links for all the things",
    "start": "1483600",
    "end": "1485600"
  },
  {
    "text": "that we mentioned in the presentation",
    "start": "1485600",
    "end": "1489120"
  },
  {
    "text": "thank you very much we're really ready",
    "start": "1489679",
    "end": "1491760"
  },
  {
    "text": "to take some questions now",
    "start": "1491760",
    "end": "1495760"
  }
]