[
  {
    "start": "0",
    "end": "447000"
  },
  {
    "text": "all right welcome everyone so hello so",
    "start": "680",
    "end": "8880"
  },
  {
    "text": "this talk is going to be about exploring application portability across public cloud providers using k-8 by the numbers",
    "start": "8880",
    "end": "16289"
  },
  {
    "text": "it looks like you guys are here for the early happy hour so sorry there isn't a keg so hopefully you're really here for",
    "start": "16289",
    "end": "23460"
  },
  {
    "text": "our talk all right hello my name is Ivan Fonz I'm a software engineer for Red Hat I'm",
    "start": "23460",
    "end": "31320"
  },
  {
    "text": "a kubernetes member and a cig multi cluster core contributor and I'm working on various multi cluster projects one",
    "start": "31320",
    "end": "39450"
  },
  {
    "text": "interesting thing about me is that I will be a father sometime early next year right my name is Aaron Boyd I'm",
    "start": "39450",
    "end": "51149"
  },
  {
    "text": "contributed to kubernetes I work in the office of the CTO for Red Hat and an",
    "start": "51149",
    "end": "57210"
  },
  {
    "text": "interesting thing about me this was me 40 minutes ago in the speaker's lunch cuz we just got our demo working so yes",
    "start": "57210",
    "end": "65000"
  },
  {
    "text": "very excited so pray that it's still working now that we've switched over to a different Wi-Fi so let's get started",
    "start": "65000",
    "end": "72869"
  },
  {
    "text": "all right so show of hands how many of you have heard of Federation version 2 in kubernetes okay few you out there so",
    "start": "72869",
    "end": "82320"
  },
  {
    "text": "I won't go into too much detail here but if you're interested in more details we do have a cig multi cluster deep dive",
    "start": "82320",
    "end": "88020"
  },
  {
    "text": "session on Thursday morning at 10:50 that I encourage you all to go to so what is Federation well it's the ability",
    "start": "88020",
    "end": "95790"
  },
  {
    "text": "to manage n non-homogenous kubernetes clusters these could be clusters in",
    "start": "95790",
    "end": "100920"
  },
  {
    "text": "public cloud private cloud basically any kubernetes cluster that you have the API",
    "start": "100920",
    "end": "107310"
  },
  {
    "text": "server access information to and so it basically allows you to synchronize your",
    "start": "107310",
    "end": "112710"
  },
  {
    "text": "resources across all of these clusters it also enables high availability and it",
    "start": "112710",
    "end": "118590"
  },
  {
    "text": "does that by basically allowing you to distribute your resources onto different clusters and so you don't have a single",
    "start": "118590",
    "end": "125040"
  },
  {
    "text": "point of failure in any single cluster it also enables freedom of choice and",
    "start": "125040",
    "end": "130879"
  },
  {
    "text": "basically it allows you to freely to move your application on to any",
    "start": "130879",
    "end": "137980"
  },
  {
    "text": "cluster that you have and it really reduces the burden to doing that so what",
    "start": "137980",
    "end": "143420"
  },
  {
    "text": "do you get with the Federation version two that we have today well it's a CR D",
    "start": "143420",
    "end": "148879"
  },
  {
    "text": "based Federation API so you get a native kubernetes experience you can talk",
    "start": "148879",
    "end": "155120"
  },
  {
    "text": "directly to the kubernetes api server in the host cluster that's hosting the Federation control plane and you can",
    "start": "155120",
    "end": "161180"
  },
  {
    "text": "configure the control plane directly through that you also have the ability to fetter a 10 e resource type and so",
    "start": "161180",
    "end": "168769"
  },
  {
    "text": "this could be a resource type within the core kubernetes so like a deployment or a service or it could be any custom",
    "start": "168769",
    "end": "175819"
  },
  {
    "text": "resource definition that you define as well as any API that you're aggregating",
    "start": "175819",
    "end": "180829"
  },
  {
    "text": "via an aggregated API server you also get the ability to specify overrides so",
    "start": "180829",
    "end": "188090"
  },
  {
    "text": "you can have field level overrides by specifying some sort of difference from",
    "start": "188090",
    "end": "193910"
  },
  {
    "text": "one cluster to another so for example if you have like deployments and you want to specify replicas difference in",
    "start": "193910",
    "end": "201139"
  },
  {
    "text": "replicas from one cluster to another you can do that via overrides and we'll see a little bit of that you also get the",
    "start": "201139",
    "end": "207680"
  },
  {
    "text": "ability to specify placement decisions so you can provide these placement directives that dictate where you want",
    "start": "207680",
    "end": "213980"
  },
  {
    "text": "your resources placed in your set of clusters in your Federation and we",
    "start": "213980",
    "end": "218989"
  },
  {
    "text": "support basically a list of clusters or a label based selector on your clusters",
    "start": "218989",
    "end": "224510"
  },
  {
    "text": "if you categorize them and label your clusters that way we also have dynamic scheduling so you can basically four",
    "start": "224510",
    "end": "232069"
  },
  {
    "text": "replicas or deployments specify a certain number of max replicas and you can provide preferences and rules to",
    "start": "232069",
    "end": "238819"
  },
  {
    "text": "distribute those set of replicas amongst your Federation in any particular way that you want and then lastly across",
    "start": "238819",
    "end": "245420"
  },
  {
    "text": "cluster service discovery basically gives you the ability to discover your services across clusters it's a DNS",
    "start": "245420",
    "end": "252380"
  },
  {
    "text": "based mechanism and it does that via federated services and federated ingress along with a project called external DNS",
    "start": "252380",
    "end": "259970"
  },
  {
    "text": "that allows you to program various different DNS Reiter's so what one of the things",
    "start": "259970",
    "end": "267530"
  },
  {
    "text": "Federation enables is application portability and so we define that as these use cases here which is basically",
    "start": "267530",
    "end": "274750"
  },
  {
    "text": "having the ability to move your application and perhaps its data onto a",
    "start": "274750",
    "end": "279830"
  },
  {
    "text": "different cluster and this is kubernetes clusters of course also the ability to burst your application on to multiple",
    "start": "279830",
    "end": "288289"
  },
  {
    "text": "clusters depending on like workload demand as well as possibly removing a",
    "start": "288289",
    "end": "293900"
  },
  {
    "text": "cluster or failing over by removing it from the Federation and having like zero downtime for your application and so now",
    "start": "293900",
    "end": "302360"
  },
  {
    "text": "I'll hand it over to Aaron to talk about the data ok so storage is arguably one",
    "start": "302360",
    "end": "307490"
  },
  {
    "text": "of the most sticky parts of migrating applications across clusters so we've",
    "start": "307490",
    "end": "314120"
  },
  {
    "text": "come up with what we think are kind of the general patterns around migrating data so the first one is stretched this",
    "start": "314120",
    "end": "322190"
  },
  {
    "text": "is kind of a word we came up with it Red Hat that's just how we envision it in our head but it's the ability to take one",
    "start": "322190",
    "end": "328550"
  },
  {
    "text": "single volume and stretch it across the Federation meaning I have a single volume that's accessible from AWS GCE",
    "start": "328550",
    "end": "336199"
  },
  {
    "text": "and Azure all at the same time we have",
    "start": "336199",
    "end": "341960"
  },
  {
    "text": "also a pattern a geo sensitive or cloud specific so if you're running a high-performance application you may",
    "start": "341960",
    "end": "347509"
  },
  {
    "text": "want to use a federation pattern to keep that type of persistent volume that's native to that cloud or the default",
    "start": "347509",
    "end": "353900"
  },
  {
    "text": "storage class as what you're going to store your data within and we'll actually show you that within our demo",
    "start": "353900",
    "end": "359770"
  },
  {
    "text": "the next one is containerized storage so for software-defined storage are a couple different options in the",
    "start": "359770",
    "end": "365389"
  },
  {
    "text": "kubernetes ecosystem where we can actually have containerized storage within kubernetes and with that",
    "start": "365389",
    "end": "372440"
  },
  {
    "text": "we can actually federates us towards although we've only got it working in a homogenous set of AWS clusters you can",
    "start": "372440",
    "end": "379909"
  },
  {
    "text": "actually deploy a federation application have it create the storage on the",
    "start": "379909",
    "end": "385699"
  },
  {
    "text": "clusters that you're going to at the same time and this affords you the ability to have a single control plane",
    "start": "385699",
    "end": "392089"
  },
  {
    "text": "with both your application and data which is really slick and then the last one last but not least there's",
    "start": "392089",
    "end": "399130"
  },
  {
    "text": "always brownfield not everything is green we talked about a control plane where you leave the data in place now",
    "start": "399130",
    "end": "405250"
  },
  {
    "text": "this isn't an ideal situation but I think in kubernetes you know we try really hard within the storage saying",
    "start": "405250",
    "end": "410590"
  },
  {
    "text": "not to dictate how you should do something we should just be exposing the ways that you can and it might be that",
    "start": "410590",
    "end": "416830"
  },
  {
    "text": "in your enterprise you want to leave the data in place you have a private cloud it's sensitive data and there's no way",
    "start": "416830",
    "end": "423730"
  },
  {
    "text": "you want to migrate that to the cloud but you want to expose the application itself storing the data locally",
    "start": "423730",
    "end": "430500"
  },
  {
    "text": "Federation the last pattern allows you to do this you can leave your data base in place on your private cloud still run",
    "start": "430500",
    "end": "437710"
  },
  {
    "text": "your application in the public cloud and ride the data back so with that let's",
    "start": "437710",
    "end": "444160"
  },
  {
    "text": "see it in real life all right so let's take a look here and let's show you the",
    "start": "444160",
    "end": "454180"
  },
  {
    "start": "447000",
    "end": "649000"
  },
  {
    "text": "current state of things here so what we have is a set of kubernetes clusters we",
    "start": "454180",
    "end": "460240"
  },
  {
    "text": "have a cluster running on AWS GCP and Azure and we've deployed the Federation",
    "start": "460240",
    "end": "467080"
  },
  {
    "text": "control plane on to the GCP cluster specifically and we've deployed",
    "start": "467080",
    "end": "473740"
  },
  {
    "text": "containerized MongoDB on to each of the clusters with the Federation control",
    "start": "473740",
    "end": "479530"
  },
  {
    "text": "plane and we we deployed containerized MongoDB and we created a replica set so",
    "start": "479530",
    "end": "485740"
  },
  {
    "text": "we're replicating data within we then took a reference application like",
    "start": "485740",
    "end": "490960"
  },
  {
    "text": "pac-man and we containerized it it's not-- based on nodejs and we deployed that through the",
    "start": "490960",
    "end": "497410"
  },
  {
    "text": "Federation control plane as well and we have that running right now on AWS and",
    "start": "497410",
    "end": "503970"
  },
  {
    "text": "GCP so I'm going to transition to the turn while here and on the right you",
    "start": "503970",
    "end": "510400"
  },
  {
    "text": "will see the list of let me increase that a little bit",
    "start": "510400",
    "end": "517350"
  },
  {
    "text": "all right so on the right you can see that we have a watch running on each of",
    "start": "518690",
    "end": "524660"
  },
  {
    "text": "the let me expand that a little bit we have a watch running so that you can see",
    "start": "524660",
    "end": "530330"
  },
  {
    "text": "the pods in each of the clusters and on",
    "start": "530330",
    "end": "535640"
  },
  {
    "text": "the top you can see we have the GCP cluster and it's running five instances",
    "start": "535640",
    "end": "540860"
  },
  {
    "text": "of pac-man there and we have the AWS cluster here and it's running three",
    "start": "540860",
    "end": "546980"
  },
  {
    "text": "instances of pac-man and we'll talk a little bit about the differences there but let me show you the configs that",
    "start": "546980",
    "end": "553130"
  },
  {
    "text": "were involved in deploying this so here we have a federated deployment which is",
    "start": "553130",
    "end": "559910"
  },
  {
    "text": "a resource type defined by the Federation version 2 API and it embeds a",
    "start": "559910",
    "end": "565520"
  },
  {
    "text": "kubernetes deployment spec within it and it's just some basic standard deployment stuff within that spec and so here the",
    "start": "565520",
    "end": "573770"
  },
  {
    "text": "interesting part is that we're listing we want 5 replicas similarly we have a",
    "start": "573770",
    "end": "581650"
  },
  {
    "text": "federated deployment override and if you are wondering why the gke",
    "start": "581650",
    "end": "587330"
  },
  {
    "text": "cluster here shows 5 pods and AWS only shows 3 it's because we have this federated deployment override API that",
    "start": "587330",
    "end": "596480"
  },
  {
    "text": "we basically can list a set of overrides so on the AWS cluster here we're wanting",
    "start": "596480",
    "end": "602840"
  },
  {
    "text": "to override these spectra placards and we specify the value of 3 so we only have three pods running in AWS and the",
    "start": "602840",
    "end": "610070"
  },
  {
    "text": "default is 5 for anything else and then we have the federated deployment",
    "start": "610070",
    "end": "616400"
  },
  {
    "text": "placement resource here and it basically provides the list of clusters where we",
    "start": "616400",
    "end": "621500"
  },
  {
    "text": "want to federate this resource and here you can see that we've listed our Google Cloud cluster and the AWS cluster and",
    "start": "621500",
    "end": "629330"
  },
  {
    "text": "this could similarly be a label selector if you had labels on your clusters so",
    "start": "629330",
    "end": "636680"
  },
  {
    "text": "now that you've seen that let's go ahead and play some pac-man play pac-man you",
    "start": "636680",
    "end": "643730"
  },
  {
    "text": "guys gonna play with us yeah",
    "start": "643730",
    "end": "647920"
  },
  {
    "text": "all right so here you can see that on the top we have a can you guys see the",
    "start": "648749",
    "end": "656680"
  },
  {
    "text": "URL to join yeah should be at the top there do you have an iPhone it's not gonna work so feel free to play along on",
    "start": "656680",
    "end": "664869"
  },
  {
    "text": "your laptops or Android devices but I'll show you up live here in case you don't",
    "start": "664869",
    "end": "672730"
  },
  {
    "text": "have a compatible device so the cloud here you can see that we're running on Google's cloud and some other print",
    "start": "672730",
    "end": "679179"
  },
  {
    "text": "information like the zone and the host so similarly here on the right you can",
    "start": "679179",
    "end": "686050"
  },
  {
    "text": "see kind of a live stats being updated as folks are playing and I'll go ahead",
    "start": "686050",
    "end": "692949"
  },
  {
    "text": "and play around here just trying to",
    "start": "692949",
    "end": "709899"
  },
  {
    "text": "collect some score here and let's say that as Ivan won and we can view the",
    "start": "709899",
    "end": "717160"
  },
  {
    "text": "high score here and we see that Ivan won what's persisted running on Google's cloud with a high score of 370 and",
    "start": "717160",
    "end": "726850"
  },
  {
    "text": "refresh and you can see now we're on the AWS cloud here we have a load balancer",
    "start": "726850",
    "end": "732790"
  },
  {
    "text": "that's just performing round-robin across the different clusters and you can basically play on both cloud",
    "start": "732790",
    "end": "739389"
  },
  {
    "text": "providers so let's play another round here all right let's save that is Ivan",
    "start": "739389",
    "end": "767350"
  },
  {
    "text": "to view the high score looks like we've already got some people playing here so",
    "start": "767350",
    "end": "772809"
  },
  {
    "text": "there's Ivan to AWS and with the high score of 790",
    "start": "772809",
    "end": "780459"
  },
  {
    "text": "so now that you've seen that let's go",
    "start": "780459",
    "end": "786260"
  },
  {
    "text": "ahead and transition back to the slides here so since there's a lot of people",
    "start": "786260",
    "end": "793790"
  },
  {
    "text": "playing let's say that we need to scale up our resources a little bit and we need to add another cluster to the set",
    "start": "793790",
    "end": "801290"
  },
  {
    "text": "of clusters that are running this pac-man instance well with Federation control plane we can do that really",
    "start": "801290",
    "end": "807170"
  },
  {
    "text": "easily just by editing the federated deployment placement and this is that",
    "start": "807170",
    "end": "812449"
  },
  {
    "text": "resource that I was describing earlier and we're just editing the live configure and we'll go ahead and add the",
    "start": "812449",
    "end": "819980"
  },
  {
    "text": "azure cluster that's running in the central part of the US so save that and",
    "start": "819980",
    "end": "826459"
  },
  {
    "text": "on the right you'll see the list of pacman instances coming up and we have",
    "start": "826459",
    "end": "833660"
  },
  {
    "text": "five pods running there and the load balancer will detect the cluster coming",
    "start": "833660",
    "end": "838790"
  },
  {
    "text": "online and so if we go back to our game here we can hit refresh and there's a",
    "start": "838790",
    "end": "846680"
  },
  {
    "text": "sure right here at the top and let's go ahead and play around all right we'll",
    "start": "846680",
    "end": "877279"
  },
  {
    "text": "save that as Ivan three view the high scores here and Ivan trees clearly off",
    "start": "877279",
    "end": "883850"
  },
  {
    "text": "the page because I'm no longer that great and here's Ivan three running on",
    "start": "883850",
    "end": "890269"
  },
  {
    "text": "address cloud with a high score of 720",
    "start": "890269",
    "end": "894459"
  },
  {
    "text": "so just to show you the other cloud providers let's just refresh and here's",
    "start": "896620",
    "end": "902060"
  },
  {
    "text": "AWS let's look at the high score we can see that Ivan 3 is there",
    "start": "902060",
    "end": "909550"
  },
  {
    "text": "and let's refresh again let's get GCP",
    "start": "909550",
    "end": "918630"
  },
  {
    "text": "and there's GCP and we can look at the high scores there and we can see that",
    "start": "919620",
    "end": "925170"
  },
  {
    "text": "the same scores persisted alright so we're running on all three cloud providers pretty easily and so let's go",
    "start": "925170",
    "end": "932380"
  },
  {
    "text": "ahead and decide for some reason whatever reason you have we want to",
    "start": "932380",
    "end": "937840"
  },
  {
    "text": "migrate away from AWS and just be running on Azure and GCP so similarly as",
    "start": "937840",
    "end": "944950"
  },
  {
    "text": "you saw earlier let's go ahead and just remove AWS and you can see on the right",
    "start": "944950",
    "end": "954640"
  },
  {
    "text": "there pac-man resources are gone from AWS the load balancer picks up that change and",
    "start": "954640",
    "end": "960840"
  },
  {
    "text": "we can come in here and if we hit refresh",
    "start": "960840",
    "end": "965850"
  },
  {
    "text": "all right we have GCP let's look at the high scores again you see all the scores are in there refresh one more time and",
    "start": "975750",
    "end": "985670"
  },
  {
    "text": "people are playing apparently and there's a j''r and we can see the high",
    "start": "985670",
    "end": "992520"
  },
  {
    "text": "score you can refresh this as many times you want and you will not hit AWS pretty",
    "start": "992520",
    "end": "1002150"
  },
  {
    "text": "slick so what you didn't really see with",
    "start": "1002150",
    "end": "1013010"
  },
  {
    "text": "storage which you shouldn't see right storage should just be easy it should just work so when we originally dreamed",
    "start": "1013010",
    "end": "1020210"
  },
  {
    "text": "up this demo we thought it would be really cool if I used one storage provider for everything that I wanted to",
    "start": "1020210",
    "end": "1026300"
  },
  {
    "text": "do in my cluster so we wanted to put our stretch volume on we wanted to use our stretch volume for our logs well",
    "start": "1026300",
    "end": "1033079"
  },
  {
    "text": "that didn't quite work out the way we wanted to work similar to this I don't",
    "start": "1033079",
    "end": "1040188"
  },
  {
    "text": "know if you guys have seen this video on LinkedIn it's like we built this playground when we tried that pattern",
    "start": "1040189",
    "end": "1048280"
  },
  {
    "text": "notice no one is using the slide so",
    "start": "1049660",
    "end": "1055520"
  },
  {
    "text": "having the stretch volume on top of an application that already provides replication is similar to this it's",
    "start": "1055520",
    "end": "1061250"
  },
  {
    "text": "completely unnecessary",
    "start": "1061250",
    "end": "1064450"
  },
  {
    "text": "and Wi-Fi is not great so let's move on",
    "start": "1067030",
    "end": "1072100"
  },
  {
    "text": "so I kind of call this my tinfoil hat pattern so if you're super paranoid that",
    "start": "1077760",
    "end": "1083370"
  },
  {
    "text": "you're gonna lose the data and it's that important and you feel like you need to double replicate something then sure it",
    "start": "1083370",
    "end": "1089010"
  },
  {
    "text": "does work we got it working but probably not the best pattern it's expensive and unnecessary double replication doesn't",
    "start": "1089010",
    "end": "1096450"
  },
  {
    "text": "equal double prizes so what could we use our stretched volume with where does that feel like it fits into this whole",
    "start": "1096450",
    "end": "1102450"
  },
  {
    "text": "Federation pattern and what did we end up doing so what we ended up doing was actually pretty clever so we took on",
    "start": "1102450",
    "end": "1108630"
  },
  {
    "text": "each cloud provider using its default storage class so AWS we use an EBS",
    "start": "1108630",
    "end": "1113700"
  },
  {
    "text": "volume at GCE we used a PD we were able to federate and just say create me",
    "start": "1113700",
    "end": "1120150"
  },
  {
    "text": "a PV PV C combination bind it and use that storage type that you natively use",
    "start": "1120150",
    "end": "1125370"
  },
  {
    "text": "and I don't have to worry about it it just works is I even showed us the high scores are still propagated and",
    "start": "1125370",
    "end": "1131640"
  },
  {
    "text": "replicated completely across because that's what does best and we're just gonna let do its thing but",
    "start": "1131640",
    "end": "1137820"
  },
  {
    "text": "then we wanted to highlight what Federation affords to something like a",
    "start": "1137820",
    "end": "1143280"
  },
  {
    "text": "stretch volume so what we did is we ended up stretching our logs across that so we were able to take the logs that",
    "start": "1143280",
    "end": "1149010"
  },
  {
    "text": " produces from each of the instances and write it to a single volume so everyone's counting on who",
    "start": "1149010",
    "end": "1155040"
  },
  {
    "text": "cares about logs probably a lot of DevOps people care about logs you know and if you don't care about logs maybe",
    "start": "1155040",
    "end": "1160920"
  },
  {
    "text": "you care about an aggregate of the data to be written to this stretched volume so we kind of refer to this always",
    "start": "1160920",
    "end": "1167520"
  },
  {
    "text": "available everywhere all the time and if any of you were able to attend the cns day yesterday there were a lot of",
    "start": "1167520",
    "end": "1173640"
  },
  {
    "text": "customers there that we're interested in exactly being able to have this ability within Federation that you want to have",
    "start": "1173640",
    "end": "1179550"
  },
  {
    "text": "a little subset of cache data possibly available through all the clusters everywhere and even if a federated",
    "start": "1179550",
    "end": "1185460"
  },
  {
    "text": "instance goes down it's still persisted and it's not lost so let's show the logs",
    "start": "1185460",
    "end": "1192960"
  },
  {
    "text": "real quick just to prove it to you make sure we're not lying",
    "start": "1192960",
    "end": "1196970"
  },
  {
    "start": "1194000",
    "end": "1254000"
  },
  {
    "text": "so I'm gonna ssh to the instance here running on GCE and i'm going to CD into",
    "start": "1198090",
    "end": "1206820"
  },
  {
    "text": "the amount point that's hosting these logs and you can see that we have the",
    "start": "1206820",
    "end": "1213300"
  },
  {
    "text": "logs running for each of the cluster instances in each of the cloud providers",
    "start": "1213300",
    "end": "1219390"
  },
  {
    "text": "so you can see aks here for Azure gke here for GCP and ec2 here for AWS and",
    "start": "1219390",
    "end": "1227010"
  },
  {
    "text": "even though we killed a W AWS instance again it's persisted it's still there",
    "start": "1227010",
    "end": "1232050"
  },
  {
    "text": "it's not updating like the others but the data is still there and available so if you do have a critical application you're trying to debug that dies in one",
    "start": "1232050",
    "end": "1240960"
  },
  {
    "text": "of your federated clusters you then still have accessibility to that log from anywhere to be able to fix your",
    "start": "1240960",
    "end": "1245970"
  },
  {
    "text": "problem so that is our demo and it actually works",
    "start": "1245970",
    "end": "1253010"
  },
  {
    "start": "1254000",
    "end": "1362000"
  },
  {
    "text": "go ahead",
    "start": "1259290",
    "end": "1262470"
  },
  {
    "text": "so the question was in the scenario where we needed to scale up the",
    "start": "1279020",
    "end": "1284690"
  },
  {
    "text": "Federation clouds why did we not expand it within the current cloud why did we",
    "start": "1284690",
    "end": "1289740"
  },
  {
    "text": "expand it to a different cloud and then what was the load balancer we used so we",
    "start": "1289740",
    "end": "1294990"
  },
  {
    "text": "used an H a proxy load balancer and it's hosted in I can show you H a proxy load",
    "start": "1294990",
    "end": "1308070"
  },
  {
    "text": "balancer it's a deployment running on GCPs cloud and in it has the",
    "start": "1308070",
    "end": "1313140"
  },
  {
    "text": "configuration that with a health check for the pacman load balancers running",
    "start": "1313140",
    "end": "1319679"
  },
  {
    "text": "within the clusters themselves and load balancing across all of the clusters so",
    "start": "1319679",
    "end": "1325410"
  },
  {
    "text": "it's like a two-tier load balancer setup so the reason why we scaled to a different cloud is just to show the",
    "start": "1325410",
    "end": "1331710"
  },
  {
    "text": "flexibility of the Federation control control plane so there's a lot of like what's the difference between multi",
    "start": "1331710",
    "end": "1337679"
  },
  {
    "text": "cloud and multi cluster right so we're trying to highlight that it's multiple clusters on multiple clouds so it",
    "start": "1337679",
    "end": "1345690"
  },
  {
    "text": "affords you the flexibility to be able to have that choice that something went",
    "start": "1345690",
    "end": "1351240"
  },
  {
    "text": "wrong on AWS and I want to scale it up on you know GK so no other reason than",
    "start": "1351240",
    "end": "1358050"
  },
  {
    "text": "just to show the flexibility I guess does that answer your question",
    "start": "1358050",
    "end": "1362780"
  },
  {
    "start": "1362000",
    "end": "1586000"
  },
  {
    "text": "um I think that would have to be on a customer by customer basis I mean I think the whole point is just that you",
    "start": "1390039",
    "end": "1396200"
  },
  {
    "text": "have the choice it depends on the money let's say you have a bunch of free credits on Azure and you want to use",
    "start": "1396200",
    "end": "1402110"
  },
  {
    "text": "them why not right so",
    "start": "1402110",
    "end": "1406509"
  },
  {
    "text": "okay go ahead",
    "start": "1423310",
    "end": "1429149"
  },
  {
    "text": "well you were using a cluster registry and a resource called federated clusters",
    "start": "1444830",
    "end": "1450740"
  },
  {
    "text": "which basically provides auerbach credentials to the control plane itself to be able to create and modify the",
    "start": "1450740",
    "end": "1458779"
  },
  {
    "text": "resources necessary in each cluster if you wanted to provide more fine-grained control you could federate your arbok",
    "start": "1458779",
    "end": "1466460"
  },
  {
    "text": "resources however you see fit so you would define them and distribute them",
    "start": "1466460",
    "end": "1471769"
  },
  {
    "text": "through the Federation control plane however you want to define your resources so you can fetter eight like",
    "start": "1471769",
    "end": "1478340"
  },
  {
    "text": "service accounts cluster roles cluster role bindings and that type of stuff as",
    "start": "1478340",
    "end": "1483830"
  },
  {
    "text": "well",
    "start": "1483830",
    "end": "1486008"
  },
  {
    "text": "yeah and I've been bad about repeating it so you were asking did you understand that we were running different",
    "start": "1495750",
    "end": "1502020"
  },
  {
    "text": "pods in each one of the cloud providers correct yes yes well it's actually using",
    "start": "1502020",
    "end": "1514679"
  },
  {
    "text": "a service load balancer that's accessible across the public Internet",
    "start": "1514679",
    "end": "1520200"
  },
  {
    "text": "not necessarily something you want to do for security reasons we are looking into",
    "start": "1520200",
    "end": "1525510"
  },
  {
    "text": "other networking facets of this problem where perhaps we can tunnel traffic",
    "start": "1525510",
    "end": "1530909"
  },
  {
    "text": "between clusters but there's definitely a lot of networking use cases that we",
    "start": "1530909",
    "end": "1537120"
  },
  {
    "text": "need to consider as we continue to evolve this project",
    "start": "1537120",
    "end": "1541580"
  },
  {
    "text": "would it be a kubernetes I guess I don't know what you mean by that question you",
    "start": "1549950",
    "end": "1555680"
  },
  {
    "text": "- yep so the stretched volume is still",
    "start": "1555680",
    "end": "1563060"
  },
  {
    "text": "using kubernetes primitives it's still tied together with that pod through a PV PV C claim so when we set up the log we",
    "start": "1563060",
    "end": "1570560"
  },
  {
    "text": "just told it to write to this persistent volume claim so above everything else",
    "start": "1570560",
    "end": "1575840"
  },
  {
    "text": "it's still using you know kubernetes api primitives to be able to define these",
    "start": "1575840",
    "end": "1581000"
  },
  {
    "text": "resources so they're they're one in the same you're welcome go ahead",
    "start": "1581000",
    "end": "1587950"
  },
  {
    "start": "1586000",
    "end": "1941000"
  },
  {
    "text": "so you said how's it working with cops and kayoppe yep",
    "start": "1595850",
    "end": "1603470"
  },
  {
    "text": "okay so the question was basically how are you administrate you know administering it across the cluster and",
    "start": "1617320",
    "end": "1623380"
  },
  {
    "text": "are you using a network overlay so so we're not using a network overlay I",
    "start": "1623380",
    "end": "1629080"
  },
  {
    "text": "think the question is like how do you handle upgrades through the Federation control plane that's a very challenging",
    "start": "1629080",
    "end": "1637530"
  },
  {
    "text": "use case that we need to consider as we go forward we're still in the alpha stage so we do",
    "start": "1637530",
    "end": "1643210"
  },
  {
    "text": "have a pretty strict requirement that the clusters need to be at least at the version of the host cluster which is",
    "start": "1643210",
    "end": "1650500"
  },
  {
    "text": "1.11 right now but as we continue to progress and evolve the API and eventually hit beta we need to start",
    "start": "1650500",
    "end": "1657430"
  },
  {
    "text": "considering the aspects of upgrades",
    "start": "1657430",
    "end": "1661050"
  },
  {
    "text": "there is cross cluster communication because the cube API server in each of the clusters is available on the public",
    "start": "1665940",
    "end": "1672310"
  },
  {
    "text": "Internet as long as your credentials are set up appropriately you can access and configure the cluster and the control",
    "start": "1672310",
    "end": "1677740"
  },
  {
    "text": "plane the Federation control plane itself can access the cube API server in each of those clusters great question",
    "start": "1677740",
    "end": "1683500"
  },
  {
    "text": "yep",
    "start": "1683500",
    "end": "1686040"
  },
  {
    "text": "so the question is how does Federation relate with things like Sto",
    "start": "1701750",
    "end": "1707460"
  },
  {
    "text": "we actually have interest in the community on federating sto itself so",
    "start": "1707460",
    "end": "1715080"
  },
  {
    "text": "there was actually a presentation I believe earlier today for the cig multi cluster intro where sto itself was being",
    "start": "1715080",
    "end": "1722070"
  },
  {
    "text": "federated using the Federation control plane so you can think of the Federation as this very low level set of primitives",
    "start": "1722070",
    "end": "1727710"
  },
  {
    "text": "that can be built on top of and you can Fedder eight other higher level applications like sto in this example",
    "start": "1727710",
    "end": "1736100"
  },
  {
    "text": "question here the question is where was the Federation",
    "start": "1738410",
    "end": "1744799"
  },
  {
    "text": "control plane deployed in this case and it was deployed on GCPs cluster that could have easily been",
    "start": "1744799",
    "end": "1751460"
  },
  {
    "text": "deployed on AWS or Azure as well",
    "start": "1751460",
    "end": "1755470"
  },
  {
    "text": "a good question are there any latency considerations with the deployments in",
    "start": "1767410",
    "end": "1772510"
  },
  {
    "text": "each of the clusters you know where the Federation control plane is kind of needing to access these clusters that",
    "start": "1772510",
    "end": "1779320"
  },
  {
    "text": "are spanned across different regions yes I accept it's a declarative API so all",
    "start": "1779320",
    "end": "1785920"
  },
  {
    "text": "it's doing is really just making sure that that resource matches what you're requesting so there isn't necessarily like continuous sort of latency aspect",
    "start": "1785920",
    "end": "1794230"
  },
  {
    "text": "that needs to be considered of course these clusters are in the US region so there are a lot closer but we haven't",
    "start": "1794230",
    "end": "1800290"
  },
  {
    "text": "really seen any latency requirements like that around distributing the resources themselves but it is one of",
    "start": "1800290",
    "end": "1809350"
  },
  {
    "text": "the pitfalls right of Federation is the expectation that you're going to have a certain network you know performance",
    "start": "1809350",
    "end": "1816460"
  },
  {
    "text": "baseline that especially with storage you have to consider and distributed",
    "start": "1816460",
    "end": "1821740"
  },
  {
    "text": "storage so you know you're gonna have probably near real-time an eventual consistency but you're not going to have",
    "start": "1821740",
    "end": "1828100"
  },
  {
    "text": "that right out of the gate depending on your network so I mean that is a consideration and that's something to consider if you decide to go through Federation",
    "start": "1828100",
    "end": "1834610"
  },
  {
    "text": "as what kind of network bandwidth am I gonna have right and then the ability to switch you know the but again the design",
    "start": "1834610",
    "end": "1842020"
  },
  {
    "text": "allows you to switch like let's say that zone is really slow or you have your cluster federated somewhere and you can",
    "start": "1842020",
    "end": "1848530"
  },
  {
    "text": "bring it closer to where it is I mean you can you know switch zones as you have to if there's Network latency problems because I have seen that I have",
    "start": "1848530",
    "end": "1854650"
  },
  {
    "text": "seen where there's you know bursting and latency depending on what cloud you're in and what geography so one of the",
    "start": "1854650",
    "end": "1863680"
  },
  {
    "text": "things to consider too is the h.a aspects of the Federation control plane itself and there are at CD latency",
    "start": "1863680",
    "end": "1871270"
  },
  {
    "text": "restrictions that really inhibit the ability to kind of provide an H a Federation control plane itself this",
    "start": "1871270",
    "end": "1878470"
  },
  {
    "text": "mechanism uses a push reconciler where you're running the controller inside of the host cluster and it's actually",
    "start": "1878470",
    "end": "1883600"
  },
  {
    "text": "pushing resources to multiple clusters to kind of get around some of that there's potential for introducing like a",
    "start": "1883600",
    "end": "1890410"
  },
  {
    "text": "pull reconciler mechanism where you have controllers running in each of the clusters themselves to kind of provide",
    "start": "1890410",
    "end": "1897010"
  },
  {
    "text": "some of that h.a aspect and then they're pulling from kind of a in repository or something like using it",
    "start": "1897010",
    "end": "1903610"
  },
  {
    "text": "for example question over here we are",
    "start": "1903610",
    "end": "1914669"
  },
  {
    "text": "experimenting with Seth yes for sure and bluster and a lot of the different",
    "start": "1914669",
    "end": "1919899"
  },
  {
    "text": "storage providers so have not got that",
    "start": "1919899",
    "end": "1925779"
  },
  {
    "text": "working so far just cluster yep so I think we're at time I'm getting the to stop it thank you everyone if you have",
    "start": "1925779",
    "end": "1932350"
  },
  {
    "text": "other questions please feel free to reach out to us yeah we're up here we're up here you can email us hit us up on",
    "start": "1932350",
    "end": "1938200"
  },
  {
    "text": "Twitter thanks again [Applause]",
    "start": "1938200",
    "end": "1943349"
  }
]