[
  {
    "start": "0",
    "end": "64000"
  },
  {
    "text": "all right so what I want to talk about",
    "start": "290",
    "end": "3300"
  },
  {
    "text": "is the various cloud abstractions and",
    "start": "3300",
    "end": "5940"
  },
  {
    "text": "api's we have in kubernetes all the like",
    "start": "5940",
    "end": "10679"
  },
  {
    "text": "the cloud specific controllers we have",
    "start": "10679",
    "end": "13910"
  },
  {
    "text": "that actually like so the cloud specific",
    "start": "13910",
    "end": "16619"
  },
  {
    "text": "controllers we have that interface with",
    "start": "16619",
    "end": "18300"
  },
  {
    "text": "the communities API and the various",
    "start": "18300",
    "end": "20970"
  },
  {
    "text": "cloud providers they don't want to talk",
    "start": "20970",
    "end": "22830"
  },
  {
    "text": "about how we're trying to migrate from",
    "start": "22830",
    "end": "26269"
  },
  {
    "text": "the cube controller manager talking like",
    "start": "26269",
    "end": "30240"
  },
  {
    "text": "the cue controller manager interfacing",
    "start": "30240",
    "end": "31710"
  },
  {
    "text": "out to all the cloud providers into this",
    "start": "31710",
    "end": "33600"
  },
  {
    "text": "new model where we have the cloud",
    "start": "33600",
    "end": "35130"
  },
  {
    "text": "controller manager that is the only",
    "start": "35130",
    "end": "36840"
  },
  {
    "text": "thing in the cluster that talks to the",
    "start": "36840",
    "end": "38760"
  },
  {
    "text": "cloud provider and then I want to talk a",
    "start": "38760",
    "end": "41820"
  },
  {
    "text": "little bit about like how we're gonna",
    "start": "41820",
    "end": "43399"
  },
  {
    "text": "migrate from this inch like all the",
    "start": "43399",
    "end": "45780"
  },
  {
    "text": "cloud provider code living entry",
    "start": "45780",
    "end": "47129"
  },
  {
    "text": "indicates the iOS libraries to taste our",
    "start": "47129",
    "end": "49890"
  },
  {
    "text": "i/o slash communities ok sigh Oh slash",
    "start": "49890",
    "end": "52920"
  },
  {
    "text": "cloud provider whatever and then I'm",
    "start": "52920",
    "end": "56190"
  },
  {
    "text": "gonna highlight some of the technical",
    "start": "56190",
    "end": "58020"
  },
  {
    "text": "that we have in the project and then",
    "start": "58020",
    "end": "60149"
  },
  {
    "text": "yeah I want to leave about like 20",
    "start": "60149",
    "end": "61620"
  },
  {
    "text": "minutes for questions and discussions",
    "start": "61620",
    "end": "64338"
  },
  {
    "start": "64000",
    "end": "510000"
  },
  {
    "text": "alright so a large part of what the",
    "start": "64339",
    "end": "68490"
  },
  {
    "text": "cloud provider is trying to do is build",
    "start": "68490",
    "end": "70200"
  },
  {
    "text": "the right abstractions so that any",
    "start": "70200",
    "end": "72360"
  },
  {
    "text": "kubernetes cluster can run on any cloud",
    "start": "72360",
    "end": "76159"
  },
  {
    "text": "and so today's existing abstractions are",
    "start": "76159",
    "end": "79610"
  },
  {
    "text": "with nodes load balancers routes and",
    "start": "79610",
    "end": "83100"
  },
  {
    "text": "volumes so for nodes you can tell that's",
    "start": "83100",
    "end": "85710"
  },
  {
    "text": "probably kind of the the most the kind",
    "start": "85710",
    "end": "90210"
  },
  {
    "text": "of abstraction that's like kind of the",
    "start": "90210",
    "end": "92130"
  },
  {
    "text": "most important right now because every",
    "start": "92130",
    "end": "93420"
  },
  {
    "text": "kubernetes cluster is gonna have nodes",
    "start": "93420",
    "end": "95000"
  },
  {
    "text": "and within node we have to worry about",
    "start": "95000",
    "end": "98700"
  },
  {
    "text": "like the various instance types that",
    "start": "98700",
    "end": "100710"
  },
  {
    "text": "cloud providers use whether they have",
    "start": "100710",
    "end": "103770"
  },
  {
    "text": "like regions or zones or both we have to",
    "start": "103770",
    "end": "106950"
  },
  {
    "text": "worry about like the various address",
    "start": "106950",
    "end": "108450"
  },
  {
    "text": "types that nodes have and then we have",
    "start": "108450",
    "end": "110700"
  },
  {
    "text": "to worry about like how those nodes are",
    "start": "110700",
    "end": "114990"
  },
  {
    "text": "identified because some providers have",
    "start": "114990",
    "end": "118439"
  },
  {
    "text": "like uniqueness requirements for names",
    "start": "118439",
    "end": "120509"
  },
  {
    "text": "or they have like limitations to like",
    "start": "120509",
    "end": "124320"
  },
  {
    "text": "how long the node name can be or just a",
    "start": "124320",
    "end": "126270"
  },
  {
    "text": "lot of different things so we have to",
    "start": "126270",
    "end": "127649"
  },
  {
    "text": "like make sure that what we set as a",
    "start": "127649",
    "end": "129750"
  },
  {
    "text": "standard for provider ID you use and",
    "start": "129750",
    "end": "131310"
  },
  {
    "text": "whatnot is consistent",
    "start": "131310",
    "end": "134220"
  },
  {
    "text": "oh yeah let's talk more about nodes so",
    "start": "134220",
    "end": "138620"
  },
  {
    "text": "yeah I just talked about this one thing",
    "start": "138620",
    "end": "141600"
  },
  {
    "text": "I didn't talk about there's no",
    "start": "141600",
    "end": "142440"
  },
  {
    "text": "conditions and States so like some",
    "start": "142440",
    "end": "145290"
  },
  {
    "text": "providers let you shut down nodes some",
    "start": "145290",
    "end": "147840"
  },
  {
    "text": "providers let you like resize nodes and",
    "start": "147840",
    "end": "152040"
  },
  {
    "text": "then there's various like intermediate",
    "start": "152040",
    "end": "154110"
  },
  {
    "text": "like intermediate states between like",
    "start": "154110",
    "end": "156090"
  },
  {
    "text": "running and terminated and so like we",
    "start": "156090",
    "end": "159780"
  },
  {
    "text": "have to ensure that all those conditions",
    "start": "159780",
    "end": "162150"
  },
  {
    "text": "and states are captured within the",
    "start": "162150",
    "end": "163680"
  },
  {
    "text": "current node API that we have then yeah",
    "start": "163680",
    "end": "167670"
  },
  {
    "text": "addresses are talked about so that's",
    "start": "167670",
    "end": "169260"
  },
  {
    "text": "like internal IP use external IP ease",
    "start": "169260",
    "end": "171600"
  },
  {
    "text": "internal DNS and all that stuff and then",
    "start": "171600",
    "end": "174570"
  },
  {
    "text": "yeah regions and zones and then like",
    "start": "174570",
    "end": "178070"
  },
  {
    "text": "Brendan Burns talked yesterday's in",
    "start": "178070",
    "end": "180390"
  },
  {
    "text": "yesterday's keynote about like virtual",
    "start": "180390",
    "end": "181860"
  },
  {
    "text": "couplet so like how do we make sure that",
    "start": "181860",
    "end": "184470"
  },
  {
    "text": "we're building this node API in a way",
    "start": "184470",
    "end": "187050"
  },
  {
    "text": "where we can support things like virtual",
    "start": "187050",
    "end": "188400"
  },
  {
    "text": "cubelet in the future all right and load",
    "start": "188400",
    "end": "192120"
  },
  {
    "text": "balancers so when you create so little",
    "start": "192120",
    "end": "194190"
  },
  {
    "text": "balancer specifically is when you create",
    "start": "194190",
    "end": "195600"
  },
  {
    "text": "a service of type load balancer and",
    "start": "195600",
    "end": "197070"
  },
  {
    "text": "kubernetes it then like if it sees a",
    "start": "197070",
    "end": "200519"
  },
  {
    "text": "service of load balancer it'll then fan",
    "start": "200519",
    "end": "202799"
  },
  {
    "text": "out and like create all these various",
    "start": "202799",
    "end": "204450"
  },
  {
    "text": "load balancer resources",
    "start": "204450",
    "end": "206130"
  },
  {
    "text": "and so like some cloud providers the",
    "start": "206130",
    "end": "209670"
  },
  {
    "text": "little bouncer resource is just like a",
    "start": "209670",
    "end": "211019"
  },
  {
    "text": "single like a single thing that they",
    "start": "211019",
    "end": "213060"
  },
  {
    "text": "create whereas in other clouds when you",
    "start": "213060",
    "end": "215910"
  },
  {
    "text": "create a little balancer you're actually",
    "start": "215910",
    "end": "217019"
  },
  {
    "text": "trading like a resource for the",
    "start": "217019",
    "end": "218790"
  },
  {
    "text": "firewalls and the IP address is the DNS",
    "start": "218790",
    "end": "221579"
  },
  {
    "text": "and all that stuff and then various",
    "start": "221579",
    "end": "224400"
  },
  {
    "text": "cloud providers will support like both a",
    "start": "224400",
    "end": "226110"
  },
  {
    "text": "network globe bouncer and an application",
    "start": "226110",
    "end": "227760"
  },
  {
    "text": "load balancer and so we have to be",
    "start": "227760",
    "end": "229739"
  },
  {
    "text": "considerate of that as well so for",
    "start": "229739",
    "end": "232799"
  },
  {
    "text": "routes in ipam so some cloud providers",
    "start": "232799",
    "end": "236220"
  },
  {
    "text": "have a vp c routing table and this is",
    "start": "236220",
    "end": "239310"
  },
  {
    "text": "kind of so like when you create a node",
    "start": "239310",
    "end": "243239"
  },
  {
    "text": "and then you assign some sort of like",
    "start": "243239",
    "end": "245280"
  },
  {
    "text": "pot subnet to the node the the route",
    "start": "245280",
    "end": "248519"
  },
  {
    "text": "controller is responsible of like making",
    "start": "248519",
    "end": "250260"
  },
  {
    "text": "sure that the routing table for your",
    "start": "250260",
    "end": "252690"
  },
  {
    "text": "cluster is in sync with whatever the",
    "start": "252690",
    "end": "254820"
  },
  {
    "text": "whatever possum that the various nodes",
    "start": "254820",
    "end": "257489"
  },
  {
    "text": "have and then there's the discussion",
    "start": "257489",
    "end": "260280"
  },
  {
    "text": "around like should the routing in a",
    "start": "260280",
    "end": "261959"
  },
  {
    "text": "cluster be overlay or underlay and",
    "start": "261959",
    "end": "263640"
  },
  {
    "text": "that's going to vary a lot unlike what",
    "start": "263640",
    "end": "265380"
  },
  {
    "text": "the cloud provider",
    "start": "265380",
    "end": "267290"
  },
  {
    "text": "what what the club provider is actually",
    "start": "267290",
    "end": "269790"
  },
  {
    "text": "set up to do I mean there's also",
    "start": "269790",
    "end": "272300"
  },
  {
    "text": "ipam which is like how those planets are",
    "start": "272300",
    "end": "276870"
  },
  {
    "text": "allocated per node so some providers",
    "start": "276870",
    "end": "278880"
  },
  {
    "text": "like to do some some providers will",
    "start": "278880",
    "end": "281310"
  },
  {
    "text": "allocate that I Pam from some cloud",
    "start": "281310",
    "end": "283650"
  },
  {
    "text": "service that they have or they'll just",
    "start": "283650",
    "end": "285240"
  },
  {
    "text": "kind of offload all that onto the",
    "start": "285240",
    "end": "287130"
  },
  {
    "text": "kubernetes api so let's talk about",
    "start": "287130",
    "end": "290880"
  },
  {
    "text": "various controllers so for each",
    "start": "290880",
    "end": "294150"
  },
  {
    "text": "abstraction we have controller so no",
    "start": "294150",
    "end": "296370"
  },
  {
    "text": "controller which does both lifecycle",
    "start": "296370",
    "end": "298890"
  },
  {
    "text": "management and registration and then",
    "start": "298890",
    "end": "300570"
  },
  {
    "text": "there's service controller Rus",
    "start": "300570",
    "end": "301740"
  },
  {
    "text": "controller node IPAM controller and then",
    "start": "301740",
    "end": "304740"
  },
  {
    "text": "there's persistent volume label",
    "start": "304740",
    "end": "306090"
  },
  {
    "text": "controller so node registration so let's",
    "start": "306090",
    "end": "310500"
  },
  {
    "text": "first talk about node registration entry",
    "start": "310500",
    "end": "312920"
  },
  {
    "text": "so entry node registration essentially",
    "start": "312920",
    "end": "316470"
  },
  {
    "text": "is the cubelet because it's cloud",
    "start": "316470",
    "end": "319830"
  },
  {
    "text": "provider aware it builds some sort of",
    "start": "319830",
    "end": "322410"
  },
  {
    "text": "node resource sorry because it's clap",
    "start": "322410",
    "end": "328830"
  },
  {
    "text": "provider where it can build the node",
    "start": "328830",
    "end": "330930"
  },
  {
    "text": "resource on its own and then once it has",
    "start": "330930",
    "end": "334290"
  },
  {
    "text": "like all the metadata filled in specific",
    "start": "334290",
    "end": "337290"
  },
  {
    "text": "specific to you the cloud provider it'll",
    "start": "337290",
    "end": "339000"
  },
  {
    "text": "then send that to the cube API server",
    "start": "339000",
    "end": "342360"
  },
  {
    "text": "and then it'll read it will be",
    "start": "342360",
    "end": "343410"
  },
  {
    "text": "registered with all the the data it",
    "start": "343410",
    "end": "347040"
  },
  {
    "text": "knows about itself from the cloud",
    "start": "347040",
    "end": "348600"
  },
  {
    "text": "provider and so the outer tree model",
    "start": "348600",
    "end": "351780"
  },
  {
    "text": "that we're trying to get to is the",
    "start": "351780",
    "end": "354330"
  },
  {
    "text": "cubelet will register itself initially",
    "start": "354330",
    "end": "356910"
  },
  {
    "text": "but it won't fill in any cloud provider",
    "start": "356910",
    "end": "360030"
  },
  {
    "text": "information because it actually doesn't",
    "start": "360030",
    "end": "361290"
  },
  {
    "text": "know anything about the cloud provider",
    "start": "361290",
    "end": "362630"
  },
  {
    "text": "but then it'll it'll change itself so",
    "start": "362630",
    "end": "365700"
  },
  {
    "text": "that the some sort of external",
    "start": "365700",
    "end": "368580"
  },
  {
    "text": "controller can see the node with the",
    "start": "368580",
    "end": "370169"
  },
  {
    "text": "team and no to then call out to the",
    "start": "370169",
    "end": "373080"
  },
  {
    "text": "various cloud api's and then fill in the",
    "start": "373080",
    "end": "375900"
  },
  {
    "text": "cloud provider specific information",
    "start": "375900",
    "end": "377280"
  },
  {
    "text": "about itself so it's kind of like two",
    "start": "377280",
    "end": "379650"
  },
  {
    "text": "stages of registration that you know how",
    "start": "379650",
    "end": "381570"
  },
  {
    "text": "we now have another thing the yeah so",
    "start": "381570",
    "end": "387120"
  },
  {
    "text": "that's essentially what node controller",
    "start": "387120",
    "end": "388650"
  },
  {
    "text": "is doing like on top of registration it",
    "start": "388650",
    "end": "391169"
  },
  {
    "text": "also ensures that like the various",
    "start": "391169",
    "end": "393510"
  },
  {
    "text": "things like provider ID the all the",
    "start": "393510",
    "end": "396300"
  },
  {
    "text": "various address types those things are",
    "start": "396300",
    "end": "397890"
  },
  {
    "text": "all filled in",
    "start": "397890",
    "end": "398870"
  },
  {
    "text": "when the node registers and not just",
    "start": "398870",
    "end": "401990"
  },
  {
    "text": "registration but like if an existing",
    "start": "401990",
    "end": "403700"
  },
  {
    "text": "node has its IP address or what not",
    "start": "403700",
    "end": "406790"
  },
  {
    "text": "updated it'll it'll also update the node",
    "start": "406790",
    "end": "409220"
  },
  {
    "text": "resource as well",
    "start": "409220",
    "end": "411620"
  },
  {
    "text": "another thing that no controller does is",
    "start": "411620",
    "end": "414070"
  },
  {
    "text": "it'll watch for it'll watch her nose",
    "start": "414070",
    "end": "419660"
  },
  {
    "text": "that get deleted and uh in the in the",
    "start": "419660",
    "end": "423290"
  },
  {
    "text": "cloud and then it'll main make sure that",
    "start": "423290",
    "end": "425330"
  },
  {
    "text": "if a node was deleted on the cloud",
    "start": "425330",
    "end": "427160"
  },
  {
    "text": "provider that same node that's",
    "start": "427160",
    "end": "428810"
  },
  {
    "text": "corresponding to the node object in",
    "start": "428810",
    "end": "430580"
  },
  {
    "text": "kubernetes is also deleted so yeah",
    "start": "430580",
    "end": "436280"
  },
  {
    "text": "service controllers what we talked about",
    "start": "436280",
    "end": "437960"
  },
  {
    "text": "earlier it watches for services of that",
    "start": "437960",
    "end": "440870"
  },
  {
    "text": "little balancer and then it will it'll",
    "start": "440870",
    "end": "445550"
  },
  {
    "text": "then call this method called ensure a",
    "start": "445550",
    "end": "447710"
  },
  {
    "text": "load balancer which creates the various",
    "start": "447710",
    "end": "450640"
  },
  {
    "text": "cloud resources that that specific cloud",
    "start": "450640",
    "end": "453500"
  },
  {
    "text": "provider needs four little balancers",
    "start": "453500",
    "end": "457360"
  },
  {
    "text": "same thing with Ross controller it",
    "start": "457360",
    "end": "459800"
  },
  {
    "text": "watches for nodes it'll check that if it",
    "start": "459800",
    "end": "463040"
  },
  {
    "text": "has a pod Sider allocated which is the",
    "start": "463040",
    "end": "466150"
  },
  {
    "text": "the IP addresses that are allocated for",
    "start": "466150",
    "end": "469070"
  },
  {
    "text": "pods on that node and then it'll then",
    "start": "469070",
    "end": "471290"
  },
  {
    "text": "check if the BPC routing table for that",
    "start": "471290",
    "end": "475250"
  },
  {
    "text": "node exists and if it doesn't exist",
    "start": "475250",
    "end": "477650"
  },
  {
    "text": "it'll add it and if there are like",
    "start": "477650",
    "end": "479570"
  },
  {
    "text": "access routes or routes for node that",
    "start": "479570",
    "end": "482020"
  },
  {
    "text": "we're deleted then it'll make sure the",
    "start": "482020",
    "end": "484550"
  },
  {
    "text": "VPC round tables are stable persistent",
    "start": "484550",
    "end": "488720"
  },
  {
    "text": "volume label controller watches for",
    "start": "488720",
    "end": "491270"
  },
  {
    "text": "persistent volumes and then it ensures",
    "start": "491270",
    "end": "494240"
  },
  {
    "text": "that metadata pertaining to that volume",
    "start": "494240",
    "end": "499250"
  },
  {
    "text": "on the cloud provider is set and this is",
    "start": "499250",
    "end": "501830"
  },
  {
    "text": "mostly for things like zone and regions",
    "start": "501830",
    "end": "503450"
  },
  {
    "text": "that are used for essentially useful the",
    "start": "503450",
    "end": "506870"
  },
  {
    "text": "scheduler to do like affinity rules and",
    "start": "506870",
    "end": "509330"
  },
  {
    "text": "then whatnot",
    "start": "509330",
    "end": "511300"
  },
  {
    "start": "510000",
    "end": "779000"
  },
  {
    "text": "okay so migration to out of tree cloud",
    "start": "511300",
    "end": "514219"
  },
  {
    "text": "providers so in the intro I show this",
    "start": "514220",
    "end": "516140"
  },
  {
    "text": "diagram which is showing today's",
    "start": "516140",
    "end": "518360"
  },
  {
    "text": "existing architecture for cloud",
    "start": "518360",
    "end": "519800"
  },
  {
    "text": "providers and this is where we have the",
    "start": "519800",
    "end": "522380"
  },
  {
    "text": "cloud provider compiled into the cube",
    "start": "522380",
    "end": "525500"
  },
  {
    "text": "layer and the API server cube controller",
    "start": "525500",
    "end": "527480"
  },
  {
    "text": "manager which meant that like all the",
    "start": "527480",
    "end": "530300"
  },
  {
    "text": "various components have to",
    "start": "530300",
    "end": "532460"
  },
  {
    "text": "like all the top provider libraries and",
    "start": "532460",
    "end": "535310"
  },
  {
    "text": "API is compiled into it and the model",
    "start": "535310",
    "end": "539060"
  },
  {
    "text": "that we're trying to move towards is",
    "start": "539060",
    "end": "540410"
  },
  {
    "text": "where the cubelet the API server and the",
    "start": "540410",
    "end": "543710"
  },
  {
    "text": "controller manager should not know",
    "start": "543710",
    "end": "546110"
  },
  {
    "text": "anything about the cloud provider but we",
    "start": "546110",
    "end": "548000"
  },
  {
    "text": "have this new component called the cloud",
    "start": "548000",
    "end": "550580"
  },
  {
    "text": "controller manager that knows how to",
    "start": "550580",
    "end": "552500"
  },
  {
    "text": "interface with the cloud provider and it",
    "start": "552500",
    "end": "554150"
  },
  {
    "text": "should be the only thing in the cluster",
    "start": "554150",
    "end": "555980"
  },
  {
    "text": "that's doing that and so we were trying",
    "start": "555980",
    "end": "561140"
  },
  {
    "text": "to get at is like we have the chief",
    "start": "561140",
    "end": "563240"
  },
  {
    "text": "controller manager that has both the",
    "start": "563240",
    "end": "565460"
  },
  {
    "text": "core controllers which deal with like",
    "start": "565460",
    "end": "567650"
  },
  {
    "text": "pods nodes and all that stuff and then",
    "start": "567650",
    "end": "569930"
  },
  {
    "text": "we have specific handful of controllers",
    "start": "569930",
    "end": "572420"
  },
  {
    "text": "that are cloud specific and interface",
    "start": "572420",
    "end": "574910"
  },
  {
    "text": "with the cloud provider and so over some",
    "start": "574910",
    "end": "578030"
  },
  {
    "text": "amount of releases we're trying to get",
    "start": "578030",
    "end": "579350"
  },
  {
    "text": "at is like the queue controller manager",
    "start": "579350",
    "end": "581330"
  },
  {
    "text": "should only have the core controllers",
    "start": "581330",
    "end": "582890"
  },
  {
    "text": "and the cloud controller manager should",
    "start": "582890",
    "end": "584660"
  },
  {
    "text": "have only the cloud specific controllers",
    "start": "584660",
    "end": "587020"
  },
  {
    "text": "and realistically so to get from here to",
    "start": "587020",
    "end": "592730"
  },
  {
    "text": "here",
    "start": "592730",
    "end": "593210"
  },
  {
    "text": "we can't just like merge a giant pure",
    "start": "593210",
    "end": "595970"
  },
  {
    "text": "that just does this we have to make sure",
    "start": "595970",
    "end": "597590"
  },
  {
    "text": "that as we transition there's a",
    "start": "597590",
    "end": "601340"
  },
  {
    "text": "backwards compatible way to flip the",
    "start": "601340",
    "end": "604190"
  },
  {
    "text": "switch between what is running the",
    "start": "604190",
    "end": "606290"
  },
  {
    "text": "class-specific controllers and what is",
    "start": "606290",
    "end": "607730"
  },
  {
    "text": "running the core controllers and so like",
    "start": "607730",
    "end": "610220"
  },
  {
    "text": "the cue controller manager needs to have",
    "start": "610220",
    "end": "612020"
  },
  {
    "text": "some sort of way to still connect to the",
    "start": "612020",
    "end": "615830"
  },
  {
    "text": "cloud controllers but we have to be able",
    "start": "615830",
    "end": "617630"
  },
  {
    "text": "to turn it on or off depending on what",
    "start": "617630",
    "end": "620660"
  },
  {
    "text": "the cluster setup is going to look like",
    "start": "620660",
    "end": "622450"
  },
  {
    "text": "and this is important because you know",
    "start": "622450",
    "end": "626210"
  },
  {
    "text": "let's say in kubernetes one team we",
    "start": "626210",
    "end": "628580"
  },
  {
    "text": "decide to tell users like by default the",
    "start": "628580",
    "end": "633020"
  },
  {
    "text": "cloud controllers and the queue",
    "start": "633020",
    "end": "634130"
  },
  {
    "text": "controller manager are going to be",
    "start": "634130",
    "end": "634970"
  },
  {
    "text": "disabled and you should you should run a",
    "start": "634970",
    "end": "636860"
  },
  {
    "text": "cloud controller manager in clusters and",
    "start": "636860",
    "end": "639260"
  },
  {
    "text": "if there's some critical bug in that",
    "start": "639260",
    "end": "642140"
  },
  {
    "text": "code path we need to be able to let",
    "start": "642140",
    "end": "644270"
  },
  {
    "text": "users still choose to opt in for the",
    "start": "644270",
    "end": "647270"
  },
  {
    "text": "previous architecture so that you know",
    "start": "647270",
    "end": "650510"
  },
  {
    "text": "their production clusters aren't on fire",
    "start": "650510",
    "end": "654010"
  },
  {
    "text": "ok so let's talk about volumes so",
    "start": "654010",
    "end": "657170"
  },
  {
    "text": "volumes is a very volumes is still like",
    "start": "657170",
    "end": "661580"
  },
  {
    "text": "Cal provider-specific but it's a little",
    "start": "661580",
    "end": "663350"
  },
  {
    "text": "bit different from the",
    "start": "663350",
    "end": "664160"
  },
  {
    "text": "of the club provider architecture",
    "start": "664160",
    "end": "665509"
  },
  {
    "text": "because there's a separate like plug in",
    "start": "665509",
    "end": "669370"
  },
  {
    "text": "their zipper directory that that is",
    "start": "669370",
    "end": "671839"
  },
  {
    "text": "specifically for a provider volumes and",
    "start": "671839",
    "end": "674930"
  },
  {
    "text": "so this cloud provider code is not",
    "start": "674930",
    "end": "678500"
  },
  {
    "text": "actually embedded into the cube",
    "start": "678500",
    "end": "680720"
  },
  {
    "text": "controller manager but it's all embedded",
    "start": "680720",
    "end": "682129"
  },
  {
    "text": "in its cubelet and then the cubelet then",
    "start": "682129",
    "end": "685220"
  },
  {
    "text": "calls out to these various cloud",
    "start": "685220",
    "end": "688430"
  },
  {
    "text": "provider volumes and then it'll know -",
    "start": "688430",
    "end": "690529"
  },
  {
    "text": "like attach detach volumes and mount",
    "start": "690529",
    "end": "692990"
  },
  {
    "text": "them and stuff and so this is today's",
    "start": "692990",
    "end": "695240"
  },
  {
    "text": "architecture where when we build the",
    "start": "695240",
    "end": "697069"
  },
  {
    "text": "cubelet we're building like all of these",
    "start": "697069",
    "end": "699699"
  },
  {
    "text": "volume plugins into the couplet and and",
    "start": "699699",
    "end": "703490"
  },
  {
    "text": "this is kind of what CSI supposed to fix",
    "start": "703490",
    "end": "706629"
  },
  {
    "text": "instead of adding to this ever ending",
    "start": "706629",
    "end": "709399"
  },
  {
    "text": "list of volume plugins were supposed to",
    "start": "709399",
    "end": "711199"
  },
  {
    "text": "be using CSI and so we need to also have",
    "start": "711199",
    "end": "715610"
  },
  {
    "text": "a migration path from the couplet using",
    "start": "715610",
    "end": "718910"
  },
  {
    "text": "these volume plugins to CSI and similar",
    "start": "718910",
    "end": "723290"
  },
  {
    "text": "to the migration for the clock",
    "start": "723290",
    "end": "725089"
  },
  {
    "text": "controller manager",
    "start": "725089",
    "end": "725930"
  },
  {
    "text": "we can't just like can't just like",
    "start": "725930",
    "end": "729019"
  },
  {
    "text": "change the code to do that we need some",
    "start": "729019",
    "end": "731569"
  },
  {
    "text": "sort of like transitional period where",
    "start": "731569",
    "end": "733310"
  },
  {
    "text": "we're going from the cubelet doing some",
    "start": "733310",
    "end": "737360"
  },
  {
    "text": "sort of like being able to do either at",
    "start": "737360",
    "end": "739730"
  },
  {
    "text": "the entry volume plug-in or the CSI",
    "start": "739730",
    "end": "742220"
  },
  {
    "text": "plugin and so six storage wrote a CSI",
    "start": "742220",
    "end": "746149"
  },
  {
    "text": "translation library embedded into the",
    "start": "746149",
    "end": "748579"
  },
  {
    "text": "entry volume plugins that know how to",
    "start": "748579",
    "end": "750620"
  },
  {
    "text": "translate a call from the entry volume",
    "start": "750620",
    "end": "754399"
  },
  {
    "text": "plug-in into the CSI driver and of",
    "start": "754399",
    "end": "757279"
  },
  {
    "text": "course like if there's a bug in the CSI",
    "start": "757279",
    "end": "758930"
  },
  {
    "text": "driver you can set some flat on the cube",
    "start": "758930",
    "end": "761779"
  },
  {
    "text": "layer and then it can kind of skip the",
    "start": "761779",
    "end": "764449"
  },
  {
    "text": "CSI transition and fall back to whatever",
    "start": "764449",
    "end": "766370"
  },
  {
    "text": "the previous behavior was and so this",
    "start": "766370",
    "end": "769160"
  },
  {
    "text": "this allows us to like force users to",
    "start": "769160",
    "end": "772130"
  },
  {
    "text": "use the CSI but also give them a way out",
    "start": "772130",
    "end": "774709"
  },
  {
    "text": "if they find that you know it's causing",
    "start": "774709",
    "end": "777380"
  },
  {
    "text": "issues in production so code migration",
    "start": "777380",
    "end": "783009"
  },
  {
    "start": "779000",
    "end": "1002000"
  },
  {
    "text": "so I talked a little bit about this in",
    "start": "783009",
    "end": "786019"
  },
  {
    "text": "intro but today all the claw providers",
    "start": "786019",
    "end": "789889"
  },
  {
    "text": "live in in the main tree under a package",
    "start": "789889",
    "end": "793069"
  },
  {
    "text": "cloud provider providers",
    "start": "793069",
    "end": "795939"
  },
  {
    "text": "and once intermediate step from getting",
    "start": "795939",
    "end": "800859"
  },
  {
    "text": "from entry to completely out of tree is",
    "start": "800859",
    "end": "803769"
  },
  {
    "text": "that we have to we have to stage the",
    "start": "803769",
    "end": "807159"
  },
  {
    "text": "cloud providers in the staging directory",
    "start": "807159",
    "end": "810179"
  },
  {
    "text": "and the reason we do this is because we",
    "start": "810179",
    "end": "814539"
  },
  {
    "text": "need a way to like it's essentially for",
    "start": "814539",
    "end": "818109"
  },
  {
    "text": "transitional reasons we can't just like",
    "start": "818109",
    "end": "819999"
  },
  {
    "text": "flip the switch and move everything we",
    "start": "819999",
    "end": "821679"
  },
  {
    "text": "have to be mindful of the fact that",
    "start": "821679",
    "end": "823809"
  },
  {
    "text": "people depend on this code in production",
    "start": "823809",
    "end": "825999"
  },
  {
    "text": "and so we need to do it in a way that's",
    "start": "825999",
    "end": "828479"
  },
  {
    "text": "that's safe I guess and the so the",
    "start": "828479",
    "end": "833859"
  },
  {
    "text": "biggest challenge from going from here",
    "start": "833859",
    "end": "835239"
  },
  {
    "text": "to here is that anything that's staged",
    "start": "835239",
    "end": "838139"
  },
  {
    "text": "is actually not allowed to depend on",
    "start": "838139",
    "end": "840579"
  },
  {
    "text": "back into the main tree so like if any",
    "start": "840579",
    "end": "843189"
  },
  {
    "text": "of if anything in these directories have",
    "start": "843189",
    "end": "846279"
  },
  {
    "text": "a dependency to case'",
    "start": "846279",
    "end": "848529"
  },
  {
    "text": "IO sash gratis then you're not allowed",
    "start": "848529",
    "end": "851409"
  },
  {
    "text": "to actually move it to here and this is",
    "start": "851409",
    "end": "854019"
  },
  {
    "text": "to avoid circular dependencies in the",
    "start": "854019",
    "end": "856449"
  },
  {
    "text": "actual in kubernetes and so the first",
    "start": "856449",
    "end": "860979"
  },
  {
    "text": "step is to actually refactor all this",
    "start": "860979",
    "end": "863259"
  },
  {
    "text": "code here to not depend on the core",
    "start": "863259",
    "end": "867249"
  },
  {
    "text": "chimera street and so we have an issue",
    "start": "867249",
    "end": "869559"
  },
  {
    "text": "open that is listing all those",
    "start": "869559",
    "end": "871629"
  },
  {
    "text": "dependencies and that's kind of a rat",
    "start": "871629",
    "end": "874029"
  },
  {
    "text": "right now we're just trying to refactor",
    "start": "874029",
    "end": "876099"
  },
  {
    "text": "a bunch of code to get rid of this and",
    "start": "876099",
    "end": "878970"
  },
  {
    "text": "then once we do that then we can move",
    "start": "878970",
    "end": "881859"
  },
  {
    "text": "everything to staging and then we have a",
    "start": "881859",
    "end": "884069"
  },
  {
    "text": "we have a publishing system to think",
    "start": "884069",
    "end": "888669"
  },
  {
    "text": "everything that's in staging to the out",
    "start": "888669",
    "end": "891159"
  },
  {
    "text": "of queue pose and then once we know that",
    "start": "891159",
    "end": "893139"
  },
  {
    "text": "this works then we can just get rid of",
    "start": "893139",
    "end": "895359"
  },
  {
    "text": "the staging repos and go completely and",
    "start": "895359",
    "end": "899199"
  },
  {
    "text": "so yeah so the reason why we need",
    "start": "899199",
    "end": "902889"
  },
  {
    "text": "staging again is because we need a way",
    "start": "902889",
    "end": "905769"
  },
  {
    "text": "to compile both the queue controller",
    "start": "905769",
    "end": "909039"
  },
  {
    "text": "manager and the cloud control manager in",
    "start": "909039",
    "end": "911559"
  },
  {
    "text": "a single place and so what this allows",
    "start": "911559",
    "end": "914229"
  },
  {
    "text": "us to do is the cube controller manager",
    "start": "914229",
    "end": "916119"
  },
  {
    "text": "can still import the various cloud",
    "start": "916119",
    "end": "918069"
  },
  {
    "text": "provider repos from the main tree but",
    "start": "918069",
    "end": "921609"
  },
  {
    "text": "then the cloud controller manager can",
    "start": "921609",
    "end": "923049"
  },
  {
    "text": "sync all the various cloud providers",
    "start": "923049",
    "end": "927279"
  },
  {
    "text": "from the actual audit",
    "start": "927279",
    "end": "929280"
  },
  {
    "text": "and so yeah I showed this earlier this",
    "start": "929280",
    "end": "934210"
  },
  {
    "text": "is this is essentially like so yeah the",
    "start": "934210",
    "end": "938800"
  },
  {
    "text": "cue controller manager again it's it's",
    "start": "938800",
    "end": "940750"
  },
  {
    "text": "calling all the entry stuff from staging",
    "start": "940750",
    "end": "943360"
  },
  {
    "text": "and then the cloud controller manager is",
    "start": "943360",
    "end": "945190"
  },
  {
    "text": "calling all the although it's",
    "start": "945190",
    "end": "948730"
  },
  {
    "text": "interfacing out to the cloud provider",
    "start": "948730",
    "end": "950020"
  },
  {
    "text": "but it should be imported from all the",
    "start": "950020",
    "end": "951460"
  },
  {
    "text": "various other tree repos and because",
    "start": "951460",
    "end": "953470"
  },
  {
    "text": "we're gonna be having this like because",
    "start": "953470",
    "end": "956230"
  },
  {
    "text": "we're gonna have all the top advisors",
    "start": "956230",
    "end": "957400"
  },
  {
    "text": "and staging for some period of time we",
    "start": "957400",
    "end": "959710"
  },
  {
    "text": "can do this mechanism of having the cue",
    "start": "959710",
    "end": "962260"
  },
  {
    "text": "controller manager have some kind of",
    "start": "962260",
    "end": "964450"
  },
  {
    "text": "backdoor into the cloud controllers and",
    "start": "964450",
    "end": "969280"
  },
  {
    "text": "so yeah this is the angle we want all",
    "start": "969280",
    "end": "972190"
  },
  {
    "text": "the cloud providers to be out of tree",
    "start": "972190",
    "end": "975370"
  },
  {
    "text": "out of tree just meaning like it's not",
    "start": "975370",
    "end": "977560"
  },
  {
    "text": "in the core kubernetes repo and then the",
    "start": "977560",
    "end": "981340"
  },
  {
    "text": "goal here is that these are independent",
    "start": "981340",
    "end": "985060"
  },
  {
    "text": "modules that can be developed",
    "start": "985060",
    "end": "987630"
  },
  {
    "text": "independent from the kubernetes release",
    "start": "987630",
    "end": "989830"
  },
  {
    "text": "and then the various cloud providers can",
    "start": "989830",
    "end": "992520"
  },
  {
    "text": "publish their own releases that can be",
    "start": "992520",
    "end": "995760"
  },
  {
    "text": "kind of added on to any kubernetes",
    "start": "995760",
    "end": "998110"
  },
  {
    "text": "cluster to kind of add all those cloud",
    "start": "998110",
    "end": "1000210"
  },
  {
    "text": "provider features okay so technical debt",
    "start": "1000210",
    "end": "1005240"
  },
  {
    "start": "1002000",
    "end": "1134000"
  },
  {
    "text": "so this section I just I just want to",
    "start": "1005240",
    "end": "1007380"
  },
  {
    "text": "like highlight some of the issues we",
    "start": "1007380",
    "end": "1010380"
  },
  {
    "text": "have right now in terms of cloud",
    "start": "1010380",
    "end": "1013080"
  },
  {
    "text": "providers and so like if you look at the",
    "start": "1013080",
    "end": "1016170"
  },
  {
    "text": "cubelet there's a lot of code like this",
    "start": "1016170",
    "end": "1018270"
  },
  {
    "text": "what we're saying like do this thing if",
    "start": "1018270",
    "end": "1021570"
  },
  {
    "text": "I replace the actual high provider name",
    "start": "1021570",
    "end": "1023760"
  },
  {
    "text": "with fubar because I don't want to like",
    "start": "1023760",
    "end": "1025170"
  },
  {
    "text": "you know call out any providers but like",
    "start": "1025170",
    "end": "1027540"
  },
  {
    "text": "there's a lot of like if this cloud",
    "start": "1027540",
    "end": "1029520"
  },
  {
    "text": "provider then then do this and this puts",
    "start": "1029520",
    "end": "1032819"
  },
  {
    "text": "us in a tough spot tough spot because we",
    "start": "1032820",
    "end": "1035220"
  },
  {
    "text": "actually can't deprecated the providers",
    "start": "1035220",
    "end": "1037920"
  },
  {
    "text": "in the cubelet until this is gone but",
    "start": "1037920",
    "end": "1040380"
  },
  {
    "text": "this is such a critical piece of the of",
    "start": "1040380",
    "end": "1045180"
  },
  {
    "text": "the cubelet for this cloud provider and",
    "start": "1045180",
    "end": "1047280"
  },
  {
    "text": "so like this is a tough spot to be in so",
    "start": "1047280",
    "end": "1050730"
  },
  {
    "text": "we have to like think about like how to",
    "start": "1050730",
    "end": "1053550"
  },
  {
    "text": "get rid of this code without breaking",
    "start": "1053550",
    "end": "1055200"
  },
  {
    "text": "anyone's production cluster and that's",
    "start": "1055200",
    "end": "1057120"
  },
  {
    "text": "part of a lot it's a lot of the reason",
    "start": "1057120",
    "end": "1058530"
  },
  {
    "text": "why I like",
    "start": "1058530",
    "end": "1059020"
  },
  {
    "text": "this kind of effort takes a long time",
    "start": "1059020",
    "end": "1062040"
  },
  {
    "text": "yeah likewise there's like you know if",
    "start": "1062040",
    "end": "1065380"
  },
  {
    "text": "it's this provider or set this node",
    "start": "1065380",
    "end": "1067420"
  },
  {
    "text": "condition otherwise like okay so for",
    "start": "1067420",
    "end": "1070900"
  },
  {
    "text": "this for this case it's when the node",
    "start": "1070900",
    "end": "1073690"
  },
  {
    "text": "registers the node is not added to the",
    "start": "1073690",
    "end": "1078100"
  },
  {
    "text": "VPC round table and so there needs to be",
    "start": "1078100",
    "end": "1080290"
  },
  {
    "text": "a condition on the node to ensure that",
    "start": "1080290",
    "end": "1081790"
  },
  {
    "text": "nothing is scheduled on the node prior",
    "start": "1081790",
    "end": "1084880"
  },
  {
    "text": "to that the routing table being updated",
    "start": "1084880",
    "end": "1087070"
  },
  {
    "text": "so what happens is when the no registers",
    "start": "1087070",
    "end": "1090760"
  },
  {
    "text": "the first thing we do is we tell we give",
    "start": "1090760",
    "end": "1093430"
  },
  {
    "text": "it a condition no we're out created and",
    "start": "1093430",
    "end": "1095380"
  },
  {
    "text": "then the route controller once it adds",
    "start": "1095380",
    "end": "1097540"
  },
  {
    "text": "that nodes route to the BBC drama table",
    "start": "1097540",
    "end": "1099430"
  },
  {
    "text": "it then removes this condition but",
    "start": "1099430",
    "end": "1102490"
  },
  {
    "text": "ideally like we shouldn't have these if",
    "start": "1102490",
    "end": "1105310"
  },
  {
    "text": "statements in the code base everything",
    "start": "1105310",
    "end": "1106870"
  },
  {
    "text": "should be like broken out and the Cuba",
    "start": "1106870",
    "end": "1109540"
  },
  {
    "text": "itself should not actually be aware that",
    "start": "1109540",
    "end": "1110890"
  },
  {
    "text": "the this specific this provider has this",
    "start": "1110890",
    "end": "1114160"
  },
  {
    "text": "special rule and yeah same thing",
    "start": "1114160",
    "end": "1118090"
  },
  {
    "text": "there's a lot of this there's just if",
    "start": "1118090",
    "end": "1119590"
  },
  {
    "text": "you look at the code base there's just a",
    "start": "1119590",
    "end": "1120820"
  },
  {
    "text": "lot of like this kind of code and",
    "start": "1120820",
    "end": "1122760"
  },
  {
    "text": "essentially we're trying to get rid of",
    "start": "1122760",
    "end": "1126180"
  },
  {
    "text": "any code in the in kubernetes that is",
    "start": "1126180",
    "end": "1129370"
  },
  {
    "text": "doing like these very specific edge",
    "start": "1129370",
    "end": "1131350"
  },
  {
    "text": "cases for cloud providers all right so I",
    "start": "1131350",
    "end": "1135820"
  },
  {
    "start": "1134000",
    "end": "1304000"
  },
  {
    "text": "think we have about 15 minutes so I",
    "start": "1135820",
    "end": "1138220"
  },
  {
    "text": "wanted to open it up to any questions or",
    "start": "1138220",
    "end": "1142740"
  },
  {
    "text": "discussions around this a questions",
    "start": "1142740",
    "end": "1150210"
  },
  {
    "text": "all right or the for the controller are",
    "start": "1160529",
    "end": "1208480"
  },
  {
    "text": "having issues with the mic okay all",
    "start": "1208480",
    "end": "1211840"
  },
  {
    "text": "right one more time so the question was",
    "start": "1211840",
    "end": "1215429"
  },
  {
    "text": "use this controller to request new notes",
    "start": "1215429",
    "end": "1218830"
  },
  {
    "text": "instead of just making sure yeah like I",
    "start": "1218830",
    "end": "1229600"
  },
  {
    "text": "don't think it's I don't it's not",
    "start": "1229600",
    "end": "1231669"
  },
  {
    "text": "impossible but I would say like I think",
    "start": "1231669",
    "end": "1234429"
  },
  {
    "text": "that's sort of where the cluster API",
    "start": "1234429",
    "end": "1235809"
  },
  {
    "text": "word is heading we're like we want the",
    "start": "1235809",
    "end": "1239710"
  },
  {
    "text": "cloud controller manager to be it's it's",
    "start": "1239710",
    "end": "1242649"
  },
  {
    "text": "mainly just like porting logic out of",
    "start": "1242649",
    "end": "1244480"
  },
  {
    "text": "the cue controller manager and so like",
    "start": "1244480",
    "end": "1246580"
  },
  {
    "text": "whatever the cue controller manager was",
    "start": "1246580",
    "end": "1247929"
  },
  {
    "text": "doing we're trying to get the Cloud",
    "start": "1247929",
    "end": "1249070"
  },
  {
    "text": "Control Manager to do that and so look I",
    "start": "1249070",
    "end": "1252190"
  },
  {
    "text": "don't see I don't foresee in the future",
    "start": "1252190",
    "end": "1254250"
  },
  {
    "text": "the cloud controller manager being able",
    "start": "1254250",
    "end": "1256990"
  },
  {
    "text": "to create notes currently the cluster",
    "start": "1256990",
    "end": "1262270"
  },
  {
    "text": "API is doing currently is doing that",
    "start": "1262270",
    "end": "1263710"
  },
  {
    "text": "work right so it's easy another project",
    "start": "1263710",
    "end": "1265899"
  },
  {
    "text": "which is called the cluster API which is",
    "start": "1265899",
    "end": "1268750"
  },
  {
    "text": "located in the kubernetes sig and I",
    "start": "1268750",
    "end": "1271270"
  },
  {
    "text": "think you can take a look it includes",
    "start": "1271270",
    "end": "1273909"
  },
  {
    "text": "all kinds of like ratures the cluster",
    "start": "1273909",
    "end": "1276010"
  },
  {
    "text": "upgrade node to node",
    "start": "1276010",
    "end": "1277630"
  },
  {
    "text": "delete or rich to know something like",
    "start": "1277630",
    "end": "1279940"
  },
  {
    "text": "that and I think the CCM is only for the",
    "start": "1279940",
    "end": "1284559"
  },
  {
    "text": "load balancer or some kind of story",
    "start": "1284559",
    "end": "1287020"
  },
  {
    "text": "stuff but let's also say like the cloud",
    "start": "1287020",
    "end": "1290260"
  },
  {
    "text": "controller manager can't call back out",
    "start": "1290260",
    "end": "1292419"
  },
  {
    "text": "to",
    "start": "1292419",
    "end": "1292690"
  },
  {
    "text": "Oster API right so that those are",
    "start": "1292690",
    "end": "1295180"
  },
  {
    "text": "featured use cases that we can look at",
    "start": "1295180",
    "end": "1298800"
  },
  {
    "text": "cool all right thanks for coming",
    "start": "1299850",
    "end": "1304620"
  }
]