[
  {
    "start": "0",
    "end": "53000"
  },
  {
    "text": "hi guys welcome to my talk it's really amazing to see so many people here so",
    "start": "140",
    "end": "6690"
  },
  {
    "text": "you guys are ready to get into the dirty details of migrating legacy applications",
    "start": "6690",
    "end": "11880"
  },
  {
    "text": "onto shiny new cover nets yeah okay cool I'm Joseph I'm CTO and co-founder of Q",
    "start": "11880",
    "end": "19890"
  },
  {
    "text": "where it's we're custom software development company from Germany Munich",
    "start": "19890",
    "end": "25500"
  },
  {
    "text": "Germany focusing on developing cloud native applications and migrating legacy",
    "start": "25500",
    "end": "32238"
  },
  {
    "text": "applications onto a cloud native stack and today I want to talk you through",
    "start": "32239",
    "end": "38100"
  },
  {
    "text": "what we have learned by migrating hundreds of j2ee legacy systems onto",
    "start": "38100",
    "end": "44329"
  },
  {
    "text": "kubernetes I'm the technical lead of this large scale migration program at",
    "start": "44329",
    "end": "50010"
  },
  {
    "text": "our one of our customers it all started",
    "start": "50010",
    "end": "55230"
  },
  {
    "start": "53000",
    "end": "125000"
  },
  {
    "text": "with a big bang when curate a cribben Eddie's and docker was released open",
    "start": "55230",
    "end": "62579"
  },
  {
    "text": "source to mankind and literally everybody suddenly wasn't available or",
    "start": "62579",
    "end": "68490"
  },
  {
    "text": "was possible for them to develop cloud native applications those applications",
    "start": "68490",
    "end": "74939"
  },
  {
    "text": "have common properties like being hyper scalable being really resilient to",
    "start": "74939",
    "end": "80580"
  },
  {
    "text": "failures they maybe sometimes have or provide effects savings due to a higher",
    "start": "80580",
    "end": "87780"
  },
  {
    "text": "resource utilization and more and more option and you can develop at a higher",
    "start": "87780",
    "end": "95850"
  },
  {
    "text": "level of speed a shorter release cycles so these are huge advantages of such",
    "start": "95850",
    "end": "103560"
  },
  {
    "text": "cloud native applications and the question is what about legacy applications can they benefit from cloud",
    "start": "103560",
    "end": "111990"
  },
  {
    "text": "native technology and get into these advantages to answer these questions I",
    "start": "111990",
    "end": "119040"
  },
  {
    "text": "wouldn't want to take you with me to the journey we had by answering this question for our customer it all began",
    "start": "119040",
    "end": "127229"
  },
  {
    "start": "125000",
    "end": "239000"
  },
  {
    "text": "with a brave decision of a major german insurance company cio he",
    "start": "127229",
    "end": "133660"
  },
  {
    "text": "decided to move literally every web application onto a cloud native stack",
    "start": "133660",
    "end": "142230"
  },
  {
    "text": "pou and to make it a little bit more challenging he also cancelled the contract for the",
    "start": "142230",
    "end": "148690"
  },
  {
    "text": "existing data center it was an on-premises data center yeah the chief",
    "start": "148690",
    "end": "156280"
  },
  {
    "text": "architect took over eager to explore and learn how to migrate legacy applications",
    "start": "156280",
    "end": "163150"
  },
  {
    "text": "which are not micro service e which are not containerized and so on on to a",
    "start": "163150",
    "end": "169000"
  },
  {
    "text": "cloud native platform but that needs time so the CIO was very generous and",
    "start": "169000",
    "end": "177130"
  },
  {
    "text": "scheduled one year to finish the migration tell you afterwards how many",
    "start": "177130",
    "end": "183960"
  },
  {
    "text": "applications and what are they property their properties so but the CIO also",
    "start": "183960",
    "end": "191410"
  },
  {
    "text": "raised some priorities for the migration project the top priority is to increase",
    "start": "191410",
    "end": "198430"
  },
  {
    "text": "the security level as it the applications are migrated from a very",
    "start": "198430",
    "end": "205330"
  },
  {
    "text": "trust its own on-premises data center on to potentially a little bit untrusted",
    "start": "205330",
    "end": "211410"
  },
  {
    "text": "zone a public cloud infrastructure and social security was a major concern",
    "start": "211410",
    "end": "218490"
  },
  {
    "text": "shortly followed after time it was important to hit this schedule in to",
    "start": "218490",
    "end": "226750"
  },
  {
    "text": "migrate those applications within one year and yeah he also wants to save",
    "start": "226750",
    "end": "232150"
  },
  {
    "text": "money and the migration cost shouldn't be that high these were his priorities",
    "start": "232150",
    "end": "239580"
  },
  {
    "start": "239000",
    "end": "316000"
  },
  {
    "text": "so that's how we started eight months ago sent today I can talk a little bit",
    "start": "239580",
    "end": "246580"
  },
  {
    "text": "about this what we have learned the last eight months and what will probably",
    "start": "246580",
    "end": "252310"
  },
  {
    "text": "happen the next four months as doubts",
    "start": "252310",
    "end": "258220"
  },
  {
    "text": "are the death of each ambitious project we also decided to be as brave as the",
    "start": "258220",
    "end": "266080"
  },
  {
    "text": "decision itself but we also had some impediments to",
    "start": "266080",
    "end": "272910"
  },
  {
    "text": "overcome but we learned a lot and so in",
    "start": "272910",
    "end": "277990"
  },
  {
    "text": "the following slides I want to present you what we've learned about the good the bad and the ugly of migrating legacy",
    "start": "277990",
    "end": "286539"
  },
  {
    "text": "applications onto kubernetes let's start with the good things completely ignoring",
    "start": "286539",
    "end": "295000"
  },
  {
    "text": "the principle of not putting the lowlights at the end so I start with the",
    "start": "295000",
    "end": "300160"
  },
  {
    "text": "highlights the good things and decrease a little bit further on by the way this",
    "start": "300160",
    "end": "306639"
  },
  {
    "text": "picture is proudly presented by the Bavarian Ministry of economics tourism",
    "start": "306639",
    "end": "312400"
  },
  {
    "text": "and beer so what has been the good parts",
    "start": "312400",
    "end": "320080"
  },
  {
    "start": "316000",
    "end": "386000"
  },
  {
    "text": "first the first task was to gain",
    "start": "320080",
    "end": "325840"
  },
  {
    "text": "visibility and yeah the outcome was",
    "start": "325840",
    "end": "330909"
  },
  {
    "text": "quite good because we started with a very naive approach we wanted to",
    "start": "330909",
    "end": "337270"
  },
  {
    "text": "architect the cloud we thought about the target architecture at first we thought",
    "start": "337270",
    "end": "345639"
  },
  {
    "text": "about how to slice and mesh micro-services we thought about how to",
    "start": "345639",
    "end": "352210"
  },
  {
    "text": "package and distribute these micro services into containers and how to",
    "start": "352210",
    "end": "357219"
  },
  {
    "text": "dynamically execute them on the cloud the cloud native principles here but",
    "start": "357219",
    "end": "363820"
  },
  {
    "text": "then it was a little bit clear that we're not facing a greenfield approach",
    "start": "363820",
    "end": "369690"
  },
  {
    "text": "there are a lot of existing legacy applications and we knew nothing quite",
    "start": "369690",
    "end": "378159"
  },
  {
    "text": "nothing here about those applications we had to migrate so our first task was to",
    "start": "378159",
    "end": "384880"
  },
  {
    "text": "gain visibility here we started by sending out questionnaires to all",
    "start": "384880",
    "end": "390580"
  },
  {
    "text": "relevant applications to gain first feedback on our fundamental questions",
    "start": "390580",
    "end": "397240"
  },
  {
    "text": "like what's the technologies that they use and so it was important what images we should",
    "start": "397240",
    "end": "402770"
  },
  {
    "text": "provide what are the required resources and required amount of resources and tons of this question how many",
    "start": "402770",
    "end": "409150"
  },
  {
    "text": "application will be hard to schedule on on kubernetes notes also very",
    "start": "409150",
    "end": "416509"
  },
  {
    "text": "interesting part was those applications writing to storage writing to local",
    "start": "416509",
    "end": "423259"
  },
  {
    "text": "storage or writing to remote storage the amount of data written there to decide",
    "start": "423259",
    "end": "429470"
  },
  {
    "text": "what storage solutions we should provide some special requirements like native",
    "start": "429470",
    "end": "435380"
  },
  {
    "text": "lips or special hardware like printers or so on which is not virtualized",
    "start": "435380",
    "end": "441009"
  },
  {
    "text": "typically in a kubernetes environment and what inbound and outbound protocols",
    "start": "441009",
    "end": "450169"
  },
  {
    "text": "are used what's a protocol stack are the TCP",
    "start": "450169",
    "end": "455419"
  },
  {
    "text": "level or are those HTTP protocols are they secured by TLS do they use",
    "start": "455419",
    "end": "461840"
  },
  {
    "text": "multicast which is a little bit of problem if you use plain vanilla",
    "start": "461840",
    "end": "467300"
  },
  {
    "text": "kubernetes or do they use dynamic ports to communicate which is also a little",
    "start": "467300",
    "end": "473120"
  },
  {
    "text": "bit of problem then we also ask concerning the ability to execute for",
    "start": "473120",
    "end": "480349"
  },
  {
    "text": "the applications are there any tests are there any responsible persons maybe all",
    "start": "480349",
    "end": "487159"
  },
  {
    "text": "those applications running out of life during this year this was a very",
    "start": "487159",
    "end": "494599"
  },
  {
    "text": "important question because only with this questions a question 20% of the applications were away from our",
    "start": "494599",
    "end": "501130"
  },
  {
    "text": "migration duty and last but not least was an important question what client",
    "start": "501130",
    "end": "509870"
  },
  {
    "text": "authentication mechanisms are used and should be poured it on to our cloud",
    "start": "509870",
    "end": "515870"
  },
  {
    "text": "solution but this was only the first step afterwards we have written a small code",
    "start": "515870",
    "end": "522740"
  },
  {
    "text": "a small program called cloud eliezer and extracted a lot of data sources which",
    "start": "522740",
    "end": "530690"
  },
  {
    "text": "helped us to to doing better decisions there those data",
    "start": "530690",
    "end": "537440"
  },
  {
    "text": "sources were the questionnaires were Chara tasks of the migration project",
    "start": "537440",
    "end": "544100"
  },
  {
    "text": "were ie am tool enterprise application management tool were certain excel",
    "start": "544100",
    "end": "552140"
  },
  {
    "text": "sheets and a very important source for our decision was aesthetic analysis we",
    "start": "552140",
    "end": "562010"
  },
  {
    "text": "perform static analysis on all application binaries with the IBM",
    "start": "562010",
    "end": "569930"
  },
  {
    "text": "migration tool you can see there which libraries are used in which je api's are",
    "start": "569930",
    "end": "575899"
  },
  {
    "text": "used we used our own cue validator to check some dependencies and we used",
    "start": "575899",
    "end": "582920"
  },
  {
    "text": "sonic qube to have some quality metrics and all this is integrated into",
    "start": "582920",
    "end": "589120"
  },
  {
    "text": "something we called migration database and we performed analytics on this",
    "start": "589120",
    "end": "594860"
  },
  {
    "text": "database we were using tableau to explore the data there and to answer",
    "start": "594860",
    "end": "601070"
  },
  {
    "text": "architectural questions and we also have built a dashboard providing the projects",
    "start": "601070",
    "end": "606230"
  },
  {
    "text": "and the management some basic migration information that's the visibility part",
    "start": "606230",
    "end": "616959"
  },
  {
    "start": "612000",
    "end": "644000"
  },
  {
    "text": "next good thing was our approach to do",
    "start": "616959",
    "end": "622010"
  },
  {
    "text": "emergent design of the target software landscape because a big design up front",
    "start": "622010",
    "end": "629600"
  },
  {
    "text": "and analyzing each nitty-gritty detail would have been very hard and",
    "start": "629600",
    "end": "634700"
  },
  {
    "text": "time-consuming so we have to start with a little there's little knowledge and improve any proof so we did emergent",
    "start": "634700",
    "end": "642620"
  },
  {
    "text": "design approach here we started where by",
    "start": "642620",
    "end": "648440"
  },
  {
    "start": "644000",
    "end": "741000"
  },
  {
    "text": "playing at the divide-and-conquer game we had to migrate 400 applications and",
    "start": "648440",
    "end": "654829"
  },
  {
    "text": "we divided them in two parts one part are the more or less old applications of",
    "start": "654829",
    "end": "663610"
  },
  {
    "text": "H between 10 and 15 years all of those applications by the way",
    "start": "663610",
    "end": "670429"
  },
  {
    "text": "j2ee applications and the more modern ones and we decided to migrate the older",
    "start": "670429",
    "end": "679009"
  },
  {
    "text": "ones by an approach re architecting them",
    "start": "679009",
    "end": "684109"
  },
  {
    "text": "and making them runnable on kubernetes on Amazon Web Services and the more",
    "start": "684109",
    "end": "692629"
  },
  {
    "text": "modern application we decided to lift and shift them with their virtual",
    "start": "692629",
    "end": "698989"
  },
  {
    "text": "machine from the existing data center into Amazon Web service into ec2 there",
    "start": "698989",
    "end": "705790"
  },
  {
    "text": "why only those old applications at the first step to kubernetes yeah we wanted",
    "start": "705790",
    "end": "714379"
  },
  {
    "text": "to do risk front loading so we're doing the risky parts at the very beginning",
    "start": "714379",
    "end": "720189"
  },
  {
    "text": "and they benefit the most of re-architecting them and those others we",
    "start": "720189",
    "end": "729199"
  },
  {
    "text": "put them in the first step wire lift and shift on ec2 and the second step also",
    "start": "729199",
    "end": "736609"
  },
  {
    "text": "will be to migrate them to kubernetes",
    "start": "736609",
    "end": "741579"
  },
  {
    "start": "741000",
    "end": "974000"
  },
  {
    "text": "yeah after analyzing the migration database we had a pretty clear view of",
    "start": "742209",
    "end": "748299"
  },
  {
    "text": "the source architecture we had to migrate we're coming from 200 monolithic",
    "start": "748299",
    "end": "755689"
  },
  {
    "text": "applications looking a little bit like this they had a broad range of back-end",
    "start": "755689",
    "end": "762980"
  },
  {
    "text": "systems and infrastructure systems integrated they're using hosts using",
    "start": "762980",
    "end": "768980"
  },
  {
    "text": "batch processing file shares l dubs Message Queuing all that the stack is",
    "start": "768980",
    "end": "774859"
  },
  {
    "text": "based on java 6 on a j2ee 1.4 application server they've built an",
    "start": "774859",
    "end": "781970"
  },
  {
    "text": "almighty legacy framework on top of that hosting the application and a basic",
    "start": "781970",
    "end": "789889"
  },
  {
    "text": "httpd web layer the inbound traffic is TLS encrypted and this outbound traffic",
    "start": "789889",
    "end": "798679"
  },
  {
    "text": "to the backend was mostly non TLS non-encrypted in those cases so",
    "start": "798679",
    "end": "808920"
  },
  {
    "text": "we came together with a cloud operations team we came together with information",
    "start": "808920",
    "end": "814830"
  },
  {
    "text": "security officers and designed a target architecture for all those monolithic",
    "start": "814830",
    "end": "822750"
  },
  {
    "text": "applications and the target architecture is about to run on Amazon Web Services",
    "start": "822750",
    "end": "830089"
  },
  {
    "text": "on a Huber Nettie's cluster actually we were using open ships but only the",
    "start": "830089",
    "end": "835160"
  },
  {
    "text": "containers the service parts so it's pretty plain kubernetes there it's based",
    "start": "835160",
    "end": "842070"
  },
  {
    "text": "on talker and JVM eight je7 a",
    "start": "842070",
    "end": "847140"
  },
  {
    "text": "lightweight application server where to port this my almighty framework we put",
    "start": "847140",
    "end": "854790"
  },
  {
    "text": "it the legacy out and now it's almighty framework next generation and yeah and",
    "start": "854790",
    "end": "861180"
  },
  {
    "text": "then there is an important architecture decision up here to split the applications into two parts an outer",
    "start": "861180",
    "end": "870030"
  },
  {
    "text": "layer part in a in a layer part the outer layer part of the application is",
    "start": "870030",
    "end": "876210"
  },
  {
    "text": "the part which provides user interfaces external api's and for security reason",
    "start": "876210",
    "end": "884070"
  },
  {
    "text": "also has to authenticate and authorize the users and the inner layer",
    "start": "884070",
    "end": "889830"
  },
  {
    "text": "application and thus all those business logic and backend integration things and",
    "start": "889830",
    "end": "896910"
  },
  {
    "text": "there is a something like a firewall in between it's an API gateway and this API",
    "start": "896910",
    "end": "904589"
  },
  {
    "text": "gateway checks so three requests from the outer layer into the inner layer if there is a valid token why well it token",
    "start": "904589",
    "end": "914420"
  },
  {
    "text": "each and every communication here throughout this deck should be TLS 1.2",
    "start": "914420",
    "end": "924110"
  },
  {
    "text": "two-way encrypted and having an open ID",
    "start": "924110",
    "end": "929850"
  },
  {
    "text": "Connect identity token as payload so you have your user context in",
    "start": "929850",
    "end": "935640"
  },
  {
    "text": "this open ID connect identity token user your application context in the two-way",
    "start": "935640",
    "end": "942300"
  },
  {
    "text": "TLS client certificate and if double-layered protection there and the",
    "start": "942300",
    "end": "948930"
  },
  {
    "text": "api gateway checks this open ID connect token and all inbound and all outbound",
    "start": "948930",
    "end": "956910"
  },
  {
    "text": "traffic should be TLS 1.2 so now with a",
    "start": "956910",
    "end": "963930"
  },
  {
    "text": "little bit of wizardry and some secret sauce it should be easy to come from A",
    "start": "963930",
    "end": "969180"
  },
  {
    "text": "to B right for all those applications for us the fundamental decision up front",
    "start": "969180",
    "end": "979590"
  },
  {
    "text": "was whether when we're migrating from A to B B should it be cloud friendly or",
    "start": "979590",
    "end": "989640"
  },
  {
    "text": "should it be cloud native application on the right hand side here and our",
    "start": "989640",
    "end": "999600"
  },
  {
    "text": "decision was that be our target architecture should only be cloud fan",
    "start": "999600",
    "end": "1007040"
  },
  {
    "text": "friendly yeah being containerized of course yeah and we decided here to put",
    "start": "1007040",
    "end": "1014330"
  },
  {
    "text": "the mana list into the container and",
    "start": "1014330",
    "end": "1019540"
  },
  {
    "text": "should respect the 12 factor apps principles there and this can be of the",
    "start": "1020110",
    "end": "1026870"
  },
  {
    "text": "first step if some of those applications are thriving towards cloud nativeness",
    "start": "1026870",
    "end": "1033490"
  },
  {
    "text": "this is also the good first step so but",
    "start": "1033490",
    "end": "1039079"
  },
  {
    "text": "with our migration we targeted cloud friendliness so but if we put the",
    "start": "1039079",
    "end": "1047180"
  },
  {
    "start": "1044000",
    "end": "1166000"
  },
  {
    "text": "monoliths into a container what's running in this outer layer in our target architecture and our answer and",
    "start": "1047180",
    "end": "1056030"
  },
  {
    "text": "this answer has proven to be right or 1 on potential right answer is to place an",
    "start": "1056030",
    "end": "1063920"
  },
  {
    "text": "edge service on the outer layer so we built an",
    "start": "1063920",
    "end": "1068990"
  },
  {
    "text": "service and this is the application part residing in the outer layer and the",
    "start": "1068990",
    "end": "1074900"
  },
  {
    "text": "monolith is in the inner layer and there is the API gateway in between and the",
    "start": "1074900",
    "end": "1079940"
  },
  {
    "text": "edge service is responsible and to accept incoming requests which which",
    "start": "1079940",
    "end": "1087830"
  },
  {
    "text": "have diverse user context care context there are some non user context cookies",
    "start": "1087830",
    "end": "1093980"
  },
  {
    "text": "set header set client certificates all that and the edge service then is",
    "start": "1093980",
    "end": "1101690"
  },
  {
    "text": "responsible to change those diverse user contexts into an open-eyed be identity",
    "start": "1101690",
    "end": "1109010"
  },
  {
    "text": "token and it uses a token provider central service here which is integrated",
    "start": "1109010",
    "end": "1114590"
  },
  {
    "text": "with all I am systems and the customer there more than",
    "start": "1114590",
    "end": "1120890"
  },
  {
    "text": "10 and yeah you can exchange the episodes can exchange those diverse user",
    "start": "1120890",
    "end": "1128240"
  },
  {
    "text": "context to an identity token and he cashes them and if there is a request",
    "start": "1128240",
    "end": "1133490"
  },
  {
    "text": "with no user context set he is also responsible for redirecting the user to",
    "start": "1133490",
    "end": "1140630"
  },
  {
    "text": "the single sign-on system to sign-on so with the edge service in place all",
    "start": "1140630",
    "end": "1148510"
  },
  {
    "text": "authentication authorization tasks are shifted into the outer layer and the",
    "start": "1148510",
    "end": "1155450"
  },
  {
    "text": "rest the user interface is still in the inner layer yeah of course in our",
    "start": "1155450",
    "end": "1161150"
  },
  {
    "text": "architecture but provided by the edge services the outer layer only a short",
    "start": "1161150",
    "end": "1168679"
  },
  {
    "text": "glimpse into the internal structure of our edge services based on spring boot",
    "start": "1168679",
    "end": "1173929"
  },
  {
    "text": "and Netflix tool and yeah basically is integrated with the token provider here",
    "start": "1173929",
    "end": "1183190"
  },
  {
    "start": "1182000",
    "end": "1323000"
  },
  {
    "text": "next thing is how to enhance our applications to respect the 12 factor",
    "start": "1183940",
    "end": "1193250"
  },
  {
    "text": "apps principles or some of them and further architectural requirements on",
    "start": "1193250",
    "end": "1199070"
  },
  {
    "text": "security like TLS 1.2 in corruption all the way here we learn to",
    "start": "1199070",
    "end": "1206180"
  },
  {
    "text": "love container patterns the basic ones are well described in the paper below by",
    "start": "1206180",
    "end": "1212900"
  },
  {
    "text": "Brendan Burns and David Oppenheimer and we used the site cut pattern which",
    "start": "1212900",
    "end": "1220670"
  },
  {
    "text": "enhances container application container behavior by a site car containing the",
    "start": "1220670",
    "end": "1226790"
  },
  {
    "text": "same part we used this for log extraction and log reformatting based on",
    "start": "1226790",
    "end": "1234140"
  },
  {
    "text": "fluent II also for scheduling to trigger HTTP requests on the applications for",
    "start": "1234140",
    "end": "1241640"
  },
  {
    "text": "time scheduled tasks we're using quartz there we used the Ambassador pattern",
    "start": "1241640",
    "end": "1248290"
  },
  {
    "text": "which is more or less a proxy within communication ranges we used it for TLS",
    "start": "1248290",
    "end": "1257990"
  },
  {
    "text": "tunneling traffic when there is a neighbor system or a back-end system not",
    "start": "1257990",
    "end": "1263420"
  },
  {
    "text": "providing TLS encryption used as tunnel or ghost tunnel there as ambassador",
    "start": "1263420",
    "end": "1269060"
  },
  {
    "text": "pattern used it for circuit breaking and also for request monitoring based on",
    "start": "1269060",
    "end": "1275570"
  },
  {
    "text": "linker to enhance all those features without changing the application itself",
    "start": "1275570",
    "end": "1283330"
  },
  {
    "text": "it was important to save time and last but not least the adapter pattern to",
    "start": "1283330",
    "end": "1290990"
  },
  {
    "text": "provide a homogeneous interface of an",
    "start": "1290990",
    "end": "1297440"
  },
  {
    "text": "application to the outer world we used it to yeah to adapt and the",
    "start": "1297440",
    "end": "1303620"
  },
  {
    "text": "configuration mechanism of this almighty legacy framework to kubernetes config",
    "start": "1303620",
    "end": "1311060"
  },
  {
    "text": "maps and secrets so Q Burnett is config maps and secrets were written to files",
    "start": "1311060",
    "end": "1316250"
  },
  {
    "text": "and changed in the format and inject it to the other container the last good",
    "start": "1316250",
    "end": "1326240"
  },
  {
    "start": "1323000",
    "end": "1401000"
  },
  {
    "text": "thing I want to mention is about kubernetes constraints because initially",
    "start": "1326240",
    "end": "1332420"
  },
  {
    "text": "we thought we'll run into a lot of kubernetes restrictions on our",
    "start": "1332420",
    "end": "1338340"
  },
  {
    "text": "infrastructure because those legacy systems behave strange like our target",
    "start": "1338340",
    "end": "1346050"
  },
  {
    "text": "infrastructure didn't support multicasts there were no overlay networks supporting this on play in place also we",
    "start": "1346050",
    "end": "1353700"
  },
  {
    "text": "had no readwrite any persistent volume volume claims available so we're a",
    "start": "1353700",
    "end": "1359450"
  },
  {
    "text": "little bit scared this restrictions and we did for quite a",
    "start": "1359450",
    "end": "1366960"
  },
  {
    "text": "lot of those applications but but cutting this application requirements",
    "start": "1366960",
    "end": "1373740"
  },
  {
    "text": "and RER collecting these applications not being dependent on multicast and not",
    "start": "1373740",
    "end": "1381300"
  },
  {
    "text": "being dependent on read/write any persistent volume claims led to a better",
    "start": "1381300",
    "end": "1387150"
  },
  {
    "text": "architecture of those applications so we were ok with this end was and didn't",
    "start": "1387150",
    "end": "1395580"
  },
  {
    "text": "produce that much much effort to refactor the apps accordingly so this",
    "start": "1395580",
    "end": "1402330"
  },
  {
    "start": "1401000",
    "end": "1785000"
  },
  {
    "text": "were the good parts now let's get into the bad side of cloud migration life and",
    "start": "1402330",
    "end": "1410450"
  },
  {
    "text": "yeah one bad side is state state within",
    "start": "1410450",
    "end": "1416580"
  },
  {
    "text": "the clouds yeah sometimes micro services suggesting there is no state in",
    "start": "1416580",
    "end": "1422250"
  },
  {
    "text": "applications but there is state in applications and in legacy applications",
    "start": "1422250",
    "end": "1427920"
  },
  {
    "text": "there is state in a lot of different representations the first representation",
    "start": "1427920",
    "end": "1437720"
  },
  {
    "text": "is state within databases here we made",
    "start": "1437720",
    "end": "1442920"
  },
  {
    "text": "our life a little bit easier by letting those databases int in the on-premises",
    "start": "1442920",
    "end": "1450990"
  },
  {
    "text": "data center we didn't migrate databases to Amazon Web Services they were still",
    "start": "1450990",
    "end": "1458610"
  },
  {
    "text": "in their own premises or their right now still in the on-premise data center and",
    "start": "1458610",
    "end": "1465240"
  },
  {
    "text": "we're using them from our monoliths in the MSM cloud directly potential",
    "start": "1465240",
    "end": "1473690"
  },
  {
    "text": "disadvantage here could be that there is more latency but this wasn't a problem",
    "start": "1473690",
    "end": "1480980"
  },
  {
    "text": "for us as the cloud interconnect in between Amazon Web Services and the",
    "start": "1480980",
    "end": "1486950"
  },
  {
    "text": "on-premises data center was quite good yeah there was merely no latency impact",
    "start": "1486950",
    "end": "1493730"
  },
  {
    "text": "there but we're two advantages the application versions on Prem and in the",
    "start": "1493730",
    "end": "1500809"
  },
  {
    "text": "new cloud native platform that can run in parallel which is where what is very very good when you launch those",
    "start": "1500809",
    "end": "1508039"
  },
  {
    "text": "applications you can have smooth throwback to the old version and yeah",
    "start": "1508039",
    "end": "1514360"
  },
  {
    "text": "this is also privacy saying yes there are some there's some data in those",
    "start": "1514360",
    "end": "1521539"
  },
  {
    "text": "databases which should not be in a public cloud at least according to",
    "start": "1521539",
    "end": "1528169"
  },
  {
    "text": "German laws next state or files file",
    "start": "1528169",
    "end": "1539389"
  },
  {
    "text": "persistent persistence was used in about 10% of those applications and we",
    "start": "1539389",
    "end": "1547580"
  },
  {
    "text": "restricted it very heavily so we didn't provide readwrite any persistent volume",
    "start": "1547580",
    "end": "1555409"
  },
  {
    "text": "claims we allowed no file rights into containers we there was the rule that",
    "start": "1555409",
    "end": "1564320"
  },
  {
    "text": "files files within persistent volume claims with application data sensitive",
    "start": "1564320",
    "end": "1570590"
  },
  {
    "text": "data they should be deleted after 50 minutes and of course there were no NOS",
    "start": "1570590",
    "end": "1577789"
  },
  {
    "text": "mounts available from the on-premises data center into the Kuban areas",
    "start": "1577789",
    "end": "1584090"
  },
  {
    "text": "platform so the migration tasks for the affected application were to store those",
    "start": "1584090",
    "end": "1592490"
  },
  {
    "text": "files in the database as blob or use use FTPS to store the the files or to",
    "start": "1592490",
    "end": "1601890"
  },
  {
    "text": "detect a plication not using files anymore so now a very interesting part",
    "start": "1601890",
    "end": "1609780"
  },
  {
    "text": "was how we tackle session states because all of those applications nearly all of",
    "start": "1609780",
    "end": "1616200"
  },
  {
    "text": "those applications had session state first attempt was to use session",
    "start": "1616200",
    "end": "1624660"
  },
  {
    "text": "stickiness openshift somehow provides",
    "start": "1624660",
    "end": "1629850"
  },
  {
    "text": "session stickiness but in my opinion in our opinion in McLeod where everything",
    "start": "1629850",
    "end": "1636840"
  },
  {
    "text": "fails all the time is rescheduled everytime session persistence is not the way to go",
    "start": "1636840",
    "end": "1643490"
  },
  {
    "text": "session stickiness sorry it's not the way to go next step was we considered",
    "start": "1643490",
    "end": "1650490"
  },
  {
    "text": "about session persistence so writing session data of the application in the",
    "start": "1650490",
    "end": "1657870"
  },
  {
    "text": "existing application database but the performance impact here was high because",
    "start": "1657870",
    "end": "1664110"
  },
  {
    "text": "there were many rights and many reads and the application slowed down",
    "start": "1664110",
    "end": "1670340"
  },
  {
    "text": "immensely another tribe was using Redis as session persistence mechanism but",
    "start": "1670340",
    "end": "1677970"
  },
  {
    "text": "Redis didn't provided us with encryption out of the box and also we found nobody",
    "start": "1677970",
    "end": "1685080"
  },
  {
    "text": "who wanted to run this separate Redis infrastructure required him so I got for",
    "start": "1685080",
    "end": "1693450"
  },
  {
    "text": "session synchronization not using the application server mechanism here",
    "start": "1693450",
    "end": "1699960"
  },
  {
    "text": "because this application server we used wasn't able to look up the peers within",
    "start": "1699960",
    "end": "1705720"
  },
  {
    "text": "kubernetes so next try was to use hazel cast as in-memory data grid to",
    "start": "1705720",
    "end": "1711210"
  },
  {
    "text": "synchronize session state but hazel cast costs a lot of money if you want to use",
    "start": "1711210",
    "end": "1717920"
  },
  {
    "text": "TLS and session synchronization with TLS",
    "start": "1717920",
    "end": "1723630"
  },
  {
    "text": "and paying a six-digit amount of euros was not the way to go in our opinion so",
    "start": "1723630",
    "end": "1731990"
  },
  {
    "text": "our final solution was apache ignite we're using apache ignite",
    "start": "1731990",
    "end": "1739220"
  },
  {
    "text": "right now to do a session synchronization between those applications you can hook it up into a",
    "start": "1739220",
    "end": "1745910"
  },
  {
    "text": "chaser very easily Apache ignite provides peer lookup",
    "start": "1745910",
    "end": "1751630"
  },
  {
    "text": "within cuber Nettie's now automatically peer lookups a little bit cumbersome but",
    "start": "1751630",
    "end": "1758570"
  },
  {
    "text": "it works fine and yeah this just for you to mention because this this was three",
    "start": "1758570",
    "end": "1768710"
  },
  {
    "text": "or four engineering days to fix this bug ignite has an just-in-time compiler bug",
    "start": "1768710",
    "end": "1775790"
  },
  {
    "text": "on the IBM JDK or JVM so some classes have two being excluded there we had to",
    "start": "1775790",
    "end": "1782780"
  },
  {
    "text": "use IBM jedikiah yeah this is about session persistence so next thing is",
    "start": "1782780",
    "end": "1788840"
  },
  {
    "text": "about diagnose ability I don't this guy",
    "start": "1788840",
    "end": "1794600"
  },
  {
    "text": "is not relevant here but I only want to place the super here of my my childhood",
    "start": "1794600",
    "end": "1800750"
  },
  {
    "text": "in some of my slides okay so next what's",
    "start": "1800750",
    "end": "1806600"
  },
  {
    "text": "about diagnose ability the Ignasi bility is the ability to observe applications",
    "start": "1806600",
    "end": "1812720"
  },
  {
    "text": "and to diagnose them in if they're running in an abnormal state and it's",
    "start": "1812720",
    "end": "1818000"
  },
  {
    "text": "all about integrating traces metrics and events yeah and our first solution was",
    "start": "1818000",
    "end": "1825290"
  },
  {
    "text": "to go for Prometheus metrics fluent II and the efk stack behind for events and",
    "start": "1825290",
    "end": "1833630"
  },
  {
    "text": "logs and open tracing implementations we used sipc in the first step to to",
    "start": "1833630",
    "end": "1842420"
  },
  {
    "text": "analyze traces but then we run into problems because we were not sure if we",
    "start": "1842420",
    "end": "1848690"
  },
  {
    "text": "were able to set up a central solution that scales for all applications it's",
    "start": "1848690",
    "end": "1857990"
  },
  {
    "text": "feasible but we were not sure if we had enough time and also one instance of",
    "start": "1857990",
    "end": "1864950"
  },
  {
    "text": "from easiest Zipkin and fluent fluent ears if caustic per-application was too much",
    "start": "1864950",
    "end": "1874190"
  },
  {
    "text": "efforts for the applications so we",
    "start": "1874190",
    "end": "1880340"
  },
  {
    "text": "decided to do an easy move and now the",
    "start": "1880340",
    "end": "1886790"
  },
  {
    "text": "whole cluster is instrumented by dynaTrace as application performance monitoring solution but it's a",
    "start": "1886790",
    "end": "1893480"
  },
  {
    "text": "placeholder for any commercial performance management tool which is pre",
    "start": "1893480",
    "end": "1900170"
  },
  {
    "text": "integrated with kubernetes and in suffers the needs here so we're not",
    "start": "1900170",
    "end": "1905720"
  },
  {
    "text": "using those fancy cloud native projects here but it's instrumentalist dynaTrace",
    "start": "1905720",
    "end": "1913330"
  },
  {
    "start": "1913000",
    "end": "2027000"
  },
  {
    "text": "so next is security once again my friend we came far we have",
    "start": "1913330",
    "end": "1924290"
  },
  {
    "text": "at service in place TLS 1.2 2 way and those identity tokens all the way also",
    "start": "1924290",
    "end": "1933890"
  },
  {
    "text": "security filters enhanced here at the edge service level at the application level we enhanced it the application by",
    "start": "1933890",
    "end": "1941000"
  },
  {
    "text": "performing client certificate ACLs and token checks and with egress rules",
    "start": "1941000",
    "end": "1947510"
  },
  {
    "text": "towards a back-end to protect potential",
    "start": "1947510",
    "end": "1952640"
  },
  {
    "text": "malicious containers for accessing all those backends but there is one thing",
    "start": "1952640",
    "end": "1958040"
  },
  {
    "text": "remaining with a huge problem with certificate management right now three",
    "start": "1958040",
    "end": "1963950"
  },
  {
    "text": "full-time employees are doing nothing more than scanning where certificates",
    "start": "1963950",
    "end": "1970520"
  },
  {
    "text": "are not valid anymore or where is a new need for C certificates issuing those",
    "start": "1970520",
    "end": "1978010"
  },
  {
    "text": "certificates and delivering those certificates to be provisioned into the",
    "start": "1978010",
    "end": "1984950"
  },
  {
    "text": "containers and that's the current state but we want those three full-time",
    "start": "1984950",
    "end": "1992210"
  },
  {
    "text": "employees doing something else by end of next year so we're looking into",
    "start": "1992210",
    "end": "1998230"
  },
  {
    "text": "solutions like spire or Sto managing certificate management on on",
    "start": "1998230",
    "end": "2006600"
  },
  {
    "text": "the service mesh side or using network level policies based on products like",
    "start": "2006600",
    "end": "2016000"
  },
  {
    "text": "tag era or cilium or or twistlock and aqua to handle this application to",
    "start": "2016000",
    "end": "2021460"
  },
  {
    "text": "application trust saying on the networking level so and finally the ugly",
    "start": "2021460",
    "end": "2030160"
  },
  {
    "start": "2027000",
    "end": "2275000"
  },
  {
    "text": "parts this line of code is representative for the ugly parts and",
    "start": "2030160",
    "end": "2037870"
  },
  {
    "text": "the hostess pocus the host integration we saw very ugly since they're how hosts",
    "start": "2037870",
    "end": "2044170"
  },
  {
    "text": "are integrated and so on it's mostly about cloud enabling cloud aliens",
    "start": "2044170",
    "end": "2049740"
  },
  {
    "text": "they're wet toxic technology this is technology which is not supported and",
    "start": "2049740",
    "end": "2057429"
  },
  {
    "text": "maintained anymore and especially it was our almighty legacy framework this",
    "start": "2057429",
    "end": "2064780"
  },
  {
    "text": "almighty legacy framework was developed in the early 20 mm about 500 lines of",
    "start": "2064780",
    "end": "2071520"
  },
  {
    "text": "500 thousand lines of code and zero test coverage and yeah but we managed to do",
    "start": "2071520",
    "end": "2084250"
  },
  {
    "text": "all those migration tasks here we had to do and with our almighty legacy framework to make it an almighty",
    "start": "2084250",
    "end": "2090100"
  },
  {
    "text": "framework legacy framework ng here like",
    "start": "2090100",
    "end": "2095340"
  },
  {
    "text": "the migration to the new technology stack token checks token relays or",
    "start": "2095340",
    "end": "2102930"
  },
  {
    "text": "modify the configuration mechanism and so on and the strategies we applied was",
    "start": "2102930",
    "end": "2110350"
  },
  {
    "text": "the hard way 70% of the migration was the hard way to migrate manually and",
    "start": "2110350",
    "end": "2116380"
  },
  {
    "text": "increased coverage the other parts were",
    "start": "2116380",
    "end": "2121480"
  },
  {
    "text": "decorate the applications with ambassadors sidekick source ID cards and adapters and in one or two cases we",
    "start": "2121480",
    "end": "2129670"
  },
  {
    "text": "decided to not migrate certain api's of the legacy framework",
    "start": "2129670",
    "end": "2136180"
  },
  {
    "text": "and having applications to do to migrate to another API yeah that's the ugly side",
    "start": "2136180",
    "end": "2145450"
  },
  {
    "text": "so where are we now right now about 100 systems are life on",
    "start": "2145450",
    "end": "2152589"
  },
  {
    "text": "target on OpenShift on Amazon Web Services and a little bit less because",
    "start": "2152589",
    "end": "2161170"
  },
  {
    "text": "the 100 will be at the end of the year yeah but right now it's 86 or so 200",
    "start": "2161170",
    "end": "2168970"
  },
  {
    "text": "systems will be live on target by end of first quarter 2018 and we're thinking",
    "start": "2168970",
    "end": "2178270"
  },
  {
    "text": "this is possible because after doing some upfront work we're now launching",
    "start": "2178270",
    "end": "2185730"
  },
  {
    "text": "tens of applications each week and the",
    "start": "2185730",
    "end": "2191260"
  },
  {
    "text": "other 200 systems will be migrated also by end of first quarter 2018 with this",
    "start": "2191260",
    "end": "2198220"
  },
  {
    "text": "virtual lift and shift approach and will migrate them to kubernetes by mid of",
    "start": "2198220",
    "end": "2207270"
  },
  {
    "text": "2019 or so so but will meet the requirement of our CIO that it's done",
    "start": "2207270",
    "end": "2214930"
  },
  {
    "text": "within a year so that what we've learned",
    "start": "2214930",
    "end": "2220299"
  },
  {
    "text": "from our migration it's not a stupid",
    "start": "2220299",
    "end": "2226029"
  },
  {
    "text": "just put monoliths into containers approach we really tried hard to come as",
    "start": "2226029",
    "end": "2233950"
  },
  {
    "text": "close as possible to cloud fan friendly application principles twelve factors",
    "start": "2233950",
    "end": "2239799"
  },
  {
    "text": "and also in our opinion we increase the security levels really by an order of",
    "start": "2239799",
    "end": "2246760"
  },
  {
    "text": "magnitude at the target architecture so",
    "start": "2246760",
    "end": "2253539"
  },
  {
    "text": "that's all from my side I think now the counter is at zero but I can propose you",
    "start": "2253539",
    "end": "2261309"
  },
  {
    "text": "I'll be out there for 50 minutes for half an hour and you can ask me any",
    "start": "2261309",
    "end": "2268359"
  },
  {
    "text": "question you want thanks for your attention",
    "start": "2268359",
    "end": "2273660"
  },
  {
    "text": "[Applause]",
    "start": "2273660",
    "end": "2277150"
  }
]