[
  {
    "start": "0",
    "end": "117000"
  },
  {
    "text": "okay looks like it's down to a trickle so let's go ahead and get started thank",
    "start": "0",
    "end": "7740"
  },
  {
    "text": "you all for joining us today welcome to today's CN CF webinar kubernetes in",
    "start": "7740",
    "end": "13559"
  },
  {
    "text": "production operating at CD with NC d ADM my name is ariel chatib I'm a CN CF",
    "start": "13559",
    "end": "20460"
  },
  {
    "text": "ambassador and a tme here at NetApp and",
    "start": "20460",
    "end": "25740"
  },
  {
    "text": "I'll be moderating today's webinar we'd like to welcome our presenter today Daniel lipid etske from platform 9 I got",
    "start": "25740",
    "end": "35010"
  },
  {
    "text": "it right again you got it right all right before we get started a couple of",
    "start": "35010",
    "end": "40140"
  },
  {
    "text": "housekeeping items during the webinar you're not able to talk show as in attending if you have any questions",
    "start": "40140",
    "end": "46469"
  },
  {
    "text": "there's a Q&A box right down at the bottom of your screen please feel free to drop your questions in there and",
    "start": "46469",
    "end": "52170"
  },
  {
    "text": "we'll get to as many as we can at the end of the talk and the demo so without",
    "start": "52170",
    "end": "60329"
  },
  {
    "text": "further ado oh one more thing this thing is being recorded and we'll send out the recording link afterwards also with the",
    "start": "60329",
    "end": "67080"
  },
  {
    "text": "presentation and now with that I'll hand it off to Daniel to tell us all about at",
    "start": "67080",
    "end": "73979"
  },
  {
    "text": "CD and at CDN great thank you very much for the introduction Ariel yeah like a",
    "start": "73979",
    "end": "79619"
  },
  {
    "text": "girl said my name is Daniel Levitsky I'm a software engineer I've been working on kubernetes cluster lifecycle tooling for",
    "start": "79619",
    "end": "87030"
  },
  {
    "text": "about three years at platform 9 platform 9 helps our customers may deploy and",
    "start": "87030",
    "end": "93210"
  },
  {
    "text": "manage kubernetes clusters on-premises and in different public clouds and today",
    "start": "93210",
    "end": "98729"
  },
  {
    "text": "I want to talk about as the sed ADM tool and its service beginning the the reason",
    "start": "98729",
    "end": "108210"
  },
  {
    "text": "why it exists the motivations and those are you know the lessons that we've",
    "start": "108210",
    "end": "113670"
  },
  {
    "text": "learned in production so to begin STD ADM it's a CLI and it's meant to",
    "start": "113670",
    "end": "121920"
  },
  {
    "start": "117000",
    "end": "152000"
  },
  {
    "text": "simplify a seedy operation including disaster recovery inspired by lessons",
    "start": "121920",
    "end": "127170"
  },
  {
    "text": "learned running kubernetes in production and importantly it's an open source community project you can find it",
    "start": "127170",
    "end": "133830"
  },
  {
    "text": "on github it's adopted by the urban IDs cluster lifecycle special interest group",
    "start": "133830",
    "end": "140340"
  },
  {
    "text": "and it's easy to install it's a single goal binary you can go get it and we'll",
    "start": "140340",
    "end": "148380"
  },
  {
    "text": "have binary releases coming soon so why",
    "start": "148380",
    "end": "154020"
  },
  {
    "text": "did that CD item exists I want to talk about some of the lessons that we've learned in production and before I go",
    "start": "154020",
    "end": "161310"
  },
  {
    "text": "into those just want to assess one definition which is control plan so when I'm talking about the control plane or",
    "start": "161310",
    "end": "168390"
  },
  {
    "text": "when you think about the kubernetes control plan think of a group of stateless components which is API server",
    "start": "168390",
    "end": "175100"
  },
  {
    "text": "which is of course you know accepting all the requests and responding to them and then the controller manager the",
    "start": "175100",
    "end": "182730"
  },
  {
    "text": "controller manager where the different controllers are running for your for example for your replica set to your deployments or even for nodes and then",
    "start": "182730",
    "end": "191130"
  },
  {
    "text": "of course the scheduler which is responsible for assigning nodes to deposit and finally there is one",
    "start": "191130",
    "end": "200180"
  },
  {
    "text": "stateful component and that is a TD that's a distributed database and it",
    "start": "200180",
    "end": "205320"
  },
  {
    "text": "holds all of the state of the kubernetes cluster everything that's stored in the",
    "start": "205320",
    "end": "211800"
  },
  {
    "text": "kubernetes api so lesson number one is",
    "start": "211800",
    "end": "217019"
  },
  {
    "start": "215000",
    "end": "395000"
  },
  {
    "text": "that api uptime is critical without the api the cluster is a zombie",
    "start": "217019",
    "end": "225080"
  },
  {
    "text": "I neglected to insert a zombie meme here but what I mean by by zombie is that the",
    "start": "225080",
    "end": "232980"
  },
  {
    "text": "the workload that you have running continue to run but anything that needs",
    "start": "232980",
    "end": "238410"
  },
  {
    "text": "API access really can't make progress and you know in the in the early days of",
    "start": "238410",
    "end": "247620"
  },
  {
    "text": "kubernetes that was the the core you know the core components you think of",
    "start": "247620",
    "end": "252660"
  },
  {
    "text": "coop proxy which was responsible for routing pod service deposit",
    "start": "252660",
    "end": "257880"
  },
  {
    "text": "communication but now the api the kubernetes api has become even more",
    "start": "257880",
    "end": "263520"
  },
  {
    "text": "critical as important add-on service meshes and API gateways and even",
    "start": "263520",
    "end": "271590"
  },
  {
    "text": "function to the service implementations are using CR DS and they're using the",
    "start": "271590",
    "end": "278760"
  },
  {
    "text": "kubernetes api to to store and to interact with with users and to store",
    "start": "278760",
    "end": "285270"
  },
  {
    "text": "all their data so that's lesson one lesson two is that many api outages are",
    "start": "285270",
    "end": "291300"
  },
  {
    "text": "due to SED failure when you have an api",
    "start": "291300",
    "end": "296550"
  },
  {
    "text": "outage it's not always easy to to",
    "start": "296550",
    "end": "301860"
  },
  {
    "text": "determine the cause but as a first step you could check these component services",
    "start": "301860",
    "end": "310230"
  },
  {
    "text": "that's a coop cuddle get component statuses command if the API servers is",
    "start": "310230",
    "end": "315810"
  },
  {
    "text": "responding at all sometimes it's it begins to crash look at which points or that's not even useful sometimes you",
    "start": "315810",
    "end": "322620"
  },
  {
    "text": "just have to go to the API server log one way of finding whether there's",
    "start": "322620",
    "end": "327720"
  },
  {
    "text": "something something you miss with a CD is for you to grep for a CD server or",
    "start": "327720",
    "end": "334020"
  },
  {
    "text": "sed and not in the log and another lesson that we've learned the hard way",
    "start": "334020",
    "end": "340770"
  },
  {
    "text": "is that complete a TD failure does happen so regardless of whether you're running you know three member clusters",
    "start": "340770",
    "end": "347910"
  },
  {
    "text": "or five member or clusters you will at some point experience a complete outage",
    "start": "347910",
    "end": "354330"
  },
  {
    "text": "and that outage may you know there may",
    "start": "354330",
    "end": "360360"
  },
  {
    "text": "be no way to recover those members and so it's important to be able to recover",
    "start": "360360",
    "end": "366690"
  },
  {
    "text": "the cluster from from a backup for example and that may happen it you know",
    "start": "366690",
    "end": "373020"
  },
  {
    "text": "at any point of the day or night and we've also learned that it's important to have a manual sed recovery process",
    "start": "373020",
    "end": "380280"
  },
  {
    "text": "and I'll I'll talk about that later on and finally periodic STD backups are",
    "start": "380280",
    "end": "388110"
  },
  {
    "text": "important but try to recover the latest state if possible okay",
    "start": "388110",
    "end": "396630"
  },
  {
    "start": "395000",
    "end": "433000"
  },
  {
    "text": "so from those from those lessons learn in production we know we want to",
    "start": "396630",
    "end": "404389"
  },
  {
    "text": "address or make sure of a couple of things right we want to make sure that the API is is up as you know as much as",
    "start": "404389",
    "end": "411300"
  },
  {
    "text": "possible and there are two strategies to doing this one is to ensure that you can tolerate partial failure the of the",
    "start": "411300",
    "end": "418770"
  },
  {
    "text": "control plane and that you can reduce the recovery time from you know either a",
    "start": "418770",
    "end": "424680"
  },
  {
    "text": "partial failure or a complete failure there are two strategies and you need",
    "start": "424680",
    "end": "430740"
  },
  {
    "text": "both of them so how do we tolerate",
    "start": "430740",
    "end": "436169"
  },
  {
    "text": "partial failure well we can deploy multiple control plane replicas this is",
    "start": "436169",
    "end": "442289"
  },
  {
    "text": "slightly easier because they're stateless and if you have some configuration set you can just you know",
    "start": "442289",
    "end": "448050"
  },
  {
    "text": "create all the replicas you want you'll need to route your request to the",
    "start": "448050",
    "end": "453509"
  },
  {
    "text": "various API servers if you you know you may have a load balancer and you'll need",
    "start": "453509",
    "end": "459419"
  },
  {
    "text": "to update the load balancer records to point to your replicas or you may have you may be doing failover in which case",
    "start": "459419",
    "end": "468330"
  },
  {
    "text": "you may be running something like keepalive D but in any case it's it's",
    "start": "468330",
    "end": "474360"
  },
  {
    "text": "it's stateless you can you can deploy the replicas you know in in parallel",
    "start": "474360",
    "end": "480839"
  },
  {
    "text": "it's relatively easy to do and there's not a performance penalty the API server",
    "start": "480839",
    "end": "488089"
  },
  {
    "text": "also is is designed to be able to run with you know multiple multiple copies",
    "start": "488089",
    "end": "494580"
  },
  {
    "text": "it will be able to resolve or or yeah resolve conflicts when there are",
    "start": "494580",
    "end": "501330"
  },
  {
    "text": "conflicts or you know project requests that are that are maybe conflicting with",
    "start": "501330",
    "end": "506520"
  },
  {
    "text": "a concurrent request and then the other components like the scheduler in the node or the controller manager are",
    "start": "506520",
    "end": "513050"
  },
  {
    "text": "designed to elect a leader if there are multiple replicas running and avoids",
    "start": "513050",
    "end": "519659"
  },
  {
    "text": "conflict that way so that's one part the other part is that you need to deploy multiple TD members if you have multiple",
    "start": "519659",
    "end": "526500"
  },
  {
    "text": "control plan replicas but just a single sed member and it's UD member fails and the API server is unable to any of",
    "start": "526500",
    "end": "534600"
  },
  {
    "text": "replicas are unable to serve a question more so deploying multiple SUV members",
    "start": "534600",
    "end": "539790"
  },
  {
    "text": "is harder it's a stateful component and",
    "start": "539790",
    "end": "544819"
  },
  {
    "text": "and not only that but there is a performance penalty for doing that so as",
    "start": "544819",
    "end": "551399"
  },
  {
    "text": "as the number of members increases you the the what's called it yeah the",
    "start": "551399",
    "end": "557880"
  },
  {
    "text": "majority of the SD cluster the majorities and members need to process",
    "start": "557880",
    "end": "562949"
  },
  {
    "text": "reads and writes and so those are of course going over the network so as you go from you know one member which is",
    "start": "562949",
    "end": "569100"
  },
  {
    "text": "handling everything locally to multiple members where traffic is going over the network the performance does decrease so",
    "start": "569100",
    "end": "578490"
  },
  {
    "start": "577000",
    "end": "716000"
  },
  {
    "text": "that's how we would deal with dealing with partial or handling partial failure",
    "start": "578490",
    "end": "586290"
  },
  {
    "text": "the other the other strategy that we needed is how to reduce recovery time",
    "start": "586290",
    "end": "591480"
  },
  {
    "text": "right so we have a couple options right we could write a service to automate",
    "start": "591480",
    "end": "596850"
  },
  {
    "text": "recovery now this tends to be more complex and less flexible right and",
    "start": "596850",
    "end": "604410"
  },
  {
    "text": "there are some there are some corner cases you know in the failure that you may just not predict and typically if",
    "start": "604410",
    "end": "612600"
  },
  {
    "text": "you if you write a service to automatically recover you know distributed database that's",
    "start": "612600",
    "end": "618569"
  },
  {
    "text": "going to depend on external API it's whether it's to you know bring up new instances where you're going to be",
    "start": "618569",
    "end": "624660"
  },
  {
    "text": "running at CD or even to figure out you know whether whether some instances are",
    "start": "624660",
    "end": "632430"
  },
  {
    "text": "you know are partitioned on the network or you know there's been you know a hard",
    "start": "632430",
    "end": "638579"
  },
  {
    "text": "disk crash or you know an instances has been deleted maybe by a user and of",
    "start": "638579",
    "end": "644939"
  },
  {
    "text": "course it's it's harder to debug and to patch you know if you find that there is",
    "start": "644939",
    "end": "650819"
  },
  {
    "text": "an issue at the very time that you need to recover you know you just don't have",
    "start": "650819",
    "end": "656089"
  },
  {
    "text": "very much time to sort of investigate you know what this automatic recovery services ISM if it's if it's doing",
    "start": "656089",
    "end": "663689"
  },
  {
    "text": "something correctly and finally I use yeah you're trying to ensure that you",
    "start": "663689",
    "end": "669940"
  },
  {
    "text": "know that you're tolerating partial failure and be able to recover this one",
    "start": "669940",
    "end": "675910"
  },
  {
    "text": "distributed system which is at C D but then it turns out if you want to have this automated recovery service you sort of have to solve that problem for the",
    "start": "675910",
    "end": "682900"
  },
  {
    "text": "service on the other hand you can",
    "start": "682900",
    "end": "688210"
  },
  {
    "text": "implement a manual recovery process and that process can be made simple with",
    "start": "688210",
    "end": "694150"
  },
  {
    "text": "tooling importantly it has no dependencies and it's easier to debug",
    "start": "694150",
    "end": "700570"
  },
  {
    "text": "and to patch if there is you know if there's a corner case that you haven't",
    "start": "700570",
    "end": "706540"
  },
  {
    "text": "that you didn't anticipate that you need to handle during this critical recovery",
    "start": "706540",
    "end": "712780"
  },
  {
    "text": "phase so SCD ATM was designed with those",
    "start": "712780",
    "end": "723420"
  },
  {
    "text": "with those ideas in mind right so its goals are to make it easy to tolerate",
    "start": "723420",
    "end": "728740"
  },
  {
    "text": "partial ICD failure to make it easy to have a manual STD recovery process and to work without dependencies on external",
    "start": "728740",
    "end": "735400"
  },
  {
    "text": "services like DNS or network storage and of course as CDM wants to compose well",
    "start": "735400",
    "end": "742000"
  },
  {
    "text": "with other tools so you know for example you can use kuba TM which was a huge",
    "start": "742000",
    "end": "747460"
  },
  {
    "text": "inspiration for a TDM in order to deploy control plane replicas and ok enough",
    "start": "747460",
    "end": "756930"
  },
  {
    "text": "enough of exposition let's let's demo I want to I want to show how we can use a",
    "start": "756930",
    "end": "763930"
  },
  {
    "text": "TDM to deploy a multi-member cluster and then how we can scale that cluster and finally how to recover from repetitive",
    "start": "763930",
    "end": "772830"
  },
  {
    "text": "ok how to deploy a multi-member cluster so again a couple of options one we can",
    "start": "773850",
    "end": "780760"
  },
  {
    "start": "774000",
    "end": "846000"
  },
  {
    "text": "deploy all members atomically in order to do this you have to use what's called",
    "start": "780760",
    "end": "786460"
  },
  {
    "text": "the sed discovery service or DNS and update DNS records or use what's called",
    "start": "786460",
    "end": "792790"
  },
  {
    "text": "a static deployment where you configure all of members initially and and then",
    "start": "792790",
    "end": "799630"
  },
  {
    "text": "start them up so the other option is to deploy one",
    "start": "799630",
    "end": "805060"
  },
  {
    "text": "member at a time then scale up so sed ADM true the student of the ladder and",
    "start": "805060",
    "end": "812170"
  },
  {
    "text": "the reason is that or there are a few reasons right one is that there's just",
    "start": "812170",
    "end": "818230"
  },
  {
    "text": "one mechanism to understand the scaling mechanism there's no dependency on DNS",
    "start": "818230",
    "end": "824680"
  },
  {
    "text": "or external discovery service and it it's easier to understand when something",
    "start": "824680",
    "end": "830770"
  },
  {
    "text": "goes wrong the drawback is that you deploy members sequentially so you're",
    "start": "830770",
    "end": "838150"
  },
  {
    "text": "not deploying them in parallel and and letting them sort of converge but it's",
    "start": "838150",
    "end": "847300"
  },
  {
    "start": "846000",
    "end": "947000"
  },
  {
    "text": "pretty straightforward so let's let's go ahead and do that let's create the first member so I've got I've got sessions",
    "start": "847300",
    "end": "856930"
  },
  {
    "text": "open on about 3 3 hosts and I will initialize the first TD member so this",
    "start": "856930",
    "end": "868270"
  },
  {
    "text": "is I'm just running a teeny here and now we've got we've got an NC d service",
    "start": "868270",
    "end": "875020"
  },
  {
    "text": "running and I'll just query the sed API",
    "start": "875020",
    "end": "882040"
  },
  {
    "text": "so let me let me give you a quick rundown of what's happening behind the",
    "start": "882040",
    "end": "887830"
  },
  {
    "text": "scenes so when I run a TD am in it it will generate the CA certificate and",
    "start": "887830",
    "end": "893860"
  },
  {
    "text": "then use that to generate or to sign server and client certificates the the",
    "start": "893860",
    "end": "900850"
  },
  {
    "text": "CA certificate is or all these certificates rather are what used to",
    "start": "900850",
    "end": "906700"
  },
  {
    "text": "establish trust among the different Etsy members and then also client",
    "start": "906700",
    "end": "913540"
  },
  {
    "text": "certificates are of course used by for example the kubernetes api server to be",
    "start": "913540",
    "end": "918700"
  },
  {
    "text": "able to talk to TD so I see the ADM will generate those it'll write configuration",
    "start": "918700",
    "end": "926560"
  },
  {
    "text": "and then it'll create and start the system B service so yeah",
    "start": "926560",
    "end": "934329"
  },
  {
    "text": "I've got a single member at GD + you're up up and running with just you know a",
    "start": "934329",
    "end": "941949"
  },
  {
    "text": "single single command now the the next",
    "start": "941949",
    "end": "948939"
  },
  {
    "start": "947000",
    "end": "1201000"
  },
  {
    "text": "thing that I want to do is scale up my cluster so in order to do that I'll want",
    "start": "948939",
    "end": "954399"
  },
  {
    "text": "to copy over the CA cert and key and that is so the other members can use",
    "start": "954399",
    "end": "963610"
  },
  {
    "text": "that to sign their server and client certificates and as long as the the same",
    "start": "963610",
    "end": "969309"
  },
  {
    "text": "CA is used to sign the search then the the members will will trust one another",
    "start": "969309",
    "end": "976480"
  },
  {
    "text": "certificates because they trust that CA so let me go ahead and do that only copy",
    "start": "976480",
    "end": "983769"
  },
  {
    "text": "over copy over these certificates whoops",
    "start": "983769",
    "end": "990959"
  },
  {
    "text": "there we go okay so I'll copy it over to one host and I'll copy it over to another host",
    "start": "990959",
    "end": "997869"
  },
  {
    "text": "and let me go over so now I'm on the second host and now actually I've",
    "start": "997869",
    "end": "1005360"
  },
  {
    "text": "forgotten what I need to type but I can go back and if I look at the output of a",
    "start": "1005360",
    "end": "1011819"
  },
  {
    "text": "TM it will actually give me a helpful hint this is also inspired by herb ADM",
    "start": "1011819",
    "end": "1019610"
  },
  {
    "text": "so I can copy and paste this command and run that on on the second host and as",
    "start": "1019610",
    "end": "1027779"
  },
  {
    "text": "long as I have a search there we just demonstrate that the search are",
    "start": "1027779",
    "end": "1033240"
  },
  {
    "text": "there I've just copied those over so now as the searcher there I should be able to scale the cluster up ok so",
    "start": "1033240",
    "end": "1044839"
  },
  {
    "text": "what's happened here behind the scenes is a little bit more complicated first",
    "start": "1044839",
    "end": "1052409"
  },
  {
    "text": "of all it's the ADM saw that there was an existing CA search so it used that to",
    "start": "1052409",
    "end": "1057510"
  },
  {
    "text": "find the server and client certificates then it's the ADM actually called up to",
    "start": "1057510",
    "end": "1066330"
  },
  {
    "text": "the existing sed Buster and added this new host using the",
    "start": "1066330",
    "end": "1072690"
  },
  {
    "text": "members API and after it did that successfully then it brought up broke",
    "start": "1072690",
    "end": "1080700"
  },
  {
    "text": "the configuration and started the sed service and again let's let's just check",
    "start": "1080700",
    "end": "1087929"
  },
  {
    "text": "out the members in this cluster now and",
    "start": "1087929",
    "end": "1094140"
  },
  {
    "text": "I will I'd like to point out that I'm using a CD cuddle Sh",
    "start": "1094140",
    "end": "1099480"
  },
  {
    "text": "if you've used that you need before you may be familiar with the sed cuddle tool it's a great CLI tool but one of its",
    "start": "1099480",
    "end": "1107100"
  },
  {
    "text": "drawbacks is that if you're using it with a cluster that that has TLS enabled",
    "start": "1107100",
    "end": "1117299"
  },
  {
    "text": "you'll need to pass in either command line flags or set some environment variables so that s unique uttal knows",
    "start": "1117299",
    "end": "1124410"
  },
  {
    "text": "about those certificates and where to read them from disk and if you're using it with the v3 API is we are you'll also",
    "start": "1124410",
    "end": "1130410"
  },
  {
    "text": "need to set another environment variable or command line flag and so sed cuddle that Sh is just a tiny shell script that",
    "start": "1130410",
    "end": "1138870"
  },
  {
    "text": "we bundle with at the ADM that sets those environment variables and then",
    "start": "1138870",
    "end": "1144690"
  },
  {
    "text": "calls sed cuddle for you so yeah just just a little bit of",
    "start": "1144690",
    "end": "1151710"
  },
  {
    "text": "convenience when you're using that interactively so okay so now we've got",
    "start": "1151710",
    "end": "1156990"
  },
  {
    "text": "this two member cluster and let's go and scale up to three so again I just want",
    "start": "1156990",
    "end": "1164100"
  },
  {
    "text": "to show that we've got the search there and I can use that same command to to",
    "start": "1164100",
    "end": "1170549"
  },
  {
    "text": "join I can also switch the endpoint to a",
    "start": "1170549",
    "end": "1176460"
  },
  {
    "text": "to a different endpoint anyone in the cluster is fine so we just added this 10",
    "start": "1176460",
    "end": "1181559"
  },
  {
    "text": "105 16 195 so I'll use that to to join as long as it's a it's an endpoint",
    "start": "1181559",
    "end": "1188400"
  },
  {
    "text": "that's responding and it's the iam can call the API we're good to go okay so",
    "start": "1188400",
    "end": "1196080"
  },
  {
    "text": "now we've got that three member cluster okay at some point you may want to scale",
    "start": "1196080",
    "end": "1204909"
  },
  {
    "start": "1201000",
    "end": "1226000"
  },
  {
    "text": "down and to do that there it's a symmetric interface you run at CD ADM",
    "start": "1204909",
    "end": "1212380"
  },
  {
    "text": "reset on that member to have it leave the cluster gracefully I'll demo that",
    "start": "1212380",
    "end": "1220120"
  },
  {
    "text": "and a little bit when we talk about handling failures so now that we've got",
    "start": "1220120",
    "end": "1228519"
  },
  {
    "start": "1226000",
    "end": "1467000"
  },
  {
    "text": "our three member cluster okay we want to",
    "start": "1228519",
    "end": "1234309"
  },
  {
    "text": "so now now we're at the point where we're able to tolerate partial failures so I could I could demonstrate that for",
    "start": "1234309",
    "end": "1240730"
  },
  {
    "text": "example if I if I stop the sed service and actually let me know",
    "start": "1240730",
    "end": "1249600"
  },
  {
    "text": "let me demonstrate so endpoint health so this is this is I'm making a request to",
    "start": "1250740",
    "end": "1257350"
  },
  {
    "text": "all of the different members and all of them are able to respond so except read",
    "start": "1257350",
    "end": "1265659"
  },
  {
    "text": "and write and now let me take one",
    "start": "1265659",
    "end": "1270899"
  },
  {
    "text": "offline by stopping the service on one of the one of the one of the hosts and",
    "start": "1270899",
    "end": "1277690"
  },
  {
    "text": "now hmm",
    "start": "1277690",
    "end": "1282870"
  },
  {
    "text": "here here this will this will fail because I'm not I'm making a connection",
    "start": "1282870",
    "end": "1289210"
  },
  {
    "text": "to the local sed member but let me let me do that from a different host and",
    "start": "1289210",
    "end": "1294880"
  },
  {
    "text": "then we can see that the the two members",
    "start": "1294880",
    "end": "1300669"
  },
  {
    "text": "are responding one is not that's the one where the systemd service has stopped",
    "start": "1300669",
    "end": "1305950"
  },
  {
    "text": "but importantly the I'm able to both",
    "start": "1305950",
    "end": "1312669"
  },
  {
    "text": "read and write to the database so let me",
    "start": "1312669",
    "end": "1318940"
  },
  {
    "text": "go and let me start that back up so that was an example of you know partial",
    "start": "1318940",
    "end": "1325809"
  },
  {
    "text": "partial failure right we had one member that was unavailable but the cluster was",
    "start": "1325809",
    "end": "1331179"
  },
  {
    "text": "still able to accept reads and writes and now that member is back and and we have all",
    "start": "1331179",
    "end": "1339879"
  },
  {
    "text": "three members running again so we can now handle partial failure right just",
    "start": "1339879",
    "end": "1348129"
  },
  {
    "text": "just by deploying multiple members now I want to before I go into the next",
    "start": "1348129",
    "end": "1354100"
  },
  {
    "text": "section set a couple definitions so a minority failure is a partial failure",
    "start": "1354100",
    "end": "1361659"
  },
  {
    "text": "where a majority of members are are still available as I mentioned before in",
    "start": "1361659",
    "end": "1369580"
  },
  {
    "text": "order for you know that you need to accept any read or write and majority of the members must be available so an",
    "start": "1369580",
    "end": "1377830"
  },
  {
    "text": "example of a minority failure could be something like plain met a planned maintenance right I have to you know",
    "start": "1377830",
    "end": "1383350"
  },
  {
    "text": "update the kernel on on some member and you know restart restart the operating",
    "start": "1383350",
    "end": "1391090"
  },
  {
    "text": "system and it will be down for the duration of that that restart it could be a network partition or it might even",
    "start": "1391090",
    "end": "1397990"
  },
  {
    "text": "be you know a hard disk failure on on a minority of the of the members on the",
    "start": "1397990",
    "end": "1406690"
  },
  {
    "text": "other hand there's a majority failure and this is a partial or complete",
    "start": "1406690",
    "end": "1412559"
  },
  {
    "text": "failure where a majority of members are not available so what I mean by complete",
    "start": "1412559",
    "end": "1417970"
  },
  {
    "text": "failure is that when you've lost everything so if you're you know if you're running an NC cluster STD cluster in you know",
    "start": "1417970",
    "end": "1425799"
  },
  {
    "text": "and a single data center and that data center goes offline you've washed the cluster and maybe you've lost network",
    "start": "1425799",
    "end": "1434590"
  },
  {
    "text": "storage so we you know we've seen you know where we have multiple members but",
    "start": "1434590",
    "end": "1442269"
  },
  {
    "text": "they are all backed by you know by the same network storage and at some point",
    "start": "1442269",
    "end": "1451299"
  },
  {
    "text": "you know for for different reasons right you could have corruption or you could have disk failure and you know one or",
    "start": "1451299",
    "end": "1458830"
  },
  {
    "text": "more members can be affected by that and sometimes all of them so",
    "start": "1458830",
    "end": "1468210"
  },
  {
    "start": "1467000",
    "end": "1632000"
  },
  {
    "text": "I want to really talk about how to prepare for a planned minority failure so a plan minority failure is a plan",
    "start": "1468210",
    "end": "1476220"
  },
  {
    "text": "maintenance so first want to consider",
    "start": "1476220",
    "end": "1481590"
  },
  {
    "text": "how many failures your cluster can tolerate so if you have three members you can tolerate at most one sailor",
    "start": "1481590",
    "end": "1487730"
  },
  {
    "text": "while still able to accept reason right okay so if we want to you know patch the",
    "start": "1487730",
    "end": "1495480"
  },
  {
    "text": "patch to Colonel on one of these hosts oh we can do that we know that the sed",
    "start": "1495480",
    "end": "1500850"
  },
  {
    "text": "will continue to be up and the SAR are very important control a control plane and API will what can you two continue",
    "start": "1500850",
    "end": "1507570"
  },
  {
    "text": "to run so we have options of how to how",
    "start": "1507570",
    "end": "1513480"
  },
  {
    "text": "to prepare one is we can just do nothing what I mean by do nothing is that we",
    "start": "1513480",
    "end": "1518700"
  },
  {
    "text": "just you know patch the kernel and restart and once that restart happens the service will run again will read the",
    "start": "1518700",
    "end": "1524550"
  },
  {
    "text": "data from disk will catch up and you know if everything goes well it'll just",
    "start": "1524550",
    "end": "1530010"
  },
  {
    "text": "be a you know temporary just like when I stopped that at CD service that's a",
    "start": "1530010",
    "end": "1539370"
  },
  {
    "text": "little bit risky because you know you don't you can't always predict what effect your your maintenance will will",
    "start": "1539370",
    "end": "1547050"
  },
  {
    "text": "have and the other option you have is to migrate the member so you can actually",
    "start": "1547050",
    "end": "1553770"
  },
  {
    "text": "take the data on disk copy it to a different machine and then make some",
    "start": "1553770",
    "end": "1562230"
  },
  {
    "text": "changes to the to the metadata of that",
    "start": "1562230",
    "end": "1567840"
  },
  {
    "text": "member because the rest of your cluster is up and that API is available and then",
    "start": "1567840",
    "end": "1573720"
  },
  {
    "text": "you know that we basically start running that same member and it with a different network ID with a different IP it's a",
    "start": "1573720",
    "end": "1581910"
  },
  {
    "text": "special procedure to do that but the advantage is that there's less data to catch up on after migrating because",
    "start": "1581910",
    "end": "1588690"
  },
  {
    "text": "there's the bulk of the data is already on disk you've just copied it over and",
    "start": "1588690",
    "end": "1594120"
  },
  {
    "text": "the third option is to just replace the member so this is nice because it reuses",
    "start": "1594120",
    "end": "1599820"
  },
  {
    "text": "the scaling procedure first you scale up alright so you add so if I have three members I'm going to add at 1/4",
    "start": "1599820",
    "end": "1607980"
  },
  {
    "text": "and then I will remove the member that I want to I want to perform maintenance on",
    "start": "1607980",
    "end": "1613019"
  },
  {
    "text": "the downside is that there is more data to catch up on for that member that's",
    "start": "1613019",
    "end": "1618090"
  },
  {
    "text": "that's being added so you'll need to wait some time for that new member to",
    "start": "1618090",
    "end": "1626000"
  },
  {
    "text": "catch up to the question and yeah so",
    "start": "1626000",
    "end": "1634490"
  },
  {
    "start": "1632000",
    "end": "1796000"
  },
  {
    "text": "let's take a look at what we can or how we can do this with with a TD a DM which",
    "start": "1634490",
    "end": "1643230"
  },
  {
    "text": "makes a third that third option easy which is to replace the member and again",
    "start": "1643230",
    "end": "1648990"
  },
  {
    "text": "this is so that there's not you know a special procedure to use you can just",
    "start": "1648990",
    "end": "1655740"
  },
  {
    "text": "use the same scale up and scale down procedure so yeah let me actually take",
    "start": "1655740",
    "end": "1662120"
  },
  {
    "text": "yeah take this this node that that we have and I let me run at CD ADM reset on",
    "start": "1662120",
    "end": "1669419"
  },
  {
    "text": "it and this will have to have this member leave the cluster so",
    "start": "1669419",
    "end": "1681289"
  },
  {
    "text": "behind-the-scenes SED ADM called up to the clusters member api identified the",
    "start": "1681289",
    "end": "1690630"
  },
  {
    "text": "the local member and then removed it from from the cluster and then cleaned",
    "start": "1690630",
    "end": "1698130"
  },
  {
    "text": "up you know on disk artifacts and so now if we go to if we go and list the",
    "start": "1698130",
    "end": "1706799"
  },
  {
    "text": "current members we'll see we have one fewer ok so that that was the scaling",
    "start": "1706799",
    "end": "1715049"
  },
  {
    "text": "down portion and then for the scaling up I'm actually going to reuse the same",
    "start": "1715049",
    "end": "1720630"
  },
  {
    "text": "member so I'm going to cheat a little bit but I can I can demonstrate that there's a there's there's nothing there",
    "start": "1720630",
    "end": "1729269"
  },
  {
    "text": "there is no there is no sed you know I'm not turning something off and back on I",
    "start": "1729269",
    "end": "1735320"
  },
  {
    "text": "really am you know scaling down and then scaling back up so yeah let's make sure",
    "start": "1735320",
    "end": "1741140"
  },
  {
    "text": "that we have the certificates on this host again uh let me just okay copy over",
    "start": "1741140",
    "end": "1748370"
  },
  {
    "text": "that that's see a certain key and now that now that's there again I can run",
    "start": "1748370",
    "end": "1755360"
  },
  {
    "text": "the join command and I'm back to I'm",
    "start": "1755360",
    "end": "1767630"
  },
  {
    "text": "back to three members in my cluster now you know we can pretend that that I just",
    "start": "1767630",
    "end": "1774680"
  },
  {
    "text": "you know went to 1/4 1/4 machine and did this but I happen to use the same",
    "start": "1774680",
    "end": "1781970"
  },
  {
    "text": "machine so that's how you would prepare for a plan minority failure with with",
    "start": "1781970",
    "end": "1789260"
  },
  {
    "text": "acedia I relatively straightforward is the same as scaling up and scaling down",
    "start": "1789260",
    "end": "1796120"
  },
  {
    "start": "1796000",
    "end": "1976000"
  },
  {
    "text": "now if you have an unplanned minority failure it's a little bit more",
    "start": "1796120",
    "end": "1801680"
  },
  {
    "text": "complicated right first if you can actually reach that member that is",
    "start": "1801680",
    "end": "1808070"
  },
  {
    "text": "unexpectedly not participating in cluster if you can reach the member first checkup the data is on disk",
    "start": "1808070",
    "end": "1814210"
  },
  {
    "text": "typically that data is going to be under Varla at CD and that's that's the case",
    "start": "1814210",
    "end": "1819650"
  },
  {
    "text": "for a CDM by default so let's let's look",
    "start": "1819650",
    "end": "1827300"
  },
  {
    "text": "at that so there's our there's all that STD data if it's there if the data is on",
    "start": "1827300",
    "end": "1835250"
  },
  {
    "text": "disk then as long as the FDD process is running the you know the member should",
    "start": "1835250",
    "end": "1841040"
  },
  {
    "text": "be able to participate so you know you can check the status of the of the STD",
    "start": "1841040",
    "end": "1847280"
  },
  {
    "text": "service ok that that's running if it's not running maybe restart it if it's",
    "start": "1847280",
    "end": "1853250"
  },
  {
    "text": "running the data is on disk but it's still not being able is not participating in a cluster to check for a changed IP maybe the machine restarted",
    "start": "1853250",
    "end": "1860930"
  },
  {
    "text": "and was assigned a different IP if you if that's the case then you can actually",
    "start": "1860930",
    "end": "1868280"
  },
  {
    "text": "call up - to the members API and adjust that so",
    "start": "1868280",
    "end": "1873980"
  },
  {
    "text": "that's not something that's not an operation in EDM supports natively but you can use SD cuddle to to do that and",
    "start": "1873980",
    "end": "1881470"
  },
  {
    "text": "then if the IP hasn't changed maybe you've run out of disk space so you can",
    "start": "1881470",
    "end": "1887120"
  },
  {
    "text": "also check that maybe it's something else and in that case you know there are some",
    "start": "1887120",
    "end": "1892970"
  },
  {
    "text": "there are different resources one of them is a great talk that was given that kook on Seattle at the end of last year",
    "start": "1892970",
    "end": "1902120"
  },
  {
    "text": "on debugging a CD so I left the link there in the slides for that and that's",
    "start": "1902120",
    "end": "1908150"
  },
  {
    "text": "a good place to turn now if the data is not on disk or the member is not",
    "start": "1908150",
    "end": "1915710"
  },
  {
    "text": "reachable over the network or maybe you just don't have time to investigate",
    "start": "1915710",
    "end": "1925809"
  },
  {
    "text": "what's happening and you just want to you know replace it so then you can",
    "start": "1925809",
    "end": "1932270"
  },
  {
    "text": "identify that that fails member by identify I mean youyou should know what",
    "start": "1932270",
    "end": "1938860"
  },
  {
    "text": "the you know what the network identity of that member is but what you'll need to know is this you know what you'll",
    "start": "1938860",
    "end": "1947270"
  },
  {
    "text": "need to know is this this identification or member ID that's on the left-hand",
    "start": "1947270",
    "end": "1954380"
  },
  {
    "text": "side here and you can you can find that in the member list and once you have",
    "start": "1954380",
    "end": "1961490"
  },
  {
    "text": "that you can remove the member using a CD cuddle and of course after that you",
    "start": "1961490",
    "end": "1968630"
  },
  {
    "text": "can add its replacement by by doing an STD ATM joy so the sort of the most you",
    "start": "1968630",
    "end": "1980539"
  },
  {
    "start": "1976000",
    "end": "2482000"
  },
  {
    "text": "know the most frightening and the most interesting scenario is unplanned majority failure and I want to",
    "start": "1980539",
    "end": "1987110"
  },
  {
    "text": "demonstrate how how we can recover from that by using a TDM so this is a case",
    "start": "1987110",
    "end": "1994909"
  },
  {
    "text": "where we have lost all the members in the in the cluster and we",
    "start": "1994909",
    "end": "2002279"
  },
  {
    "text": "we want to be able to get the cluster up",
    "start": "2002279",
    "end": "2007529"
  },
  {
    "text": "and running and we have let's say a backed-up snapshot or potentially we",
    "start": "2007529",
    "end": "2014639"
  },
  {
    "text": "maybe you were able to salvage you know the hard disk maybe we lost the the machines but we were able to salvage a",
    "start": "2014639",
    "end": "2020969"
  },
  {
    "text": "hard disk if we didn't have a backup and as long as we have you know on this data we can take a snapshot of that hmm so",
    "start": "2020969",
    "end": "2032629"
  },
  {
    "text": "let's let's simulate this this failure so we've got we've got this three member",
    "start": "2032629",
    "end": "2041460"
  },
  {
    "text": "cluster and now let me just let's see",
    "start": "2041460",
    "end": "2048388"
  },
  {
    "text": "I'm going to stop yeah I'm gonna stop at CD oops",
    "start": "2048389",
    "end": "2054138"
  },
  {
    "text": "system system cuddle join them and stop it see I'm gonna stop that it's a nice service here I'm going to stop the itsy",
    "start": "2054139",
    "end": "2061770"
  },
  {
    "text": "service here and also on this post okay so now we don't have any of those",
    "start": "2061770",
    "end": "2068940"
  },
  {
    "text": "members up but what we do have is the",
    "start": "2068940",
    "end": "2075148"
  },
  {
    "text": "ability to take a snapshot of let's say",
    "start": "2075149",
    "end": "2080878"
  },
  {
    "text": "that either either we had a backup or maybe I was able to ask the hard disk of this member so let me go ahead and take",
    "start": "2080879",
    "end": "2090720"
  },
  {
    "text": "a snapshot of the on disk data so I CD",
    "start": "2090720",
    "end": "2095730"
  },
  {
    "text": "is not running I can just demonstrate that CD is not running here but we we do",
    "start": "2095730",
    "end": "2102450"
  },
  {
    "text": "have the we do have the data and so we'll take a snapshot so take a snapshot",
    "start": "2102450",
    "end": "2112170"
  },
  {
    "text": "and then we'll save it um sorry I think",
    "start": "2112170",
    "end": "2123349"
  },
  {
    "text": "looking for the looking for the API okay so I'll need to need to just use the",
    "start": "2125240",
    "end": "2136109"
  },
  {
    "text": "snapshot I took earlier sorry about that so I have I have the snapshot that I",
    "start": "2136109",
    "end": "2142920"
  },
  {
    "text": "took earlier and I will use this to -",
    "start": "2142920",
    "end": "2149700"
  },
  {
    "text": "first of all copy this over so I'll copy over the snapshot to a different host",
    "start": "2149700",
    "end": "2157880"
  },
  {
    "text": "and I will I will start a brand new",
    "start": "2157880",
    "end": "2163739"
  },
  {
    "text": "cluster using that snapshot there so first of all let me clean up I'll do an",
    "start": "2163739",
    "end": "2170549"
  },
  {
    "text": "STD ATM reset and I'll skip cleaning up",
    "start": "2170549",
    "end": "2176489"
  },
  {
    "text": "the the member from the API because the clusters is gone there's there's no way to call the API so let me okay so i've",
    "start": "2176489",
    "end": "2186180"
  },
  {
    "text": "cleaned all that up and now i should be able to at CD ATM in it and then point",
    "start": "2186180",
    "end": "2194009"
  },
  {
    "text": "it to a snapshot and what's going on",
    "start": "2194009",
    "end": "2199319"
  },
  {
    "text": "behind the scenes as you can see here is that SED EDM is grabbing that snapshot",
    "start": "2199319",
    "end": "2208739"
  },
  {
    "text": "from the disk and then feeding the new itd cluster with it",
    "start": "2208739",
    "end": "2213980"
  },
  {
    "text": "so once once this is done now I have I",
    "start": "2213980",
    "end": "2220140"
  },
  {
    "text": "have the previous clusters data but I've started a completely new TD cluster and",
    "start": "2220140",
    "end": "2227539"
  },
  {
    "text": "now I'll need to copy over those certificates because I want to now join",
    "start": "2227539",
    "end": "2234089"
  },
  {
    "text": "those other hosts to this to this new cluster so first of all I mean just",
    "start": "2234089",
    "end": "2239099"
  },
  {
    "text": "clean up here as well and this is just",
    "start": "2239099",
    "end": "2248430"
  },
  {
    "text": "cleaning up everything locally and not trying to call up to the HCV API to",
    "start": "2248430",
    "end": "2254239"
  },
  {
    "text": "change change the membership or remove the member okay so now I've got everything cleaned up on those other",
    "start": "2256130",
    "end": "2261989"
  },
  {
    "text": "hosts let me copy over the certificates",
    "start": "2261989",
    "end": "2266509"
  },
  {
    "text": "and now I should be able to just join",
    "start": "2269400",
    "end": "2277819"
  },
  {
    "text": "okay so now I'm joining and I'm recovering I'm creating a I'm recovering",
    "start": "2284630",
    "end": "2291180"
  },
  {
    "text": "from this complete cluster outage by creating a single member and seating it",
    "start": "2291180",
    "end": "2299460"
  },
  {
    "text": "with a snapshot so I have Cypress sir I preserve the data from from the cluster",
    "start": "2299460",
    "end": "2305940"
  },
  {
    "text": "that that failed and now I'm scaling it",
    "start": "2305940",
    "end": "2311810"
  },
  {
    "text": "scaling this new cluster up",
    "start": "2311810",
    "end": "2315620"
  },
  {
    "text": "ah okay looks like maybe I did not copy",
    "start": "2324730",
    "end": "2330190"
  },
  {
    "text": "over the search or I did not I did not",
    "start": "2330190",
    "end": "2337619"
  },
  {
    "text": "reset correctly so let's let's try",
    "start": "2337619",
    "end": "2342820"
  },
  {
    "text": "running a reset again and let's see what",
    "start": "2342820",
    "end": "2350380"
  },
  {
    "text": "is the status of my huh that's",
    "start": "2350380",
    "end": "2359530"
  },
  {
    "text": "interesting that that last node was unable to was unable to connect so let's",
    "start": "2359530",
    "end": "2366550"
  },
  {
    "text": "try this again after I make sure that I have the search copy over okay so let's let's check that",
    "start": "2366550",
    "end": "2376390"
  },
  {
    "text": "those search are there the search are there and let's try to do a join okay",
    "start": "2376390",
    "end": "2390640"
  },
  {
    "text": "well I seem to hit an issue so yeah the",
    "start": "2390640",
    "end": "2399579"
  },
  {
    "text": "demo gods I don't think I'm out of space but clearly something as something is",
    "start": "2399579",
    "end": "2407859"
  },
  {
    "text": "wrong a TV service huh okay",
    "start": "2407859",
    "end": "2415300"
  },
  {
    "text": "I looks like there might be an issue an",
    "start": "2415300",
    "end": "2421599"
  },
  {
    "text": "entity itself so I I do need to you know",
    "start": "2421599",
    "end": "2426970"
  },
  {
    "text": "take a look at that but right now you",
    "start": "2426970",
    "end": "2431980"
  },
  {
    "text": "know we have a two-member cluster but yeah we failed to add we fail to add the third but I'll look into that I hadn't I",
    "start": "2431980",
    "end": "2440230"
  },
  {
    "text": "hadn't had any issues and I was preparing so I just want to you know",
    "start": "2440230",
    "end": "2446940"
  },
  {
    "text": "describe what's going on behind the scenes so yeah the SDK DM will generate",
    "start": "2446940",
    "end": "2455050"
  },
  {
    "text": "the the CA in server client certificates and then it'll initialize the data Directorate",
    "start": "2455050",
    "end": "2462190"
  },
  {
    "text": "from the snapshot that we passed it then write the configuration and then create",
    "start": "2462190",
    "end": "2467410"
  },
  {
    "text": "and start the system be serviced and yeah that's the that's how you seed the",
    "start": "2467410",
    "end": "2473740"
  },
  {
    "text": "the new cluster and then yeah then scale",
    "start": "2473740",
    "end": "2478840"
  },
  {
    "text": "up so that is those are those that's",
    "start": "2478840",
    "end": "2485800"
  },
  {
    "start": "2482000",
    "end": "2662000"
  },
  {
    "text": "what I wanted to demonstrate and then I wanted to you know quickly mention sort",
    "start": "2485800",
    "end": "2491500"
  },
  {
    "text": "of what's on the roadmap in 2019 for ICD ADM we're definitely considering",
    "start": "2491500",
    "end": "2500280"
  },
  {
    "text": "implementing some kind of automation that invokes the sed ADM CLI right I",
    "start": "2500280",
    "end": "2506140"
  },
  {
    "text": "think it's very important to to keep those separate so that you can always have a manual recovery process that you",
    "start": "2506140",
    "end": "2514210"
  },
  {
    "text": "can for which sed ADM will be the tooling but if you have you know the it",
    "start": "2514210",
    "end": "2522070"
  },
  {
    "text": "sometimes makes sense if you have the right external API is that you have the right dependencies in place and the",
    "start": "2522070",
    "end": "2528760"
  },
  {
    "text": "ability to you know rely on some external mechanism to make your you know",
    "start": "2528760",
    "end": "2534790"
  },
  {
    "text": "your automation highly available which is the case you know and often in public",
    "start": "2534790",
    "end": "2541180"
  },
  {
    "text": "clouds right where if there is you know problem with the underlying system that",
    "start": "2541180",
    "end": "2548530"
  },
  {
    "text": "is ensuring your recovery services highly available you know someone at a",
    "start": "2548530",
    "end": "2553900"
  },
  {
    "text": "different company will be paged at 3:00 in the morning but nevertheless if you",
    "start": "2553900",
    "end": "2559210"
  },
  {
    "text": "know there's if there's an issue that that brings your this autumn you know",
    "start": "2559210",
    "end": "2565090"
  },
  {
    "text": "automated recovery service or automated configuration service for your cluster down you always want to have a manual",
    "start": "2565090",
    "end": "2572200"
  },
  {
    "text": "recovery process and the tooling can make that process straightforward also",
    "start": "2572200",
    "end": "2578800"
  },
  {
    "text": "we're thinking about implementing periodic backups so this is also",
    "start": "2578800",
    "end": "2584890"
  },
  {
    "text": "something that would you know integrate with potentially different network storage or",
    "start": "2584890",
    "end": "2590170"
  },
  {
    "text": "potentially different public cloud api's to make it simpler",
    "start": "2590170",
    "end": "2595870"
  },
  {
    "text": "for for anyone that's that's you know running at the cluster to have had",
    "start": "2595870",
    "end": "2602290"
  },
  {
    "text": "backups periodically and then we want to improve the upgrade support so today",
    "start": "2602290",
    "end": "2609600"
  },
  {
    "text": "upgrade is you know simply you specify a new version of a TDM and you can run a",
    "start": "2609600",
    "end": "2620020"
  },
  {
    "text": "TDM join and specify that newer version and the join command is idempotent and",
    "start": "2620020",
    "end": "2626800"
  },
  {
    "text": "so it you'll you'll end up just installing the new version and restarting the system d service but it",
    "start": "2626800",
    "end": "2634360"
  },
  {
    "text": "would be helpful to have a an explicit upgrade command much like qu BDM does",
    "start": "2634360",
    "end": "2640300"
  },
  {
    "text": "and yeah finally you know please if there's some feature that that you would",
    "start": "2640300",
    "end": "2646900"
  },
  {
    "text": "like to see in its an ADM file an issue on github and you can always find us on",
    "start": "2646900",
    "end": "2655390"
  },
  {
    "text": "the SME ADM channel in kubernetes slack cool thank you so much Daniel we have",
    "start": "2655390",
    "end": "2663820"
  },
  {
    "start": "2662000",
    "end": "2889000"
  },
  {
    "text": "several questions from the audience let's start with Kenneth the angle and",
    "start": "2663820",
    "end": "2669220"
  },
  {
    "text": "ask if you're using manage kubernetes services like eks does EDD still need to",
    "start": "2669220",
    "end": "2675250"
  },
  {
    "text": "be considered in the cluster or does AWS completely take care of it if you're using a managed service",
    "start": "2675250",
    "end": "2683850"
  },
  {
    "text": "typically the control plane including NCD is completely taken care of for you",
    "start": "2683850",
    "end": "2690090"
  },
  {
    "text": "so no you don't need to use a TDM in that case ok cool and to kind of build",
    "start": "2690090",
    "end": "2698170"
  },
  {
    "text": "on that a little bit Paul Bert of Koro s fame asked us which platform nine",
    "start": "2698170",
    "end": "2704140"
  },
  {
    "text": "customers are more most insistent about being AJ with that CD which customers",
    "start": "2704140",
    "end": "2711760"
  },
  {
    "text": "are most insistent on tha I guess I guess the what what I'm wondering is or",
    "start": "2711760",
    "end": "2718690"
  },
  {
    "text": "not what I'm wondering but but when customers think about I think HJ for SED",
    "start": "2718690",
    "end": "2724330"
  },
  {
    "text": "they're just thinking about the the potential you",
    "start": "2724330",
    "end": "2730269"
  },
  {
    "text": "know time to to recover from a control plane from an API outage so with hae TV",
    "start": "2730269",
    "end": "2739979"
  },
  {
    "text": "you know and it and or multiple control plane replicas and then multiple STD",
    "start": "2739979",
    "end": "2745479"
  },
  {
    "text": "members typically you can tolerate you know one or potentially you know two or",
    "start": "2745479",
    "end": "2751660"
  },
  {
    "text": "three depending on your CD cluster size you can tolerate failures which can be",
    "start": "2751660",
    "end": "2758019"
  },
  {
    "text": "you know especially important on premises you know where the time to to",
    "start": "2758019",
    "end": "2765069"
  },
  {
    "text": "bring up a replacement is is not as as fast as as in a you know is in a cloud",
    "start": "2765069",
    "end": "2772089"
  },
  {
    "text": "environment and you know clearly if you if you are if you're running a CD for",
    "start": "2772089",
    "end": "2782529"
  },
  {
    "text": "example in if you're running your control plane in a kubernetes cluster itself and you're running at CD and a",
    "start": "2782529",
    "end": "2790630"
  },
  {
    "text": "kubernetes cluster and there's there's a great way to do that right the operator it's great if you have a kubernetes",
    "start": "2790630",
    "end": "2797109"
  },
  {
    "text": "cluster already there if you're using that you may just opt to have a single",
    "start": "2797109",
    "end": "2804119"
  },
  {
    "text": "CD member and rely on you know being able to quickly reschedule the pot but",
    "start": "2804119",
    "end": "2811809"
  },
  {
    "text": "in you know an on-premises environment or where you're really concerned about",
    "start": "2811809",
    "end": "2819029"
  },
  {
    "text": "you know API downtime that's that's when you start looking at the ability to",
    "start": "2819029",
    "end": "2825640"
  },
  {
    "text": "tolerate failure okay coax well Paul didn't hopeful bank",
    "start": "2825640",
    "end": "2833109"
  },
  {
    "text": "nature your ear here kind of expectations of anything feel free to ask questions or again using the Q&A",
    "start": "2833109",
    "end": "2842369"
  },
  {
    "text": "garage Kumar asked please share how you fix the issue not being able to add the",
    "start": "2842369",
    "end": "2850029"
  },
  {
    "text": "third member after the majority failure that's the first thing I'm going to do",
    "start": "2850029",
    "end": "2856660"
  },
  {
    "text": "and yeah that's like I said the dead the demo gods yeah",
    "start": "2856660",
    "end": "2863050"
  },
  {
    "text": "we've all been there man yeah I guess but yeah III would like to I'd like to",
    "start": "2863050",
    "end": "2869750"
  },
  {
    "text": "follow their by if I find an issue I mean I will you know immediately file an",
    "start": "2869750",
    "end": "2875720"
  },
  {
    "text": "issue on the STD ATM repo I don't know if there's if there's a good way to sort",
    "start": "2875720",
    "end": "2881660"
  },
  {
    "text": "of follow up with audience here but yeah if I can I definitely like to do that",
    "start": "2881660",
    "end": "2887890"
  },
  {
    "text": "yeah let's I'm sure Taylor can help out if now I Gaurav maybe reach out on at city admin",
    "start": "2887890",
    "end": "2896050"
  },
  {
    "start": "2889000",
    "end": "2964000"
  },
  {
    "text": "in kubernetes slack and and and and I'm sure that anyone can provide an answer",
    "start": "2896050",
    "end": "2901430"
  },
  {
    "text": "there for you alright if there's no EDD member connected to the cluster then",
    "start": "2901430",
    "end": "2908450"
  },
  {
    "text": "taking a snapshot is not possible so that's a it's more of a statement rather",
    "start": "2908450",
    "end": "2915110"
  },
  {
    "text": "than a question but I think you get the I think you get to the heart of it which is you did a snapshot can you gain can",
    "start": "2915110",
    "end": "2922190"
  },
  {
    "text": "you can you explain how that occurred",
    "start": "2922190",
    "end": "2927850"
  },
  {
    "text": "yeah so what would I what I need to do is the take I think I can take the the",
    "start": "2927850",
    "end": "2940430"
  },
  {
    "text": "the data directory directly yeah rather than a snapshot but I I think in that",
    "start": "2940430",
    "end": "2947330"
  },
  {
    "text": "case yeah I would have all right I should have had one member running and",
    "start": "2947330",
    "end": "2955190"
  },
  {
    "text": "then taking the snapshot and and then brought all the brought that last number",
    "start": "2955190",
    "end": "2961210"
  },
  {
    "text": "down okay and let's let's continue down that thread a little bit more David all",
    "start": "2961210",
    "end": "2969260"
  },
  {
    "start": "2964000",
    "end": "3067000"
  },
  {
    "text": "the marker hopefully I said that correctly can I copy that CD data from disk directly without using at CD cuddle",
    "start": "2969260",
    "end": "2978440"
  },
  {
    "text": "Sh snapshot save the use case being I had to pull the disk out of the server",
    "start": "2978440",
    "end": "2983810"
  },
  {
    "text": "to access the data furthermore could I put the disk in a new server and use the",
    "start": "2983810",
    "end": "2990230"
  },
  {
    "text": "link so that EDD could the data so mmm",
    "start": "2990230",
    "end": "2997070"
  },
  {
    "text": "taking taking the day directory and you can start at CD with that same data on a",
    "start": "2997070",
    "end": "3007359"
  },
  {
    "text": "different machine but it won't be able to join a cluster unless unless that",
    "start": "3007359",
    "end": "3019090"
  },
  {
    "text": "cluster is is the its members list is",
    "start": "3019090",
    "end": "3025720"
  },
  {
    "text": "updated to to the new network identity so the network identity changes you you",
    "start": "3025720",
    "end": "3033490"
  },
  {
    "text": "won't be able to to just take that data directory and copy it over you also need",
    "start": "3033490",
    "end": "3040720"
  },
  {
    "text": "to make an STD API call to update the peer URLs and client URLs and if you do",
    "start": "3040720",
    "end": "3047140"
  },
  {
    "text": "that and you configure sed correctly or rather you can just copy over with the",
    "start": "3047140",
    "end": "3053260"
  },
  {
    "text": "configuration and started to be on that new machine then then that should work",
    "start": "3053260",
    "end": "3059260"
  },
  {
    "text": "that's the migration process in fact there's a link to that in the slides",
    "start": "3059260",
    "end": "3066150"
  },
  {
    "text": "awesome and again as a reminder the slides will be made available in an email that will be sent out to you post",
    "start": "3066150",
    "end": "3073660"
  },
  {
    "start": "3067000",
    "end": "3209000"
  },
  {
    "text": "event surge dubrovsky is it possible to provide already generated certs from in",
    "start": "3073660",
    "end": "3082060"
  },
  {
    "text": "it yeah that's a great question so I",
    "start": "3082060",
    "end": "3088630"
  },
  {
    "text": "think I think the question is sort of you know will at CDM support an external",
    "start": "3088630",
    "end": "3094780"
  },
  {
    "text": "CA right where you don't want to have the CA cert and key on each of these",
    "start": "3094780",
    "end": "3100480"
  },
  {
    "text": "members yes it is it is possible it's",
    "start": "3100480",
    "end": "3107260"
  },
  {
    "text": "not something that you know that's been what's it hasn't been thoroughly tested",
    "start": "3107260",
    "end": "3114910"
  },
  {
    "text": "but that that is actually that would be a great a great feature to have you know",
    "start": "3114910",
    "end": "3121780"
  },
  {
    "text": "for anyone that's using a CDA DM as part of like larger automation system where you know",
    "start": "3121780",
    "end": "3128839"
  },
  {
    "text": "you're providing the search externally",
    "start": "3128839",
    "end": "3134510"
  },
  {
    "text": "or you're signing them externally uh something that I think seda DM will end up doing is what kuba diem has done and",
    "start": "3134510",
    "end": "3143390"
  },
  {
    "text": "that is generate CSR so certificate signing request right into the disk and",
    "start": "3143390",
    "end": "3148819"
  },
  {
    "text": "then allow those signing requests to be to be signed you know on a different",
    "start": "3148819",
    "end": "3156170"
  },
  {
    "text": "machine somewhere externally and that would be a nice option because then you you can delegate all of the sort of all",
    "start": "3156170",
    "end": "3163790"
  },
  {
    "text": "the details of you know what the search need to look like what they need to have in their common names and the subject",
    "start": "3163790",
    "end": "3168890"
  },
  {
    "text": "called names to a CDM and then you can just you know rely on your external",
    "start": "3168890",
    "end": "3173960"
  },
  {
    "text": "states to sign them if you don't want to do that I you you should be able to just",
    "start": "3173960",
    "end": "3179359"
  },
  {
    "text": "provide these signed search yourself but then it will be it will be your",
    "start": "3179359",
    "end": "3185750"
  },
  {
    "text": "responsibility to to ensure that you know all of the all the details of the certs are correct",
    "start": "3185750",
    "end": "3192589"
  },
  {
    "text": "of course SEM can can validate those search before starting but yeah you'll",
    "start": "3192589",
    "end": "3200210"
  },
  {
    "text": "have you'll have to make sure that that you're doing it correctly you're generating the CSRs correctly",
    "start": "3200210",
    "end": "3206869"
  },
  {
    "text": "initially all right cool we got a couple more minutes and a couple more questions",
    "start": "3206869",
    "end": "3212349"
  },
  {
    "start": "3209000",
    "end": "3274000"
  },
  {
    "text": "here shoot super Ajit ghost asked here",
    "start": "3212349",
    "end": "3217640"
  },
  {
    "text": "at CDC me running natively what did I want to run EDD in a containerized environment as that CD admin has",
    "start": "3217640",
    "end": "3224780"
  },
  {
    "text": "capability for the same that's a great question today sed ADM only runs sed as a system",
    "start": "3224780",
    "end": "3233809"
  },
  {
    "text": "V service running system V in a container not not not really a great",
    "start": "3233809",
    "end": "3240170"
  },
  {
    "text": "option but there's really nothing stopping its medium from supporting you",
    "start": "3240170",
    "end": "3246859"
  },
  {
    "text": "know running to be in in a container the the reason that today supports you know",
    "start": "3246859",
    "end": "3253790"
  },
  {
    "text": "systemd service is because we wanted to decouple sed",
    "start": "3253790",
    "end": "3258800"
  },
  {
    "text": "the lifecycle from the lifecycle of you know container runtime or kubernetes",
    "start": "3258800",
    "end": "3265460"
  },
  {
    "text": "itself but that's that's definitely something that we want to support in the",
    "start": "3265460",
    "end": "3270860"
  },
  {
    "text": "future cool awesome so a little a little",
    "start": "3270860",
    "end": "3277040"
  },
  {
    "start": "3274000",
    "end": "3347000"
  },
  {
    "text": "comparison here tube square ask why should I embrace at CD atm what I have",
    "start": "3277040",
    "end": "3282890"
  },
  {
    "text": "core OS EDD operator uh if you can use",
    "start": "3282890",
    "end": "3288050"
  },
  {
    "text": "at sea operator then you should definitely use it now if you are using",
    "start": "3288050",
    "end": "3294260"
  },
  {
    "text": "sed operator and you're doing that without having a kubernetes cluster",
    "start": "3294260",
    "end": "3300670"
  },
  {
    "text": "which itself has a net CD please tell me how you've done that because I would",
    "start": "3300670",
    "end": "3307580"
  },
  {
    "text": "like to do the same so yeah I see the operator is is meant to operate STV in",
    "start": "3307580",
    "end": "3320300"
  },
  {
    "text": "pods in a kubernetes cluster but it doesn't operate the TV that is actually",
    "start": "3320300",
    "end": "3328430"
  },
  {
    "text": "being used by that cluster so for that",
    "start": "3328430",
    "end": "3333950"
  },
  {
    "text": "cluster you could use STD ADM and then for anything else if you need a TD it",
    "start": "3333950",
    "end": "3339110"
  },
  {
    "text": "run it in pods on that cluster and I think that that composes quite well cool",
    "start": "3339110",
    "end": "3345980"
  },
  {
    "text": "uh thomasville Asik as can you use at CD ADM on n TD clusters that were not built",
    "start": "3345980",
    "end": "3353300"
  },
  {
    "start": "3347000",
    "end": "3418000"
  },
  {
    "text": "by at CDN yep um that's a good question",
    "start": "3353300",
    "end": "3359570"
  },
  {
    "text": "that's not something that that we've tested I think you know nothing is",
    "start": "3359570",
    "end": "3367610"
  },
  {
    "text": "impossible but if you know there's an option to to do a if there's an option",
    "start": "3367610",
    "end": "3380270"
  },
  {
    "text": "to you know just copy over the data directory I think that that might work",
    "start": "3380270",
    "end": "3390070"
  },
  {
    "text": "you could also take a snap shot that might work as well yeah there",
    "start": "3390070",
    "end": "3397520"
  },
  {
    "text": "there the devil is going to be in the details as far as you know making sure that that the configuration is is",
    "start": "3397520",
    "end": "3404270"
  },
  {
    "text": "correct so it's not not something that the seda DM does today doesn't adopt",
    "start": "3404270",
    "end": "3410170"
  },
  {
    "text": "clusters but that potentially is something that it could do in the future",
    "start": "3410170",
    "end": "3417790"
  },
  {
    "text": "okay cool and we have where at the top of the hour we have time for one more",
    "start": "3417790",
    "end": "3423020"
  },
  {
    "start": "3418000",
    "end": "3600000"
  },
  {
    "text": "question and then again I'd recommend everybody jump over to at cdat and when",
    "start": "3423020",
    "end": "3429170"
  },
  {
    "text": "you burn any slack or go to the github repo and maybe issue a question via nish",
    "start": "3429170",
    "end": "3436670"
  },
  {
    "text": "- but Marek Bartok asked great demo",
    "start": "3436670",
    "end": "3443480"
  },
  {
    "text": "thanks for disaster recovery would you recommend backup slash snapshot plus",
    "start": "3443480",
    "end": "3449120"
  },
  {
    "text": "restore of EDD or dumping K eights kubernetes resources with tools like",
    "start": "3449120",
    "end": "3455570"
  },
  {
    "text": "hefty oh the I guess Valero I did not know Ark had been rebranded that's a",
    "start": "3455570",
    "end": "3465650"
  },
  {
    "text": "great question if there are I think it depends if you so you know we're",
    "start": "3465650",
    "end": "3474050"
  },
  {
    "text": "recovering so that we can get kubernetes cluster running again if the disaster",
    "start": "3474050",
    "end": "3481820"
  },
  {
    "text": "that that has you know hit your cluster if it hasn't affected your your control",
    "start": "3481820",
    "end": "3488750"
  },
  {
    "text": "plane that is your your stateless components that they're still you know",
    "start": "3488750",
    "end": "3493760"
  },
  {
    "text": "if they're still running and maybe they have the same network identity and then",
    "start": "3493760",
    "end": "3499040"
  },
  {
    "text": "your worker nodes also are still running and they have the same network identity then all of those no records are going",
    "start": "3499040",
    "end": "3507980"
  },
  {
    "text": "to be in the SE state and if you recover the cluster and your you know your API",
    "start": "3507980",
    "end": "3514310"
  },
  {
    "text": "servers that are still running reconnect after the cluster then everything will you know as far as as far as those no",
    "start": "3514310",
    "end": "3520940"
  },
  {
    "text": "records they will then be the cubelets will be able to to just",
    "start": "3520940",
    "end": "3527460"
  },
  {
    "text": "reconnect and continue on if you use Valero I I don't think it will preserve",
    "start": "3527460",
    "end": "3536030"
  },
  {
    "text": "these are the identity of the cluster it will you know preserve some of the configuration of your applications and",
    "start": "3536030",
    "end": "3544819"
  },
  {
    "text": "that III don't know exactly how it would compare in terms of recovery time but",
    "start": "3544819",
    "end": "3552180"
  },
  {
    "text": "certainly it's you know if you if you're able to recover it at CD and the rest of your nodes are still you know still",
    "start": "3552180",
    "end": "3560640"
  },
  {
    "text": "running and still have the same network identity I've seen you know recovery be",
    "start": "3560640",
    "end": "3565770"
  },
  {
    "text": "relatively relatively seamless as you know as far as all those other nodes are",
    "start": "3565770",
    "end": "3571500"
  },
  {
    "text": "concerned all right",
    "start": "3571500",
    "end": "3577290"
  },
  {
    "text": "well Daniel thank you so much for your time and expertise today it's greatly appreciated to everyone in attendance",
    "start": "3577290",
    "end": "3585000"
  },
  {
    "text": "thank you for spending your afternoon if you're on the East Coast with us and",
    "start": "3585000",
    "end": "3590819"
  },
  {
    "text": "again look out for an email with a link to the deck and the recording coming",
    "start": "3590819",
    "end": "3596339"
  },
  {
    "text": "soon thank you and hope to see you next time all right thanks very much okay",
    "start": "3596339",
    "end": "3603260"
  }
]