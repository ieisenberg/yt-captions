[
  {
    "text": "hey everyone uh thanks for attending our talk um I'm Leo Lieberman i'm engineer",
    "start": "160",
    "end": "5680"
  },
  {
    "text": "lead at Google and I'm Igor Velichkovich i'm a engineer at a stealth startup",
    "start": "5680",
    "end": "11200"
  },
  {
    "text": "focused on AI infrastructure yeah and today we're going to talk about encryption identities everything in",
    "start": "11200",
    "end": "16640"
  },
  {
    "text": "between kind of some you know some tips on building secure Kubernetes networks and some of the hopes we're hoping to",
    "start": "16640",
    "end": "23359"
  },
  {
    "text": "get out of this presentation and out of standardization efforts in this aspect but I'm gonna hand it off to Eager to",
    "start": "23359",
    "end": "29679"
  },
  {
    "text": "kind of walk us through and you know get us into the domain yeah so let's start with a",
    "start": "29679",
    "end": "35320"
  },
  {
    "text": "story um so suppose you have this environment you have some ingress coming into your cluster and a proxy pod um and",
    "start": "35320",
    "end": "43520"
  },
  {
    "text": "you have a rate limit config pretty common setup right um but now you have some issue",
    "start": "43520",
    "end": "49600"
  },
  {
    "text": "with your rate limiter it's not rate limiting what it should and it's overrate limiting other things so you",
    "start": "49600",
    "end": "56239"
  },
  {
    "text": "need to go and troubleshoot that so you add a debug path and a debug",
    "start": "56239",
    "end": "62719"
  },
  {
    "text": "pod because you remember that the rate limiter is based on headers so you add the debug pod to intercept some traffic",
    "start": "62719",
    "end": "69920"
  },
  {
    "text": "and um try to see what's going on that debug pod is meant to be temporarily lived and",
    "start": "69920",
    "end": "77600"
  },
  {
    "text": "you do figure out what's wrong and fix your rate limit um but because it was supposed to be temporarily lived um it",
    "start": "77600",
    "end": "85200"
  },
  {
    "text": "has broad unrestricted network access right you didn't mo bother to secure it",
    "start": "85200",
    "end": "91759"
  },
  {
    "text": "um so you can see in the graph that debug pod can access everything in your",
    "start": "91759",
    "end": "97240"
  },
  {
    "text": "cluster so that ingress was exposed on the public internet and you forgot to",
    "start": "97240",
    "end": "102799"
  },
  {
    "text": "clean it up so now suppose someone gets into that debug pod and they start accessing your user information payment",
    "start": "102799",
    "end": "109520"
  },
  {
    "text": "information transactions um and the attackers move all over your network because you don't have any",
    "start": "109520",
    "end": "115960"
  },
  {
    "text": "segmentation um after this you have reputation and compliance issues that",
    "start": "115960",
    "end": "121560"
  },
  {
    "text": "follow um that was a madeup story but this has happened many times in the past",
    "start": "121560",
    "end": "127200"
  },
  {
    "text": "so this is a good example um this led to chip and EMV cards in the US um they",
    "start": "127200",
    "end": "133920"
  },
  {
    "text": "weren't really very popular before that so had like a cultural impact um but",
    "start": "133920",
    "end": "139040"
  },
  {
    "text": "attackers got into Target and they were able to steal 70 million people's PII 40",
    "start": "139040",
    "end": "144480"
  },
  {
    "text": "million credit card numbers and they got in through a weak link in a contractor",
    "start": "144480",
    "end": "150000"
  },
  {
    "text": "through an HVAC contractor that was using free anti malware software that",
    "start": "150000",
    "end": "155040"
  },
  {
    "text": "was not robust enough um the weak link thing is going to be a pattern that",
    "start": "155040",
    "end": "160080"
  },
  {
    "text": "you'll see in the following examples where someone is able to get in through a weak link in your security and because",
    "start": "160080",
    "end": "167200"
  },
  {
    "text": "of a lack of network segmentation they're able to get to other more protected",
    "start": "167200",
    "end": "172440"
  },
  {
    "text": "resources so another example a lot of people probably remember is Equifax 148",
    "start": "172440",
    "end": "177599"
  },
  {
    "text": "million people's personal information was stolen including social security numbers and financial records um there",
    "start": "177599",
    "end": "185280"
  },
  {
    "text": "is a vulner vulnerability in Apache Struts that um is used for Java web",
    "start": "185280",
    "end": "191200"
  },
  {
    "text": "applications and again once attackers got in through that oneweek link due to no network segmentation",
    "start": "191200",
    "end": "198480"
  },
  {
    "text": "um they were able to move to more highly protected assets um this is an interesting one so",
    "start": "198480",
    "end": "205200"
  },
  {
    "text": "Starwood Hotels and Resorts Marriott there were several breaches um that were",
    "start": "205200",
    "end": "211120"
  },
  {
    "text": "long-term breaches but essentially hackers got in and then they moved across the network installing key",
    "start": "211120",
    "end": "217360"
  },
  {
    "text": "loggers Trojans all kinds of stuff um getting 339 million personal data",
    "start": "217360",
    "end": "222799"
  },
  {
    "text": "records um so what's interesting about this one though is that both Star is",
    "start": "222799",
    "end": "228239"
  },
  {
    "text": "that Marriott was purchasing Starwood um and Marriott knew Starwood disclosed",
    "start": "228239",
    "end": "233920"
  },
  {
    "text": "that they had a breach and Marriott knew about this so they tried to do their due diligence and they did a 10-month",
    "start": "233920",
    "end": "239439"
  },
  {
    "text": "security assessment well they missed an ongoing breach and due to poor network segmentation once they purchased it and",
    "start": "239439",
    "end": "246239"
  },
  {
    "text": "integrated it into their network that breach spread to Marriott so again it's it's either a weak link in your software",
    "start": "246239",
    "end": "252799"
  },
  {
    "text": "or even someone that you purchase something that you purchase and integrate and then that ends up you know",
    "start": "252799",
    "end": "259840"
  },
  {
    "text": "spreading across your network and getting into all kinds of stuff you don't want it to so what should have happened well",
    "start": "259840",
    "end": "266160"
  },
  {
    "text": "that's our topic today and how can you protect yourself from situations like this um the main thing to do is going to",
    "start": "266160",
    "end": "273680"
  },
  {
    "text": "be to secure your network so what does Kubernetes offer today there's network policy v1 um that's been a stable API",
    "start": "273680",
    "end": "281199"
  },
  {
    "text": "for a long time there's new admin network policy and baseline admin network policy um and there's also",
    "start": "281199",
    "end": "287440"
  },
  {
    "text": "arbback for you know securing network and access to your API and controlling in your",
    "start": "287440",
    "end": "292840"
  },
  {
    "text": "cluster so um we'll go through network policy first um so this allows app",
    "start": "292840",
    "end": "298800"
  },
  {
    "text": "owners to control ingress and egress from their apps um it boils down to IPs but it uses like",
    "start": "298800",
    "end": "306000"
  },
  {
    "text": "when it's implemented it boils down to IPs but you can put direct citers in there or you can put um it's really",
    "start": "306000",
    "end": "313600"
  },
  {
    "text": "common to just use namespace or label selectors um the key thing to note here",
    "start": "313600",
    "end": "319840"
  },
  {
    "text": "is it's a namespace scope policy um it's installed by default with Kubernetes the",
    "start": "319840",
    "end": "325120"
  },
  {
    "text": "CNI needs to implement it for it to work but it's been a stable API for over seven years um but the key thing here is",
    "start": "325120",
    "end": "332720"
  },
  {
    "text": "it's namespace scoped right so it's designed for developers namespace admins",
    "start": "332720",
    "end": "337840"
  },
  {
    "text": "app owners to control their traffic like maybe between a front-end pod and a",
    "start": "337840",
    "end": "342960"
  },
  {
    "text": "backend pod or the backend pod and the database within that you know application and those",
    "start": "342960",
    "end": "349639"
  },
  {
    "text": "microservices um so network policies have some gaps uh there's an implicit deny so",
    "start": "349639",
    "end": "357360"
  },
  {
    "text": "policies only specify what's allowed um and that's been a bit of a source of",
    "start": "357360",
    "end": "362520"
  },
  {
    "text": "confusion um there's no support for cluster admins so these are namespace scope policies right um and there's no",
    "start": "362520",
    "end": "370000"
  },
  {
    "text": "way for admins to kind of globally secure the cluster um policies this is a big one",
    "start": "370000",
    "end": "376160"
  },
  {
    "text": "policies are at the IP level not at identity so it's kind of implicitly using IPs as like identity for the",
    "start": "376160",
    "end": "382560"
  },
  {
    "text": "security of what the pod can and can't talk to um and it's using labels often",
    "start": "382560",
    "end": "388479"
  },
  {
    "text": "to derive those so now labels are a security boundary and um that that can",
    "start": "388479",
    "end": "395600"
  },
  {
    "text": "be a little funky and they're not necessarily a real identity uh Leor will talk a lot more about that later um",
    "start": "395600",
    "end": "402880"
  },
  {
    "text": "there's scalability issues with large clusters like imagine you have 20,000",
    "start": "402880",
    "end": "408080"
  },
  {
    "text": "pods and you have all kinds of different subsets of labels and groupings and those pods are churning and you're",
    "start": "408080",
    "end": "414560"
  },
  {
    "text": "constantly updating the IP rules on like all of your nodes um eventual consistency right um so like",
    "start": "414560",
    "end": "422639"
  },
  {
    "text": "when a new pod comes up everything needs to get synced um and there's limited support for north south traffic or",
    "start": "422639",
    "end": "429360"
  },
  {
    "text": "external to the cluster um there's work being done in this area but right now um",
    "start": "429360",
    "end": "435360"
  },
  {
    "text": "you can kind of specify a citer but it's not uh really well",
    "start": "435360",
    "end": "440680"
  },
  {
    "text": "supported so to try to address these gaps there's admin network policy um so",
    "start": "440680",
    "end": "446479"
  },
  {
    "text": "the main thing to notice here is that it's a cluster scope policy right um so",
    "start": "446479",
    "end": "451919"
  },
  {
    "text": "these are non-overridable and they allow an admin to control the rules globally for the cluster um so in this example",
    "start": "451919",
    "end": "459199"
  },
  {
    "text": "you can see that um it uses similar semantics right uh the label selectors",
    "start": "459199",
    "end": "465120"
  },
  {
    "text": "and in this example it's allowing your monitoring namespace to talk to all namespaces",
    "start": "465120",
    "end": "471120"
  },
  {
    "text": "um because you need to monitor things right um this also adds support for deny and",
    "start": "471120",
    "end": "477360"
  },
  {
    "text": "support for priority so you can go at a higher priority and say monitoring can talk to everything except for namespaces",
    "start": "477360",
    "end": "485199"
  },
  {
    "text": "labeled security restricted at a higher priority we're going to deny that um and finally you can also pass so",
    "start": "485199",
    "end": "493360"
  },
  {
    "text": "you can allow deny or pass and in this example even higher priority if the",
    "start": "493360",
    "end": "498479"
  },
  {
    "text": "namespace is labeled security internal we're going to pass it and what that means is it'll be up to the namespace",
    "start": "498479",
    "end": "504319"
  },
  {
    "text": "admin to use network policies to um control their traffic um this is an",
    "start": "504319",
    "end": "509680"
  },
  {
    "text": "outofree install installation so you got to actually install a CRD and it's a v1",
    "start": "509680",
    "end": "515760"
  },
  {
    "text": "alpha API um there's a lot of work going on to get it to beta um if you were just",
    "start": "515760",
    "end": "521919"
  },
  {
    "text": "in the SIG network talk they were they were discussing what they want to do to get it to beta um and it requires a",
    "start": "521919",
    "end": "527760"
  },
  {
    "text": "network plug-in implementation um baseline admin network policy this is",
    "start": "527760",
    "end": "533680"
  },
  {
    "text": "another one this is for that default deny it allows you to it's a global resource um named default um but it",
    "start": "533680",
    "end": "541600"
  },
  {
    "text": "allows you to define what happens if you don't have name like a network policy that applies to your traffic um they're",
    "start": "541600",
    "end": "549839"
  },
  {
    "text": "actually looking at combining these as they go to beta um but it exists now so",
    "start": "549839",
    "end": "557600"
  },
  {
    "text": "um so that helps with the implicit deny um and it helps with supporting cluster",
    "start": "557600",
    "end": "562920"
  },
  {
    "text": "admins but we haven't really handled identity scalability um north south",
    "start": "562920",
    "end": "568720"
  },
  {
    "text": "traffic and we've added a new gap uh there's increased complexity because now",
    "start": "568720",
    "end": "574000"
  },
  {
    "text": "you have layers of admin network policy network policy um and you have all these different",
    "start": "574000",
    "end": "582080"
  },
  {
    "text": "resources so trying to figure out what's going on and what's applying to your traffic can be complicated um there's a",
    "start": "582080",
    "end": "588000"
  },
  {
    "text": "lot of tools that you can use that SIG network's been working on that can kind of help you map this and test this and",
    "start": "588000",
    "end": "594160"
  },
  {
    "text": "see what's going on um but it does add",
    "start": "594160",
    "end": "598399"
  },
  {
    "text": "complexity nice and yeah and just you know before even moving to the gap shout",
    "start": "599640",
    "end": "605040"
  },
  {
    "text": "out to some of the folks here you know like as we seen seeing our updates there's tools like policy assist for",
    "start": "605040",
    "end": "610959"
  },
  {
    "text": "anyone that use admin or policies tools like policy assistant that you know can do variety of things that can help with",
    "start": "610959",
    "end": "616880"
  },
  {
    "text": "that but it's still more complex so how do we go about addressing these gaps right so first I want to quote John",
    "start": "616880",
    "end": "623200"
  },
  {
    "text": "Howard John is a is maintainer and he's been doing a lot of work in this area and John compares this problem to um you",
    "start": "623200",
    "end": "630959"
  },
  {
    "text": "know security officer security checkpoint that check for employees and John is saying that the strengths of the",
    "start": "630959",
    "end": "636399"
  },
  {
    "text": "checkpoint vary substantially based on how we identify employees right whether it's a company t-shirt that means it's",
    "start": "636399",
    "end": "642640"
  },
  {
    "text": "our employee whether it's a fingerprint scan whether it's showing a badge all of these options would substantially um uh",
    "start": "642640",
    "end": "650320"
  },
  {
    "text": "would would yield a substantially different results right and the same thing applies to network policies and I",
    "start": "650320",
    "end": "655760"
  },
  {
    "text": "do encourage you reading this blog because it talks about a lot of different useful things but this is the",
    "start": "655760",
    "end": "661360"
  },
  {
    "text": "first thing we want right we want we want to ensure the identity um is something we rely on now another thing",
    "start": "661360",
    "end": "668800"
  },
  {
    "text": "is immutability of this identity right if the identity is the identity is fixed for the pod's lifetime uh there's no",
    "start": "668800",
    "end": "676160"
  },
  {
    "text": "risk for label changes because I'm sure I'm not sure like how how many of the people here know but labels can change",
    "start": "676160",
    "end": "683360"
  },
  {
    "text": "in runtime nodes um have access privileged like especially cubelet to to",
    "start": "683360",
    "end": "689600"
  },
  {
    "text": "changing labels and there has been some CVS and attacks around that um but also",
    "start": "689600",
    "end": "694640"
  },
  {
    "text": "if the pot's changing on on runtime uh it means that you know if we if we if we",
    "start": "694640",
    "end": "699839"
  },
  {
    "text": "tie the policy to to the pod labels um then how can we be sure that uh the",
    "start": "699839",
    "end": "705440"
  },
  {
    "text": "policy is not changing on runtime now uh with immutable identity there is a red just attacking surface right um if um if",
    "start": "705440",
    "end": "714240"
  },
  {
    "text": "a pod is compromised right um and um so if a pod is compromised and and",
    "start": "714240",
    "end": "721680"
  },
  {
    "text": "the IP address um is reassigned to a different pod right um",
    "start": "721680",
    "end": "728519"
  },
  {
    "text": "so sorry I forgot about that so there has been cases where pod came",
    "start": "728519",
    "end": "734800"
  },
  {
    "text": "up right and then it got an IP address and Then because we're using label selectors uh the IP address is what we",
    "start": "734800",
    "end": "741360"
  },
  {
    "text": "are uh denying or allowing the traffic right so but when a new pod comes up um",
    "start": "741360",
    "end": "746959"
  },
  {
    "text": "if we're caching this network policies it means that right now a new pod it should not have these right it can have",
    "start": "746959",
    "end": "752560"
  },
  {
    "text": "different labels but it has its IPs uh can basically get access that it shouldn't have so that's that's the",
    "start": "752560",
    "end": "757920"
  },
  {
    "text": "whole story but forgot to mention this here um additionally immutable uh",
    "start": "757920",
    "end": "763600"
  },
  {
    "text": "immutability ensures that a policies remains predictable for the life of another pod we talked about it identities identities like service",
    "start": "763600",
    "end": "770320"
  },
  {
    "text": "account as an example we're going to see in a minute um remains fixed nobody can change the service account of a pod on",
    "start": "770320",
    "end": "777760"
  },
  {
    "text": "runtime so it requires a restart and then uh gives us the policies to be predictable now can we tie the",
    "start": "777760",
    "end": "784320"
  },
  {
    "text": "Kubernetes primitives obviously we just enumerated some things we want out of the policy um and yes service account is",
    "start": "784320",
    "end": "791120"
  },
  {
    "text": "meant to be um an identity we're attaching arbuck we're attaching policies to it right um it clearly",
    "start": "791120",
    "end": "797120"
  },
  {
    "text": "satisfies the request we were saying uh it's also hard to manipulate right because uh service accounts um are also",
    "start": "797120",
    "end": "803839"
  },
  {
    "text": "tied to arbuck we're giving arbuk for example you know a pod usually cannot change its own service account so even",
    "start": "803839",
    "end": "809680"
  },
  {
    "text": "if a pod is compromised um and if it needs to escalate privileges meaning",
    "start": "809680",
    "end": "815839"
  },
  {
    "text": "changing a service account to a more uh privileged service account it will require a restart and by the time it",
    "start": "815839",
    "end": "821200"
  },
  {
    "text": "restarts it maybe the pot is not compromised anymore now before we go and",
    "start": "821200",
    "end": "826320"
  },
  {
    "text": "talk about more implementation of that right eager mentioned some of the problems being scalability um it's just",
    "start": "826320",
    "end": "832079"
  },
  {
    "text": "to illustrate that um so when we talk about label selectors right uh which again is not an identity um we these",
    "start": "832079",
    "end": "839760"
  },
  {
    "text": "label selectors produce subset of pods now when we talk about ingress and ingress rules um so it define these",
    "start": "839760",
    "end": "847199"
  },
  {
    "text": "access controls between these subsets now when things gets complicated is when",
    "start": "847199",
    "end": "852800"
  },
  {
    "text": "we querying for these subs sets it's pretty expensive for the data plane and control B to do because we may have",
    "start": "852800",
    "end": "858959"
  },
  {
    "text": "overlapping sub subsets we need to enforce an order of evaluation of the policies and quering for all the subsets",
    "start": "858959",
    "end": "865839"
  },
  {
    "text": "although you know Kubernetes API gives us a lot of the good machinery to do it it's very very expensive and it's very",
    "start": "865839",
    "end": "872079"
  },
  {
    "text": "hard to implement as well um now the questions we we're asking",
    "start": "872079",
    "end": "878160"
  },
  {
    "text": "ourselves can we instead transmit the entity as part of the networking packet right right now it's not there we have",
    "start": "878160",
    "end": "884480"
  },
  {
    "text": "IPs um but if we are able to stream the entity as part of the networking packet then we can save the mapping between",
    "start": "884480",
    "end": "891920"
  },
  {
    "text": "labels and IPs and some of the eventual consistency nature of it and being more and being more strict and secure about",
    "start": "891920",
    "end": "898320"
  },
  {
    "text": "the network can we enforce on something else other than IPs now there are many many specific",
    "start": "898320",
    "end": "904000"
  },
  {
    "text": "solution solutions not necessarily all of them satisfies what we said but partially some of them are um but you",
    "start": "904000",
    "end": "910480"
  },
  {
    "text": "can see I'm highlighting specific solutions i'm going to go over two of them right now some of like you know",
    "start": "910480",
    "end": "915760"
  },
  {
    "text": "leading projects it doesn't mean that this is the complete list there are many many other projects that implements the",
    "start": "915760",
    "end": "920959"
  },
  {
    "text": "APIs but I want to start with selium network policy i guess a lot of people here know selium you know very widely",
    "start": "920959",
    "end": "927440"
  },
  {
    "text": "used CNI and city network policies enriches network policies like core",
    "start": "927440",
    "end": "932639"
  },
  {
    "text": "network policies uh and providing L3 policies on the IP level and it provides",
    "start": "932639",
    "end": "937920"
  },
  {
    "text": "you know various you know as we see useful obstructions I just listed two of them but uh which you can you know you",
    "start": "937920",
    "end": "943680"
  },
  {
    "text": "have a list of predefined entities that you can use or you can do from security groups with AWS um but it provides you",
    "start": "943680",
    "end": "950160"
  },
  {
    "text": "know again value substraction but based on IPs um at L4 it provides similar support for",
    "start": "950160",
    "end": "956480"
  },
  {
    "text": "port protocol um and it also provide extended support for L7 all in the same CRD by the way which obviously we know",
    "start": "956480",
    "end": "963120"
  },
  {
    "text": "that the L7 functionality is enforced with the node local envoy proxy um the",
    "start": "963120",
    "end": "968399"
  },
  {
    "text": "CNI level cannot enforce the L7 capabilities there now Selium uh also",
    "start": "968399",
    "end": "973839"
  },
  {
    "text": "supports egress and eress um uh policies uh there is support for DNI policies as",
    "start": "973839",
    "end": "979920"
  },
  {
    "text": "we see with you know as well admin policies and similarly uh there is the clusterwide that is um basically you",
    "start": "979920",
    "end": "989120"
  },
  {
    "text": "know giving this solution for the cluster admin because we said network policies is for the application developer",
    "start": "989120",
    "end": "995440"
  },
  {
    "text": "now similarly we have is authorization policies which some of you heard of it's a different name right this one is",
    "start": "995440",
    "end": "1001199"
  },
  {
    "text": "network policy this one is authorization policy but it is mainly to provide the same functionality right network",
    "start": "1001199",
    "end": "1008040"
  },
  {
    "text": "segmentation now supports the enforcement not in the L in the L3 not in the IP layer support the enforcement",
    "start": "1008040",
    "end": "1015519"
  },
  {
    "text": "uh on the L4 TLS and the L7 layers and what it means um you know for all of you",
    "start": "1015519",
    "end": "1021360"
  },
  {
    "text": "that are keeping up to date with the advancements right where I now have two modes We have cycar we have ambient",
    "start": "1021360",
    "end": "1026798"
  },
  {
    "text": "we're not going to go into this uh but um the enforcement basically happens in different parts um in these modes but um",
    "start": "1026799",
    "end": "1035918"
  },
  {
    "text": "within um the pot identity is onetoone with the service account um and it's",
    "start": "1035919",
    "end": "1041280"
  },
  {
    "text": "distributed as a certificate from the control pin to the proxies and within the certificate there is the sandfield",
    "start": "1041280",
    "end": "1047600"
  },
  {
    "text": "subject alternative name where we could encode um the identity being the service account and the identity is usually",
    "start": "1047600",
    "end": "1054080"
  },
  {
    "text": "using the spiffy format which is um an increasingly common standard for actually you know describing uh this",
    "start": "1054080",
    "end": "1061520"
  },
  {
    "text": "identity now we can see a little example on the right i'm I'm trying to keep examples throughout as I go but not",
    "start": "1061520",
    "end": "1067280"
  },
  {
    "text": "going to spend a lot of time on that but uh for example in this example right we're allowing payments back end um",
    "start": "1067280",
    "end": "1073919"
  },
  {
    "text": "we're lying traffic to the payments back end from the payments front identity as an example now East S2 supports as well",
    "start": "1073919",
    "end": "1081280"
  },
  {
    "text": "external authorization uh which is something I wanted to call out um so you could delegate you know um authorization",
    "start": "1081280",
    "end": "1088240"
  },
  {
    "text": "decisions to a different uh application a different web hook you know we know things like OPA or any other callouts we",
    "start": "1088240",
    "end": "1095440"
  },
  {
    "text": "can do uh there is support for deny policies and different deny controls um",
    "start": "1095440",
    "end": "1100559"
  },
  {
    "text": "and there is support for clusterwide policies with some semantics you know for those using with putting the policy",
    "start": "1100559",
    "end": "1106799"
  },
  {
    "text": "in the S2 name space uh but there's no no support for egress so again this is just a rundown of what's supported or",
    "start": "1106799",
    "end": "1113200"
  },
  {
    "text": "not um but you know as you see like this",
    "start": "1113200",
    "end": "1118480"
  },
  {
    "text": "two leading projects right which a lot of people probably use uh provide the",
    "start": "1118480",
    "end": "1123960"
  },
  {
    "text": "same goal right same purpose network segmentation how can we secure traffic within our network but there's no",
    "start": "1123960",
    "end": "1130320"
  },
  {
    "text": "standardization there it's it's it's widely different um and why there's no standardization because standardization",
    "start": "1130320",
    "end": "1136960"
  },
  {
    "text": "is hard now what is you know why why is it hard",
    "start": "1136960",
    "end": "1142320"
  },
  {
    "text": "or like where are the areas which we identify needs more standardization",
    "start": "1142320",
    "end": "1147360"
  },
  {
    "text": "right uh what's the standard identity is it pod labels right is it service accounts is it spiff",
    "start": "1147360",
    "end": "1153400"
  },
  {
    "text": "ids what is a standard format right is it jots is it um is it x5 or",
    "start": "1153400",
    "end": "1159559"
  },
  {
    "text": "non-certificates is it svids svids for those who are not familiar is um a new",
    "start": "1159559",
    "end": "1164720"
  },
  {
    "text": "identifiable format that the spiffy project defined Um how do we uh distribute and issue the",
    "start": "1164720",
    "end": "1172640"
  },
  {
    "text": "identities there is a cap in Kubernetes also known as the pot certificates cap that suggest that cublet uh is going to",
    "start": "1172640",
    "end": "1180960"
  },
  {
    "text": "be the one issuing um uh identities and um basically distribute them to all the",
    "start": "1180960",
    "end": "1187039"
  },
  {
    "text": "pods uh is it sufficient as a new standard is all the ecosystem is going to be developed and use this identities",
    "start": "1187039",
    "end": "1194080"
  },
  {
    "text": "um we don't know what's a common rule of trust and what's the interoperability",
    "start": "1194080",
    "end": "1199360"
  },
  {
    "text": "semantics between L4 L3 that we talked as well and L7 enforcement how do we",
    "start": "1199360",
    "end": "1204640"
  },
  {
    "text": "compose all of them uh this is something we're kind of living day-to-day trying to understand and you know deal with but",
    "start": "1204640",
    "end": "1211600"
  },
  {
    "text": "it's it's increasingly important to do some sanitization in these areas because if there's no standardization then",
    "start": "1211600",
    "end": "1216880"
  },
  {
    "text": "different implementations implemented differently which can yield to some security breaches or um some",
    "start": "1216880",
    "end": "1223840"
  },
  {
    "text": "Now what you can do now I'm not going to you know put this slide and tell you hey you know just employ zero trust defense",
    "start": "1223840",
    "end": "1231520"
  },
  {
    "text": "and death obviously there's like you know common uh patterns that you probably want to use but in the",
    "start": "1231520",
    "end": "1236799"
  },
  {
    "text": "practical part of our presentations if you are using labels as a policy entities make sure you're using",
    "start": "1236799",
    "end": "1243440"
  },
  {
    "text": "admission control on those labels right because you don't want anyone to be able to change the label because we often",
    "start": "1243440",
    "end": "1248559"
  },
  {
    "text": "think like you know changing a label is not something uh that's you know not that's giving you know a lot of",
    "start": "1248559",
    "end": "1254159"
  },
  {
    "text": "permissions but uh you probably want to use things like vernal things like gatekeeper things like that going to",
    "start": "1254159",
    "end": "1260000"
  },
  {
    "text": "basically provide admission control for changing the labels and for the labels you're using uh to tie policies uh you",
    "start": "1260000",
    "end": "1266720"
  },
  {
    "text": "want something stronger to validate um that no one can bypass your policies now",
    "start": "1266720",
    "end": "1271919"
  },
  {
    "text": "if you're using identities uh you know it sounds magical no but make sure the identity is transmitted so in the Easter",
    "start": "1271919",
    "end": "1278000"
  },
  {
    "text": "case that the identity is transmitted with the encryption over MTLS meaning if you disable MTLS if you're disabling",
    "start": "1278000",
    "end": "1283679"
  },
  {
    "text": "encryption in your cluster you cannot enforce authorization policy um so just you know it's obviously just a a high",
    "start": "1283679",
    "end": "1291039"
  },
  {
    "text": "level overview but make sure when you go about securing your networks you actually uh understand uh what is the",
    "start": "1291039",
    "end": "1297840"
  },
  {
    "text": "implications of doing something that are related in this field now obviously what",
    "start": "1297840",
    "end": "1302880"
  },
  {
    "text": "should have happened and just to complete the story obviously right uh there should be zero trust and defensive this right MTLS should have blocked uh",
    "start": "1302880",
    "end": "1310159"
  },
  {
    "text": "potential impersonation of the debug pod because if we have MTLS right so anyone presents every service presents its own",
    "start": "1310159",
    "end": "1316320"
  },
  {
    "text": "certificate and it's much hard to impersonate to a different service authorization policies should have",
    "start": "1316320",
    "end": "1321760"
  },
  {
    "text": "blocked the access because the debug pod should not have been deployed with a identity or any like you know depends",
    "start": "1321760",
    "end": "1327919"
  },
  {
    "text": "what you're tying on but like or ple actually have access to anything else right we just wanted to get a request",
    "start": "1327919",
    "end": "1333679"
  },
  {
    "text": "dump the headers and inspect them um and similarly obviously the service account should not have any um API access",
    "start": "1333679",
    "end": "1340799"
  },
  {
    "text": "because it didn't need to so these security postures um should be especially if we're a platform",
    "start": "1340799",
    "end": "1346080"
  },
  {
    "text": "engineering like we're we're the people that kind of take care of the platform we should make it easy for developers uh",
    "start": "1346080",
    "end": "1352240"
  },
  {
    "text": "to make you know to make this decision operate in a very security conscious way",
    "start": "1352240",
    "end": "1357840"
  },
  {
    "text": "now lastly standardization is important right we said it's hard but it's extremely important i just listed two of",
    "start": "1357840",
    "end": "1362880"
  },
  {
    "text": "the things here one of the pot certificates kept that I talked about uh I think it's cap 43 uh7 uh uh which is",
    "start": "1362880",
    "end": "1372159"
  },
  {
    "text": "progressing and you know as I said uh standard trying to standardize the issuance of the certificates the other",
    "start": "1372159",
    "end": "1377440"
  },
  {
    "text": "thing is a GitHub discussion happening on the SIG uh policy SIG network policy API group about gathering use cases for",
    "start": "1377440",
    "end": "1385200"
  },
  {
    "text": "using identities and not IPs from the UX perspective actually not from the security because from the security um",
    "start": "1385200",
    "end": "1391919"
  },
  {
    "text": "it's different but from the UX would it be easier for users to reason about their workloads with identities and not IPs because usually the developer you",
    "start": "1391919",
    "end": "1398960"
  },
  {
    "text": "know they just spin up a pod a workload they don't know what IP is going to be assigned um and these two slack groups",
    "start": "1398960",
    "end": "1404640"
  },
  {
    "text": "are the best place to actually go and talk about it and ask questions or you know bring up your idea and there's",
    "start": "1404640",
    "end": "1410080"
  },
  {
    "text": "pretty responsive um um uh folks there uh that can help you you know um driving",
    "start": "1410080",
    "end": "1416240"
  },
  {
    "text": "this area yeah with that um uh I think we have uh",
    "start": "1416240",
    "end": "1422000"
  },
  {
    "text": "plenty of room for questions um u more precisely five minutes and yeah",
    "start": "1422000",
    "end": "1428320"
  },
  {
    "text": "thank you [Applause]",
    "start": "1428320",
    "end": "1439890"
  },
  {
    "text": "do you know where the mic is for questions yeah the mic should be the mic",
    "start": "1443919",
    "end": "1449039"
  },
  {
    "text": "should be behind right oh there's a mic just here in the middle",
    "start": "1449039",
    "end": "1456520"
  },
  {
    "text": "oh we got someone there's someone where",
    "start": "1466000",
    "end": "1471360"
  },
  {
    "text": "hello thanks a lot for that presentation um I have a question about authorization",
    "start": "1472400",
    "end": "1478240"
  },
  {
    "text": "between two services uh I have a use case where the authorization is changing",
    "start": "1478240",
    "end": "1483679"
  },
  {
    "text": "regularly uh between two services how would you manage that well can you",
    "start": "1483679",
    "end": "1488880"
  },
  {
    "text": "elaborate more on the use case like so yeah so I have a key lock um and I have",
    "start": "1488880",
    "end": "1494240"
  },
  {
    "text": "two microservices and the uh like the authorization between two these two",
    "start": "1494240",
    "end": "1499279"
  },
  {
    "text": "services is managed by key lock but since it's administrated by other people",
    "start": "1499279",
    "end": "1504400"
  },
  {
    "text": "sometimes the uh the authorization is changed like the scopes O2 scopes are",
    "start": "1504400",
    "end": "1511360"
  },
  {
    "text": "changed regularly and what's the ideal scenario you would like to get to like do you does it",
    "start": "1511360",
    "end": "1517760"
  },
  {
    "text": "change because it's supposed to change do you want to enforce something else like um no I just want to um I just want",
    "start": "1517760",
    "end": "1524799"
  },
  {
    "text": "to know a little bit about how the the policies are updated is it at every request made between each of the",
    "start": "1524799",
    "end": "1531360"
  },
  {
    "text": "services or is it something else um well definitely I mean stay here and",
    "start": "1531360",
    "end": "1538880"
  },
  {
    "text": "we're going to follow up on that but I think in theory right you want to you want to segment your network you want to",
    "start": "1538880",
    "end": "1544240"
  },
  {
    "text": "understand hey I have this this microservices and theoretically these microservices should talk to that microservices you know obviously back",
    "start": "1544240",
    "end": "1551200"
  },
  {
    "text": "and front end being the obvious case but you know everyone has their own uh and",
    "start": "1551200",
    "end": "1556320"
  },
  {
    "text": "once you segment your networks you want the policies to be predictable if you need the policy to be changed dynamically maybe you want to use",
    "start": "1556320",
    "end": "1562240"
  },
  {
    "text": "something like an external authorization mechanism as we see with a custom with a custom authorization where you say hey I",
    "start": "1562240",
    "end": "1569120"
  },
  {
    "text": "don't want my policies to be pretty fine but you know uh delegate my uh policy",
    "start": "1569120",
    "end": "1574640"
  },
  {
    "text": "enforcement decision to something like OPA to something like you know other providers what is it yeah sorry I was",
    "start": "1574640",
    "end": "1580960"
  },
  {
    "text": "saying like Google or something like that yeah like any any thing that",
    "start": "1580960",
    "end": "1586000"
  },
  {
    "text": "implements this protocol there's a bunch of things out there and then you could use this you know this mechanism to",
    "start": "1586000",
    "end": "1592880"
  },
  {
    "text": "actually you know uh provide the u authorization decision and which obviously can be changed dynamically",
    "start": "1592880",
    "end": "1598880"
  },
  {
    "text": "whether it's integrated with your IM provider or whatever yeah okay thank you very much no problem",
    "start": "1598880",
    "end": "1606960"
  },
  {
    "text": "hi um I was wondering if you had any uh tips or what you used for observability",
    "start": "1606960",
    "end": "1612880"
  },
  {
    "text": "into troubleshooting uh networking issues in regards to network policies versus security groups versus WFTS or uh",
    "start": "1612880",
    "end": "1621120"
  },
  {
    "text": "anything like that yeah definitely i mean yeah definitely um so if you go and",
    "start": "1621120",
    "end": "1626559"
  },
  {
    "text": "look at network policy level often times you would have a feature I mean maybe in different implementation it's called",
    "start": "1626559",
    "end": "1632559"
  },
  {
    "text": "different but um a thing called network policy logging so it logs authorization",
    "start": "1632559",
    "end": "1637840"
  },
  {
    "text": "decisions and there's a bunch of useful observability tools kind of go on around",
    "start": "1637840",
    "end": "1642960"
  },
  {
    "text": "that and present it to you in whatever um observability dashboard you're using there was in the again in the previous",
    "start": "1642960",
    "end": "1649679"
  },
  {
    "text": "um SIG network discussion someone asked about uh whether we want to standardize",
    "start": "1649679",
    "end": "1654720"
  },
  {
    "text": "the format of this logging for example because right now it's not standardized um so this is being discussed um there's",
    "start": "1654720",
    "end": "1662080"
  },
  {
    "text": "actually issues about that uh but I can tell from a vendor perspective for example within Google we provide this",
    "start": "1662080",
    "end": "1667840"
  },
  {
    "text": "network policy logging uh which you can use um um there is uh as well some",
    "start": "1667840",
    "end": "1673360"
  },
  {
    "text": "tooling like I think the policy assistant as I mentioned before that can lets you actually simulate what would",
    "start": "1673360",
    "end": "1679200"
  },
  {
    "text": "happen if uh a network um that what would happen if a policy would be deployed so would would your traffic",
    "start": "1679200",
    "end": "1685279"
  },
  {
    "text": "being denied or not um and I think sim same thing if you kind of go above right",
    "start": "1685279",
    "end": "1690320"
  },
  {
    "text": "when you go like to L4 like L4 TLS or L7 um again like useful logging from",
    "start": "1690320",
    "end": "1696080"
  },
  {
    "text": "whether it's the envoy it's something um that you can definitely uh use um",
    "start": "1696080",
    "end": "1701919"
  },
  {
    "text": "yeah I hope that answer your question thank you very much yeah hey was uh super interesting i'm",
    "start": "1701919",
    "end": "1710000"
  },
  {
    "text": "interested in or intrigued by the sort of direction of going towards certificates next 509 for client orth um",
    "start": "1710000",
    "end": "1718640"
  },
  {
    "text": "I'm just I guess I'm interested in what's driving that whether it's convenience or some other technical reason and I guess the reason I'm asking",
    "start": "1718640",
    "end": "1725120"
  },
  {
    "text": "is because I'm sure you're aware X509 ASM1 these are pretty old things and the",
    "start": "1725120",
    "end": "1731200"
  },
  {
    "text": "PKI comes with a bunch of operability issues around you know revocation and like issuance and lifetimes and all that",
    "start": "1731200",
    "end": "1736559"
  },
  {
    "text": "sort of thing i guess my point is we know we can do better than X509 when it comes to authenticating it's why MTLS",
    "start": "1736559",
    "end": "1743440"
  },
  {
    "text": "isn't everywhere right it's only in very small places usually um so what's driving that move towards Cublet issuing",
    "start": "1743440",
    "end": "1750320"
  },
  {
    "text": "certificates rather than those other standards you talked about like Jots i'm not a fan of Jot either but there's",
    "start": "1750320",
    "end": "1755360"
  },
  {
    "text": "other ways of doing this that are simpler and have less of a history of vulnerabilities and pausing issues yeah",
    "start": "1755360",
    "end": "1761919"
  },
  {
    "text": "that's definitely a good question and by the way good feedback you know feel free to go to these issues and put your",
    "start": "1761919",
    "end": "1767600"
  },
  {
    "text": "feedback there but like for example one of the things you mentioned with Jots right jots for example operating only on",
    "start": "1767600",
    "end": "1773159"
  },
  {
    "text": "L7 what happens when your traffic is not L7 how do you how do you going to enforce that right so MTLS and",
    "start": "1773159",
    "end": "1780320"
  },
  {
    "text": "certificates being one of the ways by the way anything in the CAP like in the",
    "start": "1780320",
    "end": "1786080"
  },
  {
    "text": "Kubernetes enhancement proposal are linked um is not being opinionated about how do you transmit the identity it's",
    "start": "1786080",
    "end": "1793600"
  },
  {
    "text": "just okay how do I distribute how do I issue an identity but MTLS being one of the ways that for example is you happen",
    "start": "1793600",
    "end": "1799360"
  },
  {
    "text": "to use to or any mesh to transmit an identity and then when you have MTLS over the network it's easier for you to",
    "start": "1799360",
    "end": "1805520"
  },
  {
    "text": "you know to decode the certificate and you use it for enforcement um yeah that's uh and that that's part of what",
    "start": "1805520",
    "end": "1812320"
  },
  {
    "text": "we talked about about standardization being hard there's a lot of uh a lot of different ways of doing this stuff um",
    "start": "1812320",
    "end": "1818480"
  },
  {
    "text": "but the the key point is that we can probably do better than labels and we",
    "start": "1818480",
    "end": "1823520"
  },
  {
    "text": "can do some form of identity yeah and definitely I mean you know I",
    "start": "1823520",
    "end": "1829120"
  },
  {
    "text": "mean go to like these barcodes like you know put your feedback there you know if we want to standardize on you know big",
    "start": "1829120",
    "end": "1834559"
  },
  {
    "text": "we obviously want to standardize on something that is most commonly used right like you know um I'm not like",
    "start": "1834559",
    "end": "1839919"
  },
  {
    "text": "there are some things that not commonly used and going to be harder for people with the Kubernetes ecosystem to adopt",
    "start": "1839919",
    "end": "1845919"
  },
  {
    "text": "but you know obviously all the things you said we can do better than that why wouldn't we do better than that mtls is",
    "start": "1845919",
    "end": "1851120"
  },
  {
    "text": "not necessarily everywhere um um so if we can standardize on this identity mechanism then maybe we can standardize",
    "start": "1851120",
    "end": "1858399"
  },
  {
    "text": "how we can transmit them the transmission part is not is up for an implementation right now so theoretically you can extend it with",
    "start": "1858399",
    "end": "1864080"
  },
  {
    "text": "your implementation to say hey my implementation transmit identity in this way and that's how it is used for",
    "start": "1864080",
    "end": "1869240"
  },
  {
    "text": "authorization thank you",
    "start": "1869240",
    "end": "1873399"
  }
]