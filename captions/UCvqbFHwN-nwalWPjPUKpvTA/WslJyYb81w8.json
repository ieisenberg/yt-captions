[
  {
    "text": "hi everybody welcome to kubernetes",
    "start": "0",
    "end": "2480"
  },
  {
    "text": "leader election for fun and profit my",
    "start": "2480",
    "end": "4080"
  },
  {
    "text": "name is nick young i am a staff engineer",
    "start": "4080",
    "end": "5839"
  },
  {
    "text": "with vmware",
    "start": "5839",
    "end": "7359"
  },
  {
    "text": "and i'm here to show you three things",
    "start": "7359",
    "end": "9280"
  },
  {
    "text": "today firstly what is leader election",
    "start": "9280",
    "end": "11440"
  },
  {
    "text": "and how do you implement it",
    "start": "11440",
    "end": "12480"
  },
  {
    "text": "my guidelines for using it and then some",
    "start": "12480",
    "end": "15360"
  },
  {
    "text": "common patterns",
    "start": "15360",
    "end": "16160"
  },
  {
    "text": "that you can use when you're using it",
    "start": "16160",
    "end": "20480"
  },
  {
    "text": "so um",
    "start": "20880",
    "end": "24080"
  },
  {
    "text": "let's let's get straight into it um oh",
    "start": "24080",
    "end": "27439"
  },
  {
    "text": "i seem to have some weirdness with my",
    "start": "27439",
    "end": "28640"
  },
  {
    "text": "sides anyway um",
    "start": "28640",
    "end": "31439"
  },
  {
    "text": "the there we are so what is leader",
    "start": "31439",
    "end": "34559"
  },
  {
    "text": "election well",
    "start": "34559",
    "end": "35440"
  },
  {
    "text": "kubernetes leader election allows you to",
    "start": "35440",
    "end": "37760"
  },
  {
    "text": "use the same",
    "start": "37760",
    "end": "39200"
  },
  {
    "text": "leader election code that the api server",
    "start": "39200",
    "end": "41600"
  },
  {
    "text": "does",
    "start": "41600",
    "end": "43040"
  },
  {
    "text": "and other parts of kubernetes for any of",
    "start": "43040",
    "end": "45600"
  },
  {
    "text": "your controllers",
    "start": "45600",
    "end": "46879"
  },
  {
    "text": "what that lets you do is it's a",
    "start": "46879",
    "end": "48160"
  },
  {
    "text": "distributed lock coordinated and managed",
    "start": "48160",
    "end": "50000"
  },
  {
    "text": "for you by kubernetes",
    "start": "50000",
    "end": "52480"
  },
  {
    "text": "it lets your app essentially elect one",
    "start": "52480",
    "end": "54960"
  },
  {
    "text": "instance as a leader",
    "start": "54960",
    "end": "57440"
  },
  {
    "text": "what can you and the important part here",
    "start": "57440",
    "end": "60160"
  },
  {
    "text": "is that only one",
    "start": "60160",
    "end": "61120"
  },
  {
    "text": "instance actually makes changes",
    "start": "61120",
    "end": "64399"
  },
  {
    "text": "now so what can you use it for um",
    "start": "64640",
    "end": "67840"
  },
  {
    "text": "so there's a few patterns you can use it",
    "start": "67840",
    "end": "69439"
  },
  {
    "text": "for firstly this one the basic",
    "start": "69439",
    "end": "71200"
  },
  {
    "text": "controller pattern once",
    "start": "71200",
    "end": "72240"
  },
  {
    "text": "one instance watches the kubernetes api",
    "start": "72240",
    "end": "74240"
  },
  {
    "text": "and writes changes back",
    "start": "74240",
    "end": "75439"
  },
  {
    "text": "other instances uh will just be sitting",
    "start": "75439",
    "end": "77840"
  },
  {
    "text": "there doing nothing until they become",
    "start": "77840",
    "end": "79280"
  },
  {
    "text": "the leader",
    "start": "79280",
    "end": "80720"
  },
  {
    "text": "a slightly more complicated pattern is",
    "start": "80720",
    "end": "82159"
  },
  {
    "text": "where one instance",
    "start": "82159",
    "end": "83840"
  },
  {
    "text": "watches the kubernetes api takes actions",
    "start": "83840",
    "end": "85920"
  },
  {
    "text": "outside the cluster and then writes the",
    "start": "85920",
    "end": "87280"
  },
  {
    "text": "result back",
    "start": "87280",
    "end": "88159"
  },
  {
    "text": "i'd call this an operator pattern",
    "start": "88159",
    "end": "89759"
  },
  {
    "text": "whereas the previous one is a controller",
    "start": "89759",
    "end": "91360"
  },
  {
    "text": "pattern",
    "start": "91360",
    "end": "93680"
  },
  {
    "text": "another pattern is one where each",
    "start": "93920",
    "end": "95520"
  },
  {
    "text": "instance watches the kubernetes api and",
    "start": "95520",
    "end": "97680"
  },
  {
    "text": "only one writes a status back maybe",
    "start": "97680",
    "end": "99439"
  },
  {
    "text": "because the other ones are doing",
    "start": "99439",
    "end": "101439"
  },
  {
    "text": "some sort of uh synchronous asynchronous",
    "start": "101439",
    "end": "103759"
  },
  {
    "text": "operations that don't require status",
    "start": "103759",
    "end": "105840"
  },
  {
    "text": "updates",
    "start": "105840",
    "end": "107280"
  },
  {
    "text": "or some other sort of updates",
    "start": "107280",
    "end": "111040"
  },
  {
    "text": "and lastly they catch a bucket of other",
    "start": "111040",
    "end": "113200"
  },
  {
    "text": "more complicated things oh i've got some",
    "start": "113200",
    "end": "114960"
  },
  {
    "text": "example i've got an example of that i'll",
    "start": "114960",
    "end": "116240"
  },
  {
    "text": "talk to you about later",
    "start": "116240",
    "end": "118320"
  },
  {
    "text": "so all of these things though let you",
    "start": "118320",
    "end": "120799"
  },
  {
    "text": "make your app more reliable by",
    "start": "120799",
    "end": "122479"
  },
  {
    "text": "just sprinking that little bit of hay on",
    "start": "122479",
    "end": "124479"
  },
  {
    "text": "it",
    "start": "124479",
    "end": "126560"
  },
  {
    "text": "so the important part that everyone",
    "start": "127200",
    "end": "129440"
  },
  {
    "text": "wants to know is how does it actually",
    "start": "129440",
    "end": "130479"
  },
  {
    "text": "work",
    "start": "130479",
    "end": "131680"
  },
  {
    "text": "well there's an election process that",
    "start": "131680",
    "end": "134000"
  },
  {
    "text": "updates a shared object that functions",
    "start": "134000",
    "end": "135520"
  },
  {
    "text": "as the lock",
    "start": "135520",
    "end": "136720"
  },
  {
    "text": "now this shared object is obviously a",
    "start": "136720",
    "end": "139280"
  },
  {
    "text": "kubernetes object",
    "start": "139280",
    "end": "140480"
  },
  {
    "text": "this whole thing is built on kubernetes",
    "start": "140480",
    "end": "142480"
  },
  {
    "text": "and the shared process",
    "start": "142480",
    "end": "143680"
  },
  {
    "text": "is literally just done using the",
    "start": "143680",
    "end": "146160"
  },
  {
    "text": "standard kubernetes",
    "start": "146160",
    "end": "147599"
  },
  {
    "text": "leader election code the exact same code",
    "start": "147599",
    "end": "149200"
  },
  {
    "text": "that the api server controller manager",
    "start": "149200",
    "end": "150879"
  },
  {
    "text": "and other kubernetes components use",
    "start": "150879",
    "end": "154080"
  },
  {
    "text": "the shared object can be one of two",
    "start": "154080",
    "end": "156080"
  },
  {
    "text": "things depending on your kubernetes",
    "start": "156080",
    "end": "157440"
  },
  {
    "text": "version",
    "start": "157440",
    "end": "158080"
  },
  {
    "text": "before kubernetes 114 uh it was you",
    "start": "158080",
    "end": "160720"
  },
  {
    "text": "could only use a config map",
    "start": "160720",
    "end": "162400"
  },
  {
    "text": "well actually i tell a lie there you",
    "start": "162400",
    "end": "164080"
  },
  {
    "text": "could use the endpoints object but that",
    "start": "164080",
    "end": "165840"
  },
  {
    "text": "was",
    "start": "165840",
    "end": "166080"
  },
  {
    "text": "deprecated very quickly in favor of the",
    "start": "166080",
    "end": "167760"
  },
  {
    "text": "config map and only the",
    "start": "167760",
    "end": "169200"
  },
  {
    "text": "map is recommended up until kubernetes 1",
    "start": "169200",
    "end": "171599"
  },
  {
    "text": "14.",
    "start": "171599",
    "end": "172800"
  },
  {
    "text": "uh greater than or equal to kubernetes 1",
    "start": "172800",
    "end": "175519"
  },
  {
    "text": "14 you can use the config map",
    "start": "175519",
    "end": "177440"
  },
  {
    "text": "or the new lease object which duplicates",
    "start": "177440",
    "end": "180400"
  },
  {
    "text": "all the functions",
    "start": "180400",
    "end": "181280"
  },
  {
    "text": "of the config map but in a dedicated",
    "start": "181280",
    "end": "184239"
  },
  {
    "text": "object",
    "start": "184239",
    "end": "185840"
  },
  {
    "text": "in the case of the configmap the info is",
    "start": "185840",
    "end": "188239"
  },
  {
    "text": "actually stored in an annotation for",
    "start": "188239",
    "end": "189680"
  },
  {
    "text": "least it's actually stored in the spec",
    "start": "189680",
    "end": "191440"
  },
  {
    "text": "so that object is specifically designed",
    "start": "191440",
    "end": "193360"
  },
  {
    "text": "to do this exact",
    "start": "193360",
    "end": "194560"
  },
  {
    "text": "use case it's also used for holding",
    "start": "194560",
    "end": "197599"
  },
  {
    "text": "information",
    "start": "197599",
    "end": "198000"
  },
  {
    "text": "about the nodes that about their leases",
    "start": "198000",
    "end": "202080"
  },
  {
    "text": "on certain network data",
    "start": "202080",
    "end": "205120"
  },
  {
    "text": "so but in either case um you're",
    "start": "205120",
    "end": "206799"
  },
  {
    "text": "absolutely going to need you need to",
    "start": "206799",
    "end": "208159"
  },
  {
    "text": "make sure that your",
    "start": "208159",
    "end": "209840"
  },
  {
    "text": "your role has the permissions to update",
    "start": "209840",
    "end": "211840"
  },
  {
    "text": "the the type of object you're doing",
    "start": "211840",
    "end": "213280"
  },
  {
    "text": "either config maps or leases",
    "start": "213280",
    "end": "216319"
  },
  {
    "text": "the module to read the docs is here it's",
    "start": "216319",
    "end": "218000"
  },
  {
    "text": "a client go tools leader election",
    "start": "218000",
    "end": "220319"
  },
  {
    "text": "resource lock",
    "start": "220319",
    "end": "222000"
  },
  {
    "text": "that one just the reason to check that",
    "start": "222000",
    "end": "223440"
  },
  {
    "text": "one is it just has the details of how",
    "start": "223440",
    "end": "225680"
  },
  {
    "text": "the um how the the objects actually get",
    "start": "225680",
    "end": "229519"
  },
  {
    "text": "instantiated but also",
    "start": "229519",
    "end": "231519"
  },
  {
    "text": "if new types of objects are added that's",
    "start": "231519",
    "end": "233599"
  },
  {
    "text": "where that that's where the code to add",
    "start": "233599",
    "end": "234959"
  },
  {
    "text": "them is added and there's also a",
    "start": "234959",
    "end": "236640"
  },
  {
    "text": "interface there so that you can actually",
    "start": "236640",
    "end": "238560"
  },
  {
    "text": "swap out this type very easily",
    "start": "238560",
    "end": "242560"
  },
  {
    "text": "okay so if you're implementing leader",
    "start": "242959",
    "end": "244560"
  },
  {
    "text": "election and you're using queue builder",
    "start": "244560",
    "end": "248480"
  },
  {
    "text": "i've got good news for you um it's",
    "start": "248480",
    "end": "250879"
  },
  {
    "text": "probably already available",
    "start": "250879",
    "end": "252560"
  },
  {
    "text": "if you're using the generation tools",
    "start": "252560",
    "end": "254480"
  },
  {
    "text": "it's certainly available all you've got",
    "start": "254480",
    "end": "255920"
  },
  {
    "text": "to do",
    "start": "255920",
    "end": "256720"
  },
  {
    "text": "is use the dash enable leader election",
    "start": "256720",
    "end": "258799"
  },
  {
    "text": "flag on the command line and boom",
    "start": "258799",
    "end": "260959"
  },
  {
    "text": "leader election is enabled and working",
    "start": "260959",
    "end": "262560"
  },
  {
    "text": "for you i would strongly recommend doing",
    "start": "262560",
    "end": "264800"
  },
  {
    "text": "this if you're",
    "start": "264800",
    "end": "265520"
  },
  {
    "text": "running a queue border controller if you",
    "start": "265520",
    "end": "268720"
  },
  {
    "text": "want to have a bit more detail or you've",
    "start": "268720",
    "end": "270479"
  },
  {
    "text": "written your own things or",
    "start": "270479",
    "end": "272320"
  },
  {
    "text": "wanted to check that it's there if you",
    "start": "272320",
    "end": "274240"
  },
  {
    "text": "look in your",
    "start": "274240",
    "end": "275840"
  },
  {
    "text": "new manager call you will see some extra",
    "start": "275840",
    "end": "279360"
  },
  {
    "text": "options that you need to add",
    "start": "279360",
    "end": "281280"
  },
  {
    "text": "here they are here there's a leader",
    "start": "281280",
    "end": "283520"
  },
  {
    "text": "election which is bullion",
    "start": "283520",
    "end": "284960"
  },
  {
    "text": "and a leader election id now the",
    "start": "284960",
    "end": "288000"
  },
  {
    "text": "leader election id just ensures that",
    "start": "288000",
    "end": "290000"
  },
  {
    "text": "your particular leader election",
    "start": "290000",
    "end": "291440"
  },
  {
    "text": "is unique so if you want to",
    "start": "291440",
    "end": "295520"
  },
  {
    "text": "implement it using the old way informers",
    "start": "295520",
    "end": "298160"
  },
  {
    "text": "um",
    "start": "298160",
    "end": "299199"
  },
  {
    "text": "then it's a little bit more complicated",
    "start": "299199",
    "end": "300880"
  },
  {
    "text": "this one's relevant to me because i'm a",
    "start": "300880",
    "end": "302720"
  },
  {
    "text": "maintainer on project contour",
    "start": "302720",
    "end": "304400"
  },
  {
    "text": "and this this is what we do",
    "start": "304400",
    "end": "308320"
  },
  {
    "text": "so using informers means that you have",
    "start": "308320",
    "end": "310160"
  },
  {
    "text": "two jobs firstly",
    "start": "310160",
    "end": "311440"
  },
  {
    "text": "getting that later election running and",
    "start": "311440",
    "end": "313199"
  },
  {
    "text": "secondly watching the channel that the",
    "start": "313199",
    "end": "314639"
  },
  {
    "text": "later election gives you",
    "start": "314639",
    "end": "315840"
  },
  {
    "text": "obviously sorry i didn't say this before",
    "start": "315840",
    "end": "318000"
  },
  {
    "text": "but obviously i'm talking mainly about",
    "start": "318000",
    "end": "319680"
  },
  {
    "text": "go code here because",
    "start": "319680",
    "end": "321120"
  },
  {
    "text": "the api server and all of the kubernetes",
    "start": "321120",
    "end": "323360"
  },
  {
    "text": "support encoders written in go",
    "start": "323360",
    "end": "325440"
  },
  {
    "text": "not making any statements here about how",
    "start": "325440",
    "end": "327759"
  },
  {
    "text": "easy this is to do",
    "start": "327759",
    "end": "328720"
  },
  {
    "text": "in other languages so but given that",
    "start": "328720",
    "end": "333440"
  },
  {
    "text": "the leader election process just gives",
    "start": "333440",
    "end": "335840"
  },
  {
    "text": "you a channel that you watch",
    "start": "335840",
    "end": "337199"
  },
  {
    "text": "um in contour what we do is",
    "start": "337199",
    "end": "340240"
  },
  {
    "text": "we start the the standard kubernetes",
    "start": "340240",
    "end": "342240"
  },
  {
    "text": "selector this returns an",
    "start": "342240",
    "end": "344160"
  },
  {
    "text": "ibleader channel and then basically you",
    "start": "344160",
    "end": "346800"
  },
  {
    "text": "can",
    "start": "346800",
    "end": "347199"
  },
  {
    "text": "watch that channel and when you become",
    "start": "347199",
    "end": "349199"
  },
  {
    "text": "the leader that channel will be closed",
    "start": "349199",
    "end": "351680"
  },
  {
    "text": "so in contour the second thing that we",
    "start": "351680",
    "end": "354160"
  },
  {
    "text": "do is we have a dedicated",
    "start": "354160",
    "end": "356080"
  },
  {
    "text": "go routine that runs that watches when",
    "start": "356080",
    "end": "358639"
  },
  {
    "text": "we become leader by watching that",
    "start": "358639",
    "end": "360000"
  },
  {
    "text": "channel",
    "start": "360000",
    "end": "360560"
  },
  {
    "text": "when we do become leader it fires off an",
    "start": "360560",
    "end": "362479"
  },
  {
    "text": "update",
    "start": "362479",
    "end": "363759"
  },
  {
    "text": "and then does nothing for the rest of",
    "start": "363759",
    "end": "365520"
  },
  {
    "text": "the lifetime of the program",
    "start": "365520",
    "end": "368400"
  },
  {
    "text": "there's a few other parts of contour run",
    "start": "368639",
    "end": "371600"
  },
  {
    "text": "in separate go routines that",
    "start": "371600",
    "end": "373039"
  },
  {
    "text": "will check the status of that channel as",
    "start": "373039",
    "end": "375520"
  },
  {
    "text": "well and if it's been closed then they",
    "start": "375520",
    "end": "376960"
  },
  {
    "text": "know that it's the leader",
    "start": "376960",
    "end": "379520"
  },
  {
    "text": "and the um and they will",
    "start": "379520",
    "end": "383039"
  },
  {
    "text": "send updates to the to the api server",
    "start": "383039",
    "end": "385759"
  },
  {
    "text": "via being the",
    "start": "385759",
    "end": "387199"
  },
  {
    "text": "because they're the leader that's how we",
    "start": "387199",
    "end": "388880"
  },
  {
    "text": "do things in contour because we're using",
    "start": "388880",
    "end": "390800"
  },
  {
    "text": "um that um multi-reader",
    "start": "390800",
    "end": "394560"
  },
  {
    "text": "writer is the leader pattern this",
    "start": "394560",
    "end": "397680"
  },
  {
    "text": "means that all of the different",
    "start": "397680",
    "end": "399680"
  },
  {
    "text": "instances can read",
    "start": "399680",
    "end": "400880"
  },
  {
    "text": "from the api server and only the leader",
    "start": "400880",
    "end": "402400"
  },
  {
    "text": "will actually write things back",
    "start": "402400",
    "end": "405520"
  },
  {
    "text": "the the main package for actually using",
    "start": "405680",
    "end": "408720"
  },
  {
    "text": "this",
    "start": "408720",
    "end": "409039"
  },
  {
    "text": "is the client go tools leader election",
    "start": "409039",
    "end": "411280"
  },
  {
    "text": "that's the actual one that has all of",
    "start": "411280",
    "end": "412800"
  },
  {
    "text": "the calls to start the leader election",
    "start": "412800",
    "end": "414560"
  },
  {
    "text": "to run it",
    "start": "414560",
    "end": "415199"
  },
  {
    "text": "some helpers that sort of thing that's",
    "start": "415199",
    "end": "417039"
  },
  {
    "text": "where i'd suggest you go",
    "start": "417039",
    "end": "418720"
  },
  {
    "text": "to do the things you need now uh",
    "start": "418720",
    "end": "422960"
  },
  {
    "text": "sorry actually i've forgotten something",
    "start": "422960",
    "end": "424400"
  },
  {
    "text": "there um the there is",
    "start": "424400",
    "end": "426960"
  },
  {
    "text": "there is another example of uh",
    "start": "426960",
    "end": "430400"
  },
  {
    "text": "someone doing this but",
    "start": "430400",
    "end": "434080"
  },
  {
    "text": "oh no sorry i'll put that in one place",
    "start": "434080",
    "end": "437039"
  },
  {
    "text": "so",
    "start": "437039",
    "end": "438160"
  },
  {
    "text": "anyway so let's get on to the usage",
    "start": "438160",
    "end": "439440"
  },
  {
    "text": "guidelines this is this is the main",
    "start": "439440",
    "end": "440639"
  },
  {
    "text": "thing that i need to tell you about",
    "start": "440639",
    "end": "442560"
  },
  {
    "text": "um so my first guideline is",
    "start": "442560",
    "end": "445680"
  },
  {
    "text": "don't try and clean up if your instance",
    "start": "445680",
    "end": "447440"
  },
  {
    "text": "is deposed somehow use kubernetes",
    "start": "447440",
    "end": "449280"
  },
  {
    "text": "instead",
    "start": "449280",
    "end": "450240"
  },
  {
    "text": "what i mean by that is if your instance",
    "start": "450240",
    "end": "452000"
  },
  {
    "text": "is deposed",
    "start": "452000",
    "end": "453440"
  },
  {
    "text": "that means that for some reason your",
    "start": "453440",
    "end": "455199"
  },
  {
    "text": "instance became the leader",
    "start": "455199",
    "end": "456880"
  },
  {
    "text": "and then the stuff the properties of",
    "start": "456880",
    "end": "460080"
  },
  {
    "text": "the object were edited by something else",
    "start": "460080",
    "end": "463599"
  },
  {
    "text": "and made you not the leader anymore now",
    "start": "463599",
    "end": "466080"
  },
  {
    "text": "uh",
    "start": "466080",
    "end": "466639"
  },
  {
    "text": "so what we need to do in that case is",
    "start": "466639",
    "end": "469759"
  },
  {
    "text": "you need to go around and restart the",
    "start": "469759",
    "end": "472720"
  },
  {
    "text": "leadership again",
    "start": "472720",
    "end": "473599"
  },
  {
    "text": "the leadership election again in order",
    "start": "473599",
    "end": "475520"
  },
  {
    "text": "to be able to make sure that your",
    "start": "475520",
    "end": "478000"
  },
  {
    "text": "that that you can rejoin as a new",
    "start": "478000",
    "end": "480080"
  },
  {
    "text": "instance now you could do this in code",
    "start": "480080",
    "end": "481919"
  },
  {
    "text": "by",
    "start": "481919",
    "end": "482560"
  },
  {
    "text": "you know sending yourself back to the",
    "start": "482560",
    "end": "484240"
  },
  {
    "text": "start starting some new go routines",
    "start": "484240",
    "end": "485919"
  },
  {
    "text": "cleaning up after yourself",
    "start": "485919",
    "end": "487360"
  },
  {
    "text": "doing all that sort of stuff but instead",
    "start": "487360",
    "end": "488560"
  },
  {
    "text": "of doing that it's much quicker that if",
    "start": "488560",
    "end": "490319"
  },
  {
    "text": "you",
    "start": "490319",
    "end": "490639"
  },
  {
    "text": "do happen to get deposed as the leader",
    "start": "490639",
    "end": "492479"
  },
  {
    "text": "you just close down and then kubernetes",
    "start": "492479",
    "end": "494400"
  },
  {
    "text": "will restart you",
    "start": "494400",
    "end": "495680"
  },
  {
    "text": "and you'll come up as a regular member",
    "start": "495680",
    "end": "498080"
  },
  {
    "text": "and participate in leader elections",
    "start": "498080",
    "end": "499919"
  },
  {
    "text": "maybe you'll be the leader maybe you",
    "start": "499919",
    "end": "501199"
  },
  {
    "text": "won't",
    "start": "501199",
    "end": "501840"
  },
  {
    "text": "um it's a much easier way and ensures a",
    "start": "501840",
    "end": "504560"
  },
  {
    "text": "much cleaner",
    "start": "504560",
    "end": "506000"
  },
  {
    "text": "flow through your program so i",
    "start": "506000",
    "end": "508000"
  },
  {
    "text": "definitely strongly recommend it",
    "start": "508000",
    "end": "510720"
  },
  {
    "text": "um secondly this is a human scale lock",
    "start": "510720",
    "end": "512800"
  },
  {
    "text": "not a machine scale one what do i mean",
    "start": "512800",
    "end": "514320"
  },
  {
    "text": "by that well",
    "start": "514320",
    "end": "515279"
  },
  {
    "text": "the default timeouts for this uh",
    "start": "515279",
    "end": "521839"
  },
  {
    "text": "there's two failed checks the the leader",
    "start": "522479",
    "end": "524800"
  },
  {
    "text": "should be heart beating",
    "start": "524800",
    "end": "525839"
  },
  {
    "text": "it's um the odd the shared object every",
    "start": "525839",
    "end": "527920"
  },
  {
    "text": "ten seconds and if it misses two",
    "start": "527920",
    "end": "529920"
  },
  {
    "text": "then all the other things say oh no uh",
    "start": "529920",
    "end": "532160"
  },
  {
    "text": "it's time to do another later election",
    "start": "532160",
    "end": "534240"
  },
  {
    "text": "and that leader election can take sort",
    "start": "534240",
    "end": "535680"
  },
  {
    "text": "of five to ten seconds",
    "start": "535680",
    "end": "537279"
  },
  {
    "text": "so the the total time for this from",
    "start": "537279",
    "end": "542560"
  },
  {
    "text": "you the actual leader pod disappeared to",
    "start": "542560",
    "end": "545120"
  },
  {
    "text": "when the",
    "start": "545120",
    "end": "546080"
  },
  {
    "text": "pod a new part is elected leader is on",
    "start": "546080",
    "end": "548880"
  },
  {
    "text": "the order of 30 seconds",
    "start": "548880",
    "end": "550399"
  },
  {
    "text": "what that means is don't use it for",
    "start": "550399",
    "end": "552480"
  },
  {
    "text": "stuff that sub 30 seconds",
    "start": "552480",
    "end": "554080"
  },
  {
    "text": "so if you're if you need guaranteed",
    "start": "554080",
    "end": "558000"
  },
  {
    "text": "leader operations happen and you can't",
    "start": "558000",
    "end": "559839"
  },
  {
    "text": "have them disappear for 30 seconds",
    "start": "559839",
    "end": "562160"
  },
  {
    "text": "this is not the distributed lock for you",
    "start": "562160",
    "end": "563680"
  },
  {
    "text": "you should be using some other more",
    "start": "563680",
    "end": "564959"
  },
  {
    "text": "advanced",
    "start": "564959",
    "end": "565600"
  },
  {
    "text": "distributing locking function the thing",
    "start": "565600",
    "end": "567120"
  },
  {
    "text": "that is great for is you're just running",
    "start": "567120",
    "end": "568720"
  },
  {
    "text": "multiple pods",
    "start": "568720",
    "end": "569760"
  },
  {
    "text": "it's okay if they if whatever it's doing",
    "start": "569760",
    "end": "573120"
  },
  {
    "text": "doesn't run for 30 seconds",
    "start": "573120",
    "end": "576320"
  },
  {
    "text": "and usually that's for you know you're",
    "start": "576320",
    "end": "578240"
  },
  {
    "text": "running some controller that reconciles",
    "start": "578240",
    "end": "579920"
  },
  {
    "text": "on",
    "start": "579920",
    "end": "580240"
  },
  {
    "text": "object entry and you or and maybe",
    "start": "580240",
    "end": "583360"
  },
  {
    "text": "reaches out and does something",
    "start": "583360",
    "end": "585200"
  },
  {
    "text": "and it's okay if that gets delayed 30",
    "start": "585200",
    "end": "586720"
  },
  {
    "text": "seconds",
    "start": "586720",
    "end": "589040"
  },
  {
    "text": "thirdly be aware of what you're using to",
    "start": "589279",
    "end": "590880"
  },
  {
    "text": "distribute a lot for i've mentioned a",
    "start": "590880",
    "end": "592240"
  },
  {
    "text": "couple of the different patterns i'm",
    "start": "592240",
    "end": "593360"
  },
  {
    "text": "about to go on and talk a little bit",
    "start": "593360",
    "end": "594720"
  },
  {
    "text": "more about them in detail",
    "start": "594720",
    "end": "596240"
  },
  {
    "text": "but the you know the key thing here is",
    "start": "596240",
    "end": "599120"
  },
  {
    "text": "you just need to make sure that you're",
    "start": "599120",
    "end": "600399"
  },
  {
    "text": "understanding what the",
    "start": "600399",
    "end": "602560"
  },
  {
    "text": "your what's the key thing that you're",
    "start": "602560",
    "end": "604720"
  },
  {
    "text": "trying to get out of using leader",
    "start": "604720",
    "end": "605920"
  },
  {
    "text": "election maybe it's just",
    "start": "605920",
    "end": "607120"
  },
  {
    "text": "hey i've got a simple controller and i",
    "start": "607120",
    "end": "608720"
  },
  {
    "text": "want it to be aj",
    "start": "608720",
    "end": "610240"
  },
  {
    "text": "that's fine you know you just got to",
    "start": "610240",
    "end": "611920"
  },
  {
    "text": "make sure that you're aware of the",
    "start": "611920",
    "end": "613440"
  },
  {
    "text": "trade-offs and the",
    "start": "613440",
    "end": "614720"
  },
  {
    "text": "the pieces that you need in place to do",
    "start": "614720",
    "end": "616839"
  },
  {
    "text": "that okay",
    "start": "616839",
    "end": "618480"
  },
  {
    "text": "so let's talk a little bit more about",
    "start": "618480",
    "end": "621519"
  },
  {
    "text": "specific patterns",
    "start": "621519",
    "end": "622880"
  },
  {
    "text": "the most simple one is the basic",
    "start": "622880",
    "end": "626160"
  },
  {
    "text": "controller or operator",
    "start": "626160",
    "end": "627519"
  },
  {
    "text": "um i sort of alluded to this a little",
    "start": "627519",
    "end": "630079"
  },
  {
    "text": "earlier",
    "start": "630079",
    "end": "630800"
  },
  {
    "text": "this is one where it just watches",
    "start": "630800",
    "end": "632240"
  },
  {
    "text": "kubernetes objects and does stuff based",
    "start": "632240",
    "end": "634079"
  },
  {
    "text": "on it",
    "start": "634079",
    "end": "634720"
  },
  {
    "text": "it doesn't pretend present its own",
    "start": "634720",
    "end": "636399"
  },
  {
    "text": "endpoints for anything other than health",
    "start": "636399",
    "end": "637680"
  },
  {
    "text": "checking or metrics",
    "start": "637680",
    "end": "638800"
  },
  {
    "text": "and the stuff that it does could be in",
    "start": "638800",
    "end": "640959"
  },
  {
    "text": "cluster or it could be",
    "start": "640959",
    "end": "642320"
  },
  {
    "text": "reaching outside the cluster",
    "start": "642320",
    "end": "647040"
  },
  {
    "text": "the trick is here just use the leader",
    "start": "647040",
    "end": "648959"
  },
  {
    "text": "lock to block the code that actually",
    "start": "648959",
    "end": "650240"
  },
  {
    "text": "does stuff",
    "start": "650240",
    "end": "651040"
  },
  {
    "text": "so if you again if you're using cube",
    "start": "651040",
    "end": "652399"
  },
  {
    "text": "builder then a lot of this stuff is",
    "start": "652399",
    "end": "653519"
  },
  {
    "text": "handled for you because of the way the",
    "start": "653519",
    "end": "654800"
  },
  {
    "text": "whole framework is designed",
    "start": "654800",
    "end": "656160"
  },
  {
    "text": "but if you're doing something that you",
    "start": "656160",
    "end": "658079"
  },
  {
    "text": "that you've written",
    "start": "658079",
    "end": "659279"
  },
  {
    "text": "then that's the trick is if you're doing",
    "start": "659279",
    "end": "660959"
  },
  {
    "text": "this sort of basic",
    "start": "660959",
    "end": "662640"
  },
  {
    "text": "basic lock then just have the have the",
    "start": "662640",
    "end": "665440"
  },
  {
    "text": "lock block",
    "start": "665440",
    "end": "666800"
  },
  {
    "text": "the uh the area of the code that",
    "start": "666800",
    "end": "668640"
  },
  {
    "text": "actually does the stuff that",
    "start": "668640",
    "end": "670079"
  },
  {
    "text": "you want only the leader to do",
    "start": "670079",
    "end": "674320"
  },
  {
    "text": "so yeah as i said before for queue",
    "start": "674320",
    "end": "676720"
  },
  {
    "text": "builders the reconcile has a leader",
    "start": "676720",
    "end": "678320"
  },
  {
    "text": "elected so only one instance will",
    "start": "678320",
    "end": "679680"
  },
  {
    "text": "actually do anything",
    "start": "679680",
    "end": "680640"
  },
  {
    "text": "if you haven't used qbuilder before the",
    "start": "680640",
    "end": "682880"
  },
  {
    "text": "way it works is",
    "start": "682880",
    "end": "683839"
  },
  {
    "text": "you add any crds you want to",
    "start": "683839",
    "end": "687440"
  },
  {
    "text": "manage and then for each type of",
    "start": "687440",
    "end": "689760"
  },
  {
    "text": "resource that you want to manage you",
    "start": "689760",
    "end": "691120"
  },
  {
    "text": "have a reconcile",
    "start": "691120",
    "end": "692480"
  },
  {
    "text": "method that will take the name of the",
    "start": "692480",
    "end": "695600"
  },
  {
    "text": "thing that",
    "start": "695600",
    "end": "696399"
  },
  {
    "text": "has changed or been added or deleted and",
    "start": "696399",
    "end": "698800"
  },
  {
    "text": "it will",
    "start": "698800",
    "end": "699519"
  },
  {
    "text": "figure out if it's been changed added or",
    "start": "699519",
    "end": "700959"
  },
  {
    "text": "deleted do whatever it's got to do and",
    "start": "700959",
    "end": "702480"
  },
  {
    "text": "then write any changes back to the api",
    "start": "702480",
    "end": "704240"
  },
  {
    "text": "server",
    "start": "704240",
    "end": "704880"
  },
  {
    "text": "so having those things be leader elected",
    "start": "704880",
    "end": "706480"
  },
  {
    "text": "is great it means you can have as i said",
    "start": "706480",
    "end": "708399"
  },
  {
    "text": "you can sprinkle that bit of ha on it by",
    "start": "708399",
    "end": "711040"
  },
  {
    "text": "having",
    "start": "711040",
    "end": "712079"
  },
  {
    "text": "lots of them running and only one of",
    "start": "712079",
    "end": "713519"
  },
  {
    "text": "them will be actually trying to do this",
    "start": "713519",
    "end": "714800"
  },
  {
    "text": "at once so you don't end up with races",
    "start": "714800",
    "end": "716240"
  },
  {
    "text": "and loft and locking problems there",
    "start": "716240",
    "end": "719760"
  },
  {
    "text": "with the informers the easiest way is",
    "start": "720000",
    "end": "721760"
  },
  {
    "text": "actually just to block main on becoming",
    "start": "721760",
    "end": "723440"
  },
  {
    "text": "the leader",
    "start": "723440",
    "end": "724160"
  },
  {
    "text": "so you do a bunch of setup get",
    "start": "724160",
    "end": "726560"
  },
  {
    "text": "everything running that needs to be",
    "start": "726560",
    "end": "727839"
  },
  {
    "text": "running and then",
    "start": "727839",
    "end": "729040"
  },
  {
    "text": "just start the leader election and then",
    "start": "729040",
    "end": "731519"
  },
  {
    "text": "just select on that channel and wait",
    "start": "731519",
    "end": "733040"
  },
  {
    "text": "until it's",
    "start": "733040",
    "end": "734079"
  },
  {
    "text": "and wait until you become the leader to",
    "start": "734079",
    "end": "735680"
  },
  {
    "text": "actually do anything or obviously until",
    "start": "735680",
    "end": "737279"
  },
  {
    "text": "you receive a signal to stop",
    "start": "737279",
    "end": "740399"
  },
  {
    "text": "so yeah so yeah sorry i said that the",
    "start": "740399",
    "end": "743040"
  },
  {
    "text": "wrong way um",
    "start": "743040",
    "end": "743760"
  },
  {
    "text": "the you can either shut down",
    "start": "743760",
    "end": "746880"
  },
  {
    "text": "or you lose the leadership in which case",
    "start": "746880",
    "end": "748800"
  },
  {
    "text": "you just shut down",
    "start": "748800",
    "end": "749920"
  },
  {
    "text": "and that's why using kubernetes to",
    "start": "749920",
    "end": "752160"
  },
  {
    "text": "restart you is",
    "start": "752160",
    "end": "753040"
  },
  {
    "text": "sort of makes it super clean makes it",
    "start": "753040",
    "end": "755200"
  },
  {
    "text": "really easy to understand",
    "start": "755200",
    "end": "756560"
  },
  {
    "text": "there's no sort of complicated cleanup",
    "start": "756560",
    "end": "758000"
  },
  {
    "text": "logic the complicated cleanup logic is",
    "start": "758000",
    "end": "759920"
  },
  {
    "text": "just completely consumed into the fact",
    "start": "759920",
    "end": "761360"
  },
  {
    "text": "that you",
    "start": "761360",
    "end": "761920"
  },
  {
    "text": "shut down drop your state on the",
    "start": "761920",
    "end": "766240"
  },
  {
    "text": "hi everyone sorry technical glitch there",
    "start": "767200",
    "end": "769120"
  },
  {
    "text": "um so",
    "start": "769120",
    "end": "770639"
  },
  {
    "text": "if you are going to uh lose leadership",
    "start": "770639",
    "end": "773040"
  },
  {
    "text": "in uh",
    "start": "773040",
    "end": "774160"
  },
  {
    "text": "if sorry if you are going to block your",
    "start": "774160",
    "end": "776480"
  },
  {
    "text": "main",
    "start": "776480",
    "end": "777200"
  },
  {
    "text": "um make sure that your health and",
    "start": "777200",
    "end": "778399"
  },
  {
    "text": "metrics end points are initialized first",
    "start": "778399",
    "end": "780480"
  },
  {
    "text": "um i know this because i created some up",
    "start": "780480",
    "end": "782880"
  },
  {
    "text": "some outages by",
    "start": "782880",
    "end": "784800"
  },
  {
    "text": "adding in uh leader election into a",
    "start": "784800",
    "end": "786959"
  },
  {
    "text": "service and forgetting to initialize the",
    "start": "786959",
    "end": "789120"
  },
  {
    "text": "health",
    "start": "789120",
    "end": "789600"
  },
  {
    "text": "uh the healthcare endpoint first and",
    "start": "789600",
    "end": "792720"
  },
  {
    "text": "so all of the non-uh leader",
    "start": "792720",
    "end": "795839"
  },
  {
    "text": "processes just continually restarted",
    "start": "795839",
    "end": "797519"
  },
  {
    "text": "because they never became healthy",
    "start": "797519",
    "end": "799519"
  },
  {
    "text": "so top tip make sure you make sure you",
    "start": "799519",
    "end": "803120"
  },
  {
    "text": "are pretty clear on all of the things",
    "start": "803120",
    "end": "804560"
  },
  {
    "text": "you need initialized",
    "start": "804560",
    "end": "807360"
  },
  {
    "text": "okay so another pattern is the malta",
    "start": "807360",
    "end": "810639"
  },
  {
    "text": "read",
    "start": "810639",
    "end": "811360"
  },
  {
    "text": "multi-read leader rights pattern this",
    "start": "811360",
    "end": "814079"
  },
  {
    "text": "one watches kubernetes objects",
    "start": "814079",
    "end": "815839"
  },
  {
    "text": "serves out endpoints of its own for some",
    "start": "815839",
    "end": "817360"
  },
  {
    "text": "reason and the leader",
    "start": "817360",
    "end": "820639"
  },
  {
    "text": "may it may take actions and update",
    "start": "820639",
    "end": "822480"
  },
  {
    "text": "objects in response so that's what you",
    "start": "822480",
    "end": "823920"
  },
  {
    "text": "want the leader to be the one that's",
    "start": "823920",
    "end": "825120"
  },
  {
    "text": "actually taking any actions and updating",
    "start": "825120",
    "end": "826720"
  },
  {
    "text": "objects so that again",
    "start": "826720",
    "end": "828320"
  },
  {
    "text": "only the there's only one of them taking",
    "start": "828320",
    "end": "830160"
  },
  {
    "text": "objects so you don't end up with race",
    "start": "830160",
    "end": "831440"
  },
  {
    "text": "problems",
    "start": "831440",
    "end": "832880"
  },
  {
    "text": "so contour is an example",
    "start": "832880",
    "end": "836399"
  },
  {
    "text": "contour's whole purpose is to watch",
    "start": "836399",
    "end": "837760"
  },
  {
    "text": "kubernetes objects and translate it",
    "start": "837760",
    "end": "839760"
  },
  {
    "text": "to envoy xds endpoints that config that",
    "start": "839760",
    "end": "843120"
  },
  {
    "text": "allows envoy",
    "start": "843120",
    "end": "844639"
  },
  {
    "text": "machines to connect to those endpoints",
    "start": "844639",
    "end": "846560"
  },
  {
    "text": "and configure themselves appropriately",
    "start": "846560",
    "end": "849920"
  },
  {
    "text": "so for contour the every instance does",
    "start": "849920",
    "end": "853440"
  },
  {
    "text": "that and then the leader is the one that",
    "start": "853440",
    "end": "854880"
  },
  {
    "text": "actually writes status updates back to",
    "start": "854880",
    "end": "856560"
  },
  {
    "text": "contours cids",
    "start": "856560",
    "end": "858079"
  },
  {
    "text": "our cid is called http proxy and so if",
    "start": "858079",
    "end": "860959"
  },
  {
    "text": "you create a http proxy",
    "start": "860959",
    "end": "863199"
  },
  {
    "text": "contour will write some information back",
    "start": "863199",
    "end": "865279"
  },
  {
    "text": "to that http proxy after it's",
    "start": "865279",
    "end": "867279"
  },
  {
    "text": "done its parsing of it to just indicate",
    "start": "867279",
    "end": "870959"
  },
  {
    "text": "if the http proxy",
    "start": "870959",
    "end": "872320"
  },
  {
    "text": "is has been parsed correctly and that",
    "start": "872320",
    "end": "874639"
  },
  {
    "text": "everything is okay",
    "start": "874639",
    "end": "876000"
  },
  {
    "text": "if it hasn't then it can surface exact",
    "start": "876000",
    "end": "877600"
  },
  {
    "text": "errors and all that sort of stuff",
    "start": "877600",
    "end": "879199"
  },
  {
    "text": "um so it's a very simple example of the",
    "start": "879199",
    "end": "881519"
  },
  {
    "text": "sort of information that you'd write",
    "start": "881519",
    "end": "883040"
  },
  {
    "text": "back",
    "start": "883040",
    "end": "883760"
  },
  {
    "text": "to um to an object but it's sort of so",
    "start": "883760",
    "end": "887120"
  },
  {
    "text": "illustrate here um cue builders web",
    "start": "887120",
    "end": "889440"
  },
  {
    "text": "hooks are another example of this",
    "start": "889440",
    "end": "890720"
  },
  {
    "text": "pattern where",
    "start": "890720",
    "end": "891760"
  },
  {
    "text": "the reconcilers as i said before are",
    "start": "891760",
    "end": "893519"
  },
  {
    "text": "later elected only the leader actually",
    "start": "893519",
    "end": "895199"
  },
  {
    "text": "does the reconciling",
    "start": "895199",
    "end": "896800"
  },
  {
    "text": "but the but the um",
    "start": "896800",
    "end": "900320"
  },
  {
    "text": "the non-leader instances can serve",
    "start": "900320",
    "end": "902240"
  },
  {
    "text": "defaulting conversion and validation web",
    "start": "902240",
    "end": "904160"
  },
  {
    "text": "hooks",
    "start": "904160",
    "end": "906480"
  },
  {
    "text": "so um the and those those are the ones",
    "start": "906560",
    "end": "909600"
  },
  {
    "text": "that",
    "start": "909600",
    "end": "909920"
  },
  {
    "text": "allow your cid to use those features",
    "start": "909920",
    "end": "915120"
  },
  {
    "text": "okay so and there's one more advanced",
    "start": "915519",
    "end": "917600"
  },
  {
    "text": "pattern which i thought was pretty nifty",
    "start": "917600",
    "end": "919600"
  },
  {
    "text": "which is a per cid leader election",
    "start": "919600",
    "end": "923040"
  },
  {
    "text": "k-native does this and breaks out the",
    "start": "923040",
    "end": "925360"
  },
  {
    "text": "leader election",
    "start": "925360",
    "end": "926160"
  },
  {
    "text": "by the object type so i think k native",
    "start": "926160",
    "end": "928800"
  },
  {
    "text": "has four or five different",
    "start": "928800",
    "end": "930639"
  },
  {
    "text": "uh cids and so they actually have a per",
    "start": "930639",
    "end": "934320"
  },
  {
    "text": "type uh crd a per type election sorry",
    "start": "934320",
    "end": "938240"
  },
  {
    "text": "and so what that does is it um it allows",
    "start": "938240",
    "end": "941279"
  },
  {
    "text": "you",
    "start": "941279",
    "end": "942000"
  },
  {
    "text": "to spread the reconciliation so canadian",
    "start": "942000",
    "end": "944399"
  },
  {
    "text": "breaks out to the",
    "start": "944399",
    "end": "945360"
  },
  {
    "text": "leader election by object type so what",
    "start": "945360",
    "end": "947279"
  },
  {
    "text": "that means is canada has four i think or",
    "start": "947279",
    "end": "949600"
  },
  {
    "text": "five",
    "start": "949600",
    "end": "950079"
  },
  {
    "text": "uh different cids and you can split up",
    "start": "950079",
    "end": "953279"
  },
  {
    "text": "the actual reconciliation",
    "start": "953279",
    "end": "955279"
  },
  {
    "text": "um and the of of each of those things",
    "start": "955279",
    "end": "957839"
  },
  {
    "text": "across",
    "start": "957839",
    "end": "958320"
  },
  {
    "text": "instances so if you if you're running",
    "start": "958320",
    "end": "960079"
  },
  {
    "text": "five instances",
    "start": "960079",
    "end": "961360"
  },
  {
    "text": "of your of your controller then you can",
    "start": "961360",
    "end": "964639"
  },
  {
    "text": "have five different instances holding",
    "start": "964639",
    "end": "967519"
  },
  {
    "text": "each one",
    "start": "967519",
    "end": "968079"
  },
  {
    "text": "holding a the lock for a particular type",
    "start": "968079",
    "end": "971040"
  },
  {
    "text": "of cid",
    "start": "971040",
    "end": "972480"
  },
  {
    "text": "okay in summary we have",
    "start": "972480",
    "end": "976000"
  },
  {
    "text": "leader election is great and you should",
    "start": "976000",
    "end": "977360"
  },
  {
    "text": "use it for all your kubernetes",
    "start": "977360",
    "end": "978560"
  },
  {
    "text": "controllers",
    "start": "978560",
    "end": "979839"
  },
  {
    "text": "no matter what framework you're using",
    "start": "979839",
    "end": "982880"
  },
  {
    "text": "a cube builder makes it really easy but",
    "start": "982880",
    "end": "984720"
  },
  {
    "text": "it's not hard to diy um",
    "start": "984720",
    "end": "986480"
  },
  {
    "text": "you just it's a little i'd say it's",
    "start": "986480",
    "end": "989199"
  },
  {
    "text": "involved but not difficult",
    "start": "989199",
    "end": "992560"
  },
  {
    "text": "let kubernetes handle the deposed case",
    "start": "992720",
    "end": "994560"
  },
  {
    "text": "by restarting your app",
    "start": "994560",
    "end": "995759"
  },
  {
    "text": "is my absolute number one top tip",
    "start": "995759",
    "end": "998959"
  },
  {
    "text": "and lastly think carefully about what",
    "start": "998959",
    "end": "1000639"
  },
  {
    "text": "you're going to use your lock for",
    "start": "1000639",
    "end": "1002959"
  },
  {
    "text": "make sure that the way that you're using",
    "start": "1002959",
    "end": "1005199"
  },
  {
    "text": "your lock gives you the options that you",
    "start": "1005199",
    "end": "1007279"
  },
  {
    "text": "need",
    "start": "1007279",
    "end": "1008079"
  },
  {
    "text": "if you're using it in a simple way for a",
    "start": "1008079",
    "end": "1010560"
  },
  {
    "text": "basic controller",
    "start": "1010560",
    "end": "1011920"
  },
  {
    "text": "you it's much easier to just make it so",
    "start": "1011920",
    "end": "1014079"
  },
  {
    "text": "that you only have one",
    "start": "1014079",
    "end": "1015680"
  },
  {
    "text": "instance doing any changes at once if",
    "start": "1015680",
    "end": "1017360"
  },
  {
    "text": "you're using more complicated things",
    "start": "1017360",
    "end": "1018800"
  },
  {
    "text": "it'll have necessary necessity be more",
    "start": "1018800",
    "end": "1020959"
  },
  {
    "text": "complicated",
    "start": "1020959",
    "end": "1022399"
  },
  {
    "text": "anyway thanks very much and i'm looking",
    "start": "1022399",
    "end": "1024720"
  },
  {
    "text": "forward to answering some questions",
    "start": "1024720",
    "end": "1028159"
  },
  {
    "text": "hi everyone i believe we're live uh",
    "start": "1033839",
    "end": "1037038"
  },
  {
    "text": "hopefully everyone can hear me",
    "start": "1037039",
    "end": "1039280"
  },
  {
    "text": "um so um thanks very much uh there's",
    "start": "1039280",
    "end": "1042160"
  },
  {
    "text": "been a few questions uh answered in the",
    "start": "1042160",
    "end": "1043760"
  },
  {
    "text": "queue",
    "start": "1043760",
    "end": "1044400"
  },
  {
    "text": "in the q a area please uh ask more we've",
    "start": "1044400",
    "end": "1046640"
  },
  {
    "text": "got plenty of time",
    "start": "1046640",
    "end": "1048000"
  },
  {
    "text": "uh and uh so i think there's only one",
    "start": "1048000",
    "end": "1050960"
  },
  {
    "text": "that i haven't",
    "start": "1050960",
    "end": "1051679"
  },
  {
    "text": "answered in the chat and that's um",
    "start": "1051679",
    "end": "1055200"
  },
  {
    "text": "thanks alex for your question about uh",
    "start": "1055200",
    "end": "1057840"
  },
  {
    "text": "what i mean by human scale vs machines",
    "start": "1057840",
    "end": "1059520"
  },
  {
    "text": "car locks",
    "start": "1059520",
    "end": "1060080"
  },
  {
    "text": "um i think that's just about how long",
    "start": "1060080",
    "end": "1062320"
  },
  {
    "text": "the lock lasts for",
    "start": "1062320",
    "end": "1063440"
  },
  {
    "text": "um the um the",
    "start": "1063440",
    "end": "1067039"
  },
  {
    "text": "the key the key thing a machine's car",
    "start": "1067039",
    "end": "1069120"
  },
  {
    "text": "lock is intended for sort of",
    "start": "1069120",
    "end": "1070320"
  },
  {
    "text": "second or sub-second resolution where",
    "start": "1070320",
    "end": "1072799"
  },
  {
    "text": "you know you might have a file that you",
    "start": "1072799",
    "end": "1074160"
  },
  {
    "text": "want to open and",
    "start": "1074160",
    "end": "1075280"
  },
  {
    "text": "you only want one thing or something",
    "start": "1075280",
    "end": "1076720"
  },
  {
    "text": "like that or you want to you know grab a",
    "start": "1076720",
    "end": "1078799"
  },
  {
    "text": "lock for some i o that you want to do",
    "start": "1078799",
    "end": "1080480"
  },
  {
    "text": "outside of your cluster",
    "start": "1080480",
    "end": "1081919"
  },
  {
    "text": "um i would not use leader election for",
    "start": "1081919",
    "end": "1084160"
  },
  {
    "text": "that um it's as i said",
    "start": "1084160",
    "end": "1085840"
  },
  {
    "text": "earlier um it's intended for times when",
    "start": "1085840",
    "end": "1088799"
  },
  {
    "text": "you've got like three or",
    "start": "1088799",
    "end": "1089760"
  },
  {
    "text": "three three or more pods running or",
    "start": "1089760",
    "end": "1091200"
  },
  {
    "text": "something like that and you want one of",
    "start": "1091200",
    "end": "1092720"
  },
  {
    "text": "them to become the leader in",
    "start": "1092720",
    "end": "1094000"
  },
  {
    "text": "some sort of 30 seconds or so time scale",
    "start": "1094000",
    "end": "1097120"
  },
  {
    "text": "so and the key part is that with the",
    "start": "1097120",
    "end": "1099039"
  },
  {
    "text": "default settings um",
    "start": "1099039",
    "end": "1100559"
  },
  {
    "text": "the leader election will only sort of",
    "start": "1100559",
    "end": "1102080"
  },
  {
    "text": "realize that the that a leader has gone",
    "start": "1102080",
    "end": "1103919"
  },
  {
    "text": "away after",
    "start": "1103919",
    "end": "1105120"
  },
  {
    "text": "15 seconds or so and then it will take",
    "start": "1105120",
    "end": "1106880"
  },
  {
    "text": "another 15 seconds or so to actually",
    "start": "1106880",
    "end": "1108799"
  },
  {
    "text": "finish a leader election",
    "start": "1108799",
    "end": "1111520"
  },
  {
    "text": "hopefully um sorry i'll put",
    "start": "1111520",
    "end": "1114640"
  },
  {
    "text": "that one in there yep um and so",
    "start": "1114640",
    "end": "1119039"
  },
  {
    "text": "there's another one there from ricardo",
    "start": "1119039",
    "end": "1122160"
  },
  {
    "text": "uh distributed leader election between",
    "start": "1122160",
    "end": "1123919"
  },
  {
    "text": "clusters oh that's a great idea that's",
    "start": "1123919",
    "end": "1125919"
  },
  {
    "text": "an interesting idea",
    "start": "1125919",
    "end": "1126799"
  },
  {
    "text": "um yeah um for that one you would",
    "start": "1126799",
    "end": "1129039"
  },
  {
    "text": "definitely need to do",
    "start": "1129039",
    "end": "1130799"
  },
  {
    "text": "um some sort of you you need to you need",
    "start": "1130799",
    "end": "1133840"
  },
  {
    "text": "to maintain your unlock",
    "start": "1133840",
    "end": "1135200"
  },
  {
    "text": "outside somehow you could probably do",
    "start": "1135200",
    "end": "1137440"
  },
  {
    "text": "something similar to what the leader",
    "start": "1137440",
    "end": "1138720"
  },
  {
    "text": "election code actually does",
    "start": "1138720",
    "end": "1140160"
  },
  {
    "text": "um the leader of election code actually",
    "start": "1140160",
    "end": "1141520"
  },
  {
    "text": "just attempts to write an annotation to",
    "start": "1141520",
    "end": "1144799"
  },
  {
    "text": "the conflict map",
    "start": "1144799",
    "end": "1145520"
  },
  {
    "text": "or to update the lease object and the",
    "start": "1145520",
    "end": "1148160"
  },
  {
    "text": "first person to",
    "start": "1148160",
    "end": "1149280"
  },
  {
    "text": "be able to update successfully with",
    "start": "1149280",
    "end": "1150799"
  },
  {
    "text": "their update they get the",
    "start": "1150799",
    "end": "1152400"
  },
  {
    "text": "um uh they get the",
    "start": "1152400",
    "end": "1155440"
  },
  {
    "text": "little lock so",
    "start": "1155440",
    "end": "1158640"
  },
  {
    "text": "yeah um so i would say for that um",
    "start": "1158640",
    "end": "1162160"
  },
  {
    "text": "that you you could implement something",
    "start": "1162160",
    "end": "1164480"
  },
  {
    "text": "similar yourself",
    "start": "1164480",
    "end": "1165840"
  },
  {
    "text": "um i'm i think that by default uh the",
    "start": "1165840",
    "end": "1169200"
  },
  {
    "text": "leader election code expects to be",
    "start": "1169200",
    "end": "1170400"
  },
  {
    "text": "running in the same cluster that you're",
    "start": "1170400",
    "end": "1171679"
  },
  {
    "text": "working in so you would have to",
    "start": "1171679",
    "end": "1172799"
  },
  {
    "text": "basically",
    "start": "1172799",
    "end": "1173760"
  },
  {
    "text": "copy uh the existing letter election",
    "start": "1173760",
    "end": "1176080"
  },
  {
    "text": "code",
    "start": "1176080",
    "end": "1177440"
  },
  {
    "text": "um yeah so",
    "start": "1177440",
    "end": "1180799"
  },
  {
    "text": "yeah i think i think that's one does",
    "start": "1180799",
    "end": "1182480"
  },
  {
    "text": "anyone else have anything um",
    "start": "1182480",
    "end": "1184320"
  },
  {
    "text": "yeah i think um for me the thing that uh",
    "start": "1184320",
    "end": "1188720"
  },
  {
    "text": "that i have found the most useful about",
    "start": "1188720",
    "end": "1190000"
  },
  {
    "text": "this thing is just that it is once you",
    "start": "1190000",
    "end": "1191440"
  },
  {
    "text": "get it working",
    "start": "1191440",
    "end": "1192080"
  },
  {
    "text": "it's pretty straightforward um you know",
    "start": "1192080",
    "end": "1194080"
  },
  {
    "text": "especially if you're using one of the",
    "start": "1194080",
    "end": "1195200"
  },
  {
    "text": "frameworks some i",
    "start": "1195200",
    "end": "1196240"
  },
  {
    "text": "only went into queue builder in this",
    "start": "1196240",
    "end": "1197440"
  },
  {
    "text": "talk but um most of the frameworks have",
    "start": "1197440",
    "end": "1200080"
  },
  {
    "text": "some support for helping you",
    "start": "1200080",
    "end": "1202000"
  },
  {
    "text": "make this a bit easier uh and but even",
    "start": "1202000",
    "end": "1204400"
  },
  {
    "text": "if you don't um",
    "start": "1204400",
    "end": "1205360"
  },
  {
    "text": "it's it's not too hard to get it running",
    "start": "1205360",
    "end": "1208080"
  },
  {
    "text": "and once you do",
    "start": "1208080",
    "end": "1209440"
  },
  {
    "text": "it do it does just let you make things a",
    "start": "1209440",
    "end": "1212080"
  },
  {
    "text": "lot easier",
    "start": "1212080",
    "end": "1221840"
  },
  {
    "text": "well uh seems like there's a",
    "start": "1227360",
    "end": "1231360"
  },
  {
    "text": "no the question's coming in um i",
    "start": "1231360",
    "end": "1235120"
  },
  {
    "text": "i guess we can i will be uh online in",
    "start": "1235120",
    "end": "1238320"
  },
  {
    "text": "the uh",
    "start": "1238320",
    "end": "1239600"
  },
  {
    "text": "in the custom extendicates uh",
    "start": "1239600",
    "end": "1243760"
  },
  {
    "text": "list uh channel on the the cncf slack uh",
    "start": "1243760",
    "end": "1248320"
  },
  {
    "text": "ready to answer any other questions you",
    "start": "1248320",
    "end": "1249760"
  },
  {
    "text": "might have um uh thanks mike",
    "start": "1249760",
    "end": "1252159"
  },
  {
    "text": "um that's uh that's really nice i",
    "start": "1252159",
    "end": "1255360"
  },
  {
    "text": "um might just thank me for the useful",
    "start": "1255360",
    "end": "1259200"
  },
  {
    "text": "talk",
    "start": "1259200",
    "end": "1259760"
  },
  {
    "text": "um so yeah uh yeah and uh please feel",
    "start": "1259760",
    "end": "1262320"
  },
  {
    "text": "free to hit me up uh either on the cncf",
    "start": "1262320",
    "end": "1264480"
  },
  {
    "text": "slack",
    "start": "1264480",
    "end": "1265039"
  },
  {
    "text": "i'm young nick there um you can hit me",
    "start": "1265039",
    "end": "1266960"
  },
  {
    "text": "up on twitter at youngnick",
    "start": "1266960",
    "end": "1268480"
  },
  {
    "text": "or on the uh kubernetes slack or i'm",
    "start": "1268480",
    "end": "1271760"
  },
  {
    "text": "also young nick",
    "start": "1271760",
    "end": "1274240"
  },
  {
    "text": "so with that uh i think we're done",
    "start": "1274240",
    "end": "1278159"
  },
  {
    "text": "thanks very much everybody uh and uh",
    "start": "1278159",
    "end": "1280080"
  },
  {
    "text": "look forward to seeing you around the",
    "start": "1280080",
    "end": "1281400"
  },
  {
    "text": "traps",
    "start": "1281400",
    "end": "1284400"
  }
]