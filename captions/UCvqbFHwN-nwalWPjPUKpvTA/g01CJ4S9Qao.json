[
  {
    "start": "0",
    "end": "205000"
  },
  {
    "text": "hello everyone welcome to cncf awesome",
    "start": "320",
    "end": "3360"
  },
  {
    "text": "day",
    "start": "3360",
    "end": "4560"
  },
  {
    "text": "my topic today is web assembly plus",
    "start": "4560",
    "end": "7520"
  },
  {
    "text": "application runtime brings a new area of",
    "start": "7520",
    "end": "10639"
  },
  {
    "text": "fuss",
    "start": "10639",
    "end": "12559"
  },
  {
    "text": "my name is jason song and currently work",
    "start": "12559",
    "end": "15759"
  },
  {
    "text": "for auto group",
    "start": "15759",
    "end": "17440"
  },
  {
    "text": "i'm now mainly focusing on cloud native",
    "start": "17440",
    "end": "20160"
  },
  {
    "text": "and micro service areas",
    "start": "20160",
    "end": "23600"
  },
  {
    "text": "we have deployed a large service mesh",
    "start": "23600",
    "end": "26320"
  },
  {
    "text": "cluster in our production environment up",
    "start": "26320",
    "end": "29599"
  },
  {
    "text": "and running for two years",
    "start": "29599",
    "end": "32480"
  },
  {
    "text": "the sidecar is named as motion",
    "start": "32480",
    "end": "35840"
  },
  {
    "text": "which is written in golang and provides",
    "start": "35840",
    "end": "38800"
  },
  {
    "text": "similar features as envoy",
    "start": "38800",
    "end": "42000"
  },
  {
    "text": "now there are more than 200k parts in",
    "start": "42000",
    "end": "45200"
  },
  {
    "text": "the service mesh cluster",
    "start": "45200",
    "end": "47039"
  },
  {
    "text": "and the service mesh has solved our",
    "start": "47039",
    "end": "49520"
  },
  {
    "text": "challenges in service connectivity areas",
    "start": "49520",
    "end": "52559"
  },
  {
    "text": "well",
    "start": "52559",
    "end": "54320"
  },
  {
    "text": "however",
    "start": "54320",
    "end": "55440"
  },
  {
    "text": "as a company with a lot of business",
    "start": "55440",
    "end": "57920"
  },
  {
    "text": "scenarios",
    "start": "57920",
    "end": "59120"
  },
  {
    "text": "we are still having challenges in other",
    "start": "59120",
    "end": "61440"
  },
  {
    "text": "areas like cache message queue etc",
    "start": "61440",
    "end": "66560"
  },
  {
    "text": "as the diagram shows they are tightly",
    "start": "66560",
    "end": "69360"
  },
  {
    "text": "coupled with the application code",
    "start": "69360",
    "end": "72479"
  },
  {
    "text": "for example",
    "start": "72479",
    "end": "73840"
  },
  {
    "text": "if we want to migrate the cache from",
    "start": "73840",
    "end": "76479"
  },
  {
    "text": "redis to memory cache",
    "start": "76479",
    "end": "78640"
  },
  {
    "text": "we need to upgrade the sdk on the",
    "start": "78640",
    "end": "81119"
  },
  {
    "text": "application site",
    "start": "81119",
    "end": "82640"
  },
  {
    "text": "and require the application to change",
    "start": "82640",
    "end": "85119"
  },
  {
    "text": "its code to use the new api",
    "start": "85119",
    "end": "88799"
  },
  {
    "text": "another problem is the cost of",
    "start": "88799",
    "end": "90920"
  },
  {
    "text": "multi-language support",
    "start": "90920",
    "end": "93280"
  },
  {
    "text": "since we need to develop the logic of",
    "start": "93280",
    "end": "95680"
  },
  {
    "text": "protocols codecs load balancing disaster",
    "start": "95680",
    "end": "99759"
  },
  {
    "text": "recovery for each language sdk",
    "start": "99759",
    "end": "103200"
  },
  {
    "text": "the cost is very high",
    "start": "103200",
    "end": "106720"
  },
  {
    "text": "in early 2020 billion ibraheem published",
    "start": "106720",
    "end": "110960"
  },
  {
    "text": "an article called multi-runtime",
    "start": "110960",
    "end": "113280"
  },
  {
    "text": "microservices architecture",
    "start": "113280",
    "end": "116159"
  },
  {
    "text": "the main idea is to abstract the various",
    "start": "116159",
    "end": "119600"
  },
  {
    "text": "distributed capabilities into",
    "start": "119600",
    "end": "121799"
  },
  {
    "text": "multi-runtime",
    "start": "121799",
    "end": "123520"
  },
  {
    "text": "so that the application no longer needs",
    "start": "123520",
    "end": "126320"
  },
  {
    "text": "to rely on specific sdks",
    "start": "126320",
    "end": "129360"
  },
  {
    "text": "but will interact with the wrong time",
    "start": "129360",
    "end": "131599"
  },
  {
    "text": "over the factor standards",
    "start": "131599",
    "end": "133680"
  },
  {
    "text": "such as http grpc",
    "start": "133680",
    "end": "137040"
  },
  {
    "text": "which then solves the challenges just",
    "start": "137040",
    "end": "140840"
  },
  {
    "text": "mentioned and that brings leoto",
    "start": "140840",
    "end": "144400"
  },
  {
    "text": "as shown in the diagram the auto is",
    "start": "144400",
    "end": "146959"
  },
  {
    "text": "built on top of motion",
    "start": "146959",
    "end": "149520"
  },
  {
    "text": "it provides a unified standard runtime",
    "start": "149520",
    "end": "152160"
  },
  {
    "text": "api",
    "start": "152160",
    "end": "153120"
  },
  {
    "text": "with various distributed capabilities",
    "start": "153120",
    "end": "156800"
  },
  {
    "text": "developers no longer need to care about",
    "start": "156800",
    "end": "159760"
  },
  {
    "text": "the differences in the implementation of",
    "start": "159760",
    "end": "162640"
  },
  {
    "text": "the underlying infrastructure",
    "start": "162640",
    "end": "165280"
  },
  {
    "text": "but only need to focus on what",
    "start": "165280",
    "end": "167280"
  },
  {
    "text": "capabilities they need and just call the",
    "start": "167280",
    "end": "170080"
  },
  {
    "text": "standard apis",
    "start": "170080",
    "end": "172480"
  },
  {
    "text": "speaking of the runtime api we know that",
    "start": "172480",
    "end": "175280"
  },
  {
    "text": "it is not easy to define a set of apis",
    "start": "175280",
    "end": "178560"
  },
  {
    "text": "with clear semantics and wide",
    "start": "178560",
    "end": "180879"
  },
  {
    "text": "application scenarios",
    "start": "180879",
    "end": "183200"
  },
  {
    "text": "so we are now working with devel",
    "start": "183200",
    "end": "185280"
  },
  {
    "text": "community",
    "start": "185280",
    "end": "186480"
  },
  {
    "text": "and alibaba to build the api",
    "start": "186480",
    "end": "189840"
  },
  {
    "text": "hope it could be a standard in the",
    "start": "189840",
    "end": "191680"
  },
  {
    "text": "future",
    "start": "191680",
    "end": "193360"
  },
  {
    "text": "here are some excerpts from the api",
    "start": "193360",
    "end": "195760"
  },
  {
    "text": "definition",
    "start": "195760",
    "end": "197040"
  },
  {
    "text": "we can see there are apis to invoke",
    "start": "197040",
    "end": "199360"
  },
  {
    "text": "services get set cache",
    "start": "199360",
    "end": "201760"
  },
  {
    "text": "published messages etc",
    "start": "201760",
    "end": "205120"
  },
  {
    "start": "205000",
    "end": "320000"
  },
  {
    "text": "in addition to normal applications we",
    "start": "205120",
    "end": "207840"
  },
  {
    "text": "are also exploring the fast area",
    "start": "207840",
    "end": "210640"
  },
  {
    "text": "web assembly aka wasam",
    "start": "210640",
    "end": "213440"
  },
  {
    "text": "was introduced to web browsers to",
    "start": "213440",
    "end": "216239"
  },
  {
    "text": "address performance issues with",
    "start": "216239",
    "end": "218239"
  },
  {
    "text": "javascript",
    "start": "218239",
    "end": "219920"
  },
  {
    "text": "however",
    "start": "219920",
    "end": "220959"
  },
  {
    "text": "its near native performance sandboxing",
    "start": "220959",
    "end": "224400"
  },
  {
    "text": "and portability features",
    "start": "224400",
    "end": "226560"
  },
  {
    "text": "also makes it attractive for fast",
    "start": "226560",
    "end": "229040"
  },
  {
    "text": "scenarios",
    "start": "229040",
    "end": "231360"
  },
  {
    "text": "with onesie razan provides a high level",
    "start": "231360",
    "end": "234480"
  },
  {
    "text": "model for accessing system resources",
    "start": "234480",
    "end": "237920"
  },
  {
    "text": "however in real cases there are many",
    "start": "237920",
    "end": "241120"
  },
  {
    "text": "other resources required to make a",
    "start": "241120",
    "end": "243840"
  },
  {
    "text": "normal application work",
    "start": "243840",
    "end": "246480"
  },
  {
    "text": "for example invoke services",
    "start": "246480",
    "end": "249519"
  },
  {
    "text": "get set cache",
    "start": "249519",
    "end": "251280"
  },
  {
    "text": "produce or consume messages etc",
    "start": "251280",
    "end": "254799"
  },
  {
    "text": "lack of these features",
    "start": "254799",
    "end": "256720"
  },
  {
    "text": "makes it hard to host the serverless",
    "start": "256720",
    "end": "259040"
  },
  {
    "text": "applications in wazon",
    "start": "259040",
    "end": "262560"
  },
  {
    "text": "as they also abstracts a standard api so",
    "start": "262880",
    "end": "266320"
  },
  {
    "text": "we think",
    "start": "266320",
    "end": "267360"
  },
  {
    "text": "why not deploying weather modules with",
    "start": "267360",
    "end": "269840"
  },
  {
    "text": "lee auto so that wasn't modules could",
    "start": "269840",
    "end": "273199"
  },
  {
    "text": "consume external services by of course",
    "start": "273199",
    "end": "276400"
  },
  {
    "text": "to lay out the cell car",
    "start": "276400",
    "end": "279199"
  },
  {
    "text": "however as motion also has the",
    "start": "279199",
    "end": "281919"
  },
  {
    "text": "capability to host whatsapp modules we",
    "start": "281919",
    "end": "285199"
  },
  {
    "text": "then think",
    "start": "285199",
    "end": "286400"
  },
  {
    "text": "why not we go further to combine them",
    "start": "286400",
    "end": "288800"
  },
  {
    "text": "together",
    "start": "288800",
    "end": "290320"
  },
  {
    "text": "then we have this diagram",
    "start": "290320",
    "end": "292400"
  },
  {
    "text": "the wazam host motion and the auto are",
    "start": "292400",
    "end": "296080"
  },
  {
    "text": "all logical components in one process",
    "start": "296080",
    "end": "299120"
  },
  {
    "text": "quantum host like wasm edge is embedded",
    "start": "299120",
    "end": "302479"
  },
  {
    "text": "in motion to host weather modules and",
    "start": "302479",
    "end": "305759"
  },
  {
    "text": "the auto is used to provide distributed",
    "start": "305759",
    "end": "309199"
  },
  {
    "text": "capabilities such as invoking services",
    "start": "309199",
    "end": "311919"
  },
  {
    "text": "reading cache",
    "start": "311919",
    "end": "313520"
  },
  {
    "text": "these capabilities are exported to wasm",
    "start": "313520",
    "end": "316560"
  },
  {
    "text": "as api similar to wazi",
    "start": "316560",
    "end": "320479"
  },
  {
    "start": "320000",
    "end": "596000"
  },
  {
    "text": "we wanted to develop a demo to prove",
    "start": "320479",
    "end": "322880"
  },
  {
    "text": "this concept",
    "start": "322880",
    "end": "325360"
  },
  {
    "text": "so we did some research and found there",
    "start": "325360",
    "end": "328000"
  },
  {
    "text": "has been some exploration",
    "start": "328000",
    "end": "330240"
  },
  {
    "text": "about how to integrate kubernetes with",
    "start": "330240",
    "end": "332880"
  },
  {
    "text": "wasm",
    "start": "332880",
    "end": "334320"
  },
  {
    "text": "the basic idea is to develop a container",
    "start": "334320",
    "end": "337199"
  },
  {
    "text": "d stream plugin so that when it receives",
    "start": "337199",
    "end": "340400"
  },
  {
    "text": "the request to create a container",
    "start": "340400",
    "end": "343360"
  },
  {
    "text": "it will hand over the actual creation",
    "start": "343360",
    "end": "345919"
  },
  {
    "text": "logic to start a wason runtime to host",
    "start": "345919",
    "end": "349919"
  },
  {
    "text": "the waza module",
    "start": "349919",
    "end": "352320"
  },
  {
    "text": "however",
    "start": "352320",
    "end": "353440"
  },
  {
    "text": "since we want to verify the nano process",
    "start": "353440",
    "end": "356000"
  },
  {
    "text": "architecture so we did some",
    "start": "356000",
    "end": "358240"
  },
  {
    "text": "customization",
    "start": "358240",
    "end": "360000"
  },
  {
    "text": "as the diagram shows we first start a",
    "start": "360000",
    "end": "363120"
  },
  {
    "text": "layout to run time on the node to serve",
    "start": "363120",
    "end": "366080"
  },
  {
    "text": "as the wasm host",
    "start": "366080",
    "end": "367759"
  },
  {
    "text": "and provide distributed capabilities",
    "start": "367759",
    "end": "371280"
  },
  {
    "text": "then we customize the container d shim",
    "start": "371280",
    "end": "373759"
  },
  {
    "text": "plugin",
    "start": "373759",
    "end": "374800"
  },
  {
    "text": "so that when it receives the request to",
    "start": "374800",
    "end": "377360"
  },
  {
    "text": "create a container",
    "start": "377360",
    "end": "379120"
  },
  {
    "text": "it will let leo 2 round was a module",
    "start": "379120",
    "end": "382720"
  },
  {
    "text": "instead of creating a container",
    "start": "382720",
    "end": "385919"
  },
  {
    "text": "with this solution we could reuse most",
    "start": "385919",
    "end": "388400"
  },
  {
    "text": "of the kubernetes capabilities and yet",
    "start": "388400",
    "end": "391440"
  },
  {
    "text": "achieve the effect of running multiple",
    "start": "391440",
    "end": "393600"
  },
  {
    "text": "watson modules as nano processes in",
    "start": "393600",
    "end": "396560"
  },
  {
    "text": "layout",
    "start": "396560",
    "end": "397680"
  },
  {
    "text": "and can also take advantage",
    "start": "397680",
    "end": "400000"
  },
  {
    "text": "of the auto's distributed capabilities",
    "start": "400000",
    "end": "404639"
  },
  {
    "text": "we also reuse docker to package weather",
    "start": "404720",
    "end": "407360"
  },
  {
    "text": "modules and submit them to docker hub",
    "start": "407360",
    "end": "410000"
  },
  {
    "text": "for distribution",
    "start": "410000",
    "end": "413039"
  },
  {
    "text": "here's a demo showing what we've",
    "start": "413120",
    "end": "415120"
  },
  {
    "text": "accomplished so far",
    "start": "415120",
    "end": "417599"
  },
  {
    "text": "there are two razon functions",
    "start": "417599",
    "end": "420160"
  },
  {
    "text": "the first function receives a http",
    "start": "420160",
    "end": "423120"
  },
  {
    "text": "request and extracts the book name from",
    "start": "423120",
    "end": "426319"
  },
  {
    "text": "the request",
    "start": "426319",
    "end": "428080"
  },
  {
    "text": "and then calls the second function to",
    "start": "428080",
    "end": "431039"
  },
  {
    "text": "query the inventory of the book",
    "start": "431039",
    "end": "433599"
  },
  {
    "text": "and finally we'll return the inventory",
    "start": "433599",
    "end": "436000"
  },
  {
    "text": "information to us",
    "start": "436000",
    "end": "438720"
  },
  {
    "text": "we defined the invoke service api with",
    "start": "438720",
    "end": "441599"
  },
  {
    "text": "function id method and param",
    "start": "441599",
    "end": "444639"
  },
  {
    "text": "so that they auto could use this",
    "start": "444639",
    "end": "446880"
  },
  {
    "text": "information to locate the function and",
    "start": "446880",
    "end": "450319"
  },
  {
    "text": "do the invocation",
    "start": "450319",
    "end": "453520"
  },
  {
    "text": "here is the second function",
    "start": "455440",
    "end": "457840"
  },
  {
    "text": "when it receives the request it will use",
    "start": "457840",
    "end": "460319"
  },
  {
    "text": "the book name to query redis for the",
    "start": "460319",
    "end": "463360"
  },
  {
    "text": "actual inventory and then return the",
    "start": "463360",
    "end": "466160"
  },
  {
    "text": "number to the caller",
    "start": "466160",
    "end": "469680"
  },
  {
    "text": "we defined the get state api with store",
    "start": "470000",
    "end": "472879"
  },
  {
    "text": "name and key so that they auto could",
    "start": "472879",
    "end": "475440"
  },
  {
    "text": "find the correct backend store and the",
    "start": "475440",
    "end": "478240"
  },
  {
    "text": "query the value",
    "start": "478240",
    "end": "481440"
  },
  {
    "text": "now let's build the programs to run some",
    "start": "482639",
    "end": "485599"
  },
  {
    "text": "modules",
    "start": "485599",
    "end": "488160"
  },
  {
    "text": "then we could use docker build to build",
    "start": "489199",
    "end": "491919"
  },
  {
    "text": "them into darker images",
    "start": "491919",
    "end": "495680"
  },
  {
    "text": "we also need to register the runtime",
    "start": "498560",
    "end": "500720"
  },
  {
    "text": "class to enable our custom container",
    "start": "500720",
    "end": "503280"
  },
  {
    "text": "runtime",
    "start": "503280",
    "end": "506280"
  },
  {
    "text": "after that we could deploy the wasan",
    "start": "506479",
    "end": "508800"
  },
  {
    "text": "functions with normal port definitions",
    "start": "508800",
    "end": "513560"
  },
  {
    "text": "to make the query work let's",
    "start": "525839",
    "end": "527680"
  },
  {
    "text": "pre-configure the inventory to 100.",
    "start": "527680",
    "end": "532080"
  },
  {
    "text": "let's check the function status",
    "start": "532080",
    "end": "534959"
  },
  {
    "text": "now let's query the inventory for book",
    "start": "534959",
    "end": "537200"
  },
  {
    "text": "one",
    "start": "537200",
    "end": "539519"
  },
  {
    "text": "we can see it works",
    "start": "540080",
    "end": "542000"
  },
  {
    "text": "let's change inventory to 99",
    "start": "542000",
    "end": "546399"
  },
  {
    "text": "and yeah it returns the latest value",
    "start": "546640",
    "end": "549040"
  },
  {
    "text": "cool",
    "start": "549040",
    "end": "551279"
  },
  {
    "text": "and finally let's clean up the resources",
    "start": "555360",
    "end": "560519"
  },
  {
    "text": "i hope this demo explains our idea",
    "start": "565360",
    "end": "568000"
  },
  {
    "text": "clearly",
    "start": "568000",
    "end": "569680"
  },
  {
    "text": "with this demo we proved this idea could",
    "start": "569680",
    "end": "572720"
  },
  {
    "text": "work and we believe",
    "start": "572720",
    "end": "574720"
  },
  {
    "text": "with the fast development of web",
    "start": "574720",
    "end": "577040"
  },
  {
    "text": "assembly and application runtime",
    "start": "577040",
    "end": "579839"
  },
  {
    "text": "the possibility to bring a new area of",
    "start": "579839",
    "end": "582720"
  },
  {
    "text": "fuss",
    "start": "582720",
    "end": "583600"
  },
  {
    "text": "will eventually come true",
    "start": "583600",
    "end": "586800"
  },
  {
    "text": "ok that's all for my talk thanks for",
    "start": "586800",
    "end": "589680"
  },
  {
    "text": "watching",
    "start": "589680",
    "end": "590480"
  },
  {
    "text": "and you may check out our github",
    "start": "590480",
    "end": "592399"
  },
  {
    "text": "repository for more information",
    "start": "592399",
    "end": "594720"
  },
  {
    "text": "have a great day bye bye",
    "start": "594720",
    "end": "598639"
  }
]