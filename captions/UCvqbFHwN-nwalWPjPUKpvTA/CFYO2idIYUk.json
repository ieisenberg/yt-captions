[
  {
    "text": "um well thank you for attending this Workshop we're going to be talking about istio ambient mesh",
    "start": "4080",
    "end": "9780"
  },
  {
    "text": "before we get started um I'd like to introduce the folks who will be running the um the workshop for",
    "start": "9780",
    "end": "16859"
  },
  {
    "text": "all of you so I'm I'm Christian Posta the global field CTO at solo.io and I",
    "start": "16859",
    "end": "22920"
  },
  {
    "text": "have with me",
    "start": "22920",
    "end": "25580"
  },
  {
    "text": "hi I'm Nim I'm a diverald engineer at Google Cloud",
    "start": "28680",
    "end": "33920"
  },
  {
    "text": "awesome so we'll uh this is a Hands-On workshop and as we get into the labs if",
    "start": "37260",
    "end": "45059"
  },
  {
    "text": "you have questions or things aren't working then you know put your hand up and one of us will come and try to sort",
    "start": "45059",
    "end": "51780"
  },
  {
    "text": "it out for you how many of you in this room were at",
    "start": "51780",
    "end": "60059"
  },
  {
    "text": "um earlier sessions today maybe Lynn's session specifically about ambient mesh",
    "start": "60059",
    "end": "66600"
  },
  {
    "text": "most most people okay um that's that's good we'll do a quick overview of um of",
    "start": "66600",
    "end": "76500"
  },
  {
    "text": "ambient mesh um it sounds like some of you saw the uh I think it was the the life of the",
    "start": "76500",
    "end": "82920"
  },
  {
    "text": "packet through uh istio ambient mesh earlier um and so that that went into a lot more",
    "start": "82920",
    "end": "89759"
  },
  {
    "text": "detail but what we want to focus on here is setting the context getting some",
    "start": "89759",
    "end": "96600"
  },
  {
    "text": "understanding uh revisiting maybe the motivation for building ambient Ambient",
    "start": "96600",
    "end": "103140"
  },
  {
    "text": "mesh and then actually getting Hands-On and uh and deploying it and working through the configuration and the",
    "start": "103140",
    "end": "110100"
  },
  {
    "text": "experience of using the istio ambient mesh",
    "start": "110100",
    "end": "115100"
  },
  {
    "text": "so the the first thing that I do want to point on how it's related to ambient mesh is that istio's been around for",
    "start": "115740",
    "end": "122700"
  },
  {
    "text": "quite a while now and when you take something that is you know ends up being really critical",
    "start": "122700",
    "end": "130140"
  },
  {
    "text": "in your environment in your platforms something related to networking",
    "start": "130140",
    "end": "135540"
  },
  {
    "text": "something that's on the data path you know it takes a while to get that",
    "start": "135540",
    "end": "141840"
  },
  {
    "text": "infrastructure to be mature and stable and uh you know able to run in in these",
    "start": "141840",
    "end": "148440"
  },
  {
    "text": "environments and so istio's been around for a long time it's gone through its set of growing pains and the maturing",
    "start": "148440",
    "end": "155220"
  },
  {
    "text": "process and you know now we see you know certainly in the SEO community at solo",
    "start": "155220",
    "end": "162300"
  },
  {
    "text": "working with our customers we see istio it's probably the most deployed service",
    "start": "162300",
    "end": "167519"
  },
  {
    "text": "mesh certainly at Enterprise scale and extremely complex scenarios",
    "start": "167519",
    "end": "172940"
  },
  {
    "text": "and istio was just recently I think September 28th added to the the cncf",
    "start": "172940",
    "end": "181980"
  },
  {
    "text": "officially so it's part of the cncf landscape or cncf projects",
    "start": "181980",
    "end": "188780"
  },
  {
    "text": "and earlier in September we we being the istio community but it was it was a",
    "start": "188840",
    "end": "195780"
  },
  {
    "text": "joint effort before that to kind of prove out the concept through various pocs and building apis and understanding",
    "start": "195780",
    "end": "202680"
  },
  {
    "text": "the various components and trade-offs that we might need to make uh it was it was a joint collaboration between uh our engineering team at solo",
    "start": "202680",
    "end": "211159"
  },
  {
    "text": "and and Google and this came about because we had been researching and digging into how we",
    "start": "211159",
    "end": "218519"
  },
  {
    "text": "would kind of solve some of the the problems around service mesh adoption that",
    "start": "218519",
    "end": "224580"
  },
  {
    "text": "um we felt like the sidecar model was kind of inhibiting that and uh and and",
    "start": "224580",
    "end": "230940"
  },
  {
    "text": "we started working on that um and sharing some of the things that we were doing publicly and uh and ended up",
    "start": "230940",
    "end": "238200"
  },
  {
    "text": "working with with Google on trying to prove this out and then announced it to the open source project in September",
    "start": "238200",
    "end": "245400"
  },
  {
    "text": "the motivations for building out istio ambient mesh",
    "start": "245400",
    "end": "251480"
  },
  {
    "text": "are primarily around operations and onboarding and incremental adoption",
    "start": "251480",
    "end": "259079"
  },
  {
    "text": "of a mesh so I know we like I said if you've seen the overview that we've done earlier",
    "start": "259079",
    "end": "266880"
  },
  {
    "text": "today you'll see that things like sidecars are not first class Concepts in",
    "start": "266880",
    "end": "272520"
  },
  {
    "text": "kubernetes for example controlling the life cycle of the containers of the sidecar itself and how it's related to",
    "start": "272520",
    "end": "277860"
  },
  {
    "text": "the workload container you know there's a there's an inherent race condition there things like job resources so you",
    "start": "277860",
    "end": "285060"
  },
  {
    "text": "run a job resource with a sidecar and the job completes and the side car keeps",
    "start": "285060",
    "end": "290699"
  },
  {
    "text": "running so there's there's these use cases that make the sidecar not as transparent as",
    "start": "290699",
    "end": "296340"
  },
  {
    "text": "we like and even more burdensome in upgrade scenarios when we need to either",
    "start": "296340",
    "end": "302520"
  },
  {
    "text": "upgrade because there are new versions new features we want to take advantage of or there are cves that have been",
    "start": "302520",
    "end": "308040"
  },
  {
    "text": "discovered that necessitate upgrading and patching the the service mesh and so",
    "start": "308040",
    "end": "314880"
  },
  {
    "text": "for for operational reasons and there's a lot more actually Lynn sun and I wrote",
    "start": "314880",
    "end": "320699"
  },
  {
    "text": "a uh a quick little 40 page guide a book introducing istio ambient mesh that we",
    "start": "320699",
    "end": "326340"
  },
  {
    "text": "have physical copies that we'll be signing at the end of this Workshop I think outside of the solo Booth but you",
    "start": "326340",
    "end": "333780"
  },
  {
    "text": "can also go online and get an ebook about that that'll go into more detail",
    "start": "333780",
    "end": "340380"
  },
  {
    "text": "and more of that motivation certainly around the operational side now there are some side benefits I feel like",
    "start": "340380",
    "end": "347039"
  },
  {
    "text": "there's side benefits like I said the operational aspects are the or the motivation and the number one reason now",
    "start": "347039",
    "end": "355560"
  },
  {
    "text": "some of these side benefits include the um the cost reduction I think we did a",
    "start": "355560",
    "end": "361320"
  },
  {
    "text": "talk on um on on some of the cost savings and we did a Blog on this as well uh so and as",
    "start": "361320",
    "end": "368039"
  },
  {
    "text": "well as the some of the security posture we did a Blog on istio.io about uh",
    "start": "368039",
    "end": "373440"
  },
  {
    "text": "um about istio Ambience security posture and um and in in some areas how that can",
    "start": "373440",
    "end": "380580"
  },
  {
    "text": "be approved but improved by not uh using sidecars so what is uh istio ambient mesh it is a",
    "start": "380580",
    "end": "388919"
  },
  {
    "text": "sidecarless implementation of the istio data plane that um",
    "start": "388919",
    "end": "395639"
  },
  {
    "text": "like I said focuses more on deploying the mesh and operating the mesh transparently from the applications not",
    "start": "395639",
    "end": "402120"
  },
  {
    "text": "tying the data plane to or not tying the application to a particular",
    "start": "402120",
    "end": "407460"
  },
  {
    "text": "infrastructure component's life cycle so you can make these upgrades and patches",
    "start": "407460",
    "end": "412819"
  },
  {
    "text": "independent of uh of the applications and then there are these these benefits",
    "start": "412819",
    "end": "419460"
  },
  {
    "text": "to reducing the the number of proxies that are running the provisioning of resources in advance",
    "start": "419460",
    "end": "426360"
  },
  {
    "text": "um and uh and getting some of the uh when you run at scale being able to",
    "start": "426360",
    "end": "431759"
  },
  {
    "text": "optimize the uh the amount of compute and uh and resource that you need to run",
    "start": "431759",
    "end": "437220"
  },
  {
    "text": "the service mesh so the way that it works is instead of",
    "start": "437220",
    "end": "442560"
  },
  {
    "text": "running a sidecar proxy a full-blown layer 7 sidecar proxy next to each",
    "start": "442560",
    "end": "448080"
  },
  {
    "text": "application what we've uh each application instance what we've done in ISO ambient is that we've split up the",
    "start": "448080",
    "end": "455580"
  },
  {
    "text": "responsibilities of layer seven and this includes things like",
    "start": "455580",
    "end": "461720"
  },
  {
    "text": "request retries and header base match based load balancing and traffic",
    "start": "461720",
    "end": "468180"
  },
  {
    "text": "splitting those those fault injection those types of capabilities from the the",
    "start": "468180",
    "end": "474060"
  },
  {
    "text": "capabilities that are needed to secure the the traffic in in the service mesh",
    "start": "474060",
    "end": "480599"
  },
  {
    "text": "um so we've we've created a secure overlay layer that focuses on the",
    "start": "480599",
    "end": "487319"
  },
  {
    "text": "security properties of the mesh so mutual TLS um you know authorization policy some",
    "start": "487319",
    "end": "493740"
  },
  {
    "text": "limited authorization policies and that forms the foundation of the zero trust aspects of the mesh that can then you",
    "start": "493740",
    "end": "502199"
  },
  {
    "text": "can layer on the layer 7 capabilities as needed so so you'll be able to opt into into that we do that",
    "start": "502199",
    "end": "509340"
  },
  {
    "text": "with uh like I said two different layers of the data plane the layer 7 layer is",
    "start": "509340",
    "end": "515039"
  },
  {
    "text": "implemented by Envoy proxy and you'll see that in our uh in our Workshop today and layer four is is implemented it",
    "start": "515039",
    "end": "524640"
  },
  {
    "text": "technically is Envoy today but that is going to be optimized to be uh to be something else going forward it doesn't",
    "start": "524640",
    "end": "530040"
  },
  {
    "text": "need to be envoid um the istio control plane is still so",
    "start": "530040",
    "end": "537540"
  },
  {
    "text": "istio D and what you see if you're familiar with the sidecar approach the the istio control plane is still there",
    "start": "537540",
    "end": "543600"
  },
  {
    "text": "and that is what serves the configuration to the um the the secure",
    "start": "543600",
    "end": "549300"
  },
  {
    "text": "overlay layer that we'll see and to the layer 7 proxies which we call Waypoint",
    "start": "549300",
    "end": "554760"
  },
  {
    "text": "proxies um just like it does today it connects up to the side cars and gives it configuration updates and",
    "start": "554760",
    "end": "562279"
  },
  {
    "text": "takes care of routing and and the security",
    "start": "562279",
    "end": "567560"
  },
  {
    "text": "properties uh you see the same things acod is doing the same thing with the",
    "start": "567560",
    "end": "573180"
  },
  {
    "text": "with with these layer 4 and layer 7 proxies as well",
    "start": "573180",
    "end": "578600"
  },
  {
    "text": "now this is uh this is one aspect of what we at solo have been working on",
    "start": "578640",
    "end": "583740"
  },
  {
    "text": "that is the the glue platform that allows you to abstract away a lot of the",
    "start": "583740",
    "end": "589080"
  },
  {
    "text": "details of operating and running a mesh and now not just at the top layers of",
    "start": "589080",
    "end": "594120"
  },
  {
    "text": "your workflow layers but now down at the uh the workload layers as well where you",
    "start": "594120",
    "end": "599880"
  },
  {
    "text": "don't the the developers when you deploy your applications you don't see any uh any of these Sidecar proxies",
    "start": "599880",
    "end": "608459"
  },
  {
    "text": "so now going a level lower into the details and setting up the the workshop that",
    "start": "608459",
    "end": "614760"
  },
  {
    "text": "you'll be walking through is uh that secure overlay layer that I mentioned that operates at layer three",
    "start": "614760",
    "end": "620459"
  },
  {
    "text": "layer four that is implemented with the data plane components called the Z tunnel",
    "start": "620459",
    "end": "626220"
  },
  {
    "text": "and I mentioned when we released istio Ambien Z tunnel was or is based on Envoy",
    "start": "626220",
    "end": "633959"
  },
  {
    "text": "but only using the layer 4 capabilities in the mtls capabilities of envoy mostly",
    "start": "633959",
    "end": "639420"
  },
  {
    "text": "for expediency is why that that landed the way it did on an initial release but that's being optimized right now",
    "start": "639420",
    "end": "645860"
  },
  {
    "text": "I think last week in in the community we're discussing a rust based",
    "start": "645860",
    "end": "651120"
  },
  {
    "text": "implementation um and uh and and further optimizing the",
    "start": "651120",
    "end": "656339"
  },
  {
    "text": "uh the way we configured that component and its actual runtime characteristics",
    "start": "656339",
    "end": "662220"
  },
  {
    "text": "and so we'll see in the workshops that we can use the secure overlay layer that",
    "start": "662220",
    "end": "668459"
  },
  {
    "text": "uses these z-tunnel agents to implement the zero trusts capabilities of the mesh",
    "start": "668459",
    "end": "674700"
  },
  {
    "text": "without introducing layer 7 capabilities and then layer in those more advanced",
    "start": "674700",
    "end": "681120"
  },
  {
    "text": "capabilities on top of the the secure tunnel secure overlay mechanisms",
    "start": "681120",
    "end": "687000"
  },
  {
    "text": "when we do that we'll be introducing a layer 7 proxy that we call the Waypoint",
    "start": "687000",
    "end": "692100"
  },
  {
    "text": "proxy the Waypoint proxy is a policy enforcement point for these for",
    "start": "692100",
    "end": "699000"
  },
  {
    "text": "individual workloads in the previous talks we pointed out that the Waypoint proxy is deployed per service account",
    "start": "699000",
    "end": "705600"
  },
  {
    "text": "so that's very similar to the model that we see today with the sidecars where",
    "start": "705600",
    "end": "710940"
  },
  {
    "text": "each service account gets its own identity in the sidecar model it's the same thing that happens in in the istio",
    "start": "710940",
    "end": "717899"
  },
  {
    "text": "ambient data plane as well when traffic goes from an application to",
    "start": "717899",
    "end": "723360"
  },
  {
    "text": "another application it will First Traverse the Z tunnel and you know",
    "start": "723360",
    "end": "728820"
  },
  {
    "text": "that's where the the security properties will be implemented and then if it needs to go to a layer seven Waypoint proxy",
    "start": "728820",
    "end": "735660"
  },
  {
    "text": "that communication will be encrypted with mutual TLS and then the Waypoint proxy will then apply whatever layer 7",
    "start": "735660",
    "end": "742700"
  },
  {
    "text": "functionality or behavior that needs to take place and then send the traffic off",
    "start": "742700",
    "end": "748200"
  },
  {
    "text": "to the the destination and that will happen over Mutual TLS as well",
    "start": "748200",
    "end": "754279"
  },
  {
    "text": "the the communication protocol the overlay that we use between the Z",
    "start": "756120",
    "end": "761160"
  },
  {
    "text": "tunnels themselves or between the Z tunnel and the Waypoint proxies is a um",
    "start": "761160",
    "end": "766320"
  },
  {
    "text": "is a mechanism that uh is built on HTTP and is built to support uh various",
    "start": "766320",
    "end": "773519"
  },
  {
    "text": "intricacies of protocols and uh and uses Mutual TLS to uh to authenticate the the",
    "start": "773519",
    "end": "781980"
  },
  {
    "text": "traffic on both sides so I purposely went a little quick this",
    "start": "781980",
    "end": "789360"
  },
  {
    "text": "is not supposed to be a deep dive on uh on istio ambient because I want you to get Hands-On like I said see the",
    "start": "789360",
    "end": "795000"
  },
  {
    "text": "previous sessions from earlier today check out the istio ambient to explain book uh but now let's uh let's get",
    "start": "795000",
    "end": "802260"
  },
  {
    "text": "Hands-On and actually run the workshop so if you go to this this URL that you",
    "start": "802260",
    "end": "807779"
  },
  {
    "text": "see on here that should take you to the workshop environment and I'll have Ron walk you through those parts",
    "start": "807779",
    "end": "815120"
  },
  {
    "text": "all right uh we'll use this tool called instruct you know think of it as just a web",
    "start": "817139",
    "end": "824100"
  },
  {
    "text": "browser educational environment where in that in that in your browser you should be able to access the full terminal as",
    "start": "824100",
    "end": "831180"
  },
  {
    "text": "well as the instructions and we'll spin up kubernetes clusters in that environment and then run through the",
    "start": "831180",
    "end": "836880"
  },
  {
    "text": "process of installing istio ambient and deploy some applications and kind of play around with it",
    "start": "836880",
    "end": "843360"
  },
  {
    "text": "so if you go to this URL can everyone hear me okay okay if you go to this URL",
    "start": "843360",
    "end": "849360"
  },
  {
    "text": "you'll get taken to an instruct page where I'll say you know add this particular Workshop to my study room and",
    "start": "849360",
    "end": "856019"
  },
  {
    "text": "then you'll go to the study room and you should be able to kick off the workshop so I will switch",
    "start": "856019",
    "end": "862459"
  },
  {
    "text": "my windows and share my workshop environment",
    "start": "862459",
    "end": "868260"
  },
  {
    "text": "once you add it to your study room and launch the workshop you'll get a screen that kind of looks like this",
    "start": "868260",
    "end": "874620"
  },
  {
    "text": "and then if you hit start you'll see a terminal on your left",
    "start": "874620",
    "end": "880740"
  },
  {
    "text": "think of this terminal right now as just connected to a virtual machine where there's nothing on there yet you know",
    "start": "880740",
    "end": "887220"
  },
  {
    "text": "except some CLI tools like Cube cuddle that we'll leverage today is everyone on the screen any troubles",
    "start": "887220",
    "end": "896040"
  },
  {
    "text": "it might take about I don't know like 30 seconds to a minute for for the loading to complete but can I get a thumbs up if",
    "start": "896040",
    "end": "902399"
  },
  {
    "text": "someone's like done and they're they're seeing the screen okay so one",
    "start": "902399",
    "end": "909440"
  },
  {
    "text": "okay couple all right I'll I'll pause like another 20 seconds or so",
    "start": "913139",
    "end": "920779"
  },
  {
    "text": "is it working yeah I I saw a few thumbs up",
    "start": "927899",
    "end": "932959"
  },
  {
    "text": "okay great so like I said the stuff on the left is your terminal and things on the right or your",
    "start": "936240",
    "end": "942000"
  },
  {
    "text": "um of the instructions that you're going to follow so the format of this lab today I will do this step and I'll kind",
    "start": "942000",
    "end": "947820"
  },
  {
    "text": "of annotate it and give any information about what that step is doing and then I'll be like I'll pause for like a",
    "start": "947820",
    "end": "954000"
  },
  {
    "text": "couple seconds and then for you to do this to the same step with me first step is just to export an",
    "start": "954000",
    "end": "961320"
  },
  {
    "text": "environment variable for simplicity's sake for so so that we can reuse this environment variable later on in the lab",
    "start": "961320",
    "end": "966360"
  },
  {
    "text": "and then we will deploy um a cluster a local client cluster",
    "start": "966360",
    "end": "971820"
  },
  {
    "text": "that's going to run inside this virtual machine so this process takes about a couple minutes but essentially we're",
    "start": "971820",
    "end": "977399"
  },
  {
    "text": "just spinning up a kind cluster called which we're going to call cluster one so that'll be the name of the context and",
    "start": "977399",
    "end": "984060"
  },
  {
    "text": "then if you want to see exactly what this is doing what so while while this is running because this takes a couple",
    "start": "984060",
    "end": "990300"
  },
  {
    "text": "minutes you can click on the files tab and then if you open up the directory",
    "start": "990300",
    "end": "995399"
  },
  {
    "text": "structure on the left you'll see these these three folders this the the contents of this folders are going to be",
    "start": "995399",
    "end": "1002240"
  },
  {
    "text": "the files that we're going to use in the lab today so this first file that we're",
    "start": "1002240",
    "end": "1007759"
  },
  {
    "text": "looking at right now is this deploy multi sh and this is what is deploying this kind cluster",
    "start": "1007759",
    "end": "1015339"
  },
  {
    "text": "the kind cluster is going to be a four node kubernetes cluster",
    "start": "1018680",
    "end": "1024620"
  },
  {
    "text": "um and the fact that it's four nodes is going to be a point that we're going to come back to later so think about how",
    "start": "1024620",
    "end": "1030140"
  },
  {
    "text": "nodes relate to the Z tunnels and then you'll see the the mapping between the",
    "start": "1030140",
    "end": "1035780"
  },
  {
    "text": "two with a little bit later in the lab",
    "start": "1035780",
    "end": "1039040"
  },
  {
    "text": "okay so my my script is complete the next step just verifies that the",
    "start": "1057440",
    "end": "1065059"
  },
  {
    "text": "cluster is up and running it's just checking to see if all the pods in the cube system namespaces are",
    "start": "1065059",
    "end": "1070940"
  },
  {
    "text": "up and running so if this second squip returns that means that you're you're good to go to continue with the lab",
    "start": "1070940",
    "end": "1077720"
  },
  {
    "text": "so for me it's still waiting that just means that the pods and the keep system namespace are still kind of spinning up",
    "start": "1077720",
    "end": "1084880"
  },
  {
    "text": "all right so I'm done my kubernetes cluster is is up and running so if I do Cube cuddle I'll give nodes you'll see",
    "start": "1087020",
    "end": "1094160"
  },
  {
    "text": "my four node group cluster and then if I do if I list the pods in the group",
    "start": "1094160",
    "end": "1099799"
  },
  {
    "text": "system namespace for example you'll see you know things like Coupe proxy",
    "start": "1099799",
    "end": "1104840"
  },
  {
    "text": "and running",
    "start": "1104840",
    "end": "1107500"
  },
  {
    "text": "cool so most of you should be about this step right now so we have a clean kubernetes cluster the next thing we'll",
    "start": "1110900",
    "end": "1116539"
  },
  {
    "text": "do is we'll deploy istio um you know just like with it's with any standard istio you don't have to",
    "start": "1116539",
    "end": "1123260"
  },
  {
    "text": "download the the right binaries right um ambient is still an experimental so",
    "start": "1123260",
    "end": "1129919"
  },
  {
    "text": "it's it's still in preview mode so it's in an experimental Branch so this wget command goes to that location and gets",
    "start": "1129919",
    "end": "1137360"
  },
  {
    "text": "the the right binary so we're downloading the istiocado",
    "start": "1137360",
    "end": "1142400"
  },
  {
    "text": "binary from that experimental branch location and then extract it",
    "start": "1142400",
    "end": "1147860"
  },
  {
    "text": "and then you see we have the istiocado binary this is the experimental one and then we will install istio using",
    "start": "1147860",
    "end": "1155539"
  },
  {
    "text": "that binary so istiocado install but notice here I'm setting the profile to",
    "start": "1155539",
    "end": "1161419"
  },
  {
    "text": "ambient so the way you install istio is the same way you install istio today just like you have your default minimal",
    "start": "1161419",
    "end": "1167900"
  },
  {
    "text": "demo profile there's just another profile for ambient and this profile if you go look at like the Manifest",
    "start": "1167900",
    "end": "1174919"
  },
  {
    "text": "directory and pull up amient.yaml you'll see that how it configures things like the deployment of zetanol sets up the",
    "start": "1174919",
    "end": "1182059"
  },
  {
    "text": "cnis to Route traffic from your pod to Z tunnel Etc",
    "start": "1182059",
    "end": "1187340"
  },
  {
    "text": "so let's give that a minute to finish",
    "start": "1187340",
    "end": "1191140"
  },
  {
    "text": "once we completed that installation command if we check the",
    "start": "1214700",
    "end": "1219740"
  },
  {
    "text": "pods in the istio system namespace you'll now see obviously you'll see istio D and the istio Ingress Gateway",
    "start": "1219740",
    "end": "1226220"
  },
  {
    "text": "but now we also see four Z tunnels and the reason why we see four is because z-tunnel is deployed per node basis and",
    "start": "1226220",
    "end": "1232880"
  },
  {
    "text": "we have four kubernetes nodes so there's four Z tunnels",
    "start": "1232880",
    "end": "1237820"
  },
  {
    "text": "so what we've done so far is just install istio with the ambient profile but we don't have any applications yet",
    "start": "1244520",
    "end": "1251240"
  },
  {
    "text": "so let's do that next we will deploy the sample application",
    "start": "1251240",
    "end": "1256840"
  },
  {
    "text": "and uh pay attention to this diagram that's right above the deploy sample",
    "start": "1256840",
    "end": "1262520"
  },
  {
    "text": "application command essentially we're just going to use a sleep a client app that's going to call the web API service",
    "start": "1262520",
    "end": "1268460"
  },
  {
    "text": "the web API calls a recommendation and a recommendation calls purchase history so it's just a chain of upstreams",
    "start": "1268460",
    "end": "1277120"
  },
  {
    "text": "and if you're interested in looking at you know what exactly you know the deployment the service the service",
    "start": "1277820",
    "end": "1283220"
  },
  {
    "text": "accounts looks like you can always click on the files tab like I did before and pull up that enamel",
    "start": "1283220",
    "end": "1290500"
  },
  {
    "text": "so once you deployed that if you look at Cube cuddle get pods you'll see my five",
    "start": "1292340",
    "end": "1297799"
  },
  {
    "text": "applications that are running in the default namespace of course there's no sidecar for any of",
    "start": "1297799",
    "end": "1303860"
  },
  {
    "text": "these because I didn't label my namespace for a steel injection or anything like that it's just standard",
    "start": "1303860",
    "end": "1309140"
  },
  {
    "text": "kubernetes containers deployments to make sure that they're working we're",
    "start": "1309140",
    "end": "1315140"
  },
  {
    "text": "going to exec into the Sleep container and then from there we'll call going back up to this diagram",
    "start": "1315140",
    "end": "1322100"
  },
  {
    "text": "from the Sleep container we're going to execute to that and from there we're going to call Web API web API is going",
    "start": "1322100",
    "end": "1327200"
  },
  {
    "text": "to call recommendation recommendation is going to call purchase history if you look at the output",
    "start": "1327200",
    "end": "1333440"
  },
  {
    "text": "that from the curl command which called Web API you can see that you know this",
    "start": "1333440",
    "end": "1339380"
  },
  {
    "text": "stuff from the top is from web API but web API calls a recommendation and it",
    "start": "1339380",
    "end": "1345140"
  },
  {
    "text": "embeds that response into its own response so if you look in the Json one step and deeper you'll see this is a",
    "start": "1345140",
    "end": "1351799"
  },
  {
    "text": "recommendation and then if you go look at One More Level into it you'll see purchase history",
    "start": "1351799",
    "end": "1357320"
  },
  {
    "text": "and then the the 200 200 200 means that all three of them succeeded well",
    "start": "1357320",
    "end": "1363940"
  },
  {
    "text": "next we'll use the istio Gateway and virtual service resources to expose the",
    "start": "1374600",
    "end": "1380780"
  },
  {
    "text": "web API service through the istio Ingress Gateway so again you know take a look at those files if you're interested",
    "start": "1380780",
    "end": "1387039"
  },
  {
    "text": "if you're interested in the yaml but but yeah it's just a standard Gateway object that listens on a particular host and",
    "start": "1387039",
    "end": "1394400"
  },
  {
    "text": "then it uses a virtual service to to route from that gateway to the web API service",
    "start": "1394400",
    "end": "1399679"
  },
  {
    "text": "we'll set this environment variable to the IP address of the istio Ingress Gateway service and then if I do a curl",
    "start": "1399679",
    "end": "1406880"
  },
  {
    "text": "and specify the right host I should be able to get the same command that I got going through sleep",
    "start": "1406880",
    "end": "1413299"
  },
  {
    "text": "so now we're just accessing directly to web API from the istio Ingress Gateway",
    "start": "1413299",
    "end": "1419000"
  },
  {
    "text": "there's no sleep involved so we're still kind of setting the stage for everything we did install istio but we're not using",
    "start": "1419000",
    "end": "1425659"
  },
  {
    "text": "it yet we're still you know all basic kubernetes stuff",
    "start": "1425659",
    "end": "1430658"
  },
  {
    "text": "I'm pausing a couple seconds to make sure everyone's on the same step",
    "start": "1436760",
    "end": "1441799"
  },
  {
    "text": "okay in this next portion of the lab what we'll do is use TCP dump",
    "start": "1441799",
    "end": "1449000"
  },
  {
    "text": "to sniff the network traffic so we we've called Web API from sleep",
    "start": "1449000",
    "end": "1454940"
  },
  {
    "text": "and from Ingress Gateway web API called other services so by doing TCP dump if I",
    "start": "1454940",
    "end": "1462140"
  },
  {
    "text": "look at you know if I sniff some packets you'll see for example in my output I see that",
    "start": "1462140",
    "end": "1468620"
  },
  {
    "text": "somebody called the recommendation service on port 8080 and furthermore I can see all the headers",
    "start": "1468620",
    "end": "1475039"
  },
  {
    "text": "and information about that particular request so this means that this connection was not encrypted and someone",
    "start": "1475039",
    "end": "1481159"
  },
  {
    "text": "was able to use TCP dump to actually read that data",
    "start": "1481159",
    "end": "1486039"
  },
  {
    "text": "so we're still kind of like laying down all the groundwork and then the next portion of the lab will start using ambient",
    "start": "1492080",
    "end": "1498200"
  },
  {
    "text": "so if you're done with that click on check and can I get some like thumbs up that you know we're at the stage awesome",
    "start": "1498200",
    "end": "1504919"
  },
  {
    "text": "cool so you all are able to keep up just fine so I'll kind of increase my speed a",
    "start": "1504919",
    "end": "1509960"
  },
  {
    "text": "little bit next thing we'll do is we'll add those",
    "start": "1509960",
    "end": "1516740"
  },
  {
    "text": "sample applications to ambient and the way to do that is to label that",
    "start": "1516740",
    "end": "1523100"
  },
  {
    "text": "namespace the default namespace with istio.io dataplane mode equals ambient so similar to the sidecar mode where",
    "start": "1523100",
    "end": "1531260"
  },
  {
    "text": "you're labeling it with injection equals enabled or whatever the revision flag is we just have a new label for ambient the",
    "start": "1531260",
    "end": "1539299"
  },
  {
    "text": "beauty of ambient is that you don't have to restart your applications",
    "start": "1539299",
    "end": "1544340"
  },
  {
    "text": "um it is just turning it on and turning it off right like right now I just turned on ambient mode and all the",
    "start": "1544340",
    "end": "1550279"
  },
  {
    "text": "applications that are in this namespace are part of the mesh and to prove that",
    "start": "1550279",
    "end": "1555440"
  },
  {
    "text": "we can look at the logs of the istioc and iPod and you can see that it is",
    "start": "1555440",
    "end": "1561679"
  },
  {
    "text": "configuring the routing rules the you know the outbound and inbound routing rules from those applications so from",
    "start": "1561679",
    "end": "1568820"
  },
  {
    "text": "this from the cni log you'll see sleep web API and whatever the other",
    "start": "1568820",
    "end": "1574460"
  },
  {
    "text": "applications are that are running in that namespace",
    "start": "1574460",
    "end": "1578860"
  },
  {
    "text": "so it's the cni that's watching for new pods and existing pods and then configuring it to the route traffic to Z",
    "start": "1585799",
    "end": "1593000"
  },
  {
    "text": "tunnel and we already covered you know Christian already covered what exactly Z",
    "start": "1593000",
    "end": "1598520"
  },
  {
    "text": "tunnel is and how it works Etc so next thing we'll do is we will",
    "start": "1598520",
    "end": "1605120"
  },
  {
    "text": "generate a lot of traffic so that we can look at some metrics",
    "start": "1605120",
    "end": "1611120"
  },
  {
    "text": "so this next curl command will gener will go from sleep and call Web API a",
    "start": "1611120",
    "end": "1617000"
  },
  {
    "text": "hundred times and then you'll just see the the Response Code information so you",
    "start": "1617000",
    "end": "1622279"
  },
  {
    "text": "can see they're all 200s so now after I send 100 requests to the web API service if I take a look at the",
    "start": "1622279",
    "end": "1630260"
  },
  {
    "text": "logs of one of the Z tunnels or or all the Z tunnels if I look at the Z tunnel pod",
    "start": "1630260",
    "end": "1635779"
  },
  {
    "text": "logs you'll see information in here about traffic that is going through the",
    "start": "1635779",
    "end": "1641960"
  },
  {
    "text": "Z tunnels right so if you look at this IP address here there's source and destination IP address and those IP",
    "start": "1641960",
    "end": "1648559"
  },
  {
    "text": "addresses would map to the z-tunnel Pod IPS",
    "start": "1648559",
    "end": "1654460"
  },
  {
    "text": "just like before we'll run the TCP dump command again",
    "start": "1663500",
    "end": "1668860"
  },
  {
    "text": "and then see if we're able to sniff any traffic so I see some packets",
    "start": "1669500",
    "end": "1675320"
  },
  {
    "text": "but this time this is not readable so this is showing me that whatever this data is from TCP dump output is",
    "start": "1675320",
    "end": "1683120"
  },
  {
    "text": "encrypted honoring services",
    "start": "1683120",
    "end": "1690640"
  },
  {
    "text": "The Next Step verifies that basically that this IP address that you see in the top of this TCP dump is actually coming",
    "start": "1696679",
    "end": "1704240"
  },
  {
    "text": "from oh it actually references the z-tunnel Pod IP addresses so if you're interested in looking into",
    "start": "1704240",
    "end": "1710720"
  },
  {
    "text": "that in more detail",
    "start": "1710720",
    "end": "1713679"
  },
  {
    "text": "okay so what have we accomplished so far so just by installing istio and labeling",
    "start": "1716120",
    "end": "1721880"
  },
  {
    "text": "the namespace we've achieved mtls from z-tunnel to Z tunnel meaning that node",
    "start": "1721880",
    "end": "1728179"
  },
  {
    "text": "to node communication between the pods is encrypted I didn't have to restart any workloads I didn't have to configure",
    "start": "1728179",
    "end": "1734779"
  },
  {
    "text": "any additional policies you just get this encryption Straight Out of the Box so encryption authentication is one",
    "start": "1734779",
    "end": "1741620"
  },
  {
    "text": "thing right we talked about how zetunnel uses the applications certificates to",
    "start": "1741620",
    "end": "1748220"
  },
  {
    "text": "initiate connections on behalf of the application but now we can do things with that identity with that strong",
    "start": "1748220",
    "end": "1754580"
  },
  {
    "text": "identity and one of the things that we can do with istio with strong identity is layer authorization policies",
    "start": "1754580",
    "end": "1761659"
  },
  {
    "text": "so the very first authorization policies basically creates and allow nothing zero",
    "start": "1761659",
    "end": "1767539"
  },
  {
    "text": "trust no one's allowed to talk to anybody else Foundation there so now that I have this allow nothing",
    "start": "1767539",
    "end": "1773480"
  },
  {
    "text": "authorization policies if I try to do the same kernel command again from the from the Ingress Gateway",
    "start": "1773480",
    "end": "1781419"
  },
  {
    "text": "you can see that I get you know reset can reset reason connection Upstream error",
    "start": "1784700",
    "end": "1792200"
  },
  {
    "text": "so now we have to explicitly allow communication from one service to",
    "start": "1792200",
    "end": "1798260"
  },
  {
    "text": "another service so that's what the the next set of authorization policies will do",
    "start": "1798260",
    "end": "1803299"
  },
  {
    "text": "I mean really the the takeaway point from from from this part of the lab is that the enforcement points for your",
    "start": "1803299",
    "end": "1810679"
  },
  {
    "text": "authorization policies are now happening at the Z tunnel we don't need a waypoint",
    "start": "1810679",
    "end": "1816140"
  },
  {
    "text": "proxy for you to do layer 4 authorization policies",
    "start": "1816140",
    "end": "1822759"
  },
  {
    "text": "so for mtls and and TCP layer 4 authorization policies you do not need a",
    "start": "1822860",
    "end": "1828140"
  },
  {
    "text": "waypoint proxy so now that we've explicitly create authorization policies on who's allowed",
    "start": "1828140",
    "end": "1833419"
  },
  {
    "text": "to talk to to who else then if I do another curl command",
    "start": "1833419",
    "end": "1838460"
  },
  {
    "text": "um if I redo the curl Commandments before you can see now I'm getting good responses back from my username",
    "start": "1838460",
    "end": "1845980"
  },
  {
    "text": "I also have a deployment called not sleep that does not have authorization policies",
    "start": "1851120",
    "end": "1857779"
  },
  {
    "text": "so if I if you try to exec into not sleep and try to curl one of the web API",
    "start": "1857779",
    "end": "1863299"
  },
  {
    "text": "services or one of the services in the mesh then you'll see that it's not able to to make that connection as you'd",
    "start": "1863299",
    "end": "1868820"
  },
  {
    "text": "expect foreign",
    "start": "1868820",
    "end": "1874720"
  },
  {
    "text": "able to reach this section",
    "start": "1875320",
    "end": "1879278"
  },
  {
    "text": "great for the next section I'll hand it over to Nim from Google thanks Ron",
    "start": "1880640",
    "end": "1886940"
  },
  {
    "text": "how's everyone doing so far be good okay that's awesome I saw",
    "start": "1886940",
    "end": "1891980"
  },
  {
    "text": "someone walk in kind of last minute so I just want to put up this uh tiny URL back up on the slides for anyone that",
    "start": "1891980",
    "end": "1899539"
  },
  {
    "text": "wants to start the workshop um but I also do want to quickly",
    "start": "1899539",
    "end": "1907159"
  },
  {
    "text": "recap what we just did and we have a few visuals here so of course we created a",
    "start": "1907159",
    "end": "1913880"
  },
  {
    "text": "kind cluster with four nodes we then installed istio as we normally do using",
    "start": "1913880",
    "end": "1920179"
  },
  {
    "text": "a steel CTL install except of course our profile that we used was called ambient",
    "start": "1920179",
    "end": "1926500"
  },
  {
    "text": "and all it does a bunch of things but like the the main thing that the main",
    "start": "1926500",
    "end": "1931640"
  },
  {
    "text": "takeaway here is that it deploys a z tunnel for each node that takes care of",
    "start": "1931640",
    "end": "1937640"
  },
  {
    "text": "all of istio's L4 functionality for you and we also deployed a bunch of",
    "start": "1937640",
    "end": "1946039"
  },
  {
    "text": "test test apps that we could play around with and we also saw that the way to enable",
    "start": "1946039",
    "end": "1955240"
  },
  {
    "text": "ambient mode or the Z tunnel on a specific namespaces by just labeling it",
    "start": "1955240",
    "end": "1960260"
  },
  {
    "text": "with this label um so everything we've seen so far was just",
    "start": "1960260",
    "end": "1965840"
  },
  {
    "text": "L4 stuff and what we've at least learned from our users at Google is",
    "start": "1965840",
    "end": "1971559"
  },
  {
    "text": "istio a lot of users just need the L4 stuff and the majority of istio users at",
    "start": "1971559",
    "end": "1979460"
  },
  {
    "text": "this point can you know stop or if they want to continue adding on the L7 functionality they can",
    "start": "1979460",
    "end": "1986419"
  },
  {
    "text": "do so and they still benefit from this ambient model because adoption is a lot easier because most people adopt with L4",
    "start": "1986419",
    "end": "1994159"
  },
  {
    "text": "first so this next section is purely about L7",
    "start": "1994159",
    "end": "1999740"
  },
  {
    "text": "and we're going to start off by looking at it an L7 authorization policy",
    "start": "1999740",
    "end": "2005760"
  },
  {
    "text": "more specifically what we're going to do is so right now sleep can talk to web API",
    "start": "2005760",
    "end": "2014860"
  },
  {
    "text": "right that's what we did in the previous section but we're going to be a bit more",
    "start": "2014860",
    "end": "2020019"
  },
  {
    "text": "granular about how we allow communication from sleep to web API",
    "start": "2020019",
    "end": "2025120"
  },
  {
    "text": "and we're going to say allow only get requests and we're going to do that by just deploying a authorization",
    "start": "2025120",
    "end": "2032460"
  },
  {
    "text": "policy which you'll see down here um and for us to",
    "start": "2032460",
    "end": "2039159"
  },
  {
    "text": "actually apply that authorization policy and see it work the web API needs a",
    "start": "2039159",
    "end": "2045820"
  },
  {
    "text": "waypoint proxy attached to its service account um so the way to do that the way to",
    "start": "2045820",
    "end": "2052240"
  },
  {
    "text": "deploy a waypoint proxy right now is to use the kubernetes gateways Gateway",
    "start": "2052240",
    "end": "2059560"
  },
  {
    "text": "resource and uh it's important to note that this is the the kubernetes",
    "start": "2059560",
    "end": "2065099"
  },
  {
    "text": "resource and not the istio Gateway resource and you can see that we're",
    "start": "2065099",
    "end": "2070179"
  },
  {
    "text": "attaching it to the service account of the web API and were saying hey let's",
    "start": "2070179",
    "end": "2077800"
  },
  {
    "text": "use the Waypoint proxy from istio's ambient mesh",
    "start": "2077800",
    "end": "2083138"
  },
  {
    "text": "um so let's go ahead and do that now the very first command here is exactly that",
    "start": "2083139",
    "end": "2088179"
  },
  {
    "text": "we're going to apply our Gateway and next we're just going to check that",
    "start": "2088179",
    "end": "2096280"
  },
  {
    "text": "the Waypoint proxy deployment has been deployed so we're just doing a coupe CTL get pods",
    "start": "2096280",
    "end": "2103140"
  },
  {
    "text": "and we're looking for our Waypoint proxy and there it is and",
    "start": "2103140",
    "end": "2109540"
  },
  {
    "text": "the next thing of course is applying the authorization policy that says hey we're",
    "start": "2109540",
    "end": "2114820"
  },
  {
    "text": "only going to allow traffic um from the",
    "start": "2114820",
    "end": "2121260"
  },
  {
    "text": "Ingress Gateway or the sleep service",
    "start": "2121260",
    "end": "2127599"
  },
  {
    "text": "to our web API that is in the form of a",
    "start": "2127599",
    "end": "2133000"
  },
  {
    "text": "get request all right so we're just applying more granular rule here",
    "start": "2133000",
    "end": "2139800"
  },
  {
    "text": "and then let's test this out so now if I were to just make a get request from the Sleep service to the",
    "start": "2140980",
    "end": "2149980"
  },
  {
    "text": "web API it should work all right",
    "start": "2149980",
    "end": "2155320"
  },
  {
    "text": "um and that's your 200 response but of course if I try to now make a",
    "start": "2155320",
    "end": "2162099"
  },
  {
    "text": "delete request it shouldn't work yep so somewhere in here you should see",
    "start": "2162099",
    "end": "2170680"
  },
  {
    "text": "access denied um",
    "start": "2170680",
    "end": "2175200"
  },
  {
    "text": "yep it's actually just hidden right there okay so that's just a bit of a more",
    "start": "2177040",
    "end": "2185320"
  },
  {
    "text": "granular authorization policies we'll also uh make note that the Waypoint",
    "start": "2185320",
    "end": "2191020"
  },
  {
    "text": "proxy once it's deployed for the web API service account you've also now got access to L7",
    "start": "2191020",
    "end": "2199380"
  },
  {
    "text": "observability of that web API service so we're just going to confirm that here",
    "start": "2199380",
    "end": "2206079"
  },
  {
    "text": "by just looking at an endpoint inside of our Waypoint proxy",
    "start": "2206079",
    "end": "2212800"
  },
  {
    "text": "that Prometheus would use for that observability",
    "start": "2212800",
    "end": "2218460"
  },
  {
    "text": "and then you should see something that looks kind of like what I'm seeing here",
    "start": "2221520",
    "end": "2226980"
  },
  {
    "text": "and then the next section here we're just doing a bit more playing around",
    "start": "2226980",
    "end": "2232480"
  },
  {
    "text": "with L7 policies but um I've got a visualization here for",
    "start": "2232480",
    "end": "2240820"
  },
  {
    "text": "that too um what we're doing now is we're saying",
    "start": "2240820",
    "end": "2247720"
  },
  {
    "text": "um let's let's make a delay uh let's add a delay of five seconds for any requests",
    "start": "2247720",
    "end": "2253599"
  },
  {
    "text": "going into web API that contain the user Amy inside of the HTTP headers",
    "start": "2253599",
    "end": "2262420"
  },
  {
    "text": "um so of course that is done in istio using a virtual service",
    "start": "2262420",
    "end": "2270160"
  },
  {
    "text": "um so here we're just applying an istio virtual service and we're saying let's apply this fixed delay of five seconds",
    "start": "2270160",
    "end": "2277020"
  },
  {
    "text": "and it should only apply if we see the",
    "start": "2277020",
    "end": "2282280"
  },
  {
    "text": "user Amy inside the HTTP header that reaches the web API so let's apply this now",
    "start": "2282280",
    "end": "2289320"
  },
  {
    "text": "okay and now if I try to access or rather if I try to make a HTTP request with a user",
    "start": "2294579",
    "end": "2304660"
  },
  {
    "text": "Amy inside of our header I should see a five second delay",
    "start": "2304660",
    "end": "2309760"
  },
  {
    "text": "and I was just pressing enter now so one two three",
    "start": "2309760",
    "end": "2315960"
  },
  {
    "text": "and there we go um so that's a bit more of uh istio's L7",
    "start": "2317200",
    "end": "2323859"
  },
  {
    "text": "functionality with the Waypoint proxy um and this final section here is doing a bit",
    "start": "2323859",
    "end": "2332200"
  },
  {
    "text": "more L7 stuff and you can see that uh I guess I can",
    "start": "2332200",
    "end": "2339520"
  },
  {
    "text": "show you the visualization as well um we're playing around with a bit of traffic splitting here",
    "start": "2339520",
    "end": "2345220"
  },
  {
    "text": "um we're saying for the purchase history service",
    "start": "2345220",
    "end": "2351040"
  },
  {
    "text": "we're going to deploy two versions of it version one and version two and then",
    "start": "2351040",
    "end": "2356140"
  },
  {
    "text": "we're going to say put 90 of any traffic going in the purchase history service",
    "start": "2356140",
    "end": "2362380"
  },
  {
    "text": "um but ninety percent of that traffic to version one and ten percent to version two",
    "start": "2362380",
    "end": "2367900"
  },
  {
    "text": "and of course because uh the the policy is being applied on the purchase history",
    "start": "2367900",
    "end": "2374280"
  },
  {
    "text": "service we now need to deploy a waypoint proxy for that purchase history",
    "start": "2374280",
    "end": "2381599"
  },
  {
    "text": "service account um so that's uh",
    "start": "2381599",
    "end": "2386980"
  },
  {
    "text": "the very first thing that we should be doing so let's go ahead",
    "start": "2386980",
    "end": "2392079"
  },
  {
    "text": "and let's look at that so we're again using a Gateway apply to say hey look",
    "start": "2392079",
    "end": "2400180"
  },
  {
    "text": "um apply this istio mesh Waypoint proxy to the service service account called",
    "start": "2400180",
    "end": "2407619"
  },
  {
    "text": "purchase history so let's first actually deploy version two of our purchase history",
    "start": "2407619",
    "end": "2413880"
  },
  {
    "text": "and again kind of like what Ron mentioned if you go into this files tab you can",
    "start": "2413880",
    "end": "2419280"
  },
  {
    "text": "see the exact contents of that folder that we just Coupe CTL applied",
    "start": "2419280",
    "end": "2425520"
  },
  {
    "text": "and let me go back here and I'm going to apply the Gateway now",
    "start": "2425520",
    "end": "2431440"
  },
  {
    "text": "to deploy the Waypoint proxy for purchase history",
    "start": "2431440",
    "end": "2436500"
  },
  {
    "text": "and then I'm going to apply our istio virtual service to apply the traffic splitting the 90",
    "start": "2436900",
    "end": "2443980"
  },
  {
    "text": "percent 10 traffic splitting and you can see right there we're saying version one should get 90 so at this point",
    "start": "2443980",
    "end": "2451839"
  },
  {
    "text": "if I right so I guess I've also got to define",
    "start": "2451839",
    "end": "2457780"
  },
  {
    "text": "the uh two versions as subsets um using istio's destination rules",
    "start": "2457780",
    "end": "2466320"
  },
  {
    "text": "so this is just saying splitting up the the two different pods that I've uh",
    "start": "2466599",
    "end": "2474040"
  },
  {
    "text": "um deployed and uh contextualizing it for istio is version one and version two",
    "start": "2474040",
    "end": "2481300"
  },
  {
    "text": "um and now at this point if I make a whole bunch of requests I think we're making 100 requests here",
    "start": "2481300",
    "end": "2487839"
  },
  {
    "text": "to the web API the web API talks to the purchase history",
    "start": "2487839",
    "end": "2493859"
  },
  {
    "text": "so we should see that later that",
    "start": "2493859",
    "end": "2499020"
  },
  {
    "text": "90 goes to version one 10 goes to version two so",
    "start": "2499020",
    "end": "2505180"
  },
  {
    "text": "it's uh do that right now",
    "start": "2505180",
    "end": "2510540"
  },
  {
    "text": "right so you can see that about 10 of those nine of those uh 100",
    "start": "2537640",
    "end": "2543880"
  },
  {
    "text": "requests were when to purchase history version two and",
    "start": "2543880",
    "end": "2549339"
  },
  {
    "text": "the curl output just tells you which version that's why you can just grab it um and uh see that it's version two that",
    "start": "2549339",
    "end": "2556720"
  },
  {
    "text": "uh we're reaching okay so at this point yep go ahead",
    "start": "2556720",
    "end": "2563740"
  },
  {
    "text": "oh yeah",
    "start": "2563740",
    "end": "2566280"
  },
  {
    "text": "um have you applied your destination rule",
    "start": "2581020",
    "end": "2585540"
  },
  {
    "text": "okay",
    "start": "2593319",
    "end": "2595440"
  },
  {
    "text": "thanks Christine does anyone else have any questions or",
    "start": "2603819",
    "end": "2609460"
  },
  {
    "text": "any did anyone yep go ahead",
    "start": "2609460",
    "end": "2615119"
  },
  {
    "text": "uh sorry what's that",
    "start": "2618880",
    "end": "2622019"
  },
  {
    "text": "um the question was where are the certificates coming from back in the layer 4 stuff",
    "start": "2625960",
    "end": "2631839"
  },
  {
    "text": "um I can take that question you want to cover that yeah it's coming from a Studio D so the",
    "start": "2631839",
    "end": "2639280"
  },
  {
    "text": "Z tunnels will make a call to stod IST is still your ca Z tunnel is just acting",
    "start": "2639280",
    "end": "2646000"
  },
  {
    "text": "on behalf of your of the application that's that spun up and said hey give me certificates for web API pod",
    "start": "2646000",
    "end": "2653380"
  },
  {
    "text": "and then stod gives it the certificates and then Z tunnel uses that certificate to make a connection to the other",
    "start": "2653380",
    "end": "2659560"
  },
  {
    "text": "z-tunnel the sdod is still your ca and you can still",
    "start": "2659560",
    "end": "2665260"
  },
  {
    "text": "configure hdod to use a different CA if you wanted to just like like you do today like how istio D gets this gets",
    "start": "2665260",
    "end": "2673119"
  },
  {
    "text": "its certificate whether it's self-signed or integrated with the pki that stays the same yep",
    "start": "2673119",
    "end": "2679119"
  },
  {
    "text": "is there anything else you want to add okay cool thanks bro",
    "start": "2679119",
    "end": "2685300"
  },
  {
    "text": "do we have any more questions in the meantime yep so I guess that's the section about",
    "start": "2685300",
    "end": "2691119"
  },
  {
    "text": "uh L7 functionality using the Waypoint proxy and once you're",
    "start": "2691119",
    "end": "2697599"
  },
  {
    "text": "done this entire section you can just click check there and then we're going to be navigated to",
    "start": "2697599",
    "end": "2704140"
  },
  {
    "text": "the bonus section so the bonus section is really just answering one question that a lot of",
    "start": "2704140",
    "end": "2709540"
  },
  {
    "text": "folks have which is whether I can still use sidecars and the answer is yes",
    "start": "2709540",
    "end": "2714900"
  },
  {
    "text": "and yes the ambient mesh and the sidecar pattern will still interoperate",
    "start": "2714900",
    "end": "2722079"
  },
  {
    "text": "um and sidecars will remain a first-class citizen of istio",
    "start": "2722079",
    "end": "2730560"
  },
  {
    "text": "so this section is just going going to just confirm that",
    "start": "2730599",
    "end": "2736540"
  },
  {
    "text": "um so in this section we're actually deploying The Familiar HTTP bin service",
    "start": "2736540",
    "end": "2743319"
  },
  {
    "text": "into the HTTP separate namespace",
    "start": "2743319",
    "end": "2748540"
  },
  {
    "text": "so let's first create that namespace and then we are going to",
    "start": "2748540",
    "end": "2756460"
  },
  {
    "text": "um inject a sidecar or enable a sidecar",
    "start": "2756460",
    "end": "2761619"
  },
  {
    "text": "injection in that new native that we created and then we're going to deploy the HTTP bin service so you can see it's",
    "start": "2761619",
    "end": "2768880"
  },
  {
    "text": "got its own service account it's also pulling in this image here",
    "start": "2768880",
    "end": "2774780"
  },
  {
    "text": "HTTP bin and let me just apply this here",
    "start": "2774780",
    "end": "2782640"
  },
  {
    "text": "yep and so now because we enabled uh sidecar",
    "start": "2788200",
    "end": "2793900"
  },
  {
    "text": "injection if I do a coupe CTL get pods from that",
    "start": "2793900",
    "end": "2800140"
  },
  {
    "text": "namespace the HTTP bin namespace I should see that there is a sidecar",
    "start": "2800140",
    "end": "2807040"
  },
  {
    "text": "attached to it um and now if I",
    "start": "2807040",
    "end": "2813160"
  },
  {
    "text": "uh curl from um from the Sleep service which is using",
    "start": "2813160",
    "end": "2821560"
  },
  {
    "text": "the ambient mesh Z tunnels to the HTTP bin service",
    "start": "2821560",
    "end": "2828819"
  },
  {
    "text": "I'll see that in my response my response should say",
    "start": "2828819",
    "end": "2837220"
  },
  {
    "text": "um somewhere here it should say x forwarded client sir",
    "start": "2837220",
    "end": "2843040"
  },
  {
    "text": "yep there you go so that's how you can confirm that the traffic between the HTTP bin service",
    "start": "2843040",
    "end": "2852460"
  },
  {
    "text": "which is using a sidecar for its L4 HDO stuff is being encrypted as well",
    "start": "2852460",
    "end": "2861539"
  },
  {
    "text": "um and that concludes our bonus section and that actually concludes the entire Workshop so",
    "start": "2861880",
    "end": "2868119"
  },
  {
    "text": "um I guess in during this time we'll probably just field around and uh get questions or if folks are stuck anywhere",
    "start": "2868119",
    "end": "2874780"
  },
  {
    "text": "we can help out",
    "start": "2874780",
    "end": "2877500"
  },
  {
    "text": "yeah like Nick said we're going to be walking around kind of kind of if you have any questions",
    "start": "2882220",
    "end": "2888599"
  },
  {
    "text": "um I did want to share that we do have a survey link",
    "start": "2892900",
    "end": "2898119"
  },
  {
    "text": "second let me see if I can find my I don't know where my share button went",
    "start": "2898119",
    "end": "2904000"
  },
  {
    "text": "there it is okay so there's two more URLs for you",
    "start": "2904000",
    "end": "2909160"
  },
  {
    "text": "there's a certification exam I think it's like 10 or 20 questions or so and if you answer like above 80 then solo",
    "start": "2909160",
    "end": "2916180"
  },
  {
    "text": "will send you like the certification badge that you can add to LinkedIn um I don't know share it within your",
    "start": "2916180",
    "end": "2921460"
  },
  {
    "text": "organization share it with your manager um there's also a survey link if you like this workshop and and you want to",
    "start": "2921460",
    "end": "2927579"
  },
  {
    "text": "see more of this type of content um you know please share any feedback that you have positive or negative and",
    "start": "2927579",
    "end": "2934180"
  },
  {
    "text": "and just know that solo will run these type of workshops pretty often virtually",
    "start": "2934180",
    "end": "2941020"
  },
  {
    "text": "so if you go to solo i o and go to upcoming events you'll see that every week or so we have workshops around",
    "start": "2941020",
    "end": "2947579"
  },
  {
    "text": "beginner intermediate and advanced istio content things around Envoy ambient",
    "start": "2947579",
    "end": "2954119"
  },
  {
    "text": "graphql and a lot of the stuff that we work on we we build a workshop and we do these free workshops along with an",
    "start": "2954119",
    "end": "2961180"
  },
  {
    "text": "instructor that comes with it and and annotates the content like we did today um so with that said yeah thanks",
    "start": "2961180",
    "end": "2967480"
  },
  {
    "text": "everyone um again we'll be walking around answering any questions",
    "start": "2967480",
    "end": "2971880"
  }
]