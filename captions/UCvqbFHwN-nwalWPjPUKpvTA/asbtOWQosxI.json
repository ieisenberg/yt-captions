[
  {
    "text": "get started I'm Flynn hi and I'm Mike and welcome to live with Gateway API",
    "start": "120",
    "end": "7040"
  },
  {
    "text": "1.2 not really or",
    "start": "7040",
    "end": "12080"
  },
  {
    "text": "um I'm in Tech evangelist for Linker I don't actually remember your",
    "start": "12080",
    "end": "17400"
  },
  {
    "text": "title right now yeah I I'm a senior product manager uh at Microsoft working on Upstream open source things",
    "start": "17400",
    "end": "24439"
  },
  {
    "text": "uho API and multicluster stuff as well we are also the two of the chairs for",
    "start": "24439",
    "end": "32238"
  },
  {
    "text": "the gamma initiative within Gateway API bringing Gateway API to service mesh which is the reason why we're doing this",
    "start": "32239",
    "end": "38879"
  },
  {
    "text": "talk yeah about massing service mesh we've done this talk before at ccon in",
    "start": "38879",
    "end": "46520"
  },
  {
    "text": "Paris if you saw that one we've added a little bit but we still won't be offended if you decide to leave because",
    "start": "46520",
    "end": "52600"
  },
  {
    "text": "it is a 90-minute workshop but we would love it if you stayed anyway",
    "start": "52600",
    "end": "58640"
  },
  {
    "text": "um there's a little bit of an interesting thing going on here in that when we did this in Paris we had two",
    "start": "58640",
    "end": "65518"
  },
  {
    "text": "HDMI cables and they could switch the video from laptop to laptop because my",
    "start": "65519",
    "end": "71000"
  },
  {
    "text": "laptop is set up to run this with linkerd and Envoy Gateway and I'll be running through the same uh API same",
    "start": "71000",
    "end": "79000"
  },
  {
    "text": "crds that we're applying to the cluster but with thiso so we're doing with one",
    "start": "79000",
    "end": "84240"
  },
  {
    "text": "exception we're doing exactly the same configuration and two wildly different",
    "start": "84240",
    "end": "89920"
  },
  {
    "text": "different sets of infrastructure we will tell you what the one exception is when we get to it it's a fairly minor",
    "start": "89920",
    "end": "95880"
  },
  {
    "text": "exception um for this laptop or this Workshop we have one cable so there's",
    "start": "95880",
    "end": "102880"
  },
  {
    "text": "going to be a certain amount of unplugging and replugging laptops we will try to keep that to a minimum yeah",
    "start": "102880",
    "end": "109079"
  },
  {
    "text": "we'll try to keep that to a minimum because every time we do it it always has the potential to crash something so",
    "start": "109079",
    "end": "114719"
  },
  {
    "text": "all right it's possible that we'll get to a point and just go you know what we're going to show this with just one infrastructure as we go",
    "start": "114719",
    "end": "121640"
  },
  {
    "text": "oh and the 1.2 versus 1.1.1 thing we will also talk about a little bit but",
    "start": "121640",
    "end": "127560"
  },
  {
    "text": "the short version is that um linkerd cannot yet use Gateway API",
    "start": "127560",
    "end": "135760"
  },
  {
    "text": "1.2 for very technical reasons yeah that we're working on fixing both upstream",
    "start": "135760",
    "end": "141120"
  },
  {
    "text": "and within like a yeah exactly onward all right well let's get started so who",
    "start": "141120",
    "end": "148080"
  },
  {
    "text": "was this for uh this talk is for platform Engineers building infrastructure for multiple application",
    "start": "148080",
    "end": "153920"
  },
  {
    "text": "teams uh it's for application developers who want resiliency and safety with Blu green or Canary deploys and related",
    "start": "153920",
    "end": "160480"
  },
  {
    "text": "functionality uh or anyone interested in growing their skills by learning a single API which can be used to",
    "start": "160480",
    "end": "166159"
  },
  {
    "text": "configure dozens of different products uh the two that we're demonstrating here today are just two of I think over two",
    "start": "166159",
    "end": "172319"
  },
  {
    "text": "dozen at least by mail Gateway API implementations I think we're up to about 30 we're actually doing three here",
    "start": "172319",
    "end": "178480"
  },
  {
    "text": "cuz Envoy Gateway and Linker not the same thing so not only are we showing",
    "start": "178480",
    "end": "183799"
  },
  {
    "text": "two different service meshes but we are also in linker's case bringing in another thing to be the Ingress",
    "start": "183799",
    "end": "189760"
  },
  {
    "text": "controller so yeahi one of the great things with Gateway API is that like instead of needing to learn a bespoke",
    "start": "189760",
    "end": "196239"
  },
  {
    "text": "set of crds and familiarity with every different product that you may be asked",
    "start": "196239",
    "end": "201920"
  },
  {
    "text": "to work with learning this one API will be a more broadly applicable skill set similar to learning kubernetes um you",
    "start": "201920",
    "end": "209159"
  },
  {
    "text": "learn the constructs there and you can apply them to many different uh use cases and",
    "start": "209159",
    "end": "215560"
  },
  {
    "text": "needs so what's on the agenda today what are we going to cover uh we'll start with a brief description of the Ingress",
    "start": "215560",
    "end": "222560"
  },
  {
    "text": "problem and how Gateway API relates to that kind of like the background and where did this come from why does this",
    "start": "222560",
    "end": "228439"
  },
  {
    "text": "API exist uh we'll go through a brief description of service meses and why Gateway API is relevant there too uh and",
    "start": "228439",
    "end": "235159"
  },
  {
    "text": "then we'll go through a workshop we'll uh walk through some sample uh",
    "start": "235159",
    "end": "240519"
  },
  {
    "text": "I we're actually going to show configuring an application and setting up an application on a cluster and",
    "start": "240519",
    "end": "246319"
  },
  {
    "text": "configuring everything using Gateway API and watching it break and well okay we're going to watch it break and then",
    "start": "246319",
    "end": "252239"
  },
  {
    "text": "hope we can fix it um so yeah common tasks that you would use to get we API",
    "start": "252239",
    "end": "257799"
  },
  {
    "text": "to accomplish yep now is a good time to start praying to the demo goddesses just you know for reference so yeah what are",
    "start": "257799",
    "end": "264680"
  },
  {
    "text": "you going to need for this you're going to need a a cumas cluster uh we're using k3d for this this demo but any cluster",
    "start": "264680",
    "end": "271759"
  },
  {
    "text": "should work uh to follow along you'll need Cube cuddle Helm bat and if you want it yq just for viewing yaml in a",
    "start": "271759",
    "end": "279759"
  },
  {
    "text": "slightly uh more pleasant way and we'll be downloading linkerd and ISO cuddle",
    "start": "279759",
    "end": "284800"
  },
  {
    "text": "during this tutorial itself yes and the link there uh we'll post the slides afterwards but if you want to check out",
    "start": "284800",
    "end": "291080"
  },
  {
    "text": "the source of the workshop uh it's github.com buyant iio Gateway apiw",
    "start": "291080",
    "end": "298000"
  },
  {
    "text": "Workshop the code that is in that repo that Mike just mentioned is what we are",
    "start": "298000",
    "end": "304160"
  },
  {
    "text": "going to be doing live on stage as in we just pushed up the last changes before",
    "start": "304160",
    "end": "309720"
  },
  {
    "text": "walking over here so that's literally the four line to the REM it's not that",
    "start": "309720",
    "end": "315120"
  },
  {
    "text": "bad I mean before that uh and yeah also just a order question is make sure you're using an",
    "start": "315120",
    "end": "321560"
  },
  {
    "text": "empty cluster please um we do not want to be responsible for you breaking your production installation of sdo or Linker",
    "start": "321560",
    "end": "327840"
  },
  {
    "text": "D yes and if you are doing this on a production cluster you will break your",
    "start": "327840",
    "end": "333160"
  },
  {
    "text": "existing installation let's be clear all right so let's get started uh",
    "start": "333160",
    "end": "339120"
  },
  {
    "text": "the Ingress problem yeah the Ingress problem is the thing that Gateway API",
    "start": "339120",
    "end": "345120"
  },
  {
    "text": "was originally intended to solve if you have a user and you have a cluster and",
    "start": "345120",
    "end": "350240"
  },
  {
    "text": "you have things running inside the cluster then the user is going to want to use the things in your cluster and",
    "start": "350240",
    "end": "357160"
  },
  {
    "text": "this is not a thing that clusters allow on their own this is specifically a thing that clusters are intentionally",
    "start": "357160",
    "end": "365199"
  },
  {
    "text": "going to prevent so we need something to sit in between the user and the workloads that can go mediate access",
    "start": "365199",
    "end": "372280"
  },
  {
    "text": "from outside to inside safely under the control of the people you know the",
    "start": "372280",
    "end": "378199"
  },
  {
    "text": "application developers or the platform teams depending on how you set things up um it's an important problem because",
    "start": "378199",
    "end": "384440"
  },
  {
    "text": "it's the first problem that everybody developing in Cloud native runs into",
    "start": "384440",
    "end": "389840"
  },
  {
    "text": "there is no way to use cloud native to solve problems without also solving the",
    "start": "389840",
    "end": "395120"
  },
  {
    "text": "angress problem so Gateway API was going after that particular problem trying to come up with a way that you could solve",
    "start": "395120",
    "end": "402080"
  },
  {
    "text": "this problem and still have that knowledge be portable if you changed infrastructure because the older Ingress",
    "start": "402080",
    "end": "409599"
  },
  {
    "text": "resource from experience what we found was that the Ingress resource itself was",
    "start": "409599",
    "end": "415000"
  },
  {
    "text": "not terribly expressive and so it tended to have people pile extra functionality into it",
    "start": "415000",
    "end": "421639"
  },
  {
    "text": "just by saying oh you can add this annotation oh you can add this annotation Each of which was specific to",
    "start": "421639",
    "end": "427199"
  },
  {
    "text": "a particular technology none of which were portable between Technologies something that's started as like a",
    "start": "427199",
    "end": "433720"
  },
  {
    "text": "relatively small neoscope thing is usable in small narrowly scoped",
    "start": "433720",
    "end": "438960"
  },
  {
    "text": "circumstances exactly but when you try to do more with it it didn't really work that well yeah and one of the really",
    "start": "438960",
    "end": "445479"
  },
  {
    "text": "entertaining things about the ingris problem is that small and narrowly scope is the opposite of the reality of the",
    "start": "445479",
    "end": "452440"
  },
  {
    "text": "Ingress problem we also found I mentioned it was too limited I kind of",
    "start": "452440",
    "end": "457560"
  },
  {
    "text": "skipped over the monolithic bit because um because we were talking about",
    "start": "457560",
    "end": "462639"
  },
  {
    "text": "annotations for a moment but the monolithic thing is actually a problem that we sort of figured out a little bit",
    "start": "462639",
    "end": "469360"
  },
  {
    "text": "later which is that there are multiple different roles operating within the",
    "start": "469360",
    "end": "474720"
  },
  {
    "text": "same kubernetes cluster in really small organizations it may be one person fulfilling all the roles but as you get",
    "start": "474720",
    "end": "480479"
  },
  {
    "text": "larger you end up with different people so you'll have one person maybe whose job it is to worry about the hardware",
    "start": "480479",
    "end": "486159"
  },
  {
    "text": "running the cluster you'll have one person whose job is to worry about setting up the things that affect the",
    "start": "486159",
    "end": "492360"
  },
  {
    "text": "entire cluster and then you'll have the application developers who are focusing in on a particular application rather",
    "start": "492360",
    "end": "498680"
  },
  {
    "text": "than the whole cluster itself and what we found was that the Ingress",
    "start": "498680",
    "end": "504080"
  },
  {
    "text": "resource crams things together that are really the purview of two different roles and so you end up",
    "start": "504080",
    "end": "511599"
  },
  {
    "text": "with this Collision where the application developers and the platform Engineers are both trying to edit the",
    "start": "511599",
    "end": "516839"
  },
  {
    "text": "same resource at the same time which does not go well or even multiple application teams or multiple",
    "start": "516839",
    "end": "522719"
  },
  {
    "text": "application team too easy to accidentally break another team's configuration right and it's conversely",
    "start": "522719",
    "end": "530120"
  },
  {
    "text": "extremely difficult Not To Break anybody else's configuration uh it's also impossible to",
    "start": "530120",
    "end": "536320"
  },
  {
    "text": "do things like use arbac to limit what the applic developers can do without also limiting the cluster Prov cluster",
    "start": "536320",
    "end": "543000"
  },
  {
    "text": "Engineers um and we also mentioned poor extensibility you can't the way Ingress grew up it was",
    "start": "543000",
    "end": "551079"
  },
  {
    "text": "really difficult to go through and add new things to it in a reasonably structured way so people gave up trying",
    "start": "551079",
    "end": "557920"
  },
  {
    "text": "so even for like functionality that may be spec specific to a particular",
    "start": "557920",
    "end": "563959"
  },
  {
    "text": "implementation with kway API we still wanted to make sure there was a common pattern and framework for doing that",
    "start": "563959",
    "end": "569040"
  },
  {
    "text": "kind of stuff yep so which leads us to Gateway API yes introducing Gateway API uh you may have",
    "start": "569040",
    "end": "576480"
  },
  {
    "text": "heard about it by now it's um a new API for Ingress traffic management and and",
    "start": "576480",
    "end": "583720"
  },
  {
    "text": "more yeah and more yes yes that that's where it started that's not where it's ending uh so yeah get API is a project",
    "start": "583720",
    "end": "590480"
  },
  {
    "text": "within kubernetes Sig Network it's started in 2020 as Ingress V2 um",
    "start": "590480",
    "end": "597560"
  },
  {
    "text": "conceptually uh for various reasons it um had a scope that ended up growing",
    "start": "597560",
    "end": "602920"
  },
  {
    "text": "beyond that and that name felt limiting uh in other ways both both Technical and",
    "start": "602920",
    "end": "608839"
  },
  {
    "text": "in terms of what we wanted to do with it there are actually a lot of really good reasons not to call it V2 in practice",
    "start": "608839",
    "end": "615160"
  },
  {
    "text": "Yeah it's primarily focused on tackling the annotations wild west of the Ingress resource uh and some of this uh I'll get",
    "start": "615160",
    "end": "623640"
  },
  {
    "text": "into the Persona a minute but uh we we reached GA with a one. release in October 2023 so so uh it has been GA for",
    "start": "623640",
    "end": "631000"
  },
  {
    "text": "uh over a year now yeah so it's very much something that you can use today and it's actively developed and we're",
    "start": "631000",
    "end": "636720"
  },
  {
    "text": "continuing to add more to it and people do use it today for the record",
    "start": "636720",
    "end": "643000"
  },
  {
    "text": "yeah so um if you look at the diagram on my right um you'll see some of the",
    "start": "643240",
    "end": "650120"
  },
  {
    "text": "different personas that we were talking about when we're talking about the different roles of who would be using uh",
    "start": "650120",
    "end": "655920"
  },
  {
    "text": "this functionality for Ingress or other such needs you have the infrastructure providers is sometimes that's a cloud",
    "start": "655920",
    "end": "663040"
  },
  {
    "text": "offering a managed experience sometimes it's someone installing kubernetes is own bar manal Hardware in your data",
    "start": "663040",
    "end": "669000"
  },
  {
    "text": "center uh but that's a different role than kind of the cluster operators who may be doing HDMI cable we're getting",
    "start": "669000",
    "end": "676320"
  },
  {
    "text": "another HDMI cable this is going to be great uh yeah so uh and the cluster",
    "start": "676320",
    "end": "683079"
  },
  {
    "text": "operators are who are doing your day-to-day kubernetes Administration they care about things like arbac they care about things like exposing the",
    "start": "683079",
    "end": "689920"
  },
  {
    "text": "actual Gateway resource to the public internet and mediating that in a way that's going to work for the app that of",
    "start": "689920",
    "end": "697680"
  },
  {
    "text": "teams the cluster operator is often uh in larger organizations it can be a like",
    "start": "697680",
    "end": "702880"
  },
  {
    "text": "platform engineering team where they're providing the cluster as a shared resource to many different appdev teams",
    "start": "702880",
    "end": "709440"
  },
  {
    "text": "and then your application developers are primarily focused on uh their uh",
    "start": "709440",
    "end": "715440"
  },
  {
    "text": "applications um they don't want to have to care all that much about the",
    "start": "715440",
    "end": "720639"
  },
  {
    "text": "infrastructure that's running underneath them they just want it to work they may have specific needs for application",
    "start": "720639",
    "end": "725839"
  },
  {
    "text": "management like uh being able to shift traffic for doing new deploys of new",
    "start": "725839",
    "end": "731240"
  },
  {
    "text": "versions of their applications uh or other such things they want resiliency they want to make sure that they're able to fail over traffic as needed um but",
    "start": "731240",
    "end": "739120"
  },
  {
    "text": "they're really concerned with their application code and making sure their business logic uh is the thing that they're focused on if you go look up the",
    "start": "739120",
    "end": "745560"
  },
  {
    "text": "definitions of these roles on the Gateway API page uh you will find specifically that the",
    "start": "745560",
    "end": "752240"
  },
  {
    "text": "application developers are described as people who are very very busy and don't really care about kuber nities all that",
    "start": "752240",
    "end": "757920"
  },
  {
    "text": "much they are a very interesting class of class of people to work with because",
    "start": "757920",
    "end": "764040"
  },
  {
    "text": "almost everything we do in Gateway API or otherwise is friction to them while",
    "start": "764040",
    "end": "770480"
  },
  {
    "text": "they are trying to solve business problems this makes life really challenging sometimes and this is a",
    "start": "770480",
    "end": "775800"
  },
  {
    "text": "thing that we try to pay attention to um another thing worth pointing out as we said earlier if you're a four-person",
    "start": "775800",
    "end": "781560"
  },
  {
    "text": "startup these are probably all the same person absolutely I I've been at that startup so have I I have been all three",
    "start": "781560",
    "end": "788560"
  },
  {
    "text": "of these roles on the same day or in the same hour right if you're",
    "start": "788560",
    "end": "795279"
  },
  {
    "text": "Microsoft you probably have entirely separate teams of people in each of",
    "start": "796079",
    "end": "801120"
  },
  {
    "text": "these roles um it's also worth many of our customers yeah or yeah it's also worth noting that so for example Mike",
    "start": "801120",
    "end": "807560"
  },
  {
    "text": "does work with Microsoft in some of their customer organizations then you'll find that the",
    "start": "807560",
    "end": "815000"
  },
  {
    "text": "the infrastructure provider up at the top of that graph will be Mike it could be a different company yeah or his team",
    "start": "815000",
    "end": "822120"
  },
  {
    "text": "whereas the cluster operator will be somebody who works for the customers organization as do the apvs so these",
    "start": "822120",
    "end": "830160"
  },
  {
    "text": "these roles may or may not even be within the same company in some cases roles will be filled by automated",
    "start": "830160",
    "end": "835399"
  },
  {
    "text": "processes even but there's a lot of different ways in which the roles get",
    "start": "835399",
    "end": "841320"
  },
  {
    "text": "filled but all three of these roles are filled all the time is the interesting",
    "start": "841320",
    "end": "846560"
  },
  {
    "text": "thing there so moving along uh gway API is has a standard generic API for common",
    "start": "846560",
    "end": "852839"
  },
  {
    "text": "functionality and this is really like a core emphasis of this API is that",
    "start": "852839",
    "end": "858320"
  },
  {
    "text": "whereas Ingress B1 set out to be a small narrow scope and was relatively fixed",
    "start": "858320",
    "end": "863959"
  },
  {
    "text": "after that uh with kind of your left to your own devices if you need to do more than that gway API has been actively",
    "start": "863959",
    "end": "870160"
  },
  {
    "text": "engaging all of the implementations of it we encourage them to come to the Sig",
    "start": "870160",
    "end": "875240"
  },
  {
    "text": "uh come to the weekly meetings to contribute to show us what you're doing with it so that if we have three or four",
    "start": "875240",
    "end": "882240"
  },
  {
    "text": "implementations that are trying to accomplish the same task and have even sometimes come up with similar",
    "start": "882240",
    "end": "888880"
  },
  {
    "text": "implementations on their own we actively want that to become Upstream we want to",
    "start": "888880",
    "end": "894040"
  },
  {
    "text": "move that into the core API and we have a path to do this in a way through core",
    "start": "894040",
    "end": "899880"
  },
  {
    "text": "extended and implementation specific functionality so that it's a big tent uh for all these implementations to be able",
    "start": "899880",
    "end": "906800"
  },
  {
    "text": "to fit within this and share the functionality that makes sense to share and of course those discussions at those",
    "start": "906800",
    "end": "913720"
  },
  {
    "text": "meetings are never ever [Laughter]",
    "start": "913720",
    "end": "919079"
  },
  {
    "text": "contentious all right so should I start using Gateway API now it's an easier question now than it was last year it's",
    "start": "919079",
    "end": "926199"
  },
  {
    "text": "been GA for a year the answer is still pretty much the same but it is is easier yeah um so if you have a new Ingress or",
    "start": "926199",
    "end": "932839"
  },
  {
    "text": "service mesh deployment I've talked to a lot of folks here today A surprising number that are still at Day Zero",
    "start": "932839",
    "end": "938360"
  },
  {
    "text": "they're I'm looking at service mesh is this right for me if that's where you're starting out consider starting with",
    "start": "938360",
    "end": "943639"
  },
  {
    "text": "Gateway API yeah it's something that if you are not in a position where you have",
    "start": "943639",
    "end": "949680"
  },
  {
    "text": "a legacy infrastructure that has specific complex Advanced capabilities and you need really all of the Twist and",
    "start": "949680",
    "end": "956639"
  },
  {
    "text": "knobs in in Envoy or whatever your implementation may be if you're just starting out and you need mtls and maybe",
    "start": "956639",
    "end": "964639"
  },
  {
    "text": "some like traffic routing then yeah you should absolutely look at these Gateway API implementations to start yeah some",
    "start": "964639",
    "end": "971199"
  },
  {
    "text": "traffic routing can be pretty Advanced while we're at yes and and we're we're going to get into that and show that so",
    "start": "971199",
    "end": "976600"
  },
  {
    "text": "but there are there are a lot of places where actually you know what never mind I'm I'm getting about to stop on my go",
    "start": "976600",
    "end": "984079"
  },
  {
    "text": "ahead sorry but yeah if you go an existing stable deployment uh if you have a master solution that's already",
    "start": "984079",
    "end": "989399"
  },
  {
    "text": "working for you today start learning these Concepts uh we're actively developing Gateway API we know that",
    "start": "989399",
    "end": "995639"
  },
  {
    "text": "there are some gaps and that's stuff that we're working on for the future um and it's it's coming together we've",
    "start": "995639",
    "end": "1001759"
  },
  {
    "text": "already had more stuff land this time since uh last time that we talked in Paris so it's exciting to see this stuff",
    "start": "1001759",
    "end": "1007600"
  },
  {
    "text": "continue to evolve and yeah it's it's the most collaborative API in kubernetes history so please whether you're an",
    "start": "1007600",
    "end": "1014680"
  },
  {
    "text": "implementation looking for Gateway API or you're an end user we absolutely want more end users to tell us what you're",
    "start": "1014680",
    "end": "1021800"
  },
  {
    "text": "trying to do with Gateway API is it working for you are there issues or friction you have adopting it and make",
    "start": "1021800",
    "end": "1027360"
  },
  {
    "text": "sure that we're solving your use cases actually especially if you're an end user please drop by and let us know",
    "start": "1027360",
    "end": "1033760"
  },
  {
    "text": "what's what you think um this is a an area of particularly active development",
    "start": "1033760",
    "end": "1039678"
  },
  {
    "text": "there of how do we make sure that Gateway API is doing its job for application developers or you know for",
    "start": "1039679",
    "end": "1046319"
  },
  {
    "text": "each of these roles rather than focusing in on just one or two of them so traffic Management in the before",
    "start": "1046319",
    "end": "1052520"
  },
  {
    "text": "times you had to learn specific Ingress or route or whatever uh options for",
    "start": "1052520",
    "end": "1059720"
  },
  {
    "text": "every possible implementation uh that you would be working with and with gway",
    "start": "1059720",
    "end": "1065080"
  },
  {
    "text": "hopefully we're making that a bit simpler you learn one API and you can use it with numerous",
    "start": "1065080",
    "end": "1071120"
  },
  {
    "text": "products as we're going to show so what what can we do with",
    "start": "1071120",
    "end": "1076840"
  },
  {
    "text": "API a bunch of things um Gateway API was designed to tackle",
    "start": "1076840",
    "end": "1083080"
  },
  {
    "text": "the Engish problem you actually have to do a lot of different things to tackle that really",
    "start": "1083080",
    "end": "1089039"
  },
  {
    "text": "well so in addition to just really dirt simple things like oh traffic shows up",
    "start": "1089039",
    "end": "1094679"
  },
  {
    "text": "on this particular path and it goes to this service there's a lot of other stuff that people have come to treat as",
    "start": "1094679",
    "end": "1100679"
  },
  {
    "text": "table stakes in the Engish controller world in the API Gateway world as opposed to Gateway API",
    "start": "1100679",
    "end": "1106919"
  },
  {
    "text": "World um one of them is traffic splitting that's uh one of the things that's really common and that we're",
    "start": "1106919",
    "end": "1113720"
  },
  {
    "text": "going to show today the simple one up here right now is you know a canary sort of thing where",
    "start": "1113720",
    "end": "1121280"
  },
  {
    "text": "oh I want to take 1% of the traffic going to Foo and Route it over to the new version of Fu so I can find out if",
    "start": "1121280",
    "end": "1127520"
  },
  {
    "text": "it's working and then after a little while you do 10% and then you do 15% and at the end of it you say okay this is",
    "start": "1127520",
    "end": "1133400"
  },
  {
    "text": "great um the there's another one below that for in the multicluster world",
    "start": "1133400",
    "end": "1139559"
  },
  {
    "text": "you may very well have a service mirrored from one cluster into another another cluster and it picks up a unique",
    "start": "1139559",
    "end": "1145280"
  },
  {
    "text": "name so you can use a Gateway API route to take traffic to the new name and",
    "start": "1145280",
    "end": "1151480"
  },
  {
    "text": "Route it through to the old name or the old name and Route it through to the new name in another cluster lots and lots of interesting things you can do here for",
    "start": "1151480",
    "end": "1157600"
  },
  {
    "text": "multicluster and failover and all this stuff and one of the important things about this too is that you can do this without changing your application code",
    "start": "1157600",
    "end": "1164120"
  },
  {
    "text": "yes this is something that you can do by applying a crd to the cluster your gateway is going to pick it up and it's going to shift the traffic over while",
    "start": "1164120",
    "end": "1170919"
  },
  {
    "text": "your application's still running that's arguably one of the extremely important things if your",
    "start": "1170919",
    "end": "1176919"
  },
  {
    "text": "application thinks it wants to talk to http cfu being able to control where that",
    "start": "1176919",
    "end": "1183720"
  },
  {
    "text": "goes without having to change what your application talks to opens a lot of",
    "start": "1183720",
    "end": "1188960"
  },
  {
    "text": "doors next up probably should have put these a little bit in the other order maybe um",
    "start": "1188960",
    "end": "1196840"
  },
  {
    "text": "Dynamic request routing opens doors for things like AB testing where if a",
    "start": "1196840",
    "end": "1202200"
  },
  {
    "text": "request arrives for Fu and it has a particular header to indicate that it's a test user route it to the new version",
    "start": "1202200",
    "end": "1209400"
  },
  {
    "text": "if it doesn't have that header keep routing it to the old version this permits you not to just do random",
    "start": "1209400",
    "end": "1214840"
  },
  {
    "text": "sampling for traffic shifting but it lets you do traffic shifting based on the characteristics of the traffic and",
    "start": "1214840",
    "end": "1221360"
  },
  {
    "text": "this again opens lots and lots of doors to interesting things I'd like to point out that last note there but not the",
    "start": "1221360",
    "end": "1228200"
  },
  {
    "text": "body Gateway API is not meant to be messing with looking into the body of a request",
    "start": "1228200",
    "end": "1235000"
  },
  {
    "text": "really ever um this is currently causing a lot of problems with llms if you work",
    "start": "1235000",
    "end": "1240960"
  },
  {
    "text": "for open API please come talk to me um Progressive delivery we mentioned I",
    "start": "1240960",
    "end": "1247159"
  },
  {
    "text": "want to call out Progressive delivery and AB testing there anywhere in the call graph the API gateways have been",
    "start": "1247159",
    "end": "1254840"
  },
  {
    "text": "able to do this sort of thing for a very long time but an API Gateway can can only do these right at the edge of the",
    "start": "1254840",
    "end": "1260600"
  },
  {
    "text": "call graph where your traffic is coming into the cluster in the first place traffic happening deep in the cluster",
    "start": "1260600",
    "end": "1266120"
  },
  {
    "text": "does not go back through the API Gateway if you're doing it right but with G Gateway API and a service mesh you can",
    "start": "1266120",
    "end": "1272520"
  },
  {
    "text": "do Dynamic request routing anywhere in the call graph so if you're four layers down and you want to do an AB test go",
    "start": "1272520",
    "end": "1279559"
  },
  {
    "text": "for it it'll work and your user doesn't even have to see your user probably won't know about it hopefully um per",
    "start": "1279559",
    "end": "1286919"
  },
  {
    "text": "user canaries is a particular example of that where you can we're actually going to show that one where we have a a way",
    "start": "1286919",
    "end": "1292799"
  },
  {
    "text": "in our demo app where you can put in a username and then we'll go and pick which which of the various back ends it",
    "start": "1292799",
    "end": "1297919"
  },
  {
    "text": "goes to so that's some cool stuff um all of the things that I've been talking about so far I have used HTTP as an",
    "start": "1297919",
    "end": "1305760"
  },
  {
    "text": "example mostly because I'm used to saying HTTP a lot pretty much everything I just",
    "start": "1305760",
    "end": "1311400"
  },
  {
    "text": "described works for grpc as well this is a new thing since we did this in Paris",
    "start": "1311400",
    "end": "1316640"
  },
  {
    "text": "grpc route became standard nail standard as all gway 1.2 right or no 1.1 right",
    "start": "1316640",
    "end": "1324400"
  },
  {
    "text": "um recently I don't even remember one of the entertaining things with Gateway API is that CH things",
    "start": "1324400",
    "end": "1330520"
  },
  {
    "text": "change fairly quickly um at any rate",
    "start": "1330520",
    "end": "1337000"
  },
  {
    "text": "recently it became possible to use grpc routing and do all of these things with it as well just like we do with HTTP",
    "start": "1337000",
    "end": "1343240"
  },
  {
    "text": "route the reason that we have a separate route type for grpc is that there's a",
    "start": "1343240",
    "end": "1349640"
  },
  {
    "text": "bunch of stuff with grpc that's a little bit different and it makes the experience better for the end user if we",
    "start": "1349640",
    "end": "1355640"
  },
  {
    "text": "have a specific route so for example where HTTP routes you can do matching on the path grpc routes we have a way to",
    "start": "1355640",
    "end": "1362760"
  },
  {
    "text": "match on the grpc service and Method and we'll walk through examples we're going to walk through examples of that but it",
    "start": "1362760",
    "end": "1367880"
  },
  {
    "text": "ends up being nice um oh yeah see it says right there on the slide JPC route went GA in Gateway API version 1.1.0",
    "start": "1367880",
    "end": "1375760"
  },
  {
    "text": "since I wrote this slide I get to believe that but maybe we should double check just to be sure um important",
    "start": "1375760",
    "end": "1383240"
  },
  {
    "text": "note 1.1.0 itself had a bug in grpc route the status of grpc Route was not",
    "start": "1383240",
    "end": "1390360"
  },
  {
    "text": "marked as a sub resource uh if you are wanting to use 1.1 instead of 1.2 please use version",
    "start": "1390360",
    "end": "1397159"
  },
  {
    "text": "1.1.1 yeah that is why we are using 1.1.1 your implementations will thank",
    "start": "1397159",
    "end": "1402600"
  },
  {
    "text": "you for that yes yes all right demo architecture this is our demo this is the world famous phases",
    "start": "1402600",
    "end": "1409480"
  },
  {
    "text": "demo um this is the sort of thing that we will see when we first install it and",
    "start": "1409480",
    "end": "1415240"
  },
  {
    "text": "first start running it because faces is designed to be deliberately terrible it's supposed to show you a bunch of",
    "start": "1415240",
    "end": "1420720"
  },
  {
    "text": "grinning faces on blue backgrounds and it will not do that when we turn it on because lots of things will be failing",
    "start": "1420720",
    "end": "1427720"
  },
  {
    "text": "this is the point do not panic um we have a cluster outside the cluster we have a web browser in the browser we're",
    "start": "1427720",
    "end": "1434600"
  },
  {
    "text": "running the faces guey the faces guey you saw is a of cells for each cell the guy will call a",
    "start": "1434600",
    "end": "1441200"
  },
  {
    "text": "workload in our cluster called face the face workload will call Smiley and color",
    "start": "1441200",
    "end": "1447320"
  },
  {
    "text": "the smiley workload is supposed to return the grinning Smiley the color workload is supposed to return the color",
    "start": "1447320",
    "end": "1452440"
  },
  {
    "text": "blue the face workload composits those two together and then hands them back to the guey so that the guey can display it",
    "start": "1452440",
    "end": "1458360"
  },
  {
    "text": "for you um interesting note face uses HTTP",
    "start": "1458360",
    "end": "1463720"
  },
  {
    "text": "to talk to Smiley but it uses grpc to talk to color just so we can show off grpc routing",
    "start": "1463720",
    "end": "1470720"
  },
  {
    "text": "basically um we also have in the cluster a smiley 2 workload that has a hard eyed",
    "start": "1470720",
    "end": "1476520"
  },
  {
    "text": "Smiley and a color two workload that Returns the color green we're not using those at the beginning but we will use",
    "start": "1476520",
    "end": "1482840"
  },
  {
    "text": "them as the Dem progressives um I am not going to lie to you there's also Smiley",
    "start": "1482840",
    "end": "1488520"
  },
  {
    "text": "3 and color three but they wouldn't fit on the slide um we are using a Gateway API Ingress controller to mediate access",
    "start": "1488520",
    "end": "1496440"
  },
  {
    "text": "between the guey and the cluster for my machine this will be Envoy",
    "start": "1496440",
    "end": "1501799"
  },
  {
    "text": "Gateway for Mike's machine it will be Theo Ingress Gateway um part of the",
    "start": "1501799",
    "end": "1507679"
  },
  {
    "text": "point is that it doesn't really matter also we have a mesh running again I will be running linardy like San people",
    "start": "1507679",
    "end": "1513919"
  },
  {
    "text": "worldwide and Mike will be running and I will be using for people who need that",
    "start": "1513919",
    "end": "1519480"
  },
  {
    "text": "capabilties thing who are also saying let's be clear yes um and again part of",
    "start": "1519480",
    "end": "1524760"
  },
  {
    "text": "the point here is with one exception it's exactly the same it does not matter",
    "start": "1524760",
    "end": "1531200"
  },
  {
    "text": "which of the two you're choosing if the things that you're doing are you know the things that we're doing here in this",
    "start": "1531200",
    "end": "1537919"
  },
  {
    "text": "workshop and let's get start I guess now we get to see how kind the demo gods are going",
    "start": "1537919",
    "end": "1543760"
  },
  {
    "text": "to be to us um yeah why don't you uh why don't you go ahead and get started yeah I'm G to",
    "start": "1543760",
    "end": "1550960"
  },
  {
    "text": "I'll give you some time to get stuff up and running I'll uh so yeah um we're going to walk",
    "start": "1550960",
    "end": "1556960"
  },
  {
    "text": "through a demo of configuring service m uh with uh get API so first up we're going to start by",
    "start": "1556960",
    "end": "1564520"
  },
  {
    "text": "install I have a cluster running I spun that up just before we got started uh we're going to start by installing the service mesh and Gateway API crds and",
    "start": "1564520",
    "end": "1571559"
  },
  {
    "text": "then doing any additional setup uh our particular implementations need uh finally we'll create a name space and",
    "start": "1571559",
    "end": "1577840"
  },
  {
    "text": "set it up uh for mesh enrollment and install our application and get going I",
    "start": "1577840",
    "end": "1583159"
  },
  {
    "text": "think that what I'm going to do here is just go ahead and do this installation on this machine while we're watching it on your machine cuz the initial steps of",
    "start": "1583159",
    "end": "1590240"
  },
  {
    "text": "this are basically the same it's just going through and installing the crds and things like that it'll look exactly",
    "start": "1590240",
    "end": "1596600"
  },
  {
    "text": "the same on mine as on Mike's so Mike you can explain what you're doing absolutely and then when we get into",
    "start": "1596600",
    "end": "1602120"
  },
  {
    "text": "yeah when we get into things where we want to actually show that both infrastructures are working then we'll swap yeah so my cluster is there great",
    "start": "1602120",
    "end": "1610960"
  },
  {
    "text": "um I'm going to start by installing the gway API crds so I'm installing the 1.1.1 experimental channel uh as's a",
    "start": "1610960",
    "end": "1618520"
  },
  {
    "text": "note here uh about if you want to explain a little bit about the linkerd I you already touched on that the beginning about 1.2.0 uh Gateway with",
    "start": "1618520",
    "end": "1626320"
  },
  {
    "text": "JPC route um that is hopefully going to be um resolved in the near future but uh",
    "start": "1626320",
    "end": "1633279"
  },
  {
    "text": "for now we're on slightly not uh first slightly not the slightly not the latest",
    "start": "1633279",
    "end": "1640320"
  },
  {
    "text": "just barely not the latest it also occurs to me I actually do need to show the linky setup here because that part does look but go ahead get get S yeah s",
    "start": "1640320",
    "end": "1647880"
  },
  {
    "text": "works with both the grpc route V1 Alpha 2 as well as uh the V1 uh crd so yeah",
    "start": "1647880",
    "end": "1654440"
  },
  {
    "text": "there's one of the things that happens in Gateway API is that Gateway API does not have beta",
    "start": "1654440",
    "end": "1660519"
  },
  {
    "text": "resources we do alpha and then we go straight to the ga things and at the point where resource goes GA we tend to",
    "start": "1660519",
    "end": "1667519"
  },
  {
    "text": "remove the alpha resource because it lessens the burden on the gateway gateway API maintainers really is what",
    "start": "1667519",
    "end": "1673919"
  },
  {
    "text": "it comes down to um but it makes life a little bit interesting when you have",
    "start": "1673919",
    "end": "1679320"
  },
  {
    "text": "implementations that are using older versions of Gateway API to deal with long-term support issues and the V1",
    "start": "1679320",
    "end": "1685039"
  },
  {
    "text": "Alpha 2 resource goes away so that's the situation Linker is in so I've got s h",
    "start": "1685039",
    "end": "1690080"
  },
  {
    "text": "here I'm using the minimal profile uh to skip installing the default Ingress Gateway uh if you're looking to do this",
    "start": "1690080",
    "end": "1697320"
  },
  {
    "text": "with SEO ambient it would be profile equals ambient so very similar uh I did",
    "start": "1697320",
    "end": "1702519"
  },
  {
    "text": "not I did not know that now I'll go try it I did not have quite enough time to get it entirely working with ambient uh",
    "start": "1702519",
    "end": "1708799"
  },
  {
    "text": "it just went GA uh last week so uh 1.24 in STO um I thought it went GA this week",
    "start": "1708799",
    "end": "1715799"
  },
  {
    "text": "was that that was last week okay so I've learned two things",
    "start": "1715799",
    "end": "1721360"
  },
  {
    "text": "about Mike actually was the release manager for window 24 so kudos to",
    "start": "1721480",
    "end": "1727640"
  },
  {
    "text": "Mike so this cor is installed um we're waiting for thiso to spin",
    "start": "1727640",
    "end": "1733679"
  },
  {
    "text": "up should only take a few seconds there we go and sdo is ready to go on the",
    "start": "1733679",
    "end": "1739440"
  },
  {
    "text": "cluster now and I'll pass it over to Flyn to all right show how the Lor D",
    "start": "1739440",
    "end": "1746720"
  },
  {
    "text": "setup is going to go so yeah can we go ahead and swap",
    "start": "1746720",
    "end": "1755320"
  },
  {
    "text": "video yeah all right oh my laptop is not mirrored showtop though when I don't",
    "start": "1755760",
    "end": "1762080"
  },
  {
    "text": "want it to mirror it mirrors when I do want it to mirror it doesn't mirror",
    "start": "1762080",
    "end": "1768000"
  },
  {
    "text": "so one moment with my apologies",
    "start": "1768480",
    "end": "1773398"
  },
  {
    "text": "here all right so first off you can ignore that",
    "start": "1780320",
    "end": "1785760"
  },
  {
    "text": "the phis thing is going on um this is",
    "start": "1785760",
    "end": "1791000"
  },
  {
    "text": "the yeah this is the same text that you saw",
    "start": "1791399",
    "end": "1796559"
  },
  {
    "text": "go past with Mike where this bit we go through and install",
    "start": "1796559",
    "end": "1802840"
  },
  {
    "text": "the Gateway API crds this bit I went ahead and downloaded Linker all right I lied I",
    "start": "1802840",
    "end": "1809679"
  },
  {
    "text": "already had the right version of linker installed it just verified it Linker check-- pre is let's make sure",
    "start": "1809679",
    "end": "1817120"
  },
  {
    "text": "this cluster can run linkerd the answer is it can Linker",
    "start": "1817120",
    "end": "1823159"
  },
  {
    "text": "install I have to specifically tell Linker here when you install the crds please don't mess with any of the",
    "start": "1823159",
    "end": "1828720"
  },
  {
    "text": "Gateway apic CDs that are already there okay and then I'm going to install",
    "start": "1828720",
    "end": "1834519"
  },
  {
    "text": "linker's control plane itself and then we will go through and let it come up and be running now one of",
    "start": "1834519",
    "end": "1843600"
  },
  {
    "text": "the things that's slightly annoying about this demo as a Linker person is",
    "start": "1843600",
    "end": "1849120"
  },
  {
    "text": "that uh we do use a separate English controller so I'll be installing Envoy Gateway as well those of you who are",
    "start": "1849120",
    "end": "1855799"
  },
  {
    "text": "following through this with linkerd will be doing the same um and for sto uh you're just using",
    "start": "1855799",
    "end": "1862360"
  },
  {
    "text": "sto's Gateway API implementation to spin up its own Ingress right and it's under",
    "start": "1862360",
    "end": "1868679"
  },
  {
    "text": "the hood I feel confident that EO is doing exactly the same thing but you don't have to watch",
    "start": "1868679",
    "end": "1874799"
  },
  {
    "text": "it so there's Linker running that's the control plane",
    "start": "1877720",
    "end": "1883760"
  },
  {
    "text": "going and this bit is for Envoy Gateway we're",
    "start": "1883760",
    "end": "1888840"
  },
  {
    "text": "going to create a namespace for Envoy Gateway and then we're going to tell Envoy Gateway we're going to tell Linker",
    "start": "1888840",
    "end": "1895279"
  },
  {
    "text": "rather to go ahead and make this Gateway part of the mesh and while we're at it we're going to tell it that we're going",
    "start": "1895279",
    "end": "1901000"
  },
  {
    "text": "to use native kubernetes side cars um the native sidecar thing is kind",
    "start": "1901000",
    "end": "1907880"
  },
  {
    "text": "of interesting actually Envoy Gateway when it starts Envoy Gateway goes and creates some certificates that are used",
    "start": "1907880",
    "end": "1915559"
  },
  {
    "text": "internally for Envoy Gateway and does this with a kubernetes",
    "start": "1915559",
    "end": "1920960"
  },
  {
    "text": "job if any of you have worked with sidecar stuff before you may realize",
    "start": "1920960",
    "end": "1926039"
  },
  {
    "text": "that jobs are a little bit problematic because the job can finish but the side car keeps running before new native side",
    "start": "1926039",
    "end": "1932080"
  },
  {
    "text": "cars came around and this made life really annoying because as long as the sidecar was running the job would never",
    "start": "1932080",
    "end": "1938519"
  },
  {
    "text": "terminate but native sidecars fixes that so you that's why we use it for Envoy",
    "start": "1938519",
    "end": "1944600"
  },
  {
    "text": "Gateway and Envoy Gateway is already ready um I don't remember if you did this bit",
    "start": "1944600",
    "end": "1950679"
  },
  {
    "text": "on your side or not with the Gateway class and the Gateway itself yep that's what I have on my screen now okay then",
    "start": "1950679",
    "end": "1956679"
  },
  {
    "text": "this will be a great it's a little less finicky to deal with but yeah it's so the default",
    "start": "1956679",
    "end": "1963240"
  },
  {
    "text": "gateway class there for Envoy Gateway the default gateway itself I will put",
    "start": "1963240",
    "end": "1968760"
  },
  {
    "text": "those in and then make sure that Envoy Gateway is ready and off we go and if",
    "start": "1968760",
    "end": "1974440"
  },
  {
    "text": "you can switch back to me for a moment yep I'll be doing the exact same thing",
    "start": "1974440",
    "end": "1980279"
  },
  {
    "text": "just with uh the iso Gateway class so you look at the Gateway c p will apply",
    "start": "1980279",
    "end": "1987039"
  },
  {
    "text": "um you'll see basic Gateway class sto here uh we're creating a listener on",
    "start": "1987039",
    "end": "1992279"
  },
  {
    "text": "Port 80 and allowing routs to attach from any name space uh and our Gateway is named Ingress so these are Gateway",
    "start": "1992279",
    "end": "1998480"
  },
  {
    "text": "API CDs we just have to make sure that it's clear which implementation should be",
    "start": "1998480",
    "end": "2004679"
  },
  {
    "text": "responsible for reconciling them and that's what the Gateway class name is for yes very important note this demo is",
    "start": "2004679",
    "end": "2011000"
  },
  {
    "text": "set up to use a Gateway named Ingress if you are playing with this and you decide",
    "start": "2011000",
    "end": "2016159"
  },
  {
    "text": "to edit the game at the Gateway to be something you like better than Ingress you will also have to edit all the routes to make sure that they match or",
    "start": "2016159",
    "end": "2022880"
  },
  {
    "text": "things will get badly confused so uh my Ingress is up and running my is up and running all right it's IP address",
    "start": "2022880",
    "end": "2029000"
  },
  {
    "text": "locally um it's a note later on but uh depending on the implementation that you're using if you're using say like",
    "start": "2029000",
    "end": "2034720"
  },
  {
    "text": "Docker for Mac or something like that uh you may have to address it as Local Host instead of the actual IP um if you're",
    "start": "2034720",
    "end": "2042039"
  },
  {
    "text": "doing this on a Linux box chances are really good that that IP address that it says the Ingress is running at is where",
    "start": "2042039",
    "end": "2048398"
  },
  {
    "text": "you will go to find the Ingress if you're doing it on a Macintosh and I have seen a an amazing number of",
    "start": "2048399",
    "end": "2055679"
  },
  {
    "text": "macintoshes here especially hanging out with the Gateway API crowd it's kind of fascinating um if you're doing it with a",
    "start": "2055679",
    "end": "2062960"
  },
  {
    "text": "Macintosh and you're using Docker for Mac you will have to set up some portolio forwarding stuff and things",
    "start": "2062960",
    "end": "2068599"
  },
  {
    "text": "like that I think you're using Docker for mac and I'm using orb stack and so it's a little bit you know I get to go",
    "start": "2068599",
    "end": "2074200"
  },
  {
    "text": "to the IP address too but implementation it's the same thing it all works the same on the hood mostly yep um yeah so",
    "start": "2074200",
    "end": "2080240"
  },
  {
    "text": "we're going to install that faces app that fim was showing off as the example that we're going to walk through so",
    "start": "2080240",
    "end": "2085679"
  },
  {
    "text": "we're going to create a name space for it first and then set it up for mesh enrollment so for ISO what this looks",
    "start": "2085679",
    "end": "2092079"
  },
  {
    "text": "like is we're going to add a label to the faces namespace for side cards to be injected uh ambient mode uses a similar",
    "start": "2092079",
    "end": "2097720"
  },
  {
    "text": "mechanism just a different label uh to enroll name space into the mesh why does ambient use a different label uh because",
    "start": "2097720",
    "end": "2103400"
  },
  {
    "text": "you don't want side cars if you're running ambient is it meaningful to run ambient",
    "start": "2103400",
    "end": "2110240"
  },
  {
    "text": "and then have some of your name spaces use side cars that sounds like a smarky question it's actually a real question actually it it's very much a meaningful",
    "start": "2110240",
    "end": "2118240"
  },
  {
    "text": "thing that we know ISO users who are using side cars today are going to want to do so that's not something that works",
    "start": "2118240",
    "end": "2125960"
  },
  {
    "text": "cleanly today but it is absolutely on the road map for ambient to make sure that we're able to support and migrate",
    "start": "2125960",
    "end": "2131520"
  },
  {
    "text": "those users well I apologize for asking you something that ended up being snarkier than I no no not at all no it's",
    "start": "2131520",
    "end": "2137839"
  },
  {
    "text": "a valid use case uh that we're aware of and our play to support and it also kind of makes sense that you would have",
    "start": "2137839",
    "end": "2143160"
  },
  {
    "text": "different annotations for that as well yeah so yeah all right so uh",
    "start": "2143160",
    "end": "2148319"
  },
  {
    "text": "our uh Nam space is labeled now and now we're going to hel install the fais",
    "start": "2148319",
    "end": "2153520"
  },
  {
    "text": "application um and while he's doing that if you can slip back to me for a moment",
    "start": "2153520",
    "end": "2158880"
  },
  {
    "text": "um so I have already created the namespace here where EO uses a label linky uses an",
    "start": "2158880",
    "end": "2168960"
  },
  {
    "text": "annotation we have occasionally almost come to blows over [Laughter]",
    "start": "2168960",
    "end": "2174839"
  },
  {
    "text": "this um so specifically I'm sitting here telling linkerd hey every pod that shows",
    "start": "2174839",
    "end": "2181280"
  },
  {
    "text": "up in the fa's Nam space I want you to go ahead and bring it into the mesh and while his is installing faces I will",
    "start": "2181280",
    "end": "2188280"
  },
  {
    "text": "install faces the astute readers in the classroom will note that we both ran exactly the same Helm command um anybody",
    "start": "2188280",
    "end": "2195880"
  },
  {
    "text": "who's curious about why we're using a faces RC uh faces 2.0.0 is not GA yet because",
    "start": "2195880",
    "end": "2203839"
  },
  {
    "text": "I haven't made sure it works on my raspberry pies with blinking lights um switch back to me for a second",
    "start": "2203839",
    "end": "2211160"
  },
  {
    "text": "yeah yep so uh I've got the application installed now and hopefully we should be",
    "start": "2211160",
    "end": "2216280"
  },
  {
    "text": "able to go see the faces do we in the browser at either the IP address there or Local Host depending on your set up",
    "start": "2216280",
    "end": "2224960"
  },
  {
    "text": "hopefully it's not there and if you could flip back to me yep um I I wanted",
    "start": "2224960",
    "end": "2230520"
  },
  {
    "text": "to just show everybody that this is not because ISO is awful whoops um it",
    "start": "2230520",
    "end": "2237480"
  },
  {
    "text": "doesn't L it doesn't work on the Linker setup either and the reason is that",
    "start": "2237480",
    "end": "2246520"
  },
  {
    "text": "whoa normally I do this I have it up",
    "start": "2246520",
    "end": "2251319"
  },
  {
    "text": "yeah so yep that didn't work so we have our application but and we have our",
    "start": "2252800",
    "end": "2259839"
  },
  {
    "text": "running Engish controller and we have our running Eng controller but we haven't connected the two yet so we need to tell our Gateway",
    "start": "2259839",
    "end": "2266800"
  },
  {
    "text": "controller how to direct traffic to the guy and to do that we need to create an HTTP route so what that's going to do is",
    "start": "2266800",
    "end": "2273800"
  },
  {
    "text": "allow any HTTP request with a path starting with SLG to be directed to the faces goey service",
    "start": "2273800",
    "end": "2280560"
  },
  {
    "text": "and that makes sure that your web browser can reach it so it actually downloads the bundle of HTML and JavaScript that you need to be able to",
    "start": "2280560",
    "end": "2286440"
  },
  {
    "text": "see this so this is what an HTTP route looks like actually we can walk through that",
    "start": "2286440",
    "end": "2292800"
  },
  {
    "text": "one because we have a little bit we have some time okay we'll walk through it when I um no looking at the HD we'll",
    "start": "2292800",
    "end": "2299960"
  },
  {
    "text": "show a few more of those for sure yeah so um that created the rout on the",
    "start": "2299960",
    "end": "2305000"
  },
  {
    "text": "browser and it's there now we're able to see we're able to get to the guy and get",
    "start": "2305000",
    "end": "2312040"
  },
  {
    "text": "the HTTP sorry get the HTML but the gooey is the HTML JavaScript is served",
    "start": "2312040",
    "end": "2318319"
  },
  {
    "text": "to your browser it's running in the browser that application needs to reach back into the cluster now right going to",
    "start": "2318319",
    "end": "2324960"
  },
  {
    "text": "flip back to me for a of service all right so I have the uh the HTTP route up",
    "start": "2324960",
    "end": "2330480"
  },
  {
    "text": "um this is where I kind of wish I had a laser pointer so just walking through this a little bit um uh the API version",
    "start": "2330480",
    "end": "2339200"
  },
  {
    "text": "the kind the metadata is just kind of normal kubernetes kind of stuff",
    "start": "2339200",
    "end": "2344240"
  },
  {
    "text": "right the first interesting thing in the spec is the parent refs section which",
    "start": "2344240",
    "end": "2350599"
  },
  {
    "text": "basically is telling the thing managing all of this stuff about where we expect",
    "start": "2350599",
    "end": "2357960"
  },
  {
    "text": "requests that match this route to show up so in this case we're saying this is",
    "start": "2357960",
    "end": "2363520"
  },
  {
    "text": "a route that is supposed to be applied to traffic that shows up at the Gateway",
    "start": "2363520",
    "end": "2368760"
  },
  {
    "text": "named Ingress and that Gateway is in the default names space we are not going to talk very much",
    "start": "2368760",
    "end": "2375520"
  },
  {
    "text": "about namespace Crossing in this one if you look at the Gateway yaml that we",
    "start": "2375520",
    "end": "2381920"
  },
  {
    "text": "applied there's a chunk in there that literally says all Nam spaces are allowed that is important for this demo",
    "start": "2381920",
    "end": "2390040"
  },
  {
    "text": "it's also almost certainly not the thing that you want if you're running in",
    "start": "2390040",
    "end": "2395800"
  },
  {
    "text": "production something to be aware of in this case we're taking advantage of it by having",
    "start": "2395800",
    "end": "2400960"
  },
  {
    "text": "our Gateway in the the default namespace and then we're putting all the routes in faces because well you know I mean",
    "start": "2400960",
    "end": "2406960"
  },
  {
    "text": "that's not an unreasonable thing to do um is that my laptop going to",
    "start": "2406960",
    "end": "2412960"
  },
  {
    "text": "sleep fascinating okay working down from there we have a single rule in this",
    "start": "2412960",
    "end": "2420960"
  },
  {
    "text": "route that's set up to match anything with a path prefix of SL gooey slash",
    "start": "2420960",
    "end": "2428720"
  },
  {
    "text": "um whether to include the trailing slash is a matter of religion so you know we'll just leave that aside any traffic",
    "start": "2428720",
    "end": "2436400"
  },
  {
    "text": "any request rather that matches that path so anything where the path starts",
    "start": "2436400",
    "end": "2441560"
  },
  {
    "text": "with SL gooey slash will get handed off to the backend DS if there's more than one backend D it'll get split among them",
    "start": "2441560",
    "end": "2448040"
  },
  {
    "text": "but there's only one here the one backend D is the faces goey service on",
    "start": "2448040",
    "end": "2454200"
  },
  {
    "text": "PT 80 since we didn't specify a namespace that has to be in the same namespace as this HTTP",
    "start": "2454200",
    "end": "2460119"
  },
  {
    "text": "route um and when we go through if you look very carefully at",
    "start": "2460119",
    "end": "2466599"
  },
  {
    "text": "the indentation you'll realize that matches backend refs and filters are all at the same level they all are part of",
    "start": "2466599",
    "end": "2472880"
  },
  {
    "text": "the same rule so anything that matches that rule will also get passed through this filter and the purpose of that",
    "start": "2472880",
    "end": "2478839"
  },
  {
    "text": "filter is to rewrite the part of the path that matched in the match Clause",
    "start": "2478839",
    "end": "2484359"
  },
  {
    "text": "with a slash and the reason for that is that the microservice that's running to",
    "start": "2484359",
    "end": "2489599"
  },
  {
    "text": "serve the guey does not expect to see slgi in the path it expects to be at the",
    "start": "2489599",
    "end": "2494800"
  },
  {
    "text": "root so that's a common pattern for applications is your application often",
    "start": "2494800",
    "end": "2500119"
  },
  {
    "text": "may get exposed publicly someplace that is not directly relevant to your",
    "start": "2500119",
    "end": "2505760"
  },
  {
    "text": "internal concerns of how that should be red and your API or whatever you're building yeah exactly so it is um kind",
    "start": "2505760",
    "end": "2513000"
  },
  {
    "text": "of common to see five lines of filters in there to do that",
    "start": "2513000",
    "end": "2518440"
  },
  {
    "text": "rewrite so I shall also install this one and when I come over here I",
    "start": "2518440",
    "end": "2526160"
  },
  {
    "text": "too get grimacing faces on purple",
    "start": "2526160",
    "end": "2531359"
  },
  {
    "text": "backgrounds excellent um actually let me just keep on going for a second and then",
    "start": "2531359",
    "end": "2536680"
  },
  {
    "text": "yeah so as we mentioned before if you remember the demo architecture the guey is talking to the face workload which",
    "start": "2536680",
    "end": "2542880"
  },
  {
    "text": "talks to the smiley and color workloads so these grimacing faces on purple back grounds or what the gooey does when it",
    "start": "2542880",
    "end": "2549000"
  },
  {
    "text": "can't talk to the face surface at all so we will fix that by doing yet another HTTP route",
    "start": "2549000",
    "end": "2556720"
  },
  {
    "text": "which will look strikingly similar to the first one we did um with the notable",
    "start": "2556720",
    "end": "2562000"
  },
  {
    "text": "exception that uh okay apparently I spelled out that this is a gateway instead of letting it be defaulted in",
    "start": "2562000",
    "end": "2568359"
  },
  {
    "text": "the parent refs that's I forgot I did that sorry um it's an implicit default",
    "start": "2568359",
    "end": "2574720"
  },
  {
    "text": "if you don't add those fields it's just implicitly uh kind Gateway right of group Gateway yeah we're changing the",
    "start": "2574720",
    "end": "2582200"
  },
  {
    "text": "path prefix because we want it to Route things to slashface or sorry requests where the",
    "start": "2582200",
    "end": "2589280"
  },
  {
    "text": "path matches slashface as a prefix because that's what the guey spits over",
    "start": "2589280",
    "end": "2594839"
  },
  {
    "text": "when you when it's makes it when it is making its request",
    "start": "2594839",
    "end": "2600480"
  },
  {
    "text": "um I don't know why I put the filters next instead of putting the back end refs next I should have been consistent",
    "start": "2601000",
    "end": "2606960"
  },
  {
    "text": "there there but the point here is the backend DS Where what we said earlier",
    "start": "2606960",
    "end": "2612160"
  },
  {
    "text": "was if it matches SL slash we'll take it over to the guey service and in this case we're saying if it matches",
    "start": "2612160",
    "end": "2617800"
  },
  {
    "text": "slace we'll take it to the face service instead we do the same rewriting for exactly the same reason like just",
    "start": "2617800",
    "end": "2623599"
  },
  {
    "text": "mentioned and if we install this suddenly things are different",
    "start": "2623599",
    "end": "2630599"
  },
  {
    "text": "now and I think you can flip back to him so we can get to the same place so I'm",
    "start": "2630599",
    "end": "2635800"
  },
  {
    "text": "going to do the exact same thing same route that we're applying here I'm",
    "start": "2635800",
    "end": "2640880"
  },
  {
    "text": "going to apply it and flip back and it's working for me too now excellent and that's literally",
    "start": "2640880",
    "end": "2648079"
  },
  {
    "text": "the exact same route definition no nothing changed at all between Linker and ISO for that resour for uh this is",
    "start": "2648079",
    "end": "2656000"
  },
  {
    "text": "also making me realize that I got some of this mixed up because we actually are doing the version that has everything",
    "start": "2656000",
    "end": "2662119"
  },
  {
    "text": "working correctly up front um sorry about that",
    "start": "2662119",
    "end": "2667200"
  },
  {
    "text": "this this is the way this demo is supposed to go I misspoke at the",
    "start": "2667200",
    "end": "2672280"
  },
  {
    "text": "beginning when we were looking at the screenshot so on me sorry it's a flexible application that is often used",
    "start": "2672280",
    "end": "2678160"
  },
  {
    "text": "to demonstrate other scenarios as well yeah so yeah um want to",
    "start": "2678160",
    "end": "2686839"
  },
  {
    "text": "know let's go back into slideshow mode for a second Gateway API for mesh",
    "start": "2687240",
    "end": "2694599"
  },
  {
    "text": "mesh why yes so yeah um what can API",
    "start": "2694599",
    "end": "2699720"
  },
  {
    "text": "Gateway API do in the mesh um the I don't know moral equivalent uh",
    "start": "2699720",
    "end": "2707119"
  },
  {
    "text": "but what we're doing with Gateway fi here is unconditionally routing traffic within the mesh so that's how you start",
    "start": "2707119",
    "end": "2712319"
  },
  {
    "text": "simply uh with Ingress traffic if you remember seeing the parent W where uh on",
    "start": "2712319",
    "end": "2717359"
  },
  {
    "text": "the previous slide Flynn had actually spelled out uh the kind Gateway that was targeting as well as the name of Ingress",
    "start": "2717359",
    "end": "2723640"
  },
  {
    "text": "uh for mes traffic we can use a parent ref to attach our http uh oh sorry for in traffic we use it to",
    "start": "2723640",
    "end": "2729480"
  },
  {
    "text": "attach R to the Gateway and for mesh traffic we'll use that same parent ref but we'll explicitly point it to a",
    "start": "2729480",
    "end": "2735599"
  },
  {
    "text": "service instead actually you have some slides that talk about this oh do",
    "start": "2735599",
    "end": "2742160"
  },
  {
    "text": "I all right Mike's getting so excited by the demo sorry I I'm into the demo yeah",
    "start": "2742160",
    "end": "2749280"
  },
  {
    "text": "so uh yeah gway gamma um the gamma initiative uh is part of Gateway API it",
    "start": "2749280",
    "end": "2755880"
  },
  {
    "text": "started in 2022 to sort out how to use Gateway API for various service mesh",
    "start": "2755880",
    "end": "2761119"
  },
  {
    "text": "implementations a handful of us had interacted previously through other attempts at doing some sort of common",
    "start": "2761119",
    "end": "2767599"
  },
  {
    "text": "mesh interface um and uh when we saw the kind",
    "start": "2767599",
    "end": "2773400"
  },
  {
    "text": "of explosive growth of Gateway API it made a lot of sense for us to all come to this project and collaborate together",
    "start": "2773400",
    "end": "2780440"
  },
  {
    "text": "through this that really had buyin and excitement from so many implementations",
    "start": "2780440",
    "end": "2786200"
  },
  {
    "text": "ultimately the thing that drove some of this was if you think about it HTTP",
    "start": "2786200",
    "end": "2791720"
  },
  {
    "text": "requests are HTTP requests if you're if you have a mechanism for describing an",
    "start": "2791720",
    "end": "2797400"
  },
  {
    "text": "HTTP route that happens north south from out of the cluster to into the cluster",
    "start": "2797400",
    "end": "2803040"
  },
  {
    "text": "you probably ought to be able to use that mechanism to talk about routing HTTP traffic East West as well well I",
    "start": "2803040",
    "end": "2809240"
  },
  {
    "text": "mean obviously there are some places where it doesn't work flawlessly but or sorry there are some places where that",
    "start": "2809240",
    "end": "2815599"
  },
  {
    "text": "model breaks down a little bit and you want to do slightly different things there are some places where the mesh",
    "start": "2815599",
    "end": "2820720"
  },
  {
    "text": "won't do exactly the same thing like a mesh doing cores is probably a strange concept but the same routing concept",
    "start": "2820720",
    "end": "2828319"
  },
  {
    "text": "makes a lot of sense yeah so yeah uh Licor D has been using Gateway API for mesh traffic since 2.13 so I think",
    "start": "2828319",
    "end": "2835240"
  },
  {
    "text": "that's more it's a little while yeah it's a little while now uh and sto has been using Gateway for Ingress for an",
    "start": "2835240",
    "end": "2841880"
  },
  {
    "text": "extremely long time and uh mess traffic for close to the same amount of time",
    "start": "2841880",
    "end": "2846920"
  },
  {
    "text": "Linker has been using it so many releases by this point I think I might",
    "start": "2846920",
    "end": "2852319"
  },
  {
    "text": "be a misremembering I feel like linkerd and EO both ended up shipping it like right about the same time it was pretty",
    "start": "2852319",
    "end": "2858359"
  },
  {
    "text": "CL like the same month you know something like that yeah so gway P gamma uh mess traffic routing is configured",
    "start": "2858359",
    "end": "2865440"
  },
  {
    "text": "with the Gateway API HTTP route and grpc rout resources uh we're going to use a parent",
    "start": "2865440",
    "end": "2871040"
  },
  {
    "text": "rough to associate the HTTP route with the service you want to affect and then using backend RS to describe where you",
    "start": "2871040",
    "end": "2877559"
  },
  {
    "text": "want that traffic to go please note we said service there not Gateway or other",
    "start": "2877559",
    "end": "2883079"
  },
  {
    "text": "funky thing and that was what I was jumping ahead to uh with kind of the differentiation between uh if you do not",
    "start": "2883079",
    "end": "2889559"
  },
  {
    "text": "specify a kind for your parent ref it is implicitly assumes a Gateway Target right so for mesh purposes you're going",
    "start": "2889559",
    "end": "2895760"
  },
  {
    "text": "to have kind Service uh to make group kind Service",
    "start": "2895760",
    "end": "2901280"
  },
  {
    "text": "Group uh the kubernetes core API Group is a little funky it is an explicit",
    "start": "2901280",
    "end": "2906319"
  },
  {
    "text": "empty string yeah I think with linkerd it works to say group core as well yeah",
    "start": "2906319",
    "end": "2913240"
  },
  {
    "text": "but that's a Linker ISM so yeah that's not the right the right we're going to stick to the parts that are uh",
    "start": "2913240",
    "end": "2919839"
  },
  {
    "text": "compatible the standard yes uh and for mesh there's many things that you can't",
    "start": "2919839",
    "end": "2925520"
  },
  {
    "text": "currently do that are functionality that people have come to expect from service meshes but we're actively working on",
    "start": "2925520",
    "end": "2931799"
  },
  {
    "text": "making all of this better quickly uh this slide I was just editing it last night",
    "start": "2931799",
    "end": "2937400"
  },
  {
    "text": "and that's why I'm reading it and it's fun so uh last time this was",
    "start": "2937400",
    "end": "2942720"
  },
  {
    "text": "talking about timeouts being something new T have been around now uh for a couple releases so uh it's not worth",
    "start": "2942720",
    "end": "2949559"
  },
  {
    "text": "including as a actively working on coming soon thing I think they actually graduated the standard in 1.2 I think",
    "start": "2949559",
    "end": "2955160"
  },
  {
    "text": "you're right yeah um so that's a standard part of for HTTP route yes yes uh get into that yeah um so uh a recent",
    "start": "2955160",
    "end": "2964920"
  },
  {
    "text": "Gap uh that was also in 1.2 is introducing the concept of retries on",
    "start": "2964920",
    "end": "2970280"
  },
  {
    "text": "HTTP route this is only experimental and it just landed in the experimental channel on gway API 1.2 uh so it's only",
    "start": "2970280",
    "end": "2977559"
  },
  {
    "text": "been around for a couple weeks so I was going to say I don't think anybody's implemented it yet right but we I think",
    "start": "2977559",
    "end": "2983079"
  },
  {
    "text": "Envoy Gateway might have because huh yeah so but in any case um we're it's",
    "start": "2983079",
    "end": "2989160"
  },
  {
    "text": "definitely start looking for Downstream implementation soon uh it's work that is now possible because it's included in",
    "start": "2989160",
    "end": "2995359"
  },
  {
    "text": "the spec so path of uh some functional like this is introduced as experimental we have a",
    "start": "2995359",
    "end": "3003079"
  },
  {
    "text": "couple implementations start supporting it we write conformance tests for it and after it's stuck around and matured and",
    "start": "3003079",
    "end": "3008799"
  },
  {
    "text": "we're sure that this is what we want then it gets pred to the standard channel of Gateway API and that's kind of the progression that all of this",
    "start": "3008799",
    "end": "3015000"
  },
  {
    "text": "functionality goes through or we decide that it's not what we want and we drop",
    "start": "3015000",
    "end": "3020040"
  },
  {
    "text": "it from the experimental Channel yeah and that's the purpose of why experimental exists is to allow us to",
    "start": "3020040",
    "end": "3025359"
  },
  {
    "text": "try these things before committing to it as a permanent stable API yep so yeah",
    "start": "3025359",
    "end": "3030440"
  },
  {
    "text": "there there's work in progress to bring timeouts and retries to grpc Route 2 uh I think hopefully both of these are",
    "start": "3030440",
    "end": "3036319"
  },
  {
    "text": "things that are going to be worked on during the 1.3 time frame fingers crossed on that we're we're currently uh doing the planning cycle for that so uh",
    "start": "3036319",
    "end": "3044319"
  },
  {
    "text": "look for the Gateway API discussions uh on the GitHub repo if you uh want to",
    "start": "3044319",
    "end": "3049760"
  },
  {
    "text": "contribute to helping decide what we're going to prioritize for that next release um but do it quickly if you want",
    "start": "3049760",
    "end": "3055400"
  },
  {
    "text": "to have any say what we prioritize in 1.3 because I think that closes tomorrow",
    "start": "3055400",
    "end": "3060760"
  },
  {
    "text": "two weeks no I I think I think it was our week or so I don't remember yeah soon though can you tell that we've both",
    "start": "3060760",
    "end": "3066359"
  },
  {
    "text": "been spending all our time recently getting ready for cucon instead of reading all the Gateway enhancement",
    "start": "3066359",
    "end": "3072079"
  },
  {
    "text": "proposals yeah uh rate limiting policy it's a bit trickier it's something that",
    "start": "3072079",
    "end": "3077520"
  },
  {
    "text": "has more Divergence between implementations uh it is also on our",
    "start": "3077520",
    "end": "3083119"
  },
  {
    "text": "radar though so a few implementations have started experimenting with it already and hopefully that's one of the",
    "start": "3083119",
    "end": "3089240"
  },
  {
    "text": "things that will again as I mentioned earlier kind of have that convergence of we get a few early experiments and then",
    "start": "3089240",
    "end": "3095200"
  },
  {
    "text": "start to Define what that spec might look like um identity based auz policy",
    "start": "3095200",
    "end": "3100280"
  },
  {
    "text": "is another core service match functionality uh we hope to expand AR scope to eventually include it right now",
    "start": "3100280",
    "end": "3106000"
  },
  {
    "text": "we know that ay policy is possible to implement within each mesh so yes it's a",
    "start": "3106000",
    "end": "3111359"
  },
  {
    "text": "slightly longer taale uh we're trying to solve the kind of offend Ingress problem first",
    "start": "3111359",
    "end": "3117079"
  },
  {
    "text": "because that's something that has really been a pain point for adopting Gateway API broadly and making sure that we can",
    "start": "3117079",
    "end": "3123640"
  },
  {
    "text": "get those trusted users with their validated identity through the Ingress and into uh the mesh uh Services great a",
    "start": "3123640",
    "end": "3132319"
  },
  {
    "text": "this hard all right uh I think we can go back to the demo to yeah",
    "start": "3132319",
    "end": "3139720"
  },
  {
    "text": "yeah so yeah let's walk through this um we're going to take a look at basically",
    "start": "3139720",
    "end": "3146880"
  },
  {
    "text": "the simple example of just uh routing all of the traffic intended for the",
    "start": "3146880",
    "end": "3152040"
  },
  {
    "text": "service to itself um so we have parent refs here with kind service the empty string group",
    "start": "3152040",
    "end": "3160119"
  },
  {
    "text": "and it's going to put any service that's where we're trying to intercept traffic from and that's what we're doing with",
    "start": "3160119",
    "end": "3166079"
  },
  {
    "text": "the parent ref there but it's not sended anywhere Different At first I don't even think we actually",
    "start": "3166079",
    "end": "3173240"
  },
  {
    "text": "apply that one yeah that's uh that's just the demonstration of the simplest possible thing we could do yeah so this",
    "start": "3173240",
    "end": "3180520"
  },
  {
    "text": "is what we're going to do now is actually redirect that traffic so you",
    "start": "3180520",
    "end": "3185880"
  },
  {
    "text": "saw the smiley 2 Service uh in the beginning uh when we were talking about the architecture of this demo uh it's",
    "start": "3185880",
    "end": "3191160"
  },
  {
    "text": "going to return a different smiley face it's smile a hard a hardey smiley face",
    "start": "3191160",
    "end": "3196680"
  },
  {
    "text": "so when we apply this all the traffic that's currently going to the smiley service will be redirected so I'm going",
    "start": "3196680",
    "end": "3203119"
  },
  {
    "text": "to apply that and then jump back over to my app and everything's going to the",
    "start": "3203119",
    "end": "3210040"
  },
  {
    "text": "hard eyes and you can flip over here now this is the same route you can see",
    "start": "3210040",
    "end": "3217920"
  },
  {
    "text": "it on screen there and there you go it works in both",
    "start": "3217920",
    "end": "3224640"
  },
  {
    "text": "implementations which is one of those things that always sounds like it's kind of silly to say right oh we both did the",
    "start": "3224640",
    "end": "3231680"
  },
  {
    "text": "same thing and the same thing happened isn't that great well it kind of is",
    "start": "3231680",
    "end": "3236760"
  },
  {
    "text": "great because lingery and EO are very very different under the hood so yeah",
    "start": "3236760",
    "end": "3241960"
  },
  {
    "text": "it's pretty cool um the next thing custom rust based proxy that you've dra ourselves we're building on top of envoy",
    "start": "3241960",
    "end": "3248599"
  },
  {
    "text": "or slight different yeah yeah um and we can actually do the same thing for grpc",
    "start": "3248599",
    "end": "3253799"
  },
  {
    "text": "as well here so when we talked about the demo architecture face talks to Smiley",
    "start": "3253799",
    "end": "3259280"
  },
  {
    "text": "using HTTP but it's talks to color using grpc so I can take this grpc route and",
    "start": "3259280",
    "end": "3266880"
  },
  {
    "text": "if you look back a little bit this route is just taking everything",
    "start": "3266880",
    "end": "3275359"
  },
  {
    "text": "to the smiley service and tossing it over Smiley 2 a request that is",
    "start": "3275359",
    "end": "3280799"
  },
  {
    "text": "presented a request that is directed to the service whose name is smiley is",
    "start": "3280799",
    "end": "3285880"
  },
  {
    "text": "instead going to be turned and sent to the service Nam Smiley too um this is",
    "start": "3285880",
    "end": "3291520"
  },
  {
    "text": "exactly the same thing we changed this to grpc route we changed this to talk about the color",
    "start": "3291520",
    "end": "3298079"
  },
  {
    "text": "service instead of the smiley service and we changed this to color two instead of Smiley 2 and why I install that you",
    "start": "3298079",
    "end": "3305240"
  },
  {
    "text": "will see all of the colors change to green and now we can flip back and",
    "start": "3305240",
    "end": "3311520"
  },
  {
    "text": "observe uh the empty string group the default group for a backend D is",
    "start": "3311520",
    "end": "3317799"
  },
  {
    "text": "gateway. networking. Kates doio there is no service resource within that API",
    "start": "3317799",
    "end": "3323680"
  },
  {
    "text": "Group the service resource exists in the the core kubernetes API Group and the",
    "start": "3323680",
    "end": "3328839"
  },
  {
    "text": "official name of the core kubernetes API Group is the empty string talk to the kubernetes",
    "start": "3328839",
    "end": "3335000"
  },
  {
    "text": "maintainers if you think that's silly yeah so uh there we go I was pleasantly",
    "start": "3335000",
    "end": "3340280"
  },
  {
    "text": "surprised the first time I I ran through this because Flynn actually wrote this uh GC stuff and I was fingers crossed I",
    "start": "3340280",
    "end": "3346280"
  },
  {
    "text": "hope this works on ISO and it did it did it just the first time I ran through it I didn't have to change anything tweak",
    "start": "3346280",
    "end": "3351720"
  },
  {
    "text": "anything it it just worked so that's which is he sent me a slack message going it worked this is great so yeah",
    "start": "3351720",
    "end": "3359559"
  },
  {
    "text": "this is exactly the kind of experience that we want all G API users to have is once you understand and learn the spec",
    "start": "3359559",
    "end": "3366280"
  },
  {
    "text": "no matter what implementation you're working with if you change jobs if you change meshes if you change ingresses",
    "start": "3366280",
    "end": "3372400"
  },
  {
    "text": "for any reason if you migrate from EO to lty if you have to work with both of them yeah yeah uh you learn this one API",
    "start": "3372400",
    "end": "3379839"
  },
  {
    "text": "for the record working with both of them is way more common than you might think especially in some of these larger",
    "start": "3379839",
    "end": "3385400"
  },
  {
    "text": "organizations yes yeah so yeah uh in practice this kind of unconditional routing where you",
    "start": "3385400",
    "end": "3391319"
  },
  {
    "text": "permanently redirect something it's not always a great idea to kind of keep it in that state um that's an understate",
    "start": "3391319",
    "end": "3398599"
  },
  {
    "text": "yeah so suppose um we sent all this Smiley 2 only find out Smiley 2 is",
    "start": "3398599",
    "end": "3405440"
  },
  {
    "text": "broken the I mean that never happens in practice you would never deploy a",
    "start": "3405440",
    "end": "3410480"
  },
  {
    "text": "service that turns out to be broken right at least in that situation we can just delete that route and everything go",
    "start": "3410480",
    "end": "3416280"
  },
  {
    "text": "goes back or we can edit the route to redirect back itself to whatever it was beforehand and that's yeah assuming we",
    "start": "3416280",
    "end": "3422720"
  },
  {
    "text": "noticed it was broken right away if we didn't a lot of people would be unhappy they'd be tweeting about it or Tik",
    "start": "3422720",
    "end": "3429400"
  },
  {
    "text": "tocking about it or whatever we're doing now we're not talking about the observability part of service mesh",
    "start": "3429400",
    "end": "3435359"
  },
  {
    "text": "service meshes are supposed to be adding security reliability and observability we are not talking about the",
    "start": "3435359",
    "end": "3440680"
  },
  {
    "text": "observability part because Gateway API doesn't really deal with observability",
    "start": "3440680",
    "end": "3446000"
  },
  {
    "text": "and you still end up with very very different observability things",
    "start": "3446000",
    "end": "3451799"
  },
  {
    "text": "but yeah observability is important you really need to know if somebody has dumped a route in that is routing to a",
    "start": "3451799",
    "end": "3458280"
  },
  {
    "text": "broken service for example yeah so so in any case we want a different pattern of instead of just 100% shifting everything",
    "start": "3458280",
    "end": "3465160"
  },
  {
    "text": "over we want to test it and make sure it's working first um ideally before we shut down and get rid of that original",
    "start": "3465160",
    "end": "3471960"
  },
  {
    "text": "service so to do that uh the concept was called canaries um and what we're doing with that is",
    "start": "3471960",
    "end": "3479640"
  },
  {
    "text": "assigning just a little bit of incoming traffic to a new workload and if things go well if that Canary is successful you",
    "start": "3479640",
    "end": "3487000"
  },
  {
    "text": "can start shifting more and more of it incrementally over until you do have that 100% And that's called Progressive",
    "start": "3487000",
    "end": "3493400"
  },
  {
    "text": "delivery is kind of the concept for that so to demonstrate this with Gateway API we're going to first reset back to our",
    "start": "3493400",
    "end": "3500079"
  },
  {
    "text": "known good state with uh the blue backgrounds and the Smileys so we're deleting uh the couple roots that we've",
    "start": "3500079",
    "end": "3505799"
  },
  {
    "text": "added and to be honest about this I decided to throw in the reset step because when I",
    "start": "3505799",
    "end": "3511680"
  },
  {
    "text": "did it without the reset step I got confused trying to remember what the state of the world was yeah yeah so uh",
    "start": "3511680",
    "end": "3518520"
  },
  {
    "text": "this is the new Canary route that we're applying so the difference here if you look closely at the back end refs uh",
    "start": "3518520",
    "end": "3524559"
  },
  {
    "text": "We've added a new weight field well we've added a second back end ref too oh yeah yeah yeah that's that's also",
    "start": "3524559",
    "end": "3530680"
  },
  {
    "text": "important yes yeah so um how it knows to split between them is by that weight",
    "start": "3530680",
    "end": "3536680"
  },
  {
    "text": "field of knowing how much traffic to assign to each one these numbers don't have to add up to 100 it's just tends to",
    "start": "3536680",
    "end": "3543720"
  },
  {
    "text": "make a little bit more sense when they do um a little easier to read but yeah it'll do the percentage waiting so if",
    "start": "3543720",
    "end": "3548880"
  },
  {
    "text": "you have 3 to one or something like that it'll be the same as 7525 yeah and if",
    "start": "3548880",
    "end": "3554119"
  },
  {
    "text": "you leave out the weight entirely it'll do a an equal weight equal split between all your back end RS yes so we're back",
    "start": "3554119",
    "end": "3562480"
  },
  {
    "text": "to our known good State here and when we apply this root we should start seeing",
    "start": "3562480",
    "end": "3568240"
  },
  {
    "text": "just a handful there's a couple if you look",
    "start": "3568240",
    "end": "3575440"
  },
  {
    "text": "closely of the heart-eyed ones the the exercise of figuring out how many cells should be showing a hearty Smiley at 10%",
    "start": "3575440",
    "end": "3582119"
  },
  {
    "text": "is left as an exercise for the reader um but uh that looks about right to",
    "start": "3582119",
    "end": "3588839"
  },
  {
    "text": "me so once we see a couple that are successful we're going to change the fraction of traffic being diverted uh",
    "start": "3588839",
    "end": "3596160"
  },
  {
    "text": "just by changing the weights in the HTP route normally you would not go from 10% to 50% in one step let's be clear um",
    "start": "3596160",
    "end": "3604920"
  },
  {
    "text": "there are but we only have half hour left and Integrations with Telemetry that you can do to go check out changes",
    "start": "3604920",
    "end": "3612119"
  },
  {
    "text": "more incremental automated way but we're just going to bump it up uh to 50/50 because it looks good enough to us right",
    "start": "3612119",
    "end": "3618079"
  },
  {
    "text": "now right and our earlier point you could do this by just deleting the weights entirely but if you're doing",
    "start": "3618079",
    "end": "3625480"
  },
  {
    "text": "percentage based waiting it feels more natural to edit the value instead of just deleting it and and we're going to",
    "start": "3625480",
    "end": "3631240"
  },
  {
    "text": "keep going with we're going to keep going of course so we know that we want to keep this STI H have this rout stick",
    "start": "3631240",
    "end": "3636559"
  },
  {
    "text": "around for a little bit so at 50/50 start seeing a lot more hard",
    "start": "3636559",
    "end": "3641880"
  },
  {
    "text": "eyes looking good and finally we'll go back to a kind",
    "start": "3641880",
    "end": "3648720"
  },
  {
    "text": "of unconditional route where we set one weight to zero and the other to 100 we could also just delete the",
    "start": "3648720",
    "end": "3655599"
  },
  {
    "text": "original Smiley back and ref but right it's two different ways to do the same thing part of the point here is to",
    "start": "3655599",
    "end": "3661680"
  },
  {
    "text": "recognize that we mentioned that the weights don't have to add up to 100 and that is true but a weight of zero always",
    "start": "3661680",
    "end": "3668400"
  },
  {
    "text": "means don't give any traffic to this back end DFT and especially if you're",
    "start": "3668400",
    "end": "3673640"
  },
  {
    "text": "doing things with like coup control patch it can be a lot easier to set the value than it is to delete the whole",
    "start": "3673640",
    "end": "3679000"
  },
  {
    "text": "stanza y um how about flip over here for a second so yeah we've got hard eyes there so I'm going to do this a lot",
    "start": "3679000",
    "end": "3686039"
  },
  {
    "text": "quicker than Mike just did but I just applied the 10% weight so we can see",
    "start": "3686039",
    "end": "3691799"
  },
  {
    "text": "that I'm getting a few Smileys up there and there's applying the 50%",
    "start": "3691799",
    "end": "3698880"
  },
  {
    "text": "weight and there's the 100% weight so once again we've done the same",
    "start": "3698880",
    "end": "3707079"
  },
  {
    "text": "thing with two wildly different infrastructures and gotten the same results which is pretty cool um yeah",
    "start": "3707079",
    "end": "3713240"
  },
  {
    "text": "we're going to get rid of that over yeah we're going to prove these SMY workload is doing nothing so there you go I've",
    "start": "3713240",
    "end": "3718960"
  },
  {
    "text": "scaled it down to zero replicas and my application is still working because",
    "start": "3718960",
    "end": "3724079"
  },
  {
    "text": "there's no traffic going to that original smiley workload",
    "start": "3724079",
    "end": "3729278"
  },
  {
    "text": "anymore um do want keep driving switch back to",
    "start": "3729640",
    "end": "3734760"
  },
  {
    "text": "uh yeah let me I'll drive this bit for a second um we mentioned earlier that from the",
    "start": "3734760",
    "end": "3741440"
  },
  {
    "text": "operational point of view this is not a good place to be because if you come back to this 6 weeks later you will have",
    "start": "3741440",
    "end": "3748359"
  },
  {
    "text": "forgotten that that route is doing unconditional stuff so if it's 6 weeks later and something is going wrong with",
    "start": "3748359",
    "end": "3755559"
  },
  {
    "text": "the application and you're seeing cursing Smileys instead of heart-eyed Smileys or something like that the onall",
    "start": "3755559",
    "end": "3760720"
  },
  {
    "text": "engineer goes through and says oh hey I should look at the logs for the face work load and they look at that and they",
    "start": "3760720",
    "end": "3766440"
  },
  {
    "text": "say oh hey look at this the face workload is going to talk to HTP and SL Smiley that's great I'll go look at the",
    "start": "3766440",
    "end": "3772799"
  },
  {
    "text": "smiley workload then they get the logs for the smiley workload and they find that there are no",
    "start": "3772799",
    "end": "3777960"
  },
  {
    "text": "pods maybe they weren't even around when this route got installed maybe they don't know what's going on maybe they",
    "start": "3777960",
    "end": "3783520"
  },
  {
    "text": "were the ones who installed it but then they forgot it this never happens to me um so yeah",
    "start": "3783520",
    "end": "3790000"
  },
  {
    "text": "it's operationally this sort of unconditional routing is not a good idea",
    "start": "3790000",
    "end": "3796359"
  },
  {
    "text": "so the right way to deal with this would be after we scale Smiley to zero the right way to do it would be to redeploy",
    "start": "3796359",
    "end": "3802680"
  },
  {
    "text": "the smiley workload with you know the version that is returning the hard-eyed Smileys bring it back up and then delete",
    "start": "3802680",
    "end": "3809480"
  },
  {
    "text": "the route because that way you're not relying on this sort of unconditional routing doing weird things um for this",
    "start": "3809480",
    "end": "3816079"
  },
  {
    "text": "particular Workshop we're just going to scale the smiley Workshop back up or Smiley workload back up oh yeah um and",
    "start": "3816079",
    "end": "3823279"
  },
  {
    "text": "then delete the HTTP route so that we can come back to grinning Smileys",
    "start": "3823279",
    "end": "3828839"
  },
  {
    "text": "um now we're going to run through the same thing with we're going to run through the same thing with color you want to uh let's go back over to yours",
    "start": "3828839",
    "end": "3835799"
  },
  {
    "text": "so that you can show that when you did the same thing I oh you've already done it I already did I just skipped ahead",
    "start": "3835799",
    "end": "3840960"
  },
  {
    "text": "want to make sure that we get through all of this yeah so yeah it's always funny you hear oh it's a 90-minute workshop we've got all the time in the",
    "start": "3840960",
    "end": "3847160"
  },
  {
    "text": "world no we really don't so yeah we can con JPC Services too um as we mentioned",
    "start": "3847160",
    "end": "3852400"
  },
  {
    "text": "earlier we're using grpc for the color workload so we're going to look at uh a grpc route with the same kind of back",
    "start": "3852400",
    "end": "3859960"
  },
  {
    "text": "ends uh color and color two and we're starting a little bit more aggressively with a weight of 25 and",
    "start": "3859960",
    "end": "3866400"
  },
  {
    "text": "75 so where I'm at now is Just Smiles with the blue",
    "start": "3866400",
    "end": "3871599"
  },
  {
    "text": "background and when I apply this route just start see a few green",
    "start": "3871599",
    "end": "3879799"
  },
  {
    "text": "cells and we can again bump it up to",
    "start": "3880520",
    "end": "3887440"
  },
  {
    "text": "50/50 start to see a few more the random numbers get really weird",
    "start": "3887640",
    "end": "3897000"
  },
  {
    "text": "that looked like more than 50/50 whatever all right so right now we're",
    "start": "3897680",
    "end": "3903880"
  },
  {
    "text": "kind of sitting uh in the Middle with it a 50/50 split so um we'll move ahead to",
    "start": "3903880",
    "end": "3909720"
  },
  {
    "text": "a little bit to talk about Dynamic routing so this is what we kind of covered earlier of G API lets you make routing decisions based on various",
    "start": "3909720",
    "end": "3915880"
  },
  {
    "text": "information in the request itself so the path the headers the query parameters uh in the previous example we",
    "start": "3915880",
    "end": "3922520"
  },
  {
    "text": "were just doing a canary based on what service was being called um but we can",
    "start": "3922520",
    "end": "3927559"
  },
  {
    "text": "actually make that much more granular we can for HTTP we can route on the path we rout on the headers uh GBC We R on the",
    "start": "3927559",
    "end": "3934039"
  },
  {
    "text": "method was common way to do that so uh and on our demo example all the cells on",
    "start": "3934039",
    "end": "3941000"
  },
  {
    "text": "the edge actually have a different HTTP path for them so and a different grpc",
    "start": "3941000",
    "end": "3946039"
  },
  {
    "text": "method while we're at it okay yes yeah so we're going to take a look at what it would look like to actually write a rule",
    "start": "3946039",
    "end": "3952400"
  },
  {
    "text": "that matches on a path of sln Edge let me flip back over here to catch up with",
    "start": "3952400",
    "end": "3958920"
  },
  {
    "text": "you so that we don't have to walk get too far out of sink here yep so there's my 25% Smiley or",
    "start": "3958920",
    "end": "3965960"
  },
  {
    "text": "colors and there's my 50% colors so half green half blue give or",
    "start": "3965960",
    "end": "3973880"
  },
  {
    "text": "take random numbers or a thing",
    "start": "3973880",
    "end": "3978558"
  },
  {
    "text": "um yeah we'll just swap here for a second yeah yeah keep going so here we're going to do a",
    "start": "3979000",
    "end": "3986200"
  },
  {
    "text": "really an AV test of the Smileys where anything if you look at the matches",
    "start": "3986200",
    "end": "3991520"
  },
  {
    "text": "there anything where the path looks like slash Edge will get sent over to Smiley 2 so we should get hard-eyed smileys I",
    "start": "3991520",
    "end": "3998680"
  },
  {
    "text": "have to really rename these as hearts and things like that and uh anything that doesn't match because again if you",
    "start": "3998680",
    "end": "4005039"
  },
  {
    "text": "look carefully at the indentation this is a single match you're a single rule I should be saying",
    "start": "4005039",
    "end": "4011799"
  },
  {
    "text": "so if it matches sled slash we go to the backend D for this Rule and if it doesn't we'll go to this one which we",
    "start": "4011799",
    "end": "4019960"
  },
  {
    "text": "don't specify a match so that's basically anything else more specific things win in Gateway API if you have",
    "start": "4019960",
    "end": "4026960"
  },
  {
    "text": "two things that are exactly the same specificity we can go and talk about conflict resolution but more specific",
    "start": "4026960",
    "end": "4033359"
  },
  {
    "text": "things always win so when I apply this all of the cells around the edge will",
    "start": "4033359",
    "end": "4038400"
  },
  {
    "text": "get hard-eyed smileys and the ones in the middle stick with grinning Smileys and let's flip back so that we can show",
    "start": "4038400",
    "end": "4044079"
  },
  {
    "text": "that with EO as well looking the same thing applying the same thing and again",
    "start": "4044079",
    "end": "4050279"
  },
  {
    "text": "around the edge so yeah this is a very common need for if you're doing anything",
    "start": "4050279",
    "end": "4055480"
  },
  {
    "text": "like redirecting traffic to one uh like say like splitting up a a monolith into",
    "start": "4055480",
    "end": "4061079"
  },
  {
    "text": "a micro service is kind of a common example of this you have this one large service that has many different paths",
    "start": "4061079",
    "end": "4067839"
  },
  {
    "text": "that it's serving on and if you're breaking on one of those off into a microservice you can write an HTP route",
    "start": "4067839",
    "end": "4073079"
  },
  {
    "text": "to redirect traffic to that different back end only when it matches that particular path so it's a really common",
    "start": "4073079",
    "end": "4078160"
  },
  {
    "text": "pattern for being able to decompose these large applications as you're making them more Cloud native",
    "start": "4078160",
    "end": "4085000"
  },
  {
    "text": "yep all right now we're to combine that with a canary and get really wild and crazy y",
    "start": "4085000",
    "end": "4093039"
  },
  {
    "text": "so yeah you you can use these rules together um so for this one uh for the",
    "start": "4093039",
    "end": "4098600"
  },
  {
    "text": "edge we're going to do a 50/50 weight between Smiley 2 and smiley 3 we're",
    "start": "4098600",
    "end": "4103679"
  },
  {
    "text": "smile you we running out of smiley this Smiley 3 is supposed to roll return Smileys with rolling eyes just for the",
    "start": "4103679",
    "end": "4109440"
  },
  {
    "text": "record yep so we're rolling out say a new version of uh that microservice that",
    "start": "4109440",
    "end": "4114600"
  },
  {
    "text": "we're trying to deploy and when we do that so let's do this and something went",
    "start": "4114600",
    "end": "4122318"
  },
  {
    "text": "wrong uh I mean you get I got some of them you get some with rolling eyes and",
    "start": "4122319",
    "end": "4127520"
  },
  {
    "text": "you get some that are cursing because so we we had a bad deploy yeah this is a problem our developer on Smiley 3 was",
    "start": "4127520",
    "end": "4133480"
  },
  {
    "text": "clearly asleep with the wheel yep uh so what do we do here we need a roll back um halim smile",
    "start": "4133480",
    "end": "4142758"
  },
  {
    "text": "is not returning the face with the rolling eyes that we expect instead it's returning this cursing face um which is",
    "start": "4142759",
    "end": "4149640"
  },
  {
    "text": "not what we expect so to roll back we'll just apply reapply the previous HTTP route um so we get the hardey smilees uh",
    "start": "4149640",
    "end": "4157560"
  },
  {
    "text": "back on the edge cells if you're doing a like configuration as code thing maybe you push a get revert to roll back and",
    "start": "4157560",
    "end": "4164238"
  },
  {
    "text": "every and your CI system rolls this out for you automatically so the specific way that you apply the route doesn't",
    "start": "4164239",
    "end": "4170318"
  },
  {
    "text": "really matter to us so go I applied it and we're back to",
    "start": "4170319",
    "end": "4175400"
  },
  {
    "text": "this known good State all without doing anything with like restarting the pods or doing an entire new deployment we're",
    "start": "4175400",
    "end": "4181798"
  },
  {
    "text": "just shifting the traffic yep um swap back to you yeah let's swap back to me for a",
    "start": "4181799",
    "end": "4187640"
  },
  {
    "text": "moment same thing there's my bit where I've added a backend draft for Smiley 3",
    "start": "4187640",
    "end": "4194480"
  },
  {
    "text": "into my list on the edge I will apply that and once again it's not just eo's",
    "start": "4194480",
    "end": "4201000"
  },
  {
    "text": "problem here mine is doing exactly the same thing and I will respond exactly",
    "start": "4201000",
    "end": "4207040"
  },
  {
    "text": "the same way by getting rid of smiley 3 and going back to just Smiley too",
    "start": "4207040",
    "end": "4214880"
  },
  {
    "text": "um as Mike points out one of the really important things here is you don't have to go wake up your application",
    "start": "4214880",
    "end": "4220679"
  },
  {
    "text": "developers at 8:00 p.m. on a Friday night you can just fix it in the mesh and be done with it at least until",
    "start": "4220679",
    "end": "4227280"
  },
  {
    "text": "Monday morning we can also be much more drastic about this and just delete the edge routing entirely so that now we're",
    "start": "4227280",
    "end": "4233719"
  },
  {
    "text": "back to having all grining faces everywhere um we can do the same thing with grpc",
    "start": "4233719",
    "end": "4239560"
  },
  {
    "text": "Services I'm going to go very quickly through this the big difference is that",
    "start": "4239560",
    "end": "4246080"
  },
  {
    "text": "we are doing a match on the method rather than the path and if I apply this",
    "start": "4246080",
    "end": "4252840"
  },
  {
    "text": "then oh wait some is interesting we have all green at the edges but we still have",
    "start": "4252840",
    "end": "4259080"
  },
  {
    "text": "a mix of green and blue in the center um the reason that we're seeing",
    "start": "4259080",
    "end": "4264560"
  },
  {
    "text": "this rather than calling out to the audience and wait for that since we're down to 18 minutes and 46 seconds um do",
    "start": "4264560",
    "end": "4271000"
  },
  {
    "text": "you remember that we still have a grpc route in play right now What's Happening",
    "start": "4271000",
    "end": "4276520"
  },
  {
    "text": "Here is like I said in Gateway API more specific things win so the grpc route",
    "start": "4276520",
    "end": "4282159"
  },
  {
    "text": "that specifies a match on the grpc service and method is more specific than",
    "start": "4282159",
    "end": "4287960"
  },
  {
    "text": "the one that just says any traffic to this particular kubernetes service gets routed so out on",
    "start": "4287960",
    "end": "4294719"
  },
  {
    "text": "the edge our route for Edge routing takes effect and where in the center it",
    "start": "4294719",
    "end": "4300080"
  },
  {
    "text": "doesn't match it falls back to the previous grpc route which is doing a",
    "start": "4300080",
    "end": "4305239"
  },
  {
    "text": "canary between green and blue this is one of the complex things",
    "start": "4305239",
    "end": "4310639"
  },
  {
    "text": "about Gateway API there is a fair amount of Tooling in play a fair amount of",
    "start": "4310639",
    "end": "4316040"
  },
  {
    "text": "tooling being written to try to make it easier to see the route table as you're",
    "start": "4316040",
    "end": "4321159"
  },
  {
    "text": "going through and working with this to make this sort of thing easier to reason about um I'm not going to lie when I",
    "start": "4321159",
    "end": "4326480"
  },
  {
    "text": "first saw this in the demo I actually thought it was a bug and then I went back and really you know looked into it",
    "start": "4326480",
    "end": "4332080"
  },
  {
    "text": "to figure what was going on so I'm going to delete the old Canary and when I delete the old Canary since I'm leaving",
    "start": "4332080",
    "end": "4338639"
  },
  {
    "text": "the edge grpc route in place I should see all of the center cells turn blue",
    "start": "4338639",
    "end": "4344360"
  },
  {
    "text": "and all the edge St Edge cells stay green which is what we get that seems like oh yeah I'll mention",
    "start": "4344360",
    "end": "4352520"
  },
  {
    "text": "this one before we flip back um in every case when we do this changing the route",
    "start": "4352520",
    "end": "4358440"
  },
  {
    "text": "immediately has an effect you don't have to restart pods you don't have to go and put things to sleep you don't have to do",
    "start": "4358440",
    "end": "4365360"
  },
  {
    "text": "any craziness like that you just change stuff in the routing layer and it immediately happens and uh yeah let's",
    "start": "4365360",
    "end": "4371400"
  },
  {
    "text": "flip back for yep get EO caught up here okay get the demo on",
    "start": "4371400",
    "end": "4376920"
  },
  {
    "text": "the let's be a little more fair",
    "start": "4376920",
    "end": "4380960"
  },
  {
    "text": "there yeah yep so I've been running through and same kind of thing uh all",
    "start": "4383199",
    "end": "4390360"
  },
  {
    "text": "green cells on the edge with JC rout we have them still the old one in the middle because of the old Route so it's",
    "start": "4390360",
    "end": "4396199"
  },
  {
    "text": "doing even the same uh conflict resolution tool which is really important for having that predictable behavior of we actually spent a lot of",
    "start": "4396199",
    "end": "4403040"
  },
  {
    "text": "time in Gateway API deciding what the these conflict resolution rules are so that you can have predictable Behavior",
    "start": "4403040",
    "end": "4408920"
  },
  {
    "text": "between different implementations I guess one specific other thing to say about that is if you do have two things",
    "start": "4408920",
    "end": "4415679"
  },
  {
    "text": "that are exactly the same the oldest one wins y not the newest one wins for and",
    "start": "4415679",
    "end": "4422480"
  },
  {
    "text": "that's so that you can have a Reliance on some kind of stability of if you had a thing working before and you do a new",
    "start": "4422480",
    "end": "4429600"
  },
  {
    "text": "identical thing at the same level specificity it should work the older one should work it it stability is a good",
    "start": "4429600",
    "end": "4436320"
  },
  {
    "text": "thing right that's really what it comes down to so yeah um you've seen this the whole",
    "start": "4436320",
    "end": "4442920"
  },
  {
    "text": "time but uh there's an immediate effect on you're adding a new route you're deleting a route and the mesh is going",
    "start": "4442920",
    "end": "4448639"
  },
  {
    "text": "to immediately redirect this traffic um it doesn't have to wait for a pod to come up or anything like that and yeah",
    "start": "4448639",
    "end": "4456480"
  },
  {
    "text": "all of the stuff they were're doing with grpc route and HTTP rout is intended to be accessible to the application",
    "start": "4456480",
    "end": "4462040"
  },
  {
    "text": "developer so that's really kind of a critical difference with Ingress where you would have this monolithic Ingress",
    "start": "4462040",
    "end": "4467920"
  },
  {
    "text": "resource and either everybody's allowed to write to it and people stomp on each",
    "start": "4467920",
    "end": "4473280"
  },
  {
    "text": "other's stuff accidentally constantly or nobody's allowed to write to it and you have to go ask your cluster operator to",
    "start": "4473280",
    "end": "4480400"
  },
  {
    "text": "please update my route I need to do a new Ab test for my thing and having this",
    "start": "4480400",
    "end": "4485480"
  },
  {
    "text": "kind of control for the application developer makes it much faster to iterate like this and really gives them",
    "start": "4485480",
    "end": "4491239"
  },
  {
    "text": "more control but in a safe way as much as we all love submitting jurry tickets",
    "start": "4491239",
    "end": "4498320"
  },
  {
    "text": "yeah so yeah um we'll try to briefly go through AB testing so we've really gone",
    "start": "4498320",
    "end": "4505560"
  },
  {
    "text": "through like splitting up a monolith into a microservice um if you have a single service sometimes you want to",
    "start": "4505560",
    "end": "4512440"
  },
  {
    "text": "adjust the traffic uh or or adjust the back in the ear returning um based on",
    "start": "4512440",
    "end": "4517880"
  },
  {
    "text": "something like uh headers or potentially a logged in user um loged in is a bit of a strong",
    "start": "4517880",
    "end": "4526520"
  },
  {
    "text": "term but we're going to simulate this yeah so we have um well actually so",
    "start": "4526520",
    "end": "4533719"
  },
  {
    "text": "here's the ab route Mike can talk about that one and yeah yeah so what we're doing here is we're looking for the X",
    "start": "4533719",
    "end": "4540320"
  },
  {
    "text": "faes User header um which is a magic header which is being supplied by the guey in this particular case yep and and",
    "start": "4540320",
    "end": "4547480"
  },
  {
    "text": "only if that value is heart so only for the logged in heart user are we going to",
    "start": "4547480",
    "end": "4553400"
  },
  {
    "text": "routee to the smiley 2 back end rout everyone else is going to get Smiley so this might be for um a subset of users",
    "start": "4553400",
    "end": "4561400"
  },
  {
    "text": "that you're assigning a like beta opt-in flag yep uh something like that so right",
    "start": "4561400",
    "end": "4568120"
  },
  {
    "text": "now I'm back to this and if you look up in the top of that oh yeah you'll see the user unknown field so there's yeah",
    "start": "4568120",
    "end": "4576040"
  },
  {
    "text": "there's nothing past there currently so I'm going to apply this route logged in is a very strong term where just",
    "start": "4576040",
    "end": "4582080"
  },
  {
    "text": "whatever value you type nothing happens um because I'm not logged in if I log in",
    "start": "4582080",
    "end": "4589040"
  },
  {
    "text": "as heart suddenly I start seeing all the heart eyes yep uh you can flip over here",
    "start": "4589040",
    "end": "4595080"
  },
  {
    "text": "for a second I have already installed that HTTP",
    "start": "4595080",
    "end": "4601480"
  },
  {
    "text": "route so if I come up here and change from being logged in as Flynn to being",
    "start": "4601480",
    "end": "4606520"
  },
  {
    "text": "logged in as heart same thing happens I now get hard-eyed smileys if I go back",
    "start": "4606520",
    "end": "4611639"
  },
  {
    "text": "to Flynn I get no hardey smileys also you know if at the point that we're",
    "start": "4611639",
    "end": "4618120"
  },
  {
    "text": "doing this one of the purposes of an AB test is to get feedback from your users",
    "start": "4618120",
    "end": "4623440"
  },
  {
    "text": "if we decide that we you know really really want everybody to have heart Smileys as we've seen before we can just",
    "start": "4623440",
    "end": "4630040"
  },
  {
    "text": "do the unconditional route thing and it works I'm going to delete that so we're",
    "start": "4630040",
    "end": "4635520"
  },
  {
    "text": "back to the smiley grinning Smileys for everyone including the heart",
    "start": "4635520",
    "end": "4641600"
  },
  {
    "text": "we can do exactly the same thing with grpc so um I confess I was a little uncertain",
    "start": "4641600",
    "end": "4649239"
  },
  {
    "text": "about this when I tried it as to whether headers really worked out correctly it's PC the answer is uh in grpc they called",
    "start": "4649239",
    "end": "4655840"
  },
  {
    "text": "them metadata and sometimes but it looks like a heter to us so it works and once",
    "start": "4655840",
    "end": "4661239"
  },
  {
    "text": "again if we apply this bit then we get dark blue cells at the",
    "start": "4661239",
    "end": "4667080"
  },
  {
    "text": "center but green at the edges and that's only if you're logged in as the heart user but we should get all dark blue",
    "start": "4667080",
    "end": "4674480"
  },
  {
    "text": "colors not just in the center but the reason is that is that",
    "start": "4674480",
    "end": "4681199"
  },
  {
    "text": "that conflict resolution thing again my rule here that has the header match is",
    "start": "4681199",
    "end": "4686360"
  },
  {
    "text": "considered to be the same specificity as my Edge match on the method so the older",
    "start": "4686360",
    "end": "4691840"
  },
  {
    "text": "one wins and I still get green out there on the edges until of",
    "start": "4691840",
    "end": "4698320"
  },
  {
    "text": "course yeah so we've got that that's what I just said the older route wins if I delete the older route then I get blue",
    "start": "4698320",
    "end": "4705080"
  },
  {
    "text": "everywhere and over back here so we can show the same thing so yep I'm applying",
    "start": "4705080",
    "end": "4710360"
  },
  {
    "text": "the same JPC route and I'm still logged in heart so I get",
    "start": "4710360",
    "end": "4716760"
  },
  {
    "text": "it if I go back to a different user not getting them",
    "start": "4716760",
    "end": "4722920"
  },
  {
    "text": "anymore and conflict resolution works the same",
    "start": "4722920",
    "end": "4730719"
  },
  {
    "text": "way deleting the edge color it's back to light blue cuz I'm",
    "start": "4730719",
    "end": "4736040"
  },
  {
    "text": "not logged in if I log into heart everything's dark blue wo so yeah it's",
    "start": "4736040",
    "end": "4742600"
  },
  {
    "text": "fun this stuff it's very similar for grpc route and HTTP route um so that's",
    "start": "4742600",
    "end": "4748440"
  },
  {
    "text": "one of the really powerful things about this API is that we really try to be consistent across the various aspects of it as much as we can uh so that it's",
    "start": "4748440",
    "end": "4756400"
  },
  {
    "text": "very little that you're learning to do differently um regardless of what kind of your needs are here so at this point",
    "start": "4756400",
    "end": "4764080"
  },
  {
    "text": "a bit of a question question for the audience we have 10 minutes left in this slot we can go and demo some stuff with",
    "start": "4764080",
    "end": "4770600"
  },
  {
    "text": "timeouts or we can stop here and I think we have a couple of gotas on the",
    "start": "4770600",
    "end": "4776960"
  },
  {
    "text": "slides um let's go and talk about gotas a little bit and then see if anybody has questions and that I think sounds like a",
    "start": "4776960",
    "end": "4785639"
  },
  {
    "text": "a reasonable way to do that",
    "start": "4785639",
    "end": "4789800"
  },
  {
    "text": "um gotcha okay",
    "start": "4791480",
    "end": "4796639"
  },
  {
    "text": "there are kind of only a couple of things here um the this is the really the most",
    "start": "4798880",
    "end": "4805239"
  },
  {
    "text": "important calling it a gotcha might be a little strong but if you try something in Gateway API and it doesn't work the",
    "start": "4805239",
    "end": "4813000"
  },
  {
    "text": "most important place to start is always to start by looking at the statuses on your gateway API resources so if you",
    "start": "4813000",
    "end": "4820159"
  },
  {
    "text": "install an HTTP route and the thing that you expect to happen does not happen the first thing you should do is look at the",
    "start": "4820159",
    "end": "4826080"
  },
  {
    "text": "status on the HTTP route because it will tell you things like oh your gateway",
    "start": "4826080",
    "end": "4831719"
  },
  {
    "text": "controller accepted this or it won't and it will tell you things like was your",
    "start": "4831719",
    "end": "4837560"
  },
  {
    "text": "gateway controller able to resolve your backend refs into real services so it knows how to talk to them or it will tell you if it can't this sort of thing",
    "start": "4837560",
    "end": "4844560"
  },
  {
    "text": "ends up being critical for trying to debug any of these things",
    "start": "4844560",
    "end": "4850600"
  },
  {
    "text": "um you can absolutely check out the API specification",
    "start": "4850600",
    "end": "4856199"
  },
  {
    "text": "you can also honestly just read over and go hey why is this thing saying ready false and then do a little bit of",
    "start": "4856199",
    "end": "4863080"
  },
  {
    "text": "Googling and sometimes that's more practical than reading the spec first um sorry did we could were you about to add",
    "start": "4863080",
    "end": "4869600"
  },
  {
    "text": "something else no no let's uh let's go on to the next one then so yeah I the",
    "start": "4869600",
    "end": "4875040"
  },
  {
    "text": "the cube cuddle um looking at just the status that's the the kind of bare bones kubernetes way uh there's also a Gateway",
    "start": "4875040",
    "end": "4882440"
  },
  {
    "text": "cuddle uh application that is in development yeah it's in development I",
    "start": "4882440",
    "end": "4887480"
  },
  {
    "text": "think development but kind of the intent of that is to make some of these workflows of specific things with",
    "start": "4887480",
    "end": "4893120"
  },
  {
    "text": "Gateway API more accessible yeah I don't think Gateway control actually does much",
    "start": "4893120",
    "end": "4898920"
  },
  {
    "text": "status rendering yet it it's it's one of the things talked about as it's starting to I think um there's another gotcha in",
    "start": "4898920",
    "end": "4906560"
  },
  {
    "text": "here which oh sorry yeah now go ahead okay um",
    "start": "4906560",
    "end": "4911719"
  },
  {
    "text": "particularly in the mesh where you're talking about services if you try to have if you try to use HTTP routes or",
    "start": "4911719",
    "end": "4918600"
  },
  {
    "text": "grpc routes to take traffic to Foo split it into traffic to bar and baz and then take traffic to bar and split that that",
    "start": "4918600",
    "end": "4926120"
  },
  {
    "text": "will not work for traffic that goes to Foo and then gets funneled to bar it will work for traffic coming into bar um",
    "start": "4926120",
    "end": "4934120"
  },
  {
    "text": "this is one of the weirder things but the reason this the reason that this happens one more is that we make a big",
    "start": "4934120",
    "end": "4943520"
  },
  {
    "text": "distinction between the place that you are trying to send the traffic the front end of the service and the workloads you",
    "start": "4943520",
    "end": "4951840"
  },
  {
    "text": "know the actual end points that the service resolves to um HTTP route or",
    "start": "4951840",
    "end": "4958280"
  },
  {
    "text": "grpc route the routing decisions get HP get made when something arrives at the",
    "start": "4958280",
    "end": "4963440"
  },
  {
    "text": "front end of a service so something is being directed to the cluster IP that belongs to the kubernetes service",
    "start": "4963440",
    "end": "4970199"
  },
  {
    "text": "resource the routing decision happens exactly once and then it goes straight to end point so if you try to stack them",
    "start": "4970199",
    "end": "4976880"
  },
  {
    "text": "there's no second chance for the routing to happen that's honestly this is a good thing this is generally a good thing",
    "start": "4976880",
    "end": "4983480"
  },
  {
    "text": "yeah as you saw with kind of the layering and the conflict resolution that if you just keep stacking things up",
    "start": "4983480",
    "end": "4989719"
  },
  {
    "text": "it can get it could get inordinately complex so having this logic and this",
    "start": "4989719",
    "end": "4995440"
  },
  {
    "text": "kind of rule limits the amount of complexity that's even possible there which not bad yeah um and one more again",
    "start": "4995440",
    "end": "5003239"
  },
  {
    "text": "yeah is what you're really setting up when you try to do that hierarchical thing is",
    "start": "5003239",
    "end": "5008360"
  },
  {
    "text": "something that looks like that this is not something that often gets people into trouble but it is",
    "start": "5008360",
    "end": "5014159"
  },
  {
    "text": "something where if it affects you it's very confusing the first time um and uh",
    "start": "5014159",
    "end": "5021560"
  },
  {
    "text": "yeah I think that's it in terms of of the major gotas here",
    "start": "5021560",
    "end": "5027480"
  },
  {
    "text": "um we talked about North South we talked about East West um Mike pointed out if you're doing",
    "start": "5027480",
    "end": "5035600"
  },
  {
    "text": "this for a new deployment Gateway API is definitely something you should consider right now uh Flagger and Argo both work yep",
    "start": "5035600",
    "end": "5042920"
  },
  {
    "text": "I'm pretty yeah Flagger and Argo both work with uh the basically like Argo",
    "start": "5042920",
    "end": "5048040"
  },
  {
    "text": "rollouts or Flagger can use Gateway API routes to go and control the waiting on",
    "start": "5048040",
    "end": "5053560"
  },
  {
    "text": "their Progressive delivery things and yes come help us build this",
    "start": "5053560",
    "end": "5058920"
  },
  {
    "text": "it's kind of cool um also if you look up in the source that we mentioned earlier",
    "start": "5058920",
    "end": "5064880"
  },
  {
    "text": "then you can go through and see the timeouts part for your on your own um",
    "start": "5064880",
    "end": "5070920"
  },
  {
    "text": "yeah any questions uh actually there's a",
    "start": "5070920",
    "end": "5077840"
  },
  {
    "text": "microphone here somewhere just call it out while we repeat it",
    "start": "5077840",
    "end": "5083639"
  },
  {
    "text": "you can actually set",
    "start": "5094560",
    "end": "5099280"
  },
  {
    "text": "the multicluster gets into sorry the question was basically about using",
    "start": "5107760",
    "end": "5113320"
  },
  {
    "text": "Gateway API for multicluster how work multic Cloud huh yeah no just how does this work for multicluster yeah",
    "start": "5113320",
    "end": "5121560"
  },
  {
    "text": "um the main trick here right now is that you can definitely use Gateway API for",
    "start": "5121560",
    "end": "5127920"
  },
  {
    "text": "multicluster multicloud stuff like that you will be relying on your service mesh to protect the traffic between the",
    "start": "5127920",
    "end": "5135000"
  },
  {
    "text": "Clusters Gateway API does not magically allow meshes to interoperate with each other so it would be exceptionally",
    "start": "5135000",
    "end": "5142600"
  },
  {
    "text": "difficult I think to have one cluster running EO and one cluster running linkerd and get them to talk to each",
    "start": "5142600",
    "end": "5148000"
  },
  {
    "text": "other in any particularly safe way no but but yeah if you have a multicluster Linker D MH or a multicluster esto mesh",
    "start": "5148000",
    "end": "5155199"
  },
  {
    "text": "it works very well there's one gotcha with that and the one gotcha is that if",
    "start": "5155199",
    "end": "5160719"
  },
  {
    "text": "you have I'll I'll pick on Linker multicluster for a moment because I know it a lot better than these do um you",
    "start": "5160719",
    "end": "5168480"
  },
  {
    "text": "have cluster East Cluster West you mirror a service from Cluster West into cluster East",
    "start": "5168480",
    "end": "5174440"
  },
  {
    "text": "um with linker's normal multicluster you'll end up with a service called Foo West in the East cluster you could use",
    "start": "5174440",
    "end": "5181440"
  },
  {
    "text": "an HTTP route to set up some something where you've got one back end of the normal food service in your East cluster",
    "start": "5181440",
    "end": "5188199"
  },
  {
    "text": "and one back end of the service in your West cluster it is very difficult to make failover work in that situation",
    "start": "5188199",
    "end": "5194440"
  },
  {
    "text": "because making failover work in that situation almost always breaks Progressive",
    "start": "5194440",
    "end": "5199880"
  },
  {
    "text": "delivery um Linker actually is coming out with a Federated service idea that",
    "start": "5199880",
    "end": "5205280"
  },
  {
    "text": "allows that to work a lot more smoothly um by doing it below the level of HTTP",
    "start": "5205280",
    "end": "5211360"
  },
  {
    "text": "routes so you can use HTTP route to Route Around Federated things and it's really cool and we'll talk about",
    "start": "5211360",
    "end": "5217480"
  },
  {
    "text": "actually there was a lightning talk about that earlier um but that's the major gacha is figuring out a really",
    "start": "5217480",
    "end": "5225119"
  },
  {
    "text": "clean way to do multicluster failover with HTTP routes it turns out to be really hard does that does that answer",
    "start": "5225119",
    "end": "5231960"
  },
  {
    "text": "the question yeah yeah I'm currently working on the iso ambient multicluster design so we're absolutely looking at",
    "start": "5231960",
    "end": "5239000"
  },
  {
    "text": "like how to do this with Gateway API route we're looking at things like the MCS API with service orts and service",
    "start": "5239000",
    "end": "5244760"
  },
  {
    "text": "exports it's unclear if that's the implementation we're going to go with but um one of the things you want to be",
    "start": "5244760",
    "end": "5250400"
  },
  {
    "text": "able to do is ideally you want to be able to shift traffic that has been cluster local and opt into sending it uh",
    "start": "5250400",
    "end": "5258000"
  },
  {
    "text": "across a multiple cluster implementation hopefully without the need to change your application code so that's one of",
    "start": "5258000",
    "end": "5264400"
  },
  {
    "text": "the things that you can do uh with HTTP R potentially uh I know that some implementations are already doing this",
    "start": "5264400",
    "end": "5270960"
  },
  {
    "text": "uh I've demoed that multiple times Google's like uh North Gateway implementation is using service import",
    "start": "5270960",
    "end": "5276600"
  },
  {
    "text": "for this so uh to yeah they have a it's something I've looked as like a",
    "start": "5276600",
    "end": "5282840"
  },
  {
    "text": "reference implementation so yeah like there are implementations doing multicluster with Gateway API and it's definitely something that's on our mind",
    "start": "5282840",
    "end": "5288800"
  },
  {
    "text": "that we're looking at as well um it the the multicluster",
    "start": "5288800",
    "end": "5297400"
  },
  {
    "text": "implementation with Gateway API does does work currently as far as I",
    "start": "5297400",
    "end": "5303119"
  },
  {
    "text": "know um we are looking to be able to do more things with it and more granularly",
    "start": "5303119",
    "end": "5308320"
  },
  {
    "text": "specifically for ambient is the design that I'm looking at go yeah question I'm relatively to",
    "start": "5308320",
    "end": "5315760"
  },
  {
    "text": "all this if I want to go back and basally",
    "start": "5315760",
    "end": "5321239"
  },
  {
    "text": "re's the best way to do that didn't we put the okay actually before he gets off",
    "start": "5321239",
    "end": "5327159"
  },
  {
    "text": "this slide quick everybody take a picture of the QR code because that will take you to the end user survey for",
    "start": "5327159",
    "end": "5332440"
  },
  {
    "text": "Gateway API and we Gateway API desperately want that information so everybody take a picture of this come on",
    "start": "5332440",
    "end": "5339520"
  },
  {
    "text": "come on hurry up um uh Mike's GNA find the actually or I",
    "start": "5339520",
    "end": "5346199"
  },
  {
    "text": "guess you could just add it to the slide github.com buoyant iio SL uh Gateway API",
    "start": "5346199",
    "end": "5355440"
  },
  {
    "text": "Workshop that has everything you just saw on stage and",
    "start": "5359760",
    "end": "5365840"
  },
  {
    "text": "it even will let you easily switch between playing with EO or playing with Linker",
    "start": "5365840",
    "end": "5373440"
  },
  {
    "text": "yep uh the slides are not here uh we can put the slides there yeah the slides will be linked uh if you look at the",
    "start": "5373719",
    "end": "5380119"
  },
  {
    "text": "like cubec con schedule those will eventually get I they'll eventually get added there did you they were not okay",
    "start": "5380119",
    "end": "5387560"
  },
  {
    "text": "you started oh no no after afterwards they will be I I never uploaded the",
    "start": "5387560",
    "end": "5393040"
  },
  {
    "text": "slides so if Mike did I think I think last time when we presented this but not this time yet so I I will go put them",
    "start": "5393040",
    "end": "5399840"
  },
  {
    "text": "there after this thank you very much we we'll also stick a PDF of the slides in the repo all right well I think that",
    "start": "5399840",
    "end": "5405080"
  },
  {
    "text": "we're I think we're out of time now but thank you so much everyone who attended yeah uh much appreciated",
    "start": "5405080",
    "end": "5412920"
  }
]