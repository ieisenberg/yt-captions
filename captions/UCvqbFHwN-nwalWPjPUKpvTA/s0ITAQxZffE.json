[
  {
    "start": "0",
    "end": "40000"
  },
  {
    "text": "okay good morning everyone welcome to the session attacking and defending kubernetes te enclaves and",
    "start": "320",
    "end": "6640"
  },
  {
    "text": "critical infrastructure my name is robert ficalia i'm the co-chair of the kubernetes policy work group",
    "start": "6640",
    "end": "12880"
  },
  {
    "text": "and a member of the cncf security tag have led some security assessments in",
    "start": "12880",
    "end": "18880"
  },
  {
    "text": "that group and i'm also assisting with kubernetes third party audit",
    "start": "18880",
    "end": "25039"
  },
  {
    "text": "in my day job i work with high security critical systems things in payments banking health care",
    "start": "25039",
    "end": "33040"
  },
  {
    "text": "and government and of course i've i'm enjoying the spanish hospitality as i hope you all have as well",
    "start": "33040",
    "end": "40480"
  },
  {
    "start": "40000",
    "end": "104000"
  },
  {
    "text": "so what is a te when they assigned me the auditorium i assumed that",
    "start": "40480",
    "end": "46160"
  },
  {
    "text": "lots of people were coming for a free t-shirt but we're not talking about teas in that sense talking about trusted",
    "start": "46160",
    "end": "52160"
  },
  {
    "text": "execution environments these are hardware-enabled enclaves that allow you to protect your",
    "start": "52160",
    "end": "58640"
  },
  {
    "text": "code and data while in use so many of you are probably familiar with the",
    "start": "58640",
    "end": "64400"
  },
  {
    "text": "concept of protecting data at rest on disk storage in",
    "start": "64400",
    "end": "69439"
  },
  {
    "text": "data stores and transit tls your tcpip sockets protected by",
    "start": "69439",
    "end": "75520"
  },
  {
    "text": "encryption integrity here we're talking about actually making sure the code that is executing in the cpu is",
    "start": "75520",
    "end": "82640"
  },
  {
    "text": "protected isolated and the data is encrypted just to show a hand how many of you are",
    "start": "82640",
    "end": "89600"
  },
  {
    "text": "familiar with what tees or enclaves are so few a few",
    "start": "89600",
    "end": "94799"
  },
  {
    "text": "any of you using those in production today so more the experimental stage i think",
    "start": "94799",
    "end": "101119"
  },
  {
    "text": "that's the norm oh and i have lost money so those of you who may have done attack",
    "start": "101119",
    "end": "107920"
  },
  {
    "start": "104000",
    "end": "169000"
  },
  {
    "text": "modeling threat modeling or even trust modeling will at some point start making assumptions documenting those",
    "start": "107920",
    "end": "114159"
  },
  {
    "text": "assumptions and if you're operating in userland usually you're making",
    "start": "114159",
    "end": "119920"
  },
  {
    "text": "assumptions like i can trust my hardware provider i can trust my chip manufacturer i can trust my cloud",
    "start": "119920",
    "end": "126320"
  },
  {
    "text": "provider i can trust my sis admin my root users who are employed and",
    "start": "126320",
    "end": "131680"
  },
  {
    "text": "background checked but what if you can't who would who would need this level of",
    "start": "131680",
    "end": "137680"
  },
  {
    "text": "trust and integrity well we're talking about critical energy infrastructure well really any critical physical",
    "start": "137680",
    "end": "144640"
  },
  {
    "text": "infrastructure systems defense military systems",
    "start": "144640",
    "end": "149680"
  },
  {
    "text": "if there's a large financial opportunity then you may be storing",
    "start": "149680",
    "end": "154959"
  },
  {
    "text": "value in the billions of dollars and so it becomes a high value target so that's",
    "start": "154959",
    "end": "160080"
  },
  {
    "text": "the audience we're really addressing today those are the attackers that we're interested in and those of us who are",
    "start": "160080",
    "end": "165920"
  },
  {
    "text": "defending those are the environments that we're defending i mentioned some of the use cases but i",
    "start": "165920",
    "end": "171840"
  },
  {
    "start": "169000",
    "end": "265000"
  },
  {
    "text": "think where tes and enclaves really got their their start was enabling a more scalable",
    "start": "171840",
    "end": "178640"
  },
  {
    "text": "version of what had already been used for a decade plus things uh that were hardware based and",
    "start": "178640",
    "end": "185920"
  },
  {
    "text": "rooted a a trust chain so that you as a developer could deploy code in a secure way but that was",
    "start": "185920",
    "end": "193360"
  },
  {
    "text": "very hardware specific it was often dedicated hardware modules you might plug into a server or it was a specific",
    "start": "193360",
    "end": "199519"
  },
  {
    "text": "board in a client desktop or laptop and so this was a way to really scale this up to cloud",
    "start": "199519",
    "end": "205680"
  },
  {
    "text": "and make these more virtual but in general you can also use this to increase your compliance posture and",
    "start": "205680",
    "end": "211760"
  },
  {
    "text": "we'll talk about a little about that at the end and if you're dealing in a regulated environment gdpr of course is a common",
    "start": "211760",
    "end": "219360"
  },
  {
    "text": "topic for us today operating in the eu then you might want to have a way to",
    "start": "219360",
    "end": "225040"
  },
  {
    "text": "prove that you are protecting that user data from",
    "start": "225040",
    "end": "230640"
  },
  {
    "text": "the cloud provider itself and then again as we get into blockchain",
    "start": "230640",
    "end": "235840"
  },
  {
    "text": "and smart contracts if you want to protect intellectual property during machine learning and you want to be able",
    "start": "235840",
    "end": "241920"
  },
  {
    "text": "to use data that's not yours and you do or and or you don't want to disclose your algorithms these are all use cases",
    "start": "241920",
    "end": "248720"
  },
  {
    "text": "for hardware based encryption hardware based isolation",
    "start": "248720",
    "end": "254560"
  },
  {
    "text": "and so that's a quote from the confidential computing folks you're basically trying to remove as much of the attack surface as possible",
    "start": "254560",
    "end": "261919"
  },
  {
    "text": "down to the as close to the hardware as you can get so if we take a quick deeper dive into",
    "start": "261919",
    "end": "267919"
  },
  {
    "text": "what exactly this means at hardware level it's really a special set of registers and opcodes at the cpu level",
    "start": "267919",
    "end": "275520"
  },
  {
    "text": "that's interacting with usually a memory protection co-processor or unit on the",
    "start": "275520",
    "end": "281919"
  },
  {
    "text": "cpu and it's enabling the the separation of a trusted area in memory usually",
    "start": "281919",
    "end": "288639"
  },
  {
    "text": "enabled at the bios level and then in a small amount of micro code and",
    "start": "288639",
    "end": "293680"
  },
  {
    "text": "that allows you to marshal calls between a trusted region of memory and encrypted region of memory and then outside of",
    "start": "293680",
    "end": "300960"
  },
  {
    "text": "that enclave you can pass secrets in you can get secret data out encrypted and",
    "start": "300960",
    "end": "306880"
  },
  {
    "text": "it's unique to that processor right so you know you're operating in a particular environment",
    "start": "306880",
    "end": "312479"
  },
  {
    "text": "and that you can you can verify that we'll talk a little bit more about that so it's authenticated",
    "start": "312479",
    "end": "317840"
  },
  {
    "text": "as the data is passed in it is now confidential",
    "start": "317840",
    "end": "323039"
  },
  {
    "text": "and even at the code level you can be assured that the code itself has been checked for integrity that no",
    "start": "323039",
    "end": "328880"
  },
  {
    "text": "one has tampered with it it's exactly the code that you expect so",
    "start": "328880",
    "end": "334160"
  },
  {
    "start": "332000",
    "end": "400000"
  },
  {
    "text": "there are many well there are a few chip implementations by far the largest is",
    "start": "334160",
    "end": "339919"
  },
  {
    "text": "intel's implementation sgx and they have some newer capabilities tdx",
    "start": "339919",
    "end": "345280"
  },
  {
    "text": "which we can talk about a little bit later i am not affiliated with intel or any chip manufacturer i'm not affiliated",
    "start": "345280",
    "end": "351360"
  },
  {
    "text": "with any enclave or te software provider i have no horse in this race i am",
    "start": "351360",
    "end": "357280"
  },
  {
    "text": "essentially an operator probably like many of you looking for a way to solve a particular problem and",
    "start": "357280",
    "end": "363120"
  },
  {
    "text": "and sgx is one implementation that's widely available arm and others are are making",
    "start": "363120",
    "end": "368639"
  },
  {
    "text": "progress but if you look at how that memory encryption works you've you've got some",
    "start": "368639",
    "end": "373680"
  },
  {
    "text": "reserved memory and you've got pages of memory in a lookup protected in",
    "start": "373680",
    "end": "379840"
  },
  {
    "text": "the microcode a lookup table and then anytime you deploy an enclave and any of that",
    "start": "379840",
    "end": "385680"
  },
  {
    "text": "reserved memory space for your enclave is managed in a in a cached uh",
    "start": "385680",
    "end": "391360"
  },
  {
    "text": "array so that you have a mapping between what pages are being used and how they are assigned to each enclave",
    "start": "391360",
    "end": "399199"
  },
  {
    "start": "400000",
    "end": "478000"
  },
  {
    "text": "so an important part of how you establish this trust is that you need to know that the code and that metadata",
    "start": "400880",
    "end": "408880"
  },
  {
    "text": "there's some cryptographic keys for that encryption there's cryptographic keys embedded into the hardware unit to",
    "start": "408880",
    "end": "415199"
  },
  {
    "text": "establish that root of trust by the manufacturer you need a way to measure to attest that everything is",
    "start": "415199",
    "end": "421840"
  },
  {
    "text": "exactly as you expect and so you're using things like cryptographic cryptographic hashing and asymmetric",
    "start": "421840",
    "end": "428080"
  },
  {
    "text": "encryption so you're hashing all the information the metadata on the chip you're hashing the",
    "start": "428080",
    "end": "435039"
  },
  {
    "text": "state of kind of a bootstrap set of enclaves on the chip a provisioning enclave a",
    "start": "435039",
    "end": "442720"
  },
  {
    "text": "signing enclave and you're able to to then know as the client in the untrusted",
    "start": "442720",
    "end": "448639"
  },
  {
    "text": "space whether you're operating in an environment that you expect so typically on the hardware they'll",
    "start": "448639",
    "end": "455199"
  },
  {
    "text": "have special efuses that will enable that root key and then typically there's a",
    "start": "455199",
    "end": "461280"
  },
  {
    "text": "derivation key derivation function so you're kind of using key encryption keys and then eventually when you call these",
    "start": "461280",
    "end": "467919"
  },
  {
    "text": "trusted functions to pass things in and out of",
    "start": "467919",
    "end": "473039"
  },
  {
    "text": "untrusted space you're using those derived keys",
    "start": "473039",
    "end": "478199"
  },
  {
    "start": "478000",
    "end": "539000"
  },
  {
    "text": "so when you when you initialize an enclave securely you've you're passing in secrets and",
    "start": "479360",
    "end": "484400"
  },
  {
    "text": "keys from outside you're doing this attestation process so you're saying that",
    "start": "484400",
    "end": "490319"
  },
  {
    "text": "if two enclaves on the same cpu need to communicate with each other that",
    "start": "490319",
    "end": "495759"
  },
  {
    "text": "they know that each of those are have not been tampered with and have integrity and have an identity and then",
    "start": "495759",
    "end": "503120"
  },
  {
    "text": "if you need to attest to some global registry so that",
    "start": "503120",
    "end": "508479"
  },
  {
    "text": "you can move data across cpus then you're usually attesting to something like an intel",
    "start": "508479",
    "end": "514959"
  },
  {
    "text": "registry and that's why they've embedded their public key in the in the chip so that",
    "start": "514959",
    "end": "520080"
  },
  {
    "text": "you can make that secure connection to intel and verify",
    "start": "520080",
    "end": "525440"
  },
  {
    "text": "there's a on the chip there's a component we talked a little bit about provisioning enclave to kind of",
    "start": "525440",
    "end": "530480"
  },
  {
    "text": "bootstrap all this there's usually something a quoting enclave that manages that verification to to the global",
    "start": "530480",
    "end": "537279"
  },
  {
    "text": "registry so data you need to have data that",
    "start": "537279",
    "end": "542560"
  },
  {
    "start": "539000",
    "end": "596000"
  },
  {
    "text": "you've operated on in the enclave you need to somehow persist that outside the enclave",
    "start": "542560",
    "end": "547600"
  },
  {
    "text": "and that's where sgx and others arm have a scheme for sealing the data and then",
    "start": "547600",
    "end": "553839"
  },
  {
    "text": "that way you can call special routines that will allow you to encrypt it with a key that you know came from the enclave",
    "start": "553839",
    "end": "560800"
  },
  {
    "text": "persist it outside of the enclave and then be able to restore it back into the enclave and use it for later otherwise",
    "start": "560800",
    "end": "566000"
  },
  {
    "text": "if you if you're only operating on very small amounts of data you might not need this but any any",
    "start": "566000",
    "end": "571920"
  },
  {
    "text": "practical application for dealing with machine learning block chains et cetera you're probably going to need to seal data and persist",
    "start": "571920",
    "end": "578800"
  },
  {
    "text": "it outside of the enclave securely although i will note that newer generations of",
    "start": "578800",
    "end": "584480"
  },
  {
    "text": "scx chips do have expanded memory it used to be limited to you know",
    "start": "584480",
    "end": "590399"
  },
  {
    "text": "a very small amount now it i think it can go up to a terabyte",
    "start": "590399",
    "end": "595519"
  },
  {
    "start": "596000",
    "end": "642000"
  },
  {
    "text": "let's see so how how do practically how do we make use of this",
    "start": "596080",
    "end": "601519"
  },
  {
    "text": "you have a few options you can kind of hand craft your code re-architect your application to use only those specific o",
    "start": "601519",
    "end": "609200"
  },
  {
    "text": "calls and e-calls these trusted entry ways into the enclave between untrusted and trusted you can",
    "start": "609200",
    "end": "617040"
  },
  {
    "text": "try to wrap it you can there's some code that we'll talk about that will allow you to convert your existing code into",
    "start": "617040",
    "end": "624240"
  },
  {
    "text": "enclave ready code and then kind of a newer option is to use things like wasm to create byte code",
    "start": "624240",
    "end": "631440"
  },
  {
    "text": "and that that can be used across t architecture so you get a little bit more portability and the idea is that",
    "start": "631440",
    "end": "637440"
  },
  {
    "text": "you're getting uh the application you have today you're just cross-compiling that",
    "start": "637440",
    "end": "642800"
  },
  {
    "start": "642000",
    "end": "720000"
  },
  {
    "text": "so those of you who might be fans of casa de papel i like to put myself in the mentality of",
    "start": "642800",
    "end": "649200"
  },
  {
    "text": "what would the professor do so probably he wouldn't go for direct",
    "start": "649200",
    "end": "654240"
  },
  {
    "text": "assault through the front door so you wouldn't attack the boundary directly although you might use that as a form of misdirection you would probably try to",
    "start": "654240",
    "end": "660959"
  },
  {
    "text": "attack every part of the supply chain you'd probably attack the personnel involved the cloud",
    "start": "660959",
    "end": "666160"
  },
  {
    "text": "provider you'd probably attack the provider hardware systems integration so",
    "start": "666160",
    "end": "672839"
  },
  {
    "text": "interesting uh reports in the last couple of months from some startups doing work on looking",
    "start": "672839",
    "end": "678640"
  },
  {
    "text": "at components on a board found that a vast majority of them have fakes so you're",
    "start": "678640",
    "end": "684240"
  },
  {
    "text": "getting a bill of materials it says it's from this manufacturer that manufacturer and you realize nope it's it's been",
    "start": "684240",
    "end": "690000"
  },
  {
    "text": "tampered with or it's you know something off of a different market and it's been repackaged to look like the chip you're expecting",
    "start": "690000",
    "end": "697040"
  },
  {
    "text": "so you're highly motivated attacker for a high value target",
    "start": "697040",
    "end": "702560"
  },
  {
    "text": "is going to make no assumptions right they're going to assume that all parts of this system are attackable and",
    "start": "702560",
    "end": "708720"
  },
  {
    "text": "they're going to spend the time and the resources to do that so it's patient research and it's not",
    "start": "708720",
    "end": "714399"
  },
  {
    "text": "not something that can be accomplished with you know kind of an academic exercise",
    "start": "714399",
    "end": "720480"
  },
  {
    "start": "720000",
    "end": "794000"
  },
  {
    "text": "so to enable all that memory encryption the supervision of those oh calls and",
    "start": "720480",
    "end": "725600"
  },
  {
    "text": "ecalls in and out of the enclave cpu cache control",
    "start": "725600",
    "end": "731120"
  },
  {
    "text": "where memories how memory is laid out you've got to have a lot of features and then to build on top of that you've got",
    "start": "731120",
    "end": "736560"
  },
  {
    "text": "to have you know firmware you've got micro code you're going to have kernels and operating systems and drivers and",
    "start": "736560",
    "end": "742320"
  },
  {
    "text": "then inside of your application that you've now somehow enabled for enclave you've got this whole set of code all of",
    "start": "742320",
    "end": "749200"
  },
  {
    "text": "which would be part of the trusted computing base or attack surface if you look at it from",
    "start": "749200",
    "end": "754399"
  },
  {
    "text": "the perspective of an attacker so a big part of some of the shortcomings of",
    "start": "754399",
    "end": "759839"
  },
  {
    "text": "enclaves is that they are susceptible to side channel attacks so you can",
    "start": "759839",
    "end": "764959"
  },
  {
    "text": "measure the the timing you can measure the rhythm the cadence of operations and then you can",
    "start": "764959",
    "end": "771600"
  },
  {
    "text": "baseline good versus bad you can tease out bits of a secret key just by",
    "start": "771600",
    "end": "777040"
  },
  {
    "text": "measuring the kind of thermodynamics of what's happening over time and so we'll talk a bit about some of",
    "start": "777040",
    "end": "783519"
  },
  {
    "text": "the defenses at the end but that is an ongoing concern and the chip manufacturers continue to layer on every",
    "start": "783519",
    "end": "790399"
  },
  {
    "text": "generation defense techniques for side channels so i just i'm not going to go into the",
    "start": "790399",
    "end": "796800"
  },
  {
    "start": "794000",
    "end": "818000"
  },
  {
    "text": "detail of what what this attack tree looks like but just to put out there the idea that every one of those cpu caches",
    "start": "796800",
    "end": "804240"
  },
  {
    "text": "the bus caches the bios all of these have attacks that are documented either",
    "start": "804240",
    "end": "809519"
  },
  {
    "text": "academically or in some open source literature so it's it's",
    "start": "809519",
    "end": "815600"
  },
  {
    "text": "not a given that just because it's in hardware it's secure i think if you take away one thing today",
    "start": "815600",
    "end": "820959"
  },
  {
    "start": "818000",
    "end": "865000"
  },
  {
    "text": "that you know trust is is very difficult in these types of systems you know do you trust something because",
    "start": "820959",
    "end": "827279"
  },
  {
    "text": "it comes in a box and has an intel logo you trust it because you hire a third",
    "start": "827279",
    "end": "832320"
  },
  {
    "text": "party evaluation you i mean in smart cards and some phone manufacturers they go through",
    "start": "832320",
    "end": "838480"
  },
  {
    "text": "a certification process with labs is that trustworthy",
    "start": "838480",
    "end": "843760"
  },
  {
    "text": "maybe it's like risk and you put out all the designs for the hardware for all the and open source all the code is that",
    "start": "843760",
    "end": "850480"
  },
  {
    "text": "enough to be trusted or are enough reasonably educated folks looking at",
    "start": "850480",
    "end": "855920"
  },
  {
    "text": "that code in a meaningful way or do you just rely on standards bodies",
    "start": "855920",
    "end": "861120"
  },
  {
    "text": "and talks like this to make your own decision what i what i think i would have you",
    "start": "861120",
    "end": "868000"
  },
  {
    "start": "865000",
    "end": "910000"
  },
  {
    "text": "come away with today is it's not a silver bullet so i've heard some high level hand waving that if you put",
    "start": "868000",
    "end": "874800"
  },
  {
    "text": "everything in the te then you don't have to worry about xyz that somehow it's bestowed this magic that because it's in",
    "start": "874800",
    "end": "882079"
  },
  {
    "text": "a te no other controls are required and it's perfectly secure i think i would definitely take this",
    "start": "882079",
    "end": "889279"
  },
  {
    "text": "away today that that is not the case that you do have to be if anything more concerned and scrutinize more exactly",
    "start": "889279",
    "end": "895680"
  },
  {
    "text": "what is going into your trusted computing base and try to minimize that attack surface",
    "start": "895680",
    "end": "900880"
  },
  {
    "text": "all those knobs and levers that we looked at in implementing this memory segmentation memory isolation",
    "start": "900880",
    "end": "907519"
  },
  {
    "text": "they offer attack points so where does kubernetes fit so we're",
    "start": "907519",
    "end": "912800"
  },
  {
    "start": "910000",
    "end": "951000"
  },
  {
    "text": "here at a coupe con obviously we're all interested in how kubernetes can use this technology",
    "start": "912800",
    "end": "919199"
  },
  {
    "text": "so the the most obvious way to think about this is at the container level at the pod level we want to deploy our",
    "start": "919199",
    "end": "924480"
  },
  {
    "text": "workloads somewhat easily into kubernetes we in talking about that attack surface you probably don't want",
    "start": "924480",
    "end": "930320"
  },
  {
    "text": "to bring the entire kubernetes control plane into that trusted computing base because again any any flaw in that",
    "start": "930320",
    "end": "936639"
  },
  {
    "text": "trusted computing base is exploitable as attackable so you really want to constrain down to the most useful",
    "start": "936639",
    "end": "942720"
  },
  {
    "text": "unit and for all of us in the kubernetes environment that would ideally be the pod",
    "start": "942720",
    "end": "948160"
  },
  {
    "text": "so that's i think we're going to focus most of our attention now if you're trying to operate this you",
    "start": "948160",
    "end": "954399"
  },
  {
    "start": "951000",
    "end": "995000"
  },
  {
    "text": "already have a tough job operating kubernetes as it is now as a devops person you may be",
    "start": "954399",
    "end": "959839"
  },
  {
    "text": "required to restructure your application re-architect maybe cross-compile things",
    "start": "959839",
    "end": "965120"
  },
  {
    "text": "you have to worry about how t's are communicating do you put are you assigning workloads to the right nodes",
    "start": "965120",
    "end": "971199"
  },
  {
    "text": "are you putting the right hardware do you have a mix of cpu nodes do they have the right feature flags in",
    "start": "971199",
    "end": "976720"
  },
  {
    "text": "the bios so it gets very very difficult very very quickly",
    "start": "976720",
    "end": "982399"
  },
  {
    "text": "so we're going to talk a little bit about some open source help and this is again i'm not affiliated",
    "start": "982399",
    "end": "987440"
  },
  {
    "text": "with any of these projects so this is just a menu of options that are out there",
    "start": "987440",
    "end": "992639"
  },
  {
    "text": "some i've i've used some i haven't so open enclave so i look at this as",
    "start": "992639",
    "end": "997839"
  },
  {
    "start": "995000",
    "end": "1055000"
  },
  {
    "text": "your first step so if you're you know right above just taking the sdks from the chip manufacturer and using their",
    "start": "997839",
    "end": "1004079"
  },
  {
    "text": "utilities open enclave adds a layer of abstraction right so they're trying to get",
    "start": "1004079",
    "end": "1009279"
  },
  {
    "text": "multi-te support cross os support when you're developing four enclaves",
    "start": "1009279",
    "end": "1015839"
  },
  {
    "text": "from just the sdks you have a lot of responsibility the crypto libraries that they distribute are usually marked as",
    "start": "1015839",
    "end": "1022240"
  },
  {
    "text": "not for production they may not have you know past fips you don't get any operating system so",
    "start": "1022240",
    "end": "1029280"
  },
  {
    "text": "you have to produce libraries of your own or uh use existing libraries that have been",
    "start": "1029280",
    "end": "1035120"
  },
  {
    "text": "tested on these enclaves so open enclaves gives you a lot of that functionality at a kind of an sdk",
    "start": "1035120",
    "end": "1040558"
  },
  {
    "text": "abstraction and makes it possible to do more powerful things in fact most of",
    "start": "1040559",
    "end": "1045678"
  },
  {
    "text": "what we'll talk next in some way or another either uses open enclave directly or has learned a lot from open",
    "start": "1045679",
    "end": "1051840"
  },
  {
    "text": "enclave and mirrored some of their approaches so the next level of abstraction is you can",
    "start": "1051840",
    "end": "1059520"
  },
  {
    "start": "1055000",
    "end": "1142000"
  },
  {
    "text": "kind of wrap your application into a unikernel lib os",
    "start": "1059520",
    "end": "1065760"
  },
  {
    "text": "basically you're creating a process so instead of having a modular os with kernels drivers separated you're kind of",
    "start": "1065760",
    "end": "1071919"
  },
  {
    "text": "taking the exact opposite route you're compiling everything into a static executable and that's what you're",
    "start": "1071919",
    "end": "1077200"
  },
  {
    "text": "going to deploy in your pod so there are a couple of open source projects that you should definitely take a look at aklam and forgive the project folks if i",
    "start": "1077200",
    "end": "1084320"
  },
  {
    "text": "mis pronounce any of these aklam is one grameen is another used to be called",
    "start": "1084320",
    "end": "1090000"
  },
  {
    "text": "graphene but i think there are it's important to know there are caveats and as an attacker you're thinking uh these are",
    "start": "1090000",
    "end": "1096640"
  },
  {
    "text": "attack points some of the implementations maybe works in progress",
    "start": "1096640",
    "end": "1101679"
  },
  {
    "text": "um you know found a couple of example nuggets on on github and some of them rely on more academic",
    "start": "1101679",
    "end": "1110000"
  },
  {
    "text": "notions of how to verify and there are a lot of attacks that are using things like return return oriented",
    "start": "1110000",
    "end": "1117120"
  },
  {
    "text": "programming jump oriented programming to try to understand how memory is written",
    "start": "1117120",
    "end": "1122559"
  },
  {
    "text": "and and what timing and try to get control of the environment so",
    "start": "1122559",
    "end": "1127679"
  },
  {
    "text": "not all of these open source rappers have been hardened against those attacks and probably not",
    "start": "1127679",
    "end": "1132880"
  },
  {
    "text": "many of them have been studied and aquaman grameen are certainly the ones that have been studied the most and used",
    "start": "1132880",
    "end": "1138080"
  },
  {
    "text": "the most but there there's definitely some fine print that you need to go through",
    "start": "1138080",
    "end": "1143679"
  },
  {
    "text": "and ideally if you have the opportunity to review the code yourself uh here's just a quick i think grameen is on the left",
    "start": "1143679",
    "end": "1151280"
  },
  {
    "text": "aklum on the right but they basically uh you know work within the host",
    "start": "1151280",
    "end": "1157039"
  },
  {
    "text": "they have kind of an abstraction layer and and then they you execute your executable that manages all of the",
    "start": "1157039",
    "end": "1163520"
  },
  {
    "text": "processes they have a tool chain that takes your your code and then verifies it and",
    "start": "1163520",
    "end": "1170559"
  },
  {
    "text": "you can then deploy it in the enclave so another way to do it is kind of",
    "start": "1170559",
    "end": "1176320"
  },
  {
    "start": "1174000",
    "end": "1246000"
  },
  {
    "text": "create a shim so in clavare is an approach where you kind of create a shim",
    "start": "1176320",
    "end": "1182640"
  },
  {
    "text": "they call it run e or roon and they allow you to use your your",
    "start": "1182640",
    "end": "1187760"
  },
  {
    "text": "containers if they're oci compliant pretty much out of the box right so you can now just",
    "start": "1187760",
    "end": "1194559"
  },
  {
    "text": "run rune run e against your container and create an enclave compatible",
    "start": "1194559",
    "end": "1201760"
  },
  {
    "text": "container and they also like say they piggyback on aklam and grameen and",
    "start": "1202400",
    "end": "1208159"
  },
  {
    "text": "uh the wasm so uh yeah i think this one is a pretty easy way to get if you have a pod",
    "start": "1208159",
    "end": "1214640"
  },
  {
    "text": "application you don't want to or can't do much refactoring and you're not that much interested in the details of how",
    "start": "1214640",
    "end": "1221200"
  },
  {
    "text": "the different sdks and attestation plug-ins work uh this is a pretty convenient way to look at it again the",
    "start": "1221200",
    "end": "1227600"
  },
  {
    "text": "caveat there is now you're expanding your trusted computing base so you're bringing in for all that convenience you're bringing in more code that is",
    "start": "1227600",
    "end": "1233679"
  },
  {
    "text": "susceptible to attack so that you know folks can analyze the way that things are are written how the",
    "start": "1233679",
    "end": "1239760"
  },
  {
    "text": "o calls any calls are they patterned and and they can extract secrets if they",
    "start": "1239760",
    "end": "1244960"
  },
  {
    "text": "do that level of attack so another approach is marble run",
    "start": "1244960",
    "end": "1250320"
  },
  {
    "start": "1246000",
    "end": "1308000"
  },
  {
    "text": "and so they're trying to take the micro services approach giving you a lot more functionality around managing the",
    "start": "1250320",
    "end": "1256400"
  },
  {
    "text": "secrets you know all the attestation uh it's really just you're you're defining yaml adjacent and it's like any",
    "start": "1256400",
    "end": "1264240"
  },
  {
    "text": "other microservices infrastructure no code changes required no special",
    "start": "1264240",
    "end": "1270559"
  },
  {
    "text": "tooling required and they can deploy grameen and aklum apps as well so it's kind of a nice",
    "start": "1270559",
    "end": "1277200"
  },
  {
    "text": "stack i think again the the biggest concern i would have with this is that now you've",
    "start": "1277200",
    "end": "1283039"
  },
  {
    "text": "added even more convenience and functionality and even more to your tcb so it requires you to really think",
    "start": "1283039",
    "end": "1289520"
  },
  {
    "text": "through what are the trade-offs of you know do you trust all of that code that providing you that infrastructure do you",
    "start": "1289520",
    "end": "1295679"
  },
  {
    "text": "really need a microservices approach for this critical application or is this you know maybe something that",
    "start": "1295679",
    "end": "1301039"
  },
  {
    "text": "is down the road",
    "start": "1301039",
    "end": "1304919"
  },
  {
    "start": "1308000",
    "end": "1372000"
  },
  {
    "text": "i'd say the last one i would take a look at is an arcs so in this case they're",
    "start": "1309600",
    "end": "1316400"
  },
  {
    "text": "have taking your code you don't have to make much code modification at all if any and you're cross-compiling that to",
    "start": "1316400",
    "end": "1323200"
  },
  {
    "text": "wasm so they manage all of the functions",
    "start": "1323200",
    "end": "1328720"
  },
  {
    "text": "for the o calls and the e-calls they're doing all the remote asset station they've implemented pretty much",
    "start": "1328720",
    "end": "1334159"
  },
  {
    "text": "everything you need to deploy your your wise map the the problem here of course is if you're not familiar with wasm",
    "start": "1334159",
    "end": "1340480"
  },
  {
    "text": "if your application is not organized so that you can quickly partition it into cross-compilable",
    "start": "1340480",
    "end": "1346799"
  },
  {
    "text": "components this might not be an option for you i'd say you know for",
    "start": "1346799",
    "end": "1352159"
  },
  {
    "text": "fairly modular small applications this is a great idea and i think",
    "start": "1352159",
    "end": "1357840"
  },
  {
    "text": "there's project the project is making a lot of fast progress i think they're not quite up to production standards i think",
    "start": "1357840",
    "end": "1364320"
  },
  {
    "text": "they themselves would would note that in the documentation but i think it's uh it's a way forward in the next couple of",
    "start": "1364320",
    "end": "1370799"
  },
  {
    "text": "years so i've given kind of an overview this is my take on if i lay out",
    "start": "1370799",
    "end": "1377200"
  },
  {
    "start": "1372000",
    "end": "1426000"
  },
  {
    "text": "what are the what are the attributes we're looking for in in a platform and then we kind of overlay those approaches you know kind",
    "start": "1377200",
    "end": "1383840"
  },
  {
    "text": "of on the left uh the sdk the plugins you can use kind of off the shelf",
    "start": "1383840",
    "end": "1389280"
  },
  {
    "text": "you know you have to do everything yourself and you know while there's um",
    "start": "1389280",
    "end": "1394880"
  },
  {
    "text": "you know very small trusted computing base you really have to do a lot of work",
    "start": "1394880",
    "end": "1400159"
  },
  {
    "text": "right so you're kind of trying i'm trying to find as someone who's deploying these systems i'm trying to find the balance between",
    "start": "1400159",
    "end": "1406799"
  },
  {
    "text": "make it easy enough for me to run real-world applications but do it enough of the leg work to make sure that i'm",
    "start": "1406799",
    "end": "1412799"
  },
  {
    "text": "confident and kind of test that i have a trust a trust computer base that i can",
    "start": "1412799",
    "end": "1418720"
  },
  {
    "text": "i can myself audit and verify so i think if i kind of my my choice and",
    "start": "1418720",
    "end": "1425120"
  },
  {
    "text": "i think we talk about that a little bit oh i'll come back to that sorry so if you're thinking about this from a",
    "start": "1425120",
    "end": "1430400"
  },
  {
    "start": "1426000",
    "end": "1579000"
  },
  {
    "text": "defense perspective talk about that you know minimizing the trusted computing base",
    "start": "1430400",
    "end": "1437120"
  },
  {
    "text": "you do i would recommend that intel and others have done some formal verification so that's where you model",
    "start": "1437120",
    "end": "1442880"
  },
  {
    "text": "the system and you use you know either higher order logic or symbolic logic to look at what the behavior of the system",
    "start": "1442880",
    "end": "1448720"
  },
  {
    "text": "should be and then you compare that to the behavior of the actual system i would say for those open enclave even",
    "start": "1448720",
    "end": "1456880"
  },
  {
    "text": "the oclum grameen i think if they could benefit",
    "start": "1456880",
    "end": "1462080"
  },
  {
    "text": "greatly from using that formal verification approach and you know it's it's not a silver bullet either you still have to continue",
    "start": "1462080",
    "end": "1468240"
  },
  {
    "text": "to do that every change it's not going to find concrete bugs in you know code check-ins",
    "start": "1468240",
    "end": "1474720"
  },
  {
    "text": "it's going to really model the system and find fundamental design flaws but i think it gives you a",
    "start": "1474720",
    "end": "1480480"
  },
  {
    "text": "level of integrity to the to the design that you",
    "start": "1480480",
    "end": "1486400"
  },
  {
    "text": "can be more comfortable using a particular solution so on the hardware side you know the",
    "start": "1486400",
    "end": "1491520"
  },
  {
    "text": "chip providers themselves are adding more control over the memory layout and memory access",
    "start": "1491520",
    "end": "1497600"
  },
  {
    "text": "you know for for those uh return-oriented programming jump pointed programming attacks you know",
    "start": "1497600",
    "end": "1502720"
  },
  {
    "text": "it's all about understanding memory rights and reads and a particular sequence or a particular timing and and",
    "start": "1502720",
    "end": "1509600"
  },
  {
    "text": "comparing that to trying to extract from that a signal that gives you the the key or you know",
    "start": "1509600",
    "end": "1515440"
  },
  {
    "text": "branch information and extracting out either the secrets",
    "start": "1515440",
    "end": "1520799"
  },
  {
    "text": "or understanding more about the algorithm and the code that's running inside so to to do to prevent that they",
    "start": "1520799",
    "end": "1526960"
  },
  {
    "text": "are adding features there's some software approaches to that kind of a software supervisor",
    "start": "1526960",
    "end": "1532559"
  },
  {
    "text": "that can check those calls and either add random delays and things like that or just block uh",
    "start": "1532559",
    "end": "1539520"
  },
  {
    "text": "re reassign things altogether yeah so there's intel has tdx it's their",
    "start": "1539520",
    "end": "1547200"
  },
  {
    "text": "newer capability and that's adding you know different king to the memory encryption",
    "start": "1547200",
    "end": "1553600"
  },
  {
    "text": "and it's you know adding more granularity to the uh memory page encryption",
    "start": "1553600",
    "end": "1559600"
  },
  {
    "text": "um and it does have support on aks i will note that the a if you're running kubernetes on",
    "start": "1559600",
    "end": "1565200"
  },
  {
    "text": "azure they have a lot of support for all the tools that i've shown again not affiliated with azure but",
    "start": "1565200",
    "end": "1572159"
  },
  {
    "text": "you you will find it easier to do some of your prototyping on azure using their confidential aks support",
    "start": "1572159",
    "end": "1579760"
  },
  {
    "start": "1579000",
    "end": "1645000"
  },
  {
    "text": "so let's talk a quick bit about compliance compliance when i talk about compliance i'm usually",
    "start": "1579760",
    "end": "1585200"
  },
  {
    "text": "talking in the form of like a government standard and something like nist where you have to demonstrate that you've your",
    "start": "1585200",
    "end": "1591200"
  },
  {
    "text": "system meets certain security controls so the security controls that i list here from nist 853",
    "start": "1591200",
    "end": "1598400"
  },
  {
    "text": "rev5 and they have different baselines high moderate low usually for any kind of critical",
    "start": "1598400",
    "end": "1604720"
  },
  {
    "text": "infrastructure or military system you're going to be looking at high baseline and",
    "start": "1604720",
    "end": "1610000"
  },
  {
    "text": "so they lay out specific requirements for a system you know you you've got to isolate and protect memory you've got to",
    "start": "1610000",
    "end": "1616640"
  },
  {
    "text": "isolate processes and so all of the features we talked about earlier with enclaves really check",
    "start": "1616640",
    "end": "1622880"
  },
  {
    "text": "these boxes so it's not otherwise possible",
    "start": "1622880",
    "end": "1628640"
  },
  {
    "text": "without dedicated hsms or other specialized hardware this makes it very easy to meet these",
    "start": "1628640",
    "end": "1634799"
  },
  {
    "text": "in a kubernetes environment and at least you know document how enclaves are are",
    "start": "1634799",
    "end": "1640000"
  },
  {
    "text": "being used to implement those controls there's another set of even more granular controls which",
    "start": "1640000",
    "end": "1646880"
  },
  {
    "start": "1645000",
    "end": "1670000"
  },
  {
    "text": "if if you're contracting with government agencies they can layer on specific controls it may not be in a",
    "start": "1646880",
    "end": "1653120"
  },
  {
    "text": "particular baseline so here again the formal formal model for your",
    "start": "1653120",
    "end": "1660320"
  },
  {
    "text": "verification is helpful you're getting non-modifiable executables so it's a lot",
    "start": "1660320",
    "end": "1666000"
  },
  {
    "text": "of these boxes get checked by using enclaves so where do we go from here so this is",
    "start": "1666000",
    "end": "1673120"
  },
  {
    "start": "1670000",
    "end": "1768000"
  },
  {
    "text": "this derived from an actual system build out and you know for us we have to look at",
    "start": "1673120",
    "end": "1679520"
  },
  {
    "text": "it from the attacker's view and and the defender's view for us you know we really wanted to use",
    "start": "1679520",
    "end": "1685440"
  },
  {
    "text": "things like marble run or nrx and arcs but again we were very concerned about",
    "start": "1685440",
    "end": "1691520"
  },
  {
    "text": "the the size and scope of that tcp so the other end of the spectrum we we",
    "start": "1691520",
    "end": "1697120"
  },
  {
    "text": "didn't have the time we didn't have the developer team to write to the raw sdks and the plug-ins so we kind of fell into that",
    "start": "1697120",
    "end": "1703600"
  },
  {
    "text": "middle ground and and are using uh testing both combination of the oculum grameen and then you know we are looking",
    "start": "1703600",
    "end": "1710240"
  },
  {
    "text": "at in clavari i think our our current uh inclination",
    "start": "1710240",
    "end": "1715600"
  },
  {
    "text": "is to not using kovari just given that extra level of",
    "start": "1715600",
    "end": "1720960"
  },
  {
    "text": "uh code that it adds with i think not not that much convenience",
    "start": "1720960",
    "end": "1726240"
  },
  {
    "text": "not to say that it's not a good project it's just for us we'd rather incur a little bit more of the pain",
    "start": "1726240",
    "end": "1732000"
  },
  {
    "text": "uh in verifying and understanding how things are implemented and do a little bit more of that work so that we can",
    "start": "1732000",
    "end": "1737840"
  },
  {
    "text": "have an understanding of that trusted computing base so we will be posting kind of build out",
    "start": "1737840",
    "end": "1744559"
  },
  {
    "text": "updates and we'll be posting all of the designs and all the attack models all the",
    "start": "1744559",
    "end": "1751279"
  },
  {
    "text": "tax scripts we'll be posting that on our twitter feed you guys are definitely welcome to to check it out and uh",
    "start": "1751279",
    "end": "1757440"
  },
  {
    "text": "take a look i'm just uh how are we doing on time",
    "start": "1757440",
    "end": "1762639"
  },
  {
    "text": "we have enough time for questions great [Applause]",
    "start": "1762960",
    "end": "1775599"
  },
  {
    "start": "1768000",
    "end": "2131000"
  },
  {
    "text": "assuming that you protect uh um",
    "start": "1792240",
    "end": "1799000"
  },
  {
    "text": "yeah so the question did everyone hear the question the question is about uh you're protecting the key but what",
    "start": "1808720",
    "end": "1815360"
  },
  {
    "text": "about the supply chain code that you're pulling in so as as you're pulling in libraries and open",
    "start": "1815360",
    "end": "1821440"
  },
  {
    "text": "source into your application that is part of the",
    "start": "1821440",
    "end": "1827039"
  },
  {
    "text": "the trusted computing base that you're now relying on so",
    "start": "1827039",
    "end": "1832158"
  },
  {
    "text": "the there's no real magic to how the enclave is going to protect the supply chain",
    "start": "1832399",
    "end": "1838960"
  },
  {
    "text": "it will provide code integrity so that you know that the the code that you've compiled into your application",
    "start": "1838960",
    "end": "1845919"
  },
  {
    "text": "or that you've cross-compiled the wasm is the same code that you compiled but",
    "start": "1845919",
    "end": "1851200"
  },
  {
    "text": "it's not going to and and then you know when you load it into the enclave it will verify cryptographically hash",
    "start": "1851200",
    "end": "1857519"
  },
  {
    "text": "that it is that code so you know that it hasn't been modified from the time you compiled it and into the time it's",
    "start": "1857519",
    "end": "1863519"
  },
  {
    "text": "running in the enclave but up until the point where you are compiling in that code that's your",
    "start": "1863519",
    "end": "1868960"
  },
  {
    "text": "responsibility right so um and i think that probably represents the largest and",
    "start": "1868960",
    "end": "1874000"
  },
  {
    "text": "most fruitful attack surface if i think of it as an attacker you know i can somewhat dismiss a lot of",
    "start": "1874000",
    "end": "1879679"
  },
  {
    "text": "the the hardware um you know without i i would say for a high critical system i'm absolutely",
    "start": "1879679",
    "end": "1886480"
  },
  {
    "text": "going to put that on my list but the low hanging fruit is to go after the supply chain right so i'm going to try to",
    "start": "1886480",
    "end": "1891840"
  },
  {
    "text": "introduce very subtle timing changes in open source libraries that",
    "start": "1891840",
    "end": "1897360"
  },
  {
    "text": "nobody really looks at too closely so i might go attack their github repos i might attack their",
    "start": "1897360",
    "end": "1903600"
  },
  {
    "text": "their javascript packages i'm going to try to exploit those return oriented programming jump pointed",
    "start": "1903600",
    "end": "1909840"
  },
  {
    "text": "programming tricks and extract data out of the enclave using those open source bugs or malware",
    "start": "1909840",
    "end": "1917200"
  },
  {
    "text": "hacks that i put into that open source library so that's to me why i want to minimize that as much as possible",
    "start": "1917200",
    "end": "1923200"
  },
  {
    "text": "and then and you know the the folks that open enclave you know i think would probably be the safest route where you",
    "start": "1923200",
    "end": "1928960"
  },
  {
    "text": "really have to scrutinize everything you're bringing in but it just leaves a lot of work for you",
    "start": "1928960",
    "end": "1935799"
  },
  {
    "text": "is yeah so the question is if the orchestra",
    "start": "1959279",
    "end": "1966799"
  },
  {
    "text": "orchestrator and control plane should essentially be in the enclave as well right um so a couple of answers there one you",
    "start": "1966799",
    "end": "1973200"
  },
  {
    "text": "know just at a very high level uh there is a performance hit when you when you work",
    "start": "1973200",
    "end": "1979039"
  },
  {
    "text": "with these enclaves right so you're losing a lot of the memory optimizations um different levels",
    "start": "1979039",
    "end": "1984799"
  },
  {
    "text": "of caching your different you know hardware uh performance optimizations you may be",
    "start": "1984799",
    "end": "1990640"
  },
  {
    "text": "losing a lot of operating system caching and performance tuning so you have to consider what is the performance",
    "start": "1990640",
    "end": "1996880"
  },
  {
    "text": "hit in in using this and if i just stick the whole database or whole you know application stack and control plane and",
    "start": "1996880",
    "end": "2004399"
  },
  {
    "text": "kubernetes into the enclave itself uh you know the performance hit is going to be significant",
    "start": "2004399",
    "end": "2010640"
  },
  {
    "text": "not to say it's impossible and and certainly with those newer processors giving you more memory",
    "start": "2010640",
    "end": "2016559"
  },
  {
    "text": "it is possible um above and beyond performance you've you've got to look at why right so",
    "start": "2016559",
    "end": "2024480"
  },
  {
    "text": "if if you're following that attack tree and you're minimizing your trusted",
    "start": "2024480",
    "end": "2030799"
  },
  {
    "text": "computing base that's kind of at odds within adding the whole control plane and the whole orchestrator in there as",
    "start": "2030799",
    "end": "2036320"
  },
  {
    "text": "well you know so do i need to do that what's what am i gaining by adding that in",
    "start": "2036320",
    "end": "2041600"
  },
  {
    "text": "there i don't trust the operator that's explicitly part of our model i don't",
    "start": "2041600",
    "end": "2046720"
  },
  {
    "text": "trust the cloud operator i don't trust the root users of the system i don't even trust the board manufacturer",
    "start": "2046720",
    "end": "2053118"
  },
  {
    "text": "the only thing i trust is that intel or arm chip so everything else is about convenience",
    "start": "2053119",
    "end": "2058960"
  },
  {
    "text": "really and you know developer productivity so i think it's just a trade-off you you want to minimize the",
    "start": "2058960",
    "end": "2065358"
  },
  {
    "text": "amount of code that you have to either formally verify or you know quasi-formally verify and",
    "start": "2065359",
    "end": "2071040"
  },
  {
    "text": "scrutinize and do code audits and code reviews and lab tests whatever mechanism you're going to choose",
    "start": "2071040",
    "end": "2076560"
  },
  {
    "text": "but as you expand that into kubernetes i mean as i mentioned at the beginning i'm helping the the",
    "start": "2076560",
    "end": "2083440"
  },
  {
    "text": "sig security group do the third party kubernetes security audit and that hasn't been done since 2019 right so i'm",
    "start": "2083440",
    "end": "2090800"
  },
  {
    "text": "you know don't know what's going to shake out of that but i'm sure they're going to be a few things the attackers of course are going to be",
    "start": "2090800",
    "end": "2096560"
  },
  {
    "text": "looking for every opportunity in every layer of care we need to use the implant code that will enable those",
    "start": "2096560",
    "end": "2102480"
  },
  {
    "text": "memory layout memory timing attacks and so it just gives them a huge surface area so i'd say",
    "start": "2102480",
    "end": "2109119"
  },
  {
    "text": "for i if you find something kind of a moderate level of risk it's it's definitely something i'd",
    "start": "2109119",
    "end": "2114839"
  },
  {
    "text": "consider but if you really it's you know the nuclear missiles",
    "start": "2114839",
    "end": "2120160"
  },
  {
    "text": "i think it's too much convenience to trade off all right thank you rob",
    "start": "2120160",
    "end": "2126400"
  },
  {
    "text": "great thank you everyone",
    "start": "2126400",
    "end": "2130119"
  }
]