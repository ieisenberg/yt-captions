[
  {
    "text": "okay good morning everyone Welcome I think we're gonna make a start Thanks so much for coming Uh my name is uh Matt",
    "start": "240",
    "end": "7279"
  },
  {
    "text": "Bates I'm a founder at a company called Kofi a UK startup We focus on workload",
    "start": "7279",
    "end": "13679"
  },
  {
    "text": "identity It's really close to our hearts and all of the open standards and tools in the CNCF are ones that we use Um so",
    "start": "13679",
    "end": "20960"
  },
  {
    "text": "pleasure to be back in London Um I don't know if anyone can remember back to the last time this was in London uh 2016",
    "start": "20960",
    "end": "27439"
  },
  {
    "text": "Just a quick show of hands Is anyone here at the Yeah I thought Ben was Yeah Um but yeah the room I think the keynote",
    "start": "27439",
    "end": "33600"
  },
  {
    "text": "room was uh smaller than this Uh much smaller than this in fact So great to see how far we've come So today I'm",
    "start": "33600",
    "end": "39600"
  },
  {
    "text": "going to be talking about something I'm sure you've probably not heard much about at the moment which is AI Um no specifically we're going to be",
    "start": "39600",
    "end": "47039"
  },
  {
    "text": "talking about um IM uh for AI agents and some of the interesting challenges um",
    "start": "47039",
    "end": "53920"
  },
  {
    "text": "that it that it presents So hopefully this will give you some food for thought you can see some existing tools",
    "start": "53920",
    "end": "59280"
  },
  {
    "text": "techniques that you can use today in the CNCF Um and I'm also going to sort of shed some light I guess on some of those",
    "start": "59280",
    "end": "65760"
  },
  {
    "text": "challenges and some of the ongoing efforts within the CNCF um and beyond um",
    "start": "65760",
    "end": "70799"
  },
  {
    "text": "for solving some of these challenges It's hopefully um super useful for you today and to take away with you Um so we",
    "start": "70799",
    "end": "77920"
  },
  {
    "text": "I guess we we've all heard about AI We all use it Um quick show of hands In fact is everybody using AI here is",
    "start": "77920",
    "end": "85119"
  },
  {
    "text": "everybody using generative yeah Okay I probably don't need to ask Um so we're all very used to using like generative",
    "start": "85119",
    "end": "90960"
  },
  {
    "text": "AI generally speaking Um yeah a lot of us now using it for coding I do probably",
    "start": "90960",
    "end": "96960"
  },
  {
    "text": "more vibe coding than I probably should be doing Um but we're all finding it incredibly useful in our daily lives And",
    "start": "96960",
    "end": "102799"
  },
  {
    "text": "I think by the day by you know by the week things are changing Really what I wanted to focus on specifically are our",
    "start": "102799",
    "end": "108799"
  },
  {
    "text": "agents Um and yes this is some generative AI from OpenAI Um you might",
    "start": "108799",
    "end": "114079"
  },
  {
    "text": "notice a few of those throughout the talk Um but an a AI agent is one that has is one that's more autonomous right",
    "start": "114079",
    "end": "120960"
  },
  {
    "text": "we give it a task and rather than just relying on sort of some of the generative AI we've been used to where",
    "start": "120960",
    "end": "126399"
  },
  {
    "text": "we engage in a conversation it responds to us um using an LLM uh gives us some",
    "start": "126399",
    "end": "131520"
  },
  {
    "text": "kind of text or some kind of other media Um the agent can actually have some",
    "start": "131520",
    "end": "136800"
  },
  {
    "text": "decision- making and some reasoning capability So it can actually understand the task that we're asking it um and can",
    "start": "136800",
    "end": "142800"
  },
  {
    "text": "go away much like a human and can reason about all the things that it has its memory and sets of tools that it has",
    "start": "142800",
    "end": "148480"
  },
  {
    "text": "access to which we'll talk about um and go off and actually do the work necessary for us um which is incredibly",
    "start": "148480",
    "end": "153920"
  },
  {
    "text": "exciting right we can ask it to do tasks that that were otherwise quite labor intensive Um and we can give it the",
    "start": "153920",
    "end": "160239"
  },
  {
    "text": "information it needs to make those those decisions So lots of autonomy That's the important point The ability to interact",
    "start": "160239",
    "end": "166000"
  },
  {
    "text": "with the environment I think this is quite unique So rather than just referring to a trained LLM uh where",
    "start": "166000",
    "end": "171440"
  },
  {
    "text": "perhaps you know the knowledge is perhaps out of date it can rely on some providing it some extra information Um",
    "start": "171440",
    "end": "177760"
  },
  {
    "text": "it's goal oriented um and it's got some memory and we'll talk a bit more about this So I think one of the things that one of",
    "start": "177760",
    "end": "184400"
  },
  {
    "text": "the places I would recommend reading if you haven't already is you know building effective agents uh by anthropic um a",
    "start": "184400",
    "end": "190480"
  },
  {
    "text": "great read It talks about all the various different models that they're seeing and of course this is evolving",
    "start": "190480",
    "end": "195680"
  },
  {
    "text": "all the time but I really like this description that it uses which is it describes you know a type of agent as an",
    "start": "195680",
    "end": "201840"
  },
  {
    "text": "augmented LLM I think that's a really good way of putting it which is effectively it takes input and it has",
    "start": "201840",
    "end": "207920"
  },
  {
    "text": "access to a variety of things which can complement effectively uh its response",
    "start": "207920",
    "end": "213120"
  },
  {
    "text": "um in order to you know really drive towards the goal of answering our question or delivering on the task that",
    "start": "213120",
    "end": "218640"
  },
  {
    "text": "we ask it to do and those are mostly retrieval So retrieval has been around for some time We've always been able to",
    "start": "218640",
    "end": "225360"
  },
  {
    "text": "add sort of so-called rag um where we can take some existing knowledge of aces that we have maybe internal knowledge",
    "start": "225360",
    "end": "231760"
  },
  {
    "text": "bases and we can complement the LLM So we can give it some like somewhat organizational specific domain specific",
    "start": "231760",
    "end": "238560"
  },
  {
    "text": "knowledge that it can use Uh and so that's actually been something we've been able to do for a little while Um",
    "start": "238560",
    "end": "243920"
  },
  {
    "text": "we've also been able to provide it with the ability to have memory uh as well So rather than having to go to the LLM each",
    "start": "243920",
    "end": "250400"
  },
  {
    "text": "and every time um you can actually use a memory caching layer and this can obviously save on save on tokens which",
    "start": "250400",
    "end": "256560"
  },
  {
    "text": "is pretty advantageous um but it can also you know remember the insight it can remember the context of the conversation that we're having with the",
    "start": "256560",
    "end": "262639"
  },
  {
    "text": "LLM But what is interesting now is that we're beginning to see um these LLMs be",
    "start": "262639",
    "end": "267919"
  },
  {
    "text": "equipped with tools which we can provide access to Um and there's a lot of I'm sure you you may have seen some of the",
    "start": "267919",
    "end": "274400"
  },
  {
    "text": "work that's being done with MCP which is a you know a protocol that's being championed and being developed in the",
    "start": "274400",
    "end": "280479"
  },
  {
    "text": "open by anthropic Um but what it enables you to do now is to start plugging in these tools um that we have and that's",
    "start": "280479",
    "end": "286639"
  },
  {
    "text": "really quite interesting because we can start giving it access not just to like uh corporate corporates a corpus of",
    "start": "286639",
    "end": "292880"
  },
  {
    "text": "material but we can also start providing access to things like APIs things like databases our actual systems and so we",
    "start": "292880",
    "end": "299520"
  },
  {
    "text": "can actually ask the LLM to call those and actually use it as we would right as humans or as as other systems would",
    "start": "299520",
    "end": "306960"
  },
  {
    "text": "which is really good which is really yeah exciting and so you know specifically thinking about tools well you know they",
    "start": "306960",
    "end": "313680"
  },
  {
    "text": "have very specific functions right just know much like APIs and they can be called when required which is really",
    "start": "313680",
    "end": "319919"
  },
  {
    "text": "interesting so the LLM can reason about the task and then it can decide when to use these at the right time um and it",
    "start": "319919",
    "end": "327199"
  },
  {
    "text": "can interpret those results you know it's it's you machine it's you responding in machine code you know it's",
    "start": "327199",
    "end": "332960"
  },
  {
    "text": "returning uh messages that can then be interpreted by uh the agent um and they can be used for like particular tasks",
    "start": "332960",
    "end": "339360"
  },
  {
    "text": "integrating into the workflow But effectively you know what they're doing effectively are the tasks that we would be doing but in that kind of loop",
    "start": "339360",
    "end": "345840"
  },
  {
    "text": "and determining when it's needed And so I sort of thought like okay well hearing",
    "start": "345840",
    "end": "351360"
  },
  {
    "text": "a little bit about this particularly from some of the the partners that we're working with all right actually how",
    "start": "351360",
    "end": "357280"
  },
  {
    "text": "would we go about building one of these uh and actually how would we think about and this is where we're going to get to",
    "start": "357280",
    "end": "362400"
  },
  {
    "text": "in this talk is like how would we think about securing these things and so yes like everybody else I vibe coded",
    "start": "362400",
    "end": "367840"
  },
  {
    "text": "something rather rapidly not something I would think about putting into production but I sort of thought like if",
    "start": "367840",
    "end": "373520"
  },
  {
    "text": "I was to do this and I was something quite canonical um so to keep things simple for the purposes demonstration",
    "start": "373520",
    "end": "378720"
  },
  {
    "text": "but if I was to build like a chat agent a customer service assistant you know we're all probably used to probably",
    "start": "378720",
    "end": "384479"
  },
  {
    "text": "using these or trying to engage these Um I I think some of the legacy versions of these chat bots have been really",
    "start": "384479",
    "end": "389919"
  },
  {
    "text": "frustrating I don't know about you but whenever I've tried to engage with them um it's been a really frustrating",
    "start": "389919",
    "end": "394960"
  },
  {
    "text": "experience They often don't understand uh and normally speaking they end up just basically sending you to a human",
    "start": "394960",
    "end": "400800"
  },
  {
    "text": "operator to deal with your inquiry Um but I think with the advent of some of these newer generation models and LLMs I",
    "start": "400800",
    "end": "406960"
  },
  {
    "text": "think we actually have the ability to really enhance those agents quite significantly Um and we can a we can",
    "start": "406960",
    "end": "413360"
  },
  {
    "text": "give them access to information real-time information um that they can reason about and and actually provide a",
    "start": "413360",
    "end": "419599"
  },
  {
    "text": "really sort of meaningful response to us as a as a user Um and of course that will hopefully be really assistive um to",
    "start": "419599",
    "end": "426240"
  },
  {
    "text": "to companies So I thought about building this one um and what I wanted to do is attach a couple of different uh tools uh",
    "start": "426240",
    "end": "432880"
  },
  {
    "text": "also you may heard these referred to as functions uh as well and so I very simply wanted to represent like an",
    "start": "432880",
    "end": "438960"
  },
  {
    "text": "orders database So if I wanted the customer service agent to be able to respond to me understand my request um",
    "start": "438960",
    "end": "445039"
  },
  {
    "text": "and go off and actually check up on the order itself and also the status of the order I wanted to give it access to APIs",
    "start": "445039",
    "end": "450960"
  },
  {
    "text": "that it could use to do that Um and in my case I used obviously lots of choices here but I plugged into Vertex AI with",
    "start": "450960",
    "end": "458479"
  },
  {
    "text": "Google and I used the Gemini Flash model Um of which of course there are many but",
    "start": "458479",
    "end": "463840"
  },
  {
    "text": "and this is the prompt that I gave it Um so I gave it a yeah pretty reasonable prompt I mean um really wanted to give",
    "start": "463840",
    "end": "471360"
  },
  {
    "text": "it its role like understand uh how what it was what it was doing and how it would go about achieving that as well uh",
    "start": "471360",
    "end": "478000"
  },
  {
    "text": "and so I gave it a set of uh tools in this case kept it really simple like get orders and get order details um that it",
    "start": "478000",
    "end": "484560"
  },
  {
    "text": "had access to So informed it about those tools and how it could use them um and you know the sequence that it that",
    "start": "484560",
    "end": "490800"
  },
  {
    "text": "effectively it should follow So um I must say I'm a beginner at these prompts so I'm sure there's better that I can do",
    "start": "490800",
    "end": "496319"
  },
  {
    "text": "Come and let me know later if you think there might be something to add and to enhance this um in in order to actually",
    "start": "496319",
    "end": "501919"
  },
  {
    "text": "build this um there's a variety of different frameworks um that you can use and I think this",
    "start": "501919",
    "end": "507919"
  },
  {
    "text": "changes by the week Yeah there's there's there's lots of new tools in the open source that you can use to build these agents Um and I mean very simply could",
    "start": "507919",
    "end": "515839"
  },
  {
    "text": "build one without a framework if you really wanted to but I thought using a framework might be really useful Um Langraph is um from the Langchain",
    "start": "515839",
    "end": "522240"
  },
  {
    "text": "project Um so if you're familiar with using Langchain already Langraph is your ability to go build out a graph-based",
    "start": "522240",
    "end": "528880"
  },
  {
    "text": "agent Um it's not quite a DAG um because it has these cycles which are really",
    "start": "528880",
    "end": "534000"
  },
  {
    "text": "useful So you can uh have the chatbot determine the tool that it needs to use",
    "start": "534000",
    "end": "539440"
  },
  {
    "text": "and then it can choose to use like multiple tools right it may choose one that may fulfill the request of the user",
    "start": "539440",
    "end": "545040"
  },
  {
    "text": "but it may also need to uh you know review the response from the user and then actually go away and use another",
    "start": "545040",
    "end": "550080"
  },
  {
    "text": "tool So this actually suits that pattern really really well Like it's built for that Uh and so that's a kind of very",
    "start": "550080",
    "end": "556160"
  },
  {
    "text": "simple representation of what it looks like right it has nodes it has edges The nodes are the components effectively The",
    "start": "556160",
    "end": "562640"
  },
  {
    "text": "edges are the decision-making edges if you like Uh pretty much so pretty simple to represent build this and you can",
    "start": "562640",
    "end": "568080"
  },
  {
    "text": "build this in Python which is what I did Um there are other frameworks around there I think notably there's I think",
    "start": "568080",
    "end": "573920"
  },
  {
    "text": "autogen from Microsoft uh as an example Um there's Kuru AI There's a manner of",
    "start": "573920",
    "end": "579760"
  },
  {
    "text": "the all manner of them out there But I use I use Lraph to do this But what I realized is that when building this uh",
    "start": "579760",
    "end": "586320"
  },
  {
    "text": "and sort of putting my sort of security hat on I realized that I was storing up a huge amount of risk when building this",
    "start": "586320",
    "end": "591680"
  },
  {
    "text": "prototype Very easy to get started locally I could build this on my machine I could have I could give it all the",
    "start": "591680",
    "end": "598000"
  },
  {
    "text": "tokens that it needed access Um but actually if you were to put this into production there are lots of concerns Um",
    "start": "598000",
    "end": "605440"
  },
  {
    "text": "and hopefully I'm sure some of you may have already come across these as you've been building agents when you know you've been putting into production the",
    "start": "605440",
    "end": "611839"
  },
  {
    "text": "security teams have been asking you have you thought about authentication have you thought about authorization um and",
    "start": "611839",
    "end": "618640"
  },
  {
    "text": "the questions that answer the questions that answer sorry to that maybe no um so really what I wanted to think about here",
    "start": "618640",
    "end": "625120"
  },
  {
    "text": "is like what are the things that we need to consider but also like how might we go about using some of the CNCF tools to",
    "start": "625120",
    "end": "631440"
  },
  {
    "text": "do that pretty pretty much so number one well we've We've got this risk with uh the token that we use to access the LLM",
    "start": "631440",
    "end": "638079"
  },
  {
    "text": "for a start So normally this is a very long lived token Yeah you are downloading it from",
    "start": "638079",
    "end": "644000"
  },
  {
    "text": "yeah your provider You're putting giving it access to your code and then forever more you might be using the same token",
    "start": "644000",
    "end": "650399"
  },
  {
    "text": "until such time you rotate it but yeah generally speaking it's longived Um so number one that's kind of the cause of a concern particularly if you're putting",
    "start": "650399",
    "end": "656240"
  },
  {
    "text": "it in an environment that's not yours right okay on your laptop where you have you know protection of that key of that",
    "start": "656240",
    "end": "661839"
  },
  {
    "text": "of that key but as soon as you put it into another environment this is a concern that you're going to have right which is that number one it's available",
    "start": "661839",
    "end": "667680"
  },
  {
    "text": "to other workload potentially um and it needs some form of rotation um the other point is also around the tools and this",
    "start": "667680",
    "end": "674399"
  },
  {
    "text": "is like of particular interest here like we are now giving the LLM the ability to",
    "start": "674399",
    "end": "680000"
  },
  {
    "text": "recommend the tool that it wants to use and then go actually call Um pretty much it would inform the agent",
    "start": "680000",
    "end": "685440"
  },
  {
    "text": "The agent will actually do the work of going to that tool perhaps interfacing with an API Um but we now need some way",
    "start": "685440",
    "end": "693440"
  },
  {
    "text": "of being able to identify the agent Uh and we've got the challenge of identifying the user as well that have",
    "start": "693440",
    "end": "700000"
  },
  {
    "text": "made this original request right effectively it's made being made on behalf of that user So this is really",
    "start": "700000",
    "end": "705839"
  },
  {
    "text": "challenging they um and I think a lot of the examples certainly a lot of the examples I've seen online generally um",
    "start": "705839",
    "end": "712320"
  },
  {
    "text": "they uh don't really have concern for this right they have just pretty open access to these APIs you know just like",
    "start": "712320",
    "end": "717839"
  },
  {
    "text": "you point it at a URL and perhaps you don't even have any form of authentication at all and certainly no",
    "start": "717839",
    "end": "723440"
  },
  {
    "text": "form of like very fine grained authorization where you're limiting the access that the agent has to the data",
    "start": "723440",
    "end": "729839"
  },
  {
    "text": "that it should be able to see to fulfill that request right it shouldn't have access to the entire orders database it",
    "start": "729839",
    "end": "734959"
  },
  {
    "text": "shouldn't have access to the entire entire customer database and so that that is a concern So how would how would",
    "start": "734959",
    "end": "740720"
  },
  {
    "text": "we do this in the uh CNCF um well we we've got existing tools and standards right to do this there's a lot of things",
    "start": "740720",
    "end": "746560"
  },
  {
    "text": "that already exist There's a lot of open source projects that can help us to plug some of these gaps right we can use",
    "start": "746560",
    "end": "753519"
  },
  {
    "text": "choose to use them to help us to get so far There's some challenges still which I'll highlight Um but for the most part",
    "start": "753519",
    "end": "760320"
  },
  {
    "text": "we've actually got a quite you know a number of these and these are just several right there's the the CNCF",
    "start": "760320",
    "end": "765440"
  },
  {
    "text": "landscape looks huge and there's there's a large number of them that I'm sure we could also employ but these are certainly the ones I've been familiar",
    "start": "765440",
    "end": "770959"
  },
  {
    "text": "with that I've decided to use here Um so one notably that I want to talk about um",
    "start": "770959",
    "end": "776480"
  },
  {
    "text": "is Fify and this is something I've been working on uh and with for some time and just a quick show of hands anyone has is",
    "start": "776480",
    "end": "782720"
  },
  {
    "text": "anyone familiar with Spiffy is anyone using Fify wow Okay Good a good number of you Fantastic Okay so for those of",
    "start": "782720",
    "end": "788320"
  },
  {
    "text": "you who don't know what Spiffy is it's an acronym of course Uh it's a secure production identity framework for",
    "start": "788320",
    "end": "794800"
  },
  {
    "text": "everyone Um it's a relatively mature open source project It's actually one of the graduated CNCF projects Um and it's",
    "start": "794800",
    "end": "801279"
  },
  {
    "text": "used by a number of end users in production at scale Um it's a set of standards So you might be familiar that",
    "start": "801279",
    "end": "808000"
  },
  {
    "text": "Spiffy is the standards are the standards the APIs and Spire is the reference implementation So if you want",
    "start": "808000",
    "end": "813760"
  },
  {
    "text": "to go to choose to use this today Spire is what you need to go and use And actually under the hood of all of this",
    "start": "813760",
    "end": "820320"
  },
  {
    "text": "I'm using Spire as well It's it's powering some of the identity which we'll see shortly Um so different aspects to Spiffy I won't go into huge",
    "start": "820320",
    "end": "826720"
  },
  {
    "text": "amount detail There's some great talks that cover this uh at previous CubeCons I'm sure there will be at future coupons",
    "start": "826720",
    "end": "832959"
  },
  {
    "text": "too Um but just at a really high level what does it provide us it provides us",
    "start": "832959",
    "end": "838000"
  },
  {
    "text": "like APIs and standards for being able to identify software and for a given",
    "start": "838000",
    "end": "843040"
  },
  {
    "text": "identity So it's got a a set of APIs for issuance It's got a set of APIs for being able to validate uh that identity",
    "start": "843040",
    "end": "849680"
  },
  {
    "text": "for being able to federate it between different environments And then ultimately how you represent that cryptographically Um and we'll see there",
    "start": "849680",
    "end": "856959"
  },
  {
    "text": "is there are two different ways to do that currently in the project Ultimately it lands in an X59 certificate or or a",
    "start": "856959",
    "end": "863040"
  },
  {
    "text": "JWT token Um and we'll see how we can kind of use these uh throughout Just a",
    "start": "863040",
    "end": "868399"
  },
  {
    "text": "very high high level how it works for anyone that's not already used this not not already aware Um it introduces like",
    "start": "868399",
    "end": "875120"
  },
  {
    "text": "basically has a server agent uh architecture Um and it differs from some of the existing techniques that you",
    "start": "875120",
    "end": "881440"
  },
  {
    "text": "might be familiar with with granting identity at the moment in that you don't give like longived access keys This is",
    "start": "881440",
    "end": "887360"
  },
  {
    "text": "something that you know traditionally we've been used to doing right it's minting tokens and putting tokens into our code perhaps and obtaining it from a",
    "start": "887360",
    "end": "894079"
  },
  {
    "text": "vault but instead it enables the workload to talk to a node local agent This is like an agent that runs on every",
    "start": "894079",
    "end": "900320"
  },
  {
    "text": "one of the nodes in in a say Kubernetes cluster Um and the agent is then",
    "start": "900320",
    "end": "905360"
  },
  {
    "text": "responsible for basically doing a process of what's called attestation It's a process of like proving uh the",
    "start": "905360",
    "end": "911440"
  },
  {
    "text": "workloads if you like provenence Um and the agent is able to do that using a variety of means It can do that by",
    "start": "911440",
    "end": "917600"
  },
  {
    "text": "looking at for instance the Kubernetes API which is a you know if you like a source of truth um you know is my",
    "start": "917600",
    "end": "923440"
  },
  {
    "text": "workload has it been registered with the API and now does it exist in the place where we expect it to be um and there's",
    "start": "923440",
    "end": "929600"
  },
  {
    "text": "other forms ofation that it can do but the point being is that that is done out of band the agent runs out of band it's",
    "start": "929600",
    "end": "935360"
  },
  {
    "text": "able to prove something about the workload um for instance you might even want to extend it to whether the container image has been signed there a",
    "start": "935360",
    "end": "942240"
  },
  {
    "text": "number of different attestations that you you can apply um those attestations are then valid validated against the server So you basically provide those",
    "start": "942240",
    "end": "948959"
  },
  {
    "text": "proofs Um server matches those up with what it expects whether it expects this workload to be running um in the place",
    "start": "948959",
    "end": "955519"
  },
  {
    "text": "that it is uh has been has been provisioned Um and if all that matches then that's the point at which the",
    "start": "955519",
    "end": "960800"
  },
  {
    "text": "identity is then granted um and the identity is then given to the workload So the workload itself is not actually",
    "start": "960800",
    "end": "966320"
  },
  {
    "text": "having to do it anything right It's just referring to this node local API Um it's then obtains the identity and then it",
    "start": "966320",
    "end": "972480"
  },
  {
    "text": "can use that identity thereafter And the important point is it's short-lived but it can use that identity then to",
    "start": "972480",
    "end": "978399"
  },
  {
    "text": "establish secure communications with other workloads in the system Um you can",
    "start": "978399",
    "end": "983440"
  },
  {
    "text": "either use the X509 to establish an MTLS connection and it could also use the JWT",
    "start": "983440",
    "end": "989120"
  },
  {
    "text": "as well uh to convey uh its identity right effectively it's a credential that it can use Um so this is a really a",
    "start": "989120",
    "end": "995600"
  },
  {
    "text": "really high level anyway Um if you're interested in reading more Solving the Bottom Turtle fantastic book that talks",
    "start": "995600",
    "end": "1001920"
  },
  {
    "text": "through a lot of the motivations for the project the history uh and the architecture and how you would go about",
    "start": "1001920",
    "end": "1007839"
  },
  {
    "text": "using uh it would use this in practice and how did I use it in practice um well once",
    "start": "1007839",
    "end": "1014800"
  },
  {
    "text": "you actually have this identity you can then start using it to make secure connections And you might want to do that in your own code And so you can use",
    "start": "1014800",
    "end": "1022000"
  },
  {
    "text": "the SDK that the Spiffy project provides in order to integrate it into something like Go for instance and Python which is",
    "start": "1022000",
    "end": "1028400"
  },
  {
    "text": "what I used in my case Um but you can also use proxies to do this for you right so you may not want to build this",
    "start": "1028400",
    "end": "1034640"
  },
  {
    "text": "uh those smarts into your code but you can have a proxy do it for you And so",
    "start": "1034640",
    "end": "1039918"
  },
  {
    "text": "something like Envoy supports Spiffy out of the box right it's got the ability uh to obtain those credentials via the um",
    "start": "1039919",
    "end": "1048000"
  },
  {
    "text": "SDS protocol Um so that's already built into obviously envoy built into as well and this is howto is indeed obtains its",
    "start": "1048000",
    "end": "1054720"
  },
  {
    "text": "identity for all its workloads that runs in the mesh And so this is now going to enable us to establish these secure",
    "start": "1054720",
    "end": "1060320"
  },
  {
    "text": "connections Really important point to make here is that we've also now got the ability to encode the service ID into",
    "start": "1060320",
    "end": "1067840"
  },
  {
    "text": "that you know that cryptographic identity And so we've got and you can probably see here this so-called spiffy",
    "start": "1067840",
    "end": "1073440"
  },
  {
    "text": "ID This is a way of representing the identity uh and you can choose to you um represent this in whatever way works for",
    "start": "1073440",
    "end": "1080080"
  },
  {
    "text": "you effectively Um but everything um lives within in this case a trust",
    "start": "1080080",
    "end": "1085120"
  },
  {
    "text": "boundary or a trust domain So uh the uh myorg.com example there that you can see",
    "start": "1085120",
    "end": "1090720"
  },
  {
    "text": "is a so-called trust domain and everything within that then can be given an identity Um and that's up to you how",
    "start": "1090720",
    "end": "1097600"
  },
  {
    "text": "you kind decide to do that So people carve these things up by perhaps their environment Perhaps they might want to",
    "start": "1097600",
    "end": "1104400"
  },
  {
    "text": "give it some key value pairs that represents the labels of the workload However you want to represent it But the",
    "start": "1104400",
    "end": "1109760"
  },
  {
    "text": "good thing about this is that now that it's encoded in the cryptographic identity the X509 stiff or the JWT is",
    "start": "1109760",
    "end": "1115919"
  },
  {
    "text": "you can start using that ID meaningfully So you can start you know basically authorizing requests based on that ID Um",
    "start": "1115919",
    "end": "1123520"
  },
  {
    "text": "which becomes incredibly useful So how how would you apply uh Spiffy uh",
    "start": "1123520",
    "end": "1129600"
  },
  {
    "text": "to sort of this agentic um architecture right how would you take Spiffy and and use it in the example that I that I have",
    "start": "1129600",
    "end": "1137039"
  },
  {
    "text": "well the workload when you think about it the agent itself is a workload right it is effectively something that is",
    "start": "1137039",
    "end": "1142320"
  },
  {
    "text": "going to run potentially in a Kubernetes cluster Doesn't have to be but it is just a workload Um and so we can",
    "start": "1142320",
    "end": "1148559"
  },
  {
    "text": "actually start just plugging in Spity here and using it in conjunction with Spire right we can give each of the",
    "start": "1148559",
    "end": "1153600"
  },
  {
    "text": "different components in our system a spiffy identity uh including the agent and including the tools And so now what",
    "start": "1153600",
    "end": "1160320"
  },
  {
    "text": "we've got um are you know unique identities they they they're given them as they as they're kind of provisioned",
    "start": "1160320",
    "end": "1166240"
  },
  {
    "text": "in the system Um we can scale them of course um and we've got the ID encoded",
    "start": "1166240",
    "end": "1171919"
  },
  {
    "text": "in that credential Um so first foot of call is right let's just credential everything in our system right let's",
    "start": "1171919",
    "end": "1177760"
  },
  {
    "text": "give it some kind of ID um let's make sure that this ID is shortlived we don't",
    "start": "1177760",
    "end": "1182799"
  },
  {
    "text": "want to have to the job of having to rotate this ourselves and we certainly don't want tokens that are longived that",
    "start": "1182799",
    "end": "1188480"
  },
  {
    "text": "can then be discovered and potentially potentially exfiltrated um from the system so this is already increasing our",
    "start": "1188480",
    "end": "1195600"
  },
  {
    "text": "posture quite significantly right from the first vibe coded example where I built this and it didn't really have any",
    "start": "1195600",
    "end": "1202160"
  },
  {
    "text": "think in the way of any uh protections Um so this is like applying those credentials The other thing that Spiffy",
    "start": "1202160",
    "end": "1208240"
  },
  {
    "text": "provides well certainly Spire provides um is it can also operate as an OODC provider So you can actually uh have",
    "start": "1208240",
    "end": "1216720"
  },
  {
    "text": "validation of the tokens that it generates and then B gives to the workloads And so I also use in this",
    "start": "1216720",
    "end": "1223520"
  },
  {
    "text": "particular example the JWTS vid um tokens um and those are given to the uh",
    "start": "1223520",
    "end": "1228720"
  },
  {
    "text": "the tools or the agent um and the agent can then use that to make a secure connection to something like Google",
    "start": "1228720",
    "end": "1234240"
  },
  {
    "text": "cloud So you know the way you might do this out of the box is using a long live service account token You can avoid that",
    "start": "1234240",
    "end": "1241440"
  },
  {
    "text": "You can replace it with the JWTS vid and then you can have Google or any hyperscaler for that matter but you can",
    "start": "1241440",
    "end": "1248480"
  },
  {
    "text": "have it um configured to create a trust relationship with your spire OODC",
    "start": "1248480",
    "end": "1254480"
  },
  {
    "text": "provider You can host that the jocks endpoint You can then have the trust relationship established and that will",
    "start": "1254480",
    "end": "1260640"
  },
  {
    "text": "mean that Google uh or anyone else will be able to trust the tokens and be able to validate those tokens importantly um",
    "start": "1260640",
    "end": "1267200"
  },
  {
    "text": "and give like access in this case to vertex So I was able to create an integration here where all of the long",
    "start": "1267200",
    "end": "1273520"
  },
  {
    "text": "live tokens pretty much were removed from this architecture So everything was shorter uh lived So let's see this kind",
    "start": "1273520",
    "end": "1280880"
  },
  {
    "text": "of in action I don't want going to do this live because you never know quite how the Wi-Fi is going to work out Um so",
    "start": "1280880",
    "end": "1287919"
  },
  {
    "text": "this is just a just a pretty canonical example right of of creating a chatbot And if anyone's seen this before they'll",
    "start": "1287919",
    "end": "1293919"
  },
  {
    "text": "probably see be quite familiar with it But yeah this is me having the conversation But incidentally um you can",
    "start": "1293919",
    "end": "1299280"
  },
  {
    "text": "have real fun with these chat bots Um I I probably should in maybe I should have included some of the examples of where",
    "start": "1299280",
    "end": "1305120"
  },
  {
    "text": "you can really push the the LLM and start to ask it a little bit more than it's willing to give up Um but anyway um",
    "start": "1305120",
    "end": "1311679"
  },
  {
    "text": "let's kind of stick to the script um and follow um follow it This is me",
    "start": "1311679",
    "end": "1319440"
  },
  {
    "text": "talking to the uh to the chatbot and you can see here and I'll",
    "start": "1319480",
    "end": "1325520"
  },
  {
    "text": "I'll probably just pause it at this point and and hopefully hover away so you can actually see it But yeah what we've now is we've made the request to",
    "start": "1325520",
    "end": "1331679"
  },
  {
    "text": "the chatbot The chatbot has reasoned about the question that I'm asking it Um and it's now referred to the tools that",
    "start": "1331679",
    "end": "1337120"
  },
  {
    "text": "it has access to Right so in this case pretty simple It's got two APIs that it can use it's determined that in order to",
    "start": "1337120",
    "end": "1342799"
  },
  {
    "text": "answer my question that it needs to go and use one of these tools which is the get orders API And so it's responded",
    "start": "1342799",
    "end": "1348159"
  },
  {
    "text": "with a request to use that um and the agent is now able to go off and actually make that request um to to the endpoint",
    "start": "1348159",
    "end": "1354640"
  },
  {
    "text": "And so I can continue the conversation Yes like it's that particular order that I'm interested in",
    "start": "1354640",
    "end": "1360679"
  },
  {
    "text": "Um and then it will go away and actually fetch more details about the specific order Um and yeah we'll wait for it",
    "start": "1360679",
    "end": "1371039"
  },
  {
    "text": "Yep And there it is And so at this point yeah certainly the chatbot could become a lot smarter right um it could go and",
    "start": "1371039",
    "end": "1376880"
  },
  {
    "text": "actually obtain like the information from another delivery agent The point being here is it could like hand off",
    "start": "1376880",
    "end": "1383120"
  },
  {
    "text": "potentially from one agent to the other Um so yeah certainly more smarts could be added to this that's for sure Um so",
    "start": "1383120",
    "end": "1390720"
  },
  {
    "text": "that's the example What I wanted to talk about though is not just like how we can think about the workloads themselves",
    "start": "1390720",
    "end": "1397120"
  },
  {
    "text": "right we've managed now to give identity to each of the different components in the system But really like how do we",
    "start": "1397120",
    "end": "1402159"
  },
  {
    "text": "encompass the user identity so I was making a request to this agent Um the agent should really be using my or have",
    "start": "1402159",
    "end": "1410080"
  },
  {
    "text": "some uh notion of my uh my identity when it makes the request to downstream systems It what it shouldn't be doing is",
    "start": "1410080",
    "end": "1416559"
  },
  {
    "text": "just having completely open access to our internal systems right i mean particularly if the prompts could be",
    "start": "1416559",
    "end": "1422240"
  },
  {
    "text": "engineered to perhaps do things that perhaps it shouldn't be doing Um and actually there are recent examples in",
    "start": "1422240",
    "end": "1427919"
  },
  {
    "text": "like the last few days where that's been possible with the likes of things like MCP where you can actually ask it to do",
    "start": "1427919",
    "end": "1433360"
  },
  {
    "text": "things which are similar to the brief that it was set um but pretty nefarious",
    "start": "1433360",
    "end": "1438480"
  },
  {
    "text": "Um and so yeah this is what you want to avoid And if we follow all the principles of zero trust what we should",
    "start": "1438480",
    "end": "1444320"
  },
  {
    "text": "be doing is taking not only the workload's identity but also the users",
    "start": "1444320",
    "end": "1449360"
  },
  {
    "text": "identity as well and using that uh combination to make a really fine grain decision uh of the back end Uh so what I",
    "start": "1449360",
    "end": "1456799"
  },
  {
    "text": "did here is I integrated Dex and you might have noticed this was this already did have some login So it did already",
    "start": "1456799",
    "end": "1462880"
  },
  {
    "text": "know about me as a customer Um and it was able to like pass that through So nothing sort of unusual here right i was",
    "start": "1462880",
    "end": "1468720"
  },
  {
    "text": "just using standard oorthth JWT tokens um using a YDC in case of DEX and I was",
    "start": "1468720",
    "end": "1474799"
  },
  {
    "text": "able then to pass that through uh to the agent The problem is though what you won't really want to do or shouldn't be",
    "start": "1474799",
    "end": "1480640"
  },
  {
    "text": "doing is then propagating that JWT right that has specific intent um and it has",
    "start": "1480640",
    "end": "1486880"
  },
  {
    "text": "you know of course all the access that is attached to that user So what we don't want to be doing is just basically",
    "start": "1486880",
    "end": "1492159"
  },
  {
    "text": "taking that JWT and then passing it through the system Um what we really want to be doing ideally is we want to",
    "start": "1492159",
    "end": "1498559"
  },
  {
    "text": "be attenuating that access We really want to be attenuating to we kind of make sure that ultimately when the call",
    "start": "1498559",
    "end": "1504480"
  },
  {
    "text": "is made to the order database that it's specific to the user right the agent is not possible It's not possible for the",
    "start": "1504480",
    "end": "1510240"
  },
  {
    "text": "agent to start seeing things that it shouldn't be seeing about some other customer Um and in some of my early",
    "start": "1510240",
    "end": "1515760"
  },
  {
    "text": "examples I did find that it was pretty straightforward to do that right you could instruct the agent to go ahead and",
    "start": "1515760",
    "end": "1521679"
  },
  {
    "text": "tell me all like orders in the database regardless of the customer And of course it was very willing to do it because it had the access to to do it Um so how how",
    "start": "1521679",
    "end": "1528559"
  },
  {
    "text": "do you do this right well one approach is that you could as I said you could literally take the JT and you could propagate it in a header and so you've",
    "start": "1528559",
    "end": "1535520"
  },
  {
    "text": "already got mutual TLS you could again use the JT and just pass it through The",
    "start": "1535520",
    "end": "1540720"
  },
  {
    "text": "problem you have of course is one of like token replay Um ideally with these things you shouldn't be taking something",
    "start": "1540720",
    "end": "1546640"
  },
  {
    "text": "like that and passing it and propagating it through the system um particularly in now as you're giving something like the agent access to that token right that it",
    "start": "1546640",
    "end": "1553679"
  },
  {
    "text": "could could use in well hopefully good ways but potentially more uh nefarious ways Um so there is a there are some",
    "start": "1553679",
    "end": "1560320"
  },
  {
    "text": "interesting like uh projects coming about that that might help us to address this Um and this is not in the CNCF this",
    "start": "1560320",
    "end": "1566240"
  },
  {
    "text": "is in the IETF Um there is a no working group Um and there's a number of",
    "start": "1566240",
    "end": "1571760"
  },
  {
    "text": "interesting projects uh and standards that are in development And one that sort of took uh I guess took my interest",
    "start": "1571760",
    "end": "1579279"
  },
  {
    "text": "for solving this problem potentially is something called OOTH transaction tokens And so what this enables you to do is it",
    "start": "1579279",
    "end": "1586880"
  },
  {
    "text": "enables you to take the user context and the request context and effectively",
    "start": "1586880",
    "end": "1592559"
  },
  {
    "text": "encapsulate that in another signed token And so this is really really useful",
    "start": "1592559",
    "end": "1597919"
  },
  {
    "text": "because it enables you to at the point of entry into the system for instance some kind of gateway or proxy as your",
    "start": "1597919",
    "end": "1604320"
  },
  {
    "text": "user basically passes that trust boundary of being external internal um you can grant this like new token type",
    "start": "1604320",
    "end": "1610960"
  },
  {
    "text": "you can mint this new token type which um has all the context that's needed for the downstream systems um to be able uh",
    "start": "1610960",
    "end": "1618360"
  },
  {
    "text": "to make a decision So there's an early implementation uh which is called token edes Um you can",
    "start": "1618360",
    "end": "1625200"
  },
  {
    "text": "go and find this It's pretty early It's an implementation Um and the actual um transaction token or the track um or",
    "start": "1625200",
    "end": "1632080"
  },
  {
    "text": "trap sorry um is still in draft So it's probably worth noting this is not a standard yet is still in draft Um and so",
    "start": "1632080",
    "end": "1639039"
  },
  {
    "text": "if you might be familiar with beyond prod perhaps you might be aware that this looks a little bit like perhaps",
    "start": "1639039",
    "end": "1645360"
  },
  {
    "text": "inspired uh by the enduser context token And so the way that Google operates this",
    "start": "1645360",
    "end": "1650960"
  },
  {
    "text": "is broadly similar right it kind of enters the the Google front end The Google front end is responsible for doing user authentication and it then",
    "start": "1650960",
    "end": "1657840"
  },
  {
    "text": "generates that user end user context token much like this transaction token and then that gets propagated through",
    "start": "1657840",
    "end": "1664080"
  },
  {
    "text": "the system um and that can go through the entire call stack um until it reaches ultimately the microser that",
    "start": "1664080",
    "end": "1669919"
  },
  {
    "text": "will be delivering you the data um and fulfilling your request pretty much So yeah broad maybe perhaps broadly",
    "start": "1669919",
    "end": "1675840"
  },
  {
    "text": "inspired uh by that And so just at a very high level I heard the claps next",
    "start": "1675840",
    "end": "1681200"
  },
  {
    "text": "door so it might mean I'm running out of time Um the uh how does this integrate well you can effectively you use it at",
    "start": "1681200",
    "end": "1687760"
  },
  {
    "text": "the point of entry into the system Um so as the request is made um into your",
    "start": "1687760",
    "end": "1692799"
  },
  {
    "text": "system um you can use a gateway I use just a go you know reverse proxy here Um",
    "start": "1692799",
    "end": "1698039"
  },
  {
    "text": "and yeah you could use envoy You could you know you could use all manner of different proxies to do this The point",
    "start": "1698039",
    "end": "1703200"
  },
  {
    "text": "being is it then integrates with this transaction token service and the input that transaction token service is the",
    "start": "1703200",
    "end": "1710159"
  },
  {
    "text": "access token from the user The one that effectively is um passed from the client",
    "start": "1710159",
    "end": "1715200"
  },
  {
    "text": "Um you can use that together with the identity of the gateway itself because you want to obviously apply some kind of",
    "start": "1715200",
    "end": "1722000"
  },
  {
    "text": "validation uh to this request and what is then given back or minted is a very",
    "start": "1722000",
    "end": "1727600"
  },
  {
    "text": "short-lived uh JWT sign token um that is specific to that user and importantly",
    "start": "1727600",
    "end": "1734880"
  },
  {
    "text": "the the nature of the request that's been made So you're basically saying at this point in time this user very",
    "start": "1734880",
    "end": "1740000"
  },
  {
    "text": "specifically wanted to fulfill this purpose Um and it's that token that if",
    "start": "1740000",
    "end": "1745039"
  },
  {
    "text": "you like attenuated token that you can now start passing through your system No longer do you pass like the original",
    "start": "1745039",
    "end": "1750480"
  },
  {
    "text": "access token pretty much So this is moving us towards a model of certainly",
    "start": "1750480",
    "end": "1755520"
  },
  {
    "text": "maturing our zero trust um applying our you know more zero trust principles to the system Um and now yeah importantly",
    "start": "1755520",
    "end": "1762320"
  },
  {
    "text": "to point is that your agent your tool has a can make a very fine grain decision right it has access to the",
    "start": "1762320",
    "end": "1769240"
  },
  {
    "text": "original workload that made the request and it also has access to the user and the context Um so it can evaluate all of",
    "start": "1769240",
    "end": "1776000"
  },
  {
    "text": "this and you can use like policy to determine whether it wants to you know respond to this request or not Um just",
    "start": "1776000",
    "end": "1782640"
  },
  {
    "text": "very very quick look Um I'm sure I can let you go read a bit more detail online about this I don't want to run out of",
    "start": "1782640",
    "end": "1788240"
  },
  {
    "text": "time as I'm sure I have already Um but this is like effectively what one would look like Um it's a draft so clearly",
    "start": "1788240",
    "end": "1794240"
  },
  {
    "text": "things are changing all the time But the point being is here though you have the transaction identifier you have the",
    "start": "1794240",
    "end": "1800080"
  },
  {
    "text": "context of the request you have the transaction uh context and and the purpose And so this enables you to use",
    "start": "1800080",
    "end": "1806720"
  },
  {
    "text": "this and you know validate it much like you would any other JWT So really what I",
    "start": "1806720",
    "end": "1812240"
  },
  {
    "text": "wanted to show is that by employing some of these existing tools and techniques and also some of the you know sort of uh",
    "start": "1812240",
    "end": "1818799"
  },
  {
    "text": "standards on the horizon we can move to from a model of like one of just completely implicit trust um which is",
    "start": "1818799",
    "end": "1825440"
  },
  {
    "text": "where I started I guess with my vibe coded prototype um and then I incrementally added these uh",
    "start": "1825440",
    "end": "1831600"
  },
  {
    "text": "capabilities So I enabled service to service trust using spiffy I could credential everything I could give it um",
    "start": "1831600",
    "end": "1838080"
  },
  {
    "text": "short-lived cryptographic uh tokens um or certificates and tokens um and I",
    "start": "1838080",
    "end": "1843679"
  },
  {
    "text": "could then complement it with user trust right i could start bringing into this the user and the context of the user and",
    "start": "1843679",
    "end": "1849440"
  },
  {
    "text": "the request And I I'm running low on time so",
    "start": "1849440",
    "end": "1854559"
  },
  {
    "text": "I'm going to flick through these next slides Um happy to share these one we wanted to draw a little bit of attention",
    "start": "1854559",
    "end": "1860399"
  },
  {
    "text": "to um and would recommend you go and read up a little bit more about this if you're interested but there's a lot of",
    "start": "1860399",
    "end": "1866240"
  },
  {
    "text": "interesting work that's going on in the on the IETF specifically a group called whimsy they're trying to standardize on",
    "start": "1866240",
    "end": "1872080"
  },
  {
    "text": "a lot of these things um there's a lot of new token types which will be really interesting um to solve some of these",
    "start": "1872080",
    "end": "1877520"
  },
  {
    "text": "problems particularly when you're actually passing across trust boundaries my simple my example today was",
    "start": "1877520",
    "end": "1882960"
  },
  {
    "text": "relatively simple like everything was can everything was within a single trust domain the reality is that of course you",
    "start": "1882960",
    "end": "1888960"
  },
  {
    "text": "would be spanning workloads across different trust boundaries Um and so you would need to be propagating these",
    "start": "1888960",
    "end": "1894480"
  },
  {
    "text": "tokens not just within the context of that domain but potentially across domains and so yeah a variety of work",
    "start": "1894480",
    "end": "1900559"
  },
  {
    "text": "going on in whimsy uh and also the oorthth groups um as well some pretty interesting challenges for instance",
    "start": "1900559",
    "end": "1907039"
  },
  {
    "text": "around you know what happens when the agent needs uh more privilege right what",
    "start": "1907039",
    "end": "1912480"
  },
  {
    "text": "happens when it needs to actually go access a system and it needs the users permission to do that right there that's",
    "start": "1912480",
    "end": "1918320"
  },
  {
    "text": "super interesting problem uh to go solve um so just in summary and apologies for running over um agents are really just",
    "start": "1918320",
    "end": "1926320"
  },
  {
    "text": "effectively smart workloads you know that's that's really the best way to think about it we've got existing ways",
    "start": "1926320",
    "end": "1931760"
  },
  {
    "text": "that we can credential we've got existing ways that we can apply apply authorization to this Um lots of tools",
    "start": "1931760",
    "end": "1938480"
  },
  {
    "text": "and techniques for doing this in the CNCF Um some interesting challenges on the horizon Uh if this interests you",
    "start": "1938480",
    "end": "1944720"
  },
  {
    "text": "please get involved These groups are all open to participation If you're an enduser perhaps you're from a vendor",
    "start": "1944720",
    "end": "1950960"
  },
  {
    "text": "perhaps you just want to get involved regardless like this is something that interests you please do We're going to need more blueprints We're going to need",
    "start": "1950960",
    "end": "1956880"
  },
  {
    "text": "lots more best practice around this because AI is certainly coming at us pretty fast And so um these challenges",
    "start": "1956880",
    "end": "1963279"
  },
  {
    "text": "are going to need to be something that we're going to solve um really soon So that's me Thanks so much Thanks for",
    "start": "1963279",
    "end": "1968720"
  },
  {
    "text": "coming today If you found it interesting or indeed if you didn't find it interesting please um give some feedback",
    "start": "1968720",
    "end": "1974159"
  },
  {
    "text": "It's really really useful to know Um that's the QR code I'm I believe it's",
    "start": "1974159",
    "end": "1979519"
  },
  {
    "text": "the one I was provided Um so hopefully it works Um yeah but if you want to give me some feedback please do And I'm going",
    "start": "1979519",
    "end": "1984799"
  },
  {
    "text": "to stay behind I'm a little I overran a bit on time so I'll probably just take questions here So if you want to come ask questions please do I'm really",
    "start": "1984799",
    "end": "1991120"
  },
  {
    "text": "interested in any kind of real world use cases that you've got and perhaps you know if some of these things are",
    "start": "1991120",
    "end": "1996159"
  },
  {
    "text": "something of interest to you please yeah let me know",
    "start": "1996159",
    "end": "2000080"
  }
]