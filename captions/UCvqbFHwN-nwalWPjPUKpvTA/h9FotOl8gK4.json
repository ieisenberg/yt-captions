[
  {
    "text": "hello everyone uh welcome to uh the talk on caspan the carbon aware scheduling",
    "start": "80",
    "end": "6480"
  },
  {
    "text": "and placement talk uh first let me congratulate you on your endurance and",
    "start": "6480",
    "end": "12880"
  },
  {
    "text": "tenacity uh that you're coming and attending uh the very last uh s almost",
    "start": "12880",
    "end": "19279"
  },
  {
    "text": "last session of the conference let me introduce myself first my name is Asser Tanta I'm with IBM research and my",
    "start": "19279",
    "end": "26039"
  },
  {
    "text": "colleague here hello everyone my name is say Ry I'm a post researcher in",
    "start": "26039",
    "end": "33000"
  },
  {
    "text": "iar all right so we'll walk you through this uh activity or project that we",
    "start": "33000",
    "end": "39000"
  },
  {
    "text": "started uh it's not in in cncf but we're planning to be there we're going to talk",
    "start": "39000",
    "end": "44640"
  },
  {
    "text": "about scheduling we're going to talk about dispatching we're going to talk about jobs uh multic",
    "start": "44640",
    "end": "51719"
  },
  {
    "text": "clusters uh queuing coup Stellar but most",
    "start": "51719",
    "end": "57280"
  },
  {
    "text": "importantly carbon and energy so what is",
    "start": "57280",
    "end": "63600"
  },
  {
    "text": "Caspian uh the motivation for for us getting onto this project is obviously",
    "start": "64799",
    "end": "70680"
  },
  {
    "text": "that the world is getting or trying to get greener and Greener and uh we all",
    "start": "70680",
    "end": "77200"
  },
  {
    "text": "know that in data centers and in in clusters and kubernetes clusters",
    "start": "77200",
    "end": "82280"
  },
  {
    "text": "especially now we have a lot of gpus and we have a lot of training jobs running",
    "start": "82280",
    "end": "87360"
  },
  {
    "text": "and they they consume uh obviously a lot of GPU cycles for very",
    "start": "87360",
    "end": "94799"
  },
  {
    "text": "long periods of time minutes hours days and and months in some cases so what",
    "start": "94799",
    "end": "101680"
  },
  {
    "text": "we're trying to do is schedule jobs so that we can minimize the carbon",
    "start": "101680",
    "end": "107560"
  },
  {
    "text": "footprint of running those jobs on those power hungry devices there are many",
    "start": "107560",
    "end": "113399"
  },
  {
    "text": "things one could do uh we can make the devices more efficient you can make better cooling better this and that",
    "start": "113399",
    "end": "120880"
  },
  {
    "text": "we're going to try with this project something very simple which is schedule",
    "start": "120880",
    "end": "125920"
  },
  {
    "text": "jobs at the right time at the right place and I'll go through what do I mean",
    "start": "125920",
    "end": "131760"
  },
  {
    "text": "by that and that's what casban is all about so I don't have to remind you of",
    "start": "131760",
    "end": "138040"
  },
  {
    "text": "the amount of uh car the carbon footprint due to running these uh llm",
    "start": "138040",
    "end": "143560"
  },
  {
    "text": "training and so on and so forth uh you know they're usually uh uh equivalent to",
    "start": "143560",
    "end": "151000"
  },
  {
    "text": "I don't know they count how many round trips and how many car trips in a lifetime and so on you all know that the",
    "start": "151000",
    "end": "157680"
  },
  {
    "text": "problem is that it's increasing it's getting worse by the day okay the good",
    "start": "157680",
    "end": "164360"
  },
  {
    "text": "thing however that we exploiting in this project is that if you look at the",
    "start": "164360",
    "end": "169400"
  },
  {
    "text": "generation of electricity that goes into these data centers come from uh various",
    "start": "169400",
    "end": "177400"
  },
  {
    "text": "or a mix of of supplies of energy supplies some of them are renewable some",
    "start": "177400",
    "end": "182879"
  },
  {
    "text": "of them are not and this this mix you see here on the left depends on the",
    "start": "182879",
    "end": "187959"
  },
  {
    "text": "geography of where the data center is some geographies have more renewal",
    "start": "187959",
    "end": "193239"
  },
  {
    "text": "percentage of mix than others you can see here this is real data uh from",
    "start": "193239",
    "end": "199799"
  },
  {
    "text": "Canada for example in Toronto uh they have a lot of nuclear in this case and",
    "start": "199799",
    "end": "204920"
  },
  {
    "text": "so on and so forth so it varies from location to location the mix itself of",
    "start": "204920",
    "end": "210439"
  },
  {
    "text": "where the energy is coming from that's one aspect the other aspect is over time",
    "start": "210439",
    "end": "216439"
  },
  {
    "text": "that makes changes depending on how much sun there is is it day is it night and",
    "start": "216439",
    "end": "221560"
  },
  {
    "text": "so on and so forth so we're going to try to exploit that if you have a multicluster Arrangement that clusters",
    "start": "221560",
    "end": "228760"
  },
  {
    "text": "are in different locations and over time the mix is changing we're going to try to schedule those jobs that take a long",
    "start": "228760",
    "end": "236159"
  },
  {
    "text": "time and they are power hungry at the right place which one of those cluster at the right",
    "start": "236159",
    "end": "242640"
  },
  {
    "text": "time if we have the luxury of of Shifting the job a little bit by",
    "start": "242640",
    "end": "248200"
  },
  {
    "text": "delaying it a little bit within a tolerable amount which is specified by",
    "start": "248200",
    "end": "253720"
  },
  {
    "text": "the user that's the whole idea uh if you're not familiar there's something",
    "start": "253720",
    "end": "259120"
  },
  {
    "text": "called the the carbon intensity the carbon intensity takes this mix that I",
    "start": "259120",
    "end": "264919"
  },
  {
    "text": "showed you and calculates a one value which is how much car carbon given that",
    "start": "264919",
    "end": "270840"
  },
  {
    "text": "mix uh that is emitted per energy unit",
    "start": "270840",
    "end": "276199"
  },
  {
    "text": "so for example for every kilowatt hour of energy how much carbon is emitted and",
    "start": "276199",
    "end": "281360"
  },
  {
    "text": "that depends on the mix if you have a lot of renewable energy in the mix then this carbon intensity would be low and",
    "start": "281360",
    "end": "288160"
  },
  {
    "text": "it would be higher otherwise so there is a way to compute that and this carbon intensity is a function of time as as as",
    "start": "288160",
    "end": "296240"
  },
  {
    "text": "I showed you before now since we're after carbon we have to figure out what is carbon right carbon emission due to",
    "start": "296240",
    "end": "303280"
  },
  {
    "text": "this job running um is really a product of three things one is the intensity",
    "start": "303280",
    "end": "309520"
  },
  {
    "text": "that I just talked about at that location at that time uh times the power consumption the units are shown here in",
    "start": "309520",
    "end": "317240"
  },
  {
    "text": "yellow so carbon intensity is how much carbon per energy and the two terms here",
    "start": "317240",
    "end": "323280"
  },
  {
    "text": "is the energy energy is Power Times time power is your power consump the devices",
    "start": "323280",
    "end": "330880"
  },
  {
    "text": "that the job is running on how much power does it does it emit so that",
    "start": "330880",
    "end": "337240"
  },
  {
    "text": "depends on how efficient the devices are it depends on maybe other things like if",
    "start": "337240",
    "end": "342600"
  },
  {
    "text": "you've been to the talk yesterday the Peaks talk Peaks handle this particular thing which is tries to minimize the",
    "start": "342600",
    "end": "349360"
  },
  {
    "text": "power this is a power aware scheduler uh and the third component is how long the",
    "start": "349360",
    "end": "354440"
  },
  {
    "text": "job takes uh so in caspan we don't touch that there of course ways of dealing",
    "start": "354440",
    "end": "360560"
  },
  {
    "text": "with that if you if one can can somehow make the the length of time a little smaller by adjusting maybe hyper",
    "start": "360560",
    "end": "367960"
  },
  {
    "text": "parameters watching the accuracy precision and so on and so forth we don't deal with that in casban we deal",
    "start": "367960",
    "end": "374520"
  },
  {
    "text": "to some extent with the choice of Hardware within uh if if one data center",
    "start": "374520",
    "end": "380840"
  },
  {
    "text": "or one cluster has better hard Hardware than the other but more importantly we",
    "start": "380840",
    "end": "386039"
  },
  {
    "text": "we deal with the carbon intensity you in order to minimize the total carbon so",
    "start": "386039",
    "end": "391680"
  },
  {
    "text": "that's the whole idea we minimize the total carbon that left uh the left part",
    "start": "391680",
    "end": "397759"
  },
  {
    "text": "of the equation by scheduling those jobs wherever on whichever cluster and",
    "start": "397759",
    "end": "404160"
  },
  {
    "text": "whenever in time when the carbon intensity is low of course not all jobs or not all",
    "start": "404160",
    "end": "412039"
  },
  {
    "text": "workload is shiftable as we want we cannot shift it in time um positively",
    "start": "412039",
    "end": "417919"
  },
  {
    "text": "you cannot shift it in negative in time before it arrives but if if it's maybe a",
    "start": "417919",
    "end": "423319"
  },
  {
    "text": "schedulable or or or a job that is run every day or something like that you can do that and some jobs are not shiftable",
    "start": "423319",
    "end": "430759"
  },
  {
    "text": "at all so there is some tolerance and that's what I talked about before we assume that a job when submits a job a",
    "start": "430759",
    "end": "437400"
  },
  {
    "text": "training job for example would have a deadline like you have to finish my job by 6 o'l tonight but could be hard or",
    "start": "437400",
    "end": "446240"
  },
  {
    "text": "could be soft our assumption is that it's a soft deadline uh in in what I'm going to",
    "start": "446240",
    "end": "452759"
  },
  {
    "text": "we're going to show you today uh but we try to keep that as much as possible close to the deadline and not go beyond",
    "start": "452759",
    "end": "459919"
  },
  {
    "text": "the deadline much and you're going to see that in the demo in the demo uh",
    "start": "459919",
    "end": "465599"
  },
  {
    "text": "so pictorially here is the picture of the problem that we're trying to solve we have multiple data centers or",
    "start": "465599",
    "end": "472039"
  },
  {
    "text": "multiple clusters and we have jobs that arrive a job is described in the",
    "start": "472039",
    "end": "477840"
  },
  {
    "text": "Manifest or the ml5 an estimate of how long the job will run an estimate and a",
    "start": "477840",
    "end": "485039"
  },
  {
    "text": "resource requirement for that job and a deadline okay and our opt there is a",
    "start": "485039",
    "end": "491639"
  },
  {
    "text": "dispatcher obviously there's a Kee of these jobs and a dispatcher that's not casban casban really is the brain is the",
    "start": "491639",
    "end": "498960"
  },
  {
    "text": "decision maker is the thing that's going to decide optimally for each job where",
    "start": "498960",
    "end": "505159"
  },
  {
    "text": "should it go and when does it run",
    "start": "505159",
    "end": "511440"
  },
  {
    "text": "okay so the way we do that is we formulate an optimization problem uh we discretize time so we look at time slot",
    "start": "513880",
    "end": "521399"
  },
  {
    "text": "it's a Time slotted system typically the carbon intensity doesn't doesn't change that often we talking like 15 minute",
    "start": "521399",
    "end": "528800"
  },
  {
    "text": "half an hour kind of granularity so our Optimizer runs at about that scale and",
    "start": "528800",
    "end": "535760"
  },
  {
    "text": "again remind you that we're talking about training jobs that are long long long running jobs um so we solved an",
    "start": "535760",
    "end": "543760"
  },
  {
    "text": "optimization problem that we formulate I'm going to show you a glimpse of that we make some assumptions we make of",
    "start": "543760",
    "end": "549800"
  },
  {
    "text": "course we look at the cluster as a whole so we kind of aggregate the efficiency",
    "start": "549800",
    "end": "555200"
  },
  {
    "text": "of the cluster in some an approximate linear power profile linear in in the",
    "start": "555200",
    "end": "561800"
  },
  {
    "text": "utilization of of the resources we assume that allocation is equivalent to",
    "start": "561800",
    "end": "567959"
  },
  {
    "text": "to utilization which is not quite true but that's the assumption that we make there are some things that we that casan",
    "start": "567959",
    "end": "574959"
  },
  {
    "text": "doesn't get involved with for example the scheduling within a cluster we say that job goes to that cluster but the",
    "start": "574959",
    "end": "581720"
  },
  {
    "text": "scheduling within a cluster is not a Caspian thing maybe it's a Peaks thing or some other schedule or Plugin in that",
    "start": "581720",
    "end": "590279"
  },
  {
    "text": "uh in that cluster all right so so as I said casan",
    "start": "590279",
    "end": "598240"
  },
  {
    "text": "is is a decision maker and this box here in the middle it relies on a multicluster management platform of some",
    "start": "598240",
    "end": "605959"
  },
  {
    "text": "kind it relies on a job queuing and dispatching kind of system and as well",
    "start": "605959",
    "end": "613640"
  },
  {
    "text": "as a mechanism to to transfer jobs transparently from a central location",
    "start": "613640",
    "end": "621680"
  },
  {
    "text": "which is a a cluster as well so this thing on in the left here lives in a",
    "start": "621680",
    "end": "627079"
  },
  {
    "text": "cluster a management cluster or what we call a a uh a hub cluster and then you",
    "start": "627079",
    "end": "632480"
  },
  {
    "text": "have the multiple clusters here where jobs run are the spoke clusters um so the for example the",
    "start": "632480",
    "end": "639920"
  },
  {
    "text": "management of the job Lifetime and and so on and so forth is part of that multicluster management platform which",
    "start": "639920",
    "end": "646880"
  },
  {
    "text": "is not casan I didn't talk much about preemption we also even though you will not see here in that presentation that a",
    "start": "646880",
    "end": "653959"
  },
  {
    "text": "job if a job is preemptable and and casban finds that it's better to cut it",
    "start": "653959",
    "end": "659040"
  },
  {
    "text": "into to pieces and spread the pieces when the carbon intensity is low then it will do that so it will will makee",
    "start": "659040",
    "end": "665880"
  },
  {
    "text": "preemption if the job allows preemption is is if it's checkpoint so that's all part of the",
    "start": "665880",
    "end": "672240"
  },
  {
    "text": "optimization problem speaking of optimization problem here it is I'm not",
    "start": "672240",
    "end": "677560"
  },
  {
    "text": "going to go through the details of what it is and so on and so forth but I'm going to give you a glimpse this is a",
    "start": "677560",
    "end": "682800"
  },
  {
    "text": "language in which the problem is specified think of it as a programming language but it's a mathematical",
    "start": "682800",
    "end": "688680"
  },
  {
    "text": "language so the idea is for each job I is going to be scheduled on",
    "start": "688680",
    "end": "696560"
  },
  {
    "text": "cluster J at time slot T if this variable is one and that's the variable",
    "start": "696560",
    "end": "702360"
  },
  {
    "text": "of the optimization problem it's an integer program so it's either zero or one you either run it there or you don't",
    "start": "702360",
    "end": "709079"
  },
  {
    "text": "run it there at that location at that time there are a bunch of constraints and and an objective which is in red our",
    "start": "709079",
    "end": "716839"
  },
  {
    "text": "objective is a multi-objective uh optimization one has to do with carbon the second I talked",
    "start": "716839",
    "end": "723240"
  },
  {
    "text": "about briefly which is we want to uh finish the job as close as possible to",
    "start": "723240",
    "end": "728920"
  },
  {
    "text": "the deadline and the third one is we try to to schedule jobs as early as possible",
    "start": "728920",
    "end": "735880"
  },
  {
    "text": "not only by the deadline but as early as possible so that the finish time the Mak",
    "start": "735880",
    "end": "741000"
  },
  {
    "text": "span if you will of all jobs is also minimized subject to the constraint that",
    "start": "741000",
    "end": "746560"
  },
  {
    "text": "the resources are satisfied so the pieces the components of of",
    "start": "746560",
    "end": "753920"
  },
  {
    "text": "putting this system together will rely on a couple of Open Source projects so",
    "start": "753920",
    "end": "759360"
  },
  {
    "text": "casban is again a decision maker is an Optimizer is a solver it takes the",
    "start": "759360",
    "end": "764560"
  },
  {
    "text": "problem periodically and it solves it it depends on and it relies on M we chose",
    "start": "764560",
    "end": "770880"
  },
  {
    "text": "mcad as our uh c a job queuing component that cues jobs and the jobs will be",
    "start": "770880",
    "end": "779680"
  },
  {
    "text": "uh there's something that we call a a dispatching gate and the gate is set",
    "start": "779680",
    "end": "785959"
  },
  {
    "text": "originally similar to what Q has Q has also a suspend kind of gate uh that",
    "start": "785959",
    "end": "792160"
  },
  {
    "text": "casan would remove that when the job is ready to be executed and and it will",
    "start": "792160",
    "end": "798160"
  },
  {
    "text": "also um put the the target cluster that has been decided on that on the job uh",
    "start": "798160",
    "end": "808120"
  },
  {
    "text": "specification uh mcad will do the job queuing life cycle management and then we rely on",
    "start": "808120",
    "end": "814839"
  },
  {
    "text": "this other project which is CP Stellar another open- source project that's going to do all the the mechanism for",
    "start": "814839",
    "end": "821320"
  },
  {
    "text": "sending the job to the spoke cluster managing the job life cycle syncing the",
    "start": "821320",
    "end": "827880"
  },
  {
    "text": "results back and and all of that uh stuff is part of",
    "start": "827880",
    "end": "834600"
  },
  {
    "text": "coup all right um I think I'm almost",
    "start": "834959",
    "end": "840680"
  },
  {
    "text": "done we so in kubernetes terms we added a couple of custom resources that we",
    "start": "840680",
    "end": "846440"
  },
  {
    "text": "needed one is the one on the left here in the purple is cluster info so cluster",
    "start": "846440",
    "end": "852360"
  },
  {
    "text": "each cluster in the spoke cluster has a cluster info object that has information",
    "start": "852360",
    "end": "858000"
  },
  {
    "text": "about that cluster mainly the resource Avail availability on that cluster and that changes over time so some",
    "start": "858000",
    "end": "865079"
  },
  {
    "text": "controller here is is updating that as well as the geography where this spoke",
    "start": "865079",
    "end": "871000"
  },
  {
    "text": "cluster is and then we get the carbon intensity through uh web services",
    "start": "871000",
    "end": "877079"
  },
  {
    "text": "typically that we go and find what the carbon intensity is for that location so",
    "start": "877079",
    "end": "882720"
  },
  {
    "text": "we go and fetch that through a carbon monitor component so cluster info is is",
    "start": "882720",
    "end": "888199"
  },
  {
    "text": "a custom resource that is synced uh through Coupe Stellar up in the hub",
    "start": "888199",
    "end": "893440"
  },
  {
    "text": "cluster where the where caspan lives the other the other custom resource is",
    "start": "893440",
    "end": "898720"
  },
  {
    "text": "something that is called an app rapper and that's really part of of MCAT so this is not new so MCAT has this uh app",
    "start": "898720",
    "end": "907279"
  },
  {
    "text": "wrapper custom resource that wraps everything related to the job in this",
    "start": "907279",
    "end": "912480"
  },
  {
    "text": "one object so if it's about a pod a deployment a collection of deployments",
    "start": "912480",
    "end": "918639"
  },
  {
    "text": "the secet the config Maps everything in this one thing which is an app rapper the app rapper is the unit or the granal",
    "start": "918639",
    "end": "926320"
  },
  {
    "text": "of scheduling so that sits in a Q um the mccad has two components one in the hub",
    "start": "926320",
    "end": "933000"
  },
  {
    "text": "cluster which is the dispatcher that's where the Q is and when it's time for",
    "start": "933000",
    "end": "938600"
  },
  {
    "text": "the job to be scheduled uh when the schedule Optimizer which is casian sets",
    "start": "938600",
    "end": "945160"
  },
  {
    "text": "the gate and and and then that job is then dispatched will go down to the",
    "start": "945160",
    "end": "952319"
  },
  {
    "text": "particular spoke Target spoke cluster through coup Stellar mcad Runner will",
    "start": "952319",
    "end": "957680"
  },
  {
    "text": "take that job as an app wrapper will unwrap it and all the API objects of",
    "start": "957680",
    "end": "963240"
  },
  {
    "text": "that job will then live and run in the spoke clusters if it's not preempted",
    "start": "963240",
    "end": "969519"
  },
  {
    "text": "let's not talk about preemption now the app runs in here and it will be washed",
    "start": "969519",
    "end": "974639"
  },
  {
    "text": "by the by the mcad runner uh eventually it will be finished and that will be",
    "start": "974639",
    "end": "980519"
  },
  {
    "text": "synced back up in the spoke cluster that's where the user interacts with with the job and I think I'm going to",
    "start": "980519",
    "end": "987279"
  },
  {
    "text": "hand it over to uh T to show you a demo thank you aser so uh now in the",
    "start": "987279",
    "end": "996319"
  },
  {
    "text": "second part of our presentation I'll show you a demo of caspan uh you can",
    "start": "996319",
    "end": "1002680"
  },
  {
    "text": "also scan this QR code to uh get more details on how to set up uh the",
    "start": "1002680",
    "end": "1011800"
  },
  {
    "text": "demo uh so here we can see there four local clusters all are built by K3 k3d",
    "start": "1011800",
    "end": "1020720"
  },
  {
    "text": "one is Hub and we have three spoke clusters on HUB uh we deploy",
    "start": "1020720",
    "end": "1028240"
  },
  {
    "text": "caspan uh that has two main components uh carbon monitoring and schedular",
    "start": "1028240",
    "end": "1034360"
  },
  {
    "text": "carbon monitoring periodically interacts with uh carbon intensity service to get",
    "start": "1034360",
    "end": "1040839"
  },
  {
    "text": "the updated values of carbon intensity of those spoke clusters uh then scheduler also runs",
    "start": "1040839",
    "end": "1048558"
  },
  {
    "text": "Peri ically and at the beginning of each period it gets all workloads that are in",
    "start": "1048559",
    "end": "1054400"
  },
  {
    "text": "the system the ones that are queued in the hub and the ones that are running in this in this poorts then uh based on the",
    "start": "1054400",
    "end": "1063120"
  },
  {
    "text": "status of work Clos and based on the status of clusters like their carbon intensity in the next 24 hours their",
    "start": "1063120",
    "end": "1070559"
  },
  {
    "text": "resource availability it decides uh which workload should be executed in the",
    "start": "1070559",
    "end": "1076600"
  },
  {
    "text": "next time slot and and which cluster it also May uh decide to uh suspend the",
    "start": "1076600",
    "end": "1085640"
  },
  {
    "text": "execution of some workloads due to sustainability and then we also have",
    "start": "1085640",
    "end": "1091280"
  },
  {
    "text": "MCAT dispatcher here uh that um for those workloads that are their target is",
    "start": "1091280",
    "end": "1098400"
  },
  {
    "text": "set by uh caspan uh MCAT dispatcher will dispatch them to the Target",
    "start": "1098400",
    "end": "1106120"
  },
  {
    "text": "cluster and with the help of sinker uh so Sinker will like uh down sync this",
    "start": "1106120",
    "end": "1112120"
  },
  {
    "text": "workloads and also UPS sync the status of those workloads to the from spoke to",
    "start": "1112120",
    "end": "1118120"
  },
  {
    "text": "to the hub cluster and then on each spoke cluster",
    "start": "1118120",
    "end": "1124159"
  },
  {
    "text": "we onun mcad Runner we deploy mcad Runner so mcad Runner will uh extract",
    "start": "1124159",
    "end": "1130960"
  },
  {
    "text": "all kubernetes objects in a prer and uh execute them and also we we have con",
    "start": "1130960",
    "end": "1139880"
  },
  {
    "text": "cluster info controller in mcad runner that um updates cluster INF for custom",
    "start": "1139880",
    "end": "1147799"
  },
  {
    "text": "resource so it periodically gets uh the status of spoke cluster like the",
    "start": "1147799",
    "end": "1154320"
  },
  {
    "text": "available resources gpus CPUs and also the geolocation of clusters and then uh",
    "start": "1154320",
    "end": "1161120"
  },
  {
    "text": "so for example in the demo that I'm going to show you uh we said the geolocation of spoke one to Germany",
    "start": "1161120",
    "end": "1168799"
  },
  {
    "text": "spoke two to uh one state in Japan and spoke three to uh Ontario in",
    "start": "1168799",
    "end": "1177240"
  },
  {
    "text": "Canada uh we also have a load generator that over 24 hours will submit workloads",
    "start": "1178039",
    "end": "1184200"
  },
  {
    "text": "in the format of app rapper to the hub cluster uh so yeah let me show you an",
    "start": "1184200",
    "end": "1191320"
  },
  {
    "text": "example of an app rapper so here U so as uh was stated before can app as many",
    "start": "1191320",
    "end": "1200080"
  },
  {
    "text": "objects as you need in a single U appoo",
    "start": "1200080",
    "end": "1205280"
  },
  {
    "text": "file uh you can just need to list them in generic items part for example here",
    "start": "1205280",
    "end": "1210440"
  },
  {
    "text": "we have a single po but you can also have job you can have any other kubernetes",
    "start": "1210440",
    "end": "1216480"
  },
  {
    "text": "subject um in addition to that you can also specify some uh fields that is uh",
    "start": "1216480",
    "end": "1224280"
  },
  {
    "text": "needed by casban what is the expected run time for this Appa and what is the",
    "start": "1224280",
    "end": "1229520"
  },
  {
    "text": "deadline for finishing this Apper Apper so if user doesn't specify then just",
    "start": "1229520",
    "end": "1235679"
  },
  {
    "text": "casian use the default values so and here is like the",
    "start": "1235679",
    "end": "1240840"
  },
  {
    "text": "distribution of the arrival uh rate of workloads by our load generator is kind",
    "start": "1240840",
    "end": "1246799"
  },
  {
    "text": "of POS and distribution and then uh we assume that workloads are are like long",
    "start": "1246799",
    "end": "1252520"
  },
  {
    "text": "running workloads between 1 hour to four hours is their running time and um their",
    "start": "1252520",
    "end": "1258960"
  },
  {
    "text": "GPU requirements is like between one to five cores and then we assume here that",
    "start": "1258960",
    "end": "1264799"
  },
  {
    "text": "uh jobs can tolerate delay so here the slow down is set to",
    "start": "1264799",
    "end": "1271600"
  },
  {
    "text": "three um you can also set other parameters so um to run the demo for",
    "start": "1272760",
    "end": "1278600"
  },
  {
    "text": "example you can set the like the period length period length so how often you want to run casban hourly or in minute",
    "start": "1278600",
    "end": "1286360"
  },
  {
    "text": "so for example 120 is in second I want to run it for example in every two second every two minutes we can also set",
    "start": "1286360",
    "end": "1293559"
  },
  {
    "text": "the optimization mode so basically C the current version of caspan runs in two",
    "start": "1293559",
    "end": "1299720"
  },
  {
    "text": "modes one is sustainable mode and the other one is Qs mode in sustainable mode",
    "start": "1299720",
    "end": "1306080"
  },
  {
    "text": "caspan considers not only carbon footprint minimizing carbon footprint but also",
    "start": "1306080",
    "end": "1312600"
  },
  {
    "text": "minimizing like the completion time of work Closs and lateness of work Closs",
    "start": "1312600",
    "end": "1317679"
  },
  {
    "text": "but we can also run in Qs mode in which uh casian doesn't consider any weight",
    "start": "1317679",
    "end": "1323480"
  },
  {
    "text": "for uh carbon footprint you can also set other parameters like the zones on of clusters",
    "start": "1323480",
    "end": "1330360"
  },
  {
    "text": "and also the power characteristics so uh here first uh let",
    "start": "1330360",
    "end": "1337840"
  },
  {
    "text": "me uh play this recorded uh video that shows the steps that you need to go",
    "start": "1337840",
    "end": "1344799"
  },
  {
    "text": "through to uh run caspan then I will also to show you some experimental",
    "start": "1344799",
    "end": "1351600"
  },
  {
    "text": "results so uh before everything you need to call on the",
    "start": "1352400",
    "end": "1359000"
  },
  {
    "text": "repository and then um by running uh",
    "start": "1359039",
    "end": "1364240"
  },
  {
    "text": "create cluster scripts uh this scripts actually will create three spoke",
    "start": "1364240",
    "end": "1371000"
  },
  {
    "text": "clusters and one Hub so you can Al also pass some parameters so three is the",
    "start": "1371000",
    "end": "1376159"
  },
  {
    "text": "number of clusters that I need for clusters one is like number of agent noes and 16 is like the number of GPU",
    "start": "1376159",
    "end": "1383760"
  },
  {
    "text": "CES that I need per node so then this a script will create",
    "start": "1383760",
    "end": "1391559"
  },
  {
    "text": "uh just",
    "start": "1403799",
    "end": "1410440"
  },
  {
    "text": "right so after creating clusters yeah it takes a little bit",
    "start": "1410559",
    "end": "1417039"
  },
  {
    "text": "time right so here we have three clusters Spokes and one Hub the next",
    "start": "1429279",
    "end": "1435159"
  },
  {
    "text": "step is to run C run MCAT on each uh cluster so with this command uh on each",
    "start": "1435159",
    "end": "1442799"
  },
  {
    "text": "spoke cluster mcad R will be deployed and MCAT dispatcher will be deployed on",
    "start": "1442799",
    "end": "1447960"
  },
  {
    "text": "the Hop cluster then the next step here is to run monitoring um like a script so I",
    "start": "1447960",
    "end": "1456720"
  },
  {
    "text": "will explain this uh flots a little bit later uh just so so actually what we",
    "start": "1456720",
    "end": "1465240"
  },
  {
    "text": "are showing here like the performance of clusters like what is the the live um",
    "start": "1465240",
    "end": "1473120"
  },
  {
    "text": "carbon intensity in each cluster and what is the GPU allocation you also show the",
    "start": "1473120",
    "end": "1480279"
  },
  {
    "text": "um the overall performance of the system so uh the right uh like terminal here",
    "start": "1480279",
    "end": "1487320"
  },
  {
    "text": "shows the output of here we on caspan script and uh this uh terminal shows the",
    "start": "1487320",
    "end": "1495440"
  },
  {
    "text": "output of casban in the first period I have like around the load generator so no app wrappers in the hub cluster uh",
    "start": "1495440",
    "end": "1503240"
  },
  {
    "text": "that's why you don't see any decision that be made by caspan so just let me",
    "start": "1503240",
    "end": "1509360"
  },
  {
    "text": "explain a little bit this uh uh script so the first line like list the app",
    "start": "1509360",
    "end": "1515240"
  },
  {
    "text": "wrappers in the system in the hub then it will like get all spoke clusters how",
    "start": "1515240",
    "end": "1522039"
  },
  {
    "text": "what is the available CPU what is the available gpus on each and what is the G location and then it will list the",
    "start": "1522039",
    "end": "1527679"
  },
  {
    "text": "decisions that are made by the optimizer in",
    "start": "1527679",
    "end": "1531679"
  },
  {
    "text": "casban So at the beginning we don't have any app rapper but now we run load",
    "start": "1533840",
    "end": "1539039"
  },
  {
    "text": "generator now we should expect uh in the next uh like f time slot more decision",
    "start": "1539039",
    "end": "1546080"
  },
  {
    "text": "be made by casban so now you can see two jobs per an now uh submitted to the hub",
    "start": "1546080",
    "end": "1553720"
  },
  {
    "text": "and uh and here you can see the the decisions that are made by um caspan we",
    "start": "1553720",
    "end": "1559960"
  },
  {
    "text": "see that both uh jobs are assigned to spoke three but why a casban did this",
    "start": "1559960",
    "end": "1567320"
  },
  {
    "text": "decision make this decision actually because the of carbon intensity if you",
    "start": "1567320",
    "end": "1572960"
  },
  {
    "text": "look here spoke three the DU location for the spoke three is Canada Ontario",
    "start": "1572960",
    "end": "1578039"
  },
  {
    "text": "that has the lowest carbon intensity so now let me run the",
    "start": "1578039",
    "end": "1585159"
  },
  {
    "text": "remaining part of this uh video so if if you look at this uh on the left uh",
    "start": "1585159",
    "end": "1592000"
  },
  {
    "text": "figures uh the first row from top shows the carbon intensity on each spoke",
    "start": "1592000",
    "end": "1598480"
  },
  {
    "text": "clusters so uh the left is for Canada then is for Japan then for Germany so as",
    "start": "1598480",
    "end": "1606799"
  },
  {
    "text": "you see here uh Canada has the lowest carbon intensity that's why in the",
    "start": "1606799",
    "end": "1612480"
  },
  {
    "text": "second row if you look at the second row uh more GPU allocations are assigned to this cluster but after some point",
    "start": "1612480",
    "end": "1619799"
  },
  {
    "text": "because uh caspan also takes care of the uh Qs of BR Closs then it also uses the",
    "start": "1619799",
    "end": "1628120"
  },
  {
    "text": "second uh cluster in Japan to schedule workload and so here just because Japan",
    "start": "1628120",
    "end": "1635080"
  },
  {
    "text": "is I mean um is more power efficient so you see Japan and uh Germany their",
    "start": "1635080",
    "end": "1641200"
  },
  {
    "text": "carbon intensity is in the same range but because uh Japan is more power",
    "start": "1641200",
    "end": "1646399"
  },
  {
    "text": "efficient casban chose um spoke to here and then so I am going",
    "start": "1646399",
    "end": "1652960"
  },
  {
    "text": "to explain the next two SL two plots in the next uh slide but um here uh let me",
    "start": "1652960",
    "end": "1660720"
  },
  {
    "text": "just briefly explain that uh at the bottom you will you see two uh figures",
    "start": "1660720",
    "end": "1667440"
  },
  {
    "text": "the left figure shows like the total carbon footprint that generated by executing",
    "start": "1667440",
    "end": "1673320"
  },
  {
    "text": "workloads um and then on the right you see the like hiso",
    "start": "1673320",
    "end": "1678679"
  },
  {
    "text": "of percentage of jobs based on the value of alpha so what is alpha alpha is actually the completion time ratio um",
    "start": "1678679",
    "end": "1686840"
  },
  {
    "text": "which is defined response time over the deadline so if this value is if for a",
    "start": "1686840",
    "end": "1693159"
  },
  {
    "text": "job this value is less than one recall one this means that that job is executed by deadline if it's greater than one",
    "start": "1693159",
    "end": "1700240"
  },
  {
    "text": "means that the job has Miss this deadline so let's see how casban can uh",
    "start": "1700240",
    "end": "1706519"
  },
  {
    "text": "guarantee the this so let me go to the next slide so here",
    "start": "1706519",
    "end": "1714360"
  },
  {
    "text": "uh we run a caspan into different modes on the left we run caspan in sustainable",
    "start": "1714360",
    "end": "1722279"
  },
  {
    "text": "mode and then on the on the right we learn caspan on Qs mode so we don't have",
    "start": "1722279",
    "end": "1727679"
  },
  {
    "text": "any sustainability concern on the right side while in the left side we uh consider both qos and carbon footprint",
    "start": "1727679",
    "end": "1735760"
  },
  {
    "text": "in our decision making and then the first row shows the carbon intensity of",
    "start": "1735760",
    "end": "1741440"
  },
  {
    "text": "each cluster the second row shows the GPU allocation and then the third row shows",
    "start": "1741440",
    "end": "1747760"
  },
  {
    "text": "the overall performance of the system uh let me play",
    "start": "1747760",
    "end": "1754398"
  },
  {
    "text": "the so yeah over 24 hours work CLS are submitted to the system so this is just",
    "start": "1754919",
    "end": "1761159"
  },
  {
    "text": "in fast mode what you are seeing here uh you can compare how workloads are",
    "start": "1761159",
    "end": "1766679"
  },
  {
    "text": "allocated in each mode uh so you will see so in sustainable",
    "start": "1766679",
    "end": "1771840"
  },
  {
    "text": "mode the schedule will start by assigning jobs to the greenest one close",
    "start": "1771840",
    "end": "1779000"
  },
  {
    "text": "uh which is in Canada and then it will use uh uh Japan and after that it will use",
    "start": "1779000",
    "end": "1788120"
  },
  {
    "text": "uh Germany while in the Qs mode we see a kind of balanced distribution of Ro clo",
    "start": "1788120",
    "end": "1795480"
  },
  {
    "text": "so and then if you look at the last last row you will see the total carbon",
    "start": "1795480",
    "end": "1800760"
  },
  {
    "text": "footprint execute U generated in each mode um of course uh in sustainable mode",
    "start": "1800760",
    "end": "1808559"
  },
  {
    "text": "we have um uh lower carbon emission compared to the Qs mode uh but what what",
    "start": "1808559",
    "end": "1818360"
  },
  {
    "text": "about uh like other performance metrics about Qs if you look at uh the second I",
    "start": "1818360",
    "end": "1825120"
  },
  {
    "text": "mean there uh the like the value of alpha in each mode so you will see just",
    "start": "1825120",
    "end": "1832679"
  },
  {
    "text": "uh in sustainable mode above like 7% of jobs will miss their deadline uh while",
    "start": "1832679",
    "end": "1841000"
  },
  {
    "text": "in Qs mode because we don't I mean the main concern is about us uh less than 1% of work CLS will miss",
    "start": "1841000",
    "end": "1849039"
  },
  {
    "text": "the deadline but um if you look here the value of alha",
    "start": "1849039",
    "end": "1854279"
  },
  {
    "text": "most of jobs between a value of 1 to 1.2 are finished so just like lower",
    "start": "1854279",
    "end": "1861240"
  },
  {
    "text": "percentage of jobs are U very late so we should uh we can like U uh ignore those",
    "start": "1861240",
    "end": "1868200"
  },
  {
    "text": "those percentages yeah this is like the end of uh our demo um thank you everyone",
    "start": "1868200",
    "end": "1877440"
  },
  {
    "text": "uh if you have any feedback please uh scan this QR code",
    "start": "1877440",
    "end": "1882679"
  },
  {
    "text": "and yeah any questions",
    "start": "1882679",
    "end": "1889060"
  },
  {
    "text": "[Applause]",
    "start": "1889060",
    "end": "1894829"
  },
  {
    "text": "yeah thank you for the presentation um do you make any decision",
    "start": "1898639",
    "end": "1904039"
  },
  {
    "text": "about delaying uh a job instead of putting it in the the cluster with the",
    "start": "1904039",
    "end": "1910760"
  },
  {
    "text": "lowest uh uh carbon footprint right uh thank you uh uh our scheduler here",
    "start": "1910760",
    "end": "1919360"
  },
  {
    "text": "actually consider it makes two decision about when to schedule a job and where",
    "start": "1919360",
    "end": "1925760"
  },
  {
    "text": "so we make both decisions some jobs will be delayed if",
    "start": "1925760",
    "end": "1930840"
  },
  {
    "text": "they can tolerate uh delay and yeah we make decision about",
    "start": "1930840",
    "end": "1936880"
  },
  {
    "text": "both yeah so uh in that case how do you choose to delay a job uh because I mean",
    "start": "1940480",
    "end": "1948840"
  },
  {
    "text": "you don't know the future you don't know what the carbon footprint will be",
    "start": "1948840",
    "end": "1955799"
  },
  {
    "text": "uh so we have our uh Optimizer here look",
    "start": "1955799",
    "end": "1961639"
  },
  {
    "text": "I mean the look ahead uh time window for our Optimizer is next 24 hours so we",
    "start": "1961639",
    "end": "1967720"
  },
  {
    "text": "know what will happen in the next 24 hours for carbon intensity and based on that we make",
    "start": "1967720",
    "end": "1974039"
  },
  {
    "text": "decision let me add to that yeah you're absolutely right you have a good point Point yes we have we work with",
    "start": "1974039",
    "end": "1979880"
  },
  {
    "text": "predictions of carbon intensities and nobody knows for sure what's going to happen the next 24 hours but given this",
    "start": "1979880",
    "end": "1987080"
  },
  {
    "text": "the nature the cyclic nature of the of the way generation of energy is then you",
    "start": "1987080",
    "end": "1993279"
  },
  {
    "text": "can predict with a good accuracy what's going to happen the next 24 hours any other",
    "start": "1993279",
    "end": "2001559"
  },
  {
    "text": "questions yeah thanks aot for the presentation very nice I was wondering",
    "start": "2001960",
    "end": "2007120"
  },
  {
    "text": "do you are you thinking about adding other parameters to the scheduler like for",
    "start": "2007120",
    "end": "2014320"
  },
  {
    "text": "example the price of running in one specific location or or the the latency",
    "start": "2014320",
    "end": "2020960"
  },
  {
    "text": "I'm thinking of Enterprise using this and maybe having broader",
    "start": "2020960",
    "end": "2026440"
  },
  {
    "text": "constraint I assume one one of the Assumption here is that the three location have the same kind of server",
    "start": "2026440",
    "end": "2032200"
  },
  {
    "text": "exactly so their profile is the same or I don't know so the the power profiles is not",
    "start": "2032200",
    "end": "2039720"
  },
  {
    "text": "necessarily the same in all clusters that's the assumption that we make and we work with but I think you're bringing",
    "start": "2039720",
    "end": "2045639"
  },
  {
    "text": "in an interesting Dimension which is cost there may be other uh Dimensions as well uh the the optimization problem",
    "start": "2045639",
    "end": "2053520"
  },
  {
    "text": "that we showed earlier is a multi-objective one and therefore adding another objective should be",
    "start": "2053520",
    "end": "2059520"
  },
  {
    "text": "straightforward what's not straightforward though is the way to solve it uh we cannot you can take this",
    "start": "2059520",
    "end": "2066118"
  },
  {
    "text": "problem formulation and get get a solver and solves an integer programming problem if you did that and you're dead",
    "start": "2066119",
    "end": "2073200"
  },
  {
    "text": "in the water I can tell you that if you have hundreds and thousands of jobs and many clusters is going to take forever",
    "start": "2073200",
    "end": "2079158"
  },
  {
    "text": "to solve so we have a u an approximation algorithm that solves that particular uh",
    "start": "2079159",
    "end": "2086320"
  },
  {
    "text": "optimization problem which we didn't get",
    "start": "2086320",
    "end": "2090320"
  },
  {
    "text": "into when can we expect this to be available for production",
    "start": "2095079",
    "end": "2101359"
  },
  {
    "text": "workloads you go ahead research it's still still in",
    "start": "2104280",
    "end": "2112880"
  },
  {
    "text": "research is it some kind of like open research where you accept issues or pull",
    "start": "2115160",
    "end": "2122000"
  },
  {
    "text": "requests yes it is in GitHub uh we we started to work on this so it's uh but",
    "start": "2122000",
    "end": "2129320"
  },
  {
    "text": "you're you know you're welcome to download and try uh did we put the the",
    "start": "2129320",
    "end": "2134839"
  },
  {
    "text": "QR for the GitHub for yeah this is like",
    "start": "2134839",
    "end": "2142079"
  },
  {
    "text": "for oh was it that",
    "start": "2143400",
    "end": "2147078"
  },
  {
    "text": "end yeah so the one on the left is casian and we have the other two that's already in open source mcad and coup",
    "start": "2148640",
    "end": "2155520"
  },
  {
    "text": "Stellar mcad is one way of doing the job dispatching otherwise as I mentioned before could be Q so we could integrate",
    "start": "2155520",
    "end": "2162079"
  },
  {
    "text": "with that as well we haven't done that yet um but the one the casban is the is the one on the",
    "start": "2162079",
    "end": "2169559"
  },
  {
    "text": "left I was wondering do are you using uh green software Foundation carbon aware",
    "start": "2170040",
    "end": "2176520"
  },
  {
    "text": "SDK to to fetch the data about carbon intensity or are you're doing it on your",
    "start": "2176520",
    "end": "2181720"
  },
  {
    "text": "way directly we don't have our way we use yeah here we use the electricity map",
    "start": "2181720",
    "end": "2187280"
  },
  {
    "text": "to get the updated values yeah we r on other open source",
    "start": "2187280",
    "end": "2194800"
  },
  {
    "text": "yeah if no other question thank you very much thank you and uh",
    "start": "2194800",
    "end": "2202200"
  }
]