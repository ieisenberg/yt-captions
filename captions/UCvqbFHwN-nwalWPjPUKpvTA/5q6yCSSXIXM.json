[
  {
    "text": "cool uh so we are here to talk about the",
    "start": "160",
    "end": "2639"
  },
  {
    "text": "hitchhiker's guide to upgrade backstage",
    "start": "2639",
    "end": "5359"
  },
  {
    "text": "don't panic",
    "start": "5359",
    "end": "8000"
  },
  {
    "text": "hey everyone uh I'm Janel and I'm a",
    "start": "8000",
    "end": "10880"
  },
  {
    "text": "staff software engineer with harness uh",
    "start": "10880",
    "end": "13840"
  },
  {
    "text": "I work on uh IDP team in harness and uh",
    "start": "13840",
    "end": "17680"
  },
  {
    "text": "been working on backstage for last two",
    "start": "17680",
    "end": "20640"
  },
  {
    "text": "and a half years and uh currently like",
    "start": "20640",
    "end": "23600"
  },
  {
    "text": "our backstage instance is serving about",
    "start": "23600",
    "end": "25519"
  },
  {
    "text": "hundreds of customers",
    "start": "25519",
    "end": "28080"
  },
  {
    "text": "cool i am Debba i work as a founding",
    "start": "28080",
    "end": "30800"
  },
  {
    "text": "engineer at passible and by def facto I",
    "start": "30800",
    "end": "34320"
  },
  {
    "text": "get to contribute to passible DB",
    "start": "34320",
    "end": "36000"
  },
  {
    "text": "kubernetes and backstage uh before",
    "start": "36000",
    "end": "38640"
  },
  {
    "text": "joining passible and building an",
    "start": "38640",
    "end": "39840"
  },
  {
    "text": "observability platform I was working",
    "start": "39840",
    "end": "41440"
  },
  {
    "text": "with general in the team uh in uh IDP",
    "start": "41440",
    "end": "44079"
  },
  {
    "text": "team at harness where we have been uh",
    "start": "44079",
    "end": "46960"
  },
  {
    "text": "upgrading backstage because we have",
    "start": "46960",
    "end": "48800"
  },
  {
    "text": "built solutions on top of backstage not",
    "start": "48800",
    "end": "50480"
  },
  {
    "text": "just for our own use case but uh serving",
    "start": "50480",
    "end": "52640"
  },
  {
    "text": "hundreds of customers and we have been",
    "start": "52640",
    "end": "54719"
  },
  {
    "text": "upgrading backstage pretty much every",
    "start": "54719",
    "end": "56160"
  },
  {
    "text": "quarter and this talk is focused on the",
    "start": "56160",
    "end": "60079"
  },
  {
    "text": "experiences the lessons we learned so",
    "start": "60079",
    "end": "62239"
  },
  {
    "text": "that it it serves as a guide for you uh",
    "start": "62239",
    "end": "64559"
  },
  {
    "text": "while you are trying to upgrade your",
    "start": "64559",
    "end": "65920"
  },
  {
    "text": "backstage",
    "start": "65920",
    "end": "68320"
  },
  {
    "text": "so let's start uh so before starting any",
    "start": "68479",
    "end": "71520"
  },
  {
    "text": "upgrade it's always starts with a why",
    "start": "71520",
    "end": "73200"
  },
  {
    "text": "why do you want to upgrade especially in",
    "start": "73200",
    "end": "75680"
  },
  {
    "text": "enterprise uh instance in production",
    "start": "75680",
    "end": "77520"
  },
  {
    "text": "instances in enterprise security uh",
    "start": "77520",
    "end": "80799"
  },
  {
    "text": "patches are very very important",
    "start": "80799",
    "end": "82240"
  },
  {
    "text": "especially in in today's world where",
    "start": "82240",
    "end": "83600"
  },
  {
    "text": "there are CVS RC's coming left and right",
    "start": "83600",
    "end": "86560"
  },
  {
    "text": "you obviously want to be on the latest",
    "start": "86560",
    "end": "88159"
  },
  {
    "text": "version of the patch that does not have",
    "start": "88159",
    "end": "89439"
  },
  {
    "text": "the vulnerability second obviously new",
    "start": "89439",
    "end": "92000"
  },
  {
    "text": "and tiny features backstage releases",
    "start": "92000",
    "end": "94079"
  },
  {
    "text": "once every month and there are pretty",
    "start": "94079",
    "end": "96240"
  },
  {
    "text": "new features that that piles up every uh",
    "start": "96240",
    "end": "99119"
  },
  {
    "text": "two three releases and you would want to",
    "start": "99119",
    "end": "101040"
  },
  {
    "text": "be on the latest version to have the new",
    "start": "101040",
    "end": "102880"
  },
  {
    "text": "features and obviously bug fixes u I",
    "start": "102880",
    "end": "106320"
  },
  {
    "text": "mean we suggest you to be not I mean not",
    "start": "106320",
    "end": "109360"
  },
  {
    "text": "very far from the latest version like",
    "start": "109360",
    "end": "111040"
  },
  {
    "text": "maybe just two or three versions back so",
    "start": "111040",
    "end": "113119"
  },
  {
    "text": "that you have uh your all your bugs",
    "start": "113119",
    "end": "115280"
  },
  {
    "text": "fixed most of your bugs fixed and then",
    "start": "115280",
    "end": "117280"
  },
  {
    "text": "it's performance improvements like it's",
    "start": "117280",
    "end": "118719"
  },
  {
    "text": "it's especially for backstage it is very",
    "start": "118719",
    "end": "121040"
  },
  {
    "text": "very important because it's a developer",
    "start": "121040",
    "end": "122960"
  },
  {
    "text": "tooling catering to developers and you",
    "start": "122960",
    "end": "124799"
  },
  {
    "text": "want your UI to load instantly you want",
    "start": "124799",
    "end": "127040"
  },
  {
    "text": "your searches to load instantly and for",
    "start": "127040",
    "end": "129520"
  },
  {
    "text": "that that is one of the major reasons",
    "start": "129520",
    "end": "130879"
  },
  {
    "text": "why we also upgrade",
    "start": "130879",
    "end": "133319"
  },
  {
    "text": "backstage well uh before we go further",
    "start": "133319",
    "end": "136800"
  },
  {
    "text": "how many of you have tried upgrading",
    "start": "136800",
    "end": "138760"
  },
  {
    "text": "backstage before here in this",
    "start": "138760",
    "end": "141720"
  },
  {
    "text": "room and how many of you have done it on",
    "start": "141720",
    "end": "144640"
  },
  {
    "text": "like production instances not on your",
    "start": "144640",
    "end": "146560"
  },
  {
    "text": "home",
    "start": "146560",
    "end": "147640"
  },
  {
    "text": "playground cool that's that's quite a",
    "start": "147640",
    "end": "149920"
  },
  {
    "text": "number so basically with every backstage",
    "start": "149920",
    "end": "152640"
  },
  {
    "text": "version getting released we we are quite",
    "start": "152640",
    "end": "155280"
  },
  {
    "text": "tempted to upgrade let's say sometimes",
    "start": "155280",
    "end": "158959"
  },
  {
    "text": "it it it just doesn't go away it's it",
    "start": "158959",
    "end": "161440"
  },
  {
    "text": "leads to some or the other error and we",
    "start": "161440",
    "end": "165519"
  },
  {
    "text": "ending up trying to like it's it's",
    "start": "165519",
    "end": "167519"
  },
  {
    "text": "always a search and find out and get",
    "start": "167519",
    "end": "170640"
  },
  {
    "text": "your things right but most of the times",
    "start": "170640",
    "end": "172080"
  },
  {
    "text": "it it goes very well so let's let's see",
    "start": "172080",
    "end": "175200"
  },
  {
    "text": "how we did our first upgrade so this is",
    "start": "175200",
    "end": "178080"
  },
  {
    "text": "uh this was the experience of our very",
    "start": "178080",
    "end": "180319"
  },
  {
    "text": "first upgrade that we did after trying",
    "start": "180319",
    "end": "182239"
  },
  {
    "text": "to run uh backstage in our production",
    "start": "182239",
    "end": "184640"
  },
  {
    "text": "instance and at that point of time we",
    "start": "184640",
    "end": "186400"
  },
  {
    "text": "didn't had very much customizations but",
    "start": "186400",
    "end": "188400"
  },
  {
    "text": "yeah let's see how it go so uh shout out",
    "start": "188400",
    "end": "191680"
  },
  {
    "text": "to the team here the maintainers of",
    "start": "191680",
    "end": "193360"
  },
  {
    "text": "backstage the contributors the change",
    "start": "193360",
    "end": "195519"
  },
  {
    "text": "logs are so well detailed it is so",
    "start": "195519",
    "end": "197840"
  },
  {
    "text": "meticulously written that uh lot of the",
    "start": "197840",
    "end": "200959"
  },
  {
    "text": "times we have figured out what package",
    "start": "200959",
    "end": "203440"
  },
  {
    "text": "in what particular version we don't want",
    "start": "203440",
    "end": "205200"
  },
  {
    "text": "to upgrade and uh saved ourself from a",
    "start": "205200",
    "end": "207920"
  },
  {
    "text": "breaking change and so we read the",
    "start": "207920",
    "end": "210319"
  },
  {
    "text": "change logs first of the version that we",
    "start": "210319",
    "end": "212400"
  },
  {
    "text": "want to go uh in our next release then",
    "start": "212400",
    "end": "215519"
  },
  {
    "text": "uh there is a CLI command which is my",
    "start": "215519",
    "end": "217599"
  },
  {
    "text": "favorite personal favorite so you can go",
    "start": "217599",
    "end": "219519"
  },
  {
    "text": "and run this yarn back CLI version bump",
    "start": "219519",
    "end": "222159"
  },
  {
    "text": "release to the particular version you",
    "start": "222159",
    "end": "224080"
  },
  {
    "text": "want to upgrade and it will it will",
    "start": "224080",
    "end": "226400"
  },
  {
    "text": "pretty much automate the whole task for",
    "start": "226400",
    "end": "228280"
  },
  {
    "text": "you then there is an upgrader tool which",
    "start": "228280",
    "end": "232080"
  },
  {
    "text": "shows you the code def of the files",
    "start": "232080",
    "end": "234720"
  },
  {
    "text": "where you uh need to copy the code and",
    "start": "234720",
    "end": "237040"
  },
  {
    "text": "change for the upgrade to happen this is",
    "start": "237040",
    "end": "239360"
  },
  {
    "text": "very useful because you exactly know on",
    "start": "239360",
    "end": "241360"
  },
  {
    "text": "which file you are we are changing what",
    "start": "241360",
    "end": "243439"
  },
  {
    "text": "and from the previous versions what has",
    "start": "243439",
    "end": "245360"
  },
  {
    "text": "updated what has changed",
    "start": "245360",
    "end": "247959"
  },
  {
    "text": "well then it worked for us we deployed",
    "start": "247959",
    "end": "251360"
  },
  {
    "text": "and we we felt that everything",
    "start": "251360",
    "end": "254760"
  },
  {
    "text": "worked first upgrade pretty easy right",
    "start": "254760",
    "end": "257919"
  },
  {
    "text": "just four steps and it it went",
    "start": "257919",
    "end": "261160"
  },
  {
    "text": "well congratulations you are on the",
    "start": "261160",
    "end": "264000"
  },
  {
    "text": "latest version of backstage not just",
    "start": "264000",
    "end": "265840"
  },
  {
    "text": "back backstage but pretty much on the",
    "start": "265840",
    "end": "267680"
  },
  {
    "text": "latest version of everything so you see",
    "start": "267680",
    "end": "270000"
  },
  {
    "text": "there was a small problem that that",
    "start": "270000",
    "end": "272080"
  },
  {
    "text": "occurred here is when you use a CLI tool",
    "start": "272080",
    "end": "275840"
  },
  {
    "text": "to upgrade it introduces this carrots in",
    "start": "275840",
    "end": "278800"
  },
  {
    "text": "your package.json file and the uh type",
    "start": "278800",
    "end": "281440"
  },
  {
    "text": "of upgrade that backstage does is",
    "start": "281440",
    "end": "282960"
  },
  {
    "text": "majorly the packages are upgraded to",
    "start": "282960",
    "end": "285199"
  },
  {
    "text": "minor minor version upgrades or patch",
    "start": "285199",
    "end": "287440"
  },
  {
    "text": "upgrades and when the scar is present in",
    "start": "287440",
    "end": "289840"
  },
  {
    "text": "your package.json JSON unwantedly it",
    "start": "289840",
    "end": "292639"
  },
  {
    "text": "will upgrade to the latest version of",
    "start": "292639",
    "end": "294160"
  },
  {
    "text": "the uh the latest patch or latest minor",
    "start": "294160",
    "end": "296560"
  },
  {
    "text": "version rather than what is intended for",
    "start": "296560",
    "end": "298479"
  },
  {
    "text": "that particular release version of",
    "start": "298479",
    "end": "300840"
  },
  {
    "text": "backstage well how did we fix it we",
    "start": "300840",
    "end": "304080"
  },
  {
    "text": "wrote a script uh pretty simple script",
    "start": "304080",
    "end": "306560"
  },
  {
    "text": "uh which uses reax to replace this",
    "start": "306560",
    "end": "308479"
  },
  {
    "text": "carrots uh so after running the CLI",
    "start": "308479",
    "end": "310639"
  },
  {
    "text": "command we uh run this thing to get rid",
    "start": "310639",
    "end": "313759"
  },
  {
    "text": "of the scarats most of the time this",
    "start": "313759",
    "end": "315919"
  },
  {
    "text": "won't land you in a problem because",
    "start": "315919",
    "end": "317280"
  },
  {
    "text": "these are minor releases but sometimes",
    "start": "317280",
    "end": "319039"
  },
  {
    "text": "it will put you in uh it will break your",
    "start": "319039",
    "end": "321360"
  },
  {
    "text": "system and you won't even realize that",
    "start": "321360",
    "end": "323440"
  },
  {
    "text": "it broke because of this latest version",
    "start": "323440",
    "end": "325280"
  },
  {
    "text": "upgrade because you have read the change",
    "start": "325280",
    "end": "326880"
  },
  {
    "text": "log and in your mind you are like okay",
    "start": "326880",
    "end": "329120"
  },
  {
    "text": "when I am upgrading to this version this",
    "start": "329120",
    "end": "331520"
  },
  {
    "text": "is the particular uh package version",
    "start": "331520",
    "end": "333440"
  },
  {
    "text": "that I would be in but it doesn't happen",
    "start": "333440",
    "end": "335360"
  },
  {
    "text": "that way so you need to be very careful",
    "start": "335360",
    "end": "337039"
  },
  {
    "text": "about this uh carrots",
    "start": "337039",
    "end": "339759"
  },
  {
    "text": "well okay yeah so the upgrade previous",
    "start": "339759",
    "end": "344160"
  },
  {
    "text": "upgrade went fine for us and it was time",
    "start": "344160",
    "end": "346560"
  },
  {
    "text": "to upgrade to to have a new upgrade and",
    "start": "346560",
    "end": "350240"
  },
  {
    "text": "this time as a front end engineer I was",
    "start": "350240",
    "end": "352080"
  },
  {
    "text": "very excited because backstage was",
    "start": "352080",
    "end": "354400"
  },
  {
    "text": "moving away from react 17 to react 18",
    "start": "354400",
    "end": "357600"
  },
  {
    "text": "and it got us all of us excited but",
    "start": "357600",
    "end": "360400"
  },
  {
    "text": "there was a small problem with us we",
    "start": "360400",
    "end": "362479"
  },
  {
    "text": "were running backstage as a in a micror",
    "start": "362479",
    "end": "364960"
  },
  {
    "text": "uh sorry module federation environment",
    "start": "364960",
    "end": "367280"
  },
  {
    "text": "and we were dependent on platform and",
    "start": "367280",
    "end": "369840"
  },
  {
    "text": "platform was running react 17 so we",
    "start": "369840",
    "end": "374000"
  },
  {
    "text": "can't have two different version of",
    "start": "374000",
    "end": "375600"
  },
  {
    "text": "react working in the same environment so",
    "start": "375600",
    "end": "378639"
  },
  {
    "text": "we had two options either we upgrade the",
    "start": "378639",
    "end": "380880"
  },
  {
    "text": "platform to react 18 or we try to",
    "start": "380880",
    "end": "383360"
  },
  {
    "text": "upgrade backstage without upgrading the",
    "start": "383360",
    "end": "385400"
  },
  {
    "text": "react we went with the later one uh we",
    "start": "385400",
    "end": "388560"
  },
  {
    "text": "decided like it will be easier to try to",
    "start": "388560",
    "end": "391600"
  },
  {
    "text": "upgrade the backstage without upgrading",
    "start": "391600",
    "end": "394000"
  },
  {
    "text": "upgrading the react and try it out and",
    "start": "394000",
    "end": "396479"
  },
  {
    "text": "we did it and fortunately for us",
    "start": "396479",
    "end": "399360"
  },
  {
    "text": "everything worked everything worked fine",
    "start": "399360",
    "end": "401280"
  },
  {
    "text": "except one library that was swagger ui",
    "start": "401280",
    "end": "404120"
  },
  {
    "text": "react so this was the error we uh saw on",
    "start": "404120",
    "end": "408400"
  },
  {
    "text": "the",
    "start": "408400",
    "end": "409560"
  },
  {
    "text": "screen so we went again in the docs",
    "start": "409560",
    "end": "412800"
  },
  {
    "text": "started looking for what is the issue",
    "start": "412800",
    "end": "414960"
  },
  {
    "text": "here and we realized uh backstage",
    "start": "414960",
    "end": "418240"
  },
  {
    "text": "internally upgraded the version of",
    "start": "418240",
    "end": "420160"
  },
  {
    "text": "swagger UI react from 5.10 10 to 5.11",
    "start": "420160",
    "end": "423599"
  },
  {
    "text": "and uh swagger UI react says 5.11 they",
    "start": "423599",
    "end": "427039"
  },
  {
    "text": "move to react 18 but they are backward",
    "start": "427039",
    "end": "429960"
  },
  {
    "text": "compatible but that backward compatible",
    "start": "429960",
    "end": "432960"
  },
  {
    "text": "didn't work for us out of the box and we",
    "start": "432960",
    "end": "436240"
  },
  {
    "text": "had to rely on one of the yan solutions",
    "start": "436240",
    "end": "439039"
  },
  {
    "text": "and it was resolutions so we used yan",
    "start": "439039",
    "end": "442240"
  },
  {
    "text": "resolutions to pinpoint this particular",
    "start": "442240",
    "end": "444720"
  },
  {
    "text": "version of swagger UI react in our",
    "start": "444720",
    "end": "447479"
  },
  {
    "text": "backstage and voila after that",
    "start": "447479",
    "end": "449759"
  },
  {
    "text": "everything worked fine",
    "start": "449759",
    "end": "451599"
  },
  {
    "text": "So one of the lessons we learned from",
    "start": "451599",
    "end": "453759"
  },
  {
    "text": "here is uh sometimes there will be",
    "start": "453759",
    "end": "456720"
  },
  {
    "text": "situations where your versions will",
    "start": "456720",
    "end": "459039"
  },
  {
    "text": "mismatch or your version will not work",
    "start": "459039",
    "end": "461199"
  },
  {
    "text": "with your current setup you can use yarn",
    "start": "461199",
    "end": "464000"
  },
  {
    "text": "resolutions but be careful because it's",
    "start": "464000",
    "end": "466639"
  },
  {
    "text": "like a double-edged",
    "start": "466639",
    "end": "468120"
  },
  {
    "text": "sword and things will go fine but",
    "start": "468120",
    "end": "470880"
  },
  {
    "text": "anything can go wrong as well so if",
    "start": "470880",
    "end": "473520"
  },
  {
    "text": "you're relying on it just ensure that",
    "start": "473520",
    "end": "476319"
  },
  {
    "text": "you you have tested your code",
    "start": "476319",
    "end": "478919"
  },
  {
    "text": "thoroughly and after that we were good",
    "start": "478919",
    "end": "483400"
  },
  {
    "text": "but 7 days into production upgrading the",
    "start": "483400",
    "end": "486479"
  },
  {
    "text": "react upgrading the backstage we",
    "start": "486479",
    "end": "488639"
  },
  {
    "text": "realized we have a small problem in our",
    "start": "488639",
    "end": "490879"
  },
  {
    "text": "tech docs so in our current set current",
    "start": "490879",
    "end": "494080"
  },
  {
    "text": "setup what we have is we are mounting",
    "start": "494080",
    "end": "496479"
  },
  {
    "text": "backstage on a subpath so we are",
    "start": "496479",
    "end": "498720"
  },
  {
    "text": "mounting backstage on",
    "start": "498720",
    "end": "500199"
  },
  {
    "text": "abc.com/ let's say backstage and when we",
    "start": "500199",
    "end": "504319"
  },
  {
    "text": "use any routes uh abc.com in techdocs it",
    "start": "504319",
    "end": "508160"
  },
  {
    "text": "breaks because techdocs was using uh",
    "start": "508160",
    "end": "512919"
  },
  {
    "text": "window.loation.or origin as the base URL",
    "start": "512919",
    "end": "515518"
  },
  {
    "text": "instead of app.base URL and it was a",
    "start": "515519",
    "end": "518719"
  },
  {
    "text": "issue for us because we relied too much",
    "start": "518719",
    "end": "520719"
  },
  {
    "text": "on internal navigations so what we did",
    "start": "520719",
    "end": "524240"
  },
  {
    "text": "we went ahead we found the issue we",
    "start": "524240",
    "end": "526880"
  },
  {
    "text": "fixed it we raised the PR and it got",
    "start": "526880",
    "end": "528560"
  },
  {
    "text": "merged and we were happy unless we saw",
    "start": "528560",
    "end": "532560"
  },
  {
    "text": "the saw this message our PR is merged",
    "start": "532560",
    "end": "535760"
  },
  {
    "text": "but it will take a month to be it to be",
    "start": "535760",
    "end": "540080"
  },
  {
    "text": "present in a release so what we",
    "start": "540080",
    "end": "542600"
  },
  {
    "text": "did here comes the instant",
    "start": "542600",
    "end": "545720"
  },
  {
    "text": "gratification we upgraded to nightly",
    "start": "545720",
    "end": "547920"
  },
  {
    "text": "build especially for the techs we",
    "start": "547920",
    "end": "550080"
  },
  {
    "text": "upgraded to the nightly build if anyone",
    "start": "550080",
    "end": "552399"
  },
  {
    "text": "in the room doesn't know about it",
    "start": "552399",
    "end": "554000"
  },
  {
    "text": "backstage each day deploys uh sorry",
    "start": "554000",
    "end": "557600"
  },
  {
    "text": "publishes its packages as nightly builds",
    "start": "557600",
    "end": "560560"
  },
  {
    "text": "it has the latest code and you can use",
    "start": "560560",
    "end": "562880"
  },
  {
    "text": "it though though it was not a full",
    "start": "562880",
    "end": "566800"
  },
  {
    "text": "backstage upgrade just upgrade to a",
    "start": "566800",
    "end": "568959"
  },
  {
    "text": "techdoc package but we did run an entire",
    "start": "568959",
    "end": "572800"
  },
  {
    "text": "sanity an entire dev testing on it and",
    "start": "572800",
    "end": "575680"
  },
  {
    "text": "we were good to go so this is something",
    "start": "575680",
    "end": "578080"
  },
  {
    "text": "we suggest that if you have some",
    "start": "578080",
    "end": "580640"
  },
  {
    "text": "critical fixes that are not present in",
    "start": "580640",
    "end": "582320"
  },
  {
    "text": "the current release you can always rely",
    "start": "582320",
    "end": "584480"
  },
  {
    "text": "on uh nightly builds to fix them but",
    "start": "584480",
    "end": "588000"
  },
  {
    "text": "yeah you need to test it thoroughly",
    "start": "588000",
    "end": "589760"
  },
  {
    "text": "that's a warning it comes with okay that",
    "start": "589760",
    "end": "593600"
  },
  {
    "text": "was a small backstage upgrade for us and",
    "start": "593600",
    "end": "597040"
  },
  {
    "text": "it went fine and we are jumping into the",
    "start": "597040",
    "end": "600480"
  },
  {
    "text": "next upgrade and this time the next",
    "start": "600480",
    "end": "603600"
  },
  {
    "text": "upgrade was pretty challenging to us and",
    "start": "603600",
    "end": "606959"
  },
  {
    "text": "this was the time when uh backstage",
    "start": "606959",
    "end": "609600"
  },
  {
    "text": "officially introduced the new backend",
    "start": "609600",
    "end": "611360"
  },
  {
    "text": "system new backend system was present as",
    "start": "611360",
    "end": "614480"
  },
  {
    "text": "alpha since last couple of versions but",
    "start": "614480",
    "end": "618000"
  },
  {
    "text": "this was the release where backstage",
    "start": "618000",
    "end": "620240"
  },
  {
    "text": "introduced new backend system and asked",
    "start": "620240",
    "end": "622399"
  },
  {
    "text": "every one of us to upgrade to the new",
    "start": "622399",
    "end": "623920"
  },
  {
    "text": "backend system well if it was a simple",
    "start": "623920",
    "end": "627600"
  },
  {
    "text": "setup it would have been pretty much",
    "start": "627600",
    "end": "629760"
  },
  {
    "text": "easy for us but we have a lot of",
    "start": "629760",
    "end": "632560"
  },
  {
    "text": "customization on top of backstage and it",
    "start": "632560",
    "end": "635519"
  },
  {
    "text": "was valid for back our back end as well",
    "start": "635519",
    "end": "638360"
  },
  {
    "text": "so one of the customization we have is",
    "start": "638360",
    "end": "642640"
  },
  {
    "text": "we don't read the entire config from our",
    "start": "642640",
    "end": "646320"
  },
  {
    "text": "app config file what we do instead is we",
    "start": "646320",
    "end": "649120"
  },
  {
    "text": "dynamically fetch our config via API",
    "start": "649120",
    "end": "651800"
  },
  {
    "text": "call we dynamically fetch all the",
    "start": "651800",
    "end": "654480"
  },
  {
    "text": "secrets that are present in the uh that",
    "start": "654480",
    "end": "656440"
  },
  {
    "text": "config via API call in encrypted manner",
    "start": "656440",
    "end": "659519"
  },
  {
    "text": "decrypt it then stitch all of the",
    "start": "659519",
    "end": "661680"
  },
  {
    "text": "configuration together and then feed it",
    "start": "661680",
    "end": "663360"
  },
  {
    "text": "to backstitch second thing was uh before",
    "start": "663360",
    "end": "667680"
  },
  {
    "text": "this version backstage didn't had a O",
    "start": "667680",
    "end": "670440"
  },
  {
    "text": "middleware what that means is backstage",
    "start": "670440",
    "end": "672800"
  },
  {
    "text": "endpoints were not protected by default",
    "start": "672800",
    "end": "675120"
  },
  {
    "text": "but they had a guide around how to",
    "start": "675120",
    "end": "676880"
  },
  {
    "text": "implement your own middleware so we went",
    "start": "676880",
    "end": "680000"
  },
  {
    "text": "ahead and implemented that O middleware",
    "start": "680000",
    "end": "682320"
  },
  {
    "text": "and we built some customization on top",
    "start": "682320",
    "end": "684399"
  },
  {
    "text": "of it so the guide suggested uh you can",
    "start": "684399",
    "end": "688399"
  },
  {
    "text": "use backstage token but we added support",
    "start": "688399",
    "end": "690399"
  },
  {
    "text": "for uh X API token even harness tokens",
    "start": "690399",
    "end": "693600"
  },
  {
    "text": "even support user access token you can",
    "start": "693600",
    "end": "695839"
  },
  {
    "text": "use to access the backstage and this was",
    "start": "695839",
    "end": "699079"
  },
  {
    "text": "a small breaking change for us but we",
    "start": "699079",
    "end": "702959"
  },
  {
    "text": "went ahead and upgraded the",
    "start": "702959",
    "end": "705959"
  },
  {
    "text": "backstage and one thing we learned from",
    "start": "705959",
    "end": "708320"
  },
  {
    "text": "here was it was our habits to look into",
    "start": "708320",
    "end": "711519"
  },
  {
    "text": "the docs like whenever you try to",
    "start": "711519",
    "end": "714079"
  },
  {
    "text": "upgrade you look at dogs and here like",
    "start": "714079",
    "end": "716560"
  },
  {
    "text": "backstage has pretty good dogs but this",
    "start": "716560",
    "end": "719120"
  },
  {
    "text": "time I we realized like the dogs were",
    "start": "719120",
    "end": "721360"
  },
  {
    "text": "not enough for us because we wanted to",
    "start": "721360",
    "end": "723440"
  },
  {
    "text": "go and change something in the depth and",
    "start": "723440",
    "end": "726000"
  },
  {
    "text": "docs didn't have had that it has shallow",
    "start": "726000",
    "end": "728560"
  },
  {
    "text": "knowledge of what needs to be done and",
    "start": "728560",
    "end": "731079"
  },
  {
    "text": "we relied on backstage code rather than",
    "start": "731079",
    "end": "734399"
  },
  {
    "text": "docs more here so we had this habit of",
    "start": "734399",
    "end": "737279"
  },
  {
    "text": "from the beginning that we used to go",
    "start": "737279",
    "end": "738880"
  },
  {
    "text": "inside the backstage code and look",
    "start": "738880",
    "end": "740320"
  },
  {
    "text": "around what things are going on what",
    "start": "740320",
    "end": "742560"
  },
  {
    "text": "changes are being made what are the new",
    "start": "742560",
    "end": "744000"
  },
  {
    "text": "features that are adding what what are",
    "start": "744000",
    "end": "745440"
  },
  {
    "text": "the bug fixes so we had a pretty good",
    "start": "745440",
    "end": "748240"
  },
  {
    "text": "handling of uh code base of backstage",
    "start": "748240",
    "end": "751880"
  },
  {
    "text": "and this time the code understanding of",
    "start": "751880",
    "end": "754720"
  },
  {
    "text": "code helped us a lot this was our uh",
    "start": "754720",
    "end": "759120"
  },
  {
    "text": "config before and this is how it looked",
    "start": "759120",
    "end": "762480"
  },
  {
    "text": "after upgrading to new backend system",
    "start": "762480",
    "end": "765120"
  },
  {
    "text": "same with the O middleware i I have just",
    "start": "765120",
    "end": "768480"
  },
  {
    "text": "uh commented out few details because it",
    "start": "768480",
    "end": "770480"
  },
  {
    "text": "was too long and it was migrated to this",
    "start": "770480",
    "end": "773320"
  },
  {
    "text": "one and after that everything worked",
    "start": "773320",
    "end": "776920"
  },
  {
    "text": "fine we shipped the new backend",
    "start": "776920",
    "end": "780040"
  },
  {
    "text": "system and this was this is pretty much",
    "start": "780040",
    "end": "782959"
  },
  {
    "text": "our journey of upgrading the backstage",
    "start": "782959",
    "end": "784720"
  },
  {
    "text": "right now we we had few minor backstage",
    "start": "784720",
    "end": "787200"
  },
  {
    "text": "upgrade here and there but we have",
    "start": "787200",
    "end": "788480"
  },
  {
    "text": "skipped out of this talk but with every",
    "start": "788480",
    "end": "792320"
  },
  {
    "text": "backstage upgrade we always had a single",
    "start": "792320",
    "end": "794800"
  },
  {
    "text": "question on our mind like what could go",
    "start": "794800",
    "end": "797279"
  },
  {
    "text": "wrong we are using in it in production",
    "start": "797279",
    "end": "799040"
  },
  {
    "text": "and we have very strict SLAs around it",
    "start": "799040",
    "end": "801680"
  },
  {
    "text": "so what could go wrong and one of the",
    "start": "801680",
    "end": "804200"
  },
  {
    "text": "things we experienced was the toughest",
    "start": "804200",
    "end": "807240"
  },
  {
    "text": "thing if anything goes wrong is roll",
    "start": "807240",
    "end": "810120"
  },
  {
    "text": "backing so it was a regular uh scheduled",
    "start": "810120",
    "end": "813760"
  },
  {
    "text": "backstage upgrade for us we upgraded the",
    "start": "813760",
    "end": "816000"
  },
  {
    "text": "backstage we tested it in our local",
    "start": "816000",
    "end": "817760"
  },
  {
    "text": "environment things were good we tested",
    "start": "817760",
    "end": "819600"
  },
  {
    "text": "in our development environment it was",
    "start": "819600",
    "end": "821760"
  },
  {
    "text": "good we promoted that build to QA and",
    "start": "821760",
    "end": "824959"
  },
  {
    "text": "for us QA environment is pretty close to",
    "start": "824959",
    "end": "827440"
  },
  {
    "text": "production anything that happens on",
    "start": "827440",
    "end": "829079"
  },
  {
    "text": "production needs to be followed on the",
    "start": "829079",
    "end": "831399"
  },
  {
    "text": "QA apparently there was a platform issue",
    "start": "831399",
    "end": "834959"
  },
  {
    "text": "not backstage but some other platform",
    "start": "834959",
    "end": "837079"
  },
  {
    "text": "issue and that forced a roll back so we",
    "start": "837079",
    "end": "840720"
  },
  {
    "text": "had to roll back all of our services and",
    "start": "840720",
    "end": "843279"
  },
  {
    "text": "that included the backstage",
    "start": "843279",
    "end": "846360"
  },
  {
    "text": "well",
    "start": "846360",
    "end": "847880"
  },
  {
    "text": "backstage plugins especially the backend",
    "start": "847880",
    "end": "850399"
  },
  {
    "text": "plugins runs a DB migration and it's not",
    "start": "850399",
    "end": "853839"
  },
  {
    "text": "always they run but with few versions",
    "start": "853839",
    "end": "856079"
  },
  {
    "text": "they run and they have a defined up and",
    "start": "856079",
    "end": "859440"
  },
  {
    "text": "down commands there up is basically the",
    "start": "859440",
    "end": "861440"
  },
  {
    "text": "migration down is basically the roll",
    "start": "861440",
    "end": "863120"
  },
  {
    "text": "back commands and thing is when you",
    "start": "863120",
    "end": "867040"
  },
  {
    "text": "deploy an older version of backstage it",
    "start": "867040",
    "end": "870079"
  },
  {
    "text": "won't work out of box and you have to",
    "start": "870079",
    "end": "872800"
  },
  {
    "text": "roll back manually and this has been",
    "start": "872800",
    "end": "874480"
  },
  {
    "text": "mentioned in the backstage dos that you",
    "start": "874480",
    "end": "876720"
  },
  {
    "text": "can exec into the server and run the",
    "start": "876720",
    "end": "879440"
  },
  {
    "text": "next command to roll back",
    "start": "879440",
    "end": "883480"
  },
  {
    "text": "but as this is pretty much closer to",
    "start": "883480",
    "end": "886399"
  },
  {
    "text": "production environment we have we can't",
    "start": "886399",
    "end": "888800"
  },
  {
    "text": "just exec into the pod and run the next",
    "start": "888800",
    "end": "891440"
  },
  {
    "text": "command because it is a security concern",
    "start": "891440",
    "end": "893680"
  },
  {
    "text": "for us we can't just uh ssh into our uh",
    "start": "893680",
    "end": "898560"
  },
  {
    "text": "pods",
    "start": "898560",
    "end": "900199"
  },
  {
    "text": "so what we were following was with every",
    "start": "900199",
    "end": "903519"
  },
  {
    "text": "release we also used to look at all the",
    "start": "903519",
    "end": "905440"
  },
  {
    "text": "migration that are being run and we",
    "start": "905440",
    "end": "908560"
  },
  {
    "text": "converted all those migration scripts",
    "start": "908560",
    "end": "911040"
  },
  {
    "text": "into an SQL uh uh SQL scripts and our DB",
    "start": "911040",
    "end": "916560"
  },
  {
    "text": "admin guy used to take care of rolling",
    "start": "916560",
    "end": "918680"
  },
  {
    "text": "back and this is what we followed we",
    "start": "918680",
    "end": "922959"
  },
  {
    "text": "looked at all the migrations we wrote we",
    "start": "922959",
    "end": "925440"
  },
  {
    "text": "wrote a SQL script and we gave it to DB",
    "start": "925440",
    "end": "928639"
  },
  {
    "text": "admin and things were fine and this one",
    "start": "928639",
    "end": "930720"
  },
  {
    "text": "was like done way before we were made",
    "start": "930720",
    "end": "933279"
  },
  {
    "text": "aware of that we need to roll back uh",
    "start": "933279",
    "end": "935760"
  },
  {
    "text": "this is part of our backstage upgrade",
    "start": "935760",
    "end": "937519"
  },
  {
    "text": "that we need to follow and apart from uh",
    "start": "937519",
    "end": "940639"
  },
  {
    "text": "just the upgrading when we deploy",
    "start": "940639",
    "end": "942560"
  },
  {
    "text": "backstage to any of the environment of",
    "start": "942560",
    "end": "944440"
  },
  {
    "text": "ours after deployment we always always",
    "start": "944440",
    "end": "947519"
  },
  {
    "text": "always taste test a roll back and it's a",
    "start": "947519",
    "end": "950079"
  },
  {
    "text": "part of upgrade checklist for",
    "start": "950079",
    "end": "952279"
  },
  {
    "text": "us and yeah this is the pretty much uh",
    "start": "952279",
    "end": "957199"
  },
  {
    "text": "the bad I will say roll back experience",
    "start": "957199",
    "end": "960000"
  },
  {
    "text": "for us uh we found out uh after one two",
    "start": "960000",
    "end": "963279"
  },
  {
    "text": "upgrades of us uh like us upgrading the",
    "start": "963279",
    "end": "965680"
  },
  {
    "text": "backstage but we figured it out and just",
    "start": "965680",
    "end": "968720"
  },
  {
    "text": "on a funny note uh when I gave the roll",
    "start": "968720",
    "end": "971040"
  },
  {
    "text": "back SQL script to my DB admin he asked",
    "start": "971040",
    "end": "973040"
  },
  {
    "text": "for the roll back of that as well uh",
    "start": "973040",
    "end": "976399"
  },
  {
    "text": "which I was pretty much pretty surprised",
    "start": "976399",
    "end": "978959"
  },
  {
    "text": "like I need to give a roll back but",
    "start": "978959",
    "end": "981199"
  },
  {
    "text": "anyways we wrote it and give it to him",
    "start": "981199",
    "end": "983839"
  },
  {
    "text": "and yeah",
    "start": "983839",
    "end": "986560"
  },
  {
    "text": "cool uh I think we are at the last",
    "start": "986560",
    "end": "989120"
  },
  {
    "text": "upgrade",
    "start": "989120",
    "end": "990560"
  },
  {
    "text": "So pretty much we saw how to upgrade and",
    "start": "990560",
    "end": "993839"
  },
  {
    "text": "um how to roll back now there is an",
    "start": "993839",
    "end": "996160"
  },
  {
    "text": "interesting upgrade um coming up for us",
    "start": "996160",
    "end": "999199"
  },
  {
    "text": "the front-end system it's pretty much in",
    "start": "999199",
    "end": "1001600"
  },
  {
    "text": "alpha and I think soon enough it will be",
    "start": "1001600",
    "end": "1004000"
  },
  {
    "text": "in uh production ready and we have to",
    "start": "1004000",
    "end": "1007040"
  },
  {
    "text": "upgrade uh to the new front end system",
    "start": "1007040",
    "end": "1010079"
  },
  {
    "text": "well I would say we we are pretty much",
    "start": "1010079",
    "end": "1013600"
  },
  {
    "text": "in in the same scenario as we were with",
    "start": "1013600",
    "end": "1015920"
  },
  {
    "text": "the backend system upgrade because this",
    "start": "1015920",
    "end": "1018320"
  },
  {
    "text": "is how our front-end system looks as",
    "start": "1018320",
    "end": "1020720"
  },
  {
    "text": "compared to backstage we have built huge",
    "start": "1020720",
    "end": "1023680"
  },
  {
    "text": "customizations and granular back because",
    "start": "1023680",
    "end": "1026319"
  },
  {
    "text": "of our use case because of the",
    "start": "1026319",
    "end": "1028558"
  },
  {
    "text": "enterprise needs and this is this is",
    "start": "1028559",
    "end": "1031120"
  },
  {
    "text": "going to be challenging maybe see you",
    "start": "1031120",
    "end": "1033520"
  },
  {
    "text": "next year",
    "start": "1033520",
    "end": "1035760"
  },
  {
    "text": "well uh let's just summarize what we",
    "start": "1035760",
    "end": "1037760"
  },
  {
    "text": "discussed on uh how do we upgrade and",
    "start": "1037760",
    "end": "1040558"
  },
  {
    "text": "what do we need to take care of so",
    "start": "1040559",
    "end": "1042558"
  },
  {
    "text": "always read the ch change logs and don't",
    "start": "1042559",
    "end": "1046160"
  },
  {
    "text": "uh upgrade four five versions together",
    "start": "1046160",
    "end": "1048558"
  },
  {
    "text": "it is never a pleasant experience we",
    "start": "1048559",
    "end": "1050480"
  },
  {
    "text": "have done it and learned the hard way",
    "start": "1050480",
    "end": "1052799"
  },
  {
    "text": "pin dependencies this uh carrot thing uh",
    "start": "1052799",
    "end": "1055600"
  },
  {
    "text": "because uh identifying the issue that",
    "start": "1055600",
    "end": "1057840"
  },
  {
    "text": "has happened due to minor patch uh",
    "start": "1057840",
    "end": "1059840"
  },
  {
    "text": "package upgrades is is very difficult",
    "start": "1059840",
    "end": "1062400"
  },
  {
    "text": "and as general focused on the roll back",
    "start": "1062400",
    "end": "1064400"
  },
  {
    "text": "strategy no matter how simple upgrade we",
    "start": "1064400",
    "end": "1066559"
  },
  {
    "text": "do whether it's just a nightly build",
    "start": "1066559",
    "end": "1068240"
  },
  {
    "text": "upgrade uh we have a roll back strategy",
    "start": "1068240",
    "end": "1071039"
  },
  {
    "text": "up front and I think our our engineering",
    "start": "1071039",
    "end": "1074320"
  },
  {
    "text": "culture doesn't also allow us uh to move",
    "start": "1074320",
    "end": "1076640"
  },
  {
    "text": "ahead with any upgrades without this uh",
    "start": "1076640",
    "end": "1078240"
  },
  {
    "text": "roll back strategy and basically the",
    "start": "1078240",
    "end": "1080400"
  },
  {
    "text": "nightly builds part obviously as a",
    "start": "1080400",
    "end": "1082080"
  },
  {
    "text": "developer And as a team you don't want",
    "start": "1082080",
    "end": "1083840"
  },
  {
    "text": "to wait for a month for the next release",
    "start": "1083840",
    "end": "1086160"
  },
  {
    "text": "to happen so you can rely on nightly",
    "start": "1086160",
    "end": "1088160"
  },
  {
    "text": "builds for uh small fixes but it's not",
    "start": "1088160",
    "end": "1091039"
  },
  {
    "text": "suggested it's it's just some urgent",
    "start": "1091039",
    "end": "1093120"
  },
  {
    "text": "fixes and uh just just uh quick instant",
    "start": "1093120",
    "end": "1096080"
  },
  {
    "text": "gratification",
    "start": "1096080",
    "end": "1097600"
  },
  {
    "text": "and then uh the very very important",
    "start": "1097600",
    "end": "1099520"
  },
  {
    "text": "thing when we uh started using backstage",
    "start": "1099520",
    "end": "1101600"
  },
  {
    "text": "as well in our company uh we we uh our",
    "start": "1101600",
    "end": "1105039"
  },
  {
    "text": "team was uh responsible to read all the",
    "start": "1105039",
    "end": "1108640"
  },
  {
    "text": "backstage code and understand what is",
    "start": "1108640",
    "end": "1110799"
  },
  {
    "text": "written and even we are well versed with",
    "start": "1110799",
    "end": "1112400"
  },
  {
    "text": "the beeps we keep an eye on that I if",
    "start": "1112400",
    "end": "1115280"
  },
  {
    "text": "someone of don't know that the backstage",
    "start": "1115280",
    "end": "1117120"
  },
  {
    "text": "enhancement proposal so you you will see",
    "start": "1117120",
    "end": "1119760"
  },
  {
    "text": "uh all the enhancement that is coming up",
    "start": "1119760",
    "end": "1121679"
  },
  {
    "text": "in backstage and discuss there you",
    "start": "1121679",
    "end": "1123200"
  },
  {
    "text": "should keep an eye on that you should",
    "start": "1123200",
    "end": "1124400"
  },
  {
    "text": "understand what changes are coming up",
    "start": "1124400",
    "end": "1125760"
  },
  {
    "text": "and be prepared for",
    "start": "1125760",
    "end": "1128240"
  },
  {
    "text": "And the most important thing don't panic",
    "start": "1128240",
    "end": "1131039"
  },
  {
    "text": "community has got your back the discord",
    "start": "1131039",
    "end": "1132799"
  },
  {
    "text": "is quite active we have got a lot of",
    "start": "1132799",
    "end": "1134880"
  },
  {
    "text": "help and believe me the uh response time",
    "start": "1134880",
    "end": "1137520"
  },
  {
    "text": "in a project like backstage is very fast",
    "start": "1137520",
    "end": "1139760"
  },
  {
    "text": "and our PRs get merged quite instantly",
    "start": "1139760",
    "end": "1142400"
  },
  {
    "text": "when we want help and and the community",
    "start": "1142400",
    "end": "1144720"
  },
  {
    "text": "is always there for you well this is the",
    "start": "1144720",
    "end": "1147679"
  },
  {
    "text": "checklist we use um before upgrading",
    "start": "1147679",
    "end": "1150320"
  },
  {
    "text": "during upgrading and after upgrade",
    "start": "1150320",
    "end": "1152000"
  },
  {
    "text": "pretty much what we discussed and pretty",
    "start": "1152000",
    "end": "1154000"
  },
  {
    "text": "much what we religiously follow when we",
    "start": "1154000",
    "end": "1156880"
  },
  {
    "text": "uh upgrade any any new version to",
    "start": "1156880",
    "end": "1159559"
  },
  {
    "text": "backstage cool we are open for",
    "start": "1159559",
    "end": "1163840"
  },
  {
    "text": "questions we do have a couple of minutes",
    "start": "1167640",
    "end": "1169840"
  },
  {
    "text": "for questions if anybody has",
    "start": "1169840",
    "end": "1173200"
  },
  {
    "text": "questions no",
    "start": "1176520",
    "end": "1179480"
  },
  {
    "text": "okay cool thank you guys thank you",
    "start": "1179480",
    "end": "1182320"
  },
  {
    "text": "everyone",
    "start": "1182320",
    "end": "1185320"
  }
]