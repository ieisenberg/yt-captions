[
  {
    "text": "thanks everyone for joining um our session is about proactive kubernetes",
    "start": "120",
    "end": "5480"
  },
  {
    "text": "security how we can uh use runtime anomaly detection in kubernetes with uh",
    "start": "5480",
    "end": "11559"
  },
  {
    "text": "the open source tool Cube scape so I'm uh Remy I'm the head of cloud platform",
    "start": "11559",
    "end": "17199"
  },
  {
    "text": "engineering at alteris and I'm kind of leading uh the efforts of alterdomus of application",
    "start": "17199",
    "end": "24960"
  },
  {
    "text": "modernization you know hosting everything on kubernetes we have a multicloud environment so all of the the",
    "start": "24960",
    "end": "32640"
  },
  {
    "text": "aspects that come to that the complexity Etc uh we're trying to to manage that",
    "start": "32640",
    "end": "38920"
  },
  {
    "text": "into a unified way let's say and uh I'm here with my friend Amit yeah so I'm Ami",
    "start": "38920",
    "end": "47000"
  },
  {
    "text": "I work at armo as a security researcher we are the maintainers of cubc Cape",
    "start": "47000",
    "end": "52239"
  },
  {
    "text": "which is a cncf sandbo project that is uh uh going to be incubating uh",
    "start": "52239",
    "end": "58920"
  },
  {
    "text": "hopefully soon and uh yeah we're going to talk about how Cub Escape uh elevates runtime",
    "start": "58920",
    "end": "64960"
  },
  {
    "text": "Security in uh Remy's company awesome and so the agenda for",
    "start": "64960",
    "end": "72159"
  },
  {
    "text": "our talk is I'm going to give a little bit of a background story on uh how we",
    "start": "72159",
    "end": "77240"
  },
  {
    "text": "met how we uh got the ID for this talk uh also about the the the value",
    "start": "77240",
    "end": "82920"
  },
  {
    "text": "proposition of the runtime anomaly detection and then Amit will say a little bit on how Cube scape actually",
    "start": "82920",
    "end": "90200"
  },
  {
    "text": "solves that problem provides an answer to it and then um I will go to a live",
    "start": "90200",
    "end": "95840"
  },
  {
    "text": "demo where we can uh get hands on with the tech and see uh how it uh how it",
    "start": "95840",
    "end": "102720"
  },
  {
    "text": "works so a little bit of background information um so at ccom this year I",
    "start": "102720",
    "end": "108799"
  },
  {
    "text": "actually met with uh Ben hburg the CTO of agmo um and we were talking about um",
    "start": "108799",
    "end": "116200"
  },
  {
    "text": "one of the projects that he was uh working on at the time still called Cube cop which um kind of combines several",
    "start": "116200",
    "end": "124000"
  },
  {
    "text": "aspect to bring context about runtime capabilities one of the things is a c",
    "start": "124000",
    "end": "130080"
  },
  {
    "text": "profiler which Amit will tell you about um but yeah from from my experience I've",
    "start": "130080",
    "end": "135560"
  },
  {
    "text": "been using Cub Escape quite some time already mostly from a kubernetes um",
    "start": "135560",
    "end": "141200"
  },
  {
    "text": "configuration and misconfiguration detection and we had kind of this um I'm",
    "start": "141200",
    "end": "147519"
  },
  {
    "text": "not going to say Gap because we we we had it tool that already uh did some runtime detection but since we are a",
    "start": "147519",
    "end": "154760"
  },
  {
    "text": "multicloud environment and sometimes we tended to rely a little bit on cloud",
    "start": "154760",
    "end": "160519"
  },
  {
    "text": "specific Services um we had some yeah let's say problem statements um and kind of yeah",
    "start": "160519",
    "end": "169040"
  },
  {
    "text": "hard requirements for our runtime uh detection tools the issue with most of",
    "start": "169040",
    "end": "174360"
  },
  {
    "text": "runtime detection tools is and you may or may not know this but it tends to",
    "start": "174360",
    "end": "180000"
  },
  {
    "text": "create a lot of false positives like a lot of the rule sets for the let's say I'm not going to say Legacy but your",
    "start": "180000",
    "end": "186640"
  },
  {
    "text": "typical runtime detection uh tools use kind of a generalized rule set which",
    "start": "186640",
    "end": "192280"
  },
  {
    "text": "isn't tailored made to your workload which hasn't been learning the",
    "start": "192280",
    "end": "197680"
  },
  {
    "text": "capabilities that your workload is doing and is kind of um to me the reason why",
    "start": "197680",
    "end": "203799"
  },
  {
    "text": "it's not that contextualized and almost a little bit Irrelevant for most workloads and as an outcome of that we",
    "start": "203799",
    "end": "210799"
  },
  {
    "text": "get a lot of false positives you get alert fatigue um it becomes very hard to",
    "start": "210799",
    "end": "216360"
  },
  {
    "text": "find a true positive and on top of that um context building is really needed to",
    "start": "216360",
    "end": "224080"
  },
  {
    "text": "tackle security from a multi-layered approach both to um facilitate",
    "start": "224080",
    "end": "230120"
  },
  {
    "text": "prevention so giving you the the the key information so that you can actually configure your",
    "start": "230120",
    "end": "236079"
  },
  {
    "text": "preventative um methods or configuration as well as the detection and response uh",
    "start": "236079",
    "end": "243159"
  },
  {
    "text": "Dimension so thing that that I always like to um compare it with in my in my",
    "start": "243159",
    "end": "249799"
  },
  {
    "text": "old days almost a decade ago I used to be a firewall engineer and uh when when",
    "start": "249799",
    "end": "255280"
  },
  {
    "text": "some application teams uh requested some rules you know it's always trial and error oh we need uh maybe SSH open oh",
    "start": "255280",
    "end": "263600"
  },
  {
    "text": "but we need this open as well and then we need this so in my old days I I used to work with paloalto and you had like",
    "start": "263600",
    "end": "270600"
  },
  {
    "text": "this kind of transparent mode where you could have the firewall learn whatever",
    "start": "270600",
    "end": "275880"
  },
  {
    "text": "traffic was uh let's say normal behavior or expected you could tell the",
    "start": "275880",
    "end": "281000"
  },
  {
    "text": "application teams like test your stuff I will inspect it in a transparent way and",
    "start": "281000",
    "end": "286199"
  },
  {
    "text": "then we can generate a rule set on this so This is actually you will see what I mean certainly in the demo and with what",
    "start": "286199",
    "end": "292160"
  },
  {
    "text": "Amit has to say how this relates to it and so in our talk with at cucon with",
    "start": "292160",
    "end": "297800"
  },
  {
    "text": "Ben um he kind of said oh look at this project uh they have actually since then",
    "start": "297800",
    "end": "304520"
  },
  {
    "text": "integrated it in the Cub scape node agent and so this is really um something",
    "start": "304520",
    "end": "310600"
  },
  {
    "text": "that uh was very interesting and that we decided to pursue hence why we are doing",
    "start": "310600",
    "end": "316320"
  },
  {
    "text": "this talk right now yep so um how did we solve the",
    "start": "316320",
    "end": "323400"
  },
  {
    "text": "problem in Cub scape um so as Remy said uh like we felt there is a bit of a gap",
    "start": "323400",
    "end": "330800"
  },
  {
    "text": "today in runtime detection Tools in in Cloud native environments so we decided to take like",
    "start": "330800",
    "end": "336759"
  },
  {
    "text": "a different approach and just look on what other products are doing you know in today Cloud environments you know",
    "start": "336759",
    "end": "342440"
  },
  {
    "text": "maybe you've heard of tools like Falon and tetragon and Tracy and other uh",
    "start": "342440",
    "end": "347720"
  },
  {
    "text": "those sort of tools and we've also decided to take a look on other tools which are uh less popular in in in Cloud",
    "start": "347720",
    "end": "355759"
  },
  {
    "text": "environment and less like an endpoint security tools and we wanted to see like what's the best outcome we can get by",
    "start": "355759",
    "end": "362680"
  },
  {
    "text": "looking on all of the options so we started by taking a look on the more",
    "start": "362680",
    "end": "368240"
  },
  {
    "text": "mature products antiviruses and edrs and those types of products and the way they",
    "start": "368240",
    "end": "373720"
  },
  {
    "text": "detect Marvels and viruses so uh we found that there are still the the most",
    "start": "373720",
    "end": "381599"
  },
  {
    "text": "reliable way to detect malware is by using those sort of tools okay like if you take a look on today Cloud",
    "start": "381599",
    "end": "387520"
  },
  {
    "text": "environment uh Cloud native tools they can detect some malicious activity you know opening a reverse sh or or touching",
    "start": "387520",
    "end": "394520"
  },
  {
    "text": "like a sensitive file but they are less strong in detecting specific malware",
    "start": "394520",
    "end": "400319"
  },
  {
    "text": "right so for example if you take the most popular crypto Miner today that attacker installed on uh kuon",
    "start": "400319",
    "end": "406440"
  },
  {
    "text": "environment uh it's called XM rig which is like a normal crypto Miner for mining",
    "start": "406440",
    "end": "411919"
  },
  {
    "text": "Monero but it's like really easy uh to install it in kubernetes and if you think about how",
    "start": "411919",
    "end": "419199"
  },
  {
    "text": "you would go about detecting this type of Crypt Miner then there are several ways but uh today Cloud tools uh doesn't",
    "start": "419199",
    "end": "428319"
  },
  {
    "text": "really detect it very well like they can detect some signature some maybe new process being spaned but they won't tell",
    "start": "428319",
    "end": "434560"
  },
  {
    "text": "you you have this crypto Miner they they they can't really have a good detection and those types of tool like antiviruses",
    "start": "434560",
    "end": "441080"
  },
  {
    "text": "Etc are really good ATS so uh but the problem we encountered uh with these",
    "start": "441080",
    "end": "447039"
  },
  {
    "text": "types of tools is that uh they consume a lot of resources and as you all know in",
    "start": "447039",
    "end": "452520"
  },
  {
    "text": "Cloud we don't have a lot of resources and everything needs to be very efficient and the way those tools work",
    "start": "452520",
    "end": "458000"
  },
  {
    "text": "is you know with Y rules and bite pattern scanning and signature databases",
    "start": "458000",
    "end": "463520"
  },
  {
    "text": "and because of the Dynamics of the environments uh we found it uh quite hard to implement those types of tool in",
    "start": "463520",
    "end": "469840"
  },
  {
    "text": "kuet uh I will say that we did a successful PC uh with an open source",
    "start": "469840",
    "end": "475560"
  },
  {
    "text": "antivirus and if we'll have time at the end of the talk I'm going to touch on it but uh we decided we need something",
    "start": "475560",
    "end": "483120"
  },
  {
    "text": "else so uh in about mid of uh",
    "start": "483120",
    "end": "488879"
  },
  {
    "text": "2023 uh we created in armo uh a project",
    "start": "488879",
    "end": "494120"
  },
  {
    "text": "called C profiler kubernetes profiler and what it basically does is utilizes",
    "start": "494120",
    "end": "500159"
  },
  {
    "text": "ebpf in order to profile applications so we can provide better uh poster and",
    "start": "500159",
    "end": "506440"
  },
  {
    "text": "compliance uh for uh people that are using cub skape so if you think about it one of the",
    "start": "506440",
    "end": "511720"
  },
  {
    "text": "major challenges today in kubernetes for example is if you want to autogenerate uh Network policies right uh it's very",
    "start": "511720",
    "end": "518719"
  },
  {
    "text": "hard to generate Network policies for your entire cluster if you don't have any uh technology that knows how to",
    "start": "518719",
    "end": "524519"
  },
  {
    "text": "generate it for you the same with goes for second profile and the same goes for",
    "start": "524519",
    "end": "530200"
  },
  {
    "text": "uh compliance issues like uh saying if you have a privileged uh workload then",
    "start": "530200",
    "end": "536240"
  },
  {
    "text": "uh all the compliance tools will tell you don't put it privileged turn to false but most of the time it will break",
    "start": "536240",
    "end": "542240"
  },
  {
    "text": "your application right because what if your applications do need some privilege capabilities so what we did is create",
    "start": "542240",
    "end": "549240"
  },
  {
    "text": "something called an application profile which records application behavior for uh let's say 24 hours uh detect things",
    "start": "549240",
    "end": "557920"
  },
  {
    "text": "like processes Network Etc and then utilizes this information in order to do",
    "start": "557920",
    "end": "563600"
  },
  {
    "text": "posture and then we thought why not take it also for runtime uh but in runtime we",
    "start": "563600",
    "end": "569040"
  },
  {
    "text": "can do two interesting uh thing so uh the final solution we came with is to",
    "start": "569040",
    "end": "576279"
  },
  {
    "text": "utilize this application profile which uh composes of processes file activity",
    "start": "576279",
    "end": "581800"
  },
  {
    "text": "system calls permissions and network activity and together we created a",
    "start": "581800",
    "end": "588240"
  },
  {
    "text": "runtime detection tool inside Cub scape um which we divided into two so",
    "start": "588240",
    "end": "594560"
  },
  {
    "text": "application profile based security agent and uh behavioral inspection so so uh",
    "start": "594560",
    "end": "600399"
  },
  {
    "text": "application profile based security agent is basically taking all the learned information from the application profile",
    "start": "600399",
    "end": "606240"
  },
  {
    "text": "which was already being used for uh uh building you uh uh Network policies and",
    "start": "606240",
    "end": "611560"
  },
  {
    "text": "second profiles and now we can enforce anomaly detection on top of this application",
    "start": "611560",
    "end": "617000"
  },
  {
    "text": "profile and in addition to that we can also uh save you a lot of false positive",
    "start": "617000",
    "end": "622560"
  },
  {
    "text": "right uh and we're going to see an example for that in a minute and in addition to that uh we still still",
    "start": "622560",
    "end": "629519"
  },
  {
    "text": "integrated Uh custom rules and like behavioral inspection rules for example to detect reversals and Fess execution",
    "start": "629519",
    "end": "636120"
  },
  {
    "text": "in memory and those types of attack which are not anomaly detection but are also important to",
    "start": "636120",
    "end": "642399"
  },
  {
    "text": "detect and we think this is a very Optimal Solutions because if any of you",
    "start": "642399",
    "end": "648440"
  },
  {
    "text": "uh use like Falco and other tools uh usually it like it comes with a lot of",
    "start": "648440",
    "end": "654040"
  },
  {
    "text": "configuration that you need to make in order to make them effective so uh we feel like this is is a very good zero",
    "start": "654040",
    "end": "660399"
  },
  {
    "text": "configuration too because once you install Cub scape it automatically starts to learn your environment",
    "start": "660399",
    "end": "665519"
  },
  {
    "text": "automatically enforcing the behavioral inspection tools and once we have uh uh",
    "start": "665519",
    "end": "671160"
  },
  {
    "text": "the application profiles the Learned uh uh data then we can enforce those rules",
    "start": "671160",
    "end": "676560"
  },
  {
    "text": "more efficiently and save you a lot of false positives uh and with that we reduce the",
    "start": "676560",
    "end": "681680"
  },
  {
    "text": "alert fatigue and with that you get a better security right because it's uh like as an attacker it's very hard to",
    "start": "681680",
    "end": "688079"
  },
  {
    "text": "bypass anomal detection uh uh tools because you're doing",
    "start": "688079",
    "end": "693800"
  },
  {
    "text": "anomalies okay so so let's talk about an example of why this is useful um one of the common things uh",
    "start": "694160",
    "end": "701279"
  },
  {
    "text": "like in kubernetes is that by default uh service account token is being mounted into pods right like if you didn't",
    "start": "701279",
    "end": "707920"
  },
  {
    "text": "follow the the good practice of compliance that tells you to not M uh to",
    "start": "707920",
    "end": "713120"
  },
  {
    "text": "to turn this flag to false in your yaml so that the service account token is not going to be mounted uh by default it is",
    "start": "713120",
    "end": "719760"
  },
  {
    "text": "being mounted and using this service account token an attack an attacker can",
    "start": "719760",
    "end": "725000"
  },
  {
    "text": "talk to the control plane and like to the API server and and for example uh do",
    "start": "725000",
    "end": "731440"
  },
  {
    "text": "cctl get secrets and Supply that service account token so as a user you like if",
    "start": "731440",
    "end": "737800"
  },
  {
    "text": "you have a runtime detection tool you want it to give you an alert when someone is accessing this service",
    "start": "737800",
    "end": "743480"
  },
  {
    "text": "account token but the thing is that some applications utilize this token for",
    "start": "743480",
    "end": "749160"
  },
  {
    "text": "legitimate use cases and if you don't have an application profile if you don't",
    "start": "749160",
    "end": "754440"
  },
  {
    "text": "learn the environment and the behavioral of workloads then it will be a false positive and this is what we see that is",
    "start": "754440",
    "end": "760680"
  },
  {
    "text": "very common today in ROM detection tools that if they don't learn the the Dynamics of the environment they give",
    "start": "760680",
    "end": "766880"
  },
  {
    "text": "you a lot of false positive such as this type of alert so a bit about the architecture um",
    "start": "766880",
    "end": "775440"
  },
  {
    "text": "so again we use ebpf in order to trace the information and then we divide it into two the first",
    "start": "775440",
    "end": "781760"
  },
  {
    "text": "part is building the application profiles and we're going to touch a bit more about those types of objects which",
    "start": "781760",
    "end": "787600"
  },
  {
    "text": "are uh API cor API uh types of objects like similar to",
    "start": "787600",
    "end": "793720"
  },
  {
    "text": "crds and uh the the second part is the detection engine which has all the uh",
    "start": "793720",
    "end": "799680"
  },
  {
    "text": "custom rules also the anomaly detection rules and the Beav inspection rules and",
    "start": "799680",
    "end": "804720"
  },
  {
    "text": "once the application profiles are ready the detection engine uh uh starts to to utilize them as well and finally uh we",
    "start": "804720",
    "end": "813120"
  },
  {
    "text": "support uh uh exporting all the alerts into many different types of of of uh",
    "start": "813120",
    "end": "819480"
  },
  {
    "text": "like output you can use alert manager you can have it as an HTTP you can have it as STD out you can have it to CIS log",
    "start": "819480",
    "end": "826519"
  },
  {
    "text": "whatever you want so it's very convenient uh to work with those alerts even like inside the the open source of",
    "start": "826519",
    "end": "832360"
  },
  {
    "text": "Cub scape all right and so for the demo uh a",
    "start": "832360",
    "end": "839560"
  },
  {
    "text": "bit of uh detail so we have a kubernetes cluster running on which Cube Escape is",
    "start": "839560",
    "end": "845000"
  },
  {
    "text": "installed via flux tell you a bit more about that later then we will have kind",
    "start": "845000",
    "end": "850120"
  },
  {
    "text": "of a a mock application let's say a ping app which is very vulnerable um just to Showcase um the",
    "start": "850120",
    "end": "858279"
  },
  {
    "text": "the the value the value of the runtime detection and the anomaly detection and then we have an alert manager spinning",
    "start": "858279",
    "end": "864959"
  },
  {
    "text": "up to to show what amid just said um that those alerts can be forwarded to",
    "start": "864959",
    "end": "871040"
  },
  {
    "text": "whatever you want in this case uh alert manager so a little bit more about the",
    "start": "871040",
    "end": "876279"
  },
  {
    "text": "value of flux um for this so Cub Escape has Helm charts um but yeah at alterus",
    "start": "876279",
    "end": "883800"
  },
  {
    "text": "at least we like to use pool based gitops first because it's fac it facilitates selfservice but also it",
    "start": "883800",
    "end": "891360"
  },
  {
    "text": "increases the reproducibility for our multicloud environment so in this case",
    "start": "891360",
    "end": "897759"
  },
  {
    "text": "um the the the the value of using giops with flux for Cub scape is that it's",
    "start": "897759",
    "end": "903360"
  },
  {
    "text": "easy to deploy but also um the artifacts that it's it's is produced by Cub Escape",
    "start": "903360",
    "end": "909920"
  },
  {
    "text": "like the up profiles and also the runtime rule alert binding we can actually put them in our flux repo and",
    "start": "909920",
    "end": "916600"
  },
  {
    "text": "we can move them uh towards the upper environments so for instance you could",
    "start": "916600",
    "end": "922240"
  },
  {
    "text": "have a nonproduction cluster running on which you validate your your workloads maybe do some QA testing ET ET you",
    "start": "922240",
    "end": "929839"
  },
  {
    "text": "capture the application profile and then you apply it in production without having to do the learning in your",
    "start": "929839",
    "end": "936000"
  },
  {
    "text": "production cluster so keeping it more safe um from that end so just um guiding",
    "start": "936000",
    "end": "942519"
  },
  {
    "text": "you a little bit through our flux repo so we have Cube scape um actually what",
    "start": "942519",
    "end": "948519"
  },
  {
    "text": "you can configure here this is what uh Amit touched on you have the learning",
    "start": "948519",
    "end": "953759"
  },
  {
    "text": "period which is very nice in this case for the demo we put it to 2 minutes uh with a one minute refresh interval cuz",
    "start": "953759",
    "end": "959959"
  },
  {
    "text": "we want to you know get things uh done but you could very well imagine that you",
    "start": "959959",
    "end": "965639"
  },
  {
    "text": "put it on uh 24 hours or even longer if you want your QA teams to validate an",
    "start": "965639",
    "end": "970759"
  },
  {
    "text": "application end to endend and then say okay this is um the the the final let's",
    "start": "970759",
    "end": "976480"
  },
  {
    "text": "say uh set of behaviors that we expect we lock it down and then we can use that",
    "start": "976480",
    "end": "982279"
  },
  {
    "text": "application profile in the future so what I'm going to do now is I'm going to deploy uh a demo workload",
    "start": "982279",
    "end": "990079"
  },
  {
    "text": "so I have a demo workload name space very uh convenient and here in my flux",
    "start": "990079",
    "end": "996399"
  },
  {
    "text": "uh I have the Ping up yaml which is commented so flux should be able to do a",
    "start": "996399",
    "end": "1002160"
  },
  {
    "text": "good job of deploying this let's watch the Nam space and let's uncomment this and",
    "start": "1002160",
    "end": "1010240"
  },
  {
    "text": "commit the changes of course this is a demo environment so I commit directly to the",
    "start": "1010240",
    "end": "1015519"
  },
  {
    "text": "main branch and then let's see um if we can do some uh let's say",
    "start": "1015519",
    "end": "1023519"
  },
  {
    "text": "behavior that is intended within the two-minute learning period so that the application profile can get",
    "start": "1023519",
    "end": "1030120"
  },
  {
    "text": "generated um so let's just wait until the PO gets deployed and then we'll do some uh",
    "start": "1030120",
    "end": "1037520"
  },
  {
    "text": "normal behavior so the application profile can learn it of course always a little aspect of",
    "start": "1037520",
    "end": "1045120"
  },
  {
    "text": "praying to the demo gods that the flux works",
    "start": "1045120",
    "end": "1050319"
  },
  {
    "text": "you could always reconcile it but I like to have flux do its",
    "start": "1054840",
    "end": "1061520"
  },
  {
    "text": "magic there it is always TR trust flux so now I'm going to port forward it so I",
    "start": "1074760",
    "end": "1082799"
  },
  {
    "text": "can access it and I'm going to do something that is unexpected behavior in",
    "start": "1082799",
    "end": "1087840"
  },
  {
    "text": "this case I'm going to Ping um 1.11.1 which is cloud flare uh in this",
    "start": "1087840",
    "end": "1095919"
  },
  {
    "text": "very vulnerable application that doesn't do any backend side verification you will see in the later steps but in this",
    "start": "1095919",
    "end": "1102880"
  },
  {
    "text": "case this is expected behavior and uh in the back end uh Cube scape is generating",
    "start": "1102880",
    "end": "1109559"
  },
  {
    "text": "an application profile and if I'm quick I can actually show you what's",
    "start": "1109559",
    "end": "1115760"
  },
  {
    "text": "happening so in this case um it's an incomplete application",
    "start": "1115760",
    "end": "1121799"
  },
  {
    "text": "profile because it's actually initializing so it's learning the behavior of the demo ping app and you",
    "start": "1121799",
    "end": "1128320"
  },
  {
    "text": "can see now not a lot of things are populated we have a couple CIS calls but",
    "start": "1128320",
    "end": "1133559"
  },
  {
    "text": "we don't have the file paths we don't have the arguments we don't have the network streams that are working so this",
    "start": "1133559",
    "end": "1139080"
  },
  {
    "text": "is initializing and while this is initializing I will let Amit talk a",
    "start": "1139080",
    "end": "1144200"
  },
  {
    "text": "little bit more about what an application profile actually is yeah so um as we said like",
    "start": "1144200",
    "end": "1153400"
  },
  {
    "text": "application profiles are CD compliant uh uh uh objects and are also very",
    "start": "1153400",
    "end": "1158520"
  },
  {
    "text": "convenient uh to using kubernetes environment so um a bit about the",
    "start": "1158520",
    "end": "1163640"
  },
  {
    "text": "architecture in Cube scape so we actually implemented our very own storage uh uh in Cub scape so that we",
    "start": "1163640",
    "end": "1170320"
  },
  {
    "text": "store kubernetes objects like crds and and API extension objects inside this",
    "start": "1170320",
    "end": "1177200"
  },
  {
    "text": "storage so an application profile is uh is one like that and also the runtime",
    "start": "1177200",
    "end": "1182240"
  },
  {
    "text": "rule alert binding which is the object that allows you to bind rules to workload using a default like kubernetes",
    "start": "1182240",
    "end": "1187919"
  },
  {
    "text": "selectors so it's very convenient as well so again application profile uh uh",
    "start": "1187919",
    "end": "1193480"
  },
  {
    "text": "is based of processes files networking system calls and the capabilities like",
    "start": "1193480",
    "end": "1198960"
  },
  {
    "text": "Linux capabilities and that way we can also tell you for example if you're using privileged workload we can tell",
    "start": "1198960",
    "end": "1204559"
  },
  {
    "text": "you turn off this privileged workload but use capability uh for example if",
    "start": "1204559",
    "end": "1209960"
  },
  {
    "text": "you're loading an ebpf program then use capsis BPF instead um and we found that 24 hours",
    "start": "1209960",
    "end": "1217320"
  },
  {
    "text": "learning period is like a good balance uh between security and and and",
    "start": "1217320",
    "end": "1223200"
  },
  {
    "text": "efficiency because like sometimes you have a crown jobs or other types of of jobs and 24 hours uh we found it uh",
    "start": "1223200",
    "end": "1230320"
  },
  {
    "text": "pretty good um as we said kuber API extension objects cicd",
    "start": "1230320",
    "end": "1236039"
  },
  {
    "text": "compliant and we have something called object States so for example if you",
    "start": "1236039",
    "end": "1241320"
  },
  {
    "text": "think about it if you install Cub scape and there are already running workloads in the in the environment so we didn't",
    "start": "1241320",
    "end": "1248559"
  },
  {
    "text": "learn the entire behavioral of those workloads right because they started and worked before you installed ccape so we",
    "start": "1248559",
    "end": "1255600"
  },
  {
    "text": "Mark those application profiles as partial application profiles and if we learn the behavioral of the workload",
    "start": "1255600",
    "end": "1262559"
  },
  {
    "text": "from the beginning uh then it's completed and having those those two",
    "start": "1262559",
    "end": "1267960"
  },
  {
    "text": "modes allows us to be more Dynamic with the uh alerting we are doing because uh",
    "start": "1267960",
    "end": "1274159"
  },
  {
    "text": "if if we are going to send alert on partial objects on partial application profiles we are again going to make a",
    "start": "1274159",
    "end": "1280240"
  },
  {
    "text": "lot of false positives so this is why we have dis marking and we're going to see it in the",
    "start": "1280240",
    "end": "1286880"
  },
  {
    "text": "in the Ping up but this is like maybe it's a bit of small but uh this is like the structure of application profile you",
    "start": "1286880",
    "end": "1293200"
  },
  {
    "text": "can see it's a kubernetes object it has all the uh things we talk about and let's just see the application profile",
    "start": "1293200",
    "end": "1300200"
  },
  {
    "text": "of the Ping up if it's finished learning so by now it should be finished learning let's see if what the status is so we",
    "start": "1300200",
    "end": "1308480"
  },
  {
    "text": "see already a lot more so we see a path based access Etc and actually if we look",
    "start": "1308480",
    "end": "1314880"
  },
  {
    "text": "at the EXA you can see it here it actually learned that the Ping 1.11.1 is",
    "start": "1314880",
    "end": "1321919"
  },
  {
    "text": "um yeah normal behavior so it fingerprinted that behavior into the",
    "start": "1321919",
    "end": "1326960"
  },
  {
    "text": "application profile and you can see now that the status is completed and indeed like Amit said the completion and status",
    "start": "1326960",
    "end": "1334159"
  },
  {
    "text": "is is different for instance if you have a pot that is running but has some init containers Etc uh Cub scape needs to",
    "start": "1334159",
    "end": "1342400"
  },
  {
    "text": "look at the whole life cycle so then it will mark it as partial because it didn't see those init containers and",
    "start": "1342400",
    "end": "1348200"
  },
  {
    "text": "couldn't profile those but in this case this is a very simple um application and",
    "start": "1348200",
    "end": "1354240"
  },
  {
    "text": "the application profile is fully complete so now that we have this um",
    "start": "1354240",
    "end": "1359840"
  },
  {
    "text": "application profile we can start uh hacking away uh on the not so secure",
    "start": "1359840",
    "end": "1365840"
  },
  {
    "text": "application so I'm just going to make sure that I'm forwarding alert manager yes I am so you can see",
    "start": "1365840",
    "end": "1373360"
  },
  {
    "text": "here uh we only have uh a looks on the Cub escape namespace this is because the",
    "start": "1373360",
    "end": "1378679"
  },
  {
    "text": "learning per period is so small I believe but let's um hack a little bit",
    "start": "1378679",
    "end": "1383799"
  },
  {
    "text": "in this um yeah no backend verification uh kind of a mocking application so for",
    "start": "1383799",
    "end": "1390320"
  },
  {
    "text": "instance I could do a LS basically Escape um the string that I'm pinging",
    "start": "1390320",
    "end": "1396320"
  },
  {
    "text": "and do a command line injection so in this case you will see that um this is",
    "start": "1396320",
    "end": "1402960"
  },
  {
    "text": "not behavior that was captured by the application profile and this is an anomaly so you can see here I can uh",
    "start": "1402960",
    "end": "1410200"
  },
  {
    "text": "list index and ping. PHP and if we refresh here you can see there is a rule",
    "start": "1410200",
    "end": "1417440"
  },
  {
    "text": "that was violated which is an unexpected process because again Cub Escape didn't",
    "start": "1417440",
    "end": "1423840"
  },
  {
    "text": "uh saw this behavior when we appli the learning period and we can go further of",
    "start": "1423840",
    "end": "1429480"
  },
  {
    "text": "course now that we know that we can do an LS we can probably do a lot of nicer things so let's see if we can cut the",
    "start": "1429480",
    "end": "1436559"
  },
  {
    "text": "service account token as amid said it's not a best practice to mount the service",
    "start": "1436559",
    "end": "1443520"
  },
  {
    "text": "account token but some pods have to do it sometimes um you can't get around it",
    "start": "1443520",
    "end": "1450559"
  },
  {
    "text": "so in this case let's see what this will uh give",
    "start": "1450559",
    "end": "1455039"
  },
  {
    "text": "us this it's a little bit slow oh it's okay so we can actually cut the service account token uh please no screenshots",
    "start": "1456440",
    "end": "1463880"
  },
  {
    "text": "but uh let's see in the alert manager what it did so firstly the detects the",
    "start": "1463880",
    "end": "1468919"
  },
  {
    "text": "cut as an unexpected process again but it also sees that it's unexpected",
    "start": "1468919",
    "end": "1474360"
  },
  {
    "text": "service account token access so again these are two alerts and actually you don't really need to aggregate them but",
    "start": "1474360",
    "end": "1480919"
  },
  {
    "text": "this is part of one flow um and this is I'm just saying that because context is",
    "start": "1480919",
    "end": "1486440"
  },
  {
    "text": "important having these alert as a singular event might not give you a lot but when you combine them into like an",
    "start": "1486440",
    "end": "1492840"
  },
  {
    "text": "attack path analysis you get a full picture so let's see how far we can get",
    "start": "1492840",
    "end": "1497960"
  },
  {
    "text": "it when know that now we can cut uh the service account token so let's download Cube CTL uh",
    "start": "1497960",
    "end": "1505679"
  },
  {
    "text": "binary and then let's see if we can execute some nice things with",
    "start": "1505679",
    "end": "1511360"
  },
  {
    "text": "it and again this is a very insecure application I wouldn't recommend",
    "start": "1516559",
    "end": "1522360"
  },
  {
    "text": "it but this is just for demo purposes so you see that here we curled uh the the",
    "start": "1522360",
    "end": "1528399"
  },
  {
    "text": "the the binary install uh so alert manager should have picked up firstly the curl um so you will see here this is",
    "start": "1528399",
    "end": "1535640"
  },
  {
    "text": "an unexpected process and then we can take it one step further we can first",
    "start": "1535640",
    "end": "1540720"
  },
  {
    "text": "make the binary executable so again Cube scape will see",
    "start": "1540720",
    "end": "1546600"
  },
  {
    "text": "this as an anomaly because changing the permission of a binary wasn't something",
    "start": "1546600",
    "end": "1552279"
  },
  {
    "text": "that uh we did in the learning period which is also a fingerprint of an",
    "start": "1552279",
    "end": "1557679"
  },
  {
    "text": "attacker track try to temper with your environment of course and so in this case you will",
    "start": "1557679",
    "end": "1564080"
  },
  {
    "text": "see the actual uh permission change that was detected and then finally we can and",
    "start": "1564080",
    "end": "1571880"
  },
  {
    "text": "this is you could do uh way more exotic things but let's just use the binary now",
    "start": "1571880",
    "end": "1577159"
  },
  {
    "text": "that we downloaded and let's just list the pots using the service account token",
    "start": "1577159",
    "end": "1582480"
  },
  {
    "text": "as an authentication and this should be all",
    "start": "1582480",
    "end": "1587640"
  },
  {
    "text": "bells ringing you know if if this happens in your environment",
    "start": "1587640",
    "end": "1594080"
  },
  {
    "text": "um so let's see here and what do we get we actually get Cube CTL output of get",
    "start": "1594159",
    "end": "1601600"
  },
  {
    "text": "PS so this is the proof of uh yeah concept that kind of works and in the",
    "start": "1601600",
    "end": "1607279"
  },
  {
    "text": "alerts one thing that I find very valuable in this uh specific one so",
    "start": "1607279",
    "end": "1612520"
  },
  {
    "text": "firstly it sees of course Cube CTL was launched which is unexpected again wasn't observed in the the learning",
    "start": "1612520",
    "end": "1618960"
  },
  {
    "text": "period but to me one of the most important ones here is exact binary that",
    "start": "1618960",
    "end": "1625000"
  },
  {
    "text": "wasn't in the base image this alert alone this should be like you know your",
    "start": "1625000",
    "end": "1631120"
  },
  {
    "text": "uh whatever alert manager should be red all the scen should be read because this is really somebody's added you know so",
    "start": "1631120",
    "end": "1639840"
  },
  {
    "text": "this is um this concludes the demo I'm happy the demo gods were happy um but",
    "start": "1639840",
    "end": "1645919"
  },
  {
    "text": "you can see this is very easy to set up um you have the value you have the alerts firsty also from the up um",
    "start": "1645919",
    "end": "1653799"
  },
  {
    "text": "profile you can generate second profiles upor profiles to prevent things but then",
    "start": "1653799",
    "end": "1659960"
  },
  {
    "text": "once you have the behavior logged in the alerting is very relevant you don't get a lot of um false uh positives and it's",
    "start": "1659960",
    "end": "1669600"
  },
  {
    "text": "it's really um yeah valuable so that's it let's go back to the",
    "start": "1669600",
    "end": "1675720"
  },
  {
    "text": "slides because I think I me we still have time for your yeah clamav V cve",
    "start": "1675720",
    "end": "1682240"
  },
  {
    "text": "yeah so um before we touch in this slide so uh if you want to use Cube scape like",
    "start": "1682240",
    "end": "1689720"
  },
  {
    "text": "we saw so we have U many rules not just what we saw in the demo um so you can",
    "start": "1689720",
    "end": "1695919"
  },
  {
    "text": "just go to cubc iio and and read some documentation visit the repo and also",
    "start": "1695919",
    "end": "1701600"
  },
  {
    "text": "leave a star we are really close to 10K by the way so uh we appreciate that and",
    "start": "1701600",
    "end": "1707960"
  },
  {
    "text": "as as I said in the beginning uh we wanted to integrate uh some sort of",
    "start": "1707960",
    "end": "1713559"
  },
  {
    "text": "scanning which we feel is a bit missing today in Cloud which is the type of scanning and an antivirus we do which is",
    "start": "1713559",
    "end": "1719840"
  },
  {
    "text": "like y rules and bite butn scanning and signature database so um we want to see",
    "start": "1719840",
    "end": "1726440"
  },
  {
    "text": "if we can get a quick win and find some open source antivirus maybe and I'm",
    "start": "1726440",
    "end": "1732240"
  },
  {
    "text": "guess some of you heard some of you didn't on a CL a which is an open source antivirus uh uh Cisco and from what I've",
    "start": "1732240",
    "end": "1740360"
  },
  {
    "text": "seen is like uh the only open source one so shout out to them um but you know CL",
    "start": "1740360",
    "end": "1748240"
  },
  {
    "text": "a isn't considered to be a very good antivirus as some of you may know uh and",
    "start": "1748240",
    "end": "1754640"
  },
  {
    "text": "so what we did is actually uh create we created our very own signature database",
    "start": "1754640",
    "end": "1761080"
  },
  {
    "text": "which is which is a tailored to kubernetes uh to have like better signatures there and uh we have",
    "start": "1761080",
    "end": "1768919"
  },
  {
    "text": "successfully implemented clav as part of our agent uh this is not by default",
    "start": "1768919",
    "end": "1774279"
  },
  {
    "text": "because this is still in beta but uh this option is is possible and it works",
    "start": "1774279",
    "end": "1779320"
  },
  {
    "text": "pretty well and and one of the things is that as I said clav has some problems so",
    "start": "1779320",
    "end": "1786679"
  },
  {
    "text": "uh while looking at clav uh and as I said we want to be very",
    "start": "1786679",
    "end": "1791880"
  },
  {
    "text": "good at resource consumption so and cl a uh we installed it and immediately we",
    "start": "1791880",
    "end": "1797760"
  },
  {
    "text": "saw uh two gigb of memory being used by CL a and then I was like why so I've",
    "start": "1797760",
    "end": "1806200"
  },
  {
    "text": "started digging into CL a code uh it's written in C just looking on some files",
    "start": "1806200",
    "end": "1812360"
  },
  {
    "text": "uh and I wanted to see what is allocating like why is allocating so much memory so uh looking at some files",
    "start": "1812360",
    "end": "1818279"
  },
  {
    "text": "and then immediately I saw a line uh SL bin slage and then it takes a like a",
    "start": "1818279",
    "end": "1824240"
  },
  {
    "text": "formatting string and my background is offensive security and I was like oh",
    "start": "1824240",
    "end": "1830120"
  },
  {
    "text": "there I might can control that formatting and so uh this is how I found",
    "start": "1830120",
    "end": "1835799"
  },
  {
    "text": "a CB in clam a uh so clam a has this feature called virus event which is",
    "start": "1835799",
    "end": "1842240"
  },
  {
    "text": "basically a configuration you can configure in CL a uh that if he uh finds",
    "start": "1842240",
    "end": "1848320"
  },
  {
    "text": "a virus for example then uh you can run a command so as you can see in the in the first line you can configure virus",
    "start": "1848320",
    "end": "1855559"
  },
  {
    "text": "event and then you have uh two format like percent V for the signature name like if it's if it's found a crypto",
    "start": "1855559",
    "end": "1862159"
  },
  {
    "text": "Miner then you'll get the exact signature that you found and then the percent f is the name of the",
    "start": "1862159",
    "end": "1868519"
  },
  {
    "text": "virus and like typical use of that would be maybe to send an SMS to to to the uh",
    "start": "1868519",
    "end": "1876320"
  },
  {
    "text": "response team or to send an email uh but if you think about it uh an attacker",
    "start": "1876320",
    "end": "1883440"
  },
  {
    "text": "controls the file name right so if if I'm putting a virus in your environment",
    "start": "1883440",
    "end": "1888559"
  },
  {
    "text": "I control the file name and the percent f is being formatted there so what I've",
    "start": "1888559",
    "end": "1894559"
  },
  {
    "text": "did is I've taken the XM rig crypto Miner as I've told you in the beginning",
    "start": "1894559",
    "end": "1899919"
  },
  {
    "text": "and I renamed it to be a command injection payload uh like we did in the Ping up so as you can see like this is",
    "start": "1899919",
    "end": "1907799"
  },
  {
    "text": "the the final formatting that will happen after we uh called our virus with the command injection um payload and",
    "start": "1907799",
    "end": "1916559"
  },
  {
    "text": "finally in the output you can see below uh that he detected the signature printed the string and finally I got my",
    "start": "1916559",
    "end": "1923000"
  },
  {
    "text": "Omi uh wot uh at the end yeah thanks so",
    "start": "1923000",
    "end": "1928720"
  },
  {
    "text": "uh this is like aute TV and yeah some some security tools have holes in them",
    "start": "1928720",
    "end": "1935120"
  },
  {
    "text": "it's also something uh and yeah that's it yeah I think this shows that uh your security",
    "start": "1935120",
    "end": "1942760"
  },
  {
    "text": "tooling deserves to be secured the most because usually it's uh highly privileged because it can do a lot of",
    "start": "1942760",
    "end": "1949279"
  },
  {
    "text": "things so when that gets compromised you typically don't detect it and you have a lot of impact but uh this is a nice CV Y",
    "start": "1949279",
    "end": "1957360"
  },
  {
    "text": "and by the way uh CL AV is mostly used for uh email servers usually so uh many",
    "start": "1957360",
    "end": "1962960"
  },
  {
    "text": "companies even Cisco even Google Etc they put clav on their email servers to",
    "start": "1962960",
    "end": "1968519"
  },
  {
    "text": "scan files that are uh passing through that mail server so the thing is like you can just send an email with with the",
    "start": "1968519",
    "end": "1975440"
  },
  {
    "text": "with this payload on the virus name and exit execute code on the mail server which is really cool and many servers",
    "start": "1975440",
    "end": "1981440"
  },
  {
    "text": "are not patched but I will tell that this is not the default configuration this uh varus event so not all of the uh",
    "start": "1981440",
    "end": "1990440"
  },
  {
    "text": "unpatched versions are vulnerable to that uh yeah if you have any questions",
    "start": "1990440",
    "end": "1995919"
  },
  {
    "text": "feel",
    "start": "1995919",
    "end": "1998158"
  },
  {
    "text": "free does need internet access so no kcap can work",
    "start": "2002480",
    "end": "2008799"
  },
  {
    "text": "offline uh you can put it as you can use it as a CLI tool like in your cicd",
    "start": "2008799",
    "end": "2014120"
  },
  {
    "text": "environment and you can use it as an in-cluster component",
    "start": "2014120",
    "end": "2019919"
  },
  {
    "text": "so is possible to commun manage",
    "start": "2019919",
    "end": "2025518"
  },
  {
    "text": "large sorry again is it possible",
    "start": "2025600",
    "end": "2030799"
  },
  {
    "text": "to manage large number of application profiles okay so he was asking if it's",
    "start": "2030799",
    "end": "2037200"
  },
  {
    "text": "uh easy to to manage a large number of application profiles um so so again",
    "start": "2037200",
    "end": "2043200"
  },
  {
    "text": "application profiles are are like kubernetes objects just as like pods or or any other object so uh you can manage",
    "start": "2043200",
    "end": "2051560"
  },
  {
    "text": "them that way but usually uh Cub scape will handle them for you so you don't",
    "start": "2051560",
    "end": "2057118"
  },
  {
    "text": "really need to mess with them too much unless you really want to but maybe Remy as a user can if you want to actively",
    "start": "2057119",
    "end": "2063240"
  },
  {
    "text": "manage them the way I showed you via gitops if you have like Argo CD or flux",
    "start": "2063240",
    "end": "2069398"
  },
  {
    "text": "uh you can actually manage them across environments so they are fully cicd compliant so you can just apply them uh",
    "start": "2069399",
    "end": "2077398"
  },
  {
    "text": "to any of the Clusters you don't really need it to be learned on the same cluster you can just apply it and to us",
    "start": "2077399",
    "end": "2084079"
  },
  {
    "text": "at least flux or any giops Tool uh is the way to go to manage uh um things",
    "start": "2084079",
    "end": "2090560"
  },
  {
    "text": "like that do the application take into",
    "start": "2090560",
    "end": "2098520"
  },
  {
    "text": "account time or instances of accessing a particular resource so like when the Pod",
    "start": "2098520",
    "end": "2104560"
  },
  {
    "text": "launches it might need to use credentials to talk to the Q at the",
    "start": "2104560",
    "end": "2111119"
  },
  {
    "text": "beginning within like the first three seconds but if your accesses after that it would throw a violation or maybe if",
    "start": "2111119",
    "end": "2117680"
  },
  {
    "text": "it reads reads a file more than a number of times like first first one occurrence",
    "start": "2117680",
    "end": "2124400"
  },
  {
    "text": "would be okay and then a second occurrence would be a violation we have those typ of features yes so this is a",
    "start": "2124400",
    "end": "2130760"
  },
  {
    "text": "good question um currently we don't support uh uh this like we just once we",
    "start": "2130760",
    "end": "2137240"
  },
  {
    "text": "recorded uh a behavior we we assume the application needs that behavior but uh",
    "start": "2137240",
    "end": "2142560"
  },
  {
    "text": "it can be an upgrade for the future that's a good point nice",
    "start": "2142560",
    "end": "2147960"
  },
  {
    "text": "one yep yeah so what you can do is uh for",
    "start": "2147960",
    "end": "2156000"
  },
  {
    "text": "example uh when you install a new version of your application uh so we",
    "start": "2156000",
    "end": "2161079"
  },
  {
    "text": "will relearn the behavior and you can modify the application profiles or restart the Pod itself like restart the",
    "start": "2161079",
    "end": "2167680"
  },
  {
    "text": "workload do a roll out whatever so we we relearn the the",
    "start": "2167680",
    "end": "2173319"
  },
  {
    "text": "behavior",
    "start": "2173319",
    "end": "2176319"
  },
  {
    "text": "yeah yes",
    "start": "2178680",
    "end": "2182680"
  },
  {
    "text": "so he was asking if an application profile is by like if I understand correctly is by the Pod and not by the",
    "start": "2193359",
    "end": "2200319"
  },
  {
    "text": "image okay so basically uh what we do is that if you have many pods you know it's",
    "start": "2200319",
    "end": "2205800"
  },
  {
    "text": "running like with its own image we usually aggregate the application profile to the workload level so if you",
    "start": "2205800",
    "end": "2212000"
  },
  {
    "text": "have I don't know three pods but they're part of the same deployment then we aggregate the application profile for",
    "start": "2212000",
    "end": "2217640"
  },
  {
    "text": "the whole deployment and we uh like yeah we combine all the the of those ports",
    "start": "2217640",
    "end": "2226680"
  }
]