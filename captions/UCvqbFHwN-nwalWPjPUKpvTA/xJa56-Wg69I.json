[
  {
    "text": "all right so we're going to talk about application configuration management at the edge how to tame thousands of",
    "start": "0",
    "end": "6660"
  },
  {
    "text": "deployment targets and uh I am Cora Ivor Clyde I am a",
    "start": "6660",
    "end": "11940"
  },
  {
    "text": "developer Advocate at VMware and I am Maria Gabriela I am a solution",
    "start": "11940",
    "end": "17340"
  },
  {
    "text": "engineer at VMware and both of us are co-leading and co-hosting the cloud",
    "start": "17340",
    "end": "23340"
  },
  {
    "text": "native Meetup New York so if you are there by any chance check our page and",
    "start": "23340",
    "end": "30240"
  },
  {
    "text": "join we also have we have virtual events also so no excuse not to come",
    "start": "30240",
    "end": "37880"
  },
  {
    "text": "we are looking to go through what is the problem why we are thinking about all of",
    "start": "38700",
    "end": "44579"
  },
  {
    "text": "this problem with configuration of many Edge the requirements and introducing",
    "start": "44579",
    "end": "51000"
  },
  {
    "text": "you to a a set of tools Carvel that we are going to leverage and show how how",
    "start": "51000",
    "end": "58500"
  },
  {
    "text": "we did it like our proposal on why this looks nice with Carvel",
    "start": "58500",
    "end": "63780"
  },
  {
    "text": "so we are in a scenario where we have a lot of",
    "start": "63780",
    "end": "70380"
  },
  {
    "text": "different location where we want to deploy our software and they are really",
    "start": "70380",
    "end": "75659"
  },
  {
    "text": "different like something in in the cloud some is an edge location with one server",
    "start": "75659",
    "end": "80759"
  },
  {
    "text": "some is bigger and almost the same even",
    "start": "80759",
    "end": "86400"
  },
  {
    "text": "the one that have one server or the one that they are uh different Distribution Center can have",
    "start": "86400",
    "end": "93299"
  },
  {
    "text": "different type of Hardware over there so how does this affect the way we package",
    "start": "93299",
    "end": "99420"
  },
  {
    "text": "thing so yeah so so things can be very different right so",
    "start": "99420",
    "end": "104700"
  },
  {
    "text": "um you can't just take the same yaml that you created for one deployment and apply it to every location right so",
    "start": "104700",
    "end": "110460"
  },
  {
    "text": "there's things like capacity and Hardware type so certain configuration values might be different but also a you",
    "start": "110460",
    "end": "116759"
  },
  {
    "text": "know a scanner might need one or two apps to function while a cash register might need some others and a full server",
    "start": "116759",
    "end": "123060"
  },
  {
    "text": "might need a whole other set of applications so we have variations in the configuration that Encompass the",
    "start": "123060",
    "end": "128819"
  },
  {
    "text": "subset of of components that you need to deploy plus maybe some common configuration and then some very specific configuration at the end so all",
    "start": "128819",
    "end": "135420"
  },
  {
    "text": "of these things can change right also different locations might have different upgrade life cycles and the other thing",
    "start": "135420",
    "end": "140580"
  },
  {
    "text": "to consider is that we're pushing software to uh to machines or or uh",
    "start": "140580",
    "end": "146099"
  },
  {
    "text": "places where you don't necessarily have an Ops Team at at the ready to make changes or to respond to incidents right",
    "start": "146099",
    "end": "153120"
  },
  {
    "text": "so we have to take that into consideration so if we think about what kind of system do we think like what's",
    "start": "153120",
    "end": "159000"
  },
  {
    "text": "the ideal solution that we could that we can think of well so we'll start let's",
    "start": "159000",
    "end": "164220"
  },
  {
    "text": "start with lack of expertise lack of expertise means that we need to do as",
    "start": "164220",
    "end": "169440"
  },
  {
    "text": "much as possible in a centralized way and with zero to no touch low touch to",
    "start": "169440",
    "end": "175319"
  },
  {
    "text": "no touch the deployment at the edge so the central management actually also",
    "start": "175319",
    "end": "181319"
  },
  {
    "text": "answer another need that we want to maintain track of what we are delivering",
    "start": "181319",
    "end": "189480"
  },
  {
    "text": "at our Edge location so we need to have the central management we need to allow for uh okay not all of",
    "start": "189480",
    "end": "197580"
  },
  {
    "text": "the application need to go in all of the locations of different mixes different profile for this application",
    "start": "197580",
    "end": "204599"
  },
  {
    "text": "we need to do this in a way that we can keep scaling adding application adding",
    "start": "204599",
    "end": "209700"
  },
  {
    "text": "Edge location and changing the way we are packaging things and we also need to",
    "start": "209700",
    "end": "214800"
  },
  {
    "text": "think about our Gap scenario because often enough this Edge location won't have direct connectivity",
    "start": "214800",
    "end": "221819"
  },
  {
    "text": "and of course there is always more for all of the requirements and all of but let's say let's deal with this core",
    "start": "221819",
    "end": "228659"
  },
  {
    "text": "so what what is what can we do like do you have an idea I do actually I think I",
    "start": "228659",
    "end": "234060"
  },
  {
    "text": "think we should use kubernetes uh kubernetes is going to give us uh",
    "start": "234060",
    "end": "240140"
  },
  {
    "text": "already something that is declarative and self-healing we want to make sure we're using get UPS that'll help with",
    "start": "240140",
    "end": "245340"
  },
  {
    "text": "that Central management uh to have a declarative uh description of what we want and we can drive it centrally of",
    "start": "245340",
    "end": "251760"
  },
  {
    "text": "course because we're going to have all of this uh declarative State we need a tool that is actually really good at",
    "start": "251760",
    "end": "256919"
  },
  {
    "text": "wrangling and manipulating yaml slicing and dicing it because we need to know what we've deployed at all these",
    "start": "256919",
    "end": "262320"
  },
  {
    "text": "locations and have very strict control over exactly what um uh image get is running somewhere we",
    "start": "262320",
    "end": "268800"
  },
  {
    "text": "want to have a very clear way to track the bill of to register lock and track the bill of materials that we're",
    "start": "268800",
    "end": "274560"
  },
  {
    "text": "delivering to the edge and we want to do it we wanted a low touch no touch so this it has to be true get Ops where",
    "start": "274560",
    "end": "279840"
  },
  {
    "text": "it's automated right so yeah yeah and uh we can use uh carved we are here to talk",
    "start": "279840",
    "end": "286500"
  },
  {
    "text": "to you about Carvel so the idea is that Convent propose uh these set of tools",
    "start": "286500",
    "end": "292740"
  },
  {
    "text": "that are each one is a single purpose so one thing one tool it does one thing very well that's it and then it's uh",
    "start": "292740",
    "end": "301520"
  },
  {
    "text": "and each tool you can use to build your workflow in order to manage the",
    "start": "301520",
    "end": "307979"
  },
  {
    "text": "configuration and the deployment of kubernetes easier yeah so this is this slide is sort of visualizing those two",
    "start": "307979",
    "end": "314220"
  },
  {
    "text": "concepts right that each tool has a single purpose Carvel for example includes a tool called ytt its purpose",
    "start": "314220",
    "end": "320100"
  },
  {
    "text": "is to process yaml similar to customizer Helm and I would argue I'm standing here",
    "start": "320100",
    "end": "325740"
  },
  {
    "text": "Superior because it can do both the templating that that a home can do and it can do the",
    "start": "325740",
    "end": "331560"
  },
  {
    "text": "um uh am I saying it backwards I can do both templating and customize overlaying",
    "start": "331560",
    "end": "337680"
  },
  {
    "text": "sorry the templating and the overlay overlaying that both customize and Helm can do can do both and it's itself a programming language so it's very",
    "start": "337680",
    "end": "343740"
  },
  {
    "text": "powerful um K build is a tool specifically to look for those images in your yaml and",
    "start": "343740",
    "end": "349680"
  },
  {
    "text": "replace those with shots and produce the bill of material materials that we're looking for that we can use as as a lock",
    "start": "349680",
    "end": "355340"
  },
  {
    "text": "as well as as uh for information purposes it has a tool to apply to",
    "start": "355340",
    "end": "360840"
  },
  {
    "text": "kubernetes just to apply yaml in the same way you might use Cube cuddle but it takes a set of uh resources that",
    "start": "360840",
    "end": "368400"
  },
  {
    "text": "you're applying together and it gives you a way to control them as a whole as an application so you delete them all for example at once and you can apply",
    "start": "368400",
    "end": "374880"
  },
  {
    "text": "that directly so all of these tools are composable into a workflow because they ingest yaml and they uh Emit yaml and so",
    "start": "374880",
    "end": "382500"
  },
  {
    "text": "because of that they're also interoperable with any other tool of your choice that does the same so we can",
    "start": "382500",
    "end": "388259"
  },
  {
    "text": "see here if you don't like ytt if you like if you're used to working with Helm or if you have a lot of Helm defined",
    "start": "388259",
    "end": "393600"
  },
  {
    "text": "applications already you can still run your K build against that and resolve all your Shaws right if you're if you",
    "start": "393600",
    "end": "398759"
  },
  {
    "text": "prefer a cube cuddle rather than cap then you know mix and match uh as you like and so anyway you can build this",
    "start": "398759",
    "end": "405360"
  },
  {
    "text": "workflow and in this example we're showing a workflow that ends in yaml that can be applied directly to kubernetes but that doesn't get us far",
    "start": "405360",
    "end": "411960"
  },
  {
    "text": "enough for this Edge scenario because we don't want to send a bunch of yaml files to Edge locations right we want to do a",
    "start": "411960",
    "end": "418319"
  },
  {
    "text": "little bit better so so we are actually thinking about",
    "start": "418319",
    "end": "424979"
  },
  {
    "text": "why can't we package it why can't we use in a new tool still from the Carvel tool",
    "start": "424979",
    "end": "432360"
  },
  {
    "text": "set that is image package and this new tool what it does is that it takes a set",
    "start": "432360",
    "end": "439319"
  },
  {
    "text": "of configuration files actually it takes files and from those five it creates an",
    "start": "439319",
    "end": "446520"
  },
  {
    "text": "oci image that contains exactly that file system think about FTP of a g zip",
    "start": "446520",
    "end": "453360"
  },
  {
    "text": "file this is what you're gonna get but this is something that you get for through the registry and it's an easy",
    "start": "453360",
    "end": "461460"
  },
  {
    "text": "way to bring a thing to the edge like in for example I'm bundling this file",
    "start": "461460",
    "end": "468240"
  },
  {
    "text": "system inside an oci file I can then either use the replication from the",
    "start": "468240",
    "end": "474840"
  },
  {
    "text": "registry or if I don't have connectivity I can save this on a USB and run out",
    "start": "474840",
    "end": "481080"
  },
  {
    "text": "with my USB and all of the files that were originally in the container now this doesn't sound safe of course there",
    "start": "481080",
    "end": "488580"
  },
  {
    "text": "are Safeguard I guess around who can access your registry and pull the image",
    "start": "488580",
    "end": "493620"
  },
  {
    "text": "so the declarative so right now this is what we are using in order to build this",
    "start": "493620",
    "end": "500819"
  },
  {
    "text": "configuration bundle with all of the file that we need to deploy to each location",
    "start": "500819",
    "end": "505919"
  },
  {
    "text": "when we want to consume this we would rather use some kind of declarative way because",
    "start": "505919",
    "end": "513599"
  },
  {
    "text": "of course we know that we want to go over a GitHub type of construct like we",
    "start": "513599",
    "end": "518640"
  },
  {
    "text": "can always this is a crd for kubernetes so we can always use this in a in an",
    "start": "518640",
    "end": "525540"
  },
  {
    "text": "imperative way but for sure we can also this in a in a github's approach what we",
    "start": "525540",
    "end": "532260"
  },
  {
    "text": "have over here is different way to fetch this like we can fetch our bundle and in",
    "start": "532260",
    "end": "540120"
  },
  {
    "text": "when we take your bundle when we take the bundle from the from the register in",
    "start": "540120",
    "end": "545880"
  },
  {
    "text": "this case but can also be from the pipe we are going to apply some changes",
    "start": "545880",
    "end": "551339"
  },
  {
    "text": "manipulate with the tool that quora was describing before we are logging in specifics charts so we",
    "start": "551339",
    "end": "559260"
  },
  {
    "text": "know exactly that it's not version two it's this shot and we are deploying to the cluster so",
    "start": "559260",
    "end": "565380"
  },
  {
    "text": "this is how we can then describe and consume the package",
    "start": "565380",
    "end": "570600"
  },
  {
    "text": "and as before we can also Source this from different location we can use",
    "start": "570600",
    "end": "576480"
  },
  {
    "text": "different mechanism to work with the yaml file so looks like we are close",
    "start": "576480",
    "end": "583080"
  },
  {
    "text": "yeah so we have a solution we have a tool set that's going to help us do the packaging with the imperative tools and",
    "start": "583080",
    "end": "588720"
  },
  {
    "text": "the unpackaging with the declarative and so now we get to our the problem at hand right like how do we avoid chaos when",
    "start": "588720",
    "end": "595500"
  },
  {
    "text": "we're talking about all these Edge locations so what we're proposing is that look at your Edge locations and try",
    "start": "595500",
    "end": "601320"
  },
  {
    "text": "to group them into we're calling it profiles so here we're gonna we're gonna be working with",
    "start": "601320",
    "end": "607080"
  },
  {
    "text": "let's say a large profile and a small profile and the difference is that the large profile is uh has the the servers",
    "start": "607080",
    "end": "613800"
  },
  {
    "text": "or the edge locations that are that match the large profile you need to receive two applications the one in the",
    "start": "613800",
    "end": "618959"
  },
  {
    "text": "small profile only needs to receive a single application and there the single application that the small profile",
    "start": "618959",
    "end": "625140"
  },
  {
    "text": "receives is actually the same source code and base configuration as the one that goes to the large profiles but they",
    "start": "625140",
    "end": "631860"
  },
  {
    "text": "have some slightly different configuration so here we see that I that concept is mapped to the way we organize",
    "start": "631860",
    "end": "639000"
  },
  {
    "text": "our files on our files on our file system right these could be different git repos I mean for for the we're just",
    "start": "639000",
    "end": "644940"
  },
  {
    "text": "showing it off of one route but you can slice that into different repos depending on your our back and things",
    "start": "644940",
    "end": "650519"
  },
  {
    "text": "like that um but you can see here so for the first for the hello App application for example that is under both large and",
    "start": "650519",
    "end": "656579"
  },
  {
    "text": "small profiles what we would do is take that application build the container image that's the actual",
    "start": "656579",
    "end": "661980"
  },
  {
    "text": "runnable image it has of course its default configuration so if you're using k-native maybe that's a key service if",
    "start": "661980",
    "end": "668040"
  },
  {
    "text": "you're just using you know maybe a service deployment uh Ingress whatever that is and then we have some values",
    "start": "668040",
    "end": "674040"
  },
  {
    "text": "that are specific to these profiles but common to all so we're going to take those three pieces of input and we're",
    "start": "674040",
    "end": "680519"
  },
  {
    "text": "going to use image package to generate for each application for each profile a",
    "start": "680519",
    "end": "686040"
  },
  {
    "text": "package so at the end of this we would end up with five bundles in our registry right now okay so for the large in this",
    "start": "686040",
    "end": "693660"
  },
  {
    "text": "picture we would have three bundles but we still don't want to be in the position of sending three different artifacts to an education right remember",
    "start": "693660",
    "end": "700620"
  },
  {
    "text": "that low touch no touch really simple experience so uh yes Gabby what can we",
    "start": "700620",
    "end": "705839"
  },
  {
    "text": "do with those well the it looks like the idea of this profile match really well",
    "start": "705839",
    "end": "712920"
  },
  {
    "text": "with the idea of creating a package repository where the package repository contains all and exactly only those",
    "start": "712920",
    "end": "721760"
  },
  {
    "text": "packages that need to go to that specific location so this is an ND",
    "start": "721760",
    "end": "726779"
  },
  {
    "text": "resource that we can bring to kubernetes a new crd that allow us to take all of",
    "start": "726779",
    "end": "734760"
  },
  {
    "text": "these packages bundled together and guess what now we can have another image",
    "start": "734760",
    "end": "740579"
  },
  {
    "text": "package bundle that we are saving in our register and and keep in mind right so",
    "start": "740579",
    "end": "746160"
  },
  {
    "text": "as you see so when we bundled the first bundle we had a reference of course to the application image that's our",
    "start": "746160",
    "end": "751320"
  },
  {
    "text": "executable image and now when we bundle together those we have again references we're busy we're basically bundling",
    "start": "751320",
    "end": "757800"
  },
  {
    "text": "we're taking a file system of yaml files right and making that distributable as an oci image so this package repo has",
    "start": "757800",
    "end": "764880"
  },
  {
    "text": "these package definitions that now simply have a reference to those packages we had created before so they",
    "start": "764880",
    "end": "770760"
  },
  {
    "text": "are sort of recursively we have an image package repository pointing to bundle images and inside of those images there",
    "start": "770760",
    "end": "777720"
  },
  {
    "text": "are Pointers to our application uh running uh container right and so image",
    "start": "777720",
    "end": "783000"
  },
  {
    "text": "pack uh the concept of image package allows us to recursively Nest bundles in",
    "start": "783000",
    "end": "788220"
  },
  {
    "text": "this way awesome what is the experience at the edge then",
    "start": "788220",
    "end": "793680"
  },
  {
    "text": "well we have two resources that we are interested in one is what is my repository and so that's the package",
    "start": "793680",
    "end": "800940"
  },
  {
    "text": "repository and the package instant because I received some kind of configuration",
    "start": "800940",
    "end": "807540"
  },
  {
    "text": "but here I need to customize that configuration and over here we put just",
    "start": "807540",
    "end": "814139"
  },
  {
    "text": "for the just a few simple parameters in terms of values but we can do more we",
    "start": "814139",
    "end": "820740"
  },
  {
    "text": "can apply more ytt we can process more those files that were coming in and",
    "start": "820740",
    "end": "828120"
  },
  {
    "text": "eventually be allowed to have a the agility to also change components like",
    "start": "828120",
    "end": "834360"
  },
  {
    "text": "do I want to have really an Ingress over here or maybe no you know what in this location I'm not deploying the Ingress",
    "start": "834360",
    "end": "840899"
  },
  {
    "text": "so I'm going to remove the Ingress component and just go with the no Port approach and the only other thing I add",
    "start": "840899",
    "end": "846959"
  },
  {
    "text": "to this slide is think of it as the package repository it's like the installers like so when you're going to",
    "start": "846959",
    "end": "852420"
  },
  {
    "text": "install a program on your computer first you download the installers and then you click on the installer to actually install so the package repo contains",
    "start": "852420",
    "end": "859320"
  },
  {
    "text": "your installers basically but it doesn't mean that you've installed and then for every instance of the application you actually want to apply to kubernetes you",
    "start": "859320",
    "end": "865980"
  },
  {
    "text": "create a package install and you so yesterday somebody compared it to an object in an instance or installer and and you know the",
    "start": "865980",
    "end": "873480"
  },
  {
    "text": "installed application but doing this with applying just this",
    "start": "873480",
    "end": "878519"
  },
  {
    "text": "to the cluster doesn't result in a Reconciliation so can we do something",
    "start": "878519",
    "end": "883800"
  },
  {
    "text": "yeah so that last that last uh requirement that we had to really make this a get-offs process so Carvel also",
    "start": "883800",
    "end": "891240"
  },
  {
    "text": "includes a resource called an app which is what allows you to subscribe to a git",
    "start": "891240",
    "end": "896639"
  },
  {
    "text": "repo or a source of Truth and as that changes it reconciles to the state in the cluster so uh you know we in this",
    "start": "896639",
    "end": "903600"
  },
  {
    "text": "example where you could either point it to the package installs and then as as the location changes maybe a value in",
    "start": "903600",
    "end": "909360"
  },
  {
    "text": "their package install then it would be reapplied or you could set it to the repository level if you want new",
    "start": "909360",
    "end": "914579"
  },
  {
    "text": "repositories published and you want the automation at that level but the app allows you to subscribe to a source of",
    "start": "914579",
    "end": "919860"
  },
  {
    "text": "Truth and uh trigger that that git Ops",
    "start": "919860",
    "end": "924560"
  },
  {
    "text": "good so before the final thoughts maybe a demo all right",
    "start": "925079",
    "end": "932720"
  },
  {
    "text": "so we let's start to package this application for distribution so first",
    "start": "933959",
    "end": "940620"
  },
  {
    "text": "let me show you that in our oops I need to what it is",
    "start": "940620",
    "end": "946920"
  },
  {
    "text": "need to okay show my git my my GCS and right now in",
    "start": "946920",
    "end": "955199"
  },
  {
    "text": "our registry there are the giant application like this these",
    "start": "955199",
    "end": "962279"
  },
  {
    "text": "are the application built and this is we only have one package that has been",
    "start": "962279",
    "end": "967740"
  },
  {
    "text": "built for a giant application so what we are going to do is to build the other application the logo the application add",
    "start": "967740",
    "end": "975360"
  },
  {
    "text": "the package of the overlord application and create a repository with this so first of all we need also to let's",
    "start": "975360",
    "end": "985320"
  },
  {
    "text": "look at this look we we have some external references so we are using",
    "start": "985320",
    "end": "990360"
  },
  {
    "text": "bendy that is another cool tool from Carvel that allows you to import",
    "start": "990360",
    "end": "996139"
  },
  {
    "text": "third-party uh software that has been distributed through yaml",
    "start": "996139",
    "end": "1002720"
  },
  {
    "text": "so then so that we can we can see here how we",
    "start": "1002720",
    "end": "1008360"
  },
  {
    "text": "have our configuration on on this uh uh yeah so basically what we're saying",
    "start": "1008360",
    "end": "1014839"
  },
  {
    "text": "here so tell you we didn't mention this tool before but part of Carvel includes a tool called vendor which allows you to",
    "start": "1014839",
    "end": "1019880"
  },
  {
    "text": "vendor software in so so we own the code for Hello app but app has a dependency on redis and so we've chosen a redis",
    "start": "1019880",
    "end": "1027079"
  },
  {
    "text": "provider and the and of course because we want to deploy that to kubernetes all we need is some redis uh config config",
    "start": "1027079",
    "end": "1032780"
  },
  {
    "text": "files so we're using vendor to point to a git repo that we don't own copy those files into our repo and then uh with ytt",
    "start": "1032780",
    "end": "1040100"
  },
  {
    "text": "we could apply overlays to that and that that's a really good way to think about overlites versus uh templated values",
    "start": "1040100",
    "end": "1046579"
  },
  {
    "text": "right you want to apply overlays on yaml you don't own because you can't you can't introduce placeholders there for new values so so we've used vendor to",
    "start": "1046579",
    "end": "1053780"
  },
  {
    "text": "copy in these uh redis yep configure files that that we're uh that we're",
    "start": "1053780",
    "end": "1059059"
  },
  {
    "text": "taking from a third party and so we are checking and okay great there is a band year configuration we",
    "start": "1059059",
    "end": "1066020"
  },
  {
    "text": "are taking new and at this point we want to",
    "start": "1066020",
    "end": "1071620"
  },
  {
    "text": "look at all of the configuration file and we have an overlay file an overlay",
    "start": "1071620",
    "end": "1078620"
  },
  {
    "text": "directory and a values directory in the overlay that app yaml contains the",
    "start": "1078620",
    "end": "1085780"
  },
  {
    "text": "overlay for the application so this is the manipulation that is done let's take",
    "start": "1085780",
    "end": "1091160"
  },
  {
    "text": "a look at uh notice also that this is the directory name starts with profile home",
    "start": "1091160",
    "end": "1097160"
  },
  {
    "text": "right so here uh we've taken the base configuration and we're adding to it what is specific for the com the common",
    "start": "1097160",
    "end": "1103820"
  },
  {
    "text": "configuration for all large uh Target deployments",
    "start": "1103820",
    "end": "1109000"
  },
  {
    "text": "let's take a look for example at the values uh hello app uh",
    "start": "1109340",
    "end": "1116060"
  },
  {
    "text": "[Music] for one thing that's not scripted that I'm gonna make a mistake",
    "start": "1116060",
    "end": "1122059"
  },
  {
    "text": "values okay values I think if you just copy",
    "start": "1122059",
    "end": "1128240"
  },
  {
    "text": "paste that oh yes",
    "start": "1128240",
    "end": "1133000"
  },
  {
    "text": "oh yes because it is God all values",
    "start": "1133760",
    "end": "1141460"
  },
  {
    "text": "and then again values",
    "start": "1141559",
    "end": "1145580"
  },
  {
    "text": "okay here we have the the values that we can override for this one but the we can",
    "start": "1146960",
    "end": "1152780"
  },
  {
    "text": "also check on the overlay and see all of the ytt overlay that we can write I",
    "start": "1152780",
    "end": "1158419"
  },
  {
    "text": "think we just changed the number of replicas for this example so and this is it's gonna be a lot of",
    "start": "1158419",
    "end": "1164780"
  },
  {
    "text": "yaml when you have a lot of changes that you want to do to your application and a",
    "start": "1164780",
    "end": "1169880"
  },
  {
    "text": "lot of application that you need to distribute and different profiles so of course all of this it's better to",
    "start": "1169880",
    "end": "1178580"
  },
  {
    "text": "have some kind of tool that allows you this automation on top of it now",
    "start": "1178580",
    "end": "1183740"
  },
  {
    "text": "let's talk about kblb Yeah so basically we've got all this yaml right and I mean you don't want to",
    "start": "1183740",
    "end": "1189679"
  },
  {
    "text": "look through it to see what images there were so cable gives you a really easy way to comb through it and say hey",
    "start": "1189679",
    "end": "1195200"
  },
  {
    "text": "there's three images referenced in your yaml and two of them are from redis so we have a redis leader and a redis",
    "start": "1195200",
    "end": "1201140"
  },
  {
    "text": "follower and one is the Hello app that we built so the cool thing about K build is that",
    "start": "1201140",
    "end": "1207140"
  },
  {
    "text": "if our hello we have the source code for Hello app if that app is not built we",
    "start": "1207140",
    "end": "1212840"
  },
  {
    "text": "can actually configure cable to build it for us whether with a Docker file or with build packs or you know you have a",
    "start": "1212840",
    "end": "1218600"
  },
  {
    "text": "little bit of choice there about how how it orchestrates the build for you um or if you have already built it and",
    "start": "1218600",
    "end": "1224780"
  },
  {
    "text": "if you have already resolved these images to a shot at a prior point you can take that bill of materials and tell",
    "start": "1224780",
    "end": "1230840"
  },
  {
    "text": "Kay build hey just go ahead and use these Shaws that I had already locked in at a prior point in time but so this is",
    "start": "1230840",
    "end": "1237260"
  },
  {
    "text": "cabled looking through and helping us to resolve those decisions and specifically we have this image file",
    "start": "1237260",
    "end": "1245000"
  },
  {
    "text": "already present in our machine so it's not going to override it it's just going to read it and say oh this is a trust",
    "start": "1245000",
    "end": "1252020"
  },
  {
    "text": "result I'm gonna use the same so and this is what it looks like",
    "start": "1252020",
    "end": "1260539"
  },
  {
    "text": "and so this file will accompany your application throughout its life so we're now actually modifying the yaml with",
    "start": "1260539",
    "end": "1265820"
  },
  {
    "text": "those original image names and tags but we're accompanying the application with a new lock file that cable will always",
    "start": "1265820",
    "end": "1273200"
  },
  {
    "text": "be able to resolve um or that actually that uh image package when it when it unbundles will",
    "start": "1273200",
    "end": "1279799"
  },
  {
    "text": "always be able to resolve into the finally ammo okay now that's that's a bundle all of",
    "start": "1279799",
    "end": "1289220"
  },
  {
    "text": "these bunch of files and push that for to our uh to our",
    "start": "1289220",
    "end": "1294740"
  },
  {
    "text": "registry so as we push this now we have a new LG",
    "start": "1294740",
    "end": "1300380"
  },
  {
    "text": "a low application bundle so if we refresh now we have one more yay so",
    "start": "1300380",
    "end": "1306559"
  },
  {
    "text": "seriously if you ever have big files if you don't like this is a new FTP image package push and image package pull",
    "start": "1306559",
    "end": "1314720"
  },
  {
    "text": "that's your new FTP and again as far as I'm concerned yeah and again if you want to take a look let's just pull this",
    "start": "1314720",
    "end": "1321320"
  },
  {
    "text": "thing back and run a tree and see that that's exactly our directory that we",
    "start": "1321320",
    "end": "1327320"
  },
  {
    "text": "have done but look which values can I configure oh",
    "start": "1327320",
    "end": "1333380"
  },
  {
    "text": "yeah so this is the other cool thing so the original uh when the original application uh as we said has its own",
    "start": "1333380",
    "end": "1341120"
  },
  {
    "text": "configuration but one of the one of the files that it has is a schema file that describes all of the variables in the",
    "start": "1341120",
    "end": "1347720"
  },
  {
    "text": "configuration and so uh if you think about it from the point of view of a consumer",
    "start": "1347720",
    "end": "1352880"
  },
  {
    "text": "because we already applied uh some customization right we took the base app and we applied the values that we want",
    "start": "1352880",
    "end": "1359780"
  },
  {
    "text": "to be common for all large deployments so if we didn't have that original schema describing all of the origin all",
    "start": "1359780",
    "end": "1366740"
  },
  {
    "text": "of the configurable values we might lose that information right as we fill in values over placeholders but because",
    "start": "1366740",
    "end": "1372740"
  },
  {
    "text": "there is a schema included with the application these tools give us the ability to inquire and say what what are",
    "start": "1372740",
    "end": "1378799"
  },
  {
    "text": "all the originally configurable values and because all of the original files are there with the overlay separately to",
    "start": "1378799",
    "end": "1384799"
  },
  {
    "text": "be re-rendered at the destination we still have the ability to change any of those values so we can find out the",
    "start": "1384799",
    "end": "1390980"
  },
  {
    "text": "schema and still change them all and the scheme is given as an open API 3",
    "start": "1390980",
    "end": "1396919"
  },
  {
    "text": "format that that you can then use and simply fill in the values that you want",
    "start": "1396919",
    "end": "1402500"
  },
  {
    "text": "so now we want to use Carvel essentially",
    "start": "1402500",
    "end": "1407840"
  },
  {
    "text": "to manage all of this and let's start to put all these two",
    "start": "1407840",
    "end": "1414159"
  },
  {
    "text": "packages that we built for the one for that we built right now for the Yellow App and the previous one and let's",
    "start": "1414159",
    "end": "1421400"
  },
  {
    "text": "create a package so we can describe give some metadata for this package great and",
    "start": "1421400",
    "end": "1427520"
  },
  {
    "text": "then we can then take our package configuration",
    "start": "1427520",
    "end": "1432919"
  },
  {
    "text": "that reference to our bundle as well as the the configuration of the",
    "start": "1432919",
    "end": "1439580"
  },
  {
    "text": "other okay so we have the the as well as the configuration of the other",
    "start": "1439580",
    "end": "1445220"
  },
  {
    "text": "application that we want to bundle together so when we look at the definition of of the hierarchical",
    "start": "1445220",
    "end": "1452179"
  },
  {
    "text": "structure you can see that we have the giant application the low-up application and the this one",
    "start": "1452179",
    "end": "1460400"
  },
  {
    "text": "zero zero yaml contains the package definition and so let's see yeah this is",
    "start": "1460400",
    "end": "1466400"
  },
  {
    "text": "this is the transition between imperative to declarative right we built it imperatively and now we're describing",
    "start": "1466400",
    "end": "1472400"
  },
  {
    "text": "it we built an image imperatively and we pushed it to a cluster to our registry and now we're defining a declaratively",
    "start": "1472400",
    "end": "1479480"
  },
  {
    "text": "so we can pull it into kubernetes so again we always build a",
    "start": "1479480",
    "end": "1487600"
  },
  {
    "text": "package bundle because we are Distributing everything through that and so this is what we have done now we also",
    "start": "1487600",
    "end": "1494840"
  },
  {
    "text": "have our repository over there as a bundle",
    "start": "1494840",
    "end": "1500120"
  },
  {
    "text": "perfect now on the Target location we want to do",
    "start": "1500120",
    "end": "1505940"
  },
  {
    "text": "the installation and so we have our package repository resource that we were",
    "start": "1505940",
    "end": "1512659"
  },
  {
    "text": "looking at before we apply this to the cluster and then using and we are doing this",
    "start": "1512659",
    "end": "1521299"
  },
  {
    "text": "using Kia because K app give give us also the opportunity to bend to bundle",
    "start": "1521299",
    "end": "1527960"
  },
  {
    "text": "all of the resources that come with this like to treat that as a one and it",
    "start": "1527960",
    "end": "1534500"
  },
  {
    "text": "starts this reconciliation and so it's start applying the changes that come",
    "start": "1534500",
    "end": "1540440"
  },
  {
    "text": "from that resource so so that step was essentially the in",
    "start": "1540440",
    "end": "1545840"
  },
  {
    "text": "the download of the installers right we create the package repo uh resource in",
    "start": "1545840",
    "end": "1551779"
  },
  {
    "text": "our cluster pointing to that bundle that has both Hello app and giant app inside",
    "start": "1551779",
    "end": "1557480"
  },
  {
    "text": "of it so now we've got the installers so we can see that we have a menu of",
    "start": "1557480",
    "end": "1564020"
  },
  {
    "text": "packages that we can install but none of this install packages has been installed just yet because",
    "start": "1564020",
    "end": "1570200"
  },
  {
    "text": "to do that we need another resource that is uh oops I think I cannot do this uh",
    "start": "1570200",
    "end": "1578360"
  },
  {
    "text": "is the package okay let's look from here okay is the packaging store the the one",
    "start": "1578360",
    "end": "1585500"
  },
  {
    "text": "that says I want to install this package and I want to use this variable and this overlay to change the yaml so that is",
    "start": "1585500",
    "end": "1593059"
  },
  {
    "text": "configured properly for my location and and the thing we were talking about before of being able to inquire what the",
    "start": "1593059",
    "end": "1599299"
  },
  {
    "text": "schema was and get that open API uh response back you would use that to build the secret here that would contain",
    "start": "1599299",
    "end": "1606500"
  },
  {
    "text": "your location specific values so now we can apply this or",
    "start": "1606500",
    "end": "1615679"
  },
  {
    "text": "we can save all of this in a repository sorry",
    "start": "1615679",
    "end": "1622419"
  },
  {
    "text": "here okay where we have the package installed for the different application",
    "start": "1622419",
    "end": "1628880"
  },
  {
    "text": "that we want to deploy at this location and uh",
    "start": "1628880",
    "end": "1635360"
  },
  {
    "text": "and then we so so when we show this during the slides this app this is the way to create a subscription to a source",
    "start": "1635360",
    "end": "1641360"
  },
  {
    "text": "of Truth so we're using in this example we're using this app resource to point to our package install uh uh files but",
    "start": "1641360",
    "end": "1649640"
  },
  {
    "text": "we could have chosen to create a resource that pointed to a package repository definition as well but this is the model we went with so once we",
    "start": "1649640",
    "end": "1656960"
  },
  {
    "text": "apply this app to the cluster it's going to be checking that git repo so whatever changes you make if you uh change the",
    "start": "1656960",
    "end": "1662960"
  },
  {
    "text": "value for example or anything anything that you change it'll pull down into the cluster so it'll it'll automate the",
    "start": "1662960",
    "end": "1668779"
  },
  {
    "text": "installation of the packages for us so if we want to change something exactly we we will go to the git and",
    "start": "1668779",
    "end": "1675799"
  },
  {
    "text": "change the value over there now we have the package Repository we have a listed package and we also",
    "start": "1675799",
    "end": "1682520"
  },
  {
    "text": "have a list of packaging in store so the app did that right we applied the app resource it checked GitHub it found two",
    "start": "1682520",
    "end": "1689179"
  },
  {
    "text": "package install yamls it applied them for us and then uh cap controller which is the the Carvel Tool uh that's",
    "start": "1689179",
    "end": "1696440"
  },
  {
    "text": "operating this in the cluster uh applied those files and and did all of the unfurling of what we had furled right",
    "start": "1696440",
    "end": "1702679"
  },
  {
    "text": "right we had we took source code we used some ytt we used some K build we image packaged and now declaratively within",
    "start": "1702679",
    "end": "1708740"
  },
  {
    "text": "the cluster it undoes all of that it pulls out the it it unzips the image package it applies ytt again to render",
    "start": "1708740",
    "end": "1715039"
  },
  {
    "text": "our yaml it uses K build to make sure we're all using the right Shaws so it renders the right yaml and then it uses",
    "start": "1715039",
    "end": "1721039"
  },
  {
    "text": "cap to apply it and that was the set of tools we saw in the package uh crd right",
    "start": "1721039",
    "end": "1727340"
  },
  {
    "text": "um [Music]",
    "start": "1727340",
    "end": "1734910"
  },
  {
    "text": "okay next yeah so last demo yeah what if you're",
    "start": "1736220",
    "end": "1743419"
  },
  {
    "text": "what if your environment is air gap because right now all those bundles are on some public repo how do you how do you how does Carvel help you if your",
    "start": "1743419",
    "end": "1749900"
  },
  {
    "text": "environment is air gapped so let's go back to my here and let's go back to there is no",
    "start": "1749900",
    "end": "1759020"
  },
  {
    "text": "temp we are using the same repository but of the same registry but of course",
    "start": "1759020",
    "end": "1764539"
  },
  {
    "text": "you change the value so now we are pointing this to Edge registry that's",
    "start": "1764539",
    "end": "1770360"
  },
  {
    "text": "just the same but the name is temp so let's see how this is going to play out",
    "start": "1770360",
    "end": "1776059"
  },
  {
    "text": "so we use we've shown you the use of image package push which takes files from your local file system bundles them",
    "start": "1776059",
    "end": "1783559"
  },
  {
    "text": "into an oci image and pushes them to a registry we showed image package poll which takes those and extracts them",
    "start": "1783559",
    "end": "1789980"
  },
  {
    "text": "locally if you want to look at them and now this is image package copy so copy is going to go from one registry",
    "start": "1789980",
    "end": "1796279"
  },
  {
    "text": "and move all those images to another and the cool thing is remember that we said that image packages can be recursive",
    "start": "1796279",
    "end": "1803659"
  },
  {
    "text": "right so you bundle the repository contains two image package bundles and each one of those is actually pointing",
    "start": "1803659",
    "end": "1809659"
  },
  {
    "text": "to another image which is the application image so as you'll notice when it copied you",
    "start": "1809659",
    "end": "1815419"
  },
  {
    "text": "copy seven that's not exactly the one that we had originally in inside our",
    "start": "1815419",
    "end": "1820700"
  },
  {
    "text": "base project and now we have this new term",
    "start": "1820700",
    "end": "1828320"
  },
  {
    "text": "and if we look inside this but you can't recognize those but those are exactly",
    "start": "1828320",
    "end": "1833360"
  },
  {
    "text": "all of the Shah with the images that we need to use and last thing but probably one of the",
    "start": "1833360",
    "end": "1839779"
  },
  {
    "text": "most important is that we don't have to change our uh let's pull back let's pull down now",
    "start": "1839779",
    "end": "1847520"
  },
  {
    "text": "this new re uh transported repository and check what is",
    "start": "1847520",
    "end": "1853100"
  },
  {
    "text": "in it and specifically let's take a look at this and look at what does it say",
    "start": "1853100",
    "end": "1859039"
  },
  {
    "text": "over here so right so when you copy the the bundle",
    "start": "1859039",
    "end": "1864200"
  },
  {
    "text": "from a public repository to an air gap Repository it modified the lock file inside it",
    "start": "1864200",
    "end": "1870799"
  },
  {
    "text": "modified the bill of materials so that now the bill of material says you got to point to the copies and so now all of",
    "start": "1870799",
    "end": "1878059"
  },
  {
    "text": "the Yama will be rendered with the air gapped copies of the images for all of",
    "start": "1878059",
    "end": "1883399"
  },
  {
    "text": "the images that were referenced so yeah final thoughts it is possible",
    "start": "1883399",
    "end": "1891260"
  },
  {
    "text": "to using carvela and specifically with using using kubernetes we have this",
    "start": "1891260",
    "end": "1899720"
  },
  {
    "text": "opportunity to manage everything as a configuration this is true at this point",
    "start": "1899720",
    "end": "1905120"
  },
  {
    "text": "everything that we did in this package building this package",
    "start": "1905120",
    "end": "1910480"
  },
  {
    "text": "repository for any type of situation not just Edge you can have you can deploy",
    "start": "1910480",
    "end": "1916279"
  },
  {
    "text": "your software you can deliver your software to a third party for them to install and of course this is going to",
    "start": "1916279",
    "end": "1923720"
  },
  {
    "text": "apply as well because the configuration at this point it is your software and as",
    "start": "1923720",
    "end": "1930500"
  },
  {
    "text": "ytt is really powerful is a programming language with if construct and all of",
    "start": "1930500",
    "end": "1936919"
  },
  {
    "text": "those great things you really are not only writing like the",
    "start": "1936919",
    "end": "1942799"
  },
  {
    "text": "output is the configuration as a code but you are actually coding it for real",
    "start": "1942799",
    "end": "1948440"
  },
  {
    "text": "so any package delivery and but yeah we see so so the um because uh so",
    "start": "1948440",
    "end": "1957200"
  },
  {
    "text": "this is an exam I guess we wanted to show you an example where where Carville is being used to package and distribute software in the wild this is not the",
    "start": "1957200",
    "end": "1963020"
  },
  {
    "text": "only example but being uh from VMware this is the one that we work with on a daily basis so VMware sort of uh flat",
    "start": "1963020",
    "end": "1969679"
  },
  {
    "text": "Flagship modern application platform uh tons of application platform this is the",
    "start": "1969679",
    "end": "1974779"
  },
  {
    "text": "way that it uh that it packages itself for distribution and delivery so if you ever install this product you will",
    "start": "1974779",
    "end": "1982520"
  },
  {
    "text": "recognize the patterns that we have shown you today and what we did was modify it for uh Edge by creating this",
    "start": "1982520",
    "end": "1989600"
  },
  {
    "text": "concept of grouping your Edge locations and applying some configuration before um so VMware is using it for tap for",
    "start": "1989600",
    "end": "1997700"
  },
  {
    "text": "software packaging and distribution for uh just to end users um and and uh so all of the concepts",
    "start": "1997700",
    "end": "2004299"
  },
  {
    "text": "that we because all of because on kubernetes configuration is software",
    "start": "2004299",
    "end": "2009580"
  },
  {
    "text": "the same concepts are true for software packaging and distribution",
    "start": "2009580",
    "end": "2014740"
  },
  {
    "text": "um and with a few modifications that can work well for uh sort of varied Edge locations",
    "start": "2014740",
    "end": "2020799"
  },
  {
    "text": "so actually we covered the image package air gap right this morning so that's",
    "start": "2020799",
    "end": "2027179"
  },
  {
    "text": "that's done and we should also think about how now we can move from githubs",
    "start": "2027179",
    "end": "2033460"
  },
  {
    "text": "to registry Ops leveraging the power of image package there is a link to our",
    "start": "2033460",
    "end": "2039700"
  },
  {
    "text": "repository over there our repository over there so that is thank you very",
    "start": "2039700",
    "end": "2046600"
  },
  {
    "text": "much foreign",
    "start": "2046600",
    "end": "2050440"
  }
]