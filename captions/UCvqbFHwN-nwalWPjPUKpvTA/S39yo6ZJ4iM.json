[
  {
    "text": "hello everyone welcome I'm John Howard",
    "start": "160",
    "end": "3520"
  },
  {
    "text": "I'm a software engineer at Google and",
    "start": "3520",
    "end": "5879"
  },
  {
    "text": "I've been working on EO for almost five",
    "start": "5879",
    "end": "8120"
  },
  {
    "text": "years now and throughout that time I've",
    "start": "8120",
    "end": "10519"
  },
  {
    "text": "worked on a few different areas but one",
    "start": "10519",
    "end": "12679"
  },
  {
    "text": "of the things I've been most passionate",
    "start": "12679",
    "end": "14160"
  },
  {
    "text": "about is working on the performance and",
    "start": "14160",
    "end": "15920"
  },
  {
    "text": "scalability viso so I'm really excited",
    "start": "15920",
    "end": "18320"
  },
  {
    "text": "to be here talking about how we've",
    "start": "18320",
    "end": "20279"
  },
  {
    "text": "architected ambient mesh for",
    "start": "20279",
    "end": "24640"
  },
  {
    "text": "scalability so what we're going to be",
    "start": "24840",
    "end": "26679"
  },
  {
    "text": "going over today is a bit of an overview",
    "start": "26679",
    "end": "28840"
  },
  {
    "text": "of what is scalability might seem",
    "start": "28840",
    "end": "30880"
  },
  {
    "text": "obvious but it's worth giving a review",
    "start": "30880",
    "end": "33120"
  },
  {
    "text": "at",
    "start": "33120",
    "end": "35280"
  },
  {
    "text": "least we're also going to be talking",
    "start": "36360",
    "end": "38200"
  },
  {
    "text": "about why scalability can be challenging",
    "start": "38200",
    "end": "40480"
  },
  {
    "text": "for a product like EO or even similar",
    "start": "40480",
    "end": "43399"
  },
  {
    "text": "networking products like kubernetes and",
    "start": "43399",
    "end": "45840"
  },
  {
    "text": "others how EO is addressing these",
    "start": "45840",
    "end": "48600"
  },
  {
    "text": "concerns in ambient mesh in the Waypoint",
    "start": "48600",
    "end": "51079"
  },
  {
    "text": "component the Z tunnel component and in",
    "start": "51079",
    "end": "53160"
  },
  {
    "text": "the control plane if you have no idea",
    "start": "53160",
    "end": "55120"
  },
  {
    "text": "what I'm talking about right now don't",
    "start": "55120",
    "end": "56480"
  },
  {
    "text": "worry I'm going to cover what these are",
    "start": "56480",
    "end": "59239"
  },
  {
    "text": "and finally we're just an overview of",
    "start": "59239",
    "end": "61359"
  },
  {
    "text": "what it all looks like together and what",
    "start": "61359",
    "end": "62960"
  },
  {
    "text": "kind of scalability you can expect and",
    "start": "62960",
    "end": "65880"
  },
  {
    "text": "finally some next",
    "start": "65880",
    "end": "67799"
  },
  {
    "text": "steps so when we talk about scalability",
    "start": "67799",
    "end": "70840"
  },
  {
    "text": "the way I view it is it's about how",
    "start": "70840",
    "end": "72880"
  },
  {
    "text": "large we can go before we start hitting",
    "start": "72880",
    "end": "75439"
  },
  {
    "text": "limits and how large is a large large",
    "start": "75439",
    "end": "79439"
  },
  {
    "text": "number of factors right it could be how",
    "start": "79439",
    "end": "81119"
  },
  {
    "text": "many pods how many nodes how many",
    "start": "81119",
    "end": "83439"
  },
  {
    "text": "clusters how often those are changing",
    "start": "83439",
    "end": "85759"
  },
  {
    "text": "how large each of them is there's many",
    "start": "85759",
    "end": "87759"
  },
  {
    "text": "many factors right scalability is never",
    "start": "87759",
    "end": "90119"
  },
  {
    "text": "simple uh problem like we want to look",
    "start": "90119",
    "end": "92399"
  },
  {
    "text": "at it like oh I can have 100 pods or 200",
    "start": "92399",
    "end": "95119"
  },
  {
    "text": "pods or you know something like that but",
    "start": "95119",
    "end": "96640"
  },
  {
    "text": "it's really this multi-dimensional",
    "start": "96640",
    "end": "98439"
  },
  {
    "text": "problem and when we talk about limits",
    "start": "98439",
    "end": "100880"
  },
  {
    "text": "there's also a lot of limits these could",
    "start": "100880",
    "end": "102439"
  },
  {
    "text": "be cost of complexity to manage it could",
    "start": "102439",
    "end": "105960"
  },
  {
    "text": "be resource",
    "start": "105960",
    "end": "107200"
  },
  {
    "text": "utilization these could be stability",
    "start": "107200",
    "end": "109240"
  },
  {
    "text": "limits that we hit when we hit uh large",
    "start": "109240",
    "end": "111920"
  },
  {
    "text": "enough scales performance issues things",
    "start": "111920",
    "end": "114159"
  },
  {
    "text": "could start crashing Etc so we want to",
    "start": "114159",
    "end": "116680"
  },
  {
    "text": "make sure that we can go as large as we",
    "start": "116680",
    "end": "118920"
  },
  {
    "text": "can in all these areas without hitting",
    "start": "118920",
    "end": "120520"
  },
  {
    "text": "these limits so in general I would say",
    "start": "120520",
    "end": "123240"
  },
  {
    "text": "the goal that I have with EO is that EO",
    "start": "123240",
    "end": "126159"
  },
  {
    "text": "is not the bottleneck right we don't",
    "start": "126159",
    "end": "128319"
  },
  {
    "text": "need to scale to a billion pods if no",
    "start": "128319",
    "end": "130840"
  },
  {
    "text": "one's running a billion pod cluster",
    "start": "130840",
    "end": "132879"
  },
  {
    "text": "right but if someone wants to run say",
    "start": "132879",
    "end": "135040"
  },
  {
    "text": "100,000 pod cluster we don't want to be",
    "start": "135040",
    "end": "137440"
  },
  {
    "text": "the thing that's blocking them from",
    "start": "137440",
    "end": "139000"
  },
  {
    "text": "doing that so before we go on I want to",
    "start": "139000",
    "end": "141400"
  },
  {
    "text": "take a little PLL from the audience how",
    "start": "141400",
    "end": "142959"
  },
  {
    "text": "many people here are running clusters",
    "start": "142959",
    "end": "144560"
  },
  {
    "text": "with over a thousand",
    "start": "144560",
    "end": "146879"
  },
  {
    "text": "pods wow quite a few people actually",
    "start": "146879",
    "end": "149080"
  },
  {
    "text": "what about over 10,000",
    "start": "149080",
    "end": "151680"
  },
  {
    "text": "pods wow that's more than I expected we",
    "start": "151680",
    "end": "154200"
  },
  {
    "text": "got about maybe five hands I suspect",
    "start": "154200",
    "end": "156440"
  },
  {
    "text": "there's more who don't like to share and",
    "start": "156440",
    "end": "158599"
  },
  {
    "text": "I suspect that there's more if we ask",
    "start": "158599",
    "end": "160599"
  },
  {
    "text": "around at broader cubec con and not an",
    "start": "160599",
    "end": "162200"
  },
  {
    "text": "East de day because we probably",
    "start": "162200",
    "end": "164440"
  },
  {
    "text": "currently not 100% meeting this goal",
    "start": "164440",
    "end": "166599"
  },
  {
    "text": "that East is not the bottom neck so",
    "start": "166599",
    "end": "168640"
  },
  {
    "text": "that's why we're talking about",
    "start": "168640",
    "end": "169680"
  },
  {
    "text": "improvements we're making so that",
    "start": "169680",
    "end": "170840"
  },
  {
    "text": "hopefully we can you know achieve that",
    "start": "170840",
    "end": "172480"
  },
  {
    "text": "goal in the",
    "start": "172480",
    "end": "174440"
  },
  {
    "text": "future so if we take a step back and",
    "start": "174440",
    "end": "176879"
  },
  {
    "text": "look at like why is scalability for",
    "start": "176879",
    "end": "179080"
  },
  {
    "text": "easto challenge in if if you look at",
    "start": "179080",
    "end": "181480"
  },
  {
    "text": "kind of the internet like the broader",
    "start": "181480",
    "end": "183519"
  },
  {
    "text": "internet model you have something that",
    "start": "183519",
    "end": "185319"
  },
  {
    "text": "looks kind of like this right your",
    "start": "185319",
    "end": "187239"
  },
  {
    "text": "laptop Only Knows really how to talk to",
    "start": "187239",
    "end": "189280"
  },
  {
    "text": "the router and your router probably only",
    "start": "189280",
    "end": "191560"
  },
  {
    "text": "knows how to talk to the ISP at that",
    "start": "191560",
    "end": "194159"
  },
  {
    "text": "point they know all the routing to get",
    "start": "194159",
    "end": "195799"
  },
  {
    "text": "to anywhere in the world but it's not",
    "start": "195799",
    "end": "197640"
  },
  {
    "text": "like my phone knows every IP address of",
    "start": "197640",
    "end": "199879"
  },
  {
    "text": "every device in the planet right it it",
    "start": "199879",
    "end": "201560"
  },
  {
    "text": "would not simply fit on my",
    "start": "201560",
    "end": "203599"
  },
  {
    "text": "phone uh but if we look at networking",
    "start": "203599",
    "end": "206120"
  },
  {
    "text": "products like easto and even kubernetes",
    "start": "206120",
    "end": "207959"
  },
  {
    "text": "here it's quite a bit different actually",
    "start": "207959",
    "end": "210879"
  },
  {
    "text": "in kubernetes every node knows how to",
    "start": "210879",
    "end": "213280"
  },
  {
    "text": "talk to every other node in every other",
    "start": "213280",
    "end": "215239"
  },
  {
    "text": "service right so you have kind of this",
    "start": "215239",
    "end": "217319"
  },
  {
    "text": "mesh it used goes the same way so I use",
    "start": "217319",
    "end": "220760"
  },
  {
    "text": "this new diagramming tool and it gave me",
    "start": "220760",
    "end": "222280"
  },
  {
    "text": "this mess but I think it's fitting",
    "start": "222280",
    "end": "223920"
  },
  {
    "text": "because this is kind of what it looks",
    "start": "223920",
    "end": "225439"
  },
  {
    "text": "like right everything needs to know",
    "start": "225439",
    "end": "226599"
  },
  {
    "text": "about everything and if you look at that",
    "start": "226599",
    "end": "229920"
  },
  {
    "text": "it's a kind of classic N squared problem",
    "start": "229920",
    "end": "232280"
  },
  {
    "text": "right that makes it hard to scale so in",
    "start": "232280",
    "end": "235280"
  },
  {
    "text": "EO specifically here we have an example",
    "start": "235280",
    "end": "238799"
  },
  {
    "text": "where we have four different workloads",
    "start": "238799",
    "end": "240959"
  },
  {
    "text": "so four different Envoy proxies and each",
    "start": "240959",
    "end": "243159"
  },
  {
    "text": "one's color coded just to show that",
    "start": "243159",
    "end": "244640"
  },
  {
    "text": "they're different you can see each one",
    "start": "244640",
    "end": "246920"
  },
  {
    "text": "has configuration these little circles",
    "start": "246920",
    "end": "249040"
  },
  {
    "text": "for all the other uh workloads right so",
    "start": "249040",
    "end": "252799"
  },
  {
    "text": "everything needs to know about",
    "start": "252799",
    "end": "253799"
  },
  {
    "text": "everything and again this is a very",
    "start": "253799",
    "end": "256199"
  },
  {
    "text": "classic does not scale N squared problem",
    "start": "256199",
    "end": "259000"
  },
  {
    "text": "so how do we fix that actually before we",
    "start": "259000",
    "end": "261799"
  },
  {
    "text": "get to fixing it there's more problems",
    "start": "261799",
    "end": "264199"
  },
  {
    "text": "too if you have n squ you better hope",
    "start": "264199",
    "end": "266840"
  },
  {
    "text": "that you have a small amount of n so",
    "start": "266840",
    "end": "269479"
  },
  {
    "text": "that it can scale at least a little bit",
    "start": "269479",
    "end": "271120"
  },
  {
    "text": "before you hit the cliff right in eal",
    "start": "271120",
    "end": "273639"
  },
  {
    "text": "that's not the case the config is both",
    "start": "273639",
    "end": "275680"
  },
  {
    "text": "scaling at the send squared rate and",
    "start": "275680",
    "end": "277600"
  },
  {
    "text": "it's also massive to begin with so this",
    "start": "277600",
    "end": "280240"
  },
  {
    "text": "is a dump of a pods configuration uh you",
    "start": "280240",
    "end": "283880"
  },
  {
    "text": "may or may not recognize something like",
    "start": "283880",
    "end": "285479"
  },
  {
    "text": "this this was from an empty cluster and",
    "start": "285479",
    "end": "288160"
  },
  {
    "text": "it Scrolls for quite a while before you",
    "start": "288160",
    "end": "289880"
  },
  {
    "text": "get to the bottom right so you can",
    "start": "289880",
    "end": "291720"
  },
  {
    "text": "imagine that when a small scale cluster",
    "start": "291720",
    "end": "294800"
  },
  {
    "text": "is having that much configuration how",
    "start": "294800",
    "end": "297160"
  },
  {
    "text": "poorly this scales at an N squ uh uh you",
    "start": "297160",
    "end": "300080"
  },
  {
    "text": "know rate so that's two problems that",
    "start": "300080",
    "end": "303720"
  },
  {
    "text": "we're going to be tackling the the",
    "start": "303720",
    "end": "305199"
  },
  {
    "text": "scaling rate and even just the Baseline",
    "start": "305199",
    "end": "307639"
  },
  {
    "text": "size of of how much configuration we're",
    "start": "307639",
    "end": "309479"
  },
  {
    "text": "talking",
    "start": "309479",
    "end": "311000"
  },
  {
    "text": "about um but scalability is not just",
    "start": "311000",
    "end": "313360"
  },
  {
    "text": "about how much configuration there is",
    "start": "313360",
    "end": "315280"
  },
  {
    "text": "right configuration's always changing",
    "start": "315280",
    "end": "317280"
  },
  {
    "text": "pods are scaling up and down you're",
    "start": "317280",
    "end": "318759"
  },
  {
    "text": "changing your virtual services to do a",
    "start": "318759",
    "end": "320639"
  },
  {
    "text": "canera roll out things like this so it's",
    "start": "320639",
    "end": "323280"
  },
  {
    "text": "also about how we're pushing those",
    "start": "323280",
    "end": "325120"
  },
  {
    "text": "updates to the proxies uh because we're",
    "start": "325120",
    "end": "328639"
  },
  {
    "text": "you know any scaling up or down May",
    "start": "328639",
    "end": "330680"
  },
  {
    "text": "potentially need to send out an update",
    "start": "330680",
    "end": "332160"
  },
  {
    "text": "to every other pod in the entire mesh",
    "start": "332160",
    "end": "334400"
  },
  {
    "text": "which for many people here is 10,000",
    "start": "334400",
    "end": "336639"
  },
  {
    "text": "proxies or more uh it's really important",
    "start": "336639",
    "end": "339280"
  },
  {
    "text": "that the updates are efficient so in",
    "start": "339280",
    "end": "341400"
  },
  {
    "text": "general there's a few different ways",
    "start": "341400",
    "end": "342840"
  },
  {
    "text": "that you can go about this uh really in",
    "start": "342840",
    "end": "345600"
  },
  {
    "text": "general but also specifically in Envoy",
    "start": "345600",
    "end": "348560"
  },
  {
    "text": "uh one would be what we call state of",
    "start": "348560",
    "end": "349880"
  },
  {
    "text": "the world um I would consider this the",
    "start": "349880",
    "end": "352800"
  },
  {
    "text": "least efficient and as we go on to the",
    "start": "352800",
    "end": "354600"
  },
  {
    "text": "most efficient so in the state of the",
    "start": "354600",
    "end": "356759"
  },
  {
    "text": "world anytime a resource changes the",
    "start": "356759",
    "end": "359800"
  },
  {
    "text": "entire state of the world hence the name",
    "start": "359800",
    "end": "362280"
  },
  {
    "text": "is sent to the proxy so if I change my",
    "start": "362280",
    "end": "364479"
  },
  {
    "text": "service a now I'm going to send the",
    "start": "364479",
    "end": "366919"
  },
  {
    "text": "entire set of all the services down to",
    "start": "366919",
    "end": "368759"
  },
  {
    "text": "all the proxies and it was kind of a big",
    "start": "368759",
    "end": "370599"
  },
  {
    "text": "snapshot so there can be a lot of",
    "start": "370599",
    "end": "372520"
  },
  {
    "text": "redundant information that's sent",
    "start": "372520",
    "end": "374199"
  },
  {
    "text": "repeatedly as you make a lot of",
    "start": "374199",
    "end": "376400"
  },
  {
    "text": "changes an an improvement on that is a",
    "start": "376400",
    "end": "378759"
  },
  {
    "text": "more Delta or incremental approach right",
    "start": "378759",
    "end": "381479"
  },
  {
    "text": "as a configuration changes we just send",
    "start": "381479",
    "end": "383440"
  },
  {
    "text": "the one that",
    "start": "383440",
    "end": "384479"
  },
  {
    "text": "changed this may sound perfect and like",
    "start": "384479",
    "end": "386800"
  },
  {
    "text": "it solves all the problems but you may",
    "start": "386800",
    "end": "388479"
  },
  {
    "text": "still run it issues if the actual",
    "start": "388479",
    "end": "390160"
  },
  {
    "text": "configuration objects are still huge",
    "start": "390160",
    "end": "392160"
  },
  {
    "text": "right this is a problem that kubernetes",
    "start": "392160",
    "end": "394280"
  },
  {
    "text": "ran into they have a a model that's very",
    "start": "394280",
    "end": "396520"
  },
  {
    "text": "similar to to Delta with their watching",
    "start": "396520",
    "end": "399240"
  },
  {
    "text": "model and they had this endpoints object",
    "start": "399240",
    "end": "401800"
  },
  {
    "text": "the endpoints list all the pods for a",
    "start": "401800",
    "end": "404000"
  },
  {
    "text": "single service and many services could",
    "start": "404000",
    "end": "406120"
  },
  {
    "text": "have a thousand pods so these objects",
    "start": "406120",
    "end": "408720"
  },
  {
    "text": "even though they were sent incrementally",
    "start": "408720",
    "end": "410160"
  },
  {
    "text": "were Giant and so they had to introduce",
    "start": "410160",
    "end": "412599"
  },
  {
    "text": "a new resource and point slice which",
    "start": "412599",
    "end": "414840"
  },
  {
    "text": "splits this into chunks to make this",
    "start": "414840",
    "end": "416720"
  },
  {
    "text": "more",
    "start": "416720",
    "end": "417800"
  },
  {
    "text": "efficient lastly an improvement you can",
    "start": "417800",
    "end": "420280"
  },
  {
    "text": "make in the incremental approach is an",
    "start": "420280",
    "end": "422800"
  },
  {
    "text": "on demand approach so rather than",
    "start": "422800",
    "end": "425319"
  },
  {
    "text": "sending the entire uh you know set of",
    "start": "425319",
    "end": "428120"
  },
  {
    "text": "all resources and incrementally updating",
    "start": "428120",
    "end": "430080"
  },
  {
    "text": "that we could also lazy load these",
    "start": "430080",
    "end": "432080"
  },
  {
    "text": "resources kind of like a serverless",
    "start": "432080",
    "end": "434000"
  },
  {
    "text": "model where it's scaled up only uh on",
    "start": "434000",
    "end": "436599"
  },
  {
    "text": "demand so if we look at where you know",
    "start": "436599",
    "end": "439560"
  },
  {
    "text": "various products line up here I think",
    "start": "439560",
    "end": "441879"
  },
  {
    "text": "most traditional proxies uh are kind of",
    "start": "441879",
    "end": "444639"
  },
  {
    "text": "in the state of the world often times to",
    "start": "444639",
    "end": "446360"
  },
  {
    "text": "even change them you need to do a full",
    "start": "446360",
    "end": "448160"
  },
  {
    "text": "restart of the the proxy EO kind of",
    "start": "448160",
    "end": "451280"
  },
  {
    "text": "straddles the line of state of the world",
    "start": "451280",
    "end": "452960"
  },
  {
    "text": "in Delta we do a bit of both um today",
    "start": "452960",
    "end": "456759"
  },
  {
    "text": "kubernetes like I said they have a more",
    "start": "456759",
    "end": "458560"
  },
  {
    "text": "Delta approach um for their",
    "start": "458560",
    "end": "461720"
  },
  {
    "text": "watches and the closest thing I could",
    "start": "461720",
    "end": "463840"
  },
  {
    "text": "find to an on demand would be DNS uh you",
    "start": "463840",
    "end": "466720"
  },
  {
    "text": "know when you make a request to some",
    "start": "466720",
    "end": "468000"
  },
  {
    "text": "service you do a you know DNS request uh",
    "start": "468000",
    "end": "471599"
  },
  {
    "text": "at the time of making the request the",
    "start": "471599",
    "end": "473520"
  },
  {
    "text": "one difference I would say is that when",
    "start": "473520",
    "end": "475759"
  },
  {
    "text": "we're talking about proxy configuration",
    "start": "475759",
    "end": "477960"
  },
  {
    "text": "typically it's kind of a pub sub",
    "start": "477960",
    "end": "479479"
  },
  {
    "text": "mechanism so once we start requesting a",
    "start": "479479",
    "end": "482280"
  },
  {
    "text": "service we would get updates for it DNS",
    "start": "482280",
    "end": "484440"
  },
  {
    "text": "doesn't have this pushing mechanism so",
    "start": "484440",
    "end": "486280"
  },
  {
    "text": "it's slightly",
    "start": "486280",
    "end": "488520"
  },
  {
    "text": "different all right now that we have a a",
    "start": "488520",
    "end": "491080"
  },
  {
    "text": "background on you know what what we're",
    "start": "491080",
    "end": "492800"
  },
  {
    "text": "trying to solve with scalability what",
    "start": "492800",
    "end": "494440"
  },
  {
    "text": "our constraints are I do want to give a",
    "start": "494440",
    "end": "495960"
  },
  {
    "text": "quick overview of ambient if you haven't",
    "start": "495960",
    "end": "498319"
  },
  {
    "text": "seen this slide yet it will be the first",
    "start": "498319",
    "end": "500479"
  },
  {
    "text": "of many this today and this week I'm",
    "start": "500479",
    "end": "502400"
  },
  {
    "text": "sure uh this is kind of the new",
    "start": "502400",
    "end": "504919"
  },
  {
    "text": "architecture for ambient mode and the",
    "start": "504919",
    "end": "507400"
  },
  {
    "text": "big difference if you're not familiar",
    "start": "507400",
    "end": "508919"
  },
  {
    "text": "with this is that instead of side cars",
    "start": "508919",
    "end": "510759"
  },
  {
    "text": "we have these two different components",
    "start": "510759",
    "end": "513440"
  },
  {
    "text": "uh we have one the Z tunnel this is a",
    "start": "513440",
    "end": "515839"
  },
  {
    "text": "per node component and it has a much",
    "start": "515839",
    "end": "518440"
  },
  {
    "text": "smaller uh responsibility than the side",
    "start": "518440",
    "end": "521080"
  },
  {
    "text": "cars its real job is to get traffic from",
    "start": "521080",
    "end": "524200"
  },
  {
    "text": "point A to point B with secure",
    "start": "524200",
    "end": "526800"
  },
  {
    "text": "encryption and policies it's not doing",
    "start": "526800",
    "end": "529720"
  },
  {
    "text": "the",
    "start": "529720",
    "end": "530480"
  },
  {
    "text": "full can of features that East provides",
    "start": "530480",
    "end": "533760"
  },
  {
    "text": "right it's not doing HTTP Telemetry",
    "start": "533760",
    "end": "535600"
  },
  {
    "text": "routing jot authentication all these",
    "start": "535600",
    "end": "538000"
  },
  {
    "text": "other things I'm sure we hear many",
    "start": "538000",
    "end": "539399"
  },
  {
    "text": "people talk about for that we introduce",
    "start": "539399",
    "end": "542200"
  },
  {
    "text": "the Waypoint which has all the same",
    "start": "542200",
    "end": "544160"
  },
  {
    "text": "functionality that we have in the side",
    "start": "544160",
    "end": "545399"
  },
  {
    "text": "cars or in G Gateway but it's decoupled",
    "start": "545399",
    "end": "547640"
  },
  {
    "text": "from the",
    "start": "547640",
    "end": "549640"
  },
  {
    "text": "applications so first we're going to",
    "start": "549640",
    "end": "551480"
  },
  {
    "text": "focus on how we made Z tunnel scale so",
    "start": "551480",
    "end": "554839"
  },
  {
    "text": "like I said zon is running on each node",
    "start": "554839",
    "end": "557560"
  },
  {
    "text": "so it needs to know how to route to all",
    "start": "557560",
    "end": "559720"
  },
  {
    "text": "the other nodes or all the other",
    "start": "559720",
    "end": "561120"
  },
  {
    "text": "workloads this still is an N squ problem",
    "start": "561120",
    "end": "564120"
  },
  {
    "text": "so we haven't solved the fact that it's",
    "start": "564120",
    "end": "565880"
  },
  {
    "text": "n",
    "start": "565880",
    "end": "567000"
  },
  {
    "text": "squ however it does have a much smaller",
    "start": "567000",
    "end": "569880"
  },
  {
    "text": "surface area of configuration because of",
    "start": "569880",
    "end": "571800"
  },
  {
    "text": "its reduced",
    "start": "571800",
    "end": "573279"
  },
  {
    "text": "responsibilities so instead of tackling",
    "start": "573279",
    "end": "575720"
  },
  {
    "text": "the N squ problem first we target making",
    "start": "575720",
    "end": "578399"
  },
  {
    "text": "it a lot more efficient so before I",
    "start": "578399",
    "end": "581079"
  },
  {
    "text": "showed the giant Envoy",
    "start": "581079",
    "end": "583399"
  },
  {
    "text": "configuration this is what configuration",
    "start": "583399",
    "end": "585440"
  },
  {
    "text": "looks like for Z tunnel for each pod in",
    "start": "585440",
    "end": "588760"
  },
  {
    "text": "the cluster you would have a snippet of",
    "start": "588760",
    "end": "591120"
  },
  {
    "text": "something like this in Z tunnel and you",
    "start": "591120",
    "end": "593720"
  },
  {
    "text": "can see it's it's fairly small it's easy",
    "start": "593720",
    "end": "596240"
  },
  {
    "text": "to understand right the key thing here",
    "start": "596240",
    "end": "599880"
  },
  {
    "text": "is not that you know the E developers",
    "start": "599880",
    "end": "602360"
  },
  {
    "text": "make better apis than Envoy developers",
    "start": "602360",
    "end": "604760"
  },
  {
    "text": "that's not true the issue is that Envoy",
    "start": "604760",
    "end": "607640"
  },
  {
    "text": "is a generic configuration API for a",
    "start": "607640",
    "end": "611200"
  },
  {
    "text": "large set of use cases right so if I",
    "start": "611200",
    "end": "613640"
  },
  {
    "text": "want to tell Envoy to use Mutual TLS I",
    "start": "613640",
    "end": "616279"
  },
  {
    "text": "need to First tell it to use TLS I need",
    "start": "616279",
    "end": "618440"
  },
  {
    "text": "to tell it what Casa to trust how to",
    "start": "618440",
    "end": "621240"
  },
  {
    "text": "verify the identities what Cipher Suites",
    "start": "621240",
    "end": "623360"
  },
  {
    "text": "to use the TLs version and that's just",
    "start": "623360",
    "end": "625720"
  },
  {
    "text": "one example right so as we are more and",
    "start": "625720",
    "end": "628320"
  },
  {
    "text": "more opinionated about how EO should",
    "start": "628320",
    "end": "630279"
  },
  {
    "text": "behave we have to tell Envoy more and",
    "start": "630279",
    "end": "632079"
  },
  {
    "text": "more things uh and this bloats up quite",
    "start": "632079",
    "end": "634279"
  },
  {
    "text": "a bit with EO because we have an EO",
    "start": "634279",
    "end": "637880"
  },
  {
    "text": "control plan and an EO data plane we can",
    "start": "637880",
    "end": "640240"
  },
  {
    "text": "be a lot more opinionated in the",
    "start": "640240",
    "end": "641639"
  },
  {
    "text": "configuration protocol so here instead",
    "start": "641639",
    "end": "644320"
  },
  {
    "text": "of the giant set of things I would need",
    "start": "644320",
    "end": "646320"
  },
  {
    "text": "to tell Envoy to do mtls I can send a",
    "start": "646320",
    "end": "649000"
  },
  {
    "text": "single bit to Z tunnel that says use",
    "start": "649000",
    "end": "651560"
  },
  {
    "text": "protocol mtls and the details of what it",
    "start": "651560",
    "end": "654760"
  },
  {
    "text": "means to do mtls can be built into Z",
    "start": "654760",
    "end": "657440"
  },
  {
    "text": "tunnel so it doesn't need to be",
    "start": "657440",
    "end": "659040"
  },
  {
    "text": "transmitted on the wire for every single",
    "start": "659040",
    "end": "660880"
  },
  {
    "text": "workload every single time there's an",
    "start": "660880",
    "end": "663160"
  },
  {
    "text": "update so just doing this",
    "start": "663160",
    "end": "666120"
  },
  {
    "text": "alone will it scale to 10 million pods",
    "start": "666120",
    "end": "669320"
  },
  {
    "text": "no it's still an N squared problem kind",
    "start": "669320",
    "end": "671760"
  },
  {
    "text": "of it's actually not exactly N squared",
    "start": "671760",
    "end": "673800"
  },
  {
    "text": "because now the proxies are per node",
    "start": "673800",
    "end": "676519"
  },
  {
    "text": "instead of per workload but your node",
    "start": "676519",
    "end": "678360"
  },
  {
    "text": "scale with the workload so it's close",
    "start": "678360",
    "end": "679839"
  },
  {
    "text": "enough right but this does get us to a",
    "start": "679839",
    "end": "682839"
  },
  {
    "text": "very very large scale you know we've",
    "start": "682839",
    "end": "684800"
  },
  {
    "text": "done testing 50,000 100,000 pods and the",
    "start": "684800",
    "end": "687440"
  },
  {
    "text": "footprint of Z tunnel is fairly small",
    "start": "687440",
    "end": "689560"
  },
  {
    "text": "like 30 60 megabytes of ram but we do",
    "start": "689560",
    "end": "694240"
  },
  {
    "text": "think that while there may not be",
    "start": "694240",
    "end": "695880"
  },
  {
    "text": "100,000 pod users of EO or they few and",
    "start": "695880",
    "end": "698200"
  },
  {
    "text": "far between we want to get there",
    "start": "698200",
    "end": "700040"
  },
  {
    "text": "eventually where people are running",
    "start": "700040",
    "end": "702079"
  },
  {
    "text": "their large large clusters on EO so we",
    "start": "702079",
    "end": "706120"
  },
  {
    "text": "wanted to Future proof this as well so",
    "start": "706120",
    "end": "708600"
  },
  {
    "text": "while the Baseline of this we have the",
    "start": "708600",
    "end": "710880"
  },
  {
    "text": "efficient protocol uh which is also",
    "start": "710880",
    "end": "713120"
  },
  {
    "text": "incrementally updated as I mentioned in",
    "start": "713120",
    "end": "715040"
  },
  {
    "text": "the previous talks it's using or",
    "start": "715040",
    "end": "716760"
  },
  {
    "text": "previous slide uh it's using the Delta",
    "start": "716760",
    "end": "718680"
  },
  {
    "text": "protocol",
    "start": "718680",
    "end": "719760"
  },
  {
    "text": "we also are working on an on demand",
    "start": "719760",
    "end": "721720"
  },
  {
    "text": "approach so what this would look like is",
    "start": "721720",
    "end": "724440"
  },
  {
    "text": "you know your service would do send a",
    "start": "724440",
    "end": "726399"
  },
  {
    "text": "cural request to some some service the Z",
    "start": "726399",
    "end": "729079"
  },
  {
    "text": "tunnel would get that request and say I",
    "start": "729079",
    "end": "730800"
  },
  {
    "text": "don't know what the service is so it",
    "start": "730800",
    "end": "732160"
  },
  {
    "text": "will do the on demand lookup to the",
    "start": "732160",
    "end": "734399"
  },
  {
    "text": "control plane the control plan will",
    "start": "734399",
    "end": "736720"
  },
  {
    "text": "return everything it knows about the",
    "start": "736720",
    "end": "737920"
  },
  {
    "text": "service future requests we don't need",
    "start": "737920",
    "end": "740440"
  },
  {
    "text": "that lookup anymore and so those will go",
    "start": "740440",
    "end": "742600"
  },
  {
    "text": "without any lookup and the difference",
    "start": "742600",
    "end": "744959"
  },
  {
    "text": "like I mentioned earlier from DNS is",
    "start": "744959",
    "end": "746600"
  },
  {
    "text": "that the control plane can spontaneously",
    "start": "746600",
    "end": "748399"
  },
  {
    "text": "push up dates so that we're always",
    "start": "748399",
    "end": "750079"
  },
  {
    "text": "having upto-date",
    "start": "750079",
    "end": "751480"
  },
  {
    "text": "information so with this on demand",
    "start": "751480",
    "end": "753720"
  },
  {
    "text": "approach it really unlocks I don't want",
    "start": "753720",
    "end": "755880"
  },
  {
    "text": "to say unlimited scalability um but it's",
    "start": "755880",
    "end": "758920"
  },
  {
    "text": "it's not far off right we don't have to",
    "start": "758920",
    "end": "762079"
  },
  {
    "text": "load the entire set of the world into",
    "start": "762079",
    "end": "764560"
  },
  {
    "text": "every Z Tunnel right if you have a node",
    "start": "764560",
    "end": "766959"
  },
  {
    "text": "that's only calling one service it only",
    "start": "766959",
    "end": "768959"
  },
  {
    "text": "needs information about that one service",
    "start": "768959",
    "end": "771279"
  },
  {
    "text": "that allows the footprint of Z tunnel to",
    "start": "771279",
    "end": "773000"
  },
  {
    "text": "be extremely",
    "start": "773000",
    "end": "775920"
  },
  {
    "text": "low another aspect of Z tunnel is is",
    "start": "776360",
    "end": "779000"
  },
  {
    "text": "that it's purpose-built I mentioned this",
    "start": "779000",
    "end": "781360"
  },
  {
    "text": "for the protocol as well but it actually",
    "start": "781360",
    "end": "783240"
  },
  {
    "text": "applies everywhere throughout Z Tunnel",
    "start": "783240",
    "end": "786240"
  },
  {
    "text": "right we built Z tunnel from the ground",
    "start": "786240",
    "end": "788040"
  },
  {
    "text": "up to serve this specific purpose and in",
    "start": "788040",
    "end": "791000"
  },
  {
    "text": "doing so at every step of the way any",
    "start": "791000",
    "end": "793440"
  },
  {
    "text": "decisions we made were those ones that",
    "start": "793440",
    "end": "796079"
  },
  {
    "text": "took us closer to the architecture and",
    "start": "796079",
    "end": "797800"
  },
  {
    "text": "requirements for Z",
    "start": "797800",
    "end": "799440"
  },
  {
    "text": "tunnel um so one you know it's hard to",
    "start": "799440",
    "end": "803600"
  },
  {
    "text": "put slides for saying that we built it",
    "start": "803600",
    "end": "805800"
  },
  {
    "text": "intentionally uh one aspect is it is",
    "start": "805800",
    "end": "808000"
  },
  {
    "text": "written in Rust",
    "start": "808000",
    "end": "809279"
  },
  {
    "text": "rust is not why it's scalable uh but",
    "start": "809279",
    "end": "812000"
  },
  {
    "text": "they have a nice logo to include here so",
    "start": "812000",
    "end": "813680"
  },
  {
    "text": "I put it up here but to give like one",
    "start": "813680",
    "end": "816320"
  },
  {
    "text": "concrete example in Envoy they have a",
    "start": "816320",
    "end": "819560"
  },
  {
    "text": "model where things are not very shared",
    "start": "819560",
    "end": "822320"
  },
  {
    "text": "between threads um you know connection",
    "start": "822320",
    "end": "824480"
  },
  {
    "text": "pools for example are not shared between",
    "start": "824480",
    "end": "826399"
  },
  {
    "text": "threads so if I'm running three threads",
    "start": "826399",
    "end": "828720"
  },
  {
    "text": "an Envoy and I make three connections",
    "start": "828720",
    "end": "831440"
  },
  {
    "text": "they are probably not going to be shared",
    "start": "831440",
    "end": "833199"
  },
  {
    "text": "at all so I'm going to have three Mt L",
    "start": "833199",
    "end": "834800"
  },
  {
    "text": "handshakes three connections open and",
    "start": "834800",
    "end": "837759"
  },
  {
    "text": "there's just not much you know we can't",
    "start": "837759",
    "end": "840040"
  },
  {
    "text": "can't really change that Envoy if we",
    "start": "840040",
    "end": "841440"
  },
  {
    "text": "choose to maybe with a lot of work in Z",
    "start": "841440",
    "end": "844759"
  },
  {
    "text": "tunnel we decided that we actually",
    "start": "844759",
    "end": "846399"
  },
  {
    "text": "wanted to use the shared threading model",
    "start": "846399",
    "end": "848800"
  },
  {
    "text": "because we built it ourselves we were",
    "start": "848800",
    "end": "850360"
  },
  {
    "text": "able to look at that choice evaluate it",
    "start": "850360",
    "end": "852680"
  },
  {
    "text": "and make the correct choice for our",
    "start": "852680",
    "end": "854680"
  },
  {
    "text": "requirements so these slides I stole",
    "start": "854680",
    "end": "857120"
  },
  {
    "text": "shamelessly from cloudflare they had a",
    "start": "857120",
    "end": "859519"
  },
  {
    "text": "blog post where they talked about the",
    "start": "859519",
    "end": "860920"
  },
  {
    "text": "exact same thing moving from engine X",
    "start": "860920",
    "end": "863040"
  },
  {
    "text": "which has a similar threading model as",
    "start": "863040",
    "end": "864560"
  },
  {
    "text": "Envoy to I think it's called pingora",
    "start": "864560",
    "end": "867199"
  },
  {
    "text": "which is some proprietary proxy that",
    "start": "867199",
    "end": "869440"
  },
  {
    "text": "they made for very very similar reasons",
    "start": "869440",
    "end": "871959"
  },
  {
    "text": "that also happens to be rich and rust so",
    "start": "871959",
    "end": "874199"
  },
  {
    "text": "if you want to learn more you can check",
    "start": "874199",
    "end": "875399"
  },
  {
    "text": "out their blog it's pretty good it's",
    "start": "875399",
    "end": "876920"
  },
  {
    "text": "basically this exact talk in Cloud flare",
    "start": "876920",
    "end": "879560"
  },
  {
    "text": "perspective instead of EO so we're not",
    "start": "879560",
    "end": "881759"
  },
  {
    "text": "alone in the industry on these",
    "start": "881759",
    "end": "884240"
  },
  {
    "text": "Trends so with all those together uh",
    "start": "884240",
    "end": "887720"
  },
  {
    "text": "we're pretty I'm pretty happy with where",
    "start": "887720",
    "end": "890079"
  },
  {
    "text": "z1o scaling right to without the on",
    "start": "890079",
    "end": "892959"
  },
  {
    "text": "demand we can easily scale to very very",
    "start": "892959",
    "end": "895079"
  },
  {
    "text": "large clusters and we have kind of this",
    "start": "895079",
    "end": "897160"
  },
  {
    "text": "on demand mode in our back pocket for",
    "start": "897160",
    "end": "899040"
  },
  {
    "text": "when we need to scale to kind of",
    "start": "899040",
    "end": "900440"
  },
  {
    "text": "hyperscale level so next I want to move",
    "start": "900440",
    "end": "902920"
  },
  {
    "text": "on to way points which have very",
    "start": "902920",
    "end": "904440"
  },
  {
    "text": "different properties than Z",
    "start": "904440",
    "end": "906079"
  },
  {
    "text": "tunnel so in a waypoint these are",
    "start": "906079",
    "end": "908199"
  },
  {
    "text": "running per namespace I'd like to call",
    "start": "908199",
    "end": "910279"
  },
  {
    "text": "them kind of the gateway to the",
    "start": "910279",
    "end": "912560"
  },
  {
    "text": "namespace uh these are Envoy based they",
    "start": "912560",
    "end": "914880"
  },
  {
    "text": "have the full set of functionality that",
    "start": "914880",
    "end": "916800"
  },
  {
    "text": "these just side cars or Ingress gateways",
    "start": "916800",
    "end": "918600"
  },
  {
    "text": "have right and with that comes a lot of",
    "start": "918600",
    "end": "921279"
  },
  {
    "text": "configuration this is both strictly",
    "start": "921279",
    "end": "924399"
  },
  {
    "text": "required configuration because we're",
    "start": "924399",
    "end": "925880"
  },
  {
    "text": "configuring all this different",
    "start": "925880",
    "end": "927600"
  },
  {
    "text": "functionality and a little bit of of",
    "start": "927600",
    "end": "930240"
  },
  {
    "text": "bloat because it's Envoy but uh a lot of",
    "start": "930240",
    "end": "932720"
  },
  {
    "text": "it is",
    "start": "932720",
    "end": "933720"
  },
  {
    "text": "necessary uh like I said complex",
    "start": "933720",
    "end": "935800"
  },
  {
    "text": "configuration service",
    "start": "935800",
    "end": "938519"
  },
  {
    "text": "surface the key point though is that",
    "start": "938519",
    "end": "941399"
  },
  {
    "text": "because these proxies are only sending",
    "start": "941399",
    "end": "943920"
  },
  {
    "text": "traffic to one",
    "start": "943920",
    "end": "945759"
  },
  {
    "text": "namespace it's actually very scoped",
    "start": "945759",
    "end": "948040"
  },
  {
    "text": "where the configuration needs to go so",
    "start": "948040",
    "end": "950480"
  },
  {
    "text": "if we bring up that old sidecar model we",
    "start": "950480",
    "end": "952360"
  },
  {
    "text": "have this n s right for the Waypoint",
    "start": "952360",
    "end": "955319"
  },
  {
    "text": "proxies they are fundamentally different",
    "start": "955319",
    "end": "958920"
  },
  {
    "text": "than sidecars right in the side cars the",
    "start": "958920",
    "end": "961279"
  },
  {
    "text": "clients have all the routing information",
    "start": "961279",
    "end": "963319"
  },
  {
    "text": "each client sidecar needs to know how to",
    "start": "963319",
    "end": "965079"
  },
  {
    "text": "reach every destination but in Waypoint",
    "start": "965079",
    "end": "967959"
  },
  {
    "text": "proxies the clients only know need to",
    "start": "967959",
    "end": "970480"
  },
  {
    "text": "know how to reach the Waypoint for that",
    "start": "970480",
    "end": "972680"
  },
  {
    "text": "namespace and the namespace Waypoint",
    "start": "972680",
    "end": "975079"
  },
  {
    "text": "only needs to know how to reach",
    "start": "975079",
    "end": "976240"
  },
  {
    "text": "workloads within that namespace so we've",
    "start": "976240",
    "end": "978480"
  },
  {
    "text": "kind of moved the client side routing",
    "start": "978480",
    "end": "980399"
  },
  {
    "text": "Behavior to the server side and limited",
    "start": "980399",
    "end": "983279"
  },
  {
    "text": "its scope so if we look at this in terms",
    "start": "983279",
    "end": "985720"
  },
  {
    "text": "of how much configuration there is this",
    "start": "985720",
    "end": "987680"
  },
  {
    "text": "is obviously huge approximation but on",
    "start": "987680",
    "end": "990160"
  },
  {
    "text": "the left we have 16 configurations and",
    "start": "990160",
    "end": "992839"
  },
  {
    "text": "we have four on the right um so we",
    "start": "992839",
    "end": "995800"
  },
  {
    "text": "fundamentally broken that n squ scaling",
    "start": "995800",
    "end": "998560"
  },
  {
    "text": "problem if we ramp this up just a little",
    "start": "998560",
    "end": "1001279"
  },
  {
    "text": "bit and consider you know an example",
    "start": "1001279",
    "end": "1003160"
  },
  {
    "text": "with 25 Services 10 pods each two Nam",
    "start": "1003160",
    "end": "1005639"
  },
  {
    "text": "spaces we get about 1% of the",
    "start": "1005639",
    "end": "1008040"
  },
  {
    "text": "configuration needed to program the",
    "start": "1008040",
    "end": "1009600"
  },
  {
    "text": "waypoints uh as we do with Envoy so you",
    "start": "1009600",
    "end": "1013800"
  },
  {
    "text": "know we took two different approaches",
    "start": "1013800",
    "end": "1015040"
  },
  {
    "text": "here with with Z tunnel we still had",
    "start": "1015040",
    "end": "1017440"
  },
  {
    "text": "this n squ requirement so we had to make",
    "start": "1017440",
    "end": "1019199"
  },
  {
    "text": "it very efficient to do that with way",
    "start": "1019199",
    "end": "1021600"
  },
  {
    "text": "points though we can keep some of the",
    "start": "1021600",
    "end": "1023360"
  },
  {
    "text": "inefficiencies because the scope is",
    "start": "1023360",
    "end": "1025199"
  },
  {
    "text": "fundamentally different so that's not",
    "start": "1025199",
    "end": "1027600"
  },
  {
    "text": "something that you know we can just go",
    "start": "1027600",
    "end": "1029600"
  },
  {
    "text": "optimize after the fact we fundamentally",
    "start": "1029600",
    "end": "1031918"
  },
  {
    "text": "designed ambient around scaling like",
    "start": "1031919",
    "end": "1035678"
  },
  {
    "text": "this uh last thing I'll go briefly here",
    "start": "1035679",
    "end": "1039000"
  },
  {
    "text": "uh on the control plane you know we",
    "start": "1039000",
    "end": "1040839"
  },
  {
    "text": "talked about these incremental updates",
    "start": "1040839",
    "end": "1043038"
  },
  {
    "text": "so one of the things that's challenging",
    "start": "1043039",
    "end": "1044438"
  },
  {
    "text": "with incremental upgrades or updates is",
    "start": "1044439",
    "end": "1046678"
  },
  {
    "text": "figuring out what actually change so",
    "start": "1046679",
    "end": "1048199"
  },
  {
    "text": "that not either pushing redundant",
    "start": "1048199",
    "end": "1050520"
  },
  {
    "text": "changes or even worse we're failing to",
    "start": "1050520",
    "end": "1052880"
  },
  {
    "text": "push an update when we should have and",
    "start": "1052880",
    "end": "1054200"
  },
  {
    "text": "res serving still data uh this turns out",
    "start": "1054200",
    "end": "1056960"
  },
  {
    "text": "this is actually pretty hard to do",
    "start": "1056960",
    "end": "1058400"
  },
  {
    "text": "correctly so we've been working on a new",
    "start": "1058400",
    "end": "1061120"
  },
  {
    "text": "framework that kind of helps do this",
    "start": "1061120",
    "end": "1063039"
  },
  {
    "text": "automatically so that developers don't",
    "start": "1063039",
    "end": "1064919"
  },
  {
    "text": "have to do it kind of the the manual way",
    "start": "1064919",
    "end": "1067400"
  },
  {
    "text": "which leads to a lot of Errors",
    "start": "1067400",
    "end": "1070200"
  },
  {
    "text": "unfortunately I don't have a lot of time",
    "start": "1070200",
    "end": "1072160"
  },
  {
    "text": "to talk about it but fortunately I have",
    "start": "1072160",
    "end": "1073880"
  },
  {
    "text": "a whole talk dedicated to this tomorrow",
    "start": "1073880",
    "end": "1075880"
  },
  {
    "text": "so if you're interested uh come find me",
    "start": "1075880",
    "end": "1079840"
  },
  {
    "text": "in some room that I didn't put on there",
    "start": "1079840",
    "end": "1081919"
  },
  {
    "text": "but you can check out the talk uh",
    "start": "1081919",
    "end": "1084200"
  },
  {
    "text": "building better controllers",
    "start": "1084200",
    "end": "1086400"
  },
  {
    "text": "tomorrow all right so if we if we look",
    "start": "1086400",
    "end": "1089159"
  },
  {
    "text": "at this holistically what's the actual",
    "start": "1089159",
    "end": "1091000"
  },
  {
    "text": "benefit here right are we talking you",
    "start": "1091000",
    "end": "1092760"
  },
  {
    "text": "know 1% savings what's what's",
    "start": "1092760",
    "end": "1095640"
  },
  {
    "text": "happening uh you know any any scaling",
    "start": "1095640",
    "end": "1099559"
  },
  {
    "text": "Benchmark statistics you can lie quite a",
    "start": "1099559",
    "end": "1101600"
  },
  {
    "text": "bit so I like to lead with the the",
    "start": "1101600",
    "end": "1103960"
  },
  {
    "text": "extremely deceptive numbers okay this is",
    "start": "1103960",
    "end": "1106640"
  },
  {
    "text": "not realistic I just full avat if we",
    "start": "1106640",
    "end": "1109720"
  },
  {
    "text": "just compare a giant cluster though with",
    "start": "1109720",
    "end": "1112720"
  },
  {
    "text": "Z tunnels versus side",
    "start": "1112720",
    "end": "1114440"
  },
  {
    "text": "cars and this is a real test that I did",
    "start": "1114440",
    "end": "1116880"
  },
  {
    "text": "it's not just extrapolated numbers we",
    "start": "1116880",
    "end": "1119520"
  },
  {
    "text": "can see each Envoy is going to use 4 gab",
    "start": "1119520",
    "end": "1122400"
  },
  {
    "text": "of ram to hold all the configuration",
    "start": "1122400",
    "end": "1125039"
  },
  {
    "text": "while Z tunnel needs only about 75",
    "start": "1125039",
    "end": "1127080"
  },
  {
    "text": "megabytes so if we you know total this",
    "start": "1127080",
    "end": "1129640"
  },
  {
    "text": "up across the cluster the side cars take",
    "start": "1129640",
    "end": "1131600"
  },
  {
    "text": "150 terabytes of RAM and Z tunnels only",
    "start": "1131600",
    "end": "1135679"
  },
  {
    "text": "need 12 so that's what 13,000 times in",
    "start": "1135679",
    "end": "1138360"
  },
  {
    "text": "Improvement this is like buying a dinner",
    "start": "1138360",
    "end": "1140480"
  },
  {
    "text": "versus buying a a house in terms of the",
    "start": "1140480",
    "end": "1143159"
  },
  {
    "text": "cost of ram per month now the thing is",
    "start": "1143159",
    "end": "1145799"
  },
  {
    "text": "this isn't quite accurate right no one",
    "start": "1145799",
    "end": "1147760"
  },
  {
    "text": "in production is running side cars that",
    "start": "1147760",
    "end": "1149760"
  },
  {
    "text": "take four gigabytes of RAM right we have",
    "start": "1149760",
    "end": "1152280"
  },
  {
    "text": "a lot of knobs in EO that you can",
    "start": "1152280",
    "end": "1154120"
  },
  {
    "text": "optimize the resource footprint of side",
    "start": "1154120",
    "end": "1156799"
  },
  {
    "text": "cars um however you have to go do that",
    "start": "1156799",
    "end": "1160120"
  },
  {
    "text": "right Z tunnel doesn't require any of",
    "start": "1160120",
    "end": "1162720"
  },
  {
    "text": "this configuration right it's scalable",
    "start": "1162720",
    "end": "1164640"
  },
  {
    "text": "out of the box the other thing that",
    "start": "1164640",
    "end": "1167159"
  },
  {
    "text": "makes us wildly unfair is that we're",
    "start": "1167159",
    "end": "1169120"
  },
  {
    "text": "comparing Z tunnel to side cars side",
    "start": "1169120",
    "end": "1171480"
  },
  {
    "text": "cars are this fully functional service",
    "start": "1171480",
    "end": "1174039"
  },
  {
    "text": "mesh proxy right Z tunnels only have",
    "start": "1174039",
    "end": "1176919"
  },
  {
    "text": "quite a small",
    "start": "1176919",
    "end": "1178000"
  },
  {
    "text": "scope however if you are only using the",
    "start": "1178000",
    "end": "1181080"
  },
  {
    "text": "small scope that Z tunnel provides maybe",
    "start": "1181080",
    "end": "1182919"
  },
  {
    "text": "it is a fair comparison right maybe",
    "start": "1182919",
    "end": "1184679"
  },
  {
    "text": "you're paying for more resources than",
    "start": "1184679",
    "end": "1186799"
  },
  {
    "text": "you need because the side cars are",
    "start": "1186799",
    "end": "1188720"
  },
  {
    "text": "giving you more functionality than than",
    "start": "1188720",
    "end": "1190240"
  },
  {
    "text": "you need so one of the nice things about",
    "start": "1190240",
    "end": "1192440"
  },
  {
    "text": "ambient is that you can pick and choose",
    "start": "1192440",
    "end": "1194679"
  },
  {
    "text": "you know maybe for some Services maybe",
    "start": "1194679",
    "end": "1197000"
  },
  {
    "text": "most Services I only need MTS I only",
    "start": "1197000",
    "end": "1199159"
  },
  {
    "text": "need the Z tunnel which is very cheap",
    "start": "1199159",
    "end": "1201440"
  },
  {
    "text": "but some other services I want some rich",
    "start": "1201440",
    "end": "1203120"
  },
  {
    "text": "HTP functionality so I can enable the",
    "start": "1203120",
    "end": "1205360"
  },
  {
    "text": "Waypoint on those ones only you don't",
    "start": "1205360",
    "end": "1207600"
  },
  {
    "text": "really have that option in side cars",
    "start": "1207600",
    "end": "1209400"
  },
  {
    "text": "it's kind of all or nothing and you",
    "start": "1209400",
    "end": "1211240"
  },
  {
    "text": "really need the entire mesh or the",
    "start": "1211240",
    "end": "1213080"
  },
  {
    "text": "entire cluster to be in the mesh to get",
    "start": "1213080",
    "end": "1214760"
  },
  {
    "text": "the full benefits so with the ambient",
    "start": "1214760",
    "end": "1217000"
  },
  {
    "text": "one of the nice things is you kind of",
    "start": "1217000",
    "end": "1218159"
  },
  {
    "text": "get a pick and choose how you",
    "start": "1218159",
    "end": "1220760"
  },
  {
    "text": "scale so the the deceptive numbers are",
    "start": "1220760",
    "end": "1223679"
  },
  {
    "text": "fun uh but a more realistic model would",
    "start": "1223679",
    "end": "1226000"
  },
  {
    "text": "look kind of like this um believe this",
    "start": "1226000",
    "end": "1228640"
  },
  {
    "text": "was a test we did running a bunch of the",
    "start": "1228640",
    "end": "1230360"
  },
  {
    "text": "demo apps book info uh you know some of",
    "start": "1230360",
    "end": "1233159"
  },
  {
    "text": "the other ones a couple replicas of this",
    "start": "1233159",
    "end": "1235520"
  },
  {
    "text": "so we had about 160 pods I'm not sure",
    "start": "1235520",
    "end": "1238520"
  },
  {
    "text": "how many services probably 20 services",
    "start": "1238520",
    "end": "1240400"
  },
  {
    "text": "or so the envoys were using about 40",
    "start": "1240400",
    "end": "1243159"
  },
  {
    "text": "megabytes of ram each pretty reasonable",
    "start": "1243159",
    "end": "1245799"
  },
  {
    "text": "standard number totaling 6 gigb uh Z",
    "start": "1245799",
    "end": "1249280"
  },
  {
    "text": "tunnels quite small three of them only",
    "start": "1249280",
    "end": "1251480"
  },
  {
    "text": "15 megabytes and then waypoints like I",
    "start": "1251480",
    "end": "1254600"
  },
  {
    "text": "said they have a very similar set of",
    "start": "1254600",
    "end": "1256120"
  },
  {
    "text": "configuration as a side car so at this",
    "start": "1256120",
    "end": "1258480"
  },
  {
    "text": "small scale they look quite a bit like",
    "start": "1258480",
    "end": "1260400"
  },
  {
    "text": "the side cars uh but we do have less of",
    "start": "1260400",
    "end": "1262679"
  },
  {
    "text": "them because they're not one per",
    "start": "1262679",
    "end": "1263799"
  },
  {
    "text": "workload right they're per name space so",
    "start": "1263799",
    "end": "1266480"
  },
  {
    "text": "overall in most tests we're doing in",
    "start": "1266480",
    "end": "1269559"
  },
  {
    "text": "comparing sidecar cost to ambient we're",
    "start": "1269559",
    "end": "1271400"
  },
  {
    "text": "seeing somewhere on the range of 90 to",
    "start": "1271400",
    "end": "1273080"
  },
  {
    "text": "99% resource savings um so is it this",
    "start": "1273080",
    "end": "1277240"
  },
  {
    "text": "really fun house vers dinner comparison",
    "start": "1277240",
    "end": "1280000"
  },
  {
    "text": "probably not but 90 to 99% is i' would",
    "start": "1280000",
    "end": "1283200"
  },
  {
    "text": "say nothing to scoff",
    "start": "1283200",
    "end": "1286080"
  },
  {
    "text": "at so if we move kind of Beyond where we",
    "start": "1286159",
    "end": "1290480"
  },
  {
    "text": "are today like",
    "start": "1290480",
    "end": "1292120"
  },
  {
    "text": "99% it's nice but can we do better right",
    "start": "1292120",
    "end": "1295760"
  },
  {
    "text": "what about",
    "start": "1295760",
    "end": "1297039"
  },
  {
    "text": "100% so the architecture today looks",
    "start": "1297039",
    "end": "1300120"
  },
  {
    "text": "something like this right we have the",
    "start": "1300120",
    "end": "1302400"
  },
  {
    "text": "per node Z tunnel and the per namespace",
    "start": "1302400",
    "end": "1305080"
  },
  {
    "text": "Waypoint proxies but you'll notice here",
    "start": "1305080",
    "end": "1308440"
  },
  {
    "text": "we actually have two node networking",
    "start": "1308440",
    "end": "1311120"
  },
  {
    "text": "components you might actually have three",
    "start": "1311120",
    "end": "1313000"
  },
  {
    "text": "node networking components if you have Z",
    "start": "1313000",
    "end": "1314640"
  },
  {
    "text": "tunnel Cube proxy and then your network",
    "start": "1314640",
    "end": "1317159"
  },
  {
    "text": "policy C an i like Calico or celium or",
    "start": "1317159",
    "end": "1319440"
  },
  {
    "text": "something else right all of these things",
    "start": "1319440",
    "end": "1322000"
  },
  {
    "text": "are doing very very overlapping",
    "start": "1322000",
    "end": "1324679"
  },
  {
    "text": "responsibilities they have a lot of the",
    "start": "1324679",
    "end": "1326159"
  },
  {
    "text": "same features they need a lot of the",
    "start": "1326159",
    "end": "1327679"
  },
  {
    "text": "same configuration so when we're talking",
    "start": "1327679",
    "end": "1330200"
  },
  {
    "text": "about sending all this data for all",
    "start": "1330200",
    "end": "1331799"
  },
  {
    "text": "these pods and all this workloads to Z",
    "start": "1331799",
    "end": "1334200"
  },
  {
    "text": "tunnel we may also be sending it just to",
    "start": "1334200",
    "end": "1336559"
  },
  {
    "text": "another pod right next to it on the same",
    "start": "1336559",
    "end": "1338440"
  },
  {
    "text": "node",
    "start": "1338440",
    "end": "1339799"
  },
  {
    "text": "right so the where I see the future is",
    "start": "1339799",
    "end": "1343559"
  },
  {
    "text": "in kind of collapsing some of these",
    "start": "1343559",
    "end": "1345559"
  },
  {
    "text": "building the functionality of Z tunnel",
    "start": "1345559",
    "end": "1347600"
  },
  {
    "text": "into to enhanced cnis is what we I I",
    "start": "1347600",
    "end": "1351120"
  },
  {
    "text": "tend to call them so this way the",
    "start": "1351120",
    "end": "1353400"
  },
  {
    "text": "overhead of Z tunnel can be amortized",
    "start": "1353400",
    "end": "1356120"
  },
  {
    "text": "into the existing node networking cost",
    "start": "1356120",
    "end": "1358880"
  },
  {
    "text": "right so the overhead in terms of",
    "start": "1358880",
    "end": "1361320"
  },
  {
    "text": "configuration is essentially zero",
    "start": "1361320",
    "end": "1363400"
  },
  {
    "text": "overhead because the configuration is",
    "start": "1363400",
    "end": "1365000"
  },
  {
    "text": "already there on each node we just need",
    "start": "1365000",
    "end": "1367080"
  },
  {
    "text": "to upgrade those uh products with",
    "start": "1367080",
    "end": "1369240"
  },
  {
    "text": "capabilities that Z tunnel gives I will",
    "start": "1369240",
    "end": "1372080"
  },
  {
    "text": "caveat that here I'm talking about the",
    "start": "1372080",
    "end": "1373600"
  },
  {
    "text": "resource footprint of the configuration",
    "start": "1373600",
    "end": "1376120"
  },
  {
    "text": "Z tunnel is adding TLS TLS is not free",
    "start": "1376120",
    "end": "1379840"
  },
  {
    "text": "uh but it has you know kind of extensive",
    "start": "1379840",
    "end": "1381880"
  },
  {
    "text": "history of optimization and and cost",
    "start": "1381880",
    "end": "1383840"
  },
  {
    "text": "management for that and in most cases",
    "start": "1383840",
    "end": "1386159"
  },
  {
    "text": "this would be replacing you know maybe a",
    "start": "1386159",
    "end": "1388039"
  },
  {
    "text": "lower level networking security like",
    "start": "1388039",
    "end": "1389760"
  },
  {
    "text": "wire guard or IPC which has similar if",
    "start": "1389760",
    "end": "1391960"
  },
  {
    "text": "not higher cost than",
    "start": "1391960",
    "end": "1393679"
  },
  {
    "text": "mtls um the other thing we can do with",
    "start": "1393679",
    "end": "1396320"
  },
  {
    "text": "waypoints that's new is they don't need",
    "start": "1396320",
    "end": "1398760"
  },
  {
    "text": "to run in the cluster right they can run",
    "start": "1398760",
    "end": "1401080"
  },
  {
    "text": "out of the cluster if that's easier to",
    "start": "1401080",
    "end": "1402760"
  },
  {
    "text": "manage or if you have a managed uh you",
    "start": "1402760",
    "end": "1406720"
  },
  {
    "text": "know load balancer they could",
    "start": "1406720",
    "end": "1408240"
  },
  {
    "text": "potentially run there they could",
    "start": "1408240",
    "end": "1410000"
  },
  {
    "text": "potentially be shared in different ways",
    "start": "1410000",
    "end": "1411840"
  },
  {
    "text": "than sidecars right we have a lot more",
    "start": "1411840",
    "end": "1413240"
  },
  {
    "text": "flexibility on how we deploy waypoints",
    "start": "1413240",
    "end": "1416320"
  },
  {
    "text": "um so there's a lot of opportunities",
    "start": "1416320",
    "end": "1418039"
  },
  {
    "text": "there as well to reduce the cost so",
    "start": "1418039",
    "end": "1420520"
  },
  {
    "text": "overall I think while ambient mesh today",
    "start": "1420520",
    "end": "1423559"
  },
  {
    "text": "is a huge step forward in scaling we can",
    "start": "1423559",
    "end": "1426640"
  },
  {
    "text": "even go further and make it so that EO",
    "start": "1426640",
    "end": "1429120"
  },
  {
    "text": "is kind of an obvious choice right you",
    "start": "1429120",
    "end": "1431080"
  },
  {
    "text": "don't need to think is it worth the the",
    "start": "1431080",
    "end": "1433120"
  },
  {
    "text": "cost of course it's worth the cost the",
    "start": "1433120",
    "end": "1434919"
  },
  {
    "text": "cost is almost zero right and then you",
    "start": "1434919",
    "end": "1437279"
  },
  {
    "text": "can increment add more and more features",
    "start": "1437279",
    "end": "1439440"
  },
  {
    "text": "and only pay the cost of those features",
    "start": "1439440",
    "end": "1441080"
  },
  {
    "text": "you're using right you don't have to",
    "start": "1441080",
    "end": "1442360"
  },
  {
    "text": "consume all the cost of EO just to get",
    "start": "1442360",
    "end": "1444720"
  },
  {
    "text": "mtls you can start there gradually work",
    "start": "1444720",
    "end": "1447360"
  },
  {
    "text": "your way up for important services that",
    "start": "1447360",
    "end": "1449000"
  },
  {
    "text": "you want more functionality for and",
    "start": "1449000",
    "end": "1450760"
  },
  {
    "text": "slowly expand your mesh so I'm hoping",
    "start": "1450760",
    "end": "1454159"
  },
  {
    "text": "that with all these changes combined",
    "start": "1454159",
    "end": "1455600"
  },
  {
    "text": "we'll see EO deployed at much greater",
    "start": "1455600",
    "end": "1457640"
  },
  {
    "text": "scales next time I'm not starting at a",
    "start": "1457640",
    "end": "1459840"
  },
  {
    "text": "th000 pods when I ask you all I'm",
    "start": "1459840",
    "end": "1461320"
  },
  {
    "text": "starting at 100,000 pods and I want to",
    "start": "1461320",
    "end": "1463159"
  },
  {
    "text": "see some hands next year so thank you",
    "start": "1463159",
    "end": "1465520"
  },
  {
    "text": "everyone",
    "start": "1465520",
    "end": "1468120"
  }
]