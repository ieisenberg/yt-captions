[
  {
    "text": "my name is Keith this is Leor and we're gonna be talking to you today about moving towards a standardized identity",
    "start": "80",
    "end": "6080"
  },
  {
    "text": "based authorization policy within Kubernetes uh it's a big mouthful but hopefully by the time we're done you",
    "start": "6080",
    "end": "11599"
  },
  {
    "text": "should uh understand what all those things mean maybe even have an opinion about it uh so let's start from the very",
    "start": "11599",
    "end": "17600"
  },
  {
    "text": "beginning i hear that's a great place to start um so when you talk about policy",
    "start": "17600",
    "end": "24160"
  },
  {
    "text": "you're probably wondering why should I care some of you may be wondering why should I care um and the way I like to",
    "start": "24160",
    "end": "29519"
  },
  {
    "text": "think about this is that we're very used to thinking about policy happening at the edge of our system um think about",
    "start": "29519",
    "end": "36640"
  },
  {
    "text": "things like DOS attacks uh or AI scrapers or persistent threat actors",
    "start": "36640",
    "end": "41840"
  },
  {
    "text": "those are typically scenarios where somebody on the outside is doing their best to um get on get into the inside of",
    "start": "41840",
    "end": "50480"
  },
  {
    "text": "your system yes okay wonderful so as I was saying typically we think about policy at the edge of our system and",
    "start": "50480",
    "end": "57520"
  },
  {
    "text": "every organization is going to deploy a myriad of software uh and fancy acronyms in order to try to deal with those",
    "start": "57520",
    "end": "63680"
  },
  {
    "text": "threats um if you who in here has heard of a web application firewall or a WF raise your hand right uh what about keep",
    "start": "63680",
    "end": "71040"
  },
  {
    "text": "a raise if you've heard of SSO single sign on um you can be you can put your",
    "start": "71040",
    "end": "76479"
  },
  {
    "text": "hands down now like J uh bot detection or jot uh verification these are all fairly common practices that you see in",
    "start": "76479",
    "end": "83439"
  },
  {
    "text": "just about any system that lives on the internet and all of these have some form",
    "start": "83439",
    "end": "88720"
  },
  {
    "text": "of policy uh that keep your cluster keep your system safe from outside threats um",
    "start": "88720",
    "end": "93920"
  },
  {
    "text": "and so as we sort of move to this conversation of identity policy it helps to generalize and understand what all",
    "start": "93920",
    "end": "100960"
  },
  {
    "text": "these solutions have in common and this is where we get to our definition of policy in one simple sentence at a high",
    "start": "100960",
    "end": "107439"
  },
  {
    "text": "level access policies define what actions a given entity can perform under",
    "start": "107439",
    "end": "112799"
  },
  {
    "text": "specific conditions and for the rest of uh my time I'm talking right now uh we're going to be talking about the",
    "start": "112799",
    "end": "118799"
  },
  {
    "text": "entity part specifically and breaking down the different scenarios that you can run into and so in any system again",
    "start": "118799",
    "end": "125840"
  },
  {
    "text": "going back to our general look at at software and computing you can do authorization and access policy both at",
    "start": "125840",
    "end": "132400"
  },
  {
    "text": "the boundaries of your system as well as within the boundaries of your system and",
    "start": "132400",
    "end": "138640"
  },
  {
    "text": "it's not super intuitive but actually some of the most harmful exploits the most impactful security vulnerabilities",
    "start": "138640",
    "end": "145200"
  },
  {
    "text": "actually happen within your system and so it's interesting we spend a lot of time talking about SSO uh web",
    "start": "145200",
    "end": "152640"
  },
  {
    "text": "application firewalls all those sorts of things happening at the edge of our system it's also important to look at what hap what's happening within our",
    "start": "152640",
    "end": "158800"
  },
  {
    "text": "system think about if if you have a disgruntled employee who tries to you",
    "start": "158800",
    "end": "164080"
  },
  {
    "text": "know spend their time ruining the company or you have an ex-contractor who leverages access that should have been",
    "start": "164080",
    "end": "169599"
  },
  {
    "text": "revoked uh confused deputy attacks uh stateful sessions with delayed revocation all these scenarios are all",
    "start": "169599",
    "end": "176160"
  },
  {
    "text": "uh situations that can really harm an organization and they and they originate from within a trusted entity inside of",
    "start": "176160",
    "end": "182560"
  },
  {
    "text": "your system these sort of scenarios are exactly why things like defense and depth and zero trust philosophies",
    "start": "182560",
    "end": "189360"
  },
  {
    "text": "sprouted up um they're meant to prevent these sorts of um vulnerabilities from",
    "start": "189360",
    "end": "194560"
  },
  {
    "text": "from escalating uh the idea behind this is that you don't assume uh rather that you do assume that all the previous",
    "start": "194560",
    "end": "201360"
  },
  {
    "text": "layers of your security fail so you create your security posture as a as a series of layers as opposed to just one",
    "start": "201360",
    "end": "208400"
  },
  {
    "text": "specific enforcement mechanism you also try to reduce u any sort of um you know",
    "start": "208400",
    "end": "214799"
  },
  {
    "text": "have no universally trusted machine or no super user or god mode those sorts of things only give each entity the access",
    "start": "214799",
    "end": "222239"
  },
  {
    "text": "and permission that they need uh if your policy is restricted to just the boundaries of your system you're really",
    "start": "222239",
    "end": "227920"
  },
  {
    "text": "leaving yourself open to uh very critical exploits and so if you're from a network",
    "start": "227920",
    "end": "235040"
  },
  {
    "text": "background these terms might make sense but in case you're not um when we talk about traffic flowing within the system",
    "start": "235040",
    "end": "240159"
  },
  {
    "text": "we call that east west traffic it moves from service to service one side to the other whereas you have traffic that's",
    "start": "240159",
    "end": "246959"
  },
  {
    "text": "entering or leaving your system we call that north to south and so similarly authorization policy that happens within",
    "start": "246959",
    "end": "253280"
  },
  {
    "text": "your system we're going to call that east west authorization when you break this down and again this is the this is",
    "start": "253280",
    "end": "259280"
  },
  {
    "text": "the policy happening within your system there's actually a lot of common characteristics that we can that we can",
    "start": "259280",
    "end": "264639"
  },
  {
    "text": "take when we're thinking about these scenarios for one the entity in question is usually a machine instead of a human",
    "start": "264639",
    "end": "271160"
  },
  {
    "text": "being accesses per transaction uh you typically going to need multiple things enforcing your policy as opposed to just",
    "start": "271160",
    "end": "277759"
  },
  {
    "text": "a single layer a single instance of policy happening at the edges of your system uh Kubernetes is a very powerful",
    "start": "277759",
    "end": "285600"
  },
  {
    "text": "very common system u and so it falls in this category as well and so because",
    "start": "285600",
    "end": "291919"
  },
  {
    "text": "Kubernetes is a declarative system users come to Kubernetes wanting to make declarative statements about the access",
    "start": "291919",
    "end": "298000"
  },
  {
    "text": "control in their system you've probably heard of you know users saying something like \"My service fu should only be able",
    "start": "298000",
    "end": "303840"
  },
  {
    "text": "to talk to service bar but I only want that to happen on port 80 or something like that.\" Uh and most the most",
    "start": "303840",
    "end": "310000"
  },
  {
    "text": "security conscious users want this to be additive in nature and so we often see that happen in a default deny posture",
    "start": "310000",
    "end": "316400"
  },
  {
    "text": "and then you add one by one the layers of the things that are allowed to talk to one another now Leo is going to talk",
    "start": "316400",
    "end": "323919"
  },
  {
    "text": "to us about more what Kubernetes has to offer specifically in this area right so",
    "start": "323919",
    "end": "328960"
  },
  {
    "text": "you know what Kubernetes offers us today um let's do a quick rundown for you know",
    "start": "328960",
    "end": "334320"
  },
  {
    "text": "things that probably most of us are already familiar with starting with network policy v1 right this is how we",
    "start": "334320",
    "end": "339680"
  },
  {
    "text": "do it within kubernetes you know uh this API lets app owners control uh traffic",
    "start": "339680",
    "end": "345759"
  },
  {
    "text": "from and um tutor cluster we can see the egress and egress there um the sources",
    "start": "345759",
    "end": "351520"
  },
  {
    "text": "and destination entities are usually in form of IPs or some abstractions on top of IPs whether it's IP blocks whether",
    "start": "351520",
    "end": "358800"
  },
  {
    "text": "it's label selector all you know are just obstructions as I said um it's uh a",
    "start": "358800",
    "end": "364639"
  },
  {
    "text": "namespace scope policy um means um usually we expect the app developer uh",
    "start": "364639",
    "end": "370479"
  },
  {
    "text": "to control there and it's installed by kubernetes by default it requires network plug-in imple implementation",
    "start": "370479",
    "end": "376560"
  },
  {
    "text": "which um we often call CNI um and it's stable for I think almost uh seven years",
    "start": "376560",
    "end": "382720"
  },
  {
    "text": "or a little bit more than over over seven years now Um and this comes with you know a few",
    "start": "382720",
    "end": "389039"
  },
  {
    "text": "gaps right like um there is an implicit deny for first um you just define what",
    "start": "389039",
    "end": "395600"
  },
  {
    "text": "you can allow and you have no option to define deny policies means that everything you're not allow implicitly",
    "start": "395600",
    "end": "402240"
  },
  {
    "text": "uh denied and this has been source of confusion for um um many users right now",
    "start": "402240",
    "end": "408560"
  },
  {
    "text": "um there's no support for cluster admins um so policies are named in scope there's no way to define strong and",
    "start": "408560",
    "end": "414080"
  },
  {
    "text": "higher priority policies policies entities are on the IP level not identity and within Kubernetes um",
    "start": "414080",
    "end": "421840"
  },
  {
    "text": "IPs are ephemeral uh workload owners as well do not usually interact with APs they just get it it's get assigned to",
    "start": "421840",
    "end": "427360"
  },
  {
    "text": "their workloads and security policies should ideally be tied to identities and",
    "start": "427360",
    "end": "432720"
  },
  {
    "text": "not to IPs and we're going to talk a little bit more about it later and lastly it's uh there's some issues with",
    "start": "432720",
    "end": "438720"
  },
  {
    "text": "scalability when we talk about especially label selectors as a source when we talk about like tying and",
    "start": "438720",
    "end": "443840"
  },
  {
    "text": "catching all the APs And there is issues with eventual consistency that and especially where this eventual",
    "start": "443840",
    "end": "449759"
  },
  {
    "text": "consistency can lead to permissiveness now some of the smart folks here um came up with uh admin policy based on our",
    "start": "449759",
    "end": "456960"
  },
  {
    "text": "policy uh which is solving some of these problems um by introducing cluster scope",
    "start": "456960",
    "end": "463120"
  },
  {
    "text": "policies and these cluster scope policies can let you enforce mandatory and non-overall policy for your tenants",
    "start": "463120",
    "end": "468639"
  },
  {
    "text": "or users and similarly you can enforce you know tenant isolation um or you can",
    "start": "468639",
    "end": "474400"
  },
  {
    "text": "even delegate traffic to your app developers to do with network policies um there is added support for",
    "start": "474400",
    "end": "481039"
  },
  {
    "text": "deny rules and priorities which is increasingly useful and um one thing to",
    "start": "481039",
    "end": "486960"
  },
  {
    "text": "note the sources and destination entities has the same semantics as network policies there are still um",
    "start": "486960",
    "end": "492560"
  },
  {
    "text": "abstractions on top of IPs and two more facts um it's out of three API for those",
    "start": "492560",
    "end": "497680"
  },
  {
    "text": "who are not familiar with it um so um it's a CRD requires CD installation um",
    "start": "497680",
    "end": "502879"
  },
  {
    "text": "and it also uh is implemented by the network plug-in implementation now this is just how it",
    "start": "502879",
    "end": "508400"
  },
  {
    "text": "looks like as You know one quick overview like the order of evaluation we have admin network policy if there is no",
    "start": "508400",
    "end": "513599"
  },
  {
    "text": "match or there is a pass rule which means delegate to network policy that's where network policy comes to the",
    "start": "513599",
    "end": "518640"
  },
  {
    "text": "picture that's the app developer define what they need um and if there's no matching network policy that's where",
    "start": "518640",
    "end": "523760"
  },
  {
    "text": "based on network policy the ability to define cluster default to align with the zero trust model with all the security",
    "start": "523760",
    "end": "529920"
  },
  {
    "text": "postures u you know the community is uh trying to achieve uh that's where you define that now we solve the two um the",
    "start": "529920",
    "end": "538560"
  },
  {
    "text": "two first problems right like we we have an ability to uh uh to define um deny",
    "start": "538560",
    "end": "544880"
  },
  {
    "text": "policies uh we have the ability to support cluster admin operations but the the policy entities are still on the IP",
    "start": "544880",
    "end": "552000"
  },
  {
    "text": "level um and not identities and you know the scalability and consistency is still",
    "start": "552000",
    "end": "557200"
  },
  {
    "text": "there because of that and there is also slightly increased complexity right because we have um we have priorities",
    "start": "557200",
    "end": "564000"
  },
  {
    "text": "and the discoverability is challenging now there is a lot of good tooling uh which the the signal API community have",
    "start": "564000",
    "end": "570399"
  },
  {
    "text": "worked for but same with every network policy attachment it's pretty hard to kind of define and understand uh what",
    "start": "570399",
    "end": "576240"
  },
  {
    "text": "policies effective for my workload at any given point now just to recap and like kind of",
    "start": "576240",
    "end": "581920"
  },
  {
    "text": "lead me to the the the next bullet so the Kubernetes network policy entities are usually again label sectors name",
    "start": "581920",
    "end": "587920"
  },
  {
    "text": "spaces nodes cers and all our forms of IP abstractions and what are the challenges",
    "start": "587920",
    "end": "593600"
  },
  {
    "text": "with this model what are the challenges with us translating things to IPs and and and relying on that um so as we said",
    "start": "593600",
    "end": "600640"
  },
  {
    "text": "scalability right um uh label selectors produce subset of pot and the ingress",
    "start": "600640",
    "end": "606160"
  },
  {
    "text": "and ingress rules define access control between those you know subsets now this",
    "start": "606160",
    "end": "611440"
  },
  {
    "text": "is uh where things get complicated this is a pretty pretty hard thing to scale on very expensive queries especially",
    "start": "611440",
    "end": "618160"
  },
  {
    "text": "especially when you define when you use this label selector as a form of like a source so trying to compute that um and",
    "start": "618160",
    "end": "626480"
  },
  {
    "text": "uh codify basically a good data plane um um that is doing it correctly it's",
    "start": "626480",
    "end": "632560"
  },
  {
    "text": "pretty uh hard to maintain and scalable and often times it's you know uh eventual consistent right because um um",
    "start": "632560",
    "end": "641200"
  },
  {
    "text": "and eventual consistency before I even like get to talk about it right eventual consistency is often assumed kubernetes environments so it makes you feel okay",
    "start": "641200",
    "end": "647920"
  },
  {
    "text": "this is fine um but as I said doing all these queries tracking all the corresponding IPs and uh appending the",
    "start": "647920",
    "end": "654399"
  },
  {
    "text": "rules you know been proved to be very hard to scale but the real risk is associated where um um you know where",
    "start": "654399",
    "end": "662720"
  },
  {
    "text": "where where this eventual consistency can lead to permissiveness and we had cases uh in the past where where it",
    "start": "662720",
    "end": "669279"
  },
  {
    "text": "happened so we as the community we feel the obligation to say hey maybe we could improve on that and um and make sure uh",
    "start": "669279",
    "end": "676640"
  },
  {
    "text": "we we're providing better UX for users now lastly and kind of entering more to the model we're proposing and the model",
    "start": "676640",
    "end": "683040"
  },
  {
    "text": "we're hoping to get i want to quote John Howard um which is not here today uh but",
    "start": "683040",
    "end": "688640"
  },
  {
    "text": "John is basically comparing this problem to a security checkpoint where an officer checks for employees and John is",
    "start": "688640",
    "end": "695279"
  },
  {
    "text": "saying that the strengths of this checkpoint vary substantially based on how we identify employees whether it's a",
    "start": "695279",
    "end": "700959"
  },
  {
    "text": "badge whether it's a company t-shirt whether a fingerprint scan all will produce a widely different outcomes and",
    "start": "700959",
    "end": "707920"
  },
  {
    "text": "the same applies to network policies and um I'm going to let Kit walk us through uh the the the model we're proposing",
    "start": "707920",
    "end": "715360"
  },
  {
    "text": "what we're hoping to get uh with identity based policy model yeah so we've kind of buried the lead a little",
    "start": "715360",
    "end": "721920"
  },
  {
    "text": "bit on this so kind of apologies for that this first part of the presentation has been sort of just catching everybody",
    "start": "721920",
    "end": "727760"
  },
  {
    "text": "up to date on what exists in the in the ecosystem today um the reason we're doing this presentation is because we",
    "start": "727760",
    "end": "733600"
  },
  {
    "text": "believe that Kubernetes needs a network policy or a a a networkbased policy um",
    "start": "733600",
    "end": "739920"
  },
  {
    "text": "that can work with identities um and so as we were mentioned there's a lot of",
    "start": "739920",
    "end": "746079"
  },
  {
    "text": "good properties uh that identities provide uh and so the rest of our time",
    "start": "746079",
    "end": "751440"
  },
  {
    "text": "um we're going to try to get finished a little bit early so there time for questions the rest of our time we want to spend talking about the",
    "start": "751440",
    "end": "757279"
  },
  {
    "text": "considerations for building such a policy API um and what are the trade-offs and things we need to keep in",
    "start": "757279",
    "end": "763000"
  },
  {
    "text": "mind so these four questions are are not exhaustive but there are four really key",
    "start": "763000",
    "end": "768800"
  },
  {
    "text": "questions that we need to be able to answer in order to build a a workable identity based policy API um and ideally",
    "start": "768800",
    "end": "777279"
  },
  {
    "text": "uh we need to answer this question for every single workload in our system and the answer for for these questions",
    "start": "777279",
    "end": "783519"
  },
  {
    "text": "should be the same the same for every workload in our system in order for it to actually be feasible and so the first",
    "start": "783519",
    "end": "789760"
  },
  {
    "text": "question is where do we derive that entity given a workload what",
    "start": "789760",
    "end": "795040"
  },
  {
    "text": "characteristic does it have uh and and what characteristic can we use to create",
    "start": "795040",
    "end": "800079"
  },
  {
    "text": "that identity um if you think about a cerius pod they've got an ungodly number",
    "start": "800079",
    "end": "805839"
  },
  {
    "text": "of fields what field do we use in order to create the identity uh because we're doing this validation",
    "start": "805839",
    "end": "812800"
  },
  {
    "text": "over a network we need to figure out how do we transmit the identity from one workload one entity to another entity",
    "start": "812800",
    "end": "820440"
  },
  {
    "text": "um the next question is sort of feeds into this uh that second question how do",
    "start": "820440",
    "end": "826160"
  },
  {
    "text": "we encode the identity so when we send it across the network in some way how do",
    "start": "826160",
    "end": "831680"
  },
  {
    "text": "you represent that identity uh how can it be read how do we get the bits onto the wire for that identity uh and then",
    "start": "831680",
    "end": "839120"
  },
  {
    "text": "finally at what layer of network encapsulation is the identity available um if you think about the different",
    "start": "839120",
    "end": "845760"
  },
  {
    "text": "layers in the network OSI model um we need to figure out where we need to transmit this identity and make that",
    "start": "845760",
    "end": "852079"
  },
  {
    "text": "information available so that things that sit on the network can use can use it so can my TCP client or server make",
    "start": "852079",
    "end": "859519"
  },
  {
    "text": "off decisions based on my identity what if my server is HTTP it's gRPC uh we",
    "start": "859519",
    "end": "865600"
  },
  {
    "text": "need to make sure that for the wide number of different kinds of workloads that run on Kubernetes the identity is",
    "start": "865600",
    "end": "870959"
  },
  {
    "text": "going to be accessible and available looking at the ecosystem helps give us some sense of prior art where",
    "start": "870959",
    "end": "877760"
  },
  {
    "text": "has this been done before and I've just got two examples there are several more but I've got two examples here uh that I",
    "start": "877760",
    "end": "882800"
  },
  {
    "text": "think sort of show the need for some standardization um Psyllium is a extremely popular um and and robust CNI",
    "start": "882800",
    "end": "890480"
  },
  {
    "text": "uh that provides some policy via the Selium network policy um CRD the way",
    "start": "890480",
    "end": "896399"
  },
  {
    "text": "this works and yes I checked with Nick Young before this session so he tells me that I'm not too far off base at least",
    "start": "896399",
    "end": "901839"
  },
  {
    "text": "um but the way that this really works at a high level is that um identity selection is done via labels so a set of",
    "start": "901839",
    "end": "908880"
  },
  {
    "text": "pot labels translates into a psyllium identity and we've got this uh this this",
    "start": "908880",
    "end": "915360"
  },
  {
    "text": "chart uh this this picture on here that shows sort of how that works at a at a high level with selium network policy",
    "start": "915360",
    "end": "921600"
  },
  {
    "text": "you can enforce traffic in both directions egress and ingress um and you can do that for each pod that is uh sort",
    "start": "921600",
    "end": "928720"
  },
  {
    "text": "of running with the selium CNI um and this implementation is a bit more performant network policy because the",
    "start": "928720",
    "end": "934560"
  },
  {
    "text": "identity spans across multiple pods so if you've got two pods with the same set of labels um that has the same",
    "start": "934560",
    "end": "941639"
  },
  {
    "text": "identity the other example here is is takes a completely different approach um",
    "start": "941639",
    "end": "947040"
  },
  {
    "text": "you've got pod identities that are onetoone with a kubernetes service account um and so the details of",
    "start": "947040",
    "end": "953199"
  },
  {
    "text": "implementation are there and I won't go through all that for the sake of time but the key thing to take away here is",
    "start": "953199",
    "end": "958880"
  },
  {
    "text": "that uh withto uh instead of a label selector or a label set rather um the",
    "start": "958880",
    "end": "964079"
  },
  {
    "text": "identity comes from a service account uh policy is also only enforced on ingress instead of egress doesn't actually have",
    "start": "964079",
    "end": "971360"
  },
  {
    "text": "any real per pod uh egress policy um and with you can simp you can write",
    "start": "971360",
    "end": "978560"
  },
  {
    "text": "allow and deny rules um for in your operation policy resource i've got an example of such a resource down in in",
    "start": "978560",
    "end": "985839"
  },
  {
    "text": "the bottom right and the the big takeaway here again there are a lot more examples we can go in a lot more detail",
    "start": "985839",
    "end": "991360"
  },
  {
    "text": "but the big thing I want you to take away here is that on just those four questions that we talked about about der",
    "start": "991360",
    "end": "997759"
  },
  {
    "text": "uh identity derivation uh transmission encoding layer is and selium have two",
    "start": "997759",
    "end": "1004000"
  },
  {
    "text": "vastly different implementations um and just getting identity between like from",
    "start": "1004000",
    "end": "1009440"
  },
  {
    "text": "selium to or vice versa is extremely difficult and there's no standardization in the ecosystem uh even just between",
    "start": "1009440",
    "end": "1016079"
  },
  {
    "text": "these two and so as we talk about how do we move toward a standard we need to think",
    "start": "1016079",
    "end": "1021920"
  },
  {
    "text": "about what identity excuse me what entities are going to be covered in our in our scope right so we in the course",
    "start": "1021920",
    "end": "1027918"
  },
  {
    "text": "of east west uh east west authorization do we need anything beyond pods in",
    "start": "1027919",
    "end": "1033120"
  },
  {
    "text": "kubernetes right that's our atomic workload unit in kubernetes Do we need anything beyond that uh right now you",
    "start": "1033120",
    "end": "1038798"
  },
  {
    "text": "see a lot of cloud providers that have some workload identity thing whether that's like IM and AWS or GCP service",
    "start": "1038799",
    "end": "1045839"
  },
  {
    "text": "accounts or um or Azure uh Azure identities etc um they all kind of work",
    "start": "1045839",
    "end": "1052799"
  },
  {
    "text": "with Kubernetes pods uh in a somewhat standard or similar way um you have pot",
    "start": "1052799",
    "end": "1059840"
  },
  {
    "text": "service accounts you got uh the namespace boundary and then pod work labels you've seen examples of all of those uh in the slide deck in our",
    "start": "1059840",
    "end": "1066799"
  },
  {
    "text": "presentation today um but there are other identity types out there you've got JWTs spiffy um does you know",
    "start": "1066799",
    "end": "1074559"
  },
  {
    "text": "certificate sits they also do JWT um identities as well uh so that's an option that's very common um OIDC for um",
    "start": "1074559",
    "end": "1083200"
  },
  {
    "text": "for login flows you often see that with like human off uh arbback roles and",
    "start": "1083200",
    "end": "1088400"
  },
  {
    "text": "groups in Kubernetes uh there are lots of different things we could target uh and that's just within sort of the CNCF",
    "start": "1088400",
    "end": "1094320"
  },
  {
    "text": "like Kubernetes ecosystem what if we start talking about VMs uh mainframes",
    "start": "1094320",
    "end": "1099520"
  },
  {
    "text": "anybody look what is our scope of entities that we need to be able to write off policy across uh that's kind",
    "start": "1099520",
    "end": "1106000"
  },
  {
    "text": "of the first question from there we need to figure out how we're going to target um those",
    "start": "1106000",
    "end": "1111679"
  },
  {
    "text": "workloads with our policies um should identity be a source should it be a target should it be both um there are",
    "start": "1111679",
    "end": "1118880"
  },
  {
    "text": "implementations out there that already leverage identities as a source force so u this thing that I'm attaching my",
    "start": "1118880",
    "end": "1125520"
  },
  {
    "text": "policy to should only accept traffic from X Y or Z identity um but even",
    "start": "1125520",
    "end": "1131760"
  },
  {
    "text": "though some of those exist pot labels remain by far the most common and prolific target usually use a label",
    "start": "1131760",
    "end": "1137840"
  },
  {
    "text": "selector in order to say that um this policy applies to uh this pod based on",
    "start": "1137840",
    "end": "1144320"
  },
  {
    "text": "label selector um potentially we could leverage uh identities as a as a target",
    "start": "1144320",
    "end": "1150080"
  },
  {
    "text": "as well so instead of saying u this set of label selectors describe what this policy belongs to maybe you say this",
    "start": "1150080",
    "end": "1156400"
  },
  {
    "text": "policy belongs to this service account or applies to this service account or this identity who knows um in this table",
    "start": "1156400",
    "end": "1164880"
  },
  {
    "text": "we've got a set of characteristics and sort of criteria that compare um identities to service accounts for for",
    "start": "1164880",
    "end": "1170480"
  },
  {
    "text": "targeting uh the big thing uh to keep in mind here as a that differentiates them",
    "start": "1170480",
    "end": "1176400"
  },
  {
    "text": "is that the attackers uh compromised pod if you've got a if you've got a uh identity as a target the attacker's",
    "start": "1176400",
    "end": "1183600"
  },
  {
    "text": "compromised pod could receive traffic it's not supposed to receive uh but it wouldn't be able to send traffic to unauthorized destinations so again don't",
    "start": "1183600",
    "end": "1192000"
  },
  {
    "text": "have um we always get a little bit into some of our some potential answers for some of these or what a API could look",
    "start": "1192000",
    "end": "1198400"
  },
  {
    "text": "like it's just meant to get your brain thinking about some of the problems in this space",
    "start": "1198400",
    "end": "1203600"
  },
  {
    "text": "right so another thing I want to mention here is um you know often when we talk about policies right we have different",
    "start": "1203600",
    "end": "1210720"
  },
  {
    "text": "layers right even in east west right doesn't matter and these different layers have different attributes and we",
    "start": "1210720",
    "end": "1216360"
  },
  {
    "text": "usually reason about it we we think we have two layers right we have the L34 and we have the L7 but in fact we really",
    "start": "1216360",
    "end": "1223360"
  },
  {
    "text": "have like three layers uh or you know the L3 L4 layer where we can get IP addresses ports protocols we have the L4",
    "start": "1223360",
    "end": "1231280"
  },
  {
    "text": "TLS layer when we can get everything from the TLS handshake um whether it's you know MTLS certificates um things",
    "start": "1231280",
    "end": "1238400"
  },
  {
    "text": "encoded index 509 certificates and we have the L7 layer right where the L7",
    "start": "1238400",
    "end": "1243840"
  },
  {
    "text": "attributes are are coming and you know headers jotss whatever um but current",
    "start": "1243840",
    "end": "1251039"
  },
  {
    "text": "like current implementations usually combine these layers and these attributes in the same CRD and often",
    "start": "1251039",
    "end": "1258880"
  },
  {
    "text": "times this they have different semantics for when the policy for example has L7",
    "start": "1258880",
    "end": "1264559"
  },
  {
    "text": "attributes but the traffic is L4 or L3 some of them slightly ignore L7 attributes uh some of them default to",
    "start": "1264559",
    "end": "1270960"
  },
  {
    "text": "deny all if they don't have access to these attributes and this is pretty confusing um uh it's been reported in a",
    "start": "1270960",
    "end": "1277440"
  },
  {
    "text": "lot of u repositories as well uh for some implementations and even more like",
    "start": "1277440",
    "end": "1283360"
  },
  {
    "text": "there's some that have different enforcement points for these different layers so as a user how do I know why my",
    "start": "1283360",
    "end": "1290720"
  },
  {
    "text": "um packet has failed like why my packet has denied where do I go to check um and",
    "start": "1290720",
    "end": "1295919"
  },
  {
    "text": "this leads to a less um clear security posture and to the question which again",
    "start": "1295919",
    "end": "1301520"
  },
  {
    "text": "I hope we still have time to show to to discuss this today um do we need separate Aussie resources for different",
    "start": "1301520",
    "end": "1307760"
  },
  {
    "text": "layers and just to kick off the discussion and I'm not going to spend any time you know going over these but",
    "start": "1307760",
    "end": "1313039"
  },
  {
    "text": "this is just a pseudo API you know like nobody has um u elaborated on this it's",
    "start": "1313039",
    "end": "1319760"
  },
  {
    "text": "just to kick off the discussion to try and get some feedback uh but this is how it could look like right on the left we",
    "start": "1319760",
    "end": "1325679"
  },
  {
    "text": "can have a network Aussie policy whatever we call that that basically targets this lower layer and on the",
    "start": "1325679",
    "end": "1331440"
  },
  {
    "text": "right we can have the app AI policy with all those you know um all these options",
    "start": "1331440",
    "end": "1336960"
  },
  {
    "text": "and I plan to elaborate a little bit more but you know again hopefully we can come back to this in the end um but this",
    "start": "1336960",
    "end": "1344000"
  },
  {
    "text": "basically leads to the question can these compose or or like even more broadly when a policy is written how the",
    "start": "1344000",
    "end": "1350159"
  },
  {
    "text": "operator knows which layer is actually enforcing it and similarly as Keith mentioned earlier if the identity is",
    "start": "1350159",
    "end": "1356080"
  },
  {
    "text": "distributed L7 how can an L4 CNI or any L4 enforcement layer can access it now",
    "start": "1356080",
    "end": "1362480"
  },
  {
    "text": "if the first layer does not have access to the identity should it reject it should it delegate it to the second",
    "start": "1362480",
    "end": "1367919"
  },
  {
    "text": "layer um similarly how do we avoid double enforcement now more of the future looking right we have some CNIs that",
    "start": "1367919",
    "end": "1374559"
  },
  {
    "text": "kind of do encryption how can the mesh see uh what it needs to apply further",
    "start": "1374559",
    "end": "1380159"
  },
  {
    "text": "authorization or even routing policy if C9 encrypts um and if the mesh is going to encrypt how can C9 ensure that the",
    "start": "1380159",
    "end": "1385919"
  },
  {
    "text": "traffic in a cluster is encrypted do we even need to be distributed so all of",
    "start": "1385919",
    "end": "1391120"
  },
  {
    "text": "these things and this is just a brief we call the composition problem and we ask yourself can these identities and",
    "start": "1391120",
    "end": "1397039"
  },
  {
    "text": "policies even compose now some of the open questions",
    "start": "1397039",
    "end": "1402760"
  },
  {
    "text": "um how do we split enforcement between CNI plugins at L34 and mesh",
    "start": "1402760",
    "end": "1408640"
  },
  {
    "text": "implementations at L4 TLS and L7 do we need a network class you know it's been",
    "start": "1408640",
    "end": "1414480"
  },
  {
    "text": "discussed um for many different reasons you know some of them being DRA recently",
    "start": "1414480",
    "end": "1420080"
  },
  {
    "text": "uh but this is also relevant maybe we have a network class and every component is in responsible for enforcing that and",
    "start": "1420080",
    "end": "1426799"
  },
  {
    "text": "this has come with you know many different uh arguments arguments for both sides now how far we can get with",
    "start": "1426799",
    "end": "1432880"
  },
  {
    "text": "service account as an identity how can we represent identities outside the cluster is spiffy a generic enough",
    "start": "1432880",
    "end": "1438159"
  },
  {
    "text": "mechanism we can all converge on what about grouping do we really want to support grouping how much interest there",
    "start": "1438159",
    "end": "1444880"
  },
  {
    "text": "is in identity as a target you know as I said most of the implementations doing pod labels today but is identity as a",
    "start": "1444880",
    "end": "1451600"
  },
  {
    "text": "target something we could actually feel uh will make uh life of users easier um",
    "start": "1451600",
    "end": "1457679"
  },
  {
    "text": "what about different authorization resources for different levels is it going to provide any meaningful improvement for users how can we make it",
    "start": "1457679",
    "end": "1464799"
  },
  {
    "text": "easy for implementations to adopt how can we leverage cap 4317 for those who like this is the pot",
    "start": "1464799",
    "end": "1472000"
  },
  {
    "text": "identities cap if you ever um u read that which basically says that Cublet is",
    "start": "1472000",
    "end": "1478240"
  },
  {
    "text": "going to issue identities um and is Cublet enough as an issuer and how can how do we even plan uh to use this",
    "start": "1478240",
    "end": "1485520"
  },
  {
    "text": "search that Cublet is us from within and from outside the cluster now last question um where does API should live",
    "start": "1485520",
    "end": "1493440"
  },
  {
    "text": "is it gateway API is it network policy API and how can these two groups kind of collaborate together now I'm not sure",
    "start": "1493440",
    "end": "1500640"
  },
  {
    "text": "how much time we we still have 4 minutes 4 minutes uh but we did uh",
    "start": "1500640",
    "end": "1506159"
  },
  {
    "text": "want to get a lot of feedback um and all these questions are you know up for for",
    "start": "1506159",
    "end": "1512960"
  },
  {
    "text": "debate and what we're hoping for is to get the work stream started out of it and and kind of work towards sanitizing",
    "start": "1512960",
    "end": "1518400"
  },
  {
    "text": "it in cube so you've got any questions about anything we've talked about mike is there so I don't know if you've thought",
    "start": "1518400",
    "end": "1525039"
  },
  {
    "text": "about this at all but after we talked about this at the last CubeCon the big problem with the TLSbased versus the",
    "start": "1525039",
    "end": "1533279"
  },
  {
    "text": "IPbased is not just that they're looking at different levels it's that the TLS-based authentication can't even",
    "start": "1533279",
    "end": "1539679"
  },
  {
    "text": "start trying to figure out if the connection is accepted or not until after the IPbased connection has already",
    "start": "1539679",
    "end": "1546000"
  },
  {
    "text": "completed and and so that that makes it very hard to you know have you thought",
    "start": "1546000",
    "end": "1551039"
  },
  {
    "text": "any more about that at all or is it still totally unsolved yeah I think u you know my perspective is I think",
    "start": "1551039",
    "end": "1558159"
  },
  {
    "text": "eventually and you know reading u we have an issue by the way that we should should have linked that has uh some",
    "start": "1558159",
    "end": "1564159"
  },
  {
    "text": "discussions from all of us that included on the network API group um I think eventually it will have to compose right",
    "start": "1564159",
    "end": "1570080"
  },
  {
    "text": "because things like admin policies they're still relevant right there's a lot of users that want it that need it",
    "start": "1570080",
    "end": "1575600"
  },
  {
    "text": "for different cases also users that are used to do like more firewall based rules and these would need to compose",
    "start": "1575600",
    "end": "1582159"
  },
  {
    "text": "but the question is okay how they are composed um whether CNI would ever have any access to any sort of identity which",
    "start": "1582159",
    "end": "1589919"
  },
  {
    "text": "is not an IP for example um you know eventually made eventually they could be",
    "start": "1589919",
    "end": "1596480"
  },
  {
    "text": "like you know CNI and mesh converge to one thing um yeah I mean it's just uh we",
    "start": "1596480",
    "end": "1603440"
  },
  {
    "text": "don't I don't have a good answer yet i think generally what I'd say is there's",
    "start": "1603440",
    "end": "1609760"
  },
  {
    "text": "no good answer there's no one great answer for the competition problem",
    "start": "1609760",
    "end": "1615240"
  },
  {
    "text": "the in order to make this work what we're going to need to find is a set of acceptable trade-offs um for groups",
    "start": "1615240",
    "end": "1622320"
  },
  {
    "text": "involved and so I think what Leor is saying around composition is going to be key because you essentially when it",
    "start": "1622320",
    "end": "1629840"
  },
  {
    "text": "comes to TLS based uh au authorization um you've got to have a some cohesion",
    "start": "1629840",
    "end": "1635840"
  },
  {
    "text": "between whatever's doing your L3 enforcement whatever's doing the TLS enforcement um",
    "start": "1635840",
    "end": "1641559"
  },
  {
    "text": "and what you know there are there there there are uh there's prior art for the",
    "start": "1641559",
    "end": "1646880"
  },
  {
    "text": "different layers communicating um but it's still largely an unsolved problem",
    "start": "1646880",
    "end": "1652159"
  },
  {
    "text": "we'd have to solve in order to get this to work i think I think it has to come from cube as well right because for",
    "start": "1652159",
    "end": "1657440"
  },
  {
    "text": "example today if you want to do default deny right and then you want to do some identity mesh so then you cannot compose",
    "start": "1657440",
    "end": "1664480"
  },
  {
    "text": "any selium or is I mean definitely lots of people want the TLS based authentication and then like ideally I",
    "start": "1664480",
    "end": "1671039"
  },
  {
    "text": "would recommend hey just do a default deny with baseline network policy or like just do a default deny posture on",
    "start": "1671039",
    "end": "1676640"
  },
  {
    "text": "the IP level and then you know the other API the L4 TLS API or the L7",
    "start": "1676640",
    "end": "1684080"
  },
  {
    "text": "can compose and allow the traffic based on that but right now because it's all different implementation nothing is",
    "start": "1684080",
    "end": "1689200"
  },
  {
    "text": "converged so well and and because the you know if you have default deny at L3 they would have to kill the connection",
    "start": "1689200",
    "end": "1695120"
  },
  {
    "text": "before you could even look at the TLS certificate so yeah okay we'll keep thinking room for room for thought yeah",
    "start": "1695120",
    "end": "1704919"
  },
  {
    "text": "I think there's lots of really good thinking going on here which is which is great to see i guess wanted to just make",
    "start": "1706720",
    "end": "1712720"
  },
  {
    "text": "a couple of observations from the kind of silly point of view one was really very much echoing what the previous",
    "start": "1712720",
    "end": "1718000"
  },
  {
    "text": "person said about you know the layers are there for a reason i think the",
    "start": "1718000",
    "end": "1723360"
  },
  {
    "text": "network layer can see what is passed down to it from from the application but it's much harder to go the other way and",
    "start": "1723360",
    "end": "1728960"
  },
  {
    "text": "have a an application layer thing understand what's happening at the network layer i guess the second thing",
    "start": "1728960",
    "end": "1734799"
  },
  {
    "text": "to point out is not all traffic is TCP and you know things like TLS if you're",
    "start": "1734799",
    "end": "1742000"
  },
  {
    "text": "going to do MTLS you can only really do that over TCP we did some funky things",
    "start": "1742000",
    "end": "1747120"
  },
  {
    "text": "with Psyllium to allow to do the handshake for other kinds of traffic but you know it's not the MTLS that we know",
    "start": "1747120",
    "end": "1754000"
  },
  {
    "text": "and love um and I guess the third thing that I think was a really neat thing",
    "start": "1754000",
    "end": "1759600"
  },
  {
    "text": "that we did in Cydium was the idea of putting things like network level encryption into the network policy so if",
    "start": "1759600",
    "end": "1766240"
  },
  {
    "text": "you define a selium network policy you can say for traffic you know between",
    "start": "1766240",
    "end": "1772080"
  },
  {
    "text": "endpoints identified like this and endpoints identified like that we require encryption right which I'm I'm",
    "start": "1772080",
    "end": "1778559"
  },
  {
    "text": "just throwing it out there as something that I you know wasn't my idea and when I saw it I thought that's really neat so",
    "start": "1778559",
    "end": "1784480"
  },
  {
    "text": "so you're saying you're saying it's worried to require encryption yes yes so you you in the network policy there's",
    "start": "1784480",
    "end": "1791600"
  },
  {
    "text": "like a a field that basically says encryption required yeah i think Selium's definitely has",
    "start": "1791600",
    "end": "1797360"
  },
  {
    "text": "because you're at the network layer you've got the ability like to your first point to see um and communicate",
    "start": "1797360",
    "end": "1802480"
  },
  {
    "text": "throughout the different layers in your stack i think the if coupube is going to solve it is going to try to standardize",
    "start": "1802480",
    "end": "1808799"
  },
  {
    "text": "it then you've got to find a way to basically do the same sort of context passing in a standard way and that's the",
    "start": "1808799",
    "end": "1814960"
  },
  {
    "text": "that's the difficulty and I think there's a lot we could like we could learn from psyllium um from how expressed in the API as well as what's",
    "start": "1814960",
    "end": "1821520"
  },
  {
    "text": "happening at the network layer i'm curious to see like with with UDP for example um to your point about about TCP",
    "start": "1821520",
    "end": "1827760"
  },
  {
    "text": "I'm curious to see um what things like uh like quick do um",
    "start": "1827760",
    "end": "1834320"
  },
  {
    "text": "because it's it's not UDP in the way we know and love uh but there are have been",
    "start": "1834320",
    "end": "1839520"
  },
  {
    "text": "attempts to try to put some TLS at the at the UDP layer um and and try to make",
    "start": "1839520",
    "end": "1845840"
  },
  {
    "text": "that work uh but definitely something that we need to consider to make it feasible yeah thank you thanks i think",
    "start": "1845840",
    "end": "1852799"
  },
  {
    "text": "we got time for one more because we're Yeah okay real quick go ahead Flynn",
    "start": "1852799",
    "end": "1859200"
  },
  {
    "text": "i kind of feel like we're talking about two separate concerns that are being conflated here one of them is what sort",
    "start": "1859200",
    "end": "1865919"
  },
  {
    "text": "of identity standard could we use at layer 7 in for east west traffic which",
    "start": "1865919",
    "end": "1871279"
  },
  {
    "text": "seems like a thing that could benefit from some standardization",
    "start": "1871279",
    "end": "1878000"
  },
  {
    "text": "but the other one is to me feels like how do we combine",
    "start": "1878000",
    "end": "1884480"
  },
  {
    "text": "the L4 network off L34 network off with L7 network off and I would love to hear",
    "start": "1884480",
    "end": "1889520"
  },
  {
    "text": "more about the user story driving that concern because as Liz pointed out the",
    "start": "1889520",
    "end": "1895200"
  },
  {
    "text": "layers kind of do exist for a reason and it's much less clear to me that you",
    "start": "1895200",
    "end": "1900960"
  },
  {
    "text": "couldn't have the mesh just writing L4 network policies for you for example and then sticking with L7 that sort of thing",
    "start": "1900960",
    "end": "1908399"
  },
  {
    "text": "so I'm curious what the user story is that's driving the desire to combine those two things and and driving these",
    "start": "1908399",
    "end": "1915760"
  },
  {
    "text": "two different concerns together right it it is the UX experience that you're that",
    "start": "1915760",
    "end": "1920799"
  },
  {
    "text": "you're sort of describing right is that if yes sure if the mesh if you want to use your mesh to write everything then",
    "start": "1920799",
    "end": "1928159"
  },
  {
    "text": "great but if you've got uh a situation where you've got your CNI enforcing",
    "start": "1928159",
    "end": "1934240"
  },
  {
    "text": "layer 3 and a mesh that doesn't enforce network policy then you're sort of sort",
    "start": "1934240",
    "end": "1939360"
  },
  {
    "text": "of stuck right but you're also assuming that all all implement like all meshes",
    "start": "1939360",
    "end": "1945279"
  },
  {
    "text": "operating in L7 and there is you know the the the reality is there is some",
    "start": "1945279",
    "end": "1951120"
  },
  {
    "text": "meshes out there that kind of going to a place I'm assuming that if you're doing L7 off you are operating at L7 no right",
    "start": "1951120",
    "end": "1958480"
  },
  {
    "text": "but like like as far as I understood as far as I understood only place you're operating as far as I understood your",
    "start": "1958480",
    "end": "1963840"
  },
  {
    "text": "your your your user story was like why do I need an identity on a mesh level",
    "start": "1963840",
    "end": "1970559"
  },
  {
    "text": "lower than layer 7 right no my question was what is the user story that is driving you to want to do L3 L4 L7 in",
    "start": "1970559",
    "end": "1979519"
  },
  {
    "text": "this unified way as opposed to continuing to treat them at different you know with different policy objects",
    "start": "1979519",
    "end": "1986000"
  },
  {
    "text": "for example it's really the the ability to to similar to the reason for I think",
    "start": "1986000",
    "end": "1993200"
  },
  {
    "text": "gateway API in general is if you've got disperate things maybe you maybe use Calico on on day one you want to put the",
    "start": "1993200",
    "end": "2000320"
  },
  {
    "text": "mesh on top of it and you don't want to rewrite all of your policies um in the mesh specific flavor like that's really",
    "start": "2000320",
    "end": "2006240"
  },
  {
    "text": "the the main use case there where you need to be able to do that context passing in a predictable and standard",
    "start": "2006240",
    "end": "2012399"
  },
  {
    "text": "way um if you can use just your CNI or just your mesh for all of your policy",
    "start": "2012399",
    "end": "2017519"
  },
  {
    "text": "sure um but I think that when you've got a mixed case is when it gets more more",
    "start": "2017519",
    "end": "2022960"
  },
  {
    "text": "tricky and we're seeing a bit of that I think as people try to optimize their solutions and they want to pick maybe",
    "start": "2022960",
    "end": "2029200"
  },
  {
    "text": "their CNI gives them more throughput and performance but they want their mesh for the L7 bits um trying to find an answer",
    "start": "2029200",
    "end": "2035039"
  },
  {
    "text": "for that question yeah I think we're going to have to take that one offline a bit yeah let's chat",
    "start": "2035039",
    "end": "2041360"
  },
  {
    "text": "let's do it let's chat thank you thanks we're out of time thanks everybody [Applause]",
    "start": "2041360",
    "end": "2049088"
  }
]