[
  {
    "text": "[Applause] [Music]",
    "start": "440",
    "end": "8020"
  },
  {
    "text": "[Music] security policies for our cluster",
    "start": "18720",
    "end": "27290"
  },
  {
    "text": "[Music]",
    "start": "27290",
    "end": "37950"
  },
  {
    "text": "we are going to show how can we generate those policies by using so many different tools then we'll show you how",
    "start": "38059",
    "end": "45540"
  },
  {
    "text": "can audit those policies go under surrounding the cluster and then I will present the different Integrations of",
    "start": "45540",
    "end": "52500"
  },
  {
    "text": "this [Music]",
    "start": "52500",
    "end": "58640"
  },
  {
    "text": "demonstration like this okay so let's get started",
    "start": "61760",
    "end": "66979"
  },
  {
    "text": "security policies we are not that coordinated software is",
    "start": "66979",
    "end": "72299"
  },
  {
    "text": "different kind of security of security policies that we can use to make our cluster more secure there are so many of",
    "start": "72299",
    "end": "80460"
  },
  {
    "text": "them but in this case we will be concentrated on said come on capabilities",
    "start": "80460",
    "end": "86240"
  },
  {
    "text": "there are 10 guys in another [Music]",
    "start": "86240",
    "end": "92870"
  },
  {
    "text": "on this presentation today well the problem that we have with the",
    "start": "92960",
    "end": "100920"
  },
  {
    "text": "security policies and coordinates is that they are physically continue so in order to configure those security",
    "start": "100920",
    "end": "107520"
  },
  {
    "text": "policies we have to understand what our application is doing and this is",
    "start": "107520",
    "end": "113040"
  },
  {
    "text": "something that we don't understand all the times for instance if you want to configure a second profile you know we",
    "start": "113040",
    "end": "119340"
  },
  {
    "text": "have to know what other system codes are are executed by our application design",
    "start": "119340",
    "end": "125759"
  },
  {
    "text": "applies for leadership abilities and in the case of network policies we have to understand how the different represent",
    "start": "125759",
    "end": "131520"
  },
  {
    "text": "this is that we are running their communicate to each other also yeah this is something that",
    "start": "131520",
    "end": "138900"
  },
  {
    "text": "unfortunately is through many of the times the person that is the finding those policies is not the personalities",
    "start": "138900",
    "end": "146280"
  },
  {
    "text": "developing application maybe there is one person that develops everything and then there is another person on the day",
    "start": "146280",
    "end": "151739"
  },
  {
    "text": "or maybe a different company also the hospital to give the security policy store on different modifications so",
    "start": "151739",
    "end": "158220"
  },
  {
    "text": "this is for this person this is very difficult to understand what are the security policies",
    "start": "158220",
    "end": "166040"
  },
  {
    "text": "[Music] because many times that person doesn't have a lot of knowledge about that",
    "start": "166390",
    "end": "174000"
  },
  {
    "text": "so yeah in today's presentation I want to present you in a different way to",
    "start": "174000",
    "end": "181200"
  },
  {
    "text": "generate those or I will different ways to define those policies so what about",
    "start": "181200",
    "end": "186360"
  },
  {
    "text": "the way observe the application if we use some tools of certain application",
    "start": "186360",
    "end": "191519"
  },
  {
    "text": "and based on the behavior based on the activity that application is doing we can Define the security policies that we",
    "start": "191519",
    "end": "198659"
  },
  {
    "text": "want to use for our application so the idea is actually very simple there are",
    "start": "198659",
    "end": "204420"
  },
  {
    "text": "two steps the first one is we have to observe the application we have to understand what the application is doing",
    "start": "204420",
    "end": "210000"
  },
  {
    "text": "there are different Technologies for that in this case for sure we are going to use a BPF because it has a very low",
    "start": "210000",
    "end": "217319"
  },
  {
    "text": "overhead so when we are observing the application we are not making too much the performance of that and also vpf is",
    "start": "217319",
    "end": "225000"
  },
  {
    "text": "very very flexible so we are able to do a lot of things that we need to do there so yeah that's the first step we observe",
    "start": "225000",
    "end": "232019"
  },
  {
    "text": "the application we capture objectivity of the application we know that what the application is doing and then by using",
    "start": "232019",
    "end": "238140"
  },
  {
    "text": "in that data with generate a policy this is something that sometimes is really",
    "start": "238140",
    "end": "245519"
  },
  {
    "text": "easy to do for instance for a second profile this is just to capture the system calls and to put a list of",
    "start": "245519",
    "end": "251099"
  },
  {
    "text": "instant calls for pod capabilities is the same but in other cases like Network policies this is really difficult",
    "start": "251099",
    "end": "257160"
  },
  {
    "text": "because we have to generate the network policies in a way that are easier to understand for the developer of the",
    "start": "257160",
    "end": "264540"
  },
  {
    "text": "operator of the platform so yeah depending on the kind of network of policies that we are generating it could",
    "start": "264540",
    "end": "269880"
  },
  {
    "text": "be very easy or it could be really really difficult so yeah let's go ahead and start with",
    "start": "269880",
    "end": "276360"
  },
  {
    "text": "the first kind of security policies that I want to cover today",
    "start": "276360",
    "end": "281940"
  },
  {
    "text": "this is second so this is a mechanism on the Kernel to limit the system calls the",
    "start": "281940",
    "end": "287520"
  },
  {
    "text": "a given process can make and yeah we how it works is that we Define our second",
    "start": "287520",
    "end": "293220"
  },
  {
    "text": "profile with both a list of season calls there and we can tell the kernel okay if",
    "start": "293220",
    "end": "298500"
  },
  {
    "text": "I given up if a given process a secure this call perform this function and the",
    "start": "298500",
    "end": "303540"
  },
  {
    "text": "option that we have are for instance just keep the process we can say no signal to to the calling process we can",
    "start": "303540",
    "end": "310620"
  },
  {
    "text": "deny the execution of the system call and return array an error or we can also",
    "start": "310620",
    "end": "317220"
  },
  {
    "text": "execute the system call unlock to to the system actually there are other options",
    "start": "317220",
    "end": "323820"
  },
  {
    "text": "that are supported but my intention here is not go to know to go into the detail",
    "start": "323820",
    "end": "328860"
  },
  {
    "text": "of those ones this is what a second profile looks like so we have a default action this is what",
    "start": "328860",
    "end": "335160"
  },
  {
    "text": "happened by default when our when a given system call is no secured or better when a given system call is",
    "start": "335160",
    "end": "341039"
  },
  {
    "text": "secure it and it is not on the list that I have defined then I can Define different lists of system calls and put",
    "start": "341039",
    "end": "347820"
  },
  {
    "text": "an action for that so in this case analog in the field test on the Red Front system call yeah actually in",
    "start": "347820",
    "end": "355080"
  },
  {
    "text": "second profile I can't even Define different days of this is called with different options so I can have a sort",
    "start": "355080",
    "end": "360720"
  },
  {
    "text": "of made a low undeniables together in coordinated we can define those",
    "start": "360720",
    "end": "368940"
  },
  {
    "text": "profiles in that Port security contest this from kubernetes 1.19 actually",
    "start": "368940",
    "end": "374880"
  },
  {
    "text": "before it was also possible to do but it was defined by using an annotation in the container pod but now this is",
    "start": "374880",
    "end": "380280"
  },
  {
    "text": "deprecated so I'm not going to talk about that today we can configure the setcom profile at",
    "start": "380280",
    "end": "388139"
  },
  {
    "text": "the port or at the container level so it means we can have the same second profile for all the containers on the",
    "start": "388139",
    "end": "394680"
  },
  {
    "text": "Pod or we can even have different second profiles for each container in the pot",
    "start": "394680",
    "end": "400440"
  },
  {
    "text": "so this is what it looks like we have the security content we have the name of",
    "start": "400440",
    "end": "405539"
  },
  {
    "text": "our security profile and that by default is looking in this barley equivalent path",
    "start": "405539",
    "end": "412860"
  },
  {
    "text": "so yeah actually handling a security second Profiles In kubernetes by Han is",
    "start": "412860",
    "end": "419699"
  },
  {
    "text": "a little bit difficult because you have to be sure that the second profile that you have is installing all the different",
    "start": "419699",
    "end": "425280"
  },
  {
    "text": "nodes so you have to keep that aligned on the different notes so this is sometimes difficult to do so for this",
    "start": "425280",
    "end": "431460"
  },
  {
    "text": "reason there is the security profiles operator so in this case you can Define the setcom profile as a custom resource",
    "start": "431460",
    "end": "438539"
  },
  {
    "text": "and this project this operator will take care of synchronizing the second profile",
    "start": "438539",
    "end": "445020"
  },
  {
    "text": "on all the nodes in your cluster this is just to show you an example of",
    "start": "445020",
    "end": "450960"
  },
  {
    "text": "how we Define a second profile so here we have defined the second profile and in this case this is a very simple one",
    "start": "450960",
    "end": "456419"
  },
  {
    "text": "we are only going to log all the system chords that are secured and this is how",
    "start": "456419",
    "end": "461880"
  },
  {
    "text": "we associate a port to that second profile actually the SPO project has",
    "start": "461880",
    "end": "468960"
  },
  {
    "text": "different ways to do that but this is not so relevant for this presentation today so yeah let's get into the",
    "start": "468960",
    "end": "475800"
  },
  {
    "text": "interesting part of this talk so how do we Define a second profile for our",
    "start": "475800",
    "end": "481680"
  },
  {
    "text": "application of course on a low list is a prepared approach we only want to allow the system calls that we know that are",
    "start": "481680",
    "end": "488340"
  },
  {
    "text": "safe there are times the new system calls are add to the kernel so if we are using a",
    "start": "488340",
    "end": "494340"
  },
  {
    "text": "block list maybe one of those dangerous system courses implemented we are not going to block that so yeah in this case",
    "start": "494340",
    "end": "501000"
  },
  {
    "text": "this is better to have on a low list to be in the more secure side but the problem",
    "start": "501000",
    "end": "508139"
  },
  {
    "text": "with this approach is that we have to be sure that we include all the system",
    "start": "508139",
    "end": "513300"
  },
  {
    "text": "calls that our application needs on the profile that we are defined and then the question is okay so what",
    "start": "513300",
    "end": "520200"
  },
  {
    "text": "are the system called that my application needs well how can we know that the first option is yeah if we are",
    "start": "520200",
    "end": "527300"
  },
  {
    "text": "developing an open source application if we have access to the code of the",
    "start": "527300",
    "end": "532380"
  },
  {
    "text": "application we can check and we can try to read the code to understand what are the assistant calls that the application",
    "start": "532380",
    "end": "538500"
  },
  {
    "text": "is using but actually this is really difficult if you are using any standard Library maybe from go learn see anything",
    "start": "538500",
    "end": "544800"
  },
  {
    "text": "you are doing a call to the standard library but you don't know what is the assistant code that that standard",
    "start": "544800",
    "end": "551160"
  },
  {
    "text": "standard library is doing to the current for instance in some cases you can just call open but the standard implements",
    "start": "551160",
    "end": "558660"
  },
  {
    "text": "are like an open ad call to the kernel so there is no like a one-to-one map in there so yeah this is a difficult",
    "start": "558660",
    "end": "565500"
  },
  {
    "text": "approach another idea is to use the space we could run an application with space",
    "start": "565500",
    "end": "571380"
  },
  {
    "text": "races at all the planes all the system calls that are secured by a given application but",
    "start": "571380",
    "end": "576540"
  },
  {
    "text": "this is like a more inboxing approach because we have to",
    "start": "576540",
    "end": "581940"
  },
  {
    "text": "we need a space to be available in our container so if you are running additional AC much you are not going to",
    "start": "581940",
    "end": "588300"
  },
  {
    "text": "have a stress there so yeah you will need some more work to make that useful",
    "start": "588300",
    "end": "594980"
  },
  {
    "text": "another option is yeah we can define a simple profile by using the login action",
    "start": "594980",
    "end": "601500"
  },
  {
    "text": "and then we can check the audit log of the kernel but actually understanding",
    "start": "601500",
    "end": "607380"
  },
  {
    "text": "what is on that or the block is also simple because for instance there we don't even have the name of the system",
    "start": "607380",
    "end": "613560"
  },
  {
    "text": "calls that are secured we only have the the number of the system called the number depends on the architecture",
    "start": "613560",
    "end": "620279"
  },
  {
    "text": "so I will have to map those numbers to the name of the system call so again even if that's possible that's",
    "start": "620279",
    "end": "627779"
  },
  {
    "text": "not so easy to do so the thing that I want to propose here that we want to",
    "start": "627779",
    "end": "633000"
  },
  {
    "text": "propose here is we can use a tool the red course or the system chords are already secured by my application and",
    "start": "633000",
    "end": "639720"
  },
  {
    "text": "based on that we can generate the second profile uh as far as I will understand",
    "start": "639720",
    "end": "647100"
  },
  {
    "text": "there are two different projects that allow you to do that the first one is the security profiles operator that has",
    "start": "647100",
    "end": "653519"
  },
  {
    "text": "an ebpf recorder and the second one is the second advisor from Inspector Gadget",
    "start": "653519",
    "end": "658980"
  },
  {
    "text": "so let's look at the demonstration of the first approach by using the security",
    "start": "658980",
    "end": "664160"
  },
  {
    "text": "profiles operator you know I will show you the security profile operator on how it's EPF",
    "start": "664160",
    "end": "672300"
  },
  {
    "text": "recorder can monitor system calls from engineer painted as a combo file so first I need to enable this feature",
    "start": "672300",
    "end": "679740"
  },
  {
    "text": "so I'm checking the NFL recorder feature is secure2 that's cool",
    "start": "679740",
    "end": "687360"
  },
  {
    "text": "then I need to enable in a in the future in the namespace I will do",
    "start": "687360",
    "end": "693779"
  },
  {
    "text": "my testing it has this level set to true and that's good tool",
    "start": "693779",
    "end": "699959"
  },
  {
    "text": "then I need to create a profile recording of yours here I have a profile",
    "start": "699959",
    "end": "706140"
  },
  {
    "text": "according resource in namespace of interest and it has a projector with a",
    "start": "706140",
    "end": "711180"
  },
  {
    "text": "selected event amount to test okay so I apply this profile recording",
    "start": "711180",
    "end": "718200"
  },
  {
    "text": "now it should be installed on Microsoft are now deploy my pod and this part will",
    "start": "718200",
    "end": "726300"
  },
  {
    "text": "have a lemon and that match the lab Apple sector of the profile recording",
    "start": "726300",
    "end": "733560"
  },
  {
    "text": "okay so now let's um",
    "start": "733560",
    "end": "739560"
  },
  {
    "text": "see my body it is deployed I will generate some network activity on",
    "start": "739560",
    "end": "745200"
  },
  {
    "text": "it for this if I use port forward",
    "start": "745200",
    "end": "751560"
  },
  {
    "text": "to any better channel to my app and I use some curls command to connect",
    "start": "751560",
    "end": "757980"
  },
  {
    "text": "to my app so this is working fine",
    "start": "757980",
    "end": "763820"
  },
  {
    "text": "now I can stop the pot forward and let's delete Network",
    "start": "764459",
    "end": "771200"
  },
  {
    "text": "okay so let's see if my second profile was generated",
    "start": "773040",
    "end": "780079"
  },
  {
    "text": "yes it is installed let's see what is inside from here that's here generated a second",
    "start": "781200",
    "end": "787560"
  },
  {
    "text": "profile with a different direction of returning an error except for the system codes which are low",
    "start": "787560",
    "end": "794959"
  },
  {
    "text": "thank you okay so that's the first way to generate",
    "start": "796320",
    "end": "802740"
  },
  {
    "text": "those security second profiles and the other one is by using this Inspector",
    "start": "802740",
    "end": "808500"
  },
  {
    "text": "Gadget second advisor and yeah actually the the mechanism that this is used is very similar this is something that we",
    "start": "808500",
    "end": "814320"
  },
  {
    "text": "implemented almost in parallel two different two very similar features implemented by two",
    "start": "814320",
    "end": "821040"
  },
  {
    "text": "different themes of parallel so yeah just let me show you the second one so in this demo we use the second part",
    "start": "821040",
    "end": "826860"
  },
  {
    "text": "result to monitor my workload to see which system calls it is using",
    "start": "826860",
    "end": "832019"
  },
  {
    "text": "so let's start the gadget with uh advised second profile ask it to monitor",
    "start": "832019",
    "end": "837899"
  },
  {
    "text": "the second demo namespace on the Hello python product I get a trace ID that can use later to",
    "start": "837899",
    "end": "844980"
  },
  {
    "text": "stop it and now I can deploy my opponent this part is unconfined so it doesn't have",
    "start": "844980",
    "end": "850560"
  },
  {
    "text": "any second profile as it is running already and I will now",
    "start": "850560",
    "end": "857399"
  },
  {
    "text": "generate some Network traffic to it to exercise different code path I use port",
    "start": "857399",
    "end": "863279"
  },
  {
    "text": "forward so I can use Curl gel key to it a bit later",
    "start": "863279",
    "end": "868040"
  },
  {
    "text": "so now I run a couple of cards come on you can see the result with the web page",
    "start": "868800",
    "end": "874920"
  },
  {
    "text": "and now I can stop that I will stop the performer and then get the result from",
    "start": "874920",
    "end": "882779"
  },
  {
    "text": "this gadget so uh if you want to press ID I'm gonna ask it to what um the",
    "start": "882779",
    "end": "889440"
  },
  {
    "text": "system calls in this file so if I look at this file it will simply",
    "start": "889440",
    "end": "895380"
  },
  {
    "text": "be the list of system calls in the Json format so you see there are",
    "start": "895380",
    "end": "901260"
  },
  {
    "text": "differences and calls for socket TCP connections and so on",
    "start": "901260",
    "end": "907380"
  },
  {
    "text": "all of this I have this file in EML format as well",
    "start": "907380",
    "end": "912600"
  },
  {
    "text": "this is a second profile from the security profile operator",
    "start": "912600",
    "end": "918120"
  },
  {
    "text": "and here by default it button an error for any unknown system call or it allow",
    "start": "918120",
    "end": "925980"
  },
  {
    "text": "the list of system called test detected before so I can deploy this second profile that",
    "start": "925980",
    "end": "933600"
  },
  {
    "text": "are generating now it will be installed on my cluster",
    "start": "933600",
    "end": "939000"
  },
  {
    "text": "and I will deploy a pod that reference this control file so now it's no longer",
    "start": "939000",
    "end": "944399"
  },
  {
    "text": "unconvenient it just overhears the second profile agility before",
    "start": "944399",
    "end": "951139"
  },
  {
    "text": "so let's deploy it and that's it",
    "start": "951480",
    "end": "956360"
  },
  {
    "text": "okay so now we understood how to generate this second profile",
    "start": "958260",
    "end": "964380"
  },
  {
    "text": "but yeah once we have those second profiles in place we have running our",
    "start": "964380",
    "end": "969540"
  },
  {
    "text": "applications with those security profiles how can we know a given second profile",
    "start": "969540",
    "end": "976620"
  },
  {
    "text": "is will break my application better how can I know if given second profile is",
    "start": "976620",
    "end": "982680"
  },
  {
    "text": "blocking census and calls that my application is trying to execute again one option is to use this option log",
    "start": "982680",
    "end": "990180"
  },
  {
    "text": "um sure in this case it will not block the assistant call but we'll give you some understanding the decision course are",
    "start": "990180",
    "end": "996420"
  },
  {
    "text": "being secured then we can check this is locked but again as before this is difficult to understand so an",
    "start": "996420",
    "end": "1003620"
  },
  {
    "text": "alternative that we have is to use this second audit Gadget that provides you that tells you when a given set for",
    "start": "1003620",
    "end": "1010519"
  },
  {
    "text": "profile blocks a system called front so let's look at another demo",
    "start": "1010519",
    "end": "1016220"
  },
  {
    "text": "the time I will show the second body Gadget I will use a different version of",
    "start": "1016220",
    "end": "1021500"
  },
  {
    "text": "my second profile this second profile contains the same list as of system called as before that",
    "start": "1021500",
    "end": "1028280"
  },
  {
    "text": "are alone but the default action will no longer be to rot on an error but to log them so the audit log will be able to",
    "start": "1028280",
    "end": "1035839"
  },
  {
    "text": "display them so let's deploy this second",
    "start": "1035839",
    "end": "1041600"
  },
  {
    "text": "profile now it will be deployed on my cluster",
    "start": "1041600",
    "end": "1047540"
  },
  {
    "text": "okay before deploying my workload I will start the Inspector Gadget Gadget so you",
    "start": "1047540",
    "end": "1054799"
  },
  {
    "text": "can see the stream of system calls being executed",
    "start": "1054799",
    "end": "1059559"
  },
  {
    "text": "so let's start this command or Inspector Gadget I will monitor the second",
    "start": "1061160",
    "end": "1066980"
  },
  {
    "text": "demonians phrase and display the system calls from the return code and so on",
    "start": "1066980",
    "end": "1075160"
  },
  {
    "text": "okay so far there is nothing because I don't even work on it",
    "start": "1075620",
    "end": "1080960"
  },
  {
    "text": "so let's see the workload the workload reference my second profile and as I",
    "start": "1080960",
    "end": "1087440"
  },
  {
    "text": "should before and let's deploy this",
    "start": "1087440",
    "end": "1093320"
  },
  {
    "text": "and let's see if it is running correctly it is already running but so far the",
    "start": "1093320",
    "end": "1099799"
  },
  {
    "text": "only system codes that are executed are the one a lot so there is still no thing to display here",
    "start": "1099799",
    "end": "1105440"
  },
  {
    "text": "I will try to generate a different network activity to see if something",
    "start": "1105440",
    "end": "1112940"
  },
  {
    "text": "happened so like before I will use power forward on some curl command",
    "start": "1112940",
    "end": "1119620"
  },
  {
    "text": "so the port forward is running so I can run curl and see if anything happens I",
    "start": "1121820",
    "end": "1128900"
  },
  {
    "text": "get the result I see the web page but still nothing here because as before",
    "start": "1128900",
    "end": "1135200"
  },
  {
    "text": "the only system called executed or the one that were in my other list",
    "start": "1135200",
    "end": "1142419"
  },
  {
    "text": "okay so now I can stop the network activity and I will try something different I",
    "start": "1142820",
    "end": "1150140"
  },
  {
    "text": "will exec into the pot and see if something did not happen",
    "start": "1150140",
    "end": "1155900"
  },
  {
    "text": "I will execute brush on brush I should execute different kind of system column",
    "start": "1155900",
    "end": "1161000"
  },
  {
    "text": "that will not done before so now the audit can notice them",
    "start": "1161000",
    "end": "1167360"
  },
  {
    "text": "and if I use this command and cannot that should although on this mknot",
    "start": "1167360",
    "end": "1174200"
  },
  {
    "text": "system call that is uh that were not in a hollow list so I see it in the audit",
    "start": "1174200",
    "end": "1179660"
  },
  {
    "text": "log thank you okay so that's it about",
    "start": "1179660",
    "end": "1187299"
  },
  {
    "text": "a sitcom so let's move to another kind of security profiles those are Linux",
    "start": "1187299",
    "end": "1192919"
  },
  {
    "text": "capabilities and yeah science Learners to that to a",
    "start": "1192919",
    "end": "1198039"
  },
  {
    "text": "privilege process doesn't have all the capabilities of the system so those privilege operations were divided into",
    "start": "1198039",
    "end": "1204860"
  },
  {
    "text": "different blocks if I can say that way so the idea there is if there is a if",
    "start": "1204860",
    "end": "1209960"
  },
  {
    "text": "our process gets compromised if a privileged process is compromised it is only able to do some things on the",
    "start": "1209960",
    "end": "1216500"
  },
  {
    "text": "system so yeah for instance if we want to change if a process needs to change the owner of a file it has to be running",
    "start": "1216500",
    "end": "1223700"
  },
  {
    "text": "under this caption capability if it has to buy not for less than 2020",
    "start": "1223700",
    "end": "1230780"
  },
  {
    "text": "24 the hustle has this net buying service capability and so on so the idea that is to have to limit the",
    "start": "1230780",
    "end": "1236840"
  },
  {
    "text": "capabilities that are process have of course the list of capabilities in Linux",
    "start": "1236840",
    "end": "1241940"
  },
  {
    "text": "is very long and actually so new are in the different releases of the kernel",
    "start": "1241940",
    "end": "1249700"
  },
  {
    "text": "in coordinators are the container runtime give us some",
    "start": "1249700",
    "end": "1255020"
  },
  {
    "text": "capabilities by default and we cannot or we can drop the the capabilities that we",
    "start": "1255020",
    "end": "1261440"
  },
  {
    "text": "want to give to our container by using this security contest so this is an",
    "start": "1261440",
    "end": "1266480"
  },
  {
    "text": "example in this case we are dropping all the capabilities but we are only adding the capabilities that we need for our",
    "start": "1266480",
    "end": "1273740"
  },
  {
    "text": "container so yeah the problem here is very similar to the previous one how do we know the",
    "start": "1273740",
    "end": "1280760"
  },
  {
    "text": "different capabilities that are given Port needs to run and actually in this case it's actually more complicated",
    "start": "1280760",
    "end": "1286760"
  },
  {
    "text": "because this is only about system call but the capabilities are like an internal concept on the Kernel so",
    "start": "1286760",
    "end": "1292520"
  },
  {
    "text": "sometimes those are you sometimes or those are no use depending on the Kernel",
    "start": "1292520",
    "end": "1298220"
  },
  {
    "text": "version that you are running on different configuration parameters of the current so let me show you how you",
    "start": "1298220",
    "end": "1303559"
  },
  {
    "text": "can generate how you can understand the capabilities that a given application is using on a coordinates cluster you know",
    "start": "1303559",
    "end": "1310220"
  },
  {
    "text": "today I will deploy it PC and see what kind of capability is used so first look at the original version of",
    "start": "1310220",
    "end": "1317120"
  },
  {
    "text": "Tracy in the specification you see it with all the Privileges and so far I have not installed it so",
    "start": "1317120",
    "end": "1325640"
  },
  {
    "text": "let me install it first I will deploy the Inspector Gadget",
    "start": "1325640",
    "end": "1331960"
  },
  {
    "text": "capability to be scheduled so I deploy it on the IC System the",
    "start": "1331960",
    "end": "1338960"
  },
  {
    "text": "namespace looking at the specific part for Tracy when looking at all those",
    "start": "1338960",
    "end": "1344260"
  },
  {
    "text": "columns and I don't want any duplicate capabilities so I specify the unique",
    "start": "1344260",
    "end": "1349580"
  },
  {
    "text": "flag okay now let's start dressing",
    "start": "1349580",
    "end": "1357220"
  },
  {
    "text": "and it will start very soon okay it's already started and you can see at the bottom the capability it has exercised",
    "start": "1358159",
    "end": "1365539"
  },
  {
    "text": "set PK we trace and it doesn't mean this resource",
    "start": "1365539",
    "end": "1370640"
  },
  {
    "text": "okay so now we can delete it and",
    "start": "1370640",
    "end": "1376640"
  },
  {
    "text": "let's make some space Oh no we will have a prepared a new version of Tracy",
    "start": "1376640",
    "end": "1383360"
  },
  {
    "text": "instead of using privilege equal to it used the following capabilities",
    "start": "1383360",
    "end": "1388900"
  },
  {
    "text": "um you can see it will work in the same way as before and so these gadgets allows me to find",
    "start": "1390260",
    "end": "1397280"
  },
  {
    "text": "which kind of capabilities are I can add in my hotspot",
    "start": "1397280",
    "end": "1403120"
  },
  {
    "text": "okay thank you okay so yeah that's it about a Linux",
    "start": "1404659",
    "end": "1412940"
  },
  {
    "text": "capabilities and the last one that I want to cover today are network policies so this is just a few review I will go",
    "start": "1412940",
    "end": "1419360"
  },
  {
    "text": "very fast on that so Network policies are a kubernetes mechanism to limit how",
    "start": "1419360",
    "end": "1424760"
  },
  {
    "text": "the Pod can communicate with a network entity Network entity is another part a",
    "start": "1424760",
    "end": "1431419"
  },
  {
    "text": "kubernetes service or an external endpoint",
    "start": "1431419",
    "end": "1436658"
  },
  {
    "text": "and we can use that to restrict the English or the egress traffic from a",
    "start": "1443860",
    "end": "1449720"
  },
  {
    "text": "port this is an example of what it looks like uh",
    "start": "1449720",
    "end": "1455120"
  },
  {
    "text": "Network policy resource so we have the port selector it means the ports that",
    "start": "1455120",
    "end": "1461539"
  },
  {
    "text": "the policy should apply to this is where we Define the policy so here we are saying okay our pods should be able to",
    "start": "1461539",
    "end": "1468260"
  },
  {
    "text": "communicate to other ports other enemy spaces other parts earning spaces or IP",
    "start": "1468260",
    "end": "1473659"
  },
  {
    "text": "blocks if those are external endpoints and in the part we say the we Define the",
    "start": "1473659",
    "end": "1481100"
  },
  {
    "text": "layer for the the layer 4 of our Network policy does the protocol and the part so",
    "start": "1481100",
    "end": "1487700"
  },
  {
    "text": "yeah it was just a quick reminder of network policies so how do we Define a coordinate and network policies well",
    "start": "1487700",
    "end": "1494299"
  },
  {
    "text": "usually those should be created when we are designing our architecture but yeah",
    "start": "1494299",
    "end": "1501260"
  },
  {
    "text": "as I was telling you at the beginning this is not what happened many in many cases so in some cases you have to",
    "start": "1501260",
    "end": "1507020"
  },
  {
    "text": "define the network policies after your application is already running",
    "start": "1507020",
    "end": "1512179"
  },
  {
    "text": "and yeah in those cases using a policy advice or using a tool that suggests you",
    "start": "1512179",
    "end": "1517760"
  },
  {
    "text": "some Network policies to be applied can be a motion and yeah let me show you very quickly how we can generate those",
    "start": "1517760",
    "end": "1524000"
  },
  {
    "text": "by using the network policy advisor front Inspector Gadget",
    "start": "1524000",
    "end": "1529400"
  },
  {
    "text": "you know I will demo the network policy advisor so we deploy the workload and",
    "start": "1529400",
    "end": "1534679"
  },
  {
    "text": "observe the network traffic done by this workload and then generate Network policies thanks to the Metro policy",
    "start": "1534679",
    "end": "1542419"
  },
  {
    "text": "advisor from inspector cutter so first I create this demonius phase",
    "start": "1542419",
    "end": "1548659"
  },
  {
    "text": "and so far there is nothing in it and I will deploy this kubernetes manifest.tml",
    "start": "1548659",
    "end": "1556400"
  },
  {
    "text": "before that let's start the network policy advisor",
    "start": "1556400",
    "end": "1561820"
  },
  {
    "text": "started with this command I use the cubesatic gadget advice command to monitor the network activity in a",
    "start": "1561820",
    "end": "1569000"
  },
  {
    "text": "demonet space on average the logo in this file",
    "start": "1569000",
    "end": "1574159"
  },
  {
    "text": "okay so far that is not accounting because there is no network traffic but",
    "start": "1574159",
    "end": "1579860"
  },
  {
    "text": "once I deployed the Manifest uh at some point it will create some",
    "start": "1579860",
    "end": "1586460"
  },
  {
    "text": "Network activities it will take some time to prepare all",
    "start": "1586460",
    "end": "1591500"
  },
  {
    "text": "the deployment to be ready so let's wait some minutes",
    "start": "1591500",
    "end": "1597700"
  },
  {
    "text": "after some minute my deployment is successfully deployed so now I can stop",
    "start": "1598340",
    "end": "1603919"
  },
  {
    "text": "this and then let's ask inspector widget to",
    "start": "1603919",
    "end": "1608960"
  },
  {
    "text": "generate the network releases from this logo on the network PC will be saved into this file",
    "start": "1608960",
    "end": "1615440"
  },
  {
    "text": "then we can have a look at this file and we see the first Network we'll see generated is for the art service",
    "start": "1615440",
    "end": "1621860"
  },
  {
    "text": "we noticed he noticed some request traffic to DNS so power 53",
    "start": "1621860",
    "end": "1629000"
  },
  {
    "text": "UDP to the group system could be a nest Service Plus some increase service from",
    "start": "1629000",
    "end": "1636320"
  },
  {
    "text": "the front end to some TCP port and you can see other",
    "start": "1636320",
    "end": "1642320"
  },
  {
    "text": "network policies for other services as well",
    "start": "1642320",
    "end": "1647620"
  },
  {
    "text": "foreign policies so how we can know if our",
    "start": "1650419",
    "end": "1657020"
  },
  {
    "text": "Network policies dropping the packets from our application so yeah depending",
    "start": "1657020",
    "end": "1662840"
  },
  {
    "text": "on the cni provider that you are using maybe you have the support implemented there if you are using Saloon they have",
    "start": "1662840",
    "end": "1669140"
  },
  {
    "text": "this audit mode through or this plot better and when you enable that the",
    "start": "1669140",
    "end": "1674840"
  },
  {
    "text": "celium doesn't enforce the network policy but it will tell you when it eventually drop the packet there if you",
    "start": "1674840",
    "end": "1682880"
  },
  {
    "text": "are not using zillion there are other tools that can do the same at the applicable level but yeah in this case",
    "start": "1682880",
    "end": "1688880"
  },
  {
    "text": "you have to find a way to correlate that the IP table role with a network policy",
    "start": "1688880",
    "end": "1694039"
  },
  {
    "text": "that is dropping the the packet so yeah just to finish here I want to discuss",
    "start": "1694039",
    "end": "1699559"
  },
  {
    "text": "the limitation of this approach so the the I will say the biggest limitation",
    "start": "1699559",
    "end": "1705440"
  },
  {
    "text": "here is that our application has to generate",
    "start": "1705440",
    "end": "1711500"
  },
  {
    "text": "all the events that it needs to work when we are monitoring that so if there",
    "start": "1711500",
    "end": "1716779"
  },
  {
    "text": "is for instance a given system call that our application needs but",
    "start": "1716779",
    "end": "1721820"
  },
  {
    "text": "it's no use why we record that to generate the treatment profile the second profile is going to block the",
    "start": "1721820",
    "end": "1728419"
  },
  {
    "text": "system call so when the application is will try to use that specific system",
    "start": "1728419",
    "end": "1734299"
  },
  {
    "text": "called when running for instance a production environment that system call will be denied on our application won't",
    "start": "1734299",
    "end": "1740539"
  },
  {
    "text": "work um so how to",
    "start": "1740539",
    "end": "1747820"
  },
  {
    "text": "so how can we show that our application is generating all a",
    "start": "1748159",
    "end": "1754279"
  },
  {
    "text": "event that it requires on the real scenario well maybe one option is so deploy our application in a production",
    "start": "1754279",
    "end": "1761240"
  },
  {
    "text": "environment send real traffic to that and monitor that there of course there",
    "start": "1761240",
    "end": "1766399"
  },
  {
    "text": "is some risk on running an application in production without security policies another option is so",
    "start": "1766399",
    "end": "1772779"
  },
  {
    "text": "uh runs on integration test to try to go through the different parts of the code",
    "start": "1772779",
    "end": "1778279"
  },
  {
    "text": "so those are one of the options that we have but usually this is like the very the biggest limitation and it's",
    "start": "1778279",
    "end": "1784580"
  },
  {
    "text": "difficult to do so there is no like this is the way to do that there are so many different options and the second",
    "start": "1784580",
    "end": "1791240"
  },
  {
    "text": "limitation this is I will say limitation warning is that",
    "start": "1791240",
    "end": "1796520"
  },
  {
    "text": "we when we use this technique we are assuming that our application is to us so we are monitoring the application if",
    "start": "1796520",
    "end": "1804020"
  },
  {
    "text": "there is any a malicious activity going there we are going to include that into",
    "start": "1804020",
    "end": "1810140"
  },
  {
    "text": "our security profiles so basically what it means is that we are going to allow the malicious activity and the security",
    "start": "1810140",
    "end": "1815659"
  },
  {
    "text": "profiles that we are generating so yeah we have to be sure I don't know how to",
    "start": "1815659",
    "end": "1821299"
  },
  {
    "text": "do that to be honest I don't have an answer how to be sure that our application is trust but we should be",
    "start": "1821299",
    "end": "1827360"
  },
  {
    "text": "sure that this is why we use this approach and yeah just to finish there",
    "start": "1827360",
    "end": "1833360"
  },
  {
    "text": "was a I will say similar talk this Monday in the cloud ebpf negative day that is also",
    "start": "1833360",
    "end": "1839419"
  },
  {
    "text": "how to generate the security profile by using ebpf but in this case it was by the iso Valentine they were using",
    "start": "1839419",
    "end": "1845659"
  },
  {
    "text": "tetragram for that so if you are interested on that maybe you can check the recording of that should be",
    "start": "1845659",
    "end": "1851419"
  },
  {
    "text": "available YouTube in some weeks and yeah that's it so happy to take any",
    "start": "1851419",
    "end": "1856820"
  },
  {
    "text": "questions that you can have thank you",
    "start": "1856820",
    "end": "1860320"
  },
  {
    "text": "[Applause]",
    "start": "1863500",
    "end": "1867150"
  },
  {
    "text": "thanks for the great talk and I just great the comprehensive overview",
    "start": "1874580",
    "end": "1879620"
  },
  {
    "text": "um my question is um it's also in the limitation about you know during the recording phase",
    "start": "1879620",
    "end": "1886340"
  },
  {
    "text": "you can you know create policies only what you saw in the recording phase right so what you haven't seen you",
    "start": "1886340",
    "end": "1891679"
  },
  {
    "text": "cannot Define have you been looked into or researched how could you decide when to stop",
    "start": "1891679",
    "end": "1899419"
  },
  {
    "text": "recording I mean when to or how to signal to end recording and you say I saw an after of the application activity",
    "start": "1899419",
    "end": "1906020"
  },
  {
    "text": "that now I can turn this into a policy yeah that's a very good question we",
    "start": "1906020",
    "end": "1911600"
  },
  {
    "text": "haven't done that so so far went to a star went to a store record and it's totally controlled by the user so you as",
    "start": "1911600",
    "end": "1918679"
  },
  {
    "text": "an operator you say Okay I want to deploy my application I will start recording then you I don't know you wait",
    "start": "1918679",
    "end": "1925340"
  },
  {
    "text": "for one hour 24 hours depending on application and you say let's stop but",
    "start": "1925340",
    "end": "1930559"
  },
  {
    "text": "yeah maybe that will be something interesting to to explore how to start and stop recording in our automatic",
    "start": "1930559",
    "end": "1937039"
  },
  {
    "text": "Smart Way thank you thank you",
    "start": "1937039",
    "end": "1941679"
  },
  {
    "text": "when uh if Seth comp stops an application because it breaks a security policy what is the experience of either",
    "start": "1945860",
    "end": "1952880"
  },
  {
    "text": "the app Dev or the operations team what do they see when that happens oh sorry I",
    "start": "1952880",
    "end": "1958100"
  },
  {
    "text": "can't understand will you mind removing your mask for a wait please I can't understand what you're asking",
    "start": "1958100",
    "end": "1963980"
  },
  {
    "text": "um when sitcom takes some action on an application that's running it breaks a policy what",
    "start": "1963980",
    "end": "1971659"
  },
  {
    "text": "is the experience for the operations team or the application that created that is that just an error or what do",
    "start": "1971659",
    "end": "1977000"
  },
  {
    "text": "they see to know that this app broke one of the policies yeah so when the second",
    "start": "1977000",
    "end": "1982640"
  },
  {
    "text": "profile is violated depending on that it calculate your application so why you say is a pro a port that is crashing off",
    "start": "1982640",
    "end": "1989059"
  },
  {
    "text": "because the application is being killed there does it say like like pods crash",
    "start": "1989059",
    "end": "1996500"
  },
  {
    "text": "sometimes frequently so let's just say a particular reason why the product crashed you will have to check the logs",
    "start": "1996500",
    "end": "2003460"
  },
  {
    "text": "from the application I mean if you are using the audit second that I was showing you before that will tell you",
    "start": "2003460",
    "end": "2009039"
  },
  {
    "text": "what is going on though so that will tell you that a given second profiles and a kill signal to a given process and",
    "start": "2009039",
    "end": "2016899"
  },
  {
    "text": "it will give you information about the container the Pod and so on if you are not using that the only information that",
    "start": "2016899",
    "end": "2022539"
  },
  {
    "text": "you have available is the log of the application so you will have something like the process what was scaled and that's",
    "start": "2022539",
    "end": "2029559"
  },
  {
    "text": "it probably there is also something in the of the lock from the operating system about that but in that case you",
    "start": "2029559",
    "end": "2035200"
  },
  {
    "text": "will have to correlate the PID with the Pod so in that case if you are running a lot of parts in a no this is no easy to",
    "start": "2035200",
    "end": "2041679"
  },
  {
    "text": "understand what is the code that was killed right yeah exactly okay this is not great okay cool thank you",
    "start": "2041679",
    "end": "2049319"
  },
  {
    "text": "yeah thank you for the talk it was really helpful um it looks like the tools that you showed are really helpful for developing",
    "start": "2055000",
    "end": "2062440"
  },
  {
    "text": "the initial policies that you want to enforce my question is as applications",
    "start": "2062440",
    "end": "2068080"
  },
  {
    "text": "change over time they may have requirements for New Linux capabilities they may need to make new system calls",
    "start": "2068080",
    "end": "2075280"
  },
  {
    "text": "do you have any thoughts on how you can maintain these policies over time such",
    "start": "2075280",
    "end": "2080740"
  },
  {
    "text": "that it's not blocking application developers from making progress yeah I will say that this is a rather",
    "start": "2080740",
    "end": "2087878"
  },
  {
    "text": "difficult question so the idea that we have with this sort is okay you don't",
    "start": "2087879",
    "end": "2093158"
  },
  {
    "text": "have any policies we suggest you what could be an initial version of those policies so the idea is not to use these",
    "start": "2093159",
    "end": "2100240"
  },
  {
    "text": "Source automatically so the idea is you as a developer you use the tools and then you have to understand the output",
    "start": "2100240",
    "end": "2106420"
  },
  {
    "text": "of those souls and you have to make sure that the things that are in the security profile makes sense",
    "start": "2106420",
    "end": "2113760"
  },
  {
    "text": "I'm not totally sure that it will make sense to update those profiles",
    "start": "2113880",
    "end": "2118960"
  },
  {
    "text": "automatically when the application changes because what about if there is a malicious activity there and you are",
    "start": "2118960",
    "end": "2125320"
  },
  {
    "text": "updating those profiles automatically to allow the malicious activity that is going there or whether how can I",
    "start": "2125320",
    "end": "2130960"
  },
  {
    "text": "understand okay yes I I updated the application so I have to update the profile because my application is doing",
    "start": "2130960",
    "end": "2136420"
  },
  {
    "text": "something similar how can you be sure that that's the case and that this is not about that you are having some",
    "start": "2136420",
    "end": "2142060"
  },
  {
    "text": "malicious activity there so yeah I mean this is very complex to understand if you can update that",
    "start": "2142060",
    "end": "2148780"
  },
  {
    "text": "automatically without human support supervision there",
    "start": "2148780",
    "end": "2154440"
  },
  {
    "text": "hi I was pretty interested in the network policy generation and I noticed the",
    "start": "2167260",
    "end": "2172480"
  },
  {
    "text": "network policies that get generated they're you know using pod selectors with labels to clearly identify the Pod",
    "start": "2172480",
    "end": "2179260"
  },
  {
    "text": "that is involved in the network policy how intelligent is that Network policy generation is it trying to create like",
    "start": "2179260",
    "end": "2185440"
  },
  {
    "text": "the simplest possible Network policy or how does it decide what labels yeah it goes into that you have a point very",
    "start": "2185440",
    "end": "2191980"
  },
  {
    "text": "good question yeah so the general logic that we have is that your cup we capture the traffic so the",
    "start": "2191980",
    "end": "2198760"
  },
  {
    "text": "traffic that we capture has the I mean Source destination IP addresses and we enriched the data with kubernetes",
    "start": "2198760",
    "end": "2205480"
  },
  {
    "text": "related information so we do a transformation like from IP to pod name service and so on and at that point we",
    "start": "2205480",
    "end": "2213280"
  },
  {
    "text": "capture the labels of those parts services and so on and then with try to",
    "start": "2213280",
    "end": "2221079"
  },
  {
    "text": "consolidate that to generate the network policies actually what we are doing right now is like",
    "start": "2221079",
    "end": "2229079"
  },
  {
    "text": "as granular as possible so we are regenerating very small Network policies so actually if you are running so many",
    "start": "2229380",
    "end": "2235599"
  },
  {
    "text": "different Services you are going to have a very big generating Network policy and this is what I was talking at the",
    "start": "2235599",
    "end": "2241660"
  },
  {
    "text": "beginning I mean we have a limitation there because how can we consolidate those Network policies in less number of",
    "start": "2241660",
    "end": "2248800"
  },
  {
    "text": "policies with more labels this is something that we don't know yet how to do so probably more work has to",
    "start": "2248800",
    "end": "2256060"
  },
  {
    "text": "be done there in order to provide Network policies that are Consolidated and that are easier to understand for",
    "start": "2256060",
    "end": "2262720"
  },
  {
    "text": "the users actually one very simple case is when there is a port that is reaching an external uh horse I mean by IP so we",
    "start": "2262720",
    "end": "2271660"
  },
  {
    "text": "only generate a slash 32 rule but what about if actually the port is trying to",
    "start": "2271660",
    "end": "2278619"
  },
  {
    "text": "access our upside net so how can we consolidate those into absolute",
    "start": "2278619",
    "end": "2283960"
  },
  {
    "text": "this is something that we don't know how to do that and this is something that we require more research on that",
    "start": "2283960",
    "end": "2291180"
  },
  {
    "text": "last one the output for that that is used to",
    "start": "2293200",
    "end": "2299800"
  },
  {
    "text": "create the network policy that log file is it human readable like could it be used to audit the like frequency of",
    "start": "2299800",
    "end": "2306940"
  },
  {
    "text": "traffic and like create a profile so that if you're trying to create a secure network policy based off of that output",
    "start": "2306940",
    "end": "2313300"
  },
  {
    "text": "you have information to use like obviously as a sysadmin or security system admin you have more information",
    "start": "2313300",
    "end": "2319839"
  },
  {
    "text": "about the expected traffic between services so if you can use that not actually the generated policy but the",
    "start": "2319839",
    "end": "2325960"
  },
  {
    "text": "log file to inform the network policy that you're creating like is that is that possible is that a use case that's",
    "start": "2325960",
    "end": "2332140"
  },
  {
    "text": "been considered so do you mean only to capture the data about the network pockets and then use",
    "start": "2332140",
    "end": "2339520"
  },
  {
    "text": "that for yeah like you've got that log file that is being used to create the network",
    "start": "2339520",
    "end": "2345160"
  },
  {
    "text": "policy rather than just creating the network policy use that log file to create a traffic profile that you can",
    "start": "2345160",
    "end": "2352000"
  },
  {
    "text": "then use to inform the network policy yeah actually those are two tasks I mean",
    "start": "2352000",
    "end": "2358660"
  },
  {
    "text": "capturing the traffic and really enriching the traffic we cover net this information is like the easy task the",
    "start": "2358660",
    "end": "2365200"
  },
  {
    "text": "difficult task is okay how do we convert that Network traffic that we have captured into a network policy",
    "start": "2365200",
    "end": "2372280"
  },
  {
    "text": "currently we have a very simple algorithm there that just tries to consolidate that but yeah there are many",
    "start": "2372280",
    "end": "2380500"
  },
  {
    "text": "options that we haven't Explorer yet yeah I mean it just seems like it'd be very interesting to Output a profile rather than a policy so something you",
    "start": "2380500",
    "end": "2387040"
  },
  {
    "text": "could run that that advisor several times and compare the traffic over a period of time to see like oh we're",
    "start": "2387040",
    "end": "2392980"
  },
  {
    "text": "getting hit by this request at this frequency which is not something we expect and maybe as a malicious actor",
    "start": "2392980",
    "end": "2398320"
  },
  {
    "text": "that we should look into yeah that could be also an option yeah also thank you",
    "start": "2398320",
    "end": "2404020"
  },
  {
    "text": "thank you everybody thank you",
    "start": "2404020",
    "end": "2410400"
  }
]