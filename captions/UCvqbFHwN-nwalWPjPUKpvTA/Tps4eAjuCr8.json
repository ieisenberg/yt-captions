[
  {
    "start": "0",
    "end": "30000"
  },
  {
    "text": "hi everybody welcome to my presentation",
    "start": "1839",
    "end": "4480"
  },
  {
    "text": "at kubiconcloud.com north america 2020",
    "start": "4480",
    "end": "7200"
  },
  {
    "text": "virtual",
    "start": "7200",
    "end": "8639"
  },
  {
    "text": "the topic here today is api priority and",
    "start": "8639",
    "end": "11920"
  },
  {
    "text": "fairness",
    "start": "11920",
    "end": "12559"
  },
  {
    "text": "could be ips overflow control protection",
    "start": "12559",
    "end": "15519"
  },
  {
    "text": "before we are getting started i need to",
    "start": "15519",
    "end": "17199"
  },
  {
    "text": "say that",
    "start": "17199",
    "end": "17760"
  },
  {
    "text": "because this presentation is held online",
    "start": "17760",
    "end": "20240"
  },
  {
    "text": "virtually",
    "start": "20240",
    "end": "21119"
  },
  {
    "text": "so i enrich the contents of this",
    "start": "21119",
    "end": "23359"
  },
  {
    "text": "powerpoint service so that you can check",
    "start": "23359",
    "end": "25119"
  },
  {
    "text": "out the details after it's finished",
    "start": "25119",
    "end": "27920"
  },
  {
    "text": "in the topic is about a",
    "start": "27920",
    "end": "31279"
  },
  {
    "start": "30000",
    "end": "30000"
  },
  {
    "text": "new feature gate introduced into",
    "start": "31279",
    "end": "33520"
  },
  {
    "text": "kubernetes 118 release named api",
    "start": "33520",
    "end": "36160"
  },
  {
    "text": "priority and fairness",
    "start": "36160",
    "end": "38320"
  },
  {
    "text": "and earlier this year in april there is",
    "start": "38320",
    "end": "40719"
  },
  {
    "text": "a official blog on the kubernetes sites",
    "start": "40719",
    "end": "43680"
  },
  {
    "text": "named api priority and furnace alpha",
    "start": "43680",
    "end": "46719"
  },
  {
    "text": "which basically tells you what's",
    "start": "46719",
    "end": "48879"
  },
  {
    "text": "happening",
    "start": "48879",
    "end": "51039"
  },
  {
    "text": "in the alpha releases and if you don't",
    "start": "51039",
    "end": "54480"
  },
  {
    "text": "got",
    "start": "54480",
    "end": "54800"
  },
  {
    "text": "any backgrounds or any other",
    "start": "54800",
    "end": "56480"
  },
  {
    "text": "informations about this feature",
    "start": "56480",
    "end": "58000"
  },
  {
    "text": "i highly recommend you to with this vlog",
    "start": "58000",
    "end": "60960"
  },
  {
    "text": "it's",
    "start": "60960",
    "end": "61440"
  },
  {
    "text": "only gonna take you like five minutes",
    "start": "61440",
    "end": "65119"
  },
  {
    "text": "so for for folks who are interested in",
    "start": "65119",
    "end": "67920"
  },
  {
    "text": "the",
    "start": "67920",
    "end": "68400"
  },
  {
    "text": "design or implementation details",
    "start": "68400",
    "end": "71600"
  },
  {
    "text": "there is also a cap under the",
    "start": "71600",
    "end": "74640"
  },
  {
    "text": "kubernetes cvp machinery folder",
    "start": "74640",
    "end": "78479"
  },
  {
    "text": "it's gonna take you have a deeper",
    "start": "78479",
    "end": "82720"
  },
  {
    "text": "insight of this feature um",
    "start": "82720",
    "end": "86000"
  },
  {
    "text": "and the things you might be interested",
    "start": "86000",
    "end": "89920"
  },
  {
    "text": "um when in terms of further customizing",
    "start": "89920",
    "end": "93600"
  },
  {
    "text": "for your cluster",
    "start": "93600",
    "end": "95600"
  },
  {
    "start": "95000",
    "end": "95000"
  },
  {
    "text": "um then i'm gonna have a brief",
    "start": "95600",
    "end": "97520"
  },
  {
    "text": "introduction about myself",
    "start": "97520",
    "end": "99280"
  },
  {
    "text": "i mean i'm working at um ounce group",
    "start": "99280",
    "end": "102640"
  },
  {
    "text": "as a software engineer and i've been",
    "start": "102640",
    "end": "105840"
  },
  {
    "text": "working as",
    "start": "105840",
    "end": "106479"
  },
  {
    "text": "the api machinery for about three years",
    "start": "106479",
    "end": "110399"
  },
  {
    "text": "and i'm also a kubernetes c api",
    "start": "110399",
    "end": "113520"
  },
  {
    "text": "machinery subject owners",
    "start": "113520",
    "end": "116000"
  },
  {
    "text": "covering several subjects my github",
    "start": "116000",
    "end": "119119"
  },
  {
    "text": "analysis ue 994488q",
    "start": "119119",
    "end": "123200"
  },
  {
    "text": "the same name is also my gmail account",
    "start": "123200",
    "end": "127680"
  },
  {
    "text": "if you got any questions after this",
    "start": "127680",
    "end": "129679"
  },
  {
    "text": "presentation please feel free to contact",
    "start": "129679",
    "end": "132000"
  },
  {
    "text": "me",
    "start": "132000",
    "end": "132319"
  },
  {
    "text": "by either the email or the names on the",
    "start": "132319",
    "end": "135680"
  },
  {
    "text": "kubernetes slack channels",
    "start": "135680",
    "end": "138400"
  },
  {
    "start": "138000",
    "end": "138000"
  },
  {
    "text": "so um the the team the squad building",
    "start": "138400",
    "end": "142480"
  },
  {
    "text": "this feature",
    "start": "142480",
    "end": "143440"
  },
  {
    "text": "covers many different developers from",
    "start": "143440",
    "end": "146080"
  },
  {
    "text": "different countries",
    "start": "146080",
    "end": "147200"
  },
  {
    "text": "in different um companies and my",
    "start": "147200",
    "end": "151120"
  },
  {
    "text": "uh so there's mike from ibm daniel from",
    "start": "151120",
    "end": "154720"
  },
  {
    "text": "google",
    "start": "154720",
    "end": "155440"
  },
  {
    "text": "david from red hats and there are also",
    "start": "155440",
    "end": "158160"
  },
  {
    "text": "other",
    "start": "158160",
    "end": "158560"
  },
  {
    "text": "contributors so far uh aaron johnson",
    "start": "158560",
    "end": "161920"
  },
  {
    "text": "bruce lee monge thank you for all your",
    "start": "161920",
    "end": "164640"
  },
  {
    "text": "contributions so far",
    "start": "164640",
    "end": "167840"
  },
  {
    "start": "168000",
    "end": "168000"
  },
  {
    "text": "then let's take a look at the agenda of",
    "start": "168560",
    "end": "171040"
  },
  {
    "text": "our",
    "start": "171040",
    "end": "171599"
  },
  {
    "text": "presentation today um we're gonna show",
    "start": "171599",
    "end": "174640"
  },
  {
    "text": "you the",
    "start": "174640",
    "end": "175440"
  },
  {
    "text": "background and motivation of this",
    "start": "175440",
    "end": "177360"
  },
  {
    "text": "feature then there's going to be a",
    "start": "177360",
    "end": "180480"
  },
  {
    "text": "visit virtual inspection of system",
    "start": "180480",
    "end": "182319"
  },
  {
    "text": "design",
    "start": "182319",
    "end": "183599"
  },
  {
    "text": "and and next i will also show you the",
    "start": "183599",
    "end": "186959"
  },
  {
    "text": "r for the offer station implementation",
    "start": "186959",
    "end": "189360"
  },
  {
    "text": "uh which",
    "start": "189360",
    "end": "190400"
  },
  {
    "text": "basically covers the api models in uh",
    "start": "190400",
    "end": "194159"
  },
  {
    "text": "a and and the systems the implementation",
    "start": "194159",
    "end": "197680"
  },
  {
    "text": "sources",
    "start": "197680",
    "end": "198800"
  },
  {
    "text": "and then we move on to the demo",
    "start": "198800",
    "end": "202000"
  },
  {
    "text": "in which i will show you how to",
    "start": "202000",
    "end": "203599"
  },
  {
    "text": "customize flow control settings for your",
    "start": "203599",
    "end": "205519"
  },
  {
    "text": "own clusters",
    "start": "205519",
    "end": "206799"
  },
  {
    "text": "mostly we are using a kmd cluster",
    "start": "206799",
    "end": "210879"
  },
  {
    "text": "which is just created by me um",
    "start": "210879",
    "end": "213920"
  },
  {
    "text": "in the virtual um um not not in a",
    "start": "213920",
    "end": "216640"
  },
  {
    "text": "virtual website",
    "start": "216640",
    "end": "217599"
  },
  {
    "text": "it's um just a new brand new cluster",
    "start": "217599",
    "end": "220720"
  },
  {
    "text": "so that you can easily reproduce that",
    "start": "220720",
    "end": "223680"
  },
  {
    "text": "you can easily",
    "start": "223680",
    "end": "224799"
  },
  {
    "text": "rerun that in your local environment and",
    "start": "224799",
    "end": "228400"
  },
  {
    "text": "at last i will show you there's a few",
    "start": "228400",
    "end": "231280"
  },
  {
    "text": "planned enhancements for the data stage",
    "start": "231280",
    "end": "234959"
  },
  {
    "text": "okay let's move on to the first part the",
    "start": "234959",
    "end": "237519"
  },
  {
    "text": "background and motivation",
    "start": "237519",
    "end": "240319"
  },
  {
    "start": "239000",
    "end": "239000"
  },
  {
    "text": "basically there are two higher goals of",
    "start": "240319",
    "end": "242720"
  },
  {
    "text": "our future",
    "start": "242720",
    "end": "243599"
  },
  {
    "text": "the first one is the self-protection",
    "start": "243599",
    "end": "246879"
  },
  {
    "text": "um which basically covers two points",
    "start": "246879",
    "end": "250720"
  },
  {
    "text": "the first is prioritize cluster critical",
    "start": "250720",
    "end": "253439"
  },
  {
    "text": "requests for self-maintenance",
    "start": "253439",
    "end": "255760"
  },
  {
    "text": "and the second one is prevent spamming",
    "start": "255760",
    "end": "258079"
  },
  {
    "text": "clients or buggy controllers from",
    "start": "258079",
    "end": "259919"
  },
  {
    "text": "stunning the whole cluster",
    "start": "259919",
    "end": "263040"
  },
  {
    "text": "the the first one is basically saying",
    "start": "263840",
    "end": "266160"
  },
  {
    "text": "that we are going to sort all the client",
    "start": "266160",
    "end": "268320"
  },
  {
    "text": "requests into different priorities and",
    "start": "268320",
    "end": "271520"
  },
  {
    "text": "the second one is saying that we are not",
    "start": "271520",
    "end": "273919"
  },
  {
    "text": "um we are not allowing any client",
    "start": "273919",
    "end": "276160"
  },
  {
    "text": "request to",
    "start": "276160",
    "end": "277199"
  },
  {
    "text": "spoil all the clusters there will be a",
    "start": "277199",
    "end": "280080"
  },
  {
    "text": "vanilla",
    "start": "280080",
    "end": "280960"
  },
  {
    "text": "isolation between clients um",
    "start": "280960",
    "end": "284800"
  },
  {
    "start": "284000",
    "end": "284000"
  },
  {
    "text": "as for protection we are actually",
    "start": "284800",
    "end": "287440"
  },
  {
    "text": "protecting cool bfa servers from",
    "start": "287440",
    "end": "289360"
  },
  {
    "text": "incoming client requests",
    "start": "289360",
    "end": "291040"
  },
  {
    "text": "so we should start by understanding",
    "start": "291040",
    "end": "293919"
  },
  {
    "text": "there are different kinds of client",
    "start": "293919",
    "end": "295360"
  },
  {
    "text": "requests being served by the",
    "start": "295360",
    "end": "297199"
  },
  {
    "text": "typical kubernetes servers there are ips",
    "start": "297199",
    "end": "300160"
  },
  {
    "text": "server",
    "start": "300160",
    "end": "300800"
  },
  {
    "text": "loopbacks delegated requests from a",
    "start": "300800",
    "end": "303199"
  },
  {
    "text": "aggregated api server or",
    "start": "303199",
    "end": "305120"
  },
  {
    "text": "mission reports there are also",
    "start": "305120",
    "end": "307120"
  },
  {
    "text": "controller requests",
    "start": "307120",
    "end": "308479"
  },
  {
    "text": "and there are email requests",
    "start": "308479",
    "end": "312160"
  },
  {
    "start": "311000",
    "end": "311000"
  },
  {
    "text": "um as for kubernetes server loopbacks",
    "start": "312560",
    "end": "316320"
  },
  {
    "text": "so the coolback server instance will be",
    "start": "316320",
    "end": "319199"
  },
  {
    "text": "requesting against itself even if there",
    "start": "319199",
    "end": "321280"
  },
  {
    "text": "are no client requests at all",
    "start": "321280",
    "end": "323440"
  },
  {
    "text": "such as um there's a informal factory",
    "start": "323440",
    "end": "326720"
  },
  {
    "text": "instance",
    "start": "326720",
    "end": "327440"
  },
  {
    "text": "singleton in each of the google play",
    "start": "327440",
    "end": "330000"
  },
  {
    "text": "server process",
    "start": "330000",
    "end": "331520"
  },
  {
    "text": "uh basically the cool web server need to",
    "start": "331520",
    "end": "334080"
  },
  {
    "text": "know the actual status of",
    "start": "334080",
    "end": "335600"
  },
  {
    "text": "each clusters by accessing the",
    "start": "335600",
    "end": "338960"
  },
  {
    "text": "object cache provided by the informal",
    "start": "338960",
    "end": "341919"
  },
  {
    "text": "factory",
    "start": "341919",
    "end": "342800"
  },
  {
    "text": "all of these informers will keep raising",
    "start": "342800",
    "end": "345680"
  },
  {
    "text": "a list and watch requests",
    "start": "345680",
    "end": "347600"
  },
  {
    "text": "against the cool web server until it's",
    "start": "347600",
    "end": "349520"
  },
  {
    "text": "down",
    "start": "349520",
    "end": "351039"
  },
  {
    "text": "and there are also several embedded",
    "start": "351039",
    "end": "353600"
  },
  {
    "text": "controllers inside equipment",
    "start": "353600",
    "end": "355280"
  },
  {
    "text": "server uh for example there's cluster ca",
    "start": "355280",
    "end": "358080"
  },
  {
    "text": "rotators",
    "start": "358080",
    "end": "359280"
  },
  {
    "text": "and there are crd related controllers um",
    "start": "359280",
    "end": "362160"
  },
  {
    "text": "and there are also api server",
    "start": "362160",
    "end": "363680"
  },
  {
    "text": "application related controllers",
    "start": "363680",
    "end": "366000"
  },
  {
    "text": "all of these controllers should be",
    "start": "366000",
    "end": "368240"
  },
  {
    "text": "regarded as",
    "start": "368240",
    "end": "369600"
  },
  {
    "text": "first-class citizens in the kubernetes",
    "start": "369600",
    "end": "372319"
  },
  {
    "text": "world because",
    "start": "372319",
    "end": "373440"
  },
  {
    "text": "they are strongly connected with the",
    "start": "373440",
    "end": "375520"
  },
  {
    "text": "house status of whole cluster",
    "start": "375520",
    "end": "377520"
  },
  {
    "text": "if you are failing the cluster loopbacks",
    "start": "377520",
    "end": "380639"
  },
  {
    "text": "then there's gonna be bigger problems in",
    "start": "380639",
    "end": "383919"
  },
  {
    "text": "your clusters",
    "start": "383919",
    "end": "385360"
  },
  {
    "text": "um the your clusters is very very likely",
    "start": "385360",
    "end": "388240"
  },
  {
    "text": "to be crashing down",
    "start": "388240",
    "end": "390800"
  },
  {
    "start": "390000",
    "end": "390000"
  },
  {
    "text": "and as for the delegated request from",
    "start": "390800",
    "end": "393440"
  },
  {
    "text": "aggregate api server and mission",
    "start": "393440",
    "end": "395039"
  },
  {
    "text": "notebooks",
    "start": "395039",
    "end": "397199"
  },
  {
    "text": "so basically the google server provided",
    "start": "397199",
    "end": "399360"
  },
  {
    "text": "us some",
    "start": "399360",
    "end": "400440"
  },
  {
    "text": "extensibilities to allows us",
    "start": "400440",
    "end": "403520"
  },
  {
    "text": "to add new results to the cluster",
    "start": "403520",
    "end": "406560"
  },
  {
    "text": "and also intercept some of the resources",
    "start": "406560",
    "end": "410560"
  },
  {
    "text": "these extensions will be invoked during",
    "start": "410560",
    "end": "413120"
  },
  {
    "text": "the time when the curriculum",
    "start": "413120",
    "end": "414400"
  },
  {
    "text": "server serving a incoming request for",
    "start": "414400",
    "end": "417039"
  },
  {
    "text": "example if you add a",
    "start": "417039",
    "end": "418880"
  },
  {
    "text": "mission web box on the powder resource",
    "start": "418880",
    "end": "421440"
  },
  {
    "text": "then",
    "start": "421440",
    "end": "422000"
  },
  {
    "text": "when you are start starting a request",
    "start": "422000",
    "end": "424880"
  },
  {
    "text": "against",
    "start": "424880",
    "end": "425919"
  },
  {
    "text": "kubernetes server on portal resource",
    "start": "425919",
    "end": "428160"
  },
  {
    "text": "then the kubernetes server will raise",
    "start": "428160",
    "end": "429919"
  },
  {
    "text": "another request against the",
    "start": "429919",
    "end": "431520"
  },
  {
    "text": "emission reports um the secondary",
    "start": "431520",
    "end": "434880"
  },
  {
    "text": "request should be should have a higher",
    "start": "434880",
    "end": "438240"
  },
  {
    "text": "priority than the original request",
    "start": "438240",
    "end": "440240"
  },
  {
    "text": "otherwise there is going to be a",
    "start": "440240",
    "end": "442000"
  },
  {
    "text": "deadlock in the request chain which is",
    "start": "442000",
    "end": "445199"
  },
  {
    "text": "going to cause some problems in the",
    "start": "445199",
    "end": "448840"
  },
  {
    "text": "clusters",
    "start": "448840",
    "end": "450080"
  },
  {
    "start": "450000",
    "end": "450000"
  },
  {
    "text": "and there are also controller problems",
    "start": "450080",
    "end": "453840"
  },
  {
    "text": "uh we had a situation where a bug in the",
    "start": "453840",
    "end": "456639"
  },
  {
    "text": "deployment controller",
    "start": "456639",
    "end": "458000"
  },
  {
    "text": "caused it to run a mac under certain",
    "start": "458000",
    "end": "460160"
  },
  {
    "text": "certain circumstances",
    "start": "460160",
    "end": "462000"
  },
  {
    "text": "usually issuing requests in the types",
    "start": "462000",
    "end": "464479"
  },
  {
    "text": "loop",
    "start": "464479",
    "end": "465440"
  },
  {
    "text": "so we'd like these um controller parts",
    "start": "465440",
    "end": "468479"
  },
  {
    "text": "not to take the whole system down",
    "start": "468479",
    "end": "470720"
  },
  {
    "text": "um these controllers",
    "start": "470720",
    "end": "473840"
  },
  {
    "text": "can also be some custom controllers",
    "start": "473840",
    "end": "476479"
  },
  {
    "text": "which is",
    "start": "476479",
    "end": "477360"
  },
  {
    "text": "developed by elaborating some",
    "start": "477360",
    "end": "481680"
  },
  {
    "text": "scaffolding tooling for example",
    "start": "481680",
    "end": "483360"
  },
  {
    "text": "computers",
    "start": "483360",
    "end": "484960"
  },
  {
    "text": "playing with the custom resource",
    "start": "484960",
    "end": "486400"
  },
  {
    "text": "definitions and",
    "start": "486400",
    "end": "488720"
  },
  {
    "text": "if if these buggy controllers can have",
    "start": "488720",
    "end": "491680"
  },
  {
    "text": "these",
    "start": "491680",
    "end": "492400"
  },
  {
    "text": "new behaviors um it's going to be a harm",
    "start": "492400",
    "end": "495440"
  },
  {
    "text": "to recruitment",
    "start": "495440",
    "end": "496240"
  },
  {
    "text": "server as well",
    "start": "496240",
    "end": "498879"
  },
  {
    "start": "498000",
    "end": "498000"
  },
  {
    "text": "so the there can be controller",
    "start": "499759",
    "end": "503440"
  },
  {
    "text": "singletons",
    "start": "503440",
    "end": "504400"
  },
  {
    "text": "and there can be also daemons it can be",
    "start": "504400",
    "end": "506960"
  },
  {
    "text": "a",
    "start": "506960",
    "end": "508000"
  },
  {
    "text": "couplet proxy or other per node",
    "start": "508000",
    "end": "510560"
  },
  {
    "text": "controllers",
    "start": "510560",
    "end": "511919"
  },
  {
    "text": "um if there are bugs in these",
    "start": "511919",
    "end": "514959"
  },
  {
    "text": "per node controllers the impact the",
    "start": "514959",
    "end": "517360"
  },
  {
    "text": "influences on the system is gonna",
    "start": "517360",
    "end": "519680"
  },
  {
    "text": "be multiplied from the uh controller",
    "start": "519680",
    "end": "522240"
  },
  {
    "text": "singleton",
    "start": "522240",
    "end": "522880"
  },
  {
    "text": "so we definitely want to avoid them",
    "start": "522880",
    "end": "526000"
  },
  {
    "text": "um on the other hand these",
    "start": "526000",
    "end": "529040"
  },
  {
    "text": "uh the issues from daemons doesn't",
    "start": "529040",
    "end": "532720"
  },
  {
    "text": "necessarily connect it with a bug it can",
    "start": "532720",
    "end": "535440"
  },
  {
    "text": "be the cluster reaching its scalability",
    "start": "535440",
    "end": "537519"
  },
  {
    "text": "limits",
    "start": "537519",
    "end": "538160"
  },
  {
    "text": "for example if you have too many nodes",
    "start": "538160",
    "end": "540000"
  },
  {
    "text": "in the cluster",
    "start": "540000",
    "end": "541360"
  },
  {
    "text": "then your cluster will be reaching the",
    "start": "541360",
    "end": "544560"
  },
  {
    "text": "scalability",
    "start": "544560",
    "end": "545760"
  },
  {
    "text": "settings but we don't we don't know the",
    "start": "545760",
    "end": "549360"
  },
  {
    "text": "ceilings until we actually reach it so",
    "start": "549360",
    "end": "551680"
  },
  {
    "text": "um but at least at least",
    "start": "551680",
    "end": "554720"
  },
  {
    "text": "we don't want the newly added node to be",
    "start": "554720",
    "end": "558000"
  },
  {
    "text": "um taking the whole system down um",
    "start": "558000",
    "end": "561200"
  },
  {
    "text": "there should be a way to make the",
    "start": "561200",
    "end": "564240"
  },
  {
    "text": "cluster keep running",
    "start": "564240",
    "end": "565920"
  },
  {
    "text": "even if there's too many demands added",
    "start": "565920",
    "end": "568720"
  },
  {
    "text": "to the passer",
    "start": "568720",
    "end": "571439"
  },
  {
    "text": "there's another higher proposed",
    "start": "571760",
    "end": "574320"
  },
  {
    "text": "multi-tenancy",
    "start": "574320",
    "end": "575600"
  },
  {
    "text": "which demands us to provide",
    "start": "575600",
    "end": "579440"
  },
  {
    "text": "guaranteed capacity for controllers that",
    "start": "579440",
    "end": "582000"
  },
  {
    "text": "are considered",
    "start": "582000",
    "end": "583200"
  },
  {
    "text": "less important and the tenants in the",
    "start": "583200",
    "end": "586240"
  },
  {
    "text": "same priority band",
    "start": "586240",
    "end": "587680"
  },
  {
    "text": "sharing the cluster should get an equal",
    "start": "587680",
    "end": "589279"
  },
  {
    "text": "share of their service",
    "start": "589279",
    "end": "592160"
  },
  {
    "start": "592000",
    "end": "592000"
  },
  {
    "text": "um so i believe that kubernetes is",
    "start": "592399",
    "end": "595519"
  },
  {
    "text": "designed to be shared by multiple",
    "start": "595519",
    "end": "597040"
  },
  {
    "text": "tenants",
    "start": "597040",
    "end": "597920"
  },
  {
    "text": "there are many different kinds of",
    "start": "597920",
    "end": "601120"
  },
  {
    "text": "tenants definitions so far uh a tenant",
    "start": "601120",
    "end": "604079"
  },
  {
    "text": "can be a namespace can be a user",
    "start": "604079",
    "end": "605920"
  },
  {
    "text": "can be several users sharing a prefix",
    "start": "605920",
    "end": "609040"
  },
  {
    "text": "or several users having the same",
    "start": "609040",
    "end": "612160"
  },
  {
    "text": "host in the same group and don't forget",
    "start": "612160",
    "end": "615360"
  },
  {
    "text": "that there's another",
    "start": "615360",
    "end": "616480"
  },
  {
    "text": "subproject under kubernetes 6 named",
    "start": "616480",
    "end": "618560"
  },
  {
    "text": "multi-tenancy",
    "start": "618560",
    "end": "619680"
  },
  {
    "text": "which has a brand new definition of",
    "start": "619680",
    "end": "621360"
  },
  {
    "text": "tenants which is basically",
    "start": "621360",
    "end": "623440"
  },
  {
    "text": "a group of name spaces",
    "start": "623440",
    "end": "627200"
  },
  {
    "start": "626000",
    "end": "626000"
  },
  {
    "text": "there are also non-goals of our",
    "start": "627200",
    "end": "630480"
  },
  {
    "text": "future background there will be no",
    "start": "630480",
    "end": "633600"
  },
  {
    "text": "coordination between the api server",
    "start": "633600",
    "end": "635760"
  },
  {
    "text": "now is a external load balancer",
    "start": "635760",
    "end": "639200"
  },
  {
    "text": "and will be also not to attempt auto",
    "start": "639200",
    "end": "641920"
  },
  {
    "text": "tuning the capacity",
    "start": "641920",
    "end": "643519"
  },
  {
    "text": "we will not attempt to reproduce the",
    "start": "643519",
    "end": "645839"
  },
  {
    "text": "functionality",
    "start": "645839",
    "end": "647040"
  },
  {
    "text": "of the existing event we're limiting",
    "start": "647040",
    "end": "649279"
  },
  {
    "text": "emission plugin",
    "start": "649279",
    "end": "650800"
  },
  {
    "text": "the mission plugin is basically",
    "start": "650800",
    "end": "653279"
  },
  {
    "text": "intercepting the request against",
    "start": "653279",
    "end": "656000"
  },
  {
    "text": "event resource by using a token bucket",
    "start": "656000",
    "end": "659519"
  },
  {
    "text": "filter",
    "start": "659519",
    "end": "660320"
  },
  {
    "text": "so this one is basically saying that we",
    "start": "660320",
    "end": "662959"
  },
  {
    "text": "are not generalizing the",
    "start": "662959",
    "end": "664480"
  },
  {
    "text": "token bucket filters to all the",
    "start": "664480",
    "end": "666240"
  },
  {
    "text": "resources or something like that",
    "start": "666240",
    "end": "669920"
  },
  {
    "text": "let's move on to the second part the",
    "start": "669920",
    "end": "671440"
  },
  {
    "text": "system design retrospective",
    "start": "671440",
    "end": "674480"
  },
  {
    "text": "so uh we need to know their um basics",
    "start": "674480",
    "end": "678000"
  },
  {
    "text": "about",
    "start": "678000",
    "end": "678560"
  },
  {
    "text": "flow counter algorithms um there are",
    "start": "678560",
    "end": "680800"
  },
  {
    "text": "basically two kinds of flow control",
    "start": "680800",
    "end": "682560"
  },
  {
    "text": "algorithms the first one is that the",
    "start": "682560",
    "end": "684560"
  },
  {
    "text": "source or the client side",
    "start": "684560",
    "end": "686000"
  },
  {
    "text": "and the second one is that the gateway",
    "start": "686000",
    "end": "687920"
  },
  {
    "text": "or server services",
    "start": "687920",
    "end": "689839"
  },
  {
    "text": "um this client-side re-limiting is",
    "start": "689839",
    "end": "692000"
  },
  {
    "text": "already supported",
    "start": "692000",
    "end": "693120"
  },
  {
    "text": "because uh could observable about",
    "start": "693120",
    "end": "696480"
  },
  {
    "text": "the the kubernetes triangle provides a",
    "start": "696480",
    "end": "699440"
  },
  {
    "text": "token bucket re-limiter for muzzling the",
    "start": "699440",
    "end": "701600"
  },
  {
    "text": "clients",
    "start": "701600",
    "end": "702560"
  },
  {
    "text": "and there was even a dedicated emission",
    "start": "702560",
    "end": "705680"
  },
  {
    "text": "controllers for",
    "start": "705680",
    "end": "707040"
  },
  {
    "text": "limiting the re-limiting the events but",
    "start": "707040",
    "end": "710000"
  },
  {
    "text": "there are still",
    "start": "710000",
    "end": "711200"
  },
  {
    "text": "a few known defects the first one is",
    "start": "711200",
    "end": "713519"
  },
  {
    "text": "that user can opt out",
    "start": "713519",
    "end": "715200"
  },
  {
    "text": "from the limiting by granting the",
    "start": "715200",
    "end": "718480"
  },
  {
    "text": "token buckets minus or infinite capacity",
    "start": "718480",
    "end": "722639"
  },
  {
    "text": "and also it's um sometimes it's tough to",
    "start": "722639",
    "end": "725600"
  },
  {
    "text": "control the granularity if there are",
    "start": "725600",
    "end": "727680"
  },
  {
    "text": "multiple controller multiple clients uh",
    "start": "727680",
    "end": "730480"
  },
  {
    "text": "in",
    "start": "730480",
    "end": "730800"
  },
  {
    "text": "building in the same components in the",
    "start": "730800",
    "end": "733120"
  },
  {
    "text": "same core processes",
    "start": "733120",
    "end": "734800"
  },
  {
    "text": "for example we want a higher um",
    "start": "734800",
    "end": "738000"
  },
  {
    "text": "a loose a loose control limiting for one",
    "start": "738000",
    "end": "741360"
  },
  {
    "text": "controller",
    "start": "741360",
    "end": "742320"
  },
  {
    "text": "and tighter for another then it's going",
    "start": "742320",
    "end": "745200"
  },
  {
    "text": "to be",
    "start": "745200",
    "end": "746560"
  },
  {
    "text": "a bit tough to configure",
    "start": "746560",
    "end": "749760"
  },
  {
    "text": "um then let's take a look at the",
    "start": "749760",
    "end": "752079"
  },
  {
    "text": "existing limiters in the kubrick",
    "start": "752079",
    "end": "754000"
  },
  {
    "text": "servers um there are two dimensions",
    "start": "754000",
    "end": "757120"
  },
  {
    "text": "to to do the limits the first one is",
    "start": "757120",
    "end": "760560"
  },
  {
    "text": "by configuring max mutating requesting",
    "start": "760560",
    "end": "763440"
  },
  {
    "text": "flights",
    "start": "763440",
    "end": "763920"
  },
  {
    "text": "max request in flight flex which allows",
    "start": "763920",
    "end": "767200"
  },
  {
    "text": "you to",
    "start": "767200",
    "end": "768399"
  },
  {
    "text": "set the limits of required concurrency",
    "start": "768399",
    "end": "771120"
  },
  {
    "text": "request count",
    "start": "771120",
    "end": "772560"
  },
  {
    "text": "on either mutating requests or",
    "start": "772560",
    "end": "775680"
  },
  {
    "text": "non-mutating requests",
    "start": "775680",
    "end": "777920"
  },
  {
    "text": "and you can also apply a timeout for",
    "start": "777920",
    "end": "781040"
  },
  {
    "text": "non-wrong running requests",
    "start": "781040",
    "end": "783120"
  },
  {
    "text": "which is basically the non-watch",
    "start": "783120",
    "end": "785120"
  },
  {
    "text": "requests",
    "start": "785120",
    "end": "787600"
  },
  {
    "start": "788000",
    "end": "788000"
  },
  {
    "text": "then let's move on uh learn from the",
    "start": "788240",
    "end": "791040"
  },
  {
    "text": "linux",
    "start": "791040",
    "end": "791680"
  },
  {
    "text": "qt's systems",
    "start": "791680",
    "end": "794959"
  },
  {
    "text": "because it's going to be really helpful",
    "start": "794959",
    "end": "796959"
  },
  {
    "text": "for us to understand",
    "start": "796959",
    "end": "798639"
  },
  {
    "text": "how the um the",
    "start": "798639",
    "end": "802000"
  },
  {
    "text": "linux networking system really limiting",
    "start": "802000",
    "end": "804000"
  },
  {
    "text": "systems which is already proven to be",
    "start": "804000",
    "end": "806480"
  },
  {
    "text": "successful",
    "start": "806480",
    "end": "807519"
  },
  {
    "text": "um there are basically two kinds of",
    "start": "807519",
    "end": "810560"
  },
  {
    "text": "qdisk in linux networking the first one",
    "start": "810560",
    "end": "813360"
  },
  {
    "text": "says",
    "start": "813360",
    "end": "814000"
  },
  {
    "text": "classless and class 4",
    "start": "814000",
    "end": "817440"
  },
  {
    "text": "there are there are a few outstanding",
    "start": "817440",
    "end": "820880"
  },
  {
    "text": "algorithms from robbing codel tbf",
    "start": "820880",
    "end": "824480"
  },
  {
    "text": "under the classless q disk and actually",
    "start": "824480",
    "end": "827760"
  },
  {
    "text": "there",
    "start": "827760",
    "end": "828399"
  },
  {
    "text": "there's a longer list of it but",
    "start": "828399",
    "end": "831600"
  },
  {
    "text": "we're not showing every algorithms just",
    "start": "831600",
    "end": "834480"
  },
  {
    "text": "a few",
    "start": "834480",
    "end": "835519"
  },
  {
    "text": "uh outstanding algorithms um",
    "start": "835519",
    "end": "839199"
  },
  {
    "text": "anyway the in the class list qdisk every",
    "start": "839199",
    "end": "842320"
  },
  {
    "text": "request will be regarded",
    "start": "842320",
    "end": "843760"
  },
  {
    "text": "equally um but in the kubernetes",
    "start": "843760",
    "end": "847600"
  },
  {
    "text": "api server um there's already a system",
    "start": "847600",
    "end": "851360"
  },
  {
    "text": "of authentication",
    "start": "851360",
    "end": "852639"
  },
  {
    "text": "authorization so there is already a",
    "start": "852639",
    "end": "855519"
  },
  {
    "text": "abstract",
    "start": "855519",
    "end": "856160"
  },
  {
    "text": "of user identities um so",
    "start": "856160",
    "end": "859600"
  },
  {
    "text": "we need the task force in building the",
    "start": "859600",
    "end": "862720"
  },
  {
    "text": "google",
    "start": "862720",
    "end": "863279"
  },
  {
    "text": "server there there's",
    "start": "863279",
    "end": "867440"
  },
  {
    "text": "a few um class for queue this",
    "start": "867440",
    "end": "870800"
  },
  {
    "text": "algorithms building in the linux",
    "start": "870800",
    "end": "873279"
  },
  {
    "text": "networking systems",
    "start": "873279",
    "end": "875040"
  },
  {
    "text": "um there's deficits wrong grouping",
    "start": "875040",
    "end": "878240"
  },
  {
    "text": "and hierarchical token buckets",
    "start": "878240",
    "end": "881760"
  },
  {
    "text": "to mention one thing to mention is that",
    "start": "881760",
    "end": "884480"
  },
  {
    "text": "we are learning a lot from the both",
    "start": "884480",
    "end": "886560"
  },
  {
    "text": "algorithms i remember we spent like",
    "start": "886560",
    "end": "889760"
  },
  {
    "text": "several meetings discussing um the",
    "start": "889760",
    "end": "892880"
  },
  {
    "text": "differences from",
    "start": "892880",
    "end": "898399"
  },
  {
    "text": "that deficit from robin uh and there's a",
    "start": "898399",
    "end": "901519"
  },
  {
    "text": "few other algorithms",
    "start": "901519",
    "end": "903120"
  },
  {
    "text": "especially the hierarchical token",
    "start": "903120",
    "end": "904959"
  },
  {
    "text": "buckets it's a bit",
    "start": "904959",
    "end": "906399"
  },
  {
    "text": "complicated but um it's it's proven to",
    "start": "906399",
    "end": "910160"
  },
  {
    "text": "be working",
    "start": "910160",
    "end": "911040"
  },
  {
    "text": "well for most of the use cases",
    "start": "911040",
    "end": "914880"
  },
  {
    "start": "914000",
    "end": "914000"
  },
  {
    "text": "so um here's a obstruction of",
    "start": "914880",
    "end": "918079"
  },
  {
    "text": "a flow control system class for flow",
    "start": "918079",
    "end": "920880"
  },
  {
    "text": "control system",
    "start": "920880",
    "end": "921920"
  },
  {
    "text": "we want to build in the google web",
    "start": "921920",
    "end": "923279"
  },
  {
    "text": "server they're basically gonna be",
    "start": "923279",
    "end": "925680"
  },
  {
    "text": "three abstract components the first one",
    "start": "925680",
    "end": "928480"
  },
  {
    "text": "is the rule-based classifier",
    "start": "928480",
    "end": "930240"
  },
  {
    "text": "then a queue assigner then a queue",
    "start": "930240",
    "end": "933279"
  },
  {
    "text": "scheduler",
    "start": "933279",
    "end": "934079"
  },
  {
    "text": "the three components is basically",
    "start": "934079",
    "end": "936079"
  },
  {
    "text": "working like a",
    "start": "936079",
    "end": "938560"
  },
  {
    "text": "lambda functions classify a maps request",
    "start": "938560",
    "end": "941759"
  },
  {
    "text": "through a",
    "start": "941759",
    "end": "942800"
  },
  {
    "text": "request class a keyword signer puts a",
    "start": "942800",
    "end": "946240"
  },
  {
    "text": "request in a request class into into",
    "start": "946240",
    "end": "948959"
  },
  {
    "text": "certain queues",
    "start": "948959",
    "end": "950160"
  },
  {
    "text": "then secure scanner applies delays to",
    "start": "950160",
    "end": "953360"
  },
  {
    "text": "the queues",
    "start": "953360",
    "end": "954880"
  },
  {
    "text": "where the um where the request is",
    "start": "954880",
    "end": "958320"
  },
  {
    "text": "waiting um",
    "start": "958320",
    "end": "962399"
  },
  {
    "start": "962000",
    "end": "962000"
  },
  {
    "text": "then let's move on to the to what we can",
    "start": "962399",
    "end": "964959"
  },
  {
    "text": "do in the classifier",
    "start": "964959",
    "end": "966480"
  },
  {
    "text": "um we extend the obstruction of class",
    "start": "966480",
    "end": "970000"
  },
  {
    "text": "from linux tc systems to priority levels",
    "start": "970000",
    "end": "972880"
  },
  {
    "text": "in the cloud web server in the new flow",
    "start": "972880",
    "end": "975279"
  },
  {
    "text": "control system",
    "start": "975279",
    "end": "976399"
  },
  {
    "text": "a priority level is a priority level",
    "start": "976399",
    "end": "980399"
  },
  {
    "text": "band that request in higher priorities",
    "start": "980399",
    "end": "982959"
  },
  {
    "text": "should have",
    "start": "982959",
    "end": "983920"
  },
  {
    "text": "a higher should be executed in prior to",
    "start": "983920",
    "end": "987040"
  },
  {
    "text": "lower priorities and a priority level",
    "start": "987040",
    "end": "990480"
  },
  {
    "text": "is a request class in which all of these",
    "start": "990480",
    "end": "994160"
  },
  {
    "text": "matching requests will be handled",
    "start": "994160",
    "end": "995759"
  },
  {
    "text": "equally and",
    "start": "995759",
    "end": "997759"
  },
  {
    "text": "a parameter level is also a pro a",
    "start": "997759",
    "end": "1001040"
  },
  {
    "text": "request class",
    "start": "1001040",
    "end": "1002000"
  },
  {
    "text": "where we applies the same rejection",
    "start": "1002000",
    "end": "1004480"
  },
  {
    "text": "strategy",
    "start": "1004480",
    "end": "1007040"
  },
  {
    "text": "so to classify the request into proper",
    "start": "1008079",
    "end": "1010720"
  },
  {
    "text": "priority levels",
    "start": "1010720",
    "end": "1012000"
  },
  {
    "text": "the informations we can get from the",
    "start": "1012000",
    "end": "1014079"
  },
  {
    "text": "crew backup server",
    "start": "1014079",
    "end": "1015360"
  },
  {
    "text": "request contacts is um",
    "start": "1015360",
    "end": "1018480"
  },
  {
    "text": "for the first one is client side",
    "start": "1018480",
    "end": "1020240"
  },
  {
    "text": "identity uh for now there are two kinds",
    "start": "1020240",
    "end": "1022880"
  },
  {
    "text": "of",
    "start": "1022880",
    "end": "1023440"
  },
  {
    "text": "useful identities the first one is the",
    "start": "1023440",
    "end": "1025600"
  },
  {
    "text": "user or username",
    "start": "1025600",
    "end": "1027038"
  },
  {
    "text": "then the user groups like a list of tags",
    "start": "1027039",
    "end": "1031280"
  },
  {
    "text": "on the users",
    "start": "1031280",
    "end": "1032880"
  },
  {
    "text": "then there are requesting targets",
    "start": "1032880",
    "end": "1036839"
  },
  {
    "text": "um which basically covers the requesting",
    "start": "1036839",
    "end": "1041038"
  },
  {
    "text": "name spaces and other request metadata",
    "start": "1041039",
    "end": "1044079"
  },
  {
    "text": "from example the works",
    "start": "1044079",
    "end": "1045520"
  },
  {
    "text": "then the targeted resource types etc",
    "start": "1045520",
    "end": "1050080"
  },
  {
    "text": "um so so we know that what we are doing",
    "start": "1050080",
    "end": "1052880"
  },
  {
    "text": "in the keyword designer is basically",
    "start": "1052880",
    "end": "1054720"
  },
  {
    "text": "uh mapping a request to",
    "start": "1054720",
    "end": "1058080"
  },
  {
    "text": "a priority level using the identity",
    "start": "1058080",
    "end": "1061280"
  },
  {
    "text": "of this",
    "start": "1061280",
    "end": "1063760"
  },
  {
    "text": "then let's move on to the keyword",
    "start": "1064720",
    "end": "1066320"
  },
  {
    "text": "designer um",
    "start": "1066320",
    "end": "1068720"
  },
  {
    "text": "so each priority level contains a group",
    "start": "1068720",
    "end": "1072080"
  },
  {
    "text": "of",
    "start": "1072080",
    "end": "1072400"
  },
  {
    "text": "request cues for scheduling uh the pro",
    "start": "1072400",
    "end": "1075360"
  },
  {
    "text": "the question is how to map a request to",
    "start": "1075360",
    "end": "1077760"
  },
  {
    "text": "one of the cubes",
    "start": "1077760",
    "end": "1079360"
  },
  {
    "text": "um one way one easiest way or",
    "start": "1079360",
    "end": "1083440"
  },
  {
    "text": "intuitive way is to map one cube per",
    "start": "1083440",
    "end": "1086480"
  },
  {
    "text": "user",
    "start": "1086480",
    "end": "1087360"
  },
  {
    "text": "um if you have um 10 users then you're",
    "start": "1087360",
    "end": "1090559"
  },
  {
    "text": "going to have",
    "start": "1090559",
    "end": "1091200"
  },
  {
    "text": "10 qs in the for one priority levels",
    "start": "1091200",
    "end": "1094320"
  },
  {
    "text": "but there are going to be problems if",
    "start": "1094320",
    "end": "1096559"
  },
  {
    "text": "you have tens of thousands of users",
    "start": "1096559",
    "end": "1099520"
  },
  {
    "text": "there if you have tens of thousand",
    "start": "1099520",
    "end": "1101280"
  },
  {
    "text": "skills in your product level then",
    "start": "1101280",
    "end": "1102880"
  },
  {
    "text": "there's gonna be a",
    "start": "1102880",
    "end": "1104400"
  },
  {
    "text": "uh significant memory cost um",
    "start": "1104400",
    "end": "1108240"
  },
  {
    "text": "to avoid that we use another technique",
    "start": "1108240",
    "end": "1110559"
  },
  {
    "text": "named the shuffle shading",
    "start": "1110559",
    "end": "1111840"
  },
  {
    "text": "um the shuffle shading helped us to",
    "start": "1111840",
    "end": "1114640"
  },
  {
    "text": "bounce",
    "start": "1114640",
    "end": "1115360"
  },
  {
    "text": "the memories into um",
    "start": "1115360",
    "end": "1119280"
  },
  {
    "text": "into a fixed number a constant number uh",
    "start": "1119280",
    "end": "1122160"
  },
  {
    "text": "in the bar",
    "start": "1122160",
    "end": "1122720"
  },
  {
    "text": "in this picture i showed you a shuffle",
    "start": "1122720",
    "end": "1125520"
  },
  {
    "text": "shouting of hand size q",
    "start": "1125520",
    "end": "1127600"
  },
  {
    "text": "and basically",
    "start": "1127600",
    "end": "1130799"
  },
  {
    "text": "the users from user one for example is",
    "start": "1130799",
    "end": "1133280"
  },
  {
    "text": "started",
    "start": "1133280",
    "end": "1134559"
  },
  {
    "text": "in a round round-robin manner to both q1",
    "start": "1134559",
    "end": "1137360"
  },
  {
    "text": "and q2",
    "start": "1137360",
    "end": "1138480"
  },
  {
    "text": "so that's the other users",
    "start": "1138480",
    "end": "1141760"
  },
  {
    "text": "um the this picture also showed",
    "start": "1141760",
    "end": "1144880"
  },
  {
    "text": "you that when the uh there's some",
    "start": "1144880",
    "end": "1147360"
  },
  {
    "text": "problem with the",
    "start": "1147360",
    "end": "1149200"
  },
  {
    "text": "user user 1 then",
    "start": "1149200",
    "end": "1152320"
  },
  {
    "text": "the impacts will be spread to q1 and q2",
    "start": "1152320",
    "end": "1157039"
  },
  {
    "text": "so the user 3 number 3 will not be",
    "start": "1157039",
    "end": "1160960"
  },
  {
    "text": "affected at all",
    "start": "1160960",
    "end": "1162400"
  },
  {
    "text": "and but user two and user four will be",
    "start": "1162400",
    "end": "1165600"
  },
  {
    "text": "partially",
    "start": "1165600",
    "end": "1166640"
  },
  {
    "text": "impacted um the higher",
    "start": "1166640",
    "end": "1169840"
  },
  {
    "text": "a higher number of uh handsets you have",
    "start": "1169840",
    "end": "1172880"
  },
  {
    "text": "the um the impact will be shouted lesser",
    "start": "1172880",
    "end": "1179280"
  },
  {
    "start": "1177000",
    "end": "1177000"
  },
  {
    "text": "and as for the q scheduler um",
    "start": "1179280",
    "end": "1182720"
  },
  {
    "text": "we we have we are we're using a",
    "start": "1182720",
    "end": "1185120"
  },
  {
    "text": "algorithm named fair queueing",
    "start": "1185120",
    "end": "1186960"
  },
  {
    "text": "which is basically aiming at achieving",
    "start": "1186960",
    "end": "1189760"
  },
  {
    "text": "the following goals",
    "start": "1189760",
    "end": "1191280"
  },
  {
    "text": "or when s4 scanning requests form kills",
    "start": "1191280",
    "end": "1194880"
  },
  {
    "text": "the first one is the even distribution",
    "start": "1194880",
    "end": "1196799"
  },
  {
    "text": "of",
    "start": "1196799",
    "end": "1198480"
  },
  {
    "text": "service capacity and the other is the",
    "start": "1198480",
    "end": "1201520"
  },
  {
    "text": "maximum fairness",
    "start": "1201520",
    "end": "1204480"
  },
  {
    "start": "1204000",
    "end": "1204000"
  },
  {
    "text": "there are a few i got a few uh details",
    "start": "1205360",
    "end": "1208799"
  },
  {
    "text": "about the fair killing",
    "start": "1208799",
    "end": "1210240"
  },
  {
    "text": "but we are not expanding them today",
    "start": "1210240",
    "end": "1213200"
  },
  {
    "text": "because",
    "start": "1213200",
    "end": "1213760"
  },
  {
    "text": "of because the time is limited um",
    "start": "1213760",
    "end": "1217440"
  },
  {
    "text": "so uh if you got interested in the fair",
    "start": "1217440",
    "end": "1220159"
  },
  {
    "text": "curing algorithms you can",
    "start": "1220159",
    "end": "1221919"
  },
  {
    "text": "uh revisit this slides afterwards",
    "start": "1221919",
    "end": "1225600"
  },
  {
    "start": "1225000",
    "end": "1225000"
  },
  {
    "text": "um so we had a variant of fair querying",
    "start": "1225600",
    "end": "1228080"
  },
  {
    "text": "for server requests",
    "start": "1228080",
    "end": "1229760"
  },
  {
    "text": "to solve these um limitations for google",
    "start": "1229760",
    "end": "1232960"
  },
  {
    "text": "server",
    "start": "1232960",
    "end": "1233679"
  },
  {
    "text": "the first one is dispatching requests to",
    "start": "1233679",
    "end": "1235919"
  },
  {
    "text": "be served",
    "start": "1235919",
    "end": "1237039"
  },
  {
    "text": "rather than packages to be transmitted",
    "start": "1237039",
    "end": "1239840"
  },
  {
    "text": "second one is multiple requests can be",
    "start": "1239840",
    "end": "1241840"
  },
  {
    "text": "served at once",
    "start": "1241840",
    "end": "1242880"
  },
  {
    "text": "the third limitation is actual service",
    "start": "1242880",
    "end": "1245039"
  },
  {
    "text": "time is not known",
    "start": "1245039",
    "end": "1246480"
  },
  {
    "text": "until a request is done being served",
    "start": "1246480",
    "end": "1250240"
  },
  {
    "text": "um so we made a few",
    "start": "1250240",
    "end": "1254080"
  },
  {
    "text": "mutations variants to the fair queuing",
    "start": "1254080",
    "end": "1256480"
  },
  {
    "text": "algorithm so that",
    "start": "1256480",
    "end": "1257679"
  },
  {
    "text": "we can adapt to the code before server",
    "start": "1257679",
    "end": "1261280"
  },
  {
    "text": "um i'm still not going to expand it",
    "start": "1261280",
    "end": "1266000"
  },
  {
    "text": "to save our time so this is um",
    "start": "1266000",
    "end": "1269280"
  },
  {
    "start": "1267000",
    "end": "1267000"
  },
  {
    "text": "the our flow control system gonna be",
    "start": "1269280",
    "end": "1271840"
  },
  {
    "text": "located",
    "start": "1271840",
    "end": "1272799"
  },
  {
    "text": "uh there's a priority level",
    "start": "1272799",
    "end": "1276720"
  },
  {
    "text": "classifier and shuffle sharding can be",
    "start": "1276720",
    "end": "1279840"
  },
  {
    "text": "fair qe",
    "start": "1279840",
    "end": "1281840"
  },
  {
    "text": "then let's take a look at the alpha",
    "start": "1281840",
    "end": "1283760"
  },
  {
    "start": "1283000",
    "end": "1283000"
  },
  {
    "text": "level uh",
    "start": "1283760",
    "end": "1284960"
  },
  {
    "text": "api definition models uh you can acquire",
    "start": "1284960",
    "end": "1288320"
  },
  {
    "text": "the",
    "start": "1288320",
    "end": "1288640"
  },
  {
    "text": "new feature by enabling the feature",
    "start": "1288640",
    "end": "1291039"
  },
  {
    "text": "gates and",
    "start": "1291039",
    "end": "1292159"
  },
  {
    "text": "add a new flags to the qrp servers",
    "start": "1292159",
    "end": "1296080"
  },
  {
    "text": "starting flex um",
    "start": "1296080",
    "end": "1299200"
  },
  {
    "start": "1298000",
    "end": "1298000"
  },
  {
    "text": "this is the exam flow schema",
    "start": "1299200",
    "end": "1302640"
  },
  {
    "text": "where you can see we we uh it matches",
    "start": "1302640",
    "end": "1306240"
  },
  {
    "text": "uh uh then when",
    "start": "1306240",
    "end": "1309440"
  },
  {
    "text": "a user in the group sees the masters",
    "start": "1309440",
    "end": "1312720"
  },
  {
    "text": "uh accessing everything in the cluster",
    "start": "1312720",
    "end": "1314960"
  },
  {
    "text": "then it will be",
    "start": "1314960",
    "end": "1316720"
  },
  {
    "text": "matching the exam flow schema there is",
    "start": "1316720",
    "end": "1320080"
  },
  {
    "start": "1319000",
    "end": "1319000"
  },
  {
    "text": "also a catch all",
    "start": "1320080",
    "end": "1321520"
  },
  {
    "text": "flow schema one thing different is that",
    "start": "1321520",
    "end": "1323679"
  },
  {
    "text": "it has a distinguisher method",
    "start": "1323679",
    "end": "1325600"
  },
  {
    "text": "if you've got interested in",
    "start": "1325600",
    "end": "1327520"
  },
  {
    "text": "distinguishable method and",
    "start": "1327520",
    "end": "1330000"
  },
  {
    "text": "you can you can take a take a look at",
    "start": "1330000",
    "end": "1332159"
  },
  {
    "text": "the caps to",
    "start": "1332159",
    "end": "1333840"
  },
  {
    "text": "know how what what what this is doing",
    "start": "1333840",
    "end": "1338320"
  },
  {
    "start": "1337000",
    "end": "1337000"
  },
  {
    "text": "and uh in the priority level",
    "start": "1338320",
    "end": "1340880"
  },
  {
    "text": "configurations",
    "start": "1340880",
    "end": "1342080"
  },
  {
    "text": "uh you have places to configure the",
    "start": "1342080",
    "end": "1345840"
  },
  {
    "text": "hand sizes for shuffle sharding which we",
    "start": "1345840",
    "end": "1349039"
  },
  {
    "text": "just talked about and then i'm gonna",
    "start": "1349039",
    "end": "1352400"
  },
  {
    "text": "have a",
    "start": "1352400",
    "end": "1353120"
  },
  {
    "text": "demo of customizing this",
    "start": "1353120",
    "end": "1357039"
  },
  {
    "text": "so i'm using a cluster",
    "start": "1359679",
    "end": "1363440"
  },
  {
    "text": "so um",
    "start": "1363440",
    "end": "1366639"
  },
  {
    "text": "you can you can create a new kmd cluster",
    "start": "1366799",
    "end": "1370320"
  },
  {
    "text": "using these settings",
    "start": "1370320",
    "end": "1372320"
  },
  {
    "text": "and here we got a um",
    "start": "1372320",
    "end": "1377519"
  },
  {
    "text": "gravity level named workload medium",
    "start": "1379120",
    "end": "1382320"
  },
  {
    "text": "we are creating this to the cluster",
    "start": "1382320",
    "end": "1388400"
  },
  {
    "text": "and we create a new uh flow schema",
    "start": "1388400",
    "end": "1394159"
  },
  {
    "text": "which matches and then the users from",
    "start": "1394880",
    "end": "1397679"
  },
  {
    "text": "demo user",
    "start": "1397679",
    "end": "1399039"
  },
  {
    "text": "um",
    "start": "1399039",
    "end": "1401279"
  },
  {
    "text": "then we can take a look at this graphene",
    "start": "1415280",
    "end": "1417200"
  },
  {
    "text": "dashboard",
    "start": "1417200",
    "end": "1419200"
  },
  {
    "text": "in this panel uh it shows you the",
    "start": "1419200",
    "end": "1422159"
  },
  {
    "text": "capacity limit",
    "start": "1422159",
    "end": "1423919"
  },
  {
    "text": "of this priority level and the",
    "start": "1423919",
    "end": "1427200"
  },
  {
    "text": "qps of each proto level",
    "start": "1427200",
    "end": "1430240"
  },
  {
    "text": "how the requests of each protein level",
    "start": "1430240",
    "end": "1432960"
  },
  {
    "text": "are killed i've been waiting",
    "start": "1432960",
    "end": "1434960"
  },
  {
    "text": "in the actual executing time cost",
    "start": "1434960",
    "end": "1439200"
  },
  {
    "text": "of each party level or all of this um",
    "start": "1439200",
    "end": "1444000"
  },
  {
    "text": "pans are calculated",
    "start": "1444000",
    "end": "1447679"
  },
  {
    "text": "by using pp50",
    "start": "1447679",
    "end": "1451039"
  },
  {
    "text": "p90 p99 um",
    "start": "1451039",
    "end": "1455840"
  },
  {
    "text": "um in this example the",
    "start": "1457200",
    "end": "1460400"
  },
  {
    "text": "um medium the workload medium current",
    "start": "1460400",
    "end": "1463679"
  },
  {
    "text": "level configurations only has a",
    "start": "1463679",
    "end": "1466080"
  },
  {
    "text": "concurrency",
    "start": "1466080",
    "end": "1467120"
  },
  {
    "text": "shares of one uh",
    "start": "1467120",
    "end": "1470799"
  },
  {
    "text": "now we give it a higher concurrency",
    "start": "1470799",
    "end": "1473600"
  },
  {
    "text": "share",
    "start": "1473600",
    "end": "1474240"
  },
  {
    "text": "for example 15.",
    "start": "1474240",
    "end": "1478080"
  },
  {
    "text": "then we apply then we apply this to the",
    "start": "1478400",
    "end": "1482480"
  },
  {
    "text": "cluster",
    "start": "1482480",
    "end": "1485120"
  },
  {
    "text": "um then you can see",
    "start": "1493039",
    "end": "1496640"
  },
  {
    "text": "the concurrency shares are recalculated",
    "start": "1496640",
    "end": "1500880"
  },
  {
    "text": "um the uh",
    "start": "1500880",
    "end": "1503919"
  },
  {
    "text": "the medium the medium workload product",
    "start": "1503919",
    "end": "1506400"
  },
  {
    "text": "level configuration",
    "start": "1506400",
    "end": "1507520"
  },
  {
    "text": "now gets a capacity limit of 120",
    "start": "1507520",
    "end": "1515840"
  },
  {
    "text": "um yeah and",
    "start": "1521600",
    "end": "1528240"
  },
  {
    "text": "um because the time is limited so i i",
    "start": "1528240",
    "end": "1531200"
  },
  {
    "text": "can't",
    "start": "1531200",
    "end": "1532000"
  },
  {
    "text": "show you how everything works",
    "start": "1532000",
    "end": "1535440"
  },
  {
    "text": "um uh if you if you've got questions i",
    "start": "1535440",
    "end": "1539039"
  },
  {
    "text": "can",
    "start": "1539039",
    "end": "1540159"
  },
  {
    "text": "give you a detailed demo",
    "start": "1540159",
    "end": "1543360"
  },
  {
    "text": "after or offline",
    "start": "1543360",
    "end": "1546559"
  },
  {
    "text": "let's let's give on",
    "start": "1548320",
    "end": "1551440"
  },
  {
    "text": "move on to the presentation",
    "start": "1551440",
    "end": "1557840"
  },
  {
    "text": "uh then it's the planned enhancements",
    "start": "1566880",
    "end": "1568960"
  },
  {
    "text": "for better stage",
    "start": "1568960",
    "end": "1571679"
  },
  {
    "text": "there are a few there are blocking items",
    "start": "1571679",
    "end": "1573679"
  },
  {
    "text": "and non-blocking items planned for",
    "start": "1573679",
    "end": "1575360"
  },
  {
    "text": "better stage",
    "start": "1575360",
    "end": "1577200"
  },
  {
    "text": "as for blocking items um",
    "start": "1577200",
    "end": "1584159"
  },
  {
    "text": "um it's um improving the observability",
    "start": "1584159",
    "end": "1587360"
  },
  {
    "text": "and robustness",
    "start": "1587360",
    "end": "1588720"
  },
  {
    "text": "um we added a debug uh we're adding a",
    "start": "1588720",
    "end": "1591520"
  },
  {
    "text": "debug",
    "start": "1591520",
    "end": "1592080"
  },
  {
    "text": "endpoints to the api server which is",
    "start": "1592080",
    "end": "1594080"
  },
  {
    "text": "already done i believe it's",
    "start": "1594080",
    "end": "1595760"
  },
  {
    "text": "already published in kubernetes 119",
    "start": "1595760",
    "end": "1598320"
  },
  {
    "text": "release",
    "start": "1598320",
    "end": "1599279"
  },
  {
    "text": "and",
    "start": "1599279",
    "end": "1601520"
  },
  {
    "text": "there's also a few new metrics added to",
    "start": "1602320",
    "end": "1606320"
  },
  {
    "text": "the system",
    "start": "1606320",
    "end": "1606960"
  },
  {
    "text": "which is definitely helpful",
    "start": "1606960",
    "end": "1610640"
  },
  {
    "text": "but i'm not showing them to you in this",
    "start": "1611360",
    "end": "1614320"
  },
  {
    "text": "presentation because it's",
    "start": "1614320",
    "end": "1616000"
  },
  {
    "text": "uh basically used for debugging",
    "start": "1616000",
    "end": "1619200"
  },
  {
    "text": "and if you've got interested i can",
    "start": "1619200",
    "end": "1622320"
  },
  {
    "text": "answer that in the q a section",
    "start": "1622320",
    "end": "1624840"
  },
  {
    "text": "and um the second one is providing",
    "start": "1624840",
    "end": "1628480"
  },
  {
    "text": "approaches to",
    "start": "1628480",
    "end": "1629679"
  },
  {
    "text": "opt-out client-side we're limiting uh",
    "start": "1629679",
    "end": "1632400"
  },
  {
    "text": "i'm not sure if it's",
    "start": "1632400",
    "end": "1633919"
  },
  {
    "text": "um done so far but um",
    "start": "1633919",
    "end": "1637039"
  },
  {
    "text": "the ultimate goal is to remove the",
    "start": "1637039",
    "end": "1639919"
  },
  {
    "text": "client side we're limiting",
    "start": "1639919",
    "end": "1641679"
  },
  {
    "text": "um to move them onto the server side",
    "start": "1641679",
    "end": "1646398"
  },
  {
    "text": "or at the gateway and then the third one",
    "start": "1646720",
    "end": "1649600"
  },
  {
    "text": "is we are doing necessary e2e tests",
    "start": "1649600",
    "end": "1652399"
  },
  {
    "text": "um this is uh our current progress",
    "start": "1652399",
    "end": "1655679"
  },
  {
    "text": "we are adding e2e tests um",
    "start": "1655679",
    "end": "1659120"
  },
  {
    "text": "hopefully before 120 release",
    "start": "1659120",
    "end": "1663600"
  },
  {
    "text": "and as for non-blocking items",
    "start": "1665039",
    "end": "1668399"
  },
  {
    "start": "1666000",
    "end": "1666000"
  },
  {
    "text": "here's a few optional goals the first",
    "start": "1668399",
    "end": "1671279"
  },
  {
    "text": "one is",
    "start": "1671279",
    "end": "1671760"
  },
  {
    "text": "supports concurrency limits on loan loan",
    "start": "1671760",
    "end": "1674880"
  },
  {
    "text": "running request",
    "start": "1674880",
    "end": "1677120"
  },
  {
    "text": "and the second one is allow constant",
    "start": "1677120",
    "end": "1679840"
  },
  {
    "text": "concurrency",
    "start": "1679840",
    "end": "1680720"
  },
  {
    "text": "and relative shares in priority level",
    "start": "1680720",
    "end": "1684399"
  },
  {
    "text": "api model but for now it's only a",
    "start": "1684399",
    "end": "1687520"
  },
  {
    "text": "proportion of api shares api concurrency",
    "start": "1687520",
    "end": "1691600"
  },
  {
    "text": "shares",
    "start": "1691600",
    "end": "1693120"
  },
  {
    "text": "we hope to allow users to",
    "start": "1693120",
    "end": "1696559"
  },
  {
    "text": "configure a fixed uh concurrency or",
    "start": "1696559",
    "end": "1699440"
  },
  {
    "text": "preserved concurrency for a priority",
    "start": "1699440",
    "end": "1701679"
  },
  {
    "text": "level",
    "start": "1701679",
    "end": "1702720"
  },
  {
    "text": "um the third one is automatic",
    "start": "1702720",
    "end": "1705039"
  },
  {
    "text": "automatically manages versions of",
    "start": "1705039",
    "end": "1707120"
  },
  {
    "text": "mandatory",
    "start": "1707120",
    "end": "1708080"
  },
  {
    "text": "and suggested configurations um this one",
    "start": "1708080",
    "end": "1711679"
  },
  {
    "text": "is basically saying that we are",
    "start": "1711679",
    "end": "1714880"
  },
  {
    "text": "providing a better user experience",
    "start": "1714880",
    "end": "1718320"
  },
  {
    "text": "um for users to roll out",
    "start": "1718320",
    "end": "1721440"
  },
  {
    "text": "to update upgrade system presets",
    "start": "1721440",
    "end": "1725120"
  },
  {
    "text": "flow control settings um",
    "start": "1725120",
    "end": "1729039"
  },
  {
    "text": "flexibly and the first one",
    "start": "1729039",
    "end": "1732880"
  },
  {
    "text": "is discriminate paginated list request",
    "start": "1732880",
    "end": "1736000"
  },
  {
    "text": "this is um what we are",
    "start": "1736000",
    "end": "1739120"
  },
  {
    "text": "trying to achieve before one twenty",
    "start": "1739120",
    "end": "1742159"
  },
  {
    "text": "release",
    "start": "1742159",
    "end": "1742720"
  },
  {
    "text": "because um i'm paginated release request",
    "start": "1742720",
    "end": "1746640"
  },
  {
    "text": "is uh very likely to harm the cluster",
    "start": "1746640",
    "end": "1750640"
  },
  {
    "text": "and and it's almost happening every day",
    "start": "1750640",
    "end": "1754480"
  },
  {
    "text": "in our production classes so uh",
    "start": "1754480",
    "end": "1757840"
  },
  {
    "text": "we hope to prevent this from happening",
    "start": "1757840",
    "end": "1760960"
  },
  {
    "text": "um so this is what we are",
    "start": "1760960",
    "end": "1764240"
  },
  {
    "text": "going to do non-blocking items for",
    "start": "1764240",
    "end": "1767279"
  },
  {
    "text": "bigger stage",
    "start": "1767279",
    "end": "1768480"
  },
  {
    "text": "uh for more uh graduating criterias",
    "start": "1768480",
    "end": "1771840"
  },
  {
    "text": "for better stage you can also read them",
    "start": "1771840",
    "end": "1774720"
  },
  {
    "text": "from the cap",
    "start": "1774720",
    "end": "1776480"
  },
  {
    "text": "and thank you for um visiting my",
    "start": "1776480",
    "end": "1780000"
  },
  {
    "text": "presentation then let's move on to the q",
    "start": "1780000",
    "end": "1782640"
  },
  {
    "text": "a",
    "start": "1782640",
    "end": "1783039"
  },
  {
    "text": "session thank you",
    "start": "1783039",
    "end": "1787919"
  }
]