[
  {
    "text": "I'm from Alibaba so I work on kubernetes and sad so previously I work for corai",
    "start": "120",
    "end": "6000"
  },
  {
    "text": "and she's W from Google and she also works on kubernetes and",
    "start": "6000",
    "end": "11280"
  },
  {
    "text": "SED okay so today we are going to talk about SED and this session is um Q&A",
    "start": "11280",
    "end": "17760"
  },
  {
    "text": "like sessions so we have some prepared questions and those questions are frequently asked questions we will first",
    "start": "17760",
    "end": "25039"
  },
  {
    "text": "go through some of these questions pretty quickly and then we'll leave time",
    "start": "25039",
    "end": "30519"
  },
  {
    "text": "to for you guys to ask us questions so actually besides that there are other familiar faces here a few acdd",
    "start": "30519",
    "end": "36760"
  },
  {
    "text": "maintainers are in the front uh line so maybe they also can answer your",
    "start": "36760",
    "end": "41840"
  },
  {
    "text": "questions so ask me ask us easy questions or hard questions or",
    "start": "41840",
    "end": "47520"
  },
  {
    "text": "whatever okay so here's the fourth question yeah um so we're going to start",
    "start": "47520",
    "end": "52879"
  },
  {
    "text": "with the easiest questions ever but could be confusion um this is the",
    "start": "52879",
    "end": "60000"
  },
  {
    "text": "website that's deprecated for official SE documentation so if you're taking",
    "start": "60000",
    "end": "65799"
  },
  {
    "text": "pictures don't pick take pictures of this one also it says it's the latest it's not the latest we sto maintaining",
    "start": "65799",
    "end": "72000"
  },
  {
    "text": "that website and our new website is right under the SD Ripple um",
    "start": "72000",
    "end": "79640"
  },
  {
    "text": "documentation uh we constantly update that documentation and I know guo is",
    "start": "79640",
    "end": "84840"
  },
  {
    "text": "working on a new documentation website any contribution or suggestions comments",
    "start": "84840",
    "end": "90439"
  },
  {
    "text": "are welcome but before that one is up please use this one for the most updated",
    "start": "90439",
    "end": "96880"
  },
  {
    "text": "um informations now uh we know that SD has been used under a lot of different",
    "start": "96880",
    "end": "104040"
  },
  {
    "text": "projects among all of them cornetes probably still the biggest one um and",
    "start": "104040",
    "end": "109759"
  },
  {
    "text": "also it's Kon I think it's only fair to mention why kubernetes use SD as the",
    "start": "109759",
    "end": "115799"
  },
  {
    "text": "data store for the kubernetes control plan um there are two major reasons the first",
    "start": "115799",
    "end": "122079"
  },
  {
    "text": "one is high availability um mo one of the most important reason that people",
    "start": "122079",
    "end": "128080"
  },
  {
    "text": "use kubernetes is to embrace the high availability excuse me and um it only",
    "start": "128080",
    "end": "136560"
  },
  {
    "text": "makes sense if the under excuse me it only makes sense if the underneath data",
    "start": "136560",
    "end": "142080"
  },
  {
    "text": "store is also High available as well and S clustering is intended for high",
    "start": "142080",
    "end": "147680"
  },
  {
    "text": "availability so um here we go um that fits the needs for cornetes and then the",
    "start": "147680",
    "end": "155160"
  },
  {
    "text": "second reason is that uh is a watch features thatd implemented we know that",
    "start": "155160",
    "end": "161360"
  },
  {
    "text": "one of the core uh design concept of cornetes is level triggering and software ciliation um to do that",
    "start": "161360",
    "end": "168640"
  },
  {
    "text": "cornetes usage use uh watch to constantly monitor the change for all",
    "start": "168640",
    "end": "174800"
  },
  {
    "text": "the resources and drive the use the control Loop to drive the the actual",
    "start": "174800",
    "end": "180720"
  },
  {
    "text": "state of the resource to the desired state of the resource and in that picture uh how does kubernetes do the",
    "start": "180720",
    "end": "187959"
  },
  {
    "text": "watch use the STD watch feature SD's watch feature implement the event based",
    "start": "187959",
    "end": "194920"
  },
  {
    "text": "interface that uh for asynchronously monitoring the change to the keys so",
    "start": "194920",
    "end": "201159"
  },
  {
    "text": "every time there is some change to a key the Watchers get notified which is exactly what kubernetes",
    "start": "201159",
    "end": "207480"
  },
  {
    "text": "needs and um so I I show this diagram of the talk between uh API server in cetes",
    "start": "207480",
    "end": "216439"
  },
  {
    "text": "and atcd so they have this watch stream established between them and then API",
    "start": "216439",
    "end": "223640"
  },
  {
    "text": "server in kubernetes uh establish the watch in that string and get the watch event from",
    "start": "223640",
    "end": "230680"
  },
  {
    "text": "that stream there is a talk tomorrow afternoon the last talk of Kang talking about more details of watching kuties",
    "start": "230680",
    "end": "238159"
  },
  {
    "text": "you're welcome to join okay the next question why does SD prefer OD number of uh members so people",
    "start": "238159",
    "end": "246400"
  },
  {
    "text": "usually add more members to ICD cluster to increase if it's full tolerance so if",
    "start": "246400",
    "end": "252879"
  },
  {
    "text": "you look at this table you will see that if you have all even number of nodes the",
    "start": "252879",
    "end": "258120"
  },
  {
    "text": "full tolerance doesn't really increase so that's why we always suggest people to prefer only number of nodes but if",
    "start": "258120",
    "end": "265240"
  },
  {
    "text": "you want to run even number that's also fine for reasons like you want to scale",
    "start": "265240",
    "end": "270840"
  },
  {
    "text": "up your read capability you probably want to have even number but that won't help with for to failure",
    "start": "270840",
    "end": "278759"
  },
  {
    "text": "tolerance so the next question what about war fou you probably heard about like okay I C have the concept of War",
    "start": "279440",
    "end": "285880"
  },
  {
    "text": "files and sdd needs to sync the uh War files down to the disc so what are War",
    "start": "285880",
    "end": "291080"
  },
  {
    "text": "files so War file is so from the conceptually just a file on disk and",
    "start": "291080",
    "end": "296280"
  },
  {
    "text": "inside the file there's a list of entries and each entry is an action and",
    "start": "296280",
    "end": "302120"
  },
  {
    "text": "for example uh site f equals bar set kubernetes equals awesome and for those",
    "start": "302120",
    "end": "307800"
  },
  {
    "text": "entries in the W file that's a internal I City uh key stall will keep on like",
    "start": "307800",
    "end": "314120"
  },
  {
    "text": "executing them one by one to change the internal state of the key",
    "start": "314120",
    "end": "319160"
  },
  {
    "text": "stall so from the uh client view the client keep on sending the uh data the",
    "start": "319160",
    "end": "324600"
  },
  {
    "text": "request to the SD server to it can send the um the request to different ICD",
    "start": "324600",
    "end": "330120"
  },
  {
    "text": "server servers in the cluster but all the servers will send the request to one raft cluster and the raft cluster will",
    "start": "330120",
    "end": "337120"
  },
  {
    "text": "make sure that all the SD server have one consistent or the same War file on",
    "start": "337120",
    "end": "343400"
  },
  {
    "text": "disk so if the uh client send one request to server one it will go through",
    "start": "343400",
    "end": "348520"
  },
  {
    "text": "R and add entry in the war file and similarly if you sent to the Ser machine",
    "start": "348520",
    "end": "354600"
  },
  {
    "text": "it will get onto the war file and if it send to to the second one",
    "start": "354600",
    "end": "360479"
  },
  {
    "text": "it will go through R again and app append on the war file so you will see that the war file will be the same on",
    "start": "360479",
    "end": "366319"
  },
  {
    "text": "all the machines and all the machines will execute the war file in the same seint so the state of the other the ICD",
    "start": "366319",
    "end": "373400"
  },
  {
    "text": "servers will be the same that's how ICD make sure that all the members in the cluster have be consistent stage so War",
    "start": "373400",
    "end": "381199"
  },
  {
    "text": "file is very important um for the people who join later there are some seats in the front",
    "start": "381199",
    "end": "388240"
  },
  {
    "text": "please feel free to join um now uh I want to ask how many of you actually use",
    "start": "388240",
    "end": "393639"
  },
  {
    "text": "SD cluster across region all right all right good um no",
    "start": "393639",
    "end": "399840"
  },
  {
    "text": "matter if you use that or not there are some information for you in this topic does s CD work with cross region",
    "start": "399840",
    "end": "406919"
  },
  {
    "text": "deployment the answer is big yes not only that SD could do that it also",
    "start": "406919",
    "end": "413560"
  },
  {
    "text": "brings you um FL tolerance Improvement if Improvement um",
    "start": "413560",
    "end": "419800"
  },
  {
    "text": "well so this is this is supposed to be like a a representation of the earth and",
    "start": "419800",
    "end": "426400"
  },
  {
    "text": "um the three regions are the kopong collocations um not that we have tested",
    "start": "426400",
    "end": "431800"
  },
  {
    "text": "in these three different regions um but um the uh cross region deployment of SD",
    "start": "431800",
    "end": "440759"
  },
  {
    "text": "cluster does come with a price the cost is the higher consensus latency um since",
    "start": "440759",
    "end": "447560"
  },
  {
    "text": "SD relies on member forum for consensus so the latency that coming from the uh",
    "start": "447560",
    "end": "455879"
  },
  {
    "text": "crossing crossing the data center boundaries would be pronounced because",
    "start": "455879",
    "end": "461400"
  },
  {
    "text": "at least the majority of the member have to reply to the uh consensus request and",
    "start": "461400",
    "end": "468400"
  },
  {
    "text": "additionally since all the cluster data has to be replicated into all peers so",
    "start": "468400",
    "end": "475000"
  },
  {
    "text": "there will be bent with um cost as well and and keep in mind that the default SD",
    "start": "475000",
    "end": "482280"
  },
  {
    "text": "configuration is only set for local deployment so if you do the high latency",
    "start": "482280",
    "end": "489360"
  },
  {
    "text": "deployment then it's possible that you will have uh more frequent leader elections and you will have um heartbeat",
    "start": "489360",
    "end": "496879"
  },
  {
    "text": "timeout uh it doesn't mean you cannot do that it only means that you have to tune",
    "start": "496879",
    "end": "502440"
  },
  {
    "text": "some of the parameters to adjust for your deployment and we do have um",
    "start": "502440",
    "end": "507599"
  },
  {
    "text": "official documentation um on how to like help you how to do the uh tuning",
    "start": "507599",
    "end": "514760"
  },
  {
    "text": "tunings and um it's a big topic of how to upgrade and downgrade SD if you're us",
    "start": "514760",
    "end": "522080"
  },
  {
    "text": "no matter if you're using SD under cetes or or anything else um so we want to",
    "start": "522080",
    "end": "528680"
  },
  {
    "text": "talk about this a little bit before you even start to upgrade or downgrade your SD please make sure you have backup um",
    "start": "528680",
    "end": "536800"
  },
  {
    "text": "SD cuto snapshot is the command line that you use to do the backup it's very easy but make sure you do that and make",
    "start": "536800",
    "end": "544640"
  },
  {
    "text": "sure you check if the file that you you you backed up is valid and also do",
    "start": "544640",
    "end": "551920"
  },
  {
    "text": "period atically validate that you can do you you can restore your",
    "start": "551920",
    "end": "557360"
  },
  {
    "text": "backup and have that said we're ready to talk about how to",
    "start": "557360",
    "end": "562560"
  },
  {
    "text": "safely upgrade SD there's two important um things that you need to keep in mind",
    "start": "562560",
    "end": "568519"
  },
  {
    "text": "one one is you can only do rolling update which means if you have a me uh a cluster of a couple of different members",
    "start": "568519",
    "end": "575240"
  },
  {
    "text": "then you have to upgrade uh the members one by one and you can only do one minor",
    "start": "575240",
    "end": "582399"
  },
  {
    "text": "version upgrade at this time uh which means if you have a 3.1 cluster and you",
    "start": "582399",
    "end": "588519"
  },
  {
    "text": "want to eventually upgrade it to 3.3 then you have to upgrade it to 3.2 first",
    "start": "588519",
    "end": "595600"
  },
  {
    "text": "you have to be you know one years old before you get to two years old",
    "start": "595600",
    "end": "600720"
  },
  {
    "text": "all right now let's take an example um if you have a cluster of three members",
    "start": "600720",
    "end": "606920"
  },
  {
    "text": "each member have their own uh member version and then the entire cluster have a cluster version the cluster version is",
    "start": "606920",
    "end": "615440"
  },
  {
    "text": "decided by the lowest member version which means uh in this case let Let's",
    "start": "615440",
    "end": "621200"
  },
  {
    "text": "see we start with a cluster version of 3.2 and then you start to do the rolling",
    "start": "621200",
    "end": "626720"
  },
  {
    "text": "update and the update one of the members to 3.3 and the entire cluster is due 3.2",
    "start": "626720",
    "end": "632839"
  },
  {
    "text": "because the other two US du 3.2 so all the members can only support",
    "start": "632839",
    "end": "637920"
  },
  {
    "text": "uh 3.2 features and data files then you update another one do we",
    "start": "637920",
    "end": "643440"
  },
  {
    "text": "have the lowest version of 3.2 not until you successfully operated all the",
    "start": "643440",
    "end": "649040"
  },
  {
    "text": "members to 3.3 that the cluster version would change to",
    "start": "649040",
    "end": "654200"
  },
  {
    "text": "3.3 and we do have very detailed document",
    "start": "654200",
    "end": "659519"
  },
  {
    "text": "ation on how do you upgrade um your SD from um 3.1 to 3.2 to 3. 3 to 3. 4 and",
    "start": "659519",
    "end": "668920"
  },
  {
    "text": "it not only document the detail steps but only like the all the things you",
    "start": "668920",
    "end": "674800"
  },
  {
    "text": "need to keep in mind because the changes made between different versions so make sure you uh look into that and for",
    "start": "674800",
    "end": "683079"
  },
  {
    "text": "downgrade uh we owning support dowr with downtime at this moment which me is you",
    "start": "683079",
    "end": "689600"
  },
  {
    "text": "have to stop everything bring up your downgrade uh SD with the lower version",
    "start": "689600",
    "end": "695160"
  },
  {
    "text": "and then start everything again and the downgrade with no downtime is on the way",
    "start": "695160",
    "end": "702440"
  },
  {
    "text": "and it will be out in um",
    "start": "702440",
    "end": "708160"
  },
  {
    "text": "v3.4 and which is going to be next year and you can refer to issue",
    "start": "708160",
    "end": "714600"
  },
  {
    "text": "9306 for the detail of this um effort any country contribution suggestions are",
    "start": "714600",
    "end": "723079"
  },
  {
    "text": "welcome okay the next question is what is the uh database file you probably heard that okay besides a war file SD",
    "start": "723320",
    "end": "730120"
  },
  {
    "text": "also has a database file right so I just mentioned that in the war file it stores",
    "start": "730120",
    "end": "735639"
  },
  {
    "text": "all the actions sdd will take and if you think that okay if I run SD cluster for",
    "start": "735639",
    "end": "742800"
  },
  {
    "text": "124 hours and if I restart the S node doesn't it need to replay all the logs",
    "start": "742800",
    "end": "748320"
  },
  {
    "text": "for the 24 hours right if it needs then it will take a long time also when new",
    "start": "748320",
    "end": "754040"
  },
  {
    "text": "member joins the cluster it needs to get all the entries from existing members and reapply them that will also take a",
    "start": "754040",
    "end": "760600"
  },
  {
    "text": "long time right so that's why we introduce the",
    "start": "760600",
    "end": "765920"
  },
  {
    "text": "database file so the database file contains a checkpoint so periodically I",
    "start": "765920",
    "end": "771079"
  },
  {
    "text": "say chpo is in memory State onto disk so when a member restart it only needs to",
    "start": "771079",
    "end": "776519"
  },
  {
    "text": "reply the entries from that Che point also when a new member joins the cluster",
    "start": "776519",
    "end": "781920"
  },
  {
    "text": "it first will get the database file which contains the checkpoint and then get all the entries after the checkpoint",
    "start": "781920",
    "end": "787839"
  },
  {
    "text": "and then start to reapply all the entries after the checkpoint that will reduce the cost of restart and a new",
    "start": "787839",
    "end": "794680"
  },
  {
    "text": "member to join the cluster that's why we have the uh database file and now we use both DB b+3 implementation in go to save",
    "start": "794680",
    "end": "803839"
  },
  {
    "text": "the chpo file so that's why there's a like DB file if you want to interact",
    "start": "803839",
    "end": "809120"
  },
  {
    "text": "activates it you can use the bbo DB U command line to see what is actually inside",
    "start": "809120",
    "end": "816399"
  },
  {
    "text": "there so the next compony asked question is why does SD have a data set limit so",
    "start": "816560",
    "end": "822959"
  },
  {
    "text": "as I just mentioned when new number joins cluster is need to get the entire database file right and U if the",
    "start": "822959",
    "end": "830440"
  },
  {
    "text": "database file is very large it will take a long time to downloading the file and",
    "start": "830440",
    "end": "835519"
  },
  {
    "text": "to open the file and inity what we really carries about the meantime to recover so we we want to say that okay",
    "start": "835519",
    "end": "842480"
  },
  {
    "text": "if your I cluster lost a member and you add a new Fresh member back to the cluster we want the meantime to recover",
    "start": "842480",
    "end": "848560"
  },
  {
    "text": "time to be lower than 3 minutes so that's why we set set a time data size",
    "start": "848560",
    "end": "854560"
  },
  {
    "text": "limit we set it to 2 gbes which means that on typical like a small like",
    "start": "854560",
    "end": "859920"
  },
  {
    "text": "deployment 3 minutes is good enough like 3 minutes is good enough for you to get the 2 gbyte Snapshot from any like uh",
    "start": "859920",
    "end": "867880"
  },
  {
    "text": "member still in the clust and if you want to increase the database size data size limit probably you need",
    "start": "867880",
    "end": "874920"
  },
  {
    "text": "to have a higher iOS throughput for your deployment and then test it out if it's still under stre minut it you are good",
    "start": "874920",
    "end": "880279"
  },
  {
    "text": "to go and another uh limit of the data size",
    "start": "880279",
    "end": "885959"
  },
  {
    "text": "is your memory so SD data is actually M mapped which means that we expect all",
    "start": "885959",
    "end": "891800"
  },
  {
    "text": "your data sitting ins set your memory so make sure that your memory is larger than the uh database file or larger than",
    "start": "891800",
    "end": "898680"
  },
  {
    "text": "the toal data you put into sdd so that sdd can still have fast access for",
    "start": "898680",
    "end": "905839"
  },
  {
    "text": "reads and the next question is why does SD require competion so in SD 3 we start",
    "start": "906079",
    "end": "912480"
  },
  {
    "text": "to keep all versions of keys which means that um if you change the value of a key",
    "start": "912480",
    "end": "918160"
  },
  {
    "text": "your old value of that key will still be there you can still access them by U pointing to a previous uh version say",
    "start": "918160",
    "end": "924759"
  },
  {
    "text": "right now the version is three you add a key you change the key the version will be four if you still tell LCD okay I want to get the version three of that",
    "start": "924759",
    "end": "931480"
  },
  {
    "text": "key you will still see the old version this feature is designed for configuration Rob bike or and the",
    "start": "931480",
    "end": "936560"
  },
  {
    "text": "reliable watch so for Reliable watch is similar to how cka off that work works so you can still uh working through the",
    "start": "936560",
    "end": "943360"
  },
  {
    "text": "history from old version to the new version um so but when we start to like",
    "start": "943360",
    "end": "949160"
  },
  {
    "text": "U keep all the versions if we don't do compaction you you you can think that the database size will keep on growing",
    "start": "949160",
    "end": "955399"
  },
  {
    "text": "and growing it never shrink right so compaction is to remove the old version",
    "start": "955399",
    "end": "960480"
  },
  {
    "text": "of keys so when you know that okay those keys are not necess anymore you can compact them and the S will start delete",
    "start": "960480",
    "end": "967160"
  },
  {
    "text": "them in background it won't the delet it will take some time but it won't block",
    "start": "967160",
    "end": "972600"
  },
  {
    "text": "any rights in the future it all done in",
    "start": "972600",
    "end": "978040"
  },
  {
    "text": "backand many oh sorry say",
    "start": "982160",
    "end": "989079"
  },
  {
    "text": "another way for user efficiency to know how many unused keys are in the system",
    "start": "989079",
    "end": "996319"
  },
  {
    "text": "uh right now I think we measure the total number of uh keys and we measure",
    "start": "996319",
    "end": "1002880"
  },
  {
    "text": "the total number of uh keys in the B DB backand so if you do the maass you will",
    "start": "1002880",
    "end": "1009279"
  },
  {
    "text": "know that how many keys are like are not like it's not unused we don't know",
    "start": "1009279",
    "end": "1014560"
  },
  {
    "text": "whether you are using it or not but it's old keys so you can do the math to calculate how many any old keys out",
    "start": "1014560",
    "end": "1019759"
  },
  {
    "text": "there right but those old Keys may be still be useful right yeah maybe we'll",
    "start": "1019759",
    "end": "1025880"
  },
  {
    "text": "add a better API add just tell you that okay how many old version of keys that's a good uh good thing to",
    "start": "1025880",
    "end": "1033480"
  },
  {
    "text": "add any other questions around this okay um so another question is like why",
    "start": "1034240",
    "end": "1042319"
  },
  {
    "text": "ASD is sensitive to IO latencies so I say is sensitive to the network IO latency because we use raft as the",
    "start": "1042319",
    "end": "1049559"
  },
  {
    "text": "underlying consensus algorithm and raft is a leader based system so the leader needs to keep on sending haries to the",
    "start": "1049559",
    "end": "1057080"
  },
  {
    "text": "follower and so normally the follower will receive it within the timeout and",
    "start": "1057080",
    "end": "1062799"
  },
  {
    "text": "follower will stay in the follower stage however if the io Len is long and the",
    "start": "1062799",
    "end": "1067840"
  },
  {
    "text": "fer cannot receive the harbit in time it will try to become a candidate which can disrupt the closer stage and that's why",
    "start": "1067840",
    "end": "1075080"
  },
  {
    "text": "SD is sensitive to a latency so in 3.4 we are adding a feature called provote",
    "start": "1075080",
    "end": "1080640"
  },
  {
    "text": "to medicate this problem so the candidate node will not disrupt the leader the cluster right but still it",
    "start": "1080640",
    "end": "1087159"
  },
  {
    "text": "will become candidate so we suggest you to tune the I the timeout the hardbeat",
    "start": "1087159",
    "end": "1094240"
  },
  {
    "text": "timeout and the election timeout to make sure that it works well for your deployment for normal like um deployment",
    "start": "1094240",
    "end": "1101760"
  },
  {
    "text": "within one reason you don't need to do anything but for the cross reison deployments you probably need want to turn your time out",
    "start": "1101760",
    "end": "1110279"
  },
  {
    "text": "is there any kind of automatic tuning of the timeout based on the cluster no we",
    "start": "1113640",
    "end": "1118679"
  },
  {
    "text": "don't have it now but um we may want to provide a tool to help you basically it's uh it will depend on your",
    "start": "1118679",
    "end": "1126080"
  },
  {
    "text": "um uh like run trip time between the two notes we can add a two to help you to do",
    "start": "1126080",
    "end": "1131720"
  },
  {
    "text": "that so we suggest to have a u election timeout 10 times to your um round trip",
    "start": "1131720",
    "end": "1138919"
  },
  {
    "text": "Time and harit Time Around the uh round trip time of your latency that's our",
    "start": "1138919",
    "end": "1144799"
  },
  {
    "text": "suggested value but we don't have a two to automatically C that for you but we we can help you to do that so so",
    "start": "1144799",
    "end": "1150760"
  },
  {
    "text": "basically your suggestion is at cluster setup time you do some rdt measurement and based on that you configure the yes",
    "start": "1150760",
    "end": "1160039"
  },
  {
    "text": "okay is that is that leader election latency exposed for something I can go",
    "start": "1160039",
    "end": "1165440"
  },
  {
    "text": "capture and measure over time um I I don't remember I don't think there is a",
    "start": "1165440",
    "end": "1170480"
  },
  {
    "text": "matrix for that but it it's configurable but I don't think it's um it's exposed but when you are reaching the uh timeout",
    "start": "1170480",
    "end": "1177919"
  },
  {
    "text": "SD will print out a log saying that okay it's near the timeout there's a warning",
    "start": "1177919",
    "end": "1183360"
  },
  {
    "text": "in the log but we can expose it as a as a matrix but for the io latency we do expose The Matrix so know the current I",
    "start": "1183360",
    "end": "1189679"
  },
  {
    "text": "latency between the two nodes but we don't expose the you your config election timeout",
    "start": "1189679",
    "end": "1197679"
  },
  {
    "text": "okay all right um now performance is always a very important topic as more",
    "start": "1200600",
    "end": "1206200"
  },
  {
    "text": "and more people are using it and production um we not only want it to",
    "start": "1206200",
    "end": "1212200"
  },
  {
    "text": "work but also it better work efficiently uh so there are a couple of important numbers uh to remind you the two uh",
    "start": "1212200",
    "end": "1220880"
  },
  {
    "text": "performance factors are latency and throughput like anything else and then there are two physical constraints for",
    "start": "1220880",
    "end": "1228120"
  },
  {
    "text": "SD performance networking IO and dis IO make sure you understand the scenario in",
    "start": "1228120",
    "end": "1233960"
  },
  {
    "text": "your environment and then we do have a benchmark tool in SD repo um we do",
    "start": "1233960",
    "end": "1241440"
  },
  {
    "text": "suggest you to um oh yeah and along with the Benchmark",
    "start": "1241440",
    "end": "1248200"
  },
  {
    "text": "tool um the uh there are current Benchmark result posted on that",
    "start": "1248200",
    "end": "1255720"
  },
  {
    "text": "documentation as well it was um based on our certain set of",
    "start": "1255720",
    "end": "1261320"
  },
  {
    "text": "configuration uh do make sure you cross reference with whatever the hot well",
    "start": "1261320",
    "end": "1266720"
  },
  {
    "text": "configuration that you have and uh refer to the result and and you know",
    "start": "1266720",
    "end": "1274120"
  },
  {
    "text": "reason the the um relationship between them and make um a judgment on what if",
    "start": "1274120",
    "end": "1282640"
  },
  {
    "text": "the performance meet your requirement and we do suggest you like every time you change your environment or change",
    "start": "1282640",
    "end": "1288159"
  },
  {
    "text": "your configuration do the Benchmark performance again make sure it's uh uh",
    "start": "1288159",
    "end": "1293960"
  },
  {
    "text": "right for you and uh this is supposed to be the",
    "start": "1293960",
    "end": "1299279"
  },
  {
    "text": "last slide but then we do have two extra slide I decide that it's important enough to mention before we get into the",
    "start": "1299279",
    "end": "1306159"
  },
  {
    "text": "real Q&A session um this is how you could help with the S um",
    "start": "1306159",
    "end": "1313440"
  },
  {
    "text": "communities I did this little survey before we start the talk apparently there are a couple of people already",
    "start": "1313440",
    "end": "1320000"
  },
  {
    "text": "contributing to SD and everybody else is planning to contribute to SD um so we",
    "start": "1320000",
    "end": "1326840"
  },
  {
    "text": "have the contact here um you can email to SD Dev Google Groups and um we had a",
    "start": "1326840",
    "end": "1334320"
  },
  {
    "text": "community meeting before bi-weekly and we are planning to reassume the community meeting um as we see a lot of",
    "start": "1334320",
    "end": "1341240"
  },
  {
    "text": "people are more and more interested so it will start since it's holiday season will start right after the holiday",
    "start": "1341240",
    "end": "1347120"
  },
  {
    "text": "season January 8 at um 11:00 in the morning Pacific",
    "start": "1347120",
    "end": "1353159"
  },
  {
    "text": "time and it will be monthly me um and then there you can go to that link it",
    "start": "1353159",
    "end": "1359799"
  },
  {
    "text": "will have like we us really have agenda you can put your agenda in there if there is anything specific you want to",
    "start": "1359799",
    "end": "1366360"
  },
  {
    "text": "discuss and then uh issue in PR could be created in SD Ripple",
    "start": "1366360",
    "end": "1374440"
  },
  {
    "text": "um don't think you can only contribute that if you writing codes right if you",
    "start": "1374440",
    "end": "1379880"
  },
  {
    "text": "post your use case you post questions and we know what's going on outside they everybody using SD different ways",
    "start": "1379880",
    "end": "1386360"
  },
  {
    "text": "everybody using cores different ways so um please post stuff there and um",
    "start": "1386360",
    "end": "1393840"
  },
  {
    "text": "contribute and um with that there are some areas that you could contribute",
    "start": "1393840",
    "end": "1401159"
  },
  {
    "text": "right away like uh we do need a lot of tests and um well if we don't know your",
    "start": "1401159",
    "end": "1408600"
  },
  {
    "text": "use case we don't know um what other tests we can do and then as I mentioned",
    "start": "1408600",
    "end": "1414559"
  },
  {
    "text": "there is a new documentation website in progress and you can um take a look at",
    "start": "1414559",
    "end": "1420480"
  },
  {
    "text": "that and you can contact guul for um if you want to contribute if you have uh",
    "start": "1420480",
    "end": "1426600"
  },
  {
    "text": "comments and then uh we do want to have more uh documentation on SD metrics we",
    "start": "1426600",
    "end": "1433480"
  },
  {
    "text": "know people um might have uh question about which what which",
    "start": "1433480",
    "end": "1440960"
  },
  {
    "text": "metrics you want to see which one metrics you want to use and which metrics you need to Monitor and alert um",
    "start": "1440960",
    "end": "1448880"
  },
  {
    "text": "if you have if you can contribute your experience uh to help others that' be great if you can POS questions so we can",
    "start": "1448880",
    "end": "1455799"
  },
  {
    "text": "we know what we need to do better and then downgrade support is in that",
    "start": "1455799",
    "end": "1460960"
  },
  {
    "text": "issue and then non voting member saying that issue um those are all good areas",
    "start": "1460960",
    "end": "1467320"
  },
  {
    "text": "that you can start so now we are open qu to questions so",
    "start": "1467320",
    "end": "1474320"
  },
  {
    "text": "let me know okay maybe this yeah I'll I'll hand out the microphone sure um so",
    "start": "1474320",
    "end": "1480679"
  },
  {
    "text": "in the ETD documentation there's uh it said that the ssds are recommended or",
    "start": "1480679",
    "end": "1486200"
  },
  {
    "text": "required so can you kind of elaborate why and um like what's what's the issue",
    "start": "1486200",
    "end": "1492120"
  },
  {
    "text": "with like yes so I just mentioned that we have a no I have a maic phone so we",
    "start": "1492120",
    "end": "1497440"
  },
  {
    "text": "have the database right now is um mmm is a b+3 and for b+3 it requires random",
    "start": "1497440",
    "end": "1503880"
  },
  {
    "text": "rights when you merge the IM tree back to the on dis tree and that will cause a",
    "start": "1503880",
    "end": "1509120"
  },
  {
    "text": "lot of run right IO and SSD is better for that so if we want to solve this",
    "start": "1509120",
    "end": "1514960"
  },
  {
    "text": "problem we may add some other like um irsm based backend which handles um like",
    "start": "1514960",
    "end": "1522440"
  },
  {
    "text": "change the sequ uh random R pattern to a sequential R pattern I'm working on a new backend for that but right now we",
    "start": "1522440",
    "end": "1528600"
  },
  {
    "text": "still require SSD but SSD is like popular everybody using SSD so yeah",
    "start": "1528600",
    "end": "1535000"
  },
  {
    "text": "that's why we choose SSD oh",
    "start": "1535000",
    "end": "1541039"
  },
  {
    "text": "yeah uh I have a question about like cross region use case is there any way to rank the or to like rank the members",
    "start": "1545960",
    "end": "1553840"
  },
  {
    "text": "that the client is talking to by preference because we found that like if you have you know no or members in a",
    "start": "1553840",
    "end": "1559840"
  },
  {
    "text": "bunch of regions and you establish like you happen to establish a watch cross region that it's much more expensive than establishing it locally but we",
    "start": "1559840",
    "end": "1566279"
  },
  {
    "text": "still want the clients to be aware of all regions because like if the local region member is down we still want like",
    "start": "1566279",
    "end": "1572960"
  },
  {
    "text": "we would then we're okay with the cross region watch but we'd rather avoid it by default uh so in 2 the ear verion of I",
    "start": "1572960",
    "end": "1580200"
  },
  {
    "text": "thinki add feature to client to have a parities on different members so",
    "start": "1580200",
    "end": "1586880"
  },
  {
    "text": "probably also want to do this for the S3 I'm not sure like if we have uh plans",
    "start": "1586880",
    "end": "1592240"
  },
  {
    "text": "for that because skle is just um rewrite the grpc by can the grpc balancer Ford",
    "start": "1592240",
    "end": "1598520"
  },
  {
    "text": "client probably after this uh rewrite we can add the feature you would like to see the setting the priorities for the",
    "start": "1598520",
    "end": "1604640"
  },
  {
    "text": "um deployment but also we can automatically measure the I lat the network latency between no and then try",
    "start": "1604640",
    "end": "1610440"
  },
  {
    "text": "to set the priority automatically if you care about the latency yeah maybe create a issue in ICD repo so we can track that",
    "start": "1610440",
    "end": "1617559"
  },
  {
    "text": "and we can help you is there any work being done towards adding a Byzantine uh fault tolerant",
    "start": "1617559",
    "end": "1623360"
  },
  {
    "text": "consensus mechanism in in place of raft or in addition so right now we don't have the plan but if you have a use case",
    "start": "1623360",
    "end": "1630120"
  },
  {
    "text": "you can send it to I repo so we can understand your use case and understand why you want to do that because right",
    "start": "1630120",
    "end": "1635640"
  },
  {
    "text": "now we assume that all the SD cluster are like managed by one party and uh",
    "start": "1635640",
    "end": "1641200"
  },
  {
    "text": "yeah",
    "start": "1641200",
    "end": "1644200"
  },
  {
    "text": "thank you um we have a use case uh with a a regular e City uh supporting",
    "start": "1653600",
    "end": "1660120"
  },
  {
    "text": "kubernetes and uh sometimes when we take one of the members uh for maintenance um",
    "start": "1660120",
    "end": "1668559"
  },
  {
    "text": "we have seen that uh worker notes uh and master notes start to get in some",
    "start": "1668559",
    "end": "1674440"
  },
  {
    "text": "timeouts even when they are talking to uh itd proxy uh which should forward",
    "start": "1674440",
    "end": "1680360"
  },
  {
    "text": "connections to whatever member it's available uh have you guys seen anything or hear anything like that where uh uh",
    "start": "1680360",
    "end": "1688000"
  },
  {
    "text": "ETD proxy is not forwarding necessary to the right members yeah maybe there is a",
    "start": "1688000",
    "end": "1693600"
  },
  {
    "text": "box the proxy is not super super reliable so for us we just use ACD CLI",
    "start": "1693600",
    "end": "1700840"
  },
  {
    "text": "directly and for some of our deployment we even have the uh API server talk to",
    "start": "1700840",
    "end": "1706080"
  },
  {
    "text": "the SD cluster just locally so we collocate the SD server with the API",
    "start": "1706080",
    "end": "1712360"
  },
  {
    "text": "server right so we haven't like test the proxy extensively but if you hit a problem probably create issue ond repo",
    "start": "1712360",
    "end": "1719880"
  },
  {
    "text": "so we can help to look into the problem for you okay and uh on the same cluster",
    "start": "1719880",
    "end": "1726360"
  },
  {
    "text": "uh sometimes I see like a regular warning on itd saying that uh it took so",
    "start": "1726360",
    "end": "1732200"
  },
  {
    "text": "long to apply entries or something uh optimize your queries or something but this is kubernetes talking to it and I'm",
    "start": "1732200",
    "end": "1739559"
  },
  {
    "text": "not going to go and modify the queries so I will say other than as uh this",
    "start": "1739559",
    "end": "1744840"
  },
  {
    "text": "message shows up every time uh the Clusters it's getting uh Biggers uh so I just throw more resources to each City",
    "start": "1744840",
    "end": "1751760"
  },
  {
    "text": "uh to be able to handle this but is there any other work around that I should do instead of just throwing more",
    "start": "1751760",
    "end": "1756880"
  },
  {
    "text": "Hardware at it so the problem is uh sometimes kubernetes try to send very",
    "start": "1756880",
    "end": "1763000"
  },
  {
    "text": "large range queries to a city getting large number of keys like SS of keys and",
    "start": "1763000",
    "end": "1768919"
  },
  {
    "text": "that query can take long time to run so in 3.4 we are working on to uh for a a",
    "start": "1768919",
    "end": "1777080"
  },
  {
    "text": "feature called concurrent rate so it will not block so when you issue a large rate Tod it will not block other request",
    "start": "1777080",
    "end": "1785399"
  },
  {
    "text": "so that message will disappear but for now you probably need to throw more resource to SD to vertically scaling it",
    "start": "1785399",
    "end": "1793320"
  },
  {
    "text": "uh this issue also will be medicated at the kubernetes side because in kubernetes we are working on a feature",
    "start": "1793320",
    "end": "1800000"
  },
  {
    "text": "called page Nation so when kubernetes tries to get a lot of uh uh resources it",
    "start": "1800000",
    "end": "1805519"
  },
  {
    "text": "will get a chunk after another chunk it will not try to issue a huge run request",
    "start": "1805519",
    "end": "1811360"
  },
  {
    "text": "to SD to block other request leave requests yes yeah with or",
    "start": "1811360",
    "end": "1817679"
  },
  {
    "text": "with an offset or something okay okay uh thank you um I just have a question like the",
    "start": "1817679",
    "end": "1825519"
  },
  {
    "text": "wall file and the DB and how do they compare to the snapshot when you're trying to bring a new member up the",
    "start": "1825519",
    "end": "1830840"
  },
  {
    "text": "snapshot is a concept from raft so once",
    "start": "1830840",
    "end": "1837080"
  },
  {
    "text": "R takes a snapshot the old war files can be deleted so the database file is U",
    "start": "1837080",
    "end": "1846440"
  },
  {
    "text": "more about the uh SD data store state so",
    "start": "1846440",
    "end": "1851519"
  },
  {
    "text": "that's so yes the concept of snapshot is for uh rft it's some internal rft stuff",
    "start": "1851519",
    "end": "1859919"
  },
  {
    "text": "is there a index mechanism uh you mentioned queries uh sometimes you need",
    "start": "1859919",
    "end": "1865240"
  },
  {
    "text": "to uh have a set of pods with a certain label uh and uh currently I don't see",
    "start": "1865240",
    "end": "1872880"
  },
  {
    "text": "any anything like that so for the uh indexing problem there are several ways",
    "start": "1872880",
    "end": "1878519"
  },
  {
    "text": "to solve it so we have been talking about this for quite some time so first",
    "start": "1878519",
    "end": "1883919"
  },
  {
    "text": "one way is to add the indexing to kubernetes APS server so in kubernetes",
    "start": "1883919",
    "end": "1889279"
  },
  {
    "text": "APS server we we we index everything have a B3 or H table in kubernetes APS server the second thing we the",
    "start": "1889279",
    "end": "1896320"
  },
  {
    "text": "alternative thing we can do is to make sad understand Port buff encoding so when you save stuff to sad is you",
    "start": "1896320",
    "end": "1904399"
  },
  {
    "text": "register the key space with Portu file and ASD start decode the pro file and",
    "start": "1904399",
    "end": "1910960"
  },
  {
    "text": "then we can start build the index internally in sad so there are two Alternatives and uh draw draw is working",
    "start": "1910960",
    "end": "1918919"
  },
  {
    "text": "on this and probably will publish a proposal in sdd repo and",
    "start": "1918919",
    "end": "1924320"
  },
  {
    "text": "to see whether we should do it in kues or should do it in sad but we are solving this problem right",
    "start": "1924320",
    "end": "1930639"
  },
  {
    "text": "now yeah",
    "start": "1930639",
    "end": "1933840"
  },
  {
    "text": "maybe yeah we're not sure which alternatives are best um there's the two that um Shang mentioned also the idea of",
    "start": "1935840",
    "end": "1943080"
  },
  {
    "text": "maybe having um either Sim links or labels on objects might be better way to",
    "start": "1943080",
    "end": "1948559"
  },
  {
    "text": "do this um but uh we will open an issue on a CD and anybody that's interested I hope you jump in listen in give us your",
    "start": "1948559",
    "end": "1958279"
  },
  {
    "text": "suggestions H thanks yeah can you talk a little bit more about performance uh considerations of lar uh running large",
    "start": "1961960",
    "end": "1968080"
  },
  {
    "text": "kubernetes cluster on N CD are there like any configuration settings or okay",
    "start": "1968080",
    "end": "1973240"
  },
  {
    "text": "other than like throwing Hardware at the yeah I actually have a a bike up slice",
    "start": "1973240",
    "end": "1979000"
  },
  {
    "text": "talk about why I is slow right so a lot of people asking me the",
    "start": "1979000",
    "end": "1985799"
  },
  {
    "text": "question like why I say slow slow like for us we run very large kubernetes",
    "start": "1985799",
    "end": "1991600"
  },
  {
    "text": "cluster at Alibaba probably larger than most of the uh clusters that you guys are running and we are facing the",
    "start": "1991600",
    "end": "1998120"
  },
  {
    "text": "problem and we are solving it so the first thing is U check your dis if your",
    "start": "1998120",
    "end": "2003320"
  },
  {
    "text": "disc guy is slow I will be slow because as I said so for each right request as",
    "start": "2003320",
    "end": "2008679"
  },
  {
    "text": "it needs to write syn down to the dis through the war file if your dis slow it will be slow uh a fast SSD is uh good",
    "start": "2008679",
    "end": "2017480"
  },
  {
    "text": "enough matter or latency of a right probably should be under 1 millisecond or something for large clusters and nvme",
    "start": "2017480",
    "end": "2025039"
  },
  {
    "text": "is uh suggested do you have to like T the time",
    "start": "2025039",
    "end": "2031880"
  },
  {
    "text": "out in that case yes you have to tune the timeout well you don't have to but",
    "start": "2031880",
    "end": "2037320"
  },
  {
    "text": "uh you don't have to but um your throughput will be lower your yeah yes",
    "start": "2037320",
    "end": "2043440"
  },
  {
    "text": "you can turn tune it to see whether it helps but our suggestion is still like choose a faster disc yeah so in as it is",
    "start": "2043440",
    "end": "2052200"
  },
  {
    "text": "some case the disc out will block the the the the heartbeat but mostly it",
    "start": "2052200",
    "end": "2057919"
  },
  {
    "text": "shouldn't I see okay so it's not as much as a concern for the heartbeat is yes",
    "start": "2057919",
    "end": "2063398"
  },
  {
    "text": "like read write performance yes yes yeah okay thank you",
    "start": "2063399",
    "end": "2069480"
  },
  {
    "text": "so the question about whether there's not enough memory bags what do we what",
    "start": "2073560",
    "end": "2079480"
  },
  {
    "text": "do we expect of memory consumption or what should we expect so um s CD requires or like",
    "start": "2079480",
    "end": "2088040"
  },
  {
    "text": "expect you to have a memory size larger than the total number of total uh size",
    "start": "2088040",
    "end": "2093560"
  },
  {
    "text": "of your key value space including the old keys so say your database size is 2",
    "start": "2093560",
    "end": "2099359"
  },
  {
    "text": "gig you have to have like say 3 gig of memory one gig more for some like head room right so there is a matrix to show",
    "start": "2099359",
    "end": "2107440"
  },
  {
    "text": "that how much uh disk space is using by the backand database file if that shows",
    "start": "2107440",
    "end": "2113839"
  },
  {
    "text": "like 2 gig you have to have 2 gig memory so one easy way to matter whether you",
    "start": "2113839",
    "end": "2119119"
  },
  {
    "text": "have enough uh memory space is to check the uh read IO from the SD process so we",
    "start": "2119119",
    "end": "2126520"
  },
  {
    "text": "expect to see the read I to be very very low probably lower than like 10 read IO per second if you see that number going",
    "start": "2126520",
    "end": "2133079"
  },
  {
    "text": "up it means that actually is swapping out pages from disk to memory and that",
    "start": "2133079",
    "end": "2139040"
  },
  {
    "text": "hurts the performance of SD so in Alibaba we have seen that okay SD is",
    "start": "2139040",
    "end": "2145480"
  },
  {
    "text": "swapping pages into the memory and spending 4 seconds SD will be hanging",
    "start": "2145480",
    "end": "2151079"
  },
  {
    "text": "there for 4 seconds and everything will crash me to the",
    "start": "2151079",
    "end": "2158920"
  },
  {
    "text": "perspec M so the number of keys you put into s",
    "start": "2160599",
    "end": "2168160"
  },
  {
    "text": "all keys are in memory key yes all the keys and values will be served in memory we expect that all the keys and Val",
    "start": "2168160",
    "end": "2174240"
  },
  {
    "text": "values to be in memory that's a consumption that we made a while",
    "start": "2174240",
    "end": "2179280"
  },
  {
    "text": "ago uh in case of reads uh does the reads happen from the Wall Files alone",
    "start": "2179280",
    "end": "2184800"
  },
  {
    "text": "or uh does it happen from the DB file as well it's from two place so in we have a",
    "start": "2184800",
    "end": "2191839"
  },
  {
    "text": "in memory cash it read from there first if you hit hit the cache and there is um",
    "start": "2191839",
    "end": "2199040"
  },
  {
    "text": "the database file which is on disk chpo it is MM mapped so if you have enough",
    "start": "2199040",
    "end": "2204839"
  },
  {
    "text": "memory those file those pages will still in memory right and then you read from there so that's the two place that a",
    "start": "2204839",
    "end": "2211280"
  },
  {
    "text": "read can hit and in case of corruption what are the scenarios when atcd can repair itself in case of data",
    "start": "2211280",
    "end": "2218079"
  },
  {
    "text": "Corruptions data corruption yes like the DB file or the W file if it gets so if the W file is corrupted I will detect",
    "start": "2218079",
    "end": "2225040"
  },
  {
    "text": "that and then tell that okay the war file is corrupted because it's all CRC uh checkpointed uh check sumed for the",
    "start": "2225040",
    "end": "2231480"
  },
  {
    "text": "database file is right now it's not fully checkm so there may be a craft or",
    "start": "2231480",
    "end": "2238200"
  },
  {
    "text": "database F but we add another feature called hash so I when you run C it will",
    "start": "2238200",
    "end": "2243440"
  },
  {
    "text": "keep on hatching the internal State and compare through the cluster if it detect okay there is a value or a member in the",
    "start": "2243440",
    "end": "2250480"
  },
  {
    "text": "class that have a different catch than the other two members it will say that okay this member is probably uh crafted",
    "start": "2250480",
    "end": "2256680"
  },
  {
    "text": "so replace that with a new member deleted at new one and then get Snapshot from the other noes and to recover the",
    "start": "2256680",
    "end": "2263800"
  },
  {
    "text": "state I have uh two questions uh here hi",
    "start": "2263800",
    "end": "2269000"
  },
  {
    "text": "so one is I'm trying to determine that uh to till what granularity at CD right performance is dependent on dis iio",
    "start": "2269000",
    "end": "2275800"
  },
  {
    "text": "latency so is it like uh right request is said to have completed only when we",
    "start": "2275800",
    "end": "2280880"
  },
  {
    "text": "write to memory and later it can have sync with disk or right request is only said to have completed when the data has",
    "start": "2280880",
    "end": "2287319"
  },
  {
    "text": "been dumped on the disk oh can you repeat a question I is there a c is there a right C right okay",
    "start": "2287319",
    "end": "2295760"
  },
  {
    "text": "so there is a a righted cach that only helps the throughput it won't help with the uh latency because for latency from",
    "start": "2295760",
    "end": "2303520"
  },
  {
    "text": "from latency point of VI every rice has to Sy down to dis before returning it but we have a right cash that's only for",
    "start": "2303520",
    "end": "2310079"
  },
  {
    "text": "throughput increasing the throughput okay the request only completes when we get a confirmation from dis when the",
    "start": "2310079",
    "end": "2316359"
  },
  {
    "text": "when the dis return the uh right completes to the client and second question is have uh is there a upgrade",
    "start": "2316359",
    "end": "2323319"
  },
  {
    "text": "metrics for R CD in sense that like can you upgrade from 3.1 to like say 40 or",
    "start": "2323319",
    "end": "2328880"
  },
  {
    "text": "you have to go from 3.1 to 3.2 then you have to go one version after another version and that upgrade Matrix you have",
    "start": "2328880",
    "end": "2335480"
  },
  {
    "text": "to supply separately during the UPG great process say say again sorry uh so for example if you have a three member",
    "start": "2335480",
    "end": "2342000"
  },
  {
    "text": "at CD cluster M and all are on 3.1 so I have to like by phase I have to do like",
    "start": "2342000",
    "end": "2348160"
  },
  {
    "text": "3.1 to 3.2 and then 3.2 later on yes uh so that information where where can I",
    "start": "2348160",
    "end": "2355680"
  },
  {
    "text": "find that information it's there in okay so uh I use S sim ver maybe you can",
    "start": "2355680",
    "end": "2361760"
  },
  {
    "text": "answer the question yeah you you mean the documentation or uh yeah some of",
    "start": "2361760",
    "end": "2368200"
  },
  {
    "text": "manifest of up oh yeah yeah yeah in the documentation it's very detailed uh",
    "start": "2368200",
    "end": "2374520"
  },
  {
    "text": "recorded and then it have documentation for upgrading from 3.1 to 3.2 and up uh",
    "start": "2374520",
    "end": "2380440"
  },
  {
    "text": "documentation of upgrading from 3.2 to 3.3 and even U documentation from how to",
    "start": "2380440",
    "end": "2386480"
  },
  {
    "text": "upgrade from sd2 to fd3 and then if you want to upgrade from 3.1 to 3.4 for",
    "start": "2386480",
    "end": "2392440"
  },
  {
    "text": "instance then you have to go through like each stage and in in upgrade entire cluster to the one minor version upper",
    "start": "2392440",
    "end": "2401000"
  },
  {
    "text": "and then and then do it yeah and there are utilities like ETD",
    "start": "2401000",
    "end": "2407200"
  },
  {
    "text": "ADM and ETD operator that can help do this for you um if you don't want to do it",
    "start": "2407200",
    "end": "2413680"
  },
  {
    "text": "manually in a recent PR uh 10311 you uh proposed replacing bolb with Badger",
    "start": "2415640",
    "end": "2422440"
  },
  {
    "text": "could you just speak to your um reasons for this yeah they i i as I think I",
    "start": "2422440",
    "end": "2427640"
  },
  {
    "text": "mention just mentioned that like uh for SD we want to support HDD better or like",
    "start": "2427640",
    "end": "2433560"
  },
  {
    "text": "to reduce the memory usage right so better RSM based um uh backend will be",
    "start": "2433560",
    "end": "2440680"
  },
  {
    "text": "better fit for that use case but RM based approach will use much more CPU",
    "start": "2440680",
    "end": "2445800"
  },
  {
    "text": "and much more memory for your normal use case so for small clusters we'll still suggest BB because it's very lightweight",
    "start": "2445800",
    "end": "2454040"
  },
  {
    "text": "but for larger deployment we are experimenting with RM B B RSM based approach plugable storage yeah is it's",
    "start": "2454040",
    "end": "2461680"
  },
  {
    "text": "pluggable back backend well you can like yeah you can actually bike ACD by say my",
    "start": "2461680",
    "end": "2467400"
  },
  {
    "text": "CLE whatever we don't really care but we're just experimenting with some other",
    "start": "2467400",
    "end": "2472839"
  },
  {
    "text": "Alternatives uh I had a quick question about uh the compaction and so it sounds like we keep the history of all the keys",
    "start": "2472839",
    "end": "2479040"
  },
  {
    "text": "which is a cool feature um do I as a user have the ability to PR old Keys If I want to yes cool",
    "start": "2479040",
    "end": "2485760"
  },
  {
    "text": "yes yes and there a couple ways you can do it there's some flags that do automatic competion based on a policy or",
    "start": "2485760",
    "end": "2492160"
  },
  {
    "text": "if your client knows best then let it do it so for example the CP API server will do it every five minutes on what it",
    "start": "2492160",
    "end": "2498400"
  },
  {
    "text": "thinks reasonable so you don't have to do anything for",
    "start": "2498400",
    "end": "2502160"
  },
  {
    "text": "that could you talk about uh incremental backup and you know um or the",
    "start": "2508119",
    "end": "2514319"
  },
  {
    "text": "recommended uh things to when we are backing up every r",
    "start": "2514319",
    "end": "2519240"
  },
  {
    "text": "uh yes so uh so I itself is replicating data to all the uh nodes right so",
    "start": "2520760",
    "end": "2527560"
  },
  {
    "text": "normally you don't need to do the backup so if you when you do the backup probably do backup for the um data say",
    "start": "2527560",
    "end": "2534200"
  },
  {
    "text": "the data in correctness for example for kubernetes when you delete all your parts right then you want to recover",
    "start": "2534200",
    "end": "2541000"
  },
  {
    "text": "your state probably you want to recover it from backup right so backup is mostly",
    "start": "2541000",
    "end": "2546040"
  },
  {
    "text": "for like saving your application but for SD it's already replicated the data so you don't if you don't if you think that",
    "start": "2546040",
    "end": "2552319"
  },
  {
    "text": "your application is absolutely crack enough right you don't need to do the backup and backup does cost some like IO",
    "start": "2552319",
    "end": "2559640"
  },
  {
    "text": "I Ops or memory because when you do it it's need to uh read the data and send to the other node so we are adding a new",
    "start": "2559640",
    "end": "2565200"
  },
  {
    "text": "feature called No non voting members that member will just subscribe to the",
    "start": "2565200",
    "end": "2570400"
  },
  {
    "text": "uh raft and keep on like getting the new war files from the ra and then keep on",
    "start": "2570400",
    "end": "2575960"
  },
  {
    "text": "writing to dis then you will have a continuous backup you don't need to do the your backup anymore",
    "start": "2575960",
    "end": "2583400"
  },
  {
    "text": "yeah uh so I had a question so um we see in our production that when we have lots",
    "start": "2583400",
    "end": "2589760"
  },
  {
    "text": "Watchers watching a large key u the the the size of the value is large and when we update the key the FCD service needs",
    "start": "2589760",
    "end": "2597000"
  },
  {
    "text": "to uh send out a lot of bites during that uh instant and then we some see uh",
    "start": "2597000",
    "end": "2602160"
  },
  {
    "text": "we see some Network hiccups and even cause like leader re-election and stuff is is there any plans to handle that",
    "start": "2602160",
    "end": "2608280"
  },
  {
    "text": "more gracefully so uh I think someone mentioned that we have a thing called accid proxy ACD proxy is supposed to",
    "start": "2608280",
    "end": "2614680"
  },
  {
    "text": "handle this exact use case so so when you have a lot of uh uh Watchers",
    "start": "2614680",
    "end": "2621160"
  },
  {
    "text": "subscribe on a single key and S server now needs to find out that cause a lot",
    "start": "2621160",
    "end": "2627839"
  },
  {
    "text": "of network L right so we have a proxy so I Forest will find out to a few proxies",
    "start": "2627839",
    "end": "2633680"
  },
  {
    "text": "and then those proxies will find out to the other uh client and this reduce the",
    "start": "2633680",
    "end": "2639240"
  },
  {
    "text": "pressure on the core ICD members and this is a proxy so try the proxy if you",
    "start": "2639240",
    "end": "2645079"
  },
  {
    "text": "hit an issue create ACD like issue in the ACD repo will help you to fix them",
    "start": "2645079",
    "end": "2651240"
  },
  {
    "text": "right yeah so prox is designed for this but we don't just we don't have enough use case for example kubernetes have",
    "start": "2651240",
    "end": "2657880"
  },
  {
    "text": "three clients right and it doesn't really work for a large even if it works for large values value will just send to",
    "start": "2657880",
    "end": "2664880"
  },
  {
    "text": "three clients right yeah",
    "start": "2664880",
    "end": "2669000"
  },
  {
    "text": "um I have another probably going to be useful slides for you guys um there are",
    "start": "2669960",
    "end": "2675119"
  },
  {
    "text": "some tools um that you can use for some of the use cases um Joe and J had a",
    "start": "2675119",
    "end": "2681160"
  },
  {
    "text": "debugging SD yesterday if you uh look at the video they have a very detailed",
    "start": "2681160",
    "end": "2687359"
  },
  {
    "text": "introduction on the tools um for example if uh SD cuddle SD dump DB is to um look",
    "start": "2687359",
    "end": "2697559"
  },
  {
    "text": "what's in the DB file and SD dump blcks is to see what's in the wall loock and",
    "start": "2697559",
    "end": "2704400"
  },
  {
    "text": "uh there is augur if you're using SD in kubernetes then you can use augur to",
    "start": "2704400",
    "end": "2709920"
  },
  {
    "text": "decode the prob of the uh kuet object and you can do some other um nice",
    "start": "2709920",
    "end": "2716640"
  },
  {
    "text": "calculations like uh the the the value size and how many V divisions you have for each key and things like that I",
    "start": "2716640",
    "end": "2723200"
  },
  {
    "text": "think that answerers some of the questions um and you you can combine the SD dump blocks and augur to give you the",
    "start": "2723200",
    "end": "2730880"
  },
  {
    "text": "decoding of the object as well um",
    "start": "2730880",
    "end": "2736599"
  },
  {
    "text": "yeah I think we already run out of time so if you have questions just reach me",
    "start": "2736599",
    "end": "2742839"
  },
  {
    "text": "out we'll be here maybe for another few minutes and draw is here and guo is here we are all maintainers thank you",
    "start": "2742839",
    "end": "2752520"
  }
]