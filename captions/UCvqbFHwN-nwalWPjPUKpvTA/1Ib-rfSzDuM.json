[
  {
    "start": "0",
    "end": "59000"
  },
  {
    "text": "so this is the they talk on visor we're",
    "start": "30",
    "end": "6299"
  },
  {
    "text": "gonna be talking mostly about inner sandboxing kind of the security Brett",
    "start": "6299",
    "end": "14250"
  },
  {
    "text": "model a little bit about with regard to containers and some of our like kind of",
    "start": "14250",
    "end": "19800"
  },
  {
    "text": "thought process when building G boys are around you know the architecture and",
    "start": "19800",
    "end": "26519"
  },
  {
    "text": "that how what we were thinking and why like other approaches the kind of",
    "start": "26519",
    "end": "33030"
  },
  {
    "text": "benefits like pros and cons of each approach kind of building generalizer",
    "start": "33030",
    "end": "39379"
  },
  {
    "text": "though just to like as an introduction I'm my name is Ian Lewis I'm a developer",
    "start": "39379",
    "end": "45960"
  },
  {
    "text": "advocate at Google kind of part time for",
    "start": "45960",
    "end": "50969"
  },
  {
    "text": "every contributor and advisor and other kind of container room runtime related",
    "start": "50969",
    "end": "56399"
  },
  {
    "text": "stuff so when thinking about kind of",
    "start": "56399",
    "end": "63090"
  },
  {
    "start": "59000",
    "end": "59000"
  },
  {
    "text": "sandboxing like the like normal containers are kind of a great way to",
    "start": "63090",
    "end": "68640"
  },
  {
    "text": "run applications but aren't always a great way to kind of sandbox them to run",
    "start": "68640",
    "end": "74390"
  },
  {
    "text": "untrusted code so like in a lot of cases like you might have code that is that",
    "start": "74390",
    "end": "81450"
  },
  {
    "text": "you want to run but you don't want to actually expose that your infrastructure",
    "start": "81450",
    "end": "88560"
  },
  {
    "text": "to that code so that might be something like a running code that users upload to",
    "start": "88560",
    "end": "96090"
  },
  {
    "text": "your service so something like a software is a service or some sort of like serverless situation a running",
    "start": "96090",
    "end": "104520"
  },
  {
    "text": "third-party code so like you have a vendor that provides you with a binary and you just need to run that in your cluster but like you don't know what's",
    "start": "104520",
    "end": "112740"
  },
  {
    "text": "in that binary you don't know like you know if it's safe and don't know like",
    "start": "112740",
    "end": "119399"
  },
  {
    "text": "what sort of vulnerabilities might be in it I know there is - like you know",
    "start": "119399",
    "end": "124439"
  },
  {
    "text": "running kind of code on complex user inputs of things that you know these these are all in this case it's like",
    "start": "124439",
    "end": "130470"
  },
  {
    "text": "something that might have is more likely to have owner Goldie's so things that take you know",
    "start": "130470",
    "end": "135959"
  },
  {
    "text": "user input from that's untrusted and then just something complicated on it so like that might be something like video",
    "start": "135959",
    "end": "145560"
  },
  {
    "text": "encoding or image encoding or like machine learning that type of thing or",
    "start": "145560",
    "end": "153930"
  },
  {
    "text": "you might just have some code that you wrote yourself and like you don't trust your own abilities so or you know to",
    "start": "153930",
    "end": "161910"
  },
  {
    "text": "keep it's safe and secure and so you want to just sandbox that that code and make sure that it's that it's safe to",
    "start": "161910",
    "end": "169920"
  },
  {
    "text": "run in your cluster so as I said some of the use cases for like actual like kind",
    "start": "169920",
    "end": "175290"
  },
  {
    "start": "172000",
    "end": "172000"
  },
  {
    "text": "of business use cases might be something like SAS or cyrillus you know video",
    "start": "175290",
    "end": "180299"
  },
  {
    "text": "image transcoding machine learning there's some pretty typical use cases",
    "start": "180299",
    "end": "186750"
  },
  {
    "text": "but you know as I mentioned like he could be just running third-party vendor code or that sort of thing oh like kind",
    "start": "186750",
    "end": "196680"
  },
  {
    "start": "195000",
    "end": "195000"
  },
  {
    "text": "of to break down like what like why we need to sandbox and like what like the",
    "start": "196680",
    "end": "203700"
  },
  {
    "text": "attack surface looks like when you're running something in a container like so here's our application and this application like is not trusted this is",
    "start": "203700",
    "end": "211140"
  },
  {
    "text": "just an application that could run any type of arbitrary code so it can and and",
    "start": "211140",
    "end": "216540"
  },
  {
    "text": "may run code that we don't expect it to run or that it may you know it could be",
    "start": "216540",
    "end": "222959"
  },
  {
    "text": "completely malicious and so what applications typically do kind of as",
    "start": "222959",
    "end": "228120"
  },
  {
    "text": "they're running is they you know on a Linux kernel or as part of inside of a container is they when they need to have",
    "start": "228120",
    "end": "235950"
  },
  {
    "text": "access to resources they'll typically make a sis call to the Linux kernel and",
    "start": "235950",
    "end": "241560"
  },
  {
    "text": "so as the applications running on the CPU like part of that it hits this like call to the Linux kernel which then does",
    "start": "241560",
    "end": "249000"
  },
  {
    "text": "a context switch into the Linux kernel you know right some some code or some data to memory and then just the context",
    "start": "249000",
    "end": "255420"
  },
  {
    "text": "switch to the kernel which then reads that memory and executes some sort of system call and so in this case we're",
    "start": "255420",
    "end": "261120"
  },
  {
    "text": "like opening a file right but then like typically as part of that after that context switch the host",
    "start": "261120",
    "end": "267930"
  },
  {
    "text": "kernel will actually run and do something so like this is actually running host kernel code in a privileged mode and so if there say a bug in the",
    "start": "267930",
    "end": "276419"
  },
  {
    "text": "Linux kernel or in a in the the host OS like you could get potentially remote or",
    "start": "276419",
    "end": "283350"
  },
  {
    "text": "get arbitrary code execution that is with all of the privileges that the",
    "start": "283350",
    "end": "290820"
  },
  {
    "text": "kernel itself has and so this is something that we don't really want to do you know so like as part of the",
    "start": "290820",
    "end": "296850"
  },
  {
    "text": "normal running of the application it's actually calling into the Linux kernel and running some some code as the Linux",
    "start": "296850",
    "end": "303300"
  },
  {
    "text": "kernel and so this is typically the code that is kind of suspect in terms of like",
    "start": "303300",
    "end": "309900"
  },
  {
    "text": "being privileged and that you know if there's a bug in it could be potentially",
    "start": "309900",
    "end": "316020"
  },
  {
    "text": "problematic in terms of like the security of the overall infrastructure",
    "start": "316020",
    "end": "321650"
  },
  {
    "start": "321000",
    "end": "321000"
  },
  {
    "text": "this is like we need things like container sand boxes so like you know there's a lot of other projects out",
    "start": "321650",
    "end": "327570"
  },
  {
    "text": "there gee buzzer is one of them but you know there's code of containers there's like you know things like firecracker",
    "start": "327570",
    "end": "332970"
  },
  {
    "text": "there's like rusty mmm there's like you know all these things that are kind of building sand boxes for containers or at",
    "start": "332970",
    "end": "339570"
  },
  {
    "text": "least for container like things and so these are basically built to be able to",
    "start": "339570",
    "end": "347610"
  },
  {
    "text": "run arbitrary code so that people can't attack front or escape from the environment that you know the container",
    "start": "347610",
    "end": "354960"
  },
  {
    "text": "environment and this code is like you know as I say it's like completely",
    "start": "354960",
    "end": "360509"
  },
  {
    "text": "untrusted so we don't want to you know it could be doing anything it could be 100% malicious code like that and we",
    "start": "360509",
    "end": "368610"
  },
  {
    "text": "have to kind of assume that that's what it is because you know the application inside could be could have been",
    "start": "368610",
    "end": "374759"
  },
  {
    "text": "compromised in some way the goal of like",
    "start": "374759",
    "end": "380250"
  },
  {
    "start": "377000",
    "end": "377000"
  },
  {
    "text": "sandbox isolation is typically to you know reduce the attack the attack surface and bite you know the part of",
    "start": "380250",
    "end": "389070"
  },
  {
    "text": "doing that is like reducing the the execution of trusted like privileged code in the in the kernel itself so this",
    "start": "389070",
    "end": "397260"
  },
  {
    "text": "is typically done through like some sort of virtualization or abstract of these hosts of the host itself so you",
    "start": "397260",
    "end": "405509"
  },
  {
    "text": "might do something like you know have like a virtual machine that abstracts the who are abstracts away you know the",
    "start": "405509",
    "end": "411240"
  },
  {
    "text": "hardware or you who might have some other like level of virtual layer of",
    "start": "411240",
    "end": "416460"
  },
  {
    "text": "virtualization so you basically create like this virtual host that like if it gets",
    "start": "416460",
    "end": "422009"
  },
  {
    "text": "compromised doesn't expose the entire host or the entire infrastructure to the",
    "start": "422009",
    "end": "428430"
  },
  {
    "text": "attacker but as part of like this like",
    "start": "428430",
    "end": "434220"
  },
  {
    "text": "at least as we're building G visor and it and one of the principles that that Google itself has has had when it builds",
    "start": "434220",
    "end": "441949"
  },
  {
    "text": "systems in order to sandbox things is to to have two layers of isolation so like",
    "start": "441949",
    "end": "448320"
  },
  {
    "text": "one of the the idea here is that we don't want to expose the the",
    "start": "448320",
    "end": "453630"
  },
  {
    "text": "infrastructure to any one single bug and this is typically you don't want to have",
    "start": "453630",
    "end": "461610"
  },
  {
    "text": "like a single bug be how this thing would be a single bug away from having be able to get it things like user data",
    "start": "461610",
    "end": "468870"
  },
  {
    "text": "or something that's that's you know important to you and the reason for this",
    "start": "468870",
    "end": "475620"
  },
  {
    "text": "is just that you know if you have it you may have maybe having a single bug is",
    "start": "475620",
    "end": "482550"
  },
  {
    "text": "not all of that all that come in but it's you know almost virtually unheard",
    "start": "482550",
    "end": "489539"
  },
  {
    "text": "of to have like two bugs that that work at the exact same time in order to you",
    "start": "489539",
    "end": "497039"
  },
  {
    "text": "know that the attacker has it has access to in order to get like out of a particular you know a sandbox or a",
    "start": "497039",
    "end": "503880"
  },
  {
    "text": "runtime environment this just like makes it you know by having by requiring that",
    "start": "503880",
    "end": "509639"
  },
  {
    "text": "they have like two layers there or they get past two layers in order to get to user data or to something on the host",
    "start": "509639",
    "end": "515969"
  },
  {
    "text": "this greatly reduces or at least we think that it greatly reduces the the",
    "start": "515969",
    "end": "522959"
  },
  {
    "text": "chances that somebody will be able to break out in the sandbox and as we were",
    "start": "522959",
    "end": "529050"
  },
  {
    "start": "527000",
    "end": "527000"
  },
  {
    "text": "thinking about building things like gee visor and the",
    "start": "529050",
    "end": "533839"
  },
  {
    "text": "the sandbox like we there's you know a lot of different alternatives to building sand boxes so one of those is",
    "start": "534620",
    "end": "540710"
  },
  {
    "text": "you know obviously like running container just running containers normally and running the code inside of",
    "start": "540710",
    "end": "547520"
  },
  {
    "text": "a container is an option but you know as we said with the being one like kind of",
    "start": "547520",
    "end": "553460"
  },
  {
    "text": "kernel bug away from people breaking out this is typically not something that we",
    "start": "553460",
    "end": "559310"
  },
  {
    "text": "really want to be able to be doing because containers are just basically",
    "start": "559310",
    "end": "564440"
  },
  {
    "text": "running directly on the host and so like any bug in any one of the interfaces",
    "start": "564440",
    "end": "571910"
  },
  {
    "text": "that it's exposed to or that has access to could potentially be a way of",
    "start": "571910",
    "end": "577339"
  },
  {
    "text": "breaking out of the container and a lot of applications typically need to have like you know access to a good number of",
    "start": "577339",
    "end": "583190"
  },
  {
    "text": "sis calls or so you know some of the examples like dirty Cal are examples",
    "start": "583190",
    "end": "589400"
  },
  {
    "text": "where you know the the bug is in something like M advised which is like",
    "start": "589400",
    "end": "594589"
  },
  {
    "text": "needed by pretty much every application out there so you can't really just filter this as calls in order to the",
    "start": "594589",
    "end": "602420"
  },
  {
    "text": "sandbox the application another idea is like using you know kernels you know",
    "start": "602420",
    "end": "608990"
  },
  {
    "text": "kernels are a way of kind of creating Sam boxes and typically they do that with like by kind of linking in or",
    "start": "608990",
    "end": "615680"
  },
  {
    "text": "building an application with a guest OS as a built as a library and then running",
    "start": "615680",
    "end": "621140"
  },
  {
    "text": "that in a hypervisor arena in a locked-down kernel or in a locked-down container so this is this is like an",
    "start": "621140",
    "end": "629750"
  },
  {
    "text": "interesting idea on but one of the things that's kind of difficult with this is that like you can't really bring",
    "start": "629750",
    "end": "635240"
  },
  {
    "text": "your own container in the most in most cases well like you know containers and",
    "start": "635240",
    "end": "642350"
  },
  {
    "start": "640000",
    "end": "640000"
  },
  {
    "text": "you know kernels are interesting but like they have a lot of kind of downsides in the sense that containers",
    "start": "642350",
    "end": "647420"
  },
  {
    "text": "obviously like aren't good for security isolation they only have one layer of isolation and it's it's hard to reduce",
    "start": "647420",
    "end": "655130"
  },
  {
    "text": "the attack surface by just using a container or the the features that you're allowed that you're they're",
    "start": "655130",
    "end": "661490"
  },
  {
    "text": "available to containers so things like set comp or app app armor",
    "start": "661490",
    "end": "667240"
  },
  {
    "text": "but Yuna curls our way of helping with some of that but they can't you don't you're not allowed to kind of like bring",
    "start": "667939",
    "end": "673849"
  },
  {
    "text": "your own container like you kind of have to build a specially crafted kind of container that contains the the",
    "start": "673849",
    "end": "678979"
  },
  {
    "text": "operating system so you have to bring a lot of that operating system-level like support with you in as part of the",
    "start": "678979",
    "end": "685039"
  },
  {
    "text": "container so that's not totally ideal because you have to have like a",
    "start": "685039",
    "end": "690649"
  },
  {
    "text": "different build process like a lot of cases like you have to have there's a lot of limitations to the type of",
    "start": "690649",
    "end": "696559"
  },
  {
    "text": "applications that you can run but you",
    "start": "696559",
    "end": "701599"
  },
  {
    "text": "know that's so that's one of the reasons why you know we think that a different approach is a virtual machines are",
    "start": "701599",
    "end": "710749"
  },
  {
    "text": "probably the the most well understood and most used way of kind of sandboxing things or sandboxing applications",
    "start": "710749",
    "end": "718059"
  },
  {
    "text": "virtual machines give you kind of you know a guest OS typically you bring the whole like kind of VM image so a guest",
    "start": "718059",
    "end": "727369"
  },
  {
    "text": "OS and the application together but then you have like the and isolation layer at",
    "start": "727369",
    "end": "733039"
  },
  {
    "text": "the hypervisor label layer which gives you like a pretty strong boundary between you and the hosts you know",
    "start": "733039",
    "end": "740899"
  },
  {
    "text": "typically like you know depending on whether you're using something like type 1 or type 2 virtual machine you know",
    "start": "740899",
    "end": "746779"
  },
  {
    "text": "something that has hardware support or something that or a hardware yeah",
    "start": "746779",
    "end": "752689"
  },
  {
    "text": "basically a hardware support for the hypervisor like we're not kind of depends on whether how you have like you",
    "start": "752689",
    "end": "758659"
  },
  {
    "text": "know kind of one or two layers of security but the typically this gives",
    "start": "758659",
    "end": "764209"
  },
  {
    "text": "you a reasonably good level of security you know you have a fairly like with say",
    "start": "764209",
    "end": "769399"
  },
  {
    "start": "767000",
    "end": "767000"
  },
  {
    "text": "like type two you have a hypervisor that's built into the kernel and the the VM is run as a as a as a regular process",
    "start": "769399",
    "end": "776809"
  },
  {
    "text": "on the machine and this gives you a pretty decent like kind of single layer",
    "start": "776809",
    "end": "783470"
  },
  {
    "text": "of boundary but you're still kind of like one bug say in the hypervisor away",
    "start": "783470",
    "end": "788779"
  },
  {
    "text": "from you know potentially having a full host compromised with type ones you kind",
    "start": "788779",
    "end": "795349"
  },
  {
    "text": "of get you know you could be in the situation where you'd have to get like kind of a hypervisor bug plus like have",
    "start": "795349",
    "end": "801409"
  },
  {
    "text": "some a hardware issue in order to break out like if you had like like memory fencing or whatever like this is maybe a little",
    "start": "801409",
    "end": "810140"
  },
  {
    "text": "bit better or this is a little bit better perhaps like but virtual machines have a lot of other kind of downsides",
    "start": "810140",
    "end": "817300"
  },
  {
    "text": "assets that like they're it's not easy to have like flexible resource usage with a with a VM I so you don't get to",
    "start": "817300",
    "end": "825980"
  },
  {
    "text": "kind of you have to assign full sets of memory or CPU kind of to the sandbox and",
    "start": "825980",
    "end": "832970"
  },
  {
    "text": "then you kind of have to just allocate that completely to the to the sandbox I",
    "start": "832970",
    "end": "838310"
  },
  {
    "text": "mean you can do some sort of over-committing and stuff like that but it's not very flexible you can do memory",
    "start": "838310",
    "end": "844070"
  },
  {
    "text": "ballooning but like typically like you have to have kind of cooperation with the OS inside the sandbox that may or",
    "start": "844070",
    "end": "853100"
  },
  {
    "text": "may not be trusted or may not be trusted and so you don't really necessarily want to have to do that um you also want to",
    "start": "853100",
    "end": "860870"
  },
  {
    "text": "have a quick startup time so depending on the environment like if you're using kind of one of the micro VM things you",
    "start": "860870",
    "end": "866870"
  },
  {
    "text": "can get better startup time but if you need to support a lot of devices or something like that that can like",
    "start": "866870",
    "end": "872930"
  },
  {
    "text": "increase the lower the startup time another thing that we wanted to do as part of G Weiser was to like have",
    "start": "872930",
    "end": "878780"
  },
  {
    "text": "something that would integrate well with containers like solutions so something that was very container like but would",
    "start": "878780",
    "end": "887120"
  },
  {
    "text": "actually give us a sandbox so this is something that you know would easily integrate in something like",
    "start": "887120",
    "end": "894170"
  },
  {
    "text": "kubernetes and give people a very container like experience in terms of like how they assign and and manage the",
    "start": "894170",
    "end": "900830"
  },
  {
    "text": "resources of the containers but would",
    "start": "900830",
    "end": "906080"
  },
  {
    "text": "also provide kind of a sandbox so you wouldn't have like this like totally different paradigm for your sandboxes",
    "start": "906080",
    "end": "912200"
  },
  {
    "text": "versus not we thought about like a lot of this like how how would we kind of",
    "start": "912200",
    "end": "918980"
  },
  {
    "text": "build a system that would give us all of the things that we wanted so you know",
    "start": "918980",
    "end": "926150"
  },
  {
    "text": "with virtual machines you have like kind of a hardware virtualization layer but",
    "start": "926150",
    "end": "933470"
  },
  {
    "text": "and as I said like if you weenie in order to like actually do a to build us a sandbox",
    "start": "933470",
    "end": "941079"
  },
  {
    "text": "typically you would virtualize the the system layers right so here like you're",
    "start": "941079",
    "end": "947179"
  },
  {
    "text": "actually virtualizing the hardware and providing an interface at that layer and everything above that layer is is",
    "start": "947179",
    "end": "952999"
  },
  {
    "text": "untrusted but with with G visor the way that we kind of figured that we would do",
    "start": "952999",
    "end": "959540"
  },
  {
    "start": "955000",
    "end": "955000"
  },
  {
    "text": "it is by virtualizing the the virtualizing at the OS level so in this",
    "start": "959540",
    "end": "964699"
  },
  {
    "text": "case we're actually virtualizing something virtualizing the OS and then you know basically only the application",
    "start": "964699",
    "end": "970730"
  },
  {
    "text": "well like I'll talk a little bit about that but like you know people can",
    "start": "970730",
    "end": "975980"
  },
  {
    "text": "basically bring their untrusted application and we can run that in the sandbox so the virtualize the virtualized iOS is",
    "start": "975980",
    "end": "984049"
  },
  {
    "text": "like is trusted but like at least up until the point that the application is actually run I'll talk about that in a",
    "start": "984049",
    "end": "989540"
  },
  {
    "start": "989000",
    "end": "989000"
  },
  {
    "text": "little bit so this like for us like gives us the two layers of isolation",
    "start": "989540",
    "end": "995389"
  },
  {
    "text": "that we want because as when we actually boot up the container we have control of",
    "start": "995389",
    "end": "1004209"
  },
  {
    "text": "the OS so we can set it up so that the the guest OS is running and is the guest",
    "start": "1004209",
    "end": "1011769"
  },
  {
    "text": "OS that we expect it to be and then put like a fairly strong layer of isolation",
    "start": "1011769",
    "end": "1017679"
  },
  {
    "text": "at the host kernel level so what this is doing is it is basically intercepting",
    "start": "1017679",
    "end": "1026529"
  },
  {
    "text": "kind of application sis calls and then handling those as part of the user space",
    "start": "1026529",
    "end": "1031808"
  },
  {
    "text": "kernel and then that that entire that",
    "start": "1031809",
    "end": "1037269"
  },
  {
    "text": "entire kind of package or sandbox runs inside of the inside of user space and then needs only to make limited limited",
    "start": "1037269",
    "end": "1045730"
  },
  {
    "text": "amount of sis calls in order to implement the sandbox to the actual host and so by doing that we reduce the kind",
    "start": "1045730",
    "end": "1052330"
  },
  {
    "text": "of the amount of sis calls and you know specifically the type of we get to",
    "start": "1052330",
    "end": "1058360"
  },
  {
    "text": "control a little bit more the actual arguments and things like that that are",
    "start": "1058360",
    "end": "1064659"
  },
  {
    "text": "sent to the sis calls gives us the choose layers of isolation",
    "start": "1064659",
    "end": "1071850"
  },
  {
    "text": "use this kind of the same you know principle of virtualization as things like VMs but it is doing it at kind of a",
    "start": "1071850",
    "end": "1078940"
  },
  {
    "text": "different level it's doing it like an OS level rather than at a hardware level and this reduces the hosts attacks or",
    "start": "1078940",
    "end": "1086200"
  },
  {
    "text": "risk by you know reducing the amount of sis calls that are handled by the actual host kernel and you know handling like",
    "start": "1086200",
    "end": "1095310"
  },
  {
    "text": "these the sis calls that are actually sent to the the host kernel are you know",
    "start": "1095310",
    "end": "1100450"
  },
  {
    "text": "managed by at least the first layer of of isolation which is the user space century so you would have to kind of",
    "start": "1100450",
    "end": "1107680"
  },
  {
    "text": "break out in the user space or you would have to find a bug in the the Sentry itself and get over that layer before",
    "start": "1107680",
    "end": "1114010"
  },
  {
    "text": "you could actually even send any arbitrary sis calls to the kernel and then your own you're limited to which",
    "start": "1114010",
    "end": "1121270"
  },
  {
    "text": "sis calls you can actually run and that's like a vastly reduced sex and a normal application needs to run so I'm",
    "start": "1121270",
    "end": "1135160"
  },
  {
    "start": "1128000",
    "end": "1128000"
  },
  {
    "text": "going to talk a little bit more about like the actual architecture of the of the sandbox and like how it kind of",
    "start": "1135160",
    "end": "1140710"
  },
  {
    "text": "starts up and how that actually makes a",
    "start": "1140710",
    "end": "1145740"
  },
  {
    "text": "container secure so the way that we integrate with k√ºbra nice is we use",
    "start": "1145740",
    "end": "1151660"
  },
  {
    "text": "container D and container D provides a API that allows you to run something",
    "start": "1151660",
    "end": "1160450"
  },
  {
    "text": "called a shim which will then run in actual container and container D",
    "start": "1160450",
    "end": "1165730"
  },
  {
    "text": "implements the CRI interface that kubernetes needs in order to run containers so it's very similar to the",
    "start": "1165730",
    "end": "1172810"
  },
  {
    "text": "way that containers run like we're like normal containers run container D will execute the container D shim for for run",
    "start": "1172810",
    "end": "1180970"
  },
  {
    "text": "C in order to run regular containers and this runs in a very similar way to that",
    "start": "1180970",
    "end": "1186660"
  },
  {
    "text": "but we can provide what's called a run tank handler through kubernetes on",
    "start": "1186660",
    "end": "1193890"
  },
  {
    "text": "through container D in order to tell it which runtimes to actually use so in",
    "start": "1193890",
    "end": "1199930"
  },
  {
    "text": "this case we really like we're gonna use run SC and we're going to run a container and so the first thing that the duh that",
    "start": "1199930",
    "end": "1205780"
  },
  {
    "text": "the container does or that that G visor will do is it will set up our kind of",
    "start": "1205780",
    "end": "1212500"
  },
  {
    "text": "sandbox environments and we call this part the sandbox this part that's like",
    "start": "1212500",
    "end": "1217930"
  },
  {
    "text": "in the dashed lines here and that's where the application itself is going to",
    "start": "1217930",
    "end": "1222940"
  },
  {
    "text": "run but at this point we we still have we have kind of a trusted sandbox in the sense that we're not running any untrusted code yet we have a century",
    "start": "1222940",
    "end": "1230170"
  },
  {
    "text": "that we know is like is the actual century that we or user space kernel",
    "start": "1230170",
    "end": "1235600"
  },
  {
    "text": "that we expect it to be and then we have this we set up something called a gopher",
    "start": "1235600",
    "end": "1242170"
  },
  {
    "text": "which is going to do a lot of our file i/o I'll talk a little bit about that layer and then we are going to use",
    "start": "1242170",
    "end": "1249760"
  },
  {
    "text": "either p trace or k vm what we call platforms in order to intercept thesis call and then once we've done that we",
    "start": "1249760",
    "end": "1258280"
  },
  {
    "text": "like put both we encapsulate both of the sandbox and the gopher in a in set comp",
    "start": "1258280",
    "end": "1264070"
  },
  {
    "text": "and or a set comp sandbox and namespaces so we run these in like a fairly",
    "start": "1264070",
    "end": "1271300"
  },
  {
    "text": "restricted actual container and then we actually run the application itself and",
    "start": "1271300",
    "end": "1278140"
  },
  {
    "text": "so the application itself once it starts running can start making sis calls to the century and at this point we",
    "start": "1278140",
    "end": "1284680"
  },
  {
    "text": "reconsider the entire sandbox on trusted so we can think of the sandbox itself as being potentially compromised at this",
    "start": "1284680",
    "end": "1290980"
  },
  {
    "text": "point because we're running untrusted code so the idea here is to handle most",
    "start": "1290980",
    "end": "1298030"
  },
  {
    "text": "of the the assist calls like entirely within the sandbox and in the cases",
    "start": "1298030",
    "end": "1304780"
  },
  {
    "text": "where we actually do need to use host resources we can the century does does",
    "start": "1304780",
    "end": "1310510"
  },
  {
    "text": "some level of filtering and making sure that the the SIS calls that get made to",
    "start": "1310510",
    "end": "1316840"
  },
  {
    "text": "the kernel itself are not malicious are going to be problematic in any way and",
    "start": "1316840",
    "end": "1324030"
  },
  {
    "text": "then we can do things like you know we can run multiple containers inside of",
    "start": "1324030",
    "end": "1329080"
  },
  {
    "text": "the sandbox so this is how we implement pods within kubernetes so you can have a",
    "start": "1329080",
    "end": "1335680"
  },
  {
    "text": "single sandbox per pod and then have multiple containers running inside of that sandbox and then these are these are",
    "start": "1335680",
    "end": "1342990"
  },
  {
    "text": "kind of names based there's there's different like there's slightly specific",
    "start": "1342990",
    "end": "1350909"
  },
  {
    "text": "namespace support within within G advisor but essentially their names based kind of in a similar way to what",
    "start": "1350909",
    "end": "1356370"
  },
  {
    "text": "you would expect from from a pod and then so you get a very similar",
    "start": "1356370",
    "end": "1363149"
  },
  {
    "text": "experience to the way that containers run you can assign them all the same IP",
    "start": "1363149",
    "end": "1368639"
  },
  {
    "text": "address you can they can talk to each other on localhost that sort of thing you get a very kind of similar",
    "start": "1368639",
    "end": "1373769"
  },
  {
    "text": "experience to a normal container though",
    "start": "1373769",
    "end": "1380299"
  },
  {
    "text": "talking about some of the design principles behind G Weiser one is that we have these two security layers and",
    "start": "1380299",
    "end": "1387029"
  },
  {
    "text": "then so part of that is just the fact that we have the Sentry and then we have",
    "start": "1387029",
    "end": "1393149"
  },
  {
    "text": "a set comp sandbox so to give us two layers of isolation there between Linux the Linux kernel syscalls",
    "start": "1393149",
    "end": "1399840"
  },
  {
    "text": "but also with with things like file operations we go through like a separate",
    "start": "1399840",
    "end": "1405629"
  },
  {
    "text": "application outside which is called a gopher in order to you know separate",
    "start": "1405629",
    "end": "1411600"
  },
  {
    "text": "things like being able to open files so like if you you want to open say like an",
    "start": "1411600",
    "end": "1419580"
  },
  {
    "text": "arbitrary file you would need to break through the century and then find",
    "start": "1419580",
    "end": "1425309"
  },
  {
    "text": "another bug within the gopher in order to actually start opening and writing to files that you wouldn't normally be able",
    "start": "1425309",
    "end": "1433320"
  },
  {
    "text": "to write to so that provides are kind of two layers of isolation for say like filesystem writing and then you know",
    "start": "1433320",
    "end": "1445409"
  },
  {
    "start": "1440000",
    "end": "1440000"
  },
  {
    "text": "some other design principles so like that we have like we provide minimal access to the host so like gnosis calls",
    "start": "1445409",
    "end": "1450869"
  },
  {
    "text": "are actually passed through so it's not like a SATCOM sandbox it's actually like the this is calls that are made to the",
    "start": "1450869",
    "end": "1457529"
  },
  {
    "text": "host or actually done as part of in the implementation of the sandbox and then",
    "start": "1457529",
    "end": "1464279"
  },
  {
    "text": "we limit the number of Cisco's allowed so instead of you know having something",
    "start": "1464279",
    "end": "1469860"
  },
  {
    "text": "like 200 for like the kind of defaults docker SATCOM profile you have something like",
    "start": "1469860",
    "end": "1477690"
  },
  {
    "text": "30 that you can run with G visor and then we run G Pfizer itself or the the",
    "start": "1477690",
    "end": "1483299"
  },
  {
    "text": "sandbox itself in user mode so that you know even if the sandbox is compromised",
    "start": "1483299",
    "end": "1488489"
  },
  {
    "text": "we don't have like root access on the host we also use we also implement the",
    "start": "1488489",
    "end": "1494309"
  },
  {
    "text": "sandbox or the we implement a sentry and other parts of do you visor and go and the reason we do this is like so that we",
    "start": "1494309",
    "end": "1500129"
  },
  {
    "text": "don't have like you know a lot of the the problems that you would have if you write applications and see or kernels",
    "start": "1500129",
    "end": "1506219"
  },
  {
    "text": "and see in terms of like buffer overruns and like you know there's you know",
    "start": "1506219",
    "end": "1511799"
  },
  {
    "text": "essentially our you know array length checking and things like that built into the language so it's it's memory safe",
    "start": "1511799",
    "end": "1517649"
  },
  {
    "text": "and you have all the a lot of the these kind of security features built into the language you know other things like",
    "start": "1517649",
    "end": "1525779"
  },
  {
    "text": "unsafe code reviews and like you know the fact that the that it's statically",
    "start": "1525779",
    "end": "1531569"
  },
  {
    "text": "linked so that we don't have like issues with like you know people over writing like a dynamically linked library that",
    "start": "1531569",
    "end": "1538679"
  },
  {
    "text": "sort of thing so these are these are kind of like some of the design pet tools that we like build into the actual",
    "start": "1538679",
    "end": "1546199"
  },
  {
    "text": "development of gee visor and then we use",
    "start": "1546199",
    "end": "1551489"
  },
  {
    "text": "like a lot of the you know the built in like host features like see groups and",
    "start": "1551489",
    "end": "1559319"
  },
  {
    "text": "namespaces and chroot or pivot route in our case and running the actual sandbox",
    "start": "1559319",
    "end": "1567899"
  },
  {
    "text": "as the the UI UI DNG idea nobody so that we don't have like the the user doesn't",
    "start": "1567899",
    "end": "1574079"
  },
  {
    "text": "have escalated privileges or privileges that it doesn't need and we drop like",
    "start": "1574079",
    "end": "1579899"
  },
  {
    "text": "you know pretty much all the capabilities for the sandbox because they can most of those can be implemented by the sandbox itself so as",
    "start": "1579899",
    "end": "1592930"
  },
  {
    "start": "1590000",
    "end": "1590000"
  },
  {
    "text": "part of the sandbox like is we're you know starting it up the sandbox itself like is you know encapsulated and see",
    "start": "1592930",
    "end": "1598870"
  },
  {
    "text": "group in order to make sure that the sandbox doesn't use resources you know",
    "start": "1598870",
    "end": "1604240"
  },
  {
    "text": "more resources or take up too many resources on the host we encapsulate",
    "start": "1604240",
    "end": "1610540"
  },
  {
    "text": "that in namespaces so this is very similar to like yeah the sandbox itself is is you know very similar to like an",
    "start": "1610540",
    "end": "1616900"
  },
  {
    "text": "actual container but it's a very restricted container in the sense that you know we we are fixed to running as a",
    "start": "1616900",
    "end": "1624670"
  },
  {
    "text": "UID and GID of nobody and we have a fairly rich frickin SATCOM profile and",
    "start": "1624670",
    "end": "1634169"
  },
  {
    "text": "what we do is like as we're building up the sand we're creating the sandbox we said like namespaces and chroot or you",
    "start": "1635670",
    "end": "1643450"
  },
  {
    "text": "know pivot route in order to route the",
    "start": "1643450",
    "end": "1648550"
  },
  {
    "text": "sandbox into a particular you know directory which basically contains nothing except for a run NC",
    "start": "1648550",
    "end": "1654460"
  },
  {
    "text": "so like the sandbox itself contains like almost no file system at all and then",
    "start": "1654460",
    "end": "1660640"
  },
  {
    "text": "the we basically drop all the capabilities and set the user ID and GID",
    "start": "1660640",
    "end": "1665860"
  },
  {
    "text": "to nobody and then we put in a restricted set count profile that only allows the running of about thirty-year",
    "start": "1665860",
    "end": "1671620"
  },
  {
    "text": "services calls 30 or 40 I think and then",
    "start": "1671620",
    "end": "1676690"
  },
  {
    "text": "we have four file operations because the sandbox can't really do any file operations like opening a file we have",
    "start": "1676690",
    "end": "1683050"
  },
  {
    "text": "to do that we do that through a separate process called the gopher the gopher has a similar kind of experience except for",
    "start": "1683050",
    "end": "1690040"
  },
  {
    "text": "it actually has access to a file the file system that the d container that's used by the container so this is also",
    "start": "1690040",
    "end": "1696610"
  },
  {
    "text": "running a C group and has reduced set of namespaces is too routed to the actual",
    "start": "1696610",
    "end": "1702460"
  },
  {
    "text": "or pivot root into the actual file system and the file systems that are",
    "start": "1702460",
    "end": "1708460"
  },
  {
    "text": "needed for the container are mounted in and then this also has reduced capabilities and has like a fairly",
    "start": "1708460",
    "end": "1715840"
  },
  {
    "text": "restricted set comp profile so this can actually do a little bit more than the sandbox can because it can actually open",
    "start": "1715840",
    "end": "1720850"
  },
  {
    "text": "files and things like that on the machine but it has a fairly restricted",
    "start": "1720850",
    "end": "1725890"
  },
  {
    "text": "set of things that you can do so that we can even if you are somehow able to exploit",
    "start": "1725890",
    "end": "1731169"
  },
  {
    "text": "a buggy and then gopher that you're not able to like you know hopefully not able to break out of the the gopher itself",
    "start": "1731169",
    "end": "1741270"
  },
  {
    "start": "1740000",
    "end": "1740000"
  },
  {
    "text": "those things some things to think about like about like what's not protected so like the sandbox can do only do so much",
    "start": "1741270",
    "end": "1746950"
  },
  {
    "text": "in terms of what its gonna actually do and so we have to be aware of things",
    "start": "1746950",
    "end": "1752320"
  },
  {
    "text": "like particularly when we're using kubernetes that a lot of the things that occur in the default secure news uses",
    "start": "1752320",
    "end": "1758650"
  },
  {
    "text": "are optimized for ease of use and not security same thing goes with docker so like",
    "start": "1758650",
    "end": "1763840"
  },
  {
    "text": "docker allows things like raw sockets for instance by default as part of its default set of capabilities so these are",
    "start": "1763840",
    "end": "1772540"
  },
  {
    "text": "things that you kind of have to keep in mind and you know in in effect in the",
    "start": "1772540",
    "end": "1778090"
  },
  {
    "text": "case of like raw sockets were actually like as part of gee visor not really allowing you to have access to raw",
    "start": "1778090",
    "end": "1784450"
  },
  {
    "text": "sockets but like the idea is that you know the who vernie's gives you a lot of",
    "start": "1784450",
    "end": "1791830"
  },
  {
    "text": "defaults that are not necessarily meant to be secure and so you have to help keep that in mind when you actually run",
    "start": "1791830",
    "end": "1798100"
  },
  {
    "text": "a pod you need to keep things like you know memory and disk limits for for the",
    "start": "1798100",
    "end": "1806950"
  },
  {
    "text": "actual application run see will set up that set that up for a sandbox if you provide it to OCI but you need to make",
    "start": "1806950",
    "end": "1814030"
  },
  {
    "text": "sure that those are there in case the sandbox decides to try to use up all the",
    "start": "1814030",
    "end": "1819100"
  },
  {
    "text": "memory on the host for instance other things like Network and disk isolation like you know network access is",
    "start": "1819100",
    "end": "1826799"
  },
  {
    "text": "something that you need to be aware of because for pods yours are giving an IP",
    "start": "1826799",
    "end": "1832570"
  },
  {
    "text": "address and they're on the pod network so you need to be able to use things you need to use things like network policy or some other net-like mechanism to",
    "start": "1832570",
    "end": "1839260"
  },
  {
    "text": "limit what the the sandbox can do a network things like arbitrary packet",
    "start": "1839260",
    "end": "1844780"
  },
  {
    "text": "injection like I said like raw sockets this essentially provides isolation here in the sense that it runs inside of this",
    "start": "1844780",
    "end": "1851799"
  },
  {
    "text": "sandbox but the sandbox itself has access to - right - right arbitrary",
    "start": "1851799",
    "end": "1857650"
  },
  {
    "text": "packets and so if somebody is able to take control of the sandbox or the of",
    "start": "1857650",
    "end": "1862919"
  },
  {
    "text": "the century itself they can write arbitrary packets on the network and so you need to be kind of aware of that",
    "start": "1862919",
    "end": "1868580"
  },
  {
    "text": "another thing is file rights and permissions like you know if people can",
    "start": "1868580",
    "end": "1873919"
  },
  {
    "text": "like write to the root file system on your container for instance they could potentially overwrite files or",
    "start": "1873919",
    "end": "1880620"
  },
  {
    "text": "executables that get executed and so you can have some vulnerabilities in that",
    "start": "1880620",
    "end": "1887520"
  },
  {
    "text": "sense so like you know it's ideal to use things like read-only file systems for the the base root file system and things",
    "start": "1887520",
    "end": "1895559"
  },
  {
    "text": "that you don't expect to change within the container also gee wiser doesn't",
    "start": "1895559",
    "end": "1901410"
  },
  {
    "text": "really have a built-in throttling neces mechanism so you need to use things like C groups or rely on the hosts in order",
    "start": "1901410",
    "end": "1906780"
  },
  {
    "text": "to do that I'm gonna try to wrap up here but um you know gee visor itself is you",
    "start": "1906780",
    "end": "1914669"
  },
  {
    "text": "know something that is very container like and we we are kind of trying to",
    "start": "1914669",
    "end": "1919830"
  },
  {
    "text": "make it as close to the kind of container experience as you as possible",
    "start": "1919830",
    "end": "1925260"
  },
  {
    "text": "and integrate that really well with kubernetes so currently we have the the",
    "start": "1925260",
    "end": "1930330"
  },
  {
    "text": "ability to use runtime class in kubernetes to specify gee visor as a runtime class and then have that go to",
    "start": "1930330",
    "end": "1937500"
  },
  {
    "text": "container d and run containers as part SG in G visor we have things like a mini",
    "start": "1937500",
    "end": "1943230"
  },
  {
    "text": "cube add-on that allows you to time try out G visor and play with it a little bit easier than having to set up your",
    "start": "1943230",
    "end": "1949080"
  },
  {
    "text": "whole kubernetes cluster yourself so give that a try we also have things like",
    "start": "1949080",
    "end": "1954780"
  },
  {
    "text": "you know on on Google cloud we have GK's sandbox which allows you to use TV",
    "start": "1954780",
    "end": "1960090"
  },
  {
    "text": "visors get G's visors report kind of out of the box there and as part of all this",
    "start": "1960090",
    "end": "1967440"
  },
  {
    "text": "or in order to support all this we're building this the we're working on the G visor container D sham - you know and",
    "start": "1967440",
    "end": "1974460"
  },
  {
    "text": "this works were we're maintaining this in order to provide container D support or running G visor sandboxes so G visor",
    "start": "1974460",
    "end": "1985440"
  },
  {
    "text": "is an open source project we have a web site achieve visor dev and you can check",
    "start": "1985440",
    "end": "1993270"
  },
  {
    "text": "out the code on the on github we have a a bitter",
    "start": "1993270",
    "end": "1999350"
  },
  {
    "text": "community for the to the chat app Alex G",
    "start": "1999350",
    "end": "2004630"
  },
  {
    "text": "Peyser and to you know for to Weiser development or usage if you have questions and we also have a couple of",
    "start": "2004630",
    "end": "2010330"
  },
  {
    "text": "mailing lists that we use for folks who are doing development G visor and and",
    "start": "2010330",
    "end": "2016420"
  },
  {
    "text": "for G visor users to like kind of ask questions and find out more and interact",
    "start": "2016420",
    "end": "2022990"
  },
  {
    "text": "with the the development teams the folks that are working on G visor though I",
    "start": "2022990",
    "end": "2030780"
  },
  {
    "text": "have like basically one minute but like",
    "start": "2030780",
    "end": "2036060"
  },
  {
    "text": "what I can I will maybe show you a little bit about like what it looks like in a particular for a particular we",
    "start": "2036750",
    "end": "2046660"
  },
  {
    "text": "install that and have it running in kubernetes",
    "start": "2046660",
    "end": "2050490"
  },
  {
    "text": "actually I think I'll probably just give up on that um it's like I got",
    "start": "2066930",
    "end": "2073679"
  },
  {
    "text": "disconnected but um in case like you can essentially use like the wrong time",
    "start": "2073680",
    "end": "2079770"
  },
  {
    "text": "class like what I wanted to show was like like using a runtime class as part of the pod but it's essentially just",
    "start": "2079770",
    "end": "2085980"
  },
  {
    "text": "putting this this field in there and you get mostly the same sort of experience as a regular container like you can do",
    "start": "2085980",
    "end": "2092129"
  },
  {
    "text": "things like exactly into the container needle logs like all of that sort of stuff so that's really what I wanted to",
    "start": "2092130",
    "end": "2098340"
  },
  {
    "text": "show you there so anyway I think I'll finish up there since I'm kind of at a",
    "start": "2098340",
    "end": "2103620"
  },
  {
    "text": "time but if you have any questions I'll be around here and I have some stickers",
    "start": "2103620",
    "end": "2109230"
  },
  {
    "text": "if you want stickers so yeah and we also have Kevin from the development team",
    "start": "2109230",
    "end": "2114860"
  },
  {
    "text": "here to help answer questions if you guys have any so thanks a lot",
    "start": "2114860",
    "end": "2122030"
  }
]