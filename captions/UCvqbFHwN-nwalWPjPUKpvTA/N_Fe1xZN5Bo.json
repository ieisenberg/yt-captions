[
  {
    "text": "namaskara Bangalore oh so it's a huge",
    "start": "30",
    "end": "2580"
  },
  {
    "text": "event Thank You CNCs for organizing it",
    "start": "2580",
    "end": "5400"
  },
  {
    "text": "and thank you all attendees for making",
    "start": "5400",
    "end": "7919"
  },
  {
    "text": "it here so I am latch from include with",
    "start": "7919",
    "end": "11460"
  },
  {
    "text": "me I have Ravi and today we are going to",
    "start": "11460",
    "end": "14190"
  },
  {
    "text": "talk on resiliency pattern on in",
    "start": "14190",
    "end": "16080"
  },
  {
    "text": "kubernetes so as enter for today looks",
    "start": "16080",
    "end": "20910"
  },
  {
    "text": "like something like this little bit",
    "start": "20910",
    "end": "22859"
  },
  {
    "text": "history on intoed and then what is",
    "start": "22859",
    "end": "25380"
  },
  {
    "text": "modern SAS the platform that we built",
    "start": "25380",
    "end": "27480"
  },
  {
    "text": "for our developer but also why we built",
    "start": "27480",
    "end": "29820"
  },
  {
    "text": "it and how do we onboard our micro",
    "start": "29820",
    "end": "32340"
  },
  {
    "text": "services onto this platform and you will",
    "start": "32340",
    "end": "34920"
  },
  {
    "text": "be interested to know how long it takes",
    "start": "34920",
    "end": "36600"
  },
  {
    "text": "so we have a slide for that one and then",
    "start": "36600",
    "end": "39600"
  },
  {
    "text": "the meat of the talk is on resiliency",
    "start": "39600",
    "end": "41340"
  },
  {
    "text": "which Tory will take you through so as a",
    "start": "41340",
    "end": "45000"
  },
  {
    "text": "company it was started on 1983 by our",
    "start": "45000",
    "end": "48300"
  },
  {
    "text": "founder when he actually the idea came",
    "start": "48300",
    "end": "50250"
  },
  {
    "text": "up on a kitchen table when he was",
    "start": "50250",
    "end": "52050"
  },
  {
    "text": "looking at his wife how she's managing",
    "start": "52050",
    "end": "53850"
  },
  {
    "text": "the book and then he thought there is a",
    "start": "53850",
    "end": "56340"
  },
  {
    "text": "better way to do it so that's where the",
    "start": "56340",
    "end": "58260"
  },
  {
    "text": "idea was born our first product was",
    "start": "58260",
    "end": "60329"
  },
  {
    "text": "Quicken and then of course we went",
    "start": "60329",
    "end": "62340"
  },
  {
    "text": "public in 93 we have around close to 8k",
    "start": "62340",
    "end": "66060"
  },
  {
    "text": "employees we have a multiple location",
    "start": "66060",
    "end": "70200"
  },
  {
    "text": "across the globe 11 countries 24",
    "start": "70200",
    "end": "72689"
  },
  {
    "text": "location and all these 8,000 employees",
    "start": "72689",
    "end": "74700"
  },
  {
    "text": "or around this place and we have around",
    "start": "74700",
    "end": "78060"
  },
  {
    "text": "42 million customers and these are the",
    "start": "78060",
    "end": "80939"
  },
  {
    "text": "different customers that we serve the",
    "start": "80939",
    "end": "82710"
  },
  {
    "text": "consumer group which mainly they use our",
    "start": "82710",
    "end": "85200"
  },
  {
    "text": "tax product and then small business and",
    "start": "85200",
    "end": "87869"
  },
  {
    "text": "self-employed and these are our products",
    "start": "87869",
    "end": "91829"
  },
  {
    "text": "the TurboTax is for filing tax if you",
    "start": "91829",
    "end": "94380"
  },
  {
    "text": "are from years will be very familiarize",
    "start": "94380",
    "end": "95880"
  },
  {
    "text": "with that and we have accounting",
    "start": "95880",
    "end": "98009"
  },
  {
    "text": "solution for small business in the form",
    "start": "98009",
    "end": "100320"
  },
  {
    "text": "of QuickBooks and we have a professional",
    "start": "100320",
    "end": "103049"
  },
  {
    "text": "tax solution in the form of pro connect",
    "start": "103049",
    "end": "104909"
  },
  {
    "text": "and mint is a personal finance solution",
    "start": "104909",
    "end": "108409"
  },
  {
    "text": "so coming back to the main topic on",
    "start": "108409",
    "end": "111750"
  },
  {
    "text": "modern says why we started building this",
    "start": "111750",
    "end": "113670"
  },
  {
    "text": "one sec since we have around 42 million",
    "start": "113670",
    "end": "116430"
  },
  {
    "text": "customer the recoverability was",
    "start": "116430",
    "end": "118680"
  },
  {
    "text": "something we wanted to always improve on",
    "start": "118680",
    "end": "120479"
  },
  {
    "text": "right the really tease it work it I mean",
    "start": "120479",
    "end": "123390"
  },
  {
    "text": "you will end up having some issue some",
    "start": "123390",
    "end": "125790"
  },
  {
    "text": "incident always but it's about how",
    "start": "125790",
    "end": "128429"
  },
  {
    "text": "quickly we can recover from me",
    "start": "128429",
    "end": "129979"
  },
  {
    "text": "so we wanted to improve that number by",
    "start": "129979",
    "end": "132110"
  },
  {
    "text": "10 times so that was one of the goal",
    "start": "132110",
    "end": "135830"
  },
  {
    "text": "while we started working on this",
    "start": "135830",
    "end": "137480"
  },
  {
    "text": "platform the second one was how fast we",
    "start": "137480",
    "end": "140480"
  },
  {
    "text": "can release the code to the production",
    "start": "140480",
    "end": "141890"
  },
  {
    "text": "the reason for this is when somebody",
    "start": "141890",
    "end": "144739"
  },
  {
    "text": "measures the PR and if it get deployed",
    "start": "144739",
    "end": "147049"
  },
  {
    "text": "into the production within a day then it",
    "start": "147049",
    "end": "149510"
  },
  {
    "text": "is pressure on the developer memmer mind",
    "start": "149510",
    "end": "151549"
  },
  {
    "text": "that what are the changes that he made",
    "start": "151549",
    "end": "153470"
  },
  {
    "text": "so in terms it actually helps in",
    "start": "153470",
    "end": "156170"
  },
  {
    "text": "recovery",
    "start": "156170",
    "end": "156769"
  },
  {
    "text": "just in case we identify some bug or",
    "start": "156769",
    "end": "158810"
  },
  {
    "text": "some issue so you wanted to have a",
    "start": "158810",
    "end": "160610"
  },
  {
    "text": "really really fast release cycle and of",
    "start": "160610",
    "end": "163700"
  },
  {
    "text": "course you want to ship all the feature",
    "start": "163700",
    "end": "165379"
  },
  {
    "text": "to the customer so he wanted to have a",
    "start": "165379",
    "end": "167450"
  },
  {
    "text": "more frequent release of our product so",
    "start": "167450",
    "end": "171650"
  },
  {
    "text": "the first thing was we have our",
    "start": "171650",
    "end": "173180"
  },
  {
    "text": "everything as a big mahalik product so",
    "start": "173180",
    "end": "175700"
  },
  {
    "text": "the first task was to bring them into or",
    "start": "175700",
    "end": "178220"
  },
  {
    "text": "break them into a micro-services which",
    "start": "178220",
    "end": "180560"
  },
  {
    "text": "many team did it so they broke into",
    "start": "180560",
    "end": "182540"
  },
  {
    "text": "micro services and then they started",
    "start": "182540",
    "end": "184250"
  },
  {
    "text": "hosting it we mainly use here double",
    "start": "184250",
    "end": "186590"
  },
  {
    "text": "years as a hosting platform so many team",
    "start": "186590",
    "end": "189079"
  },
  {
    "text": "went ahead and then provisioned the",
    "start": "189079",
    "end": "190700"
  },
  {
    "text": "infrastructure on AWS provision there I",
    "start": "190700",
    "end": "193549"
  },
  {
    "text": "mean come up with their own deployment",
    "start": "193549",
    "end": "195380"
  },
  {
    "text": "solution and set up everything on AWS",
    "start": "195380",
    "end": "199489"
  },
  {
    "text": "but what ended up happening was each",
    "start": "199489",
    "end": "201889"
  },
  {
    "text": "team had a different way of slightly",
    "start": "201889",
    "end": "203359"
  },
  {
    "text": "different way of setting it up and we",
    "start": "203359",
    "end": "205790"
  },
  {
    "text": "end up having multiple EA doubly as a",
    "start": "205790",
    "end": "207410"
  },
  {
    "text": "counter the challenge with that was you",
    "start": "207410",
    "end": "209900"
  },
  {
    "text": "have to maintain the security across all",
    "start": "209900",
    "end": "211489"
  },
  {
    "text": "the account and then you want to have",
    "start": "211489",
    "end": "213319"
  },
  {
    "text": "some uniform way of pushing some patches",
    "start": "213319",
    "end": "215419"
  },
  {
    "text": "and other stuff in so that became our",
    "start": "215419",
    "end": "217459"
  },
  {
    "text": "first challenge and second challenge was",
    "start": "217459",
    "end": "219620"
  },
  {
    "text": "each team had their own architecture and",
    "start": "219620",
    "end": "222169"
  },
  {
    "text": "then if you have to move around the",
    "start": "222169",
    "end": "224329"
  },
  {
    "text": "people between the team everyone has to",
    "start": "224329",
    "end": "226310"
  },
  {
    "text": "learn the new architecture how the new",
    "start": "226310",
    "end": "227959"
  },
  {
    "text": "setup is done but the most challenging",
    "start": "227959",
    "end": "229940"
  },
  {
    "text": "thing was every developer has to",
    "start": "229940",
    "end": "231980"
  },
  {
    "text": "understand how the AWS works so there is",
    "start": "231980",
    "end": "235370"
  },
  {
    "text": "always a learning curve involved so no",
    "start": "235370",
    "end": "238190"
  },
  {
    "text": "sooner they come up with some idea or",
    "start": "238190",
    "end": "239750"
  },
  {
    "text": "some product beside working on their own",
    "start": "239750",
    "end": "242180"
  },
  {
    "text": "product they have to spend some",
    "start": "242180",
    "end": "243980"
  },
  {
    "text": "sufficient amount of time initially to",
    "start": "243980",
    "end": "246230"
  },
  {
    "text": "get on board around terribly as it used",
    "start": "246230",
    "end": "248299"
  },
  {
    "text": "to take four or five weeks for them to",
    "start": "248299",
    "end": "250220"
  },
  {
    "text": "just on board entire AWS and then start",
    "start": "250220",
    "end": "253370"
  },
  {
    "text": "working on the platform this when we",
    "start": "253370",
    "end": "255889"
  },
  {
    "text": "thought that we should do something so",
    "start": "255889",
    "end": "257660"
  },
  {
    "text": "which",
    "start": "257660",
    "end": "258030"
  },
  {
    "text": "makes it much easier for the developers",
    "start": "258030",
    "end": "259620"
  },
  {
    "text": "that's where we build up a platform",
    "start": "259620",
    "end": "262260"
  },
  {
    "text": "called the modern sass platform all the",
    "start": "262260",
    "end": "264570"
  },
  {
    "text": "developer that you need to do is just",
    "start": "264570",
    "end": "266669"
  },
  {
    "text": "come to the platform and request saying",
    "start": "266669",
    "end": "268740"
  },
  {
    "text": "that here going to provision a new",
    "start": "268740",
    "end": "270510"
  },
  {
    "text": "service on this new platform so he",
    "start": "270510",
    "end": "273000"
  },
  {
    "text": "selects whether it's a Java based or",
    "start": "273000",
    "end": "274680"
  },
  {
    "text": "load based service though we are not",
    "start": "274680",
    "end": "276330"
  },
  {
    "text": "limited to these two technologies as",
    "start": "276330",
    "end": "278610"
  },
  {
    "text": "long as Nick and authorize they can run",
    "start": "278610",
    "end": "280560"
  },
  {
    "text": "it on this platform so they come and",
    "start": "280560",
    "end": "282630"
  },
  {
    "text": "give their specification or some method",
    "start": "282630",
    "end": "284280"
  },
  {
    "text": "or talk about their services and then",
    "start": "284280",
    "end": "286800"
  },
  {
    "text": "they get their git repo where they can",
    "start": "286800",
    "end": "288660"
  },
  {
    "text": "put their code and then we provide",
    "start": "288660",
    "end": "290850"
  },
  {
    "text": "something called a deployment repo which",
    "start": "290850",
    "end": "292830"
  },
  {
    "text": "I will talk it in our next slide and",
    "start": "292830",
    "end": "295590"
  },
  {
    "text": "besides that they get a pipeline Jenkins",
    "start": "295590",
    "end": "298919"
  },
  {
    "text": "pipeline to build their artifact and of",
    "start": "298919",
    "end": "302250"
  },
  {
    "text": "course in this case artifact is a docker",
    "start": "302250",
    "end": "304800"
  },
  {
    "text": "image and then that gets uploaded to a",
    "start": "304800",
    "end": "307500"
  },
  {
    "text": "frog artifactory and it runs on",
    "start": "307500",
    "end": "310080"
  },
  {
    "text": "kubernetes so with that what we achieved",
    "start": "310080",
    "end": "312840"
  },
  {
    "text": "and all it takes is just 15 minutes",
    "start": "312840",
    "end": "314520"
  },
  {
    "text": "right at the end of 15 minutes we get a",
    "start": "314520",
    "end": "317370"
  },
  {
    "text": "micro service which runs in production",
    "start": "317370",
    "end": "321120"
  },
  {
    "text": "not just in free product runs in",
    "start": "321120",
    "end": "322710"
  },
  {
    "text": "production with all the monitoring tool",
    "start": "322710",
    "end": "324840"
  },
  {
    "text": "that we use within impudent whether it's",
    "start": "324840",
    "end": "326940"
  },
  {
    "text": "a wavefront or Abdi those kind of thing",
    "start": "326940",
    "end": "329040"
  },
  {
    "text": "it just runs with all the monitoring",
    "start": "329040",
    "end": "330570"
  },
  {
    "text": "tool that he needs and also the security",
    "start": "330570",
    "end": "332910"
  },
  {
    "text": "is completely built in so with that what",
    "start": "332910",
    "end": "335400"
  },
  {
    "text": "we achieved is a higher velocity because",
    "start": "335400",
    "end": "337560"
  },
  {
    "text": "the developer can actually focus on the",
    "start": "337560",
    "end": "339360"
  },
  {
    "text": "product which they are developing rather",
    "start": "339360",
    "end": "341580"
  },
  {
    "text": "than worrying about the infrastructure",
    "start": "341580",
    "end": "343110"
  },
  {
    "text": "so the infrastructure was completely",
    "start": "343110",
    "end": "345090"
  },
  {
    "text": "abstracted and the security is actually",
    "start": "345090",
    "end": "347370"
  },
  {
    "text": "built into the product say derail don't",
    "start": "347370",
    "end": "349020"
  },
  {
    "text": "I worry about the security because it",
    "start": "349020",
    "end": "351030"
  },
  {
    "text": "comes from a common platform and",
    "start": "351030",
    "end": "352560"
  },
  {
    "text": "everything is taken care within the",
    "start": "352560",
    "end": "354150"
  },
  {
    "text": "platform",
    "start": "354150",
    "end": "356570"
  },
  {
    "text": "so after provisioning what happens all",
    "start": "357080",
    "end": "360120"
  },
  {
    "text": "the developer one tool that he needs to",
    "start": "360120",
    "end": "362820"
  },
  {
    "text": "know about is gate and which they know",
    "start": "362820",
    "end": "364860"
  },
  {
    "text": "really really well right so he commits",
    "start": "364860",
    "end": "367169"
  },
  {
    "text": "the code then the Junkin pipeline kicks",
    "start": "367169",
    "end": "369750"
  },
  {
    "text": "in and it run maven as a build tool I",
    "start": "369750",
    "end": "372660"
  },
  {
    "text": "mean you can use any any of your choice",
    "start": "372660",
    "end": "374550"
  },
  {
    "text": "as a build tool finally it converts into",
    "start": "374550",
    "end": "376650"
  },
  {
    "text": "their docker image and uploads it to the",
    "start": "376650",
    "end": "378479"
  },
  {
    "text": "artifactory and once the image is",
    "start": "378479",
    "end": "380610"
  },
  {
    "text": "uploaded into artifact tree so we use",
    "start": "380610",
    "end": "382919"
  },
  {
    "text": "something called the deployment repo",
    "start": "382919",
    "end": "384840"
  },
  {
    "text": "that's where the net",
    "start": "384840",
    "end": "386700"
  },
  {
    "text": "version of the artifact gets updated and",
    "start": "386700",
    "end": "388920"
  },
  {
    "text": "then the orga CD which is our open",
    "start": "388920",
    "end": "390870"
  },
  {
    "text": "source solution from in cube which is",
    "start": "390870",
    "end": "392670"
  },
  {
    "text": "used for deploying into the kubernetes",
    "start": "392670",
    "end": "394440"
  },
  {
    "text": "it picks up the latest version of the",
    "start": "394440",
    "end": "396600"
  },
  {
    "text": "code and deploys you to the kubernetes",
    "start": "396600",
    "end": "398220"
  },
  {
    "text": "and all this happens within few minutes",
    "start": "398220",
    "end": "400380"
  },
  {
    "text": "again so as long as he has a PR which is",
    "start": "400380",
    "end": "403230"
  },
  {
    "text": "certified he can just get into the",
    "start": "403230",
    "end": "405210"
  },
  {
    "text": "production pretty quickly so that's the",
    "start": "405210",
    "end": "407280"
  },
  {
    "text": "power of this platform of course there",
    "start": "407280",
    "end": "410970"
  },
  {
    "text": "are many tools that makes up the",
    "start": "410970",
    "end": "412620"
  },
  {
    "text": "platform today we will focus more on the",
    "start": "412620",
    "end": "415440"
  },
  {
    "text": "kubernetes but there are many tools that",
    "start": "415440",
    "end": "417330"
  },
  {
    "text": "we use to build the whole platform and",
    "start": "417330",
    "end": "419970"
  },
  {
    "text": "of course the soft copy is available",
    "start": "419970",
    "end": "421440"
  },
  {
    "text": "anyone wants to use it but this is a",
    "start": "421440",
    "end": "423660"
  },
  {
    "text": "whole suit of thing that we use to make",
    "start": "423660",
    "end": "426570"
  },
  {
    "text": "this platform and this is the scale at",
    "start": "426570",
    "end": "430980"
  },
  {
    "text": "which we operate so we have for business",
    "start": "430980",
    "end": "433140"
  },
  {
    "text": "unit and of course there are multiple",
    "start": "433140",
    "end": "434910"
  },
  {
    "text": "segments there are around 1200",
    "start": "434910",
    "end": "436890"
  },
  {
    "text": "developers we have total around 4500 but",
    "start": "436890",
    "end": "439890"
  },
  {
    "text": "at least 1200 developers are soft today",
    "start": "439890",
    "end": "441540"
  },
  {
    "text": "are using this platform and out of all",
    "start": "441540",
    "end": "445230"
  },
  {
    "text": "the services we have 36 percent of the",
    "start": "445230",
    "end": "447330"
  },
  {
    "text": "service runs on this platform and all",
    "start": "447330",
    "end": "449850"
  },
  {
    "text": "these things we started a year ago last",
    "start": "449850",
    "end": "451830"
  },
  {
    "text": "January we started and then onwards",
    "start": "451830",
    "end": "454530"
  },
  {
    "text": "people started migrating to the new",
    "start": "454530",
    "end": "456960"
  },
  {
    "text": "platform we have around 160 clusters and",
    "start": "456960",
    "end": "461150"
  },
  {
    "text": "6k nodes more than 5,400 namespaces and",
    "start": "461150",
    "end": "465710"
  },
  {
    "text": "massive number of ports 62k watson and",
    "start": "465710",
    "end": "469620"
  },
  {
    "text": "every day we have around the 1,300",
    "start": "469620",
    "end": "471810"
  },
  {
    "text": "deployment and it is still growing so",
    "start": "471810",
    "end": "474300"
  },
  {
    "text": "our aim is to make all the services",
    "start": "474300",
    "end": "475980"
  },
  {
    "text": "within Intuit run on this platform so",
    "start": "475980",
    "end": "478170"
  },
  {
    "text": "still long way to go",
    "start": "478170",
    "end": "479880"
  },
  {
    "text": "64 percent but based on the adoption",
    "start": "479880",
    "end": "482040"
  },
  {
    "text": "pretty soon we will achieve that number",
    "start": "482040",
    "end": "484700"
  },
  {
    "text": "with that said since we are running it",
    "start": "484700",
    "end": "487680"
  },
  {
    "text": "as a massive scale the problems also",
    "start": "487680",
    "end": "489930"
  },
  {
    "text": "plenty there are many challenges that we",
    "start": "489930",
    "end": "492120"
  },
  {
    "text": "faced and of course we have solution for",
    "start": "492120",
    "end": "494160"
  },
  {
    "text": "that one but one of the things that we",
    "start": "494160",
    "end": "496230"
  },
  {
    "text": "are going to talk about is with respect",
    "start": "496230",
    "end": "498330"
  },
  {
    "text": "to the resiliency and with respect to",
    "start": "498330",
    "end": "500490"
  },
  {
    "text": "the specific problem but some of our",
    "start": "500490",
    "end": "502050"
  },
  {
    "text": "application faced it in terms of some",
    "start": "502050",
    "end": "504810"
  },
  {
    "text": "client end up having 500 errors and to",
    "start": "504810",
    "end": "507660"
  },
  {
    "text": "take you through that one now we will do",
    "start": "507660",
    "end": "509460"
  },
  {
    "text": "it",
    "start": "509460",
    "end": "511470"
  },
  {
    "text": "so we see how the scale at which we are",
    "start": "511470",
    "end": "515050"
  },
  {
    "text": "operating one of the things I've seen is",
    "start": "515050",
    "end": "518020"
  },
  {
    "text": "that no matter how good we design an",
    "start": "518020",
    "end": "520330"
  },
  {
    "text": "application system gets what it wants by",
    "start": "520330",
    "end": "522700"
  },
  {
    "text": "throwing challenges at us so these are",
    "start": "522700",
    "end": "525310"
  },
  {
    "text": "the challenges that we have run into",
    "start": "525310",
    "end": "526510"
  },
  {
    "text": "predominantly in kubernetes platform",
    "start": "526510",
    "end": "528190"
  },
  {
    "text": "which is pod elimination and no",
    "start": "528190",
    "end": "530350"
  },
  {
    "text": "termination so our clients used to see",
    "start": "530350",
    "end": "532390"
  },
  {
    "text": "five zero two errors whenever there was",
    "start": "532390",
    "end": "533800"
  },
  {
    "text": "a pod termination even and they used to",
    "start": "533800",
    "end": "535870"
  },
  {
    "text": "see five zero for a red coat on their",
    "start": "535870",
    "end": "537340"
  },
  {
    "text": "HTTP client when there is a no",
    "start": "537340",
    "end": "539200"
  },
  {
    "text": "termination event that happens so before",
    "start": "539200",
    "end": "542170"
  },
  {
    "text": "getting into the details of the",
    "start": "542170",
    "end": "543220"
  },
  {
    "text": "termination lifecycle etcetera let us",
    "start": "543220",
    "end": "545080"
  },
  {
    "text": "understand the request flow so when a",
    "start": "545080",
    "end": "547420"
  },
  {
    "text": "client sends a request we use API",
    "start": "547420",
    "end": "549400"
  },
  {
    "text": "gateway in India so if I give you four",
    "start": "549400",
    "end": "551620"
  },
  {
    "text": "words the request to the alb ingress",
    "start": "551620",
    "end": "553300"
  },
  {
    "text": "they'll be ingress then forwards the",
    "start": "553300",
    "end": "555340"
  },
  {
    "text": "request from the node port on any of the",
    "start": "555340",
    "end": "557380"
  },
  {
    "text": "node that is registered as a target in",
    "start": "557380",
    "end": "559120"
  },
  {
    "text": "the alb targets from there the node port",
    "start": "559120",
    "end": "562120"
  },
  {
    "text": "will look up into the IP tables of the",
    "start": "562120",
    "end": "563740"
  },
  {
    "text": "node and then resolve it to the",
    "start": "563740",
    "end": "565660"
  },
  {
    "text": "appropriate port and forwards the",
    "start": "565660",
    "end": "567430"
  },
  {
    "text": "request to the corresponding port",
    "start": "567430",
    "end": "569400"
  },
  {
    "text": "now let's look at the what termination",
    "start": "569400",
    "end": "572140"
  },
  {
    "text": "lifecycle right",
    "start": "572140",
    "end": "572980"
  },
  {
    "text": "so whenever the kubernetes deletes a",
    "start": "572980",
    "end": "576010"
  },
  {
    "text": "part or V delete a port which is a",
    "start": "576010",
    "end": "578020"
  },
  {
    "text": "natural event in the kubernetes platform",
    "start": "578020",
    "end": "580260"
  },
  {
    "text": "API server does a couple of operations",
    "start": "580260",
    "end": "583330"
  },
  {
    "text": "in parallel one it sends a notification",
    "start": "583330",
    "end": "585430"
  },
  {
    "text": "to endpoint control app endpoint",
    "start": "585430",
    "end": "588040"
  },
  {
    "text": "controller then removes the pod from the",
    "start": "588040",
    "end": "590440"
  },
  {
    "text": "endpoints and then updates back the API",
    "start": "590440",
    "end": "592810"
  },
  {
    "text": "server API server then forwards a",
    "start": "592810",
    "end": "595030"
  },
  {
    "text": "notification to the queue proxy queue",
    "start": "595030",
    "end": "596950"
  },
  {
    "text": "proxy is run per node so cue proxies get",
    "start": "596950",
    "end": "600520"
  },
  {
    "text": "the notification and they remove the pod",
    "start": "600520",
    "end": "602470"
  },
  {
    "text": "entry from their IP tables while this is",
    "start": "602470",
    "end": "604870"
  },
  {
    "text": "happening across the nodes another",
    "start": "604870",
    "end": "607330"
  },
  {
    "text": "parallel event will will happen the API",
    "start": "607330",
    "end": "610840"
  },
  {
    "text": "server will send a notification to",
    "start": "610840",
    "end": "612400"
  },
  {
    "text": "cubelet cubelet then understands that",
    "start": "612400",
    "end": "614620"
  },
  {
    "text": "part needs to be terminated that is",
    "start": "614620",
    "end": "616060"
  },
  {
    "text": "running in its node so it sends a signal",
    "start": "616060",
    "end": "617830"
  },
  {
    "text": "signal to the pod and correspondingly to",
    "start": "617830",
    "end": "620080"
  },
  {
    "text": "the containers running in the pod",
    "start": "620080",
    "end": "621490"
  },
  {
    "text": "so for fi02 error on the HTTP happens",
    "start": "621490",
    "end": "625330"
  },
  {
    "text": "when the Signum signal is not handled",
    "start": "625330",
    "end": "627850"
  },
  {
    "text": "gracefully in the application part it",
    "start": "627850",
    "end": "630520"
  },
  {
    "text": "may also happen that when the pod is",
    "start": "630520",
    "end": "633070"
  },
  {
    "text": "removed from the IP tables we still see",
    "start": "633070",
    "end": "635170"
  },
  {
    "text": "some key polite connections from alb to",
    "start": "635170",
    "end": "637210"
  },
  {
    "text": "the part because the connections once",
    "start": "637210",
    "end": "638500"
  },
  {
    "text": "established they live long",
    "start": "638500",
    "end": "640510"
  },
  {
    "text": "until the keep a lifetime mode which is",
    "start": "640510",
    "end": "642100"
  },
  {
    "text": "by default is 60 seconds so let's",
    "start": "642100",
    "end": "645910"
  },
  {
    "text": "understand what happens specifically",
    "start": "645910",
    "end": "647650"
  },
  {
    "text": "when the Signum signal is received by",
    "start": "647650",
    "end": "650500"
  },
  {
    "text": "the container a container shutdown is",
    "start": "650500",
    "end": "652450"
  },
  {
    "text": "initiated and then if we configure a pre",
    "start": "652450",
    "end": "655600"
  },
  {
    "text": "stop hook in our pot spec the pre stop",
    "start": "655600",
    "end": "658210"
  },
  {
    "text": "book process is executed and then the",
    "start": "658210",
    "end": "660310"
  },
  {
    "text": "signal signal signal is sent to the",
    "start": "660310",
    "end": "662290"
  },
  {
    "text": "process and then the process termination",
    "start": "662290",
    "end": "665050"
  },
  {
    "text": "starts if the process is able to",
    "start": "665050",
    "end": "667000"
  },
  {
    "text": "terminate within the termination grace",
    "start": "667000",
    "end": "668830"
  },
  {
    "text": "period seconds which is by default 30",
    "start": "668830",
    "end": "670660"
  },
  {
    "text": "seconds you know it will terminate in",
    "start": "670660",
    "end": "673450"
  },
  {
    "text": "the process successfully if not cubelet",
    "start": "673450",
    "end": "675760"
  },
  {
    "text": "will send a signal which is for stealing",
    "start": "675760",
    "end": "677860"
  },
  {
    "text": "the part and then it will delete the",
    "start": "677860",
    "end": "680410"
  },
  {
    "text": "part in the container standing in it so",
    "start": "680410",
    "end": "682180"
  },
  {
    "text": "we need to handle our 5:02 error case by",
    "start": "682180",
    "end": "686460"
  },
  {
    "text": "handling the pre stop books carefully",
    "start": "686460",
    "end": "688930"
  },
  {
    "text": "and then gracefully so when the signal",
    "start": "688930",
    "end": "692650"
  },
  {
    "text": "signal is reached to the part we need to",
    "start": "692650",
    "end": "695410"
  },
  {
    "text": "wait in the pre stop hook until the pot",
    "start": "695410",
    "end": "697720"
  },
  {
    "text": "IP is removed across all the nodes such",
    "start": "697720",
    "end": "700540"
  },
  {
    "text": "that the no new request will be sent to",
    "start": "700540",
    "end": "702880"
  },
  {
    "text": "the part after that even happens if we",
    "start": "702880",
    "end": "705880"
  },
  {
    "text": "are using HTTP keepalive connections alb",
    "start": "705880",
    "end": "708460"
  },
  {
    "text": "maintains a keepalive connection to the",
    "start": "708460",
    "end": "710380"
  },
  {
    "text": "pod so when the Signum signal is",
    "start": "710380",
    "end": "712390"
  },
  {
    "text": "received by the application process it",
    "start": "712390",
    "end": "714610"
  },
  {
    "text": "has to handle that shutdown event",
    "start": "714610",
    "end": "716110"
  },
  {
    "text": "carefully by closing all the inactive",
    "start": "716110",
    "end": "718990"
  },
  {
    "text": "keepalive connections and if there are",
    "start": "718990",
    "end": "720730"
  },
  {
    "text": "connections that are in transit it has",
    "start": "720730",
    "end": "723100"
  },
  {
    "text": "to process them and then while serving",
    "start": "723100",
    "end": "725740"
  },
  {
    "text": "the request back it has to pass a",
    "start": "725740",
    "end": "727750"
  },
  {
    "text": "connection close header or close the",
    "start": "727750",
    "end": "729790"
  },
  {
    "text": "connection in any other way so that we",
    "start": "729790",
    "end": "732100"
  },
  {
    "text": "can proceed for terminating the process",
    "start": "732100",
    "end": "734080"
  },
  {
    "text": "gracefully if we handle in such a",
    "start": "734080",
    "end": "736570"
  },
  {
    "text": "fashion we will never see fi02 error on",
    "start": "736570",
    "end": "738970"
  },
  {
    "text": "the client side so this is a example pod",
    "start": "738970",
    "end": "744100"
  },
  {
    "text": "spec which is the easiest one where we",
    "start": "744100",
    "end": "745900"
  },
  {
    "text": "can configure three stop hook to wait",
    "start": "745900",
    "end": "748330"
  },
  {
    "text": "well say sleep 60 seconds and then",
    "start": "748330",
    "end": "750600"
  },
  {
    "text": "termination grace period seconds by",
    "start": "750600",
    "end": "753010"
  },
  {
    "text": "default is 30 seconds if we are",
    "start": "753010",
    "end": "754750"
  },
  {
    "text": "increasing the sleep time or any other",
    "start": "754750",
    "end": "757240"
  },
  {
    "text": "process that we are doing in the pre",
    "start": "757240",
    "end": "759340"
  },
  {
    "text": "stop hook we need to correspondingly",
    "start": "759340",
    "end": "761440"
  },
  {
    "text": "increase the termination grace period",
    "start": "761440",
    "end": "763030"
  },
  {
    "text": "seconds this is one event the other",
    "start": "763030",
    "end": "766390"
  },
  {
    "text": "thing that we have noticed in the",
    "start": "766390",
    "end": "767860"
  },
  {
    "text": "infrastructure level is",
    "start": "767860",
    "end": "769600"
  },
  {
    "text": "the node termination and no termination",
    "start": "769600",
    "end": "772570"
  },
  {
    "text": "can happen for a variety of reasons a",
    "start": "772570",
    "end": "774970"
  },
  {
    "text": "cloud provider may be doing availability",
    "start": "774970",
    "end": "777460"
  },
  {
    "text": "zone rebalancing or an auto scaler is",
    "start": "777460",
    "end": "779950"
  },
  {
    "text": "scaling in the notes to maximize their",
    "start": "779950",
    "end": "781900"
  },
  {
    "text": "socialization so it may terminate the",
    "start": "781900",
    "end": "783700"
  },
  {
    "text": "node so phi0 for error",
    "start": "783700",
    "end": "785530"
  },
  {
    "text": "predominantly happens when Elba doesn't",
    "start": "785530",
    "end": "788170"
  },
  {
    "text": "respond back to the client in time that",
    "start": "788170",
    "end": "790300"
  },
  {
    "text": "is the timeout configured and the client",
    "start": "790300",
    "end": "792790"
  },
  {
    "text": "side and alb may also throw a 5 0 for",
    "start": "792790",
    "end": "795550"
  },
  {
    "text": "error when Elba since the request to the",
    "start": "795550",
    "end": "797500"
  },
  {
    "text": "pod and the pod doesn't respond back in",
    "start": "797500",
    "end": "799870"
  },
  {
    "text": "time that is alb timeout now there is",
    "start": "799870",
    "end": "803230"
  },
  {
    "text": "one more use case when this 5:04 error",
    "start": "803230",
    "end": "805060"
  },
  {
    "text": "can happen when the nodes are terminated",
    "start": "805060",
    "end": "807190"
  },
  {
    "text": "ELB ELB has the node in its target group",
    "start": "807190",
    "end": "810610"
  },
  {
    "text": "but the node is terminated it will not",
    "start": "810610",
    "end": "812590"
  },
  {
    "text": "be able to make a connection to the node",
    "start": "812590",
    "end": "816960"
  },
  {
    "text": "so if we if we learn kubernetes in any",
    "start": "817530",
    "end": "821680"
  },
  {
    "text": "of the cloud provider example videos que",
    "start": "821680",
    "end": "823690"
  },
  {
    "text": "ops to run kubernetes cluster in AWS the",
    "start": "823690",
    "end": "827710"
  },
  {
    "text": "cloud provider that is not aware of the",
    "start": "827710",
    "end": "829570"
  },
  {
    "text": "infrastructure of kubernetes that we are",
    "start": "829570",
    "end": "831490"
  },
  {
    "text": "running on top of it so when it",
    "start": "831490",
    "end": "832990"
  },
  {
    "text": "terminate instance event happens it will",
    "start": "832990",
    "end": "835240"
  },
  {
    "text": "go and terminate the instance right away",
    "start": "835240",
    "end": "836920"
  },
  {
    "text": "but it doesn't guarantee that it will",
    "start": "836920",
    "end": "838960"
  },
  {
    "text": "drain the node how kubernetes wants it",
    "start": "838960",
    "end": "841060"
  },
  {
    "text": "not it doesn't really just up the road",
    "start": "841060",
    "end": "843490"
  },
  {
    "text": "from the alb those are the events that",
    "start": "843490",
    "end": "845410"
  },
  {
    "text": "we need to handle in order to be able to",
    "start": "845410",
    "end": "847510"
  },
  {
    "text": "handle that we we should not directly",
    "start": "847510",
    "end": "849670"
  },
  {
    "text": "use the easy to terminate instances",
    "start": "849670",
    "end": "851590"
  },
  {
    "text": "function but when the terminated",
    "start": "851590",
    "end": "853660"
  },
  {
    "text": "instance happens we need to trigger it",
    "start": "853660",
    "end": "855550"
  },
  {
    "text": "through terminate instance in order",
    "start": "855550",
    "end": "856720"
  },
  {
    "text": "scaling group the advantage with that is",
    "start": "856720",
    "end": "860250"
  },
  {
    "text": "the terminate instance auto scaling",
    "start": "860250",
    "end": "862390"
  },
  {
    "text": "group provides lifecycle hooks so we",
    "start": "862390",
    "end": "864820"
  },
  {
    "text": "introduced a project called",
    "start": "864820",
    "end": "866140"
  },
  {
    "text": "lifecycle manager under the Kiko",
    "start": "866140",
    "end": "867940"
  },
  {
    "text": "open-source project lifecycle hooks",
    "start": "867940",
    "end": "869770"
  },
  {
    "text": "hooks provide extreme powerful ability",
    "start": "869770",
    "end": "872500"
  },
  {
    "text": "to do ec2 terminations synchronously",
    "start": "872500",
    "end": "875580"
  },
  {
    "text": "lifecycle manager will intercept such",
    "start": "875580",
    "end": "878440"
  },
  {
    "text": "hoops and post an event in the sqs",
    "start": "878440",
    "end": "881200"
  },
  {
    "text": "notification engine and then we pick up",
    "start": "881200",
    "end": "883840"
  },
  {
    "text": "the notification and then drain the node",
    "start": "883840",
    "end": "886900"
  },
  {
    "text": "as well as drain the target from the alb",
    "start": "886900",
    "end": "888880"
  },
  {
    "text": "and then further proceed further note",
    "start": "888880",
    "end": "891160"
  },
  {
    "text": "elimination which is a graceful event",
    "start": "891160",
    "end": "893080"
  },
  {
    "text": "now these are the two pictures where the",
    "start": "893080",
    "end": "895870"
  },
  {
    "text": "first one talks about before",
    "start": "895870",
    "end": "897790"
  },
  {
    "text": "implementing the lifecycle manager if",
    "start": "897790",
    "end": "899410"
  },
  {
    "text": "you see the lines that are",
    "start": "899410",
    "end": "900690"
  },
  {
    "text": "thus landing site where they are in red",
    "start": "900690",
    "end": "904560"
  },
  {
    "text": "color those are the events that we were",
    "start": "904560",
    "end": "906750"
  },
  {
    "text": "seeing with the phi0 of four errors when",
    "start": "906750",
    "end": "908730"
  },
  {
    "text": "we were running without lifecycle",
    "start": "908730",
    "end": "910230"
  },
  {
    "text": "manager and without leveraging the",
    "start": "910230",
    "end": "911940"
  },
  {
    "text": "lifecycle hooks but after implementing",
    "start": "911940",
    "end": "914040"
  },
  {
    "text": "it we have never seen a 5:04 error in",
    "start": "914040",
    "end": "916800"
  },
  {
    "text": "our cluster life cycle so lifecycle",
    "start": "916800",
    "end": "922320"
  },
  {
    "text": "manager fits into the reliability",
    "start": "922320",
    "end": "923880"
  },
  {
    "text": "component of Kiko project there are",
    "start": "923880",
    "end": "926160"
  },
  {
    "text": "other other other components in the Kiko",
    "start": "926160",
    "end": "928920"
  },
  {
    "text": "that you can see like for security",
    "start": "928920",
    "end": "931110"
  },
  {
    "text": "orchestration monitoring cost efficiency",
    "start": "931110",
    "end": "933590"
  },
  {
    "text": "please feel free to contribute if you",
    "start": "933590",
    "end": "936540"
  },
  {
    "text": "like this project so conclusions in",
    "start": "936540",
    "end": "940560"
  },
  {
    "text": "order to be able to be resilient we need",
    "start": "940560",
    "end": "943680"
  },
  {
    "text": "to leverage priests or books and wait",
    "start": "943680",
    "end": "945750"
  },
  {
    "text": "for the pod IP to be removed from the IP",
    "start": "945750",
    "end": "948030"
  },
  {
    "text": "tables so that will not receive any new",
    "start": "948030",
    "end": "950370"
  },
  {
    "text": "traffic onto the pod",
    "start": "950370",
    "end": "952170"
  },
  {
    "text": "after that when we send the Signum",
    "start": "952170",
    "end": "954600"
  },
  {
    "text": "signal to the pod it has to be handled",
    "start": "954600",
    "end": "956670"
  },
  {
    "text": "gracefully so that it deletes all the",
    "start": "956670",
    "end": "958800"
  },
  {
    "text": "keepalive connections the next thing is",
    "start": "958800",
    "end": "961740"
  },
  {
    "text": "on the node termination we need to use",
    "start": "961740",
    "end": "963860"
  },
  {
    "text": "terminate instance in the auto scaling",
    "start": "963860",
    "end": "965910"
  },
  {
    "text": "group kind of functions which provide an",
    "start": "965910",
    "end": "968100"
  },
  {
    "text": "ability to send a notification event and",
    "start": "968100",
    "end": "970530"
  },
  {
    "text": "pause the termination of the ec2",
    "start": "970530",
    "end": "972900"
  },
  {
    "text": "instances and then we need to leverage",
    "start": "972900",
    "end": "975390"
  },
  {
    "text": "these lifecycle hooks to drain the nodes",
    "start": "975390",
    "end": "977250"
  },
  {
    "text": "and drain the alb or ELB targets before",
    "start": "977250",
    "end": "981090"
  },
  {
    "text": "going to the questions I wanted to stay",
    "start": "981090",
    "end": "982980"
  },
  {
    "text": "one statement that kubernetes definitely",
    "start": "982980",
    "end": "985320"
  },
  {
    "text": "provides recoverability but resiliency",
    "start": "985320",
    "end": "987270"
  },
  {
    "text": "is something that we need to handle and",
    "start": "987270",
    "end": "988590"
  },
  {
    "text": "we should aim for achieving that thank",
    "start": "988590",
    "end": "993990"
  },
  {
    "text": "you",
    "start": "993990",
    "end": "995840"
  },
  {
    "text": "[Applause]",
    "start": "995840",
    "end": "1000960"
  },
  {
    "text": "any questions",
    "start": "1004449",
    "end": "1007589"
  },
  {
    "text": "okay so",
    "start": "1008390",
    "end": "1011529"
  },
  {
    "text": "it's not showing up",
    "start": "1014019",
    "end": "1016180"
  },
  {
    "text": "well we showed a slide on Kiko project",
    "start": "1016180",
    "end": "1018460"
  },
  {
    "text": "feel free to go and contribute it there",
    "start": "1018460",
    "end": "1020710"
  },
  {
    "text": "are many components that we built",
    "start": "1020710",
    "end": "1022240"
  },
  {
    "text": "address different challenges resiliency",
    "start": "1022240",
    "end": "1024459"
  },
  {
    "text": "is one such thing we talked about so",
    "start": "1024459",
    "end": "1026500"
  },
  {
    "text": "there are many components that we use",
    "start": "1026500",
    "end": "1027790"
  },
  {
    "text": "and then we've open sourced it please",
    "start": "1027790",
    "end": "1029650"
  },
  {
    "text": "feel free to use it feel free to",
    "start": "1029650",
    "end": "1031000"
  },
  {
    "text": "contribute it thank you",
    "start": "1031000",
    "end": "1034079"
  }
]