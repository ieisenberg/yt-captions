[
  {
    "text": "hello everyone",
    "start": "539",
    "end": "2220"
  },
  {
    "text": "and Welcome to our talk kubernetes from",
    "start": "2220",
    "end": "5160"
  },
  {
    "text": "scratch for a neuroscientific research",
    "start": "5160",
    "end": "8580"
  },
  {
    "text": "so a little bit about the agenda so",
    "start": "8580",
    "end": "11400"
  },
  {
    "text": "we'll first tell you a bit about us and",
    "start": "11400",
    "end": "14099"
  },
  {
    "text": "the target audience for this talk and",
    "start": "14099",
    "end": "16560"
  },
  {
    "text": "then how did our interesting kubernetes",
    "start": "16560",
    "end": "18660"
  },
  {
    "text": "start and then a bit about prototyping",
    "start": "18660",
    "end": "21660"
  },
  {
    "text": "kubernetes and our organization's",
    "start": "21660",
    "end": "23939"
  },
  {
    "text": "infrastructure overview",
    "start": "23939",
    "end": "25560"
  },
  {
    "text": "and then how it is to run the kubernetes",
    "start": "25560",
    "end": "27900"
  },
  {
    "text": "cluster and do maintenance and then the",
    "start": "27900",
    "end": "31320"
  },
  {
    "text": "use cases that we have within the",
    "start": "31320",
    "end": "33840"
  },
  {
    "text": "organization and the process of",
    "start": "33840",
    "end": "36000"
  },
  {
    "text": "migrating to kubernetes and how it is",
    "start": "36000",
    "end": "38160"
  },
  {
    "text": "from kubernetes users point of view",
    "start": "38160",
    "end": "41460"
  },
  {
    "text": "so about us",
    "start": "41460",
    "end": "43260"
  },
  {
    "text": "my name is Carolina Lindquist and I work",
    "start": "43260",
    "end": "45780"
  },
  {
    "text": "as an SRE at epfl in the blue brain",
    "start": "45780",
    "end": "48719"
  },
  {
    "text": "project and I'm in the team for",
    "start": "48719",
    "end": "51660"
  },
  {
    "text": "neuroinformatics software engineering",
    "start": "51660",
    "end": "53539"
  },
  {
    "text": "and my team is developing a storage",
    "start": "53539",
    "end": "56879"
  },
  {
    "text": "application for neurosavientific data",
    "start": "56879",
    "end": "60660"
  },
  {
    "text": "and hello everyone my name is Daniel",
    "start": "60660",
    "end": "62640"
  },
  {
    "text": "Fernandez I'm also an SRE I've been in",
    "start": "62640",
    "end": "65158"
  },
  {
    "text": "the blueprint project for the last three",
    "start": "65159",
    "end": "67500"
  },
  {
    "text": "years as a necessary as well",
    "start": "67500",
    "end": "69560"
  },
  {
    "text": "and I'm in the core service system and",
    "start": "69560",
    "end": "73260"
  },
  {
    "text": "we can think of us as a small it",
    "start": "73260",
    "end": "74939"
  },
  {
    "text": "department for the organization we take",
    "start": "74939",
    "end": "76619"
  },
  {
    "text": "care of different I.T services for the",
    "start": "76619",
    "end": "78900"
  },
  {
    "text": "users at the blueprint and we are a",
    "start": "78900",
    "end": "81119"
  },
  {
    "text": "small team of six accessories",
    "start": "81119",
    "end": "84979"
  },
  {
    "text": "so a little bit about our organization",
    "start": "86159",
    "end": "88259"
  },
  {
    "text": "the blue Brain Project the ultimate goal",
    "start": "88259",
    "end": "91080"
  },
  {
    "text": "is the digitally reconstruct and",
    "start": "91080",
    "end": "92820"
  },
  {
    "text": "simulate the mouse brain and also",
    "start": "92820",
    "end": "94680"
  },
  {
    "text": "Pioneer simulation neuroscience and we",
    "start": "94680",
    "end": "98280"
  },
  {
    "text": "hope that it will better help the",
    "start": "98280",
    "end": "99540"
  },
  {
    "text": "understanding of the human brain also",
    "start": "99540",
    "end": "101520"
  },
  {
    "text": "with some potential applications in",
    "start": "101520",
    "end": "103439"
  },
  {
    "text": "health and disease research and as you",
    "start": "103439",
    "end": "105900"
  },
  {
    "text": "see from the organization chart we are",
    "start": "105900",
    "end": "107820"
  },
  {
    "text": "coming from different parts of the",
    "start": "107820",
    "end": "109200"
  },
  {
    "text": "organization so this was done as a as a",
    "start": "109200",
    "end": "111540"
  },
  {
    "text": "collaboration",
    "start": "111540",
    "end": "113700"
  },
  {
    "text": "and about their presentation so we want",
    "start": "113700",
    "end": "116340"
  },
  {
    "text": "to give you some ideas for how to",
    "start": "116340",
    "end": "118259"
  },
  {
    "text": "approach an on-premise cluster setup and",
    "start": "118259",
    "end": "121140"
  },
  {
    "text": "these ideas can also be applied to a",
    "start": "121140",
    "end": "123720"
  },
  {
    "text": "cloud environment and it's more intended",
    "start": "123720",
    "end": "126240"
  },
  {
    "text": "as giving you some pointers to start",
    "start": "126240",
    "end": "128459"
  },
  {
    "text": "and also some of our slides might take",
    "start": "128459",
    "end": "131099"
  },
  {
    "text": "have a lot of text so we should also be",
    "start": "131099",
    "end": "134400"
  },
  {
    "text": "able to use them as a reference after",
    "start": "134400",
    "end": "135959"
  },
  {
    "text": "this talk",
    "start": "135959",
    "end": "137099"
  },
  {
    "text": "and some useful prerequisites since this",
    "start": "137099",
    "end": "139140"
  },
  {
    "text": "is the 101 track is like basic knowledge",
    "start": "139140",
    "end": "141540"
  },
  {
    "text": "about kubernetes architecture and basic",
    "start": "141540",
    "end": "144000"
  },
  {
    "text": "knowledge about some resource type",
    "start": "144000",
    "end": "146040"
  },
  {
    "text": "and some knowledge of film and Helm",
    "start": "146040",
    "end": "147900"
  },
  {
    "text": "chart is a plus but again if you haven't",
    "start": "147900",
    "end": "150420"
  },
  {
    "text": "learned about this yet you can always",
    "start": "150420",
    "end": "151980"
  },
  {
    "text": "come back to our presentation later as a",
    "start": "151980",
    "end": "154080"
  },
  {
    "text": "recording",
    "start": "154080",
    "end": "155580"
  },
  {
    "text": "so how did our interest in kubernetes",
    "start": "155580",
    "end": "158220"
  },
  {
    "text": "start",
    "start": "158220",
    "end": "159239"
  },
  {
    "text": "So within my team we were using",
    "start": "159239",
    "end": "161459"
  },
  {
    "text": "openshift which was the organization's",
    "start": "161459",
    "end": "163680"
  },
  {
    "text": "container platform and in the setup that",
    "start": "163680",
    "end": "167220"
  },
  {
    "text": "we had there were some features that",
    "start": "167220",
    "end": "169440"
  },
  {
    "text": "were missing for example flexible",
    "start": "169440",
    "end": "171420"
  },
  {
    "text": "Ingress configuration as nginx was doing",
    "start": "171420",
    "end": "174540"
  },
  {
    "text": "it and using Helm charts was something",
    "start": "174540",
    "end": "177660"
  },
  {
    "text": "that we wanted to do but at that point",
    "start": "177660",
    "end": "180300"
  },
  {
    "text": "it was not possible and then we started",
    "start": "180300",
    "end": "182819"
  },
  {
    "text": "realizing together with the developers",
    "start": "182819",
    "end": "184560"
  },
  {
    "text": "that kubernetes vanilla kubernetes might",
    "start": "184560",
    "end": "187620"
  },
  {
    "text": "be a good solution for us from the",
    "start": "187620",
    "end": "190200"
  },
  {
    "text": "developer point of view",
    "start": "190200",
    "end": "191879"
  },
  {
    "text": "so we started a bit of prototyping and",
    "start": "191879",
    "end": "194760"
  },
  {
    "text": "figuring out how to deploy kubernetes on",
    "start": "194760",
    "end": "197159"
  },
  {
    "text": "openstack and started creating and it",
    "start": "197159",
    "end": "199500"
  },
  {
    "text": "ubuntu-based kubernetes cluster for",
    "start": "199500",
    "end": "201720"
  },
  {
    "text": "internal testing",
    "start": "201720",
    "end": "203400"
  },
  {
    "text": "and then we did some documenting and of",
    "start": "203400",
    "end": "205920"
  },
  {
    "text": "the installation the deployment process",
    "start": "205920",
    "end": "207620"
  },
  {
    "text": "and then we presented our test results",
    "start": "207620",
    "end": "210420"
  },
  {
    "text": "to Daniel's theme and started discussing",
    "start": "210420",
    "end": "213239"
  },
  {
    "text": "the next steps and as you can see from",
    "start": "213239",
    "end": "216000"
  },
  {
    "text": "the timeline this internal testing",
    "start": "216000",
    "end": "218220"
  },
  {
    "text": "already took a few months but we had a",
    "start": "218220",
    "end": "221159"
  },
  {
    "text": "prototype and some use cases that we",
    "start": "221159",
    "end": "223560"
  },
  {
    "text": "wanted to do that we could hand over to",
    "start": "223560",
    "end": "225360"
  },
  {
    "text": "Daniel's team",
    "start": "225360",
    "end": "228379"
  },
  {
    "text": "okay so I would like to start my part of",
    "start": "228959",
    "end": "231659"
  },
  {
    "text": "the presentation talking about the",
    "start": "231659",
    "end": "233220"
  },
  {
    "text": "blueberry project infrastructure and as",
    "start": "233220",
    "end": "235260"
  },
  {
    "text": "you can see on the slide we have three",
    "start": "235260",
    "end": "237060"
  },
  {
    "text": "different data centers",
    "start": "237060",
    "end": "238560"
  },
  {
    "text": "first one in Lugano where we have our",
    "start": "238560",
    "end": "240420"
  },
  {
    "text": "supercomputer we also have an eight",
    "start": "240420",
    "end": "242640"
  },
  {
    "text": "petabytes Spectrum scale for scientific",
    "start": "242640",
    "end": "244799"
  },
  {
    "text": "data storage",
    "start": "244799",
    "end": "245879"
  },
  {
    "text": "and at this DSM system for tapes for",
    "start": "245879",
    "end": "249420"
  },
  {
    "text": "backup on tapes",
    "start": "249420",
    "end": "251220"
  },
  {
    "text": "we have another one in lasang where we",
    "start": "251220",
    "end": "253140"
  },
  {
    "text": "have our Disaster Recovery storage based",
    "start": "253140",
    "end": "255599"
  },
  {
    "text": "on NetApp and finally we have another",
    "start": "255599",
    "end": "257579"
  },
  {
    "text": "one in Geneva",
    "start": "257579",
    "end": "258959"
  },
  {
    "text": "where we have our private cloud based on",
    "start": "258959",
    "end": "261180"
  },
  {
    "text": "openstack",
    "start": "261180",
    "end": "262620"
  },
  {
    "text": "and this is where we run most of our",
    "start": "262620",
    "end": "264660"
  },
  {
    "text": "services from including kubernetes",
    "start": "264660",
    "end": "267300"
  },
  {
    "text": "also in Geneva we have a a little bit",
    "start": "267300",
    "end": "270060"
  },
  {
    "text": "under four petabytes of Enterprise",
    "start": "270060",
    "end": "271800"
  },
  {
    "text": "storage based on NetApp",
    "start": "271800",
    "end": "275040"
  },
  {
    "text": "and this is the catalog of services that",
    "start": "275040",
    "end": "278040"
  },
  {
    "text": "we offer to our users in the",
    "start": "278040",
    "end": "279479"
  },
  {
    "text": "organization",
    "start": "279479",
    "end": "280680"
  },
  {
    "text": "so as you can see we have things like",
    "start": "280680",
    "end": "282060"
  },
  {
    "text": "openstack we have puppet puppet is our",
    "start": "282060",
    "end": "284880"
  },
  {
    "text": "configuration management tool that we",
    "start": "284880",
    "end": "286979"
  },
  {
    "text": "use to configure and install all of our",
    "start": "286979",
    "end": "289259"
  },
  {
    "text": "services",
    "start": "289259",
    "end": "290400"
  },
  {
    "text": "we have things like gitlab jira",
    "start": "290400",
    "end": "292740"
  },
  {
    "text": "Confluence we offer several different",
    "start": "292740",
    "end": "295259"
  },
  {
    "text": "databases Technologies to our users",
    "start": "295259",
    "end": "297199"
  },
  {
    "text": "authentication via keyclock and all that",
    "start": "297199",
    "end": "299940"
  },
  {
    "text": "monitoring stack of tools",
    "start": "299940",
    "end": "301560"
  },
  {
    "text": "and all of this I just mentioned it's",
    "start": "301560",
    "end": "304080"
  },
  {
    "text": "all virtualized and all on premises",
    "start": "304080",
    "end": "307740"
  },
  {
    "text": "so with this in mind let's talk now",
    "start": "307740",
    "end": "309900"
  },
  {
    "text": "about the situation we had before",
    "start": "309900",
    "end": "311100"
  },
  {
    "text": "kubernetes",
    "start": "311100",
    "end": "313080"
  },
  {
    "text": "so before kubernetes we were running the",
    "start": "313080",
    "end": "314880"
  },
  {
    "text": "open source version of openshift so",
    "start": "314880",
    "end": "316680"
  },
  {
    "text": "openshift origin 311 based on kubernetes",
    "start": "316680",
    "end": "319440"
  },
  {
    "text": "111.",
    "start": "319440",
    "end": "321240"
  },
  {
    "text": "and by the release date you can already",
    "start": "321240",
    "end": "323220"
  },
  {
    "text": "tell that it was getting quite old at",
    "start": "323220",
    "end": "325440"
  },
  {
    "text": "the end of 2020.",
    "start": "325440",
    "end": "327360"
  },
  {
    "text": "one problem that we had is that people",
    "start": "327360",
    "end": "330060"
  },
  {
    "text": "who work on this deployment had left the",
    "start": "330060",
    "end": "332880"
  },
  {
    "text": "team already",
    "start": "332880",
    "end": "334080"
  },
  {
    "text": "and also it was relying on an answerable",
    "start": "334080",
    "end": "336419"
  },
  {
    "text": "Playbook this is not a problem per se",
    "start": "336419",
    "end": "338400"
  },
  {
    "text": "but as I mentioned before we use puppet",
    "start": "338400",
    "end": "340620"
  },
  {
    "text": "for configuring all of our services and",
    "start": "340620",
    "end": "342840"
  },
  {
    "text": "openshift was just the exception",
    "start": "342840",
    "end": "346280"
  },
  {
    "text": "because of the way it was deployed",
    "start": "346280",
    "end": "348479"
  },
  {
    "text": "day-to-day operations were tedious and",
    "start": "348479",
    "end": "350400"
  },
  {
    "text": "cumbersome so things like adding new",
    "start": "350400",
    "end": "353220"
  },
  {
    "text": "worker nodes or changing the code of a",
    "start": "353220",
    "end": "355020"
  },
  {
    "text": "project requires several different Steps",
    "start": "355020",
    "end": "357120"
  },
  {
    "text": "From The Operators and it was quite",
    "start": "357120",
    "end": "359039"
  },
  {
    "text": "error-prone",
    "start": "359039",
    "end": "360300"
  },
  {
    "text": "and finally it didn't have support for",
    "start": "360300",
    "end": "362340"
  },
  {
    "text": "some of the features that our users were",
    "start": "362340",
    "end": "364020"
  },
  {
    "text": "starting to request things like home",
    "start": "364020",
    "end": "365759"
  },
  {
    "text": "charts githubs or more Modern English so",
    "start": "365759",
    "end": "369600"
  },
  {
    "text": "this is why a change was needed",
    "start": "369600",
    "end": "372479"
  },
  {
    "text": "so at the beginning of 2021 this is when",
    "start": "372479",
    "end": "374940"
  },
  {
    "text": "we started this proof of concept based",
    "start": "374940",
    "end": "376740"
  },
  {
    "text": "on vanilla kubernetes in this case we",
    "start": "376740",
    "end": "378900"
  },
  {
    "text": "went for kubernetes 120 with containerdy",
    "start": "378900",
    "end": "381479"
  },
  {
    "text": "and run C",
    "start": "381479",
    "end": "382919"
  },
  {
    "text": "and since the beginning of the POC we",
    "start": "382919",
    "end": "384780"
  },
  {
    "text": "had a few things clear uh we wanted to",
    "start": "384780",
    "end": "387240"
  },
  {
    "text": "be virtualized running on our existing",
    "start": "387240",
    "end": "389699"
  },
  {
    "text": "private Cloud openstack we wanted to use",
    "start": "389699",
    "end": "392100"
  },
  {
    "text": "red hat Enterprise Linux as the",
    "start": "392100",
    "end": "393720"
  },
  {
    "text": "operating system and of course with SC",
    "start": "393720",
    "end": "395819"
  },
  {
    "text": "Linux enabled and set to enforcing",
    "start": "395819",
    "end": "399060"
  },
  {
    "text": "and we would just puppet for the",
    "start": "399060",
    "end": "401460"
  },
  {
    "text": "installation and initial cluster",
    "start": "401460",
    "end": "402720"
  },
  {
    "text": "configuration so no difference with any",
    "start": "402720",
    "end": "404819"
  },
  {
    "text": "of our other other services",
    "start": "404819",
    "end": "407100"
  },
  {
    "text": "and also we would like to use some kind",
    "start": "407100",
    "end": "408600"
  },
  {
    "text": "of github's approach to automate the",
    "start": "408600",
    "end": "410340"
  },
  {
    "text": "configuration of the cluster",
    "start": "410340",
    "end": "412500"
  },
  {
    "text": "as you can see there there is a little",
    "start": "412500",
    "end": "414539"
  },
  {
    "text": "timeline it took us around three months",
    "start": "414539",
    "end": "417300"
  },
  {
    "text": "to get the first version up and running",
    "start": "417300",
    "end": "421979"
  },
  {
    "text": "and then starting in in April this is",
    "start": "421979",
    "end": "424380"
  },
  {
    "text": "when we tested it internally for around",
    "start": "424380",
    "end": "427919"
  },
  {
    "text": "six months",
    "start": "427919",
    "end": "429180"
  },
  {
    "text": "and then in October we decided to invite",
    "start": "429180",
    "end": "431039"
  },
  {
    "text": "some external users to this proof of",
    "start": "431039",
    "end": "433740"
  },
  {
    "text": "concept kubernetes cluster and then in",
    "start": "433740",
    "end": "436680"
  },
  {
    "text": "December after some testing we decided",
    "start": "436680",
    "end": "438960"
  },
  {
    "text": "that it was production ready",
    "start": "438960",
    "end": "440699"
  },
  {
    "text": "and after that this is when we started",
    "start": "440699",
    "end": "442800"
  },
  {
    "text": "the decommissioning of openshift",
    "start": "442800",
    "end": "446000"
  },
  {
    "text": "so this is some of the features that we",
    "start": "446099",
    "end": "448800"
  },
  {
    "text": "offered back in 2021 with that first",
    "start": "448800",
    "end": "451560"
  },
  {
    "text": "kubernetes production cluster",
    "start": "451560",
    "end": "454080"
  },
  {
    "text": "as you can see it was based on",
    "start": "454080",
    "end": "455759"
  },
  {
    "text": "kubernetes 121",
    "start": "455759",
    "end": "457680"
  },
  {
    "text": "for the cni we went for Calico support",
    "start": "457680",
    "end": "460620"
  },
  {
    "text": "for Ingress nginx controller",
    "start": "460620",
    "end": "462660"
  },
  {
    "text": "authentication via key clock",
    "start": "462660",
    "end": "464759"
  },
  {
    "text": "for the CSI we went for Trident since we",
    "start": "464759",
    "end": "467160"
  },
  {
    "text": "were using NetApp as the back end",
    "start": "467160",
    "end": "469639"
  },
  {
    "text": "kuberno support for Helm charts gitlab",
    "start": "469639",
    "end": "472740"
  },
  {
    "text": "registry since we were already using uh",
    "start": "472740",
    "end": "475319"
  },
  {
    "text": "or installing uh having a gitlab",
    "start": "475319",
    "end": "477599"
  },
  {
    "text": "in-house support for IBM Spectrum scale",
    "start": "477599",
    "end": "480780"
  },
  {
    "text": "vnfs mounts flux",
    "start": "480780",
    "end": "484039"
  },
  {
    "text": "encrypted secrets with Mozilla subs and",
    "start": "484039",
    "end": "487020"
  },
  {
    "text": "cert manager",
    "start": "487020",
    "end": "489120"
  },
  {
    "text": "so it's uh the Q3 of 2021 we had this",
    "start": "489120",
    "end": "493500"
  },
  {
    "text": "new kubernetes cluster up and running",
    "start": "493500",
    "end": "497580"
  },
  {
    "text": "but we were also running uh the old",
    "start": "497580",
    "end": "499680"
  },
  {
    "text": "openshift in parallel so at that time",
    "start": "499680",
    "end": "502020"
  },
  {
    "text": "what we did is we already did everything",
    "start": "502020",
    "end": "503280"
  },
  {
    "text": "running on openshift and we contacted",
    "start": "503280",
    "end": "505199"
  },
  {
    "text": "the responsibles for those deployments",
    "start": "505199",
    "end": "508319"
  },
  {
    "text": "and luckily majority of those users",
    "start": "508319",
    "end": "511800"
  },
  {
    "text": "those developers they managed to migrate",
    "start": "511800",
    "end": "513659"
  },
  {
    "text": "their applications by themselves and in",
    "start": "513659",
    "end": "516060"
  },
  {
    "text": "most of the cases it was just a matter",
    "start": "516060",
    "end": "517320"
  },
  {
    "text": "of exporting the the resource as a yaml",
    "start": "517320",
    "end": "519899"
  },
  {
    "text": "file and then we're importing it back",
    "start": "519899",
    "end": "521279"
  },
  {
    "text": "into kubernetes",
    "start": "521279",
    "end": "522839"
  },
  {
    "text": "unfortunately for us there was no way to",
    "start": "522839",
    "end": "525779"
  },
  {
    "text": "automatically migrate the the volumes",
    "start": "525779",
    "end": "527880"
  },
  {
    "text": "from openshift to kubernetes although in",
    "start": "527880",
    "end": "530459"
  },
  {
    "text": "both cases we were using the same",
    "start": "530459",
    "end": "531779"
  },
  {
    "text": "backend NetApp in this case the driver",
    "start": "531779",
    "end": "535320"
  },
  {
    "text": "was different so an automatic migration",
    "start": "535320",
    "end": "537060"
  },
  {
    "text": "was not possible so what users needed to",
    "start": "537060",
    "end": "539220"
  },
  {
    "text": "do is basically copied the contents from",
    "start": "539220",
    "end": "541920"
  },
  {
    "text": "one volume running in one system into",
    "start": "541920",
    "end": "544140"
  },
  {
    "text": "into the other",
    "start": "544140",
    "end": "546300"
  },
  {
    "text": "and finally we also needed to migrate",
    "start": "546300",
    "end": "548100"
  },
  {
    "text": "the the container images",
    "start": "548100",
    "end": "549800"
  },
  {
    "text": "and this was an easy migration what",
    "start": "549800",
    "end": "552480"
  },
  {
    "text": "users needed to do is push the already",
    "start": "552480",
    "end": "554519"
  },
  {
    "text": "existing images into the new registry in",
    "start": "554519",
    "end": "557459"
  },
  {
    "text": "this case gitlab",
    "start": "557459",
    "end": "560300"
  },
  {
    "text": "so about our cluster deployment as I",
    "start": "561000",
    "end": "564779"
  },
  {
    "text": "said it's 100 on premises 100",
    "start": "564779",
    "end": "567060"
  },
  {
    "text": "virtualized running on openstack for the",
    "start": "567060",
    "end": "569760"
  },
  {
    "text": "operating system",
    "start": "569760",
    "end": "570899"
  },
  {
    "text": "we are running red hot Enterprise Linux",
    "start": "570899",
    "end": "573120"
  },
  {
    "text": "8. although at the beginning we started",
    "start": "573120",
    "end": "575160"
  },
  {
    "text": "with seven and",
    "start": "575160",
    "end": "576779"
  },
  {
    "text": "around one year ago we made an operating",
    "start": "576779",
    "end": "579180"
  },
  {
    "text": "system upgrade",
    "start": "579180",
    "end": "580560"
  },
  {
    "text": "the current version of kubernetes we are",
    "start": "580560",
    "end": "582360"
  },
  {
    "text": "using in production is 125 so that means",
    "start": "582360",
    "end": "584700"
  },
  {
    "text": "we did five upgrades in the last two",
    "start": "584700",
    "end": "587040"
  },
  {
    "text": "years",
    "start": "587040",
    "end": "588420"
  },
  {
    "text": "and we tried to run n minus one version",
    "start": "588420",
    "end": "591180"
  },
  {
    "text": "of kubernetes in production being in the",
    "start": "591180",
    "end": "593399"
  },
  {
    "text": "latest stable of kubernetes",
    "start": "593399",
    "end": "595860"
  },
  {
    "text": "uh currently we have two different",
    "start": "595860",
    "end": "597480"
  },
  {
    "text": "clusters brought for production and",
    "start": "597480",
    "end": "599160"
  },
  {
    "text": "depth for development architecture wise",
    "start": "599160",
    "end": "601200"
  },
  {
    "text": "they're both the same uh we have three",
    "start": "601200",
    "end": "604440"
  },
  {
    "text": "control planes of both of them where we",
    "start": "604440",
    "end": "607019"
  },
  {
    "text": "also run hcd and an amount of worker",
    "start": "607019",
    "end": "609180"
  },
  {
    "text": "nodes",
    "start": "609180",
    "end": "610320"
  },
  {
    "text": "uh yeah both clusters they have the same",
    "start": "610320",
    "end": "612959"
  },
  {
    "text": "configuration this is enforced by first",
    "start": "612959",
    "end": "614760"
  },
  {
    "text": "by puppet and then by flux",
    "start": "614760",
    "end": "617160"
  },
  {
    "text": "but of course in depth we have fewer and",
    "start": "617160",
    "end": "618959"
  },
  {
    "text": "smaller worker nodes so we don't waste",
    "start": "618959",
    "end": "620760"
  },
  {
    "text": "resources there",
    "start": "620760",
    "end": "621959"
  },
  {
    "text": "since config wise they are both clusters",
    "start": "621959",
    "end": "625260"
  },
  {
    "text": "hide identical we encourage our users to",
    "start": "625260",
    "end": "627420"
  },
  {
    "text": "run some of their test workloads on our",
    "start": "627420",
    "end": "629459"
  },
  {
    "text": "Dev cluster so every time we change some",
    "start": "629459",
    "end": "632580"
  },
  {
    "text": "configuration file or we upgrade the",
    "start": "632580",
    "end": "635459"
  },
  {
    "text": "kubernetes version they they uh they",
    "start": "635459",
    "end": "639060"
  },
  {
    "text": "realize if they need to change something",
    "start": "639060",
    "end": "640260"
  },
  {
    "text": "on their side first there",
    "start": "640260",
    "end": "643980"
  },
  {
    "text": "so about the usage with this slide you",
    "start": "643980",
    "end": "646560"
  },
  {
    "text": "can get a pretty good idea of on how big",
    "start": "646560",
    "end": "649140"
  },
  {
    "text": "our production cluster is as you can see",
    "start": "649140",
    "end": "651420"
  },
  {
    "text": "we have around 500 allocatable course at",
    "start": "651420",
    "end": "653700"
  },
  {
    "text": "the moment a little bit under one",
    "start": "653700",
    "end": "655680"
  },
  {
    "text": "terabyte of allocatable memory",
    "start": "655680",
    "end": "658200"
  },
  {
    "text": "and a little bit over one terabytes of",
    "start": "658200",
    "end": "660240"
  },
  {
    "text": "requested storage",
    "start": "660240",
    "end": "661920"
  },
  {
    "text": "it's not here on this slide but if",
    "start": "661920",
    "end": "664200"
  },
  {
    "text": "you're curious we have around 450 pots",
    "start": "664200",
    "end": "668360"
  },
  {
    "text": "so let's talk now about multi-tenancy",
    "start": "668700",
    "end": "671160"
  },
  {
    "text": "because this was a very important",
    "start": "671160",
    "end": "672420"
  },
  {
    "text": "concept for us because this comes out of",
    "start": "672420",
    "end": "675000"
  },
  {
    "text": "the box in openshift Via openshift",
    "start": "675000",
    "end": "677519"
  },
  {
    "text": "projects and we wanted to have something",
    "start": "677519",
    "end": "679260"
  },
  {
    "text": "similar in kubernetes",
    "start": "679260",
    "end": "681300"
  },
  {
    "text": "since we were using Flags to configure",
    "start": "681300",
    "end": "683279"
  },
  {
    "text": "our kubernetes cluster we based this",
    "start": "683279",
    "end": "685680"
  },
  {
    "text": "multi-tenancy configuration on that repo",
    "start": "685680",
    "end": "687600"
  },
  {
    "text": "the flux 2 multi-tenancy Ripple although",
    "start": "687600",
    "end": "690120"
  },
  {
    "text": "ended up we ended up changing it so much",
    "start": "690120",
    "end": "692279"
  },
  {
    "text": "it's basically a different thing but it",
    "start": "692279",
    "end": "694200"
  },
  {
    "text": "was a good starting point",
    "start": "694200",
    "end": "696120"
  },
  {
    "text": "and the way it works is it's its team in",
    "start": "696120",
    "end": "698760"
  },
  {
    "text": "the organization gets their own",
    "start": "698760",
    "end": "700380"
  },
  {
    "text": "namespace",
    "start": "700380",
    "end": "701579"
  },
  {
    "text": "and then we Define some resource quotas",
    "start": "701579",
    "end": "704339"
  },
  {
    "text": "per namespace so we can limit the the",
    "start": "704339",
    "end": "706500"
  },
  {
    "text": "resources they can use and then for",
    "start": "706500",
    "end": "708720"
  },
  {
    "text": "authorization there is a role binding",
    "start": "708720",
    "end": "710279"
  },
  {
    "text": "referencing an ldap group and then each",
    "start": "710279",
    "end": "712980"
  },
  {
    "text": "member of this ldac group gets admin",
    "start": "712980",
    "end": "715079"
  },
  {
    "text": "access within that namespace",
    "start": "715079",
    "end": "717000"
  },
  {
    "text": "and when the users log in",
    "start": "717000",
    "end": "718860"
  },
  {
    "text": "the user the groups the user is member",
    "start": "718860",
    "end": "722880"
  },
  {
    "text": "of are passed in the uid is talking as a",
    "start": "722880",
    "end": "724920"
  },
  {
    "text": "claim",
    "start": "724920",
    "end": "726480"
  },
  {
    "text": "another thing we implemented is this",
    "start": "726480",
    "end": "728279"
  },
  {
    "text": "isolation between pods so by default we",
    "start": "728279",
    "end": "731220"
  },
  {
    "text": "have a very restrictive Network policy",
    "start": "731220",
    "end": "733200"
  },
  {
    "text": "that basically blocks all Ingress and",
    "start": "733200",
    "end": "734940"
  },
  {
    "text": "agress traffic",
    "start": "734940",
    "end": "736320"
  },
  {
    "text": "and we wanted to have it like this so",
    "start": "736320",
    "end": "738300"
  },
  {
    "text": "our developers they need to make a",
    "start": "738300",
    "end": "739860"
  },
  {
    "text": "conscious decision if they want to open",
    "start": "739860",
    "end": "741600"
  },
  {
    "text": "access from unto their pots",
    "start": "741600",
    "end": "744360"
  },
  {
    "text": "and finally we offer optional Flex",
    "start": "744360",
    "end": "746519"
  },
  {
    "text": "integration for those teams that they",
    "start": "746519",
    "end": "748140"
  },
  {
    "text": "would like to start using Flex",
    "start": "748140",
    "end": "750660"
  },
  {
    "text": "let's talk now about the installation so",
    "start": "750660",
    "end": "752880"
  },
  {
    "text": "as I mentioned before we did it with",
    "start": "752880",
    "end": "754980"
  },
  {
    "text": "puppet",
    "start": "754980",
    "end": "756060"
  },
  {
    "text": "so for this we use the kubernetes puppet",
    "start": "756060",
    "end": "758040"
  },
  {
    "text": "module developed by Puppet Labs and if",
    "start": "758040",
    "end": "760560"
  },
  {
    "text": "you are familiar with puppet this is not",
    "start": "760560",
    "end": "761940"
  },
  {
    "text": "the typical puppet module",
    "start": "761940",
    "end": "763680"
  },
  {
    "text": "it comes alongside with a container",
    "start": "763680",
    "end": "765959"
  },
  {
    "text": "image that basically generates the",
    "start": "765959",
    "end": "768240"
  },
  {
    "text": "certificates and some of the Hera",
    "start": "768240",
    "end": "770100"
  },
  {
    "text": "configuration that then puppet will",
    "start": "770100",
    "end": "772019"
  },
  {
    "text": "apply",
    "start": "772019",
    "end": "773240"
  },
  {
    "text": "and yeah this tool is crypto and you",
    "start": "773240",
    "end": "777899"
  },
  {
    "text": "need to keep this in mind in case you",
    "start": "777899",
    "end": "779459"
  },
  {
    "text": "want to reinstall the cluster in the",
    "start": "779459",
    "end": "780779"
  },
  {
    "text": "future because this certificates the LCD",
    "start": "780779",
    "end": "784019"
  },
  {
    "text": "and the kubernetes certificates are",
    "start": "784019",
    "end": "785820"
  },
  {
    "text": "generated before the installation with",
    "start": "785820",
    "end": "787380"
  },
  {
    "text": "the IPS and host names that you specify",
    "start": "787380",
    "end": "789600"
  },
  {
    "text": "so if you want to install the cluster",
    "start": "789600",
    "end": "791760"
  },
  {
    "text": "you may need to also regenerate the the",
    "start": "791760",
    "end": "793740"
  },
  {
    "text": "certificates",
    "start": "793740",
    "end": "795300"
  },
  {
    "text": "but as you can see the usage is quite",
    "start": "795300",
    "end": "796980"
  },
  {
    "text": "simple you just need to specify some",
    "start": "796980",
    "end": "799260"
  },
  {
    "text": "variables",
    "start": "799260",
    "end": "801300"
  },
  {
    "text": "things like the operating system you",
    "start": "801300",
    "end": "803220"
  },
  {
    "text": "would like to install kubernetes on in",
    "start": "803220",
    "end": "804779"
  },
  {
    "text": "our case Red Hat the version of",
    "start": "804779",
    "end": "806519"
  },
  {
    "text": "kubernetes and the container runtime in",
    "start": "806519",
    "end": "809220"
  },
  {
    "text": "our case containerdy the your cni of",
    "start": "809220",
    "end": "812639"
  },
  {
    "text": "choice in our case Calico with the",
    "start": "812639",
    "end": "814019"
  },
  {
    "text": "ticket operator and its version and",
    "start": "814019",
    "end": "816060"
  },
  {
    "text": "things like the LCD initial cluster",
    "start": "816060",
    "end": "818000"
  },
  {
    "text": "hcdip and the advertise address you run",
    "start": "818000",
    "end": "821459"
  },
  {
    "text": "this command and it generates this four",
    "start": "821459",
    "end": "823260"
  },
  {
    "text": "jaml files it's one per control plane",
    "start": "823260",
    "end": "825839"
  },
  {
    "text": "node and one common one",
    "start": "825839",
    "end": "828980"
  },
  {
    "text": "is basically what we specified before as",
    "start": "829940",
    "end": "832800"
  },
  {
    "text": "you can see it's this Hera variables",
    "start": "832800",
    "end": "835560"
  },
  {
    "text": "format",
    "start": "835560",
    "end": "836639"
  },
  {
    "text": "and it's the values we specified before",
    "start": "836639",
    "end": "838980"
  },
  {
    "text": "and this file is truncated",
    "start": "838980",
    "end": "841440"
  },
  {
    "text": "but as you can see it also generates the",
    "start": "841440",
    "end": "843240"
  },
  {
    "text": "the certificates and it starts and",
    "start": "843240",
    "end": "845100"
  },
  {
    "text": "stores them as as variables",
    "start": "845100",
    "end": "849120"
  },
  {
    "text": "and just to finish with installation",
    "start": "849120",
    "end": "850680"
  },
  {
    "text": "part here is divided in two different",
    "start": "850680",
    "end": "852959"
  },
  {
    "text": "parts so the the there is one first part",
    "start": "852959",
    "end": "856139"
  },
  {
    "text": "done by puppet and then there is a",
    "start": "856139",
    "end": "857820"
  },
  {
    "text": "second part done by flux with the help",
    "start": "857820",
    "end": "859440"
  },
  {
    "text": "with the help of help",
    "start": "859440",
    "end": "861540"
  },
  {
    "text": "so the first part done by puppet is also",
    "start": "861540",
    "end": "863399"
  },
  {
    "text": "divided in two parts the first four",
    "start": "863399",
    "end": "864959"
  },
  {
    "text": "steps are done by the module so the",
    "start": "864959",
    "end": "866700"
  },
  {
    "text": "module makes sure that the certificates",
    "start": "866700",
    "end": "868260"
  },
  {
    "text": "are created on the notes",
    "start": "868260",
    "end": "869820"
  },
  {
    "text": "it bootstraps an initial hcd cluster and",
    "start": "869820",
    "end": "872820"
  },
  {
    "text": "installs kubernetes in this case it uses",
    "start": "872820",
    "end": "874980"
  },
  {
    "text": "Cube IDM under the hood and it does the",
    "start": "874980",
    "end": "877680"
  },
  {
    "text": "init and join depending if it's a worker",
    "start": "877680",
    "end": "879779"
  },
  {
    "text": "node or a control plane and finally",
    "start": "879779",
    "end": "882060"
  },
  {
    "text": "installs and configures your cni of",
    "start": "882060",
    "end": "884339"
  },
  {
    "text": "choice as as I said in our case Calico",
    "start": "884339",
    "end": "888060"
  },
  {
    "text": "and then we wrote some custom puppet",
    "start": "888060",
    "end": "889860"
  },
  {
    "text": "code that basically does the flex",
    "start": "889860",
    "end": "892560"
  },
  {
    "text": "bootstrapping and enables IDC",
    "start": "892560",
    "end": "895500"
  },
  {
    "text": "Authentication",
    "start": "895500",
    "end": "896760"
  },
  {
    "text": "so up to this point this is where you",
    "start": "896760",
    "end": "898620"
  },
  {
    "text": "have a minimum working kubernetes",
    "start": "898620",
    "end": "900899"
  },
  {
    "text": "cluster and this is when flux picks up",
    "start": "900899",
    "end": "903540"
  },
  {
    "text": "and starts installing and configuring",
    "start": "903540",
    "end": "905519"
  },
  {
    "text": "things like kiverno plus all the cluster",
    "start": "905519",
    "end": "907199"
  },
  {
    "text": "policies third manager trident",
    "start": "907199",
    "end": "910260"
  },
  {
    "text": "uh kubernetes dashboard etc etc",
    "start": "910260",
    "end": "913920"
  },
  {
    "text": "so how is it running a kubernetes",
    "start": "913920",
    "end": "916079"
  },
  {
    "text": "clustering in production",
    "start": "916079",
    "end": "918480"
  },
  {
    "text": "so I must say that for us the operators",
    "start": "918480",
    "end": "920639"
  },
  {
    "text": "the overhead is quite minimum",
    "start": "920639",
    "end": "923040"
  },
  {
    "text": "uh nowadays things like water changes",
    "start": "923040",
    "end": "925260"
  },
  {
    "text": "are all managed white flux so for us",
    "start": "925260",
    "end": "927660"
  },
  {
    "text": "it's just a matter of changing a file",
    "start": "927660",
    "end": "930839"
  },
  {
    "text": "and then pushing the changes and then",
    "start": "930839",
    "end": "932459"
  },
  {
    "text": "Flex will take care of the rest",
    "start": "932459",
    "end": "934860"
  },
  {
    "text": "adding new worker nodes as simple as",
    "start": "934860",
    "end": "937260"
  },
  {
    "text": "creating a new VM put the VM in the",
    "start": "937260",
    "end": "939360"
  },
  {
    "text": "right host group and then pop it runs",
    "start": "939360",
    "end": "941399"
  },
  {
    "text": "and that VM will be a new worker node",
    "start": "941399",
    "end": "945300"
  },
  {
    "text": "part of the cluster in a matter of",
    "start": "945300",
    "end": "947100"
  },
  {
    "text": "minutes",
    "start": "947100",
    "end": "948120"
  },
  {
    "text": "for cluster upgrades we do them in place",
    "start": "948120",
    "end": "950339"
  },
  {
    "text": "so that means that we upgrade every",
    "start": "950339",
    "end": "952500"
  },
  {
    "text": "single element of the of the cluster",
    "start": "952500",
    "end": "955079"
  },
  {
    "text": "and we do this of course with puppet and",
    "start": "955079",
    "end": "956880"
  },
  {
    "text": "some helper scripts that we wrote",
    "start": "956880",
    "end": "958860"
  },
  {
    "text": "and it's as simple as changing one of",
    "start": "958860",
    "end": "961860"
  },
  {
    "text": "those values in that file that I showed",
    "start": "961860",
    "end": "964860"
  },
  {
    "text": "you before pushing the changes then",
    "start": "964860",
    "end": "966959"
  },
  {
    "text": "puppet runs and things like kubadm Cube",
    "start": "966959",
    "end": "969420"
  },
  {
    "text": "CTL and cubelet they get upgraded",
    "start": "969420",
    "end": "971820"
  },
  {
    "text": "it's a slightly different if you're",
    "start": "971820",
    "end": "973019"
  },
  {
    "text": "upgrading on control plane node or a",
    "start": "973019",
    "end": "974760"
  },
  {
    "text": "worker node for control planes we also",
    "start": "974760",
    "end": "976980"
  },
  {
    "text": "need to run that command so we use",
    "start": "976980",
    "end": "979440"
  },
  {
    "text": "cubeadm upgrade command and for the",
    "start": "979440",
    "end": "981720"
  },
  {
    "text": "worker nodes we use one of those scripts",
    "start": "981720",
    "end": "983820"
  },
  {
    "text": "that I mentioned before to drain the",
    "start": "983820",
    "end": "985320"
  },
  {
    "text": "node first so we make sure there are no",
    "start": "985320",
    "end": "986880"
  },
  {
    "text": "pods running there",
    "start": "986880",
    "end": "988320"
  },
  {
    "text": "then we run puppets so the upgrade",
    "start": "988320",
    "end": "990000"
  },
  {
    "text": "actually happens and then we when",
    "start": "990000",
    "end": "992100"
  },
  {
    "text": "everything is is fine we encode on the",
    "start": "992100",
    "end": "994079"
  },
  {
    "text": "Note",
    "start": "994079",
    "end": "996199"
  },
  {
    "text": "so",
    "start": "996240",
    "end": "997680"
  },
  {
    "text": "um how is my thing migration into",
    "start": "997680",
    "end": "999839"
  },
  {
    "text": "kubernetes and and the future plans we",
    "start": "999839",
    "end": "1001880"
  },
  {
    "text": "have for the for the cluster",
    "start": "1001880",
    "end": "1003620"
  },
  {
    "text": "so it's true that we have this cluster",
    "start": "1003620",
    "end": "1006680"
  },
  {
    "text": "and we offer it to the organization but",
    "start": "1006680",
    "end": "1008839"
  },
  {
    "text": "we run most of our services still",
    "start": "1008839",
    "end": "1010579"
  },
  {
    "text": "nowadays in VMS on openstack",
    "start": "1010579",
    "end": "1012980"
  },
  {
    "text": "but these are just some of the examples",
    "start": "1012980",
    "end": "1014600"
  },
  {
    "text": "of of applications that we are already",
    "start": "1014600",
    "end": "1017120"
  },
  {
    "text": "running in kubernetes so we have things",
    "start": "1017120",
    "end": "1019160"
  },
  {
    "text": "like the give blood Runners we have some",
    "start": "1019160",
    "end": "1021079"
  },
  {
    "text": "dummy applications to verify the cluster",
    "start": "1021079",
    "end": "1022699"
  },
  {
    "text": "status",
    "start": "1022699",
    "end": "1023600"
  },
  {
    "text": "some slack Bots open search and various",
    "start": "1023600",
    "end": "1026418"
  },
  {
    "text": "parameters exports",
    "start": "1026419",
    "end": "1027918"
  },
  {
    "text": "and for the future plans we would like",
    "start": "1027919",
    "end": "1029540"
  },
  {
    "text": "to have is we'd like to have some kind",
    "start": "1029540",
    "end": "1032540"
  },
  {
    "text": "of cluster Auto scaler so ideally VMS on",
    "start": "1032540",
    "end": "1035839"
  },
  {
    "text": "openstack will be deleted or created",
    "start": "1035839",
    "end": "1037938"
  },
  {
    "text": "depending on the cluster node",
    "start": "1037939",
    "end": "1039918"
  },
  {
    "text": "and we would like to have service mesh",
    "start": "1039919",
    "end": "1042740"
  },
  {
    "text": "probably with link Rd we are interested",
    "start": "1042740",
    "end": "1045020"
  },
  {
    "text": "in having an mtls in between pots",
    "start": "1045020",
    "end": "1048500"
  },
  {
    "text": "so the overall experience is very good",
    "start": "1048500",
    "end": "1050780"
  },
  {
    "text": "we are very very happy with kubernetes",
    "start": "1050780",
    "end": "1053000"
  },
  {
    "text": "it's true that at the beginning you need",
    "start": "1053000",
    "end": "1055580"
  },
  {
    "text": "to get used to looking at huge yaml",
    "start": "1055580",
    "end": "1057380"
  },
  {
    "text": "files and some of the flux core Concepts",
    "start": "1057380",
    "end": "1060320"
  },
  {
    "text": "uh but it's definitely worth it uh one",
    "start": "1060320",
    "end": "1064160"
  },
  {
    "text": "of the fears we used to have before",
    "start": "1064160",
    "end": "1065299"
  },
  {
    "text": "moving into kubernetes is that our users",
    "start": "1065299",
    "end": "1067280"
  },
  {
    "text": "would miss the Fantastic openshift web",
    "start": "1067280",
    "end": "1069020"
  },
  {
    "text": "UI",
    "start": "1069020",
    "end": "1069980"
  },
  {
    "text": "but in the end it was not the case and",
    "start": "1069980",
    "end": "1072320"
  },
  {
    "text": "our developers they are happy",
    "start": "1072320",
    "end": "1074179"
  },
  {
    "text": "interacting with the cluster via Cube",
    "start": "1074179",
    "end": "1076039"
  },
  {
    "text": "CTL lens K9s or even the kubernetes",
    "start": "1076039",
    "end": "1079220"
  },
  {
    "text": "dashboard",
    "start": "1079220",
    "end": "1080600"
  },
  {
    "text": "and if you're in a similar situation we",
    "start": "1080600",
    "end": "1083120"
  },
  {
    "text": "were a couple of years ago and you are",
    "start": "1083120",
    "end": "1084559"
  },
  {
    "text": "thinking into bringing kubernetes into",
    "start": "1084559",
    "end": "1086360"
  },
  {
    "text": "your organization",
    "start": "1086360",
    "end": "1087679"
  },
  {
    "text": "uh one thing that helped us a lot or",
    "start": "1087679",
    "end": "1089780"
  },
  {
    "text": "help our users a lot is to write some",
    "start": "1089780",
    "end": "1091700"
  },
  {
    "text": "easy to follow how-to guides with things",
    "start": "1091700",
    "end": "1094520"
  },
  {
    "text": "that your users would need to do in a",
    "start": "1094520",
    "end": "1096620"
  },
  {
    "text": "day-to-day basis things like how to",
    "start": "1096620",
    "end": "1098179"
  },
  {
    "text": "connect to the cluster how to use the",
    "start": "1098179",
    "end": "1099620"
  },
  {
    "text": "kubernetes dashboard or a quick start",
    "start": "1099620",
    "end": "1101720"
  },
  {
    "text": "with flex",
    "start": "1101720",
    "end": "1104140"
  },
  {
    "text": "and I will continue the presentation",
    "start": "1106640",
    "end": "1108799"
  },
  {
    "text": "with the user's point of view so as I",
    "start": "1108799",
    "end": "1111919"
  },
  {
    "text": "mentioned before I work in the theme",
    "start": "1111919",
    "end": "1113900"
  },
  {
    "text": "developing blue brain Nexus which is the",
    "start": "1113900",
    "end": "1116299"
  },
  {
    "text": "main data management platform for blue",
    "start": "1116299",
    "end": "1118400"
  },
  {
    "text": "brain project to organize all of the",
    "start": "1118400",
    "end": "1120140"
  },
  {
    "text": "Neuroscience data and it has a backend",
    "start": "1120140",
    "end": "1122179"
  },
  {
    "text": "for Knowledge Graph management and then",
    "start": "1122179",
    "end": "1123740"
  },
  {
    "text": "a web interface for a more user-friendly",
    "start": "1123740",
    "end": "1125660"
  },
  {
    "text": "access for scientists and it's fully",
    "start": "1125660",
    "end": "1127760"
  },
  {
    "text": "deployed in kubernetes and there is a",
    "start": "1127760",
    "end": "1129980"
  },
  {
    "text": "link to the application if you are",
    "start": "1129980",
    "end": "1131360"
  },
  {
    "text": "interested in learning more about it",
    "start": "1131360",
    "end": "1133400"
  },
  {
    "text": "so the blue brain Nexus infrastructure",
    "start": "1133400",
    "end": "1135440"
  },
  {
    "text": "consists of several different components",
    "start": "1135440",
    "end": "1137840"
  },
  {
    "text": "there is the Delta back-end infusion",
    "start": "1137840",
    "end": "1140059"
  },
  {
    "text": "front end and then there is the storage",
    "start": "1140059",
    "end": "1142400"
  },
  {
    "text": "part and other back-end components like",
    "start": "1142400",
    "end": "1145460"
  },
  {
    "text": "elasticsearch Blaze graph as the",
    "start": "1145460",
    "end": "1147260"
  },
  {
    "text": "knowledge graph and postgresql for data",
    "start": "1147260",
    "end": "1149600"
  },
  {
    "text": "storage and then geek log with its own",
    "start": "1149600",
    "end": "1151880"
  },
  {
    "text": "postgresql instance and we collect",
    "start": "1151880",
    "end": "1154400"
  },
  {
    "text": "metrics with permitters and then",
    "start": "1154400",
    "end": "1156440"
  },
  {
    "text": "visualize them with grafana and also",
    "start": "1156440",
    "end": "1158840"
  },
  {
    "text": "visualize some of them with kibana and",
    "start": "1158840",
    "end": "1160880"
  },
  {
    "text": "then we use alert manager for for",
    "start": "1160880",
    "end": "1163220"
  },
  {
    "text": "alerting and sending alerts to slack and",
    "start": "1163220",
    "end": "1166700"
  },
  {
    "text": "all of this is deployed in kubernetes",
    "start": "1166700",
    "end": "1170059"
  },
  {
    "text": "so before in our old setup when we had",
    "start": "1170059",
    "end": "1173120"
  },
  {
    "text": "to make a change we first had to use the",
    "start": "1173120",
    "end": "1176299"
  },
  {
    "text": "OC apply F command to apply the change",
    "start": "1176299",
    "end": "1179480"
  },
  {
    "text": "to our openshift cluster and then there",
    "start": "1179480",
    "end": "1182660"
  },
  {
    "text": "was the Second Step the manual to commit",
    "start": "1182660",
    "end": "1185059"
  },
  {
    "text": "your changes to git so this was quite",
    "start": "1185059",
    "end": "1187400"
  },
  {
    "text": "error-prone process that we wanted to",
    "start": "1187400",
    "end": "1189440"
  },
  {
    "text": "improve because somebody could change",
    "start": "1189440",
    "end": "1190940"
  },
  {
    "text": "something in the cluster forget or not",
    "start": "1190940",
    "end": "1193100"
  },
  {
    "text": "have time to commit it to git so we this",
    "start": "1193100",
    "end": "1195679"
  },
  {
    "text": "is something we wanted to improve",
    "start": "1195679",
    "end": "1197900"
  },
  {
    "text": "and now we're still storing our",
    "start": "1197900",
    "end": "1200179"
  },
  {
    "text": "configuration in git but we're using",
    "start": "1200179",
    "end": "1202340"
  },
  {
    "text": "flux for a more gitops approach so it",
    "start": "1202340",
    "end": "1205400"
  },
  {
    "text": "will pick up the changes and then apply",
    "start": "1205400",
    "end": "1207980"
  },
  {
    "text": "them in the kubernetes cluster for us",
    "start": "1207980",
    "end": "1210799"
  },
  {
    "text": "and some other new use cases that are",
    "start": "1210799",
    "end": "1212840"
  },
  {
    "text": "now possible in the new kubernetes setup",
    "start": "1212840",
    "end": "1215360"
  },
  {
    "text": "is to have git as an actual source of",
    "start": "1215360",
    "end": "1217580"
  },
  {
    "text": "Truth and then use flux as",
    "start": "1217580",
    "end": "1220160"
  },
  {
    "text": "for the automation part and we can also",
    "start": "1220160",
    "end": "1222860"
  },
  {
    "text": "start using Helm charts and some",
    "start": "1222860",
    "end": "1224840"
  },
  {
    "text": "flexible Ingress configurations with",
    "start": "1224840",
    "end": "1226640"
  },
  {
    "text": "nginx and where you're seeing Mozilla",
    "start": "1226640",
    "end": "1229160"
  },
  {
    "text": "stops to encrypt secrets and storming it",
    "start": "1229160",
    "end": "1233360"
  },
  {
    "text": "and for the daily operations again from",
    "start": "1233360",
    "end": "1236059"
  },
  {
    "text": "a user point of view so that we have two",
    "start": "1236059",
    "end": "1238340"
  },
  {
    "text": "different kubernetes cluster in the",
    "start": "1238340",
    "end": "1239960"
  },
  {
    "text": "organization there is the dev cluster",
    "start": "1239960",
    "end": "1241520"
  },
  {
    "text": "and then there is the production cluster",
    "start": "1241520",
    "end": "1243020"
  },
  {
    "text": "so in the dev cluster we have a replica",
    "start": "1243020",
    "end": "1245900"
  },
  {
    "text": "of our Dev environment where we can",
    "start": "1245900",
    "end": "1247940"
  },
  {
    "text": "destroy it completely delete backups and",
    "start": "1247940",
    "end": "1250460"
  },
  {
    "text": "see what happens or there's some some",
    "start": "1250460",
    "end": "1252559"
  },
  {
    "text": "other new features or test kubernetes",
    "start": "1252559",
    "end": "1254539"
  },
  {
    "text": "upgrades and how they influence us",
    "start": "1254539",
    "end": "1256580"
  },
  {
    "text": "and then there is the kubernetes",
    "start": "1256580",
    "end": "1258320"
  },
  {
    "text": "production cluster which is more",
    "start": "1258320",
    "end": "1259820"
  },
  {
    "text": "rainbows and unicorns so it has a Dev",
    "start": "1259820",
    "end": "1262160"
  },
  {
    "text": "staging and production environment but",
    "start": "1262160",
    "end": "1264020"
  },
  {
    "text": "it's meant more for the software",
    "start": "1264020",
    "end": "1265400"
  },
  {
    "text": "developers to test their new features in",
    "start": "1265400",
    "end": "1267799"
  },
  {
    "text": "Dev and then for external users to test",
    "start": "1267799",
    "end": "1270620"
  },
  {
    "text": "the features in staging production is",
    "start": "1270620",
    "end": "1273200"
  },
  {
    "text": "for production",
    "start": "1273200",
    "end": "1275480"
  },
  {
    "text": "and as an example if you want to move",
    "start": "1275480",
    "end": "1277940"
  },
  {
    "text": "into kubernetes what you would need to",
    "start": "1277940",
    "end": "1279559"
  },
  {
    "text": "do to Port your applications to",
    "start": "1279559",
    "end": "1281000"
  },
  {
    "text": "kubernetes so first you would need to",
    "start": "1281000",
    "end": "1282799"
  },
  {
    "text": "decide how you want to deploy your",
    "start": "1282799",
    "end": "1284419"
  },
  {
    "text": "application some alternatives are to",
    "start": "1284419",
    "end": "1286700"
  },
  {
    "text": "find a Helm chart or create a Helm chart",
    "start": "1286700",
    "end": "1288559"
  },
  {
    "text": "if nobody has done it yet or you just",
    "start": "1288559",
    "end": "1290960"
  },
  {
    "text": "create the necessary kubernetes manifest",
    "start": "1290960",
    "end": "1293240"
  },
  {
    "text": "like if you just need a deployment and",
    "start": "1293240",
    "end": "1295280"
  },
  {
    "text": "the service and Ingress configuration if",
    "start": "1295280",
    "end": "1297020"
  },
  {
    "text": "you have something very simple to deploy",
    "start": "1297020",
    "end": "1299960"
  },
  {
    "text": "and then you need to go through the",
    "start": "1299960",
    "end": "1302299"
  },
  {
    "text": "steps of configuring and testing the",
    "start": "1302299",
    "end": "1303679"
  },
  {
    "text": "home charts or the kubernetes Manifest",
    "start": "1303679",
    "end": "1305720"
  },
  {
    "text": "so you deploy them in your Dev cluster",
    "start": "1305720",
    "end": "1307820"
  },
  {
    "text": "or Dev environment",
    "start": "1307820",
    "end": "1309320"
  },
  {
    "text": "and then keep resolving any errors that",
    "start": "1309320",
    "end": "1311539"
  },
  {
    "text": "might appear because if you take a home",
    "start": "1311539",
    "end": "1314419"
  },
  {
    "text": "chart it might not work like right away",
    "start": "1314419",
    "end": "1317780"
  },
  {
    "text": "and the home chart quality also varies",
    "start": "1317780",
    "end": "1319520"
  },
  {
    "text": "between one health chart to another so",
    "start": "1319520",
    "end": "1321020"
  },
  {
    "text": "you just need to test that it works for",
    "start": "1321020",
    "end": "1322700"
  },
  {
    "text": "exactly what you want to do and of",
    "start": "1322700",
    "end": "1325700"
  },
  {
    "text": "course in store that ensured that the",
    "start": "1325700",
    "end": "1327320"
  },
  {
    "text": "storage and the network configuration",
    "start": "1327320",
    "end": "1328760"
  },
  {
    "text": "works and add some test data in your",
    "start": "1328760",
    "end": "1331340"
  },
  {
    "text": "application",
    "start": "1331340",
    "end": "1332659"
  },
  {
    "text": "and finally you can apply your working",
    "start": "1332659",
    "end": "1334580"
  },
  {
    "text": "configuration to some other environments",
    "start": "1334580",
    "end": "1336620"
  },
  {
    "text": "if your store your manifest then",
    "start": "1336620",
    "end": "1338120"
  },
  {
    "text": "charging it it makes it easier and then",
    "start": "1338120",
    "end": "1340520"
  },
  {
    "text": "you can use Helm chart and flux to the",
    "start": "1340520",
    "end": "1343220"
  },
  {
    "text": "scale your applications to to other",
    "start": "1343220",
    "end": "1344900"
  },
  {
    "text": "environments",
    "start": "1344900",
    "end": "1347419"
  },
  {
    "text": "and the migration process for a user if",
    "start": "1347419",
    "end": "1349460"
  },
  {
    "text": "you're migrating into kubernetes from",
    "start": "1349460",
    "end": "1351440"
  },
  {
    "text": "somewhere else so first you need to",
    "start": "1351440",
    "end": "1353659"
  },
  {
    "text": "learn about kubernetes and it can be",
    "start": "1353659",
    "end": "1356120"
  },
  {
    "text": "quite a lot to take in but don't worry",
    "start": "1356120",
    "end": "1358159"
  },
  {
    "text": "it's doable so you can learn about",
    "start": "1358159",
    "end": "1360320"
  },
  {
    "text": "kubernetes and the overall architecture",
    "start": "1360320",
    "end": "1362600"
  },
  {
    "text": "and then some research type for example",
    "start": "1362600",
    "end": "1364760"
  },
  {
    "text": "Royal based access control and network",
    "start": "1364760",
    "end": "1366620"
  },
  {
    "text": "policies",
    "start": "1366620",
    "end": "1368480"
  },
  {
    "text": "and then you go into the testing and",
    "start": "1368480",
    "end": "1371059"
  },
  {
    "text": "development phase which is more what I",
    "start": "1371059",
    "end": "1372799"
  },
  {
    "text": "was presenting in the previous slide so",
    "start": "1372799",
    "end": "1374360"
  },
  {
    "text": "finding or creating a Helm chart or the",
    "start": "1374360",
    "end": "1377000"
  },
  {
    "text": "Manifest to deploy your application and",
    "start": "1377000",
    "end": "1379700"
  },
  {
    "text": "then actually deploying and testing your",
    "start": "1379700",
    "end": "1381559"
  },
  {
    "text": "application and then deciding also how",
    "start": "1381559",
    "end": "1383780"
  },
  {
    "text": "to use your available namespaces and",
    "start": "1383780",
    "end": "1385280"
  },
  {
    "text": "kubernetes cluster depending on how your",
    "start": "1385280",
    "end": "1387380"
  },
  {
    "text": "organization is setting setting up",
    "start": "1387380",
    "end": "1389179"
  },
  {
    "text": "kubernetes and using it",
    "start": "1389179",
    "end": "1391340"
  },
  {
    "text": "and then you need to plan and test and",
    "start": "1391340",
    "end": "1394039"
  },
  {
    "text": "execute the data migration so do a",
    "start": "1394039",
    "end": "1396140"
  },
  {
    "text": "backup and then migrate the existing",
    "start": "1396140",
    "end": "1397940"
  },
  {
    "text": "data to a new environment and depending",
    "start": "1397940",
    "end": "1399740"
  },
  {
    "text": "on how your application is set up it may",
    "start": "1399740",
    "end": "1401840"
  },
  {
    "text": "require some downtime or not and of",
    "start": "1401840",
    "end": "1404539"
  },
  {
    "text": "course keep a backup of the old data in",
    "start": "1404539",
    "end": "1406220"
  },
  {
    "text": "case it's needed at some point after",
    "start": "1406220",
    "end": "1409039"
  },
  {
    "text": "and I finally you switch to the new",
    "start": "1409039",
    "end": "1410539"
  },
  {
    "text": "environment at some point so you verify",
    "start": "1410539",
    "end": "1412340"
  },
  {
    "text": "that your application is working with",
    "start": "1412340",
    "end": "1413780"
  },
  {
    "text": "the new data everything can connect",
    "start": "1413780",
    "end": "1415400"
  },
  {
    "text": "properly notify users and then finally",
    "start": "1415400",
    "end": "1418220"
  },
  {
    "text": "start routing traffic to your new",
    "start": "1418220",
    "end": "1419600"
  },
  {
    "text": "deployment",
    "start": "1419600",
    "end": "1421280"
  },
  {
    "text": "so some things to keep in mind",
    "start": "1421280",
    "end": "1422780"
  },
  {
    "text": "throughout the migration process so",
    "start": "1422780",
    "end": "1424880"
  },
  {
    "text": "quite a lot of time was spent on",
    "start": "1424880",
    "end": "1426200"
  },
  {
    "text": "prototyping and testing",
    "start": "1426200",
    "end": "1428059"
  },
  {
    "text": "and also a kubernetes version has about",
    "start": "1428059",
    "end": "1429980"
  },
  {
    "text": "one year of support so make sure that",
    "start": "1429980",
    "end": "1432500"
  },
  {
    "text": "you also test upgrading kubernetes and",
    "start": "1432500",
    "end": "1435320"
  },
  {
    "text": "include that as as part of of your",
    "start": "1435320",
    "end": "1438080"
  },
  {
    "text": "process and also considering test",
    "start": "1438080",
    "end": "1441320"
  },
  {
    "text": "existing use cases so talk to the user",
    "start": "1441320",
    "end": "1443659"
  },
  {
    "text": "so this is something we we did a lot my",
    "start": "1443659",
    "end": "1446419"
  },
  {
    "text": "team with the developers talking to",
    "start": "1446419",
    "end": "1448159"
  },
  {
    "text": "Daniel's team core Services who are The",
    "start": "1448159",
    "end": "1450440"
  },
  {
    "text": "Operators and making sure that",
    "start": "1450440",
    "end": "1451760"
  },
  {
    "text": "everything works",
    "start": "1451760",
    "end": "1453260"
  },
  {
    "text": "and then allocate some time to train",
    "start": "1453260",
    "end": "1455059"
  },
  {
    "text": "your teams and sure that it's easy to",
    "start": "1455059",
    "end": "1456740"
  },
  {
    "text": "use rollback changes if needed so if you",
    "start": "1456740",
    "end": "1459320"
  },
  {
    "text": "use something like githubs you can just",
    "start": "1459320",
    "end": "1460700"
  },
  {
    "text": "revert the commit if you committed",
    "start": "1460700",
    "end": "1462440"
  },
  {
    "text": "something that was wrong",
    "start": "1462440",
    "end": "1464000"
  },
  {
    "text": "and also something like Network policies",
    "start": "1464000",
    "end": "1466159"
  },
  {
    "text": "and role-based access control on the",
    "start": "1466159",
    "end": "1467600"
  },
  {
    "text": "Ingress configuration might need some",
    "start": "1467600",
    "end": "1468919"
  },
  {
    "text": "adjustment you can have pods that can't",
    "start": "1468919",
    "end": "1470480"
  },
  {
    "text": "connect to each other so it's good to",
    "start": "1470480",
    "end": "1472700"
  },
  {
    "text": "understand how how this component Works",
    "start": "1472700",
    "end": "1474860"
  },
  {
    "text": "in kubernetes",
    "start": "1474860",
    "end": "1476179"
  },
  {
    "text": "and I link to the documentation here if",
    "start": "1476179",
    "end": "1477980"
  },
  {
    "text": "you want to read more about it",
    "start": "1477980",
    "end": "1479600"
  },
  {
    "text": "and also be aware of internal networks",
    "start": "1479600",
    "end": "1481820"
  },
  {
    "text": "in a company if you have a company proxy",
    "start": "1481820",
    "end": "1483980"
  },
  {
    "text": "you may need to set this HTTP proxy or",
    "start": "1483980",
    "end": "1486799"
  },
  {
    "text": "https proxy or the lowercase version",
    "start": "1486799",
    "end": "1488960"
  },
  {
    "text": "this environment variable in your",
    "start": "1488960",
    "end": "1491539"
  },
  {
    "text": "virtual machines or where you're running",
    "start": "1491539",
    "end": "1493039"
  },
  {
    "text": "kubernetes and maybe also in your",
    "start": "1493039",
    "end": "1495679"
  },
  {
    "text": "applications or Helm charts so this",
    "start": "1495679",
    "end": "1497419"
  },
  {
    "text": "depends but if you have a strange",
    "start": "1497419",
    "end": "1498919"
  },
  {
    "text": "connection issue like you're not able to",
    "start": "1498919",
    "end": "1500860"
  },
  {
    "text": "like clone a git repository to your pod",
    "start": "1500860",
    "end": "1503600"
  },
  {
    "text": "for example then this might be something",
    "start": "1503600",
    "end": "1505340"
  },
  {
    "text": "to look into and help chart quality",
    "start": "1505340",
    "end": "1508100"
  },
  {
    "text": "varies a lot so again it's a matter of",
    "start": "1508100",
    "end": "1510200"
  },
  {
    "text": "really testing and trying it out and",
    "start": "1510200",
    "end": "1512480"
  },
  {
    "text": "seeing if it works for you and of course",
    "start": "1512480",
    "end": "1514880"
  },
  {
    "text": "setup monitoring and alerting and",
    "start": "1514880",
    "end": "1516500"
  },
  {
    "text": "dashboard to keep an eye on on your",
    "start": "1516500",
    "end": "1518360"
  },
  {
    "text": "applications to make sure they work",
    "start": "1518360",
    "end": "1520520"
  },
  {
    "text": "so as a summary start prototyping as",
    "start": "1520520",
    "end": "1522919"
  },
  {
    "text": "soon as possible because that's the only",
    "start": "1522919",
    "end": "1524360"
  },
  {
    "text": "way you can start figuring out what",
    "start": "1524360",
    "end": "1526400"
  },
  {
    "text": "problems you will hit and how to fix",
    "start": "1526400",
    "end": "1528140"
  },
  {
    "text": "them and set up a collaboration between",
    "start": "1528140",
    "end": "1529940"
  },
  {
    "text": "users and operations team so that you",
    "start": "1529940",
    "end": "1532700"
  },
  {
    "text": "can understand what use cases you have",
    "start": "1532700",
    "end": "1535039"
  },
  {
    "text": "and how to solve them and also evaluate",
    "start": "1535039",
    "end": "1538340"
  },
  {
    "text": "the decisions against the needs of your",
    "start": "1538340",
    "end": "1539840"
  },
  {
    "text": "team and organization because kubernetes",
    "start": "1539840",
    "end": "1542120"
  },
  {
    "text": "has quite big ecosystem so you may start",
    "start": "1542120",
    "end": "1545059"
  },
  {
    "text": "to make a lot of choices up front like",
    "start": "1545059",
    "end": "1547520"
  },
  {
    "text": "kubernetes clusters or namespaces for",
    "start": "1547520",
    "end": "1550159"
  },
  {
    "text": "users or what container network",
    "start": "1550159",
    "end": "1552140"
  },
  {
    "text": "interface should you have or what",
    "start": "1552140",
    "end": "1553760"
  },
  {
    "text": "permissions do the users have in the",
    "start": "1553760",
    "end": "1555440"
  },
  {
    "text": "cluster and usually a good thing is to",
    "start": "1555440",
    "end": "1558020"
  },
  {
    "text": "use a standard alternative unless you",
    "start": "1558020",
    "end": "1559760"
  },
  {
    "text": "have a reason not to for example if you",
    "start": "1559760",
    "end": "1561440"
  },
  {
    "text": "want a specific feature from your",
    "start": "1561440",
    "end": "1563179"
  },
  {
    "text": "networking plugging or if you do some",
    "start": "1563179",
    "end": "1564559"
  },
  {
    "text": "benchmarking",
    "start": "1564559",
    "end": "1565940"
  },
  {
    "text": "that's a that's a good reason to not use",
    "start": "1565940",
    "end": "1568159"
  },
  {
    "text": "standard attentive and ask for help in",
    "start": "1568159",
    "end": "1570320"
  },
  {
    "text": "the kubernetes and cncf slack instances",
    "start": "1570320",
    "end": "1572539"
  },
  {
    "text": "because there is thousands of people",
    "start": "1572539",
    "end": "1574100"
  },
  {
    "text": "there who are happy to help you",
    "start": "1574100",
    "end": "1576559"
  },
  {
    "text": "with any question and benefit from all",
    "start": "1576559",
    "end": "1578840"
  },
  {
    "text": "the automation possibilities that the",
    "start": "1578840",
    "end": "1580760"
  },
  {
    "text": "kubernetes ecosystem is offering and",
    "start": "1580760",
    "end": "1583580"
  },
  {
    "text": "finally become a kubernetes and present",
    "start": "1583580",
    "end": "1585620"
  },
  {
    "text": "what you did at cubecon and Cloud",
    "start": "1585620",
    "end": "1587360"
  },
  {
    "text": "nativecon",
    "start": "1587360",
    "end": "1588740"
  },
  {
    "text": "so yeah that's it for us if you're",
    "start": "1588740",
    "end": "1590960"
  },
  {
    "text": "interested in this we're actually hiring",
    "start": "1590960",
    "end": "1592580"
  },
  {
    "text": "and if you have any questions come talk",
    "start": "1592580",
    "end": "1594140"
  },
  {
    "text": "to us thank you",
    "start": "1594140",
    "end": "1597220"
  },
  {
    "text": "foreign",
    "start": "1597440",
    "end": "1599679"
  }
]