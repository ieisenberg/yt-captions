[
  {
    "text": "ready to talk about our back everybody's",
    "start": "0",
    "end": "2879"
  },
  {
    "text": "favorite subject right yes we love our",
    "start": "2879",
    "end": "5640"
  },
  {
    "text": "back",
    "start": "5640",
    "end": "6480"
  },
  {
    "text": "um I have candy imported straight from",
    "start": "6480",
    "end": "9840"
  },
  {
    "text": "Los Angeles uh for the best questions or",
    "start": "9840",
    "end": "13620"
  },
  {
    "text": "whoever wants it when we're done so I",
    "start": "13620",
    "end": "16198"
  },
  {
    "text": "was told Laffy Taffy Atomic Fireballs",
    "start": "16199",
    "end": "19980"
  },
  {
    "text": "yeah and that's it but yes please come",
    "start": "19980",
    "end": "22020"
  },
  {
    "text": "see me after the talk uh so we're going",
    "start": "22020",
    "end": "24539"
  },
  {
    "text": "to discuss",
    "start": "24539",
    "end": "25859"
  },
  {
    "text": "are back uh and hopefully we can have",
    "start": "25859",
    "end": "29460"
  },
  {
    "text": "fun while talking about our friend",
    "start": "29460",
    "end": "30779"
  },
  {
    "text": "role-based access control so if you want",
    "start": "30779",
    "end": "33059"
  },
  {
    "text": "the slides uh now later this you can go",
    "start": "33059",
    "end": "37320"
  },
  {
    "text": "to this tinyurl.com rbac Dash two dash",
    "start": "37320",
    "end": "42000"
  },
  {
    "text": "the dash future",
    "start": "42000",
    "end": "43739"
  },
  {
    "text": "um I promise it's not malware so we're",
    "start": "43739",
    "end": "45899"
  },
  {
    "text": "gonna not really talk about what",
    "start": "45899",
    "end": "47579"
  },
  {
    "text": "kubernetes is I assume we're good right",
    "start": "47579",
    "end": "50280"
  },
  {
    "text": "everybody talks about that uh we'll have",
    "start": "50280",
    "end": "52680"
  },
  {
    "text": "a one one slide one second and we'll",
    "start": "52680",
    "end": "54719"
  },
  {
    "text": "talk about that and why identity is so",
    "start": "54719",
    "end": "57600"
  },
  {
    "text": "freaking important these days right who",
    "start": "57600",
    "end": "60059"
  },
  {
    "text": "you are what you can do what you have",
    "start": "60059",
    "end": "61860"
  },
  {
    "text": "access to and why we're kind of uh",
    "start": "61860",
    "end": "65040"
  },
  {
    "text": "missing out in kubernetes there's a lot",
    "start": "65040",
    "end": "67380"
  },
  {
    "text": "of opportunity to do this better then",
    "start": "67380",
    "end": "70080"
  },
  {
    "text": "terminology roles cluster roles role",
    "start": "70080",
    "end": "72600"
  },
  {
    "text": "bindings verbs subjects all these things",
    "start": "72600",
    "end": "75360"
  },
  {
    "text": "that we may deal with every day and they",
    "start": "75360",
    "end": "77700"
  },
  {
    "text": "could be net new so we're going to just",
    "start": "77700",
    "end": "79439"
  },
  {
    "text": "cover that and then a little bit of the",
    "start": "79439",
    "end": "82439"
  },
  {
    "text": "authen auth C flow and most importantly",
    "start": "82439",
    "end": "85200"
  },
  {
    "text": "some gotchas",
    "start": "85200",
    "end": "86400"
  },
  {
    "text": "so uh I've given this talk one time",
    "start": "86400",
    "end": "88799"
  },
  {
    "text": "before uh like three months ago in",
    "start": "88799",
    "end": "91259"
  },
  {
    "text": "Norway and since then we have a new cve",
    "start": "91259",
    "end": "93420"
  },
  {
    "text": "that was released last week that's super",
    "start": "93420",
    "end": "95820"
  },
  {
    "text": "exciting along the lines of our back and",
    "start": "95820",
    "end": "98100"
  },
  {
    "text": "privilege escalation which is uh well",
    "start": "98100",
    "end": "100740"
  },
  {
    "text": "bad and good so let's dive in we know",
    "start": "100740",
    "end": "103560"
  },
  {
    "text": "what kubernetes is it's really really",
    "start": "103560",
    "end": "105659"
  },
  {
    "text": "important or we wouldn't be here we're",
    "start": "105659",
    "end": "107700"
  },
  {
    "text": "running it everywhere people access",
    "start": "107700",
    "end": "109200"
  },
  {
    "text": "kubernetes and robots do too right",
    "start": "109200",
    "end": "111960"
  },
  {
    "text": "service accounts or or programmatic",
    "start": "111960",
    "end": "114060"
  },
  {
    "text": "access",
    "start": "114060",
    "end": "114860"
  },
  {
    "text": "and that's enough about that so",
    "start": "114860",
    "end": "119100"
  },
  {
    "text": "identity is the new perimeter right we",
    "start": "119100",
    "end": "121320"
  },
  {
    "text": "have lots and lots of vendors downstairs",
    "start": "121320",
    "end": "123060"
  },
  {
    "text": "talking about just in time access and",
    "start": "123060",
    "end": "126479"
  },
  {
    "text": "kind of auditing access to things and",
    "start": "126479",
    "end": "128759"
  },
  {
    "text": "who you know zero trust we hear this",
    "start": "128759",
    "end": "131340"
  },
  {
    "text": "this phrase thrown around a lot but what",
    "start": "131340",
    "end": "134280"
  },
  {
    "text": "does that mean in kubernetes right and",
    "start": "134280",
    "end": "136800"
  },
  {
    "text": "it's kind of a complicated relationship",
    "start": "136800",
    "end": "139020"
  },
  {
    "text": "right just because you have a token or a",
    "start": "139020",
    "end": "142260"
  },
  {
    "text": "certificate or you have an IAM role or",
    "start": "142260",
    "end": "144780"
  },
  {
    "text": "something in your cloud provider that",
    "start": "144780",
    "end": "146879"
  },
  {
    "text": "doesn't mean you should automatically be",
    "start": "146879",
    "end": "148560"
  },
  {
    "text": "granted access to every single cluster",
    "start": "148560",
    "end": "150900"
  },
  {
    "text": "and have cluster admin so it's a very",
    "start": "150900",
    "end": "154260"
  },
  {
    "text": "um tangled web of configuration and",
    "start": "154260",
    "end": "156720"
  },
  {
    "text": "that's kind of why we're working on",
    "start": "156720",
    "end": "158400"
  },
  {
    "text": "untangling it um",
    "start": "158400",
    "end": "160200"
  },
  {
    "text": "I haven't even watched Back to the",
    "start": "160200",
    "end": "161940"
  },
  {
    "text": "Future in probably 10 years but I",
    "start": "161940",
    "end": "164280"
  },
  {
    "text": "thought it sounded good so there will be",
    "start": "164280",
    "end": "165780"
  },
  {
    "text": "references sprinkled throughout uh",
    "start": "165780",
    "end": "167640"
  },
  {
    "text": "hopefully you enjoy that",
    "start": "167640",
    "end": "169440"
  },
  {
    "text": "um",
    "start": "169440",
    "end": "170160"
  },
  {
    "text": "as Ben mentioned I am the Project Lead",
    "start": "170160",
    "end": "173160"
  },
  {
    "text": "for the owasp top 10 for kubernetes the",
    "start": "173160",
    "end": "175680"
  },
  {
    "text": "open web application security project",
    "start": "175680",
    "end": "178400"
  },
  {
    "text": "that doesn't sound very infrastructure",
    "start": "178400",
    "end": "180959"
  },
  {
    "text": "related but it's getting there right",
    "start": "180959",
    "end": "183239"
  },
  {
    "text": "we're starting to see developers who",
    "start": "183239",
    "end": "185220"
  },
  {
    "text": "kind of write application code be",
    "start": "185220",
    "end": "187200"
  },
  {
    "text": "involved in some of these decisions and",
    "start": "187200",
    "end": "189599"
  },
  {
    "text": "there was a real need and draw towards",
    "start": "189599",
    "end": "191580"
  },
  {
    "text": "this project and you can see the the top",
    "start": "191580",
    "end": "195480"
  },
  {
    "text": "10 over here and highlighted you'll see",
    "start": "195480",
    "end": "197400"
  },
  {
    "text": "overly permissive rbat configurations",
    "start": "197400",
    "end": "199980"
  },
  {
    "text": "that's because this is a big deal right",
    "start": "199980",
    "end": "202260"
  },
  {
    "text": "you've heard you know about this thing",
    "start": "202260",
    "end": "204840"
  },
  {
    "text": "called cluster admin I'm sure and some",
    "start": "204840",
    "end": "206940"
  },
  {
    "text": "of the built-in cluster roles and you",
    "start": "206940",
    "end": "208739"
  },
  {
    "text": "know using uh wild cards that's what",
    "start": "208739",
    "end": "211500"
  },
  {
    "text": "we're going to talk about today right",
    "start": "211500",
    "end": "212640"
  },
  {
    "text": "and it does make the top ten I'd argue",
    "start": "212640",
    "end": "214440"
  },
  {
    "text": "it's even higher but that's where",
    "start": "214440",
    "end": "216780"
  },
  {
    "text": "it's where it landed when it was first",
    "start": "216780",
    "end": "218400"
  },
  {
    "text": "created so uh what time will tell please",
    "start": "218400",
    "end": "220799"
  },
  {
    "text": "visit the project and contribute add",
    "start": "220799",
    "end": "223920"
  },
  {
    "text": "comments uh pull requests Etc",
    "start": "223920",
    "end": "226860"
  },
  {
    "text": "so let's talk about kind of the flow of",
    "start": "226860",
    "end": "230340"
  },
  {
    "text": "getting access to kubernetes right",
    "start": "230340",
    "end": "233280"
  },
  {
    "text": "um and there's a number of ways we do",
    "start": "233280",
    "end": "235080"
  },
  {
    "text": "this but it kind of boils down to the",
    "start": "235080",
    "end": "236819"
  },
  {
    "text": "API server this is probably a flow",
    "start": "236819",
    "end": "239340"
  },
  {
    "text": "you've seen before but you can see up",
    "start": "239340",
    "end": "241860"
  },
  {
    "text": "top we have you know Cube cuddle Cube",
    "start": "241860",
    "end": "243720"
  },
  {
    "text": "CTL access these are humans kind of",
    "start": "243720",
    "end": "245940"
  },
  {
    "text": "debugging things creating pods Etc we",
    "start": "245940",
    "end": "249060"
  },
  {
    "text": "have service accounts typically",
    "start": "249060",
    "end": "251000"
  },
  {
    "text": "programmatic access of things from the",
    "start": "251000",
    "end": "253560"
  },
  {
    "text": "outside or inside that need to talk you",
    "start": "253560",
    "end": "255959"
  },
  {
    "text": "know retrieve data from kubernetes the",
    "start": "255959",
    "end": "257880"
  },
  {
    "text": "cluster itself things like client go you",
    "start": "257880",
    "end": "261660"
  },
  {
    "text": "know the gist is there's a variety of",
    "start": "261660",
    "end": "263580"
  },
  {
    "text": "ways to talk to the API server and get",
    "start": "263580",
    "end": "266400"
  },
  {
    "text": "the job done that you need to get done",
    "start": "266400",
    "end": "268040"
  },
  {
    "text": "and the kind of magic happens at inside",
    "start": "268040",
    "end": "272160"
  },
  {
    "text": "of the API server right at first you see",
    "start": "272160",
    "end": "274440"
  },
  {
    "text": "hey is this even a valid user do they",
    "start": "274440",
    "end": "276960"
  },
  {
    "text": "have the right credential to be",
    "start": "276960",
    "end": "278460"
  },
  {
    "text": "requesting this sort of thing and a",
    "start": "278460",
    "end": "280620"
  },
  {
    "text": "little bit later in the talk hopefully",
    "start": "280620",
    "end": "283020"
  },
  {
    "text": "we get there we're going to talk about",
    "start": "283020",
    "end": "284160"
  },
  {
    "text": "how kind of a case study I guess about",
    "start": "284160",
    "end": "286380"
  },
  {
    "text": "how 8 AWS is eks kind of authentication",
    "start": "286380",
    "end": "290759"
  },
  {
    "text": "authorization flow works because it's",
    "start": "290759",
    "end": "292620"
  },
  {
    "text": "it's pretty wild like if you actually",
    "start": "292620",
    "end": "294240"
  },
  {
    "text": "deconstruct it and blow it up and then",
    "start": "294240",
    "end": "296940"
  },
  {
    "text": "the second step authorization right",
    "start": "296940",
    "end": "299160"
  },
  {
    "text": "that's what we're going to be focusing",
    "start": "299160",
    "end": "300840"
  },
  {
    "text": "most of our time today uh authentication",
    "start": "300840",
    "end": "303540"
  },
  {
    "text": "different talk different day different",
    "start": "303540",
    "end": "305759"
  },
  {
    "text": "beasts right authorization is really",
    "start": "305759",
    "end": "308580"
  },
  {
    "text": "what can this entity do right and and",
    "start": "308580",
    "end": "312479"
  },
  {
    "text": "and that's a really important step in",
    "start": "312479",
    "end": "315240"
  },
  {
    "text": "this flow and then we have our friend",
    "start": "315240",
    "end": "316979"
  },
  {
    "text": "emission control right policies that",
    "start": "316979",
    "end": "319139"
  },
  {
    "text": "govern the request do we accept this",
    "start": "319139",
    "end": "321600"
  },
  {
    "text": "type of workload to be scheduled on to",
    "start": "321600",
    "end": "323880"
  },
  {
    "text": "the cluster itself and then obviously",
    "start": "323880",
    "end": "326940"
  },
  {
    "text": "etcd persistence and and things being",
    "start": "326940",
    "end": "329460"
  },
  {
    "text": "scheduled on the Node but for today the",
    "start": "329460",
    "end": "331979"
  },
  {
    "text": "middle box uh auth C is really important",
    "start": "331979",
    "end": "334740"
  },
  {
    "text": "to us",
    "start": "334740",
    "end": "336120"
  },
  {
    "text": "so authorization in kubernetes",
    "start": "336120",
    "end": "339419"
  },
  {
    "text": "can be called role-based access control",
    "start": "339419",
    "end": "341759"
  },
  {
    "text": "or what we would just say are back right",
    "start": "341759",
    "end": "343979"
  },
  {
    "text": "and this is a very fine-grained",
    "start": "343979",
    "end": "346039"
  },
  {
    "text": "configuration that you the operator",
    "start": "346039",
    "end": "349199"
  },
  {
    "text": "somebody who's built the cluster",
    "start": "349199",
    "end": "350820"
  },
  {
    "text": "maintains the cluster may be in",
    "start": "350820",
    "end": "352380"
  },
  {
    "text": "partnership with the security team needs",
    "start": "352380",
    "end": "354539"
  },
  {
    "text": "to scope down to you know limit access",
    "start": "354539",
    "end": "357479"
  },
  {
    "text": "to service accounts humans Etc and",
    "start": "357479",
    "end": "361440"
  },
  {
    "text": "um it sounds easy in practice until you",
    "start": "361440",
    "end": "363960"
  },
  {
    "text": "realize the different pieces that make",
    "start": "363960",
    "end": "365580"
  },
  {
    "text": "up our back right",
    "start": "365580",
    "end": "367639"
  },
  {
    "text": "and at the end of the day you need to",
    "start": "367639",
    "end": "370259"
  },
  {
    "text": "access kubernetes right there's some",
    "start": "370259",
    "end": "372060"
  },
  {
    "text": "some Engineers somewhere some service",
    "start": "372060",
    "end": "374280"
  },
  {
    "text": "account some dashboard that needs to",
    "start": "374280",
    "end": "376919"
  },
  {
    "text": "talk to the API do the thing it needs to",
    "start": "376919",
    "end": "379259"
  },
  {
    "text": "do and we have to grant that access and",
    "start": "379259",
    "end": "381600"
  },
  {
    "text": "nothing more right this is our favorite",
    "start": "381600",
    "end": "383220"
  },
  {
    "text": "term uh least privilege access right",
    "start": "383220",
    "end": "385979"
  },
  {
    "text": "which is pretty hard as we'll see",
    "start": "385979",
    "end": "388500"
  },
  {
    "text": "throughout this journey So within the",
    "start": "388500",
    "end": "391919"
  },
  {
    "text": "rbac ecosystem we have",
    "start": "391919",
    "end": "394319"
  },
  {
    "text": "three kind of main components right and",
    "start": "394319",
    "end": "397139"
  },
  {
    "text": "we're really just constructing a",
    "start": "397139",
    "end": "399120"
  },
  {
    "text": "collection of these when we build an",
    "start": "399120",
    "end": "400560"
  },
  {
    "text": "rbac policy it's not a single file it's",
    "start": "400560",
    "end": "403199"
  },
  {
    "text": "not usually a single yaml file",
    "start": "403199",
    "end": "405360"
  },
  {
    "text": "especially but it's a collection of",
    "start": "405360",
    "end": "407280"
  },
  {
    "text": "these right so you have users which can",
    "start": "407280",
    "end": "409380"
  },
  {
    "text": "be humans or machines right Jimmy",
    "start": "409380",
    "end": "412220"
  },
  {
    "text": "ksoc.com or a service account that you",
    "start": "412220",
    "end": "414900"
  },
  {
    "text": "know the kubernetes dashboard something",
    "start": "414900",
    "end": "416460"
  },
  {
    "text": "like that we have resources right",
    "start": "416460",
    "end": "418740"
  },
  {
    "text": "there's lots of these this is not a",
    "start": "418740",
    "end": "420960"
  },
  {
    "text": "comprehensive list this is what's",
    "start": "420960",
    "end": "422880"
  },
  {
    "text": "available in that given version of",
    "start": "422880",
    "end": "424319"
  },
  {
    "text": "kubernetes that the API has for us to",
    "start": "424319",
    "end": "427020"
  },
  {
    "text": "you know interrogate or or talk to",
    "start": "427020",
    "end": "429560"
  },
  {
    "text": "namespaces pods deployments Etc and then",
    "start": "429560",
    "end": "433080"
  },
  {
    "text": "operations right these are pretty much",
    "start": "433080",
    "end": "435120"
  },
  {
    "text": "like HTTP verbs that we are performing",
    "start": "435120",
    "end": "437819"
  },
  {
    "text": "on the kubernetes API server so you know",
    "start": "437819",
    "end": "440699"
  },
  {
    "text": "simply put our back is combining these",
    "start": "440699",
    "end": "443099"
  },
  {
    "text": "together in some logical way to give a",
    "start": "443099",
    "end": "445919"
  },
  {
    "text": "person or machine access to the",
    "start": "445919",
    "end": "448860"
  },
  {
    "text": "resources that it needs",
    "start": "448860",
    "end": "451139"
  },
  {
    "text": "so some of the terminology maybe you've",
    "start": "451139",
    "end": "454440"
  },
  {
    "text": "seen these maybe you haven't but we have",
    "start": "454440",
    "end": "456360"
  },
  {
    "text": "roles cluster roles role bindings and",
    "start": "456360",
    "end": "458099"
  },
  {
    "text": "cluster role bindings sorry there's the",
    "start": "458099",
    "end": "460319"
  },
  {
    "text": "ammo at 5 30 PM that you have to look at",
    "start": "460319",
    "end": "463319"
  },
  {
    "text": "on the screen uh I know you didn't plan",
    "start": "463319",
    "end": "465960"
  },
  {
    "text": "for that you could be out having fun or",
    "start": "465960",
    "end": "468180"
  },
  {
    "text": "or you know partying but um roles really",
    "start": "468180",
    "end": "471300"
  },
  {
    "text": "are built to give you that you know verb",
    "start": "471300",
    "end": "474240"
  },
  {
    "text": "and resource connection and they're",
    "start": "474240",
    "end": "476099"
  },
  {
    "text": "typically tied to a namespace there are",
    "start": "476099",
    "end": "478800"
  },
  {
    "text": "nuances here we're going to keep this",
    "start": "478800",
    "end": "480720"
  },
  {
    "text": "pretty simple but for you know for for",
    "start": "480720",
    "end": "483300"
  },
  {
    "text": "example's sake we have pod reader and we",
    "start": "483300",
    "end": "486419"
  },
  {
    "text": "want to you know well this is going to",
    "start": "486419",
    "end": "488340"
  },
  {
    "text": "do more than read pods so it's already",
    "start": "488340",
    "end": "490860"
  },
  {
    "text": "going to fail the audit but this is a",
    "start": "490860",
    "end": "494099"
  },
  {
    "text": "wild card or star on all resources and",
    "start": "494099",
    "end": "496979"
  },
  {
    "text": "it's going to allow git watch and list",
    "start": "496979",
    "end": "498900"
  },
  {
    "text": "right we don't have denies here it's",
    "start": "498900",
    "end": "501060"
  },
  {
    "text": "it's allow and that's it and as we kind",
    "start": "501060",
    "end": "503639"
  },
  {
    "text": "of keep going down the path right we",
    "start": "503639",
    "end": "505620"
  },
  {
    "text": "have cluster roles right you you see",
    "start": "505620",
    "end": "508199"
  },
  {
    "text": "this is fairly similar it's called a",
    "start": "508199",
    "end": "510120"
  },
  {
    "text": "cluster role but it's not um it's",
    "start": "510120",
    "end": "513240"
  },
  {
    "text": "actually tied to the entire cluster and",
    "start": "513240",
    "end": "515940"
  },
  {
    "text": "then we bind these roles and cluster",
    "start": "515940",
    "end": "517919"
  },
  {
    "text": "roles through the use of roll bindings",
    "start": "517919",
    "end": "520020"
  },
  {
    "text": "and cluster role bindings right so kind",
    "start": "520020",
    "end": "522180"
  },
  {
    "text": "of two separate objects in in kubernetes",
    "start": "522180",
    "end": "524279"
  },
  {
    "text": "and we want to take Jimmy as a subject",
    "start": "524279",
    "end": "527700"
  },
  {
    "text": "or Jimmy as part of this group or um you",
    "start": "527700",
    "end": "531420"
  },
  {
    "text": "know you know a service account and we",
    "start": "531420",
    "end": "533100"
  },
  {
    "text": "want to bind that entity to that role or",
    "start": "533100",
    "end": "536279"
  },
  {
    "text": "cluster role right so here you see this",
    "start": "536279",
    "end": "538860"
  },
  {
    "text": "user Jane is now bound to the role pod",
    "start": "538860",
    "end": "541380"
  },
  {
    "text": "reader that completes the loop so now we",
    "start": "541380",
    "end": "544320"
  },
  {
    "text": "have the ability for Jane in this",
    "start": "544320",
    "end": "546300"
  },
  {
    "text": "example to do everything that's",
    "start": "546300",
    "end": "548779"
  },
  {
    "text": "encompassed in that pod reader role",
    "start": "548779",
    "end": "551640"
  },
  {
    "text": "great okay Jane Jane can do what Jane",
    "start": "551640",
    "end": "554220"
  },
  {
    "text": "needs to do similar for cluster role",
    "start": "554220",
    "end": "556500"
  },
  {
    "text": "binding right I think I think we get the",
    "start": "556500",
    "end": "558480"
  },
  {
    "text": "gist you can do things scope down to",
    "start": "558480",
    "end": "560339"
  },
  {
    "text": "namespace but you can also keep it",
    "start": "560339",
    "end": "562380"
  },
  {
    "text": "cluster wide so kind of best practice",
    "start": "562380",
    "end": "564540"
  },
  {
    "text": "tip number one",
    "start": "564540",
    "end": "566880"
  },
  {
    "text": "I would probably limit the use of",
    "start": "566880",
    "end": "568440"
  },
  {
    "text": "cluster roles and cluster role bindings",
    "start": "568440",
    "end": "570060"
  },
  {
    "text": "right your cluster is has lots of",
    "start": "570060",
    "end": "572459"
  },
  {
    "text": "namespaces in it this encompasses the",
    "start": "572459",
    "end": "574500"
  },
  {
    "text": "cube system namespace this also includes",
    "start": "574500",
    "end": "577140"
  },
  {
    "text": "the default namespace and the istio",
    "start": "577140",
    "end": "579300"
  },
  {
    "text": "namespace whatever you're running so you",
    "start": "579300",
    "end": "581279"
  },
  {
    "text": "automatically bring all of that into",
    "start": "581279",
    "end": "583620"
  },
  {
    "text": "your policy right so when possible",
    "start": "583620",
    "end": "586200"
  },
  {
    "text": "we should use roles and and role",
    "start": "586200",
    "end": "588420"
  },
  {
    "text": "bindings versus cluster roles and",
    "start": "588420",
    "end": "590040"
  },
  {
    "text": "cluster role bindings",
    "start": "590040",
    "end": "591420"
  },
  {
    "text": "and kubernetes gives us some of these",
    "start": "591420",
    "end": "593220"
  },
  {
    "text": "out of the box",
    "start": "593220",
    "end": "594540"
  },
  {
    "text": "um",
    "start": "594540",
    "end": "595620"
  },
  {
    "text": "you can likely guess which one's most",
    "start": "595620",
    "end": "597839"
  },
  {
    "text": "dangerous uh and most of the time uh we",
    "start": "597839",
    "end": "601560"
  },
  {
    "text": "do a lot of audits for our back um been",
    "start": "601560",
    "end": "604080"
  },
  {
    "text": "doing doing this for a long time and",
    "start": "604080",
    "end": "606660"
  },
  {
    "text": "it's surprising how many folks kind of",
    "start": "606660",
    "end": "609540"
  },
  {
    "text": "just fall back on the our good friend",
    "start": "609540",
    "end": "611459"
  },
  {
    "text": "cluster admin at the top have we ever",
    "start": "611459",
    "end": "613320"
  },
  {
    "text": "used cluster admin",
    "start": "613320",
    "end": "616320"
  },
  {
    "text": "no um this is this is every this is this",
    "start": "616320",
    "end": "620459"
  },
  {
    "text": "is all you need to do everything",
    "start": "620459",
    "end": "621959"
  },
  {
    "text": "possible Under the Sun in your",
    "start": "621959",
    "end": "623580"
  },
  {
    "text": "kubernetes cluster right it's it's",
    "start": "623580",
    "end": "625620"
  },
  {
    "text": "necessary probably",
    "start": "625620",
    "end": "627779"
  },
  {
    "text": "um it's kind of like your AWS root",
    "start": "627779",
    "end": "629700"
  },
  {
    "text": "account",
    "start": "629700",
    "end": "630779"
  },
  {
    "text": "um it is just wild cards or uh as my",
    "start": "630779",
    "end": "634500"
  },
  {
    "text": "co-worker calls it the five-star review",
    "start": "634500",
    "end": "636480"
  },
  {
    "text": "right it has star star star star star",
    "start": "636480",
    "end": "639300"
  },
  {
    "text": "um and it should be used very sparingly",
    "start": "639300",
    "end": "642000"
  },
  {
    "text": "if at all uh and then we have admin edit",
    "start": "642000",
    "end": "645360"
  },
  {
    "text": "and view Each of which have their place",
    "start": "645360",
    "end": "647940"
  },
  {
    "text": "and these are really good uh getting",
    "start": "647940",
    "end": "650279"
  },
  {
    "text": "started sort of placeholders right",
    "start": "650279",
    "end": "652040"
  },
  {
    "text": "oftentimes we want to scope down",
    "start": "652040",
    "end": "654180"
  },
  {
    "text": "permission so we'll give developers edit",
    "start": "654180",
    "end": "656700"
  },
  {
    "text": "right read write access to most objects",
    "start": "656700",
    "end": "658860"
  },
  {
    "text": "in a namespace that couldn't be more",
    "start": "658860",
    "end": "660660"
  },
  {
    "text": "vague",
    "start": "660660",
    "end": "661560"
  },
  {
    "text": "um so we we also want to do better than",
    "start": "661560",
    "end": "663959"
  },
  {
    "text": "this right and that's kind of what we'll",
    "start": "663959",
    "end": "665339"
  },
  {
    "text": "dive into uh the other you know there's",
    "start": "665339",
    "end": "667860"
  },
  {
    "text": "a really good reference here written by",
    "start": "667860",
    "end": "669660"
  },
  {
    "text": "some awesome folks uh I love the title",
    "start": "669660",
    "end": "672600"
  },
  {
    "text": "of it it's it's an official kubernetes",
    "start": "672600",
    "end": "674220"
  },
  {
    "text": "Doc uh called our back good practices",
    "start": "674220",
    "end": "676380"
  },
  {
    "text": "because I think we want to get away from",
    "start": "676380",
    "end": "678120"
  },
  {
    "text": "the term best practices potentially",
    "start": "678120",
    "end": "679940"
  },
  {
    "text": "that's a really good reference for some",
    "start": "679940",
    "end": "682560"
  },
  {
    "text": "of these things to help you kind of",
    "start": "682560",
    "end": "684060"
  },
  {
    "text": "deconstruct what's going on",
    "start": "684060",
    "end": "687240"
  },
  {
    "text": "what's wrong with this picture",
    "start": "687240",
    "end": "690440"
  },
  {
    "text": "is this a good a good uh snippet of yaml",
    "start": "691680",
    "end": "697100"
  },
  {
    "text": "no why why is it not good",
    "start": "697200",
    "end": "700500"
  },
  {
    "text": "sounds it sounds like the service",
    "start": "700500",
    "end": "702000"
  },
  {
    "text": "account can do the job it needs to do",
    "start": "702000",
    "end": "703860"
  },
  {
    "text": "though",
    "start": "703860",
    "end": "705839"
  },
  {
    "text": "yeah cluster admin yeah you're welcome",
    "start": "705839",
    "end": "708600"
  },
  {
    "text": "to some candy after the talk uh yeah so",
    "start": "708600",
    "end": "711959"
  },
  {
    "text": "um I I actually didn't think this would",
    "start": "711959",
    "end": "714060"
  },
  {
    "text": "be a packed housear I would have",
    "start": "714060",
    "end": "715200"
  },
  {
    "text": "definitely brought more so what's going",
    "start": "715200",
    "end": "717240"
  },
  {
    "text": "on here we have a cluster roll binding",
    "start": "717240",
    "end": "718980"
  },
  {
    "text": "called redacted Dash R back",
    "start": "718980",
    "end": "722279"
  },
  {
    "text": "um and we have some subjects right what",
    "start": "722279",
    "end": "725519"
  },
  {
    "text": "is the default what's the default",
    "start": "725519",
    "end": "727140"
  },
  {
    "text": "service account in the default namespace",
    "start": "727140",
    "end": "728880"
  },
  {
    "text": "if we encountered this special little",
    "start": "728880",
    "end": "731760"
  },
  {
    "text": "kubernetes feature",
    "start": "731760",
    "end": "733860"
  },
  {
    "text": "yeah so it's a it's a service account",
    "start": "733860",
    "end": "736140"
  },
  {
    "text": "that is there's one of them in every",
    "start": "736140",
    "end": "738060"
  },
  {
    "text": "single namespace it's just available you",
    "start": "738060",
    "end": "739860"
  },
  {
    "text": "just use it",
    "start": "739860",
    "end": "741360"
  },
  {
    "text": "um you can you can grab it from pretty",
    "start": "741360",
    "end": "743160"
  },
  {
    "text": "much any pod that spins up unless you",
    "start": "743160",
    "end": "745260"
  },
  {
    "text": "tell it otherwise and this is in the",
    "start": "745260",
    "end": "747720"
  },
  {
    "text": "default namespace which is even more",
    "start": "747720",
    "end": "750060"
  },
  {
    "text": "sketchy and it's actually bound to what",
    "start": "750060",
    "end": "752760"
  },
  {
    "text": "the cluster role of cluster Dash admin",
    "start": "752760",
    "end": "755040"
  },
  {
    "text": "so imagine you're in in a position where",
    "start": "755040",
    "end": "757740"
  },
  {
    "text": "you have a web application running and",
    "start": "757740",
    "end": "759420"
  },
  {
    "text": "the default namespace you have you have",
    "start": "759420",
    "end": "762180"
  },
  {
    "text": "mounted this this service account into",
    "start": "762180",
    "end": "764160"
  },
  {
    "text": "every pod remote code execution happens",
    "start": "764160",
    "end": "766980"
  },
  {
    "text": "or somebody accesses the file system",
    "start": "766980",
    "end": "768779"
  },
  {
    "text": "they take that token and present it back",
    "start": "768779",
    "end": "771600"
  },
  {
    "text": "to the kubernetes API server who are",
    "start": "771600",
    "end": "773760"
  },
  {
    "text": "they",
    "start": "773760",
    "end": "774660"
  },
  {
    "text": "cluster admin right like that's not a",
    "start": "774660",
    "end": "777300"
  },
  {
    "text": "good blast radius right that's a pretty",
    "start": "777300",
    "end": "779700"
  },
  {
    "text": "bad situation and if you if you were at",
    "start": "779700",
    "end": "782700"
  },
  {
    "text": "kubecon",
    "start": "782700",
    "end": "783839"
  },
  {
    "text": "um in San Diego in 2019 we did a you",
    "start": "783839",
    "end": "787260"
  },
  {
    "text": "know 90 minute workshop on you know some",
    "start": "787260",
    "end": "789779"
  },
  {
    "text": "of this that we have lots and lots of",
    "start": "789779",
    "end": "791880"
  },
  {
    "text": "lots of documentation about this so",
    "start": "791880",
    "end": "794399"
  },
  {
    "text": "um this is the kind of audit you need to",
    "start": "794399",
    "end": "795959"
  },
  {
    "text": "do in in your organization uh and and",
    "start": "795959",
    "end": "798600"
  },
  {
    "text": "kubernetes doesn't necessarily make that",
    "start": "798600",
    "end": "800519"
  },
  {
    "text": "easy so we want to try to aggregate our",
    "start": "800519",
    "end": "803459"
  },
  {
    "text": "permissions when possible",
    "start": "803459",
    "end": "805200"
  },
  {
    "text": "there's some open source tooling um",
    "start": "805200",
    "end": "808380"
  },
  {
    "text": "you know our back tool from Al seed and",
    "start": "808380",
    "end": "811680"
  },
  {
    "text": "and rakis we have crane we've built in",
    "start": "811680",
    "end": "815040"
  },
  {
    "text": "our back aggregation and visualization",
    "start": "815040",
    "end": "816720"
  },
  {
    "text": "tool that handles a lot of this for you",
    "start": "816720",
    "end": "819779"
  },
  {
    "text": "um there's you know crew plug-ins",
    "start": "819779",
    "end": "821579"
  },
  {
    "text": "there's you know you can do Cube CTL uh",
    "start": "821579",
    "end": "825779"
  },
  {
    "text": "can I command which is a attacker's best",
    "start": "825779",
    "end": "828660"
  },
  {
    "text": "friend but the the long the kind of long",
    "start": "828660",
    "end": "832079"
  },
  {
    "text": "story short is like this is pretty hard",
    "start": "832079",
    "end": "833880"
  },
  {
    "text": "to get to the root of who has access to",
    "start": "833880",
    "end": "835920"
  },
  {
    "text": "what right if a security person had this",
    "start": "835920",
    "end": "838500"
  },
  {
    "text": "information that would be very surprised",
    "start": "838500",
    "end": "840480"
  },
  {
    "text": "with the level of openness that is uh",
    "start": "840480",
    "end": "843600"
  },
  {
    "text": "existing in inside of kubernetes",
    "start": "843600",
    "end": "847079"
  },
  {
    "text": "so this was a contribution to the OAS",
    "start": "847079",
    "end": "849420"
  },
  {
    "text": "top 10 time check um not too long ago",
    "start": "849420",
    "end": "852600"
  },
  {
    "text": "that I thought you know it's it's also",
    "start": "852600",
    "end": "854880"
  },
  {
    "text": "made it into the rbac best practices",
    "start": "854880",
    "end": "856680"
  },
  {
    "text": "guide but we have to be really careful",
    "start": "856680",
    "end": "858899"
  },
  {
    "text": "with",
    "start": "858899",
    "end": "859920"
  },
  {
    "text": "um with list and watch as verbs right",
    "start": "859920",
    "end": "862920"
  },
  {
    "text": "you would assume when you do kind of",
    "start": "862920",
    "end": "865139"
  },
  {
    "text": "this Cube CTL get Secrets command you're",
    "start": "865139",
    "end": "869100"
  },
  {
    "text": "going to print out a list of the secrets",
    "start": "869100",
    "end": "871260"
  },
  {
    "text": "that are available but under the hood",
    "start": "871260",
    "end": "873540"
  },
  {
    "text": "you can actually access the contents of",
    "start": "873540",
    "end": "876480"
  },
  {
    "text": "those Secrets right",
    "start": "876480",
    "end": "878100"
  },
  {
    "text": "um and that could be misleading it's not",
    "start": "878100",
    "end": "880320"
  },
  {
    "text": "really a bug in kubernetes it's not",
    "start": "880320",
    "end": "882060"
  },
  {
    "text": "really a vulnerability it's just how",
    "start": "882060",
    "end": "884279"
  },
  {
    "text": "these verbs work and you won't always be",
    "start": "884279",
    "end": "886860"
  },
  {
    "text": "super clear on the output of git or",
    "start": "886860",
    "end": "890399"
  },
  {
    "text": "specifically list and watch so there's a",
    "start": "890399",
    "end": "893279"
  },
  {
    "text": "a longer write-up in the kubernetes best",
    "start": "893279",
    "end": "895740"
  },
  {
    "text": "practices guide but also the obos top 10",
    "start": "895740",
    "end": "898019"
  },
  {
    "text": "has a really detailed kind of how to do",
    "start": "898019",
    "end": "900899"
  },
  {
    "text": "this exactly and it's kind of",
    "start": "900899",
    "end": "902820"
  },
  {
    "text": "eye-opening when you show people like",
    "start": "902820",
    "end": "904199"
  },
  {
    "text": "well you know I don't want to see the",
    "start": "904199",
    "end": "906060"
  },
  {
    "text": "contents of every Secret across all",
    "start": "906060",
    "end": "908100"
  },
  {
    "text": "namespaces because I granted this one",
    "start": "908100",
    "end": "910680"
  },
  {
    "text": "permission right",
    "start": "910680",
    "end": "912779"
  },
  {
    "text": "um and you can see here this is you know",
    "start": "912779",
    "end": "914579"
  },
  {
    "text": "if you see something like this and I'll",
    "start": "914579",
    "end": "916440"
  },
  {
    "text": "show you a cve that kind of surfaced in",
    "start": "916440",
    "end": "918720"
  },
  {
    "text": "in sort of this vein recently with like",
    "start": "918720",
    "end": "921600"
  },
  {
    "text": "list Secrets right this would be",
    "start": "921600",
    "end": "923820"
  },
  {
    "text": "something in human language when I see",
    "start": "923820",
    "end": "926820"
  },
  {
    "text": "lists and secrets I would just want to",
    "start": "926820",
    "end": "928800"
  },
  {
    "text": "see the names of the secrets probably",
    "start": "928800",
    "end": "930540"
  },
  {
    "text": "but if you run a curl command instead of",
    "start": "930540",
    "end": "933899"
  },
  {
    "text": "cube CTL or if you do",
    "start": "933899",
    "end": "937139"
  },
  {
    "text": "um uh Dash capital a dash o yaml you're",
    "start": "937139",
    "end": "940260"
  },
  {
    "text": "actually going to print the contents out",
    "start": "940260",
    "end": "941760"
  },
  {
    "text": "even if you only have that watch or List",
    "start": "941760",
    "end": "944160"
  },
  {
    "text": "verb so a little misleading",
    "start": "944160",
    "end": "946800"
  },
  {
    "text": "um and it's it's under documented and",
    "start": "946800",
    "end": "949139"
  },
  {
    "text": "it's one of the things that it's really",
    "start": "949139",
    "end": "950820"
  },
  {
    "text": "really hard to detect",
    "start": "950820",
    "end": "953339"
  },
  {
    "text": "um so this was a recent cve as of last",
    "start": "953339",
    "end": "956100"
  },
  {
    "text": "week that uh that Cube FS which is a",
    "start": "956100",
    "end": "959160"
  },
  {
    "text": "cncf project nothing against Cube FS",
    "start": "959160",
    "end": "961620"
  },
  {
    "text": "this is it's not really the point here",
    "start": "961620",
    "end": "963540"
  },
  {
    "text": "the the point is that we're starting to",
    "start": "963540",
    "end": "966480"
  },
  {
    "text": "see this surface in cve output which is",
    "start": "966480",
    "end": "969000"
  },
  {
    "text": "super interesting right because I",
    "start": "969000",
    "end": "971100"
  },
  {
    "text": "wouldn't see this as like it's not like",
    "start": "971100",
    "end": "972720"
  },
  {
    "text": "a zero day this is just what Cube FS",
    "start": "972720",
    "end": "975060"
  },
  {
    "text": "asked to do when you do your Helm",
    "start": "975060",
    "end": "978240"
  },
  {
    "text": "install Cube FS into your cluster you",
    "start": "978240",
    "end": "981779"
  },
  {
    "text": "don't actually read the rbac that's",
    "start": "981779",
    "end": "984120"
  },
  {
    "text": "included probably you should but um not",
    "start": "984120",
    "end": "987120"
  },
  {
    "text": "many folks are out there doing a code",
    "start": "987120",
    "end": "988740"
  },
  {
    "text": "audit of what they're installing and",
    "start": "988740",
    "end": "990959"
  },
  {
    "text": "this is a snippet from what Cube FS uh",
    "start": "990959",
    "end": "994860"
  },
  {
    "text": "what their Daemon set needs Secrets get",
    "start": "994860",
    "end": "997860"
  },
  {
    "text": "and list right which is kind of right",
    "start": "997860",
    "end": "999959"
  },
  {
    "text": "back to that example before so the cube",
    "start": "999959",
    "end": "1003199"
  },
  {
    "text": "FS Damon set running in your cluster via",
    "start": "1003199",
    "end": "1006079"
  },
  {
    "text": "our back can access all your secrets all",
    "start": "1006079",
    "end": "1008540"
  },
  {
    "text": "the contents of your secrets it'd be the",
    "start": "1008540",
    "end": "1010639"
  },
  {
    "text": "same as doing you know it'd be the same",
    "start": "1010639",
    "end": "1012680"
  },
  {
    "text": "as dumping them straight from SCD pretty",
    "start": "1012680",
    "end": "1014720"
  },
  {
    "text": "much which was somebody deemed it bad",
    "start": "1014720",
    "end": "1017959"
  },
  {
    "text": "enough to create a cve so that's going",
    "start": "1017959",
    "end": "1020600"
  },
  {
    "text": "to keep happening and we're going to see",
    "start": "1020600",
    "end": "1022579"
  },
  {
    "text": "more and more of this as folks audit",
    "start": "1022579",
    "end": "1025280"
  },
  {
    "text": "third party",
    "start": "1025280",
    "end": "1026780"
  },
  {
    "text": "um sort of Helm charts and open source",
    "start": "1026780",
    "end": "1028760"
  },
  {
    "text": "projects that run in your cluster",
    "start": "1028760",
    "end": "1031699"
  },
  {
    "text": "you can use",
    "start": "1031699",
    "end": "1033380"
  },
  {
    "text": "um it's a little hard to see but you can",
    "start": "1033380",
    "end": "1035058"
  },
  {
    "text": "detect some of this stuff right these",
    "start": "1035059",
    "end": "1037040"
  },
  {
    "text": "are just manifests that exist as yaml",
    "start": "1037040",
    "end": "1039319"
  },
  {
    "text": "whether that's in Ci or whether that's",
    "start": "1039319",
    "end": "1041839"
  },
  {
    "text": "in cluster",
    "start": "1041839",
    "end": "1043520"
  },
  {
    "text": "good start is using something like open",
    "start": "1043520",
    "end": "1045438"
  },
  {
    "text": "policy agent or kivarno or or or ksoc to",
    "start": "1045439",
    "end": "1051320"
  },
  {
    "text": "find these right and you can go in and",
    "start": "1051320",
    "end": "1054440"
  },
  {
    "text": "look at the Manifest and look for what",
    "start": "1054440",
    "end": "1057020"
  },
  {
    "text": "is this the the five star review right",
    "start": "1057020",
    "end": "1060200"
  },
  {
    "text": "and it's it's basically uh flux which",
    "start": "1060200",
    "end": "1063679"
  },
  {
    "text": "again not a dig to flux but because flux",
    "start": "1063679",
    "end": "1065840"
  },
  {
    "text": "needs to do a bunch of things under the",
    "start": "1065840",
    "end": "1068360"
  },
  {
    "text": "hood but at least you're aware now right",
    "start": "1068360",
    "end": "1070400"
  },
  {
    "text": "that these these wild cards exist in",
    "start": "1070400",
    "end": "1073580"
  },
  {
    "text": "kind of a static analysis format in your",
    "start": "1073580",
    "end": "1075440"
  },
  {
    "text": "cluster",
    "start": "1075440",
    "end": "1077799"
  },
  {
    "text": "um so",
    "start": "1077960",
    "end": "1079580"
  },
  {
    "text": "how do we get better right",
    "start": "1079580",
    "end": "1082340"
  },
  {
    "text": "um You can start with logs sometimes you",
    "start": "1082340",
    "end": "1085220"
  },
  {
    "text": "know has anybody gone like uh API audit",
    "start": "1085220",
    "end": "1087860"
  },
  {
    "text": "logs spelunking have we looked into the",
    "start": "1087860",
    "end": "1090260"
  },
  {
    "text": "the audit logs that are generated a",
    "start": "1090260",
    "end": "1092780"
  },
  {
    "text": "little bit here and there yeah if you're",
    "start": "1092780",
    "end": "1094280"
  },
  {
    "text": "running eks you probably have it turned",
    "start": "1094280",
    "end": "1096500"
  },
  {
    "text": "on already maybe you're not using it to",
    "start": "1096500",
    "end": "1098480"
  },
  {
    "text": "its full capacity but every request that",
    "start": "1098480",
    "end": "1101600"
  },
  {
    "text": "goes into the kubernetes API is pretty",
    "start": "1101600",
    "end": "1105020"
  },
  {
    "text": "well documented and what it did and the",
    "start": "1105020",
    "end": "1107240"
  },
  {
    "text": "decision that was made via our back",
    "start": "1107240",
    "end": "1109460"
  },
  {
    "text": "right this can help you craft better our",
    "start": "1109460",
    "end": "1112280"
  },
  {
    "text": "back policies it's not going to solve",
    "start": "1112280",
    "end": "1114620"
  },
  {
    "text": "all your issues but it's definitely a",
    "start": "1114620",
    "end": "1117500"
  },
  {
    "text": "start right this is kind of a classic",
    "start": "1117500",
    "end": "1120200"
  },
  {
    "text": "project that has you know bitten it",
    "start": "1120200",
    "end": "1123020"
  },
  {
    "text": "stood the test of time uh audit to our",
    "start": "1123020",
    "end": "1126020"
  },
  {
    "text": "back and it basically takes your audit",
    "start": "1126020",
    "end": "1128840"
  },
  {
    "text": "logs and then generates an rbac policy",
    "start": "1128840",
    "end": "1131600"
  },
  {
    "text": "that makes sense for what's actually",
    "start": "1131600",
    "end": "1133220"
  },
  {
    "text": "happening in your cluster right that's",
    "start": "1133220",
    "end": "1135500"
  },
  {
    "text": "the mentality you want to be in okay I",
    "start": "1135500",
    "end": "1137960"
  },
  {
    "text": "want to watch what's going across the",
    "start": "1137960",
    "end": "1139820"
  },
  {
    "text": "wire what our back policies are actually",
    "start": "1139820",
    "end": "1142340"
  },
  {
    "text": "being used and then and I want to create",
    "start": "1142340",
    "end": "1145640"
  },
  {
    "text": "our back that makes sense we want to get",
    "start": "1145640",
    "end": "1148039"
  },
  {
    "text": "back to this principle of least",
    "start": "1148039",
    "end": "1149360"
  },
  {
    "text": "privilege right so you can see here this",
    "start": "1149360",
    "end": "1152120"
  },
  {
    "text": "is actually an event that's created by",
    "start": "1152120",
    "end": "1154580"
  },
  {
    "text": "the kubernetes API server and if you",
    "start": "1154580",
    "end": "1156620"
  },
  {
    "text": "haven't seen anything that looks like",
    "start": "1156620",
    "end": "1158059"
  },
  {
    "text": "this that's fine it's it's got a lot of",
    "start": "1158059",
    "end": "1160880"
  },
  {
    "text": "information from a security",
    "start": "1160880",
    "end": "1162080"
  },
  {
    "text": "practitioner's point of view like who",
    "start": "1162080",
    "end": "1164539"
  },
  {
    "text": "are you what source IP did you come from",
    "start": "1164539",
    "end": "1166840"
  },
  {
    "text": "what was the response like I care about",
    "start": "1166840",
    "end": "1169660"
  },
  {
    "text": "503s like and and I want to see when",
    "start": "1169660",
    "end": "1172160"
  },
  {
    "text": "there's a spike in 503s maybe when it",
    "start": "1172160",
    "end": "1174860"
  },
  {
    "text": "happened but for the conversation today",
    "start": "1174860",
    "end": "1177260"
  },
  {
    "text": "really it's about your username group",
    "start": "1177260",
    "end": "1180740"
  },
  {
    "text": "and then the authorization reason right",
    "start": "1180740",
    "end": "1182840"
  },
  {
    "text": "that line below is gold right where it",
    "start": "1182840",
    "end": "1185000"
  },
  {
    "text": "says our back Allowed by role binding",
    "start": "1185000",
    "end": "1186860"
  },
  {
    "text": "inventory of role inventory et cetera et",
    "start": "1186860",
    "end": "1189679"
  },
  {
    "text": "cetera right this is the kubernetes API",
    "start": "1189679",
    "end": "1192260"
  },
  {
    "text": "server saying yeah here's the response",
    "start": "1192260",
    "end": "1195200"
  },
  {
    "text": "in that second box that authorization",
    "start": "1195200",
    "end": "1197600"
  },
  {
    "text": "box was it an allow or deny if you see",
    "start": "1197600",
    "end": "1201500"
  },
  {
    "text": "somebody or something getting",
    "start": "1201500",
    "end": "1204200"
  },
  {
    "text": "consecutive denies from an IP that you",
    "start": "1204200",
    "end": "1206780"
  },
  {
    "text": "don't expect and they're trying to list",
    "start": "1206780",
    "end": "1208520"
  },
  {
    "text": "Secrets or get secrets in the cube",
    "start": "1208520",
    "end": "1210740"
  },
  {
    "text": "system namespace",
    "start": "1210740",
    "end": "1212120"
  },
  {
    "text": "potentially an anomaly right it's",
    "start": "1212120",
    "end": "1213980"
  },
  {
    "text": "probably something your security team",
    "start": "1213980",
    "end": "1215539"
  },
  {
    "text": "would would care about that's happening",
    "start": "1215539",
    "end": "1217640"
  },
  {
    "text": "live to your cluster right or if you see",
    "start": "1217640",
    "end": "1221059"
  },
  {
    "text": "you know some service account token",
    "start": "1221059",
    "end": "1223280"
  },
  {
    "text": "that's usually only used from inside all",
    "start": "1223280",
    "end": "1226220"
  },
  {
    "text": "of a sudden you start seeing it coming",
    "start": "1226220",
    "end": "1228080"
  },
  {
    "text": "in from the internet from places you",
    "start": "1228080",
    "end": "1230179"
  },
  {
    "text": "don't expect and there's some denies",
    "start": "1230179",
    "end": "1232039"
  },
  {
    "text": "mixed in that's another interesting",
    "start": "1232039",
    "end": "1234020"
  },
  {
    "text": "event right so these Auto logs are",
    "start": "1234020",
    "end": "1236059"
  },
  {
    "text": "really powerful Beyond just crafting our",
    "start": "1236059",
    "end": "1238280"
  },
  {
    "text": "back I think there's a lot of potential",
    "start": "1238280",
    "end": "1241160"
  },
  {
    "text": "for security practitioners to use these",
    "start": "1241160",
    "end": "1245179"
  },
  {
    "text": "so there's other considerations right",
    "start": "1245179",
    "end": "1247580"
  },
  {
    "text": "there's no shortage of our back Insanity",
    "start": "1247580",
    "end": "1251419"
  },
  {
    "text": "especially there's been some interesting",
    "start": "1251419",
    "end": "1253460"
  },
  {
    "text": "you know Revelations with what cubelet",
    "start": "1253460",
    "end": "1255919"
  },
  {
    "text": "has access to do that's a conversation",
    "start": "1255919",
    "end": "1257960"
  },
  {
    "text": "for a different day like the actual",
    "start": "1257960",
    "end": "1259700"
  },
  {
    "text": "internals of kubernetes they use our",
    "start": "1259700",
    "end": "1262160"
  },
  {
    "text": "back also but the easy ones are kind of",
    "start": "1262160",
    "end": "1265580"
  },
  {
    "text": "verbs to look for again static analysis",
    "start": "1265580",
    "end": "1267620"
  },
  {
    "text": "open like you could write some Rego to",
    "start": "1267620",
    "end": "1269539"
  },
  {
    "text": "find this pretty easily and do an audit",
    "start": "1269539",
    "end": "1271580"
  },
  {
    "text": "of your cluster of escalate impersonate",
    "start": "1271580",
    "end": "1273860"
  },
  {
    "text": "and bind verbs right these are not verbs",
    "start": "1273860",
    "end": "1276440"
  },
  {
    "text": "that you encounter every day when you're",
    "start": "1276440",
    "end": "1278900"
  },
  {
    "text": "writing our back policies you're",
    "start": "1278900",
    "end": "1280340"
  },
  {
    "text": "typically dealing with Git and list",
    "start": "1280340",
    "end": "1282740"
  },
  {
    "text": "Etc more kind of simple verbs but these",
    "start": "1282740",
    "end": "1286400"
  },
  {
    "text": "just sound bad right escalate is is a",
    "start": "1286400",
    "end": "1289100"
  },
  {
    "text": "verb you can use it and you can build a",
    "start": "1289100",
    "end": "1291260"
  },
  {
    "text": "policy that has that built in but these",
    "start": "1291260",
    "end": "1294440"
  },
  {
    "text": "are really made for privilege escalation",
    "start": "1294440",
    "end": "1297559"
  },
  {
    "text": "um which is needed sometimes or",
    "start": "1297559",
    "end": "1299120"
  },
  {
    "text": "impersonation which is also privilege",
    "start": "1299120",
    "end": "1301280"
  },
  {
    "text": "escalation uh or binding to a different",
    "start": "1301280",
    "end": "1303679"
  },
  {
    "text": "role and that web gets very messy very",
    "start": "1303679",
    "end": "1306380"
  },
  {
    "text": "fast so you're going to want to know if",
    "start": "1306380",
    "end": "1308120"
  },
  {
    "text": "you have our back policies that are",
    "start": "1308120",
    "end": "1310039"
  },
  {
    "text": "using these verbs and if they're",
    "start": "1310039",
    "end": "1311659"
  },
  {
    "text": "actively being used you should know why",
    "start": "1311659",
    "end": "1313880"
  },
  {
    "text": "right there could be a good reason it's",
    "start": "1313880",
    "end": "1315799"
  },
  {
    "text": "it's very it's very plausible but",
    "start": "1315799",
    "end": "1318260"
  },
  {
    "text": "um there are they are dangerous uh uh",
    "start": "1318260",
    "end": "1321380"
  },
  {
    "text": "left kind of unattended to",
    "start": "1321380",
    "end": "1324020"
  },
  {
    "text": "um and then the other one uh persistent",
    "start": "1324020",
    "end": "1326419"
  },
  {
    "text": "volumes so there's there's there's kind",
    "start": "1326419",
    "end": "1329000"
  },
  {
    "text": "of these like interesting Corner cases",
    "start": "1329000",
    "end": "1331340"
  },
  {
    "text": "of our back where if you allow somebody",
    "start": "1331340",
    "end": "1333740"
  },
  {
    "text": "or something to create persistent volume",
    "start": "1333740",
    "end": "1336559"
  },
  {
    "text": "so that persistent volume probably has",
    "start": "1336559",
    "end": "1338600"
  },
  {
    "text": "access to the host file system and then",
    "start": "1338600",
    "end": "1342080"
  },
  {
    "text": "you can",
    "start": "1342080",
    "end": "1343039"
  },
  {
    "text": "break out of the container context right",
    "start": "1343039",
    "end": "1345080"
  },
  {
    "text": "of that workload or that pod or that the",
    "start": "1345080",
    "end": "1347360"
  },
  {
    "text": "pods that are part of that deployment",
    "start": "1347360",
    "end": "1348919"
  },
  {
    "text": "which is",
    "start": "1348919",
    "end": "1350900"
  },
  {
    "text": "um a really interesting attack path",
    "start": "1350900",
    "end": "1352460"
  },
  {
    "text": "right if you're a developer and you",
    "start": "1352460",
    "end": "1354080"
  },
  {
    "text": "start on day one and you have very",
    "start": "1354080",
    "end": "1356240"
  },
  {
    "text": "limited access to the kubernetes cluster",
    "start": "1356240",
    "end": "1358159"
  },
  {
    "text": "but you just happen to be able to do",
    "start": "1358159",
    "end": "1360679"
  },
  {
    "text": "this with persistent volumes you've just",
    "start": "1360679",
    "end": "1363080"
  },
  {
    "text": "escaped out of the container and landed",
    "start": "1363080",
    "end": "1366200"
  },
  {
    "text": "yourself on the Node it's on on the Node",
    "start": "1366200",
    "end": "1368419"
  },
  {
    "text": "the underlying host",
    "start": "1368419",
    "end": "1370880"
  },
  {
    "text": "so um let's walk through how auth n",
    "start": "1370880",
    "end": "1374659"
  },
  {
    "text": "interacts with auth z",
    "start": "1374659",
    "end": "1377780"
  },
  {
    "text": "I created this wild",
    "start": "1377780",
    "end": "1379700"
  },
  {
    "text": "um",
    "start": "1379700",
    "end": "1380539"
  },
  {
    "text": "flowchart let's see if I can follow it",
    "start": "1380539",
    "end": "1382220"
  },
  {
    "text": "myself so um on the left back to the you",
    "start": "1382220",
    "end": "1386360"
  },
  {
    "text": "know the key players you know who's",
    "start": "1386360",
    "end": "1387919"
  },
  {
    "text": "acting on the kubernetes API and uh this",
    "start": "1387919",
    "end": "1391460"
  },
  {
    "text": "is in particular how eks handles at a",
    "start": "1391460",
    "end": "1394220"
  },
  {
    "text": "pretty high level",
    "start": "1394220",
    "end": "1395720"
  },
  {
    "text": "um off authentication but also",
    "start": "1395720",
    "end": "1397820"
  },
  {
    "text": "authorization there's some interesting",
    "start": "1397820",
    "end": "1399320"
  },
  {
    "text": "handoffs here right this isn't really a",
    "start": "1399320",
    "end": "1401299"
  },
  {
    "text": "threat model this is just showing the",
    "start": "1401299",
    "end": "1403640"
  },
  {
    "text": "complication that exists under the hood",
    "start": "1403640",
    "end": "1406159"
  },
  {
    "text": "that you don't even see right when you",
    "start": "1406159",
    "end": "1408200"
  },
  {
    "text": "run Cube CTL and you're you know",
    "start": "1408200",
    "end": "1410299"
  },
  {
    "text": "authenticated with AWS I am you don't",
    "start": "1410299",
    "end": "1413600"
  },
  {
    "text": "really see this so",
    "start": "1413600",
    "end": "1415100"
  },
  {
    "text": "um at first you're going to present your",
    "start": "1415100",
    "end": "1417799"
  },
  {
    "text": "IAM token right you've authenticated AWS",
    "start": "1417799",
    "end": "1420380"
  },
  {
    "text": "somehow we'll skip how but you want to",
    "start": "1420380",
    "end": "1422900"
  },
  {
    "text": "do a thing Cube CTL get pods all",
    "start": "1422900",
    "end": "1425240"
  },
  {
    "text": "namespaces present that to the API",
    "start": "1425240",
    "end": "1427640"
  },
  {
    "text": "server and then the kubernetes API",
    "start": "1427640",
    "end": "1429860"
  },
  {
    "text": "server is going to pass that IM token",
    "start": "1429860",
    "end": "1431960"
  },
  {
    "text": "over to a special",
    "start": "1431960",
    "end": "1434419"
  },
  {
    "text": "um it's a Daemon set called the AWS IM",
    "start": "1434419",
    "end": "1436520"
  },
  {
    "text": "authenticator server that's responsible",
    "start": "1436520",
    "end": "1439039"
  },
  {
    "text": "for talking to AWS right asking like hey",
    "start": "1439039",
    "end": "1442940"
  },
  {
    "text": "that this this particular token is it",
    "start": "1442940",
    "end": "1445159"
  },
  {
    "text": "valid are they authenticated and then",
    "start": "1445159",
    "end": "1447140"
  },
  {
    "text": "there's a response with an identity",
    "start": "1447140",
    "end": "1449120"
  },
  {
    "text": "again identity is the new perimeter",
    "start": "1449120",
    "end": "1451400"
  },
  {
    "text": "right that identity is then passed to",
    "start": "1451400",
    "end": "1453679"
  },
  {
    "text": "have we has anybody ever had to deal",
    "start": "1453679",
    "end": "1455480"
  },
  {
    "text": "with this AWS auth config map it's a",
    "start": "1455480",
    "end": "1458120"
  },
  {
    "text": "really special fun part of eks but",
    "start": "1458120",
    "end": "1461140"
  },
  {
    "text": "that's a very important piece of the",
    "start": "1461140",
    "end": "1464360"
  },
  {
    "text": "mapping puzzle right that identity is",
    "start": "1464360",
    "end": "1467000"
  },
  {
    "text": "mapped it's hard to see to a kubernetes",
    "start": "1467000",
    "end": "1469100"
  },
  {
    "text": "subject right AWS doesn't speak native",
    "start": "1469100",
    "end": "1471740"
  },
  {
    "text": "kubernetes in in terms of subjects so",
    "start": "1471740",
    "end": "1474200"
  },
  {
    "text": "that config map does some some pretty",
    "start": "1474200",
    "end": "1476240"
  },
  {
    "text": "heavy lifting and you can go check it",
    "start": "1476240",
    "end": "1478039"
  },
  {
    "text": "out in your own eks clusters",
    "start": "1478039",
    "end": "1480020"
  },
  {
    "text": "it's translated to a kubernetes subject",
    "start": "1480020",
    "end": "1482780"
  },
  {
    "text": "and that subjects pass back to the API",
    "start": "1482780",
    "end": "1485240"
  },
  {
    "text": "server combined with the original action",
    "start": "1485240",
    "end": "1487940"
  },
  {
    "text": "the intent that you had and then our",
    "start": "1487940",
    "end": "1490159"
  },
  {
    "text": "back says yes or no right so ever you",
    "start": "1490159",
    "end": "1493520"
  },
  {
    "text": "know meanwhile you're just sitting there",
    "start": "1493520",
    "end": "1494840"
  },
  {
    "text": "like smashing away Cube CTL commands and",
    "start": "1494840",
    "end": "1497419"
  },
  {
    "text": "writing scripts or whatever but under",
    "start": "1497419",
    "end": "1499039"
  },
  {
    "text": "the hood there's a lot going on right",
    "start": "1499039",
    "end": "1501280"
  },
  {
    "text": "and this again is not like saying this",
    "start": "1501280",
    "end": "1504500"
  },
  {
    "text": "is bad or this is a security issue but",
    "start": "1504500",
    "end": "1507140"
  },
  {
    "text": "it's good to understand how these things",
    "start": "1507140",
    "end": "1509299"
  },
  {
    "text": "work together and every cloud handles",
    "start": "1509299",
    "end": "1511700"
  },
  {
    "text": "this a little differently right",
    "start": "1511700",
    "end": "1513559"
  },
  {
    "text": "um you know similar flow but this kind",
    "start": "1513559",
    "end": "1516020"
  },
  {
    "text": "of token translation are back",
    "start": "1516020",
    "end": "1518419"
  },
  {
    "text": "um there's there's room for error here",
    "start": "1518419",
    "end": "1521120"
  },
  {
    "text": "um and to say the least",
    "start": "1521120",
    "end": "1524000"
  },
  {
    "text": "so um",
    "start": "1524000",
    "end": "1526100"
  },
  {
    "text": "I think I'm nearing the end of my time I",
    "start": "1526100",
    "end": "1528140"
  },
  {
    "text": "don't know if you don't know if I got my",
    "start": "1528140",
    "end": "1529279"
  },
  {
    "text": "five minute warning but uh there is a",
    "start": "1529279",
    "end": "1532039"
  },
  {
    "text": "one note at the bottom this is just a",
    "start": "1532039",
    "end": "1534020"
  },
  {
    "text": "link but we are writing",
    "start": "1534020",
    "end": "1537080"
  },
  {
    "text": "um we are bringing a top 10 uh security",
    "start": "1537080",
    "end": "1540440"
  },
  {
    "text": "project to the cncf there's two in under",
    "start": "1540440",
    "end": "1544220"
  },
  {
    "text": "review right now where we're kind of",
    "start": "1544220",
    "end": "1546740"
  },
  {
    "text": "translating and moving a lot of the",
    "start": "1546740",
    "end": "1548480"
  },
  {
    "text": "kubernetes top 10 over the cncf uh under",
    "start": "1548480",
    "end": "1551539"
  },
  {
    "text": "tag security and we're there's an istio",
    "start": "1551539",
    "end": "1554360"
  },
  {
    "text": "top 10 coming out and I imagine we'll do",
    "start": "1554360",
    "end": "1556940"
  },
  {
    "text": "something with our back so if you want",
    "start": "1556940",
    "end": "1558440"
  },
  {
    "text": "to get involved or if you are already",
    "start": "1558440",
    "end": "1560000"
  },
  {
    "text": "involved in tag security",
    "start": "1560000",
    "end": "1562520"
  },
  {
    "text": "um",
    "start": "1562520",
    "end": "1563120"
  },
  {
    "text": "here's the random link to the the GitHub",
    "start": "1563120",
    "end": "1565820"
  },
  {
    "text": "issue but it's some good conversation",
    "start": "1565820",
    "end": "1568220"
  },
  {
    "text": "happening there I think there's a lot",
    "start": "1568220",
    "end": "1569779"
  },
  {
    "text": "still to be kind of dissected shared and",
    "start": "1569779",
    "end": "1572720"
  },
  {
    "text": "uh and yeah we have a booth downstairs",
    "start": "1572720",
    "end": "1575179"
  },
  {
    "text": "if you want to talk or I'll stick around",
    "start": "1575179",
    "end": "1577700"
  },
  {
    "text": "after this and I'll give you all some",
    "start": "1577700",
    "end": "1579679"
  },
  {
    "text": "candy so go enjoy the rest of the",
    "start": "1579679",
    "end": "1581720"
  },
  {
    "text": "evening thank you for coming and uh see",
    "start": "1581720",
    "end": "1584360"
  },
  {
    "text": "you soon",
    "start": "1584360",
    "end": "1586600"
  }
]