[
  {
    "start": "0",
    "end": "140000"
  },
  {
    "text": "welcome to Choose Your Own Adventure The observability Odyssey meet hero Hero's application",
    "start": "280",
    "end": "7520"
  },
  {
    "text": "source code on a developer's laptop here alongs to be a real application running",
    "start": "7520",
    "end": "12759"
  },
  {
    "text": "and production serving end users and we're going to help Hero on their Journey so my name oh we're going to",
    "start": "12759",
    "end": "19359"
  },
  {
    "text": "help hero navigate hundreds of cncf projects choose which ones to use integrate them with one another so hero",
    "start": "19359",
    "end": "26599"
  },
  {
    "text": "can live their dream my name is Whitney this is Victor together we host a",
    "start": "26599",
    "end": "32398"
  },
  {
    "text": "streaming show called you choose on Victor's devops toolkit YouTube channel we have some stickers to give away after",
    "start": "32399",
    "end": "38440"
  },
  {
    "text": "so come to us and each episode represents a system design choice and so",
    "start": "38440",
    "end": "44320"
  },
  {
    "text": "for each episode We Gather all the relevant cncf technology that can do that thing we have a guest on from each",
    "start": "44320",
    "end": "50680"
  },
  {
    "text": "technology and each guest gets only five minutes to present about their technology then at the end we have a",
    "start": "50680",
    "end": "57600"
  },
  {
    "text": "vote and whatever the community chooses is the one that we Implement into our ongoing demo So based on choices the",
    "start": "57600",
    "end": "65680"
  },
  {
    "text": "communities already made we have a demo environment going now so it is made up",
    "start": "65680",
    "end": "71360"
  },
  {
    "text": "of an AWS eks cluster that's defined declaratively with crossplane resources",
    "start": "71360",
    "end": "77040"
  },
  {
    "text": "it also has our heroes already deployed in a running application and it was deployed with gitops with Argo CD in",
    "start": "77040",
    "end": "85439"
  },
  {
    "text": "particular we have Ingress already running and we have Contour because that's what you chose and so therefore",
    "start": "85439",
    "end": "91759"
  },
  {
    "text": "end users can already access the application so hero is living their dream they are running a production what",
    "start": "91759",
    "end": "98280"
  },
  {
    "text": "are we doing here we're done okay we don't have any observability it's hardly a production cluster at all so we don't",
    "start": "98280",
    "end": "105320"
  },
  {
    "text": "know what's happening with applications we can't understand our system if something's broken we don't know how to fix it hero is not doing well so we're",
    "start": "105320",
    "end": "113040"
  },
  {
    "text": "going to save the day please get out your phones please scan this QR code",
    "start": "113040",
    "end": "118320"
  },
  {
    "text": "we're going to go through some system design choices as part of the talk today and whatever you choose is the one we're",
    "start": "118320",
    "end": "125479"
  },
  {
    "text": "going to implement in our ongoing demo maybe so we're going to talk about metrics we're going to talk about traces",
    "start": "125479",
    "end": "132680"
  },
  {
    "text": "and we're going to use that data to implement a progressive delivery so and we're going to help hero",
    "start": "132680",
    "end": "139120"
  },
  {
    "text": "live their dream so let's start with metrics when we vote in a while I'm",
    "start": "139120",
    "end": "144160"
  },
  {
    "start": "140000",
    "end": "198000"
  },
  {
    "text": "going to talk a bit first when we vote it's going to be between Prometheus and pixie but first let's talk about what is",
    "start": "144160",
    "end": "152680"
  },
  {
    "text": "metrics what is a metric a metric is simply a numerical measurement at a",
    "start": "152680",
    "end": "158280"
  },
  {
    "text": "point in time and so an example would be how long a database query takes or how",
    "start": "158280",
    "end": "163560"
  },
  {
    "text": "many users are using an application and oh hero just made their first metric isn't that",
    "start": "163560",
    "end": "169640"
  },
  {
    "text": "cute so the thing is all the applications in the system and all kinds of other things in the system are all",
    "start": "169640",
    "end": "175800"
  },
  {
    "text": "creating a lot of metrics and you need to actually be careful of how many you make",
    "start": "175800",
    "end": "180840"
  },
  {
    "text": "so our tool regardless of which one you choose it job is going to be to collect the metrics and then store the metrics",
    "start": "180840",
    "end": "188280"
  },
  {
    "text": "and then we can access the metrics and do stuff so we might query the metrics we might turn those queries into",
    "start": "188280",
    "end": "194519"
  },
  {
    "text": "visualizations and maybe will alert depending on the tool so let's talk about Prometheus",
    "start": "194519",
    "end": "200680"
  },
  {
    "start": "198000",
    "end": "307000"
  },
  {
    "text": "first how are Prometheus metrics generated hero wants to know and so do I",
    "start": "200680",
    "end": "206760"
  },
  {
    "text": "so Prometheus is ubiquit ubiquitous excuse me it's very widely used so our",
    "start": "206760",
    "end": "213280"
  },
  {
    "text": "third-party applications are emitting metrics right out of the box without us doing anything and then the our internal",
    "start": "213280",
    "end": "218959"
  },
  {
    "text": "applications we need to instrument them with a prome Prometheus Library so that they create metrics and then there are",
    "start": "218959",
    "end": "225519"
  },
  {
    "text": "other things too that don't fall into those two categories so for example you",
    "start": "225519",
    "end": "230599"
  },
  {
    "text": "might add an exporter to export metrics for nodes so to get metrics for things",
    "start": "230599",
    "end": "237319"
  },
  {
    "text": "that don't um do it natively you're likely to have an exporter that already exists there's like hundreds of cncf oh",
    "start": "237319",
    "end": "244480"
  },
  {
    "text": "excuse me Prometheus exporters another one would be one for cost or one that will show you Kepler will show you what",
    "start": "244480",
    "end": "250760"
  },
  {
    "text": "kind of energy use usage you have so Prometheus collects all those metric",
    "start": "250760",
    "end": "256519"
  },
  {
    "text": "it's called scraping scrapes the metrics at a regular interval by default once a minute and then and then Prometheus oh",
    "start": "256519",
    "end": "265000"
  },
  {
    "text": "there we go Prometheus stores the metrics it ingests the metrics which means putting it into store storage and",
    "start": "265000",
    "end": "270360"
  },
  {
    "text": "you might do something here like transform it or filter it and then we can use promql to query the metrics we",
    "start": "270360",
    "end": "277039"
  },
  {
    "text": "can use a dashboard we have to use a thirdparty dashboard to visualize these metrics because Prometheus doesn't have",
    "start": "277039",
    "end": "283440"
  },
  {
    "text": "one and then we can also make alerts with Prometheus alerting you can make an",
    "start": "283440",
    "end": "289000"
  },
  {
    "text": "alert if something bad happens or you know why not make an alert if something good happens too you know uh so",
    "start": "289000",
    "end": "296440"
  },
  {
    "text": "Prometheus is designed to to run as a single Standalone instance and problems",
    "start": "296440",
    "end": "302680"
  },
  {
    "text": "start to happen if you run a lot of instances of Prometheus so it's hard to",
    "start": "302680",
    "end": "309039"
  },
  {
    "start": "307000",
    "end": "418000"
  },
  {
    "text": "query data not hard impossible to query data across instances unless you have a",
    "start": "309039",
    "end": "314880"
  },
  {
    "text": "Federated uh Prometheus deployment where you have a centralized Prometheus instance that scrapes all your other",
    "start": "314880",
    "end": "321520"
  },
  {
    "text": "Prometheus instances the problem here is that Prometheus is slow to query super",
    "start": "321520",
    "end": "326840"
  },
  {
    "text": "large amounts of data so it's not a great solution Prometheus also has short-term storage",
    "start": "326840",
    "end": "332880"
  },
  {
    "text": "you store data for only about two weeks with Prometheus it's configurable but again if it's too long then you have",
    "start": "332880",
    "end": "338919"
  },
  {
    "text": "theot the the big data problem um it does high availability but not in the",
    "start": "338919",
    "end": "344280"
  },
  {
    "text": "most elegant way you can use two instances of Prometheus to scrape the same data and then it's uh not good for",
    "start": "344280",
    "end": "351759"
  },
  {
    "text": "multi-tenancy so we got problems it's not as hard to manage in a centralized way and so that's why we have cncf",
    "start": "351759",
    "end": "358560"
  },
  {
    "text": "projects Thanos and cortex to solve these problems so they can do Global",
    "start": "358560",
    "end": "363680"
  },
  {
    "text": "querying in a very performance way you can also store an unlimited amount of",
    "start": "363680",
    "end": "369000"
  },
  {
    "text": "data for an infinite amount of time of course there's some cost there with",
    "start": "369000",
    "end": "374160"
  },
  {
    "text": "terms of infrastructure but you know you can and um and there's also multi-tenancy and finally High",
    "start": "374160",
    "end": "381160"
  },
  {
    "text": "availability both of these tools do that the big difference between these two tools is simply the way they're deployed",
    "start": "381160",
    "end": "387080"
  },
  {
    "text": "and oh Hero's happy um and Prometheus uh Works alongside excuse",
    "start": "387080",
    "end": "393919"
  },
  {
    "text": "me Thanos Works alongside your Prometheus it's ideal if you already have a big Prometheus footprint and",
    "start": "393919",
    "end": "399880"
  },
  {
    "text": "cortex has a completely separate infrastru um architecture and CeX can",
    "start": "399880",
    "end": "406280"
  },
  {
    "text": "receive data from Prometheus from prometheus's remote right capability but it also can receive uh data from open",
    "start": "406280",
    "end": "413840"
  },
  {
    "text": "Telemetry and then it's really solid in a multi- tendency use case but why am I",
    "start": "413840",
    "end": "419639"
  },
  {
    "start": "418000",
    "end": "546000"
  },
  {
    "text": "talking about that I don't know cuz we want to know about observability what we care about is per is Pixie cuz that's the one we're going to judge so pixie is",
    "start": "419639",
    "end": "427639"
  },
  {
    "text": "a newer project and what it does is it um it allows you to within five minutes",
    "start": "427639",
    "end": "434680"
  },
  {
    "text": "collect tons of information about your applications without you having to instrument your applications and the way",
    "start": "434680",
    "end": "441720"
  },
  {
    "text": "that works is with ebpf so on each node there'll be a pixie instance running and",
    "start": "441720",
    "end": "448000"
  },
  {
    "text": "on at the at the kernel level it's generating and collecting metrics for",
    "start": "448000",
    "end": "453039"
  },
  {
    "text": "you and it collects a tremendous amount of data uh it collects um protocol",
    "start": "453039",
    "end": "459479"
  },
  {
    "text": "traces and network information and uh resource metrics and you request you can",
    "start": "459479",
    "end": "466960"
  },
  {
    "text": "collect full resp request and response bodies here and so you have to be",
    "start": "466960",
    "end": "472680"
  },
  {
    "text": "careful pixie is going to naturally keep all the data on this on the Node it's collected on which is important because",
    "start": "472680",
    "end": "480039"
  },
  {
    "text": "there's a sensitive data that that pixie collects but when you query pixie you",
    "start": "480039",
    "end": "487080"
  },
  {
    "text": "the the distributed nature of the data is is invisible to you you can query it with a python like query language it",
    "start": "487080",
    "end": "494440"
  },
  {
    "text": "also pixie cloud has a good UI and finally pixie data is only meant to be",
    "start": "494440",
    "end": "500680"
  },
  {
    "text": "held for 24 hours it's a it's a tremendous amount of data it's meant to be used for real like short-term",
    "start": "500680",
    "end": "507360"
  },
  {
    "text": "debugging not long-term trending data and that's pixie it uses about 2% of",
    "start": "507360",
    "end": "513000"
  },
  {
    "text": "computes on a node and now finally it's time to vote so what do you want to see",
    "start": "513000",
    "end": "518200"
  },
  {
    "text": "Victor",
    "start": "518200",
    "end": "520599"
  },
  {
    "text": "demo H it's not a popularity contest by the",
    "start": "523800",
    "end": "530320"
  },
  {
    "text": "way it's the one that you want to see demo is the one you're curious about",
    "start": "530320",
    "end": "536680"
  },
  {
    "text": "there is not a single person at Community boot of pixie right now I hope I represented your project",
    "start": "536680",
    "end": "543279"
  },
  {
    "text": "well friends okay let's do pixie then I guess pixie it is okay so pixie right um some",
    "start": "543279",
    "end": "553560"
  },
  {
    "start": "546000",
    "end": "765000"
  },
  {
    "text": "things I already installed some things I didn't I installed pix in advance mostly and this is to you pixie lovers because",
    "start": "553560",
    "end": "559480"
  },
  {
    "text": "it takes like infinite amount of time to install it uh wait what I said less than 5 minutes you said infinite amount of",
    "start": "559480",
    "end": "565480"
  },
  {
    "text": "time huh I said less than 5 minutes to install and you said it's more than 5 minutes it's more than",
    "start": "565480",
    "end": "572200"
  },
  {
    "text": "5 minutes but I did not want to mess up with you so uh you can use web UI with",
    "start": "572200",
    "end": "578160"
  },
  {
    "text": "Pixie I'm not going to do that because I don't like web UI uh I'm going to",
    "start": "578160",
    "end": "584200"
  },
  {
    "text": "um uh use CLI for that right because it's absolutely awesome and Pixi and for example I can say hey give me the list",
    "start": "584200",
    "end": "590360"
  },
  {
    "text": "of scripts right and I can create my own scripts that we visualize and show data in one way or another uh those are the",
    "start": "590360",
    "end": "597360"
  },
  {
    "text": "scripts that come out to the Box uh and of course you can create as many as you want they're actually relatively",
    "start": "597360",
    "end": "603240"
  },
  {
    "text": "easy to learn and all this stuff so I can say pixie uh how about to run the",
    "start": "603240",
    "end": "608720"
  },
  {
    "text": "script PX Nam spaces and you see um",
    "start": "608720",
    "end": "615040"
  },
  {
    "text": "what's going on let me make this slightly smaller is this still readable on the screen yeah cool right and then you see",
    "start": "615040",
    "end": "622959"
  },
  {
    "text": "the information about the namespaces this is how much okay let's make it uh",
    "start": "622959",
    "end": "628279"
  },
  {
    "text": "okay uh this this how much memory it uses you know stuff about namespaces if you're unsure what you",
    "start": "628279",
    "end": "634519"
  },
  {
    "text": "want to do uh you can say hey uh let me execute a custom command and that",
    "start": "634519",
    "end": "640440"
  },
  {
    "text": "command will be help and then you can see uh the all the parameters um input",
    "start": "640440",
    "end": "646760"
  },
  {
    "text": "parameters you can use to to do something and I can say for example you know what I'm interested",
    "start": "646760",
    "end": "653440"
  },
  {
    "text": "only in the namespace production and then um",
    "start": "653440",
    "end": "661240"
  },
  {
    "text": "names space production there we go and then you have",
    "start": "663279",
    "end": "668800"
  },
  {
    "text": "C see all the metrics all the stuff that again you're choosing what to show and",
    "start": "668800",
    "end": "674360"
  },
  {
    "text": "when to show it and how to show it through the scripts right uh and we can do funky stuff like",
    "start": "674360",
    "end": "680480"
  },
  {
    "text": "hey instead of run uh let me show uh what is going on in the Nam",
    "start": "680480",
    "end": "687680"
  },
  {
    "text": "spaces and I get this is the script right this is basically what uh Powers",
    "start": "687680",
    "end": "694839"
  },
  {
    "text": "the queries the the dashboard that you saw before and again you have web UI so all of youve worried that it's all black",
    "start": "694839",
    "end": "701680"
  },
  {
    "text": "and white here you you can do you can do click Ops that's fine as well uh and the",
    "start": "701680",
    "end": "707079"
  },
  {
    "text": "last thing I will show about Pixie because we don't have much time is that you can do live as well and say hey I",
    "start": "707079",
    "end": "713800"
  },
  {
    "text": "want to see uh name spaces uh I can see live information",
    "start": "713800",
    "end": "718920"
  },
  {
    "text": "about name spaces that they're happening uh in my cluster if it decides to work",
    "start": "718920",
    "end": "724880"
  },
  {
    "text": "right and those are my name spaces this is live data I can change it right now we are seeing the process stats overview",
    "start": "724880",
    "end": "732720"
  },
  {
    "text": "we can switch to the name spaces lists and so on and so forth right a bunch of scripts highly extensible works from CLI",
    "start": "732720",
    "end": "740279"
  },
  {
    "text": "works from webui which I'm not going to show you and that's pixie and by the way",
    "start": "740279",
    "end": "746560"
  },
  {
    "text": "whomever of you voted for pixie you made a huge mistake mistake pixie is awesome but you'll see",
    "start": "746560",
    "end": "753000"
  },
  {
    "text": "later while you made why you made the mistake I'm warning you in Advan that this is going to be shorter demo than",
    "start": "753000",
    "end": "759440"
  },
  {
    "text": "it's supposed to be may I have the slides back uh so",
    "start": "759440",
    "end": "765880"
  },
  {
    "start": "765000",
    "end": "835000"
  },
  {
    "text": "demanding yeah Victor and I we each have our very separate parts of this and we",
    "start": "765880",
    "end": "771000"
  },
  {
    "text": "don't know what the other one's going to say so that's the first time I've seen the demo",
    "start": "771000",
    "end": "776160"
  },
  {
    "text": "too I'm like wait what's happening so next we're going to talk about traces",
    "start": "776160",
    "end": "782600"
  },
  {
    "text": "so for this one our vot's going to be between Jagger and Zipkin so what is tracing and why do we",
    "start": "782600",
    "end": "790800"
  },
  {
    "text": "need it so when a user makes a request uh tracing helps us see how that request",
    "start": "790800",
    "end": "797360"
  },
  {
    "text": "moves all the way through distributed architecture so we can see the whole into toin transaction and then when",
    "start": "797360",
    "end": "804000"
  },
  {
    "text": "talking about a um tracing two each step of a trace is called a",
    "start": "804000",
    "end": "810040"
  },
  {
    "text": "span um so why do we need tracing so we can learn from metrics that something is",
    "start": "810040",
    "end": "816399"
  },
  {
    "text": "wrong but we don't know what that something is without tracing tracing shows us the why so tracing helps a lot",
    "start": "816399",
    "end": "824000"
  },
  {
    "text": "definitely if there's like a something broken that we can fix but also tracing can help with latency problems and and",
    "start": "824000",
    "end": "830839"
  },
  {
    "text": "help improve performance understanding which components are lagging but before we go through the two",
    "start": "830839",
    "end": "838000"
  },
  {
    "start": "835000",
    "end": "958000"
  },
  {
    "text": "different tracing projects we need to talk about open cemetry when I was learning about observability which was",
    "start": "838000",
    "end": "844320"
  },
  {
    "text": "recently you could probably tell um it observability was uh open cemetry in",
    "start": "844320",
    "end": "850680"
  },
  {
    "text": "particular was really hard for me to wrap my head around and that's because open cemetry is made up of so many",
    "start": "850680",
    "end": "856480"
  },
  {
    "text": "components and a lot of people will just call them all each one of them open Telemetry so you don't know like which",
    "start": "856480",
    "end": "862320"
  },
  {
    "text": "thing they're talking about and that is uh difficult for a no like me so open",
    "start": "862320",
    "end": "867560"
  },
  {
    "text": "Telemetry above all is a specification there are hundreds of markdown documents in the open Telemetry project that's",
    "start": "867560",
    "end": "874839"
  },
  {
    "text": "going to tell you about all the different data specifications all the different um exporting like storage",
    "start": "874839",
    "end": "880720"
  },
  {
    "text": "transport specifications metadata specifications um the other components that I'm about to there's specifications",
    "start": "880720",
    "end": "887199"
  },
  {
    "text": "all around that there's a there's a lot to specify and they're finding every little bit um so the next thing it is is",
    "start": "887199",
    "end": "894519"
  },
  {
    "text": "it's a pro it's a transport protocol so OTP is um so there's specification",
    "start": "894519",
    "end": "900639"
  },
  {
    "text": "around how Telemetry data should move from component to component and then it's also software but it's not just one",
    "start": "900639",
    "end": "908000"
  },
  {
    "text": "piece of software that would be too easy it's lots of different kinds of software so open Telemetry has language specific",
    "start": "908000",
    "end": "914360"
  },
  {
    "text": "apis that you can use to instrument your applications to emit Telemetry data it",
    "start": "914360",
    "end": "919600"
  },
  {
    "text": "also has sdks that receives uh the Telemetry data from the apis and does",
    "start": "919600",
    "end": "925040"
  },
  {
    "text": "cool St stuff most notably it can correlate all the data that's being emitted across your your cluster so you",
    "start": "925040",
    "end": "932600"
  },
  {
    "text": "can get a holistic picture of what's going on so logs metrics and traces used to be called the three pillars but now",
    "start": "932600",
    "end": "938720"
  },
  {
    "text": "they want you to think of it more as like a braid of data that's tightly correlated together through this uh",
    "start": "938720",
    "end": "945519"
  },
  {
    "text": "system and then the third piece of software that someone might be talking about if they just say open Telemetry is",
    "start": "945519",
    "end": "951000"
  },
  {
    "text": "an open Telemetry collector which is a Telemetry data pipeline for how to receive transform and export data so why",
    "start": "951000",
    "end": "959079"
  },
  {
    "start": "958000",
    "end": "1066000"
  },
  {
    "text": "am I talking about that well I'll tell you in a minute first Jagger so Jagger",
    "start": "959079",
    "end": "964120"
  },
  {
    "text": "is a a a tool that is it's a distributed tracing tool that helps you collect",
    "start": "964120",
    "end": "972720"
  },
  {
    "text": "store and visualize traces and Jagger V2 just came out a couple of days ago and",
    "start": "972720",
    "end": "979720"
  },
  {
    "text": "with Jagger V2 they used okay so they used to have agents and a tracing SDK",
    "start": "979720",
    "end": "988680"
  },
  {
    "text": "and a bunch of jger specific stuff for collecting Trace data and now with jger V2 they've junked all that and they",
    "start": "988680",
    "end": "996360"
  },
  {
    "text": "they're like we're all in on open Telemetry we're using all the ways that open Telemetry collects data and that's",
    "start": "996360",
    "end": "1002240"
  },
  {
    "text": "what we're going to receive for for Jagger so that's uh the biggest differentiator of jger and jger also has",
    "start": "1002240",
    "end": "1009519"
  },
  {
    "text": "a superior UI it's an opinion but I think it's uh I don't think anyone's going to argue with me Zipkin is um it's",
    "start": "1009519",
    "end": "1018040"
  },
  {
    "text": "also a tool that helps you collect store and visualize traces it has the exact same outcome it's an older tool and it",
    "start": "1018040",
    "end": "1026558"
  },
  {
    "text": "uh doesn't rely on any other project to does to does its collection so it has a",
    "start": "1026559",
    "end": "1033160"
  },
  {
    "text": "extensive support for all kinds of libraries and Frameworks and those are our choices what's Jagger or Zipkin",
    "start": "1033160",
    "end": "1042600"
  },
  {
    "text": "it's so quiet in here I like that you're taking it very seriously no I'm still",
    "start": "1049360",
    "end": "1054720"
  },
  {
    "text": "trying to identify that person who voted for Zipkin where are you they want to see",
    "start": "1054720",
    "end": "1063080"
  },
  {
    "text": "that all right uh okay so it's Jagger and a good choice because Zipkin is not",
    "start": "1063080",
    "end": "1068240"
  },
  {
    "start": "1066000",
    "end": "1113000"
  },
  {
    "text": "in cscf so I wouldn't demo it anyway",
    "start": "1068240",
    "end": "1072919"
  },
  {
    "text": "um uh so uh here I have the Argo City definition basically this is uh the",
    "start": "1073840",
    "end": "1080520"
  },
  {
    "text": "reason why we're going to use Argo series because that's one of the previous choices so this demo is always using whatever people chose before right",
    "start": "1080520",
    "end": "1086919"
  },
  {
    "text": "not my choices we're using Argo CD I'm just going to copy this uh file uh Argo",
    "start": "1086919",
    "end": "1093280"
  },
  {
    "text": "CD Jagger uh to the this directory where everything is kept and get add and get",
    "start": "1093280",
    "end": "1100840"
  },
  {
    "text": "commit something uh something like this and get",
    "start": "1100840",
    "end": "1106799"
  },
  {
    "text": "push uh okay and now a few moments later let me see the Argo CD should kick up",
    "start": "1106799",
    "end": "1115320"
  },
  {
    "start": "1113000",
    "end": "1312000"
  },
  {
    "text": "and should do it let me just double check quickly whether it got it refresh",
    "start": "1115320",
    "end": "1121480"
  },
  {
    "text": "so it we wait okay yagra should be coming now and if I",
    "start": "1121480",
    "end": "1126840"
  },
  {
    "text": "open uh where is it Yer doing host I think this should be",
    "start": "1126840",
    "end": "1135840"
  },
  {
    "text": "the address and still waking up starting there we go",
    "start": "1135840",
    "end": "1142120"
  },
  {
    "text": "right now nothing is being traced right now because we need to instrument our application that's what we're going to do next uh and our application is",
    "start": "1142120",
    "end": "1149840"
  },
  {
    "text": "defined as ytt again because that was the choice uh I'm just going to change",
    "start": "1149840",
    "end": "1155640"
  },
  {
    "text": "uh one of the values and there we go and I'm going to say what am I going to say I'm going to",
    "start": "1155640",
    "end": "1162840"
  },
  {
    "text": "say aut uh enabled uh enabled to true because I",
    "start": "1162840",
    "end": "1171080"
  },
  {
    "text": "configured the carity to understand what that means and you will see the outcome of that in a second I'm going to",
    "start": "1171080",
    "end": "1177720"
  },
  {
    "text": "generate my files file ytt schema and",
    "start": "1177720",
    "end": "1183320"
  },
  {
    "text": "file uh YT resources what else am I missing data",
    "start": "1183320",
    "end": "1190120"
  },
  {
    "text": "values uh is it values or value values file uh which is ytt values prod uh must",
    "start": "1190120",
    "end": "1198320"
  },
  {
    "text": "be something else probably not we'll find out uh at one moment it will not work I will generate y will put it in",
    "start": "1198320",
    "end": "1204840"
  },
  {
    "text": "the this directory prod up cool and I'm going to show you the outcome",
    "start": "1204840",
    "end": "1211880"
  },
  {
    "text": "um what the heck okay uh here's the uh here here's what it was generated",
    "start": "1211880",
    "end": "1219120"
  },
  {
    "text": "basically there's nothing special the only thing I did here is that I told my",
    "start": "1219120",
    "end": "1224720"
  },
  {
    "text": "um application to be instrumented because it's in go to be automatically instrumented where to find yger and now it should",
    "start": "1224720",
    "end": "1232520"
  },
  {
    "text": "work let's see add commit something push",
    "start": "1232520",
    "end": "1239320"
  },
  {
    "text": "uh Cube cutle Das namespace production get pods you see this one the first one",
    "start": "1239320",
    "end": "1245520"
  },
  {
    "text": "that has two containers should have three containers um very very soon uh I'm",
    "start": "1245520",
    "end": "1251679"
  },
  {
    "text": "going to speed it up uh come on go here I'm going to go back to Argo CD find my",
    "start": "1251679",
    "end": "1258919"
  },
  {
    "text": "application cncf demo there we go refresh no time to wait cool um let's",
    "start": "1258919",
    "end": "1266760"
  },
  {
    "text": "see whether it was not yet come on ah there we go I was about to say it",
    "start": "1266760",
    "end": "1274559"
  },
  {
    "text": "I expected to fail somewhere in the middle and this is the right moment but it's working there we go and if I go back to",
    "start": "1274559",
    "end": "1284400"
  },
  {
    "text": "yger and you see here there is cncf demo I can see the traces I can see what's",
    "start": "1284400",
    "end": "1290480"
  },
  {
    "text": "going on you don't see much here because this is not now real production and traffic and stuff like that um and I'm",
    "start": "1290480",
    "end": "1297240"
  },
  {
    "text": "not allowed to to to do something in my terminal while she's talking she wants to see the slides so you will not see the traffic but you should imagine that",
    "start": "1297240",
    "end": "1303840"
  },
  {
    "text": "there there will be some circles and colors and stuff and you will see everything related to traces no time to",
    "start": "1303840",
    "end": "1309799"
  },
  {
    "text": "lose go we have what 13 minutes Whitney come",
    "start": "1309799",
    "end": "1315520"
  },
  {
    "start": "1312000",
    "end": "1578000"
  },
  {
    "text": "on so next uh next is Progressive delivery so we're",
    "start": "1315520",
    "end": "1321120"
  },
  {
    "text": "going to talk about Argo rollouts and Flagger which is part of the flux",
    "start": "1321120",
    "end": "1326600"
  },
  {
    "text": "project well she's talking about those two you who voted for pig pixie think about",
    "start": "1326600",
    "end": "1333320"
  },
  {
    "text": "it uh so what is Progressive delivery so Progressive delivery is the act of",
    "start": "1334080",
    "end": "1340559"
  },
  {
    "text": "changing giving traffic to a new version of the application rolling out a new version of the application in a slow and",
    "start": "1340559",
    "end": "1347360"
  },
  {
    "text": "gradual manner thereby reducing the risk and so kubernetes does this natively a",
    "start": "1347360",
    "end": "1354559"
  },
  {
    "text": "little bit kubernetes does have roll outs as part of the deployment resource but the problem is that it's coar grains",
    "start": "1354559",
    "end": "1361559"
  },
  {
    "text": "it it depends on the number of PODS you're running there's also if it's you're rolling out a bad version of the",
    "start": "1361559",
    "end": "1366799"
  },
  {
    "text": "application it's just going to plow ahead and just keep rolling out that bad version of the application and ANS",
    "start": "1366799",
    "end": "1372039"
  },
  {
    "text": "there's no automated roll backs so our hero is ready to upgrade as has a dream",
    "start": "1372039",
    "end": "1379000"
  },
  {
    "text": "of becoming a new application and we're going to help them out so Argo rollouts",
    "start": "1379000",
    "end": "1386039"
  },
  {
    "text": "and Flagger are both very similar projects they're",
    "start": "1386039",
    "end": "1391600"
  },
  {
    "text": "architected differently but they both do U Progressive delivery in an automated",
    "start": "1391600",
    "end": "1397600"
  },
  {
    "text": "way and they both can handle Advanced deployment techniques so what are Advanced deployment techniques an",
    "start": "1397600",
    "end": "1403880"
  },
  {
    "text": "example of that would be Canary deployment where you have a second copy of application going your newer copy of",
    "start": "1403880",
    "end": "1410159"
  },
  {
    "text": "the application and you give a small subset of users to that newer application and then with our tools we",
    "start": "1410159",
    "end": "1417440"
  },
  {
    "text": "can do automated checks and we can use this observability data we've been collecting to do automated checks say",
    "start": "1417440",
    "end": "1424279"
  },
  {
    "text": "yes this is going well and then give more traffic to the new version of the application and in doing so slowly roll",
    "start": "1424279",
    "end": "1431120"
  },
  {
    "text": "out that new version of the application and if our checks fail they can automatically go back to the last",
    "start": "1431120",
    "end": "1437000"
  },
  {
    "text": "working version of the application so metrics you might check would be like make sure we have at least a 95% uh",
    "start": "1437000",
    "end": "1443200"
  },
  {
    "text": "success rate with our requests or it might be like if our if our request takes more than x amount of time then",
    "start": "1443200",
    "end": "1449720"
  },
  {
    "text": "roll back to the old version that would be a failure U condition if you can't do Canary the the",
    "start": "1449720",
    "end": "1456960"
  },
  {
    "text": "this is a blue green deployment but Canary's a superior but for some reason",
    "start": "1456960",
    "end": "1462080"
  },
  {
    "text": "you can't do Canary because your application can't handle running two versions at once you might consider",
    "start": "1462080",
    "end": "1467559"
  },
  {
    "text": "doing a blue green deployment which is also supported by both of our tools that's when all of you you have all of",
    "start": "1467559",
    "end": "1473240"
  },
  {
    "text": "your data to the old application you run the new application alongside of it you do some testing to make sure that new",
    "start": "1473240",
    "end": "1479399"
  },
  {
    "text": "application's working and then bam turn all the all that the traffic to the new",
    "start": "1479399",
    "end": "1484799"
  },
  {
    "text": "application you keep that old one running for two reasons to to finish serving whatever requests happen to be",
    "start": "1484799",
    "end": "1491080"
  },
  {
    "text": "happening at the BAM moment and for the second reason you would do it is in case something's bad we can quickly send all",
    "start": "1491080",
    "end": "1497919"
  },
  {
    "text": "the traffic back to the older version so both of these do that but there's very",
    "start": "1497919",
    "end": "1503640"
  },
  {
    "text": "and they they're architected differently so under the hood they're very different projects but it practically um in a",
    "start": "1503640",
    "end": "1509720"
  },
  {
    "text": "practical way they're very similar projects the difference is that Flagger",
    "start": "1509720",
    "end": "1514760"
  },
  {
    "text": "by flux it um you can roll out from a kubernetes deployment to another's",
    "start": "1514760",
    "end": "1521919"
  },
  {
    "text": "kubernetes deployment and you could do that very successfully and with lots of uh Advanced deployment techniques and",
    "start": "1521919",
    "end": "1528480"
  },
  {
    "text": "then with Argo rollouts you can do that with kubernetes deployments but you could also do it with any resources so",
    "start": "1528480",
    "end": "1535320"
  },
  {
    "text": "if you've built a a crossplane API you can roll out from one crossplane API to another crossplane API so any two",
    "start": "1535320",
    "end": "1543200"
  },
  {
    "text": "kubernetes resources you can roll out from one to another with Argo rollouts um they both can play well with each",
    "start": "1543200",
    "end": "1550200"
  },
  {
    "text": "other's gitops tool they both can be enhanced with service mesh and of course",
    "start": "1550200",
    "end": "1555320"
  },
  {
    "text": "they play best with their own getups toool and that's it that's enough let's",
    "start": "1555320",
    "end": "1560840"
  },
  {
    "text": "vote and then Victor will shame you well you're voting by the way",
    "start": "1560840",
    "end": "1566919"
  },
  {
    "text": "neither of those two work with Pixie without Witchcraft and Wizardry",
    "start": "1566919",
    "end": "1574159"
  },
  {
    "text": "and today that's not going to happen okay can we say roll outs one yes Argo",
    "start": "1574159",
    "end": "1579720"
  },
  {
    "start": "1578000",
    "end": "1810000"
  },
  {
    "text": "roll outs okay so uh let's see what can we do first of",
    "start": "1579720",
    "end": "1585679"
  },
  {
    "text": "all uh uh I I'm going to this file right um I'm going to",
    "start": "1585679",
    "end": "1593440"
  },
  {
    "text": "deploy this uh this is a file that defines the the analysis that will be performed to decide what to do with the",
    "start": "1593440",
    "end": "1600159"
  },
  {
    "text": "release and it's a very very simple one only one query basically you can translate this give me the rate of all",
    "start": "1600159",
    "end": "1607799"
  },
  {
    "text": "the requests that are not 500 and 400 range meaning all good requests and",
    "start": "1607799",
    "end": "1615240"
  },
  {
    "text": "divide it with all requests and you will get some percentage and if that percentage is higher than",
    "start": "1615240",
    "end": "1621399"
  },
  {
    "text": "95% then it's success then it's okay right essentially if 95% or more of the",
    "start": "1621399",
    "end": "1627520"
  },
  {
    "text": "requests coming to the application are okay continue otherwise go back relatively simple straightforward",
    "start": "1627520",
    "end": "1633440"
  },
  {
    "text": "nothing special now the first thing we need to do is to install",
    "start": "1633440",
    "end": "1640340"
  },
  {
    "text": "[Laughter] Prometheus uh and I really don't like",
    "start": "1640340",
    "end": "1645520"
  },
  {
    "text": "this because it's a very uh okay you know what I have it written somewhere",
    "start": "1645520",
    "end": "1650679"
  },
  {
    "text": "the command is too big for me to type it uh I have it somewhere imagine that you're not watching my notes and that",
    "start": "1650679",
    "end": "1657399"
  },
  {
    "text": "you think that I actually know all this by heart uh here we",
    "start": "1657399",
    "end": "1663919"
  },
  {
    "text": "go uh where is it yger what did you choose Argo roll outs there we go here's",
    "start": "1663919",
    "end": "1670559"
  },
  {
    "text": "the command okay cool uh you haven't seen that I actually know everything by",
    "start": "1670559",
    "end": "1675720"
  },
  {
    "text": "heart there we go uh this will install um I'll go it will install promus it",
    "start": "1675720",
    "end": "1683840"
  },
  {
    "text": "will take a while so you're going to sit here in",
    "start": "1683840",
    "end": "1690360"
  },
  {
    "text": "silence and if you want to blame somebody for [Laughter] silence",
    "start": "1690360",
    "end": "1697480"
  },
  {
    "text": "pixie I'm kidding pixie is amazing I love pixie great tool by the way just it",
    "start": "1697480",
    "end": "1704000"
  },
  {
    "text": "it's not uh supported at least not out of the box with ar ODS so",
    "start": "1704000",
    "end": "1709200"
  },
  {
    "text": "um I have a joke okay so look how about this uh we have not much time while this",
    "start": "1709200",
    "end": "1715120"
  },
  {
    "text": "is installing we can do one question oh that's great anybody has a question anything they're like microphones you're",
    "start": "1715120",
    "end": "1720480"
  },
  {
    "text": "supposed to step up to life universe anything no no oh here we go oh there's",
    "start": "1720480",
    "end": "1727039"
  },
  {
    "text": "one okay does roll outs really work with any API because it uses the Pod template and",
    "start": "1727039",
    "end": "1733039"
  },
  {
    "text": "requires replica sets so the crossplane thing is kind of like a new thing to me it's like o that'd be cool if it does do",
    "start": "1733039",
    "end": "1738320"
  },
  {
    "text": "that but I've never seen it does does roll outs really work with any two apis almost almost so uh it works with",
    "start": "1738320",
    "end": "1745559"
  },
  {
    "text": "any any resource or custom resource uh but there are that custom resource needs to implement a couple of fields I think",
    "start": "1745559",
    "end": "1752679"
  },
  {
    "text": "that it needs to implement status and I don't remember what else so",
    "start": "1752679",
    "end": "1758440"
  },
  {
    "text": "uh it works with every custom resource or resource that Implement certain spec",
    "start": "1758440",
    "end": "1763760"
  },
  {
    "text": "but I I don't remember from out of my uh head oh look thank you which one it is",
    "start": "1763760",
    "end": "1768880"
  },
  {
    "text": "uh if you ping me later I can find you what exact spec that is okay it's installed cool uh now we're",
    "start": "1768880",
    "end": "1777880"
  },
  {
    "text": "going to copy uh this argor outs ISO uh",
    "start": "1777880",
    "end": "1782960"
  },
  {
    "text": "definition to infra I'm going to go Argo roll out",
    "start": "1782960",
    "end": "1788240"
  },
  {
    "text": "analysis that's the that's the analysis I showed you earlier and we're going to edit and we're going to commit we're",
    "start": "1788240",
    "end": "1795840"
  },
  {
    "text": "going to push uh Co cool and then a few moments later we should see the analysis",
    "start": "1795840",
    "end": "1801880"
  },
  {
    "text": "uh get cluster analis template uh we should see it here in a",
    "start": "1801880",
    "end": "1809279"
  },
  {
    "text": "cluster it's not appearing because uh where is Argo the wake",
    "start": "1809279",
    "end": "1814360"
  },
  {
    "text": "up uh it's not easy to do all this while",
    "start": "1814360",
    "end": "1822760"
  },
  {
    "text": "people are watching you okay come on",
    "start": "1822760",
    "end": "1828519"
  },
  {
    "text": "and then Argo CD dies on you yeah let's see better it's working",
    "start": "1828519",
    "end": "1835039"
  },
  {
    "text": "okay here oh yeah connection broken let's start the connection again cool uh",
    "start": "1835039",
    "end": "1840559"
  },
  {
    "text": "let's see okay yes refresh refresh cool",
    "start": "1840559",
    "end": "1847120"
  },
  {
    "text": "uh not cool yes analysis is",
    "start": "1847120",
    "end": "1852480"
  },
  {
    "text": "there just starting just starting okay I need to modify myc ation uh ytt value",
    "start": "1852480",
    "end": "1860960"
  },
  {
    "text": "Pro the same one as before I'm going to say that uh I already did this I just",
    "start": "1860960",
    "end": "1866600"
  },
  {
    "text": "need to I created the templates and everything I just need to say progressive",
    "start": "1866600",
    "end": "1871840"
  },
  {
    "text": "delivery um and uh enabled through and what else uh type uh",
    "start": "1871840",
    "end": "1881000"
  },
  {
    "text": "because I prepared for both occasions should be Argo roll outs cool uh um and",
    "start": "1881000",
    "end": "1889080"
  },
  {
    "text": "oh one more thing I forgot uh where is it where is it where is it not nowhere",
    "start": "1889080",
    "end": "1894159"
  },
  {
    "text": "I'm going to set the number of replicas uh replicas to zero my application will not have any replicas",
    "start": "1894159",
    "end": "1900480"
  },
  {
    "text": "because Aro roll outs will manage the replicas of my application and then I'm going to execute the same y thing to",
    "start": "1900480",
    "end": "1906880"
  },
  {
    "text": "generate yo and that yo now we have virtual Services that's from EO that",
    "start": "1906880",
    "end": "1912279"
  },
  {
    "text": "will control the traffic how much goes here how much goes there uh what else do",
    "start": "1912279",
    "end": "1917320"
  },
  {
    "text": "I have new here uh I don't know I I probably have some things new I just don't know what it is uh anyways it",
    "start": "1917320",
    "end": "1925200"
  },
  {
    "text": "should maybe work who knows uh get head get comit get",
    "start": "1925200",
    "end": "1931799"
  },
  {
    "text": "push go okay um and then I can say Cube",
    "start": "1931799",
    "end": "1937120"
  },
  {
    "text": "cutle Argo okay let's put it at the top Cube cutle ah ah Cube cutle Argo roll",
    "start": "1937120",
    "end": "1945320"
  },
  {
    "text": "outs uh Nam space is production no only two Dash's name spaces name space is",
    "start": "1945320",
    "end": "1955480"
  },
  {
    "text": "production I want to get roll out called cncf demo and I want to watch what's",
    "start": "1955480",
    "end": "1961240"
  },
  {
    "text": "going on",
    "start": "1961240",
    "end": "1966360"
  },
  {
    "text": "cool let's see maybe Aro C did not yet pick up my changes maybe it will never",
    "start": "1966360",
    "end": "1972000"
  },
  {
    "text": "pick up my changes let's see yes okay it's going on now first release means",
    "start": "1972000",
    "end": "1977240"
  },
  {
    "text": "nothing because first release will always be deployed because there is nothing to go back and all the stuff so this will be Al almost",
    "start": "1977240",
    "end": "1983840"
  },
  {
    "text": "instant um and uh if we start let's do this uh let's do hey uh I'm going to",
    "start": "1983840",
    "end": "1992320"
  },
  {
    "text": "bomb my application for 60 Minutes uh and send requests to my application to",
    "start": "1992320",
    "end": "1998720"
  },
  {
    "text": "kind of simulate traffic uh is your host uh let's see whether this works do I get",
    "start": "1998720",
    "end": "2005639"
  },
  {
    "text": "uh error no why not error no error no",
    "start": "2005639",
    "end": "2011200"
  },
  {
    "text": "what's going on okay let's see think fast think fasting fast we",
    "start": "2011200",
    "end": "2016880"
  },
  {
    "text": "have two minutes so we're in a racing time let's see uh Cube cutle Get",
    "start": "2016880",
    "end": "2023320"
  },
  {
    "text": "gateways uh everywhere what is the Gateway since you have the Gateway okay virtual Services",
    "start": "2023320",
    "end": "2029919"
  },
  {
    "text": "services. a um yeah okay this is the address of my application copy copy and",
    "start": "2029919",
    "end": "2038360"
  },
  {
    "text": "then send request no wrong one okay uh curl uh cncf demo uh 52 71",
    "start": "2038360",
    "end": "2048240"
  },
  {
    "text": "233 47 what nip do what did they",
    "start": "2048240",
    "end": "2054919"
  },
  {
    "text": "do yeah it works okay cool cool cool cool cool cool cool uh does it work now",
    "start": "2055480",
    "end": "2060839"
  },
  {
    "text": "uh did I make a mistake here uh okay I'm going to say hey uh do Z 60 Minutes send",
    "start": "2060839",
    "end": "2069839"
  },
  {
    "text": "request to this thing is it working now still not working unsupported protocol yes",
    "start": "2069839",
    "end": "2076240"
  },
  {
    "text": "HTTP maybe it will work who knows I'm disappointed is it working now yes 200",
    "start": "2076240",
    "end": "2082398"
  },
  {
    "text": "responses okay it's working uh now we're going 37 seconds okay okay this is going",
    "start": "2082399",
    "end": "2089878"
  },
  {
    "text": "to be fun uh Vim YT Val prod okay uh",
    "start": "2089879",
    "end": "2095200"
  },
  {
    "text": "what did I want to change yes image tag is going to be we going to change to tto new release cool YT generate yaml cool",
    "start": "2095200",
    "end": "2103720"
  },
  {
    "text": "uh add comit push go back to Argo CD refresh because",
    "start": "2103720",
    "end": "2112520"
  },
  {
    "text": "you have no time to wait see what's going on AR G all outs is the new",
    "start": "2112520",
    "end": "2118280"
  },
  {
    "text": "release coming is it not coming we will never find out I have zero",
    "start": "2118280",
    "end": "2124160"
  },
  {
    "text": "seconds it will work eventually [Applause]",
    "start": "2124160",
    "end": "2134760"
  },
  {
    "text": "will you put the last slide out please okay yeah sorry we have you stickers up",
    "start": "2134760",
    "end": "2140800"
  },
  {
    "text": "here you don't even have to talk to us but if you want to talk to us we'll also hand you a youu sticker and if you see us around please say hi thank you so",
    "start": "2140800",
    "end": "2147880"
  },
  {
    "text": "much oh the you wait wait you can scan the codes for you and for a a repo that",
    "start": "2147880",
    "end": "2154040"
  },
  {
    "text": "Victor is pulling all these commands from so we have a whole YouTube choose repo that you can mess around with it's",
    "start": "2154040",
    "end": "2160040"
  },
  {
    "text": "halfway done you know but we're trying over here it's a lot thank you so much appreciate you",
    "start": "2160040",
    "end": "2167400"
  }
]