[
  {
    "text": "hello everyone it's now after 4:30 so we are going to go ahead and get started um",
    "start": "280",
    "end": "6399"
  },
  {
    "text": "if you're I hope you saw the first slide or actually this one says it right so if",
    "start": "6399",
    "end": "11799"
  },
  {
    "text": "you're looking for this tutorial for the reconciler you're definitely in the right room um and uh you know so I'll just",
    "start": "11799",
    "end": "19760"
  },
  {
    "text": "introduce myself first um I'm Scott Rigby I'm in the developer experience",
    "start": "19760",
    "end": "25560"
  },
  {
    "text": "I'm a developer experience engineer at we Works um I um",
    "start": "25560",
    "end": "33120"
  },
  {
    "text": "I am one of the maintainers of Helm um I co I maintain I co- maintain the flux",
    "start": "33120",
    "end": "40600"
  },
  {
    "text": "community and uh repo and I um uh co-chair the giops working group",
    "start": "40600",
    "end": "47719"
  },
  {
    "text": "and I work with open get UPS so that's just a little bit about me I'm really excited to be presenting um with these",
    "start": "47719",
    "end": "53039"
  },
  {
    "text": "fine pillows hello everyone um my name is am",
    "start": "53039",
    "end": "59160"
  },
  {
    "text": "um and is the the uh AWS I work on ETS and uh open source and kubernetes on my",
    "start": "59160",
    "end": "67360"
  },
  {
    "text": "daily work I write controllers or I write generators for controllers at maybe if you've been at the previous",
    "start": "67360",
    "end": "73439"
  },
  {
    "text": "stock um so yeah um hi everyone I'm Nikki I'm a",
    "start": "73439",
    "end": "79479"
  },
  {
    "text": "software engineer at weave works I'm was also a maintainer of eks CTL you know if",
    "start": "79479",
    "end": "85439"
  },
  {
    "text": "you used it um that's really cool and I also write controllers currently also um",
    "start": "85439",
    "end": "95600"
  },
  {
    "text": "so I would also say um uh if you're not familiar with the environmental",
    "start": "95600",
    "end": "101159"
  },
  {
    "text": "sustainability technical advisory the tag within cncf please check that out Nikki Super Active in there and yes",
    "start": "101159",
    "end": "107479"
  },
  {
    "text": "please ask her or any of us questions about that if you're interested in the energy optimization carbon optimization",
    "start": "107479",
    "end": "115439"
  },
  {
    "text": "for kubernetes reach out to me anytime hello uh my name is sule I work for vbx",
    "start": "115439",
    "end": "124119"
  },
  {
    "text": "as well uh I'm also a flex maintainers I'm the I yeah I'm working on the",
    "start": "124119",
    "end": "130200"
  },
  {
    "text": "controllers for Flex hello everyone uh my name isi I'm a",
    "start": "130200",
    "end": "137239"
  },
  {
    "text": "developer experien engineer at we Works um I'm also a mainten of notification controller one of the controllers that",
    "start": "137239",
    "end": "144000"
  },
  {
    "text": "make up BL CD so for most of this stuff I'll be walking around and if you're",
    "start": "144000",
    "end": "149040"
  },
  {
    "text": "following along and you have any issues you could reach out to me and I'll help",
    "start": "149040",
    "end": "154160"
  },
  {
    "text": "out thank you best one yeah so just I think the",
    "start": "154160",
    "end": "159440"
  },
  {
    "text": "thing to do probably raise your hand or whatever if you need any kind of like hey this didn't set up correctly or",
    "start": "159440",
    "end": "166040"
  },
  {
    "text": "whatever and one of us will come back",
    "start": "166040",
    "end": "171440"
  },
  {
    "text": "um great so okay so um this is just a very quick overview of like what's",
    "start": "171440",
    "end": "178120"
  },
  {
    "text": "happening today um we're going to start with uh we're starting with like a quick set",
    "start": "178120",
    "end": "185080"
  },
  {
    "text": "expectation set you know just to let you know like hey what what are we going to go through what are you going to learn",
    "start": "185080",
    "end": "191200"
  },
  {
    "text": "um uh and we are that includes a very practical and memorable challenge that",
    "start": "191200",
    "end": "197159"
  },
  {
    "text": "this demo has set up around um and also like what your final outcome should look like by the end of this um we are going",
    "start": "197159",
    "end": "204360"
  },
  {
    "text": "to um we're going to make sure everyone here can install well if you don't want",
    "start": "204360",
    "end": "209879"
  },
  {
    "text": "to just listen you're welcome to just listen but if you don't want if you want to actually do the Hands-On part of it",
    "start": "209879",
    "end": "215760"
  },
  {
    "text": "we'll make sure all of you can set up uh install the tutorial prerequisites um we're going to walk you through setting",
    "start": "215760",
    "end": "221239"
  },
  {
    "text": "up a local Dev environment one using one of several methods that we have and just",
    "start": "221239",
    "end": "226480"
  },
  {
    "text": "unblock anyone from just like getting in and doing the code so um just before the step by step actual tutorial part we're",
    "start": "226480",
    "end": "234000"
  },
  {
    "text": "going to um introduce key very uh important and less widely known um uh",
    "start": "234000",
    "end": "243439"
  },
  {
    "text": "Concepts and other ways of working with controllers like some of the details around conditions um and uh really just",
    "start": "243439",
    "end": "251040"
  },
  {
    "text": "kind of help just to sort of like help people like be able to Envision what we're doing as we're going through the",
    "start": "251040",
    "end": "256799"
  },
  {
    "text": "step byep um and then we're going to get spend the bulk of our time just getting our hands dirty going through the step by step um we'll have you check out a a",
    "start": "256799",
    "end": "264120"
  },
  {
    "text": "get repo and and just kind of like check out different branches for each step so um yeah then we'll do a little wrap up",
    "start": "264120",
    "end": "270720"
  },
  {
    "text": "and uh Q&A um",
    "start": "270720",
    "end": "278680"
  },
  {
    "text": "cool so we know that kubernetes controllers",
    "start": "278680",
    "end": "283720"
  },
  {
    "text": "are responsible for making the current state of your kubernetes cluster",
    "start": "283720",
    "end": "289199"
  },
  {
    "text": "continue to be to become closer and closer to the desired State um this process is called",
    "start": "289199",
    "end": "297479"
  },
  {
    "text": "reconciliation perhaps you are here because you would like to know how kubernetes built-in controllers work or",
    "start": "297479",
    "end": "304680"
  },
  {
    "text": "you might want to write your own controller for your custom resources",
    "start": "304680",
    "end": "309800"
  },
  {
    "text": "your crds um in this 90minut tutorial we'll walk you through building your own",
    "start": "309800",
    "end": "316240"
  },
  {
    "text": "controller using controller runtime and Cube Builder um we'll we'll use Cube Builder",
    "start": "316240",
    "end": "322240"
  },
  {
    "text": "which is a framework for building apis for custom resource definitions crds and we'll also explain lesser",
    "start": "322240",
    "end": "330680"
  },
  {
    "text": "documented uh best practices and conventions and concepts for writing controllers that the community has",
    "start": "330680",
    "end": "337120"
  },
  {
    "text": "developed through trial and error through projects such as flux and cluster API also known as",
    "start": "337120",
    "end": "343759"
  },
  {
    "text": "cppy um and after this tutorial you should walk away with an understanding of what kubernetes conditions are how to",
    "start": "343759",
    "end": "351400"
  },
  {
    "text": "set and respond to them and why they matter and lastly we'll also look at",
    "start": "351400",
    "end": "357319"
  },
  {
    "text": "some common pitfalls and help libraries that make writing controllers easier and",
    "start": "357319",
    "end": "363479"
  },
  {
    "text": "more fun and more reliable so since this tutorial is on",
    "start": "363479",
    "end": "371160"
  },
  {
    "text": "how to write a reconciler we need something for controller to reconcile and so here's",
    "start": "371160",
    "end": "377639"
  },
  {
    "text": "the challenge for today as a hypothetical cubec con speaker in order",
    "start": "377639",
    "end": "383440"
  },
  {
    "text": "to have fun and learn things I want to be able to manage my um cucon proposal",
    "start": "383440",
    "end": "388800"
  },
  {
    "text": "submission declaratively so we have created a cfp",
    "start": "388800",
    "end": "394120"
  },
  {
    "text": "API a mock call for papers API um the code and docs",
    "start": "394120",
    "end": "401199"
  },
  {
    "text": "are in this link which we'll actually have a link to in the next slides but",
    "start": "401199",
    "end": "407840"
  },
  {
    "text": "also the presentation you can find it on sced so you can find the slides and",
    "start": "407840",
    "end": "413800"
  },
  {
    "text": "click on links through there but we'll also have QR code and bitly in a minute",
    "start": "413800",
    "end": "419639"
  },
  {
    "text": "so if you want you can wait for a sec yeah we'll we'll post it up and make sure you all have that yeah we'll make",
    "start": "419639",
    "end": "425440"
  },
  {
    "text": "sure it's there multiple times in the next slides um so yeah",
    "start": "425440",
    "end": "431479"
  },
  {
    "text": "the we've we've built this Mark API to allow us to draft edit and finally",
    "start": "431479",
    "end": "437120"
  },
  {
    "text": "submit proposals and also create speakers um and there's a um yeah sorry",
    "start": "437120",
    "end": "446160"
  },
  {
    "text": "the API supports a speaker object with a one to many um relationships so one",
    "start": "446160",
    "end": "452599"
  },
  {
    "text": "speaker may be referenced by multiple uh proposals and each object each speaker",
    "start": "452599",
    "end": "459879"
  },
  {
    "text": "and proposal has multiple uh required and a few optional fields that we'll",
    "start": "459879",
    "end": "465360"
  },
  {
    "text": "look at and our challenge today is to write a kubernetes controller that defines crds for both the speaker and",
    "start": "465360",
    "end": "472520"
  },
  {
    "text": "proposal and a reconciler for each of those resources yeah and just to be clear um I hope everybody knows this but",
    "start": "472520",
    "end": "479319"
  },
  {
    "text": "this API doesn't really exist so I hope I hope uh Linux Foundation doesn't get um complaints that they can't submit",
    "start": "479319",
    "end": "485319"
  },
  {
    "text": "their cfps through an API or du declaratively this is just uh to help kind of get your mind around an",
    "start": "485319",
    "end": "493599"
  },
  {
    "text": "example um so in order to run the controllers in your local machine uh we",
    "start": "497520",
    "end": "502919"
  },
  {
    "text": "have prepared uh multiple methods and techniques for you to uh uh spin the or",
    "start": "502919",
    "end": "508280"
  },
  {
    "text": "develop the controllers so uh sosia and I will be available um",
    "start": "508280",
    "end": "513919"
  },
  {
    "text": "in the room if you have any problems uh for your setup or with the compilation or anything like that please just wave",
    "start": "513919",
    "end": "519599"
  },
  {
    "text": "at us and welcome um help you out and so the repository can be found",
    "start": "519599",
    "end": "526600"
  },
  {
    "text": "at this bitly um you can also scan this QR get",
    "start": "526600",
    "end": "531839"
  },
  {
    "text": "the link you can send it to",
    "start": "531839",
    "end": "536000"
  },
  {
    "text": "yourself um yeah if you get this get away from the speaker get this link um and also the name of the repo is",
    "start": "537920",
    "end": "546959"
  },
  {
    "text": "at bottom so it's the title of the session um how to write a reconciler",
    "start": "546959",
    "end": "552360"
  },
  {
    "text": "using kubernetes controller",
    "start": "552360",
    "end": "555760"
  },
  {
    "text": "runtime just waiting a few awkward seconds to make sure everyone has it",
    "start": "557720",
    "end": "564320"
  },
  {
    "text": "yeah maybe just give since a little bit for people to to hit it",
    "start": "564320",
    "end": "571120"
  },
  {
    "text": "Y and again if you need it again we'll put the slide back up and",
    "start": "571839",
    "end": "577000"
  },
  {
    "text": "it yeah the link is still at the very top there so you can listen and get the",
    "start": "577000",
    "end": "582320"
  },
  {
    "text": "link too um so we have prepared four",
    "start": "582320",
    "end": "587680"
  },
  {
    "text": "different four different ways of you to um do this tutorial with us uh the first",
    "start": "587680",
    "end": "593079"
  },
  {
    "text": "one of course is you can just watch and learn and uh see um what Su will be presenting in in the few minutes from",
    "start": "593079",
    "end": "599640"
  },
  {
    "text": "now uh our second method and the easiest one if you don't have any development",
    "start": "599640",
    "end": "604760"
  },
  {
    "text": "environment on your machine is a g pod link it's going to spin up um a vs code",
    "start": "604760",
    "end": "610320"
  },
  {
    "text": "or um goand environment for you with everything read it uh don't forget if",
    "start": "610320",
    "end": "616040"
  },
  {
    "text": "you ever see a password prompt uh it's root rout uh username is R password is R",
    "start": "616040",
    "end": "622640"
  },
  {
    "text": "uh we also have a background file if you find our virtual machines and you already have uh something to spin a virtual machine or the background tool",
    "start": "622640",
    "end": "629160"
  },
  {
    "text": "please go ahead and use the background file you're going to find it in um you're going to find the instructions in",
    "start": "629160",
    "end": "634519"
  },
  {
    "text": "the readby file and of course uh for the bravest of you you can go ahead if you",
    "start": "634519",
    "end": "639720"
  },
  {
    "text": "already have go kind go and customized you already are like set to go and you can just uh follow the tutorial directly",
    "start": "639720",
    "end": "646880"
  },
  {
    "text": "I mean honestly I think this might be the easiest for folks because if you have these on your computer or at least",
    "start": "646880",
    "end": "653079"
  },
  {
    "text": "if you have most of these dependencies it'll run faster um but uh but yeah the get the get po pod should be nice",
    "start": "653079",
    "end": "659240"
  },
  {
    "text": "because you for anyone who might not have the inde dependencies so the gboard one might take s to 8 minutes to spin KS",
    "start": "659240",
    "end": "666680"
  },
  {
    "text": "classer for you so if you want to go for that technique please spin it right now or at least click on the button right",
    "start": "666680",
    "end": "671880"
  },
  {
    "text": "now and uh yeah you should be finding few yeah do you all see where um maybe",
    "start": "671880",
    "end": "678639"
  },
  {
    "text": "we should put up uh the read me um or or actually rather so this open",
    "start": "678639",
    "end": "686320"
  },
  {
    "text": "in git pod there's a button on the read me link so yeah maybe we'll just go back right just a second for the",
    "start": "686320",
    "end": "694920"
  },
  {
    "text": "um yeah so for those who want to do it at",
    "start": "697160",
    "end": "702240"
  },
  {
    "text": "least open up the repost so that you'll have that option um I myself tried to spin up um a giot cluster and I was not",
    "start": "702240",
    "end": "709160"
  },
  {
    "text": "able to do it but others were so um just let us know if you have any",
    "start": "709160",
    "end": "715680"
  },
  {
    "text": "trouble all right cool",
    "start": "715680",
    "end": "720959"
  },
  {
    "text": "he you want me to introduce this part for you is that my computer oh now we had switched it up so",
    "start": "729519",
    "end": "736760"
  },
  {
    "text": "that we could look at speaker here we go um so yeah sule is going to",
    "start": "736760",
    "end": "745160"
  },
  {
    "text": "show there you go got it a quick demo of basically",
    "start": "745160",
    "end": "750800"
  },
  {
    "text": "what what you'll see in a little bit as you go through the demo yourself and what it should look like at the",
    "start": "750800",
    "end": "757079"
  },
  {
    "text": "end uh so we have a make file here uh that you can use",
    "start": "757079",
    "end": "762279"
  },
  {
    "text": "to",
    "start": "762279",
    "end": "765279"
  },
  {
    "text": "bigger like this okay we have a make file that you can use to set up a kind",
    "start": "767600",
    "end": "773040"
  },
  {
    "text": "cluster and then to to deploy everything uh in the cluster so that I have already",
    "start": "773040",
    "end": "781480"
  },
  {
    "text": "done sorry just uh real quick can everybody read it or does it need to go",
    "start": "781480",
    "end": "786560"
  },
  {
    "text": "bigger bigger make it",
    "start": "786560",
    "end": "790800"
  },
  {
    "text": "bigger like this yeah thinking more I'm seeing hand saying",
    "start": "791959",
    "end": "798880"
  },
  {
    "text": "more is that is that readable okay um so I I have already uh",
    "start": "798880",
    "end": "806480"
  },
  {
    "text": "set it to have a cluster running a can cluster running and here you can see that the the controller is running in",
    "start": "806480",
    "end": "812560"
  },
  {
    "text": "the l space cfp system and I got the API that is running in the names",
    "start": "812560",
    "end": "821320"
  },
  {
    "text": "space cfp right uh what we're going to do is",
    "start": "821320",
    "end": "828880"
  },
  {
    "text": "we're going to install the samples customer serves definition that",
    "start": "828880",
    "end": "836320"
  },
  {
    "text": "we have here so we're going to inser a speaker and then we going to install or to",
    "start": "836320",
    "end": "841759"
  },
  {
    "text": "deploy s a proposal so let's do that first we apply the",
    "start": "841759",
    "end": "850440"
  },
  {
    "text": "speaker and we describe the speaker so what it has done is has we have a new",
    "start": "852759",
    "end": "858600"
  },
  {
    "text": "speaker so the controller is going to uh make a call on the API and create a",
    "start": "858600",
    "end": "864399"
  },
  {
    "text": "speaker and then we have a condition telling you what is the status of the speaker so the speaker has been uh",
    "start": "864399",
    "end": "870920"
  },
  {
    "text": "reconciled successfully and we have an ID for this speaker that is called default speaker sample so the ID is the",
    "start": "870920",
    "end": "878120"
  },
  {
    "text": "name space Das the name of the speaker uh now let's apply a",
    "start": "878120",
    "end": "885360"
  },
  {
    "text": "proposal so this",
    "start": "886560",
    "end": "891639"
  },
  {
    "text": "proposal and we describe the proposal",
    "start": "893160",
    "end": "900079"
  },
  {
    "text": "so here the same you have a proposal with an IPA call uh to to to create a",
    "start": "900079",
    "end": "905800"
  },
  {
    "text": "new proposal and but this tell us that we have a new proposal last updated uh",
    "start": "905800",
    "end": "912040"
  },
  {
    "text": "just now and that the submission is uh DFT so I'm going to edit this",
    "start": "912040",
    "end": "922120"
  },
  {
    "text": "proposal and change the submission status uh if I find it here to",
    "start": "923560",
    "end": "933279"
  },
  {
    "text": "final now I discab it again so wait a little bit because uh",
    "start": "937600",
    "end": "943279"
  },
  {
    "text": "now that I have edited it the controller has to reconcile it and then",
    "start": "943279",
    "end": "950279"
  },
  {
    "text": "uh it's going to make an IP call and it will make it",
    "start": "950279",
    "end": "955839"
  },
  {
    "text": "final taking some time here",
    "start": "955839",
    "end": "960600"
  },
  {
    "text": "what's what's happening here as I edited the API servers is supposed",
    "start": "961880",
    "end": "967360"
  },
  {
    "text": "to create an event that's not happening for",
    "start": "967360",
    "end": "974040"
  },
  {
    "text": "now did I edit it as supposed to",
    "start": "983480",
    "end": "990519"
  },
  {
    "text": "sorry I didn't I didn't quite hear that did you did you get [Music]",
    "start": "998160",
    "end": "1006319"
  },
  {
    "text": "that you're editing the one on status [Laughter]",
    "start": "1006319",
    "end": "1015040"
  },
  {
    "text": "yeah oh oh oh I I think I oh yeah that's true editing the the actual status",
    "start": "1015040",
    "end": "1022440"
  },
  {
    "text": "itself thank you thank you yay yeah I'm a little bit s I'm sorry",
    "start": "1022440",
    "end": "1030120"
  },
  {
    "text": "okay okay now I have edited the spec absolutely I describe it yeah now it's",
    "start": "1030120",
    "end": "1035280"
  },
  {
    "text": "back to final as supposed to the other thing is if I delete",
    "start": "1035280",
    "end": "1040480"
  },
  {
    "text": "the the speaker what I will get in the proposal is that we have new conditions that",
    "start": "1040480",
    "end": "1047319"
  },
  {
    "text": "telling us that you cannot reconcile The Proposal now because the speaker doesn't doesn't exist anymore right that was",
    "start": "1047319",
    "end": "1058320"
  },
  {
    "text": "it okay awesome yeah so um that just gives you a",
    "start": "1058480",
    "end": "1065080"
  },
  {
    "text": "sense of what what it should what it should do in the end and we also have test cases that you can see that explain exactly what um what should happen and",
    "start": "1065080",
    "end": "1074000"
  },
  {
    "text": "we'll we have the make file that with some make commands that you can just run yourself and we'll show you uh what each",
    "start": "1074000",
    "end": "1079120"
  },
  {
    "text": "of those tests will do um",
    "start": "1079120",
    "end": "1084600"
  },
  {
    "text": "thanks get a milk crate here for okay cool um yeah so okay so we I promised",
    "start": "1084600",
    "end": "1091840"
  },
  {
    "text": "that we would uh introduce some of the Lesser known Concepts um that we're",
    "start": "1091840",
    "end": "1097000"
  },
  {
    "text": "going to see throughout this tutorial um some are very well known some are not as known um some of you might know all of",
    "start": "1097000",
    "end": "1103559"
  },
  {
    "text": "them and some of you may know none of them so that's why we're going to go over these and there's just uh five of them so",
    "start": "1103559",
    "end": "1110600"
  },
  {
    "text": "um uh it is it is the fact it is the case",
    "start": "1110600",
    "end": "1115640"
  },
  {
    "text": "that this tutorial is an intermediate tutorial so it assumes some knowledge of kubernetes but I would say if anybody is",
    "start": "1115640",
    "end": "1123559"
  },
  {
    "text": "in here kind of wondering what's this all about um I do encourage you to check out the cncf glossery it's just glossy.",
    "start": "1123559",
    "end": "1129360"
  },
  {
    "text": "cncf doio where those concepts are are spelled out for anyone just approaching",
    "start": "1129360",
    "end": "1135520"
  },
  {
    "text": "some of those for the first time like what is a kubernetes cluster and things like that um",
    "start": "1135520",
    "end": "1142600"
  },
  {
    "text": "yeah so um so I'm going to talk about",
    "start": "1142600",
    "end": "1149039"
  },
  {
    "text": "reconciliation which is at the center of kubernetes",
    "start": "1149039",
    "end": "1154679"
  },
  {
    "text": "group um so the kubernetes community",
    "start": "1154679",
    "end": "1159840"
  },
  {
    "text": "repo if you haven't checked out the community repo of kubernetes have a look it's full of",
    "start": "1159840",
    "end": "1167360"
  },
  {
    "text": "great guides on how to build different things there's also a great guide on",
    "start": "1167360",
    "end": "1172640"
  },
  {
    "text": "controllers for developers that's been around since like forever um and",
    "start": "1172640",
    "end": "1179080"
  },
  {
    "text": "that has a list of best practices and information about how to build",
    "start": "1179080",
    "end": "1187240"
  },
  {
    "text": "controllers but there's a catch so first as written in these docs a kubernetes",
    "start": "1187240",
    "end": "1194559"
  },
  {
    "text": "controller actively reconciles resources what that means is that a reconciler",
    "start": "1194559",
    "end": "1200799"
  },
  {
    "text": "watches an object for crude operations create update delete Etc and",
    "start": "1200799",
    "end": "1207960"
  },
  {
    "text": "then it compares the desired state of the world with the actual State and then",
    "start": "1207960",
    "end": "1215000"
  },
  {
    "text": "it applies some logic to match the desired state with the current state and",
    "start": "1215000",
    "end": "1221679"
  },
  {
    "text": "the simplest implementation of this control Loop is this is this law this",
    "start": "1221679",
    "end": "1227559"
  },
  {
    "text": "Loop right here right that we see on the screen but in practice things are not",
    "start": "1227559",
    "end": "1233280"
  },
  {
    "text": "that simple um today we have built-in",
    "start": "1233280",
    "end": "1238320"
  },
  {
    "text": "controllers for the default kubernetes resources deployments Etc the scheduler is a",
    "start": "1238320",
    "end": "1247120"
  },
  {
    "text": "controller um an operator is a controller we have controllers for crds",
    "start": "1247120",
    "end": "1254120"
  },
  {
    "text": "as well so the the kubernetes back to the kubernetes deel developer guide on",
    "start": "1254120",
    "end": "1259200"
  },
  {
    "text": "controllers it's really great for learning how to build the controller",
    "start": "1259200",
    "end": "1264799"
  },
  {
    "text": "from scratch for built-in resources that you can find um easily",
    "start": "1264799",
    "end": "1274520"
  },
  {
    "text": "without having to build any scaffolding around these resources like deployments",
    "start": "1274520",
    "end": "1279760"
  },
  {
    "text": "for example um and it doesn't make use of",
    "start": "1279760",
    "end": "1285559"
  },
  {
    "text": "scaffolding libraries such as cube Builder um in essence as you can if if you've",
    "start": "1285559",
    "end": "1293159"
  },
  {
    "text": "opened up the the the the guide you initialize a controller struct that",
    "start": "1293159",
    "end": "1299320"
  },
  {
    "text": "reads from a cache um of resources you then have to",
    "start": "1299320",
    "end": "1305320"
  },
  {
    "text": "list and watch a specific resource with the Watcher",
    "start": "1305320",
    "end": "1310919"
  },
  {
    "text": "method um then you use an Informer to retrieve information about the resource",
    "start": "1310919",
    "end": "1317440"
  },
  {
    "text": "that you are are watching um then you handle some of the logic for the",
    "start": "1317440",
    "end": "1324240"
  },
  {
    "text": "events um that the create update the crude events that are that are occurring",
    "start": "1324240",
    "end": "1331400"
  },
  {
    "text": "and then you reconcile you resync and you handle um graceful shutdowns and",
    "start": "1331400",
    "end": "1338320"
  },
  {
    "text": "errors this is relatively straightforward for common kubernetes",
    "start": "1338320",
    "end": "1344919"
  },
  {
    "text": "resources again like deployments in pods but it becomes harder for custom",
    "start": "1344919",
    "end": "1351640"
  },
  {
    "text": "resources right um and this is where Cube Builder really",
    "start": "1351640",
    "end": "1356880"
  },
  {
    "text": "shines and this is what we're going to be looking at today and first I mean what is the",
    "start": "1356880",
    "end": "1365840"
  },
  {
    "text": "controller runtime framework thank",
    "start": "1365840",
    "end": "1372799"
  },
  {
    "text": "you so during this tutorial we're going to be building controllers using control",
    "start": "1372799",
    "end": "1377919"
  },
  {
    "text": "controller runtime um but before diving into controller runtime let's take a",
    "start": "1377919",
    "end": "1383640"
  },
  {
    "text": "look at how Native controllers like deployment and replica are built uh so",
    "start": "1383640",
    "end": "1390360"
  },
  {
    "text": "initially they were built using core components like informers shared informers lists and work cues at the at",
    "start": "1390360",
    "end": "1399039"
  },
  {
    "text": "the left of this schema you're going to see that we have the deployment Informer replica set Informer and P informers",
    "start": "1399039",
    "end": "1406279"
  },
  {
    "text": "those are kubernetes components that will register what we call the the",
    "start": "1406279",
    "end": "1411799"
  },
  {
    "text": "event handlers so whenever you create a deployment or a replica set or aod these",
    "start": "1411799",
    "end": "1417320"
  },
  {
    "text": "informers will catch this um event and apply one of those functions one when",
    "start": "1417320",
    "end": "1422520"
  },
  {
    "text": "those functions are applied uh they're going to we're going to send the object to the to the worker queue where they're",
    "start": "1422520",
    "end": "1429200"
  },
  {
    "text": "going to be processed later by a manager the manager on the right is a component",
    "start": "1429200",
    "end": "1434240"
  },
  {
    "text": "that will execute the reconciliation function which will move your object",
    "start": "1434240",
    "end": "1439520"
  },
  {
    "text": "from the latest or try to move your object from the latest to the desired",
    "start": "1439520",
    "end": "1445880"
  },
  {
    "text": "State um controller runtime is a set of go Library uh go libraries uh for",
    "start": "1448600",
    "end": "1454159"
  },
  {
    "text": "building controllers it simplifies a lot of things um it is a product of years of",
    "start": "1454159",
    "end": "1459640"
  },
  {
    "text": "experience building controllers we've learned a lot from uh building native controllers like deployment and uh",
    "start": "1459640",
    "end": "1466240"
  },
  {
    "text": "stateful set and we try to create controller run time and that's what we're going to use today it also Heights",
    "start": "1466240",
    "end": "1472360"
  },
  {
    "text": "the complexity of building controllers for example during this tutorial we're not going to see what is a shed Informer or what is a list we're going to use",
    "start": "1472360",
    "end": "1478840"
  },
  {
    "text": "directly components that will simplify all this um um pipeline for us it allows",
    "start": "1478840",
    "end": "1486120"
  },
  {
    "text": "you also to focus on the logic of the sync function it means that you will not have to deal with any events or any",
    "start": "1486120",
    "end": "1493200"
  },
  {
    "text": "specific functions you just focus on how do I move my objects from the latest to the desired state it is well tested and",
    "start": "1493200",
    "end": "1500760"
  },
  {
    "text": "maintain it of course it's open source um it's a very good read if you ever um want to go and see how it's built",
    "start": "1500760",
    "end": "1508000"
  },
  {
    "text": "inside and just few examples on on what are you",
    "start": "1508000",
    "end": "1513279"
  },
  {
    "text": "going to find in this library is for example there is PKG log it's for",
    "start": "1513279",
    "end": "1518880"
  },
  {
    "text": "standardized login uh so you will not have to import anything about login",
    "start": "1518880",
    "end": "1523960"
  },
  {
    "text": "everything is built in there regarding verbosity and um against stuff there's",
    "start": "1523960",
    "end": "1529880"
  },
  {
    "text": "also the leader election so uh if you ever heard that controllers can also have the leader election mechanism you",
    "start": "1529880",
    "end": "1535360"
  },
  {
    "text": "can have multiple controllers uh trying to fight or like to get the responsibility of managing your",
    "start": "1535360",
    "end": "1540440"
  },
  {
    "text": "resources you don't have to build that yourself there is the PKG leer",
    "start": "1540440",
    "end": "1545760"
  },
  {
    "text": "election um there is also a library to manage web hooks um validation web hooks",
    "start": "1545760",
    "end": "1550799"
  },
  {
    "text": "mation web Hooks and other things like rate limiting and um testing for example",
    "start": "1550799",
    "end": "1557360"
  },
  {
    "text": "when whenever you want to test your controller you either can do unit testing or spin a real kind cluster or a",
    "start": "1557360",
    "end": "1564200"
  },
  {
    "text": "real kubernetes cluster to test your controller or you can use PKG /n test",
    "start": "1564200",
    "end": "1569559"
  },
  {
    "text": "that provide you a very similar enir kubernetes environment that is not",
    "start": "1569559",
    "end": "1575360"
  },
  {
    "text": "really a real real one but can be used for testing",
    "start": "1575360",
    "end": "1580000"
  },
  {
    "text": "purposes uh so we are going to use keep builder for for our project here keep",
    "start": "1585880",
    "end": "1592880"
  },
  {
    "text": "Builder is a framework that use contr time actually and then it it it builds",
    "start": "1592880",
    "end": "1598000"
  },
  {
    "text": "actually there's a scaffolding that build all the project for you and then you really have only to to focus on",
    "start": "1598000",
    "end": "1605919"
  },
  {
    "text": "implementing your controller logic so there is a cube builder in it and CU Builder create API that you can use to",
    "start": "1605919",
    "end": "1612320"
  },
  {
    "text": "build a project and have all the API set set up for you there are other Frameworks of uh other Frameworks that",
    "start": "1612320",
    "end": "1619200"
  },
  {
    "text": "exist including the operator framework and you have K as well that do that you",
    "start": "1619200",
    "end": "1624640"
  },
  {
    "text": "can go to the key Builder book if you want to know more about that so let's talk about conditions uh",
    "start": "1624640",
    "end": "1632200"
  },
  {
    "text": "as we showed during the demo uh you can have condition set in the status of your",
    "start": "1632200",
    "end": "1638080"
  },
  {
    "text": "custom resource the condition are set of types so you can have ready ready condition but schedule for example and",
    "start": "1638080",
    "end": "1645159"
  },
  {
    "text": "if each type has a status and the condition represent the current",
    "start": "1645159",
    "end": "1650360"
  },
  {
    "text": "state of your customer source so it is computed and it can be recomputed every",
    "start": "1650360",
    "end": "1655480"
  },
  {
    "text": "time you don't have to to S It Anyway any any anywhere and you use the",
    "start": "1655480",
    "end": "1662279"
  },
  {
    "text": "condition actually to communicate the state of customer between different uh controllers for example if you have one",
    "start": "1662279",
    "end": "1668960"
  },
  {
    "text": "consuming controller one producing controller and one consuming controller you can use the conditions to know the",
    "start": "1668960",
    "end": "1675320"
  },
  {
    "text": "current state of your custom resource the the conditions will be uh set in an",
    "start": "1675320",
    "end": "1681720"
  },
  {
    "text": "ABN abnormal tripity to give an example uh when in our project we do uh a call",
    "start": "1681720",
    "end": "1689080"
  },
  {
    "text": "to fetch a speaker if the call doesn't succeed for any network uh reason we can",
    "start": "1689080",
    "end": "1696159"
  },
  {
    "text": "have a condition that we call fetch F condition and it will be fetch F through",
    "start": "1696159",
    "end": "1702039"
  },
  {
    "text": "and say abnormal true because those condition are supposed to be on the customer s only when something not",
    "start": "1702039",
    "end": "1709480"
  },
  {
    "text": "normal happens otherwise you you should not have them uh I can take this one if that's",
    "start": "1709480",
    "end": "1717279"
  },
  {
    "text": "cool yeah unless you want to do that okay um yeah so basically how",
    "start": "1717279",
    "end": "1723120"
  },
  {
    "text": "to there's this cool how many of you know about observe generation or work with that at all um in your day-to-day",
    "start": "1723120",
    "end": "1730519"
  },
  {
    "text": "or ever yeah okay so a few hands it's a really good thing to know just like conditions are right so basically",
    "start": "1730519",
    "end": "1738159"
  },
  {
    "text": "um the custom resource definitions are supposed to set a field called observe generation in the status object um this",
    "start": "1738159",
    "end": "1746919"
  },
  {
    "text": "is already what built-in kubernetes um resource types do but um the controller",
    "start": "1746919",
    "end": "1754399"
  },
  {
    "text": "your controller that you're building um and the one that we set up as a as a step by- step for you um should update",
    "start": "1754399",
    "end": "1761760"
  },
  {
    "text": "that field um every time it need sees a new generation of the resource um",
    "start": "1761760",
    "end": "1766799"
  },
  {
    "text": "basically the point of it is to to allow the controller to to be able to tell the",
    "start": "1766799",
    "end": "1772120"
  },
  {
    "text": "difference between resources that um that don't have any conditions set because um they're already fully",
    "start": "1772120",
    "end": "1778880"
  },
  {
    "text": "reconciled from resources that don't have any conditions set because they've just been created or aren't quite quite",
    "start": "1778880",
    "end": "1784799"
  },
  {
    "text": "there yet so that um is very helpful and um if you've ever used controllers that",
    "start": "1784799",
    "end": "1789840"
  },
  {
    "text": "don't do that there's often lots of Ed Edge cases race conditions and different things where that are pretty hard to",
    "start": "1789840",
    "end": "1795559"
  },
  {
    "text": "reproduce um this was something that was introduced into kubernetes a while back to help solve those use",
    "start": "1795559",
    "end": "1803559"
  },
  {
    "text": "cases so we're right on time actually yeah great does anyone need the link to",
    "start": "1804799",
    "end": "1811000"
  },
  {
    "text": "the repo again so we can go back or okay okay we'll braid we'll braid",
    "start": "1811000",
    "end": "1818080"
  },
  {
    "text": "these every time we so oh yes you were asking if anybody",
    "start": "1818080",
    "end": "1826240"
  },
  {
    "text": "needed help everyone is okay with the dev environment before we start uh with the step by step",
    "start": "1826240",
    "end": "1833919"
  },
  {
    "text": "guide and it's a okay to just watch too but okay great any issues raise your",
    "start": "1833919",
    "end": "1839480"
  },
  {
    "text": "hand and yeah great uh so so the step by step to",
    "start": "1839480",
    "end": "1845240"
  },
  {
    "text": "we um so we have we have written all the controllers actually and we have set",
    "start": "1845240",
    "end": "1850679"
  },
  {
    "text": "tags for every step of of the writing the controller process so on",
    "start": "1850679",
    "end": "1857320"
  },
  {
    "text": "the step one is just to uh use the tag S1 for step one and create a branch for",
    "start": "1857320",
    "end": "1864320"
  },
  {
    "text": "from that and I'll do this [Music]",
    "start": "1864320",
    "end": "1872268"
  },
  {
    "text": "that I think I have a bench already we need to add the log for yeah",
    "start": "1877799",
    "end": "1885080"
  },
  {
    "text": "we said it's root okay oh real quick has everybody checked out",
    "start": "1885080",
    "end": "1891639"
  },
  {
    "text": "the the get repo that was on that QR code um okay cool uh yes oh you have done it",
    "start": "1891639",
    "end": "1900519"
  },
  {
    "text": "okay cool uh great um yeah so the password it's",
    "start": "1900519",
    "end": "1909880"
  },
  {
    "text": "yeah super secure password uh root root",
    "start": "1909880",
    "end": "1915000"
  },
  {
    "text": "username root password root never do that so as sule is going through these",
    "start": "1915000",
    "end": "1922200"
  },
  {
    "text": "through these steps you can also if you want to compare um for the workshop and",
    "start": "1922200",
    "end": "1928360"
  },
  {
    "text": "just look check out the workshop branch and look at the commits each commit tells exactly the commits were separated",
    "start": "1928360",
    "end": "1934880"
  },
  {
    "text": "pretty well separated so or actually very well separated so that each commit shows um what step by step What's Done",
    "start": "1934880",
    "end": "1943399"
  },
  {
    "text": "step by step and those correspond to the to the tags that sule will guide you",
    "start": "1943399",
    "end": "1948720"
  },
  {
    "text": "through checking out okay now that we are on the first step something to know is that uh we have a test Target in the",
    "start": "1948720",
    "end": "1957720"
  },
  {
    "text": "me me file that is going to generate the M effect for you and then going to run",
    "start": "1957720",
    "end": "1963120"
  },
  {
    "text": "the API for you and then it's going to run all the IND individual unit test that you have and",
    "start": "1963120",
    "end": "1970480"
  },
  {
    "text": "then add is do the clean API so this is it is doing this locally either in G pod",
    "start": "1970480",
    "end": "1976639"
  },
  {
    "text": "or your own local environment so one API is uh actually going to win the API men",
    "start": "1976639",
    "end": "1986279"
  },
  {
    "text": "go and the clean API is going to kill the process and uh clean up every data",
    "start": "1986279",
    "end": "1991960"
  },
  {
    "text": "that has been created so what do we have",
    "start": "1991960",
    "end": "1997720"
  },
  {
    "text": "here so we use keep Builder we did keep builder in need beforehand and then we",
    "start": "1997720",
    "end": "2003559"
  },
  {
    "text": "could we we have written all the control from that uh so we have a speaker",
    "start": "2003559",
    "end": "2011960"
  },
  {
    "text": "customer s definition so what we have inside is we have a spec to the name the the bio and the email of the speaker and",
    "start": "2011960",
    "end": "2019120"
  },
  {
    "text": "we use keep Builder markers that we can see here to add some validation so the",
    "start": "2019120",
    "end": "2024519"
  },
  {
    "text": "name has to be a string the email has to follow some reject pattern",
    "start": "2024519",
    "end": "2030080"
  },
  {
    "text": "here then we have the status and in the status we have the observe generation the ID and set of some uh set of",
    "start": "2030080",
    "end": "2037799"
  },
  {
    "text": "conditions we can see that all of them are optionals so at the beginning we won't have any ID any conditions and",
    "start": "2037799",
    "end": "2044159"
  },
  {
    "text": "then we can through the reconciliation process we can add",
    "start": "2044159",
    "end": "2049480"
  },
  {
    "text": "those and then what we have here he said by key Builder to the speaker has to uh",
    "start": "2049520",
    "end": "2056960"
  },
  {
    "text": "Implement type meter and uh object meter those are in object meta you can see",
    "start": "2056960",
    "end": "2062599"
  },
  {
    "text": "that you have the kind on the IPI version and type meta you have the names and space on other",
    "start": "2062599",
    "end": "2069638"
  },
  {
    "text": "um the name name space and other uh fields that you have to to",
    "start": "2069639",
    "end": "2077960"
  },
  {
    "text": "implement so that's it for the weer let's move",
    "start": "2079720",
    "end": "2086480"
  },
  {
    "text": "on so what uh key Builder does for us as well is to generate the",
    "start": "2086480",
    "end": "2093839"
  },
  {
    "text": "CDs uh and the manifest actually to",
    "start": "2093839",
    "end": "2100800"
  },
  {
    "text": "deploy our controllers so if you haven't used Cube",
    "start": "2100800",
    "end": "2107440"
  },
  {
    "text": "Builder um most of what you see the scaffolding was generated by Cube",
    "start": "2107440",
    "end": "2115000"
  },
  {
    "text": "Builder um and it's a probably should yeah we",
    "start": "2115000",
    "end": "2120800"
  },
  {
    "text": "can add the command anyway it's okay well we do actually have the commands um inside of yeah ins not in the readme but",
    "start": "2120800",
    "end": "2129359"
  },
  {
    "text": "um the readme shows the readme of the get repo shows how the code is organized where the cfp API is that we've made as",
    "start": "2129359",
    "end": "2136000"
  },
  {
    "text": "a dummy API and then where the um uh and then the cfp folder it's named that way",
    "start": "2136000",
    "end": "2143160"
  },
  {
    "text": "because um it needs to be named for for your uh controller inside of inside of",
    "start": "2143160",
    "end": "2149000"
  },
  {
    "text": "that there's the steps that we used to generate so if you want to go back and say oh how did they do that you could",
    "start": "2149000",
    "end": "2155520"
  },
  {
    "text": "okay yeah so most most of it most of it it it it was generated by CU Builder and",
    "start": "2155520",
    "end": "2161440"
  },
  {
    "text": "just the the initialization command um and most of the work that we will do",
    "start": "2161440",
    "end": "2167359"
  },
  {
    "text": "will be in the reconcile function that we will see in a",
    "start": "2167359",
    "end": "2172680"
  },
  {
    "text": "minute great uh what we have here uh in internal cfp is we should show this we",
    "start": "2172680",
    "end": "2181040"
  },
  {
    "text": "have a client and um what the client is doing is is actually just an HTP client",
    "start": "2181040",
    "end": "2187920"
  },
  {
    "text": "that is going to uh call the API uh in order to create update but do crate",
    "start": "2187920",
    "end": "2193960"
  },
  {
    "text": "operation on the speakers endpoint and the proposal endpoint this this is the API we will be",
    "start": "2193960",
    "end": "2200520"
  },
  {
    "text": "using in in our controllers can see that here and now if",
    "start": "2200520",
    "end": "2207200"
  },
  {
    "text": "you look at men so this is where everything is set",
    "start": "2207200",
    "end": "2213838"
  },
  {
    "text": "up so we have a scheme that is set up a scheme uh what",
    "start": "2215119",
    "end": "2221160"
  },
  {
    "text": "the scheme is doing is the scheme is is actually the enterface that is permitting you to uh to match the rest K",
    "start": "2221160",
    "end": "2230880"
  },
  {
    "text": "server where you have your custom uses and the go type that you have in your controller so in order uh for controll",
    "start": "2230880",
    "end": "2240119"
  },
  {
    "text": "time and clent go under under control time to go fetch those those um those",
    "start": "2240119",
    "end": "2245800"
  },
  {
    "text": "objects from the server it's because client go using go types it need a w from those go type and",
    "start": "2245800",
    "end": "2252960"
  },
  {
    "text": "the go kind you have for your go type to be able to find the the the endo on the",
    "start": "2252960",
    "end": "2260359"
  },
  {
    "text": "W API to call the QB Ser on the scheme is the what's giving you that so you create your type and",
    "start": "2260359",
    "end": "2267240"
  },
  {
    "text": "you you set your type in this in the scheme I will see uh so what we have here we have some",
    "start": "2267240",
    "end": "2275839"
  },
  {
    "text": "Flags the first two ones are set by CUA first",
    "start": "2275839",
    "end": "2282880"
  },
  {
    "text": "so this is the biometric address for Matrix and a P is for the heal checks",
    "start": "2282880",
    "end": "2288680"
  },
  {
    "text": "that we have and we we we have added a flag here that we called CP endpoint",
    "start": "2288680",
    "end": "2295520"
  },
  {
    "text": "address and this is the endpoint the the endpoint address of of the of the the",
    "start": "2295520",
    "end": "2301440"
  },
  {
    "text": "API that we have written and the def is Local Host with the port",
    "start": "2301440",
    "end": "2308000"
  },
  {
    "text": "we don't enable leader election at all here because um well we could we could but we have",
    "start": "2308000",
    "end": "2315319"
  },
  {
    "text": "only one Running part one running and sense of our contct so we don't need",
    "start": "2315319",
    "end": "2320720"
  },
  {
    "text": "election here um so then what we do is we create a new manager as am said we",
    "start": "2320720",
    "end": "2328920"
  },
  {
    "text": "have a manager that manages controlers so the managers the manager does a lot",
    "start": "2328920",
    "end": "2334800"
  },
  {
    "text": "of things for us is going to create cashes and forers for us and set watches",
    "start": "2334800",
    "end": "2340800"
  },
  {
    "text": "to the qbi server so we can see when so we can get events when new objects are",
    "start": "2340800",
    "end": "2346319"
  },
  {
    "text": "created or objects are updated and then it managed our controller live cycle and",
    "start": "2346319",
    "end": "2353839"
  },
  {
    "text": "it's uh when we have new events it forward those events to our controller",
    "start": "2353839",
    "end": "2359960"
  },
  {
    "text": "to theq and then we we declare our two",
    "start": "2359960",
    "end": "2366119"
  },
  {
    "text": "speaker to reconciler we have a speaker reconciler that we are talking about now and then we will have the proposal",
    "start": "2366119",
    "end": "2372480"
  },
  {
    "text": "reconciler and we set them with the manager of the controller and that's it uh now let's",
    "start": "2372480",
    "end": "2381400"
  },
  {
    "text": "talk about the controllers the controllers themselves so what we did is we we we have a suit",
    "start": "2381400",
    "end": "2388680"
  },
  {
    "text": "test that is set up so what the yeah something we didn't say is that",
    "start": "2388680",
    "end": "2394440"
  },
  {
    "text": "we use the flex uh SDK here because um well we work on flux mostly and we use",
    "start": "2394440",
    "end": "2403560"
  },
  {
    "text": "those uh we use flux SDK because on the flex SDK we have",
    "start": "2403560",
    "end": "2408599"
  },
  {
    "text": "many things that we learn to witing controllers that we set in in in the",
    "start": "2408599",
    "end": "2415079"
  },
  {
    "text": "package in Flex dek that make it easier for us to WR our controller and we think",
    "start": "2415079",
    "end": "2421240"
  },
  {
    "text": "that well you you can use those because really make it easier as we will see or",
    "start": "2421240",
    "end": "2426640"
  },
  {
    "text": "you can write your own uh function helpers one thing I wanted to do that I didn't do is have a slide right about",
    "start": "2426640",
    "end": "2433319"
  },
  {
    "text": "here where it shows the like thousand lines of code from the uh the the",
    "start": "2433319",
    "end": "2438960"
  },
  {
    "text": "handwritten um in order to to work with conditions um for for the C builder",
    "start": "2438960",
    "end": "2445440"
  },
  {
    "text": "tutorial versus using in the flux package where it's really just a few lines um we can explain what they do but",
    "start": "2445440",
    "end": "2451760"
  },
  {
    "text": "I think that the functions the package the flux CD package runtime controller",
    "start": "2451760",
    "end": "2457800"
  },
  {
    "text": "package um has uh it's semantically written so it should kind of tell you as",
    "start": "2457800",
    "end": "2463760"
  },
  {
    "text": "you're writing and as you see the the statements what it's actually doing but if any of that's unclear just just ask",
    "start": "2463760",
    "end": "2470240"
  },
  {
    "text": "us and we can also link to it does anyone have any questions or so far or",
    "start": "2470240",
    "end": "2476640"
  },
  {
    "text": "is not following or anything at all is that a question around the",
    "start": "2476640",
    "end": "2484319"
  },
  {
    "text": "election can you take the M the mic I'm",
    "start": "2485240",
    "end": "2492960"
  },
  {
    "text": "sorry so I just had a question to around oh you've got your mask on still",
    "start": "2496160",
    "end": "2501319"
  },
  {
    "text": "check check check just had a question around the leader election ID in main.go",
    "start": "2501319",
    "end": "2507560"
  },
  {
    "text": "and why that was being set to a static value um I'm curious if there was say",
    "start": "2507560",
    "end": "2512960"
  },
  {
    "text": "like another instance of this operator that started up um wouldn't that like I guess how does that",
    "start": "2512960",
    "end": "2518680"
  },
  {
    "text": "work and like wouldn't they need unique identifiers I'm just I'm sry oh he's",
    "start": "2518680",
    "end": "2525280"
  },
  {
    "text": "asking that if I if I heard you right the the static ID for the leader election he was asking why we set a",
    "start": "2525280",
    "end": "2532880"
  },
  {
    "text": "static idea and what would happen if you were to install multiple instances of this yep I can do",
    "start": "2532880",
    "end": "2540520"
  },
  {
    "text": "that so you're talking about this yeah we're did I get that right",
    "start": "2540520",
    "end": "2545760"
  },
  {
    "text": "this one okay yeah exactly um so what we do with the with the",
    "start": "2545760",
    "end": "2553480"
  },
  {
    "text": "lection is when we have several entrances of a of a given",
    "start": "2553480",
    "end": "2559359"
  },
  {
    "text": "controller like we have a speaker controller here we we we only have one part but we have several parts we have",
    "start": "2559359",
    "end": "2565760"
  },
  {
    "text": "several instances and they're supposed to do uh the same job so they need some",
    "start": "2565760",
    "end": "2570800"
  },
  {
    "text": "kind of synchronization between them to know uh when a given object uh is coming",
    "start": "2570800",
    "end": "2576240"
  },
  {
    "text": "how to reconcile that object and to make sure that two uh those two or several",
    "start": "2576240",
    "end": "2581839"
  },
  {
    "text": "instances don't do not do the same job so what uh Community does here is that",
    "start": "2581839",
    "end": "2588800"
  },
  {
    "text": "we have uh an ID and the ID is going to be uh hold held by uh release object and",
    "start": "2588800",
    "end": "2598160"
  },
  {
    "text": "when uh the releas election is happening it is using wrapped under the hood I",
    "start": "2598160",
    "end": "2604559"
  },
  {
    "text": "don't know if you know about w the raft project you know about this well it's a",
    "start": "2604559",
    "end": "2609640"
  },
  {
    "text": "standard for uh are you familiar with raft or do we yeah right I thought so",
    "start": "2609640",
    "end": "2616200"
  },
  {
    "text": "because you asked that question okay yeah so he's doing this and um so and all the all the instances that",
    "start": "2616200",
    "end": "2624280"
  },
  {
    "text": "is going to draft in order to to to try to get to be elected leader and the one that is elected leader is going to have",
    "start": "2624280",
    "end": "2630800"
  },
  {
    "text": "the lease and he holding the Lee until uh it Quest or something like this and",
    "start": "2630800",
    "end": "2636520"
  },
  {
    "text": "there is um uh how do you call it a health check",
    "start": "2636520",
    "end": "2642000"
  },
  {
    "text": "that is done every a given amount of time to check whether the leader is still active and he still he still is a",
    "start": "2642000",
    "end": "2648200"
  },
  {
    "text": "leader and if it and the leader has respond when the is done say okay I'm still leader I'm still active and when",
    "start": "2648200",
    "end": "2654640"
  },
  {
    "text": "it's not active a new leader election happens and the new object get to be the",
    "start": "2654640",
    "end": "2659720"
  },
  {
    "text": "leader and uh we have also this leader election ReliOn councel that can be set so cont",
    "start": "2659720",
    "end": "2667000"
  },
  {
    "text": "time can say um okay at some point this leader crash",
    "start": "2667000",
    "end": "2672359"
  },
  {
    "text": "crashed and so we can sell it and we we do some cleanup I've never use it actually we don't use it yeah we just we",
    "start": "2672359",
    "end": "2679400"
  },
  {
    "text": "just didn't need to show that for for this part so we just comment that",
    "start": "2679400",
    "end": "2685800"
  },
  {
    "text": "stuff thanks uh so coming back to the test s",
    "start": "2686880",
    "end": "2692960"
  },
  {
    "text": "there's another question I could take probably one of the M",
    "start": "2692960",
    "end": "2700160"
  },
  {
    "text": "two oh just help okay um so on the test what we use is we use um the test the",
    "start": "2704920",
    "end": "2713760"
  },
  {
    "text": "the m test that that is provided by the kuet Sig uh that is actually that is",
    "start": "2713760",
    "end": "2721680"
  },
  {
    "text": "that is generating a test environment first that we can with the with real QB APS that we can use to run our our test",
    "start": "2721680",
    "end": "2729000"
  },
  {
    "text": "uh we use this and we have wrapper around this that is uh the flux test",
    "start": "2729000",
    "end": "2734440"
  },
  {
    "text": "AR here this this is from plug one time test time what this does is giving us",
    "start": "2734440",
    "end": "2741240"
  },
  {
    "text": "nice helper functions in order to when we create a given object uh to the aps",
    "start": "2741240",
    "end": "2746839"
  },
  {
    "text": "server we can wait to make sure that this object has been created for",
    "start": "2746839",
    "end": "2751920"
  },
  {
    "text": "example so we said um uh the end point",
    "start": "2751920",
    "end": "2757400"
  },
  {
    "text": "and then we generate we we create a reconciler here and then we",
    "start": "2757400",
    "end": "2765079"
  },
  {
    "text": "start uh this test environment and in the end we stop the test environment and we clean up that's what is doing for so",
    "start": "2765079",
    "end": "2773559"
  },
  {
    "text": "now if um so for the reconciler we have a test",
    "start": "2773559",
    "end": "2781119"
  },
  {
    "text": "SC here so for for every test case what we do we have a name a speaker a bio an",
    "start": "2781119",
    "end": "2787520"
  },
  {
    "text": "email and some conditions that have to be oated against and you pass those condition to",
    "start": "2787520",
    "end": "2794640"
  },
  {
    "text": "an asset function so the first test case is uh to",
    "start": "2794640",
    "end": "2799839"
  },
  {
    "text": "create a speaker and to reconcile it so we create a speaker named Luke",
    "start": "2799839",
    "end": "2806160"
  },
  {
    "text": "Skywalker uh we set the the bio to first Speaker bio and we set an email to First",
    "start": "2806160",
    "end": "2812000"
  },
  {
    "text": "ATP mail.com and the condition that we expect here is is that uh that the ready",
    "start": "2812000",
    "end": "2818559"
  },
  {
    "text": "condition is to succeeded with the reconcile with a name of the rec of the",
    "start": "2818559",
    "end": "2825040"
  },
  {
    "text": "object that has been reconciled to successfully should we have everyone check out the step one branch for",
    "start": "2825040",
    "end": "2833440"
  },
  {
    "text": "creating speaker yep okay but we said everyone is on everyone has checked the",
    "start": "2833440",
    "end": "2840440"
  },
  {
    "text": "the tag on S1 and has created a bench from that okay yeah not yet um that's",
    "start": "2840440",
    "end": "2845520"
  },
  {
    "text": "how you do this you type get checkout tag S1 dasb S1",
    "start": "2845520",
    "end": "2854040"
  },
  {
    "text": "bench oh yeah good good point yeah CD into cfp and then run make test thank",
    "start": "2863880",
    "end": "2872880"
  },
  {
    "text": "you uh yeah so let's go on so what we do for every test case is we",
    "start": "2874720",
    "end": "2882200"
  },
  {
    "text": "create an name space and at the end of the test we we delete the name space",
    "start": "2882200",
    "end": "2887640"
  },
  {
    "text": "when we delete the name space we clean up everything that is inside we create a",
    "start": "2887640",
    "end": "2893559"
  },
  {
    "text": "speaker with all the information that we have in the test case we do qu and rate",
    "start": "2893559",
    "end": "2899440"
  },
  {
    "text": "of the speaker and then we run the asset the asset function with the condition that want",
    "start": "2899440",
    "end": "2906760"
  },
  {
    "text": "and for the first one on what we do is we wait",
    "start": "2906760",
    "end": "2913319"
  },
  {
    "text": "on to have the object with the finalizer we exp what is the finalizer we wait to have the with",
    "start": "2913319",
    "end": "2920160"
  },
  {
    "text": "the finalizer and then we wait for the speaker object to be ready and for it to",
    "start": "2920160",
    "end": "2925760"
  },
  {
    "text": "be ready we need to uh to have the generation of the ready condition to be",
    "start": "2925760",
    "end": "2931640"
  },
  {
    "text": "the same generation as the object and we need the generation of the object to be",
    "start": "2931640",
    "end": "2938079"
  },
  {
    "text": "the the one that is setting the status to to be to make sure that we are reconciling the right generation and",
    "start": "2938079",
    "end": "2944680"
  },
  {
    "text": "that the ready condition represent the condition of the right generation and then we make thetion uh",
    "start": "2944680",
    "end": "2952000"
  },
  {
    "text": "the we we match we look at the statish",
    "start": "2952000",
    "end": "2957520"
  },
  {
    "text": "condition to to make sure it matches the condition that we are waiting",
    "start": "2957520",
    "end": "2963480"
  },
  {
    "text": "for so to teste this you can just do make",
    "start": "2963720",
    "end": "2969319"
  },
  {
    "text": "test where am",
    "start": "2969359",
    "end": "2972640"
  },
  {
    "text": "I yep make this and it the test",
    "start": "2977520",
    "end": "2985838"
  },
  {
    "text": "first I just as a reminder about the our progress bar if we had a pro like a kind of pizza Hut delivery progress bar on",
    "start": "2990040",
    "end": "2997839"
  },
  {
    "text": "top we're in step one of seven and it'll just be each each branch or sorry each",
    "start": "2997839",
    "end": "3004720"
  },
  {
    "text": "tag that's checked out so uh it will as I expained earlier",
    "start": "3004720",
    "end": "3010559"
  },
  {
    "text": "this will wi the API and then make the test and clean everything at the end for you so we this one note if you're using",
    "start": "3010559",
    "end": "3019599"
  },
  {
    "text": "git pod oh okay yeah uh if you're using git pod you should go to the prepare k3s",
    "start": "3019599",
    "end": "3027640"
  },
  {
    "text": "make um terminal not the the shell not the other one okay not the one that's automatically opens just go to be the",
    "start": "3027640",
    "end": "3034720"
  },
  {
    "text": "one above that's all what's the difference the automatic one is the one at the bottom yeah it opens on the wrong",
    "start": "3034720",
    "end": "3042400"
  },
  {
    "text": "one that's not um uh in the repo yeah okay",
    "start": "3042400",
    "end": "3049240"
  },
  {
    "text": "so okay now let's see what this does um so what we have have is is a speaker",
    "start": "3049240",
    "end": "3057200"
  },
  {
    "text": "reconciler and what we um what key Builder does for us is create the",
    "start": "3057200",
    "end": "3062839"
  },
  {
    "text": "speaker reconcil and you put a client this is a client to to speak to the to the API",
    "start": "3062839",
    "end": "3069760"
  },
  {
    "text": "server so something to say about the client when he's speaking to the API server is speaking to the API server",
    "start": "3069760",
    "end": "3076920"
  },
  {
    "text": "directly when it want to create something an object for example but when",
    "start": "3076920",
    "end": "3081960"
  },
  {
    "text": "is reading uh object is always reading to the cash it's not directly speaking",
    "start": "3081960",
    "end": "3087079"
  },
  {
    "text": "to the API server for that so we we have uh added an NP client to talk to our API",
    "start": "3087079",
    "end": "3095880"
  },
  {
    "text": "we set the controller name and FP API this is the end point so we",
    "start": "3095880",
    "end": "3101880"
  },
  {
    "text": "set it up with the manager so we said that we watch CH for object of type talk",
    "start": "3101880",
    "end": "3107680"
  },
  {
    "text": "view on the speaker that's for my RPA then uh what we need to implement is",
    "start": "3107680",
    "end": "3115599"
  },
  {
    "text": "the reconcile function that return result on an error so the result",
    "start": "3115599",
    "end": "3124000"
  },
  {
    "text": "um so at the end of the Recon function if you return that Recon has failed what",
    "start": "3124000",
    "end": "3130040"
  },
  {
    "text": "the controller time the the controller manager is going to us is is going to cue uh the object again for for to be",
    "start": "3130040",
    "end": "3137880"
  },
  {
    "text": "reconciled uh after a back off uh but uh if you have no",
    "start": "3137880",
    "end": "3145920"
  },
  {
    "text": "failure we it's up to us to set whether we want to be cured again or not so we can do it through the result the results",
    "start": "3145920",
    "end": "3153040"
  },
  {
    "text": "if you look at result we can see that we have a RQ that is a Boolean and we can set the RQ after",
    "start": "3153040",
    "end": "3160440"
  },
  {
    "text": "that the time so we can set VQ after some",
    "start": "3160440",
    "end": "3165599"
  },
  {
    "text": "time so what you're going to do is for this this when when we have a new",
    "start": "3170920",
    "end": "3176720"
  },
  {
    "text": "reconciliation happen we are going to retrieve the object that we are supposed to reconcile so we do this on by getting",
    "start": "3176720",
    "end": "3185040"
  },
  {
    "text": "a a name space name that we said the name space and the name of the object that we want to to retrieve and you use",
    "start": "3185040",
    "end": "3192200"
  },
  {
    "text": "the client to retrieve it and then what you're going to use is",
    "start": "3192200",
    "end": "3199200"
  },
  {
    "text": "um we create um a patch that new helper this is from Flex what this going to do",
    "start": "3199200",
    "end": "3205799"
  },
  {
    "text": "for us is doing the if you want to patch patch an object like we have a retrieve",
    "start": "3205799",
    "end": "3213079"
  },
  {
    "text": "an object to reconcile it so we we have changed some things the status the conditions and we want to patch it so we",
    "start": "3213079",
    "end": "3220720"
  },
  {
    "text": "what is the the patch new helper doing is is when he doing the patch is if there are any conflict because uh we are",
    "start": "3220720",
    "end": "3228280"
  },
  {
    "text": "in a distributed system so maybe some other controllers are acting on our object as well so the patch helper is",
    "start": "3228280",
    "end": "3234960"
  },
  {
    "text": "going going to resolve any conflict with that that we have in order to do that is going to uh what it is needed from us is",
    "start": "3234960",
    "end": "3243119"
  },
  {
    "text": "to set the set of conditions that we own so if you have conflict on those",
    "start": "3243119",
    "end": "3248839"
  },
  {
    "text": "condition that we own it's going to ignore the the the conflict and go and still patch to the",
    "start": "3248839",
    "end": "3255640"
  },
  {
    "text": "object uh so the condition that we own are the ready condition uh reconciling this one maybe",
    "start": "3255640",
    "end": "3263480"
  },
  {
    "text": "I have to make this bigger reconciling this one we we said it to",
    "start": "3263480",
    "end": "3268680"
  },
  {
    "text": "say that we are reconciling a given object like uh the reconciliation",
    "start": "3268680",
    "end": "3274599"
  },
  {
    "text": "process can uh take several time if you are reconing an object and we have a failure we recue and then when we we uh",
    "start": "3274599",
    "end": "3283000"
  },
  {
    "text": "after the back off we reconcile again we we are still in the reconciling reconciling process so we we set the",
    "start": "3283000",
    "end": "3289160"
  },
  {
    "text": "condition for that St uh we said St that mean that there's nothing we can do",
    "start": "3289160",
    "end": "3295640"
  },
  {
    "text": "and someone has to um so we need some imun intervention on that one here we'll",
    "start": "3295640",
    "end": "3303920"
  },
  {
    "text": "see what when we we said the fail one and then we have quate fail and update fail",
    "start": "3303920",
    "end": "3311079"
  },
  {
    "text": "condition so we have a different",
    "start": "3311079",
    "end": "3314960"
  },
  {
    "text": "function we have a def function that's fine at the end we we we make it a def",
    "start": "3317880",
    "end": "3323480"
  },
  {
    "text": "function because we want no matter what happened after the reconcil reconciliation you want this to be",
    "start": "3323480",
    "end": "3330039"
  },
  {
    "text": "applied so what you want to be applied is [Music] um we said if we have a St condition or",
    "start": "3330039",
    "end": "3339319"
  },
  {
    "text": "a already condition we want to set to observe generation this mean that we we",
    "start": "3339319",
    "end": "3344440"
  },
  {
    "text": "are not in a Reconciliation process anymore we have finished either because it's still already and we want to set in",
    "start": "3344440",
    "end": "3351680"
  },
  {
    "text": "the status that the op generation of a",
    "start": "3351680",
    "end": "3356760"
  },
  {
    "text": "reconation and then we patch that's what we do here in the def function the other",
    "start": "3356760",
    "end": "3362680"
  },
  {
    "text": "thing you have to uh do is uh reset the finalizer so here we have put a link if",
    "start": "3362680",
    "end": "3369760"
  },
  {
    "text": "you want to know more about finalizers when we set the finalizer",
    "start": "3369760",
    "end": "3376240"
  },
  {
    "text": "um we add it to the object using a control time",
    "start": "3376240",
    "end": "3382799"
  },
  {
    "text": "function the finalizer is actually let's",
    "start": "3382799",
    "end": "3390558"
  },
  {
    "text": "see if you read The Proposal here we can see the finalizers that we set so this we can set several",
    "start": "3392079",
    "end": "3399640"
  },
  {
    "text": "finalizers those are set of things and when",
    "start": "3399640",
    "end": "3404960"
  },
  {
    "text": "um when the Q servers SOS if you do keep CLE delete on keep CLE delete proposal",
    "start": "3404960",
    "end": "3413400"
  },
  {
    "text": "when the Q have a is going to tell you okay the proposal has been deleted but",
    "start": "3413400",
    "end": "3418799"
  },
  {
    "text": "actually the proposal is is still in atcd because it's not deleting it because it's waiting for controller to",
    "start": "3418799",
    "end": "3427599"
  },
  {
    "text": "unset those finalizer before finally deleting it from itd so if you take C",
    "start": "3427599",
    "end": "3434079"
  },
  {
    "text": "delete the finalizer is still there if you can if you do c uh get a proposal",
    "start": "3434079",
    "end": "3440680"
  },
  {
    "text": "you you will still get the proposal until someone delete uh the finalizer",
    "start": "3440680",
    "end": "3446039"
  },
  {
    "text": "what what we set this so we can do some predilation here for the speaker for example when we do a delete speak delete",
    "start": "3446039",
    "end": "3453160"
  },
  {
    "text": "speaker what we want to do on our side is for the IP server to tell us okay we're going to delete a speaker uh but",
    "start": "3453160",
    "end": "3460319"
  },
  {
    "text": "we have a finalizer what are I going to do about that and on our side what we do is we we make an API call to delete the",
    "start": "3460319",
    "end": "3466760"
  },
  {
    "text": "speaker from the API and then we answer the final yeah can we pause for a second",
    "start": "3466760",
    "end": "3474960"
  },
  {
    "text": "just does anyone have any questions so far about",
    "start": "3474960",
    "end": "3481319"
  },
  {
    "text": "yeah uh one sec let's get the mic",
    "start": "3481319",
    "end": "3487240"
  },
  {
    "text": "yeah we're still this is probably a more generic question about the finalizer",
    "start": "3489760",
    "end": "3494839"
  },
  {
    "text": "portion but uh let's say your controller can't find let's say you're managing like an external resource with a",
    "start": "3494839",
    "end": "3500599"
  },
  {
    "text": "controller and the controller can't find the resource will it is it better to stay within that finalizer Loop and post",
    "start": "3500599",
    "end": "3507280"
  },
  {
    "text": "an error or is it better to complete the finalizer and complete a deletion or does it depend if you can't find a",
    "start": "3507280",
    "end": "3514240"
  },
  {
    "text": "resource when you have set finalizer yeah let's say you're managing let's say your controller is managing something",
    "start": "3514240",
    "end": "3519520"
  },
  {
    "text": "completely separate like in a cloud provider or something else you can't find that just like in this case where",
    "start": "3519520",
    "end": "3525720"
  },
  {
    "text": "it's managing something within an external API exactly yeah yeah is it better to air on the side of caution and",
    "start": "3525720",
    "end": "3532039"
  },
  {
    "text": "keep the crd up in the finalizer state or is it better to just delete and say okay well I can't find it I'm not going",
    "start": "3532039",
    "end": "3538000"
  },
  {
    "text": "to do any action I'm going to delete myself well this is the logic you have to implement Somehow Here what we do is",
    "start": "3538000",
    "end": "3544880"
  },
  {
    "text": "uh let me show you what we do do we still have the comment that shows the",
    "start": "3544880",
    "end": "3550119"
  },
  {
    "text": "well we have a we don't have it for now we just put the fin we will see later but what you do on our side is we try to",
    "start": "3550119",
    "end": "3556799"
  },
  {
    "text": "get uh to delete the object if you get an eror we still go on and and remove",
    "start": "3556799",
    "end": "3562079"
  },
  {
    "text": "the finalizer but this is something you have to implement on your gotcha thank",
    "start": "3562079",
    "end": "3567760"
  },
  {
    "text": "you uh so um yeah we set the",
    "start": "3568799",
    "end": "3574440"
  },
  {
    "text": "finalizer and then we reue so it's not on the same uh",
    "start": "3574440",
    "end": "3579760"
  },
  {
    "text": "reconation that we do we continue the reconciliation when we set the finalizer then weq after the backup we we continue",
    "start": "3579760",
    "end": "3587319"
  },
  {
    "text": "the reconciliation then we we we uh we create a new client and if the client is if if one",
    "start": "3587319",
    "end": "3595440"
  },
  {
    "text": "trying to create the HTTP client something doesn't work so what we do in new client is we look at the end point",
    "start": "3595440",
    "end": "3604359"
  },
  {
    "text": "if the Endo is not a real Endo we we we we don't create it otherwise we just set",
    "start": "3604359",
    "end": "3610720"
  },
  {
    "text": "an HTTP client and if this doesn't work because we we don't have the right end point",
    "start": "3610720",
    "end": "3616720"
  },
  {
    "text": "when we set up our manager with the with the Manifest you mark it as T it mean",
    "start": "3616720",
    "end": "3622280"
  },
  {
    "text": "that someone has to uh change this and recreate the the controller and then we do",
    "start": "3622280",
    "end": "3628960"
  },
  {
    "text": "reconcile we have un unex unexported function reconcile and this",
    "start": "3628960",
    "end": "3635680"
  },
  {
    "text": "one is doing the actual reconciliation so the end at the beginning we again",
    "start": "3635680",
    "end": "3641440"
  },
  {
    "text": "have a def function and this def function is going to deal with all our conditions what we start is that if we",
    "start": "3641440",
    "end": "3650160"
  },
  {
    "text": "don't have a r of the result and if you don't have any um failure we delete all",
    "start": "3650160",
    "end": "3657640"
  },
  {
    "text": "the reconciling and negative polarity condition and you mark the",
    "start": "3657640",
    "end": "3663359"
  },
  {
    "text": "reconciliation to the condition to true stting that okay the reconciliation",
    "start": "3663359",
    "end": "3669240"
  },
  {
    "text": "process successful uh we have already",
    "start": "3669240",
    "end": "3674319"
  },
  {
    "text": "condition if not what we going to do is see what type what type of error we",
    "start": "3674319",
    "end": "3681760"
  },
  {
    "text": "have that's coming from uh our client that we have here so in the",
    "start": "3681760",
    "end": "3688559"
  },
  {
    "text": "client every time we do an AP call we return a given type of eror and all the",
    "start": "3688559",
    "end": "3695799"
  },
  {
    "text": "we have here on given the meod HTP get on a speaker pass we said we have an of",
    "start": "3695799",
    "end": "3703119"
  },
  {
    "text": "fetching the speaker fetching The Proposal updating the proposal speaker and or deleting deleting deleting them",
    "start": "3703119",
    "end": "3711520"
  },
  {
    "text": "sorry and then given a we can say we can Mark conditions to",
    "start": "3711520",
    "end": "3717520"
  },
  {
    "text": "true or to false so here we Mark if you have a a",
    "start": "3717520",
    "end": "3723720"
  },
  {
    "text": "creation on failure you mark the create fail condition to True with the reason",
    "start": "3723720",
    "end": "3731079"
  },
  {
    "text": "that we get from the and we Mark the ready condition to false so we will have",
    "start": "3731079",
    "end": "3737680"
  },
  {
    "text": "a an abnormal polarity uh to true and R condition to false",
    "start": "3737680",
    "end": "3745319"
  },
  {
    "text": "we do um if it's a if it's a creation request uh we set the ready condition to",
    "start": "3745319",
    "end": "3754279"
  },
  {
    "text": "FSE only on the defa is just setting the ready condition to",
    "start": "3754279",
    "end": "3759079"
  },
  {
    "text": "FSE so and here if you are if uh the object the object",
    "start": "3760480",
    "end": "3768960"
  },
  {
    "text": "generation and the status observe generation diap this mean that we are on",
    "start": "3768960",
    "end": "3774680"
  },
  {
    "text": "a new reconciliation because we have a new object generation so we mark it as",
    "start": "3774680",
    "end": "3780000"
  },
  {
    "text": "reconciling and we we go to the reconciliation reconciliation process every time you have a failure until",
    "start": "3780000",
    "end": "3786799"
  },
  {
    "text": "finally we uh we are successful and if you're successful at the end we we delete it",
    "start": "3786799",
    "end": "3794200"
  },
  {
    "text": "here so that was a differ uh the differ function and setting the reconciling and",
    "start": "3798000",
    "end": "3803720"
  },
  {
    "text": "then we create speaker creating the speaker is just making the uh creating a payload given",
    "start": "3803720",
    "end": "3811400"
  },
  {
    "text": "what we have in the object and making the IPI code we create it and at the end",
    "start": "3811400",
    "end": "3818440"
  },
  {
    "text": "what we do is we set up the ID in the status because it's",
    "start": "3818440",
    "end": "3825599"
  },
  {
    "text": "successful that was the first step question",
    "start": "3825599",
    "end": "3833279"
  },
  {
    "text": "Maybe yeah do you have a question or need",
    "start": "3833279",
    "end": "3838520"
  },
  {
    "text": "help okay uh give just a sec there's a mic coming",
    "start": "3838520",
    "end": "3844720"
  },
  {
    "text": "thanks sorry just uh I guess thinking a little further ahead um um more on the I",
    "start": "3852760",
    "end": "3862599"
  },
  {
    "text": "guess metrics and observability side on the controller um how are you guys kind",
    "start": "3862599",
    "end": "3869119"
  },
  {
    "text": "of monitoring or understanding the efficiency of the controller or how if it's running into specific errors or um",
    "start": "3869119",
    "end": "3877319"
  },
  {
    "text": "just to see cuz sometimes you you build stuff out and you think it's going to work out fine but sometimes the metrics",
    "start": "3877319",
    "end": "3883640"
  },
  {
    "text": "come back and it might not be as efficient or it's not doing the same things that you want it to do so as far",
    "start": "3883640",
    "end": "3889400"
  },
  {
    "text": "as like observability where are you kind of putting that in this f um I was just thinking we're",
    "start": "3889400",
    "end": "3900240"
  },
  {
    "text": "setting so we're set we're setting events right on the the question so with",
    "start": "3900240",
    "end": "3905720"
  },
  {
    "text": "cont like with controllers you have events and logs right um it's running in",
    "start": "3905720",
    "end": "3911039"
  },
  {
    "text": "the clusterer Pod so you could log stuff so um controller wrong time comes with a",
    "start": "3911039",
    "end": "3918319"
  },
  {
    "text": "logger a standard logger that's you know you could add the name of the custom",
    "start": "3918319",
    "end": "3924200"
  },
  {
    "text": "just that you're you're looking at at the name space and then some extra messages there's also an event recorder",
    "start": "3924200",
    "end": "3932119"
  },
  {
    "text": "so you could emit cuberes events so those are like the top two ways and then of course we're posting back to the",
    "start": "3932119",
    "end": "3938960"
  },
  {
    "text": "status which is also a way of communicating so for you talked about the length of reconciliation so you with",
    "start": "3938960",
    "end": "3946880"
  },
  {
    "text": "those things is your application right um those are now application specific specific things that you know how to to",
    "start": "3946880",
    "end": "3954160"
  },
  {
    "text": "measure you could use um permites you could export some permites mix like with um the flux customized controllers we",
    "start": "3954160",
    "end": "3960520"
  },
  {
    "text": "try to measure how long it takes to reconcile resources so we those are now application specific but majorly logs",
    "start": "3960520",
    "end": "3969200"
  },
  {
    "text": "events yeah so you also uh measure the disruptions of the API server to see uh",
    "start": "3969200",
    "end": "3976000"
  },
  {
    "text": "how the operator impact to the uh API",
    "start": "3976000",
    "end": "3981079"
  },
  {
    "text": "server right uh yeah because it's making calls right um so with you could try to",
    "start": "3981079",
    "end": "3989119"
  },
  {
    "text": "like if you we defer our calls so that after it runs of course it has to there",
    "start": "3989119",
    "end": "3994319"
  },
  {
    "text": "are some things it has to do it has to update the object so that it can reflect back to who people getting um like",
    "start": "3994319",
    "end": "4001400"
  },
  {
    "text": "running CBE C commands to see the updates those are things but it should not be like making so much API calls",
    "start": "4001400",
    "end": "4007680"
  },
  {
    "text": "that it runs it down yeah and we really prefer that",
    "start": "4007680",
    "end": "4012760"
  },
  {
    "text": "pattern um with with the flux controllers by the way because it's just so useful for folks to get all of the",
    "start": "4012760",
    "end": "4019920"
  },
  {
    "text": "information that they really need on the C on the crd",
    "start": "4019920",
    "end": "4024798"
  },
  {
    "text": "[Music] itself",
    "start": "4025340",
    "end": "4031279"
  },
  {
    "text": "um so that was it for the first step so propos we move on to the second",
    "start": "4031640",
    "end": "4040319"
  },
  {
    "text": "one so the same just create a a branch with the tag and move to that",
    "start": "4040319",
    "end": "4048680"
  },
  {
    "text": "brch",
    "start": "4050119",
    "end": "4053119"
  },
  {
    "text": "S2 and the difference we have here is that we have a new test",
    "start": "4060079",
    "end": "4066480"
  },
  {
    "text": "case and this time you're going to update our speaker",
    "start": "4069960",
    "end": "4075920"
  },
  {
    "text": "so what we we have here is that uh we create the",
    "start": "4076359",
    "end": "4082440"
  },
  {
    "text": "speaker the same way and after creating the speaker we're",
    "start": "4082440",
    "end": "4087599"
  },
  {
    "text": "going to change the body of the speaker and expect the speaker to be",
    "start": "4087599",
    "end": "4094480"
  },
  {
    "text": "updated and to be ready at the end so you can when make tests the same",
    "start": "4094480",
    "end": "4101120"
  },
  {
    "text": "way if you want to test this one I'm just going to going to go over to cut",
    "start": "4101120",
    "end": "4106520"
  },
  {
    "text": "changes additions so what we have added",
    "start": "4106520",
    "end": "4111798"
  },
  {
    "text": "here is uh no we had this what we have added is",
    "start": "4112520",
    "end": "4121758"
  },
  {
    "text": "in the reconcile part we have new conditions now we have",
    "start": "4121759",
    "end": "4126920"
  },
  {
    "text": "an ER case for when you update the speaker and here before create in the",
    "start": "4126920",
    "end": "4134199"
  },
  {
    "text": "speaker we're going to check whether we have an ID in the status if you have an",
    "start": "4134199",
    "end": "4139400"
  },
  {
    "text": "ID in the status it mean that a pivacy conciliation was successful on that the",
    "start": "4139400",
    "end": "4144520"
  },
  {
    "text": "ID was set if that's the case it mean we have to end we have to handle the the",
    "start": "4144520",
    "end": "4150880"
  },
  {
    "text": "the speaker update somehow so what that's what we do here in handle speaker",
    "start": "4150880",
    "end": "4156000"
  },
  {
    "text": "update um so we're going we're going to create a payload with the new uh spec of",
    "start": "4156000",
    "end": "4164400"
  },
  {
    "text": "object and we are going to to create the existing payload uh using this the ID",
    "start": "4164400",
    "end": "4172080"
  },
  {
    "text": "and then we are going to compare them if they're not equal we're going to make an",
    "start": "4172080",
    "end": "4178199"
  },
  {
    "text": "IPA call to to to update the given the given object if it's successful this mean that",
    "start": "4178199",
    "end": "4186159"
  },
  {
    "text": "the update was successful so we don't change the ID because the ID is uh is",
    "start": "4186159",
    "end": "4192238"
  },
  {
    "text": "unique but uh you see",
    "start": "4192239",
    "end": "4197880"
  },
  {
    "text": "here it mean that is successful and if successful we just fit",
    "start": "4202719",
    "end": "4208560"
  },
  {
    "text": "on we don't go over the creation process that's the add that's the only",
    "start": "4208560",
    "end": "4215199"
  },
  {
    "text": "addition you have for the update so we can do make test make sure that everything",
    "start": "4215199",
    "end": "4222119"
  },
  {
    "text": "work and hopefully if you if you do need to go back over some of this and say what",
    "start": "4222640",
    "end": "4227800"
  },
  {
    "text": "was that logic again you can just look at the commits that we have here which are separated into you know the first",
    "start": "4227800",
    "end": "4234000"
  },
  {
    "text": "step was great speaker this one's update speaker and if you look at that commit it shows pretty clearly with comments",
    "start": "4234000",
    "end": "4239840"
  },
  {
    "text": "like what why all of those little bits of logic are there um to handle the",
    "start": "4239840",
    "end": "4245000"
  },
  {
    "text": "different cases um question or need help okay does",
    "start": "4245000",
    "end": "4251920"
  },
  {
    "text": "someone have a oh someu do you have the um mic",
    "start": "4251920",
    "end": "4257560"
  },
  {
    "text": "still okay cool right can you raise your hand again okay cool thank",
    "start": "4257560",
    "end": "4264000"
  },
  {
    "text": "you um so if the controller is managing an external resource right something say like GCS bucket and uh if that bucket",
    "start": "4264000",
    "end": "4272400"
  },
  {
    "text": "gets updated uh in a different way maybe if I go through the console and if I see",
    "start": "4272400",
    "end": "4277600"
  },
  {
    "text": "deleted right does the reconciliation logic like uh when when does that uh get",
    "start": "4277600",
    "end": "4283000"
  },
  {
    "text": "triggered if if I make such an external update I I'm having a really hard time",
    "start": "4283000",
    "end": "4288760"
  },
  {
    "text": "hearing sorry maybe maybe let's say that we have a",
    "start": "4288760",
    "end": "4294080"
  },
  {
    "text": "controller that manages a external resource like GCS bucket and um so if I",
    "start": "4294080",
    "end": "4300239"
  },
  {
    "text": "update the bucket externally if I go through the Google console and if I update the bucket um does the",
    "start": "4300239",
    "end": "4307360"
  },
  {
    "text": "reconciliation logic kick in at that point of time or do I need to update the",
    "start": "4307360",
    "end": "4312440"
  },
  {
    "text": "crd for the rec consulation logic to K do you want to take that one some so",
    "start": "4312440",
    "end": "4318199"
  },
  {
    "text": "he's saying like if you update the external resource right does the reconciliation kick in so like like if",
    "start": "4318199",
    "end": "4327800"
  },
  {
    "text": "you make a change on the API does the controller automatically reconcile so I",
    "start": "4327800",
    "end": "4332920"
  },
  {
    "text": "could like it doesn't right it's basically it reconciles at an interval",
    "start": "4332920",
    "end": "4338440"
  },
  {
    "text": "right that you can set and then it also reconciles when you make updates or",
    "start": "4338440",
    "end": "4343480"
  },
  {
    "text": "updates to the object so those are like the two things so if you make a change",
    "start": "4343480",
    "end": "4349280"
  },
  {
    "text": "to do external API without doing anything on the cluster that will get reflected on its next run so it won't be",
    "start": "4349280",
    "end": "4356400"
  },
  {
    "text": "immediate but you could um you could ask the like for example in flux if you want",
    "start": "4356400",
    "end": "4363719"
  },
  {
    "text": "to like we have a flux reconcile command so what it does is it adds an annotation",
    "start": "4363719",
    "end": "4368760"
  },
  {
    "text": "to the resource and the controller knows to watch out for that and trigger your",
    "start": "4368760",
    "end": "4374120"
  },
  {
    "text": "conso so yeah so I think you can continue exactly yeah and and there there are ways to speed that up to be",
    "start": "4374120",
    "end": "4382120"
  },
  {
    "text": "more consistent with let's say a push-based approach um so instead of you know in",
    "start": "4382120",
    "end": "4390080"
  },
  {
    "text": "instead of waiting for that next interval you could build this is actually what some of uh um let's say",
    "start": "4390080",
    "end": "4396920"
  },
  {
    "text": "the flux Source controller does is it also has a web hook to be able to so",
    "start": "4396920",
    "end": "4402080"
  },
  {
    "text": "let's just say when you make a g change in that case or some other source change you can emit a web hook to say oh go",
    "start": "4402080",
    "end": "4409600"
  },
  {
    "text": "ahead and check again because we've updated it so it will still be happening on the regular interval but you can you",
    "start": "4409600",
    "end": "4416400"
  },
  {
    "text": "can issue a poke and you could do that with any other API as well if you wanted to build something like that in if let's",
    "start": "4416400",
    "end": "4422800"
  },
  {
    "text": "say it was really time sensitive and you wanted to hear events as well something something you want you",
    "start": "4422800",
    "end": "4430520"
  },
  {
    "text": "have to know here is this is eventually consistent what you uh if there's a failure when we do",
    "start": "4430520",
    "end": "4437480"
  },
  {
    "text": "the update and the API call is is failure because of network for you or",
    "start": "4437480",
    "end": "4443320"
  },
  {
    "text": "there's something on the API on our side we don't well we don't",
    "start": "4443320",
    "end": "4448840"
  },
  {
    "text": "really care would say but yeah okay we would set the condition saying okay for this reconcile is still not okay so we",
    "start": "4448840",
    "end": "4454960"
  },
  {
    "text": "will set the condition that that state that is still not okay but eventually if",
    "start": "4454960",
    "end": "4460040"
  },
  {
    "text": "the apis come back up and have uh the behavior that we expect at the end",
    "start": "4460040",
    "end": "4467520"
  },
  {
    "text": "we will set the condition saying okay finally we updated uh your object and we",
    "start": "4467520",
    "end": "4472920"
  },
  {
    "text": "can set it in the conditions so we moving on because yeah",
    "start": "4472920",
    "end": "4478360"
  },
  {
    "text": "we're we're at uh we do the delete we got about 10 minutes 11 minutes yeah I just do the delete I wonder if there are",
    "start": "4478360",
    "end": "4484719"
  },
  {
    "text": "any steps that we could cut out at least we could go through uh so so the the last part",
    "start": "4484719",
    "end": "4493840"
  },
  {
    "text": "is about the delation yes so the same",
    "start": "4493840",
    "end": "4498960"
  },
  {
    "text": "the same way we have a testc to do the delete and what we expect at the end is",
    "start": "4498960",
    "end": "4505239"
  },
  {
    "text": "that the object is deleted that is not found when we try uh to pull to to pull",
    "start": "4505239",
    "end": "4511600"
  },
  {
    "text": "it through the IP server so this is uh set with our fin so we talk about the",
    "start": "4511600",
    "end": "4517040"
  },
  {
    "text": "finalizer earlier say stating that we cannot delete because we have the finalizer uh what we do as well is",
    "start": "4517040",
    "end": "4524639"
  },
  {
    "text": "before do we do the reconcile we we check when is when is a delation you",
    "start": "4524639",
    "end": "4529960"
  },
  {
    "text": "when you do c c delete there is something that is that is a time stamp delation time stamp that is set on your",
    "start": "4529960",
    "end": "4536960"
  },
  {
    "text": "object for JPS server so if you have this time time we we call uh reconcile",
    "start": "4536960",
    "end": "4542840"
  },
  {
    "text": "delete and in reconcile delete what we what we do we check if you have a",
    "start": "4542840",
    "end": "4549719"
  },
  {
    "text": "status and if you have a status ID uh it mean that uh we have a speaker that",
    "start": "4549719",
    "end": "4556440"
  },
  {
    "text": "exist on on the API side so we we issue um an APA call to to delete that object",
    "start": "4556440",
    "end": "4565760"
  },
  {
    "text": "right and oh I said that we we go on and we remove the finalizer but actually we",
    "start": "4566600",
    "end": "4573480"
  },
  {
    "text": "don't if it's I'm so sorry one one one thing did everyone check out um step",
    "start": "4573480",
    "end": "4580320"
  },
  {
    "text": "three brand the step three tag and make a branch from it uh or you can just follow them along on the screen but if",
    "start": "4580320",
    "end": "4586360"
  },
  {
    "text": "you if you're doing it just make sure that you've done that sorry yeah so actually what we do is we try to delete and if you cannot delete we don't delete",
    "start": "4586360",
    "end": "4593320"
  },
  {
    "text": "the object on on on kubernetes side we we we just continue after every back of",
    "start": "4593320",
    "end": "4601239"
  },
  {
    "text": "trying to delete again until someone fixes it on the on the API side but if you delete is successful what we do is",
    "start": "4601239",
    "end": "4608920"
  },
  {
    "text": "using cont time we remove the finalizer so on the set of finalizer we won't have any finalizer anymore and then on the AP",
    "start": "4608920",
    "end": "4617800"
  },
  {
    "text": "AP server uh and then we don't Rec it actually because we don't we stop the",
    "start": "4617800",
    "end": "4622960"
  },
  {
    "text": "reconciliation and on the AP server side it can delete the object",
    "start": "4622960",
    "end": "4628840"
  },
  {
    "text": "finally so that's what we had here and we going to run make this for one last",
    "start": "4628840",
    "end": "4634840"
  },
  {
    "text": "time and so we won't have time to cover the proposal one but it's rather the",
    "start": "4634840",
    "end": "4641920"
  },
  {
    "text": "same except well the differ dependency right yeah so I'm going to show you this",
    "start": "4641920",
    "end": "4649800"
  },
  {
    "text": "before so I'm going till",
    "start": "4649800",
    "end": "4655158"
  },
  {
    "text": "directly step seven um question Yeah question around",
    "start": "4656560",
    "end": "4665638"
  },
  {
    "text": "up so when we get the event where on the first time where the time stamp is set",
    "start": "4668760",
    "end": "4676280"
  },
  {
    "text": "to nonzero meaning that the object's been deleted is that an update event to our",
    "start": "4676280",
    "end": "4682400"
  },
  {
    "text": "Cube controller reconciler or is it a delete",
    "start": "4682400",
    "end": "4686920"
  },
  {
    "text": "event um you know we have a que so if something is happening at the same time",
    "start": "4687440",
    "end": "4696280"
  },
  {
    "text": "any okay but but for the purpose",
    "start": "4697480",
    "end": "4703480"
  },
  {
    "text": "of your um predicate to filter out update versus delete events what would",
    "start": "4703480",
    "end": "4709320"
  },
  {
    "text": "it be triggered as um for the purposes of your predicate",
    "start": "4709320",
    "end": "4714800"
  },
  {
    "text": "because your predicate is is like filtering out but it in this case we're returning true for both update and",
    "start": "4714800",
    "end": "4720080"
  },
  {
    "text": "delete events but I'm just curious like you know if I'm writing a controller and I want to say filter out deletes because",
    "start": "4720080",
    "end": "4726400"
  },
  {
    "text": "I don't care but I want to get update events and maybe do something different for that scenario um you can take the",
    "start": "4726400",
    "end": "4733080"
  },
  {
    "text": "question up to would it yeah would there be a distinction there cuz I guess like",
    "start": "4733080",
    "end": "4738719"
  },
  {
    "text": "does delete fire only when the objects actually removed from API server",
    "start": "4738719",
    "end": "4745040"
  },
  {
    "text": "cover cover logic yeah yeah well maybe um thanks for that one we're we I think",
    "start": "4745040",
    "end": "4750440"
  },
  {
    "text": "we're going to address that as we go through the logic and and let us know if it doesn't cool okay yeah okay cool",
    "start": "4750440",
    "end": "4757280"
  },
  {
    "text": "thanks and we can talk about it at at the end as well um",
    "start": "4757280",
    "end": "4763440"
  },
  {
    "text": "so the proposal uh quickly before uh we finish uh on the proposal what we we do",
    "start": "4763440",
    "end": "4770400"
  },
  {
    "text": "the same exact same things we create a proposal we update a proposal and we delete the proposal there but there are",
    "start": "4770400",
    "end": "4778199"
  },
  {
    "text": "some differences uh that I'm going to explain quickly the differences that we have is",
    "start": "4778199",
    "end": "4784800"
  },
  {
    "text": "in order to create a proposal we need to have a speaker so what we",
    "start": "4784800",
    "end": "4791840"
  },
  {
    "text": "do uh when we that would be in step four",
    "start": "4791840",
    "end": "4796920"
  },
  {
    "text": "you check out the S4 brand step but I'm at the end explain everything because we",
    "start": "4796920",
    "end": "4802080"
  },
  {
    "text": "don't have time uh we we try to get the speaker first if you don't have the speaker we cannot create a proposal and",
    "start": "4802080",
    "end": "4808840"
  },
  {
    "text": "we set the condition say stating why we cannot create a proposal if you speaker exist we can then uh create the proposal",
    "start": "4808840",
    "end": "4815679"
  },
  {
    "text": "and reference the speaker on the API side we have a validation when you C to create a proposal we validate that the",
    "start": "4815679",
    "end": "4822840"
  },
  {
    "text": "reference speaker exist that's the first thing that is different um the second",
    "start": "4822840",
    "end": "4828840"
  },
  {
    "text": "thing that is different is on the watch",
    "start": "4828840",
    "end": "4833960"
  },
  {
    "text": "side so what we have added uh what you want to do is every time you have an",
    "start": "4833960",
    "end": "4839920"
  },
  {
    "text": "update on the speaker side you want to be notified that the speaker has been updated and you want to update our",
    "start": "4839920",
    "end": "4846159"
  },
  {
    "text": "proposal accordingly so the way we do this is as I mean said that we have a",
    "start": "4846159",
    "end": "4851719"
  },
  {
    "text": "cash where we from the inform when we watch AP server for events we put those",
    "start": "4851719",
    "end": "4858080"
  },
  {
    "text": "object in our cache and you want to index in our cach those objects so we can retrieve them so we index them by a",
    "start": "4858080",
    "end": "4865600"
  },
  {
    "text": "speaker index that we call metad the speaker name we index them so we can retrieve them done okay so we have a",
    "start": "4865600",
    "end": "4873880"
  },
  {
    "text": "function that is called index proposal by Speaker we're going to do is re a given proposal and uh andex by by the",
    "start": "4873880",
    "end": "4882719"
  },
  {
    "text": "speaker F name the speaker that is owning this proposal then what we do is",
    "start": "4882719",
    "end": "4889880"
  },
  {
    "text": "when we uh set up our manager what we want to do as well we set it for",
    "start": "4889880",
    "end": "4895040"
  },
  {
    "text": "proposal but we want to watch is to want to watch the speakers as well so we",
    "start": "4895040",
    "end": "4901080"
  },
  {
    "text": "watch the speakers saying every time there's an update on speaker we want to watch this and hand handle those uh the",
    "start": "4901080",
    "end": "4907520"
  },
  {
    "text": "Rue for the speaker and when we we do uh this we set up our own function for",
    "start": "4907520",
    "end": "4913400"
  },
  {
    "text": "handling this that we call wease for speaker change uh and in we case for",
    "start": "4913400",
    "end": "4918560"
  },
  {
    "text": "speaker change what we do is we check if it's a speaker and if it's speaker we",
    "start": "4918560",
    "end": "4924280"
  },
  {
    "text": "check uh the ID and then uh we retrieve all the",
    "start": "4924280",
    "end": "4930159"
  },
  {
    "text": "proposals that have this given ID uh as a as a key in the index and for",
    "start": "4930159",
    "end": "4939239"
  },
  {
    "text": "for all those one that we read here we uh we ask for we ask to reconcile those",
    "start": "4939239",
    "end": "4945080"
  },
  {
    "text": "ones we have Loop where we reconcile those so two differes everything here is",
    "start": "4945080",
    "end": "4952600"
  },
  {
    "text": "on step seven and we have everything in main actually in main you have everything written and you can uh go",
    "start": "4952600",
    "end": "4958719"
  },
  {
    "text": "from the with the tests what we have as well is that I didn't say you have the",
    "start": "4958719",
    "end": "4964320"
  },
  {
    "text": "deploy Target [Music]",
    "start": "4964320",
    "end": "4971560"
  },
  {
    "text": "somewhere we have a deploy Target here",
    "start": "4971560",
    "end": "4977960"
  },
  {
    "text": "uh",
    "start": "4983239",
    "end": "4986239"
  },
  {
    "text": "to uh and in",
    "start": "4990800",
    "end": "4995158"
  },
  {
    "text": "deploy in deploy what we do is we have um yeah we have an just contain the",
    "start": "4996480",
    "end": "5004280"
  },
  {
    "text": "controller and if you do uh make deploy you can install everything the IPI on",
    "start": "5004280",
    "end": "5009800"
  },
  {
    "text": "the controller in your in your um in your given kubernetes",
    "start": "5009800",
    "end": "5017000"
  },
  {
    "text": "cluster that's it um okay yeah um I think we had did I",
    "start": "5017000",
    "end": "5023800"
  },
  {
    "text": "don't know if your question was actually answered about the deletion I think you were asking if I got it right how does",
    "start": "5023800",
    "end": "5030760"
  },
  {
    "text": "the reconcile function in the speaker controller um or sorry yeah how does a",
    "start": "5030760",
    "end": "5037000"
  },
  {
    "text": "reconcile function know if it's a deletion or not did I get that right as",
    "start": "5037000",
    "end": "5042159"
  },
  {
    "text": "opposed to an update and I think if I'm understanding correctly um the uh basically if there's",
    "start": "5042159",
    "end": "5049199"
  },
  {
    "text": "a deletion timestamp then we know that it's a deletion otherwise it's",
    "start": "5049199",
    "end": "5055840"
  },
  {
    "text": "not yeah and in fact that's in let's see lines 142 to one basically yeah there's",
    "start": "5055840",
    "end": "5061880"
  },
  {
    "text": "a commment about that in line 141 and then there's a there's an if statement in there inside of the speaker",
    "start": "5061880",
    "end": "5068000"
  },
  {
    "text": "controller go that wasn't his question his question the question was I'm",
    "start": "5068000",
    "end": "5076120"
  },
  {
    "text": "assuming um I'm just wonder the distinction is when actually removed so like once the farm is gone deletes",
    "start": "5078960",
    "end": "5087679"
  },
  {
    "text": "it is that a delete event we only get one of those guess implication is you",
    "start": "5087679",
    "end": "5094159"
  },
  {
    "text": "either can grab that resource the",
    "start": "5094159",
    "end": "5098960"
  },
  {
    "text": "old noer there you actually well I think it doesn't matter",
    "start": "5099560",
    "end": "5107280"
  },
  {
    "text": "but on on the control side you have a que to have all that coming through the que and for everye you try to get to get",
    "start": "5107280",
    "end": "5114800"
  },
  {
    "text": "the object anywhere so if it's not not any anymore there you don't do anything and on the API server as well you do the",
    "start": "5114800",
    "end": "5121320"
  },
  {
    "text": "same you try to get from it CD from itcd to get the object if the object is not",
    "start": "5121320",
    "end": "5126800"
  },
  {
    "text": "there anymore nothing happen so you first check the object if not there",
    "start": "5126800",
    "end": "5132560"
  },
  {
    "text": "let's change the slide here if you check when we're getting we did that we did that today do",
    "start": "5132560",
    "end": "5139840"
  },
  {
    "text": "exist if he deleted completely we don't care okay to did that make sense yeah",
    "start": "5139840",
    "end": "5146119"
  },
  {
    "text": "well we can talk about it just after Tut okay cool well we are actually at",
    "start": "5146119",
    "end": "5152400"
  },
  {
    "text": "the end of our time um I hope everyone got was able to get through part of this",
    "start": "5152400",
    "end": "5157920"
  },
  {
    "text": "tutorial and you can still access those instances for a period of time uh I mean I don't know how long they're going to",
    "start": "5157920",
    "end": "5164040"
  },
  {
    "text": "be available for do you know the git pod uh so by I think by default is 1 hour",
    "start": "5164040",
    "end": "5170679"
  },
  {
    "text": "okay the community so the community uh Edition for gpod if I'm not mistaken am I maybe",
    "start": "5170679",
    "end": "5177639"
  },
  {
    "text": "I'm saying a mistake yeah you know how much sorry what you know how much the session is going to stay like how long",
    "start": "5177639",
    "end": "5183719"
  },
  {
    "text": "after how long oh uh the No No the the G",
    "start": "5183719",
    "end": "5188960"
  },
  {
    "text": "session the actual GPT instances 30 minutes 30 minutes it's not 1 hour 30",
    "start": "5188960",
    "end": "5194800"
  },
  {
    "text": "minutes okay cool so so uh so you can also go through that again um I believe",
    "start": "5194800",
    "end": "5204560"
  },
  {
    "text": "correct we don't have a specific time limit after they can do this I just want to let people know what the next steps",
    "start": "5204560",
    "end": "5211199"
  },
  {
    "text": "are yeah you can either watch it again you can do it again I I think you can do it on giod again but uh either way you can",
    "start": "5211199",
    "end": "5218719"
  },
  {
    "text": "certainly run it locally and um and follow uh steps all the way to seven and",
    "start": "5218719",
    "end": "5224000"
  },
  {
    "text": "see each of the comments for those so I hope that I hope that helps a lot and thanks everyone um thanks for thanks to",
    "start": "5224000",
    "end": "5230560"
  },
  {
    "text": "the G pod folks and um and all of you for",
    "start": "5230560",
    "end": "5236560"
  },
  {
    "text": "coming",
    "start": "5236800",
    "end": "5239800"
  }
]