[
  {
    "text": "hi and thank you for coming to my talk about when a secure connection might not",
    "start": "280",
    "end": "5799"
  },
  {
    "text": "be encrypted and a few other stories my name is Liz rice I work at a company",
    "start": "5799",
    "end": "11120"
  },
  {
    "text": "called ISO veent which is the company that originally created the selum project how many of you have heard of",
    "start": "11120",
    "end": "18279"
  },
  {
    "text": "celum excellent hopefully you all know that celum recently graduated in the cncf so",
    "start": "18279",
    "end": "24240"
  },
  {
    "text": "that's really exciting for us and uh frankly I think deserves a round of applause",
    "start": "24240",
    "end": "30920"
  },
  {
    "text": "thank you and today I want to talk about a beta feature that's in uh recent",
    "start": "30920",
    "end": "38440"
  },
  {
    "text": "versions of syum for Mutual authentication and let's take a step",
    "start": "38440",
    "end": "45480"
  },
  {
    "text": "back and talk about what we mean when we say a connection is secure and I think",
    "start": "45480",
    "end": "51920"
  },
  {
    "text": "one of the best ways to think about this is to think about what you want when you're talking to your bank over the",
    "start": "51920",
    "end": "58280"
  },
  {
    "text": "internet you absolutely need to authenticate identities you need to know",
    "start": "58280",
    "end": "64559"
  },
  {
    "text": "you need the bank to know that you're you because you don't want to be paying money into somebody else's account you",
    "start": "64559",
    "end": "70600"
  },
  {
    "text": "want to know that you're talking to the bank because you don't want to be paying your money into some random",
    "start": "70600",
    "end": "77320"
  },
  {
    "text": "person so that establishment of both ends of uh or the identity at both ends",
    "start": "77320",
    "end": "83560"
  },
  {
    "text": "of a connection is critical it's also important to then encrypt the traffic that's flowing",
    "start": "83560",
    "end": "90240"
  },
  {
    "text": "between those end points because you don't want everybody knowing how much money you've got in your bank account uh",
    "start": "90240",
    "end": "96399"
  },
  {
    "text": "and you also don't want them potentially monitoring that traffic to for example get your",
    "start": "96399",
    "end": "103798"
  },
  {
    "text": "password in the environment where we're talking about a web browser talking to a bank we're probably talking about TLS",
    "start": "104000",
    "end": "111479"
  },
  {
    "text": "I'm sure you're all familiar with the little padlock icon that you get in the browser when TLS has been",
    "start": "111479",
    "end": "117799"
  },
  {
    "text": "established we don't need to go through all all the details of how that TLS handshake happens but the core parts are",
    "start": "117799",
    "end": "125399"
  },
  {
    "text": "it starts with a TCP connection so there's a a client end that initiates a",
    "start": "125399",
    "end": "131120"
  },
  {
    "text": "TCP connection that sinac flow is the beginning of every TCP",
    "start": "131120",
    "end": "136599"
  },
  {
    "text": "communication and then the client initiates this handshake asking the server for its",
    "start": "136599",
    "end": "145000"
  },
  {
    "text": "identity in the form of an x509 certificate so this is the bit that proves that the bank is really the",
    "start": "145000",
    "end": "152599"
  },
  {
    "text": "bank the client can validate that certificate and proceed there's also",
    "start": "152599",
    "end": "158040"
  },
  {
    "text": "some exchange of information that allows both ends to derive uh key that they can",
    "start": "158040",
    "end": "163879"
  },
  {
    "text": "use for encrypting traffic for the duration of that session in a cloud native environment we",
    "start": "163879",
    "end": "170680"
  },
  {
    "text": "typically talk about Mutual TLS between two workloads when you're talking to your bank you probably do TLS to",
    "start": "170680",
    "end": "177239"
  },
  {
    "text": "establish that it's the bank and then you use some other authentication method like a username and password to confirm",
    "start": "177239",
    "end": "186000"
  },
  {
    "text": "to the bank that you are who you say you are in uh kubernetes cluster for example",
    "start": "186000",
    "end": "192840"
  },
  {
    "text": "we probably have two peer workloads that can exchange certificates that have been",
    "start": "192840",
    "end": "198599"
  },
  {
    "text": "issued by a common certificate Authority that they both trust so the mutual TLS handshake is",
    "start": "198599",
    "end": "205200"
  },
  {
    "text": "very similar to the TLs handshake we've just got an additional certificate flowing and being valid upd",
    "start": "205200",
    "end": "210400"
  },
  {
    "text": "ated so mutual TLS starts with TCP and upgrades it to be authenticated and then",
    "start": "210400",
    "end": "217120"
  },
  {
    "text": "allows or then uses that TCP connection for encrypted",
    "start": "217120",
    "end": "223040"
  },
  {
    "text": "data so we often hear about the requirement to uh have mtls in a cluster",
    "start": "223680",
    "end": "231200"
  },
  {
    "text": "for that encryption stage but mtls isn't the only way to",
    "start": "231200",
    "end": "236439"
  },
  {
    "text": "solve the problem of encryption it's often uh it's a core principle really of",
    "start": "236439",
    "end": "241879"
  },
  {
    "text": "zero trust that we want to see all the traffic in our cluster being encrypted",
    "start": "241879",
    "end": "247599"
  },
  {
    "text": "and another way that we can do that is with transparent encryption so transparent",
    "start": "247599",
    "end": "254760"
  },
  {
    "text": "encryption uses either wire guard or ipsc to set up secure tunnels between",
    "start": "254760",
    "end": "261000"
  },
  {
    "text": "each pair of nodes and then the traffic between pods on those nodes",
    "start": "261000",
    "end": "266240"
  },
  {
    "text": "automatically gets encrypted as it flows through that tunnel and the pods are blissfully unaware that the traffic is",
    "start": "266240",
    "end": "272240"
  },
  {
    "text": "being encrypted the identities used for that",
    "start": "272240",
    "end": "277720"
  },
  {
    "text": "encryption or the certificates rather for the authentication and then the key exchange that allows them to do",
    "start": "277720",
    "end": "283680"
  },
  {
    "text": "encryption those identities are representing the nodes rather than the individual",
    "start": "283680",
    "end": "290479"
  },
  {
    "text": "workloads but if you don't trust your node identities you you may have some other issues you know if you think your",
    "start": "290479",
    "end": "296039"
  },
  {
    "text": "nose have been compromised you probably don't want to be running on those running work loads on those nodes so for",
    "start": "296039",
    "end": "303280"
  },
  {
    "text": "a lot of circumstances transparent encryption ticks the box that people need for their",
    "start": "303280",
    "end": "310320"
  },
  {
    "text": "encryption requirement within their cluster wiard and ipsc were both",
    "start": "310320",
    "end": "315960"
  },
  {
    "text": "originally designed for use in vpns they're quite similar they tunnel your",
    "start": "315960",
    "end": "323280"
  },
  {
    "text": "IP traffic encapsulated and encrypted uh in the form of UDP",
    "start": "323280",
    "end": "328360"
  },
  {
    "text": "packets uh IPC maintains these tunnels over a longer lifetime between each pair of",
    "start": "328360",
    "end": "336039"
  },
  {
    "text": "peers IPC allows you to specify the cryptographic ciphers you're going to",
    "start": "336039",
    "end": "341919"
  },
  {
    "text": "use and you can choose ciphers that are going to be fips compliant so you can",
    "start": "341919",
    "end": "347479"
  },
  {
    "text": "run IPC and be fips compliant that said a lot of people",
    "start": "347479",
    "end": "352560"
  },
  {
    "text": "consider wire guard to be more secure it's a newer alternative you configure a ward",
    "start": "352560",
    "end": "360440"
  },
  {
    "text": "interface so instead of having or as well as having the fzo interface out of",
    "start": "360440",
    "end": "365880"
  },
  {
    "text": "your node you'd also have a wg0 interface where if you put a traff a",
    "start": "365880",
    "end": "372199"
  },
  {
    "text": "packet into it it's going to get encrypted and you basically just",
    "start": "372199",
    "end": "377599"
  },
  {
    "text": "configure that interface set up your private key and the public key for each",
    "start": "377599",
    "end": "382759"
  },
  {
    "text": "peer you're going to communicate with and then you just send packets into that wi guard interface now it just so",
    "start": "382759",
    "end": "390440"
  },
  {
    "text": "happens that the cryptog cryptography protocols that wiard uses are not deemed to be fips",
    "start": "390440",
    "end": "398479"
  },
  {
    "text": "compliant because somebody hasn't paid the money to get it assessed or something like that it's really more",
    "start": "398479",
    "end": "403520"
  },
  {
    "text": "about money than it is about technical merits but for whatever reason it's not considered fips compliant so that might",
    "start": "403520",
    "end": "410880"
  },
  {
    "text": "put you down the IP SEC route if that is something you need to do the other thing Ward does that's really nice is it",
    "start": "410880",
    "end": "416440"
  },
  {
    "text": "automatically rotates keys for you so these are really nice solutions for that",
    "start": "416440",
    "end": "421639"
  },
  {
    "text": "encryption part so if I have two droids in a galaxy",
    "start": "421639",
    "end": "427360"
  },
  {
    "text": "far far away and they want to communicate with each other they don't need to know anything about whether that",
    "start": "427360",
    "end": "433520"
  },
  {
    "text": "traffic's being encrypted or not um I have a cluster in the galaxy",
    "start": "433520",
    "end": "440039"
  },
  {
    "text": "far far away it has a couple of kind nodes in it and if I uh is that big",
    "start": "440039",
    "end": "446000"
  },
  {
    "text": "enough to see anybody yeah I see some thumbs up good okay so if I ask C3PO to",
    "start": "446000",
    "end": "453400"
  },
  {
    "text": "talk to R2D2 we can see that works in the bottom half here I've got Hubble",
    "start": "453400",
    "end": "459360"
  },
  {
    "text": "showing all the packets that are flowing in the galaxy far far away and we can see lots of green everything's going",
    "start": "459360",
    "end": "466319"
  },
  {
    "text": "well now if I were to this this is going to",
    "start": "466319",
    "end": "471919"
  },
  {
    "text": "be one of those demos where you're just going to kind of have to take my word for it if if I uh run TCP dump on the E zero",
    "start": "471919",
    "end": "481319"
  },
  {
    "text": "interface where in this case it's rgd2 where RTD2 is running I shouldn't be",
    "start": "481319",
    "end": "487599"
  },
  {
    "text": "able to see that traffic I do have um uh transparent encryption turned on let me",
    "start": "487599",
    "end": "494479"
  },
  {
    "text": "just show you that so if I look for encrypt we should see encryption is",
    "start": "494479",
    "end": "500720"
  },
  {
    "text": "enabled using wire guard and if I look for the beep message",
    "start": "500720",
    "end": "507840"
  },
  {
    "text": "on that interface nothing shows up if I didn't have",
    "start": "507840",
    "end": "513479"
  },
  {
    "text": "encryption on you would see the the message appearing but I",
    "start": "513479",
    "end": "519200"
  },
  {
    "text": "don't have time today to turn it off and turn it on again so you're just going to have to take my word for it that that is encrypted over the wire",
    "start": "519200",
    "end": "528200"
  },
  {
    "text": "oops that's the encryption part but it doesn't tell us anything about the identity of who's communicating with",
    "start": "528200",
    "end": "534399"
  },
  {
    "text": "whom and in syum for a long time we've used Network policy and",
    "start": "534399",
    "end": "539920"
  },
  {
    "text": "identity based on kubernetes labels to restrict traffic how many of you here are actually using",
    "start": "539920",
    "end": "547120"
  },
  {
    "text": "already quite a few of you so you will probably be familiar with network",
    "start": "547120",
    "end": "552360"
  },
  {
    "text": "policies like this so This policy applies to the namespace Far Far Away it",
    "start": "552360",
    "end": "559720"
  },
  {
    "text": "matches or it will apply to endpoints that have the class of droid so a label",
    "start": "559720",
    "end": "564959"
  },
  {
    "text": "class equals Droid and it's saying for for all those",
    "start": "564959",
    "end": "570279"
  },
  {
    "text": "droids Ingress traffic must come from endpoints that have the label org equals",
    "start": "570279",
    "end": "576120"
  },
  {
    "text": "Rebel Alliance so this should only permit traffic from pods that have that",
    "start": "576120",
    "end": "581560"
  },
  {
    "text": "label Rebel Alliance now",
    "start": "581560",
    "end": "587200"
  },
  {
    "text": "the labels that you apply to your pods are used by celum to construct what's",
    "start": "587200",
    "end": "594240"
  },
  {
    "text": "called ayum identity so the any pod that's got the same set of labels will",
    "start": "594240",
    "end": "600560"
  },
  {
    "text": "get the same cium identity so let's just have a quick look at uh my end points so",
    "start": "600560",
    "end": "606920"
  },
  {
    "text": "I'm going to look at the cium end points there's quite a few different craft in",
    "start": "606920",
    "end": "612120"
  },
  {
    "text": "my Galaxy you can see that almost all of them have a different ident this",
    "start": "612120",
    "end": "618480"
  },
  {
    "text": "identity ID column is the cium identity you can think of it as a security identity if you",
    "start": "618480",
    "end": "624040"
  },
  {
    "text": "like I've got a couple of PODS that represent the Death Star operating a",
    "start": "624040",
    "end": "629120"
  },
  {
    "text": "Death Star service they have unique endpoint IDs but they share the same",
    "start": "629120",
    "end": "635480"
  },
  {
    "text": "syum identity because they represent the same",
    "start": "635480",
    "end": "642079"
  },
  {
    "text": "service okay so that psyllium identity is derived",
    "start": "642320",
    "end": "648760"
  },
  {
    "text": "from labels and if we want to make a network",
    "start": "648760",
    "end": "654680"
  },
  {
    "text": "policy decision it's using that identity value you to check whether or not it the",
    "start": "654680",
    "end": "661440"
  },
  {
    "text": "traffic that's come from a certain pod that has a certain security identity",
    "start": "661440",
    "end": "667519"
  },
  {
    "text": "does that security identity match the set of labels as required by the policy to determine whether this traffic is",
    "start": "667519",
    "end": "673639"
  },
  {
    "text": "allowed or not so uh traffic from a certain IP address has a certain",
    "start": "673639",
    "end": "681120"
  },
  {
    "text": "security identity which either passes or fails the policy so if I set up a policy I just",
    "start": "681120",
    "end": "688639"
  },
  {
    "text": "need to comment out this bit and comment back in this",
    "start": "688639",
    "end": "694440"
  },
  {
    "text": "bit yeah okay so I'm going to apply that policy that's basically exactly the same",
    "start": "694440",
    "end": "700480"
  },
  {
    "text": "as what I just showed you and this is going to continue allow to allow C3PO to talk to R2-D2 because",
    "start": "700480",
    "end": "708160"
  },
  {
    "text": "they're both droids but if I try to communicate from let's say a TIE",
    "start": "708160",
    "end": "714959"
  },
  {
    "text": "fighter this is going to hang hopefully and if we look at the Hubble flows we'll",
    "start": "714959",
    "end": "721440"
  },
  {
    "text": "see traffic here is being dropped between TI fighter and R2-D2 because the",
    "start": "721440",
    "end": "726680"
  },
  {
    "text": "policy denied it policy verdict has been denied okay let's just stop that",
    "start": "726680",
    "end": "735760"
  },
  {
    "text": "right but what if I'm Darth Vader and I can use some kind of Jedi mind trick to",
    "start": "735760",
    "end": "741760"
  },
  {
    "text": "spoof IP",
    "start": "741760",
    "end": "744600"
  },
  {
    "text": "addresses if I as Darth Vader can pretend that I have the same IP address",
    "start": "746959",
    "end": "752440"
  },
  {
    "text": "as C3PO and that IP address has a certain security identity then I'm going to pass",
    "start": "752440",
    "end": "759160"
  },
  {
    "text": "the network policy and that would be a bad",
    "start": "759160",
    "end": "765040"
  },
  {
    "text": "thing in fact what can be potentially even worse if you don't have uh",
    "start": "765120",
    "end": "770240"
  },
  {
    "text": "transparent encryption turned on traffic is flowing in the clear and we'll have",
    "start": "770240",
    "end": "776440"
  },
  {
    "text": "this if you're using tunneling we have have the security identity embedded in the header so somebody observing that",
    "start": "776440",
    "end": "784120"
  },
  {
    "text": "traffic would be able to see the security identity and they could also uh match on their security",
    "start": "784120",
    "end": "790600"
  },
  {
    "text": "identity kind of unlikely IP spoofing is not that common and probably if you are",
    "start": "790600",
    "end": "796560"
  },
  {
    "text": "seeing things uh spoofing IP addresses in your cluster there are issues but nevertheless it's something we want to",
    "start": "796560",
    "end": "804480"
  },
  {
    "text": "prevent so let's come back to our Network policy",
    "start": "804480",
    "end": "809720"
  },
  {
    "text": "and in addition we're going to add two lines to the network policy we're going to say as well as matching the",
    "start": "809720",
    "end": "815120"
  },
  {
    "text": "label-based identity we require that this communication is authenticated that you",
    "start": "815120",
    "end": "821399"
  },
  {
    "text": "prove you are the security identity you say you are so the the existing check still is",
    "start": "821399",
    "end": "831240"
  },
  {
    "text": "still in place we need to make sure that that IP address uh matches a security",
    "start": "831240",
    "end": "836440"
  },
  {
    "text": "identity and the security identity conforms to the labels that we require in the",
    "start": "836440",
    "end": "842120"
  },
  {
    "text": "policy but also celium on this node where R2D2 is",
    "start": "842120",
    "end": "847839"
  },
  {
    "text": "running for example knows where that IP address should be right so if",
    "start": "847839",
    "end": "855959"
  },
  {
    "text": "I look at let's look at the so I've got a pod here for C3PO if I",
    "start": "855959",
    "end": "864320"
  },
  {
    "text": "look at the cium end point for C3PO",
    "start": "864320",
    "end": "870040"
  },
  {
    "text": "no I want to describe it not get it so we can see we know about all the",
    "start": "870040",
    "end": "877560"
  },
  {
    "text": "labels that apply to C3PO like it is a Droid we knew that it's a member of the",
    "start": "877560",
    "end": "883040"
  },
  {
    "text": "Rebel Alliance good uh we can see its IP address and we can also see the node that it's running",
    "start": "883040",
    "end": "890519"
  },
  {
    "text": "on so this information is available to the celium agent where R2D2 is",
    "start": "890519",
    "end": "897120"
  },
  {
    "text": "running so we want to be able to check that the",
    "start": "897120",
    "end": "902240"
  },
  {
    "text": "traffic coming on this particular IP address is known to the place where that IP address is supposed to be running on",
    "start": "902240",
    "end": "909040"
  },
  {
    "text": "in other words if we get traffic that says it's from C3PO we want the node",
    "start": "909040",
    "end": "914639"
  },
  {
    "text": "where C3PO is supposed to be to confirm that C3PO is in fact",
    "start": "914639",
    "end": "920680"
  },
  {
    "text": "there and we do that with a handshake we're going to use the same",
    "start": "920680",
    "end": "927720"
  },
  {
    "text": "handshake that would use in an mtls uh communication as we set up a",
    "start": "927720",
    "end": "932880"
  },
  {
    "text": "connection but it's between the cium agent and another agent on behalf of",
    "start": "932880",
    "end": "940720"
  },
  {
    "text": "those pods",
    "start": "940720",
    "end": "946600"
  },
  {
    "text": "so because this is a um an Ingress",
    "start": "946600",
    "end": "952040"
  },
  {
    "text": "policy at the end where R2-D2 is receiving the traffic it's going to be initiated by the syum agent work R2-D2",
    "start": "952040",
    "end": "959240"
  },
  {
    "text": "is running that agent's going to get a hold of an x509 certificate representing",
    "start": "959240",
    "end": "964680"
  },
  {
    "text": "R2-D2 we'll come back to that it's got that certificate it sets up a TCP",
    "start": "964680",
    "end": "970880"
  },
  {
    "text": "connection to the celium agent where C3PO is known to be running then it",
    "start": "970880",
    "end": "975920"
  },
  {
    "text": "initiates the same handshake as we'd use in mtls there is an exchange of certificates so that both ends have",
    "start": "975920",
    "end": "983480"
  },
  {
    "text": "authenticated each other and now we're going to pass let me",
    "start": "983480",
    "end": "988759"
  },
  {
    "text": "go back to we're passing this authentication required check that's part of the network",
    "start": "988759",
    "end": "995240"
  },
  {
    "text": "policy okay so uh yeah let me add that",
    "start": "995240",
    "end": "1000639"
  },
  {
    "text": "into the policy so I'm just going to turn on these authentication mode",
    "start": "1000639",
    "end": "1006560"
  },
  {
    "text": "required and apply",
    "start": "1006560",
    "end": "1011519"
  },
  {
    "text": "that okay so C3PO should still be able to",
    "start": "1011839",
    "end": "1018680"
  },
  {
    "text": "communicate with r2dt there we go that",
    "start": "1018680",
    "end": "1026240"
  },
  {
    "text": "started so we can see here Ingress is allowed and we've got this new",
    "start": "1026240",
    "end": "1031959"
  },
  {
    "text": "authenticated by Spire indication in the Hubble",
    "start": "1031959",
    "end": "1038480"
  },
  {
    "text": "flow that probably gave a very big clue if you didn't already know that we're using Spire to distribute those uh",
    "start": "1038880",
    "end": "1047079"
  },
  {
    "text": "certificates and this is another thing that's transparent we don't need the applications to get involved in fact we",
    "start": "1047400",
    "end": "1053640"
  },
  {
    "text": "don't really need to do any configuration other than to turn Mutual authentication on and say please use",
    "start": "1053640",
    "end": "1060039"
  },
  {
    "text": "Spire San will automatically start uh running the the Spire service has",
    "start": "1060039",
    "end": "1066200"
  },
  {
    "text": "anybody used spiffy and Spire before okay a smaller number of hands",
    "start": "1066200",
    "end": "1071640"
  },
  {
    "text": "right so spiffy is um a way of securely",
    "start": "1071640",
    "end": "1076679"
  },
  {
    "text": "providing identity management to workloads and those workloads are um",
    "start": "1076679",
    "end": "1083480"
  },
  {
    "text": "need to be registered with SP Spire is an implementation of the spiffy",
    "start": "1083480",
    "end": "1088720"
  },
  {
    "text": "protocol and you register a workload with Spire you tell Spire something",
    "start": "1088720",
    "end": "1095760"
  },
  {
    "text": "about that workload that kind of uh only that workload can do it's called a",
    "start": "1095760",
    "end": "1102840"
  },
  {
    "text": "selector and then a workload that can meet the selector conditions can retrieve this spiffy it's called a sid",
    "start": "1102840",
    "end": "1110799"
  },
  {
    "text": "spiffy verified ID really it's the the ones we're interested in are in the form",
    "start": "1110799",
    "end": "1116080"
  },
  {
    "text": "of an x509 certificate so in cium cium is going to register the",
    "start": "1116080",
    "end": "1123320"
  },
  {
    "text": "workloads on behalf of the pods and retrieve the corresponding certificates on behalf of the pods and",
    "start": "1123320",
    "end": "1130600"
  },
  {
    "text": "the spiffy IDs that we have correspond to that security ID that we had",
    "start": "1130600",
    "end": "1137320"
  },
  {
    "text": "before so if I look in my cluster I can see cium automatically created a celium",
    "start": "1137320",
    "end": "1144520"
  },
  {
    "text": "spy namespace and uh we can see the Ser",
    "start": "1144520",
    "end": "1150200"
  },
  {
    "text": "the Spire server and some agents running in there and I have just like a little uh",
    "start": "1150200",
    "end": "1156720"
  },
  {
    "text": "abbreviation here an alias for a long command that gets me into the Spy server",
    "start": "1156720",
    "end": "1163480"
  },
  {
    "text": "um but if I use this to show the Spy entries that have been registered",
    "start": "1163480",
    "end": "1170159"
  },
  {
    "text": "there should be an entry in here for every um cium security identity so if I",
    "start": "1170159",
    "end": "1178559"
  },
  {
    "text": "get the cium",
    "start": "1178559",
    "end": "1183640"
  },
  {
    "text": "identities I'm going to do it with the labels this will be you know what I'm going to GP for",
    "start": "1184159",
    "end": "1191720"
  },
  {
    "text": "C3PO so 52 452 is see 3po's identity and",
    "start": "1193159",
    "end": "1201280"
  },
  {
    "text": "we should have in here Inspire there we go this is the spiffy identity",
    "start": "1201280",
    "end": "1208360"
  },
  {
    "text": "for C3PO that the psyllium agent will be",
    "start": "1208360",
    "end": "1213720"
  },
  {
    "text": "able to retrieve on behalf of C3PO without C3PO needing to know anything",
    "start": "1213720",
    "end": "1220159"
  },
  {
    "text": "about it in order to perform that handshake",
    "start": "1220159",
    "end": "1226559"
  },
  {
    "text": "okay and we saw already that when that handshake has been achieved we can see",
    "start": "1227159",
    "end": "1233480"
  },
  {
    "text": "authorized by Spire as part of the policy verdict that we see in Hubble okay so I've shown you that the",
    "start": "1233480",
    "end": "1242480"
  },
  {
    "text": "authentication can work but what about a situation where the authentication",
    "start": "1242480",
    "end": "1248440"
  },
  {
    "text": "wouldn't work like the IP spoofing situation so pretty hard to set up uh an",
    "start": "1248440",
    "end": "1255200"
  },
  {
    "text": "actual IP spoofing situation but I am going to show you something kind of equivalent so what I'm going to",
    "start": "1255200",
    "end": "1261280"
  },
  {
    "text": "do is um I actually have as well as my kind",
    "start": "1261280",
    "end": "1267640"
  },
  {
    "text": "cluster running kubernetes I've also got this extra node here that's on the same",
    "start": "1267640",
    "end": "1273039"
  },
  {
    "text": "uh sort of underlying Docker Network and it can connect to my clusters and I've",
    "start": "1273039",
    "end": "1278799"
  },
  {
    "text": "called it Darth Vader over here um now Darth Vader doesn't have an access",
    "start": "1278799",
    "end": "1286039"
  },
  {
    "text": "to any of the there's there's no um um there's no kubernetes running on here so",
    "start": "1286039",
    "end": "1292039"
  },
  {
    "text": "it doesn't know anything about things like kubernetes Services I can't curl to R2-D2 as a service but I could curl to",
    "start": "1292039",
    "end": "1300559"
  },
  {
    "text": "the IP address provided it knows how to get to that IP address and in order to",
    "start": "1300559",
    "end": "1307960"
  },
  {
    "text": "Let's uh to to make that possible I've actually added this additional routing",
    "start": "1307960",
    "end": "1313480"
  },
  {
    "text": "rule so 10. 24416 is is",
    "start": "1313480",
    "end": "1320360"
  },
  {
    "text": "R2D2 and uh in fact if I show the",
    "start": "1320360",
    "end": "1327000"
  },
  {
    "text": "um the worker nodes we should be able to see that kind worker which is the node",
    "start": "1327000",
    "end": "1333720"
  },
  {
    "text": "where R2-D2 is running has this IP address ending in 03 so what I've done",
    "start": "1333720",
    "end": "1339360"
  },
  {
    "text": "here is just add a route to say if you want to get to R2D2's IP address you got to go via that node because that's where",
    "start": "1339360",
    "end": "1345640"
  },
  {
    "text": "it's running so I'm just going to delete that",
    "start": "1345640",
    "end": "1350840"
  },
  {
    "text": "uh policy because otherwise it might work so I should be",
    "start": "1350840",
    "end": "1357679"
  },
  {
    "text": "able to curl to that IP address there's nothing preventing it from happening right now I've deleted the",
    "start": "1357679",
    "end": "1365080"
  },
  {
    "text": "policy come on oh I did thank you",
    "start": "1366000",
    "end": "1374360"
  },
  {
    "text": "yeah delete good job you're all paying attention thank you all right okay so",
    "start": "1375039",
    "end": "1382480"
  },
  {
    "text": "there we go Darth Vader was able to send a c to so we know that that IP address",
    "start": "1382480",
    "end": "1387960"
  },
  {
    "text": "is reachable from Darth Vader now what I'm going to do is create a policy I",
    "start": "1387960",
    "end": "1393520"
  },
  {
    "text": "don't want it to fail on the labels part because we already knew that worked right and we know Darth Vader doesn't",
    "start": "1393520",
    "end": "1399760"
  },
  {
    "text": "have any labels because it's he not in the kubernetes world so instead what I'm",
    "start": "1399760",
    "end": "1405240"
  },
  {
    "text": "going to do is instead of matching on labels I'm going to say all entities are",
    "start": "1405240",
    "end": "1413039"
  },
  {
    "text": "allowed to communicate provided they can give me authentication",
    "start": "1413039",
    "end": "1420240"
  },
  {
    "text": "yeah so in other words it's not going to fail on that first Network policy check it should fail when we come to check the",
    "start": "1420240",
    "end": "1427960"
  },
  {
    "text": "authentication so let me apply",
    "start": "1427960",
    "end": "1432679"
  },
  {
    "text": "that okay and hopefully if if we try the",
    "start": "1433559",
    "end": "1439480"
  },
  {
    "text": "curl doesn't look like it's working and if we look in Hubble we can see that",
    "start": "1439480",
    "end": "1444760"
  },
  {
    "text": "it's failing because of authentication not being in place so authentication is",
    "start": "1444760",
    "end": "1452559"
  },
  {
    "text": "required it's not there and therefore we're just going to keep dropping the",
    "start": "1452559",
    "end": "1457720"
  },
  {
    "text": "packets so hopefully that convinces you that you need to be authenticated by uh",
    "start": "1457960",
    "end": "1466200"
  },
  {
    "text": "a spiffy identity if that authentication required is in",
    "start": "1466200",
    "end": "1471320"
  },
  {
    "text": "place in your network policy so that is s's Next Generation",
    "start": "1471320",
    "end": "1479279"
  },
  {
    "text": "Mutual authentication there are a couple of other things to note about",
    "start": "1479279",
    "end": "1485200"
  },
  {
    "text": "this so first of all that handshake is happening independently of the traffic",
    "start": "1485200",
    "end": "1491640"
  },
  {
    "text": "that it then permits so although the handshake starts with a TCP connection",
    "start": "1491640",
    "end": "1497440"
  },
  {
    "text": "between between the psyllium agents on the two nodes doesn't have to be TCP in the",
    "start": "1497440",
    "end": "1503760"
  },
  {
    "text": "traffic that is then subsequently permitted between those endpoints so if you're using mtls today",
    "start": "1503760",
    "end": "1510600"
  },
  {
    "text": "in um let's say a service mesh it's only going to allow you to authenticate an",
    "start": "1510600",
    "end": "1515880"
  },
  {
    "text": "encrypt TCP traffic whereas with this approach we will be able to",
    "start": "1515880",
    "end": "1522120"
  },
  {
    "text": "authenticate any traffic that goes over IP using this handshake and then encrypt",
    "start": "1522120",
    "end": "1527880"
  },
  {
    "text": "again anything that goes over IP using IP secc or",
    "start": "1527880",
    "end": "1533600"
  },
  {
    "text": "wiard the other thing that happens because you're because we're able to uh",
    "start": "1533600",
    "end": "1538799"
  },
  {
    "text": "have the handshake independent of the encryption is that you don't necessarily have to do encryption at",
    "start": "1538799",
    "end": "1546080"
  },
  {
    "text": "all now at the beginning we said for a secure connection to be secure it needs",
    "start": "1546080",
    "end": "1551520"
  },
  {
    "text": "to be authenticated and encrypted but there are some",
    "start": "1551520",
    "end": "1556919"
  },
  {
    "text": "environments when we have have some users who particularly uh have particularly strict latency concerns for",
    "start": "1556919",
    "end": "1564200"
  },
  {
    "text": "example maybe they're doing highfrequency trading and the amount of time it might take to encrypt and",
    "start": "1564200",
    "end": "1570840"
  },
  {
    "text": "decrypt traffic can have a material effect on how fast they can do",
    "start": "1570840",
    "end": "1576480"
  },
  {
    "text": "trading so in those environments they don't actually want the encryption but",
    "start": "1576480",
    "end": "1581799"
  },
  {
    "text": "they still want the security of the authenticated connection they still want the security of the networ policy that",
    "start": "1581799",
    "end": "1589880"
  },
  {
    "text": "only permits traffic between those authenticated end points with the",
    "start": "1589880",
    "end": "1595640"
  },
  {
    "text": "security IDs that have been proven by spiffy IDs so that's the situation where a",
    "start": "1595640",
    "end": "1601720"
  },
  {
    "text": "secure connection doesn't necessarily have to be encrypted all of this is basically made",
    "start": "1601720",
    "end": "1608399"
  },
  {
    "text": "possible using the power of ebpf uh have how many of you have heard of",
    "start": "1608399",
    "end": "1614240"
  },
  {
    "text": "ebpf excellent good so this is a new documentary it's going to have its World",
    "start": "1614240",
    "end": "1620559"
  },
  {
    "text": "premiere today is Tuesday right so tomorrow uh 6:15 here at cucon we are",
    "start": "1620559",
    "end": "1627039"
  },
  {
    "text": "seeing the premiere of the ebpf documentary I've seen it it is amazing it's a really good story maybe I'm",
    "start": "1627039",
    "end": "1633559"
  },
  {
    "text": "biased I don't know I think it's well worth seeing and if you want to learn more",
    "start": "1633559",
    "end": "1639399"
  },
  {
    "text": "about ebpf or celium do come by there's a cium project Booth there's the isov",
    "start": "1639399",
    "end": "1644480"
  },
  {
    "text": "veent booth we have a cium experience Center you can come and get handson with",
    "start": "1644480",
    "end": "1649640"
  },
  {
    "text": " we have lots of books and resources that you can get from the is surveillant website and you can also come by the iso",
    "start": "1649640",
    "end": "1657080"
  },
  {
    "text": "veent booth at 5:00 today where we'll be doing some book signing of the learning",
    "start": "1657080",
    "end": "1662880"
  },
  {
    "text": "ebpf book I hope you are all really fascinated by ebpf because I think it's amazing so with that that's all I have",
    "start": "1662880",
    "end": "1670840"
  },
  {
    "text": "other than if you've got questions so thank you very",
    "start": "1670840",
    "end": "1675278"
  },
  {
    "text": "much [Applause]",
    "start": "1676519",
    "end": "1682559"
  },
  {
    "text": "anyone got any questions oh it's Andre he's going to",
    "start": "1682559",
    "end": "1688279"
  },
  {
    "text": "ask me a hard question yeah I have a a quick one uh when you showed us that uh",
    "start": "1688279",
    "end": "1693760"
  },
  {
    "text": "when we were doing the authentication uh was it between pot and pot or was it",
    "start": "1693760",
    "end": "1698919"
  },
  {
    "text": "between pot and service I I'm not sure I missed it or so the authentication is",
    "start": "1698919",
    "end": "1704919"
  },
  {
    "text": "you can see it in a couple of ways so let me try and bring back the",
    "start": "1704919",
    "end": "1710279"
  },
  {
    "text": "um actually that will do that will do for the diagram",
    "start": "1712279",
    "end": "1718480"
  },
  {
    "text": "so the handshake is happening between two different nodes essentially between",
    "start": "1718480",
    "end": "1723880"
  },
  {
    "text": "the cium agents on those two different nodes and they",
    "start": "1723880",
    "end": "1730000"
  },
  {
    "text": "are what they are asserting is that the security you know that",
    "start": "1730000",
    "end": "1736080"
  },
  {
    "text": "ID exist EXs on that node and it's where the node expected that IP address to be",
    "start": "1736080",
    "end": "1742919"
  },
  {
    "text": "where the other node expected the the IP address to be does that make sense yeah",
    "start": "1742919",
    "end": "1748600"
  },
  {
    "text": "that answer the question yeah list thanks all thanks for the talk um I was",
    "start": "1748600",
    "end": "1754399"
  },
  {
    "text": "curious that so currently you're using mtls to do the handshake um but then you're you said that you're not using it",
    "start": "1754399",
    "end": "1760440"
  },
  {
    "text": "for the encryption that you're using wire guard or um IPC uh but there are",
    "start": "1760440",
    "end": "1766640"
  },
  {
    "text": "now some options for tunneling over mtls itself uh including UDP with some of the",
    "start": "1766640",
    "end": "1772600"
  },
  {
    "text": "new uh tunneling options that are coming out have you consider that as an option and would you be open to taking that",
    "start": "1772600",
    "end": "1778679"
  },
  {
    "text": "sort of contribution I think answering the second question if there's like use",
    "start": "1778679",
    "end": "1783799"
  },
  {
    "text": "cases for it and you know good engineering reasons we are absolutely always interested to hear about you know",
    "start": "1783799",
    "end": "1789960"
  },
  {
    "text": "use cases and accepting contributions yeah totally it's not something I've",
    "start": "1789960",
    "end": "1795399"
  },
  {
    "text": "heard about my immediate question is uh like well not a question I think one of",
    "start": "1795399",
    "end": "1801279"
  },
  {
    "text": "the benefits that we have is this idea that if we remove mtls from the equation we can support other kinds of Ip traffic",
    "start": "1801279",
    "end": "1808120"
  },
  {
    "text": "as well um so I'm not sure if I've understood that correctly whether that would be a like like a replacement but",
    "start": "1808120",
    "end": "1815279"
  },
  {
    "text": "it might be an extra layer or an extra alternative way of right yeah I think it would be an alternative to to those",
    "start": "1815279",
    "end": "1820880"
  },
  {
    "text": "other two and then you could uh tunnel IP over like H3 so that then you get the unreliability that you sort of want with",
    "start": "1820880",
    "end": "1827399"
  },
  {
    "text": "IP or UDP traffics okay yeah yeah definitely an interesting conversation to have for sure great thank",
    "start": "1827399",
    "end": "1834600"
  },
  {
    "text": "you hi thanks for the talk um I had a question about the Spire usage um so you",
    "start": "1835039",
    "end": "1840880"
  },
  {
    "text": "were showing the registration entries for the different workloads and they all had like the same selector value there",
    "start": "1840880",
    "end": "1847799"
  },
  {
    "text": "yeah um so conventionally like inpire you would want to have like unique selector sets per pod so I'm curious if",
    "start": "1847799",
    "end": "1853600"
  },
  {
    "text": "there's any um specially usage of spire andium like if the workloads were able to fetch uh an identity from Spire they",
    "start": "1853600",
    "end": "1860960"
  },
  {
    "text": "might be able to get like the identities of other pods um if they all shared the same selectors yeah",
    "start": "1860960",
    "end": "1868240"
  },
  {
    "text": "so I think the part of your question said is there anything special we're doing not that I'm aware of someone can",
    "start": "1868240",
    "end": "1874679"
  },
  {
    "text": "correct me if that's wrong but I I think we're using spiffy and Spar in a very standard way the reason why we're using",
    "start": "1874679",
    "end": "1882360"
  },
  {
    "text": "the same selector is because we're um I guess twofold one is because it's",
    "start": "1882360",
    "end": "1889840"
  },
  {
    "text": "the uh psyllium agent that's going to do the retrieval on behalf of any pod so it",
    "start": "1889840",
    "end": "1896240"
  },
  {
    "text": "has to be able to do it on behalf of any pod and also we don't know where in",
    "start": "1896240",
    "end": "1901320"
  },
  {
    "text": "advance where that pod's going to be so we couldn't tie it down to one",
    "start": "1901320",
    "end": "1907039"
  },
  {
    "text": "agent because we need all of the agents to be able to retrieve the identity for",
    "start": "1907039",
    "end": "1913600"
  },
  {
    "text": "any given workload I think the",
    "start": "1913600",
    "end": "1919039"
  },
  {
    "text": "if that were compromised again it's one of those situations where you have a much bigger",
    "start": "1919039",
    "end": "1924559"
  },
  {
    "text": "problem you know if you can compromise your cium agent to the extent that you're going to",
    "start": "1924559",
    "end": "1930440"
  },
  {
    "text": "be able to get different identities you could you could just change the ebpf programming there there would be a lot",
    "start": "1930440",
    "end": "1936760"
  },
  {
    "text": "of other issues that I would be concerned about as in addition to the ability to retrieve a wider set of",
    "start": "1936760",
    "end": "1944600"
  },
  {
    "text": "spids yeah I think um the I see how it's being used with the slim agent is kind",
    "start": "1944600",
    "end": "1949679"
  },
  {
    "text": "of like acting on behalf of the workloads here um I guess my question was kind of like if the workload itself",
    "start": "1949679",
    "end": "1956159"
  },
  {
    "text": "could still get its identity from the SP agent in this see",
    "start": "1956159",
    "end": "1961240"
  },
  {
    "text": "yeah oh Nick Nick knows the",
    "start": "1961240",
    "end": "1965360"
  },
  {
    "text": "answer I see okay okay so the answer there was that the identities can only retrieve be retrieved by the selum agent",
    "start": "1968919",
    "end": "1975919"
  },
  {
    "text": "rather than by the workload and I guess if the workload wanted to register identity it could register its own",
    "start": "1975919",
    "end": "1981000"
  },
  {
    "text": "identity right usually usually",
    "start": "1981000",
    "end": "1986760"
  },
  {
    "text": "usually",
    "start": "2005960",
    "end": "2008960"
  },
  {
    "text": "okay thanks hi um I was wondering I was",
    "start": "2013519",
    "end": "2018679"
  },
  {
    "text": "really interested in the wiard part of this so out in the world we now have things like tail scale and other sorry",
    "start": "2018679",
    "end": "2025080"
  },
  {
    "text": "uh that had brought like wire guard of the masses more or less for your phone and laptop um do you have any opinions",
    "start": "2025080",
    "end": "2030679"
  },
  {
    "text": "on what we should be deploying as the wire guard part of this diagram in like let's say eks GK Etc",
    "start": "2030679",
    "end": "2038960"
  },
  {
    "text": "sorry was the question should we be deploying wire guard oh no what sorry what would it actually look like from a",
    "start": "2039360",
    "end": "2045080"
  },
  {
    "text": "deployment standpoint like is cium canum do the wire guard bit or would that be a separate service we can do that for you",
    "start": "2045080",
    "end": "2052280"
  },
  {
    "text": "yeah yeah yeah yeah so you just turn transparent encryption on in cium and it",
    "start": "2052280",
    "end": "2057480"
  },
  {
    "text": "will set up the interface for you and make decisions to put packets through that interface for you oh got it so we",
    "start": "2057480",
    "end": "2064440"
  },
  {
    "text": "don't need like a third service running around the square down at the bottom there doesn't need to be a third CLE",
    "start": "2064440",
    "end": "2069760"
  },
  {
    "text": "yeah that's that square is really just supposed to it's supposed to be a tunnel oh I got it yeah maybe I should have",
    "start": "2069760",
    "end": "2074800"
  },
  {
    "text": "made that round it makes a lot more it makes a lot more sense now thank you so",
    "start": "2074800",
    "end": "2079520"
  },
  {
    "text": "much brilliant all right thanks so much for your questions everyone",
    "start": "2079919",
    "end": "2086040"
  },
  {
    "text": "and and thanks to Nick for knowing that answer",
    "start": "2086040",
    "end": "2092118"
  }
]