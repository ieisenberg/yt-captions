[
  {
    "text": "hello my name is Rina tartler and this is yaolin and we welcome you to our",
    "start": "439",
    "end": "5640"
  },
  {
    "text": "presentation Bloomberg's journey to a multicluster workl orchestration platform let me start by giving you a",
    "start": "5640",
    "end": "11639"
  },
  {
    "text": "little background about what we are working on we are part of the cloud native compute Services Group at Bloomberg where we offer a platform",
    "start": "11639",
    "end": "18160"
  },
  {
    "text": "called workfl orchestration this is not an externally visible product which means that all of our customers are",
    "start": "18160",
    "end": "24480"
  },
  {
    "text": "internal Engineers who generally use Bloomberg infrastructure and data the teamon system is rather new but",
    "start": "24480",
    "end": "32078"
  },
  {
    "text": "has seen quite rapid growth in popularity we believe that our requirements challenges and conclusions",
    "start": "32079",
    "end": "38399"
  },
  {
    "text": "May resonate with at least some of you in the audience and we are thrilled to share with you what makes our journey",
    "start": "38399",
    "end": "43840"
  },
  {
    "text": "unique and get into a conversation with you afterwards before we dive into the",
    "start": "43840",
    "end": "49760"
  },
  {
    "text": "technical details let me walk you through what we mean with workfl orchestration platform to give you a",
    "start": "49760",
    "end": "55559"
  },
  {
    "text": "better idea about what we're actually offering in a nutshell our work orchestration platform provides General",
    "start": "55559",
    "end": "62079"
  },
  {
    "text": "utility compute for run to completion bad jobs so what does that mean specifically that means that our",
    "start": "62079",
    "end": "68439"
  },
  {
    "text": "customers come to us with two things coding containers on our",
    "start": "68439",
    "end": "75119"
  },
  {
    "text": "company's internal container registry and an execution plan that defi that",
    "start": "75119",
    "end": "80200"
  },
  {
    "text": "defines in what poorts to execute in what order that plan may also decide on",
    "start": "80200",
    "end": "86479"
  },
  {
    "text": "uh about fan out of branches of execution are defined find synchronization points where the",
    "start": "86479",
    "end": "92159"
  },
  {
    "text": "workflow requires several nodes to terminate before proceeding luckily we are able to use",
    "start": "92159",
    "end": "100240"
  },
  {
    "text": "argu workflows a cncf project that has reached the graduated maturity level in",
    "start": "100240",
    "end": "105479"
  },
  {
    "text": "December 2022 for the core functionality that our clients primarily use Argo",
    "start": "105479",
    "end": "112439"
  },
  {
    "text": "workflows comes with a controller custom resource definitions crds for Dax",
    "start": "112439",
    "end": "117920"
  },
  {
    "text": "workflow steps and most prominently a user interface that allows users to visually observe the progression of",
    "start": "117920",
    "end": "124200"
  },
  {
    "text": "their workflows it is also critical for debugging when containers don't execute as expected at Bloomberg we are proud to",
    "start": "124200",
    "end": "132200"
  },
  {
    "text": "offer workflow orchestration as a service for a number of different use cases such as machine learning",
    "start": "132200",
    "end": "137760"
  },
  {
    "text": "orchestration which covers training and tuning of our AI company's AI models as an aside AI is not something",
    "start": "137760",
    "end": "146000"
  },
  {
    "text": "new to us at Bloomberg we've been using AI for more than 15 years since 2009 to",
    "start": "146000",
    "end": "152160"
  },
  {
    "text": "manage the large volume of financial data news and analytics our customers access every single day now back to our",
    "start": "152160",
    "end": "160080"
  },
  {
    "text": "system so we have users Implement custom cicd res Solutions in many cases we see",
    "start": "160080",
    "end": "167760"
  },
  {
    "text": "users trigger maintenance task on both physical as well as virtual infrastructures we have seen users",
    "start": "167760",
    "end": "173319"
  },
  {
    "text": "orchestrate financial analysis tasks to build all kinds of processing pipelines as you can see this is quite a variety",
    "start": "173319",
    "end": "180360"
  },
  {
    "text": "of use cases and that calls that's what calls for a platform that provides",
    "start": "180360",
    "end": "185560"
  },
  {
    "text": "General utility compute for badge processing applications because we run all of all of them on the same physical",
    "start": "185560",
    "end": "193959"
  },
  {
    "text": "Hardware while Argo workflows is a great platform we do have a number of additional requirements in Bloomberg",
    "start": "194159",
    "end": "200720"
  },
  {
    "text": "both functional and non-functional that steered our journey towards a multicluster solution let me give you a",
    "start": "200720",
    "end": "207799"
  },
  {
    "text": "quick walk through here BL is first and foremost a data company the data is",
    "start": "207799",
    "end": "214040"
  },
  {
    "text": "proprietary substantial in size and has very specific access requirements our",
    "start": "214040",
    "end": "220480"
  },
  {
    "text": "users generally benefit from our uis and apis to keep track of workflows PODS",
    "start": "220480",
    "end": "227200"
  },
  {
    "text": "inputs and the workflow logs that our users run our platform to develop new",
    "start": "227200",
    "end": "232439"
  },
  {
    "text": "workflows and troubleshoot when something misbehaves additionally we provide our",
    "start": "232439",
    "end": "237799"
  },
  {
    "text": "users means to observe their budgeted resource allocations so that they can make informed",
    "start": "237799",
    "end": "243959"
  },
  {
    "text": "decisions on how to size their port resource limits and when to when they",
    "start": "243959",
    "end": "250239"
  },
  {
    "text": "need additional resource allocations thinking more about uh",
    "start": "250239",
    "end": "256239"
  },
  {
    "text": "functional requirements Bloomberg expects its Engineers to be mindful where their applications run the most",
    "start": "256239",
    "end": "263199"
  },
  {
    "text": "obvious instance is to choose the correct Network Zone think prod or Dev Network for data and compute",
    "start": "263199",
    "end": "270160"
  },
  {
    "text": "additionally Bloomberg is very conscious about to choose um is very conscious",
    "start": "270160",
    "end": "275360"
  },
  {
    "text": "about production stability in general running workfl in PR requires approval",
    "start": "275360",
    "end": "280639"
  },
  {
    "text": "from someone in your management chain our platform is tightly integrated into Bloomberg standard approval processes",
    "start": "280639",
    "end": "287440"
  },
  {
    "text": "which makes it easy for our clients to comply with the relevant company policies most users rely on being able",
    "start": "287440",
    "end": "294759"
  },
  {
    "text": "to run workflows on a schedule either by specifying a cron string or by coming with their own custom schedule that is",
    "start": "294759",
    "end": "301360"
  },
  {
    "text": "connected to external events to external triggers one of the most challenging",
    "start": "301360",
    "end": "306800"
  },
  {
    "text": "requirements our team had to overcome is cross data center resiliency this",
    "start": "306800",
    "end": "312160"
  },
  {
    "text": "basically defines how application teams must develop their applications for resiliency across multiple data centers",
    "start": "312160",
    "end": "319479"
  },
  {
    "text": "from our perspective that means that we essentially need to provide several installations of Argo workflows at least",
    "start": "319479",
    "end": "326800"
  },
  {
    "text": "one per data center this however comes with additional cognitive load and failure modes that we want to discuss In",
    "start": "326800",
    "end": "334000"
  },
  {
    "text": "This Very session with this introduction and overview we are now ready to embark on a",
    "start": "334000",
    "end": "339759"
  },
  {
    "text": "journey or more specifically how we the workflow castration team have started out with what we had at the beginning",
    "start": "339759",
    "end": "346919"
  },
  {
    "text": "and where we ended up today this presentation will walk you through our analysis the tools in our toolkit that",
    "start": "346919",
    "end": "352880"
  },
  {
    "text": "we had at our hands how we adjusted our architecture and what new tools we adopted finally we're taking taking at a",
    "start": "352880",
    "end": "360039"
  },
  {
    "text": "look at what we found and have a critical analysis before concluding our talk with hopefully enough time to have",
    "start": "360039",
    "end": "365240"
  },
  {
    "text": "a conversation with you let's start our journey with an application team that runs some",
    "start": "365240",
    "end": "373039"
  },
  {
    "text": "financial analysis report on a weekly basis for this they may generate a workflow that starts generating data",
    "start": "373039",
    "end": "379680"
  },
  {
    "text": "from various data sources does some calculations and then persists the results to wherever they need to go and",
    "start": "379680",
    "end": "386080"
  },
  {
    "text": "at the end send a slack message to notify that it's done in this case we know that our users deal with two very",
    "start": "386080",
    "end": "393960"
  },
  {
    "text": "kind of resources that have very different characteristics on the one hand we have the workflow that starts",
    "start": "393960",
    "end": "400440"
  },
  {
    "text": "and ends at some point and after that is no longer needed on the cluster and can be deleted to free up at CD resources on",
    "start": "400440",
    "end": "407639"
  },
  {
    "text": "the other hand that workflow requires a number of other resources on the cluster to work properly such as config maps",
    "start": "407639",
    "end": "413680"
  },
  {
    "text": "with connection strings to how to connect to the database or secrets with authentication credentials those kind of",
    "start": "413680",
    "end": "420400"
  },
  {
    "text": "resources generally stay on the cluster when we started our journey we",
    "start": "420400",
    "end": "426759"
  },
  {
    "text": "considered the following setup given two data centers let's call them osar and Romeo we need to provide means to our",
    "start": "426759",
    "end": "434560"
  },
  {
    "text": "users to M to submit their workflows and deploy static resources such as config maps and secrets such static resources",
    "start": "434560",
    "end": "441360"
  },
  {
    "text": "get automatically copied to both data centers for submission in this scenario we would need to ask the user to choose",
    "start": "441360",
    "end": "448039"
  },
  {
    "text": "which data center the workflow to should run this has a number of obvious challenges but most obviously it's way",
    "start": "448039",
    "end": "455000"
  },
  {
    "text": "too easy to pick a data center that is overloaded or possibly not even available clearly this approach doesn't",
    "start": "455000",
    "end": "461759"
  },
  {
    "text": "work and to be clear this is not a theoretical but very practical issue to",
    "start": "461759",
    "end": "467400"
  },
  {
    "text": "us in order to get confidence in failover scenarios we conduct regular mandated the data center resiliency",
    "start": "467400",
    "end": "473960"
  },
  {
    "text": "tests where the service is brought down in one data center for an extended period of time on a regular basis",
    "start": "473960",
    "end": "479960"
  },
  {
    "text": "on one hand this is a major inconvenience for everyone involved but on the other hand this is the only way",
    "start": "479960",
    "end": "486879"
  },
  {
    "text": "to build up trust in confidence in the failover Imp uh mechanism that we",
    "start": "486879",
    "end": "492919"
  },
  {
    "text": "implemented to overcome these issues we have chosen to introduce a Management",
    "start": "492919",
    "end": "498120"
  },
  {
    "text": "Service in front of the workflow cluster here a service is hosted that offers an",
    "start": "498120",
    "end": "504080"
  },
  {
    "text": "API for workl submission and deployment of static resources this Management Service provides reliable placement",
    "start": "504080",
    "end": "510599"
  },
  {
    "text": "decisions to address cases where a data center is currently unavailable or possibly overloaded it also provides a user",
    "start": "510599",
    "end": "517760"
  },
  {
    "text": "interface that allows onboarding of new users submission of workflows setting up and editing workl schedules management",
    "start": "517760",
    "end": "525000"
  },
  {
    "text": "of workflow templates and much more this is also the best place to",
    "start": "525000",
    "end": "530360"
  },
  {
    "text": "record submission of workflows for bookkeeping so that our users can easily retrieve their previous workflow",
    "start": "530360",
    "end": "536080"
  },
  {
    "text": "submissions from months ago by the way we use the the service also to implement",
    "start": "536080",
    "end": "541279"
  },
  {
    "text": "sharding of our tenants workflows over multiple clusters we have observed that our clusters are generally comp",
    "start": "541279",
    "end": "548000"
  },
  {
    "text": "generally comparatively underutilized but ARG the Argo workflow controller tends to get quite busy due",
    "start": "548000",
    "end": "554560"
  },
  {
    "text": "to the large number of workflows that it has to process therefore we tend to prefer smaller clusters which helps with",
    "start": "554560",
    "end": "561399"
  },
  {
    "text": "scaling but also helps to minimize Noisy Neighbor issues and reduce the blast radius of",
    "start": "561399",
    "end": "568360"
  },
  {
    "text": "disruptions now that we have covered how we handle runs in workflow cration let",
    "start": "568360",
    "end": "573640"
  },
  {
    "text": "me point out the most obvious difference to static resources in general workflows",
    "start": "573640",
    "end": "578680"
  },
  {
    "text": "run exactly once on one cluster where static resources so think config maps",
    "start": "578680",
    "end": "584279"
  },
  {
    "text": "and secrets generally need to get consistently deployed and kept up to date on all participating clusters this",
    "start": "584279",
    "end": "591959"
  },
  {
    "text": "imposes quite a different set of challenges at this point I'd like to hand it over to Yao to walk you through",
    "start": "591959",
    "end": "598079"
  },
  {
    "text": "the details in particular particularities on how our platform handled static",
    "start": "598079",
    "end": "604240"
  },
  {
    "text": "resources thanks Reinhard so we'll move on to static",
    "start": "605079",
    "end": "611040"
  },
  {
    "text": "resources um as we can see the management API here needs to be globally",
    "start": "611040",
    "end": "616760"
  },
  {
    "text": "available first uh even if one data center is Avail is currently unavailable",
    "start": "616760",
    "end": "622839"
  },
  {
    "text": "so in order to keep the management service reachable by both sides they are",
    "start": "622839",
    "end": "628720"
  },
  {
    "text": "deployed on on each one um the Oscar and Romeo so from the user perspective uh",
    "start": "628720",
    "end": "635600"
  },
  {
    "text": "the requests are rout to the nearest location with DNS based service",
    "start": "635600",
    "end": "641399"
  },
  {
    "text": "Discovery but we'll just pause that topic here cuz itself can easily extend",
    "start": "641399",
    "end": "646800"
  },
  {
    "text": "to another topic um let's come back to the to the static resources so similar",
    "start": "646800",
    "end": "654040"
  },
  {
    "text": "to handling workflow runs the API itself makes placement decisions um well accept",
    "start": "654040",
    "end": "661800"
  },
  {
    "text": "user request first makes placement decisions and push the change push the resource to where it needs to be however",
    "start": "661800",
    "end": "670040"
  },
  {
    "text": "there's immediate concerns because these are statical resources they must be",
    "start": "670040",
    "end": "675720"
  },
  {
    "text": "consistent and persistent on the cluster there are a few what if scenarios what",
    "start": "675720",
    "end": "682440"
  },
  {
    "text": "if we temporarily needs to make some fundamental upgrade to a cluster we need",
    "start": "682440",
    "end": "689680"
  },
  {
    "text": "to rebuild the cluster and bring back everything so can we have can we lose",
    "start": "689680",
    "end": "696240"
  },
  {
    "text": "those resources and and recover them and additionally this think of the",
    "start": "696240",
    "end": "702480"
  },
  {
    "text": "functionality of this API it needs to do three basic things accept a request make",
    "start": "702480",
    "end": "708880"
  },
  {
    "text": "decision and perform the deployment actions is that too much for it and",
    "start": "708880",
    "end": "715760"
  },
  {
    "text": "forever users to write request it must wait until everything",
    "start": "715760",
    "end": "721120"
  },
  {
    "text": "finished so that rais immediate concern that we",
    "start": "721120",
    "end": "726680"
  },
  {
    "text": "need some place to store this resources overnight um or at least some some place",
    "start": "726680",
    "end": "733360"
  },
  {
    "text": "to survive over a disaster then the most straightforward",
    "start": "733360",
    "end": "739760"
  },
  {
    "text": "approach would be store them in a database obviously then this API simply",
    "start": "739760",
    "end": "744800"
  },
  {
    "text": "accept a request make a decision write it into a database and and then on the",
    "start": "744800",
    "end": "750079"
  },
  {
    "text": "other side of the cluster the workload cluster has a sinker agent to pull",
    "start": "750079",
    "end": "755880"
  },
  {
    "text": "things that should have been landed here now it looks promising it looks good it",
    "start": "755880",
    "end": "762920"
  },
  {
    "text": "satisfied our users request on very basic",
    "start": "762920",
    "end": "768120"
  },
  {
    "text": "basis but we have observed that it's become increasingly difficult to",
    "start": "768120",
    "end": "773760"
  },
  {
    "text": "actually operate it in particular we start seeing the Management Service",
    "start": "773760",
    "end": "779600"
  },
  {
    "text": "start to eat up our error rates uh error budget and show some increased latencies",
    "start": "779600",
    "end": "786360"
  },
  {
    "text": "and exhibit issues when creating resource most likely the consistency",
    "start": "786360",
    "end": "792639"
  },
  {
    "text": "issue also it some sometimes just give us timeout so it's very risky for the",
    "start": "792639",
    "end": "799399"
  },
  {
    "text": "schedule job particularly because that just uh break the promise of",
    "start": "799399",
    "end": "805279"
  },
  {
    "text": "automation so we need to do something to improve it let's come back to the design",
    "start": "805279",
    "end": "811240"
  },
  {
    "text": "again so think about uh the edge cases that this system might not function",
    "start": "811240",
    "end": "817880"
  },
  {
    "text": "properly what if the wrer request succeeded on one side of the uh data",
    "start": "817880",
    "end": "824600"
  },
  {
    "text": "center but not on the other and what if now I need to add a third cluster I need",
    "start": "824600",
    "end": "831399"
  },
  {
    "text": "to remake all those decisions again so that the third cluster gets what it should",
    "start": "831399",
    "end": "837480"
  },
  {
    "text": "have so that summarized our issues into these",
    "start": "837480",
    "end": "843240"
  },
  {
    "text": "two uh the CR the cross data center consistency and to handle the change in",
    "start": "843240",
    "end": "850480"
  },
  {
    "text": "cluster joining and leaving so let's take a quick short",
    "start": "850480",
    "end": "856040"
  },
  {
    "text": "pause here uh we have exp explained how the workflow runs and statical resource",
    "start": "856040",
    "end": "864040"
  },
  {
    "text": "have different characteristics and they have unique challenges",
    "start": "864040",
    "end": "870759"
  },
  {
    "text": "this presentation going forward will be focusing mostly on static resource",
    "start": "870759",
    "end": "876000"
  },
  {
    "text": "although we do have um consider the WL run case as well so we start with",
    "start": "876000",
    "end": "883759"
  },
  {
    "text": "reexamine what we have our our hand so we're attending cucon right so people",
    "start": "883759",
    "end": "890279"
  },
  {
    "text": "here I would assume um most of us understand how kuber ntic on High level",
    "start": "890279",
    "end": "897040"
  },
  {
    "text": "it works it has a storage backend SD provide eventual",
    "start": "897040",
    "end": "903000"
  },
  {
    "text": "consistency more like the source of Truth and it can comes with the controller mechanisms uh leader",
    "start": "903000",
    "end": "910199"
  },
  {
    "text": "elections and many more features so eventual consistency is the key term",
    "start": "910199",
    "end": "915839"
  },
  {
    "text": "here now why can't we just rely on kubernetes to reconcile the placement",
    "start": "915839",
    "end": "922839"
  },
  {
    "text": "decisions and to automate the workload cluster change it seems pretty easy from",
    "start": "922839",
    "end": "929240"
  },
  {
    "text": "that level so we're a big fan of kubernetes and benefit a lot from the also the",
    "start": "929240",
    "end": "936440"
  },
  {
    "text": "access control the resource allocation and that's all that are all",
    "start": "936440",
    "end": "942279"
  },
  {
    "text": "built on top of a API server that is easy to",
    "start": "942279",
    "end": "947319"
  },
  {
    "text": "operate however this is true for a single cluster scenario but we're",
    "start": "947319",
    "end": "953240"
  },
  {
    "text": "thinking about cross Data Center and stretching SCD cross Data Center is not",
    "start": "953240",
    "end": "959920"
  },
  {
    "text": "that cost efficient it's actually quite expensive it quite it requires",
    "start": "959920",
    "end": "965480"
  },
  {
    "text": "significant ex expertise and probably money um so in this",
    "start": "965480",
    "end": "972480"
  },
  {
    "text": "session we want to have another tool to help us on the other aspect so in",
    "start": "972480",
    "end": "980279"
  },
  {
    "text": "summary kubernetes help us with many of the problem here but not all of",
    "start": "980279",
    "end": "985720"
  },
  {
    "text": "them so think about what's left cross data consistency why not just use a",
    "start": "985720",
    "end": "991839"
  },
  {
    "text": "database modern database has been generally believed to be reliable and",
    "start": "991839",
    "end": "998000"
  },
  {
    "text": "easy to operate they're the perfect tool to store static resources and allow",
    "start": "998000",
    "end": "1004639"
  },
  {
    "text": "subsequent deployment to be executed so with that in mind you also",
    "start": "1004639",
    "end": "1011480"
  },
  {
    "text": "have the chance to build a bookkeeping system for user input as well it can",
    "start": "1011480",
    "end": "1016800"
  },
  {
    "text": "serve auditing and tracking purpose it also help serve user read request",
    "start": "1016800",
    "end": "1022040"
  },
  {
    "text": "without hammering your a your kubernetes closer but there's another aspect that",
    "start": "1022040",
    "end": "1028918"
  },
  {
    "text": "we want specifically to highlight here so modern database modern relational",
    "start": "1028919",
    "end": "1034438"
  },
  {
    "text": "database offers a number of different solutions for high ability across data",
    "start": "1034439",
    "end": "1039760"
  },
  {
    "text": "centers um in our context we have found the streaming replication offered by",
    "start": "1039760",
    "end": "1046558"
  },
  {
    "text": "postgress is the most causing efficient way so basically a database leader will",
    "start": "1046559",
    "end": "1053760"
  },
  {
    "text": "be selected to accept all the reader requests and the transaction law gets",
    "start": "1053760",
    "end": "1059760"
  },
  {
    "text": "streamed to other replicas and eventually all the replicas will be consistent and all of them will be able",
    "start": "1059760",
    "end": "1066919"
  },
  {
    "text": "to serve read the request so in case of failure in one of",
    "start": "1066919",
    "end": "1073240"
  },
  {
    "text": "the leader replica a leader election process kicks in and select a new leader",
    "start": "1073240",
    "end": "1080600"
  },
  {
    "text": "that is a critical process that usually happens on weekly basis but in case of",
    "start": "1080600",
    "end": "1086360"
  },
  {
    "text": "failure it's usually just finished in a few seconds so that is",
    "start": "1086360",
    "end": "1092159"
  },
  {
    "text": "acceptable so let's come back to the cost efficiency part we found this is",
    "start": "1092159",
    "end": "1098039"
  },
  {
    "text": "much cost efficient and viable solutions for us comparing to stretching a real",
    "start": "1098039",
    "end": "1105600"
  },
  {
    "text": "typical SD across data centers",
    "start": "1105600",
    "end": "1110760"
  },
  {
    "text": "so yeah but we are thinking of taking the advantage of API server as well then",
    "start": "1110919",
    "end": "1119039"
  },
  {
    "text": "how can we benefit from both of them not just one so another pause here so we have",
    "start": "1119039",
    "end": "1128039"
  },
  {
    "text": "examine we have two kinds of tools and is now to combine them together and",
    "start": "1128039",
    "end": "1133400"
  },
  {
    "text": "we'll introduce how we combine them um you may",
    "start": "1133400",
    "end": "1138480"
  },
  {
    "text": "have heard of k3s is a lightweight kubernetes distribution that is capable",
    "start": "1138480",
    "end": "1144440"
  },
  {
    "text": "of using a de external database as the storage back",
    "start": "1144440",
    "end": "1149600"
  },
  {
    "text": "end in most cases cas3 s is discussed in conts like constrainted Hardware Edge",
    "start": "1149600",
    "end": "1157360"
  },
  {
    "text": "node or experimental environment such as your home lab itself as a whole",
    "start": "1157360",
    "end": "1163640"
  },
  {
    "text": "definitely don't fit into the large scale cluster like what our system",
    "start": "1163640",
    "end": "1170039"
  },
  {
    "text": "offers but think of the uniqueness here it comes with the interface to connect",
    "start": "1170039",
    "end": "1175559"
  },
  {
    "text": "the database and the kubernetes world together how can we isolate that out",
    "start": "1175559",
    "end": "1183760"
  },
  {
    "text": "that particular part that interface is called kind uh",
    "start": "1183760",
    "end": "1189360"
  },
  {
    "text": "sense for a kind is not SD it's simply extreme layer that offers the connectors",
    "start": "1189360",
    "end": "1196440"
  },
  {
    "text": "to expose things like circularizing or postgress as a SD endpoint so with that",
    "start": "1196440",
    "end": "1204320"
  },
  {
    "text": "anything that works with an API configurable API server may just a",
    "start": "1204320",
    "end": "1210080"
  },
  {
    "text": "function without any underlying uh typical CL SD so for installation you'll",
    "start": "1210080",
    "end": "1217200"
  },
  {
    "text": "need a real database endpoint it's external and then you'll install a kind",
    "start": "1217200",
    "end": "1223960"
  },
  {
    "text": "instance expose itself as SD and then configure",
    "start": "1223960",
    "end": "1229400"
  },
  {
    "text": "a API server to talk to that SD endpoint so here is an example um what's",
    "start": "1229400",
    "end": "1236919"
  },
  {
    "text": "get stored in a postgress database to convince you it actually store what you",
    "start": "1236919",
    "end": "1243200"
  },
  {
    "text": "want now it's time to assemble things together to think about how it can work",
    "start": "1243200",
    "end": "1249840"
  },
  {
    "text": "uh in practice uh one thing to highlight here is that the API server that uses kind",
    "start": "1249840",
    "end": "1258080"
  },
  {
    "text": "itself is a real API server instance but does not come with a cubet so it does",
    "start": "1258080",
    "end": "1266080"
  },
  {
    "text": "not have control plane is unable to schedule pod",
    "start": "1266080",
    "end": "1271760"
  },
  {
    "text": "so these actual clusters themselves has an actual stretch SCD but within that",
    "start": "1271760",
    "end": "1279240"
  },
  {
    "text": "data center so the kind API server here is more like the application you installed",
    "start": "1279240",
    "end": "1285840"
  },
  {
    "text": "in this cluster and actually they're installed in multiple clusters however",
    "start": "1285840",
    "end": "1291640"
  },
  {
    "text": "they talk to the same database back end so they're consistent just like replicas on the same",
    "start": "1291640",
    "end": "1298679"
  },
  {
    "text": "cluster so let's look at how it operates still what it Expos is just a API server",
    "start": "1298679",
    "end": "1306080"
  },
  {
    "text": "it itself doesn't know how to talk to a workload cluster then you still need some kind of application a deployer role",
    "start": "1306080",
    "end": "1313360"
  },
  {
    "text": "to do all those work um you can probably select something from the C CNF",
    "start": "1313360",
    "end": "1320240"
  },
  {
    "text": "Community uh we have heard of kamada and and ocm you may also think about rather",
    "start": "1320240",
    "end": "1327120"
  },
  {
    "text": "something inhouse uh but definitely you will need some specific interpreter to",
    "start": "1327120",
    "end": "1333039"
  },
  {
    "text": "translate the resource as anyways so yep um by using the same database",
    "start": "1333039",
    "end": "1341640"
  },
  {
    "text": "here one thing to highlight is that you don't need to worry about the conflicts",
    "start": "1341640",
    "end": "1346960"
  },
  {
    "text": "between this deployer AC because they're talking to the same SD",
    "start": "1346960",
    "end": "1352880"
  },
  {
    "text": "just use the standard leader election mechanism problem",
    "start": "1352880",
    "end": "1358360"
  },
  {
    "text": "solved so that summarize what um we designed and it's a very fundamental",
    "start": "1358360",
    "end": "1366400"
  },
  {
    "text": "change for uh how the SD and API server is set up now let's address some",
    "start": "1366400",
    "end": "1374080"
  },
  {
    "text": "frequently asked questions most obvious issue is that",
    "start": "1374080",
    "end": "1381360"
  },
  {
    "text": "this kind API server itself doesn't come with a cubet it does not have control",
    "start": "1381360",
    "end": "1386919"
  },
  {
    "text": "plane and no worker part does that limit the potential functionalities you can",
    "start": "1386919",
    "end": "1392600"
  },
  {
    "text": "use against it but think about the use case here we're using it just for",
    "start": "1392600",
    "end": "1399679"
  },
  {
    "text": "managing resources only so itself it's not intended to",
    "start": "1399679",
    "end": "1406039"
  },
  {
    "text": "operate a real cluster anyways",
    "start": "1406039",
    "end": "1412000"
  },
  {
    "text": "so if you clarify the use case here",
    "start": "1412000",
    "end": "1417159"
  },
  {
    "text": "then there's are only a limited set of things that you need to install to",
    "start": "1417159",
    "end": "1423600"
  },
  {
    "text": "actually interact with that kind many of the system components are more",
    "start": "1423600",
    "end": "1428799"
  },
  {
    "text": "reasonable to just talk to the typical API server that use the typical SD at",
    "start": "1428799",
    "end": "1436559"
  },
  {
    "text": "the back end then we move on to the quantitative",
    "start": "1436559",
    "end": "1443279"
  },
  {
    "text": "world the storage back end has quite some fundamental change then what about",
    "start": "1443279",
    "end": "1449080"
  },
  {
    "text": "performance well performance comparison only makes sense if you looking at the",
    "start": "1449080",
    "end": "1455240"
  },
  {
    "text": "exact same read write pattern so think about the use case here we're using it",
    "start": "1455240",
    "end": "1462760"
  },
  {
    "text": "just to manage a resource so in most of the cases resources are static",
    "start": "1462760",
    "end": "1468960"
  },
  {
    "text": "there will be rights of course but not from workload side so most likely the",
    "start": "1468960",
    "end": "1475919"
  },
  {
    "text": "deployer application simply just read from the kind API server and land things",
    "start": "1475919",
    "end": "1482679"
  },
  {
    "text": "on the actual cluster on the actual workload cluster",
    "start": "1482679",
    "end": "1488080"
  },
  {
    "text": "so the usage P pattern is quite different and there are a lot of means you can quite you can actually optimize",
    "start": "1488080",
    "end": "1495960"
  },
  {
    "text": "that kind of call pattern for database characteristics and then with with those",
    "start": "1495960",
    "end": "1503799"
  },
  {
    "text": "concerns addressed um for new platform setup there may be concerns for existing",
    "start": "1503799",
    "end": "1510520"
  },
  {
    "text": "platforms like us we have existing users we this is such a huge change we don't",
    "start": "1510520",
    "end": "1516679"
  },
  {
    "text": "want want to interrupt their daily job then how can we do about it let's take",
    "start": "1516679",
    "end": "1522440"
  },
  {
    "text": "the system for example the um sorry",
    "start": "1522440",
    "end": "1529120"
  },
  {
    "text": "originally those decisions are stored in the database as static decisions and",
    "start": "1529120",
    "end": "1534960"
  },
  {
    "text": "later it's most it's a pool model to actually land things the reconcil uh the",
    "start": "1534960",
    "end": "1541120"
  },
  {
    "text": "placement decision has been made up front but afterwards we're actually storing just the plane input and expect",
    "start": "1541120",
    "end": "1549120"
  },
  {
    "text": "reconciliation to happen later and most likely it will be a p push",
    "start": "1549120",
    "end": "1556200"
  },
  {
    "text": "model how can those change be hidden away well just build another API to sits",
    "start": "1556200",
    "end": "1562480"
  },
  {
    "text": "in front of it so you can either build something new to talk to your old API",
    "start": "1562480",
    "end": "1568440"
  },
  {
    "text": "and new or you can just have them in the same binary that's your call so this API",
    "start": "1568440",
    "end": "1575880"
  },
  {
    "text": "will help us um to hand to do the Handover work without breaking anything",
    "start": "1575880",
    "end": "1583080"
  },
  {
    "text": "also it's not a throw away work even if you finish because it's designed to be",
    "start": "1583080",
    "end": "1589360"
  },
  {
    "text": "user friendly to serve long-term goals so right now I'll hand over to",
    "start": "1589360",
    "end": "1597399"
  },
  {
    "text": "Reinhardt to do a quick recap and wrap up today's",
    "start": "1597399",
    "end": "1602600"
  },
  {
    "text": "session so thanks y for sharing your insights on the technical details the solution that we came up with let me",
    "start": "1602600",
    "end": "1609360"
  },
  {
    "text": "summarize and conclude multicluster Federation is a very relevant and Broad topic for the entire Community",
    "start": "1609360",
    "end": "1616360"
  },
  {
    "text": "especially for companies and teams that offer large platforms relability and resiliency are key",
    "start": "1616360",
    "end": "1622919"
  },
  {
    "text": "concerns we observe that modern relational databases handle cross data center",
    "start": "1622919",
    "end": "1629360"
  },
  {
    "text": "persistence using streaming replication very well and are generally well understood however they alone don't",
    "start": "1629360",
    "end": "1636600"
  },
  {
    "text": "offer quite the same conveniences in properties that we are used to in the cloud native world for the requirements",
    "start": "1636600",
    "end": "1643919"
  },
  {
    "text": "that we have identified at Bloomberg we have shown how we use kind to achieve",
    "start": "1643919",
    "end": "1649960"
  },
  {
    "text": "multi-data Center resiliency with Cloud native Technologies more specifically how we persist Kate's objects using the",
    "start": "1649960",
    "end": "1657080"
  },
  {
    "text": "cuberes API server in a relational database with transaction log streaming",
    "start": "1657080",
    "end": "1662399"
  },
  {
    "text": "thank you so much for your attention I hope this talk resonates with you and we would like to hear your thoughts because",
    "start": "1662399",
    "end": "1668519"
  },
  {
    "text": "we are curious whether you have maybe similar requirements or how do you achieve multic cluster resilience let's",
    "start": "1668519",
    "end": "1675000"
  },
  {
    "text": "compare in contrast and use the microphones for questions [Applause]",
    "start": "1675000",
    "end": "1688899"
  },
  {
    "text": "uh so I have a question yeah awesome um so before",
    "start": "1694960",
    "end": "1700440"
  },
  {
    "text": "you're of course receiving API calls but with this new kind system you can",
    "start": "1700440",
    "end": "1705600"
  },
  {
    "text": "receive actual communities yels or like like proper in your case Argo yals um",
    "start": "1705600",
    "end": "1712159"
  },
  {
    "text": "how are the users adapting to this because you probably still don't want an API in front of it to conver what they",
    "start": "1712159",
    "end": "1718960"
  },
  {
    "text": "actually want to Argo yo or Argo workflow definition yeah that may not have been",
    "start": "1718960",
    "end": "1725679"
  },
  {
    "text": "clear as much as it could have in the presentation you remember we have this Management Service that sits in front of",
    "start": "1725679",
    "end": "1730799"
  },
  {
    "text": "it so technically we don't expose the argu API server directly but in this",
    "start": "1730799",
    "end": "1736080"
  },
  {
    "text": "Management Service with a custom API that we're are designing and defining in front of it that API server will then",
    "start": "1736080",
    "end": "1744760"
  },
  {
    "text": "pack up this AR Argo native manifest it could be Argo workflow template it could be an Argo workflow it could be a number",
    "start": "1744760",
    "end": "1750640"
  },
  {
    "text": "of other things and persist them in this kind server in a way that allows us to",
    "start": "1750640",
    "end": "1756320"
  },
  {
    "text": "identify okay this is supposed to go to that namespace and that cluster and all of that is hidden away from the user so",
    "start": "1756320",
    "end": "1762159"
  },
  {
    "text": "in order to answer your question the users aren't even exposed to these implementation details at all",
    "start": "1762159",
    "end": "1769240"
  },
  {
    "text": "okay and if possible then I have one continuation question um how do you then handle so how do you then handle",
    "start": "1769240",
    "end": "1775399"
  },
  {
    "text": "inconsistency between your different clusters with for example Argo version um where because before you were doing",
    "start": "1775399",
    "end": "1782120"
  },
  {
    "text": "you're getting the abstract concept and you were changing that into Argo workflow at the local cluster but now",
    "start": "1782120",
    "end": "1789279"
  },
  {
    "text": "you're for you're already creating that that Argo workflow um at the management",
    "start": "1789279",
    "end": "1796159"
  },
  {
    "text": "layer so is it's not sure if I'm understanding the question is is the concern that we may be operating",
    "start": "1796159",
    "end": "1801600"
  },
  {
    "text": "different version of argu workflows or did I misunderstand you yeah yeah exactly so if you have a Federated cluster with 10 clusters and five of",
    "start": "1801600",
    "end": "1808399"
  },
  {
    "text": "them are running different version than the other five so the answer is very carefully so in general Argo these is",
    "start": "1808399",
    "end": "1815360"
  },
  {
    "text": "the crd themselves don't change from minor versions to minor versions that much um we still are looking at what",
    "start": "1815360",
    "end": "1821320"
  },
  {
    "text": "would it take to upate to 3.5 we haven't actually started on that but so far we didn't experience major problems with",
    "start": "1821320",
    "end": "1827679"
  },
  {
    "text": "that particular concern yet okay cool thank you thank you for your talk uh I have a",
    "start": "1827679",
    "end": "1835120"
  },
  {
    "text": "question because you are already using Argo and did you look at Argo CD application set to manage uh the static",
    "start": "1835120",
    "end": "1842760"
  },
  {
    "text": "resources because it with the cluster generator you can easily add or remove clusters and uh instead of kind",
    "start": "1842760",
    "end": "1851559"
  },
  {
    "text": "know we have looked at it briefly the thing",
    "start": "1851559",
    "end": "1858120"
  },
  {
    "text": "is this gitops model that Argus CD comes from really isn't a good fit for US based on the specific data access",
    "start": "1858120",
    "end": "1865120"
  },
  {
    "text": "requirements and the way how we set up the platform to to give you a little bit more insight so one of the things that",
    "start": "1865120",
    "end": "1871639"
  },
  {
    "text": "we really need to handle is if you are AI team that has access to one namespace",
    "start": "1871639",
    "end": "1876960"
  },
  {
    "text": "then we have rbags and and other controls in place that you can only see your",
    "start": "1876960",
    "end": "1883480"
  },
  {
    "text": "specific or things in only in your namespace and nothing else and integrating that with external systems",
    "start": "1883480",
    "end": "1889440"
  },
  {
    "text": "like argu workfl the the argu CD controller are challenges that we didn't",
    "start": "1889440",
    "end": "1895360"
  },
  {
    "text": "have the capacity to think that completely through and we came up with this solution which we felt is significantly simpler and thought we",
    "start": "1895360",
    "end": "1902039"
  },
  {
    "text": "share that with you at qon okay thank",
    "start": "1902039",
    "end": "1906360"
  },
  {
    "text": "you going once maybe one last question yeah sure um did",
    "start": "1916200",
    "end": "1921600"
  },
  {
    "text": "I understand the the concept correctly in that you're using basically the kind API surface to stretch I would call it",
    "start": "1921600",
    "end": "1928760"
  },
  {
    "text": "virtual control plane over multiple data centers and you're using the post prls",
    "start": "1928760",
    "end": "1934200"
  },
  {
    "text": "basically as as a database for that that is correct yes okay so you build in that",
    "start": "1934200",
    "end": "1939399"
  },
  {
    "text": "case a virtual control plane that spans over many more clusters than it usually be be possible and um yeah that sound",
    "start": "1939399",
    "end": "1948000"
  },
  {
    "text": "very interesting yeah yeah that that's one way to look at it um we I tend to avoid the term virtual",
    "start": "1948000",
    "end": "1954559"
  },
  {
    "text": "control plane because you have the deployer there still right it's only provisioning data in a kubernetes way",
    "start": "1954559",
    "end": "1961360"
  },
  {
    "text": "and then deploying it onto the workload clusters exactly so when you saying man",
    "start": "1961360",
    "end": "1967519"
  },
  {
    "text": "management this um control virtual control plane people generally assume",
    "start": "1967519",
    "end": "1973039"
  },
  {
    "text": "that there is a cube blet where you can run pods and then you very quickly end up in the solution like like um V",
    "start": "1973039",
    "end": "1978960"
  },
  {
    "text": "cluster which shares a couple of similarities but again we using that to",
    "start": "1978960",
    "end": "1985159"
  },
  {
    "text": "share to to store and and deploy static resources like config Maps workflow",
    "start": "1985159",
    "end": "1991200"
  },
  {
    "text": "templates things like that that doesn't require a c because it's storing about",
    "start": "1991200",
    "end": "1996519"
  },
  {
    "text": "and yeah and we we thought this is a neat trick worth sharing yeah yeah okay thank you very much was very",
    "start": "1996519",
    "end": "2003720"
  },
  {
    "text": "interesting um excuse me um have you considered using kada uh to manage the Federated",
    "start": "2006760",
    "end": "2015559"
  },
  {
    "text": "clusters excellent question kada is something that we're actually looking at for workflows for the dynamic resources",
    "start": "2015559",
    "end": "2024240"
  },
  {
    "text": "this presentation was mostly on static resources I understand that carada can also be used for static resources but we",
    "start": "2024240",
    "end": "2030320"
  },
  {
    "text": "will be looking at carada in the context of dynamic resources more um more",
    "start": "2030320",
    "end": "2035840"
  },
  {
    "text": "closely and maybe we end up using kada maybe not um from the complexity and",
    "start": "2035840",
    "end": "2042080"
  },
  {
    "text": "from the cost benefit uh trade-off we found this is the cheaper way to go for now okay makes sense thank",
    "start": "2042080",
    "end": "2050200"
  },
  {
    "text": "you thank you so much for your questions happy to talk to you afterwards bye-bye",
    "start": "2065320",
    "end": "2072878"
  }
]