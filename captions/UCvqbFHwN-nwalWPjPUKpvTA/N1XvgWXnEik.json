[
  {
    "text": "so thank you so much for coming um I really appreciate it I know the end of the first day is pretty tough",
    "start": "60",
    "end": "5460"
  },
  {
    "text": "probably a lot of folks in this room are still jet lagged so I really really appreciate you making it to be here so",
    "start": "5460",
    "end": "12059"
  },
  {
    "text": "um today we're going to use the canals and bridges of Amsterdam to map out uh",
    "start": "12059",
    "end": "17100"
  },
  {
    "text": "kubernetes networks and use it to form a security strategy",
    "start": "17100",
    "end": "22560"
  },
  {
    "text": "and I have a clicker um so who am I uh you just heard a little bit about it but I'm Kalyn I've",
    "start": "22560",
    "end": "28560"
  },
  {
    "text": "been at Shopify for almost five years I contribute to six CLI and Sig security",
    "start": "28560",
    "end": "33860"
  },
  {
    "text": "I'm also a cncf Ambassador this is my first year and when I'm not doing this I",
    "start": "33860",
    "end": "40500"
  },
  {
    "text": "um used to be a farmer I am still a squash player I sew I make a lot of my clothing not today because I want it to",
    "start": "40500",
    "end": "46680"
  },
  {
    "text": "look nice but sometimes and like a whole bunch of people thanks to the pandemic I am a reluctant Runner",
    "start": "46680",
    "end": "54420"
  },
  {
    "text": "uh oh gosh",
    "start": "54420",
    "end": "59239"
  },
  {
    "text": "one second this is the my speaker note for this is",
    "start": "61320",
    "end": "66600"
  },
  {
    "text": "easy peasy okay sweet oh gosh this is my really great diagram to show",
    "start": "66600",
    "end": "73560"
  },
  {
    "text": "why this talk is super awesome obviously you can see that kubernetes was meant to",
    "start": "73560",
    "end": "79320"
  },
  {
    "text": "be their coupon was meant to be in Amsterdam um I chose this analogy because I think it's really fun I've always enjoyed",
    "start": "79320",
    "end": "85979"
  },
  {
    "text": "talks that focus on the host cities I think it's a great way to learn about the city because often this conference",
    "start": "85979",
    "end": "91920"
  },
  {
    "text": "takes all the time and you have all the fun parties in the evening so you don't really get to explore and enjoy the city so hopefully this talk you could leave",
    "start": "91920",
    "end": "98759"
  },
  {
    "text": "knowing some things about Amsterdam that maybe you wouldn't have known otherwise and then the technical topic is as",
    "start": "98759",
    "end": "105479"
  },
  {
    "text": "kubernetes Security Professionals or new to kubernetes folks or people who are just interested in learning about",
    "start": "105479",
    "end": "111720"
  },
  {
    "text": "kubernetes it's very likely that many times in our careers we're going to be presented with a new network and we're",
    "start": "111720",
    "end": "118380"
  },
  {
    "text": "going to have to get to know this network and get up to speed with it so that we can see if there are any security vulnerabilities or concerns I",
    "start": "118380",
    "end": "126240"
  },
  {
    "text": "think that um what we're going to do in this talk which is Going Back to Basics is really useful and it's really important so that",
    "start": "126240",
    "end": "133580"
  },
  {
    "text": "we can get knowledge about a system and often we're so excited to learn the",
    "start": "133580",
    "end": "139379"
  },
  {
    "text": "really deep technical stuff that we skip out on some of those basics so let's walk through the process and",
    "start": "139379",
    "end": "144959"
  },
  {
    "text": "hopefully each of you will learn something along the way",
    "start": "144959",
    "end": "149180"
  },
  {
    "text": "sweet okay so here's our agenda we're going to start off by working that metaphor pretty close to death and then",
    "start": "150000",
    "end": "157260"
  },
  {
    "text": "we're going to get to know kubernetes Network so I'm going to go over I did was not brave enough to do a live demo",
    "start": "157260",
    "end": "163440"
  },
  {
    "text": "but I'm going to do some recorded demos of just what I like to do when I'm presented with some new kubernetes infrastructure I want to get familiar",
    "start": "163440",
    "end": "169680"
  },
  {
    "text": "with next we're going to talk about threat modeling we'll go over a popular framework and look into how it applies",
    "start": "169680",
    "end": "177239"
  },
  {
    "text": "to kubernetes finally we're going to look at how we can use the things we've",
    "start": "177239",
    "end": "182340"
  },
  {
    "text": "done so far to form a security strategy and we'll finish by highlighting some of",
    "start": "182340",
    "end": "187440"
  },
  {
    "text": "the key takeaways for that process",
    "start": "187440",
    "end": "190940"
  },
  {
    "text": "all right before we get into the agenda I just",
    "start": "192840",
    "end": "198000"
  },
  {
    "text": "wanted to start by going over some kubernetes Basics to make sure that throughout the talk we're all on the",
    "start": "198000",
    "end": "203220"
  },
  {
    "text": "same page in terms of language and terminology um so I'm sure that we all are at least a little familiar with the main",
    "start": "203220",
    "end": "209220"
  },
  {
    "text": "kubernetes components and some of us have a bit more experience with certain areas over others but When approaching",
    "start": "209220",
    "end": "215459"
  },
  {
    "text": "any new system it's really important that we get a holistic understanding of the entire system so that we can",
    "start": "215459",
    "end": "221519"
  },
  {
    "text": "understand how the different parts interact um the very Basics are the cluster the",
    "start": "221519",
    "end": "226799"
  },
  {
    "text": "node and the Pod this is what makes up kubernetes when you deploy a cluster this is what you get the cluster is the",
    "start": "226799",
    "end": "232920"
  },
  {
    "text": "wrapper around the nodes which are just our machines and those machines host our pods",
    "start": "232920",
    "end": "238260"
  },
  {
    "text": "when we're looking at networking and security we really want to care about the control plane this is basically the",
    "start": "238260",
    "end": "243480"
  },
  {
    "text": "brain of our kubernetes infrastructure this is like we all know kubernetes is declarative so we declare what we want",
    "start": "243480",
    "end": "250500"
  },
  {
    "text": "our infrastructure to look like and the control plane is what's in charge of making it look that way and keeping it in that desired state",
    "start": "250500",
    "end": "258060"
  },
  {
    "text": "and because this talk is focused on network security what we really really care about is our cni Plug-In or",
    "start": "258060",
    "end": "264419"
  },
  {
    "text": "container network interface interface plugin um I hate acronyms",
    "start": "264419",
    "end": "270180"
  },
  {
    "text": "one of it's one of the most important considerations and there are a whole bunch of different offerings so",
    "start": "270180",
    "end": "275400"
  },
  {
    "text": "throughout this talk I'm going to mention psyllium because I'm quite familiar and a big fan of psyllium but",
    "start": "275400",
    "end": "280860"
  },
  {
    "text": "there are a whole bunch of different options that I'm sure the folks would love to talk to you about why a different cni plugin might fit for your",
    "start": "280860",
    "end": "286620"
  },
  {
    "text": "infrastructure lastly we want to know what the edge of our Network looks like we want to know",
    "start": "286620",
    "end": "292440"
  },
  {
    "text": "what traffic we expect what traffic we don't want to expect or don't want to have and",
    "start": "292440",
    "end": "299040"
  },
  {
    "text": "hopefully from a public internet standpoint this is a pretty small surface area for this talk just again to",
    "start": "299040",
    "end": "305580"
  },
  {
    "text": "keep it basic and foundational we're going to focus on cluster communication so we're going to stay within the cluster but there are a whole bunch of",
    "start": "305580",
    "end": "312780"
  },
  {
    "text": "other principles that come into play when we're doing cluster to Cluster multi-vpc networking which maybe will be",
    "start": "312780",
    "end": "318060"
  },
  {
    "text": "a future talk we'll see and then I wanted to highlight the kubernetes network model these are kind",
    "start": "318060",
    "end": "324120"
  },
  {
    "text": "of principles of kubernetes so each pod in the cluster gets its own cluster-wide IP address so we don't need to manually",
    "start": "324120",
    "end": "331020"
  },
  {
    "text": "link pods basically what this does is makes the kubernetes network model in",
    "start": "331020",
    "end": "336479"
  },
  {
    "text": "the same shape as previous Network models using VMS that most of us who came into the industry have experience",
    "start": "336479",
    "end": "341820"
  },
  {
    "text": "with secondly agents on the Node so this can be like a Daemon set or the kublet",
    "start": "341820",
    "end": "346860"
  },
  {
    "text": "they can communicate with all pods on that node and now um it's really important to note at the",
    "start": "346860",
    "end": "352800"
  },
  {
    "text": "bottom I have this comment barring intentional segmentation via Network policies and it kind of sounds like",
    "start": "352800",
    "end": "358680"
  },
  {
    "text": "that's a bad thing so pardon me but kubernetes is not secure by default",
    "start": "358680",
    "end": "364440"
  },
  {
    "text": "which is the intention kubernetes sets you up and then you need to to use the",
    "start": "364440",
    "end": "370259"
  },
  {
    "text": "specific knowledge about your system to apply the security principles that make sense so you should always have your",
    "start": "370259",
    "end": "375600"
  },
  {
    "text": "network segmented but initially these rules should be true",
    "start": "375600",
    "end": "380820"
  },
  {
    "text": "so here's just a quick overview of where we're going to go with this talk today we'll come back to this diagram at the",
    "start": "380820",
    "end": "387000"
  },
  {
    "text": "end but this is the rough um steps of evaluating a kubernetes network",
    "start": "387000",
    "end": "393960"
  },
  {
    "text": "so let's get into it the metaphor that inspired the talk canals and bridges if",
    "start": "393960",
    "end": "399600"
  },
  {
    "text": "you look up interesting facts about Amsterdam you'll quickly find yourself reading about a city that stands on",
    "start": "399600",
    "end": "404880"
  },
  {
    "text": "hundreds of thousands of poles and has a rich cycling culture and is connected by canals and bridges right away this made",
    "start": "404880",
    "end": "411720"
  },
  {
    "text": "me think of a giant kubernetes Network particularly the supergiant one that I deal with day to day but I think it can",
    "start": "411720",
    "end": "418500"
  },
  {
    "text": "as you'll see in this demonstration work for any size of network that you're dealing with",
    "start": "418500",
    "end": "423660"
  },
  {
    "text": "the metaphor is not always a perfect fit but I think it does pretty well and I hope that you enjoy it",
    "start": "423660",
    "end": "430940"
  },
  {
    "text": "uh so oh I did it did work don't forget that last slide here's some",
    "start": "435600",
    "end": "441599"
  },
  {
    "text": "fun facts about Amsterdam lots of kilometers of canals lots of individual canals",
    "start": "441599",
    "end": "447780"
  },
  {
    "text": "um the city ends up being many small islands and there's over 800 000",
    "start": "447780",
    "end": "453180"
  },
  {
    "text": "bicycles in the city I heard a lot of those are in the canals Amsterdam is",
    "start": "453180",
    "end": "458460"
  },
  {
    "text": "really an interconnected group of small Islands these islands are the result of the canal system that was built in the",
    "start": "458460",
    "end": "464400"
  },
  {
    "text": "15th and 17th centuries that has been used for trade Commerce and even defense the city has grown over the years and so",
    "start": "464400",
    "end": "472620"
  },
  {
    "text": "of the canal systems these days they're primarily used for the movement of people in goods and they also draw a",
    "start": "472620",
    "end": "478620"
  },
  {
    "text": "whole bunch of tourists maybe not all of you but definitely me to the city",
    "start": "478620",
    "end": "484039"
  },
  {
    "text": "and you can see how this could make one think of a complex Network so this is",
    "start": "484139",
    "end": "489900"
  },
  {
    "text": "not exactly the network I work with but we do have hundreds of clusters and you can imagine having these spread across",
    "start": "489900",
    "end": "495900"
  },
  {
    "text": "multiple regions maybe for each region you have a VPC and there are a whole bunch of services that exist on this",
    "start": "495900",
    "end": "502440"
  },
  {
    "text": "infrastructure the pathways that are used to move information and allow communication also open us up to the",
    "start": "502440",
    "end": "510120"
  },
  {
    "text": "risk of infiltration so we need to decide the design them mindfully and come up with ways to use them to protect",
    "start": "510120",
    "end": "516839"
  },
  {
    "text": "our services and their data",
    "start": "516839",
    "end": "520399"
  },
  {
    "text": "so these are two canals that I want to highlight uh the single and I super",
    "start": "523740",
    "end": "528959"
  },
  {
    "text": "apologize for any pronunciation issues please feel free to come up and tell me at the end how I should be saying them",
    "start": "528959",
    "end": "534600"
  },
  {
    "text": "and uh single grab canals single comes from the word the Latin word singular meaning belt and it's",
    "start": "534600",
    "end": "541500"
  },
  {
    "text": "related to the Dutch word ami singlein meaning to surround and you can see that's exactly what both of these canals",
    "start": "541500",
    "end": "548420"
  },
  {
    "text": "do and did at various times in Amsterdam's history the single which is",
    "start": "548420",
    "end": "553500"
  },
  {
    "text": "the smaller one was built in 1428 and it was the city's perimeter defense until",
    "start": "553500",
    "end": "558660"
  },
  {
    "text": "it's the city expanded beyond the canal if the city was being attacked the water level in the single could be raised",
    "start": "558660",
    "end": "565860"
  },
  {
    "text": "which would stop troops from being able to move across the canal and then within the canal there was a high wall with",
    "start": "565860",
    "end": "572880"
  },
  {
    "text": "various towers that could be patrolled by soldiers to stop and monitor um enemy forces trying to enter the city",
    "start": "572880",
    "end": "580320"
  },
  {
    "text": "the single grout was dug at the end of the 16th century to accommodate the expanding City this Canal's primary",
    "start": "580320",
    "end": "586860"
  },
  {
    "text": "purpose was trade and commerce not defense but fortunately they were able to use it as defense in World War II to",
    "start": "586860",
    "end": "593880"
  },
  {
    "text": "stop German forces from reaching the center of the city um once again they use the canal to",
    "start": "593880",
    "end": "600540"
  },
  {
    "text": "limit entry points and then guard those entry points so to me this",
    "start": "600540",
    "end": "607740"
  },
  {
    "text": "made me think immediately of a firewall as well as any kind of observability mechanisms you have at the edge of your",
    "start": "607740",
    "end": "613680"
  },
  {
    "text": "network well primarily the canals are a transport mechanism they can also be a defensive barrier in",
    "start": "613680",
    "end": "620820"
  },
  {
    "text": "particular the ones that surround our sensitive workloads so there are many ways that we protect our kubernetes",
    "start": "620820",
    "end": "626339"
  },
  {
    "text": "networks from attacks from the outside but for this comparison as I said I want to focus on firewall",
    "start": "626339",
    "end": "632339"
  },
  {
    "text": "rules and then observability firewall rules can be applied at the network level through your cloud provider using",
    "start": "632339",
    "end": "638760"
  },
  {
    "text": "iptables NF tables or even through your cni plugin we can create firewall rules",
    "start": "638760",
    "end": "644339"
  },
  {
    "text": "that only allow traffic from a list of trusted IPS ensuring that we're only letting in and out the traffic that we",
    "start": "644339",
    "end": "650220"
  },
  {
    "text": "want or letting traffic out to places that we want",
    "start": "650220",
    "end": "655040"
  },
  {
    "text": "um so you can imagine the firewall as the canal and your network admins or your cluster admins or the our generals",
    "start": "657360",
    "end": "663300"
  },
  {
    "text": "or those towers that are restricting the traffic to a minimum number of entry points and ensuring that all approved",
    "start": "663300",
    "end": "669779"
  },
  {
    "text": "traffic is allowed and any unknown traffic is stop stopped and also investigated further the soldiers then",
    "start": "669779",
    "end": "677339"
  },
  {
    "text": "would be representative of your observability tooling they're telling us who attempted to enter and how they were",
    "start": "677339",
    "end": "684060"
  },
  {
    "text": "blocked by our perimeter defense or allowed through and there are many tools in the industry like this that we can",
    "start": "684060",
    "end": "689220"
  },
  {
    "text": "use like Hubble grafana datadog a whole bunch more and this kind of observability is really useful",
    "start": "689220",
    "end": "694680"
  },
  {
    "text": "particularly when forming a network strategy or understanding how your network works if you're new to a network",
    "start": "694680",
    "end": "700560"
  },
  {
    "text": "or company and you're like well okay Galen how am I going to write a list or get an idea of which traffic to allow",
    "start": "700560",
    "end": "706560"
  },
  {
    "text": "their tools one that I really like is Inspector Gadget inspector with a k",
    "start": "706560",
    "end": "711660"
  },
  {
    "text": "um it's a ebpf tool everybody's favorite packet filter and uh it it will we're",
    "start": "711660",
    "end": "718680"
  },
  {
    "text": "going to go through it later but it'll allow you to get a snapshot of traffic and you can form policies or rules based",
    "start": "718680",
    "end": "723720"
  },
  {
    "text": "on that traffic another great perimeter defense tool is psyllium's cluster-wide Network policy",
    "start": "723720",
    "end": "729899"
  },
  {
    "text": "or kubernetes admin Network policy both of these allow you to make a high level or cluster level Network policy and",
    "start": "729899",
    "end": "737700"
  },
  {
    "text": "ideally as close to default deny as possible and then your service owners could additively create policies",
    "start": "737700",
    "end": "744060"
  },
  {
    "text": "allowing the specific traffic that they need",
    "start": "744060",
    "end": "748040"
  },
  {
    "text": "so the Gretchen gardle also known as the canal District contains the concentric rings of the city's main canals which",
    "start": "750779",
    "end": "757560"
  },
  {
    "text": "you can see here we already talked about the first one the single which is there",
    "start": "757560",
    "end": "762959"
  },
  {
    "text": "the next one is the herongrat the next one is the Kaiser grat and the last one",
    "start": "762959",
    "end": "769139"
  },
  {
    "text": "is the price and grunt so you can see that those canals create really nice rings around the city center and in the",
    "start": "769139",
    "end": "775740"
  },
  {
    "text": "city center would be the most vulnerable places like Amsterdam's Royal Palace",
    "start": "775740",
    "end": "781560"
  },
  {
    "text": "while only this single was constructed with the explicit intention to defend",
    "start": "781560",
    "end": "787019"
  },
  {
    "text": "the city the other canals became extra layers of protection So within the",
    "start": "787019",
    "end": "792180"
  },
  {
    "text": "innermost Canal we have these sensitive buildings and during times of War defenses could be set up at the various",
    "start": "792180",
    "end": "798540"
  },
  {
    "text": "entry points of each canals meaning if someone got through one they would also have to get through the next and the",
    "start": "798540",
    "end": "803940"
  },
  {
    "text": "next and hopefully not make it to the center foreign",
    "start": "803940",
    "end": "808880"
  },
  {
    "text": "s we use defense in depth and zero trust networks or networking both of these",
    "start": "809360",
    "end": "815279"
  },
  {
    "text": "Concepts suggest that we should not rely on a single layer of security and we cannot depend on only trusted entities",
    "start": "815279",
    "end": "821700"
  },
  {
    "text": "making it past our perimeter defense so even if our network is protected by a",
    "start": "821700",
    "end": "826800"
  },
  {
    "text": "really strong firewall firewall rules and we have a proxy managing all incoming and outcoming traffic we still",
    "start": "826800",
    "end": "833940"
  },
  {
    "text": "need to assure ensure that there are additional security measures in place within",
    "start": "833940",
    "end": "840620"
  },
  {
    "text": "some examples of this might be access management through I am and rbac having",
    "start": "840779",
    "end": "847920"
  },
  {
    "text": "a really strong culture of just-in-time access I know that this isn't doable for all companies but we've been able to do",
    "start": "847920",
    "end": "854279"
  },
  {
    "text": "this at Shopify and it's a security developer's dream I know permit i o is",
    "start": "854279",
    "end": "859320"
  },
  {
    "text": "here and they have a just-in-time access I highly recommend investing some time there if you haven't Network policies",
    "start": "859320",
    "end": "866040"
  },
  {
    "text": "they're my favorite really great baked in kubernetes feature well not baked in",
    "start": "866040",
    "end": "871320"
  },
  {
    "text": "but observabilities we've talked a whole bunch about that it's really important that you are able to detect anomalous",
    "start": "871320",
    "end": "877860"
  },
  {
    "text": "activity if something does breach your perimeter defense you want to know about it as soon as possible",
    "start": "877860",
    "end": "883380"
  },
  {
    "text": "and then we want to follow our general security practices as well which is data encryption secret management keeping our",
    "start": "883380",
    "end": "890339"
  },
  {
    "text": "software up to date much like the canals of Amsterdam segment the city and create managed",
    "start": "890339",
    "end": "896519"
  },
  {
    "text": "routes for traffic we must ensure that we're properly isolating workloads in our multi-tenant infrastructure and",
    "start": "896519",
    "end": "902279"
  },
  {
    "text": "providing each segment with its own protection the other value of having layers of",
    "start": "902279",
    "end": "909120"
  },
  {
    "text": "security it means you're protecting from a malicious Insider or user error",
    "start": "909120",
    "end": "916639"
  },
  {
    "text": "sorry so Bridges I've talked a whole bunch about canals let's talk a little bit about bridges the many bridges in",
    "start": "919100",
    "end": "926459"
  },
  {
    "text": "Amsterdam are generally used to allow people to cross the canals and reach different areas of the city but another",
    "start": "926459",
    "end": "932760"
  },
  {
    "text": "thing that they do is allow boats to pass through and they allow monitoring",
    "start": "932760",
    "end": "938820"
  },
  {
    "text": "and control of which boats can access which areas at which time and they can also check licensing to make sure the",
    "start": "938820",
    "end": "945600"
  },
  {
    "text": "correct boats are doing the correct thing in times of War they allowed the city to concentrate forces at the access",
    "start": "945600",
    "end": "952199"
  },
  {
    "text": "points of the various areas of the city and made it easy to defend against Intruders",
    "start": "952199",
    "end": "959519"
  },
  {
    "text": "for me this made me think of always access control but also load balancing",
    "start": "961199",
    "end": "966240"
  },
  {
    "text": "so we can use Access Control mechanisms to ensure that only the correct entities can access specific resources and even",
    "start": "966240",
    "end": "973740"
  },
  {
    "text": "if we have just in time access at the right times load balancers ensure that the traffic",
    "start": "973740",
    "end": "979079"
  },
  {
    "text": "and load is distributed across the back end and across the back end resources in",
    "start": "979079",
    "end": "984360"
  },
  {
    "text": "the cluster so with those bridges if the canal was chock full of boats they could just close the bridge and wait until the",
    "start": "984360",
    "end": "990180"
  },
  {
    "text": "traffic spread out so I think that is a good mapping and a very fun meme I always use too many memes so I apologize",
    "start": "990180",
    "end": "997440"
  },
  {
    "text": "I don't have very serious slides okay Kalyn we get it the metaphor is",
    "start": "997440",
    "end": "1003500"
  },
  {
    "text": "great I did a super great job very interesting but probably you would like to get to some more clear kubernetes",
    "start": "1003500",
    "end": "1008899"
  },
  {
    "text": "content and I will but there's so many good ideas that I just want to go through a few more before moving on",
    "start": "1008899",
    "end": "1016040"
  },
  {
    "text": "um so next I touched on this a little bit but having different licenses allowing different access at different",
    "start": "1016040",
    "end": "1021980"
  },
  {
    "text": "times is very similar to having access control or network policies controlling the traffic",
    "start": "1021980",
    "end": "1029058"
  },
  {
    "text": "um flooding the water line so outside of the city of Amsterdam there used to be kind of a field marshy area called the",
    "start": "1029059",
    "end": "1035480"
  },
  {
    "text": "water line and in if the city was being attacked they could flood that area which would make it too deep and Mucky",
    "start": "1035480",
    "end": "1040880"
  },
  {
    "text": "for soldiers or for an incoming foot Army to get to the city and it would be too shallow for any kind of boats to go",
    "start": "1040880",
    "end": "1048319"
  },
  {
    "text": "through and this is like your brake glass your default deny policy you're going to isolate the city in this case",
    "start": "1048319",
    "end": "1054320"
  },
  {
    "text": "isolating from the outside you're going to wait until the threat has passed and then you can allow the water to drain off and resume regular traffic",
    "start": "1054320",
    "end": "1061640"
  },
  {
    "text": "and lastly to keep all of the canals and bridges running smoothly they have to have regular maintenance to these canals",
    "start": "1061640",
    "end": "1068480"
  },
  {
    "text": "and this is true of any kubernetes network we need to be updating our software regularly and Performing these",
    "start": "1068480",
    "end": "1074179"
  },
  {
    "text": "security assessments regularly even if the network is seemingly not changing",
    "start": "1074179",
    "end": "1079520"
  },
  {
    "text": "um so the metaphor is great I've done a lovely job really security Engineers of the modern day version of knights and",
    "start": "1079520",
    "end": "1084980"
  },
  {
    "text": "shining armor protecting our cities from the bad guys to be clear a much more",
    "start": "1084980",
    "end": "1090140"
  },
  {
    "text": "diverse set of armies than history and fantasy books would lead me to believe",
    "start": "1090140",
    "end": "1095840"
  },
  {
    "text": "we had before also I try to get the AI image generator",
    "start": "1095840",
    "end": "1101240"
  },
  {
    "text": "to do the Spider-Man meme with kubernetes characters and it was horrific",
    "start": "1101240",
    "end": "1107720"
  },
  {
    "text": "so now we're into stage two and we're going to get to know a network when I",
    "start": "1107720",
    "end": "1112940"
  },
  {
    "text": "started on the infrastructure security team I had never even heard of kubernetes I was only halfway through my",
    "start": "1112940",
    "end": "1118160"
  },
  {
    "text": "computer science degree I had very little experience in distributed systems and no experience in security once I",
    "start": "1118160",
    "end": "1124760"
  },
  {
    "text": "started learning about the various teams uh the various areas of responsibility on my team I became fascinated by",
    "start": "1124760",
    "end": "1130400"
  },
  {
    "text": "kubernetes and by network security in general largely thanks to my mentor who is here watching",
    "start": "1130400",
    "end": "1135860"
  },
  {
    "text": "the field is overwhelming opinionated and I really really struggled to learn the basics for me what I felt that I",
    "start": "1135860",
    "end": "1142640"
  },
  {
    "text": "needed to do was spend some time getting to know the network that my team was responsible for and I didn't really know",
    "start": "1142640",
    "end": "1148880"
  },
  {
    "text": "how to do that all of the tutorials jumped in pretty quick and assumed prior knowledge",
    "start": "1148880",
    "end": "1155000"
  },
  {
    "text": "as Security Professionals it's often the case that we need information about an",
    "start": "1155000",
    "end": "1160340"
  },
  {
    "text": "entire system which is in going to include a whole bunch of areas that were not directly responsible for and we",
    "start": "1160340",
    "end": "1165799"
  },
  {
    "text": "might not know we might not have the domain specific context of course the",
    "start": "1165799",
    "end": "1170960"
  },
  {
    "text": "best thing to do is to go and chat with the domain expert or service owners but this is a really great starting point",
    "start": "1170960",
    "end": "1177020"
  },
  {
    "text": "that we're going to go over if you want to do some exploration on your own",
    "start": "1177020",
    "end": "1181960"
  },
  {
    "text": "um we'll stick with the basics as I've said I think that they're the foundation of this kind of work and I want to highlight them if you're interested in",
    "start": "1182179",
    "end": "1189200"
  },
  {
    "text": "going in depth on any of this I'd be happy to talk to you outside of this talk if you see me around the conference maybe an unconfered session downstairs",
    "start": "1189200",
    "end": "1195679"
  },
  {
    "text": "and I can point in the direction of a whole bunch of really top-notch content that has been produced at events like",
    "start": "1195679",
    "end": "1201919"
  },
  {
    "text": "this before okay so some demos I'm going to take a big sip of water they're not really",
    "start": "1201919",
    "end": "1207080"
  },
  {
    "text": "demos I recorded them because I was afraid",
    "start": "1207080",
    "end": "1211600"
  },
  {
    "text": "before the first one I just want to go over yeah those are pretty readable some Cube cuddle commands to get started so",
    "start": "1214580",
    "end": "1221780"
  },
  {
    "text": "as I said we're dealing with a single cluster for today's examples um but it's very likely that in your real life",
    "start": "1221780",
    "end": "1228860"
  },
  {
    "text": "you're dealing with multiple clusters so you can use Cube cuddle config view to see which clusters or contexts you have",
    "start": "1228860",
    "end": "1235520"
  },
  {
    "text": "access to and you can use Cube cuddle get all all namespaces but get all",
    "start": "1235520",
    "end": "1243679"
  },
  {
    "text": "doesn't get all which is an important thing to know it it actually gets a specified subset of resources which",
    "start": "1243679",
    "end": "1249620"
  },
  {
    "text": "won't include any custom resources so what is preferable is to use Cube cuddle",
    "start": "1249620",
    "end": "1254660"
  },
  {
    "text": "get and have a comma separated list of the kinds that we care about as Security",
    "start": "1254660",
    "end": "1259900"
  },
  {
    "text": "Professionals which I've listed down the side is really what we want to look at is what are the nodes what are the",
    "start": "1259900",
    "end": "1264919"
  },
  {
    "text": "namespaces what are the pods what network policies already exist what services deployments and Ingress",
    "start": "1264919",
    "end": "1271299"
  },
  {
    "text": "resources do we have Okay so",
    "start": "1271299",
    "end": "1277760"
  },
  {
    "text": "weird it's not there this first one is just me Coop cuddling just getting to know a cluster so I'm going to start off",
    "start": "1277760",
    "end": "1284780"
  },
  {
    "text": "by getting the nodes also I made lots of mistakes recording my demos so I don't know why I was",
    "start": "1284780",
    "end": "1291020"
  },
  {
    "text": "afraid because I didn't I wasn't enough rigorous rigorous enough to redo them um but I got them wide with the IPS because",
    "start": "1291020",
    "end": "1297740"
  },
  {
    "text": "it's likely that we would want to do some connectivity testing and we would want access to that information later after I got the nodes I grabbed the",
    "start": "1297740",
    "end": "1305120"
  },
  {
    "text": "namespaces to see where things are contained and we can see a whole bunch of system and Tool namespaces and then",
    "start": "1305120",
    "end": "1311539"
  },
  {
    "text": "two that pertain to regions of Amsterdam um so we're going to look at the pods in",
    "start": "1311539",
    "end": "1316820"
  },
  {
    "text": "the regions of Amsterdam which we see here which are sub-regions of those regions again getting them wide so we",
    "start": "1316820",
    "end": "1323600"
  },
  {
    "text": "have those IP addresses and lastly we're going to look at Network policies to see what sorts of communication are allowed",
    "start": "1323600",
    "end": "1332980"
  },
  {
    "text": "and you can see that Centrum is allowed to egress to zurid and zooid is allowed to receive Ingress",
    "start": "1333440",
    "end": "1340340"
  },
  {
    "text": "from Centrum so that's a very simple quick thing that I will do pretty much anytime I'm dealing with a new",
    "start": "1340340",
    "end": "1345559"
  },
  {
    "text": "infrastructure is just cuddle my way through and see what's happening next is me using Inspector Gadget to get",
    "start": "1345559",
    "end": "1354919"
  },
  {
    "text": "an idea of what sort of network policies and setcom policies I could create for",
    "start": "1354919",
    "end": "1361520"
  },
  {
    "text": "this infrastructure so I did it a little bit concurrently",
    "start": "1361520",
    "end": "1368059"
  },
  {
    "text": "maybe I can do it from here oh there we go maybe I'm just not",
    "start": "1370100",
    "end": "1375500"
  },
  {
    "text": "pressing hard enough um so in the bottom I start the advise call for Network policy so this is",
    "start": "1375500",
    "end": "1382100"
  },
  {
    "text": "creating a trace of any network calls that are happening during this time and then up top I'm going to do the same",
    "start": "1382100",
    "end": "1387919"
  },
  {
    "text": "thing for SEC comp in the background and then I'm going to",
    "start": "1387919",
    "end": "1392960"
  },
  {
    "text": "port forward to generate some traffic for that and you can see I'm going to now curl it",
    "start": "1392960",
    "end": "1401059"
  },
  {
    "text": "there we go hey kubecon awesome and now I probably have pretty close to enough",
    "start": "1401059",
    "end": "1406820"
  },
  {
    "text": "information to look at the result of these scans and so we'll look at I think this set",
    "start": "1406820",
    "end": "1412580"
  },
  {
    "text": "comp one first stop the process I found out that there's a demo thing",
    "start": "1412580",
    "end": "1418940"
  },
  {
    "text": "you can use where you aren't actually doing it which maybe I will do next time so it's not as embarrassing",
    "start": "1418940",
    "end": "1424400"
  },
  {
    "text": "um so here you can see all of the system calls that were made during that Trace um and with this you can generate a set",
    "start": "1424400",
    "end": "1429919"
  },
  {
    "text": "comp policy you can do it using Inspector Gadget and you can also do it using the kubernetes security profiles",
    "start": "1429919",
    "end": "1437240"
  },
  {
    "text": "operator I didn't go into that but I've included the documentation in the resources slide at the end and this they",
    "start": "1437240",
    "end": "1443240"
  },
  {
    "text": "have a really great demo to walk through okay 10 minutes left I gotta go demo faster the next one we're going to",
    "start": "1443240",
    "end": "1449960"
  },
  {
    "text": "look at the network policy and so it's important to note that Inspector Gadget",
    "start": "1449960",
    "end": "1455600"
  },
  {
    "text": "creates the network policy based on the call so Inspector Gadget doesn't have any opinions about whether or not those",
    "start": "1455600",
    "end": "1462200"
  },
  {
    "text": "calls were expected so we're going to see a network policy that has a whole bunch of things in it and",
    "start": "1462200",
    "end": "1469520"
  },
  {
    "text": "you might not want to just apply that Network policy here I did an example of like a very obvious evil one called I",
    "start": "1469520",
    "end": "1477440"
  },
  {
    "text": "think I highlight it in a second sneaky boat attack Network and so if you saw",
    "start": "1477440",
    "end": "1482480"
  },
  {
    "text": "something that was really suspicious or outside what you would expect you would want to remove that from Network policy and maybe highlight it elsewhere",
    "start": "1482480",
    "end": "1489860"
  },
  {
    "text": "um what I really like about Inspector Gadget is not only can you get this network policy but also you get the",
    "start": "1489860",
    "end": "1495020"
  },
  {
    "text": "trace which is really interesting if you just want an idea of the traffic um if you are trying to see if something",
    "start": "1495020",
    "end": "1501080"
  },
  {
    "text": "suspicious is happening I think I look quickly at that in a second as well oh yeah here I go",
    "start": "1501080",
    "end": "1508360"
  },
  {
    "text": "to do and there you go so you can see you have a whole bunch of information here that",
    "start": "1510860",
    "end": "1515960"
  },
  {
    "text": "could help you get some more knowledge about the kind of action on the network",
    "start": "1515960",
    "end": "1521740"
  },
  {
    "text": "and with that you might start off with a really basic diagram just showing what the network looks like so this is the",
    "start": "1527120",
    "end": "1533600"
  },
  {
    "text": "very simple one that we've been looking at here you can see the namespaces and the nodes the pods and a",
    "start": "1533600",
    "end": "1541640"
  },
  {
    "text": "little bit of the traffic indicated as well as the cluster you would then want to turn this into a",
    "start": "1541640",
    "end": "1548779"
  },
  {
    "text": "really simple data flow diagram this is uh yeah just a very very basic data flow diagram this is going to start to give",
    "start": "1548779",
    "end": "1554600"
  },
  {
    "text": "you an idea of what paths traffic is taking and then you can start to know where some of those threats",
    "start": "1554600",
    "end": "1560600"
  },
  {
    "text": "might manifest I also included this example from the Sig security self-assessments team",
    "start": "1560600",
    "end": "1567320"
  },
  {
    "text": "um Grace is here she she does this and it's really a fantastic program that Sig security is running where they're",
    "start": "1567320",
    "end": "1572600"
  },
  {
    "text": "helping kubernetes projects to uh level up their security through uh",
    "start": "1572600",
    "end": "1579080"
  },
  {
    "text": "doing this process basically that I'm talking about today so once you have all of this you will be",
    "start": "1579080",
    "end": "1584720"
  },
  {
    "text": "ready to turn off the projector",
    "start": "1584720",
    "end": "1590799"
  },
  {
    "text": "threat model so um now that we know what we're dealing with let's talk about specific threats",
    "start": "1591140",
    "end": "1597559"
  },
  {
    "text": "so we can make a security plan we're going to go over using the framework and it's worthwhile knowing that there are",
    "start": "1597559",
    "end": "1603980"
  },
  {
    "text": "some other tools you can use for pen testing but this is just going to be a really quick overview of threat modeling",
    "start": "1603980",
    "end": "1611240"
  },
  {
    "text": "a very popular threat modeling framework is stride I'm a fan you can see here",
    "start": "1611240",
    "end": "1617419"
  },
  {
    "text": "what each letter stands for we're going to go through an example for each that's a bit kubernetes so spoofing pretending",
    "start": "1617419",
    "end": "1623419"
  },
  {
    "text": "to be someone you're not that could be through a compromise token tampering if",
    "start": "1623419",
    "end": "1628580"
  },
  {
    "text": "you have over if you're over privileged if you have API server access then you can do things you ought not do you can",
    "start": "1628580",
    "end": "1634580"
  },
  {
    "text": "make malicious changes repudiation is basically like software gaslighting you do a thing but then you make it so that",
    "start": "1634580",
    "end": "1641000"
  },
  {
    "text": "no one can know that you did the thing um so it's basically a combination of",
    "start": "1641000",
    "end": "1646820"
  },
  {
    "text": "the other two things you spoof and then you tamper to hide your tracks information disclosure is just our",
    "start": "1646820",
    "end": "1652460"
  },
  {
    "text": "classic data breach this could be done in kubernetes through compromise Secrets lack of encryption or unisolated",
    "start": "1652460",
    "end": "1658400"
  },
  {
    "text": "workloads denial of service also pretty typical security concern",
    "start": "1658400",
    "end": "1664419"
  },
  {
    "text": "oh yeah um you could do this through overloading the API server flooding the cluster",
    "start": "1666919",
    "end": "1671960"
  },
  {
    "text": "network with traffic and lastly elevation of privilege this can be through having highly privileged",
    "start": "1671960",
    "end": "1678380"
  },
  {
    "text": "containers root users overprivileged roles and not scoping people down",
    "start": "1678380",
    "end": "1684260"
  },
  {
    "text": "so now this is really why we do this um the security strategy is what we do",
    "start": "1684260",
    "end": "1690500"
  },
  {
    "text": "when we want to do a planning cycle when we want to start a new security team join an existing team or create a",
    "start": "1690500",
    "end": "1697279"
  },
  {
    "text": "security roadmap so we have a bunch of issues now what we",
    "start": "1697279",
    "end": "1703220"
  },
  {
    "text": "need to triage the issues and label them with priority to ensure that their information complete most of this is",
    "start": "1703220",
    "end": "1708440"
  },
  {
    "text": "standard issue intake triage practice but with potential security issues that",
    "start": "1708440",
    "end": "1713720"
  },
  {
    "text": "cover the entire state of the network at a given point in time we want to make sure that their information complete so",
    "start": "1713720",
    "end": "1718760"
  },
  {
    "text": "if someone Picks Them Up months or even years down the line they understand the full issue and we're not losing",
    "start": "1718760",
    "end": "1725059"
  },
  {
    "text": "discovered security threats so at the end of the day we all report",
    "start": "1725059",
    "end": "1730580"
  },
  {
    "text": "to some pointy-haired bosses and we still need to justify why we're prioritizing certain issues and so I'll",
    "start": "1730580",
    "end": "1738260"
  },
  {
    "text": "go over some of my considerations when I'm triaging security issues I'm going to go fast I'm sorry if you didn't have",
    "start": "1738260",
    "end": "1743779"
  },
  {
    "text": "time to read the comic because um so considerations these are the three categories that I like to look at when",
    "start": "1743779",
    "end": "1750200"
  },
  {
    "text": "I'm working on an issue so I think I think they're pretty explanatory but how complex is the issue how many people do",
    "start": "1750200",
    "end": "1756380"
  },
  {
    "text": "we need to do it what is the threat This Is How likely it is to be exploited and",
    "start": "1756380",
    "end": "1761779"
  },
  {
    "text": "then that combined with impact which is if it is exploited How likely is it that it will be critical so if you have",
    "start": "1761779",
    "end": "1768440"
  },
  {
    "text": "something that's not going to have a Major Impact but it's very likely to be exploited versus something that's completely it's all at the middle of all",
    "start": "1768440",
    "end": "1775640"
  },
  {
    "text": "those layers of security but could be devastating that's going to impact how you triage them",
    "start": "1775640",
    "end": "1781460"
  },
  {
    "text": "on our team we use a risk register and this is not our template but this is roughly in the shape of our template and",
    "start": "1781460",
    "end": "1789140"
  },
  {
    "text": "these are some questions that you might answer so um basically when you find these issues you can have them on your backlog board",
    "start": "1789140",
    "end": "1794899"
  },
  {
    "text": "you can have them for a project you want to make sure you hand off ones that are out of your responsibility and maybe relate to specific services but as a",
    "start": "1794899",
    "end": "1802340"
  },
  {
    "text": "security team if you've identified an area even if you don't have time to work on it you're going to want to have a log",
    "start": "1802340",
    "end": "1807740"
  },
  {
    "text": "of it and a risk register is a common way to do that it's a a list of security issues that could be retriaged and",
    "start": "1807740",
    "end": "1814520"
  },
  {
    "text": "picked up at any time and our team when we look to plan for the next cycle we consult our risk register and pick up",
    "start": "1814520",
    "end": "1820100"
  },
  {
    "text": "the projects that are at the highest priority so this is a great example very easy describe the the risk the cat can",
    "start": "1820100",
    "end": "1827000"
  },
  {
    "text": "reach the plant shelf what's the worst case cat kills all your plants would it",
    "start": "1827000",
    "end": "1832220"
  },
  {
    "text": "be detectable depends probably the mess yes but then it's too late has it",
    "start": "1832220",
    "end": "1838100"
  },
  {
    "text": "happened before if you own a cat and you have a plant yep how How likely well a CAT scan a cat yeah and who should fix",
    "start": "1838100",
    "end": "1845659"
  },
  {
    "text": "it the owner of both the cat and the plants is likely responsible how difficult would it be to fix",
    "start": "1845659",
    "end": "1852200"
  },
  {
    "text": "ah pretty tough cats can get through anything and are there existing controls maybe some aluminum foil on the edge but",
    "start": "1852200",
    "end": "1858559"
  },
  {
    "text": "if it falls they're still going to Chuck your plant and this this part is the most important part which is what",
    "start": "1858559",
    "end": "1864200"
  },
  {
    "text": "sentence if true would suggest we are managing this risk um so I put here there's a cat proof plant shelf we can",
    "start": "1864200",
    "end": "1870380"
  },
  {
    "text": "leave an army of cats in the plant room for many hours and zero pots will be smashed this allows",
    "start": "1870380",
    "end": "1875659"
  },
  {
    "text": "you know Kalyn Edwards 10 years later to look back and check in with that sentence to see if in fact this is still",
    "start": "1875659",
    "end": "1882860"
  },
  {
    "text": "a concern I think that that's a really magical part to include so now we're at the key takeaways",
    "start": "1882860",
    "end": "1889220"
  },
  {
    "text": "there's a whole lot of content about a whole bunch of different things but the main focus which I hope got across was",
    "start": "1889220",
    "end": "1895580"
  },
  {
    "text": "how to get started securing a kubernetes network and how to form that plan and again so I'll just go through what",
    "start": "1895580",
    "end": "1903080"
  },
  {
    "text": "we talked about initially we want to look at the components what's the network made up of we want to look at",
    "start": "1903080",
    "end": "1908419"
  },
  {
    "text": "the boundaries what's at the edge what traffic do we want what traffic do we not want we want to look at the threats what are",
    "start": "1908419",
    "end": "1915020"
  },
  {
    "text": "the risks how are other people with similar infrastructures getting pwned triage where should we focus our efforts",
    "start": "1915020",
    "end": "1921320"
  },
  {
    "text": "what do we have time for what are our pointy haired bosses going to endorse mitigate finally how can we stop those",
    "start": "1921320",
    "end": "1927679"
  },
  {
    "text": "threats help when we build a security roadmap and start crushing issues and what is not contained on here is regular",
    "start": "1927679",
    "end": "1933500"
  },
  {
    "text": "maintenance doing this over and over again every time there's a new system running security game days so that you",
    "start": "1933500",
    "end": "1939200"
  },
  {
    "text": "can find out are we prepared if one of these threats we listed happens that's super super valuable",
    "start": "1939200",
    "end": "1946100"
  },
  {
    "text": "there are a whole bunch of useful tools that I did not have time to dig into today but most of them are here and they",
    "start": "1946100",
    "end": "1952700"
  },
  {
    "text": "would love to talk to you about their Tech they're really really great and they want to help you have a secure kubernetes network these ones are my",
    "start": "1952700",
    "end": "1960260"
  },
  {
    "text": "favorite just kidding I don't have any favorites as an ambassador but I do like these ones",
    "start": "1960260",
    "end": "1966460"
  },
  {
    "text": "and here's some resources these are just mostly the resources that I used to make",
    "start": "1966559",
    "end": "1972260"
  },
  {
    "text": "my talk so if you want to go deeper on anything there's some really great links here and finally if you were like",
    "start": "1972260",
    "end": "1978200"
  },
  {
    "text": "Caitlyn this is awesome I want to do more of this I want to help you please please come work with us both Sig",
    "start": "1978200",
    "end": "1983600"
  },
  {
    "text": "security and tag security run a self-assessment program we need help or we need you to tell us about your sub",
    "start": "1983600",
    "end": "1989299"
  },
  {
    "text": "project that needs help so you can scan these these QR codes will bring you to the slack channel for both tag security",
    "start": "1989299",
    "end": "1996080"
  },
  {
    "text": "and Sig security I will be at the sync security meet and greet or the Sig meet",
    "start": "1996080",
    "end": "2001120"
  },
  {
    "text": "and greet representing Sig Security on Friday it's at 12 30 to 2 30 but I have no idea",
    "start": "2001120",
    "end": "2006399"
  },
  {
    "text": "where it is but it is in sketched so please sign up and I'll talk to you more about what it's like to work with the Sig and finally please give me some",
    "start": "2006399",
    "end": "2014080"
  },
  {
    "text": "feedback um this is my second talk live and I would love to hear mostly the things that you would like me to do in the",
    "start": "2014080",
    "end": "2020080"
  },
  {
    "text": "future thank you",
    "start": "2020080",
    "end": "2024120"
  }
]