[
  {
    "text": "so hello everybody Welcome to our talk uh simplifying backstage and breaking",
    "start": "40",
    "end": "5200"
  },
  {
    "text": "the code barrier so this is a maintainer track talk for backstage um let's get started so first let's do some",
    "start": "5200",
    "end": "11280"
  },
  {
    "text": "introductions my name is Ben I'm a senior engineer at Spotify and a maintainer at Backstage and I have with",
    "start": "11280",
    "end": "16920"
  },
  {
    "text": "me Patrick hello my name is Patrick go by rugby P GitHub also a senior engineer at Spotify and maintainer of Backstage",
    "start": "16920",
    "end": "24359"
  },
  {
    "text": "cool so let's dive into a little bit of an agenda um first off we're going to start with some project updates um then",
    "start": "24359",
    "end": "30199"
  },
  {
    "text": "we're going to head into something we're calling the front-end framework Evolution um which is what we've been working on for yeah the last six eight",
    "start": "30199",
    "end": "38640"
  },
  {
    "text": "months so some numbers first uh so these numbers are respective from Amsterdam",
    "start": "38640",
    "end": "44360"
  },
  {
    "text": "cubec Con in Europe early this year um we have now 2.3 th000 adopters which is",
    "start": "44360",
    "end": "49840"
  },
  {
    "text": "up 90% um 1.2 th000 contributors and 24,000 stars is near on",
    "start": "49840",
    "end": "58920"
  },
  {
    "text": "G I also want to call out some new project areas um that we've added to the project since Amsterdam Also earlier",
    "start": "58920",
    "end": "65198"
  },
  {
    "text": "this year we've got three new project areas with some dedicated people taking ownership uh of these parts of the code",
    "start": "65199",
    "end": "72799"
  },
  {
    "text": "um I should talk a little bit more about the difference between incubating and I guess you can call them graduated project areas um incubating is basically",
    "start": "72799",
    "end": "79680"
  },
  {
    "text": "going to be partly maintained by the maintainer team too uh so we're also going to like help kick things off uh",
    "start": "79680",
    "end": "85960"
  },
  {
    "text": "and be a part of that project area until we feel like we're at a comfortable place from both sides stand over a little bit more of the maintainer cost",
    "start": "85960",
    "end": "93040"
  },
  {
    "text": "things like setting up sync meetings and going through issues and assigning people to review poll requests Etc so",
    "start": "93040",
    "end": "99399"
  },
  {
    "text": "there's the open API project area which Aramis is taking over he's in the front row down here give everybody a",
    "start": "99399",
    "end": "104759"
  },
  {
    "text": "wave um this project is looking about how we can improve the uh tooling that",
    "start": "104759",
    "end": "110119"
  },
  {
    "text": "we have around open API uh for backstage especially the backend plugin ecosystem",
    "start": "110119",
    "end": "116119"
  },
  {
    "text": "uh so this allows us to have things like typed clients um when communicating with backend plugins and also providing us",
    "start": "116119",
    "end": "122719"
  },
  {
    "text": "with like request response validation and express um there's a scaffolder projects area So for anybody that's seen",
    "start": "122719",
    "end": "128879"
  },
  {
    "text": "me and Patrick speak before you'll know that the scaffold has got a kind of a very special place in my heart um so",
    "start": "128879",
    "end": "135319"
  },
  {
    "text": "this project is really exciting for me and to see where we can take it it's a heavily used feature backstage um and",
    "start": "135319",
    "end": "140840"
  },
  {
    "text": "it's grown a lot in complexity since we first made it like three years ago so it's great to get Paul Cowen from",
    "start": "140840",
    "end": "146519"
  },
  {
    "text": "front-end rescue and Bogdan NE pereno from b.com uh on board who have been contributing since the very early days",
    "start": "146519",
    "end": "152519"
  },
  {
    "text": "of the scaffolder uh and yeah it's great to get them on board to help take it forward and maintain it um and lastly",
    "start": "152519",
    "end": "158040"
  },
  {
    "text": "there's the permissions framework um and all the packages related to that have been taken ownership by the imaginary",
    "start": "158040",
    "end": "163120"
  },
  {
    "text": "goat Squad at Spotify um yeah don't ask about the names there's some very strange names for",
    "start": "163120",
    "end": "168800"
  },
  {
    "text": "other squads at Spotify um but yes they were the initial inventors of the RFC and implementation so it's great to have",
    "start": "168800",
    "end": "174879"
  },
  {
    "text": "them on board too so let's talk about plugins a little bit bit um so I guess backstage loads",
    "start": "174879",
    "end": "182560"
  },
  {
    "text": "plugins right uh the point that backstage goes from being um a framework to a platform is plugins um and if",
    "start": "182560",
    "end": "189560"
  },
  {
    "text": "that's adding in open source plugins or even creating your own plugins in your own organization um it's what gives",
    "start": "189560",
    "end": "196080"
  },
  {
    "text": "backstage the power of being that single pane of glass for your company connecting all of the different pieces into one place so in fact the main monor",
    "start": "196080",
    "end": "203959"
  },
  {
    "text": "report backstage backstage has over 200 plug-in packages as you can see by the gift that's really long here",
    "start": "203959",
    "end": "211480"
  },
  {
    "text": "um and some of these plugins we provide out of the box like the catalog the scaffolder and Tech docs um but most of",
    "start": "211480",
    "end": "217400"
  },
  {
    "text": "them have been actually Community contributed since we started the repo 3 years ago and we're so grateful for this",
    "start": "217400",
    "end": "223720"
  },
  {
    "text": "like personally I don't think we would be where we are today stood are you here on this stage with an incubating project if it wasn't for all these plugins and",
    "start": "223720",
    "end": "230120"
  },
  {
    "text": "these contributors and they're vital for the backstage ecosystem right and because",
    "start": "230120",
    "end": "236000"
  },
  {
    "text": "they're free because they're open source they're also free right which is great but just because they're free doesn't",
    "start": "236000",
    "end": "241239"
  },
  {
    "text": "mean that they don't have a cost so when we were adding these plugins originally",
    "start": "241239",
    "end": "246439"
  },
  {
    "text": "um early on it was great to be able to see like all of these different use cases and make sweeping breaking changes",
    "start": "246439",
    "end": "252680"
  },
  {
    "text": "across the project and see how that impacted different uses of these apis but I feel like or we feel now that",
    "start": "252680",
    "end": "260239"
  },
  {
    "text": "we're kind of past the point of this critical mass for this to be valuable anymore so the other thing now is that",
    "start": "260239",
    "end": "266320"
  },
  {
    "text": "backstage core is also a a lot more stable like we're not making so many Breaking changes especially to the core",
    "start": "266320",
    "end": "273720"
  },
  {
    "text": "framework um not all plugins when they're contributed have clear owners um after",
    "start": "273720",
    "end": "279840"
  },
  {
    "text": "that initial commit so cont contributors come and go but the package still stays there and then that maintainership",
    "start": "279840",
    "end": "285000"
  },
  {
    "text": "burden falls on us as cuse maintainers uh to keep it going um and we as",
    "start": "285000",
    "end": "290320"
  },
  {
    "text": "maintainers we have a lot of stuff on our plate right now you'll see later on what the all the new stuff we've been working on and backstage is gr at a fast",
    "start": "290320",
    "end": "297000"
  },
  {
    "text": "rate as I've just shown you previously on the number slide so there's quite a large amount of our time you know maintaining these packages",
    "start": "297000",
    "end": "304600"
  },
  {
    "text": "approving uh code changes uh shipping bug fixes bumping Packages Etc for",
    "start": "304600",
    "end": "310280"
  },
  {
    "text": "plugins that we don't really use or test that often so it's kind of hard for us too to work out if they're going to work or not or if you know the changes are",
    "start": "310280",
    "end": "318960"
  },
  {
    "text": "good so what can we do about this so we think as maintainers that we own too",
    "start": "318960",
    "end": "324520"
  },
  {
    "text": "much in the repo so we still want to we want to shrink that uh basically scope that we own so we got our heads together",
    "start": "324520",
    "end": "331360"
  },
  {
    "text": "and came up with a plan for how we can trim down the scope and our first step was to put together an RSC potentially",
    "start": "331360",
    "end": "336759"
  },
  {
    "text": "stopping new plugins from uh being added to the main monor repo so instead we would provide guidance and tools to make",
    "start": "336759",
    "end": "343280"
  },
  {
    "text": "it easier for people to host their own plugins in their own repo and their own organization outside of the backstage or",
    "start": "343280",
    "end": "349080"
  },
  {
    "text": "so of course we don't want to stop growing the amount of plugins that we've got but we just want to free up some time for us so we got some great feedback on this",
    "start": "349080",
    "end": "356160"
  },
  {
    "text": "RSC uh in particular we heard that people love this idea of having a central repository for Community plugins",
    "start": "356160",
    "end": "362360"
  },
  {
    "text": "um and you know that the easer it provides to be able to contribute plugins with all of our tooling so we're",
    "start": "362360",
    "end": "368240"
  },
  {
    "text": "going to be exploring this idea a little bit um and to see how we can set up this governance so that we're not super involved in that repo so if you're eager",
    "start": "368240",
    "end": "375440"
  },
  {
    "text": "in being involved in this or being a community plugins maintainer please reach out to us either on Discord or",
    "start": "375440",
    "end": "380520"
  },
  {
    "text": "come grab us here or wherever uh and let's talk uh I also want to mention one thing",
    "start": "380520",
    "end": "387199"
  },
  {
    "text": "as well um on similar sort of a topic to that uh there's been some",
    "start": "387199",
    "end": "392319"
  },
  {
    "text": "steps to moving out some of the plugins that initially lived in the Min repo before so these plugins were also contributed by maybe people that didn't",
    "start": "392319",
    "end": "399120"
  },
  {
    "text": "work at these vendors before um and it's awesome to see and it's great that we've got such a great open source community",
    "start": "399120",
    "end": "404400"
  },
  {
    "text": "that can contribute these and then them being picked up by the vendors to maintain seeing these vendors take",
    "start": "404400",
    "end": "410599"
  },
  {
    "text": "ownership of these plugins is great for backstage it really shows their investment from them uh as well as given the new home outside of the backstage",
    "start": "410599",
    "end": "418240"
  },
  {
    "text": "monor repo the now being maintained by the right people that know a lot more about these plugins which is great so maybe if you work at one of these at a",
    "start": "418240",
    "end": "425199"
  },
  {
    "text": "company who has a plugin in the core monor repo and you want to help move it out please create an issue Let's Get It",
    "start": "425199",
    "end": "432440"
  },
  {
    "text": "Started cool over to Patrick all right so that was a couple of project updates and now it's time to look at what we've",
    "start": "432440",
    "end": "438759"
  },
  {
    "text": "been working on for the backstage front end framework so since the beginning of the",
    "start": "438759",
    "end": "444240"
  },
  {
    "text": "backstage project you have always needed to integrate plugins using typescript Code uh typically you found one or a few",
    "start": "444240",
    "end": "449960"
  },
  {
    "text": "Sni bits of code in a plug-in readme uh tells you what to do import a few things render them somewhere and whatnot some",
    "start": "449960",
    "end": "456039"
  },
  {
    "text": "form of integration now it's usually fairly simple uh but already here there are a few points of friction right you",
    "start": "456039",
    "end": "462720"
  },
  {
    "text": "quite often uh someone that wants to set up a backstage instance might not know typescript they might not know react they might not be even that familiar",
    "start": "462720",
    "end": "468680"
  },
  {
    "text": "with coding at all but even with that knowledge uh it can get pretty",
    "start": "468680",
    "end": "473840"
  },
  {
    "text": "complicated as your project grows one snippet of code at the time and eventually you're here and you're",
    "start": "473840",
    "end": "478960"
  },
  {
    "text": "sifting through your entity Pages trying to figure out how to add a card for your Java services and so what we've been working",
    "start": "478960",
    "end": "485000"
  },
  {
    "text": "on is a way to integrate plugins in a backstage application uh that doesn't",
    "start": "485000",
    "end": "490199"
  },
  {
    "text": "require this uh code what we want to do is remove all of these small Snippets and instead just um keep the fle but",
    "start": "490199",
    "end": "497879"
  },
  {
    "text": "still keep the flexibility that allows you to customize uh your apps to your own needs we call this overall solution",
    "start": "497879",
    "end": "504440"
  },
  {
    "text": "declarative integration now something to is that's worth pointing out here is that this is",
    "start": "504440",
    "end": "510280"
  },
  {
    "text": "for both the front endend and the backend systems uh but with the changes on the way to the new backend system uh",
    "start": "510280",
    "end": "516120"
  },
  {
    "text": "there's much less work to be done there so what we're going to focus on today is completely the front end part of this",
    "start": "516120",
    "end": "523200"
  },
  {
    "text": "solution now if you've been around uh you know that we presented declarative integration as part of our road map at",
    "start": "523200",
    "end": "528680"
  },
  {
    "text": "cubon EU earlier this year uh we've been working on the actual implementation of this since around the end of summer so",
    "start": "528680",
    "end": "535320"
  },
  {
    "text": "what we're showing you today it's work in progress and it is subject to change",
    "start": "535320",
    "end": "541200"
  },
  {
    "text": "all right so when we sat down to design this new system there were a couple of goals we had in mind so first and",
    "start": "542000",
    "end": "547279"
  },
  {
    "text": "foremost we wanted to remove the need to write typescript code to integrate plugins but we didn't just want to shift",
    "start": "547279",
    "end": "553240"
  },
  {
    "text": "it all over to yaml we wanted to make sure that plugins can provide defaults uh so that the only configuration you",
    "start": "553240",
    "end": "559279"
  },
  {
    "text": "need in your application is for customizing your setup we also wanted to",
    "start": "559279",
    "end": "564480"
  },
  {
    "text": "clean up the composition patterns uh making it easier to build plugins that extend and compose with each other and",
    "start": "564480",
    "end": "572079"
  },
  {
    "text": "finally we wanted to build towards the possibility of dynamic plugins as a first class citizen in the backstage",
    "start": "572079",
    "end": "577519"
  },
  {
    "text": "framework allowing you to install a new plug-in without rebuilding the app now to be clear Dynamic installation is not",
    "start": "577519",
    "end": "585000"
  },
  {
    "text": "part of what we are building right now but we had it in mind uh as a future step as we were designing these",
    "start": "585000",
    "end": "591920"
  },
  {
    "text": "things okay so that's some background now we'll look at the design of this new system so this is a very high level",
    "start": "591920",
    "end": "599360"
  },
  {
    "text": "overview uh of the new framework uh at the root there is an app instance which is just an empty shell uh it knows how",
    "start": "599360",
    "end": "605399"
  },
  {
    "text": "to wire things together and gives you a base to build upon to populate it with",
    "start": "605399",
    "end": "610560"
  },
  {
    "text": "content you have to install plugins now plugins are also still just lightweight",
    "start": "610560",
    "end": "615600"
  },
  {
    "text": "containers that provide extensions it's in the extensions where all of the functionality actually lies in a",
    "start": "615600",
    "end": "621560"
  },
  {
    "text": "backstage application it's when you take all of these uh extensions and wire them together that you actually get an app",
    "start": "621560",
    "end": "627680"
  },
  {
    "text": "that you can render and use now if you're familiar with the current system uh you might know that nothing",
    "start": "627680",
    "end": "633600"
  },
  {
    "text": "has really changed here it's actually the case that the app and plugins more or less look the same from the outside",
    "start": "633600",
    "end": "639560"
  },
  {
    "text": "the big difference in this new system are the extensions and how the extensions interact with each other um",
    "start": "639560",
    "end": "646079"
  },
  {
    "text": "and come together to build up uh so that's what we're going to focus on now okay so let's return to this snippet",
    "start": "646079",
    "end": "653920"
  },
  {
    "text": "of code that we use to install a plugin uh and see how this has changed in the new system",
    "start": "653920",
    "end": "660839"
  },
  {
    "text": "so in the new system each extension provide their own attachment point and",
    "start": "660839",
    "end": "665959"
  },
  {
    "text": "the attachment point is the location in the app that an extension is integrated at so in this case we're installing the",
    "start": "665959",
    "end": "672000"
  },
  {
    "text": "graphic page as a top level route of our in app but in the new system the",
    "start": "672000",
    "end": "677480"
  },
  {
    "text": "extension is Prov able the extension is able to provide this information itself so we no longer need that",
    "start": "677480",
    "end": "684000"
  },
  {
    "text": "code now extensions are also able to provide a default integration configuration in this case it's the",
    "start": "684000",
    "end": "690279"
  },
  {
    "text": "route path that we want the page to be rendered at so we can get rid of that too we have also moved away from react",
    "start": "690279",
    "end": "697560"
  },
  {
    "text": "as a first class building block uh when you're integrating plugins it was nice to be able to you know introduce extra",
    "start": "697560",
    "end": "703959"
  },
  {
    "text": "react elements in an app but it was also really confusing the way we used react in in some uh cases so extensions are",
    "start": "703959",
    "end": "711480"
  },
  {
    "text": "just plain values that you import directly into an app and finally we have added the option",
    "start": "711480",
    "end": "716720"
  },
  {
    "text": "to automatically detect plug-in packages and and important which means that we can get rid of this explicit import as",
    "start": "716720",
    "end": "722839"
  },
  {
    "text": "well sweet that's all code gone nice how do we actually build anything out of",
    "start": "722839",
    "end": "729200"
  },
  {
    "text": "that so to understand this this extension structure um when when you",
    "start": "729200",
    "end": "734920"
  },
  {
    "text": "bring an entire app together we'll start by looking at the structure of an existing backstage app so what we can see here it's a thin",
    "start": "734920",
    "end": "742160"
  },
  {
    "text": "slice of an app there is a tree of react elements that determine the structure of this application some of these uh",
    "start": "742160",
    "end": "748920"
  },
  {
    "text": "elements are extensions provided by plugins some are provided by the framework itself and some are just plain",
    "start": "748920",
    "end": "754199"
  },
  {
    "text": "react components and now as a side note it's it's this mixing of different kind of react elements that we want to avoid",
    "start": "754199",
    "end": "760639"
  },
  {
    "text": "and have a cleaner separation between the backstage framework and react okay but uh what would this look",
    "start": "760639",
    "end": "768320"
  },
  {
    "text": "like in the new system then so if there's no code there's going to be a lot of yaml so to the right here uh you",
    "start": "768320",
    "end": "774639"
  },
  {
    "text": "can see the same structure represented in the new system we no longer have have an explicit tree structure instead the",
    "start": "774639",
    "end": "781079"
  },
  {
    "text": "extensions are defined as a flat list where each extension declares its own attachment point it's not until run time",
    "start": "781079",
    "end": "788120"
  },
  {
    "text": "that this is all resolved into an extension structure a tree that actually builds up that now however the good",
    "start": "788120",
    "end": "794519"
  },
  {
    "text": "thing about this yaml is that you don't need to write it the entire structure is provided to us as defaults by plugins",
    "start": "794519",
    "end": "801040"
  },
  {
    "text": "and the framework itself to build it into an natural La so what you typically",
    "start": "801040",
    "end": "806079"
  },
  {
    "text": "have uh is something that's going to be closer to this if all you want are the defaults in a",
    "start": "806079",
    "end": "812160"
  },
  {
    "text": "backstage app it can more or less just be defined by the dependencies in your package Json now of course we want to be able to",
    "start": "812160",
    "end": "819480"
  },
  {
    "text": "customize our apps too and we're going to show you that in just a second but first I want to talk about something",
    "start": "819480",
    "end": "825639"
  },
  {
    "text": "else so one of the main strengths in our current system the one on the left is how well it visualizes the structure of",
    "start": "825639",
    "end": "832320"
  },
  {
    "text": "the app that was one of the main goals as we were designing that system now of course in in the new system that no",
    "start": "832320",
    "end": "838839"
  },
  {
    "text": "longer make sense we wanted to get rid of the code but it's still very important that you can get the sense for",
    "start": "838839",
    "end": "844800"
  },
  {
    "text": "what the app structure looks like as you're making changes and debugging so let me show you that uh uh",
    "start": "844800",
    "end": "852079"
  },
  {
    "text": "what we the tools we have built for that by jumping into Quick demo and we'll also explore the app structure in a uh",
    "start": "852079",
    "end": "858880"
  },
  {
    "text": "app using the new",
    "start": "858880",
    "end": "861680"
  },
  {
    "text": "system there we go cool uh so what we have running here here and I'm going to",
    "start": "864600",
    "end": "870120"
  },
  {
    "text": "remember the keybinds there we go so what we have running here is a backstage app using the new system uh it's a small",
    "start": "870120",
    "end": "877000"
  },
  {
    "text": "one just a couple of plugins installed we have an entity page here with a couple of cards but as I said it's all",
    "start": "877000",
    "end": "882360"
  },
  {
    "text": "in the new system and we have this visualizer down here that lets us see the structure of this entire",
    "start": "882360",
    "end": "888399"
  },
  {
    "text": "application so each of the blue square boxes here is an extension installed in",
    "start": "888399",
    "end": "893959"
  },
  {
    "text": "this application each extension is linked to an input the the the gray round node and",
    "start": "893959",
    "end": "901040"
  },
  {
    "text": "the inputs in turn are linked to a parent extension and it it's this relationship um between with an input",
    "start": "901040",
    "end": "908079"
  },
  {
    "text": "and a parent extension that forms the attachment point of each extension in the app you can see we form form up this",
    "start": "908079",
    "end": "914519"
  },
  {
    "text": "tree every single extension is attached to a parent all the way up to the root",
    "start": "914519",
    "end": "919680"
  },
  {
    "text": "of the app where we have the root app extension now you can see here that we",
    "start": "919680",
    "end": "925000"
  },
  {
    "text": "have for example a couple of extra uh or a couple extensions here here um that are themes so extensions are not only",
    "start": "925000",
    "end": "931720"
  },
  {
    "text": "react components they can also provide other kind of functionality uh in an app also jump to this more detailed view",
    "start": "931720",
    "end": "939759"
  },
  {
    "text": "uh it's it's the same list of extensions but in a slightly different format uh we can see here for example the catalog",
    "start": "939759",
    "end": "945880"
  },
  {
    "text": "page extension I can uh navigate to it so the catalog page it's all the content",
    "start": "945880",
    "end": "951959"
  },
  {
    "text": "you see here to the right everything except for the sidebar now these colored dots here on",
    "start": "951959",
    "end": "958880"
  },
  {
    "text": "the catalog page extension they represent outputs of this extension so among other things the catalog page",
    "start": "958880",
    "end": "965120"
  },
  {
    "text": "outputs a react element U that renders the entire page this is shared through",
    "start": "965120",
    "end": "972040"
  },
  {
    "text": "uh the attachment point to the parent extension and this goes on all the way up to the root of the app they all all",
    "start": "972040",
    "end": "978959"
  },
  {
    "text": "of the extensions compose U what inputs they have all the way up to the root app",
    "start": "978959",
    "end": "984319"
  },
  {
    "text": "extension that outputs a single react element that we can use to render our entire app",
    "start": "984319",
    "end": "990519"
  },
  {
    "text": "all right that's uh enough for this demo and back to the slides and",
    "start": "990959",
    "end": "998880"
  },
  {
    "text": "B one",
    "start": "1000040",
    "end": "1003360"
  },
  {
    "text": "sec okay so let's shift gears a little bit and talk about how we actually new",
    "start": "1005440",
    "end": "1011360"
  },
  {
    "text": "use this new system so we'll mostly skip over how to set up the app itself and building plugins because that's going to",
    "start": "1011360",
    "end": "1017680"
  },
  {
    "text": "remain fairly similar to the existing system instead we're going to focus on what it looks like to actually create",
    "start": "1017680",
    "end": "1023440"
  },
  {
    "text": "extensions and configure them in the app so let's return to the previous uh",
    "start": "1023440",
    "end": "1029520"
  },
  {
    "text": "slim example of the app so so far we were using the defaults which are provided right but let's say that we",
    "start": "1029520",
    "end": "1035839"
  },
  {
    "text": "want to change the path of the settings page from settings to be preferences",
    "start": "1035839",
    "end": "1041678"
  },
  {
    "text": "instead so in the old system you can of course just directly update it uh in the jsx as seen on the left um and with",
    "start": "1041679",
    "end": "1048600"
  },
  {
    "text": "declarative integration the path is instead Changed by passing configuration to the settings page extension so we do",
    "start": "1048600",
    "end": "1054280"
  },
  {
    "text": "this by referencing the set the extension by its ID and then passing this extension specific uh config to",
    "start": "1054280",
    "end": "1060000"
  },
  {
    "text": "update the path so this next example is a little bit trickier uh what we'd like to do is",
    "start": "1060000",
    "end": "1065480"
  },
  {
    "text": "disable the extension in a certain environment and in the old system there's no real great way of doing this",
    "start": "1065480",
    "end": "1070600"
  },
  {
    "text": "you end up coming up with your own switch or a feature flag to be able to do it and for Simplicity here we're just going to comment it out with the ctive",
    "start": "1070600",
    "end": "1077760"
  },
  {
    "text": "integration ever we can simply disable the extension using the configuration that you can see on the right so just by passing false in the",
    "start": "1077760",
    "end": "1084280"
  },
  {
    "text": "Boolean now these are just two small examples of how you can customize your app using declarative integration",
    "start": "1084280",
    "end": "1090159"
  },
  {
    "text": "extensions can of course declare their own configuration schema so you can make any form of static configuration possible and you're also able to change",
    "start": "1090159",
    "end": "1096919"
  },
  {
    "text": "the attachment point of extensions and of course provide an entirely new implementation of an extension with your",
    "start": "1096919",
    "end": "1103919"
  },
  {
    "text": "own so let's look at how you create extensions so almost all of the you're going to be using these predefined",
    "start": "1103919",
    "end": "1110039"
  },
  {
    "text": "extension creators like create page extension that you can see here so these predefined extension creators come with",
    "start": "1110039",
    "end": "1116120"
  },
  {
    "text": "a useful set of defaults and an implementation all we need to do is provide is give it an ID a path and a",
    "start": "1116120",
    "end": "1122240"
  },
  {
    "text": "loader and a way to load the actual page component itself so we've created our extension but now how do we install it",
    "start": "1122240",
    "end": "1128280"
  },
  {
    "text": "in the app so as mentioned before we use plugins as containers um as EXT plugins",
    "start": "1128280",
    "end": "1135280"
  },
  {
    "text": "as containers for extensions to install them in the app so the recommended pattern is to stick to one plugin per",
    "start": "1135280",
    "end": "1140799"
  },
  {
    "text": "package and by making it the plugin the default export for that package is going to be automatically picked up and",
    "start": "1140799",
    "end": "1145919"
  },
  {
    "text": "installed into the app so there's also a lower level API hit under the hood which is plainly",
    "start": "1145919",
    "end": "1151760"
  },
  {
    "text": "called create extension so this is what you're going to use if you want to make your own extension creators or if you simply want more detail control over an",
    "start": "1151760",
    "end": "1158400"
  },
  {
    "text": "extension itself so what you can see here is the definition for our call layout extension so the call layout",
    "start": "1158400",
    "end": "1164159"
  },
  {
    "text": "extension is um basically like the shell of the backstage app itself so it's got um the sidebar and uh the content for",
    "start": "1164159",
    "end": "1171919"
  },
  {
    "text": "the actual plug-in all wrapped in a sidebar page component you can see that right down at the bottom where it says Factory that's what it returns this",
    "start": "1171919",
    "end": "1177919"
  },
  {
    "text": "react element so here you can see when using Create extension directly that we've got a lot more control over what we actually",
    "start": "1177919",
    "end": "1184760"
  },
  {
    "text": "want to do in the extension so we have to declare an ID an attachment point some inputs which I've said are going to",
    "start": "1184760",
    "end": "1191000"
  },
  {
    "text": "be the sidebar and the app content uh and then our outputs which is the react element so we can also Define a",
    "start": "1191000",
    "end": "1197600"
  },
  {
    "text": "configuration schema but for this example it's not necessary um you should also be able to",
    "start": "1197600",
    "end": "1203280"
  },
  {
    "text": "now see kind of in your head how you can wire these inputs and outputs of different extensions to build this tree that Patrick was just talking about now",
    "start": "1203280",
    "end": "1210280"
  },
  {
    "text": "and obviously in these examples we're taking inputs of react elements and then composing them together to build another",
    "start": "1210280",
    "end": "1215760"
  },
  {
    "text": "react react react element output that was a mouthful um but you can do this with any",
    "start": "1215760",
    "end": "1221760"
  },
  {
    "text": "form of data any form of data type it doesn't have to be react element and to reiterate this is a lower",
    "start": "1221760",
    "end": "1227200"
  },
  {
    "text": "level API you're mostly going to be using these predefined extension creators um and whilst we're not going to be using Create extension directly",
    "start": "1227200",
    "end": "1233200"
  },
  {
    "text": "today I want you to just bear in mind this callout extension is it's going to come in quite useful later in the demo",
    "start": "1233200",
    "end": "1239200"
  },
  {
    "text": "I'm about to show you now okay let's just switch over to the",
    "start": "1239200",
    "end": "1246880"
  },
  {
    "text": "demo and we're going to do this okay so I'm just going to go over to the catalog",
    "start": "1247480",
    "end": "1256039"
  },
  {
    "text": "to the example website so hopefully this is going to seem quite familiar to people um what we have on the right is",
    "start": "1256039",
    "end": "1262960"
  },
  {
    "text": "the app config which comes part of a backstage app and on the left is the catalog entity page right so you can see",
    "start": "1262960",
    "end": "1269240"
  },
  {
    "text": "how we've got a list of extensions on the right and these are uh extensions that are just been added to the",
    "start": "1269240",
    "end": "1276279"
  },
  {
    "text": "app so what we can see here we've got some entity cards here now these are for",
    "start": "1276279",
    "end": "1281799"
  },
  {
    "text": "for extensions that order is important they're disabled by default so that you can enable it them in the extensions",
    "start": "1281799",
    "end": "1287600"
  },
  {
    "text": "array in the order that you want to see them so for instance we've got the about card here I can just go ahead and move",
    "start": "1287600",
    "end": "1293080"
  },
  {
    "text": "this down save it and hopefully it updates in the right order on the left so let's look at configuring uh",
    "start": "1293080",
    "end": "1300480"
  },
  {
    "text": "extensions so Dis Let's look at disabling first actually we can just go ahead and disable this so I'm just going",
    "start": "1300480",
    "end": "1306000"
  },
  {
    "text": "to pass in false to the about card let's say we don't want that anymore just going to remove it there um we have",
    "start": "1306000",
    "end": "1313600"
  },
  {
    "text": "a uh to-do plugin here which is also been added to the entity page",
    "start": "1313600",
    "end": "1318840"
  },
  {
    "text": "this um to-do title actually comes from the extension itself it's default config but I can override that as we showed",
    "start": "1318840",
    "end": "1324279"
  },
  {
    "text": "earlier so let's say let me just pop ahead to this plug in itself let's say I want to change the title of the tab content so I can go ahead and do",
    "start": "1324279",
    "end": "1333159"
  },
  {
    "text": "config oops and then title and then let's say we want to call this road map",
    "start": "1333159",
    "end": "1338320"
  },
  {
    "text": "instead right sure it goes ahead and updates great so this is all nice uh what about adding new extensions",
    "start": "1338320",
    "end": "1344960"
  },
  {
    "text": "so I'm just going to pop over to our settings you can see the themes here so I'm going to go and add a new extension",
    "start": "1344960",
    "end": "1351200"
  },
  {
    "text": "so we're going to add our new theme package that we've built this is called",
    "start": "1351200",
    "end": "1358720"
  },
  {
    "text": "theme so by adding this um to the workspace and to add to the package Json",
    "start": "1358720",
    "end": "1364120"
  },
  {
    "text": "what that means is that the back the DI system is going to collect um any new",
    "start": "1364120",
    "end": "1370600"
  },
  {
    "text": "dependency additions or removals which I'll show you shortly and then automatically bootstrap them into the app so you can see that we've got a new",
    "start": "1370600",
    "end": "1377480"
  },
  {
    "text": "theme Here which is the aperture theme so I can go ahead and click this oops sorry there we go and it's automatically",
    "start": "1377480",
    "end": "1382679"
  },
  {
    "text": "enabled in the app so what about replacing extensions",
    "start": "1382679",
    "end": "1387919"
  },
  {
    "text": "entirely so I mentioned the call layout so the call layout is kind of what you can see here you've got the sidebar and the the actual content so I've got a new",
    "start": "1387919",
    "end": "1396080"
  },
  {
    "text": "extension here which is uh called topnav so what this does once this",
    "start": "1396080",
    "end": "1403720"
  },
  {
    "text": "installed what this does is basically override the implementation for the side with a new navigation component and then",
    "start": "1403720",
    "end": "1410039"
  },
  {
    "text": "override the call layout extension with uh basically changing the order of how it renders so now we can see we've added",
    "start": "1410039",
    "end": "1416279"
  },
  {
    "text": "a top navigation and the actual content of Backstage is rendered underneath so it's super powerful system to be able to",
    "start": "1416279",
    "end": "1422760"
  },
  {
    "text": "change extensions provide your own implementation and do what you like I'm just going to quickly show you how removing extensions works too so I'm",
    "start": "1422760",
    "end": "1428880"
  },
  {
    "text": "just going to remove the top nav hold on I need to crouch down a",
    "start": "1428880",
    "end": "1435520"
  },
  {
    "text": "little bit here I can't write properly uh remove top",
    "start": "1435520",
    "end": "1441279"
  },
  {
    "text": "now yes great okay so let's look at creating our",
    "start": "1441279",
    "end": "1446919"
  },
  {
    "text": "own extensions so I'm just going to pop back here oops",
    "start": "1446919",
    "end": "1453400"
  },
  {
    "text": "so this is what our index TSX looks like so for you already it might look a",
    "start": "1453400",
    "end": "1458640"
  },
  {
    "text": "little bit like this which we're going to come on to shortly which is kind of a lot of react on j6 but for now in this new system it looks a little bit similar",
    "start": "1458640",
    "end": "1464720"
  },
  {
    "text": "to this so you can see that I have an example already um and this has been",
    "start": "1464720",
    "end": "1469760"
  },
  {
    "text": "passed into this features array here and being registered inside the app but because this is not a separate module",
    "start": "1469760",
    "end": "1475120"
  },
  {
    "text": "it's not automatically detected we have to register it manually so what I'm going to do is I'm going to use the",
    "start": "1475120",
    "end": "1480360"
  },
  {
    "text": "create page extension to create as a new rout or a new page inside backstage with",
    "start": "1480360",
    "end": "1486279"
  },
  {
    "text": "just some simple cont simple content so let's go ahead and do uh",
    "start": "1486279",
    "end": "1493000"
  },
  {
    "text": "const example page equals create page",
    "start": "1493000",
    "end": "1499120"
  },
  {
    "text": "extension and this is the extension Creator I was just talking about we need to provide an ID for this so I'm just going to call this",
    "start": "1499120",
    "end": "1505880"
  },
  {
    "text": "welcome page oops uh and then we need to provide it a",
    "start": "1505880",
    "end": "1511320"
  },
  {
    "text": "default path so this is the route that it's going to mount on which we're just going to call it welcome uh and then we need to provide a loader which is going",
    "start": "1511320",
    "end": "1517880"
  },
  {
    "text": "to tell us how to go and uh yeah go and get the react component that's going to be the page component so I'm just going",
    "start": "1517880",
    "end": "1523559"
  },
  {
    "text": "to cheat a little bit here and just do promise. resolve",
    "start": "1523559",
    "end": "1529399"
  },
  {
    "text": "this with like a welcome welcome so thank you co-pilot that'll",
    "start": "1529399",
    "end": "1536880"
  },
  {
    "text": "do and we'll give this a save and then I need to add this to the extensions so I'm going to add this to here and then",
    "start": "1536880",
    "end": "1543320"
  },
  {
    "text": "hopefully if I go and go to the welcome page oops welcome we should see welcome",
    "start": "1543320",
    "end": "1550520"
  },
  {
    "text": "to Backstage yay great and this is all um Cube gone cool nice so that's",
    "start": "1550520",
    "end": "1558320"
  },
  {
    "text": "kind of the simple demo I had for extensions I'm going to pass you back to Patrick now",
    "start": "1558320",
    "end": "1565200"
  },
  {
    "text": "oops there we go all right let's talk about compatibility so it's very",
    "start": "1566399",
    "end": "1574039"
  },
  {
    "text": "important for us that there is a smooth transition to this new system in particular we want to minimize or",
    "start": "1574039",
    "end": "1580039"
  },
  {
    "text": "preferably avoid any breaking changes the plug-in code the the code that actually implements the functionality of",
    "start": "1580039",
    "end": "1586200"
  },
  {
    "text": "your plugins now the new system is built out of two",
    "start": "1586200",
    "end": "1591440"
  },
  {
    "text": "new packages mimicking our existing structure there's a front and app API and a front and plugin API package while",
    "start": "1591440",
    "end": "1598080"
  },
  {
    "text": "these packages won't be complete dropin Replacements a lot of the common apis like use API use rout they're going to",
    "start": "1598080",
    "end": "1604120"
  },
  {
    "text": "remain the same so a migration of a Plugin or migration of most plug-in code",
    "start": "1604120",
    "end": "1609679"
  },
  {
    "text": "is just a matter of running code modes or search and replace now there's been a couple of",
    "start": "1609679",
    "end": "1614799"
  },
  {
    "text": "changes under the hood though uh so plugins build bu using the old core apis for them to be compatible with new apps",
    "start": "1614799",
    "end": "1621360"
  },
  {
    "text": "uh there's a compatibility wrapper that you need to use for now the good news is that uh once the new system is stable",
    "start": "1621360",
    "end": "1627279"
  },
  {
    "text": "enough we'll be able to add forwards compatibility in the old system that lets you uh use plug-in code in the new",
    "start": "1627279",
    "end": "1634279"
  },
  {
    "text": "system and hopefully this makes it as easy as possible to have one plugin that is able to support uh both systems at",
    "start": "1634279",
    "end": "1641360"
  },
  {
    "text": "the same time which is also going to uh help out with app migrations and uh on the topic of app",
    "start": "1641360",
    "end": "1647240"
  },
  {
    "text": "migration they're a little bit different you know app is more or less all wiring uh code",
    "start": "1647240",
    "end": "1653960"
  },
  {
    "text": "from the framework what we found that was what works best here is a top- down approach uh where you start by switching",
    "start": "1653960",
    "end": "1660320"
  },
  {
    "text": "out the root of the app first so for this to work we of course need to be able to uh use the old react based uh",
    "start": "1660320",
    "end": "1667600"
  },
  {
    "text": "app structure in the new app which is why we are going to provide a compatibility rapper for exactly that so",
    "start": "1667600",
    "end": "1674039"
  },
  {
    "text": "after switching out the foundational app you can then slowly move over to the new system one plugin at a time until you",
    "start": "1674039",
    "end": "1680760"
  },
  {
    "text": "have migrated the entire application so let me show you what that looks",
    "start": "1680760",
    "end": "1687640"
  },
  {
    "text": "like and I'm going to switch key switch keyboard layout for this",
    "start": "1687960",
    "end": "1694640"
  },
  {
    "text": "one hey sweet there we go Okay cool so I'm going to jump to that um app ben",
    "start": "1697519",
    "end": "1703519"
  },
  {
    "text": "showed you before so this is a app using uh the current system uh you can see it",
    "start": "1703519",
    "end": "1709559"
  },
  {
    "text": "here to the left as well it has about the same plugins installed as as the other demo app but of course you can see",
    "start": "1709559",
    "end": "1715519"
  },
  {
    "text": "that we have have this react based uh structure that determines uh what apps",
    "start": "1715519",
    "end": "1721159"
  },
  {
    "text": "looks like app looks like so what we're going to do is migrate this app to the new",
    "start": "1721159",
    "end": "1726399"
  },
  {
    "text": "system and as I said we we do it top down we start by switching out the app",
    "start": "1726399",
    "end": "1731760"
  },
  {
    "text": "instance itself so I'm going to change the import of create app here to instead",
    "start": "1731760",
    "end": "1736840"
  },
  {
    "text": "be from our new system I'm also going to add in a compatibility API helper that",
    "start": "1736840",
    "end": "1742919"
  },
  {
    "text": "is going to come in handy so this helper allows us to take a structure from the",
    "start": "1742919",
    "end": "1749720"
  },
  {
    "text": "old our existing system and convert it into plugins and extensions that work in",
    "start": "1749720",
    "end": "1755120"
  },
  {
    "text": "a new app so down here at the root of our existing react structure I wrap",
    "start": "1755120",
    "end": "1762039"
  },
  {
    "text": "everything up uh using our convert Legacy app I then pass that on as features to our new app",
    "start": "1762039",
    "end": "1770159"
  },
  {
    "text": "instance when I save that this app is now migrated and using the new system",
    "start": "1770159",
    "end": "1775360"
  },
  {
    "text": "but with the old react extension structure and I can show you that by heading over to the visualizer here so",
    "start": "1775360",
    "end": "1782440"
  },
  {
    "text": "we still have the old um uh kind of hardcoded sidebar here so we haven't switched the sidebar to the new system",
    "start": "1782440",
    "end": "1788919"
  },
  {
    "text": "but we can see here that we have a couple of extensions right and this tree is a lot smaller because uh this",
    "start": "1788919",
    "end": "1794080"
  },
  {
    "text": "conversion is creates a much flatter structure it just migrates the pages it's not aware of additional extensions",
    "start": "1794080",
    "end": "1800760"
  },
  {
    "text": "that might exist inside um these pages okay so we're run running the new",
    "start": "1800760",
    "end": "1807080"
  },
  {
    "text": "system we still have the old structure what we want to do now is migrate one plugin at a time and move them over to",
    "start": "1807080",
    "end": "1812399"
  },
  {
    "text": "the new system so to do that we want to remove the definition from the old system and we want to install the plugin",
    "start": "1812399",
    "end": "1819480"
  },
  {
    "text": "from the new system now as you know plugins in the new system they are detected automatically and in fact all of the",
    "start": "1819480",
    "end": "1826760"
  },
  {
    "text": "plugins are already installed in this application uh all of the plugins using the new system are already installed in",
    "start": "1826760",
    "end": "1833200"
  },
  {
    "text": "this application the only reason we don't have duplicate installations is because uh these explicitly declared",
    "start": "1833200",
    "end": "1839840"
  },
  {
    "text": "features down here have higher priority but that means that all that I need to do is go ahead and delete the",
    "start": "1839840",
    "end": "1846080"
  },
  {
    "text": "definition from the old structure and that plugin will have been migrated to the new system so you can see we now",
    "start": "1846080",
    "end": "1852480"
  },
  {
    "text": "have a bigger tree of extensions because that entire plugin now runs in the the new",
    "start": "1852480",
    "end": "1858080"
  },
  {
    "text": "system now of course uh for your own uh apps uh you might have internal plugins",
    "start": "1858080",
    "end": "1864760"
  },
  {
    "text": "and uh so it might not just be a matter of deleting code you would need to migrate that plugin and once it's ready",
    "start": "1864760",
    "end": "1870480"
  },
  {
    "text": "to be uh migrated you install it in the new app uh and you grad gradually migrate like that but in this case it's",
    "start": "1870480",
    "end": "1877440"
  },
  {
    "text": "all uh open source plugin that all plugins that already support both systems so I can keep deleting plugins",
    "start": "1877440",
    "end": "1884399"
  },
  {
    "text": "uh one at a time until what we have left is just well um nothing really we can get rid of",
    "start": "1884399",
    "end": "1891039"
  },
  {
    "text": "this too this is just empty um routs at this point we can clean up our Imports",
    "start": "1891039",
    "end": "1897039"
  },
  {
    "text": "and this app is now completely migrated to the new system uh and it has a lot",
    "start": "1897039",
    "end": "1902120"
  },
  {
    "text": "less",
    "start": "1902120",
    "end": "1904360"
  },
  {
    "text": "code there it is and we have slides again cool uh that was the demo slide and now",
    "start": "1907720",
    "end": "1915240"
  },
  {
    "text": "okay so I want to show you the timeline uh I know you're going to be curious about this our hope is to be able to ship an alpha release at the end of this",
    "start": "1915240",
    "end": "1922000"
  },
  {
    "text": "year but no promises um we're looking at still an early release uh and you should",
    "start": "1922000",
    "end": "1928399"
  },
  {
    "text": "not be migrating your production applications even uh at this point uh but there will be a complete system uh",
    "start": "1928399",
    "end": "1934200"
  },
  {
    "text": "for you to try out and we are looking forward to your feedback thank",
    "start": "1934200",
    "end": "1941000"
  },
  {
    "text": "you",
    "start": "1944799",
    "end": "1947799"
  }
]