[
  {
    "start": "0",
    "end": "15000"
  },
  {
    "text": "thank you kiss can you guys hear me but",
    "start": "210",
    "end": "5730"
  },
  {
    "text": "afternoon come on it's after lunch come on good afternoon",
    "start": "5730",
    "end": "12080"
  },
  {
    "text": "thanks for joining us today we today we're going to talk about kubernetes and",
    "start": "12080",
    "end": "17790"
  },
  {
    "start": "15000",
    "end": "15000"
  },
  {
    "text": "sto at Yahoo and what we have done what's the scale here running and what are challenges some of the integration",
    "start": "17790",
    "end": "23700"
  },
  {
    "text": "we have done so if you look at this slide right over here the couple of things it says numeronius like this is",
    "start": "23700",
    "end": "29940"
  },
  {
    "text": "early 2017 before we started this community support and East your effort",
    "start": "29940",
    "end": "35340"
  },
  {
    "text": "you can see another n number of stack a number of team that has their own way of",
    "start": "35340",
    "end": "40920"
  },
  {
    "text": "tools and things they built and duplication across right and we try to avoid this how can be unify this so that",
    "start": "40920",
    "end": "47309"
  },
  {
    "text": "there's single way for us to deploy the code can dimerize the code and there is no duplication across the team out there",
    "start": "47309",
    "end": "54600"
  },
  {
    "text": "how are we looking today you can see over here everything is containerized but you talk about no java even read",
    "start": "54600",
    "end": "63390"
  },
  {
    "text": "this like stateful application we are running in kubernetes today at scale and all of them are containerized and we use",
    "start": "63390",
    "end": "70820"
  },
  {
    "text": "kubernetes as an orchestration layer and we deployed in our own prim cluster so",
    "start": "70820",
    "end": "75899"
  },
  {
    "text": "to just to add you can see that yahoo sports yahoo finance all this critical application today is completely sort of",
    "start": "75899",
    "end": "82649"
  },
  {
    "text": "kubernetes tack and also adapting kubernetes it also gave us an option so that in the future we want to take",
    "start": "82649",
    "end": "89310"
  },
  {
    "text": "advantage of any of the public cloud offering we can just run the application out there without making any code change",
    "start": "89310",
    "end": "95670"
  },
  {
    "text": "or modification to the applications so that's what we actually just to continue",
    "start": "95670",
    "end": "102469"
  },
  {
    "text": "this takes time ok just to some numbers out there right we've been running",
    "start": "102469",
    "end": "108210"
  },
  {
    "start": "104000",
    "end": "104000"
  },
  {
    "text": "kubernetes for last two years we have nine hundred ninety plus application and",
    "start": "108210",
    "end": "113640"
  },
  {
    "text": "this allows stateless application which is serving sports Arriaga commerce finance not yahoo.com",
    "start": "113640",
    "end": "119100"
  },
  {
    "text": "even yahoo.com poser sword from Cabela's cluster and we are distributed across seven different data center across the",
    "start": "119100",
    "end": "125909"
  },
  {
    "text": "world and we are doing 1.5 million RPS at the edge that's an ingress layer and",
    "start": "125909",
    "end": "131120"
  },
  {
    "text": "we also have stateful application like all our key value store Redis which is a",
    "start": "131120",
    "end": "136860"
  },
  {
    "text": "chair and as well as we discussed doing all of those things runs in communities today and we have an awesome operator",
    "start": "136860",
    "end": "143159"
  },
  {
    "text": "which manage this Redis Buster is it's a way that moving the shard and rebalancing the shard whenever",
    "start": "143159",
    "end": "148650"
  },
  {
    "text": "the pod goes down and new part getting added so I talked about 18 production",
    "start": "148650",
    "end": "158250"
  },
  {
    "start": "155000",
    "end": "155000"
  },
  {
    "text": "great cluster I had from the previous things out of that the nine of them are production remaining are from canary",
    "start": "158250",
    "end": "163650"
  },
  {
    "text": "environment where we do traffic and see how the performance and application",
    "start": "163650",
    "end": "168780"
  },
  {
    "text": "before we roll it out the changes to production this is just a graph on I really like this dashboard there it",
    "start": "168780",
    "end": "174330"
  },
  {
    "text": "gives the federated view of like how are we doing across my production cluster so in production today as I was mentioning",
    "start": "174330",
    "end": "180720"
  },
  {
    "text": "we have how close to close to thousand",
    "start": "180720",
    "end": "186330"
  },
  {
    "text": "application it's just one more week we'll be hitting 1k applications and we have close to we integrated with NetApp",
    "start": "186330",
    "end": "193680"
  },
  {
    "text": "Trident for the storage so we have you can see that precision volumes all the stats is completely available from the",
    "start": "193680",
    "end": "199470"
  },
  {
    "text": "Cape federated refer now so how does a Agrico system look like today with kubernetes right it's a very high level",
    "start": "199470",
    "end": "209000"
  },
  {
    "start": "208000",
    "end": "208000"
  },
  {
    "text": "so you can see those components which are in orange are those things which we",
    "start": "209000",
    "end": "214020"
  },
  {
    "text": "have built and remaining everything we took it from the open source wall and we are running so to your left",
    "start": "214020",
    "end": "219950"
  },
  {
    "text": "yes to your left right to your left you can see that there is an ingress",
    "start": "219950",
    "end": "225360"
  },
  {
    "text": "controller the ingress controllers Apache traffic server based this is an ingress controller we are using Apache",
    "start": "225360",
    "end": "230700"
  },
  {
    "text": "for various reason because it's from Yahoo it has lots of plug-in it's needed for our application to spits out so this",
    "start": "230700",
    "end": "236640"
  },
  {
    "text": "is an ingress layer which is trying to do 1.5 million RPS and that has been integrated with kubernetes api where it",
    "start": "236640",
    "end": "242580"
  },
  {
    "text": "dynamically finds this endpoint and feed it to that ingress controller so when the request comes in it knows where the",
    "start": "242580",
    "end": "247890"
  },
  {
    "text": "dynamically changing pod IPS are and you can also see to your left there is an internet request",
    "start": "247890",
    "end": "253800"
  },
  {
    "text": "site and these are the requests from either employed portal are those services which are not deployed in",
    "start": "253800",
    "end": "259260"
  },
  {
    "text": "kubernetes and trying to connect to your service in communities so those requests we use and why so it's still managed in",
    "start": "259260",
    "end": "266010"
  },
  {
    "text": "why and if you look at your ride as a screwdriver a screwdriver is our CA C D",
    "start": "266010",
    "end": "271380"
  },
  {
    "text": "platform and this is where we put lots of effort to comply slicing so that the user can leverage without understanding",
    "start": "271380",
    "end": "277560"
  },
  {
    "text": "and tell ecosystem of kubernetes resource and object and everything we'll be talking about that in the",
    "start": "277560",
    "end": "283120"
  },
  {
    "text": "upcoming slides and you can also say something I'll Athens out there Athens is our open source platform for service",
    "start": "283120",
    "end": "289900"
  },
  {
    "text": "identity as well as fine-grain our back system and we have built webhook in",
    "start": "289900",
    "end": "295719"
  },
  {
    "text": "communities where is integrated with Athens to do service authentication user authentication user are back and service",
    "start": "295719",
    "end": "303550"
  },
  {
    "text": "are back so I just talked about Athens",
    "start": "303550",
    "end": "309960"
  },
  {
    "text": "so this open source platform it's available you guys want to take a look at that you can go to this particular",
    "start": "310740",
    "end": "316779"
  },
  {
    "text": "water and it's just said this is service identity user identity and find going",
    "start": "316779",
    "end": "321879"
  },
  {
    "text": "our back system for the dynamic infrastructure so what's in the pot right",
    "start": "321879",
    "end": "327189"
  },
  {
    "start": "325000",
    "end": "325000"
  },
  {
    "text": "every a part which is getting deployed into our kubernetes cluster we have three be false ID cards right",
    "start": "327189",
    "end": "332949"
  },
  {
    "text": "it's mandate you there's no way you can get out of this so there are three side colors orange are logging sidecar which",
    "start": "332949",
    "end": "340300"
  },
  {
    "text": "takes a log file and send it to your logging infrastructure it could be Splunk or it could be any other associates you have and you have matrix",
    "start": "340300",
    "end": "347589"
  },
  {
    "text": "ID card this one is to take the matrix and send it to primitives our per se we have our one on frame monitoring",
    "start": "347589",
    "end": "354639"
  },
  {
    "text": "solution called Yama's we can also send the data out there and we have sia so what is here the service identity agent",
    "start": "354639",
    "end": "361060"
  },
  {
    "text": "and service identity agents responsibility is to make sure that give a unique identity to every workload",
    "start": "361060",
    "end": "366819"
  },
  {
    "text": "deployed right and every part which is deployed in our platform as a very short-lived unique identity which is",
    "start": "366819",
    "end": "374050"
  },
  {
    "text": "provisioned through Athens so we'll be discussing more about that and we have NY which uses that certificate for more",
    "start": "374050",
    "end": "380169"
  },
  {
    "text": "it's for listening as well as as a client certificate and those services which is not using sto service miss in a",
    "start": "380169",
    "end": "388689"
  },
  {
    "text": "more of service to service we don't have that anyone those services which is using NY even have that enjoy as a",
    "start": "388689",
    "end": "394539"
  },
  {
    "text": "sidecar sorry miss % so I talked about hey we have 18 clusters and we are",
    "start": "394539",
    "end": "402249"
  },
  {
    "start": "397000",
    "end": "397000"
  },
  {
    "text": "managing this cluster how are we building this cluster what does it mean for us right and how there are ten",
    "start": "402249",
    "end": "407709"
  },
  {
    "text": "multi-tenancy the way we define multi-tenancy right and today i call a soft multi-tenancy for the reason is",
    "start": "407709",
    "end": "413970"
  },
  {
    "text": "like there is not we will be building we don't build a kubernetes cluster for every application out there right and we",
    "start": "413970",
    "end": "420270"
  },
  {
    "text": "build one cluster we try to share it with all the application out there so we call soft multi-tenancy because they are",
    "start": "420270",
    "end": "425280"
  },
  {
    "text": "isolated through a namespace and to add to that we also build single tenancy",
    "start": "425280",
    "end": "431610"
  },
  {
    "text": "cluster to its based on the use case as well as a security requirement if our security team says that this data is",
    "start": "431610",
    "end": "437639"
  },
  {
    "text": "very sensitive you cannot be co-located with some other non sensitive application in that case we build a dedicated cluster F if not we",
    "start": "437639",
    "end": "445380"
  },
  {
    "text": "just share the cluster so better utilization better isolation and to",
    "start": "445380",
    "end": "451229"
  },
  {
    "text": "continue like you wants to have a soft multi-tenancy and the next thing is like we don't make the changes even the",
    "start": "451229",
    "end": "457349"
  },
  {
    "text": "cluster change there are other applications you just don't make a change and then try to push it to across all the data center at the same time to",
    "start": "457349",
    "end": "463259"
  },
  {
    "text": "avoid blast radius our push processes Maurice you can shall we do one Colo and we have metrics based promotion which",
    "start": "463259",
    "end": "469409"
  },
  {
    "text": "will take that value and see how the changes are and then if that satisfies all the requirements of the latency is",
    "start": "469409",
    "end": "475740"
  },
  {
    "text": "not high there is no less there's no more 5xx or any other error code only then it promotes you the next cluster in",
    "start": "475740",
    "end": "481800"
  },
  {
    "text": "a very sequential way we deploy our changes I talked about say hey we provide this off multi-tenancy that",
    "start": "481800",
    "end": "488639"
  },
  {
    "text": "means like hey if we a user from namespace da you should not be able to be where access resource from namespace",
    "start": "488639",
    "end": "495180"
  },
  {
    "text": "be if say that hey keep CTL get part in the name sports namespace if it is not",
    "start": "495180",
    "end": "501419"
  },
  {
    "text": "part of that particular namespace you should not get do those operations so what we have done over here right over",
    "start": "501419",
    "end": "507150"
  },
  {
    "text": "here you can see that every namespace in kubernetes is mapped to an Athens don't mind so kate s finance caters as a",
    "start": "507150",
    "end": "514020"
  },
  {
    "text": "namespace in communities it's mapped to a final skaters domain in Athens so you to our line you can see to your left",
    "start": "514020",
    "end": "520860"
  },
  {
    "text": "right on to my right your left you see in the 80s I define the policy what am i",
    "start": "520860",
    "end": "526079"
  },
  {
    "text": "saying out here if you look at the policy right I'm saying that hey hello get list create these are a bunch of",
    "start": "526079",
    "end": "534000"
  },
  {
    "text": "action I'm allowing it for the resource quickens considered communicator spawned",
    "start": "534000",
    "end": "539940"
  },
  {
    "text": "part exactly deployment for this resource I'm allowing this operation but that particular",
    "start": "539940",
    "end": "545430"
  },
  {
    "text": "roll you can see that kate has deployed as a role right now that role whoever is member of the role you can't do this",
    "start": "545430",
    "end": "552120"
  },
  {
    "text": "operation so we can go do this fine-grain her back in Athens now if we have in use case where hey I want to",
    "start": "552120",
    "end": "558810"
  },
  {
    "text": "make sure that certain developer has very less access to my production",
    "start": "558810",
    "end": "564570"
  },
  {
    "text": "instance you can go and create in policy we said that he can only view log file and he cannot do exact or delete or any",
    "start": "564570",
    "end": "571709"
  },
  {
    "text": "of such operation on any of the resources in production and he can be in a separate code role called hip",
    "start": "571709",
    "end": "576959"
  },
  {
    "text": "developer and he has very minimum access so he can define that fine grain access with Athens and that's all we manage",
    "start": "576959",
    "end": "583500"
  },
  {
    "text": "such a way that user name space is mapped and Athens domain and the responsibility of that a test domain",
    "start": "583500",
    "end": "589399"
  },
  {
    "text": "admin is defining this policy we are based on his need so I talked about user",
    "start": "589399",
    "end": "596339"
  },
  {
    "text": "right in the previous slide I was talking about the user is part of this particular road perfect on time oh he's",
    "start": "596339",
    "end": "605310"
  },
  {
    "text": "not going to reboot my laptop so now when a user is interacting I was saying",
    "start": "605310",
    "end": "610709"
  },
  {
    "text": "that every user has an identity right it's a ten provisioned identity so now I",
    "start": "610709",
    "end": "616260"
  },
  {
    "text": "am going to interact with kubernetes api right I'm going to say that a cube C tailgate part and the finance namespace",
    "start": "616260",
    "end": "621630"
  },
  {
    "text": "right I'm going to pass my certificate this is my user certificate you can see the common name it says Suresh you said",
    "start": "621630",
    "end": "629070"
  },
  {
    "text": "that Suresh P now when I interact with the kubernetes api kubernetes api understand it can attend the gate that",
    "start": "629070",
    "end": "634920"
  },
  {
    "text": "request because kubernetes api runs with its own CA as well as 8 and CA because",
    "start": "634920",
    "end": "640140"
  },
  {
    "text": "he knows a thon CA he can authenticate this user now that okay fine we are authenticated is that enough know",
    "start": "640140",
    "end": "647010"
  },
  {
    "text": "anyone can be authenticated because everyone can fetch and it answer to every employer out there in which an",
    "start": "647010",
    "end": "652079"
  },
  {
    "text": "Athens identity attend certificate for themselves the next step towards status authorization right this is a people",
    "start": "652079",
    "end": "659310"
  },
  {
    "text": "this hook is primary responsibility is to make sure now that I Hugh made an operation I've attending ated you the",
    "start": "659310",
    "end": "665579"
  },
  {
    "text": "next step is together you are authorized to do that operation so let's look at this right Suresh as an user",
    "start": "665579",
    "end": "671250"
  },
  {
    "text": "he's trying to get deployment and a finance namespace we take the subject access review and then what we do is",
    "start": "671250",
    "end": "676950"
  },
  {
    "text": "we'll try to translate and forward to Athens you can see that you are at them and you can see that it's sending to Athens and",
    "start": "676950",
    "end": "683430"
  },
  {
    "text": "expecting Athens to do the validation check against the policy and response",
    "start": "683430",
    "end": "688540"
  },
  {
    "text": "back boolean weather allowed or denied okay if you are and user who's allowed",
    "start": "688540",
    "end": "693730"
  },
  {
    "text": "to do this particular operation from the hour by definition the policy definition I was mentioning the response will be",
    "start": "693730",
    "end": "698770"
  },
  {
    "text": "alone it's not denied and we respond back saying that you attend I do not allow to do this operation so now that",
    "start": "698770",
    "end": "706300"
  },
  {
    "text": "Athens is a very critical part of our system like every interaction every kubernetes api interaction which you try",
    "start": "706300",
    "end": "711460"
  },
  {
    "text": "to do is goes to athens so we try to avoid that network hub or per say athens",
    "start": "711460",
    "end": "717280"
  },
  {
    "text": "being single point of failure for us so we have optimized our web box is aware",
    "start": "717280",
    "end": "722320"
  },
  {
    "text": "that the entire athens policy definition as a role definition as a member information everything is cached locally",
    "start": "722320",
    "end": "729010"
  },
  {
    "text": "so that the web who can make the authorization locally without making a",
    "start": "729010",
    "end": "734200"
  },
  {
    "text": "network hop calls this gave us a better performance for the user and then also like hey a wider athens being a single",
    "start": "734200",
    "end": "740710"
  },
  {
    "text": "point of failure that point of time now that I talked about kubernetes cluster and then how the clusters are build",
    "start": "740710",
    "end": "747130"
  },
  {
    "text": "however authentication model is I wish our attrition model is how do we define tenancy and sought multi-tenancy our",
    "start": "747130",
    "end": "753610"
  },
  {
    "text": "multi-tenancy next thing we want to do is like bring in hto to this world right and why are",
    "start": "753610",
    "end": "760930"
  },
  {
    "text": "we looking each to your day okay why service miss like you guys are can read",
    "start": "760930",
    "end": "767110"
  },
  {
    "text": "this you can find the same definition from the hto portal awesome feature zero",
    "start": "767110",
    "end": "773410"
  },
  {
    "text": "code change right and then lots of other advanced features such as circuit breaking with me all this feature",
    "start": "773410",
    "end": "779020"
  },
  {
    "text": "because one of main reason is like we lift and shifter this application which has been running in the bare metal and",
    "start": "779020",
    "end": "784780"
  },
  {
    "text": "to containerized world right if they have to go ahead and enable and bring",
    "start": "784780",
    "end": "790330"
  },
  {
    "text": "this kind of feature we need to rebuild this feature into all the languages which out there if you want to build a circuit breaking right you need to build",
    "start": "790330",
    "end": "796450"
  },
  {
    "text": "a library for every language out there select large of duplication right so this was fitting our bill when we saw",
    "start": "796450",
    "end": "802480"
  },
  {
    "text": "that okay i can bring this particular stack it can I can do lots of things even even unify and consistent be get the authentication",
    "start": "802480",
    "end": "809440"
  },
  {
    "text": "or authorization circuit breaking all these features instead of building libraries across many different language",
    "start": "809440",
    "end": "814839"
  },
  {
    "text": "x3 that's what primary skills so just to add our service miss layer is sto and I",
    "start": "814839",
    "end": "821980"
  },
  {
    "start": "817000",
    "end": "817000"
  },
  {
    "text": "just want to make sure that I give credit to the sto team because in last one a half years we have been working",
    "start": "821980",
    "end": "827470"
  },
  {
    "text": "with your team and teams from Google but an early engagement program to bring",
    "start": "827470",
    "end": "833529"
  },
  {
    "text": "history into Yahoo so we've been running in production a last almost as an English layer in the English player for",
    "start": "833529",
    "end": "840250"
  },
  {
    "text": "last 100 years and we are now pushing changes towards their service to service",
    "start": "840250",
    "end": "845260"
  },
  {
    "text": "is also has an invite proxy as default option so they're not there it as I was",
    "start": "845260",
    "end": "851920"
  },
  {
    "text": "talking previously not all the part which in production in kubernetes has",
    "start": "851920",
    "end": "857260"
  },
  {
    "text": "the invoice ID card it's less than five percentage of the work floor has that one in 2020 what we like to get his",
    "start": "857260",
    "end": "866130"
  },
  {
    "text": "secure communication energy Electress network every service the service communication you would like to make",
    "start": "866130",
    "end": "871990"
  },
  {
    "text": "sure that is encrypted right and Stephen and why is a default things because we",
    "start": "871990",
    "end": "877180"
  },
  {
    "text": "can do in a very unified way authentication authorization I can do it in very unified way right and without",
    "start": "877180",
    "end": "882520"
  },
  {
    "text": "duplicating the piece of code across many different languages exiting so we work with them to roll it out we",
    "start": "882520",
    "end": "889750"
  },
  {
    "text": "test it out and today in production we reuse ingress as an wine without date",
    "start": "889750",
    "end": "895209"
  },
  {
    "text": "five person which are less than 5% of the workload is running bit and were sidecar so when we talk about secured",
    "start": "895209",
    "end": "902589"
  },
  {
    "start": "901000",
    "end": "901000"
  },
  {
    "text": "communication with each do you can see that this is how the flow looks like so the service EFI is going to communicate",
    "start": "902589",
    "end": "910089"
  },
  {
    "text": "to service B right the service makes HTTP call to dependency and the proxy in",
    "start": "910089",
    "end": "915250"
  },
  {
    "text": "the EPI layer appears that connection to a mutual TLS and he makes a connection to NY right and then NY senses to",
    "start": "915250",
    "end": "922360"
  },
  {
    "text": "service be locally in HTTP con now that we said that you want to encrypt this connection that means NY need a",
    "start": "922360",
    "end": "928720"
  },
  {
    "text": "certificate right and this is where ever see a comes into picture",
    "start": "928720",
    "end": "933870"
  },
  {
    "text": "what's the CS job I was just mentioning his primary job is to mint a certificate for every workload deployed out there",
    "start": "933870",
    "end": "940480"
  },
  {
    "text": "very unique short-lived certificate how did we do that right so in a second we build a",
    "start": "940480",
    "end": "953649"
  },
  {
    "text": "cool Yahoo skaters identity provided this primary job is to mint a unique identity for every part out there and",
    "start": "953649",
    "end": "960490"
  },
  {
    "text": "it's also periodically refers to the identity right and every certificate which is issued to the service it is",
    "start": "960490",
    "end": "967240"
  },
  {
    "text": "based short-lived X to PI zero nine certificate how does it work you can see the flow out here right and you can see",
    "start": "967240",
    "end": "974379"
  },
  {
    "start": "970000",
    "end": "970000"
  },
  {
    "text": "when a part is getting created right when the part is getting created in the node where the cubelet is running when",
    "start": "974379",
    "end": "979810"
  },
  {
    "text": "it's trying to create the part we have a flex volume driver this primary job is to create the amount and created token",
    "start": "979810",
    "end": "988209"
  },
  {
    "text": "ID which is a unique token ID to the particular part and give that mount information to see a sidecar and what",
    "start": "988209",
    "end": "995050"
  },
  {
    "text": "that mount exists is an UDA socket - an identity agent process which is running locally on the node so now that the",
    "start": "995050",
    "end": "1001439"
  },
  {
    "text": "creation process is done the startup sequence starts so when the CF starts what he's trying to do out here is like",
    "start": "1001439",
    "end": "1008610"
  },
  {
    "text": "a I want a certificate right and he's going to take that token ID which was monitored part of the creation process",
    "start": "1008610",
    "end": "1014160"
  },
  {
    "text": "and he makes a cut using the UDS he makes a call to identity agent and I didn'ti agent the guy which is a process",
    "start": "1014160",
    "end": "1021240"
  },
  {
    "text": "running in the node it takes that one and validates is a valid token ID because he has that information because",
    "start": "1021240",
    "end": "1026850"
  },
  {
    "text": "the flux volume driver created that locally as well as in Silesia as a read-only mode in say this year",
    "start": "1026850",
    "end": "1032459"
  },
  {
    "text": "once he validate this valley token ID he wins he gets additional information about the part from the cube let the API",
    "start": "1032459",
    "end": "1038579"
  },
  {
    "text": "locally if everything happens within the box right the equivalent API response pack all the metadata information about",
    "start": "1038579",
    "end": "1043949"
  },
  {
    "text": "the part such as his IP service account all those information once you have the",
    "start": "1043949",
    "end": "1048960"
  },
  {
    "text": "complete metadata information you take that one I didn't take that one and he makes a calls to Athens now Athens got a",
    "start": "1048960",
    "end": "1056640"
  },
  {
    "text": "request with the CSI asking someone to mint a certificate so what does Etta's do that records is also was attested",
    "start": "1056640",
    "end": "1062640"
  },
  {
    "text": "with JWT but Athens cannot validate the certificate the JWT for the reason",
    "start": "1062640",
    "end": "1068100"
  },
  {
    "text": "because it doesn't have the key to validate the date ability and the letters also need to know that Who am I",
    "start": "1068100",
    "end": "1073860"
  },
  {
    "text": "meeting this get fun is this lab valid guy there's some random guy some of the invading the CSI with all the part meta information",
    "start": "1073860",
    "end": "1080130"
  },
  {
    "text": "and he's sending to Athens that Athens going to meet the certificate for him it's not like that so Athens would want to make sure that is a valid guy what is",
    "start": "1080130",
    "end": "1086760"
  },
  {
    "text": "that a tenth does is he takes that information and he sends it to our identity provider so you can see the identity provider what they he's the",
    "start": "1086760",
    "end": "1093930"
  },
  {
    "text": "primary job of him is like take that information validate the jet ability and he makes sure that the part meta",
    "start": "1093930",
    "end": "1100050"
  },
  {
    "text": "information which was passed from cubelet and he valid against cubelet api those information are lied once the",
    "start": "1100050",
    "end": "1106530"
  },
  {
    "text": "validation is done then he responds backs to it and saying that he's a valid guy he's a valid part is still running",
    "start": "1106530",
    "end": "1112440"
  },
  {
    "text": "in kubernetes cluster you can mint a certificate for him then he attempts means a certificate and he passes to",
    "start": "1112440",
    "end": "1117900"
  },
  {
    "text": "either in the agent and identity agent gives to SIA and CMO gives the certificate as amount to NY so now that",
    "start": "1117900",
    "end": "1124620"
  },
  {
    "text": "NY has a certificate it can use that certificate as a listening certificate as well as the client certificate you",
    "start": "1124620",
    "end": "1130410"
  },
  {
    "text": "know that NY has a file watch on the directory whenever the certificate changes it reloads it and these",
    "start": "1130410",
    "end": "1136860"
  },
  {
    "text": "certificates are very short-lived not more than four or five hours so they periodically refresh it we can also go",
    "start": "1136860",
    "end": "1142740"
  },
  {
    "text": "up grosu far now it's like four to five hours so once you have the certificate",
    "start": "1142740",
    "end": "1148620"
  },
  {
    "text": "that anyone has the certificate right and next step is to enable authentication what happens meaning enable at the negation initiative right",
    "start": "1148620",
    "end": "1155340"
  },
  {
    "text": "and NY comes with an odd filter his primary responsibility is to make sure",
    "start": "1155340",
    "end": "1161130"
  },
  {
    "text": "that he validates the incoming client certificate once he validates he extract",
    "start": "1161130",
    "end": "1166260"
  },
  {
    "text": "the principal from the spiffy URI and sits that principle why is that confer",
    "start": "1166260",
    "end": "1171360"
  },
  {
    "text": "is important because once you are attending ated the next step towards this authorization right so you need",
    "start": "1171360",
    "end": "1176490"
  },
  {
    "text": "that principal to authorize whether the user who's connecting you are you sir are the service connecting to you it's authorized to do the job or not you can",
    "start": "1176490",
    "end": "1184380"
  },
  {
    "text": "see the sample spiffy certificate how there has issued by Athens and you can take the principle from that",
    "start": "1184380",
    "end": "1190340"
  },
  {
    "text": "particularly one eye the next step towards is like hey I have said the principle is authenticated request",
    "start": "1190340",
    "end": "1196490"
  },
  {
    "text": "whether he's allowed to do that operation its next step is authorization we want to natively use the enjoy our",
    "start": "1196490",
    "end": "1202130"
  },
  {
    "start": "1199000",
    "end": "1199000"
  },
  {
    "text": "back ok so that's in line with the request and it's not that we are making a request our additional network of a",
    "start": "1202130",
    "end": "1207530"
  },
  {
    "text": "local call to authorize the request we want to make sure it's in line right and",
    "start": "1207530",
    "end": "1213130"
  },
  {
    "text": "what happens when you have an inline our back like NYK request take the principal",
    "start": "1213130",
    "end": "1218360"
  },
  {
    "text": "validate against this policy and he responds back is allowed are denied so now that and boy has to make the",
    "start": "1218360",
    "end": "1225230"
  },
  {
    "text": "decision that means that anyway I need that information about how the policy information how do I make this a no",
    "start": "1225230",
    "end": "1230660"
  },
  {
    "text": "motive right so in each team I mean the our back is defined as integrated Satan's well tooth custom resources get",
    "start": "1230660",
    "end": "1238430"
  },
  {
    "text": "created when it's called service road and other ones called service road binding and when these two resources were created the pilot responsibility is",
    "start": "1238430",
    "end": "1245690"
  },
  {
    "text": "to take this to custom resource and then push the configuration to NY so the NY can't make the dish and locally right in",
    "start": "1245690",
    "end": "1253040"
  },
  {
    "text": "part of the request role but I was mentioning Athens is our our back system",
    "start": "1253040",
    "end": "1258380"
  },
  {
    "text": "okay we want to define the are back in Athens we are not going to create this year CR and service role and service or",
    "start": "1258380",
    "end": "1266510"
  },
  {
    "text": "binding but everything which is manually are to a pipeline so we build this controller what's this primary job of",
    "start": "1266510",
    "end": "1273650"
  },
  {
    "text": "this controller is to let the user define their policies in Athens we take",
    "start": "1273650",
    "end": "1279140"
  },
  {
    "text": "the information from Athens and create this to resource which is custom role and Istanbul binding and once you create",
    "start": "1279140",
    "end": "1285050"
  },
  {
    "text": "that one then pilots take the responsibility to push this configure in why so NY can make edition very locally",
    "start": "1285050",
    "end": "1290500"
  },
  {
    "text": "so what happens over here you are a service provider okay what you're trying to say is like hey I am going a low get",
    "start": "1290500",
    "end": "1297770"
  },
  {
    "start": "1291000",
    "end": "1291000"
  },
  {
    "text": "for me I'm an integration or being integration service provider I am going to allow get operation for all my v1",
    "start": "1297770",
    "end": "1305420"
  },
  {
    "text": "user API star every API I'm going to allow to this particular role you can see there is a role creator called Y",
    "start": "1305420",
    "end": "1312290"
  },
  {
    "text": "finest customer care prod access and non products us so whoever is member of you can look at the role definition partner",
    "start": "1312290",
    "end": "1318140"
  },
  {
    "text": "to particular guy you can see in there to your left you can see there your role definition which says that he",
    "start": "1318140",
    "end": "1324850"
  },
  {
    "text": "way micro-service custom care products s so whoever is part of that particular role is its authorized to make a get",
    "start": "1324850",
    "end": "1331960"
  },
  {
    "text": "call are allowed to do the get call on this set up in EPS so we take this information what you're trying to do is",
    "start": "1331960",
    "end": "1337540"
  },
  {
    "text": "if you want to allow service a if you also want to allow service be all you have to do is go to the Athens UI and",
    "start": "1337540",
    "end": "1343630"
  },
  {
    "text": "add the service as part of your member list if you're done in next few milliseconds we take that information",
    "start": "1343630",
    "end": "1349690"
  },
  {
    "text": "and push it to see we create the to see us and then n more pilot takes care from",
    "start": "1349690",
    "end": "1356470"
  },
  {
    "text": "there and pushing to NY so the authorization happens very very quickly we were able to push this computation very dynamically this is high-level how",
    "start": "1356470",
    "end": "1364300"
  },
  {
    "text": "the the controller works it takes information from Athens and then just",
    "start": "1364300",
    "end": "1369760"
  },
  {
    "text": "creates the tools here and once that yesterday its pilot responsibilities push the configuration so that he can",
    "start": "1369760",
    "end": "1375250"
  },
  {
    "text": "make the Dacian very locally so with this approach we can see that the yard in kubernetes and we're running heavily",
    "start": "1375250",
    "end": "1381130"
  },
  {
    "text": "on communities and we got easier to do the authentication authorization and how",
    "start": "1381130",
    "end": "1386410"
  },
  {
    "text": "we have integrated with our own CA and our own identity provider Athens right",
    "start": "1386410",
    "end": "1391470"
  },
  {
    "text": "now that we have done this work and in 2020 we going to make sure that all other services also running mutual TLS",
    "start": "1391470",
    "end": "1398770"
  },
  {
    "text": "and encrypted at any gate and at rest how did we get here right we have like thousand plus application on board are",
    "start": "1398770",
    "end": "1404470"
  },
  {
    "text": "out here in last two years right that means that we have to give a very good user experience who wants to unroll to",
    "start": "1404470",
    "end": "1411160"
  },
  {
    "text": "the service to gain all the benefit out of it how does our developer experience looks like who went to use our kubernetes",
    "start": "1411160",
    "end": "1417040"
  },
  {
    "text": "cluster and enable bring the workload to communities and then enable mutual TLS and things let's let more on my talk",
    "start": "1417040",
    "end": "1423580"
  },
  {
    "text": "about the developer user experience so",
    "start": "1423580",
    "end": "1431920"
  },
  {
    "text": "when we embarked on our journey with kubernetes almost three years ago we were faced with the enormous challenge",
    "start": "1431920",
    "end": "1437020"
  },
  {
    "text": "of having to migrate hundreds of our existing applications onto this new platform as today's mentioned previously",
    "start": "1437020",
    "end": "1443230"
  },
  {
    "text": "all of these applications were had their own diverse technology stacks and they had their own independent deployment",
    "start": "1443230",
    "end": "1449140"
  },
  {
    "text": "pipelines so right from the start we wanted to ensure that we present a simple and concise",
    "start": "1449140",
    "end": "1454770"
  },
  {
    "text": "developer experience for our developers so some design goals that we kept in",
    "start": "1454770",
    "end": "1460170"
  },
  {
    "start": "1458000",
    "end": "1458000"
  },
  {
    "text": "mind the first one was simplicity we wanted to design an easy and self-service onboarding procedure so",
    "start": "1460170",
    "end": "1466740"
  },
  {
    "text": "that our developers would not need a lot of hand-holding from our side when they were onboarding their applications onto",
    "start": "1466740",
    "end": "1471960"
  },
  {
    "text": "this platform the next thing that we realized was that when you deploy an application onto kubernetes you need to",
    "start": "1471960",
    "end": "1478200"
  },
  {
    "text": "know you need to have the knowledge of multiple kubernetes resources for example is like a deployment service",
    "start": "1478200",
    "end": "1483420"
  },
  {
    "text": "ingress etc so this would prove to be a very steep learning curve for our developers if they had to go and learn",
    "start": "1483420",
    "end": "1488700"
  },
  {
    "text": "all of those things so we decided to build an abstraction layer which would take away some of that in-depth",
    "start": "1488700",
    "end": "1494340"
  },
  {
    "text": "knowledge that was required so we built a single simple yamin that would be able to configure all of their application",
    "start": "1494340",
    "end": "1500220"
  },
  {
    "text": "configuration and this would make it an easy and fast migration path for these developers the next mole that we kept in",
    "start": "1500220",
    "end": "1506970"
  },
  {
    "text": "mind was flexibility so while we took care to define certain same defaults we",
    "start": "1506970",
    "end": "1512190"
  },
  {
    "text": "want also wanted our developers to be able to override those with application specific settings and the last design",
    "start": "1512190",
    "end": "1519090"
  },
  {
    "text": "goal that we kept in mind was stability all these tools and workflows that we were building they were going to be",
    "start": "1519090",
    "end": "1524580"
  },
  {
    "text": "something that developers interact with on a day to day basis so in case we pushed out a bad change it had the",
    "start": "1524580",
    "end": "1530190"
  },
  {
    "text": "potential of impacting hundreds of our developers and it would lead to a lot of sort of frustration with our system so",
    "start": "1530190",
    "end": "1536760"
  },
  {
    "text": "what we did right from the start was to develop a hook to hook up a comprehensive acceptance test so that",
    "start": "1536760",
    "end": "1542730"
  },
  {
    "text": "every change that we're pushing out was thoroughly tested before it actually reached our consumers so the simple Amal",
    "start": "1542730",
    "end": "1550650"
  },
  {
    "start": "1549000",
    "end": "1549000"
  },
  {
    "text": "interface that I mentioned that had two main characteristics the first was that the settings should be self-explanatory",
    "start": "1550650",
    "end": "1555930"
  },
  {
    "text": "so that just with some simple documentation developers would be able to understand how they need to configure",
    "start": "1555930",
    "end": "1561600"
  },
  {
    "text": "their application so one example is there's a routing section so it's very easy for them to understand that okay",
    "start": "1561600",
    "end": "1566910"
  },
  {
    "text": "all the routing rules for my application need to be defined over there and the second thing that we kept in mind was",
    "start": "1566910",
    "end": "1572610"
  },
  {
    "text": "that they should not need to they do not need to know anything about kubernetes resources specifically so while we could",
    "start": "1572610",
    "end": "1578310"
  },
  {
    "text": "define their routing rules in the routing section they didn't have to know anything about a kubernetes ingress resource or an sto virtual service so in",
    "start": "1578310",
    "end": "1587340"
  },
  {
    "start": "1586000",
    "end": "1586000"
  },
  {
    "text": "order to enable this we built a standardized list of templates for every kubernetes and sto",
    "start": "1587340",
    "end": "1592619"
  },
  {
    "text": "Yaman that audio source that we want to create on our cluster along with that we built a proprietary templating engine",
    "start": "1592619",
    "end": "1598709"
  },
  {
    "text": "what this engine would do is it would take the set of templates take on the default settings that we've provided and",
    "start": "1598709",
    "end": "1604649"
  },
  {
    "text": "also take the user specified overrides combine all of them and create an expanded list of amell's so this diagram",
    "start": "1604649",
    "end": "1612779"
  },
  {
    "start": "1611000",
    "end": "1611000"
  },
  {
    "text": "over here this what is in black that kind of shows the artifact that we create the amell's that we create are",
    "start": "1612779",
    "end": "1618779"
  },
  {
    "text": "created on a per application environment and data center basis so for example if there's you want to create amell's for",
    "start": "1618779",
    "end": "1624839"
  },
  {
    "text": "your production environment and you want to deploy that and to say a US East one Colo we actually create a specific set",
    "start": "1624839",
    "end": "1630779"
  },
  {
    "text": "of amell's designed for that another thing that you can see here is that some of the application provided settings are",
    "start": "1630779",
    "end": "1637199"
  },
  {
    "text": "there in the expanded ya Mel so you can see that the app name that they specified which is appended with the",
    "start": "1637199",
    "end": "1642449"
  },
  {
    "text": "data center that they want to deploy to as well as they told us that they want to add as a logging sidecar so we made",
    "start": "1642449",
    "end": "1648029"
  },
  {
    "text": "sure that we add a Splunk container along with that application so that their pod has a sprung sidecar running",
    "start": "1648029",
    "end": "1653609"
  },
  {
    "text": "with it apart from these standardized kubernetes or templates that we generated we also",
    "start": "1653609",
    "end": "1660359"
  },
  {
    "start": "1656000",
    "end": "1656000"
  },
  {
    "text": "wanted to develop certain build templates these build templates are based off screwdriver which is Yahoo's",
    "start": "1660359",
    "end": "1665940"
  },
  {
    "text": "CI C D flat build platform this has also been open sourced so do please go check it out the reason for building this",
    "start": "1665940",
    "end": "1672839"
  },
  {
    "text": "standard build template was that we wanted to enforce certain steps in every applications CIC D flow so the steps are",
    "start": "1672839",
    "end": "1680190"
  },
  {
    "text": "pretty generic so you would want to build your code you'd want to run unit tests you then want to build a docker",
    "start": "1680190",
    "end": "1685199"
  },
  {
    "text": "image out of it and then we publish it to our internal docker registry this would be followed by the ml generation",
    "start": "1685199",
    "end": "1690989"
  },
  {
    "text": "that I discussed previously and then finally we would want to deploy this entire artifact to a target kubernetes",
    "start": "1690989",
    "end": "1696749"
  },
  {
    "text": "cluster and then we'd run up the applications functional tests against it so this would guarantee to a developer",
    "start": "1696749",
    "end": "1703229"
  },
  {
    "text": "that whatever they've built locally is working as expected even when it's deployed in kubernetes apart from these",
    "start": "1703229",
    "end": "1710279"
  },
  {
    "text": "specific steps that we've listed here developers can also inject their custom steps so for example if they want to run",
    "start": "1710279",
    "end": "1716039"
  },
  {
    "text": "sonar cube as a part of their pipeline that's something that they can very easily just inject as one of their build",
    "start": "1716039",
    "end": "1721139"
  },
  {
    "text": "steps so now I just want to go into sort of like a deep dive where I'll take an",
    "start": "1721139",
    "end": "1726239"
  },
  {
    "start": "1723000",
    "end": "1723000"
  },
  {
    "text": "example scenario just to illustrate how simple it is for a developer Yahoo to configure a fairly complex use case so",
    "start": "1726239",
    "end": "1733019"
  },
  {
    "text": "if I'm a developer and I want to deploy C or node.js 10 application the first thing that I will do in my abstracted",
    "start": "1733019",
    "end": "1738659"
  },
  {
    "text": "Yambol is I'll specify a base image setting which will say that I want to deploy an app which needs node.js 10 the",
    "start": "1738659",
    "end": "1745709"
  },
  {
    "text": "next thing I want to do is I want to configure the routing rules for my application so for example I want to make sure two outs through sto ingress",
    "start": "1745709",
    "end": "1751440"
  },
  {
    "text": "and I want to make sure that it routes on port 443 and I also want to add a custom alias so all of those settings",
    "start": "1751440",
    "end": "1757229"
  },
  {
    "text": "can be put under the routing section that is defined there another thing that I want to add for my application is that",
    "start": "1757229",
    "end": "1762929"
  },
  {
    "text": "I want to add in sto sidecar and I want sto to enforce two things for me one is",
    "start": "1762929",
    "end": "1768029"
  },
  {
    "text": "to add strict mutual TLS and the other is to make sure that every outgoing call from my application is restricted to a",
    "start": "1768029",
    "end": "1775109"
  },
  {
    "text": "whitelisted set of endpoints so all of that configuration for my sto sidecar and would be as you can see in the",
    "start": "1775109",
    "end": "1781409"
  },
  {
    "text": "sidecars sto section here I can also specify certain like resources that I need for my Envoy sidecar like memory or",
    "start": "1781409",
    "end": "1788549"
  },
  {
    "text": "CPU so as you can see that all those settings that I mentioned which would have resulted in multiple kubernetes or",
    "start": "1788549",
    "end": "1794159"
  },
  {
    "text": "sto amell's can be abstracted and this describe very simply in this one yeah Mel that you can see here on screen of",
    "start": "1794159",
    "end": "1801379"
  },
  {
    "text": "course behind the scenes we do go ahead and create all the animals that are required so you see your kubernetes",
    "start": "1801379",
    "end": "1806759"
  },
  {
    "start": "1804000",
    "end": "1804000"
  },
  {
    "text": "deployment you'll see your is to your policy virtual service gateway everything that you need to make that",
    "start": "1806759",
    "end": "1812339"
  },
  {
    "text": "configuration or reality is actually being created behind the scenes but developers didn't need to know any of it",
    "start": "1812339",
    "end": "1817619"
  },
  {
    "text": "so they can reap the benefits of all these features without getting too deep into kubernetes or sto apart from all",
    "start": "1817619",
    "end": "1825479"
  },
  {
    "text": "the features acceleration I have mentioned so far there's a lot of other cool stuff that we have on our cluster that developers can use for example rate",
    "start": "1825479",
    "end": "1832409"
  },
  {
    "text": "limiting fault injection distributed tracing traffic shifting as well as securing the egress for your",
    "start": "1832409",
    "end": "1838109"
  },
  {
    "text": "application just one more thing that I want to call out is all of the tools",
    "start": "1838109",
    "end": "1843509"
  },
  {
    "start": "1842000",
    "end": "1842000"
  },
  {
    "text": "that Suresh mentioned previously all are Athens integrations like for example the at insist you are back controller",
    "start": "1843509",
    "end": "1848519"
  },
  {
    "text": "they've all been open sourced and aside from the ones that we've mentioned we also have a couple more in the field of",
    "start": "1848519",
    "end": "1854249"
  },
  {
    "text": "policy and security for example security benchmarking so all of these have been open sourced and if any of you is like a",
    "start": "1854249",
    "end": "1859799"
  },
  {
    "text": "kubernetes cluster operator they are fairly generic use cases so definitely do go check them out and if you have any",
    "start": "1859799",
    "end": "1865469"
  },
  {
    "text": "features or any issues that you see with it we're very open to any contributions that's it for me I'll pass it to Suresh",
    "start": "1865469",
    "end": "1872009"
  },
  {
    "text": "to conclude thanks for only I'm going to conclude",
    "start": "1872009",
    "end": "1877079"
  },
  {
    "start": "1876000",
    "end": "1876000"
  },
  {
    "text": "right we're running out of time right so we got this kubernetes and it's just act today and we are running over right it",
    "start": "1877079",
    "end": "1883709"
  },
  {
    "text": "helped us to modernize and standardize our stack and very importantly other aspect is like it helped our product",
    "start": "1883709",
    "end": "1891479"
  },
  {
    "text": "velocity and improve our product developer productivity finally it also improved our application",
    "start": "1891479",
    "end": "1898289"
  },
  {
    "text": "security it's enhanced it and one another thing else I want to call out is like our customer relations grown up",
    "start": "1898289",
    "end": "1904289"
  },
  {
    "text": "because we've been packing different set of workload into the same cluster so the equation is very very very high but all",
    "start": "1904289",
    "end": "1910619"
  },
  {
    "text": "the benefit which we have out there and all the critical applications such as Yahoo Sports",
    "start": "1910619",
    "end": "1915749"
  },
  {
    "text": "Yahoo Finance and Yahoo homepage is great millions of RPS it's completely sort of cognitive stack which we have",
    "start": "1915749",
    "end": "1921179"
  },
  {
    "text": "very very very proud of and again below kubernetes thank you and we are hiring",
    "start": "1921179",
    "end": "1929759"
  },
  {
    "text": "and if you want to join me in the journey of pushing towards contamination and then bringing other set of",
    "start": "1929759",
    "end": "1934919"
  },
  {
    "text": "application out here and the journey of castillo kubernetes OPA please join me and you can reach out to",
    "start": "1934919",
    "end": "1940919"
  },
  {
    "text": "me in this mail ad and if you have more questions we have a booth at eight please come over there I'll be happy to",
    "start": "1940919",
    "end": "1947669"
  },
  {
    "text": "answer any questions and any hiring questions - thank you",
    "start": "1947669",
    "end": "1953209"
  },
  {
    "text": "you [Applause]",
    "start": "1955580",
    "end": "1959450"
  }
]