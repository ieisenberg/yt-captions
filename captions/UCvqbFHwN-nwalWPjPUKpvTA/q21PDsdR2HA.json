[
  {
    "start": "0",
    "end": "31000"
  },
  {
    "text": "hi this is presented by the kubernetes vmware user group this is about running all forms of",
    "start": "640",
    "end": "7040"
  },
  {
    "text": "kubernetes on the vmware infrastructure platform i'm steve wong",
    "start": "7040",
    "end": "12320"
  },
  {
    "text": "co-chair of the vmware user group i work on kubernetes and a few other open source projects as",
    "start": "12320",
    "end": "18480"
  },
  {
    "text": "an employee of vmware today i'm joined by miles gray the other co-chair",
    "start": "18480",
    "end": "23760"
  },
  {
    "text": "miles is a senior technical marketing architect in the storage and availability business unit at vmware",
    "start": "23760",
    "end": "31840"
  },
  {
    "start": "31000",
    "end": "71000"
  },
  {
    "text": "we'll give contact information and a link to the deck at the end but here's the agenda i'm going to start with a really quick",
    "start": "32559",
    "end": "39600"
  },
  {
    "text": "summary of what moving out of tree means and why it's happening two components are moving on a tree the",
    "start": "39600",
    "end": "46079"
  },
  {
    "text": "cloud provider adapter and the storage adapter and we'll cover each of these",
    "start": "46079",
    "end": "51360"
  },
  {
    "text": "we'll move on to best practices for configuration and wrap up with some links to resources",
    "start": "51360",
    "end": "57840"
  },
  {
    "text": "hopefully you'll like this talk and at the end i'm going to provide details on how you can become a member",
    "start": "57840",
    "end": "63199"
  },
  {
    "text": "of the kubernetes vmware user group where we host ongoing discussions on topics like the material in this talk",
    "start": "63199",
    "end": "72960"
  },
  {
    "start": "71000",
    "end": "157000"
  },
  {
    "text": "so here's the origin story many years ago when kubernetes was young actually that was only about five years",
    "start": "72960",
    "end": "79759"
  },
  {
    "text": "ago uh kubernetes was being built for what was a small set of popular hosting",
    "start": "79759",
    "end": "86000"
  },
  {
    "text": "and storage platforms the code to support these platforms was built right into kubernetes",
    "start": "86000",
    "end": "91920"
  },
  {
    "text": "all packaged into each release with code to support things you needed unfortunately along with some things you",
    "start": "91920",
    "end": "98479"
  },
  {
    "text": "probably didn't need yes kubernetes was like one of those monolith things that your mother told",
    "start": "98479",
    "end": "104240"
  },
  {
    "text": "you to avoid as kubernetes gained popularity more and more cloud providers",
    "start": "104240",
    "end": "110640"
  },
  {
    "text": "and storage plugins crowded into the train it became obvious that this was",
    "start": "110640",
    "end": "117119"
  },
  {
    "text": "unsustainable it's kind of a bad thing to have each release get monster sized it",
    "start": "117119",
    "end": "122560"
  },
  {
    "text": "slows down releases and patches and it increases the security threat model",
    "start": "122560",
    "end": "128640"
  },
  {
    "text": "over two years ago this flaw was recognized and work began to move cloud",
    "start": "128640",
    "end": "133680"
  },
  {
    "text": "providers and storage plugins out of the kubernetes code base enabling",
    "start": "133680",
    "end": "139120"
  },
  {
    "text": "these plugins to be developed and released independently of the kubernetes release cycle",
    "start": "139120",
    "end": "145680"
  },
  {
    "text": "it was recognized that this was a large undertaking and would take several years",
    "start": "145680",
    "end": "150720"
  },
  {
    "text": "well now that works finished and for the most part for most users it's time to move on",
    "start": "150720",
    "end": "158239"
  },
  {
    "start": "157000",
    "end": "269000"
  },
  {
    "text": "so the cloud providers the is the abstraction layer that hides the underlying variations between one",
    "start": "158959",
    "end": "165120"
  },
  {
    "text": "platform and another storage networking and potentially a few other things",
    "start": "165120",
    "end": "170400"
  },
  {
    "text": "use different technology on different clouds and the cloud provider abstraction is",
    "start": "170400",
    "end": "175760"
  },
  {
    "text": "what enables kubernetes to host apps that don't care and to a large",
    "start": "175760",
    "end": "180879"
  },
  {
    "text": "extent can't even tell where they're running the cloud provider enables the portability in kubernetes",
    "start": "180879",
    "end": "188879"
  },
  {
    "text": "now some of these abstractions handled by the cloud provider are optional for example",
    "start": "188879",
    "end": "194239"
  },
  {
    "text": "public clouds usually have a single choice of a built-in load balancer",
    "start": "194239",
    "end": "199519"
  },
  {
    "text": "service so they build in a load balancer abstraction with vsphere and other on-premises",
    "start": "199519",
    "end": "206400"
  },
  {
    "text": "solutions in general users don't have a single standard",
    "start": "206400",
    "end": "211760"
  },
  {
    "text": "implementation of load balancers network routing etc so the interest of maximum choice the",
    "start": "211760",
    "end": "218000"
  },
  {
    "text": "vsphere cloud provider leaves this up to the kubernetes user",
    "start": "218000",
    "end": "223280"
  },
  {
    "text": "a few things i want to point out the legacy entry cloud provider is linked",
    "start": "223280",
    "end": "228640"
  },
  {
    "text": "and used with the entry storage plugin so these are tied together and my",
    "start": "228640",
    "end": "234720"
  },
  {
    "text": "colleague miles will talk more about storage in a moment also even though i just said that the",
    "start": "234720",
    "end": "241360"
  },
  {
    "text": "vsphere cloud provider doesn't have the load balancer abstraction uh",
    "start": "241360",
    "end": "246720"
  },
  {
    "text": "the code technically does have a disabled by default alpha feature gated facade for an nsxt",
    "start": "246720",
    "end": "254319"
  },
  {
    "text": "load balancer at this point in time this is a recommended for general use",
    "start": "254319",
    "end": "259759"
  },
  {
    "text": "and alpha features are subject to change and even future removal but i just want to point this out for",
    "start": "259759",
    "end": "265840"
  },
  {
    "text": "the sake of being a hundred percent accurate so here's a logic flow that gives you",
    "start": "265840",
    "end": "273840"
  },
  {
    "start": "269000",
    "end": "404000"
  },
  {
    "text": "an entry versus out of tree recommendation my summary for most users you should be",
    "start": "273840",
    "end": "280800"
  },
  {
    "text": "on the out of tree right now and eventually you're going to be forced to go there because the entry",
    "start": "280800",
    "end": "286639"
  },
  {
    "text": "version will go away exceptions if you use a kubernetes distribution",
    "start": "286639",
    "end": "292639"
  },
  {
    "text": "do whatever your vendor recommends and let your vendor manage the work of migration for you the other exception is if you",
    "start": "292639",
    "end": "300960"
  },
  {
    "text": "are running a really old kubernetes or an older vsphere version you might be",
    "start": "300960",
    "end": "306560"
  },
  {
    "text": "stuck on entry kubernetes 113 dates back to december of",
    "start": "306560",
    "end": "312720"
  },
  {
    "text": "2018 so in my opinion you shouldn't be there anyway because it's no longer getting security patches",
    "start": "312720",
    "end": "319360"
  },
  {
    "text": "or bug fixes but i recognize that some people might be on this uh vsphere 6.7 u3",
    "start": "319360",
    "end": "328240"
  },
  {
    "text": "isn't that old it dates back to august of 2019 but some people face impediments to a",
    "start": "328240",
    "end": "336320"
  },
  {
    "text": "vsphere upgrade maybe it's a license issue or it could be a legacy hardware issue that",
    "start": "336320",
    "end": "343919"
  },
  {
    "text": "is where you've got old enough servers that they can't be used to install a newer",
    "start": "343919",
    "end": "349680"
  },
  {
    "text": "version so for now you can stay on entry if you really want to it hasn't gone away yet",
    "start": "349680",
    "end": "356080"
  },
  {
    "text": "but if you're on entry you're missing out on new features and community-based support",
    "start": "356080",
    "end": "362400"
  },
  {
    "text": "is always better when you're doing with mo what whatever most other users are doing",
    "start": "362400",
    "end": "368319"
  },
  {
    "text": "um i also want to point out that the vsphere 6.7 u3",
    "start": "368319",
    "end": "375120"
  },
  {
    "text": "uh requirement for out a tree refers to the v sphere",
    "start": "375120",
    "end": "380560"
  },
  {
    "text": "vcenter server if you keep a handful of old legacy esxi hypervisor hosts",
    "start": "380560",
    "end": "387120"
  },
  {
    "text": "around as long as you have some also have some new ones and your vcenter",
    "start": "387120",
    "end": "393680"
  },
  {
    "text": "is the newer version this is okay as long as your kubernetes nodes run only on the newer hypervisor hosts you",
    "start": "393680",
    "end": "401440"
  },
  {
    "text": "can run a mixed version vsphere here's a summary of the information",
    "start": "401440",
    "end": "407680"
  },
  {
    "text": "you're going to need to gather to set up your cloud provider configuration",
    "start": "407680",
    "end": "413759"
  },
  {
    "text": "it's based on an ini file and the full details are in the dock linked with the link in this slide",
    "start": "413759",
    "end": "421759"
  },
  {
    "text": "you'll need this vsphere comp file whether you go with the cube adm",
    "start": "421759",
    "end": "429759"
  },
  {
    "text": "or a hardway route of passing command line flags to kubernetes",
    "start": "429759",
    "end": "435440"
  },
  {
    "text": "components if you're on a distribution this likely captures the same",
    "start": "435440",
    "end": "440960"
  },
  {
    "text": "information but you might not fill out this ini file directly it might be involved",
    "start": "440960",
    "end": "447599"
  },
  {
    "text": "with some sort of configuration capture through your distributions installer we're going to",
    "start": "447599",
    "end": "455120"
  },
  {
    "text": "skip over the steps of os install and configuration and container runtime install",
    "start": "455120",
    "end": "461280"
  },
  {
    "text": "they are in the documentation i want to point out that you do have to disable swap in the os",
    "start": "461280",
    "end": "467520"
  },
  {
    "text": "that's a kubernetes requirement and vms hosting your kubernetes cluster",
    "start": "467520",
    "end": "474080"
  },
  {
    "text": "nodes have a few other considerations that we'll get to in the next few slides",
    "start": "474080",
    "end": "482080"
  },
  {
    "start": "481000",
    "end": "501000"
  },
  {
    "text": "the previous slide covered the entry cloud provider but the out of tree cloud",
    "start": "482639",
    "end": "487680"
  },
  {
    "text": "provider is going to need the same sort of information if you do the hard way install your",
    "start": "487680",
    "end": "494080"
  },
  {
    "text": "command line option flags are just a little bit different but the underlying information you need to",
    "start": "494080",
    "end": "499360"
  },
  {
    "text": "gather in advance is the same here are some links to detailed docs for",
    "start": "499360",
    "end": "507039"
  },
  {
    "start": "501000",
    "end": "545000"
  },
  {
    "text": "cube adm based kubernetes installs now cube adm describes itself as a tool to",
    "start": "507039",
    "end": "513279"
  },
  {
    "text": "bootstrap up a minimum viable kubernetes so you might need a little more",
    "start": "513279",
    "end": "518560"
  },
  {
    "text": "but my goal here is to document something and this session isn't long enough to cover",
    "start": "518560",
    "end": "523839"
  },
  {
    "text": "every install tool for vsphere that's out there there's a lot of them so i just picked cube adm",
    "start": "523839",
    "end": "529680"
  },
  {
    "text": "a cube adm install does conform to kubernetes best practices and does",
    "start": "529680",
    "end": "534880"
  },
  {
    "text": "support later upgrades if you're on a commercial distribution it likely comes with its own",
    "start": "534880",
    "end": "540800"
  },
  {
    "text": "documentation and training materials so refer to those",
    "start": "540800",
    "end": "546080"
  },
  {
    "start": "545000",
    "end": "604000"
  },
  {
    "text": "this slide describes the requirement for vsphere vms that act as kubernetes",
    "start": "547120",
    "end": "552320"
  },
  {
    "text": "cluster notes i'm not going to read you all the details but the advice is to set this up one",
    "start": "552320",
    "end": "559279"
  },
  {
    "text": "time as a vm template and then clone that to as many vms as you need to form cluster nodes",
    "start": "559279",
    "end": "566800"
  },
  {
    "text": "uh you could set this up with the vsphere gui but if you're a command line person in",
    "start": "566800",
    "end": "573279"
  },
  {
    "text": "the linux camp uh govc is recommended if you prefer",
    "start": "573279",
    "end": "578320"
  },
  {
    "text": "windows power cli can do these same settings most of you already know that vmware",
    "start": "578320",
    "end": "584640"
  },
  {
    "text": "tools is a guest vm to hypervisor host interface you want to have it installed in your",
    "start": "584640",
    "end": "591120"
  },
  {
    "text": "cluster nodes but a warning some cni choices are going to need some non-default settings",
    "start": "591120",
    "end": "598240"
  },
  {
    "text": "if you're using calico or andrea take a look at the link in this slide",
    "start": "598240",
    "end": "605839"
  },
  {
    "start": "604000",
    "end": "641000"
  },
  {
    "text": "zone labeling is really useful when you want the kubernetes scheduler to spread",
    "start": "606000",
    "end": "611120"
  },
  {
    "text": "a multi-part part service across potential failure zones",
    "start": "611120",
    "end": "616640"
  },
  {
    "text": "this topic could be a session all by itself and indeed it was a session back at kubecon china in 2018.",
    "start": "616640",
    "end": "625279"
  },
  {
    "text": "now some of the material in that 2018 session is now a little dated so i recommend that you refer to the",
    "start": "625279",
    "end": "632200"
  },
  {
    "text": "documentation that's linked in this slide you'll find detailed explanations with",
    "start": "632200",
    "end": "637680"
  },
  {
    "text": "diagrams and examples there for setting up zones",
    "start": "637680",
    "end": "642399"
  },
  {
    "start": "641000",
    "end": "656000"
  },
  {
    "text": "here's a logic flow that gives you an entry versus out of tree recommendation for the storage",
    "start": "642800",
    "end": "648720"
  },
  {
    "text": "plug-in miles is the storage expert so at this point i'm going to turn this over to him",
    "start": "648720",
    "end": "657120"
  },
  {
    "text": "all right awesome thanks for that steve so like steve said i work at vmware i'm a senior technical",
    "start": "658480",
    "end": "665360"
  },
  {
    "text": "marketing architect and my focus is storage and in particular over the last two two and a",
    "start": "665360",
    "end": "670959"
  },
  {
    "text": "half years my focus has been container storage whether it's with docker or kubernetes or what have you",
    "start": "670959",
    "end": "676800"
  },
  {
    "text": "so uh what we're going to talk about here is the entry versus out of tree thing but",
    "start": "676800",
    "end": "682720"
  },
  {
    "text": "how we manifested that ourselves so our entry driver was called the",
    "start": "682720",
    "end": "687760"
  },
  {
    "text": "vsphere cloud provider it was a minimum viable product it actually came out of an internal hackathon project",
    "start": "687760",
    "end": "693680"
  },
  {
    "text": "and was upstreamed into the kate's core repo",
    "start": "693680",
    "end": "698800"
  },
  {
    "text": "that is a good and a bad thing we all know sort of the drawbacks of an entry driver at this stage",
    "start": "698800",
    "end": "703920"
  },
  {
    "text": "pins you to a particular version of kubernetes all this kind of stuff you know you can't upgrade",
    "start": "703920",
    "end": "708959"
  },
  {
    "text": "your storage integration if you don't upgrade the entire kubernetes distro um there's security implications and a",
    "start": "708959",
    "end": "714720"
  },
  {
    "text": "whole bunch of stuff and it leads to bloat of the kubernetes code base which is not a good thing",
    "start": "714720",
    "end": "720320"
  },
  {
    "text": "so the vcp was natively built into kubernetes part of the core code like i said",
    "start": "720320",
    "end": "725839"
  },
  {
    "text": "and what it enabled was this policy dynamic provisioning of kubernetes",
    "start": "725839",
    "end": "731920"
  },
  {
    "text": "persistent volumes so that allowed you to specify things like data services",
    "start": "731920",
    "end": "737440"
  },
  {
    "text": "at the granularity of an spbm policy of a of a container volume but i said",
    "start": "737440",
    "end": "744160"
  },
  {
    "text": "before you know it had its drawbacks so there is reasons why we moved on uh moved on from this so um how did it",
    "start": "744160",
    "end": "751519"
  },
  {
    "text": "actually work and truth be told it was quite simple so there are two different ways that you could use this integration",
    "start": "751519",
    "end": "758639"
  },
  {
    "text": "number one was you create a storage class and you point it at an existing sppm policy in vcenter so",
    "start": "758639",
    "end": "765839"
  },
  {
    "text": "you can see that here whenever we create this storage class in kubernetes the storage policy name",
    "start": "765839",
    "end": "771760"
  },
  {
    "text": "parameter actually points to the storage policy name in vcepter so",
    "start": "771760",
    "end": "777279"
  },
  {
    "text": "you've pre-created this sppm policy and vcenter upfront and that gets mapped via the storage",
    "start": "777279",
    "end": "783600"
  },
  {
    "text": "policy now with the vcp there was another option and you could actually specify",
    "start": "783600",
    "end": "789680"
  },
  {
    "text": "storage policy attributes directly in the storage class so like you see here this is an example for vsan because it",
    "start": "789680",
    "end": "796399"
  },
  {
    "text": "supports extra attributes like this and we can specify host failures to tolerate of one",
    "start": "796399",
    "end": "802000"
  },
  {
    "text": "and disk stripes of two however what we realized was that as people used this",
    "start": "802000",
    "end": "808639"
  },
  {
    "text": "and these policies weren't in vcenter it led to spbm sprawl it made it hard to track volumes",
    "start": "808639",
    "end": "814720"
  },
  {
    "text": "so we have since decided to remove that functionality because truth be told most people just create the policy in",
    "start": "814720",
    "end": "821199"
  },
  {
    "text": "vcenter and then use a storage class to point at it anyway so that is what we had with",
    "start": "821199",
    "end": "828160"
  },
  {
    "text": "the vcp so what do we have now and how have things changed so um",
    "start": "828160",
    "end": "835199"
  },
  {
    "text": "cns was introduced uh just as the auditory movement was getting underway",
    "start": "835199",
    "end": "841040"
  },
  {
    "text": "with with kubernetes and going out of tree required us to develop a new storage plug-in anyway so",
    "start": "841040",
    "end": "848639"
  },
  {
    "text": "we decided to just build from the ground up against the csi standard because that at least",
    "start": "848639",
    "end": "854160"
  },
  {
    "text": "allowed for code portability to other um not other kubernetes distributions but",
    "start": "854160",
    "end": "861600"
  },
  {
    "text": "other container orchestrators if we chose to do that in the future and it takes advantage of this new cns",
    "start": "861600",
    "end": "869199"
  },
  {
    "text": "vsphere storage api to provide some new features that we didn't have in the vcp",
    "start": "869199",
    "end": "874720"
  },
  {
    "text": "and cns quite simply just stands for cloud native storage and it's a feature that's just built",
    "start": "874720",
    "end": "880800"
  },
  {
    "text": "into vsphere these days so if we look at this look at the architecture it's a little bit different",
    "start": "880800",
    "end": "886560"
  },
  {
    "text": "to that of the vcp you might note so what we've got here is our cloud native storage control plane that's",
    "start": "886560",
    "end": "892320"
  },
  {
    "text": "built into vcenter and we deploy a csi pod into kubernetes the nice thing about that is because",
    "start": "892320",
    "end": "898720"
  },
  {
    "text": "it's just another workload running on kubernetes you can lifecycle your csi pods and upgrade your csi driver",
    "start": "898720",
    "end": "905040"
  },
  {
    "text": "without having to rev your entire kubernetes cluster so if you're on kubernetes 1.16 or whatever",
    "start": "905040",
    "end": "911279"
  },
  {
    "text": "you can upgrade your csi there's no need to upgrade the entire kubernetes cluster just to get new storage features so",
    "start": "911279",
    "end": "917920"
  },
  {
    "text": "that's actually quite a nice life cycle management benefit there",
    "start": "917920",
    "end": "923199"
  },
  {
    "text": "like i said it's built on the csi standard for container storage so it should be portable across other container orchestrators uh if we",
    "start": "923199",
    "end": "930639"
  },
  {
    "text": "choose to entertain those in the future that said we really haven't had a lot of requests for other container",
    "start": "930639",
    "end": "936000"
  },
  {
    "text": "orchestrators other than kubernetes anyway so it is what it is um",
    "start": "936000",
    "end": "941600"
  },
  {
    "text": "as far as features it enables the same sort of policy driven uh dynamic provisioning that we got from",
    "start": "941600",
    "end": "947839"
  },
  {
    "text": "the vcp same methodology for enabling it again it's the storage class to sppm policy",
    "start": "947839",
    "end": "953680"
  },
  {
    "text": "mapping so that one-to-one mapping of of those two things so operationally very very similar um but",
    "start": "953680",
    "end": "961279"
  },
  {
    "text": "it does have some nice little bits and pieces that are tied into the vsphere ui that you don't get with",
    "start": "961279",
    "end": "968480"
  },
  {
    "text": "the vsphere cloud provider and this is just more reason why you might",
    "start": "968480",
    "end": "973519"
  },
  {
    "text": "might want to use this above and beyond what we had with the vcp simply because",
    "start": "973519",
    "end": "980480"
  },
  {
    "text": "it makes it much much simpler for the platform uh administrator",
    "start": "980480",
    "end": "986959"
  },
  {
    "text": "to help you troubleshoot what's going on at the platform layer because we've got this traceability through the two layers and",
    "start": "986959",
    "end": "993040"
  },
  {
    "text": "we'll see that just just in a second here so if we look at how this is manifested",
    "start": "993040",
    "end": "1000480"
  },
  {
    "text": "in vcenter we've got this new container storage view under the monitor tab and you can",
    "start": "1000480",
    "end": "1005759"
  },
  {
    "text": "see we've got all of our persistent volume names here so all the pvc ids are imported",
    "start": "1005759",
    "end": "1011440"
  },
  {
    "text": "additionally we have a metadata syncer that's deployed with the driver as well so that will sync all of the volume",
    "start": "1011440",
    "end": "1019360"
  },
  {
    "text": "labels that are applied to the pvs and pvcs into the vsphere ui as well so if you",
    "start": "1019360",
    "end": "1026240"
  },
  {
    "text": "need to filter by labels from kubernetes you can do that direct in the vsphere ui as well",
    "start": "1026240",
    "end": "1031520"
  },
  {
    "text": "which is really nice and you can view some other bits and pieces so what storage policy is being",
    "start": "1031520",
    "end": "1037120"
  },
  {
    "text": "used you know is it compliant is it accessible what size is it and you know what container cluster is",
    "start": "1037120",
    "end": "1042558"
  },
  {
    "text": "it being used on so there's a whole bunch bunch of really really useful information here",
    "start": "1042559",
    "end": "1049919"
  },
  {
    "start": "1048000",
    "end": "1174000"
  },
  {
    "text": "so as for should i be using entry or csi um when it comes to",
    "start": "1051360",
    "end": "1058799"
  },
  {
    "text": "distributions you should probably use whatever your distribution",
    "start": "1058799",
    "end": "1065520"
  },
  {
    "text": "distributor your vendor packages out of the box so for most of those that's that's the",
    "start": "1065520",
    "end": "1071120"
  },
  {
    "text": "vcp anyway but a lot of them are being validated and have been validated with the csi driver",
    "start": "1071120",
    "end": "1078240"
  },
  {
    "text": "and cns so i can name a couple here uh red hat open shift docker enterprise",
    "start": "1078240",
    "end": "1083440"
  },
  {
    "text": "edition rancher google ansos gke on prem they've all been validated with the csi driver in",
    "start": "1083440",
    "end": "1090080"
  },
  {
    "text": "cns but the long and short of it is if you are running",
    "start": "1090080",
    "end": "1095120"
  },
  {
    "text": "uh the csi driver on a kubernetes distribution that is vanilla kubernetes bits",
    "start": "1095120",
    "end": "1100640"
  },
  {
    "text": "you will get support from a vsphere as long as from from vmware as long as you have a",
    "start": "1100640",
    "end": "1106240"
  },
  {
    "text": "valid vsphere license now there are some caveats as to why you",
    "start": "1106240",
    "end": "1111360"
  },
  {
    "text": "might still want to use or maybe not want to use but have to use the entry",
    "start": "1111360",
    "end": "1116559"
  },
  {
    "text": "storage provider and that would be if you're on an old version of kubernetes so pre 1.14 which",
    "start": "1116559",
    "end": "1122640"
  },
  {
    "text": "is whenever the csi feature went ga um so if you're on an older version and",
    "start": "1122640",
    "end": "1128160"
  },
  {
    "text": "then that and you can't upgrade then you're going to have to use the vcp if you're on an older vsphere release",
    "start": "1128160",
    "end": "1134880"
  },
  {
    "text": "then 6.7 u3 and you can't upgrade as well because it requires the cns apis to be present",
    "start": "1134880",
    "end": "1142160"
  },
  {
    "text": "in vcenter those were introduced in 6.7 u3 so if you have an earlier version of vsphere and you can't",
    "start": "1142160",
    "end": "1147919"
  },
  {
    "text": "upgrade for whatever reason then you'll have to use the vsphere cloud provider as well",
    "start": "1147919",
    "end": "1154080"
  },
  {
    "text": "however if you can at all and those two cases don't apply to you use the csi it's got more features it's",
    "start": "1154080",
    "end": "1161280"
  },
  {
    "text": "better supported we support read write once rewrite many volumes and a whole host of other csi features",
    "start": "1161280",
    "end": "1167760"
  },
  {
    "text": "as well so it would be our opinion that you should be moving towards looking at the csi",
    "start": "1167760",
    "end": "1172880"
  },
  {
    "text": "driver anyway as for some resources on how you would",
    "start": "1172880",
    "end": "1180080"
  },
  {
    "start": "1174000",
    "end": "1246000"
  },
  {
    "text": "learn um how some of this stuff works uh the csi driver uses a different concept for",
    "start": "1180080",
    "end": "1185679"
  },
  {
    "text": "creating disks called first class disks as opposed to just provisioning a vmdk with a vm attached",
    "start": "1185679",
    "end": "1192080"
  },
  {
    "text": "and two of the best blogs that you can find on that are by cormac so you can see those here",
    "start": "1192080",
    "end": "1197679"
  },
  {
    "text": "he's also got a very very useful blog on csi driver drive csi driver versions and their",
    "start": "1197679",
    "end": "1203840"
  },
  {
    "text": "capabilities um i've since taken all that content and ported it into our github as well so if you look at our",
    "start": "1203840",
    "end": "1211039"
  },
  {
    "text": "git book you'll get all that information there too and then there's some other great",
    "start": "1211039",
    "end": "1216240"
  },
  {
    "text": "information out there by eric shanks robbie jerome and andrew sullivan so make sure to check out",
    "start": "1216240",
    "end": "1222799"
  },
  {
    "text": "all of those bits and pieces on how to get it up and running and not to pick a particular kubernetes",
    "start": "1222799",
    "end": "1228480"
  },
  {
    "text": "distribution or anything but if you want a rough guy because most",
    "start": "1228480",
    "end": "1234400"
  },
  {
    "text": "distributions are exactly the same whenever it comes to deploying on vsphere anyway there is a good blog out there for",
    "start": "1234400",
    "end": "1240640"
  },
  {
    "text": "deploying openshift 4.4 on vmware vsphere 7. so go and check that one out as well",
    "start": "1240640",
    "end": "1248240"
  },
  {
    "start": "1246000",
    "end": "1374000"
  },
  {
    "text": "sort of uh the the next question that comes up is so i've already got the vcp deployed",
    "start": "1248240",
    "end": "1254240"
  },
  {
    "text": "i've already got some applications running and there's data in there and i would like to use the csi",
    "start": "1254240",
    "end": "1259520"
  },
  {
    "text": "how do i do that so csi migration is being introduced as a",
    "start": "1259520",
    "end": "1267280"
  },
  {
    "text": "gated feature in 1.19 the eventual idea is that all",
    "start": "1267280",
    "end": "1273919"
  },
  {
    "text": "entry cloud providers will be deleted from the kubernetes code base so",
    "start": "1273919",
    "end": "1280400"
  },
  {
    "text": "we are providing a path that will allow users to upgrade their volumes from the",
    "start": "1280400",
    "end": "1286320"
  },
  {
    "text": "vcp and import them into the csi driver and we do that by creating a lightweight lightweight sort of um",
    "start": "1286320",
    "end": "1294640"
  },
  {
    "text": "skeleton of the vsphere cloud provider if you want to think about it that way and we basically just proxy all of those",
    "start": "1294640",
    "end": "1301840"
  },
  {
    "text": "commands into the csi driver itself and we do some upgrade procedures on the",
    "start": "1301840",
    "end": "1307919"
  },
  {
    "text": "back end like we change it from just a plain vmdk to a first class disk",
    "start": "1307919",
    "end": "1313120"
  },
  {
    "text": "so there's a whole bunch of stuff that happens in the background but basically we're looking to move this to",
    "start": "1313120",
    "end": "1320559"
  },
  {
    "text": "beta in 1.19 but it'll require an upgrade of your vsphere environment",
    "start": "1320559",
    "end": "1325840"
  },
  {
    "text": "to the next version that's available whatever that is so um this is something that we're",
    "start": "1325840",
    "end": "1331280"
  },
  {
    "text": "working on it will be there before the cloud provider gets removed from core kubernetes because that's a requirement",
    "start": "1331280",
    "end": "1336960"
  },
  {
    "text": "anyway um but it will require an upgrade of vsphere to the next version and it will",
    "start": "1336960",
    "end": "1344240"
  },
  {
    "text": "require you to install kubernetes 1.19 or above and the latest version of the csi driver",
    "start": "1344240",
    "end": "1350559"
  },
  {
    "text": "as well so the current goal is to be stable in 1.20 but you know this is subject to change it",
    "start": "1350559",
    "end": "1357200"
  },
  {
    "text": "was 1.16 you know many moons ago so this is something that keeps moving out a little bit but it is getting more and",
    "start": "1357200",
    "end": "1363600"
  },
  {
    "text": "more serious there's a lot more development work being done on it now so we are approaching something that looks like",
    "start": "1363600",
    "end": "1369280"
  },
  {
    "text": "it's going to be uh final in the next couple of releases of kubernetes",
    "start": "1369280",
    "end": "1374880"
  },
  {
    "start": "1374000",
    "end": "1431000"
  },
  {
    "text": "so if you're using kubernetes on vsphere i encourage you to join the user group we have a meeting each month where we",
    "start": "1374880",
    "end": "1381120"
  },
  {
    "text": "present tutorials and best practices the agenda is user driven so members are",
    "start": "1381120",
    "end": "1386640"
  },
  {
    "text": "encouraged to nominate presentation and discussion topics including feature requests we have two user tech",
    "start": "1386640",
    "end": "1394559"
  },
  {
    "text": "leads bryson shepard and joe cersei who couldn't be here today but they helped us get this group started",
    "start": "1394559",
    "end": "1400799"
  },
  {
    "text": "and we're looking to grow this group with a diverse set of additional worldwide users",
    "start": "1400799",
    "end": "1406320"
  },
  {
    "text": "the group is also running a slack channel which is a great place to ask questions the general kubernetes user channel",
    "start": "1406320",
    "end": "1413600"
  },
  {
    "text": "might be better for general kubernetes questions but if you have a vsphere specific topic to discuss",
    "start": "1413600",
    "end": "1421120"
  },
  {
    "text": "please go to the vmware users channel it's a great place to find other users",
    "start": "1421120",
    "end": "1426720"
  },
  {
    "text": "and to reach code and documentation contributors",
    "start": "1426720",
    "end": "1432159"
  },
  {
    "start": "1431000",
    "end": "1455000"
  },
  {
    "text": "so the next user group meeting is august 6th in the north america time zone",
    "start": "1432159",
    "end": "1437279"
  },
  {
    "text": "you can go to the kubernetes community calendar to get a conversion to your local time zone and to add it to",
    "start": "1437279",
    "end": "1443600"
  },
  {
    "text": "your calendar use the link in this slide to do that you become a group member by joining",
    "start": "1443600",
    "end": "1449600"
  },
  {
    "text": "the mailing list linked here and finally here's a link to the group slack channel",
    "start": "1449600",
    "end": "1456720"
  },
  {
    "start": "1455000",
    "end": "1472000"
  },
  {
    "text": "miles and i are going to hang around for a q a and here's a link that will get you this",
    "start": "1457039",
    "end": "1463440"
  },
  {
    "text": "deck also you'll see here our github ids thank you and i hope to see you in a future",
    "start": "1463440",
    "end": "1470840"
  },
  {
    "text": "meeting",
    "start": "1470840",
    "end": "1473840"
  },
  {
    "start": "1472000",
    "end": "1699000"
  },
  {
    "text": "thank you for your great talk steven and miles now we are moving to the qa session for",
    "start": "1482400",
    "end": "1488159"
  },
  {
    "text": "the audience if you have any questions please reach them in the qa column and stephen",
    "start": "1488159",
    "end": "1493520"
  },
  {
    "text": "and miles are here for you to answer your questions",
    "start": "1493520",
    "end": "1498159"
  },
  {
    "text": "i i see there are already uh two questions uh queued up in the chat um",
    "start": "1498960",
    "end": "1505520"
  },
  {
    "text": "so i think i'll take a shot at answering them in miles why don't you step into because i think the two of us put",
    "start": "1505520",
    "end": "1511600"
  },
  {
    "text": "together probably can put together a bigger better answer so",
    "start": "1511600",
    "end": "1516640"
  },
  {
    "text": "the first question i see is as an end user of vmware any recommendation for us to leverage",
    "start": "1516640",
    "end": "1523919"
  },
  {
    "text": "kubernetes uh or going cloud native uh i also see that",
    "start": "1523919",
    "end": "1531200"
  },
  {
    "text": "alice gin would like to answer this question live so alice if you're online why don't you go go ahead",
    "start": "1531200",
    "end": "1537760"
  },
  {
    "text": "and answer if you like oh hi steven uh alice",
    "start": "1537760",
    "end": "1543200"
  },
  {
    "text": "jing is just there to be monitoring um oh okay so you're sorry i must answer",
    "start": "1543200",
    "end": "1548960"
  },
  {
    "text": "the question by yourselves thank you all right so uh the you know for leveraging kubernetes uh",
    "start": "1548960",
    "end": "1556559"
  },
  {
    "text": "the first step of course is to learn kubernetes learn what it can do and what it can't do",
    "start": "1556559",
    "end": "1562000"
  },
  {
    "text": "you know it it's become really popular but it isn't a tool that does a hundred",
    "start": "1562000",
    "end": "1568880"
  },
  {
    "text": "percent of things but there are very many use cases for which it is a great tool",
    "start": "1568880",
    "end": "1574240"
  },
  {
    "text": "and i think the best way to learn it is to start in and use it because unlike the situation",
    "start": "1574240",
    "end": "1581120"
  },
  {
    "text": "of five years ago it's no longer difficult to under you know to install",
    "start": "1581120",
    "end": "1586400"
  },
  {
    "text": "and get going uh if you're already an end user of vmware presumably you have",
    "start": "1586400",
    "end": "1592320"
  },
  {
    "text": "infrastructure to stand it up on but there are smaller versions that are appropriate for learning only if not",
    "start": "1592320",
    "end": "1599520"
  },
  {
    "text": "even if not for production that could be run even on a personal laptop",
    "start": "1599520",
    "end": "1605360"
  },
  {
    "text": "there are a lot of training materials out there on the generic kubernetes and i would",
    "start": "1605360",
    "end": "1611520"
  },
  {
    "text": "start with the generic kubernetes because the fact is by design kubernetes is not",
    "start": "1611520",
    "end": "1617360"
  },
  {
    "text": "a whole lot different on vsphere than it is when running on a public cloud uh or other platform the whole purpose",
    "start": "1617360",
    "end": "1624960"
  },
  {
    "text": "of kubernetes uh and what cloud native means is that you can run an app anywhere and if things work properly",
    "start": "1624960",
    "end": "1633360"
  },
  {
    "text": "that app really shouldn't be able to tell where it's running and it should be quite portable across",
    "start": "1633360",
    "end": "1638640"
  },
  {
    "text": "all the platforms it's only when you get to that later stage that is approaching operations",
    "start": "1638640",
    "end": "1644960"
  },
  {
    "text": "where things start to become a little more platform specific where you're dealing",
    "start": "1644960",
    "end": "1650240"
  },
  {
    "text": "with things like deploying kubernetes in a way that's very resilient and has high availability",
    "start": "1650240",
    "end": "1656960"
  },
  {
    "text": "then it pays to get into the the details of best practices for running on your",
    "start": "1656960",
    "end": "1662000"
  },
  {
    "text": "platform there uh you can go to sessions like",
    "start": "1662000",
    "end": "1667120"
  },
  {
    "text": "this and there are other ones that got pre-recorded in kubernetes go in kubecon events going back a couple of",
    "start": "1667120",
    "end": "1674480"
  },
  {
    "text": "years and the sessions were labeled vsphere cloud provider rather than user group",
    "start": "1674480",
    "end": "1679600"
  },
  {
    "text": "because this user group didn't exist back then and then of course join our user group meetings they occur once a",
    "start": "1679600",
    "end": "1686640"
  },
  {
    "text": "month we're bringing in speakers to give presentations ask user questions",
    "start": "1686640",
    "end": "1692240"
  },
  {
    "text": "and generally talks on best practices plus roadmap items uh miles would you like to add",
    "start": "1692240",
    "end": "1698640"
  },
  {
    "text": "anything yeah um so i think the the way that these um questions are sort",
    "start": "1698640",
    "end": "1706159"
  },
  {
    "text": "of phrased because they're both by the same person here i've noticed the next one is what is the best path to take my itt to make my i.t team ready",
    "start": "1706159",
    "end": "1714399"
  },
  {
    "text": "for vmware and kate's um it it sort of uh alludes to the fact that",
    "start": "1714399",
    "end": "1720320"
  },
  {
    "text": "kate's is an inevitability and you know maybe that's the case and maybe that's not the case it depends on your application like",
    "start": "1720320",
    "end": "1726080"
  },
  {
    "text": "steve said it doesn't do 100 of things but it does a lot of things quite well and it is very well suited to the things that it",
    "start": "1726080",
    "end": "1732399"
  },
  {
    "text": "is suited for um when it comes to uh using kubernetes or going cloud",
    "start": "1732399",
    "end": "1739520"
  },
  {
    "text": "native um cloud native to me is",
    "start": "1739520",
    "end": "1744720"
  },
  {
    "text": "the application takes over all of the resiliency and underlying infrastructure tasks",
    "start": "1744720",
    "end": "1752080"
  },
  {
    "text": "from the infrastructure itself and sort of abstracts that away so where typically you might have a",
    "start": "1752080",
    "end": "1758960"
  },
  {
    "text": "microsoft sql server that is replicated or something like that you would use a database like cassandra",
    "start": "1758960",
    "end": "1765679"
  },
  {
    "text": "or something like a key value store or kafka that does the data replication at a higher level",
    "start": "1765679",
    "end": "1771279"
  },
  {
    "text": "rather than relying at the underlying relying on the underlying infrastructure to do replication so cloud native is",
    "start": "1771279",
    "end": "1776880"
  },
  {
    "text": "more about making the more the application more resilient in itself and making it less dependent",
    "start": "1776880",
    "end": "1784159"
  },
  {
    "text": "on the platform and like steve said kubernetes provides that abstraction layer that sort of makes the underlying",
    "start": "1784159",
    "end": "1790480"
  },
  {
    "text": "platform almost uh generic to most of those applications the experience you know on vsphere or on a public cloud or",
    "start": "1790480",
    "end": "1796960"
  },
  {
    "text": "whatever should be largely the same given uh that the kubernetes apis are",
    "start": "1796960",
    "end": "1803360"
  },
  {
    "text": "identical everywhere but obviously you know once you move into production and you start to operationalize that",
    "start": "1803360",
    "end": "1809520"
  },
  {
    "text": "there are some slight differences from cloud to cloud and from vsphere to other clouds and things like that but uh on the whole",
    "start": "1809520",
    "end": "1816480"
  },
  {
    "text": "your your application should be portable from cloud to cloud now when it comes to making your it",
    "start": "1816480",
    "end": "1823520"
  },
  {
    "text": "teams ready for kubernetes and cloud native um i would say the first thing that you",
    "start": "1823520",
    "end": "1830240"
  },
  {
    "text": "should do is look at your current applications and are you interested in taking those current",
    "start": "1830240",
    "end": "1836240"
  },
  {
    "text": "applications and porting them to a new platform so you're going to move them from vms into",
    "start": "1836240",
    "end": "1841600"
  },
  {
    "text": "containers and once you've moved them into containers are you going to rewrite parts of those applications to use maybe",
    "start": "1841600",
    "end": "1847600"
  },
  {
    "text": "different databases or whatever that can run on top of kubernetes and in a more sort of",
    "start": "1847600",
    "end": "1853120"
  },
  {
    "text": "a generic fashion um so to me really the first step is engaging with the developers that you",
    "start": "1853120",
    "end": "1859600"
  },
  {
    "text": "have in-house or or such um or even if you don't develop software",
    "start": "1859600",
    "end": "1864720"
  },
  {
    "text": "in-house you know um having a kate's platform that you can easily deploy and use is very",
    "start": "1864720",
    "end": "1872240"
  },
  {
    "text": "important because there are applications that we're seeing that are being deployed now that will only run on kubernetes so",
    "start": "1872240",
    "end": "1878080"
  },
  {
    "text": "especially if you don't write applications in-house having some kind of distribution that does all the hard kubernetes",
    "start": "1878080",
    "end": "1885200"
  },
  {
    "text": "lifecycle management stuff for you and configuration for your platform would be really advantageous so engage",
    "start": "1885200",
    "end": "1892320"
  },
  {
    "text": "with your developers figure out what they're doing how they're using containers and maybe how they could look at including",
    "start": "1892320",
    "end": "1900399"
  },
  {
    "text": "kubernetes and continuous integration into their workflows and how that might",
    "start": "1900399",
    "end": "1908159"
  },
  {
    "text": "influence how you're going to deploy applications in the future and then take a look at your infrastructure you know what versions of",
    "start": "1908159",
    "end": "1914640"
  },
  {
    "text": "vsphere are you running um does it need to be updated to run these new versions of kubernetes to get",
    "start": "1914640",
    "end": "1920799"
  },
  {
    "text": "the features that you need and that kind of thing um but there are tons of resources out there for generic kubernetes there's the",
    "start": "1920799",
    "end": "1927039"
  },
  {
    "text": "um kubernetes dot academy i think it's called steve is that correct yes it is uh it's cube academy",
    "start": "1927039",
    "end": "1934240"
  },
  {
    "text": "cubic actually yeah another thing i want to point out is it's not an all or nothing so a good way",
    "start": "1934240",
    "end": "1940960"
  },
  {
    "text": "to get started is to just i cherry pick the uh the easy things to move over and it's",
    "start": "1940960",
    "end": "1948240"
  },
  {
    "text": "entirely possible to keep a hybrid operation going where the bulk of your",
    "start": "1948240",
    "end": "1954000"
  },
  {
    "text": "legacy doesn't move and it's really the new applications that you're moving over to kubernetes",
    "start": "1954000",
    "end": "1960000"
  },
  {
    "text": "and to the extent you can the easy low-lying fruit is to go after stateless",
    "start": "1960000",
    "end": "1965760"
  },
  {
    "text": "applications first maybe instead of moving your databases to the new",
    "start": "1965760",
    "end": "1970960"
  },
  {
    "text": "cluster-aware model that miles alluded to you could actually keep your state like",
    "start": "1970960",
    "end": "1978000"
  },
  {
    "text": "uh traditional transactional sql databases over on in vms at the beginning",
    "start": "1978000",
    "end": "1986559"
  },
  {
    "text": "but move the things the apps that consume them over to kubernetes and have a hybrid and there are tools",
    "start": "1986559",
    "end": "1993039"
  },
  {
    "text": "that might even be available they really technically are not kubernetes they're in the collateral",
    "start": "1993039",
    "end": "1999039"
  },
  {
    "text": "cloud native landscape uh tool chain things i'm talking about things like service",
    "start": "1999039",
    "end": "2005360"
  },
  {
    "text": "meshes that are capable at least in some of the versions of the meshes",
    "start": "2005360",
    "end": "2010880"
  },
  {
    "text": "of integrating legacy vms with new kubernetes applications and services",
    "start": "2010880",
    "end": "2017679"
  },
  {
    "text": "uh don't plan on this being a big switch of everything moves overnight it doesn't",
    "start": "2017679",
    "end": "2024320"
  },
  {
    "text": "have to be that way and it shouldn't for most people yeah i think it's an evolutionary thing",
    "start": "2024320",
    "end": "2029679"
  },
  {
    "text": "you start with the easy stuff like steve said move over the stateless bits and pieces those are the easy things to do so",
    "start": "2029679",
    "end": "2035600"
  },
  {
    "text": "stuff like your web servers uh you know nginx apache app servers like tomcat those are prime",
    "start": "2035600",
    "end": "2041760"
  },
  {
    "text": "candidates they're very very easy to move over and they can still talk to external vms",
    "start": "2041760",
    "end": "2046960"
  },
  {
    "text": "you know they everything doesn't have to run in kubernetes so if you do have existing big databases like oracle or",
    "start": "2046960",
    "end": "2053358"
  },
  {
    "text": "ms sql or you know whatever you can still use those and you can still have your applications talk back to them",
    "start": "2053359",
    "end": "2059599"
  },
  {
    "text": "and maybe like a good sort of proof of concept is if you're building new functionality into your existing",
    "start": "2059599",
    "end": "2064960"
  },
  {
    "text": "applications just build that new functionality as like a stateless",
    "start": "2064960",
    "end": "2070158"
  },
  {
    "text": "dumb front end deploy that into kubernetes and have it talk to your existing backend that runs inside vms",
    "start": "2070159",
    "end": "2076878"
  },
  {
    "text": "and use that as like the first step so that you get your feet wet you understand how the operational models work you understand how to deploy things",
    "start": "2076879",
    "end": "2084079"
  },
  {
    "text": "and then maybe look at refactoring some of your other bits and pieces into kubernetes over time but i would",
    "start": "2084079",
    "end": "2090079"
  },
  {
    "text": "imagine for for most enterprises that are running these kinds of things it'll be a multi-year transitionary",
    "start": "2090079",
    "end": "2096560"
  },
  {
    "text": "project to really move everything into kubernetes like steve said it's not overnight this is a",
    "start": "2096560",
    "end": "2102160"
  },
  {
    "text": "transformational thing that will take some time and there are a lot of training",
    "start": "2102160",
    "end": "2109119"
  },
  {
    "text": "materials there are even certifications to get your staff trained but there are also collateral tools that",
    "start": "2109119",
    "end": "2115599"
  },
  {
    "text": "help your staff kind of avoid becoming experts from top to bottom in",
    "start": "2115599",
    "end": "2120720"
  },
  {
    "text": "kubernetes i'm talking about things where they can continue to use the existing languages and tools they're familiar",
    "start": "2120720",
    "end": "2127280"
  },
  {
    "text": "with and have some kind of external build tool assist them in packaging those things",
    "start": "2127280",
    "end": "2133520"
  },
  {
    "text": "into uh docker containers uh i think for troubleshooting and debug",
    "start": "2133520",
    "end": "2139440"
  },
  {
    "text": "they still have to learn what's going on at from a high level view but you don't",
    "start": "2139440",
    "end": "2145520"
  },
  {
    "text": "have the scenario where you have to train a hundred percent of the existing development staff on the new tools from top to bottom",
    "start": "2145520",
    "end": "2153520"
  },
  {
    "text": "at a microscopic level um so go out there and you'll i think you'll",
    "start": "2153520",
    "end": "2160079"
  },
  {
    "text": "it's fair to say that in many categories you can pick your language and you won't be the first one",
    "start": "2160079",
    "end": "2166320"
  },
  {
    "text": "to do that move over to kubernetes uh and you'll find that there are tools available to assist you in",
    "start": "2166320",
    "end": "2173760"
  },
  {
    "text": "doing that in a ci cd environment",
    "start": "2173760",
    "end": "2179280"
  },
  {
    "text": "so i think that those are the only questions in chat if anybody has uh any additional questions",
    "start": "2182560",
    "end": "2189920"
  },
  {
    "text": "uh now's a now's the time uh go type them in the zoom chat or",
    "start": "2189920",
    "end": "2195200"
  },
  {
    "text": "uh i don't know if there are other forums that uh people are online not that to submit",
    "start": "2195200",
    "end": "2200560"
  },
  {
    "text": "questions i would also say if if you haven't got a question right now",
    "start": "2200560",
    "end": "2205680"
  },
  {
    "text": "go to the kubernetes slack and join the user group vmware channel and you can always ask questions there and steve",
    "start": "2205680",
    "end": "2212320"
  },
  {
    "text": "myself and a bunch of other vmware engineers and people will be in there to answer your questions too",
    "start": "2212320",
    "end": "2219200"
  },
  {
    "text": "yeah thank you for the questions and thank you for the great talk and answers from stephen and miles",
    "start": "2220640",
    "end": "2229839"
  }
]