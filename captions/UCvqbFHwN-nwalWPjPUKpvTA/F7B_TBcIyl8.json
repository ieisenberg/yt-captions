[
  {
    "start": "0",
    "end": "0"
  },
  {
    "text": "hello",
    "start": "3760",
    "end": "4319"
  },
  {
    "text": "and thank you for joining this flex deep",
    "start": "4319",
    "end": "5920"
  },
  {
    "text": "dive session my name is philip lane and",
    "start": "5920",
    "end": "8559"
  },
  {
    "text": "i work as a devops engineer at senate we",
    "start": "8559",
    "end": "10719"
  },
  {
    "text": "are a swedish based company who builds",
    "start": "10719",
    "end": "12480"
  },
  {
    "text": "developer-centered experiences around",
    "start": "12480",
    "end": "14639"
  },
  {
    "text": "cloud kubernetes and gitops i am also",
    "start": "14639",
    "end": "17680"
  },
  {
    "text": "part of the flux maintainer team",
    "start": "17680",
    "end": "19439"
  },
  {
    "text": "and that's what i'm here to talk to you",
    "start": "19439",
    "end": "20640"
  },
  {
    "text": "about today so what is flux",
    "start": "20640",
    "end": "23680"
  },
  {
    "start": "22000",
    "end": "22000"
  },
  {
    "text": "well flux is a tool for keeping",
    "start": "23680",
    "end": "25599"
  },
  {
    "text": "kubernetes clusters in sync with sources",
    "start": "25599",
    "end": "27359"
  },
  {
    "text": "of configuration",
    "start": "27359",
    "end": "28640"
  },
  {
    "text": "what this means is that in basic terms",
    "start": "28640",
    "end": "31439"
  },
  {
    "text": "that that you have configuration stored",
    "start": "31439",
    "end": "33280"
  },
  {
    "text": "in",
    "start": "33280",
    "end": "33520"
  },
  {
    "text": "in some sort of external repository for",
    "start": "33520",
    "end": "36320"
  },
  {
    "text": "the most of the time this will be git",
    "start": "36320",
    "end": "38079"
  },
  {
    "text": "and then you have flux the tool running",
    "start": "38079",
    "end": "39920"
  },
  {
    "text": "inside of your kubernetes cluster",
    "start": "39920",
    "end": "41440"
  },
  {
    "text": "that continuously synchronizes with that",
    "start": "41440",
    "end": "44320"
  },
  {
    "text": "external repository",
    "start": "44320",
    "end": "45760"
  },
  {
    "text": "and applies it into the cluster this has",
    "start": "45760",
    "end": "48719"
  },
  {
    "text": "the benefits",
    "start": "48719",
    "end": "49600"
  },
  {
    "text": "partially due to auditability when it",
    "start": "49600",
    "end": "51760"
  },
  {
    "text": "comes to git because you have a history",
    "start": "51760",
    "end": "53440"
  },
  {
    "text": "of changes that you can see who made",
    "start": "53440",
    "end": "54879"
  },
  {
    "text": "changes to what configuration",
    "start": "54879",
    "end": "56480"
  },
  {
    "text": "but also an observability uh perspective",
    "start": "56480",
    "end": "58879"
  },
  {
    "text": "where",
    "start": "58879",
    "end": "59920"
  },
  {
    "text": "it is very easy to look inside the git",
    "start": "59920",
    "end": "62079"
  },
  {
    "text": "repository and see",
    "start": "62079",
    "end": "63199"
  },
  {
    "text": "what is actually being applied inside of",
    "start": "63199",
    "end": "64799"
  },
  {
    "text": "the cluster",
    "start": "64799",
    "end": "67360"
  },
  {
    "text": "so this is a a quick overview of how it",
    "start": "67600",
    "end": "70560"
  },
  {
    "text": "might look like to work with flux",
    "start": "70560",
    "end": "72560"
  },
  {
    "text": "so in one end you have your deployment",
    "start": "72560",
    "end": "75520"
  },
  {
    "text": "manifest",
    "start": "75520",
    "end": "76560"
  },
  {
    "text": "that you are going to commit to a git",
    "start": "76560",
    "end": "78560"
  },
  {
    "text": "repository",
    "start": "78560",
    "end": "79920"
  },
  {
    "text": "on the other end of this you have flux",
    "start": "79920",
    "end": "82240"
  },
  {
    "text": "flex is pulling the git repository",
    "start": "82240",
    "end": "84640"
  },
  {
    "text": "constantly looking for changes if a",
    "start": "84640",
    "end": "87119"
  },
  {
    "text": "change is",
    "start": "87119",
    "end": "88000"
  },
  {
    "text": "detected here it will apply it to the",
    "start": "88000",
    "end": "90560"
  },
  {
    "text": "cluster",
    "start": "90560",
    "end": "91680"
  },
  {
    "text": "so as you can see here you have your",
    "start": "91680",
    "end": "92880"
  },
  {
    "text": "deployment manifest on one end and then",
    "start": "92880",
    "end": "94880"
  },
  {
    "text": "your deployment on the other",
    "start": "94880",
    "end": "96799"
  },
  {
    "text": "and this also works in the sense that if",
    "start": "96799",
    "end": "99040"
  },
  {
    "text": "somebody were to go in and delete",
    "start": "99040",
    "end": "100799"
  },
  {
    "text": "this deployment in the cluster flux will",
    "start": "100799",
    "end": "103759"
  },
  {
    "text": "eventually detect the drift",
    "start": "103759",
    "end": "105360"
  },
  {
    "text": "between what is wanted or expected",
    "start": "105360",
    "end": "108799"
  },
  {
    "text": "and what is actually there in cluster",
    "start": "108799",
    "end": "110960"
  },
  {
    "text": "and reapply the deployment",
    "start": "110960",
    "end": "115840"
  },
  {
    "text": "you have the possibility of really doing",
    "start": "115840",
    "end": "118159"
  },
  {
    "text": "this as simple or as complex as possible",
    "start": "118159",
    "end": "120799"
  },
  {
    "text": "in this",
    "start": "120799",
    "end": "121280"
  },
  {
    "text": "example here it's very simple but you",
    "start": "121280",
    "end": "124079"
  },
  {
    "text": "can make you can scale this out",
    "start": "124079",
    "end": "125600"
  },
  {
    "text": "to run across multiple teams and and",
    "start": "125600",
    "end": "128640"
  },
  {
    "text": "have",
    "start": "128640",
    "end": "129920"
  },
  {
    "text": "different types of functionality and",
    "start": "129920",
    "end": "131280"
  },
  {
    "text": "automation but there isn't really any",
    "start": "131280",
    "end": "133280"
  },
  {
    "text": "requirement to do so so that's kind of",
    "start": "133280",
    "end": "135440"
  },
  {
    "text": "the beauty of flux is that it works for",
    "start": "135440",
    "end": "137920"
  },
  {
    "text": "smaller teams but also works for large",
    "start": "137920",
    "end": "139680"
  },
  {
    "text": "enterprises at the same time",
    "start": "139680",
    "end": "143120"
  },
  {
    "start": "142000",
    "end": "142000"
  },
  {
    "text": "quickly before we get started i just",
    "start": "143120",
    "end": "144640"
  },
  {
    "text": "want to go through a quick timeline of",
    "start": "144640",
    "end": "146480"
  },
  {
    "text": "flux and flagger",
    "start": "146480",
    "end": "148000"
  },
  {
    "text": "so currently flex is incubation project",
    "start": "148000",
    "end": "151280"
  },
  {
    "text": "it has 14 containers at five companies",
    "start": "151280",
    "end": "155040"
  },
  {
    "text": "but it started it's been around for a",
    "start": "155040",
    "end": "156879"
  },
  {
    "text": "while now so in 2016 it started",
    "start": "156879",
    "end": "159120"
  },
  {
    "text": "developing at weworks",
    "start": "159120",
    "end": "160720"
  },
  {
    "text": "uh since then we've had uh the fighter",
    "start": "160720",
    "end": "164319"
  },
  {
    "text": "project showing as a sub project for",
    "start": "164319",
    "end": "166480"
  },
  {
    "text": "those that don't know",
    "start": "166480",
    "end": "167599"
  },
  {
    "text": "flagger is a progressive delivery",
    "start": "167599",
    "end": "169440"
  },
  {
    "text": "operator that works really well with",
    "start": "169440",
    "end": "171040"
  },
  {
    "text": "flux",
    "start": "171040",
    "end": "172319"
  },
  {
    "text": "uh if you're looking for a project to",
    "start": "172319",
    "end": "173680"
  },
  {
    "text": "get involved in i really recommend",
    "start": "173680",
    "end": "175200"
  },
  {
    "text": "getting involved in the flux project",
    "start": "175200",
    "end": "176959"
  },
  {
    "text": "it's it's really fun and we're always",
    "start": "176959",
    "end": "178720"
  },
  {
    "text": "looking for contributors and",
    "start": "178720",
    "end": "180959"
  },
  {
    "text": "we're happy when we see new contributors",
    "start": "180959",
    "end": "182800"
  },
  {
    "text": "join the project",
    "start": "182800",
    "end": "185840"
  },
  {
    "start": "186000",
    "end": "186000"
  },
  {
    "text": "quickly then about my journey into",
    "start": "186239",
    "end": "188640"
  },
  {
    "text": "becoming a maintainer",
    "start": "188640",
    "end": "190159"
  },
  {
    "text": "about influx so in 2018 i was working",
    "start": "190159",
    "end": "195280"
  },
  {
    "text": "as a software developer building",
    "start": "195280",
    "end": "196879"
  },
  {
    "text": "microservices that were deployed on a",
    "start": "196879",
    "end": "199599"
  },
  {
    "text": "cluster orchestrator which was not",
    "start": "199599",
    "end": "201519"
  },
  {
    "text": "cooperatis",
    "start": "201519",
    "end": "202879"
  },
  {
    "text": "um i was kind of looking around looking",
    "start": "202879",
    "end": "205920"
  },
  {
    "text": "at what other opera",
    "start": "205920",
    "end": "207040"
  },
  {
    "text": "like cluster are considered were out",
    "start": "207040",
    "end": "209280"
  },
  {
    "text": "there",
    "start": "209280",
    "end": "210720"
  },
  {
    "text": "and i stumbled upon a blog post about",
    "start": "210720",
    "end": "212879"
  },
  {
    "text": "sony building a",
    "start": "212879",
    "end": "214720"
  },
  {
    "text": "raspberry pi based kubernetes cluster i",
    "start": "214720",
    "end": "216640"
  },
  {
    "text": "found it kind of interesting i wanted",
    "start": "216640",
    "end": "217680"
  },
  {
    "text": "just to find a",
    "start": "217680",
    "end": "219040"
  },
  {
    "text": "hobby project so i started building one",
    "start": "219040",
    "end": "221280"
  },
  {
    "text": "of my own",
    "start": "221280",
    "end": "222239"
  },
  {
    "text": "um somewhere",
    "start": "222239",
    "end": "225360"
  },
  {
    "text": "after that i realized that i wanted to",
    "start": "225360",
    "end": "227200"
  },
  {
    "text": "have continuous delivery",
    "start": "227200",
    "end": "229920"
  },
  {
    "text": "to my new cluster but i realized that",
    "start": "229920",
    "end": "232400"
  },
  {
    "text": "the only way",
    "start": "232400",
    "end": "233519"
  },
  {
    "text": "currently it was possible was to expose",
    "start": "233519",
    "end": "236400"
  },
  {
    "text": "the cube api server to the public",
    "start": "236400",
    "end": "238000"
  },
  {
    "text": "internet",
    "start": "238000",
    "end": "238959"
  },
  {
    "text": "and i wasn't really ready to do that",
    "start": "238959",
    "end": "240319"
  },
  {
    "text": "mostly because it required me to open up",
    "start": "240319",
    "end": "241920"
  },
  {
    "text": "a port in my",
    "start": "241920",
    "end": "242640"
  },
  {
    "text": "my home router so it's looking around",
    "start": "242640",
    "end": "244959"
  },
  {
    "text": "and i'm kind of ashamed of admitting",
    "start": "244959",
    "end": "246560"
  },
  {
    "text": "this but",
    "start": "246560",
    "end": "247760"
  },
  {
    "text": "uh the only reason that i found flux was",
    "start": "247760",
    "end": "250640"
  },
  {
    "text": "because it was a continuous delivery",
    "start": "250640",
    "end": "252319"
  },
  {
    "text": "tool that didn't require",
    "start": "252319",
    "end": "254080"
  },
  {
    "text": "you or didn't require an external",
    "start": "254080",
    "end": "257359"
  },
  {
    "text": "resource to have access to your cluster",
    "start": "257359",
    "end": "261680"
  },
  {
    "text": "so as flux works by pulling an external",
    "start": "261680",
    "end": "265440"
  },
  {
    "text": "git repository work really well with",
    "start": "265440",
    "end": "267280"
  },
  {
    "text": "having a",
    "start": "267280",
    "end": "268639"
  },
  {
    "text": "small cluster that could not get public",
    "start": "268639",
    "end": "270960"
  },
  {
    "text": "ips",
    "start": "270960",
    "end": "272960"
  },
  {
    "text": "moving forward to around well now",
    "start": "272960",
    "end": "276320"
  },
  {
    "text": "uh my cluster does have the ability to",
    "start": "276320",
    "end": "279199"
  },
  {
    "text": "get public ips but it still runs flux",
    "start": "279199",
    "end": "281280"
  },
  {
    "text": "because flux is a great project",
    "start": "281280",
    "end": "282880"
  },
  {
    "text": "and i think somewhere along along the",
    "start": "282880",
    "end": "284479"
  },
  {
    "text": "line there i realized how",
    "start": "284479",
    "end": "286560"
  },
  {
    "text": "what a novel idea flux was",
    "start": "286560",
    "end": "289680"
  },
  {
    "text": "uh so i started getting involved in the",
    "start": "289680",
    "end": "291759"
  },
  {
    "text": "project i was using it",
    "start": "291759",
    "end": "293040"
  },
  {
    "text": "as at work and eventually around",
    "start": "293040",
    "end": "296160"
  },
  {
    "text": "what flux v2 uh started picking up steam",
    "start": "296160",
    "end": "299199"
  },
  {
    "text": "is when when i got more and more",
    "start": "299199",
    "end": "300880"
  },
  {
    "text": "involved and and became a maintainer",
    "start": "300880",
    "end": "303120"
  },
  {
    "text": "uh so so once again if you are",
    "start": "303120",
    "end": "306160"
  },
  {
    "text": "interested in getting involved in an",
    "start": "306160",
    "end": "307440"
  },
  {
    "text": "open source project",
    "start": "307440",
    "end": "308800"
  },
  {
    "text": "i think flutters is a great project too",
    "start": "308800",
    "end": "311199"
  },
  {
    "text": "to get started in",
    "start": "311199",
    "end": "314080"
  },
  {
    "start": "314000",
    "end": "314000"
  },
  {
    "text": "so at senet we develop and operate a",
    "start": "316240",
    "end": "319759"
  },
  {
    "text": "multi-tenant kubernetes",
    "start": "319759",
    "end": "321440"
  },
  {
    "text": "solution that obviously uses uh",
    "start": "321440",
    "end": "324880"
  },
  {
    "text": "flux um in our solution each tenant",
    "start": "324880",
    "end": "327840"
  },
  {
    "text": "usually represents",
    "start": "327840",
    "end": "328880"
  },
  {
    "text": "a team or a product uh when it's a",
    "start": "328880",
    "end": "331759"
  },
  {
    "text": "product is usually because the teams are",
    "start": "331759",
    "end": "333680"
  },
  {
    "text": "working on around a central product",
    "start": "333680",
    "end": "336160"
  },
  {
    "text": "together",
    "start": "336160",
    "end": "337120"
  },
  {
    "text": "antennas can raise they can rise range",
    "start": "337120",
    "end": "340240"
  },
  {
    "text": "anywhere in size between",
    "start": "340240",
    "end": "341520"
  },
  {
    "text": "a couple of applications to 50 plus",
    "start": "341520",
    "end": "345840"
  },
  {
    "text": "we are heavy azure users so as you can",
    "start": "345840",
    "end": "348720"
  },
  {
    "text": "see",
    "start": "348720",
    "end": "349280"
  },
  {
    "text": "we have an aks cluster and a couple of",
    "start": "349280",
    "end": "351680"
  },
  {
    "text": "resource groups so each tenant is",
    "start": "351680",
    "end": "353600"
  },
  {
    "text": "is confined by default to their own",
    "start": "353600",
    "end": "355919"
  },
  {
    "text": "namespace within the kubernetes cluster",
    "start": "355919",
    "end": "358080"
  },
  {
    "text": "um and it's linked together to an azure",
    "start": "358080",
    "end": "361280"
  },
  {
    "text": "resource group",
    "start": "361280",
    "end": "362319"
  },
  {
    "text": "so this brings the challenge of how to",
    "start": "362319",
    "end": "364080"
  },
  {
    "text": "expose these namespaces or tenants",
    "start": "364080",
    "end": "367520"
  },
  {
    "text": "to our end developers in a safe and",
    "start": "367520",
    "end": "370000"
  },
  {
    "text": "secure way which",
    "start": "370000",
    "end": "371680"
  },
  {
    "text": "has a reasonable maintainability",
    "start": "371680",
    "end": "375120"
  },
  {
    "text": "in the long run when it comes to",
    "start": "375120",
    "end": "376560"
  },
  {
    "text": "maintaining clusters before",
    "start": "376560",
    "end": "380560"
  },
  {
    "start": "380000",
    "end": "380000"
  },
  {
    "text": "i joined uh senate",
    "start": "380560",
    "end": "383759"
  },
  {
    "text": "we were not using flux there",
    "start": "383759",
    "end": "387039"
  },
  {
    "text": "and i think this is a technical",
    "start": "387039",
    "end": "389840"
  },
  {
    "text": "deployment method that",
    "start": "389840",
    "end": "391120"
  },
  {
    "text": "most companies have been using for a",
    "start": "391120",
    "end": "393039"
  },
  {
    "text": "while now with kubernetes",
    "start": "393039",
    "end": "394160"
  },
  {
    "text": "and well before kubernetes uh so",
    "start": "394160",
    "end": "397199"
  },
  {
    "text": "development teams were maintaining their",
    "start": "397199",
    "end": "398560"
  },
  {
    "text": "own cd pipelines they would have",
    "start": "398560",
    "end": "401039"
  },
  {
    "text": "multiple applications that would have",
    "start": "401039",
    "end": "403039"
  },
  {
    "text": "each have a continuous delivery pipeline",
    "start": "403039",
    "end": "404960"
  },
  {
    "text": "that was pushing in or",
    "start": "404960",
    "end": "406240"
  },
  {
    "text": "that was first of all building the image",
    "start": "406240",
    "end": "408400"
  },
  {
    "text": "and then pushing that image",
    "start": "408400",
    "end": "410639"
  },
  {
    "text": "to a central registry and then it was",
    "start": "410639",
    "end": "414160"
  },
  {
    "text": "running some sort of cube ctl apply or",
    "start": "414160",
    "end": "416160"
  },
  {
    "text": "help install upgrade",
    "start": "416160",
    "end": "418000"
  },
  {
    "text": "command towards the cluster",
    "start": "418000",
    "end": "421199"
  },
  {
    "text": "this resulted in applications",
    "start": "421440",
    "end": "424720"
  },
  {
    "text": "having their manifests and source code",
    "start": "424720",
    "end": "427199"
  },
  {
    "text": "tightly coupled",
    "start": "427199",
    "end": "428319"
  },
  {
    "text": "as each application would basically have",
    "start": "428319",
    "end": "430000"
  },
  {
    "text": "their own unique manifest",
    "start": "430000",
    "end": "432000"
  },
  {
    "text": "um it would also require each",
    "start": "432000",
    "end": "434319"
  },
  {
    "text": "application or at least their cd",
    "start": "434319",
    "end": "436080"
  },
  {
    "text": "pipeline to know about the cluster",
    "start": "436080",
    "end": "438400"
  },
  {
    "text": "uh any any changes to the cluster or",
    "start": "438400",
    "end": "441440"
  },
  {
    "text": "if you wanted to replace the cluster",
    "start": "441440",
    "end": "442880"
  },
  {
    "text": "would require you to go into into each",
    "start": "442880",
    "end": "444720"
  },
  {
    "text": "and every application and",
    "start": "444720",
    "end": "446400"
  },
  {
    "text": "update them to point them towards a",
    "start": "446400",
    "end": "448720"
  },
  {
    "text": "different cluster",
    "start": "448720",
    "end": "451759"
  },
  {
    "text": "and any small manifest change would well",
    "start": "451759",
    "end": "454479"
  },
  {
    "text": "first of all",
    "start": "454479",
    "end": "455199"
  },
  {
    "text": "require you to rebuild the whole image",
    "start": "455199",
    "end": "458400"
  },
  {
    "text": "as",
    "start": "458400",
    "end": "459440"
  },
  {
    "text": "adding custom logic to detect manifest",
    "start": "459440",
    "end": "462000"
  },
  {
    "text": "changes and skipping the build was",
    "start": "462000",
    "end": "465280"
  },
  {
    "text": "complex and it depended on if the teams",
    "start": "465280",
    "end": "467840"
  },
  {
    "text": "were willing to build that type of logic",
    "start": "467840",
    "end": "471599"
  },
  {
    "text": "but also it would require you to trigger",
    "start": "471680",
    "end": "474080"
  },
  {
    "text": "all of the applications",
    "start": "474080",
    "end": "475759"
  },
  {
    "text": "so for example we all know that api",
    "start": "475759",
    "end": "478800"
  },
  {
    "text": "versions",
    "start": "478800",
    "end": "479599"
  },
  {
    "text": "sometimes get deprecated in a situation",
    "start": "479599",
    "end": "482160"
  },
  {
    "text": "where",
    "start": "482160",
    "end": "482879"
  },
  {
    "text": "we were using an old api version and we",
    "start": "482879",
    "end": "485360"
  },
  {
    "text": "needed to upgrade the kubernetes cluster",
    "start": "485360",
    "end": "487440"
  },
  {
    "text": "and we need to make sure that each",
    "start": "487440",
    "end": "488800"
  },
  {
    "text": "development team was upgrading their",
    "start": "488800",
    "end": "490400"
  },
  {
    "text": "manifest",
    "start": "490400",
    "end": "491199"
  },
  {
    "text": "that would require somebody to go into",
    "start": "491199",
    "end": "494879"
  },
  {
    "text": "60 applications and manually",
    "start": "494879",
    "end": "498319"
  },
  {
    "text": "update or re-trigger that application to",
    "start": "498319",
    "end": "500560"
  },
  {
    "text": "deploy a new helm chart",
    "start": "500560",
    "end": "502240"
  },
  {
    "text": "to the cluster so you end up building",
    "start": "502240",
    "end": "505440"
  },
  {
    "text": "new automation tools around automation",
    "start": "505440",
    "end": "507840"
  },
  {
    "text": "just to manage",
    "start": "507840",
    "end": "508960"
  },
  {
    "text": "manifests and this is around the time",
    "start": "508960",
    "end": "512240"
  },
  {
    "text": "that i came in",
    "start": "512240",
    "end": "513279"
  },
  {
    "text": "and tried to bring some of my",
    "start": "513279",
    "end": "515599"
  },
  {
    "text": "experiences",
    "start": "515599",
    "end": "516719"
  },
  {
    "text": "that i've had in the past around flux",
    "start": "516719",
    "end": "520800"
  },
  {
    "text": "so my idea was that flux would solve a",
    "start": "520800",
    "end": "523440"
  },
  {
    "text": "lot of the",
    "start": "523440",
    "end": "524240"
  },
  {
    "text": "bigger issues that we're seeing with",
    "start": "524240",
    "end": "525440"
  },
  {
    "text": "development teams",
    "start": "525440",
    "end": "527360"
  },
  {
    "text": "mostly around trying to keep what",
    "start": "527360",
    "end": "531680"
  },
  {
    "text": "developers already knew and worked but",
    "start": "531680",
    "end": "533839"
  },
  {
    "text": "replaced things that",
    "start": "533839",
    "end": "535760"
  },
  {
    "text": "were still new for for certain",
    "start": "535760",
    "end": "538720"
  },
  {
    "text": "developers",
    "start": "538720",
    "end": "539440"
  },
  {
    "text": "but could simplify their lives and our",
    "start": "539440",
    "end": "541920"
  },
  {
    "text": "lives",
    "start": "541920",
    "end": "542560"
  },
  {
    "text": "also um so after implementing flux one",
    "start": "542560",
    "end": "546399"
  },
  {
    "text": "of the main benefits that we're getting",
    "start": "546399",
    "end": "547600"
  },
  {
    "text": "is we're getting a unified entry point",
    "start": "547600",
    "end": "549200"
  },
  {
    "text": "towards kubernetes",
    "start": "549200",
    "end": "551200"
  },
  {
    "text": "as it is a pull-based deployment method",
    "start": "551200",
    "end": "553200"
  },
  {
    "text": "we don't have to",
    "start": "553200",
    "end": "554640"
  },
  {
    "text": "export any service account tokens",
    "start": "554640",
    "end": "557279"
  },
  {
    "text": "outside of the cluster",
    "start": "557279",
    "end": "558560"
  },
  {
    "text": "we don't have to configure individual",
    "start": "558560",
    "end": "561040"
  },
  {
    "text": "deployment pipelines to",
    "start": "561040",
    "end": "562720"
  },
  {
    "text": "tell it which cluster to look at so",
    "start": "562720",
    "end": "565760"
  },
  {
    "text": "this opens up opportunities of running",
    "start": "565760",
    "end": "567839"
  },
  {
    "text": "for example blue-green deployments of",
    "start": "567839",
    "end": "569600"
  },
  {
    "text": "clusters",
    "start": "569600",
    "end": "571760"
  },
  {
    "text": "it is simplifies observability of what",
    "start": "571760",
    "end": "574399"
  },
  {
    "text": "is being deployed so this means that we",
    "start": "574399",
    "end": "576720"
  },
  {
    "text": "can run automatic",
    "start": "576720",
    "end": "577680"
  },
  {
    "text": "automated scanning tools to look at our",
    "start": "577680",
    "end": "579920"
  },
  {
    "text": "the developers manifests to",
    "start": "579920",
    "end": "581600"
  },
  {
    "text": "help them be better at their jobs",
    "start": "581600",
    "end": "585360"
  },
  {
    "text": "and changes to manifest are easy and",
    "start": "585360",
    "end": "588640"
  },
  {
    "text": "fast",
    "start": "588640",
    "end": "589839"
  },
  {
    "text": "so when we if we for example come up",
    "start": "589839",
    "end": "592640"
  },
  {
    "text": "with a new recommendation or we want to",
    "start": "592640",
    "end": "594240"
  },
  {
    "text": "run",
    "start": "594240",
    "end": "594880"
  },
  {
    "text": "new api versions being able to just go",
    "start": "594880",
    "end": "597360"
  },
  {
    "text": "into a single repository or a couple of",
    "start": "597360",
    "end": "599279"
  },
  {
    "text": "repositories",
    "start": "599279",
    "end": "600240"
  },
  {
    "text": "is way much easier and way much better",
    "start": "600240",
    "end": "602399"
  },
  {
    "text": "than just",
    "start": "602399",
    "end": "603519"
  },
  {
    "text": "having to do that for for 50 or so so",
    "start": "603519",
    "end": "606640"
  },
  {
    "text": "one of the cool things with flux is that",
    "start": "606640",
    "end": "608079"
  },
  {
    "start": "607000",
    "end": "607000"
  },
  {
    "text": "you can run it in a multi-tenancy",
    "start": "608079",
    "end": "609760"
  },
  {
    "text": "solution what this means is that you can",
    "start": "609760",
    "end": "612000"
  },
  {
    "text": "configure",
    "start": "612000",
    "end": "613200"
  },
  {
    "text": "a single git repository to only have",
    "start": "613200",
    "end": "615360"
  },
  {
    "text": "access to",
    "start": "615360",
    "end": "616720"
  },
  {
    "text": "a namespace in this case a tenant would",
    "start": "616720",
    "end": "620000"
  },
  {
    "text": "have",
    "start": "620000",
    "end": "620800"
  },
  {
    "text": "one git repository and one namespace and",
    "start": "620800",
    "end": "624160"
  },
  {
    "text": "these",
    "start": "624160",
    "end": "624640"
  },
  {
    "text": "would be linked together with flux so",
    "start": "624640",
    "end": "626800"
  },
  {
    "text": "anything that you place into this git",
    "start": "626800",
    "end": "628240"
  },
  {
    "text": "repository",
    "start": "628240",
    "end": "629279"
  },
  {
    "text": "would then be synchronized into that",
    "start": "629279",
    "end": "631200"
  },
  {
    "text": "namespace",
    "start": "631200",
    "end": "632560"
  },
  {
    "text": "this allows for a good separation",
    "start": "632560",
    "end": "635680"
  },
  {
    "text": "between",
    "start": "635680",
    "end": "636240"
  },
  {
    "text": "teams where they can cooperate through",
    "start": "636240",
    "end": "638720"
  },
  {
    "text": "opening up their namespaces with network",
    "start": "638720",
    "end": "640720"
  },
  {
    "text": "policies",
    "start": "640720",
    "end": "641680"
  },
  {
    "text": "but only a specific team would have",
    "start": "641680",
    "end": "643440"
  },
  {
    "text": "access to their own namespace",
    "start": "643440",
    "end": "647440"
  },
  {
    "text": "because this configuration is",
    "start": "647440",
    "end": "650480"
  },
  {
    "text": "all based on yaml it becomes very easy",
    "start": "650480",
    "end": "653920"
  },
  {
    "text": "to automate so you can configure flux in",
    "start": "653920",
    "end": "658079"
  },
  {
    "text": "multiple ways",
    "start": "658079",
    "end": "658880"
  },
  {
    "text": "so one of them is by using the flux cli",
    "start": "658880",
    "end": "661360"
  },
  {
    "text": "another one",
    "start": "661360",
    "end": "662079"
  },
  {
    "text": "is using the terraform provider which",
    "start": "662079",
    "end": "663839"
  },
  {
    "text": "helps you bootstrap the cluster with",
    "start": "663839",
    "end": "665440"
  },
  {
    "text": "terraform",
    "start": "665440",
    "end": "666959"
  },
  {
    "text": "and the last one is writing manifests on",
    "start": "666959",
    "end": "669440"
  },
  {
    "text": "your own",
    "start": "669440",
    "end": "671839"
  },
  {
    "text": "we can quickly demo onboarding a new",
    "start": "671839",
    "end": "675120"
  },
  {
    "text": "tenant",
    "start": "675120",
    "end": "676399"
  },
  {
    "text": "by jumping into this terraform here",
    "start": "676399",
    "end": "679839"
  },
  {
    "text": "so this is this terraform sets up a",
    "start": "679839",
    "end": "682240"
  },
  {
    "text": "single aps cluster",
    "start": "682240",
    "end": "683839"
  },
  {
    "text": "that has three environments and it's a",
    "start": "683839",
    "end": "686240"
  },
  {
    "text": "dev a qa and a production environment",
    "start": "686240",
    "end": "689040"
  },
  {
    "text": "if we call it out this we're going to",
    "start": "689040",
    "end": "690399"
  },
  {
    "text": "set up a new tenant called tenant b",
    "start": "690399",
    "end": "693200"
  },
  {
    "text": "we point out the git repository that",
    "start": "693200",
    "end": "695120"
  },
  {
    "text": "it's supposed to synchronize from",
    "start": "695120",
    "end": "698480"
  },
  {
    "text": "and we",
    "start": "698480",
    "end": "701040"
  },
  {
    "text": "first run a plan",
    "start": "701680",
    "end": "705120"
  },
  {
    "text": "while this plan is running we can look",
    "start": "705120",
    "end": "706800"
  },
  {
    "text": "at uh the",
    "start": "706800",
    "end": "708320"
  },
  {
    "text": "fleet chamfer repo so for flux the fleet",
    "start": "708320",
    "end": "710880"
  },
  {
    "text": "jumper repository",
    "start": "710880",
    "end": "712480"
  },
  {
    "text": "is the main repository that is initially",
    "start": "712480",
    "end": "716000"
  },
  {
    "text": "synced from by flux in here we have",
    "start": "716000",
    "end": "719279"
  },
  {
    "text": "a tenant directory and right now we have",
    "start": "719279",
    "end": "721200"
  },
  {
    "text": "our tenant a configured",
    "start": "721200",
    "end": "722880"
  },
  {
    "text": "so the tenant a deploys a or creates a",
    "start": "722880",
    "end": "725360"
  },
  {
    "text": "service account a role binding a git",
    "start": "725360",
    "end": "727360"
  },
  {
    "text": "repository and a customization for this",
    "start": "727360",
    "end": "729440"
  },
  {
    "text": "tenant",
    "start": "729440",
    "end": "730320"
  },
  {
    "text": "and as you can see here it's pointing",
    "start": "730320",
    "end": "732000"
  },
  {
    "text": "towards a separate git repository",
    "start": "732000",
    "end": "734480"
  },
  {
    "text": "uh this git repository is located here",
    "start": "734480",
    "end": "737600"
  },
  {
    "text": "so this is tenant b's get repository and",
    "start": "737600",
    "end": "739440"
  },
  {
    "text": "they've been",
    "start": "739440",
    "end": "739920"
  },
  {
    "text": "super nice that they've actually set up",
    "start": "739920",
    "end": "742079"
  },
  {
    "text": "all the manifesting configuration",
    "start": "742079",
    "end": "744399"
  },
  {
    "text": "before or ahead of time",
    "start": "744399",
    "end": "747600"
  },
  {
    "text": "if you go back to our plan it should be",
    "start": "747600",
    "end": "749839"
  },
  {
    "text": "ready",
    "start": "749839",
    "end": "750800"
  },
  {
    "text": "to run",
    "start": "750800",
    "end": "753360"
  },
  {
    "text": "so 10mb is just going to deploy a simple",
    "start": "754320",
    "end": "756959"
  },
  {
    "text": "guestbook application",
    "start": "756959",
    "end": "758399"
  },
  {
    "text": "and it's going to set up a certificate",
    "start": "758399",
    "end": "759760"
  },
  {
    "text": "and ingress and a couple of pods that's",
    "start": "759760",
    "end": "762000"
  },
  {
    "text": "going to be deployed",
    "start": "762000",
    "end": "763839"
  },
  {
    "text": "but all these changes will be",
    "start": "763839",
    "end": "765600"
  },
  {
    "text": "automatically reconciled so",
    "start": "765600",
    "end": "767680"
  },
  {
    "text": "we don't really have to interact anyway",
    "start": "767680",
    "end": "770000"
  },
  {
    "text": "with",
    "start": "770000",
    "end": "771120"
  },
  {
    "text": "the cluster or uh the the team's",
    "start": "771120",
    "end": "774399"
  },
  {
    "text": "repository after we set things up",
    "start": "774399",
    "end": "776320"
  },
  {
    "text": "because all flux is going to do is going",
    "start": "776320",
    "end": "777920"
  },
  {
    "text": "to it's going to reconcile or it's going",
    "start": "777920",
    "end": "779200"
  },
  {
    "text": "to synchronize from its fleet temper",
    "start": "779200",
    "end": "780560"
  },
  {
    "text": "repository",
    "start": "780560",
    "end": "781839"
  },
  {
    "text": "and it's going to apply the new tenant",
    "start": "781839",
    "end": "784000"
  },
  {
    "text": "configuration that it's committed",
    "start": "784000",
    "end": "785760"
  },
  {
    "text": "to the repository",
    "start": "785760",
    "end": "788959"
  },
  {
    "text": "and then it's going to go off to the",
    "start": "788959",
    "end": "791200"
  },
  {
    "text": "next",
    "start": "791200",
    "end": "792079"
  },
  {
    "text": "git repository and for the tenant b and",
    "start": "792079",
    "end": "794639"
  },
  {
    "text": "synchronize the",
    "start": "794639",
    "end": "795519"
  },
  {
    "text": "the manifesting configurations from",
    "start": "795519",
    "end": "798839"
  },
  {
    "text": "there so now the terraform has completed",
    "start": "798839",
    "end": "801360"
  },
  {
    "text": "we can actually",
    "start": "801360",
    "end": "802240"
  },
  {
    "text": "jump in and look what's being uh changed",
    "start": "802240",
    "end": "805600"
  },
  {
    "text": "here",
    "start": "805600",
    "end": "806000"
  },
  {
    "text": "so jump into production database or",
    "start": "806000",
    "end": "808560"
  },
  {
    "text": "production any space for",
    "start": "808560",
    "end": "810639"
  },
  {
    "text": "uh the tenants and let's get the",
    "start": "810639",
    "end": "813200"
  },
  {
    "text": "ingresses",
    "start": "813200",
    "end": "814800"
  },
  {
    "text": "and you can see oh great an ingress has",
    "start": "814800",
    "end": "816720"
  },
  {
    "text": "been applied to the cluster",
    "start": "816720",
    "end": "818639"
  },
  {
    "text": "we can get odds and we can see that",
    "start": "818639",
    "end": "822399"
  },
  {
    "text": "we have our guestbook application",
    "start": "822399",
    "end": "823760"
  },
  {
    "text": "running with redis if we",
    "start": "823760",
    "end": "828480"
  },
  {
    "text": "jump and get the",
    "start": "828480",
    "end": "832480"
  },
  {
    "text": "dns name we're now seeing the guest",
    "start": "833279",
    "end": "836240"
  },
  {
    "text": "application running here",
    "start": "836240",
    "end": "838079"
  },
  {
    "text": "so what has actually happened well if we",
    "start": "838079",
    "end": "841279"
  },
  {
    "text": "go to our fleet camper repository",
    "start": "841279",
    "end": "843519"
  },
  {
    "text": "and refresh the page we can see there is",
    "start": "843519",
    "end": "845360"
  },
  {
    "text": "a new dev b yaml",
    "start": "845360",
    "end": "846959"
  },
  {
    "text": "file that's been applied by terraform uh",
    "start": "846959",
    "end": "850639"
  },
  {
    "text": "this creates the new challenge",
    "start": "850639",
    "end": "852240"
  },
  {
    "text": "configuration with new role bindings to",
    "start": "852240",
    "end": "854720"
  },
  {
    "text": "a different name space and a new git",
    "start": "854720",
    "end": "856320"
  },
  {
    "text": "repository",
    "start": "856320",
    "end": "857760"
  },
  {
    "text": "and then from there on fleek infra repo",
    "start": "857760",
    "end": "860560"
  },
  {
    "text": "kind of",
    "start": "860560",
    "end": "861040"
  },
  {
    "text": "loses responsibility over what else is",
    "start": "861040",
    "end": "863920"
  },
  {
    "text": "created here",
    "start": "863920",
    "end": "864800"
  },
  {
    "text": "so then flux is going to reconcile this",
    "start": "864800",
    "end": "866560"
  },
  {
    "text": "git repository",
    "start": "866560",
    "end": "867839"
  },
  {
    "text": "and look at the b tenants repository",
    "start": "867839",
    "end": "872160"
  },
  {
    "text": "and here we see and for example",
    "start": "872160",
    "end": "874079"
  },
  {
    "text": "production that we have created an",
    "start": "874079",
    "end": "875839"
  },
  {
    "text": "ingress resource",
    "start": "875839",
    "end": "877600"
  },
  {
    "text": "for guestbook a certificate",
    "start": "877600",
    "end": "881279"
  },
  {
    "text": "and we have our base here and the base",
    "start": "881279",
    "end": "883600"
  },
  {
    "text": "is deploying",
    "start": "883600",
    "end": "884800"
  },
  {
    "text": "our guest book application so all this",
    "start": "884800",
    "end": "887680"
  },
  {
    "text": "is basically",
    "start": "887680",
    "end": "888560"
  },
  {
    "text": "automatically reconciled so from from",
    "start": "888560",
    "end": "891360"
  },
  {
    "text": "the tenant's perspective",
    "start": "891360",
    "end": "893040"
  },
  {
    "text": "they have their own entry point into the",
    "start": "893040",
    "end": "895040"
  },
  {
    "text": "cluster that is configured",
    "start": "895040",
    "end": "896800"
  },
  {
    "text": "by the cluster administrator",
    "start": "896800",
    "end": "899440"
  },
  {
    "text": "successfully introduce flux",
    "start": "899440",
    "end": "900959"
  },
  {
    "start": "900000",
    "end": "900000"
  },
  {
    "text": "it requires buy-in from all participants",
    "start": "900959",
    "end": "903839"
  },
  {
    "text": "initially flux can seem a bit",
    "start": "903839",
    "end": "905760"
  },
  {
    "text": "foreign in the way that it works to some",
    "start": "905760",
    "end": "908079"
  },
  {
    "text": "people and it's mostly because",
    "start": "908079",
    "end": "909920"
  },
  {
    "text": "it strays away initially from the",
    "start": "909920",
    "end": "912720"
  },
  {
    "text": "traditional",
    "start": "912720",
    "end": "914399"
  },
  {
    "text": "cd promotion pipeline where you have a",
    "start": "914399",
    "end": "917519"
  },
  {
    "text": "first deployment to a dev environment",
    "start": "917519",
    "end": "920000"
  },
  {
    "text": "and then a qa and then a production and",
    "start": "920000",
    "end": "922160"
  },
  {
    "text": "there's like a",
    "start": "922160",
    "end": "923279"
  },
  {
    "text": "logical pipeline of promotion",
    "start": "923279",
    "end": "928000"
  },
  {
    "text": "in it one of the earlier issues with",
    "start": "928000",
    "end": "930240"
  },
  {
    "text": "flux was that there was no",
    "start": "930240",
    "end": "932160"
  },
  {
    "text": "feedback loop between a commit and",
    "start": "932160",
    "end": "935360"
  },
  {
    "text": "an actual successful deployment today",
    "start": "935360",
    "end": "938320"
  },
  {
    "text": "flux has a component called a",
    "start": "938320",
    "end": "940240"
  },
  {
    "text": "notification controller",
    "start": "940240",
    "end": "941839"
  },
  {
    "text": "what it can do is that it can link",
    "start": "941839",
    "end": "943680"
  },
  {
    "text": "together",
    "start": "943680",
    "end": "944880"
  },
  {
    "text": "the reconciliation events from a",
    "start": "944880",
    "end": "946639"
  },
  {
    "text": "specific commit to",
    "start": "946639",
    "end": "948160"
  },
  {
    "text": "feedback the actual status of that",
    "start": "948160",
    "end": "951839"
  },
  {
    "text": "deployment so in this image to the left",
    "start": "951839",
    "end": "955279"
  },
  {
    "text": "here we have",
    "start": "955279",
    "end": "956320"
  },
  {
    "text": "a git history of commits and for each",
    "start": "956320",
    "end": "959759"
  },
  {
    "text": "commit you will have",
    "start": "959759",
    "end": "961120"
  },
  {
    "text": "flexible reconcile that commits and then",
    "start": "961120",
    "end": "964000"
  },
  {
    "text": "it will",
    "start": "964000",
    "end": "964800"
  },
  {
    "text": "post the status of that commit back to",
    "start": "964800",
    "end": "968000"
  },
  {
    "text": "your git provider if it's github gitlab",
    "start": "968000",
    "end": "970399"
  },
  {
    "text": "azure devops or bitbucket",
    "start": "970399",
    "end": "972480"
  },
  {
    "text": "uh this uses the same apis that the",
    "start": "972480",
    "end": "975759"
  },
  {
    "text": "ci does so it shows up as a green check",
    "start": "975759",
    "end": "978560"
  },
  {
    "text": "mark or a",
    "start": "978560",
    "end": "979600"
  },
  {
    "text": "red cross if it's unhealthy so",
    "start": "979600",
    "end": "982720"
  },
  {
    "text": "as you can see here this commit would be",
    "start": "982720",
    "end": "984639"
  },
  {
    "text": "reconciled and",
    "start": "984639",
    "end": "986000"
  },
  {
    "text": "it might be that your application has a",
    "start": "986000",
    "end": "988240"
  },
  {
    "text": "bug in it or",
    "start": "988240",
    "end": "989680"
  },
  {
    "text": "that it can't pull the image and then",
    "start": "989680",
    "end": "993040"
  },
  {
    "text": "the reconciliation would eventually fail",
    "start": "993040",
    "end": "994880"
  },
  {
    "text": "because the health checks fail",
    "start": "994880",
    "end": "996320"
  },
  {
    "text": "and it would post back a unhealthy",
    "start": "996320",
    "end": "999120"
  },
  {
    "text": "commit status",
    "start": "999120",
    "end": "1000240"
  },
  {
    "text": "back to it so with this",
    "start": "1000240",
    "end": "1003839"
  },
  {
    "text": "feature implemented it reaches a middle",
    "start": "1003839",
    "end": "1007199"
  },
  {
    "text": "point between",
    "start": "1007199",
    "end": "1008839"
  },
  {
    "text": "the new jet ops deployment",
    "start": "1008839",
    "end": "1012079"
  },
  {
    "text": "methodologies and maybe the older",
    "start": "1012079",
    "end": "1015759"
  },
  {
    "text": "ways where there are very big benefits",
    "start": "1015759",
    "end": "1018480"
  },
  {
    "text": "of of getting a",
    "start": "1018480",
    "end": "1020079"
  },
  {
    "text": "feedback between a commit and a",
    "start": "1020079",
    "end": "1023279"
  },
  {
    "text": "success or failure which used to",
    "start": "1023279",
    "end": "1026480"
  },
  {
    "text": "be missing in in flux but isn't anymore",
    "start": "1026480",
    "end": "1030000"
  },
  {
    "text": "what's also cool with this feature is",
    "start": "1030000",
    "end": "1032079"
  },
  {
    "text": "that we're now able to",
    "start": "1032079",
    "end": "1033760"
  },
  {
    "text": "build promotion flows around this",
    "start": "1033760",
    "end": "1035120"
  },
  {
    "text": "without actually needing access to",
    "start": "1035120",
    "end": "1038079"
  },
  {
    "text": "the cluster everything is pulled in by",
    "start": "1038079",
    "end": "1041280"
  },
  {
    "text": "flux so flux just needs access to the",
    "start": "1041280",
    "end": "1043038"
  },
  {
    "text": "kit repositories",
    "start": "1043039",
    "end": "1044079"
  },
  {
    "text": "but also the feedback is posted by flux",
    "start": "1044079",
    "end": "1046720"
  },
  {
    "text": "so there's nothing going back to the",
    "start": "1046720",
    "end": "1048240"
  },
  {
    "text": "cluster to check the actual deployment",
    "start": "1048240",
    "end": "1050400"
  },
  {
    "text": "so in theory what you can do is you can",
    "start": "1050400",
    "end": "1053120"
  },
  {
    "text": "have a",
    "start": "1053120",
    "end": "1055600"
  },
  {
    "text": "pipeline configuration that after a",
    "start": "1055600",
    "end": "1058400"
  },
  {
    "text": "change to a",
    "start": "1058400",
    "end": "1060000"
  },
  {
    "text": "dev manifest it could take that change",
    "start": "1060000",
    "end": "1063200"
  },
  {
    "text": "create a pr to the qa manifest and wait",
    "start": "1063200",
    "end": "1066480"
  },
  {
    "text": "for the dev chain",
    "start": "1066480",
    "end": "1067520"
  },
  {
    "text": "commit to have a successful status",
    "start": "1067520",
    "end": "1070160"
  },
  {
    "text": "posted back",
    "start": "1070160",
    "end": "1071679"
  },
  {
    "text": "so we we can actually demo this now",
    "start": "1071679",
    "end": "1075200"
  },
  {
    "text": "uh if we go here and",
    "start": "1075200",
    "end": "1078240"
  },
  {
    "text": "what i've hit here is the pod info",
    "start": "1078240",
    "end": "1081120"
  },
  {
    "text": "application that i have for",
    "start": "1081120",
    "end": "1083200"
  },
  {
    "text": "and if we jump in to",
    "start": "1083200",
    "end": "1086799"
  },
  {
    "text": "the code quickly and then",
    "start": "1086799",
    "end": "1090960"
  },
  {
    "text": "we can change the color",
    "start": "1091200",
    "end": "1094480"
  },
  {
    "text": "of the background let's say",
    "start": "1094480",
    "end": "1098559"
  },
  {
    "text": "there we go",
    "start": "1100880",
    "end": "1103440"
  },
  {
    "text": "add this change change background color",
    "start": "1105600",
    "end": "1108400"
  },
  {
    "text": "push",
    "start": "1108400",
    "end": "1110400"
  },
  {
    "text": "the code so this will trigger a ci",
    "start": "1110400",
    "end": "1112960"
  },
  {
    "text": "pipeline that's going to build",
    "start": "1112960",
    "end": "1114400"
  },
  {
    "text": "a docker image and then it will",
    "start": "1114400",
    "end": "1117600"
  },
  {
    "text": "trigger a promotion flow if we",
    "start": "1117600",
    "end": "1123840"
  },
  {
    "text": "get the ingress and we jump to our",
    "start": "1125760",
    "end": "1128640"
  },
  {
    "text": "browser",
    "start": "1128640",
    "end": "1130000"
  },
  {
    "text": "so this is currently running the the",
    "start": "1130000",
    "end": "1133200"
  },
  {
    "text": "older",
    "start": "1133200",
    "end": "1133919"
  },
  {
    "text": "pod info version we can see this",
    "start": "1133919",
    "end": "1137440"
  },
  {
    "text": "in qa and",
    "start": "1137440",
    "end": "1142480"
  },
  {
    "text": "production so if we could jump to",
    "start": "1142799",
    "end": "1146240"
  },
  {
    "text": "pipelines",
    "start": "1146240",
    "end": "1148720"
  },
  {
    "text": "i think we're all familiar with with",
    "start": "1149520",
    "end": "1150960"
  },
  {
    "text": "this type of build story or just",
    "start": "1150960",
    "end": "1153039"
  },
  {
    "text": "building a docker image",
    "start": "1153039",
    "end": "1155039"
  },
  {
    "text": "um what's different here is that we have",
    "start": "1155039",
    "end": "1158240"
  },
  {
    "text": "our",
    "start": "1158240",
    "end": "1160160"
  },
  {
    "text": "tenant a git ops repository so the",
    "start": "1160160",
    "end": "1162880"
  },
  {
    "text": "tenant a is the one deploying the pod",
    "start": "1162880",
    "end": "1164640"
  },
  {
    "text": "info application",
    "start": "1164640",
    "end": "1166480"
  },
  {
    "text": "if we jump into apps and dev there is a",
    "start": "1166480",
    "end": "1172080"
  },
  {
    "text": "override of the image tag here this",
    "start": "1173440",
    "end": "1176160"
  },
  {
    "text": "annotation is a",
    "start": "1176160",
    "end": "1177600"
  },
  {
    "text": "custom annotation used by the tooling",
    "start": "1177600",
    "end": "1180640"
  },
  {
    "text": "that runs in our ci to update",
    "start": "1180640",
    "end": "1183679"
  },
  {
    "text": "you can also in theory do these types of",
    "start": "1183679",
    "end": "1186480"
  },
  {
    "text": "promotional flows with image automation",
    "start": "1186480",
    "end": "1188160"
  },
  {
    "text": "controller as it becomes more stable",
    "start": "1188160",
    "end": "1191120"
  },
  {
    "text": "i think currently it's in a uh beta or",
    "start": "1191120",
    "end": "1194000"
  },
  {
    "text": "alpha release",
    "start": "1194000",
    "end": "1195520"
  },
  {
    "text": "but probably soon it will it will reach",
    "start": "1195520",
    "end": "1198640"
  },
  {
    "text": "a more stable version that",
    "start": "1198640",
    "end": "1201039"
  },
  {
    "text": "will come by default in flux um",
    "start": "1201039",
    "end": "1204960"
  },
  {
    "text": "so what our goal is here is that after",
    "start": "1204960",
    "end": "1207280"
  },
  {
    "text": "the pipeline has been built we want to",
    "start": "1207280",
    "end": "1208960"
  },
  {
    "text": "update",
    "start": "1208960",
    "end": "1209679"
  },
  {
    "text": "the tag override in this dev",
    "start": "1209679",
    "end": "1212080"
  },
  {
    "text": "customization",
    "start": "1212080",
    "end": "1213280"
  },
  {
    "text": "and after that as that change has been",
    "start": "1213280",
    "end": "1215120"
  },
  {
    "text": "synchronized into the cluster",
    "start": "1215120",
    "end": "1216559"
  },
  {
    "text": "we obviously want to go forward and move",
    "start": "1216559",
    "end": "1219520"
  },
  {
    "text": "this",
    "start": "1219520",
    "end": "1220000"
  },
  {
    "text": "tag override to the qa environment and",
    "start": "1220000",
    "end": "1222159"
  },
  {
    "text": "then to the production environment",
    "start": "1222159",
    "end": "1224400"
  },
  {
    "text": "and that's what we built here is that",
    "start": "1224400",
    "end": "1225679"
  },
  {
    "text": "we've built a ci chain that",
    "start": "1225679",
    "end": "1228559"
  },
  {
    "text": "falls outside of kubernetes and outside",
    "start": "1228559",
    "end": "1230799"
  },
  {
    "text": "of flux so this is something that you",
    "start": "1230799",
    "end": "1232000"
  },
  {
    "text": "have to build yourself",
    "start": "1232000",
    "end": "1234320"
  },
  {
    "text": "but what it enables you and it shows you",
    "start": "1234320",
    "end": "1236320"
  },
  {
    "text": "is that there are a lot of possibilities",
    "start": "1236320",
    "end": "1237600"
  },
  {
    "text": "here and i don't i don't think there's a",
    "start": "1237600",
    "end": "1239120"
  },
  {
    "text": "one good way or best way of doing this i",
    "start": "1239120",
    "end": "1242080"
  },
  {
    "text": "think it",
    "start": "1242080",
    "end": "1242880"
  },
  {
    "text": "you have to build these type of things",
    "start": "1242880",
    "end": "1244240"
  },
  {
    "text": "to to fit your your type of use case",
    "start": "1244240",
    "end": "1246960"
  },
  {
    "text": "so we're just going to wait for the",
    "start": "1246960",
    "end": "1248799"
  },
  {
    "text": "build to complete now",
    "start": "1248799",
    "end": "1250799"
  },
  {
    "text": "so the build is now completed and we can",
    "start": "1250799",
    "end": "1252720"
  },
  {
    "text": "jump over to our dev environment and we",
    "start": "1252720",
    "end": "1254159"
  },
  {
    "text": "can see that",
    "start": "1254159",
    "end": "1255200"
  },
  {
    "text": "it is now updated hopefully we will also",
    "start": "1255200",
    "end": "1258080"
  },
  {
    "text": "see a",
    "start": "1258080",
    "end": "1258720"
  },
  {
    "text": "change being done in qa so if we jump",
    "start": "1258720",
    "end": "1262240"
  },
  {
    "text": "into our commits",
    "start": "1262240",
    "end": "1263600"
  },
  {
    "text": "in the senate git ops repository uh",
    "start": "1263600",
    "end": "1266960"
  },
  {
    "text": "we see a couple of things here so one of",
    "start": "1266960",
    "end": "1269440"
  },
  {
    "text": "the things is that we have",
    "start": "1269440",
    "end": "1271039"
  },
  {
    "text": "our status objects on our commit and",
    "start": "1271039",
    "end": "1272720"
  },
  {
    "text": "this looks slightly different from",
    "start": "1272720",
    "end": "1274320"
  },
  {
    "text": "github gitlab and",
    "start": "1274320",
    "end": "1276400"
  },
  {
    "text": "other git providers but as you can see",
    "start": "1276400",
    "end": "1279440"
  },
  {
    "text": "here",
    "start": "1279440",
    "end": "1280000"
  },
  {
    "text": "these three commits or the statuses",
    "start": "1280000",
    "end": "1283520"
  },
  {
    "text": "are sent by flux so you see your apps",
    "start": "1283520",
    "end": "1286000"
  },
  {
    "text": "dev qa and production",
    "start": "1286000",
    "end": "1287919"
  },
  {
    "text": "that are posted back when a change is",
    "start": "1287919",
    "end": "1291200"
  },
  {
    "text": "synced and successfully applied",
    "start": "1291200",
    "end": "1294000"
  },
  {
    "text": "we can now maybe see that yeah let's",
    "start": "1294000",
    "end": "1297520"
  },
  {
    "text": "wait for qa",
    "start": "1297520",
    "end": "1299440"
  },
  {
    "text": "so what is happening is that we're",
    "start": "1299440",
    "end": "1302000"
  },
  {
    "text": "running a",
    "start": "1302000",
    "end": "1304480"
  },
  {
    "text": "a pipeline that is creating",
    "start": "1304480",
    "end": "1307760"
  },
  {
    "text": "pull requests for us so if you look at",
    "start": "1307760",
    "end": "1310400"
  },
  {
    "text": "completed pull requests",
    "start": "1310400",
    "end": "1311919"
  },
  {
    "text": "we can see here is a pull request that",
    "start": "1311919",
    "end": "1314799"
  },
  {
    "text": "changes",
    "start": "1314799",
    "end": "1315840"
  },
  {
    "text": "the image tag so after this pull request",
    "start": "1315840",
    "end": "1319200"
  },
  {
    "text": "can be automatically completed if a",
    "start": "1319200",
    "end": "1321919"
  },
  {
    "text": "status check",
    "start": "1321919",
    "end": "1322720"
  },
  {
    "text": "passes we can merge it and the change",
    "start": "1322720",
    "end": "1325760"
  },
  {
    "text": "will then be applied",
    "start": "1325760",
    "end": "1327120"
  },
  {
    "text": "to the cluster so this allows us to",
    "start": "1327120",
    "end": "1330480"
  },
  {
    "text": "build a promotion flow outside of having",
    "start": "1330480",
    "end": "1333679"
  },
  {
    "text": "access to the cluster itself",
    "start": "1333679",
    "end": "1335360"
  },
  {
    "text": "and here we can see also that qa has",
    "start": "1335360",
    "end": "1338000"
  },
  {
    "text": "updated",
    "start": "1338000",
    "end": "1339200"
  },
  {
    "text": "and maybe production will eventually",
    "start": "1339200",
    "end": "1340960"
  },
  {
    "text": "update too",
    "start": "1340960",
    "end": "1343039"
  },
  {
    "text": "and this is all done by by our commit",
    "start": "1343039",
    "end": "1346400"
  },
  {
    "text": "status",
    "start": "1346400",
    "end": "1346960"
  },
  {
    "text": "feature so the commit status as i said",
    "start": "1346960",
    "end": "1349360"
  },
  {
    "text": "before",
    "start": "1349360",
    "end": "1350320"
  },
  {
    "text": "uh as changes are reconciled it will",
    "start": "1350320",
    "end": "1353760"
  },
  {
    "text": "it actually knows the hash of the",
    "start": "1353760",
    "end": "1356320"
  },
  {
    "text": "commits that it's reconciling",
    "start": "1356320",
    "end": "1358159"
  },
  {
    "text": "so that way we can post the status of",
    "start": "1358159",
    "end": "1360960"
  },
  {
    "text": "the commit",
    "start": "1360960",
    "end": "1361600"
  },
  {
    "text": "back to the club back to the git",
    "start": "1361600",
    "end": "1363919"
  },
  {
    "text": "repository",
    "start": "1363919",
    "end": "1364960"
  },
  {
    "text": "and then it's kind of up to you you have",
    "start": "1364960",
    "end": "1366880"
  },
  {
    "text": "all the opportunity and all the options",
    "start": "1366880",
    "end": "1368480"
  },
  {
    "text": "to to build whatever automation tools or",
    "start": "1368480",
    "end": "1370640"
  },
  {
    "text": "non-automation tools you want around",
    "start": "1370640",
    "end": "1372240"
  },
  {
    "text": "this feature but the main thing here",
    "start": "1372240",
    "end": "1374720"
  },
  {
    "text": "that is it closes the loop in the same",
    "start": "1374720",
    "end": "1377679"
  },
  {
    "text": "way that a traditional continuous",
    "start": "1377679",
    "end": "1379760"
  },
  {
    "text": "delivery pipeline would",
    "start": "1379760",
    "end": "1382240"
  },
  {
    "text": "from operations perspective a major",
    "start": "1382240",
    "end": "1384240"
  },
  {
    "start": "1383000",
    "end": "1383000"
  },
  {
    "text": "benefit of running flex is that you have",
    "start": "1384240",
    "end": "1386240"
  },
  {
    "text": "the options of doing",
    "start": "1386240",
    "end": "1387520"
  },
  {
    "text": "proper blue-green deployments of",
    "start": "1387520",
    "end": "1389679"
  },
  {
    "text": "clusters without",
    "start": "1389679",
    "end": "1391039"
  },
  {
    "text": "having to cooperate with all your",
    "start": "1391039",
    "end": "1394080"
  },
  {
    "text": "developers to re-trigger pipelines",
    "start": "1394080",
    "end": "1396320"
  },
  {
    "text": "if you weren't using flux and you'd have",
    "start": "1396320",
    "end": "1398720"
  },
  {
    "text": "multiple continuous delivery pipelines",
    "start": "1398720",
    "end": "1400480"
  },
  {
    "text": "that were pushing applications into your",
    "start": "1400480",
    "end": "1402080"
  },
  {
    "text": "cluster",
    "start": "1402080",
    "end": "1402799"
  },
  {
    "text": "if you want to set up a new cluster",
    "start": "1402799",
    "end": "1404240"
  },
  {
    "text": "you'd have to tell all your developers",
    "start": "1404240",
    "end": "1405840"
  },
  {
    "text": "to basically",
    "start": "1405840",
    "end": "1406960"
  },
  {
    "text": "re-trigger those and target the new",
    "start": "1406960",
    "end": "1409120"
  },
  {
    "text": "cluster",
    "start": "1409120",
    "end": "1410080"
  },
  {
    "text": "instead with flux all you do is set up a",
    "start": "1410080",
    "end": "1412159"
  },
  {
    "text": "new cluster point it to the exact same",
    "start": "1412159",
    "end": "1414400"
  },
  {
    "text": "git repositories allow it to sync",
    "start": "1414400",
    "end": "1416799"
  },
  {
    "text": "and you're set to go so",
    "start": "1416799",
    "end": "1420080"
  },
  {
    "text": "these things could in theory be run",
    "start": "1420080",
    "end": "1422320"
  },
  {
    "text": "during after hours",
    "start": "1422320",
    "end": "1423600"
  },
  {
    "text": "behind the backs of the end users or the",
    "start": "1423600",
    "end": "1425679"
  },
  {
    "text": "clusters and the next morning they",
    "start": "1425679",
    "end": "1427520"
  },
  {
    "text": "wouldn't even realize that they had a",
    "start": "1427520",
    "end": "1428960"
  },
  {
    "text": "new cluster in the first place",
    "start": "1428960",
    "end": "1431520"
  },
  {
    "text": "to demo this let's actually run a new",
    "start": "1431520",
    "end": "1433919"
  },
  {
    "text": "cluster and see what happens",
    "start": "1433919",
    "end": "1435760"
  },
  {
    "text": "so we're going to first",
    "start": "1435760",
    "end": "1439679"
  },
  {
    "text": "plan and apply our new cluster",
    "start": "1440960",
    "end": "1445520"
  },
  {
    "text": "and then we're also going to update the",
    "start": "1445520",
    "end": "1448080"
  },
  {
    "text": "dns records because external dns is",
    "start": "1448080",
    "end": "1449919"
  },
  {
    "text": "creating our",
    "start": "1449919",
    "end": "1450400"
  },
  {
    "text": "dns records so we need to allow the new",
    "start": "1450400",
    "end": "1452400"
  },
  {
    "text": "external dns instance in the new cluster",
    "start": "1452400",
    "end": "1454640"
  },
  {
    "text": "to take over these dns records and point",
    "start": "1454640",
    "end": "1456799"
  },
  {
    "text": "it to the new",
    "start": "1456799",
    "end": "1457679"
  },
  {
    "text": "load balancer so",
    "start": "1457679",
    "end": "1461120"
  },
  {
    "text": "let's just first wait for our cluster to",
    "start": "1461120",
    "end": "1464559"
  },
  {
    "text": "be",
    "start": "1464559",
    "end": "1465039"
  },
  {
    "text": "planned and applied okay so the cluster",
    "start": "1465039",
    "end": "1468640"
  },
  {
    "text": "has now been created and everything's",
    "start": "1468640",
    "end": "1469840"
  },
  {
    "text": "been provisioned so if we just check",
    "start": "1469840",
    "end": "1472480"
  },
  {
    "text": "we've now configured a new context we",
    "start": "1472480",
    "end": "1475279"
  },
  {
    "text": "have two clusters aks2 and nps one",
    "start": "1475279",
    "end": "1477919"
  },
  {
    "text": "in eks2 we have our pawn info",
    "start": "1477919",
    "end": "1480640"
  },
  {
    "text": "deployments if we jump back to",
    "start": "1480640",
    "end": "1484240"
  },
  {
    "text": "aks1 we should see we also have them",
    "start": "1484840",
    "end": "1487440"
  },
  {
    "text": "running here",
    "start": "1487440",
    "end": "1488720"
  },
  {
    "text": "if we then scale",
    "start": "1488720",
    "end": "1492240"
  },
  {
    "text": "our deployments down in aks1",
    "start": "1492240",
    "end": "1496159"
  },
  {
    "text": "because uh dns has triggered",
    "start": "1496159",
    "end": "1501840"
  },
  {
    "text": "we should now reach the other cluster as",
    "start": "1503039",
    "end": "1505919"
  },
  {
    "text": "you can see certificates haven't been",
    "start": "1505919",
    "end": "1507440"
  },
  {
    "text": "provisioned yet",
    "start": "1507440",
    "end": "1508880"
  },
  {
    "text": "but that might take a couple more",
    "start": "1508880",
    "end": "1511360"
  },
  {
    "text": "minutes",
    "start": "1511360",
    "end": "1513679"
  },
  {
    "text": "but but this is basically a blue-green",
    "start": "1513760",
    "end": "1516000"
  },
  {
    "text": "deployment without any interaction we",
    "start": "1516000",
    "end": "1517760"
  },
  {
    "text": "can actually",
    "start": "1517760",
    "end": "1519600"
  },
  {
    "text": "look for example in",
    "start": "1519600",
    "end": "1522720"
  },
  {
    "text": "our old cluster and see that we have or",
    "start": "1523760",
    "end": "1526640"
  },
  {
    "text": "a new cluster sorry and see that we have",
    "start": "1526640",
    "end": "1528400"
  },
  {
    "text": "all our name spaces",
    "start": "1528400",
    "end": "1529760"
  },
  {
    "text": "here now deployed again so that's all",
    "start": "1529760",
    "end": "1533039"
  },
  {
    "start": "1533000",
    "end": "1533000"
  },
  {
    "text": "for today folks thank you all for",
    "start": "1533039",
    "end": "1534320"
  },
  {
    "text": "joining",
    "start": "1534320",
    "end": "1535039"
  },
  {
    "text": "if you want to get involved or start a",
    "start": "1535039",
    "end": "1536799"
  },
  {
    "text": "discussion uh",
    "start": "1536799",
    "end": "1538080"
  },
  {
    "text": "within the flux project i recommend",
    "start": "1538080",
    "end": "1540159"
  },
  {
    "text": "going to the",
    "start": "1540159",
    "end": "1541120"
  },
  {
    "text": "discussions and get up and we're also",
    "start": "1541120",
    "end": "1544320"
  },
  {
    "text": "on slack so the flux and flagger slack",
    "start": "1544320",
    "end": "1547120"
  },
  {
    "text": "channel",
    "start": "1547120",
    "end": "1548400"
  },
  {
    "text": "is where you can find us yeah thank you",
    "start": "1548400",
    "end": "1551919"
  },
  {
    "text": "and i hope i will see you there",
    "start": "1551919",
    "end": "1556320"
  }
]