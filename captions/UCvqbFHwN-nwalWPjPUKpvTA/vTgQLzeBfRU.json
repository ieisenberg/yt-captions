[
  {
    "start": "0",
    "end": "35000"
  },
  {
    "text": "okay then get started hello my name is Brad giesemann welcome to hacking and",
    "start": "30",
    "end": "5310"
  },
  {
    "text": "hardening kubernetes by example if you want to grab the slide link here it's",
    "start": "5310",
    "end": "10889"
  },
  {
    "text": "the first one and then the github repo that all the demos are being run out of it's in a separate window for me you can",
    "start": "10889",
    "end": "16379"
  },
  {
    "text": "also run those two in front of you if you're far back and not able to see the text if it's going by a little bit too",
    "start": "16379",
    "end": "21750"
  },
  {
    "text": "quickly I have to apologize that I have to go through it so quickly because I have so much to show and I want to show it to",
    "start": "21750",
    "end": "27330"
  },
  {
    "text": "you so this is more of an index so to speak you can go back and then dive in deep as you're at your leisure a little",
    "start": "27330",
    "end": "36540"
  },
  {
    "start": "35000",
    "end": "75000"
  },
  {
    "text": "bit about me formerly a penetration tester consultant last five or six years",
    "start": "36540",
    "end": "41809"
  },
  {
    "text": "using the cloud almost exclusively designing ethical hacking simulations or",
    "start": "41809",
    "end": "46920"
  },
  {
    "text": "capture the flag exercises and in the past year we've been running my former",
    "start": "46920",
    "end": "52860"
  },
  {
    "text": "company we've been running capture the flag exercises on top of kubernetes inside AWS that sounds crazy it is a",
    "start": "52860",
    "end": "59850"
  },
  {
    "text": "little bit but we worked very hard to make sure that was a success in the past few months spent a lot of time looking",
    "start": "59850",
    "end": "66570"
  },
  {
    "text": "at as many clusters as I could researching kubernetes security and policy and so that body of research that",
    "start": "66570",
    "end": "72060"
  },
  {
    "text": "work is what I want to share with you today so over the past five months I've installed a few clusters I've dreamt",
    "start": "72060",
    "end": "78900"
  },
  {
    "start": "75000",
    "end": "106000"
  },
  {
    "text": "that I was installing the cluster while I was asleep it was very surreal by show",
    "start": "78900",
    "end": "85229"
  },
  {
    "text": "of hands who has a cluster that's listed here or an installer uses installer this",
    "start": "85229",
    "end": "90630"
  },
  {
    "text": "list here with one of those versions are similar to that okay a fair number of you welcome how many of you run your own",
    "start": "90630",
    "end": "98430"
  },
  {
    "text": "distro you rolled your own brave souls awesome they'll still apply to you I",
    "start": "98430",
    "end": "104100"
  },
  {
    "text": "promise the biggest takeaway from a",
    "start": "104100",
    "end": "109380"
  },
  {
    "start": "106000",
    "end": "152000"
  },
  {
    "text": "security perspective for me is looking at all of these installation mechanisms",
    "start": "109380",
    "end": "114869"
  },
  {
    "text": "that the thing that stood out was the malicious user with a shell by default I'm saying default on purpose can very",
    "start": "114869",
    "end": "121860"
  },
  {
    "text": "possibly and almost very likely exfiltrate source code keys tokens credentials elevate their privilege",
    "start": "121860",
    "end": "128129"
  },
  {
    "text": "inside the cluster from a non privileged state to a privileged state inside of kubernetes",
    "start": "128129",
    "end": "133560"
  },
  {
    "text": "which often then leads to root access on the underlying notes and I think bullet point number four is probably the most",
    "start": "133560",
    "end": "139200"
  },
  {
    "text": "interesting or or something that hasn't been talked about as much really expanding the blast radius to your",
    "start": "139200",
    "end": "144690"
  },
  {
    "text": "entire cloud account in some situations so I hope to be able to get to that quick enough to go to cover that and",
    "start": "144690",
    "end": "150090"
  },
  {
    "text": "it's it's in its entirety the goals of this talk we want to raise awareness of those high risk attacks in",
    "start": "150090",
    "end": "156420"
  },
  {
    "start": "152000",
    "end": "186000"
  },
  {
    "text": "as many installers or distributions as possible so that everyone has that knowledge demonstrate the attacks live",
    "start": "156420",
    "end": "162330"
  },
  {
    "text": "I'm not brave enough to type live and I don't type quickly enough live so these",
    "start": "162330",
    "end": "167730"
  },
  {
    "text": "are recorded typing sessions which then that offers you the ability to have at home and look",
    "start": "167730",
    "end": "173970"
  },
  {
    "text": "at an examine finally want to provide some hardening methods for those specific attacks and then additional",
    "start": "173970",
    "end": "179070"
  },
  {
    "text": "guidance that goes a few more steps beyond that so like Morpheus I'm",
    "start": "179070",
    "end": "185700"
  },
  {
    "text": "beginning to believe beginning to believe that high system complexity means for users who are new to the to",
    "start": "185700",
    "end": "192000"
  },
  {
    "start": "186000",
    "end": "210000"
  },
  {
    "text": "the project that getting it to work from an operators perspective getting it to work is hard enough you know it's such a",
    "start": "192000",
    "end": "198380"
  },
  {
    "text": "wide range of new terminology tools and mechanisms that most people use the",
    "start": "198380",
    "end": "203400"
  },
  {
    "text": "defaults the first time through right look they probably know better than me I'm just going to accept the defaults",
    "start": "203400",
    "end": "208680"
  },
  {
    "text": "let's go see how it works but defaults tend to have inertia so defaults in use",
    "start": "208680",
    "end": "214350"
  },
  {
    "start": "210000",
    "end": "226000"
  },
  {
    "text": "early tend to stay in use and system systems harden late tend to break and",
    "start": "214350",
    "end": "219959"
  },
  {
    "text": "that's kind of as I was going through all the clusters that was that was what I was doing so I was running into it",
    "start": "219959",
    "end": "225269"
  },
  {
    "text": "left and right so my belief is that having default values be secure early on in terms of a",
    "start": "225269",
    "end": "231630"
  },
  {
    "start": "226000",
    "end": "295000"
  },
  {
    "text": "project or how you're distributing your your your project in source code has positive downstream effects to the",
    "start": "231630",
    "end": "237510"
  },
  {
    "text": "community and when something like kubernetes literally blows up has widespread adoption that inertia is big",
    "start": "237510",
    "end": "244500"
  },
  {
    "text": "and it's real and what that kind of leads us into is a I call it a security",
    "start": "244500",
    "end": "250290"
  },
  {
    "text": "capability gap I struggle with a name for what this is but basically the community at large is somewhat behind",
    "start": "250290",
    "end": "257130"
  },
  {
    "text": "the major dot releases as they're coming out so maybe you're between one five and one seven most mortals you know can't",
    "start": "257130",
    "end": "264120"
  },
  {
    "text": "literally deploy ever overnight a brand new kubernetes release but most installers and containers the",
    "start": "264120",
    "end": "271229"
  },
  {
    "text": "service offerings are keeping up right but the trick is is that security capabilities and features are coming in",
    "start": "271229",
    "end": "278039"
  },
  {
    "text": "newer releases so if you're still on one five and one six our back is really rough for you but if you're in one seven",
    "start": "278039",
    "end": "284280"
  },
  {
    "text": "and one eight it's been baked in it's been battle tested and things like that so it's tough because you have to keep",
    "start": "284280",
    "end": "289590"
  },
  {
    "text": "up with those ever fast-moving releases and so it's up to you to add additional",
    "start": "289590",
    "end": "296580"
  },
  {
    "start": "295000",
    "end": "304000"
  },
  {
    "text": "security hardening if you're on one six and one seven don't despair it just needs a lot of",
    "start": "296580",
    "end": "303000"
  },
  {
    "text": "elbow grease and the things I want to talk about today are not extreme in",
    "start": "303000",
    "end": "309000"
  },
  {
    "start": "304000",
    "end": "330000"
  },
  {
    "text": "depth esoteric attacks kernel level exploits and things I'm talking about low-hanging fruit I believe I found",
    "start": "309000",
    "end": "314129"
  },
  {
    "text": "enough of it to share with you and that's enough for a start right we want to raise the bar just doing the basic",
    "start": "314129",
    "end": "321539"
  },
  {
    "text": "image safety are back Network isolation just doing those things and enforcing",
    "start": "321539",
    "end": "326699"
  },
  {
    "text": "those basic controls that are already there already existing inside clusters so when you go to harden some clusters",
    "start": "326699",
    "end": "333389"
  },
  {
    "start": "330000",
    "end": "383000"
  },
  {
    "text": "what are some of the challenges well a lot of folks like to use DISA stick or CIS benchmarks is a what I say what's",
    "start": "333389",
    "end": "339509"
  },
  {
    "text": "the security posture of my cluster well at the operating system level those",
    "start": "339509",
    "end": "344520"
  },
  {
    "text": "specific benchmarks don't take into account the workload that's running on them they say you know that's your password and that's the group are those",
    "start": "344520",
    "end": "351089"
  },
  {
    "text": "properly set with permissions but it doesn't know anything about kubernetes and conversely if you're doing a CIS Q",
    "start": "351089",
    "end": "357750"
  },
  {
    "text": "Bert Cooper's net kubernetes benchmark it's not taking into consideration the",
    "start": "357750",
    "end": "362939"
  },
  {
    "text": "OS but it's not also taking into consideration how the Installer places things and where it puts it and where it",
    "start": "362939",
    "end": "369210"
  },
  {
    "text": "grabs it from from the cloud provider so basically properly harden your kubernetes cluster is highly dependent",
    "start": "369210",
    "end": "375060"
  },
  {
    "text": "on your environment your add-ons your plugins and the defaults are very often not enough there's a lot of knobs you",
    "start": "375060",
    "end": "380969"
  },
  {
    "text": "have to tweak and we're going to go through some of those something I like",
    "start": "380969",
    "end": "386550"
  },
  {
    "start": "383000",
    "end": "398000"
  },
  {
    "text": "to call attack driven harding this is just how I think that's been built into me as a pen tester every time I look at",
    "start": "386550",
    "end": "392430"
  },
  {
    "text": "a system I think this way and I try to reason about a system in this way from in terms of its security posture and the",
    "start": "392430",
    "end": "400230"
  },
  {
    "start": "398000",
    "end": "428000"
  },
  {
    "text": "way I can summarize it is and how I think I think in progressive steps I say",
    "start": "400230",
    "end": "405450"
  },
  {
    "text": "from where I am what can I see doer access next I pick one of the most plausible methods and I",
    "start": "405450",
    "end": "412260"
  },
  {
    "text": "say alright assume that happened alright now what does it look like what can I see do or access next and I repeat until",
    "start": "412260",
    "end": "418500"
  },
  {
    "text": "it's game over until the worst date has got and extracted and then I work backwards and I harden as I go further",
    "start": "418500",
    "end": "425700"
  },
  {
    "text": "away it's basically quick and dirty attack modeling so everybody here today can take that persona of the external",
    "start": "425700",
    "end": "432150"
  },
  {
    "start": "428000",
    "end": "495000"
  },
  {
    "text": "attacker you're looking at a cluster typically these are the methods you're",
    "start": "432150",
    "end": "437160"
  },
  {
    "text": "thinking of right off the bat are you gonna be able to get SSH access to the nodes maybe not likely go through the",
    "start": "437160",
    "end": "443340"
  },
  {
    "text": "API server maybe not likely you don't have credentials for either of those but what about getting a shell in a",
    "start": "443340",
    "end": "448620"
  },
  {
    "text": "container inside the cluster that's where it gets interesting and the three that I came up with right",
    "start": "448620",
    "end": "454140"
  },
  {
    "text": "off the bat are exploiting an application running an expose container that's hit or miss not all apps are",
    "start": "454140",
    "end": "460170"
  },
  {
    "text": "extremely vulnerable with a remote code execution tricking an admin into running a compromised container that's that's",
    "start": "460170",
    "end": "467190"
  },
  {
    "text": "interesting or compromising a project developer compromised their github keys",
    "start": "467190",
    "end": "472860"
  },
  {
    "text": "or their doctor registry keys and modifying the project images and binaries throughout this research I did",
    "start": "472860",
    "end": "480420"
  },
  {
    "text": "find somebody's credentials in a git commit by accident I was just looking at code and I found it and they were after",
    "start": "480420",
    "end": "486270"
  },
  {
    "text": "I reported it to them they did say it was indeed their company's ability to push to quit so that is a real deal",
    "start": "486270",
    "end": "493590"
  },
  {
    "text": "which I'll protect your keys so which is easier I'm gonna pick on number two",
    "start": "493590",
    "end": "498840"
  },
  {
    "start": "495000",
    "end": "502000"
  },
  {
    "text": "today teaching in admin I've written a couple blog posts but I've read",
    "start": "498840",
    "end": "505320"
  },
  {
    "start": "502000",
    "end": "525000"
  },
  {
    "text": "thousands and I found something it's kind of a pattern if you say here's",
    "start": "505320",
    "end": "511320"
  },
  {
    "text": "something really complicated use my custom images hey here's my docker file everything's on the up-and-up in those",
    "start": "511320",
    "end": "517260"
  },
  {
    "text": "instructions is what a kook control create from that URL just slam all these",
    "start": "517260",
    "end": "522390"
  },
  {
    "text": "pods and services in and then figure it out and see what happens I like to think coop control create from URL is the new",
    "start": "522390",
    "end": "529110"
  },
  {
    "start": "525000",
    "end": "541000"
  },
  {
    "text": "curl in the bash because it really is and it's often worse because now it's distributed",
    "start": "529110",
    "end": "534829"
  },
  {
    "text": "across thousands I knows I said this is about hacking and hardening let's make",
    "start": "534829",
    "end": "540350"
  },
  {
    "text": "with hacking for the rest of the attack structure this is my 3d diagram of a",
    "start": "540350",
    "end": "546949"
  },
  {
    "start": "541000",
    "end": "564000"
  },
  {
    "text": "sacrificial cluster and the lower left you have the master node and the upper",
    "start": "546949",
    "end": "552079"
  },
  {
    "text": "right you have two workers very straightforward very simplistic we got a couple of pods running not all are represented here but just the ones we",
    "start": "552079",
    "end": "558319"
  },
  {
    "text": "care about in this case and we have the metadata API represented as that yellow block up there so my handy dandy little",
    "start": "558319",
    "end": "568129"
  },
  {
    "start": "564000",
    "end": "595000"
  },
  {
    "text": "attacker icon here if he's able to exploit the vulnerable app in the default namespace if they get a shell",
    "start": "568129",
    "end": "575180"
  },
  {
    "text": "can they install custom tools and by doing so approve internet access which",
    "start": "575180",
    "end": "580790"
  },
  {
    "text": "is something that penetration testers always love to have when you try to pull down your tool sets can I install curl",
    "start": "580790",
    "end": "588050"
  },
  {
    "text": "netcat and that can I pull down the kook control binary and put it into a place and we run it that's always interesting",
    "start": "588050",
    "end": "596319"
  },
  {
    "start": "595000",
    "end": "620000"
  },
  {
    "text": "another look at things it's not common anymore but in 1/4 and 1/5 if you're",
    "start": "596589",
    "end": "601790"
  },
  {
    "text": "running 1/4 and 1/5 a lot of the installers back then or if you rolled your own you might still have the insecure bind address on your API server",
    "start": "601790",
    "end": "609230"
  },
  {
    "text": "that's a big no-no because there's no author authentication authorization on this this is a direct pass the cluster",
    "start": "609230",
    "end": "615199"
  },
  {
    "text": "admin so notice that little red triangle that means a bad day whenever you see a red triangle whenever you're doing a",
    "start": "615199",
    "end": "622519"
  },
  {
    "text": "penetration test and you break into that first system the first thing you do is say what does the world look like I have no idea where am I going I'm running",
    "start": "622519",
    "end": "629029"
  },
  {
    "text": "scanning tools I'm just throwing packets everywhere well in a distributed system where everything's based on AP is that",
    "start": "629029",
    "end": "635930"
  },
  {
    "text": "enumeration is just a couple curl commands now if I hit C advisor keep stir couplet Prometheus's node exporter",
    "start": "635930",
    "end": "642980"
  },
  {
    "text": "coupe state metrics any of those and it's just like tell me about yourself well here here's everything about myself",
    "start": "642980",
    "end": "648589"
  },
  {
    "text": "and what they're named and where they're running and what their pod hashes are everything's right there so that leads",
    "start": "648589",
    "end": "654740"
  },
  {
    "text": "me to my first demo",
    "start": "654740",
    "end": "657550"
  },
  {
    "text": "because we have coop control because we have that access we can list the nodes and we can see the IP address of one of",
    "start": "661000",
    "end": "668360"
  },
  {
    "text": "the notes and see advisor runs on four one nine four I mean hit the metrics endpoint see advisor will happily tell",
    "start": "668360",
    "end": "675590"
  },
  {
    "text": "you everything about what's running on this system including pod names which always randomized the namespace therein",
    "start": "675590",
    "end": "682190"
  },
  {
    "text": "and the container names and the versions the SHA hash is basically everything that I'm running",
    "start": "682190",
    "end": "688570"
  },
  {
    "text": "there's my Redis we'll get to that guy later this one I think is fairly well",
    "start": "690760",
    "end": "697700"
  },
  {
    "start": "694000",
    "end": "743000"
  },
  {
    "text": "known but it's incredibly important the default service count token if that's located in this directory it's",
    "start": "697700",
    "end": "702920"
  },
  {
    "text": "Auto mounted and a lot of clusters specifically before are back this is a really big deal if you have our back enabled we'll get to some of that but if",
    "start": "702920",
    "end": "710120"
  },
  {
    "text": "you can run coop CTL coop control sorry I was corrected this morning in the keynote coop control you can get get",
    "start": "710120",
    "end": "716390"
  },
  {
    "text": "pods get secrets and your cluster admin again red triangle bad day so we can",
    "start": "716390",
    "end": "724970"
  },
  {
    "text": "install some tools download the coop control binary validate we can hit the",
    "start": "724970",
    "end": "730280"
  },
  {
    "text": "API yes we have the service account token mounted we can get pods list all the secrets look for the good ones and",
    "start": "730280",
    "end": "736070"
  },
  {
    "text": "dump those contents so for five curl commands and we've escalated next thing",
    "start": "736070",
    "end": "745040"
  },
  {
    "start": "743000",
    "end": "803000"
  },
  {
    "text": "we want to look at the kubernetes dashboard raise your hands if you run the kubernetes dashboard awesome are you",
    "start": "745040",
    "end": "750770"
  },
  {
    "text": "running one seven or higher version of the dashboard okay alright so as you",
    "start": "750770",
    "end": "756620"
  },
  {
    "text": "know there's no authentication on it it needs protection alright so if you're in this vulnerable app pod here most often",
    "start": "756620",
    "end": "763700"
  },
  {
    "text": "you can just hit it by its service name you don't even know even know what the IP address is right well that's kind of",
    "start": "763700",
    "end": "770000"
  },
  {
    "text": "tough how do I hit that it's it's a curl command it's a big dashboard we can forward a port over SSH that's really",
    "start": "770000",
    "end": "777140"
  },
  {
    "text": "two commands away so yes we're inside kubernetes let me get the service yep",
    "start": "777140",
    "end": "782990"
  },
  {
    "text": "look at the dashboards there let me get the IP address by pinging it that's a cheap way to do it without having dig",
    "start": "782990",
    "end": "788120"
  },
  {
    "text": "installed and then we're gonna SSH out to my bad IP that's my attacking cyst say remote port 8000 funnel it on down",
    "start": "788120",
    "end": "795530"
  },
  {
    "text": "into the dashboard so on that remote hacking host to go to localhost 8080 of",
    "start": "795530",
    "end": "805670"
  },
  {
    "start": "803000",
    "end": "859000"
  },
  {
    "text": "other services inside the cluster as you can see there's a vote and a Redis the",
    "start": "805670",
    "end": "810950"
  },
  {
    "text": "azure vote front and as your vote back application it's a very simple Python",
    "start": "810950",
    "end": "816530"
  },
  {
    "text": "app with the Redis back you can vote for cats or dogs right pack the vote we're",
    "start": "816530",
    "end": "821930"
  },
  {
    "text": "going to tamper with it I grew up with cats so I'm gonna pick on cats today so",
    "start": "821930",
    "end": "827780"
  },
  {
    "text": "we're gonna get the service as your vote back get its IP yep port 637 9 is open",
    "start": "827780",
    "end": "833660"
  },
  {
    "text": "let's install the Redis CLI can we connect to it yep can dump the keys I",
    "start": "833660",
    "end": "838880"
  },
  {
    "text": "like cats being a thousand let's set cats to a thousand and let's go hit that web front page I apologize it's in curl",
    "start": "838880",
    "end": "846080"
  },
  {
    "text": "but it'll be you'll see it at the very bottom there cats is 1000 dogs is 6 right take that and extrapolate that to",
    "start": "846080",
    "end": "853280"
  },
  {
    "text": "any authenticated service inside the back under your cluster right Redis I just picked on because it's simple and straightforward to demonstrate here we",
    "start": "853280",
    "end": "861320"
  },
  {
    "start": "859000",
    "end": "885000"
  },
  {
    "text": "get a little bit more interesting the couplet exploit how many of you heard of this attacks method the couplet exploit well it's basically not an",
    "start": "861320",
    "end": "868670"
  },
  {
    "text": "exploit that's why it's kind of an air quotes couplet the couplet API allows this and in",
    "start": "868670",
    "end": "874370"
  },
  {
    "text": "clusters without certain settings on the couplet will allow anybody to connect to this endpoint and exactly into",
    "start": "874370",
    "end": "880700"
  },
  {
    "text": "containers ask for logs and do other nefarious things so what we're gonna do",
    "start": "880700",
    "end": "887720"
  },
  {
    "text": "is we're gonna ask the couplet to run a command in a given container on it so by",
    "start": "887720",
    "end": "894200"
  },
  {
    "text": "one curl command we can say hey I want you at exec you know list this directory inside that pod right there running on",
    "start": "894200",
    "end": "900230"
  },
  {
    "text": "that node",
    "start": "900230",
    "end": "902620"
  },
  {
    "text": "so we get the the note IPS right here port one zero two five zero that's the",
    "start": "905600",
    "end": "912470"
  },
  {
    "text": "read write couplet api port 102 five five is the read only metrics port right well we hit the the method running pods",
    "start": "912470",
    "end": "920180"
  },
  {
    "text": "we're gonna cat it out into a file so that it's easier to look at it's a nice JSON object again very much like C",
    "start": "920180",
    "end": "927710"
  },
  {
    "text": "advisor it's everything that I'm running on the couplet this is all I know and what I'm running complete with the hashes the namespace the pod name and the container",
    "start": "927710",
    "end": "934340"
  },
  {
    "text": "name which is important for the next command shown you got the azure vote front that's what we're gonna pick on so",
    "start": "934340",
    "end": "941840"
  },
  {
    "text": "I'm gonna look at the web directory of the azure vote front app run is the",
    "start": "941840",
    "end": "948320"
  },
  {
    "text": "action default is the namespace as your vote front numbers that's the pod name and then the container name and you just",
    "start": "948320",
    "end": "954110"
  },
  {
    "text": "say hey run the command list this root directory app looks like an interesting",
    "start": "954110",
    "end": "961160"
  },
  {
    "text": "directory let's look in their main dot pile looks interesting we've just",
    "start": "961160",
    "end": "966740"
  },
  {
    "text": "extracted the source code for this super sensitive application okay",
    "start": "966740",
    "end": "973960"
  },
  {
    "text": "accessing SCD service directly most clusters don't expose that CD to the workers but some install a separate SED",
    "start": "974800",
    "end": "982370"
  },
  {
    "text": "instance to support calico or network policy back ending and some in some cases that's also exposed with no no TLS",
    "start": "982370",
    "end": "989570"
  },
  {
    "text": "or authentication or authorization so in this case you may be able to defeat the system that is storing your network",
    "start": "989570",
    "end": "996020"
  },
  {
    "text": "policies saying you know what if there are network policies but you can hit this at to the end point you can go in",
    "start": "996020",
    "end": "1001270"
  },
  {
    "text": "there's a calico forget about all your network policies and calico will happily remove all the network policies from your nodes in your cluster this is",
    "start": "1001270",
    "end": "1008290"
  },
  {
    "text": "pretty rare but i'll get to the frequency of this one now any of those methods that i showed about getting a",
    "start": "1008290",
    "end": "1014200"
  },
  {
    "start": "1010000",
    "end": "1087000"
  },
  {
    "text": "couplet or a service account token will let you possibly schedule a pod that",
    "start": "1014200",
    "end": "1020440"
  },
  {
    "text": "mounts the host file system add your own SSH key and then ssh into it now we're",
    "start": "1020440",
    "end": "1027220"
  },
  {
    "text": "getting into the multi-step parts here but what we're gonna do is we're gonna get the external sorry we're gonna get",
    "start": "1027220",
    "end": "1032920"
  },
  {
    "text": "the the node name as its represented inside of kubernetes the external IP address of that node so",
    "start": "1032920",
    "end": "1038620"
  },
  {
    "text": "we can SSH to it later create a very simple pause specification I pick on nginx because",
    "start": "1038620",
    "end": "1043900"
  },
  {
    "text": "it's based on Debian but we make sure its privilege is true we mount the root file path here's what it looks like with",
    "start": "1043900",
    "end": "1052960"
  },
  {
    "text": "the node selector in there so that gets scheduled on that one single node we run it we exec it into it huit route into",
    "start": "1052960",
    "end": "1059500"
  },
  {
    "text": "the slash root filesystem bit and now we're on the host as root add our own SSH key back on now and then SSH",
    "start": "1059500",
    "end": "1068200"
  },
  {
    "text": "directly in",
    "start": "1068200",
    "end": "1070769"
  },
  {
    "text": "so if your root and you're able to run docker containers under the hood that kubernetes doesn't know about run",
    "start": "1078050",
    "end": "1084740"
  },
  {
    "text": "backdoors and solve things it's it's a pretty bad day the last classification attacks I want",
    "start": "1084740",
    "end": "1090650"
  },
  {
    "start": "1087000",
    "end": "1117000"
  },
  {
    "text": "to talk about is as accessing the metadata API I have who's heard of the 169 254 169 254 okay we know what that",
    "start": "1090650",
    "end": "1097880"
  },
  {
    "text": "is one of the things that it does is gives instance data about itself what region",
    "start": "1097880",
    "end": "1104480"
  },
  {
    "text": "it's in it's bootstrapping information that often in some of these installers",
    "start": "1104480",
    "end": "1110360"
  },
  {
    "text": "cases has sensitive s3 paths or kubja ADM join tokens right so right then in",
    "start": "1110360",
    "end": "1118700"
  },
  {
    "start": "1117000",
    "end": "1185000"
  },
  {
    "text": "there that's a bad day but also most of these cluster installations will provide I am instance roles attached to the",
    "start": "1118700",
    "end": "1125000"
  },
  {
    "text": "workers and the masters with permissions also available via that metadata API are those AWS keys they rotate every",
    "start": "1125000",
    "end": "1132500"
  },
  {
    "text": "few hours but they're just a curl command away so let's curl those and get those from that vulnerable pod that we",
    "start": "1132500",
    "end": "1138740"
  },
  {
    "text": "talked about we run one command and we get keys that are valid for a couple hours we export those into our local",
    "start": "1138740",
    "end": "1146420"
  },
  {
    "text": "shell in our attacking system right and then we have the permissions that are available to those those keys so",
    "start": "1146420",
    "end": "1152390"
  },
  {
    "text": "described instances you know list me all the instances in your entire account not just your cluster everything in that AWS",
    "start": "1152390",
    "end": "1157820"
  },
  {
    "text": "account and describe the instance attribute called user data on every single instance in your entire cloud",
    "start": "1157820",
    "end": "1164180"
  },
  {
    "text": "account how many of you have sensitive things in your user data in things that are not kubernetes maybe possibly that's",
    "start": "1164180",
    "end": "1170600"
  },
  {
    "text": "why this blast radius is is pretty bad because you might not compromise your kubernetes cluster but that web server",
    "start": "1170600",
    "end": "1176210"
  },
  {
    "text": "there that bootstraps that has a github key or something in it that might be delivered via user data you can reach",
    "start": "1176210",
    "end": "1181400"
  },
  {
    "text": "over and go grab that so that's a bad day for the other administrators when I",
    "start": "1181400",
    "end": "1187670"
  },
  {
    "start": "1185000",
    "end": "1231000"
  },
  {
    "text": "talk about i.m permissions the Masters and workers typically have something that looks like this described star for",
    "start": "1187670",
    "end": "1193490"
  },
  {
    "text": "the worker masters have an ec2 star ECR ability to pull images from from AWS ECR",
    "start": "1193490",
    "end": "1200120"
  },
  {
    "text": "and some s3 capabilities but we really want that ec2 star don't we that means any AWS ec2 command is available to us",
    "start": "1200120",
    "end": "1206900"
  },
  {
    "text": "so how would we get that we need to make sure that curl originates from the master so there's a couple ways of",
    "start": "1206900",
    "end": "1214930"
  },
  {
    "text": "doing it compromise an existing pod running on the master it's kind of tough or using one of those two issues that we",
    "start": "1214930",
    "end": "1222280"
  },
  {
    "text": "just talked about if you find a service account token just asking the API server or just ask the couplet running on the",
    "start": "1222280",
    "end": "1228670"
  },
  {
    "text": "master to run a command for you inside of a pod so it looks like this basically wrapping our curl command this way or",
    "start": "1228670",
    "end": "1235510"
  },
  {
    "text": "this way notice how close they are it's basically the same thing just asking somebody different to do it and the",
    "start": "1235510",
    "end": "1244390"
  },
  {
    "start": "1241000",
    "end": "1281000"
  },
  {
    "text": "final example of why this is a bad day if you have ec2 star you can create a new V PC create a new security group",
    "start": "1244390",
    "end": "1250060"
  },
  {
    "text": "create a new s new SSH key create a new instance and snapshot every volume from",
    "start": "1250060",
    "end": "1257620"
  },
  {
    "text": "every single instance in your entire cloud account and then go ahead and mount it on that instance so that can be",
    "start": "1257620",
    "end": "1263320"
  },
  {
    "text": "automated as you can imagine within five or ten minutes it's it's a pretty bad day so if you're also on the master you",
    "start": "1263320",
    "end": "1270220"
  },
  {
    "text": "then might be able to in some cases based on the installation by default list everything in AWS s3 who stores",
    "start": "1270220",
    "end": "1276490"
  },
  {
    "text": "logs and sensitive backups in s3 it's a bad day so attacks nine and ten of",
    "start": "1276490",
    "end": "1284860"
  },
  {
    "start": "1281000",
    "end": "1431000"
  },
  {
    "text": "switching gears I'm now talking about gk e and g c e and g ke specifically",
    "start": "1284860",
    "end": "1290050"
  },
  {
    "text": "there's an attribute much like the user data endpoint on the api there's an attribute called KU v and v and that's",
    "start": "1290050",
    "end": "1296140"
  },
  {
    "text": "what the kulit use is the bootstrap itself gets its keys from it that's often reachable directly just clicked",
    "start": "1296140",
    "end": "1306550"
  },
  {
    "text": "there we go so here's that listing part",
    "start": "1306550",
    "end": "1312790"
  },
  {
    "text": "of the security features though you have to pass a header into Google's API to make sure that you're doing it not",
    "start": "1312790",
    "end": "1318880"
  },
  {
    "text": "through a server side request forgery but configure sh looks interesting ku B and V looks interesting user data looks",
    "start": "1318880",
    "end": "1324820"
  },
  {
    "text": "interesting so we can go poke at those this reference is the ku B and V so",
    "start": "1324820",
    "end": "1332170"
  },
  {
    "text": "right there you see there's a lot of good stuff we know what the release is we know where it's getting things from we know what the IPS of the master are",
    "start": "1332170",
    "end": "1339220"
  },
  {
    "text": "but we can see that here's the coop the coop let's information on where it says key sorr",
    "start": "1339220",
    "end": "1344890"
  },
  {
    "text": "and see a pen right this wall of text is what I call the one shot so if you get a",
    "start": "1344890",
    "end": "1352059"
  },
  {
    "text": "shell on the container inside of gke you can become the couplet in this one",
    "start": "1352059",
    "end": "1357610"
  },
  {
    "text": "shot awesome bash hunk of junk here create pull down a coup control grab the",
    "start": "1357610",
    "end": "1366309"
  },
  {
    "text": "coop env from the metadata API strip out the parts base64 to code them into the",
    "start": "1366309",
    "end": "1372250"
  },
  {
    "text": "couplets authentication tokens and then run coop control to list all the pods and all the namespaces boom so one of",
    "start": "1372250",
    "end": "1383500"
  },
  {
    "text": "the things of note is you want to probably get the secrets right well the Kubla it doesn't have the ability to go list all the secrets but it can pull a",
    "start": "1383500",
    "end": "1390460"
  },
  {
    "text": "secret if it knows its name well the best way to get that is to output all of",
    "start": "1390460",
    "end": "1395620"
  },
  {
    "text": "the get pods in Yambol or a pod that you know specifically and I did the dashboard here because I know it's got",
    "start": "1395620",
    "end": "1401679"
  },
  {
    "text": "the cluster admin token you can say hey dump the the pots back in yeah Mille and",
    "start": "1401679",
    "end": "1407350"
  },
  {
    "text": "it will tell you the mounted secret by its name so now you know what that is",
    "start": "1407350",
    "end": "1412799"
  },
  {
    "text": "you can go get that secret directly and in this case it's the default service count token in the qu system namespace",
    "start": "1413400",
    "end": "1421260"
  },
  {
    "text": "so what we're gonna do with that is the same thing I'm actually going to skip this part for the sake of speed mouth",
    "start": "1421260",
    "end": "1427660"
  },
  {
    "text": "host file system at SSH and SSH in the",
    "start": "1427660",
    "end": "1432940"
  },
  {
    "start": "1431000",
    "end": "1591000"
  },
  {
    "text": "second method through the GAE and GCE metadata API is just like an ec2",
    "start": "1432940",
    "end": "1438450"
  },
  {
    "text": "assigning permissions to instances GK does the same thing to give you an IM",
    "start": "1438450",
    "end": "1443710"
  },
  {
    "text": "token and they give you instant scopes and that IM token lets you talk to the",
    "start": "1443710",
    "end": "1448990"
  },
  {
    "text": "google api the meta compute api and run actions on things inside the scope of that project and one of those things",
    "start": "1448990",
    "end": "1456640"
  },
  {
    "text": "that you can do is enumerate all the instances of course but you can also use this really handy dandy API method",
    "start": "1456640",
    "end": "1462880"
  },
  {
    "text": "called add SSH key so if you have these privileges and you have this token you're able to beyond worker one call",
    "start": "1462880",
    "end": "1470950"
  },
  {
    "text": "for the token go hit the API saying hey add my SSH key to worker 2 and Google",
    "start": "1470950",
    "end": "1477490"
  },
  {
    "text": "will happily do that if your and then you can SSH into worker 2 or anything inside that scope of that",
    "start": "1477490",
    "end": "1483980"
  },
  {
    "text": "project so if you're running multiple clusters that means any of those nodes and all the clusters in that same",
    "start": "1483980",
    "end": "1489290"
  },
  {
    "text": "project so we're gonna get the external",
    "start": "1489290",
    "end": "1497330"
  },
  {
    "text": "IP so we know what - SSH into when we're done we're gonna basically list the",
    "start": "1497330",
    "end": "1502550"
  },
  {
    "text": "instances in the project okay we're",
    "start": "1502550",
    "end": "1508430"
  },
  {
    "text": "gonna page through it a little bit just so you can see how much information information is here a lot of good stuff IP addresses external Nats things the",
    "start": "1508430",
    "end": "1519680"
  },
  {
    "text": "user data the cou V and V for all the instances inside the project right",
    "start": "1519680",
    "end": "1526280"
  },
  {
    "text": "you're doing in AWS ec2 describe instances that equivalent inside of Google as well okay so I'm gonna go",
    "start": "1526280",
    "end": "1534770"
  },
  {
    "text": "ahead and do that same thing but describe instance I'm gonna see everything about this one node so I can get its fingerprint which is needed for",
    "start": "1534770",
    "end": "1541700"
  },
  {
    "text": "this API call them about the form and forgive me I use curl and bash to keep it simple so it makes it a little bit",
    "start": "1541700",
    "end": "1547490"
  },
  {
    "text": "ugly but you don't need to download any extra tools there's no malware running here it's all curl and bash and such and",
    "start": "1547490",
    "end": "1554600"
  },
  {
    "text": "such so what we do is we make a post body with that fingerprint that we just pulled add my SSH key as you can see the",
    "start": "1554600",
    "end": "1561380"
  },
  {
    "text": "public key we're gonna post it to that API we're gonna show you what it looks",
    "start": "1561380",
    "end": "1569360"
  },
  {
    "text": "like rendered that's what the final post body looks like here Google go add me - worker - ok happily does it",
    "start": "1569360",
    "end": "1578019"
  },
  {
    "text": "and we're rude on that second node again",
    "start": "1580710",
    "end": "1585899"
  },
  {
    "text": "a bad day okay dr. PS how prevalent are",
    "start": "1585899",
    "end": "1593909"
  },
  {
    "text": "these issues this is what compelled me to do this talk and I want to stress",
    "start": "1593909",
    "end": "1599369"
  },
  {
    "text": "something this is not the entire security posture of everyone in these clusters this is a narrow band of these",
    "start": "1599369",
    "end": "1605429"
  },
  {
    "text": "items that I've identified here it doesn't say anything about the rest of them these specific versions the ones",
    "start": "1605429",
    "end": "1611519"
  },
  {
    "text": "that I tested note those versions I started testing in August and September okay we'll get to what the latest",
    "start": "1611519",
    "end": "1618029"
  },
  {
    "text": "releases look like so it's prevalent right you'd admit that it's it's not uncommon so don't despair we can do it",
    "start": "1618029",
    "end": "1626279"
  },
  {
    "text": "we have the technology attack seven through ten if you're running an AWS I",
    "start": "1626279",
    "end": "1631769"
  },
  {
    "start": "1627000",
    "end": "1685000"
  },
  {
    "text": "recommend what's called a metadata proxy something that makes sure that when you go to 169 to 54 that you're allowed as a",
    "start": "1631769",
    "end": "1639509"
  },
  {
    "text": "pod CUDA I am or Kay I am both worked in my testing to to to make sure that in",
    "start": "1639509",
    "end": "1646440"
  },
  {
    "text": "AWS are taken care of excuse me the GCE metadata proxy and these steps and I",
    "start": "1646440",
    "end": "1653399"
  },
  {
    "text": "apologize the word these steps is actually masking Google's GK hardening blog post that was released very",
    "start": "1653399",
    "end": "1658919"
  },
  {
    "text": "recently that is an incredibly important link I apologize that was a late addition that is really useful for",
    "start": "1658919",
    "end": "1665490"
  },
  {
    "text": "blocking those attacks that I just showed right and if you're running Network policy on 1.8 that is also a",
    "start": "1665490",
    "end": "1671789"
  },
  {
    "text": "valid method egress blocking and if you're running older versions of kubernetes like I was using calico you",
    "start": "1671789",
    "end": "1678840"
  },
  {
    "text": "can use calico CTL under the hood to get that same effectiveness it's not through the kubernetes api but you can do it",
    "start": "1678840",
    "end": "1685820"
  },
  {
    "text": "protect the couplet authorization mode webhook if you don't see that that's",
    "start": "1685820",
    "end": "1691710"
  },
  {
    "text": "your couplet is probably allowing that couplet exploit bit isolating workloads",
    "start": "1691710",
    "end": "1697350"
  },
  {
    "start": "1696000",
    "end": "1714000"
  },
  {
    "text": "remember like the hack the vote there changed it to cats a very simple network policy literally stops out in this",
    "start": "1697350",
    "end": "1702960"
  },
  {
    "text": "tracks you say every pod that Leila has the label as your vote back make sure",
    "start": "1702960",
    "end": "1709169"
  },
  {
    "text": "that it only gets ingress from hazard up front hmm excuse me this is almost a 99%",
    "start": "1709169",
    "end": "1717730"
  },
  {
    "start": "1714000",
    "end": "1747000"
  },
  {
    "text": "perfect drop-in if you're running the dashboard and you have network policy ingress support drop this in and it will",
    "start": "1717730",
    "end": "1724840"
  },
  {
    "text": "protect your dashboard excuse me it's a",
    "start": "1724840",
    "end": "1731559"
  },
  {
    "text": "bit of a trick so we have the pod selector that says the kubernetes dashboard only but there's no rules so",
    "start": "1731559",
    "end": "1737200"
  },
  {
    "text": "by default that means a default and I this does not block who control proxy that works through the API server this",
    "start": "1737200",
    "end": "1743980"
  },
  {
    "text": "is walking from pods which have no business talking to the dashboard restricting the default service account",
    "start": "1743980",
    "end": "1750370"
  },
  {
    "start": "1747000",
    "end": "1771000"
  },
  {
    "text": "token node in our back and node restriction and I want to stress something you have to exact in the pods",
    "start": "1750370",
    "end": "1755890"
  },
  {
    "text": "and verify this right it's very easy to miss this or do this incorrectly if you're messing with our back and monitor",
    "start": "1755890",
    "end": "1763480"
  },
  {
    "text": "all our back audit failures you either have a miss configuration of your app or somebody's attacking you and they're",
    "start": "1763480",
    "end": "1770049"
  },
  {
    "text": "failing and I'm happy to say in one 8",
    "start": "1770049",
    "end": "1775630"
  },
  {
    "start": "1771000",
    "end": "1813000"
  },
  {
    "text": "and above supporting egress natively this policy works in your clusters as a",
    "start": "1775630",
    "end": "1780789"
  },
  {
    "text": "really nice default deny platform apply this to every single one of your",
    "start": "1780789",
    "end": "1786250"
  },
  {
    "text": "namespaces which says ingress and egress nothing is allowed by default in this namespace nothing except Kubb dns",
    "start": "1786250",
    "end": "1794500"
  },
  {
    "text": "lookups to start put this down as a cluster administrator and then deploy",
    "start": "1794500",
    "end": "1801070"
  },
  {
    "text": "your network policy for your workloads with your workload life cycle so when",
    "start": "1801070",
    "end": "1806409"
  },
  {
    "text": "you're deploying as your vote front and back apply the network policy that allows those two to work together at",
    "start": "1806409",
    "end": "1811570"
  },
  {
    "text": "that time excuse me and I'm happy to say",
    "start": "1811570",
    "end": "1817480"
  },
  {
    "start": "1813000",
    "end": "1840000"
  },
  {
    "text": "that throughout these last five months I've worked with every single one of these projects directly disclosing the issues that I found a lot of cases they",
    "start": "1817480",
    "end": "1823990"
  },
  {
    "text": "were already in progress already in flight fixing them but with newer releases and kubernetes want to eight",
    "start": "1823990",
    "end": "1830799"
  },
  {
    "text": "and a little bit of elbow grease we can look like this we can literally wipe out this classification of vulnerabilities",
    "start": "1830799",
    "end": "1836799"
  },
  {
    "text": "for good and making infrastructure nice and boring to tools I want to tell you",
    "start": "1836799",
    "end": "1842919"
  },
  {
    "start": "1840000",
    "end": "1857000"
  },
  {
    "text": "about coup btf it was a tool that I wrote to help automate the creation and validation and destruction of all these",
    "start": "1842919",
    "end": "1849730"
  },
  {
    "text": "clusters in a sane way because I spun them up every day for two hours and threw him away kept going through all of",
    "start": "1849730",
    "end": "1855910"
  },
  {
    "text": "them and hep do sonobuoy I brought a",
    "start": "1855910",
    "end": "1861280"
  },
  {
    "start": "1857000",
    "end": "1879000"
  },
  {
    "text": "plugin was basically a proof of concept there's so much more you can do with this I currently run a CIS benchmark",
    "start": "1861280",
    "end": "1866890"
  },
  {
    "text": "using aqua Securities COO bench so by deploying this plug-in into sonobuoy we",
    "start": "1866890",
    "end": "1872799"
  },
  {
    "text": "can continually scan our nodes for for posture assessment in a very same way so",
    "start": "1872799",
    "end": "1881110"
  },
  {
    "start": "1879000",
    "end": "1939000"
  },
  {
    "text": "even more security hardening tips this is where it goes above that line on that apple tree I showed you this is where it",
    "start": "1881110",
    "end": "1886240"
  },
  {
    "text": "gets a little bit more advanced let's assume that you've all done all the things that I just suggested here's what",
    "start": "1886240",
    "end": "1892090"
  },
  {
    "text": "you want to look for you want to verify that all your settings are properly enforced I can't tell you how many times I thought I hardened something and I go",
    "start": "1892090",
    "end": "1897970"
  },
  {
    "text": "validate it and I didn't do it just correctly I didn't get that label just right etc it's important that you",
    "start": "1897970",
    "end": "1903070"
  },
  {
    "text": "validate those keep up the latest versions if you possibly can because they're adding useful security features",
    "start": "1903070",
    "end": "1908980"
  },
  {
    "text": "in every dot release audit although the levels that you can the OS the runtime",
    "start": "1908980",
    "end": "1914500"
  },
  {
    "text": "and kubernetes I like the Cooper the CIS benchmarks log everything outside the",
    "start": "1914500",
    "end": "1919929"
  },
  {
    "text": "cluster that's important",
    "start": "1919929",
    "end": "1924090"
  },
  {
    "text": "practice safe image security there's all sorts of good talks and blog posts about",
    "start": "1932950",
    "end": "1938380"
  },
  {
    "text": "this and tools that help with that I already covered the kubernetes components a bit that the network security policy bit is incredibly",
    "start": "1938380",
    "end": "1945130"
  },
  {
    "start": "1939000",
    "end": "1978000"
  },
  {
    "text": "important now that we have ingress and egress use that to your advantage you can mask a lot of attacks by just not",
    "start": "1945130",
    "end": "1950830"
  },
  {
    "text": "having network access ok protect your workloads by default by saying no ingress and egress and then",
    "start": "1950830",
    "end": "1957010"
  },
  {
    "text": "apply what you're allowed to it's it's white listing not block listing and I",
    "start": "1957010",
    "end": "1962080"
  },
  {
    "text": "added this the other day considering a service mesh there's a lot of benefits other than all the things that it does",
    "start": "1962080",
    "end": "1967240"
  },
  {
    "text": "for your application and visibility of mutual TLS but it makes your workloads",
    "start": "1967240",
    "end": "1973080"
  },
  {
    "text": "more isolated when they talk to each other just by default and how it works I think some folks have talked about",
    "start": "1973080",
    "end": "1981610"
  },
  {
    "start": "1978000",
    "end": "2106000"
  },
  {
    "text": "this before but namespaces pretendin is really good when you combine it with that default deny policy set right if",
    "start": "1981610",
    "end": "1988450"
  },
  {
    "text": "you have microcircuits here micro service here and micro service here they're all default denies by default Microsoft a talk to each other until you",
    "start": "1988450",
    "end": "1994930"
  },
  {
    "text": "allow them right you can be explicit us this is something we learned from the",
    "start": "1994930",
    "end": "2000120"
  },
  {
    "text": "capture-the-flag exercise make sure that CPU and RAM limits are in all containers and I know disk and network are",
    "start": "2000120",
    "end": "2005580"
  },
  {
    "text": "somewhere down the line to prevent malicious actors from just filling the disk or consuming all sorts of ram with",
    "start": "2005580",
    "end": "2012840"
  },
  {
    "text": "with all sorts of tools something that people don't talk about which i think is",
    "start": "2012840",
    "end": "2018750"
  },
  {
    "text": "kind of interesting is on your pod specs if you're running a pod that has no",
    "start": "2018750",
    "end": "2023850"
  },
  {
    "text": "business talking to the api server in your pod spec don't mount the service",
    "start": "2023850",
    "end": "2029250"
  },
  {
    "text": "count token you don't need it don't put it there even if it's got no permissions right defense and death and use a pod",
    "start": "2029250",
    "end": "2037770"
  },
  {
    "text": "security policy to enforce container restrictions and protect the node that's something that's going to mature over",
    "start": "2037770",
    "end": "2042930"
  },
  {
    "text": "the next few releases and shout out to some of the vendors that I talked to",
    "start": "2042930",
    "end": "2048450"
  },
  {
    "text": "this is kind of an important note the container where malicious activity and behavioral detection capabilities that's",
    "start": "2048450",
    "end": "2056040"
  },
  {
    "text": "incredibly important for stopping the initial attack right where it started at the Cisco level shell cannot happen a",
    "start": "2056040",
    "end": "2062760"
  },
  {
    "text": "curl cannot be downloaded it cannot be exact etc you stop it there's tracks right down in there number three and the",
    "start": "2062760",
    "end": "2071820"
  },
  {
    "text": "miscellaneous security bit separate cloud accounts projects or resources groups for different workloads or",
    "start": "2071820",
    "end": "2077220"
  },
  {
    "text": "different clusters I think a one-to-one mapping is safe for now it's just too there's too many ways to hop across and",
    "start": "2077220",
    "end": "2085669"
  },
  {
    "text": "don't run devyn test workloads and clusters at the same time as production",
    "start": "2085669",
    "end": "2091590"
  },
  {
    "text": "or in the same places production again because of so much opportunity for crossover and in depending on your",
    "start": "2091590",
    "end": "2097110"
  },
  {
    "text": "regulatory requirements separate node pools for separate workloads using annotations to make sure sensitive stuff",
    "start": "2097110",
    "end": "2103290"
  },
  {
    "text": "happens here non sensitive stuff happens over here here's some of the tools that I came",
    "start": "2103290",
    "end": "2109430"
  },
  {
    "start": "2106000",
    "end": "2145000"
  },
  {
    "text": "across that I found of note that you might want to take advantage of when you're looking at auditing the CIS",
    "start": "2109430",
    "end": "2114920"
  },
  {
    "text": "benchmark has been updated from 1.8 it's a great resource to bench implements it nicely very straightforward to run the",
    "start": "2114920",
    "end": "2123079"
  },
  {
    "text": "CIS OS and run time hardening stuff from dev sack and ansible hardening from",
    "start": "2123079",
    "end": "2128720"
  },
  {
    "text": "major haydn and the other folks from OpenStack are really good at making sure",
    "start": "2128720",
    "end": "2134150"
  },
  {
    "text": "the underlying postures on your systems are great and then coop audit which I'm looking forward to I think that's the",
    "start": "2134150",
    "end": "2139160"
  },
  {
    "text": "next talk and sonobuoy I think there's a lot of room for growth here in this",
    "start": "2139160",
    "end": "2144320"
  },
  {
    "text": "space notable security features in one 8 network policy and pod security policy",
    "start": "2144320",
    "end": "2151670"
  },
  {
    "start": "2145000",
    "end": "2161000"
  },
  {
    "text": "white listing the egress is huge volume mount white listing prevents a lot of",
    "start": "2151670",
    "end": "2156770"
  },
  {
    "text": "those node access bits that I was just showing you so in closing as a community we're all",
    "start": "2156770",
    "end": "2165170"
  },
  {
    "text": "responsible for that safety and secure the applications that power our world let's make that foundation secure by default and incredibly boring thank you",
    "start": "2165170",
    "end": "2173660"
  },
  {
    "text": "[Applause]",
    "start": "2173660",
    "end": "2181609"
  },
  {
    "text": "okay first I'm gonna say thanks to all those folks that I listed on the left there and now I can take some questions",
    "start": "2193180",
    "end": "2200048"
  },
  {
    "text": "anyone yes some of those installers",
    "start": "2200890",
    "end": "2210680"
  },
  {
    "text": "implement to cuvee DM cube admin it's it's the join token you gotta protect",
    "start": "2210680",
    "end": "2215989"
  },
  {
    "text": "that and then there's a lot of good stuff that happens",
    "start": "2215989",
    "end": "2219880"
  },
  {
    "text": "yes yes certificate rotation expiration yep yes sir",
    "start": "2223340",
    "end": "2231670"
  },
  {
    "text": "the question is what's the what's the number-one all the above but if the",
    "start": "2247940",
    "end": "2253549"
  },
  {
    "text": "first thing is enabling our back a huge classification of those things don't happen in a properly configured our back",
    "start": "2253549",
    "end": "2259339"
  },
  {
    "text": "enable cluster right and then the rest still you have to do because notice how all the things that I was doing required",
    "start": "2259339",
    "end": "2266539"
  },
  {
    "text": "no special tools it was just access that you have so combining that with network policy just",
    "start": "2266539",
    "end": "2273440"
  },
  {
    "text": "it shuts off everything to start you might you might have a vulnerable couplet right the Kubla date exploit but",
    "start": "2273440",
    "end": "2279380"
  },
  {
    "text": "if you have an egress policy you can stop that network access assuming you put it on there ever your namespace right so you can you can",
    "start": "2279380",
    "end": "2286579"
  },
  {
    "text": "mitigate and work around without having to fix the underlying things with some some clever policies yes sir",
    "start": "2286579",
    "end": "2301390"
  },
  {
    "text": "I knew that question what happened did I look at OpenShift the answer is yes I wanted to focus on",
    "start": "2302460",
    "end": "2309000"
  },
  {
    "text": "vanilla kubernetes because as you know openshift is slightly opinionated distribution of kubernetes the only",
    "start": "2309000",
    "end": "2315900"
  },
  {
    "text": "thing that applies to open shift from the things that I've talked about by default is the metadata API however they",
    "start": "2315900",
    "end": "2324599"
  },
  {
    "text": "don't put anything sensitive and user data and they don't put any I am credentials associated with those",
    "start": "2324599",
    "end": "2330210"
  },
  {
    "text": "workers by default that you would get that if you go ahead and do that then that's available and they'll need the",
    "start": "2330210",
    "end": "2335880"
  },
  {
    "text": "the metadata proxies but that's the only thing I hesitated in lumping it in there",
    "start": "2335880",
    "end": "2341220"
  },
  {
    "text": "because it's such a different beast compared to how all these were lined up it's a little bit of an unfair comparison but I would highly recommend",
    "start": "2341220",
    "end": "2346619"
  },
  {
    "text": "you look at OpenShift in terms of at least a reference point for their security model",
    "start": "2346619",
    "end": "2352290"
  },
  {
    "text": "it's a without plugging I have no horse in the race",
    "start": "2352290",
    "end": "2358190"
  },
  {
    "text": "all right I'll be in the hallway for him any questions thanks so much [Applause]",
    "start": "2364480",
    "end": "2371960"
  }
]