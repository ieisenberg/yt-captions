[
  {
    "text": "so we are Duffy and Kyle um I'm Duffy KY I'm the field CTO at ISO veent if you want to find me online I'm Maui lion",
    "start": "80",
    "end": "6759"
  },
  {
    "text": "everywhere I grew up in Maui and I like big cats um important thing about is surveillant you can see that it says is",
    "start": "6759",
    "end": "12679"
  },
  {
    "text": "surveillant at cisos is surveillant was recently acquired by Cisco it's important to note that isovalent is",
    "start": "12679",
    "end": "17920"
  },
  {
    "text": "still doing business as isovalent right we're not uh we're not like going away anywhere we're still very committed to",
    "start": "17920",
    "end": "23320"
  },
  {
    "text": "driving the product forward both on the celium and the tetron projects and um",
    "start": "23320",
    "end": "28439"
  },
  {
    "text": "we're just super excited that we don't have Wonder we don't have to worry about funding anymore like this is all sorted out at this point so that's awesome Mr",
    "start": "28439",
    "end": "35440"
  },
  {
    "text": "Kyle yeah and I'm the docker slim guy I created Dr slim and we'll get to use it",
    "start": "35440",
    "end": "42079"
  },
  {
    "text": "and learn a little bit about it I'm also a founder of autonomous plane and if you",
    "start": "42079",
    "end": "47160"
  },
  {
    "text": "know if you want to know more about it just you know ask me after the",
    "start": "47160",
    "end": "52800"
  },
  {
    "text": "session so this talk is heavily based on the talk that we put together in Amsterdam with Roy mckune Brad Gman and",
    "start": "52800",
    "end": "60160"
  },
  {
    "text": "in cold water in which we were actually talking about how to break the link",
    "start": "60160",
    "end": "65439"
  },
  {
    "text": "between what's happening inside of your image and the ability to understand what's happening inside of your image",
    "start": "65439",
    "end": "71240"
  },
  {
    "text": "and we're going to play with that a bit in this talk as well but that's what that's what if you haven't seen that one",
    "start": "71240",
    "end": "76280"
  },
  {
    "text": "I definitely recommend checking it out it's a it's a great it's a great watch but we'll also learn new ways to confuse",
    "start": "76280",
    "end": "83240"
  },
  {
    "text": "vulnerability scanners so there's more than just the original malicious compliance talk yeah",
    "start": "83240",
    "end": "90479"
  },
  {
    "text": "okay so we'll do a little bit of role playing I'll be the developer uh in in a",
    "start": "90479",
    "end": "95759"
  },
  {
    "text": "company and it's um 24 hours before the release and I'm super excited about uh",
    "start": "95759",
    "end": "104479"
  },
  {
    "text": "finally finishing my application just in time for the release this is a simple uh",
    "start": "104479",
    "end": "110479"
  },
  {
    "text": "node application it's a a microservice to do uh node management that lets me uh",
    "start": "110479",
    "end": "117719"
  },
  {
    "text": "see the services running on the Node and then it lets me uh ping different external sides for debugging purposes um",
    "start": "117719",
    "end": "126439"
  },
  {
    "text": "it's pretty basic it has a couple of vulnerabilities I put them uh in the application",
    "start": "126439",
    "end": "133920"
  },
  {
    "text": "intentionally so we we could guarantee that the vulnerability scanners find",
    "start": "133920",
    "end": "141599"
  },
  {
    "text": "something so Kyle has also pushed His Image to Quay and we can see already",
    "start": "142599",
    "end": "147720"
  },
  {
    "text": "that CLA which is integrated with Quay as an image scanner has a lot to say",
    "start": "147720",
    "end": "153360"
  },
  {
    "text": "about that more than maybe more than just a couple critical vulnerabilities Claire sees 141 critical",
    "start": "153360",
    "end": "160360"
  },
  {
    "text": "level vulnerabilities it also sees quite a few others but uh as you were kind of mentioning before the before we started",
    "start": "160360",
    "end": "167000"
  },
  {
    "text": "our talk it's important to note that even though these numbers are very alarming that a ton of these things are",
    "start": "167000",
    "end": "173000"
  },
  {
    "text": "not related to how your application runs at all but you're still going to get a report right you're still going to get",
    "start": "173000",
    "end": "179200"
  },
  {
    "text": "somebody coming back to you and saying this is crazy this image is not safe",
    "start": "179200",
    "end": "184840"
  },
  {
    "text": "what are you gonna do yeah especially when you're dealing with external users like you mentioned uh you have a",
    "start": "184840",
    "end": "190280"
  },
  {
    "text": "customer they run their scanners they don't have a lot of context about your application they see the Christmas tree",
    "start": "190280",
    "end": "196519"
  },
  {
    "text": "they're not happy yeah so K also received a report from the infos folks",
    "start": "196519",
    "end": "202080"
  },
  {
    "text": "and they said uh they have chosen to use a tool called Docker Scout to understand",
    "start": "202080",
    "end": "208239"
  },
  {
    "text": "whether a particular image is safe and they've also implemented things like admission controllers into the",
    "start": "208239",
    "end": "213480"
  },
  {
    "text": "kubernetes production environment where if there is detected a critical or a",
    "start": "213480",
    "end": "218640"
  },
  {
    "text": "high level cve we won't they won't allow that image to be deployed into production and we have a lot of those",
    "start": "218640",
    "end": "225760"
  },
  {
    "text": "yeah and it's also interesting that like you can see from this output that it's very different doer Scout sees a very",
    "start": "225760",
    "end": "232560"
  },
  {
    "text": "different output than Claire did right like in in do Scout only sees 15",
    "start": "232560",
    "end": "238519"
  },
  {
    "text": "critical in 88 High 14 you know versus 141 critical and 1,049 high so easier",
    "start": "238519",
    "end": "246040"
  },
  {
    "text": "but still like where do you even begin now let's take a look at like a",
    "start": "246040",
    "end": "251280"
  },
  {
    "text": "variety of other scanners let's just pick up let's kind of look at a bigger picture here and so we've actually",
    "start": "251280",
    "end": "257040"
  },
  {
    "text": "pulled in things like osv scan and we can see that it's found a couple things we obviously have Docker Scout finding",
    "start": "257040",
    "end": "263520"
  },
  {
    "text": "all of the stuff it has Snick is in there got got some got some findings nothing too critical maybe like one",
    "start": "263520",
    "end": "269280"
  },
  {
    "text": "critical we have gripe which found a bunch of stuff and then we have our front runner in this particular",
    "start": "269280",
    "end": "276320"
  },
  {
    "text": "case which is trivy and trivy has found something on the order of",
    "start": "276320",
    "end": "282400"
  },
  {
    "text": "2700 issues that are medium and lower right this isn't even the total",
    "start": "282400",
    "end": "288960"
  },
  {
    "text": "this is just medium and lower that Tri was able to find in this image and this really makes our Point again right like",
    "start": "288960",
    "end": "296039"
  },
  {
    "text": "why are they so wildly different which one is telling me the truth which one is",
    "start": "296039",
    "end": "301720"
  },
  {
    "text": "actually highlighting the problem that I need to solve right and there's a variety of reasons why they're very",
    "start": "301720",
    "end": "307039"
  },
  {
    "text": "different and we're going to kind of play with a little bit why they're why they're different as we go and it makes it a lot more confusing because with",
    "start": "307039",
    "end": "314080"
  },
  {
    "text": "this tool you get one set of results with the other one you have more and it adds to that time you have to spend yeah",
    "start": "314080",
    "end": "321800"
  },
  {
    "text": "you only have 24 hours yeah exactly so back to the application I only have 24",
    "start": "321800",
    "end": "328919"
  },
  {
    "text": "hours and that's a lot of vulnerabilities to fix the old and traditional way to deal with those",
    "start": "328919",
    "end": "335039"
  },
  {
    "text": "vulnerabilities to triage them and to fix them just doesn't work there's not",
    "start": "335039",
    "end": "340759"
  },
  {
    "text": "enough time 244 hours is not enough time to fix those thousands of",
    "start": "340759",
    "end": "346080"
  },
  {
    "text": "vulnerabilities so I need a quick way to get rid of those vulnerabilities um and I need a way to",
    "start": "346080",
    "end": "354240"
  },
  {
    "text": "pass those admission controllers and to pass the infos te",
    "start": "354240",
    "end": "361639"
  },
  {
    "text": "we have and this is an opportunity to introduce do slim and M tool kid slim tool kid we have a lot of stuff in the",
    "start": "364199",
    "end": "372520"
  },
  {
    "text": "container but we don't need all of it uh what if we remove what we don't",
    "start": "372520",
    "end": "380080"
  },
  {
    "text": "need um to have a minimal container",
    "start": "380080",
    "end": "385240"
  },
  {
    "text": "image is it less stuff to find makes it a little bit easier to work through exactly ly so the idea there is that you",
    "start": "385240",
    "end": "392000"
  },
  {
    "text": "remove the stuff that you don't need and then you have less stuff the attack surface is reduced and you remove a lot",
    "start": "392000",
    "end": "399599"
  },
  {
    "text": "of components and some of those components are vulnerable components so",
    "start": "399599",
    "end": "405919"
  },
  {
    "text": "naturally you'll have fewer vulnerabilities not necessarily all vulnerabilities will be gone but you",
    "start": "405919",
    "end": "413000"
  },
  {
    "text": "should be in a better place so it's a good starting place and minimal container images is considered to be a",
    "start": "413000",
    "end": "418599"
  },
  {
    "text": "best practice uh the main gotcha there is that it's",
    "start": "418599",
    "end": "423800"
  },
  {
    "text": "actually hard to do manually because you need to know what your application needs",
    "start": "423800",
    "end": "429840"
  },
  {
    "text": "and an application is like an iceberg you usually deal just with the tip of the iceberg but there's a lot more",
    "start": "429840",
    "end": "436639"
  },
  {
    "text": "inside uh and below the water line and not a lot of people know about what you",
    "start": "436639",
    "end": "442680"
  },
  {
    "text": "need at the lower levels uh so this is a nice way to have minimal container",
    "start": "442680",
    "end": "449039"
  },
  {
    "text": "images but it's not the only way so let's start by minifying the application",
    "start": "449039",
    "end": "454720"
  },
  {
    "text": "and let's see uh what happens to the vulnerabilities so the first thing we're going to do is we're going to use the",
    "start": "454720",
    "end": "460720"
  },
  {
    "text": "Min the Minal kit to actually uh Minify our container yes so the CLI command we have",
    "start": "460720",
    "end": "468759"
  },
  {
    "text": "has a number of parameters uh in addition to the Target container image",
    "start": "468759",
    "end": "474520"
  },
  {
    "text": "parameter uh that we need to uh Minify we also have a few Flags to interact",
    "start": "474520",
    "end": "481080"
  },
  {
    "text": "with the application uh a couple of those flags are pretty obvious the um the the HTP",
    "start": "481080",
    "end": "487680"
  },
  {
    "text": "probe U uh HP probe CMD flag but not all of them are straightforward and that's",
    "start": "487680",
    "end": "495000"
  },
  {
    "text": "where you actually like I was curious about like the htb probe full one like what is that one actually doing for us",
    "start": "495000",
    "end": "500280"
  },
  {
    "text": "yeah so so that's one of the things that um people new to Docker Slim have to",
    "start": "500280",
    "end": "505840"
  },
  {
    "text": "deal with they don't necessarily know the flags um and that's a good question",
    "start": "505840",
    "end": "512000"
  },
  {
    "text": "and that question comes up a lot and this is something that we can um um this",
    "start": "512000",
    "end": "517680"
  },
  {
    "text": "is where we can leverage the new experimental AI assistant where we can",
    "start": "517680",
    "end": "523080"
  },
  {
    "text": "ask about the flags that are available or we can ask higher level questions",
    "start": "523080",
    "end": "528519"
  },
  {
    "text": "focusing on the outcomes we need and then it'll explain what um uh what kind",
    "start": "528519",
    "end": "535160"
  },
  {
    "text": "of flags you have and what you need to do and here's an example of asking about",
    "start": "535160",
    "end": "540480"
  },
  {
    "text": "the flag uh one of the flags and here we have a lot of useful information about the flag and we also uh have the",
    "start": "540480",
    "end": "548680"
  },
  {
    "text": "information about how to use it and I wonder if anybody can spot a",
    "start": "548680",
    "end": "554600"
  },
  {
    "text": "hallucination in this output if you look uh at the description and the kind of",
    "start": "554600",
    "end": "561680"
  },
  {
    "text": "the the properties of the flag is there anything that jumps at you",
    "start": "561680",
    "end": "568680"
  },
  {
    "text": "subtle ta subtlety yeah it's actually related to the type information the flag is a",
    "start": "569800",
    "end": "577560"
  },
  {
    "text": "Boolean flag and uh the assistant gets the default correct uh it says that the",
    "start": "577560",
    "end": "584120"
  },
  {
    "text": "default is false but then it says that the type is a string and then it also says that it's a repeatable uh flag so",
    "start": "584120",
    "end": "592760"
  },
  {
    "text": "still still work to do with the assistant but it's still super helpful it gives a high level overview and and",
    "start": "592760",
    "end": "599600"
  },
  {
    "text": "from the ux perspective if you don't know the internals of Docker slim that's",
    "start": "599600",
    "end": "604760"
  },
  {
    "text": "that's super uh useful to use so let's jump back into our vulnerabilities or",
    "start": "604760",
    "end": "610160"
  },
  {
    "text": "our container image scanners and those sorts of things take a look at like what has changed about the world here so we're going to continue to use",
    "start": "610160",
    "end": "616839"
  },
  {
    "text": "the tool that security uses we're going to use Docker Scout to kind of take a look at things and we can now see that we only",
    "start": "616839",
    "end": "624200"
  },
  {
    "text": "have five vulnerabilities and none of them are critical which is actually way better than what we had before right",
    "start": "624200",
    "end": "630920"
  },
  {
    "text": "this is actually approachable so at this point like as an employee Kyle could probably go to security and say hey can",
    "start": "630920",
    "end": "636120"
  },
  {
    "text": "I get an exception for these high vulnerabilities but where would the fund",
    "start": "636120",
    "end": "641440"
  },
  {
    "text": "be in that so if we again look at all of the",
    "start": "641440",
    "end": "646680"
  },
  {
    "text": "uh scanners we can see that we're about to see a very big difference now I'm bringing this graph up to remind you",
    "start": "646680",
    "end": "652240"
  },
  {
    "text": "what it looked like for the full image and then when we go to the now",
    "start": "652240",
    "end": "657680"
  },
  {
    "text": "minified image looks very different right we can see that osv scan",
    "start": "657680",
    "end": "664480"
  },
  {
    "text": "has dropped out doesn't see anything we'll talk about why here in a second but we can see that all of the tools",
    "start": "664480",
    "end": "669920"
  },
  {
    "text": "have been affected pretty heavily so now our front runner is Sneak like trimby",
    "start": "669920",
    "end": "675600"
  },
  {
    "text": "has dropped way back sneak is still in there but sneak is actually only finding a maximum of 35 issues in the medium and",
    "start": "675600",
    "end": "683480"
  },
  {
    "text": "lower category which is much much better so a",
    "start": "683480",
    "end": "689000"
  },
  {
    "text": "lot of this is related to the removal of files that were in the Bas OS image you know the the from command in your Docker",
    "start": "689000",
    "end": "695880"
  },
  {
    "text": "file has a lot to answer for in this particular picture but what did we actually",
    "start": "695880",
    "end": "703240"
  },
  {
    "text": "change so this is a new function inside of the docker Scout command which I actually really like it's called compare",
    "start": "703240",
    "end": "709600"
  },
  {
    "text": "and you can actually compare two images and it will give you sort of a view of what's actually happening",
    "start": "709600",
    "end": "716279"
  },
  {
    "text": "there and so um note that in the original talk when we were actually doing the malicious compliance talk in",
    "start": "717000",
    "end": "723000"
  },
  {
    "text": "Amsterdam we didn't remove anything from the images and that's why this particular model is better right when",
    "start": "723000",
    "end": "729600"
  },
  {
    "text": "you minified this image it got way smaller right we went from the size that it was before to 49 Meg it's down 370",
    "start": "729600",
    "end": "737320"
  },
  {
    "text": "Meg that's a wildly smaller image it's a lot easier to ship that image to all of the nodes Etc we also got rid of we",
    "start": "737320",
    "end": "745399"
  },
  {
    "text": "removed was it 390 vulnerabilities we just like removed them pretty awesome",
    "start": "745399",
    "end": "751959"
  },
  {
    "text": "awesome but there were still a few remaining in our example the",
    "start": "751959",
    "end": "759160"
  },
  {
    "text": "minification wipes out all of the files that aren't needed by your",
    "start": "759160",
    "end": "764360"
  },
  {
    "text": "application and when it does that it also wipes out some of the stuff that uh",
    "start": "764360",
    "end": "769680"
  },
  {
    "text": "an image scanner might use to understand the underlying file system inside of that image and when it does that it",
    "start": "769680",
    "end": "776800"
  },
  {
    "text": "actually removes enough of the metadata that tools like",
    "start": "776800",
    "end": "781920"
  },
  {
    "text": "CLA or tools like osv scan for example which are really focused on basically",
    "start": "781920",
    "end": "787560"
  },
  {
    "text": "aggregating all the vulnerabilities that are known about across the distributions and showing you them but the only way",
    "start": "787560",
    "end": "794199"
  },
  {
    "text": "that they can really show you them is if they understand like oh I was using Debian for this space image what are the",
    "start": "794199",
    "end": "801120"
  },
  {
    "text": "vulnerable packages in the Debian package database and can I report on that right it's a super simple mechanism",
    "start": "801120",
    "end": "808519"
  },
  {
    "text": "and when I and when we remove the metadata it has no way of it has no way of actually doing that anymore exactly",
    "start": "808519",
    "end": "814839"
  },
  {
    "text": "so one vulnerability scanner is down a few more to go so how did we break it",
    "start": "814839",
    "end": "824000"
  },
  {
    "text": "what exactly happened now if we look at the output this is a a a small snippet",
    "start": "824000",
    "end": "830560"
  },
  {
    "text": "from the minified image with a couple of things to note first take a look at the ETC directory it's uh much smaller than",
    "start": "830560",
    "end": "839759"
  },
  {
    "text": "than you normally would get because usually you have a lot more information including the OS distribution",
    "start": "839759",
    "end": "846720"
  },
  {
    "text": "information that usually lives in a file like OS release but depending on the drro it can be different but right there",
    "start": "846720",
    "end": "854399"
  },
  {
    "text": "you see that it's not there so for a lot of scanners this is the starting point that that directs them uh in terms of",
    "start": "854399",
    "end": "861199"
  },
  {
    "text": "how to detect the rest of it so possibly why CLA is down because it doesn't know",
    "start": "861199",
    "end": "867480"
  },
  {
    "text": "the operating system but there is more the operating system package metadata is",
    "start": "867480",
    "end": "872720"
  },
  {
    "text": "also gone so there are a few useful directories for deban packages and that's what we have here uh for dpkg and",
    "start": "872720",
    "end": "880920"
  },
  {
    "text": "AP those are the installer tools uh that uh Dean based systems use and they have",
    "start": "880920",
    "end": "888160"
  },
  {
    "text": "a lot of metadata in the VAR lib dpkg and VAR lib uh AP and the log directory",
    "start": "888160",
    "end": "895000"
  },
  {
    "text": "uh about what's installed and uh the install logs and all of that and if we look at the minified file system the VAR",
    "start": "895000",
    "end": "902920"
  },
  {
    "text": "directory is not even there so that confused a lot of uh vulnerability",
    "start": "902920",
    "end": "909839"
  },
  {
    "text": "scanners um and they they couldn't find that information but they got you there",
    "start": "909839",
    "end": "915800"
  },
  {
    "text": "is that if we had that information it would still uh confuse the scanners",
    "start": "915800",
    "end": "921920"
  },
  {
    "text": "because a lot of the packages are removed and if we keep the metadata the scanners would think that you have a lot",
    "start": "921920",
    "end": "928800"
  },
  {
    "text": "more more packages which wouldn't be good so that's actually the uh you know",
    "start": "928800",
    "end": "935120"
  },
  {
    "text": "the better option to do but anyways oh go ahead question what if the packages",
    "start": "935120",
    "end": "941120"
  },
  {
    "text": "were there but you deleted all this what happens with the scanners it depends on the scanner some",
    "start": "941120",
    "end": "946480"
  },
  {
    "text": "scanners actually go looking for to see if the packages are actually there on dis some of the pack some scanners",
    "start": "946480",
    "end": "951639"
  },
  {
    "text": "actually only care about the fact that your like your um app metadata still",
    "start": "951639",
    "end": "956759"
  },
  {
    "text": "says at some point you installed this package right so like it's a it's a cat and mouse kind of game in a way right",
    "start": "956759",
    "end": "963160"
  },
  {
    "text": "but in this case it's the best of all worlds because not only have we remove the packages we've also removed any evidence of the pack yes scar yeah",
    "start": "963160",
    "end": "971639"
  },
  {
    "text": "there's a little bit of overlap depending on the scanner like Dy said some of them uh you know will not see",
    "start": "971639",
    "end": "979480"
  },
  {
    "text": "more right away because they rely on the the basic metadata and others are more",
    "start": "979480",
    "end": "985240"
  },
  {
    "text": "intelligent look for the so you you have a level of you know obfuscation it just",
    "start": "985240",
    "end": "991160"
  },
  {
    "text": "depends on the scanner how much they're impacted but if we look at what we have",
    "start": "991160",
    "end": "996600"
  },
  {
    "text": "where we are we still have five vulnerabilities and three of them are high so we still have uh work to do so",
    "start": "996600",
    "end": "1006279"
  },
  {
    "text": "let's see yes so let's see what we can do and let's ask the assistant how we can get",
    "start": "1006279",
    "end": "1013880"
  },
  {
    "text": "rid of the uh remaining vulnerability so here we have a a little animation that",
    "start": "1013880",
    "end": "1020279"
  },
  {
    "text": "shows how I asked the assistant to um to",
    "start": "1020279",
    "end": "1025959"
  },
  {
    "text": "solve this problem I asked how can I hide the remaining vulnerabilities and the assistant",
    "start": "1025959",
    "end": "1033280"
  },
  {
    "text": "collected based on the information it knows about Docker slim and Men toolkit",
    "start": "1033280",
    "end": "1038438"
  },
  {
    "text": "and based on the application information it collected it uh provided a little bit",
    "start": "1038439",
    "end": "1044558"
  },
  {
    "text": "of um uh background information on the application what it is what it has it",
    "start": "1044559",
    "end": "1050559"
  },
  {
    "text": "showed uh kind of basic facts about the app the endpoints it exposes um and the endpoints uh we need",
    "start": "1050559",
    "end": "1058240"
  },
  {
    "text": "to interact with uh to uh to Minify and then to obfuscate the application and",
    "start": "1058240",
    "end": "1065120"
  },
  {
    "text": "that's actually something that you'd probably want to know uh when you're doing uh regular minification um you can",
    "start": "1065120",
    "end": "1072880"
  },
  {
    "text": "just ask the assistant and it would give you that information if you wouldn't know anything about uh the customer HTTP",
    "start": "1072880",
    "end": "1079400"
  },
  {
    "text": "probes that's the best way to learn it but anyways it also pointed out um uh an",
    "start": "1079400",
    "end": "1085360"
  },
  {
    "text": "extra flag that you can use called upus skate metadata uh that we can use to hide uh",
    "start": "1085360",
    "end": "1093240"
  },
  {
    "text": "the vulnerabilities and in this snippet we show um a part of that response where",
    "start": "1093240",
    "end": "1098679"
  },
  {
    "text": "it shows us the the CLI command to run uh including that um flag to appus skate",
    "start": "1098679",
    "end": "1106440"
  },
  {
    "text": "in addition to the probes that we need to run and also nice summaries of the flags that we're using and parameters",
    "start": "1106440",
    "end": "1113320"
  },
  {
    "text": "including that HTTP probe full parameter where it explains that yep if you want",
    "start": "1113320",
    "end": "1118520"
  },
  {
    "text": "to run all probes uh use this flag and we execute them all otherwise it'll stop",
    "start": "1118520",
    "end": "1124880"
  },
  {
    "text": "after the first successful probe so let's go ahead and get this",
    "start": "1124880",
    "end": "1130760"
  },
  {
    "text": "done right so let's use that Min command that the Assistant gave us and we'll Minify this even further",
    "start": "1130760",
    "end": "1138400"
  },
  {
    "text": "anyway right I guess it's already minified we're going to be obfuscating some of the the data this is where we're",
    "start": "1138400",
    "end": "1144000"
  },
  {
    "text": "starting to automate that malicious compliance that we talked about",
    "start": "1144000",
    "end": "1148679"
  },
  {
    "text": "before what do our scanners tell us now now that we've actually obfuscated the data like are any of the scanners able",
    "start": "1150840",
    "end": "1158559"
  },
  {
    "text": "to detect anything at this point and so we'll we'll start by trying with Docker Scout again and see if doer Scout sees",
    "start": "1158559",
    "end": "1165320"
  },
  {
    "text": "anything do Scout sees nothing so let's let's move on to another tool right",
    "start": "1165320",
    "end": "1170640"
  },
  {
    "text": "let's take a look let's take a look at our next",
    "start": "1170640",
    "end": "1177159"
  },
  {
    "text": "tool and see if this one finds",
    "start": "1177159",
    "end": "1182400"
  },
  {
    "text": "anything again looking at that obis skated imag and nothing all right well that's",
    "start": "1184000",
    "end": "1191440"
  },
  {
    "text": "good I mean we're making progress making progress we're like knocking them out here let's try maybe one more still",
    "start": "1191440",
    "end": "1198039"
  },
  {
    "text": "nothing all right that's pretty exciting feel like we're actually able to move forward here what do all of the scanners",
    "start": "1198039",
    "end": "1204640"
  },
  {
    "text": "say they say nothing there are no vulnerabilities to find everything is sorted out all of the scanners that we",
    "start": "1204640",
    "end": "1211720"
  },
  {
    "text": "were validating with so far but we still have vulnerabilities oh yeah we haven't changed anything in the in the code that",
    "start": "1211720",
    "end": "1218080"
  },
  {
    "text": "remains on that image what we've done is obus gate it so let's take a look at the diff again right like maybe the diff",
    "start": "1218080",
    "end": "1224679"
  },
  {
    "text": "will help us understand what's happening here so in the diff we can see that we removed five",
    "start": "1224679",
    "end": "1230440"
  },
  {
    "text": "vulnerabilities right we can see that we changed 53 packages which looks a little",
    "start": "1230440",
    "end": "1236480"
  },
  {
    "text": "odd though yeah like why did we change why is it changing what what what 51",
    "start": "1236480",
    "end": "1241559"
  },
  {
    "text": "changes like actually happened here that's a good question so what are those changes um what was the the result of",
    "start": "1241559",
    "end": "1249840"
  },
  {
    "text": "the office gate metadata flag so let's let's dig in let's look at the changes first we changed the binary hashes so",
    "start": "1249840",
    "end": "1258280"
  },
  {
    "text": "for all executables in the upus skated image the the hash is changed so first",
    "start": "1258280",
    "end": "1266240"
  },
  {
    "text": "uh if we look at the first snippet we see that the file size changed uh it might be a little hard to see but the",
    "start": "1266240",
    "end": "1272600"
  },
  {
    "text": "difference is three bytes then the second snippet shows that",
    "start": "1272600",
    "end": "1277679"
  },
  {
    "text": "the shows how the file hashes changed so that means if you have a tool that does",
    "start": "1277679",
    "end": "1284960"
  },
  {
    "text": "hash based lot cups now it's no good now it's not going to f find the matches and",
    "start": "1284960",
    "end": "1290120"
  },
  {
    "text": "if we look at the content and the binary files themselves we'll see that's the",
    "start": "1290120",
    "end": "1297039"
  },
  {
    "text": "last the extra three bytes that we got at the end and they happen to be my initials kcq so adding those uh um extra",
    "start": "1297039",
    "end": "1306520"
  },
  {
    "text": "bites to the binaries Chang the hashes changed the size and it disrupted the uh",
    "start": "1306520",
    "end": "1312559"
  },
  {
    "text": "the normal uh um function of the vulnerability scanners for the node",
    "start": "1312559",
    "end": "1318919"
  },
  {
    "text": "runtime there are additional changes to defeat the signatures the vulnerability scanners use uh to to know what kind of",
    "start": "1318919",
    "end": "1326919"
  },
  {
    "text": "runtime it is uh but I'm not showing it there but it's also there so they don't know what kind of runtime you have and",
    "start": "1326919",
    "end": "1333440"
  },
  {
    "text": "so when we looked at the difference that the comparing the two sides again right we saw that the new image is just",
    "start": "1333440",
    "end": "1339039"
  },
  {
    "text": "slightly bigger it's 103 KB bigger and now we know where that size came from",
    "start": "1339039",
    "end": "1344640"
  },
  {
    "text": "yep yeah exactly another thing another major thing that changed and that's",
    "start": "1344640",
    "end": "1349720"
  },
  {
    "text": "getting to that question so what are those 51 changed packages um uh and how",
    "start": "1349720",
    "end": "1356480"
  },
  {
    "text": "come uh it's changed what we're uh what we have here is uh is sift showing what",
    "start": "1356480",
    "end": "1362840"
  },
  {
    "text": "we had before with the minified image and what we got uh with the obfuscated",
    "start": "1362840",
    "end": "1368039"
  },
  {
    "text": "image and the main thing that changed is the version so if we look at the accepts",
    "start": "1368039",
    "end": "1373880"
  },
  {
    "text": "package note package the original version has 138",
    "start": "1373880",
    "end": "1378960"
  },
  {
    "text": "and the upus skated version is 1138 so what happens with the vulnerability",
    "start": "1378960",
    "end": "1384640"
  },
  {
    "text": "scanner it does a a lookup on the package metadata and then the the SAS",
    "start": "1384640",
    "end": "1390279"
  },
  {
    "text": "side of it tells that you know you're all good there are no vulnerabilities for accepts version",
    "start": "1390279",
    "end": "1397880"
  },
  {
    "text": "11.3.1 so now we defeat the vulnerability matching logic in the",
    "start": "1397880",
    "end": "1403080"
  },
  {
    "text": "vulnerability scanners again just using like the simplest of mechanisms right it's not actually looking at the code to",
    "start": "1403080",
    "end": "1409000"
  },
  {
    "text": "determine if it's vulnerable it's looking at a text field a text string that says what version of the library is",
    "start": "1409000",
    "end": "1416000"
  },
  {
    "text": "on that disk and if you move that version forward then it has no way of understanding that this is not that this",
    "start": "1416000",
    "end": "1422520"
  },
  {
    "text": "is still a vulnerable Library code exactly but you can do a lot more so in",
    "start": "1422520",
    "end": "1428640"
  },
  {
    "text": "the with the previous slide we just changed the version numbers everything else stayed the",
    "start": "1428640",
    "end": "1435000"
  },
  {
    "text": "same but we can completely hide the packages and on this slide it it shows",
    "start": "1435000",
    "end": "1442360"
  },
  {
    "text": "where we started with the original image so you see you have uh sift shows that",
    "start": "1442360",
    "end": "1448799"
  },
  {
    "text": "we have 667 packages in the minified version",
    "start": "1448799",
    "end": "1454480"
  },
  {
    "text": "sift says that we have what 53 packages uh but we still have if we look at the",
    "start": "1454480",
    "end": "1461000"
  },
  {
    "text": "package U names and the versions the versions still look okay then we get to",
    "start": "1461000",
    "end": "1467000"
  },
  {
    "text": "the uh uh obfuscated image now the metadata is different for the note packages now the",
    "start": "1467000",
    "end": "1474679"
  },
  {
    "text": "metadata for the accepts package is 1138 and if we go to the uh extended uh",
    "start": "1474679",
    "end": "1482640"
  },
  {
    "text": "the um the extended version when it comes to obfuscation we can see that the",
    "start": "1482640",
    "end": "1489520"
  },
  {
    "text": "name of the package is also different so instead of accepts it says obfuscated",
    "start": "1489520",
    "end": "1494640"
  },
  {
    "text": "Dash accepts you can depending on the mode you select with the um Opus skate",
    "start": "1494640",
    "end": "1500279"
  },
  {
    "text": "app package names parameter you can pick random names so they would look like",
    "start": "1500279",
    "end": "1505679"
  },
  {
    "text": "gibberish uh but you can also set them to empty so that uh practically",
    "start": "1505679",
    "end": "1512440"
  },
  {
    "text": "eliminates the packages that's the result on the last in the last snippet where sift sees no packages but the",
    "start": "1512440",
    "end": "1520679"
  },
  {
    "text": "packages are still there the app runs it's all there but this uh the sift tool",
    "start": "1520679",
    "end": "1525760"
  },
  {
    "text": "doesn't see them so at the end of the day we were able to get oh go ahead are there any industry",
    "start": "1525760",
    "end": "1534520"
  },
  {
    "text": "open scanners that",
    "start": "1534520",
    "end": "1539240"
  },
  {
    "text": "Ros are any scanners that binary analysis for which this would not work",
    "start": "1546880",
    "end": "1553320"
  },
  {
    "text": "so for which these techniques would not work I'm not aware of any so definitely",
    "start": "1553320",
    "end": "1558520"
  },
  {
    "text": "no uh the closest thing on the commercial side is endoor labs endoor labs unlike uh regular software",
    "start": "1558520",
    "end": "1565760"
  },
  {
    "text": "composition analysis tools um that look at the package manifest they look at the",
    "start": "1565760",
    "end": "1571440"
  },
  {
    "text": "application source code so they extract the package data from the application source code so if we mangle the name uh",
    "start": "1571440",
    "end": "1579840"
  },
  {
    "text": "Endor Labs will still detect the package because they get the package name from there there's a way to trick them as",
    "start": "1579840",
    "end": "1587360"
  },
  {
    "text": "well and we didn't include that this is kind of for the next stock cuz there's a number of other obfuscations to it but",
    "start": "1587360",
    "end": "1594279"
  },
  {
    "text": "that's the closest thing on the commercial side uh because uh they don't rely on the package manifests commercial",
    "start": "1594279",
    "end": "1601360"
  },
  {
    "text": "requ access toce cods",
    "start": "1601360",
    "end": "1607799"
  },
  {
    "text": "running yeah yeah they work at the source code level uh with the with the scripted languages technically you can",
    "start": "1607799",
    "end": "1615679"
  },
  {
    "text": "um use something like that a similar approach at runtime or after you pushed the image",
    "start": "1615679",
    "end": "1622120"
  },
  {
    "text": "to registry because because the source code is there uh with compile languages it's a little trickier but yeah in terms",
    "start": "1622120",
    "end": "1629679"
  },
  {
    "text": "of uh uh the state-ofthe-art when it comes to detecting vulnerabilities it's",
    "start": "1629679",
    "end": "1635320"
  },
  {
    "text": "all very brittle very basic it relies on basic um um um you know manifest data",
    "start": "1635320",
    "end": "1642960"
  },
  {
    "text": "it's it's an honor System you know we hope that everything we need is",
    "start": "1642960",
    "end": "1649880"
  },
  {
    "text": "there and we hope that everything we need is correct and that may not in fact be",
    "start": "1649880",
    "end": "1657240"
  },
  {
    "text": "true so many organizations maybe uh some of the some of the some of you work for the organizations that do these sorts of",
    "start": "1657240",
    "end": "1663600"
  },
  {
    "text": "things right but they rely on tools like do Scout and Claire and sneak and uh gripe and all of the other tools to kind",
    "start": "1663600",
    "end": "1669640"
  },
  {
    "text": "of Define the uh security posture of images that they allow into their",
    "start": "1669640",
    "end": "1675120"
  },
  {
    "text": "production environment right they're trying to learn like is this software safe to operate in my production",
    "start": "1675120",
    "end": "1680320"
  },
  {
    "text": "environment and what we've shown you is that for a vast majority of those tools they're so easily defeatable that",
    "start": "1680320",
    "end": "1687679"
  },
  {
    "text": "perhaps that's not a really great place to put a lot of uh",
    "start": "1687679",
    "end": "1692799"
  },
  {
    "text": "trust right it's it's a it's a challenging thing and so what I'd like to do is actually make a call out I mean",
    "start": "1692799",
    "end": "1698840"
  },
  {
    "text": "like it's a call to action right go to the per the the company that you're relying on for this stuff and say hey uh",
    "start": "1698840",
    "end": "1705880"
  },
  {
    "text": "what happens if I change the version of this Library would you still detect it how many",
    "start": "1705880",
    "end": "1711320"
  },
  {
    "text": "releases go by between where we are right now and the release where you'd actually be able to detect that cuz that matters to me right but use these words",
    "start": "1711320",
    "end": "1718960"
  },
  {
    "text": "use what you've learned here to drive change in the space because it definitely needs a lot more attention it",
    "start": "1718960",
    "end": "1724320"
  },
  {
    "text": "needs a lot more uh people thinking about that problem and how to solve it yeah and there's a couple of adjacent",
    "start": "1724320",
    "end": "1730559"
  },
  {
    "text": "questions uh number one is um tools like sift and other es bomb tools the the",
    "start": "1730559",
    "end": "1737559"
  },
  {
    "text": "main idea a there is to produce a manifest of what's in your container",
    "start": "1737559",
    "end": "1742760"
  },
  {
    "text": "images or your environments and the problem there is that again it's based on the honor System and it's not",
    "start": "1742760",
    "end": "1749159"
  },
  {
    "text": "complete yeah and sometimes it's not complete by accident uh with the minification that",
    "start": "1749159",
    "end": "1756840"
  },
  {
    "text": "you get with doer slim or sometimes it's intentional uh maybe not by developers",
    "start": "1756840",
    "end": "1762559"
  },
  {
    "text": "it could be malware you know dark dark matter your your build environment is compromised",
    "start": "1762559",
    "end": "1768640"
  },
  {
    "text": "and they can take advantage of uh this very loose Behavior Uh of the",
    "start": "1768640",
    "end": "1774600"
  },
  {
    "text": "vulnerability scanners there by putting extra stuff uh uh in the package directory and nobody will see anything",
    "start": "1774600",
    "end": "1781600"
  },
  {
    "text": "and U that's uh one of the other problems that are related to what",
    "start": "1781600",
    "end": "1787240"
  },
  {
    "text": "vulnerability scanners do yep so there's lots of a way there's lots of room for improvement in this particular space and",
    "start": "1787240",
    "end": "1793480"
  },
  {
    "text": "as we kind of pointed out in the beginning so many things are different between different image scanners it's also also true for ES bombb tools so",
    "start": "1793480",
    "end": "1799600"
  },
  {
    "text": "many things are different for each different es bomb tool it's not we're not in a place where we have any sort of",
    "start": "1799600",
    "end": "1804919"
  },
  {
    "text": "standardization across any of this so just be aware that these tools are kind of crazy and all over the place we have",
    "start": "1804919",
    "end": "1810960"
  },
  {
    "text": "been Duffy and Kyle thank you all so much for being here and speaking of those tools I want",
    "start": "1810960",
    "end": "1818440"
  },
  {
    "text": "to mention another one one of I don't know uh if anybody used or know about",
    "start": "1818440",
    "end": "1823640"
  },
  {
    "text": "this tool called CDX gen it's a tool from uh",
    "start": "1823640",
    "end": "1828760"
  },
  {
    "text": "DX have you heard about it or used it CDX CDX gen so CD uh yeah so uh I also",
    "start": "1828760",
    "end": "1838720"
  },
  {
    "text": "try to use it with with the hour images and it gets lost way early on sift is",
    "start": "1838720",
    "end": "1845039"
  },
  {
    "text": "much better uh dealing with the the infuscated data and CDX gen is actually",
    "start": "1845039",
    "end": "1850399"
  },
  {
    "text": "another example where minification is a nice tool because they containerize the",
    "start": "1850399",
    "end": "1855840"
  },
  {
    "text": "the tool and guess how big it is anybody want to guess",
    "start": "1855840",
    "end": "1861480"
  },
  {
    "text": "zero uh well the original image for CDX gen right 50 8 gigabytes almost 8",
    "start": "1861480",
    "end": "1870519"
  },
  {
    "text": "gigabytes my goodness and uh with using Docker slim I managed to get it down to",
    "start": "1870519",
    "end": "1876760"
  },
  {
    "text": "about 700 megabytes is this uh a talk inspired by",
    "start": "1876760",
    "end": "1884320"
  },
  {
    "text": "some real world experience and if true",
    "start": "1884320",
    "end": "1889480"
  },
  {
    "text": "in jail uh I mean it really depends on the environment in which you're trying to deploy right like you know I think I",
    "start": "1889480",
    "end": "1897840"
  },
  {
    "text": "think for the most part we're not working in places that would actually kick us out if we if they detected this but also like how would they detect it",
    "start": "1897840",
    "end": "1903919"
  },
  {
    "text": "at this point right my problem the problem I'm trying to this is the whole point of the malicious compliance title",
    "start": "1903919",
    "end": "1909440"
  },
  {
    "text": "right the problem I'm trying to solve is getting this past the admission controllers because I need to get this",
    "start": "1909440",
    "end": "1915480"
  },
  {
    "text": "out and also the reports cuz one one of the problems um right",
    "start": "1915480",
    "end": "1923559"
  },
  {
    "text": "yeah I'm going to use the resources that are at my disposal to solve my problem you you work around the system yep",
    "start": "1923559",
    "end": "1931039"
  },
  {
    "text": "because it has you know problems so you work around them but one of the um",
    "start": "1931039",
    "end": "1936840"
  },
  {
    "text": "related problems you deal with especially when you have a separate infosec team they are responsible for",
    "start": "1936840",
    "end": "1942600"
  },
  {
    "text": "finding stuff and the engineering team is responsible for fixing stuff a lot of",
    "start": "1942600",
    "end": "1948080"
  },
  {
    "text": "times what you get you get a Christmas tree report and just because it's in the report they tell you you have to react",
    "start": "1948080",
    "end": "1955279"
  },
  {
    "text": "and you have to fix it you try to reason with them and you try to explain you know this is not relevant but they come",
    "start": "1955279",
    "end": "1962360"
  },
  {
    "text": "back and they say it's in the report you need to fix it I've been in those shoes more than once",
    "start": "1962360",
    "end": "1969799"
  },
  {
    "text": "yeah sometimes you it's it's better but when you deal with external customers it",
    "start": "1969799",
    "end": "1975120"
  },
  {
    "text": "gets even worse explaining why something is not relevant takes a lot more time",
    "start": "1975120",
    "end": "1980720"
  },
  {
    "text": "yeah sometimes you need to buy more time",
    "start": "1980720",
    "end": "1985360"
  }
]