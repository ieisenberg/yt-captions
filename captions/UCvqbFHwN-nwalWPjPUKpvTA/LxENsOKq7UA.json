[
  {
    "start": "0",
    "end": "45000"
  },
  {
    "text": "all right welcome it's 2:35 I think we should go ahead and get started",
    "start": "650",
    "end": "5759"
  },
  {
    "text": "we are here today to do a deep dive for sig cluster life cycle into the cluster API sub project hopefully everybody in",
    "start": "5759",
    "end": "12389"
  },
  {
    "text": "the audience is in the right room if not we won't feel offended if you don't get up and and take off at this point make",
    "start": "12389",
    "end": "17880"
  },
  {
    "text": "sure you at the right talk to introduce ourselves I am Robert Bailey I work at Google I've worked on state cluster",
    "start": "17880",
    "end": "23970"
  },
  {
    "text": "lifecycle for maybe three or four years now before it was actually a sig I was one of the founding members of the sig",
    "start": "23970",
    "end": "29699"
  },
  {
    "text": "and also one of the founding members of the cluster API sub project hi my name",
    "start": "29699",
    "end": "34860"
  },
  {
    "text": "is David Watson I've been working with kubernetes for over three years and I've been involved in multiple grantees deployment tools I worked for Samsung by",
    "start": "34860",
    "end": "42329"
  },
  {
    "text": "the way okay so the agenda for today is",
    "start": "42329",
    "end": "48270"
  },
  {
    "start": "45000",
    "end": "322000"
  },
  {
    "text": "first we're gonna set up the motivation for why we're doing the cluster API project next we're gonna go over some",
    "start": "48270",
    "end": "56059"
  },
  {
    "text": "logistical challenges in terms of how do you set up your first cluster with cluster API if you don't have a cluster",
    "start": "56059",
    "end": "62239"
  },
  {
    "text": "finally we're going to dig into the API definition again this is a deep dive so we're targeting this towards developers",
    "start": "62239",
    "end": "68010"
  },
  {
    "text": "we want to make sure that when you leave you understand what we're doing and how you can jump in and get involved if",
    "start": "68010",
    "end": "73530"
  },
  {
    "text": "you're interested so with that I'll pass back to you great so last year at cube",
    "start": "73530",
    "end": "81479"
  },
  {
    "text": "con in Austin Kristin when I got up and sort of introduced a cluster a pet project and we spent a good amount of time for that",
    "start": "81479",
    "end": "86490"
  },
  {
    "text": "presentation sort of setting the stage and giving them motivation but for people that weren't there haven't watched a recording or knew they're here",
    "start": "86490",
    "end": "92909"
  },
  {
    "text": "to find out what we're doing we don't want to sort of allied over that and just jump jump right into the details so we do want to talk a little bit about",
    "start": "92909",
    "end": "98130"
  },
  {
    "text": "why we're here and what we're doing so the first point is that cluster management and kubernetes is difficult this is sort of been knock on",
    "start": "98130",
    "end": "104520"
  },
  {
    "text": "communities since the early days it's gotten a lot easier since there are the days I don't know if how many you've been working on career days for more",
    "start": "104520",
    "end": "110399"
  },
  {
    "text": "than like two or three years but it used to be really really hard to get your cluster up and running and people still",
    "start": "110399",
    "end": "115979"
  },
  {
    "text": "did it right people fought through the difficulty because the promise of once it was up and running what it delivered to you was so valuable so cluster life",
    "start": "115979",
    "end": "122790"
  },
  {
    "text": "cycles part of their Charter is to make that process really easy make it really easy to get up and running I know a number of you guys were in the previous",
    "start": "122790",
    "end": "128190"
  },
  {
    "text": "talk in this room about cube a DM cube a DM is part of what our sig has been working on some",
    "start": "128190",
    "end": "133230"
  },
  {
    "text": "get easy up and running a cube ad I'm only solves a part of the problem and that's actually intentional our sig is",
    "start": "133230",
    "end": "139019"
  },
  {
    "text": "really focused on building tools that solve pieces of the problem and not trying to build a one solution fits all",
    "start": "139019",
    "end": "144180"
  },
  {
    "text": "tool because we don't believe that that will actually have traction in the community because everybody's needs are so different but cluster management is",
    "start": "144180",
    "end": "150959"
  },
  {
    "text": "really difficult right so one of the pieces that's difficult is clustering so we have cube ATM for that piece and",
    "start": "150959",
    "end": "156239"
  },
  {
    "text": "another piece that's really difficult is managing infrastructure all right so even if you have cube ATM",
    "start": "156239",
    "end": "161280"
  },
  {
    "text": "it presupposes that you already have physical or virtual machines to run commands on and the cluster API project",
    "start": "161280",
    "end": "167910"
  },
  {
    "text": "is really meant to tie together the infrastructure around cube ATM to give you sort of a more holistic way to set",
    "start": "167910",
    "end": "174390"
  },
  {
    "text": "up and manage clusters over time so currently the tooling and ecosystem is",
    "start": "174390",
    "end": "181470"
  },
  {
    "text": "fragmented I was looking this weekend at the kubernetes documentation and there are over 75 ways linked from the",
    "start": "181470",
    "end": "188160"
  },
  {
    "text": "official documentation to deploy kubernetes I've seen lists in the wild",
    "start": "188160",
    "end": "193290"
  },
  {
    "text": "of over a hundred different deployment tools so to put that in perspective I'd",
    "start": "193290",
    "end": "198419"
  },
  {
    "text": "say there's roughly a hundred people here maybe a little more that means one of two things either someone here has",
    "start": "198419",
    "end": "204959"
  },
  {
    "text": "never written deployment tool or one of you has written at least two of them and",
    "start": "204959",
    "end": "212400"
  },
  {
    "text": "and finally another piece of our motivation is we really want to be able to start enabling the community to build higher-level tooling on top of their",
    "start": "212400",
    "end": "218489"
  },
  {
    "text": "clusters one problem with fragmentation is you can't take a tool that's meant to manage clusters and use it anywhere",
    "start": "218489",
    "end": "224220"
  },
  {
    "text": "outside of your same small ecosystem right so if you are a user of cops you might write a tool that works with cops",
    "start": "224220",
    "end": "230310"
  },
  {
    "text": "to manage your cops clusters but then what happens if cops doesn't support environment you want to use and now you're using cube spray and I need to",
    "start": "230310",
    "end": "236519"
  },
  {
    "text": "use queue straight manage clusters how do you make a tool as can over with both a great example this is the cluster",
    "start": "236519",
    "end": "241650"
  },
  {
    "text": "autoscaler the cluster autoscaler has sort of a cloud plugin interface so they can work with different underlying",
    "start": "241650",
    "end": "247410"
  },
  {
    "text": "infrastructures one of the goals of the machines API that we'll get to later is to make it so the cluster autoscaler can",
    "start": "247410",
    "end": "253560"
  },
  {
    "text": "target a single API and let us abstract away the underlying infrastructure in a way that adding support to the cluster",
    "start": "253560",
    "end": "259919"
  },
  {
    "text": "API for new environments sort of gives you an auto scaler for free we believe if there are other tools like the",
    "start": "259919",
    "end": "265560"
  },
  {
    "text": "autoscaler that will benefit from having some consistent api's on which to deal with how we manage clusters another use case is hybrid",
    "start": "265560",
    "end": "273190"
  },
  {
    "text": "cloud so I mentioned with the cops and cubes for example earlier where you know maybe cops as it support new environments but even if it does support",
    "start": "273190",
    "end": "279520"
  },
  {
    "text": "new environment we want to have consistent ways to manage your clusters across you know if your company is",
    "start": "279520",
    "end": "284979"
  },
  {
    "text": "around Amazon and Google and Microsoft how do you interact with your clusters there are definitely a lot of companies",
    "start": "284979",
    "end": "290259"
  },
  {
    "text": "that are trying to help solve this problem but we think that managing your cluster itself managing the infrastructure is",
    "start": "290259",
    "end": "296440"
  },
  {
    "text": "something that the community should step in and provide some guidance to the users of kubernetes on how best to do",
    "start": "296440",
    "end": "302500"
  },
  {
    "text": "that and finally we want to sort of help manage the control plane of a cluster",
    "start": "302500",
    "end": "307930"
  },
  {
    "text": "right and so cube ATM is really great at doing this sort of on a single machine and helping orchestrate the process of",
    "start": "307930",
    "end": "315009"
  },
  {
    "text": "managing and control plane and manage those upgrades across multiple machines and across multiple clusters is some value we think the cluster API can bring",
    "start": "315009",
    "end": "322349"
  },
  {
    "start": "322000",
    "end": "451000"
  },
  {
    "text": "so what is the cluster API so that's probably a good question if you guys are here and you aren't involved in the",
    "start": "322349",
    "end": "328030"
  },
  {
    "text": "project you might want to know like what it is and so we've been sort of beating around the bush with the motivations and how are we solving this problem so first",
    "start": "328030",
    "end": "334630"
  },
  {
    "text": "and foremost is the cluster API is a declarative API prior to the cluster API the kubernetes ecosystem didn't really",
    "start": "334630",
    "end": "343330"
  },
  {
    "text": "have a way to represent the cluster or machines inside of kubernetes itself there was some early attempts I know",
    "start": "343330",
    "end": "350050"
  },
  {
    "text": "just in Santa Barbara and uh pull requests trying to add machine definition to core kubernetes a couple",
    "start": "350050",
    "end": "355810"
  },
  {
    "text": "of years ago I was rejected as being out of scope so what we've done is we sort of stepped outside of quorum readies and",
    "start": "355810",
    "end": "360849"
  },
  {
    "text": "said even if it's not part of core kubernetes we'd like the ecosystem to have a consistent way using kubernetes",
    "start": "360849",
    "end": "366069"
  },
  {
    "text": "native primitives to be able to represent clusters control planes configuration and machines that all sort",
    "start": "366069",
    "end": "371919"
  },
  {
    "text": "of come together and make up your cluster on top of that there's a lot of common logic that we can apply across",
    "start": "371919",
    "end": "377740"
  },
  {
    "text": "different environments right there are a few sort of touch points where the environment needs to be interacted with",
    "start": "377740",
    "end": "383469"
  },
  {
    "text": "directly is whether you're creating a virtual machine or creating a load balancer but there are a lot of pieces that are actually the same right if you",
    "start": "383469",
    "end": "389020"
  },
  {
    "text": "want to have a group of machines if you want to update your machines if you want to update your control plane a lot of that logic can actually be shared across",
    "start": "389020",
    "end": "394509"
  },
  {
    "text": "providers and by sharing logic we can reduce the number of different",
    "start": "394509",
    "end": "399520"
  },
  {
    "text": "implementations we can sort of focus the developers on a single set of code much in the same way we've done with cube ATM hopefully have fewer",
    "start": "399520",
    "end": "405550"
  },
  {
    "text": "bugs have more consistency and lower the barrier to people be able to install and manage kubernetes we really think it's",
    "start": "405550",
    "end": "412900"
  },
  {
    "text": "important to have a pluggable architecture so while we do want to provide common logic to solve these these use cases for people it's it's not",
    "start": "412900",
    "end": "420220"
  },
  {
    "text": "gonna be a one-size-fits-all problem so one place it's really important to have a pluggable architecture is that the the",
    "start": "420220",
    "end": "425530"
  },
  {
    "text": "level where we interact with the infrastructure so we have a provider abstraction where you can plug in",
    "start": "425530",
    "end": "430870"
  },
  {
    "text": "support for new cloud providers relatively easily but on top of that each of the API is has controllers that",
    "start": "430870",
    "end": "437410"
  },
  {
    "text": "implement those API s and you can replace those controllers if you need to if the default controllers don't actually satisfy your these cases and",
    "start": "437410",
    "end": "444100"
  },
  {
    "text": "finally as I mentioned previously we really want to be able to enable common tooling across many different environments so if this intrigues you",
    "start": "444100",
    "end": "453640"
  },
  {
    "text": "and you want to sort of get started we're gonna do sort of a quick walkthrough but like what it means to sort of get up and running and this is",
    "start": "453640",
    "end": "459490"
  },
  {
    "text": "sort of walking through the bootstrapping workflow using the cluster cuddle command which is part of the open source repository so what the command",
    "start": "459490",
    "end": "466300"
  },
  {
    "text": "does is a user runs runs a CLI tool and says create a cluster so great we're gonna pretty cluster the first thing",
    "start": "466300",
    "end": "472000"
  },
  {
    "text": "that we need to create a cluster is a cluster right so we have this problem where we need a cluster to create a cluster luckily we have something called",
    "start": "472000",
    "end": "478990"
  },
  {
    "text": "mini cube which runs great on your laptop and provides a local cluster environment without needing to do a lot",
    "start": "478990",
    "end": "484180"
  },
  {
    "text": "of work configuring it so by default we'll create a mini cube + ER and that cluster will come with a control Blaine",
    "start": "484180",
    "end": "489610"
  },
  {
    "text": "on top of that control plane we will launch a couple of controllers will launch a machine controller and a cluster controller we then install some",
    "start": "489610",
    "end": "496810"
  },
  {
    "text": "custom resource definitions to define what machines you want to create and what your cluster should look like the",
    "start": "496810",
    "end": "502300"
  },
  {
    "text": "two controllers will then take those definitions and create the target cluster for you so this is where we're actually gonna reach out you know to the",
    "start": "502300",
    "end": "508330"
  },
  {
    "text": "environment of your choice whether that's Google or Amazon or vSphere and we're gonna go and actually instantiate",
    "start": "508330",
    "end": "513340"
  },
  {
    "text": "resources in that provider and then at this point we have a decision to make to",
    "start": "513340",
    "end": "519340"
  },
  {
    "text": "pivot or not to pivot right so we have sort of two modes of operation for our bootstrapping the first mode that we've",
    "start": "519340",
    "end": "525160"
  },
  {
    "text": "built is pivoting which I'm going to walk through and if we decide not to pivot that last slide I showed is actually where we stop we leave you with",
    "start": "525160",
    "end": "530620"
  },
  {
    "text": "the bootstrapping cluster in place and the target Buster and that works great if you have an existing bootstrap cluster that",
    "start": "530620",
    "end": "536700"
  },
  {
    "text": "you're using to create new clusters if you're using sort of the mini cube example you probably want to pivot because you're gonna close your laptop",
    "start": "536700",
    "end": "542850"
  },
  {
    "text": "you're gonna walk away you're gonna lose your network connection and the cluster is no longer going to be sort of actively maintained let's say that we do",
    "start": "542850",
    "end": "549630"
  },
  {
    "text": "want to pivot what does that look like well the first thing we do is we copy the custom resource definitions from the",
    "start": "549630",
    "end": "555120"
  },
  {
    "text": "bootstrapping cluster into the target cluster and the next thing we do is we start running controllers in the tart",
    "start": "555120",
    "end": "560310"
  },
  {
    "text": "cluster so if you're if you're looking at this sort of keenly you might notice that at this point we are running controllers both in the bootstrapping",
    "start": "560310",
    "end": "567089"
  },
  {
    "text": "cluster and the target cluster at the same time which doesn't really seem like a great idea",
    "start": "567089",
    "end": "572399"
  },
  {
    "text": "and actually when we're putting these slides till yesterday I thought we killed the bootstrapping cluster bootstrapping controllers first and",
    "start": "572399",
    "end": "578519"
  },
  {
    "text": "looking at the code we don't so that's something we hope we will fix and make this a little bit better the time frame",
    "start": "578519",
    "end": "583860"
  },
  {
    "text": "when twenties overlap is relatively small so we don't anticipate there being too many problems to them fighting but",
    "start": "583860",
    "end": "589019"
  },
  {
    "text": "at this point we do have two different places that's a source of truth and two different rollers acting on those two different places so you could end up",
    "start": "589019",
    "end": "594329"
  },
  {
    "text": "with the controllers fighting for a little while but pretty quickly we go ahead and we destroy the bootstrap cluster by deleting mini cube and that",
    "start": "594329",
    "end": "600630"
  },
  {
    "text": "will delete the controllers and delete the custom resource definitions and you're left with your target cluster which at this point is running on your",
    "start": "600630",
    "end": "606870"
  },
  {
    "text": "target environment and it's sort of self managing ok so now we're going to dig",
    "start": "606870",
    "end": "612990"
  },
  {
    "start": "610000",
    "end": "915000"
  },
  {
    "text": "into what the API consists of so earlier I don't know that we said this but the",
    "start": "612990",
    "end": "618839"
  },
  {
    "text": "question API is a set of custom resource definitions at the top level we have a cluster resource cluster resource",
    "start": "618839",
    "end": "627260"
  },
  {
    "text": "codifies attributes that we think are common among all kubernetes",
    "start": "627260",
    "end": "632579"
  },
  {
    "text": "distributions so kubernetes and general how they need to configure networking that means that pods and services need",
    "start": "632579",
    "end": "638850"
  },
  {
    "text": "ciders and we need a domain name that's all stored in the spec there is an in",
    "start": "638850",
    "end": "646470"
  },
  {
    "text": "the status we have something we have the API endpoint field so one of the things",
    "start": "646470",
    "end": "651870"
  },
  {
    "text": "that we've been working on as we work towards a beta is initially we wanted to be extremely inclusive so that as many",
    "start": "651870",
    "end": "658620"
  },
  {
    "text": "different providers could use an experiment with this framework as we move towards beta I would think it's",
    "start": "658620",
    "end": "664230"
  },
  {
    "text": "important to start solidifying and codifying the semantics",
    "start": "664230",
    "end": "669900"
  },
  {
    "text": "of these different fields this is important for the higher level tooling that we anticipate being built on top so",
    "start": "669900",
    "end": "675720"
  },
  {
    "text": "cluster endpoints right now is one of those fields when the cluster endpoint",
    "start": "675720",
    "end": "681150"
  },
  {
    "text": "is set the intention is that there is at least one API server that is reachable",
    "start": "681150",
    "end": "689960"
  },
  {
    "text": "so on this slide it also says that providers could hook in where specifically needed so one thing to",
    "start": "691640",
    "end": "698160"
  },
  {
    "text": "understand about how the code is structured is that there is a shared controller for each one of these see RDS",
    "start": "698160",
    "end": "703890"
  },
  {
    "text": "and some of the controllers have provider specific actuators which can be plugged in the shared controller helps",
    "start": "703890",
    "end": "710640"
  },
  {
    "text": "provide that uniform semantics interface but the provider specific actuators",
    "start": "710640",
    "end": "716370"
  },
  {
    "text": "allow it to be customized for different environments so moving along we have the",
    "start": "716370",
    "end": "721950"
  },
  {
    "text": "Machine CRD machines our D has configuration which is specific to a given machine that includes Cooper days",
    "start": "721950",
    "end": "728820"
  },
  {
    "text": "version information and providers are responsible for defining how that",
    "start": "728820",
    "end": "734010"
  },
  {
    "text": "machine is created what it looks like what is the CPU memory and disk resources that it is created with next",
    "start": "734010",
    "end": "741960"
  },
  {
    "text": "we have a machine set so a machine set is a homogeneous configuration of machines right you have a template or",
    "start": "741960",
    "end": "749130"
  },
  {
    "text": "the machine CRD and the idea is that a machine set it's a generic controller",
    "start": "749130",
    "end": "754680"
  },
  {
    "text": "there is no actuator and the autoscaler can use the machine set resource to",
    "start": "754680",
    "end": "760670"
  },
  {
    "text": "increase or decrease the number of machines in the machine set thereby creating or deleting machines finally we",
    "start": "760670",
    "end": "768390"
  },
  {
    "text": "have machine deployment this is this is a CRD which is used to coordinate",
    "start": "768390",
    "end": "775080"
  },
  {
    "text": "upgrades so upgrades are a little bit tricky because not only do you have requirements in terms of how many worker",
    "start": "775080",
    "end": "781260"
  },
  {
    "text": "nodes you can kill at one time in order to maintain kubernetes assumptions around replicas sets and and how their",
    "start": "781260",
    "end": "787770"
  },
  {
    "text": "availability is maintained but you also have the control plane which has to be",
    "start": "787770",
    "end": "793470"
  },
  {
    "text": "updated in a certain order and and eventually when we have multi master",
    "start": "793470",
    "end": "799739"
  },
  {
    "text": "configurations needs to be updated such that at no time does the cluster control",
    "start": "799739",
    "end": "805049"
  },
  {
    "text": "plane go down so one of the going back to the motivations we we feel that the",
    "start": "805049",
    "end": "811170"
  },
  {
    "text": "currents the ecosystem is complicated and fragmented one of the things that makes a system easier to use is",
    "start": "811170",
    "end": "817439"
  },
  {
    "text": "familiarity so we just want to point out the analogy that exists between machines",
    "start": "817439",
    "end": "822779"
  },
  {
    "text": "machine sets and machine employments they are directly related to the relationship between pods replicas sets",
    "start": "822779",
    "end": "829499"
  },
  {
    "text": "and deployments hopefully that makes it easier for an infrastructure engineer or",
    "start": "829499",
    "end": "835649"
  },
  {
    "text": "an operator that already knows some kubernetes to learn the cluster API so",
    "start": "835649",
    "end": "841790"
  },
  {
    "text": "earlier I talked about the distinction between the actuator provider-specific code and the generic code the common",
    "start": "841790",
    "end": "848249"
  },
  {
    "text": "code so the writer specific code has access to provider specific data the",
    "start": "848249",
    "end": "854489"
  },
  {
    "text": "provider spec is the specification for the provider the providers are expected",
    "start": "854489",
    "end": "859649"
  },
  {
    "text": "to maintain their own version II of the spec and it's opaque in the perspective of the common code one of the",
    "start": "859649",
    "end": "870179"
  },
  {
    "text": "difficulties that you notice when you configure each machine is that it becomes tedious and redundant you don't",
    "start": "870179",
    "end": "875970"
  },
  {
    "text": "generally want every machine to be different in fact it's usually the case that you'd like them to be relatively",
    "start": "875970",
    "end": "881459"
  },
  {
    "text": "homogeneous so we've created a mechanism that allows you to share provider specs",
    "start": "881459",
    "end": "888350"
  },
  {
    "text": "and so so here's the provider spec",
    "start": "888350",
    "end": "893819"
  },
  {
    "text": "embedded in machine and this is a machine class so a machine can point to provider spec or it can point to a rider",
    "start": "893819",
    "end": "902549"
  },
  {
    "text": "spec source one of which is a machine class machine classes are analogous to",
    "start": "902549",
    "end": "909899"
  },
  {
    "text": "the existing concept of storage class ok",
    "start": "909899",
    "end": "916109"
  },
  {
    "start": "915000",
    "end": "1134000"
  },
  {
    "text": "so now we're going to talk about how to create a new provider",
    "start": "916109",
    "end": "921438"
  },
  {
    "text": "I don't know how all this work when I",
    "start": "922690",
    "end": "928030"
  },
  {
    "text": "bump your frontal okay so so to begin",
    "start": "928030",
    "end": "935800"
  },
  {
    "text": "some conventions around naming we refer to providers for different environments",
    "start": "935800",
    "end": "943290"
  },
  {
    "text": "and by environment what we mean is different cloud providers different bare-metal providers they could be",
    "start": "943290",
    "end": "951070"
  },
  {
    "text": "hosted solutions they could be non hosted solutions so the general broad category of all of",
    "start": "951070",
    "end": "958960"
  },
  {
    "text": "the infrastructure that runs kubernetes now within a given environment or yeah",
    "start": "958960",
    "end": "965620"
  },
  {
    "text": "we're gonna give an environment we have put the potential for one or more variants so for instance we have a repository named cluster API provider",
    "start": "965620",
    "end": "972550"
  },
  {
    "text": "AWS and that is the six sponsored repo for AWS implementations right now it has",
    "start": "972550",
    "end": "979600"
  },
  {
    "text": "an implementation which is targeted towards ec2 and in the future we believe it will have an implementation for eks",
    "start": "979600",
    "end": "988560"
  },
  {
    "text": "so again we're using CR DS this makes it extremely easy to create a new provider",
    "start": "990390",
    "end": "996220"
  },
  {
    "text": "you can see in the right-hand column these are the commands that you can run in order to generate a new compress the",
    "start": "996220",
    "end": "1003270"
  },
  {
    "text": "types that you're defining are the spec and the status or the cluster object and then again the spec and the status for",
    "start": "1003270",
    "end": "1009330"
  },
  {
    "text": "the machine object once you've defined the various types you need to register",
    "start": "1009330",
    "end": "1014460"
  },
  {
    "text": "their schemes this is a short source file which does that and then you need",
    "start": "1014460",
    "end": "1021330"
  },
  {
    "text": "to create actuators so the actuators have a small interface which must be filled in in order to implement the",
    "start": "1021330",
    "end": "1027660"
  },
  {
    "text": "cluster API so for example this is the",
    "start": "1027660",
    "end": "1033230"
  },
  {
    "text": "cluster actuator and it has two methods it has reconcile and it has delete and",
    "start": "1033230",
    "end": "1039680"
  },
  {
    "text": "then looking at the machine actuator we have create delete update and exist we",
    "start": "1039680",
    "end": "1049410"
  },
  {
    "text": "also currently have two additional functions which we intend to get rid of",
    "start": "1049410",
    "end": "1054810"
  },
  {
    "text": "at some point so API again cuckoo big are there as a convenience right now but eventually",
    "start": "1054810",
    "end": "1061750"
  },
  {
    "text": "will be deprecated once you've defined or actuators that you need to register",
    "start": "1061750",
    "end": "1068770"
  },
  {
    "text": "the controllers remember we built this using coop builder COO builder knows nothing about cluster API so all of the",
    "start": "1068770",
    "end": "1075700"
  },
  {
    "text": "core common customer cluster API types must be registered with the controller",
    "start": "1075700",
    "end": "1082420"
  },
  {
    "text": "and then the controller so here's where we register to the actuators and and",
    "start": "1082420",
    "end": "1093040"
  },
  {
    "text": "then the next step is that we we go ahead and we we build and push images so",
    "start": "1093040",
    "end": "1099730"
  },
  {
    "text": "this is this here is a small change to the make file generated by goo builder and all that attempts to do is put all",
    "start": "1099730",
    "end": "1106360"
  },
  {
    "text": "of the CR DS and other manifest in a single file so that deploying the",
    "start": "1106360",
    "end": "1112420"
  },
  {
    "text": "cluster API with the provider specific components can be as simple as well",
    "start": "1112420",
    "end": "1117970"
  },
  {
    "text": "first we build the images but it can be as simple as cou I mean it keeps tart baked deploy and at the end you should",
    "start": "1117970",
    "end": "1124900"
  },
  {
    "text": "have a cluster with cluster API running",
    "start": "1124900",
    "end": "1130350"
  },
  {
    "text": "okay great so one of the reasons that",
    "start": "1130350",
    "end": "1137050"
  },
  {
    "start": "1134000",
    "end": "1275000"
  },
  {
    "text": "many of you are probably here is to figure out you know where we're going we've gotten a lot of questions over the week about when is a cluster API gonna",
    "start": "1137050",
    "end": "1143950"
  },
  {
    "text": "be out of alpha like what's coming next year so we want to spend a few minutes talking about so that is that we had as",
    "start": "1143950",
    "end": "1150190"
  },
  {
    "text": "we were preparing the slides that we could share with all of you I think one thing to keep in mind as we talk about",
    "start": "1150190",
    "end": "1156040"
  },
  {
    "text": "the future roadmap is that the roadmap for this sub project is entirely driven by the people who show up and who are",
    "start": "1156040",
    "end": "1161440"
  },
  {
    "text": "contributing to the project and so if there's something you are not seeing on the roadmap that you really think we",
    "start": "1161440",
    "end": "1166930"
  },
  {
    "text": "should be doing please come join us and start contributing so the things that we see happening over the next year or so",
    "start": "1166930",
    "end": "1173260"
  },
  {
    "text": "are solidifying alpha and cutting our first beta releases so right now we",
    "start": "1173260",
    "end": "1178870"
  },
  {
    "text": "mentioned it we're still in alpha we're still making braking API changes so one of the nice things about being an alpha",
    "start": "1178870",
    "end": "1184300"
  },
  {
    "text": "is we can do a rapid iteration of both the API and the code without having to worry about supporting innings",
    "start": "1184300",
    "end": "1189760"
  },
  {
    "text": "users so that's pretty liberating but at some point we actually do need to start delivering some some value and be able",
    "start": "1189760",
    "end": "1196240"
  },
  {
    "text": "to run things in production and sort of prove out the system so we're targeting beta later this year so that we can",
    "start": "1196240",
    "end": "1201910"
  },
  {
    "text": "actually start doing that so existing systems like OpenShift and cops are looking to start adopting",
    "start": "1201910",
    "end": "1207970"
  },
  {
    "text": "parts of the API and I think they would really prefer if those parts of the API were stable so we're shooting for that",
    "start": "1207970",
    "end": "1213490"
  },
  {
    "text": "as soon as we can another thing we've started working on is multi-master so we had a lovely",
    "start": "1213490",
    "end": "1218800"
  },
  {
    "text": "conversation yesterday that the Jason set up for us to talk about highly",
    "start": "1218800",
    "end": "1224020"
  },
  {
    "text": "available deployments for with the cluster API which is often conflated with multi-master but really what people",
    "start": "1224020",
    "end": "1230560"
  },
  {
    "text": "want is they want to be able to run multiple you know machine instances that we can shard the control plane across so",
    "start": "1230560",
    "end": "1237550"
  },
  {
    "text": "that if you lose any single machine your control plane stays up and oftentimes you will run those machines across availability zones for redundancy",
    "start": "1237550",
    "end": "1244680"
  },
  {
    "text": "another thing that we're looking at doing is setting up Pro integration so both for the cluster API project itself",
    "start": "1244680",
    "end": "1250810"
  },
  {
    "text": "which right now doesn't have sort of the end end pre submits that we'd like to have to give us confidence to start cutting things like beta releases but",
    "start": "1250810",
    "end": "1257320"
  },
  {
    "text": "also if you look at the core kubernetes repo we believe that if we can get the cluster API hooked up into prowl we can",
    "start": "1257320",
    "end": "1263620"
  },
  {
    "text": "use that to deprecate a large swath of the end-to-end tests that are currently running on cube up would be a great sort",
    "start": "1263620",
    "end": "1269830"
  },
  {
    "text": "of sustainability when for the kubernetes ecosystem as a whole so some",
    "start": "1269830",
    "end": "1276460"
  },
  {
    "start": "1275000",
    "end": "1382000"
  },
  {
    "text": "other areas that we're focused on include bare metal bare metal is one of the final frontiers of kubernetes",
    "start": "1276460",
    "end": "1281860"
  },
  {
    "text": "deployment it's very difficult because of how varied the infrastructure tends to be one of the things we'd like to do",
    "start": "1281860",
    "end": "1288280"
  },
  {
    "text": "is look into creating a generic controller that uses web hooks to allocate infrastructure this might be a",
    "start": "1288280",
    "end": "1294460"
  },
  {
    "text": "way to help people target different bare metal environments without having to have a proliferation of perhaps dozens",
    "start": "1294460",
    "end": "1301030"
  },
  {
    "text": "or more different bare metal providers another thing that's extremely important is documentation right now we have a",
    "start": "1301030",
    "end": "1307420"
  },
  {
    "text": "fair amount of documentation for developers it still needs a lot of work so we welcome feedback and contributions",
    "start": "1307420",
    "end": "1313390"
  },
  {
    "text": "in that area but eventually I would like the documentation to target not just developers but end users and then",
    "start": "1313390",
    "end": "1319990"
  },
  {
    "text": "infrastructure engineers so there's a range of people for whom closed API is targeted and we would like",
    "start": "1319990",
    "end": "1326650"
  },
  {
    "text": "the best documentation we can have finally we're going to be looking at",
    "start": "1326650",
    "end": "1331840"
  },
  {
    "text": "there's a seda TM project which we don't know I don't know a lot about it's a new",
    "start": "1331840",
    "end": "1337360"
  },
  {
    "text": "project but it aims to simplify at CD Management in the same way the cuvette TM supplies kubernetes configuration and",
    "start": "1337360",
    "end": "1345480"
  },
  {
    "text": "it has the potential to simplify the deployment of clusters so we're looking at incorporating that into some of the",
    "start": "1345480",
    "end": "1352000"
  },
  {
    "text": "provisioning tools we're looking at Adams add-ons as operators so there's",
    "start": "1352000",
    "end": "1357430"
  },
  {
    "text": "some basic infrastructure like DNS that",
    "start": "1357430",
    "end": "1363700"
  },
  {
    "text": "are required for basically every cluster and we'd like to have a consistent way to not just install but then manage the",
    "start": "1363700",
    "end": "1369880"
  },
  {
    "text": "lifecycle of those add-ons and finally there's a bundle spec which is a new project and we'll be looking at using",
    "start": "1369880",
    "end": "1377440"
  },
  {
    "text": "that to simplify deployment in cluster or lifecycle as well great so one of the",
    "start": "1377440",
    "end": "1383920"
  },
  {
    "start": "1382000",
    "end": "1564000"
  },
  {
    "text": "things that we mentioned is hopefully some or many of you are here because you're interested getting involved in",
    "start": "1383920",
    "end": "1389350"
  },
  {
    "text": "the project and I want to make sure people understand that getting involved doesn't mean writing code right there's",
    "start": "1389350",
    "end": "1394570"
  },
  {
    "text": "a lot of ways that you can help contribute to the community they're really impactful with that how to write code now don't get me wrong if you are",
    "start": "1394570",
    "end": "1400450"
  },
  {
    "text": "able to write code and want to send s code we would love that as well but you know that often times that's a pretty",
    "start": "1400450",
    "end": "1405670"
  },
  {
    "text": "pretty big barrier for people to get o get over especially with a new project and it's it's much easier to start small and so as they had mentioned you know",
    "start": "1405670",
    "end": "1413080"
  },
  {
    "text": "we've started writing documentation we have multiple audiences that we want this documentation to reach many of you",
    "start": "1413080",
    "end": "1418600"
  },
  {
    "text": "probably fit into one of those audiences and so even if you're reviewing the documentation filing issues against the documentation standing small changes the",
    "start": "1418600",
    "end": "1425080"
  },
  {
    "text": "documentation those are huge contributions to the project helping us sort of improve the documentation for",
    "start": "1425080",
    "end": "1430180"
  },
  {
    "text": "the next round of people that show up similarly I think across the curators community we sort of have a lack of",
    "start": "1430180",
    "end": "1436570"
  },
  {
    "text": "people that are focused on helping with project management things like helping with issue backlog triage helping",
    "start": "1436570",
    "end": "1441910"
  },
  {
    "text": "running meetings helping organize people you know helping keeping people on track setting goals setting milestones and",
    "start": "1441910",
    "end": "1448450"
  },
  {
    "text": "helping sort of projects move forward in a consistent fashion in the humans ecosystem this is really difficult because a lot of the players come from",
    "start": "1448450",
    "end": "1455080"
  },
  {
    "text": "many different companies and have lots of other priorities other than just helping the open source project advance other things like",
    "start": "1455080",
    "end": "1462280"
  },
  {
    "text": "helping cut releases building release infrastructure we mentioned during a cig call recently that we want to set up",
    "start": "1462280",
    "end": "1468190"
  },
  {
    "text": "some more project automation there's very very many ways to contribute even if you know nothing about the codebase",
    "start": "1468190",
    "end": "1473230"
  },
  {
    "text": "itself that can help help get you involved and help get you up to speed on the codebase if you do want to start",
    "start": "1473230",
    "end": "1478900"
  },
  {
    "text": "making sort of more significant contributions when you do get to that point we have a number of issues in the",
    "start": "1478900",
    "end": "1484420"
  },
  {
    "text": "codebase that are labeled as either Help Wanted or good first issue and some with both help one other places where we sort",
    "start": "1484420",
    "end": "1490240"
  },
  {
    "text": "of know that there's a gap in the system right now we'd love for someone to step up and own that gap and to start making",
    "start": "1490240",
    "end": "1496030"
  },
  {
    "text": "those changes good first issues are ones that are sort of much smaller issues that are targeted people that maybe don't have the depth of expertise",
    "start": "1496030",
    "end": "1502360"
  },
  {
    "text": "sometimes the things that are labeled it Help Wanted are huge sweeping changes to the system that are hard to come in on",
    "start": "1502360",
    "end": "1507790"
  },
  {
    "text": "on day one and start changing but good first issues are really supposed to be targeted at small changes you don't need",
    "start": "1507790",
    "end": "1514540"
  },
  {
    "text": "to have a lot of domain expertise to make and lastly you know we have a number of providers that have been built",
    "start": "1514540",
    "end": "1520690"
  },
  {
    "text": "so far you know we've got providers for most of the major clouds I was really excited to see that right around the time that Keep Calm China was happening",
    "start": "1520690",
    "end": "1526630"
  },
  {
    "text": "two of the the large cloud providers in China submitted their implementations",
    "start": "1526630",
    "end": "1531700"
  },
  {
    "text": "for about ten seven Baidu so if there is an environment that you're particularly excited about that maybe you use on your",
    "start": "1531700",
    "end": "1537130"
  },
  {
    "text": "day to day for work you know join that that sort of sub project of the sub project and you know help make that",
    "start": "1537130",
    "end": "1543190"
  },
  {
    "text": "environment better if there's an environment that doesn't exist yet that you need",
    "start": "1543190",
    "end": "1548320"
  },
  {
    "text": "we're also you know looking for people to contribute support for new environments as well I think over time the number of new environments we want",
    "start": "1548320",
    "end": "1555040"
  },
  {
    "text": "to support we expect to shrink as we start to cover a lot of the large ones I think the big gap as mentioned earlier was was bare metal because the",
    "start": "1555040",
    "end": "1561430"
  },
  {
    "text": "environments are just so different and if you're looking for sort of more particulars on how to get a hold of us",
    "start": "1561430",
    "end": "1567220"
  },
  {
    "start": "1564000",
    "end": "1707000"
  },
  {
    "text": "this top link is linked to our github repo we've got to read me there it has a",
    "start": "1567220",
    "end": "1572410"
  },
  {
    "text": "lot of the restless' information but it's you know what mailing lists Ron we use the mammoth somewhat sparsely",
    "start": "1572410",
    "end": "1577870"
  },
  {
    "text": "mentioned during our cig intro a couple days ago that there are over 550 people on this mailing list and you know",
    "start": "1577870",
    "end": "1584340"
  },
  {
    "text": "cyclical life cycles are really large say with a lot of different interests and so we try not to",
    "start": "1584340",
    "end": "1589600"
  },
  {
    "text": "but too many things specific to sub-projects on to the mailing list but it's a great way to find out about cross-cutting and things that are",
    "start": "1589600",
    "end": "1595270"
  },
  {
    "text": "happening so we mentioned during the previous slide things like the add-ons as operators and at CD admin these are",
    "start": "1595270",
    "end": "1601630"
  },
  {
    "text": "projects that are starting in a cig that we'd like to adopt across the saiga sort of horizontal efforts and so this",
    "start": "1601630",
    "end": "1607929"
  },
  {
    "text": "mailing this is where you'd start to hear about things like that there's a biweekly meeting for the overall State",
    "start": "1607929",
    "end": "1612940"
  },
  {
    "text": "cluster life cycle but there's also a weekly meeting that's a breakout for this project specifically and we come",
    "start": "1612940",
    "end": "1618760"
  },
  {
    "text": "together for about an hour every week and we talk usually and sort of pretty great technical depth about different",
    "start": "1618760",
    "end": "1624700"
  },
  {
    "text": "design decisions I'm hoping over the next couple of months we can really use those meetings sort of in sort of a",
    "start": "1624700",
    "end": "1630880"
  },
  {
    "text": "project management style to really drive us towards these alpha and beta releases that we've been targeting there are",
    "start": "1630880",
    "end": "1637150"
  },
  {
    "text": "actually two other meetings that we had every week one that's in a European friendly time and one that's in a sort",
    "start": "1637150",
    "end": "1642280"
  },
  {
    "text": "of u.s. West Coast friendly time where people can get together and sort of talk shop come across from different provider",
    "start": "1642280",
    "end": "1648580"
  },
  {
    "text": "implementations and talk about problems they're facing you know things that David brought up about how we use",
    "start": "1648580",
    "end": "1654159"
  },
  {
    "text": "different fields in the API making sure those are consistent across providers these are just other times that people can get together and sort of know that",
    "start": "1654159",
    "end": "1660640"
  },
  {
    "text": "somebody else will be there to talk to to ask questions to and to work together with yeah we've got a link to our",
    "start": "1660640",
    "end": "1666280"
  },
  {
    "text": "meeting notes all of the meetings get recorded and uploaded to our YouTube playlist so if you can't make meetings",
    "start": "1666280",
    "end": "1671620"
  },
  {
    "text": "you know I think that many times I might be difficult for people you know in China you can always go back and watch",
    "start": "1671620",
    "end": "1677650"
  },
  {
    "text": "the meetings you can add questions to the meeting notes ahead of time even if you're not going to be there and we will try to answer those questions and we",
    "start": "1677650",
    "end": "1684610"
  },
  {
    "text": "also have a slack Channel please come join us and slack ask questions in slack well we have a single slack channel for",
    "start": "1684610",
    "end": "1690159"
  },
  {
    "text": "all the providers I think that's been really useful because even if you have a question where you have a bug in a specific provider it's often someone",
    "start": "1690159",
    "end": "1696460"
  },
  {
    "text": "from another provider that sees that first and helps pull in the right people or maybe it's a bug that they've also encountered it can still help you",
    "start": "1696460",
    "end": "1701799"
  },
  {
    "text": "through even if they don't know that specific for that environment great and",
    "start": "1701799",
    "end": "1708400"
  },
  {
    "start": "1707000",
    "end": "2352000"
  },
  {
    "text": "so we tried to keep this pretty short because we anticipated you guys having some questions and this being sort of a",
    "start": "1708400",
    "end": "1713860"
  },
  {
    "text": "deep dive a part of the maintainer strap we really wanted to make sure there was sufficient time for audience participation so I'm going to cut my mic",
    "start": "1713860",
    "end": "1719440"
  },
  {
    "text": "enter on this one and wander around the room and let people ask questions",
    "start": "1719440",
    "end": "1724380"
  },
  {
    "text": "hi are there any thoughts on generalizing the provider spec as a",
    "start": "1743480",
    "end": "1749460"
  },
  {
    "text": "separate CR D and having some kind of defaults for the whole environment will",
    "start": "1749460",
    "end": "1756660"
  },
  {
    "text": "I create a mission set but I don't really specify a profit aspect but takes a default yeah so that's what David was",
    "start": "1756660",
    "end": "1765990"
  },
  {
    "text": "mentioning earlier about machine classes are sort of intended to fill that role so the machine class is a way to extract",
    "start": "1765990",
    "end": "1771180"
  },
  {
    "text": "the provider spec from a machine or a machine set such that when you create a machine you say I want a machine I want",
    "start": "1771180",
    "end": "1777090"
  },
  {
    "text": "to look like this and you can point to a machine class and those machine classes can you don't have to create necessarily",
    "start": "1777090",
    "end": "1782610"
  },
  {
    "text": "like they can be pre-installed by the set up infrastructure based on your environment so I could imagine like if I",
    "start": "1782610",
    "end": "1788310"
  },
  {
    "text": "want to create a cluster on Google I might create a cluster and a controller might just sort of inject a couple of",
    "start": "1788310",
    "end": "1794610"
  },
  {
    "text": "machine classes with your sort of common types to make it really easy for you get started creating new machines and then",
    "start": "1794610",
    "end": "1799860"
  },
  {
    "text": "if you want different types you can create your own machine classes you know use custom VM shapes or at GPUs or any sort of other special thing I don't",
    "start": "1799860",
    "end": "1807240"
  },
  {
    "text": "necessarily see us having a single one of those CR DS it works across environments because the whole point of",
    "start": "1807240",
    "end": "1812700"
  },
  {
    "text": "that provider spec is it's very provider specific right so we first looked at having things like I want I want 3 CPUs",
    "start": "1812700",
    "end": "1820290"
  },
  {
    "text": "or I want 4 gigs of memory and trying to abstract that away and we found there number of people on the project who've",
    "start": "1820290",
    "end": "1826230"
  },
  {
    "text": "had a lot of experience trying to build systems like that in the past and pretty much all of them have failed and so we",
    "start": "1826230",
    "end": "1831330"
  },
  {
    "text": "didn't wanna go down that where we want to still expose or the underlying power and different features of every",
    "start": "1831330",
    "end": "1836640"
  },
  {
    "text": "environment because we believe that each of them does have something unique sort of to offer and we don't want to hide that from you to the point where it's",
    "start": "1836640",
    "end": "1842790"
  },
  {
    "text": "not usable because otherwise people won't use the higher level abstraction",
    "start": "1842790",
    "end": "1846980"
  },
  {
    "text": "hey have you guys considered hardening the idea of a master machine versus a",
    "start": "1850370",
    "end": "1857370"
  },
  {
    "text": "worker machine because once you bring in that concept I feel like you can kind of",
    "start": "1857370",
    "end": "1862710"
  },
  {
    "text": "communally bring in some of the management of say the control plane like",
    "start": "1862710",
    "end": "1868200"
  },
  {
    "text": "AWS you said was managing a highly available control plane I don't there",
    "start": "1868200",
    "end": "1874470"
  },
  {
    "text": "was any thought that's gone that or maybe it's out of scope so at",
    "start": "1874470",
    "end": "1880110"
  },
  {
    "text": "one point we actually did specify the distinction between masters and worker nodes we removed that because it's",
    "start": "1880110",
    "end": "1887100"
  },
  {
    "text": "actually not a completely generic topic or a neutral topic for instance you have",
    "start": "1887100",
    "end": "1893580"
  },
  {
    "text": "hosted providers where you don't get to specify or access your masters and then",
    "start": "1893580",
    "end": "1899670"
  },
  {
    "text": "you have no listen vironment where you might not even have a concept of a node so so we didn't want to limit",
    "start": "1899670",
    "end": "1906810"
  },
  {
    "text": "the applicability of the cluster API by doing that yeah that being said I think that most providers these days do have a",
    "start": "1906810",
    "end": "1913800"
  },
  {
    "text": "machine where they run something that creates a master and their machine that's intended to be a worker that",
    "start": "1913800",
    "end": "1918810"
  },
  {
    "text": "joints that master right so if you look at the the AWS provider the the script that initializes machine is targeted at",
    "start": "1918810",
    "end": "1925170"
  },
  {
    "text": "master will run cube ATM in it create and configure control plane and the machines that run knows will run cube",
    "start": "1925170",
    "end": "1931410"
  },
  {
    "text": "ATM join and join that to create your cluster right so there is some separation it's not exposed in the API",
    "start": "1931410",
    "end": "1937770"
  },
  {
    "text": "because we don't believe it's applicable in every sort of deployment scenario I",
    "start": "1937770",
    "end": "1943340"
  },
  {
    "text": "noticed when you were talking about the machine classes that had the provider config in it and I had a lot of different things in there like a number",
    "start": "1943940",
    "end": "1951240"
  },
  {
    "text": "of like number of CPUs amount of RAM and all that but it also seemed to have locations like I needed in US central",
    "start": "1951240",
    "end": "1957420"
  },
  {
    "text": "1/2 and I was wondering if there was some composability to be had there to",
    "start": "1957420",
    "end": "1962520"
  },
  {
    "text": "prevent the exponential explosion of like I need an n1 standard to in this zone versus this all like they're all",
    "start": "1962520",
    "end": "1968880"
  },
  {
    "text": "very similar just different locations yes so they be pointed out sort of the",
    "start": "1968880",
    "end": "1976560"
  },
  {
    "text": "analogy to storage classes here and one thing storage classes allow you to do is they allow you to specify parameters",
    "start": "1976560",
    "end": "1981750"
  },
  {
    "text": "that sort of override things in a storage class to make them more specialized we haven't quite figured out",
    "start": "1981750",
    "end": "1988410"
  },
  {
    "text": "the right way to do that that gives a good user experience I think right now you're gonna end up with an explosion of machine classes to cover each of your",
    "start": "1988410",
    "end": "1994620"
  },
  {
    "text": "different sort of zones or regions or machine types right but you know the my",
    "start": "1994620",
    "end": "2002000"
  },
  {
    "text": "initial cut out what machine classes should look like was like templatized and parameterised and it was it was pretty ugly but gave you that",
    "start": "2002000",
    "end": "2008000"
  },
  {
    "text": "flexibility so I think a line that we have to walk to give users that sort of Express ability",
    "start": "2008000",
    "end": "2013850"
  },
  {
    "text": "without making it too hard to understand how to use it and we aren't quite sure what that line is yet so this is the",
    "start": "2013850",
    "end": "2023840"
  },
  {
    "text": "machine class is there also a cluster class and like I keep drawing the",
    "start": "2023840",
    "end": "2029059"
  },
  {
    "text": "parallel to storage class there's a default storage class could you then have a default clustered class and then",
    "start": "2029059",
    "end": "2035539"
  },
  {
    "text": "just generically everybody's Kubb cluster whatever their back-end default",
    "start": "2035539",
    "end": "2041840"
  },
  {
    "text": "cluster classes could just use some CRD and say just give me a cluster never mind the details that's a really good",
    "start": "2041840",
    "end": "2050270"
  },
  {
    "text": "question we haven't really explored trying to pull out the common bits of cluster into a class yet but maybe",
    "start": "2050270",
    "end": "2056569"
  },
  {
    "text": "that's something we'll get to I think the reason that it's happened for machines is people create lots of machines per cluster and so you start to",
    "start": "2056569",
    "end": "2062179"
  },
  {
    "text": "see the pain pretty quickly another reason to do it for machines is that the autoscaler needs it because the",
    "start": "2062179",
    "end": "2067398"
  },
  {
    "text": "autoscaler needs to have a way to look at sort of a template for what's gonna happen when I create a new machine to",
    "start": "2067399",
    "end": "2072980"
  },
  {
    "text": "make sure it's gonna actually help adding capacity in the right way to a cluster and so there was a really sort",
    "start": "2072980",
    "end": "2078618"
  },
  {
    "text": "of clear and obvious need for classes for machines there hasn't been as clear obvious of a need for clusters yet but I",
    "start": "2078619",
    "end": "2084919"
  },
  {
    "text": "think maybe the use case you raise might sort of be the beginning of what that would look like we just haven't thought about it too much",
    "start": "2084919",
    "end": "2092050"
  },
  {
    "text": "okay so that's your a machine deployment covered the other life like security",
    "start": "2095349",
    "end": "2103760"
  },
  {
    "text": "group or like a lot 53 or like global",
    "start": "2103760",
    "end": "2108920"
  },
  {
    "text": "answer on the top of the masters or dislike the whole nine yard",
    "start": "2108920",
    "end": "2114819"
  },
  {
    "text": "so the the machine deployment itself doesn't doesn't cover those things so that's part of provisioning a cluster",
    "start": "2116530",
    "end": "2122080"
  },
  {
    "text": "right so the the cluster object itself sort of we elided all of the cloud",
    "start": "2122080",
    "end": "2129220"
  },
  {
    "text": "provider specific bits right so the things are mentioning are all AWS specific concepts so those aren't things that we promoted into like the general",
    "start": "2129220",
    "end": "2135790"
  },
  {
    "text": "description of a cluster but they would be if you looked at a cluster for AWS be in the cloud provider specific spec for",
    "start": "2135790",
    "end": "2142750"
  },
  {
    "text": "an AWS cluster and then the cluster specific actuator that we showed the interface for there when you're reconciling that cluster would be",
    "start": "2142750",
    "end": "2149530"
  },
  {
    "text": "responsible for creating those things if they're needed I sort of accidentally",
    "start": "2149530",
    "end": "2157420"
  },
  {
    "text": "have a follow-up to that the cluster is a fairly monolithic object it has the whole networking deal that has all the",
    "start": "2157420",
    "end": "2164340"
  },
  {
    "text": "like you just described sort of access pads and security groups and the thing",
    "start": "2164340",
    "end": "2171100"
  },
  {
    "text": "the AWS one has a bastion host that it spins up what are your thoughts on breaking out the cluster into like",
    "start": "2171100",
    "end": "2179250"
  },
  {
    "text": "constellation of different CR DS so for",
    "start": "2179250",
    "end": "2187330"
  },
  {
    "text": "things they make sense I think that would be a good idea I do agree that there is certain because the deployment",
    "start": "2187330",
    "end": "2194680"
  },
  {
    "text": "does not cover the cluster object there may be things that are specified at the cluster level in the provider specific",
    "start": "2194680",
    "end": "2200590"
  },
  {
    "text": "way it may not be immediately or we",
    "start": "2200590",
    "end": "2205750"
  },
  {
    "text": "don't expose at the deployment level how you would change those things but the provider spec is available for both so",
    "start": "2205750",
    "end": "2212170"
  },
  {
    "text": "for providers which allow those cluster fields to change in their provider specific way they could account for it",
    "start": "2212170",
    "end": "2219130"
  },
  {
    "text": "in their actuator one more thing to add to that we have been having a lot of conversations today and over the last",
    "start": "2219130",
    "end": "2225820"
  },
  {
    "text": "couple of days at Q Khan now that everybody's sort of together about right now we have a sort of a loose coupling",
    "start": "2225820",
    "end": "2231100"
  },
  {
    "text": "on the API between clusters and machines right you can see like there's no like direct references between the two",
    "start": "2231100",
    "end": "2236110"
  },
  {
    "text": "objects but if you actually look at the code there's some implicit references between the two and what we need to sort",
    "start": "2236110",
    "end": "2241660"
  },
  {
    "text": "of go one way or the other to sort of either make it much more explicit that they're coupled or actually decoupled them sort of across the board",
    "start": "2241660",
    "end": "2248509"
  },
  {
    "text": "the other thing that's missing right now from the cluster spec is sort of a more",
    "start": "2248509",
    "end": "2253619"
  },
  {
    "text": "full-fledged definition of what the control plane itself looks like so what comprises your control plan like",
    "start": "2253619",
    "end": "2259289"
  },
  {
    "text": "obviously everybody's gonna want a scheduler an API server and controller manager but do you want a cloud controller manager do you want an",
    "start": "2259289",
    "end": "2264509"
  },
  {
    "text": "ingress controller what is DNS look like and so as we put on sort of the roadmap things like the",
    "start": "2264509",
    "end": "2269759"
  },
  {
    "text": "bundle spec will help us sort of describe all the different pieces that we believe fit into the control plane and what their configuration looks like",
    "start": "2269759",
    "end": "2275849"
  },
  {
    "text": "things like the add-ons as operators will help us figure out how we want to run the C&I provider and queue proxy and",
    "start": "2275849",
    "end": "2281640"
  },
  {
    "text": "fluent D or any of those things inside the user's cluster so we see a lot of things that are sort of coming down the",
    "start": "2281640",
    "end": "2287549"
  },
  {
    "text": "road in our sake that we can sort of pull together and sort of like piece together into sort of a single system",
    "start": "2287549",
    "end": "2293670"
  },
  {
    "text": "that we think will will look a little a little bit different probably an ear from that it does now and actually sort of answer some of these questions a",
    "start": "2293670",
    "end": "2299130"
  },
  {
    "text": "little bit better whether those will be separate C RDS or whether they sort of get combined I think we haven't figured out yet but there's definitely a",
    "start": "2299130",
    "end": "2304980"
  },
  {
    "text": "possibility to break things into separate CR DS if that makes sense and if I think the litmus test there is",
    "start": "2304980",
    "end": "2310259"
  },
  {
    "text": "should they be sort of usable on their own right there's an argument right now that we're having about you know should",
    "start": "2310259",
    "end": "2315930"
  },
  {
    "text": "machines be usable on their own without the cluster object right which i think is a use case a couple people have come",
    "start": "2315930",
    "end": "2321180"
  },
  {
    "text": "up with and if they're pieces of the cluster object that should be decomposed especially if they're usable on their",
    "start": "2321180",
    "end": "2327299"
  },
  {
    "text": "own or they should be used with machines without the other parts then it makes sense to break them apart saw some hands",
    "start": "2327299",
    "end": "2332819"
  },
  {
    "text": "on this side",
    "start": "2332819",
    "end": "2335299"
  },
  {
    "text": "I just had one on like the quarry use",
    "start": "2338090",
    "end": "2343130"
  },
  {
    "text": "between the actuator for cloud providers and what's today in cloud providers for",
    "start": "2343130",
    "end": "2348260"
  },
  {
    "text": "like nodes and stuff is there something that's happening there sorry so like the actuators will be the ones",
    "start": "2348260",
    "end": "2354920"
  },
  {
    "start": "2352000",
    "end": "2762000"
  },
  {
    "text": "that provision cloud provider specific machines and then there's already cloud",
    "start": "2354920",
    "end": "2359990"
  },
  {
    "text": "provider specific in the cloud controller managers like the code that's already existing so is there plans to kind of have reuse between those yes yes",
    "start": "2359990",
    "end": "2371720"
  },
  {
    "text": "there are plans so the the problem right now is about timing so the cloud",
    "start": "2371720",
    "end": "2376760"
  },
  {
    "text": "controller manager code is currently being extracted from core kubernetes it's not really in a state where it's",
    "start": "2376760",
    "end": "2381980"
  },
  {
    "text": "easily consumable is but we have exactly this problem or like to spin up a cluster on Google's infrastructure one",
    "start": "2381980",
    "end": "2388850"
  },
  {
    "text": "of the things we want to do is create a load balancer and there's already code to create a load balancer that implements the elf for a service",
    "start": "2388850",
    "end": "2394940"
  },
  {
    "text": "controller or the ingress controller depending what type of load balancer you want and that code is maintained by Signet working and I don't want to have",
    "start": "2394940",
    "end": "2400790"
  },
  {
    "text": "to rewrite and maintain my own code that does the same thing right so we have been talking with with the folks that are doing that extraction and figuring",
    "start": "2400790",
    "end": "2408560"
  },
  {
    "text": "out if we can sort of combine forces once they're ready but so far they haven't quite been ready but yeah like",
    "start": "2408560",
    "end": "2413870"
  },
  {
    "text": "and for the Google specific case I know that the the networking team has done a lot of work writing mocks on top of all",
    "start": "2413870",
    "end": "2419420"
  },
  {
    "text": "the GCP api's and we'd love to not have to redo that",
    "start": "2419420",
    "end": "2423850"
  },
  {
    "text": "is there any support for multi cluster or any interest in that yes so we we",
    "start": "2427680",
    "end": "2436920"
  },
  {
    "text": "have an open ticket right now to look at how to integrate the cluster API with the cluster registry from the multi cluster project I can tell you that",
    "start": "2436920",
    "end": "2445130"
  },
  {
    "text": "multiple companies have deployed hybrid stack or hybrid cloud environments that target multiple clouds using a cluster",
    "start": "2445130",
    "end": "2451800"
  },
  {
    "text": "API and then so the final piece of that is to more fully integrate into the",
    "start": "2451800",
    "end": "2457260"
  },
  {
    "text": "multi cluster environment by using things like cluster registry and then also looking at schedulers that can",
    "start": "2457260",
    "end": "2462960"
  },
  {
    "text": "schedule across clouds based on lease cost or other performance reliability requirements yeah one thing we're still",
    "start": "2462960",
    "end": "2471089"
  },
  {
    "text": "struggling with a little bit is when we started the project we wouldn't have a clean split between cluster API defines",
    "start": "2471089",
    "end": "2476609"
  },
  {
    "text": "a single cluster and the cluster registry is how you a granade and as we've gone on we've got to the point",
    "start": "2476609",
    "end": "2482520"
  },
  {
    "text": "where now you can create multiple clusters using the cluster API sort of together and you can list them and then",
    "start": "2482520",
    "end": "2488099"
  },
  {
    "text": "it starts to become overlap with the cluster registry and we need to figure out where the intersection there is in",
    "start": "2488099",
    "end": "2493260"
  },
  {
    "text": "particular because the cluster registry doesn't store any credentials so I've heard from people that's it's not as useful because they can say here's a",
    "start": "2493260",
    "end": "2500010"
  },
  {
    "text": "list of clusters but I have no idea what to do with those and if you list clusters that you've created using the cluster API it also lets you connect to",
    "start": "2500010",
    "end": "2506579"
  },
  {
    "text": "them and so for some people that's a little bit more useful but we also you know want to make sure we've sort of harmonized across the ecosystem with the",
    "start": "2506579",
    "end": "2513119"
  },
  {
    "text": "other SIG's and make sure we're not providing you know we're done in solutions where they build stuff assuming the cluster registry and it",
    "start": "2513119",
    "end": "2518760"
  },
  {
    "text": "doesn't work with our things and we ignore them so it's yes it's one of the lists of beta blocker things is to go",
    "start": "2518760",
    "end": "2524700"
  },
  {
    "text": "make sure we're we're synchronized with them",
    "start": "2524700",
    "end": "2528349"
  },
  {
    "text": "yeah is the machine set machine deployment model that you have here ready for reuse by the cluster",
    "start": "2531990",
    "end": "2539550"
  },
  {
    "text": "autoscaler or what are the mismatches not quite so the biggest problem we have",
    "start": "2539550",
    "end": "2546690"
  },
  {
    "text": "right now is that the cluster autoscaler has a requirement for scaling down to be able to delete a specific machine so the",
    "start": "2546690",
    "end": "2554490"
  },
  {
    "text": "way they implement this currently is they talk to the underlying cloud provider it's like on Google they say I",
    "start": "2554490",
    "end": "2559859"
  },
  {
    "text": "have a managed instance group they tell the manager to this group scale down by one and I want it to be that specific one which is supported by the API in",
    "start": "2559859",
    "end": "2567119"
  },
  {
    "text": "kubernetes we've you know sort of cloned the API is for replica set and deployments and they do not have a way",
    "start": "2567119",
    "end": "2573690"
  },
  {
    "text": "to scale down by specific instances right they just have a way to set the new desired size and we've talked to the",
    "start": "2573690",
    "end": "2579599"
  },
  {
    "text": "folks from cig apps about whether they think they will add that support and the answer so far has been they hope they will not and so we're trying to figure",
    "start": "2579599",
    "end": "2585480"
  },
  {
    "text": "out how we want to add that support so that it will sort of feel as a native to kubernetes as possible there been a",
    "start": "2585480",
    "end": "2591480"
  },
  {
    "text": "number of different sort of implementation proposals for this I know the the sa P folks have one that they've got working that they've offered to",
    "start": "2591480",
    "end": "2597750"
  },
  {
    "text": "donate and we're trying to figure out sort of what the the right user experience for that should look like and",
    "start": "2597750",
    "end": "2603180"
  },
  {
    "text": "then once we can scale down then it I think that's one of the biggest hurdles that's left but there if you look at our",
    "start": "2603180",
    "end": "2608190"
  },
  {
    "text": "repo I think there's like two or three open PRS where people have tried to start adding a support it's sort of the first thing people run into when they",
    "start": "2608190",
    "end": "2614040"
  },
  {
    "text": "try to run the autoscaler is it an explicit goal of the cluster",
    "start": "2614040",
    "end": "2619980"
  },
  {
    "text": "API to be able to provide authentication credentials to the clusters it creates or",
    "start": "2619980",
    "end": "2625099"
  },
  {
    "text": "should you not do that for clusters you create that have a controlled identity",
    "start": "2625099",
    "end": "2630420"
  },
  {
    "text": "domain like you say just go out to this OID C server yeah so you're asking talk",
    "start": "2630420",
    "end": "2635609"
  },
  {
    "text": "about the the cluster registry answer that I gave and I think that the second approach you said is sort of the the",
    "start": "2635609",
    "end": "2640740"
  },
  {
    "text": "approach that the multi cluster stick is taking which is we don't want we don't have to do with credentials we'll assume",
    "start": "2640740",
    "end": "2646020"
  },
  {
    "text": "that you can get them out of band I think that in many of the providers today sort of by default you can find",
    "start": "2646020",
    "end": "2652020"
  },
  {
    "text": "those credentials if you are listing clusters and you have access to do so that might not be the best way to deploy",
    "start": "2652020",
    "end": "2658410"
  },
  {
    "text": "them depending upon your environment and your and your security requirements and I think that's something we haven't necessarily tackled yet I don't know if",
    "start": "2658410",
    "end": "2664200"
  },
  {
    "text": "you have thoughts Jason so for the AWS provider specifically",
    "start": "2664200",
    "end": "2670569"
  },
  {
    "text": "right now we're storing the CA key and see a cert for the cluster in the",
    "start": "2670569",
    "end": "2676359"
  },
  {
    "text": "cluster provider step closer to provider can peg so you can generate a kid config",
    "start": "2676359",
    "end": "2682720"
  },
  {
    "text": "to access it longer-term we're looking at potentially storing that within Amazon AWS secrets manager so that we",
    "start": "2682720",
    "end": "2690970"
  },
  {
    "text": "can restrict who can actually access that and then we would just reference that sequence sorry my question was more",
    "start": "2690970",
    "end": "2701049"
  },
  {
    "text": "is it an explicit goal to be able to do that not can you do that with the current input lien implementations I",
    "start": "2701049",
    "end": "2707190"
  },
  {
    "text": "don't think it's an explicit goal such as it's so far it's been a side effect that people have taken advantage of I",
    "start": "2707190",
    "end": "2714839"
  },
  {
    "text": "was just gonna add that in order to be able to do additional operations on the",
    "start": "2714839",
    "end": "2721089"
  },
  {
    "text": "cluster there are a lot of things that you have to do to be able to interact with the cluster so we need access to",
    "start": "2721089",
    "end": "2727119"
  },
  {
    "text": "the credentials somehow within the controller to do operations on the cluster and you know so it's not",
    "start": "2727119",
    "end": "2734619"
  },
  {
    "text": "necessarily about providing the credentials to the end user as it is for being available about yeah that's a",
    "start": "2734619",
    "end": "2742930"
  },
  {
    "text": "great point it's needed for the automation right I'm seeing fewer hands",
    "start": "2742930",
    "end": "2750069"
  },
  {
    "text": "any other questions all right we'll be",
    "start": "2750069",
    "end": "2755500"
  },
  {
    "text": "up here for a few more minutes feel free to come up and ask questions if you want to and otherwise thank you so much for coming [Applause]",
    "start": "2755500",
    "end": "2764489"
  }
]