[
  {
    "text": "morning let's go ahead and get this started so I'm David fossil from where the core",
    "start": "60",
    "end": "6899"
  },
  {
    "text": "contributors to the keeper project today I'm joined with vicious excel from Nvidia and what we're gonna do is I'm",
    "start": "6899",
    "end": "13139"
  },
  {
    "text": "going to jump into this by talking about ski pert what it is talk about the architecture a little bit am i hand it",
    "start": "13139",
    "end": "19500"
  },
  {
    "text": "over to vicious who's going to talk about how Nvidia is leveraging Qbert for their GPU workloads so the kick things",
    "start": "19500",
    "end": "27150"
  },
  {
    "text": "off and others a little bit backwards I want to talk about what Qbert isn't so",
    "start": "27150",
    "end": "32340"
  },
  {
    "text": "inevitably I get these questions after my presentations and I just want to go",
    "start": "32340",
    "end": "37800"
  },
  {
    "text": "through them right here in the beginning and maybe I'll give some one who has these questions their context of what",
    "start": "37800",
    "end": "42960"
  },
  {
    "text": "we're doing about just knocking is out real quick so first off Qbert it's not",
    "start": "42960",
    "end": "49050"
  },
  {
    "text": "involved with declaratively managing your AWS or GCP or cloud virtual",
    "start": "49050",
    "end": "54510"
  },
  {
    "text": "machines we're talking about ringing KBM workloads on kubernetes nodes next up",
    "start": "54510",
    "end": "61469"
  },
  {
    "text": "key Burke's it's not a competitor to spend like firecracker cata containers we're not in we're not targeting this",
    "start": "61469",
    "end": "68040"
  },
  {
    "text": "micro VM isolation use case at all and last off Qbert it's not a container",
    "start": "68040",
    "end": "74610"
  },
  {
    "text": "runtime so we're going to work with whatever container runtime you guys are already using and that's how we play",
    "start": "74610",
    "end": "80400"
  },
  {
    "text": "nicely with things like the network service endpoints and persistent buying",
    "start": "80400",
    "end": "85439"
  },
  {
    "text": "claims and things like that all right so what is keep vert then this is my",
    "start": "85439",
    "end": "92700"
  },
  {
    "text": "definition keeper it's a kubernetes extension that that's gonna allow us to run traditional virtual machines",
    "start": "92700",
    "end": "98640"
  },
  {
    "text": "natively side by side with container workloads and what I mean by traditional virtual",
    "start": "98640",
    "end": "104250"
  },
  {
    "text": "machines as I'm talking about the same types of use cases you might have used AWS or GCP or even OpenStack for in the",
    "start": "104250",
    "end": "111720"
  },
  {
    "text": "past talking about taking your traditional Windows Linux virtual machines bring them into Cooper Nettie's",
    "start": "111720",
    "end": "118290"
  },
  {
    "text": "and managing them in a cloud native way next to your container workloads so when you're thinking about the kind of use",
    "start": "118290",
    "end": "123899"
  },
  {
    "text": "cases you can solve keep Bert we're in this space of solving the same kinds of things you might have done with public",
    "start": "123899",
    "end": "130850"
  },
  {
    "text": "from this cloud provider api's in the past how would we do this I mean we",
    "start": "130850",
    "end": "138200"
  },
  {
    "text": "already have things like OpenStack and overt we already have the public clouds so why are we reinventing this virtual",
    "start": "138200",
    "end": "144800"
  },
  {
    "text": "machine management stuff all over again so Cubert the initial motivation for it",
    "start": "144800",
    "end": "152300"
  },
  {
    "text": "was this idea of infrastructure convergence so we saw as people were",
    "start": "152300",
    "end": "157730"
  },
  {
    "text": "transitioning to the cloud native container first way of doing things it",
    "start": "157730",
    "end": "162980"
  },
  {
    "text": "wasn't always a clean transition so sometimes they were left with two stacks they have one for the new container workloads and they had a old legacy",
    "start": "162980",
    "end": "169760"
  },
  {
    "text": "stack for their virtual machine workloads operationally that's not great",
    "start": "169760",
    "end": "175750"
  },
  {
    "text": "so of course Cubert we have one stack so people can transition to their container",
    "start": "175750",
    "end": "181520"
  },
  {
    "text": "workloads bring their legacy VMs with them and they're going to then we're gonna reuse all the same logging metrics",
    "start": "181520",
    "end": "187460"
  },
  {
    "text": "moderating the same cluster networking storage things like that and this use",
    "start": "187460",
    "end": "194030"
  },
  {
    "text": "case is proved useful for people we see people doing The Sopranos now it's not it's not theoretical at this point and",
    "start": "194030",
    "end": "200030"
  },
  {
    "text": "as time has gone by we've actually seen some kind of new potential emerge for",
    "start": "200030",
    "end": "205220"
  },
  {
    "text": "the project so what's happening is the operational story around how kubernetes",
    "start": "205220",
    "end": "212660"
  },
  {
    "text": "this deployed managed and it's scaled especially on bare metal it's put Qbert",
    "start": "212660",
    "end": "219740"
  },
  {
    "text": "kind of in the crosshairs so being considered for virtual machine only use cases so with addition of things like",
    "start": "219740",
    "end": "227290"
  },
  {
    "text": "the cluster API and the Machine API what we have is COO Bernays managing its own",
    "start": "227290",
    "end": "233720"
  },
  {
    "text": "underlying infrastructure so kubernetes it's re super efficient advantage in",
    "start": "233720",
    "end": "238910"
  },
  {
    "text": "your workloads but now it's becoming a super efficient and managing the underlying infrastructure those",
    "start": "238910",
    "end": "243980"
  },
  {
    "text": "workloads run on so when people are looking at places to run their virtual machines and they want to leverage that",
    "start": "243980",
    "end": "249560"
  },
  {
    "text": "kind of infrastructure management Cubert makes less sense for them so it's becoming just a good place to run",
    "start": "249560",
    "end": "255350"
  },
  {
    "text": "virtual machines stand-alone and then there's also the operational management of the virtual",
    "start": "255350",
    "end": "262139"
  },
  {
    "text": "machines themselves so like today you're using a declarative approach for",
    "start": "262139",
    "end": "267349"
  },
  {
    "text": "managing your pod workloads we're doing the same thing in Qbert kind of make",
    "start": "267349",
    "end": "272849"
  },
  {
    "text": "this tangible to you here's an example everyone's familiar with of how to declare a pod you post into the cluster",
    "start": "272849",
    "end": "280680"
  },
  {
    "text": "using standard cube control client tooling same thing with our virtual",
    "start": "280680",
    "end": "286710"
  },
  {
    "text": "machine API so we one point here is our virtual machine API it's it maintains",
    "start": "286710",
    "end": "292560"
  },
  {
    "text": "the same look and feel that you're looking for with kubernetes the main differences of course is our specs gonna",
    "start": "292560",
    "end": "298770"
  },
  {
    "text": "have things related virtual machines and not necessarily containers so I know you",
    "start": "298770",
    "end": "304560"
  },
  {
    "text": "aren't posting like 10,000 pods individually to your cluster instead you're gonna use something like a pod",
    "start": "304560",
    "end": "311669"
  },
  {
    "text": "and a pod template and a deployment and scale horizontally that way we want to maintain those same kind of patterns",
    "start": "311669",
    "end": "316919"
  },
  {
    "text": "with key Verte so you can take the virtual machine instance put in a virtual machine instance replicas sent it's just another API that we support",
    "start": "316919",
    "end": "324419"
  },
  {
    "text": "and you can scale out using similar patterns the are with pods using that API so big takeaway here",
    "start": "324419",
    "end": "332969"
  },
  {
    "text": "man sure beams like a manager pods today all right that was a quick overview of",
    "start": "332969",
    "end": "339690"
  },
  {
    "text": "what we're doing with key perks I want kind of look under the hood now and talk about how we're doing this so made the",
    "start": "339690",
    "end": "347550"
  },
  {
    "text": "statement earlier the Cubert is not a container runtime and if we play nicely with things like network services and",
    "start": "347550",
    "end": "355349"
  },
  {
    "text": "things like persistent volume claims how are we doing this we're doing this",
    "start": "355349",
    "end": "361110"
  },
  {
    "text": "because we play by all the rules because at the end of the day Cubert it's just",
    "start": "361110",
    "end": "366330"
  },
  {
    "text": "running a human process and a pod that's really just about it",
    "start": "366330",
    "end": "371760"
  },
  {
    "text": "a little bit of feedback going on here",
    "start": "371760",
    "end": "376430"
  },
  {
    "text": "all right let's kill it good all right so it's",
    "start": "376980",
    "end": "382470"
  },
  {
    "text": "Hakeem you process in a pod I don't want",
    "start": "382470",
    "end": "389729"
  },
  {
    "text": "to trivialize the fact that there's a whole set of like api's and cluster components that are involved with",
    "start": "389729",
    "end": "395790"
  },
  {
    "text": "everything out to the point of launching that king of processing the pod at the end of the day just a process in a pod",
    "start": "395790",
    "end": "401520"
  },
  {
    "text": "so the cadby mystify everything's involved to bring up that process I'm gonna go through the virtual machine",
    "start": "401520",
    "end": "407010"
  },
  {
    "text": "launch flow starts with buying a virtual machine instance and a manifest and you",
    "start": "407010",
    "end": "413160"
  },
  {
    "text": "standard keep control clients command to post that manifest to your cluster",
    "start": "413160",
    "end": "418610"
  },
  {
    "text": "that's VM objects gonna hit the API server it's gonna be persisted and Etsy",
    "start": "418610",
    "end": "424410"
  },
  {
    "text": "D and then what we have is a keeper cluster controller called vert",
    "start": "424410",
    "end": "429720"
  },
  {
    "text": "controller which is watching for your VM objects it's gonna be informed there's new new virtual machine objects been",
    "start": "429720",
    "end": "435960"
  },
  {
    "text": "posted to cluster and a response to that it's gonna create a pod for that virtual",
    "start": "435960",
    "end": "441150"
  },
  {
    "text": "machine to live in so this is the place where if you defined for example the",
    "start": "441150",
    "end": "446910"
  },
  {
    "text": "moment and virtual machine with two cores and eight gigabytes of memory that you're going to have things translated",
    "start": "446910",
    "end": "453780"
  },
  {
    "text": "from the virtual machine instance spec to that pod definition so in that case we would have resource requests one",
    "start": "453780",
    "end": "460050"
  },
  {
    "text": "that's on the pod reserving those resources in the same sense if you wanted to give your virtual machine",
    "start": "460050",
    "end": "466050"
  },
  {
    "text": "dedicated GPU we're gonna talk a lot about here in a second you would define that the virtual machine which should be",
    "start": "466050",
    "end": "472289"
  },
  {
    "text": "translated into a resource on the pod definition so for controller it's gonna",
    "start": "472289",
    "end": "477810"
  },
  {
    "text": "post that paw of the VM to live in something gets scheduled using your standard scheduler it's gonna wind up on",
    "start": "477810",
    "end": "484830"
  },
  {
    "text": "a host that has access to all the cluster resources you need it's going to start up and what we have here are two",
    "start": "484830",
    "end": "491130"
  },
  {
    "text": "components that we need to talk about for handler it's a bridge privilege daemon set that's gonna exist on all",
    "start": "491130",
    "end": "498240"
  },
  {
    "text": "compute hosts in your cluster and vert launcher which is it's this tiny shim",
    "start": "498240",
    "end": "504240"
  },
  {
    "text": "process it's only responsible for bringing up that qumu process in the pot so bert",
    "start": "504240",
    "end": "511470"
  },
  {
    "text": "launcher it's a dumb process has no privileges privileges accepting facto it",
    "start": "511470",
    "end": "516659"
  },
  {
    "text": "needs to start that process and have no access to things like the kubernetes api server or anything like that",
    "start": "516660",
    "end": "523039"
  },
  {
    "text": "so the pod comes online bert launcher it's the entry point at that point",
    "start": "523040",
    "end": "529050"
  },
  {
    "text": "bert handler is going to pass over all the arguments that are needed to to",
    "start": "529050",
    "end": "534060"
  },
  {
    "text": "start that queuing process so bird launcher gets all the arguments it needs it starts at that kim you process and",
    "start": "534060",
    "end": "539130"
  },
  {
    "text": "what we have is a virtual machine running in a pod at this point that virtual machine has actually assumed the",
    "start": "539130",
    "end": "545790"
  },
  {
    "text": "role of that pod so if you paying that pods IP address you're actually going to get a response from the virtual machine",
    "start": "545790",
    "end": "553680"
  },
  {
    "text": "guest and it's gonna see that it has that IP address so what do I do now is I",
    "start": "553680",
    "end": "561210"
  },
  {
    "text": "kind of wanna zoom in on that pod and talk about how we're delivering things like storage network and access to host",
    "start": "561210",
    "end": "567240"
  },
  {
    "text": "resources starting with storage if you want to give persistent storage to a pod you're",
    "start": "567240",
    "end": "574290"
  },
  {
    "text": "gonna use a persistent buying plane that's just how it's done so pod is gonna be decoupled from the",
    "start": "574290",
    "end": "580410"
  },
  {
    "text": "stateful storage with the persistent volume claim we can use since virtual machines are just processes in the pod",
    "start": "580410",
    "end": "587100"
  },
  {
    "text": "can leverage these PVCs to deliver things like virtual machine images in a",
    "start": "587100",
    "end": "592290"
  },
  {
    "text": "way that make them accessible to that key new process so for example if you",
    "start": "592290",
    "end": "597600"
  },
  {
    "text": "have a virtual machine image on your laptop you can upload that image using",
    "start": "597600",
    "end": "603180"
  },
  {
    "text": "the containerized data importer which is another project we're checking out you",
    "start": "603180",
    "end": "608430"
  },
  {
    "text": "can upload that to a PVC and then we can attach that PVC to the virtual machines pod and make that image that was just on",
    "start": "608430",
    "end": "616020"
  },
  {
    "text": "your laptop accessible to a kimi process and we watch IBM with it so and result",
    "start": "616020",
    "end": "622380"
  },
  {
    "text": "here is we have virtual machines where we're delivering the virtual machine volumes using persistent volume claims",
    "start": "622380",
    "end": "628620"
  },
  {
    "text": "and if you stop and then start your virtual machine we've decoupled the",
    "start": "628620",
    "end": "634920"
  },
  {
    "text": "virtual machine process from those volumes so if you make rights or do",
    "start": "634920",
    "end": "640049"
  },
  {
    "text": "anything to your virtual machine those changes will persist across multiple start/stop events and with regards to",
    "start": "640049",
    "end": "647939"
  },
  {
    "text": "networking so in that pod we have access to the the CNI allocated network in",
    "start": "647939",
    "end": "654449"
  },
  {
    "text": "their faces and we can use that interface to tie the virtual machine directly into the pod Network so this is",
    "start": "654449",
    "end": "660989"
  },
  {
    "text": "how we're playing nice with your network services and service endpoints and things like that in addition to this we",
    "start": "660989",
    "end": "668999"
  },
  {
    "text": "support the ability to time multiple CNI allocated network interfaces into your",
    "start": "668999",
    "end": "675119"
  },
  {
    "text": "VM using Malta's so this is going to give you the flexibility to bring your VM",
    "start": "675119",
    "end": "680399"
  },
  {
    "text": "attached into whatever network you want or even you know multiple networks and",
    "start": "680399",
    "end": "686269"
  },
  {
    "text": "lastly moving on I won't talk about hosts resources so again we're just kind",
    "start": "686269",
    "end": "693839"
  },
  {
    "text": "of leverage existing features and kubernetes to provide host resources to",
    "start": "693839",
    "end": "699119"
  },
  {
    "text": "our virtual machine CPU manager that's how we're pinning virtual machines",
    "start": "699119",
    "end": "705800"
  },
  {
    "text": "underlying course alright and then we also have topology manager which is what we're leveraging to tie in Douma Efendi",
    "start": "705800",
    "end": "714019"
  },
  {
    "text": "and follow this but that's a bit of a work in progress right now both upstream and the kubernetes community and us",
    "start": "714019",
    "end": "719389"
  },
  {
    "text": "consuming that with guests CPU and with",
    "start": "719389",
    "end": "724970"
  },
  {
    "text": "guest memory we're doing something similar so we can guarantee a certain amount of memory for our virtual",
    "start": "724970",
    "end": "730100"
  },
  {
    "text": "machines by using pod requests and limits and lastly we can pass host",
    "start": "730100",
    "end": "737540"
  },
  {
    "text": "devices into the pods environment using device plugins so this is how we're",
    "start": "737540",
    "end": "743449"
  },
  {
    "text": "passing in things like GPUs SR IV into that pod environment and ultimately onto",
    "start": "743449",
    "end": "749389"
  },
  {
    "text": "the virtual machine and the nice thing about Vice plugins is we can do this in a way that doesn't happen grant that pot",
    "start": "749389",
    "end": "755769"
  },
  {
    "text": "elevated host privileges it also ties back into the scheduler so when you're",
    "start": "755769",
    "end": "761660"
  },
  {
    "text": "requesting these resources on the pod your pods only going gets scheduled to a",
    "start": "761660",
    "end": "766790"
  },
  {
    "text": "place that actually has these resources available so there's some bookkeeping going on on our behalf here all right",
    "start": "766790",
    "end": "773569"
  },
  {
    "text": "flew through that that's peeper from like a 10,000 foot view I'm we might",
    "start": "773569",
    "end": "780980"
  },
  {
    "text": "have time for questions I don't know I'm going to the cube for know the Red Hat booth after this and I can answer it",
    "start": "780980",
    "end": "786889"
  },
  {
    "text": "keep your questions or anything like that or you can catch me afterwards for now I want to hand it off to vicious",
    "start": "786889",
    "end": "793040"
  },
  {
    "text": "who's going to go through the GPU use case entity is looking at and hopefully",
    "start": "793040",
    "end": "798799"
  },
  {
    "text": "you don't so thank you David and good",
    "start": "798799",
    "end": "805670"
  },
  {
    "text": "morning everyone I'm vishesh I've been working at the angriest one year so going you know going back a",
    "start": "805670",
    "end": "814610"
  },
  {
    "text": "bit why are we talking about VMs and a cube and it is confidence beams are critical for us at an media",
    "start": "814610",
    "end": "821629"
  },
  {
    "text": "because there there's this big push to containerize GP workloads but not all",
    "start": "821629",
    "end": "827179"
  },
  {
    "text": "GPU workloads can be containerized especially GPU workloads like gaming or professional graphics you can't",
    "start": "827179",
    "end": "833859"
  },
  {
    "text": "antagonize them you still need VMs for them and that's why having containers",
    "start": "833859",
    "end": "840129"
  },
  {
    "text": "and VMs together is kind of very critical for NVIDIA and that's why we",
    "start": "840129",
    "end": "845829"
  },
  {
    "text": "stumbled upon Qbert I'm sorry which kind of helps us in that use case but Qbert",
    "start": "845829",
    "end": "854199"
  },
  {
    "text": "lacked one of the critical features which we require that is assigning GPUs to the VMS and that's when we decided to",
    "start": "854199",
    "end": "862689"
  },
  {
    "text": "work on it and we have recently upstream the not change so as David mentioned to",
    "start": "862689",
    "end": "870579"
  },
  {
    "text": "pass on an host resource to a Qbert VM the natural choice is to have device",
    "start": "870579",
    "end": "875889"
  },
  {
    "text": "plugin and that's why we developed this cube or GPU device plugin which is open",
    "start": "875889",
    "end": "881259"
  },
  {
    "text": "source now you can take a look at the details of it on the link below so how",
    "start": "881259",
    "end": "887289"
  },
  {
    "text": "does it look where does the GPU device plug-ins sit in the whole stack so at the bottom you",
    "start": "887289",
    "end": "894369"
  },
  {
    "text": "can see there are these GPUs you can either have a vfi of PCI driver attached",
    "start": "894369",
    "end": "899649"
  },
  {
    "text": "to the GPUs a vfi of PCI driver would allow user space process to have direct",
    "start": "899649",
    "end": "905349"
  },
  {
    "text": "access to that GPU here the user space post process is a cube word minion if you want to split",
    "start": "905349",
    "end": "912459"
  },
  {
    "text": "the GPU into multiple vgp used instead of a vfi or PCI driver you can have Nvidia vgpu manager and NVIDIA GPU",
    "start": "912459",
    "end": "919389"
  },
  {
    "text": "manager would split your your physical GPU into multiple V GPUs and each of",
    "start": "919389",
    "end": "925629"
  },
  {
    "text": "these V GPUs you can then pass on to your Qbert VM and we have BGP manager creates mediated devices and these",
    "start": "925629",
    "end": "932679"
  },
  {
    "text": "mediated devices are passed on to the Cupid VM on top of these drivers sets",
    "start": "932679",
    "end": "938619"
  },
  {
    "text": "the device plugin which we have developed a device plugin kind of abstracts the details of the GPUs it",
    "start": "938619",
    "end": "945999"
  },
  {
    "text": "kind of understands the GPU topology on the host and exposes it out to cuban artists cuban artists and cube work",
    "start": "945999",
    "end": "954639"
  },
  {
    "text": "together use these devices which are exposed at the device plugin",
    "start": "954639",
    "end": "959800"
  },
  {
    "text": "as Java kind of explained it creates a Hubert pod that Cubert power has a new",
    "start": "959800",
    "end": "965380"
  },
  {
    "text": "process in a tank that King new process has the GPU and it creates me him going",
    "start": "965380",
    "end": "971709"
  },
  {
    "text": "into bit more details of what the device plugin does so typical Cuban at his device plug-in would have these four",
    "start": "971709",
    "end": "978430"
  },
  {
    "text": "functions first would be discovery the device plugs and discovers about all gpgpu devices are there on the host it",
    "start": "978430",
    "end": "985300"
  },
  {
    "text": "then advertises it in a manner that your cubelet can understand once it does that",
    "start": "985300",
    "end": "990850"
  },
  {
    "text": "it waits for an allocation request from the cubelet and in the meantime it is also doing a health check on the devices",
    "start": "990850",
    "end": "997329"
  },
  {
    "text": "in which it has discovered we'll go into the details of how it does this in the",
    "start": "997329",
    "end": "1003149"
  },
  {
    "text": "later slides I think no cube con presentation is complete without some",
    "start": "1003149",
    "end": "1008880"
  },
  {
    "text": "Yama's so here are my yam is for you so once",
    "start": "1008880",
    "end": "1013920"
  },
  {
    "text": "the device plugin comes up it kind of exposes that it kind of picks and it",
    "start": "1013920",
    "end": "1019649"
  },
  {
    "text": "advertises those GPU devices to a cubelet the node shows those GPU devices",
    "start": "1019649",
    "end": "1025980"
  },
  {
    "text": "allocated by devices you can see that on the left that there are five GPUs on",
    "start": "1025980",
    "end": "1031199"
  },
  {
    "text": "that node once you have that you can schedule a virtual machine instance which is requesting a GPU and it will",
    "start": "1031199",
    "end": "1039240"
  },
  {
    "text": "get automatically scheduled not automatically but the cube word scheduler would kind of schedule it on",
    "start": "1039240",
    "end": "1045390"
  },
  {
    "text": "the node which has these device which has these GPU devices so the the request",
    "start": "1045390",
    "end": "1053070"
  },
  {
    "text": "for the GPU on the virtual machine instance kind of gets translated into and limit and request for the resources",
    "start": "1053070",
    "end": "1058710"
  },
  {
    "text": "on the boat launch a pod and that word launch a pod is scheduled on the node and then VM gets treated now going into",
    "start": "1058710",
    "end": "1067890"
  },
  {
    "text": "a bit of details of how the device plugin actually does its discovery and",
    "start": "1067890",
    "end": "1073140"
  },
  {
    "text": "advertisement to the cubelet first the device plug-in when the device patent comes up it reads what all PCI devices",
    "start": "1073140",
    "end": "1081510"
  },
  {
    "text": "are they're out of those it filters out the nvidia GPU devices then it checks",
    "start": "1081510",
    "end": "1087210"
  },
  {
    "text": "what kind of driver they have if they have a vfi or PCI driver it will group",
    "start": "1087210",
    "end": "1092670"
  },
  {
    "text": "all the similar kind of GPUs together it will also read if there are mediated",
    "start": "1092670",
    "end": "1098130"
  },
  {
    "text": "devices created by the vgpu manager and would group all of them together once it has identified all these devices",
    "start": "1098130",
    "end": "1104340"
  },
  {
    "text": "it will it will register itself it will create a G RPC server and - it registered with the loop accumulate on",
    "start": "1104340",
    "end": "1111090"
  },
  {
    "text": "that host and it will kind of advertise that hey I have this kind of device and",
    "start": "1111090",
    "end": "1116880"
  },
  {
    "text": "these many number of them once the device plug-in does this it kind of",
    "start": "1116880",
    "end": "1123530"
  },
  {
    "text": "waits for an allocation requests from cubelet in the background who is also doing an help check on all of the",
    "start": "1123530",
    "end": "1130080"
  },
  {
    "text": "resources that it has advertised to accumulate to ensure that these devices",
    "start": "1130080",
    "end": "1135210"
  },
  {
    "text": "in which it is kind of managing once it does that then the device plugin as I",
    "start": "1135210",
    "end": "1142920"
  },
  {
    "text": "mentioned is just waiting for an allocation request now the allocation requests would come in form of an",
    "start": "1142920",
    "end": "1149490"
  },
  {
    "text": "creation of an cubed word me and I so David kind of explained it a bit I'm",
    "start": "1149490",
    "end": "1154950"
  },
  {
    "text": "just going to close over it that you do a you request you you pass on to the API",
    "start": "1154950",
    "end": "1161370"
  },
  {
    "text": "server request to create a VM I the since it is a CRE the word it contacts",
    "start": "1161370",
    "end": "1166920"
  },
  {
    "text": "the word controller the word controller kind of translates that VM I expect into a pod spec and cube node is identified",
    "start": "1166920",
    "end": "1176460"
  },
  {
    "text": "and once a node is identified that's when the device plug-in again comes into the",
    "start": "1176460",
    "end": "1182830"
  },
  {
    "text": "picture now tubular could realize that some of the it is requesting a GPU",
    "start": "1182830",
    "end": "1188289"
  },
  {
    "text": "device and it knows that the GPU devices devices being served by the device plugin so cubelet would contact the",
    "start": "1188289",
    "end": "1194710"
  },
  {
    "text": "device plugin this is what the allocation request is so cubelet would contact the device plug in and ask for a",
    "start": "1194710",
    "end": "1200679"
  },
  {
    "text": "location of the resource once that request comes in device plugin will decide which of the GPUs that it is",
    "start": "1200679",
    "end": "1206769"
  },
  {
    "text": "available it would allocate it would respond with an allocation response this allocation response would we inform a",
    "start": "1206769",
    "end": "1213309"
  },
  {
    "text": "fan PCI address the device plug Intel's cubelet that this is the pci address",
    "start": "1213309",
    "end": "1218460"
  },
  {
    "text": "which i wanna locate and you have what the mechanism we have used as we set an",
    "start": "1218460",
    "end": "1224200"
  },
  {
    "text": "environment variable in the corresponding pod that would be created so the cubelet would then create this",
    "start": "1224200",
    "end": "1230080"
  },
  {
    "text": "pod this pod would have and one variable with the PCI address once the word",
    "start": "1230080",
    "end": "1236259"
  },
  {
    "text": "launcher part comes up it reads this environment variable it gets this PCI address and when it reads the specie I",
    "start": "1236259",
    "end": "1244360"
  },
  {
    "text": "address it translates those details into a parameter into the lymphoid Dominic's",
    "start": "1244360",
    "end": "1250749"
  },
  {
    "text": "and so the it reads this PCI address translator translates it into a",
    "start": "1250749",
    "end": "1256059"
  },
  {
    "text": "parameter into the Dom XML passes to the libvirt and bang labert creates a VM and",
    "start": "1256059",
    "end": "1261909"
  },
  {
    "text": "the VM has the GPU but which has this PC address that's all that is to it and now",
    "start": "1261909",
    "end": "1270070"
  },
  {
    "text": "you have a cube word VM which is running on a cube and this cluster and it has",
    "start": "1270070",
    "end": "1276840"
  },
  {
    "text": "GPU assigned to it you can maybe run your games on it you can play your games",
    "start": "1276840",
    "end": "1282009"
  },
  {
    "text": "on a Cuban it is clustered if you want going ahead this is what the GPU pass-through is all about on Qbert I",
    "start": "1282009",
    "end": "1288909"
  },
  {
    "text": "just wanted to gloss over some of the use cases or some of the features of Qbert which we are using at an media so",
    "start": "1288909",
    "end": "1297879"
  },
  {
    "text": "we found that Qbert is is really feature-rich on the networking side we",
    "start": "1297879",
    "end": "1303759"
  },
  {
    "text": "are highly invested in using SR IV support and the multi support that has",
    "start": "1303759",
    "end": "1309519"
  },
  {
    "text": "been like a critical feature for us on the storage side we are using the PV",
    "start": "1309519",
    "end": "1314970"
  },
  {
    "text": "PVC model of storage which kind of works really well for us it's kind of consistent with what you",
    "start": "1314970",
    "end": "1321200"
  },
  {
    "text": "give to a container so it really works well for us another critical feature for us is the block PV support we want to do",
    "start": "1321200",
    "end": "1328260"
  },
  {
    "text": "desk pass-through to the cube for VMs and block P me support kind of becomes",
    "start": "1328260",
    "end": "1333690"
  },
  {
    "text": "the critical feature which is there on Cuban otters and Q Bert also supports it",
    "start": "1333690",
    "end": "1338940"
  },
  {
    "text": "so we kind of get a get to do that pretty easily the containerized daytime porter is also",
    "start": "1338940",
    "end": "1345710"
  },
  {
    "text": "really important for us we use it heavily it allows us to have immutable",
    "start": "1345710",
    "end": "1351539"
  },
  {
    "text": "disk images another critical features the copy-on-write this support cube",
    "start": "1351539",
    "end": "1357120"
  },
  {
    "text": "Cubert has some support for it we planning to modify it to to be you know",
    "start": "1357120",
    "end": "1363240"
  },
  {
    "text": "be more consistent with our use case and we'll try to talk to the community and",
    "start": "1363240",
    "end": "1368280"
  },
  {
    "text": "maybe we can upstream that as well after that some of the cuban artists kind of",
    "start": "1368280",
    "end": "1375270"
  },
  {
    "text": "constructs which are which are inconsistent with the cube word me and make it really easy for us to have our",
    "start": "1375270",
    "end": "1381570"
  },
  {
    "text": "deployment something like adding a service account of vm or you know having node selectors affinities teams and",
    "start": "1381570",
    "end": "1388409"
  },
  {
    "text": "toleration x' which we which were used for making some of our scheduling decisions that really has been a godsend",
    "start": "1388409",
    "end": "1396000"
  },
  {
    "text": "for us and then there is the cloud and its support because we're kind of trying",
    "start": "1396000",
    "end": "1402090"
  },
  {
    "text": "to create a form of VM the cloud and support works really well it's seamless it's just the way it works in any other",
    "start": "1402090",
    "end": "1409870"
  },
  {
    "text": "vn management platform and lastly the the there is this on virtual on Shabbat",
    "start": "1409870",
    "end": "1417760"
  },
  {
    "text": "there is support to add a sidecar and you can tinker with the liberal parameters we we use it for some of",
    "start": "1417760",
    "end": "1425200"
  },
  {
    "text": "testing purposes or for trying our few features if we want and we are also doing some stuff on it in our production",
    "start": "1425200",
    "end": "1433330"
  },
  {
    "text": "for copy-on-write this support we also use what CTL you click about CTL is a",
    "start": "1433330",
    "end": "1440289"
  },
  {
    "text": "Qbert utility it gives you one of the features which we use of it is the VNC",
    "start": "1440289",
    "end": "1445929"
  },
  {
    "text": "access to the VM you know for debugging purposes or if the VM kind of doesn't boot up or something like that we use",
    "start": "1445929",
    "end": "1451570"
  },
  {
    "text": "that a lot and lastly we use the GPU support which we have upstream so the",
    "start": "1451570",
    "end": "1456789"
  },
  {
    "text": "GPU support on cuboid VMs for passing through the GPU as well as passing",
    "start": "1456789",
    "end": "1462340"
  },
  {
    "text": "through V GPUs to Cuba themes so yeah this is it for me I would like to thank",
    "start": "1462340",
    "end": "1467890"
  },
  {
    "text": "you about community for letting me present today and thank you",
    "start": "1467890",
    "end": "1474360"
  },
  {
    "text": "here we have time for questions yeah so scheduling and the algorithms",
    "start": "1478540",
    "end": "1496700"
  },
  {
    "text": "for so I think they won't give you my",
    "start": "1496700",
    "end": "1509990"
  },
  {
    "text": "consistent because I think this is being recorded so go ahead I'll just repeat",
    "start": "1509990",
    "end": "1518900"
  },
  {
    "text": "your question",
    "start": "1518900",
    "end": "1521350"
  },
  {
    "text": "so what I think what he wants to ask is if you have different types of GPUs how",
    "start": "1535710",
    "end": "1540940"
  },
  {
    "text": "do you decide which GPU is perfect for your workload kind of right yeah yeah",
    "start": "1540940",
    "end": "1556290"
  },
  {
    "text": "yeah the you can't actually do that what",
    "start": "1556290",
    "end": "1566679"
  },
  {
    "text": "will happen is you just there's just one GPU just one GPU which is exposed as a",
    "start": "1566679",
    "end": "1575470"
  },
  {
    "text": "device and you can't really it's just one your answer",
    "start": "1575470",
    "end": "1584039"
  },
  {
    "text": "look let's let's take this this is taking too long are there any other questions yeah right",
    "start": "1615850",
    "end": "1621040"
  },
  {
    "text": "here",
    "start": "1621040",
    "end": "1623100"
  },
  {
    "text": "multiple virtually I guess I didn't really quite understand the question",
    "start": "1639750",
    "end": "1645380"
  },
  {
    "text": "ah seriously so the question is how to manage multiple viens as a single",
    "start": "1658940",
    "end": "1663979"
  },
  {
    "text": "service you can certainly write your own custom operator don't do something like that just like you came with the pod the",
    "start": "1663979",
    "end": "1670429"
  },
  {
    "text": "only things that come out of the box with key verts with multiple VM management would be we have a virtual",
    "start": "1670429",
    "end": "1675830"
  },
  {
    "text": "machine replica set which lets you do things at scale but if you're wanting any sort of custom coordination between",
    "start": "1675830",
    "end": "1683659"
  },
  {
    "text": "multiple virtual machines you're gonna have to coordinate that yourself all right I'm sure",
    "start": "1683659",
    "end": "1690669"
  },
  {
    "text": "is it great if you have not tried it out we have just tried it with the Qbert",
    "start": "1730060",
    "end": "1736600"
  },
  {
    "text": "there currently the thing is if you want to use the you have a container having a",
    "start": "1736600",
    "end": "1742730"
  },
  {
    "text": "GPU then there's a different device plugin for it that I think we can we can discuss it",
    "start": "1742730",
    "end": "1757280"
  },
  {
    "text": "later on there there is some possibility that it's possible that so the question was if we can reuse the mechanism we're",
    "start": "1757280",
    "end": "1763700"
  },
  {
    "text": "using for Qbert expose the GPU standalone for container workloads and we'll talk about that afterwards I don't",
    "start": "1763700",
    "end": "1771110"
  },
  {
    "text": "think that's been done yet yeah yeah you can run Windows VM that was the question",
    "start": "1771110",
    "end": "1777260"
  },
  {
    "text": "yeah yeah that's the whole purpose I think we mean Windows gaming games and they are work so they were all fine yeah",
    "start": "1777260",
    "end": "1787750"
  },
  {
    "text": "and be linked so you're talking about understanding the topology of the so the",
    "start": "1792220",
    "end": "1799040"
  },
  {
    "text": "thing is you can the whole the whole issue here is you know we need some",
    "start": "1799040",
    "end": "1804140"
  },
  {
    "text": "amount of support from from Cuba natives to kind of the the topology manager kind",
    "start": "1804140",
    "end": "1811340"
  },
  {
    "text": "of needs to support that once it happens then we can you know kind of do that",
    "start": "1811340",
    "end": "1817340"
  },
  {
    "text": "math support on on Qbert so Cuba doesn't currently have the whole Numa support so",
    "start": "1817340",
    "end": "1823640"
  },
  {
    "text": "once we have that then you know it can translate into the cubed means kind of understanding that and your scheduling",
    "start": "1823640",
    "end": "1829730"
  },
  {
    "text": "stuff based on their there there is some",
    "start": "1829730",
    "end": "1836210"
  },
  {
    "text": "discussion going on around it",
    "start": "1836210",
    "end": "1839919"
  },
  {
    "text": "so you want to say there is a application running on your cube with me I mean you want to monitor it and check",
    "start": "1899940",
    "end": "1906480"
  },
  {
    "text": "if that application is healthy or something of that sort or yeah so you",
    "start": "1906480",
    "end": "1918090"
  },
  {
    "text": "can obviously have some kind of a monitoring you know maybe a monitoring pod that runs on that same cluster which",
    "start": "1918090",
    "end": "1923250"
  },
  {
    "text": "kind of does a health check because the VM definitely has the access to all the",
    "start": "1923250",
    "end": "1928800"
  },
  {
    "text": "components of the cluster so if you want to have something of that sort then that's possible or the application",
    "start": "1928800",
    "end": "1935730"
  },
  {
    "text": "inside the VM can also you know kind of send its status out to the outside world where you have some application which is",
    "start": "1935730",
    "end": "1942720"
  },
  {
    "text": "monitoring it I don't see",
    "start": "1942720",
    "end": "1945980"
  },
  {
    "text": "so we have observability into the virtual machine we're exporting certain",
    "start": "1962310",
    "end": "1967600"
  },
  {
    "text": "metrics using Prometheus so you can scrape metrics that are specific to that virtual machine they're pretty standard",
    "start": "1967600",
    "end": "1973630"
  },
  {
    "text": "stuff like most CPU used and things like that we're thinking about extending that to add guest support so you can learn",
    "start": "1973630",
    "end": "1980860"
  },
  {
    "text": "about when your virtual machine the actual guest has booted up completely",
    "start": "1980860",
    "end": "1986320"
  },
  {
    "text": "and things like that so I'm not sure that's the question exactly but talk to us afterwards all right yeah sure we're",
    "start": "1986320",
    "end": "2000330"
  },
  {
    "text": "just not targeting so the question was we're similar toccata containers you want me to speak on that orgy had more",
    "start": "2000330",
    "end": "2008600"
  },
  {
    "text": "yeah we're using KVM just like that but we're not targeting this micro VM use",
    "start": "2010490",
    "end": "2016140"
  },
  {
    "text": "case simply because our API is and optimized for that we're creating an API that looks and feels like something you",
    "start": "2016140",
    "end": "2021990"
  },
  {
    "text": "might use for traditional virtual machines in the past and it's not meant just to be this tiny slimmed down thing",
    "start": "2021990",
    "end": "2029760"
  },
  {
    "text": "that runs your container workloads it's meant to run full-fledged like Windows and Linux virtual machines so I mean it does provide the same kind",
    "start": "2029760",
    "end": "2037230"
  },
  {
    "text": "of isolation that you're talking about simply because they're hypervisor is involved but we're not I mean you could",
    "start": "2037230",
    "end": "2043710"
  },
  {
    "text": "use it for isolation if you want but that's not what we're really going for",
    "start": "2043710",
    "end": "2049640"
  },
  {
    "text": "right exactly that's because I have my new shuttle in",
    "start": "2054899",
    "end": "2060970"
  },
  {
    "text": "from the back I think oh yeah so much all right this guy import input devices",
    "start": "2060970",
    "end": "2074618"
  },
  {
    "text": "and monitor pastor so so the day you can",
    "start": "2074619",
    "end": "2081429"
  },
  {
    "text": "you know kind of do a sidecar and do hacks around it that's possible but there is no current support on Cuba kind",
    "start": "2081429",
    "end": "2088750"
  },
  {
    "text": "of do it like from the Qbert API know kind of who you need to build that wrong",
    "start": "2088750",
    "end": "2097020"
  },
  {
    "text": "all right one last question then we gotta we gotta go right here",
    "start": "2097020",
    "end": "2102150"
  },
  {
    "text": "so there you mean kind of an uma support that you have you want to have the V",
    "start": "2128570",
    "end": "2134180"
  },
  {
    "text": "GPUs as well as newer CPUs from one side of the numa or something of that sort so that is card that I think I answered a",
    "start": "2134180",
    "end": "2141590"
  },
  {
    "text": "similar question before so that currently is not there on cube foot we",
    "start": "2141590",
    "end": "2146900"
  },
  {
    "text": "kind of need a bit of support from cube and it is topology manager and then we kind of have to you know pass on to when",
    "start": "2146900",
    "end": "2155990"
  },
  {
    "text": "once you have that support then cuboid kind of absorbs it and then we will be able to do it for Qbert",
    "start": "2155990",
    "end": "2163930"
  },
  {
    "text": "so it's it's at random basically it's yeah there's no you're not gonna have the affinity of getting as close as",
    "start": "2175950",
    "end": "2182979"
  },
  {
    "text": "possible to those PC I address this right now that's what's apology manager is trying to solve specifically for Numa they were",
    "start": "2182979",
    "end": "2190210"
  },
  {
    "text": "also we're looking at PCI devices like this rivo and GPUs as well or you want your CPU so you're allocating the",
    "start": "2190210",
    "end": "2196479"
  },
  {
    "text": "dedicated CPUs to be as close as possible to those devices just doesn't it we're working on it and it's",
    "start": "2196479",
    "end": "2201940"
  },
  {
    "text": "something that kubernetes is working on and then we'll consume it when it's ready",
    "start": "2201940",
    "end": "2207839"
  },
  {
    "text": "yeah yeah all right thanks [Applause]",
    "start": "2215670",
    "end": "2223219"
  }
]