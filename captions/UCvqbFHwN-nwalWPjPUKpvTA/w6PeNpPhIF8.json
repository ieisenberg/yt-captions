[
  {
    "text": "okay hello everyone uh thank you so much",
    "start": "0",
    "end": "1979"
  },
  {
    "text": "for for coming to our session uh you",
    "start": "1979",
    "end": "4020"
  },
  {
    "text": "know it's the last session of the day so",
    "start": "4020",
    "end": "5400"
  },
  {
    "text": "hope you've had a great kubecon so far",
    "start": "5400",
    "end": "7020"
  },
  {
    "text": "my name is David Porter uh I'm a",
    "start": "7020",
    "end": "9660"
  },
  {
    "text": "software engineer on the Google",
    "start": "9660",
    "end": "10860"
  },
  {
    "text": "kubernetes team uh I focus on node uh I",
    "start": "10860",
    "end": "15540"
  },
  {
    "text": "work in Upstream signode community and",
    "start": "15540",
    "end": "17940"
  },
  {
    "text": "I'm also the maintainer of sea advisor",
    "start": "17940",
    "end": "19500"
  },
  {
    "text": "which we'll talk about in this",
    "start": "19500",
    "end": "20520"
  },
  {
    "text": "presentation which is a monitoring",
    "start": "20520",
    "end": "22080"
  },
  {
    "text": "Library used in the kubernetes ecosystem",
    "start": "22080",
    "end": "25140"
  },
  {
    "text": "hey everyone my name is Peter hunt I'm a",
    "start": "25140",
    "end": "27539"
  },
  {
    "text": "senior software engineer at Red Hat",
    "start": "27539",
    "end": "29340"
  },
  {
    "text": "primarily working on the container",
    "start": "29340",
    "end": "31019"
  },
  {
    "text": "runtime cryo but I also work in Upstream",
    "start": "31019",
    "end": "33600"
  },
  {
    "text": "Sig node and on podman and run C and",
    "start": "33600",
    "end": "36239"
  },
  {
    "text": "other container related Technologies",
    "start": "36239",
    "end": "37559"
  },
  {
    "text": "today we're going to talk about making",
    "start": "37559",
    "end": "39300"
  },
  {
    "text": "sense of your vital signals the future",
    "start": "39300",
    "end": "40920"
  },
  {
    "text": "of pod and container monitoring",
    "start": "40920",
    "end": "44460"
  },
  {
    "text": "so let me start this presentation with I",
    "start": "44460",
    "end": "46739"
  },
  {
    "text": "hope a situation you haven't been during",
    "start": "46739",
    "end": "48120"
  },
  {
    "text": "kubecon but for anyone who's been on",
    "start": "48120",
    "end": "49860"
  },
  {
    "text": "call it's probably faced you suddenly",
    "start": "49860",
    "end": "51300"
  },
  {
    "text": "get paged right and maybe you get page",
    "start": "51300",
    "end": "53520"
  },
  {
    "text": "then you have an alert you know maybe",
    "start": "53520",
    "end": "55020"
  },
  {
    "text": "it's your chatbot application or your",
    "start": "55020",
    "end": "56879"
  },
  {
    "text": "other LM thing and it says that the",
    "start": "56879",
    "end": "59160"
  },
  {
    "text": "latency of application is too high right",
    "start": "59160",
    "end": "61020"
  },
  {
    "text": "what just happened and what do you do",
    "start": "61020",
    "end": "62940"
  },
  {
    "text": "well first thing you probably act in",
    "start": "62940",
    "end": "64378"
  },
  {
    "text": "right but then after that you figure out",
    "start": "64379",
    "end": "65939"
  },
  {
    "text": "how do we actually resolve this that's",
    "start": "65939",
    "end": "67500"
  },
  {
    "text": "what we hope to describe in this",
    "start": "67500",
    "end": "68939"
  },
  {
    "text": "presentation so",
    "start": "68939",
    "end": "71220"
  },
  {
    "text": "what is kind of the monitoring",
    "start": "71220",
    "end": "72780"
  },
  {
    "text": "observability space and why is it",
    "start": "72780",
    "end": "74040"
  },
  {
    "text": "important so observability it's really",
    "start": "74040",
    "end": "76380"
  },
  {
    "text": "important to understand how your",
    "start": "76380",
    "end": "77580"
  },
  {
    "text": "applications are performing right you",
    "start": "77580",
    "end": "79320"
  },
  {
    "text": "want to understand if you roll out new",
    "start": "79320",
    "end": "80939"
  },
  {
    "text": "versions of your application how is the",
    "start": "80939",
    "end": "82920"
  },
  {
    "text": "resource changes changing is there kind",
    "start": "82920",
    "end": "85020"
  },
  {
    "text": "of a regression in your application is",
    "start": "85020",
    "end": "86700"
  },
  {
    "text": "it using too much resources too little",
    "start": "86700",
    "end": "88619"
  },
  {
    "text": "Etc right so you want to be able to",
    "start": "88619",
    "end": "90119"
  },
  {
    "text": "identify issues and unexpected Behavior",
    "start": "90119",
    "end": "92100"
  },
  {
    "text": "with your apps and maybe you also want",
    "start": "92100",
    "end": "93840"
  },
  {
    "text": "to learn them right so we've alerted for",
    "start": "93840",
    "end": "95460"
  },
  {
    "text": "example on our latency and we got that",
    "start": "95460",
    "end": "96900"
  },
  {
    "text": "alert or maybe we want to alert on other",
    "start": "96900",
    "end": "99000"
  },
  {
    "text": "scenarios like using too much memory or",
    "start": "99000",
    "end": "100799"
  },
  {
    "text": "something like that additionally maybe",
    "start": "100799",
    "end": "102720"
  },
  {
    "text": "you have slos or slis for your internal",
    "start": "102720",
    "end": "105479"
  },
  {
    "text": "customers or external customers and you",
    "start": "105479",
    "end": "107340"
  },
  {
    "text": "need observability to understand if",
    "start": "107340",
    "end": "108780"
  },
  {
    "text": "you're adhering to those slos or slis",
    "start": "108780",
    "end": "110520"
  },
  {
    "text": "and lastly not just for for kind of you",
    "start": "110520",
    "end": "113340"
  },
  {
    "text": "as the you know cluster admin or",
    "start": "113340",
    "end": "115320"
  },
  {
    "text": "application developer but also the",
    "start": "115320",
    "end": "117119"
  },
  {
    "text": "internal kubernetes components also need",
    "start": "117119",
    "end": "118979"
  },
  {
    "text": "monitoring and Metric data to perform",
    "start": "118979",
    "end": "121680"
  },
  {
    "text": "its core functions so a good example",
    "start": "121680",
    "end": "123659"
  },
  {
    "text": "here kubelet which is the worker agent",
    "start": "123659",
    "end": "125759"
  },
  {
    "text": "running on every single node in your",
    "start": "125759",
    "end": "127320"
  },
  {
    "text": "cluster it needs monitoring data to to",
    "start": "127320",
    "end": "129420"
  },
  {
    "text": "be able to evict pods and understand for",
    "start": "129420",
    "end": "132120"
  },
  {
    "text": "example which pod is consuming too much",
    "start": "132120",
    "end": "134160"
  },
  {
    "text": "resources another example here you know",
    "start": "134160",
    "end": "136200"
  },
  {
    "text": "if you set up an ephemeral storage limit",
    "start": "136200",
    "end": "138000"
  },
  {
    "text": "on your pod and kublet needs to know how",
    "start": "138000",
    "end": "141239"
  },
  {
    "text": "much storage is your pod actually using",
    "start": "141239",
    "end": "142800"
  },
  {
    "text": "because if you go over the storage limit",
    "start": "142800",
    "end": "144420"
  },
  {
    "text": "you know your application will be",
    "start": "144420",
    "end": "145920"
  },
  {
    "text": "evicted so we need monitoring data you",
    "start": "145920",
    "end": "147840"
  },
  {
    "text": "need it to be able to understand how",
    "start": "147840",
    "end": "149220"
  },
  {
    "text": "your app is doing your customers need it",
    "start": "149220",
    "end": "151080"
  },
  {
    "text": "to ensure that your own your slos and",
    "start": "151080",
    "end": "152640"
  },
  {
    "text": "slis are met and also the core",
    "start": "152640",
    "end": "154560"
  },
  {
    "text": "kubernetes components also needed to",
    "start": "154560",
    "end": "156000"
  },
  {
    "text": "perform its core functions",
    "start": "156000",
    "end": "157800"
  },
  {
    "text": "so when we talk about monitoring and",
    "start": "157800",
    "end": "159660"
  },
  {
    "text": "observability there's a lot of stuff in",
    "start": "159660",
    "end": "161580"
  },
  {
    "text": "the kubernetes ecosystem around this and",
    "start": "161580",
    "end": "163260"
  },
  {
    "text": "so we want to keep this presentation",
    "start": "163260",
    "end": "164340"
  },
  {
    "text": "kind of scoped but I want to give you a",
    "start": "164340",
    "end": "166200"
  },
  {
    "text": "quick overview around what's what's",
    "start": "166200",
    "end": "167640"
  },
  {
    "text": "there in the ecosystem so the first",
    "start": "167640",
    "end": "169500"
  },
  {
    "text": "thing is node level metrics there's a",
    "start": "169500",
    "end": "171720"
  },
  {
    "text": "open source project it's quite popular",
    "start": "171720",
    "end": "173160"
  },
  {
    "text": "the Prometheus node exporter its job is",
    "start": "173160",
    "end": "176340"
  },
  {
    "text": "basically to collect node level metrics",
    "start": "176340",
    "end": "178140"
  },
  {
    "text": "around how your actual node is doing so",
    "start": "178140",
    "end": "180120"
  },
  {
    "text": "this is things like how much CPU is my",
    "start": "180120",
    "end": "181739"
  },
  {
    "text": "node using how much memory things like",
    "start": "181739",
    "end": "183180"
  },
  {
    "text": "that the next category is kubernetes",
    "start": "183180",
    "end": "185519"
  },
  {
    "text": "components so each of the core",
    "start": "185519",
    "end": "186900"
  },
  {
    "text": "kubernetes components export metrics",
    "start": "186900",
    "end": "188640"
  },
  {
    "text": "around how they're doing so an example",
    "start": "188640",
    "end": "190860"
  },
  {
    "text": "here is like the kublet exports metrics",
    "start": "190860",
    "end": "192659"
  },
  {
    "text": "around for example the latency to start",
    "start": "192659",
    "end": "194280"
  },
  {
    "text": "a pot",
    "start": "194280",
    "end": "195120"
  },
  {
    "text": "uh the last the second the second last",
    "start": "195120",
    "end": "197879"
  },
  {
    "text": "category here is metrics around your API",
    "start": "197879",
    "end": "200580"
  },
  {
    "text": "resources so there's some open source",
    "start": "200580",
    "end": "202680"
  },
  {
    "text": "projects like Coupe State metrics which",
    "start": "202680",
    "end": "204780"
  },
  {
    "text": "generate metrics based on the API",
    "start": "204780",
    "end": "206580"
  },
  {
    "text": "resource or resource objects so an",
    "start": "206580",
    "end": "208739"
  },
  {
    "text": "example here is you know how many pods",
    "start": "208739",
    "end": "210480"
  },
  {
    "text": "are in this namespace maybe you want a",
    "start": "210480",
    "end": "212159"
  },
  {
    "text": "metric for that and then the last",
    "start": "212159",
    "end": "213720"
  },
  {
    "text": "category of metrics and this is going to",
    "start": "213720",
    "end": "215159"
  },
  {
    "text": "be what we're going to focus on during",
    "start": "215159",
    "end": "216239"
  },
  {
    "text": "our presentation is POD and container",
    "start": "216239",
    "end": "218159"
  },
  {
    "text": "workload metrics so this is actually",
    "start": "218159",
    "end": "220140"
  },
  {
    "text": "around the actual pods and containers",
    "start": "220140",
    "end": "222360"
  },
  {
    "text": "that are deployed on the Node how are",
    "start": "222360",
    "end": "224040"
  },
  {
    "text": "they performing and I would argue this",
    "start": "224040",
    "end": "225840"
  },
  {
    "text": "is one of the most important pieces of",
    "start": "225840",
    "end": "227220"
  },
  {
    "text": "metrics because this actually impacts",
    "start": "227220",
    "end": "228959"
  },
  {
    "text": "your end applications and your customers",
    "start": "228959",
    "end": "230760"
  },
  {
    "text": "who are using your apps",
    "start": "230760",
    "end": "232260"
  },
  {
    "text": "so",
    "start": "232260",
    "end": "233459"
  },
  {
    "text": "where do these metrics come from and how",
    "start": "233459",
    "end": "235620"
  },
  {
    "text": "do they start so I to to explain that I",
    "start": "235620",
    "end": "238500"
  },
  {
    "text": "need to introduce you to C advisor and C",
    "start": "238500",
    "end": "240239"
  },
  {
    "text": "advisor had a very humble beginning uh",
    "start": "240239",
    "end": "242099"
  },
  {
    "text": "this is a blog post from 2014 quite a",
    "start": "242099",
    "end": "244379"
  },
  {
    "text": "while ago and this is on the Google",
    "start": "244379",
    "end": "245700"
  },
  {
    "text": "Cloud platform blog and this is actually",
    "start": "245700",
    "end": "247140"
  },
  {
    "text": "the first time kubernetes was announced",
    "start": "247140",
    "end": "248879"
  },
  {
    "text": "so you can see here you know kubernetes",
    "start": "248879",
    "end": "250500"
  },
  {
    "text": "announced here it's like a cluster",
    "start": "250500",
    "end": "252000"
  },
  {
    "text": "orchestrator back in 2014 and side by",
    "start": "252000",
    "end": "255239"
  },
  {
    "text": "side on the same day that kubernetes was",
    "start": "255239",
    "end": "256859"
  },
  {
    "text": "announced C advisor was announced and",
    "start": "256859",
    "end": "258780"
  },
  {
    "text": "see advisor's job here as it's described",
    "start": "258780",
    "end": "260760"
  },
  {
    "text": "on the blog post is a tool that enables",
    "start": "260760",
    "end": "262440"
  },
  {
    "text": "fine-grained statistics and research",
    "start": "262440",
    "end": "264240"
  },
  {
    "text": "usage for containers so at this time you",
    "start": "264240",
    "end": "266940"
  },
  {
    "text": "know this is the southern landscape this",
    "start": "266940",
    "end": "268440"
  },
  {
    "text": "is just when the containers were taking",
    "start": "268440",
    "end": "269699"
  },
  {
    "text": "off right people were used to like VMS",
    "start": "269699",
    "end": "272220"
  },
  {
    "text": "and kind of node level applications not",
    "start": "272220",
    "end": "274740"
  },
  {
    "text": "containerized workloads and at that time",
    "start": "274740",
    "end": "276419"
  },
  {
    "text": "Google had a lot of experience running",
    "start": "276419",
    "end": "277740"
  },
  {
    "text": "containers in production and so when",
    "start": "277740",
    "end": "279419"
  },
  {
    "text": "Google announced uh kubernetes it also",
    "start": "279419",
    "end": "282180"
  },
  {
    "text": "realized you know the most important",
    "start": "282180",
    "end": "283500"
  },
  {
    "text": "thing is going to be able to Monitor and",
    "start": "283500",
    "end": "285000"
  },
  {
    "text": "observe your workloads and that's where",
    "start": "285000",
    "end": "286500"
  },
  {
    "text": "C advisor came in so C advisor's job was",
    "start": "286500",
    "end": "289320"
  },
  {
    "text": "to basically get get monitoring data for",
    "start": "289320",
    "end": "292199"
  },
  {
    "text": "all the containers that are running",
    "start": "292199",
    "end": "294180"
  },
  {
    "text": "so what is the advisor a little bit more",
    "start": "294180",
    "end": "296040"
  },
  {
    "text": "detail and how does it work so see",
    "start": "296040",
    "end": "297900"
  },
  {
    "text": "advisor it's an open source project uh",
    "start": "297900",
    "end": "300180"
  },
  {
    "text": "its goal is to provide observability for",
    "start": "300180",
    "end": "301919"
  },
  {
    "text": "all the containerized workloads that are",
    "start": "301919",
    "end": "303300"
  },
  {
    "text": "running how does it do that it has built",
    "start": "303300",
    "end": "305400"
  },
  {
    "text": "built-in drivers for all the major",
    "start": "305400",
    "end": "307259"
  },
  {
    "text": "container runtimes this is things like",
    "start": "307259",
    "end": "309120"
  },
  {
    "text": "Docker container D cryo",
    "start": "309120",
    "end": "311340"
  },
  {
    "text": "once it starts it understands and talks",
    "start": "311340",
    "end": "313979"
  },
  {
    "text": "to the driver to understand what",
    "start": "313979",
    "end": "315240"
  },
  {
    "text": "containers are running on the system and",
    "start": "315240",
    "end": "316979"
  },
  {
    "text": "then it collects metrics around all",
    "start": "316979",
    "end": "318600"
  },
  {
    "text": "those containers and exports them in a",
    "start": "318600",
    "end": "319979"
  },
  {
    "text": "variety of different formats to do that",
    "start": "319979",
    "end": "322020"
  },
  {
    "text": "it actually uses a library called lib",
    "start": "322020",
    "end": "324000"
  },
  {
    "text": "container from the Run C project to",
    "start": "324000",
    "end": "325500"
  },
  {
    "text": "actually go ahead and scrape that metric",
    "start": "325500",
    "end": "327660"
  },
  {
    "text": "data and we'll go in a little bit more",
    "start": "327660",
    "end": "328620"
  },
  {
    "text": "detail about how that works",
    "start": "328620",
    "end": "330720"
  },
  {
    "text": "the other thing to call out here is C",
    "start": "330720",
    "end": "332580"
  },
  {
    "text": "advisor can be used in two modes",
    "start": "332580",
    "end": "334080"
  },
  {
    "text": "Standalone mode and Library mode so",
    "start": "334080",
    "end": "335699"
  },
  {
    "text": "Standalone mode is how you can run C",
    "start": "335699",
    "end": "337259"
  },
  {
    "text": "advisor as on a single Linux box so this",
    "start": "337259",
    "end": "340080"
  },
  {
    "text": "might be useful for example you know",
    "start": "340080",
    "end": "341460"
  },
  {
    "text": "even outside kubernetes if you're just",
    "start": "341460",
    "end": "342900"
  },
  {
    "text": "running some Docker containers on a",
    "start": "342900",
    "end": "344460"
  },
  {
    "text": "single VM and you want to monitor them",
    "start": "344460",
    "end": "346020"
  },
  {
    "text": "but light remote is a little bit more",
    "start": "346020",
    "end": "347699"
  },
  {
    "text": "interesting and Library mode basically",
    "start": "347699",
    "end": "349560"
  },
  {
    "text": "allows you to integrate C advisor into",
    "start": "349560",
    "end": "351240"
  },
  {
    "text": "your go application and provide",
    "start": "351240",
    "end": "352620"
  },
  {
    "text": "monitoring for all the containers",
    "start": "352620",
    "end": "354180"
  },
  {
    "text": "they're running from your Go app and the",
    "start": "354180",
    "end": "356039"
  },
  {
    "text": "most important thing to call out here is",
    "start": "356039",
    "end": "357360"
  },
  {
    "text": "kubelet which is you know the worker",
    "start": "357360",
    "end": "358919"
  },
  {
    "text": "node agent actually does this and links",
    "start": "358919",
    "end": "361080"
  },
  {
    "text": "against the advisor as a library so this",
    "start": "361080",
    "end": "362820"
  },
  {
    "text": "means whether you know it or not every",
    "start": "362820",
    "end": "364320"
  },
  {
    "text": "single node out there that's running",
    "start": "364320",
    "end": "365880"
  },
  {
    "text": "kubernetes that runs kubelet is using C",
    "start": "365880",
    "end": "368160"
  },
  {
    "text": "advisor to provide monitoring data",
    "start": "368160",
    "end": "369600"
  },
  {
    "text": "already",
    "start": "369600",
    "end": "371280"
  },
  {
    "text": "so what type of metrics are we actually",
    "start": "371280",
    "end": "373380"
  },
  {
    "text": "talking about when we talk about C",
    "start": "373380",
    "end": "374940"
  },
  {
    "text": "advisor and kind of these workflow level",
    "start": "374940",
    "end": "376380"
  },
  {
    "text": "metrics there's a huge list on on the",
    "start": "376380",
    "end": "378720"
  },
  {
    "text": "documentation here around the workload",
    "start": "378720",
    "end": "380100"
  },
  {
    "text": "metrics too long to list here but some",
    "start": "380100",
    "end": "382199"
  },
  {
    "text": "example here is like you know for",
    "start": "382199",
    "end": "383699"
  },
  {
    "text": "example how much CPU time my app is",
    "start": "383699",
    "end": "385319"
  },
  {
    "text": "using how much file system storage is it",
    "start": "385319",
    "end": "387720"
  },
  {
    "text": "using memory Network all types of things",
    "start": "387720",
    "end": "390240"
  },
  {
    "text": "are exported here and there's a lot of",
    "start": "390240",
    "end": "392100"
  },
  {
    "text": "metrics to go through",
    "start": "392100",
    "end": "394020"
  },
  {
    "text": "so where do these workloads metrics come",
    "start": "394020",
    "end": "396120"
  },
  {
    "text": "from we talked about that they come from",
    "start": "396120",
    "end": "397560"
  },
  {
    "text": "C advisor but where does c advisor get",
    "start": "397560",
    "end": "399360"
  },
  {
    "text": "them from and this is where we need to",
    "start": "399360",
    "end": "400800"
  },
  {
    "text": "introduce c groups so c groups are the",
    "start": "400800",
    "end": "403139"
  },
  {
    "text": "core Linux kernel functionality that",
    "start": "403139",
    "end": "404819"
  },
  {
    "text": "provide resource accounting and",
    "start": "404819",
    "end": "407220"
  },
  {
    "text": "monitoring for containers so every",
    "start": "407220",
    "end": "409080"
  },
  {
    "text": "single pod becomes a c group and every",
    "start": "409080",
    "end": "411240"
  },
  {
    "text": "single container becomes a c group and",
    "start": "411240",
    "end": "413460"
  },
  {
    "text": "there's two main goals of c groups one",
    "start": "413460",
    "end": "415020"
  },
  {
    "text": "is to group a set of processes together",
    "start": "415020",
    "end": "416639"
  },
  {
    "text": "so that's what basically forms a",
    "start": "416639",
    "end": "418560"
  },
  {
    "text": "container and then also be able to",
    "start": "418560",
    "end": "420539"
  },
  {
    "text": "restrict uh certain uh usage for for",
    "start": "420539",
    "end": "423360"
  },
  {
    "text": "different kind of resource types so for",
    "start": "423360",
    "end": "425400"
  },
  {
    "text": "example you know when you set CPU limits",
    "start": "425400",
    "end": "427020"
  },
  {
    "text": "and memory limits c groups are used to",
    "start": "427020",
    "end": "428699"
  },
  {
    "text": "actually limit and enforce those things",
    "start": "428699",
    "end": "430020"
  },
  {
    "text": "but not only to limit them it also",
    "start": "430020",
    "end": "432300"
  },
  {
    "text": "exports monitoring data about that so",
    "start": "432300",
    "end": "434340"
  },
  {
    "text": "that allows you to basically drill down",
    "start": "434340",
    "end": "436199"
  },
  {
    "text": "to a container level and say how much",
    "start": "436199",
    "end": "437759"
  },
  {
    "text": "resources this container using or how",
    "start": "437759",
    "end": "439680"
  },
  {
    "text": "much resources this pod using you can",
    "start": "439680",
    "end": "441360"
  },
  {
    "text": "see it in different levels of",
    "start": "441360",
    "end": "442199"
  },
  {
    "text": "granularity and so uh with c groups",
    "start": "442199",
    "end": "445919"
  },
  {
    "text": "there's a new secret V2 interface and I",
    "start": "445919",
    "end": "448139"
  },
  {
    "text": "did a kubecon talk last coupon about it",
    "start": "448139",
    "end": "449880"
  },
  {
    "text": "if you're more interested in details",
    "start": "449880",
    "end": "451199"
  },
  {
    "text": "about that but this forms the basis of",
    "start": "451199",
    "end": "452699"
  },
  {
    "text": "where these workload metrics come from",
    "start": "452699",
    "end": "454740"
  },
  {
    "text": "so I'm going to hand it off to Peter to",
    "start": "454740",
    "end": "456120"
  },
  {
    "text": "talk a little bit more about what does",
    "start": "456120",
    "end": "457860"
  },
  {
    "text": "it look like for a metric and where does",
    "start": "457860",
    "end": "459120"
  },
  {
    "text": "it come from",
    "start": "459120",
    "end": "460440"
  },
  {
    "text": "so I'd like you all to imagine that I am",
    "start": "460440",
    "end": "463020"
  },
  {
    "text": "a humble metric on your Linux node I'm",
    "start": "463020",
    "end": "465120"
  },
  {
    "text": "you know uh CPU usage or something like",
    "start": "465120",
    "end": "467580"
  },
  {
    "text": "that and I want I'm going to talk out",
    "start": "467580",
    "end": "470340"
  },
  {
    "text": "how you know I uh go from the kernel to",
    "start": "470340",
    "end": "474000"
  },
  {
    "text": "you know you as the uh cluster admin",
    "start": "474000",
    "end": "476520"
  },
  {
    "text": "being able to see you know what my value",
    "start": "476520",
    "end": "478560"
  },
  {
    "text": "is so I'm a secret value the C group FS",
    "start": "478560",
    "end": "481380"
  },
  {
    "text": "uh is exposed by the kernel and it shows",
    "start": "481380",
    "end": "483900"
  },
  {
    "text": "it's basically just a file like",
    "start": "483900",
    "end": "485099"
  },
  {
    "text": "everything else in Unix and it is uh you",
    "start": "485099",
    "end": "488160"
  },
  {
    "text": "know the kernel keeps it up to date with",
    "start": "488160",
    "end": "489780"
  },
  {
    "text": "the uh all the processes within that c",
    "start": "489780",
    "end": "492120"
  },
  {
    "text": "group uh lip C uh run C's lib container",
    "start": "492120",
    "end": "496199"
  },
  {
    "text": "is a library that is used by both run",
    "start": "496199",
    "end": "499080"
  },
  {
    "text": "see the binary as well as uh C advisor",
    "start": "499080",
    "end": "501419"
  },
  {
    "text": "to actually be able to read those values",
    "start": "501419",
    "end": "503520"
  },
  {
    "text": "from the C group FS is just reading",
    "start": "503520",
    "end": "505199"
  },
  {
    "text": "opening a file and reading it and the",
    "start": "505199",
    "end": "507539"
  },
  {
    "text": "advisor calls into lib container to read",
    "start": "507539",
    "end": "510060"
  },
  {
    "text": "the C group value the advisor actually",
    "start": "510060",
    "end": "511979"
  },
  {
    "text": "is watching all the c groups being",
    "start": "511979",
    "end": "513839"
  },
  {
    "text": "created on the Node and for all the ones",
    "start": "513839",
    "end": "515700"
  },
  {
    "text": "that it knows how to read uh you know uh",
    "start": "515700",
    "end": "518339"
  },
  {
    "text": "either you know the three container",
    "start": "518339",
    "end": "519959"
  },
  {
    "text": "managers that we talked about Docker",
    "start": "519959",
    "end": "521339"
  },
  {
    "text": "containerdy or cryo it has special",
    "start": "521339",
    "end": "523560"
  },
  {
    "text": "handlers to be able to talk to them a",
    "start": "523560",
    "end": "525839"
  },
  {
    "text": "little bit to be able to figure out",
    "start": "525839",
    "end": "527040"
  },
  {
    "text": "exactly how to interface with those",
    "start": "527040",
    "end": "528600"
  },
  {
    "text": "containers as well as it has a raw C",
    "start": "528600",
    "end": "530760"
  },
  {
    "text": "group uh driver to be able to read you",
    "start": "530760",
    "end": "533279"
  },
  {
    "text": "know c groups on the host",
    "start": "533279",
    "end": "535260"
  },
  {
    "text": "sea advisor will then put those metrics",
    "start": "535260",
    "end": "537600"
  },
  {
    "text": "to do different places which I'll talk",
    "start": "537600",
    "end": "539760"
  },
  {
    "text": "about a little bit in a moment",
    "start": "539760",
    "end": "541519"
  },
  {
    "text": "so this is kind of the overarching",
    "start": "541519",
    "end": "543839"
  },
  {
    "text": "picture of how I'm secret value and I'm",
    "start": "543839",
    "end": "546660"
  },
  {
    "text": "transmitted to you I can also show a",
    "start": "546660",
    "end": "549180"
  },
  {
    "text": "more concrete example so I'm CPU usage",
    "start": "549180",
    "end": "551880"
  },
  {
    "text": "which we're going to talk about a little",
    "start": "551880",
    "end": "553080"
  },
  {
    "text": "bit more in a bit so that comes from the",
    "start": "553080",
    "end": "555660"
  },
  {
    "text": "secret path CIS FSC group and then",
    "start": "555660",
    "end": "557820"
  },
  {
    "text": "there's quite a bit uh in between there",
    "start": "557820",
    "end": "559740"
  },
  {
    "text": "you know for the specific container it",
    "start": "559740",
    "end": "561360"
  },
  {
    "text": "goes like you know if in a burstable and",
    "start": "561360",
    "end": "564779"
  },
  {
    "text": "then you know it goes all the way down",
    "start": "564779",
    "end": "566519"
  },
  {
    "text": "to usage use the cpu.stat file and",
    "start": "566519",
    "end": "569519"
  },
  {
    "text": "within the cpu.stat file there's a field",
    "start": "569519",
    "end": "572220"
  },
  {
    "text": "usage use second that's actually you",
    "start": "572220",
    "end": "574019"
  },
  {
    "text": "know the usage per microsecond and",
    "start": "574019",
    "end": "576540"
  },
  {
    "text": "that's exposed uh you know there lib",
    "start": "576540",
    "end": "579360"
  },
  {
    "text": "container reads that and stores it in",
    "start": "579360",
    "end": "580920"
  },
  {
    "text": "its structure CPU stats CPU usage total",
    "start": "580920",
    "end": "583320"
  },
  {
    "text": "usage and it does that when a c advisor",
    "start": "583320",
    "end": "586440"
  },
  {
    "text": "calls into it and gathers that value so",
    "start": "586440",
    "end": "588779"
  },
  {
    "text": "the advisor then translates that into",
    "start": "588779",
    "end": "590279"
  },
  {
    "text": "its own C group structure and stores",
    "start": "590279",
    "end": "592620"
  },
  {
    "text": "that in the usage.total and then in",
    "start": "592620",
    "end": "595260"
  },
  {
    "text": "rights to the metric container CPU",
    "start": "595260",
    "end": "598080"
  },
  {
    "text": "system seconds total directly as well as",
    "start": "598080",
    "end": "600600"
  },
  {
    "text": "transmits that to the cubelet and the",
    "start": "600600",
    "end": "603779"
  },
  {
    "text": "qubit will then store that in admit it",
    "start": "603779",
    "end": "606300"
  },
  {
    "text": "so how are you know are you able to",
    "start": "606300",
    "end": "609120"
  },
  {
    "text": "actually see the values of the C group",
    "start": "609120",
    "end": "610800"
  },
  {
    "text": "the most common way that a cluster admin",
    "start": "610800",
    "end": "612600"
  },
  {
    "text": "is going to be able to do that is",
    "start": "612600",
    "end": "613740"
  },
  {
    "text": "through the metric C advisor endpoint or",
    "start": "613740",
    "end": "615899"
  },
  {
    "text": "usually directly through Prometheus so",
    "start": "615899",
    "end": "617519"
  },
  {
    "text": "Prometheus gets it from the metric C",
    "start": "617519",
    "end": "619380"
  },
  {
    "text": "advisor endpoint that endpoint is uh",
    "start": "619380",
    "end": "622320"
  },
  {
    "text": "proxied through the cubelet so even",
    "start": "622320",
    "end": "623940"
  },
  {
    "text": "though C advisor is directly writing to",
    "start": "623940",
    "end": "625800"
  },
  {
    "text": "that endpoint uh the qubit is proxying",
    "start": "625800",
    "end": "628320"
  },
  {
    "text": "that endpoint through its own proxy so",
    "start": "628320",
    "end": "629760"
  },
  {
    "text": "you can actually uh get it directly you",
    "start": "629760",
    "end": "632399"
  },
  {
    "text": "know if you're using Q proxy or",
    "start": "632399",
    "end": "633660"
  },
  {
    "text": "something you know this kind where so",
    "start": "633660",
    "end": "635700"
  },
  {
    "text": "this is how you would do it if you're",
    "start": "635700",
    "end": "637140"
  },
  {
    "text": "running a node called kind worker as you",
    "start": "637140",
    "end": "638820"
  },
  {
    "text": "would with kind and you know you'd hit",
    "start": "638820",
    "end": "642060"
  },
  {
    "text": "that endpoint directly and you'd be able",
    "start": "642060",
    "end": "643800"
  },
  {
    "text": "to read a whole list of metrics that see",
    "start": "643800",
    "end": "646920"
  },
  {
    "text": "advisor is admitting",
    "start": "646920",
    "end": "648440"
  },
  {
    "text": "uh cubelet also then takes the uh when",
    "start": "648440",
    "end": "653459"
  },
  {
    "text": "it requests those uh metrics from C",
    "start": "653459",
    "end": "656399"
  },
  {
    "text": "advisor it also translates some of them",
    "start": "656399",
    "end": "658860"
  },
  {
    "text": "and writes them to a Json endpoint",
    "start": "658860",
    "end": "661320"
  },
  {
    "text": "that's called stat summary and this is",
    "start": "661320",
    "end": "663360"
  },
  {
    "text": "the endpoint that actually eventually",
    "start": "663360",
    "end": "664920"
  },
  {
    "text": "gets translated into another endpoint",
    "start": "664920",
    "end": "667260"
  },
  {
    "text": "called metrics resource and this is what",
    "start": "667260",
    "end": "669480"
  },
  {
    "text": "the metric server uses uh to Omit that",
    "start": "669480",
    "end": "672120"
  },
  {
    "text": "to the eviction manager and that's how a",
    "start": "672120",
    "end": "674579"
  },
  {
    "text": "eviction manager knows what the uh",
    "start": "674579",
    "end": "677100"
  },
  {
    "text": "status of the eviction uh you know which",
    "start": "677100",
    "end": "679440"
  },
  {
    "text": "uh pod should be evicted on a node when",
    "start": "679440",
    "end": "681360"
  },
  {
    "text": "you know it's using too much CPU or",
    "start": "681360",
    "end": "682980"
  },
  {
    "text": "memory",
    "start": "682980",
    "end": "684000"
  },
  {
    "text": "the qubit also depends on seat advisor",
    "start": "684000",
    "end": "686100"
  },
  {
    "text": "to get gather node level metrics so we",
    "start": "686100",
    "end": "688019"
  },
  {
    "text": "call those machine metrics and a c",
    "start": "688019",
    "end": "690420"
  },
  {
    "text": "advisor does that by you know reading",
    "start": "690420",
    "end": "692100"
  },
  {
    "text": "the raw Seekers value of the host level",
    "start": "692100",
    "end": "693899"
  },
  {
    "text": "c groups and that's how we know what the",
    "start": "693899",
    "end": "695940"
  },
  {
    "text": "capacity of the node is as well as how",
    "start": "695940",
    "end": "697560"
  },
  {
    "text": "much is being used uh which will inform",
    "start": "697560",
    "end": "699899"
  },
  {
    "text": "you know uh also will inform the",
    "start": "699899",
    "end": "702060"
  },
  {
    "text": "eviction manager",
    "start": "702060",
    "end": "704700"
  },
  {
    "text": "so next up we're going to talk about a",
    "start": "704700",
    "end": "706440"
  },
  {
    "text": "case study on like actually what one",
    "start": "706440",
    "end": "708660"
  },
  {
    "text": "might do to read the CPU usage and how",
    "start": "708660",
    "end": "711779"
  },
  {
    "text": "you might you know edit your cluster's",
    "start": "711779",
    "end": "713579"
  },
  {
    "text": "behavior based on that",
    "start": "713579",
    "end": "715320"
  },
  {
    "text": "so so to go back you know we started the",
    "start": "715320",
    "end": "717060"
  },
  {
    "text": "presentation with getting that the page",
    "start": "717060",
    "end": "718680"
  },
  {
    "text": "so how would you debug it how would you",
    "start": "718680",
    "end": "720600"
  },
  {
    "text": "investigate and understand what's going",
    "start": "720600",
    "end": "721860"
  },
  {
    "text": "on so we got that alert uh what do we do",
    "start": "721860",
    "end": "724500"
  },
  {
    "text": "so the first thing uh is that's helpful",
    "start": "724500",
    "end": "727140"
  },
  {
    "text": "here and just in general when we when we",
    "start": "727140",
    "end": "728940"
  },
  {
    "text": "investigate an issue like this is to",
    "start": "728940",
    "end": "730140"
  },
  {
    "text": "have a strategy because if we're just",
    "start": "730140",
    "end": "731459"
  },
  {
    "text": "blindly looking at different things you",
    "start": "731459",
    "end": "733140"
  },
  {
    "text": "know we can we might kind of run out of",
    "start": "733140",
    "end": "734760"
  },
  {
    "text": "ideas or just try different things and",
    "start": "734760",
    "end": "736140"
  },
  {
    "text": "not have a strategy so one of the",
    "start": "736140",
    "end": "738420"
  },
  {
    "text": "strategies here that we might use is",
    "start": "738420",
    "end": "739800"
  },
  {
    "text": "something called the use method uh this",
    "start": "739800",
    "end": "741660"
  },
  {
    "text": "is introduced by Brendan Gregg who's",
    "start": "741660",
    "end": "743040"
  },
  {
    "text": "kind of a performance Guru and the the",
    "start": "743040",
    "end": "745019"
  },
  {
    "text": "main idea behind the strategy is we look",
    "start": "745019",
    "end": "747120"
  },
  {
    "text": "at all the different resources in our",
    "start": "747120",
    "end": "748740"
  },
  {
    "text": "system and kind of you uh analyze the",
    "start": "748740",
    "end": "750779"
  },
  {
    "text": "utilization saturation and errors and",
    "start": "750779",
    "end": "752519"
  },
  {
    "text": "I'll explain what those are so when we",
    "start": "752519",
    "end": "755399"
  },
  {
    "text": "talk about containerized workloads what",
    "start": "755399",
    "end": "757200"
  },
  {
    "text": "type of resources do we care about there",
    "start": "757200",
    "end": "758760"
  },
  {
    "text": "might be quite a few with you know more",
    "start": "758760",
    "end": "760740"
  },
  {
    "text": "and more devices these days but the core",
    "start": "760740",
    "end": "762240"
  },
  {
    "text": "ones that are always there are CPU",
    "start": "762240",
    "end": "764339"
  },
  {
    "text": "memory i o and storage so basically we",
    "start": "764339",
    "end": "766800"
  },
  {
    "text": "enumerate each resource and then we look",
    "start": "766800",
    "end": "768540"
  },
  {
    "text": "at these different characteristics so",
    "start": "768540",
    "end": "770339"
  },
  {
    "text": "the first characteristic is utilization",
    "start": "770339",
    "end": "771899"
  },
  {
    "text": "utilization is the average time that the",
    "start": "771899",
    "end": "774000"
  },
  {
    "text": "resource was being used to do something",
    "start": "774000",
    "end": "776399"
  },
  {
    "text": "useful so how much CPU time was actually",
    "start": "776399",
    "end": "778260"
  },
  {
    "text": "used by my application the next one is",
    "start": "778260",
    "end": "780839"
  },
  {
    "text": "saturation so saturation basically tells",
    "start": "780839",
    "end": "783420"
  },
  {
    "text": "us how much extra work we wanted to do",
    "start": "783420",
    "end": "786360"
  },
  {
    "text": "with that research but we weren't able",
    "start": "786360",
    "end": "787800"
  },
  {
    "text": "to because that that resource was busy",
    "start": "787800",
    "end": "789660"
  },
  {
    "text": "so for CPU for example if you set a CPU",
    "start": "789660",
    "end": "791940"
  },
  {
    "text": "limit you know that'll be that'll",
    "start": "791940",
    "end": "794160"
  },
  {
    "text": "enforce saturation and you might hit",
    "start": "794160",
    "end": "796500"
  },
  {
    "text": "some wall there right that we want to",
    "start": "796500",
    "end": "797940"
  },
  {
    "text": "investigate and then the last uh",
    "start": "797940",
    "end": "799920"
  },
  {
    "text": "category here is errors not all the",
    "start": "799920",
    "end": "801540"
  },
  {
    "text": "resources have errors but some might so",
    "start": "801540",
    "end": "803399"
  },
  {
    "text": "for example with storage you know you",
    "start": "803399",
    "end": "804720"
  },
  {
    "text": "might have an issue with actual disk and",
    "start": "804720",
    "end": "806700"
  },
  {
    "text": "you want to investigate some errors",
    "start": "806700",
    "end": "808139"
  },
  {
    "text": "there right for CPU and memory it's less",
    "start": "808139",
    "end": "810360"
  },
  {
    "text": "likely we'll have errors so",
    "start": "810360",
    "end": "812940"
  },
  {
    "text": "here's our our Coop chat bot that we got",
    "start": "812940",
    "end": "815339"
  },
  {
    "text": "alerted on here's the Manifest uh I",
    "start": "815339",
    "end": "818100"
  },
  {
    "text": "wanted to make sure it's a guaranteed",
    "start": "818100",
    "end": "819899"
  },
  {
    "text": "pod so I set request equals limits and I",
    "start": "819899",
    "end": "821820"
  },
  {
    "text": "gave it two CPUs because you know that's",
    "start": "821820",
    "end": "823320"
  },
  {
    "text": "how much I thought I needed",
    "start": "823320",
    "end": "824880"
  },
  {
    "text": "so",
    "start": "824880",
    "end": "826079"
  },
  {
    "text": "what does that actually mean when we set",
    "start": "826079",
    "end": "828060"
  },
  {
    "text": "two CPUs as a requests and limits what",
    "start": "828060",
    "end": "829980"
  },
  {
    "text": "does that actually do underneath",
    "start": "829980",
    "end": "831540"
  },
  {
    "text": "so it's helpful to understand that to",
    "start": "831540",
    "end": "833160"
  },
  {
    "text": "understand how that actually works so",
    "start": "833160",
    "end": "834779"
  },
  {
    "text": "that we can understand what metrics we",
    "start": "834779",
    "end": "836339"
  },
  {
    "text": "want to investigate so how does CPU",
    "start": "836339",
    "end": "838620"
  },
  {
    "text": "requests and limits work let's do a",
    "start": "838620",
    "end": "840000"
  },
  {
    "text": "quick Deep dive into that so CPU",
    "start": "840000",
    "end": "842220"
  },
  {
    "text": "requests the way to understand them",
    "start": "842220",
    "end": "843839"
  },
  {
    "text": "they're the minimum floor for CPU right",
    "start": "843839",
    "end": "846120"
  },
  {
    "text": "when you specify CPU request kubernetes",
    "start": "846120",
    "end": "848459"
  },
  {
    "text": "doesn't over commit on CPU the scheduler",
    "start": "848459",
    "end": "851100"
  },
  {
    "text": "will always ensure there is that CPU",
    "start": "851100",
    "end": "852899"
  },
  {
    "text": "available on the system so you can",
    "start": "852899",
    "end": "854760"
  },
  {
    "text": "always guarantee even if the system is",
    "start": "854760",
    "end": "856260"
  },
  {
    "text": "contended you'll always be guaranteed to",
    "start": "856260",
    "end": "857820"
  },
  {
    "text": "get your CPU request CPU limit on the",
    "start": "857820",
    "end": "860279"
  },
  {
    "text": "other hand it's the ceiling for CPU so",
    "start": "860279",
    "end": "862740"
  },
  {
    "text": "if you set a CPU limit even if there's",
    "start": "862740",
    "end": "864300"
  },
  {
    "text": "spare capacity you'll get throttled so",
    "start": "864300",
    "end": "866279"
  },
  {
    "text": "as soon as you hit that CPU limit you'll",
    "start": "866279",
    "end": "867779"
  },
  {
    "text": "get throttle and won't be able to use",
    "start": "867779",
    "end": "868860"
  },
  {
    "text": "some more CPU so these are these are",
    "start": "868860",
    "end": "870959"
  },
  {
    "text": "what it is from the kubernetes Pod",
    "start": "870959",
    "end": "872940"
  },
  {
    "text": "perspective but how is it actually",
    "start": "872940",
    "end": "874079"
  },
  {
    "text": "implemented and what does it do",
    "start": "874079",
    "end": "875220"
  },
  {
    "text": "underneath so for CPU requests we",
    "start": "875220",
    "end": "878040"
  },
  {
    "text": "actually use a Linux feature called CPU",
    "start": "878040",
    "end": "879779"
  },
  {
    "text": "shares the way they work here is it's",
    "start": "879779",
    "end": "882779"
  },
  {
    "text": "basically a proportion based system",
    "start": "882779",
    "end": "884100"
  },
  {
    "text": "where one C group one pod one container",
    "start": "884100",
    "end": "886260"
  },
  {
    "text": "might have a certain amount of CPU",
    "start": "886260",
    "end": "887880"
  },
  {
    "text": "shares another one has maybe double the",
    "start": "887880",
    "end": "889320"
  },
  {
    "text": "CPU shares and we kind of calculate a",
    "start": "889320",
    "end": "891240"
  },
  {
    "text": "ratio between all the different c groups",
    "start": "891240",
    "end": "892800"
  },
  {
    "text": "and the ones that have higher Shares are",
    "start": "892800",
    "end": "895260"
  },
  {
    "text": "prioritized higher and have more CPU",
    "start": "895260",
    "end": "898019"
  },
  {
    "text": "that's for CPU requests for CPU limits",
    "start": "898019",
    "end": "901079"
  },
  {
    "text": "there's something called CFS bandwidth",
    "start": "901079",
    "end": "902639"
  },
  {
    "text": "control so how does that work there's",
    "start": "902639",
    "end": "904740"
  },
  {
    "text": "two key pieces of information there one",
    "start": "904740",
    "end": "906480"
  },
  {
    "text": "is CPU quota that's basically how much",
    "start": "906480",
    "end": "908519"
  },
  {
    "text": "CPU time you can use within a given time",
    "start": "908519",
    "end": "910560"
  },
  {
    "text": "slice and then the second characteristic",
    "start": "910560",
    "end": "912600"
  },
  {
    "text": "there is CPU period which defines how",
    "start": "912600",
    "end": "915060"
  },
  {
    "text": "long that time slice is and that's",
    "start": "915060",
    "end": "916860"
  },
  {
    "text": "usually defaults to 100 milliseconds so",
    "start": "916860",
    "end": "919079"
  },
  {
    "text": "I think this is better explained with it",
    "start": "919079",
    "end": "920519"
  },
  {
    "text": "with a picture so let's take a quick",
    "start": "920519",
    "end": "921660"
  },
  {
    "text": "look so with CPU limits I I have a",
    "start": "921660",
    "end": "925380"
  },
  {
    "text": "little example here my I have an app",
    "start": "925380",
    "end": "927360"
  },
  {
    "text": "let's say that just needs one CPU worth",
    "start": "927360",
    "end": "929459"
  },
  {
    "text": "of work right so has one CPU worth of uh",
    "start": "929459",
    "end": "932160"
  },
  {
    "text": "compute that it needs to perform as a",
    "start": "932160",
    "end": "934139"
  },
  {
    "text": "result I know that up front I'm going to",
    "start": "934139",
    "end": "935880"
  },
  {
    "text": "set my CPU request and limit to one CPU",
    "start": "935880",
    "end": "937920"
  },
  {
    "text": "I have my CPU period my time slice which",
    "start": "937920",
    "end": "940620"
  },
  {
    "text": "is 100 milliseconds it's going to run",
    "start": "940620",
    "end": "942360"
  },
  {
    "text": "everything's going to be happy",
    "start": "942360",
    "end": "943800"
  },
  {
    "text": "everything's great but now let's imagine",
    "start": "943800",
    "end": "945839"
  },
  {
    "text": "we introduce a CPU limit so we set a CPU",
    "start": "945839",
    "end": "948899"
  },
  {
    "text": "limit here just as a sake of example for",
    "start": "948899",
    "end": "950639"
  },
  {
    "text": "400 Milli quarters right so 40 percent",
    "start": "950639",
    "end": "952500"
  },
  {
    "text": "of of one CPU so what's going to happen",
    "start": "952500",
    "end": "955019"
  },
  {
    "text": "how long is it going to take so first",
    "start": "955019",
    "end": "957540"
  },
  {
    "text": "this first CPU period starts it's 100",
    "start": "957540",
    "end": "959639"
  },
  {
    "text": "milliseconds and our app is going to",
    "start": "959639",
    "end": "961620"
  },
  {
    "text": "actually run for 40 milliseconds it's",
    "start": "961620",
    "end": "963540"
  },
  {
    "text": "going to run for 40 milliseconds because",
    "start": "963540",
    "end": "964860"
  },
  {
    "text": "that's how much quota we have available",
    "start": "964860",
    "end": "966300"
  },
  {
    "text": "because we set it to 400 Milli quarters",
    "start": "966300",
    "end": "968639"
  },
  {
    "text": "is our limit but then after 40",
    "start": "968639",
    "end": "970440"
  },
  {
    "text": "milliseconds our CPU quote is up we",
    "start": "970440",
    "end": "972300"
  },
  {
    "text": "can't run anymore and we're going to get",
    "start": "972300",
    "end": "973680"
  },
  {
    "text": "throttled so for the remainder of that",
    "start": "973680",
    "end": "975540"
  },
  {
    "text": "period that 60 milliseconds we're going",
    "start": "975540",
    "end": "977160"
  },
  {
    "text": "to be throttled but we're not done yet",
    "start": "977160",
    "end": "978779"
  },
  {
    "text": "right we only actually were able to use",
    "start": "978779",
    "end": "980519"
  },
  {
    "text": "40 milliseconds of CPU time so another",
    "start": "980519",
    "end": "983220"
  },
  {
    "text": "period is going to start another 100",
    "start": "983220",
    "end": "984540"
  },
  {
    "text": "milliseconds you're going to get that",
    "start": "984540",
    "end": "986160"
  },
  {
    "text": "quota again and then you're going to run",
    "start": "986160",
    "end": "987660"
  },
  {
    "text": "for another 40 milliseconds and then",
    "start": "987660",
    "end": "989459"
  },
  {
    "text": "you're going to be blocked again because",
    "start": "989459",
    "end": "991320"
  },
  {
    "text": "we used up all the quote in the period",
    "start": "991320",
    "end": "993420"
  },
  {
    "text": "so then another period is going to start",
    "start": "993420",
    "end": "995160"
  },
  {
    "text": "and then finally we're going to be able",
    "start": "995160",
    "end": "996839"
  },
  {
    "text": "to run for 20 milliseconds and at this",
    "start": "996839",
    "end": "998579"
  },
  {
    "text": "point you know we run for 40 plus 40",
    "start": "998579",
    "end": "999959"
  },
  {
    "text": "plus 20 milliseconds which is equivalent",
    "start": "999959",
    "end": "1001639"
  },
  {
    "text": "to 100 milliseconds and now we've done",
    "start": "1001639",
    "end": "1003560"
  },
  {
    "text": "our one worth of CPU work but it took us",
    "start": "1003560",
    "end": "1005899"
  },
  {
    "text": "three periods to actually do that right",
    "start": "1005899",
    "end": "1007519"
  },
  {
    "text": "so it took us 100 milliseconds plus 100",
    "start": "1007519",
    "end": "1009380"
  },
  {
    "text": "milliseconds plus 20 milliseconds so 220",
    "start": "1009380",
    "end": "1011779"
  },
  {
    "text": "milliseconds to do this work when",
    "start": "1011779",
    "end": "1013940"
  },
  {
    "text": "originally when we had no throttling it",
    "start": "1013940",
    "end": "1016279"
  },
  {
    "text": "just took us 100 milliseconds so this",
    "start": "1016279",
    "end": "1017959"
  },
  {
    "text": "this is why when you set CPU limits it's",
    "start": "1017959",
    "end": "1019639"
  },
  {
    "text": "important to really understand if if",
    "start": "1019639",
    "end": "1021139"
  },
  {
    "text": "they're having some type of disadvantage",
    "start": "1021139",
    "end": "1022820"
  },
  {
    "text": "or if you're getting throttled so how",
    "start": "1022820",
    "end": "1024980"
  },
  {
    "text": "might we investigate this going back to",
    "start": "1024980",
    "end": "1026540"
  },
  {
    "text": "our alert right",
    "start": "1026540",
    "end": "1028160"
  },
  {
    "text": "that's where all the workload metrics",
    "start": "1028160",
    "end": "1030260"
  },
  {
    "text": "come into picture so first let's start",
    "start": "1030260",
    "end": "1032240"
  },
  {
    "text": "with CPU utilization and understand how",
    "start": "1032240",
    "end": "1034280"
  },
  {
    "text": "much CPU are applications using here's",
    "start": "1034280",
    "end": "1036558"
  },
  {
    "text": "the metric that's coming from C advisor",
    "start": "1036559",
    "end": "1038600"
  },
  {
    "text": "to container CPU usage seconds total",
    "start": "1038600",
    "end": "1040040"
  },
  {
    "text": "it's a Prometheus metric and I installed",
    "start": "1040040",
    "end": "1042860"
  },
  {
    "text": "actually a open source project called",
    "start": "1042860",
    "end": "1044360"
  },
  {
    "text": "the coupe Prometheus stack it sets up",
    "start": "1044360",
    "end": "1046339"
  },
  {
    "text": "it's really nice it sets up all of the",
    "start": "1046339",
    "end": "1048380"
  },
  {
    "text": "Prometheus rules it sets up all the nice",
    "start": "1048380",
    "end": "1050240"
  },
  {
    "text": "grafana dashboards and everything kind",
    "start": "1050240",
    "end": "1051620"
  },
  {
    "text": "of just works out of the box it's using",
    "start": "1051620",
    "end": "1053179"
  },
  {
    "text": "those metrics so here's the dashboard",
    "start": "1053179",
    "end": "1055160"
  },
  {
    "text": "that comes baked in in grafana I can see",
    "start": "1055160",
    "end": "1058100"
  },
  {
    "text": "here my CPU request and limit as two and",
    "start": "1058100",
    "end": "1060740"
  },
  {
    "text": "you know it's definitely CPU bound it's",
    "start": "1060740",
    "end": "1062539"
  },
  {
    "text": "it's it's it's running quite a bit on",
    "start": "1062539",
    "end": "1064100"
  },
  {
    "text": "the CPU but I don't know if this is like",
    "start": "1064100",
    "end": "1066200"
  },
  {
    "text": "an issue or not right it's running",
    "start": "1066200",
    "end": "1067520"
  },
  {
    "text": "around 1.5 to 2 CPUs so definitely keep",
    "start": "1067520",
    "end": "1070039"
  },
  {
    "text": "you busy but is it actually saturated is",
    "start": "1070039",
    "end": "1072320"
  },
  {
    "text": "it hitting some wall and because I set a",
    "start": "1072320",
    "end": "1074120"
  },
  {
    "text": "CPU limit I need to investigate",
    "start": "1074120",
    "end": "1075559"
  },
  {
    "text": "throttling so how might I do that",
    "start": "1075559",
    "end": "1078440"
  },
  {
    "text": "there's two other metrics you want to",
    "start": "1078440",
    "end": "1079940"
  },
  {
    "text": "consider for throttling CFS periods",
    "start": "1079940",
    "end": "1082039"
  },
  {
    "text": "total and throttle periods total so just",
    "start": "1082039",
    "end": "1084380"
  },
  {
    "text": "like we were talking about before you",
    "start": "1084380",
    "end": "1085520"
  },
  {
    "text": "want to understand how many periods your",
    "start": "1085520",
    "end": "1086900"
  },
  {
    "text": "application ran and how many of those",
    "start": "1086900",
    "end": "1089179"
  },
  {
    "text": "periods and wish it ran it actually got",
    "start": "1089179",
    "end": "1090980"
  },
  {
    "text": "throttled and using those two metrics",
    "start": "1090980",
    "end": "1093200"
  },
  {
    "text": "you can create an aggregated metric kind",
    "start": "1093200",
    "end": "1095000"
  },
  {
    "text": "of throttle percentage which basically",
    "start": "1095000",
    "end": "1096799"
  },
  {
    "text": "is just how many periods did you run",
    "start": "1096799",
    "end": "1098780"
  },
  {
    "text": "total and then how many of those periods",
    "start": "1098780",
    "end": "1101000"
  },
  {
    "text": "were you throttled right throttle",
    "start": "1101000",
    "end": "1102200"
  },
  {
    "text": "periods over total periods and so that's",
    "start": "1102200",
    "end": "1104720"
  },
  {
    "text": "what this built-in dashboard uh shows",
    "start": "1104720",
    "end": "1107179"
  },
  {
    "text": "the CPU throttling percentage and you",
    "start": "1107179",
    "end": "1108919"
  },
  {
    "text": "can see it's quite high it's over 50",
    "start": "1108919",
    "end": "1110179"
  },
  {
    "text": "percent right so 50 to 75 of the time",
    "start": "1110179",
    "end": "1112520"
  },
  {
    "text": "I'm getting throttled so this tells me",
    "start": "1112520",
    "end": "1114200"
  },
  {
    "text": "very clearly I'm hitting my CPU limit",
    "start": "1114200",
    "end": "1115880"
  },
  {
    "text": "and that's preventing my application",
    "start": "1115880",
    "end": "1118220"
  },
  {
    "text": "from using more CPU and CPU is",
    "start": "1118220",
    "end": "1119960"
  },
  {
    "text": "definitely saturated and kind of the the",
    "start": "1119960",
    "end": "1121760"
  },
  {
    "text": "issue here so how do we solve this well",
    "start": "1121760",
    "end": "1124400"
  },
  {
    "text": "the simple answer just increase the CPU",
    "start": "1124400",
    "end": "1126260"
  },
  {
    "text": "limit right once you increase the CPU",
    "start": "1126260",
    "end": "1128059"
  },
  {
    "text": "limit everything will be great and uh",
    "start": "1128059",
    "end": "1130760"
  },
  {
    "text": "you know your application will not be",
    "start": "1130760",
    "end": "1131900"
  },
  {
    "text": "throttled anymore so the main thing to",
    "start": "1131900",
    "end": "1133580"
  },
  {
    "text": "take away here is workload metrics",
    "start": "1133580",
    "end": "1135080"
  },
  {
    "text": "really helped us understand how our",
    "start": "1135080",
    "end": "1136160"
  },
  {
    "text": "application is performing and helped us",
    "start": "1136160",
    "end": "1137960"
  },
  {
    "text": "fix our and debugger issue",
    "start": "1137960",
    "end": "1140240"
  },
  {
    "text": "so uh that's kind of the workload",
    "start": "1140240",
    "end": "1143120"
  },
  {
    "text": "metrics today and we're doing some work",
    "start": "1143120",
    "end": "1145039"
  },
  {
    "text": "in the space so I want to hand it off to",
    "start": "1145039",
    "end": "1146780"
  },
  {
    "text": "Peter to talk about kind of the future",
    "start": "1146780",
    "end": "1147860"
  },
  {
    "text": "here",
    "start": "1147860",
    "end": "1149120"
  },
  {
    "text": "thanks so you know this uh David just",
    "start": "1149120",
    "end": "1152240"
  },
  {
    "text": "described the state of metrics as it's",
    "start": "1152240",
    "end": "1154580"
  },
  {
    "text": "existed for the in you know largely the",
    "start": "1154580",
    "end": "1156260"
  },
  {
    "text": "entirety of kubernetes existing sea",
    "start": "1156260",
    "end": "1158000"
  },
  {
    "text": "advisor Gathering the metrics you know a",
    "start": "1158000",
    "end": "1159620"
  },
  {
    "text": "cluster admin reading them through",
    "start": "1159620",
    "end": "1160880"
  },
  {
    "text": "various methods and acting on them and",
    "start": "1160880",
    "end": "1163160"
  },
  {
    "text": "this works really well but you know",
    "start": "1163160",
    "end": "1165500"
  },
  {
    "text": "we're constantly trying to improve",
    "start": "1165500",
    "end": "1166760"
  },
  {
    "text": "kubernetes and improve performance and",
    "start": "1166760",
    "end": "1168799"
  },
  {
    "text": "there's a couple of limitations that c",
    "start": "1168799",
    "end": "1171020"
  },
  {
    "text": "advisor currently has that we want to",
    "start": "1171020",
    "end": "1172820"
  },
  {
    "text": "address so one limitation of it is it's",
    "start": "1172820",
    "end": "1175760"
  },
  {
    "text": "a monolithic design it's a very large",
    "start": "1175760",
    "end": "1177500"
  },
  {
    "text": "piece of code it's able to talk to a",
    "start": "1177500",
    "end": "1179240"
  },
  {
    "text": "bunch of different container managers",
    "start": "1179240",
    "end": "1180380"
  },
  {
    "text": "you know Docker container D and cryo but",
    "start": "1180380",
    "end": "1183559"
  },
  {
    "text": "you know because of that it it ends up",
    "start": "1183559",
    "end": "1185900"
  },
  {
    "text": "being a little bit unwieldy to work with",
    "start": "1185900",
    "end": "1187340"
  },
  {
    "text": "sometimes it's also uh barely CRI aware",
    "start": "1187340",
    "end": "1190039"
  },
  {
    "text": "even though you know it's able to talk",
    "start": "1190039",
    "end": "1191900"
  },
  {
    "text": "to you know multiple CRI implementations",
    "start": "1191900",
    "end": "1193940"
  },
  {
    "text": "it uses uh the C group hierarchy to",
    "start": "1193940",
    "end": "1197179"
  },
  {
    "text": "guess you know to figure out what the",
    "start": "1197179",
    "end": "1199220"
  },
  {
    "text": "container actually is then you know you",
    "start": "1199220",
    "end": "1201320"
  },
  {
    "text": "know makes a direct request to the CRI",
    "start": "1201320",
    "end": "1203299"
  },
  {
    "text": "implementation to actually be able to",
    "start": "1203299",
    "end": "1204559"
  },
  {
    "text": "get additional information from that so",
    "start": "1204559",
    "end": "1206539"
  },
  {
    "text": "it's kind of like an odd design you know",
    "start": "1206539",
    "end": "1208340"
  },
  {
    "text": "working to to figure out what actually",
    "start": "1208340",
    "end": "1210559"
  },
  {
    "text": "the container is up to it also doesn't",
    "start": "1210559",
    "end": "1212720"
  },
  {
    "text": "work at all for kernel separated",
    "start": "1212720",
    "end": "1214100"
  },
  {
    "text": "containers things like VMS made with",
    "start": "1214100",
    "end": "1216200"
  },
  {
    "text": "Kata containers as all as well as it",
    "start": "1216200",
    "end": "1218120"
  },
  {
    "text": "doesn't work at all on Windows and",
    "start": "1218120",
    "end": "1219799"
  },
  {
    "text": "because of that you know there are new",
    "start": "1219799",
    "end": "1221960"
  },
  {
    "text": "topologies of you know kubernetes nodes",
    "start": "1221960",
    "end": "1224240"
  },
  {
    "text": "that are not even accessible to see",
    "start": "1224240",
    "end": "1225980"
  },
  {
    "text": "advisory and you can't get all of the",
    "start": "1225980",
    "end": "1227419"
  },
  {
    "text": "metrics that we're looking for",
    "start": "1227419",
    "end": "1229640"
  },
  {
    "text": "it's also uh there's some there's some",
    "start": "1229640",
    "end": "1233059"
  },
  {
    "text": "uh work that's being duplicated between",
    "start": "1233059",
    "end": "1234740"
  },
  {
    "text": "the CRI and uh C advisor now cubelet has",
    "start": "1234740",
    "end": "1238820"
  },
  {
    "text": "this notion of uh the stats providers",
    "start": "1238820",
    "end": "1241220"
  },
  {
    "text": "and there's a CRI and a c advisor status",
    "start": "1241220",
    "end": "1243980"
  },
  {
    "text": "provider and when you use the CRI stats",
    "start": "1243980",
    "end": "1245840"
  },
  {
    "text": "provider it actually uh in addition to",
    "start": "1245840",
    "end": "1249080"
  },
  {
    "text": "Gathering the stats the CRI State",
    "start": "1249080",
    "end": "1251600"
  },
  {
    "text": "advisors continually Gathering the stats",
    "start": "1251600",
    "end": "1253700"
  },
  {
    "text": "because it's just watching you know the",
    "start": "1253700",
    "end": "1255140"
  },
  {
    "text": "new Secrets being created and it's you",
    "start": "1255140",
    "end": "1256820"
  },
  {
    "text": "know just doing its thing chugging along",
    "start": "1256820",
    "end": "1258140"
  },
  {
    "text": "and reading all the values but that",
    "start": "1258140",
    "end": "1260000"
  },
  {
    "text": "creates duplicated work which you can",
    "start": "1260000",
    "end": "1261740"
  },
  {
    "text": "actually have performance concerns which",
    "start": "1261740",
    "end": "1263360"
  },
  {
    "text": "is why you know crowd doesn't even use",
    "start": "1263360",
    "end": "1264799"
  },
  {
    "text": "the CRI stats provider even though you",
    "start": "1264799",
    "end": "1267080"
  },
  {
    "text": "know this uh it's a CRI implementation",
    "start": "1267080",
    "end": "1269059"
  },
  {
    "text": "because we were worried about these",
    "start": "1269059",
    "end": "1270679"
  },
  {
    "text": "performance uh limitation so you know",
    "start": "1270679",
    "end": "1274280"
  },
  {
    "text": "we're looking in thinking about the",
    "start": "1274280",
    "end": "1276140"
  },
  {
    "text": "future we you know are thinking about",
    "start": "1276140",
    "end": "1278240"
  },
  {
    "text": "who should really own metrics collection",
    "start": "1278240",
    "end": "1280220"
  },
  {
    "text": "because the advisor has been in this",
    "start": "1280220",
    "end": "1281780"
  },
  {
    "text": "position for a long time and has done a",
    "start": "1281780",
    "end": "1283280"
  },
  {
    "text": "really good job of it but you know as",
    "start": "1283280",
    "end": "1285500"
  },
  {
    "text": "we're trying to improve you know and add",
    "start": "1285500",
    "end": "1287480"
  },
  {
    "text": "more features and also uh to tune",
    "start": "1287480",
    "end": "1289940"
  },
  {
    "text": "performance you know we also consider",
    "start": "1289940",
    "end": "1292100"
  },
  {
    "text": "the CRI implementations as possibly",
    "start": "1292100",
    "end": "1294500"
  },
  {
    "text": "being the best place to collect these",
    "start": "1294500",
    "end": "1296000"
  },
  {
    "text": "because they're the ones closest to the",
    "start": "1296000",
    "end": "1297679"
  },
  {
    "text": "containers and pods and that's just what",
    "start": "1297679",
    "end": "1299980"
  },
  {
    "text": "cap2371 does it takes the CRI the stats",
    "start": "1299980",
    "end": "1303200"
  },
  {
    "text": "uh Gathering from sea advisor and pushes",
    "start": "1303200",
    "end": "1305659"
  },
  {
    "text": "it to the CRI implementations",
    "start": "1305659",
    "end": "1308720"
  },
  {
    "text": "so here we have you know sea advisor",
    "start": "1308720",
    "end": "1310640"
  },
  {
    "text": "lists CRI full container and pod stats",
    "start": "1310640",
    "end": "1312980"
  },
  {
    "text": "cap two three seven one and uh in this",
    "start": "1312980",
    "end": "1316340"
  },
  {
    "text": "cap we describe a world in which state",
    "start": "1316340",
    "end": "1318080"
  },
  {
    "text": "advisor is taken out of the business of",
    "start": "1318080",
    "end": "1320059"
  },
  {
    "text": "gathering uh container and pod stats it",
    "start": "1320059",
    "end": "1322640"
  },
  {
    "text": "still has some responsibility in the",
    "start": "1322640",
    "end": "1324140"
  },
  {
    "text": "node so it's not going away forever but",
    "start": "1324140",
    "end": "1326419"
  },
  {
    "text": "it is uh having its capabilities reduced",
    "start": "1326419",
    "end": "1329059"
  },
  {
    "text": "so that the entities that know best",
    "start": "1329059",
    "end": "1330980"
  },
  {
    "text": "about the containers and pods are the",
    "start": "1330980",
    "end": "1333980"
  },
  {
    "text": "ones responsible for Gathering those",
    "start": "1333980",
    "end": "1335960"
  },
  {
    "text": "pods and containers",
    "start": "1335960",
    "end": "1337760"
  },
  {
    "text": "stats so here we have the alpha state of",
    "start": "1337760",
    "end": "1341720"
  },
  {
    "text": "the cap which is reached Alpha in the",
    "start": "1341720",
    "end": "1344059"
  },
  {
    "text": "last couple of releases we have the uh",
    "start": "1344059",
    "end": "1346700"
  },
  {
    "text": "these here are the",
    "start": "1346700",
    "end": "1349100"
  },
  {
    "text": "um the CRI messages that the qubit will",
    "start": "1349100",
    "end": "1352039"
  },
  {
    "text": "request of the CRI to actually fulfill",
    "start": "1352039",
    "end": "1355100"
  },
  {
    "text": "its needs for the stats and metrics so",
    "start": "1355100",
    "end": "1357679"
  },
  {
    "text": "we have the Pod sandbox stats and that",
    "start": "1357679",
    "end": "1359480"
  },
  {
    "text": "will feed into the stats summary API so",
    "start": "1359480",
    "end": "1362720"
  },
  {
    "text": "the stat summary API is you know has",
    "start": "1362720",
    "end": "1364640"
  },
  {
    "text": "these uh structured uh fields that it",
    "start": "1364640",
    "end": "1367280"
  },
  {
    "text": "needs to fulfill for the entities that",
    "start": "1367280",
    "end": "1369260"
  },
  {
    "text": "are relying on it like the eviction",
    "start": "1369260",
    "end": "1371059"
  },
  {
    "text": "manager so the request is gonna you know",
    "start": "1371059",
    "end": "1374419"
  },
  {
    "text": "ask exactly the things that it needs we",
    "start": "1374419",
    "end": "1376880"
  },
  {
    "text": "also have another structure pod sandbox",
    "start": "1376880",
    "end": "1378980"
  },
  {
    "text": "metrics and for that structure these are",
    "start": "1378980",
    "end": "1382520"
  },
  {
    "text": "you know eventually going to feed into",
    "start": "1382520",
    "end": "1384140"
  },
  {
    "text": "the metric C advisor endpoint because",
    "start": "1384140",
    "end": "1386539"
  },
  {
    "text": "you know they're just uh key values",
    "start": "1386539",
    "end": "1388880"
  },
  {
    "text": "basically on a uh you know on the",
    "start": "1388880",
    "end": "1391580"
  },
  {
    "text": "metrics themselves so the CRI will do",
    "start": "1391580",
    "end": "1393559"
  },
  {
    "text": "the Gathering of the metrics in a",
    "start": "1393559",
    "end": "1394880"
  },
  {
    "text": "similar way that c advisor does report",
    "start": "1394880",
    "end": "1396500"
  },
  {
    "text": "that up to the cubelet and then the Cuba",
    "start": "1396500",
    "end": "1398419"
  },
  {
    "text": "will report that through metric C",
    "start": "1398419",
    "end": "1400220"
  },
  {
    "text": "advisor",
    "start": "1400220",
    "end": "1402159"
  },
  {
    "text": "so looking forward and imagining how the",
    "start": "1402159",
    "end": "1405559"
  },
  {
    "text": "CRI stats will be exposed in the future",
    "start": "1405559",
    "end": "1408140"
  },
  {
    "text": "you know the qubit will continue to",
    "start": "1408140",
    "end": "1409940"
  },
  {
    "text": "expose those two endpoints the metric C",
    "start": "1409940",
    "end": "1411919"
  },
  {
    "text": "advisor endpoints will be based on the",
    "start": "1411919",
    "end": "1413720"
  },
  {
    "text": "metrics object of the CRI the qubit will",
    "start": "1413720",
    "end": "1417080"
  },
  {
    "text": "request down to the CRI CRI will gather",
    "start": "1417080",
    "end": "1419600"
  },
  {
    "text": "all the information and report it back",
    "start": "1419600",
    "end": "1421220"
  },
  {
    "text": "up to the Cuba through the CRI and then",
    "start": "1421220",
    "end": "1424220"
  },
  {
    "text": "the Cuba will convert those into",
    "start": "1424220",
    "end": "1427340"
  },
  {
    "text": "Prometheus metrics will it where it will",
    "start": "1427340",
    "end": "1429620"
  },
  {
    "text": "emit it again over the metric C advisor",
    "start": "1429620",
    "end": "1431960"
  },
  {
    "text": "endpoint proxying it in a similar way as",
    "start": "1431960",
    "end": "1434360"
  },
  {
    "text": "it did before for C advisor so the",
    "start": "1434360",
    "end": "1437780"
  },
  {
    "text": "endpoint won't change there for the stat",
    "start": "1437780",
    "end": "1440780"
  },
  {
    "text": "summary API the uh the Cuba will request",
    "start": "1440780",
    "end": "1444320"
  },
  {
    "text": "of the CRI implementation the stats",
    "start": "1444320",
    "end": "1446539"
  },
  {
    "text": "object and you know the CRI will in",
    "start": "1446539",
    "end": "1448880"
  },
  {
    "text": "similar fashion gather all the stats and",
    "start": "1448880",
    "end": "1450620"
  },
  {
    "text": "then package them send them up and then",
    "start": "1450620",
    "end": "1452419"
  },
  {
    "text": "the qubit will translate that into its",
    "start": "1452419",
    "end": "1454700"
  },
  {
    "text": "stat summary object from the stat",
    "start": "1454700",
    "end": "1456500"
  },
  {
    "text": "summary",
    "start": "1456500",
    "end": "1457480"
  },
  {
    "text": "API the metrics resource endpoint will",
    "start": "1457480",
    "end": "1460880"
  },
  {
    "text": "also be fulfilled and and that will be",
    "start": "1460880",
    "end": "1462919"
  },
  {
    "text": "fed into uh you know the eviction",
    "start": "1462919",
    "end": "1464780"
  },
  {
    "text": "manager the qubit will still depend on C",
    "start": "1464780",
    "end": "1467659"
  },
  {
    "text": "advisor for Gathering no level metrics",
    "start": "1467659",
    "end": "1470120"
  },
  {
    "text": "because CRI you know even though it",
    "start": "1470120",
    "end": "1471860"
  },
  {
    "text": "knows best about the individual",
    "start": "1471860",
    "end": "1473539"
  },
  {
    "text": "containers it may not know the best",
    "start": "1473539",
    "end": "1474860"
  },
  {
    "text": "about how to gather the metrics on the",
    "start": "1474860",
    "end": "1476780"
  },
  {
    "text": "full node so we're still going to get",
    "start": "1476780",
    "end": "1478159"
  },
  {
    "text": "machine stats from uh C advisor and you",
    "start": "1478159",
    "end": "1481760"
  },
  {
    "text": "know similarly that will feed into the",
    "start": "1481760",
    "end": "1484039"
  },
  {
    "text": "eviction manager as we saw before",
    "start": "1484039",
    "end": "1486860"
  },
  {
    "text": "so what are we looking forward you know",
    "start": "1486860",
    "end": "1488960"
  },
  {
    "text": "we've completed Alpha and then going",
    "start": "1488960",
    "end": "1490880"
  },
  {
    "text": "forward towards beta the main uh",
    "start": "1490880",
    "end": "1493400"
  },
  {
    "text": "priority that we have is testing so we",
    "start": "1493400",
    "end": "1496100"
  },
  {
    "text": "want to test a couple of different",
    "start": "1496100",
    "end": "1497120"
  },
  {
    "text": "things the accuracy of all those metrics",
    "start": "1497120",
    "end": "1499460"
  },
  {
    "text": "believe it or not you know the the while",
    "start": "1499460",
    "end": "1502280"
  },
  {
    "text": "the stat summary API is somewhat tested",
    "start": "1502280",
    "end": "1505400"
  },
  {
    "text": "and we are validating the stats we're",
    "start": "1505400",
    "end": "1507559"
  },
  {
    "text": "actually doing little testing of the",
    "start": "1507559",
    "end": "1509720"
  },
  {
    "text": "metric C advisor endpoint and because of",
    "start": "1509720",
    "end": "1511820"
  },
  {
    "text": "that you know we to uh in the process of",
    "start": "1511820",
    "end": "1515480"
  },
  {
    "text": "imagining you know a place that it could",
    "start": "1515480",
    "end": "1517039"
  },
  {
    "text": "be better gathered we also want to make",
    "start": "1517039",
    "end": "1518780"
  },
  {
    "text": "sure that the place that we're newly",
    "start": "1518780",
    "end": "1520280"
  },
  {
    "text": "Gathering it is uh accurate so we want",
    "start": "1520280",
    "end": "1522559"
  },
  {
    "text": "to add additional testing to be able to",
    "start": "1522559",
    "end": "1524659"
  },
  {
    "text": "test that as well as test the old",
    "start": "1524659",
    "end": "1525799"
  },
  {
    "text": "implementation we also do no validation",
    "start": "1525799",
    "end": "1529159"
  },
  {
    "text": "that all of the metrics exist on the",
    "start": "1529159",
    "end": "1530960"
  },
  {
    "text": "note at all C advisor could technically",
    "start": "1530960",
    "end": "1532580"
  },
  {
    "text": "right now just change any of those",
    "start": "1532580",
    "end": "1534020"
  },
  {
    "text": "metrics and any of the alerts that exist",
    "start": "1534020",
    "end": "1536059"
  },
  {
    "text": "on the system would be kind of uh broken",
    "start": "1536059",
    "end": "1538159"
  },
  {
    "text": "so part of this is also adding uh",
    "start": "1538159",
    "end": "1541039"
  },
  {
    "text": "coverage to make sure that we have all",
    "start": "1541039",
    "end": "1543799"
  },
  {
    "text": "of the metrics that you know people have",
    "start": "1543799",
    "end": "1545779"
  },
  {
    "text": "begun to expect functionally become a",
    "start": "1545779",
    "end": "1548000"
  },
  {
    "text": "stable API of kubernetes even though we",
    "start": "1548000",
    "end": "1549740"
  },
  {
    "text": "never made any promises about that so",
    "start": "1549740",
    "end": "1551900"
  },
  {
    "text": "we're going to you know begin to make",
    "start": "1551900",
    "end": "1553400"
  },
  {
    "text": "that promise and then also testing the",
    "start": "1553400",
    "end": "1555740"
  },
  {
    "text": "performance metrics Gathering is a",
    "start": "1555740",
    "end": "1557720"
  },
  {
    "text": "really expensive thing that the cubelet",
    "start": "1557720",
    "end": "1559279"
  },
  {
    "text": "does and the prospect of moving that",
    "start": "1559279",
    "end": "1561679"
  },
  {
    "text": "into an entirely new component that",
    "start": "1561679",
    "end": "1563600"
  },
  {
    "text": "hasn't been in this business for you",
    "start": "1563600",
    "end": "1565220"
  },
  {
    "text": "know the entirety of the time kubernetes",
    "start": "1565220",
    "end": "1566659"
  },
  {
    "text": "has existed uh concerns some people and",
    "start": "1566659",
    "end": "1569299"
  },
  {
    "text": "you know one might worry about the",
    "start": "1569299",
    "end": "1570980"
  },
  {
    "text": "performance impact that might have and",
    "start": "1570980",
    "end": "1572840"
  },
  {
    "text": "it's an explicit goal of the cap to make",
    "start": "1572840",
    "end": "1574940"
  },
  {
    "text": "sure that there's no there no or very",
    "start": "1574940",
    "end": "1577220"
  },
  {
    "text": "little performance uh hit when we're uh",
    "start": "1577220",
    "end": "1580760"
  },
  {
    "text": "you know making that change and that'll",
    "start": "1580760",
    "end": "1582380"
  },
  {
    "text": "also allow us to test the performance of",
    "start": "1582380",
    "end": "1584779"
  },
  {
    "text": "the existing implementation",
    "start": "1584779",
    "end": "1587120"
  },
  {
    "text": "so you know you as an end user might you",
    "start": "1587120",
    "end": "1590539"
  },
  {
    "text": "know look up here and uh hear all the",
    "start": "1590539",
    "end": "1593179"
  },
  {
    "text": "things that we're talking about changing",
    "start": "1593179",
    "end": "1594559"
  },
  {
    "text": "and might be worried like what am I",
    "start": "1594559",
    "end": "1596360"
  },
  {
    "text": "going to see is is my stats collection",
    "start": "1596360",
    "end": "1598340"
  },
  {
    "text": "going to get messed up and ideally the",
    "start": "1598340",
    "end": "1600620"
  },
  {
    "text": "answer would be none uh there should be",
    "start": "1600620",
    "end": "1602840"
  },
  {
    "text": "no impact to the SAS collection so that",
    "start": "1602840",
    "end": "1605960"
  },
  {
    "text": "summary is a stable API of the cubelet",
    "start": "1605960",
    "end": "1608059"
  },
  {
    "text": "and it's already being tested a little",
    "start": "1608059",
    "end": "1609380"
  },
  {
    "text": "bit and we're going to add some extra",
    "start": "1609380",
    "end": "1610460"
  },
  {
    "text": "testing to make sure that those fields",
    "start": "1610460",
    "end": "1611840"
  },
  {
    "text": "can be relied on and eviction still",
    "start": "1611840",
    "end": "1613700"
  },
  {
    "text": "works as we're expecting the metric C",
    "start": "1613700",
    "end": "1615620"
  },
  {
    "text": "advisor endpoint even though none of",
    "start": "1615620",
    "end": "1617600"
  },
  {
    "text": "those uh Prometheus endpoints have been",
    "start": "1617600",
    "end": "1619880"
  },
  {
    "text": "really tested we're going to make sure",
    "start": "1619880",
    "end": "1621500"
  },
  {
    "text": "that they get tested so that you know we",
    "start": "1621500",
    "end": "1624020"
  },
  {
    "text": "you can all rely on those uh and not",
    "start": "1624020",
    "end": "1627320"
  },
  {
    "text": "worry about that changing in general all",
    "start": "1627320",
    "end": "1629720"
  },
  {
    "text": "of this extra testing should prevent",
    "start": "1629720",
    "end": "1631220"
  },
  {
    "text": "regressions uh so that you know all the",
    "start": "1631220",
    "end": "1634279"
  },
  {
    "text": "all the metrics and all the stats that",
    "start": "1634279",
    "end": "1636140"
  },
  {
    "text": "you've been relying on won't get changed",
    "start": "1636140",
    "end": "1639320"
  },
  {
    "text": "in summary uh observability helps you",
    "start": "1639320",
    "end": "1642440"
  },
  {
    "text": "gain insights into your application",
    "start": "1642440",
    "end": "1644000"
  },
  {
    "text": "platform you can use it to debug you",
    "start": "1644000",
    "end": "1646760"
  },
  {
    "text": "know an outage or like you know some app",
    "start": "1646760",
    "end": "1648679"
  },
  {
    "text": "misbehaving as we saw earlier see",
    "start": "1648679",
    "end": "1651620"
  },
  {
    "text": "advisor currently Powers workload and",
    "start": "1651620",
    "end": "1653600"
  },
  {
    "text": "container monitoring in kubernetes",
    "start": "1653600",
    "end": "1655220"
  },
  {
    "text": "however with cap2371 we're moving that",
    "start": "1655220",
    "end": "1658640"
  },
  {
    "text": "from C advisor into the CRI to better uh",
    "start": "1658640",
    "end": "1662240"
  },
  {
    "text": "you know have better performance and",
    "start": "1662240",
    "end": "1664400"
  },
  {
    "text": "have a cluster that makes a little bit",
    "start": "1664400",
    "end": "1666140"
  },
  {
    "text": "more sense as always a contribution",
    "start": "1666140",
    "end": "1668900"
  },
  {
    "text": "would be welcome if you have any",
    "start": "1668900",
    "end": "1670460"
  },
  {
    "text": "interest in this work you know come chat",
    "start": "1670460",
    "end": "1672140"
  },
  {
    "text": "to us in signode uh we're happy to you",
    "start": "1672140",
    "end": "1675140"
  },
  {
    "text": "know help you know as we Usher through",
    "start": "1675140",
    "end": "1677659"
  },
  {
    "text": "into this new world",
    "start": "1677659",
    "end": "1680000"
  },
  {
    "text": "I'd like to thank everyone for joining",
    "start": "1680000",
    "end": "1681919"
  },
  {
    "text": "us as well as for you know all of these",
    "start": "1681919",
    "end": "1683600"
  },
  {
    "text": "communities here signode see advisor",
    "start": "1683600",
    "end": "1685760"
  },
  {
    "text": "container runtime maintainers and run C",
    "start": "1685760",
    "end": "1688039"
  },
  {
    "text": "maintainers all of which you know are",
    "start": "1688039",
    "end": "1690559"
  },
  {
    "text": "reliant on uh that the stats collection",
    "start": "1690559",
    "end": "1692900"
  },
  {
    "text": "relies on and you know they are vital",
    "start": "1692900",
    "end": "1695240"
  },
  {
    "text": "components of the system",
    "start": "1695240",
    "end": "1697039"
  },
  {
    "text": "and uh here are some more uh here are",
    "start": "1697039",
    "end": "1700159"
  },
  {
    "text": "some more uh resources that you could",
    "start": "1700159",
    "end": "1701960"
  },
  {
    "text": "look into if you have any questions and",
    "start": "1701960",
    "end": "1704360"
  },
  {
    "text": "I believe we might also still have time",
    "start": "1704360",
    "end": "1706400"
  },
  {
    "text": "for questions so",
    "start": "1706400",
    "end": "1708140"
  },
  {
    "text": "um thank you everyone for joining do we",
    "start": "1708140",
    "end": "1709460"
  },
  {
    "text": "have any questions for us",
    "start": "1709460",
    "end": "1712330"
  },
  {
    "text": "[Applause]",
    "start": "1712330",
    "end": "1715039"
  },
  {
    "text": "foreign",
    "start": "1715039",
    "end": "1717440"
  },
  {
    "text": "[Applause]",
    "start": "1717440",
    "end": "1719978"
  }
]