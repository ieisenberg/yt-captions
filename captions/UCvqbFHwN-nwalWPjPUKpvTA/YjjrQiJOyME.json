[
  {
    "start": "0",
    "end": "70000"
  },
  {
    "text": "hello welcome a couple of people still coming in that will get started with",
    "start": "199",
    "end": "7460"
  },
  {
    "text": "introductions so welcome to the maintainer tract intro talk about CNI my",
    "start": "7460",
    "end": "17130"
  },
  {
    "text": "name is Brian Orem worked for a company called weave works we were one of the",
    "start": "17130",
    "end": "23010"
  },
  {
    "text": "very early people putting out a CNI plug in a little thing called weave net that",
    "start": "23010",
    "end": "29580"
  },
  {
    "text": "I have worked on for five years now",
    "start": "29580",
    "end": "34309"
  },
  {
    "text": "Williams and I work for a company called the red hat and we also are pretty",
    "start": "35120",
    "end": "40410"
  },
  {
    "text": "involved in upstream kubernetes and CNI and a bunch of other container related projects yeah nowadays we've works",
    "start": "40410",
    "end": "48690"
  },
  {
    "text": "probably better known for get out if you like that but anyway let's let's start",
    "start": "48690",
    "end": "54809"
  },
  {
    "text": "with a if I can get this thing to do something Oh wonderful yeah okay okay",
    "start": "54809",
    "end": "71130"
  },
  {
    "start": "70000",
    "end": "139000"
  },
  {
    "text": "show of hands who has used CNI get",
    "start": "71130",
    "end": "77280"
  },
  {
    "text": "everyone bit of exercise after the after lunch there you go pretty much everyone here is used CNI who who's written a",
    "start": "77280",
    "end": "88080"
  },
  {
    "text": "plug-in Oh a couple of people okay so we do have a deep dive session which is",
    "start": "88080",
    "end": "94320"
  },
  {
    "text": "meant to be you know more deeper into the the technical details we're gonna",
    "start": "94320",
    "end": "99479"
  },
  {
    "text": "we're gonna do an intro in this session that deep dive is tomorrow at exactly",
    "start": "99479",
    "end": "106290"
  },
  {
    "text": "this time okay well we're gonna call what room but yeah and who has no idea",
    "start": "106290",
    "end": "114299"
  },
  {
    "text": "about CNI came to find out what the heck it is the quarter of the room okay so",
    "start": "114299",
    "end": "121170"
  },
  {
    "text": "welcome hopefully we do our job yeah when you leave you do know we have slides for that and and there should be",
    "start": "121170",
    "end": "126450"
  },
  {
    "text": "quite a plenty of time at the end for questions okay so yeah that's kind of our outline",
    "start": "126450",
    "end": "134970"
  },
  {
    "text": "but let's let me see if this thing's working now yes okay let me get into it",
    "start": "134970",
    "end": "140520"
  },
  {
    "start": "139000",
    "end": "275000"
  },
  {
    "text": "ladies so this is a kind of overview picture of where where CNI fits into the the cloud",
    "start": "140520",
    "end": "148319"
  },
  {
    "text": "native world so top left we have a",
    "start": "148319",
    "end": "154620"
  },
  {
    "text": "container which is what we we attach networks to in the kubernetes world",
    "start": "154620",
    "end": "160470"
  },
  {
    "text": "that's going to be a pod a group of containers but one thing will probably repeat a few times is CNI is not tied to",
    "start": "160470",
    "end": "167489"
  },
  {
    "text": "kubernetes CNI was created as a common interface that could be used by any",
    "start": "167489",
    "end": "174830"
  },
  {
    "text": "container runtime and any network so so",
    "start": "174830",
    "end": "180390"
  },
  {
    "text": "we'll probably refer to kubernetes a lot but but there's no there's no strong tie",
    "start": "180390",
    "end": "186299"
  },
  {
    "text": "between the two could see NIS is agnostic so the runtime over on the left",
    "start": "186299",
    "end": "193290"
  },
  {
    "text": "is something like kubernetes CNI is also used with me sauce Cloud Foundry yeah",
    "start": "193290",
    "end": "202170"
  },
  {
    "text": "bunch of a bunch of different container runtimes used CNI and the the basic mode",
    "start": "202170",
    "end": "209700"
  },
  {
    "text": "of operation is you start with the containers that has no network interface",
    "start": "209700",
    "end": "214820"
  },
  {
    "text": "the runtime makes a call to CNI there's a very small set of verbs ad and L or",
    "start": "214820",
    "end": "224280"
  },
  {
    "text": "two of them so ad will add a network interface to the container",
    "start": "224280",
    "end": "230000"
  },
  {
    "text": "and the details of what you would like done are placed in a JSON text which is",
    "start": "230000",
    "end": "240569"
  },
  {
    "text": "given to the CNI plugin so the the plug-in comes from whoever whoever's implemented a plug-in for your",
    "start": "240569",
    "end": "246420"
  },
  {
    "text": "network you know that could be a network vendor could be a third party vendor or",
    "start": "246420",
    "end": "252359"
  },
  {
    "text": "some of the plugins are owned by the CNI project and we'll we'll talk about those later so that's at a very high level",
    "start": "252359",
    "end": "259489"
  },
  {
    "text": "where does see and I see in kind of in-between the runtime and",
    "start": "259489",
    "end": "264860"
  },
  {
    "text": "the container just a little bit of glue to operate the network plug in and get",
    "start": "264860",
    "end": "270620"
  },
  {
    "text": "it connected on to your network okay hand over that yes so the CNM project at",
    "start": "270620",
    "end": "278419"
  },
  {
    "text": "its core is two distinct things the first one is a specification that documents what the configuration format",
    "start": "278419",
    "end": "285110"
  },
  {
    "text": "is for how you give the details for what that CNI plug-in should do which CNI",
    "start": "285110",
    "end": "290180"
  },
  {
    "text": "plug and you actually want to run and also the result that that CNI plug-in",
    "start": "290180",
    "end": "296150"
  },
  {
    "text": "returns to the runtime whether that's kubernetes maysa or anything else and",
    "start": "296150",
    "end": "301280"
  },
  {
    "text": "then the second thing is a set of reference plugins and these are intended to be like the best example of what the",
    "start": "301280",
    "end": "307970"
  },
  {
    "text": "CNI project thinks an implementation of a C&I plugin could be they are fairly simple because they have to work with",
    "start": "307970",
    "end": "314599"
  },
  {
    "text": "all the different CNI or all the different runtimes that work with CNI and so that means that they're not tied",
    "start": "314599",
    "end": "321020"
  },
  {
    "text": "to any particular cloud system like kubernetes or me sauce or anything they",
    "start": "321020",
    "end": "327289"
  },
  {
    "text": "can literally be run from a command line using the cni tool which is also a binary that is produced by the CNI",
    "start": "327289",
    "end": "333830"
  },
  {
    "text": "project and we have a pretty extensive set of reference plugins you can",
    "start": "333830",
    "end": "339139"
  },
  {
    "text": "basically build you know most of a cluster of most of a cluster from the",
    "start": "339139",
    "end": "346310"
  },
  {
    "text": "plugins and those plugins are also used by another number of other projects but",
    "start": "346310",
    "end": "352310"
  },
  {
    "text": "again they're only a set of reference plugins they have very limited set of capabilities they're supposed to be fairly simple and you know we know that",
    "start": "352310",
    "end": "359780"
  },
  {
    "text": "a lot of other there are a lot of other use cases that these plugins don't meet",
    "start": "359780",
    "end": "365659"
  },
  {
    "text": "and we're fine with that because you know networking is complicated and everybody has their own needs from it so",
    "start": "365659",
    "end": "371569"
  },
  {
    "text": "we provide these but then we also try to make sure that CNI as a project and the",
    "start": "371569",
    "end": "376759"
  },
  {
    "text": "specification part of CNI works for many many different CNI plugins that adhere",
    "start": "376759",
    "end": "381889"
  },
  {
    "text": "to the standard and we also link a lot of those plugins from the CNI project",
    "start": "381889",
    "end": "386900"
  },
  {
    "text": "website so if you were developing a CNI plug-in and it's something that you think other people could also use and",
    "start": "386900",
    "end": "393139"
  },
  {
    "text": "you think it's a good example of a CNI plugin then you know we'd love to hear from you and we'd love to potentially put a link",
    "start": "393139",
    "end": "398870"
  },
  {
    "text": "to it on the cni project website so jumping a little bit more into the",
    "start": "398870",
    "end": "404390"
  },
  {
    "start": "402000",
    "end": "486000"
  },
  {
    "text": "specification it is a vendor-neutral specification like I said it doesn't cater to any particular project it tries",
    "start": "404390",
    "end": "411470"
  },
  {
    "text": "to implement what is common between all of the different runtimes and you know",
    "start": "411470",
    "end": "418730"
  },
  {
    "text": "as we said it's also used by mezzos Cloud Foundry pod man cryo kubernetes container D and a couple other projects",
    "start": "418730",
    "end": "427010"
  },
  {
    "text": "as well and it just the spec defines both the configuration the flow of",
    "start": "427010",
    "end": "433700"
  },
  {
    "text": "execution of plugins so the verbs that Brian mentioned earlier it also defines",
    "start": "433700",
    "end": "439490"
  },
  {
    "text": "the expectations between the runtime and the CNI plugin around things like versioning and what the parameters are",
    "start": "439490",
    "end": "447590"
  },
  {
    "text": "they get passed between the two what the results are that come back and what version that should be and it also we",
    "start": "447590",
    "end": "456110"
  },
  {
    "text": "make a big attempt to be backwards compatible or when we are not specifically backwards compatible show",
    "start": "456110",
    "end": "462830"
  },
  {
    "text": "exactly what you would need to do to implement the new version but that said I think we have four or five versions",
    "start": "462830",
    "end": "469729"
  },
  {
    "text": "right now of the specification and it is possible for plugins to actually implement all of those versions and the",
    "start": "469729",
    "end": "476630"
  },
  {
    "text": "project has some helper code that you can use in your plugin to convert",
    "start": "476630",
    "end": "481640"
  },
  {
    "text": "between those versions and correctly implement the specification so just a",
    "start": "481640",
    "end": "487610"
  },
  {
    "start": "486000",
    "end": "590000"
  },
  {
    "text": "quick overview of the configuration format like Brian said it's JSON based",
    "start": "487610",
    "end": "492700"
  },
  {
    "text": "and it's basically just key values that get passed through there are a number of well-known key values that the spec",
    "start": "492700",
    "end": "500270"
  },
  {
    "text": "itself defines and those are things like the name of this configuration what the",
    "start": "500270",
    "end": "506090"
  },
  {
    "text": "plug-in is that should be called but then there are also plugin specific keys as well and at least in this example the",
    "start": "506090",
    "end": "514669"
  },
  {
    "text": "is default gateway key force address IP mask hairpin mode those are keys that",
    "start": "514669",
    "end": "519740"
  },
  {
    "text": "are specific to the bridge plug-in that is specified here and so if you",
    "start": "519740",
    "end": "525040"
  },
  {
    "text": "you know need to customize the behavior of a given C and I plugin you would also be able to do that through the JSON",
    "start": "525040",
    "end": "530890"
  },
  {
    "text": "specification the other section to note is that there is an eye pam section and that stands for IP address management c",
    "start": "530890",
    "end": "538000"
  },
  {
    "text": "and i has the ability to actually compose multiple plugins into kind of",
    "start": "538000",
    "end": "543130"
  },
  {
    "text": "one I guess networks set up and so you can have for example here the bridge",
    "start": "543130",
    "end": "549640"
  },
  {
    "text": "plug-in doesn't do anything IP address related really it just sets up a bridge and connects a container to the bridge",
    "start": "549640",
    "end": "555370"
  },
  {
    "text": "and then you have another plug-in for your IP address management that could be",
    "start": "555370",
    "end": "560830"
  },
  {
    "text": "either static it could be DHCP it could be I think in this case host local and",
    "start": "560830",
    "end": "566800"
  },
  {
    "text": "all these are different ways to figure out what IP address your container would get as a result of the cni operation and",
    "start": "566800",
    "end": "574660"
  },
  {
    "text": "that's just because everybody has different needs and so you know CNI doesn't try to prescribe one specific",
    "start": "574660",
    "end": "580870"
  },
  {
    "text": "way that things happen it's a framework for allowing different plugins to do",
    "start": "580870",
    "end": "586180"
  },
  {
    "text": "exactly what you need in your situation",
    "start": "586180",
    "end": "589920"
  },
  {
    "text": "try to do this bit this one me yeah so this is this is kind of a text version",
    "start": "591840",
    "end": "598210"
  },
  {
    "text": "of the picture earlier the the commands add adds a network interface to a",
    "start": "598210",
    "end": "603880"
  },
  {
    "text": "container and let me say at this point you can call add as many times as you",
    "start": "603880",
    "end": "609100"
  },
  {
    "text": "like the the number one most popular CNI question that we get asked is how do I",
    "start": "609100",
    "end": "614680"
  },
  {
    "text": "do multi Network and the answer is just do it the problem most of you might be",
    "start": "614680",
    "end": "621400"
  },
  {
    "text": "wondering about is on the other end of the wire kubernetes can only call one CNI plug-in so don't complain to us",
    "start": "621400",
    "end": "629410"
  },
  {
    "text": "where the maintainer of CNI which has always been multi network capable complain to the maintainer z-- of the",
    "start": "629410",
    "end": "636100"
  },
  {
    "text": "other end of the wire some of who may be standing on the stage check is a new",
    "start": "636100",
    "end": "647010"
  },
  {
    "text": "feature so we we realized that things",
    "start": "647010",
    "end": "655360"
  },
  {
    "text": "could go wrong after add and you know sometimes network setup",
    "start": "655360",
    "end": "661959"
  },
  {
    "text": "is kind of asynchronous or sometimes things change underneath the run time and and so the",
    "start": "661959",
    "end": "668740"
  },
  {
    "text": "purpose of or the idea of check is that the run time can call check periodically",
    "start": "668740",
    "end": "675059"
  },
  {
    "text": "and just receive a response as to whether the network is still set up the way it expects we we went through",
    "start": "675059",
    "end": "683050"
  },
  {
    "text": "multiple iterations of how that works I think there's a slide later on specifically about check well stuck in",
    "start": "683050",
    "end": "689319"
  },
  {
    "text": "more detail in the deep dive tomorrow oh that's that's way later on yes 24 hours",
    "start": "689319",
    "end": "696720"
  },
  {
    "text": "yeah so just to say you know we check is is it's pretty new in the evolution of",
    "start": "696720",
    "end": "702629"
  },
  {
    "text": "CNI and came after we realized that our",
    "start": "702629",
    "end": "709240"
  },
  {
    "text": "previous design didn't work in fact in practice and then the last one is just a",
    "start": "709240",
    "end": "716110"
  },
  {
    "text": "version call so you can you can ask a plug-in what version of CNI it supports um plugins are executables plugins are",
    "start": "716110",
    "end": "726129"
  },
  {
    "text": "our runners programs in the host this",
    "start": "726129",
    "end": "732779"
  },
  {
    "text": "this was just kind of the simplest thing that could possibly work we probably",
    "start": "732779",
    "end": "738879"
  },
  {
    "text": "talked a little bit about ideas for how we do that differently in the future but basically the runtime in the case of",
    "start": "738879",
    "end": "745300"
  },
  {
    "text": "kubernetes that's cubelet actually execute a CNI plug-in as a separate",
    "start": "745300",
    "end": "751149"
  },
  {
    "text": "program it feeds it the JSON which we've looked up some container specific data",
    "start": "751149",
    "end": "757870"
  },
  {
    "text": "that it might want and then it gives a back a response in Jason on standard out",
    "start": "757870",
    "end": "763779"
  },
  {
    "text": "which is then picked up by the by the runtime buh-bye cubelet in that specific example so that's again just a",
    "start": "763779",
    "end": "770350"
  },
  {
    "text": "run-through of how to see and I work under the hood I just realized I I said",
    "start": "770350",
    "end": "776589"
  },
  {
    "text": "something slightly wrong I said cubelet only Cole C and I once in fact it calls it twice currently it calls it once to set up the",
    "start": "776589",
    "end": "784629"
  },
  {
    "text": "loopback address 127.0.0.1 and then it calls it again for your kind",
    "start": "784629",
    "end": "790600"
  },
  {
    "text": "of regular pod Network both of those are set up by CNI on behalf of cubelet",
    "start": "790600",
    "end": "797740"
  },
  {
    "text": "that's kind of an esoteric detail so I guess technically kubernetes does support multi networking there you go",
    "start": "797740",
    "end": "802930"
  },
  {
    "text": "yeah you want to take this one sure so",
    "start": "802930",
    "end": "810010"
  },
  {
    "start": "806000",
    "end": "968000"
  },
  {
    "text": "the the reference plugins we have this is kind of a list of a bunch of them there's bridge which a lot of you may be",
    "start": "810010",
    "end": "817090"
  },
  {
    "text": "familiar with because that's you know usually the default one that you see in examples out there on the Internet it's just a host a local bridge on that",
    "start": "817090",
    "end": "825520"
  },
  {
    "text": "particular host or that particular node and then all the containers are connected to it with Vieth interfaces",
    "start": "825520",
    "end": "830850"
  },
  {
    "text": "there's also VLAN Mac VLAN IP VLAN host device point-to-point and then over the",
    "start": "830850",
    "end": "837940"
  },
  {
    "text": "last I think year and a half or two years we've gotten a couple of Windows related plugins the windows bridge one",
    "start": "837940",
    "end": "844330"
  },
  {
    "text": "essentially duplicates the functionality of the Linux bridge plug-in basically",
    "start": "844330",
    "end": "849880"
  },
  {
    "text": "the same constructs but on the windows side and then there's a Windows overlay plug-in which actually I believe uses VX",
    "start": "849880",
    "end": "855490"
  },
  {
    "text": "LAN between two different Windows nodes to provide communication thank you for",
    "start": "855490",
    "end": "863440"
  },
  {
    "text": "those if you have questions asked them yep so that's that was great to see before then we didn't really have a lot",
    "start": "863440",
    "end": "870070"
  },
  {
    "text": "of cross platform capability for CNI or at least people who had written those",
    "start": "870070",
    "end": "875530"
  },
  {
    "text": "had not contributed those back so thanks to Microsoft for sending those in on the",
    "start": "875530",
    "end": "880630"
  },
  {
    "text": "ipam side we have hosts local which takes a subnet that's assigned to the node and just distributes IP addresses",
    "start": "880630",
    "end": "888550"
  },
  {
    "text": "from that subnet to containers but only on that node and then there's a DHCP",
    "start": "888550",
    "end": "893860"
  },
  {
    "text": "plugin so if you really want to use DHCP with your containers you can do that and then a static plugin for static IP",
    "start": "893860",
    "end": "899980"
  },
  {
    "text": "addresses and there's also a number of what we call meta plugins and those are",
    "start": "899980",
    "end": "905350"
  },
  {
    "text": "plugins that don't set up any particular layer-2 connectivity they don't set up any IP address connectivity either but",
    "start": "905350",
    "end": "911920"
  },
  {
    "text": "they provide additional features on top of the other plugins and",
    "start": "911920",
    "end": "917360"
  },
  {
    "text": "they're typically used as chained plugins which is I think a concept we'll get to in a little bit",
    "start": "917360",
    "end": "923900"
  },
  {
    "text": "they're basically plugins that you add on to the end of some you know a chain of other plugins so you'd for example",
    "start": "923900",
    "end": "928940"
  },
  {
    "text": "have the bridge plug-in to set up your actual interfaces and IPAM plug-in to do",
    "start": "928940",
    "end": "933950"
  },
  {
    "text": "the IP address management and then perhaps the bandwidth plug-in to set some limits on the bandwidth going",
    "start": "933950",
    "end": "939440"
  },
  {
    "text": "either into and or out of the container and these are all maintained by the cni project and like I said before we try to",
    "start": "939440",
    "end": "946640"
  },
  {
    "text": "keep these plugins the best example of the cni specification that we can we",
    "start": "946640",
    "end": "952850"
  },
  {
    "text": "always attempt to update these plugins for new specification features before we",
    "start": "952850",
    "end": "958670"
  },
  {
    "text": "actually release a specification so that it serves as an example to other plug-in developers for how to implement new",
    "start": "958670",
    "end": "964550"
  },
  {
    "text": "features of the cni specification yeah",
    "start": "964550",
    "end": "969650"
  },
  {
    "start": "968000",
    "end": "1038000"
  },
  {
    "text": "so shout out to all the maintainer two of whom myself Brian and Dan are",
    "start": "969650",
    "end": "978770"
  },
  {
    "text": "here on the stage we have a reasonably heavy representation from Red Hat",
    "start": "978770",
    "end": "987130"
  },
  {
    "text": "somewhat from the core OS history and and somewhat from the Red Hat history",
    "start": "987130",
    "end": "992710"
  },
  {
    "text": "but you know pretty pretty broad spectrum of people there's no company",
    "start": "992710",
    "end": "999890"
  },
  {
    "text": "behind C and I there's no VC funding none of us are becoming gonna become a",
    "start": "999890",
    "end": "1005290"
  },
  {
    "text": "billionaire of container network interface specification but but we do",
    "start": "1005290",
    "end": "1014830"
  },
  {
    "text": "you know I think it's a it's a kind of essential piece of glue technology that",
    "start": "1014830",
    "end": "1020790"
  },
  {
    "text": "everybody in the world in the cloud native world needs to needs to have there and running effectively and also",
    "start": "1020790",
    "end": "1028449"
  },
  {
    "text": "you know lots of contributors lots of people who are not maintained errs but send in fixes thank you to all of them",
    "start": "1028449",
    "end": "1038188"
  },
  {
    "start": "1038000",
    "end": "1238000"
  },
  {
    "text": "what happened recently lots of stuff yeah that's what it says yeah we've done",
    "start": "1038189",
    "end": "1044980"
  },
  {
    "text": "a bunch of releases over the last year of Lib CNI Lib C and I",
    "start": "1044980",
    "end": "1050250"
  },
  {
    "text": "think we talked about it that much previously but it's kind of another component of the CNI project besides the",
    "start": "1050250",
    "end": "1055740"
  },
  {
    "text": "specification and the reference plugins Lib CNI is a go library that is meant to",
    "start": "1055740",
    "end": "1061080"
  },
  {
    "text": "be used by runtimes like kubernetes docker shim or cryo",
    "start": "1061080",
    "end": "1066480"
  },
  {
    "text": "pod man or any of the other pieces that actually use CNI as the glue layer it",
    "start": "1066480",
    "end": "1073740"
  },
  {
    "text": "implements a lot of convenience functions for the runtime so they don't have to implement that themselves and it",
    "start": "1073740",
    "end": "1079890"
  },
  {
    "text": "does a lot of the work around like you know making sure that the version of the plug-in that you're calling is",
    "start": "1079890",
    "end": "1084900"
  },
  {
    "text": "compatible with the version of the configuration that you're actually trying to pass to the plug-in parsing",
    "start": "1084900",
    "end": "1090330"
  },
  {
    "text": "some of the results and also doing some caching of the configuration and the returned result to make sure that that",
    "start": "1090330",
    "end": "1097200"
  },
  {
    "text": "can be used for further operations later on so it's really just a convenience library to make life easier for the",
    "start": "1097200",
    "end": "1102480"
  },
  {
    "text": "people who are trying to integrate with CNI and we've done a bunch of plugin releases and a whole bunch of commits in",
    "start": "1102480",
    "end": "1110580"
  },
  {
    "text": "the last year as well as a good number of contributors from outside of the core maintainer team and the check function",
    "start": "1110580",
    "end": "1118620"
  },
  {
    "text": "is new and Brian talked quite a bit about that configure result caching I just mentioned and those are again",
    "start": "1118620",
    "end": "1125760"
  },
  {
    "text": "convenience functions for the runtimes they will talk a little bit more in detail about that as well and a deep",
    "start": "1125760",
    "end": "1131880"
  },
  {
    "text": "dive tomorrow if you're interested if you're a runtime author or even a plug-in author because some of the new",
    "start": "1131880",
    "end": "1137070"
  },
  {
    "text": "features in the cni specification 0 4 and later do make use of the config",
    "start": "1137070",
    "end": "1142260"
  },
  {
    "text": "caching and provide plugins with some often requested features so check back",
    "start": "1142260",
    "end": "1149040"
  },
  {
    "text": "tomorrow for a deep dive on that and then new plugins bandwidth there's also",
    "start": "1149040",
    "end": "1154680"
  },
  {
    "text": "a firewall plugin and the firewall plugin allows you to poke holes through the host nodes firewall to do things",
    "start": "1154680",
    "end": "1161490"
  },
  {
    "text": "like allow containers to reach specific resources DNS DHCP you can also do more",
    "start": "1161490",
    "end": "1168450"
  },
  {
    "text": "fine-grained rules with that if you really want to do that kind of access control and containers through CNI and",
    "start": "1168450",
    "end": "1175190"
  },
  {
    "text": "the SBR plugin is that's something based",
    "start": "1175190",
    "end": "1180200"
  },
  {
    "text": "routing yes one thing if your decide routing if",
    "start": "1180200",
    "end": "1186570"
  },
  {
    "text": "you're if you're in the UK yep and that was a recent contribution last year yeah",
    "start": "1186570",
    "end": "1192750"
  },
  {
    "text": "so sending things out different interfaces depending on the source IP",
    "start": "1192750",
    "end": "1197780"
  },
  {
    "text": "and then also a static at a static plug-in we had a lot of requests in the",
    "start": "1197780",
    "end": "1204510"
  },
  {
    "text": "past for being able to do something like that or at least modify the IP addresses of the plug-in with more precision than",
    "start": "1204510",
    "end": "1212820"
  },
  {
    "text": "just using some of the ipam plugins and so that was a contribution as well from outside of the core maintainer team the",
    "start": "1212820",
    "end": "1218580"
  },
  {
    "text": "windows support and then also a couple of tuning plugins to adjust things so if",
    "start": "1218580",
    "end": "1224130"
  },
  {
    "text": "for example you want to lock a specific MAC address not all the plugins allow you to be able to do that and so you can",
    "start": "1224130",
    "end": "1230610"
  },
  {
    "text": "chain another plug-in on later the tuning plug-in that allows you to set the MAC address of the containers",
    "start": "1230610",
    "end": "1235710"
  },
  {
    "text": "interface okay a little bit about how",
    "start": "1235710",
    "end": "1241290"
  },
  {
    "start": "1238000",
    "end": "1390000"
  },
  {
    "text": "the project works you know I put up I put up the list of of maintainer x' and we we have a weekly meeting video call",
    "start": "1241290",
    "end": "1251340"
  },
  {
    "text": "we're probably probably more than half the maintainer of show up every week and",
    "start": "1251340",
    "end": "1257760"
  },
  {
    "text": "we we go through recent issues recent PRS and so on just make sure",
    "start": "1257760",
    "end": "1263070"
  },
  {
    "text": "everything's up to date discuss discuss the future maybe we so I might be",
    "start": "1263070",
    "end": "1268200"
  },
  {
    "text": "important to point out there that if you do file a PR on CNI or if you do file an",
    "start": "1268200",
    "end": "1273450"
  },
  {
    "text": "issue on CNI it actually does get looked at every single week whether or not it gets a reply we are immediately we are",
    "start": "1273450",
    "end": "1279120"
  },
  {
    "text": "aware of it and we do look at those issues yeah they frequently yeah you don't need to that mention me so yeah you know the",
    "start": "1279120",
    "end": "1291690"
  },
  {
    "text": "spec is is intentionally slow we don't want to just go breaking things all the",
    "start": "1291690",
    "end": "1297900"
  },
  {
    "text": "time it is currently at what is it Oh point seven anyway whatever it's zero point",
    "start": "1297900",
    "end": "1306090"
  },
  {
    "text": "something and we really want to label at one point zero because that's gonna relax certain people who who don't like",
    "start": "1306090",
    "end": "1313110"
  },
  {
    "text": "the don't like the idea of an something actually I think I have a slot",
    "start": "1313110",
    "end": "1319049"
  },
  {
    "text": " slide about what's what is one Oh plugins yeah we you know we shove our",
    "start": "1319049",
    "end": "1324719"
  },
  {
    "text": "plugin releases quite often usually usually to you know fix little things",
    "start": "1324719",
    "end": "1330539"
  },
  {
    "text": "that have come up and we do get a lot of a lot of third-party fixes to the",
    "start": "1330539",
    "end": "1336719"
  },
  {
    "text": "plugins kind of further further to what Dan said you know you one thing that",
    "start": "1336719",
    "end": "1343349"
  },
  {
    "text": "probably won't work is to show up and demand that we do some work you know",
    "start": "1343349",
    "end": "1348869"
  },
  {
    "text": "even if it's really important to you we're all kind of volunteers so so what",
    "start": "1348869",
    "end": "1356639"
  },
  {
    "text": "works better is to show up with the fix now we need to hear about the issues and",
    "start": "1356639",
    "end": "1363200"
  },
  {
    "text": "obviously we fix a bunch of things but but there's no you know there's no",
    "start": "1364159",
    "end": "1370079"
  },
  {
    "text": "support contract so and then yeah so",
    "start": "1370079",
    "end": "1375629"
  },
  {
    "text": "once again the things like cube proxy and so on are not part of the CNI project so you know speak to them if you",
    "start": "1375629",
    "end": "1385289"
  },
  {
    "text": "if you have something to say about them so what's next like Brian mentioned we'd",
    "start": "1385289",
    "end": "1392969"
  },
  {
    "start": "1390000",
    "end": "1478000"
  },
  {
    "text": "like to get the spec 21.0 there are we consider the spec basically 1.0 at this",
    "start": "1392969",
    "end": "1398940"
  },
  {
    "text": "point but there are a couple excuse me leftover things that we want to do we need much better test coverage",
    "start": "1398940",
    "end": "1404489"
  },
  {
    "text": "on some of the reference library the Lib C and I reference library as well as the plugins we also want to review the spec",
    "start": "1404489",
    "end": "1411629"
  },
  {
    "text": "you know kind of go through it one more time for clarity because something that has come up every now and again is",
    "start": "1411629",
    "end": "1416729"
  },
  {
    "text": "people will file issues or will find bugs ourselves in the various things that use CNI and that's often caused by",
    "start": "1416729",
    "end": "1423209"
  },
  {
    "text": "an ambiguity in the specification I recently sent in a fix for a third-party plugin that did not return the result to",
    "start": "1423209",
    "end": "1432599"
  },
  {
    "text": "the runtime in the same version that the configuration was sent and that was clarified in the v4 specification which",
    "start": "1432599",
    "end": "1439619"
  },
  {
    "text": "the plug-in claimed to support but that was not actually clear in the v3 specification from I think about a year",
    "start": "1439619",
    "end": "1446759"
  },
  {
    "text": "ago which is probably when that plug was last updated for CNI specifications",
    "start": "1446759",
    "end": "1452020"
  },
  {
    "text": "so we do you know find things in the field and then try to update the specification to make sure that it's",
    "start": "1452020",
    "end": "1457240"
  },
  {
    "text": "clear what the contract is between plugins and runtimes so to make it",
    "start": "1457240",
    "end": "1462310"
  },
  {
    "text": "easier to follow the CNI specification and then last signed release binaries",
    "start": "1462310",
    "end": "1468520"
  },
  {
    "text": "that's something that a lot of projects have requested it's something that we know we need to do and we are working on",
    "start": "1468520",
    "end": "1474670"
  },
  {
    "text": "that but it has not happened yet and finally pretty much yeah if you want",
    "start": "1474670",
    "end": "1483370"
  },
  {
    "start": "1478000",
    "end": "1538000"
  },
  {
    "text": "to get involved I mean if you just want to chat to us the the slack we're now using the CNC f slack for reasons but",
    "start": "1483370",
    "end": "1492580"
  },
  {
    "text": "yeah they maintain it and moderate it so that's great topic CNI all the cost",
    "start": "1492580",
    "end": "1500500"
  },
  {
    "text": "software's on github you can open an issue you can open the PR if you make",
    "start": "1500500",
    "end": "1507970"
  },
  {
    "text": "your own plugin that's great as well we would love to host a link to it we probably will not just accept your",
    "start": "1507970",
    "end": "1516610"
  },
  {
    "text": "plugin and start maintaining it you know",
    "start": "1516610",
    "end": "1521830"
  },
  {
    "text": "most like me never say never but most likely we we would like you to host your",
    "start": "1521830",
    "end": "1529660"
  },
  {
    "text": "plug-in and we'll have a link to it so yeah I think that's that's the material",
    "start": "1529660",
    "end": "1535990"
  },
  {
    "text": "we came prepared with both of our companies have booths that you might",
    "start": "1535990",
    "end": "1541720"
  },
  {
    "start": "1538000",
    "end": "1803000"
  },
  {
    "text": "manage to catch us on but if you have questions in the room let's go it's",
    "start": "1541720",
    "end": "1547180"
  },
  {
    "text": "gonna raise your hand and I'll run the mic around and you can ask your question",
    "start": "1547180",
    "end": "1552690"
  },
  {
    "text": "we have one over here on the left",
    "start": "1552690",
    "end": "1556799"
  },
  {
    "text": "different left hey thank you for the",
    "start": "1560500",
    "end": "1566210"
  },
  {
    "text": "presentation I was wondering I use openshift in production at my current job and I'm on currently on 3/11 and I'm",
    "start": "1566210",
    "end": "1573620"
  },
  {
    "text": "moving over to Forex what are the sni choices that that red rat had has made",
    "start": "1573620",
    "end": "1580220"
  },
  {
    "text": "in forex and you know what are the reasons why and how does that kind of",
    "start": "1580220",
    "end": "1585679"
  },
  {
    "text": "support you know possibly chaining together multiple multiple see you nice",
    "start": "1585679",
    "end": "1592419"
  },
  {
    "text": "good question openshift supports",
    "start": "1592419",
    "end": "1598730"
  },
  {
    "text": "chaining together any basically a OpenShift ships with a default network plug in but you can change that network",
    "start": "1598730",
    "end": "1604250"
  },
  {
    "text": "plug in at install time in v4 and that's through the network operator so you can pick whichever C&I plug-in you want you",
    "start": "1604250",
    "end": "1610970"
  },
  {
    "text": "could pick the OpenShift default ones you could pick we've for example and you",
    "start": "1610970",
    "end": "1616220"
  },
  {
    "text": "can chain if you pick a different scene i plug in it's that C and I plug in ends",
    "start": "1616220",
    "end": "1623630"
  },
  {
    "text": "up writing out its config file and you can chain different plugins through that so it is really all driven through the",
    "start": "1623630",
    "end": "1629120"
  },
  {
    "text": "scene I config files does that answer the question yeah we had a we had a question over",
    "start": "1629120",
    "end": "1634850"
  },
  {
    "text": "here",
    "start": "1634850",
    "end": "1636880"
  },
  {
    "text": "hi my question is you mentioned you can",
    "start": "1646309",
    "end": "1652139"
  },
  {
    "text": "combine multiple CN eyes together I can",
    "start": "1652139",
    "end": "1658830"
  },
  {
    "text": "explain that piece a little bit more like what does actually that means and that check function that you talked",
    "start": "1658830",
    "end": "1665820"
  },
  {
    "text": "about okay well let's let's take those one at a time combining multiple plugins so",
    "start": "1665820",
    "end": "1673499"
  },
  {
    "text": "conceptually it's it's a chain so I",
    "start": "1673499",
    "end": "1679080"
  },
  {
    "text": "think I think Dan gave this example that",
    "start": "1679080",
    "end": "1684929"
  },
  {
    "text": "you might set up a bridge and then allocate an IP address and then maybe",
    "start": "1684929",
    "end": "1691919"
  },
  {
    "text": "set up a firewall rule and then you could what else could you set the MAC",
    "start": "1691919",
    "end": "1698639"
  },
  {
    "text": "address there's another option on the tuning plug-in which is to set the MTU",
    "start": "1698639",
    "end": "1704179"
  },
  {
    "text": "so those those could all actually be separate well there's at least three separate CNI plugins that I just",
    "start": "1704179",
    "end": "1710249"
  },
  {
    "text": "mentioned and they they basically just run one after another and each one modifies the network setup of whatever",
    "start": "1710249",
    "end": "1717360"
  },
  {
    "text": "the one before did so that's a chain for one network interface for one container",
    "start": "1717360",
    "end": "1726259"
  },
  {
    "text": "going through multiple plugins so you know it doesn't make sense to to do like",
    "start": "1726259",
    "end": "1731999"
  },
  {
    "text": "we've net followed by open shift or something like that they'll just fight you know they they you can't mix it's",
    "start": "1731999",
    "end": "1739470"
  },
  {
    "text": "not like making it is like making a cake right you know you can't you can't just",
    "start": "1739470",
    "end": "1745769"
  },
  {
    "text": "put everything in the cake but don't don't make up metaphors on the fly Brian",
    "start": "1745769",
    "end": "1753860"
  },
  {
    "text": "so yeah so so as long as the chain of",
    "start": "1754309",
    "end": "1759869"
  },
  {
    "text": "things mix makes some kind of sense you can chain together anyone's anyone's plugins and all of that is is in the",
    "start": "1759869",
    "end": "1766889"
  },
  {
    "text": "adjacent file that is is conceptually defined by the by the cluster admin I",
    "start": "1766889",
    "end": "1772470"
  },
  {
    "text": "say conceptually because you know different implementations will do that different ways and",
    "start": "1772470",
    "end": "1779100"
  },
  {
    "text": "most people are just not interested that is take the default but but that that jacent file lists out the all the",
    "start": "1779100",
    "end": "1786730"
  },
  {
    "text": "different plugins that are going to get called and any of the specific parameters that they need so that's does that help on that piece",
    "start": "1786730",
    "end": "1794530"
  },
  {
    "text": "on the multiple plugins and then your other question was check do you want to",
    "start": "1794530",
    "end": "1800260"
  },
  {
    "text": "take that sure you know like Brian said check is for making sure that the",
    "start": "1800260",
    "end": "1806140"
  },
  {
    "start": "1803000",
    "end": "2033000"
  },
  {
    "text": "containers networking is healthy after it has been set up and that is another",
    "start": "1806140",
    "end": "1813100"
  },
  {
    "text": "CNI verb it's kind of like a top-level verb along at with add del and version and what happens is the runtime will",
    "start": "1813100",
    "end": "1819910"
  },
  {
    "text": "call check and the Lib C&I component that the runtime usually depends on will pull the result from the add operation",
    "start": "1819910",
    "end": "1827800"
  },
  {
    "text": "out of a cache and pass that to the plugins as part of the check call so",
    "start": "1827800",
    "end": "1832840"
  },
  {
    "text": "that they actually know what they had set up the last time if they didn't cache that themselves so then what the",
    "start": "1832840",
    "end": "1838600"
  },
  {
    "text": "plug-in is supposed to do with the check verb is say does the state of the container match what was in the result",
    "start": "1838600",
    "end": "1845980"
  },
  {
    "text": "that I sent back to the runtime or it can do other things like you know try to",
    "start": "1845980",
    "end": "1851530"
  },
  {
    "text": "figure out if it's a complicated plugin maybe it's control plane is unhealthy because I can't talk to its you know",
    "start": "1851530",
    "end": "1857050"
  },
  {
    "text": "master service somewhere and if any of these things are not as the plugin expects then it should return an error",
    "start": "1857050",
    "end": "1864730"
  },
  {
    "text": "back to the runtime and then the runtime is supposed to do something intelligent with that error like kill the container",
    "start": "1864730",
    "end": "1870760"
  },
  {
    "text": "so that it can be restarted and become healthy so the run times responsibility is to periodically call check on some",
    "start": "1870760",
    "end": "1877720"
  },
  {
    "text": "you know defined interval just to kind of health check the containers networking set up and this is in",
    "start": "1877720",
    "end": "1883630"
  },
  {
    "text": "addition to whatever the runtime might do for you know higher-level health checks like making sure that the HTTP",
    "start": "1883630",
    "end": "1891040"
  },
  {
    "text": "service that the container provides is still doing what it expects the check is really kind of more at like the IP and",
    "start": "1891040",
    "end": "1897760"
  },
  {
    "text": "lower level does that explain it a little bit better",
    "start": "1897760",
    "end": "1902970"
  },
  {
    "text": "you shut out and I'll repeat it so the",
    "start": "1903559",
    "end": "1914550"
  },
  {
    "text": "question is does the chain have to follow a hierarchy and so it's linear",
    "start": "1914550",
    "end": "1919700"
  },
  {
    "text": "but it has to make some sense in that you know for instance if you're going to",
    "start": "1919700",
    "end": "1925170"
  },
  {
    "text": "set the MAC address up then then first you set the interface up then you set the MAC address so it's it's purely",
    "start": "1925170",
    "end": "1930900"
  },
  {
    "text": "linear but there has to make some sense in in the sort of logic of what you're",
    "start": "1930900",
    "end": "1937710"
  },
  {
    "text": "actually doing yeah so if you created an",
    "start": "1937710",
    "end": "1944820"
  },
  {
    "text": "interface set the IP address set the MAC address and set the far wall rule then",
    "start": "1944820",
    "end": "1950970"
  },
  {
    "text": "basically the last three of those could come in any order well actually yeah probably the firewall rule will come",
    "start": "1950970",
    "end": "1956490"
  },
  {
    "text": "after the IP address that's something that's a very good example of you know what makes sense the the far wall rule",
    "start": "1956490",
    "end": "1962550"
  },
  {
    "text": "is probably gonna need the IP address what appends how you do it but that's a",
    "start": "1962550",
    "end": "1967950"
  },
  {
    "text": "good example some combinations don't make sense what do the might yeah it's a",
    "start": "1967950",
    "end": "1979170"
  },
  {
    "text": "yep since you're executing multiple plugins is there a desired state validation at the end of executing all",
    "start": "1979170",
    "end": "1984450"
  },
  {
    "text": "the plugins sorry you're saying is there validation yet desert state that you want your network interface to be",
    "start": "1984450",
    "end": "1990690"
  },
  {
    "text": "because your experiment so many plugins well I mean that's what the the check",
    "start": "1990690",
    "end": "1996059"
  },
  {
    "text": "function will also call all the same plugins so yeah we we expect all of them",
    "start": "1996059",
    "end": "2001760"
  },
  {
    "text": "to validate as best they can is that what you're asking yeah yeah so the the add function will",
    "start": "2001760",
    "end": "2009590"
  },
  {
    "text": "go through every plug-in in turn the check function will go through every plug-in in turn and the the dowel",
    "start": "2009590",
    "end": "2015350"
  },
  {
    "text": "function which takes an interface away calls them in the reverse order which is",
    "start": "2015350",
    "end": "2021830"
  },
  {
    "text": "the smartest thing we could think of doing inversion will also call them all",
    "start": "2021830",
    "end": "2027260"
  },
  {
    "text": "in the order and then make sure that the intersection of all the reported versions of all the plugins in the chain",
    "start": "2027260",
    "end": "2033309"
  },
  {
    "text": "you know is some other than an empty set and at that point it's a valid configuration because",
    "start": "2033309",
    "end": "2038859"
  },
  {
    "text": "each plug-in in the chain has to support at least you know a version so that they",
    "start": "2038859",
    "end": "2043960"
  },
  {
    "text": "can all make sure that they're agreeing on what they the input that they get",
    "start": "2043960",
    "end": "2048989"
  },
  {
    "text": "Thanks what's a Rahman recommended way of ending Tracy transient errors in the",
    "start": "2053099",
    "end": "2059980"
  },
  {
    "text": "comment that implementation in a container plug-in should I just try to end all them myself or should I just",
    "start": "2059980",
    "end": "2065559"
  },
  {
    "text": "return an error and like the container right the runtime is gonna reshoot a call later um I mean I think the answer",
    "start": "2065559",
    "end": "2075128"
  },
  {
    "text": "there is kind of a mix you know for things that you think that your plugin",
    "start": "2075129",
    "end": "2080230"
  },
  {
    "text": "can handle fairly quickly I mean you don't necessarily want to block you know for like two minutes or something and",
    "start": "2080230",
    "end": "2085658"
  },
  {
    "text": "plug-in set up but you know if it's you know something that you think you can recover from fairly quickly or you think",
    "start": "2085659",
    "end": "2091779"
  },
  {
    "text": "there's a possibility of recovering from it's probably safe to do that in the plug-in but you know if it's something",
    "start": "2091779",
    "end": "2097750"
  },
  {
    "text": "like your control plane is not ready yet you know then you should probably just",
    "start": "2097750",
    "end": "2103869"
  },
  {
    "text": "return an error to the runtime and let the runtime decide when to restart you",
    "start": "2103869",
    "end": "2109000"
  },
  {
    "text": "know when to do like back off or something like that for restarting so I mean I think it's it's really a mix of",
    "start": "2109000",
    "end": "2115180"
  },
  {
    "text": "both anything else dad Brian no I think I'd agree with that and unfortunately I",
    "start": "2115180",
    "end": "2120250"
  },
  {
    "text": "think we're pretty much at time we could do one more sure one one last question",
    "start": "2120250",
    "end": "2128160"
  },
  {
    "text": "well we can take more questions in you know down the front or in the whole afterwards we've not exactly CNI so we",
    "start": "2128430",
    "end": "2138039"
  },
  {
    "text": "do use weave in our kubernetes clusters and we generate the config file using V",
    "start": "2138039",
    "end": "2143440"
  },
  {
    "text": "works like cloud free books so my question is like it's well documented that we won't work with kubernetes 1.4",
    "start": "2143440",
    "end": "2150279"
  },
  {
    "text": "or below but it's still anyway like going forward that we will stop working with prior versions of kubernetes or",
    "start": "2150279",
    "end": "2156220"
  },
  {
    "text": "what really defines that matrix",
    "start": "2156220",
    "end": "2161400"
  },
  {
    "text": "well yeah I mean I guess the sort of standard is to support the current",
    "start": "2163360",
    "end": "2169510"
  },
  {
    "text": "version and to older versions but we know that we know that people go back",
    "start": "2169510",
    "end": "2174760"
  },
  {
    "text": "into the deep history yeah I mean you know if you have very specific",
    "start": "2174760",
    "end": "2180400"
  },
  {
    "text": "requirements come come by the booth and we can we can try and help you out but",
    "start": "2180400",
    "end": "2185760"
  },
  {
    "text": "yeah generally things stop working because of new features and and they're",
    "start": "2185760",
    "end": "2191410"
  },
  {
    "text": "just not compatible with with old stuff but we certainly certainly would aim to do two versions back and usually much",
    "start": "2191410",
    "end": "2198130"
  },
  {
    "text": "more anyway thank you we're at time thank you [Applause]",
    "start": "2198130",
    "end": "2206489"
  }
]