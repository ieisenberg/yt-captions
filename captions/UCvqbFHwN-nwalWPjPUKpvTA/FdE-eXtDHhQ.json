[
  {
    "start": "0",
    "end": "86000"
  },
  {
    "text": "hi I'm Messam I've been working on gk",
    "start": "30",
    "end": "3680"
  },
  {
    "text": "kubernetes for the past two years now",
    "start": "3680",
    "end": "5970"
  },
  {
    "text": "and today we're gonna talk about each a",
    "start": "5970",
    "end": "8849"
  },
  {
    "text": "services during maintenance so what that",
    "start": "8849",
    "end": "10830"
  },
  {
    "text": "means is so I don't know if you've heard",
    "start": "10830",
    "end": "14580"
  },
  {
    "text": "about all the cool things that Clayton",
    "start": "14580",
    "end": "16800"
  },
  {
    "text": "and Kelsey have been talking about",
    "start": "16800",
    "end": "18119"
  },
  {
    "text": "infrastructure should be boring so why",
    "start": "18119",
    "end": "21119"
  },
  {
    "text": "should know what upgrades be any boring",
    "start": "21119",
    "end": "23760"
  },
  {
    "text": "or I should note it's not be boring so",
    "start": "23760",
    "end": "27439"
  },
  {
    "text": "that's let's make him boring stock",
    "start": "27439",
    "end": "30330"
  },
  {
    "text": "rather so maintenance happens we all",
    "start": "30330",
    "end": "33660"
  },
  {
    "text": "know that you know it just does there",
    "start": "33660",
    "end": "38040"
  },
  {
    "text": "are two primary things that we see in",
    "start": "38040",
    "end": "41070"
  },
  {
    "text": "maintenance involuntary disruptions and",
    "start": "41070",
    "end": "42960"
  },
  {
    "text": "wall introduce options involuntary are",
    "start": "42960",
    "end": "45780"
  },
  {
    "text": "unavoidable and under the de label like",
    "start": "45780",
    "end": "49739"
  },
  {
    "text": "disk failures kernel panics all of those",
    "start": "49739",
    "end": "52620"
  },
  {
    "text": "things happen network by sections happen",
    "start": "52620",
    "end": "54690"
  },
  {
    "text": "racks get on fire",
    "start": "54690",
    "end": "57329"
  },
  {
    "text": "cooling turns off fun stuff happens all",
    "start": "57329",
    "end": "60539"
  },
  {
    "text": "the time",
    "start": "60539",
    "end": "61559"
  },
  {
    "text": "wallet interceptions are more",
    "start": "61559",
    "end": "64710"
  },
  {
    "text": "interesting they have so if you have a",
    "start": "64710",
    "end": "66659"
  },
  {
    "text": "security patch then you need to do you",
    "start": "66659",
    "end": "68790"
  },
  {
    "text": "have node upgrades you have kubernetes",
    "start": "68790",
    "end": "71430"
  },
  {
    "text": "upgrades there multiple types of things",
    "start": "71430",
    "end": "73470"
  },
  {
    "text": "that you need to do to make sure that",
    "start": "73470",
    "end": "75360"
  },
  {
    "text": "you are not compromised or you're not",
    "start": "75360",
    "end": "78360"
  },
  {
    "text": "running a really old version and you're",
    "start": "78360",
    "end": "80369"
  },
  {
    "text": "not out of support so how do we do all",
    "start": "80369",
    "end": "83040"
  },
  {
    "text": "of that talk about that so the primary",
    "start": "83040",
    "end": "88590"
  },
  {
    "start": "86000",
    "end": "166000"
  },
  {
    "text": "concern where maintenance is that it's",
    "start": "88590",
    "end": "89909"
  },
  {
    "text": "fundamentally disruptive a you need to",
    "start": "89909",
    "end": "92610"
  },
  {
    "text": "replace a node to change the kernel for",
    "start": "92610",
    "end": "95040"
  },
  {
    "text": "example you need or something equivalent",
    "start": "95040",
    "end": "98360"
  },
  {
    "text": "they need to be either rebooted or",
    "start": "98360",
    "end": "100890"
  },
  {
    "text": "replaced and when you do that you",
    "start": "100890",
    "end": "103380"
  },
  {
    "text": "fundamentally take out capacity you need",
    "start": "103380",
    "end": "106020"
  },
  {
    "text": "to your pods are shuffled in how do you",
    "start": "106020",
    "end": "110939"
  },
  {
    "text": "prevent against making like all those",
    "start": "110939",
    "end": "114630"
  },
  {
    "text": "like when were close are shuffled you",
    "start": "114630",
    "end": "117270"
  },
  {
    "text": "need to make sure that your when your",
    "start": "117270",
    "end": "119130"
  },
  {
    "text": "pod is going down you need to be sure",
    "start": "119130",
    "end": "120719"
  },
  {
    "text": "that you fulfill any incoming requests",
    "start": "120719",
    "end": "122909"
  },
  {
    "text": "any requests that are already in flight",
    "start": "122909",
    "end": "124820"
  },
  {
    "text": "it could take an hour for you to fulfill",
    "start": "124820",
    "end": "128039"
  },
  {
    "text": "that request so you should be very",
    "start": "128039",
    "end": "130259"
  },
  {
    "text": "careful when taking down those spots",
    "start": "130259",
    "end": "132990"
  },
  {
    "text": "like you want to be sure that you have",
    "start": "132990",
    "end": "135270"
  },
  {
    "text": "enough capacity you don't have downtime",
    "start": "135270",
    "end": "136860"
  },
  {
    "text": "and you are not and the fun part begins",
    "start": "136860",
    "end": "142680"
  },
  {
    "text": "I don't know if you saw the Nordstrom",
    "start": "142680",
    "end": "144690"
  },
  {
    "text": "truck they talked about how you could",
    "start": "144690",
    "end": "147390"
  },
  {
    "text": "end up in a split brain mode and we're",
    "start": "147390",
    "end": "149520"
  },
  {
    "text": "at CD you have two different sets of at",
    "start": "149520",
    "end": "151890"
  },
  {
    "text": "CDs talking about doing different things",
    "start": "151890",
    "end": "154050"
  },
  {
    "text": "and they have different information",
    "start": "154050",
    "end": "156770"
  },
  {
    "text": "who's right who's wrong how do you you",
    "start": "156770",
    "end": "160170"
  },
  {
    "text": "don't want to be in that say that state",
    "start": "160170",
    "end": "161400"
  },
  {
    "text": "is very messy so so what are your",
    "start": "161400",
    "end": "167820"
  },
  {
    "start": "166000",
    "end": "293000"
  },
  {
    "text": "options for maintenance",
    "start": "167820",
    "end": "170120"
  },
  {
    "text": "you can accept downtime that is horrible",
    "start": "170120",
    "end": "176480"
  },
  {
    "text": "you don't want to say you don't wanna",
    "start": "176480",
    "end": "179160"
  },
  {
    "text": "tell you users hey we're doing a",
    "start": "179160",
    "end": "181110"
  },
  {
    "text": "maintenance event and we want you to",
    "start": "181110",
    "end": "182730"
  },
  {
    "text": "come back after an hour that's not okay",
    "start": "182730",
    "end": "185510"
  },
  {
    "text": "and it could also lead to under your",
    "start": "185510",
    "end": "188940"
  },
  {
    "text": "application or if you have a service",
    "start": "188940",
    "end": "191460"
  },
  {
    "text": "that's like a memory cache and you don't",
    "start": "191460",
    "end": "194250"
  },
  {
    "text": "flush it properly well you're gonna have",
    "start": "194250",
    "end": "197640"
  },
  {
    "text": "data loss you could be in where you were",
    "start": "197640",
    "end": "199800"
  },
  {
    "text": "to say for a long time and getting out",
    "start": "199800",
    "end": "202230"
  },
  {
    "text": "of that is gonna be costly another",
    "start": "202230",
    "end": "205560"
  },
  {
    "text": "approach that you can take is you can",
    "start": "205560",
    "end": "207150"
  },
  {
    "text": "have a completely replicated cluster",
    "start": "207150",
    "end": "209700"
  },
  {
    "text": "which is a snap to failover and as soon",
    "start": "209700",
    "end": "212430"
  },
  {
    "text": "as something goes wrong you need to move",
    "start": "212430",
    "end": "215100"
  },
  {
    "text": "on to that but that takes human effort",
    "start": "215100",
    "end": "217230"
  },
  {
    "text": "that takes time and it's not a",
    "start": "217230",
    "end": "220110"
  },
  {
    "text": "straightforward Federation or multi",
    "start": "220110",
    "end": "222480"
  },
  {
    "text": "cluster will make it better but it's",
    "start": "222480",
    "end": "224520"
  },
  {
    "text": "still fundamentally hard at Google what",
    "start": "224520",
    "end": "229440"
  },
  {
    "text": "we do is we say we should write",
    "start": "229440",
    "end": "231000"
  },
  {
    "text": "applications that are maintenance all",
    "start": "231000",
    "end": "233160"
  },
  {
    "text": "right the maintenance will happen like I",
    "start": "233160",
    "end": "236190"
  },
  {
    "text": "said and what you need you should just",
    "start": "236190",
    "end": "240630"
  },
  {
    "text": "be prepared however it does obviously",
    "start": "240630",
    "end": "245130"
  },
  {
    "text": "come with extra maintenance cost extra",
    "start": "245130",
    "end": "247470"
  },
  {
    "text": "developer cost because you need to think",
    "start": "247470",
    "end": "249660"
  },
  {
    "text": "about all the different failure",
    "start": "249660",
    "end": "250710"
  },
  {
    "text": "scenarios what happens if you're",
    "start": "250710",
    "end": "253050"
  },
  {
    "text": "fulfilling your request and you crashed",
    "start": "253050",
    "end": "254550"
  },
  {
    "text": "and all that and just like writing a",
    "start": "254550",
    "end": "257579"
  },
  {
    "text": "distributed application you should also",
    "start": "257580",
    "end": "258870"
  },
  {
    "text": "realize that you're running on",
    "start": "258870",
    "end": "259739"
  },
  {
    "text": "distributed infrastructure that means",
    "start": "259739",
    "end": "260910"
  },
  {
    "text": "the same principles that apply here",
    "start": "260910",
    "end": "262980"
  },
  {
    "text": "applications also apply to the",
    "start": "262980",
    "end": "264000"
  },
  {
    "text": "infrastructure",
    "start": "264000",
    "end": "264550"
  },
  {
    "text": "that things will go down things will so",
    "start": "264550",
    "end": "270340"
  },
  {
    "text": "if you go with a brooch three you can",
    "start": "270340",
    "end": "273009"
  },
  {
    "text": "build more automation you can have",
    "start": "273009",
    "end": "275590"
  },
  {
    "text": "things automatically move across you",
    "start": "275590",
    "end": "279250"
  },
  {
    "text": "nodes or across resources and the great",
    "start": "279250",
    "end": "282310"
  },
  {
    "text": "thing about that is this kubernetes is",
    "start": "282310",
    "end": "283750"
  },
  {
    "text": "built for that that's why you should",
    "start": "283750",
    "end": "285879"
  },
  {
    "text": "it's great that you're here and let's",
    "start": "285879",
    "end": "288639"
  },
  {
    "text": "talk about how we can make this better",
    "start": "288639",
    "end": "290199"
  },
  {
    "text": "so with that I'm gonna introduce Eric",
    "start": "290199",
    "end": "295870"
  },
  {
    "start": "293000",
    "end": "435000"
  },
  {
    "text": "eric has been working on the app work",
    "start": "295870",
    "end": "297819"
  },
  {
    "text": "roads and he has a lot of experience in",
    "start": "297819",
    "end": "301240"
  },
  {
    "text": "kubernetes he's been working on a BGA",
    "start": "301240",
    "end": "302889"
  },
  {
    "text": "31.0 actually",
    "start": "302889",
    "end": "304449"
  },
  {
    "text": "so thanks possum so I'm going to if you",
    "start": "304449",
    "end": "314650"
  },
  {
    "text": "have decided you want to build",
    "start": "314650",
    "end": "320830"
  },
  {
    "text": "maintenance tolerance applications the",
    "start": "320830",
    "end": "323349"
  },
  {
    "text": "kubernetes you a number of different",
    "start": "323349",
    "end": "325180"
  },
  {
    "text": "tools and our underlying philosophy is",
    "start": "325180",
    "end": "328440"
  },
  {
    "text": "of so there's two different boxes of",
    "start": "328440",
    "end": "333610"
  },
  {
    "text": "tools one is for application owners and",
    "start": "333610",
    "end": "335620"
  },
  {
    "text": "one is for cluster owners and the reason",
    "start": "335620",
    "end": "337659"
  },
  {
    "text": "we think about splitting the roles in",
    "start": "337659",
    "end": "340960"
  },
  {
    "text": "the cluster into two parts is to allow",
    "start": "340960",
    "end": "344969"
  },
  {
    "text": "two things one is if you have many",
    "start": "344969",
    "end": "348219"
  },
  {
    "text": "different teams to point microservices",
    "start": "348219",
    "end": "349870"
  },
  {
    "text": "into a single cluster it's not not",
    "start": "349870",
    "end": "351789"
  },
  {
    "text": "always practical for the it's not always",
    "start": "351789",
    "end": "354550"
  },
  {
    "text": "practical for the cluster operator to",
    "start": "354550",
    "end": "356169"
  },
  {
    "text": "understand all of them and if you want",
    "start": "356169",
    "end": "358479"
  },
  {
    "text": "to automate cluster operations such as",
    "start": "358479",
    "end": "361659"
  },
  {
    "text": "gke is increasingly doing then you need",
    "start": "361659",
    "end": "364779"
  },
  {
    "text": "to have a clear contract between cluster",
    "start": "364779",
    "end": "368650"
  },
  {
    "text": "operators and application owners",
    "start": "368650",
    "end": "370469"
  },
  {
    "text": "application owners understand what the",
    "start": "370469",
    "end": "372580"
  },
  {
    "text": "availability model quorum whatever the",
    "start": "372580",
    "end": "375490"
  },
  {
    "text": "requirements are how long it takes",
    "start": "375490",
    "end": "377020"
  },
  {
    "text": "things to drain whereas the cluster",
    "start": "377020",
    "end": "378639"
  },
  {
    "text": "operators needs to understand these",
    "start": "378639",
    "end": "379960"
  },
  {
    "text": "things in the abstract so the",
    "start": "379960",
    "end": "381969"
  },
  {
    "text": "application owners tools are graceful",
    "start": "381969",
    "end": "384039"
  },
  {
    "text": "termination which I want to encourage",
    "start": "384039",
    "end": "385509"
  },
  {
    "text": "everyone to understand and use if you",
    "start": "385509",
    "end": "387789"
  },
  {
    "text": "haven't used it before",
    "start": "387789",
    "end": "388840"
  },
  {
    "text": "and a graceful termination says when you",
    "start": "388840",
    "end": "392349"
  },
  {
    "text": "says to the person who is doing",
    "start": "392349",
    "end": "394270"
  },
  {
    "text": "maintenance be patient with map",
    "start": "394270",
    "end": "396750"
  },
  {
    "text": "here's how patient you have to be let me",
    "start": "396750",
    "end": "398879"
  },
  {
    "text": "know when you're gonna when you're gonna",
    "start": "398879",
    "end": "401219"
  },
  {
    "text": "turn me off it gives you a chance to let",
    "start": "401219",
    "end": "402990"
  },
  {
    "text": "request complete and it gives you time",
    "start": "402990",
    "end": "404759"
  },
  {
    "text": "to flush or commit state you know to a",
    "start": "404759",
    "end": "407009"
  },
  {
    "text": "local disc or the remote store now the",
    "start": "407009",
    "end": "409289"
  },
  {
    "text": "pro move is to use pod disruption",
    "start": "409289",
    "end": "411659"
  },
  {
    "text": "budgets which we'll also talk about in",
    "start": "411659",
    "end": "413250"
  },
  {
    "text": "demo here today and pod disruption",
    "start": "413250",
    "end": "415560"
  },
  {
    "text": "budgets allow you to say not only be",
    "start": "415560",
    "end": "417180"
  },
  {
    "text": "patient but be careful don't take too",
    "start": "417180",
    "end": "419759"
  },
  {
    "text": "many in my instances down at once this",
    "start": "419759",
    "end": "422099"
  },
  {
    "text": "prevents loss of quorum which causes",
    "start": "422099",
    "end": "423960"
  },
  {
    "text": "unavailability and it can prevent losing",
    "start": "423960",
    "end": "426150"
  },
  {
    "text": "all your replicas of a state store",
    "start": "426150",
    "end": "428250"
  },
  {
    "text": "before they can flush state which could",
    "start": "428250",
    "end": "430949"
  },
  {
    "text": "cause under ability for lack of a better",
    "start": "430949",
    "end": "433529"
  },
  {
    "text": "word so graceful termination I'll go",
    "start": "433529",
    "end": "438300"
  },
  {
    "start": "435000",
    "end": "529000"
  },
  {
    "text": "through the timeline of what happens so",
    "start": "438300",
    "end": "440009"
  },
  {
    "text": "if the user controller deletes a pod by",
    "start": "440009",
    "end": "442529"
  },
  {
    "text": "the REST API anytime you want to like",
    "start": "442529",
    "end": "445409"
  },
  {
    "text": "scale down you say delete something",
    "start": "445409",
    "end": "448039"
  },
  {
    "text": "you're rolling out a new thing that's",
    "start": "448039",
    "end": "450120"
  },
  {
    "text": "all doing a pod delete because pods",
    "start": "450120",
    "end": "451830"
  },
  {
    "text": "don't really get",
    "start": "451830",
    "end": "454139"
  },
  {
    "text": "modified they just get deleted it",
    "start": "454139",
    "end": "457860"
  },
  {
    "text": "doesn't delete from the REST API when",
    "start": "457860",
    "end": "459449"
  },
  {
    "text": "you delete it it just gets a deletion",
    "start": "459449",
    "end": "461219"
  },
  {
    "text": "time stamp set in the metadata header so",
    "start": "461219",
    "end": "463830"
  },
  {
    "text": "then a bunch of things in kubernetes are",
    "start": "463830",
    "end": "465240"
  },
  {
    "text": "gonna notice that it's pending to delete",
    "start": "465240",
    "end": "467460"
  },
  {
    "text": "Kubla is gonna send a signal under pre",
    "start": "467460",
    "end": "470400"
  },
  {
    "text": "stop handlers if you have any for your",
    "start": "470400",
    "end": "471930"
  },
  {
    "text": "pod the endpoints didn't get removed",
    "start": "471930",
    "end": "473940"
  },
  {
    "text": "from the service and then you're gonna",
    "start": "473940",
    "end": "475830"
  },
  {
    "text": "stop load-balancing to that instance but",
    "start": "475830",
    "end": "477900"
  },
  {
    "text": "it's not going to get it killed yet the",
    "start": "477900",
    "end": "479669"
  },
  {
    "text": "positive gate reporter is not ready so",
    "start": "479669",
    "end": "481319"
  },
  {
    "text": "you can see that in your you eyes but",
    "start": "481319",
    "end": "483779"
  },
  {
    "text": "the couplets gonna wait for a certain",
    "start": "483779",
    "end": "485069"
  },
  {
    "text": "amount of time the default is 30 seconds",
    "start": "485069",
    "end": "487259"
  },
  {
    "text": "but I would encourage you if you have",
    "start": "487259",
    "end": "488490"
  },
  {
    "text": "stateful applications to set a longer",
    "start": "488490",
    "end": "490439"
  },
  {
    "text": "pod spec termination grace period",
    "start": "490439",
    "end": "493139"
  },
  {
    "text": "seconds you can set that as long as you",
    "start": "493139",
    "end": "495120"
  },
  {
    "text": "want the couplet well after that time",
    "start": "495120",
    "end": "498569"
  },
  {
    "text": "period is exceeded it's gonna send us a",
    "start": "498569",
    "end": "500729"
  },
  {
    "text": "kill because it'll assume well maybe if",
    "start": "500729",
    "end": "502770"
  },
  {
    "text": "it's waited longer than it said it",
    "start": "502770",
    "end": "504150"
  },
  {
    "text": "needed that it must be wedged or if the",
    "start": "504150",
    "end": "507479"
  },
  {
    "text": "application exits sooner then you know",
    "start": "507479",
    "end": "511889"
  },
  {
    "text": "the couplets got immediately gonna clean",
    "start": "511889",
    "end": "514198"
  },
  {
    "text": "it up so when application is either",
    "start": "514199",
    "end": "515820"
  },
  {
    "text": "reach to the end of its period or it's",
    "start": "515820",
    "end": "517890"
  },
  {
    "text": "exited already the Akula is going to",
    "start": "517890",
    "end": "519839"
  },
  {
    "text": "clean up all its resources and then",
    "start": "519839",
    "end": "521518"
  },
  {
    "text": "which really make sure it's completely",
    "start": "521519",
    "end": "523320"
  },
  {
    "text": "dead and the last thing it's going to do",
    "start": "523320",
    "end": "525209"
  },
  {
    "text": "is delete it from the rest api",
    "start": "525209",
    "end": "529010"
  },
  {
    "start": "529000",
    "end": "594000"
  },
  {
    "text": "so like how should you as an application",
    "start": "529610",
    "end": "532680"
  },
  {
    "text": "owner understand this so you're gonna",
    "start": "532680",
    "end": "535560"
  },
  {
    "text": "want one option is to handle a sig term",
    "start": "535560",
    "end": "538680"
  },
  {
    "text": "or you can use a pre stop Handler if",
    "start": "538680",
    "end": "541620"
  },
  {
    "text": "your main image is like someone else",
    "start": "541620",
    "end": "543690"
  },
  {
    "text": "wrote it and they didn't think about",
    "start": "543690",
    "end": "545070"
  },
  {
    "text": "handling sig term you're gonna when you",
    "start": "545070",
    "end": "548550"
  },
  {
    "text": "get either the same term or the pre stop",
    "start": "548550",
    "end": "550380"
  },
  {
    "text": "you're gonna want to flush any state to",
    "start": "550380",
    "end": "553050"
  },
  {
    "text": "the disk if you're relying on local",
    "start": "553050",
    "end": "554850"
  },
  {
    "text": "storage or if you have peers that you",
    "start": "554850",
    "end": "557760"
  },
  {
    "text": "need to like you know send shards to or",
    "start": "557760",
    "end": "560010"
  },
  {
    "text": "you know a decommission yourself we're",
    "start": "560010",
    "end": "562320"
  },
  {
    "text": "gonna want to do that and then you're",
    "start": "562320",
    "end": "564810"
  },
  {
    "text": "gonna want to finish outstanding request",
    "start": "564810",
    "end": "566310"
  },
  {
    "text": "and there's two ways you can do that one",
    "start": "566310",
    "end": "567990"
  },
  {
    "text": "is you don't do anything and you let",
    "start": "567990",
    "end": "569460"
  },
  {
    "text": "kubernetes service automatically remove",
    "start": "569460",
    "end": "572280"
  },
  {
    "text": "you from the endpoints so that new",
    "start": "572280",
    "end": "573510"
  },
  {
    "text": "requests don't come to you and you just",
    "start": "573510",
    "end": "575130"
  },
  {
    "text": "keep handling existing requests as you",
    "start": "575130",
    "end": "577380"
  },
  {
    "text": "normally would so just no action there's",
    "start": "577380",
    "end": "579420"
  },
  {
    "text": "a little bit of delay so if you want to",
    "start": "579420",
    "end": "580950"
  },
  {
    "text": "like be faster more agile then you can",
    "start": "580950",
    "end": "583260"
  },
  {
    "text": "actually start refusing new connections",
    "start": "583260",
    "end": "585960"
  },
  {
    "text": "immediately with something like HTTP to",
    "start": "585960",
    "end": "587940"
  },
  {
    "text": "go away but that's like that's for you",
    "start": "587940",
    "end": "592020"
  },
  {
    "text": "don't have to you don't have to do that",
    "start": "592020",
    "end": "593040"
  },
  {
    "text": "that's so the way that you so I would",
    "start": "593040",
    "end": "598830"
  },
  {
    "start": "594000",
    "end": "707000"
  },
  {
    "text": "definitely encourage everyone to look",
    "start": "598830",
    "end": "600750"
  },
  {
    "text": "into a graceful termination if you're",
    "start": "600750",
    "end": "603750"
  },
  {
    "text": "running stateful services on kubernetes",
    "start": "603750",
    "end": "605550"
  },
  {
    "text": "and you want to be able to run node",
    "start": "605550",
    "end": "607620"
  },
  {
    "text": "upgrades across those like some people I",
    "start": "607620",
    "end": "609270"
  },
  {
    "text": "talked to today are running at CD on",
    "start": "609270",
    "end": "611460"
  },
  {
    "text": "kubernetes and then they have all their",
    "start": "611460",
    "end": "613620"
  },
  {
    "text": "service depending on that you really",
    "start": "613620",
    "end": "615120"
  },
  {
    "text": "want to make sure you don't lose quorum",
    "start": "615120",
    "end": "616620"
  },
  {
    "text": "for at CD while you're updating the",
    "start": "616620",
    "end": "618330"
  },
  {
    "text": "nodes so for that I encourage you to",
    "start": "618330",
    "end": "620040"
  },
  {
    "text": "create a pod disruption budget object",
    "start": "620040",
    "end": "622710"
  },
  {
    "text": "for your EDD cluster so asset so this is",
    "start": "622710",
    "end": "626190"
  },
  {
    "text": "a long name I'd like to say PDB because",
    "start": "626190",
    "end": "628520"
  },
  {
    "text": "whoever thought of pod disruption",
    "start": "628520",
    "end": "630570"
  },
  {
    "text": "budgets didn't have RSI yes so it's a",
    "start": "630570",
    "end": "636420"
  },
  {
    "text": "set of replicated pods which are",
    "start": "636420",
    "end": "638460"
  },
  {
    "text": "selected by a label selector has a",
    "start": "638460",
    "end": "640020"
  },
  {
    "text": "budget which is how many can be down at",
    "start": "640020",
    "end": "642270"
  },
  {
    "text": "once new to disruptions",
    "start": "642270",
    "end": "644040"
  },
  {
    "text": "so stateful sets you can use the withing",
    "start": "644040",
    "end": "645990"
  },
  {
    "text": "use the deployments they don't have to",
    "start": "645990",
    "end": "647640"
  },
  {
    "text": "be stateful you can use with an operator",
    "start": "647640",
    "end": "649590"
  },
  {
    "text": "like Etsy the operator anything that you",
    "start": "649590",
    "end": "653190"
  },
  {
    "text": "can select as a group with labels and I",
    "start": "653190",
    "end": "655290"
  },
  {
    "text": "think we already talked about why you",
    "start": "655290",
    "end": "656790"
  },
  {
    "text": "would want to use these",
    "start": "656790",
    "end": "658250"
  },
  {
    "text": "Aurum ensuring a sufficient load for",
    "start": "658250",
    "end": "660980"
  },
  {
    "text": "like a stateless service so what what",
    "start": "660980",
    "end": "671090"
  },
  {
    "text": "types of deletion actions are going to",
    "start": "671090",
    "end": "672530"
  },
  {
    "text": "are going to respect this budget that",
    "start": "672530",
    "end": "674600"
  },
  {
    "text": "you've set which I'll talk about in a",
    "start": "674600",
    "end": "675890"
  },
  {
    "text": "second if you use the Kubik it'll drain",
    "start": "675890",
    "end": "678650"
  },
  {
    "text": "command or using GK node upgrades which",
    "start": "678650",
    "end": "681380"
  },
  {
    "text": "Moslems gonna demo later then it's gonna",
    "start": "681380",
    "end": "684590"
  },
  {
    "text": "respect the budget that you set",
    "start": "684590",
    "end": "686300"
  },
  {
    "text": "obviously if like APOD just is destroyed",
    "start": "686300",
    "end": "689600"
  },
  {
    "text": "because the machine is destroyed we",
    "start": "689600",
    "end": "690980"
  },
  {
    "text": "can't stop that",
    "start": "690980",
    "end": "692660"
  },
  {
    "text": "if someone directly deletes a pod we're",
    "start": "692660",
    "end": "694520"
  },
  {
    "text": "just gonna honor that immediately or if",
    "start": "694520",
    "end": "697850"
  },
  {
    "text": "you're rolling out a new version",
    "start": "697850",
    "end": "698960"
  },
  {
    "text": "concurrently with node upgrades which is",
    "start": "698960",
    "end": "700790"
  },
  {
    "text": "possible that's not going to count",
    "start": "700790",
    "end": "702500"
  },
  {
    "text": "against the budget because you're",
    "start": "702500",
    "end": "703610"
  },
  {
    "text": "because you've said you wanted to",
    "start": "703610",
    "end": "705110"
  },
  {
    "text": "upgrade so the way that you say that you",
    "start": "705110",
    "end": "711320"
  },
  {
    "start": "707000",
    "end": "804000"
  },
  {
    "text": "want to delete something carefully and",
    "start": "711320",
    "end": "713360"
  },
  {
    "text": "nicely is by using the eviction sub",
    "start": "713360",
    "end": "715910"
  },
  {
    "text": "resource we actually don't have a great",
    "start": "715910",
    "end": "717830"
  },
  {
    "text": "command to do that directly but what it",
    "start": "717830",
    "end": "719870"
  },
  {
    "text": "does it says if there's enough of these",
    "start": "719870",
    "end": "721910"
  },
  {
    "text": "pods in this group then delete it with",
    "start": "721910",
    "end": "724850"
  },
  {
    "text": "grace period otherwise it's gonna send",
    "start": "724850",
    "end": "726980"
  },
  {
    "text": "you back a 429 that says try again later",
    "start": "726980",
    "end": "729770"
  },
  {
    "text": "so normally you won't need to do this",
    "start": "729770",
    "end": "731390"
  },
  {
    "text": "manually but you can figure out if you",
    "start": "731390",
    "end": "733520"
  },
  {
    "text": "want let's see",
    "start": "733520",
    "end": "739030"
  },
  {
    "text": "normally going to be using it in",
    "start": "741460",
    "end": "743240"
  },
  {
    "text": "conjunction with a Kubik it'll train",
    "start": "743240",
    "end": "744950"
  },
  {
    "text": "command or GK node upgrades or some",
    "start": "744950",
    "end": "748130"
  },
  {
    "text": "other cloud provider if once they're",
    "start": "748130",
    "end": "749510"
  },
  {
    "text": "ready to implement the same node upgrade",
    "start": "749510",
    "end": "751490"
  },
  {
    "text": "flow so there's two ways you can define",
    "start": "751490",
    "end": "753500"
  },
  {
    "text": "it I like mineral so min available is",
    "start": "753500",
    "end": "763730"
  },
  {
    "text": "the first is good if you are using like",
    "start": "763730",
    "end": "770180"
  },
  {
    "text": "an operator which doesn't have a scale",
    "start": "770180",
    "end": "772670"
  },
  {
    "text": "summer source max unavailable is easier",
    "start": "772670",
    "end": "776030"
  },
  {
    "text": "for something that you're scaling up and",
    "start": "776030",
    "end": "777320"
  },
  {
    "text": "down frequently like a deployment",
    "start": "777320",
    "end": "778990"
  },
  {
    "text": "because it has a scale summer source and",
    "start": "778990",
    "end": "781460"
  },
  {
    "text": "you can so minute men available saying",
    "start": "781460",
    "end": "783830"
  },
  {
    "text": "like I need at least two out of three to",
    "start": "783830",
    "end": "785510"
  },
  {
    "text": "have quorum",
    "start": "785510",
    "end": "786200"
  },
  {
    "text": "max unavailable is saying like I can",
    "start": "786200",
    "end": "788910"
  },
  {
    "text": "handle 10% being down at any given time",
    "start": "788910",
    "end": "791610"
  },
  {
    "text": "because even though I'm scaling up and",
    "start": "791610",
    "end": "793140"
  },
  {
    "text": "down due to load I still have a 10%",
    "start": "793140",
    "end": "794970"
  },
  {
    "text": "buffer and I reserved that additional",
    "start": "794970",
    "end": "797580"
  },
  {
    "text": "10% for the possibility of losing",
    "start": "797580",
    "end": "801450"
  },
  {
    "text": "capacity and do a note due to a note",
    "start": "801450",
    "end": "803160"
  },
  {
    "text": "upgrade so Massa was gonna talk more",
    "start": "803160",
    "end": "806580"
  },
  {
    "start": "804000",
    "end": "962000"
  },
  {
    "text": "about the draining process and then do a",
    "start": "806580",
    "end": "808260"
  },
  {
    "text": "demo thanks thank you Eric so we're",
    "start": "808260",
    "end": "817200"
  },
  {
    "text": "gonna talk about draining a node one on",
    "start": "817200",
    "end": "819000"
  },
  {
    "text": "one it's essentially a rapper this is",
    "start": "819000",
    "end": "821520"
  },
  {
    "text": "essentially how q pedal drain works and",
    "start": "821520",
    "end": "823880"
  },
  {
    "text": "the first thing that you need to do",
    "start": "823880",
    "end": "826230"
  },
  {
    "text": "before you drain a note is coordinate",
    "start": "826230",
    "end": "827760"
  },
  {
    "text": "you really don't want anything being",
    "start": "827760",
    "end": "829440"
  },
  {
    "text": "scheduled on top of it when it's when",
    "start": "829440",
    "end": "832290"
  },
  {
    "text": "you're doing a practice rain if you get",
    "start": "832290",
    "end": "834150"
  },
  {
    "text": "more pods on it then it means that is",
    "start": "834150",
    "end": "835680"
  },
  {
    "text": "bad because you just started rain",
    "start": "835680",
    "end": "837090"
  },
  {
    "text": "anyways",
    "start": "837090",
    "end": "837990"
  },
  {
    "text": "so instead of deleting pods that are on",
    "start": "837990",
    "end": "841290"
  },
  {
    "text": "that note you should impact them using",
    "start": "841290",
    "end": "843630"
  },
  {
    "text": "the evictions of the users and when you",
    "start": "843630",
    "end": "846060"
  },
  {
    "text": "do that you you could block forever gke",
    "start": "846060",
    "end": "851780"
  },
  {
    "text": "kubernetes engine blocks it for one hour",
    "start": "851780",
    "end": "855260"
  },
  {
    "text": "before violating the pdb because at some",
    "start": "855260",
    "end": "858450"
  },
  {
    "text": "point we do need to move forward and we",
    "start": "858450",
    "end": "860280"
  },
  {
    "text": "recommend that cloud providers do",
    "start": "860280",
    "end": "862440"
  },
  {
    "text": "something similar maybe one hour maybe",
    "start": "862440",
    "end": "864390"
  },
  {
    "text": "or ARS whatever they prefer so another",
    "start": "864390",
    "end": "871170"
  },
  {
    "text": "point to make on that is what happens",
    "start": "871170",
    "end": "873470"
  },
  {
    "text": "the reason you want to violate the pdb",
    "start": "873470",
    "end": "877410"
  },
  {
    "text": "after one hour is the if your cubelet on",
    "start": "877410",
    "end": "879270"
  },
  {
    "text": "that node is dead if it's not respecting",
    "start": "879270",
    "end": "881280"
  },
  {
    "text": "anything if it's not there if it's not",
    "start": "881280",
    "end": "883290"
  },
  {
    "text": "present and it's not taking any actions",
    "start": "883290",
    "end": "885330"
  },
  {
    "text": "that you asked you to take then you're",
    "start": "885330",
    "end": "887190"
  },
  {
    "text": "essentially running a black box that you",
    "start": "887190",
    "end": "889710"
  },
  {
    "text": "know is not performing so in that",
    "start": "889710",
    "end": "892500"
  },
  {
    "text": "scenario we do want to move forward at",
    "start": "892500",
    "end": "894120"
  },
  {
    "text": "some point we want to wait for all the",
    "start": "894120",
    "end": "900630"
  },
  {
    "text": "parts to terminate by the grace period",
    "start": "900630",
    "end": "903030"
  },
  {
    "text": "so let's say if you have a pod that",
    "start": "903030",
    "end": "904830"
  },
  {
    "text": "takes 30 minutes you determined that's",
    "start": "904830",
    "end": "906750"
  },
  {
    "text": "fine",
    "start": "906750",
    "end": "907230"
  },
  {
    "text": "but if it takes six hours your cloud",
    "start": "907230",
    "end": "910260"
  },
  {
    "text": "provider might might not be fine with",
    "start": "910260",
    "end": "911760"
  },
  {
    "text": "that so on GK we cap this at one hour if",
    "start": "911760",
    "end": "914790"
  },
  {
    "text": "you have any concerns please let us know",
    "start": "914790",
    "end": "916620"
  },
  {
    "text": "and we will retweet that and so it's per",
    "start": "916620",
    "end": "921930"
  },
  {
    "text": "not burnout so if you have five pods",
    "start": "921930",
    "end": "924990"
  },
  {
    "text": "which have a PDB associated and you can",
    "start": "924990",
    "end": "927720"
  },
  {
    "text": "only take down two at a time so it'll be",
    "start": "927720",
    "end": "929760"
  },
  {
    "text": "about two a three hours total or four",
    "start": "929760",
    "end": "932220"
  },
  {
    "text": "pods if you have so yeah oh and you",
    "start": "932220",
    "end": "943140"
  },
  {
    "text": "should because kubernetes is a",
    "start": "943140",
    "end": "944940"
  },
  {
    "text": "distributed model and there's so many",
    "start": "944940",
    "end": "946140"
  },
  {
    "text": "actress playing on the same node or the",
    "start": "946140",
    "end": "948570"
  },
  {
    "text": "same objects you should be very careful",
    "start": "948570",
    "end": "950700"
  },
  {
    "text": "when you after you've drained it drained",
    "start": "950700",
    "end": "953910"
  },
  {
    "text": "it out you should go back and check that",
    "start": "953910",
    "end": "955440"
  },
  {
    "text": "it's actually properly data trained if",
    "start": "955440",
    "end": "957270"
  },
  {
    "text": "not you should repeat everything again",
    "start": "957270",
    "end": "959149"
  },
  {
    "text": "otherwise you don't know what's going so",
    "start": "959149",
    "end": "963360"
  },
  {
    "start": "962000",
    "end": "1277000"
  },
  {
    "text": "with that I'm gonna show how that",
    "start": "963360",
    "end": "967680"
  },
  {
    "text": "actually looks like so this is the",
    "start": "967680",
    "end": "970890"
  },
  {
    "text": "Cassandra Shaiful set and a web server",
    "start": "970890",
    "end": "974040"
  },
  {
    "text": "deployment both had three replicas pdbs",
    "start": "974040",
    "end": "977010"
  },
  {
    "text": "with max unavailable is set to one on",
    "start": "977010",
    "end": "979440"
  },
  {
    "text": "both of them so I don't want to take",
    "start": "979440",
    "end": "981330"
  },
  {
    "text": "down more than 33% of capacity from",
    "start": "981330",
    "end": "983610"
  },
  {
    "text": "either my standard workloads or my web",
    "start": "983610",
    "end": "986520"
  },
  {
    "text": "servers okay so that's the controller",
    "start": "986520",
    "end": "993750"
  },
  {
    "text": "which starts doing the eviction first is",
    "start": "993750",
    "end": "999000"
  },
  {
    "text": "going to set it to on schedule and then",
    "start": "999000",
    "end": "1000620"
  },
  {
    "text": "it's gonna start training start evicting",
    "start": "1000620",
    "end": "1002600"
  },
  {
    "text": "pods",
    "start": "1002600",
    "end": "1003010"
  },
  {
    "text": "so that's evicting acting over there as",
    "start": "1003010",
    "end": "1008150"
  },
  {
    "text": "you can see we don't have any",
    "start": "1008150",
    "end": "1010100"
  },
  {
    "text": "disruptions left we have no way we can",
    "start": "1010100",
    "end": "1012980"
  },
  {
    "text": "move over right now what will happen is",
    "start": "1012980",
    "end": "1015410"
  },
  {
    "text": "that the API server will reject a",
    "start": "1015410",
    "end": "1017180"
  },
  {
    "text": "request it'll say that no I'm not going",
    "start": "1017180",
    "end": "1018980"
  },
  {
    "text": "to allow you to move forward at that",
    "start": "1018980",
    "end": "1021440"
  },
  {
    "text": "point the cloud provider is supposed to",
    "start": "1021440",
    "end": "1023330"
  },
  {
    "text": "back off and wait for it to or it can",
    "start": "1023330",
    "end": "1026808"
  },
  {
    "text": "keep you trying after every few seconds",
    "start": "1026809",
    "end": "1028670"
  },
  {
    "text": "or whatever until all the pods are",
    "start": "1028670",
    "end": "1031308"
  },
  {
    "text": "replicated so one thing to note over",
    "start": "1031309",
    "end": "1033199"
  },
  {
    "text": "here is in a deployment your web server",
    "start": "1033199",
    "end": "1037540"
  },
  {
    "text": "yep a new pod for the web server will",
    "start": "1037540",
    "end": "1041000"
  },
  {
    "text": "show up can show up even prior to your",
    "start": "1041000",
    "end": "1044800"
  },
  {
    "text": "victory pod terminating that is e",
    "start": "1044800",
    "end": "1048830"
  },
  {
    "text": "because that does not happen in a safe",
    "start": "1048830",
    "end": "1050630"
  },
  {
    "text": "whole set what happens in a stateful set",
    "start": "1050630",
    "end": "1053210"
  },
  {
    "text": "is that until this",
    "start": "1053210",
    "end": "1055180"
  },
  {
    "text": "replica goes down completely the other",
    "start": "1055180",
    "end": "1058090"
  },
  {
    "text": "one won't show up and what's not shown",
    "start": "1058090",
    "end": "1060640"
  },
  {
    "text": "over here is that it will come up with",
    "start": "1060640",
    "end": "1062680"
  },
  {
    "text": "the same identity so if it was Cassandra",
    "start": "1062680",
    "end": "1064240"
  },
  {
    "text": "zero it will show up it's Cassandra zero",
    "start": "1064240",
    "end": "1065950"
  },
  {
    "text": "again and now if you do in effect it'll",
    "start": "1065950",
    "end": "1071440"
  },
  {
    "text": "succeed and it'll get reschedule and one",
    "start": "1071440",
    "end": "1075700"
  },
  {
    "text": "thing to note is at this point it is",
    "start": "1075700",
    "end": "1077770"
  },
  {
    "text": "still not safe to delete the note object",
    "start": "1077770",
    "end": "1080290"
  },
  {
    "text": "from kubernetes you should never delete",
    "start": "1080290",
    "end": "1082300"
  },
  {
    "text": "the node object and that the node",
    "start": "1082300",
    "end": "1084100"
  },
  {
    "text": "controller delete it at least on GC",
    "start": "1084100",
    "end": "1085720"
  },
  {
    "text": "that's what happens I'm not sure if",
    "start": "1085720",
    "end": "1087610"
  },
  {
    "text": "other cloud providers use something",
    "start": "1087610",
    "end": "1089710"
  },
  {
    "text": "similar the reason is you actually want",
    "start": "1089710",
    "end": "1091600"
  },
  {
    "text": "to make sure that the node has left the",
    "start": "1091600",
    "end": "1093670"
  },
  {
    "text": "network is no longer active before you",
    "start": "1093670",
    "end": "1096190"
  },
  {
    "text": "delete it",
    "start": "1096190",
    "end": "1096670"
  },
  {
    "text": "so you didn't like you should check that",
    "start": "1096670",
    "end": "1099130"
  },
  {
    "text": "against a cloud provider if they know it",
    "start": "1099130",
    "end": "1100570"
  },
  {
    "text": "still exists yeah that's trained and you",
    "start": "1100570",
    "end": "1106810"
  },
  {
    "text": "can see that we're we're fine so with",
    "start": "1106810",
    "end": "1110620"
  },
  {
    "text": "that I'm gonna do a short demo of how it",
    "start": "1110620",
    "end": "1115720"
  },
  {
    "text": "should how we should do these things and",
    "start": "1115720",
    "end": "1119080"
  },
  {
    "text": "that is I have a recorded demo because",
    "start": "1119080",
    "end": "1126460"
  },
  {
    "text": "no trains do take a long time",
    "start": "1126460",
    "end": "1130559"
  },
  {
    "text": "so just so that I am right let me tell",
    "start": "1136180",
    "end": "1141140"
  },
  {
    "text": "you what the setup looks like so it is a",
    "start": "1141140",
    "end": "1146900"
  },
  {
    "text": "cassandra disdainful set on this demo",
    "start": "1146900",
    "end": "1148760"
  },
  {
    "text": "it's a it has five replicas it has a PD",
    "start": "1148760",
    "end": "1151700"
  },
  {
    "text": "reset for max and available one so you",
    "start": "1151700",
    "end": "1153290"
  },
  {
    "text": "can I can only take it on order play at",
    "start": "1153290",
    "end": "1154580"
  },
  {
    "text": "a time",
    "start": "1154580",
    "end": "1155960"
  },
  {
    "text": "it has a simple replication strategy",
    "start": "1155960",
    "end": "1157880"
  },
  {
    "text": "across the in Cassandra it set to three",
    "start": "1157880",
    "end": "1161030"
  },
  {
    "text": "replicas that means each data is",
    "start": "1161030",
    "end": "1162830"
  },
  {
    "text": "replicated thrice the HTTP server is",
    "start": "1162830",
    "end": "1167510"
  },
  {
    "text": "just deployment which uses go sequel and",
    "start": "1167510",
    "end": "1170410"
  },
  {
    "text": "talks to persona directly it also has",
    "start": "1170410",
    "end": "1174080"
  },
  {
    "text": "five replicas and Matson will go set to",
    "start": "1174080",
    "end": "1175940"
  },
  {
    "text": "two it essentially means that I can say",
    "start": "1175940",
    "end": "1178880"
  },
  {
    "text": "I can reduce capacity of proof like 60%",
    "start": "1178880",
    "end": "1182470"
  },
  {
    "text": "or say down to 60% yeah and we do quorum",
    "start": "1182470",
    "end": "1187010"
  },
  {
    "text": "rights and single reads that I just want",
    "start": "1187010",
    "end": "1189470"
  },
  {
    "text": "to get the whatever the latest value was",
    "start": "1189470",
    "end": "1191120"
  },
  {
    "text": "and I want to go trim right and this is",
    "start": "1191120",
    "end": "1193460"
  },
  {
    "text": "a list it's not a get in the sense that",
    "start": "1193460",
    "end": "1196340"
  },
  {
    "text": "it's gonna be listening all resources",
    "start": "1196340",
    "end": "1199240"
  },
  {
    "text": "for that let me show you what it looks",
    "start": "1199240",
    "end": "1201890"
  },
  {
    "text": "like on gke so this is sped up so you",
    "start": "1201890",
    "end": "1211310"
  },
  {
    "text": "should that is it's hitting QPS at 700",
    "start": "1211310",
    "end": "1216170"
  },
  {
    "text": "or something or so and then we're",
    "start": "1216170",
    "end": "1220220"
  },
  {
    "text": "starting your train and as you can see",
    "start": "1220220",
    "end": "1222410"
  },
  {
    "text": "it'll remain steady it's boring you",
    "start": "1222410",
    "end": "1225200"
  },
  {
    "text": "don't have to care about this that's a",
    "start": "1225200",
    "end": "1227720"
  },
  {
    "text": "whole point",
    "start": "1227720",
    "end": "1229990"
  },
  {
    "text": "you're gonna see that the pods are",
    "start": "1232200",
    "end": "1233670"
  },
  {
    "text": "getting shuffled Cassandra just got",
    "start": "1233670",
    "end": "1235799"
  },
  {
    "text": "really scheduled the web server has not",
    "start": "1235799",
    "end": "1239910"
  },
  {
    "text": "been rescheduled yet and once it no it",
    "start": "1239910",
    "end": "1242460"
  },
  {
    "text": "comes back up in the second no it would",
    "start": "1242460",
    "end": "1244350"
  },
  {
    "text": "go offline or start and that's",
    "start": "1244350",
    "end": "1247470"
  },
  {
    "text": "scheduling and you can see Cassandra too",
    "start": "1247470",
    "end": "1249299"
  },
  {
    "text": "was rescheduled and all this is",
    "start": "1249299",
    "end": "1251880"
  },
  {
    "text": "happening and you have static ups and",
    "start": "1251880",
    "end": "1254309"
  },
  {
    "text": "everything works so with that I guess do",
    "start": "1254309",
    "end": "1262020"
  },
  {
    "text": "you have yeah you can watch the inter I",
    "start": "1262020",
    "end": "1263910"
  },
  {
    "text": "think it's boring",
    "start": "1263910",
    "end": "1267210"
  },
  {
    "text": "essentially questions yeah so just just",
    "start": "1267210",
    "end": "1283169"
  },
  {
    "start": "1277000",
    "end": "1482000"
  },
  {
    "text": "to emphasize you had a web server that",
    "start": "1283169",
    "end": "1286320"
  },
  {
    "text": "was talking to a database it was getting",
    "start": "1286320",
    "end": "1288090"
  },
  {
    "text": "some kind of queries per second and you",
    "start": "1288090",
    "end": "1290520"
  },
  {
    "text": "were rebooting all of your nodes while",
    "start": "1290520",
    "end": "1293520"
  },
  {
    "text": "that was happening",
    "start": "1293520",
    "end": "1294330"
  },
  {
    "text": "and it was not dropping any requests",
    "start": "1294330",
    "end": "1296040"
  },
  {
    "text": "yeah including the ones that had your",
    "start": "1296040",
    "end": "1299130"
  },
  {
    "text": "database on it nodes and still worked",
    "start": "1299130",
    "end": "1307040"
  },
  {
    "text": "[Applause]",
    "start": "1309270",
    "end": "1317130"
  },
  {
    "text": "your budget allowed it to instances down",
    "start": "1326600",
    "end": "1329610"
  },
  {
    "text": "and at the same time we might have some",
    "start": "1329610",
    "end": "1331620"
  },
  {
    "text": "unpredictable disasters so your cluster",
    "start": "1331620",
    "end": "1333809"
  },
  {
    "text": "would be screwed right not necessarily",
    "start": "1333809",
    "end": "1336990"
  },
  {
    "text": "so if you take down so the web server",
    "start": "1336990",
    "end": "1340500"
  },
  {
    "text": "can you can only take down one at a time",
    "start": "1340500",
    "end": "1342150"
  },
  {
    "text": "oh sorry two at a time that means at",
    "start": "1342150",
    "end": "1343830"
  },
  {
    "text": "worse even if a disaster happens you're",
    "start": "1343830",
    "end": "1346020"
  },
  {
    "text": "down to 40% capacity on the cassandra",
    "start": "1346020",
    "end": "1349020"
  },
  {
    "text": "the pdb sets you you can only take down",
    "start": "1349020",
    "end": "1351450"
  },
  {
    "text": "one at a time that means if a disaster",
    "start": "1351450",
    "end": "1352980"
  },
  {
    "text": "happens you still above quorum you still",
    "start": "1352980",
    "end": "1355049"
  },
  {
    "text": "like work is there any way to define a",
    "start": "1355049",
    "end": "1366030"
  },
  {
    "text": "default pot disruption budget like per",
    "start": "1366030",
    "end": "1368850"
  },
  {
    "text": "namespace or I'm not sure is it that",
    "start": "1368850",
    "end": "1372090"
  },
  {
    "text": "that is an open request and I will take",
    "start": "1372090",
    "end": "1375030"
  },
  {
    "text": "your comment as a plus-one",
    "start": "1375030",
    "end": "1376320"
  },
  {
    "text": "to get that done soon great all right",
    "start": "1376320",
    "end": "1381840"
  },
  {
    "text": "any more pluses for that Wow 1 2 3 4 5 6",
    "start": "1381840",
    "end": "1386940"
  },
  {
    "text": "7 8",
    "start": "1386940",
    "end": "1388440"
  },
  {
    "text": "so more than 10 people raised their hand",
    "start": "1388440",
    "end": "1390750"
  },
  {
    "text": "saying that they will use that if we do",
    "start": "1390750",
    "end": "1392220"
  },
  {
    "text": "that in a future release that is good",
    "start": "1392220",
    "end": "1394679"
  },
  {
    "text": "feedback thank you so fukube CTO drain",
    "start": "1394679",
    "end": "1398100"
  },
  {
    "text": "command if PD be seated does that",
    "start": "1398100",
    "end": "1400559"
  },
  {
    "text": "command will fail or does not block does",
    "start": "1400559",
    "end": "1404490"
  },
  {
    "text": "not violate the PDB at all it will keep",
    "start": "1404490",
    "end": "1407370"
  },
  {
    "text": "waiting forever if it could if it that's",
    "start": "1407370",
    "end": "1410250"
  },
  {
    "text": "what it says it will be blocked it would",
    "start": "1410250",
    "end": "1412409"
  },
  {
    "text": "be bought ok again yeah so if my",
    "start": "1412409",
    "end": "1416580"
  },
  {
    "text": "Cassandra caster was using the local",
    "start": "1416580",
    "end": "1418260"
  },
  {
    "text": "volume and then if you do these",
    "start": "1418260",
    "end": "1421110"
  },
  {
    "text": "operations then in the Cassandra node",
    "start": "1421110",
    "end": "1422789"
  },
  {
    "text": "will not be moved to a different host",
    "start": "1422789",
    "end": "1425150"
  },
  {
    "text": "it I'm not sure about that are you gonna",
    "start": "1425150",
    "end": "1428730"
  },
  {
    "text": "do it a disruptive move where the data",
    "start": "1428730",
    "end": "1432630"
  },
  {
    "text": "will be replicated again because I think",
    "start": "1432630",
    "end": "1434190"
  },
  {
    "text": "in this case you might be moving the",
    "start": "1434190",
    "end": "1435960"
  },
  {
    "text": "persistent volume actually I'm not oh",
    "start": "1435960",
    "end": "1438240"
  },
  {
    "text": "you're not yeah also in this case the",
    "start": "1438240",
    "end": "1439890"
  },
  {
    "text": "the new Cassano node comes up and then",
    "start": "1439890",
    "end": "1442049"
  },
  {
    "text": "do the replication yes it's decommission",
    "start": "1442049",
    "end": "1444809"
  },
  {
    "text": "and anyone comes up",
    "start": "1444809",
    "end": "1446219"
  },
  {
    "text": "okay again so there's two possibilities",
    "start": "1446219",
    "end": "1451029"
  },
  {
    "text": "one is that whatever you like you have",
    "start": "1451029",
    "end": "1453639"
  },
  {
    "text": "no storage migration other than",
    "start": "1453639",
    "end": "1455529"
  },
  {
    "text": "Cassandra in which case you would want",
    "start": "1455529",
    "end": "1457719"
  },
  {
    "text": "your Cassandra nodes to handle the",
    "start": "1457719",
    "end": "1461549"
  },
  {
    "text": "determination notice by so it does it",
    "start": "1461549",
    "end": "1466059"
  },
  {
    "text": "right now decommissioning themselves",
    "start": "1466059",
    "end": "1467529"
  },
  {
    "text": "yeah we do a brief stop hook which at",
    "start": "1467529",
    "end": "1469570"
  },
  {
    "text": "least in the demo it doesn't know to the",
    "start": "1469570",
    "end": "1471879"
  },
  {
    "text": "Commission oh I see and then it cleans",
    "start": "1471879",
    "end": "1475450"
  },
  {
    "text": "out the BBC and then moves on okay yeah",
    "start": "1475450",
    "end": "1479529"
  },
  {
    "text": "a little bit more about it yeah",
    "start": "1479529",
    "end": "1482249"
  },
  {
    "text": "so one issue we ran into when using",
    "start": "1482249",
    "end": "1484719"
  },
  {
    "text": "PDP's was that the readiness check",
    "start": "1484719",
    "end": "1486489"
  },
  {
    "text": "wasn't actually correct so in the case",
    "start": "1486489",
    "end": "1488619"
  },
  {
    "text": "where you might be in Cassandra even at",
    "start": "1488619",
    "end": "1490059"
  },
  {
    "text": "City right your second part could be",
    "start": "1490059",
    "end": "1492460"
  },
  {
    "text": "ready but it may not have to run quorum",
    "start": "1492460",
    "end": "1494169"
  },
  {
    "text": "yet so if you're that and then then it",
    "start": "1494169",
    "end": "1496899"
  },
  {
    "text": "will allow the PDP will actually satisfy",
    "start": "1496899",
    "end": "1498999"
  },
  {
    "text": "allow a third note to be taken down so",
    "start": "1498999",
    "end": "1501580"
  },
  {
    "text": "the issue here is if you rewrite",
    "start": "1501580",
    "end": "1504669"
  },
  {
    "text": "everybody in the shack to consider",
    "start": "1504669",
    "end": "1505899"
  },
  {
    "text": "quorum then you have a scale of issue",
    "start": "1505899",
    "end": "1507789"
  },
  {
    "text": "where when you cut when you're three",
    "start": "1507789",
    "end": "1509409"
  },
  {
    "text": "extenders coming up there first",
    "start": "1509409",
    "end": "1510999"
  },
  {
    "text": "Cassandra doesn't have quorum and you",
    "start": "1510999",
    "end": "1513309"
  },
  {
    "text": "can't scale up again so how do you like",
    "start": "1513309",
    "end": "1515109"
  },
  {
    "text": "balance this back it's like a very small",
    "start": "1515109",
    "end": "1517330"
  },
  {
    "text": "timeframe but when we have network",
    "start": "1517330",
    "end": "1519009"
  },
  {
    "text": "partitions for example you are no to",
    "start": "1519009",
    "end": "1521139"
  },
  {
    "text": "report ready but they don't have quorum",
    "start": "1521139",
    "end": "1523659"
  },
  {
    "text": "and then you will your PD view will",
    "start": "1523659",
    "end": "1525369"
  },
  {
    "text": "allow you to lose quorum on a subsequent",
    "start": "1525369",
    "end": "1527499"
  },
  {
    "text": "termination I didn't catch the part",
    "start": "1527499",
    "end": "1531580"
  },
  {
    "text": "about what happens if you account for",
    "start": "1531580",
    "end": "1534339"
  },
  {
    "text": "the read in account for quorum in the",
    "start": "1534339",
    "end": "1535869"
  },
  {
    "text": "readiness trap",
    "start": "1535869",
    "end": "1536589"
  },
  {
    "text": "sure so like they're 90 solution we do",
    "start": "1536589",
    "end": "1538479"
  },
  {
    "text": "site we just simply made the readiness",
    "start": "1538479",
    "end": "1539799"
  },
  {
    "text": "check we pour quorum instead of no",
    "start": "1539799",
    "end": "1541929"
  },
  {
    "text": "server health but then if the default",
    "start": "1541929",
    "end": "1544379"
  },
  {
    "text": "steeples our rollout scheme is that",
    "start": "1544379",
    "end": "1547029"
  },
  {
    "text": "yours",
    "start": "1547029",
    "end": "1547649"
  },
  {
    "text": "Cassandra 0 must be ready before I will",
    "start": "1547649",
    "end": "1550779"
  },
  {
    "text": "scale Cassandra one so you won't it",
    "start": "1550779",
    "end": "1553239"
  },
  {
    "text": "would it's actually block or well so I'd",
    "start": "1553239",
    "end": "1555070"
  },
  {
    "text": "say Cassandra is one of the trickier",
    "start": "1555070",
    "end": "1556779"
  },
  {
    "text": "applications to make work with stateful",
    "start": "1556779",
    "end": "1558460"
  },
  {
    "text": "sets I would probably write an operator",
    "start": "1558460",
    "end": "1560379"
  },
  {
    "text": "for Cassandra that and possibly have",
    "start": "1560379",
    "end": "1562899"
  },
  {
    "text": "like a site car that ran with the",
    "start": "1562899",
    "end": "1564759"
  },
  {
    "text": "Cassandra that like could detect from",
    "start": "1564759",
    "end": "1568299"
  },
  {
    "text": "the identity or communication with the",
    "start": "1568299",
    "end": "1570519"
  },
  {
    "text": "operator what state it was in",
    "start": "1570519",
    "end": "1572830"
  },
  {
    "text": "and if that's something how many people",
    "start": "1572830",
    "end": "1575350"
  },
  {
    "text": "would like the project to write a really",
    "start": "1575350",
    "end": "1577870"
  },
  {
    "text": "great Cassandra operator one two three",
    "start": "1577870",
    "end": "1580870"
  },
  {
    "text": "four five six seven eight nine 10 ish",
    "start": "1580870",
    "end": "1584860"
  },
  {
    "text": "people would would use one if we wrote",
    "start": "1584860",
    "end": "1586660"
  },
  {
    "text": "one alright that's good feedback Thanks",
    "start": "1586660",
    "end": "1588880"
  },
  {
    "text": "that's that's a good tricky corner case",
    "start": "1588880",
    "end": "1590800"
  },
  {
    "text": "thank you okay",
    "start": "1590800",
    "end": "1595540"
  },
  {
    "text": "any more questions thank you",
    "start": "1595540",
    "end": "1599880"
  },
  {
    "text": "[Applause]",
    "start": "1599880",
    "end": "1605349"
  }
]