[
  {
    "text": "hi good morning everyone um so yeah this is a long title because we wanted to cover a bunch of things um let's see how",
    "start": "480",
    "end": "7759"
  },
  {
    "text": "much we can um so this is I'm introducing the panel here I am amria",
    "start": "7759",
    "end": "13519"
  },
  {
    "text": "ganguli I am a an architect and a principal engineer at Intel's uh Network",
    "start": "13519",
    "end": "19080"
  },
  {
    "text": "and Edge group uh largely working on cloud native uh Technologies like Calico",
    "start": "19080",
    "end": "25199"
  },
  {
    "text": "Envoy and very recently we started working on sassy Solutions um in my",
    "start": "25199",
    "end": "30240"
  },
  {
    "text": "panel we have uh shini Adali he is uh the CTO of araka um and uh he has a",
    "start": "30240",
    "end": "39360"
  },
  {
    "text": "depth of experience as a fellow at free scale working on multiple Technologies",
    "start": "39360",
    "end": "45520"
  },
  {
    "text": "other places also an Envoy and Sassy being one of the core technologies that he brings in also have Ru sud who uh is",
    "start": "45520",
    "end": "54320"
  },
  {
    "text": "a distinguished engineer working at aryaka um she has more than 10 years of experience she has worked at Intel along",
    "start": "54320",
    "end": "60920"
  },
  {
    "text": "with us on openstack odl noas MCO and we have Jeff Shaw uh a key architect as",
    "start": "60920",
    "end": "68600"
  },
  {
    "text": "part of uh my team uh working at Intel on packet processing",
    "start": "68600",
    "end": "74479"
  },
  {
    "text": "Solutions so uh Welcome to our presentation on VPN concentrator and onvo Sassy proxy um as in the Monday",
    "start": "75840",
    "end": "83960"
  },
  {
    "text": "multitenant Edge uh we'll explore um sassy and ssse and the need need for a",
    "start": "83960",
    "end": "90360"
  },
  {
    "text": "proxy there uh why is it crucial more importantly Sassy has become uh",
    "start": "90360",
    "end": "95520"
  },
  {
    "text": "important since uh before covid just before covid when people started working",
    "start": "95520",
    "end": "100840"
  },
  {
    "text": "from home and it is still prevalent in many many companies where you need to",
    "start": "100840",
    "end": "105960"
  },
  {
    "text": "have tenant Frameworks and how does envoy uh fulfill that um that role of a",
    "start": "105960",
    "end": "113240"
  },
  {
    "text": "Sassi proxy why is it an optimal Choice uh and what kind of environments uh do",
    "start": "113240",
    "end": "118920"
  },
  {
    "text": "you use that VPN concentrators uh we'll cover a non",
    "start": "118920",
    "end": "124439"
  },
  {
    "text": "Linux VPN concentrator largely built with VPP and why is it important to have",
    "start": "124439",
    "end": "129440"
  },
  {
    "text": "single tunnel throughput uh performance within that uh specifically we'll cover",
    "start": "129440",
    "end": "135560"
  },
  {
    "text": "uh what kind of functionalities that you can extend beyond Ike V2 in IPC and uh",
    "start": "135560",
    "end": "143040"
  },
  {
    "text": "on top of that we'll provide some benchmarking data on Intel xon processor xon 4 to xon 6 we are launching Zeon six",
    "start": "143040",
    "end": "150319"
  },
  {
    "text": "pretty soon uh what kind of uh if you take any of those Solutions how would you uh set up a benchmark what kind of",
    "start": "150319",
    "end": "158239"
  },
  {
    "text": "uh data would you get how would you scale so as part of our presentation we have scaling we largely show how would",
    "start": "158239",
    "end": "164879"
  },
  {
    "text": "you scale from a infrastructure point of view and at the end we'll have a short demo and then a Q&A so I'd like to hand",
    "start": "164879",
    "end": "172680"
  },
  {
    "text": "over the next discussion to shini thank",
    "start": "172680",
    "end": "178080"
  },
  {
    "text": "you yeah um before we get into the type of changes we made to en proxy for sassy",
    "start": "178080",
    "end": "185080"
  },
  {
    "text": "but I just want to introduce what is sassy and SSC sassy and SS is a cloud",
    "start": "185080",
    "end": "190599"
  },
  {
    "text": "delivered network service right and it's a multi-tenant um for any Enterprise",
    "start": "190599",
    "end": "197360"
  },
  {
    "text": "typically you have distributed Workforce whether the branch offices or head offices data centers with applications",
    "start": "197360",
    "end": "204080"
  },
  {
    "text": "or remote users then they need to access some internet websites their own",
    "start": "204080",
    "end": "210280"
  },
  {
    "text": "Enterprise applications or it could be SAS applications so you need security between them that's what basically sasc",
    "start": "210280",
    "end": "218239"
  },
  {
    "text": "vendors do including",
    "start": "218239",
    "end": "221680"
  },
  {
    "text": "araka so these are the kind of a blocks of uh you know you can say network",
    "start": "223760",
    "end": "229519"
  },
  {
    "text": "security blocks uh you have uh uh s swg which is a secure web gate to protect uh",
    "start": "229519",
    "end": "236680"
  },
  {
    "text": "you know employee assets and users going from fishing sites then you have casby",
    "start": "236680",
    "end": "243000"
  },
  {
    "text": "this is to protect subscription you know the data in the SAS subscriptions and",
    "start": "243000",
    "end": "248599"
  },
  {
    "text": "then you have llm God rails to protect your prompts and responses going between",
    "start": "248599",
    "end": "254120"
  },
  {
    "text": "um you know clients and gen Services then you have ztna which I think our Cisco folks talked about it it's a",
    "start": "254120",
    "end": "261120"
  },
  {
    "text": "essentially to protect application assets right and then uh you also have NG firewall which is kind of a to detect",
    "start": "261120",
    "end": "269360"
  },
  {
    "text": "EXP ERS that are going to the applications right so intrusion detection prevention is one of the key",
    "start": "269360",
    "end": "275039"
  },
  {
    "text": "features there then you also need to have VPN",
    "start": "275039",
    "end": "280160"
  },
  {
    "text": "concentrator because for remote users to you know talk to uh this sassy SSC you",
    "start": "280160",
    "end": "286560"
  },
  {
    "text": "need some kind of a connectivity for remote users and that's where VPN con comes into",
    "start": "286560",
    "end": "292440"
  },
  {
    "text": "picture and Sassy also has a Stan component which I won't go through it because it's not relevant for this",
    "start": "292440",
    "end": "299039"
  },
  {
    "text": "discussion so if you look at the sassy SS the there",
    "start": "299039",
    "end": "305960"
  },
  {
    "text": "are set of security functions uh like it is a me you require uh uh I think our",
    "start": "305960",
    "end": "314000"
  },
  {
    "text": "Cisco folks also talked about context based access controls the context could",
    "start": "314000",
    "end": "319080"
  },
  {
    "text": "be user context with multiple JWT claims or it could be device posture or",
    "start": "319080",
    "end": "324199"
  },
  {
    "text": "combination of them and accessing different application assets or SAS assets or even uh websites right you",
    "start": "324199",
    "end": "331360"
  },
  {
    "text": "also need URL filtering and you need U um you know anti- malware anti fishing",
    "start": "331360",
    "end": "338880"
  },
  {
    "text": "checks uh the on the files being transferred or uploaded or downloaded uh",
    "start": "338880",
    "end": "344120"
  },
  {
    "text": "then of course you require llm firewall functionality uh to look at the prompts and responses to find out whether they",
    "start": "344120",
    "end": "350199"
  },
  {
    "text": "are safe or not whether they are basically have any uh malicious content all that stuff then of course you",
    "start": "350199",
    "end": "356840"
  },
  {
    "text": "require API based firewall which is required for ENT apps and SAS",
    "start": "356840",
    "end": "362560"
  },
  {
    "text": "apps so the requirement is that you know we know that 95 to 99% of the traffic is",
    "start": "362639",
    "end": "368919"
  },
  {
    "text": "encrypted hdps and if you want to do this kind of security analysis you need to basically do the SSL inspection right",
    "start": "368919",
    "end": "377520"
  },
  {
    "text": "I mean in case whether it is users are going to internet websites or the users are going to SAS applications or",
    "start": "377520",
    "end": "384120"
  },
  {
    "text": "Enterprise applications you need to do the SSL decryption that's how you can get the clear data to do this you know",
    "start": "384120",
    "end": "389880"
  },
  {
    "text": "security analysis right that means you need to terminate TCP terminate TLS then perform",
    "start": "389880",
    "end": "395680"
  },
  {
    "text": "security analysis then make new connection towards uh you know Upstream",
    "start": "395680",
    "end": "400880"
  },
  {
    "text": "services so for all that you require some proxy technology and many times",
    "start": "400880",
    "end": "406240"
  },
  {
    "text": "including araka we have our own proprietory proxies today uh but we are trying to move to onwi because of lots",
    "start": "406240",
    "end": "413440"
  },
  {
    "text": "of features that are already available which where we don't have to you know put a lot of effort so",
    "start": "413440",
    "end": "420520"
  },
  {
    "text": "but the important thing for sassy SS is that it has to support all kinds of proxy modes whether it is reverse proxy",
    "start": "420520",
    "end": "427800"
  },
  {
    "text": "mode transparent proxy mode and forward proxy mode all together at the same time",
    "start": "427800",
    "end": "433440"
  },
  {
    "text": "right that is very important and that's where we found Ono proxy to be um very",
    "start": "433440",
    "end": "439120"
  },
  {
    "text": "good for us right it it already has reverse proxy transpar proxy support and",
    "start": "439120",
    "end": "444560"
  },
  {
    "text": "it has somewhat good uh good enough forward proxy but we we enhanced it to",
    "start": "444560",
    "end": "450400"
  },
  {
    "text": "have more functionality in the forward proxy right then it it is",
    "start": "450400",
    "end": "455680"
  },
  {
    "text": "multi-threaded non-blocking almost lockless architecture which actually",
    "start": "455680",
    "end": "460720"
  },
  {
    "text": "enables us to you know scale with number of cores right performance and it has many HTP",
    "start": "460720",
    "end": "468120"
  },
  {
    "text": "protocols it has built-in 1.1 2.0 3.0 uh that comes very handy and ipv4 ipv",
    "start": "468120",
    "end": "475280"
  },
  {
    "text": "support uh vasm and the loua support though we don't use loua anywhere but we",
    "start": "475280",
    "end": "480520"
  },
  {
    "text": "are providing that option for our customers to you know deploy lvas script if they want to right and it's",
    "start": "480520",
    "end": "486960"
  },
  {
    "text": "extensible architecture I think we talked about in The Cisco guys talked about you can have a C++ filters you can",
    "start": "486960",
    "end": "493120"
  },
  {
    "text": "have vasm filters it's very extensible and it has built-in rback and W to",
    "start": "493120",
    "end": "498400"
  },
  {
    "text": "support right that that is very much required for us uh as part of ztna",
    "start": "498400",
    "end": "503479"
  },
  {
    "text": "feature at least but at the same time uh We've we know that you know proxy is not you know",
    "start": "503479",
    "end": "511800"
  },
  {
    "text": "is a good start but we needed to do a lot of enhancements to you know uh support our our features SSC so with",
    "start": "511800",
    "end": "519839"
  },
  {
    "text": "that I'll just hand it over to Ru she will talk about what kind of changes we made to onfe as a foundation and then of",
    "start": "519839",
    "end": "526440"
  },
  {
    "text": "course we developed many C++ filters for various security functions so I'm going",
    "start": "526440",
    "end": "531600"
  },
  {
    "text": "to hand it over to Ru thank",
    "start": "531600",
    "end": "535600"
  },
  {
    "text": "you thank you sh um so like how shy mentioned that um uh",
    "start": "537360",
    "end": "544640"
  },
  {
    "text": "you know we had enhanced uh sassy uh on for sassy in many ways so the first",
    "start": "544640",
    "end": "550160"
  },
  {
    "text": "thing that we did was for uh multi-tenancy So onway currently uh you",
    "start": "550160",
    "end": "555800"
  },
  {
    "text": "know does not support multi- tency and the recommended way to uh do multi-tenancy onvoy is to have multiple",
    "start": "555800",
    "end": "563640"
  },
  {
    "text": "onvo running because uh the configuration is only for one tenant uh",
    "start": "563640",
    "end": "569040"
  },
  {
    "text": "so so to uh overcome that uh we added configuration isolation where uh we can",
    "start": "569040",
    "end": "575240"
  },
  {
    "text": "have uh per tenant configuration and that configuration can be reloaded",
    "start": "575240",
    "end": "580880"
  },
  {
    "text": "independently for each tenant and for um uh you know for uh the you know where",
    "start": "580880",
    "end": "587920"
  },
  {
    "text": "the tenants can have overlapping IP addresses so we enhanced Envoy to have",
    "start": "587920",
    "end": "593360"
  },
  {
    "text": "vrf support where uh the traffic can be isolated based on vrf and the tenant",
    "start": "593360",
    "end": "599760"
  },
  {
    "text": "selection is done based on uh policy and uh the policy uh uses various uh Network",
    "start": "599760",
    "end": "606640"
  },
  {
    "text": "parameters like uh port numbers in forward proxy case or domain names or",
    "start": "606640",
    "end": "612959"
  },
  {
    "text": "the IP address and the port number on which the traffic is landing on the proxy uh so for the forward proxy uh",
    "start": "612959",
    "end": "620560"
  },
  {
    "text": "authentication we uh copied the uh uh Envoy code in around couple of years",
    "start": "620560",
    "end": "627160"
  },
  {
    "text": "back and at that time there was was a good support for um transparent and",
    "start": "627160",
    "end": "634320"
  },
  {
    "text": "reverse proxy but uh forward proxy we had to make some enhancements uh so",
    "start": "634320",
    "end": "639680"
  },
  {
    "text": "forward proxy is basically needed for ease of uh getting to the proxy from the",
    "start": "639680",
    "end": "644720"
  },
  {
    "text": "browser uh and we wanted to use single sign on uh feature so that whatever",
    "start": "644720",
    "end": "650399"
  },
  {
    "text": "credentials the tenants have logged in into their laptop uh they should be able",
    "start": "650399",
    "end": "655760"
  },
  {
    "text": "to use the same credentials for uh AU authenticating with the sassy so we use",
    "start": "655760",
    "end": "661639"
  },
  {
    "text": "Kos uh for that and we also have a username and password uh uh support for",
    "start": "661639",
    "end": "669079"
  },
  {
    "text": "forward proxy and um yeah and then uh shini",
    "start": "669079",
    "end": "674440"
  },
  {
    "text": "mentioned that how we have to inspect do TLS inspections of uh most of the use",
    "start": "674440",
    "end": "679600"
  },
  {
    "text": "cases for Envoy are as side car or front ending um uh applications but in our",
    "start": "679600",
    "end": "686800"
  },
  {
    "text": "case we wanted the internal connections going to internet also uh coming through",
    "start": "686800",
    "end": "693360"
  },
  {
    "text": "this proxy so we uh added uh the TLs um inspect like we added the mimic",
    "start": "693360",
    "end": "700360"
  },
  {
    "text": "generation based on the Enterprise CA into Envoy uh so the um o filter was",
    "start": "700360",
    "end": "707480"
  },
  {
    "text": "already there but it did not have multic client uh support so we added multi",
    "start": "707480",
    "end": "712639"
  },
  {
    "text": "client support where um multiple clients and um uh you know can be chosen based",
    "start": "712639",
    "end": "720240"
  },
  {
    "text": "on policy and uh you can register your client with client ID secret and the",
    "start": "720240",
    "end": "725600"
  },
  {
    "text": "claims are generated for the clients and enoy has like very good uh",
    "start": "725600",
    "end": "732399"
  },
  {
    "text": "policy framework right U what we had some requirements where we wanted the",
    "start": "732399",
    "end": "738360"
  },
  {
    "text": "framework to be more modular so that it can be used in different filters and we have a requirement of having many tables",
    "start": "738360",
    "end": "745800"
  },
  {
    "text": "uh lot of tables so for that we created like a library of the policy framework",
    "start": "745800",
    "end": "752160"
  },
  {
    "text": "uh existing policy framework so that it can be used across different uh",
    "start": "752160",
    "end": "757320"
  },
  {
    "text": "filters and um Envoy also um uh has this",
    "start": "757320",
    "end": "762959"
  },
  {
    "text": "um you know uh policy of enforcement where the deny",
    "start": "762959",
    "end": "769440"
  },
  {
    "text": "and the policies are are considered first and if any of those matches then",
    "start": "769440",
    "end": "775160"
  },
  {
    "text": "we go to the law policies uh so uh instead of that uh we also added support",
    "start": "775160",
    "end": "781040"
  },
  {
    "text": "for priority based policy evaluation um and um another feature we",
    "start": "781040",
    "end": "786720"
  },
  {
    "text": "added is uh policy chaining uh So currently the",
    "start": "786720",
    "end": "792160"
  },
  {
    "text": "configuration on the various listeners uh is has to be repeated but",
    "start": "792160",
    "end": "798760"
  },
  {
    "text": "uh in our use case many of the tenant traffic could be landing on different",
    "start": "798760",
    "end": "804480"
  },
  {
    "text": "ports uh and so what uh so to just to for saving on the space and uh memory",
    "start": "804480",
    "end": "812279"
  },
  {
    "text": "consumption we uh added support where you can reference to um add reference to",
    "start": "812279",
    "end": "821519"
  },
  {
    "text": "configuration uh from the",
    "start": "821519",
    "end": "825000"
  },
  {
    "text": "listeners uh so Envoy is the central piece for our uh sassy solution but to",
    "start": "827519",
    "end": "834399"
  },
  {
    "text": "make the complete solution uh we need uh few other components and this picture is kind of of showing our complete solution",
    "start": "834399",
    "end": "841920"
  },
  {
    "text": "uh so we have power DNS as an authoritative server so both most of these components we are using from open",
    "start": "841920",
    "end": "848079"
  },
  {
    "text": "source and um a strong San as our vpnc for terminating the VPN tunnels uh gole",
    "start": "848079",
    "end": "856759"
  },
  {
    "text": "we are using for web ification and for admin users for SSH and RDP and keylock",
    "start": "856759",
    "end": "863839"
  },
  {
    "text": "is acting as an IDP broker and connecting to the tenant um ID",
    "start": "863839",
    "end": "869800"
  },
  {
    "text": "APS uh so on uh so for this setup right kubernetes is a very good choice as in",
    "start": "869800",
    "end": "877880"
  },
  {
    "text": "kubernetes you can have horizontal Port scaling and um where we can uh scale out",
    "start": "877880",
    "end": "884079"
  },
  {
    "text": "these components um as in when needed and also uh the metrics that can be used",
    "start": "884079",
    "end": "891600"
  },
  {
    "text": "are not just uh CPU and memory consumption uh but also stuff like HTTP",
    "start": "891600",
    "end": "897680"
  },
  {
    "text": "uh connections and so on and all of that can be provided out of the box like without making any changes so um we",
    "start": "897680",
    "end": "905160"
  },
  {
    "text": "going with kubernetes for that uh so some of the challenges this architecture brings is like uh so between the VPN uh",
    "start": "905160",
    "end": "914199"
  },
  {
    "text": "concentrator and onvoy we are using genevi tunnels uh to pass the uh traffic",
    "start": "914199",
    "end": "919839"
  },
  {
    "text": "and there is one genevi tunnel per tenant to keep traffic isolated and also",
    "start": "919839",
    "end": "924920"
  },
  {
    "text": "for IP address overloading uh so uh so as the number of uh uh pods are",
    "start": "924920",
    "end": "933279"
  },
  {
    "text": "increased uh the these tunnels and their configuration and routing also has to be",
    "start": "933279",
    "end": "940920"
  },
  {
    "text": "um uh configured uh and the other uh big um",
    "start": "940920",
    "end": "947600"
  },
  {
    "text": "performance bottleneck is um on the vpnc side right uh where we have requirement",
    "start": "947600",
    "end": "954160"
  },
  {
    "text": "of uh 10 or 20 GB uh per Tel but Linux",
    "start": "954160",
    "end": "961199"
  },
  {
    "text": "um uh can only support like 4 G GB per tannel so that is where um you know our",
    "start": "961199",
    "end": "969319"
  },
  {
    "text": "next part of the talk comes in picture where we are using um VPP based um uh uh",
    "start": "969319",
    "end": "977360"
  },
  {
    "text": "Solutions so I'll hand it over to Jeff uh to talk about",
    "start": "977360",
    "end": "983040"
  },
  {
    "text": "that thanks ru so as Ru just mentioned uh the vpnc is",
    "start": "986199",
    "end": "993399"
  },
  {
    "text": "the part of the solution that performs IPC uh so IPC due to its use of cryptography tends to be very compute",
    "start": "993399",
    "end": "999160"
  },
  {
    "text": "intensive and to provide this service uh as efficiently as possible uh sometimes pops are limited to you know one to two",
    "start": "999160",
    "end": "1005759"
  },
  {
    "text": "servers you can't just um allocate dozens of of of cores to perform IPC",
    "start": "1005759",
    "end": "1012720"
  },
  {
    "text": "um you you just won't have any capacity to actually run your workload so it really comes down to Performance and",
    "start": "1012720",
    "end": "1018199"
  },
  {
    "text": "scale we want to maximize the overall throughput um scale the number of active",
    "start": "1018199",
    "end": "1023279"
  },
  {
    "text": "connections and connections per second with as few CPU cores as possible uh this is where the VPP data plane really",
    "start": "1023279",
    "end": "1029558"
  },
  {
    "text": "shines uh VPP is a fast scalable multi uh layer two to four",
    "start": "1029559",
    "end": "1035678"
  },
  {
    "text": "multi-platform Network stack with highly optimized IPC implementation and this chart shows uh throughput of IPC and",
    "start": "1035679",
    "end": "1042438"
  },
  {
    "text": "scalability across multiple cores obviously a lot of factors can impact the performance uh",
    "start": "1042439",
    "end": "1049600"
  },
  {
    "text": "so I recommend you go and check out the white paper where this data was originally published um but the key takeaway here is that uh VPP IP SEC is",
    "start": "1049600",
    "end": "1056760"
  },
  {
    "text": "very fast um it achieved nearly two terabits per second um on a dual socket",
    "start": "1056760",
    "end": "1062679"
  },
  {
    "text": "until Zeon four Zeon fourth generation scalable processor uh so yeah go go read the go",
    "start": "1062679",
    "end": "1069799"
  },
  {
    "text": "read the white paper it's pretty good um this next slide shows more data with",
    "start": "1069799",
    "end": "1077440"
  },
  {
    "text": "more uh latest generation processors we're publishing a white paper on this soon with a variety of different",
    "start": "1077440",
    "end": "1082799"
  },
  {
    "text": "workloads uh so I'm not going to spend too much time on it here um but basically this is to call out the difference between like a a performance",
    "start": "1082799",
    "end": "1089320"
  },
  {
    "text": "core uh which tends to have you know uh higher frequencies fast ipcs um enhanced",
    "start": "1089320",
    "end": "1097039"
  },
  {
    "text": "instruction set architecture especially for crypto uh to perform IPC and other crypto operations as fast as possible um",
    "start": "1097039",
    "end": "1104400"
  },
  {
    "text": "on the alternative you have an efficient core which is a much denser uh smaller core where you can pack a lot more onto",
    "start": "1104400",
    "end": "1110559"
  },
  {
    "text": "the system um and you tend to get a better performance per W profile um so like I said um we're going to be",
    "start": "1110559",
    "end": "1116480"
  },
  {
    "text": "publishing white paper here pretty soon with a variety of different workloads uh so so look out for",
    "start": "1116480",
    "end": "1122200"
  },
  {
    "text": "that uh the actual vpnc architecture this is a pretty simplified diagram I'm",
    "start": "1122200",
    "end": "1127640"
  },
  {
    "text": "not showing everything that goes into our solution here I'm not showing you know routing demon I'm just not showing um you know any kind of device plugins",
    "start": "1127640",
    "end": "1134440"
  },
  {
    "text": "or anything like that uh this is really just focusing on the IPC part of it um um so at the bottom of the picture here",
    "start": "1134440",
    "end": "1142480"
  },
  {
    "text": "you have some network interfaces uh these provide connectivity to your underlay network uh right above that you",
    "start": "1142480",
    "end": "1148720"
  },
  {
    "text": "have VPP data plane so this is the thing that's processing all the packets on the network um depending on the type of",
    "start": "1148720",
    "end": "1154400"
  },
  {
    "text": "traffic we either punt uh control plane traffic to Linux uh to be Pro using the",
    "start": "1154400",
    "end": "1159880"
  },
  {
    "text": "Linux control plane plugin part of EP uh which gets processed by strong Swan uh",
    "start": "1159880",
    "end": "1165000"
  },
  {
    "text": "to perform the ike uh V2 control plane um um and we have a an agent running on the",
    "start": "1165000",
    "end": "1171840"
  },
  {
    "text": "machine also um that exposes a grpc server and API that can configure IPC uh",
    "start": "1171840",
    "end": "1179960"
  },
  {
    "text": "Connections in strong Swan as well as you know interface details tunnels Bridges um IP address configuration",
    "start": "1179960",
    "end": "1187120"
  },
  {
    "text": "anything having to do with BPP um key Point here is that strong Swan",
    "start": "1187120",
    "end": "1192240"
  },
  {
    "text": "performanc IP set control plane when it negotiat or establishes a child saay um",
    "start": "1192240",
    "end": "1198240"
  },
  {
    "text": "the security Association parameters key material policy information everything like that gets installed into the VPP",
    "start": "1198240",
    "end": "1204520"
  },
  {
    "text": "data plane uh using the strong Swan VPP plugin um at which point VPP now is",
    "start": "1204520",
    "end": "1210039"
  },
  {
    "text": "capable of Performing the IP SEC encryption and and and decryption um",
    "start": "1210039",
    "end": "1215600"
  },
  {
    "text": "this architecture is flexible enough so we can install it on bare metal and VM",
    "start": "1215600",
    "end": "1220720"
  },
  {
    "text": "using Dr packages or we could deploy um as a set of containers uh using like",
    "start": "1220720",
    "end": "1226559"
  },
  {
    "text": "Ducker compose or inside of a kubernetes pod um and I I mentioned the title of a",
    "start": "1226559",
    "end": "1234000"
  },
  {
    "text": "white paper the link is sometimes changes so I just mentioned the title of the white paper so search um you can",
    "start": "1234000",
    "end": "1239679"
  },
  {
    "text": "find more more information on this particular design where this is based off of",
    "start": "1239679",
    "end": "1246840"
  },
  {
    "text": "so um so then this is the vpnc architecture drawn a little bit differently um where we look at the",
    "start": "1247640",
    "end": "1253919"
  },
  {
    "text": "network topology so you can think of each one of these rectangles as a separate site to which the vpnc has a IP",
    "start": "1253919",
    "end": "1260720"
  },
  {
    "text": "set connection so consider the case where you have a remote access user uh that",
    "start": "1260720",
    "end": "1266120"
  },
  {
    "text": "wants to access some kind of uh web resource inside of an Enterprise data center somewhere um behind a behind a",
    "start": "1266120",
    "end": "1272200"
  },
  {
    "text": "tenants Gateway um the the user will access will",
    "start": "1272200",
    "end": "1277279"
  },
  {
    "text": "connect to the network through the proxy uh the proxy will feed that packets into the VPN concentrator which ultimately",
    "start": "1277279",
    "end": "1283919"
  },
  {
    "text": "will route the uh packet to the appropriate IPC tunnel um so that it get",
    "start": "1283919",
    "end": "1289039"
  },
  {
    "text": "you know moves towards the uh the tenant Gateway uh one of the key requirements as everybody mentioned already is that",
    "start": "1289039",
    "end": "1295520"
  },
  {
    "text": "um we need to support multi tendency on the shared infrastructure um so we have to isolate traffic between tenants uh",
    "start": "1295520",
    "end": "1301640"
  },
  {
    "text": "and one of the other key requirements is that tenants have to have overlapping IP addresses I know we touched on this already",
    "start": "1301640",
    "end": "1309360"
  },
  {
    "text": "um so you can see here you know what I mean by overlapping IP addresses obviously tenant one and tenant n here",
    "start": "1309360",
    "end": "1315960"
  },
  {
    "text": "are both advertising 10.1 Network um but they're not the same network right these are completely different tenants um so",
    "start": "1315960",
    "end": "1322919"
  },
  {
    "text": "you can't just you know blindly route packets uh so we achieved this by using Geneva overlay Network um per per tunnel",
    "start": "1322919",
    "end": "1329559"
  },
  {
    "text": "tenant per tant per tenant excuse me tunnels uh configured between the proxy",
    "start": "1329559",
    "end": "1334640"
  },
  {
    "text": "and BPP um along with separate routing tables inside of BPP uh so if we zoom in a little bit on",
    "start": "1334640",
    "end": "1341400"
  },
  {
    "text": "the this is the relationship between the proxy and the VPN uh vpnc excuse me um",
    "start": "1341400",
    "end": "1347799"
  },
  {
    "text": "so the pro pro proxy has to handle traffic from any tenant right so um and a connection comes into comes into the",
    "start": "1347799",
    "end": "1354799"
  },
  {
    "text": "proxy and it you know has to be has to be goes through the vpnc somehow um so",
    "start": "1354799",
    "end": "1361000"
  },
  {
    "text": "the proxy has to have a jip tunnel configured for every tenant between every proxy to every vpnc in the system",
    "start": "1361000",
    "end": "1368720"
  },
  {
    "text": "um so when it receives that packet you know decides the right vpnc to send it to um does the encapsulation sends it",
    "start": "1368720",
    "end": "1375039"
  },
  {
    "text": "over over that genev tunnel into the uh into the vpnc uh that traffic is terminated inside a v",
    "start": "1375039",
    "end": "1381760"
  },
  {
    "text": "inside of the vpnc inside of a specific vrf uh so that tunnel end point basically exists inside of a vrf inside",
    "start": "1381760",
    "end": "1388760"
  },
  {
    "text": "of that vrf we have you know the per tenant routing uh specific you know",
    "start": "1388760",
    "end": "1394279"
  },
  {
    "text": "information um as well as any IPC tunnels that are configured uh so that way we can route the packet",
    "start": "1394279",
    "end": "1400080"
  },
  {
    "text": "appropriately um you know without you know we could separate the traffic",
    "start": "1400080",
    "end": "1406440"
  },
  {
    "text": "basically using BRS is essentially what happens um and then the same thing happens in the reverse path as well uh so IP",
    "start": "1406440",
    "end": "1414240"
  },
  {
    "text": "traffic is terminated in the opposite direction um terminated in the brf and then routed onto the appropriate genev",
    "start": "1414240",
    "end": "1420360"
  },
  {
    "text": "tunnel uh depending on you know the the information inside of the in packet U we",
    "start": "1420360",
    "end": "1426279"
  },
  {
    "text": "can use ecmp to distribute traffic uh to multiple of the participating proxies uh so that's an overview of the",
    "start": "1426279",
    "end": "1433039"
  },
  {
    "text": "BPNC I'm going to hand it back over to Mica uh who's going to talk more about some of the envoy optimizations that",
    "start": "1433039",
    "end": "1438440"
  },
  {
    "text": "that we've",
    "start": "1438440",
    "end": "1440679"
  },
  {
    "text": "done thanks Jeff so um this uh simplistic architecture is actually",
    "start": "1443640",
    "end": "1450760"
  },
  {
    "text": "built into a solution a reference solution um specifically Envoy uh we",
    "start": "1450760",
    "end": "1457080"
  },
  {
    "text": "have like Jeff sh uh used it to front end but as a sassy proxy um as a reverse",
    "start": "1457080",
    "end": "1464720"
  },
  {
    "text": "proxy what are some of the bottlenecks that you will face and what can we do",
    "start": "1464720",
    "end": "1469960"
  },
  {
    "text": "about it so this is a very simple pipeline for onvoy we focused on uh two",
    "start": "1469960",
    "end": "1475520"
  },
  {
    "text": "areas uh like as you set up Envoy for number of threads number of concurrent",
    "start": "1475520",
    "end": "1480960"
  },
  {
    "text": "connections um you may set up the proxy for four core eight core uh deployment",
    "start": "1480960",
    "end": "1486559"
  },
  {
    "text": "um if you do a flame graph analysis based on the number of uh customers",
    "start": "1486559",
    "end": "1491640"
  },
  {
    "text": "you'll have number of connections and then the outbound connections also and the number of threads uh two Coe areas",
    "start": "1491640",
    "end": "1498919"
  },
  {
    "text": "where we saw uh bottlenecks uh showing up one is uh the TLs the TLs processing",
    "start": "1498919",
    "end": "1506760"
  },
  {
    "text": "and um SSL handshakes um uh would take up uh a large part of the CPU uh",
    "start": "1506760",
    "end": "1514799"
  },
  {
    "text": "processing time cycle time and uh specifically on this we created a",
    "start": "1514799",
    "end": "1521559"
  },
  {
    "text": "solution uh two types of of acceleration solution so um it's a key provider",
    "start": "1521559",
    "end": "1527960"
  },
  {
    "text": "extend ition onvoy already provides that so we extended the key provider to um be",
    "start": "1527960",
    "end": "1534640"
  },
  {
    "text": "able to be processed using uh AVX 512 which is a simd operation um so",
    "start": "1534640",
    "end": "1541320"
  },
  {
    "text": "essentially do uh uh create a buffer a multi-buffer and then uh send it uh to",
    "start": "1541320",
    "end": "1547720"
  },
  {
    "text": "be accelerated by one instruction um and so that's uh showing up as uh the crypto MB uh API extension",
    "start": "1547720",
    "end": "1556600"
  },
  {
    "text": "box that you see there in addition we have uh a specific accelerator Hardware",
    "start": "1556600",
    "end": "1563159"
  },
  {
    "text": "accelerator uh within the CPU called qat uh if you uh initialize that accelerator",
    "start": "1563159",
    "end": "1571080"
  },
  {
    "text": "inside envoy you are essentially taking away uh processing Cycles from the CPU so you're saving CPU Cycles now how",
    "start": "1571080",
    "end": "1578279"
  },
  {
    "text": "would you uh initialize this solution essentially um so you'll have the your",
    "start": "1578279",
    "end": "1583399"
  },
  {
    "text": "control plane um you define the resources and the requests that you uh",
    "start": "1583399",
    "end": "1588559"
  },
  {
    "text": "that you want to so against certain number of requests you want to initialize say a qat uh instance right",
    "start": "1588559",
    "end": "1596039"
  },
  {
    "text": "and so you set that up through a control panel uh to a control uh plane and then",
    "start": "1596039",
    "end": "1601320"
  },
  {
    "text": "on the Note where you have Envoy initiated you have the drivers installed",
    "start": "1601320",
    "end": "1606399"
  },
  {
    "text": "for uh qat for uh the generic AVX uh qat driver uh you have uh a a kubernetes",
    "start": "1606399",
    "end": "1614720"
  },
  {
    "text": "plugin device plug-in so you have you initialize that and that shown up here as Intel qat plugin and uh within your",
    "start": "1614720",
    "end": "1623200"
  },
  {
    "text": "uh cuet you initialize a container d uh instance where you essentially uh connect the envoy",
    "start": "1623200",
    "end": "1630320"
  },
  {
    "text": "instance with a virtual interface a vfio interface so the qat acceleration device",
    "start": "1630320",
    "end": "1636799"
  },
  {
    "text": "can be initialized as device one device 2 device three as different vfio devices",
    "start": "1636799",
    "end": "1643240"
  },
  {
    "text": "and uh each of these devices have a number of cues you can allocate uh number of qes from that each vfi",
    "start": "1643240",
    "end": "1651159"
  },
  {
    "text": "instance inside onvoy so at the um pod",
    "start": "1651159",
    "end": "1656279"
  },
  {
    "text": "level you have qat lib to in to work with the qat VF interface uh initi uh",
    "start": "1656279",
    "end": "1664799"
  },
  {
    "text": "make use of the qat plug-in to do the offload onto qat if you do not want to use qat and just want to use uh AVX 512",
    "start": "1664799",
    "end": "1673080"
  },
  {
    "text": "and I'll show you why and when you would want to use either the crypto MB VX 512",
    "start": "1673080",
    "end": "1678960"
  },
  {
    "text": "solution or use the Q solution but you could use either of them and the provider that can be created on top of",
    "start": "1678960",
    "end": "1686039"
  },
  {
    "text": "it there are some sample providers we have a sample provider internally which I don't think we have uh open- sourced",
    "start": "1686039",
    "end": "1692640"
  },
  {
    "text": "but anybody wants that we could work with you on that so that will help you offload some of the TLs processing uh",
    "start": "1692640",
    "end": "1700679"
  },
  {
    "text": "using uh this kind of a solution the other area where we saw bottlenecks",
    "start": "1700679",
    "end": "1705960"
  },
  {
    "text": "happen and especially when you have different kind of requests going through onward if you have a text request or an",
    "start": "1705960",
    "end": "1712159"
  },
  {
    "text": "audio request or a video request especially when you are um working with llm Solutions you will have that uh",
    "start": "1712159",
    "end": "1718519"
  },
  {
    "text": "multimodal requests you will see um uh",
    "start": "1718519",
    "end": "1723559"
  },
  {
    "text": "the load balancing of envoy processor threads not being equal uh so Envoy",
    "start": "1723559",
    "end": "1730159"
  },
  {
    "text": "provides uh load balancing extension so we extended that uh we made sure that",
    "start": "1730159",
    "end": "1736880"
  },
  {
    "text": "the Nick RSS that happens to the course uh that's basic so when you uh when you",
    "start": "1736880",
    "end": "1742880"
  },
  {
    "text": "have the load balancing extension for onvo initialized it should be able to use if you set up the uh the Nick driver",
    "start": "1742880",
    "end": "1750720"
  },
  {
    "text": "to do RSS uh in addition to that if you do a profiling of the CPU usage of the worker",
    "start": "1750720",
    "end": "1758399"
  },
  {
    "text": "threads you will see a uh not being balanced especially if you have different types of sizes of requests and",
    "start": "1758399",
    "end": "1765279"
  },
  {
    "text": "so there is another acceleration uh that we have called Dynamic load balancer which is",
    "start": "1765279",
    "end": "1770360"
  },
  {
    "text": "another PCI device we provide a similar interface for example we have on top of",
    "start": "1770360",
    "end": "1776559"
  },
  {
    "text": "the driver we have a kubernetes uh plugin that you initialize you have the cubet container D Define the resources",
    "start": "1776559",
    "end": "1784240"
  },
  {
    "text": "work with the control plane you can initialize a vfio interface to the device you can have one or more devices",
    "start": "1784240",
    "end": "1791039"
  },
  {
    "text": "we have generally seen the need of just one device uh one DLB device to be used",
    "start": "1791039",
    "end": "1796880"
  },
  {
    "text": "in in in deployments like a four core or an 8 core and uh that's how you",
    "start": "1796880",
    "end": "1802559"
  },
  {
    "text": "initialize it back into on so two different kinds of accelerations for",
    "start": "1802559",
    "end": "1807919"
  },
  {
    "text": "these bottlenecks now some sample uh data points so for example for the load",
    "start": "1807919",
    "end": "1813880"
  },
  {
    "text": "balancing uh plug-in that we have uh we have seen largely a benefit to latency",
    "start": "1813880",
    "end": "1820360"
  },
  {
    "text": "so the latency uh discussions that happened early on uh some of the",
    "start": "1820360",
    "end": "1825440"
  },
  {
    "text": "latencies can be mitigated if you have different kind of request sizes so as the graph shows you can have request",
    "start": "1825440",
    "end": "1832960"
  },
  {
    "text": "sizes ranging from 1 kilobyte to 10 kiloby 1 Megabyte or a mix uh so in our",
    "start": "1832960",
    "end": "1840480"
  },
  {
    "text": "benchmarking uh and we created we actually enhanced uh Nighthawk as a benchmarking tool and we have shown that",
    "start": "1840480",
    "end": "1848000"
  },
  {
    "text": "you can improve uh latencies uh in this model you do not get any other and then",
    "start": "1848000",
    "end": "1853559"
  },
  {
    "text": "this is for maximum CPU usage so all core CPU usage will be maximum and",
    "start": "1853559",
    "end": "1859279"
  },
  {
    "text": "within that environment you can get all the way up to almost this is I think about 70% latency Improvement in this",
    "start": "1859279",
    "end": "1865480"
  },
  {
    "text": "specific experiment on the SSL performance we",
    "start": "1865480",
    "end": "1870840"
  },
  {
    "text": "have a combination of uh course uh and data points so just to focus on the kind",
    "start": "1870840",
    "end": "1879559"
  },
  {
    "text": "of performance you'll get on a request per second uh if you scale the number of",
    "start": "1879559",
    "end": "1885080"
  },
  {
    "text": "cores from One Core two core all the way up to 8 core 6 16 thread uh and this is for one of the uh performance sces that",
    "start": "1885080",
    "end": "1893320"
  },
  {
    "text": "we have which is a multi-threaded core within that environment you'll see different kinds of uh performance uh",
    "start": "1893320",
    "end": "1899919"
  },
  {
    "text": "benefits that you'll get so for example if you use the AVX 52 based crypto",
    "start": "1899919",
    "end": "1904960"
  },
  {
    "text": "multi-buffer solution you can see it scale in almost all solutions all uh",
    "start": "1904960",
    "end": "1910799"
  },
  {
    "text": "scaling requirements whether it is two core or 8 core you'll see it scale all the way through now if you want to save",
    "start": "1910799",
    "end": "1917480"
  },
  {
    "text": "those cycles and you decide to offload to uh the hardware accelerator qat you",
    "start": "1917480",
    "end": "1924279"
  },
  {
    "text": "initialize one and you'll see the four core8 thread provides enough uh benefits",
    "start": "1924279",
    "end": "1930679"
  },
  {
    "text": "so that you you get it only from one device uh as soon as you go to an 8 core 16 thread you'll see the benefit is",
    "start": "1930679",
    "end": "1937399"
  },
  {
    "text": "larger when you have two qat devices uh as opposed to the AVX 512 uh solution so",
    "start": "1937399",
    "end": "1944919"
  },
  {
    "text": "the these are different Benchmark entities you can bench Mark your uh environment and uh we can help with some",
    "start": "1944919",
    "end": "1952039"
  },
  {
    "text": "of those benchmarks and you can decide you know what kind of uh solution would benefit you can make this Dynamic so one",
    "start": "1952039",
    "end": "1958679"
  },
  {
    "text": "of the things we wanted to discuss but we haven't really put in the whole solution but you can monitor this and",
    "start": "1958679",
    "end": "1965720"
  },
  {
    "text": "make sure that when you are reaching a particular threshold where it does not make sense to use the multi-buffer AVX",
    "start": "1965720",
    "end": "1972519"
  },
  {
    "text": "512 and instead start using the offloaded version and some of that is is",
    "start": "1972519",
    "end": "1977960"
  },
  {
    "text": "already automated in the provider that is there in the qat plug-in that is already there it will decide when to do",
    "start": "1977960",
    "end": "1984080"
  },
  {
    "text": "CPU based versus qat based you'll also get benefits in latency so this is showing about 70 to 90% latency benefits",
    "start": "1984080",
    "end": "1992320"
  },
  {
    "text": "uh with with this kind of acceleration in here all of this data is on uh fourth",
    "start": "1992320",
    "end": "2000600"
  },
  {
    "text": "generation Zeon we have other solutions that are coming out largely cash sizes onvoy benefits from larger cash size so",
    "start": "2000600",
    "end": "2008039"
  },
  {
    "text": "we have uh zons coming out with larger cash cach size uh there is a set of data",
    "start": "2008039",
    "end": "2013480"
  },
  {
    "text": "points that Jeff showed where performance scores versus efficiency scores efficiency course will bring you",
    "start": "2013480",
    "end": "2020679"
  },
  {
    "text": "uh single threaded CPUs and uh what does envoy uh provide you in that environment",
    "start": "2020679",
    "end": "2026279"
  },
  {
    "text": "what kind of workloads would benefit from that is a topic of discussion maybe in another",
    "start": "2026279",
    "end": "2032240"
  },
  {
    "text": "presentation okay I'd like to show you a demo of what",
    "start": "2032240",
    "end": "2037799"
  },
  {
    "text": "what we have um I I'll talk you through the demo essentially we put together uh",
    "start": "2037799",
    "end": "2043240"
  },
  {
    "text": "deployment of the VPP based vpnc and an Envoy proxy uh okay so you'll see on the",
    "start": "2043240",
    "end": "2051480"
  },
  {
    "text": "top right hand side the deployment happening essentially site one site two",
    "start": "2051480",
    "end": "2056679"
  },
  {
    "text": "connecting two vpn's connecting to each other so first the deployment of all the containers happen here you'll see the",
    "start": "2056679",
    "end": "2063960"
  },
  {
    "text": "vpnc is getting deployed and then Envoy gets deployed and Benchmark uh I ier",
    "start": "2063960",
    "end": "2069760"
  },
  {
    "text": "server client just to communicate and then on the left hand bottom side you'll",
    "start": "2069760",
    "end": "2074919"
  },
  {
    "text": "see the client container getting",
    "start": "2074919",
    "end": "2078598"
  },
  {
    "text": "started and then the side side to side sassy pipeline is now",
    "start": "2083520",
    "end": "2089200"
  },
  {
    "text": "running now one of the things we have uh put together in our solution is an OPI",
    "start": "2089200",
    "end": "2094679"
  },
  {
    "text": "API for configuring the vpn's once you configure uh the network",
    "start": "2094679",
    "end": "2100599"
  },
  {
    "text": "for the vpnc you'll next configure the envoy",
    "start": "2100599",
    "end": "2106440"
  },
  {
    "text": "proxy as an endpoint to the genev",
    "start": "2106440",
    "end": "2109920"
  },
  {
    "text": "tunnel some of our Mac addresses have been blurred out",
    "start": "2113960",
    "end": "2120519"
  },
  {
    "text": "okay so now you have the H the endpoint HTTP server processes started up which",
    "start": "2128760",
    "end": "2134480"
  },
  {
    "text": "will now you will be able to communicate client to vpnc site one vpnc site 2",
    "start": "2134480",
    "end": "2141280"
  },
  {
    "text": "onvoy proxy to the endpoint servers and we have plugged all of this",
    "start": "2141280",
    "end": "2148400"
  },
  {
    "text": "uh the data being collected from all of these entities into Prius and grafana and you should be able to see uh plug in",
    "start": "2148400",
    "end": "2155480"
  },
  {
    "text": "more of your resources the important thing is to be able to scale this uh largely scaling horizontally the the VPP",
    "start": "2155480",
    "end": "2164000"
  },
  {
    "text": "containers VPP applications you won't be able to scale them um you know",
    "start": "2164000",
    "end": "2169079"
  },
  {
    "text": "horizontally uh sorry vertically but horizontally you should be able to scale them the envoy uh proxies if they are",
    "start": "2169079",
    "end": "2175839"
  },
  {
    "text": "within a kubernetes SP you could be you would be able to add new uh you know",
    "start": "2175839",
    "end": "2181160"
  },
  {
    "text": "additional course but again Envoy may need to be restarted for being able to uh benefit from that ideally would like",
    "start": "2181160",
    "end": "2188040"
  },
  {
    "text": "to scale if you are monitoring in this form in a uh kubernetes Prometheus",
    "start": "2188040",
    "end": "2193160"
  },
  {
    "text": "environment then you should be able to start new onvo proxies based on some of those latency numbers which we showed or",
    "start": "2193160",
    "end": "2199560"
  },
  {
    "text": "the requests per second so I'll um this is one of the",
    "start": "2199560",
    "end": "2204880"
  },
  {
    "text": "things we wanted to do um is share all the white papers if you want to uh",
    "start": "2204880",
    "end": "2210040"
  },
  {
    "text": "connect with us all the envoy extensions and accelerations are already upstreamed",
    "start": "2210040",
    "end": "2215680"
  },
  {
    "text": "the VPP work is going on and we can collaborate with you we of course work with the VPP Community to Upstream a",
    "start": "2215680",
    "end": "2222319"
  },
  {
    "text": "bunch of a bunch of that work uh I'll ask a couple of questions to my panel",
    "start": "2222319",
    "end": "2228200"
  },
  {
    "text": "and then we'll open up no we don't have time okay okay any",
    "start": "2228200",
    "end": "2235640"
  },
  {
    "text": "questions okay okay thank you so much",
    "start": "2237440",
    "end": "2243359"
  }
]