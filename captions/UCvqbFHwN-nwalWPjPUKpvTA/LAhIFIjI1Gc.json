[
  {
    "text": "welcome to this new Kix webinar my name is Khat Kant I'm princip engineer at",
    "start": "3199",
    "end": "8360"
  },
  {
    "text": "light B and today I will talk about how to build orchestration sagas with GX",
    "start": "8360",
    "end": "14000"
  },
  {
    "text": "workflow so there are two types of sagas choreography sagas and orchestration sagas in a previous webinar I cover with",
    "start": "14000",
    "end": "20519"
  },
  {
    "text": "choreography sagas so today I will talk about orchestration sagas in both case a",
    "start": "20519",
    "end": "27199"
  },
  {
    "text": "saga it's about to implement a long running process in distributed systems we are talking about a process that",
    "start": "27199",
    "end": "32800"
  },
  {
    "text": "spends over more than one transaction and as you know a Kix entity leaves in",
    "start": "32800",
    "end": "38320"
  },
  {
    "text": "its own transaction bound boundary when you want to motate two entities you send a command to one entity you motate it",
    "start": "38320",
    "end": "45039"
  },
  {
    "text": "that's one transaction and then you send another command to Second entity and that motates this entity and that's yet",
    "start": "45039",
    "end": "51719"
  },
  {
    "text": "another transaction you cannot modify two entities in the same transaction but",
    "start": "51719",
    "end": "57559"
  },
  {
    "text": "in some for some user case I do need to modify more than one entity with one",
    "start": "57559",
    "end": "63440"
  },
  {
    "text": "incoming request from the outside so for choreography we can use",
    "start": "63440",
    "end": "70439"
  },
  {
    "text": "subscriptions and listen to events and States chains from my entities and then propagates the chains the other option",
    "start": "70439",
    "end": "77759"
  },
  {
    "text": "that we have is to use a KX workflows and this when we use KX workflows we are",
    "start": "77759",
    "end": "84079"
  },
  {
    "text": "we can then Implement an orchestration sagum and it's about to have to build",
    "start": "84079",
    "end": "89320"
  },
  {
    "text": "this process but having a central points we can say that it's a coordinator or or",
    "start": "89320",
    "end": "95479"
  },
  {
    "text": "a conductor in a orchestra that is um driving and managing the the the the",
    "start": "95479",
    "end": "101960"
  },
  {
    "text": "whole flow so orchestration SES that about Implement a coordinator or a conductor",
    "start": "101960",
    "end": "107960"
  },
  {
    "text": "in orchestra that will be responsible to manage and drive the whole flow you start it sends commands to to an entity",
    "start": "107960",
    "end": "116039"
  },
  {
    "text": "when that entity finish processing this command the workflow can move to the next step and send another command to",
    "start": "116039",
    "end": "122320"
  },
  {
    "text": "another enti and so on what's important to know that uh Kix workflow is",
    "start": "122320",
    "end": "127520"
  },
  {
    "text": "guaranteed to run until it finish and it saves the steps where it knows where it",
    "start": "127520",
    "end": "132959"
  },
  {
    "text": "stop it so if you are in the middle of a workflow and for some reason you shut",
    "start": "132959",
    "end": "138360"
  },
  {
    "text": "down your service and break it back or there is some error that happens the workflow knows where it was and it will",
    "start": "138360",
    "end": "145000"
  },
  {
    "text": "restart from where it stopped so just a very high level uh I",
    "start": "145000",
    "end": "150560"
  },
  {
    "text": "will use I have some diagrams to explain what are the main features in uh kilix",
    "start": "150560",
    "end": "156480"
  },
  {
    "text": "workflow and here let's imagine that I have a e-commerce application and I have",
    "start": "156480",
    "end": "162080"
  },
  {
    "text": "a um something triggered the checkout of a shopping cart so the input here is the",
    "start": "162080",
    "end": "170360"
  },
  {
    "text": "request to check out or a notification thata shopping cart has been checked out",
    "start": "170360",
    "end": "175680"
  },
  {
    "text": "so I built a workflow and this information gets into my my workflow and",
    "start": "175680",
    "end": "182360"
  },
  {
    "text": "initiates my workflow and then the first thing that the workflow will say will do",
    "start": "182360",
    "end": "187400"
  },
  {
    "text": "when it's initiated it needs to do its first transition and it simply moves or",
    "start": "187400",
    "end": "194720"
  },
  {
    "text": "indicates what is the first thing that H needs to happen what is the first step in that workflow so the first transition",
    "start": "194720",
    "end": "201959"
  },
  {
    "text": "here is execute a payment so kex will move to the step executed payment that",
    "start": "201959",
    "end": "207840"
  },
  {
    "text": "you define yourself and then a call will be made to some payment service to",
    "start": "207840",
    "end": "213560"
  },
  {
    "text": "execute it now if that call fails it's not a problem a workflow is designed to",
    "start": "213560",
    "end": "220720"
  },
  {
    "text": "just retry it so it will retry a few times it depends you can configure if",
    "start": "220720",
    "end": "226599"
  },
  {
    "text": "you say nothing it will re retry forever with some intervals to not overload your",
    "start": "226599",
    "end": "232519"
  },
  {
    "text": "systems but it will keep trying you can also put a limit on that and say okay I",
    "start": "232519",
    "end": "237640"
  },
  {
    "text": "will retry maximum three times let's let's say but let's say that here we'll just make a call let's say it failed the",
    "start": "237640",
    "end": "245079"
  },
  {
    "text": "first time and then it passed okay I will retry and then it passes and then I",
    "start": "245079",
    "end": "250480"
  },
  {
    "text": "will transition I will transition to initiate shipment that itself this a",
    "start": "250480",
    "end": "255640"
  },
  {
    "text": "step also execute a a call to the shipment service to initiate the shipment and this call returns correctly",
    "start": "255640",
    "end": "263360"
  },
  {
    "text": "successfully then I transition to the end of my workflow you may have arbitary number of",
    "start": "263360",
    "end": "269800"
  },
  {
    "text": "steps and combinations you can move to One Step go back to your first step",
    "start": "269800",
    "end": "274919"
  },
  {
    "text": "doesn't matter much you can decide how you want to compose them as I was saying you can by default",
    "start": "274919",
    "end": "282240"
  },
  {
    "text": "a workflow once it started it needs to to to run until the end um but you can",
    "start": "282240",
    "end": "288280"
  },
  {
    "text": "also put a timeout you can define a timeout say okay this workflow after 1",
    "start": "288280",
    "end": "293520"
  },
  {
    "text": "hour if it's not completed yet I need to tear it down or you can see say that for",
    "start": "293520",
    "end": "300759"
  },
  {
    "text": "every failure that I have in my workflow for every step that fails I want to rety",
    "start": "300759",
    "end": "307840"
  },
  {
    "text": "that step at least three times and if it keeps failing I will uh abort my",
    "start": "307840",
    "end": "313440"
  },
  {
    "text": "workflow you can have a timeout at the workflow level and a retry strategy at",
    "start": "313440",
    "end": "319080"
  },
  {
    "text": "the workflow level but you can also have at the step level so you can Define both",
    "start": "319080",
    "end": "324720"
  },
  {
    "text": "timeouts and retry strategies at both levels now one other important and I I",
    "start": "324720",
    "end": "332080"
  },
  {
    "text": "find it quite interesting feature is that you may you you can also execute a",
    "start": "332080",
    "end": "338400"
  },
  {
    "text": "step it succeed but instead of transition to Yet",
    "start": "338400",
    "end": "343560"
  },
  {
    "text": "To The Next Step you decide to POS your workflow when do you want when you want",
    "start": "343560",
    "end": "349080"
  },
  {
    "text": "to do that well usually you you want to do that when you do whatever you can do",
    "start": "349080",
    "end": "355440"
  },
  {
    "text": "with the information you have and now you need to pose because you are waiting for some input from the outside it can",
    "start": "355440",
    "end": "361520"
  },
  {
    "text": "be a subscription something that will trigger subscription that will come back to your workflow hit your workflow and",
    "start": "361520",
    "end": "369160"
  },
  {
    "text": "put it back into movement or it can be just that you pose and you expect that a",
    "start": "369160",
    "end": "374680"
  },
  {
    "text": "user will come connect to your user interface and fill some form submit and",
    "start": "374680",
    "end": "380880"
  },
  {
    "text": "continue the workflow so it's the POS the possibility here is to stop your",
    "start": "380880",
    "end": "386240"
  },
  {
    "text": "workflow waiting for more input then that input can be from a user or it can be from your system something that",
    "start": "386240",
    "end": "392840"
  },
  {
    "text": "happens in your system that triggers a call back to your workflow and put it back into movement and again you have",
    "start": "392840",
    "end": "401000"
  },
  {
    "text": "you pose some request comes in you move to another step and then you transition",
    "start": "401000",
    "end": "406759"
  },
  {
    "text": "to the end as I was saying I I will use today the same use case uh that I",
    "start": "406759",
    "end": "412440"
  },
  {
    "text": "implemented for choreography sagus so but let's recap if you haven't seen the",
    "start": "412440",
    "end": "417800"
  },
  {
    "text": "this other webinar I will explain here what is the the user case anyway so in",
    "start": "417800",
    "end": "424240"
  },
  {
    "text": "event sourced system there is one major challenge is how can I have unique",
    "start": "424240",
    "end": "430039"
  },
  {
    "text": "Fields inside my model that are unique across all my entities for that specific",
    "start": "430039",
    "end": "435800"
  },
  {
    "text": "model so this problem is called set based consistency validation so let's",
    "start": "435800",
    "end": "440879"
  },
  {
    "text": "imagine that the user here is uh event sourced entity and I have a unique ID",
    "start": "440879",
    "end": "446680"
  },
  {
    "text": "that I can always use to reference to this uh to to different models to",
    "start": "446680",
    "end": "452000"
  },
  {
    "text": "different instance and inside I have the name and I have email but I don't want",
    "start": "452000",
    "end": "457479"
  },
  {
    "text": "the email to to be reused I want each user to have a unique email address but",
    "start": "457479",
    "end": "463160"
  },
  {
    "text": "I also want to be able to change that email address eventually so I cannot use the email address as unique identifier",
    "start": "463160",
    "end": "470800"
  },
  {
    "text": "so the email address needs to be unique but it's not my identifier because I",
    "start": "470800",
    "end": "476000"
  },
  {
    "text": "want to be able to change so if it was a traditional sqle relational database I",
    "start": "476000",
    "end": "483960"
  },
  {
    "text": "would have a table for the email I would say okay this this column here needs to",
    "start": "483960",
    "end": "489879"
  },
  {
    "text": "be unique but in Event Source system we don't have such a tape what we have is a journal with all the sequence of events",
    "start": "489879",
    "end": "497000"
  },
  {
    "text": "that I can use to reconstruct my model here so I cannot just go to this journal",
    "start": "497000",
    "end": "504520"
  },
  {
    "text": "and scan all the the the payloads of all the events that I have to to find out if",
    "start": "504520",
    "end": "511360"
  },
  {
    "text": "someone is already using this email address and as I was saying the KX",
    "start": "511360",
    "end": "518000"
  },
  {
    "text": "entity lives in its own transaction so I I cannot uh send a command to an entity",
    "start": "518000",
    "end": "524320"
  },
  {
    "text": "and say okay create this entity but before you create it make sure that all the other",
    "start": "524320",
    "end": "530080"
  },
  {
    "text": "entities uh are not using this email address I don't have the most the possibility to scan my whole system so I",
    "start": "530080",
    "end": "537279"
  },
  {
    "text": "need to have other means to do that so the way to do that is one of the possible solutions for that is to create",
    "start": "537279",
    "end": "544320"
  },
  {
    "text": "a barrier so here we have this user as a will be it will be implemented as an",
    "start": "544320",
    "end": "550519"
  },
  {
    "text": "event sourced entity and we have another entity that I will call it a unique email entity and the ID of this entity",
    "start": "550519",
    "end": "559240"
  },
  {
    "text": "will be the email address and because it's a value entity a key value entity in Kix it's",
    "start": "559240",
    "end": "565480"
  },
  {
    "text": "guaranteed that there is only one for this for given email address there is only one in the system so it's kind of a",
    "start": "565480",
    "end": "572880"
  },
  {
    "text": "barrier for me so as I did on the choreography Saga webinar what we'll do here is when I",
    "start": "572880",
    "end": "580600"
  },
  {
    "text": "need to create a user I will first create an email address if it's already news then I cannot create that user I",
    "start": "580600",
    "end": "587640"
  },
  {
    "text": "have to change the the commands my request and but if it's not in news I",
    "start": "587640",
    "end": "593600"
  },
  {
    "text": "will create this unique email address for the first time and I will reserve for that user user that I want to create",
    "start": "593600",
    "end": "600959"
  },
  {
    "text": "so I kind of create this record this key value record the unique mail address and",
    "start": "600959",
    "end": "609279"
  },
  {
    "text": "then I move forward and I will create the entity but as we said those entities",
    "start": "609279",
    "end": "614600"
  },
  {
    "text": "they leave in their own transaction so it can happens that I create the unique",
    "start": "614600",
    "end": "619839"
  },
  {
    "text": "email address but then I fail to create the user when that happens I need",
    "start": "619839",
    "end": "625720"
  },
  {
    "text": "to have some compensation compensating Act to uh free the email address because now",
    "start": "625720",
    "end": "632640"
  },
  {
    "text": "the email address is reserved for this user that I was not able to to create so I needs if I fail to create the user I",
    "start": "632640",
    "end": "639320"
  },
  {
    "text": "need to go back here and unreserve this email address and if I create the user I can",
    "start": "639320",
    "end": "645959"
  },
  {
    "text": "go back here and say okay this created um it's confirmed and it's in used by",
    "start": "645959",
    "end": "651800"
  },
  {
    "text": "this other um entity and instead of using a choreography here where you in",
    "start": "651800",
    "end": "658440"
  },
  {
    "text": "the in the previous implementation I was listening to events and to States change and coordinating the the change by using",
    "start": "658440",
    "end": "665839"
  },
  {
    "text": "subscriptions here we will create a workflow that will be our Center Point",
    "start": "665839",
    "end": "670920"
  },
  {
    "text": "that we use to coordinate the",
    "start": "670920",
    "end": "675600"
  },
  {
    "text": "hole so visually it will be something like that we have the workflow here I",
    "start": "676560",
    "end": "682040"
  },
  {
    "text": "will not have an application controller anymore I will just hit the workflow directly from the outside and and then I",
    "start": "682040",
    "end": "689720"
  },
  {
    "text": "have my two entities and uh when I initiate the workflow the first transition for this",
    "start": "689720",
    "end": "696079"
  },
  {
    "text": "workflow will be move to the reserve Emil step so KX will execute move the",
    "start": "696079",
    "end": "704200"
  },
  {
    "text": "workflow to the that first step that is that will call the reserve email on the",
    "start": "704200",
    "end": "710240"
  },
  {
    "text": "unique email entity creating the entity if doesn't exist yet and and reserving",
    "start": "710240",
    "end": "716519"
  },
  {
    "text": "the email or failing if it is already use so let's say that here's the sunny",
    "start": "716519",
    "end": "722040"
  },
  {
    "text": "day uh Sunny case sunny day scenario I reserved the email it return and then",
    "start": "722040",
    "end": "728120"
  },
  {
    "text": "the workflow will say okay now that we created the that we reserved the email address let's create the the user let's",
    "start": "728120",
    "end": "735000"
  },
  {
    "text": "move to the next step which will be let's transition to The Next Step which will be which is create user so now we",
    "start": "735000",
    "end": "743079"
  },
  {
    "text": "do a call to the user we create the entity and it returns and we say okay",
    "start": "743079",
    "end": "748440"
  },
  {
    "text": "good I I have I did both calls and now I can confirm the mail I can go back to",
    "start": "748440",
    "end": "754639"
  },
  {
    "text": "the unique ma entity and confirm that is that this entity is uh this email",
    "start": "754639",
    "end": "760240"
  },
  {
    "text": "address is effectively in use by the user that I just created and when this call returns I can",
    "start": "760240",
    "end": "768880"
  },
  {
    "text": "finalize my workflow so I have I first transition transition to us to the first",
    "start": "768880",
    "end": "774519"
  },
  {
    "text": "step First Step completes I transition to the Second Step It completes I transition transition to my third step",
    "start": "774519",
    "end": "782160"
  },
  {
    "text": "and then when the third one finished I just transition to to the end to the end of my workflow of course that's the sun",
    "start": "782160",
    "end": "790199"
  },
  {
    "text": "day uh uh scenario but things errors",
    "start": "790199",
    "end": "795680"
  },
  {
    "text": "happen it can be that I have a validation error here or the user entity",
    "start": "795680",
    "end": "801360"
  },
  {
    "text": "service is down for some reason so I reserve the email address and when I'm about to create the user it fails",
    "start": "801360",
    "end": "809279"
  },
  {
    "text": "so in the demo that I do that I we're going to see today I will put a retry",
    "start": "809279",
    "end": "816760"
  },
  {
    "text": "strategy uh a Max retry set to three so what will happen is first I you create a",
    "start": "816760",
    "end": "823079"
  },
  {
    "text": "user it will fail and then I I will simulate some errors it will fail and",
    "start": "823079",
    "end": "828760"
  },
  {
    "text": "then it will try again and then again with some interval between the retries",
    "start": "828760",
    "end": "834519"
  },
  {
    "text": "and then it to retry for three for the third time so we going to see in the logs four tries the first one and then",
    "start": "834519",
    "end": "841560"
  },
  {
    "text": "the first attempt and then the three retries and then it will finally fail",
    "start": "841560",
    "end": "847880"
  },
  {
    "text": "and the workflow we have another step which is a failover step after trying",
    "start": "847880",
    "end": "853839"
  },
  {
    "text": "three times we say okay that's enough I don't want to try uh again because I",
    "start": "853839",
    "end": "861320"
  },
  {
    "text": "probably there probably major issue here so let's fail over to yet another step",
    "start": "861320",
    "end": "868199"
  },
  {
    "text": "here the unreserved email and then we unreserve the",
    "start": "868199",
    "end": "873720"
  },
  {
    "text": "email as usual and then we can finish the workflow so here the difference is",
    "start": "873720",
    "end": "879320"
  },
  {
    "text": "that I have this workflow place where my workflow has a it's a point for me where",
    "start": "879320",
    "end": "885560"
  },
  {
    "text": "everything goes back to the workflow the workflow can then make a decision so the",
    "start": "885560",
    "end": "891079"
  },
  {
    "text": "interactions between the parts are coordinated by the workflow and as the",
    "start": "891079",
    "end": "896279"
  },
  {
    "text": "name says it's an orchestration Saga so it's like the workflow here it's",
    "start": "896279",
    "end": "902600"
  },
  {
    "text": "acting like like the conductor of an orchestra it's the one that's managing",
    "start": "902600",
    "end": "907880"
  },
  {
    "text": "driving all the process let's go to the code so here the model is exactly the",
    "start": "907880",
    "end": "913560"
  },
  {
    "text": "same as in The cograph Saga webinar I did one small change here on the entity",
    "start": "913560",
    "end": "919440"
  },
  {
    "text": "I will show this right now I put some ROM failure method here that I call when",
    "start": "919440",
    "end": "925600"
  },
  {
    "text": "I created the user I will do some random failure because I want to simulate",
    "start": "925600",
    "end": "930839"
  },
  {
    "text": "failures uh and and I want you to see the workflow recovery from them so what",
    "start": "930839",
    "end": "937160"
  },
  {
    "text": "what the condition here is if I send I um if the user ID that I'm CH choosing",
    "start": "937160",
    "end": "943759"
  },
  {
    "text": "here is a negative number I will randomly make it fail so if it returns",
    "start": "943759",
    "end": "951440"
  },
  {
    "text": "true I will fail with this message but if I send a positive ID or a string",
    "start": "951440",
    "end": "958880"
  },
  {
    "text": "because uh ID is a string no it's it's a string in Kix the unique ID from an",
    "start": "958880",
    "end": "965160"
  },
  {
    "text": "entity is always an A String but if it's some text if it contains some letters it",
    "start": "965160",
    "end": "971600"
  },
  {
    "text": "just succeed if it's a positive integer it succeed but if it's a negative integer I will eventually let it fail",
    "start": "971600",
    "end": "981560"
  },
  {
    "text": "okay so let's see the workflow the first thing here that I",
    "start": "981560",
    "end": "987399"
  },
  {
    "text": "want to show is that workflow has a state the user creation workflow has an",
    "start": "987399",
    "end": "993000"
  },
  {
    "text": "ID that is exactly the same as the user ID just for Simplicity it has a state",
    "start": "993000",
    "end": "999720"
  },
  {
    "text": "defined it here and the first time that you start it we would send a post request to this",
    "start": "999720",
    "end": "1008519"
  },
  {
    "text": "method with the command to create the",
    "start": "1008519",
    "end": "1012880"
  },
  {
    "text": "user then if I if the workflow was never created if the state is null or if it in",
    "start": "1013839",
    "end": "1021160"
  },
  {
    "text": "opposite State and we're going to see that more in detail later I will save the state I will create the",
    "start": "1021160",
    "end": "1028280"
  },
  {
    "text": "state say okay I'm on that State uh um phase of my process reserving an email",
    "start": "1028280",
    "end": "1035038"
  },
  {
    "text": "and uh let let me show here what is the state the state of workflow is the user",
    "start": "1035039",
    "end": "1041199"
  },
  {
    "text": "ID the initial creation commands some status that can be reserv in email",
    "start": "1041199",
    "end": "1046918"
  },
  {
    "text": "creating user confirm email finished POS it or fail",
    "start": "1046919",
    "end": "1053200"
  },
  {
    "text": "it and uh so that's the status and eventually it may have error message",
    "start": "1053200",
    "end": "1059000"
  },
  {
    "text": "that I can inspect the states and see uh what is going",
    "start": "1059000",
    "end": "1064160"
  },
  {
    "text": "on so when I start it here I will create I will save the state the state",
    "start": "1064160",
    "end": "1071840"
  },
  {
    "text": "of my workflow and then I tell the Kix engine here to say and now it's time",
    "start": "1071840",
    "end": "1078440"
  },
  {
    "text": "time to transition to this phase the reserve email um phase step in which and",
    "start": "1078440",
    "end": "1087360"
  },
  {
    "text": "that's the input for that first step I'm reserving the email here that's the command on the unique email entity to",
    "start": "1087360",
    "end": "1094760"
  },
  {
    "text": "reserve it and then I reply to the caller I send back the states of my",
    "start": "1094760",
    "end": "1101960"
  },
  {
    "text": "workflow and if the workflow is not in is already created and it's not posted I",
    "start": "1101960",
    "end": "1107559"
  },
  {
    "text": "don't want to inter interfere in it I just I would just return the the states as it is I will",
    "start": "1107559",
    "end": "1114480"
  },
  {
    "text": "not force any transition here the workflow may be finished the workflow",
    "start": "1114480",
    "end": "1120360"
  },
  {
    "text": "may be running if I send this request twice I would just send back the current",
    "start": "1120360",
    "end": "1125400"
  },
  {
    "text": "state of my workflow now the definition of workflow is a method that you have to",
    "start": "1125400",
    "end": "1130440"
  },
  {
    "text": "implement here's where you define the hold all the steps of your workflow and",
    "start": "1130440",
    "end": "1135640"
  },
  {
    "text": "I will go to the last to the end of this math method but I will show you well I want to show you this part",
    "start": "1135640",
    "end": "1142200"
  },
  {
    "text": "first here you need to return the workflow definition and the workflow",
    "start": "1142200",
    "end": "1147960"
  },
  {
    "text": "definition you build it by calling this API here and adding steps those are the",
    "start": "1147960",
    "end": "1153840"
  },
  {
    "text": "steps of our workflow and we can imagine that so the",
    "start": "1153840",
    "end": "1158960"
  },
  {
    "text": "order of the steps here you can you can add them the way you want does they",
    "start": "1158960",
    "end": "1164320"
  },
  {
    "text": "don't need to be executed in that order that doesn't M doesn't matter because the the goal here is that you",
    "start": "1164320",
    "end": "1171480"
  },
  {
    "text": "define you need to declare the steps and each step made transition to any other",
    "start": "1171480",
    "end": "1177080"
  },
  {
    "text": "step you can you can go back and forth between two steps a few times and then decide to finish your workflow so the",
    "start": "1177080",
    "end": "1183799"
  },
  {
    "text": "order is not important but it's important that all the steps are are defined in your workflow definition so",
    "start": "1183799",
    "end": "1191679"
  },
  {
    "text": "we have a reserve the first step that we we will execute here is the reserve",
    "start": "1191679",
    "end": "1196799"
  },
  {
    "text": "email address first is the barrier no so what first I want to know if the is",
    "start": "1196799",
    "end": "1202120"
  },
  {
    "text": "available if it succeed we will transition to the create user step and",
    "start": "1202120",
    "end": "1209000"
  },
  {
    "text": "this step is a special one because here I'm saying if it keeps failing if I I if",
    "start": "1209000",
    "end": "1215520"
  },
  {
    "text": "it fails I want to retry it three times at most three times and if after three",
    "start": "1215520",
    "end": "1222320"
  },
  {
    "text": "retries it keeps failing I want to unreserve the image so here's the failure failover uh transition here is I",
    "start": "1222320",
    "end": "1230919"
  },
  {
    "text": "will go to this other step which actually unreserved revert the reserve",
    "start": "1230919",
    "end": "1237440"
  },
  {
    "text": "email step it basically unreserve the email now if the create user",
    "start": "1237440",
    "end": "1244679"
  },
  {
    "text": "succeeds then the transition and we see in a while the transition from create",
    "start": "1244679",
    "end": "1250000"
  },
  {
    "text": "user is the use uh confirmation of the email so let's see first the reserve",
    "start": "1250000",
    "end": "1257120"
  },
  {
    "text": "email which is the first step here maybe important to show here",
    "start": "1257120",
    "end": "1264720"
  },
  {
    "text": "whenever you declare a transition you may you're not of you have two",
    "start": "1264720",
    "end": "1269760"
  },
  {
    "text": "possibilities you can say transition to this step and there is no input there is",
    "start": "1269760",
    "end": "1275559"
  },
  {
    "text": "no new data that you need to pass to that step or you have to pass the command or the the input for the step so",
    "start": "1275559",
    "end": "1283520"
  },
  {
    "text": "here in the transition to I'm saying Reserve email I messed up up something",
    "start": "1283520",
    "end": "1288720"
  },
  {
    "text": "here revert yeah I am reserving the maail here I'm",
    "start": "1288720",
    "end": "1294520"
  },
  {
    "text": "transition to the reserve email and the input is this command here this",
    "start": "1294520",
    "end": "1301440"
  },
  {
    "text": "type so let's go to the reserve image this this one I have the name defined",
    "start": "1301440",
    "end": "1308640"
  },
  {
    "text": "here because I want to use in the logs as well so I just put on a variable and",
    "start": "1308640",
    "end": "1313960"
  },
  {
    "text": "um this call will receive as input the the reserve EMA class",
    "start": "1313960",
    "end": "1321559"
  },
  {
    "text": "okay then Kix will take that and say okay I need to transition to that I have already the input that you defined uh in",
    "start": "1321559",
    "end": "1328919"
  },
  {
    "text": "the beginning of this file now when you say transition Kix you take that and you you execute that for you and this is a",
    "start": "1328919",
    "end": "1336480"
  },
  {
    "text": "sync call so it means that the Lambda that you're are passing here this",
    "start": "1336480",
    "end": "1342520"
  },
  {
    "text": "command is this type we can see here command is the reserve email address so",
    "start": "1342520",
    "end": "1349919"
  },
  {
    "text": "now KX in the background will will execute this Lambda passing the payload",
    "start": "1349919",
    "end": "1355120"
  },
  {
    "text": "that you define it and here we will use uh the component client to hit the value",
    "start": "1355120",
    "end": "1361919"
  },
  {
    "text": "entity email the value the unique email entity and Reserve this email address we",
    "start": "1361919",
    "end": "1369640"
  },
  {
    "text": "will execute it immediately so it's an async call it's expecting a completion",
    "start": "1369640",
    "end": "1376240"
  },
  {
    "text": "stage and if it if it succeeds we'll map it to result success if it fails we'll",
    "start": "1376240",
    "end": "1383120"
  },
  {
    "text": "map it to result failure we'll see in a while what we're going to do with those two here but let's first just to recap",
    "start": "1383120",
    "end": "1390880"
  },
  {
    "text": "what happens here on the reserve method on the reserve method here I have this",
    "start": "1390880",
    "end": "1397559"
  },
  {
    "text": "value value entity to that works as a barrier for me to protect the email",
    "start": "1397559",
    "end": "1404640"
  },
  {
    "text": "address and when I reserve it so the email address has an address has a",
    "start": "1404640",
    "end": "1410480"
  },
  {
    "text": "status can be not used reserved or confirmed and it may have a owner the",
    "start": "1410480",
    "end": "1417840"
  },
  {
    "text": "initial state of this value entity is the address it's not in use doesn't have",
    "start": "1417840",
    "end": "1426360"
  },
  {
    "text": "a honor yet when you reserve it with this command I see okay it's",
    "start": "1426360",
    "end": "1433480"
  },
  {
    "text": "already news and it's already reserved for another owner so if that's the case I",
    "start": "1433480",
    "end": "1440640"
  },
  {
    "text": "will emit this error email is already reserved so G over here if you hit this this",
    "start": "1440640",
    "end": "1449240"
  },
  {
    "text": "method twice to reserve for the same owner then it's already reserved for this",
    "start": "1449240",
    "end": "1456600"
  },
  {
    "text": "owner so I have nothing to do I just say okay it's good it's reserved for you I don't have anything to do now if we if",
    "start": "1456600",
    "end": "1464799"
  },
  {
    "text": "it's not yet reserved I will update the state and say okay this email address is",
    "start": "1464799",
    "end": "1470279"
  },
  {
    "text": "now reserved for this owner here back to the",
    "start": "1470279",
    "end": "1476480"
  },
  {
    "text": "workflow so we do the call if it's succe if it's",
    "start": "1476480",
    "end": "1481760"
  },
  {
    "text": "successful we map to this one otherwise we map to a failure what I what I want",
    "start": "1481760",
    "end": "1487840"
  },
  {
    "text": "to do here is to capture the failure message because I want to put it in the state of my workflow so what I do next",
    "start": "1487840",
    "end": "1494720"
  },
  {
    "text": "is so KX will do this call for you in the background when it gets the results",
    "start": "1494720",
    "end": "1501679"
  },
  {
    "text": "that will be either result success or result failure it will then call the end",
    "start": "1501679",
    "end": "1507679"
  },
  {
    "text": "method so for each step that's how it works you defin a you define a call that",
    "start": "1507679",
    "end": "1513720"
  },
  {
    "text": "needs to be executed by kex by the by the run time when we have the the",
    "start": "1513720",
    "end": "1521880"
  },
  {
    "text": "results we co we come back to your step and say okay we got the results what",
    "start": "1521880",
    "end": "1527039"
  },
  {
    "text": "should I do next next and in this and then methods you define what is the next",
    "start": "1527039",
    "end": "1532399"
  },
  {
    "text": "thing to do so the result comes back from that call we pass it to you here",
    "start": "1532399",
    "end": "1538200"
  },
  {
    "text": "now you can check and what I'm doing here okay oh it's a failure so I do some",
    "start": "1538200",
    "end": "1543919"
  },
  {
    "text": "loging and I will return here an effect workflow effect in which I update my",
    "start": "1543919",
    "end": "1550799"
  },
  {
    "text": "state saying oh it's posed and here's the error message during the demo I explain why",
    "start": "1550799",
    "end": "1557880"
  },
  {
    "text": "it's posed here so the status is posed so there was an error the May is already",
    "start": "1557880",
    "end": "1563640"
  },
  {
    "text": "reserved that's why it failed so I just post my workflow I not Le it leave it",
    "start": "1563640",
    "end": "1569600"
  },
  {
    "text": "let it go to completion I will put it in opposite state it will it won't try again to reserved it will just stop and",
    "start": "1569600",
    "end": "1577720"
  },
  {
    "text": "wait for extra input and then instead of transition to something else I will just",
    "start": "1577720",
    "end": "1584240"
  },
  {
    "text": "tell KX I want it to pose so don't don't mixed up here this poses just the status",
    "start": "1584240",
    "end": "1592000"
  },
  {
    "text": "inside my state because I want to be able to visualize it while here pose is",
    "start": "1592000",
    "end": "1598880"
  },
  {
    "text": "US telling KX now it's time to pose this because I will bring more data",
    "start": "1598880",
    "end": "1604840"
  },
  {
    "text": "eventually now if it's a successful uh if you successfully reserve the email",
    "start": "1604840",
    "end": "1611039"
  },
  {
    "text": "address we move forward and we say okay now I I will move to creating user phase",
    "start": "1611039",
    "end": "1618159"
  },
  {
    "text": "and you return here the effect no so first update the states then transition",
    "start": "1618159",
    "end": "1624279"
  },
  {
    "text": "to create user step let's see the create user so let's say that we transition to",
    "start": "1624279",
    "end": "1632919"
  },
  {
    "text": "this step now what will happen is okay I have uh let me go back here when I",
    "start": "1632919",
    "end": "1640919"
  },
  {
    "text": "transition to create user I tell KX what is the input of this next step no and",
    "start": "1640919",
    "end": "1647320"
  },
  {
    "text": "the the input here it's something that I stored in my state which is let's have a",
    "start": "1647320",
    "end": "1653520"
  },
  {
    "text": "look is the initial creation command I just put it on the state because I I",
    "start": "1653520",
    "end": "1660399"
  },
  {
    "text": "later I want to use it no and that's the moment that I want to find back this",
    "start": "1660399",
    "end": "1665720"
  },
  {
    "text": "original command the creation command and now I move to the create user stab",
    "start": "1665720",
    "end": "1670880"
  },
  {
    "text": "and that's my input let's have a look on the implementation of create user step I",
    "start": "1670880",
    "end": "1676600"
  },
  {
    "text": "make a call this time is not an async call it's a call in kix's uh terms it's",
    "start": "1676600",
    "end": "1683080"
  },
  {
    "text": "a deferred call I will use the client here and I will return a deferred call",
    "start": "1683080",
    "end": "1689159"
  },
  {
    "text": "that's what this call will return to me no that's not what I want to",
    "start": "1689159",
    "end": "1696320"
  },
  {
    "text": "show this is Return of the third call that KX will run in the background first",
    "start": "1696399",
    "end": "1702399"
  },
  {
    "text": "so what it does well it will talk to the event Source",
    "start": "1702399",
    "end": "1708440"
  },
  {
    "text": "entity identified by this ID and we call the create user method in this ENT on",
    "start": "1708440",
    "end": "1714799"
  },
  {
    "text": "this entity and here we come to this piece of code that I show",
    "start": "1714799",
    "end": "1720080"
  },
  {
    "text": "already showed already where we have this random failure eventually depending",
    "start": "1720080",
    "end": "1725760"
  },
  {
    "text": "on the condition we will force a failure here if there is no name it will also",
    "start": "1725760",
    "end": "1731080"
  },
  {
    "text": "failure otherwise I will create the user that's exactly uh all this same that I",
    "start": "1731080",
    "end": "1738080"
  },
  {
    "text": "did on the choreography one back here good this call returns are",
    "start": "1738080",
    "end": "1745840"
  },
  {
    "text": "done so the output of this call is the input of the end then once this returns",
    "start": "1745840",
    "end": "1754480"
  },
  {
    "text": "KX come back to you say okay I execute your step now what do you want me to do",
    "start": "1754480",
    "end": "1761000"
  },
  {
    "text": "and then you tell KX okay that's the type here I don't know if you know this",
    "start": "1761000",
    "end": "1766080"
  },
  {
    "text": "trick I don't want to use I don't need to use the this type done here in my",
    "start": "1766080",
    "end": "1772360"
  },
  {
    "text": "Lambda so I I have this trick if you put two underscore is valid Java code and",
    "start": "1772360",
    "end": "1778200"
  },
  {
    "text": "it's just say Okay underscore I don't I don't use it it's just like a way to say",
    "start": "1778200",
    "end": "1784279"
  },
  {
    "text": "I'm not using this type here whatever here update States so I create the user",
    "start": "1784279",
    "end": "1792360"
  },
  {
    "text": "now I update States what is the next thing that I do I will confirm the email address and I transition to confirm here",
    "start": "1792360",
    "end": "1799640"
  },
  {
    "text": "the difference is the transition I'm not passing a type an input type because",
    "start": "1799640",
    "end": "1805279"
  },
  {
    "text": "confirmation email does not have an input so I can just say now transition to confirm email let's see what it what",
    "start": "1805279",
    "end": "1813200"
  },
  {
    "text": "happens here okay confirm email yet another call but this time I don't have",
    "start": "1813200",
    "end": "1819200"
  },
  {
    "text": "a input type it's just a Java supplier here and uh and inside it I will call",
    "start": "1819200",
    "end": "1827919"
  },
  {
    "text": "the value entity the email that we reserved for it and I will confirm let's",
    "start": "1827919",
    "end": "1834000"
  },
  {
    "text": "have a look on the confirm method here that will be colored in this step if",
    "start": "1834000",
    "end": "1839519"
  },
  {
    "text": "it's reserved I will confirm it and I'm done if the status of my email address",
    "start": "1839519",
    "end": "1847600"
  },
  {
    "text": "is something else I don't care I just don't want this method to failure because of that and then I just return",
    "start": "1847600",
    "end": "1854320"
  },
  {
    "text": "done here as confirmed so I up dat the state of my value entity taking the",
    "start": "1854320",
    "end": "1860559"
  },
  {
    "text": "current state motate it to as confirmed which confirm set the status of this",
    "start": "1860559",
    "end": "1866760"
  },
  {
    "text": "email address to confirm okay I confirmed the email then Kix come back here again here",
    "start": "1866760",
    "end": "1874880"
  },
  {
    "text": "confirm returns done that's the output of my call and then therefore that's the",
    "start": "1874880",
    "end": "1883080"
  },
  {
    "text": "inputs of the and then methods once again I'm not using using it here so I'm",
    "start": "1883080",
    "end": "1888360"
  },
  {
    "text": "ignoring use the the trick of using two underscores but what I want to do here it's okay I will update my state I say",
    "start": "1888360",
    "end": "1896120"
  },
  {
    "text": "I'm done I'm finished I reserve the email I create the user and I confirm",
    "start": "1896120",
    "end": "1902320"
  },
  {
    "text": "that this email address is in used by that user and then I can finish my",
    "start": "1902320",
    "end": "1907960"
  },
  {
    "text": "workflow so whenever I return here the event the the facts I just show I I can",
    "start": "1907960",
    "end": "1914279"
  },
  {
    "text": "transition to something without an input I can transition to some to a step with",
    "start": "1914279",
    "end": "1920880"
  },
  {
    "text": "some inputs we have seen both I can transition to POS State the the workflow",
    "start": "1920880",
    "end": "1928799"
  },
  {
    "text": "goes to a POS to a halt and wait for someone to provide more",
    "start": "1928799",
    "end": "1936840"
  },
  {
    "text": "input or I can go to finished State when I transition to end what's the case here",
    "start": "1936840",
    "end": "1943519"
  },
  {
    "text": "it means that this workflow will not be as anymore we reach the end of the",
    "start": "1943519",
    "end": "1950600"
  },
  {
    "text": "workflow okay one more part is the so we saw the",
    "start": "1950600",
    "end": "1956279"
  },
  {
    "text": "reserve email we saw the create user we saw the user confirmation we haven't seen yet the unreserved email so the",
    "start": "1956279",
    "end": "1964000"
  },
  {
    "text": "create user if it fails it will try a few times three times and and then if it",
    "start": "1964000",
    "end": "1971559"
  },
  {
    "text": "keeps failing it will transition or fail over to this other step let's see what",
    "start": "1971559",
    "end": "1978559"
  },
  {
    "text": "it is so we got in this situation we need now we were unable to create our",
    "start": "1978559",
    "end": "1984480"
  },
  {
    "text": "user we have a email that was reserved in the system we failed to create the user now I want to free that email",
    "start": "1984480",
    "end": "1991399"
  },
  {
    "text": "address that it can be eventually be used by someone else so here again the",
    "start": "1991399",
    "end": "1997679"
  },
  {
    "text": "step defines a call and the call takes go talk again to the value entity here",
    "start": "1997679",
    "end": "2004840"
  },
  {
    "text": "the unique EMA entity and it calls the unreserved method let's have a look what",
    "start": "2004840",
    "end": "2010279"
  },
  {
    "text": "it does if this entity if the unique",
    "start": "2010279",
    "end": "2015360"
  },
  {
    "text": "emale entity is in a reserved State and I call this method I would just go back",
    "start": "2015360",
    "end": "2021200"
  },
  {
    "text": "to the empty State just reset its state and uh otherwise I would just ignore it",
    "start": "2021200",
    "end": "2027639"
  },
  {
    "text": "I just say no it's good I'm not reserved so you cannot unreserved me and the",
    "start": "2027639",
    "end": "2033480"
  },
  {
    "text": "empty state is back to not use it without own if I'm on that state I can reserve this",
    "start": "2033480",
    "end": "2040320"
  },
  {
    "text": "email address for someone else that's the goal here back to here no one more the call",
    "start": "2040320",
    "end": "2049480"
  },
  {
    "text": "will unreserve the email address and when it returns again it returns done",
    "start": "2049480",
    "end": "2056679"
  },
  {
    "text": "again I'm not using this type here but I do update my state and I say okay I fa I",
    "start": "2056679",
    "end": "2063919"
  },
  {
    "text": "failed to create the user so the state of this workflow is fail it game over I",
    "start": "2063919",
    "end": "2070440"
  },
  {
    "text": "not try again because I move it this workflow to the Finish State I end the",
    "start": "2070440",
    "end": "2078079"
  },
  {
    "text": "workflow so here it's everything that I need to have to implement this use case",
    "start": "2078079",
    "end": "2083720"
  },
  {
    "text": "one single class with the steps and the coordination between them the workflow here is managing uh managing and driving",
    "start": "2083720",
    "end": "2093079"
  },
  {
    "text": "the whole process now of course we want to see it run run it it",
    "start": "2093079",
    "end": "2099920"
  },
  {
    "text": "running okay I hope it's there so first let me check like I did",
    "start": "2104000",
    "end": "2111359"
  },
  {
    "text": "before this email address is not in use I will create user",
    "start": "2111359",
    "end": "2116560"
  },
  {
    "text": "001 will also be the unique ID for this workf flow",
    "start": "2116560",
    "end": "2122839"
  },
  {
    "text": "and here's the payload and it will Reserve this email",
    "start": "2122839",
    "end": "2128560"
  },
  {
    "text": "address let's see okay that's the status of the my",
    "start": "2128560",
    "end": "2135079"
  },
  {
    "text": "workflow here user ID this one that's my initial command it started in reserving",
    "start": "2135079",
    "end": "2142440"
  },
  {
    "text": "email address that's the first step there is no error message but in the meantime this workflow already completed",
    "start": "2142440",
    "end": "2148760"
  },
  {
    "text": "okay let's see what happen what is happening here I hit the workflow sting workflow Reserve email it's here",
    "start": "2148760",
    "end": "2157680"
  },
  {
    "text": "and then it hits the unique email entity reserving the email address back to the workflow step okay Reserve email that's",
    "start": "2157680",
    "end": "2167720"
  },
  {
    "text": "reserved workflow move to create user step it creates the user it hits the",
    "start": "2167720",
    "end": "2174240"
  },
  {
    "text": "entity here creating the user back to the workflow confirm the email address P",
    "start": "2174240",
    "end": "2181119"
  },
  {
    "text": "back to the unique email entity email is reserved if I check the stat of my",
    "start": "2181119",
    "end": "2187920"
  },
  {
    "text": "workflow now it is finished and my email",
    "start": "2187920",
    "end": "2193280"
  },
  {
    "text": "address is reserved for this user and the user is also",
    "start": "2193280",
    "end": "2198400"
  },
  {
    "text": "created uh I have one here that will force a failure I have a user with dat a",
    "start": "2198400",
    "end": "2205000"
  },
  {
    "text": "name and when I call it let's see here the email address is not in",
    "start": "2205000",
    "end": "2210240"
  },
  {
    "text": "use I will do that the email is now reserved but if I",
    "start": "2210240",
    "end": "2216240"
  },
  {
    "text": "check the the workflow it's creating the user and I can see here that Kix is emitting some",
    "start": "2216240",
    "end": "2222839"
  },
  {
    "text": "errors there is an error here because it failed to create the user the name is not filled so we know that it will fail",
    "start": "2222839",
    "end": "2230400"
  },
  {
    "text": "here again here again third third time third third retry and now the workflow",
    "start": "2230400",
    "end": "2238200"
  },
  {
    "text": "will fall back to the failover uh step which is unreserve the email address if",
    "start": "2238200",
    "end": "2246079"
  },
  {
    "text": "I go back here and check the status of this invalid user invalid acme.com email",
    "start": "2246079",
    "end": "2254839"
  },
  {
    "text": "address it's not in use anymore I have one more here which is just for the fun",
    "start": "2254839",
    "end": "2262319"
  },
  {
    "text": "so as I said when you create the user well that's this is the one that we just",
    "start": "2262319",
    "end": "2268760"
  },
  {
    "text": "saw I didn't put the the username the username uh the his the the full name",
    "start": "2268760",
    "end": "2276680"
  },
  {
    "text": "for that use is empty so it fails but now we're going to see this one the random failure and as I was explaining",
    "start": "2276680",
    "end": "2284119"
  },
  {
    "text": "if the entity ID is a negative integer I will randomly make it",
    "start": "2284119",
    "end": "2291960"
  },
  {
    "text": "fail just for the fun so here I will generate a request with a random number",
    "start": "2291960",
    "end": "2299640"
  },
  {
    "text": "the ID here it's a random number from minus 100 to minus one uh that's the",
    "start": "2299640",
    "end": "2305880"
  },
  {
    "text": "name then the email because I will call it a few times so I want to reserve each",
    "start": "2305880",
    "end": "2311640"
  },
  {
    "text": "time a different email I'm using a random U ID here in Thea email name and",
    "start": "2311640",
    "end": "2318560"
  },
  {
    "text": "and then we can later check here the workflow States let's see the first",
    "start": "2318560",
    "end": "2324000"
  },
  {
    "text": "one okay this one passed this one pass it it's",
    "start": "2324000",
    "end": "2329040"
  },
  {
    "text": "68 first one pass it it's finished okay let's try let's",
    "start": "2329040",
    "end": "2335079"
  },
  {
    "text": "try one more okay this is failing fail okay fail once",
    "start": "2335079",
    "end": "2341240"
  },
  {
    "text": "okay fade twice fade three times let's see it it fail once more",
    "start": "2341240",
    "end": "2348520"
  },
  {
    "text": "okay it it passed because it's random it failed three times if we have one with",
    "start": "2348520",
    "end": "2354520"
  },
  {
    "text": "four times uh we're going to see it's which number was that 18 we can",
    "start": "2354520",
    "end": "2361079"
  },
  {
    "text": "check it's finished one more let's see one more here",
    "start": "2361079",
    "end": "2368440"
  },
  {
    "text": "failing already failed three times let's see if it will F once more oh it didn't",
    "start": "2371680",
    "end": "2378599"
  },
  {
    "text": "ah I want to see one unreserved email let's see this one oh this one passed",
    "start": "2378599",
    "end": "2384839"
  },
  {
    "text": "once more last one let's see if we got some chance ah it passed I want one",
    "start": "2384839",
    "end": "2391720"
  },
  {
    "text": "more fail it fail it third",
    "start": "2395400",
    "end": "2403440"
  },
  {
    "text": "time oh it pass it anyway so of course if it fails once more we are on the on",
    "start": "2404640",
    "end": "2410560"
  },
  {
    "text": "the third uh case here uh it will fail after three times it will give up we",
    "start": "2410560",
    "end": "2417319"
  },
  {
    "text": "could see it with the when I did this one I would change the ID here this one",
    "start": "2417319",
    "end": "2423240"
  },
  {
    "text": "will keep fading because I don't have the name I hope I I was hoping to have the random one to fail once at least at",
    "start": "2423240",
    "end": "2431400"
  },
  {
    "text": "least but didn't didn't work out anyway that's just for the fun so back to the",
    "start": "2431400",
    "end": "2439720"
  },
  {
    "text": "slides so what are the main characteristics of a workflow or",
    "start": "2440079",
    "end": "2445119"
  },
  {
    "text": "orchestration saga you can build it completely based on the workflow you don't need to have subscriptions yeah uh",
    "start": "2445119",
    "end": "2452200"
  },
  {
    "text": "you don't need to to to wait for the for the events to be propagated to your",
    "start": "2452200",
    "end": "2457480"
  },
  {
    "text": "subscriptions to go back to your choreography you have one single place where you can better control the flow of",
    "start": "2457480",
    "end": "2464079"
  },
  {
    "text": "a of of of the calls that you want to to execute uh once triggered like",
    "start": "2464079",
    "end": "2471280"
  },
  {
    "text": "choreographer it moves like a wave until completion if not post ah I forgot to",
    "start": "2471280",
    "end": "2476800"
  },
  {
    "text": "show this one let me go back here I want to I reserved this email address for for",
    "start": "2476800",
    "end": "2483040"
  },
  {
    "text": "John no that's why I want to I had the pose one I almost forgot to show this",
    "start": "2483040",
    "end": "2489560"
  },
  {
    "text": "one now I will create another user n trying to use the same email address",
    "start": "2489560",
    "end": "2495160"
  },
  {
    "text": "let's see what happens it says that it's reserv an email address but we know that this",
    "start": "2495160",
    "end": "2501280"
  },
  {
    "text": "email address is already picked so if I go here it's saying oh it failed to",
    "start": "2501280",
    "end": "2507440"
  },
  {
    "text": "reserve the mail address because it's already picked but it's posed why I put",
    "start": "2507440",
    "end": "2512960"
  },
  {
    "text": "it in POS because if I complet this work flow and I'm using the same user ID I",
    "start": "2512960",
    "end": "2518640"
  },
  {
    "text": "cannot restart it again for that I need to have a workflow ID that is different than the user ID but for my demo I want",
    "start": "2518640",
    "end": "2525720"
  },
  {
    "text": "to show this so I decide let's use the same user ID make it simple and then I can show the post so what we'll do here",
    "start": "2525720",
    "end": "2533880"
  },
  {
    "text": "so this workflow is not finished it's not trying to reserve this email address anymore it's just P say okay the input",
    "start": "2533880",
    "end": "2540880"
  },
  {
    "text": "that I have it's wrong I cannot continue so now I can come here and change the",
    "start": "2540880",
    "end": "2546200"
  },
  {
    "text": "email address and I will send a request to the same workflow and as you see when",
    "start": "2546200",
    "end": "2552359"
  },
  {
    "text": "I hit this method it will we we we have here another payload",
    "start": "2552359",
    "end": "2558319"
  },
  {
    "text": "the command I'm modifying the input here so let's see now I'm reserving for undo",
    "start": "2558319",
    "end": "2566760"
  },
  {
    "text": "and if I check here it's finished so that's one of the case where you can use a pose you can decide that something",
    "start": "2566760",
    "end": "2573599"
  },
  {
    "text": "went wrong you pose and you wait for someone to breing bring come in and and change some data provide more input so",
    "start": "2573599",
    "end": "2580280"
  },
  {
    "text": "your workflow can move on just to show here what happened when we hit the start",
    "start": "2580280",
    "end": "2585760"
  },
  {
    "text": "button or the start uh end point if I'm if the if I don't have a state for this",
    "start": "2585760",
    "end": "2592520"
  },
  {
    "text": "workflow means that I'm really started for the first time but in that last case here it was in oppos state so I accepted",
    "start": "2592520",
    "end": "2599800"
  },
  {
    "text": "the call the request anyway and I update the state and I transition back to reserve email so I kind of restart my",
    "start": "2599800",
    "end": "2607920"
  },
  {
    "text": "workflow that's one one possible use of POS in in workflows so as I was saying",
    "start": "2607920",
    "end": "2616079"
  },
  {
    "text": "it triggers once triggered it moves like a wave until completion if not posed and",
    "start": "2616079",
    "end": "2622960"
  },
  {
    "text": "that make me remember that I I wanted to show the pose the pose U uh",
    "start": "2622960",
    "end": "2629720"
  },
  {
    "text": "transition once you you can pose it and require request more input receive more",
    "start": "2629720",
    "end": "2636200"
  },
  {
    "text": "input from either some subscription from some other system or from a user uh it's possible to inspect your",
    "start": "2636200",
    "end": "2643400"
  },
  {
    "text": "workflow because it has States and that allows you to track where you are and that's the biggest difference compared",
    "start": "2643400",
    "end": "2650720"
  },
  {
    "text": "to choreography where you don't have a clear uh way to track where is your",
    "start": "2650720",
    "end": "2656319"
  },
  {
    "text": "workflow uh where is your choreography Saga in a orchestration sag because you have the central point the the conductor",
    "start": "2656319",
    "end": "2663319"
  },
  {
    "text": "of your Orchestra in in our case here the k workflow you have this point where you can go check the state and see how",
    "start": "2663319",
    "end": "2671440"
  },
  {
    "text": "this is moving or if it's stuck because of some error if you need to provide some um some inputs if you needs to",
    "start": "2671440",
    "end": "2678760"
  },
  {
    "text": "unlock it or not or you can analyze the the flow I have this extra slide here",
    "start": "2678760",
    "end": "2685359"
  },
  {
    "text": "assuming that you have watched the other webinar about choreography and now we can talk about the compare both here so",
    "start": "2685359",
    "end": "2692119"
  },
  {
    "text": "what are the difference in choreographies we depend on event EV and state chains and subscriptions we have",
    "start": "2692119",
    "end": "2698520"
  },
  {
    "text": "our entities emitting events or emitting value entities propagating their state",
    "start": "2698520",
    "end": "2704000"
  },
  {
    "text": "change and we have subscriptions to react to them on the other side we have",
    "start": "2704000",
    "end": "2709960"
  },
  {
    "text": "a a fixed place where we can coordinate everything we have this conductor of our",
    "start": "2709960",
    "end": "2715599"
  },
  {
    "text": "orchestra that is the workflow choreography moves like a wave",
    "start": "2715599",
    "end": "2721280"
  },
  {
    "text": "until completion I can say the same for the workflows but we can pose",
    "start": "2721280",
    "end": "2726800"
  },
  {
    "text": "choreography it's important to watch out for head- ofline errors if you didn't watch the other my previous webinar I",
    "start": "2726800",
    "end": "2733640"
  },
  {
    "text": "recommend you to to watch it because head ofline errors is an important uh",
    "start": "2733640",
    "end": "2739319"
  },
  {
    "text": "thing you have to learn when you're are dealing with subscriptions be aware of that and as I was say in the other",
    "start": "2739319",
    "end": "2745680"
  },
  {
    "text": "webinar it's hard to debug because you don't have a place to track the progress now back to workflows we can pro track",
    "start": "2745680",
    "end": "2754200"
  },
  {
    "text": "the progress we can rely on events and subscriptions if we want we can Poe the",
    "start": "2754200",
    "end": "2759319"
  },
  {
    "text": "sub the the workflow And subscribe have an action subscribe into some events",
    "start": "2759319",
    "end": "2764599"
  },
  {
    "text": "that hits back your workflow and put your workflow back into movement that's completely uh possible yeah and then as",
    "start": "2764599",
    "end": "2772119"
  },
  {
    "text": "I was saying you can pose and um wait for extra inputs you can also cancel",
    "start": "2772119",
    "end": "2777880"
  },
  {
    "text": "your workflow it's running you can say okay every single point you can hit it",
    "start": "2777880",
    "end": "2782960"
  },
  {
    "text": "with through some end point and say Wherever You Are from now on you move to this other",
    "start": "2782960",
    "end": "2789000"
  },
  {
    "text": "state and you can recover in case of failures you have this possibility to say okay I will try this thing I will",
    "start": "2789000",
    "end": "2796280"
  },
  {
    "text": "try this step three times otherwise I will fade over to this other step where",
    "start": "2796280",
    "end": "2801640"
  },
  {
    "text": "I have the chance to do some cleanup uh the source code for this",
    "start": "2801640",
    "end": "2807319"
  },
  {
    "text": "workflow uh demo it's also on GitHub you can scan this code and and and download",
    "start": "2807319",
    "end": "2813960"
  },
  {
    "text": "the code and play around with that and um you can also join our slack uh",
    "start": "2813960",
    "end": "2819240"
  },
  {
    "text": "Channel if you have questions and want to reach out otherwise this other QR code brings you to the start uh get",
    "start": "2819240",
    "end": "2827160"
  },
  {
    "text": "started with Kix page in our website that's all for this webinar I hope you",
    "start": "2827160",
    "end": "2832240"
  },
  {
    "text": "enjoy it thank you very much",
    "start": "2832240",
    "end": "2836079"
  }
]