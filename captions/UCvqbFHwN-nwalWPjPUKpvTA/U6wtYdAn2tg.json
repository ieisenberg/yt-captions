[
  {
    "text": "[Music]",
    "start": "3300",
    "end": "12190"
  },
  {
    "text": "do",
    "start": "14920",
    "end": "17920"
  },
  {
    "text": "hello everyone and welcome to cloud native live where we dive into the code behind cloud",
    "start": "22720",
    "end": "29039"
  },
  {
    "text": "native i am your host itai shakuri i am the director of open source at aqua security",
    "start": "29039",
    "end": "35280"
  },
  {
    "text": "i'm also a cncf cloud native ambassador and the host of today's show",
    "start": "35280",
    "end": "40320"
  },
  {
    "text": "so every week we bring a new set of presenters to show you how to work with cloud native technologies they will",
    "start": "40320",
    "end": "46719"
  },
  {
    "text": "build things and break things and answer your questions this week we have the uh",
    "start": "46719",
    "end": "53280"
  },
  {
    "text": "influx db team to talk with us about telegraph kubernetes operator",
    "start": "53280",
    "end": "58879"
  },
  {
    "text": "we have quite a crew today so they will introduce themselves in a minute i just want",
    "start": "58879",
    "end": "63920"
  },
  {
    "text": "to remind everyone first that this is an official live stream of the cncf and as such is",
    "start": "63920",
    "end": "69760"
  },
  {
    "text": "subject to the cncf code of conduct so please don't add anything to the chat or questions",
    "start": "69760",
    "end": "75280"
  },
  {
    "text": "that would be in violation of that code of conduct basically just be nice to each other and",
    "start": "75280",
    "end": "81360"
  },
  {
    "text": "the presenters as well so with that i'll hand it over to uh pat to",
    "start": "81360",
    "end": "86880"
  },
  {
    "text": "kick off the round of introductions cool so we'll go around and do a quick round of introductions so first i'll start",
    "start": "86880",
    "end": "93040"
  },
  {
    "text": "with me i'm pat gone engineering manager at influx data of the deployments team so we're the",
    "start": "93040",
    "end": "98880"
  },
  {
    "text": "team responsible for continuously deploying our product into kubernetes in",
    "start": "98880",
    "end": "104000"
  },
  {
    "text": "the cloud and with that um voice check you want to introduce yourself okay hi my name is baichi kothian i work",
    "start": "104000",
    "end": "111360"
  },
  {
    "text": "at influx data i work in pat's team in the deployments team and i'm among other things i'm one of",
    "start": "111360",
    "end": "118159"
  },
  {
    "text": "the maintainers of telegraph operator that allows deploying telegraph settings",
    "start": "118159",
    "end": "123520"
  },
  {
    "text": "in in kubernetes which i believe path will explain in more detail a little bit a little bit but i actually",
    "start": "123520",
    "end": "129759"
  },
  {
    "text": "didn't say so i'm located in portland oregon where are you wojciech so i'm living in krakow in poland and",
    "start": "129759",
    "end": "135760"
  },
  {
    "text": "i'm working remotely cool all right jess do you want to introduce yourself sure i'm jess ingrassolino and i'm the",
    "start": "135760",
    "end": "143440"
  },
  {
    "text": "engineering manager for the telegraph team at influx cool and then last but not least popey",
    "start": "143440",
    "end": "149840"
  },
  {
    "text": "grandma chess grandmaster would you want to introduce yourself hello i'm bad i beat chess uh pass at",
    "start": "149840",
    "end": "157519"
  },
  {
    "text": "chess once and she's salty about it uh i'm alan also known as popey uh",
    "start": "157519",
    "end": "162720"
  },
  {
    "text": "i'm a developer advocate on the telegraph team and i'm based in the rainy united kingdom cool",
    "start": "162720",
    "end": "170560"
  },
  {
    "text": "so that's the introductions so i'll just keep going then is that okay",
    "start": "170560",
    "end": "177200"
  },
  {
    "text": "yeah yeah please go ahead cool so um so voice is going to um actually work on",
    "start": "177200",
    "end": "183360"
  },
  {
    "text": "the telegraph operator he's going to share his screen and he's going to do that and before he does that i'm going to",
    "start": "183360",
    "end": "188560"
  },
  {
    "text": "i'm here to quickly introduce a couple of things that will be relevant to his live coding section",
    "start": "188560",
    "end": "193760"
  },
  {
    "text": "session so what voytek is going to be working on today is the open source telegraph operator which is hosted at",
    "start": "193760",
    "end": "200200"
  },
  {
    "text": "github.com influx data telegraph operator i'll leave it to him to describe what changes",
    "start": "200200",
    "end": "206480"
  },
  {
    "text": "he's got planned today but i wanted to quickly explain what telegraph is and why the heck we want a",
    "start": "206480",
    "end": "211519"
  },
  {
    "text": "kubernetes operator for it we've got a couple members of our telegraph team which we've already introduced",
    "start": "211519",
    "end": "217280"
  },
  {
    "text": "here to answer questions but i'll keep it light for now and leave room for questions or conversation",
    "start": "217280",
    "end": "222720"
  },
  {
    "text": "during our session today so please do ask questions so telegraph is influx data's open",
    "start": "222720",
    "end": "228959"
  },
  {
    "text": "source plug-in driven server agent that you can use to collect metrics from a wide array of inputs and",
    "start": "228959",
    "end": "234640"
  },
  {
    "text": "write them to a wide array of outputs i think you get the idea there's a lot of choices here so i checked earlier and",
    "start": "234640",
    "end": "240560"
  },
  {
    "text": "there are close to 250 plugins now so jess your team has been busy",
    "start": "240560",
    "end": "246080"
  },
  {
    "text": "and your community has been busy so telegraph can collect metrics from a lot of different sources but for today's",
    "start": "246080",
    "end": "251760"
  },
  {
    "text": "discussion the focus is going to be the the input is kubernetes um on the output side there are also a lot of",
    "start": "251760",
    "end": "258160"
  },
  {
    "text": "different options but internally in flux i don't want to shock y'all but we tend to use the influx db",
    "start": "258160",
    "end": "264400"
  },
  {
    "text": "um output plug-in so um so that's what we're gonna that's i think what we're gonna show",
    "start": "264400",
    "end": "269759"
  },
  {
    "text": "today i do want to mention you can there's a lot of different um um out",
    "start": "269759",
    "end": "275759"
  },
  {
    "text": "output plugins that are available if you don't wanna use influx tv um the telegraph operator packages the",
    "start": "275759",
    "end": "281360"
  },
  {
    "text": "operational aspects for deploying a telegraph agent on kubernetes it's deployed as a sidecar container based on",
    "start": "281360",
    "end": "287680"
  },
  {
    "text": "annotations and provides a telegraph configuration to scrape the exposed metrics all defined declaratively it",
    "start": "287680",
    "end": "295040"
  },
  {
    "text": "allows you to find common output destinations for all your metrics so in one place you can say where you want all of your",
    "start": "295040",
    "end": "301759"
  },
  {
    "text": "kubernetes metrics to go um on all your application metrics so um that's i think really quite useful",
    "start": "301759",
    "end": "309440"
  },
  {
    "text": "um the outputs are called classes it generates telegraph configuration by combining all",
    "start": "309440",
    "end": "315840"
  },
  {
    "text": "the different pieces the configuration outputs assigned as classes along with the pod annotations that describe what data to",
    "start": "315840",
    "end": "321759"
  },
  {
    "text": "scrape and how and yes i did read that i i um because i wanted to prepare for you all ahead of",
    "start": "321759",
    "end": "327120"
  },
  {
    "text": "time so um so i'm hoping that when voice is waiting for something to build or start we can press him on some of the details",
    "start": "327120",
    "end": "333520"
  },
  {
    "text": "of what i've just described and with that i hand it over to you voice to do as iche said",
    "start": "333520",
    "end": "339840"
  },
  {
    "text": "to build and break things so go forth and build and break things voice",
    "start": "339840",
    "end": "345600"
  },
  {
    "text": "thanks a lot for the introduction part yes so what i'm hoping to be doing today assuming",
    "start": "345600",
    "end": "351199"
  },
  {
    "text": "nothing breaks is uh is to extend the telegraph operator that we talked about",
    "start": "351199",
    "end": "357039"
  },
  {
    "text": "to allow hot reloading of configuration changes so there's been a recent pr and i'm just",
    "start": "357039",
    "end": "362639"
  },
  {
    "text": "going to throw it out here for a few seconds that allows detecting and reloading of telegraph itself",
    "start": "362639",
    "end": "368400"
  },
  {
    "text": "that i believe is either released as of today or will be released soon but that has been a quite a recent",
    "start": "368400",
    "end": "375520"
  },
  {
    "text": "change which allows telegraph itself to detect the changes what we want to do now is",
    "start": "375520",
    "end": "381120"
  },
  {
    "text": "for those of us that use the telegraph operator to do to our to inject the telegraph into",
    "start": "381120",
    "end": "388880"
  },
  {
    "text": "into kubernetes deployments so that we could take it to the next step that if you change a configure class as but i mentioned",
    "start": "388880",
    "end": "396400"
  },
  {
    "text": "in a telegraph operator configuration that this change gets propagated all the way to all of your",
    "start": "396400",
    "end": "402639"
  },
  {
    "text": "telegraph site containers so i'll start by explaining and that's in the contributing",
    "start": "402639",
    "end": "408319"
  },
  {
    "text": "documentation so i'll show that i'll start by explaining how we develop a",
    "start": "408319",
    "end": "414880"
  },
  {
    "text": "telegraph operator and how what i'm going to be using today so obviously we have a lot of tests and",
    "start": "414880",
    "end": "421280"
  },
  {
    "text": "these are really important but the the the most important things is being able to",
    "start": "421280",
    "end": "426720"
  },
  {
    "text": "run the code we're going to run live in a kubernetes cluster so for that we have a pretty much ready",
    "start": "426720",
    "end": "432639"
  },
  {
    "text": "to use setup of using kubernetes in docker so kind",
    "start": "432639",
    "end": "437840"
  },
  {
    "text": "and i just happened to have kubernetes a kind cluster deployed already",
    "start": "437840",
    "end": "442880"
  },
  {
    "text": "and i happen to have a build of uh of telegraph with that pr that i just",
    "start": "442880",
    "end": "448080"
  },
  {
    "text": "showed which is important because again it may not have been released yet and i didn't decide to try the last minute",
    "start": "448080",
    "end": "454800"
  },
  {
    "text": "so i i came prepared with my own tribute image so right now what i'm going to do",
    "start": "454800",
    "end": "461520"
  },
  {
    "text": "is this i'll explain what the change will be so as i mentioned how telegraph and geographic",
    "start": "461520",
    "end": "468080"
  },
  {
    "text": "operator connected as i mentioned we have the logic to detect configuration changes the way",
    "start": "468080",
    "end": "473759"
  },
  {
    "text": "telegraph works is it has a config file and the way telegraph operator uses it",
    "start": "473759",
    "end": "479360"
  },
  {
    "text": "is we have a secret a kubernetes secret that has all of its con that has the",
    "start": "479360",
    "end": "484960"
  },
  {
    "text": "final configuration generated and then that's mounted as a volume for telegraph",
    "start": "484960",
    "end": "490240"
  },
  {
    "text": "and telegraph operator works in a similar way that we have a secret with with with",
    "start": "490240",
    "end": "496639"
  },
  {
    "text": "the classes definition and that is also mounted so in order to do this end-to-end my",
    "start": "496639",
    "end": "502800"
  },
  {
    "text": "goal would be i want to detect when the configuration of the classes changes",
    "start": "502800",
    "end": "508400"
  },
  {
    "text": "and write code that's going to find all the secrets managed by telegraph operator",
    "start": "508400",
    "end": "513518"
  },
  {
    "text": "check if they need to be updated and if they do go ahead and update them so that is the plan i'll start by",
    "start": "513519",
    "end": "522080"
  },
  {
    "text": "creating the two different parts of the change that i think i will need so i think i'm going to need something",
    "start": "522080",
    "end": "528640"
  },
  {
    "text": "like a watcher which is going to be watching the file system the reason is because telegraph operator is reading the files",
    "start": "528640",
    "end": "536320"
  },
  {
    "text": "as the mounted volume so the natural way of interacting with it would be would be to just use uh to just use the",
    "start": "536320",
    "end": "545120"
  },
  {
    "text": "the file system and what we're going to be using and i'll just import it for now just so it's there and",
    "start": "545120",
    "end": "550480"
  },
  {
    "text": "i can and i can have it in here already so we're going to use a a package called",
    "start": "550480",
    "end": "556880"
  },
  {
    "text": "fs notify which is a cross platform package to get notifications for file system changes",
    "start": "556880",
    "end": "562640"
  },
  {
    "text": "so that's going to be the first part that i that i want and i'm going to make a comment of what we'll be building",
    "start": "562640",
    "end": "568000"
  },
  {
    "text": "so it's so it's always visible so logic that monitors telegraph classes",
    "start": "568000",
    "end": "574399"
  },
  {
    "text": "directory because it's a directory that just mounts the secret and calls a function when it",
    "start": "574399",
    "end": "582080"
  },
  {
    "text": "changes so this is what will be in this file and we will also create another file which i will call updates",
    "start": "582080",
    "end": "589519"
  },
  {
    "text": "to go and this observer and this file",
    "start": "589519",
    "end": "595200"
  },
  {
    "text": "will have logic to find all secrets managed",
    "start": "595200",
    "end": "602079"
  },
  {
    "text": "managed by telegraph graph operator and update them so that is the first",
    "start": "602079",
    "end": "607839"
  },
  {
    "text": "thing that i want to do but while but i also want to show how",
    "start": "607839",
    "end": "614000"
  },
  {
    "text": "what i need to do to have to have the changes because that will allow me to explain the development workflow of",
    "start": "614000",
    "end": "619839"
  },
  {
    "text": "telegraph operate which i think is quite interesting so we have a make target we use make files and that was just mentioned in the",
    "start": "619839",
    "end": "626560"
  },
  {
    "text": "contributing section uh i kind of really believe yes so there",
    "start": "626560",
    "end": "631600"
  },
  {
    "text": "is a make target that just builds and maybe i'll simply",
    "start": "631600",
    "end": "636720"
  },
  {
    "text": "show this kind field that builds the image and then we use a feature of kubernetes in",
    "start": "636720",
    "end": "643279"
  },
  {
    "text": "docker called side loading that will load the images speed locally into docker",
    "start": "643279",
    "end": "649519"
  },
  {
    "text": "into the kind cluster so when i'm going to be deploying the telegraph operator i am going to be",
    "start": "649519",
    "end": "657600"
  },
  {
    "text": "providing my local image there's also one thing that i have prepared",
    "start": "657600",
    "end": "662720"
  },
  {
    "text": "i prepared so we the repository provides a ready to deploy",
    "start": "662720",
    "end": "668000"
  },
  {
    "text": "yaml file that allows developing that allows running telegraph operator",
    "start": "668000",
    "end": "673279"
  },
  {
    "text": "for development purposes so it has a static self-signed",
    "start": "673279",
    "end": "678880"
  },
  {
    "text": "set of certificates for which are needed because telegraph operator is using mutating web hooks and i will get to",
    "start": "678880",
    "end": "684399"
  },
  {
    "text": "that in a bit but we have that ready to use i simply modified this",
    "start": "684399",
    "end": "689680"
  },
  {
    "text": "so it passes some settings to the to the telegraph operator specifically using my image",
    "start": "689680",
    "end": "695040"
  },
  {
    "text": "that my kind cluster already has loaded and to tell telegraph to monitor the the file system for",
    "start": "695040",
    "end": "700800"
  },
  {
    "text": "changes because that's not enabled by default at this as of as of now since the latest",
    "start": "700800",
    "end": "706399"
  },
  {
    "text": "telegraph doesn't support it yet so now that i've built it i can just apply",
    "start": "706399",
    "end": "712000"
  },
  {
    "text": "my uh deploy dev deploy watch so i can deploy my",
    "start": "712000",
    "end": "718480"
  },
  {
    "text": "telegraph operator and i can see that it's that it's",
    "start": "718480",
    "end": "724639"
  },
  {
    "text": "running already so the way telegraph operator works and i'm going to deploy an example of redis",
    "start": "724639",
    "end": "730639"
  },
  {
    "text": "so we can get started with how it works i have my simple radius deployment it has some",
    "start": "730639",
    "end": "735760"
  },
  {
    "text": "annotations specifically how to get the input and this is a snippet of telegraph configuration",
    "start": "735760",
    "end": "743040"
  },
  {
    "text": "and it mentions the class which is the type of application deficit i'm going to create a namespace test",
    "start": "743040",
    "end": "749360"
  },
  {
    "text": "which is where this gets deployed and i'm going to deploy my redis example",
    "start": "749360",
    "end": "754720"
  },
  {
    "text": "so what we'll see right now is while this yaml file has only one",
    "start": "754720",
    "end": "761760"
  },
  {
    "text": "hot listed only one container listed we see that it has two containers because telegraph operator has added the",
    "start": "761760",
    "end": "769440"
  },
  {
    "text": "the telegraph sidecar container",
    "start": "769440",
    "end": "774959"
  },
  {
    "text": "so this is how telegraph works today and but now what i'm really interested in is",
    "start": "774959",
    "end": "780800"
  },
  {
    "text": "is doing the reloading logic so in order to get bootstrapped with this",
    "start": "780800",
    "end": "786079"
  },
  {
    "text": "we're going to be cheating ourselves a bit initially so i'm going to create a structure for the",
    "start": "786079",
    "end": "792000"
  },
  {
    "text": "watcher uh which we'll be using and now i can",
    "start": "792000",
    "end": "797279"
  },
  {
    "text": "actually do this which will be using a watcher this notify watcher",
    "start": "797279",
    "end": "803440"
  },
  {
    "text": "[Music] okay we will also be keeping the directory",
    "start": "803950",
    "end": "811360"
  },
  {
    "text": "and we will be i think that may be all that we need for now and we can",
    "start": "812240",
    "end": "817279"
  },
  {
    "text": "oh we also want to have the the callback which you can say uh which which you can define as a type",
    "start": "817279",
    "end": "826160"
  },
  {
    "text": "so this will be from this will be just a just an empty function and i'll explain why in a bit once we",
    "start": "826160",
    "end": "833040"
  },
  {
    "text": "get to the implementation but basically this will just be called whenever we see there is a change happening",
    "start": "833040",
    "end": "840000"
  },
  {
    "text": "and as i mentioned we're going to be we're going to be cheat oh we also want",
    "start": "840000",
    "end": "846959"
  },
  {
    "text": "we also want is a logger that's what would be nice if we have that for some reason mike okay so we want to",
    "start": "846959",
    "end": "855279"
  },
  {
    "text": "get the logger and also uh okay this is what we really",
    "start": "855279",
    "end": "860320"
  },
  {
    "text": "want okay so what we want to get is the logger and the telegraph classes directory and the",
    "start": "860320",
    "end": "865600"
  },
  {
    "text": "unchange and obviously this would return my",
    "start": "865600",
    "end": "870880"
  },
  {
    "text": "structure or an error oh we hold this for a bit so we can see more of the",
    "start": "870880",
    "end": "877360"
  },
  {
    "text": "code so we're going to let's create this",
    "start": "877360",
    "end": "883360"
  },
  {
    "text": "so let's create this i need to copy the logger into well we don't probably we don't",
    "start": "883360",
    "end": "891120"
  },
  {
    "text": "need a directory but let's let's keep it in here we can clean it up later and unchange okay so for now there's not much logic",
    "start": "891120",
    "end": "900079"
  },
  {
    "text": "in here that should be fine except i don't know why my",
    "start": "900079",
    "end": "905760"
  },
  {
    "text": "oh okay i need to go get go get",
    "start": "905760",
    "end": "910480"
  },
  {
    "text": "calm okay maybe let me just",
    "start": "910839",
    "end": "916959"
  },
  {
    "text": "reload the window what are you using fs notify for so fs fs notify is a package for",
    "start": "916959",
    "end": "923680"
  },
  {
    "text": "detecting changes in the file system okay so as i mentioned we since we mount okay",
    "start": "923680",
    "end": "929360"
  },
  {
    "text": "i'll also show the classes so we have the classes which are the which are the",
    "start": "929360",
    "end": "934800"
  },
  {
    "text": "outputs that we talked about so we have the classes and this is a kubernetes secret and then in the deployment",
    "start": "934800",
    "end": "941360"
  },
  {
    "text": "of our telegraph operator this is mounted as a as a path for in the telegraph operator",
    "start": "941360",
    "end": "948000"
  },
  {
    "text": "so because this is mounted as a file system we want to watch whenever this changes so one of the things one of the nice",
    "start": "948000",
    "end": "954880"
  },
  {
    "text": "things about mounting secrets as volumes instead of using environment variables is that",
    "start": "954880",
    "end": "960079"
  },
  {
    "text": "whenever the secret changes it takes a few seconds or up to a minute from my experience but",
    "start": "960079",
    "end": "966160"
  },
  {
    "text": "the change gets propagated to the pod so we want to monitor this directory to see the changes but we're going to",
    "start": "966160",
    "end": "973199"
  },
  {
    "text": "start a bit smaller okay so i really don't know okay right now i know what it was",
    "start": "973199",
    "end": "982160"
  },
  {
    "text": "okay so we we're doing this but instead of actually watching the",
    "start": "984160",
    "end": "990399"
  },
  {
    "text": "file system for now as i mentioned we're going to be cheating a bit so we're going to write",
    "start": "990399",
    "end": "996320"
  },
  {
    "text": "uh uh of course going to write a dummy",
    "start": "996320",
    "end": "1003680"
  },
  {
    "text": "function which is just going to be",
    "start": "1003680",
    "end": "1008560"
  },
  {
    "text": "sleeping and calling the callback every 10 seconds so the reason why we're",
    "start": "1009120",
    "end": "1015519"
  },
  {
    "text": "doing it this way is because",
    "start": "1015519",
    "end": "1021279"
  },
  {
    "text": "now we don't have to implement the whole logic for the watcher to implement the other part which is the",
    "start": "1021279",
    "end": "1026558"
  },
  {
    "text": "updates so we can focus on the updates which is more in which i believe is more interesting and then we can fine-tune",
    "start": "1026559",
    "end": "1031678"
  },
  {
    "text": "the the monitoring okay so i see we have a",
    "start": "1031679",
    "end": "1039600"
  },
  {
    "text": "couple of uh newcomers that have joined uh possibly after uh we did the",
    "start": "1039600",
    "end": "1044798"
  },
  {
    "text": "introduction so could you just uh very quickly recap uh the context for uh everyone who",
    "start": "1044799",
    "end": "1051120"
  },
  {
    "text": "joined recently what these were doing and uh yeah okay yes definitely so what we are",
    "start": "1051120",
    "end": "1058559"
  },
  {
    "text": "working on telegraph operator to add functionality to support hot reloading",
    "start": "1058559",
    "end": "1064480"
  },
  {
    "text": "so telegraph operator injects telegraph sidecars into ports that have specific",
    "start": "1064480",
    "end": "1070640"
  },
  {
    "text": "annotations and telegraph is a is an agent that monitors different types of metrics and scrapes",
    "start": "1070640",
    "end": "1077440"
  },
  {
    "text": "data from applications and can now put them into multiple supported types of outputs",
    "start": "1077440",
    "end": "1083760"
  },
  {
    "text": "so what we want to do is we want to we want to support the case that we if i",
    "start": "1083760",
    "end": "1089679"
  },
  {
    "text": "go and change my settings which we call and change to what we call classes",
    "start": "1089679",
    "end": "1095440"
  },
  {
    "text": "so one of the types of applications that could be monitoring if i change something in here i want that update just updating the",
    "start": "1095440",
    "end": "1101440"
  },
  {
    "text": "secret will end up in in telegraph operator and telegraph",
    "start": "1101440",
    "end": "1107280"
  },
  {
    "text": "getting to the point where they transparently get the latest configurations they just applied",
    "start": "1107280",
    "end": "1112880"
  },
  {
    "text": "and reload the configuration so telegraph starts using the new settings instead of the old settings",
    "start": "1112880",
    "end": "1119120"
  },
  {
    "text": "and the rational is that when we can we don't need to mention it previously the rational is that",
    "start": "1119120",
    "end": "1124160"
  },
  {
    "text": "if you're monitoring a lot of odds and systems and we do we use serious",
    "start": "1124160",
    "end": "1131280"
  },
  {
    "text": "trigraph operator in anger so after we have um one of the issues we had is if we ever change settings like we want to",
    "start": "1131280",
    "end": "1137760"
  },
  {
    "text": "change the token or where the data is sent or like we want to send the data to multiple databases we can have a mirror of the",
    "start": "1137760",
    "end": "1144000"
  },
  {
    "text": "data to before the feature that we're going to be implementing we would have to go in and",
    "start": "1144000",
    "end": "1150960"
  },
  {
    "text": "force a restart of all of the diesel of the telegraph containers and often this meant restarting all of the",
    "start": "1150960",
    "end": "1156559"
  },
  {
    "text": "pots and what we want to get to is that all of these configuration changes happen transparently and as as an operator of a",
    "start": "1156559",
    "end": "1164480"
  },
  {
    "text": "cluster i could just go edit the edit the settings for telegraph operator and it gets propagated to all of the",
    "start": "1164480",
    "end": "1170160"
  },
  {
    "text": "parts that that need to change applied i know we're pretty excited about using this internally because this is something",
    "start": "1170160",
    "end": "1177200"
  },
  {
    "text": "like because we use this um operator in our in our product and",
    "start": "1177200",
    "end": "1182799"
  },
  {
    "text": "we'll make a change and we're like okay now we're waiting for it to be seen so yes this is",
    "start": "1182799",
    "end": "1188720"
  },
  {
    "text": "actually a feature that came up from our internal issues that we're having so this is an improvement that we",
    "start": "1188720",
    "end": "1194080"
  },
  {
    "text": "think the community would benefit from but this is something we would definitely benefit from okay so now that i've",
    "start": "1194080",
    "end": "1199679"
  },
  {
    "text": "created my thing my my changes to well watcher i can i can initialize this so new",
    "start": "1199679",
    "end": "1207600"
  },
  {
    "text": "telegraph classes watcher let me create name whatever so i'm going to create a",
    "start": "1207600",
    "end": "1215360"
  },
  {
    "text": "new instance of logger i'm going to pass the telegraph classes directory which",
    "start": "1215360",
    "end": "1220720"
  },
  {
    "text": "is a flag so so a command line option to telegraph operator uh",
    "start": "1220720",
    "end": "1228080"
  },
  {
    "text": "yes in here so it defaults to exactly how we mount the volume but if someone wants to use telegraph operator",
    "start": "1228080",
    "end": "1234400"
  },
  {
    "text": "differently it can be changed so we want to pass that and then we want to pass our callback which will",
    "start": "1234400",
    "end": "1240000"
  },
  {
    "text": "be nil for now because we need to implement our callback as well so now let's just add some basic error",
    "start": "1240000",
    "end": "1246840"
  },
  {
    "text": "handling and now we don't need the watcher so setting thing up watching failed",
    "start": "1246840",
    "end": "1256880"
  },
  {
    "text": "okay and call link is right no new variables so that's great so now we need to do",
    "start": "1257440",
    "end": "1262880"
  },
  {
    "text": "something similar for the updates so",
    "start": "1262880",
    "end": "1267919"
  },
  {
    "text": "secrets let's call it updater actually which would mean that i need to update",
    "start": "1267919",
    "end": "1274000"
  },
  {
    "text": "the docker file but somehow i don't like the name updates okay secrets",
    "start": "1274000",
    "end": "1279360"
  },
  {
    "text": "let's call it secret updater and what will we need for that so we'll",
    "start": "1279360",
    "end": "1285280"
  },
  {
    "text": "definitely need client set because we're going to be talking to kubernetes so let's let's just cover this client",
    "start": "1285280",
    "end": "1294320"
  },
  {
    "text": "okay that was that went well i was we need logger as well",
    "start": "1294320",
    "end": "1301280"
  },
  {
    "text": "and what we will need is an object that's uh",
    "start": "1301919",
    "end": "1307120"
  },
  {
    "text": "this this is an object that this is a part of existing part of the telegraph operator",
    "start": "1308640",
    "end": "1314400"
  },
  {
    "text": "that's handling generate that's handling adding the secrets managing the secret so we need that",
    "start": "1314400",
    "end": "1319600"
  },
  {
    "text": "to call some of that logic to update the secrets so we have our structure and we also need a function that can",
    "start": "1319600",
    "end": "1326000"
  },
  {
    "text": "create it so we're going to also take the logger the car",
    "start": "1326000",
    "end": "1333440"
  },
  {
    "text": "and i don't think we need anything else also yes this should be a point handler and we will return the secrets",
    "start": "1334000",
    "end": "1341280"
  },
  {
    "text": "updater or a point to a security or an error okay",
    "start": "1341280",
    "end": "1346640"
  },
  {
    "text": "so now we need to initialize the kubernetes configuration because telegraph operator is running",
    "start": "1346640",
    "end": "1352159"
  },
  {
    "text": "within the cluster we could just initialize this by default so let's just",
    "start": "1352159",
    "end": "1357840"
  },
  {
    "text": "config get config oh okay and i'm happy to see that vs",
    "start": "1357840",
    "end": "1363760"
  },
  {
    "text": "code did all of that in its own i didn't have to think too much about the names of packages last time i tried it",
    "start": "1363760",
    "end": "1370320"
  },
  {
    "text": "that didn't work so smoothly for me at least with generating the confidence but okay so we have the",
    "start": "1370320",
    "end": "1375760"
  },
  {
    "text": "config now let's create the client set from config config we have all of that",
    "start": "1375760",
    "end": "1384640"
  },
  {
    "text": "and again if there was an error just return the error and now i believe we can return the",
    "start": "1384640",
    "end": "1391120"
  },
  {
    "text": "secrets of data so we want to keep the client set we want the logger and the site",
    "start": "1391120",
    "end": "1400840"
  },
  {
    "text": "handler and obviously neo okay okay typo",
    "start": "1400840",
    "end": "1408960"
  },
  {
    "text": "and what we will create here is the is the unchanged function so we get",
    "start": "1408960",
    "end": "1414840"
  },
  {
    "text": "also",
    "start": "1414840",
    "end": "1417840"
  },
  {
    "text": "and that function will do nothing so now let's just well it could just say update",
    "start": "1420400",
    "end": "1429200"
  },
  {
    "text": "secrets checking secrets for updates and that could",
    "start": "1429200",
    "end": "1435360"
  },
  {
    "text": "technically be all and we could even deploy it at this point and see if it works we also need to",
    "start": "1435360",
    "end": "1440640"
  },
  {
    "text": "create it in main so like data and error his new secrets updater we did",
    "start": "1440640",
    "end": "1448559"
  },
  {
    "text": "log with name we take the slide car which is already",
    "start": "1448559",
    "end": "1454640"
  },
  {
    "text": "initialized above so we can just use it and that's it so there's an error",
    "start": "1454640",
    "end": "1462559"
  },
  {
    "text": "update failed and now we can pass the callback that we've just",
    "start": "1462880",
    "end": "1469039"
  },
  {
    "text": "created and i think at this point we can even try to rebuild it and",
    "start": "1469039",
    "end": "1474559"
  },
  {
    "text": "make kind yield and get it deployed make sure that things that we that we see that log just just",
    "start": "1474559",
    "end": "1481120"
  },
  {
    "text": "to just also show how to deploy a new version of telegraph operator",
    "start": "1481120",
    "end": "1486799"
  },
  {
    "text": "and i can actually start to implement the changes while that's",
    "start": "1486799",
    "end": "1492880"
  },
  {
    "text": "happening so in order to find all this so what we want to do right now is find our",
    "start": "1492880",
    "end": "1499679"
  },
  {
    "text": "namespaces and find our secret telegraph operator managed secrets in each",
    "start": "1499679",
    "end": "1506640"
  },
  {
    "text": "namespace so that's what we're going to be doing telegraph operator already",
    "start": "1506640",
    "end": "1513039"
  },
  {
    "text": "that's labels that indicate the class name and the part that this secret was created from so we could",
    "start": "1513039",
    "end": "1518960"
  },
  {
    "text": "use that to find all of the secrets and that's why we created the client set so basically whenever we see changes",
    "start": "1518960",
    "end": "1525279"
  },
  {
    "text": "we're just going to find all the secrets that telegraph operator manages regenerate their configuration and if they change",
    "start": "1525279",
    "end": "1531679"
  },
  {
    "text": "just go ahead and update the secret so let's just just okay let's just",
    "start": "1531679",
    "end": "1538080"
  },
  {
    "text": "before i continue with that let's let's update it so even though the make kind built so i run",
    "start": "1538080",
    "end": "1545520"
  },
  {
    "text": "the make kind build which builds the image and side loaded it into kind but in order to update the deployment of",
    "start": "1545520",
    "end": "1551679"
  },
  {
    "text": "telegraph operator i have to go in and first delete it so let me deploy",
    "start": "1551679",
    "end": "1557760"
  },
  {
    "text": "my level let me deploy telegraph operator again and hopefully somewhere in my history i have this and i can keep my",
    "start": "1557760",
    "end": "1565039"
  },
  {
    "text": "logs of telegraph operator below and we should see every 10 seconds the new message we are the cheating secrets were updated exactly",
    "start": "1565039",
    "end": "1572480"
  },
  {
    "text": "so now we can continue with this code so client set",
    "start": "1572480",
    "end": "1579840"
  },
  {
    "text": "and i believe that was set uh that was called v1",
    "start": "1579840",
    "end": "1587759"
  },
  {
    "text": "curve v1 namespaces okay not get at least also we want to create",
    "start": "1588080",
    "end": "1595120"
  },
  {
    "text": "a context and let's add a to do this",
    "start": "1595120",
    "end": "1602480"
  },
  {
    "text": "time out to the context so this would be useful that we could deal with timeouts in the",
    "start": "1602480",
    "end": "1608000"
  },
  {
    "text": "future but okay for now we just want to list it give it the context and i believe you want to do this",
    "start": "1608000",
    "end": "1617120"
  },
  {
    "text": "and there is one thing that i always that visual studio always does visual",
    "start": "1617120",
    "end": "1622480"
  },
  {
    "text": "studio always does for me and i keep on renaming it i always prefer to be just to be called meta v1",
    "start": "1622480",
    "end": "1628640"
  },
  {
    "text": "because then the next inputs for v1 gets a bit more complex so we we don't have the the watcher",
    "start": "1628640",
    "end": "1635520"
  },
  {
    "text": "handle error so in this case we will do something like this if error isn't new we'll just log it and and exit",
    "start": "1635520",
    "end": "1645200"
  },
  {
    "text": "error give it the error and then we say unable to list namespaces",
    "start": "1645520",
    "end": "1652399"
  },
  {
    "text": "and return we don't have to be more variables because the logger already has a different name so if the namespaces were listed",
    "start": "1652720",
    "end": "1660080"
  },
  {
    "text": "properly we can we can get we can iterate",
    "start": "1660080",
    "end": "1667039"
  },
  {
    "text": "all items and now what we could do is we could call a function",
    "start": "1667039",
    "end": "1674640"
  },
  {
    "text": "that will implement update secrets in namespace space",
    "start": "1674640",
    "end": "1682399"
  },
  {
    "text": "name and oh okay",
    "start": "1682399",
    "end": "1689440"
  },
  {
    "text": "update spreads namespace okay let's do this",
    "start": "1689840",
    "end": "1697039"
  },
  {
    "text": "namespace so the way the way the logger works is that you can pass on a list of",
    "start": "1697039",
    "end": "1704799"
  },
  {
    "text": "key value list after the message so i can say this is my message and then i can see this is the namespace",
    "start": "1704799",
    "end": "1710320"
  },
  {
    "text": "and it's going to be included in the logs so this way whenever any single",
    "start": "1710320",
    "end": "1715520"
  },
  {
    "text": "update of any single namespace fails it will also it will not prevent other namespaces from failing so",
    "start": "1715520",
    "end": "1722399"
  },
  {
    "text": "this is a better way of doing this and also then our function for a specific namespace",
    "start": "1722399",
    "end": "1727520"
  },
  {
    "text": "can return arrows which is useful because the logic in there may be a bit more complex",
    "start": "1727520",
    "end": "1733200"
  },
  {
    "text": "so secrets of data so let's write this function it should",
    "start": "1733200",
    "end": "1739520"
  },
  {
    "text": "take the same context that we that it should take a context because we're going to need it",
    "start": "1739520",
    "end": "1744960"
  },
  {
    "text": "to call the client set and then let's take the namespace name and we can return an error",
    "start": "1744960",
    "end": "1751039"
  },
  {
    "text": "so now what we want to do is find all the secrets in that namespace",
    "start": "1751039",
    "end": "1757679"
  },
  {
    "text": "that have the label we talked about so let's let's do that so client set",
    "start": "1757679",
    "end": "1765679"
  },
  {
    "text": "are also incredibly one i believe could be one secrets and now we need to give you the",
    "start": "1765679",
    "end": "1770799"
  },
  {
    "text": "namespace that we want to list it in double check yes namespace",
    "start": "1770799",
    "end": "1778080"
  },
  {
    "text": "and we want to list them give the context so if you want these options but now in",
    "start": "1778080",
    "end": "1783760"
  },
  {
    "text": "the options we want to say label selector and let me check",
    "start": "1783760",
    "end": "1789039"
  },
  {
    "text": "the label so we have as i mentioned we have two labels",
    "start": "1789039",
    "end": "1794320"
  },
  {
    "text": "in each of the secrets we're going to find the secret that has the class name set we could be using the other label and it",
    "start": "1794320",
    "end": "1800640"
  },
  {
    "text": "would be the same it doesn't really matter that much but okay this way the covering the the the secrets",
    "start": "1800640",
    "end": "1808399"
  },
  {
    "text": "that we will be getting around the secrets with that label so we only will get secrets that telegraph manages",
    "start": "1808399",
    "end": "1813679"
  },
  {
    "text": "anyway so obviously if error isn't new just return the error and now we can iterate",
    "start": "1813679",
    "end": "1820000"
  },
  {
    "text": "over each secret",
    "start": "1820000",
    "end": "1823840"
  },
  {
    "text": "okay so now let's let me explain how",
    "start": "1825840",
    "end": "1832080"
  },
  {
    "text": "the secrets are set secretly",
    "start": "1832080",
    "end": "1837679"
  },
  {
    "text": "yes okay so the way it works is that we have a single key called telegraph.conf which is the the",
    "start": "1840000",
    "end": "1846080"
  },
  {
    "text": "exact configuration for telegraph you can even show this i have this visual studio called plugin",
    "start": "1846080",
    "end": "1854159"
  },
  {
    "text": "that allows decoding and encoding base64 for an extracted text which is",
    "start": "1854159",
    "end": "1859360"
  },
  {
    "text": "super useful for dealing with kubernetes secrets because that you have to do this a lot",
    "start": "1859360",
    "end": "1864640"
  },
  {
    "text": "so you can see this is the configuration this was in the annotation this was in",
    "start": "1864640",
    "end": "1869679"
  },
  {
    "text": "the in the class and telegraph also injects gathering internal metrics of telegraph",
    "start": "1869679",
    "end": "1875519"
  },
  {
    "text": "if by default and it's a it's a setting that can be changed but okay this is the contents of the secret",
    "start": "1875519",
    "end": "1882559"
  },
  {
    "text": "and the sidecar handler that we wanted to have in this uh studio that we wanted",
    "start": "1882559",
    "end": "1889600"
  },
  {
    "text": "to be passed the secrets updater can generate that so there is a method called assemble",
    "start": "1889600",
    "end": "1894720"
  },
  {
    "text": "conf which takes a positive that we don't have and takes",
    "start": "1894720",
    "end": "1900399"
  },
  {
    "text": "the class data which is the contents which is this this is class data so now",
    "start": "1900399",
    "end": "1905600"
  },
  {
    "text": "we need to do two things first thing is we want to get the pod",
    "start": "1905600",
    "end": "1911279"
  },
  {
    "text": "so again client set core v1 uh ports in our namespace want to get",
    "start": "1911279",
    "end": "1918840"
  },
  {
    "text": "one the name we could use the labels from the secrets you could do secret",
    "start": "1918840",
    "end": "1927120"
  },
  {
    "text": "oh wait okay let's let's do the spot name subscribe",
    "start": "1927120",
    "end": "1935440"
  },
  {
    "text": "labels no okay that was what was missing okay secret",
    "start": "1935440",
    "end": "1941600"
  },
  {
    "text": "labels with labels and we want to get the other label",
    "start": "1941600",
    "end": "1947440"
  },
  {
    "text": "label part so this is the pod name actually it's just we want to get the",
    "start": "1947440",
    "end": "1952880"
  },
  {
    "text": "pod and then options we don't really have any option we don't really care about",
    "start": "1952880",
    "end": "1959120"
  },
  {
    "text": "any options if there was an error we just returned it as well",
    "start": "1959120",
    "end": "1964480"
  },
  {
    "text": "and now we just need class data and if we",
    "start": "1964480",
    "end": "1970159"
  },
  {
    "text": "we believe the cipher method also has okay yes so we can get the class data using a",
    "start": "1971519",
    "end": "1978000"
  },
  {
    "text": "different different different structure different interface that we have plus data handler and we just need to",
    "start": "1978000",
    "end": "1984640"
  },
  {
    "text": "give it the class name which is also class which is also a",
    "start": "1984640",
    "end": "1990960"
  },
  {
    "text": "a label so we just need to we just need to get it from the label as well",
    "start": "1990960",
    "end": "1997279"
  },
  {
    "text": "i believe it also can return an error yes so let's just make it a bit",
    "start": "1998480",
    "end": "2006320"
  },
  {
    "text": "cleaner okay so now we have the telegraph configuration",
    "start": "2006320",
    "end": "2011919"
  },
  {
    "text": "which is the string that we've seen in that secret which is just it's just concatenating all of the",
    "start": "2011919",
    "end": "2017919"
  },
  {
    "text": "settings validating this this this is a valid tumble file which is the syntax from telegraph",
    "start": "2017919",
    "end": "2024720"
  },
  {
    "text": "so we have that and now what we can do is if the secret data",
    "start": "2024720",
    "end": "2032399"
  },
  {
    "text": "and let me the graph conf okay this is so this is the",
    "start": "2032399",
    "end": "2039200"
  },
  {
    "text": "constant that we have which is telegraph.com which is the key in the secret that if this is neil",
    "start": "2039200",
    "end": "2046799"
  },
  {
    "text": "or now that it's now that we know it's not nil we can just compare it as string",
    "start": "2046799",
    "end": "2054000"
  },
  {
    "text": "if it's not equal then let's lock something so we actually use the logger and for",
    "start": "2054320",
    "end": "2061679"
  },
  {
    "text": "updating secret and let's lock something so namespace is",
    "start": "2061679",
    "end": "2066878"
  },
  {
    "text": "namespace odd name is okay so name let's log the name of the secret",
    "start": "2066879",
    "end": "2073358"
  },
  {
    "text": "name what name is what name and class is class name let's",
    "start": "2073359",
    "end": "2080079"
  },
  {
    "text": "let's load this as well this will be quite variable but it's useful",
    "start": "2080079",
    "end": "2085520"
  },
  {
    "text": "so we can now set this data field to telegraph oh we have to convert it to",
    "start": "2085520",
    "end": "2093280"
  },
  {
    "text": "a byte array and we set it and now we can call",
    "start": "2093280",
    "end": "2099280"
  },
  {
    "text": "the kubernetes okay let's uh",
    "start": "2100359",
    "end": "2106560"
  },
  {
    "text": "carve one secret namespace actually we could do this",
    "start": "2106560",
    "end": "2116320"
  },
  {
    "text": "we're using this we could just keep it this way so update and we call an update",
    "start": "2116320",
    "end": "2123839"
  },
  {
    "text": "on the secrets we need context the secret and the up and empty options",
    "start": "2123839",
    "end": "2132079"
  },
  {
    "text": "so we're not interested in the result but we're interested in the error it happens we return it",
    "start": "2132079",
    "end": "2139599"
  },
  {
    "text": "and i think the error isn't any variable anyway and if there were no changes let's just",
    "start": "2139599",
    "end": "2146480"
  },
  {
    "text": "lock something so we can see that nothing happened and let's take a look at the problem we",
    "start": "2146480",
    "end": "2153040"
  },
  {
    "text": "see values errors and handling as well okay",
    "start": "2153040",
    "end": "2158400"
  },
  {
    "text": "yes so i think right now as soon as we clean up all of the",
    "start": "2158400",
    "end": "2165200"
  },
  {
    "text": "potential errors i think we're at the point where this code could actually work",
    "start": "2165200",
    "end": "2170880"
  },
  {
    "text": "so i'm going to build this",
    "start": "2170880",
    "end": "2173838"
  },
  {
    "text": "and while we're waiting i can explain",
    "start": "2176480",
    "end": "2184000"
  },
  {
    "text": "something about exactly how that sidecar how telegraph operator works the",
    "start": "2184000",
    "end": "2189760"
  },
  {
    "text": "the things that we're not touching today but just so just so we explain how telegraph operator works in general yeah there was",
    "start": "2189760",
    "end": "2196240"
  },
  {
    "text": "a question on the side about doing it as like a sidecar versus a daemon set so",
    "start": "2196240",
    "end": "2201760"
  },
  {
    "text": "that sounds perfect okay right so the reason we chose to do it as a as a sidekick container is that for some",
    "start": "2201760",
    "end": "2208320"
  },
  {
    "text": "of the for some of the input plugins of the means of getting the data that",
    "start": "2208320",
    "end": "2214079"
  },
  {
    "text": "that data could be retrieved only from the same the same part that the actual application is running in",
    "start": "2214079",
    "end": "2220320"
  },
  {
    "text": "so for redis this is using networking so it would be possible to run it as a daemon set",
    "start": "2220320",
    "end": "2225440"
  },
  {
    "text": "uh we don't have the functionality in telegraph operator to do this but it would be possible to do this but",
    "start": "2225440",
    "end": "2231440"
  },
  {
    "text": "we've chosen to use sidecar containers because telegraph isn't that large of a process",
    "start": "2231440",
    "end": "2238480"
  },
  {
    "text": "in some cases it is easier to get or more information could be gathered from within the same pod",
    "start": "2238480",
    "end": "2244960"
  },
  {
    "text": "and we found this to be also more manageable if there is a if there is a sidecar container because there is also the matter of of",
    "start": "2244960",
    "end": "2251839"
  },
  {
    "text": "watching and then batching small sets of because telegraph isn't always sending the data right away but for example if",
    "start": "2251839",
    "end": "2258240"
  },
  {
    "text": "if it's trying to send data to a database like an influx db database that's not available at this point it",
    "start": "2258240",
    "end": "2264320"
  },
  {
    "text": "will keep it in memory and send it later on and then in that case it is better to have",
    "start": "2264320",
    "end": "2270960"
  },
  {
    "text": "more smaller instances of telegraph i understand that this could be somewhat more resource some using some",
    "start": "2270960",
    "end": "2277440"
  },
  {
    "text": "so much some somewhat more resources but we found this to be more reliable and potentially",
    "start": "2277440",
    "end": "2284880"
  },
  {
    "text": "well we we don't think we lose that we lose metrics but i can imagine that this approach would potentially lose less",
    "start": "2284880",
    "end": "2290320"
  },
  {
    "text": "matrix than trying to use a daemon set so at this point the operator only",
    "start": "2290320",
    "end": "2295599"
  },
  {
    "text": "supports sidecars but i wanted to what i wanted to explain maybe i'll just take a quick detour to do this right now",
    "start": "2295599",
    "end": "2301760"
  },
  {
    "text": "is how it it works so telegraph operator registers as a",
    "start": "2301760",
    "end": "2309920"
  },
  {
    "text": "as a mutating webhook that",
    "start": "2309920",
    "end": "2315200"
  },
  {
    "text": "that gets support injector meaning that whenever i when it when it gets registered whenever",
    "start": "2315359",
    "end": "2321119"
  },
  {
    "text": "a new pod is about to be created such as by a stateful set at the deployment",
    "start": "2321119",
    "end": "2326800"
  },
  {
    "text": "or any other way in which a port could be created which could also be third party operators well before that",
    "start": "2326800",
    "end": "2333040"
  },
  {
    "text": "happens the telegraph operator gets receives a uh an api call which is called our",
    "start": "2333040",
    "end": "2340320"
  },
  {
    "text": "admission request where where the type of request",
    "start": "2340320",
    "end": "2346240"
  },
  {
    "text": "and the object gets passed so for example in our logic we check if this is a delete then we",
    "start": "2346240",
    "end": "2353440"
  },
  {
    "text": "then we then we delete the secret that would be associated with this specific pod",
    "start": "2353440",
    "end": "2358880"
  },
  {
    "text": "so if someone for example deleted that deployment and this to give the deletion of a pot",
    "start": "2358880",
    "end": "2364480"
  },
  {
    "text": "then before this spot gets deleted we also delete the secret the telegraph the secret of the telegraph",
    "start": "2364480",
    "end": "2370000"
  },
  {
    "text": "configuration in other cases we call the site handler to check if it should be skipped",
    "start": "2370000",
    "end": "2376320"
  },
  {
    "text": "and then to inject the to generate the secret to then we add the secret to kubernetes by",
    "start": "2376320",
    "end": "2381760"
  },
  {
    "text": "api calls and then we returned a modified hot pot spec so at some point we",
    "start": "2381760",
    "end": "2389760"
  },
  {
    "text": "create a secret and we also patch it with the with the updated pot definition",
    "start": "2389760",
    "end": "2395920"
  },
  {
    "text": "so that's what happens okay so it builds so let me delete the deployment now let me apply",
    "start": "2395920",
    "end": "2403119"
  },
  {
    "text": "this and we can",
    "start": "2403119",
    "end": "2407200"
  },
  {
    "text": "okay i suppose i suppose it was still yes it was there",
    "start": "2408839",
    "end": "2414560"
  },
  {
    "text": "were still the old ones okay so we can see right now and this will happen every 10 seconds",
    "start": "2414560",
    "end": "2420480"
  },
  {
    "text": "but we get a message that it's not updating the secret because nothing changed really",
    "start": "2420480",
    "end": "2426640"
  },
  {
    "text": "so we can see the message that the updater got was called and then it checks every",
    "start": "2426640",
    "end": "2432560"
  },
  {
    "text": "secret i could at this point i could deploy somewhere up some more examples so we have",
    "start": "2432560",
    "end": "2439520"
  },
  {
    "text": "for developing purposes we have a few examples i deployed the redis example which is a stateful set",
    "start": "2439520",
    "end": "2445040"
  },
  {
    "text": "but let me also deploy a deployment which i believe is an ingress",
    "start": "2445040",
    "end": "2450839"
  },
  {
    "text": "deployment yes and that deployment has three parts because the number of",
    "start": "2450839",
    "end": "2456480"
  },
  {
    "text": "replicas is set to free in that example and we can see now that telegraph operator is updating",
    "start": "2456480",
    "end": "2462960"
  },
  {
    "text": "the three secrets one secret for each of these parts and the fourth secret for that is so",
    "start": "2462960",
    "end": "2468079"
  },
  {
    "text": "let's modify this let's call this classes updated and let's say",
    "start": "2468079",
    "end": "2475119"
  },
  {
    "text": "so and maybe i will show this as well so in the up section we can see that",
    "start": "2475119",
    "end": "2481599"
  },
  {
    "text": "the telegraph should we'll be trying to send it to influx db which i may even have in that cluster i don't really remember but it's also",
    "start": "2481599",
    "end": "2488400"
  },
  {
    "text": "writing to standard out so if i were to do capital logs",
    "start": "2488400",
    "end": "2494640"
  },
  {
    "text": "ready zero in the test name space and let's just take the last 20 lines",
    "start": "2494640",
    "end": "2500480"
  },
  {
    "text": "we can see that telegraph was reporting a lot of metrics to standard output by the way this is line protocol",
    "start": "2500960",
    "end": "2508480"
  },
  {
    "text": "which is a a protocol for sending metrics to inflex db and i believe some other applications",
    "start": "2508480",
    "end": "2514400"
  },
  {
    "text": "let's use it and that's just because we told telegraph to lock the standard out",
    "start": "2514400",
    "end": "2519680"
  },
  {
    "text": "but let's have it log to a log file and now let's apply the changed files",
    "start": "2519680",
    "end": "2528319"
  },
  {
    "text": "some examples class is updated so let's we've updated just this one up",
    "start": "2528720",
    "end": "2535920"
  },
  {
    "text": "up class and if we take a look at nginx nginx is using the default class which is",
    "start": "2535920",
    "end": "2542880"
  },
  {
    "text": "somewhere below i believe or in for basic i don't know what the",
    "start": "2542880",
    "end": "2548640"
  },
  {
    "text": "default is but it's using a different one so now if i take a look at the logs from telegraph operator",
    "start": "2548640",
    "end": "2555200"
  },
  {
    "text": "and we can skip not updating because we know",
    "start": "2555200",
    "end": "2560400"
  },
  {
    "text": "we know there's a lot of things in there as soon as the as soon as this the mounted volume",
    "start": "2560400",
    "end": "2568319"
  },
  {
    "text": "that's based on the secret gets updated the graph operator will pick it up so you can see now the telegraph operator picked it up it",
    "start": "2568319",
    "end": "2575680"
  },
  {
    "text": "said updating secret and it's only updated the secret for redis because the one for",
    "start": "2575680",
    "end": "2581040"
  },
  {
    "text": "nginx didn't change so now we could try to get the logs for the telegraph for reddit",
    "start": "2581040",
    "end": "2588880"
  },
  {
    "text": "let's just follow it and in a bit we should see a message saying that telegraph stopped",
    "start": "2588880",
    "end": "2595680"
  },
  {
    "text": "all the plugins started all the plugins and we should no longer be seeing the outputs assuming everything worked properly it",
    "start": "2595680",
    "end": "2603200"
  },
  {
    "text": "it takes around one minute for the volume change to get propagated but i'm",
    "start": "2603200",
    "end": "2609359"
  },
  {
    "text": "quite sure that this that this has happened so i'm not going to go and check the rope secret on my own",
    "start": "2609359",
    "end": "2614400"
  },
  {
    "text": "i'm assuming i didn't make any mistakes if i believe in that but while this is happening",
    "start": "2614400",
    "end": "2621440"
  },
  {
    "text": "and hopefully we'll see the change soon i'm going to go okay we've seen the",
    "start": "2621440",
    "end": "2627040"
  },
  {
    "text": "change so in a bit we can check that there is a tmp log file in in that port that that is now having",
    "start": "2627040",
    "end": "2633839"
  },
  {
    "text": "that is now growing and gets all the new log messages so we can see that we have",
    "start": "2633839",
    "end": "2639359"
  },
  {
    "text": "the first part that we wanted which is i changed the class definition which triggered telegraph operator to",
    "start": "2639359",
    "end": "2645839"
  },
  {
    "text": "realize the change we just faked how the realization of the change happened",
    "start": "2645839",
    "end": "2650960"
  },
  {
    "text": "and then telegraph compared all the secrets and updated them but it's a really bad idea to be updating every 10 seconds",
    "start": "2650960",
    "end": "2658880"
  },
  {
    "text": "so what we're going to do next let me just okay what we're going to do next is let's let's try to use the fs notify",
    "start": "2658880",
    "end": "2667520"
  },
  {
    "text": "instead of a dummy method of just waiting so let's just create the watcher",
    "start": "2667520",
    "end": "2675599"
  },
  {
    "text": "believe it's new watcher okay and i'll explain the interface if error isn't new then",
    "start": "2675599",
    "end": "2683200"
  },
  {
    "text": "it's an error so a watcher on its own doesn't do a lot of things",
    "start": "2683200",
    "end": "2688319"
  },
  {
    "text": "it's just a mechanism but what we need to do now is we need to add",
    "start": "2688319",
    "end": "2693520"
  },
  {
    "text": "all of the paths that should be monitored so in in the perfect world this is what i",
    "start": "2693520",
    "end": "2699200"
  },
  {
    "text": "would need to do and also let me just watch it around right in the perfect world this is what",
    "start": "2699200",
    "end": "2706400"
  },
  {
    "text": "i would need to do but because of the way in which secrets",
    "start": "2706400",
    "end": "2711520"
  },
  {
    "text": "are handled let's okay let's",
    "start": "2711520",
    "end": "2717760"
  },
  {
    "text": "let's exaggerate into the red spot and i'll explain so first thing is let's let's take a look at the log file we can",
    "start": "2717760",
    "end": "2723920"
  },
  {
    "text": "see it's happening and i mean it's there and i suppose it's growing you can check it in a bit",
    "start": "2723920",
    "end": "2730720"
  },
  {
    "text": "but what i really wanted to show is how secrets are mount as mounted as volumes because that determines how the",
    "start": "2730720",
    "end": "2736800"
  },
  {
    "text": "monitoring should be happening this is something we also had to understand for the for the telegraph for",
    "start": "2736800",
    "end": "2742160"
  },
  {
    "text": "the monitoring of the trigraph config so just monitoring the directory would not be enough because",
    "start": "2742160",
    "end": "2747920"
  },
  {
    "text": "the way volumes get mapped is there is a directory starting with dot dot",
    "start": "2747920",
    "end": "2753599"
  },
  {
    "text": "that is the current contents of the of the secret so if i list this",
    "start": "2753599",
    "end": "2758960"
  },
  {
    "text": "directory i will see this is the telegraph conf then we have dot data which is assembling to that",
    "start": "2758960",
    "end": "2764240"
  },
  {
    "text": "directory and then we have the actual file linking to dot data so if i would be trying to monitor the",
    "start": "2764240",
    "end": "2770079"
  },
  {
    "text": "directory or just the specific files it may not be it may not always be",
    "start": "2770079",
    "end": "2775280"
  },
  {
    "text": "enough and it's so we're going to have to do something a bit more than that so we're going to",
    "start": "2775280",
    "end": "2782240"
  },
  {
    "text": "be listing all of the items in that directory",
    "start": "2782240",
    "end": "2788079"
  },
  {
    "text": "and again if there's an error let's just return it and let's and we're going to be",
    "start": "2788079",
    "end": "2793920"
  },
  {
    "text": "iterating over this this is more this is less cloud native this is more just fire system but still something we need to be doing so",
    "start": "2793920",
    "end": "2800640"
  },
  {
    "text": "what we want to do is we want to monitor the data all of the all of the assemblings",
    "start": "2800640",
    "end": "2805920"
  },
  {
    "text": "but we want to skip all of the data folders and the parent and current directory because this is not really",
    "start": "2805920",
    "end": "2811040"
  },
  {
    "text": "interesting so let's do this let's get let's get the name so i don't have to call the name",
    "start": "2811040",
    "end": "2816160"
  },
  {
    "text": "method all the time so if the name is dot data then we're interested in that or",
    "start": "2816160",
    "end": "2824319"
  },
  {
    "text": "if the name isn't a single dot so we want to ignore that and what we want to",
    "start": "2824319",
    "end": "2830319"
  },
  {
    "text": "ignore is all of the other paths that start with double dots so that's prefix okay",
    "start": "2830319",
    "end": "2835760"
  },
  {
    "text": "not name doesn't have prefix two dots so list all halves except",
    "start": "2835760",
    "end": "2842960"
  },
  {
    "text": "for current previous secret contents and",
    "start": "2842960",
    "end": "2850400"
  },
  {
    "text": "okay so let's do that so if this is the case",
    "start": "2850400",
    "end": "2858640"
  },
  {
    "text": "actually also let's let's log a bit more things it's always it's always better to do that and then",
    "start": "2858640",
    "end": "2865280"
  },
  {
    "text": "uh logger info adding",
    "start": "2865280",
    "end": "2871119"
  },
  {
    "text": "also now if this is the case then let's generate a path file path join",
    "start": "2877040",
    "end": "2884640"
  },
  {
    "text": "cluster name let's also lock this",
    "start": "2884640",
    "end": "2889200"
  },
  {
    "text": "and then let's log this and again error equals",
    "start": "2892960",
    "end": "2900240"
  },
  {
    "text": "[Music] okay so now our watcher has all of the all of the all of the content so okay",
    "start": "2905870",
    "end": "2915839"
  },
  {
    "text": "all of the entire contents of the volume uh monitored so we can get rid of our",
    "start": "2917280",
    "end": "2922880"
  },
  {
    "text": "dummy monitor at this point monitor for changes",
    "start": "2922880",
    "end": "2929839"
  },
  {
    "text": "since this is a go routine we'll have to handle errors internally as well so a watcher uses a channel to send",
    "start": "2934640",
    "end": "2941200"
  },
  {
    "text": "messages so let's let's do this we're going to be getting event and okay",
    "start": "2941200",
    "end": "2951839"
  },
  {
    "text": "and watch our events we want to get an event from events and actually what we will want to do is",
    "start": "2953359",
    "end": "2961200"
  },
  {
    "text": "when a secret changes there could be multiple changes so for example some siblings may be changed created",
    "start": "2961200",
    "end": "2967599"
  },
  {
    "text": "what you really want to do is and maybe i don't know if we'll be able to do this today but i mean",
    "start": "2967599",
    "end": "2973680"
  },
  {
    "text": "during this session but what we would really want to do is batch all the changes so right now we'll start with a",
    "start": "2973680",
    "end": "2979200"
  },
  {
    "text": "simple version but the next step user would be to budget so whenever we get this event",
    "start": "2979200",
    "end": "2986720"
  },
  {
    "text": "we could just color or unchange but we could also log",
    "start": "2986720",
    "end": "2992880"
  },
  {
    "text": "event received okay now so let's let's just check that the okay set to yes and",
    "start": "2993599",
    "end": "3001280"
  },
  {
    "text": "i'm pretty sure i put something in here that's what",
    "start": "3001280",
    "end": "3007200"
  },
  {
    "text": "happens during the live coding but no it should be uh okay it's this",
    "start": "3007200",
    "end": "3012640"
  },
  {
    "text": "yes obviously but okay so and oh right okay",
    "start": "3012640",
    "end": "3021280"
  },
  {
    "text": "so i think we don't even need the four which is another thing so i think that's that should be enough",
    "start": "3021280",
    "end": "3027119"
  },
  {
    "text": "to get the the events and this should trigger the changes later on so let's build this",
    "start": "3027119",
    "end": "3032880"
  },
  {
    "text": "and in the meantime let's try to let's try to do the batching so the idea i have for batching is quite",
    "start": "3032880",
    "end": "3039920"
  },
  {
    "text": "simple what you really want is use another go routine",
    "start": "3039920",
    "end": "3046160"
  },
  {
    "text": "notify on change which i'm going to implement right now",
    "start": "3046160",
    "end": "3051599"
  },
  {
    "text": "and use a very simple mechanism maybe there could be a other way to do this but we don't have a lot of time anymore",
    "start": "3051599",
    "end": "3058640"
  },
  {
    "text": "so this would be uh this could be a better idea so let's",
    "start": "3058640",
    "end": "3063680"
  },
  {
    "text": "make two things in our structure let's make event count which would be this and event",
    "start": "3063680",
    "end": "3070880"
  },
  {
    "text": "channel which would be a channel of boolean because we need something",
    "start": "3070880",
    "end": "3075440"
  },
  {
    "text": "okay [Music] okay right so and this defaults to zero",
    "start": "3076000",
    "end": "3082880"
  },
  {
    "text": "and we're going to be using atomic actually let's let's let's first check that this that this works so need to",
    "start": "3082880",
    "end": "3088720"
  },
  {
    "text": "delete the deployment apply the telegraph operator",
    "start": "3088720",
    "end": "3094800"
  },
  {
    "text": "let's see that it started so now the last time we applied",
    "start": "3095920",
    "end": "3102480"
  },
  {
    "text": "classes it was the updated version so to apply a change we need to apply the original ones",
    "start": "3102480",
    "end": "3107920"
  },
  {
    "text": "and let's keep the logs in here to see if anything happens but in the meantime i could continue",
    "start": "3107920",
    "end": "3113599"
  },
  {
    "text": "with figuring out my code so what we want to do is we want to get",
    "start": "3113599",
    "end": "3119680"
  },
  {
    "text": "event to actually event channel so we want to get so what we want to do here is",
    "start": "3119680",
    "end": "3126559"
  },
  {
    "text": "let's keep this but instead of what we had there before let's do something like this this is how i",
    "start": "3126559",
    "end": "3133359"
  },
  {
    "text": "often handle basic handling of synchronization so every",
    "start": "3133359",
    "end": "3139200"
  },
  {
    "text": "time we get an event we're going to be increasing the event count by one",
    "start": "3139200",
    "end": "3144400"
  },
  {
    "text": "also we should create a channel which is another thing but we will send a throw to the event",
    "start": "3144400",
    "end": "3149839"
  },
  {
    "text": "channel but obviously we also need to initialize the channel here",
    "start": "3149839",
    "end": "3154960"
  },
  {
    "text": "so event channel",
    "start": "3154960",
    "end": "3158400"
  },
  {
    "text": "so let's make",
    "start": "3161040",
    "end": "3167839"
  },
  {
    "text": "so we don't want to block we don't want the go routine that gets the events from fs notify to block p1 one of the things",
    "start": "3168960",
    "end": "3176319"
  },
  {
    "text": "i may have not mentioned is fs notify sends a notification about every single change",
    "start": "3176319",
    "end": "3182079"
  },
  {
    "text": "so an event describes the exact path and operation so you you could be getting multiple",
    "start": "3182079",
    "end": "3188880"
  },
  {
    "text": "events in this case we only received one and we could see that it worked so we could see that we have basic logic",
    "start": "3188880",
    "end": "3194400"
  },
  {
    "text": "without the batching but i've seen fs notify send a lot of notifications in many cases so it's",
    "start": "3194400",
    "end": "3200160"
  },
  {
    "text": "it is a good idea to have the batching on top of it okay so also let's log something",
    "start": "3200160",
    "end": "3209838"
  },
  {
    "text": "event received from internal channel and let's do this let's",
    "start": "3211520",
    "end": "3222480"
  },
  {
    "text": "let's get the okay also let's keep somewhere the previous",
    "start": "3222480",
    "end": "3230319"
  },
  {
    "text": "let's keep the previous values and let's get the current values",
    "start": "3231200",
    "end": "3239760"
  },
  {
    "text": "from the just a quick reminder that we are nearing the our time here so maybe we can leave that",
    "start": "3242000",
    "end": "3249040"
  },
  {
    "text": "part okay so yes i saw the viewer and yeah okay right so that's a really good idea",
    "start": "3249040",
    "end": "3256720"
  },
  {
    "text": "so this is the last thing that's needed it's just needed to reduce the number of kubernetes api calls",
    "start": "3256720",
    "end": "3262000"
  },
  {
    "text": "and just as i mentioned like as soon as this we've i finished writing this code and adding appropriate",
    "start": "3262000",
    "end": "3268319"
  },
  {
    "text": "unit tests this will obviously be made as a pr in the telegraph operator repository on github but yes okay",
    "start": "3268319",
    "end": "3275040"
  },
  {
    "text": "let's maybe let's just stop the coding session at this point so let's try to summarize what we've",
    "start": "3275040",
    "end": "3281760"
  },
  {
    "text": "done so far if you can uh uh just uh do a recap of what we've achieved i think we've",
    "start": "3281760",
    "end": "3287520"
  },
  {
    "text": "achieved quite a lot i mean i'm i'm watching here it's fascinating we don't get a lot of",
    "start": "3287520",
    "end": "3292559"
  },
  {
    "text": "sessions that did at this level in the show so i'm very happy that we get an",
    "start": "3292559",
    "end": "3297680"
  },
  {
    "text": "opportunity to watch how things are being made and not just how to use them um so if you could just",
    "start": "3297680",
    "end": "3305440"
  },
  {
    "text": "uh summarize what we've achieved and uh maybe demonstrate it that would be i think a good way to",
    "start": "3305440",
    "end": "3310880"
  },
  {
    "text": "to recap yes okay so what we've achieved is we are at the",
    "start": "3310880",
    "end": "3317599"
  },
  {
    "text": "point a kubernetes operator can",
    "start": "3317599",
    "end": "3323040"
  },
  {
    "text": "can have a can trans can change settings in the telegraph operator",
    "start": "3323040",
    "end": "3328240"
  },
  {
    "text": "classes so the global settings for telegraph operator and how things should be monitored so such as",
    "start": "3328240",
    "end": "3334319"
  },
  {
    "text": "a typical case could be i want to send my monitoring data to multiple sources to",
    "start": "3334319",
    "end": "3340160"
  },
  {
    "text": "multiple outputs i could just update my global my secret that's global to the cluster",
    "start": "3340160",
    "end": "3346559"
  },
  {
    "text": "and we've actually we've arrived at the point where telegraph operator along with telegraph",
    "start": "3346559",
    "end": "3352640"
  },
  {
    "text": "would have the hot reload of all of this so i just update the secret and a few minutes later all of the",
    "start": "3352640",
    "end": "3358319"
  },
  {
    "text": "telegraph containers in my cluster would have the updated",
    "start": "3358319",
    "end": "3363359"
  },
  {
    "text": "configuration would start sending the data to different or multiple sources i would be handing the data differently",
    "start": "3363359",
    "end": "3370799"
  },
  {
    "text": "so i don't have to go and send signals and kill signals or do other",
    "start": "3370799",
    "end": "3376480"
  },
  {
    "text": "things to restart all of the telegraphs that was so cool big win big win",
    "start": "3376480",
    "end": "3385119"
  },
  {
    "text": "yeah definitely uh really nice and if someone wants to",
    "start": "3385119",
    "end": "3390799"
  },
  {
    "text": "follow up and and watch the complete feature where would they be able to do",
    "start": "3390799",
    "end": "3397200"
  },
  {
    "text": "that yes so telegraph is on",
    "start": "3397200",
    "end": "3402319"
  },
  {
    "text": "github let me just open a browser and pull it to my other screen",
    "start": "3402319",
    "end": "3407599"
  },
  {
    "text": "so we have a github repository called telegraph operator and as you can see i was the last",
    "start": "3407599",
    "end": "3413200"
  },
  {
    "text": "contributor here uh so this is an open source project we",
    "start": "3413200",
    "end": "3418319"
  },
  {
    "text": "have we're actively maintaining it all of the we have a ci in place",
    "start": "3418319",
    "end": "3423599"
  },
  {
    "text": "we have a release process in place so the pr would be available in this repository",
    "start": "3423599",
    "end": "3430799"
  },
  {
    "text": "there's also a separate repository for telegraph itself which is also actually maintained",
    "start": "3430799",
    "end": "3436720"
  },
  {
    "text": "and because it's it's a larger project it has it has more",
    "start": "3436720",
    "end": "3442960"
  },
  {
    "text": "commits and it has more things happening in here but both are both are on github and you can find them",
    "start": "3442960",
    "end": "3449680"
  },
  {
    "text": "in our influx data organization",
    "start": "3449680",
    "end": "3453920"
  },
  {
    "text": "cool uh if anyone in the audience has any questions on what we've seen feel",
    "start": "3454960",
    "end": "3460160"
  },
  {
    "text": "free to pop them in the chat or in slack uh while we still have some time i see that",
    "start": "3460160",
    "end": "3467040"
  },
  {
    "text": "there there was a question unrelated to what you were [Music]",
    "start": "3467040",
    "end": "3472640"
  },
  {
    "text": "implementing but just a general question about a telegraph uh so maybe we can address",
    "start": "3472640",
    "end": "3479119"
  },
  {
    "text": "that uh it was so the first one we addressed already about um a demonstrative versus a",
    "start": "3479119",
    "end": "3487200"
  },
  {
    "text": "sidecar there was a just a general question about the comparison",
    "start": "3487200",
    "end": "3492319"
  },
  {
    "text": "uh over uh prometheus operator if you can address that as well",
    "start": "3492319",
    "end": "3499040"
  },
  {
    "text": "so compared to tell you to prometheus operator uh i i suppose that the main difference",
    "start": "3499119",
    "end": "3505599"
  },
  {
    "text": "is that telegraph operator was meant most meant to well the the primary goal for us is to gather the",
    "start": "3505599",
    "end": "3512319"
  },
  {
    "text": "metrics into an influx db and influx db has well with telegraph it is possible to",
    "start": "3512319",
    "end": "3519280"
  },
  {
    "text": "scrape chromatous metrics and and get them into inflexibility and as part mentioned surprisingly as green flux data we want",
    "start": "3519280",
    "end": "3525920"
  },
  {
    "text": "data to be available there prometheus operator i believe is more about scraping into prometheus",
    "start": "3525920",
    "end": "3532079"
  },
  {
    "text": "so that would be the main difference yeah so if anyone's in like you already",
    "start": "3532079",
    "end": "3538880"
  },
  {
    "text": "using influx debate obviously they would want to check this out and if they have any um",
    "start": "3538880",
    "end": "3545839"
  },
  {
    "text": "questions uh about uh whether they should choose prometheus or influx db",
    "start": "3546079",
    "end": "3551599"
  },
  {
    "text": "where can they learn about that i believe that we have uh a lot of",
    "start": "3551599",
    "end": "3557839"
  },
  {
    "text": "articles where we try to compare this uh",
    "start": "3557839",
    "end": "3563200"
  },
  {
    "text": "i'm not really sure if there is a single one i could point to but i'm pretty sure that just going to our website and going to our blog yeah i",
    "start": "3563200",
    "end": "3570319"
  },
  {
    "text": "would go check out um more information about the just about telegraph and i think that will like i think the",
    "start": "3570319",
    "end": "3576640"
  },
  {
    "text": "big benefit to using this versus the prometheus operator like you can you can interact",
    "start": "3576640",
    "end": "3583440"
  },
  {
    "text": "and telegraph supports prometheus so you can do that but it's like i think quite powerful like you can",
    "start": "3583440",
    "end": "3591680"
  },
  {
    "text": "that's a good point yeah and one and one of the things that i think is interesting is prometheus",
    "start": "3591680",
    "end": "3597359"
  },
  {
    "text": "focuses on prometheus metrics and as you mentioned telegraph has a lot of plugins so i was able to get metrics",
    "start": "3597359",
    "end": "3603359"
  },
  {
    "text": "from redis by just using the the reddit input plugin and as as as",
    "start": "3603359",
    "end": "3608480"
  },
  {
    "text": "part mentioned we have around 250 plugins so for a lot of things that don't expose metrics",
    "start": "3608480",
    "end": "3614000"
  },
  {
    "text": "as prometheus metrics telegraph can also most probably get those those",
    "start": "3614000",
    "end": "3619359"
  },
  {
    "text": "metrics and get the data for you got it thanks i do not see any more",
    "start": "3619359",
    "end": "3627680"
  },
  {
    "text": "questions coming up and we are just at the top of the hour so just another reminder the link is on",
    "start": "3627680",
    "end": "3634880"
  },
  {
    "text": "the screen if anyone wants to go check out telegraph operator and probably",
    "start": "3634880",
    "end": "3640240"
  },
  {
    "text": "very soon a new pull request should pop up with some of the code that we've seen here if",
    "start": "3640240",
    "end": "3645680"
  },
  {
    "text": "someone wants to uh take a look at the complete",
    "start": "3645680",
    "end": "3650960"
  },
  {
    "text": "product thank you uh wojciech and team it was really uh um",
    "start": "3650960",
    "end": "3657760"
  },
  {
    "text": "really unique uh stream today uh i think uh we learned a lot and uh i wanna thank you first of all",
    "start": "3657760",
    "end": "3665839"
  },
  {
    "text": "and uh just a quick reminder um that we have kubecon north america coming up if",
    "start": "3666799",
    "end": "3672319"
  },
  {
    "text": "anyone is interested it's going to be both in-person and virtual so go ahead",
    "start": "3672319",
    "end": "3679920"
  },
  {
    "text": "and register for that this has been cloud natively we're here",
    "start": "3679920",
    "end": "3685200"
  },
  {
    "text": "every wednesday uh come meet us again next wednesday to",
    "start": "3685200",
    "end": "3690240"
  },
  {
    "text": "learn about uh the latest in cloud native so again um influx team thank you very",
    "start": "3690240",
    "end": "3696839"
  },
  {
    "text": "much and yeah thank you all of the viewers yeah take care",
    "start": "3696839",
    "end": "3702559"
  },
  {
    "text": "bye thank you everyone",
    "start": "3702559",
    "end": "3710720"
  }
]