[
  {
    "text": "and it's a lightning talk and we've got",
    "start": "179",
    "end": "1800"
  },
  {
    "text": "loads of slides so we're just going to",
    "start": "1800",
    "end": "3060"
  },
  {
    "text": "bang through it",
    "start": "3060",
    "end": "4740"
  },
  {
    "text": "um cool so this um Carries On from",
    "start": "4740",
    "end": "6779"
  },
  {
    "text": "kailyn's talk um where he was talking",
    "start": "6779",
    "end": "8460"
  },
  {
    "text": "about bucket-based um artifacts and",
    "start": "8460",
    "end": "10320"
  },
  {
    "text": "we're going to try and persuade you that",
    "start": "10320",
    "end": "11639"
  },
  {
    "text": "he's wrong and that you should use uh",
    "start": "11639",
    "end": "13799"
  },
  {
    "text": "volumes instead for your artifacts",
    "start": "13799",
    "end": "16560"
  },
  {
    "text": "um Kaylin's also my boss so I might not",
    "start": "16560",
    "end": "18960"
  },
  {
    "text": "have a job at the end of this",
    "start": "18960",
    "end": "20520"
  },
  {
    "text": "um so yeah I work for pipe kit um he's",
    "start": "20520",
    "end": "22500"
  },
  {
    "text": "as he's already explained we uh we offer",
    "start": "22500",
    "end": "24600"
  },
  {
    "text": "a control plane for Argo workflows to",
    "start": "24600",
    "end": "26880"
  },
  {
    "text": "let you do big data stuff basically",
    "start": "26880",
    "end": "29760"
  },
  {
    "text": "um we also contribute heavily to",
    "start": "29760",
    "end": "33360"
  },
  {
    "text": "um I'll go workflows open source and I",
    "start": "33360",
    "end": "35640"
  },
  {
    "text": "basically live in the algo workflow",
    "start": "35640",
    "end": "37140"
  },
  {
    "text": "slack channel so if you've asked a",
    "start": "37140",
    "end": "38340"
  },
  {
    "text": "question in the slack channel in the",
    "start": "38340",
    "end": "39540"
  },
  {
    "text": "last two three years you've probably",
    "start": "39540",
    "end": "41520"
  },
  {
    "text": "spoken to me",
    "start": "41520",
    "end": "42960"
  },
  {
    "text": "um yeah",
    "start": "42960",
    "end": "44399"
  },
  {
    "text": "great and I'm Lucinda wheeler or you can",
    "start": "44399",
    "end": "46620"
  },
  {
    "text": "call me Luke and I'm a developer",
    "start": "46620",
    "end": "48420"
  },
  {
    "text": "Advocate at AWS specifically part of the",
    "start": "48420",
    "end": "51120"
  },
  {
    "text": "eks team and also friends with the folks",
    "start": "51120",
    "end": "53579"
  },
  {
    "text": "at Pipe kit and um contributed",
    "start": "53579",
    "end": "56399"
  },
  {
    "text": "contribute as much as I can to the Argo",
    "start": "56399",
    "end": "58739"
  },
  {
    "text": "ecosystem specifically Argo CD",
    "start": "58739",
    "end": "62100"
  },
  {
    "text": "so this slide is very similar to what",
    "start": "62100",
    "end": "63960"
  },
  {
    "text": "kind of showed and we're trying to",
    "start": "63960",
    "end": "65460"
  },
  {
    "text": "address the same problems about sharing",
    "start": "65460",
    "end": "67260"
  },
  {
    "text": "data between steps in workflows and",
    "start": "67260",
    "end": "68820"
  },
  {
    "text": "between workflows themselves",
    "start": "68820",
    "end": "71100"
  },
  {
    "text": "um and Kellen also highlighted the kind",
    "start": "71100",
    "end": "73020"
  },
  {
    "text": "of different categories of data so",
    "start": "73020",
    "end": "75060"
  },
  {
    "text": "you've got persistent data you want to",
    "start": "75060",
    "end": "76500"
  },
  {
    "text": "keep",
    "start": "76500",
    "end": "77400"
  },
  {
    "text": "um as long as possible there's so many",
    "start": "77400",
    "end": "79320"
  },
  {
    "text": "persistent data that you don't really",
    "start": "79320",
    "end": "81240"
  },
  {
    "text": "care if you lose it but if you do lose",
    "start": "81240",
    "end": "82740"
  },
  {
    "text": "it you're gonna have to do some work to",
    "start": "82740",
    "end": "83820"
  },
  {
    "text": "get it back and then transient data that",
    "start": "83820",
    "end": "85500"
  },
  {
    "text": "you really don't care about you just",
    "start": "85500",
    "end": "87240"
  },
  {
    "text": "need to have it for the life of your",
    "start": "87240",
    "end": "88860"
  },
  {
    "text": "workflow and then you can let it go",
    "start": "88860",
    "end": "91920"
  },
  {
    "text": "great so Caitlyn already went into",
    "start": "91920",
    "end": "93479"
  },
  {
    "text": "detail about the different storage",
    "start": "93479",
    "end": "95159"
  },
  {
    "text": "options so I'm just going to focus on",
    "start": "95159",
    "end": "97500"
  },
  {
    "text": "EBS and EFS so with EBS the challenge",
    "start": "97500",
    "end": "101460"
  },
  {
    "text": "that you have here is that it doesn't",
    "start": "101460",
    "end": "102600"
  },
  {
    "text": "allow you to have to carry out tasks for",
    "start": "102600",
    "end": "104579"
  },
  {
    "text": "read write and many however it is really",
    "start": "104579",
    "end": "106740"
  },
  {
    "text": "good for persistent storage and if you",
    "start": "106740",
    "end": "108299"
  },
  {
    "text": "want to use it as a back-end solution or",
    "start": "108299",
    "end": "110100"
  },
  {
    "text": "as a backend for Solutions like minio",
    "start": "110100",
    "end": "111780"
  },
  {
    "text": "and then EFS specifically in the aw in",
    "start": "111780",
    "end": "114600"
  },
  {
    "text": "the AWS context does give you the read",
    "start": "114600",
    "end": "116399"
  },
  {
    "text": "write many capabilities however it does",
    "start": "116399",
    "end": "118259"
  },
  {
    "text": "restrict you to that particular",
    "start": "118259",
    "end": "119340"
  },
  {
    "text": "environment that's something you need to",
    "start": "119340",
    "end": "120659"
  },
  {
    "text": "be aware of and also it can be a little",
    "start": "120659",
    "end": "122579"
  },
  {
    "text": "bit tricky to set up so we want to focus",
    "start": "122579",
    "end": "124079"
  },
  {
    "text": "on a simpler solution yeah so in the",
    "start": "124079",
    "end": "126360"
  },
  {
    "text": "same way that minio is kind of a an",
    "start": "126360",
    "end": "128580"
  },
  {
    "text": "on-prem self-hosted solution for S3",
    "start": "128580",
    "end": "130739"
  },
  {
    "text": "we're advocating the NFS server",
    "start": "130739",
    "end": "133020"
  },
  {
    "text": "provisioner to do the same job that EFS",
    "start": "133020",
    "end": "135720"
  },
  {
    "text": "can do so NFS server there's quite a few",
    "start": "135720",
    "end": "138540"
  },
  {
    "text": "out there we use the one that's on the",
    "start": "138540",
    "end": "140160"
  },
  {
    "text": "really long Link at the top",
    "start": "140160",
    "end": "142739"
  },
  {
    "text": "you know good luck writing that down",
    "start": "142739",
    "end": "144780"
  },
  {
    "text": "um but essentially all it does is it",
    "start": "144780",
    "end": "146580"
  },
  {
    "text": "gives you a pod",
    "start": "146580",
    "end": "148020"
  },
  {
    "text": "um and a storage class and you reference",
    "start": "148020",
    "end": "150300"
  },
  {
    "text": "the storage costs you get your PPC and",
    "start": "150300",
    "end": "152280"
  },
  {
    "text": "Magic happens basically and it can turn",
    "start": "152280",
    "end": "154319"
  },
  {
    "text": "an EBS disk read write once disk into a",
    "start": "154319",
    "end": "156780"
  },
  {
    "text": "rewrite many disk",
    "start": "156780",
    "end": "158220"
  },
  {
    "text": "um even more magic you can have no disk",
    "start": "158220",
    "end": "160260"
  },
  {
    "text": "behind it and it uses your ephemeral",
    "start": "160260",
    "end": "161640"
  },
  {
    "text": "storage on your node so it allows you to",
    "start": "161640",
    "end": "164459"
  },
  {
    "text": "use that spares spare disk that you're",
    "start": "164459",
    "end": "166319"
  },
  {
    "text": "already paying for",
    "start": "166319",
    "end": "167580"
  },
  {
    "text": "um to to handle the kind of the",
    "start": "167580",
    "end": "169800"
  },
  {
    "text": "transient data loads basically there are",
    "start": "169800",
    "end": "171959"
  },
  {
    "text": "no Demos in this because we're on a",
    "start": "171959",
    "end": "173280"
  },
  {
    "text": "lightning talk",
    "start": "173280",
    "end": "174300"
  },
  {
    "text": "um the small link at the bottom has",
    "start": "174300",
    "end": "175980"
  },
  {
    "text": "loads of stuff that you can go and look",
    "start": "175980",
    "end": "177420"
  },
  {
    "text": "at so you saw Kaylin's example of a full",
    "start": "177420",
    "end": "179940"
  },
  {
    "text": "CI workflow using buckets which is wrong",
    "start": "179940",
    "end": "182340"
  },
  {
    "text": "I've got the same thing which uses disks",
    "start": "182340",
    "end": "186060"
  },
  {
    "text": "in exactly the same way so you can run",
    "start": "186060",
    "end": "187500"
  },
  {
    "text": "the two side by side and see how they",
    "start": "187500",
    "end": "189060"
  },
  {
    "text": "work in your local environment",
    "start": "189060",
    "end": "192319"
  },
  {
    "text": "great so just a quick overview of how",
    "start": "192720",
    "end": "194459"
  },
  {
    "text": "you can actually get started with the",
    "start": "194459",
    "end": "196019"
  },
  {
    "text": "NFS server provisioner specifically for",
    "start": "196019",
    "end": "197879"
  },
  {
    "text": "semi-persistent data you deploy the helm",
    "start": "197879",
    "end": "199980"
  },
  {
    "text": "chart which will spin up a pod as well",
    "start": "199980",
    "end": "201720"
  },
  {
    "text": "as the persistent volume claims and a",
    "start": "201720",
    "end": "203340"
  },
  {
    "text": "storage class and then those PVCs would",
    "start": "203340",
    "end": "205260"
  },
  {
    "text": "be used to reference the storage class",
    "start": "205260",
    "end": "206879"
  },
  {
    "text": "and the point here obviously is to",
    "start": "206879",
    "end": "209340"
  },
  {
    "text": "actually make sure that you have the",
    "start": "209340",
    "end": "211260"
  },
  {
    "text": "PVCs and the relevant volumes created",
    "start": "211260",
    "end": "213420"
  },
  {
    "text": "beforehand and then you'd simply Mount",
    "start": "213420",
    "end": "215099"
  },
  {
    "text": "the volumes in your specific workflow",
    "start": "215099",
    "end": "219060"
  },
  {
    "text": "um so Pipe kit we install manifest",
    "start": "219060",
    "end": "220680"
  },
  {
    "text": "server business twice the way that the",
    "start": "220680",
    "end": "222180"
  },
  {
    "text": "contact is set and then this way which",
    "start": "222180",
    "end": "224099"
  },
  {
    "text": "is exactly the same but without the disk",
    "start": "224099",
    "end": "225900"
  },
  {
    "text": "behind it so it's it's then pointing at",
    "start": "225900",
    "end": "227879"
  },
  {
    "text": "your ephemeral storage instead so we use",
    "start": "227879",
    "end": "230099"
  },
  {
    "text": "this for the transient basis side of",
    "start": "230099",
    "end": "231540"
  },
  {
    "text": "things the workflow just spins up with",
    "start": "231540",
    "end": "233099"
  },
  {
    "text": "the volume claim template creates a PVC",
    "start": "233099",
    "end": "234900"
  },
  {
    "text": "on the Fly does workflow stuff and then",
    "start": "234900",
    "end": "237599"
  },
  {
    "text": "uh just drops it all at the end so you",
    "start": "237599",
    "end": "239580"
  },
  {
    "text": "you've saved",
    "start": "239580",
    "end": "241739"
  },
  {
    "text": "uh here's a really quick example just",
    "start": "241739",
    "end": "243480"
  },
  {
    "text": "showing the difference in the setup",
    "start": "243480",
    "end": "245220"
  },
  {
    "text": "between the two which probably looks",
    "start": "245220",
    "end": "246659"
  },
  {
    "text": "awful on the giant screen again you can",
    "start": "246659",
    "end": "248819"
  },
  {
    "text": "do a diff uh in the GitHub repo if you",
    "start": "248819",
    "end": "250980"
  },
  {
    "text": "want to so don't worry too much I just",
    "start": "250980",
    "end": "252959"
  },
  {
    "text": "wanted to highlight that it's really",
    "start": "252959",
    "end": "254099"
  },
  {
    "text": "easy to flip between the two so um again",
    "start": "254099",
    "end": "256500"
  },
  {
    "text": "don't listen to my boss",
    "start": "256500",
    "end": "259380"
  },
  {
    "text": "right so real quick cost comparison over",
    "start": "259380",
    "end": "261660"
  },
  {
    "text": "here and this is just based on the",
    "start": "261660",
    "end": "262979"
  },
  {
    "text": "experiments that were run it may vary",
    "start": "262979",
    "end": "264419"
  },
  {
    "text": "depending on how you carry this out so",
    "start": "264419",
    "end": "267419"
  },
  {
    "text": "despite the fact that the particular",
    "start": "267419",
    "end": "268860"
  },
  {
    "text": "approach that we're following would",
    "start": "268860",
    "end": "270000"
  },
  {
    "text": "definitely work well for performance and",
    "start": "270000",
    "end": "271919"
  },
  {
    "text": "at speed it is not the most cost",
    "start": "271919",
    "end": "274800"
  },
  {
    "text": "effective approach as you can see over",
    "start": "274800",
    "end": "276120"
  },
  {
    "text": "here S3 definitely worked out to be the",
    "start": "276120",
    "end": "277919"
  },
  {
    "text": "cheapest one whereas EBS was actually",
    "start": "277919",
    "end": "279419"
  },
  {
    "text": "using EBS as your back end was actually",
    "start": "279419",
    "end": "282120"
  },
  {
    "text": "the most expensive one and we see EFS",
    "start": "282120",
    "end": "284580"
  },
  {
    "text": "fall somewhere in between S3 and EBS",
    "start": "284580",
    "end": "288240"
  },
  {
    "text": "um so at this point my Talk's not",
    "start": "288240",
    "end": "289199"
  },
  {
    "text": "looking great because uh yeah we've just",
    "start": "289199",
    "end": "291000"
  },
  {
    "text": "proved ourselves wrong",
    "start": "291000",
    "end": "292199"
  },
  {
    "text": "um so then I started looking at speed",
    "start": "292199",
    "end": "294000"
  },
  {
    "text": "I've written a really simple workflow",
    "start": "294000",
    "end": "295620"
  },
  {
    "text": "again it's in the repo",
    "start": "295620",
    "end": "297180"
  },
  {
    "text": "um all it does is it creates a 10 gig",
    "start": "297180",
    "end": "299820"
  },
  {
    "text": "block of data stores it in the artifact",
    "start": "299820",
    "end": "302220"
  },
  {
    "text": "repository of your choice then does a",
    "start": "302220",
    "end": "304320"
  },
  {
    "text": "second step that runs three steps in",
    "start": "304320",
    "end": "306479"
  },
  {
    "text": "parallel to create 10 more",
    "start": "306479",
    "end": "309240"
  },
  {
    "text": "um gig of data so overall we're",
    "start": "309240",
    "end": "311460"
  },
  {
    "text": "generating 40 gig of data as fast as",
    "start": "311460",
    "end": "313740"
  },
  {
    "text": "possible and just analyzing it through",
    "start": "313740",
    "end": "315660"
  },
  {
    "text": "that's all we're doing it's a really",
    "start": "315660",
    "end": "316979"
  },
  {
    "text": "dumb test but hopefully it highlights",
    "start": "316979",
    "end": "318960"
  },
  {
    "text": "something and here were the times so",
    "start": "318960",
    "end": "322740"
  },
  {
    "text": "this this slide is why kailyn's wrong",
    "start": "322740",
    "end": "325380"
  },
  {
    "text": "um so S3 took seven minutes to handle",
    "start": "325380",
    "end": "328080"
  },
  {
    "text": "that 40 gig of data most of that was",
    "start": "328080",
    "end": "330240"
  },
  {
    "text": "tiring all the stuff up so okay if you",
    "start": "330240",
    "end": "332520"
  },
  {
    "text": "actually listen to his talk then",
    "start": "332520",
    "end": "333660"
  },
  {
    "text": "obviously you could just turn the tiring",
    "start": "333660",
    "end": "334740"
  },
  {
    "text": "off and the argument might be slightly",
    "start": "334740",
    "end": "337259"
  },
  {
    "text": "lower but um so seven minutes for S3 NFS",
    "start": "337259",
    "end": "340500"
  },
  {
    "text": "serve original took 20 seconds to do",
    "start": "340500",
    "end": "342419"
  },
  {
    "text": "exactly the same thing so",
    "start": "342419",
    "end": "344460"
  },
  {
    "text": "um if you're working at scale this is a",
    "start": "344460",
    "end": "347699"
  },
  {
    "text": "real key thing to be paying attention to",
    "start": "347699",
    "end": "349800"
  },
  {
    "text": "basically",
    "start": "349800",
    "end": "351240"
  },
  {
    "text": "great so real quick",
    "start": "351240",
    "end": "353160"
  },
  {
    "text": "um first thing to consider with a couple",
    "start": "353160",
    "end": "354960"
  },
  {
    "text": "of tips is the amount of storage that",
    "start": "354960",
    "end": "356880"
  },
  {
    "text": "you'll actually need so consider",
    "start": "356880",
    "end": "358320"
  },
  {
    "text": "fattening or increasing the storage",
    "start": "358320",
    "end": "360180"
  },
  {
    "text": "disks for your particular nodes another",
    "start": "360180",
    "end": "362160"
  },
  {
    "text": "thing would be to actually consider if",
    "start": "362160",
    "end": "364080"
  },
  {
    "text": "if you've got a lot of read and write",
    "start": "364080",
    "end": "365220"
  },
  {
    "text": "tasks that you're going to be carrying",
    "start": "365220",
    "end": "366360"
  },
  {
    "text": "out is to have the data copied from your",
    "start": "366360",
    "end": "368160"
  },
  {
    "text": "NFS disk to ephemeral storage beforehand",
    "start": "368160",
    "end": "370500"
  },
  {
    "text": "and then like Tim has already pointed",
    "start": "370500",
    "end": "373500"
  },
  {
    "text": "out we're installing the NFS server",
    "start": "373500",
    "end": "375479"
  },
  {
    "text": "provisioner twice the first time is for",
    "start": "375479",
    "end": "377460"
  },
  {
    "text": "the EBS back end for semi-persistent",
    "start": "377460",
    "end": "379500"
  },
  {
    "text": "data and then the second time is for",
    "start": "379500",
    "end": "380880"
  },
  {
    "text": "ephemeral node disks for transient data",
    "start": "380880",
    "end": "384479"
  },
  {
    "text": "this is a screenshot of our actual CI",
    "start": "384479",
    "end": "386940"
  },
  {
    "text": "that pipe kit the content doesn't really",
    "start": "386940",
    "end": "389520"
  },
  {
    "text": "matter too much but you can see there's",
    "start": "389520",
    "end": "390720"
  },
  {
    "text": "a lot of parallel stuff that we do so",
    "start": "390720",
    "end": "392699"
  },
  {
    "text": "we're doing container image builds we're",
    "start": "392699",
    "end": "394560"
  },
  {
    "text": "doing binaries for from go we're doing",
    "start": "394560",
    "end": "398280"
  },
  {
    "text": "go tests and all that happens in just",
    "start": "398280",
    "end": "401460"
  },
  {
    "text": "over three minutes for us so before we",
    "start": "401460",
    "end": "404280"
  },
  {
    "text": "used all the nice disk magic behind it",
    "start": "404280",
    "end": "406380"
  },
  {
    "text": "it was taking about 15-20 minutes",
    "start": "406380",
    "end": "408780"
  },
  {
    "text": "um so that's that's a real world example",
    "start": "408780",
    "end": "410400"
  },
  {
    "text": "of how you can save your time yeah and",
    "start": "410400",
    "end": "412919"
  },
  {
    "text": "just to wrap up again Caitlyn covered",
    "start": "412919",
    "end": "414600"
  },
  {
    "text": "the three different artifact categories",
    "start": "414600",
    "end": "415919"
  },
  {
    "text": "for persistent data semi-persistent data",
    "start": "415919",
    "end": "418080"
  },
  {
    "text": "and transient data so for a persistent",
    "start": "418080",
    "end": "419940"
  },
  {
    "text": "data approach we definitely recommend",
    "start": "419940",
    "end": "421319"
  },
  {
    "text": "that you follow the route that he was",
    "start": "421319",
    "end": "423060"
  },
  {
    "text": "demonstrating with the bucket based",
    "start": "423060",
    "end": "425400"
  },
  {
    "text": "approach whereas for persistent data for",
    "start": "425400",
    "end": "427440"
  },
  {
    "text": "semi-persistent data and transient data",
    "start": "427440",
    "end": "429240"
  },
  {
    "text": "we'd recommend following this approach",
    "start": "429240",
    "end": "430680"
  },
  {
    "text": "with the NFS server provisioner",
    "start": "430680",
    "end": "433440"
  },
  {
    "text": "cheers gonna find out if I got a job",
    "start": "433440",
    "end": "437360"
  }
]