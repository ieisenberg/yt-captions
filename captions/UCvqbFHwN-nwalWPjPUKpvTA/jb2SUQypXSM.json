[
  {
    "text": "[Music]",
    "start": "614990",
    "end": "618128"
  },
  {
    "text": "[Music]",
    "start": "655670",
    "end": "659839"
  },
  {
    "text": "[Music]",
    "start": "772030",
    "end": "775320"
  },
  {
    "text": "good morning folks been you out there I",
    "start": "792230",
    "end": "797149"
  },
  {
    "text": "see been in the chat but uh we'll wait for him uh sig you you out there yes I'm",
    "start": "801680",
    "end": "808740"
  },
  {
    "text": "here okay good morning warning",
    "start": "808740",
    "end": "812899"
  },
  {
    "text": "once Ben checks in here we'll get the screenshare shifted over to you sounds",
    "start": "819259",
    "end": "825569"
  },
  {
    "text": "good we'll start in just a minute folks",
    "start": "825569",
    "end": "830058"
  },
  {
    "text": "[Music]",
    "start": "906980",
    "end": "910039"
  },
  {
    "text": "[Music]",
    "start": "917610",
    "end": "920799"
  },
  {
    "text": "all right let's let's get started folks and everyone hear me can people hear me yep",
    "start": "965940",
    "end": "972830"
  },
  {
    "text": "okay so the first thing I wanted to do to kick things off so today we basically",
    "start": "972830",
    "end": "978600"
  },
  {
    "text": "have sue to present on [Music] [Laughter]",
    "start": "978600",
    "end": "987060"
  },
  {
    "text": "he's ready we just need to pass on the ball and I'm you're done perfect so just before we do that I wanted to address",
    "start": "989120",
    "end": "997580"
  },
  {
    "text": "last week's face to face and in particular some of you might have",
    "start": "997580",
    "end": "1006170"
  },
  {
    "text": "been there so that you might not have been there but I wanted to reiterate to this group and I'll probably do this the",
    "start": "1006170",
    "end": "1013160"
  },
  {
    "text": "next couple these meetings as well I just wanted to",
    "start": "1013160",
    "end": "1018260"
  },
  {
    "text": "reiterate at the CNCs Code of Conduct which I just pasted in the slack channel",
    "start": "1018260",
    "end": "1024220"
  },
  {
    "text": "and and in particular I wanted to reiterate that while I think a lot of us",
    "start": "1024220",
    "end": "1031220"
  },
  {
    "text": "are very passionate about each of the work that we're doing and",
    "start": "1031220",
    "end": "1037520"
  },
  {
    "text": "how we want this all to play out for some",
    "start": "1037520",
    "end": "1044170"
  },
  {
    "text": "folks that are not talking mute thanks okay I want to reiterate that the",
    "start": "1045280",
    "end": "1054350"
  },
  {
    "text": "expectations that we have around collaboration around discussion",
    "start": "1054350",
    "end": "1061150"
  },
  {
    "text": "around professionalism around not personally attacking people",
    "start": "1061150",
    "end": "1068860"
  },
  {
    "text": "around using the right tone and",
    "start": "1068860",
    "end": "1074920"
  },
  {
    "text": "and being generally pleasant and enjoyable to to to have be part of these",
    "start": "1074920",
    "end": "1080750"
  },
  {
    "text": "calls and be chatting and and working with with everyone and",
    "start": "1080750",
    "end": "1086320"
  },
  {
    "text": "if I'm not seeing that I'm gonna pull you aside and and and ask that we have a",
    "start": "1086320",
    "end": "1092390"
  },
  {
    "text": "discussion and potentially ask that you you leave the working group so",
    "start": "1092390",
    "end": "1097600"
  },
  {
    "text": "with that said any questions that folks have",
    "start": "1097600",
    "end": "1103840"
  },
  {
    "text": "nope okay okay so",
    "start": "1110200",
    "end": "1116860"
  },
  {
    "text": "we have subbu here to presents on the tests and I just shared another link in",
    "start": "1116860",
    "end": "1123409"
  },
  {
    "text": "the slat channel which is his presentation and I think we can pass the ball to him and he can get going",
    "start": "1123409",
    "end": "1131080"
  },
  {
    "text": "cool hi there we share my screen",
    "start": "1131080",
    "end": "1136990"
  },
  {
    "text": "okay can you see my screen",
    "start": "1137169",
    "end": "1141190"
  },
  {
    "text": "it's not cool all right so my name is sue ku and I've been at YouTube for",
    "start": "1142240",
    "end": "1150350"
  },
  {
    "text": "about eleven years now and I've worked on various scalability and",
    "start": "1150350",
    "end": "1157010"
  },
  {
    "text": "infrastructure projects and my last project has been with tests",
    "start": "1157010",
    "end": "1162950"
  },
  {
    "text": "which I'm going to talk about so this this presentation I kind of put",
    "start": "1162950",
    "end": "1169190"
  },
  {
    "text": "it together to address many of the questions that CN CF has for due",
    "start": "1169190",
    "end": "1175640"
  },
  {
    "text": "diligence you didn't feel like it flows well but it should cover all the",
    "start": "1175640",
    "end": "1180919"
  },
  {
    "text": "information that you need so hopefully it won't be too rough so we test our",
    "start": "1180919",
    "end": "1189220"
  },
  {
    "text": "mission statement has been to be the best performing and scalable",
    "start": "1189220",
    "end": "1194830"
  },
  {
    "text": "my sequel solution in the cloud actually our our real mission statement is to be",
    "start": "1194830",
    "end": "1200419"
  },
  {
    "text": "a new sequel storage solution but there are a few items that we are missing that we'll get to as we addressed issues",
    "start": "1200419",
    "end": "1209559"
  },
  {
    "text": "before I jump into what we test is I wanted to cover quickly my sequel",
    "start": "1209559",
    "end": "1214640"
  },
  {
    "text": "because not many people are from here with what with its significance so my",
    "start": "1214640",
    "end": "1221210"
  },
  {
    "text": "sequel is basically an AR DBMS so people usually choose an AR DBMS over",
    "start": "1221210",
    "end": "1227840"
  },
  {
    "text": "a traditional no sequel system like is usually to because they want",
    "start": "1227840",
    "end": "1237169"
  },
  {
    "text": "secondary indexes joins or transactions which basically make the application simpler to write without these",
    "start": "1237169",
    "end": "1244809"
  },
  {
    "text": "application has to take on these burdens and my sequel itself is by the by DBM genes",
    "start": "1244809",
    "end": "1253700"
  },
  {
    "text": "ranking is the second most popular storage engine in the world so it still",
    "start": "1253700",
    "end": "1259039"
  },
  {
    "text": "has a huge pretty huge following the one of the main disadvantages of my",
    "start": "1259039",
    "end": "1265730"
  },
  {
    "text": "sequel is that it's a single instance server once you have maxed out your machine you are pretty much done for in",
    "start": "1265730",
    "end": "1272119"
  },
  {
    "text": "terms of scaling you cannot really scale beyond that but you can scale reads by",
    "start": "1272119",
    "end": "1277639"
  },
  {
    "text": "just adding more replicas so that support is still there it's actually not a big data server by",
    "start": "1277639",
    "end": "1286279"
  },
  {
    "text": "itself because it's usually awesome for something about from 100 GB to 1",
    "start": "1286279",
    "end": "1292340"
  },
  {
    "text": "terabyte size per server beyond that if you start adding if your",
    "start": "1292340",
    "end": "1298129"
  },
  {
    "text": "database gets bigger than that and you start to run into various issues with my sequel and in terms of cloud support",
    "start": "1298129",
    "end": "1305090"
  },
  {
    "text": "there's only these hosted solutions like RDS and cloud sequel my sequel itself",
    "start": "1305090",
    "end": "1310909"
  },
  {
    "text": "doesn't have much help in terms of use I want to just take stock my sequel run it in the cloud there is not much help and",
    "start": "1310909",
    "end": "1317509"
  },
  {
    "text": "we test actually is trying to help solve that problem so what is we test it basically solves",
    "start": "1317509",
    "end": "1325759"
  },
  {
    "text": "three problems for my sequel it helps you manage a large number of my sequel",
    "start": "1325759",
    "end": "1331070"
  },
  {
    "text": "instances when the number of number of as you scale",
    "start": "1331070",
    "end": "1336279"
  },
  {
    "text": "when the number of instances gets really really big there is not much help from my sequel about managing them so with",
    "start": "1336279",
    "end": "1342379"
  },
  {
    "text": "SLC with that if you actually are on bare metal and want to move to the cloud",
    "start": "1342379",
    "end": "1348139"
  },
  {
    "text": "you can use with s to move your MySQL instance to the cloud and",
    "start": "1348139",
    "end": "1353379"
  },
  {
    "text": "the last but not the least is that it's actually gives you new sequence tile scalability",
    "start": "1353379",
    "end": "1360590"
  },
  {
    "text": "when your database runs out of steam you can just shard and continue to scale so those are",
    "start": "1360590",
    "end": "1367160"
  },
  {
    "text": "three main features that we test gives you in terms of categorization",
    "start": "1367160",
    "end": "1374230"
  },
  {
    "text": "so prior to this whole new sequel wave that's coming up people had to choose",
    "start": "1374230",
    "end": "1380450"
  },
  {
    "text": "between Ava and our DBMS or a no sequel and is so basically you either choose",
    "start": "1380450",
    "end": "1387620"
  },
  {
    "text": "scalability or you choose data integrity features but you can't have both and",
    "start": "1387620",
    "end": "1392860"
  },
  {
    "text": "that has been a problem because many of the complex applications do want both so",
    "start": "1392860",
    "end": "1398600"
  },
  {
    "text": "hopefully the new sequel wave will solve that problem so the",
    "start": "1398600",
    "end": "1404020"
  },
  {
    "text": "there are actually many new sequel systems there's now tid B there is also a situs I need to actually update the",
    "start": "1404020",
    "end": "1410750"
  },
  {
    "text": "slide some people actually were questioning whether with this is or should be a new",
    "start": "1410750",
    "end": "1416660"
  },
  {
    "text": "sequel system and there are many definitions it's still gelling so what I've done is I've put with a slightly",
    "start": "1416660",
    "end": "1422840"
  },
  {
    "text": "below the bar saying that we are almost there but not quite there yet but it does play in that space most people",
    "start": "1422840",
    "end": "1429830"
  },
  {
    "text": "that want to scale indefinitely an RDP my style system tend to converge to be",
    "start": "1429830",
    "end": "1436040"
  },
  {
    "text": "test you know in terms of history we this project is pretty old we started",
    "start": "1436040",
    "end": "1442700"
  },
  {
    "text": "actually in 2010 this was a time when YouTube was actually having some severe",
    "start": "1442700",
    "end": "1449150"
  },
  {
    "text": "scalability problems actually the number of voltages were growing and they are pretty much getting out of control so",
    "start": "1449150",
    "end": "1455870"
  },
  {
    "text": "myself and my colleague Mike Solomon we took ourselves out of the day-to-day",
    "start": "1455870",
    "end": "1460940"
  },
  {
    "text": "operations and decided to see if you can come up with something that will let us sleep ahead of all these problems so",
    "start": "1460940",
    "end": "1467210"
  },
  {
    "text": "that is basically how a test was born but what we realized was that the",
    "start": "1467210",
    "end": "1472220"
  },
  {
    "text": "problems we are solving are actually common to many organizations so we decided to actually open source it",
    "start": "1472220",
    "end": "1479110"
  },
  {
    "text": "so initially even though we open sourced it we mostly",
    "start": "1479110",
    "end": "1484550"
  },
  {
    "text": "used it for ourselves actually we used to develop in the open source world and import the data and use it for ourselves",
    "start": "1484550",
    "end": "1490730"
  },
  {
    "text": "nobody else actually was participating but over time the number of features we",
    "start": "1490730",
    "end": "1497540"
  },
  {
    "text": "added kind of became Rhian civ and Flipkart was also facing scalability",
    "start": "1497540",
    "end": "1502630"
  },
  {
    "text": "issues and they somehow found us and contacted us and said hey do you think we can use this we said sure give it a",
    "start": "1502630",
    "end": "1509259"
  },
  {
    "text": "try it will help you to the extent we can and then a year later they went into",
    "start": "1509259",
    "end": "1514600"
  },
  {
    "text": "production which was pretty exciting and then after that that credibility",
    "start": "1514600",
    "end": "1520019"
  },
  {
    "text": "attracted more users and it has been pretty much growing organically since",
    "start": "1520019",
    "end": "1525250"
  },
  {
    "text": "then so we haven't been actually there's not much hype around with us so most of",
    "start": "1525250",
    "end": "1530830"
  },
  {
    "text": "the Vita's growth has been very quiet and secret almost but it is it's grown",
    "start": "1530830",
    "end": "1537100"
  },
  {
    "text": "pretty pretty fast now we now have like a slack channel that has about 200 members and",
    "start": "1537100",
    "end": "1543809"
  },
  {
    "text": "so if you look at our community so these are the companies that are currently",
    "start": "1543809",
    "end": "1548980"
  },
  {
    "text": "using or adopting with this the group that you see on the left are actually people that are already in production",
    "start": "1548980",
    "end": "1555370"
  },
  {
    "text": "and the group you see on the right are people that are either in the pipeline or evaluating actually there are more",
    "start": "1555370",
    "end": "1563620"
  },
  {
    "text": "companies than this we only have permission to use these logos which is why I've used them there are other",
    "start": "1563620",
    "end": "1568629"
  },
  {
    "text": "companies that have actually some of them are actually quite big that have gone into production but they haven't",
    "start": "1568629",
    "end": "1574330"
  },
  {
    "text": "given us permission to use them as a reference yet so it's pretty exciting",
    "start": "1574330",
    "end": "1579659"
  },
  {
    "text": "this part and there are some testimonials but both",
    "start": "1579659",
    "end": "1585460"
  },
  {
    "text": "from slack and squares that I collected because people wanted to hear from them about whether they how they support C",
    "start": "1585460",
    "end": "1592720"
  },
  {
    "text": "and C F you can actually see the full text I will link the document these are suggest some expire accepts",
    "start": "1592720",
    "end": "1600419"
  },
  {
    "text": "so what what are the things that we test does for you in the area of making my",
    "start": "1600419",
    "end": "1608139"
  },
  {
    "text": "sequel better it allows you to run my sequel and multiple data centers takes care of fail",
    "start": "1608139",
    "end": "1614620"
  },
  {
    "text": "overs load balancing and one problem that my sequel has is it",
    "start": "1614620",
    "end": "1621519"
  },
  {
    "text": "cannot handle a large number of connections and/or a large number of or if there is a huge spike in requests it",
    "start": "1621519",
    "end": "1627190"
  },
  {
    "text": "just falls apart so it does actually protects my sequel by using connect",
    "start": "1627190",
    "end": "1632530"
  },
  {
    "text": "pools that limit and throttle the traffic and often sometimes expensive queries",
    "start": "1632530",
    "end": "1639640"
  },
  {
    "text": "hit to my sequel and take the entire database down so my sequel is is",
    "start": "1639640",
    "end": "1646180"
  },
  {
    "text": "something that cannot where one query can actually affect",
    "start": "1646180",
    "end": "1652330"
  },
  {
    "text": "everything else so when these things happen with us intervenes and kills queries that are taking too long or",
    "start": "1652330",
    "end": "1658060"
  },
  {
    "text": "transactions that are lingering so actually this we have been developing these features at YouTube basically",
    "start": "1658060",
    "end": "1665140"
  },
  {
    "text": "based on issues that we have been seeing in production and these are actually things",
    "start": "1665140",
    "end": "1673030"
  },
  {
    "text": "that anybody that's using my sequel will relate to because these are problems that all of these people face and it is",
    "start": "1673030",
    "end": "1681130"
  },
  {
    "text": "now so well tuned that people that go into production with Vitesse find that",
    "start": "1681130",
    "end": "1687580"
  },
  {
    "text": "their my sequence generally runs better than it used to run before",
    "start": "1687580",
    "end": "1693000"
  },
  {
    "text": "actually the these are actually not cloud features per se but the entire",
    "start": "1693240",
    "end": "1700210"
  },
  {
    "text": "retests software is written for the clouds so there is actually subtle cloud",
    "start": "1700210",
    "end": "1705700"
  },
  {
    "text": "related behaviors in all of these features so it's so that's one that's actually my next slide there's a",
    "start": "1705700",
    "end": "1712710"
  },
  {
    "text": "there are so because the the way actually we we wrote it is",
    "start": "1712710",
    "end": "1718660"
  },
  {
    "text": "we test was built to run in pork so what we used to do is even though we built it",
    "start": "1718660",
    "end": "1724540"
  },
  {
    "text": "in the open source we had to actually import it and actually adopt it to run in Google's work cloud so we had to use",
    "start": "1724540",
    "end": "1732580"
  },
  {
    "text": "lock servers discovery mechanism health check everything that Google required for software to run in its cloud we had",
    "start": "1732580",
    "end": "1739780"
  },
  {
    "text": "to do it for with this so you know maybe were actually cloud ready before even kubernetes was born so when kubernetes",
    "start": "1739780",
    "end": "1747880"
  },
  {
    "text": "came about it was actually very trivial to make it work under there because all the plugins are in place actually",
    "start": "1747880",
    "end": "1755050"
  },
  {
    "text": "running in a cloud is not just checking these boxes because there is a specific way you have to",
    "start": "1755050",
    "end": "1762760"
  },
  {
    "text": "think about software like for example cannot like rely on config files and expect them to be sprayed around to",
    "start": "1762760",
    "end": "1770310"
  },
  {
    "text": "change the way software behaves you have to use the log server mechanism to publish changes",
    "start": "1770310",
    "end": "1776540"
  },
  {
    "text": "you have to rely on basically the file system is not something that you always",
    "start": "1776540",
    "end": "1782370"
  },
  {
    "text": "have access to you cannot log into a box and look at what's going on all the time and and also when you use a log server",
    "start": "1782370",
    "end": "1790950"
  },
  {
    "text": "you have to be careful about not overloading it because it's not something that you can afford to spam those are actually low QPS systems that",
    "start": "1790950",
    "end": "1798540"
  },
  {
    "text": "you shouldn't abuse so all these things we actually learnt them the hard way and actually changed we test to actually",
    "start": "1798540",
    "end": "1805110"
  },
  {
    "text": "treat these external systems correctly so that it works well so",
    "start": "1805110",
    "end": "1810620"
  },
  {
    "text": "the best feature for which I have with us is definitely the sharding and that's the one that attracts most users",
    "start": "1810620",
    "end": "1816510"
  },
  {
    "text": "basically once you once you outgrow one single instance what we test",
    "start": "1816510",
    "end": "1822180"
  },
  {
    "text": "lets you do is actually shard your database and continue scaling indefinitely so the way it does it is",
    "start": "1822180",
    "end": "1829850"
  },
  {
    "text": "basically lets you view the sharded database as if it was a single instance so when you send a query it figures out",
    "start": "1829850",
    "end": "1836580"
  },
  {
    "text": "where and how it should route that query or split it in two parts and send it to",
    "start": "1836580",
    "end": "1841740"
  },
  {
    "text": "different parts and then collect the results and this database like features",
    "start": "1841740",
    "end": "1847890"
  },
  {
    "text": "in the sharding we have cross shard indexes my sequel users rely a lot on",
    "start": "1847890",
    "end": "1853620"
  },
  {
    "text": "auto increment and we have sequences that behave just like those but then it",
    "start": "1853620",
    "end": "1859650"
  },
  {
    "text": "works for cross short shorter databases the other one is actually the pluggable",
    "start": "1859650",
    "end": "1867900"
  },
  {
    "text": "sharding scheme this is actually something that my sequel users prefer I think it's something that most users",
    "start": "1867900",
    "end": "1874920"
  },
  {
    "text": "should prefer because I don't think systems are there yet where they can be",
    "start": "1874920",
    "end": "1880530"
  },
  {
    "text": "good at figuring out how to share your data so if the system made a decision about how data should be charted it is",
    "start": "1880530",
    "end": "1887070"
  },
  {
    "text": "most likely not going to be the most optimal way and hopefully machine learning will help us solve this problem",
    "start": "1887070",
    "end": "1892980"
  },
  {
    "text": "but for now this decision is best made by a human so therefore",
    "start": "1892980",
    "end": "1898169"
  },
  {
    "text": "we not only make you decide how you want short your data you also decide the",
    "start": "1898169",
    "end": "1904350"
  },
  {
    "text": "sharding scheme that you want to use which is something that many my sequel users want because not everybody likes a",
    "start": "1904350",
    "end": "1911279"
  },
  {
    "text": "hash-based sharding scheme somebody wants to use mod base somebody wants to use an md5 or somebody just wants a",
    "start": "1911279",
    "end": "1918779"
  },
  {
    "text": "sequence so that's one thing that we test is very good good at the most",
    "start": "1918779",
    "end": "1924419"
  },
  {
    "text": "important thing is that the sharding scheme and the odd index feature actually worked hand-in-hand together",
    "start": "1924419",
    "end": "1931230"
  },
  {
    "text": "you can even reshot your database after you plug in your charting scheme and when you reach out a database we test",
    "start": "1931230",
    "end": "1939059"
  },
  {
    "text": "can do it with almost no downtime the application will almost not know what's going on there's probably about like a",
    "start": "1939059",
    "end": "1946109"
  },
  {
    "text": "few seconds of downtime when you switch over the Masters which actually the proxies will just buffer those requests",
    "start": "1946109",
    "end": "1952230"
  },
  {
    "text": "and the application will see almost no downtime and finally because you are shorted you are",
    "start": "1952230",
    "end": "1958409"
  },
  {
    "text": "probably going to have transactions that span across charts so for that Vitas has",
    "start": "1958409",
    "end": "1963419"
  },
  {
    "text": "support for two PC transactions there are limitations these are actually",
    "start": "1963419",
    "end": "1970409"
  },
  {
    "text": "all addressable limitations but we just haven't prioritized them yet the one",
    "start": "1970409",
    "end": "1976679"
  },
  {
    "text": "thing is two PC is actually a new feature that we developed it's the first version and it is expensive and",
    "start": "1976679",
    "end": "1983570"
  },
  {
    "text": "but then somebody that really really wants it can have it but they have to pay the price it essentially results in",
    "start": "1983570",
    "end": "1991049"
  },
  {
    "text": "about 50% increase in data throughput requirements so it does reduce your",
    "start": "1991049",
    "end": "1997859"
  },
  {
    "text": "serving capacity but then if you can shard you can just go wider the other one actually is",
    "start": "1997859",
    "end": "2005139"
  },
  {
    "text": "the big one which is when you do cross short reads you don't we test doesn't",
    "start": "2005139",
    "end": "2011389"
  },
  {
    "text": "give you a consistent view of cross short reads so that's one big limitation that is we have some proposals about how",
    "start": "2011389",
    "end": "2018499"
  },
  {
    "text": "to address it but actually the none of our users have really asked for it they",
    "start": "2018499",
    "end": "2024139"
  },
  {
    "text": "don't seem to think it's such so so important so it may be video we haven't",
    "start": "2024139",
    "end": "2030830"
  },
  {
    "text": "encountered users that need this yet so but this is something that is that is in",
    "start": "2030830",
    "end": "2036769"
  },
  {
    "text": "our radar and when so when you issue a sequel and if all of that sequel can be",
    "start": "2036769",
    "end": "2045039"
  },
  {
    "text": "served by one one shard then we test is very good at figuring it out that sends",
    "start": "2045039",
    "end": "2050599"
  },
  {
    "text": "that it is equal to one shard but if your sequel expands across multiple shards where you have to do cross short",
    "start": "2050599",
    "end": "2056388"
  },
  {
    "text": "joints and stuff there is some amount of complexity that it can handle but if the query is too complex it'll say sorry I",
    "start": "2056389",
    "end": "2063138"
  },
  {
    "text": "can't do this yet so this is also something that we plan to address in the near future",
    "start": "2063139",
    "end": "2070060"
  },
  {
    "text": "the enterprise style uses the one thing that their main complaint has been that",
    "start": "2070419",
    "end": "2075830"
  },
  {
    "text": "it's very complex it's based basically because just we have been going in for seven",
    "start": "2075830",
    "end": "2082878"
  },
  {
    "text": "years it has a lot of options and sometimes people get confused of what what works with what and so right now",
    "start": "2082879",
    "end": "2088849"
  },
  {
    "text": "they do need to talk to us sometimes too and they have probably configuring with this so this is another big area that we",
    "start": "2088849",
    "end": "2095540"
  },
  {
    "text": "have to focus actually these last two currently are our biggest priority the documentation and",
    "start": "2095540",
    "end": "2102310"
  },
  {
    "text": "reducing the complexity of bringing up every test cluster but the good news is",
    "start": "2102310",
    "end": "2107750"
  },
  {
    "text": "that once you have configured with tests it runs really really smoothly so that's been the experience with our users",
    "start": "2107750",
    "end": "2115060"
  },
  {
    "text": "all right so this is actually the Vitesse architecture it shows how we do",
    "start": "2115060",
    "end": "2120980"
  },
  {
    "text": "what we do the way we test is configured is at every my sequel instance we attach",
    "start": "2120980",
    "end": "2127339"
  },
  {
    "text": "what we call as a VT tablet which is actually all queries go through VT tablet and VT tablet makes sure that",
    "start": "2127339",
    "end": "2135700"
  },
  {
    "text": "the queries do not abuse my sequel there are lots of protection like for example",
    "start": "2135700",
    "end": "2141290"
  },
  {
    "text": "if two identical queries hit my sequel it won't send them both to it it'll send only one of them and then share the",
    "start": "2141290",
    "end": "2148160"
  },
  {
    "text": "results to everybody that has requested it and VT tablet also the can perform",
    "start": "2148160",
    "end": "2154339"
  },
  {
    "text": "housekeeping work like taking backups restores and all the cluster management work it can take care of",
    "start": "2154339",
    "end": "2161080"
  },
  {
    "text": "and on this side on the",
    "start": "2161080",
    "end": "2166870"
  },
  {
    "text": "proxy level that is this thing called VT gate which is actually stateless so it's something that can scale up and down as",
    "start": "2166870",
    "end": "2172880"
  },
  {
    "text": "needed when when the load on the application goes up and down and",
    "start": "2172880",
    "end": "2179200"
  },
  {
    "text": "the application knows only about VT gates it does not know about all the details underneath so it'll just send",
    "start": "2179200",
    "end": "2185660"
  },
  {
    "text": "the query as if VT gate is a one big giant database and then we ticket will",
    "start": "2185660",
    "end": "2192200"
  },
  {
    "text": "figure out how to get that query served so it greatly simplifies the view the application has about the cluster",
    "start": "2192200",
    "end": "2199240"
  },
  {
    "text": "underneath and how do we tie all this together is actually through a log server here I",
    "start": "2199240",
    "end": "2206330"
  },
  {
    "text": "have put the HDD but actually with that supports all the log servers it keeps track of which tablets are",
    "start": "2206330",
    "end": "2213320"
  },
  {
    "text": "going up and down and inform city gate of those changes and then mitigate accordingly routes traffic and VDC TLD",
    "start": "2213320",
    "end": "2221540"
  },
  {
    "text": "is our dashboard that we use to look at what's all the all the cluster and",
    "start": "2221540",
    "end": "2227720"
  },
  {
    "text": "perform actually operations like my parent English sharding etc are you",
    "start": "2227720",
    "end": "2234260"
  },
  {
    "text": "taking questions now or do you wanna save until the end I can take questions now if you if it's immediately relevant",
    "start": "2234260",
    "end": "2241960"
  },
  {
    "text": "could you talk a little about what information is in sed yes so it's CD there's actually it's",
    "start": "2241960",
    "end": "2251840"
  },
  {
    "text": "actually a lot it's pretty elaborate we actually you can actually use multiple",
    "start": "2251840",
    "end": "2258920"
  },
  {
    "text": "log servers we have one called the global log server which is actually",
    "start": "2258920",
    "end": "2264190"
  },
  {
    "text": "unique across all data centers and we actually let you configure one log",
    "start": "2264190",
    "end": "2271160"
  },
  {
    "text": "server per data center so the idea is that when one data center goes down it does not",
    "start": "2271160",
    "end": "2278540"
  },
  {
    "text": "take everything else with it and the global log server has very little",
    "start": "2278540",
    "end": "2283670"
  },
  {
    "text": "information it only tells you where the master data base is it tells",
    "start": "2283670",
    "end": "2290030"
  },
  {
    "text": "you how your data base is sorted what key spaces you have and how your",
    "start": "2290030",
    "end": "2295299"
  },
  {
    "text": "database is charted and nothing else but the individual log servers the data center log servers contain information",
    "start": "2295299",
    "end": "2302589"
  },
  {
    "text": "about each VT tablet where are the replicas and",
    "start": "2302589",
    "end": "2308249"
  },
  {
    "text": "if something is down for backup it updates those those states so the",
    "start": "2308249",
    "end": "2314769"
  },
  {
    "text": "information about the shards and and where they are is all on a CD correct yes and this is the VT travel require",
    "start": "2314769",
    "end": "2321999"
  },
  {
    "text": "access to n CD yes it does it VT tablet actually will",
    "start": "2321999",
    "end": "2328740"
  },
  {
    "text": "when it comes up it will actually register itself with that city saying that I am now here and I'm a replica and",
    "start": "2328740",
    "end": "2335650"
  },
  {
    "text": "I'm ready to serve traffic and that will eventually and mitigates our actually have a watch set on this Exedy so when",
    "start": "2335650",
    "end": "2342999"
  },
  {
    "text": "it comes up they'll receive the notification and will start sending will",
    "start": "2342999",
    "end": "2348130"
  },
  {
    "text": "start load bar including that VT tablet in the in the load balance right and you",
    "start": "2348130",
    "end": "2354009"
  },
  {
    "text": "talked a little about connection pooling and all sorts of client features as well does does a",
    "start": "2354009",
    "end": "2361420"
  },
  {
    "text": "normal MySQL client say from a PHP or Python or go work with Vitesse or do you",
    "start": "2361420",
    "end": "2369549"
  },
  {
    "text": "have a different client no actually we recently implemented the my sequel",
    "start": "2369549",
    "end": "2375789"
  },
  {
    "text": "protocol at the VT gate level so if speed client could just connect to mitigate as if it was a my sequel",
    "start": "2375789",
    "end": "2381700"
  },
  {
    "text": "database and it's transparent there is no difference yeah yeah so yeah there",
    "start": "2381700",
    "end": "2389049"
  },
  {
    "text": "are actually some some differences by the fact that things are shrouded and the fact that",
    "start": "2389049",
    "end": "2395640"
  },
  {
    "text": "for example the VT gate here represents all the databases here like master",
    "start": "2395640",
    "end": "2401710"
  },
  {
    "text": "replicas and stuff so the app server could for example say I want to connect",
    "start": "2401710",
    "end": "2407799"
  },
  {
    "text": "to my key space but I want to connect to the master so you do we have an extended",
    "start": "2407799",
    "end": "2413499"
  },
  {
    "text": "syntax where it says I what connect to key space at master there's some extensions but otherwise query wise it's",
    "start": "2413499",
    "end": "2420730"
  },
  {
    "text": "the same you just said once you've specified your database you just send",
    "start": "2420730",
    "end": "2425769"
  },
  {
    "text": "queries like like normal and we also have some non-standard extensions like for example",
    "start": "2425769",
    "end": "2432640"
  },
  {
    "text": "you could do you could issue show statements that return information about charts like for example you can say show",
    "start": "2432640",
    "end": "2439329"
  },
  {
    "text": "me all the key spaces here or show me all the shards inside the key space so a few extensions which people can",
    "start": "2439329",
    "end": "2445569"
  },
  {
    "text": "optionally use but typically if you just point your app to vita gate it should work asses",
    "start": "2445569",
    "end": "2451469"
  },
  {
    "text": "thank you so much and we also actually have a gr pc api at the",
    "start": "2451469",
    "end": "2459219"
  },
  {
    "text": "VT gate level and we have right now we only support java",
    "start": "2459219",
    "end": "2464819"
  },
  {
    "text": "the gr pc actually gives you a few advantages over native my sequel it lets",
    "start": "2464819",
    "end": "2471519"
  },
  {
    "text": "you use bind variables at your app player itself which is which is actually",
    "start": "2471519",
    "end": "2476619"
  },
  {
    "text": "which makes things a little more efficient and not only that it actually",
    "start": "2476619",
    "end": "2481839"
  },
  {
    "text": "makes the this VT gets fully stateless which means that you could start a transaction with one mitigate and if",
    "start": "2481839",
    "end": "2488049"
  },
  {
    "text": "that VD kate goes down in the middle you can actually complete that transaction using another one so it's truly",
    "start": "2488049",
    "end": "2493170"
  },
  {
    "text": "stateless and load-balanced so that's a but we have noticed that most people",
    "start": "2493170",
    "end": "2498640"
  },
  {
    "text": "don't care much about this feature so most of them just use the my secure protocol",
    "start": "2498640",
    "end": "2504420"
  },
  {
    "text": "alright so this the the whole idea of this thing is we actually worked very hard at",
    "start": "2506249",
    "end": "2513460"
  },
  {
    "text": "reducing the number of moving parts here these are things that we felt are absolutely necessary anything less would",
    "start": "2513460",
    "end": "2520869"
  },
  {
    "text": "be a problem or anything more would be a problem so this a lot of thought has gone into this architecture and we",
    "start": "2520869",
    "end": "2528940"
  },
  {
    "text": "actually and this is also being tuned over many years so i think i think we",
    "start": "2528940",
    "end": "2534069"
  },
  {
    "text": "are very happy with what we have here and we are probably going to stay with it for a very long time",
    "start": "2534069",
    "end": "2540420"
  },
  {
    "text": "in terms of versatility this is where with this really shines it can pretty",
    "start": "2540420",
    "end": "2545859"
  },
  {
    "text": "much learn any place anywhere like right now",
    "start": "2545859",
    "end": "2551249"
  },
  {
    "text": "it learns like YouTube grunts with us on Borg stitch labs runs it on gke",
    "start": "2551249",
    "end": "2557700"
  },
  {
    "text": "better cloud uses mesos and GCE HubSpot uses AWS and kubernetes and",
    "start": "2557700",
    "end": "2565830"
  },
  {
    "text": "others like booking and Flipkart they basically run on bare",
    "start": "2565830",
    "end": "2572110"
  },
  {
    "text": "metal there's actually a bunch of uses that run on bare metal it can also work with any loc server we",
    "start": "2572110",
    "end": "2579580"
  },
  {
    "text": "when we import we tests we basically swap in a chubby we originally developed",
    "start": "2579580",
    "end": "2585460"
  },
  {
    "text": "it with zookeeper but now we also supported CD and console and all these are used in production by some one or",
    "start": "2585460",
    "end": "2591580"
  },
  {
    "text": "the other and in the same way in the open source we use G RPC but when we",
    "start": "2591580",
    "end": "2596950"
  },
  {
    "text": "import it we swap it out for stubby and there are plugins that people have",
    "start": "2596950",
    "end": "2603070"
  },
  {
    "text": "provided for monitoring with prometheus in flux TB this collecti and obviously",
    "start": "2603070",
    "end": "2608500"
  },
  {
    "text": "pokemon internally so this is actually the stuff that we spent a lot of time in",
    "start": "2608500",
    "end": "2615730"
  },
  {
    "text": "our software design Vitas is fully pluggable so basically it's not just",
    "start": "2615730",
    "end": "2621400"
  },
  {
    "text": "these things that our pluggable there is actually a whole bunch of things that we do when we import with us into Google we",
    "start": "2621400",
    "end": "2629560"
  },
  {
    "text": "bring in we add throttle errs we add monitoring health checks ACLs tapper and",
    "start": "2629560",
    "end": "2635130"
  },
  {
    "text": "actually the list is pretty pretty big this is these are some other big things that that I wanted to mention and the",
    "start": "2635130",
    "end": "2641410"
  },
  {
    "text": "most importantly this plug ability does not affect efficiency typically if you",
    "start": "2641410",
    "end": "2647490"
  },
  {
    "text": "deploy with tests on top of my sequel the what people have reported is about",
    "start": "2647490",
    "end": "2653800"
  },
  {
    "text": "under two millisecond overhead added to what would have otherwise been a direct",
    "start": "2653800",
    "end": "2660820"
  },
  {
    "text": "round trip with my sequel which most of them find acceptable and",
    "start": "2660820",
    "end": "2666960"
  },
  {
    "text": "over time we have we have actually when we started we were not very disciplined",
    "start": "2666960",
    "end": "2672820"
  },
  {
    "text": "but then we brought in some discipline about coding so we now our coding",
    "start": "2672820",
    "end": "2677920"
  },
  {
    "text": "standards are pretty high and stringent readability is the most important thing when when somebody writes software we",
    "start": "2677920",
    "end": "2685660"
  },
  {
    "text": "spend a lot of time making sure that it's structured such a way that anybody",
    "start": "2685660",
    "end": "2691210"
  },
  {
    "text": "else that comes in and reads the code can understand what's going on and this is actually attracted more contributors",
    "start": "2691210",
    "end": "2697400"
  },
  {
    "text": "and they've all been very happy with witnesses code we follow all go coding",
    "start": "2697400",
    "end": "2703670"
  },
  {
    "text": "standards we require unit tests to be written with strict coverage requirements",
    "start": "2703670",
    "end": "2709220"
  },
  {
    "text": "neither is needed end to end tests have to be written and they should not affect performance and",
    "start": "2709220",
    "end": "2714700"
  },
  {
    "text": "we integrate with Travis code climate and notify which tells us which runs all",
    "start": "2714700",
    "end": "2721279"
  },
  {
    "text": "the unit tests or all the tests a unit is an end-to-end test before we actually merge code in so this is because our",
    "start": "2721279",
    "end": "2729380"
  },
  {
    "text": "master branch is something that we import from regularly and deploy on YouTube and many of our users do the",
    "start": "2729380",
    "end": "2736220"
  },
  {
    "text": "same thing so we require the master guides to be absolutely stable all the time there are only one or two users",
    "start": "2736220",
    "end": "2743930"
  },
  {
    "text": "that use an official release of witness which is currently at 2.1 and we are",
    "start": "2743930",
    "end": "2750470"
  },
  {
    "text": "about to release 3.0 in terms of I looked at the",
    "start": "2750470",
    "end": "2755690"
  },
  {
    "text": "contributions the big ones came from YouTube slack and HubSpot github and",
    "start": "2755690",
    "end": "2761930"
  },
  {
    "text": "booking actually came on board later this year and they are beginning to wrap up their contributions and the square",
    "start": "2761930",
    "end": "2768769"
  },
  {
    "text": "has also been contributing and finally this is these are the stats",
    "start": "2768769",
    "end": "2774460"
  },
  {
    "text": "that we have for with us overall and the big one is that slack is growing the one",
    "start": "2774460",
    "end": "2781279"
  },
  {
    "text": "downside of slack is that you don't realize how much activity is going on there because it's it's a private",
    "start": "2781279",
    "end": "2787130"
  },
  {
    "text": "channel and it's not Google searchable but there's a lot",
    "start": "2787130",
    "end": "2792038"
  },
  {
    "text": "so this is pretty much all that I have to cover let me know if you have any questions",
    "start": "2793690",
    "end": "2800450"
  },
  {
    "text": "now thank you for the for the presentation I",
    "start": "2800450",
    "end": "2805839"
  },
  {
    "text": "think that's something that the unity of see is gonna ask just to play devil's advocate with you and yes something to",
    "start": "2805839",
    "end": "2812930"
  },
  {
    "text": "prepare for is you know what what do you like why do why do you want the test to",
    "start": "2812930",
    "end": "2820400"
  },
  {
    "text": "to go to the foundation like what do you see as the trajectory free to the test if it's accepted as project yeah",
    "start": "2820400",
    "end": "2827869"
  },
  {
    "text": "actually the the main thing that we are looking for actually this was the this is the reason why YouTube is pushing is",
    "start": "2827869",
    "end": "2835460"
  },
  {
    "text": "very insistent what this happening is that we test is being seen as a project",
    "start": "2835460",
    "end": "2842569"
  },
  {
    "text": "owned by YouTube and we want to change this to be a project",
    "start": "2842569",
    "end": "2848690"
  },
  {
    "text": "that is owned by the community by the fact that all these people depend on it and they contribute",
    "start": "2848690",
    "end": "2855039"
  },
  {
    "text": "so somehow we want to change that impression that's that we by far is the",
    "start": "2855039",
    "end": "2860599"
  },
  {
    "text": "biggest factor but but like it doesn't hurt that we haven't",
    "start": "2860599",
    "end": "2867710"
  },
  {
    "text": "actually with us is the other thing is we we hope that CN CF will increase",
    "start": "2867710",
    "end": "2875299"
  },
  {
    "text": "visibility of it s overall so far it is only grown through word of",
    "start": "2875299",
    "end": "2880579"
  },
  {
    "text": "mouth so and that is the other big thing that we expect from CN CF",
    "start": "2880579",
    "end": "2886119"
  },
  {
    "text": "is the like the YouTube participation in the project are you are you expecting it",
    "start": "2886119",
    "end": "2892369"
  },
  {
    "text": "to increase or decrease like what what are the plans for YouTube with the tests",
    "start": "2892369",
    "end": "2898069"
  },
  {
    "text": "so I it will so basically YouTube is committed to so the way meters has grown",
    "start": "2898069",
    "end": "2905599"
  },
  {
    "text": "is the features that YouTube uses so",
    "start": "2905599",
    "end": "2911289"
  },
  {
    "text": "actually I don't know if you have heard YouTube ease has made a decision to",
    "start": "2911289",
    "end": "2919249"
  },
  {
    "text": "actually migrate to spanner but it's a multi-year project so but then YouTube is still committed",
    "start": "2919249",
    "end": "2928160"
  },
  {
    "text": "to supporting with tests and therefore it wants to make sure that",
    "start": "2928160",
    "end": "2934029"
  },
  {
    "text": "it grows the community and establishes leadership it doesn't know how long it",
    "start": "2934029",
    "end": "2940880"
  },
  {
    "text": "will stay involved with the project but it's possible that maybe a year or two",
    "start": "2940880",
    "end": "2946700"
  },
  {
    "text": "years from now it may not be as involved as it is right now so",
    "start": "2946700",
    "end": "2951759"
  },
  {
    "text": "can you talk about the differences between Vitesse and spanner",
    "start": "2951759",
    "end": "2958960"
  },
  {
    "text": "yeah yeah so architectural early they are very different because we test relies on an",
    "start": "2958960",
    "end": "2966320"
  },
  {
    "text": "RD be me on a relational database underneath so because of that that that makes it a",
    "start": "2966320",
    "end": "2974690"
  },
  {
    "text": "very different product product compared to spanner however we",
    "start": "2974690",
    "end": "2980660"
  },
  {
    "text": "do get pitched we do get compared with the spanner",
    "start": "2980660",
    "end": "2986080"
  },
  {
    "text": "cockroach tid be all these new sequel databases",
    "start": "2986080",
    "end": "2992500"
  },
  {
    "text": "the way I would compare it is usually",
    "start": "2992500",
    "end": "2999940"
  },
  {
    "text": "Vitas is better at handling SQL as a language mainly because it",
    "start": "3000300",
    "end": "3006670"
  },
  {
    "text": "relies on and real lar to be a mess underneath so in that respect for example",
    "start": "3006670",
    "end": "3013350"
  },
  {
    "text": "it supports DM ELLs which allows you to change data using SQL statements which",
    "start": "3013350",
    "end": "3019290"
  },
  {
    "text": "system will expand our and cockroach DB don't support the place where it",
    "start": "3019290",
    "end": "3026280"
  },
  {
    "text": "falls short of final is something that I mentioned in the limitations is that spanner uses an LS m system and it can",
    "start": "3026280",
    "end": "3035500"
  },
  {
    "text": "actually obtain a consistent cross short view of the data which we test cannot do",
    "start": "3035500",
    "end": "3041290"
  },
  {
    "text": "right now because for that you need to actually the database the underlying database has to",
    "start": "3041290",
    "end": "3047110"
  },
  {
    "text": "support that feature which my sequel doesn't support yet but otherwise if you are just coming top",
    "start": "3047110",
    "end": "3054310"
  },
  {
    "text": "down for you there's a there is very heavy feature",
    "start": "3054310",
    "end": "3059680"
  },
  {
    "text": "parity between spanner and Vitas they both scale equally well",
    "start": "3059680",
    "end": "3064980"
  },
  {
    "text": "there are some differences in how we how we like for example spanner has",
    "start": "3064980",
    "end": "3071950"
  },
  {
    "text": "chorim's and they have cross data center currents so they give you better",
    "start": "3071950",
    "end": "3077160"
  },
  {
    "text": "durability for your transactions but then you also pay the price in terms of latency for it but as we test relies on",
    "start": "3077160",
    "end": "3084790"
  },
  {
    "text": "a different mechanism called semi sync replication which relies on within data center core own style",
    "start": "3084790",
    "end": "3091260"
  },
  {
    "text": "consistency which is actually faster have you just a another quick question",
    "start": "3091260",
    "end": "3098890"
  },
  {
    "text": "have you considered it all supporting Postgres sequel as well as my sequel oh",
    "start": "3098890",
    "end": "3104620"
  },
  {
    "text": "yes it keeps coming all the time because if you look at the architecture nothing",
    "start": "3104620",
    "end": "3110950"
  },
  {
    "text": "prevents us from actually replacing this pair with the Postgres",
    "start": "3110950",
    "end": "3116230"
  },
  {
    "text": "with a VT tablet that can handle post Chris yes that is definitely something that is",
    "start": "3116230",
    "end": "3123310"
  },
  {
    "text": "on our radar but the thing though is right now we have our hands full supporting the my sequel community so",
    "start": "3123310",
    "end": "3131350"
  },
  {
    "text": "once that pressure goes down like every week we have a new",
    "start": "3131350",
    "end": "3137470"
  },
  {
    "text": "user that come up and says oh I need help here and stuff so it's been pretty busy lately just supporting what we have",
    "start": "3137470",
    "end": "3143890"
  },
  {
    "text": "now do you feel like the work you know you've done in terms BTK and we're",
    "start": "3143890",
    "end": "3148960"
  },
  {
    "text": "writing queries and sharding and all that stuff is oh yes totally",
    "start": "3148960",
    "end": "3155910"
  },
  {
    "text": "because if you if you actually looked at the VT gate code all it does is look at",
    "start": "3155910",
    "end": "3162160"
  },
  {
    "text": "SQL by the SQL standards and figures out how that SQL needs to be broken out into",
    "start": "3162160",
    "end": "3168010"
  },
  {
    "text": "smaller parts and sent to different instances underneath so if you if you",
    "start": "3168010",
    "end": "3174580"
  },
  {
    "text": "actually you have what you would need to write is actually a new VT tablet component for Postgres that can manage",
    "start": "3174580",
    "end": "3181960"
  },
  {
    "text": "post chris here on this side so once you have that from the VT gate perspective it is just very routing the query that's",
    "start": "3181960",
    "end": "3190090"
  },
  {
    "text": "right thank you hey it's it's Alex coop",
    "start": "3190090",
    "end": "3197850"
  },
  {
    "text": "question how is how is pitch s actually deployed and and how do you see that",
    "start": "3197850",
    "end": "3205270"
  },
  {
    "text": "sort of integrating with say an Orchestrator",
    "start": "3205270",
    "end": "3210480"
  },
  {
    "text": "that's a very good question you mean the orchestrator by islami no the orchestrator is and so how are",
    "start": "3210900",
    "end": "3219299"
  },
  {
    "text": "the various moving parts of it as they are what deploys them and how are sort of",
    "start": "3219299",
    "end": "3226920"
  },
  {
    "text": "clusters scaled or sized okay so actually",
    "start": "3226920",
    "end": "3232789"
  },
  {
    "text": "we where is this looking for this slide here",
    "start": "3232789",
    "end": "3241160"
  },
  {
    "text": "so we actually have help charts and a docker compose as an example so this is",
    "start": "3241160",
    "end": "3248490"
  },
  {
    "text": "one place where we could probably do more work deploy more examples about how to make with us work in a kubernetes",
    "start": "3248490",
    "end": "3256799"
  },
  {
    "text": "instance we currently have a few examples him in with us to talk about how",
    "start": "3256799",
    "end": "3264289"
  },
  {
    "text": "actually Anthony a gave a demo once he just went there the help chart and he",
    "start": "3264289",
    "end": "3271559"
  },
  {
    "text": "chewed one command and he product the entire cluster which is pretty exciting but people that have gone into",
    "start": "3271559",
    "end": "3278849"
  },
  {
    "text": "production HubSpot actually uses kubernetes in AWS and ec2 they said that",
    "start": "3278849",
    "end": "3285900"
  },
  {
    "text": "both both the hub spot and seach labs also uses use still of jesus gke they",
    "start": "3285900",
    "end": "3293520"
  },
  {
    "text": "said that they did have to create a few scripts to deploy with s so so that part",
    "start": "3293520",
    "end": "3300329"
  },
  {
    "text": "some is something that we can definitely do more work on so within YouTube actually it's a pretty",
    "start": "3300329",
    "end": "3306329"
  },
  {
    "text": "big instance I think we have like tens of thousands of nodes and pretty hike ups as a set up like about",
    "start": "3306329",
    "end": "3316079"
  },
  {
    "text": "20 data centers or so so so is said if there's not okay controller that's been",
    "start": "3316079",
    "end": "3321869"
  },
  {
    "text": "though for me task for kubernetes where is the helm start deploying a controller",
    "start": "3321869",
    "end": "3328109"
  },
  {
    "text": "that then handles the scaling how does that actually work so right now the way I think they have done",
    "start": "3328109",
    "end": "3335130"
  },
  {
    "text": "it is so when you scale you actually so once you have the vita setup done you",
    "start": "3335130",
    "end": "3342390"
  },
  {
    "text": "basically as you can see there are very few moving parts here per se",
    "start": "3342390",
    "end": "3348400"
  },
  {
    "text": "so scaling with us basically involves just bringing up more and more replicas here",
    "start": "3348400",
    "end": "3354309"
  },
  {
    "text": "and those are operation that a human does today correct yeah yeah so the",
    "start": "3354309",
    "end": "3361099"
  },
  {
    "text": "reason is because so VT gate is actually auto scale that",
    "start": "3361099",
    "end": "3366740"
  },
  {
    "text": "scales up and down automatically based on the load generated by the app but here they actually have to provision",
    "start": "3366740",
    "end": "3374230"
  },
  {
    "text": "because they have to decide how much disk they want and stuff",
    "start": "3374230",
    "end": "3379420"
  },
  {
    "text": "so you are right this is one place we could probably support auto scaling but",
    "start": "3379420",
    "end": "3384440"
  },
  {
    "text": "we don't do that right now so a human has to say oh looks like our read traffic has gone up we need to bring it",
    "start": "3384440",
    "end": "3390829"
  },
  {
    "text": "at more instances on this side kind of following up what Clinton I think was going is this something that could be",
    "start": "3390829",
    "end": "3396770"
  },
  {
    "text": "completely transparent if you had an auto scaler for the shards from the",
    "start": "3396770",
    "end": "3402230"
  },
  {
    "text": "earth it doesn't look completely transparent yeah I think so although",
    "start": "3402230",
    "end": "3407660"
  },
  {
    "text": "that scares me a bit because because we don't know whether whether an",
    "start": "3407660",
    "end": "3416539"
  },
  {
    "text": "increase in load is due to legitimate increase in requirement in the load or",
    "start": "3416539",
    "end": "3421880"
  },
  {
    "text": "whether there is an abuse going on okay so that so we I would be slightly",
    "start": "3421880",
    "end": "3427549"
  },
  {
    "text": "hesitant to make this auto scale nobody in youtube has ever asked to auto",
    "start": "3427549",
    "end": "3433819"
  },
  {
    "text": "scale these things that yes our is actually want a complete control over how many instances this is these are",
    "start": "3433819",
    "end": "3440089"
  },
  {
    "text": "actually planned on a weekly meeting where we say oh looks like we need to do rashard looks like we need to add more",
    "start": "3440089",
    "end": "3446359"
  },
  {
    "text": "replicas so these are humans at least in YouTube humans have",
    "start": "3446359",
    "end": "3451970"
  },
  {
    "text": "preferred to make these decisions and I assume you have support for",
    "start": "3451970",
    "end": "3457220"
  },
  {
    "text": "collapse insurance right we combine them yes yes we support both splitting and",
    "start": "3457220",
    "end": "3463730"
  },
  {
    "text": "merging",
    "start": "3463730",
    "end": "3466059"
  },
  {
    "text": "and then one other question events the pc tablets configuration so once",
    "start": "3468880",
    "end": "3477420"
  },
  {
    "text": "you've got sort of obviously a very tightly coupled relationship between the",
    "start": "3477420",
    "end": "3482859"
  },
  {
    "text": "v3 tablet and an instance of my sequel because there's a beefy tablet handle",
    "start": "3482859",
    "end": "3489609"
  },
  {
    "text": "any of the functionality in terms of actually managing the lifecycle of that my sequel",
    "start": "3489609",
    "end": "3497020"
  },
  {
    "text": "instance ie keeping the service alive and or maybe upgrades of the software or any of those",
    "start": "3497020",
    "end": "3503289"
  },
  {
    "text": "sort of things yeah that is actually meaty tablets job right now",
    "start": "3503289",
    "end": "3509549"
  },
  {
    "text": "if it actually the the main housekeeping work that it does is actually taking",
    "start": "3509549",
    "end": "3515559"
  },
  {
    "text": "backups and performing restores it also helps you with the schema deployment and",
    "start": "3515559",
    "end": "3523140"
  },
  {
    "text": "and then there is also coordinating about who is the current",
    "start": "3523140",
    "end": "3529029"
  },
  {
    "text": "master so those are the housekeeping work that we do tablet does for my",
    "start": "3529029",
    "end": "3534910"
  },
  {
    "text": "sequel other than that all it does is serve queries okay and and the coordination of who's",
    "start": "3534910",
    "end": "3543309"
  },
  {
    "text": "the master doesn't happen in concert with let's see the unites you yes yes so",
    "start": "3543309",
    "end": "3549579"
  },
  {
    "text": "we actually have you can actually issue manual failover zouri parents and then so the",
    "start": "3549579",
    "end": "3558760"
  },
  {
    "text": "the one thing though is here is that when a master failover happens it's",
    "start": "3558760",
    "end": "3563890"
  },
  {
    "text": "actually you have to actually inform the VT gates immediately you cannot afford to go",
    "start": "3563890",
    "end": "3569740"
  },
  {
    "text": "through HCB because that is actually the generally the SLA",
    "start": "3569740",
    "end": "3575200"
  },
  {
    "text": "for something like HDD disseminating information is usually 15 to 30 seconds",
    "start": "3575200",
    "end": "3582190"
  },
  {
    "text": "and sometimes even longer so what the way we do this is actually these VT",
    "start": "3582190",
    "end": "3587410"
  },
  {
    "text": "gates are connected to these VT tablets and there is actually a health check stream that flows from all the VT",
    "start": "3587410",
    "end": "3593200"
  },
  {
    "text": "tablets to ET gate so as soon as the VT tablet becomes a master the health check",
    "start": "3593200",
    "end": "3598480"
  },
  {
    "text": "immediately informs the VT gates and within seconds all VT get self move the traffic over to the new master",
    "start": "3598480",
    "end": "3606150"
  },
  {
    "text": "so HDD is mainly used as passive scary",
    "start": "3606690",
    "end": "3612150"
  },
  {
    "text": "what about the configuration of my sequel d obviously it's got a ton of config and some a lot of it is very very",
    "start": "3614100",
    "end": "3621310"
  },
  {
    "text": "sensitive to performance and that's something that you could specify centrally with Vitas or is it something",
    "start": "3621310",
    "end": "3628810"
  },
  {
    "text": "that you still have to manage through the my single conf and and other stuff so it s",
    "start": "3628810",
    "end": "3635410"
  },
  {
    "text": "actually has a tool called my sequel CTL my stands for my sequel control where we",
    "start": "3635410",
    "end": "3642160"
  },
  {
    "text": "have simplified how you configure my sequel and actually",
    "start": "3642160",
    "end": "3647650"
  },
  {
    "text": "a lot more people than we expected use it because we thought that most DBA is like to configure their own my sequels",
    "start": "3647650",
    "end": "3654150"
  },
  {
    "text": "but a large number of people actually have adopted that tool it actually makes",
    "start": "3654150",
    "end": "3660640"
  },
  {
    "text": "it very easy to spin up my sequel instances and the good thing that my",
    "start": "3660640",
    "end": "3665980"
  },
  {
    "text": "sequel CTL does the way we test works is like we run small instances of my sequel",
    "start": "3665980",
    "end": "3672820"
  },
  {
    "text": "so in a particular box you could probably see 20 or 30 instances of my",
    "start": "3672820",
    "end": "3679240"
  },
  {
    "text": "sequel running per box and what my sequel CTL does can do is actually",
    "start": "3679240",
    "end": "3685060"
  },
  {
    "text": "isolate all of them the default my sequel is expected to be",
    "start": "3685060",
    "end": "3690460"
  },
  {
    "text": "running like one instance per box so but then we have changed it such that it configures it's that to make sure that",
    "start": "3690460",
    "end": "3697090"
  },
  {
    "text": "they are each isolated from each other so so people actually try to use my",
    "start": "3697090",
    "end": "3702520"
  },
  {
    "text": "sequel CTL to a large extent and many of them do and you do you allow shirts we have",
    "start": "3702520",
    "end": "3711310"
  },
  {
    "text": "different weights you know big machines machines right yeah you can actually decide your your shot so basically you",
    "start": "3711310",
    "end": "3720190"
  },
  {
    "text": "can decide the size of your shots by so the the final low-level sharding unit is",
    "start": "3720190",
    "end": "3726250"
  },
  {
    "text": "actually what we call a key space ID and the ranges can be non-uniform right",
    "start": "3726250",
    "end": "3732030"
  },
  {
    "text": "and that actually stitch that especially uses that because",
    "start": "3732030",
    "end": "3737530"
  },
  {
    "text": "they are a multi-tenant system where some retailers are huge and some Ella's",
    "start": "3737530",
    "end": "3743589"
  },
  {
    "text": "are small so like for the big retailers for example they have just start dedicated just for that retailer",
    "start": "3743589",
    "end": "3750390"
  },
  {
    "text": "right thank you",
    "start": "3750390",
    "end": "3754740"
  },
  {
    "text": "they say if like if you were to compare this almost make a decision to to",
    "start": "3758250",
    "end": "3765460"
  },
  {
    "text": "leverage like in the public lot if they're gonna leverage Amazon's RDS or in Google's sequel cloud",
    "start": "3765460",
    "end": "3772619"
  },
  {
    "text": "like what would the decision like what kinds of things do they or do they",
    "start": "3772619",
    "end": "3777880"
  },
  {
    "text": "consider when they decide to either use the tests or the public cloud sequel",
    "start": "3777880",
    "end": "3782890"
  },
  {
    "text": "instances so actually we des can make both RDS and cloud sequel better because",
    "start": "3782890",
    "end": "3790619"
  },
  {
    "text": "and I was talking to somebody from Amazon they said that Vitas can even help with Aurora",
    "start": "3790619",
    "end": "3796410"
  },
  {
    "text": "it's because Vitas can do sharding and none of these",
    "start": "3796410",
    "end": "3801609"
  },
  {
    "text": "systems can so if you put if you deploy with s in front of RDS or cloud sequel or Aurora",
    "start": "3801609",
    "end": "3810270"
  },
  {
    "text": "you solve the big scalability problem that they have where the write",
    "start": "3810270",
    "end": "3815650"
  },
  {
    "text": "throughput is limited by the fact that only so much can be handled by one box so how does that look like it doesn't VT",
    "start": "3815650",
    "end": "3822910"
  },
  {
    "text": "travel require a UNIX socket cyc kudi how does that work with RDS no actually",
    "start": "3822910",
    "end": "3828730"
  },
  {
    "text": "this is how we presented it here but VT tablet can run outside of the box",
    "start": "3828730",
    "end": "3835410"
  },
  {
    "text": "that my sequel runs on it can just connect through a regular port I say and",
    "start": "3835410",
    "end": "3841510"
  },
  {
    "text": "actually Square uses it that way they actually they actually have a huge my sequel",
    "start": "3841510",
    "end": "3847119"
  },
  {
    "text": "instance they are like they are coming from a monolith my sequel and they're slowly shutting out of it and they",
    "start": "3847119",
    "end": "3854710"
  },
  {
    "text": "cannot afford and they actually the way they are set up is there the my sequel",
    "start": "3854710",
    "end": "3860289"
  },
  {
    "text": "is administered by a different team so they actually run the test as if it's an",
    "start": "3860289",
    "end": "3866049"
  },
  {
    "text": "app so it's actually VT tablet runs in a separate box and drives my sequel so in",
    "start": "3866049",
    "end": "3872049"
  },
  {
    "text": "the case of RDS that's exactly how we will run it we'll just have ET tablet outside my sequel and just connect to",
    "start": "3872049",
    "end": "3879940"
  },
  {
    "text": "to a TCP port so I'm definitely an expert with with",
    "start": "3879940",
    "end": "3886700"
  },
  {
    "text": "RDS sir Google's cloud sequel but you're basically saying that the there's limited scale in those services and the",
    "start": "3886700",
    "end": "3892520"
  },
  {
    "text": "test is gonna allow you to have wider scale correct yeah so RDS cloud sequel",
    "start": "3892520",
    "end": "3899000"
  },
  {
    "text": "or aurora their limitation is each instance is only one machine so you can",
    "start": "3899000",
    "end": "3905600"
  },
  {
    "text": "choose the size of your machine but once you've gone to the largest machine that you can get that's pretty much you are",
    "start": "3905600",
    "end": "3912470"
  },
  {
    "text": "pretty much stuck there at that point and if you're if you suddenly if your",
    "start": "3912470",
    "end": "3918770"
  },
  {
    "text": "data size blows up out of control beyond that then you're you're in trouble and we we we want to do actually RDS",
    "start": "3918770",
    "end": "3927520"
  },
  {
    "text": "fortunately or unfortunately nobody has asked for it yet but and we've been busy",
    "start": "3927520",
    "end": "3933830"
  },
  {
    "text": "supporting the current community but if the next person that comes on board says I want the test for RDS will probably",
    "start": "3933830",
    "end": "3940100"
  },
  {
    "text": "focus our energies there at that time so we think it's actually very little",
    "start": "3940100",
    "end": "3947510"
  },
  {
    "text": "work it's just that we haven't spent the time thank you",
    "start": "3947510",
    "end": "3953619"
  },
  {
    "text": "so what is the like largest deployment of the classes it's still my strong I'm",
    "start": "3953619",
    "end": "3959630"
  },
  {
    "text": "sorry our youtube actually I I won't be",
    "start": "3959630",
    "end": "3964760"
  },
  {
    "text": "the largest insists would probably be YouTube but based on some of the people",
    "start": "3964760",
    "end": "3972170"
  },
  {
    "text": "some of the numbers that people have reported at this point I won't be surprised if",
    "start": "3972170",
    "end": "3979450"
  },
  {
    "text": "what is outside YouTube combined is the YouTube inside",
    "start": "3979540",
    "end": "3985390"
  },
  {
    "text": "some of these some of guys are pretty big in what they have",
    "start": "3985390",
    "end": "3991390"
  },
  {
    "text": "like slack is in the hundreds of thousands of QPS same with Stitch labs",
    "start": "3991390",
    "end": "3997270"
  },
  {
    "text": "and some of some people who have not mentioned one of them said that they",
    "start": "3997270",
    "end": "4002320"
  },
  {
    "text": "have like 300 databases and some of them sharded that they're fully into production so I don't have an exact list",
    "start": "4002320",
    "end": "4010550"
  },
  {
    "text": "but approximately what is currently outside YouTube now is definitely said to exceed",
    "start": "4010550",
    "end": "4017150"
  },
  {
    "text": "what YouTube has internally and have you had any discussions with the folks over at Facebook around sharding and my skull",
    "start": "4017150",
    "end": "4024980"
  },
  {
    "text": "I know they do a lot with this stuff as well yes I do talk to them every time every",
    "start": "4024980",
    "end": "4031670"
  },
  {
    "text": "time I go to the conference's I talked to mark Callahan who is the air",
    "start": "4031670",
    "end": "4036920"
  },
  {
    "text": "architect for my sequel and",
    "start": "4036920",
    "end": "4042040"
  },
  {
    "text": "every time they mentioned that we should there are places where they can use with us actually I met the head of the era",
    "start": "4042280",
    "end": "4050060"
  },
  {
    "text": "sorry last week and he was still saying the same thing but I think that is there's also the fact that things are",
    "start": "4050060",
    "end": "4056960"
  },
  {
    "text": "working now at Facebook and there is inertia about",
    "start": "4056960",
    "end": "4062770"
  },
  {
    "text": "taking the effort to replace what's currently working with something else so",
    "start": "4062770",
    "end": "4069160"
  },
  {
    "text": "so I think eventually I think the way they would both Facebook and others",
    "start": "4069160",
    "end": "4075080"
  },
  {
    "text": "other companies are also going through this is when they encounter big problems when they say ok we need something to be",
    "start": "4075080",
    "end": "4081950"
  },
  {
    "text": "changed at this point she is the time when they would do it but this there's like no motivation for someone to change",
    "start": "4081950",
    "end": "4088700"
  },
  {
    "text": "something that's currently working and fine thank you",
    "start": "4088700",
    "end": "4094990"
  },
  {
    "text": "I've got one more I know we only have a few minutes is there anyone else out there that has a",
    "start": "4094990",
    "end": "4101660"
  },
  {
    "text": "question for Sega alright one more so regarding you know",
    "start": "4101660",
    "end": "4110630"
  },
  {
    "text": "the the interaction with with my sequel has anyone you know who's contributed in",
    "start": "4110630",
    "end": "4116540"
  },
  {
    "text": "my sequel expressed interest in absorbing some of the features of the text because you know you described with",
    "start": "4116540",
    "end": "4122720"
  },
  {
    "text": "the BT tablet and it seems like some of that I know throttling or other logic",
    "start": "4122720",
    "end": "4128120"
  },
  {
    "text": "that's in place there it could be beneficial to my sequel on its own any discussions there for what pieces",
    "start": "4128120",
    "end": "4136130"
  },
  {
    "text": "makes sense to stay into tests and what pieces may just need to be absorbed into my sequel yeah I don't I thought I",
    "start": "4136130",
    "end": "4143060"
  },
  {
    "text": "talked to the Oracle my sequel team at least twice a year and",
    "start": "4143060",
    "end": "4149139"
  },
  {
    "text": "force one reason or another none of them think that it's important I don't know",
    "start": "4149139",
    "end": "4155449"
  },
  {
    "text": "why but they for they are I think they are still so there is some relational",
    "start": "4155449",
    "end": "4163609"
  },
  {
    "text": "trade-off that we make when we do a connection pool for example right like",
    "start": "4163609",
    "end": "4168790"
  },
  {
    "text": "you at that point eat you enjoy each individual connection is actually stateless which is actually not which is",
    "start": "4168790",
    "end": "4176000"
  },
  {
    "text": "actually a move away from a relational concept so I I have a feeling they don't want to go that route they want to",
    "start": "4176000",
    "end": "4183588"
  },
  {
    "text": "remain a pure relational database that honors everything",
    "start": "4183589",
    "end": "4188619"
  },
  {
    "text": "because if you for example if you if you connect to my sequel on that connection",
    "start": "4188619",
    "end": "4193909"
  },
  {
    "text": "for example you can create session variables that state all those things actually",
    "start": "4193909",
    "end": "4200290"
  },
  {
    "text": "make every connection unique and expensive but because of the fact that they are",
    "start": "4200290",
    "end": "4206900"
  },
  {
    "text": "committed to supporting those features they cannot move into something that",
    "start": "4206900",
    "end": "4212600"
  },
  {
    "text": "what we test us in we test this case what we say those are actually features that most people don't use in Vitas all",
    "start": "4212600",
    "end": "4218869"
  },
  {
    "text": "he says well we don't support those features so don't use them and most people are happy with that",
    "start": "4218869",
    "end": "4225460"
  },
  {
    "text": "so yeah and if you ask me they should be part of my sequel and the only reason we",
    "start": "4226900",
    "end": "4235400"
  },
  {
    "text": "actually tried to change my sequel to to push some of",
    "start": "4235400",
    "end": "4240830"
  },
  {
    "text": "these features inside there but what we realized was that as soon as you patch my sequel nobody wants to touch it",
    "start": "4240830",
    "end": "4248409"
  },
  {
    "text": "because it's very hard to build it it's people have probably downloading",
    "start": "4248409",
    "end": "4253520"
  },
  {
    "text": "building so we use we started with a 5-line patch and nobody wanted to use it",
    "start": "4253520",
    "end": "4259250"
  },
  {
    "text": "so we quickly moved away from that and made a decision that we will work only with stock my sequel as is",
    "start": "4259250",
    "end": "4267790"
  },
  {
    "text": "thank you",
    "start": "4267790",
    "end": "4270820"
  },
  {
    "text": "hey bender yaaaa yep great so thank you so much for the",
    "start": "4276910",
    "end": "4282290"
  },
  {
    "text": "presentation sugru and what's a let's wrap it up and we",
    "start": "4282290",
    "end": "4287770"
  },
  {
    "text": "will probably see everybody in the new year",
    "start": "4287770",
    "end": "4293350"
  },
  {
    "text": "thanks folks all right thanks so much thanks you're gonna be our great holidays",
    "start": "4293350",
    "end": "4299500"
  },
  {
    "text": "you",
    "start": "4308140",
    "end": "4310200"
  },
  {
    "text": "you",
    "start": "4319890",
    "end": "4321950"
  },
  {
    "text": "you",
    "start": "4325949",
    "end": "4328010"
  }
]