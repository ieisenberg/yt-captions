[
  {
    "start": "0",
    "end": "93000"
  },
  {
    "text": "uh really impressed to see a full room here on The Late Shift I'm sure a lot of",
    "start": "79",
    "end": "6540"
  },
  {
    "text": "you have got flights and things this afternoon so I did a talk at this time uh last year and it wasn't quite so well",
    "start": "6540",
    "end": "11940"
  },
  {
    "text": "attended so this is a bit of a surprise um so yeah hello I'm Charlie I work at styra I'm the developer relations team I",
    "start": "11940",
    "end": "19080"
  },
  {
    "text": "work closely with the OPA project and this is Rita uh hey everyone my name is Rita",
    "start": "19080",
    "end": "25500"
  },
  {
    "text": "I am a Oppa gatekeeper maintainer and I'm also a chair for kubernetes like",
    "start": "25500",
    "end": "32640"
  },
  {
    "text": "auth as well as SRC I'm very glad to have you guys here",
    "start": "32640",
    "end": "37800"
  },
  {
    "text": "um maybe just begin before we begin I would like to kind of pull the room to see how many folks are using oppa today",
    "start": "37800",
    "end": "46160"
  },
  {
    "text": "you don't care and then how many people are using oppa gatekeeper today",
    "start": "46920",
    "end": "53280"
  },
  {
    "text": "awesome and how many people are using comp test",
    "start": "53280",
    "end": "58320"
  },
  {
    "text": "thank you and how many people are using Opa outside of kubernetes",
    "start": "58320",
    "end": "63660"
  },
  {
    "text": "or perhaps for any other use case micro service authorization something like that",
    "start": "63660",
    "end": "69720"
  },
  {
    "text": "you not many okay okay so yeah uh quickly a little overview on",
    "start": "69720",
    "end": "76080"
  },
  {
    "text": "the agenda um brief overview and introduction to the open policy agent project and Tool a",
    "start": "76080",
    "end": "82799"
  },
  {
    "text": "couple of project updates and a little preview of some upcoming items on the roadmap and then yeah Rita's going to talk about",
    "start": "82799",
    "end": "89220"
  },
  {
    "text": "similar set of topics to the GateKeeper so what is open policy agent it's a cncf",
    "start": "89220",
    "end": "96240"
  },
  {
    "start": "93000",
    "end": "93000"
  },
  {
    "text": "project it's a graduated cncf project you probably have heard about it seeing as you're here but that's how it fits in",
    "start": "96240",
    "end": "104520"
  },
  {
    "text": "um I like to think of the open policy agent uh project and and Community as a collection of these things so what",
    "start": "104520",
    "end": "111720"
  },
  {
    "text": "brings it all together is the Rego language which is a domain-specific policy language for writing any kind of any kind of",
    "start": "111720",
    "end": "119340"
  },
  {
    "text": "policy requirement that you might have in your stack whether that's kubernetes admission or microservice authorization",
    "start": "119340",
    "end": "124560"
  },
  {
    "text": "or you name it as long as it's policy decision it's it's relevant for the regular language",
    "start": "124560",
    "end": "130979"
  },
  {
    "text": "you bring that in combination with a policy server a policy server is able to",
    "start": "130979",
    "end": "136140"
  },
  {
    "text": "evaluate this very good language and make policy decisions for you in addition to reloading of policy and",
    "start": "136140",
    "end": "142500"
  },
  {
    "text": "logging of policy decisions couple that with some language sdks we have a native SDK for go which is how",
    "start": "142500",
    "end": "149520"
  },
  {
    "text": "some of our community Integrations are built for example gatekeeper and conf test and a number of other sdks based on",
    "start": "149520",
    "end": "156060"
  },
  {
    "text": "webassembly for different programming languages you bring all of that together with some tooling and the community and",
    "start": "156060",
    "end": "161940"
  },
  {
    "text": "you get the OPA project so this is how you might use open and author in a distribution a distributed",
    "start": "161940",
    "end": "168660"
  },
  {
    "text": "system where you're using Opus authorization server you're providing",
    "start": "168660",
    "end": "173819"
  },
  {
    "text": "some information to up to open in order to make a decision Oprah is loading in policy rules and perhaps some extra data",
    "start": "173819",
    "end": "180780"
  },
  {
    "text": "and just returning a decision result you can also use open within a single",
    "start": "180780",
    "end": "186120"
  },
  {
    "text": "application via one of the sdks where perhaps some part of the application is calling another part of the application",
    "start": "186120",
    "end": "191640"
  },
  {
    "text": "a module perhaps which is using um using Opa within within that",
    "start": "191640",
    "end": "196680"
  },
  {
    "text": "application so there's two different use cases fundamentally sort of how anybody who's using Opa is using it",
    "start": "196680",
    "end": "205680"
  },
  {
    "text": "so yeah like I mentioned it can be in an application that you've built and you're calling it via the rest API or using an",
    "start": "205680",
    "end": "212459"
  },
  {
    "text": "SDK it might be the kubernetes API server that's calling your Opa or gatekeeper instance and you're making an",
    "start": "212459",
    "end": "219720"
  },
  {
    "text": "admission check or mutating some resources as they're Landing in your cluster uh it might be a CI CD run which is",
    "start": "219720",
    "end": "226860"
  },
  {
    "text": "making a check against some configuration that's about to be deployed perhaps to a public Cloud perhaps it's some internal configuration",
    "start": "226860",
    "end": "234959"
  },
  {
    "text": "file format instead um or it might be another common integration we have is with the envoy",
    "start": "234959",
    "end": "240360"
  },
  {
    "text": "proxy and the external authorization integration there and we have a specific plugin related to that too",
    "start": "240360",
    "end": "248159"
  },
  {
    "text": "so yeah um based on some of the responses we had at the beginning like most people might",
    "start": "248159",
    "end": "253739"
  },
  {
    "text": "be somewhat familiar with the language already this is a simple policy that I could write or I wrote In order to sort",
    "start": "253739",
    "end": "259620"
  },
  {
    "text": "of briefly outline how Rego works so we have a package here a policy package and",
    "start": "259620",
    "end": "264780"
  },
  {
    "text": "it has a single rule defined which is called allow and it will only allow in the case that the information that's",
    "start": "264780",
    "end": "270360"
  },
  {
    "text": "provided to the policy evaluation time where the user's role is an admin in all other cases the default is evaluated",
    "start": "270360",
    "end": "277400"
  },
  {
    "text": "and the result will be false so how this might look in the server use",
    "start": "277400",
    "end": "283380"
  },
  {
    "text": "case you make a post request to an end one of the endpoints on the rest API on",
    "start": "283380",
    "end": "288780"
  },
  {
    "text": "open server with some with some data the policy is evaluated as part of that request and the response is in this case",
    "start": "288780",
    "end": "295800"
  },
  {
    "text": "a Boolean value true you can imagine if the role were a different value or the role were missing",
    "start": "295800",
    "end": "301500"
  },
  {
    "text": "or that would be a different response so that's a little intro to Opa a quick",
    "start": "301500",
    "end": "308940"
  },
  {
    "start": "304000",
    "end": "304000"
  },
  {
    "text": "overview on some things that have been going on in the community since the last kubecon we've um we've got a as part of",
    "start": "308940",
    "end": "315180"
  },
  {
    "text": "our documentation we have a list of Integrations with the open project Opa is a general purpose policy engine we",
    "start": "315180",
    "end": "321300"
  },
  {
    "text": "have high hopes for it to be used in all sorts of different places we've added 25 new Integrations since the last kubecon",
    "start": "321300",
    "end": "328919"
  },
  {
    "text": "in in Detroit um there's some fun graphs there to show you how the number of contributors",
    "start": "328919",
    "end": "335220"
  },
  {
    "text": "across our projects are also increasing and there are also more people using Opa as a library and I think this is really",
    "start": "335220",
    "end": "340380"
  },
  {
    "text": "exciting because it shows how people uh are trusting Opel or trust or interested",
    "start": "340380",
    "end": "345539"
  },
  {
    "text": "in using the language in more places beyond the existing tools that we have or the server use case",
    "start": "345539",
    "end": "352320"
  },
  {
    "text": "uh we also have six new public corporate adopters on the adopters page if you're using Opa and you're not in the adopters",
    "start": "352320",
    "end": "358800"
  },
  {
    "text": "file please open a pull request and get your name on there too you can add a little link to your website and what how",
    "start": "358800",
    "end": "365280"
  },
  {
    "text": "you're using Opa it's really um we don't get a lot of signal back sometimes so even little bits like that",
    "start": "365280",
    "end": "370860"
  },
  {
    "text": "in the adopters file are really interesting to see and we've also got loads of people using slack the QR code",
    "start": "370860",
    "end": "377100"
  },
  {
    "text": "at the bottom of the screen that'll take you to sign up to slack we spend a lot of time there Rita spends a lot of time there as well we've got a gatekeeper",
    "start": "377100",
    "end": "383220"
  },
  {
    "text": "channel for queries related to gatekeeper um some of my star colleagues are",
    "start": "383220",
    "end": "388680"
  },
  {
    "text": "regularly answering questions so yeah we spend a lot of time there so if you're having any trouble please do come by the",
    "start": "388680",
    "end": "394259"
  },
  {
    "text": "slack so yeah um we're releasing the open policy agent",
    "start": "394259",
    "end": "400860"
  },
  {
    "start": "396000",
    "end": "396000"
  },
  {
    "text": "um around about once a month and we've had six releases since the last kubecon obviously the 50.50 release is a is a",
    "start": "400860",
    "end": "408600"
  },
  {
    "text": "big release for us so it feels like a milestone so we're very happy about that and yeah going forward we're continuing",
    "start": "408600",
    "end": "414479"
  },
  {
    "text": "to release around about once a month um brief Public Service Announcement we",
    "start": "414479",
    "end": "421380"
  },
  {
    "text": "used to push these rootless tagged images um quicker fans does anybody know if",
    "start": "421380",
    "end": "426479"
  },
  {
    "text": "they're using the rootless flavor of the OPA images one hand so this guy uh",
    "start": "426479",
    "end": "434639"
  },
  {
    "text": "um please if you could update bear in mind going forward everything is rootless now if you want to use root you",
    "start": "434639",
    "end": "440340"
  },
  {
    "text": "should configure your container to run using root via different means all of the images are now rootless",
    "start": "440340",
    "end": "448380"
  },
  {
    "text": "so um yeah a few quick project updates we've merged over 250 pull requests",
    "start": "448380",
    "end": "453900"
  },
  {
    "text": "since the last cubecon uh We've most of the things that we've added are related",
    "start": "453900",
    "end": "459060"
  },
  {
    "text": "to the language and I'm going to dig into two of those in detail um we've added these functions for",
    "start": "459060",
    "end": "465120"
  },
  {
    "text": "validating adjacent schemas or objects against Json schemas we've got objects.keys which allows you to get the",
    "start": "465120",
    "end": "472259"
  },
  {
    "text": "the keys from a key value object we've added some way of formatting time uh the",
    "start": "472259",
    "end": "478020"
  },
  {
    "text": "graphql schema valid function as well and the net side is valid so various validation things I'm going to dig into",
    "start": "478020",
    "end": "483900"
  },
  {
    "text": "the Json schema verification briefly after this I think that's one of the most exciting ones we've also added what",
    "start": "483900",
    "end": "491699"
  },
  {
    "text": "we call refs in ruleheads which doesn't really make much sense there but I'll try and show why that's interesting as",
    "start": "491699",
    "end": "497280"
  },
  {
    "text": "well in the mode in addition to language related features we've we have support for the AWS",
    "start": "497280",
    "end": "504539"
  },
  {
    "text": "signature API or signature sorry signature request signing API so that's",
    "start": "504539",
    "end": "511199"
  },
  {
    "text": "another new function for which is useful if you're loading loading bundles over",
    "start": "511199",
    "end": "517459"
  },
  {
    "text": "over the bundle service API from S3 or something um we have a new way of defining which",
    "start": "517459",
    "end": "525480"
  },
  {
    "text": "decisions are logged based on policy we've added some shorthands to run Opa",
    "start": "525480",
    "end": "530760"
  },
  {
    "text": "with an example or a remote bundle to make examples of using example bundles",
    "start": "530760",
    "end": "537899"
  },
  {
    "text": "easier various monitoring monitoring related updates around logging of unauthorized",
    "start": "537899",
    "end": "543720"
  },
  {
    "text": "or unauthorized requests against the API and various other performance improvements under the hood",
    "start": "543720",
    "end": "550080"
  },
  {
    "text": "so yeah I'd like to see who's paying attention or see who's listening I don't know if anybody can point out the",
    "start": "550080",
    "end": "557220"
  },
  {
    "text": "mistake that is presented here in this policy so we have a policy which is",
    "start": "557220",
    "end": "562500"
  },
  {
    "text": "trying to block input where someone is using an example.com email address",
    "start": "562500",
    "end": "568560"
  },
  {
    "text": "um has anybody spots the problem here on the slide I think you were first or you were the",
    "start": "568560",
    "end": "574560"
  },
  {
    "text": "first one I saw exactly yes there's an S missing so like",
    "start": "574560",
    "end": "580500"
  },
  {
    "text": "and this I think is uh it's a good um example to and I've created this",
    "start": "580500",
    "end": "586140"
  },
  {
    "text": "example specifically to show how the Json schema validation works so um",
    "start": "586140",
    "end": "591420"
  },
  {
    "text": "the idea here is that I've got an example.com email address and I'm providing some information about a new",
    "start": "591420",
    "end": "597060"
  },
  {
    "text": "contact and I've got I've written a policy which I'm hoping would stop this request from",
    "start": "597060",
    "end": "602640"
  },
  {
    "text": "coming through but if I click evaluate you see this actually been allowed and allow is set to true if the deny set is",
    "start": "602640",
    "end": "609720"
  },
  {
    "text": "empty and the reason is as a friend here pointed out that I'm point I'm providing",
    "start": "609720",
    "end": "615420"
  },
  {
    "text": "contact and my policy is written expecting contacts so if I",
    "start": "615420",
    "end": "622200"
  },
  {
    "text": "try and delete some of this others here's one I prepared earlier",
    "start": "622200",
    "end": "628200"
  },
  {
    "text": "um so now I'm going to instead I'm going to add a new deny Rule and I'm going to",
    "start": "628200",
    "end": "633720"
  },
  {
    "text": "make sure that the input that I provide matches a schema and as the schema",
    "start": "633720",
    "end": "639720"
  },
  {
    "text": "provides some the sort of information you might expect but crucially it requires some of these top level Keys",
    "start": "639720",
    "end": "645959"
  },
  {
    "text": "which includes contacts and so now when I evaluate my policy we should see that",
    "start": "645959",
    "end": "652260"
  },
  {
    "text": "allow is false and also I've got a new error message back saying that contacts",
    "start": "652260",
    "end": "658500"
  },
  {
    "text": "is required at the root of the object that I was supplying so I don't know how",
    "start": "658500",
    "end": "665399"
  },
  {
    "text": "to get quite get back to this but I'm going to go back this way",
    "start": "665399",
    "end": "670500"
  },
  {
    "text": "yeah maybe I'll try that one next time I actually don't have any other demos so I'll be safe I think",
    "start": "670500",
    "end": "676680"
  },
  {
    "text": "um so yeah that's the that's how the the Jason schema validation works that encourage you to go and check out those",
    "start": "676680",
    "end": "682860"
  },
  {
    "text": "new built-in functions um refs and Rule heads it's not a",
    "start": "682860",
    "end": "688200"
  },
  {
    "start": "684000",
    "end": "684000"
  },
  {
    "text": "particularly catchy name this is this is the name of the issue and this is the name that we've gone with when we're talking about it",
    "start": "688200",
    "end": "694740"
  },
  {
    "text": "um we you often you might want to Define policy in this way where the input method for example this is a good",
    "start": "694740",
    "end": "701700"
  },
  {
    "text": "example I think to highlight it so where the input method might be get or post against a particular resource and to use",
    "start": "701700",
    "end": "708959"
  },
  {
    "text": "the the information from the context of the request to dig down into different policies so",
    "start": "708959",
    "end": "715680"
  },
  {
    "text": "and days gone by you needed to do this you would create a package um with I think there's actually an it",
    "start": "715680",
    "end": "721560"
  },
  {
    "text": "might be a slight error in these examples I'm not sure those curly braces on the first lines are meant to be there but uh you would have you would have to",
    "start": "721560",
    "end": "728459"
  },
  {
    "text": "Define packages in separate files where you'd have rules.get.pets to define the get policy rules.delete.pets in a",
    "start": "728459",
    "end": "735420"
  },
  {
    "text": "separate file to find the delete policy it's now possible to to do to provide",
    "start": "735420",
    "end": "740459"
  },
  {
    "text": "all of that policy and it's in one file so you can use these and that's what it's called real refs and Rule heads or",
    "start": "740459",
    "end": "746220"
  },
  {
    "text": "dots and Rule heads you can see how that fits together um",
    "start": "746220",
    "end": "751500"
  },
  {
    "text": "just briefly have a quick dip into some of the items on the roadmap I think one",
    "start": "751500",
    "end": "756600"
  },
  {
    "text": "that's that's fun is the Ellipsis operator so the idea here",
    "start": "756600",
    "end": "761640"
  },
  {
    "text": "is that we'd be able to do instead of doing matching on specific key or",
    "start": "761640",
    "end": "767339"
  },
  {
    "text": "indexes within a list or within an object we can say does it match in this way and then it's kind of I don't care",
    "start": "767339",
    "end": "773639"
  },
  {
    "text": "about the rest of the list um is the it's the idea so that's that's one thing which is which is on the",
    "start": "773639",
    "end": "779040"
  },
  {
    "text": "roadmap and come in quite soon um I've talked a bit about schema validation already",
    "start": "779040",
    "end": "784320"
  },
  {
    "text": "but it's something that we're planning to do is to allow you to validate the input that's provided without needing to",
    "start": "784320",
    "end": "791940"
  },
  {
    "text": "use the built-in functions so to annotate a given Rule and say the input must conform with this schema for for",
    "start": "791940",
    "end": "798120"
  },
  {
    "text": "this Rule and that what's exciting about that is you don't need to so in my example previously you saw I added a new",
    "start": "798120",
    "end": "804000"
  },
  {
    "text": "rule which validated it against the schema now with this change it would be possible to just annotate rules and say",
    "start": "804000",
    "end": "810720"
  },
  {
    "text": "this rule is related to this and he requires this schema and it saves you from doing bringing in all those extra",
    "start": "810720",
    "end": "817079"
  },
  {
    "text": "rules so that's upcoming and I don't know who here is using open",
    "start": "817079",
    "end": "822720"
  },
  {
    "text": "test or who's actually testing their policies I don't know whether there are a few people who test the",
    "start": "822720",
    "end": "828360"
  },
  {
    "text": "policies that's a relief um so yeah there's anybody who has used it may be familiar with the slightly",
    "start": "828360",
    "end": "835200"
  },
  {
    "text": "challenging output that you get from running overtest anyway the idea here is that we're we're going to be able to",
    "start": "835200",
    "end": "842519"
  },
  {
    "text": "provide a more user-friendly way of presenting the output from from tests and showing how that",
    "start": "842519",
    "end": "849180"
  },
  {
    "text": "um exactly what went wrong okay so um that's all I had on the on the core",
    "start": "849180",
    "end": "855720"
  },
  {
    "text": "open part now I'm going to hand over to Rita who's going to talk about how you use this in kubernetes and how the",
    "start": "855720",
    "end": "861540"
  },
  {
    "text": "gatekeeper project works and what the latest news is we are at cubecon after all indeed indeed",
    "start": "861540",
    "end": "867839"
  },
  {
    "text": "all right um so for those of you who are already familiar with Opa you're probably using",
    "start": "867839",
    "end": "873240"
  },
  {
    "text": "it in your organization uh and you may have uh users or your customers may be",
    "start": "873240",
    "end": "878940"
  },
  {
    "text": "asking well how do I use Oba with my kubernetes clusters right how do I make sure uh the workloads that are deployed",
    "start": "878940",
    "end": "886019"
  },
  {
    "text": "to my kubernetes clusters are compliant to governance as well as maybe company",
    "start": "886019",
    "end": "891300"
  },
  {
    "text": "policies right so that's where the gatekeeper project comes in",
    "start": "891300",
    "end": "897540"
  },
  {
    "text": "um so it is a customizable kubernetes admission web hook it actually uses Opa",
    "start": "897540",
    "end": "904260"
  },
  {
    "text": "engine embedded into gatekeeper as part of the web hook and it is used to enforce",
    "start": "904260",
    "end": "911519"
  },
  {
    "text": "policies and enhance governance in your organizations and as Charlie you just mentioned uh",
    "start": "911519",
    "end": "918720"
  },
  {
    "text": "sometimes actually you might be using uh oppa gatekeeper under the hood maybe",
    "start": "918720",
    "end": "924120"
  },
  {
    "text": "you're not you don't even know that you're using it uh I know uh Google anthos actually has gatekeeper embedded",
    "start": "924120",
    "end": "932100"
  },
  {
    "text": "in their policy engine um and and Microsoft Azure also has uh",
    "start": "932100",
    "end": "937380"
  },
  {
    "text": "this as part of their Azure policy feature so what does that mean what does it look",
    "start": "937380",
    "end": "942839"
  },
  {
    "text": "like right and why do we even create this project in the first place um for those of you who actually built",
    "start": "942839",
    "end": "949740"
  },
  {
    "start": "943000",
    "end": "943000"
  },
  {
    "text": "your own a mission web hook you probably know how hard that is right anytime that you need to",
    "start": "949740",
    "end": "955500"
  },
  {
    "text": "um make a change you would need to recompile and deploy to the cluster so the whole concept behind gatekeeper is",
    "start": "955500",
    "end": "961980"
  },
  {
    "text": "uh it's policy as configurations right so essentially you have different",
    "start": "961980",
    "end": "968519"
  },
  {
    "text": "personas in the company where the people who write the policies may need to know Rego but the people who are operating",
    "start": "968519",
    "end": "975420"
  },
  {
    "text": "the Clusters and enforcing the policies may not even care about the actual policies right they just need to make",
    "start": "975420",
    "end": "981300"
  },
  {
    "text": "sure that the cluster is secure and the workloads are secure right so that's the",
    "start": "981300",
    "end": "986760"
  },
  {
    "text": "the gist of uh the gatekeeper motivation right is to control what the end users",
    "start": "986760",
    "end": "991800"
  },
  {
    "text": "can do on the cluster but the users don't need to write a single line of go code",
    "start": "991800",
    "end": "997320"
  },
  {
    "text": "uh and again many large companies uh you know want to make sure their clusters",
    "start": "997320",
    "end": "1002360"
  },
  {
    "text": "are conformant to some company policy uh and uh also uh and many companies",
    "start": "1002360",
    "end": "1009199"
  },
  {
    "text": "including uh you know Microsoft right how do you actually push out policies in the organization uh without impacting",
    "start": "1009199",
    "end": "1016579"
  },
  {
    "text": "your production workloads right let's say you're trying to enforce some policy and introduce them in your company the",
    "start": "1016579",
    "end": "1023959"
  },
  {
    "text": "way you want to do it is slowly roll them out right and one way to do that is by introducing these policies across",
    "start": "1023959",
    "end": "1031819"
  },
  {
    "text": "your clusters in a phase in different phases so that you can ensure you can",
    "start": "1031819",
    "end": "1037699"
  },
  {
    "text": "actually audit and and make sure the policies are secure and make sure people are addressing these issues before you",
    "start": "1037699",
    "end": "1044600"
  },
  {
    "text": "start enforcing them and I.E not break down your workload and and your on-calls will have to get the call in the middle",
    "start": "1044600",
    "end": "1050480"
  },
  {
    "text": "of the night um so yeah so how do I actually do this",
    "start": "1050480",
    "end": "1055640"
  },
  {
    "text": "without sacrificing developer agility again policy is code",
    "start": "1055640",
    "end": "1061120"
  },
  {
    "text": "uh and gatekeeper is a validating a mission web hook as well as mutating so",
    "start": "1061120",
    "end": "1067820"
  },
  {
    "text": "you can use uh gatekeeper to enforce uh these policies as well as mutating so",
    "start": "1067820",
    "end": "1074360"
  },
  {
    "text": "that um people admit to so that you can ensure that when things are deployed to the cluster they're actually deployed",
    "start": "1074360",
    "end": "1081380"
  },
  {
    "text": "with company policy whether that's updating the deployment enamel or adding",
    "start": "1081380",
    "end": "1086900"
  },
  {
    "text": "some labels or annotations and also it comes with audit so there",
    "start": "1086900",
    "end": "1092900"
  },
  {
    "text": "are times where maybe you don't want to strictly deny deployment right on the",
    "start": "1092900",
    "end": "1098240"
  },
  {
    "text": "cluster so you you might want to see I wonder how many people are running I don't know with uh containers that are",
    "start": "1098240",
    "end": "1104900"
  },
  {
    "text": "pulled from Docker Hub as opposed to my company's registry right so how do I actually get a compliance report of what",
    "start": "1104900",
    "end": "1111799"
  },
  {
    "text": "is actually running in the Clusters uh gatekeeper it provides that audit capability",
    "start": "1111799",
    "end": "1117620"
  },
  {
    "text": "and also what if you have uh instead of catching problems at deployment time and",
    "start": "1117620",
    "end": "1124520"
  },
  {
    "text": "even run time right how do you make sure that your developers are doing the right things",
    "start": "1124520",
    "end": "1129559"
  },
  {
    "text": "um so in gatekeeper project we also have a gator CLI so the idea is you use the exact same policy that you're enforcing",
    "start": "1129559",
    "end": "1136160"
  },
  {
    "text": "in your production clusters but you're putting them as part of your CI CD so",
    "start": "1136160",
    "end": "1141380"
  },
  {
    "text": "you can break build right so you can catch the problem at the source uh so your developers are intentionally",
    "start": "1141380",
    "end": "1148280"
  },
  {
    "text": "deploying the right things to their clusters and last but not least we also have now",
    "start": "1148280",
    "end": "1154460"
  },
  {
    "text": "have the external data feature we heard from a lot of customers and users who",
    "start": "1154460",
    "end": "1160220"
  },
  {
    "text": "are saying you know what I love enforcing things in kubernetes with kubernetes resources but what if I have",
    "start": "1160220",
    "end": "1166340"
  },
  {
    "text": "things in my policies that reaches things outside of the cluster right say if you have um",
    "start": "1166340",
    "end": "1172760"
  },
  {
    "text": "say if you want to check if your container images are signed right or if",
    "start": "1172760",
    "end": "1178820"
  },
  {
    "text": "they're using let's say owner labels right you might want to use the user's",
    "start": "1178820",
    "end": "1186919"
  },
  {
    "text": "ldap properties right how would you actually be able to pull that external data from outside of the cluster so",
    "start": "1186919",
    "end": "1194120"
  },
  {
    "text": "external data allows you to do that uh sorry last but not least we also have",
    "start": "1194120",
    "end": "1201440"
  },
  {
    "text": "the community policy Library as I mentioned before a lot of companies already you know run this as a managed",
    "start": "1201440",
    "end": "1208940"
  },
  {
    "text": "feature as part of their offering so a lot of companies already wrote a bunch of really great regos",
    "start": "1208940",
    "end": "1216100"
  },
  {
    "text": "and so they all basically donated them as a compute a community policy Library",
    "start": "1216100",
    "end": "1222440"
  },
  {
    "text": "so instead of you having to figure out how to write those regulars chances are they already exist in this policy",
    "start": "1222440",
    "end": "1229039"
  },
  {
    "text": "Library uh here's the uh just kind of give you",
    "start": "1229039",
    "end": "1234380"
  },
  {
    "text": "an example here's an example of a live a policy in the community policy Library",
    "start": "1234380",
    "end": "1241460"
  },
  {
    "text": "um and as you can see this is one uh policy that someone actually contributed",
    "start": "1241460",
    "end": "1247640"
  },
  {
    "text": "based on the ACV uh to enforce external IPS it's a man in the middle attack by",
    "start": "1247640",
    "end": "1255320"
  },
  {
    "text": "ensuring load balancers are not using external IPS",
    "start": "1255320",
    "end": "1260559"
  },
  {
    "text": "uh and this is a project update um so since the last kubecon we've had",
    "start": "1260660",
    "end": "1265700"
  },
  {
    "text": "two releases so the current release is V 312 so what are the updates that we",
    "start": "1265700",
    "end": "1271580"
  },
  {
    "text": "introduced well uh external data is Now Beta and we've ensured now TLS and mtls",
    "start": "1271580",
    "end": "1279200"
  },
  {
    "text": "is enforced it's required to communicate between gatekeeper and the external data providers",
    "start": "1279200",
    "end": "1285260"
  },
  {
    "text": "and Gator CLI is Now Beta now it provides a lot of capability that again",
    "start": "1285260",
    "end": "1290600"
  },
  {
    "text": "you can add to your CI CD pipeline uh and then there is a new assign image",
    "start": "1290600",
    "end": "1296059"
  },
  {
    "text": "mutator um so again I'll go into depth on the following two and we've added",
    "start": "1296059",
    "end": "1303140"
  },
  {
    "text": "multi-engine support how many of you guys already heard of the kubernetes",
    "start": "1303140",
    "end": "1308360"
  },
  {
    "text": "validating emission policy and are you here to one Wonder like how",
    "start": "1308360",
    "end": "1313940"
  },
  {
    "text": "does this how is it going to work with gatekeeper uh so we'll be talking about that so multi engine support was added",
    "start": "1313940",
    "end": "1319640"
  },
  {
    "text": "so that we can integrate the two uh and also uh emit violation Paul",
    "start": "1319640",
    "end": "1325159"
  },
  {
    "text": "events um this feature was added a long time ago um but uh in 312 now you're",
    "start": "1325159",
    "end": "1333020"
  },
  {
    "text": "able to get the events generated in the namespace that the violating object is",
    "start": "1333020",
    "end": "1338600"
  },
  {
    "text": "in uh and then now we you can also except namespace with a suffix in addition to",
    "start": "1338600",
    "end": "1345200"
  },
  {
    "text": "prefix and then also the expended resource now have generated mock names so when you",
    "start": "1345200",
    "end": "1352100"
  },
  {
    "text": "see the violation you actually can see the names of the generator resources and let's say you have annotations on",
    "start": "1352100",
    "end": "1359539"
  },
  {
    "text": "your policies you can now see them in the logs all right uh so I talked about a signed",
    "start": "1359539",
    "end": "1366020"
  },
  {
    "text": "image earlier um so here is an example of how you can mutate a a resource that you're",
    "start": "1366020",
    "end": "1372860"
  },
  {
    "text": "deploying to your kubernetes cluster um I know I don't know how many of y'all",
    "start": "1372860",
    "end": "1378679"
  },
  {
    "text": "had to deal with the recent switch for kubernetes images you know going from the old registry to the new registry",
    "start": "1378679",
    "end": "1386539"
  },
  {
    "text": "um but let's say in your company you have people who are pulling from Docker Hub and you have a mirror in the company",
    "start": "1386539",
    "end": "1391880"
  },
  {
    "text": "and you want to make sure when people deploy their container images they're actually pulling from your image your",
    "start": "1391880",
    "end": "1398900"
  },
  {
    "text": "registry and not Docker Hub here's one way to do it right so you deploy this to",
    "start": "1398900",
    "end": "1404179"
  },
  {
    "text": "your cluster and you say hey for all pots for all the images I want you to",
    "start": "1404179",
    "end": "1410360"
  },
  {
    "text": "replace the registry with my company's registry and by doing this once again",
    "start": "1410360",
    "end": "1415640"
  },
  {
    "text": "you're ensuring that people are not just pulling from random Docker Hub uh repos",
    "start": "1415640",
    "end": "1424400"
  },
  {
    "text": "um all right so let's talk about multi-engine support in 126 a kubernetes 126 an alpha feature",
    "start": "1424580",
    "end": "1434240"
  },
  {
    "start": "1426000",
    "end": "1426000"
  },
  {
    "text": "called validating a mission policy was introduced it basically is a declarative and unprocessed way of validating",
    "start": "1434240",
    "end": "1441640"
  },
  {
    "text": "policies against your emission request uh so you might ask well that sounds a",
    "start": "1441640",
    "end": "1449120"
  },
  {
    "text": "lot like gatekeeper right and it does right um so so the motivation for this is to",
    "start": "1449120",
    "end": "1454940"
  },
  {
    "text": "help us understand when to use what and what's the differentiation between the two",
    "start": "1454940",
    "end": "1461120"
  },
  {
    "text": "um so first off validating a mission policy is a entry native policy so it",
    "start": "1461120",
    "end": "1468620"
  },
  {
    "text": "doesn't require the actual hop that a typical emission web hook requires",
    "start": "1468620",
    "end": "1474039"
  },
  {
    "text": "uh the the benefit of that is it reduces the request latency right uh and because",
    "start": "1474039",
    "end": "1480980"
  },
  {
    "text": "it doesn't require the extra hop you now have more reliability and availability",
    "start": "1480980",
    "end": "1487340"
  },
  {
    "text": "and because of that you can actually uh fail close right so one of the key",
    "start": "1487340",
    "end": "1493400"
  },
  {
    "text": "issues with any uh emission white box right is because you're requiring an",
    "start": "1493400",
    "end": "1498919"
  },
  {
    "text": "extra hop and if that hop is not available in in fact you're actually impacting the request and therefore a",
    "start": "1498919",
    "end": "1506059"
  },
  {
    "text": "lot of web hooks actually fail open um so if in so for policies this is a big problem right you want to make sure",
    "start": "1506059",
    "end": "1512539"
  },
  {
    "text": "you're enforcing the policies but at the same time you don't want the cluster to have availability issues",
    "start": "1512539",
    "end": "1519260"
  },
  {
    "text": "um so with this you can now actually fail close without worrying about availability",
    "start": "1519260",
    "end": "1525080"
  },
  {
    "text": "uh and again operation burn is reduced because you don't have to worry about",
    "start": "1525080",
    "end": "1530299"
  },
  {
    "text": "maintaining another web hook and the language that's embedded is cell",
    "start": "1530299",
    "end": "1535700"
  },
  {
    "text": "it's a it's actually a I think Google started so um and now let's look at a gatekeeper",
    "start": "1535700",
    "end": "1543200"
  },
  {
    "text": "you might ask like wow this sounds really great so when do I what what are the scenarios where I actually need to",
    "start": "1543200",
    "end": "1549320"
  },
  {
    "text": "use gatekeeper um well gatekeeper provides the auto functionality which validating emission",
    "start": "1549320",
    "end": "1554840"
  },
  {
    "text": "policy does not um in theory you could go to your API server and look at the logs but audit",
    "start": "1554840",
    "end": "1562100"
  },
  {
    "text": "gatekeeper audit will just basically have all this violation as part of gatekeeper audit and again it's if you",
    "start": "1562100",
    "end": "1569779"
  },
  {
    "text": "have Integrations with audit chances are you could create other reports and compliance reports for for the cluster",
    "start": "1569779",
    "end": "1577100"
  },
  {
    "text": "operator right and another one is referential policies right what do I mean by referential policies well let's",
    "start": "1577100",
    "end": "1583700"
  },
  {
    "text": "say you have a policy that needs to check for Ingress hostname uniqueness right unique names uniqueness requires",
    "start": "1583700",
    "end": "1591440"
  },
  {
    "text": "you to look at the incoming requests and compare against everything that already exists in the cluster and that's what I",
    "start": "1591440",
    "end": "1598520"
  },
  {
    "text": "mean by referential policy and that is something validating a mission policy cannot do right",
    "start": "1598520",
    "end": "1605059"
  },
  {
    "text": "uh again external data chances are you have some data source that's outside of",
    "start": "1605059",
    "end": "1610220"
  },
  {
    "text": "the cluster uh validating emission policy is very much everything in the cluster",
    "start": "1610220",
    "end": "1616100"
  },
  {
    "text": "um so this again gives you extra capability if you need it uh mutation uh gatekeeper again helps",
    "start": "1616100",
    "end": "1623179"
  },
  {
    "text": "you mutate in addition to validating and shift left right the same policy you",
    "start": "1623179",
    "end": "1628820"
  },
  {
    "text": "you need now you with gatekeeper you can use the same policy but within your CI",
    "start": "1628820",
    "end": "1633919"
  },
  {
    "text": "CD with the gator CLI uh and also because Oba is very very",
    "start": "1633919",
    "end": "1640940"
  },
  {
    "text": "powerful you are able to write very complex rules that simply cannot right",
    "start": "1640940",
    "end": "1647600"
  },
  {
    "text": "um and once again there are a bunch of community policy libraries that's already out there so chances are you",
    "start": "1647600",
    "end": "1652820"
  },
  {
    "text": "could just literally pop it and deploy it in your cluster you don't even have to write a single uh you don't need to",
    "start": "1652820",
    "end": "1658820"
  },
  {
    "text": "write a new policy uh and gatekeeper uh you know because we add a multi-engine the idea is that it",
    "start": "1658820",
    "end": "1665840"
  },
  {
    "text": "supports oppa and more right and then again which means you get to write your",
    "start": "1665840",
    "end": "1672260"
  },
  {
    "text": "policy in Rego in sell in whatever language that your users are comfortable",
    "start": "1672260",
    "end": "1677360"
  },
  {
    "text": "with now you may ask well that's that's cool we get the best of both worlds but sorry",
    "start": "1677360",
    "end": "1684140"
  },
  {
    "text": "that's cool they both do different things but how do I make sure I get the best of both worlds is there even a way",
    "start": "1684140",
    "end": "1691580"
  },
  {
    "start": "1691000",
    "end": "1691000"
  },
  {
    "text": "um yes and that's this multi-engine support concept that we're working on um so today gatekeeper is dependent on",
    "start": "1691580",
    "end": "1699559"
  },
  {
    "text": "this framework called constraint framework as part of the open policy engine org so the idea is that we can",
    "start": "1699559",
    "end": "1706159"
  },
  {
    "text": "create an abstraction layer right that simplifies the user experience allow the",
    "start": "1706159",
    "end": "1711320"
  },
  {
    "text": "users to actually write the policy in whatever language they're familiar with but the operator that are deploying",
    "start": "1711320",
    "end": "1719179"
  },
  {
    "text": "these policies are basically deploying them in the same same manner",
    "start": "1719179",
    "end": "1725419"
  },
  {
    "text": "so again the concept is multi-language multi-target policy enforcement regular",
    "start": "1725419",
    "end": "1731480"
  },
  {
    "text": "cell together targeting kubernetes emissions terraform or whatever Target",
    "start": "1731480",
    "end": "1737240"
  },
  {
    "text": "that you need and portable policies right same policy",
    "start": "1737240",
    "end": "1742400"
  },
  {
    "text": "you can use it in CI CD in whatever enforcement mechanism",
    "start": "1742400",
    "end": "1747980"
  },
  {
    "text": "and furthermore you can actually um uh this is already in gatekeeper so it's",
    "start": "1747980",
    "end": "1755840"
  },
  {
    "text": "so this is why we're adding it um and enabling multiple engines right",
    "start": "1755840",
    "end": "1762200"
  },
  {
    "text": "so again use the best part of uh the different engines that are in uh that",
    "start": "1762200",
    "end": "1767360"
  },
  {
    "text": "are currently in the community uh and what we believe how this can help",
    "start": "1767360",
    "end": "1773600"
  },
  {
    "text": "is because gatekeeper and Oppa are way more mature than the entry validating a",
    "start": "1773600",
    "end": "1780200"
  },
  {
    "text": "mission policy which is still Alpha the idea is that we bridge the gap and",
    "start": "1780200",
    "end": "1785720"
  },
  {
    "text": "together with gatekeeper and Gator CLI you're able to also get audit and shift",
    "start": "1785720",
    "end": "1791360"
  },
  {
    "text": "left validations for the new validating emission policy for free right",
    "start": "1791360",
    "end": "1798700"
  },
  {
    "text": "uh so yeah so just an example we're adding validating a mission policy based",
    "start": "1799399",
    "end": "1805039"
  },
  {
    "text": "on Cell to constraint framework and someone in the community also asks for",
    "start": "1805039",
    "end": "1811820"
  },
  {
    "text": "starlock support um so what does that even look like right just to kind of give you an a",
    "start": "1811820",
    "end": "1818419"
  },
  {
    "text": "graphic understanding so let's say you have an admission request when it comes in right it goes to the API server uh",
    "start": "1818419",
    "end": "1825440"
  },
  {
    "text": "and the aps server is just going to go through all the mission controllers in addition to all the custom webhogs right",
    "start": "1825440",
    "end": "1831919"
  },
  {
    "text": "so it's gonna go and look at all the resources in the cluster you got the",
    "start": "1831919",
    "end": "1836960"
  },
  {
    "text": "validating emission policy uh and then the binding and then uh based on The",
    "start": "1836960",
    "end": "1842059"
  },
  {
    "text": "Binding the policies will basically run right um so an example would be require",
    "start": "1842059",
    "end": "1847460"
  },
  {
    "text": "owner's label on everything and then you have a similar you have the mission web books like gatekeeper and",
    "start": "1847460",
    "end": "1854720"
  },
  {
    "text": "the query will basically go to Oppa and then Oba will look at all the constraints and constraint templates in",
    "start": "1854720",
    "end": "1861500"
  },
  {
    "text": "the cluster and then returns uh basically the the decision back to the API server right",
    "start": "1861500",
    "end": "1868399"
  },
  {
    "text": "an example of that would be unique Ingress hostname um so again the future that we're",
    "start": "1868399",
    "end": "1875480"
  },
  {
    "start": "1872000",
    "end": "1872000"
  },
  {
    "text": "envisioning is gatekeeper could be the front end for all the kubernetes policies where everything could be",
    "start": "1875480",
    "end": "1881899"
  },
  {
    "text": "defined as constraints and constraint templates and then the gatekeeper controller will when it sees like hey",
    "start": "1881899",
    "end": "1888860"
  },
  {
    "text": "the engine is kubernetes native validation what that translates to is validating a mission policy binding and",
    "start": "1888860",
    "end": "1896140"
  },
  {
    "text": "validating a mission policy resources in the cluster",
    "start": "1896140",
    "end": "1902299"
  },
  {
    "text": "uh and again when we talk about audit you know gatekeeper will continue to be the audit engine uh and depending on uh",
    "start": "1902299",
    "end": "1911179"
  },
  {
    "text": "which engine the constraint template is using if it's using Opa Rego it's going",
    "start": "1911179",
    "end": "1916760"
  },
  {
    "text": "to call the OPA driver if it's using uh kubernetes Native validation it's going",
    "start": "1916760",
    "end": "1922159"
  },
  {
    "text": "to call the kubernetes native validation driver right so same front end but",
    "start": "1922159",
    "end": "1928100"
  },
  {
    "text": "talking to different engines within gatekeeper and it's all seamless to the",
    "start": "1928100",
    "end": "1933559"
  },
  {
    "text": "the user right the users don't care well all they care about is the language itself",
    "start": "1933559",
    "end": "1939620"
  },
  {
    "text": "uh so yeah so what's next um we want to adopt kubernetes native validation policies with minimal change",
    "start": "1939620",
    "end": "1947299"
  },
  {
    "text": "and bring it to audit shift left and then update the gatekeeper library to now support kubernetes native validation",
    "start": "1947299",
    "end": "1953720"
  },
  {
    "text": "policies support the base support these new policies for older kubernetes policies a",
    "start": "1953720",
    "end": "1960440"
  },
  {
    "text": "kubernetes versions right so what if you got customers that want to use it before 126 how do they even do it well with",
    "start": "1960440",
    "end": "1967340"
  },
  {
    "text": "gatekeeper now you can right um and Gator support you know for",
    "start": "1967340",
    "end": "1972500"
  },
  {
    "text": "kubernetes Native validation based rules so now they can actually use it in their CI CD and of course more engines right",
    "start": "1972500",
    "end": "1979820"
  },
  {
    "text": "Tomorrow there's probably going to be some other engine and as a company you probably don't want to have to you know",
    "start": "1979820",
    "end": "1986539"
  },
  {
    "text": "deal with it every single time in a different manner so that's pretty much all the updates",
    "start": "1986539",
    "end": "1993140"
  },
  {
    "text": "and I just want to say thank you to all the contributors for everything you've helped with the last few releases",
    "start": "1993140",
    "end": "2000399"
  },
  {
    "text": "foreign",
    "start": "2000399",
    "end": "2003399"
  }
]