[
  {
    "start": "0",
    "end": "89000"
  },
  {
    "text": "hi everyone",
    "start": "3520",
    "end": "4880"
  },
  {
    "text": "welcome to a hitchhiker's guide to",
    "start": "4880",
    "end": "6640"
  },
  {
    "text": "container security",
    "start": "6640",
    "end": "8400"
  },
  {
    "text": "today we're going to be talking about",
    "start": "8400",
    "end": "9599"
  },
  {
    "text": "container security through the eyes of a",
    "start": "9599",
    "end": "12000"
  },
  {
    "text": "couple of characters in the story that",
    "start": "12000",
    "end": "13440"
  },
  {
    "text": "we created",
    "start": "13440",
    "end": "15839"
  },
  {
    "text": "also be showing a couple of demos",
    "start": "15839",
    "end": "18480"
  },
  {
    "text": "but before we get started on the talk",
    "start": "18480",
    "end": "20800"
  },
  {
    "text": "just wanted to give a brief introduction",
    "start": "20800",
    "end": "23600"
  },
  {
    "text": "so hi i'm jed salazar uh i like",
    "start": "23600",
    "end": "27119"
  },
  {
    "text": "mountains dogs and security keys",
    "start": "27119",
    "end": "30400"
  },
  {
    "text": "uh i currently work for a company called",
    "start": "30400",
    "end": "32480"
  },
  {
    "text": "i surveillance as a security engineer",
    "start": "32480",
    "end": "34960"
  },
  {
    "text": "where i'm focused on kubernetes security",
    "start": "34960",
    "end": "39440"
  },
  {
    "text": "hi everyone i'm tinder luisa",
    "start": "39440",
    "end": "42480"
  },
  {
    "text": "i enjoy teaching and also solving",
    "start": "42480",
    "end": "44640"
  },
  {
    "text": "complex problems i currently work with a",
    "start": "44640",
    "end": "47280"
  },
  {
    "text": "company called ultimo where it's a",
    "start": "47280",
    "end": "49280"
  },
  {
    "text": "consulting company that specializes in",
    "start": "49280",
    "end": "52480"
  },
  {
    "text": "solving cloud native problems and",
    "start": "52480",
    "end": "54719"
  },
  {
    "text": "working with modern technology we do",
    "start": "54719",
    "end": "56960"
  },
  {
    "text": "this within",
    "start": "56960",
    "end": "58480"
  },
  {
    "text": "enterprise i.t companies and also the",
    "start": "58480",
    "end": "61039"
  },
  {
    "text": "federal government space",
    "start": "61039",
    "end": "63280"
  },
  {
    "text": "um i i work as a managing consultant i'm",
    "start": "63280",
    "end": "66880"
  },
  {
    "text": "also a chief architect at the u.s air",
    "start": "66880",
    "end": "69119"
  },
  {
    "text": "force dod platform one",
    "start": "69119",
    "end": "72080"
  },
  {
    "text": "currently",
    "start": "72080",
    "end": "74400"
  },
  {
    "text": "and we both formally used to work",
    "start": "74400",
    "end": "76400"
  },
  {
    "text": "together at a small startup called",
    "start": "76400",
    "end": "78320"
  },
  {
    "text": "heptio",
    "start": "78320",
    "end": "79600"
  },
  {
    "text": "that was a great kubernetes company um",
    "start": "79600",
    "end": "82960"
  },
  {
    "text": "however both at otimo and at i",
    "start": "82960",
    "end": "85520"
  },
  {
    "text": "surveillance",
    "start": "85520",
    "end": "86640"
  },
  {
    "text": "we're both hiring of course",
    "start": "86640",
    "end": "90000"
  },
  {
    "start": "89000",
    "end": "160000"
  },
  {
    "text": "so let's get started with the story",
    "start": "90000",
    "end": "92560"
  },
  {
    "text": "so",
    "start": "92560",
    "end": "93520"
  },
  {
    "text": "once upon a time",
    "start": "93520",
    "end": "95280"
  },
  {
    "text": "containers which are",
    "start": "95280",
    "end": "97439"
  },
  {
    "text": "in this story known as remora fish",
    "start": "97439",
    "end": "100479"
  },
  {
    "text": "would hitchhike on nodes",
    "start": "100479",
    "end": "102880"
  },
  {
    "text": "or sharks",
    "start": "102880",
    "end": "104640"
  },
  {
    "text": "across the seas in a symbiotic",
    "start": "104640",
    "end": "106880"
  },
  {
    "text": "relationship",
    "start": "106880",
    "end": "108720"
  },
  {
    "text": "over the years containers ran in a",
    "start": "108720",
    "end": "111119"
  },
  {
    "text": "variety of risky ways",
    "start": "111119",
    "end": "113600"
  },
  {
    "text": "such as running as root and privileged",
    "start": "113600",
    "end": "118320"
  },
  {
    "text": "containers use the shared node's",
    "start": "118320",
    "end": "120159"
  },
  {
    "text": "operating system kernel for their",
    "start": "120159",
    "end": "122159"
  },
  {
    "text": "resources",
    "start": "122159",
    "end": "123360"
  },
  {
    "text": "so they were known as hitchhikers",
    "start": "123360",
    "end": "127280"
  },
  {
    "text": "meet paulie",
    "start": "127280",
    "end": "128720"
  },
  {
    "text": "a hitchhiker who runs an nginx web",
    "start": "128720",
    "end": "130879"
  },
  {
    "text": "server with just a few pages",
    "start": "130879",
    "end": "133599"
  },
  {
    "text": "poly used to run in a dedicated vm",
    "start": "133599",
    "end": "135520"
  },
  {
    "text": "environment and in many ways",
    "start": "135520",
    "end": "137760"
  },
  {
    "text": "things were easier for them in a vm",
    "start": "137760",
    "end": "140000"
  },
  {
    "text": "because of a lack of choices",
    "start": "140000",
    "end": "142560"
  },
  {
    "text": "they didn't have to worry about",
    "start": "142560",
    "end": "144000"
  },
  {
    "text": "resources networking and security",
    "start": "144000",
    "end": "146560"
  },
  {
    "text": "configurations",
    "start": "146560",
    "end": "148560"
  },
  {
    "text": "however the environment that they were",
    "start": "148560",
    "end": "150319"
  },
  {
    "text": "provisioned was too large for the just",
    "start": "150319",
    "end": "152959"
  },
  {
    "text": "few pages that they served so paulie",
    "start": "152959",
    "end": "155599"
  },
  {
    "text": "made the decision to hitchhike on a node",
    "start": "155599",
    "end": "158239"
  },
  {
    "text": "as a container",
    "start": "158239",
    "end": "161040"
  },
  {
    "start": "160000",
    "end": "192000"
  },
  {
    "text": "let's meet our node",
    "start": "161599",
    "end": "163840"
  },
  {
    "text": "this is gnome the kubernetes control",
    "start": "163840",
    "end": "166319"
  },
  {
    "text": "plane node",
    "start": "166319",
    "end": "167920"
  },
  {
    "text": "gnome is super laid back and will run",
    "start": "167920",
    "end": "170239"
  },
  {
    "text": "any containerized workload that is",
    "start": "170239",
    "end": "171680"
  },
  {
    "text": "scheduled to them",
    "start": "171680",
    "end": "173280"
  },
  {
    "text": "also like other nodes they'll run",
    "start": "173280",
    "end": "175920"
  },
  {
    "text": "workloads with any settings the",
    "start": "175920",
    "end": "177519"
  },
  {
    "text": "containers ask",
    "start": "177519",
    "end": "178879"
  },
  {
    "text": "even if they're risky or dangerous",
    "start": "178879",
    "end": "181680"
  },
  {
    "text": "gnome always runs the newest version of",
    "start": "181680",
    "end": "183599"
  },
  {
    "text": "kubernetes",
    "start": "183599",
    "end": "184720"
  },
  {
    "text": "and they take pride in providing a safe",
    "start": "184720",
    "end": "186879"
  },
  {
    "text": "environment for their hitchhiker friends",
    "start": "186879",
    "end": "190959"
  },
  {
    "text": "so we've talked about containers a",
    "start": "193760",
    "end": "195680"
  },
  {
    "text": "couple times but we haven't touched on",
    "start": "195680",
    "end": "197760"
  },
  {
    "text": "what a container actually is",
    "start": "197760",
    "end": "200879"
  },
  {
    "text": "so what is a container",
    "start": "200879",
    "end": "203680"
  },
  {
    "text": "containers are linux processes that run",
    "start": "203680",
    "end": "206400"
  },
  {
    "text": "in the context of a namespace",
    "start": "206400",
    "end": "209680"
  },
  {
    "text": "namespaces provide isolated resources",
    "start": "209680",
    "end": "212319"
  },
  {
    "text": "for containers like volumes and",
    "start": "212319",
    "end": "214640"
  },
  {
    "text": "networking",
    "start": "214640",
    "end": "216000"
  },
  {
    "text": "making a container think it's the only",
    "start": "216000",
    "end": "218560"
  },
  {
    "text": "container on the node due to this",
    "start": "218560",
    "end": "220480"
  },
  {
    "text": "isolation",
    "start": "220480",
    "end": "222959"
  },
  {
    "text": "some of the key there's a lot of name",
    "start": "222959",
    "end": "224799"
  },
  {
    "text": "spaces but some of the key namespaces",
    "start": "224799",
    "end": "226959"
  },
  {
    "text": "include",
    "start": "226959",
    "end": "228319"
  },
  {
    "text": "pid",
    "start": "228319",
    "end": "229519"
  },
  {
    "text": "so every process in linux gets something",
    "start": "229519",
    "end": "232400"
  },
  {
    "text": "called a process id or a pin",
    "start": "232400",
    "end": "236000"
  },
  {
    "text": "a pid namespace",
    "start": "236000",
    "end": "237840"
  },
  {
    "text": "masks other container pids or their",
    "start": "237840",
    "end": "240799"
  },
  {
    "text": "processes",
    "start": "240799",
    "end": "242319"
  },
  {
    "text": "so your container only sees the",
    "start": "242319",
    "end": "244959"
  },
  {
    "text": "processes running in its container",
    "start": "244959",
    "end": "249040"
  },
  {
    "text": "there's also a namespace called amount",
    "start": "249040",
    "end": "251439"
  },
  {
    "text": "namespace",
    "start": "251439",
    "end": "252720"
  },
  {
    "text": "which is used to give containers file",
    "start": "252720",
    "end": "254720"
  },
  {
    "text": "systems and access to some directories",
    "start": "254720",
    "end": "257040"
  },
  {
    "text": "on the node",
    "start": "257040",
    "end": "258880"
  },
  {
    "text": "this namespace is used to unpack the",
    "start": "258880",
    "end": "261440"
  },
  {
    "text": "container image as a file system for the",
    "start": "261440",
    "end": "264240"
  },
  {
    "text": "container",
    "start": "264240",
    "end": "266479"
  },
  {
    "text": "as you can see paulie also has a network",
    "start": "266479",
    "end": "268240"
  },
  {
    "text": "namespace here",
    "start": "268240",
    "end": "269680"
  },
  {
    "text": "a network namespace allows containers to",
    "start": "269680",
    "end": "271759"
  },
  {
    "text": "have network interfaces and routing",
    "start": "271759",
    "end": "274080"
  },
  {
    "text": "tables so that they can send and receive",
    "start": "274080",
    "end": "276400"
  },
  {
    "text": "traffic",
    "start": "276400",
    "end": "278800"
  },
  {
    "text": "not shown here but also part of",
    "start": "279520",
    "end": "282160"
  },
  {
    "text": "containers is something called c groups",
    "start": "282160",
    "end": "284880"
  },
  {
    "text": "and c groups are used to limit the",
    "start": "284880",
    "end": "287600"
  },
  {
    "text": "cpu and memory resources that a",
    "start": "287600",
    "end": "290080"
  },
  {
    "text": "container can consume",
    "start": "290080",
    "end": "292080"
  },
  {
    "text": "in the context of security this is nice",
    "start": "292080",
    "end": "294639"
  },
  {
    "text": "because it allows us to not have one",
    "start": "294639",
    "end": "297680"
  },
  {
    "text": "what's known as a noisy neighbor",
    "start": "297680",
    "end": "299520"
  },
  {
    "text": "container take all of the resources from",
    "start": "299520",
    "end": "301919"
  },
  {
    "text": "the node from other containers",
    "start": "301919",
    "end": "305919"
  },
  {
    "text": "so paulie knew containers were awesome",
    "start": "309039",
    "end": "313039"
  },
  {
    "text": "of course",
    "start": "313039",
    "end": "314400"
  },
  {
    "text": "but they were also a lot of work",
    "start": "314400",
    "end": "317360"
  },
  {
    "text": "so paulie asked their friend gnome the",
    "start": "317360",
    "end": "319600"
  },
  {
    "text": "note",
    "start": "319600",
    "end": "320720"
  },
  {
    "text": "if they could help them get started",
    "start": "320720",
    "end": "322240"
  },
  {
    "text": "hitchhiking as a container",
    "start": "322240",
    "end": "324720"
  },
  {
    "text": "of course that node",
    "start": "324720",
    "end": "326880"
  },
  {
    "text": "stoked to help their friend",
    "start": "326880",
    "end": "330000"
  },
  {
    "text": "paulie was given a lot of choices to get",
    "start": "330000",
    "end": "332080"
  },
  {
    "text": "started",
    "start": "332080",
    "end": "333759"
  },
  {
    "text": "overwhelmed with the choices and really",
    "start": "333759",
    "end": "335840"
  },
  {
    "text": "just wanted to get things to work paulie",
    "start": "335840",
    "end": "338400"
  },
  {
    "text": "chose a privileged setting",
    "start": "338400",
    "end": "340960"
  },
  {
    "text": "this gave paulie unrestrictive access to",
    "start": "340960",
    "end": "343360"
  },
  {
    "text": "all of nate's resources all of gnome's",
    "start": "343360",
    "end": "345840"
  },
  {
    "text": "resources",
    "start": "345840",
    "end": "347120"
  },
  {
    "text": "and disabled any safety precautions",
    "start": "347120",
    "end": "351280"
  },
  {
    "text": "while this made it easy for paulie to",
    "start": "351280",
    "end": "352880"
  },
  {
    "text": "get started hitchhiking",
    "start": "352880",
    "end": "354720"
  },
  {
    "text": "they didn't know what these privileges",
    "start": "354720",
    "end": "356160"
  },
  {
    "text": "meant or the risks they could introduce",
    "start": "356160",
    "end": "358880"
  },
  {
    "text": "both to gnome as well as other",
    "start": "358880",
    "end": "361199"
  },
  {
    "text": "containers",
    "start": "361199",
    "end": "363360"
  },
  {
    "text": "as we can see here",
    "start": "363360",
    "end": "364960"
  },
  {
    "text": "paulie is using gnome's resources",
    "start": "364960",
    "end": "366800"
  },
  {
    "text": "directly instead of their namespace",
    "start": "366800",
    "end": "369360"
  },
  {
    "text": "resources",
    "start": "369360",
    "end": "371600"
  },
  {
    "text": "what could these privileges enable in",
    "start": "371600",
    "end": "373600"
  },
  {
    "text": "the real world and what risk could they",
    "start": "373600",
    "end": "376000"
  },
  {
    "text": "introduce for gnome and other containers",
    "start": "376000",
    "end": "380840"
  },
  {
    "start": "381000",
    "end": "418000"
  },
  {
    "text": "so here we'll actually break into a demo",
    "start": "385360",
    "end": "388240"
  },
  {
    "text": "so here we'll actually break into a demo",
    "start": "388240",
    "end": "390479"
  },
  {
    "text": "which showcases what a pod can do or",
    "start": "390479",
    "end": "392880"
  },
  {
    "text": "what a container can do when it's",
    "start": "392880",
    "end": "394800"
  },
  {
    "text": "actually given unrestrictive access to a",
    "start": "394800",
    "end": "397199"
  },
  {
    "text": "node's resources",
    "start": "397199",
    "end": "398960"
  },
  {
    "text": "in this case we'll actually be using the",
    "start": "398960",
    "end": "401199"
  },
  {
    "text": "node's kubernetes admin resources to",
    "start": "401199",
    "end": "404720"
  },
  {
    "text": "effectively break the contain or brick",
    "start": "404720",
    "end": "406720"
  },
  {
    "text": "the boundary between a container and a",
    "start": "406720",
    "end": "408800"
  },
  {
    "text": "node and escape out of the container and",
    "start": "408800",
    "end": "412000"
  },
  {
    "text": "basically use the node's resources for",
    "start": "412000",
    "end": "414000"
  },
  {
    "text": "bad",
    "start": "414000",
    "end": "415919"
  },
  {
    "text": "let's take a look",
    "start": "415919",
    "end": "418639"
  },
  {
    "start": "418000",
    "end": "630000"
  },
  {
    "text": "alright so what can paulie do with the",
    "start": "419919",
    "end": "422080"
  },
  {
    "text": "privileged permissions that they've been",
    "start": "422080",
    "end": "423840"
  },
  {
    "text": "granted",
    "start": "423840",
    "end": "424960"
  },
  {
    "text": "um let's take a look",
    "start": "424960",
    "end": "428319"
  },
  {
    "text": "so i've got a couple of manifests",
    "start": "429919",
    "end": "432800"
  },
  {
    "text": "uh",
    "start": "432800",
    "end": "433840"
  },
  {
    "text": "we're gonna be using both in this demo",
    "start": "433840",
    "end": "436319"
  },
  {
    "text": "so the first one",
    "start": "436319",
    "end": "438000"
  },
  {
    "text": "is paulie's manifest itself and we'll",
    "start": "438000",
    "end": "440720"
  },
  {
    "text": "actually take a look at this manifest",
    "start": "440720",
    "end": "442319"
  },
  {
    "text": "kind of jump through the important",
    "start": "442319",
    "end": "443599"
  },
  {
    "text": "attributes that are kind of specific to",
    "start": "443599",
    "end": "445199"
  },
  {
    "text": "this demo",
    "start": "445199",
    "end": "446240"
  },
  {
    "text": "um but we also have another",
    "start": "446240",
    "end": "448800"
  },
  {
    "text": "pod manifesto called incognito which",
    "start": "448800",
    "end": "450720"
  },
  {
    "text": "we'll be going over here soon but for",
    "start": "450720",
    "end": "452319"
  },
  {
    "text": "now let's take a look at poly",
    "start": "452319",
    "end": "455360"
  },
  {
    "text": "so let's highlight some of the important",
    "start": "455360",
    "end": "457039"
  },
  {
    "text": "attributes about poly that are actually",
    "start": "457039",
    "end": "458720"
  },
  {
    "text": "going to facilitate us to in this case",
    "start": "458720",
    "end": "460880"
  },
  {
    "text": "kind of jump out of the container and do",
    "start": "460880",
    "end": "463120"
  },
  {
    "text": "a container escape",
    "start": "463120",
    "end": "464720"
  },
  {
    "text": "the way that i like to think about a",
    "start": "464720",
    "end": "466080"
  },
  {
    "text": "container escape each time that i do it",
    "start": "466080",
    "end": "467759"
  },
  {
    "text": "is you know the the chest burster scene",
    "start": "467759",
    "end": "469919"
  },
  {
    "text": "in alien but let's take a look all right",
    "start": "469919",
    "end": "472160"
  },
  {
    "text": "so we have",
    "start": "472160",
    "end": "473440"
  },
  {
    "text": "a couple of things under spec here that",
    "start": "473440",
    "end": "475199"
  },
  {
    "text": "are going to be particularly interesting",
    "start": "475199",
    "end": "477520"
  },
  {
    "text": "so we have host pid and host network",
    "start": "477520",
    "end": "480800"
  },
  {
    "text": "so if you remember back in the",
    "start": "480800",
    "end": "482560"
  },
  {
    "text": "presentation where i was describing name",
    "start": "482560",
    "end": "484479"
  },
  {
    "text": "spaces so for example we have the pid",
    "start": "484479",
    "end": "487120"
  },
  {
    "text": "name space",
    "start": "487120",
    "end": "488479"
  },
  {
    "text": "and the network name space the pid name",
    "start": "488479",
    "end": "490400"
  },
  {
    "text": "space basically meant that you know in",
    "start": "490400",
    "end": "492639"
  },
  {
    "text": "linux every process gets a process id or",
    "start": "492639",
    "end": "495280"
  },
  {
    "text": "a pid and the pit namespace makes it so",
    "start": "495280",
    "end": "497680"
  },
  {
    "text": "that the container can only see the pids",
    "start": "497680",
    "end": "500319"
  },
  {
    "text": "within its own namespace what we're",
    "start": "500319",
    "end": "502479"
  },
  {
    "text": "asking here is to basically say just",
    "start": "502479",
    "end": "504240"
  },
  {
    "text": "disable that all together so we're going",
    "start": "504240",
    "end": "506240"
  },
  {
    "text": "to see the pids coming directly from the",
    "start": "506240",
    "end": "508400"
  },
  {
    "text": "host so we'll be able to see the pids",
    "start": "508400",
    "end": "510960"
  },
  {
    "text": "both for anything that poly creates as",
    "start": "510960",
    "end": "513039"
  },
  {
    "text": "well as anything else that exists within",
    "start": "513039",
    "end": "515279"
  },
  {
    "text": "gnome the node",
    "start": "515279",
    "end": "516880"
  },
  {
    "text": "we also have host network",
    "start": "516880",
    "end": "518719"
  },
  {
    "text": "and in this case if you remember a",
    "start": "518719",
    "end": "520479"
  },
  {
    "text": "network namespace basically creates a",
    "start": "520479",
    "end": "523279"
  },
  {
    "text": "generally a network interface in that",
    "start": "523279",
    "end": "525519"
  },
  {
    "text": "namespace routing tables allows you to",
    "start": "525519",
    "end": "527680"
  },
  {
    "text": "send traffic basically we are removing",
    "start": "527680",
    "end": "530320"
  },
  {
    "text": "that namespace altogether and we're",
    "start": "530320",
    "end": "532399"
  },
  {
    "text": "using the host's network interface",
    "start": "532399",
    "end": "534399"
  },
  {
    "text": "directly and routing tables directly so",
    "start": "534399",
    "end": "536640"
  },
  {
    "text": "what that means is if we have something",
    "start": "536640",
    "end": "538880"
  },
  {
    "text": "like network policy which is kind of",
    "start": "538880",
    "end": "540880"
  },
  {
    "text": "like a firewall for your pods we're able",
    "start": "540880",
    "end": "543680"
  },
  {
    "text": "to circumvent that network policy and",
    "start": "543680",
    "end": "546000"
  },
  {
    "text": "send traffic directly out as the node",
    "start": "546000",
    "end": "549040"
  },
  {
    "text": "so moving forward we have a couple of",
    "start": "549040",
    "end": "550480"
  },
  {
    "text": "other things i wanted to discuss we have",
    "start": "550480",
    "end": "552399"
  },
  {
    "text": "this a concept called volume mounts and",
    "start": "552399",
    "end": "554720"
  },
  {
    "text": "basically what this means is inside of",
    "start": "554720",
    "end": "556480"
  },
  {
    "text": "my container i'm going to actually mount",
    "start": "556480",
    "end": "558959"
  },
  {
    "text": "a slash kubernetes directory",
    "start": "558959",
    "end": "562080"
  },
  {
    "text": "and if i jump down here we can see that",
    "start": "562080",
    "end": "566399"
  },
  {
    "text": "the thing that i'm actually going to",
    "start": "566399",
    "end": "568000"
  },
  {
    "text": "mount in that directory is from the host",
    "start": "568000",
    "end": "570959"
  },
  {
    "text": "itself so we're going to mount the etsy",
    "start": "570959",
    "end": "573120"
  },
  {
    "text": "kubernetes directory from the host",
    "start": "573120",
    "end": "575040"
  },
  {
    "text": "inside of the container at slash",
    "start": "575040",
    "end": "576800"
  },
  {
    "text": "kubernetes now this directory at sea",
    "start": "576800",
    "end": "579279"
  },
  {
    "text": "kubernetes is particularly dangerous",
    "start": "579279",
    "end": "582080"
  },
  {
    "text": "this tends to contain things like",
    "start": "582080",
    "end": "584240"
  },
  {
    "text": "um all of the credentials that's used to",
    "start": "584240",
    "end": "586880"
  },
  {
    "text": "basically make up the cluster",
    "start": "586880",
    "end": "588640"
  },
  {
    "text": "as well as some pod manifests that are",
    "start": "588640",
    "end": "590720"
  },
  {
    "text": "run locally by the cube which we'll take",
    "start": "590720",
    "end": "592480"
  },
  {
    "text": "a look at here soon",
    "start": "592480",
    "end": "594720"
  },
  {
    "text": "and then lastly to kind of make this",
    "start": "594720",
    "end": "596560"
  },
  {
    "text": "even more uh evil and uh powerful is",
    "start": "596560",
    "end": "600000"
  },
  {
    "text": "oops we're going to specify",
    "start": "600000",
    "end": "602320"
  },
  {
    "text": "that we're going to basically have",
    "start": "602320",
    "end": "604320"
  },
  {
    "text": "paulie land on a control plane node so",
    "start": "604320",
    "end": "606240"
  },
  {
    "text": "when we look at this etsy kubernetes",
    "start": "606240",
    "end": "607920"
  },
  {
    "text": "directory we're going to be looking at",
    "start": "607920",
    "end": "609519"
  },
  {
    "text": "that from a control plane mode which",
    "start": "609519",
    "end": "611040"
  },
  {
    "text": "kind of gives us more you know",
    "start": "611040",
    "end": "612560"
  },
  {
    "text": "additional uh resources to take",
    "start": "612560",
    "end": "614720"
  },
  {
    "text": "advantage of",
    "start": "614720",
    "end": "616240"
  },
  {
    "text": "and of course as mentioned uh paulie is",
    "start": "616240",
    "end": "618560"
  },
  {
    "text": "actually going to be running with a",
    "start": "618560",
    "end": "619600"
  },
  {
    "text": "security context of privilege equals",
    "start": "619600",
    "end": "621920"
  },
  {
    "text": "true um so we kind of have the option to",
    "start": "621920",
    "end": "624959"
  },
  {
    "text": "you know decide whether we want to use",
    "start": "624959",
    "end": "626480"
  },
  {
    "text": "these namespaces that we defined or not",
    "start": "626480",
    "end": "630480"
  },
  {
    "start": "630000",
    "end": "1029000"
  },
  {
    "text": "awesome so um let's go ahead and",
    "start": "631040",
    "end": "634720"
  },
  {
    "text": "what we want to do now is um we'll just",
    "start": "634720",
    "end": "636880"
  },
  {
    "text": "i've created a",
    "start": "636880",
    "end": "638640"
  },
  {
    "text": "um",
    "start": "638640",
    "end": "639600"
  },
  {
    "text": "namespace uh called poly",
    "start": "639600",
    "end": "642640"
  },
  {
    "text": "actually it looks like i haven't yet so",
    "start": "642640",
    "end": "644000"
  },
  {
    "text": "let's go ahead and do that",
    "start": "644000",
    "end": "647600"
  },
  {
    "text": "and what we're going to do is we're",
    "start": "647600",
    "end": "648560"
  },
  {
    "text": "actually going to deploy poly into that",
    "start": "648560",
    "end": "650079"
  },
  {
    "text": "name space",
    "start": "650079",
    "end": "651920"
  },
  {
    "text": "by the way i actually have a an alias",
    "start": "651920",
    "end": "654079"
  },
  {
    "text": "for",
    "start": "654079",
    "end": "654880"
  },
  {
    "text": "cube cuddle um for k",
    "start": "654880",
    "end": "657120"
  },
  {
    "text": "so in this case let's go ahead and apply",
    "start": "657120",
    "end": "659680"
  },
  {
    "text": "poly to the poly name space",
    "start": "659680",
    "end": "662800"
  },
  {
    "text": "and then go ahead and get poly created",
    "start": "662800",
    "end": "666480"
  },
  {
    "text": "and it looks like poly is running",
    "start": "670720",
    "end": "672959"
  },
  {
    "text": "so let's go ahead and exec",
    "start": "672959",
    "end": "674959"
  },
  {
    "text": "into poly",
    "start": "674959",
    "end": "677760"
  },
  {
    "text": "all right great so we're in poly now and",
    "start": "682240",
    "end": "685279"
  },
  {
    "text": "as mentioned we went ahead and mounted",
    "start": "685279",
    "end": "687839"
  },
  {
    "text": "that uh etsy communities directly uh",
    "start": "687839",
    "end": "690800"
  },
  {
    "text": "directory into poly so if we just uh do",
    "start": "690800",
    "end": "693279"
  },
  {
    "text": "a list here we can see that we actually",
    "start": "693279",
    "end": "695120"
  },
  {
    "text": "have that slash kubernetes directory",
    "start": "695120",
    "end": "696720"
  },
  {
    "text": "that i mentioned",
    "start": "696720",
    "end": "697839"
  },
  {
    "text": "so let's move into this",
    "start": "697839",
    "end": "700640"
  },
  {
    "text": "if you list the contents again we're",
    "start": "700640",
    "end": "702640"
  },
  {
    "text": "actually looking at the gnome the nodes",
    "start": "702640",
    "end": "705519"
  },
  {
    "text": "um",
    "start": "705519",
    "end": "706399"
  },
  {
    "text": "you know etsy kubernetes directly",
    "start": "706399",
    "end": "708480"
  },
  {
    "text": "directory directly and what we see here",
    "start": "708480",
    "end": "711120"
  },
  {
    "text": "is we actually have quite a bit um first",
    "start": "711120",
    "end": "713839"
  },
  {
    "text": "and foremost we actually have this",
    "start": "713839",
    "end": "715200"
  },
  {
    "text": "fileadmin.com",
    "start": "715200",
    "end": "717519"
  },
  {
    "text": "this right here is basically the keys to",
    "start": "717519",
    "end": "719440"
  },
  {
    "text": "the kingdom so this is basically all the",
    "start": "719440",
    "end": "721600"
  },
  {
    "text": "kind of authentication um for the",
    "start": "721600",
    "end": "723680"
  },
  {
    "text": "cluster itself that kind of gives you",
    "start": "723680",
    "end": "725360"
  },
  {
    "text": "kubernetes admin so at this point if you",
    "start": "725360",
    "end": "727600"
  },
  {
    "text": "just made um you know these",
    "start": "727600",
    "end": "729839"
  },
  {
    "text": "configurations into your pod mounted",
    "start": "729839",
    "end": "732079"
  },
  {
    "text": "this in uh utilize this uh this data",
    "start": "732079",
    "end": "735040"
  },
  {
    "text": "here and you could basically do whatever",
    "start": "735040",
    "end": "736720"
  },
  {
    "text": "you wanted with the kubernetes cluster",
    "start": "736720",
    "end": "738399"
  },
  {
    "text": "you could basically impersonate",
    "start": "738399",
    "end": "741680"
  },
  {
    "text": "uh any component you could basically",
    "start": "741680",
    "end": "744399"
  },
  {
    "text": "launch any pod uh join any node",
    "start": "744399",
    "end": "747440"
  },
  {
    "text": "you know the the possibilities are",
    "start": "747440",
    "end": "749680"
  },
  {
    "text": "endless but what we want to do in this",
    "start": "749680",
    "end": "751519"
  },
  {
    "text": "demo is we actually want to",
    "start": "751519",
    "end": "753760"
  },
  {
    "text": "take advantage",
    "start": "753760",
    "end": "755600"
  },
  {
    "text": "of this directory here so this is the",
    "start": "755600",
    "end": "757680"
  },
  {
    "text": "manifest directory so in this directory",
    "start": "757680",
    "end": "760480"
  },
  {
    "text": "basically there's a component in each",
    "start": "760480",
    "end": "762639"
  },
  {
    "text": "node called the cubelet and the keyboard",
    "start": "762639",
    "end": "765120"
  },
  {
    "text": "will actually it's responsible for",
    "start": "765120",
    "end": "767519"
  },
  {
    "text": "running pods and making sure that those",
    "start": "767519",
    "end": "769200"
  },
  {
    "text": "pods are constantly running so if the",
    "start": "769200",
    "end": "771600"
  },
  {
    "text": "pod fails for whatever reason the qubit",
    "start": "771600",
    "end": "773760"
  },
  {
    "text": "will basically restart it um and you can",
    "start": "773760",
    "end": "776079"
  },
  {
    "text": "see here that inside of this directory",
    "start": "776079",
    "end": "778320"
  },
  {
    "text": "we have all of the kind of kubernetes um",
    "start": "778320",
    "end": "781200"
  },
  {
    "text": "you know control plane components um",
    "start": "781200",
    "end": "783360"
  },
  {
    "text": "that are run from the cubelet so the api",
    "start": "783360",
    "end": "785279"
  },
  {
    "text": "server controller manager scheduler etc",
    "start": "785279",
    "end": "788079"
  },
  {
    "text": "um so if we wanted to what we could do",
    "start": "788079",
    "end": "789760"
  },
  {
    "text": "here is because we have kind of like you",
    "start": "789760",
    "end": "792079"
  },
  {
    "text": "know direct write access into this",
    "start": "792079",
    "end": "794320"
  },
  {
    "text": "directory we could basically",
    "start": "794320",
    "end": "796399"
  },
  {
    "text": "um",
    "start": "796399",
    "end": "797680"
  },
  {
    "text": "inject our own api server or kind of",
    "start": "797680",
    "end": "800320"
  },
  {
    "text": "tamper with the controller manager etc",
    "start": "800320",
    "end": "803040"
  },
  {
    "text": "etc but what i want to do is i want to",
    "start": "803040",
    "end": "804959"
  },
  {
    "text": "kind of showcase this kind of little",
    "start": "804959",
    "end": "807040"
  },
  {
    "text": "known kubernetes bug",
    "start": "807040",
    "end": "808800"
  },
  {
    "text": "and what i'm going to do is i'm",
    "start": "808800",
    "end": "810000"
  },
  {
    "text": "basically going to",
    "start": "810000",
    "end": "811519"
  },
  {
    "text": "insert",
    "start": "811519",
    "end": "812560"
  },
  {
    "text": "my",
    "start": "812560",
    "end": "813360"
  },
  {
    "text": "basically that incognito pod and have",
    "start": "813360",
    "end": "815600"
  },
  {
    "text": "the cubelet run it directly now most",
    "start": "815600",
    "end": "818480"
  },
  {
    "text": "specifically is this uh pod actually is",
    "start": "818480",
    "end": "822639"
  },
  {
    "text": "going to be running inside of a",
    "start": "822639",
    "end": "824240"
  },
  {
    "text": "kubernetes namespace",
    "start": "824240",
    "end": "826240"
  },
  {
    "text": "that doesn't exist so we just created",
    "start": "826240",
    "end": "828079"
  },
  {
    "text": "the poly name space um we're actually",
    "start": "828079",
    "end": "830240"
  },
  {
    "text": "going to be just running this and and",
    "start": "830240",
    "end": "832160"
  },
  {
    "text": "pointing to a name space that doesn't",
    "start": "832160",
    "end": "834240"
  },
  {
    "text": "exist and the reason that this is",
    "start": "834240",
    "end": "836079"
  },
  {
    "text": "important is because",
    "start": "836079",
    "end": "838000"
  },
  {
    "text": "basically kubernetes will not know about",
    "start": "838000",
    "end": "839839"
  },
  {
    "text": "the pod as a result of this so if we run",
    "start": "839839",
    "end": "842079"
  },
  {
    "text": "something like cube cuddle get pods or",
    "start": "842079",
    "end": "843760"
  },
  {
    "text": "if you look at like the kubernetes audit",
    "start": "843760",
    "end": "845440"
  },
  {
    "text": "logs or just you know ask about pods in",
    "start": "845440",
    "end": "847440"
  },
  {
    "text": "general basically it will basically be",
    "start": "847440",
    "end": "849600"
  },
  {
    "text": "invisible to the kubernetes cluster",
    "start": "849600",
    "end": "851920"
  },
  {
    "text": "so let's do that um so i'm just going to",
    "start": "851920",
    "end": "854399"
  },
  {
    "text": "quickly",
    "start": "854399",
    "end": "856079"
  },
  {
    "text": "write out this incognito pod spec into",
    "start": "856079",
    "end": "859199"
  },
  {
    "text": "this directory",
    "start": "859199",
    "end": "860720"
  },
  {
    "text": "and what this is going to do is it's",
    "start": "860720",
    "end": "862639"
  },
  {
    "text": "going to have the cubelet actually run",
    "start": "862639",
    "end": "864639"
  },
  {
    "text": "this for me so we can take a look at",
    "start": "864639",
    "end": "866240"
  },
  {
    "text": "this",
    "start": "866240",
    "end": "867519"
  },
  {
    "text": "so there's a couple of things here that",
    "start": "867519",
    "end": "869040"
  },
  {
    "text": "are that are interesting about this",
    "start": "869040",
    "end": "870720"
  },
  {
    "text": "namely this name space that doesn't",
    "start": "870720",
    "end": "873040"
  },
  {
    "text": "exist so again this is a pod spec",
    "start": "873040",
    "end": "876240"
  },
  {
    "text": "its name is incognito um and basically",
    "start": "876240",
    "end": "878959"
  },
  {
    "text": "it's also going to be running as",
    "start": "878959",
    "end": "880079"
  },
  {
    "text": "privileged uh we actually picked an",
    "start": "880079",
    "end": "882240"
  },
  {
    "text": "image that kind of gives you um some",
    "start": "882240",
    "end": "884399"
  },
  {
    "text": "hacking tools um so we can basically",
    "start": "884399",
    "end": "886720"
  },
  {
    "text": "take advantage of that and you know if",
    "start": "886720",
    "end": "888000"
  },
  {
    "text": "we ever needed to we could basically",
    "start": "888000",
    "end": "889760"
  },
  {
    "text": "jump into this pod and uh do things like",
    "start": "889760",
    "end": "891760"
  },
  {
    "text": "you know send network connections um you",
    "start": "891760",
    "end": "894079"
  },
  {
    "text": "know just basically have the tools that",
    "start": "894079",
    "end": "895360"
  },
  {
    "text": "we need to do um to be able to kind of",
    "start": "895360",
    "end": "897839"
  },
  {
    "text": "continually uh own the system",
    "start": "897839",
    "end": "900959"
  },
  {
    "text": "great so we should actually see this pod",
    "start": "900959",
    "end": "903680"
  },
  {
    "text": "running locally if we ssh into the node",
    "start": "903680",
    "end": "906480"
  },
  {
    "text": "and the way that we're gonna do that is",
    "start": "906480",
    "end": "908079"
  },
  {
    "text": "because this is a",
    "start": "908079",
    "end": "909519"
  },
  {
    "text": "um",
    "start": "909519",
    "end": "911199"
  },
  {
    "text": "kind cluster so kind is basically",
    "start": "911199",
    "end": "913120"
  },
  {
    "text": "running kubernetes uh",
    "start": "913120",
    "end": "914959"
  },
  {
    "text": "via docker nodes um is i'm actually just",
    "start": "914959",
    "end": "917920"
  },
  {
    "text": "going to",
    "start": "917920",
    "end": "919519"
  },
  {
    "text": "exec into the uh the gnome the node",
    "start": "919519",
    "end": "922720"
  },
  {
    "text": "directly which in this case is kind",
    "start": "922720",
    "end": "924160"
  },
  {
    "text": "control plane",
    "start": "924160",
    "end": "925440"
  },
  {
    "text": "and what i'm going to do is i'm actually",
    "start": "925440",
    "end": "926800"
  },
  {
    "text": "going to show the locally running pods",
    "start": "926800",
    "end": "929360"
  },
  {
    "text": "with a tool called cry cuddle",
    "start": "929360",
    "end": "932959"
  },
  {
    "text": "and you can see that i do actually show",
    "start": "933680",
    "end": "936639"
  },
  {
    "text": "this incognito pod",
    "start": "936639",
    "end": "939759"
  },
  {
    "text": "running in this namespace that doesn't",
    "start": "939759",
    "end": "941519"
  },
  {
    "text": "exist and remember because this",
    "start": "941519",
    "end": "942639"
  },
  {
    "text": "namespace doesn't truly exist in",
    "start": "942639",
    "end": "944240"
  },
  {
    "text": "kubernetes kubernetes won't actually",
    "start": "944240",
    "end": "946959"
  },
  {
    "text": "know about it um so we have this running",
    "start": "946959",
    "end": "949759"
  },
  {
    "text": "locally",
    "start": "949759",
    "end": "950880"
  },
  {
    "text": "and basically what i want to show you is",
    "start": "950880",
    "end": "952480"
  },
  {
    "text": "that we jump out of the control plane",
    "start": "952480",
    "end": "955759"
  },
  {
    "text": "node and ask kubernetes about this pod",
    "start": "955759",
    "end": "958399"
  },
  {
    "text": "directly we're not actually going to be",
    "start": "958399",
    "end": "960399"
  },
  {
    "text": "able to see anything so in this case",
    "start": "960399",
    "end": "962240"
  },
  {
    "text": "what i'm going to do is i'm going to say",
    "start": "962240",
    "end": "964399"
  },
  {
    "text": "let's get pods and i want to",
    "start": "964399",
    "end": "966800"
  },
  {
    "text": "have all the pause you know listening",
    "start": "966800",
    "end": "969120"
  },
  {
    "text": "and you can see here that we we have",
    "start": "969120",
    "end": "970639"
  },
  {
    "text": "poly um shown so paulie is running in",
    "start": "970639",
    "end": "974240"
  },
  {
    "text": "in in their name space and we actually",
    "start": "974240",
    "end": "976480"
  },
  {
    "text": "have kind of all the you know cube",
    "start": "976480",
    "end": "978240"
  },
  {
    "text": "system pods that we have running here",
    "start": "978240",
    "end": "980079"
  },
  {
    "text": "but what we don't see is our incognito",
    "start": "980079",
    "end": "982880"
  },
  {
    "text": "pod and what this means is basically",
    "start": "982880",
    "end": "985279"
  },
  {
    "text": "cubelet is going to be running our",
    "start": "985279",
    "end": "987360"
  },
  {
    "text": "incognito pod secretly and invisibly in",
    "start": "987360",
    "end": "990320"
  },
  {
    "text": "the background um and if whatever reason",
    "start": "990320",
    "end": "992320"
  },
  {
    "text": "that pod stops or needs to be restarted",
    "start": "992320",
    "end": "994480"
  },
  {
    "text": "cubelet will dutifully do so so it's",
    "start": "994480",
    "end": "996240"
  },
  {
    "text": "kind of a high availability um you know",
    "start": "996240",
    "end": "999440"
  },
  {
    "text": "command and control or you know",
    "start": "999440",
    "end": "1001839"
  },
  {
    "text": "incognito system that we have running so",
    "start": "1001839",
    "end": "1004880"
  },
  {
    "text": "that kind of shows you just a little bit",
    "start": "1004880",
    "end": "1007600"
  },
  {
    "text": "about what you can actually do",
    "start": "1007600",
    "end": "1010399"
  },
  {
    "text": "if you actually pull in node resources",
    "start": "1010399",
    "end": "1012800"
  },
  {
    "text": "into a pod um so some of these",
    "start": "1012800",
    "end": "1016160"
  },
  {
    "text": "configurations all you really have to do",
    "start": "1016160",
    "end": "1017759"
  },
  {
    "text": "is ask in the pod spec and by default",
    "start": "1017759",
    "end": "1020160"
  },
  {
    "text": "you'll kind of be granted these",
    "start": "1020160",
    "end": "1021360"
  },
  {
    "text": "privileges",
    "start": "1021360",
    "end": "1023040"
  },
  {
    "text": "cool thanks for uh watching and let's",
    "start": "1023040",
    "end": "1024880"
  },
  {
    "text": "get back to uh",
    "start": "1024880",
    "end": "1026319"
  },
  {
    "text": "the talk",
    "start": "1026319",
    "end": "1028720"
  },
  {
    "start": "1029000",
    "end": "1107000"
  },
  {
    "text": "so paulie now understands the",
    "start": "1030079",
    "end": "1031760"
  },
  {
    "text": "implications of using a privileged",
    "start": "1031760",
    "end": "1033438"
  },
  {
    "text": "container and knows the ability to give",
    "start": "1033439",
    "end": "1036240"
  },
  {
    "text": "such permissions should be controlled",
    "start": "1036240",
    "end": "1039199"
  },
  {
    "text": "so what paulie does is poorly employs",
    "start": "1039199",
    "end": "1041520"
  },
  {
    "text": "oprah gatekeeper",
    "start": "1041520",
    "end": "1043199"
  },
  {
    "text": "oprah stands for open policy agent",
    "start": "1043199",
    "end": "1046240"
  },
  {
    "text": "and oprah gatekeeper is a sub project of",
    "start": "1046240",
    "end": "1049120"
  },
  {
    "text": "the opa project itself",
    "start": "1049120",
    "end": "1051760"
  },
  {
    "text": "which is a kubernetes native solution",
    "start": "1051760",
    "end": "1054080"
  },
  {
    "text": "that provides a way",
    "start": "1054080",
    "end": "1055840"
  },
  {
    "text": "to validate what goes into new",
    "start": "1055840",
    "end": "1059600"
  },
  {
    "text": "so it does enforcement of policies and",
    "start": "1059600",
    "end": "1062480"
  },
  {
    "text": "government and provides governance rules",
    "start": "1062480",
    "end": "1065039"
  },
  {
    "text": "specified by",
    "start": "1065039",
    "end": "1066720"
  },
  {
    "text": "paulie",
    "start": "1066720",
    "end": "1068799"
  },
  {
    "text": "so what gatekeeper is able to inform",
    "start": "1068799",
    "end": "1071919"
  },
  {
    "text": "polio violations of rules",
    "start": "1071919",
    "end": "1074880"
  },
  {
    "text": "that has been specified via its auditing",
    "start": "1074880",
    "end": "1077440"
  },
  {
    "text": "feature",
    "start": "1077440",
    "end": "1078480"
  },
  {
    "text": "and also enforce the denial of",
    "start": "1078480",
    "end": "1082000"
  },
  {
    "text": "malicious configurations to noon by any",
    "start": "1082000",
    "end": "1085840"
  },
  {
    "text": "of the violators in this case",
    "start": "1085840",
    "end": "1088320"
  },
  {
    "text": "as you can see from the",
    "start": "1088320",
    "end": "1091280"
  },
  {
    "text": "image in this case",
    "start": "1091280",
    "end": "1093440"
  },
  {
    "text": "gatekeeper denies this specific",
    "start": "1093440",
    "end": "1096240"
  },
  {
    "text": "malicious cryptominer hi curve from",
    "start": "1096240",
    "end": "1099120"
  },
  {
    "text": "applying dangerous port configurations",
    "start": "1099120",
    "end": "1101760"
  },
  {
    "text": "to noon",
    "start": "1101760",
    "end": "1103440"
  },
  {
    "text": "let's go ahead and see gate paper in",
    "start": "1103440",
    "end": "1105840"
  },
  {
    "text": "action",
    "start": "1105840",
    "end": "1107760"
  },
  {
    "start": "1107000",
    "end": "1496000"
  },
  {
    "text": "so what we have here is a kubernetes",
    "start": "1107760",
    "end": "1109760"
  },
  {
    "text": "cluster",
    "start": "1109760",
    "end": "1111919"
  },
  {
    "text": "one in version 1.19.4",
    "start": "1111919",
    "end": "1115720"
  },
  {
    "text": "we'll be using this cluster for",
    "start": "1115840",
    "end": "1117520"
  },
  {
    "text": "deploying oppa",
    "start": "1117520",
    "end": "1119120"
  },
  {
    "text": "and so first thing we do is we create",
    "start": "1119120",
    "end": "1121039"
  },
  {
    "text": "the namespace gatekeeper system so we",
    "start": "1121039",
    "end": "1123120"
  },
  {
    "text": "can install our configurations in that",
    "start": "1123120",
    "end": "1125520"
  },
  {
    "text": "namespace",
    "start": "1125520",
    "end": "1128160"
  },
  {
    "text": "so we go ahead and apply our",
    "start": "1129919",
    "end": "1132240"
  },
  {
    "text": "configurations",
    "start": "1132240",
    "end": "1135240"
  },
  {
    "text": "now that the gauge keeper components are",
    "start": "1136799",
    "end": "1138880"
  },
  {
    "text": "installed",
    "start": "1138880",
    "end": "1140720"
  },
  {
    "text": "with gatekeeper now we can validate",
    "start": "1140720",
    "end": "1143760"
  },
  {
    "text": "configurations when the resource is",
    "start": "1143760",
    "end": "1145760"
  },
  {
    "text": "either created",
    "start": "1145760",
    "end": "1148799"
  },
  {
    "text": "updated are deleted",
    "start": "1148840",
    "end": "1152720"
  },
  {
    "text": "as part of this installation",
    "start": "1154160",
    "end": "1156480"
  },
  {
    "text": "the two objects that are they're",
    "start": "1156480",
    "end": "1158400"
  },
  {
    "text": "particularly installed",
    "start": "1158400",
    "end": "1160240"
  },
  {
    "text": "one of them is known as the constraint",
    "start": "1160240",
    "end": "1162240"
  },
  {
    "text": "and the second one is known as a",
    "start": "1162240",
    "end": "1163520"
  },
  {
    "text": "constraint template",
    "start": "1163520",
    "end": "1165200"
  },
  {
    "text": "these are custom resource definitions",
    "start": "1165200",
    "end": "1168240"
  },
  {
    "text": "a constraint",
    "start": "1168240",
    "end": "1170160"
  },
  {
    "text": "could be thought of as a given set of",
    "start": "1170160",
    "end": "1172400"
  },
  {
    "text": "rule a requirement that must be met by a",
    "start": "1172400",
    "end": "1174960"
  },
  {
    "text": "configuration",
    "start": "1174960",
    "end": "1176480"
  },
  {
    "text": "being admitted to the cluster",
    "start": "1176480",
    "end": "1179200"
  },
  {
    "text": "if the constraint is not satisfied the",
    "start": "1179200",
    "end": "1181440"
  },
  {
    "text": "configuration is rejected by gatekeeper",
    "start": "1181440",
    "end": "1184640"
  },
  {
    "text": "similarly the gate constraint template",
    "start": "1184640",
    "end": "1187280"
  },
  {
    "text": "holds the logic that enforces a defined",
    "start": "1187280",
    "end": "1189919"
  },
  {
    "text": "constraint",
    "start": "1189919",
    "end": "1191360"
  },
  {
    "text": "before constraint can be created",
    "start": "1191360",
    "end": "1195440"
  },
  {
    "text": "the constraint template must be created",
    "start": "1195600",
    "end": "1199200"
  },
  {
    "text": "so now let's verify that up gatekeeper",
    "start": "1199200",
    "end": "1202799"
  },
  {
    "text": "installed correctly and now you can see",
    "start": "1202799",
    "end": "1205200"
  },
  {
    "text": "that we have gatekeeper installed and",
    "start": "1205200",
    "end": "1207039"
  },
  {
    "text": "its confidence owns components are",
    "start": "1207039",
    "end": "1209039"
  },
  {
    "text": "running",
    "start": "1209039",
    "end": "1211440"
  },
  {
    "text": "so next thing",
    "start": "1214080",
    "end": "1215919"
  },
  {
    "text": "we will do",
    "start": "1215919",
    "end": "1217360"
  },
  {
    "text": "is we will look",
    "start": "1217360",
    "end": "1218840"
  },
  {
    "text": "at applying",
    "start": "1218840",
    "end": "1221360"
  },
  {
    "text": "those specific constraints and",
    "start": "1221360",
    "end": "1223120"
  },
  {
    "text": "constraint templates that we're going to",
    "start": "1223120",
    "end": "1225200"
  },
  {
    "text": "use for enforcing",
    "start": "1225200",
    "end": "1226960"
  },
  {
    "text": "our rules",
    "start": "1226960",
    "end": "1229360"
  },
  {
    "text": "so the first constraint template that",
    "start": "1229360",
    "end": "1232159"
  },
  {
    "text": "we'll be looking at in this case is the",
    "start": "1232159",
    "end": "1233919"
  },
  {
    "text": "constraint template for all spots and",
    "start": "1233919",
    "end": "1236080"
  },
  {
    "text": "this is the logic that enforces that",
    "start": "1236080",
    "end": "1239360"
  },
  {
    "text": "so let's go ahead and apply that",
    "start": "1239360",
    "end": "1242880"
  },
  {
    "text": "great",
    "start": "1243760",
    "end": "1244559"
  },
  {
    "text": "that is applied next we'll apply the",
    "start": "1244559",
    "end": "1246720"
  },
  {
    "text": "constraint template",
    "start": "1246720",
    "end": "1249520"
  },
  {
    "text": "for the privilege ball remember this is",
    "start": "1249520",
    "end": "1252320"
  },
  {
    "text": "the logic",
    "start": "1252320",
    "end": "1254080"
  },
  {
    "text": "that enforces the constraints that will",
    "start": "1254080",
    "end": "1256880"
  },
  {
    "text": "end up applying",
    "start": "1256880",
    "end": "1259039"
  },
  {
    "text": "which are the given set of rules",
    "start": "1259039",
    "end": "1261679"
  },
  {
    "text": "or requirements that must be met by",
    "start": "1261679",
    "end": "1263679"
  },
  {
    "text": "configurations being applied by either",
    "start": "1263679",
    "end": "1266159"
  },
  {
    "text": "port or deployment or kubernetes objects",
    "start": "1266159",
    "end": "1268720"
  },
  {
    "text": "in general",
    "start": "1268720",
    "end": "1270080"
  },
  {
    "text": "so in this case we're applying the",
    "start": "1270080",
    "end": "1272559"
  },
  {
    "text": "constraint template for",
    "start": "1272559",
    "end": "1276000"
  },
  {
    "text": "the privileged port remember this is the",
    "start": "1276000",
    "end": "1278320"
  },
  {
    "text": "logic right it's essentially returning a",
    "start": "1278320",
    "end": "1280559"
  },
  {
    "text": "message that says privileged containers",
    "start": "1280559",
    "end": "1282799"
  },
  {
    "text": "are not allowed",
    "start": "1282799",
    "end": "1284640"
  },
  {
    "text": "if that privilege container is set in",
    "start": "1284640",
    "end": "1288159"
  },
  {
    "text": "our port configuration in this case",
    "start": "1288159",
    "end": "1291760"
  },
  {
    "text": "so this contains the logic in this case",
    "start": "1291760",
    "end": "1295280"
  },
  {
    "text": "so we apply that",
    "start": "1295280",
    "end": "1297760"
  },
  {
    "text": "next thing we're going to go ahead and",
    "start": "1297760",
    "end": "1299520"
  },
  {
    "text": "do",
    "start": "1299520",
    "end": "1300400"
  },
  {
    "text": "is we're going to take a look at the",
    "start": "1300400",
    "end": "1301760"
  },
  {
    "text": "constraints and now the first constraint",
    "start": "1301760",
    "end": "1303919"
  },
  {
    "text": "we'll look at in this case is the deny o",
    "start": "1303919",
    "end": "1306640"
  },
  {
    "text": "spot constraints",
    "start": "1306640",
    "end": "1308400"
  },
  {
    "text": "and you can see here is that we're",
    "start": "1308400",
    "end": "1310640"
  },
  {
    "text": "excluding",
    "start": "1310640",
    "end": "1312400"
  },
  {
    "text": "the namespace cube system",
    "start": "1312400",
    "end": "1314960"
  },
  {
    "text": "and we're selecting the kind port",
    "start": "1314960",
    "end": "1319120"
  },
  {
    "text": "and part of what oppa allows us to do is",
    "start": "1319120",
    "end": "1320960"
  },
  {
    "text": "select parameters and in here we're",
    "start": "1320960",
    "end": "1323039"
  },
  {
    "text": "saying that the only allowed all spots",
    "start": "1323039",
    "end": "1325200"
  },
  {
    "text": "is slash full",
    "start": "1325200",
    "end": "1326720"
  },
  {
    "text": "and it has to be read only",
    "start": "1326720",
    "end": "1330840"
  },
  {
    "text": "so",
    "start": "1334240",
    "end": "1335760"
  },
  {
    "text": "let's go ahead and apply that",
    "start": "1335760",
    "end": "1338480"
  },
  {
    "text": "so we apply the deny host parts",
    "start": "1338480",
    "end": "1342880"
  },
  {
    "text": "that's applied next let's go ahead and",
    "start": "1343200",
    "end": "1345120"
  },
  {
    "text": "apply the",
    "start": "1345120",
    "end": "1346480"
  },
  {
    "text": "let's look at the privileged container",
    "start": "1346480",
    "end": "1348080"
  },
  {
    "text": "constraints and then apply that too",
    "start": "1348080",
    "end": "1351120"
  },
  {
    "text": "so as you can see here we explain we",
    "start": "1351120",
    "end": "1353120"
  },
  {
    "text": "explicitly had the line enforcement",
    "start": "1353120",
    "end": "1356080"
  },
  {
    "text": "action deny",
    "start": "1356080",
    "end": "1357600"
  },
  {
    "text": "but this is actually implied by default",
    "start": "1357600",
    "end": "1361120"
  },
  {
    "text": "opera sets denies um",
    "start": "1361120",
    "end": "1364080"
  },
  {
    "text": "sets this as deny",
    "start": "1364080",
    "end": "1366080"
  },
  {
    "text": "and so this is applied to a port and it",
    "start": "1366080",
    "end": "1369440"
  },
  {
    "text": "explodes the namespace cube system too",
    "start": "1369440",
    "end": "1371840"
  },
  {
    "text": "and this is because the namespace cube",
    "start": "1371840",
    "end": "1373520"
  },
  {
    "text": "system is like the group namespace and",
    "start": "1373520",
    "end": "1375440"
  },
  {
    "text": "has containers and pods running that",
    "start": "1375440",
    "end": "1377840"
  },
  {
    "text": "require",
    "start": "1377840",
    "end": "1379919"
  },
  {
    "text": "privileged containers",
    "start": "1379919",
    "end": "1383039"
  },
  {
    "text": "so great now that we've gone ahead and",
    "start": "1385039",
    "end": "1387280"
  },
  {
    "text": "apply that",
    "start": "1387280",
    "end": "1389039"
  },
  {
    "text": "the next thing we're going to do is",
    "start": "1389039",
    "end": "1390240"
  },
  {
    "text": "we're going to change into our example",
    "start": "1390240",
    "end": "1392080"
  },
  {
    "text": "manifest directory",
    "start": "1392080",
    "end": "1393840"
  },
  {
    "text": "and we're going to run examples",
    "start": "1393840",
    "end": "1396000"
  },
  {
    "text": "show examples of",
    "start": "1396000",
    "end": "1398480"
  },
  {
    "text": "configurations that violate our rules",
    "start": "1398480",
    "end": "1400559"
  },
  {
    "text": "and the first one in this case is engine",
    "start": "1400559",
    "end": "1402480"
  },
  {
    "text": "x privilege and you can see here we're",
    "start": "1402480",
    "end": "1405440"
  },
  {
    "text": "setting the security contest privilege",
    "start": "1405440",
    "end": "1407440"
  },
  {
    "text": "it was true this violates our rule so",
    "start": "1407440",
    "end": "1410080"
  },
  {
    "text": "let's go ahead and apply that and see",
    "start": "1410080",
    "end": "1411600"
  },
  {
    "text": "what happens",
    "start": "1411600",
    "end": "1414840"
  },
  {
    "text": "so",
    "start": "1418000",
    "end": "1419919"
  },
  {
    "text": "we've tried to apply that and we get",
    "start": "1419919",
    "end": "1422000"
  },
  {
    "text": "that response back from our",
    "start": "1422000",
    "end": "1424559"
  },
  {
    "text": "constraint template logic that says that",
    "start": "1424559",
    "end": "1427200"
  },
  {
    "text": "privilege containers is not allowed so",
    "start": "1427200",
    "end": "1429520"
  },
  {
    "text": "again it returns",
    "start": "1429520",
    "end": "1431440"
  },
  {
    "text": "the",
    "start": "1431440",
    "end": "1432400"
  },
  {
    "text": "issue of why it's failing",
    "start": "1432400",
    "end": "1434720"
  },
  {
    "text": "to us",
    "start": "1434720",
    "end": "1436240"
  },
  {
    "text": "so the next example we look at here",
    "start": "1436240",
    "end": "1438880"
  },
  {
    "text": "is the oh spot example",
    "start": "1438880",
    "end": "1442320"
  },
  {
    "text": "remember this was this was exploited in",
    "start": "1442320",
    "end": "1444559"
  },
  {
    "text": "the last demo we showed",
    "start": "1444559",
    "end": "1447279"
  },
  {
    "text": "now",
    "start": "1447279",
    "end": "1448240"
  },
  {
    "text": "in this hospital we're trying to add",
    "start": "1448240",
    "end": "1449760"
  },
  {
    "text": "etsy cumulatives so let's go ahead and",
    "start": "1449760",
    "end": "1452240"
  },
  {
    "text": "apply the configuration",
    "start": "1452240",
    "end": "1454240"
  },
  {
    "text": "and see if",
    "start": "1454240",
    "end": "1456240"
  },
  {
    "text": "this is admitted into our kubernetes",
    "start": "1456240",
    "end": "1458320"
  },
  {
    "text": "poster",
    "start": "1458320",
    "end": "1459440"
  },
  {
    "text": "again we tried this this violates our",
    "start": "1459440",
    "end": "1461679"
  },
  {
    "text": "rules and we get a response back that",
    "start": "1461679",
    "end": "1463919"
  },
  {
    "text": "says",
    "start": "1463919",
    "end": "1466080"
  },
  {
    "text": "this part",
    "start": "1466080",
    "end": "1467440"
  },
  {
    "text": "is not allowed",
    "start": "1467440",
    "end": "1470320"
  },
  {
    "text": "and so what we're done seeing is that",
    "start": "1470480",
    "end": "1474000"
  },
  {
    "text": "configurations that valid our rules are",
    "start": "1474000",
    "end": "1476640"
  },
  {
    "text": "being denied entry",
    "start": "1476640",
    "end": "1478960"
  },
  {
    "text": "and this concludes our demo oprah",
    "start": "1478960",
    "end": "1481440"
  },
  {
    "text": "gatekeeper is a great solution amongst",
    "start": "1481440",
    "end": "1484000"
  },
  {
    "text": "many other tools within a cloud native",
    "start": "1484000",
    "end": "1487360"
  },
  {
    "text": "ecosystem",
    "start": "1487360",
    "end": "1488880"
  },
  {
    "text": "that's able to provide",
    "start": "1488880",
    "end": "1491120"
  },
  {
    "text": "policy enforcement and governance to",
    "start": "1491120",
    "end": "1493679"
  },
  {
    "text": "objects inside of the kubernetes cluster",
    "start": "1493679",
    "end": "1497520"
  },
  {
    "start": "1496000",
    "end": "1553000"
  },
  {
    "text": "awesome so that demo really shows how",
    "start": "1497520",
    "end": "1500240"
  },
  {
    "text": "opa or an admission controller can",
    "start": "1500240",
    "end": "1503039"
  },
  {
    "text": "restrict unsafe or overly privileged",
    "start": "1503039",
    "end": "1507039"
  },
  {
    "text": "container configurations or pod",
    "start": "1507039",
    "end": "1508880"
  },
  {
    "text": "configurations from being",
    "start": "1508880",
    "end": "1511600"
  },
  {
    "text": "administered to the kernel",
    "start": "1511600",
    "end": "1514880"
  },
  {
    "text": "so what does this mean for our story",
    "start": "1514880",
    "end": "1517039"
  },
  {
    "text": "with these protections in place",
    "start": "1517039",
    "end": "1519440"
  },
  {
    "text": "paulie and the other hitchhikers learn",
    "start": "1519440",
    "end": "1521760"
  },
  {
    "text": "the value of friendship and symbiosis",
    "start": "1521760",
    "end": "1525600"
  },
  {
    "text": "so symbiosis is when two systems work",
    "start": "1525600",
    "end": "1528320"
  },
  {
    "text": "together to the advantage of both",
    "start": "1528320",
    "end": "1531600"
  },
  {
    "text": "the nodes loved carrying their friends",
    "start": "1531600",
    "end": "1533360"
  },
  {
    "text": "the hitchhikers",
    "start": "1533360",
    "end": "1534799"
  },
  {
    "text": "and in return their hitchhiker friends",
    "start": "1534799",
    "end": "1537279"
  },
  {
    "text": "pledged to never run as root or",
    "start": "1537279",
    "end": "1539840"
  },
  {
    "text": "privileged again",
    "start": "1539840",
    "end": "1541520"
  },
  {
    "text": "this ensured that everyone in this",
    "start": "1541520",
    "end": "1543919"
  },
  {
    "text": "environment",
    "start": "1543919",
    "end": "1545120"
  },
  {
    "text": "got to run safely",
    "start": "1545120",
    "end": "1548559"
  },
  {
    "text": "thanks so much for listening",
    "start": "1551440",
    "end": "1555080"
  }
]