[
  {
    "text": "I think it's time for me to get started hello everyone and uh thank you for joining me for my talk uh today I'd",
    "start": "520",
    "end": "7720"
  },
  {
    "text": "like to tell the story of a distributed data system that we built for one of our",
    "start": "7720",
    "end": "13280"
  },
  {
    "text": "clients that's globally distributed and that we optimized using reinforcement",
    "start": "13280",
    "end": "18600"
  },
  {
    "text": "learning uh to save a bunch of money uh so hopefully it'll be an entertaining",
    "start": "18600",
    "end": "24480"
  },
  {
    "text": "story um first though I should talk about the motivating use case and give",
    "start": "24480",
    "end": "30119"
  },
  {
    "text": "you a little bit of background of of why we were building this thing uh in 2016",
    "start": "30119",
    "end": "35559"
  },
  {
    "text": "FFF the financial action task force in the United States uh wrote a rule that",
    "start": "35559",
    "end": "41399"
  },
  {
    "text": "said cryptocurrencies and blockchain virtual assets like nfts now have to be",
    "start": "41399",
    "end": "48160"
  },
  {
    "text": "regulated like Banks so that when assets of a certain Fiat value cross a border",
    "start": "48160",
    "end": "54719"
  },
  {
    "text": "that they are under the regulation of What's called the travel Rule and with the travel rule means is that vasp",
    "start": "54719",
    "end": "62280"
  },
  {
    "text": "virtual asset service providers which are kind of like blockchain Banks they",
    "start": "62280",
    "end": "67360"
  },
  {
    "text": "have to perform sanctions checks and know who the originator and who the",
    "start": "67360",
    "end": "73960"
  },
  {
    "text": "beneficiary is of any transaction and the purpose of this regulation is anti-money laundering and",
    "start": "73960",
    "end": "80720"
  },
  {
    "text": "anti-terrorism and even though that ruling comes from you know a United States regulatory body almost every",
    "start": "80720",
    "end": "88600"
  },
  {
    "text": "country in the world has a similar version of this regulation um and so whenever you have",
    "start": "88600",
    "end": "95680"
  },
  {
    "text": "now uh in 2023 whenever you have a crossborder blockchain transaction if it's you know Bitcoin or whatever uh you",
    "start": "95680",
    "end": "103200"
  },
  {
    "text": "your vasp as long as you're not a self-hosted wallet you must comply with this travel",
    "start": "103200",
    "end": "109119"
  },
  {
    "text": "Rule now as you might imagine vasp are tech companies they're interested in",
    "start": "109119",
    "end": "115640"
  },
  {
    "text": "consensus and blockchain and and cryptocurrencies and they're not Banks and they don't have big compliance",
    "start": "115640",
    "end": "121920"
  },
  {
    "text": "departments as you guys might expect from you know recent news with uh",
    "start": "121920",
    "end": "127799"
  },
  {
    "text": "different types of vasp so they got together and they formed a nonprofit",
    "start": "127799",
    "end": "133879"
  },
  {
    "text": "open-source working group called trissa so trissa stands for the travel rule",
    "start": "133879",
    "end": "139519"
  },
  {
    "text": "information sharing architecture and the goal of trissa was to enable a",
    "start": "139519",
    "end": "144640"
  },
  {
    "text": "non-centralized peer-to-peer exchange of the pii information of the",
    "start": "144640",
    "end": "150680"
  },
  {
    "text": "account holders in these transactions in order to comply with a travel Rule and",
    "start": "150680",
    "end": "156519"
  },
  {
    "text": "as you might expect it was very Tech Centric so they took a certificate Authority model uh they used mtls they",
    "start": "156519",
    "end": "163760"
  },
  {
    "text": "wanted it to be decentralized and so it had to be a peer-to-peer sharing Network",
    "start": "163760",
    "end": "169360"
  },
  {
    "text": "so that's that's the premise of this application so what does trissa do well",
    "start": "169360",
    "end": "176159"
  },
  {
    "text": "in a peer-to-peer Network you have to figure out who your peers are right and",
    "start": "176159",
    "end": "181400"
  },
  {
    "text": "you have to be able to trust your peers so what trissa was going to build was something called the global directory",
    "start": "181400",
    "end": "188040"
  },
  {
    "text": "service and the GDs was a service that was going to hand out certificates host",
    "start": "188040",
    "end": "194799"
  },
  {
    "text": "uh crls certificate revocation lists and conduct a process known as know your",
    "start": "194799",
    "end": "200040"
  },
  {
    "text": "vasp or kyv where trissa could assert that a business entity in Japan uh is",
    "start": "200040",
    "end": "208120"
  },
  {
    "text": "actually a legal entity as a company in Japan and that they have a uh purpose a",
    "start": "208120",
    "end": "214599"
  },
  {
    "text": "business purpose for requiring this pii and you know similarly that you know",
    "start": "214599",
    "end": "219840"
  },
  {
    "text": "another vasp in Lithuania is going to protect that pii to the standards that",
    "start": "219840",
    "end": "225400"
  },
  {
    "text": "the Japanese vasp requires so as you guys can see by its",
    "start": "225400",
    "end": "231159"
  },
  {
    "text": "very nature the travel role requires a globally distributed system right and so",
    "start": "231159",
    "end": "237360"
  },
  {
    "text": "we put up six kubernetes clusters in Iowa sou Paulo Frankfurt Sydney uh",
    "start": "237360",
    "end": "244319"
  },
  {
    "text": "Singapore and in Tokyo now as we're thinking about the",
    "start": "244319",
    "end": "249439"
  },
  {
    "text": "data storage for this you know we're on Google cloud and so our first thought",
    "start": "249439",
    "end": "254680"
  },
  {
    "text": "was okay well what's the globally distributed database let's do a cost pricing estimate for say",
    "start": "254680",
    "end": "260680"
  },
  {
    "text": "spanner and the number that we got from the Google cost uh pricing calculator",
    "start": "260680",
    "end": "267160"
  },
  {
    "text": "was just astounding and you can imagine that when I talked to this nonprofit",
    "start": "267160",
    "end": "272520"
  },
  {
    "text": "board and the chairman of the board and I said hey we're going to have to spend over $100,000 a year in infrastructure",
    "start": "272520",
    "end": "278639"
  },
  {
    "text": "costs he just laughed right in my face like that is just not going to",
    "start": "278639",
    "end": "285080"
  },
  {
    "text": "happen um a little breakdown of these costs uh we have about you know we have",
    "start": "285080",
    "end": "290560"
  },
  {
    "text": "this sort of Blue Area here which is the fixed costs of kubernetes right so I'm going to be paying for honestly these",
    "start": "290560",
    "end": "297320"
  },
  {
    "text": "are three node clusters right they're not very big um and uh you know we pay for the",
    "start": "297320",
    "end": "303840"
  },
  {
    "text": "control plane pay for three nodes and then pay for some boot disc storage on there uh and then the other cost is",
    "start": "303840",
    "end": "312240"
  },
  {
    "text": "egress costs right so that's a big one when you have a globally distributed system the price per gigabyte that",
    "start": "312240",
    "end": "317919"
  },
  {
    "text": "you're going to pay replicating data across these different replicas um or just internet traffic or data between",
    "start": "317919",
    "end": "324400"
  },
  {
    "text": "the different vpcs and different regions and things like that so that's actually a major cost but it's not the biggest that's actually that little sliver here",
    "start": "324400",
    "end": "331280"
  },
  {
    "text": "the majority of the cost came from the spanner nodes and I didn't do anything",
    "start": "331280",
    "end": "337520"
  },
  {
    "text": "special we're talking about a 512 gigabyte system right so that's what we put into the into the calculator was",
    "start": "337520",
    "end": "344720"
  },
  {
    "text": "just one spanner node in each of these regions 512 gigabytes uh $88,500 a month",
    "start": "344720",
    "end": "352600"
  },
  {
    "text": "just way too much so we obviously got sent back to the drawing",
    "start": "352600",
    "end": "357960"
  },
  {
    "text": "board so that led us to this question well okay what are our actual data",
    "start": "357960",
    "end": "364000"
  },
  {
    "text": "storage requirements uh and this is an interesting question and and part of this talk is I want to encourage you to",
    "start": "364000",
    "end": "370560"
  },
  {
    "text": "ask that question more in my technical career what I've experien is that most",
    "start": "370560",
    "end": "376680"
  },
  {
    "text": "people choose their data storage systems either based on the familiarity like you",
    "start": "376680",
    "end": "382440"
  },
  {
    "text": "know if everything if you have an elephant everything looks like a watermelon right so they're familiar",
    "start": "382440",
    "end": "388039"
  },
  {
    "text": "with it and they're just going to use it not going to use anything else um or uh here at cucon we might experience this a",
    "start": "388039",
    "end": "393960"
  },
  {
    "text": "little bit you might be more persuaded by the marketing and branding of the VC companies that are backing some of the larger uh distributed companies or",
    "start": "393960",
    "end": "401039"
  },
  {
    "text": "frankly you're just going to go with whatever your Cloud hosting provider is going to provide you but I think that we",
    "start": "401039",
    "end": "407680"
  },
  {
    "text": "as technologist should start thinking about really what are our actual data storage requirements and so knowing",
    "start": "407680",
    "end": "414120"
  },
  {
    "text": "something about spanner we said well do we really need really strong consistency with a distributed SQL model and the",
    "start": "414120",
    "end": "421319"
  },
  {
    "text": "answer was no not really in fact not at all our workload is extremely read heavy",
    "start": "421319",
    "end": "428680"
  },
  {
    "text": "we get uh reads at a frequency of about 30 per second and they happen 24 hours a",
    "start": "428680",
    "end": "434199"
  },
  {
    "text": "day right now the World Turns so you know in daylight hours you're getting frequent more frequent reads from those",
    "start": "434199",
    "end": "440479"
  },
  {
    "text": "regions than others but the searches lookups scans of the data storage that's",
    "start": "440479",
    "end": "446080"
  },
  {
    "text": "just like constantly happening rights on the other hand are periodic and bursty",
    "start": "446080",
    "end": "453120"
  },
  {
    "text": "so what we see is about 250 rights to a handful of objects over a few day period",
    "start": "453120",
    "end": "459680"
  },
  {
    "text": "uh that happens like every 12 months or so right so you know there 800 vasp in the system you know they don't all",
    "start": "459680",
    "end": "465800"
  },
  {
    "text": "happen at the same time but you know on the same collection of objects there's a burst of Rights you know every 12 months",
    "start": "465800",
    "end": "471520"
  },
  {
    "text": "and then there's really no rights to these objects in between and we also noticed that rights aren't happening in",
    "start": "471520",
    "end": "478800"
  },
  {
    "text": "all regions iions they're only happening in two regions they're happening in the region where the administrators are and",
    "start": "478800",
    "end": "485080"
  },
  {
    "text": "in the region where the vasp is right those are the regions where the rights happening they're not you know coming from Frankfurt and South Paulo and",
    "start": "485080",
    "end": "491280"
  },
  {
    "text": "Sydney they're really just two region rights so we thought to ourselves hey",
    "start": "491280",
    "end": "497720"
  },
  {
    "text": "why don't we build our own replicated storage system now that probably leads",
    "start": "497720",
    "end": "503919"
  },
  {
    "text": "you all to the very obvious question well should I be building my own distributed database and uh that's not for this talk",
    "start": "503919",
    "end": "511319"
  },
  {
    "text": "but if you would like to speak to me after the conference I'm happy to talk to you about your workload and brainstorm with you about whether that's",
    "start": "511319",
    "end": "517399"
  },
  {
    "text": "the thing to do or not and if you look at last year's cubec con my colleague Rebecca Bilbo gave a topic on that or",
    "start": "517399",
    "end": "523240"
  },
  {
    "text": "gave a talk on that topic of whether or not you should but I'm not trying to answer that here we rightly or wrongly",
    "start": "523240",
    "end": "529600"
  },
  {
    "text": "did do that so what kind of replication did we use we use a type of replication",
    "start": "529600",
    "end": "536279"
  },
  {
    "text": "called anti-entropy so when you have a system which is fully replicated meaning every",
    "start": "536279",
    "end": "543680"
  },
  {
    "text": "object has to live on every single replica which is a pod in this case with",
    "start": "543680",
    "end": "549079"
  },
  {
    "text": "its own data storage its own disc space then as you write to that replica the",
    "start": "549079",
    "end": "554560"
  },
  {
    "text": "state of that replica diverges from the state of the rest of the system and so as you're writing to different replicas",
    "start": "554560",
    "end": "561399"
  },
  {
    "text": "the state of the system keeps diverging more and more and it experiences entropy right because you might ask two replicas",
    "start": "561399",
    "end": "568760"
  },
  {
    "text": "the same question what is the value of x and get two different responses that's entropy in this case",
    "start": "568760",
    "end": "574959"
  },
  {
    "text": "anti-entropy is periodic synchronizations so at some routine",
    "start": "574959",
    "end": "580079"
  },
  {
    "text": "interval a replica is going to select another replica in the system and they're going to synchronize so that",
    "start": "580079",
    "end": "586600"
  },
  {
    "text": "their versions all match each other and it happens in this sort of two-phase way",
    "start": "586600",
    "end": "592600"
  },
  {
    "text": "that's the bilateral part um the local replica selects a remote Pier and then",
    "start": "592600",
    "end": "599760"
  },
  {
    "text": "pushes its version Vector of all of its objects over to the remote Pier the",
    "start": "599760",
    "end": "605000"
  },
  {
    "text": "remote Pier Compares its state and sends any versions that are later than the",
    "start": "605000",
    "end": "610920"
  },
  {
    "text": "local replica or the initiating replica versions back and it also sends a request for versions that's the poll",
    "start": "610920",
    "end": "618360"
  },
  {
    "text": "part of I need these objects that you have that are later than my versions and",
    "start": "618360",
    "end": "624399"
  },
  {
    "text": "so at the end of this bilateral anti-entropy this Push Pull uh both the local replica and the remote Pier are",
    "start": "624399",
    "end": "632399"
  },
  {
    "text": "synchronized they have the same version uh until entropy diverges their state",
    "start": "632399",
    "end": "637839"
  },
  {
    "text": "yet again so this of course is an eventual consistency model uh which I think is a",
    "start": "637839",
    "end": "644079"
  },
  {
    "text": "term we're using a lot here at this conference but all that really means uh is that if you make a right in the",
    "start": "644079",
    "end": "650720"
  },
  {
    "text": "absence of no other rights that right will eventually appear on all replicas in the system with some time that I'm",
    "start": "650720",
    "end": "657639"
  },
  {
    "text": "going to get into in a a little bit this system also uses distributed conflict",
    "start": "657639",
    "end": "664399"
  },
  {
    "text": "free version numbers or Lamport scalers in order to detect conflicts so in case",
    "start": "664399",
    "end": "670200"
  },
  {
    "text": "there's a right on two machines one of those rights is always going to win and that's called the latest writer winds",
    "start": "670200",
    "end": "677839"
  },
  {
    "text": "policy now this has important implications for",
    "start": "677839",
    "end": "683360"
  },
  {
    "text": "consistency so just putting on my professor hat a little bit I'm going to say that consistency is a Spectrum uh so",
    "start": "683360",
    "end": "690560"
  },
  {
    "text": "when we say things like eventual consistency strong consistency sequential consistency causal",
    "start": "690560",
    "end": "696079"
  },
  {
    "text": "consistency linearizability those are really just talking about either points or ranges in the consistency",
    "start": "696079",
    "end": "703800"
  },
  {
    "text": "Spectrum um more specifically in this type of system there are two kinds of",
    "start": "703800",
    "end": "709680"
  },
  {
    "text": "inconsistencies that we are worried about the first is stale reads which means that when I ask a node you know",
    "start": "709680",
    "end": "717040"
  },
  {
    "text": "give me the latest version it doesn't actually have the latest version it has an earlier version in the trca system",
    "start": "717040",
    "end": "724240"
  },
  {
    "text": "that's okay right uh these things these reads are happening 30 times a second and it's pretty common to retry these",
    "start": "724240",
    "end": "732120"
  },
  {
    "text": "peer-to-peer exchanges in the case of a failure or a stale read so we don't actually care about stale reads what we",
    "start": "732120",
    "end": "739440"
  },
  {
    "text": "do care about is forked rights where there are a series of rights to one",
    "start": "739440",
    "end": "745720"
  },
  {
    "text": "version of an object and to another version of an object um concurrently at the same time and we",
    "start": "745720",
    "end": "752800"
  },
  {
    "text": "don't know which version of the object we really should keep that's bad because that can introduce compliance and",
    "start": "752800",
    "end": "759199"
  },
  {
    "text": "Regulatory issues so we absolutely need to minimize that inside of our",
    "start": "759199",
    "end": "765000"
  },
  {
    "text": "system now there is a paper by Peter bis if you guys are interested in the",
    "start": "765000",
    "end": "770720"
  },
  {
    "text": "academic literature on consistency called probabil probabilistically bounded staleness uh it's a very easy read it's",
    "start": "770720",
    "end": "777240"
  },
  {
    "text": "an excellent it's a fun paper but what that says is that your consistency or",
    "start": "777240",
    "end": "783000"
  },
  {
    "text": "the failures in consistency that you might have are relative to how often",
    "start": "783000",
    "end": "789000"
  },
  {
    "text": "your accesses are right so there's some probability based on your access speed and so of course and also your system",
    "start": "789000",
    "end": "796199"
  },
  {
    "text": "size I should also say that too so what that means is that if you are you know",
    "start": "796199",
    "end": "802120"
  },
  {
    "text": "only reading once a minute but your system can fully synchronize in 30",
    "start": "802120",
    "end": "807880"
  },
  {
    "text": "seconds you will never experience it's very unlikely that you will experience a consistency issue if that makes sense",
    "start": "807880",
    "end": "814839"
  },
  {
    "text": "right because you have a full 30 seconds where the system is in a stable consistent space for you to do those",
    "start": "814839",
    "end": "820519"
  },
  {
    "text": "those reads what that means for us is that we're concerned about visibility latency",
    "start": "820519",
    "end": "827680"
  },
  {
    "text": "so visibility latency is how fast it takes a right to fully propagate to the",
    "start": "827680",
    "end": "833920"
  },
  {
    "text": "rest of the system and as part of my dissertation I Define the visibility",
    "start": "833920",
    "end": "839519"
  },
  {
    "text": "latency here this Lambda V the visibility latency as equal to T which",
    "start": "839519",
    "end": "845279"
  },
  {
    "text": "is the time between intervals log 3n which is the size of the system plus",
    "start": "845279",
    "end": "852360"
  },
  {
    "text": "this weird parameter Epsilon and now we're going to start to see us getting into the reinforcement learning um part",
    "start": "852360",
    "end": "859600"
  },
  {
    "text": "of things Epsilon is noise it's",
    "start": "859600",
    "end": "864839"
  },
  {
    "text": "variability so let's talk about the idea of Sol ction for anti-entropy right so",
    "start": "864839",
    "end": "872000"
  },
  {
    "text": "when you are doing these uh bilateral anti-entropy you uniformly randomly",
    "start": "872000",
    "end": "877040"
  },
  {
    "text": "select someone in the audience right so if we are all replicas and I wanted to",
    "start": "877040",
    "end": "882480"
  },
  {
    "text": "perform anti-entropy with one of you all of you would have an equal chance of getting selected for",
    "start": "882480",
    "end": "889160"
  },
  {
    "text": "synchronization and this has a number of great properties one it will eventually converge meaning that right will appear",
    "start": "889160",
    "end": "895320"
  },
  {
    "text": "on the entire system eventually it minimizes broadcast right I can synchronize to you you can synchronize",
    "start": "895320",
    "end": "901519"
  },
  {
    "text": "to someone else I don't have to shout out to everyone and that's great to minimize the number of packets in the network and your OSS talk tasks it's",
    "start": "901519",
    "end": "908800"
  },
  {
    "text": "fault tolerant if someone leaves the room and they come back they will get updated right and it's Dynamic if people",
    "start": "908800",
    "end": "915480"
  },
  {
    "text": "come in or leave they can get updated right so there's no joint consensus the system size is variable it can change",
    "start": "915480",
    "end": "921800"
  },
  {
    "text": "over time but the noise is the problem right the noise is this idea where a",
    "start": "921800",
    "end": "927880"
  },
  {
    "text": "peer might select another pier where there's no synchronization that delays the time it",
    "start": "927880",
    "end": "933360"
  },
  {
    "text": "takes a right to update across the system and experimentally what we found",
    "start": "933360",
    "end": "939279"
  },
  {
    "text": "was that this green line is perfect synchronization right that is the ideal",
    "start": "939279",
    "end": "945240"
  },
  {
    "text": "visibility latency relative to system size given an anti-entropy periodicity",
    "start": "945240",
    "end": "951680"
  },
  {
    "text": "of 125 milliseconds this is real life right and",
    "start": "951680",
    "end": "957440"
  },
  {
    "text": "you can see that there's a big gap between the sort of mean visibility latencies that we were seeing in actual",
    "start": "957440",
    "end": "964360"
  },
  {
    "text": "systems versus that perfect system and if stale forked rights can",
    "start": "964360",
    "end": "971240"
  },
  {
    "text": "cause regulatory problems we have to do better than that consistency model and",
    "start": "971240",
    "end": "976800"
  },
  {
    "text": "so that's where we brought in reinforcement learning so quick definition what is",
    "start": "976800",
    "end": "982360"
  },
  {
    "text": "reinforcement learning reinforcement learning is this idea where intelligent agents make choices",
    "start": "982360",
    "end": "989279"
  },
  {
    "text": "uh to operate on some sort of environment usually some sort of data Centric environment and they observe the",
    "start": "989279",
    "end": "995680"
  },
  {
    "text": "outcomes in order to maximize some cumulative reward function typically",
    "start": "995680",
    "end": "1001480"
  },
  {
    "text": "reinforcement learning is used in in gaming for AI agents and NPCs or used in",
    "start": "1001480",
    "end": "1008000"
  },
  {
    "text": "robotics uh but it is widely used in database machine learning as",
    "start": "1008000",
    "end": "1013040"
  },
  {
    "text": "well so we're going to use a type of reinforcement learning called mult",
    "start": "1013040",
    "end": "1018440"
  },
  {
    "text": "multi-armed bandits in this case it is not the most sophisticated of reinforcement learning techniques",
    "start": "1018440",
    "end": "1023959"
  },
  {
    "text": "there's Q learning and adaptive policy learning and realtive network based learning uh but this is a pretty easy",
    "start": "1023959",
    "end": "1029760"
  },
  {
    "text": "one to explain from the perspective of a system so the the multi-armed bandits",
    "start": "1029760",
    "end": "1035079"
  },
  {
    "text": "problem is uh consider that you're faced with a bunch of slot machines and each of those slot machines they have like an",
    "start": "1035079",
    "end": "1041160"
  },
  {
    "text": "arm you pull right so that's the one armed Bandit so you have multi Bandits because you have multiple arms you have",
    "start": "1041160",
    "end": "1046240"
  },
  {
    "text": "to pull and they all have different uh payouts and odds but you don't know",
    "start": "1046240",
    "end": "1051520"
  },
  {
    "text": "what they are ahead of time right how do you maximize your payout now you guys",
    "start": "1051520",
    "end": "1058200"
  },
  {
    "text": "probably imagine that you're going to pull one arm and you're going to see what happens right did I get a payout and if you don't get a payout you're",
    "start": "1058200",
    "end": "1063960"
  },
  {
    "text": "going to pull a different arm right and if you do get a payout you're going to pull that arm again right and so",
    "start": "1063960",
    "end": "1069080"
  },
  {
    "text": "mathematically what reinforcement learning and multi-arm bandits does is try to figure out how do you",
    "start": "1069080",
    "end": "1075280"
  },
  {
    "text": "maximize that payout and the main thing that we have to worry about with",
    "start": "1075280",
    "end": "1081080"
  },
  {
    "text": "multi-arm Bandits is this idea of exploration versus exploitation right so let's say that you",
    "start": "1081080",
    "end": "1088440"
  },
  {
    "text": "find a slot machine where you pull it and it's giving you like three diamonds",
    "start": "1088440",
    "end": "1093880"
  },
  {
    "text": "right so not as good as the triple 7s uh but you are getting some small payouts for that machine you have to decide do I",
    "start": "1093880",
    "end": "1101440"
  },
  {
    "text": "want to go look for another machine that might give me trip sevs or do I want to",
    "start": "1101440",
    "end": "1106640"
  },
  {
    "text": "stick with this machine and try to just keep maximizing my reward for these triple diamonds right so that's",
    "start": "1106640",
    "end": "1112799"
  },
  {
    "text": "exploration versus exploitation um there are a number of mechanisms to deal with this including",
    "start": "1112799",
    "end": "1118520"
  },
  {
    "text": "basian sampling and upper confidence bounds but the thing that we employed is called Epsilon greedy uh exploitation",
    "start": "1118520",
    "end": "1126400"
  },
  {
    "text": "where if we have a peer in the system with a probability Epsilon and I'm sorry this is a different Epsilon than the",
    "start": "1126400",
    "end": "1132720"
  },
  {
    "text": "Epsilon from the earlier slide just to make that clear we'll just sort of choose any p in the system and with a",
    "start": "1132720",
    "end": "1139799"
  },
  {
    "text": "probability 1 minus Epsilon we will choose the best pier in the system and",
    "start": "1139799",
    "end": "1145520"
  },
  {
    "text": "then there's a variant on this called a kneeling uh Epsilon greedy where Epsilon",
    "start": "1145520",
    "end": "1151120"
  },
  {
    "text": "starts large so you're doing a lot more exploration at the beginning and then it anneals or decreases over time so that",
    "start": "1151120",
    "end": "1157840"
  },
  {
    "text": "you eventually favor more exploitation versus exploration so how does this apply to",
    "start": "1157840",
    "end": "1165559"
  },
  {
    "text": "our system well what we want to do is we want to try to reduce that noise from",
    "start": "1165559",
    "end": "1171520"
  },
  {
    "text": "uniform random selection we want to learn the optimal topology of this system based on the accesses that are in",
    "start": "1171520",
    "end": "1179000"
  },
  {
    "text": "the system so that we prioritize peer selection that leads to",
    "start": "1179000",
    "end": "1185039"
  },
  {
    "text": "synchronization um and so what we did is we created a policy based rewards function and so this is the rewards",
    "start": "1185039",
    "end": "1190960"
  },
  {
    "text": "function table right here right so it's bilateral so we have a push side and a pull side and basically you get points",
    "start": "1190960",
    "end": "1197120"
  },
  {
    "text": "right so if you do you synchronize at least one object in a pull you get 0.25 points if you synchronize it on a push",
    "start": "1197120",
    "end": "1203679"
  },
  {
    "text": "you get 0.25 points right so that's the major we really want to reward synchronizations if you synchronize",
    "start": "1203679",
    "end": "1210159"
  },
  {
    "text": "multiple objects you get even more reward and if your latency is lower",
    "start": "1210159",
    "end": "1215400"
  },
  {
    "text": "right you get even more reward right so we want to come up with like the fastest visibility lat uh latency we want to",
    "start": "1215400",
    "end": "1222200"
  },
  {
    "text": "remove all those latencies between our connections so this was our reward function generally speaking when you're",
    "start": "1222200",
    "end": "1228679"
  },
  {
    "text": "looking at reinforcement learning you are looking at creating a system of policies and these are actually very",
    "start": "1228679",
    "end": "1234520"
  },
  {
    "text": "easy to set up with a different type of reinforcement learning called Q learning where you create Q tables and you try to",
    "start": "1234520",
    "end": "1239880"
  },
  {
    "text": "optimize policies and so you could think that you know here this is a consistency",
    "start": "1239880",
    "end": "1245600"
  },
  {
    "text": "based optimization but if you want to add rate limiting policies security",
    "start": "1245600",
    "end": "1252400"
  },
  {
    "text": "policies node scaling policies right you could add any sort of policies that you",
    "start": "1252400",
    "end": "1257679"
  },
  {
    "text": "wanted to to add to this reward function and optimize your system for the use case that you're working on right that's",
    "start": "1257679",
    "end": "1264760"
  },
  {
    "text": "one of the very benef big benefits of reinforcement learning in a distributed systems context is that these things are",
    "start": "1264760",
    "end": "1271799"
  },
  {
    "text": "it's up to your imagination and these policies can be as complex or as simple",
    "start": "1271799",
    "end": "1276919"
  },
  {
    "text": "as you would like them to be and what happens when you do this is you get a globally emergent decrease in",
    "start": "1276919",
    "end": "1285240"
  },
  {
    "text": "visibility latency so this is another big idea that I want to make sure I share with you guys this idea of global",
    "start": "1285240",
    "end": "1291520"
  },
  {
    "text": "emergence global patterns emerge from the interactions of local simple agents",
    "start": "1291520",
    "end": "1298919"
  },
  {
    "text": "in our case each replica only knows about the peers that it is most rewarded",
    "start": "1298919",
    "end": "1306320"
  },
  {
    "text": "for selecting right it doesn't know anything about the system as a whole and it certainly doesn't know anything about",
    "start": "1306320",
    "end": "1312679"
  },
  {
    "text": "visibility latency the global pattern that we see emerge from all of these local replicas behaving",
    "start": "1312679",
    "end": "1320039"
  },
  {
    "text": "independently is this global increase in our overall consistency model and",
    "start": "1320039",
    "end": "1326520"
  },
  {
    "text": "actually when you visualize this the it becomes very apparent very quickly so",
    "start": "1326520",
    "end": "1333480"
  },
  {
    "text": "the vertices in these graphs are our replicas the size of the vertices are",
    "start": "1333480",
    "end": "1339039"
  },
  {
    "text": "the number of accesses on the replicas and the size of the edges between the vertices is the number of",
    "start": "1339039",
    "end": "1345640"
  },
  {
    "text": "synchronizations between those replicas on the left this is uniform random",
    "start": "1345640",
    "end": "1350799"
  },
  {
    "text": "selection right just a giant hairball you know just a mess of connections",
    "start": "1350799",
    "end": "1356480"
  },
  {
    "text": "nothing is going anywhere Every Which Way after we applied reinforcement",
    "start": "1356480",
    "end": "1362080"
  },
  {
    "text": "learning a distinct topology emerges we see that in it oh and I should say the",
    "start": "1362080",
    "end": "1368600"
  },
  {
    "text": "color is the region right so you can see that in each region we have three replicas we have a primary and two",
    "start": "1368600",
    "end": "1375440"
  },
  {
    "text": "secondaries the primary is where most of the local accesses are happening and we see interesting things happen like oh",
    "start": "1375440",
    "end": "1382960"
  },
  {
    "text": "the secondaries are responsible for replicating across regions and the",
    "start": "1382960",
    "end": "1388080"
  },
  {
    "text": "primary is replicating locally which means that our user accesses are",
    "start": "1388080",
    "end": "1393559"
  },
  {
    "text": "happening much faster because they're not on a bogg down replica we also see",
    "start": "1393559",
    "end": "1399279"
  },
  {
    "text": "that there are no longdistance transmissions in this topology right Tokyo goes to Sydney Sydney goes to",
    "start": "1399279",
    "end": "1406039"
  },
  {
    "text": "Singapore Singapore goes to Frankfurt it doesn't go Frankfurt to Tokyo right so",
    "start": "1406039",
    "end": "1411279"
  },
  {
    "text": "the replication happens in a way that minimizes latency overall and you know this was really",
    "start": "1411279",
    "end": "1417559"
  },
  {
    "text": "just a first experiment with a very simple policy right we could have easily",
    "start": "1417559",
    "end": "1422720"
  },
  {
    "text": "uh created more policies and and gotten different globally emerging behavior um but the results on our first try were",
    "start": "1422720",
    "end": "1429520"
  },
  {
    "text": "just so great that we kind of stuck with it now that's how we were dealing with consistency but I wanted to talk about",
    "start": "1429520",
    "end": "1436120"
  },
  {
    "text": "how we optimize the price tag of running this distributed system so we did a couple of other things that also",
    "start": "1436120",
    "end": "1442279"
  },
  {
    "text": "considered probability oops and I forgot to mention the real world results here um I'll talk about that in a second",
    "start": "1442279",
    "end": "1448320"
  },
  {
    "text": "these are actually the results here so on the left is a graph that shows the reward of the system this purple line is",
    "start": "1448320",
    "end": "1455159"
  },
  {
    "text": "the cumulative rewards for uniform random probability the orange red and green",
    "start": "1455159",
    "end": "1461840"
  },
  {
    "text": "lines are uh aeling Epsilon greedy and different uh Epsilon versions and what",
    "start": "1461840",
    "end": "1467880"
  },
  {
    "text": "we saw is that the system very quickly starts beating uh uniform random",
    "start": "1467880",
    "end": "1473440"
  },
  {
    "text": "selection uh and it turns out this is actually adaptive so if the access patterns change then the system will",
    "start": "1473440",
    "end": "1480960"
  },
  {
    "text": "adapt itself to the access patterns not in real time you know it takes about 150",
    "start": "1480960",
    "end": "1487240"
  },
  {
    "text": "you know time steps and remember those time steps are 125 millisecond intervals but you know so it does take a you know",
    "start": "1487240",
    "end": "1494120"
  },
  {
    "text": "less than an hour let's say in order to adapt the system to new access ACC patterns this chart the green is the",
    "start": "1494120",
    "end": "1502000"
  },
  {
    "text": "visibility latency in uniform selection and the orange and the blue are the uh",
    "start": "1502000",
    "end": "1507240"
  },
  {
    "text": "visibility latencies in the reinforcement learning system and visibility latency decreased on average",
    "start": "1507240",
    "end": "1514799"
  },
  {
    "text": "by 490 milliseconds uh EG by four synchronization sessions using the",
    "start": "1514799",
    "end": "1521120"
  },
  {
    "text": "reinforcement learning pattern remember what I said about probabilistically bounded staleness at a read rate of 30",
    "start": "1521120",
    "end": "1528360"
  },
  {
    "text": "Hertz or 30 reads a second that 490 milliseconds really improves our",
    "start": "1528360",
    "end": "1534840"
  },
  {
    "text": "consistency model uh so it was a very important result back to some of the other things",
    "start": "1534840",
    "end": "1540840"
  },
  {
    "text": "that we put into the system uh we added object sampling right so again the variable cost that we have is egress",
    "start": "1540840",
    "end": "1547799"
  },
  {
    "text": "costs so shipping all of these object vectors all over the place is not affordable because we don't want to be",
    "start": "1547799",
    "end": "1553840"
  },
  {
    "text": "replicating extending all these object vectors all the time every 125 milliseconds because we're going to get charged for that so instead of excepting",
    "start": "1553840",
    "end": "1560799"
  },
  {
    "text": "them all we use a probability Decay function to select what objects are included so that the more recently the",
    "start": "1560799",
    "end": "1568159"
  },
  {
    "text": "object has been written to the more likely it's included in synchronization and as it gets older and older right you",
    "start": "1568159",
    "end": "1573919"
  },
  {
    "text": "know as we get towards that 12 months it stops being synchronized until there's this burst of Rights again and then it",
    "start": "1573919",
    "end": "1579919"
  },
  {
    "text": "starts being synchronized again we also added some management for forking so",
    "start": "1579919",
    "end": "1585320"
  },
  {
    "text": "that we could totally eliminate those regulatory issues or compliance issues that we might have by using a an a",
    "start": "1585320",
    "end": "1593320"
  },
  {
    "text": "machine learning function to identify Fork rights and to attempt to automatically merge the documents in the",
    "start": "1593320",
    "end": "1599200"
  },
  {
    "text": "system together and if we couldn't automatically merge them then we presented them to administrators to deal with it like figure out how to to put",
    "start": "1599200",
    "end": "1605840"
  },
  {
    "text": "this stuff together and that that you know completely reduced uh our conflicts",
    "start": "1605840",
    "end": "1610919"
  },
  {
    "text": "in our system um but obviously you don't want to be telling your administrators hey look at these documents all the time",
    "start": "1610919",
    "end": "1616520"
  },
  {
    "text": "so it was nice that we had that increased consistency from the reinforcement learning before we even got to that",
    "start": "1616520",
    "end": "1622960"
  },
  {
    "text": "point so what was the final result uh using the Google Calculator we went from",
    "start": "1622960",
    "end": "1629360"
  },
  {
    "text": "$8,500 a month down to $2500 a month and we essentially",
    "start": "1629360",
    "end": "1636559"
  },
  {
    "text": "replaced spanner with dis cost right having ssds uh that were 512 GB large our",
    "start": "1636559",
    "end": "1646080"
  },
  {
    "text": "egress costs also went from 203 $276 a month down to about $38 a month so we",
    "start": "1646080",
    "end": "1654320"
  },
  {
    "text": "massively dropped our our egress costs as well and this number the trissa board",
    "start": "1654320",
    "end": "1659600"
  },
  {
    "text": "the nonprofit working group could swallow now this is based on the uh",
    "start": "1659600",
    "end": "1664960"
  },
  {
    "text": "Google Cloud estimator costs in order to compare apples to apples and if anyone",
    "start": "1664960",
    "end": "1670200"
  },
  {
    "text": "wants to see those spreadsheets I'm happy to provide them so you can see uh in reality we're actually spending",
    "start": "1670200",
    "end": "1676640"
  },
  {
    "text": "about7 to $1,800 a month uh in Billing and that's primarily because we're not",
    "start": "1676640",
    "end": "1682240"
  },
  {
    "text": "actually doing 512 gigabytes of data you know we're a little bit less in the system you know we just wanted to have",
    "start": "1682240",
    "end": "1688679"
  },
  {
    "text": "that ceiling to make sure that we we didn't lose all of our disc space so what are some of the takeaways",
    "start": "1688679",
    "end": "1696080"
  },
  {
    "text": "from this talk well the first thing is the data systems that we choose really",
    "start": "1696080",
    "end": "1701760"
  },
  {
    "text": "need to be based on our workloads not on our familiarity with them or on the marketing we want to make sure that we",
    "start": "1701760",
    "end": "1708799"
  },
  {
    "text": "suit our data systems and our replicated storage systems exactly to what we're doing and I realize that is harder than",
    "start": "1708799",
    "end": "1717080"
  },
  {
    "text": "it sounds because a lot of times we don't know about the accesses in our systems until we've deployed the systems",
    "start": "1717080",
    "end": "1723919"
  },
  {
    "text": "but that's a really good case for reinforcement learning right to learn the accesses inside of the systems",
    "start": "1723919",
    "end": "1731559"
  },
  {
    "text": "beforehand so a second important takeaway here is that machine learning techniques can and should be used to",
    "start": "1731559",
    "end": "1738559"
  },
  {
    "text": "optimized distributed systems here at uh cubec con if there's one thing I can ask",
    "start": "1738559",
    "end": "1743840"
  },
  {
    "text": "is I never want to have to put requests or limits in a yaml file ever again I",
    "start": "1743840",
    "end": "1749159"
  },
  {
    "text": "don't understand why the controllers aren't just figuring that stuff out for me and so I think reinforcement learning",
    "start": "1749159",
    "end": "1755640"
  },
  {
    "text": "might be a good way to figure out what those requests and what those limits are rather than relying on the heris",
    "start": "1755640",
    "end": "1761000"
  },
  {
    "text": "schedule or algorithms and things that already exist but I shouldn't have to ever put those into a Helm chart right",
    "start": "1761000",
    "end": "1767559"
  },
  {
    "text": "that should be done by some sort of machine Learning System and this is a place where we can explore a lot of",
    "start": "1767559",
    "end": "1773679"
  },
  {
    "text": "different ways to optimize uh different types of globally emergent distributed",
    "start": "1773679",
    "end": "1779159"
  },
  {
    "text": "systems this is also an interesting design pattern um I don't know how many of you guys develop distributed systems",
    "start": "1779159",
    "end": "1787120"
  },
  {
    "text": "uh but there are a couple of different models including the actor model of how we understand distributed systems but I",
    "start": "1787120",
    "end": "1794360"
  },
  {
    "text": "want to say that potentially we to think more about um homogeneous emergent",
    "start": "1794360",
    "end": "1799919"
  },
  {
    "text": "systems when you're creating a service think about its interactions as producing the global behavior and that",
    "start": "1799919",
    "end": "1807039"
  },
  {
    "text": "the global behavior is different than its interactions uh and you might be surprised about what you can actually do",
    "start": "1807039",
    "end": "1813679"
  },
  {
    "text": "when you think about designing systems with emergence in mind and finally if",
    "start": "1813679",
    "end": "1819480"
  },
  {
    "text": "you see any sort of probability in your systems research you should think reinforcement learning right",
    "start": "1819480",
    "end": "1825000"
  },
  {
    "text": "reinforcement learning is a very good way to compute probability um or to estimate and customize probability it's",
    "start": "1825000",
    "end": "1831480"
  },
  {
    "text": "certainly far better than using uniform or some other just flip a coin technique",
    "start": "1831480",
    "end": "1837120"
  },
  {
    "text": "when it comes to probability so uh that's all I had I'm",
    "start": "1837120",
    "end": "1842840"
  },
  {
    "text": "happy to take some questions but first a couple of asks the system that I described uh we are porting away from uh",
    "start": "1842840",
    "end": "1850600"
  },
  {
    "text": "trissa MasterCard into its own open source repository called honu uh so if",
    "start": "1850600",
    "end": "1855799"
  },
  {
    "text": "you are interested in using that system replicating our experiments messing with the reward function it's at GitHub",
    "start": "1855799",
    "end": "1863080"
  },
  {
    "text": "rotational io/ honu and if you could give us a star on that we'd really appreciate it um otherwise I would",
    "start": "1863080",
    "end": "1869880"
  },
  {
    "text": "invite you all to come up and talk to me here at the conference if you see me in the hallway um you know I'm pretty easy",
    "start": "1869880",
    "end": "1876120"
  },
  {
    "text": "to talk to and uh you know I know maybe it's hard to get to talk to me right after the talk but anywhere you see me",
    "start": "1876120",
    "end": "1881799"
  },
  {
    "text": "anywhere in the conference just pull me aside and I'd be happy to chat about the problems that you're facing and what kinds of workloads that you're using so",
    "start": "1881799",
    "end": "1888919"
  },
  {
    "text": "thank you very",
    "start": "1888919",
    "end": "1891398"
  },
  {
    "text": "much so if anyone has any questions I'm happy to take them there's a microphone right in the middle",
    "start": "1894600",
    "end": "1901799"
  },
  {
    "text": "there oh very good Shar U we are trying to do the similar thing in different",
    "start": "1904120",
    "end": "1909720"
  },
  {
    "text": "area uh talk about the reward model uh in your peer selection phase I think uh",
    "start": "1909720",
    "end": "1916200"
  },
  {
    "text": "one challenge is that uh you are making the decision based on the historical Matrix right but the decision you made",
    "start": "1916200",
    "end": "1924080"
  },
  {
    "text": "is for the future so uh how to resolve that problem do you invol any prediction",
    "start": "1924080",
    "end": "1930480"
  },
  {
    "text": "uh algorithm there uh yeah it's a great question so how do we so that rewards",
    "start": "1930480",
    "end": "1936919"
  },
  {
    "text": "table was actually not the probability table what you do is You observe like",
    "start": "1936919",
    "end": "1942240"
  },
  {
    "text": "you create a synchronization and You observe the rewards for that syn ganization and then you update the",
    "start": "1942240",
    "end": "1949360"
  },
  {
    "text": "probability that you're going to select that Pier based on the rewards so over time the probability of selection does",
    "start": "1949360",
    "end": "1956080"
  },
  {
    "text": "change uh based on accesses and then that Epsilon Factor um you know if",
    "start": "1956080",
    "end": "1962399"
  },
  {
    "text": "something goes to zero probability because you're just never synchronizing with it that Epsilon factor is what",
    "start": "1962399",
    "end": "1968519"
  },
  {
    "text": "allows you to maybe go back to that pier in case things are changing inside of your environment but the rewards table",
    "start": "1968519",
    "end": "1975639"
  },
  {
    "text": "itself is just a policy table it's not a probability My Rewards table happened to",
    "start": "1975639",
    "end": "1981639"
  },
  {
    "text": "add up to one so it kind of looked like a probability but it itself is is not a probability okay I have a second",
    "start": "1981639",
    "end": "1989360"
  },
  {
    "text": "question so um One Challenge of this model is a Computing complexity so uh",
    "start": "1989360",
    "end": "1996200"
  },
  {
    "text": "when the problem uh the skill becoming bigger and bigger so uh it takes over",
    "start": "1996200",
    "end": "2003240"
  },
  {
    "text": "hours uh to get the best results so I want to uh understand do you have S",
    "start": "2003240",
    "end": "2010919"
  },
  {
    "text": "similar problem when facing large scale system and uh uh any suggestion here",
    "start": "2010919",
    "end": "2017159"
  },
  {
    "text": "that's a good question so we actually prefer to use online models uh which are",
    "start": "2017159",
    "end": "2023279"
  },
  {
    "text": "models that can be updated in uh real time and our systems work in real time",
    "start": "2023279",
    "end": "2030279"
  },
  {
    "text": "so what we had to do is we had to add some additional compute and memory to all of our pods in order for them to",
    "start": "2030279",
    "end": "2036279"
  },
  {
    "text": "handle this real time computation on every synchronization but it turned out to be a fixed cost and it does get",
    "start": "2036279",
    "end": "2043120"
  },
  {
    "text": "spread over the entire cluster um if you're using something",
    "start": "2043120",
    "end": "2048158"
  },
  {
    "text": "like q-learning or something that's using a neural model then you know you're right the costs could get a",
    "start": "2048159",
    "end": "2054040"
  },
  {
    "text": "little higher because you might have to attach a TPU or a GPU or something in order to do the back propagation or the",
    "start": "2054040",
    "end": "2059878"
  },
  {
    "text": "softmax computation um but you know looking at the online especially the online basian",
    "start": "2059879",
    "end": "2066599"
  },
  {
    "text": "model is a good way to react to large systems and scaling this up to to much bigger",
    "start": "2066599",
    "end": "2073838"
  },
  {
    "text": "systems yes please hi I wanted to know what uh method you used to uh to",
    "start": "2073960",
    "end": "2080520"
  },
  {
    "text": "determine the the window of a historical data that you would use for uh for the",
    "start": "2080520",
    "end": "2087919"
  },
  {
    "text": "updating of the model that's an interesting question so",
    "start": "2087919",
    "end": "2094480"
  },
  {
    "text": "uh the answer is we didn't we just kept it all so so it goes all the way back to the",
    "start": "2094480",
    "end": "2100800"
  },
  {
    "text": "very first data point in that you were capturing in I don't know like at Epoch",
    "start": "2100800",
    "end": "2107960"
  },
  {
    "text": "yeah exactly it's been running for I want to say three years two two years",
    "start": "2107960",
    "end": "2113400"
  },
  {
    "text": "it's been running for two years uh so we haven't had any sort of constraints uh on that yet um there is something called",
    "start": "2113400",
    "end": "2119880"
  },
  {
    "text": "contextual Bandits uh that uses a reinforcement learning within a reinforcement learning process to decide",
    "start": "2119880",
    "end": "2126079"
  },
  {
    "text": "how to decay probabilities over time um but as it turns out the state isn't",
    "start": "2126079",
    "end": "2131880"
  },
  {
    "text": "actually that large because the state is this rewards floating point plus the",
    "start": "2131880",
    "end": "2138839"
  },
  {
    "text": "cumulative probability function uh so we haven't actually experienced any state",
    "start": "2138839",
    "end": "2143920"
  },
  {
    "text": "problems with our computation at least running the system for two years potentially if we run it for 10 or 20",
    "start": "2143920",
    "end": "2149040"
  },
  {
    "text": "years we might have some concerns but at the moment we don't have that problem um",
    "start": "2149040",
    "end": "2154960"
  },
  {
    "text": "and what we will do is is we will inject local resets so we will reset out all",
    "start": "2154960",
    "end": "2161880"
  },
  {
    "text": "the probabilities on local nodes on a periodic basis just to make sure that",
    "start": "2161880",
    "end": "2166960"
  },
  {
    "text": "the system stabilizes and that it isn't trapped in a bad configuration uh so that's another way",
    "start": "2166960",
    "end": "2172760"
  },
  {
    "text": "that we handle uh the historical problem and is the training uh on the global",
    "start": "2172760",
    "end": "2178560"
  },
  {
    "text": "context or is it done uh on within each local context yeah so with reinforcement",
    "start": "2178560",
    "end": "2184280"
  },
  {
    "text": "learning these are agents so each replica is its own independent agent and",
    "start": "2184280",
    "end": "2189599"
  },
  {
    "text": "it's happening in real time so they're updating their probability every 125",
    "start": "2189599",
    "end": "2195400"
  },
  {
    "text": "milliseconds and there's no sidecar training process um or sidecar inferencing process this all happens in",
    "start": "2195400",
    "end": "2202280"
  },
  {
    "text": "real time in an online fashion thank you",
    "start": "2202280",
    "end": "2208480"
  },
  {
    "text": "cheers last question yeah quick question uh on your rewards function how did you",
    "start": "2208480",
    "end": "2214520"
  },
  {
    "text": "select the setup parameters that were actually influencing the the policy",
    "start": "2214520",
    "end": "2221040"
  },
  {
    "text": "correctly great question uh my adviser Pete and I went out to a bar and ordered",
    "start": "2221040",
    "end": "2226640"
  },
  {
    "text": "some whiskies and we just chatted it out so and you know I joke but that is",
    "start": "2226640",
    "end": "2233640"
  },
  {
    "text": "actually what happened for this particular system um you know it's",
    "start": "2233640",
    "end": "2239839"
  },
  {
    "text": "reinforcement learning is a weird mix of heuristic and algorithmic right so the",
    "start": "2239839",
    "end": "2247280"
  },
  {
    "text": "policies that you create are more like the training parameters than they are",
    "start": "2247280",
    "end": "2253560"
  },
  {
    "text": "like heuristics um because if one of the factors that you choose for a policy",
    "start": "2253560",
    "end": "2260160"
  },
  {
    "text": "doesn't do anything for your system then it essentially will just be wiped out of",
    "start": "2260160",
    "end": "2265280"
  },
  {
    "text": "the system right so you can choose wrong with a policy and if it doesn't make an",
    "start": "2265280",
    "end": "2271680"
  },
  {
    "text": "impact uh if it doesn't make any impact as a neither a negative nor a positive impact then it will um uh sort of just",
    "start": "2271680",
    "end": "2280079"
  },
  {
    "text": "fall out and you won't notice it so theistic that you choose for the you know I mean not heris sixs policies the",
    "start": "2280079",
    "end": "2287079"
  },
  {
    "text": "policies that you choose for your reward function are what you hope to see the",
    "start": "2287079",
    "end": "2292480"
  },
  {
    "text": "behavior of the system go towards right and so you are thinking about terms of rewards like what am I",
    "start": "2292480",
    "end": "2299560"
  },
  {
    "text": "trying to encourage you know uh and can I give that more weight and what is",
    "start": "2299560",
    "end": "2305640"
  },
  {
    "text": "important but not as important as these things so my recommendation in practice",
    "start": "2305640",
    "end": "2310720"
  },
  {
    "text": "is write a list of like 30 policies order them take out the last 20",
    "start": "2310720",
    "end": "2319680"
  },
  {
    "text": "and then assign weights and that is usually how you can come up with a good policy for experimentation and if you're",
    "start": "2319680",
    "end": "2326560"
  },
  {
    "text": "still not sure you know you can run these things in simulation discret event simulators do a great job of simulating",
    "start": "2326560",
    "end": "2333599"
  },
  {
    "text": "this type of system uh and you can run those discret simulations very quickly for different reward functions and",
    "start": "2333599",
    "end": "2339359"
  },
  {
    "text": "policy models uh in order to figure out the one that you want to actually deploy in production thank",
    "start": "2339359",
    "end": "2347200"
  },
  {
    "text": "you all right thank you very much",
    "start": "2348800",
    "end": "2353400"
  }
]