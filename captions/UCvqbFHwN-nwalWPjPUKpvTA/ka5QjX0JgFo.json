[
  {
    "text": "good afternoon prometheus day",
    "start": "480",
    "end": "3760"
  },
  {
    "text": "my name's alex i'm here to talk to you",
    "start": "3760",
    "end": "6640"
  },
  {
    "text": "about open fast",
    "start": "6640",
    "end": "8800"
  },
  {
    "text": "specifically the auto scaling and how",
    "start": "8800",
    "end": "11599"
  },
  {
    "text": "we're using it",
    "start": "11599",
    "end": "13120"
  },
  {
    "text": "along with prometheus to horizontally",
    "start": "13120",
    "end": "15440"
  },
  {
    "text": "scale out functions for open source",
    "start": "15440",
    "end": "17840"
  },
  {
    "text": "users",
    "start": "17840",
    "end": "18800"
  },
  {
    "text": "and for customers alike",
    "start": "18800",
    "end": "20480"
  },
  {
    "text": "but i'd like to know",
    "start": "20480",
    "end": "22080"
  },
  {
    "text": "something from you",
    "start": "22080",
    "end": "23600"
  },
  {
    "text": "who writes code",
    "start": "23600",
    "end": "25519"
  },
  {
    "text": "that's mainly what you do put your hand",
    "start": "25519",
    "end": "27519"
  },
  {
    "text": "up",
    "start": "27519",
    "end": "30400"
  },
  {
    "text": "maybe 40 of the room and who",
    "start": "30400",
    "end": "33440"
  },
  {
    "text": "runs other people's code",
    "start": "33440",
    "end": "36559"
  },
  {
    "text": "maybe 70",
    "start": "36880",
    "end": "38559"
  },
  {
    "text": "yeah okay that's good it's good to know",
    "start": "38559",
    "end": "41200"
  },
  {
    "text": "so we're going to start with a quick",
    "start": "41200",
    "end": "43040"
  },
  {
    "text": "primer on what open files is because",
    "start": "43040",
    "end": "45600"
  },
  {
    "text": "um",
    "start": "45600",
    "end": "46879"
  },
  {
    "text": "sometimes people",
    "start": "46879",
    "end": "48559"
  },
  {
    "text": "may not realize the use cases for",
    "start": "48559",
    "end": "50320"
  },
  {
    "text": "functions are pretty similar to",
    "start": "50320",
    "end": "51520"
  },
  {
    "text": "microservices especially when you",
    "start": "51520",
    "end": "53440"
  },
  {
    "text": "combine it with kubernetes",
    "start": "53440",
    "end": "55440"
  },
  {
    "text": "we'll look at the original auto scaling",
    "start": "55440",
    "end": "57520"
  },
  {
    "text": "and i know julius folse couldn't be here",
    "start": "57520",
    "end": "59840"
  },
  {
    "text": "in person but he helped me a lot back in",
    "start": "59840",
    "end": "61840"
  },
  {
    "text": "2016 sort of think and reason about this",
    "start": "61840",
    "end": "64878"
  },
  {
    "text": "and prometheus itself",
    "start": "64879",
    "end": "67360"
  },
  {
    "text": "and then we'll look at the new scaling",
    "start": "67360",
    "end": "68960"
  },
  {
    "text": "that came in in 2022 earlier this year",
    "start": "68960",
    "end": "72400"
  },
  {
    "text": "and why we needed to sort of think about",
    "start": "72400",
    "end": "74159"
  },
  {
    "text": "it again and overhaul it and what had",
    "start": "74159",
    "end": "75840"
  },
  {
    "text": "changed",
    "start": "75840",
    "end": "77280"
  },
  {
    "text": "you're also going to get if you've got",
    "start": "77280",
    "end": "79200"
  },
  {
    "text": "time a little bit of something that you",
    "start": "79200",
    "end": "80880"
  },
  {
    "text": "can take away so all of those that raise",
    "start": "80880",
    "end": "82960"
  },
  {
    "text": "their hands",
    "start": "82960",
    "end": "84240"
  },
  {
    "text": "you may be doing this already but if",
    "start": "84240",
    "end": "85759"
  },
  {
    "text": "you're not recording rules",
    "start": "85759",
    "end": "87920"
  },
  {
    "text": "filtering queries and rewriting labels",
    "start": "87920",
    "end": "90240"
  },
  {
    "text": "are really powerful features of",
    "start": "90240",
    "end": "91360"
  },
  {
    "text": "prometheus and probably going to be very",
    "start": "91360",
    "end": "93040"
  },
  {
    "text": "useful for you at some point",
    "start": "93040",
    "end": "96079"
  },
  {
    "text": "so serverless what is the basic idea",
    "start": "96079",
    "end": "98079"
  },
  {
    "text": "well the way i like to think of this you",
    "start": "98079",
    "end": "100240"
  },
  {
    "text": "may have seen this graph before is",
    "start": "100240",
    "end": "102640"
  },
  {
    "text": "some sort of progression or evolution",
    "start": "102640",
    "end": "105920"
  },
  {
    "text": "and sometimes people get confused",
    "start": "105920",
    "end": "107439"
  },
  {
    "text": "because i think well you know",
    "start": "107439",
    "end": "108799"
  },
  {
    "text": "microservices are usually better than",
    "start": "108799",
    "end": "110399"
  },
  {
    "text": "monoliths so everybody should just use",
    "start": "110399",
    "end": "112479"
  },
  {
    "text": "microservices and if you're not it's bad",
    "start": "112479",
    "end": "114799"
  },
  {
    "text": "then we have serverless and if you're",
    "start": "114799",
    "end": "116880"
  },
  {
    "text": "not using serverless well that's bad",
    "start": "116880",
    "end": "119439"
  },
  {
    "text": "really the way i look at it is you use",
    "start": "119439",
    "end": "121520"
  },
  {
    "text": "what is right for your team and your",
    "start": "121520",
    "end": "123680"
  },
  {
    "text": "technology",
    "start": "123680",
    "end": "124960"
  },
  {
    "text": "and actually functions work really well",
    "start": "124960",
    "end": "127119"
  },
  {
    "text": "alongside microservices",
    "start": "127119",
    "end": "129360"
  },
  {
    "text": "and",
    "start": "129360",
    "end": "130560"
  },
  {
    "text": "monoliths",
    "start": "130560",
    "end": "132160"
  },
  {
    "text": "traditionally they'll take a request",
    "start": "132160",
    "end": "134720"
  },
  {
    "text": "process some data and give you a",
    "start": "134720",
    "end": "136239"
  },
  {
    "text": "response just like a promql query takes",
    "start": "136239",
    "end": "139120"
  },
  {
    "text": "in some text and gives you a graph or",
    "start": "139120",
    "end": "140720"
  },
  {
    "text": "some statistics in fact you could have a",
    "start": "140720",
    "end": "143120"
  },
  {
    "text": "function that ran from ql that's an",
    "start": "143120",
    "end": "145120"
  },
  {
    "text": "example for instance",
    "start": "145120",
    "end": "147599"
  },
  {
    "text": "but really what we're trying to do is",
    "start": "147599",
    "end": "149680"
  },
  {
    "text": "take ourselves from this we're having to",
    "start": "149680",
    "end": "151760"
  },
  {
    "text": "put a server in a room connect the",
    "start": "151760",
    "end": "153840"
  },
  {
    "text": "cables",
    "start": "153840",
    "end": "154959"
  },
  {
    "text": "um really having to to babysit it and",
    "start": "154959",
    "end": "157200"
  },
  {
    "text": "monitor it and buying network stacks to",
    "start": "157200",
    "end": "159680"
  },
  {
    "text": "where we're having to write a dockerfile",
    "start": "159680",
    "end": "161599"
  },
  {
    "text": "write a hpa rule for our microservices",
    "start": "161599",
    "end": "164160"
  },
  {
    "text": "and then deal with all that duplication",
    "start": "164160",
    "end": "166239"
  },
  {
    "text": "to functions where we can automate a lot",
    "start": "166239",
    "end": "168800"
  },
  {
    "text": "of this and maybe even infer it",
    "start": "168800",
    "end": "170400"
  },
  {
    "text": "automatically is what would be a good",
    "start": "170400",
    "end": "172160"
  },
  {
    "text": "configuration",
    "start": "172160",
    "end": "174080"
  },
  {
    "text": "that's important for 100 of the people",
    "start": "174080",
    "end": "176480"
  },
  {
    "text": "in the room",
    "start": "176480",
    "end": "177440"
  },
  {
    "text": "because developers have a bit less work",
    "start": "177440",
    "end": "179120"
  },
  {
    "text": "to do and operations as well",
    "start": "179120",
    "end": "182560"
  },
  {
    "text": "so open fast started",
    "start": "182560",
    "end": "184480"
  },
  {
    "text": "in 2016 and i was checking out lambda i",
    "start": "184480",
    "end": "188879"
  },
  {
    "text": "really liked the idea and the technology",
    "start": "188879",
    "end": "191360"
  },
  {
    "text": "this idea that you could",
    "start": "191360",
    "end": "193280"
  },
  {
    "text": "write some code",
    "start": "193280",
    "end": "194879"
  },
  {
    "text": "and just have it completely managed i",
    "start": "194879",
    "end": "197040"
  },
  {
    "text": "was using alexa",
    "start": "197040",
    "end": "198640"
  },
  {
    "text": "but then i wanted to run it with docker",
    "start": "198640",
    "end": "200480"
  },
  {
    "text": "because we didn't we weren't really into",
    "start": "200480",
    "end": "201840"
  },
  {
    "text": "kubernetes in the same way back then it",
    "start": "201840",
    "end": "203920"
  },
  {
    "text": "wasn't as popular as it is now",
    "start": "203920",
    "end": "206080"
  },
  {
    "text": "and there was just no way of doing it so",
    "start": "206080",
    "end": "207840"
  },
  {
    "text": "i had a bit of an experimentation on my",
    "start": "207840",
    "end": "209920"
  },
  {
    "text": "own in my bedroom after work with a",
    "start": "209920",
    "end": "212640"
  },
  {
    "text": "full-time job and it turned out that it",
    "start": "212640",
    "end": "214480"
  },
  {
    "text": "was very popular as an idea and there's",
    "start": "214480",
    "end": "216879"
  },
  {
    "text": "now over 340 people that have",
    "start": "216879",
    "end": "219120"
  },
  {
    "text": "contributed code to the project and",
    "start": "219120",
    "end": "221120"
  },
  {
    "text": "we've got full-time people working on it",
    "start": "221120",
    "end": "223200"
  },
  {
    "text": "every day",
    "start": "223200",
    "end": "224239"
  },
  {
    "text": "and proving it for open source users and",
    "start": "224239",
    "end": "226560"
  },
  {
    "text": "customers",
    "start": "226560",
    "end": "228879"
  },
  {
    "text": "so i'm really here almost as a developer",
    "start": "228879",
    "end": "231680"
  },
  {
    "text": "but also",
    "start": "231680",
    "end": "232720"
  },
  {
    "text": "as a end user as i'm kind of presenting",
    "start": "232720",
    "end": "235519"
  },
  {
    "text": "what our end users have said to us",
    "start": "235519",
    "end": "239280"
  },
  {
    "text": "now um",
    "start": "239280",
    "end": "240799"
  },
  {
    "text": "what does this look like",
    "start": "240799",
    "end": "242480"
  },
  {
    "text": "when you look at that code does it look",
    "start": "242480",
    "end": "244560"
  },
  {
    "text": "familiar",
    "start": "244560",
    "end": "245840"
  },
  {
    "text": "someone shout out",
    "start": "245840",
    "end": "248159"
  },
  {
    "text": "looks like a middleware in go",
    "start": "248159",
    "end": "250879"
  },
  {
    "text": "we've got a request and a response we've",
    "start": "250879",
    "end": "254159"
  },
  {
    "text": "got a http status code we've got a body",
    "start": "254159",
    "end": "256720"
  },
  {
    "text": "it's very familiar to us and this is all",
    "start": "256720",
    "end": "258400"
  },
  {
    "text": "a function is it's a http handler",
    "start": "258400",
    "end": "261759"
  },
  {
    "text": "but what you don't see here is the",
    "start": "261759",
    "end": "263360"
  },
  {
    "text": "docker file that your sre team is",
    "start": "263360",
    "end": "265199"
  },
  {
    "text": "maintaining",
    "start": "265199",
    "end": "266479"
  },
  {
    "text": "you don't see the entry point for the",
    "start": "266479",
    "end": "268560"
  },
  {
    "text": "http server or the prometheus logging",
    "start": "268560",
    "end": "271520"
  },
  {
    "text": "and metrics rather because that's all",
    "start": "271520",
    "end": "273680"
  },
  {
    "text": "done centrally",
    "start": "273680",
    "end": "275759"
  },
  {
    "text": "so you just",
    "start": "275759",
    "end": "277040"
  },
  {
    "text": "fill in the blank",
    "start": "277040",
    "end": "278880"
  },
  {
    "text": "and you have a production ready endpoint",
    "start": "278880",
    "end": "281199"
  },
  {
    "text": "that's the idea at least",
    "start": "281199",
    "end": "283520"
  },
  {
    "text": "and you can work with any language that",
    "start": "283520",
    "end": "285120"
  },
  {
    "text": "you like as long as it can be packaged",
    "start": "285120",
    "end": "286720"
  },
  {
    "text": "in docker",
    "start": "286720",
    "end": "289040"
  },
  {
    "text": "so when we think about this",
    "start": "289040",
    "end": "290720"
  },
  {
    "text": "what what is a function in open files",
    "start": "290720",
    "end": "293199"
  },
  {
    "text": "well it may be different in lambda but",
    "start": "293199",
    "end": "294880"
  },
  {
    "text": "certainly in open first from the bottom",
    "start": "294880",
    "end": "296560"
  },
  {
    "text": "up we have kubernetes so eventually",
    "start": "296560",
    "end": "299600"
  },
  {
    "text": "there's a pod",
    "start": "299600",
    "end": "301039"
  },
  {
    "text": "the pod can be scaled which is what",
    "start": "301039",
    "end": "303039"
  },
  {
    "text": "we're doing and we have more replicas of",
    "start": "303039",
    "end": "305199"
  },
  {
    "text": "that it's kept as an oci image it's in a",
    "start": "305199",
    "end": "308240"
  },
  {
    "text": "registry",
    "start": "308240",
    "end": "309759"
  },
  {
    "text": "and then as we start to go up the stacks",
    "start": "309759",
    "end": "311360"
  },
  {
    "text": "where we give you a bit more value over",
    "start": "311360",
    "end": "313120"
  },
  {
    "text": "you doing it all yourself",
    "start": "313120",
    "end": "315199"
  },
  {
    "text": "okay",
    "start": "315199",
    "end": "316320"
  },
  {
    "text": "so the openfast gateway is a restful api",
    "start": "316320",
    "end": "319280"
  },
  {
    "text": "which allows you to deploy your code",
    "start": "319280",
    "end": "321120"
  },
  {
    "text": "programmatically i quite often get asked",
    "start": "321120",
    "end": "323120"
  },
  {
    "text": "so alex you've written a book about go",
    "start": "323120",
    "end": "325280"
  },
  {
    "text": "i've got my microservice but how do i",
    "start": "325280",
    "end": "327759"
  },
  {
    "text": "how do i deploy it remotely to this",
    "start": "327759",
    "end": "329120"
  },
  {
    "text": "machine",
    "start": "329120",
    "end": "330800"
  },
  {
    "text": "even if they're not running kubernetes",
    "start": "330800",
    "end": "332000"
  },
  {
    "text": "it's quite hard well openvas is an api",
    "start": "332000",
    "end": "334639"
  },
  {
    "text": "you send a json request you've now",
    "start": "334639",
    "end": "336560"
  },
  {
    "text": "deployed a new version of your function",
    "start": "336560",
    "end": "339360"
  },
  {
    "text": "prometheus will give you centralized",
    "start": "339360",
    "end": "341120"
  },
  {
    "text": "logging so we don't have this issue that",
    "start": "341120",
    "end": "343199"
  },
  {
    "text": "bartek was talking about where our pod",
    "start": "343199",
    "end": "345600"
  },
  {
    "text": "has come up and then we scaled down it's",
    "start": "345600",
    "end": "347759"
  },
  {
    "text": "gone and we've lost the metrics because",
    "start": "347759",
    "end": "349280"
  },
  {
    "text": "they're aggregated in the gateway",
    "start": "349280",
    "end": "352080"
  },
  {
    "text": "that also means we can scale with it",
    "start": "352080",
    "end": "354720"
  },
  {
    "text": "and that's allows us to do asynchronous",
    "start": "354720",
    "end": "356560"
  },
  {
    "text": "messaging who's",
    "start": "356560",
    "end": "358479"
  },
  {
    "text": "ever done integration with a queue or an",
    "start": "358479",
    "end": "361199"
  },
  {
    "text": "event source kafka rabbitmq we all have",
    "start": "361199",
    "end": "364720"
  },
  {
    "text": "and every company you go to if they",
    "start": "364720",
    "end": "366319"
  },
  {
    "text": "don't have it yet you've got to write it",
    "start": "366319",
    "end": "368160"
  },
  {
    "text": "all well you know we bundle that for you",
    "start": "368160",
    "end": "370639"
  },
  {
    "text": "you just send a request http it gets",
    "start": "370639",
    "end": "373600"
  },
  {
    "text": "enqueued dequeued",
    "start": "373600",
    "end": "375440"
  },
  {
    "text": "and scales as well",
    "start": "375440",
    "end": "377199"
  },
  {
    "text": "and then all of the normal things that",
    "start": "377199",
    "end": "378800"
  },
  {
    "text": "you'd expect from kubernetes will work",
    "start": "378800",
    "end": "380639"
  },
  {
    "text": "so argo cd",
    "start": "380639",
    "end": "382800"
  },
  {
    "text": "and github actions so that's open files",
    "start": "382800",
    "end": "384960"
  },
  {
    "text": "in a nutshell you can find out a lot",
    "start": "384960",
    "end": "386560"
  },
  {
    "text": "more with the link i posted into the",
    "start": "386560",
    "end": "388319"
  },
  {
    "text": "slack channel",
    "start": "388319",
    "end": "390479"
  },
  {
    "text": "so",
    "start": "390479",
    "end": "392479"
  },
  {
    "text": "patrick shanzium was the chief",
    "start": "392479",
    "end": "394800"
  },
  {
    "text": "storyteller at docker and he'd seen open",
    "start": "394800",
    "end": "397039"
  },
  {
    "text": "fires and he said wouldn't it be cool if",
    "start": "397039",
    "end": "398880"
  },
  {
    "text": "we could use alert manager not to say",
    "start": "398880",
    "end": "401120"
  },
  {
    "text": "whether the function was down but to",
    "start": "401120",
    "end": "402800"
  },
  {
    "text": "actually scale it horizontally",
    "start": "402800",
    "end": "404960"
  },
  {
    "text": "and it turned out",
    "start": "404960",
    "end": "406560"
  },
  {
    "text": "that it was actually really easy to do",
    "start": "406560",
    "end": "409199"
  },
  {
    "text": "and so at dockercon i had my first test",
    "start": "409199",
    "end": "412000"
  },
  {
    "text": "of this and 5 000 people very kindly got",
    "start": "412000",
    "end": "415280"
  },
  {
    "text": "their phones out started the github",
    "start": "415280",
    "end": "417360"
  },
  {
    "text": "repository which generated a web hook",
    "start": "417360",
    "end": "420319"
  },
  {
    "text": "that downloaded their avatar in a",
    "start": "420319",
    "end": "422160"
  },
  {
    "text": "function and uploaded it to s3 and so",
    "start": "422160",
    "end": "424400"
  },
  {
    "text": "they got to be on the big screen",
    "start": "424400",
    "end": "426880"
  },
  {
    "text": "and as an as an sre or a devops engineer",
    "start": "426880",
    "end": "429680"
  },
  {
    "text": "it's probably quite hard to get",
    "start": "429680",
    "end": "430880"
  },
  {
    "text": "production-ready traffic and who were",
    "start": "430880",
    "end": "433199"
  },
  {
    "text": "able to get it quite quickly",
    "start": "433199",
    "end": "436000"
  },
  {
    "text": "this is how it works",
    "start": "436000",
    "end": "437840"
  },
  {
    "text": "at least version one",
    "start": "437840",
    "end": "439680"
  },
  {
    "text": "the gateway remember is centralized so",
    "start": "439680",
    "end": "441520"
  },
  {
    "text": "all of our invocations are going through",
    "start": "441520",
    "end": "443360"
  },
  {
    "text": "it and it can scale out",
    "start": "443360",
    "end": "445039"
  },
  {
    "text": "so that allows us to collect the data",
    "start": "445039",
    "end": "447199"
  },
  {
    "text": "aggregate in prometheus with a function",
    "start": "447199",
    "end": "449680"
  },
  {
    "text": "right on the other side just a normal",
    "start": "449680",
    "end": "451360"
  },
  {
    "text": "pod works of all your normal tools",
    "start": "451360",
    "end": "454080"
  },
  {
    "text": "and sitting down here is alert manager",
    "start": "454080",
    "end": "457759"
  },
  {
    "text": "and a nice little alert and as it's",
    "start": "457759",
    "end": "460080"
  },
  {
    "text": "firing",
    "start": "460080",
    "end": "461120"
  },
  {
    "text": "the gateway is able to handle this web",
    "start": "461120",
    "end": "464639"
  },
  {
    "text": "hook and then call the kubernetes api",
    "start": "464639",
    "end": "466639"
  },
  {
    "text": "and say i want a few more pods that make",
    "start": "466639",
    "end": "468560"
  },
  {
    "text": "sense",
    "start": "468560",
    "end": "470080"
  },
  {
    "text": "yeah i'm seeing nodding and so this is a",
    "start": "470080",
    "end": "472400"
  },
  {
    "text": "very basic query and i myself couldn't",
    "start": "472400",
    "end": "475599"
  },
  {
    "text": "really believe that this was useful in",
    "start": "475599",
    "end": "477280"
  },
  {
    "text": "production but it turned out that it was",
    "start": "477280",
    "end": "479520"
  },
  {
    "text": "for one reason or another",
    "start": "479520",
    "end": "481199"
  },
  {
    "text": "up until about 2021",
    "start": "481199",
    "end": "484560"
  },
  {
    "text": "and that's where we started to see",
    "start": "484560",
    "end": "486560"
  },
  {
    "text": "a few more edge cases",
    "start": "486560",
    "end": "488479"
  },
  {
    "text": "so after the web hook had fired we'd go",
    "start": "488479",
    "end": "490720"
  },
  {
    "text": "proportionally up in our replicas",
    "start": "490720",
    "end": "492879"
  },
  {
    "text": "if that was firing still",
    "start": "492879",
    "end": "495360"
  },
  {
    "text": "we'd go proportionally up again and up",
    "start": "495360",
    "end": "497520"
  },
  {
    "text": "again until we hit the ceiling and then",
    "start": "497520",
    "end": "499520"
  },
  {
    "text": "we'd have maximum",
    "start": "499520",
    "end": "502400"
  },
  {
    "text": "so this is what it looked like at",
    "start": "503440",
    "end": "504879"
  },
  {
    "text": "dockacon back then we had the big amount",
    "start": "504879",
    "end": "507680"
  },
  {
    "text": "of red metrics so rate error duration",
    "start": "507680",
    "end": "510720"
  },
  {
    "text": "and then look at that right on that side",
    "start": "510720",
    "end": "513360"
  },
  {
    "text": "of the screen do you see what happened",
    "start": "513360",
    "end": "514959"
  },
  {
    "text": "we went immediately back to minimum",
    "start": "514959",
    "end": "516880"
  },
  {
    "text": "replicas as soon as the traffic had",
    "start": "516880",
    "end": "519039"
  },
  {
    "text": "abated and that might not be what you",
    "start": "519039",
    "end": "521120"
  },
  {
    "text": "want in production",
    "start": "521120",
    "end": "522800"
  },
  {
    "text": "right if it's more sporadic",
    "start": "522800",
    "end": "525279"
  },
  {
    "text": "so bear that in mind the other thing",
    "start": "525279",
    "end": "527279"
  },
  {
    "text": "that we had was scale to xero",
    "start": "527279",
    "end": "529760"
  },
  {
    "text": "an internal customer of openvas at the",
    "start": "529760",
    "end": "531680"
  },
  {
    "text": "time had a gcp account that three of",
    "start": "531680",
    "end": "534480"
  },
  {
    "text": "them they were using open files in their",
    "start": "534480",
    "end": "536399"
  },
  {
    "text": "product and they just said look we're",
    "start": "536399",
    "end": "538000"
  },
  {
    "text": "spending so much money with all of these",
    "start": "538000",
    "end": "539920"
  },
  {
    "text": "nodes up could we just scale these",
    "start": "539920",
    "end": "542000"
  },
  {
    "text": "functions back because we're not using",
    "start": "542000",
    "end": "543519"
  },
  {
    "text": "them and get the money back",
    "start": "543519",
    "end": "545839"
  },
  {
    "text": "and it never really been that",
    "start": "545839",
    "end": "547360"
  },
  {
    "text": "interesting for open fires and even",
    "start": "547360",
    "end": "548880"
  },
  {
    "text": "today the default is to have one replica",
    "start": "548880",
    "end": "550800"
  },
  {
    "text": "all the time so there's no cold start",
    "start": "550800",
    "end": "553600"
  },
  {
    "text": "but we built it",
    "start": "553600",
    "end": "554880"
  },
  {
    "text": "and because prometheus had been so",
    "start": "554880",
    "end": "557200"
  },
  {
    "text": "useful",
    "start": "557200",
    "end": "558240"
  },
  {
    "text": "we just put a demon in there it ran from",
    "start": "558240",
    "end": "560800"
  },
  {
    "text": "ql periodically for all the functions",
    "start": "560800",
    "end": "563200"
  },
  {
    "text": "and if there was no metrics or it was at",
    "start": "563200",
    "end": "564800"
  },
  {
    "text": "zero we're pretty sure we could scale it",
    "start": "564800",
    "end": "566480"
  },
  {
    "text": "down",
    "start": "566480",
    "end": "567839"
  },
  {
    "text": "except",
    "start": "567839",
    "end": "569040"
  },
  {
    "text": "and perhaps you already thinking this",
    "start": "569040",
    "end": "571519"
  },
  {
    "text": "there is a bit of a lag when you scrape",
    "start": "571519",
    "end": "573760"
  },
  {
    "text": "isn't there",
    "start": "573760",
    "end": "575120"
  },
  {
    "text": "and so what might happen is",
    "start": "575120",
    "end": "577040"
  },
  {
    "text": "you invoke the function",
    "start": "577040",
    "end": "579519"
  },
  {
    "text": "it then eventually goes off the query",
    "start": "579519",
    "end": "581279"
  },
  {
    "text": "and we're back to zero",
    "start": "581279",
    "end": "582880"
  },
  {
    "text": "we query the data and it says zero then",
    "start": "582880",
    "end": "585600"
  },
  {
    "text": "we invoke it and then we scrape it",
    "start": "585600",
    "end": "588480"
  },
  {
    "text": "and if we check in between then then we",
    "start": "588480",
    "end": "591440"
  },
  {
    "text": "can get a gap so we've done quite a lot",
    "start": "591440",
    "end": "593760"
  },
  {
    "text": "of work about graceful draining of",
    "start": "593760",
    "end": "596080"
  },
  {
    "text": "requests now",
    "start": "596080",
    "end": "597760"
  },
  {
    "text": "anybody here done graceful draining it's",
    "start": "597760",
    "end": "600640"
  },
  {
    "text": "a pain in the neck",
    "start": "600640",
    "end": "602240"
  },
  {
    "text": "and kubernetes doesn't make it any",
    "start": "602240",
    "end": "603760"
  },
  {
    "text": "easier so we automate a lot of that for",
    "start": "603760",
    "end": "605839"
  },
  {
    "text": "you as well right so you're not going to",
    "start": "605839",
    "end": "607519"
  },
  {
    "text": "suddenly drop production data",
    "start": "607519",
    "end": "610880"
  },
  {
    "text": "okay",
    "start": "610880",
    "end": "612240"
  },
  {
    "text": "so one of the things about open files is",
    "start": "612240",
    "end": "614000"
  },
  {
    "text": "we're really trying to make the",
    "start": "614000",
    "end": "614959"
  },
  {
    "text": "developer experience simple",
    "start": "614959",
    "end": "617279"
  },
  {
    "text": "compare this to your average pod spec",
    "start": "617279",
    "end": "621680"
  },
  {
    "text": "two fields the function name",
    "start": "621920",
    "end": "625120"
  },
  {
    "text": "the image is pretty much all you need",
    "start": "625120",
    "end": "627920"
  },
  {
    "text": "and then we've got labels to help you",
    "start": "627920",
    "end": "629920"
  },
  {
    "text": "tune the auto scaling and this is the",
    "start": "629920",
    "end": "631440"
  },
  {
    "text": "old way",
    "start": "631440",
    "end": "633839"
  },
  {
    "text": "but we had some issues right so we only",
    "start": "634399",
    "end": "636800"
  },
  {
    "text": "had that one generic rule so i could say",
    "start": "636800",
    "end": "639040"
  },
  {
    "text": "i want 10 requests per second or 100 but",
    "start": "639040",
    "end": "641040"
  },
  {
    "text": "i couldn't have both for two different",
    "start": "641040",
    "end": "642560"
  },
  {
    "text": "functions",
    "start": "642560",
    "end": "643839"
  },
  {
    "text": "as i say i was sort of surprised that",
    "start": "643839",
    "end": "645360"
  },
  {
    "text": "this was useful in production",
    "start": "645360",
    "end": "647600"
  },
  {
    "text": "but it was",
    "start": "647600",
    "end": "648959"
  },
  {
    "text": "long running functions would never",
    "start": "648959",
    "end": "651440"
  },
  {
    "text": "trigger the alert because if we're doing",
    "start": "651440",
    "end": "653839"
  },
  {
    "text": "10 requests per second and we're taking",
    "start": "653839",
    "end": "655760"
  },
  {
    "text": "20 seconds to do one we're not really",
    "start": "655760",
    "end": "657600"
  },
  {
    "text": "got much data there",
    "start": "657600",
    "end": "659839"
  },
  {
    "text": "cpu bound functions like ml models",
    "start": "659839",
    "end": "663200"
  },
  {
    "text": "they just didn't really work with this",
    "start": "663200",
    "end": "664560"
  },
  {
    "text": "either",
    "start": "664560",
    "end": "666320"
  },
  {
    "text": "and then hpa v2 you're probably thinking",
    "start": "666320",
    "end": "668720"
  },
  {
    "text": "why didn't you just use this alex",
    "start": "668720",
    "end": "669920"
  },
  {
    "text": "someone said that in the break",
    "start": "669920",
    "end": "671839"
  },
  {
    "text": "we did have some customers using it but",
    "start": "671839",
    "end": "673519"
  },
  {
    "text": "they found it incredibly hard to",
    "start": "673519",
    "end": "675600"
  },
  {
    "text": "integrate because they had to manage the",
    "start": "675600",
    "end": "677120"
  },
  {
    "text": "objects themselves",
    "start": "677120",
    "end": "680079"
  },
  {
    "text": "and then finally i did sort of mention",
    "start": "680079",
    "end": "681920"
  },
  {
    "text": "there's some edge cases on scale to zero",
    "start": "681920",
    "end": "683680"
  },
  {
    "text": "that you have to be aware of",
    "start": "683680",
    "end": "685920"
  },
  {
    "text": "so we had a new go had another go at",
    "start": "685920",
    "end": "687680"
  },
  {
    "text": "this and this time",
    "start": "687680",
    "end": "689519"
  },
  {
    "text": "unlike in 2016 when i was in my bedroom",
    "start": "689519",
    "end": "691839"
  },
  {
    "text": "having a cool idea we actually had",
    "start": "691839",
    "end": "694480"
  },
  {
    "text": "customers paying us",
    "start": "694480",
    "end": "696880"
  },
  {
    "text": "who could tell us how they were using it",
    "start": "696880",
    "end": "699360"
  },
  {
    "text": "so kevin from search",
    "start": "699360",
    "end": "701200"
  },
  {
    "text": "imports mortgage data and he does it",
    "start": "701200",
    "end": "703040"
  },
  {
    "text": "every day they have a huge amount of",
    "start": "703040",
    "end": "704880"
  },
  {
    "text": "mortgage data",
    "start": "704880",
    "end": "706320"
  },
  {
    "text": "and then they have a sales force",
    "start": "706320",
    "end": "708000"
  },
  {
    "text": "integration and they can give a credit",
    "start": "708000",
    "end": "710160"
  },
  {
    "text": "rating for customers of their customers",
    "start": "710160",
    "end": "713360"
  },
  {
    "text": "makes sense",
    "start": "713360",
    "end": "714560"
  },
  {
    "text": "it sounds quite useful doesn't it",
    "start": "714560",
    "end": "716399"
  },
  {
    "text": "and what he needed was to scale up as",
    "start": "716399",
    "end": "719040"
  },
  {
    "text": "quickly as possible but be limited so",
    "start": "719040",
    "end": "721440"
  },
  {
    "text": "that a pod wouldn't do more than a",
    "start": "721440",
    "end": "722720"
  },
  {
    "text": "couple of requests at a time it was",
    "start": "722720",
    "end": "724480"
  },
  {
    "text": "quite intensive",
    "start": "724480",
    "end": "726320"
  },
  {
    "text": "so we built an in-flight request mode",
    "start": "726320",
    "end": "728560"
  },
  {
    "text": "which is started but not finished",
    "start": "728560",
    "end": "730720"
  },
  {
    "text": "requests almost like a queue depth",
    "start": "730720",
    "end": "732720"
  },
  {
    "text": "and that serves his use case really well",
    "start": "732720",
    "end": "735600"
  },
  {
    "text": "the other one was request per second and",
    "start": "735600",
    "end": "737920"
  },
  {
    "text": "we made that more tunable because",
    "start": "737920",
    "end": "739839"
  },
  {
    "text": "clearly one value for the entire system",
    "start": "739839",
    "end": "741760"
  },
  {
    "text": "is",
    "start": "741760",
    "end": "742399"
  },
  {
    "text": "you know it shouldn't be useful",
    "start": "742399",
    "end": "744800"
  },
  {
    "text": "so",
    "start": "744800",
    "end": "745600"
  },
  {
    "text": "william is importing security logs dns",
    "start": "745600",
    "end": "749200"
  },
  {
    "text": "logs potentially any other alerts that",
    "start": "749200",
    "end": "751839"
  },
  {
    "text": "are coming from all kinds of legacy",
    "start": "751839",
    "end": "753200"
  },
  {
    "text": "systems",
    "start": "753200",
    "end": "754240"
  },
  {
    "text": "running them through different functions",
    "start": "754240",
    "end": "756079"
  },
  {
    "text": "and the requests",
    "start": "756079",
    "end": "757360"
  },
  {
    "text": "per second scaling is really effective",
    "start": "757360",
    "end": "759440"
  },
  {
    "text": "for them at checkpoint software",
    "start": "759440",
    "end": "761920"
  },
  {
    "text": "and then finally the cpu is one that i",
    "start": "761920",
    "end": "764880"
  },
  {
    "text": "thought we just wouldn't need because",
    "start": "764880",
    "end": "766800"
  },
  {
    "text": "red metrics is supposed to be the trendy",
    "start": "766800",
    "end": "768959"
  },
  {
    "text": "new way of doing everything and use",
    "start": "768959",
    "end": "771279"
  },
  {
    "text": "metrics as like the old google way of",
    "start": "771279",
    "end": "773600"
  },
  {
    "text": "doing it",
    "start": "773600",
    "end": "774880"
  },
  {
    "text": "but it turned out that they wanted cpu",
    "start": "774880",
    "end": "776880"
  },
  {
    "text": "and",
    "start": "776880",
    "end": "777600"
  },
  {
    "text": "as we looked at the data found that we",
    "start": "777600",
    "end": "779360"
  },
  {
    "text": "could get it",
    "start": "779360",
    "end": "780639"
  },
  {
    "text": "and do it all in one way and they use",
    "start": "780639",
    "end": "782480"
  },
  {
    "text": "that for their ml models",
    "start": "782480",
    "end": "784480"
  },
  {
    "text": "so",
    "start": "784480",
    "end": "786160"
  },
  {
    "text": "how does the new version work well alert",
    "start": "786160",
    "end": "788320"
  },
  {
    "text": "manager went away and we have an",
    "start": "788320",
    "end": "789680"
  },
  {
    "text": "autoscaler daemon",
    "start": "789680",
    "end": "791519"
  },
  {
    "text": "its job is to query",
    "start": "791519",
    "end": "793600"
  },
  {
    "text": "periodically prometheus with prom ql",
    "start": "793600",
    "end": "797360"
  },
  {
    "text": "we also get metrics from the cubelet",
    "start": "797360",
    "end": "799440"
  },
  {
    "text": "which eventually gets them from c",
    "start": "799440",
    "end": "801040"
  },
  {
    "text": "advisor and that gives us usage",
    "start": "801040",
    "end": "802639"
  },
  {
    "text": "saturation and some time down the line",
    "start": "802639",
    "end": "805200"
  },
  {
    "text": "we might get errors as well we don't get",
    "start": "805200",
    "end": "807519"
  },
  {
    "text": "resource errors right now",
    "start": "807519",
    "end": "810720"
  },
  {
    "text": "the labels change slightly as well we",
    "start": "810880",
    "end": "812720"
  },
  {
    "text": "have three modes cpu which you guys can",
    "start": "812720",
    "end": "816160"
  },
  {
    "text": "probably understand quite well capacity",
    "start": "816160",
    "end": "818639"
  },
  {
    "text": "which has started not finished requests",
    "start": "818639",
    "end": "821199"
  },
  {
    "text": "and the last one is the rps from before",
    "start": "821199",
    "end": "823839"
  },
  {
    "text": "and a bit like hpa",
    "start": "823839",
    "end": "825920"
  },
  {
    "text": "to provide that familiarity we'll say",
    "start": "825920",
    "end": "828160"
  },
  {
    "text": "the target is that pod can only do 500",
    "start": "828160",
    "end": "831760"
  },
  {
    "text": "mi",
    "start": "831760",
    "end": "832639"
  },
  {
    "text": "like half a core if it's doing any more",
    "start": "832639",
    "end": "835040"
  },
  {
    "text": "we might need two pods",
    "start": "835040",
    "end": "837600"
  },
  {
    "text": "um",
    "start": "837600",
    "end": "838720"
  },
  {
    "text": "and so that gives us a level of",
    "start": "838720",
    "end": "840240"
  },
  {
    "text": "compatibility and people can just adopt",
    "start": "840240",
    "end": "842480"
  },
  {
    "text": "this without installing cada or hpa or",
    "start": "842480",
    "end": "845440"
  },
  {
    "text": "whole new load of software",
    "start": "845440",
    "end": "847680"
  },
  {
    "text": "and then the scale to xero now has a",
    "start": "847680",
    "end": "849519"
  },
  {
    "text": "specific time per function because we",
    "start": "849519",
    "end": "851600"
  },
  {
    "text": "had some functions that should scale",
    "start": "851600",
    "end": "853040"
  },
  {
    "text": "down after an hour and some almost",
    "start": "853040",
    "end": "854959"
  },
  {
    "text": "immediately",
    "start": "854959",
    "end": "856560"
  },
  {
    "text": "okay so",
    "start": "856560",
    "end": "858560"
  },
  {
    "text": "if you can't see this at the back",
    "start": "858560",
    "end": "860639"
  },
  {
    "text": "what we have is a single metric which is",
    "start": "860639",
    "end": "863040"
  },
  {
    "text": "from a recording rule",
    "start": "863040",
    "end": "864959"
  },
  {
    "text": "and we're able to say",
    "start": "864959",
    "end": "866639"
  },
  {
    "text": "or a function name and the scaling type",
    "start": "866639",
    "end": "870320"
  },
  {
    "text": "what is the load right now",
    "start": "870320",
    "end": "872480"
  },
  {
    "text": "and the load is 1800 mi milli cpus",
    "start": "872480",
    "end": "876399"
  },
  {
    "text": "we divide that by the target of the",
    "start": "876399",
    "end": "878160"
  },
  {
    "text": "function which is 500 milli cpus it",
    "start": "878160",
    "end": "880320"
  },
  {
    "text": "gives us 3.6",
    "start": "880320",
    "end": "882000"
  },
  {
    "text": "on the other side we know we have three",
    "start": "882000",
    "end": "883920"
  },
  {
    "text": "pods 500 each so we're clearly slightly",
    "start": "883920",
    "end": "887519"
  },
  {
    "text": "under provisioned and if we seal that",
    "start": "887519",
    "end": "889680"
  },
  {
    "text": "number we get four",
    "start": "889680",
    "end": "892000"
  },
  {
    "text": "therefore we just schedule four pods",
    "start": "892000",
    "end": "895360"
  },
  {
    "text": "and that same algorithm and prometheus",
    "start": "895360",
    "end": "897360"
  },
  {
    "text": "metric works for all of the strategies",
    "start": "897360",
    "end": "899519"
  },
  {
    "text": "we've built and any rebuild in the",
    "start": "899519",
    "end": "900800"
  },
  {
    "text": "future",
    "start": "900800",
    "end": "901760"
  },
  {
    "text": "would work in the same way",
    "start": "901760",
    "end": "904480"
  },
  {
    "text": "and now our dashboard is so much more",
    "start": "904480",
    "end": "906720"
  },
  {
    "text": "useful than the one i showed you from",
    "start": "906720",
    "end": "908079"
  },
  {
    "text": "dockercon because we can correlate the",
    "start": "908079",
    "end": "911040"
  },
  {
    "text": "cpu usage just for the functions with no",
    "start": "911040",
    "end": "913600"
  },
  {
    "text": "noise from the rest of the system",
    "start": "913600",
    "end": "916560"
  },
  {
    "text": "with the duration any retries the delays",
    "start": "916560",
    "end": "921760"
  },
  {
    "text": "and the scaling and here what i did is i",
    "start": "921760",
    "end": "924079"
  },
  {
    "text": "invoked a function that was concurrency",
    "start": "924079",
    "end": "926079"
  },
  {
    "text": "limited",
    "start": "926079",
    "end": "927120"
  },
  {
    "text": "it had to retry a whole bunch of times",
    "start": "927120",
    "end": "928959"
  },
  {
    "text": "which is this peak and eventually it",
    "start": "928959",
    "end": "931120"
  },
  {
    "text": "completed all the work and it scaled",
    "start": "931120",
    "end": "933040"
  },
  {
    "text": "back again",
    "start": "933040",
    "end": "934959"
  },
  {
    "text": "and so we're giving this dashboard to",
    "start": "934959",
    "end": "936399"
  },
  {
    "text": "customers now because they just have no",
    "start": "936399",
    "end": "938560"
  },
  {
    "text": "clue how to run the system it's very",
    "start": "938560",
    "end": "940160"
  },
  {
    "text": "hard to run anything distributed we give",
    "start": "940160",
    "end": "942399"
  },
  {
    "text": "them this and when there's a problem",
    "start": "942399",
    "end": "944800"
  },
  {
    "text": "they can go to it and we can ask them",
    "start": "944800",
    "end": "946399"
  },
  {
    "text": "questions as well",
    "start": "946399",
    "end": "948079"
  },
  {
    "text": "maybe you have similar things for your",
    "start": "948079",
    "end": "949839"
  },
  {
    "text": "internal customers",
    "start": "949839",
    "end": "951920"
  },
  {
    "text": "okay so",
    "start": "951920",
    "end": "953440"
  },
  {
    "text": "pod usage total seconds",
    "start": "953440",
    "end": "956480"
  },
  {
    "text": "if you recognize this it comes",
    "start": "956480",
    "end": "958480"
  },
  {
    "text": "eventually from c advisor",
    "start": "958480",
    "end": "960639"
  },
  {
    "text": "and",
    "start": "960639",
    "end": "961440"
  },
  {
    "text": "what we'll find",
    "start": "961440",
    "end": "962959"
  },
  {
    "text": "is that it's got stuff like alert",
    "start": "962959",
    "end": "964320"
  },
  {
    "text": "manager and even open version we don't",
    "start": "964320",
    "end": "966320"
  },
  {
    "text": "care about that the customers only care",
    "start": "966320",
    "end": "968639"
  },
  {
    "text": "about functions",
    "start": "968639",
    "end": "970399"
  },
  {
    "text": "but there's nothing in here there's no",
    "start": "970399",
    "end": "971920"
  },
  {
    "text": "cardinality like a label that says it's",
    "start": "971920",
    "end": "973920"
  },
  {
    "text": "a function",
    "start": "973920",
    "end": "974880"
  },
  {
    "text": "so how do you fix it",
    "start": "974880",
    "end": "978000"
  },
  {
    "text": "perhaps you can filter it out",
    "start": "978800",
    "end": "980959"
  },
  {
    "text": "and so if you've got at least one label",
    "start": "980959",
    "end": "982800"
  },
  {
    "text": "in there that you can match with a data",
    "start": "982800",
    "end": "984480"
  },
  {
    "text": "set that lists all your functions you",
    "start": "984480",
    "end": "986800"
  },
  {
    "text": "can then clear that down and you won't",
    "start": "986800",
    "end": "988959"
  },
  {
    "text": "have that kind of data spilling out on",
    "start": "988959",
    "end": "990560"
  },
  {
    "text": "your dashboard so",
    "start": "990560",
    "end": "992079"
  },
  {
    "text": "anybody here think that might be useful",
    "start": "992079",
    "end": "993600"
  },
  {
    "text": "to them",
    "start": "993600",
    "end": "994560"
  },
  {
    "text": "filtering joining data",
    "start": "994560",
    "end": "996639"
  },
  {
    "text": "this is what you need",
    "start": "996639",
    "end": "998240"
  },
  {
    "text": "so we have our query",
    "start": "998240",
    "end": "1000800"
  },
  {
    "text": "by the key",
    "start": "1000800",
    "end": "1003199"
  },
  {
    "text": "then we can put a times",
    "start": "1003199",
    "end": "1005440"
  },
  {
    "text": "and on",
    "start": "1005440",
    "end": "1006720"
  },
  {
    "text": "and this is the important thing we need",
    "start": "1006720",
    "end": "1008000"
  },
  {
    "text": "to have something common in both sets",
    "start": "1008000",
    "end": "1009519"
  },
  {
    "text": "and then we can filter out",
    "start": "1009519",
    "end": "1011360"
  },
  {
    "text": "all of the stuff that is not in gateway",
    "start": "1011360",
    "end": "1013440"
  },
  {
    "text": "service account which is our replicas",
    "start": "1013440",
    "end": "1014880"
  },
  {
    "text": "per function",
    "start": "1014880",
    "end": "1017440"
  },
  {
    "text": "and what that means is that we then need",
    "start": "1017839",
    "end": "1020399"
  },
  {
    "text": "to kind of think about this data we've",
    "start": "1020399",
    "end": "1022000"
  },
  {
    "text": "got from c advisor and from open faz's",
    "start": "1022000",
    "end": "1025120"
  },
  {
    "text": "gateway how do we look at it in one view",
    "start": "1025120",
    "end": "1027678"
  },
  {
    "text": "well recording rules were really helpful",
    "start": "1027679",
    "end": "1029839"
  },
  {
    "text": "here because now i've just got one thing",
    "start": "1029839",
    "end": "1032160"
  },
  {
    "text": "to look at",
    "start": "1032160",
    "end": "1034160"
  },
  {
    "text": "you won't be able to read this from the",
    "start": "1034160",
    "end": "1035438"
  },
  {
    "text": "back but that's quite a lot of prom ql",
    "start": "1035439",
    "end": "1038480"
  },
  {
    "text": "that's the prom ql for each of the three",
    "start": "1038480",
    "end": "1040720"
  },
  {
    "text": "strategies",
    "start": "1040720",
    "end": "1042880"
  },
  {
    "text": "if i wanted to just run one query i'd",
    "start": "1042880",
    "end": "1045120"
  },
  {
    "text": "have to find some way of matching all of",
    "start": "1045120",
    "end": "1047120"
  },
  {
    "text": "those tables together all those views",
    "start": "1047120",
    "end": "1049760"
  },
  {
    "text": "and having one piece of prompt cure now",
    "start": "1049760",
    "end": "1051360"
  },
  {
    "text": "that just is so difficult",
    "start": "1051360",
    "end": "1054000"
  },
  {
    "text": "and a friend of mine from the project",
    "start": "1054000",
    "end": "1055440"
  },
  {
    "text": "said why don't you use recording rules",
    "start": "1055440",
    "end": "1057520"
  },
  {
    "text": "anybody using a recording rule",
    "start": "1057520",
    "end": "1060559"
  },
  {
    "text": "so okay i'm preaching to the choir like",
    "start": "1060559",
    "end": "1062799"
  },
  {
    "text": "i only found out about these this year",
    "start": "1062799",
    "end": "1064799"
  },
  {
    "text": "and so now i emit a label for each of",
    "start": "1064799",
    "end": "1067360"
  },
  {
    "text": "them and look how simple that becomes",
    "start": "1067360",
    "end": "1070480"
  },
  {
    "text": "that gives us the request per second",
    "start": "1070480",
    "end": "1073120"
  },
  {
    "text": "metric that we needed so record",
    "start": "1073120",
    "end": "1076000"
  },
  {
    "text": "expression",
    "start": "1076000",
    "end": "1077280"
  },
  {
    "text": "and labels definitely have a look if",
    "start": "1077280",
    "end": "1078960"
  },
  {
    "text": "you've not",
    "start": "1078960",
    "end": "1080400"
  },
  {
    "text": "and now we've got two",
    "start": "1080400",
    "end": "1081919"
  },
  {
    "text": "so we've got the rps in there and we",
    "start": "1081919",
    "end": "1083760"
  },
  {
    "text": "have the other strategy",
    "start": "1083760",
    "end": "1086640"
  },
  {
    "text": "now",
    "start": "1086640",
    "end": "1087600"
  },
  {
    "text": "one thing i didn't expect is by putting",
    "start": "1087600",
    "end": "1090240"
  },
  {
    "text": "this data into the one chart it would",
    "start": "1090240",
    "end": "1092559"
  },
  {
    "text": "help customers immediately get value",
    "start": "1092559",
    "end": "1095280"
  },
  {
    "text": "because we all know about cube state",
    "start": "1095280",
    "end": "1096720"
  },
  {
    "text": "metrics we've read all the blog posts",
    "start": "1096720",
    "end": "1099039"
  },
  {
    "text": "we've been on stack overflow but billy",
    "start": "1099039",
    "end": "1101520"
  },
  {
    "text": "that i showed you earlier he forgot to",
    "start": "1101520",
    "end": "1103600"
  },
  {
    "text": "put body.close",
    "start": "1103600",
    "end": "1105919"
  },
  {
    "text": "who else has done that",
    "start": "1105919",
    "end": "1107520"
  },
  {
    "text": "i've done it yeah um it's an honest",
    "start": "1107520",
    "end": "1110160"
  },
  {
    "text": "mistake to make and so he detected a",
    "start": "1110160",
    "end": "1112559"
  },
  {
    "text": "memory leak not a big one but maybe five",
    "start": "1112559",
    "end": "1115440"
  },
  {
    "text": "megabytes",
    "start": "1115440",
    "end": "1116720"
  },
  {
    "text": "every every megabyte counts",
    "start": "1116720",
    "end": "1118799"
  },
  {
    "text": "and um you can see when he redeployed it",
    "start": "1118799",
    "end": "1121600"
  },
  {
    "text": "it stayed very stable and dropped back",
    "start": "1121600",
    "end": "1123360"
  },
  {
    "text": "off again",
    "start": "1123360",
    "end": "1125840"
  },
  {
    "text": "so thanks to prometheus and providing",
    "start": "1126000",
    "end": "1128320"
  },
  {
    "text": "new data we're able to actually see",
    "start": "1128320",
    "end": "1130240"
  },
  {
    "text": "things we weren't seeing before",
    "start": "1130240",
    "end": "1133280"
  },
  {
    "text": "not only that but because we've got the",
    "start": "1133280",
    "end": "1135840"
  },
  {
    "text": "data we can now",
    "start": "1135840",
    "end": "1137600"
  },
  {
    "text": "infuse it into the openfast rest api",
    "start": "1137600",
    "end": "1140480"
  },
  {
    "text": "it's the same when you deploy functions",
    "start": "1140480",
    "end": "1142240"
  },
  {
    "text": "with you can list functions",
    "start": "1142240",
    "end": "1144640"
  },
  {
    "text": "we can put it in our ui i was a bit",
    "start": "1144640",
    "end": "1146720"
  },
  {
    "text": "concerned about this before because i",
    "start": "1146720",
    "end": "1148559"
  },
  {
    "text": "thought if we're going to query prom ql",
    "start": "1148559",
    "end": "1150640"
  },
  {
    "text": "every time we show this data could it be",
    "start": "1150640",
    "end": "1152720"
  },
  {
    "text": "slow",
    "start": "1152720",
    "end": "1154559"
  },
  {
    "text": "could it add overhead um linkadi do it",
    "start": "1154559",
    "end": "1157840"
  },
  {
    "text": "in their product um other products do",
    "start": "1157840",
    "end": "1159760"
  },
  {
    "text": "the same thing so i thought we'd give it",
    "start": "1159760",
    "end": "1161440"
  },
  {
    "text": "a go and it seems okay",
    "start": "1161440",
    "end": "1163919"
  },
  {
    "text": "if it becomes an issue maybe cache the",
    "start": "1163919",
    "end": "1165679"
  },
  {
    "text": "data",
    "start": "1165679",
    "end": "1166559"
  },
  {
    "text": "but what this now does is give us a live",
    "start": "1166559",
    "end": "1168480"
  },
  {
    "text": "view of the aggregate amount of cpu and",
    "start": "1168480",
    "end": "1170480"
  },
  {
    "text": "ram for any of the functions in the",
    "start": "1170480",
    "end": "1172240"
  },
  {
    "text": "cluster click on them immediately we",
    "start": "1172240",
    "end": "1174160"
  },
  {
    "text": "know",
    "start": "1174160",
    "end": "1174960"
  },
  {
    "text": "we didn't have this data before",
    "start": "1174960",
    "end": "1178080"
  },
  {
    "text": "now on to a few of the tips as we've got",
    "start": "1178080",
    "end": "1180000"
  },
  {
    "text": "about 10 minutes to roll down",
    "start": "1180000",
    "end": "1182320"
  },
  {
    "text": "um",
    "start": "1182320",
    "end": "1184080"
  },
  {
    "text": "who's seen a query like this before",
    "start": "1184080",
    "end": "1186320"
  },
  {
    "text": "it's a service discovery node",
    "start": "1186320",
    "end": "1189600"
  },
  {
    "text": "obviously we've got yeah service",
    "start": "1189600",
    "end": "1191039"
  },
  {
    "text": "discovery pods is very common um back",
    "start": "1191039",
    "end": "1193919"
  },
  {
    "text": "before we're using kubernetes when we're",
    "start": "1193919",
    "end": "1195440"
  },
  {
    "text": "on docker swarm there was one for that",
    "start": "1195440",
    "end": "1197039"
  },
  {
    "text": "and there was a dns",
    "start": "1197039",
    "end": "1198559"
  },
  {
    "text": "discovery",
    "start": "1198559",
    "end": "1199840"
  },
  {
    "text": "this is really clever and i think it",
    "start": "1199840",
    "end": "1202080"
  },
  {
    "text": "came from cube state metric so thank you",
    "start": "1202080",
    "end": "1205039"
  },
  {
    "text": "what it allows us to do is get all the",
    "start": "1205039",
    "end": "1207120"
  },
  {
    "text": "node names",
    "start": "1207120",
    "end": "1208480"
  },
  {
    "text": "and then put them into this url proxy",
    "start": "1208480",
    "end": "1210880"
  },
  {
    "text": "metrics resource and that goes straight",
    "start": "1210880",
    "end": "1212400"
  },
  {
    "text": "to c advisor",
    "start": "1212400",
    "end": "1213760"
  },
  {
    "text": "now that means openfast can remain very",
    "start": "1213760",
    "end": "1216080"
  },
  {
    "text": "lightweight",
    "start": "1216080",
    "end": "1217840"
  },
  {
    "text": "we just have our own copy of prometheus",
    "start": "1217840",
    "end": "1219919"
  },
  {
    "text": "it only collects our metrics it scrapes",
    "start": "1219919",
    "end": "1222320"
  },
  {
    "text": "very frequently and it throws data away",
    "start": "1222320",
    "end": "1224480"
  },
  {
    "text": "very frequently as well",
    "start": "1224480",
    "end": "1226799"
  },
  {
    "text": "and so we sort of black box that in or",
    "start": "1226799",
    "end": "1228880"
  },
  {
    "text": "package it in together all in one stack",
    "start": "1228880",
    "end": "1230880"
  },
  {
    "text": "so there's just one helm chart to",
    "start": "1230880",
    "end": "1232080"
  },
  {
    "text": "install so we added this and that gives",
    "start": "1232080",
    "end": "1234559"
  },
  {
    "text": "us that extra data",
    "start": "1234559",
    "end": "1237440"
  },
  {
    "text": "but as i said before filtering sometimes",
    "start": "1237679",
    "end": "1240880"
  },
  {
    "text": "can help you but what if the data is in",
    "start": "1240880",
    "end": "1242240"
  },
  {
    "text": "the wrong format",
    "start": "1242240",
    "end": "1244080"
  },
  {
    "text": "now regex is very easy to write if you",
    "start": "1244080",
    "end": "1247200"
  },
  {
    "text": "want to match a phone number or a to b",
    "start": "1247200",
    "end": "1250320"
  },
  {
    "text": "zero to nine but this was a bit harder",
    "start": "1250320",
    "end": "1254400"
  },
  {
    "text": "and what we have here is i wanted sleep",
    "start": "1254400",
    "end": "1256640"
  },
  {
    "text": "dot",
    "start": "1256640",
    "end": "1257520"
  },
  {
    "text": "open first function.namespace because i",
    "start": "1257520",
    "end": "1260400"
  },
  {
    "text": "have to join a lot of data together",
    "start": "1260400",
    "end": "1262720"
  },
  {
    "text": "so somehow we had to throw off all those",
    "start": "1262720",
    "end": "1265440"
  },
  {
    "text": "characters at the end and then combine",
    "start": "1265440",
    "end": "1268000"
  },
  {
    "text": "that with the namespace",
    "start": "1268000",
    "end": "1270240"
  },
  {
    "text": "as a new label",
    "start": "1270240",
    "end": "1271840"
  },
  {
    "text": "and originally i was going to write a",
    "start": "1271840",
    "end": "1273520"
  },
  {
    "text": "daemon",
    "start": "1273520",
    "end": "1274799"
  },
  {
    "text": "that was going to run the daemon i was",
    "start": "1274799",
    "end": "1276240"
  },
  {
    "text": "going to",
    "start": "1276240",
    "end": "1277200"
  },
  {
    "text": "read the data emit the data scrape the",
    "start": "1277200",
    "end": "1279520"
  },
  {
    "text": "data and use that and this was just so",
    "start": "1279520",
    "end": "1281520"
  },
  {
    "text": "much easier to do",
    "start": "1281520",
    "end": "1283679"
  },
  {
    "text": "and so that is what it ends up looking",
    "start": "1283679",
    "end": "1285840"
  },
  {
    "text": "like",
    "start": "1285840",
    "end": "1287600"
  },
  {
    "text": "if you think that would be useful you",
    "start": "1287600",
    "end": "1289360"
  },
  {
    "text": "can get the slides later",
    "start": "1289360",
    "end": "1291679"
  },
  {
    "text": "or come and ask me for this",
    "start": "1291679",
    "end": "1293440"
  },
  {
    "text": "so we just match the first part we throw",
    "start": "1293440",
    "end": "1295200"
  },
  {
    "text": "away the rest",
    "start": "1295200",
    "end": "1297120"
  },
  {
    "text": "and then",
    "start": "1297120",
    "end": "1298480"
  },
  {
    "text": "this is quite cool we can emit a new",
    "start": "1298480",
    "end": "1300640"
  },
  {
    "text": "label by joining two together so first",
    "start": "1300640",
    "end": "1303039"
  },
  {
    "text": "of all we got roughly the deployment",
    "start": "1303039",
    "end": "1304720"
  },
  {
    "text": "name and we emit a new one",
    "start": "1304720",
    "end": "1307840"
  },
  {
    "text": "which has the which is called function",
    "start": "1307840",
    "end": "1309440"
  },
  {
    "text": "name and that matches to everything",
    "start": "1309440",
    "end": "1310880"
  },
  {
    "text": "we've already got",
    "start": "1310880",
    "end": "1313440"
  },
  {
    "text": "i want to ask you if you've ever run",
    "start": "1315280",
    "end": "1317600"
  },
  {
    "text": "into this problem what do you think",
    "start": "1317600",
    "end": "1319120"
  },
  {
    "text": "could have gone wrong",
    "start": "1319120",
    "end": "1320480"
  },
  {
    "text": "we've got a gauge",
    "start": "1320480",
    "end": "1322080"
  },
  {
    "text": "and the gauge is the replica count we've",
    "start": "1322080",
    "end": "1324400"
  },
  {
    "text": "got one rep we've got one count of our",
    "start": "1324400",
    "end": "1326159"
  },
  {
    "text": "gateway that emits this",
    "start": "1326159",
    "end": "1328240"
  },
  {
    "text": "then we scale it to three",
    "start": "1328240",
    "end": "1330880"
  },
  {
    "text": "you think what might go wrong",
    "start": "1330880",
    "end": "1333840"
  },
  {
    "text": "in the data",
    "start": "1334000",
    "end": "1336000"
  },
  {
    "text": "unless we've got 20 functions",
    "start": "1336000",
    "end": "1338559"
  },
  {
    "text": "of one function got 20 replicas we then",
    "start": "1338559",
    "end": "1340960"
  },
  {
    "text": "scale that data source to three",
    "start": "1340960",
    "end": "1342480"
  },
  {
    "text": "prometheus is scraping it three times",
    "start": "1342480",
    "end": "1344159"
  },
  {
    "text": "and we're summing the value",
    "start": "1344159",
    "end": "1346320"
  },
  {
    "text": "well i made this mistake and then i saw",
    "start": "1346320",
    "end": "1348960"
  },
  {
    "text": "a customer make the same mistake when i",
    "start": "1348960",
    "end": "1350960"
  },
  {
    "text": "was looking at their dashboard basically",
    "start": "1350960",
    "end": "1352880"
  },
  {
    "text": "we get the value three times and some is",
    "start": "1352880",
    "end": "1355440"
  },
  {
    "text": "the wrong thing to use when you're going",
    "start": "1355440",
    "end": "1357039"
  },
  {
    "text": "highly available",
    "start": "1357039",
    "end": "1358720"
  },
  {
    "text": "because this is an exact picture of how",
    "start": "1358720",
    "end": "1361039"
  },
  {
    "text": "many replicas we've got we end up",
    "start": "1361039",
    "end": "1363200"
  },
  {
    "text": "counting it three times we need average",
    "start": "1363200",
    "end": "1364799"
  },
  {
    "text": "instead",
    "start": "1364799",
    "end": "1366799"
  },
  {
    "text": "so watch out for this",
    "start": "1366799",
    "end": "1368640"
  },
  {
    "text": "especially if you're testing on your",
    "start": "1368640",
    "end": "1369919"
  },
  {
    "text": "laptop you're often not going to have a",
    "start": "1369919",
    "end": "1371440"
  },
  {
    "text": "ha configuration",
    "start": "1371440",
    "end": "1373520"
  },
  {
    "text": "you get to production this is the kind",
    "start": "1373520",
    "end": "1375039"
  },
  {
    "text": "of thing you might see",
    "start": "1375039",
    "end": "1377679"
  },
  {
    "text": "but you still do need some",
    "start": "1377679",
    "end": "1379600"
  },
  {
    "text": "so for the function invocations and the",
    "start": "1379600",
    "end": "1381440"
  },
  {
    "text": "red metrics we do need to sum them up",
    "start": "1381440",
    "end": "1383600"
  },
  {
    "text": "across the gateways",
    "start": "1383600",
    "end": "1386400"
  },
  {
    "text": "okay",
    "start": "1386559",
    "end": "1387440"
  },
  {
    "text": "so",
    "start": "1387440",
    "end": "1388640"
  },
  {
    "text": "to sum up",
    "start": "1388640",
    "end": "1391360"
  },
  {
    "text": "we now have request-based",
    "start": "1391760",
    "end": "1394080"
  },
  {
    "text": "scaling on a per-function basis before",
    "start": "1394080",
    "end": "1396240"
  },
  {
    "text": "it was just one rule with alert manager",
    "start": "1396240",
    "end": "1398559"
  },
  {
    "text": "alert manager turned out just to be a",
    "start": "1398559",
    "end": "1400559"
  },
  {
    "text": "little bit too hard to use to",
    "start": "1400559",
    "end": "1404080"
  },
  {
    "text": "get the behavior we wanted want",
    "start": "1404080",
    "end": "1405440"
  },
  {
    "text": "something more like hpa",
    "start": "1405440",
    "end": "1407760"
  },
  {
    "text": "capacity based scaling is really useful",
    "start": "1407760",
    "end": "1410320"
  },
  {
    "text": "for slow running jobs",
    "start": "1410320",
    "end": "1412080"
  },
  {
    "text": "perhaps you're scraping a web page or",
    "start": "1412080",
    "end": "1413520"
  },
  {
    "text": "running a machine learning model and you",
    "start": "1413520",
    "end": "1415039"
  },
  {
    "text": "really can't just give it 10 requests",
    "start": "1415039",
    "end": "1417200"
  },
  {
    "text": "because you'll run out of memory and you",
    "start": "1417200",
    "end": "1419039"
  },
  {
    "text": "don't want that to happen",
    "start": "1419039",
    "end": "1421360"
  },
  {
    "text": "the cpu scaling is there i don't know if",
    "start": "1421360",
    "end": "1423440"
  },
  {
    "text": "it's going to be useful",
    "start": "1423440",
    "end": "1425039"
  },
  {
    "text": "i've got a feeling that capacity is",
    "start": "1425039",
    "end": "1427360"
  },
  {
    "text": "almost a proxy for cpu but i need to",
    "start": "1427360",
    "end": "1429360"
  },
  {
    "text": "validate it",
    "start": "1429360",
    "end": "1430880"
  },
  {
    "text": "now we've got quite a versatile system",
    "start": "1430880",
    "end": "1432559"
  },
  {
    "text": "so we can tune this as well",
    "start": "1432559",
    "end": "1435919"
  },
  {
    "text": "the recording rules that it sounds like",
    "start": "1437760",
    "end": "1439520"
  },
  {
    "text": "a lot of you are using",
    "start": "1439520",
    "end": "1441840"
  },
  {
    "text": "are incredibly useful for simplifying",
    "start": "1441840",
    "end": "1444000"
  },
  {
    "text": "these metrics",
    "start": "1444000",
    "end": "1445360"
  },
  {
    "text": "really",
    "start": "1445360",
    "end": "1447200"
  },
  {
    "text": "we should do more to tell people about",
    "start": "1447200",
    "end": "1448799"
  },
  {
    "text": "them as a community i certainly have",
    "start": "1448799",
    "end": "1451279"
  },
  {
    "text": "found them very helpful",
    "start": "1451279",
    "end": "1453600"
  },
  {
    "text": "and then filtering",
    "start": "1453600",
    "end": "1456320"
  },
  {
    "text": "i have a lot of problems with this",
    "start": "1456320",
    "end": "1458400"
  },
  {
    "text": "you know and i think quite often people",
    "start": "1458400",
    "end": "1460159"
  },
  {
    "text": "want something that they can relate to",
    "start": "1460159",
    "end": "1461679"
  },
  {
    "text": "like sql where you can inner join two",
    "start": "1461679",
    "end": "1463679"
  },
  {
    "text": "tables",
    "start": "1463679",
    "end": "1464720"
  },
  {
    "text": "on common keys again we could perhaps do",
    "start": "1464720",
    "end": "1466880"
  },
  {
    "text": "a little bit more sort of explain this",
    "start": "1466880",
    "end": "1468799"
  },
  {
    "text": "technique",
    "start": "1468799",
    "end": "1469840"
  },
  {
    "text": "to help people get the best out of their",
    "start": "1469840",
    "end": "1471200"
  },
  {
    "text": "data",
    "start": "1471200",
    "end": "1473440"
  },
  {
    "text": "consider whether you need average or",
    "start": "1473440",
    "end": "1475760"
  },
  {
    "text": "some because it's quite tempting to use",
    "start": "1475760",
    "end": "1477919"
  },
  {
    "text": "some you test it locally it works you",
    "start": "1477919",
    "end": "1480080"
  },
  {
    "text": "ship it to a customer perhaps you need",
    "start": "1480080",
    "end": "1481840"
  },
  {
    "text": "average in some circumstances",
    "start": "1481840",
    "end": "1485279"
  },
  {
    "text": "and then do factor in the scrape",
    "start": "1485279",
    "end": "1486640"
  },
  {
    "text": "interval",
    "start": "1486640",
    "end": "1488000"
  },
  {
    "text": "so if your function or some data you're",
    "start": "1488000",
    "end": "1490400"
  },
  {
    "text": "relying on to drive a control system",
    "start": "1490400",
    "end": "1493279"
  },
  {
    "text": "could have you know stale data",
    "start": "1493279",
    "end": "1496000"
  },
  {
    "text": "the things that you may need to do",
    "start": "1496000",
    "end": "1497360"
  },
  {
    "text": "around that such as what we're doing",
    "start": "1497360",
    "end": "1499200"
  },
  {
    "text": "which is a graceful shutdown",
    "start": "1499200",
    "end": "1501120"
  },
  {
    "text": "a big dance about taking the end point",
    "start": "1501120",
    "end": "1503440"
  },
  {
    "text": "out of the",
    "start": "1503440",
    "end": "1504799"
  },
  {
    "text": "connection pool waiting a certain amount",
    "start": "1504799",
    "end": "1507039"
  },
  {
    "text": "of time everything you have to do",
    "start": "1507039",
    "end": "1509120"
  },
  {
    "text": "so bear that in mind",
    "start": "1509120",
    "end": "1511279"
  },
  {
    "text": "now in terms of future work",
    "start": "1511279",
    "end": "1513520"
  },
  {
    "text": "um kevin that i mentioned to you before",
    "start": "1513520",
    "end": "1515520"
  },
  {
    "text": "has now asked you know could we scale",
    "start": "1515520",
    "end": "1518000"
  },
  {
    "text": "based upon the queue depth in that's",
    "start": "1518000",
    "end": "1520559"
  },
  {
    "text": "so",
    "start": "1520559",
    "end": "1521840"
  },
  {
    "text": "there isn't really such a thing as queue",
    "start": "1521840",
    "end": "1523679"
  },
  {
    "text": "depth in that or even the new nats jet",
    "start": "1523679",
    "end": "1526159"
  },
  {
    "text": "stream is very difficult to do but i've",
    "start": "1526159",
    "end": "1529440"
  },
  {
    "text": "got some ideas i've been having a look",
    "start": "1529440",
    "end": "1531120"
  },
  {
    "text": "at it and that might then give us a",
    "start": "1531120",
    "end": "1532799"
  },
  {
    "text": "fourth strategy",
    "start": "1532799",
    "end": "1534240"
  },
  {
    "text": "and then we'll be able to admit the",
    "start": "1534240",
    "end": "1535279"
  },
  {
    "text": "metrics use the same algorithm",
    "start": "1535279",
    "end": "1537279"
  },
  {
    "text": "um",
    "start": "1537279",
    "end": "1538080"
  },
  {
    "text": "without doing too much more work",
    "start": "1538080",
    "end": "1541200"
  },
  {
    "text": "so that is open faz you can find out",
    "start": "1541200",
    "end": "1543760"
  },
  {
    "text": "more about that openfast.com if you'd",
    "start": "1543760",
    "end": "1545919"
  },
  {
    "text": "like to email me about anything that",
    "start": "1545919",
    "end": "1547440"
  },
  {
    "text": "i've said or any ideas you have for your",
    "start": "1547440",
    "end": "1549760"
  },
  {
    "text": "system alex openvas.com be more than",
    "start": "1549760",
    "end": "1552559"
  },
  {
    "text": "happy to speak to any of you all right",
    "start": "1552559",
    "end": "1554880"
  },
  {
    "text": "thank you",
    "start": "1554880",
    "end": "1557840"
  },
  {
    "text": "so we have seven minutes for questions",
    "start": "1562559",
    "end": "1564799"
  },
  {
    "text": "also in if you want you can already get",
    "start": "1564799",
    "end": "1566559"
  },
  {
    "text": "that up like in five or so",
    "start": "1566559",
    "end": "1568799"
  },
  {
    "text": "questions",
    "start": "1568799",
    "end": "1571799"
  },
  {
    "text": "um is there any way how a function can",
    "start": "1573360",
    "end": "1577520"
  },
  {
    "text": "populate a custom metric that will show",
    "start": "1577520",
    "end": "1579760"
  },
  {
    "text": "up in prometheus",
    "start": "1579760",
    "end": "1582400"
  },
  {
    "text": "this isn't something that's been",
    "start": "1582400",
    "end": "1584400"
  },
  {
    "text": "that's come up and bartek when he joined",
    "start": "1584400",
    "end": "1586640"
  },
  {
    "text": "the community call um he asked the same",
    "start": "1586640",
    "end": "1588799"
  },
  {
    "text": "question",
    "start": "1588799",
    "end": "1589760"
  },
  {
    "text": "it's how would you how are you scraping",
    "start": "1589760",
    "end": "1591279"
  },
  {
    "text": "the metrics",
    "start": "1591279",
    "end": "1592799"
  },
  {
    "text": "at the moment the red metrics have been",
    "start": "1592799",
    "end": "1594400"
  },
  {
    "text": "sufficient",
    "start": "1594400",
    "end": "1595760"
  },
  {
    "text": "but i could potentially see that being",
    "start": "1595760",
    "end": "1597679"
  },
  {
    "text": "an ask what we're trying to do is keep",
    "start": "1597679",
    "end": "1599760"
  },
  {
    "text": "open fast as simple as possible and not",
    "start": "1599760",
    "end": "1601919"
  },
  {
    "text": "add features we think might be useful",
    "start": "1601919",
    "end": "1603679"
  },
  {
    "text": "but really drive it on customer interest",
    "start": "1603679",
    "end": "1606400"
  },
  {
    "text": "now as soon as we do get that it's a",
    "start": "1606400",
    "end": "1608559"
  },
  {
    "text": "very good question how do you do it and",
    "start": "1608559",
    "end": "1610559"
  },
  {
    "text": "i think the talk we just heard before",
    "start": "1610559",
    "end": "1612880"
  },
  {
    "text": "has all the answers to that or at least",
    "start": "1612880",
    "end": "1614480"
  },
  {
    "text": "the best answers we've got",
    "start": "1614480",
    "end": "1617600"
  },
  {
    "text": "more questions",
    "start": "1620640",
    "end": "1622720"
  },
  {
    "text": "one of the questions that bartek had was",
    "start": "1622720",
    "end": "1625840"
  },
  {
    "text": "no i think it was damien is why not use",
    "start": "1625840",
    "end": "1627600"
  },
  {
    "text": "hpa",
    "start": "1627600",
    "end": "1630240"
  },
  {
    "text": "and hp hpa is an obvious choice when",
    "start": "1630720",
    "end": "1633760"
  },
  {
    "text": "you're doing this",
    "start": "1633760",
    "end": "1635039"
  },
  {
    "text": "so",
    "start": "1635039",
    "end": "1635760"
  },
  {
    "text": "i didn't cover this in the talk",
    "start": "1635760",
    "end": "1637520"
  },
  {
    "text": "but we wanted to keep the installation",
    "start": "1637520",
    "end": "1639840"
  },
  {
    "text": "requirements as simple as possible",
    "start": "1639840",
    "end": "1642080"
  },
  {
    "text": "and we were already using prometheus",
    "start": "1642080",
    "end": "1644799"
  },
  {
    "text": "and had a pretty stable system and we're",
    "start": "1644799",
    "end": "1646799"
  },
  {
    "text": "happy with it",
    "start": "1646799",
    "end": "1648240"
  },
  {
    "text": "this just meant that we were able to",
    "start": "1648240",
    "end": "1649440"
  },
  {
    "text": "keep the stack very lightweight",
    "start": "1649440",
    "end": "1651600"
  },
  {
    "text": "and scale on exactly what we wanted",
    "start": "1651600",
    "end": "1653520"
  },
  {
    "text": "without the prometheus adapter cube",
    "start": "1653520",
    "end": "1655840"
  },
  {
    "text": "state metrics and goodness knows what",
    "start": "1655840",
    "end": "1657600"
  },
  {
    "text": "else",
    "start": "1657600",
    "end": "1659760"
  },
  {
    "text": "okay",
    "start": "1660880",
    "end": "1661919"
  },
  {
    "text": "right",
    "start": "1661919",
    "end": "1663039"
  },
  {
    "text": "well last thing to say then if you want",
    "start": "1663039",
    "end": "1665440"
  },
  {
    "text": "to",
    "start": "1665440",
    "end": "1666640"
  },
  {
    "text": "get a bit deeper with go",
    "start": "1666640",
    "end": "1668960"
  },
  {
    "text": "perhaps you're thinking about writing an",
    "start": "1668960",
    "end": "1670640"
  },
  {
    "text": "operator or kubernetes controller uh",
    "start": "1670640",
    "end": "1672640"
  },
  {
    "text": "integrating with prometheus i have an",
    "start": "1672640",
    "end": "1674080"
  },
  {
    "text": "ebook that's available you can find that",
    "start": "1674080",
    "end": "1676320"
  },
  {
    "text": "just google for it every day go it might",
    "start": "1676320",
    "end": "1678320"
  },
  {
    "text": "be helpful",
    "start": "1678320",
    "end": "1679600"
  },
  {
    "text": "all right",
    "start": "1679600",
    "end": "1680559"
  },
  {
    "text": "thank you okay thanks everybody",
    "start": "1680559",
    "end": "1685158"
  }
]