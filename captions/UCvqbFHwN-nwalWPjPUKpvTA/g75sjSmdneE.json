[
  {
    "text": "okay um hello everyone uh my name is voinski uh I'm TTL of six scalability",
    "start": "599",
    "end": "6680"
  },
  {
    "text": "and together with like sham Jun um who is like one of our chairs um",
    "start": "6680",
    "end": "12000"
  },
  {
    "text": "we are going to make this uh Sig update Sig scalability update today um so let's",
    "start": "12000",
    "end": "19119"
  },
  {
    "text": "start with uh with clarifying like with what exactly do we focus in this s um",
    "start": "19119",
    "end": "25240"
  },
  {
    "text": "and there are like F four main and like one additional thing that we are primarily doing doing like the first",
    "start": "25240",
    "end": "31119"
  },
  {
    "text": "thing is uh driving and defining defining really and uh what kubernetes",
    "start": "31119",
    "end": "36520"
  },
  {
    "text": "scalability really means what dimensions it has uh what do we really care about and and what are our goals here second",
    "start": "36520",
    "end": "44079"
  },
  {
    "text": "is like measuring where we are um with respect to those those those",
    "start": "44079",
    "end": "49840"
  },
  {
    "text": "goals third is ensuring that we actually meet the goals",
    "start": "49840",
    "end": "56199"
  },
  {
    "text": "by by contributing and improving the system contributing improvements to the system and improving the system um and",
    "start": "56199",
    "end": "63440"
  },
  {
    "text": "finally preserving that we actually don't regress from from that point over time um and the fifth thing that I",
    "start": "63440",
    "end": "70560"
  },
  {
    "text": "mentioned that is a little bit orthogonal here is also um coaching and",
    "start": "70560",
    "end": "76240"
  },
  {
    "text": "Consulting like the overall Community um on how to how",
    "start": "76240",
    "end": "82520"
  },
  {
    "text": "to how to put scalability into their designs how to think about scalability when implementing their their their um",
    "start": "82520",
    "end": "89560"
  },
  {
    "text": "their Fe features and so on and so on so um one thing that is worth mentioning is like um uh you shouldn't confuse six",
    "start": "89560",
    "end": "97159"
  },
  {
    "text": "scalability with Sig out of scaling it it happens a lot scalability Sig is is about like how far in a certain",
    "start": "97159",
    "end": "104320"
  },
  {
    "text": "Dimensions you can go like how big cluster you can have how many pods per second you can schedule how many load",
    "start": "104320",
    "end": "111560"
  },
  {
    "text": "balancers you can have and so on and so on Autos scaling is more about like dynamically adjusting both the cluster",
    "start": "111560",
    "end": "118119"
  },
  {
    "text": "or what is happening in the cluster to accommodate the load for example cluster autoscaler is is um scaling the size of",
    "start": "118119",
    "end": "126119"
  },
  {
    "text": "the cluster by adding or removing noes um horizontal pod outo scaler is like",
    "start": "126119",
    "end": "131400"
  },
  {
    "text": "adding pods based on traffic and so on and so on um so it's it's this part is a different sck here we are focusing on on",
    "start": "131400",
    "end": "139920"
  },
  {
    "text": "scalability um okay so let's go over them like one",
    "start": "139920",
    "end": "145879"
  },
  {
    "text": "by one so scalability definition what is is scalability",
    "start": "145879",
    "end": "152519"
  },
  {
    "text": "um the important thing that in general is is you need to keep in mind for any",
    "start": "152519",
    "end": "157920"
  },
  {
    "text": "scalability or like performance Improvement related improvements is that we shouldn't be optimizing the system or",
    "start": "157920",
    "end": "163519"
  },
  {
    "text": "pushing the limits like for the sake of doing that like we like every every such",
    "start": "163519",
    "end": "169879"
  },
  {
    "text": "change is making the system a little bit more complex so like we should always be uncaring in in actual user requirements",
    "start": "169879",
    "end": "176840"
  },
  {
    "text": "and actual user needs so um if we ask users like what they really want in",
    "start": "176840",
    "end": "183239"
  },
  {
    "text": "terms of scalability like they want scalable clusters but um what does it",
    "start": "183239",
    "end": "188799"
  },
  {
    "text": "really mean they don't really know it um in fact they don't in many cases they",
    "start": "188799",
    "end": "194519"
  },
  {
    "text": "don't want to know it because kubernetes is like their tool on top of which they",
    "start": "194519",
    "end": "200120"
  },
  {
    "text": "build their businesses so they don't want to understand every single detail",
    "start": "200120",
    "end": "205239"
  },
  {
    "text": "of of the underlying infrastructure they just wanted to know uh they just want",
    "start": "205239",
    "end": "210519"
  },
  {
    "text": "want it to work um so historically we were like uh",
    "start": "210519",
    "end": "216760"
  },
  {
    "text": "we are thinking about scalability of kubernetes as the number of notes in the cluster like how how many notes the",
    "start": "216760",
    "end": "223239"
  },
  {
    "text": "cluster has but it's while it's it's very important Dimension very critical",
    "start": "223239",
    "end": "228400"
  },
  {
    "text": "for many many users it's only like small part of the actual truth um",
    "start": "228400",
    "end": "236439"
  },
  {
    "text": "scalability um of kubernetes is in fact like a multidimens dimensional problem there are many many dimensions that",
    "start": "236439",
    "end": "243120"
  },
  {
    "text": "really matter on um how how well your cluster will be behaving if it will be",
    "start": "243120",
    "end": "250360"
  },
  {
    "text": "able to run your workloads things like um pot Churn number of pots per note",
    "start": "250360",
    "end": "256040"
  },
  {
    "text": "number of services number of load balancers and so on and so on like there are dozens of those Dimensions that that",
    "start": "256040",
    "end": "262919"
  },
  {
    "text": "matter um that matter here uh so what is this scalability and",
    "start": "262919",
    "end": "269720"
  },
  {
    "text": "envelope it's effectively like a zone or like sub Subspace in which your cluster",
    "start": "269720",
    "end": "277039"
  },
  {
    "text": "stays happy what does it mean the cluster is Happy it means that like the scalability or in general the slos are",
    "start": "277039",
    "end": "284800"
  },
  {
    "text": "satisfied um kubernetes isn't doing like a perfect job in defining um",
    "start": "284800",
    "end": "292240"
  },
  {
    "text": "slos in fact I think like scalability related scalability related ones are the",
    "start": "292240",
    "end": "298000"
  },
  {
    "text": "only ones that like we as a community have defined so but it it in general like it we should be talking about any",
    "start": "298000",
    "end": "304240"
  },
  {
    "text": "any slos that are defined for a given project um so what are slos I hope and",
    "start": "304240",
    "end": "310800"
  },
  {
    "text": "SLI what I hope you you already um know those terms but like SLI is service",
    "start": "310800",
    "end": "316759"
  },
  {
    "text": "level indicator you can think about it as a metric um and SLO is like Serv",
    "start": "316759",
    "end": "321960"
  },
  {
    "text": "service level objective you can think about it that's like that metric plus some threshold below which like the the",
    "start": "321960",
    "end": "329160"
  },
  {
    "text": "system is is healthy and for kubernetes we actually have like two really mature",
    "start": "329160",
    "end": "337199"
  },
  {
    "text": "slos put startup latency and API Co latency we have few more that we are and",
    "start": "337199",
    "end": "344919"
  },
  {
    "text": "sorry taking taking a step back like those two are are like really things that we measure things that are uh well tested",
    "start": "344919",
    "end": "353400"
  },
  {
    "text": "uh they are like regressions on those are blocking releases and so on and so on we have couple more",
    "start": "353400",
    "end": "360440"
  },
  {
    "text": "um primarily in the networking area that are we are already measuring we have defined SLI for them but we don't really",
    "start": "360440",
    "end": "368240"
  },
  {
    "text": "have defined slos we didn't graduate them um we are not closely monitoring",
    "start": "368240",
    "end": "373440"
  },
  {
    "text": "them and so on and so on so um given that um at least some of those like for",
    "start": "373440",
    "end": "379400"
  },
  {
    "text": "example DNS part is like super important in AIML workloads um which kubernetes is",
    "start": "379400",
    "end": "385160"
  },
  {
    "text": "more and more looking at um there's a bunch of work that we need to do here to",
    "start": "385160",
    "end": "391080"
  },
  {
    "text": "actually improve it and the first step would be to graduating and maturing those SLO and starting to to to rely on",
    "start": "391080",
    "end": "397360"
  },
  {
    "text": "those really um so maybe just a just a quick U",
    "start": "397360",
    "end": "402840"
  },
  {
    "text": "case study like um defining s l is not easy um in that in on the top you can",
    "start": "402840",
    "end": "410240"
  },
  {
    "text": "see um um how the first definition of the apial latency looked like um from my",
    "start": "410240",
    "end": "417400"
  },
  {
    "text": "blog post in 2015 so like almost 10 years ago",
    "start": "417400",
    "end": "422759"
  },
  {
    "text": "um um this is how it currently looks like um the definition below so the I'm",
    "start": "422759",
    "end": "428759"
  },
  {
    "text": "not going to to we don't have time to go into details here but um we clarified a bunch of things we splitted s and SL",
    "start": "428759",
    "end": "435879"
  },
  {
    "text": "slos explicitly we clarified which API calls matter how they are aggregated um",
    "start": "435879",
    "end": "442759"
  },
  {
    "text": "how we are aggregating over time um over what time and and so on and so on um",
    "start": "442759",
    "end": "451520"
  },
  {
    "text": "so in the end what matters for for users are two things um so first is like what",
    "start": "453120",
    "end": "460960"
  },
  {
    "text": "do we guarantee um and those are exactly the slos and the second thing is like",
    "start": "460960",
    "end": "467560"
  },
  {
    "text": "what are the limits of the system so what what how exactly this like scalability envelopes looks like looks",
    "start": "467560",
    "end": "473360"
  },
  {
    "text": "like um the problem is that like defining it prec precisely is pretty",
    "start": "473360",
    "end": "479800"
  },
  {
    "text": "much impossible um fortunately we have like reasonable approximation of that um",
    "start": "479800",
    "end": "487240"
  },
  {
    "text": "things like number of notes uh not greater than 5,000 number of services",
    "start": "487240",
    "end": "492599"
  },
  {
    "text": "not greater than 10,000 we know many more um you can take a look into this",
    "start": "492599",
    "end": "497800"
  },
  {
    "text": "link from the slides um there are still many tbds there um some of them we just",
    "start": "497800",
    "end": "505759"
  },
  {
    "text": "need to document better some of them we still need to understand better so there's still a lot of work here",
    "start": "505759",
    "end": "512880"
  },
  {
    "text": "um so if you if you are interested in in this kind of work like we have a lot of",
    "start": "512880",
    "end": "518479"
  },
  {
    "text": "place where you can help here um and with that uh we are going to the second",
    "start": "518479",
    "end": "523919"
  },
  {
    "text": "category so I I'm passing now to sh all right thanks VCH um as many of",
    "start": "523919",
    "end": "531120"
  },
  {
    "text": "you would have probably seen it by now it's a pretty ambitious Charter that",
    "start": "531120",
    "end": "536480"
  },
  {
    "text": "we've got um for the Sig uh um it's a pretty broad scope because it covers um",
    "start": "536480",
    "end": "543720"
  },
  {
    "text": "multiple aspects of the cluster because scalability is not really about a specific feature or a specific component",
    "start": "543720",
    "end": "550800"
  },
  {
    "text": "but it's really a property of the system um so how do we actually execute on this Charter um and the answer is",
    "start": "550800",
    "end": "559880"
  },
  {
    "text": "it's it's through a combination of tools test Frameworks as well as processes uh",
    "start": "559880",
    "end": "567440"
  },
  {
    "text": "that we've built and evolved in house on the Sig over the years um let's actually",
    "start": "567440",
    "end": "572640"
  },
  {
    "text": "look into what those are and some of those might be pretty useful for you as well if you're um if you're trying to",
    "start": "572640",
    "end": "578920"
  },
  {
    "text": "run some scalability tests or evaluate the performance of your cluster and stuff so um I'll start with this this is",
    "start": "578920",
    "end": "586399"
  },
  {
    "text": "probably the most important uh tool we use it's our primary Tool uh again it's",
    "start": "586399",
    "end": "591680"
  },
  {
    "text": "it's built completely in house within the cubus project and in this sig it's called cluster Loader 2 um",
    "start": "591680",
    "end": "600560"
  },
  {
    "text": "essentially it makes it possible to write scale tests in a declarative form",
    "start": "600560",
    "end": "607640"
  },
  {
    "text": "and this is something we've actually learned the hard way over the years uh writing writing n to end tests because",
    "start": "607640",
    "end": "614279"
  },
  {
    "text": "scalability tests are mostly end2end tests or integration tests and they can be pretty hard and detail oriented to",
    "start": "614279",
    "end": "622640"
  },
  {
    "text": "write um especially the way you simulate creation of workloads the rate at which you do that um um the kind of",
    "start": "622640",
    "end": "629839"
  },
  {
    "text": "interactions you uh you emulate it it can be pretty complex and over time it",
    "start": "629839",
    "end": "635519"
  },
  {
    "text": "was becoming unmanageable for us to write kind of write uh imperative tests which were basically go files so we came",
    "start": "635519",
    "end": "642800"
  },
  {
    "text": "up with this uh tool which essentially models your test um as a sequence of",
    "start": "642800",
    "end": "649760"
  },
  {
    "text": "well-known operations um such as create a set of",
    "start": "649760",
    "end": "655600"
  },
  {
    "text": "deployments uh in this Nam space at this given rate so you can Define uh",
    "start": "655600",
    "end": "660800"
  },
  {
    "text": "functions for what sort of rates at which you want to induce load you can Define what sort of things you can",
    "start": "660800",
    "end": "666720"
  },
  {
    "text": "create uh uh and the best and the best part is you can even uh leverage some",
    "start": "666720",
    "end": "672040"
  },
  {
    "text": "built-in measurement functions that we already uh use heavily within the Sig or you can also extend it because this tool",
    "start": "672040",
    "end": "678560"
  },
  {
    "text": "is pretty modular um and all of this basically makes it easy as a user if you",
    "start": "678560",
    "end": "683920"
  },
  {
    "text": "were to use this tool to kind of Define your own tests and extend it to New use cases uh there's a link at the bottom uh",
    "start": "683920",
    "end": "690519"
  },
  {
    "text": "you probably will be able to download it sorry open it from from",
    "start": "690519",
    "end": "697320"
  },
  {
    "text": "PDF all right so the next tool uper sleeve this is a pretty powerful tool too it's called Cub Mark um essentially",
    "start": "697320",
    "end": "705720"
  },
  {
    "text": "it's a cluster simulation what it does is um it kind of brings scalability",
    "start": "705720",
    "end": "712480"
  },
  {
    "text": "testing within the grasp of a common man because uh the the thing that deters",
    "start": "712480",
    "end": "718560"
  },
  {
    "text": "most um teams or companies or even uh individual developers is not being able",
    "start": "718560",
    "end": "724120"
  },
  {
    "text": "to afford uh huge amounts of compute uh and access to those sort of resources that we use within the Sig for running",
    "start": "724120",
    "end": "730279"
  },
  {
    "text": "the uh scale test in the project right so so essentially it lets you uh",
    "start": "730279",
    "end": "736440"
  },
  {
    "text": "simulate the behavior of a real cluster uh specifically in terms of the traffic pattern that is received by the control",
    "start": "736440",
    "end": "743320"
  },
  {
    "text": "plan by creating fake implementations of uh cubet Q proxy and those sort of",
    "start": "743320",
    "end": "750360"
  },
  {
    "text": "components which um yeah which essentially run as pods so",
    "start": "750360",
    "end": "756240"
  },
  {
    "text": "the the whole blue octagon that you see uh that represents the base cluster",
    "start": "756240",
    "end": "761639"
  },
  {
    "text": "which is uh which is where you actually run real kubernetes control plane and real kubernetes nodes and then you",
    "start": "761639",
    "end": "768000"
  },
  {
    "text": "launch these Hollow nodes um as pods on top of these nodes which then act as",
    "start": "768000",
    "end": "773600"
  },
  {
    "text": "nodes of uh an overlay cluster that we're building which is the cubar cluster and make it talk to the a new",
    "start": "773600",
    "end": "780120"
  },
  {
    "text": "cuent is control planin so yeah it's it's also pretty powerful Paradigm uh if you've ever played around with it um",
    "start": "780120",
    "end": "787360"
  },
  {
    "text": "You' you'd probably know the know the power that it gives you as well as some",
    "start": "787360",
    "end": "792680"
  },
  {
    "text": "of the limitations that come with it um Okay so we've talked about the tools",
    "start": "792680",
    "end": "801279"
  },
  {
    "text": "that we use to actually uh run these stress tests and kind of create these scalable clusters right how as as the",
    "start": "801279",
    "end": "809360"
  },
  {
    "text": "next step how do we actually um make use of these right like now great we have a cluster we have",
    "start": "809360",
    "end": "815360"
  },
  {
    "text": "these tests running uh how are we actually going to measure performance and like kind of monitor uh things like",
    "start": "815360",
    "end": "822120"
  },
  {
    "text": "memory usage CP usage and stuff and stuff so there also we've kind of built a whole um whole set of um observability",
    "start": "822120",
    "end": "829639"
  },
  {
    "text": "and debugging toolkit uh within the Sig the first one is perf Dash which is uh I",
    "start": "829639",
    "end": "835120"
  },
  {
    "text": "put a screenshot here and there's a link at the bottom it's a public uh URL where you can can access it um it essentially",
    "start": "835120",
    "end": "841800"
  },
  {
    "text": "shows various kinds of metrics of individual components and um systems",
    "start": "841800",
    "end": "847519"
  },
  {
    "text": "within your within your cluster as well as end to end metrics like pod startup latency um um maybe DNS latency I'm not",
    "start": "847519",
    "end": "855360"
  },
  {
    "text": "sure but stuff like that so um yeah and we the x-axis essentially is over time",
    "start": "855360",
    "end": "863959"
  },
  {
    "text": "uh as we keep uh running these job over and over again these are the metrics uh",
    "start": "863959",
    "end": "869480"
  },
  {
    "text": "that we see um these are values that we see for the metrics and it is pretty useful for us",
    "start": "869480",
    "end": "875600"
  },
  {
    "text": "to also inform about things like how the patterns of various API metrics uh and",
    "start": "875600",
    "end": "881160"
  },
  {
    "text": "performance of various components change over time as we optimize certain things or we make larger changes uh maybe",
    "start": "881160",
    "end": "887480"
  },
  {
    "text": "architectural changes and stuff and the next one is for each of the test runs uh",
    "start": "887480",
    "end": "893600"
  },
  {
    "text": "for these large cluster test uh jobs that we run uh we dump the the whole set",
    "start": "893600",
    "end": "899639"
  },
  {
    "text": "of Prometheus metrics from the control plane components and uh a bunch of uh uh",
    "start": "899639",
    "end": "906000"
  },
  {
    "text": "cubus components on the nodes to as Prometheus snapshot uh basically for the",
    "start": "906000",
    "end": "911959"
  },
  {
    "text": "metrics that are captured through the job run and if you want access to them you can essentially use these with a",
    "start": "911959",
    "end": "919079"
  },
  {
    "text": "bring up your own grafana UI instance and point them to the to the metric",
    "start": "919079",
    "end": "924959"
  },
  {
    "text": "snapshot and you'll be able to see how um how these things work",
    "start": "924959",
    "end": "930959"
  },
  {
    "text": "and the the final one is uh profiling this is uh basically for the more Savvy",
    "start": "931440",
    "end": "939959"
  },
  {
    "text": "um profess scalability or performance um experts we use these uh sometimes when",
    "start": "939959",
    "end": "947920"
  },
  {
    "text": "things go south and let's say we've uh We've run into unusual API latencies and",
    "start": "947920",
    "end": "954560"
  },
  {
    "text": "we cannot quite explain it with uh with logs and metrics or let's say we see",
    "start": "954560",
    "end": "961319"
  },
  {
    "text": "that processes get o killed because the memory kept growing so for this we also",
    "start": "961319",
    "end": "966480"
  },
  {
    "text": "capture the um CPU profile memory profile I believe we also have the",
    "start": "966480",
    "end": "971720"
  },
  {
    "text": "ability to uh get lock profiles lock for measuring how bad lock contention is um",
    "start": "971720",
    "end": "978440"
  },
  {
    "text": "and these are again also part of the um the output that these test runs",
    "start": "978440",
    "end": "984800"
  },
  {
    "text": "spew okay so now we've spoken about the tool kit we spoken about uh how we can",
    "start": "984800",
    "end": "991720"
  },
  {
    "text": "actually go around observing and debugging scalability now what does the Sig actually do in ensuring um that the",
    "start": "991720",
    "end": "997920"
  },
  {
    "text": "Cub project continues to scale um to to basically 5,000 nodes and all the other",
    "start": "997920",
    "end": "1004240"
  },
  {
    "text": "dimensions that VC mentioned um earlier the first one is",
    "start": "1004240",
    "end": "1010839"
  },
  {
    "text": "we we capture the various scalability properties of uh of a kubernetes cluster",
    "start": "1010839",
    "end": "1019360"
  },
  {
    "text": "through a series of uh test jobs um these again there's there are kind of",
    "start": "1019360",
    "end": "1024839"
  },
  {
    "text": "two Dimensions uh around these the first one is the scale at which we run these",
    "start": "1024839",
    "end": "1029918"
  },
  {
    "text": "uh we we don't just run the 5,000 node uh cluster test because it takes a while it is expensive and also the feedback",
    "start": "1029919",
    "end": "1036199"
  },
  {
    "text": "loop is slower for it so we kind of complement that with a bunch of smaller",
    "start": "1036199",
    "end": "1042038"
  },
  {
    "text": "scale tests that we run more aggressively to kind of catch regression sooner uh some of those are also run as",
    "start": "1042039",
    "end": "1048280"
  },
  {
    "text": "a prub so if you submit a PR to the cubus project you essentially are evaluated against at least a 100 node",
    "start": "1048280",
    "end": "1054679"
  },
  {
    "text": "cluster um uh for instance and the other dimension for these tests is what they",
    "start": "1054679",
    "end": "1060559"
  },
  {
    "text": "actually exercise right and what sort of things they actually uh make sure that this scale and this includes a whole uh",
    "start": "1060559",
    "end": "1069080"
  },
  {
    "text": "a SLE of different um test Suites that basically come from different sigs and",
    "start": "1069080",
    "end": "1075400"
  },
  {
    "text": "things like storage network uh various benchmarks like for scheduler um for DNS",
    "start": "1075400",
    "end": "1081679"
  },
  {
    "text": "and stuff like that we'll talk about that uh in a sec to but yeah so we've got this whole battery",
    "start": "1081679",
    "end": "1089000"
  },
  {
    "text": "of test the wrong button",
    "start": "1089000",
    "end": "1094880"
  },
  {
    "text": "and yeah so uh this this is the test grid again there's a link at the bottom",
    "start": "1094880",
    "end": "1100360"
  },
  {
    "text": "um this the six scalability tab essentially if you go there it'll show",
    "start": "1100360",
    "end": "1105440"
  },
  {
    "text": "you this whole SLE of the uh tests Suites that we run and it's pretty",
    "start": "1105440",
    "end": "1110919"
  },
  {
    "text": "diverse in the sense that um it runs on different kinds of",
    "start": "1110919",
    "end": "1117280"
  },
  {
    "text": "um um compute like it runs on ec2 it also runs on uh gcp and Cube Mark tests",
    "start": "1117280",
    "end": "1124240"
  },
  {
    "text": "as well as uh as well as they they test different kinds of things like uh for",
    "start": "1124240",
    "end": "1130159"
  },
  {
    "text": "instance we we run tests against the tip of golang version that we use uh to the",
    "start": "1130159",
    "end": "1136440"
  },
  {
    "text": "point that we've actually caught regressions with um with goang in the past with the kubernetes scal test and",
    "start": "1136440",
    "end": "1143039"
  },
  {
    "text": "have them make changes in response to those um similarly uh we have a bunch of",
    "start": "1143039",
    "end": "1149159"
  },
  {
    "text": "benchmarks and experiments and you can see many of the experimental tests are",
    "start": "1149159",
    "end": "1154880"
  },
  {
    "text": "failing um I guess probably because they experiments that Mak sense um but yeah",
    "start": "1154880",
    "end": "1162799"
  },
  {
    "text": "I'll definitely encourage uh anyone who's interested to understand deeper about what uh what sort of things we",
    "start": "1162799",
    "end": "1169559"
  },
  {
    "text": "cover here to take a look at that uh dashboard and with that I'm really",
    "start": "1169559",
    "end": "1176480"
  },
  {
    "text": "really excited and happy to announce on behalf of the Sig that we have recently",
    "start": "1176480",
    "end": "1182520"
  },
  {
    "text": "started running um the 5,000 node scale test Upstream as part of uh AWS 2 this",
    "start": "1182520",
    "end": "1189320"
  },
  {
    "text": "comes in as a huge news for for the Sig uh for a few different reasons uh the",
    "start": "1189320",
    "end": "1195799"
  },
  {
    "text": "first and the foremost one is it essentially finally helps us to decentralize these tests have them run",
    "start": "1195799",
    "end": "1203039"
  },
  {
    "text": "on multiple providers uh have have multiple people develop expertise on",
    "start": "1203039",
    "end": "1209280"
  },
  {
    "text": "running these tests the infrastructure and being able to debug um issues as well as it allows us to wet different",
    "start": "1209280",
    "end": "1216240"
  },
  {
    "text": "kinds of infrastructure so there are some differences for instance uh how the AWS uh test runs it uses cops uh and the",
    "start": "1216240",
    "end": "1224679"
  },
  {
    "text": "gcp tests run using different bootstrap scripts so um the idea is to actually use both",
    "start": "1224679",
    "end": "1231480"
  },
  {
    "text": "these tests uh fiely as in um both of these provide signal to the kubernetes",
    "start": "1231480",
    "end": "1237480"
  },
  {
    "text": "release uh as in how good we are doing and are we doing well and being able to use this fungi is really powerful",
    "start": "1237480",
    "end": "1244080"
  },
  {
    "text": "because sometimes when we run into an issue with one particular setup we can kind of have the other one as a hard",
    "start": "1244080",
    "end": "1249200"
  },
  {
    "text": "standby and like increase and decrease their frequencies and uh along the way uh gather all these benefits that I just",
    "start": "1249200",
    "end": "1256400"
  },
  {
    "text": "mentioned um cool so okay so now we also have CI tests for",
    "start": "1256400",
    "end": "1264320"
  },
  {
    "text": "scalability that are continuously running um how do we make use of these",
    "start": "1264320",
    "end": "1269360"
  },
  {
    "text": "how do we leverage these so there are two themes high level themes one of them",
    "start": "1269360",
    "end": "1274799"
  },
  {
    "text": "is we use them to catch regressions and these are used to basically ensure uh",
    "start": "1274799",
    "end": "1280760"
  },
  {
    "text": "that we launch releases of high quality um as well as in general U the other the",
    "start": "1280760",
    "end": "1287279"
  },
  {
    "text": "other thing that I was talking about is be able to catch uh General performance bottlenecks in the Clusters through the",
    "start": "1287279",
    "end": "1294240"
  },
  {
    "text": "metrics and the profiles and stuff that uh I mentioned earlier and uh yeah so SC",
    "start": "1294240",
    "end": "1300919"
  },
  {
    "text": "scalability was a pretty broad horizontal uh property of the system and",
    "start": "1300919",
    "end": "1306679"
  },
  {
    "text": "we discussed about this earlier and indeed it is pretty sensitive to um all",
    "start": "1306679",
    "end": "1312799"
  },
  {
    "text": "sorts of things like you can have a scalability regression come from pretty much anywhere uh across your cluster up and",
    "start": "1312799",
    "end": "1320640"
  },
  {
    "text": "down the stack for instance uh we've seen some really interesting um",
    "start": "1320640",
    "end": "1325720"
  },
  {
    "text": "performance regressions with goang releases which explains why we added them as tests um later on um and quite",
    "start": "1325720",
    "end": "1333320"
  },
  {
    "text": "often these are actually uh things that within goang they don't actually change semantics or some of the API behaviors",
    "start": "1333320",
    "end": "1341279"
  },
  {
    "text": "and stuff uh of the programming language but they let's say change the underlying implementations of of something for",
    "start": "1341279",
    "end": "1347640"
  },
  {
    "text": "instance we once we've seen that um the net HTTP Library there was a function uh",
    "start": "1347640",
    "end": "1353039"
  },
  {
    "text": "for uh HTTP to serve uh which essentially in the default implementation in goang they added a new",
    "start": "1353039",
    "end": "1359720"
  },
  {
    "text": "case to a switch statement which seemed pretty much harmless at the time but it",
    "start": "1359720",
    "end": "1364840"
  },
  {
    "text": "kind of ended up blowing up uh the whole cluster and um we kind of went back to them got it fixed and similarly yeah",
    "start": "1364840",
    "end": "1372360"
  },
  {
    "text": "they could even come from operating system things like your sis uh CIS cutle settings um your cloud provider or like",
    "start": "1372360",
    "end": "1379520"
  },
  {
    "text": "how your controllers are written the kind of traffic they indu on the control plane um and and then the most common",
    "start": "1379520",
    "end": "1386320"
  },
  {
    "text": "categories which is the API machinery and ETD there are a few examples of issues uh that interesting issues that",
    "start": "1386320",
    "end": "1393520"
  },
  {
    "text": "we recently caught I talk about uh for those in the next slide but yeah for",
    "start": "1393520",
    "end": "1398600"
  },
  {
    "text": "these regressions we end up catching them quite quite a good success rate uh in these tests and many times we uh",
    "start": "1398600",
    "end": "1406840"
  },
  {
    "text": "debug themselves debug them ourselves and try to fix them or often we also um",
    "start": "1406840",
    "end": "1412880"
  },
  {
    "text": "Tri them to other Sig because it's all around the Stag right um okay so these",
    "start": "1412880",
    "end": "1419919"
  },
  {
    "text": "are probably issues from within the last 6 months to one year uh they kind of",
    "start": "1419919",
    "end": "1425360"
  },
  {
    "text": "highlight different flavors different nuances of the issues we run into um it's a super hyperlink ified slide so",
    "start": "1425360",
    "end": "1432120"
  },
  {
    "text": "I'm sorry if uh it's all too blue for you but um I just kept the links in there in case anyone wants to actually",
    "start": "1432120",
    "end": "1438679"
  },
  {
    "text": "go in and and see what those issues were about so uh the first one this is a rather more uh rather newer issue where",
    "start": "1438679",
    "end": "1447880"
  },
  {
    "text": "we saw that the um under certain load patterns uh for newer versions of",
    "start": "1447880",
    "end": "1454039"
  },
  {
    "text": "kubernetes when a client was making a watch request to the API server cuberes client uh without specifying a resource",
    "start": "1454039",
    "end": "1461720"
  },
  {
    "text": "version um we see that some of the watch events were being lost they were being missed and uh we kind of did a whole",
    "start": "1461720",
    "end": "1469399"
  },
  {
    "text": "drill around this to try to get to a Repro and essentially what we found out was um when many of such watch requests",
    "start": "1469399",
    "end": "1477440"
  },
  {
    "text": "on a high churn cluster let's say you have so many pod mutations happening uh arrive at the aps ER at once and when",
    "start": "1477440",
    "end": "1484960"
  },
  {
    "text": "combined with uh this resource version not being provided it basically the",
    "start": "1484960",
    "end": "1490159"
  },
  {
    "text": "behavior as the API server forwards those watch requests to hcd and all these watches get multiplexed onto a",
    "start": "1490159",
    "end": "1496520"
  },
  {
    "text": "single grpc stream and the way UHD handles these watches kind of makes",
    "start": "1496520",
    "end": "1502720"
  },
  {
    "text": "makes that um has certain inefficiencies that were basically highlighted by this",
    "start": "1502720",
    "end": "1508440"
  },
  {
    "text": "um issue so it exposed a whole bunch of things uh it kind of is a regression",
    "start": "1508440",
    "end": "1513760"
  },
  {
    "text": "because it uh came up as a consequence of us fixing a bug or fixing a property",
    "start": "1513760",
    "end": "1518840"
  },
  {
    "text": "in the API server uh but it did expose a whole bunch of latent issues with that",
    "start": "1518840",
    "end": "1524080"
  },
  {
    "text": "CD um similarly there there are other issues around uh things which may have",
    "start": "1524080",
    "end": "1530360"
  },
  {
    "text": "been not technically regressions there may have been issues for a while but uh",
    "start": "1530360",
    "end": "1535679"
  },
  {
    "text": "we did end up catching those through either tests um or or basically",
    "start": "1535679",
    "end": "1541279"
  },
  {
    "text": "experiments uh and we use them to essentially improve our performance for kubernetes users around it um all right",
    "start": "1541279",
    "end": "1548520"
  },
  {
    "text": "with that I think I'll hand it over oh sorry I think I think I have another slide so quickly um all right so another",
    "start": "1548520",
    "end": "1557039"
  },
  {
    "text": "thing we continue to keep doing is we are adding more and more to this test suit we're imp improving these coverage",
    "start": "1557039",
    "end": "1562600"
  },
  {
    "text": "especially as new uh use cases evolve like the AIML use cases for instance that VCH mentioned they require us to uh",
    "start": "1562600",
    "end": "1569600"
  },
  {
    "text": "be able to handle High throughputs being able to handle High steady state of large number of nodes running in the",
    "start": "1569600",
    "end": "1574960"
  },
  {
    "text": "cluster and so on um things like HPA uh DNS that mentioned I believe he said",
    "start": "1574960",
    "end": "1580480"
  },
  {
    "text": "some of those were work in progress but we might have merged them more recently so",
    "start": "1580480",
    "end": "1586880"
  },
  {
    "text": "uh yeah I think that's thank you uh yes we have DNS we",
    "start": "1586880",
    "end": "1593640"
  },
  {
    "text": "just are not blocking releases on that on um okay so going a little bit into",
    "start": "1593640",
    "end": "1599399"
  },
  {
    "text": "like the the last category of driving scalability improvements there are basically two two",
    "start": "1599399",
    "end": "1605360"
  },
  {
    "text": "main um buckets of of things that we are doing in this area first are like",
    "start": "1605360",
    "end": "1610440"
  },
  {
    "text": "improving reliability at scale without really pushing pushing the limits um effectively you can think about",
    "start": "1610440",
    "end": "1616200"
  },
  {
    "text": "scalability as uh reli liability at scale so um those are ensuring that like your",
    "start": "1616200",
    "end": "1623520"
  },
  {
    "text": "clusters your cluster keeps keeps running and keeps uh keeps keeps being",
    "start": "1623520",
    "end": "1630080"
  },
  {
    "text": "healthy um within the uh within within the existing limits",
    "start": "1630080",
    "end": "1637000"
  },
  {
    "text": "but under like new circumstances under when the upgrades are happening and so",
    "start": "1637000",
    "end": "1642159"
  },
  {
    "text": "on and so on um and the second second area is like pushing the limits um which is pretty clear what it",
    "start": "1642159",
    "end": "1649799"
  },
  {
    "text": "means um so most of like given the six scalability doesn't own really any like",
    "start": "1649799",
    "end": "1655960"
  },
  {
    "text": "production code um pretty much all of those improvements are joined with some other SS most of them um or maybe even",
    "start": "1655960",
    "end": "1664600"
  },
  {
    "text": "currently all of them or almost all of them at least um are joined with like ca",
    "start": "1664600",
    "end": "1670600"
  },
  {
    "text": "machinery and C at CD um so just looking into some examples some most notable",
    "start": "1670600",
    "end": "1676519"
  },
  {
    "text": "examples from the like um what is happening now and what was",
    "start": "1676519",
    "end": "1681720"
  },
  {
    "text": "happening in the last like couple months um we finally G8 API priority and",
    "start": "1681720",
    "end": "1687519"
  },
  {
    "text": "fairness in 129 in December after four years each like I think we",
    "start": "1687519",
    "end": "1693880"
  },
  {
    "text": "started like the first Alpha release was 117 so like it it was a long journey but",
    "start": "1693880",
    "end": "1700039"
  },
  {
    "text": "like I we finally G it it it doesn't mean it's perfect but it's it's um it's",
    "start": "1700039",
    "end": "1705640"
  },
  {
    "text": "certainly um is is in a reasonable shape now so and we have a stable API um there",
    "start": "1705640",
    "end": "1712880"
  },
  {
    "text": "were a bunch of like improvements to upgrade experience more is coming there are some caps that are being worked on",
    "start": "1712880",
    "end": "1719600"
  },
  {
    "text": "now that will that will help with another um and other parts of like",
    "start": "1719600",
    "end": "1725279"
  },
  {
    "text": "upgrade experience uh graceful shutdown is one one of the the biggest example",
    "start": "1725279",
    "end": "1730840"
  },
  {
    "text": "that that we that we've visibly improved over the past couple releases um and",
    "start": "1730840",
    "end": "1736000"
  },
  {
    "text": "there are two more things that are worth mentioning here um one is uh consistent",
    "start": "1736000",
    "end": "1741039"
  },
  {
    "text": "list from cash um we know that at CD is",
    "start": "1741039",
    "end": "1747000"
  },
  {
    "text": "one of our biggest bottlenecks in the system to for pushing the the the boundaries pushing the limits um the",
    "start": "1747000",
    "end": "1753880"
  },
  {
    "text": "limits farther uh so effectively as as much",
    "start": "1753880",
    "end": "1759320"
  },
  {
    "text": "load as we can offload from ATD and serve it from from API server caches the",
    "start": "1759320",
    "end": "1765960"
  },
  {
    "text": "the the farther the system can go um and consistent list from caches is is one of",
    "start": "1765960",
    "end": "1771399"
  },
  {
    "text": "the biggest improvements in this area like um currently we can serve list",
    "start": "1771399",
    "end": "1776840"
  },
  {
    "text": "requests from the cash but like we don't guarantee any consistency for them um with this Improvement we will be able to",
    "start": "1776840",
    "end": "1783519"
  },
  {
    "text": "ensure that they are consistent um we were planning to to have it better in",
    "start": "1783519",
    "end": "1789200"
  },
  {
    "text": "130 but unfortunately due to some issues on the etcd site itself like namely with",
    "start": "1789200",
    "end": "1795480"
  },
  {
    "text": "the feature that we are heavily R here um the progress notify features on ET CD",
    "start": "1795480",
    "end": "1800720"
  },
  {
    "text": "the our testing uncovered like some Corner cases that are not handled well",
    "start": "1800720",
    "end": "1806000"
  },
  {
    "text": "so like we need to postpone it and and fix those issues first um and the second",
    "start": "1806000",
    "end": "1811200"
  },
  {
    "text": "thing in in here that is worth mentioning is like streaming lists um it",
    "start": "1811200",
    "end": "1817240"
  },
  {
    "text": "was similar it's very similar situation we were planning to get beta in 130 it's not because we are relying on exactly",
    "start": "1817240",
    "end": "1823960"
  },
  {
    "text": "the same feature from at CD um but uh what what it does it effectively allows",
    "start": "1823960",
    "end": "1829440"
  },
  {
    "text": "us to to uh to mitigate or work around a little bit the limits of how large the",
    "start": "1829440",
    "end": "1835960"
  },
  {
    "text": "response can be uh and so on by using watch protocol to actually stream the",
    "start": "1835960",
    "end": "1842760"
  },
  {
    "text": "contents of the list so from the user perspective they will get exactly the same but like we will we will be we will",
    "start": "1842760",
    "end": "1849440"
  },
  {
    "text": "be using a different protocol here and from like pushing the limits",
    "start": "1849440",
    "end": "1854960"
  },
  {
    "text": "category uh like the the most important ones are around like improving crd",
    "start": "1854960",
    "end": "1861320"
  },
  {
    "text": "scalability um scalability of crds is one of the biggest problems that we have",
    "start": "1861320",
    "end": "1867519"
  },
  {
    "text": "comparing to buil-in resources that like we still um need to take that into",
    "start": "1867519",
    "end": "1873679"
  },
  {
    "text": "account uh we are working on uh on introducing binary encoding for",
    "start": "1873679",
    "end": "1880440"
  },
  {
    "text": "crds currently crds are only like Json only support Json protocol um the C",
    "start": "1880440",
    "end": "1886960"
  },
  {
    "text": "based encoding is happening we were again planning for",
    "start": "1886960",
    "end": "1892399"
  },
  {
    "text": "Alpha and 130 it it missed that unfortunately um there were a couple more like",
    "start": "1892399",
    "end": "1898919"
  },
  {
    "text": "um more localized improvements for both like crd scalability for like but but",
    "start": "1898919",
    "end": "1906159"
  },
  {
    "text": "also like other more generic improvements for like faster compression",
    "start": "1906159",
    "end": "1911279"
  },
  {
    "text": "um and so on and so on uh one thing that is not in the slide but is probably also",
    "start": "1911279",
    "end": "1917159"
  },
  {
    "text": "wor we mentioning is like open API improvements like we those aren't",
    "start": "1917159",
    "end": "1923880"
  },
  {
    "text": "necessarily um focused on like the largest clusters but but they help a lot",
    "start": "1923880",
    "end": "1928960"
  },
  {
    "text": "for um how the open API how many open how many resources open API generation",
    "start": "1928960",
    "end": "1937639"
  },
  {
    "text": "uses and finally like that there are a bunch of improvements towards High put",
    "start": "1937639",
    "end": "1942919"
  },
  {
    "text": "throughput which is very important use case for AML training and particular for",
    "start": "1942919",
    "end": "1949679"
  },
  {
    "text": "example and I think that's that's all what we have here like um if you are interested in this area more um we have",
    "start": "1949679",
    "end": "1957039"
  },
  {
    "text": "uh bi-weekly public meetings uh we have slack Channel we have mailing Le so please um come and join and help us with",
    "start": "1957039",
    "end": "1966159"
  },
  {
    "text": "making all this happen um yes thank you and I think we",
    "start": "1966159",
    "end": "1971360"
  },
  {
    "text": "still have two minutes so like if there is any question",
    "start": "1971360",
    "end": "1977720"
  },
  {
    "text": "yeah two questions that you from Nvidia firstly do you think the current",
    "start": "1981039",
    "end": "1986320"
  },
  {
    "text": "definition scope or the scanning test can apply to running emerging air workload in GPU clusters or in",
    "start": "1986320",
    "end": "1993279"
  },
  {
    "text": "particular regarding the reliability we know the GPU class and very and uh not",
    "start": "1993279",
    "end": "1998799"
  },
  {
    "text": "reliable at all so any plan and on the GPU cluster AI ml workload scanning test",
    "start": "1998799",
    "end": "2005440"
  },
  {
    "text": "or tooling support um we would love to uh I think the problem",
    "start": "2005440",
    "end": "2011679"
  },
  {
    "text": "here is obtainability of gpus like it's they are like super expensive so those",
    "start": "2011679",
    "end": "2017360"
  },
  {
    "text": "tests will also be super expensive so um if we have those if we can get those",
    "start": "2017360",
    "end": "2022480"
  },
  {
    "text": "resources sure we can definitely do that I think the problem is having those",
    "start": "2022480",
    "end": "2028080"
  },
  {
    "text": "resources to be able to test on those or simulating it somewhere else which um if",
    "start": "2028080",
    "end": "2034480"
  },
  {
    "text": "someone have time and ideas how to do that then like we would definitely appreciate the",
    "start": "2034480",
    "end": "2041240"
  },
  {
    "text": "help here okay yeah and that's my followup question I think uh class know the to my best knowledge have some kind",
    "start": "2041240",
    "end": "2047880"
  },
  {
    "text": "of the for injection kind of feature any update plan because that's something",
    "start": "2047880",
    "end": "2053118"
  },
  {
    "text": "probably I I think we can do and uh yeah simulate GPU any other thing is that something you think could be",
    "start": "2053119",
    "end": "2060240"
  },
  {
    "text": "valuable so yes I think like there are many places where we can improve stuff",
    "start": "2060240",
    "end": "2067200"
  },
  {
    "text": "um it's a matter of like having capacity to do that like uh I would love those to",
    "start": "2067200",
    "end": "2073720"
  },
  {
    "text": "happen if there's anyone who can help with that like we definitely can help",
    "start": "2073720",
    "end": "2078960"
  },
  {
    "text": "with making that happen from like um guiding helping with reviews and so on",
    "start": "2078960",
    "end": "2085320"
  },
  {
    "text": "okay great so finally and uh how do you compare on The cuber Mark with the c",
    "start": "2085320",
    "end": "2091358"
  },
  {
    "text": "which is definitely we see and uh yeah receive increasing adoption and do we",
    "start": "2091359",
    "end": "2097400"
  },
  {
    "text": "think potential can integrate the cck into the scalability testing replace",
    "start": "2097400",
    "end": "2103680"
  },
  {
    "text": "even cuber Mark I think we should think how to converge those two into something",
    "start": "2103680",
    "end": "2108720"
  },
  {
    "text": "a single thing yes uh I didn't have time to look into that any in the past few",
    "start": "2108720",
    "end": "2114400"
  },
  {
    "text": "months so um but I definitely would like to converge and have like a single thing",
    "start": "2114400",
    "end": "2119680"
  },
  {
    "text": "instead of like evolving two things in parallel that",
    "start": "2119680",
    "end": "2125599"
  },
  {
    "text": "effectively serve the same purpose okay great thank you very",
    "start": "2125599",
    "end": "2131920"
  },
  {
    "text": "much okay I think we are out of time so thank you very much once again and um if",
    "start": "2132240",
    "end": "2137280"
  },
  {
    "text": "you have any other questions like we are both here um like feel free to catch us",
    "start": "2137280",
    "end": "2143440"
  },
  {
    "text": "during the conference somewhere on the corridor so thank you",
    "start": "2143440",
    "end": "2150119"
  }
]