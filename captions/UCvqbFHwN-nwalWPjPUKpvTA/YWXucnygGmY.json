[
  {
    "start": "0",
    "end": "26000"
  },
  {
    "text": "hello and welcome to the cni intro session given by two maintainers of the cni project",
    "start": "80",
    "end": "6640"
  },
  {
    "text": "if you're new to cni we'll give an overview in just a moment if you have questions we are live online",
    "start": "6640",
    "end": "12160"
  },
  {
    "text": "so as this goes out so please start asking as an introductory session this is a high level and pretty much starts at the",
    "start": "12160",
    "end": "18400"
  },
  {
    "text": "beginning from cni you may also wish to join us for the cni deep dive session which is being published on",
    "start": "18400",
    "end": "23680"
  },
  {
    "text": "wednesday so first some introductions brian",
    "start": "23680",
    "end": "31840"
  },
  {
    "start": "26000",
    "end": "84000"
  },
  {
    "text": "ah thanks casey hi i'm my name is brian ballroom i work for waveworks and uh",
    "start": "32160",
    "end": "39760"
  },
  {
    "text": "known at least to begin with for weave net but perhaps better known for githubs these days",
    "start": "39760",
    "end": "45120"
  },
  {
    "text": "anyway i've been the lead maintainer on weavenet for over five years now and i'm a maintainer",
    "start": "45120",
    "end": "51199"
  },
  {
    "text": "on the cni project and i i work on a few other cncf projects",
    "start": "51199",
    "end": "56559"
  },
  {
    "text": "like cortex casey why don't you introduce yourself sure so i'm casey calendrolo i am an",
    "start": "56559",
    "end": "64000"
  },
  {
    "text": "engineer at red hat previously core os i work on kubernetes networking openshift networking and the",
    "start": "64000",
    "end": "69360"
  },
  {
    "text": "ovn kubernetes project also maintains some utilities that people tend to use like go ip tables for which i'm somewhat",
    "start": "69360",
    "end": "75280"
  },
  {
    "text": "sorry i like ipv6 and jumbo frames and the kubernetes informer system and i dislike nat",
    "start": "75280",
    "end": "80720"
  },
  {
    "text": "and the kubernetes informer system so we'll start out with brian explaining",
    "start": "80720",
    "end": "87119"
  },
  {
    "start": "84000",
    "end": "230000"
  },
  {
    "text": "what exactly is cni",
    "start": "87119",
    "end": "91118"
  },
  {
    "text": "thanks casey um so we put a uh the big picture here the uh",
    "start": "92400",
    "end": "99040"
  },
  {
    "text": "just has three things on it you your container and the network and um",
    "start": "99040",
    "end": "105439"
  },
  {
    "text": "and cni sits in the middle so this represents uh the the big picture the point",
    "start": "105439",
    "end": "112079"
  },
  {
    "text": "we're trying to make here is that um cni is intended to sit in a world where",
    "start": "112079",
    "end": "120000"
  },
  {
    "text": "people use all different kinds of networks they use all different kinds of ways of getting their containers working and we'll go into more detail",
    "start": "120000",
    "end": "127439"
  },
  {
    "text": "about that as this talk progresses um but but fundamentally it's it's the bit",
    "start": "127439",
    "end": "134400"
  },
  {
    "text": "in the middle it's uh it exists as a common ground interface",
    "start": "134400",
    "end": "141360"
  },
  {
    "text": "so that all different companies and and people can contribute to this world and have them",
    "start": "141360",
    "end": "147840"
  },
  {
    "text": "work together",
    "start": "147840",
    "end": "150480"
  },
  {
    "text": "so here's a more detailed picture uh the um",
    "start": "153360",
    "end": "161280"
  },
  {
    "text": "uh what we've got on on the right uh representing the um container runtime uh",
    "start": "161360",
    "end": "169120"
  },
  {
    "text": "yeah so it's you know it's not literally the person that sets up a container at some software um perhaps using kubernetes although cni",
    "start": "169120",
    "end": "176319"
  },
  {
    "text": "works with um others mesos cloud foundry a whole bunch of different",
    "start": "176319",
    "end": "181519"
  },
  {
    "text": "um orchestrators for containers um and those go through some kind of",
    "start": "181519",
    "end": "187519"
  },
  {
    "text": "container run time like uh podman cryo container d",
    "start": "187519",
    "end": "192959"
  },
  {
    "text": "um so so that's kind of putting more detail on the uh on",
    "start": "192959",
    "end": "198400"
  },
  {
    "text": "the whole um uh ecosystem on the right um",
    "start": "198400",
    "end": "204080"
  },
  {
    "text": "and the cni project is everything in this box here um it's uh uh",
    "start": "204080",
    "end": "212560"
  },
  {
    "text": "things that the libraries that the runtime calls its plugins which implement the actual network connection",
    "start": "212560",
    "end": "219040"
  },
  {
    "text": "um and we'll come back to more detail on this in a bit",
    "start": "219040",
    "end": "226080"
  },
  {
    "text": "casey why don't you tell us a bit more about the um the project sure so we're both here as maintainers",
    "start": "226080",
    "end": "233760"
  },
  {
    "start": "230000",
    "end": "295000"
  },
  {
    "text": "of the cni project which is an organization under the cncf umbrella as a project we have",
    "start": "233760",
    "end": "239439"
  },
  {
    "text": "two major outputs the first is the cni specification document which defines the",
    "start": "239439",
    "end": "245200"
  },
  {
    "text": "cni protocol and a reference implementation in go of that protocol",
    "start": "245200",
    "end": "250400"
  },
  {
    "text": "this reference implementation as it happens is used by both container runtimes and cni plugins",
    "start": "250400",
    "end": "256079"
  },
  {
    "text": "and it's generally widely used although not the only implementation of cni used in the industry this this",
    "start": "256079",
    "end": "262720"
  },
  {
    "text": "section of the project or this output has a pretty slow relatively stable release cycle as befitting a",
    "start": "262720",
    "end": "267919"
  },
  {
    "text": "specification the second output of the cni project or consumable",
    "start": "267919",
    "end": "272960"
  },
  {
    "text": "is a suite of commonly used cni plug-ins these include some basic connectivity plug-ins such as bridge",
    "start": "272960",
    "end": "279440"
  },
  {
    "text": "and some chained utility plug-ins like bandwidth limiting host port mapping and some other tweaks most of the plugins are linux",
    "start": "279440",
    "end": "286479"
  },
  {
    "text": "only but we do have a selection of windows plugins maintained by microsoft and other contributors",
    "start": "286479",
    "end": "291759"
  },
  {
    "text": "and you can find all of course all of these on github to dive in a little bit more into the",
    "start": "291759",
    "end": "298960"
  },
  {
    "start": "295000",
    "end": "352000"
  },
  {
    "text": "specification the specification really is the heart of cni right it defines the protocol",
    "start": "298960",
    "end": "304000"
  },
  {
    "text": "between the runtime and the plug-in as brian showed earlier because the cni specification is a",
    "start": "304000",
    "end": "309440"
  },
  {
    "text": "simple vendor-neutral stable specification it's an industry standard that's widely used it's not just used by kubernetes",
    "start": "309440",
    "end": "316320"
  },
  {
    "text": "by mesos cloud foundry et cetera et cetera we see we've seen the list before the key part of the specification is how",
    "start": "316320",
    "end": "323199"
  },
  {
    "text": "plugins are discovered by the runtime the execution flow and the data types",
    "start": "323199",
    "end": "328560"
  },
  {
    "text": "for both configuration and the data types for responses as well the specification is not complicated",
    "start": "328560",
    "end": "334560"
  },
  {
    "text": "generally it's backwards compatible for the average end user the specification it's probably",
    "start": "334560",
    "end": "340479"
  },
  {
    "text": "not going to concern you too too much other than perhaps the version but it's good to know that the document",
    "start": "340479",
    "end": "345520"
  },
  {
    "text": "exists and you could probably read it if you needed to uh the next question for you brian then",
    "start": "345520",
    "end": "351440"
  },
  {
    "text": "is what isn't cni uh yeah um so we thought",
    "start": "351440",
    "end": "359039"
  },
  {
    "start": "352000",
    "end": "498000"
  },
  {
    "text": "we we'd put this in because as maintainers on the cni project",
    "start": "359039",
    "end": "366639"
  },
  {
    "text": "you know almost any problem you're having with your system can look like a network problem so so we do",
    "start": "366639",
    "end": "372880"
  },
  {
    "text": "get a lot of different questions and unfortunately we don't",
    "start": "372880",
    "end": "378400"
  },
  {
    "text": "we don't do every part of the the network uh picture um",
    "start": "378400",
    "end": "385520"
  },
  {
    "text": "so cni is really about con connecting containers or pods to the network",
    "start": "385520",
    "end": "392639"
  },
  {
    "text": "um and if you're using a system like kubernetes it will provide in different ways things like",
    "start": "392639",
    "end": "398880"
  },
  {
    "text": "load balancing service discovery um network policy there's",
    "start": "398880",
    "end": "404639"
  },
  {
    "text": "uh there's all these different things that um go together uh and and cni is kind of i mean the cni",
    "start": "404639",
    "end": "412960"
  },
  {
    "text": "project itself is this little bit of glue um and very little uh",
    "start": "412960",
    "end": "418319"
  },
  {
    "text": "uh you know a lot a lot of problems come from elsewhere um it's also as i mentioned already cni is",
    "start": "418319",
    "end": "424960"
  },
  {
    "text": "not kubernetes specific [Music] so even if we",
    "start": "424960",
    "end": "432160"
  },
  {
    "text": "could perhaps make a change in cni uh that would um",
    "start": "432160",
    "end": "440400"
  },
  {
    "text": "you know we we have to we have to be even-handed across all those different uh systems and um and the cli project",
    "start": "440400",
    "end": "447440"
  },
  {
    "text": "although we do have some plugins that that we're going to talk about uh in our um repo",
    "start": "447440",
    "end": "454080"
  },
  {
    "text": "um a lot of people are using uh third-party ones that that you know i",
    "start": "454080",
    "end": "460240"
  },
  {
    "text": "work on one as i said we've met calico is very popular silly and there's there's a whole",
    "start": "460240",
    "end": "465759"
  },
  {
    "text": "um bunch of them and that's great you know that is the whole point to to allow uh different people to",
    "start": "465759",
    "end": "472240"
  },
  {
    "text": "to implement things so um yeah so the cni uh that we're",
    "start": "472240",
    "end": "478319"
  },
  {
    "text": "representing as maintainers of the project um is the uh is the bid in the middle",
    "start": "478319",
    "end": "485599"
  },
  {
    "text": "and there's all this other world that is not the cni project although we you know we we talked to those folks um",
    "start": "485599",
    "end": "492560"
  },
  {
    "text": "and generally work together pretty well but it's not the whole world",
    "start": "492560",
    "end": "498879"
  },
  {
    "start": "498000",
    "end": "593000"
  },
  {
    "text": "uh so let's take a deeper look into how does it all work casey",
    "start": "499680",
    "end": "508319"
  },
  {
    "text": "for context we can go and dive a bit more deeply into this diagram as we had said before",
    "start": "509520",
    "end": "515360"
  },
  {
    "text": "cni is the protocol for container runtimes which we see here on the right which is podman et cetera et cetera to",
    "start": "515360",
    "end": "521360"
  },
  {
    "text": "request that a network plug-in such as weave or flannel which we see here on the left connect",
    "start": "521360",
    "end": "526480"
  },
  {
    "text": "a container to the network your container runtime is going to first create the container",
    "start": "526480",
    "end": "532080"
  },
  {
    "text": "then it's going to call out to its cni plugin which will create and configure a network interface",
    "start": "532080",
    "end": "537519"
  },
  {
    "text": "or more than one network interface in the container's namespace we see here libcni",
    "start": "537519",
    "end": "542880"
  },
  {
    "text": "which is our reference implementation usually mediates both sides of the protocol how the cni",
    "start": "542880",
    "end": "549920"
  },
  {
    "text": "plugin actually works is not defined in the specification likewise the plugin doesn't need to know",
    "start": "549920",
    "end": "555279"
  },
  {
    "text": "anything about the container runtime so it is abstracted over that",
    "start": "555279",
    "end": "560080"
  },
  {
    "text": "note by the way on this picture this is just an aside that but it's an important understanding to have the cubelet is not present on this slide",
    "start": "560959",
    "end": "568640"
  },
  {
    "text": "so remember the cubelet doesn't actually create containers itself it talks to its container runtime engines by something",
    "start": "568640",
    "end": "573920"
  },
  {
    "text": "known as the cri or container runtime interface the cri implemented by runtimes",
    "start": "573920",
    "end": "580399"
  },
  {
    "text": "is what actually creates the container and the runtime is responsible in the kubernetes world for doing the lib cn for doing the cni",
    "start": "580399",
    "end": "589839"
  },
  {
    "text": "uh next up brian is going to tell us a bit about the execution flow",
    "start": "589839",
    "end": "595040"
  },
  {
    "start": "593000",
    "end": "672000"
  },
  {
    "text": "yeah so um so if you keep that picture in mind the the runtime calling",
    "start": "595760",
    "end": "601760"
  },
  {
    "text": "the plugin it can call it with one of four different commands we only have four at the moment",
    "start": "601760",
    "end": "607600"
  },
  {
    "text": "so it's pretty simple um add adds an interface delete takes it away and then there's some",
    "start": "607600",
    "end": "616480"
  },
  {
    "text": "check and version a check to check that things are still the way you thought they were and and version",
    "start": "616480",
    "end": "622240"
  },
  {
    "text": "just uh you know administratively finding out what version the thing you're talking to is",
    "start": "622240",
    "end": "627600"
  },
  {
    "text": "um plugins are executable so that's the way you call a cni plug-in is",
    "start": "627600",
    "end": "633519"
  },
  {
    "text": "you run a program and the program is the plug-in it's a really simple interface um",
    "start": "633519",
    "end": "640800"
  },
  {
    "text": "the details about what to do are passed in on standard in on this program that",
    "start": "640800",
    "end": "646399"
  },
  {
    "text": "you're running uh in an adjacent format and standard out",
    "start": "646399",
    "end": "651680"
  },
  {
    "text": "uh comes the answer the response from the plugin so the whole thing is just extremely",
    "start": "651680",
    "end": "658480"
  },
  {
    "text": "simple and that is the whole mechanism of calling a",
    "start": "658480",
    "end": "665040"
  },
  {
    "text": "cni plug-in okay so casey take us through what that looks like when you actually make",
    "start": "665040",
    "end": "674240"
  },
  {
    "start": "672000",
    "end": "814000"
  },
  {
    "text": "so this is the configuration format uh it's the cni standard it's a json based",
    "start": "674240",
    "end": "680079"
  },
  {
    "text": "configuration and it usually lives on disk uh it is consumed somewhat it's consumed by both the runtime and",
    "start": "680079",
    "end": "686560"
  },
  {
    "text": "the plug-in and unfortunately it looks like the highlighting hasn't carried through",
    "start": "686560",
    "end": "692720"
  },
  {
    "text": "i'd like to point out so the first three configurations fields here version name and type are consumed by",
    "start": "692720",
    "end": "699440"
  },
  {
    "text": "both the runtime and the plugin they are used for version negotiation and plug and discovery",
    "start": "699440",
    "end": "705040"
  },
  {
    "text": "the remaining sections of this sample configuration file are plug-in specific so they are not",
    "start": "705040",
    "end": "710079"
  },
  {
    "text": "consumed by the runtime they're not even really part of the cni specification so as such they are",
    "start": "710079",
    "end": "715200"
  },
  {
    "text": "open for you as a plug-in maintainer or a system administrator to use so it's a really simple format and uh",
    "start": "715200",
    "end": "721600"
  },
  {
    "text": "it's a little bit of a hybrid of both the runtime and the plug-in side configuration in a single file",
    "start": "721600",
    "end": "728560"
  },
  {
    "text": "however a simple configuration file has ground up to not be flexible enough so in specification",
    "start": "728560",
    "end": "738320"
  },
  {
    "text": "version there we go okay so",
    "start": "742839",
    "end": "749120"
  },
  {
    "text": "uh the spec version 0.3 has we've defined something called dynamic configuration",
    "start": "749120",
    "end": "755040"
  },
  {
    "text": "or in this case we're calling runtime configuration this is a way for a cni configuration",
    "start": "755040",
    "end": "760320"
  },
  {
    "text": "file to signify to the runtime where it might want some container specific configuration to be inserted",
    "start": "760320",
    "end": "765440"
  },
  {
    "text": "and this means that configuration files can mostly live on disk and mostly be static however the actual interaction between",
    "start": "765440",
    "end": "772320"
  },
  {
    "text": "the runtime and the plugin can be dynamic so on the left we would see a json configuration file on disk",
    "start": "772320",
    "end": "778880"
  },
  {
    "text": "it's very simple but we see here it has the section capabilities and it says that i support the port",
    "start": "778880",
    "end": "783920"
  },
  {
    "text": "mapping capability well for each container invocation if the runtime so desires",
    "start": "783920",
    "end": "789600"
  },
  {
    "text": "it may substitute a port mapping capability with some port mapping runtime configuration where we see that this particular",
    "start": "789600",
    "end": "795760"
  },
  {
    "text": "container happens to have a host port configured a container report this is to say we",
    "start": "795760",
    "end": "801200"
  },
  {
    "text": "would like a very specific chunk of container specific information substituted into the configuration and",
    "start": "801200",
    "end": "807600"
  },
  {
    "text": "then the other exciting thing inspect 0.3 is plug-in chaining and brian's going to talk to you about that",
    "start": "807600",
    "end": "815519"
  },
  {
    "start": "814000",
    "end": "914000"
  },
  {
    "text": "yeah chaining calling a chain or sequence of plugins in a row",
    "start": "815519",
    "end": "822560"
  },
  {
    "text": "allows us to compose functionality to to add things in um so not every",
    "start": "822560",
    "end": "830160"
  },
  {
    "text": "plugin has to kind of paste in all of the features that people want um so this example",
    "start": "830160",
    "end": "838480"
  },
  {
    "text": "on on the slide has has two plugins listed the the bridge plug-in which is is um you",
    "start": "838639",
    "end": "845680"
  },
  {
    "text": "know just just uh bridging all the traffic from several containers um and then followed by a port forward",
    "start": "845680",
    "end": "853199"
  },
  {
    "text": "plug-in so it's kind of the same example or same area that casey was just talking about",
    "start": "853199",
    "end": "858560"
  },
  {
    "text": "um if i want to uh bring out some ports from my container to the host the port",
    "start": "858560",
    "end": "863600"
  },
  {
    "text": "that's what the port forward plug-in does and um and the bridge and",
    "start": "863600",
    "end": "869120"
  },
  {
    "text": "weavenet and uh calico and whatever do not have to re-implement that functionality because",
    "start": "869120",
    "end": "874399"
  },
  {
    "text": "they can they can put it in a chain or more specifically the person uh configuring the network configuring",
    "start": "874399",
    "end": "881360"
  },
  {
    "text": "your own cluster can can construct that chain in exactly the way you want to do it so um so that's a",
    "start": "881360",
    "end": "889279"
  },
  {
    "text": "powerful feature each plug-in in a chain operates on on one interface",
    "start": "889279",
    "end": "895920"
  },
  {
    "text": "so this is this is not about running like the same plug-in multiple times to give you multiple interfaces",
    "start": "895920",
    "end": "901680"
  },
  {
    "text": "um you you just you know if you if you want to do that you just do it with with uh separate configs",
    "start": "901680",
    "end": "908079"
  },
  {
    "text": "um and we'll talk a little bit more about that later but yeah that's plugin chaining",
    "start": "908079",
    "end": "915120"
  },
  {
    "start": "914000",
    "end": "1062000"
  },
  {
    "text": "so next brian is going to talk to us about how the cni project actually works as a open",
    "start": "915120",
    "end": "921440"
  },
  {
    "text": "source project",
    "start": "921440",
    "end": "927519"
  },
  {
    "text": "um so we have uh the the parts that we've talked about already the the spec um",
    "start": "927519",
    "end": "935279"
  },
  {
    "text": "this is actively maintained we we have a maintainers meeting every week and we we look at questions",
    "start": "935279",
    "end": "942880"
  },
  {
    "text": "that have come in or issues raised against the spec people submit pr's against the spec",
    "start": "942880",
    "end": "950560"
  },
  {
    "text": "but it tends to happen quite slowly because the this making a change in the",
    "start": "950720",
    "end": "956560"
  },
  {
    "text": "spec might require a lot of plug-in authors to to do rework",
    "start": "956560",
    "end": "961839"
  },
  {
    "text": "um so it tends to evolve very slowly over time we uh are really close to",
    "start": "961839",
    "end": "969759"
  },
  {
    "text": "um announcing 1.0 which a lot of people are looking forward to because that'll be a declaration that we're",
    "start": "969759",
    "end": "976480"
  },
  {
    "text": "really going to try even harder not to change anything fundamental in the spec um so that's that's close",
    "start": "976480",
    "end": "983600"
  },
  {
    "text": "month month or so is what we're thinking right now um the plugins however",
    "start": "983600",
    "end": "990959"
  },
  {
    "text": "uh go much faster you know they're they're individual bits of software",
    "start": "990959",
    "end": "997360"
  },
  {
    "text": "features are added bugs are fixed just you know as as they come up",
    "start": "997360",
    "end": "1005360"
  },
  {
    "text": "and we we have even more contributors there a lot of people from around the world using cni software",
    "start": "1005360",
    "end": "1013279"
  },
  {
    "text": "and they come across something they'd like or they come across bug and they can if they know go code they can submit a",
    "start": "1013279",
    "end": "1019440"
  },
  {
    "text": "pr um and like i say we do a maintainers meeting once a week that tends to be where we we",
    "start": "1019440",
    "end": "1026880"
  },
  {
    "text": "sweep through things that come in and make sure we catch up on all of them",
    "start": "1026880",
    "end": "1033120"
  },
  {
    "text": "uh and at the bottom of the slide uh cubenet cube proxy anything",
    "start": "1033120",
    "end": "1038798"
  },
  {
    "text": "like that is is the kubernetes project it's not the cni project and um they have an organization sig",
    "start": "1038799",
    "end": "1046240"
  },
  {
    "text": "network uh which which kind of owns all that stuff um so although we're",
    "start": "1046240",
    "end": "1054240"
  },
  {
    "text": "very good friends with those people it's it's a different project works on in different way and it's not part of",
    "start": "1054240",
    "end": "1059360"
  },
  {
    "text": "what we're talking about in this talk so we have um seven",
    "start": "1059360",
    "end": "1066400"
  },
  {
    "start": "1062000",
    "end": "1115000"
  },
  {
    "text": "maintainers uh right now and as you can see they come from um a bunch of different companies",
    "start": "1066400",
    "end": "1074320"
  },
  {
    "text": "um typically software companies i mean you know we're not really network people",
    "start": "1074320",
    "end": "1081280"
  },
  {
    "text": "uh we're not we're not network engineers by trade um so uh we're mostly kind of",
    "start": "1081280",
    "end": "1088720"
  },
  {
    "text": "application developer type people who happen to know a bit about networks and wish to",
    "start": "1088720",
    "end": "1094320"
  },
  {
    "text": "contribute it's really a volunteer effort um you know we're there's no kind of",
    "start": "1094320",
    "end": "1101120"
  },
  {
    "text": "billion dollar business on the back of cni uh so um so those are the people that uh",
    "start": "1101120",
    "end": "1108320"
  },
  {
    "text": "um you have to thank for uh making this thing move forward each week",
    "start": "1108320",
    "end": "1116080"
  },
  {
    "start": "1115000",
    "end": "1204000"
  },
  {
    "text": "um so talking about what's happened recently uh in the spec not point four that was",
    "start": "1116160",
    "end": "1123360"
  },
  {
    "text": "the most recent version that went out we um we added this check command which took a lot of of debate",
    "start": "1123360",
    "end": "1130080"
  },
  {
    "text": "and thinking about how to do it um we added static ip support changing",
    "start": "1130080",
    "end": "1138080"
  },
  {
    "text": "support for changing the mac um layer two bridges and uh uh yeah a little thing that was",
    "start": "1138080",
    "end": "1146000"
  },
  {
    "text": "needed to play better with the kubernetes device plugins so um i won't read the whole list but uh",
    "start": "1146000",
    "end": "1152799"
  },
  {
    "text": "you know you can you can go over to the github slash container network",
    "start": "1152799",
    "end": "1157840"
  },
  {
    "text": "cni or plugins uh see everything that's been going on um cves that's that's a kind of",
    "start": "1157840",
    "end": "1165600"
  },
  {
    "text": "colloquial term for for security vulnerabilities do come up and those generally cause us to to jump",
    "start": "1165600",
    "end": "1173039"
  },
  {
    "text": "uh although we tend to have to do that in secret um because we're trying to get the fix out",
    "start": "1173039",
    "end": "1178720"
  },
  {
    "text": "before the problem is widely known um anyway that the deep dive session",
    "start": "1178720",
    "end": "1184320"
  },
  {
    "text": "which if you're watching live is tomorrow um i go into",
    "start": "1184320",
    "end": "1189440"
  },
  {
    "text": "quite a bit of detail about some vulnerabilities we've dealt with recently so if you're interested do come",
    "start": "1189440",
    "end": "1194640"
  },
  {
    "text": "along to the deep dive cni deep dive session all right i'm going to hand over to",
    "start": "1194640",
    "end": "1200799"
  },
  {
    "text": "casey to talk about what's coming up next",
    "start": "1200799",
    "end": "1207840"
  },
  {
    "start": "1204000",
    "end": "1282000"
  },
  {
    "text": "so uh trouble advancing the slides if someone could help me out",
    "start": "1210000",
    "end": "1215760"
  },
  {
    "text": "in any case oops alrighty there we go so uh what's next",
    "start": "1219280",
    "end": "1225679"
  },
  {
    "text": "right as we said 1.0 we essentially consider it to be feature complete the spec is essentially stable",
    "start": "1225679",
    "end": "1230720"
  },
  {
    "text": "we we essentially need to crystallize that in order to cut 1.0 we need a bit more precise specification language that just",
    "start": "1230720",
    "end": "1237760"
  },
  {
    "text": "needs to be tightened up a bit and we'd like a more secure or signed release binary is a more secure release mechanism what's",
    "start": "1237760",
    "end": "1245039"
  },
  {
    "text": "next after that we're starting to dream about spec version 2.0 and what that might look like",
    "start": "1245039",
    "end": "1250559"
  },
  {
    "text": "are we going to do something like grpc about which we'll chat a little bit more in a bit do we want a richer life cycle",
    "start": "1250559",
    "end": "1257440"
  },
  {
    "text": "create and delete are of course important but they're certainly not the only thing in a container life cycle",
    "start": "1257440",
    "end": "1263360"
  },
  {
    "text": "as we all know but the other ques the other question for the community is what do you want",
    "start": "1263360",
    "end": "1268400"
  },
  {
    "text": "what can cni do to help advance the state of container networking it's an open source project it's a public specification and",
    "start": "1268400",
    "end": "1275120"
  },
  {
    "text": "we would absolutely love your input a bit later we'll talk about how you can get involved in the project",
    "start": "1275120",
    "end": "1281120"
  },
  {
    "text": "okay so now we're going to quickly go through some frequently asked questions that often",
    "start": "1281120",
    "end": "1286320"
  },
  {
    "start": "1282000",
    "end": "1333000"
  },
  {
    "text": "have come up when we've done these sorts of sessions before or in slack and maintainers meaning in other emails the first",
    "start": "1286320",
    "end": "1293039"
  },
  {
    "text": "is why do some cni program plugins especially those in kubernetes come with the host side demon",
    "start": "1293039",
    "end": "1299600"
  },
  {
    "text": "and the answer has to do with life cycle cni is only concerned with the life",
    "start": "1299600",
    "end": "1306080"
  },
  {
    "text": "cycle of an individual container that's pod that's creation and deletion you need some sort of long running process",
    "start": "1306080",
    "end": "1311919"
  },
  {
    "text": "to maintain routing tables if you have a higher level system such as kubernetes you need to react to events that happen",
    "start": "1311919",
    "end": "1317520"
  },
  {
    "text": "across the cluster that are not container level events the demon might for example set up routes or",
    "start": "1317520",
    "end": "1322640"
  },
  {
    "text": "react to node changes or something like that a question for you brian then is uh",
    "start": "1322640",
    "end": "1328240"
  },
  {
    "text": "brian can i have multiple interfaces in a pod",
    "start": "1328240",
    "end": "1333760"
  },
  {
    "start": "1333000",
    "end": "1482000"
  },
  {
    "text": "uh yes you can casey um so cni",
    "start": "1333760",
    "end": "1341280"
  },
  {
    "text": "has always supported multiple interfaces in a pod right right from the beginning um",
    "start": "1341280",
    "end": "1346960"
  },
  {
    "text": "all you need to do is call it multiple times with the different config that you need",
    "start": "1346960",
    "end": "1354240"
  },
  {
    "text": "um and you can call the same plugin multiple times you can call different plugins with different configs",
    "start": "1354240",
    "end": "1360480"
  },
  {
    "text": "on the same container and you will have multiple interfaces in your container the reason why",
    "start": "1360480",
    "end": "1366799"
  },
  {
    "text": "this question gets asked so much i think generally stems from the fact",
    "start": "1366799",
    "end": "1372159"
  },
  {
    "text": "that kubernetes only supports one interface in in a pod um",
    "start": "1372159",
    "end": "1378320"
  },
  {
    "text": "the the plumbing the the number of concepts in kubernetes that um they're based around the idea that",
    "start": "1378320",
    "end": "1384960"
  },
  {
    "text": "there's only one interface is is large and a huge amount of work to um shift from that position so",
    "start": "1384960",
    "end": "1393200"
  },
  {
    "text": "um so what people tend to do to work around that problem is um is they run a cni plug-in",
    "start": "1393200",
    "end": "1400400"
  },
  {
    "text": "which itself calls multiple cni plug-ins so multis is a good example of that um",
    "start": "1400400",
    "end": "1407039"
  },
  {
    "text": "there are there are a couple other there are cni genie dan m uh coming from predominantly a",
    "start": "1407039",
    "end": "1414960"
  },
  {
    "text": "telecoms background so um so if that's you uh if you're in the",
    "start": "1414960",
    "end": "1421039"
  },
  {
    "text": "telecom world definitely suggest taking a look at some of those um",
    "start": "1421039",
    "end": "1426320"
  },
  {
    "text": "also you know if if you have ideas uh you know back to what casey was saying what would you like",
    "start": "1426320",
    "end": "1433360"
  },
  {
    "text": "next um particularly if you want to uh contribute code to help make those",
    "start": "1433360",
    "end": "1440720"
  },
  {
    "text": "things happen please do um you know show up in uh in the",
    "start": "1440720",
    "end": "1447840"
  },
  {
    "text": "github issues or in our slack channel or some other way that we publish to",
    "start": "1447919",
    "end": "1453440"
  },
  {
    "text": "contact us we'd love to hear from you um but yes so back to the back to the",
    "start": "1453440",
    "end": "1459279"
  },
  {
    "text": "simple question cni itself supports multiple interfaces kubernetes really only deals with",
    "start": "1459279",
    "end": "1466559"
  },
  {
    "text": "one interface for a pod um but you can generally get around that by",
    "start": "1466559",
    "end": "1473039"
  },
  {
    "text": "by faking it with something like maltose well gee that took a long time so casey",
    "start": "1473039",
    "end": "1479279"
  },
  {
    "text": "you can uh take the next one what about deployment sure right so uh if you have a cni",
    "start": "1479279",
    "end": "1485279"
  },
  {
    "start": "1482000",
    "end": "1527000"
  },
  {
    "text": "plugin how might you deploy it right well the good news is that all you need to do is write a couple files to disk",
    "start": "1485279",
    "end": "1490799"
  },
  {
    "text": "you don't need to set up a demon unless you do you don't need to do any complicated host level configuration",
    "start": "1490799",
    "end": "1496720"
  },
  {
    "text": "the best practice in the kubernetes world is to use a daemon set that leaks these files onto host",
    "start": "1496720",
    "end": "1502080"
  },
  {
    "text": "but any mechanism by which you like to configure your nodes this will work this will often be",
    "start": "1502080",
    "end": "1507600"
  },
  {
    "text": "provided to you by your vendor we would like to come up with a better story for how this is done",
    "start": "1507600",
    "end": "1513600"
  },
  {
    "text": "perhaps the cluster add-on sub-project as part of sig cluster lifecycle will be the answer",
    "start": "1513600",
    "end": "1519120"
  },
  {
    "text": "so we have an answer it's not great but it works reasonably well for now so brian do we support ipv6",
    "start": "1519120",
    "end": "1528400"
  },
  {
    "start": "1527000",
    "end": "1602000"
  },
  {
    "text": "uh yeah we do casey wells again uh cni um supports ipv6",
    "start": "1528400",
    "end": "1535679"
  },
  {
    "text": "uh we added into spec a couple years ago and the the plugins about a year ago",
    "start": "1535679",
    "end": "1542320"
  },
  {
    "text": "all the plugins that we own anyway support uh as the cni project support ipv6",
    "start": "1542320",
    "end": "1548080"
  },
  {
    "text": "for over a year um again uh it's really complicated to plumb that",
    "start": "1548080",
    "end": "1554720"
  },
  {
    "text": "into kubernetes and um so they made the first step",
    "start": "1554720",
    "end": "1560720"
  },
  {
    "text": "uh which which is if you want a cluster that's only ipv6 um so that works pretty well uh",
    "start": "1560720",
    "end": "1567679"
  },
  {
    "text": "most people probably want a dual stack ipv4 and ipv6 um that is still",
    "start": "1567679",
    "end": "1575600"
  },
  {
    "text": "marked as alpha in other words not not really completely ready in in kubernetes",
    "start": "1575600",
    "end": "1581919"
  },
  {
    "text": "um i think it came in in version 1.16 of kubernetes",
    "start": "1581919",
    "end": "1587360"
  },
  {
    "text": "um and is is still uh still got a few rough edges um but check",
    "start": "1587360",
    "end": "1593279"
  },
  {
    "text": "it out um and again they need help from people checking it out and",
    "start": "1593279",
    "end": "1598400"
  },
  {
    "text": "people making it better um so casey what about this",
    "start": "1598400",
    "end": "1604559"
  },
  {
    "start": "1602000",
    "end": "1651000"
  },
  {
    "text": "uh you know why are we executing binaries so the cna protocol does kind of seem a",
    "start": "1604559",
    "end": "1609840"
  },
  {
    "text": "bit old-fashioned why not grpc like every other kubernetes and container related api like cri",
    "start": "1609840",
    "end": "1616000"
  },
  {
    "text": "csi and so on and so forth well i mean it's a long story and somewhat historical but ultimately it's because",
    "start": "1616000",
    "end": "1621440"
  },
  {
    "text": "cni came out of rocket the container runtime engine from coreos which has which is always demonless",
    "start": "1621440",
    "end": "1627200"
  },
  {
    "text": "executing binaries is a really simple api don't need a daemon and it just fit in with the entire",
    "start": "1627200",
    "end": "1632720"
  },
  {
    "text": "ecosystem the simplicity ultimately led partially to cni's adoption however the world has moved on things",
    "start": "1632720",
    "end": "1639360"
  },
  {
    "text": "have changed and we would like to think about opening up the possibility for grp ac in",
    "start": "1639360",
    "end": "1644480"
  },
  {
    "text": "cni v 2.0 we're running quickly out of time but brian would you like to highlight some",
    "start": "1644480",
    "end": "1650080"
  },
  {
    "text": "cool chain plugins yeah uh so we talked about chaining earlier",
    "start": "1650080",
    "end": "1655600"
  },
  {
    "start": "1651000",
    "end": "1736000"
  },
  {
    "text": "calling one thing then another then another on the on the same interface and and so people have really run with that",
    "start": "1655600",
    "end": "1661600"
  },
  {
    "text": "idea um you can do your port mappings you can tune things like tweaking the mac address and",
    "start": "1661600",
    "end": "1668960"
  },
  {
    "text": "and uh linux system settings um actually that reminds me one thing we",
    "start": "1668960",
    "end": "1674720"
  },
  {
    "text": "wanted to stress uh cni plugins exist for linux and windows",
    "start": "1674720",
    "end": "1680240"
  },
  {
    "text": "i in my job i tend to work on on linux but we shouldn't uh lose sight of that the um",
    "start": "1680240",
    "end": "1687039"
  },
  {
    "text": "the ecosystem works on on windows too so um sorry back to back to the question i'm",
    "start": "1687039",
    "end": "1692960"
  },
  {
    "text": "supposed to be talking about um another kind of tuning is is bandwidth but it's actually separate uh",
    "start": "1692960",
    "end": "1698240"
  },
  {
    "text": "plug-in uh doesn't matter you can call as many as you like um",
    "start": "1698240",
    "end": "1703360"
  },
  {
    "text": "we have a plug-in to try and interact better with uh firewalls on on linux",
    "start": "1703360",
    "end": "1710640"
  },
  {
    "text": "and source-based routing choosing where exactly your traffic is",
    "start": "1710640",
    "end": "1716720"
  },
  {
    "text": "going to go based on the um where it's coming from which",
    "start": "1716720",
    "end": "1722320"
  },
  {
    "text": "again is a cool feature that some little niche but some people like that",
    "start": "1722320",
    "end": "1729039"
  },
  {
    "text": "okay i think we are done on our list of uh frequently asked questions so",
    "start": "1729039",
    "end": "1736720"
  },
  {
    "start": "1736000",
    "end": "1779000"
  },
  {
    "text": "uh let's put up some links um the deep dive session i've mentioned",
    "start": "1736720",
    "end": "1742080"
  },
  {
    "text": "already if you're watching this live it's tomorrow and the github",
    "start": "1742080",
    "end": "1749600"
  },
  {
    "text": "links where the code lives and the cni is the spec and library that's the bit",
    "start": "1749600",
    "end": "1754640"
  },
  {
    "text": "that moves a bit slower and the plugins well that's the plugins moves quite a lot faster we have our own",
    "start": "1754640",
    "end": "1761279"
  },
  {
    "text": "slack channel in the cncf slack um but do remember if your",
    "start": "1761279",
    "end": "1767760"
  },
  {
    "text": "question is really about kubernetes uh they have their own area in fact they're on slack",
    "start": "1767760",
    "end": "1773039"
  },
  {
    "text": "so i put a link up for that too casey you want to wrap up sure i",
    "start": "1773039",
    "end": "1781440"
  },
  {
    "start": "1779000",
    "end": "2163000"
  },
  {
    "text": "thanks everybody for coming uh we're here to answer questions and please join us of course in the slack and on github",
    "start": "1781440",
    "end": "1787360"
  },
  {
    "text": "and i will end the presentation with this slide just to leave it up so we can reference it if there's any final",
    "start": "1787360",
    "end": "1792720"
  },
  {
    "text": "questions but thank you very much for watching yeah thanks bye",
    "start": "1792720",
    "end": "1799120"
  },
  {
    "text": "oh hello live looks like we're live online and um uh so",
    "start": "1802480",
    "end": "1810640"
  },
  {
    "text": "thanks for all the questions great questions coming in we answered a lot of them uh by typing i wanted to pick up uh one",
    "start": "1810640",
    "end": "1818240"
  },
  {
    "text": "that came in earlier uh which is basically how how what are some things to think about when you're picking a cni",
    "start": "1818240",
    "end": "1824159"
  },
  {
    "text": "plug-in and um uh that which is obviously a great",
    "start": "1824159",
    "end": "1831440"
  },
  {
    "text": "question um so i think i would i would highlight one key difference there there are some",
    "start": "1831440",
    "end": "1838080"
  },
  {
    "text": "of them that work as what's called an overlay so they they kind of make a whole",
    "start": "1838080",
    "end": "1843600"
  },
  {
    "text": "virtual network inside your real network and there are some that run on your real network",
    "start": "1843600",
    "end": "1848960"
  },
  {
    "text": "and um so basically uh you you might have constraints on your",
    "start": "1848960",
    "end": "1854399"
  },
  {
    "text": "real network you might have not enough address space or limitations or or something like that",
    "start": "1854399",
    "end": "1860480"
  },
  {
    "text": "that might really drive you in the direction of an overlay so that's going to narrow the the choice",
    "start": "1860480",
    "end": "1866080"
  },
  {
    "text": "down overlay has a little bit of extra work so there's a performance hit to",
    "start": "1866080",
    "end": "1871840"
  },
  {
    "text": "to run an overlay um so if you don't really need an overlay maybe you're going to",
    "start": "1871840",
    "end": "1877279"
  },
  {
    "text": "choose one of the ones that doesn't do that um but that's that's a really uh pretty fundamental divide um",
    "start": "1877279",
    "end": "1884960"
  },
  {
    "text": "between the ones that work by being an overlay and the ones that don't um then beyond that there are some",
    "start": "1884960",
    "end": "1891919"
  },
  {
    "text": "features uh you might look at like do they do encryption do they do network policy",
    "start": "1891919",
    "end": "1898159"
  },
  {
    "text": "um can they handle for instance multicast traffic um that that",
    "start": "1898159",
    "end": "1904399"
  },
  {
    "text": "if you had a specific need that's going to narrow down your choices um after that",
    "start": "1904399",
    "end": "1911679"
  },
  {
    "text": "you know sort of personal preference or uh uh you know brand recognition or",
    "start": "1911679",
    "end": "1917120"
  },
  {
    "text": "something like that the the um uh that's one of the great things that we",
    "start": "1917120",
    "end": "1923919"
  },
  {
    "text": "really try to create with this whole world is is a lot of competition and um",
    "start": "1923919",
    "end": "1929360"
  },
  {
    "text": "i'm sorry that makes life harder because you have to choose but we do think competition drives the bar",
    "start": "1929360",
    "end": "1935200"
  },
  {
    "text": "up in general for everyone so there you go right and if you're using uh something say like multis you're",
    "start": "1935200",
    "end": "1941200"
  },
  {
    "text": "doing something where you are not using kubernetes and you care very specifically about the networking technology so",
    "start": "1941200",
    "end": "1946720"
  },
  {
    "text": "full disclosure i work on openshift and openshift makes it relatively easy to use multis to install extra networking",
    "start": "1946720",
    "end": "1953519"
  },
  {
    "text": "plugins and for those that if you're doing something advanced like that you probably care a lot more about the specific technology that's",
    "start": "1953519",
    "end": "1959600"
  },
  {
    "text": "being used right sometimes you just want to bridge you want to use a bridge where you're going to bridge your east 1 or east 2 into something else or",
    "start": "1959600",
    "end": "1966559"
  },
  {
    "text": "if you're very performance sensitive you might want you might want to be using something like sriov where you use a device plug-in and so a little",
    "start": "1966559",
    "end": "1973200"
  },
  {
    "text": "bit more duct tape to pull it all together such that you have a dedicated pci lane for whatever it is that your",
    "start": "1973200",
    "end": "1978640"
  },
  {
    "text": "advanced networking configuration might be right so in that case you do need to care about the specific plug-ins networking",
    "start": "1978640",
    "end": "1985120"
  },
  {
    "text": "implementation as opposed to just thinking of that as a unimportant detail",
    "start": "1985120",
    "end": "1991840"
  },
  {
    "text": "uh so a couple of more questions um we could look at uh as long as when do",
    "start": "1992799",
    "end": "1999120"
  },
  {
    "text": "we oh that's a dream yeah let's do that one right",
    "start": "1999120",
    "end": "2004480"
  },
  {
    "text": "so uh yeah so dynamic configuration is like like i had mentioned in the presentation as for anything that's plug-in specific",
    "start": "2004480",
    "end": "2010559"
  },
  {
    "text": "i'm sorry that it's container specific so the two most widely used instances for this would be",
    "start": "2010559",
    "end": "2015600"
  },
  {
    "text": "bandwidth and host ports but there are others as well right kubernetes itself has some glue that uh",
    "start": "2015600",
    "end": "2021039"
  },
  {
    "text": "puts together uh host ports which are a fundamental part of the pod spec and bandwidth which is a magic",
    "start": "2021039",
    "end": "2027039"
  },
  {
    "text": "annotation um in addition so for example in the multis world that we have built",
    "start": "2027039",
    "end": "2032640"
  },
  {
    "text": "uh the multisand castle that we have built in openshift we also use dynamic configuration so you can give pods",
    "start": "2032640",
    "end": "2038559"
  },
  {
    "text": "static ip addresses on their secondary interfaces um so one of the dynamic configuration",
    "start": "2038559",
    "end": "2044720"
  },
  {
    "text": "conventions or standards is to request that a specific pod have a specific ip address",
    "start": "2044720",
    "end": "2050000"
  },
  {
    "text": "i'm sorry that a specific interface have a specific ip address right so that's like a classic example of dynamic",
    "start": "2050000",
    "end": "2055040"
  },
  {
    "text": "configuration since you don't want every container to have the same id address unless you're totally crazy",
    "start": "2055040",
    "end": "2060638"
  },
  {
    "text": "which some of you may be um so there's a question",
    "start": "2060639",
    "end": "2068079"
  },
  {
    "text": "does overlay reduce the ip address management i i don't entirely follow what that means",
    "start": "2068079",
    "end": "2073679"
  },
  {
    "text": "but it maybe refers to something i said about if you were short on address space um so the the point being that an",
    "start": "2073679",
    "end": "2080398"
  },
  {
    "text": "overlay network uh is is isolated it runs effectively in its own address space",
    "start": "2080399",
    "end": "2087118"
  },
  {
    "text": "um so for instance you you could run 10 overlay networks uh all reusing the same set of addresses",
    "start": "2087119",
    "end": "2094638"
  },
  {
    "text": "this is more of a problem in ipv4 um but then that's that's what a lot of people are using um",
    "start": "2094639",
    "end": "2101599"
  },
  {
    "text": "so uh yeah an overlay gives you some flexibility because um as",
    "start": "2101599",
    "end": "2108079"
  },
  {
    "text": "long as you don't want to talk to an ip address uh outside of your",
    "start": "2108079",
    "end": "2113200"
  },
  {
    "text": "cluster you can use whatever address you like because you're you're in a little bubble",
    "start": "2113200",
    "end": "2119599"
  },
  {
    "text": "i think we are out of time oh yes",
    "start": "2124880",
    "end": "2132240"
  },
  {
    "text": "and hand over to casey uh sorry uh my laptop decided to drop out your audio",
    "start": "2141680",
    "end": "2147040"
  },
  {
    "text": "but uh in any case uh thank you everybody thank you everybody for coming i think we have to end the presentation here",
    "start": "2147040",
    "end": "2152079"
  },
  {
    "text": "uh i hope the rest of you have a great uconn and i'll see you in slack i will see you all virtually in all the",
    "start": "2152079",
    "end": "2157839"
  },
  {
    "text": "places in which we gather thank you",
    "start": "2157839",
    "end": "2164880"
  }
]