[
  {
    "start": "0",
    "end": "66000"
  },
  {
    "text": "hello everyone and welcome to this talk",
    "start": "80",
    "end": "2560"
  },
  {
    "text": "i am federico pierro a manager of",
    "start": "2560",
    "end": "4400"
  },
  {
    "text": "faculty security working for csd in the",
    "start": "4400",
    "end": "7120"
  },
  {
    "text": "last few months i've been quite busy in",
    "start": "7120",
    "end": "9120"
  },
  {
    "text": "improving the falco bbf probe today here",
    "start": "9120",
    "end": "12160"
  },
  {
    "text": "with me there is andrea",
    "start": "12160",
    "end": "14320"
  },
  {
    "text": "hi all nice to meet you i'm andrette",
    "start": "14320",
    "end": "16240"
  },
  {
    "text": "also a research fellow at polytechnic of",
    "start": "16240",
    "end": "18640"
  },
  {
    "text": "theory and right now i'm working",
    "start": "18640",
    "end": "20480"
  },
  {
    "text": "full-time on ebpf technology philly",
    "start": "20480",
    "end": "23279"
  },
  {
    "text": "would you like to show where are you",
    "start": "23279",
    "end": "26320"
  },
  {
    "text": "yeah sure let's go to our agenda",
    "start": "26320",
    "end": "31160"
  },
  {
    "text": "first of all we will explain the idea",
    "start": "31199",
    "end": "33440"
  },
  {
    "text": "behind the falco project and the reason",
    "start": "33440",
    "end": "35040"
  },
  {
    "text": "why we can call it a peculiar bpf use",
    "start": "35040",
    "end": "36960"
  },
  {
    "text": "case",
    "start": "36960",
    "end": "38160"
  },
  {
    "text": "then we will have a look at how falco",
    "start": "38160",
    "end": "40320"
  },
  {
    "text": "uses dppf technology under the hood",
    "start": "40320",
    "end": "42559"
  },
  {
    "text": "analyzing the most relevant aspects",
    "start": "42559",
    "end": "45280"
  },
  {
    "text": "finally we will focus on the main issues",
    "start": "45280",
    "end": "47680"
  },
  {
    "text": "faced with our current instrumentation",
    "start": "47680",
    "end": "49760"
  },
  {
    "text": "more precisely for each pitfall that we",
    "start": "49760",
    "end": "52160"
  },
  {
    "text": "will point out we will share possible",
    "start": "52160",
    "end": "54239"
  },
  {
    "text": "mitigations and some future",
    "start": "54239",
    "end": "55600"
  },
  {
    "text": "announcements",
    "start": "55600",
    "end": "57039"
  },
  {
    "text": "so if you're ready to start let's see",
    "start": "57039",
    "end": "59120"
  },
  {
    "text": "what the fico project consists of",
    "start": "59120",
    "end": "62640"
  },
  {
    "text": "as you can see from this fun animation",
    "start": "62640",
    "end": "66080"
  },
  {
    "start": "66000",
    "end": "66000"
  },
  {
    "text": "falco is an open source project that",
    "start": "66080",
    "end": "68000"
  },
  {
    "text": "basically sneaks all your system",
    "start": "68000",
    "end": "69760"
  },
  {
    "text": "searching from a level's action to",
    "start": "69760",
    "end": "72240"
  },
  {
    "text": "perform this inspection it uses two main",
    "start": "72240",
    "end": "74400"
  },
  {
    "text": "methods an epf probe and a kernel module",
    "start": "74400",
    "end": "79119"
  },
  {
    "text": "but first let's try to understand the",
    "start": "79119",
    "end": "80960"
  },
  {
    "text": "benefits that bpf technology brings on",
    "start": "80960",
    "end": "82960"
  },
  {
    "text": "the table in regards to the kernel",
    "start": "82960",
    "end": "84960"
  },
  {
    "text": "module as you can see there is no risk",
    "start": "84960",
    "end": "88240"
  },
  {
    "text": "of kernel crashes due to a wrong",
    "start": "88240",
    "end": "90079"
  },
  {
    "text": "instrumentation because bpf verifier",
    "start": "90079",
    "end": "92560"
  },
  {
    "text": "ensures that the bat code is safe before",
    "start": "92560",
    "end": "94960"
  },
  {
    "text": "injecting it into the cargo",
    "start": "94960",
    "end": "97200"
  },
  {
    "text": "moreover the kernel becomes really easy",
    "start": "97200",
    "end": "99600"
  },
  {
    "text": "to instrument adding new features on the",
    "start": "99600",
    "end": "101040"
  },
  {
    "text": "fly we have just to inject an epf",
    "start": "101040",
    "end": "103280"
  },
  {
    "text": "program without caring about the",
    "start": "103280",
    "end": "104320"
  },
  {
    "text": "internal state",
    "start": "104320",
    "end": "106079"
  },
  {
    "text": "last but not least we can solve all the",
    "start": "106079",
    "end": "108720"
  },
  {
    "text": "painful portability problems that we",
    "start": "108720",
    "end": "110720"
  },
  {
    "text": "also touch in our discussion with modern",
    "start": "110720",
    "end": "112960"
  },
  {
    "text": "video features like compile ones and",
    "start": "112960",
    "end": "114960"
  },
  {
    "text": "everywhere approach the so said query",
    "start": "114960",
    "end": "117439"
  },
  {
    "text": "approach",
    "start": "117439",
    "end": "119840"
  },
  {
    "text": "okay but why falco is a particular use",
    "start": "120240",
    "end": "122320"
  },
  {
    "text": "case",
    "start": "122320",
    "end": "123520"
  },
  {
    "text": "basically it wants to exploit all these",
    "start": "123520",
    "end": "125600"
  },
  {
    "text": "advantages even in unconventional",
    "start": "125600",
    "end": "127040"
  },
  {
    "text": "scenarios on one side it needs to",
    "start": "127040",
    "end": "129599"
  },
  {
    "text": "capture almost all the system events",
    "start": "129599",
    "end": "131440"
  },
  {
    "text": "without degrading performances",
    "start": "131440",
    "end": "133520"
  },
  {
    "text": "this means capturing cisco's content",
    "start": "133520",
    "end": "135520"
  },
  {
    "text": "switches page faults and so on",
    "start": "135520",
    "end": "138400"
  },
  {
    "text": "generating up to billions of events per",
    "start": "138400",
    "end": "140080"
  },
  {
    "text": "second to the",
    "start": "140080",
    "end": "141840"
  },
  {
    "text": "on the other hand fico requires high",
    "start": "141840",
    "end": "143840"
  },
  {
    "text": "portability the support matrix is",
    "start": "143840",
    "end": "146160"
  },
  {
    "text": "battery is pretty huge going from kernel",
    "start": "146160",
    "end": "148879"
  },
  {
    "text": "4.14 and clank 5.0 onwards",
    "start": "148879",
    "end": "152400"
  },
  {
    "text": "therefore therefore dpf probe must be",
    "start": "152400",
    "end": "154640"
  },
  {
    "text": "successfully compiled for all the",
    "start": "154640",
    "end": "156160"
  },
  {
    "text": "elements of this matrix",
    "start": "156160",
    "end": "157760"
  },
  {
    "text": "taking into account the problem related",
    "start": "157760",
    "end": "159760"
  },
  {
    "text": "to current optimizations and pdf",
    "start": "159760",
    "end": "161519"
  },
  {
    "text": "verifier requirements",
    "start": "161519",
    "end": "164319"
  },
  {
    "text": "you can see that",
    "start": "164319",
    "end": "165680"
  },
  {
    "text": "these are the two main reasons why we",
    "start": "165680",
    "end": "167280"
  },
  {
    "text": "consider farco and if we have peculiar",
    "start": "167280",
    "end": "169519"
  },
  {
    "text": "use case",
    "start": "169519",
    "end": "170879"
  },
  {
    "text": "we will investigate these two topics",
    "start": "170879",
    "end": "172400"
  },
  {
    "text": "more in detail but before doing that we",
    "start": "172400",
    "end": "175040"
  },
  {
    "text": "must dive into our pbf instrumentation",
    "start": "175040",
    "end": "177200"
  },
  {
    "text": "really works",
    "start": "177200",
    "end": "179280"
  },
  {
    "text": "andrea ball to you",
    "start": "179280",
    "end": "182159"
  },
  {
    "text": "thank you freddie i will try to explain",
    "start": "182159",
    "end": "184159"
  },
  {
    "text": "how our pub works without messing around",
    "start": "184159",
    "end": "186560"
  },
  {
    "text": "with too many details",
    "start": "186560",
    "end": "188319"
  },
  {
    "text": "let's start our journey",
    "start": "188319",
    "end": "190080"
  },
  {
    "text": "as people said farco catches all the",
    "start": "190080",
    "end": "192800"
  },
  {
    "text": "most important system event but for",
    "start": "192800",
    "end": "195040"
  },
  {
    "start": "193000",
    "end": "193000"
  },
  {
    "text": "doing that we need to estimate some kind",
    "start": "195040",
    "end": "197040"
  },
  {
    "text": "of look a kernel look is a particular",
    "start": "197040",
    "end": "199599"
  },
  {
    "text": "point into the camera code where we can",
    "start": "199599",
    "end": "201519"
  },
  {
    "text": "attach our bpf programs",
    "start": "201519",
    "end": "204159"
  },
  {
    "text": "in particular to deeper investigator",
    "start": "204159",
    "end": "206159"
  },
  {
    "text": "system we need different hooks let's",
    "start": "206159",
    "end": "208560"
  },
  {
    "text": "seal them one by one",
    "start": "208560",
    "end": "210560"
  },
  {
    "text": "as a first thing we touch the entire",
    "start": "210560",
    "end": "212159"
  },
  {
    "text": "flow of cisco starting with the center",
    "start": "212159",
    "end": "214319"
  },
  {
    "text": "book and terminating with this exit one",
    "start": "214319",
    "end": "217440"
  },
  {
    "text": "after it we have page fault user and",
    "start": "217440",
    "end": "219840"
  },
  {
    "text": "page for camera hook whose job is",
    "start": "219840",
    "end": "221680"
  },
  {
    "text": "created",
    "start": "221680",
    "end": "222879"
  },
  {
    "text": "they catch all page fault emails",
    "start": "222879",
    "end": "225680"
  },
  {
    "text": "in the link below we have the sketch",
    "start": "225680",
    "end": "227200"
  },
  {
    "text": "rich hook which catches content switches",
    "start": "227200",
    "end": "230000"
  },
  {
    "text": "next to it there is the persex hook that",
    "start": "230000",
    "end": "232640"
  },
  {
    "text": "collects alternated process and last but",
    "start": "232640",
    "end": "235519"
  },
  {
    "text": "not least we capture all the system",
    "start": "235519",
    "end": "237840"
  },
  {
    "text": "signal to the signal delivered book",
    "start": "237840",
    "end": "241040"
  },
  {
    "text": "these are all the seven books that are",
    "start": "241040",
    "end": "243840"
  },
  {
    "text": "involved in our instrumentation",
    "start": "243840",
    "end": "246159"
  },
  {
    "text": "as the first thing we will focus our",
    "start": "246159",
    "end": "248080"
  },
  {
    "text": "attention on cisco hook because the",
    "start": "248080",
    "end": "250480"
  },
  {
    "text": "behavior is a little bit different from",
    "start": "250480",
    "end": "252319"
  },
  {
    "text": "the others",
    "start": "252319",
    "end": "255439"
  },
  {
    "text": "more precisely we will consider the",
    "start": "255439",
    "end": "257359"
  },
  {
    "text": "center hook but as you might expect the",
    "start": "257359",
    "end": "259840"
  },
  {
    "text": "exit one exactly the same behavior",
    "start": "259840",
    "end": "262800"
  },
  {
    "text": "to better understand the real logic",
    "start": "262800",
    "end": "264880"
  },
  {
    "text": "let's imagine that an open cisco",
    "start": "264880",
    "end": "267440"
  },
  {
    "text": "is executed on the system the bpf",
    "start": "267440",
    "end": "270240"
  },
  {
    "text": "program attached to the sender hook is",
    "start": "270240",
    "end": "272479"
  },
  {
    "text": "called and we usually refer to it as a",
    "start": "272479",
    "end": "274560"
  },
  {
    "text": "dispatcher",
    "start": "274560",
    "end": "275840"
  },
  {
    "text": "you might ask the reason behind this",
    "start": "275840",
    "end": "277199"
  },
  {
    "text": "name but i think it is quite intuitive",
    "start": "277199",
    "end": "279280"
  },
  {
    "text": "in a nutshell this program has to",
    "start": "279280",
    "end": "280960"
  },
  {
    "text": "understand which cisco has been called",
    "start": "280960",
    "end": "283280"
  },
  {
    "text": "and what is the corresponding vpf",
    "start": "283280",
    "end": "284960"
  },
  {
    "text": "program that we have to trigger in",
    "start": "284960",
    "end": "286320"
  },
  {
    "text": "response",
    "start": "286320",
    "end": "287440"
  },
  {
    "text": "yeah you understood correctly we have a",
    "start": "287440",
    "end": "289440"
  },
  {
    "text": "specific vpf program for every cisco",
    "start": "289440",
    "end": "292560"
  },
  {
    "text": "this specific program had the task to",
    "start": "292560",
    "end": "294720"
  },
  {
    "text": "collect some security relevant data for",
    "start": "294720",
    "end": "297600"
  },
  {
    "text": "regarding the cisco",
    "start": "297600",
    "end": "299840"
  },
  {
    "text": "but before looking at a concrete example",
    "start": "299840",
    "end": "302560"
  },
  {
    "text": "here we have to clarify how to perform",
    "start": "302560",
    "end": "304720"
  },
  {
    "text": "this dump from the dispatcher to the",
    "start": "304720",
    "end": "306720"
  },
  {
    "text": "specific program",
    "start": "306720",
    "end": "308400"
  },
  {
    "text": "we can surely use the telecoil mechanism",
    "start": "308400",
    "end": "310639"
  },
  {
    "text": "but what is a tail call in the bpf",
    "start": "310639",
    "end": "312639"
  },
  {
    "text": "context",
    "start": "312639",
    "end": "314240"
  },
  {
    "text": "attack call can be seen as a mechanism",
    "start": "314240",
    "end": "316160"
  },
  {
    "text": "that allow bpf program to call another",
    "start": "316160",
    "end": "318479"
  },
  {
    "text": "one without returning back to the old",
    "start": "318479",
    "end": "320560"
  },
  {
    "text": "program moreover this call has a minimal",
    "start": "320560",
    "end": "323039"
  },
  {
    "text": "valet because it is implemented as a",
    "start": "323039",
    "end": "325360"
  },
  {
    "text": "long jump using the same stack frame",
    "start": "325360",
    "end": "328720"
  },
  {
    "text": "so keeping in mind on this information",
    "start": "328720",
    "end": "330720"
  },
  {
    "text": "let's see a complete flow",
    "start": "330720",
    "end": "332639"
  },
  {
    "text": "when the open arrives the dispatcher",
    "start": "332639",
    "end": "334560"
  },
  {
    "text": "recognizes the cisco id in this case",
    "start": "334560",
    "end": "337120"
  },
  {
    "text": "true and it performs a tail call to the",
    "start": "337120",
    "end": "339440"
  },
  {
    "text": "right vpf program",
    "start": "339440",
    "end": "341280"
  },
  {
    "text": "the specific program collects some",
    "start": "341280",
    "end": "343199"
  },
  {
    "text": "information about the cisco for example",
    "start": "343199",
    "end": "345759"
  },
  {
    "text": "the path name modes flag of the file",
    "start": "345759",
    "end": "348800"
  },
  {
    "text": "being opened",
    "start": "348800",
    "end": "350320"
  },
  {
    "text": "after collecting all the desired",
    "start": "350320",
    "end": "352080"
  },
  {
    "text": "parameter we are able to finally push",
    "start": "352080",
    "end": "354160"
  },
  {
    "text": "data to user space",
    "start": "354160",
    "end": "356560"
  },
  {
    "text": "now if we consider a different hook from",
    "start": "356560",
    "end": "358720"
  },
  {
    "text": "the cisco one for example the page fault",
    "start": "358720",
    "end": "361280"
  },
  {
    "text": "user",
    "start": "361280",
    "end": "362240"
  },
  {
    "text": "we can easily understand that the flow",
    "start": "362240",
    "end": "364400"
  },
  {
    "text": "is simpler than before we don't need",
    "start": "364400",
    "end": "366639"
  },
  {
    "text": "anymore dispatching phase and we only",
    "start": "366639",
    "end": "368800"
  },
  {
    "text": "have to correct to manage the specific",
    "start": "368800",
    "end": "370479"
  },
  {
    "text": "capital logic",
    "start": "370479",
    "end": "372160"
  },
  {
    "text": "here for example we collect some data",
    "start": "372160",
    "end": "374080"
  },
  {
    "text": "regarding the pitch fault",
    "start": "374080",
    "end": "375840"
  },
  {
    "text": "like the address and the error and we",
    "start": "375840",
    "end": "378080"
  },
  {
    "text": "send them to user space",
    "start": "378080",
    "end": "380960"
  },
  {
    "text": "as you might expect all the other rooks",
    "start": "380960",
    "end": "382960"
  },
  {
    "text": "that are not cisco related have exactly",
    "start": "382960",
    "end": "385360"
  },
  {
    "text": "the same behavior",
    "start": "385360",
    "end": "387440"
  },
  {
    "text": "to finally recap we can see in this",
    "start": "387440",
    "end": "389520"
  },
  {
    "text": "slide all our programs",
    "start": "389520",
    "end": "391680"
  },
  {
    "text": "more precisely we can notice that",
    "start": "391680",
    "end": "393520"
  },
  {
    "text": "cisgender and",
    "start": "393520",
    "end": "395039"
  },
  {
    "text": "nc's exit books generates way more even",
    "start": "395039",
    "end": "397520"
  },
  {
    "text": "than the others because they are",
    "start": "397520",
    "end": "398960"
  },
  {
    "text": "triggered every time a new cisco is",
    "start": "398960",
    "end": "400880"
  },
  {
    "text": "executed",
    "start": "400880",
    "end": "402880"
  },
  {
    "text": "this isn't the instrumentation part but",
    "start": "402880",
    "end": "405280"
  },
  {
    "text": "from the previous slide it should be",
    "start": "405280",
    "end": "406880"
  },
  {
    "text": "clear that the number even for wobbly",
    "start": "406880",
    "end": "408960"
  },
  {
    "text": "trigger space can also grow dramatically",
    "start": "408960",
    "end": "411520"
  },
  {
    "text": "and this could become a serious problem",
    "start": "411520",
    "end": "413360"
  },
  {
    "text": "for farc",
    "start": "413360",
    "end": "414560"
  },
  {
    "text": "fede would you like to provide us a",
    "start": "414560",
    "end": "416479"
  },
  {
    "text": "little bit of context about it",
    "start": "416479",
    "end": "420000"
  },
  {
    "text": "yeah sure",
    "start": "420160",
    "end": "421520"
  },
  {
    "text": "as you said there are some situations",
    "start": "421520",
    "end": "423680"
  },
  {
    "text": "where this exhaustive instrumentation",
    "start": "423680",
    "end": "425840"
  },
  {
    "text": "can generate troubles and we have to",
    "start": "425840",
    "end": "427840"
  },
  {
    "text": "consider alternative solutions",
    "start": "427840",
    "end": "430080"
  },
  {
    "text": "the first two problems are added in this",
    "start": "430080",
    "end": "431759"
  },
  {
    "text": "slide so the consumer issue an",
    "start": "431759",
    "end": "433759"
  },
  {
    "text": "instrumentation issue",
    "start": "433759",
    "end": "435840"
  },
  {
    "text": "are mainly related to our",
    "start": "435840",
    "end": "436960"
  },
  {
    "text": "instrumentation while the last one",
    "start": "436960",
    "end": "438800"
  },
  {
    "text": "refers to the concept of white",
    "start": "438800",
    "end": "440000"
  },
  {
    "text": "portability that we have introduced at",
    "start": "440000",
    "end": "441919"
  },
  {
    "text": "the beginning of this presentation but",
    "start": "441919",
    "end": "444160"
  },
  {
    "text": "let's proceed in order and start with",
    "start": "444160",
    "end": "445840"
  },
  {
    "text": "the first problem",
    "start": "445840",
    "end": "447840"
  },
  {
    "text": "we call it the consumer issue this term",
    "start": "447840",
    "end": "451120"
  },
  {
    "start": "450000",
    "end": "450000"
  },
  {
    "text": "means that the user space is unable to",
    "start": "451120",
    "end": "452880"
  },
  {
    "text": "fully consume all events generated by",
    "start": "452880",
    "end": "455120"
  },
  {
    "text": "our pbf instrumentation",
    "start": "455120",
    "end": "458479"
  },
  {
    "text": "right now we have identified two main",
    "start": "458479",
    "end": "460479"
  },
  {
    "text": "reasons behind this phenomenon",
    "start": "460479",
    "end": "462800"
  },
  {
    "text": "the first and most intuitive one is that",
    "start": "462800",
    "end": "465199"
  },
  {
    "text": "in very staggered environments with lots",
    "start": "465199",
    "end": "467280"
  },
  {
    "text": "of lots of cpus the number of protested",
    "start": "467280",
    "end": "469919"
  },
  {
    "text": "events is huge up to tens of billions",
    "start": "469919",
    "end": "472240"
  },
  {
    "text": "per second",
    "start": "472240",
    "end": "473440"
  },
  {
    "text": "of course our single targeted user space",
    "start": "473440",
    "end": "476160"
  },
  {
    "text": "is unable to analyze them all",
    "start": "476160",
    "end": "478400"
  },
  {
    "text": "this space process is single threaded",
    "start": "478400",
    "end": "480479"
  },
  {
    "text": "because we have to guarantee the even",
    "start": "480479",
    "end": "482400"
  },
  {
    "text": "chronological order to maintain a",
    "start": "482400",
    "end": "484479"
  },
  {
    "text": "consistent system state",
    "start": "484479",
    "end": "486479"
  },
  {
    "text": "moreover a multithreaded consumer would",
    "start": "486479",
    "end": "488720"
  },
  {
    "text": "force us to adopt synchronization",
    "start": "488720",
    "end": "490319"
  },
  {
    "text": "mechanisms",
    "start": "490319",
    "end": "491599"
  },
  {
    "text": "further producing ciscos that in the end",
    "start": "491599",
    "end": "493599"
  },
  {
    "text": "would produce a backache on the kernel",
    "start": "493599",
    "end": "496400"
  },
  {
    "text": "so this is the first reason we don't",
    "start": "496400",
    "end": "498400"
  },
  {
    "text": "solve events against a single throttle",
    "start": "498400",
    "end": "500479"
  },
  {
    "text": "user space",
    "start": "500479",
    "end": "502160"
  },
  {
    "text": "the second one is less obvious it",
    "start": "502160",
    "end": "504800"
  },
  {
    "text": "depends on the cpu time granted to user",
    "start": "504800",
    "end": "506720"
  },
  {
    "text": "space and obviously on the raw system",
    "start": "506720",
    "end": "509039"
  },
  {
    "text": "load",
    "start": "509039",
    "end": "510319"
  },
  {
    "text": "given that the second point is harder to",
    "start": "510319",
    "end": "512159"
  },
  {
    "text": "grasp you realize it a concrete stress",
    "start": "512159",
    "end": "514560"
  },
  {
    "text": "test",
    "start": "514560",
    "end": "516240"
  },
  {
    "text": "as a test environment we use the local",
    "start": "516240",
    "end": "518479"
  },
  {
    "text": "machine with 12 cores while as an event",
    "start": "518479",
    "end": "520560"
  },
  {
    "text": "generator we used the sng tool",
    "start": "520560",
    "end": "523360"
  },
  {
    "text": "sas ng is a convenient tool that",
    "start": "523360",
    "end": "525200"
  },
  {
    "text": "produces an enormous quantity of ciscos",
    "start": "525200",
    "end": "528000"
  },
  {
    "text": "filling all the cpu time and degrading",
    "start": "528000",
    "end": "530000"
  },
  {
    "text": "system performances",
    "start": "530000",
    "end": "531760"
  },
  {
    "text": "we let it run for 10 seconds and we",
    "start": "531760",
    "end": "533920"
  },
  {
    "text": "obtained these results",
    "start": "533920",
    "end": "537279"
  },
  {
    "text": "the total number of events produced by",
    "start": "537680",
    "end": "539360"
  },
  {
    "text": "the kernel is 34 millions of these only",
    "start": "539360",
    "end": "543040"
  },
  {
    "text": "4 millions have been successfully",
    "start": "543040",
    "end": "544640"
  },
  {
    "text": "captured by user space while the others",
    "start": "544640",
    "end": "546880"
  },
  {
    "text": "have been dropping",
    "start": "546880",
    "end": "548399"
  },
  {
    "text": "basically the whole capture was lost",
    "start": "548399",
    "end": "551040"
  },
  {
    "text": "this means that user space has conquered",
    "start": "551040",
    "end": "552800"
  },
  {
    "text": "the cpu for very short times consuming",
    "start": "552800",
    "end": "555200"
  },
  {
    "text": "only a few millions events",
    "start": "555200",
    "end": "557440"
  },
  {
    "text": "of course this is an extreme case",
    "start": "557440",
    "end": "559920"
  },
  {
    "text": "tailored to our needs but in the end it",
    "start": "559920",
    "end": "562480"
  },
  {
    "text": "fully allows the issue",
    "start": "562480",
    "end": "564480"
  },
  {
    "text": "now you could ask us how could this kind",
    "start": "564480",
    "end": "566959"
  },
  {
    "text": "of problems be mitigated",
    "start": "566959",
    "end": "569920"
  },
  {
    "text": "the answer is pretty simple indeed given",
    "start": "569920",
    "end": "572560"
  },
  {
    "text": "that all we want is to provide more time",
    "start": "572560",
    "end": "574480"
  },
  {
    "text": "to use your space let's reduce its work",
    "start": "574480",
    "end": "576800"
  },
  {
    "start": "575000",
    "end": "575000"
  },
  {
    "text": "by producing fewer events",
    "start": "576800",
    "end": "579600"
  },
  {
    "text": "but the question now is how can we",
    "start": "579600",
    "end": "581440"
  },
  {
    "text": "reduce the number of events forwarded",
    "start": "581440",
    "end": "583040"
  },
  {
    "text": "user space",
    "start": "583040",
    "end": "585680"
  },
  {
    "text": "here is where the so-called simple",
    "start": "585680",
    "end": "587440"
  },
  {
    "text": "consumer mod comes into play",
    "start": "587440",
    "end": "589760"
  },
  {
    "text": "running fast simple consumer mode means",
    "start": "589760",
    "end": "592080"
  },
  {
    "text": "turning on the kind of side capture",
    "start": "592080",
    "end": "594080"
  },
  {
    "text": "pattern that denies events that are not",
    "start": "594080",
    "end": "596399"
  },
  {
    "text": "so interesting for the system state to",
    "start": "596399",
    "end": "598320"
  },
  {
    "text": "reach user space",
    "start": "598320",
    "end": "600080"
  },
  {
    "text": "this filtering logic has two main",
    "start": "600080",
    "end": "601839"
  },
  {
    "text": "benefits",
    "start": "601839",
    "end": "603200"
  },
  {
    "text": "on one end fewer events are produced",
    "start": "603200",
    "end": "606480"
  },
  {
    "text": "on the other hand the instrumentation",
    "start": "606480",
    "end": "608320"
  },
  {
    "text": "time is reduced improving the overall",
    "start": "608320",
    "end": "610399"
  },
  {
    "text": "system performance",
    "start": "610399",
    "end": "613360"
  },
  {
    "text": "now let's check what really happens with",
    "start": "613440",
    "end": "615440"
  },
  {
    "text": "simple customer mode enabled",
    "start": "615440",
    "end": "617519"
  },
  {
    "text": "considering always the same c center",
    "start": "617519",
    "end": "620079"
  },
  {
    "text": "let's imagine that as is called that ppi",
    "start": "620079",
    "end": "622000"
  },
  {
    "text": "id is executed",
    "start": "622000",
    "end": "623680"
  },
  {
    "text": "how the special program will start the",
    "start": "623680",
    "end": "625040"
  },
  {
    "text": "execution",
    "start": "625040",
    "end": "626480"
  },
  {
    "text": "but this time the flow gets stopped",
    "start": "626480",
    "end": "628720"
  },
  {
    "text": "since the simple customer logic detected",
    "start": "628720",
    "end": "630720"
  },
  {
    "text": "that this is called is interesting for",
    "start": "630720",
    "end": "632480"
  },
  {
    "text": "our system",
    "start": "632480",
    "end": "633839"
  },
  {
    "text": "all these events will be completely",
    "start": "633839",
    "end": "635519"
  },
  {
    "text": "rejected and not sent to user space",
    "start": "635519",
    "end": "639680"
  },
  {
    "text": "as a last thing we can observe the",
    "start": "639760",
    "end": "641680"
  },
  {
    "text": "results we obtained are running our",
    "start": "641680",
    "end": "643680"
  },
  {
    "text": "stress test with this new filtering",
    "start": "643680",
    "end": "645519"
  },
  {
    "text": "pattern",
    "start": "645519",
    "end": "646560"
  },
  {
    "text": "the simple consumer is as effective as",
    "start": "646560",
    "end": "648560"
  },
  {
    "text": "we expected cutting down the number of",
    "start": "648560",
    "end": "650640"
  },
  {
    "text": "drops from 90",
    "start": "650640",
    "end": "652079"
  },
  {
    "text": "to 60 percent in this specific test the",
    "start": "652079",
    "end": "655120"
  },
  {
    "text": "capital is still partial however by",
    "start": "655120",
    "end": "657760"
  },
  {
    "text": "applying the simple consumer to real",
    "start": "657760",
    "end": "659360"
  },
  {
    "text": "cases from the faculty is 0.31 we have",
    "start": "659360",
    "end": "662720"
  },
  {
    "text": "seen notable improvements",
    "start": "662720",
    "end": "665440"
  },
  {
    "text": "the future is still brighter in fact we",
    "start": "665440",
    "end": "668399"
  },
  {
    "text": "are thinking to further reduce the",
    "start": "668399",
    "end": "669600"
  },
  {
    "text": "number of cisco traces in simple",
    "start": "669600",
    "end": "671120"
  },
  {
    "text": "consumer mode",
    "start": "671120",
    "end": "672640"
  },
  {
    "text": "as you can see from this slide we",
    "start": "672640",
    "end": "674480"
  },
  {
    "text": "started with a pool of 300 trends 32",
    "start": "674480",
    "end": "677200"
  },
  {
    "text": "syscalls",
    "start": "677200",
    "end": "678880"
  },
  {
    "text": "after our first analysis we chose to",
    "start": "678880",
    "end": "680959"
  },
  {
    "text": "keep only half of them and this is the",
    "start": "680959",
    "end": "683200"
  },
  {
    "text": "actual state of the simple consumer",
    "start": "683200",
    "end": "686000"
  },
  {
    "text": "in the last weeks we are thinking to",
    "start": "686000",
    "end": "687680"
  },
  {
    "text": "further improve this logic obtaining a",
    "start": "687680",
    "end": "689519"
  },
  {
    "text": "final set of 84 cs goals with what we",
    "start": "689519",
    "end": "692560"
  },
  {
    "text": "can call an enacted simple consumer",
    "start": "692560",
    "end": "695760"
  },
  {
    "text": "anyway you have to consider that the",
    "start": "695760",
    "end": "697600"
  },
  {
    "text": "analysis behind these choices are quite",
    "start": "697600",
    "end": "699440"
  },
  {
    "text": "complex since every event can have",
    "start": "699440",
    "end": "701920"
  },
  {
    "text": "unexpected impacts on the system",
    "start": "701920",
    "end": "704160"
  },
  {
    "text": "therefore it is always good to move",
    "start": "704160",
    "end": "706320"
  },
  {
    "text": "carefully through these stormy paths",
    "start": "706320",
    "end": "710160"
  },
  {
    "text": "this ends up the discussion on the",
    "start": "710240",
    "end": "712240"
  },
  {
    "text": "consumer issue andrea would you like to",
    "start": "712240",
    "end": "714959"
  },
  {
    "text": "drive us to the next pitfall",
    "start": "714959",
    "end": "717839"
  },
  {
    "text": "yeah sure let's talk about the",
    "start": "717839",
    "end": "719440"
  },
  {
    "text": "instrumentation issue the first starting",
    "start": "719440",
    "end": "721680"
  },
  {
    "text": "with the discussion i would like to",
    "start": "721680",
    "end": "723360"
  },
  {
    "start": "722000",
    "end": "722000"
  },
  {
    "text": "thank jaisalton a member of the farco",
    "start": "723360",
    "end": "725839"
  },
  {
    "text": "community for the amazing research he",
    "start": "725839",
    "end": "727600"
  },
  {
    "text": "carried out about this topic",
    "start": "727600",
    "end": "730160"
  },
  {
    "text": "the data collected by giles raised a",
    "start": "730160",
    "end": "732160"
  },
  {
    "text": "series of reflections that will",
    "start": "732160",
    "end": "733920"
  },
  {
    "text": "summarize in these slides you can find",
    "start": "733920",
    "end": "736240"
  },
  {
    "text": "both the giant research in the",
    "start": "736240",
    "end": "737680"
  },
  {
    "text": "discussion meet in the presentation we",
    "start": "737680",
    "end": "739600"
  },
  {
    "text": "have uploaded on sked.com you have just",
    "start": "739600",
    "end": "742000"
  },
  {
    "text": "right clicked there",
    "start": "742000",
    "end": "743600"
  },
  {
    "text": "now let's go back to our topics to",
    "start": "743600",
    "end": "745680"
  },
  {
    "text": "understand what the instrumentation",
    "start": "745680",
    "end": "747200"
  },
  {
    "text": "issue means we have to consider that in",
    "start": "747200",
    "end": "749519"
  },
  {
    "text": "some use cases we only want to capture",
    "start": "749519",
    "end": "751519"
  },
  {
    "text": "specific scores and not all of them as",
    "start": "751519",
    "end": "753920"
  },
  {
    "text": "seen before",
    "start": "753920",
    "end": "755760"
  },
  {
    "text": "but what is the cost of capitaling just",
    "start": "755760",
    "end": "757920"
  },
  {
    "text": "a bunch of cisco without instrumentation",
    "start": "757920",
    "end": "760720"
  },
  {
    "text": "if you remember well every time a new",
    "start": "760720",
    "end": "762560"
  },
  {
    "text": "cisco is executed on the system the",
    "start": "762560",
    "end": "764639"
  },
  {
    "text": "dispatcher is tricked and it will take",
    "start": "764639",
    "end": "767200"
  },
  {
    "text": "all a specific bpf program",
    "start": "767200",
    "end": "769519"
  },
  {
    "text": "this approach perform well if you want",
    "start": "769519",
    "end": "771360"
  },
  {
    "text": "to test cisco but how would it behave if",
    "start": "771360",
    "end": "774240"
  },
  {
    "text": "you only want to capture a subset of",
    "start": "774240",
    "end": "775920"
  },
  {
    "text": "them",
    "start": "775920",
    "end": "776880"
  },
  {
    "text": "for example if you're only interested in",
    "start": "776880",
    "end": "779200"
  },
  {
    "text": "20c score what are the performance",
    "start": "779200",
    "end": "782079"
  },
  {
    "text": "unfortunately the dispatcher would call",
    "start": "782079",
    "end": "784079"
  },
  {
    "text": "all bpf programs even those related to",
    "start": "784079",
    "end": "786560"
  },
  {
    "text": "cisco debt we are not interested in",
    "start": "786560",
    "end": "788959"
  },
  {
    "text": "increasing the current execution time",
    "start": "788959",
    "end": "790959"
  },
  {
    "text": "and slowing down the entire system",
    "start": "790959",
    "end": "793680"
  },
  {
    "text": "this is what we usually call the",
    "start": "793680",
    "end": "795200"
  },
  {
    "text": "instrumentation issue",
    "start": "795200",
    "end": "797519"
  },
  {
    "text": "giles in his paper proposed an",
    "start": "797519",
    "end": "799680"
  },
  {
    "text": "alternative instrumentation to address",
    "start": "799680",
    "end": "801360"
  },
  {
    "text": "this overhead",
    "start": "801360",
    "end": "802800"
  },
  {
    "text": "ccpf offers the possibility to attach",
    "start": "802800",
    "end": "805600"
  },
  {
    "text": "programs directly to cisco specific",
    "start": "805600",
    "end": "807920"
  },
  {
    "text": "hooks why we want to export these",
    "start": "807920",
    "end": "810240"
  },
  {
    "text": "instead of using the generic center hook",
    "start": "810240",
    "end": "813120"
  },
  {
    "text": "if you want to twist just 20 cisco we",
    "start": "813120",
    "end": "815360"
  },
  {
    "text": "have only to instrument the right hooks",
    "start": "815360",
    "end": "817440"
  },
  {
    "text": "for example this is entered right center",
    "start": "817440",
    "end": "819760"
  },
  {
    "text": "read center fork and all the others",
    "start": "819760",
    "end": "822560"
  },
  {
    "text": "conceptually the advantages think seems",
    "start": "822560",
    "end": "824800"
  },
  {
    "text": "clear but let's see it in time of",
    "start": "824800",
    "end": "827120"
  },
  {
    "text": "performance",
    "start": "827120",
    "end": "829839"
  },
  {
    "text": "as we said before we assume we are all",
    "start": "829839",
    "end": "831839"
  },
  {
    "text": "interested in 20 c score to measure how",
    "start": "831839",
    "end": "834720"
  },
  {
    "text": "much the current is bounded by a certain",
    "start": "834720",
    "end": "836959"
  },
  {
    "text": "bpf instrumentation rather than by",
    "start": "836959",
    "end": "838959"
  },
  {
    "text": "another we consider as a reference the",
    "start": "838959",
    "end": "841279"
  },
  {
    "text": "execution time of one of the cisco",
    "start": "841279",
    "end": "844399"
  },
  {
    "text": "the more the system will be overloaded",
    "start": "844399",
    "end": "846320"
  },
  {
    "text": "the longer the c score will take time to",
    "start": "846320",
    "end": "848240"
  },
  {
    "text": "execute",
    "start": "848240",
    "end": "849440"
  },
  {
    "text": "in this case we choose the right as a",
    "start": "849440",
    "end": "851600"
  },
  {
    "text": "reference cisco",
    "start": "851600",
    "end": "853120"
  },
  {
    "text": "the first column represents the value",
    "start": "853120",
    "end": "854880"
  },
  {
    "text": "the variety execution time without any",
    "start": "854880",
    "end": "857279"
  },
  {
    "text": "kind of ebpf instrumentation so on a",
    "start": "857279",
    "end": "859680"
  },
  {
    "text": "vanilla current this is the ideal time",
    "start": "859680",
    "end": "862160"
  },
  {
    "text": "to which we want to get close with our",
    "start": "862160",
    "end": "864000"
  },
  {
    "text": "instrumentation",
    "start": "864000",
    "end": "865600"
  },
  {
    "text": "the second column shows what is the cost",
    "start": "865600",
    "end": "867760"
  },
  {
    "text": "of using our actual instrumentation so",
    "start": "867760",
    "end": "869920"
  },
  {
    "text": "with this is ender and this active book",
    "start": "869920",
    "end": "872639"
  },
  {
    "text": "finally the last column represents",
    "start": "872639",
    "end": "874639"
  },
  {
    "text": "alternative instrumentation seen in the",
    "start": "874639",
    "end": "876480"
  },
  {
    "text": "previous slide with only the 20 hooks",
    "start": "876480",
    "end": "878720"
  },
  {
    "text": "necessary for capturing the required",
    "start": "878720",
    "end": "880560"
  },
  {
    "text": "cisco",
    "start": "880560",
    "end": "882079"
  },
  {
    "text": "as expected trying to capture only a",
    "start": "882079",
    "end": "884560"
  },
  {
    "text": "bench of cisco with our current",
    "start": "884560",
    "end": "885920"
  },
  {
    "text": "instrumentation introduce a significant",
    "start": "885920",
    "end": "888079"
  },
  {
    "text": "kernel of red compared to the",
    "start": "888079",
    "end": "890000"
  },
  {
    "text": "alternative instrumentation",
    "start": "890000",
    "end": "891839"
  },
  {
    "text": "however if we think about all we have",
    "start": "891839",
    "end": "894320"
  },
  {
    "text": "said so far we can notice that the",
    "start": "894320",
    "end": "896480"
  },
  {
    "text": "simple consumer approach could then pass",
    "start": "896480",
    "end": "898639"
  },
  {
    "text": "to mitigate this situation let's see how",
    "start": "898639",
    "end": "903199"
  },
  {
    "text": "the simple consumer interrupts the",
    "start": "904000",
    "end": "906079"
  },
  {
    "text": "dispatcher execution flow stopping",
    "start": "906079",
    "end": "908160"
  },
  {
    "text": "instrumentation before recording the",
    "start": "908160",
    "end": "910160"
  },
  {
    "text": "specific ebpf programs this seems to be",
    "start": "910160",
    "end": "912959"
  },
  {
    "text": "the solution we are looking for however",
    "start": "912959",
    "end": "915440"
  },
  {
    "text": "measuring the right execution time we",
    "start": "915440",
    "end": "917519"
  },
  {
    "text": "can notice that we don't have a great",
    "start": "917519",
    "end": "919760"
  },
  {
    "text": "improvement but why does it happen",
    "start": "919760",
    "end": "922720"
  },
  {
    "text": "with the simple consumer you don't call",
    "start": "922720",
    "end": "924639"
  },
  {
    "text": "anymore or the specific bpf program so",
    "start": "924639",
    "end": "927199"
  },
  {
    "text": "where is the problem",
    "start": "927199",
    "end": "928800"
  },
  {
    "text": "if we consider the filtering step again",
    "start": "928800",
    "end": "930800"
  },
  {
    "text": "we can notice that it doesn't happen",
    "start": "930800",
    "end": "932800"
  },
  {
    "text": "immediately at the beginning of the",
    "start": "932800",
    "end": "934240"
  },
  {
    "text": "dispatcher in fact before calling the",
    "start": "934240",
    "end": "936800"
  },
  {
    "text": "logic it is necessary to read some data",
    "start": "936800",
    "end": "938880"
  },
  {
    "text": "inside bdf maps to the well-known bpf",
    "start": "938880",
    "end": "941759"
  },
  {
    "text": "helpers",
    "start": "941759",
    "end": "943040"
  },
  {
    "text": "although these calls are not",
    "start": "943040",
    "end": "944320"
  },
  {
    "text": "particularly expensive they are repeated",
    "start": "944320",
    "end": "946560"
  },
  {
    "text": "for every cisco",
    "start": "946560",
    "end": "948079"
  },
  {
    "text": "even for those that will be filtered out",
    "start": "948079",
    "end": "950160"
  },
  {
    "text": "by the super consumer approach this is",
    "start": "950160",
    "end": "952399"
  },
  {
    "text": "why we still have this overhead so in",
    "start": "952399",
    "end": "955199"
  },
  {
    "text": "this case we can say that the simple",
    "start": "955199",
    "end": "956959"
  },
  {
    "text": "consumer is not the great mitigation we",
    "start": "956959",
    "end": "959199"
  },
  {
    "text": "are looking for",
    "start": "959199",
    "end": "961680"
  },
  {
    "text": "before jumping to the next topic we can",
    "start": "961680",
    "end": "963680"
  },
  {
    "text": "see what we are planning for the next",
    "start": "963680",
    "end": "965040"
  },
  {
    "start": "964000",
    "end": "964000"
  },
  {
    "text": "future we have to consider two main",
    "start": "965040",
    "end": "967040"
  },
  {
    "text": "alternatives on one side we have the",
    "start": "967040",
    "end": "969199"
  },
  {
    "text": "solution put at the plate by giles team",
    "start": "969199",
    "end": "971440"
  },
  {
    "text": "so the one with the cisco specific book",
    "start": "971440",
    "end": "974000"
  },
  {
    "text": "the only disadvantage of this kind of",
    "start": "974000",
    "end": "975759"
  },
  {
    "text": "solution is that we have to maintain two",
    "start": "975759",
    "end": "977759"
  },
  {
    "text": "different upf instrumentation and enable",
    "start": "977759",
    "end": "980000"
  },
  {
    "text": "the right one according to the falcon",
    "start": "980000",
    "end": "982160"
  },
  {
    "text": "use case it's for nothing that this",
    "start": "982160",
    "end": "984959"
  },
  {
    "text": "alternative instrumentation bring",
    "start": "984959",
    "end": "986560"
  },
  {
    "text": "advantages only if we are interested in",
    "start": "986560",
    "end": "988959"
  },
  {
    "text": "tracing a small number of cisco while",
    "start": "988959",
    "end": "991360"
  },
  {
    "text": "the main parkour purpose is to trace the",
    "start": "991360",
    "end": "993199"
  },
  {
    "text": "entire system so in the general use case",
    "start": "993199",
    "end": "995759"
  },
  {
    "text": "there is no particular benefit from this",
    "start": "995759",
    "end": "997680"
  },
  {
    "text": "approach",
    "start": "997680",
    "end": "998959"
  },
  {
    "text": "the alternative solution to maintain a",
    "start": "998959",
    "end": "1000639"
  },
  {
    "text": "single instrumentation for the use case",
    "start": "1000639",
    "end": "1002720"
  },
  {
    "text": "could be to adopt the simple consumer",
    "start": "1002720",
    "end": "1004399"
  },
  {
    "text": "approach in a slightly different way",
    "start": "1004399",
    "end": "1006880"
  },
  {
    "text": "recently we are thinking of moving the",
    "start": "1006880",
    "end": "1008800"
  },
  {
    "text": "filter in logic near the beginning of",
    "start": "1008800",
    "end": "1010800"
  },
  {
    "text": "the inspection",
    "start": "1010800",
    "end": "1012160"
  },
  {
    "text": "hopefully this will stamp the number of",
    "start": "1012160",
    "end": "1013920"
  },
  {
    "text": "epf calls as much as possible making the",
    "start": "1013920",
    "end": "1016399"
  },
  {
    "text": "instrumentation cost for all filters",
    "start": "1016399",
    "end": "1018320"
  },
  {
    "text": "cisco almost none",
    "start": "1018320",
    "end": "1021600"
  },
  {
    "text": "one possible way we have to move this",
    "start": "1022079",
    "end": "1023920"
  },
  {
    "text": "logic is using modern bpf filters like",
    "start": "1023920",
    "end": "1026798"
  },
  {
    "text": "global variables and btf enabled tracing",
    "start": "1026799",
    "end": "1029360"
  },
  {
    "text": "program",
    "start": "1029360",
    "end": "1030319"
  },
  {
    "text": "btf stands for bpf type format so the",
    "start": "1030319",
    "end": "1033360"
  },
  {
    "text": "bpf debugging",
    "start": "1033360",
    "end": "1035038"
  },
  {
    "text": "but without going into too much detail",
    "start": "1035039",
    "end": "1037438"
  },
  {
    "text": "we can just say that on one side global",
    "start": "1037439",
    "end": "1039839"
  },
  {
    "text": "variables allow us to read and write",
    "start": "1039839",
    "end": "1041918"
  },
  {
    "text": "data inside a map without using bpf",
    "start": "1041919",
    "end": "1044240"
  },
  {
    "text": "helpers while on the other one more",
    "start": "1044240",
    "end": "1046880"
  },
  {
    "text": "addressing programs allow us to directly",
    "start": "1046880",
    "end": "1049360"
  },
  {
    "text": "access the kernel memory without having",
    "start": "1049360",
    "end": "1051600"
  },
  {
    "text": "to issue the well-known bpf probably",
    "start": "1051600",
    "end": "1054799"
  },
  {
    "text": "so explain these new features we can",
    "start": "1054799",
    "end": "1057120"
  },
  {
    "text": "surely dump down the number of bpf",
    "start": "1057120",
    "end": "1059440"
  },
  {
    "text": "helpers that we call in our problem",
    "start": "1059440",
    "end": "1061840"
  },
  {
    "text": "solving the financial problem",
    "start": "1061840",
    "end": "1064160"
  },
  {
    "text": "moreover reducing the number of helpers",
    "start": "1064160",
    "end": "1066480"
  },
  {
    "text": "we could also obtain a substantial",
    "start": "1066480",
    "end": "1068240"
  },
  {
    "text": "improvement on the overall",
    "start": "1068240",
    "end": "1069679"
  },
  {
    "text": "instrumentation cost since almost all",
    "start": "1069679",
    "end": "1072400"
  },
  {
    "text": "our programs widely use them",
    "start": "1072400",
    "end": "1075120"
  },
  {
    "text": "anyway just to summarize we can say that",
    "start": "1075120",
    "end": "1077919"
  },
  {
    "text": "even if we don't have a working",
    "start": "1077919",
    "end": "1079679"
  },
  {
    "text": "prototype yet",
    "start": "1079679",
    "end": "1081120"
  },
  {
    "text": "we hope to get similar performance to",
    "start": "1081120",
    "end": "1083360"
  },
  {
    "text": "the solution on the left since",
    "start": "1083360",
    "end": "1085440"
  },
  {
    "text": "instrumenting an almost empty ppf",
    "start": "1085440",
    "end": "1087520"
  },
  {
    "text": "program seem to have a pretty low",
    "start": "1087520",
    "end": "1089679"
  },
  {
    "text": "overhead",
    "start": "1089679",
    "end": "1090880"
  },
  {
    "text": "this end of discussion on the",
    "start": "1090880",
    "end": "1092400"
  },
  {
    "text": "instrumentation issue now it's your turn",
    "start": "1092400",
    "end": "1094640"
  },
  {
    "text": "fade",
    "start": "1094640",
    "end": "1096880"
  },
  {
    "text": "that was quite long",
    "start": "1097200",
    "end": "1098960"
  },
  {
    "text": "the last point that we have to address",
    "start": "1098960",
    "end": "1100960"
  },
  {
    "text": "is slightly different from the others as",
    "start": "1100960",
    "end": "1102799"
  },
  {
    "text": "between an only console performance but",
    "start": "1102799",
    "end": "1104799"
  },
  {
    "start": "1104000",
    "end": "1104000"
  },
  {
    "text": "only portability",
    "start": "1104799",
    "end": "1107200"
  },
  {
    "text": "as you already stated fico requires like",
    "start": "1107200",
    "end": "1109440"
  },
  {
    "text": "portability the support matrix is pretty",
    "start": "1109440",
    "end": "1111840"
  },
  {
    "text": "huge going from kernel 4.14 onwards and",
    "start": "1111840",
    "end": "1115120"
  },
  {
    "text": "from client 5.0 onwards so the same bf",
    "start": "1115120",
    "end": "1119120"
  },
  {
    "text": "probe must be successfully compiled for",
    "start": "1119120",
    "end": "1121200"
  },
  {
    "text": "the elements of this metrics",
    "start": "1121200",
    "end": "1123679"
  },
  {
    "text": "in addition to the obvious issue that",
    "start": "1123679",
    "end": "1125600"
  },
  {
    "text": "internal current structures can change",
    "start": "1125600",
    "end": "1127840"
  },
  {
    "text": "from one version to another we have a",
    "start": "1127840",
    "end": "1130080"
  },
  {
    "text": "much more serious problem",
    "start": "1130080",
    "end": "1132240"
  },
  {
    "text": "each clang version enables different",
    "start": "1132240",
    "end": "1134320"
  },
  {
    "text": "optimizations on the code generating a",
    "start": "1134320",
    "end": "1136720"
  },
  {
    "text": "different byte code moreover this same",
    "start": "1136720",
    "end": "1139280"
  },
  {
    "text": "bad code could be accepted by some",
    "start": "1139280",
    "end": "1140880"
  },
  {
    "text": "versions of the current verifier and not",
    "start": "1140880",
    "end": "1142720"
  },
  {
    "text": "by others",
    "start": "1142720",
    "end": "1144240"
  },
  {
    "text": "here you can see an example of an issue",
    "start": "1144240",
    "end": "1146160"
  },
  {
    "text": "we visited some time ago but it is not",
    "start": "1146160",
    "end": "1148400"
  },
  {
    "text": "alone we have plenty of them in our",
    "start": "1148400",
    "end": "1150240"
  },
  {
    "text": "repository",
    "start": "1150240",
    "end": "1152000"
  },
  {
    "text": "you can find the link on this issue in",
    "start": "1152000",
    "end": "1154240"
  },
  {
    "text": "the presentation of bloodnoundscan.com",
    "start": "1154240",
    "end": "1156160"
  },
  {
    "text": "we have just to right click on this",
    "start": "1156160",
    "end": "1157440"
  },
  {
    "text": "image",
    "start": "1157440",
    "end": "1158880"
  },
  {
    "text": "the code on the left was correctly",
    "start": "1158880",
    "end": "1160880"
  },
  {
    "text": "accepted by the current verifier when",
    "start": "1160880",
    "end": "1162480"
  },
  {
    "text": "compiled with all clank versions except",
    "start": "1162480",
    "end": "1165360"
  },
  {
    "text": "when built with clank 11 and kernel",
    "start": "1165360",
    "end": "1167360"
  },
  {
    "text": "version 5.8",
    "start": "1167360",
    "end": "1169520"
  },
  {
    "text": "this was pretty strange so inspecting",
    "start": "1169520",
    "end": "1171520"
  },
  {
    "text": "the generated bad code we noticed that",
    "start": "1171520",
    "end": "1173520"
  },
  {
    "text": "the client organizations introduced the",
    "start": "1173520",
    "end": "1175360"
  },
  {
    "text": "possibility of a backache in the code",
    "start": "1175360",
    "end": "1177840"
  },
  {
    "text": "the catchers of course are not aligned",
    "start": "1177840",
    "end": "1179760"
  },
  {
    "text": "by the bpf verifier therefore even if",
    "start": "1179760",
    "end": "1182799"
  },
  {
    "text": "this big catch was unreachable the",
    "start": "1182799",
    "end": "1184720"
  },
  {
    "text": "kernel rejected will probe",
    "start": "1184720",
    "end": "1187039"
  },
  {
    "text": "the fix is pretty weird at the first",
    "start": "1187039",
    "end": "1188799"
  },
  {
    "text": "look",
    "start": "1188799",
    "end": "1189600"
  },
  {
    "text": "by removing the black construct clank is",
    "start": "1189600",
    "end": "1191840"
  },
  {
    "text": "the night to introduce the unexpected",
    "start": "1191840",
    "end": "1193440"
  },
  {
    "text": "the catch",
    "start": "1193440",
    "end": "1195760"
  },
  {
    "text": "of course once you solve such an issue",
    "start": "1195760",
    "end": "1198480"
  },
  {
    "text": "you must double check on all other",
    "start": "1198480",
    "end": "1200240"
  },
  {
    "text": "metrics channels then no issues appear",
    "start": "1200240",
    "end": "1202400"
  },
  {
    "text": "because of the fix",
    "start": "1202400",
    "end": "1204640"
  },
  {
    "text": "in the end maintaining such a code can",
    "start": "1204640",
    "end": "1206640"
  },
  {
    "text": "become a great mess giving all the",
    "start": "1206640",
    "end": "1208720"
  },
  {
    "text": "hidden actors out of our control",
    "start": "1208720",
    "end": "1210960"
  },
  {
    "text": "checking out the support metrics every",
    "start": "1210960",
    "end": "1212559"
  },
  {
    "text": "time a change is committed is time",
    "start": "1212559",
    "end": "1214640"
  },
  {
    "text": "costly and slows down the piece of",
    "start": "1214640",
    "end": "1216720"
  },
  {
    "text": "development",
    "start": "1216720",
    "end": "1218960"
  },
  {
    "text": "unfortunately we currently have no real",
    "start": "1218960",
    "end": "1221039"
  },
  {
    "text": "mitigations for these problems but good",
    "start": "1221039",
    "end": "1223919"
  },
  {
    "text": "thing is we are already working for",
    "start": "1223919",
    "end": "1225760"
  },
  {
    "text": "future improvements",
    "start": "1225760",
    "end": "1228080"
  },
  {
    "text": "in the last few years an ebpf concept",
    "start": "1228080",
    "end": "1230799"
  },
  {
    "text": "was born the compile ones run everywhere",
    "start": "1230799",
    "end": "1233440"
  },
  {
    "text": "approach",
    "start": "1233440",
    "end": "1234400"
  },
  {
    "text": "as its name suggests the idea is having",
    "start": "1234400",
    "end": "1236640"
  },
  {
    "text": "a single bpf probe that is portable",
    "start": "1236640",
    "end": "1238640"
  },
  {
    "text": "among different kernels",
    "start": "1238640",
    "end": "1240400"
  },
  {
    "text": "this means that the bytecode is actually",
    "start": "1240400",
    "end": "1242480"
  },
  {
    "text": "relocatable based on the kernel where",
    "start": "1242480",
    "end": "1244159"
  },
  {
    "text": "the probe is being interaction",
    "start": "1244159",
    "end": "1246240"
  },
  {
    "text": "to achieve this we need the key",
    "start": "1246240",
    "end": "1247840"
  },
  {
    "text": "requirement over the others using dbpf",
    "start": "1247840",
    "end": "1250559"
  },
  {
    "text": "library to add our probe",
    "start": "1250559",
    "end": "1252720"
  },
  {
    "text": "all the logic to perform the relocation",
    "start": "1252720",
    "end": "1254720"
  },
  {
    "text": "between our code and actually canada",
    "start": "1254720",
    "end": "1256799"
  },
  {
    "text": "version is necessary inside this library",
    "start": "1256799",
    "end": "1259360"
  },
  {
    "text": "even if this requirement might seem easy",
    "start": "1259360",
    "end": "1261120"
  },
  {
    "text": "to achieve today",
    "start": "1261120",
    "end": "1262480"
  },
  {
    "text": "falco does not use the bpf as a loader",
    "start": "1262480",
    "end": "1264799"
  },
  {
    "text": "instead he directly uses the ppfc school",
    "start": "1264799",
    "end": "1267760"
  },
  {
    "text": "to perform the value's actions",
    "start": "1267760",
    "end": "1269679"
  },
  {
    "text": "remember that falco was born before",
    "start": "1269679",
    "end": "1271280"
  },
  {
    "text": "korea was even a thing therefore its",
    "start": "1271280",
    "end": "1273760"
  },
  {
    "text": "code architecture follows low level",
    "start": "1273760",
    "end": "1275600"
  },
  {
    "text": "patterns that are not easily portable to",
    "start": "1275600",
    "end": "1278159"
  },
  {
    "text": "the dbf logic without rewriting all the",
    "start": "1278159",
    "end": "1280320"
  },
  {
    "text": "existing code",
    "start": "1280320",
    "end": "1282320"
  },
  {
    "text": "anyway decorary approach will allow us",
    "start": "1282320",
    "end": "1284480"
  },
  {
    "text": "to compile our probe a single time with",
    "start": "1284480",
    "end": "1286559"
  },
  {
    "text": "just one clang version and this is",
    "start": "1286559",
    "end": "1288880"
  },
  {
    "text": "exactly what we are looking for we can",
    "start": "1288880",
    "end": "1290960"
  },
  {
    "text": "forget about all optimization issues",
    "start": "1290960",
    "end": "1292720"
  },
  {
    "text": "related to the different clan versions",
    "start": "1292720",
    "end": "1295200"
  },
  {
    "text": "basically we will remove the clang axis",
    "start": "1295200",
    "end": "1297760"
  },
  {
    "text": "from our support metrics",
    "start": "1297760",
    "end": "1299679"
  },
  {
    "text": "yeah with this finally good news we have",
    "start": "1299679",
    "end": "1301600"
  },
  {
    "text": "ended our last topic i live to you",
    "start": "1301600",
    "end": "1303760"
  },
  {
    "text": "andrea for a final recap",
    "start": "1303760",
    "end": "1306559"
  },
  {
    "text": "thank you fed just to conclude we can",
    "start": "1306559",
    "end": "1308480"
  },
  {
    "text": "say that the main idea behind this talk",
    "start": "1308480",
    "end": "1310159"
  },
  {
    "text": "was to provide you with an overview of",
    "start": "1310159",
    "end": "1312000"
  },
  {
    "text": "how falco uses the ppf technology to",
    "start": "1312000",
    "end": "1314159"
  },
  {
    "text": "trace the type system and which are the",
    "start": "1314159",
    "end": "1316159"
  },
  {
    "text": "issue that we often face in production",
    "start": "1316159",
    "end": "1318159"
  },
  {
    "text": "due to the huge quantity of data that it",
    "start": "1318159",
    "end": "1319840"
  },
  {
    "text": "generates we hope that you were able to",
    "start": "1319840",
    "end": "1322159"
  },
  {
    "text": "follow us and that you almost understood",
    "start": "1322159",
    "end": "1324480"
  },
  {
    "text": "all the different problems and possible",
    "start": "1324480",
    "end": "1326080"
  },
  {
    "text": "mitigation that we can put in place",
    "start": "1326080",
    "end": "1328400"
  },
  {
    "text": "if you have any doubt or any curiosity",
    "start": "1328400",
    "end": "1330400"
  },
  {
    "text": "please feel free to reach out on the",
    "start": "1330400",
    "end": "1331840"
  },
  {
    "text": "slack channel",
    "start": "1331840",
    "end": "1333120"
  },
  {
    "text": "hoping to see you soon bye and thank you",
    "start": "1333120",
    "end": "1335039"
  },
  {
    "text": "for your attention",
    "start": "1335039",
    "end": "1338360"
  }
]