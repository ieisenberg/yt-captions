[
  {
    "start": "0",
    "end": "207000"
  },
  {
    "text": "all right welcome everyone I'm super excited to be here has said I'm Luis Tiant from Ticket Master and I'm going",
    "start": "30",
    "end": "6839"
  },
  {
    "text": "to talk to you about deploy scale and next and j√§ger so here's the agenda for",
    "start": "6839",
    "end": "13740"
  },
  {
    "text": "today as you'll see it follows the title of the talk pretty closely so I hope",
    "start": "13740",
    "end": "20130"
  },
  {
    "text": "you're not too surprised this talk will indeed focus on Jaeger",
    "start": "20130",
    "end": "25500"
  },
  {
    "text": "and what we've learned along the way using it a ticket master our mission is",
    "start": "25500",
    "end": "31949"
  },
  {
    "text": "to power unforgettable moments of joy and to realize this we need to make sure our systems are behaving and functioning",
    "start": "31949",
    "end": "39180"
  },
  {
    "text": "correctly when you interact with them those of you who already use get",
    "start": "39180",
    "end": "45239"
  },
  {
    "text": "mastered before might recognize the screen it's our website more specifically our seating chart that's",
    "start": "45239",
    "end": "53129"
  },
  {
    "text": "what you used buy tickets sounds some simple right you click you pay for it",
    "start": "53129",
    "end": "59430"
  },
  {
    "text": "and you wait for the show there's actually some quite unique challenge in",
    "start": "59430",
    "end": "65250"
  },
  {
    "text": "that's getting industry and that includes the fact that every single product we sell are unique and carefully",
    "start": "65250",
    "end": "72090"
  },
  {
    "text": "picked by our customer so it's obvious that we don't want to sell the same seat",
    "start": "72090",
    "end": "78060"
  },
  {
    "text": "twice and have you shared your seat with someone else all that we have to we have",
    "start": "78060",
    "end": "85590"
  },
  {
    "text": "to ensure all that while handling huge amounts of load that could be similar to",
    "start": "85590",
    "end": "91560"
  },
  {
    "text": "Black Friday but there's a lease one",
    "start": "91560",
    "end": "98159"
  },
  {
    "text": "other time you interact with Ticketmaster that you might not know or",
    "start": "98159",
    "end": "103290"
  },
  {
    "text": "realize as much as buying the tickets online and that's when you enter the",
    "start": "103290",
    "end": "108390"
  },
  {
    "text": "venue during the day of the concert of your favorite artists or sports team",
    "start": "108390",
    "end": "114320"
  },
  {
    "text": "when the validation is done it's done by our system and no matter how you got",
    "start": "114320",
    "end": "122399"
  },
  {
    "text": "your tickets from our mobile application to a real Paper Tickets that validation goes to",
    "start": "122399",
    "end": "128619"
  },
  {
    "text": "our system and to ensure that everything works fine even at that scale we have",
    "start": "128620",
    "end": "137500"
  },
  {
    "text": "some additional constraint being a 40 years old company and we've been",
    "start": "137500",
    "end": "143050"
  },
  {
    "text": "innovating for all these years so internally we have not one but 27 to",
    "start": "143050",
    "end": "149380"
  },
  {
    "text": "kitten system that are backed by more than 300 products our internal cloud",
    "start": "149380",
    "end": "155590"
  },
  {
    "text": "included more than 20 20,000 VM in seven",
    "start": "155590",
    "end": "161260"
  },
  {
    "text": "data center and because we're at Q Khan I felt that the last ATS was mandatory",
    "start": "161260",
    "end": "167350"
  },
  {
    "text": "so we're at 15 Rene's cluster right now",
    "start": "167350",
    "end": "172860"
  },
  {
    "text": "all those serve all those compute power and those infrastructure are used power",
    "start": "176430",
    "end": "182260"
  },
  {
    "text": "services from all the language as shown here there's probably much more I",
    "start": "182260",
    "end": "187590"
  },
  {
    "text": "probably can't fit all that but those are the biggest one but it also served",
    "start": "187590",
    "end": "194380"
  },
  {
    "text": "to power one of our ticketing system that's a VAX program and if you don't",
    "start": "194380",
    "end": "199989"
  },
  {
    "text": "have a computer like that on your desk you can also run it on mini cube nowadays so listening to me talking",
    "start": "199989",
    "end": "209709"
  },
  {
    "start": "207000",
    "end": "282000"
  },
  {
    "text": "about all that should already tell you the answer to the why tracing question and I won't really go into all those",
    "start": "209709",
    "end": "219370"
  },
  {
    "text": "questions so what is tracing how to do tracing and even why do tracing there's",
    "start": "219370",
    "end": "225280"
  },
  {
    "text": "already some great talks about that some very great present",
    "start": "225280",
    "end": "230620"
  },
  {
    "text": "presenter did that in various conference but I've linked for talk that resonate",
    "start": "230620",
    "end": "237130"
  },
  {
    "text": "with me in the last two two years in the last two years so I recommend if you",
    "start": "237130",
    "end": "243640"
  },
  {
    "text": "haven't watched those to listen to them they all been recorded and there now well after the talk there's still",
    "start": "243640",
    "end": "254050"
  },
  {
    "text": "one reason that wasn't mentioned in the all those talk and that was my one of my",
    "start": "254050",
    "end": "260049"
  },
  {
    "text": "reason to do that and it was to prevent people from searching log with 20 long",
    "start": "260049",
    "end": "266169"
  },
  {
    "text": "line 20 with a query that long in any",
    "start": "266169",
    "end": "271210"
  },
  {
    "text": "search engine it's not meant to do that it can be forced to do something like",
    "start": "271210",
    "end": "276850"
  },
  {
    "text": "that and we've done it but that is far from what you should do and to achieve",
    "start": "276850",
    "end": "283810"
  },
  {
    "start": "282000",
    "end": "366000"
  },
  {
    "text": "that we've used the ager I'd say it's been a fun ride getting to",
    "start": "283810",
    "end": "288820"
  },
  {
    "text": "work with where we're at now so let's get started before we talked about",
    "start": "288820",
    "end": "298150"
  },
  {
    "text": "Yaeger this is our current state we have 25 services instrumented a little bit",
    "start": "298150",
    "end": "304810"
  },
  {
    "text": "more than that in non production we use the Java know GS the go client heavily",
    "start": "304810",
    "end": "312130"
  },
  {
    "text": "and we're starting to see people using the C sharp and some C++ via Android as",
    "start": "312130",
    "end": "319060"
  },
  {
    "text": "well even with sampling all those services push up to 9,000 spans per",
    "start": "319060",
    "end": "325930"
  },
  {
    "text": "second we keep about five days of data which has up to two point one billions",
    "start": "325930",
    "end": "332680"
  },
  {
    "text": "spans in elasticsearch or that could be translated to one point two terabyte of",
    "start": "332680",
    "end": "338139"
  },
  {
    "text": "data so while Jaeger is using production at",
    "start": "338139",
    "end": "343960"
  },
  {
    "text": "ticketmaster it's far from being rolled out everywhere so that's not a cluster has big as what",
    "start": "343960",
    "end": "351610"
  },
  {
    "text": "you would expect from ubirr or even some other people I've seen on github but I",
    "start": "351610",
    "end": "357340"
  },
  {
    "text": "still felt that sharing the actual numbers will help the community get a",
    "start": "357340",
    "end": "362440"
  },
  {
    "text": "feel of what it can do so how did we",
    "start": "362440",
    "end": "367660"
  },
  {
    "start": "366000",
    "end": "688000"
  },
  {
    "text": "started this effort how did you growth adoption internally I tell them and the",
    "start": "367660",
    "end": "374620"
  },
  {
    "text": "main advice I could give you is to start with the development teams before",
    "start": "374620",
    "end": "380140"
  },
  {
    "text": "switching to the upside I was a Java developer for working on various API and I can really",
    "start": "380140",
    "end": "387190"
  },
  {
    "text": "tell you that tracing does fill a gap between logging and matrix working with",
    "start": "387190",
    "end": "394210"
  },
  {
    "text": "them is the best way to get started and you'll see that they care about it and that it will it's something they will",
    "start": "394210",
    "end": "402490"
  },
  {
    "text": "need to do won't do usually we start with demo with the team followed up by a",
    "start": "402490",
    "end": "410860"
  },
  {
    "text": "Q&A session and generally the first question is how can I get started so try",
    "start": "410860",
    "end": "418960"
  },
  {
    "text": "to understand what what language what framework you use internally I've",
    "start": "418960",
    "end": "424630"
  },
  {
    "text": "there's multiple question on that slide try to answer these it's going to be",
    "start": "424630",
    "end": "430810"
  },
  {
    "text": "what you'll be working with from now on internally we have a common we have a",
    "start": "430810",
    "end": "438400"
  },
  {
    "text": "service template that was used Eveleigh to seed new project so that helped",
    "start": "438400",
    "end": "444130"
  },
  {
    "text": "gaining traction at first that to to instrument this and once you're you're",
    "start": "444130",
    "end": "453100"
  },
  {
    "text": "done with the instrumentation or at least have started that the",
    "start": "453100",
    "end": "458800"
  },
  {
    "text": "infrastructure is one thing but you'll also have to do documentation it's not",
    "start": "458800",
    "end": "463840"
  },
  {
    "text": "the funniest part it's not always enjoyable but it's gonna save you quite",
    "start": "463840",
    "end": "469060"
  },
  {
    "text": "some time down the road as you scale from one team to much more try to answer",
    "start": "469060",
    "end": "474790"
  },
  {
    "text": "these question in your documentation that's what we did and people were finding that helpful but also if you see",
    "start": "474790",
    "end": "483070"
  },
  {
    "text": "a question being asked over and over that's probably a good indication that your documentation does not mention",
    "start": "483070",
    "end": "490060"
  },
  {
    "text": "anything about that",
    "start": "490060",
    "end": "493020"
  },
  {
    "text": "and all that won't happen overnight I don't think you'll be able to find all",
    "start": "495210",
    "end": "501910"
  },
  {
    "text": "frameworks that your company use or even guess or find every piece of",
    "start": "501910",
    "end": "508930"
  },
  {
    "text": "documentation you should write about it so start somewhere try working",
    "start": "508930",
    "end": "514169"
  },
  {
    "text": "with this with your first team instrument the bare minimum framework",
    "start": "514169",
    "end": "519419"
  },
  {
    "text": "and that might be that might looks harder than it really is because there's",
    "start": "519419",
    "end": "526800"
  },
  {
    "text": "already a good coverage on the open tracing that IO registry and that's open",
    "start": "526800",
    "end": "534180"
  },
  {
    "text": "source instrumentation for various project from java python to scala and a",
    "start": "534180",
    "end": "540690"
  },
  {
    "text": "lot of these I say document I talk about",
    "start": "540690",
    "end": "545850"
  },
  {
    "text": "documenting how to use them usually the open source project already mentioned that but we found that some",
    "start": "545850",
    "end": "552779"
  },
  {
    "text": "little piece of our service template required additional documentation so",
    "start": "552779",
    "end": "558899"
  },
  {
    "text": "we've mostly focused on that and linked the open source documentation for more and you'll have eventually to start",
    "start": "558899",
    "end": "570120"
  },
  {
    "text": "testing that that instrumentation you might find a team that's willing to do",
    "start": "570120",
    "end": "576240"
  },
  {
    "text": "that with you but we've usually started by sending PRS directly to the team and",
    "start": "576240",
    "end": "582829"
  },
  {
    "text": "the process of doing the first PR you'll usually find the most obvious problem",
    "start": "582829",
    "end": "589620"
  },
  {
    "text": "so fix these after that have them deploy it somewhere because a non merge PR",
    "start": "589620",
    "end": "596220"
  },
  {
    "text": "doesn't get you anywhere closer to where you want to be having it it does",
    "start": "596220",
    "end": "601589"
  },
  {
    "text": "validate some things including a network ACL or deployment script so that's very",
    "start": "601589",
    "end": "607319"
  },
  {
    "text": "important and once that's in production you fix most of the issues you could",
    "start": "607319",
    "end": "612630"
  },
  {
    "text": "find repeat that with another team over and over once you've done that a few",
    "start": "612630",
    "end": "621810"
  },
  {
    "text": "times we started to see people reaching out directly instead of sending pull",
    "start": "621810",
    "end": "628470"
  },
  {
    "text": "requests they heard about it from other teams they wanted to know more but most",
    "start": "628470",
    "end": "635730"
  },
  {
    "text": "importantly people that on boarded tracing wanted to know more about those",
    "start": "635730",
    "end": "641519"
  },
  {
    "text": "blah books and those long span calling and other services and they started asking",
    "start": "641519",
    "end": "646559"
  },
  {
    "text": "other teams and pushing them toward having tracing as well so that's really",
    "start": "646559",
    "end": "652559"
  },
  {
    "text": "a snowball effect we not notice your documentation will start to be Andy at",
    "start": "652559",
    "end": "658409"
  },
  {
    "text": "this point we've started with one or two teams and scaling 255 the last 30 or at",
    "start": "658409",
    "end": "667709"
  },
  {
    "text": "a very rapid rate so that helped and always continue to be involved with the",
    "start": "667709",
    "end": "674429"
  },
  {
    "text": "teams there were going to be new problems try to fix them and always try",
    "start": "674429",
    "end": "679769"
  },
  {
    "text": "to orient them to open source solution and contributing to ended up as we are",
    "start": "679769",
    "end": "685199"
  },
  {
    "text": "instead of forking internally so let's move on how we deployed Jaeger this is",
    "start": "685199",
    "end": "694169"
  },
  {
    "start": "688000",
    "end": "872000"
  },
  {
    "text": "the architecture diagram of Hager I'll walk you through it quickly if you've",
    "start": "694169",
    "end": "699419"
  },
  {
    "text": "never seen that before it's part of the official documentation on the left",
    "start": "699419",
    "end": "704669"
  },
  {
    "text": "there's a gray box which kind of look pink here from my angle it's our it's",
    "start": "704669",
    "end": "712109"
  },
  {
    "text": "your house or your VM your docker container and that gray box you see the",
    "start": "712109",
    "end": "717959"
  },
  {
    "text": "yellow box being your already deployed application something that you already",
    "start": "717959",
    "end": "723509"
  },
  {
    "text": "have everything below that the tree",
    "start": "723509",
    "end": "728989"
  },
  {
    "text": "block below that will be the new code you'll have to instrument your project",
    "start": "728989",
    "end": "735179"
  },
  {
    "text": "that includes the various instrumentation framework the open",
    "start": "735179",
    "end": "741269"
  },
  {
    "text": "tracing API and the Jaeger client that implements that API if you look at the",
    "start": "741269",
    "end": "747329"
  },
  {
    "text": "bottom of the gray pink ish box there's the Jaeger agent that runs",
    "start": "747329",
    "end": "752369"
  },
  {
    "text": "alongside of your application it's a separate process and it and those taking",
    "start": "752369",
    "end": "760319"
  },
  {
    "text": "those pans from your application and sending that to the collector the collector is in the middle it a job is",
    "start": "760319",
    "end": "767789"
  },
  {
    "text": "to save those batch of Spanish received from all your clients",
    "start": "767789",
    "end": "773010"
  },
  {
    "text": "to your data store the data store being the green green box at the bottom",
    "start": "773010",
    "end": "779700"
  },
  {
    "text": "there's now tree implementation of the data store in Alice which is",
    "start": "779700",
    "end": "784890"
  },
  {
    "text": "elasticsearch cassandra and newly a badger that was just released and 1.12",
    "start": "784890",
    "end": "791480"
  },
  {
    "text": "if you look on the right side there's the Jaeger UI and the Jaeger quarry",
    "start": "791480",
    "end": "796500"
  },
  {
    "text": "which are usually deployed together and are used to visualize what's in the data",
    "start": "796500",
    "end": "802200"
  },
  {
    "text": "store if you over if you already looked",
    "start": "802200",
    "end": "809070"
  },
  {
    "text": "at the documentation this might be new it wasn't well it's still not there yet",
    "start": "809070",
    "end": "814370"
  },
  {
    "text": "it's an alternative way to deploy Jaeger the main difference being that the",
    "start": "814370",
    "end": "820440"
  },
  {
    "text": "Jaeger collector will write to a stream instead of directly to the data store the stream currently can only be Kafka",
    "start": "820440",
    "end": "827760"
  },
  {
    "text": "and that could be extended at some point once the information lands in Kafka",
    "start": "827760",
    "end": "833090"
  },
  {
    "text": "there's a new component called the Jaeger and gesture that reads all the data from Kafka and sends that the data",
    "start": "833090",
    "end": "841200"
  },
  {
    "text": "store Kafka being able to handle much easily spikes of traffic than something",
    "start": "841200",
    "end": "848400"
  },
  {
    "text": "like elasticsearch we use that to have a constant flow of data going to",
    "start": "848400",
    "end": "855720"
  },
  {
    "text": "elasticsearch and not however whelmed it the rest state stays the same the query",
    "start": "855720",
    "end": "862680"
  },
  {
    "text": "and the UI are deployed together the query the data store and your agent",
    "start": "862680",
    "end": "867810"
  },
  {
    "text": "still on little Twitter to your collector we have three different",
    "start": "867810",
    "end": "875150"
  },
  {
    "start": "872000",
    "end": "1025000"
  },
  {
    "text": "environment and I deployed in scout master we have the non production the",
    "start": "875150",
    "end": "881550"
  },
  {
    "text": "pre production which could be named staging in the production one it's important to note that every application",
    "start": "881550",
    "end": "888060"
  },
  {
    "text": "that talks to one that talks one to the other needs to share the same Jaeger",
    "start": "888060",
    "end": "894440"
  },
  {
    "text": "cluster if they don't share the same the the trace won't be connected together",
    "start": "894440",
    "end": "900780"
  },
  {
    "text": "and you won't be able to view them we decided to use elasticsearch yes as I",
    "start": "900780",
    "end": "908530"
  },
  {
    "text": "said earlier we don't run it inside kubernetes because we wanted to save",
    "start": "908530",
    "end": "914230"
  },
  {
    "text": "time and focus on Jaeger instead of elasticsearch but everything else that's",
    "start": "914230",
    "end": "920290"
  },
  {
    "text": "mark with kubernetes logo is deploy in our queries cluster so that's the Jaeger",
    "start": "920290",
    "end": "927900"
  },
  {
    "text": "that the Jaeger collector the Jaeger and gesture and the query as well the architecture of Jaeger makes it",
    "start": "927900",
    "end": "935680"
  },
  {
    "text": "super simple to deploy that in deploy that in super Nerys because all those",
    "start": "935680",
    "end": "942130"
  },
  {
    "text": "three components are stateless so they don't have a state on disk internally we",
    "start": "942130",
    "end": "948670"
  },
  {
    "text": "have a custom chart but it's just a deployment object with some templating",
    "start": "948670",
    "end": "955300"
  },
  {
    "text": "on top of it for all three component we also use a cron job object for the es",
    "start": "955300",
    "end": "963630"
  },
  {
    "text": "elasticsearch and X cleaner which is self-explanatory we clean index every five days so that",
    "start": "963630",
    "end": "970510"
  },
  {
    "text": "runs in a cron job and the SPARC dependency which is another component that aggregate all your data and creates",
    "start": "970510",
    "end": "978580"
  },
  {
    "text": "the map of services what talks to the other regarding load",
    "start": "978580",
    "end": "986500"
  },
  {
    "text": "balancing the Jager collector received both HTTP and TCP for use TCP protocol",
    "start": "986500",
    "end": "994030"
  },
  {
    "text": "so we use a service with type load balancer to expose it externally from",
    "start": "994030",
    "end": "1000360"
  },
  {
    "text": "the cluster there's also an internal endpoint save some and network round-trip in AWS which is where we",
    "start": "1000360",
    "end": "1008850"
  },
  {
    "text": "deploy currently translate to an ELB as for the Jager query we use an ingress",
    "start": "1008850",
    "end": "1016620"
  },
  {
    "text": "resource because it's all HTTP in our case it's an Al being Gris",
    "start": "1016620",
    "end": "1023420"
  },
  {
    "start": "1025000",
    "end": "1219000"
  },
  {
    "text": "all right so the last component of the year infrastructure is the eager agent",
    "start": "1028589",
    "end": "1035139"
  },
  {
    "text": "there's two different way to deploy it there's the deme daemon set way and the",
    "start": "1035139",
    "end": "1041798"
  },
  {
    "text": "sidecar way the first while the sidecar one is deployed alongside your",
    "start": "1041799",
    "end": "1048428"
  },
  {
    "text": "application so for every application you deploy there's a Jaeger agent and the",
    "start": "1048429",
    "end": "1054580"
  },
  {
    "text": "second one being a demon on your instance so multiple applications share",
    "start": "1054580",
    "end": "1060369"
  },
  {
    "text": "a single Jaeger agent the initial design of the agent was to run as a daemon but",
    "start": "1060369",
    "end": "1068019"
  },
  {
    "text": "there's some trade-off in fact the pros and cons of the sidecar and daemon are",
    "start": "1068019",
    "end": "1074859"
  },
  {
    "text": "inverted if you pick one to the other with a sidecar you get better isolation",
    "start": "1074859",
    "end": "1080700"
  },
  {
    "text": "this means that if you have a bad client that's sending too much traces for some",
    "start": "1080700",
    "end": "1087700"
  },
  {
    "text": "reason it it cannot affect another client the second one being security you",
    "start": "1087700",
    "end": "1097089"
  },
  {
    "text": "don't have to punch a hole in your network to to send UDP packets across to",
    "start": "1097089",
    "end": "1104739"
  },
  {
    "text": "the same agent those are fully isolated in the dock one to the other that comes",
    "start": "1104739",
    "end": "1113830"
  },
  {
    "text": "with additional resources to zation you'll have to run one and you'll have",
    "start": "1113830",
    "end": "1119109"
  },
  {
    "text": "to load and run one yagura jumper application and there's some additional",
    "start": "1119109",
    "end": "1124349"
  },
  {
    "text": "complexity that I'll toss it out just after if you're not inside Q&A Dee's and you're doing the sidecar the resource of",
    "start": "1124349",
    "end": "1132309"
  },
  {
    "text": "cessation is the biggest pros of the",
    "start": "1132309",
    "end": "1137320"
  },
  {
    "text": "daemon set you essentially just deploy it once per oast and everything talks to",
    "start": "1137320",
    "end": "1144729"
  },
  {
    "text": "it there's some additional complexity if you're inside Kira Nerys",
    "start": "1144729",
    "end": "1152070"
  },
  {
    "text": "which is in the Pro section for some reason it's not and the isolation is",
    "start": "1153090",
    "end": "1160690"
  },
  {
    "text": "slightly is not as best as the sidecar because there's multiple client that can",
    "start": "1160690",
    "end": "1168460"
  },
  {
    "text": "affect each other the added complexity I was referring to is that by default the",
    "start": "1168460",
    "end": "1174130"
  },
  {
    "text": "Jaeger client only repelled by default it reports to local laws and it's not",
    "start": "1174130",
    "end": "1179740"
  },
  {
    "text": "always the case if you're using a darker run with - - link it's going to be a",
    "start": "1179740",
    "end": "1186340"
  },
  {
    "text": "different hostname than local O's and the same goes for for the daemon set",
    "start": "1186340",
    "end": "1192970"
  },
  {
    "text": "approach intranet ease it's it's not going to be local oh so it's going to be",
    "start": "1192970",
    "end": "1198880"
  },
  {
    "text": "the IP address of your worker node so you have to set those two variable in",
    "start": "1198880",
    "end": "1205990"
  },
  {
    "text": "the first section and to make it even",
    "start": "1205990",
    "end": "1211270"
  },
  {
    "text": "order the second one does not have the same format for every language so you've",
    "start": "1211270",
    "end": "1216789"
  },
  {
    "text": "been warned there's there is now a",
    "start": "1216789",
    "end": "1223659"
  },
  {
    "text": "Jaeger operator for kubernetes that abstract all that this sport for us",
    "start": "1223659",
    "end": "1231370"
  },
  {
    "text": "deployment strategy from all-in-one being a kind of developer mode trying it",
    "start": "1231370",
    "end": "1238000"
  },
  {
    "text": "out easily the production one being the first diagram I showed earlier so",
    "start": "1238000",
    "end": "1244179"
  },
  {
    "text": "there's no character involved it could run elasticsearch or cassandra with with",
    "start": "1244179",
    "end": "1252070"
  },
  {
    "text": "that and with the streaming approach you have basically the same deployment as we do internally but with much easier",
    "start": "1252070",
    "end": "1260500"
  },
  {
    "text": "config it also sparked about Jaeger agent strategy so you're not stuck with",
    "start": "1260500",
    "end": "1266980"
  },
  {
    "text": "using either either one it can even inject the sidecar for you in your",
    "start": "1266980",
    "end": "1272620"
  },
  {
    "text": "deployment so that's a very good very nice thing to have there's newly version",
    "start": "1272620",
    "end": "1278620"
  },
  {
    "text": "the new version sport version upgrade for Jagr so that's one of the thing we were",
    "start": "1278620",
    "end": "1284429"
  },
  {
    "text": "missing for before using that so all",
    "start": "1284429",
    "end": "1290609"
  },
  {
    "start": "1288000",
    "end": "1471000"
  },
  {
    "text": "that is easy if you have only a single region but in our case we have vales bow",
    "start": "1290609",
    "end": "1296489"
  },
  {
    "text": "and you probably have multiple region as well there's various way you could do",
    "start": "1296489",
    "end": "1302190"
  },
  {
    "text": "that from having a Cassandra cluster that spans multiple region but in our",
    "start": "1302190",
    "end": "1307649"
  },
  {
    "text": "case we decided to use Kefka and a replicator a message applicator for that",
    "start": "1307649",
    "end": "1313200"
  },
  {
    "text": "in this diagram the red arrow means were writing to that to Kefka and the blue",
    "start": "1313200",
    "end": "1319859"
  },
  {
    "text": "arrow means were reading from Kefka so",
    "start": "1319859",
    "end": "1326039"
  },
  {
    "text": "if you have two region the easiest settup to do is to have a collector in one in both region that collector will",
    "start": "1326039",
    "end": "1334349"
  },
  {
    "text": "right kefka you'll probably need a kefka cluster in each region which we already",
    "start": "1334349",
    "end": "1340289"
  },
  {
    "text": "had that helped a lot you write that to a different queue and use a replicator",
    "start": "1340289",
    "end": "1349109"
  },
  {
    "text": "in the east region or whichever is your primary to sync that data from west to",
    "start": "1349109",
    "end": "1356009"
  },
  {
    "text": "east and merge that in a topic that contains both region with that",
    "start": "1356009",
    "end": "1363289"
  },
  {
    "text": "configured you can use the Jaeger and jester to consume all the data from that",
    "start": "1363289",
    "end": "1370799"
  },
  {
    "text": "topic which contain everything and writes at your data store the replicator",
    "start": "1370799",
    "end": "1377940"
  },
  {
    "text": "in question is we use a conference message replicator there's various",
    "start": "1377940",
    "end": "1384089"
  },
  {
    "text": "options even one from you were so you can look at the various trade off on you",
    "start": "1384089",
    "end": "1390690"
  },
  {
    "text": "know there's so a problem with the previous approach is that if we were to",
    "start": "1390690",
    "end": "1396899"
  },
  {
    "text": "lose East we would lose access to our trace even in West which is not ideal if",
    "start": "1396899",
    "end": "1403679"
  },
  {
    "text": "you're trying to survive original outage to achieve milk",
    "start": "1403679",
    "end": "1410429"
  },
  {
    "text": "see multi-region that can survive that you'll have to use well in this case to",
    "start": "1410429",
    "end": "1416759"
  },
  {
    "text": "the last or a few more replication and that's pretty much it you set up both",
    "start": "1416759",
    "end": "1424470"
  },
  {
    "text": "collector to write to a topic you replicate from east to west and from",
    "start": "1424470",
    "end": "1431039"
  },
  {
    "text": "west to east configure another and gesture to write to another data store",
    "start": "1431039",
    "end": "1436799"
  },
  {
    "text": "and now you have the all the data from both region in both region that's not",
    "start": "1436799",
    "end": "1448860"
  },
  {
    "text": "all you can do with kefka replication you could replicate from isolated network to a non isolated network with",
    "start": "1448860",
    "end": "1456749"
  },
  {
    "text": "the bridge or even do the same thing but",
    "start": "1456749",
    "end": "1462360"
  },
  {
    "text": "with multi region with isolated network the graph won't be explained today but",
    "start": "1462360",
    "end": "1469259"
  },
  {
    "text": "it's all available and in my slides so let's talk about scaling now i",
    "start": "1469259",
    "end": "1477408"
  },
  {
    "start": "1471000",
    "end": "1544000"
  },
  {
    "text": "there wasn't much documentation on the scaling when i submitted the talk now",
    "start": "1477749",
    "end": "1484289"
  },
  {
    "text": "there's a little bit more so my main advice was to start small there's the",
    "start": "1484289",
    "end": "1489659"
  },
  {
    "text": "remote control sampler that's available and it lets you control how much data",
    "start": "1489659",
    "end": "1494700"
  },
  {
    "text": "ingest from your various clients which lets you control when to scale and not",
    "start": "1494700",
    "end": "1501869"
  },
  {
    "text": "having it forced by your client joint in your cluster this is the blog post i was",
    "start": "1501869",
    "end": "1511019"
  },
  {
    "text": "referring to from one of the manners i've added in this slide all the various",
    "start": "1511019",
    "end": "1517710"
  },
  {
    "text": "cues the bounded queues that are in the architecture there is one from the j√§ger",
    "start": "1517710",
    "end": "1522929"
  },
  {
    "text": "agent to the collector even one from the j√§ger client the agent pretty much",
    "start": "1522929",
    "end": "1529080"
  },
  {
    "text": "everywhere there's a queue those queues are designed to prevent hagar from",
    "start": "1529080",
    "end": "1534749"
  },
  {
    "text": "crashing if there's too much load it will start dropping data instead of a and they can all be configured with the",
    "start": "1534749",
    "end": "1542660"
  },
  {
    "text": "Vargas flag here you can watch the matrix to know when to scale and what to",
    "start": "1542660",
    "end": "1549620"
  },
  {
    "text": "scale in the collector on the left you see the metrics that would increase if",
    "start": "1549620",
    "end": "1554990"
  },
  {
    "text": "your data store can keep up in the middle you see the Q I was referring to",
    "start": "1554990",
    "end": "1560600"
  },
  {
    "text": "if you see that drop metric increase that's probably because you don't have Q",
    "start": "1560600",
    "end": "1568130"
  },
  {
    "text": "big enough so you can either increase it but it will cost a bit more memory or",
    "start": "1568130",
    "end": "1573410"
  },
  {
    "text": "you can add more collector to handle that load more easily and look at the",
    "start": "1573410",
    "end": "1579620"
  },
  {
    "text": "logs there's various reason and various times we've seen problem that were not",
    "start": "1579620",
    "end": "1584930"
  },
  {
    "text": "part of any matrix scaling the agent is very similar it's well described in the",
    "start": "1584930",
    "end": "1591230"
  },
  {
    "text": "blog post but basically you have one to see if the collector can catch up or if",
    "start": "1591230",
    "end": "1598100"
  },
  {
    "text": "your agent is dropping data because it can catch up by itself there's also logs even if it's a tracing",
    "start": "1598100",
    "end": "1606290"
  },
  {
    "text": "touts logs are still useful in this case to debug and we've skipped pretty much",
    "start": "1606290",
    "end": "1616160"
  },
  {
    "start": "1611000",
    "end": "1636000"
  },
  {
    "text": "everything that was well we skip a lot of thing that were that were hard how to",
    "start": "1616160",
    "end": "1621920"
  },
  {
    "text": "scale elasticsearch how to scale Cassandra Kefka or even kubernetes there's good talk about that on the web",
    "start": "1621920",
    "end": "1630740"
  },
  {
    "text": "and even good talks right here for community so and you close the scaling",
    "start": "1630740",
    "end": "1638780"
  },
  {
    "start": "1636000",
    "end": "1671000"
  },
  {
    "text": "section I wanted to show what is our current infrastructure we I've shown",
    "start": "1638780",
    "end": "1645860"
  },
  {
    "text": "elasticsearch on the left and the Jager collector on the right we run on leaf",
    "start": "1645860",
    "end": "1651980"
  },
  {
    "text": "for pods right now it used to be just two we've increased it recently because",
    "start": "1651980",
    "end": "1657860"
  },
  {
    "text": "we're forecasting a bigger adoption soon the elasticsearch is the important part",
    "start": "1657860",
    "end": "1663530"
  },
  {
    "text": "where we have very fast hard drive which makes ion krill",
    "start": "1663530",
    "end": "1668850"
  },
  {
    "text": "the fast and not a bottleneck and now",
    "start": "1668850",
    "end": "1673890"
  },
  {
    "start": "1671000",
    "end": "1710000"
  },
  {
    "text": "let's talk about extending Jaeger because it might not fit your needs right now but there's still alot to do",
    "start": "1673890",
    "end": "1682590"
  },
  {
    "text": "the biggest feature I've seen in github about extension point and Jaeger was to",
    "start": "1682590",
    "end": "1688560"
  },
  {
    "text": "add a storage plug-in it has been large since 1.12 which was released this week",
    "start": "1688560",
    "end": "1695070"
  },
  {
    "text": "if I recall correctly so it's now possible to add DynamoDB BigTable in",
    "start": "1695070",
    "end": "1701760"
  },
  {
    "text": "flux DB or any other database instead of using elastic search or Cassandra if you",
    "start": "1701760",
    "end": "1711450"
  },
  {
    "start": "1710000",
    "end": "1792000"
  },
  {
    "text": "want to protect your eager UI it's been requested a few time right now there's",
    "start": "1711450",
    "end": "1716580"
  },
  {
    "text": "no such feature but you can front it with Kiko this blog post will explain",
    "start": "1716580",
    "end": "1722760"
  },
  {
    "text": "you and walk you through exactly how to do that but that basically had an SSO in",
    "start": "1722760",
    "end": "1729900"
  },
  {
    "text": "front of it what we use extensively at get master was UI customization you can",
    "start": "1729900",
    "end": "1736830"
  },
  {
    "text": "add custom menus and j√§ger which includes link story internal",
    "start": "1736830",
    "end": "1744180"
  },
  {
    "text": "documentation or slack you can add tags on your you can add links on your tags",
    "start": "1744180",
    "end": "1750920"
  },
  {
    "text": "so we use that to link with our inventory tool to find a slack channel",
    "start": "1750920",
    "end": "1756150"
  },
  {
    "text": "of the team to find the on call information of the team that's having a problem or even the source code but you",
    "start": "1756150",
    "end": "1764970"
  },
  {
    "text": "can link anything any links you could link directly to the AWS console with this this templating or to your spline",
    "start": "1764970",
    "end": "1775380"
  },
  {
    "text": "clogs or ALK log with those right here",
    "start": "1775380",
    "end": "1780650"
  },
  {
    "text": "the possibilities are endless with that and it's been a feature that's been",
    "start": "1780650",
    "end": "1787050"
  },
  {
    "text": "added from the community so it's per great to see people having great ideas like that the last one",
    "start": "1787050",
    "end": "1795580"
  },
  {
    "start": "1792000",
    "end": "1811000"
  },
  {
    "text": "not the last one but another one is a concept of processor inside Q&A inside",
    "start": "1795580",
    "end": "1802000"
  },
  {
    "text": "Jaeger it's not exposed right now but there's an open feature for it there's",
    "start": "1802000",
    "end": "1808960"
  },
  {
    "text": "four type of processor the first one is the preprocessor it in those batch of",
    "start": "1808960",
    "end": "1815169"
  },
  {
    "start": "1811000",
    "end": "1854000"
  },
  {
    "text": "message you could normalize the data extract metrics on it with it the second",
    "start": "1815169",
    "end": "1822490"
  },
  {
    "text": "one being the filter span it will allow you to build a whitelist or blacklist",
    "start": "1822490",
    "end": "1828460"
  },
  {
    "text": "with of services you could enforce mandatory tag re or yeah enforcing",
    "start": "1828460",
    "end": "1836950"
  },
  {
    "text": "remote sampler would be a good one but it's not possible right now third one is",
    "start": "1836950",
    "end": "1842679"
  },
  {
    "text": "being the spam sanitizer that's what you will use to normalize tag or even remove",
    "start": "1842679",
    "end": "1848440"
  },
  {
    "text": "sensitive data before replicating that across the last one is the pre safe",
    "start": "1848440",
    "end": "1856870"
  },
  {
    "start": "1854000",
    "end": "1870000"
  },
  {
    "text": "processor it gives me a hard time because I don't know what you would do",
    "start": "1856870",
    "end": "1862870"
  },
  {
    "text": "with that that you can't with the three previous one but if you have idea please",
    "start": "1862870",
    "end": "1868390"
  },
  {
    "text": "please comment on get up so don't fork don't for Hagar if you feel like there's",
    "start": "1868390",
    "end": "1877000"
  },
  {
    "start": "1870000",
    "end": "1901000"
  },
  {
    "text": "something missing you can even import the code of Hagar create your own main",
    "start": "1877000",
    "end": "1883210"
  },
  {
    "text": "and customize it to your need and even and once that's done and it's fully",
    "start": "1883210",
    "end": "1888429"
  },
  {
    "text": "baked then you can contribute back instead of for of doing it hard fork it will save you time because catching up",
    "start": "1888429",
    "end": "1895780"
  },
  {
    "text": "with a big ripple can be hard and it's also much easier the last one is to do",
    "start": "1895780",
    "end": "1904090"
  },
  {
    "start": "1901000",
    "end": "1923000"
  },
  {
    "text": "analytics on the trace so if you have all the trace flowing through Kafka you",
    "start": "1904090",
    "end": "1909280"
  },
  {
    "text": "can holler eyes them to build SL a chart our dependency map that are much more",
    "start": "1909280",
    "end": "1915879"
  },
  {
    "text": "flex you could just like you borders will trace quality to our latency",
    "start": "1915879",
    "end": "1921639"
  },
  {
    "text": "Instagram so that was the engine thanks",
    "start": "1921639",
    "end": "1927399"
  },
  {
    "start": "1923000",
    "end": "1954000"
  },
  {
    "text": "everyone for listening",
    "start": "1927399",
    "end": "1930149"
  },
  {
    "text": "I don't think we have time for questions",
    "start": "1935530",
    "end": "1943530"
  },
  {
    "text": "but I'll be staying right here or if you want if you want continue to",
    "start": "1943530",
    "end": "1950470"
  },
  {
    "text": "chat",
    "start": "1950470",
    "end": "1952679"
  }
]