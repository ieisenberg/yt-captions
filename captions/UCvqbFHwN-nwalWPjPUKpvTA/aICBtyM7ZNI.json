[
  {
    "start": "0",
    "end": "17000"
  },
  {
    "text": "good afternoon everybody you are at the sig as your a deep dive my name is",
    "start": "0",
    "end": "6270"
  },
  {
    "text": "Lachlan Evensen Steven sends his apologies he's actually stuck in traffic so he may appear in several minutes he",
    "start": "6270",
    "end": "12960"
  },
  {
    "text": "may not but he should be here later",
    "start": "12960",
    "end": "18000"
  },
  {
    "start": "17000",
    "end": "70000"
  },
  {
    "text": "today so I'm the guy down the bottom Stevens the guy at the top I'm a principal PM at Microsoft I work on",
    "start": "18000",
    "end": "24420"
  },
  {
    "text": "upstream pro projects such as kubernetes container runtimes helmed raft brigade",
    "start": "24420",
    "end": "31790"
  },
  {
    "text": "SMI a whole bunch of different things so if you have any upstream questions or",
    "start": "31790",
    "end": "37260"
  },
  {
    "text": "open source questions come and see me I'm also a release lead shadow for 115",
    "start": "37260",
    "end": "43050"
  },
  {
    "text": "so if you want any juicy gossip on the 115 release of kubernetes come and see me after the show and I'm an ambassador",
    "start": "43050",
    "end": "48960"
  },
  {
    "text": "for the CN CF ok I assume everybody here knows about see Joshua or is",
    "start": "48960",
    "end": "55770"
  },
  {
    "text": "participating in see Joshua I occasionally show up and and Steven is actually one of the chairs and one of",
    "start": "55770",
    "end": "62340"
  },
  {
    "text": "the other chairs is Dave Strebel and he sends his apologies as well and has asked me to step in",
    "start": "62340",
    "end": "67820"
  },
  {
    "text": "I'd like to keep these things interactive and I knew it was the last day so I figured I would just show some",
    "start": "67820",
    "end": "75360"
  },
  {
    "start": "70000",
    "end": "173000"
  },
  {
    "text": "innovation in open-source that's happening around the Azure platform different projects that are happening how they work give you a quick",
    "start": "75360",
    "end": "82080"
  },
  {
    "text": "run-through and then we can take any questions that sound ok so what I've got",
    "start": "82080",
    "end": "87210"
  },
  {
    "text": "up there is cluster API provider as you are who's your cluster API user no no no",
    "start": "87210",
    "end": "93780"
  },
  {
    "text": "okay who soon okay have you played with the so you haven't probably played with the as you our cluster API provider okay",
    "start": "93780",
    "end": "100680"
  },
  {
    "text": "so I'll show you how that works okay secret store CSI driver anybody use",
    "start": "100680",
    "end": "106110"
  },
  {
    "text": "this you want to get secrets from key vault into a pod without having them on",
    "start": "106110",
    "end": "112110"
  },
  {
    "text": "disk I'll show you how to do that okay and that's pluggable we can also do it",
    "start": "112110",
    "end": "118890"
  },
  {
    "text": "with husky core vault or you could write your own if you have your own back-end secret store you can do that with CSI",
    "start": "118890",
    "end": "124950"
  },
  {
    "text": "directly aad pod identity so we're going to take a look at how that works in",
    "start": "124950",
    "end": "130020"
  },
  {
    "text": "context of how you can use Azure Active Directory service accounts to create service identities for your",
    "start": "130020",
    "end": "136300"
  },
  {
    "text": "pods and how that works so I'll step through an example there and then finally I'm not sure if you're aware but",
    "start": "136300",
    "end": "142660"
  },
  {
    "text": "you can actually run kubernetes as a net CD API for cosmos DB and I'm gonna show",
    "start": "142660",
    "end": "149170"
  },
  {
    "text": "you how to wire that up take a look at that and if folks are interested they could try that something we're very",
    "start": "149170",
    "end": "156940"
  },
  {
    "text": "interested in getting feedback on but that would take all the burden out of running a net CD cluster should you have",
    "start": "156940",
    "end": "162310"
  },
  {
    "text": "one now and we're looking to solve other problems by doing that as well any",
    "start": "162310",
    "end": "168370"
  },
  {
    "text": "questions is that okay interesting okay so cluster",
    "start": "168370",
    "end": "174430"
  },
  {
    "start": "173000",
    "end": "517000"
  },
  {
    "text": "API provider so what is cluster API it's around having a declarative interface API to build your actual clusters right",
    "start": "174430",
    "end": "183550"
  },
  {
    "text": "and the way that works is with the azure API provider I'll show you I'll pop over",
    "start": "183550",
    "end": "188650"
  },
  {
    "text": "this link in just a second is we have it",
    "start": "188650",
    "end": "194440"
  },
  {
    "text": "I just pop over to now because I'll pull up the declaration on the screen here and my apologies from going back and",
    "start": "194440",
    "end": "200590"
  },
  {
    "text": "forward here can everybody see this that",
    "start": "200590",
    "end": "205810"
  },
  {
    "text": "maybe so this is a cluster definition using cluster API for a kubernetes",
    "start": "205810",
    "end": "213610"
  },
  {
    "text": "cluster on as you are right so you can see here that we've got some cider blocks for both the cluster Network and",
    "start": "213610",
    "end": "220840"
  },
  {
    "text": "the pods a service domain and we've got down there a provider spec so what location I want to work in and what kind",
    "start": "220840",
    "end": "229390"
  },
  {
    "text": "I'm using under the hood so if you pop over to I'm just going to show you where",
    "start": "229390",
    "end": "235600"
  },
  {
    "text": "this is this is under kubernetes SIG's cluster API provider for as you are so",
    "start": "235600",
    "end": "244900"
  },
  {
    "text": "if you go take a look here you just go in here grab the release it Steven works",
    "start": "244900",
    "end": "251350"
  },
  {
    "text": "on this we're at zero dot one dot zero so it's at try it let us know how it goes but I can assure you that it does",
    "start": "251350",
    "end": "257859"
  },
  {
    "text": "actually land you a cluster and from here I just want to show everybody where they would need to go to start playing",
    "start": "257859",
    "end": "263440"
  },
  {
    "text": "with this there's actually the install guide here so we can go to",
    "start": "263440",
    "end": "272510"
  },
  {
    "text": "the install guide and we go to getting started so basically that's what I'm going to go through with you now on",
    "start": "272510",
    "end": "279140"
  },
  {
    "text": "setting up an environment and before I do that I'm just going to turn on docker for Mac because it does actually load a",
    "start": "279140",
    "end": "285110"
  },
  {
    "text": "cluster locally to actually build the other cluster right so it's very",
    "start": "285110",
    "end": "291500"
  },
  {
    "text": "interesting under the hood to build a cluster you need a cluster because basically it's a controller with the",
    "start": "291500",
    "end": "297110"
  },
  {
    "text": "custom resource and as you a cloud provider plugged into it that goes and talks to the Azure api's to provision",
    "start": "297110",
    "end": "303440"
  },
  {
    "text": "another cluster so that's an interesting tidbit about cluster api as you need a",
    "start": "303440",
    "end": "308600"
  },
  {
    "text": "cluster to build a cluster so just keep that in mind when you're actually doing that so you need subscription ID 10 and",
    "start": "308600",
    "end": "315500"
  },
  {
    "text": "ID client ID in the secret you grab the tarball you can set up basically you can",
    "start": "315500",
    "end": "322010"
  },
  {
    "text": "export some different variables here and you run this generate yeah mall script",
    "start": "322010",
    "end": "327110"
  },
  {
    "text": "and what that'll do is generate all the contents that you see in here so you",
    "start": "327110",
    "end": "332960"
  },
  {
    "text": "have basically specifications for everything from add-ons which I'm just showing you later briefly deployments",
    "start": "332960",
    "end": "340270"
  },
  {
    "text": "machines is interesting so you can actually see from this thing that I've generated I'm generating a 113 for",
    "start": "340270",
    "end": "346580"
  },
  {
    "text": "cluster on standard B - MS instances with a specific version so everything's",
    "start": "346580",
    "end": "353060"
  },
  {
    "text": "generated in API is what machines what size the cluster how it operates so it's nice if you want to come from that",
    "start": "353060",
    "end": "359300"
  },
  {
    "text": "declarative background here you can configure everything straight out of the box here so I'm going to give this a",
    "start": "359300",
    "end": "367430"
  },
  {
    "text": "shot so all I've done is check that out run through those details exported those",
    "start": "367430",
    "end": "373880"
  },
  {
    "text": "variables that I have already Michelle and now I can just run this crustose cluster CTL create this is a log level",
    "start": "373880",
    "end": "381020"
  },
  {
    "text": "the bootstrap type is kind so this is say build me a tire kind cluster locally",
    "start": "381020",
    "end": "387080"
  },
  {
    "text": "darker and darker is anybody familiar with kind kind is a project under",
    "start": "387080",
    "end": "393650"
  },
  {
    "text": "kubernetes which runs kubernetes and docker so you can run a kubernetes cluster locally on your machine very similar to",
    "start": "393650",
    "end": "400160"
  },
  {
    "text": "like me cube it's just a different provisioning mechanism so that's the bootstrapper I'm",
    "start": "400160",
    "end": "405169"
  },
  {
    "text": "going to use I'm going to tell it to use the provider as you--as and I'm going to feed in these different machines cluster",
    "start": "405169",
    "end": "411680"
  },
  {
    "text": "provider components and the add-ons there I'm going to go and run this I'll",
    "start": "411680",
    "end": "420830"
  },
  {
    "text": "pop the font here and everybody can",
    "start": "420830",
    "end": "425800"
  },
  {
    "text": "where did I put them so you export them to your shell right and then they get",
    "start": "429140",
    "end": "436580"
  },
  {
    "text": "into a bladder I had them up on screen here just a second ago so you actually just put them as",
    "start": "436580",
    "end": "441800"
  },
  {
    "text": "environment variables",
    "start": "441800",
    "end": "445060"
  },
  {
    "text": "yep hello Steven you can get miked up if",
    "start": "449420",
    "end": "455150"
  },
  {
    "text": "you'd like to come on down we're just gonna kick off a cluster they might be able to make you up Stevens coming in now but I'll just go through the rest of",
    "start": "455150",
    "end": "461150"
  },
  {
    "text": "this demo here wonderful okay so I'm not",
    "start": "461150",
    "end": "466280"
  },
  {
    "text": "in the right directory here okay I'm one",
    "start": "466280",
    "end": "472880"
  },
  {
    "text": "directory up too high so I'm gonna just kick this provision off it's gonna go in",
    "start": "472880",
    "end": "478790"
  },
  {
    "text": "the background while we're talking and I'll continue to move on but we were just talking about cluster API do you want to throw anything in we've actually",
    "start": "478790",
    "end": "484760"
  },
  {
    "text": "just gone through kicking off a cluster build with using cluster API for as you--as yeah so welcome Steven thanks",
    "start": "484760",
    "end": "491240"
  },
  {
    "text": "for thanks for getting here so yes Stevens Stevens actually maintaining this project so you want to add anything",
    "start": "491240",
    "end": "500530"
  },
  {
    "text": "project no I have not gone through the jokes I've just gone through building a cluster which I can leave on screen while you're talking okay so real quick",
    "start": "500770",
    "end": "507920"
  },
  {
    "text": "I think so cluster API is a really interesting opportunity to start to",
    "start": "507920",
    "end": "513169"
  },
  {
    "text": "consider building applications in kubernetes in kind of a more meta way so",
    "start": "513169",
    "end": "518270"
  },
  {
    "start": "517000",
    "end": "670000"
  },
  {
    "text": "if you've heard of the operator pattern it's very similar to building a CRD but it's building a CRT that works for a",
    "start": "518270",
    "end": "524480"
  },
  {
    "text": "kubernetes cluster right so you know if you were to ask the question in a world",
    "start": "524480",
    "end": "530360"
  },
  {
    "text": "where I could build kubernetes using kubernetes cluster API is the answer right so what's happening on the screen",
    "start": "530360",
    "end": "537530"
  },
  {
    "text": "right now actually as we're so we're running through the we're running",
    "start": "537530",
    "end": "543680"
  },
  {
    "text": "through the cluster instantiation process right so there are two primary resources within cluster API and it's",
    "start": "543680",
    "end": "549500"
  },
  {
    "text": "the the cluster object and the Machine object right so we're in the process of",
    "start": "549500",
    "end": "554690"
  },
  {
    "text": "creating the all of the the bits and pieces that need to be created for an",
    "start": "554690",
    "end": "560540"
  },
  {
    "text": "azure cluster to exist right so in future in the project we'll see things like Bastion host to come up and and",
    "start": "560540",
    "end": "566660"
  },
  {
    "text": "different configurations for load balancers but right now it's a public load balancer a private load balancer",
    "start": "566660",
    "end": "572810"
  },
  {
    "text": "for the master and a single node right so you can you can configure that based on a Yama file the same same way you",
    "start": "572810",
    "end": "579890"
  },
  {
    "text": "would do anything else in kubernetes I think it's I think it's pretty cool so like the genesis of the project",
    "start": "579890",
    "end": "586029"
  },
  {
    "text": "there was a an intern and his name is escaping me at the moment from platform",
    "start": "586029",
    "end": "591639"
  },
  {
    "text": "9 who initially started working on this and and then kind of tag-team tag teamed",
    "start": "591639",
    "end": "598240"
  },
  {
    "text": "with another intern at Microsoft and after that I you know I was kind of looking around and it's like okay closer",
    "start": "598240",
    "end": "604420"
  },
  {
    "text": "API is the next thing that we have to we have to get into on the unsay geyser side so you know I reached out to them",
    "start": "604420",
    "end": "611139"
  },
  {
    "text": "and said like hey you know let's let's get this started let's get this migrated as a kubernetes repo and since then it's",
    "start": "611139",
    "end": "617379"
  },
  {
    "text": "been myself as a primary maintainer a few of the AKS engine engineers at",
    "start": "617379",
    "end": "623829"
  },
  {
    "text": "Microsoft so it's it's one of those things that's high priority for multiple companies and where it's nice to see",
    "start": "623829",
    "end": "629290"
  },
  {
    "text": "this community effort kind of rally behind it so yeah fantastic and while while that was happening I just pulled",
    "start": "629290",
    "end": "635379"
  },
  {
    "text": "up on screen that this is actually the coin cluster at the bottom which has actually gone to provision that cluster",
    "start": "635379",
    "end": "640930"
  },
  {
    "text": "API system namespace with the controller and the Azure provider controller manager now what that's doing is",
    "start": "640930",
    "end": "646860"
  },
  {
    "text": "interpreting that declaration for the cluster and going out via arm and provisioning all the components so so",
    "start": "646860",
    "end": "654160"
  },
  {
    "text": "cluster API has like two essential steps right it's the it's a bootstrapping step and then the pivot right so the",
    "start": "654160",
    "end": "661180"
  },
  {
    "text": "bootstrapping step is exactly what locky described you spin up like we spend up a kind cluster you can use kind or Minah",
    "start": "661180",
    "end": "667149"
  },
  {
    "text": "cube to to do this and what it'll do is spin up an entire kubernetes cluster",
    "start": "667149",
    "end": "672930"
  },
  {
    "start": "670000",
    "end": "713000"
  },
  {
    "text": "within you know within your laptop or within whatever computer you're using and spin up the the cluster API",
    "start": "672930",
    "end": "681160"
  },
  {
    "text": "controller manager and the and the cluster API or the Azure cluster API",
    "start": "681160",
    "end": "686949"
  },
  {
    "text": "controller manager it's a mouthful but uh uh and and after after that did you",
    "start": "686949",
    "end": "693730"
  },
  {
    "text": "have a question yeah so you kind of",
    "start": "693730",
    "end": "700240"
  },
  {
    "text": "mentioned a minute ago Aki said Ben so with the results of this is it an iOS based yes would it be so",
    "start": "700240",
    "end": "709120"
  },
  {
    "text": "there's no what kind of a KS option right now it would be true hands right just to make right so you'd end up with",
    "start": "709120",
    "end": "714610"
  },
  {
    "text": "an iOS based cluster on Azure at the endpoint at the end goal and you see this loop down the bottom and don't",
    "start": "714610",
    "end": "720819"
  },
  {
    "text": "worry about that error its reach rival anyway but what's going to happen is it's going to go through provisional the machines and you'll end up with",
    "start": "720819",
    "end": "726339"
  },
  {
    "text": "essentially the same outcome as a KS engine just using cluster api's definitions rather than the definitions",
    "start": "726339",
    "end": "733839"
  },
  {
    "text": "in a gas engine sure question up the back what's the use case when he Cola",
    "start": "733839",
    "end": "741189"
  },
  {
    "text": "all about a use case for this instead of using arm templates or terraformed before to deploy cluster sure so I think",
    "start": "741189",
    "end": "748659"
  },
  {
    "text": "the use case and and Jason can show Jason Steven I'm sorry I'm sorry Steven",
    "start": "748659",
    "end": "754509"
  },
  {
    "text": "Steven can talk to it as well but I think having a central point to distribute and maintain there's also",
    "start": "754509",
    "end": "760509"
  },
  {
    "text": "control loops that take care of day two so a chaos engine at the moment has some day to operations but the goal of",
    "start": "760509",
    "end": "766569"
  },
  {
    "text": "cluster API is to be a one-stop shop you go and modify that file and update it the control loops will actually go and",
    "start": "766569",
    "end": "773319"
  },
  {
    "text": "implement the changes in your cluster so there's some day to life cycle he bits that cluster API has goals to solve so",
    "start": "773319",
    "end": "779889"
  },
  {
    "text": "whilst we're just spinning up a brand new vanilla cluster which a KS engine can do as well there are also control",
    "start": "779889",
    "end": "785589"
  },
  {
    "text": "loops that are doing de - operations so think of it like an operator to build kubernetes clusters is the way I do",
    "start": "785589",
    "end": "791470"
  },
  {
    "text": "think about it so yeah so I think it's really important to understand that you know this is think about all the",
    "start": "791470",
    "end": "796989"
  },
  {
    "start": "793000",
    "end": "827000"
  },
  {
    "text": "infrastructure that you've already built out - to manage group entities right so whether you're using or whether using",
    "start": "796989",
    "end": "802479"
  },
  {
    "text": "hello more customize or things that are in random git repos the the ability to tie the way you manage your kubernetes",
    "start": "802479",
    "end": "809199"
  },
  {
    "text": "clusters to the applications that get managed within your kubernetes clusters is pretty powerful right so as locky",
    "start": "809199",
    "end": "815319"
  },
  {
    "text": "mentioned one of you know one of the big strategies of having of using cluster api is that you you get to manipulate",
    "start": "815319",
    "end": "822159"
  },
  {
    "text": "this kind of control flow right this controller flow where you know if I provide a spec so they're two men two",
    "start": "822159",
    "end": "828699"
  },
  {
    "start": "827000",
    "end": "1019000"
  },
  {
    "text": "primary things that we look at right the spec in the status right both for the the cluster and the Machine right so I",
    "start": "828699",
    "end": "834399"
  },
  {
    "text": "provide a spec to cluster API and lucky I don't know if you want to pull that up me yeah I can publish oh yeah so so the",
    "start": "834399",
    "end": "840579"
  },
  {
    "text": "spec well I'm trying to think if there's gonna be anything sensitive in the spec nope okay awesome",
    "start": "840579",
    "end": "846129"
  },
  {
    "text": "ah so the spec over here you know runs runs through runs through the resource group the the",
    "start": "846129",
    "end": "852860"
  },
  {
    "text": "location that you're going to create so this is this is incredibly repeatable right and and what happens you know what",
    "start": "852860",
    "end": "858560"
  },
  {
    "text": "happens if after I submit the spec to the cluster is that it reconciles it right it reconciles it and then it",
    "start": "858560",
    "end": "865310"
  },
  {
    "text": "writes a status to a management cluster so the so what I had mentioned before",
    "start": "865310",
    "end": "871310"
  },
  {
    "text": "about there being two phases there's a a bootstrap phase that happens on your local machine or whatever machine are",
    "start": "871310",
    "end": "877610"
  },
  {
    "text": "using to provision cluster API and then there's a secondary phase called a pivot right and the pivot basically drains the",
    "start": "877610",
    "end": "884420"
  },
  {
    "text": "nodes that have been instantiated or the clusters that have been instantiated within that local bootstrap cluster and",
    "start": "884420",
    "end": "890690"
  },
  {
    "text": "migrates it over to a management cluster now the whole management cluster idea because starts to become really powerful",
    "start": "890690",
    "end": "896420"
  },
  {
    "text": "because I can that means I can supply phool amount of specs to some management",
    "start": "896420",
    "end": "901970"
  },
  {
    "text": "cluster and spin up cluster API cluster API kubernetes clusters within a sure",
    "start": "901970",
    "end": "908209"
  },
  {
    "text": "within AWS within OpenStack right so this is this is if I could you know if I could",
    "start": "908209",
    "end": "913730"
  },
  {
    "text": "manage kubernetes in one singular place and have it work on multiple clouds now the multiple cloud support isn't there",
    "start": "913730",
    "end": "919579"
  },
  {
    "text": "yet but you know that's the I think that's the dream for a closer API so cool",
    "start": "919579",
    "end": "927160"
  },
  {
    "text": "yeah so um so basically uh if you wanna I think it might be happening soon yeah",
    "start": "930860",
    "end": "937140"
  },
  {
    "text": "sure if you want to pull up the yeah if I what would you like me to show so",
    "start": "937140",
    "end": "944760"
  },
  {
    "text": "within the cluster CTL command so I think the top one is your in here yeah",
    "start": "944760",
    "end": "950149"
  },
  {
    "text": "it might not be happening at then anyone",
    "start": "950149",
    "end": "957000"
  },
  {
    "text": "Oscar creation complete and then scroll down scroll down this one yeah come on",
    "start": "957000",
    "end": "966300"
  },
  {
    "text": "pivot keep going so essentially what the pivot um this might depending on the",
    "start": "966300",
    "end": "972089"
  },
  {
    "text": "veracity of the logs you might yeah be able to see some of it but essentially what the pivot phase does is it scans",
    "start": "972089",
    "end": "977459"
  },
  {
    "text": "for our you know it does a list of all of the cluster API objects within a set",
    "start": "977459",
    "end": "983610"
  },
  {
    "text": "of namespaces right so the namespace that you provide to the cluster API the",
    "start": "983610",
    "end": "989370"
  },
  {
    "text": "cluster API or cluster CTL right and the provider components it will essentially list the objects that are in that so the",
    "start": "989370",
    "end": "996810"
  },
  {
    "text": "clusters the machines the Machine sets the Machine deployments so there's more work being there's more work to be done",
    "start": "996810",
    "end": "1003560"
  },
  {
    "text": "on like the Machine sets or machine deployments well that's the same ideas like machines are analogous to a pod and",
    "start": "1003560",
    "end": "1010279"
  },
  {
    "text": "you know you know replica set is analogous to you machine set and machine deployments or analogous to you",
    "start": "1010279",
    "end": "1016269"
  },
  {
    "text": "deployments kubernetes objects right so yeah so basically the after rejoin after",
    "start": "1016269",
    "end": "1022490"
  },
  {
    "start": "1019000",
    "end": "1065000"
  },
  {
    "text": "we do a list of each of those objects the the list is essentially pushed into",
    "start": "1022490",
    "end": "1028250"
  },
  {
    "text": "another kubernetes cluster right so as the as the pivot phase is happening you're able to pull a cube config right",
    "start": "1028250",
    "end": "1035329"
  },
  {
    "text": "for that management cluster that's out in Azure right and then from there you you authenticate and push those those",
    "start": "1035329",
    "end": "1041360"
  },
  {
    "text": "new objects in yep right and because it's a reconcile you know because it's a controller right it checks to see if the",
    "start": "1041360",
    "end": "1046819"
  },
  {
    "text": "objects are already there and if they're there it just reconciles the status of them right so it's not you're you're not recreating any objects after that",
    "start": "1046819",
    "end": "1053419"
  },
  {
    "text": "initial bootstrap phase unless it's trying to reconcile some state like security groups or load balancer rules",
    "start": "1053419",
    "end": "1061270"
  },
  {
    "text": "it all the assets yeah all the assets to need to get the clustered bootstrap yeah",
    "start": "1063410",
    "end": "1069080"
  },
  {
    "start": "1065000",
    "end": "1097000"
  },
  {
    "text": "so I think the call to action around this out is if this is something that interests you you can show up in the",
    "start": "1069080",
    "end": "1075480"
  },
  {
    "text": "community right and you can take a look and play with this today and start to kick the tires because cluster API while",
    "start": "1075480",
    "end": "1081000"
  },
  {
    "text": "we're showing it in the context of Asia as a large movement to go across all the cloud providers and provide a new unique",
    "start": "1081000",
    "end": "1086610"
  },
  {
    "text": "day to operational experience that's more in line with how we are working with kubernetes today to build",
    "start": "1086610",
    "end": "1092220"
  },
  {
    "text": "kubernetes clusters yeah so anything else you want these people to know about cluster API yeah yeah additionally I",
    "start": "1092220",
    "end": "1097830"
  },
  {
    "start": "1097000",
    "end": "1137000"
  },
  {
    "text": "think that you know if you're you're interested in it like like you mentioned please try it out I'm going to I think",
    "start": "1097830",
    "end": "1104190"
  },
  {
    "text": "when once a cube con dies down I'll cut a zero to zero release of that so it has some improvements and kind of locks into",
    "start": "1104190",
    "end": "1110610"
  },
  {
    "text": "the v1 one v01 one version of cluster",
    "start": "1110610",
    "end": "1117180"
  },
  {
    "text": "API upstream so after that I want to start looking at starting a community",
    "start": "1117180",
    "end": "1122580"
  },
  {
    "text": "meeting around cluster API Azure so if you're interested in that those details will be available on the community",
    "start": "1122580",
    "end": "1128790"
  },
  {
    "text": "website community github.com slash community slash say geyser cool all",
    "start": "1128790",
    "end": "1137430"
  },
  {
    "start": "1137000",
    "end": "1475000"
  },
  {
    "text": "right we're going to move move right on a secret sauce CSI driver so as most of you probably know in 113 CSI became GA",
    "start": "1137430",
    "end": "1144600"
  },
  {
    "text": "in upstream kubernetes so what we've built here this is all open source as well the links down the bottom is a",
    "start": "1144600",
    "end": "1151470"
  },
  {
    "text": "secret store CSR driver what it actually allows you to do is integrate secret stores into a kubernetes volume right so",
    "start": "1151470",
    "end": "1158820"
  },
  {
    "text": "think of this like I have secret certs or keys inside key vault huh she caught",
    "start": "1158820",
    "end": "1165810"
  },
  {
    "text": "vault any kind of enterprise-grade secret store and you can present them",
    "start": "1165810",
    "end": "1170880"
  },
  {
    "text": "into pods via kubernetes directly right so I'm going to show you a quick demo on",
    "start": "1170880",
    "end": "1175920"
  },
  {
    "text": "how to do that now this is this you must have one if you want to use the inline",
    "start": "1175920",
    "end": "1182190"
  },
  {
    "text": "volume do people know what the CSI inline volumes are I'll show you that quickly basically you put all the",
    "start": "1182190",
    "end": "1187590"
  },
  {
    "text": "details of where you want to pull the the vault secret straight into a pod rather than into the Peevy PVC system so rather than in you",
    "start": "1187590",
    "end": "1195960"
  },
  {
    "text": "can pull it straight in it also works with pod identity as well so I've got another slide on pod identity but let's",
    "start": "1195960",
    "end": "1202590"
  },
  {
    "text": "just kick the tires here and I'll show you how it actually works in the interest of time we'll do this",
    "start": "1202590",
    "end": "1207659"
  },
  {
    "text": "nice and quick okay so basically I'm just going to show you an pod spec here",
    "start": "1207659",
    "end": "1216269"
  },
  {
    "text": "thus pod pod spec is no different to any other pods back and we have a volume mount down here called a secret store in",
    "start": "1216269",
    "end": "1222990"
  },
  {
    "text": "line right and we're going to mount that to mount secret store read-only true now",
    "start": "1222990",
    "end": "1228240"
  },
  {
    "text": "here is the here is the interesting bit basically we have the contents of where",
    "start": "1228240",
    "end": "1234029"
  },
  {
    "text": "the key vault is whether we're going to use pod identity down there on line 22",
    "start": "1234029",
    "end": "1239220"
  },
  {
    "text": "what the key vault what the object name what the secret is and where we want to mount that in right so this does not get",
    "start": "1239220",
    "end": "1247379"
  },
  {
    "text": "pulled to disk it actually sits in memory on the node and then gets mounted in right so this is a nice way not to",
    "start": "1247379",
    "end": "1253649"
  },
  {
    "text": "have to store things like put you want your URL connection strings for your databases in key vaults or something",
    "start": "1253649",
    "end": "1259860"
  },
  {
    "text": "like that and pull them straight in right so the net effect is I should be able to read a secret out of this mount",
    "start": "1259860",
    "end": "1267289"
  },
  {
    "text": "mount secret stores right so okay it's that font large enough here okay so I'm",
    "start": "1267289",
    "end": "1276240"
  },
  {
    "text": "just going to show you how this cluster up and running now so I actually have you wouldn't have to install anything on",
    "start": "1276240",
    "end": "1282480"
  },
  {
    "text": "the cluster apart from the CSI driver which just runs as a daemon set in a different namespace I have the nginx",
    "start": "1282480",
    "end": "1289019"
  },
  {
    "text": "secret store inline pod up and running so I'm just going to simply do a cube CTL exec and I'll do an LS on what was",
    "start": "1289019",
    "end": "1300240"
  },
  {
    "text": "it secret store I think was a secret storage store in they keep me honest",
    "start": "1300240",
    "end": "1307259"
  },
  {
    "text": "here and I should see that the name of this this particular secret is there so",
    "start": "1307259",
    "end": "1313409"
  },
  {
    "text": "I should be able to just grab that and I'll just go ahead and cut that",
    "start": "1313409",
    "end": "1321768"
  },
  {
    "text": "right so this is a test I can raid that so you have it in a volume you can manipulate it via",
    "start": "1321860",
    "end": "1327330"
  },
  {
    "text": "kubernetes directly did you have something Stephen I was just gonna say those are actually Lucky's credentials yeah again again because I pulled my",
    "start": "1327330",
    "end": "1334230"
  },
  {
    "text": "other credentials up earlier so okay just one final if your thing isn't",
    "start": "1334230",
    "end": "1339960"
  },
  {
    "text": "having it in line it'll also work with TVs and PVCs so let me just show you",
    "start": "1339960",
    "end": "1346670"
  },
  {
    "text": "this would be the pv version of the same thing so some people say what's the",
    "start": "1346670",
    "end": "1352380"
  },
  {
    "text": "difference between using inline and pv versus pv that system if you're a",
    "start": "1352380",
    "end": "1357570"
  },
  {
    "text": "cluster admin and you know where our secret is maybe dropping into the pv is a great a great place to put it so that",
    "start": "1357570",
    "end": "1363330"
  },
  {
    "text": "developers can come and just put a claim and multiple cards can just claim that put a claim on that volume where your",
    "start": "1363330",
    "end": "1370170"
  },
  {
    "text": "secret is stored but if you're building your own secrets as an application developer you might just want to put it in your pod spec so you can mount them",
    "start": "1370170",
    "end": "1377400"
  },
  {
    "text": "straight in and you know where that is because obviously you need to know details about what subscription it is",
    "start": "1377400",
    "end": "1382440"
  },
  {
    "text": "what name is you can also add you see line 20 it's an array of objects so you can pull in individual objects so seek",
    "start": "1382440",
    "end": "1389610"
  },
  {
    "text": "certificates is a good one right so you're not generating certificates on your nodes you should generate them in",
    "start": "1389610",
    "end": "1395100"
  },
  {
    "text": "something like key vault yeah so I think it's you know it's it's a rather powerful model because it you're",
    "start": "1395100",
    "end": "1401580"
  },
  {
    "text": "essentially able to attract the need to understand where these secrets live away from the developers that might be using",
    "start": "1401580",
    "end": "1407550"
  },
  {
    "text": "your application that's right absolutely yeah we have a question ok I",
    "start": "1407550",
    "end": "1413400"
  },
  {
    "text": "can repeat it let's let's get it on",
    "start": "1413400",
    "end": "1417200"
  },
  {
    "text": "yes so flex volumes is the old way we've implemented the same functionality under CSI so if you're familiar with Flex",
    "start": "1422460",
    "end": "1429149"
  },
  {
    "text": "volumes and your prior to 113 flex volumes is actually we've developed that",
    "start": "1429149",
    "end": "1434279"
  },
  {
    "text": "a lot more than the CSI but everybody what you know is is growling towards CSI so we wanted to take the opportunity to",
    "start": "1434279",
    "end": "1440730"
  },
  {
    "text": "move migrated over to show you what the experience could be so if you want the inline stuff it's actually only in the",
    "start": "1440730",
    "end": "1446940"
  },
  {
    "text": "115 beta and you need to have a flag on your controller so but feel free to go I'll just pull up the slides here again",
    "start": "1446940",
    "end": "1454190"
  },
  {
    "text": "and these will be shared obviously you can go and kick the tires you just need",
    "start": "1454190",
    "end": "1459690"
  },
  {
    "text": "a cluster it doesn't even it doesn't even have to be running on as you are you can go and grab those secrets yes",
    "start": "1459690",
    "end": "1467759"
  },
  {
    "text": "one more question can you elaborate on the pod identity aspect yeah what is",
    "start": "1467759",
    "end": "1473850"
  },
  {
    "text": "that next slide no worries here we go thank you let me get you that money now",
    "start": "1473850",
    "end": "1481399"
  },
  {
    "text": "okay so Pato Denny's around having so at the moment at the moment you know when",
    "start": "1481399",
    "end": "1487769"
  },
  {
    "text": "you're running a workload on kubernetes on as you are without pot identity the pod or the workload gets the identity of",
    "start": "1487769",
    "end": "1494580"
  },
  {
    "text": "the node right which means it has the access credentials to talk to the arm api's that are the same as the node",
    "start": "1494580",
    "end": "1500129"
  },
  {
    "text": "right so in a Multi multi tenant cluster you may not want that so let's talk",
    "start": "1500129",
    "end": "1505889"
  },
  {
    "text": "about using Azure Active Directory to push up identity into the into the pod",
    "start": "1505889",
    "end": "1511409"
  },
  {
    "text": "level right and that was that's what this is about so we've tied in Azure Active Directory services and we can",
    "start": "1511409",
    "end": "1518369"
  },
  {
    "text": "assign them to pods and you would grant access to those service accounts to the different services so the demo I just",
    "start": "1518369",
    "end": "1525210"
  },
  {
    "text": "did was actually using managed identity I was going to just unravel it a little bit so basically that means I don't have",
    "start": "1525210",
    "end": "1531240"
  },
  {
    "text": "to create a service principle that I would store on the cluster to read and access that key vault it's using an",
    "start": "1531240",
    "end": "1537299"
  },
  {
    "text": "identity it's going down and pulling that identity live so there's it's",
    "start": "1537299",
    "end": "1542970"
  },
  {
    "text": "there's a bunch of operational things going on under the hood but it means you",
    "start": "1542970",
    "end": "1548100"
  },
  {
    "text": "don't have to use a service principle right you have dynamic identity coming off Azure Active Directory",
    "start": "1548100",
    "end": "1554510"
  },
  {
    "text": "okay so let me just go and unwrap that a little bit and for those playing at home you probably saw that there are a couple",
    "start": "1554510",
    "end": "1560660"
  },
  {
    "text": "other pods here and you're like what's that got to do with the demo so nmi nmi",
    "start": "1560660",
    "end": "1567020"
  },
  {
    "text": "and make it's kind of cut off on the left hand side I'm sorry but basically there's a demon set that deals with",
    "start": "1567020",
    "end": "1572210"
  },
  {
    "text": "assigning the identities that you create so I'm just going to show you the objects in kubernetes that you need to create but go and install pot identity",
    "start": "1572210",
    "end": "1580940"
  },
  {
    "text": "and you will end up with these four workloads on your machine one per node these ones are one per node there are",
    "start": "1580940",
    "end": "1586370"
  },
  {
    "text": "daemon set and then the managed identity controller is there as well but this should just work out of the box so what",
    "start": "1586370",
    "end": "1593419"
  },
  {
    "text": "I'm gonna show you here quickly is you will end up with a bunch of custom resources right as you're assigned",
    "start": "1593419",
    "end": "1600440"
  },
  {
    "text": "identities you don't touch that so that's dynamically updated as statuses and identities are assigned we have the",
    "start": "1600440",
    "end": "1605870"
  },
  {
    "text": "agile identities here and identity bindings so there's only the top three that we're interested in so I'm just",
    "start": "1605870",
    "end": "1611690"
  },
  {
    "text": "going to get this and show you what that looks like so because I only have one I",
    "start": "1611690",
    "end": "1616790"
  },
  {
    "text": "didn't need to call it by name but basically here's where we reference the managed identity in which resource ID",
    "start": "1616790",
    "end": "1624190"
  },
  {
    "text": "but you can see there that I don't have any any secrets associated with that that's just a managed identity that I",
    "start": "1624190",
    "end": "1630410"
  },
  {
    "text": "have access to call now I want to bind this identity to a pod right so I'm",
    "start": "1630410",
    "end": "1637640"
  },
  {
    "text": "gonna go back grab the see IDs I'll show you the bindings so as your identity",
    "start": "1637640",
    "end": "1643100"
  },
  {
    "text": "bindings actually I'll just run this last command again just to show you the name of the identities that I have which",
    "start": "1643100",
    "end": "1649490"
  },
  {
    "text": "is this secrets demo that I'm running now I'm now going to show you the binding and I'll just and if you take a",
    "start": "1649490",
    "end": "1658640"
  },
  {
    "text": "look here basically I select the",
    "start": "1658640",
    "end": "1664040"
  },
  {
    "text": "identity that I was just created we created so I created an identity and I called it CSI - sukar - demo and I want",
    "start": "1664040",
    "end": "1671330"
  },
  {
    "text": "to use a label selector to actually select the pod to use that identity so I",
    "start": "1671330",
    "end": "1677750"
  },
  {
    "text": "give it an arbitrary label I call it the same thing it could have been called you know foo so basically if I label a pod",
    "start": "1677750",
    "end": "1684590"
  },
  {
    "text": "and what you'll find here so I go back to show you what pods I have run if I go back to this pod actually what",
    "start": "1684590",
    "end": "1692970"
  },
  {
    "text": "I'm going to just do this right so any",
    "start": "1692970",
    "end": "1700070"
  },
  {
    "text": "you as long as you have that key and you have the value of that binding that you",
    "start": "1700070",
    "end": "1705960"
  },
  {
    "text": "created before that pod will get selected to use that identity right so",
    "start": "1705960",
    "end": "1711000"
  },
  {
    "text": "in that identity under the hood I've gone and allowed access to key vault so that I could actually read that secret",
    "start": "1711000",
    "end": "1716309"
  },
  {
    "text": "out so again there's no service principles on my machine there's no secrets I don't have to worry about that",
    "start": "1716309",
    "end": "1721919"
  },
  {
    "text": "game and I'm using identity for that workload not inheriting the nodes",
    "start": "1721919",
    "end": "1727230"
  },
  {
    "text": "identity to access Azure so that makes sense yes question I'm gonna keep going",
    "start": "1727230",
    "end": "1734279"
  },
  {
    "text": "pretty fast cuz I've got some exciting other things to show too so any developer that knows that key can can",
    "start": "1734279",
    "end": "1741659"
  },
  {
    "text": "get that permission okay so how do you control our back our back can you read",
    "start": "1741659",
    "end": "1748980"
  },
  {
    "text": "that resource on the keyboard yes sir so no on on our back in kubernetes so are",
    "start": "1748980",
    "end": "1756330"
  },
  {
    "text": "you saying how do I stop somebody label selecting that thing know that you have a magical label when you deploy stuff as",
    "start": "1756330",
    "end": "1764159"
  },
  {
    "text": "developer if I were to do that can you filter that out yeah you can use kubernetes role based access control to",
    "start": "1764159",
    "end": "1771240"
  },
  {
    "text": "say that you can't read the identity in a namespace you can put the label on the",
    "start": "1771240",
    "end": "1779159"
  },
  {
    "text": "pod but if the user can't read that because basically the user will go and read that pod will go and read the",
    "start": "1779159",
    "end": "1784950"
  },
  {
    "text": "identity but you can lock it down with our back I'll show you I'll show you afterwards that alright so I can keep",
    "start": "1784950",
    "end": "1790470"
  },
  {
    "text": "going okay keep moving kubernetes on",
    "start": "1790470",
    "end": "1797850"
  },
  {
    "start": "1795000",
    "end": "1885000"
  },
  {
    "text": "cosmos I'm gonna do this real quick cosmos TV at CD API I think if you if",
    "start": "1797850",
    "end": "1803820"
  },
  {
    "text": "you attended the Seattle cube concessions cow also did it did it did",
    "start": "1803820",
    "end": "1809220"
  },
  {
    "text": "it yeah so I was going to show you this like super quick if you're interested so",
    "start": "1809220",
    "end": "1816299"
  },
  {
    "text": "you would just go to I will just show you a cluster that I already have created in this and I'll bump the font head and",
    "start": "1816299",
    "end": "1827120"
  },
  {
    "text": "so super quick if you go use you'd be basically getting asthma as your cosmos",
    "start": "1829940",
    "end": "1835680"
  },
  {
    "text": "DB so the interesting thing is here you just point you don't have to reconfigure",
    "start": "1835680",
    "end": "1841430"
  },
  {
    "text": "kubernetes at all you just have to point it at the endpoint that's created with the sed API and then you can actually go",
    "start": "1841430",
    "end": "1847380"
  },
  {
    "text": "in and I think I look at document explorer here data Explorer I can actually go in and introspect what",
    "start": "1847380",
    "end": "1853530"
  },
  {
    "text": "objects are in there in the sed data if I remember correctly the configuration is just a flag right within it's a flag",
    "start": "1853530",
    "end": "1860880"
  },
  {
    "text": "within IKS engine to do it but let's say it's just a drop-in replacement it's all what wire protocol of that CD you don't",
    "start": "1860880",
    "end": "1866700"
  },
  {
    "text": "have to do anything to kubernetes run stock kubernetes point at this endpoint it'll work okay",
    "start": "1866700",
    "end": "1872750"
  },
  {
    "text": "interests what's the advantages of you cosmos TV for like resiliency failover is that yeah resiliency failover",
    "start": "1879490",
    "end": "1886380"
  },
  {
    "text": "read/write latency but I'd say that's subsidiary and not having to manage at CD yeah so growth and scale so as you",
    "start": "1886380",
    "end": "1893590"
  },
  {
    "text": "Cuba Nettie's cluster grows you probably familiar you have to go grow grow your ed CD cluster on the backend appropriately to make sure it's meeting",
    "start": "1893590",
    "end": "1899830"
  },
  {
    "text": "the demands of the API server so not having to do that and scale that up and getting the the monitoring as well for",
    "start": "1899830",
    "end": "1906279"
  },
  {
    "text": "how hard that API is being hit out of the box so this is not net new we we pioneered this as Steven said at Seattle",
    "start": "1906279",
    "end": "1913360"
  },
  {
    "text": "but other providers are doing this too and I think it's interesting to see that you know sed has long been the the",
    "start": "1913360",
    "end": "1920649"
  },
  {
    "text": "brains of kubernetes right so it's always been like here are your recommendations for sed and make sure",
    "start": "1920649",
    "end": "1925929"
  },
  {
    "text": "you either like if you're doing stacked you have to do it a certain way and if you're managing it yourself or someone else is managing it you have to you know",
    "start": "1925929",
    "end": "1932200"
  },
  {
    "text": "you have to look after at TD so it's nice to see improvements around ensuring",
    "start": "1932200",
    "end": "1937230"
  },
  {
    "text": "reliable recipiency in the brains of kubernetes via these managed services",
    "start": "1937230",
    "end": "1944640"
  },
  {
    "text": "and inversely k3s using SQLite as the backend it's the same same trick just",
    "start": "1948090",
    "end": "1957140"
  },
  {
    "text": "righty cool yep absolutely so finally I",
    "start": "1957350",
    "end": "1963210"
  },
  {
    "start": "1960000",
    "end": "2050000"
  },
  {
    "text": "just wanted to call out some work that's going on within Azure as well and this is Jill stack it's happening upstream so",
    "start": "1963210",
    "end": "1968850"
  },
  {
    "text": "what what is this enabling dual stack workloads inside kubernetes ipv4 ipv6 we're also enabling",
    "start": "1968850",
    "end": "1975900"
  },
  {
    "text": "multi interface pods at the same time so you could have NFV ipv4 ipv4 ipv4 ipv6",
    "start": "1975900",
    "end": "1983510"
  },
  {
    "text": "so getting that work started the main reason i want to call this out is if anybody's interested",
    "start": "1983510",
    "end": "1989550"
  },
  {
    "text": "we need help with reviewing the PRS and we need help with playing with it right and if you have this use case where I",
    "start": "1989550",
    "end": "1995580"
  },
  {
    "text": "can't use kubernetes until it has dual stack we're working on it actively so the call to action here is really we're",
    "start": "1995580",
    "end": "2001610"
  },
  {
    "text": "trying to do this we have a kept merged it's going to be a multi release process that's kicking off in 115 if you want to",
    "start": "2001610",
    "end": "2008750"
  },
  {
    "text": "check out the cap go check out the cap the pull request is there but if you're interested it's find Stephan on myself",
    "start": "2008750",
    "end": "2014540"
  },
  {
    "text": "when we can connect you to the right people to help us actually drive that through if you're interested in dual",
    "start": "2014540",
    "end": "2019730"
  },
  {
    "text": "stack so yeah so I think we're doing we're hitting like pod ciders for the first yeah pod side has multiple pod sawdust",
    "start": "2019730",
    "end": "2026180"
  },
  {
    "text": "and we you know to that we know that it's working at this point right so yep you know there's been a lot of work in",
    "start": "2026180",
    "end": "2031690"
  },
  {
    "text": "essentially this has been something that's been requested since maybe the dawn of kubernetes but you know more",
    "start": "2031690",
    "end": "2037340"
  },
  {
    "text": "recently probably since like one nine one ten right so to see this this work actually landing is like is huge it's",
    "start": "2037340",
    "end": "2043700"
  },
  {
    "text": "huge the people who are dealing in these dual stack environments so fantastic so",
    "start": "2043700",
    "end": "2051530"
  },
  {
    "start": "2050000",
    "end": "2152000"
  },
  {
    "text": "how can you help obviously with this is all on the auspices of cig as you ax so",
    "start": "2051530",
    "end": "2056659"
  },
  {
    "text": "you feel free to come in to see Gaza we've got the meetings up there steven is one of the co-chairs and Dave's",
    "start": "2056660",
    "end": "2061850"
  },
  {
    "text": "tribal if you've never joined feel free to join we welcome you give us feedback and help us prioritize things that are",
    "start": "2061850",
    "end": "2067760"
  },
  {
    "text": "and aren't working and things that you are and aren't interested in and that's a good venue to do that feel free to",
    "start": "2067760",
    "end": "2073730"
  },
  {
    "text": "come and talk to us afterwards as well anything else yeah no",
    "start": "2073730",
    "end": "2079379"
  },
  {
    "text": "okay so we canwe well I think we have one minute for questions it's perfect photo finish yes",
    "start": "2079380",
    "end": "2087990"
  },
  {
    "text": "oh so close yeah that's an azure thing",
    "start": "2087990",
    "end": "2096600"
  },
  {
    "text": "yes right is there anything in the works we're regarding standardization across kubernetes yes I will be yeah no",
    "start": "2096600",
    "end": "2104490"
  },
  {
    "text": "absolutely so the we were looking to see if we get land kind of the concept of how it would work and then we would be",
    "start": "2104490",
    "end": "2111510"
  },
  {
    "text": "welcome to see if we could pick it up with other providers as well but other providers we need to somehow come",
    "start": "2111510",
    "end": "2117450"
  },
  {
    "text": "together and figure out what that means because I know this is something everybody wants on every provider and",
    "start": "2117450",
    "end": "2123570"
  },
  {
    "text": "how to do that whether it's by a spiffy or something else would be really interested so if you have any power or",
    "start": "2123570",
    "end": "2129180"
  },
  {
    "text": "from another provider and you're interested in doing that please come and see me any other questions",
    "start": "2129180",
    "end": "2137660"
  },
  {
    "text": "general feedback did everybody learn something got something to play with when you go home tonight",
    "start": "2137660",
    "end": "2142760"
  },
  {
    "text": "fantastic well thanks for joining us you for coming we'll hang around a little",
    "start": "2142760",
    "end": "2150060"
  },
  {
    "text": "outside if you have any other questions",
    "start": "2150060",
    "end": "2153530"
  }
]