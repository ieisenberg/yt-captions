[
  {
    "text": "uh hi uh I'm Yao uh I'm a software",
    "start": "680",
    "end": "3840"
  },
  {
    "text": "engineer at Bloomberg data science",
    "start": "3840",
    "end": "5759"
  },
  {
    "text": "platform team so yeah and this is Ean",
    "start": "5759",
    "end": "9000"
  },
  {
    "text": "I'm also a software engineer on the data",
    "start": "9000",
    "end": "11200"
  },
  {
    "text": "science platform team at",
    "start": "11200",
    "end": "12839"
  },
  {
    "text": "Bloomberg so okay so um Bloomberg",
    "start": "12839",
    "end": "16000"
  },
  {
    "text": "headquarted in the New York City uh it's",
    "start": "16000",
    "end": "18480"
  },
  {
    "text": "a global Finance medium and technology",
    "start": "18480",
    "end": "21519"
  },
  {
    "text": "company and we have dedicated AI teams",
    "start": "21519",
    "end": "24720"
  },
  {
    "text": "and way they convert their results in",
    "start": "24720",
    "end": "26679"
  },
  {
    "text": "the Bloomberg uh terminal products so in",
    "start": "26679",
    "end": "29359"
  },
  {
    "text": "the earlier this year uh we just",
    "start": "29359",
    "end": "31599"
  },
  {
    "text": "announced the availability of AI powered",
    "start": "31599",
    "end": "34440"
  },
  {
    "text": "earning cost uh summary on the Bloomberg",
    "start": "34440",
    "end": "37040"
  },
  {
    "text": "terminals so our data scientists adore",
    "start": "37040",
    "end": "40280"
  },
  {
    "text": "the digital notebook because they can uh",
    "start": "40280",
    "end": "43280"
  },
  {
    "text": "explore their data set and produce their",
    "start": "43280",
    "end": "45760"
  },
  {
    "text": "models in an interactive way um however",
    "start": "45760",
    "end": "49680"
  },
  {
    "text": "it will also bring security",
    "start": "49680",
    "end": "51920"
  },
  {
    "text": "vulnerabilities such as an authorized",
    "start": "51920",
    "end": "54559"
  },
  {
    "text": "access and data Bridges so in this talk",
    "start": "54559",
    "end": "58079"
  },
  {
    "text": "we're going to share our experience",
    "start": "58079",
    "end": "60840"
  },
  {
    "text": "about securing a Jupiter notebook uh",
    "start": "60840",
    "end": "63840"
  },
  {
    "text": "using e Opa and also network uh cical",
    "start": "63840",
    "end": "66920"
  },
  {
    "text": "Network policies so first uh first let",
    "start": "66920",
    "end": "71439"
  },
  {
    "text": "me give you a quickly introd",
    "start": "71439",
    "end": "73600"
  },
  {
    "text": "introduction of our dat science platform",
    "start": "73600",
    "end": "75560"
  },
  {
    "text": "at blorg so we build our data science",
    "start": "75560",
    "end": "78680"
  },
  {
    "text": "platform on tops of kues uh it offers",
    "start": "78680",
    "end": "82400"
  },
  {
    "text": "data exploration like notebook and",
    "start": "82400",
    "end": "84920"
  },
  {
    "text": "Spark uh model training like P U py and",
    "start": "84920",
    "end": "88640"
  },
  {
    "text": "tensor flow and the model serving using",
    "start": "88640",
    "end": "91280"
  },
  {
    "text": "kerve so our notebook clusters are",
    "start": "91280",
    "end": "94439"
  },
  {
    "text": "integrated with several um data storage",
    "start": "94439",
    "end": "97680"
  },
  {
    "text": "within Bloomberg so like like we show",
    "start": "97680",
    "end": "100320"
  },
  {
    "text": "here uh for example we have A3",
    "start": "100320",
    "end": "103240"
  },
  {
    "text": "compatible object storage and Hadoop so",
    "start": "103240",
    "end": "107360"
  },
  {
    "text": "um for those uh data storage or data",
    "start": "107360",
    "end": "109880"
  },
  {
    "text": "sources uh we have in-house credential",
    "start": "109880",
    "end": "112439"
  },
  {
    "text": "management to secure the production data",
    "start": "112439",
    "end": "115360"
  },
  {
    "text": "access uh in this talk however we are",
    "start": "115360",
    "end": "118079"
  },
  {
    "text": "not talking about those credential",
    "start": "118079",
    "end": "120479"
  },
  {
    "text": "management uh instead we're going to",
    "start": "120479",
    "end": "123320"
  },
  {
    "text": "focus on the secured Ingress and egress",
    "start": "123320",
    "end": "128160"
  },
  {
    "text": "so uh in order to uh in order to",
    "start": "128160",
    "end": "132680"
  },
  {
    "text": "understand why security um matters here",
    "start": "132680",
    "end": "135959"
  },
  {
    "text": "so let's imagine a very simple use case",
    "start": "135959",
    "end": "138840"
  },
  {
    "text": "say we have Ean uh he is from the data",
    "start": "138840",
    "end": "141599"
  },
  {
    "text": "science platform team uh he want to uh",
    "start": "141599",
    "end": "144920"
  },
  {
    "text": "he creates a dpto notebook on our uh dto",
    "start": "144920",
    "end": "148640"
  },
  {
    "text": "notebook cluster and and in his uh in",
    "start": "148640",
    "end": "151080"
  },
  {
    "text": "the team's uh Nam space called DP so um",
    "start": "151080",
    "end": "156239"
  },
  {
    "text": "and he want to use this notebook to",
    "start": "156239",
    "end": "158440"
  },
  {
    "text": "access some production uh data storage",
    "start": "158440",
    "end": "161599"
  },
  {
    "text": "so such a such a very simple use case",
    "start": "161599",
    "end": "164319"
  },
  {
    "text": "right uh but it will it will like incur",
    "start": "164319",
    "end": "168440"
  },
  {
    "text": "multiple security issues so uh so so",
    "start": "168440",
    "end": "173640"
  },
  {
    "text": "first uh how do we know that e fine is",
    "start": "173640",
    "end": "176400"
  },
  {
    "text": "really who claims to be so it is an",
    "start": "176400",
    "end": "178920"
  },
  {
    "text": "authentication problem problem and then",
    "start": "178920",
    "end": "182080"
  },
  {
    "text": "secondly um it's Ean allowed to access",
    "start": "182080",
    "end": "185799"
  },
  {
    "text": "uh The dupure Notebook URL and use the",
    "start": "185799",
    "end": "188599"
  },
  {
    "text": "notebook created in the DSP namespace",
    "start": "188599",
    "end": "191080"
  },
  {
    "text": "and running on our notebook cluster so",
    "start": "191080",
    "end": "193560"
  },
  {
    "text": "that is an authorization uh",
    "start": "193560",
    "end": "196200"
  },
  {
    "text": "question and third uh is this notebook",
    "start": "196200",
    "end": "199720"
  },
  {
    "text": "allowed to access the production uh data",
    "start": "199720",
    "end": "203360"
  },
  {
    "text": "uh object storage uh this is more about",
    "start": "203360",
    "end": "206360"
  },
  {
    "text": "erress control so now I'm going to turn",
    "start": "206360",
    "end": "209159"
  },
  {
    "text": "it over to Ean he will tell the stories",
    "start": "209159",
    "end": "211799"
  },
  {
    "text": "about our secure Ingress control thank",
    "start": "211799",
    "end": "214519"
  },
  {
    "text": "you y so um how do you address these",
    "start": "214519",
    "end": "218280"
  },
  {
    "text": "security",
    "start": "218280",
    "end": "220280"
  },
  {
    "text": "issues so the first is is Evan really",
    "start": "220280",
    "end": "223439"
  },
  {
    "text": "who he claims to be this is a",
    "start": "223439",
    "end": "225799"
  },
  {
    "text": "authentication problem so this our",
    "start": "225799",
    "end": "228120"
  },
  {
    "text": "solution is that we build a single sign",
    "start": "228120",
    "end": "230319"
  },
  {
    "text": "on system based on oo 2 and we deploy an",
    "start": "230319",
    "end": "233840"
  },
  {
    "text": "open ID connect which is oidc for short",
    "start": "233840",
    "end": "236920"
  },
  {
    "text": "uh we deploy such a proxy that handles",
    "start": "236920",
    "end": "239519"
  },
  {
    "text": "the SSO callback and it verifies that",
    "start": "239519",
    "end": "242200"
  },
  {
    "text": "the token is valid and then routes the",
    "start": "242200",
    "end": "244720"
  },
  {
    "text": "request to the next",
    "start": "244720",
    "end": "247439"
  },
  {
    "text": "component so when a user opens the URL",
    "start": "247439",
    "end": "251079"
  },
  {
    "text": "of a notebook um the request goes into",
    "start": "251079",
    "end": "254760"
  },
  {
    "text": "an sdel Gateway that is deployed in the",
    "start": "254760",
    "end": "257239"
  },
  {
    "text": "Isel system name",
    "start": "257239",
    "end": "259359"
  },
  {
    "text": "space this Isel Gateway is connected to",
    "start": "259359",
    "end": "262759"
  },
  {
    "text": "an Isel virtual service that is deployed",
    "start": "262759",
    "end": "265440"
  },
  {
    "text": "in the dsp1 and",
    "start": "265440",
    "end": "268120"
  },
  {
    "text": "namespace uh this virtual service is",
    "start": "268120",
    "end": "270759"
  },
  {
    "text": "again connected to an uh cluster IP",
    "start": "270759",
    "end": "273759"
  },
  {
    "text": "service that is in another namespace",
    "start": "273759",
    "end": "277120"
  },
  {
    "text": "called Network",
    "start": "277120",
    "end": "278880"
  },
  {
    "text": "proxy and this cluster IP service will",
    "start": "278880",
    "end": "281880"
  },
  {
    "text": "route the request to a part called",
    "start": "281880",
    "end": "284240"
  },
  {
    "text": "Network proxy this network proxy will",
    "start": "284240",
    "end": "287039"
  },
  {
    "text": "first check whether the request has an",
    "start": "287039",
    "end": "290120"
  },
  {
    "text": "uh JWT token in it the request",
    "start": "290120",
    "end": "292360"
  },
  {
    "text": "authorization header and if the request",
    "start": "292360",
    "end": "295000"
  },
  {
    "text": "does not have such a valid token it will",
    "start": "295000",
    "end": "297720"
  },
  {
    "text": "redirect the user to the external SSO",
    "start": "297720",
    "end": "301280"
  },
  {
    "text": "providers login page where the user",
    "start": "301280",
    "end": "303960"
  },
  {
    "text": "needs to enter its login credentials and",
    "start": "303960",
    "end": "306880"
  },
  {
    "text": "typically just uh username and password",
    "start": "306880",
    "end": "310080"
  },
  {
    "text": "uh when the user is successfully logged",
    "start": "310080",
    "end": "312160"
  },
  {
    "text": "in uh the SSO provider will send a JWT",
    "start": "312160",
    "end": "316160"
  },
  {
    "text": "token back to the network proxy pod and",
    "start": "316160",
    "end": "319520"
  },
  {
    "text": "the network proxy pod will verify its",
    "start": "319520",
    "end": "322000"
  },
  {
    "text": "validity and if it's valid it will set",
    "start": "322000",
    "end": "325639"
  },
  {
    "text": "this JDT token in the request",
    "start": "325639",
    "end": "327880"
  },
  {
    "text": "authorization header",
    "start": "327880",
    "end": "331160"
  },
  {
    "text": "after that the network proxy pod will",
    "start": "331160",
    "end": "333639"
  },
  {
    "text": "send request back to another cluster IP",
    "start": "333639",
    "end": "336880"
  },
  {
    "text": "service that is also in the DSP",
    "start": "336880",
    "end": "340800"
  },
  {
    "text": "namespace this cluster IP service job is",
    "start": "340800",
    "end": "343880"
  },
  {
    "text": "to expose the actual jupit notebook pod",
    "start": "343880",
    "end": "347240"
  },
  {
    "text": "uh but instead of going directly into",
    "start": "347240",
    "end": "349919"
  },
  {
    "text": "the notebook container there's another",
    "start": "349919",
    "end": "352039"
  },
  {
    "text": "is still scar container that also lies",
    "start": "352039",
    "end": "354759"
  },
  {
    "text": "in the jupit notebook Po and it captures",
    "start": "354759",
    "end": "358080"
  },
  {
    "text": "this request",
    "start": "358080",
    "end": "360960"
  },
  {
    "text": "uh the esto sard tries to authenticate",
    "start": "360960",
    "end": "363840"
  },
  {
    "text": "this request by looking for an Isel",
    "start": "363840",
    "end": "367000"
  },
  {
    "text": "request authentication that is also uh",
    "start": "367000",
    "end": "370160"
  },
  {
    "text": "configured in the Isel system and this",
    "start": "370160",
    "end": "372479"
  },
  {
    "text": "is in thought during the initialization",
    "start": "372479",
    "end": "374800"
  },
  {
    "text": "of this cluster and in this request",
    "start": "374800",
    "end": "377960"
  },
  {
    "text": "authentication we specify that the",
    "start": "377960",
    "end": "380199"
  },
  {
    "text": "request needs to have a bearer prefix",
    "start": "380199",
    "end": "382759"
  },
  {
    "text": "and it must be issued by the issuer",
    "start": "382759",
    "end": "384800"
  },
  {
    "text": "called bloomberg.com",
    "start": "384800",
    "end": "387240"
  },
  {
    "text": "and if the requests have both met uh",
    "start": "387240",
    "end": "392160"
  },
  {
    "text": "fulfills uh both these uh requirements",
    "start": "392160",
    "end": "395599"
  },
  {
    "text": "then we think that this requ uh request",
    "start": "395599",
    "end": "398240"
  },
  {
    "text": "is successfully",
    "start": "398240",
    "end": "401199"
  },
  {
    "text": "authenticated so now we have addressed",
    "start": "402120",
    "end": "404520"
  },
  {
    "text": "the first issue the second one is is Ean",
    "start": "404520",
    "end": "407360"
  },
  {
    "text": "allowed to access the notebook and this",
    "start": "407360",
    "end": "409759"
  },
  {
    "text": "is an authorization problem and to",
    "start": "409759",
    "end": "412080"
  },
  {
    "text": "answer this question we uh configured uh",
    "start": "412080",
    "end": "416000"
  },
  {
    "text": "authorization policies in the principal",
    "start": "416000",
    "end": "418599"
  },
  {
    "text": "action and resource format and we store",
    "start": "418599",
    "end": "421039"
  },
  {
    "text": "it in a customs policy store principle",
    "start": "421039",
    "end": "424759"
  },
  {
    "text": "basically means who is performing the",
    "start": "424759",
    "end": "426840"
  },
  {
    "text": "action and typically just a user or a ro",
    "start": "426840",
    "end": "430560"
  },
  {
    "text": "account and action means what kind of",
    "start": "430560",
    "end": "433240"
  },
  {
    "text": "action is the principle allowed to",
    "start": "433240",
    "end": "435000"
  },
  {
    "text": "perform uh for example it can be read or",
    "start": "435000",
    "end": "437919"
  },
  {
    "text": "write and resource means what resource",
    "start": "437919",
    "end": "440720"
  },
  {
    "text": "is the principle allowed to perform the",
    "start": "440720",
    "end": "442520"
  },
  {
    "text": "action on and typically it's just um a",
    "start": "442520",
    "end": "446000"
  },
  {
    "text": "jup notebook in our case so in the",
    "start": "446000",
    "end": "449000"
  },
  {
    "text": "bottom left corner you can see an",
    "start": "449000",
    "end": "450639"
  },
  {
    "text": "example of such a policy uh the",
    "start": "450639",
    "end": "453039"
  },
  {
    "text": "principle is set to alap group data",
    "start": "453039",
    "end": "455120"
  },
  {
    "text": "science platform which is represents the",
    "start": "455120",
    "end": "457919"
  },
  {
    "text": "entire DSP team an action is hardcoded",
    "start": "457919",
    "end": "461440"
  },
  {
    "text": "to access a resource is set to such an",
    "start": "461440",
    "end": "465240"
  },
  {
    "text": "format that cluster notebook cluster",
    "start": "465240",
    "end": "467960"
  },
  {
    "text": "namespace dfp star so notebook cluster",
    "start": "467960",
    "end": "471159"
  },
  {
    "text": "is the name of the cluster where the",
    "start": "471159",
    "end": "472639"
  },
  {
    "text": "notebook is running DSP is the Nam space",
    "start": "472639",
    "end": "475360"
  },
  {
    "text": "where the notebook is launched and star",
    "start": "475360",
    "end": "478159"
  },
  {
    "text": "basically means every resource in this",
    "start": "478159",
    "end": "480400"
  },
  {
    "text": "namespace and we store such a policy in",
    "start": "480400",
    "end": "482840"
  },
  {
    "text": "the policy store and besides the",
    "start": "482840",
    "end": "485120"
  },
  {
    "text": "policies we also leverage several",
    "start": "485120",
    "end": "487440"
  },
  {
    "text": "functionalities provided by Isel and opa",
    "start": "487440",
    "end": "490360"
  },
  {
    "text": "open policy agent to help us build this",
    "start": "490360",
    "end": "493240"
  },
  {
    "text": "authorization",
    "start": "493240",
    "end": "495360"
  },
  {
    "text": "system and to further take a look at",
    "start": "495360",
    "end": "498080"
  },
  {
    "text": "this system uh we have an Opa bundler",
    "start": "498080",
    "end": "501479"
  },
  {
    "text": "which periodically pulls the policies",
    "start": "501479",
    "end": "504440"
  },
  {
    "text": "from the policy",
    "start": "504440",
    "end": "506680"
  },
  {
    "text": "store and the OPA bundler will pack all",
    "start": "506680",
    "end": "509759"
  },
  {
    "text": "these policies into a hugee Json file",
    "start": "509759",
    "end": "512760"
  },
  {
    "text": "together with a Regal file which tells",
    "start": "512760",
    "end": "515159"
  },
  {
    "text": "how to authorize a request against the",
    "start": "515159",
    "end": "517959"
  },
  {
    "text": "preconfigured policies and the OPA",
    "start": "517959",
    "end": "520360"
  },
  {
    "text": "bundler will put them uh these things",
    "start": "520360",
    "end": "523279"
  },
  {
    "text": "together inside a tar file and serve",
    "start": "523279",
    "end": "525839"
  },
  {
    "text": "them as an Opa bundle and we also have",
    "start": "525839",
    "end": "528839"
  },
  {
    "text": "an Opa server which periodically pulls",
    "start": "528839",
    "end": "531560"
  },
  {
    "text": "the bundles from the OPA",
    "start": "531560",
    "end": "534600"
  },
  {
    "text": "bundler and this is an uh detailed",
    "start": "534600",
    "end": "537680"
  },
  {
    "text": "explanation of how the op bundle looks",
    "start": "537680",
    "end": "540000"
  },
  {
    "text": "like so in this data. Json file on the",
    "start": "540000",
    "end": "543720"
  },
  {
    "text": "right side we can see that uh basically",
    "start": "543720",
    "end": "546560"
  },
  {
    "text": "it just consists of uh Json items and",
    "start": "546560",
    "end": "549800"
  },
  {
    "text": "one item looks like this it's a key",
    "start": "549800",
    "end": "551640"
  },
  {
    "text": "value pair and the key is the alap user",
    "start": "551640",
    "end": "554120"
  },
  {
    "text": "e fund which represents e fund the user",
    "start": "554120",
    "end": "556920"
  },
  {
    "text": "and the value is another key value pair",
    "start": "556920",
    "end": "558959"
  },
  {
    "text": "the key is access which is uh the same",
    "start": "558959",
    "end": "562680"
  },
  {
    "text": "as the action we configured in policy",
    "start": "562680",
    "end": "565200"
  },
  {
    "text": "and the resource is also the same as the",
    "start": "565200",
    "end": "567680"
  },
  {
    "text": "resource in the policy cluster no",
    "start": "567680",
    "end": "570240"
  },
  {
    "text": "cluster uh namespace DSP star so we can",
    "start": "570240",
    "end": "574200"
  },
  {
    "text": "not it's worth noticing that uh the OPA",
    "start": "574200",
    "end": "577360"
  },
  {
    "text": "bundler expands the ldap group the data",
    "start": "577360",
    "end": "580640"
  },
  {
    "text": "science platform into a list of ldap",
    "start": "580640",
    "end": "583240"
  },
  {
    "text": "users and put them in this Json",
    "start": "583240",
    "end": "587600"
  },
  {
    "text": "file and here is what the Regal code",
    "start": "587600",
    "end": "590600"
  },
  {
    "text": "looks like uh what it does is quite",
    "start": "590600",
    "end": "592760"
  },
  {
    "text": "simple so first it Imports the U uh the",
    "start": "592760",
    "end": "596519"
  },
  {
    "text": "data. Json file we've just seen into",
    "start": "596519",
    "end": "599440"
  },
  {
    "text": "this Regal and then it tries to extract",
    "start": "599440",
    "end": "602480"
  },
  {
    "text": "the principal action and resource",
    "start": "602480",
    "end": "604399"
  },
  {
    "text": "headers from the incoming request and",
    "start": "604399",
    "end": "607279"
  },
  {
    "text": "will cover how these headers are set in",
    "start": "607279",
    "end": "610360"
  },
  {
    "text": "later and finally it tries to find a",
    "start": "610360",
    "end": "613760"
  },
  {
    "text": "policy in the data.js file that can",
    "start": "613760",
    "end": "616079"
  },
  {
    "text": "match the given principle action and",
    "start": "616079",
    "end": "618760"
  },
  {
    "text": "resource and if there is such a match it",
    "start": "618760",
    "end": "621640"
  },
  {
    "text": "will set the allow field to true and",
    "start": "621640",
    "end": "623800"
  },
  {
    "text": "basically means that the request is",
    "start": "623800",
    "end": "626279"
  },
  {
    "text": "successfully",
    "start": "626279",
    "end": "628320"
  },
  {
    "text": "authorized so let's move back to this",
    "start": "628320",
    "end": "631399"
  },
  {
    "text": "diagram uh we have talked about how the",
    "start": "631399",
    "end": "634320"
  },
  {
    "text": "esto scar works in the authentication",
    "start": "634320",
    "end": "636839"
  },
  {
    "text": "process and in authorization it is also",
    "start": "636839",
    "end": "639880"
  },
  {
    "text": "a key component so here we add a web",
    "start": "639880",
    "end": "644440"
  },
  {
    "text": "assembly plugin to this esto scar using",
    "start": "644440",
    "end": "647399"
  },
  {
    "text": "an esto Wason plugin",
    "start": "647399",
    "end": "650639"
  },
  {
    "text": "resource what this web assembly pluging",
    "start": "650639",
    "end": "653560"
  },
  {
    "text": "does is that it takes an HTTP request as",
    "start": "653560",
    "end": "656600"
  },
  {
    "text": "input and as we know that the has an",
    "start": "656600",
    "end": "659959"
  },
  {
    "text": "authorization header which is set by the",
    "start": "659959",
    "end": "662360"
  },
  {
    "text": "network proxy pod and this uh this",
    "start": "662360",
    "end": "665880"
  },
  {
    "text": "authorization header has a JT token in",
    "start": "665880",
    "end": "668200"
  },
  {
    "text": "its value and the token H contains some",
    "start": "668200",
    "end": "671360"
  },
  {
    "text": "basic information about the user for",
    "start": "671360",
    "end": "673800"
  },
  {
    "text": "example the",
    "start": "673800",
    "end": "674880"
  },
  {
    "text": "username and the web assembly plugin",
    "start": "674880",
    "end": "678040"
  },
  {
    "text": "will extract this username from the",
    "start": "678040",
    "end": "680440"
  },
  {
    "text": "unmarshal uh Json payload and set it in",
    "start": "680440",
    "end": "683800"
  },
  {
    "text": "the output requests principal header and",
    "start": "683800",
    "end": "687959"
  },
  {
    "text": "uh in the incoming request header we",
    "start": "687959",
    "end": "690000"
  },
  {
    "text": "also have a such a auth Authority header",
    "start": "690000",
    "end": "693040"
  },
  {
    "text": "which is uh equal to the URL that is",
    "start": "693040",
    "end": "697040"
  },
  {
    "text": "being requested and this is set by the",
    "start": "697040",
    "end": "699320"
  },
  {
    "text": "browser so in the URL we have such",
    "start": "699320",
    "end": "702440"
  },
  {
    "text": "information as the name of the notebook",
    "start": "702440",
    "end": "704720"
  },
  {
    "text": "which is j up- e fund and we also have",
    "start": "704720",
    "end": "707720"
  },
  {
    "text": "DSP which is the name space of uh where",
    "start": "707720",
    "end": "711040"
  },
  {
    "text": "the notebook is running and the name of",
    "start": "711040",
    "end": "713079"
  },
  {
    "text": "the cluster which is notebook D cluster",
    "start": "713079",
    "end": "716399"
  },
  {
    "text": "so the web assembly plugin is then able",
    "start": "716399",
    "end": "719839"
  },
  {
    "text": "to reconstruct the resource identifier",
    "start": "719839",
    "end": "723279"
  },
  {
    "text": "from the uh input uh request and uh so",
    "start": "723279",
    "end": "727880"
  },
  {
    "text": "here as we can see here the uh resource",
    "start": "727880",
    "end": "731079"
  },
  {
    "text": "is cluster notebook cluster namespace",
    "start": "731079",
    "end": "733920"
  },
  {
    "text": "DSP jup fact so um Bas and uh the action",
    "start": "733920",
    "end": "739800"
  },
  {
    "text": "field is hardcoded to",
    "start": "739800",
    "end": "743360"
  },
  {
    "text": "access so let's move back to this",
    "start": "743800",
    "end": "746480"
  },
  {
    "text": "diagram uh when a request uh comes into",
    "start": "746480",
    "end": "750240"
  },
  {
    "text": "the Estel side card and finishes the",
    "start": "750240",
    "end": "752079"
  },
  {
    "text": "authentication process um uh the Estel",
    "start": "752079",
    "end": "757320"
  },
  {
    "text": "actually has no idea about the OPA",
    "start": "757320",
    "end": "759600"
  },
  {
    "text": "server and or how to use this Opa server",
    "start": "759600",
    "end": "762560"
  },
  {
    "text": "for authorization so here comes our",
    "start": "762560",
    "end": "765639"
  },
  {
    "text": "Envoy filter an Envoy filter allows you",
    "start": "765639",
    "end": "768560"
  },
  {
    "text": "to um customize the configur the envoy",
    "start": "768560",
    "end": "772279"
  },
  {
    "text": "configuration generated by esto pilot",
    "start": "772279",
    "end": "775240"
  },
  {
    "text": "and in our case we use such an Envoy",
    "start": "775240",
    "end": "777800"
  },
  {
    "text": "filter to tell is still that you need to",
    "start": "777800",
    "end": "780560"
  },
  {
    "text": "delegate the authorization to an",
    "start": "780560",
    "end": "782720"
  },
  {
    "text": "external service which is the OPA server",
    "start": "782720",
    "end": "786160"
  },
  {
    "text": "so the incoming request will be routed",
    "start": "786160",
    "end": "789279"
  },
  {
    "text": "to this Opa server by the esto",
    "start": "789279",
    "end": "793320"
  },
  {
    "text": "scard and inside the OPA server it runs",
    "start": "793320",
    "end": "796760"
  },
  {
    "text": "the Regal code we just seen and uh tries",
    "start": "796760",
    "end": "800079"
  },
  {
    "text": "to find a match policy that can match",
    "start": "800079",
    "end": "803240"
  },
  {
    "text": "the given request so here uh we do have",
    "start": "803240",
    "end": "807199"
  },
  {
    "text": "such a match and uh",
    "start": "807199",
    "end": "809680"
  },
  {
    "text": "so the OPA server will say yes this",
    "start": "809680",
    "end": "812480"
  },
  {
    "text": "request is successfully authorized and",
    "start": "812480",
    "end": "815279"
  },
  {
    "text": "return the decision back to the estto",
    "start": "815279",
    "end": "817600"
  },
  {
    "text": "scar",
    "start": "817600",
    "end": "820040"
  },
  {
    "text": "container once the esto scar receives",
    "start": "821199",
    "end": "824160"
  },
  {
    "text": "such an positive uh decision it uh",
    "start": "824160",
    "end": "828519"
  },
  {
    "text": "regard the request as successfully",
    "start": "828519",
    "end": "830639"
  },
  {
    "text": "authorized and will redirect the route",
    "start": "830639",
    "end": "833360"
  },
  {
    "text": "uh the request to the actual notebook",
    "start": "833360",
    "end": "836440"
  },
  {
    "text": "container in this part so the user is",
    "start": "836440",
    "end": "839240"
  },
  {
    "text": "finally able to see the notebook open in",
    "start": "839240",
    "end": "842120"
  },
  {
    "text": "the",
    "start": "842120",
    "end": "843959"
  },
  {
    "text": "browser so if we need to put uh all the",
    "start": "843959",
    "end": "847399"
  },
  {
    "text": "things into this bigger picture when a",
    "start": "847399",
    "end": "849959"
  },
  {
    "text": "request comes into the sdy car and",
    "start": "849959",
    "end": "852519"
  },
  {
    "text": "finishes the authentication process um",
    "start": "852519",
    "end": "855600"
  },
  {
    "text": "it it will go through the uh a uh go",
    "start": "855600",
    "end": "859800"
  },
  {
    "text": "through the web assembly plugin to get",
    "start": "859800",
    "end": "862160"
  },
  {
    "text": "the additional headers patched and then",
    "start": "862160",
    "end": "864720"
  },
  {
    "text": "the cyer container will route the",
    "start": "864720",
    "end": "867600"
  },
  {
    "text": "request to the OPA server",
    "start": "867600",
    "end": "869959"
  },
  {
    "text": "and if the OPA server says yes this",
    "start": "869959",
    "end": "872680"
  },
  {
    "text": "request is authorized is still scar will",
    "start": "872680",
    "end": "876279"
  },
  {
    "text": "route the request to The dupen Notebook",
    "start": "876279",
    "end": "879040"
  },
  {
    "text": "container and the the user is that now",
    "start": "879040",
    "end": "882440"
  },
  {
    "text": "able to open their notebook so that's",
    "start": "882440",
    "end": "885680"
  },
  {
    "text": "all for",
    "start": "885680",
    "end": "887000"
  },
  {
    "text": "authorization and uh uh let me hand over",
    "start": "887000",
    "end": "890360"
  },
  {
    "text": "back to Yao to cover the erress control",
    "start": "890360",
    "end": "895040"
  },
  {
    "text": "part okay so finally uh we come to the",
    "start": "895040",
    "end": "898360"
  },
  {
    "text": "last question uh is notebook to be able",
    "start": "898360",
    "end": "901079"
  },
  {
    "text": "to access our production data storage so",
    "start": "901079",
    "end": "904800"
  },
  {
    "text": "our so actually our notebook cluster",
    "start": "904800",
    "end": "908279"
  },
  {
    "text": "running in production is actually in the",
    "start": "908279",
    "end": "910560"
  },
  {
    "text": "production Network so it is by default",
    "start": "910560",
    "end": "913480"
  },
  {
    "text": "to access all the production data set so",
    "start": "913480",
    "end": "916880"
  },
  {
    "text": "uh some data set is fine so user they",
    "start": "916880",
    "end": "919120"
  },
  {
    "text": "can um inter you use notebook uh to",
    "start": "919120",
    "end": "922600"
  },
  {
    "text": "interactively access those data set",
    "start": "922600",
    "end": "925240"
  },
  {
    "text": "however some data set are very",
    "start": "925240",
    "end": "927360"
  },
  {
    "text": "restrictive even the teams and the users",
    "start": "927360",
    "end": "930120"
  },
  {
    "text": "they are allowed or they have full",
    "start": "930120",
    "end": "932319"
  },
  {
    "text": "access to those data set they are not",
    "start": "932319",
    "end": "934360"
  },
  {
    "text": "allowed to access those data set",
    "start": "934360",
    "end": "936920"
  },
  {
    "text": "interactively say using notebook so in",
    "start": "936920",
    "end": "939759"
  },
  {
    "text": "order to protect those uh very sensitive",
    "start": "939759",
    "end": "943440"
  },
  {
    "text": "production data uh we decide to use the",
    "start": "943440",
    "end": "946360"
  },
  {
    "text": "cico network policy to control our erass",
    "start": "946360",
    "end": "950079"
  },
  {
    "text": "so here I just show a very simple",
    "start": "950079",
    "end": "952440"
  },
  {
    "text": "example uh so in the left uh so in this",
    "start": "952440",
    "end": "957480"
  },
  {
    "text": "corner uh we have the Global Network set",
    "start": "957480",
    "end": "961519"
  },
  {
    "text": "so can you hear yeah so uh here uh you",
    "start": "961519",
    "end": "965240"
  },
  {
    "text": "will see there's an annotation is our",
    "start": "965240",
    "end": "967120"
  },
  {
    "text": "machine group annotation so basically",
    "start": "967120",
    "end": "969480"
  },
  {
    "text": "this network um Global Network set just",
    "start": "969480",
    "end": "972519"
  },
  {
    "text": "represents all the machines uh that runs",
    "start": "972519",
    "end": "975480"
  },
  {
    "text": "the object storage services so we also",
    "start": "975480",
    "end": "978720"
  },
  {
    "text": "have a c c resolver uh you can think",
    "start": "978720",
    "end": "981839"
  },
  {
    "text": "it's a long running service so this CID",
    "start": "981839",
    "end": "984680"
  },
  {
    "text": "resolver just watches the network set",
    "start": "984680",
    "end": "988160"
  },
  {
    "text": "and it try to parts and understand this",
    "start": "988160",
    "end": "990519"
  },
  {
    "text": "machine group annotation and then autop",
    "start": "990519",
    "end": "993360"
  },
  {
    "text": "populates the machine IPS into this",
    "start": "993360",
    "end": "996880"
  },
  {
    "text": "network set and then uh we also have the",
    "start": "996880",
    "end": "1000480"
  },
  {
    "text": "global Network policy so the cical",
    "start": "1000480",
    "end": "1003160"
  },
  {
    "text": "network policy is actually uh you can",
    "start": "1003160",
    "end": "1005959"
  },
  {
    "text": "think it's a group of kubernetes network",
    "start": "1005959",
    "end": "1008639"
  },
  {
    "text": "policy you can Define the Ingress and",
    "start": "1008639",
    "end": "1011240"
  },
  {
    "text": "egress control so here I just showed the",
    "start": "1011240",
    "end": "1014160"
  },
  {
    "text": "example of erass um basically uh the",
    "start": "1014160",
    "end": "1017639"
  },
  {
    "text": "first rule we Define here is to allow",
    "start": "1017639",
    "end": "1021480"
  },
  {
    "text": "the outbound traffic to the object",
    "start": "1021480",
    "end": "1024400"
  },
  {
    "text": "storage and by the end uh the port is",
    "start": "1024400",
    "end": "1027959"
  },
  {
    "text": "also default for 443 and then at the end",
    "start": "1027959",
    "end": "1032000"
  },
  {
    "text": "we put a like default deny which means",
    "start": "1032000",
    "end": "1034918"
  },
  {
    "text": "like we will ban all the outbound",
    "start": "1034919",
    "end": "1037120"
  },
  {
    "text": "traffic except the access to this object",
    "start": "1037120",
    "end": "1040600"
  },
  {
    "text": "storage um okay so uh yeah those uh",
    "start": "1040600",
    "end": "1045280"
  },
  {
    "text": "policy and networks that are saved in",
    "start": "1045280",
    "end": "1047480"
  },
  {
    "text": "the Cal XD and then we have the uh C",
    "start": "1047480",
    "end": "1051799"
  },
  {
    "text": "Cube controller it synchronize all the",
    "start": "1051799",
    "end": "1054400"
  },
  {
    "text": "policies and the network set and then uh",
    "start": "1054400",
    "end": "1057679"
  },
  {
    "text": "and sync that to the Calico node so the",
    "start": "1057679",
    "end": "1060000"
  },
  {
    "text": "Calico node is actually a demon set",
    "start": "1060000",
    "end": "1062160"
  },
  {
    "text": "running on on our on all the kubernetes",
    "start": "1062160",
    "end": "1065600"
  },
  {
    "text": "worker node and it try to understand the",
    "start": "1065600",
    "end": "1068080"
  },
  {
    "text": "network policy and translate that into",
    "start": "1068080",
    "end": "1070919"
  },
  {
    "text": "the host machine IP tables and thus it",
    "start": "1070919",
    "end": "1073640"
  },
  {
    "text": "can achieve the erress control so uh",
    "start": "1073640",
    "end": "1077600"
  },
  {
    "text": "let's put the last piece piece in this",
    "start": "1077600",
    "end": "1079760"
  },
  {
    "text": "uh huge diagram so we have uh defined",
    "start": "1079760",
    "end": "1083039"
  },
  {
    "text": "our Network policy and network set so",
    "start": "1083039",
    "end": "1085880"
  },
  {
    "text": "there are saving accd and the the Calico",
    "start": "1085880",
    "end": "1088760"
  },
  {
    "text": "node they just translate those rules uh",
    "start": "1088760",
    "end": "1091640"
  },
  {
    "text": "into the IP table rules and we achieve",
    "start": "1091640",
    "end": "1093880"
  },
  {
    "text": "the uh erress control so you may also",
    "start": "1093880",
    "end": "1097280"
  },
  {
    "text": "find that uh that is all L4 uh level and",
    "start": "1097280",
    "end": "1101280"
  },
  {
    "text": "how about L7 uh eass control so uh we're",
    "start": "1101280",
    "end": "1104880"
  },
  {
    "text": "planning we're still like uh planning to",
    "start": "1104880",
    "end": "1108000"
  },
  {
    "text": "use the calicon Network policy uh plus e",
    "start": "1108000",
    "end": "1111919"
  },
  {
    "text": "still to a to achieve L7 uh control but",
    "start": "1111919",
    "end": "1115640"
  },
  {
    "text": "still like work in progress so yeah",
    "start": "1115640",
    "end": "1118559"
  },
  {
    "text": "that's basically all we have yeah so in",
    "start": "1118559",
    "end": "1122640"
  },
  {
    "text": "summary we have U SSL based on O2 for",
    "start": "1122640",
    "end": "1126799"
  },
  {
    "text": "authentication and we have a custom",
    "start": "1126799",
    "end": "1129320"
  },
  {
    "text": "policy store and is still and opa for",
    "start": "1129320",
    "end": "1131840"
  },
  {
    "text": "authorization system and we have cical",
    "start": "1131840",
    "end": "1134880"
  },
  {
    "text": "for to build our L4 erass control and uh",
    "start": "1134880",
    "end": "1139120"
  },
  {
    "text": "that's it for today's presentation and",
    "start": "1139120",
    "end": "1141240"
  },
  {
    "text": "thank you all for interest in this topic",
    "start": "1141240",
    "end": "1143200"
  },
  {
    "text": "and thank you all for",
    "start": "1143200",
    "end": "1146039"
  },
  {
    "text": "attending",
    "start": "1147600",
    "end": "1150559"
  },
  {
    "text": "still minutes for",
    "start": "1150559",
    "end": "1153159"
  },
  {
    "text": "questions yeah sorry there uh yeah we",
    "start": "1153159",
    "end": "1157080"
  },
  {
    "text": "have a few minutes for questions folks",
    "start": "1157080",
    "end": "1159080"
  },
  {
    "text": "if you got any go ahead and raise your",
    "start": "1159080",
    "end": "1160360"
  },
  {
    "text": "hand and we'll come around with the",
    "start": "1160360",
    "end": "1162080"
  },
  {
    "text": "mic hi nice presentation do you use",
    "start": "1162080",
    "end": "1165039"
  },
  {
    "text": "Jupiter ha for Notebook Ser serving or",
    "start": "1165039",
    "end": "1168200"
  },
  {
    "text": "just playing",
    "start": "1168200",
    "end": "1169280"
  },
  {
    "text": "we we use sture server not dtor Hub yeah",
    "start": "1169280",
    "end": "1172400"
  },
  {
    "text": "okay",
    "start": "1172400",
    "end": "1175080"
  },
  {
    "text": "yeah I U may I inquire that how much how",
    "start": "1175559",
    "end": "1179360"
  },
  {
    "text": "much cluster do you uh allocate for this",
    "start": "1179360",
    "end": "1183600"
  },
  {
    "text": "all Tool uh",
    "start": "1183600",
    "end": "1186640"
  },
  {
    "text": "combination because I think is is it uh",
    "start": "1186640",
    "end": "1190159"
  },
  {
    "text": "well Ser the computer resource very very",
    "start": "1190159",
    "end": "1194480"
  },
  {
    "text": "heavy oh so yeah uh so for our use case",
    "start": "1194480",
    "end": "1199039"
  },
  {
    "text": "we have like dedicated notebook cluster",
    "start": "1199039",
    "end": "1201559"
  },
  {
    "text": "so basically on that notebook cluster we",
    "start": "1201559",
    "end": "1204120"
  },
  {
    "text": "only allow user to run the notebook so",
    "start": "1204120",
    "end": "1207440"
  },
  {
    "text": "you mean the computer resource competing",
    "start": "1207440",
    "end": "1209720"
  },
  {
    "text": "issue do you mean the GPU things or like",
    "start": "1209720",
    "end": "1212159"
  },
  {
    "text": "the what kind of yeah GP uh Network and",
    "start": "1212159",
    "end": "1217000"
  },
  {
    "text": "like memory and uh CPU yeah GPU is is",
    "start": "1217000",
    "end": "1221520"
  },
  {
    "text": "fun yeah uh so basically our strategy is",
    "start": "1221520",
    "end": "1225600"
  },
  {
    "text": "like um we we are multi-talent um",
    "start": "1225600",
    "end": "1228200"
  },
  {
    "text": "platform so uh each team they have their",
    "start": "1228200",
    "end": "1231559"
  },
  {
    "text": "allocated resource so we just they just",
    "start": "1231559",
    "end": "1235080"
  },
  {
    "text": "allow to use uh the budget they uh they",
    "start": "1235080",
    "end": "1238480"
  },
  {
    "text": "submit like every year so they are not",
    "start": "1238480",
    "end": "1240480"
  },
  {
    "text": "allowed to use more than uh those kind",
    "start": "1240480",
    "end": "1243200"
  },
  {
    "text": "of like memory when they start a",
    "start": "1243200",
    "end": "1245039"
  },
  {
    "text": "notebook yeah get it thank",
    "start": "1245039",
    "end": "1249279"
  },
  {
    "text": "you so thank you for the presentation",
    "start": "1251120",
    "end": "1254120"
  },
  {
    "text": "very interesting um so in Jupiter Hub",
    "start": "1254120",
    "end": "1256640"
  },
  {
    "text": "there is it is heavily C customizable",
    "start": "1256640",
    "end": "1259760"
  },
  {
    "text": "and there is a way to had an",
    "start": "1259760",
    "end": "1262240"
  },
  {
    "text": "authenticator we connected with ldap for",
    "start": "1262240",
    "end": "1265480"
  },
  {
    "text": "instance and doing all the",
    "start": "1265480",
    "end": "1267320"
  },
  {
    "text": "authentication and authorization",
    "start": "1267320",
    "end": "1269280"
  },
  {
    "text": "directly in the Jupiter Hub uh why uh",
    "start": "1269280",
    "end": "1274200"
  },
  {
    "text": "why did you choose to use esto and all",
    "start": "1274200",
    "end": "1278039"
  },
  {
    "text": "the the web assembly and opa and not",
    "start": "1278039",
    "end": "1281080"
  },
  {
    "text": "just the Jupiter Hub uh authenticator is",
    "start": "1281080",
    "end": "1284240"
  },
  {
    "text": "there a reason or uh yeah there there's",
    "start": "1284240",
    "end": "1287520"
  },
  {
    "text": "another reason like with build this",
    "start": "1287520",
    "end": "1289120"
  },
  {
    "text": "whole framework because um I I think",
    "start": "1289120",
    "end": "1292000"
  },
  {
    "text": "it's more like a standard authentication",
    "start": "1292000",
    "end": "1294200"
  },
  {
    "text": "and author authorization problem on the",
    "start": "1294200",
    "end": "1296679"
  },
  {
    "text": "cloud so uh those like uh those flow or",
    "start": "1296679",
    "end": "1299760"
  },
  {
    "text": "you think this big picture will also be",
    "start": "1299760",
    "end": "1302320"
  },
  {
    "text": "applied to other uh our platform UI like",
    "start": "1302320",
    "end": "1306159"
  },
  {
    "text": "the spark history and the uh tensor flow",
    "start": "1306159",
    "end": "1310559"
  },
  {
    "text": "sorry tensor board so that is why we",
    "start": "1310559",
    "end": "1313080"
  },
  {
    "text": "design the whole thing and it will be",
    "start": "1313080",
    "end": "1315279"
  },
  {
    "text": "applied on multiple different uh UI",
    "start": "1315279",
    "end": "1317559"
  },
  {
    "text": "application on our platform yeah I I",
    "start": "1317559",
    "end": "1320120"
  },
  {
    "text": "know like Jupiter Hub they they also",
    "start": "1320120",
    "end": "1322080"
  },
  {
    "text": "provide this like Rich features uh but",
    "start": "1322080",
    "end": "1325360"
  },
  {
    "text": "yeah it's",
    "start": "1325360",
    "end": "1326720"
  },
  {
    "text": "like we we share this the whole whole",
    "start": "1326720",
    "end": "1329559"
  },
  {
    "text": "framework yeah hello here so uh thank",
    "start": "1329559",
    "end": "1333360"
  },
  {
    "text": "you for sharing I'll just a question",
    "start": "1333360",
    "end": "1335279"
  },
  {
    "text": "about the egress uh part for L 4 uh any",
    "start": "1335279",
    "end": "1338400"
  },
  {
    "text": "reason to choose um Caro in my",
    "start": "1338400",
    "end": "1341400"
  },
  {
    "text": "understanding cium maybe a little bit",
    "start": "1341400",
    "end": "1343320"
  },
  {
    "text": "simpler in the use case yeah there",
    "start": "1343320",
    "end": "1346400"
  },
  {
    "text": "another interesting uh so yeah this is",
    "start": "1346400",
    "end": "1348919"
  },
  {
    "text": "like the tech decision because we use",
    "start": "1348919",
    "end": "1352200"
  },
  {
    "text": "the Calico for our cni so it's like we",
    "start": "1352200",
    "end": "1355120"
  },
  {
    "text": "build up of the container Network things",
    "start": "1355120",
    "end": "1357240"
  },
  {
    "text": "on top of that and then uh yeah then if",
    "start": "1357240",
    "end": "1361320"
  },
  {
    "text": "we use the Cal cni and we use the bgp",
    "start": "1361320",
    "end": "1364320"
  },
  {
    "text": "and all those things together then then",
    "start": "1364320",
    "end": "1366799"
  },
  {
    "text": "Network policy will be like very natural",
    "start": "1366799",
    "end": "1368720"
  },
  {
    "text": "choice for us for the erass control",
    "start": "1368720",
    "end": "1371240"
  },
  {
    "text": "although I know L7 is not here but we",
    "start": "1371240",
    "end": "1373320"
  },
  {
    "text": "can still rely on E to help us achieve",
    "start": "1373320",
    "end": "1375960"
  },
  {
    "text": "that",
    "start": "1375960",
    "end": "1377440"
  },
  {
    "text": "yeah",
    "start": "1377440",
    "end": "1380159"
  },
  {
    "text": "I I know like celum is like another",
    "start": "1380159",
    "end": "1382559"
  },
  {
    "text": "option uh I mean in the future we can we",
    "start": "1382559",
    "end": "1385320"
  },
  {
    "text": "can try things in that direction yeah I",
    "start": "1385320",
    "end": "1389320"
  },
  {
    "text": "guess I would add a typical way with C",
    "start": "1389320",
    "end": "1392520"
  },
  {
    "text": "it you don't change it right unless you",
    "start": "1392520",
    "end": "1395360"
  },
  {
    "text": "have a need to change it yeah then that",
    "start": "1395360",
    "end": "1397760"
  },
  {
    "text": "will be a huge change for our platform",
    "start": "1397760",
    "end": "1399760"
  },
  {
    "text": "and then yeah uh any other",
    "start": "1399760",
    "end": "1404760"
  },
  {
    "text": "questions all right I don't see any",
    "start": "1407000",
    "end": "1409600"
  },
  {
    "text": "other hands up uh please uh give them a",
    "start": "1409600",
    "end": "1412799"
  },
  {
    "text": "round of applause for a great job",
    "start": "1412799",
    "end": "1417639"
  }
]