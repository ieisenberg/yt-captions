[
  {
    "text": "all right looks like we are finally live here thank you so much for joining us on",
    "start": "0",
    "end": "6120"
  },
  {
    "text": "this beautiful day in Amsterdam by the way they are still quite a few seats in",
    "start": "6120",
    "end": "11580"
  },
  {
    "text": "the front uh feel free to come to the front make yourself feel comfortable uh",
    "start": "11580",
    "end": "16740"
  },
  {
    "text": "I hate you see you guys standing so thank you so much",
    "start": "16740",
    "end": "22100"
  },
  {
    "text": "oh today we're going to talk about operate multi-dependency service match with Argo CD in production my name is",
    "start": "22199",
    "end": "29640"
  },
  {
    "text": "lensang I'm the director of Open Source at solo.io it's a small company how many",
    "start": "29640",
    "end": "36960"
  },
  {
    "text": "of you heard of our company all right wow many of you thank you",
    "start": "36960",
    "end": "42960"
  },
  {
    "text": "um so I've been a very long time it's your maintaining one of the founding members in the SEO Community I actually",
    "start": "42960",
    "end": "50160"
  },
  {
    "text": "wrote two books about istio my most recent book is istio ambient to explain",
    "start": "50160",
    "end": "55500"
  },
  {
    "text": "how many of you actually tried istio before wow many of you awesome how many of you",
    "start": "55500",
    "end": "63359"
  },
  {
    "text": "actually heard about istio ambient wow are you surprised all right awesome",
    "start": "63359",
    "end": "71040"
  },
  {
    "text": "so if you want to learn a little bit more about Ambien we do have a book signing tonight uh with me and my",
    "start": "71040",
    "end": "77640"
  },
  {
    "text": "co-author Christian poster um and since I don't have my family traveling with me I in Amsterdam I",
    "start": "77640",
    "end": "84840"
  },
  {
    "text": "thought I'd share of a team dinner picture and walk last night so I hope you guys are enjoying food in Amsterdam",
    "start": "84840",
    "end": "91979"
  },
  {
    "text": "and also the canal now I'm going to pass to my co-speaker Priscilla hello",
    "start": "91979",
    "end": "98040"
  },
  {
    "text": "everyone I'm Priscilla I work as a cloud native developer at Ericsson software technology which is open source software",
    "start": "98040",
    "end": "105960"
  },
  {
    "text": "development division of Ericsson I primarily work from the Ericsson Euro lab office in Germany and my role",
    "start": "105960",
    "end": "113880"
  },
  {
    "text": "includes prioritizing the Telco Cloud requirements in the open source",
    "start": "113880",
    "end": "119399"
  },
  {
    "text": "communities especially istion and voy I'm I'm a maintainer of some of this",
    "start": "119399",
    "end": "125759"
  },
  {
    "text": "working groups in istio and avoid prior to istio I have also served in the",
    "start": "125759",
    "end": "133680"
  },
  {
    "text": "technical steering committee of open daylight and some of the other networking projects another Linux",
    "start": "133680",
    "end": "139379"
  },
  {
    "text": "Foundation so I'm currently a steering committee member of istio as well",
    "start": "139379",
    "end": "145739"
  },
  {
    "text": "yes I'm basically from India and that's my family and I have a eight-year-old",
    "start": "145739",
    "end": "151980"
  },
  {
    "text": "daughter who had an amazing time here last Sunday in the CNC of kids day",
    "start": "151980",
    "end": "157560"
  },
  {
    "text": "thanks to cnco for that and now over to you Lynn to get started with our",
    "start": "157560",
    "end": "163860"
  },
  {
    "text": "presentation awesome thank you so much Priscilla can you guys all heal her fine she needs to",
    "start": "163860",
    "end": "170580"
  },
  {
    "text": "good in the back okay awesome thank you so today we're going to talk about uh",
    "start": "170580",
    "end": "176040"
  },
  {
    "text": "give you guys an overview of service mesh sounds you guys all know pretty much well about istio and service match",
    "start": "176040",
    "end": "181739"
  },
  {
    "text": "so we're going to jump fast through that section then we're going to talk about uh different multi-tenancy models in",
    "start": "181739",
    "end": "188760"
  },
  {
    "text": "istio service mesh and then we're going to do a little bit of demo about operator multi-tenancy with istio and",
    "start": "188760",
    "end": "196920"
  },
  {
    "text": "also with Argo projects and then we we're going to wrap up with best",
    "start": "196920",
    "end": "202019"
  },
  {
    "text": "practice of multi-tenancy with istio service mesh so what is the service mesh",
    "start": "202019",
    "end": "207420"
  },
  {
    "text": "that you all know what service mesh is raise your hand all right looks like almost everybody so",
    "start": "207420",
    "end": "214680"
  },
  {
    "text": "essentially it's a program about framework that allows you to connect secure and observe your microservices",
    "start": "214680",
    "end": "220379"
  },
  {
    "text": "without you writing those code in your application um service manager architecture",
    "start": "220379",
    "end": "226920"
  },
  {
    "text": "typically have a control plan that you interact with the control plane to set",
    "start": "226920",
    "end": "232200"
  },
  {
    "text": "up your network policy to set up your security policy and the control play uh",
    "start": "232200",
    "end": "237840"
  },
  {
    "text": "programming program or the site cards to do uh the policy enforcement within the",
    "start": "237840",
    "end": "243959"
  },
  {
    "text": "istio project and also we've seen across the service mesh industry space is uh",
    "start": "243959",
    "end": "250260"
  },
  {
    "text": "they are a little bit new innovation coming in without the side card so how",
    "start": "250260",
    "end": "255360"
  },
  {
    "text": "many of you would be interested to run service measure with outside car",
    "start": "255360",
    "end": "261900"
  },
  {
    "text": "wow that's a lot of you okay so it sounds like we're on the right tracks with the evolution right so essentially",
    "start": "261900",
    "end": "268620"
  },
  {
    "text": "uh what we believe is uh we want to slice the architecture into layer three",
    "start": "268620",
    "end": "274020"
  },
  {
    "text": "layer four as one layer and also layer seven as the second layer and the reason",
    "start": "274020",
    "end": "280380"
  },
  {
    "text": "we're slicing the architecture into two layers is because layer 3 layer four we",
    "start": "280380",
    "end": "286320"
  },
  {
    "text": "keep it very minimum focus on the security and network on that particular",
    "start": "286320",
    "end": "293340"
  },
  {
    "text": "layer where we could potentially do a load level proxy that handles all your",
    "start": "293340",
    "end": "299340"
  },
  {
    "text": "policy enforcement and also Mutual TRS in this case all the co-located pods",
    "start": "299340",
    "end": "305340"
  },
  {
    "text": "would shell the same proxy that's collocated on that particular node for",
    "start": "305340",
    "end": "311460"
  },
  {
    "text": "layer 7 traffic we introduced in istio Project we introduce a waypoint proxy",
    "start": "311460",
    "end": "317160"
  },
  {
    "text": "which is dedicated for your tenants and that Waypoint proxy is serving either",
    "start": "317160",
    "end": "323639"
  },
  {
    "text": "your name space or your service account and you are not sharing that Waypoint proxy with any other tenant this is",
    "start": "323639",
    "end": "331440"
  },
  {
    "text": "extremely important architecture for us because we don't believe Envoy proxy",
    "start": "331440",
    "end": "337080"
  },
  {
    "text": "handles multi-tenancy inherently and we don't believe it handles like noise",
    "start": "337080",
    "end": "342780"
  },
  {
    "text": "label layer 7 processing is also very complicated you don't want one tendency",
    "start": "342780",
    "end": "348419"
  },
  {
    "text": "or seven processing bring down the proxy and impact the other tenants",
    "start": "348419",
    "end": "355220"
  },
  {
    "text": "um how many of you are familiar with cncf service mesh landscape I would expect every one of you all",
    "start": "355500",
    "end": "363840"
  },
  {
    "text": "right if you look at the landscape it's very very daunting there are many many service mesh projects out there I would",
    "start": "363840",
    "end": "371340"
  },
  {
    "text": "say probably what you most heard is istio service match and Link D so if you",
    "start": "371340",
    "end": "377400"
  },
  {
    "text": "haven't heard istio is a cncf incubating project as as a project we're working",
    "start": "377400",
    "end": "384539"
  },
  {
    "text": "very hard to make it a graduation project at cncf so now we're going to",
    "start": "384539",
    "end": "389759"
  },
  {
    "text": "jump into talk about multi-tenancy istio service mesh since both of us are on the",
    "start": "389759",
    "end": "395160"
  },
  {
    "text": "istio project and we are inherently familiar with the istio project",
    "start": "395160",
    "end": "400740"
  },
  {
    "text": "so we're going to start talk about single mesh with multiple tenancy multiple team this is the most widely",
    "start": "400740",
    "end": "408000"
  },
  {
    "text": "deployed multi-tenancy model in the istio project today it's also uh what's",
    "start": "408000",
    "end": "413520"
  },
  {
    "text": "in the default so Envision you have a single SEO mesh that you have multiple",
    "start": "413520",
    "end": "419340"
  },
  {
    "text": "teams in this case you probably have different rows in your organization you",
    "start": "419340",
    "end": "424919"
  },
  {
    "text": "have the team admin you have the operator you also have each individual",
    "start": "424919",
    "end": "431280"
  },
  {
    "text": "teams who are producing their services so the teams are typically a service",
    "start": "431280",
    "end": "436740"
  },
  {
    "text": "producer or service consumer depends on which role they are serving and you",
    "start": "436740",
    "end": "444000"
  },
  {
    "text": "probably won't deploy in one kubernetes cluster so typically your team would have the boundary of multiple clusters",
    "start": "444000",
    "end": "451620"
  },
  {
    "text": "and some of your services even running across a different network and also on",
    "start": "451620",
    "end": "457560"
  },
  {
    "text": "virtual machine so in istio using a really simple example of a couple of",
    "start": "457560",
    "end": "464580"
  },
  {
    "text": "services web API recommendation and purchase history with web API exposed to",
    "start": "464580",
    "end": "471479"
  },
  {
    "text": "the SEO Ingress Gateway so that web API can be accessed for clients outside of",
    "start": "471479",
    "end": "477120"
  },
  {
    "text": "the cluster so using this example you typically would create a istio Gateway",
    "start": "477120",
    "end": "484080"
  },
  {
    "text": "resource and also it's your virtual service resource to expose the web API",
    "start": "484080",
    "end": "490680"
  },
  {
    "text": "service to the Gateway on a particular host and also with a particular port",
    "start": "490680",
    "end": "497400"
  },
  {
    "text": "number um and this is the default behavior of istio but there's one problem the",
    "start": "497400",
    "end": "504660"
  },
  {
    "text": "problem is though the configuration you apply to web API is visible for the",
    "start": "504660",
    "end": "510780"
  },
  {
    "text": "entire mesh which may not exactly be what you wanted right because not everybody is going to consume web API",
    "start": "510780",
    "end": "517320"
  },
  {
    "text": "server and you know if you're recording of a diagram the only consumer of the web API service is the Ingress Gateway",
    "start": "517320",
    "end": "524459"
  },
  {
    "text": "so let's see how you can potentially make it simpler with istio to make sure",
    "start": "524459",
    "end": "530279"
  },
  {
    "text": "the configurations are not impacted by other tenants from the web API team so",
    "start": "530279",
    "end": "537480"
  },
  {
    "text": "in this case we're going to talk about from service consumer side and also the",
    "start": "537480",
    "end": "542519"
  },
  {
    "text": "service producer side on what you need to do on SEO just uh make sure we're on",
    "start": "542519",
    "end": "548580"
  },
  {
    "text": "the same of terminologies so in this case when service application a cost",
    "start": "548580",
    "end": "554399"
  },
  {
    "text": "application B so the application a would be the service Yuma and the application",
    "start": "554399",
    "end": "560640"
  },
  {
    "text": "B would be the service producer in our simple cases here the istio Ingress",
    "start": "560640",
    "end": "566760"
  },
  {
    "text": "Gateway would be the consumer and the web API would be the producer so with",
    "start": "566760",
    "end": "572399"
  },
  {
    "text": "that let's talk about how to do that with istio so the first thing you would need to do is uh",
    "start": "572399",
    "end": "579360"
  },
  {
    "text": "you would need to apply a authorization policy just making sure only the",
    "start": "579360",
    "end": "586620"
  },
  {
    "text": "required Services can access the web web API service only the absolutely minimum",
    "start": "586620",
    "end": "595339"
  },
  {
    "text": "needed service which is the istio Ingress Gateway here and the second thing you can do is also adding an",
    "start": "595339",
    "end": "603060"
  },
  {
    "text": "export to annotation to your service the producer service to say you know I want",
    "start": "603060",
    "end": "610320"
  },
  {
    "text": "to scope the service to only to be available in the current namespace along",
    "start": "610320",
    "end": "615839"
  },
  {
    "text": "with the SEO Ingress namespace which is the SEO Ingress Gateway resize that's",
    "start": "615839",
    "end": "622200"
  },
  {
    "text": "from the service producer side on the service consumer side what you can do is",
    "start": "622200",
    "end": "627800"
  },
  {
    "text": "you can apply export to to the route configuration which is called virtual",
    "start": "627800",
    "end": "634680"
  },
  {
    "text": "servicing is still so you can say hey I'm apply the skull hope of this",
    "start": "634680",
    "end": "640320"
  },
  {
    "text": "particular virtual service to be applicable only to the istio Ingress namespace you in addition to that you",
    "start": "640320",
    "end": "647459"
  },
  {
    "text": "can also apply the sidecar resource on the consumer side to say I'm I'm",
    "start": "647459",
    "end": "654000"
  },
  {
    "text": "restricting the egress traffic to be able to only go to the web API namespace",
    "start": "654000",
    "end": "661260"
  },
  {
    "text": "in addition to my current namespace and also the istio system name space which",
    "start": "661260",
    "end": "667560"
  },
  {
    "text": "is where the istio control plane resides so that's how you could potentially config tenant isolation with one single",
    "start": "667560",
    "end": "676800"
  },
  {
    "text": "mesh among multiple teams now I'm going to pass two firstly like to talk about the next model",
    "start": "676800",
    "end": "683279"
  },
  {
    "text": "okay so yeah maybe close a little bit closer yeah so um I think it's now clear how",
    "start": "683279",
    "end": "690959"
  },
  {
    "text": "the single control plane based model Works um I think that's the widely used model",
    "start": "690959",
    "end": "697860"
  },
  {
    "text": "these days but for us in the Telco 5G core requirements",
    "start": "697860",
    "end": "703279"
  },
  {
    "text": "it was always a case like uh our platform will come with simply a",
    "start": "703279",
    "end": "710519"
  },
  {
    "text": "bare minimum kubernetes cluster and then there won't be any service mesh installed and then we have our cnfs",
    "start": "710519",
    "end": "717720"
  },
  {
    "text": "which which are basically applications or network functions that runs on this cluster and each CNF sometimes maybe",
    "start": "717720",
    "end": "725700"
  },
  {
    "text": "from a different vendor and each vendor will have their own service mesh Solutions so in such cases it was",
    "start": "725700",
    "end": "732839"
  },
  {
    "text": "getting difficult to follow this single control plane based model maybe it will change in future whenever istio also",
    "start": "732839",
    "end": "740640"
  },
  {
    "text": "similar to kubernetes comes by default as a standard and the kubernetes cluster so the scenario might change later on",
    "start": "740640",
    "end": "748320"
  },
  {
    "text": "but as of now so we we do require in a single cluster mechanisms to run",
    "start": "748320",
    "end": "754440"
  },
  {
    "text": "multiple istio control plane so that's the reason why we were trying we were",
    "start": "754440",
    "end": "760560"
  },
  {
    "text": "spending effort and getting this working so it's basically similar to this",
    "start": "760560",
    "end": "767100"
  },
  {
    "text": "diagram whatever you see here it's like different stods are running and just",
    "start": "767100",
    "end": "772560"
  },
  {
    "text": "classified it as user group one user group two or or you can call it as tenant one and tenant two and you have",
    "start": "772560",
    "end": "779820"
  },
  {
    "text": "different applications are running in your cluster it's a single cluster and",
    "start": "779820",
    "end": "785839"
  },
  {
    "text": "one of the app namespace is managed by one control plane and similarly there",
    "start": "785839",
    "end": "791339"
  },
  {
    "text": "are other applications which are managed by different control team",
    "start": "791339",
    "end": "797180"
  },
  {
    "text": "so to get this working we started in istio a different uh",
    "start": "797760",
    "end": "805800"
  },
  {
    "text": "efforts uh in formalizing how to get this running properly with multiple",
    "start": "805800",
    "end": "811320"
  },
  {
    "text": "control planes there were minor issues here render which we spent effort and",
    "start": "811320",
    "end": "816899"
  },
  {
    "text": "tried to fix one by one so in this case finally this is how we have an",
    "start": "816899",
    "end": "822779"
  },
  {
    "text": "experimental feature already uh available in istio currently which gets this up and running so a tenant can own",
    "start": "822779",
    "end": "830519"
  },
  {
    "text": "one or more application name spaces and each tenant has their own unique control",
    "start": "830519",
    "end": "836459"
  },
  {
    "text": "plane and the resources are isolated using the concepts of revisions and",
    "start": "836459",
    "end": "841920"
  },
  {
    "text": "Discovery selectors so lean already showed how things can be isolated using",
    "start": "841920",
    "end": "848459"
  },
  {
    "text": "the export to configuration and all those things were already explained but",
    "start": "848459",
    "end": "853860"
  },
  {
    "text": "we were focusing more on using the discovery selectors terminology I think",
    "start": "853860",
    "end": "859380"
  },
  {
    "text": "that was also contributed by solo a while back but at that time it was not",
    "start": "859380",
    "end": "864720"
  },
  {
    "text": "extended to custom some resources so what we basically did is extended the",
    "start": "864720",
    "end": "870240"
  },
  {
    "text": "discovery selectors to work for the custom resources in istio and now with",
    "start": "870240",
    "end": "876600"
  },
  {
    "text": "that we no longer need any of these export two configurations for isolation and in fact this is not restricted to",
    "start": "876600",
    "end": "883620"
  },
  {
    "text": "multiple control planes even all the examples which were explained before with single control plane that can also",
    "start": "883620",
    "end": "890699"
  },
  {
    "text": "be enhanced using this feature flag using Discovery selectors and the",
    "start": "890699",
    "end": "896760"
  },
  {
    "text": "concept of revision is basically used for the canary upgrades in istio that's how heavily it's used but the same",
    "start": "896760",
    "end": "903899"
  },
  {
    "text": "concept is being used for this multiple control planes for multi-tenancy as well",
    "start": "903899",
    "end": "911660"
  },
  {
    "text": "yeah so this diagram just shows what are the configuration that you need to get",
    "start": "911940",
    "end": "918120"
  },
  {
    "text": "this all up and running so as you can see you don't have to customize all your",
    "start": "918120",
    "end": "923760"
  },
  {
    "text": "custom Resources with export 2 and everything it's just the initial istio",
    "start": "923760",
    "end": "929339"
  },
  {
    "text": "operator configuration when you are bringing up your control plane you just need to specify the discovery selectors",
    "start": "929339",
    "end": "935339"
  },
  {
    "text": "and revisions and then maybe you can just enable peer authentication per system namespace so that gross namespace",
    "start": "935339",
    "end": "942800"
  },
  {
    "text": "communication will get disabled by default because each control plane will have its own root CA and yeah so once",
    "start": "942800",
    "end": "950519"
  },
  {
    "text": "peer authentication is enabled by default the cross user space or User Group communication",
    "start": "950519",
    "end": "956940"
  },
  {
    "text": "will be disabled by default and then if you want to enable it for any purpose you have to use a Gateway and then",
    "start": "956940",
    "end": "964260"
  },
  {
    "text": "enable the communication so yes for the demo we are using uh go",
    "start": "964260",
    "end": "971399"
  },
  {
    "text": "CD so I think um most of you will be familiar now because yesterday we had",
    "start": "971399",
    "end": "976860"
  },
  {
    "text": "enough collocated events for stod and Argo day also so lean was giving a",
    "start": "976860",
    "end": "982740"
  },
  {
    "text": "presentation there as well have to use ago rollouts so in this session also we",
    "start": "982740",
    "end": "987839"
  },
  {
    "text": "are using our go CD to deploy for the multi-in and applications and then we will just show how it works",
    "start": "987839",
    "end": "995880"
  },
  {
    "text": "with the example first Lynn had shown and then later with a multiple control plane example so maybe I'll just do the",
    "start": "995880",
    "end": "1003380"
  },
  {
    "text": "demo first and then we'll go to the subsequent slides yeah sounds good by the way facela has",
    "start": "1003380",
    "end": "1009380"
  },
  {
    "text": "been fasting so her voice is very soft because she hasn't drink any water since 4am today so",
    "start": "1009380",
    "end": "1017380"
  },
  {
    "text": "so for the first demo what I have planned here is istio is already running",
    "start": "1020779",
    "end": "1027260"
  },
  {
    "text": "in the cluster and I'll go CD also is there I have created an ago CD namespace",
    "start": "1027260",
    "end": "1032780"
  },
  {
    "text": "and deployed all the algo work Lots there um so and then now whatever the the",
    "start": "1032780",
    "end": "1039558"
  },
  {
    "text": "example whatever lean had shown before that's what we are going to deploy in",
    "start": "1039559",
    "end": "1044720"
  },
  {
    "text": "this cluster this is a local cluster we will deploy that as an application",
    "start": "1044720",
    "end": "1050020"
  },
  {
    "text": "so I have my I'll go UI already here",
    "start": "1052640",
    "end": "1058520"
  },
  {
    "text": "so I am going to create a new application here so you know that for ago CD",
    "start": "1058520",
    "end": "1064460"
  },
  {
    "text": "the source of Truth is a GitHub repository here so I have created a git",
    "start": "1064460",
    "end": "1069860"
  },
  {
    "text": "Ops repo with multi-10 and C manifest being here I have a single control plane",
    "start": "1069860",
    "end": "1075980"
  },
  {
    "text": "and a multiple control plane folders created here and the examples whatever",
    "start": "1075980",
    "end": "1083059"
  },
  {
    "text": "lean initially showed are here under the single control pin example in case",
    "start": "1083059",
    "end": "1088580"
  },
  {
    "text": "something is not clear for anybody it's all available publicly in in my",
    "start": "1088580",
    "end": "1094179"
  },
  {
    "text": "GitHub so you can go back and refer to the readme here and try it out for",
    "start": "1094179",
    "end": "1099440"
  },
  {
    "text": "yourself so first let's deploy the application",
    "start": "1099440",
    "end": "1105200"
  },
  {
    "text": "so I'll just name it as single control plane I'll give the sink policy as manual for",
    "start": "1105200",
    "end": "1112460"
  },
  {
    "text": "the sake of this demo and now we have to specify the repository URL from where we want to deploy the Manifest",
    "start": "1112460",
    "end": "1119360"
  },
  {
    "text": "so I'm going to by the way can you guys see very well",
    "start": "1119360",
    "end": "1125539"
  },
  {
    "text": "from the back is the size okay good",
    "start": "1125539",
    "end": "1131600"
  },
  {
    "text": "no okay maybe make it a little bit bigger Priscilla",
    "start": "1131600",
    "end": "1137240"
  },
  {
    "text": "fine thank you now it asks for the folder from word",
    "start": "1137240",
    "end": "1146679"
  },
  {
    "text": "we should deploy the Manifest so in this case I'll be specifying the single",
    "start": "1146960",
    "end": "1152000"
  },
  {
    "text": "control plane folder and then this is a local cluster and",
    "start": "1152000",
    "end": "1159020"
  },
  {
    "text": "namespace I'm not specifying here because I already have the name spaces listed down in my manifest files",
    "start": "1159020",
    "end": "1165740"
  },
  {
    "text": "and then I do not need any of these things because yeah directory request is also not needed so let's just create it",
    "start": "1165740",
    "end": "1174880"
  },
  {
    "text": "so I have given a manual sync so let me just do the initial sync",
    "start": "1175460",
    "end": "1181780"
  },
  {
    "text": "sorry if the flat yeah laptop is a bit slow but yeah now you can see the status",
    "start": "1183679",
    "end": "1190280"
  },
  {
    "text": "here let's just check my cluster",
    "start": "1190280",
    "end": "1195820"
  },
  {
    "text": "so you can see that three name spaces whatever Lynn had shown in the examples that those are created and all the",
    "start": "1197539",
    "end": "1204320"
  },
  {
    "text": "workloads are also created here and this this particular application has a UI",
    "start": "1204320",
    "end": "1210980"
  },
  {
    "text": "which we can fetch here so you can see that it says our back",
    "start": "1210980",
    "end": "1216440"
  },
  {
    "text": "axis denied so from her examples you would have seen that initially uh when",
    "start": "1216440",
    "end": "1221660"
  },
  {
    "text": "she was telling like okay you have different name spaces and then you can by default disable everything that's the",
    "start": "1221660",
    "end": "1228260"
  },
  {
    "text": "best thing to do and then one by one whatever is really needed you enable only those particular calls and allow",
    "start": "1228260",
    "end": "1236179"
  },
  {
    "text": "only those calls to go through so currently I do not have those manifests",
    "start": "1236179",
    "end": "1241760"
  },
  {
    "text": "here with export 2 and sidecar configuration so what I all have is this",
    "start": "1241760",
    "end": "1248440"
  },
  {
    "text": "authorization policy which says okay do not allow any kind of calls in all these",
    "start": "1248500",
    "end": "1255260"
  },
  {
    "text": "name spaces and then a default sidecar policy which disables all cross",
    "start": "1255260",
    "end": "1260780"
  },
  {
    "text": "namespace configuration now what I'm going to do is",
    "start": "1260780",
    "end": "1266440"
  },
  {
    "text": "maybe let's I would have committed all these things beforehand but I thought it's better to show the Argo CD way of",
    "start": "1267980",
    "end": "1274660"
  },
  {
    "text": "things so I I have this additional configuration which was there",
    "start": "1274660",
    "end": "1280640"
  },
  {
    "text": "in the example with the authorization policy and Export to and",
    "start": "1280640",
    "end": "1286039"
  },
  {
    "text": "everything which is required for this workloads or the services to communicate with each other so now let's just",
    "start": "1286039",
    "end": "1294820"
  },
  {
    "text": "commit these things to my GitHub repository",
    "start": "1294919",
    "end": "1300100"
  },
  {
    "text": "so now I have committed these additional resources here",
    "start": "1310400",
    "end": "1315980"
  },
  {
    "text": "if you see this authorization policy everything has come here and now if you go back to the Ergo cdui and do a",
    "start": "1315980",
    "end": "1323240"
  },
  {
    "text": "refresh you will see that okay the application is now out of sync so if you go here",
    "start": "1323240",
    "end": "1328880"
  },
  {
    "text": "you'll see that okay there are several new things which have been committed to the GitHub repository which are not",
    "start": "1328880",
    "end": "1335240"
  },
  {
    "text": "other in my cluster and it's saying that it sync is needed so what will do is",
    "start": "1335240",
    "end": "1341480"
  },
  {
    "text": "we'll just do a sink and now yes everything the new resources",
    "start": "1341480",
    "end": "1348140"
  },
  {
    "text": "are created in the cluster and everything is synced properly and then let's see if now it",
    "start": "1348140",
    "end": "1354559"
  },
  {
    "text": "yes now what you can see is this is just a very basic application which shows you",
    "start": "1354559",
    "end": "1361400"
  },
  {
    "text": "the service invocation so you can see that the web API is calling the recommendation service and then",
    "start": "1361400",
    "end": "1367580"
  },
  {
    "text": "recommendation service is calling the purchase history service now uh with all",
    "start": "1367580",
    "end": "1372620"
  },
  {
    "text": "this new additional resources which were created maybe I can just show you one example of one authorization policy",
    "start": "1372620",
    "end": "1379640"
  },
  {
    "text": "which says from which source what operation is",
    "start": "1379640",
    "end": "1385880"
  },
  {
    "text": "allowed and similarly so so similarly we are one by one allowing is explicit",
    "start": "1385880",
    "end": "1392600"
  },
  {
    "text": "calls to be going through and then that makes the whole application work fine",
    "start": "1392600",
    "end": "1398360"
  },
  {
    "text": "even though it might be different teams who are managing the different workloads we are making sure that by default",
    "start": "1398360",
    "end": "1405200"
  },
  {
    "text": "everything is disabled and then securely we are making sure that only what is",
    "start": "1405200",
    "end": "1410299"
  },
  {
    "text": "needed is allowed so that was the first demo and now for the multiple control",
    "start": "1410299",
    "end": "1416659"
  },
  {
    "text": "planes part probably I just need to delete this one",
    "start": "1416659",
    "end": "1422320"
  },
  {
    "text": "but it takes a little bit of time to get this deleted and then once this is",
    "start": "1423380",
    "end": "1428840"
  },
  {
    "text": "deleted this time what we are going to do is uh we will use uh the Argo CD UI itself to",
    "start": "1428840",
    "end": "1435500"
  },
  {
    "text": "deploy both the control plane and the applications so before that uh since",
    "start": "1435500",
    "end": "1441080"
  },
  {
    "text": "previously I had directly installed it's still here",
    "start": "1441080",
    "end": "1448520"
  },
  {
    "text": "I'll just clean it up so if you can see here that I do not",
    "start": "1448520",
    "end": "1453980"
  },
  {
    "text": "have any additional name spaces everything that was created for the first example are cleaned up and now I'm",
    "start": "1453980",
    "end": "1459919"
  },
  {
    "text": "going to create a new multiple control plane application",
    "start": "1459919",
    "end": "1465980"
  },
  {
    "text": "I hope you have still time yeah",
    "start": "1466039",
    "end": "1471080"
  },
  {
    "text": "okay okay so let's again",
    "start": "1471080",
    "end": "1477799"
  },
  {
    "text": "take the GitHub repository URL",
    "start": "1477799",
    "end": "1484600"
  },
  {
    "text": "now this time the path is different that's for the multiple control plane and I'm going to deploy it as two",
    "start": "1484880",
    "end": "1490640"
  },
  {
    "text": "applications because um yeah I want to make sure that the the dependency part is taken care we need",
    "start": "1490640",
    "end": "1498140"
  },
  {
    "text": "the istio control clean to be available before we deploy the applications yes",
    "start": "1498140",
    "end": "1503659"
  },
  {
    "text": "ago CD has mechanisms to order things but I do not have it in the demo yet so",
    "start": "1503659",
    "end": "1509360"
  },
  {
    "text": "let's just do it this way",
    "start": "1509360",
    "end": "1512679"
  },
  {
    "text": "so I'll first deploy the control plane I'll do the initial sync because the",
    "start": "1514580",
    "end": "1521419"
  },
  {
    "text": "sync policy was manual and now this is going to deploy to istio",
    "start": "1521419",
    "end": "1527299"
  },
  {
    "text": "control planes in the same cluster and then maybe let's just go and check",
    "start": "1527299",
    "end": "1533600"
  },
  {
    "text": "if it created so what I have done in the deployment manifest is I'm creating two namespaces tenant 1 and 10 and 2 and",
    "start": "1533600",
    "end": "1542120"
  },
  {
    "text": "then this is a system name space where you will have istio-d deployed",
    "start": "1542120",
    "end": "1549080"
  },
  {
    "text": "so you you can see that there are two istioids running in the same cluster one under tenant one namespace and one",
    "start": "1549080",
    "end": "1555620"
  },
  {
    "text": "underton and two namespace we do not have any applications yet so we can create the application as a separate",
    "start": "1555620",
    "end": "1564559"
  },
  {
    "text": "I think it's yeah it's just",
    "start": "1564559",
    "end": "1570380"
  },
  {
    "text": "trying to check the health of the system",
    "start": "1570380",
    "end": "1574419"
  },
  {
    "text": "but maybe we can just start creating the application",
    "start": "1577220",
    "end": "1582100"
  },
  {
    "text": "actually we do not have to do with this like this manually every time from the",
    "start": "1589460",
    "end": "1594679"
  },
  {
    "text": "UI Argo CD allows you to specify this in a yaml file and we can do it in one shot",
    "start": "1594679",
    "end": "1600919"
  },
  {
    "text": "but I felt it's better to use the UI like this and then show",
    "start": "1600919",
    "end": "1607179"
  },
  {
    "text": "so I'm going to use the applications folder now I have the same application",
    "start": "1612440",
    "end": "1617480"
  },
  {
    "text": "whatever was shown in the diagram before where we had the two tenants and then",
    "start": "1617480",
    "end": "1623179"
  },
  {
    "text": "three app name spaces one app name space are managed by one tenant and the two",
    "start": "1623179",
    "end": "1628400"
  },
  {
    "text": "other app name spaces managed by a different tenant",
    "start": "1628400",
    "end": "1633820"
  },
  {
    "text": "so I'm just thinking the apps now if you see here now",
    "start": "1640039",
    "end": "1646100"
  },
  {
    "text": "you can see that yes these three app name spaces are created app and S1 to",
    "start": "1646100",
    "end": "1651919"
  },
  {
    "text": "app ns3 and uh for this demo we are just using very basic sleep and HTTP bin",
    "start": "1651919",
    "end": "1658159"
  },
  {
    "text": "ports under each of these happening spaces before checking that we can we can use this istiocattle",
    "start": "1658159",
    "end": "1664400"
  },
  {
    "text": "PS proxy status Commander to see which system namespace manages which",
    "start": "1664400",
    "end": "1671539"
  },
  {
    "text": "application workload and you can see that tenant one is managing this HTTP",
    "start": "1671539",
    "end": "1677000"
  },
  {
    "text": "bin and sleep pods which are there in the app ns1 and the Tenant 2 stod is",
    "start": "1677000",
    "end": "1684980"
  },
  {
    "text": "managing the applications in app ns2 and app ns3 so that's what basically we",
    "start": "1684980",
    "end": "1690740"
  },
  {
    "text": "wanted we wanted to isolate the application workloads from each other based on their tenants and then that's",
    "start": "1690740",
    "end": "1698960"
  },
  {
    "text": "how the applications are already deployed so to check if it is working fine",
    "start": "1698960",
    "end": "1706640"
  },
  {
    "text": "here yeah I have it already in the readme here if you if you guys want you can go back to read this I'll just use",
    "start": "1706640",
    "end": "1713539"
  },
  {
    "text": "this curl command from here um let's just see so what I'm going to try",
    "start": "1713539",
    "end": "1720980"
  },
  {
    "text": "here is from the application name space one from the Sleep part I'm trying to",
    "start": "1720980",
    "end": "1727100"
  },
  {
    "text": "communicate to the HTTP bin Port under the application namespace 2. if you",
    "start": "1727100",
    "end": "1732919"
  },
  {
    "text": "remember the initial model app and S1 and app ns2 are under different namespaces",
    "start": "1732919",
    "end": "1739340"
  },
  {
    "text": "so if you try to communicate you will get the service unavailable because it doesn't know about app ns2",
    "start": "1739340",
    "end": "1745820"
  },
  {
    "text": "and now app ns2 and app ns3 are actually in the same under the same channel so if",
    "start": "1745820",
    "end": "1752419"
  },
  {
    "text": "you try to communicate from app ns3 to app ns2 here",
    "start": "1752419",
    "end": "1757820"
  },
  {
    "text": "that should go through so that so now if you can see here it",
    "start": "1757820",
    "end": "1763880"
  },
  {
    "text": "was just the initialist theod configuration the historical install or whatever you just had your mesh config",
    "start": "1763880",
    "end": "1771380"
  },
  {
    "text": "with Discovery selectors and revisions and then by default you are getting all these things done and none of your",
    "start": "1771380",
    "end": "1777919"
  },
  {
    "text": "configurations are leaked to other name spaces until and unless the workloads",
    "start": "1777919",
    "end": "1783559"
  },
  {
    "text": "are under the same name space so that's what we wanted to show in the demo uh",
    "start": "1783559",
    "end": "1788720"
  },
  {
    "text": "the demo material is all available in the public GitHub you can use that I have put the references in the",
    "start": "1788720",
    "end": "1796039"
  },
  {
    "text": "yeah on the slides towards the end as well now Lynn will again talk about the",
    "start": "1796039",
    "end": "1803899"
  },
  {
    "text": "other different deployment models which are possible and with multi-tenancy",
    "start": "1803899",
    "end": "1808940"
  },
  {
    "text": "yeah thank you thank you facila that's a great demo you did awesome to see it",
    "start": "1808940",
    "end": "1814100"
  },
  {
    "text": "actually works so just to summarize uh multi-tenancy service mesh with a single",
    "start": "1814100",
    "end": "1821840"
  },
  {
    "text": "uh istio service mesh you could have multiple teams uh this is with single",
    "start": "1821840",
    "end": "1828080"
  },
  {
    "text": "route of trust you can run multiple teams within the single cluster you can",
    "start": "1828080",
    "end": "1834200"
  },
  {
    "text": "also run multiple teams across different clusters different network across",
    "start": "1834200",
    "end": "1840320"
  },
  {
    "text": "different virtual machines the the difference though is if you do have to",
    "start": "1840320",
    "end": "1845360"
  },
  {
    "text": "call services across different networks different cluster most likely you would",
    "start": "1845360",
    "end": "1850520"
  },
  {
    "text": "have to go through a Gateway like this diagram shows for cross Network traffic",
    "start": "1850520",
    "end": "1857260"
  },
  {
    "text": "you can also run multiple SEO wasting a",
    "start": "1857260",
    "end": "1862520"
  },
  {
    "text": "single cluster like facility her second demo in this case though because the",
    "start": "1862520",
    "end": "1867919"
  },
  {
    "text": "service are from the attendant a could not call the service in tenant B",
    "start": "1867919",
    "end": "1873140"
  },
  {
    "text": "directly which is the 503 she showed it would have to go through a Gateway you",
    "start": "1873140",
    "end": "1879020"
  },
  {
    "text": "could potentially run this in multi-cluster to the each cluster has its own as its own tenancy the key",
    "start": "1879020",
    "end": "1887240"
  },
  {
    "text": "difference in here though is each cluster each icod would have its own",
    "start": "1887240",
    "end": "1892940"
  },
  {
    "text": "route of trust which is exactly why the communication doesn't allow to even",
    "start": "1892940",
    "end": "1899179"
  },
  {
    "text": "though there may be no connectivity but because they're on different route of trust it wouldn't allow just to really",
    "start": "1899179",
    "end": "1906620"
  },
  {
    "text": "summarize the different models we go through so as solo most of our customers",
    "start": "1906620",
    "end": "1912080"
  },
  {
    "text": "are using the first model which is the native SEO support and it's the battle test and deployed in most uh deployment",
    "start": "1912080",
    "end": "1920320"
  },
  {
    "text": "issue deployment in production which is a single mesh whether you are running",
    "start": "1920320",
    "end": "1925820"
  },
  {
    "text": "single or multiple cluster in this month though it has a lot of advantages the",
    "start": "1925820",
    "end": "1932360"
  },
  {
    "text": "only thing is there's a export to you you know there is the psychi resource",
    "start": "1932360",
    "end": "1937760"
  },
  {
    "text": "you have to make sure you are config nodes properly and it's also single root",
    "start": "1937760",
    "end": "1943220"
  },
  {
    "text": "of trust if that meets your requirements which for typical org it probably meets",
    "start": "1943220",
    "end": "1948260"
  },
  {
    "text": "your requirement so it's a it's very it's very important in this model and",
    "start": "1948260",
    "end": "1953899"
  },
  {
    "text": "saves resource I believe Priscilla you guys are using multiple mesh single or",
    "start": "1953899",
    "end": "1959299"
  },
  {
    "text": "multi-class",
    "start": "1959299",
    "end": "1961898"
  },
  {
    "text": "yeah Okay so already explained about this multiple",
    "start": "1965659",
    "end": "1971720"
  },
  {
    "text": "mesh single cluster part so with all these recent enhancements it's readily",
    "start": "1971720",
    "end": "1976820"
  },
  {
    "text": "configurable using the revisions feature and the discovery selectors so you get a unique root CA pattern and so you have",
    "start": "1976820",
    "end": "1983960"
  },
  {
    "text": "identity isolation and it aligns well with the default istio model of you know",
    "start": "1983960",
    "end": "1989659"
  },
  {
    "text": "single mesh per istio control plane so things are easy to Envision and when you",
    "start": "1989659",
    "end": "1997279"
  },
  {
    "text": "are doing the deployment it's it's very easy that you you will not make mistakes like the first case were careful",
    "start": "1997279",
    "end": "2004600"
  },
  {
    "text": "additional configures needed to make sure that nothing is leaked across the namespaces so so that problem is not",
    "start": "2004600",
    "end": "2011200"
  },
  {
    "text": "going to happen here and if there are cases where separate diversions or for example if there are",
    "start": "2011200",
    "end": "2018519"
  },
  {
    "text": "multiple applications and they need they have different requirements for the service mesh if they want separate",
    "start": "2018519",
    "end": "2024340"
  },
  {
    "text": "versions or separate life cycle management that becomes possible with this model but of course you you're",
    "start": "2024340",
    "end": "2030460"
  },
  {
    "text": "going to run multiple control planes so that means more resource consumption compared to the single control plane and",
    "start": "2030460",
    "end": "2037539"
  },
  {
    "text": "yes multiple mesh multiple clusters yeah one last thing we want to highlight",
    "start": "2037539",
    "end": "2043000"
  },
  {
    "text": "is you can actually run mixed multi-tenancy model right it really depends on your requirements your",
    "start": "2043000",
    "end": "2049658"
  },
  {
    "text": "particularly regarding like isolation and Trust requirements for for your organization",
    "start": "2049659",
    "end": "2056980"
  },
  {
    "text": "so if a single route of trust works well you could potentially run that on some",
    "start": "2056980",
    "end": "2062440"
  },
  {
    "text": "of your cluster and then also run a different route of trust as what",
    "start": "2062440",
    "end": "2067540"
  },
  {
    "text": "Priscilla showed in a separate cluster with that I think we are pretty much",
    "start": "2067540",
    "end": "2073960"
  },
  {
    "text": "running out of time sorry it took a little bit long but I think we may have time for one questions does anyone have",
    "start": "2073960",
    "end": "2081040"
  },
  {
    "text": "a question and all this the references will show everything that was done",
    "start": "2081040",
    "end": "2086200"
  },
  {
    "text": "during the demo and even this is already documented in this your documentation so",
    "start": "2086200",
    "end": "2091720"
  },
  {
    "text": "please feel free to explore this documentation to see to understand it better",
    "start": "2091720",
    "end": "2097300"
  },
  {
    "text": "yeah thank you so much for joining us on this session",
    "start": "2097300",
    "end": "2103320"
  },
  {
    "text": "we will be here to answer questions so I will be here for the next 10-15 minutes",
    "start": "2105760",
    "end": "2111099"
  },
  {
    "text": "if you have any questions thank you all and enjoy Amsterdam [Applause]",
    "start": "2111099",
    "end": "2118949"
  }
]