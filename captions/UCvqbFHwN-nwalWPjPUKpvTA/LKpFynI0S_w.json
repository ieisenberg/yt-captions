[
  {
    "start": "0",
    "end": "36000"
  },
  {
    "text": "hello welcome to kubecon um we're here today to talk about um",
    "start": "2000",
    "end": "7520"
  },
  {
    "text": "notary v2 redesigning the secure supply chain for containers um it's me and steve here um and",
    "start": "7520",
    "end": "15440"
  },
  {
    "text": "i'm not here unfortunately but uh hey well it's a virtual conference so omar is even more versatile he's probably",
    "start": "15440",
    "end": "21119"
  },
  {
    "text": "actually here while you're doing this but not well anyway um anyway it's uh it's great to be here",
    "start": "21119",
    "end": "27359"
  },
  {
    "text": "and um let's um let's get let's get started um",
    "start": "27359",
    "end": "35040"
  },
  {
    "text": "uh who are you who are we indeed um i'm justin cormack i'm an engineer at",
    "start": "35040",
    "end": "40879"
  },
  {
    "start": "36000",
    "end": "36000"
  },
  {
    "text": "docker i'm also a naturally maintainer and a member of the cncf technical oversight",
    "start": "40879",
    "end": "46320"
  },
  {
    "text": "committee i work a lot with um security and cnc so i'm really interested in all the",
    "start": "46320",
    "end": "51360"
  },
  {
    "text": "bits of how security fits in with containers but i'm also i've been working for you know for five",
    "start": "51360",
    "end": "57600"
  },
  {
    "text": "years now at docker i've been very much embedded in the whole how do we do containers how do we make them better space",
    "start": "57600",
    "end": "64799"
  },
  {
    "text": "every container has a bit adjusted in it so uh i'm steve lasker i work at microsoft",
    "start": "64799",
    "end": "71680"
  },
  {
    "text": "on the azure container registries for acr and mcr um i work a because of that because",
    "start": "71680",
    "end": "77920"
  },
  {
    "text": "registries are this source of all you know cloud computing at this point i get involved a lot of the end-to-end workflows",
    "start": "77920",
    "end": "84240"
  },
  {
    "text": "including security and as part of that i work a lot with the community and the oci",
    "start": "84240",
    "end": "89439"
  },
  {
    "text": "technical oversight board for things like notary um as well as",
    "start": "89439",
    "end": "94880"
  },
  {
    "text": "artifacts and other things that we do under oci so it's very fun to be able to continue to work on",
    "start": "94880",
    "end": "101040"
  },
  {
    "text": "this with justin and others and i'm i'm always a product manager with um",
    "start": "101040",
    "end": "106240"
  },
  {
    "text": "registry ecr registry at amazon so he's also really heavily involved in the whole registry and container ecosystem so it's",
    "start": "106240",
    "end": "113680"
  },
  {
    "text": "a it's a good team we've got um just to frame this this is really about supply chain",
    "start": "113680",
    "end": "119920"
  },
  {
    "text": "security um and why it's important um the way i like to tell the supply",
    "start": "119920",
    "end": "126240"
  },
  {
    "start": "123000",
    "end": "123000"
  },
  {
    "text": "chain security story is back in in the good old days before the whole",
    "start": "126240",
    "end": "131360"
  },
  {
    "text": "cloud thing happened you had things like hardware firewalls and actual cables you plugged in and you",
    "start": "131360",
    "end": "137200"
  },
  {
    "text": "knew that if the computer was plugged into this cable it would get this network and straightforward things like that",
    "start": "137200",
    "end": "143040"
  },
  {
    "text": "but everything is software now um and if an attacker can just modify your software you can change",
    "start": "143040",
    "end": "149360"
  },
  {
    "text": "absolutely anything to do with the infrastructure and connect the computer to a different computer rewire things",
    "start": "149360",
    "end": "155760"
  },
  {
    "text": "rewire networks rewire connections rewire tls certificates rework you know change absolutely everything",
    "start": "155760",
    "end": "162959"
  },
  {
    "text": "and so your code suddenly starts to really matter and it really matters that the right code gets into production and",
    "start": "162959",
    "end": "169920"
  },
  {
    "text": "someone hasn't come along and made any modifications to it and that your code's got you know security checks in it and that you",
    "start": "169920",
    "end": "176400"
  },
  {
    "text": "understand how everything gets from source code into production and make sure the right",
    "start": "176400",
    "end": "182159"
  },
  {
    "text": "bits get into production um supply chain attacks have been growing",
    "start": "182159",
    "end": "187440"
  },
  {
    "text": "um not petro is a famous one from 2018 caused billions in damage",
    "start": "187440",
    "end": "193280"
  },
  {
    "text": "you know brought down a lot of companies um a supply chain attack um indirectly via",
    "start": "193280",
    "end": "200080"
  },
  {
    "text": "a um you know a ukrainian a piece of accounting software i mean um probably a state level attack you",
    "start": "200080",
    "end": "207200"
  },
  {
    "text": "know these things are important and so we want these we want protections against these in the container ecosystem because like more and more",
    "start": "207200",
    "end": "214000"
  },
  {
    "text": "people are shipping more millions of things with containers and this becomes really important",
    "start": "214000",
    "end": "219519"
  },
  {
    "text": "i mean containers are effectively becoming the next virtualization stack we keep on moving up the stack from you know physical",
    "start": "219519",
    "end": "225360"
  },
  {
    "text": "machines to virtual machines and this is just the next way to get best first better virtualization",
    "start": "225360",
    "end": "232080"
  },
  {
    "text": "it's got to be secure yeah and and actually in many ways we have opportunities to build better practices",
    "start": "232080",
    "end": "238159"
  },
  {
    "text": "than with vms i think that's what's one of the exciting things background not only is it in a way i mean like",
    "start": "238159",
    "end": "243439"
  },
  {
    "text": "there are potential risks because everything's software but actually the fact that everything software means it's more mutable",
    "start": "243439",
    "end": "249120"
  },
  {
    "text": "there's a lot we can do the artifacts are more manageable we've got a better ecosystem around them than vm's ever",
    "start": "249120",
    "end": "255200"
  },
  {
    "text": "ever did so i think there's there's a real opportunity to do this really really well with containers and that's what's really",
    "start": "255200",
    "end": "260639"
  },
  {
    "text": "exciting about the containers not the fact it's a container is the fact that we can build better infrastructure",
    "start": "260639",
    "end": "265680"
  },
  {
    "text": "around these things um then a bit of history about no this",
    "start": "265680",
    "end": "271840"
  },
  {
    "text": "is notary v2 how did notary v1 start where where were we um notary v1 was an implementation of",
    "start": "271840",
    "end": "280320"
  },
  {
    "start": "275000",
    "end": "275000"
  },
  {
    "text": "the update framework which is a um kind of cool name um usually known as tough uh to its",
    "start": "280320",
    "end": "285840"
  },
  {
    "text": "friends um as the update framework adapted to containers um it is appropriate it came out of nyu",
    "start": "285840",
    "end": "293360"
  },
  {
    "text": "you know it's new york tough you are you you know the new york's tough cmd",
    "start": "293360",
    "end": "299840"
  },
  {
    "text": "um it was based originally around the security problem of linux package repos such as apt or more generally",
    "start": "301199",
    "end": "309120"
  },
  {
    "text": "language package repo such as npm but it was originally um the work came out of studying what went wrong with um",
    "start": "309120",
    "end": "314720"
  },
  {
    "text": "you know your package manager um turned out there was a bunch of security issues um serving up fake packages and claiming",
    "start": "314720",
    "end": "322720"
  },
  {
    "text": "that your package is nginx when it's not serving up replay attacks having an old package and saying it's a new one",
    "start": "322720",
    "end": "329520"
  },
  {
    "text": "um just deleting packages from mirrors and saying that there aren't any updates this package to keep people on an",
    "start": "329520",
    "end": "335759"
  },
  {
    "text": "insecure version uh changing dependencies between packages uh mixing matching differences",
    "start": "335759",
    "end": "341919"
  },
  {
    "text": "and and so on so there's a whole set of papers around what these threats were and so the idea was to kind",
    "start": "341919",
    "end": "349680"
  },
  {
    "start": "349000",
    "end": "349000"
  },
  {
    "text": "of um take these take these ideas and models and apply them to containers was the original idea",
    "start": "349680",
    "end": "356080"
  },
  {
    "text": "was originally a docker project um and um back in 2015",
    "start": "356080",
    "end": "362880"
  },
  {
    "text": "and um we worked at darker with the nyu people who had invented tough and",
    "start": "362880",
    "end": "368560"
  },
  {
    "text": "um let's join cncf in 2017 as one of the um one of the quite early projects in",
    "start": "368560",
    "end": "374000"
  },
  {
    "text": "cncf along with the tough specification itself which is also a cncf project um",
    "start": "374000",
    "end": "381039"
  },
  {
    "text": "but there was a kind of a bunch of issues i think um 2015 was an awful long time ago in the la in",
    "start": "381039",
    "end": "386880"
  },
  {
    "text": "the world of containers um that was back when basically when i started",
    "start": "386880",
    "end": "392160"
  },
  {
    "text": "working in this space actually was not involved with this originally it just been launched when i joined docker i",
    "start": "392160",
    "end": "397360"
  },
  {
    "text": "think um my first dockercon was in barcelona and i think that's where the launch was",
    "start": "397360",
    "end": "402880"
  },
  {
    "text": "if i remember i think it's that one yeah um we gave everyone yubikeys for signing their containers um",
    "start": "402880",
    "end": "410400"
  },
  {
    "text": "under the prize i think i still have mine",
    "start": "410400",
    "end": "415280"
  },
  {
    "text": "um but back then containers in production were really new we didn't really know what all the issues were",
    "start": "415840",
    "end": "421599"
  },
  {
    "text": "we didn't have a kind of feel for exactly what the workflows were going to be um like you know the whole",
    "start": "421599",
    "end": "429520"
  },
  {
    "text": "way that people actually work with containers was still in flux i think there was a bunch of",
    "start": "429520",
    "end": "434960"
  },
  {
    "text": "design mistakes we'll talk about some of them in a minute but now the security needs are really really important and getting this",
    "start": "434960",
    "end": "440639"
  },
  {
    "text": "absolutely right is important and you know we've had time to reflect on what the best practices",
    "start": "440639",
    "end": "446560"
  },
  {
    "text": "are and where we're going with containers and where we want to be in the next five years",
    "start": "446560",
    "end": "452560"
  },
  {
    "start": "452000",
    "end": "452000"
  },
  {
    "text": "um a bunch of issues to fix are they um the first one really is that",
    "start": "452560",
    "end": "460960"
  },
  {
    "text": "um notary was added as a side car you know not not not sidecar and they",
    "start": "460960",
    "end": "466400"
  },
  {
    "text": "can in the exactly container sense but it runs on the side of a registry it basically has its own database",
    "start": "466400",
    "end": "472000"
  },
  {
    "text": "its own server and that was quite good for just shipping it",
    "start": "472000",
    "end": "477599"
  },
  {
    "text": "without um modifying stuff and without changing stuff but it's actually um we've really developed since then a",
    "start": "477599",
    "end": "484879"
  },
  {
    "text": "kind of whole registry native ecosystem i mean steve you can talk more about that you've been involved a lot of that recently as well",
    "start": "484879",
    "end": "490960"
  },
  {
    "text": "haven't you yeah i mean it's just the the there was so much value in the work that was done in registries and the abstraction models",
    "start": "490960",
    "end": "497840"
  },
  {
    "text": "that um when we started looking at other artifacts that we needed to manage in deployment",
    "start": "497840",
    "end": "503199"
  },
  {
    "text": "such as helm and you know we we started this project as to how to kind of stuff it in uh that the more we",
    "start": "503199",
    "end": "509919"
  },
  {
    "text": "were doing that you know singularity came up say hey we'd also like to use a registry uh cnab was starting um there were some",
    "start": "509919",
    "end": "517760"
  },
  {
    "text": "questions around terraform and others and be like can we just leverage this common infrastructure so that it works across",
    "start": "517760",
    "end": "524080"
  },
  {
    "text": "all clouds because we can't really ask the helm team to build a helm cli that's unique to azure it needs to work",
    "start": "524080",
    "end": "530880"
  },
  {
    "text": "across all registries so we went down this oci artifacts approach and what was really nice about",
    "start": "530880",
    "end": "536240"
  },
  {
    "text": "that is just there's so many things that we can now leverage that you know global production resilient",
    "start": "536240",
    "end": "541680"
  },
  {
    "text": "infrastructure including putting signatures in and you know where we talk about the side car",
    "start": "541680",
    "end": "547200"
  },
  {
    "text": "like who cares about the implementation details the problem is is that was leaking out and if i pulled an image without notary",
    "start": "547200",
    "end": "555600"
  },
  {
    "text": "enabled i would get one set of you know artifacts images at the time and if i turned it on",
    "start": "555600",
    "end": "561120"
  },
  {
    "text": "i get a different one so it just created this very end user poor experience and one of the",
    "start": "561120",
    "end": "568560"
  },
  {
    "text": "biggest problems of you couldn't actually move the signatures from one registry to another that's kind of one of the key",
    "start": "568560",
    "end": "575519"
  },
  {
    "text": "scenarios we see is i have a pub something that's on some public registry i need to bring it in my",
    "start": "575519",
    "end": "580880"
  },
  {
    "text": "private registry so i have control over you know that content whether it be v-nets or making sure that",
    "start": "580880",
    "end": "586720"
  },
  {
    "text": "nothing changes on me um if the signature doesn't move how do i prove that this thing that i've got in my",
    "start": "586720",
    "end": "592480"
  },
  {
    "text": "private registry is the same thing it wasn't originally so those were some of the key problems that we just had to overcome to make",
    "start": "592480",
    "end": "598640"
  },
  {
    "text": "this thing usable it just so happens that the artifacts approach allows us to do that because if every major registry supports",
    "start": "598640",
    "end": "605839"
  },
  {
    "text": "artifacts then we'll be able to support signatures as well and it is so in addition to that being i",
    "start": "605839",
    "end": "611760"
  },
  {
    "text": "mean i think in a way that's been our number one requirement the way through but i think um there's a whole bunch of requirements",
    "start": "611760",
    "end": "618320"
  },
  {
    "text": "are really important about usability and usage we've we haven't had a lot of people using notary v1 we've had a lot of complaints",
    "start": "618320",
    "end": "625279"
  },
  {
    "text": "about usability issues with it and um i think i put a separate thing about observability and understandability and",
    "start": "625279",
    "end": "632000"
  },
  {
    "text": "debugging these are kind of related though it's difficult to see um what the state of the world is what",
    "start": "632000",
    "end": "637920"
  },
  {
    "text": "the um the clients are not very good at telling you um",
    "start": "637920",
    "end": "643120"
  },
  {
    "text": "what the signatures that there are there are and why um for example why it's complaining you",
    "start": "643120",
    "end": "650240"
  },
  {
    "text": "can't sign something um and if you know if things go wrong it's very",
    "start": "650240",
    "end": "656240"
  },
  {
    "text": "difficult to debug the state of the world because the tooling's really not um not very",
    "start": "656240",
    "end": "661519"
  },
  {
    "text": "good from this point of view and in particular um there's a kind of um",
    "start": "661519",
    "end": "668640"
  },
  {
    "text": "there's a tendency to fail if it to fail closed which is the right thing",
    "start": "668640",
    "end": "674240"
  },
  {
    "text": "to do when some signature check fails but that actually means it's hard to see it doesn't give you a good explanation",
    "start": "674240",
    "end": "680320"
  },
  {
    "text": "of why that happened which is really makes it very difficult for people to see what's going on because if something",
    "start": "680320",
    "end": "686880"
  },
  {
    "text": "something has expired so it doesn't check something else which you're expecting it check and you don't know what's gone wrong so you don't know how",
    "start": "686880",
    "end": "692160"
  },
  {
    "text": "to remediate um and the security model is not widely",
    "start": "692160",
    "end": "697600"
  },
  {
    "text": "understood which i think is is a partly an explanation problem and partly",
    "start": "697600",
    "end": "703120"
  },
  {
    "text": "um i think people's marvel in their heads of what actually",
    "start": "703120",
    "end": "708880"
  },
  {
    "text": "signing is for uh not very clear and i think we need to explain that clearly more clearly but there's also",
    "start": "708880",
    "end": "715120"
  },
  {
    "text": "some fundamental security issues that um really are not addressing this this tofu one",
    "start": "715120",
    "end": "721040"
  },
  {
    "text": "it's not about the food stuff it's basically trust on first use and um part of the model with notary",
    "start": "721040",
    "end": "727920"
  },
  {
    "text": "v1 as used i'm just it's not actually a requirement of notary it's a requirement of all but of",
    "start": "727920",
    "end": "733120"
  },
  {
    "text": "the docker docker trust implementation in particular but it's also the way effectively the",
    "start": "733120",
    "end": "739360"
  },
  {
    "text": "only implementation so it's kind of um the way it is used is that um",
    "start": "739360",
    "end": "745279"
  },
  {
    "text": "when you pull a container it'll pull the signatures and check them the first time in the same way as ssh",
    "start": "745279",
    "end": "750480"
  },
  {
    "text": "does and it says do you want effectively necessary says do you want to use this host key but for containers this doesn't work",
    "start": "750480",
    "end": "757680"
  },
  {
    "text": "very well because a lot of times you're pulling a container it's basically it's a it's an ephemeral server it's",
    "start": "757680",
    "end": "764000"
  },
  {
    "text": "always first use and so um and that is something that's changed a lot right since when",
    "start": "764000",
    "end": "770320"
  },
  {
    "text": "when we docker first started this project years ago we didn't really think about the serverless kind of model where",
    "start": "770320",
    "end": "776560"
  },
  {
    "text": "every time a container is pulled it's a clean pristine environment that the clouds kind of hand you so you only pay",
    "start": "776560",
    "end": "782320"
  },
  {
    "text": "for what you use we were very focused on you know vms would come up and they'd have lots of cached images",
    "start": "782320",
    "end": "788480"
  },
  {
    "text": "and that was okay you kind of built up some state but we we're now building to this ephemeral",
    "start": "788480",
    "end": "794000"
  },
  {
    "text": "client model where every time wherever the containers run it's like brand new yeah that becomes a",
    "start": "794000",
    "end": "800160"
  },
  {
    "text": "challenge and people are actually doing this for security reasons because having clean starts is actually a good way of keep",
    "start": "800160",
    "end": "806880"
  },
  {
    "text": "making sure that everything's refreshed attackers are out all those things so there's actually good i mean i think the",
    "start": "806880",
    "end": "812399"
  },
  {
    "text": "ephemeral thing is actually one of the great things we've actually managed to do and that's good but it",
    "start": "812399",
    "end": "818000"
  },
  {
    "text": "basically does affect security models of things that assume long-term state and we have to adapt to",
    "start": "818000",
    "end": "823760"
  },
  {
    "text": "that model so how we're getting there with v2",
    "start": "823760",
    "end": "830480"
  },
  {
    "text": "um we started uh really at kubecon um a year ago um originally we had a",
    "start": "831120",
    "end": "838160"
  },
  {
    "text": "meeting with docker on amazon and microsoft um on the on the side in san diego on one",
    "start": "838160",
    "end": "844079"
  },
  {
    "text": "of those rainy days in rainy san diego um but um and then we had a series of",
    "start": "844079",
    "end": "850800"
  },
  {
    "text": "meetings back when you could have meetings um in seattle over in december and january i think uh",
    "start": "850800",
    "end": "857440"
  },
  {
    "text": "february even though i think we had we had a few meetings in person which was actually",
    "start": "857440",
    "end": "862639"
  },
  {
    "text": "uh really great um uh lots of people involved nyu with the people who've been working",
    "start": "862639",
    "end": "868639"
  },
  {
    "text": "on tough um ibm red hat vmware loads more jfrog",
    "start": "868639",
    "end": "873760"
  },
  {
    "text": "um all sorts of other people have been involved so it's a very broad harbor yes yes",
    "start": "873760",
    "end": "882480"
  },
  {
    "text": "multiple parts of vmware um so it's been a really great um community thing coming together",
    "start": "882560",
    "end": "889120"
  },
  {
    "text": "to um to really work out as a community what everyone wants",
    "start": "889120",
    "end": "894639"
  },
  {
    "text": "um we had hoped it would finish sooner um i think growing consensus is actually",
    "start": "894639",
    "end": "900880"
  },
  {
    "text": "really difficult especially for i mean things like signing and supply chain security are complicated",
    "start": "900880",
    "end": "907279"
  },
  {
    "text": "and um and trying to uh get everyone aligned",
    "start": "907279",
    "end": "912560"
  },
  {
    "text": "with understanding what each other's problems are and what the kinds of solutions that we",
    "start": "912560",
    "end": "919040"
  },
  {
    "text": "want to explore are and why things are not working now was actually really complicated and",
    "start": "919040",
    "end": "925360"
  },
  {
    "text": "i think that um that that did take a long time",
    "start": "925360",
    "end": "930639"
  },
  {
    "text": "i think we were a bit slowed down by the covet thing and um and just you know generally um",
    "start": "930639",
    "end": "939040"
  },
  {
    "text": "um i mean i think we are we are making progress now i'm kind of pleased with the progress we've made in the last few months but it's",
    "start": "939040",
    "end": "944240"
  },
  {
    "text": "i think it's um it's always you can always be optimistic and think that things will happen fast but it's",
    "start": "944240",
    "end": "950560"
  },
  {
    "text": "just difficult sometimes you know it's just um and we just blame everything over in",
    "start": "950560",
    "end": "956480"
  },
  {
    "text": "2020. we just want to get past 2020 as fast as possible i mean we do want to get this right we",
    "start": "956480",
    "end": "961920"
  },
  {
    "text": "don't and we want to lay down a framework that everyone's happy with and we don't",
    "start": "961920",
    "end": "966959"
  },
  {
    "text": "want the community to fragment because we don't want people saying this doesn't work for us we're just going to",
    "start": "966959",
    "end": "972160"
  },
  {
    "text": "do something else we want one solution that works for everyone's use cases and so",
    "start": "972160",
    "end": "977519"
  },
  {
    "text": "we've been very inclusive and try to try to get as many people in as possible who are doing things now or got interest",
    "start": "977519",
    "end": "984480"
  },
  {
    "text": "because it really i think having everyone doing the same thing and having interoperable tools is really really",
    "start": "984480",
    "end": "990639"
  },
  {
    "text": "important here i mean if an image can't move between clouds and between registries",
    "start": "990639",
    "end": "996000"
  },
  {
    "text": "on-prem different clouds and so forth then we failed so you know we have to make sure everybody's on board everybody agrees",
    "start": "996000",
    "end": "1002880"
  },
  {
    "text": "it meets the scenarios everybody needs and then we're good yeah no big deal",
    "start": "1002880",
    "end": "1010880"
  },
  {
    "start": "1009000",
    "end": "1009000"
  },
  {
    "text": "um and you know this kind of highlights that what we've also some of the problems we've talked about",
    "start": "1010880",
    "end": "1016480"
  },
  {
    "text": "is you know multiple the multiple signature problem um which has an effect in a number of",
    "start": "1016480",
    "end": "1021920"
  },
  {
    "text": "different ways so uh we'd like to try to have fun because some things can get way too serious",
    "start": "1021920",
    "end": "1027120"
  },
  {
    "text": "so we have uh you know a company we just you know fictitious wabbit networks that creates this net monitor software",
    "start": "1027120",
    "end": "1033839"
  },
  {
    "text": "it's an isv kind of product where they're building it in their environment",
    "start": "1033839",
    "end": "1039038"
  },
  {
    "text": "and they create a key that their that's great key they create a signature with their key and they sign it",
    "start": "1039039",
    "end": "1044720"
  },
  {
    "text": "they could then post that content on docker hub as a curated location but",
    "start": "1044720",
    "end": "1051120"
  },
  {
    "text": "acme rockets is this company that wants to consume the software they don't know who abbott networks are but they trust docker so docker certifies that content",
    "start": "1051120",
    "end": "1059600"
  },
  {
    "text": "so great okay i will now use that uh so if i go to docker i will actually see",
    "start": "1059600",
    "end": "1064799"
  },
  {
    "text": "two signatures one from docker one for web at networks and then the acme rocket team",
    "start": "1064799",
    "end": "1069919"
  },
  {
    "text": "can bring that software in as they bring the net monitor software into their",
    "start": "1069919",
    "end": "1075280"
  },
  {
    "text": "environment they'll only bring in stuff they trust from docker hub so that's a first check for the signature",
    "start": "1075280",
    "end": "1080559"
  },
  {
    "text": "they'll run some functional tests to make sure it works in their environment because it's not just the first time",
    "start": "1080559",
    "end": "1086000"
  },
  {
    "text": "they wouldn't be able to get updates and then if it passed those tests they will add",
    "start": "1086000",
    "end": "1091120"
  },
  {
    "text": "a third signature which is the acme rocket signature so now when they try to move it to their",
    "start": "1091120",
    "end": "1096720"
  },
  {
    "text": "production environment they actually don't care about the other signatures they only will put things in production that has an acme rockets",
    "start": "1096720",
    "end": "1103520"
  },
  {
    "text": "you know validation on it so you can kind of see this progression of flow where the software starts",
    "start": "1103520",
    "end": "1110720"
  },
  {
    "text": "all the way over and you know way upstream if you will moves into another environment the",
    "start": "1110720",
    "end": "1116480"
  },
  {
    "text": "signatures move with it the signatures are added to add additional attestation",
    "start": "1116480",
    "end": "1122400"
  },
  {
    "text": "but the digest and the tag of that original software never change um so that when it moves",
    "start": "1122400",
    "end": "1129679"
  },
  {
    "text": "into acme rockets we you know can continue to add signatures to it as we go so that's like the major model of what",
    "start": "1129679",
    "end": "1136320"
  },
  {
    "text": "we're trying to do um and support this you know workflow but there's yeah i mean there's a lot of uh details",
    "start": "1136320",
    "end": "1144080"
  },
  {
    "text": "that doesn't cover like how does you know how does the end users have policies what they trust",
    "start": "1144080",
    "end": "1149200"
  },
  {
    "text": "who um which you know which bits of um you know which key is a test",
    "start": "1149200",
    "end": "1155360"
  },
  {
    "text": "to what how do we deal with um one of the problems that nature v1 has is there were too many keys and there was a",
    "start": "1155360",
    "end": "1161120"
  },
  {
    "text": "huge proliferation of them and so we need to arrange keys in manageable but not too extreme way and",
    "start": "1161120",
    "end": "1167919"
  },
  {
    "text": "so there's all sorts of um of issues that follow on from from these scenarios that we're",
    "start": "1167919",
    "end": "1174640"
  },
  {
    "text": "going through um we've made quite a lot of progress with",
    "start": "1174640",
    "end": "1180160"
  },
  {
    "text": "storing signatures in registries i think i mean we've we um one of the aims here has been to",
    "start": "1180160",
    "end": "1187120"
  },
  {
    "start": "1181000",
    "end": "1181000"
  },
  {
    "text": "have a very generic signature model we don't want to um just constrain signatures to being",
    "start": "1187120",
    "end": "1194160"
  },
  {
    "text": "something that's specific for notary v2 it's like signatures are something that could be",
    "start": "1194160",
    "end": "1200640"
  },
  {
    "text": "used for um other security applications and so",
    "start": "1200640",
    "end": "1206159"
  },
  {
    "text": "we want to have a generic solution but there's um we had one requirement that really um is one of the things that's actually",
    "start": "1206159",
    "end": "1213440"
  },
  {
    "text": "meant that we've looked at actually making registry changes so um there's this",
    "start": "1213440",
    "end": "1218720"
  },
  {
    "text": "question about inline versus detached signatures really the way to understand that is like is the signature part of an object",
    "start": "1218720",
    "end": "1225520"
  },
  {
    "text": "and therefore um as registry is a content addressable part of its content hash because either",
    "start": "1225520",
    "end": "1231440"
  },
  {
    "text": "the signature is um you know actually part of the json manifest of the object or it's referenced from the json",
    "start": "1231440",
    "end": "1237679"
  },
  {
    "text": "manifesto of the object and so if you want to change the signature you actually have to change the object and",
    "start": "1237679",
    "end": "1243280"
  },
  {
    "text": "then in the registration means you have to re-tag the object now a lot of people don't like the",
    "start": "1243280",
    "end": "1249679"
  },
  {
    "text": "re-tagging model in um registries lots of registries are now implementing models",
    "start": "1249679",
    "end": "1255440"
  },
  {
    "text": "where tags are immutable and can't actually be changed once they've been once the content has",
    "start": "1255440",
    "end": "1260799"
  },
  {
    "text": "been shipped to the registry and so there's there was a big we don't want we don't want re-tagging we want to be able",
    "start": "1260799",
    "end": "1267039"
  },
  {
    "text": "to add another signature um for a different purpose like um you know i bring in an object and it's",
    "start": "1267039",
    "end": "1273760"
  },
  {
    "text": "signed by so it's ubuntu it's signed by canonical that's great but i also want to",
    "start": "1273760",
    "end": "1278880"
  },
  {
    "text": "add a signature as part of my workflows but i don't want to um do any you know i don't want to",
    "start": "1278880",
    "end": "1285360"
  },
  {
    "text": "change i want any code that is looking for genuine ubuntu 1404 from the ubuntu source not to have",
    "start": "1285360",
    "end": "1293200"
  },
  {
    "text": "any issues that oh actually this content doesn't look like genuine ubuntu it's got a different hash oh i have to look at it and see that the",
    "start": "1293200",
    "end": "1300000"
  },
  {
    "text": "hash is actually like it's actually an additional signature it's not a problem it's still genuine abundance so",
    "start": "1300000",
    "end": "1306480"
  },
  {
    "text": "these kinds of concerns meant that we we've um been actually proposing a major",
    "start": "1306480",
    "end": "1313200"
  },
  {
    "text": "change in registries to add extra apis which where you can basically have a",
    "start": "1313200",
    "end": "1319120"
  },
  {
    "text": "well a detached signature which basically just means a signature that's in a separate document but not just detected as in a separate",
    "start": "1319120",
    "end": "1326240"
  },
  {
    "text": "document but as in there isn't a pointer to it from the registry object instead there's a",
    "start": "1326240",
    "end": "1333760"
  },
  {
    "text": "pointer from the signature to the registry object and we want an api that can actually traverse that",
    "start": "1333760",
    "end": "1339520"
  },
  {
    "text": "backwards and that's a real um significant register change because registries don't do",
    "start": "1339520",
    "end": "1344559"
  },
  {
    "text": "things backwards right now they're forwards only and there's no reverse it's very much a um straightforward like",
    "start": "1344559",
    "end": "1352240"
  },
  {
    "text": "if you you traverse a tree downwards and that and not not upwards there's actually i think",
    "start": "1352240",
    "end": "1359600"
  },
  {
    "text": "potentially other interesting use cases for this type of model",
    "start": "1359600",
    "end": "1364960"
  },
  {
    "text": "um but anyway so at the moment we're we're doing work on actually putting that into the",
    "start": "1364960",
    "end": "1371200"
  },
  {
    "text": "um the docker distribution registry reference client um and the spec um and so because i think that",
    "start": "1371200",
    "end": "1378799"
  },
  {
    "text": "there was enough demand for this um that it was seen as important to",
    "start": "1378799",
    "end": "1384240"
  },
  {
    "text": "actually design these make these registry changes around that so that's a kind of substantive",
    "start": "1384240",
    "end": "1390080"
  },
  {
    "text": "change i mean one of the uh one of the interesting ones about that",
    "start": "1390080",
    "end": "1395760"
  },
  {
    "text": "is you know people have these diploma manifests whether it be a kub yaml you know a helm chart or just",
    "start": "1395760",
    "end": "1403600"
  },
  {
    "text": "even a docker file that references something with a digest and a a tag and there's you know tag locking",
    "start": "1403600",
    "end": "1410400"
  },
  {
    "text": "you know semantics and so forth and even docker lock and some projects that are out there the challenge is if we to add another",
    "start": "1410400",
    "end": "1417919"
  },
  {
    "text": "signature in the acme rocket scenario for instance if that digest has to change for that",
    "start": "1417919",
    "end": "1423120"
  },
  {
    "text": "tag that kind of breaks the workflow so that was you know a big piece to this so",
    "start": "1423120",
    "end": "1428320"
  },
  {
    "text": "for the demo we can show what we're at on the current prototype yeah so so just",
    "start": "1428320",
    "end": "1433840"
  },
  {
    "text": "to talk about um we've started prototyping a couple of months ago now",
    "start": "1433840",
    "end": "1438880"
  },
  {
    "text": "these are not in any way meant to be like final things do not use and but these",
    "start": "1438880",
    "end": "1445440"
  },
  {
    "text": "are um kind of worked examples to show how things how things work how we're putting things",
    "start": "1445440",
    "end": "1451840"
  },
  {
    "text": "together how we're experimenting with things and the kinds of things so that people can see them and but they're they're not",
    "start": "1451840",
    "end": "1458080"
  },
  {
    "text": "totally they're not just totally fake these actually implement the actual um work behind the",
    "start": "1458080",
    "end": "1464000"
  },
  {
    "text": "scenes and there's actual things in registries and their signatures and registries and all the formats and so on are documented",
    "start": "1464000",
    "end": "1470000"
  },
  {
    "text": "and they're all in the and the pr's that these correspond to so it's um it's pretty it's it's it's very real",
    "start": "1470000",
    "end": "1478240"
  },
  {
    "text": "prototyping not just mock-up so there nothing up our sleeves we'll",
    "start": "1478240",
    "end": "1485840"
  },
  {
    "text": "take a look we have nothing locally on the machine so what i want to be able to do",
    "start": "1485840",
    "end": "1490880"
  },
  {
    "text": "is you know build and sign so what i'm going to do is just make things a little bit simpler and i'm going to",
    "start": "1490880",
    "end": "1497919"
  },
  {
    "text": "set an environment variable for our image we've got this registry",
    "start": "1497919",
    "end": "1503720"
  },
  {
    "text": "nv2.azurewebsites.net and it's hosting the changes that we've been proposing to the distribution",
    "start": "1503720",
    "end": "1510320"
  },
  {
    "text": "docker distribution for the distribution spec so now what i could do is i can say docker",
    "start": "1510320",
    "end": "1516080"
  },
  {
    "text": "build dash t and our image and what that's going",
    "start": "1516080",
    "end": "1521200"
  },
  {
    "text": "to do is just take this docker file from hello world and just add something to it really super simple and",
    "start": "1521200",
    "end": "1530559"
  },
  {
    "text": "that's not helpful oh thank you minor detail um so now we can see that",
    "start": "1531760",
    "end": "1540000"
  },
  {
    "text": "i've got my image and that's great and there's that image now what i want to do",
    "start": "1540000",
    "end": "1545279"
  },
  {
    "text": "is when i sign it i you know i need to enable the notary workflow",
    "start": "1545279",
    "end": "1550320"
  },
  {
    "text": "so i'll say docker notary enabled and what we're doing here",
    "start": "1550320",
    "end": "1558480"
  },
  {
    "text": "is we're enab you know saving this configuration and now you'll see we've got this for",
    "start": "1558480",
    "end": "1565600"
  },
  {
    "text": "you know our initial prototype where we have just enabled true so now",
    "start": "1565600",
    "end": "1570880"
  },
  {
    "text": "when i want to sign this thing",
    "start": "1570880",
    "end": "1575520"
  },
  {
    "text": "i'm going to say docker notary sign and i give it the key for the azure website's net key",
    "start": "1576799",
    "end": "1582799"
  },
  {
    "text": "and the cert for these two and then i'm signing this image so we'll generate the manifest because",
    "start": "1582799",
    "end": "1589679"
  },
  {
    "text": "we're signing a manifest and we output this jwt",
    "start": "1589679",
    "end": "1594880"
  },
  {
    "text": "token that's what's the the oci artifact that is the signature that we want to push to the registry but",
    "start": "1594880",
    "end": "1601919"
  },
  {
    "text": "we don't want users to have to think about pushing and pulling signatures independently we want to build it",
    "start": "1601919",
    "end": "1608000"
  },
  {
    "text": "into the experience so i'm going to log into the registry and when i do docker push",
    "start": "1608000",
    "end": "1616720"
  },
  {
    "text": "what we'll see is because we're using this docker plug-in right we didn't actually change the docker",
    "start": "1617360",
    "end": "1622480"
  },
  {
    "text": "api docker cli yet we're using a docker plug-in that we're routing this to",
    "start": "1622480",
    "end": "1627679"
  },
  {
    "text": "so now we're just going to be able to do is push the actual image and we're going to push the signature",
    "start": "1627679",
    "end": "1633440"
  },
  {
    "text": "it's just an additional component and then when i want to do a docker pull",
    "start": "1633440",
    "end": "1638799"
  },
  {
    "text": "but let's get rid of our images first",
    "start": "1638799",
    "end": "1643120"
  },
  {
    "text": "queue we'll get rid of those i do a docker pull",
    "start": "1645440",
    "end": "1654720"
  },
  {
    "text": "i have not configured anything yet so it's going to go look because i have notary enabled says hey i",
    "start": "1654720",
    "end": "1660799"
  },
  {
    "text": "found a signature but you don't have any of those keys so by the fact that i don't have any keys",
    "start": "1660799",
    "end": "1665919"
  },
  {
    "text": "local that match it it is by definition going to fail so i don't have anything",
    "start": "1665919",
    "end": "1671840"
  },
  {
    "text": "to enable this what i do is i put the reference to the key the azure web",
    "start": "1671840",
    "end": "1679760"
  },
  {
    "text": "notary v2 azure website cert and save that",
    "start": "1679760",
    "end": "1684799"
  },
  {
    "text": "and now because i have that key locally it's going to look up signatures found a signature and it's a valid",
    "start": "1684799",
    "end": "1691919"
  },
  {
    "text": "signature so now i am going to be able to",
    "start": "1691919",
    "end": "1696960"
  },
  {
    "text": "see i have now found our image so that's the prototype right we're talking about",
    "start": "1696960",
    "end": "1703120"
  },
  {
    "text": "prototypes from end and um we'll continue to experiment with this and decide if we what experiences we",
    "start": "1703120",
    "end": "1709760"
  },
  {
    "text": "like how do we validate this with things like opa and then figure out the next steps um so",
    "start": "1709760",
    "end": "1717679"
  },
  {
    "start": "1716000",
    "end": "1716000"
  },
  {
    "text": "going back yes so what's interesting and justin was trying",
    "start": "1717679",
    "end": "1723520"
  },
  {
    "text": "to talk about this before is you know everything related to how do i want to store things in registries it's more than just",
    "start": "1723520",
    "end": "1730480"
  },
  {
    "text": "images and home charts and cnabs and oppas and",
    "start": "1730480",
    "end": "1737039"
  },
  {
    "text": "wasms and other things i want to be able to store signatures and have a movement in fact i want to be able to put",
    "start": "1737039",
    "end": "1742080"
  },
  {
    "text": "verification objects signatures on any of those things well i also need to know well who signed",
    "start": "1742080",
    "end": "1748320"
  },
  {
    "text": "the signature what git commit was associated with it what was the when was it added and so",
    "start": "1748320",
    "end": "1754159"
  },
  {
    "text": "forth so we and once we're doing this reverse lookup on hey i'm looking for",
    "start": "1754159",
    "end": "1761520"
  },
  {
    "text": "this thing what artifacts are impacted by this thing then we can actually start to create",
    "start": "1761520",
    "end": "1768159"
  },
  {
    "text": "more of this generic api for finding these things um and that's been kind of a lot of the feedback as",
    "start": "1768159",
    "end": "1774480"
  },
  {
    "text": "well it's like if you're going to make a change to our registries let's make sure that i don't have to make yet another change",
    "start": "1774480",
    "end": "1780399"
  },
  {
    "text": "for the next thing and the next thing the next thing yeah so there's the typical problem of yeah generic tools that will enable us",
    "start": "1780399",
    "end": "1787520"
  },
  {
    "text": "to do more more good things in future yeah the generic apis and the generic tools that",
    "start": "1787520",
    "end": "1792799"
  },
  {
    "text": "will do that so um we are definitely making sure that we're doing that you know canonical balancing of the boiling the",
    "start": "1792799",
    "end": "1799200"
  },
  {
    "text": "ocean which will never happen and versus a small pond uh so we're trying to make we feel good about the progress thus far",
    "start": "1799200",
    "end": "1806720"
  },
  {
    "text": "and these prototypes help us figure out for instance um",
    "start": "1806720",
    "end": "1814640"
  },
  {
    "text": "i don't care about this one signature so when i'm looking up uh signatures for an artifact",
    "start": "1815279",
    "end": "1822240"
  },
  {
    "text": "don't make me download all of them i want to download only the signatures",
    "start": "1822240",
    "end": "1827360"
  },
  {
    "text": "for their that match a certain criteria uh so that's the kind of things that we're looking at so next steps",
    "start": "1827360",
    "end": "1833440"
  },
  {
    "text": "really um we're carrying on with prototyping we're doing a lot of work around key management there's a separate working",
    "start": "1833440",
    "end": "1838960"
  },
  {
    "start": "1834000",
    "end": "1834000"
  },
  {
    "text": "group on that we need to consolidate recommendations of that into their requirements uh then",
    "start": "1838960",
    "end": "1845679"
  },
  {
    "text": "get agreement on the directions from these prototypes and make sure there's actually other process other than what we're showing that are going",
    "start": "1845679",
    "end": "1851279"
  },
  {
    "text": "on as well so um and so and then we have to check everything against our threat modeling",
    "start": "1851279",
    "end": "1857440"
  },
  {
    "text": "that we did earlier on um and then get production next year which would be great for fun",
    "start": "1857440",
    "end": "1863120"
  },
  {
    "text": "um so if you're we just it's just let's just get past twenty-two kill 2020 and 2021 will be nice and",
    "start": "1863120",
    "end": "1869519"
  },
  {
    "text": "secure uh so come and join us um uh we have weekly meetings",
    "start": "1869519",
    "end": "1875039"
  },
  {
    "text": "github uh notary cncf since you have slack uh is the sort of central source of um",
    "start": "1875039",
    "end": "1881840"
  },
  {
    "text": "where everything is so thanks very much and see you soon",
    "start": "1881840",
    "end": "1888360"
  },
  {
    "text": "thanks",
    "start": "1888360",
    "end": "1891360"
  }
]