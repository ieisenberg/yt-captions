[
  {
    "start": "0",
    "end": "87000"
  },
  {
    "text": "hey everybody heads up come on wake up cluster API time hi everyone we're gonna",
    "start": "60",
    "end": "9240"
  },
  {
    "text": "get started here it's about one minute till the official start time how's",
    "start": "9240",
    "end": "16619"
  },
  {
    "text": "everybody doing today is everybody having a good conference nice how about",
    "start": "16619",
    "end": "21840"
  },
  {
    "text": "um how about that announcement earlier today we're now I'm officially VMware as",
    "start": "21840",
    "end": "27570"
  },
  {
    "text": "of like an hour ago so that's that's pretty rad so yeah we're gonna get",
    "start": "27570",
    "end": "35880"
  },
  {
    "text": "started as folks kind of finish coming in we got it quite a bit of time at the end of our presentation for QA a lot of",
    "start": "35880",
    "end": "41850"
  },
  {
    "text": "folks have had questions about what we're gonna be talking about tonight so if you have questions don't be shy and feel free to to come up here if you're",
    "start": "41850",
    "end": "49320"
  },
  {
    "text": "interested in seeing more and learning more so yeah hi I'm I'm Chris Nova I",
    "start": "49320",
    "end": "54570"
  },
  {
    "text": "work for VMware now which is exciting uh",
    "start": "54570",
    "end": "59870"
  },
  {
    "text": "my name is Luke I always work at VMware so cool so it started off as a hefty Oh",
    "start": "59870",
    "end": "66180"
  },
  {
    "text": "VMware combo presentation just at the last minute turned into VMware VMware",
    "start": "66180",
    "end": "72470"
  },
  {
    "text": "presentation yeah when when I asked Chris to do to join up with me to do this I thought we",
    "start": "72470",
    "end": "79350"
  },
  {
    "text": "would be to companies and then two months later the same company okay so",
    "start": "79350",
    "end": "85170"
  },
  {
    "text": "let's get started okay okay so everybody take your cell phones out and take a picture of this this is like the",
    "start": "85170",
    "end": "93119"
  },
  {
    "text": "appendix for the presentation so all references that we make throughout the presentation will be in this also feel",
    "start": "93119",
    "end": "99720"
  },
  {
    "text": "free to tweet I know we look lovely up here and as we go through the presentation any references we make",
    "start": "99720",
    "end": "105899"
  },
  {
    "text": "you'll be able to find here and we'll remind you again at the end of the presentation as well so yeah I'm a",
    "start": "105899",
    "end": "111090"
  },
  {
    "text": "senior developer advocate my job is to advocate for kubernetes and as of today I'm VMware and I do a lot of work with",
    "start": "111090",
    "end": "117540"
  },
  {
    "text": "the CN CF and just the kubernetes open source in general I've been maintaining a lot of packages and kubernetes for",
    "start": "117540",
    "end": "122850"
  },
  {
    "text": "about two years now and I met Locke through the cig cluster life cycle which is where the cluster API is but we'll",
    "start": "122850",
    "end": "128340"
  },
  {
    "text": "get more into that later and I'm an open source engineer at being we're been focus on the container space",
    "start": "128340",
    "end": "135599"
  },
  {
    "text": "the last three or four years and today we're gonna talk about cluster API nice okay so speaking of cluster API go ahead",
    "start": "135599",
    "end": "142640"
  },
  {
    "text": "who here has used the cluster API before",
    "start": "142640",
    "end": "148159"
  },
  {
    "text": "okay who here has not used it but wants to start using it or as excited about it",
    "start": "148159",
    "end": "153319"
  },
  {
    "text": "nice okay so so just to tell folks who are in the front row most people put their hand up for the second one most",
    "start": "153319",
    "end": "159540"
  },
  {
    "text": "people are interested in learning more so we're gonna start off today and we're going to learn a little bit about the cluster API today and we'll talk a",
    "start": "159540",
    "end": "167220"
  },
  {
    "text": "little bit more about the history of how we got here but this is sort of what is the state of the cluster API project today yeah so this is not going to be a",
    "start": "167220",
    "end": "174720"
  },
  {
    "text": "deep dive there's gonna be another session later on this week and anyway",
    "start": "174720",
    "end": "182970"
  },
  {
    "text": "let's go ahead and get started so the cluster API today so what is",
    "start": "182970",
    "end": "189810"
  },
  {
    "text": "cluster API the cluster API is a framework that is designed to handle day one and day two operation day one",
    "start": "189810",
    "end": "197040"
  },
  {
    "text": "operation meaning deployment and installation and day two is managing",
    "start": "197040",
    "end": "204349"
  },
  {
    "text": "upgrade scaling and the cluster API was designed to be a standard for - to make",
    "start": "204349",
    "end": "215340"
  },
  {
    "text": "the ecosystem less fragmented and I just want to point out that we're still",
    "start": "215340",
    "end": "220889"
  },
  {
    "text": "experimenting so a lot of the things that we're going to talk about today it may change ok so just letting you guys",
    "start": "220889",
    "end": "227910"
  },
  {
    "text": "know awesome so the cluster API it's a",
    "start": "227910",
    "end": "233879"
  },
  {
    "start": "230000",
    "end": "293000"
  },
  {
    "text": "project that came together that attempts to solve what it what it looks like and what it feels like to bring up a",
    "start": "233879",
    "end": "239340"
  },
  {
    "text": "kubernetes cluster a lot of folks kept tio not part of VMware digitalocean AWS",
    "start": "239340",
    "end": "244949"
  },
  {
    "text": "Google Cloud we've had folks from azure contributors from other open source projects like terraform a lot of folks",
    "start": "244949",
    "end": "251129"
  },
  {
    "text": "who are notable in the community have come together and said we are tired of this fragmented experience for bringing",
    "start": "251129",
    "end": "257430"
  },
  {
    "text": "up a kubernetes cluster we all represent clusters in a different way we all have a different scope for what it means to",
    "start": "257430",
    "end": "263070"
  },
  {
    "text": "bring up and manage nice cluster and the whole point of the cluster API is for the community to come together and define what that looks like",
    "start": "263070",
    "end": "270319"
  },
  {
    "text": "in the processes and the steps and the scope of bringing up a kubernetes cluster but not necessarily the",
    "start": "270319",
    "end": "276110"
  },
  {
    "text": "implementation that's going to be the responsibility of cloud providers like what you see on the screen here so the",
    "start": "276110",
    "end": "282259"
  },
  {
    "text": "project defines the the shape of the API structure and not necessarily what that translates to for the vSphere or AWS or",
    "start": "282259",
    "end": "290060"
  },
  {
    "text": "Google Cloud ok so this is another one of mine I think so to make a kubernetes",
    "start": "290060",
    "end": "298970"
  },
  {
    "start": "293000",
    "end": "443000"
  },
  {
    "text": "pun here's the declared state of the cluster API I wrote a blog on this which if you took a picture of the appendix",
    "start": "298970",
    "end": "304669"
  },
  {
    "text": "like I told you to you can find a link to the blog page but this project have started in 2017 the original origins of",
    "start": "304669",
    "end": "311960"
  },
  {
    "text": "the project sort of came up all around the world at the same time we talked about this in cops when I was first",
    "start": "311960",
    "end": "317240"
  },
  {
    "text": "working in kubernetes cops we talked about this in Cuba corn a project I made to bring up kubernetes clusters the",
    "start": "317240",
    "end": "323569"
  },
  {
    "text": "folks in the cube admin department have been talking about this we even had folks from companies overseas like load",
    "start": "323569",
    "end": "329599"
  },
  {
    "text": "C and then ultimately I sat down with some of my friends at Google and we sat down and said ok we're tired of having",
    "start": "329599",
    "end": "335509"
  },
  {
    "text": "different api's we're tired of having a fragmented experience let's come together and let's actually formalize this and make this a kubernetes official",
    "start": "335509",
    "end": "341750"
  },
  {
    "text": "project so some of the original goals of the project that we hope to solve again these come from lessons learned from",
    "start": "341750",
    "end": "347210"
  },
  {
    "text": "tools like cops in Cuba coin as we wanted automatic transactions for the cluster management operations and that's",
    "start": "347210",
    "end": "353120"
  },
  {
    "text": "a really fancy way of saying if something breaks we want to like guarantee that it's going to break in a clean way we don't want to have halfway",
    "start": "353120",
    "end": "359419"
  },
  {
    "text": "deployed clusters anymore we don't want to bring up a virtual machine that isn't configured properly or is missing security authentication we want to make",
    "start": "359419",
    "end": "365930"
  },
  {
    "text": "sure that it either works into its entirety or it fails in its entirety we have cluster automation which again",
    "start": "365930",
    "end": "371090"
  },
  {
    "text": "this is just plugging things into the cluster API if we do things in a declarative way we're able to build on that and we write other tooling that can",
    "start": "371090",
    "end": "377000"
  },
  {
    "text": "simply scale and change our clusters from underneath us resilient infrastructure so we see this all over kubernetes if you ride a controller you",
    "start": "377000",
    "end": "383240"
  },
  {
    "text": "write an operator something changes accidentally those operators go back and try to fix it they're continually",
    "start": "383240",
    "end": "388310"
  },
  {
    "text": "working towards this desired state and we can now get that with infrastructure which we haven't seen before we want to",
    "start": "388310",
    "end": "393919"
  },
  {
    "text": "improve user experience this is going to be who here an operator sits down at the command line and actually manages the kubernetes",
    "start": "393919",
    "end": "399840"
  },
  {
    "text": "cluster okay so you're the people we're talking to we want this to be as intuitive and it's graceful for you as",
    "start": "399840",
    "end": "405870"
  },
  {
    "text": "possible and we just want you to feel like you have everything you need right there at your fingertips last but not least cluster upgrades who here enjoys",
    "start": "405870",
    "end": "412500"
  },
  {
    "text": "upgrading kubernetes okay so like maybe what like what do you think lock like 10",
    "start": "412500",
    "end": "417599"
  },
  {
    "text": "people yeah so we want to we want to solve that we want to start standardizing how an upgrade is going to",
    "start": "417599",
    "end": "422699"
  },
  {
    "text": "work and last but not least we wanted to create a community we had a lot of small communities that we're all sort of fighting each other and we hope to bring",
    "start": "422699",
    "end": "428610"
  },
  {
    "text": "people together today to work on this last but not least we have one last additional goal which is cross infrastructure deployment this was the",
    "start": "428610",
    "end": "434819"
  },
  {
    "text": "original promise of kubernetes in the first place to be cloud agnostic we want to bring that infrastructure so that's",
    "start": "434819",
    "end": "440069"
  },
  {
    "text": "the cluster API in a nutshell ok cluster",
    "start": "440069",
    "end": "446340"
  },
  {
    "start": "443000",
    "end": "702000"
  },
  {
    "text": "API basics first topic is a cluster CTO so this is a bootstrap CLI that was",
    "start": "446340",
    "end": "453629"
  },
  {
    "text": "built by the project and it's it was designed to bootstrap cluster API and",
    "start": "453629",
    "end": "460319"
  },
  {
    "text": "right now a we every provider implements",
    "start": "460319",
    "end": "465659"
  },
  {
    "text": "their own version of cluster API I mean cluster your CTO because it requires some logic from each provider",
    "start": "465659",
    "end": "473969"
  },
  {
    "text": "implementation deploying controllers to read CRD objects and",
    "start": "473969",
    "end": "484310"
  },
  {
    "text": "deploy CRD objects - Wow",
    "start": "484310",
    "end": "490129"
  },
  {
    "text": "so we have a couple of CR DS objects in cluster API representing things that",
    "start": "491430",
    "end": "497550"
  },
  {
    "text": "cluster machine machine set and machine deployment machine set and machine deployment are kind of analogous to",
    "start": "497550",
    "end": "503930"
  },
  {
    "text": "replica sets and deployments and then",
    "start": "503930",
    "end": "509270"
  },
  {
    "text": "like Chris said earlier about the reconciliation that's how the",
    "start": "509270",
    "end": "514589"
  },
  {
    "text": "declarative action occur because of the",
    "start": "514589",
    "end": "519870"
  },
  {
    "text": "controller reconciliation loop and yeah that's it so yeah so how this all kind of fits",
    "start": "519870",
    "end": "527399"
  },
  {
    "text": "together to like look at the iPad high-level picture here here's a basic diagram that that has a lot of small",
    "start": "527399",
    "end": "532440"
  },
  {
    "text": "squares on it but basically there's three main components here that you need to concern yourself with the first one",
    "start": "532440",
    "end": "538709"
  },
  {
    "text": "is the cluster controller the second one is the providers cluster actuator in this last but not least little square",
    "start": "538709",
    "end": "544800"
  },
  {
    "text": "over here is very unique specific information that's unique to a provider in this case we're using vSphere because",
    "start": "544800",
    "end": "550110"
  },
  {
    "text": "we both work for view and Larry now so so cluster cuddle is the command line tool it's modeled just like you Bechdel",
    "start": "550110",
    "end": "556529"
  },
  {
    "text": "and all the other kubernetes CTL control whatever tools you want to use and then basically it goes and it creates a CR D",
    "start": "556529",
    "end": "561990"
  },
  {
    "text": "and then we deploy these controllers and these controllers reconcile the CR G it's the same operator model we've heard from our keynotes this morning when we",
    "start": "561990",
    "end": "568050"
  },
  {
    "text": "learned from SED also by the way congrats to SED for making it to the CNC F today but the cluster controller is",
    "start": "568050",
    "end": "574290"
  },
  {
    "text": "special because for the first time we're actually reconciling infrastructure so in this example let's sort of go from",
    "start": "574290",
    "end": "580410"
  },
  {
    "text": "left to right we define a cluster spec so this represents a kubernetes cluster who can think of an example directive",
    "start": "580410",
    "end": "588899"
  },
  {
    "text": "that we might want to define here API port perhaps what port do we want the",
    "start": "588899",
    "end": "594060"
  },
  {
    "text": "API server to listen on what version of kubernetes do we want to run the control plane so these are all things that you",
    "start": "594060",
    "end": "599699"
  },
  {
    "text": "would go into fine here and most of these are gonna map to cube admin furthermore we go down a layer into this",
    "start": "599699",
    "end": "604800"
  },
  {
    "text": "other thing called the provider spec and this is going to be the unique implementation for all of the different cloud providers behind the scenes in",
    "start": "604800",
    "end": "610529"
  },
  {
    "text": "this example we actually are going to be using the vSphere provider which is similar to how a cloud provider works",
    "start": "610529",
    "end": "615899"
  },
  {
    "text": "for the rest of kubernetes and last but not least we have this really wonderful status that we haven't seen yet in",
    "start": "615899",
    "end": "621480"
  },
  {
    "text": "kubernetes management if you go and you create a cluster with cops or with Kiba corn you kind of just have a cluster but",
    "start": "621480",
    "end": "627540"
  },
  {
    "text": "what's the status of our cluster how do we query that how do we build tests again it against it how do we gain observability into our cluster these are",
    "start": "627540",
    "end": "633600"
  },
  {
    "text": "all problems that have yet to be solved now we finally have a status because we're actually having a controller that goes and runs against the state of the",
    "start": "633600",
    "end": "640230"
  },
  {
    "text": "world so as we drill down into the provider specific bits this is the square in the middle you can notice that we are going",
    "start": "640230",
    "end": "647100"
  },
  {
    "text": "to start defining things that are important to these here so these could be things that would define like the size of the virtual machine perhaps we",
    "start": "647100",
    "end": "653160"
  },
  {
    "text": "could put some network level configuration in here the size of our disks attached to our virtual machines and these would translate one-to-one two things that are",
    "start": "653160",
    "end": "659670"
  },
  {
    "text": "important to my specific cloud provider the beauty of this is now doesn't matter what cloud provider am using I can go in",
    "start": "659670",
    "end": "664830"
  },
  {
    "text": "to find whatever higher level spec I want and then that's gonna translate into my cloud specific information for",
    "start": "664830",
    "end": "670290"
  },
  {
    "text": "me and last but not least you can see we have the vSphere spec expanded and we have username and password servers so",
    "start": "670290",
    "end": "676110"
  },
  {
    "text": "these are all going to be kubernetes level objects that are bundled up into the provider specific beds one of the",
    "start": "676110",
    "end": "681390"
  },
  {
    "text": "reasons we chose to have provider specific bits is because we learned the hard way after trying to do this in cops",
    "start": "681390",
    "end": "686760"
  },
  {
    "text": "and try and do this in cuba corn that actually trying to find an abstraction that works against all providers was",
    "start": "686760",
    "end": "693209"
  },
  {
    "text": "never gonna happen so we decided to keep the top-level directives as simple as possible and put as much into cloud",
    "start": "693209",
    "end": "698430"
  },
  {
    "text": "specific provider information as we could okay moving on this is a first let's",
    "start": "698430",
    "end": "704970"
  },
  {
    "start": "702000",
    "end": "758000"
  },
  {
    "text": "define a couple of terms so that when we just talk a little bit further you guys",
    "start": "704970",
    "end": "712920"
  },
  {
    "text": "understand so the first term we wanted to define his target cluster so this is the cluster that you actually want to",
    "start": "712920",
    "end": "719220"
  },
  {
    "text": "create then the next term is bootstrap in management cluster we're going to",
    "start": "719220",
    "end": "725910"
  },
  {
    "text": "talk about the difference between the bootstrapping management cluster later but this is the cluster that you're going to use to deploy cluster API to",
    "start": "725910",
    "end": "732510"
  },
  {
    "text": "then create the target cluster okay cluster CTO we already talked about and",
    "start": "732510",
    "end": "738720"
  },
  {
    "text": "provider implementation this is a again every every infrastructure provider",
    "start": "738720",
    "end": "743910"
  },
  {
    "text": "would have to create their own specific provider implementation and these are",
    "start": "743910",
    "end": "749820"
  },
  {
    "text": "the official terms that we picked out in a cig after many sig calls of argued what you should be you so I'm gonna try",
    "start": "749820",
    "end": "755459"
  },
  {
    "text": "to be on my best behavior and use them as correctly as I can okay so let's talk about these two usage modes so these are",
    "start": "755459",
    "end": "762120"
  },
  {
    "start": "758000",
    "end": "894000"
  },
  {
    "text": "the the two possible types or two possible flavors of creating a kubernetes cluster with a cluster API",
    "start": "762120",
    "end": "768360"
  },
  {
    "text": "that you may or may not see a lot of the cloud providers are still in an experimentation mode as Locke mentioned",
    "start": "768360",
    "end": "775140"
  },
  {
    "text": "earlier and one of these is usually going to be the path in which they choose to go down as they look at how",
    "start": "775140",
    "end": "780420"
  },
  {
    "text": "they want to start creating and managing one or more clusters moving forward so",
    "start": "780420",
    "end": "785550"
  },
  {
    "text": "the first one I'm going to talk about is the self-service usage mode so this is a kubernetes",
    "start": "785550",
    "end": "790720"
  },
  {
    "text": "cluster that's going to be acting back on to itself so this is the original design when we originally started",
    "start": "790720",
    "end": "796120"
  },
  {
    "text": "talking about the project was this idea of kubernetes managing itself the",
    "start": "796120",
    "end": "801160"
  },
  {
    "text": "problem here though is if you've read my book the cloud native infrastructure you know that we've defined this really hard",
    "start": "801160",
    "end": "806200"
  },
  {
    "text": "problem to solve called the bootstrap problem we saw this in writing C compilers for the first time when the",
    "start": "806200",
    "end": "811990"
  },
  {
    "text": "compilers had to compile themselves we know how the same problem in kubernetes how do you create a kubernetes cluster",
    "start": "811990",
    "end": "817150"
  },
  {
    "text": "from thin air that's going to ultimately manage itself so coming up with clever ways to solve that is what the cig who's been working on over the past couple of",
    "start": "817150",
    "end": "823390"
  },
  {
    "text": "months furthermore there's a problem because there's a source of truths concern here if you define what the",
    "start": "823390",
    "end": "828580"
  },
  {
    "text": "cluster should look like in the cluster itself and something goes wrong with the cluster who knows what the cluster is supposed to look like so there's a bit",
    "start": "828580",
    "end": "834880"
  },
  {
    "text": "of a concern there we solved with some cops by putting the definition of our cluster in a completely independent system we store it in s3 and that's how",
    "start": "834880",
    "end": "841570"
  },
  {
    "text": "we separated our concerns along the way okay so the the second usage model is the management cluster I think everybody",
    "start": "841570",
    "end": "848350"
  },
  {
    "text": "here who has worked in enterprise understand this concept so this is a separation of concerns we divide up the",
    "start": "848350",
    "end": "855340"
  },
  {
    "text": "roles into the cluster administrator and in the cluster creator and for this we",
    "start": "855340",
    "end": "863950"
  },
  {
    "text": "need to deploy first deploy a secondary management cluster and we're going to",
    "start": "863950",
    "end": "869350"
  },
  {
    "text": "talk about that a little bit more when we talk about the vSphere provider it is a little bit more complex but it also",
    "start": "869350",
    "end": "875680"
  },
  {
    "text": "provides a lot of flexibility that we're going to talk about by the way these terms that we're using these are terms",
    "start": "875680",
    "end": "881890"
  },
  {
    "text": "that we just started we've been using organically in the meeting so I mean",
    "start": "881890",
    "end": "890020"
  },
  {
    "text": "there there might be better terms there is a specialized that it can be yeah cool so let's go into self-service a",
    "start": "890020",
    "end": "896770"
  },
  {
    "start": "894000",
    "end": "998000"
  },
  {
    "text": "little bit more and learn about some strengths and weaknesses to this approach and talk a little bit more about the broader design here so this is",
    "start": "896770",
    "end": "903070"
  },
  {
    "text": "when kubernetes manages itself it can either manage itself via the bootstrap problem or by a bootstrap cluster so a",
    "start": "903070",
    "end": "909370"
  },
  {
    "text": "bootstrap cluster is a temporary ephemeral cluster that is used to create other kubernetes clusters I used the",
    "start": "909370",
    "end": "916750"
  },
  {
    "text": "word ephemeral there specifically because this is not designed to be a cluster that lasts very long it just serves as sort of our",
    "start": "916750",
    "end": "922910"
  },
  {
    "text": "springboard into building other clusters later and we can see a concrete example of this when we look at the AWS provider",
    "start": "922910",
    "end": "929420"
  },
  {
    "text": "which we're going to talk about in a minute so some traits of a self-service cluster that is built using the cluster",
    "start": "929420",
    "end": "935330"
  },
  {
    "text": "API is it has to solve the original cluster problem so at some point we have to say we need some cluster created",
    "start": "935330",
    "end": "941900"
  },
  {
    "text": "somehow whether that's using a tool like kubernetes a docker or mini cube or",
    "start": "941900",
    "end": "946970"
  },
  {
    "text": "maybe a managed service similar we do need an initial cluster to start the process on and in this case we we use",
    "start": "946970",
    "end": "953360"
  },
  {
    "text": "mini cube by default furthermore it's centralized storage of cluster declaration this is what I talked about earlier where the actual representation",
    "start": "953360",
    "end": "960080"
  },
  {
    "text": "of the cluster is itself is stored inside of the cluster so one of the great strengths of this is extremely",
    "start": "960080",
    "end": "965750"
  },
  {
    "text": "simple you can understand it pretty easily I have some CRTs they represent a cluster I have a controller that manages",
    "start": "965750",
    "end": "971750"
  },
  {
    "text": "creating and mutating that cluster over time moving forward so one of the big weaknesses is its decentralized nature",
    "start": "971750",
    "end": "977960"
  },
  {
    "text": "and makes a central accounting of the clusters harder and it may not be allowed in some enterprises so as we",
    "start": "977960",
    "end": "983029"
  },
  {
    "text": "started talking to more corporate implementations of the cluster API we actually learned that defining secrets",
    "start": "983029",
    "end": "990170"
  },
  {
    "text": "is as fairly important and how we're gonna start managing those is going to be a concern we need to start looking at a little more in depth ok so here's a",
    "start": "990170",
    "end": "1000700"
  },
  {
    "start": "998000",
    "end": "1060000"
  },
  {
    "text": "lovely diagram of a self-service cluster so let's start at the top the cluster CTL or cluster cuddle command-line tool",
    "start": "1000700",
    "end": "1007180"
  },
  {
    "text": "this is this is the same command-line tool you would use regardless of what cloud you're running in and you would use cluster cuddle to first create a",
    "start": "1007180",
    "end": "1013660"
  },
  {
    "text": "bootstrap cluster so in this example we see that you could use fusion or VirtualBox and this would actually be",
    "start": "1013660",
    "end": "1019089"
  },
  {
    "text": "what is running mini cube and this would be running locally if I was running this in my macbook here I would run a cluster",
    "start": "1019089",
    "end": "1025300"
  },
  {
    "text": "cuddle create command it would then spin up a mini cube virtual machine and that would serve as our bootstrap cluster",
    "start": "1025300",
    "end": "1031569"
  },
  {
    "text": "once that cluster is up and running we would define the see IDs we would install some controllers and those",
    "start": "1031569",
    "end": "1037000"
  },
  {
    "text": "controllers would then and now we're moving across the bottom of the screen would actually go and bring up at the target cluster and that cluster is what",
    "start": "1037000",
    "end": "1043959"
  },
  {
    "text": "we would actually plan on keeping online and what we would ultimately do a shift of the Declaration of the cluster from",
    "start": "1043959",
    "end": "1049840"
  },
  {
    "text": "the initial bootstrap cluster into this new cluster where we have every to find and the controllers can then",
    "start": "1049840",
    "end": "1056590"
  },
  {
    "text": "begin to reconcile themselves so in this example this is a little more vague but",
    "start": "1056590",
    "end": "1063160"
  },
  {
    "start": "1060000",
    "end": "1115000"
  },
  {
    "text": "we wanted to speak to the power of the cluster API the community and the broader tickets come together and",
    "start": "1063160",
    "end": "1068200"
  },
  {
    "text": "written tools and common libraries to make this easier for you and implementer to go and write but the the shape of the",
    "start": "1068200",
    "end": "1074140"
  },
  {
    "text": "API the API service itself is where the real value is here so in this intentionally ambiguous",
    "start": "1074140",
    "end": "1079510"
  },
  {
    "text": "diagram we wanted to point out that you don't necessarily have to use cluster cuddle you don't necessarily have to use",
    "start": "1079510",
    "end": "1085600"
  },
  {
    "text": "the tools in the libraries that the kubernetes community is working on but the API shape still remains the same and",
    "start": "1085600",
    "end": "1091660"
  },
  {
    "text": "speaking that API shape is going to be important as we start looking at standardizing what a kubernetes cluster looks like moving forward so in this",
    "start": "1091660",
    "end": "1098559"
  },
  {
    "text": "example we could have one or more ambiguous tools that would handle creating a cluster define some C RDS and",
    "start": "1098559",
    "end": "1104710"
  },
  {
    "text": "then reconciling those C RDS and managing one or more clusters moving forward this would still fall under the",
    "start": "1104710",
    "end": "1110260"
  },
  {
    "text": "self service model just implemented a little more loosely okay so now when we",
    "start": "1110260",
    "end": "1117309"
  },
  {
    "start": "1115000",
    "end": "1183000"
  },
  {
    "text": "talk about the management cluster this is the the the new pattern that the the",
    "start": "1117309",
    "end": "1126059"
  },
  {
    "text": "that the working group has started investigating and it solves the",
    "start": "1126059",
    "end": "1131410"
  },
  {
    "text": "bootstrap problem by first installing an initial cluster and the traits are that",
    "start": "1131410",
    "end": "1136900"
  },
  {
    "text": "it has two primary roles administrator who installs the initial cluster and in",
    "start": "1136900",
    "end": "1143350"
  },
  {
    "text": "the cluster creator who who creates cluster for maybe their department or",
    "start": "1143350",
    "end": "1148510"
  },
  {
    "text": "something or a business unit and it also has a central storage for all the",
    "start": "1148510",
    "end": "1154059"
  },
  {
    "text": "cluster declaration now the strength of this is that it centralizes the accounting of cluster resources used by",
    "start": "1154059",
    "end": "1162750"
  },
  {
    "text": "by the clusters and users don't need extra software like fusion or mini queue",
    "start": "1162750",
    "end": "1169990"
  },
  {
    "text": "the weakness is of course that right now while this is still immature it may be a",
    "start": "1169990",
    "end": "1177700"
  },
  {
    "text": "little bit harder to debug or get logs okay",
    "start": "1177700",
    "end": "1182429"
  },
  {
    "text": "so this is a diagram and you'll see that it's very a little bit similar to the",
    "start": "1182820",
    "end": "1190860"
  },
  {
    "text": "self-service model but it this is a lot simpler it's a lot simpler in that",
    "start": "1190860",
    "end": "1197850"
  },
  {
    "text": "there's less boxes but so you you you first have a management cluster that you deploy somehow and in this diagram",
    "start": "1197850",
    "end": "1207390"
  },
  {
    "text": "notice that there's two types of target clusters here and this is a this is",
    "start": "1207390",
    "end": "1212430"
  },
  {
    "text": "important so the the the one on the left has a target cluster that's very similar",
    "start": "1212430",
    "end": "1218760"
  },
  {
    "text": "to the self-service cluster in that we can deploy the cluster API onto it",
    "start": "1218760",
    "end": "1224700"
  },
  {
    "text": "why do we want to do that because we want that cluster to be self-managed to",
    "start": "1224700",
    "end": "1230520"
  },
  {
    "text": "be if you want to modify the cluster you can tell it to modify and it will",
    "start": "1230520",
    "end": "1235740"
  },
  {
    "text": "reconcile itself or and in the target cluster on the right is a skinnier",
    "start": "1235740",
    "end": "1241140"
  },
  {
    "text": "cluster where it doesn't have the cluster API but it doesn't you can't do",
    "start": "1241140",
    "end": "1246420"
  },
  {
    "text": "self edits on the cluster and we're not sure which way we're in going yet if",
    "start": "1246420",
    "end": "1252840"
  },
  {
    "text": "this maybe we always support both well it's up to each specific cloud provider right yeah okay so let's talk about the",
    "start": "1252840",
    "end": "1261510"
  },
  {
    "start": "1259000",
    "end": "1320000"
  },
  {
    "text": "vSphere provider so the vSphere provider",
    "start": "1261510",
    "end": "1266970"
  },
  {
    "text": "supports both the self service and the management cluster model the the admin",
    "start": "1266970",
    "end": "1272670"
  },
  {
    "text": "workflow is this so any of you guys who are very familiar with vSphere knows",
    "start": "1272670",
    "end": "1279690"
  },
  {
    "text": "about OVA and it's very common deployment model you first deploy an OVA",
    "start": "1279690",
    "end": "1285750"
  },
  {
    "text": "and the OVA creates the management cluster then the administrator pulls the",
    "start": "1285750",
    "end": "1292560"
  },
  {
    "text": "coop config from from that cluster and then deploys the cluster API to that",
    "start": "1292560",
    "end": "1298860"
  },
  {
    "text": "cluster then creates a VM template [Music]",
    "start": "1298860",
    "end": "1304740"
  },
  {
    "text": "and then uses that then provides the ku config to the cluster creator and the",
    "start": "1304740",
    "end": "1310980"
  },
  {
    "text": "cluster creator can just use the coop config for that management cluster to",
    "start": "1310980",
    "end": "1317549"
  },
  {
    "text": "then create target clusters so why a",
    "start": "1317549",
    "end": "1322919"
  },
  {
    "start": "1320000",
    "end": "1370000"
  },
  {
    "text": "management cluster well this is a model that I think a lot of our customers a",
    "start": "1322919",
    "end": "1329490"
  },
  {
    "text": "lot of our customers our administrators are in DevOps and this is a model that's very familiar to them they want to be",
    "start": "1329490",
    "end": "1337139"
  },
  {
    "text": "able to see all the resources being used on vSphere and this provides that for",
    "start": "1337139",
    "end": "1344429"
  },
  {
    "text": "them and also the OVA is a very common",
    "start": "1344429",
    "end": "1349799"
  },
  {
    "text": "deployment model so this is something that they're very familiar with and in",
    "start": "1349799",
    "end": "1355710"
  },
  {
    "text": "addition to that we the one of the benefits of an OVA is that during the",
    "start": "1355710",
    "end": "1360899"
  },
  {
    "text": "deployment installation we can actually customize the the management cluster",
    "start": "1360899",
    "end": "1366000"
  },
  {
    "text": "itself with UI wizards all right so",
    "start": "1366000",
    "end": "1371399"
  },
  {
    "start": "1370000",
    "end": "1582000"
  },
  {
    "text": "let's talk about the AWS provider I've been trying to setup kubernetes and",
    "start": "1371399",
    "end": "1376409"
  },
  {
    "text": "Amazon I think almost probably two two-and-a-half years now",
    "start": "1376409",
    "end": "1381750"
  },
  {
    "text": "the first good tool I ever used was cops I then developed my own opinions in",
    "start": "1381750",
    "end": "1386909"
  },
  {
    "text": "wrote Kiba corn that turned into an open-source project I then watched eks come to life and have said it's been a",
    "start": "1386909",
    "end": "1393419"
  },
  {
    "text": "part of demoing and talking with some of the creators behind behind aks cuddle and then ultimately all of",
    "start": "1393419",
    "end": "1399389"
  },
  {
    "text": "this knowledge with myself and a lot of other really really bright folks in the industry came together into what I call",
    "start": "1399389",
    "end": "1405149"
  },
  {
    "text": "the therapy doc and this was just a document that we put together in the kubernetes open source communities",
    "start": "1405149",
    "end": "1410820"
  },
  {
    "text": "understand cluster lifecycle that captured all of the the lessons learned the frustration and the the weird API",
    "start": "1410820",
    "end": "1418649"
  },
  {
    "text": "behavior that we detected as we began to look at not only creating the cluster in Amazon but actually running in that",
    "start": "1418649",
    "end": "1425250"
  },
  {
    "text": "cluster over time scaling that cluster up and down and upgrading that cluster as well so cig AWS one of the kubernetes",
    "start": "1425250",
    "end": "1434879"
  },
  {
    "text": "SIG's I'm co-chair of and said cluster lifecycle join forces to create the AWS cluster",
    "start": "1434879",
    "end": "1441410"
  },
  {
    "text": "API provider implementation and this is a very fancy way of saying we took the cluster cuddle tool and the cluster API",
    "start": "1441410",
    "end": "1448700"
  },
  {
    "text": "shape and we wrote an Amazon specific implementation but you can actually go and run today I did a demo on this a few",
    "start": "1448700",
    "end": "1454820"
  },
  {
    "text": "weeks ago and I'll be doing another demo on it later today if folks want to see it and we might be able to look at something at the end of the talk here if",
    "start": "1454820",
    "end": "1460790"
  },
  {
    "text": "we have enough time but ultimately this uses a bootstrap cluster it uses mini cube today and it goes in and defines I",
    "start": "1460790",
    "end": "1467930"
  },
  {
    "text": "think we're using crts now we were using an aggregated API server before but I",
    "start": "1467930",
    "end": "1473120"
  },
  {
    "text": "think we finally switched over to CR DS again with long history there to define a cluster in Amazon and here we would",
    "start": "1473120",
    "end": "1480020"
  },
  {
    "text": "define things like EPC information security group information the type of ec2 instances we want to use the version",
    "start": "1480020",
    "end": "1486110"
  },
  {
    "text": "of kubernetes we want to use etc we get a lot of the resiliency concerns that you see in the rest of kubernetes and",
    "start": "1486110",
    "end": "1491480"
  },
  {
    "text": "this would actually go and create a kubernetes cluster in amazon and then we would be able to take those same",
    "start": "1491480",
    "end": "1496730"
  },
  {
    "text": "improvement on these cluster definitions and change them and the reconciler would reconcile them over time so on the right",
    "start": "1496730",
    "end": "1502700"
  },
  {
    "text": "side of the page here we can sort of see a little bit of the flow we would first create a bootstrap cluster in mini cube it would handle all this TLS secret",
    "start": "1502700",
    "end": "1509390"
  },
  {
    "text": "generation and it needs to it would then go and create a second cluster in Amazon against the Amazon API as long as you",
    "start": "1509390",
    "end": "1515570"
  },
  {
    "text": "had an Amazon I am set up beforehand that allowed you to create all the resources needed and then there would be",
    "start": "1515570",
    "end": "1521180"
  },
  {
    "text": "a controller manager that wraps up a number of different controllers that then would go and actually handle creating every specific piece of",
    "start": "1521180",
    "end": "1527480"
  },
  {
    "text": "infrastructure behind the scenes to bring in Amazon cluster to life and that's how the AWS provider works so",
    "start": "1527480",
    "end": "1534080"
  },
  {
    "text": "right now we're using a very simple self service usage mode but ultimately we want to explore other ideas as well also",
    "start": "1534080",
    "end": "1541850"
  },
  {
    "text": "important to note that the the intermediary boot step cluster bootstrap cluster along the way is an ephemeral",
    "start": "1541850",
    "end": "1548300"
  },
  {
    "text": "cluster and the cluster will manage itself moving forward yeah and and I",
    "start": "1548300",
    "end": "1553790"
  },
  {
    "text": "think we we talked about this earlier in the presentation that eventually we want",
    "start": "1553790",
    "end": "1559070"
  },
  {
    "text": "all the providers to be able to work together so I could see one day for for",
    "start": "1559070",
    "end": "1565040"
  },
  {
    "text": "vSphere users we can shift an ova as all the providers so you can deploy",
    "start": "1565040",
    "end": "1571240"
  },
  {
    "text": "to be sphere you can deploy to AWS you can avoid to Google cloud and that's the",
    "start": "1571240",
    "end": "1578320"
  },
  {
    "text": "hope okay cool so at this point we're gonna do a open",
    "start": "1578320",
    "end": "1585160"
  },
  {
    "start": "1582000",
    "end": "1653000"
  },
  {
    "text": "QA a lot of folks have come up to me at the conference I think some folks have come up to you as well if anybody has",
    "start": "1585160",
    "end": "1590860"
  },
  {
    "text": "any questions where we can answer them now I noticed we have some folks from the sig here as well and we were happy",
    "start": "1590860",
    "end": "1596410"
  },
  {
    "text": "to answer any questions along the way or clarify anything if anybody has any thing yes I'll see I'll say it back to",
    "start": "1596410",
    "end": "1607770"
  },
  {
    "text": "no question so the question was there's a concept of a thing called a cluster",
    "start": "1616760",
    "end": "1621900"
  },
  {
    "text": "registry which is sort of like a cube configs as a service the question is whether or not this project plans to",
    "start": "1621900",
    "end": "1627330"
  },
  {
    "text": "integrate with with this other effort in the community along the way so there is an issue open for that but no one has",
    "start": "1627330",
    "end": "1634230"
  },
  {
    "text": "looked into it yet but because we've been pushing we're one of the the the",
    "start": "1634230",
    "end": "1639570"
  },
  {
    "text": "the companies that have been pushing the management cluster I think we're going to start looking at that next year I think just overall the sentiment was yes",
    "start": "1639570",
    "end": "1646590"
  },
  {
    "text": "most folks think it's thinks it's a good idea to start working there I think it's just a matter of figuring out how that's",
    "start": "1646590",
    "end": "1651990"
  },
  {
    "text": "gonna fit together question as a cop's",
    "start": "1651990",
    "end": "1668010"
  },
  {
    "start": "1653000",
    "end": "2096000"
  },
  {
    "text": "user put your name daran really enjoys the terraform target output which allows you to create",
    "start": "1668010",
    "end": "1673530"
  },
  {
    "text": "terraform config from cops definition the question is whether or not terraform is going to be supported in the cluster",
    "start": "1673530",
    "end": "1679170"
  },
  {
    "text": "API I can take it you guys okay go ahead okay cool poll requests accepted so yeah",
    "start": "1679170",
    "end": "1688320"
  },
  {
    "text": "I think right now we have a number of different providers that are out there but it would be relatively trivial no not trivial but I mean it would be",
    "start": "1688320",
    "end": "1694230"
  },
  {
    "text": "pretty easy to at least start off working on the project with the tools that we have in place so I just went",
    "start": "1694230",
    "end": "1701370"
  },
  {
    "text": "also I had that not all providers are using terraform the vSphere provider",
    "start": "1701370",
    "end": "1708060"
  },
  {
    "text": "originally used terraform but debugging terraform you're introducing another stack that has another sets of operation",
    "start": "1708060",
    "end": "1717630"
  },
  {
    "text": "and rules and so we traded that out for vSphere API so I think some of the other",
    "start": "1717630",
    "end": "1725490"
  },
  {
    "text": "providers are also using their own native yeah it was I look at the history",
    "start": "1725490",
    "end": "1730590"
  },
  {
    "text": "of the project before we moved the new repository there was a terraform provider once upon a time so there might",
    "start": "1730590",
    "end": "1735630"
  },
  {
    "text": "be some work there that we could look at as well how much time do we have left we have seven minutes so we'll try to keep",
    "start": "1735630",
    "end": "1742050"
  },
  {
    "text": "them quick let's start here I think I saw your hand up first",
    "start": "1742050",
    "end": "1747380"
  },
  {
    "text": "this is the best question okay so can you use this to stand up a cluster on bare metal so I think there's two",
    "start": "1748450",
    "end": "1754460"
  },
  {
    "text": "answers there and that depends on how you define bare metal so the first one is true bare metal which is like a",
    "start": "1754460",
    "end": "1759710"
  },
  {
    "text": "machine that you plug into the wall with an rj45 running an operating system and then there's VMware which is the vSphere",
    "start": "1759710",
    "end": "1766310"
  },
  {
    "text": "provider so the original goal of the project was to be inclusive to bare metal I know that I work for VMware have",
    "start": "1766310",
    "end": "1772940"
  },
  {
    "text": "a deep interest in this so stay tuned for more information we also have an SSH",
    "start": "1772940",
    "end": "1778280"
  },
  {
    "text": "provider that allows you to configure over an SSH connection that you could use to stay on the bare metal as well so",
    "start": "1778280",
    "end": "1783530"
  },
  {
    "text": "we're working in that direction front row and then we'll get you in the back",
    "start": "1783530",
    "end": "1790450"
  },
  {
    "text": "sure okay so the question was does the",
    "start": "1791290",
    "end": "1797930"
  },
  {
    "text": "Amazon provider create ETA eks clusters or clusters neat c2 so it creates a non",
    "start": "1797930",
    "end": "1803600"
  },
  {
    "text": "eks compliant cluster although we have as a community shared a lot of similar ideas",
    "start": "1803600",
    "end": "1810490"
  },
  {
    "text": "so the question was how far does it go do we can we do a che does it do",
    "start": "1821150",
    "end": "1826550"
  },
  {
    "text": "monitoring what's the scope effectively of the cluster API the cluster API manages cluster infrastructure only",
    "start": "1826550",
    "end": "1832309"
  },
  {
    "text": "bringing up the layer software that we humans call kubernetes and managing that over timing stops there one two three",
    "start": "1832309",
    "end": "1841250"
  },
  {
    "text": "and then I think we'll be out of time how we considered integration with the",
    "start": "1841250",
    "end": "1848570"
  },
  {
    "text": "open service stroker I have not off the top of my head I haven't heard anything about that no no",
    "start": "1848570",
    "end": "1854679"
  },
  {
    "text": "question",
    "start": "1854679",
    "end": "1857679"
  },
  {
    "text": "can somebody help me I can't hear okay",
    "start": "1862240",
    "end": "1869350"
  },
  {
    "text": "so the question is how do we deal with dependencies like docker Annette CV when we're managing upgrading our cluster as we mentioned we're still in",
    "start": "1869350",
    "end": "1874929"
  },
  {
    "text": "experimentation mode we're still developing a lot of these strategies we actually talked at the contributor",
    "start": "1874929",
    "end": "1879940"
  },
  {
    "text": "summit about the upgrade strategy for the project and what we want to do there so we're still figuring that up question",
    "start": "1879940",
    "end": "1885460"
  },
  {
    "text": "let's do the back and then you and here in the front",
    "start": "1885460",
    "end": "1889498"
  },
  {
    "text": "have we considered running the kubernetes control plane inside the management cluster like like a cluster",
    "start": "1899790",
    "end": "1905850"
  },
  {
    "text": "on a cluster is that what you're asking",
    "start": "1905850",
    "end": "1909410"
  },
  {
    "text": "so so so in a management cluster we are we are still running a kubernetes",
    "start": "1918310",
    "end": "1923990"
  },
  {
    "text": "cluster in there I mean at least we're running a master I see I see so the",
    "start": "1923990",
    "end": "1937550"
  },
  {
    "text": "question here is effectively are we doing I forget there's a name for it but it's where you would run the kubernetes",
    "start": "1937550",
    "end": "1942860"
  },
  {
    "text": "control plane as a deployment or set of deployments on the management cluster so this is where you get into like a hybrid",
    "start": "1942860",
    "end": "1948140"
  },
  {
    "text": "model of like how do you bridge the gap between this new cluster that is just nodes only and you're running a control",
    "start": "1948140",
    "end": "1953750"
  },
  {
    "text": "plane on another kubernetes cluster there's a bilateral communication there so however we can solve that",
    "start": "1953750",
    "end": "1958850"
  },
  {
    "text": "I mean we've thought about it I think it's possible I haven't really heard of anybody actively working on it though yeah and right now we I think the the",
    "start": "1958850",
    "end": "1966200"
  },
  {
    "text": "the working group is mostly focused right now on the target cluster being",
    "start": "1966200",
    "end": "1971240"
  },
  {
    "text": "here to manage itself so that you know",
    "start": "1971240",
    "end": "1976580"
  },
  {
    "text": "if you if you create a machine set and one of the nodes go down it can create",
    "start": "1976580",
    "end": "1982820"
  },
  {
    "text": "another node sure so",
    "start": "1982820",
    "end": "1986740"
  },
  {
    "text": "sure I think that's a possibility I think that's one of the big reasons why we wanted to start defining this as a CR",
    "start": "1991840",
    "end": "1997730"
  },
  {
    "text": "D and using operators in the first place so that we could start making this much more portable anyway the question was",
    "start": "1997730",
    "end": "2003659"
  },
  {
    "text": "why don't we have any examples like this already and I just think it's we're not there yet",
    "start": "2003659",
    "end": "2009659"
  },
  {
    "text": "any other questions okay",
    "start": "2009659",
    "end": "2015399"
  },
  {
    "text": "the next topic is that there is going to be another session later this week on",
    "start": "2015399",
    "end": "2022539"
  },
  {
    "text": "Thursday it's going to be a deep dive on Cluster API for those who want to maybe contribute to the project and then the",
    "start": "2022539",
    "end": "2030909"
  },
  {
    "text": "last part is that we created a survey you know you saw the self service in the",
    "start": "2030909",
    "end": "2038019"
  },
  {
    "text": "the management cluster model and we want to hear your opinions and we have a",
    "start": "2038019",
    "end": "2043539"
  },
  {
    "text": "bunch of questions and we'd like to hear your opinions on on a lot of this",
    "start": "2043539",
    "end": "2048730"
  },
  {
    "text": "because we're experimenting right now and we would love to you know if we're",
    "start": "2048730",
    "end": "2053829"
  },
  {
    "text": "going in the right direction absolutely at the end of the survey there's also an optional spot where you can write your email address if you",
    "start": "2053829",
    "end": "2059858"
  },
  {
    "text": "would like for us to follow up and we can have any other discussions moving forward so if you want to talk more with folks that have to our folks at VMware",
    "start": "2059859",
    "end": "2066368"
  },
  {
    "text": "feel free to hit that survey and we will go from there okay I just wanted to say one listing yeah",
    "start": "2066369",
    "end": "2072908"
  },
  {
    "text": "I'm sorry we didn't have time for demo today the demo would have taken a lot of",
    "start": "2072909",
    "end": "2078368"
  },
  {
    "text": "time but later next week we're gonna have videos of the demo of the vSphere",
    "start": "2078369",
    "end": "2084158"
  },
  {
    "text": "provider with the management cluster in the OVA deployment up on our repo so next week after coop con look for that",
    "start": "2084159",
    "end": "2092108"
  },
  {
    "text": "thanks for coming everyone [Applause]",
    "start": "2092109",
    "end": "2097859"
  }
]