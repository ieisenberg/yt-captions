[
  {
    "text": "well let's get started uh first of all uh thank you very much for being here I",
    "start": "120",
    "end": "6279"
  },
  {
    "text": "wasn't expecting so full crow like that so I hope you can enjoy some of the the",
    "start": "6279",
    "end": "12080"
  },
  {
    "text": "informations that I have to to present here uh my name is Matos I'm from Brazil",
    "start": "12080",
    "end": "19720"
  },
  {
    "text": "uh on a company called CI which is a credit union [Music]",
    "start": "19720",
    "end": "25720"
  },
  {
    "text": "uh just a few words about CI uh CI is the first Brazil Credit Union founded in",
    "start": "25720",
    "end": "32119"
  },
  {
    "text": "192 so um it's a pretty old company uh",
    "start": "32120",
    "end": "37399"
  },
  {
    "text": "it's one of the largest credit Brazil Credit Union with more than 7.5 million members when we call Members this is a",
    "start": "37399",
    "end": "44760"
  },
  {
    "text": "term to the credit union it really means clients so we have more than 40,000",
    "start": "44760",
    "end": "52000"
  },
  {
    "text": "employees and it's present on every Brazilian State um it's important to",
    "start": "52000",
    "end": "58120"
  },
  {
    "text": "mention that all we all our critical workloads or great part of it run inside",
    "start": "58120",
    "end": "63800"
  },
  {
    "text": "kubernetes infrastructure so uh things like instant payment and ATM operations",
    "start": "63800",
    "end": "69759"
  },
  {
    "text": "all that rely on on applications that run inside kubernetes so just a few words about me",
    "start": "69759",
    "end": "77080"
  },
  {
    "text": "I'm a platform specialist at secr working for the container regestration team I'm in the company for almost uh 18",
    "start": "77080",
    "end": "84759"
  },
  {
    "text": "years now I'm a free soft Enthusiast I was always involved with free soft after",
    "start": "84759",
    "end": "90159"
  },
  {
    "text": "open source projects I was involved with de G Linux in the past deing G her and",
    "start": "90159",
    "end": "95600"
  },
  {
    "text": "open D and stuffs like that so my job is really replace prop assistance with free",
    "start": "95600",
    "end": "102560"
  },
  {
    "text": "software I am a retired football player but sometimes I insist to play again I regret every time because I got injured",
    "start": "102560",
    "end": "109159"
  },
  {
    "text": "I'm a father of two beautiful girls it's a teenager and a child so I'm not used",
    "start": "109159",
    "end": "114280"
  },
  {
    "text": "it to solve conflicts in kubernetes upgrades I'm also expert in solving conflicts at home",
    "start": "114280",
    "end": "120880"
  },
  {
    "text": "I'm a competitive Pokemon gen 3 OU player if you want what does mean I am shahu bhz on pokemo sh",
    "start": "120880",
    "end": "128319"
  },
  {
    "text": "down.com uh they said it's a child game and really is a child",
    "start": "128319",
    "end": "133959"
  },
  {
    "text": "game sorry sorry Mom I'm a football lover I'm a support of the best team in",
    "start": "133959",
    "end": "140280"
  },
  {
    "text": "Brazil which is Club Atletico we call them Gallo which means rooster in",
    "start": "140280",
    "end": "146080"
  },
  {
    "text": "Portuguese so okay let's go what it means what it really important now what we see in this",
    "start": "146080",
    "end": "152560"
  },
  {
    "text": "presentation well we will have a brief introduction about secr infrastructure related to kubernetes uh our sesh proof of concept",
    "start": "152560",
    "end": "161200"
  },
  {
    "text": "run uh how do we automated our s smesh configuration that's a pretty important",
    "start": "161200",
    "end": "167040"
  },
  {
    "text": "point because we Face a lot of challenges uh just before I get started really how many of you here if you can",
    "start": "167040",
    "end": "173200"
  },
  {
    "text": "raise your hands are using service Imes from in somehow okay and how many of you you are",
    "start": "173200",
    "end": "180239"
  },
  {
    "text": "using celum cluster mesh okay so okay the people with celum",
    "start": "180239",
    "end": "187080"
  },
  {
    "text": "cluster mesh will see uh I think important things here um the challenges",
    "start": "187080",
    "end": "192720"
  },
  {
    "text": "that we faced the most difficult challenges and our next steps so I will start with the U the",
    "start": "192720",
    "end": "200519"
  },
  {
    "text": "infrastructure because it will be important to to understand what we have done there so we have a private Cloud",
    "start": "200519",
    "end": "207200"
  },
  {
    "text": "built on canonical open stack spread across three different data sentence that is on premise",
    "start": "207200",
    "end": "212439"
  },
  {
    "text": "infrastructure we have public Cloud be on Amazon web services um kubernetes clusters managed",
    "start": "212439",
    "end": "221200"
  },
  {
    "text": "are managed using cluster API on a private cloud and on AKs are managed by",
    "start": "221200",
    "end": "227720"
  },
  {
    "text": "Terror form um here we have in in SEC we have the concepts of stacks for cluster so",
    "start": "227720",
    "end": "234959"
  },
  {
    "text": "each cluster have an what we call an stack what this really means is a repository in git git lab containing the",
    "start": "234959",
    "end": "242920"
  },
  {
    "text": "information about the cluster configuration setups and stuffs like that so um the kubernetes Clusters that",
    "start": "242920",
    "end": "251599"
  },
  {
    "text": "manage it on premise are basically formed by a cluster API description of",
    "start": "251599",
    "end": "256680"
  },
  {
    "text": "the cluster in a EML format and some anible playbooks that that run anible",
    "start": "256680",
    "end": "262320"
  },
  {
    "text": "roles to install uh clusters components like celum uh on the AKs for the other",
    "start": "262320",
    "end": "268199"
  },
  {
    "text": "side we have uh uh a stack of pure uh terraform using of course modules like",
    "start": "268199",
    "end": "275120"
  },
  {
    "text": "Helm modules to install the components uh we have a dedicated Amazon",
    "start": "275120",
    "end": "281120"
  },
  {
    "text": "Direct Connect link with all data centers this is great because the latting is very low so we feel like we are operating in the same data",
    "start": "281120",
    "end": "288520"
  },
  {
    "text": "center um we have more this this number is a little bit outdated but I didn't want to change this this slide because I",
    "start": "288520",
    "end": "295440"
  },
  {
    "text": "already had updated before but we have more than 40 kubernetes in AK s clusters",
    "start": "295440",
    "end": "301720"
  },
  {
    "text": "uh these numbers are are an average numbers because as we have H horizontal",
    "start": "301720",
    "end": "308560"
  },
  {
    "text": "P out scaler and cluster out scaler these numbers tend to change across the day across the the traffic so but in a",
    "start": "308560",
    "end": "315840"
  },
  {
    "text": "medium we have uh 7,400 pods running production and uh 500 kubernetes in AKs",
    "start": "315840",
    "end": "324000"
  },
  {
    "text": "is nodes running production I know I saw some huge infrastructure and other talks",
    "start": "324000",
    "end": "330160"
  },
  {
    "text": "and this made me think oh this not so big but for us is is really um a great",
    "start": "330160",
    "end": "337120"
  },
  {
    "text": "number of nodes and pods running and this thing keep growing so the E canonical open St",
    "start": "337120",
    "end": "344120"
  },
  {
    "text": "infrastructure will look like that we have a a region and we have spread",
    "start": "344120",
    "end": "350440"
  },
  {
    "text": "across across avability zones three avability zones so the key points are search V lens between data centers so",
    "start": "350440",
    "end": "356800"
  },
  {
    "text": "have fully communication between them sty and Stor is not shared or replicated",
    "start": "356800",
    "end": "362520"
  },
  {
    "text": "among the zones and open St control planes are spread among the zones for high",
    "start": "362520",
    "end": "369000"
  },
  {
    "text": "availability uh this is a very high level description uh the the idea here",
    "start": "369000",
    "end": "374479"
  },
  {
    "text": "is to Pro is to show how what are the components that we have because we have",
    "start": "374479",
    "end": "379720"
  },
  {
    "text": "some challenges and you see further are related to this components to someone some of these components so we have our",
    "start": "379720",
    "end": "387120"
  },
  {
    "text": "data center connected with Amazon Direct Connect then we have a um Transit Gateway and",
    "start": "387120",
    "end": "394720"
  },
  {
    "text": "then we have a gator load balancer and behind that we have a Apollo Auto fireal infrastructure to reach uh AKs clusters",
    "start": "394720",
    "end": "403199"
  },
  {
    "text": "of course this flow is both direction we have traffic coming from our prise on",
    "start": "403199",
    "end": "409199"
  },
  {
    "text": "premise Data Center and reaching AKs and AKs reaching a premise data center as we",
    "start": "409199",
    "end": "414840"
  },
  {
    "text": "work on the fully uh ful infrastructure so so a little bit about",
    "start": "414840",
    "end": "420639"
  },
  {
    "text": "our cni history we born in with kubernetes in 2018 using flannel we changed to a",
    "start": "420639",
    "end": "428479"
  },
  {
    "text": "project called weave in in uh 2019 but due to some problem due to some problems",
    "start": "428479",
    "end": "434599"
  },
  {
    "text": "to with FL in the excellent to of infrastructure um but we saw that Wei",
    "start": "434599",
    "end": "441680"
  },
  {
    "text": "was dying uh so and we had some problems with it uh so we changed it to Sil in",
    "start": "441680",
    "end": "447560"
  },
  {
    "text": "2020 looking for the security Fe features ebpf of course and more Robo Robo and stable cni so moving to was",
    "start": "447560",
    "end": "456319"
  },
  {
    "text": "very important because there was a lot of new applications uh getting the cluster and with more and more",
    "start": "456319",
    "end": "463160"
  },
  {
    "text": "applications security also become a problem so most part of the applications",
    "start": "463160",
    "end": "469039"
  },
  {
    "text": "were running on cumber did not have any access control the developers did not write any code to to control that and",
    "start": "469039",
    "end": "475879"
  },
  {
    "text": "that was a big problem and audition problem for us so SE capability was of",
    "start": "475879",
    "end": "481680"
  },
  {
    "text": "course an alternative to solve that problem without changing the source code this is where s SM works for so makes",
    "start": "481680",
    "end": "489879"
  },
  {
    "text": "sense uh we start a proof of concept by the end of 2020 on potential Serv solutions that solve a particular",
    "start": "489879",
    "end": "496720"
  },
  {
    "text": "problem we wrote a sample application that was very similar to all other applications that we were we had running",
    "start": "496720",
    "end": "503319"
  },
  {
    "text": "at that time in our kubernetes infrastructure to make the tests and we",
    "start": "503319",
    "end": "508800"
  },
  {
    "text": "selected the following service mesh tools to evaluate which was the best so at the time EO was the most preminent",
    "start": "508800",
    "end": "515880"
  },
  {
    "text": "service mesh tool we had a very young project called it Kuma which is a service mesh by Kong including they have",
    "start": "515880",
    "end": "523039"
  },
  {
    "text": "some had some talks yesterday I think unfortunately I could be able to I could",
    "start": "523039",
    "end": "528720"
  },
  {
    "text": "not be able to to watch uh celum of course which was our cni and conso",
    "start": "528720",
    "end": "534959"
  },
  {
    "text": "connect which also which is the service match from console because we already used using console and some harsh cors",
    "start": "534959",
    "end": "541200"
  },
  {
    "text": "to configuration and store Secrets like fault okay what was the key point to us",
    "start": "541200",
    "end": "549000"
  },
  {
    "text": "uh of course a feature to block or allow access from one application to another this was the main point we would like to",
    "start": "549000",
    "end": "554839"
  },
  {
    "text": "have some layer s security policy if if if this",
    "start": "554839",
    "end": "559880"
  },
  {
    "text": "was um important uh multicluster policy capability of course at that time we",
    "start": "559880",
    "end": "566120"
  },
  {
    "text": "were running multicluster so this should work across multiple",
    "start": "566120",
    "end": "572200"
  },
  {
    "text": "clusters uh great part of the the S smesh tools at that time used Side cars",
    "start": "572200",
    "end": "577680"
  },
  {
    "text": "so we were a bit worried about the presource consumption and we decide to",
    "start": "577680",
    "end": "583040"
  },
  {
    "text": "do some kind of performance test with that sample application that we wrote uh a low priority feature that we",
    "start": "583040",
    "end": "590120"
  },
  {
    "text": "want to look at is mesh expansion uh MH expansion is just a way to work with",
    "start": "590120",
    "end": "596200"
  },
  {
    "text": "workload that are not in kubernetes but you want this to be part of the of the service mesh so you can enable this you",
    "start": "596200",
    "end": "602920"
  },
  {
    "text": "have some tools to some service mesh that implement this this was not so important but something that we would",
    "start": "602920",
    "end": "608880"
  },
  {
    "text": "like to check uh this is a basic um draw about",
    "start": "608880",
    "end": "614079"
  },
  {
    "text": "the application that we wrote is a microservices applications we have the employee data connecting to employee",
    "start": "614079",
    "end": "619800"
  },
  {
    "text": "proxy using restful Services then connected to two other services um",
    "start": "619800",
    "end": "625200"
  },
  {
    "text": "employee test a test B which connects to a nailab database uh the great Point",
    "start": "625200",
    "end": "630320"
  },
  {
    "text": "here is that we' like to to test if it was possible to put rules of in that",
    "start": "630320",
    "end": "636440"
  },
  {
    "text": "connection points that of course will solve the the problem that we had so the stto S smash uh po we access",
    "start": "636440",
    "end": "648079"
  },
  {
    "text": "control works policy works with authentication authorization using mtls it have the sidecar and void",
    "start": "648079",
    "end": "655079"
  },
  {
    "text": "intercepting all the traffic to apply effectively apply apply the policies",
    "start": "655079",
    "end": "660200"
  },
  {
    "text": "uh as I said before we were worried about uh resource consumption because of that side car stress showed good",
    "start": "660200",
    "end": "666639"
  },
  {
    "text": "performance with no PR major problems we could detect a very um a little bit more",
    "start": "666639",
    "end": "672560"
  },
  {
    "text": "resource usage but that was not uh an issue for us we thought it be worst uh there was an issue at that time",
    "start": "672560",
    "end": "679399"
  },
  {
    "text": "with measure expansion would like to test the point important here I would like to mention is that information is",
    "start": "679399",
    "end": "685240"
  },
  {
    "text": "about end of 20 220 2020 and 2021 so",
    "start": "685240",
    "end": "691360"
  },
  {
    "text": "some of the s s SM listed here may have some bugs which already res soled or",
    "start": "691360",
    "end": "696959"
  },
  {
    "text": "functionalities in them could be changed I don't know but this is what we run at the time uh so Kuma was a very very young",
    "start": "696959",
    "end": "705079"
  },
  {
    "text": "project back then 2020 we hit several problems that make impossible to really",
    "start": "705079",
    "end": "710160"
  },
  {
    "text": "do the tests uh when we applied the policy to to validate the access the",
    "start": "710160",
    "end": "716560"
  },
  {
    "text": "probes didn't work so the applications never could get up and running and",
    "start": "716560",
    "end": "722000"
  },
  {
    "text": "unfortunately we cannot be able to could not be able to do finish the test this",
    "start": "722000",
    "end": "727480"
  },
  {
    "text": "issue was solved by the end of 2020 but we already finished the proof of",
    "start": "727480",
    "end": "733839"
  },
  {
    "text": "Concepts well uh console connection here is a very weird one sorry",
    "start": "733839",
    "end": "740360"
  },
  {
    "text": "about console connection verus policies by un side cars and the containers at that time just like",
    "start": "740360",
    "end": "746040"
  },
  {
    "text": "stto but we found very unusual configuration toight that an application to be protected needs to be bind only",
    "start": "746040",
    "end": "753720"
  },
  {
    "text": "Local Host which is we basically had to recreate all our images to Applications",
    "start": "753720",
    "end": "761320"
  },
  {
    "text": "by only Local Host if they want to be protected in the mesh and this is most",
    "start": "761320",
    "end": "766519"
  },
  {
    "text": "the weird one applications that access another need to access Local Host so",
    "start": "766519",
    "end": "772920"
  },
  {
    "text": "employee data in our example employee data has access in employee proxy the configuration the properties inside",
    "start": "772920",
    "end": "779839"
  },
  {
    "text": "employee data should point to Local Host in the port and if he connect if it",
    "start": "779839",
    "end": "785760"
  },
  {
    "text": "connects to multiple Services you should still use Local Host and different by",
    "start": "785760",
    "end": "791639"
  },
  {
    "text": "Port I'm not sure if this is still working like that but if it yes I don't know it's really complicated and then",
    "start": "791639",
    "end": "798320"
  },
  {
    "text": "you have you need to put some annotations like uh connect servic upstreams in the Serv name and the port",
    "start": "798320",
    "end": "805240"
  },
  {
    "text": "and the opitional data center is a concept on console and console AG should be installed on kubernetes noes",
    "start": "805240",
    "end": "811920"
  },
  {
    "text": "so uh we can't do with all that we want a little simple infrastructure I'm not",
    "start": "811920",
    "end": "818680"
  },
  {
    "text": "sure if this is the way they work now but back then it was the way they work",
    "start": "818680",
    "end": "824560"
  },
  {
    "text": "so Alum here um work we have Network policies to allow and deny",
    "start": "824560",
    "end": "832120"
  },
  {
    "text": "access without the need of side cars this is great multicluster policies",
    "start": "832120",
    "end": "837279"
  },
  {
    "text": "works perfectly uh with some requirements that pod IP CDR should not",
    "start": "837279",
    "end": "842399"
  },
  {
    "text": "conflict and of course Services must be deployed on all clusters which are part of the service mesh this is if you want",
    "start": "842399",
    "end": "849800"
  },
  {
    "text": "that that that services to be accessed from other clusters of course uh Services discover uses",
    "start": "849800",
    "end": "857240"
  },
  {
    "text": "kubernetes coordinat implementation which cool uh cluster meability using nbpf is",
    "start": "857240",
    "end": "863440"
  },
  {
    "text": "awesome we did a test using KUB Pro replacement and it's rock it's you don't",
    "start": "863440",
    "end": "869920"
  },
  {
    "text": "need to have K proxy running in your environment and you can do a fully EF thing so the performance showed very",
    "start": "869920",
    "end": "875839"
  },
  {
    "text": "good results without a side car so so there is an obvious answer to our",
    "start": "875839",
    "end": "882720"
  },
  {
    "text": "question why we choose I also have smash uh clusters Network",
    "start": "882720",
    "end": "888839"
  },
  {
    "text": "policies uh cross cluster was exactly what we need to implement the security on our services we don't need side cars",
    "start": "888839",
    "end": "895880"
  },
  {
    "text": "we have the ebpf and it was already used as cni so",
    "start": "895880",
    "end": "901240"
  },
  {
    "text": "no need to install new software when I mean no new software when you enable cluster mesh it will install new",
    "start": "901240",
    "end": "906680"
  },
  {
    "text": "components from celum but not a different sort of software like for example if we use EO there's a bunch of",
    "start": "906680",
    "end": "914079"
  },
  {
    "text": "EO controllers and N still software that needs to be",
    "start": "914079",
    "end": "919360"
  },
  {
    "text": "deployed um Li Rice gave a very good talk I don't know in the day two about",
    "start": "919480",
    "end": "925399"
  },
  {
    "text": "cluster mesh including the H she did an uh a demo so I will pass this very",
    "start": "925399",
    "end": "932199"
  },
  {
    "text": "briefly because they have more uh information on that talk if you want to",
    "start": "932199",
    "end": "937880"
  },
  {
    "text": "to take a look um here's the requirements our clusters must be configured with the",
    "start": "937880",
    "end": "943880"
  },
  {
    "text": "same data mode he install made a pho encapsulation native routing the native routing here is the fully BPF thing that",
    "start": "943880",
    "end": "951880"
  },
  {
    "text": "have very good performance as I said before uh earlier pod CDR ranges",
    "start": "951880",
    "end": "959440"
  },
  {
    "text": "uh in all clusters and now nodes must be non- conflict and unique uh nodes in uh all clusters must",
    "start": "959440",
    "end": "966680"
  },
  {
    "text": "have IP connective between each other uh the network between the Clusters must allow the intercluster",
    "start": "966680",
    "end": "972730"
  },
  {
    "text": "[Music] communication uh this is what selum",
    "start": "972730",
    "end": "977839"
  },
  {
    "text": "cluster mesh uh really is a very important part when you enable cluster",
    "start": "977839",
    "end": "983839"
  },
  {
    "text": "mesh what really what really happens is that um c a component called celum",
    "start": "983839",
    "end": "990880"
  },
  {
    "text": "cluster MCH is installed in your your uh C system name space what is this is",
    "start": "990880",
    "end": "996759"
  },
  {
    "text": "basically an etcd and what is the point of this etcd is to store the service",
    "start": "996759",
    "end": "1002079"
  },
  {
    "text": "identities for all real services and the Agents of celium will connect on that",
    "start": "1002079",
    "end": "1008519"
  },
  {
    "text": "edcd to get that information so if you have two clusters the agents from one cluster will connect the in the other",
    "start": "1008519",
    "end": "1015399"
  },
  {
    "text": "ATC cluster mesh atcd to get that information and make things work but again uh Le rice did a very good",
    "start": "1015399",
    "end": "1023440"
  },
  {
    "text": "explanation about that if you want to check out okay here's the good the some",
    "start": "1023440",
    "end": "1029480"
  },
  {
    "text": "important questions enable cluster mesch using celum CLI or Helm installation uh how do you connect the",
    "start": "1029480",
    "end": "1036000"
  },
  {
    "text": "Clusters how do you distribute that key secretly and it's possible to automate our cluster mesh",
    "start": "1036000",
    "end": "1042038"
  },
  {
    "text": "configuration when you look at this uh selum documentation about cluster mesh",
    "start": "1042039",
    "end": "1047720"
  },
  {
    "text": "they will use CLI to do that uh but we we did a little different and",
    "start": "1047720",
    "end": "1056520"
  },
  {
    "text": "I think this is more appropriated when you're talking about a environment that is not a play environment that's a",
    "start": "1056520",
    "end": "1062039"
  },
  {
    "text": "really production environment so hem was easy to install cni so let's use hem to",
    "start": "1062039",
    "end": "1067360"
  },
  {
    "text": "manage a cluster mesh installation and configuration uh we are using terraform",
    "start": "1067360",
    "end": "1072520"
  },
  {
    "text": "and anible to fully automate the cluster mesh process uh just to mention that in",
    "start": "1072520",
    "end": "1077600"
  },
  {
    "text": "case of terraform you're using hel modules behind the scenes but that stack that I said earlier are changing um if",
    "start": "1077600",
    "end": "1086520"
  },
  {
    "text": "you we're applying this on our premise on premise infrastructure or in Amazon",
    "start": "1086520",
    "end": "1092600"
  },
  {
    "text": "infrastructure uh we are using Hashi cor VA now hash Corp fantastic job with VA",
    "start": "1092600",
    "end": "1097720"
  },
  {
    "text": "and console but not with the mesh at that time uh we are using hash Corp VA to store closest connection information",
    "start": "1097720",
    "end": "1105080"
  },
  {
    "text": "and its certificates and credentials so there is a in Helm in selum Helm there is an option called TLS",
    "start": "1105080",
    "end": "1112280"
  },
  {
    "text": "Auto method which we choose Helm this means that Helm will be generate will be",
    "start": "1112280",
    "end": "1118159"
  },
  {
    "text": "used to generate uh indor certifications and and credentials this also have other",
    "start": "1118159",
    "end": "1124919"
  },
  {
    "text": "options like uh s manager if you want to do start manager do that job or if you",
    "start": "1124919",
    "end": "1131159"
  },
  {
    "text": "want to provide Yourself by hand uh we need to generate a new",
    "start": "1131159",
    "end": "1136280"
  },
  {
    "text": "certification Authority that will be used across out clusters to sing cluster mesh uh certificates and credentials in",
    "start": "1136280",
    "end": "1142919"
  },
  {
    "text": "his St V for each environment we create an uh it have it",
    "start": "1142919",
    "end": "1149159"
  },
  {
    "text": "own certification Authority um all communication between",
    "start": "1149159",
    "end": "1154400"
  },
  {
    "text": "the Clusters are encrypted so uh these certificates are very very important to",
    "start": "1154400",
    "end": "1159880"
  },
  {
    "text": "you make things work properly so here is a a flow uh of the automation",
    "start": "1159880",
    "end": "1166120"
  },
  {
    "text": "process um so we basically have a terraform form or anible and there is a",
    "start": "1166120",
    "end": "1171159"
  },
  {
    "text": "flag uh which is cluster MH is enable yes or no if no okay no do don't do the",
    "start": "1171159",
    "end": "1177720"
  },
  {
    "text": "configuration for cluster mesh and finish if is then if yes then uh it we",
    "start": "1177720",
    "end": "1185120"
  },
  {
    "text": "need to check if the certifications are and the credentials are already involved if the answer is no then it means that",
    "start": "1185120",
    "end": "1193080"
  },
  {
    "text": "is a new cluster enable having it it SE cluster mesh enabl so there is a um Helm",
    "start": "1193080",
    "end": "1201120"
  },
  {
    "text": "property TLS Auto enable and set true this is the default so what will happen",
    "start": "1201120",
    "end": "1207840"
  },
  {
    "text": "here is we'll generate all the certificates and credentials that you need and dist store this B using the",
    "start": "1207840",
    "end": "1214559"
  },
  {
    "text": "certification Authority that we provided first and then we'll store it on VA um then it will store the information",
    "start": "1214559",
    "end": "1222799"
  },
  {
    "text": "about that cluster specifically what are the end points and the the keys to to to",
    "start": "1222799",
    "end": "1228840"
  },
  {
    "text": "access them it will get the name of the Clusters to connect from a list it will",
    "start": "1228840",
    "end": "1235039"
  },
  {
    "text": "get all the information in respect of that cluster like connect uh the connection the port and the credentials",
    "start": "1235039",
    "end": "1241880"
  },
  {
    "text": "started on Val then you to apply on H if the if there is uh already certificate",
    "start": "1241880",
    "end": "1249559"
  },
  {
    "text": "is involved this means that this service mesh is already uh enabled it may be up",
    "start": "1249559",
    "end": "1254760"
  },
  {
    "text": "and running so we set the TLs out to enable to f house and that is big pretty",
    "start": "1254760",
    "end": "1260559"
  },
  {
    "text": "important because if we don't set this what will happen is we will generate new certificates and this will if you have",
    "start": "1260559",
    "end": "1267679"
  },
  {
    "text": "other clusters connected to it it will uh basically block all the the Clusters from connect because we generate new",
    "start": "1267679",
    "end": "1273720"
  },
  {
    "text": "keys so your service MH will stop working uh just a short example we have",
    "start": "1273720",
    "end": "1281000"
  },
  {
    "text": "this terraform uh this is a a main.tf from one stack of in a specific",
    "start": "1281000",
    "end": "1287120"
  },
  {
    "text": "cluster and we have a itation about uh the the Clusters list and then we will",
    "start": "1287120",
    "end": "1293159"
  },
  {
    "text": "get on V and get all the information about the Clusters that we want to connect down there we have U uh the",
    "start": "1293159",
    "end": "1300640"
  },
  {
    "text": "check if this uh certificates already exist in VA if not it will set the TLs out enable to to true and will generate",
    "start": "1300640",
    "end": "1308880"
  },
  {
    "text": "certificates if not it will get certificates from Vault what we have in",
    "start": "1308880",
    "end": "1314000"
  },
  {
    "text": "here is the local TF of that specific cluster so we have this environment the",
    "start": "1314000",
    "end": "1319960"
  },
  {
    "text": "flag enable cluster mesh uh on that which we can control if some environment",
    "start": "1319960",
    "end": "1325480"
  },
  {
    "text": "could be false or true and the in the connect cluster mesh which is the list",
    "start": "1325480",
    "end": "1331000"
  },
  {
    "text": "of that cluster will connect the other clusters that will connect so for",
    "start": "1331000",
    "end": "1336120"
  },
  {
    "text": "example if this is the stack for the cluster d right then in development environment it will connect to Cluster a",
    "start": "1336120",
    "end": "1341720"
  },
  {
    "text": "and cluster B in production we'll connect the cluster a b and c and this is a major difference because if you run",
    "start": "1341720",
    "end": "1347840"
  },
  {
    "text": "the the what is in documentation Us in CLI when you connect the cluster a to Cluster B",
    "start": "1347840",
    "end": "1353880"
  },
  {
    "text": "the CLI do both way they do cluster A to B and B to a Helm doesn't work like that",
    "start": "1353880",
    "end": "1360039"
  },
  {
    "text": "so when you put in your cluster D for example to connect the cluster a you",
    "start": "1360039",
    "end": "1365799"
  },
  {
    "text": "need to go into cluster a stack and put the cluster B so this is pretty",
    "start": "1365799",
    "end": "1372000"
  },
  {
    "text": "important okay how you how users control  uh Network policies in our case with",
    "start": "1372000",
    "end": "1377640"
  },
  {
    "text": "Dev console so what is Dev console Dev console is an internal developer platform a solution for offering",
    "start": "1377640",
    "end": "1383960"
  },
  {
    "text": "infrastructure resource from all platform product team so a developer when they when they need to start a new",
    "start": "1383960",
    "end": "1390320"
  },
  {
    "text": "project they he access the dev console and ask for a new project give a name to",
    "start": "1390320",
    "end": "1395880"
  },
  {
    "text": "the project this will trigger a gitlab uh repository and he can choose the",
    "start": "1395880",
    "end": "1403520"
  },
  {
    "text": "templates I he wants to develop using Java and and spring boot it create a",
    "start": "1403520",
    "end": "1409080"
  },
  {
    "text": "template with Javas spring blue with a sample of gitlab C that will do build test and",
    "start": "1409080",
    "end": "1415880"
  },
  {
    "text": "deploy and he can also configure the resource usage for that specific",
    "start": "1415880",
    "end": "1421400"
  },
  {
    "text": "component the uh hbaa and stuffs like that so here is the a part of the screen",
    "start": "1421400",
    "end": "1430000"
  },
  {
    "text": "is in Portuguese but I will try to mention the most important Point here um",
    "start": "1430000",
    "end": "1435600"
  },
  {
    "text": "so this is a screen for a service called a demo Dev Services KO",
    "start": "1435600",
    "end": "1440640"
  },
  {
    "text": "2-6 so um here is the Ingress and egress rules so when a developer needs to",
    "start": "1440640",
    "end": "1446240"
  },
  {
    "text": "access some of the some other some other API other application they have a button",
    "start": "1446240",
    "end": "1452400"
  },
  {
    "text": "here which is called which has a new access new new a new request then he uh",
    "start": "1452400",
    "end": "1461760"
  },
  {
    "text": "types the name of the service that he won't connect this will trigger um uh",
    "start": "1461760",
    "end": "1467840"
  },
  {
    "text": "like a uh um for the audit team some kind of uh approvement rules if the user",
    "start": "1467840",
    "end": "1474480"
  },
  {
    "text": "the the developers of that API approve so so the access will be uh will be okay",
    "start": "1474480",
    "end": "1483279"
  },
  {
    "text": "what this really do behind the scenes is creating ceiling Network policy so we have uh that ceiling Network policy for",
    "start": "1483279",
    "end": "1491440"
  },
  {
    "text": "for demo Dev Services KO 2-6 uh having access from demo Dev",
    "start": "1491440",
    "end": "1497279"
  },
  {
    "text": "services 2-6 and the other way around so uh this is basically what Dev consol do",
    "start": "1497279",
    "end": "1503200"
  },
  {
    "text": "is create those policies in our clusters and this is have have and this policies",
    "start": "1503200",
    "end": "1509240"
  },
  {
    "text": "applies to all all clusters that we have in ATS in no premise",
    "start": "1509240",
    "end": "1515960"
  },
  {
    "text": "infrastructure uh the challenges that we Face uh this was the most difficult one",
    "start": "1515960",
    "end": "1521159"
  },
  {
    "text": "poo a of fire was generate V ex land drops due to a bug so I mean so if you",
    "start": "1521159",
    "end": "1526200"
  },
  {
    "text": "have infrastructure using p to uh you should check this this document because",
    "start": "1526200",
    "end": "1532960"
  },
  {
    "text": "we spend a lot of months on that we were thinking that maybe the problem was in that Amazon components or Gateway and we",
    "start": "1532960",
    "end": "1541200"
  },
  {
    "text": "tried to do but the problem was on the Palo Alo which was dropping the excellent package the the solution was",
    "start": "1541200",
    "end": "1547960"
  },
  {
    "text": "basically some kind of profile that they write there I don't know really about",
    "start": "1547960",
    "end": "1553039"
  },
  {
    "text": "Palo Alo but our security team did that and it works at that time we have just",
    "start": "1553039",
    "end": "1558320"
  },
  {
    "text": "our clusters in our on premise data center talking to each other through cluster mesh really well and AKs talking",
    "start": "1558320",
    "end": "1565880"
  },
  {
    "text": "to each other really well but when they need to connect uh to to infrastructure",
    "start": "1565880",
    "end": "1571600"
  },
  {
    "text": "that are on different data centers it was not working uh agent memor Leake bug",
    "start": "1571600",
    "end": "1577799"
  },
  {
    "text": "this is was pretty pretty complicated uh when you have the cluster MH aable and",
    "start": "1577799",
    "end": "1583640"
  },
  {
    "text": "clusters are connected the asilum agent basically increases memories a lot and",
    "start": "1583640",
    "end": "1589120"
  },
  {
    "text": "we don't have limits to to to agent so they start to um keep stop working",
    "start": "1589120",
    "end": "1597480"
  },
  {
    "text": "our nodes because of the lack of the memory uh cluster connect and enable",
    "start": "1597480",
    "end": "1602760"
  },
  {
    "text": "cluster Mees with with selum CLI and Helm was a bit confused because of the lack of interoperability between the two",
    "start": "1602760",
    "end": "1609240"
  },
  {
    "text": "so they have an issue about that but basically if you in the past we connected our closers using CLI so okay",
    "start": "1609240",
    "end": "1615480"
  },
  {
    "text": "now we will do automation so when when you start to working with Helm Things become weird and then we saw that they",
    "start": "1615480",
    "end": "1623240"
  },
  {
    "text": "are conflict they not work if you are working with CLI you need to keep going with C until the end and if you work",
    "start": "1623240",
    "end": "1630720"
  },
  {
    "text": "with Helm you just have to work with Helm to to control that configuration uh there was an issue on",
    "start": "1630720",
    "end": "1636960"
  },
  {
    "text": "selum I don't know if it's fixed it's fixed because we just work it with Helm and uh no use for",
    "start": "1636960",
    "end": "1646799"
  },
  {
    "text": "anymore um when Point important point we had to disconnect everything and disable cluster me of CLI to get it working with",
    "start": "1646799",
    "end": "1653399"
  },
  {
    "text": "hel so it was really complicated uh with cluster MH and sis",
    "start": "1653399",
    "end": "1659080"
  },
  {
    "text": "discover mechanism working we are now able to deploy the same application both Cloud infrastructure what happened now is when a developer creates a project H",
    "start": "1659080",
    "end": "1667640"
  },
  {
    "text": "it will be on in one cluster or on primis or in Amazon and you can migrate this",
    "start": "1667640",
    "end": "1675360"
  },
  {
    "text": "from one side to another and from clusters to Cluster this is possible with Dev console but we cannot have the",
    "start": "1675360",
    "end": "1681240"
  },
  {
    "text": "ability to run both in the same data senters which is a very cool feature that we have with cluster mesh and we",
    "start": "1681240",
    "end": "1688480"
  },
  {
    "text": "would like to use so working will be done in dep console to enable this",
    "start": "1688480",
    "end": "1693559"
  },
  {
    "text": "because uh we do the deploy in the pipeline using Dev console",
    "start": "1693559",
    "end": "1699279"
  },
  {
    "text": "apis uh extend observability with HBO gra tools because of the BPF we would",
    "start": "1699279",
    "end": "1704360"
  },
  {
    "text": "like to use this a lot but we use din Trace Also may OB cability software",
    "start": "1704360",
    "end": "1709679"
  },
  {
    "text": "right now so this is something that we are discussing internally um we would like to use",
    "start": "1709679",
    "end": "1716080"
  },
  {
    "text": "Gateway API to split traffic and enable caner deployment we need to see how this work in closer mesh so we don't we are",
    "start": "1716080",
    "end": "1722600"
  },
  {
    "text": "studying and do some doing some tests but uh it's all that I'm here for your",
    "start": "1722600",
    "end": "1730240"
  },
  {
    "text": "questions thank you for your",
    "start": "1730240",
    "end": "1733600"
  },
  {
    "text": "time",
    "start": "1737039",
    "end": "1740039"
  },
  {
    "text": "uh if you don't have enough time my my LinkedIn is on the sket and you can",
    "start": "1744039",
    "end": "1750080"
  },
  {
    "text": "reach me to more detail there is a lot of things that we did when we but we could I could not be able to speak just",
    "start": "1750080",
    "end": "1756320"
  },
  {
    "text": "in 30 minutes here but you can reach me to to find more Hello things just one",
    "start": "1756320",
    "end": "1761559"
  },
  {
    "text": "one quick question uh regarding the I'm here sorry uh regarding the on premises",
    "start": "1761559",
    "end": "1768440"
  },
  {
    "text": "um CDM custom M config you using no port or low balancer for that if you are",
    "start": "1768440",
    "end": "1774080"
  },
  {
    "text": "using low balancer to connect both cust external or using metal lb for that uh",
    "start": "1774080",
    "end": "1780760"
  },
  {
    "text": "we using in op St infrastructure we using the L the open stack lb and on on",
    "start": "1780760",
    "end": "1787600"
  },
  {
    "text": "Amazon AKs we're using Amazon lb okay cool thank you thank",
    "start": "1787600",
    "end": "1794518"
  },
  {
    "text": "you hello uh I have one question hi thanks",
    "start": "1797039",
    "end": "1804919"
  },
  {
    "text": "for the uh presentation thank you I just wanted to ask uh what component uses the",
    "start": "1804919",
    "end": "1811000"
  },
  {
    "text": "VXL so is it from the uh Amazon Direct Connect or uh I'm not sure because that",
    "start": "1811000",
    "end": "1818640"
  },
  {
    "text": "that Network part of the interon intercommunication between our on",
    "start": "1818640",
    "end": "1823720"
  },
  {
    "text": "premise Data Center and uh on premise and Amazon is done by other team uh so I",
    "start": "1823720",
    "end": "1830320"
  },
  {
    "text": "really don't know the protocol but I think uh there is a lot of protocol because uh Gator load balancer work on",
    "start": "1830320",
    "end": "1836000"
  },
  {
    "text": "genev protocol and but we could be able to connect VX L directly from one side",
    "start": "1836000",
    "end": "1842600"
  },
  {
    "text": "to another uh you can reach me out after I can ask this question for our Network",
    "start": "1842600",
    "end": "1848159"
  },
  {
    "text": "team thanks and and did you have any challenges with the IP management over the sites uh yeah uh you need to control",
    "start": "1848159",
    "end": "1856720"
  },
  {
    "text": "the the cluster IP CDR and when you control that uh you you will not have",
    "start": "1856720",
    "end": "1863679"
  },
  {
    "text": "problems but if you don't control and get the same IPS from one close to",
    "start": "1863679",
    "end": "1869080"
  },
  {
    "text": "another this will give you problems but we don't have faced any of",
    "start": "1869080",
    "end": "1874158"
  },
  {
    "text": "them have you done a lot of uh traffic management between your clusters so the",
    "start": "1874240",
    "end": "1879679"
  },
  {
    "text": "documentation States uh every service needs to exist for that uh traffic to do",
    "start": "1879679",
    "end": "1886039"
  },
  {
    "text": "uh I think essentially it's default to around Robin yeah then trying to um do",
    "start": "1886039",
    "end": "1891639"
  },
  {
    "text": "any kind of a what's your experience on that cuz at the moment I'm trying to be very declarative in my traffic",
    "start": "1891639",
    "end": "1898279"
  },
  {
    "text": "management um and I was I was speaking with Marcel for my surveillant we're thinking that uh you could just not",
    "start": "1898279",
    "end": "1904080"
  },
  {
    "text": "create a service in a cluster and it won't and it'll go to the other clusters I'm just curious if uh we don't have any",
    "start": "1904080",
    "end": "1910600"
  },
  {
    "text": "problem traffic manage but this is something that we need to to do uh all clusters should have the services So Def",
    "start": "1910600",
    "end": "1918080"
  },
  {
    "text": "basically deploy deploy all services in our clusters uh we have our link is very",
    "start": "1918080",
    "end": "1924120"
  },
  {
    "text": "with d with Amazon is very good so I don't I don't know if any of any",
    "start": "1924120",
    "end": "1929600"
  },
  {
    "text": "problems of traffic manager between this connection points but again I'm not the network team uh but I think if you had",
    "start": "1929600",
    "end": "1937720"
  },
  {
    "text": "some they had reported",
    "start": "1937720",
    "end": "1941480"
  },
  {
    "text": "me thank youell mat hello um some thing we are dealing with is cluster MH right",
    "start": "1943240",
    "end": "1951679"
  },
  {
    "text": "now um Brazilian company choose St oh good",
    "start": "1951679",
    "end": "1957840"
  },
  {
    "text": "um okay we understand that pod IP must",
    "start": "1957840",
    "end": "1963639"
  },
  {
    "text": "not conflict but Services how you deal with Services because in the cluster",
    "start": "1963639",
    "end": "1970200"
  },
  {
    "text": "mesh if you have the same IP for services in our entire",
    "start": "1970200",
    "end": "1976639"
  },
  {
    "text": "environment okay there is no problem with Services you can have the overlapping IP address for IP for",
    "start": "1976639",
    "end": "1983399"
  },
  {
    "text": "services I mean you can have the same services with the with the same IP on different clusters that's not a problem",
    "start": "1983399",
    "end": "1989440"
  },
  {
    "text": "it uses the services just a for a reference what it cannot be uh",
    "start": "1989440",
    "end": "1994679"
  },
  {
    "text": "overlapping is the Pod IP which is the problem if you had overlapping or same",
    "start": "1994679",
    "end": "2001320"
  },
  {
    "text": "IP in the both in both clusters or in your clusters in the cluster match you have problems but you don't need to to",
    "start": "2001320",
    "end": "2008240"
  },
  {
    "text": "care about servy IPS from our perspective okay thank",
    "start": "2008240",
    "end": "2015159"
  },
  {
    "text": "you hello and thank you for the talk uh I have a question if you have one node",
    "start": "2016000",
    "end": "2022320"
  },
  {
    "text": "or even a cluster of communities running behind not one or two or more can you",
    "start": "2022320",
    "end": "2029360"
  },
  {
    "text": "connect those with uh Ser M I think you can uh because uh I I think",
    "start": "2029360",
    "end": "2038320"
  },
  {
    "text": "there is a lot of net between our connectivity with Amazon but the point",
    "start": "2038320",
    "end": "2043559"
  },
  {
    "text": "is that VX Lan traffic should be enabl in all this components should you should guarantee that you have VX working on",
    "start": "2043559",
    "end": "2050960"
  },
  {
    "text": "both but I think it's working work well with with net in this behind the",
    "start": "2050960",
    "end": "2056358"
  },
  {
    "text": "Clusters because this is our scenario we have Nets in some parts in the communication between our own premise",
    "start": "2056359",
    "end": "2063118"
  },
  {
    "text": "and Amazon and it works well all right thank you very much thank you very much",
    "start": "2063119",
    "end": "2069720"
  },
  {
    "text": "uh so you need to have non-conflicting networks for ports uh but what if you",
    "start": "2073440",
    "end": "2080398"
  },
  {
    "text": "initially had do you have experience changing the network p network on the cluster on the kind of fly without",
    "start": "2080399",
    "end": "2088480"
  },
  {
    "text": "destroying and creating the cluster yeah yeah that's right we had when you enable this the when you put some po CDR you",
    "start": "2088480",
    "end": "2096720"
  },
  {
    "text": "need and you want to change I mean if you start with some CDR and you want to change this is very complicated we have",
    "start": "2096720",
    "end": "2103359"
  },
  {
    "text": "to restart and Destroy every node to get a new one so this we pass to this in our",
    "start": "2103359",
    "end": "2110880"
  },
  {
    "text": "test environments and kind of uh annoying but when the cluster born with",
    "start": "2110880",
    "end": "2116200"
  },
  {
    "text": "the right CDR then you have no problems in our",
    "start": "2116200",
    "end": "2121440"
  },
  {
    "text": "experience okay thank you very much for your time uh I appreciate having you here guys",
    "start": "2124480",
    "end": "2130240"
  },
  {
    "text": "thank you",
    "start": "2130240",
    "end": "2136480"
  }
]