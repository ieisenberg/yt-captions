[
  {
    "start": "0",
    "end": "72000"
  },
  {
    "text": "my name is Dan Wilson thanks for for being here this isn't about me it's",
    "start": "30",
    "end": "5460"
  },
  {
    "text": "about you so I'd like to know a little bit about the audience if that's okay how many folks here are using kubernetes",
    "start": "5460",
    "end": "14070"
  },
  {
    "text": "already nice nice quite a bit and how many are",
    "start": "14070",
    "end": "19800"
  },
  {
    "text": "new to goober Nettie's okay so a pretty even split there it",
    "start": "19800",
    "end": "25830"
  },
  {
    "text": "looks like and then how many are developers",
    "start": "25830",
    "end": "31550"
  },
  {
    "text": "very good good group of developers so any ops here a little bit",
    "start": "31550",
    "end": "39500"
  },
  {
    "text": "some QA or program management scrum master",
    "start": "39500",
    "end": "46550"
  },
  {
    "text": "okay so I've already failed because there's no way I can please everybody",
    "start": "46550",
    "end": "51960"
  },
  {
    "text": "there's like kind of 50/50 split between all those things so I'll do my best to cover content that's appropriate for",
    "start": "51960",
    "end": "58920"
  },
  {
    "text": "each of you but like I said it's gonna be tough but I'm glad to see a high",
    "start": "58920",
    "end": "64228"
  },
  {
    "text": "amount of developers so that means I'll focus a little bit more on some of the code pieces",
    "start": "64229",
    "end": "70430"
  },
  {
    "start": "72000",
    "end": "192000"
  },
  {
    "text": "so I concur this is a quick agenda I don't think it's much there but if you",
    "start": "72899",
    "end": "81250"
  },
  {
    "text": "don't know about concur we make travel and spend management easier for businesses",
    "start": "81250",
    "end": "88600"
  },
  {
    "text": "and we have quite a few tools that do this there's our concur mobile app there's TripIt recently we have Hipmunk",
    "start": "88600",
    "end": "96729"
  },
  {
    "text": "as well as one of the pieces of concur technology the whole focus though is on",
    "start": "96729",
    "end": "102130"
  },
  {
    "text": "our end users the folks actually traveling and getting reimbursed for the travel while",
    "start": "102130",
    "end": "108849"
  },
  {
    "text": "they're on the road so it's really important for us that our tools and services are available all the time and",
    "start": "108849",
    "end": "113909"
  },
  {
    "text": "easy to use we've been growing at a pretty steady",
    "start": "113909",
    "end": "119409"
  },
  {
    "text": "clip a few years ago we were purchased by us AP and that helped accelerate our growth",
    "start": "119409",
    "end": "126429"
  },
  {
    "text": "actually we've we've been growing even faster since s AP acquired us and we've",
    "start": "126429",
    "end": "132519"
  },
  {
    "text": "done a fairly good job of keeping that concur culture in place prior to the AP",
    "start": "132519",
    "end": "138370"
  },
  {
    "text": "acquisition so it's it's important to us that the company didn't change too much as a result of that acquisition",
    "start": "138370",
    "end": "146670"
  },
  {
    "text": "these are the guys that helped make kubernetes possible at concur so really",
    "start": "146670",
    "end": "153250"
  },
  {
    "text": "happy to work with the folks on the slide there's a few remote people that",
    "start": "153250",
    "end": "158950"
  },
  {
    "text": "couldn't be in the picture I feel bad cuz because one of them is right here Chris but thank you for the team and as you",
    "start": "158950",
    "end": "168280"
  },
  {
    "text": "all know today is election day so to take a little bit of pressure off I",
    "start": "168280",
    "end": "173590"
  },
  {
    "text": "thought you know I'd just let you know who I'm voting for because you know that way you can already decide",
    "start": "173590",
    "end": "180700"
  },
  {
    "text": "whether or not you like me or hate me so I'm voting for treilery come on",
    "start": "180700",
    "end": "186160"
  },
  {
    "text": "treilery for president",
    "start": "186160",
    "end": "189480"
  },
  {
    "start": "192000",
    "end": "414000"
  },
  {
    "text": "so how do we build kubernetes that concur because we're doing this in all of our data centers and also in the",
    "start": "193490",
    "end": "200730"
  },
  {
    "text": "cloud so we use a number of tools some of which you wouldn't expect on the",
    "start": "200730",
    "end": "209010"
  },
  {
    "text": "slide like yeoman yeoman is actually really important for us because from a",
    "start": "209010",
    "end": "214080"
  },
  {
    "text": "developer perspective we've got a whole bunch of different dev teams hundreds of",
    "start": "214080",
    "end": "219120"
  },
  {
    "text": "different dev teams in fact and each of those teams needs a quick way to get",
    "start": "219120",
    "end": "224130"
  },
  {
    "text": "started on micro-services we're currently transitioning between our large monolith to micro-services and",
    "start": "224130",
    "end": "232260"
  },
  {
    "text": "yeoman helps for that because it it with a few commands can scaffold at concur",
    "start": "232260",
    "end": "238410"
  },
  {
    "text": "nodejs app a java app a Python app",
    "start": "238410",
    "end": "243890"
  },
  {
    "text": "c-sharp whatever and it ties it into our whole pipeline that the dev teams can",
    "start": "243890",
    "end": "250470"
  },
  {
    "text": "use to get started granted they can still customize it because this is another thing that's really important to",
    "start": "250470",
    "end": "255870"
  },
  {
    "text": "us second curve is that dev teams actually make good engineering decisions",
    "start": "255870",
    "end": "261650"
  },
  {
    "text": "well if they're always being prescribed to about different pieces of technology",
    "start": "261650",
    "end": "267930"
  },
  {
    "text": "that they have to use then they're not going to be as interested in",
    "start": "267930",
    "end": "273270"
  },
  {
    "text": "making their own engineering decisions and this is what makes my job as a principal architect really challenging",
    "start": "273270",
    "end": "279990"
  },
  {
    "text": "which I enjoy is that every developer team can decide to use the tools and",
    "start": "279990",
    "end": "286470"
  },
  {
    "text": "technology that we've provided as the rails the easy path but they can also",
    "start": "286470",
    "end": "292350"
  },
  {
    "text": "choose to go off the rails and and do their own thing and a lot of cases so",
    "start": "292350",
    "end": "297570"
  },
  {
    "text": "it's in my best interest as a website as a principle architect to make it so it's",
    "start": "297570",
    "end": "303410"
  },
  {
    "text": "easy for them to use the stuff that works well and not as easy to use the stuff that",
    "start": "303410",
    "end": "310140"
  },
  {
    "text": "doesn't work in our platform well at the same time I need to do so in a way that gives them that freedom to choose so we",
    "start": "310140",
    "end": "317880"
  },
  {
    "text": "don't want an ivory tower telling people what to do we've also built a few additional tools internally that I'll",
    "start": "317880",
    "end": "324720"
  },
  {
    "text": "talk about today that helped with this whole platform the whole equal ecosystem",
    "start": "324720",
    "end": "329760"
  },
  {
    "text": "but on the slide here you see flannel we use that as our networking layer core OS",
    "start": "329760",
    "end": "335850"
  },
  {
    "text": "is what we're using for the operating system of all of our kubernetes clusters",
    "start": "335850",
    "end": "341090"
  },
  {
    "text": "terraform is used as our deployment system of the kubernetes clusters and",
    "start": "341090",
    "end": "348020"
  },
  {
    "text": "chris along with another member of our team helped create all of those",
    "start": "348020",
    "end": "353280"
  },
  {
    "text": "terraform templates jenkins and circle cir both up here you",
    "start": "353280",
    "end": "358800"
  },
  {
    "text": "expect those to be competing technologies but we consider that tier to be composable so any CI system can",
    "start": "358800",
    "end": "365970"
  },
  {
    "text": "plug in to our platform we need to have our code internal so that's why we we went with github",
    "start": "365970",
    "end": "372090"
  },
  {
    "text": "Enterprise and we have f5s in our data center so we",
    "start": "372090",
    "end": "377280"
  },
  {
    "text": "needed to integrate with f5 our monolith currently uses that as a primary way of",
    "start": "377280",
    "end": "384060"
  },
  {
    "text": "communicating so it's important for us to make sure that everything works inside our data centers just like it",
    "start": "384060",
    "end": "390930"
  },
  {
    "text": "does for the monolith with these new micro services a few ones that you definitely don't",
    "start": "390930",
    "end": "397500"
  },
  {
    "text": "recognize the penguin there is a tool we wrote called skipper that that tool I'll talk about later",
    "start": "397500",
    "end": "405600"
  },
  {
    "text": "same with Haku upper right corner and Citadel lower right corner additional tooling that we built",
    "start": "405600",
    "end": "414560"
  },
  {
    "start": "414000",
    "end": "819000"
  },
  {
    "text": "this is a little peek into how we lay out our clusters we like this is not a",
    "start": "414680",
    "end": "423750"
  },
  {
    "text": "real view but but in each location we have many kubernetes clusters and we did this",
    "start": "423750",
    "end": "430680"
  },
  {
    "text": "on purpose we did this because everything fails",
    "start": "430680",
    "end": "437120"
  },
  {
    "text": "yes even clustered technologies fail as much as I wish the every cluster of",
    "start": "437120",
    "end": "446310"
  },
  {
    "text": "technology was actually truly 100% resilient fault tolerant always on",
    "start": "446310",
    "end": "453020"
  },
  {
    "text": "there's always gotchas that happened you can look through the high availability guide there's a lot of great information",
    "start": "453020",
    "end": "460570"
  },
  {
    "text": "about their about how to make kubernetes high-availability are highly available",
    "start": "460570",
    "end": "466500"
  },
  {
    "text": "things like making sure you have the right number of SED nodes and all the other things in the guide",
    "start": "466500",
    "end": "474120"
  },
  {
    "text": "it's it's helpful but let's face it this is an unknown unknown I don't know if",
    "start": "474120",
    "end": "480400"
  },
  {
    "text": "you've ever heard the term or not but things like my sequel and the ways in",
    "start": "480400",
    "end": "486070"
  },
  {
    "text": "which it fails are pretty well known at this point in time right there's there's",
    "start": "486070",
    "end": "491380"
  },
  {
    "text": "some known unknowns with my sequel like when am I going to run into lock",
    "start": "491380",
    "end": "496660"
  },
  {
    "text": "contention on a particular table I know that that it could happen I don't know",
    "start": "496660",
    "end": "502720"
  },
  {
    "text": "exactly when it will happen so I can monitor for it and protect against it well an unknown unknown is where you",
    "start": "502720",
    "end": "511210"
  },
  {
    "text": "don't know that it's going to fail yet because you just haven't run that technology for a long enough period of",
    "start": "511210",
    "end": "517990"
  },
  {
    "text": "time and this is something that I think that we need to protect against and it's",
    "start": "517990",
    "end": "523419"
  },
  {
    "text": "really important to us because when we're making a service available to our",
    "start": "523419",
    "end": "529000"
  },
  {
    "text": "end users we need to make sure that the technology we choose inside our data center doesn't put us in a situation",
    "start": "529000",
    "end": "535410"
  },
  {
    "text": "where those end users are impacted and this is probably",
    "start": "535410",
    "end": "541290"
  },
  {
    "text": "you could you could look at this either way like some people will probably look at this and say no way you should",
    "start": "541290",
    "end": "547030"
  },
  {
    "text": "definitely not have multiple clusters in one location you should do your best to",
    "start": "547030",
    "end": "553540"
  },
  {
    "text": "make sure that the kubernetes clusters in your environment are highly available and always online and I don't disagree I",
    "start": "553540",
    "end": "560500"
  },
  {
    "text": "think that we'll get there too but there's some really interesting things that came out of us architecting around",
    "start": "560500",
    "end": "568710"
  },
  {
    "text": "having multiple clusters that I want to share here and get some feedback it's",
    "start": "568710",
    "end": "574060"
  },
  {
    "text": "get some understanding from a larger group does this make sense or not because for us it makes sense so far",
    "start": "574060",
    "end": "582900"
  },
  {
    "text": "so what does this look like inside each location there are multiple",
    "start": "582900",
    "end": "590140"
  },
  {
    "text": "kubernetes clusters I show it here with cluster a and class derby we had to tie them into load balancing",
    "start": "590140",
    "end": "599050"
  },
  {
    "text": "and the load balancers are at the top of the diagram we had to still make every",
    "start": "599050",
    "end": "604510"
  },
  {
    "text": "cluster highly available so we have multiple Etsy D nodes in each cluster we",
    "start": "604510",
    "end": "610750"
  },
  {
    "text": "have multiple master nodes in each cluster and obviously the pool of worker",
    "start": "610750",
    "end": "615790"
  },
  {
    "text": "nodes running the actual services in order to properly monitor we had to",
    "start": "615790",
    "end": "621580"
  },
  {
    "text": "move monitoring outside of the cluster so we run ELQ independently of kubernetes",
    "start": "621580",
    "end": "629370"
  },
  {
    "text": "we run from Atheists independent of kubernetes when services are running on",
    "start": "629370",
    "end": "636610"
  },
  {
    "text": "the clusters they get then get tied into the load balancers so traffic hits the",
    "start": "636610",
    "end": "641950"
  },
  {
    "text": "load balancers and then gets directed to all of the worker nodes across both sets",
    "start": "641950",
    "end": "647500"
  },
  {
    "text": "of clusters ok that's great but how",
    "start": "647500",
    "end": "654810"
  },
  {
    "text": "do you expose services because there's not really an easy way to do that today",
    "start": "654810",
    "end": "661709"
  },
  {
    "text": "all right we we needed to make it so if a cluster fails the service is still up",
    "start": "661709",
    "end": "667390"
  },
  {
    "text": "and running but nobody wants to manually go in and",
    "start": "667390",
    "end": "673209"
  },
  {
    "text": "configure the f5 every time you add in a cluster node or every time you add any",
    "start": "673209",
    "end": "678610"
  },
  {
    "text": "service and expose the node ports to each of the nodes so",
    "start": "678610",
    "end": "684540"
  },
  {
    "text": "we came up with this list of requirements that we had and we ended up building",
    "start": "684540",
    "end": "692459"
  },
  {
    "text": "our own plugin it's a it's a go Lane docker container that runs inside",
    "start": "693330",
    "end": "700420"
  },
  {
    "text": "kubernetes it watches the kubernetes api uses the the",
    "start": "700420",
    "end": "706540"
  },
  {
    "text": "new client go api's that this was originally written using the",
    "start": "706540",
    "end": "712140"
  },
  {
    "text": "the go client as a part of the the whole kubernetes project",
    "start": "712140",
    "end": "717570"
  },
  {
    "text": "which became very painful because of all the dependencies so if there's anyone",
    "start": "717570",
    "end": "722980"
  },
  {
    "text": "here that was involved in actually breaking that out and to the stuff client go thank you that was a huge",
    "start": "722980",
    "end": "730029"
  },
  {
    "text": "benefit well what it does it sees that there's a new service or a new node and it calls",
    "start": "730029",
    "end": "736600"
  },
  {
    "text": "our own internal load balancing API that we have to tell our f5 load balancers",
    "start": "736600",
    "end": "743140"
  },
  {
    "text": "that there's a new service or there's a new node so so plug in the right pieces",
    "start": "743140",
    "end": "749760"
  },
  {
    "text": "that also does some extra things as I list out there but how does this help you or hey this",
    "start": "750300",
    "end": "758770"
  },
  {
    "text": "is a custom piece of software or Libre in its using our own api's",
    "start": "758770",
    "end": "765450"
  },
  {
    "text": "well what we did or what I did is I",
    "start": "767130",
    "end": "775440"
  },
  {
    "text": "gave everyone",
    "start": "775440",
    "end": "780029"
  },
  {
    "text": "a version of this that they can use as a template",
    "start": "785059",
    "end": "790389"
  },
  {
    "text": "okay just sec",
    "start": "797319",
    "end": "800798"
  },
  {
    "text": "so this is available publicly now this is a template for creating",
    "start": "819550",
    "end": "828600"
  },
  {
    "text": "a your own go laying binary that will watch the kubernetes event stream and",
    "start": "828810",
    "end": "834930"
  },
  {
    "text": "allow you to plug in your own custom code to do whatever you need to do I",
    "start": "834930",
    "end": "840190"
  },
  {
    "text": "think it's a great thing that the the kubernetes community has developed the",
    "start": "840190",
    "end": "845290"
  },
  {
    "text": "ability to watch the events in the cluster and then handle them using the kubernetes api",
    "start": "845290",
    "end": "851850"
  },
  {
    "text": "so how's this work there's the main package just package go",
    "start": "851850",
    "end": "858960"
  },
  {
    "text": "make this a little bigger for you and there's a few load",
    "start": "858960",
    "end": "864600"
  },
  {
    "text": "not load but a few test scripts so I have this cloned locally here",
    "start": "864600",
    "end": "872970"
  },
  {
    "text": "and I'll just run it actually hold on let me do the one",
    "start": "873000",
    "end": "880270"
  },
  {
    "text": "without docker I set up two different scripts one to test it inside docker and one to test it",
    "start": "880270",
    "end": "886450"
  },
  {
    "text": "without docker because testing inside docker is a little bit",
    "start": "886450",
    "end": "891850"
  },
  {
    "text": "slower s actually build the container and pushed out to docker but they both work the same way as you can see from",
    "start": "891850",
    "end": "897940"
  },
  {
    "text": "the little diagram here it uses mini cube so whoever built mini cube thank",
    "start": "897940",
    "end": "903640"
  },
  {
    "text": "you that that is also awesome it stands up mini cube in the script if it's not running it",
    "start": "903640",
    "end": "910830"
  },
  {
    "text": "creates a loopback interface alias on your Mac it's only for Mac OS",
    "start": "910830",
    "end": "917740"
  },
  {
    "text": "sorry Windows people and the reason why it creates an alias on",
    "start": "917740",
    "end": "922930"
  },
  {
    "text": "loopback interface is because you need to have an own IP address that you're",
    "start": "922930",
    "end": "928240"
  },
  {
    "text": "talking to and that you're exposing the cube control proxy through if you are",
    "start": "928240",
    "end": "933580"
  },
  {
    "text": "going to test with a binary running outside of kubernetes so this binaries",
    "start": "933580",
    "end": "940630"
  },
  {
    "text": "running outside kubernetes because it's it's either running locally on my box and not inside kubernetes or it's",
    "start": "940630",
    "end": "947290"
  },
  {
    "text": "running locally on my box inside docker which is in a different VM than the mini",
    "start": "947290",
    "end": "952959"
  },
  {
    "text": "cube the Amazon so there's just this trickery to make it work locally but if you build and",
    "start": "952959",
    "end": "960540"
  },
  {
    "text": "push this docker container to a repo and",
    "start": "960540",
    "end": "966040"
  },
  {
    "text": "then run it inside a kubernetes cluster it will work the exact same way it's",
    "start": "966040",
    "end": "971170"
  },
  {
    "text": "running here it'll just be running inside kubernetes there's a nice way of testing that that works and that you're",
    "start": "971170",
    "end": "978399"
  },
  {
    "text": "getting events and that you're processing the events locally without having to push it end and all the way",
    "start": "978399",
    "end": "985029"
  },
  {
    "text": "out to kubernetes each time you're iterating",
    "start": "985029",
    "end": "989760"
  },
  {
    "text": "go back to my window here and you can see that it's actually getting events",
    "start": "992730",
    "end": "998230"
  },
  {
    "text": "from my mini cube cluster I'll just scroll to the top so you can see what it did",
    "start": "998230",
    "end": "1005600"
  },
  {
    "text": "it starts the kubernetes cluster creates the alias if it's not there and",
    "start": "1007250",
    "end": "1014180"
  },
  {
    "text": "then runs coop control proxy and starts the golang project which connects up to",
    "start": "1014180",
    "end": "1022290"
  },
  {
    "text": "the kubernetes api and then gets the event stream",
    "start": "1022290",
    "end": "1027740"
  },
  {
    "text": "so I hope you find that useful if not then that's okay maybe something else I",
    "start": "1027890",
    "end": "1034438"
  },
  {
    "text": "have here will be useful for you maybe not",
    "start": "1034439",
    "end": "1039199"
  },
  {
    "text": "this is for everyone here too by the way this isn't for me so if you have any",
    "start": "1040669",
    "end": "1045750"
  },
  {
    "text": "questions feel free to ask any time",
    "start": "1045750",
    "end": "1049339"
  },
  {
    "text": "okay so that oh that solves one problem for us but but",
    "start": "1051320",
    "end": "1058440"
  },
  {
    "text": "what about the the problem of deploying new versions of kubernetes so right now",
    "start": "1058440",
    "end": "1065580"
  },
  {
    "text": "in this example there's kubernetes version 1.2 that's deployed to all the",
    "start": "1065580",
    "end": "1071070"
  },
  {
    "text": "locations what about one 1.3 comes out well it's already out but we're not",
    "start": "1071070",
    "end": "1076080"
  },
  {
    "text": "quite there yet we like to really harden things before we deploy them",
    "start": "1076080",
    "end": "1082190"
  },
  {
    "text": "so so this is what we do we create a whole new set of 1.3 clusters and we actually",
    "start": "1082190",
    "end": "1088820"
  },
  {
    "text": "blue-green kubernetes so we make it available for all of our deployments",
    "start": "1088820",
    "end": "1096220"
  },
  {
    "text": "but this gets messy too and the reason why is because",
    "start": "1096220",
    "end": "1102159"
  },
  {
    "text": "if you have these Cube control scripts that you're using to deploy well the",
    "start": "1102159",
    "end": "1109159"
  },
  {
    "text": "scripts need to know where kubernetes is it needs to know what the context is what the name of it",
    "start": "1109159",
    "end": "1115730"
  },
  {
    "text": "is to deploy against it needs to handle credentials for each of the kubernetes systems and",
    "start": "1115730",
    "end": "1122950"
  },
  {
    "text": "there's a lot of different commands for deploying into kubernetes and they change quite a bit in the past year",
    "start": "1122950",
    "end": "1129470"
  },
  {
    "text": "we've gone from replication controllers to deployments for example and then",
    "start": "1129470",
    "end": "1134539"
  },
  {
    "text": "there's a whole slew of other api's that are available so managing and",
    "start": "1134539",
    "end": "1141769"
  },
  {
    "text": "maintaining all of these scripts in your CI system is really messy there turned",
    "start": "1141769",
    "end": "1148009"
  },
  {
    "text": "out to be probably a hundred different versions of the scripts that people were using whether it was Ben Jenkins or",
    "start": "1148009",
    "end": "1153830"
  },
  {
    "text": "incircle CI or in drone because we have folks using every CI system known to man",
    "start": "1153830",
    "end": "1161080"
  },
  {
    "text": "so what we do we came out with skipper skipper is a lightweight layer on top of",
    "start": "1161080",
    "end": "1169879"
  },
  {
    "text": "the kubernetes api that takes the deployment primitives and",
    "start": "1169879",
    "end": "1176649"
  },
  {
    "text": "translates them into what the right cube control commands are to run against the different kubernetes",
    "start": "1176649",
    "end": "1184220"
  },
  {
    "text": "clusters in each of the data centers so as a developer I can just",
    "start": "1184220",
    "end": "1190570"
  },
  {
    "text": "say I want to deploy this image to the",
    "start": "1190570",
    "end": "1196429"
  },
  {
    "text": "US location and the toilet API then we'll look up okay what are the clusters",
    "start": "1196429",
    "end": "1202399"
  },
  {
    "text": "in the US and what are the environment specific details to the US",
    "start": "1202399",
    "end": "1209870"
  },
  {
    "text": "clusters inject that into the kubernetes amyl and then ultimately push that out",
    "start": "1209870",
    "end": "1216420"
  },
  {
    "text": "to kubernetes via the kubernetes api there's some extras in here too which i",
    "start": "1216420",
    "end": "1223920"
  },
  {
    "text": "think are really cool like for example the set up API which I'll show here",
    "start": "1223920",
    "end": "1229760"
  },
  {
    "text": "allows you to configure your kubernetes client locally there's a configuration",
    "start": "1229760",
    "end": "1236160"
  },
  {
    "text": "IEP I that was written for the ops teams so they can add and remove kubernetes",
    "start": "1236160",
    "end": "1242220"
  },
  {
    "text": "clusters as they become available in each of the zones and",
    "start": "1242220",
    "end": "1247820"
  },
  {
    "text": "well you guys can read I put the docs of what this API is out on github and I",
    "start": "1248150",
    "end": "1255660"
  },
  {
    "text": "have been given approval to open-source it if people are interested if",
    "start": "1255660",
    "end": "1262430"
  },
  {
    "text": "so if you are let me know and I'll I'll put the work into making that open-source but right now the docs are",
    "start": "1262430",
    "end": "1269670"
  },
  {
    "text": "open sourced it so you can see what the API looks like and what the thing actually does and let me know",
    "start": "1269670",
    "end": "1277549"
  },
  {
    "start": "1279000",
    "end": "1889000"
  },
  {
    "text": "so let me demonstrate what this thing does quick I'll just start a local copy",
    "start": "1281330",
    "end": "1288420"
  },
  {
    "text": "of this running",
    "start": "1288420",
    "end": "1292280"
  },
  {
    "text": "and I'm gonna do something that might scare some people",
    "start": "1303070",
    "end": "1309240"
  },
  {
    "text": "and I'm going to remove my coupe config file",
    "start": "1309240",
    "end": "1315240"
  },
  {
    "text": "God so if I do cute control config view",
    "start": "1315240",
    "end": "1323010"
  },
  {
    "text": "nothing danger right",
    "start": "1323010",
    "end": "1329640"
  },
  {
    "text": "how am I gonna know where my kubernetes clusters are so I'll just show you an",
    "start": "1329640",
    "end": "1335230"
  },
  {
    "text": "example of what the API call is here I just provide my kubernetes namespace and",
    "start": "1335230",
    "end": "1340840"
  },
  {
    "text": "the token to connect up to the kubernetes clusters and then I provide",
    "start": "1340840",
    "end": "1348430"
  },
  {
    "text": "that to the skipper setup API and I pipe the results tube in bash",
    "start": "1348430",
    "end": "1354180"
  },
  {
    "text": "what this thing is going to do is it's going to take that information and",
    "start": "1354180",
    "end": "1360750"
  },
  {
    "text": "translate it into the right cube control config commands to actually",
    "start": "1360750",
    "end": "1367530"
  },
  {
    "text": "create my configuration so I'll just show you the config commands that it creates here it's a bunch of different",
    "start": "1367530",
    "end": "1375190"
  },
  {
    "text": "commands setting certificates and whatever else so I'll just run that now",
    "start": "1375190",
    "end": "1380320"
  },
  {
    "text": "for real I'm using a different copy that has real credentials not the one that I showed you on the screen",
    "start": "1380320",
    "end": "1388230"
  },
  {
    "text": "and",
    "start": "1392319",
    "end": "1395319"
  },
  {
    "text": "now if I do a config view and I'm just gonna",
    "start": "1402440",
    "end": "1410240"
  },
  {
    "text": "whoops copy/paste",
    "start": "1410240",
    "end": "1414440"
  },
  {
    "text": "now I have a bunch of kubernetes clusters",
    "start": "1416720",
    "end": "1421070"
  },
  {
    "text": "so that just simplifies things for developers right they can run that",
    "start": "1421820",
    "end": "1427230"
  },
  {
    "text": "command get all the latest clusters that Ops has configured you have a question sir",
    "start": "1427230",
    "end": "1434210"
  },
  {
    "text": "the question is when I got Miss open-sourced how did that go with my",
    "start": "1443140",
    "end": "1448570"
  },
  {
    "text": "upper management what kind of battles did I have to fight well that's a good question I think that this is very",
    "start": "1448570",
    "end": "1454210"
  },
  {
    "text": "different depending on where you work for us the it was just a question of",
    "start": "1454210",
    "end": "1459700"
  },
  {
    "text": "value what's the value to concur for open sourcing this and I think that's a",
    "start": "1459700",
    "end": "1466630"
  },
  {
    "text": "pretty easy one honestly because it shows to the community that were out",
    "start": "1466630",
    "end": "1473680"
  },
  {
    "text": "there actively contributing and as a result I think that that",
    "start": "1473680",
    "end": "1478920"
  },
  {
    "text": "transitions to folks being more willing to work that concur because they can they can come to concur as a developer",
    "start": "1478920",
    "end": "1486190"
  },
  {
    "text": "and work their nine-to-five day to day getting really cool stuff done for",
    "start": "1486190",
    "end": "1492130"
  },
  {
    "text": "concur but they can also translate that into how does that help the rest of the world and show value",
    "start": "1492130",
    "end": "1501150"
  },
  {
    "text": "outside of the workplace as well so so that's that was my argument for it and",
    "start": "1501150",
    "end": "1507520"
  },
  {
    "text": "that that went really well obviously we have a process that we need to go through for open sourcing things and",
    "start": "1507520",
    "end": "1513340"
  },
  {
    "text": "sometimes that can be a little bit heavy but but it just depends on what we're doing",
    "start": "1513340",
    "end": "1518680"
  },
  {
    "text": "something like this that's just an API or a shell sample program with no",
    "start": "1518680",
    "end": "1526000"
  },
  {
    "text": "business logic is much easier to get open source than something that had internal",
    "start": "1526000",
    "end": "1531660"
  },
  {
    "text": "anything baked into it",
    "start": "1531660",
    "end": "1535560"
  },
  {
    "text": "exactly exactly yeah any other questions",
    "start": "1538560",
    "end": "1546679"
  },
  {
    "text": "haha great question how does this overlap with native kubernetes",
    "start": "1548510",
    "end": "1553590"
  },
  {
    "text": "Federation so we haven't figured that out yet I think it's a little bit",
    "start": "1553590",
    "end": "1559110"
  },
  {
    "text": "different what we're doing then the native Federation we would like to",
    "start": "1559110",
    "end": "1564360"
  },
  {
    "text": "transition towards Native Federation as well but I don't know that the goals of",
    "start": "1564360",
    "end": "1569390"
  },
  {
    "text": "Federation line up with our goals here either so one of the things that was really",
    "start": "1569390",
    "end": "1574710"
  },
  {
    "text": "important to us was abstracting the kubernetes api from developers so that",
    "start": "1574710",
    "end": "1579930"
  },
  {
    "text": "their deployment privet primitives would be stable no matter which direction the",
    "start": "1579930",
    "end": "1586440"
  },
  {
    "text": "kubernetes community goes in another benefit here is that we can deploy to",
    "start": "1586440",
    "end": "1591570"
  },
  {
    "text": "multiple clusters in a single location and from what I've seen so far of",
    "start": "1591570",
    "end": "1596580"
  },
  {
    "text": "Federation I'm certainly not an expert is that it's more designed around having",
    "start": "1596580",
    "end": "1602840"
  },
  {
    "text": "individual clusters in multiple locations so",
    "start": "1602840",
    "end": "1607880"
  },
  {
    "text": "the other thing that I love about this is it is very opinionated for us right",
    "start": "1607880",
    "end": "1614810"
  },
  {
    "text": "it solves our needs based on what tools we have in our environment and we can",
    "start": "1614810",
    "end": "1621540"
  },
  {
    "text": "decide what the configuration [Music] logic is that ends up getting pushed out",
    "start": "1621540",
    "end": "1628170"
  },
  {
    "text": "for our services in each of the various locations things like this is my name",
    "start": "1628170",
    "end": "1633210"
  },
  {
    "text": "for my service are plugged in as an environment variable into the container or here's how to get to the service",
    "start": "1633210",
    "end": "1641220"
  },
  {
    "text": "discovery endpoint in this location also plugged into an environment variable here's what your proxy server is to",
    "start": "1641220",
    "end": "1648360"
  },
  {
    "text": "reach the internet for this location and all that's configurable when the ops",
    "start": "1648360",
    "end": "1653550"
  },
  {
    "text": "team plugs in a new location or a new cluster they decide here are the values that we want to advertise and it's it's",
    "start": "1653550",
    "end": "1662130"
  },
  {
    "text": "not strict and the design of the application for what you can plug in there but it's strict for us and what",
    "start": "1662130",
    "end": "1668520"
  },
  {
    "text": "we've decided to provide is that bear",
    "start": "1668520",
    "end": "1675289"
  },
  {
    "text": "another question sir",
    "start": "1675320",
    "end": "1678950"
  },
  {
    "text": "have I considered trying to roll this back up stream it I certainly will",
    "start": "1683450",
    "end": "1689520"
  },
  {
    "text": "I'm not against it I liked the freedom of being able to work on our problem and",
    "start": "1689520",
    "end": "1694590"
  },
  {
    "text": "get it deployed quickly for concur so that we could move forward very fast and",
    "start": "1694590",
    "end": "1700380"
  },
  {
    "text": "we had this Multi cluster configuration working early this year and it's been",
    "start": "1700380",
    "end": "1707700"
  },
  {
    "text": "tremendously beneficial for us to get teams on-boarded quickly so I haven't",
    "start": "1707700",
    "end": "1714510"
  },
  {
    "text": "really considered what it would take to push some of this functionality back upstream but I'm certainly willing to have those conversations with people if",
    "start": "1714510",
    "end": "1720720"
  },
  {
    "text": "it makes sense all right okay so",
    "start": "1720720",
    "end": "1726560"
  },
  {
    "text": "let's see ten minutes before lunch I'll do another",
    "start": "1726560",
    "end": "1733520"
  },
  {
    "text": "quick demo here this is deploying a service",
    "start": "1733520",
    "end": "1738980"
  },
  {
    "text": "to multiple locations this is our spec for what that looks like this it has a",
    "start": "1738980",
    "end": "1747150"
  },
  {
    "text": "name for the deployment my my kubernetes token the port it runs on which",
    "start": "1747150",
    "end": "1753840"
  },
  {
    "text": "locations it will deploy to if I wanted to deploy to every single kubernetes cluster in every single location I would",
    "start": "1753840",
    "end": "1760020"
  },
  {
    "text": "just take that out and it would deploy it everywhere whether or not this is exposed through",
    "start": "1760020",
    "end": "1767520"
  },
  {
    "text": "the f5 and a container spec which is simplified of",
    "start": "1767520",
    "end": "1774080"
  },
  {
    "text": "what gets deployed and let me just",
    "start": "1774080",
    "end": "1779960"
  },
  {
    "text": "change that name",
    "start": "1779960",
    "end": "1783590"
  },
  {
    "text": "so in the background there you can see it going through and doing some stuff there's a 401 there that I'm sure",
    "start": "1792539",
    "end": "1799559"
  },
  {
    "text": "someone will notice but that's just another API call we have built into this to plug it into service discovery which",
    "start": "1799559",
    "end": "1805679"
  },
  {
    "text": "it can't reach from here and it deployed it to two clusters in",
    "start": "1805679",
    "end": "1813119"
  },
  {
    "text": "Seattle and it gave me my one endpoint for both of those clusters I can keep",
    "start": "1813119",
    "end": "1819929"
  },
  {
    "text": "control config use context SCA 3 I",
    "start": "1819929",
    "end": "1828289"
  },
  {
    "text": "get the pods and",
    "start": "1828409",
    "end": "1832339"
  },
  {
    "text": "this is the one I just deployed it's been running for 39 seconds",
    "start": "1833989",
    "end": "1840589"
  },
  {
    "text": "and if I hit that oops and point oh",
    "start": "1842690",
    "end": "1849429"
  },
  {
    "text": "this does a deployment by default too",
    "start": "1849429",
    "end": "1855998"
  },
  {
    "text": "and there's my service running across multiple kubernetes clusters I could show you the f5 and how that gets",
    "start": "1865680",
    "end": "1873630"
  },
  {
    "text": "plugged in if you're interested but since there's limited time I'll continue on the slides unless somebody absolutely",
    "start": "1873630",
    "end": "1880650"
  },
  {
    "text": "needs to see that okay",
    "start": "1880650",
    "end": "1885410"
  },
  {
    "start": "1889000",
    "end": "2216000"
  },
  {
    "text": "okay so that's a look at the pipeline we're using we are using artifactory as well the the way the artifactory works",
    "start": "1891870",
    "end": "1899190"
  },
  {
    "text": "for us is we have a development environment that CI systems can push images to and then",
    "start": "1899190",
    "end": "1908309"
  },
  {
    "text": "when they do a promotion well they have to be logged in to do a push first of",
    "start": "1908309",
    "end": "1913350"
  },
  {
    "text": "all they have to have a named account for their team when we do a promotion with artifactory",
    "start": "1913350",
    "end": "1919260"
  },
  {
    "text": "it first goes to a staging environment where they can do their testing and then",
    "start": "1919260",
    "end": "1925010"
  },
  {
    "text": "if they do another promotion then it goes to release when it goes to release",
    "start": "1925010",
    "end": "1930120"
  },
  {
    "text": "then artifactory replicates the images across to all of our data centers so",
    "start": "1930120",
    "end": "1936510"
  },
  {
    "text": "that that image can then be pulled in from kubernetes locally just again",
    "start": "1936510",
    "end": "1942030"
  },
  {
    "text": "something that's really important for us we don't ever want to be in a situation where a we're putting strain on network",
    "start": "1942030",
    "end": "1948840"
  },
  {
    "text": "or work or coupled tightly to network whether it's swen or Internet to pull",
    "start": "1948840",
    "end": "1955170"
  },
  {
    "text": "down our outer facts and run them and artifactory helps us with that so",
    "start": "1955170",
    "end": "1960660"
  },
  {
    "text": "skipper then another one of those config items it replaces the docker image path",
    "start": "1960660",
    "end": "1969059"
  },
  {
    "text": "with the right artifactory location so that when I deploy to all clusters I",
    "start": "1969059",
    "end": "1974580"
  },
  {
    "text": "don't have to know for this location I need to set up my configuration the amyl",
    "start": "1974580",
    "end": "1980370"
  },
  {
    "text": "to pull to a different or pull from a different artifactory location it just it handles that with a simple string",
    "start": "1980370",
    "end": "1987540"
  },
  {
    "text": "replace on deployment as I mentioned circle CI is one of the CI systems we",
    "start": "1987540",
    "end": "1993300"
  },
  {
    "text": "use we also use Jenkins so since this is an abstracted API it's just a rest call",
    "start": "1993300",
    "end": "1999480"
  },
  {
    "text": "to do the deployment it's really easy for any CI system to plug into it I",
    "start": "1999480",
    "end": "2005620"
  },
  {
    "text": "already showed you the skipper demo so what do we learn this is more like what",
    "start": "2006610",
    "end": "2013280"
  },
  {
    "text": "we learned from a developer perspective first testing locally is really critical and",
    "start": "2013280",
    "end": "2021350"
  },
  {
    "text": "testing locally inside a container is nearly as critical I've had number of",
    "start": "2021350",
    "end": "2027119"
  },
  {
    "text": "situations where developers have said hey you know I ran my XYZ app doesn't",
    "start": "2027119",
    "end": "2035970"
  },
  {
    "text": "matter if his goal laying node asp.net whatever app locally and then",
    "start": "2035970",
    "end": "2042450"
  },
  {
    "text": "when I pushed it to kubernetes it it's not running it's in this crashed",
    "start": "2042450",
    "end": "2047970"
  },
  {
    "text": "loop back off state and it's throwing an error what's what's wrong with kubernetes and",
    "start": "2047970",
    "end": "2055190"
  },
  {
    "text": "almost a hundred percent of the time when this happens it's because the developer when they tested they tested",
    "start": "2055280",
    "end": "2062940"
  },
  {
    "text": "it natively in their Mac or on their Windows box and they didn't test it",
    "start": "2062940",
    "end": "2068280"
  },
  {
    "text": "inside the container well it turns out those are different operating systems and your code might work fine locally",
    "start": "2068280",
    "end": "2074819"
  },
  {
    "text": "but by the time you produce a container running on LP Linux or Ubuntu or whatever else it's",
    "start": "2074819",
    "end": "2083190"
  },
  {
    "text": "gonna behave differently one of the the main things we've run into here is file systems being different on your Mac OSX",
    "start": "2083190",
    "end": "2090540"
  },
  {
    "text": "your file system is actually case-insensitive by default and then inside your Linux container it's",
    "start": "2090540",
    "end": "2097740"
  },
  {
    "text": "guaranteed to be case sensitive so we've run into issues where packages",
    "start": "2097740",
    "end": "2103920"
  },
  {
    "text": "were named and correctly and work just fine locally but when you push it out it",
    "start": "2103920",
    "end": "2109619"
  },
  {
    "text": "doesn't work anymore so it's something to be aware of definitely an education thing for for us",
    "start": "2109619",
    "end": "2115410"
  },
  {
    "text": "was just getting all of the development teams to run that test locally",
    "start": "2115410",
    "end": "2120589"
  },
  {
    "text": "having a small container is really important too especially if you're",
    "start": "2120589",
    "end": "2127109"
  },
  {
    "text": "pushing that container out to your global infrastructure you don't want to have to",
    "start": "2127109",
    "end": "2132170"
  },
  {
    "text": "tie up a large amount of bandwidth just replicating containers around and almost",
    "start": "2132170",
    "end": "2138750"
  },
  {
    "text": "equally important to having a small container size this layering it properly because",
    "start": "2138750",
    "end": "2145520"
  },
  {
    "text": "and you can notice this that when you build the docker image sometimes it has",
    "start": "2145520",
    "end": "2150599"
  },
  {
    "text": "to pull down the Internet especially if you're working with Java and if you find",
    "start": "2150599",
    "end": "2155730"
  },
  {
    "text": "that it's doing that every time do a docker build your docker layering is not set up right because it should be",
    "start": "2155730",
    "end": "2161370"
  },
  {
    "text": "cashing those packages well if it can't cash locally do you think it can cash",
    "start": "2161370",
    "end": "2167160"
  },
  {
    "text": "well when you're pushing the image out to all of your data centers no I can't",
    "start": "2167160",
    "end": "2173790"
  },
  {
    "text": "can't cash there either and another lesson learned for developers is",
    "start": "2173790",
    "end": "2179520"
  },
  {
    "text": "starting small so it's super easy to deploy a hundred copies of my container",
    "start": "2179520",
    "end": "2184590"
  },
  {
    "text": "into kubernetes but if I do that when I'm first starting an application and I",
    "start": "2184590",
    "end": "2189930"
  },
  {
    "text": "start to run into errors it can be really tough to troubleshoot the problem because then if I send in a request to",
    "start": "2189930",
    "end": "2197670"
  },
  {
    "text": "kubernetes and I get the error back and I want to check how that failed on a specific container well which one do I",
    "start": "2197670",
    "end": "2204360"
  },
  {
    "text": "look at you can find it an elk and figure it out but man it's a lot easier",
    "start": "2204360",
    "end": "2209730"
  },
  {
    "text": "if you just start with one make sure everything's working and then scale it out",
    "start": "2209730",
    "end": "2215210"
  },
  {
    "start": "2216000",
    "end": "2334000"
  },
  {
    "text": "so what about some benefits to the way we designed this we talked about a few",
    "start": "2217700",
    "end": "2222900"
  },
  {
    "text": "of those already it's it's a easy to upgrade our clusters who we blue/green them the the team rolls out the the new",
    "start": "2222900",
    "end": "2229920"
  },
  {
    "text": "version skipper automatically deploys on to new and old and then when",
    "start": "2229920",
    "end": "2237230"
  },
  {
    "text": "teams are ready they feel like their services are running correctly across both the new and old clusters we tear",
    "start": "2237230",
    "end": "2243630"
  },
  {
    "text": "down the old ones if we ran into an issue we would just shut down the new ones",
    "start": "2243630",
    "end": "2249500"
  },
  {
    "text": "let's see cluster and node issues do not need immediate action this is important for the ops guys right yeah you got to",
    "start": "2251700",
    "end": "2258390"
  },
  {
    "text": "have a team running kubernetes do you really want them to be slaves to the pager if a node goes down in kubernetes",
    "start": "2258390",
    "end": "2263940"
  },
  {
    "text": "well with this architecture they don't have to be it can be you know wake up",
    "start": "2263940",
    "end": "2269310"
  },
  {
    "text": "the next morning and fix the the node down instead of you know have to address",
    "start": "2269310",
    "end": "2274530"
  },
  {
    "text": "it right away we have loose coupling between the different pieces and the architecture",
    "start": "2274530",
    "end": "2279930"
  },
  {
    "text": "for example skipper deploys the service to",
    "start": "2279930",
    "end": "2285600"
  },
  {
    "text": "kubernetes but kubernetes itself is the thing plugging into the f5 so since",
    "start": "2285600",
    "end": "2291810"
  },
  {
    "text": "those are two very independent pieces the the skipper complexity is lower and swapping out to from f5 to console which",
    "start": "2291810",
    "end": "2300870"
  },
  {
    "text": "is the direction we're probably heading long term would be much easier I don't",
    "start": "2300870",
    "end": "2306180"
  },
  {
    "text": "have to make an update to skipper well same thing from the CI system to the kubernetes there's very loose coupling",
    "start": "2306180",
    "end": "2311910"
  },
  {
    "text": "there with an API layer so if people change CI systems this easy if we",
    "start": "2311910",
    "end": "2317850"
  },
  {
    "text": "decided to go with a different dare I say a different scheduler at some",
    "start": "2317850",
    "end": "2325650"
  },
  {
    "text": "point in time then that would be easy to change as well I don't think we're gonna do that",
    "start": "2325650",
    "end": "2331760"
  },
  {
    "text": "and it's opinionated for our needs some challenges so it adds complexity for",
    "start": "2331760",
    "end": "2339720"
  },
  {
    "start": "2334000",
    "end": "2564000"
  },
  {
    "text": "troubleshooting that's why we had to pull ELQ outside another piece that the",
    "start": "2339720",
    "end": "2344850"
  },
  {
    "text": "team wrote was a little cute kubernetes logstash modification to",
    "start": "2344850",
    "end": "2351000"
  },
  {
    "text": "to send the logs in the in our specific elf format",
    "start": "2351000",
    "end": "2356750"
  },
  {
    "text": "from kubernetes to our external out cluster we we have a bit of a challenge right",
    "start": "2356750",
    "end": "2365160"
  },
  {
    "text": "now that we're working on which is how do we put state and the clusters right now our state is entirely outside",
    "start": "2365160",
    "end": "2372960"
  },
  {
    "text": "of kubernetes we're not ones to just like jump in and run everything stateful",
    "start": "2372960",
    "end": "2379290"
  },
  {
    "text": "on a new platform right away so we wanted to test the waters a little bit first one of the thoughts we have for",
    "start": "2379290",
    "end": "2386100"
  },
  {
    "text": "solving this is instead of having the flannel network or canal if that's what",
    "start": "2386100",
    "end": "2393660"
  },
  {
    "text": "we end up going to running just in a single kubernetes cluster we could",
    "start": "2393660",
    "end": "2398970"
  },
  {
    "text": "expose that across all of the kubernetes clusters in a location that way state",
    "start": "2398970",
    "end": "2405420"
  },
  {
    "text": "could live across a set of services running at that",
    "start": "2405420",
    "end": "2411660"
  },
  {
    "text": "lower level and communicating with each other across the clusters but this is a",
    "start": "2411660",
    "end": "2416820"
  },
  {
    "text": "challenge oh this is this is one of the things that we have to work out with this architecture also some",
    "start": "2416820",
    "end": "2423320"
  },
  {
    "text": "native of tools don't run in this design out of the gate because it's not",
    "start": "2423320",
    "end": "2429150"
  },
  {
    "text": "expecting that you would ever run something across more than one kubernetes cluster and that and while",
    "start": "2429150",
    "end": "2434820"
  },
  {
    "text": "what we've done in those cases is expose everything as services in order to have",
    "start": "2434820",
    "end": "2440370"
  },
  {
    "text": "it communicated at the service layer which just adds a little bit of overhead because it takes a little bit of thought",
    "start": "2440370",
    "end": "2446340"
  },
  {
    "text": "on how you would make that work and then there's this other one here where you know what if my deployment works great",
    "start": "2446340",
    "end": "2452940"
  },
  {
    "text": "and one kubernetes cluster but it doesn't work and the others kubernetes cluster so my code is a v1 over here and",
    "start": "2452940",
    "end": "2461400"
  },
  {
    "text": "at v2 over there and there's not really a good answer for",
    "start": "2461400",
    "end": "2466440"
  },
  {
    "text": "this I don't want to add the complexity and a skipper to manage that and I don't",
    "start": "2466440",
    "end": "2473310"
  },
  {
    "text": "think we need to honestly I think that this is a little bit of an education thing for us and a learning for us as a",
    "start": "2473310",
    "end": "2480240"
  },
  {
    "text": "developer team that your deployments should always be",
    "start": "2480240",
    "end": "2486000"
  },
  {
    "text": "immutable and they should always be Bluegreen able in a way that both version 1 and version 2 are online at",
    "start": "2486000",
    "end": "2493020"
  },
  {
    "text": "the same time now you should obviously get notified when that happens so you",
    "start": "2493020",
    "end": "2498720"
  },
  {
    "text": "can rectify it and decide whether you rollback version 2 to version 1 or fix",
    "start": "2498720",
    "end": "2504570"
  },
  {
    "text": "it in a way that makes version 1 go to version 2 but I'd say if this ever becomes an",
    "start": "2504570",
    "end": "2512550"
  },
  {
    "text": "issue the problem is probably that your code isn't designed to work with both",
    "start": "2512550",
    "end": "2517770"
  },
  {
    "text": "versions because usually when I see this it's because there's a breaking change",
    "start": "2517770",
    "end": "2523560"
  },
  {
    "text": "and they don't really have a really good rollback plan anyways it's something",
    "start": "2523560",
    "end": "2531210"
  },
  {
    "text": "like a tight coupling to a database change which should really be three deployments instead of one one where you",
    "start": "2531210",
    "end": "2538550"
  },
  {
    "text": "create the new code that can recognize both versions of the database another",
    "start": "2538550",
    "end": "2544230"
  },
  {
    "text": "deployment where you switch over to using or you create the structures in",
    "start": "2544230",
    "end": "2550020"
  },
  {
    "text": "the database and switch over to using it and then a third one to tear it down after it's completely successful and",
    "start": "2550020",
    "end": "2555870"
  },
  {
    "text": "it's just a shift mentally and the way you do so that it can always be Bluegreen and roll back Abul",
    "start": "2555870",
    "end": "2563840"
  },
  {
    "start": "2564000",
    "end": "2702000"
  },
  {
    "text": "so a few of the other pieces that you saw up there that we're working on which I can't share the details of right now",
    "start": "2565550",
    "end": "2572340"
  },
  {
    "text": "one is Haku which is our internal secrets and service discovery system this is a thin layer on top of console",
    "start": "2572340",
    "end": "2579570"
  },
  {
    "text": "we decided to do it this way for various reasons happy to talk with someone over that over beer and",
    "start": "2579570",
    "end": "2585950"
  },
  {
    "text": "we also are in the process of developing a security service Citadel what this",
    "start": "2585950",
    "end": "2593190"
  },
  {
    "text": "does is similar to our f5 plugin this this watches events in kubernetes and",
    "start": "2593190",
    "end": "2600860"
  },
  {
    "text": "decides whether or not a pod and the container running inside that pod is",
    "start": "2601100",
    "end": "2607980"
  },
  {
    "text": "trusted or not and it can do so by validating the full dev chain by",
    "start": "2607980",
    "end": "2613020"
  },
  {
    "text": "leveraging github API and artifactory api's to see who built and",
    "start": "2613020",
    "end": "2620400"
  },
  {
    "text": "pushed the image if it's trusted then it",
    "start": "2620400",
    "end": "2625740"
  },
  {
    "text": "will hand the secrets from Haku to the container it's as opposed to the",
    "start": "2625740",
    "end": "2632730"
  },
  {
    "text": "container needing to go get them and this solves what what I call that like the chicken and egg problem of secrets",
    "start": "2632730",
    "end": "2639900"
  },
  {
    "text": "and service discovery where if you need to go get a secret from a system you",
    "start": "2639900",
    "end": "2646620"
  },
  {
    "text": "need to have some sort of token to identify yourself and the system can then decide whether or not it trusts you",
    "start": "2646620",
    "end": "2653070"
  },
  {
    "text": "well where do you put that right now yeah you can put it in a secret in kubernetes but it's not encrypted and",
    "start": "2653070",
    "end": "2660980"
  },
  {
    "text": "any operator can look at it so this for",
    "start": "2660980",
    "end": "2666060"
  },
  {
    "text": "us is a more secure way of doing that where the the secrets pulled out push to",
    "start": "2666060",
    "end": "2671220"
  },
  {
    "text": "the Container and only stored in memory somebody at the command line can't go get that secret",
    "start": "2671220",
    "end": "2679340"
  },
  {
    "text": "sorry I went a little over I'm sure everybody wants to get some lunch I'm happy to stay and answer questions",
    "start": "2680300",
    "end": "2686130"
  },
  {
    "text": "though too but this is this is what we built like I said it might not be for everybody",
    "start": "2686130",
    "end": "2691599"
  },
  {
    "text": "works really well for us we like it because of the the reasons I talked about and don't like it because of the",
    "start": "2691599",
    "end": "2697630"
  },
  {
    "text": "reasons I talked about too [Applause]",
    "start": "2697630",
    "end": "2704260"
  }
]