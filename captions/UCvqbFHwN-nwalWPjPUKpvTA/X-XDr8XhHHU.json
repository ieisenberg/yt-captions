[
  {
    "text": "my name is Eddie zaneski I'm joined by mache Schulich and Katrina veery and",
    "start": "9780",
    "end": "14820"
  },
  {
    "text": "Katrina just ran here from her previous talk so check out that recording it was sold out",
    "start": "14820",
    "end": "20279"
  },
  {
    "text": "so we all work at a bunch of different companies but we all work on kubernetes together which is kind of the beauty of",
    "start": "20279",
    "end": "25740"
  },
  {
    "text": "Open Source okay and what we do uh so basically we",
    "start": "25740",
    "end": "32460"
  },
  {
    "text": "are responsible for development and standardization and maintenance of everything CLI related",
    "start": "32460",
    "end": "39320"
  },
  {
    "text": "and that also includes making sure that we maintain stability of cube cuddle",
    "start": "39320",
    "end": "44579"
  },
  {
    "text": "especially if you have Cube cattle running in your CI CD pipelines or anywhere in the production you care",
    "start": "44579",
    "end": "50039"
  },
  {
    "text": "about disability most importantly so we put a lot of effort not to break you and",
    "start": "50039",
    "end": "55559"
  },
  {
    "text": "at any point in time so the projects that we we maintain that will be Cube cuddle so",
    "start": "55559",
    "end": "62579"
  },
  {
    "text": "I'm pretty sure that you all already heard about Cube cuddle if you have not please check it out it's pretty cool",
    "start": "62579",
    "end": "70080"
  },
  {
    "text": "um there are a couple more projects like customize Katrina is doing a ton of great work if you haven't tried",
    "start": "70080",
    "end": "75540"
  },
  {
    "text": "customized please try it it is amazingly easy to be used and it's super",
    "start": "75540",
    "end": "80880"
  },
  {
    "text": "customizable Katrina is such an amazing person so much uh you can learn from her",
    "start": "80880",
    "end": "86700"
  },
  {
    "text": "I'm I'm doing that every single day and and I'm very green and customized so",
    "start": "86700",
    "end": "93259"
  },
  {
    "text": "crew and crew index if you work with Cube cuddle and it you've noticed that",
    "start": "93259",
    "end": "99119"
  },
  {
    "text": "it's missing something we open Cube cuddle to write plugins but Ahmed was so",
    "start": "99119",
    "end": "104759"
  },
  {
    "text": "brave enough and figure out that we also need something like a plugin manager so hero crew",
    "start": "104759",
    "end": "111000"
  },
  {
    "text": "we also have libraries I did mention that to write good clis Cube cuddle compatible clis we expose libraries so",
    "start": "111000",
    "end": "118079"
  },
  {
    "text": "CLI runtime CLI experimental although the other one is we try a lot of different experiments so be brave and",
    "start": "118079",
    "end": "125460"
  },
  {
    "text": "have lots of experience lots of time because we break everything in experimental uh krm functions that are",
    "start": "125460",
    "end": "133200"
  },
  {
    "text": "related with customized lots of funny client-side functions please check it out if you have a little bit of time",
    "start": "133200",
    "end": "140660"
  },
  {
    "text": "find us on the Sig CLI chat slack in kubernetes slack and we have a mailing",
    "start": "140819",
    "end": "146700"
  },
  {
    "text": "list and we have some other contact information in our GitHub repo there I should have started are people familiar",
    "start": "146700",
    "end": "152280"
  },
  {
    "text": "how the kubernetes project is organized in terms of sigs nope so sigs are special interest groups",
    "start": "152280",
    "end": "158760"
  },
  {
    "text": "so kubernetes has lar a very large code base that we've carved out into different groups that own different",
    "start": "158760",
    "end": "163860"
  },
  {
    "text": "parts of the code base and so we work on the CLI tooling for that so the projects",
    "start": "163860",
    "end": "169319"
  },
  {
    "text": "mache went through and it's all open source and you can join us at our meetings which are right here so if you'd like to get",
    "start": "169319",
    "end": "176580"
  },
  {
    "text": "involved with any of the stuff we're working on you have questions want to talk through things join us for our meetings they're always on online on",
    "start": "176580",
    "end": "183180"
  },
  {
    "text": "Zoom open to the public and we also do a bug scrub every other week one one for",
    "start": "183180",
    "end": "189060"
  },
  {
    "text": "cube control and then one for customize so that's a great chance to come get involved kind of hear how we talk",
    "start": "189060",
    "end": "194159"
  },
  {
    "text": "through issues we say no to a knot a lot and it's not because we're jerks it's just that Cube control is a very old",
    "start": "194159",
    "end": "201540"
  },
  {
    "text": "code base with lots of people depending on it so making breaking changes is very difficult for us to do with uh",
    "start": "201540",
    "end": "208440"
  },
  {
    "text": "everyone's go ahead and if you have time next Wednesday There's that's the cube that's the Box crop Wednesday this time",
    "start": "208440",
    "end": "215280"
  },
  {
    "text": "yes we anyone seen the xkcd comic I should",
    "start": "215280",
    "end": "220319"
  },
  {
    "text": "have put it in here where it's like I fixed a bug where holding down space Power would cause the CPU to overheat",
    "start": "220319",
    "end": "226739"
  },
  {
    "text": "and turn off and then there's a user complaint that says uh you broke my workflow the control key is hard to",
    "start": "226739",
    "end": "232319"
  },
  {
    "text": "reach for me so I've programmed an emacs to count a increased temperature as the",
    "start": "232319",
    "end": "237540"
  },
  {
    "text": "controlled key please please add a flag back so that's the kind of stuff we deal with",
    "start": "237540",
    "end": "243060"
  },
  {
    "text": "uh we have some updates to go through from our recent releases okay I hope I",
    "start": "243060",
    "end": "249180"
  },
  {
    "text": "won't break anything that there's something that I broke limited so some time ago we figure out that people add",
    "start": "249180",
    "end": "256320"
  },
  {
    "text": "more and more containers to their pots and whenever you're trying to reach the locks it's super irritating that you",
    "start": "256320",
    "end": "263280"
  },
  {
    "text": "have to specify the container name every single time especially if you have multiple them you have to remember what",
    "start": "263280",
    "end": "268800"
  },
  {
    "text": "the name of the containers of course cube cutter will tell you nicely that oh there are this many containers these are",
    "start": "268800",
    "end": "273960"
  },
  {
    "text": "the names but you still have to remember that if you're trying to debug in production you're under stress there's",
    "start": "273960",
    "end": "280080"
  },
  {
    "text": "no time to oh which one was it and especially if they are similar that is problematic there's an annotation that",
    "start": "280080",
    "end": "286860"
  },
  {
    "text": "you can put on a pot that allows you to pick the default container that works for cube cuddle",
    "start": "286860",
    "end": "293220"
  },
  {
    "text": "um logs port forward exec and anything else that picks a a specific container",
    "start": "293220",
    "end": "300240"
  },
  {
    "text": "within a pot so and if it's not working let us know we have to fix it because",
    "start": "300240",
    "end": "305400"
  },
  {
    "text": "that's that's important thing Cube cuddle events so get is cool because it allows you to",
    "start": "305400",
    "end": "311520"
  },
  {
    "text": "read anything in a cluster the problem with that is get is generic it does not",
    "start": "311520",
    "end": "317220"
  },
  {
    "text": "allow you to be specific about about certain resources so we figured out that",
    "start": "317220",
    "end": "322979"
  },
  {
    "text": "events are rather ah",
    "start": "322979",
    "end": "328320"
  },
  {
    "text": "they allow you to get a lot of information um so it will be handy if we allow a",
    "start": "328320",
    "end": "335039"
  },
  {
    "text": "little bit more information filtering sorting around the event especially if",
    "start": "335039",
    "end": "340500"
  },
  {
    "text": "you know the cube cutter under the cube cutter describe we will usually show you the event related with a particular",
    "start": "340500",
    "end": "346259"
  },
  {
    "text": "resource so we would like to be able for a user to have a little bit more controller",
    "start": "346259",
    "end": "351360"
  },
  {
    "text": "around that initially we played with the idea of expanding get just for events",
    "start": "351360",
    "end": "356880"
  },
  {
    "text": "but then it was like yeah but that means that we will turn get into a Franken",
    "start": "356880",
    "end": "363060"
  },
  {
    "text": "monster that will behave differently for a different commands so we eventually settled on on the events command and one",
    "start": "363060",
    "end": "371940"
  },
  {
    "text": "of the fun things about events is that when people were doing Cube control get events watch they were complaining that",
    "start": "371940",
    "end": "378539"
  },
  {
    "text": "they would see duplicated events and what was actually happening is that you would see the the lesion event for the",
    "start": "378539",
    "end": "385860"
  },
  {
    "text": "record and then they would see another deletion event like 10 minutes later and that was actually the event getting",
    "start": "385860",
    "end": "390900"
  },
  {
    "text": "deleted which creates its own deletion event right so there's a lot of things that are involved with the events which",
    "start": "390900",
    "end": "396660"
  },
  {
    "text": "is why we built a whole sub command for it I'm not going to go through the highlights from 126 but big shout outs",
    "start": "396660",
    "end": "403020"
  },
  {
    "text": "to Mark he's doing amazing job for the past good couple releases with everything uh related with completions",
    "start": "403020",
    "end": "409620"
  },
  {
    "text": "for for cube cuddle uh he's put a ton and ton of hours so big shout out to him",
    "start": "409620",
    "end": "415440"
  },
  {
    "text": "big shout out to Brian Brian has been a core contributor to cube cuddle for for",
    "start": "415440",
    "end": "421020"
  },
  {
    "text": "numerous releases he's he's leading a lot of efforts within Cube cuddle uh big",
    "start": "421020",
    "end": "426720"
  },
  {
    "text": "shout out to shyam for his work uh if you want to know more details the slides are will be available",
    "start": "426720",
    "end": "433199"
  },
  {
    "text": "in this cat afterwards so you can go read and about that those details a",
    "start": "433199",
    "end": "438840"
  },
  {
    "text": "little bit more um a couple more that was too fast",
    "start": "438840",
    "end": "444180"
  },
  {
    "text": "um a couple more shout outs uh to Marley to Alex for server side changes for uh",
    "start": "444180",
    "end": "451020"
  },
  {
    "text": "hiding or everything that is sensitive because we were previously showing a little bit too much",
    "start": "451020",
    "end": "457319"
  },
  {
    "text": "um and we are also adding new commands and we're slowly building the scope of what Cube cattle has to offer",
    "start": "457319",
    "end": "465419"
  },
  {
    "text": "yeah and that auth to Mi command is really cool if you haven't used it yet the plan to expand it is really good but",
    "start": "465419",
    "end": "471780"
  },
  {
    "text": "just knowing who you're making a request as when you're doing a lot with oidc and other identity really cool command",
    "start": "471780",
    "end": "478199"
  },
  {
    "text": "uh 127 just got cut a few weeks ago so we had a couple commands here uh sub",
    "start": "478199",
    "end": "484139"
  },
  {
    "text": "resources have landed in beta now so if you haven't used the dash dash sub resource flag forget you can now uh get",
    "start": "484139",
    "end": "491039"
  },
  {
    "text": "a sub resource on a pod right so kubernetes API has the different resources that you can walk down so pods",
    "start": "491039",
    "end": "496560"
  },
  {
    "text": "also have a sub resource of what's a good example of status so you can get pod slash status and so you can just do",
    "start": "496560",
    "end": "503580"
  },
  {
    "text": "Cube control get pods Dash subresource status to get more about that I think scale is a sub resource or resources so",
    "start": "503580",
    "end": "511139"
  },
  {
    "text": "you can kind of do a lot more with with scripting and filtering there aggregated Discovery is a big one for us",
    "start": "511139",
    "end": "517760"
  },
  {
    "text": "Discovery is that phase where your client will have to go figure out what apis are available on your cluster and",
    "start": "517760",
    "end": "524580"
  },
  {
    "text": "so it has to walk basically the entire open API tree so it makes hundreds of requests if you ever do a cube control",
    "start": "524580",
    "end": "529880"
  },
  {
    "text": "uh any command like get get pods or something Dash V10 you'll see just all",
    "start": "529880",
    "end": "535920"
  },
  {
    "text": "these requests go by where it would cache these and so what we ran into especially with our friends at Cross",
    "start": "535920",
    "end": "541019"
  },
  {
    "text": "plain for I had a bunch of crds for all their resources if we would hit the the QPS limit and exhaust it and then it",
    "start": "541019",
    "end": "547500"
  },
  {
    "text": "would get rate limited and throttled so there's been a lot of work done by some great folks to make a discovery a lot",
    "start": "547500",
    "end": "552720"
  },
  {
    "text": "better so instead of caching the entire Discovery we can now cache individual resources so it should clear up",
    "start": "552720",
    "end": "558779"
  },
  {
    "text": "Discovery and speed up that first Cube control get command uh for a while so",
    "start": "558779",
    "end": "564360"
  },
  {
    "text": "that's really cool open API V3 was shipped for when did that actually hit like 124 or five roughly around that",
    "start": "564360",
    "end": "572399"
  },
  {
    "text": "yeah so now we have support for it and explain it's beta AP open API V3 has a",
    "start": "572399",
    "end": "577620"
  },
  {
    "text": "lot more metadata and other cool stuff you can do there apply set is a new command which we're",
    "start": "577620",
    "end": "583560"
  },
  {
    "text": "going to talk about in a little bit with Katrina and then we want to create sub plugins",
    "start": "583560",
    "end": "589320"
  },
  {
    "text": "uh so uh for for cube control create those work with generators and so we",
    "start": "589320",
    "end": "595019"
  },
  {
    "text": "have to kind of like have a hard-coded generator that says when you want to create a cluster role binding or",
    "start": "595019",
    "end": "600720"
  },
  {
    "text": "something it has to know about that and so we want users to be able to create plugins for create so you can create",
    "start": "600720",
    "end": "606300"
  },
  {
    "text": "your own resources for maybe your controllers or crds so check those out",
    "start": "606300",
    "end": "611760"
  },
  {
    "text": "and then change lock highlights uh we're doing a lot of work with Cube control debug some debugging profiles has been",
    "start": "611760",
    "end": "618060"
  },
  {
    "text": "added uh customized so customize is actually bundled in cubectl so you can",
    "start": "618060",
    "end": "623880"
  },
  {
    "text": "do Cube CTL apply Dash k there's this qctl customize the command too",
    "start": "623880",
    "end": "630600"
  },
  {
    "text": "yeah so you can access customize directly from Cube control a lot of work goes into upgrading that and especially the initial one which we talked about a",
    "start": "630600",
    "end": "637080"
  },
  {
    "text": "few years ago there's a lot of internal libraries and state there we promoted",
    "start": "637080",
    "end": "642660"
  },
  {
    "text": "the who am I plug-in so it's no longer Alpha for 127 I didn't know that that's great actually and then diff and prune",
    "start": "642660",
    "end": "650760"
  },
  {
    "text": "did you want to say anything about different prune there's a lot there",
    "start": "650760",
    "end": "655579"
  },
  {
    "text": "okay yeah there's a bug bad ones that",
    "start": "656279",
    "end": "661800"
  },
  {
    "text": "128 128 hasn't started yet I checked the dates I'm pretty sure about that one um",
    "start": "661800",
    "end": "667920"
  },
  {
    "text": "the release cycle has its okay release cycle yes so Master is open but we're talking about",
    "start": "667920",
    "end": "675540"
  },
  {
    "text": "Henson's mode um worry too fast um so we already know an hour where that",
    "start": "675540",
    "end": "682980"
  },
  {
    "text": "these are the stuff that we want to work on 128 if you have any particular requests demands or you want to fix",
    "start": "682980",
    "end": "690240"
  },
  {
    "text": "something let us know ahead of time uh the cycle hasn't started the sooner you",
    "start": "690240",
    "end": "695279"
  },
  {
    "text": "get your caps discussed reviewed and approved the better for you",
    "start": "695279",
    "end": "701339"
  },
  {
    "text": "um it's very hard to get cap approvals in the last week where we have to go through multiple of them and it's not",
    "start": "701339",
    "end": "708300"
  },
  {
    "text": "fun uh we would like to push the cube RC so that's a configuration file which",
    "start": "708300",
    "end": "713640"
  },
  {
    "text": "will allow you to tweak mix and match and whatever you want to magical things you want to do with Cube Karo but and we",
    "start": "713640",
    "end": "720779"
  },
  {
    "text": "have a couple proof of Concepts Marley had one I had one Brian had one",
    "start": "720779",
    "end": "726060"
  },
  {
    "text": "um we have different ideas some of them are differing opinions about how things",
    "start": "726060",
    "end": "732779"
  },
  {
    "text": "should be implemented if you want to help with that let us know there is an issue have a look at the uh the pocs if",
    "start": "732779",
    "end": "739740"
  },
  {
    "text": "you want to work on it that's even better yeah and we'll have lots of time for Q a where we can talk through some",
    "start": "739740",
    "end": "745260"
  },
  {
    "text": "of these if you want to learn more so and with that we'll hand over to Katrina to talk about apply set",
    "start": "745260",
    "end": "752779"
  },
  {
    "text": "thanks yes I'm sure that we",
    "start": "753060",
    "end": "758240"
  },
  {
    "text": "are in 127 so we wanted to take the time to go over a bit Yeah because I'm not very tall",
    "start": "758339",
    "end": "765860"
  },
  {
    "text": "so the history of this feature is that it's basically a new iteration on a feature that's existed since 1.5 so",
    "start": "767040",
    "end": "773579"
  },
  {
    "text": "really really old it's Cube control apply dash dash prune and that was added to allow people to declaratively manage",
    "start": "773579",
    "end": "780839"
  },
  {
    "text": "the deletion of their resources as well so they could have a set of resources under management and say in git and",
    "start": "780839",
    "end": "786720"
  },
  {
    "text": "apply those and when they delete something from their configuration system and apply again the resource automatically be cleaned up and have to",
    "start": "786720",
    "end": "793260"
  },
  {
    "text": "go and manually go and find it otherwise have leaked stuff that they didn't actually want in their cluster",
    "start": "793260",
    "end": "798779"
  },
  {
    "text": "so that is a common a common need and the basic approach that was taken to",
    "start": "798779",
    "end": "803899"
  },
  {
    "text": "implement this was an allow list so um you provide a list of types that you",
    "start": "803899",
    "end": "810420"
  },
  {
    "text": "want to sort of manage via a flag uh the actual selection of which",
    "start": "810420",
    "end": "815700"
  },
  {
    "text": "resources to delete though was a bit more complicated than that the selection would be based not only on the allow",
    "start": "815700",
    "end": "821519"
  },
  {
    "text": "list or its defaults that would be used if you didn't provide that flag but also on the namespace flag and visited",
    "start": "821519",
    "end": "829620"
  },
  {
    "text": "namespaces what visited means is you have your configuration set those resources a bunch of them probably belong to namespaces so we keep track of",
    "start": "829620",
    "end": "836639"
  },
  {
    "text": "which name spaces we had seen in your set and we would also consider resources in those namespaces for deletion",
    "start": "836639",
    "end": "843779"
  },
  {
    "text": "optionally you could also add label selectors as a flag to constrain the set that we would consider and The",
    "start": "843779",
    "end": "850560"
  },
  {
    "text": "annotation that apply client-side apply important actually client-side apply uses the sanitation and we would use",
    "start": "850560",
    "end": "857100"
  },
  {
    "text": "that as a filter to sort of Judge whether or not the resource belonged to apply so we would never delete anything",
    "start": "857100",
    "end": "862260"
  },
  {
    "text": "that was missing this unfortunately this approach had a number",
    "start": "862260",
    "end": "867480"
  },
  {
    "text": "of pretty bad problems and that's the reason why it's still in Alpha even though we're at version 127 at this",
    "start": "867480",
    "end": "874380"
  },
  {
    "text": "point um the biggest one is is correctness like it would do the wrong thing",
    "start": "874380",
    "end": "879480"
  },
  {
    "text": "sometimes and when we're talking about a deletion uh that that's very bad",
    "start": "879480",
    "end": "884880"
  },
  {
    "text": "so um there are a couple different ways to trigger this problem one is by having a mismatch in the group",
    "start": "884880",
    "end": "893399"
  },
  {
    "text": "version kind allow list that you're providing so that is a hard-coded list whether using the default or whether",
    "start": "893399",
    "end": "898560"
  },
  {
    "text": "you're you know having it in your command line invocation and it is not",
    "start": "898560",
    "end": "904440"
  },
  {
    "text": "found in any way to what you're actually deploying either in the previous set or in the current set it could be a",
    "start": "904440",
    "end": "910199"
  },
  {
    "text": "completely different list of types so if you if there's a mismatch there you're not going to clean up what you expect",
    "start": "910199",
    "end": "917579"
  },
  {
    "text": "and then it can also happen with the namespace because as I was saying we add in the namespaces that we've seen but",
    "start": "917579",
    "end": "924899"
  },
  {
    "text": "say you have a resource set that has two namespaces in it at the first time and",
    "start": "924899",
    "end": "930060"
  },
  {
    "text": "then it has one namespace in it at the second time well what you wanted was all the stuff from the the second namespace",
    "start": "930060",
    "end": "935519"
  },
  {
    "text": "to be cleaned up but now this invocation doesn't even see that namespace it's not in the set anymore so it just forgets",
    "start": "935519",
    "end": "942300"
  },
  {
    "text": "about it which is not what you wanted another problem is with scalability uh",
    "start": "942300",
    "end": "949019"
  },
  {
    "text": "because of this approach of sort of querying a large number of gvks some of which might not even be relevant",
    "start": "949019",
    "end": "955860"
  },
  {
    "text": "um it is very expensive to do and if you try to mitigate the correctness issues by composing a list of every type Under",
    "start": "955860",
    "end": "963240"
  },
  {
    "text": "the Sun under your cluster and making Cube petal visit all of them just to be sure it makes the performance tissue",
    "start": "963240",
    "end": "969120"
  },
  {
    "text": "even worse and the invocation even worse oh yeah and the invocation becomes a very huge",
    "start": "969120",
    "end": "975660"
  },
  {
    "text": "line at that point yeah another problem with this approach was",
    "start": "975660",
    "end": "982500"
  },
  {
    "text": "as I mentioned it is relying on a detail of client-side apply for its selection",
    "start": "982500",
    "end": "987720"
  },
  {
    "text": "which means that if you switch over to server-side apply any new objects that you create using that strategy won't be",
    "start": "987720",
    "end": "993660"
  },
  {
    "text": "considered because they're they're not don't bear that annotation and there's also a bunch of user",
    "start": "993660",
    "end": "1000139"
  },
  {
    "text": "experience issues where strictly speaking it's behaving as intended but it's not really intuitive or not really",
    "start": "1000139",
    "end": "1006560"
  },
  {
    "text": "what the user wanted so a lot of these come from unintended uh changes related to the flags that you",
    "start": "1006560",
    "end": "1014300"
  },
  {
    "text": "have to provide all those flags that I went through at the beginning so if you change the flag set from one invocation",
    "start": "1014300",
    "end": "1019399"
  },
  {
    "text": "to another you're rescoping your command and chances are something strange might",
    "start": "1019399",
    "end": "1025220"
  },
  {
    "text": "happen because you had a different scope in the one command and the second scope and the other and they're not actually",
    "start": "1025220",
    "end": "1030678"
  },
  {
    "text": "related because what we're operating on here is really trying to deduce the previous set",
    "start": "1030679",
    "end": "1036678"
  },
  {
    "text": "uh you can also uh inadvertently over select resources in a couple of ways one",
    "start": "1036679",
    "end": "1042980"
  },
  {
    "text": "is that you could accidentally use overlapping labor label selectors from",
    "start": "1042980",
    "end": "1048140"
  },
  {
    "text": "two different deploy pipelines or just overlap the scope that you specify in any of the ways and have uh say some",
    "start": "1048140",
    "end": "1055700"
  },
  {
    "text": "operator comes in and manually creates a resource with you pedal apply well that's going to have the apply",
    "start": "1055700",
    "end": "1061460"
  },
  {
    "text": "annotation it might be in scope of one of your commands did you want that cleaned up or not it's not clear because",
    "start": "1061460",
    "end": "1066740"
  },
  {
    "text": "it's not actually there's no explicit set involved we're always trying to sort of guess so you can get unexpected",
    "start": "1066740",
    "end": "1072620"
  },
  {
    "text": "results it's also difficult to use with custom resources the built-in list will never",
    "start": "1072620",
    "end": "1077960"
  },
  {
    "text": "include any but you can configured just like any other resource",
    "start": "1077960",
    "end": "1084260"
  },
  {
    "text": "but then you have to manage that list right you have to add all of your custom resources to every invocation of the command line which is a pain and easy to",
    "start": "1084260",
    "end": "1091039"
  },
  {
    "text": "get wrong so the history of this uh was that we we saw this problem we get issues about all",
    "start": "1091039",
    "end": "1097460"
  },
  {
    "text": "the time that we couldn't fix because they're pretty fundamental to how it was designed and there was the first step to",
    "start": "1097460",
    "end": "1103400"
  },
  {
    "text": "try to do something about this was an experiment in the CLI utils repo that we mentioned back in 2019 and that was",
    "start": "1103400",
    "end": "1110299"
  },
  {
    "text": "successful it was a good proof of concept of what an alternative design could look like but it couldn't be",
    "start": "1110299",
    "end": "1115760"
  },
  {
    "text": "brought directly back into Cube control for technical reasons so it was used by other projects in the ecosystem so that",
    "start": "1115760",
    "end": "1121880"
  },
  {
    "text": "was great um but we still had like the stagnation of the the built-in approach so at the",
    "start": "1121880",
    "end": "1128299"
  },
  {
    "text": "kubecon North America 2022 contributor Summit uh Sean Sullivan and I led a session on like how do we move forward",
    "start": "1128299",
    "end": "1135080"
  },
  {
    "text": "with this this is a big problem for our users and we were happily able to reach consensus uh that yes we do need to do",
    "start": "1135080",
    "end": "1141919"
  },
  {
    "text": "something about this we can't leave this permanent outfit in here for you know 20 plus releases and just have it uh be",
    "start": "1141919",
    "end": "1147679"
  },
  {
    "text": "continuing to cause problems for for folks so we're going to go with a new independent implementation instead of",
    "start": "1147679",
    "end": "1152960"
  },
  {
    "text": "trying to somehow fix all those problems that were very fundamental and we're going to do it based on a low-level",
    "start": "1152960",
    "end": "1159320"
  },
  {
    "text": "standard that other tools can adopt so we're also doing sort of an ecosystem play here we can help the tools that",
    "start": "1159320",
    "end": "1164720"
  },
  {
    "text": "need this sort of functionality work better together um and after that uh myself and Justin",
    "start": "1164720",
    "end": "1170419"
  },
  {
    "text": "who is in the room today hi Justin um worked on a cap for version 127 and",
    "start": "1170419",
    "end": "1175940"
  },
  {
    "text": "we did get the MVP features in to that release so you can go try it",
    "start": "1175940",
    "end": "1181960"
  },
  {
    "text": "uh so how does the new feature work we went over the details of the old one what are we doing differently now",
    "start": "1182120",
    "end": "1188120"
  },
  {
    "text": "now we have a concept called apply set that's really the Central Key concept that we're working from here to make this better",
    "start": "1188120",
    "end": "1194000"
  },
  {
    "text": "applies that is a group of resources that are applied to a cluster buy tool so it's what you're passing to cube",
    "start": "1194000",
    "end": "1199340"
  },
  {
    "text": "control in our case that set of resources that you're trying to manage group membership is tracked both in and",
    "start": "1199340",
    "end": "1205640"
  },
  {
    "text": "by reference to what we're calling a parent object and that parent object gets persisted to the cluster that state",
    "start": "1205640",
    "end": "1211580"
  },
  {
    "text": "is managed by Q control itself you don't have to deal with it the parent object can be a secret or a",
    "start": "1211580",
    "end": "1217220"
  },
  {
    "text": "config map by default but you can also configure your cluster in a way they'll show in a moment to allow certain custom",
    "start": "1217220",
    "end": "1222440"
  },
  {
    "text": "resource types to be used as parent objects as well if you have an existing aggregate object for example",
    "start": "1222440",
    "end": "1228860"
  },
  {
    "text": "a given object can only be part of one apply set which is a constraint that is new to this implementation and we did do",
    "start": "1228860",
    "end": "1235160"
  },
  {
    "text": "that in some cases where we felt that although we want to accommodate as much of the original use case as possible we",
    "start": "1235160",
    "end": "1241100"
  },
  {
    "text": "also really want to make sure that this time is a lot more intuitive and safe to use so this is an example of one of the",
    "start": "1241100",
    "end": "1247039"
  },
  {
    "text": "constraints that we what we added so the specification is really based on",
    "start": "1247039",
    "end": "1252799"
  },
  {
    "text": "metadata and you can go to the cap for full details on this but this is just going to be kind of like a whirlwind tour of what it is",
    "start": "1252799",
    "end": "1259520"
  },
  {
    "text": "um the there's a bunch of labels and annotations that go either on the parent object or on the member object",
    "start": "1259520",
    "end": "1264980"
  },
  {
    "text": "so the parent the most important one is that it's labeled with an ID that we generate and that is what like makes it",
    "start": "1264980",
    "end": "1270500"
  },
  {
    "text": "a parent object it also accepts a series of annotations that help it interrupt better with other",
    "start": "1270500",
    "end": "1275960"
  },
  {
    "text": "tooling and have appropriate scoping and the ones at the bottom there",
    "start": "1275960",
    "end": "1281419"
  },
  {
    "text": "are basically hints to help it know where to look for its children because we aren't actually inventorying the full",
    "start": "1281419",
    "end": "1287539"
  },
  {
    "text": "children as the source of Truth here we are uh okay yeah we are um",
    "start": "1287539",
    "end": "1294860"
  },
  {
    "text": "annotating the child with an annotational show in a moment that and that is the source of truth of",
    "start": "1294860",
    "end": "1300559"
  },
  {
    "text": "its set membership like it says I'm part of this set so we need to go find it and make sure that it is in fact part of",
    "start": "1300559",
    "end": "1305780"
  },
  {
    "text": "that one set before we consider it uh yeah well part of that so we still need to know where to go look for it and the",
    "start": "1305780",
    "end": "1311539"
  },
  {
    "text": "last two annotations are hints to cube control to go find it and we can reconstruct them so that we can have a",
    "start": "1311539",
    "end": "1317840"
  },
  {
    "text": "way to correct the set if ever um something got messed up in your cluster or manual changes perhaps",
    "start": "1317840",
    "end": "1324380"
  },
  {
    "text": "intervened with with the set that you were trying to manage those last two are under discussion it might change in 128",
    "start": "1324380",
    "end": "1329960"
  },
  {
    "text": "particularly the one I have grayed out of section because we're considering between um resource and kind uh based on our",
    "start": "1329960",
    "end": "1337940"
  },
  {
    "text": "experience in the alpha so as I mentioned the actual source of truth from set membership is a label on",
    "start": "1337940",
    "end": "1343760"
  },
  {
    "text": "the object so we can do a label query to find all the children and you can also configure crd types to",
    "start": "1343760",
    "end": "1349340"
  },
  {
    "text": "be allowed as parents by just labeling sorry see our instances you label the parent crd that defines the type and",
    "start": "1349340",
    "end": "1355460"
  },
  {
    "text": "that allows the instances of the type to be used as apply sets so the important part how do you use it",
    "start": "1355460",
    "end": "1363080"
  },
  {
    "text": "um since this is an alpha you're going to have to set an environment variable to use this Cube control price that equals true and then you use the prune",
    "start": "1363080",
    "end": "1369080"
  },
  {
    "text": "flag as usual but you add this new flag instead of all those other ones you just put apply set and you choose a name for your apply set",
    "start": "1369080",
    "end": "1375140"
  },
  {
    "text": "uh there are docs on this that you can find at the link let's go into more detail and one thing to mention though of",
    "start": "1375140",
    "end": "1381679"
  },
  {
    "text": "course this is an alpha please give it a try give us your feedback tell especially if you're using the old implantation let us know if this works",
    "start": "1381679",
    "end": "1387500"
  },
  {
    "text": "for you but it is an alpha so be careful about using in production",
    "start": "1387500",
    "end": "1393200"
  },
  {
    "text": "as with any Alpha and that's also we have some time for Q a I believe yeah and a quick shout out",
    "start": "1393200",
    "end": "1400580"
  },
  {
    "text": "yeah there's a Sig meet and greet happening immediately after this it's 2",
    "start": "1400580",
    "end": "1406100"
  },
  {
    "text": "12 30 to 2 30. it's downstairs I believe in the Euro foil or one all the",
    "start": "1406100",
    "end": "1411919"
  },
  {
    "text": "kubernetes things will be there so you can talk to different Folks at different parts of the code base and find out how",
    "start": "1411919",
    "end": "1417620"
  },
  {
    "text": "you can get involved too so definitely make sure to stop by grab some lunch and come see us so yeah any questions things you want to",
    "start": "1417620",
    "end": "1425240"
  },
  {
    "text": "complain about talk through feature requests yes",
    "start": "1425240",
    "end": "1432700"
  },
  {
    "text": "uh are you planning to add any way so I will be able to control",
    "start": "1435760",
    "end": "1443480"
  },
  {
    "text": "the the caching better except for for the aggregated for example how long do I",
    "start": "1443480",
    "end": "1449539"
  },
  {
    "text": "want the the object that the discovery have seen to stay in the cache and stuff",
    "start": "1449539",
    "end": "1455179"
  },
  {
    "text": "like that um",
    "start": "1455179",
    "end": "1460400"
  },
  {
    "text": "I'd be curious to hear your use cases for for the caching side of things um theoretically we would prefer users",
    "start": "1460400",
    "end": "1467840"
  },
  {
    "text": "do not manually manage the caches because it usually causes problems you",
    "start": "1467840",
    "end": "1474919"
  },
  {
    "text": "can always invalidate the cache by invoking API resources or API versions",
    "start": "1474919",
    "end": "1481039"
  },
  {
    "text": "that invocations remove the file from the disk and retrieves the the entire",
    "start": "1481039",
    "end": "1487780"
  },
  {
    "text": "Discovery at once the problem that we were going with with the majority of the",
    "start": "1487780",
    "end": "1493760"
  },
  {
    "text": "discovery was to ensure that especially if you're trying to use Cube cuddle in a pod the initial discussion the initial",
    "start": "1493760",
    "end": "1501260"
  },
  {
    "text": "discussion sorry yeah well it's a discussion with a cluster the initial request as I mentioned the more crds you",
    "start": "1501260",
    "end": "1509960"
  },
  {
    "text": "will have in a cluster the bigger the initial query it is and it is very frequently causing issues for a lot of",
    "start": "1509960",
    "end": "1516980"
  },
  {
    "text": "the users so that was the main reasons why we wanted to squash the amount of",
    "start": "1516980",
    "end": "1523039"
  },
  {
    "text": "stuff that you have to read initially to speed up the first request especially",
    "start": "1523039",
    "end": "1528799"
  },
  {
    "text": "when you're running or creating a pod for to do something simple and especially if those are",
    "start": "1528799",
    "end": "1535600"
  },
  {
    "text": "short-lived Parts which only do one two three tasks and they are done and then",
    "start": "1535600",
    "end": "1541159"
  },
  {
    "text": "again we will bring new one and you're wasting I don't know up to 30 seconds to a minute I have customers that complain",
    "start": "1541159",
    "end": "1548179"
  },
  {
    "text": "that they're really waiting to two minutes to three minutes because the entire Discovery was taking this long so",
    "start": "1548179",
    "end": "1555700"
  },
  {
    "text": "we intentionally because there was a time where the cash was valid for",
    "start": "1555700",
    "end": "1561980"
  },
  {
    "text": "roughly 10 or 15 minutes so essentially push that limit over to six hours for",
    "start": "1561980",
    "end": "1568520"
  },
  {
    "text": "the majority of use cases that we uh identified that will be perfect and it",
    "start": "1568520",
    "end": "1574340"
  },
  {
    "text": "should not cause issues for the majority of the users that's why I would prefer to hear use cases why we would jump to",
    "start": "1574340",
    "end": "1581720"
  },
  {
    "text": "to do that you can always do like I said manually and by invoking API or manually",
    "start": "1581720",
    "end": "1587299"
  },
  {
    "text": "just deleting Cube dot Cube dot cache directory",
    "start": "1587299",
    "end": "1592880"
  },
  {
    "text": "um you can also set the cache directory to devnoll and that will cache every",
    "start": "1592880",
    "end": "1598039"
  },
  {
    "text": "single request or fetch every single request",
    "start": "1598039",
    "end": "1602620"
  },
  {
    "text": "so I had one question which calls back to your previous talk Katrina about the krm functions uh I've seen that you have",
    "start": "1604220",
    "end": "1611059"
  },
  {
    "text": "a bunch of Kips for like composition and catalog and stuff which all look amazing and I'm just curious if there's if you",
    "start": "1611059",
    "end": "1617960"
  },
  {
    "text": "have some sort of status update on that whole thing um there isn't mostly because we don't",
    "start": "1617960",
    "end": "1623480"
  },
  {
    "text": "have enough folks to work on them if you want to use that feature if you think it's great then we could use your help",
    "start": "1623480",
    "end": "1630020"
  },
  {
    "text": "with those those caps are all implementable I believe it's just they're the folks who were originally",
    "start": "1630020",
    "end": "1635720"
  },
  {
    "text": "working on it moved on to other opportunities and that we just don't have anyone to implement them right now",
    "start": "1635720",
    "end": "1642380"
  },
  {
    "text": "the the catalog one in particular is the one that's most likely to get attention anytime soon that one is very important",
    "start": "1642380",
    "end": "1649100"
  },
  {
    "text": "to you the sort of long-term plug-in strategy for customize so we might work",
    "start": "1649100",
    "end": "1654380"
  },
  {
    "text": "on that one uh somewhat this year but composition itself we're more focused on",
    "start": "1654380",
    "end": "1660580"
  },
  {
    "text": "if anything some of the features that are required to use that in in customize rather than the we had an implementation",
    "start": "1660580",
    "end": "1667520"
  },
  {
    "text": "but we don't want to merge it until we're sure that folks need it and that all the pieces are in place for it so",
    "start": "1667520",
    "end": "1673700"
  },
  {
    "text": "yeah I would suggest if if you're interested in any one of those catalogs the one that has the most traction at",
    "start": "1673700",
    "end": "1678740"
  },
  {
    "text": "the moment but um yeah let us know if you're interested in working on it because we need more folks",
    "start": "1678740",
    "end": "1684380"
  },
  {
    "text": "cool",
    "start": "1684380",
    "end": "1686740"
  },
  {
    "text": "we got like seven eight minutes left any other questions things you want to talk through features yes",
    "start": "1690140",
    "end": "1698080"
  },
  {
    "text": "hi um you mentioned that Cube CTL code base is relatively old and and thus it's you don't want to make breaking changes",
    "start": "1699200",
    "end": "1706460"
  },
  {
    "text": "um are there any clis code base that would be a bit more approachable for",
    "start": "1706460",
    "end": "1711980"
  },
  {
    "text": "beginners and folks to have less experience writing both go and cli's",
    "start": "1711980",
    "end": "1717700"
  },
  {
    "text": "cruel that's nice okay I mean customize",
    "start": "1717700",
    "end": "1723620"
  },
  {
    "text": "is one thing but if you think about Cube cuddle as a whole yes it's a big code",
    "start": "1723620",
    "end": "1728659"
  },
  {
    "text": "base uh uh but the the important benefit of",
    "start": "1728659",
    "end": "1734840"
  },
  {
    "text": "getting involved with six CLI and Cube cuddle itself is that you can literally limit yourself to a particular command",
    "start": "1734840",
    "end": "1741620"
  },
  {
    "text": "please do not use get it seems simple it is not um",
    "start": "1741620",
    "end": "1747500"
  },
  {
    "text": "but there are multiple other commands uh where in the worst case you'll end up in",
    "start": "1747500",
    "end": "1753559"
  },
  {
    "text": "a single directory with two or three files that you have to work in the best",
    "start": "1753559",
    "end": "1758720"
  },
  {
    "text": "case it could be literally just one file there are some commands that are missing",
    "start": "1758720",
    "end": "1764419"
  },
  {
    "text": "tests like simple unit tests and that is a perfect opportunity for someone to",
    "start": "1764419",
    "end": "1769880"
  },
  {
    "text": "start um there's at least a couple of ongoing",
    "start": "1769880",
    "end": "1775179"
  },
  {
    "text": "rewrites that we are trying to slowly push because there's there was a bunch",
    "start": "1775179",
    "end": "1780559"
  },
  {
    "text": "of commands and and bunch of approaches that we took over the the years how Cube",
    "start": "1780559",
    "end": "1786020"
  },
  {
    "text": "cuddle commands should look like eventually you will settled with one that is easy to maintain easy to read",
    "start": "1786020",
    "end": "1792460"
  },
  {
    "text": "and easy to test most importantly and we're slowly going through the",
    "start": "1792460",
    "end": "1798380"
  },
  {
    "text": "commands and rewriting a lot of them there has been multiple presentations",
    "start": "1798380",
    "end": "1803720"
  },
  {
    "text": "that I did in the past uh Eddie did Katrina did about how the flow of developing with uh any qcado commands",
    "start": "1803720",
    "end": "1811340"
  },
  {
    "text": "Works um so if you have some time just check out one of the previous previous",
    "start": "1811340",
    "end": "1817460"
  },
  {
    "text": "recordings from 6cli from kubecons we've done that a couple of times nothing has",
    "start": "1817460",
    "end": "1822919"
  },
  {
    "text": "changed since then and it's still up to date or ping US during the Box crop or",
    "start": "1822919",
    "end": "1828440"
  },
  {
    "text": "during one of the meetings or just on slack mailing list and we can point you to the issues that are describing",
    "start": "1828440",
    "end": "1834620"
  },
  {
    "text": "because we literally what we did is in the issue we described the weight command is literally the best example of",
    "start": "1834620",
    "end": "1840620"
  },
  {
    "text": "how the uh a perfect Cube color command should look like slowly all the new commands that we are",
    "start": "1840620",
    "end": "1848240"
  },
  {
    "text": "adding are required to follow the same patterns and events literally follows the same pattern",
    "start": "1848240",
    "end": "1854980"
  },
  {
    "text": "what was the other new addition who am I in the auth as well and those are uh",
    "start": "1854980",
    "end": "1863659"
  },
  {
    "text": "rather simple commands and we will be promoting events to stable because I",
    "start": "1863659",
    "end": "1871100"
  },
  {
    "text": "realized when preparing this presentation that we overslept and it should have been promoted to GA",
    "start": "1871100",
    "end": "1877100"
  },
  {
    "text": "in 127 uh but we'll we'll catch up in 128. yeah but yeah the code base is old",
    "start": "1877100",
    "end": "1883100"
  },
  {
    "text": "and there are lots of dragons but there's also lots of approachable pieces a good chunk of the code so I don't know",
    "start": "1883100",
    "end": "1888919"
  },
  {
    "text": "if a lot of people know this but kubernetes internally doesn't talk yaml everyone complains about yaml with kubernetes but kubernetes only",
    "start": "1888919",
    "end": "1894740"
  },
  {
    "text": "understands Json internally and so a lot of the code that we Traverse in our journey is going from Json to yaml to",
    "start": "1894740",
    "end": "1902299"
  },
  {
    "text": "Json to yaml and then back to your client and then in Reverse when you give us yaml so that's where a lot of the",
    "start": "1902299",
    "end": "1908240"
  },
  {
    "text": "Dragons lie and the result my favorite one is the cube control config command where you can edit parts and get parts",
    "start": "1908240",
    "end": "1914840"
  },
  {
    "text": "of your Cube config that was all done through like insane go reflection where",
    "start": "1914840",
    "end": "1920120"
  },
  {
    "text": "it looks up the original struck definition for go and interpolates the Json metadata tags that are there to",
    "start": "1920120",
    "end": "1927440"
  },
  {
    "text": "validate what data you're giving it so it was written a long time ago when people were learning go and it's a use",
    "start": "1927440",
    "end": "1933320"
  },
  {
    "text": "of a heavy reflection in the code base that we'd like to replace one day and Marley did great work there too yeah and",
    "start": "1933320",
    "end": "1940340"
  },
  {
    "text": "we still have unstructured don't forget about that one oh my gosh which is a map of maps of maps yeah which represents",
    "start": "1940340",
    "end": "1946760"
  },
  {
    "text": "the Json if you're talking with a dynamic client you're getting unstructured resources we basically have to take that Json and that unstructured",
    "start": "1946760",
    "end": "1954260"
  },
  {
    "text": "struct that comes in and then figure out what ghost struct we can Marshal it into and that is several layers of",
    "start": "1954260",
    "end": "1960380"
  },
  {
    "text": "abstraction and fun to understand we don't have to touch that as a beginner yeah but Eddie don't think that don't think that I think they are freaked out",
    "start": "1960380",
    "end": "1966620"
  },
  {
    "text": "enough any other questions or thoughts nope",
    "start": "1966620",
    "end": "1972500"
  },
  {
    "text": "cool well thank you all for joining us we really appreciate people coming to the maintainer session if you could please review it so they let us keep",
    "start": "1972500",
    "end": "1978799"
  },
  {
    "text": "doing these it's awesome and be sure to come by the Sig meet and greet to meet some of the other sigs and enjoy the",
    "start": "1978799",
    "end": "1985279"
  },
  {
    "text": "rest of the week in beautiful Amsterdam so thanks everyone",
    "start": "1985279",
    "end": "1990100"
  }
]