[
  {
    "text": "so I'm at Mau line everywhere you can find me on LinkedIn Twitter or X like all the",
    "start": "560",
    "end": "7160"
  },
  {
    "text": "places I'm a member of Sig hunk which is a security-minded group that is actually focused on doing talks about container",
    "start": "7240",
    "end": "13120"
  },
  {
    "text": "security and things like that you may have seen me present with Ian Coldwater Rory mckune and Brad dman they great",
    "start": "13120",
    "end": "19960"
  },
  {
    "text": "friends they're not here at the security conference unfortunately but they are they are here in my mind today we're",
    "start": "19960",
    "end": "28000"
  },
  {
    "text": "going to be doing this so isogo do2 that's our uh URL shortener and then",
    "start": "28000",
    "end": "35480"
  },
  {
    "text": "slash sailing the Seas so open a browser can be Chrome can be whatever",
    "start": "35480",
    "end": "41480"
  },
  {
    "text": "kind of browser you want and go there that's step",
    "start": "41480",
    "end": "46719"
  },
  {
    "text": "one when you get there it should look something like",
    "start": "46719",
    "end": "52320"
  },
  {
    "text": "that so again the URL ISO as in isov veent go to go. to clear",
    "start": "52800",
    "end": "60879"
  },
  {
    "text": "SL sailing the",
    "start": "60879",
    "end": "63879"
  },
  {
    "text": "Seas when you get there go ahead and hit start on that",
    "start": "69080",
    "end": "74479"
  },
  {
    "text": "lab and hopefully we won't have to wait too long I did actually do a hot start for this so there should be a good",
    "start": "74479",
    "end": "79960"
  },
  {
    "text": "little pool of you know reasonbly reasonably started episodes",
    "start": "79960",
    "end": "85680"
  },
  {
    "text": "but see how it goes but while we're waiting for everything to load up here you can can also choose this little",
    "start": "85680",
    "end": "91640"
  },
  {
    "text": "arrow key and it will take you through a little bit more information about it right like what is security observability we're going to be",
    "start": "91640",
    "end": "98000"
  },
  {
    "text": "leveraging tetron it's a standalone project so psyllium and tetron are related but",
    "start": "98000",
    "end": "104960"
  },
  {
    "text": "they're not entirely um they're not entirely uh inclusive of each other you can run tetron by itself on servers you",
    "start": "104960",
    "end": "112719"
  },
  {
    "text": "can also run tetron inside of your C clusters and it can make use of some of the data that um that celium also sees a",
    "start": "112719",
    "end": "120079"
  },
  {
    "text": "kind of an overview in a graphical format of like what tetragon does when I'm introducing tetragon usually I say",
    "start": "120079",
    "end": "127560"
  },
  {
    "text": "like you know celium is primarily a networking product it's focused on being",
    "start": "127560",
    "end": "132800"
  },
  {
    "text": "able to provide the networking abstraction inside of kubernetes it's focused on being able to provide Network",
    "start": "132800",
    "end": "138560"
  },
  {
    "text": "policy being able to help you do things like actually limit the access of particular applications within your",
    "start": "138560",
    "end": "144440"
  },
  {
    "text": "kubernetes environments to other applications or even to the outside world whereas tetragon instead of being",
    "start": "144440",
    "end": "150120"
  },
  {
    "text": "focused primarily on networking tetron is focused primarily on the Linux kernel",
    "start": "150120",
    "end": "155440"
  },
  {
    "text": "so pretty much anything if you were to think of the a of Linux kernel as an API or event driven uh API right when I open",
    "start": "155440",
    "end": "162800"
  },
  {
    "text": "a file that's an API call when I open a socket that's an API call with tetragon we're able to",
    "start": "162800",
    "end": "169040"
  },
  {
    "text": "basically inser insert ourselves into any of those API calls and take metadata",
    "start": "169040",
    "end": "174519"
  },
  {
    "text": "out of them we're able to gather information about what actually happened at runtime we're able to enforce things",
    "start": "174519",
    "end": "180360"
  },
  {
    "text": "we're able to change the way that behaviors happen again at that Linux kernel",
    "start": "180360",
    "end": "185720"
  },
  {
    "text": "layer and in this episode in this uh session that we're doing here today we're going to play with it we're going",
    "start": "185720",
    "end": "191000"
  },
  {
    "text": "to play with that a bit so there are some timeouts but I don't think they'll affect us",
    "start": "191000",
    "end": "196239"
  },
  {
    "text": "today this lab will exist for 3 days you have today tomorrow and the next day to play with this and then it will go away",
    "start": "196239",
    "end": "202360"
  },
  {
    "text": "but there are plenty more Labs available if you do want to explore more uh Labs after you get done with this one because",
    "start": "202360",
    "end": "208480"
  },
  {
    "text": "you find they're fun and you want get Badges and that kind of stuff if you go to isov valant.com",
    "start": "208480",
    "end": "216280"
  },
  {
    "text": "SL laabs you will find a whole library of labs some of which will give you a",
    "start": "218280",
    "end": "224159"
  },
  {
    "text": "badge that you can actually put up on your social media and say that you have taken the time to learn about all kinds",
    "start": "224159",
    "end": "229280"
  },
  {
    "text": "of things the lab that we're exploring today is roughly based on the getting started with tetron lab but the lab",
    "start": "229280",
    "end": "235840"
  },
  {
    "text": "we're using is not going to give you a badge",
    "start": "235840",
    "end": "240360"
  },
  {
    "text": "so when you see that blinking start button go ahead and click Start If you",
    "start": "243000",
    "end": "248280"
  },
  {
    "text": "are are just joining us the um URL to go to is you can just open your laptop and",
    "start": "248280",
    "end": "255840"
  },
  {
    "text": "browse to isogo do2s saling the Seas and it will bring you to the lab",
    "start": "255840",
    "end": "263759"
  },
  {
    "text": "that we're about to explore isog go. tosing the Seas so the first part I want to show",
    "start": "263759",
    "end": "271600"
  },
  {
    "text": "you is the actual docs for this because we've actually just put up a doc site it's tetron doio it actually has a lot",
    "start": "271600",
    "end": "278280"
  },
  {
    "text": "of really great content in it if you want to explore or understand how to interact with tetron this is a great",
    "start": "278280",
    "end": "284320"
  },
  {
    "text": "first step so if you just want to play with the project understand what it's doing like engage with it uh even you",
    "start": "284320",
    "end": "290080"
  },
  {
    "text": "know put up a talk of your own around tetron there's a ton of content here on the website including documentation and",
    "start": "290080",
    "end": "296639"
  },
  {
    "text": "a link to the GitHub and in the GitHub all of these examples",
    "start": "296639",
    "end": "301960"
  },
  {
    "text": "and everything else are also here you can obviously recognize that uh image that we just kind of went",
    "start": "301960",
    "end": "308400"
  },
  {
    "text": "over but there's great getting started guides you know how do we actually get started on Linux how do we get started",
    "start": "308400",
    "end": "313720"
  },
  {
    "text": "in kuber etc etc so definitely check out the uh documentation and the um and",
    "start": "313720",
    "end": "321520"
  },
  {
    "text": "those sorts of things now in our continuing down from here the very",
    "start": "321520",
    "end": "327680"
  },
  {
    "text": "next section here on the right we can see it says tetragon ZX and repo we've kind of explored that a little bit and then",
    "start": "327680",
    "end": "334600"
  },
  {
    "text": "just down below that it says install tetragon that's where we're going to get started we're going to actually be using",
    "start": "334600",
    "end": "341039"
  },
  {
    "text": "a single node kind cluster for this so we're just going to go ahead and kind of get started with that so you can",
    "start": "341039",
    "end": "347400"
  },
  {
    "text": "actually these things on the right are clickable so depending on how much typing you actually want to do or how",
    "start": "347400",
    "end": "352759"
  },
  {
    "text": "much mousing around you want to do you can do this with your um you know by clicking between the tabs or you can",
    "start": "352759",
    "end": "359800"
  },
  {
    "text": "also just click on in tab terminal one and then in the text you have",
    "start": "359800",
    "end": "365199"
  },
  {
    "text": "choices you can again kind of just hit run you can hit copy or you can type it",
    "start": "365199",
    "end": "370440"
  },
  {
    "text": "in depending on what you want to see so like I said this is a single node kind cluster and the next thing we're going",
    "start": "370440",
    "end": "377000"
  },
  {
    "text": "to do is we're going to install um tetron into",
    "start": "377000",
    "end": "385479"
  },
  {
    "text": "it tetron being a project that is co-hosted effectively ayum we're going to be adding the psyllium Helm repo to",
    "start": "385759",
    "end": "392680"
  },
  {
    "text": "our Helm installation and then we're going to be using that psyllium Helm repo to install",
    "start": "392680",
    "end": "398680"
  },
  {
    "text": "tetragon into our kubernetes environment one of the important Flags",
    "start": "398680",
    "end": "403759"
  },
  {
    "text": "here is that I'm actually also pointing the um configuration to deploy into the cube system namespace and then there is",
    "start": "403759",
    "end": "410479"
  },
  {
    "text": "a tetragon yaml that describes the configuration of tetron and if we wanted to look at that",
    "start": "410479",
    "end": "420000"
  },
  {
    "text": "you can actually Vim it and see it's really pretty simple I'm not really going I'm not really going too crazy",
    "start": "422000",
    "end": "428080"
  },
  {
    "text": "with like what's configured here but really it gives us an export log it gives us an export file name that we're",
    "start": "428080",
    "end": "434520"
  },
  {
    "text": "going to create it's watching for particular process credentials that are available it's watching for the name",
    "start": "434520",
    "end": "440560"
  },
  {
    "text": "space that processes are in it's not denying anything it's not allowing anything it's just you should be able to",
    "start": "440560",
    "end": "446160"
  },
  {
    "text": "see all the events that are happening we're not enabling the celium AP because we don't have psyllium deployed in this",
    "start": "446160",
    "end": "451479"
  },
  {
    "text": "cluster just tetron and then this last piece is the BTF piece and I'm going to",
    "start": "451479",
    "end": "456520"
  },
  {
    "text": "spend just a minute on this to help you understand this is actually a very important thing as it relates to ebpf",
    "start": "456520",
    "end": "463080"
  },
  {
    "text": "this is how ebpf Works who here has used GDB in the",
    "start": "463080",
    "end": "468960"
  },
  {
    "text": "past yeah a little bit you've heard of it like could hum a few bars so the way",
    "start": "468960",
    "end": "474000"
  },
  {
    "text": "GDB works right is you might have an application and you want to be able to like insert break points and kind of",
    "start": "474000",
    "end": "479080"
  },
  {
    "text": "understand what happening at that application at that point in the application but to really kind of",
    "start": "479080",
    "end": "485280"
  },
  {
    "text": "understand what's happening in some of these applications you need debug symbols you need the symbols that actually allow you to understand okay",
    "start": "485280",
    "end": "491039"
  },
  {
    "text": "this function which from the application perspective might look like an integer is actually this particular",
    "start": "491039",
    "end": "497879"
  },
  {
    "text": "logical function within the flow of the code and those debug symbols help you map what's actually happening at runtime",
    "start": "497879",
    "end": "504560"
  },
  {
    "text": "to something that is a little bit more human readable ironically that's exactly how",
    "start": "504560",
    "end": "509639"
  },
  {
    "text": "BTF data works with the Linux kernel right so there's a bunch of work that",
    "start": "509639",
    "end": "514760"
  },
  {
    "text": "we've done as isovalent and in the ebpf community in general to basically enable",
    "start": "514760",
    "end": "519919"
  },
  {
    "text": "BTF data to be made available in every running Linux kernel today so every popular Linux distribution that's out",
    "start": "519919",
    "end": "525320"
  },
  {
    "text": "there if you look at this path slis kernel BTF you're going to find a",
    "start": "525320",
    "end": "531399"
  },
  {
    "text": "file like that VM Linux and that is the debug symbols that help us navigate that",
    "start": "531399",
    "end": "537320"
  },
  {
    "text": "kernel API that I talked about right so when I say file open if I'm",
    "start": "537320",
    "end": "543480"
  },
  {
    "text": "doing it with like a program inside of the inside of a Linux user space and I say file open it basically shows up in",
    "start": "543480",
    "end": "549560"
  },
  {
    "text": "the Linux colel as an integer call right CIS call 27 great but what is 27 and",
    "start": "549560",
    "end": "556800"
  },
  {
    "text": "what is 27 as it relates to like an arm architecture and what is 27 as it relates to an older kernel and what is",
    "start": "556800",
    "end": "563399"
  },
  {
    "text": "27 is it relates to I mean you can see how all of this would very very much change and so shipping the symbols as",
    "start": "563399",
    "end": "569160"
  },
  {
    "text": "part part of the kernel now allow us to say whenever I see file open and then we",
    "start": "569160",
    "end": "574959"
  },
  {
    "text": "can actually map in that BTF data which simple that is what are you doing you",
    "start": "574959",
    "end": "580760"
  },
  {
    "text": "got to break when you're hired there's no sleeping all",
    "start": "580760",
    "end": "586399"
  },
  {
    "text": "um that helps us understand those functions that we actually want to write code for right so when you're writing uh",
    "start": "586399",
    "end": "592839"
  },
  {
    "text": "cium when you're writing tetragon policy you could say I want to I want to watch for the system call file open this is",
    "start": "592839",
    "end": "599440"
  },
  {
    "text": "how we understand how to understand what's happening at that kernel layer for the most part this is this is",
    "start": "599440",
    "end": "605880"
  },
  {
    "text": "hidden from you I don't think most people are actually ever going to see this but when you start playing with tetragon and you start like really",
    "start": "605880",
    "end": "612000"
  },
  {
    "text": "understanding like all the different things that are cap that were capable of inside that kernel space things get a little more",
    "start": "612000",
    "end": "618079"
  },
  {
    "text": "interesting so I'm going to empty I'm going to leave this file oh I already did",
    "start": "618079",
    "end": "625320"
  },
  {
    "text": "all right and then I going to run this last command on this page which is understanding whether",
    "start": "631839",
    "end": "637440"
  },
  {
    "text": "tetron was successfully deployed and you should see something that says tetron successfully rolled out",
    "start": "637440",
    "end": "645000"
  },
  {
    "text": "welcome right now we're kind of in the first step of the lab if you want to join us in this lab this is the URL to",
    "start": "645880",
    "end": "652200"
  },
  {
    "text": "go to to get started it's open up a browser and go to",
    "start": "652200",
    "end": "657279"
  },
  {
    "text": "isoo do2 SL sailing the Seas and that will take you directly to the lab that",
    "start": "657279",
    "end": "663120"
  },
  {
    "text": "we have begun or you could just watch me fumble about and do that",
    "start": "663120",
    "end": "670720"
  },
  {
    "text": "instead when you're done with that example you can hit check and if all things are successful",
    "start": "673320",
    "end": "680920"
  },
  {
    "text": "it will move you to the next step in the",
    "start": "680920",
    "end": "686079"
  },
  {
    "text": "lab so the next thing we're going to do is we're going to explore the XZ",
    "start": "686839",
    "end": "692000"
  },
  {
    "text": "vulnerability now I'm not sure if you've heard about this one but it was an interesting one because you know a",
    "start": "692000",
    "end": "697120"
  },
  {
    "text": "clever socially engineering kind of attack was uh brought to for on in a",
    "start": "697120",
    "end": "703200"
  },
  {
    "text": "GitHub repository that holds one of the core U one of the core libraries in Linux called lib lzma right and so in in",
    "start": "703200",
    "end": "710160"
  },
  {
    "text": "the exy project like somebody figured out if they could actually inject code into that project that was shipped as",
    "start": "710160",
    "end": "716000"
  },
  {
    "text": "part of the binary then they could further when that b when that library was being used by SSH open a back door",
    "start": "716000",
    "end": "724279"
  },
  {
    "text": "that allows for like an exploit that would be mindblowing right because if this actually ever came to production",
    "start": "724279",
    "end": "731800"
  },
  {
    "text": "this would actually mean that like every instance of SSH using this particular",
    "start": "731800",
    "end": "737360"
  },
  {
    "text": "vulnerable version of the of the lme library would be back doored everybody would you know the the attacker would be",
    "start": "737360",
    "end": "744440"
  },
  {
    "text": "able to basically just connect via SSH and get access to those servers worldwide",
    "start": "744440",
    "end": "750160"
  },
  {
    "text": "fortunately some enterprising Soul figured out uh and he actually he says that he determined it because",
    "start": "750160",
    "end": "757079"
  },
  {
    "text": "the the uh this blows my mind he was doing some testing doing some performance testing",
    "start": "757079",
    "end": "765480"
  },
  {
    "text": "he was initiating an SSH session to a vulnerable version of this and he was",
    "start": "765480",
    "end": "770680"
  },
  {
    "text": "like wow it's like taking milliseconds longer there's got to be something wrong and I'm like you are kidding me like you",
    "start": "770680",
    "end": "778560"
  },
  {
    "text": "noticed that it was taking milliseconds longer and so you were like oh I I wonder I'm going to go look at the",
    "start": "778560",
    "end": "784079"
  },
  {
    "text": "library and see like where the problem is like and actually discovered this whole like thing if you get into the drama of this",
    "start": "784079",
    "end": "791519"
  },
  {
    "text": "it's mind-blowing like that this person actually even found it one and second of all was able to actually to to show how",
    "start": "791519",
    "end": "797760"
  },
  {
    "text": "this works yeah absolutely mind-blowing",
    "start": "797760",
    "end": "804680"
  },
  {
    "text": "yeah so we're going to basically kind of show we're going to create a v",
    "start": "804680",
    "end": "810560"
  },
  {
    "text": "vulnerable cubet and we're going to kind of play with that vulnerable cubet and then show how tetragon can understand",
    "start": "810560",
    "end": "817399"
  },
  {
    "text": "that a vulnerable library is being used by SSH so let's get started here the",
    "start": "817399",
    "end": "822720"
  },
  {
    "text": "first thing we're going to do is we're going to exec into our control plane in terminal one so again you can",
    "start": "822720",
    "end": "830120"
  },
  {
    "text": "click on that terminal one you can hit run here and now we're basically exec into the control plane now the thing",
    "start": "830120",
    "end": "835680"
  },
  {
    "text": "that's interesting about this is because it's a kind kubernetes CL kind stands for kubernetes and Docker",
    "start": "835680",
    "end": "842000"
  },
  {
    "text": "this means it's running as a Docker container that's why I can use Docker exec to get into that server or that",
    "start": "842000",
    "end": "848480"
  },
  {
    "text": "cuet that's running over there this cuet is also running system d",
    "start": "848480",
    "end": "854759"
  },
  {
    "text": "right so it's like running system D inside of a container on top of a container like you get the idea it's crazy so the next thing we're going to",
    "start": "854759",
    "end": "861360"
  },
  {
    "text": "do now that we're exec in here is that we're actually going to pull down a vulnerable version of the LI of the lib",
    "start": "861360",
    "end": "866759"
  },
  {
    "text": "lzma library that I was referring to",
    "start": "866759",
    "end": "871040"
  },
  {
    "text": "and then we're going to install it because we're crazy like that now the good part about this is",
    "start": "873639",
    "end": "879839"
  },
  {
    "text": "that when I do this install um it's actually going",
    "start": "879839",
    "end": "886680"
  },
  {
    "text": "to what it's going to do is it's actually going to install the vulnerable version of theel zma and then we're",
    "start": "886759",
    "end": "892600"
  },
  {
    "text": "going to install SSH as well and because there's already a version of lib lzma that is compatible with SSH apt is going",
    "start": "892600",
    "end": "899839"
  },
  {
    "text": "to leave it alone right so apt is like sure you got your library it's in there I don't have to change anything about",
    "start": "899839",
    "end": "905880"
  },
  {
    "text": "that there's no dependency problem I'm going to go ahead and install SSH and then the next thing we're going to do is",
    "start": "905880",
    "end": "911639"
  },
  {
    "text": "we're going to use system CTL command to start SSH so that we can SSH into it and",
    "start": "911639",
    "end": "917480"
  },
  {
    "text": "then we're going to exit that exec process in the container itself so there was a lot of text that",
    "start": "917480",
    "end": "923440"
  },
  {
    "text": "went by all of that text was basically just installing all of the other dependencies for SSH not related to the",
    "start": "923440",
    "end": "928759"
  },
  {
    "text": "Li Lum A1 the next thing we're going to do is we're just going to copy our authorized",
    "start": "928759",
    "end": "934639"
  },
  {
    "text": "keys from the host into the container and what that does is it makes",
    "start": "934639",
    "end": "940800"
  },
  {
    "text": "it so that we can use password list SSH to get into the",
    "start": "940800",
    "end": "946000"
  },
  {
    "text": "Container so from here the next thing we want to do",
    "start": "946000",
    "end": "951240"
  },
  {
    "text": "actually let me get a raise of hands how many people are where I am sweet all right good good",
    "start": "951240",
    "end": "960399"
  },
  {
    "text": "next thing we're do we're going to click this little down arrow here and we're going to move on to the next piece of",
    "start": "960880",
    "end": "967240"
  },
  {
    "text": "it so now that we have a vulnerable version of SSH and lib lzma running",
    "start": "967240",
    "end": "972839"
  },
  {
    "text": "we're going to write a policy that allows us to catch when that vulnerable",
    "start": "972839",
    "end": "979040"
  },
  {
    "text": "version of the library is being used you can click on the word",
    "start": "979040",
    "end": "984560"
  },
  {
    "text": "editor and click on that policy and we can kind of see what's actually happening at this",
    "start": "984560",
    "end": "990759"
  },
  {
    "text": "layer so I'm going to walk through this with you just so you understand what's happening but in front of you you have",
    "start": "990759",
    "end": "996880"
  },
  {
    "text": "you have a tracing policy that's going to be used to determine when an SSH binary is being called and",
    "start": "996880",
    "end": "1005800"
  },
  {
    "text": "as part of the call of that binary it's going to pull in or load from disk a",
    "start": "1005800",
    "end": "1012360"
  },
  {
    "text": "vulnerable version of the lib lzma Library we know that the vulnerable versions are lib lzma .o.",
    "start": "1012360",
    "end": "1020800"
  },
  {
    "text": "5.6.0 and 5.6.1 if you looked at the previous step",
    "start": "1020800",
    "end": "1026038"
  },
  {
    "text": "we actually downloaded one of that one of those vulnerable versions so this way we know that while we may not well I",
    "start": "1026039",
    "end": "1032640"
  },
  {
    "text": "don't have the private key that this attacker had I can absolutely understand that when SSH runs I can see that the",
    "start": "1032640",
    "end": "1041199"
  },
  {
    "text": "bad the bad library was being used when you're done looking at this",
    "start": "1041199",
    "end": "1049120"
  },
  {
    "text": "we can go ahead and move into applying it so in Terminal Two in terminal",
    "start": "1049120",
    "end": "1054880"
  },
  {
    "text": "one let's go ahead and apply this",
    "start": "1054880",
    "end": "1059840"
  },
  {
    "text": "policy and then we are going to exec in to the tetron Damon set and",
    "start": "1062480",
    "end": "1073799"
  },
  {
    "text": "we're going to start watching for events",
    "start": "1073799",
    "end": "1078360"
  },
  {
    "text": "Now tetron by default is going to just look for exact processes that are starting up processes that are exiting",
    "start": "1082760",
    "end": "1090440"
  },
  {
    "text": "and so there's a bunch of data that we're just going to see kind of going by doing stuff now this is a an abbreviated",
    "start": "1090440",
    "end": "1096919"
  },
  {
    "text": "view of the events that we actually see inside of uh with tetragon so every",
    "start": "1096919",
    "end": "1103480"
  },
  {
    "text": "event is represented by a single line of data but underneath it there's like a whole structured Json data that has a",
    "start": "1103480",
    "end": "1110559"
  },
  {
    "text": "lot more context like who was the parent process how what capabilities were the were or available to that process as a",
    "start": "1110559",
    "end": "1118919"
  },
  {
    "text": "time a lot of that information is available but we're going to leave this",
    "start": "1118919",
    "end": "1124159"
  },
  {
    "text": "running in terminal one and we're going to jump over to Terminal Two and in Terminal 2 we're going to do",
    "start": "1124159",
    "end": "1131240"
  },
  {
    "text": "a get nodes D wide and we can see that the IP address of the cuet running Cube",
    "start": "1131240",
    "end": "1139039"
  },
  {
    "text": "kind control plane is 17282 and because this is a Linux host",
    "start": "1139039",
    "end": "1146400"
  },
  {
    "text": "that IP adds is reachable to us if you were using Docker desktop this would be a much more difficult problem but",
    "start": "1146400",
    "end": "1152360"
  },
  {
    "text": "because we're actually in the same uh routable Network because we're all here on Linux it makes it a lot",
    "start": "1152360",
    "end": "1160320"
  },
  {
    "text": "easier next thing we're going to do is we're going to SS in and when we see that fingerprint we can say",
    "start": "1160320",
    "end": "1166559"
  },
  {
    "text": "yes and we should be able ble to see the date from inside of the",
    "start": "1166559",
    "end": "1172000"
  },
  {
    "text": "container and when we go back to terminal one we should in a few seconds be able",
    "start": "1172000",
    "end": "1180280"
  },
  {
    "text": "to see the output that describes the memory map loading that dependency and",
    "start": "1180280",
    "end": "1186520"
  },
  {
    "text": "that event that's being generated is the event that helps us understand that this",
    "start": "1186520",
    "end": "1191559"
  },
  {
    "text": "vulnerable code was loaded by the SSH binary now it may take a minute CU there's a lot of events that we're",
    "start": "1191559",
    "end": "1197520"
  },
  {
    "text": "watching for so sometimes the events are pretty noisy so just give it a few give it a few seconds or about you know 30 40",
    "start": "1197520",
    "end": "1204600"
  },
  {
    "text": "seconds looking for these event examples here where it says M map R",
    "start": "1204600",
    "end": "1211399"
  },
  {
    "text": "Etc there we go so there's our events from the previous",
    "start": "1220559",
    "end": "1226760"
  },
  {
    "text": "Brun right",
    "start": "1226760",
    "end": "1230640"
  },
  {
    "text": "there we can see that there was an SSH binary called inside of the kind control",
    "start": "1233000",
    "end": "1238200"
  },
  {
    "text": "plane node and that binary was actually you know responding to 1721 1802 date",
    "start": "1238200",
    "end": "1244640"
  },
  {
    "text": "that the date command there's the process receiving that connection and when that process that is receiving that",
    "start": "1244640",
    "end": "1251200"
  },
  {
    "text": "connection started up it loaded up the vulnerable versions of it loaded up a",
    "start": "1251200",
    "end": "1257000"
  },
  {
    "text": "vulnerable version of lib lzma and so we can use tetragon to understand application dependencies that are loaded",
    "start": "1257000",
    "end": "1263440"
  },
  {
    "text": "at runtime and I ran it again and I'm sure",
    "start": "1263440",
    "end": "1269320"
  },
  {
    "text": "it'll show up again here in a minute but so that's the first example of",
    "start": "1269320",
    "end": "1276159"
  },
  {
    "text": "several examples in this lab but in this example we're seeing like if you knew if",
    "start": "1276159",
    "end": "1281240"
  },
  {
    "text": "you came across the information that a particular Library dependency was vulnerable and you wanted to know across",
    "start": "1281240",
    "end": "1287320"
  },
  {
    "text": "your Fleet of machines that running tetragon are is that vulnerable Library",
    "start": "1287320",
    "end": "1292440"
  },
  {
    "text": "being loaded by any application doesn't have to be SSH but is that is that vulnerable Library being",
    "start": "1292440",
    "end": "1298240"
  },
  {
    "text": "loaded then how can I create alerts for that how can I actually start Gathering",
    "start": "1298240",
    "end": "1303279"
  },
  {
    "text": "those security events so that I know that those libraries those vulnerable libraries are actually in use and the",
    "start": "1303279",
    "end": "1309400"
  },
  {
    "text": "interesting thing about this is that tetron looks at the Linux kernel it's gathering this information",
    "start": "1309400",
    "end": "1316480"
  },
  {
    "text": "from the Linux kernel and that means that any process whether containerized",
    "start": "1316480",
    "end": "1321640"
  },
  {
    "text": "or not containerized any Li anywhere that library is being loaded from could be",
    "start": "1321640",
    "end": "1327320"
  },
  {
    "text": "loaded from inside of a container could be loaded inside of the actual underlying host you would actually get a",
    "start": "1327320",
    "end": "1333520"
  },
  {
    "text": "lot more context about where that library was being used and by what right so if you were to look at the event in",
    "start": "1333520",
    "end": "1339279"
  },
  {
    "text": "Greater detail you'd be able to see the name of the container the container image that was being used all that other",
    "start": "1339279",
    "end": "1344640"
  },
  {
    "text": "stuff that was available to you so when you're trying to understand what's happening at run time there's a lot more",
    "start": "1344640",
    "end": "1350200"
  },
  {
    "text": "information that's available there when you're done with that you can hit check and it will go ahead and do",
    "start": "1350200",
    "end": "1356880"
  },
  {
    "text": "the check thing and then we'll go on to our next step and in the next section we're going",
    "start": "1356880",
    "end": "1363640"
  },
  {
    "text": "to explore a little bit of a different challenge in this example we're going to actually introduce a new feature in",
    "start": "1363640",
    "end": "1369919"
  },
  {
    "text": "tetron recent feature this new feature allows us to write uh policies tracing",
    "start": "1369919",
    "end": "1377279"
  },
  {
    "text": "policies and have affect only the pods within a given Nam space or by pod",
    "start": "1377279",
    "end": "1383000"
  },
  {
    "text": "selector so if you knew what you were looking for like in our example what we're going to do is we're actually going to make it so that no application",
    "start": "1383000",
    "end": "1390159"
  },
  {
    "text": "within the default namespace can reach beyond the RFC 1918 Network space right",
    "start": "1390159",
    "end": "1396960"
  },
  {
    "text": "so we're basically going to write a tetron policy that will make it so that no process inside of the default name",
    "start": "1396960",
    "end": "1402640"
  },
  {
    "text": "space can connect to the outside world just to other things within rfc1918",
    "start": "1402640",
    "end": "1409440"
  },
  {
    "text": "but we only want to affect the default namespace we don't want to affect all traffic if I were to apply this network",
    "start": "1410520",
    "end": "1416679"
  },
  {
    "text": "policy if I was write if I were to apply this tracing policy as a default tracing",
    "start": "1416679",
    "end": "1422480"
  },
  {
    "text": "policy that would mean that every process on this host whether inside the client control plane node or in the",
    "start": "1422480",
    "end": "1428760"
  },
  {
    "text": "underlying host or anywhere else would be affected by that policy and I'm",
    "start": "1428760",
    "end": "1434000"
  },
  {
    "text": "pretty sure although I haven't tried it I'm pretty sure that would break our access to this uh lab environment which",
    "start": "1434000",
    "end": "1441400"
  },
  {
    "text": "is why we're doing the namespace thing right so because we're because we want to do this in namespace element so the",
    "start": "1441400",
    "end": "1447000"
  },
  {
    "text": "first thing we're going to do is we're going to take a look at this policy and",
    "start": "1447000",
    "end": "1455200"
  },
  {
    "text": "uh really okay I thought it was empty I was like uh okay so the first thing",
    "start": "1455320",
    "end": "1461440"
  },
  {
    "text": "we're do is we're going to take a look at this policy and we'll talk about like what it's actually going to do right so in this tracing policy you can see right",
    "start": "1461440",
    "end": "1468159"
  },
  {
    "text": "up at the top instead of just saying tracing policy it says tracing policy",
    "start": "1468159",
    "end": "1473880"
  },
  {
    "text": "namespaced and that means that whatever namespace I apply this tracing policy to",
    "start": "1473880",
    "end": "1479039"
  },
  {
    "text": "will be affected by this policy I have the name and then I have",
    "start": "1479039",
    "end": "1485399"
  },
  {
    "text": "the K probe that I'm going to use to affect this",
    "start": "1485399",
    "end": "1489919"
  },
  {
    "text": "traffic the first part here is actually walking watching for the call TCP",
    "start": "1490559",
    "end": "1496919"
  },
  {
    "text": "connect and when I see that call it's a type socket when I see that call I want to",
    "start": "1496919",
    "end": "1503919"
  },
  {
    "text": "look at the arguments for it and if I see um that one of the argument that I'm actually trying to connect to is not",
    "start": "1503919",
    "end": "1510240"
  },
  {
    "text": "within any of these cers the 108 the 17216 sl12 the 1921",
    "start": "1510240",
    "end": "1518039"
  },
  {
    "text": "16816 or even the Local Host 1278 if it's not one of the IP addresses",
    "start": "1518039",
    "end": "1524440"
  },
  {
    "text": "in that set then I want to go ahead and move down to the match action section and I want to kill that",
    "start": "1524440",
    "end": "1532360"
  },
  {
    "text": "process okay that's what we're going to do let's try it",
    "start": "1533360",
    "end": "1538480"
  },
  {
    "text": "out so first thing we're going to do is we're going to actually deploy some stuff to play with so the first thing",
    "start": "1538480",
    "end": "1544640"
  },
  {
    "text": "we're going to do here is we're going to go ahead and deploy an echos server and an echos server is really just a tool",
    "start": "1544640",
    "end": "1549840"
  },
  {
    "text": "that is going to allow us to like query it from inside of another pod so we can see that we have east west traffic and",
    "start": "1549840",
    "end": "1556520"
  },
  {
    "text": "then we're also going to test North South traffic",
    "start": "1556520",
    "end": "1560240"
  },
  {
    "text": "so let's go ahead and also run a netsh shoot",
    "start": "1563159",
    "end": "1567640"
  },
  {
    "text": "container N Shoot if you haven't heard of it it's a great project it's uh somebody nikol laka who's a um somebody",
    "start": "1569200",
    "end": "1576360"
  },
  {
    "text": "is in the has put up a Docker image called uh netsh shoot and this Docker",
    "start": "1576360",
    "end": "1581480"
  },
  {
    "text": "image really helps kind of diagnose or troubleshoot different networking problems from within a pod so it's got",
    "start": "1581480",
    "end": "1587960"
  },
  {
    "text": "things like TCP dump it's got cube Kettle it's got a bunch of different tools if you're trying to understand",
    "start": "1587960",
    "end": "1593120"
  },
  {
    "text": "what the world looks like from within the Pod that might be a really helpful way of understanding what's happening",
    "start": "1593120",
    "end": "1599600"
  },
  {
    "text": "there now we haven't deployed anything yet but once we've actually um connected",
    "start": "1600720",
    "end": "1607200"
  },
  {
    "text": "here we can actually run our curl to uh the the echos server and here's an",
    "start": "1607200",
    "end": "1612520"
  },
  {
    "text": "example output of the echos server",
    "start": "1612520",
    "end": "1617000"
  },
  {
    "text": "and we know that the echo server is reachable because it's in the it's in the service name space and the service",
    "start": "1622279",
    "end": "1627919"
  },
  {
    "text": "name space or the service IP name space is 1096 0016 right so the the resolution",
    "start": "1627919",
    "end": "1634279"
  },
  {
    "text": "of this particular echo. default. cluster. loal is 10961",
    "start": "1634279",
    "end": "1640440"
  },
  {
    "text": "1561 86 in my case it'll be different than yours right but that 1096 IP",
    "start": "1640440",
    "end": "1646039"
  },
  {
    "text": "address space is within 10/ which means that we're going to allow it when we apply the",
    "start": "1646039",
    "end": "1652880"
  },
  {
    "text": "policy if we were also if you want to curl",
    "start": "1654520",
    "end": "1660840"
  },
  {
    "text": "google.com and type it correctly you know un likee me and my",
    "start": "1660880",
    "end": "1667000"
  },
  {
    "text": "thumbs we can see we can do that right we can curl google.com because we haven't applied any policy yet so right",
    "start": "1667000",
    "end": "1672960"
  },
  {
    "text": "now it's completely unrestricted so that's working at the moment",
    "start": "1672960",
    "end": "1680120"
  },
  {
    "text": "so now that we've done that work we're going to go ahead and exit the Nikola",
    "start": "1684279",
    "end": "1689360"
  },
  {
    "text": "container and when we do that we're going to be back on the root",
    "start": "1689360",
    "end": "1694120"
  },
  {
    "text": "shell and we're going to do that because the next thing we're going to do is apply that policy so after you played around and",
    "start": "1694480",
    "end": "1701440"
  },
  {
    "text": "then and that net shoot container you've proven that you have connectivity to the outside world and to the echos service",
    "start": "1701440",
    "end": "1707919"
  },
  {
    "text": "then and we're going to go ahead and apply that policy that we took a look at",
    "start": "1707919",
    "end": "1714240"
  },
  {
    "text": "earlier and we're going to apply that to the default",
    "start": "1720279",
    "end": "1724880"
  },
  {
    "text": "namespace and then after applying the policy we're going to start looking at events again now one difference in this",
    "start": "1726320",
    "end": "1734279"
  },
  {
    "text": "particular case is that I'm actually looking only at events that are happening in the default namespace so I'm not I'm no longer",
    "start": "1734279",
    "end": "1741320"
  },
  {
    "text": "looking at everything that's happening in the previous example I was like just show me all the events in this example I",
    "start": "1741320",
    "end": "1747159"
  },
  {
    "text": "want to only look at the events that are happening in the default Nam space because that's actually where things are interesting for our particular use case",
    "start": "1747159",
    "end": "1753279"
  },
  {
    "text": "here once you get to this step you want to go ahead and kick over to Terminal 2",
    "start": "1753279",
    "end": "1759519"
  },
  {
    "text": "where we will again play with the connectivity",
    "start": "1759519",
    "end": "1764799"
  },
  {
    "text": "stuff in Terminal 2 I can go ahead and exec back into the",
    "start": "1764799",
    "end": "1770000"
  },
  {
    "text": "nutsh container and do a",
    "start": "1770000",
    "end": "1773440"
  },
  {
    "text": "curl interesting",
    "start": "1788919",
    "end": "1792919"
  },
  {
    "text": "and sometimes sometimes these terminals get a little hung up there's a little like uh spinning here on the right next to the word terminal to where you can",
    "start": "1801159",
    "end": "1807799"
  },
  {
    "text": "say um where you can kind of reset the connection here so let me",
    "start": "1807799",
    "end": "1813880"
  },
  {
    "text": "try and uh do that",
    "start": "1813880",
    "end": "1818039"
  },
  {
    "text": "again I don't think the container's gone",
    "start": "1821159",
    "end": "1826360"
  },
  {
    "text": "yeah terminal one so Cube",
    "start": "1832640",
    "end": "1839000"
  },
  {
    "text": "K aret Sho containers",
    "start": "1845440",
    "end": "1849639"
  },
  {
    "text": "there I think I'm just running into like a resource constraint problem or something",
    "start": "1851760",
    "end": "1858480"
  },
  {
    "text": "Oh Thomas",
    "start": "1886320",
    "end": "1889799"
  },
  {
    "text": "interesting behavior I'm wondering if I messed up the policy or",
    "start": "1899240",
    "end": "1905960"
  },
  {
    "text": "something we're not seeing the process get killed so I don't think it's that",
    "start": "1908559",
    "end": "1915440"
  },
  {
    "text": "you",
    "start": "1921159",
    "end": "1924159"
  },
  {
    "text": "let's try deleting the policy and see if this changes",
    "start": "1948919",
    "end": "1954279"
  },
  {
    "text": "anything I'm not sure what's happening there",
    "start": "1972360",
    "end": "1977320"
  },
  {
    "text": "feel like I have a problem that's deeper than the problem that I'm facing in the moment",
    "start": "1978159",
    "end": "1985799"
  },
  {
    "text": "unfortunately anybody else having the same problem everybody",
    "start": "1987039",
    "end": "1992799"
  },
  {
    "text": "interesting super",
    "start": "1992799",
    "end": "1996039"
  },
  {
    "text": "neat learn the demo gods are coming for me all right",
    "start": "2003279",
    "end": "2009360"
  },
  {
    "text": "is this is it DNS what do you",
    "start": "2009360",
    "end": "2013600"
  },
  {
    "text": "think so I can exec in and if I do host Echo",
    "start": "2016120",
    "end": "2023760"
  },
  {
    "text": "do default. SVC it does",
    "start": "2023760",
    "end": "2029919"
  },
  {
    "text": "resolve and Q proxy is not is brunning by it's",
    "start": "2029919",
    "end": "2035799"
  },
  {
    "text": "being run by Q proxy not by me  is installed",
    "start": "2035799",
    "end": "2041159"
  },
  {
    "text": "here probably should",
    "start": "2041159",
    "end": "2044600"
  },
  {
    "text": "be cord is running Q proxy is running what if I just tried to connect",
    "start": "2050720",
    "end": "2057520"
  },
  {
    "text": "to this thing directly instead of",
    "start": "2057520",
    "end": "2062200"
  },
  {
    "text": "let's try that let's see if our problem is Q proxy or if it's actually",
    "start": "2073879",
    "end": "2081358"
  },
  {
    "text": "the cube Kettle get pods Das wide",
    "start": "2088720",
    "end": "2098000"
  },
  {
    "text": "our Echo server is 10",
    "start": "2098000",
    "end": "2102000"
  },
  {
    "text": "24406 let's bypass ke proxy 10 oh I know what I'm",
    "start": "2103599",
    "end": "2111599"
  },
  {
    "text": "doing it's so obvious it's so dumb it's brilliant all right here's what's",
    "start": "2111599",
    "end": "2118280"
  },
  {
    "text": "happening N Shoot sorry we're going to curl echo.",
    "start": "2119920",
    "end": "2125680"
  },
  {
    "text": "default. SVC you actually have enough information to understand what happened if you think",
    "start": "2125680",
    "end": "2131760"
  },
  {
    "text": "about it when I created the service I said that the service was on Port",
    "start": "2131760",
    "end": "2138160"
  },
  {
    "text": "88 I'm trying to curl Port 80 there's nobody listening at Port 80 so it will",
    "start": "2138160",
    "end": "2144839"
  },
  {
    "text": "never work of course there's a comma cuz like you know that's that's how I roll around",
    "start": "2144839",
    "end": "2151800"
  },
  {
    "text": "here yeah so obvious it's so it's so obvious all right so let's go ahead and",
    "start": "2151800",
    "end": "2158599"
  },
  {
    "text": "put our name I'm going to put my policy back you may not have removed yours but that was me trying to figure out",
    "start": "2158599",
    "end": "2164880"
  },
  {
    "text": "like why this was not working I'm going to put that back in there I'm going to go ahead and start watching for events",
    "start": "2164880",
    "end": "2172920"
  },
  {
    "text": "again there we go all right so then I'm going to go back over to terminal two",
    "start": "2175119",
    "end": "2180560"
  },
  {
    "text": "I'm going do a curl to the echo service on port 8080",
    "start": "2180560",
    "end": "2187800"
  },
  {
    "text": "and back into terminal one I should be able to see those",
    "start": "2187800",
    "end": "2192559"
  },
  {
    "text": "events which I do as I was expecting I should be able to see those events right",
    "start": "2195640",
    "end": "2200839"
  },
  {
    "text": "the curl connection and the uh and the response and so once the curl is H is is",
    "start": "2200839",
    "end": "2207400"
  },
  {
    "text": "successful then we should see that process exit and everything's great but what if we tried to connect to",
    "start": "2207400",
    "end": "2215160"
  },
  {
    "text": "the outside world on something that actually listens on Port 80 cuz that might be a little bit more entertaining",
    "start": "2215160",
    "end": "2221400"
  },
  {
    "text": "let's try",
    "start": "2221400",
    "end": "2223920"
  },
  {
    "text": "that and immediately instead of trying to get anything else I get",
    "start": "2227240",
    "end": "2233200"
  },
  {
    "text": "killed and again if I go back to terminal one I see a different",
    "start": "2233280",
    "end": "2241078"
  },
  {
    "text": "output I can see the connection google.com I can see that I'm actually mapping that to an IP address add 172",
    "start": "2241720",
    "end": "2248400"
  },
  {
    "text": "253 120 138 that is outside of our IP ranges and so Teton kills it it sends a",
    "start": "2248400",
    "end": "2257280"
  },
  {
    "text": "s kill to that",
    "start": "2257280",
    "end": "2260119"
  },
  {
    "text": "process all right so now what's interesting here is that",
    "start": "2270480",
    "end": "2278200"
  },
  {
    "text": "what we've done is we've effectively kind of written Network policy in",
    "start": "2278560",
    "end": "2284079"
  },
  {
    "text": "tetragon which is maybe not exactly the right thing when you think about it from",
    "start": "2284079",
    "end": "2289400"
  },
  {
    "text": "the kuber NES perspective like within Cube you have Network policy right you probably should just be using network",
    "start": "2289400",
    "end": "2295119"
  },
  {
    "text": "policy for this but what if I put tetron on a database server what if I put tetron on literally",
    "start": "2295119",
    "end": "2302640"
  },
  {
    "text": "any other kind of Linux host well then that actually might come in handy right then I actually do have a",
    "start": "2302640",
    "end": "2309000"
  },
  {
    "text": "reason to think to to use it this in this way right gives me the ability to apply rules somewhat arbitrarily as it",
    "start": "2309000",
    "end": "2314720"
  },
  {
    "text": "relates to networking as it as it relates to processes running on that host and I don't have to just watch for",
    "start": "2314720",
    "end": "2320359"
  },
  {
    "text": "a particular in that case like I might apply this to any process running or I might apply it to processes that are",
    "start": "2320359",
    "end": "2326680"
  },
  {
    "text": "running in with specific container names right if you go back to the docs here the relevant tetron",
    "start": "2326680",
    "end": "2333800"
  },
  {
    "text": "docs which are in your fourth tab I guess you can actually see the policy",
    "start": "2333800",
    "end": "2339599"
  },
  {
    "text": "the motivation behind this particular rule set and also like what policy filtering we can watch we can watch for",
    "start": "2339599",
    "end": "2346280"
  },
  {
    "text": "so we can watch for obviously namespace policies any container running inside of that kuber namespace will be affected by",
    "start": "2346280",
    "end": "2352119"
  },
  {
    "text": "it we can watch for pod label filters which means that if you have labeled pods egress okay but other pods are not",
    "start": "2352119",
    "end": "2359920"
  },
  {
    "text": "labeled egress okay then you could actually affect it in that way we can watch for container names right so if",
    "start": "2359920",
    "end": "2366280"
  },
  {
    "text": "you were running this if you're running tetron on a Docker host unrelated to kubert you could actually watch for",
    "start": "2366280",
    "end": "2372720"
  },
  {
    "text": "container names and filter these things and if you want to explore this",
    "start": "2372720",
    "end": "2379440"
  },
  {
    "text": "like in your own time not inside of this lab there's also instructions here on how to actually play with that using",
    "start": "2379440",
    "end": "2385000"
  },
  {
    "text": "mini Cube",
    "start": "2385000",
    "end": "2390359"
  },
  {
    "text": "okay so we got things to work that's exciting so now the next thing I wanted to do was show you kind of a deeper look",
    "start": "2390359",
    "end": "2395920"
  },
  {
    "text": "at those events you've heard me talk about but now I want to actually play with them a bit so let's go ahead and do",
    "start": "2395920",
    "end": "2401920"
  },
  {
    "text": "that so let's go back to terminal",
    "start": "2401920",
    "end": "2407359"
  },
  {
    "text": "one H contrl C or refresh the terminal one way",
    "start": "2409760",
    "end": "2416400"
  },
  {
    "text": "works my control characters aren't actually making it into the terminal for some",
    "start": "2416400",
    "end": "2422400"
  },
  {
    "text": "reason we're going to run this command",
    "start": "2422400",
    "end": "2427119"
  },
  {
    "text": "what we're doing here is we're actually getting into the tetron Container we're adding the JQ uh",
    "start": "2429240",
    "end": "2436800"
  },
  {
    "text": "command and now we're watching for events so back in Terminal",
    "start": "2447280",
    "end": "2453838"
  },
  {
    "text": "Two we will run our curl to Echo and in terminal",
    "start": "2454960",
    "end": "2462280"
  },
  {
    "text": "one we should eventually see",
    "start": "2476359",
    "end": "2481119"
  },
  {
    "text": "when will I learn probably",
    "start": "2505200",
    "end": "2511000"
  },
  {
    "text": "never okay so run that curl Boop",
    "start": "2511240",
    "end": "2516920"
  },
  {
    "text": "and then over DET terminal one we should see the event show",
    "start": "2518040",
    "end": "2522640"
  },
  {
    "text": "up comp that ons yeah the problem was that",
    "start": "2532480",
    "end": "2537720"
  },
  {
    "text": "I had actually um I was still inside the container so if you exit out to where",
    "start": "2537720",
    "end": "2543920"
  },
  {
    "text": "you see the route then you should be able to just run this girl the the the command again from here because the",
    "start": "2543920",
    "end": "2549839"
  },
  {
    "text": "command is to exec indet shoot and then do the curl oh curl compact well it still works yeah that's a typo on my",
    "start": "2549839",
    "end": "2556359"
  },
  {
    "text": "part actually I guess that's probably like word completion but it's still it still functions because what we're",
    "start": "2556359",
    "end": "2562319"
  },
  {
    "text": "actually looking at here is the event so we still see the event happen and this is what I was talking",
    "start": "2562319",
    "end": "2568040"
  },
  {
    "text": "about by like there's a lot more context that's available to us then just that",
    "start": "2568040",
    "end": "2573079"
  },
  {
    "text": "one line that says the curl connect happened we killed the process Etc right",
    "start": "2573079",
    "end": "2579200"
  },
  {
    "text": "and some of that data that's available to us is what the underlying pit was on the underlying host some of that",
    "start": "2579200",
    "end": "2584559"
  },
  {
    "text": "information is like what um command is being run like what the effective capabilities were of for that process",
    "start": "2584559",
    "end": "2591800"
  },
  {
    "text": "what pod labels were associated with the pod in which that process took place what the parent process was",
    "start": "2591800",
    "end": "2598559"
  },
  {
    "text": "whether it was successful or not what the actual you know like when you look at containers containers are a group of",
    "start": "2598559",
    "end": "2604240"
  },
  {
    "text": "namespaces all of those namespaces are listed here so we understand like exactly where that container is as it",
    "start": "2604240",
    "end": "2610440"
  },
  {
    "text": "relates to Linux kernel so lots more context and all of",
    "start": "2610440",
    "end": "2616559"
  },
  {
    "text": "this being structured Json data means that you can throw this into Splunk or into your sim or whatever and there's",
    "start": "2616559",
    "end": "2623160"
  },
  {
    "text": "actually easy ways to understand contextually what's happening here you can see a process tree you can see a lot",
    "start": "2623160",
    "end": "2629480"
  },
  {
    "text": "more information",
    "start": "2629480",
    "end": "2632680"
  },
  {
    "text": "so this this last piece was kind of like what I was referring to before like did we just write Network policy without",
    "start": "2638920",
    "end": "2644440"
  },
  {
    "text": "applying Network policy and the answer is yes but the reason is because we can actually do this in a variety of",
    "start": "2644440",
    "end": "2650640"
  },
  {
    "text": "different ways in a variety of different",
    "start": "2650640",
    "end": "2654240"
  },
  {
    "text": "targets when you get done you can do a check a check or a skip I'm going to hit skip myself CU don't really want to",
    "start": "2657880",
    "end": "2664760"
  },
  {
    "text": "spend the time and the next thing we're going to do the next thing we can get into is detecting a container Escape",
    "start": "2664760",
    "end": "2671160"
  },
  {
    "text": "which is a different use case right so far we've talked about the XD SSH example we've talked about the",
    "start": "2671160",
    "end": "2677520"
  },
  {
    "text": "networking uh the rfc1918 example and the next one we're going to play with is",
    "start": "2677520",
    "end": "2683280"
  },
  {
    "text": "detecting a container Escape Che is failing and I don't we",
    "start": "2683280",
    "end": "2689920"
  },
  {
    "text": "come take a look work",
    "start": "2689920",
    "end": "2697559"
  },
  {
    "text": "command terminated that's good you expect to see that oh the check isn't working yeah and I don't get a skip let",
    "start": "2704680",
    "end": "2710319"
  },
  {
    "text": "me see let me figure out why that says check one moment while I figure out",
    "start": "2710319",
    "end": "2715880"
  },
  {
    "text": "what I I wrote this and I you know so I also broke it so one",
    "start": "2715880",
    "end": "2723400"
  },
  {
    "text": "sec we'll get you past it for",
    "start": "2724880",
    "end": "2729960"
  },
  {
    "text": "oh so it's expecting the policy that is present to be called connect only private",
    "start": "2778200",
    "end": "2785160"
  },
  {
    "text": "adders and I think I think maybe that is our problem let me go back to the lab",
    "start": "2785160",
    "end": "2794200"
  },
  {
    "text": "here connect only private",
    "start": "2798760",
    "end": "2802760"
  },
  {
    "text": "adders yeah the name is different so what you can do to fix this sorry",
    "start": "2813720",
    "end": "2821119"
  },
  {
    "text": "this is a bug in my lab I apologize for this you can actually edit the",
    "start": "2821119",
    "end": "2826640"
  },
  {
    "text": "networking yaml and in the name change the name",
    "start": "2826640",
    "end": "2835280"
  },
  {
    "text": "to connect Dash only-",
    "start": "2837400",
    "end": "2843880"
  },
  {
    "text": "private d addrs",
    "start": "2843880",
    "end": "2848279"
  },
  {
    "text": "and then once you've made that",
    "start": "2849079",
    "end": "2853000"
  },
  {
    "text": "change you can apply it we see that the policy has been",
    "start": "2856880",
    "end": "2862960"
  },
  {
    "text": "applied and then that should get you past it",
    "start": "2865960",
    "end": "2875359"
  },
  {
    "text": "um hopefully yeah the name is connect only",
    "start": "2875839",
    "end": "2882920"
  },
  {
    "text": "private addrs",
    "start": "2882920",
    "end": "2888359"
  },
  {
    "text": "uh let's see where did I have",
    "start": "2888359",
    "end": "2892838"
  },
  {
    "text": "that was here guess l in so the thing we're actually",
    "start": "2894960",
    "end": "2901520"
  },
  {
    "text": "looking for is a policy that",
    "start": "2901520",
    "end": "2906599"
  },
  {
    "text": "was my bad despite my testing still get",
    "start": "2911800",
    "end": "2918359"
  },
  {
    "text": "me all right so then we go to",
    "start": "2918359",
    "end": "2923759"
  },
  {
    "text": "so we're looking for a namespaced policy that is named connect only connect D",
    "start": "2944240",
    "end": "2950640"
  },
  {
    "text": "only- private D addrs and if you just copy the namespace",
    "start": "2950640",
    "end": "2956760"
  },
  {
    "text": "or the networking. yl or to edit the networking. yl and change the name to connect D only- private D addrs and then",
    "start": "2956760",
    "end": "2966559"
  },
  {
    "text": "a apply it that should get you past the check sorry about that that was my",
    "start": "2966559",
    "end": "2973280"
  },
  {
    "text": "bad speaking of checks",
    "start": "2987359",
    "end": "2991838"
  },
  {
    "text": "we have about 25 minutes left I don't think we're going to be able to get through all of the next piece of content in 25 minutes but like I said this lab",
    "start": "2997000",
    "end": "3004359"
  },
  {
    "text": "is open for three more days I'll be wandering around I'll be here and then like also in then at",
    "start": "3004359",
    "end": "3011040"
  },
  {
    "text": "1 15 I think or 120 or something I'm in the Next Room talking with Kyle",
    "start": "3011040",
    "end": "3016640"
  },
  {
    "text": "Quest about um how to automate the obfuscation",
    "start": "3016640",
    "end": "3022599"
  },
  {
    "text": "of cves so that should be a fun talk if you're interested in that kind of thing but I'll be there I'll be here I'll be",
    "start": "3022599",
    "end": "3028400"
  },
  {
    "text": "walking around um just look for the hat and if you have questions or you're running into troubles just come get me",
    "start": "3028400",
    "end": "3033760"
  },
  {
    "text": "come come come find me I'm happy to work through it with you um I'm not leaving yet I'm just saying that's how you can",
    "start": "3033760",
    "end": "3040480"
  },
  {
    "text": "get a hold of me I'll also be on the floor tomorrow so if you go into the solution showcase and you find the isov",
    "start": "3040480",
    "end": "3046240"
  },
  {
    "text": "veent booth that's where you'll find me tomorrow I'll be hanging out with that colorful gentleman there in the",
    "start": "3046240",
    "end": "3052559"
  },
  {
    "text": "back our amazing eie Mr Jeff",
    "start": "3053520",
    "end": "3058640"
  },
  {
    "text": "Spa so once you've made that change you should be able to move on to this next challenge which is detecting a container",
    "start": "3059359",
    "end": "3067520"
  },
  {
    "text": "Escape so I'm going to keep walking through this content I'm going to pick my Pace up a little bit so we can kind",
    "start": "3079240",
    "end": "3084440"
  },
  {
    "text": "of move through it here a little bit but um the content is very self-based very very",
    "start": "3084440",
    "end": "3089920"
  },
  {
    "text": "course based you know you can actually work through all of the stuff and kind of play with it see how it",
    "start": "3089920",
    "end": "3096400"
  },
  {
    "text": "works in this one we start in terminal one and the first thing we",
    "start": "3096839",
    "end": "3102799"
  },
  {
    "text": "do is we exec into uh tetron in terminal one and we start watching for pods that",
    "start": "3102799",
    "end": "3109440"
  },
  {
    "text": "are called Sith infiltrator and in Terminal Two we",
    "start": "3109440",
    "end": "3116599"
  },
  {
    "text": "create a pod that's called that because we're starting to watch for",
    "start": "3116599",
    "end": "3121880"
  },
  {
    "text": "events that are affected by that name then we should be able to actually see that the startup of that container here",
    "start": "3121880",
    "end": "3127640"
  },
  {
    "text": "in a little bit here it",
    "start": "3127640",
    "end": "3131519"
  },
  {
    "text": "goes in terminal one or in Terminal Two we can kind of see if that pod was actually successfully deployed and we",
    "start": "3134319",
    "end": "3140200"
  },
  {
    "text": "know that it was because we start started seeing events from it the next section here",
    "start": "3140200",
    "end": "3147280"
  },
  {
    "text": "here again we can kind of see all of the events for this particular pod the startup we can actually see the whole",
    "start": "3147280",
    "end": "3153720"
  },
  {
    "text": "beginning of it right like the actual process of starting this whole thing",
    "start": "3153720",
    "end": "3159440"
  },
  {
    "text": "up and these are all events that are very specific to this one particular",
    "start": "3160200",
    "end": "3166880"
  },
  {
    "text": "pod we can see the default configuration edits for the engine X Damon we can see the engine X binary has",
    "start": "3167599",
    "end": "3175079"
  },
  {
    "text": "been started up and is listening on Port",
    "start": "3175079",
    "end": "3178839"
  },
  {
    "text": "80 and the next thing we want to do is we want to add a tracing policy that will watch for privilege",
    "start": "3180599",
    "end": "3187640"
  },
  {
    "text": "escalation and again any of these any of these policies is available to you right there in that rud file system so if you",
    "start": "3187640",
    "end": "3192799"
  },
  {
    "text": "want to look at that policy before you apply it you can absolutely do",
    "start": "3192799",
    "end": "3198359"
  },
  {
    "text": "that privilege escalation is basically the idea that you know in containers we",
    "start": "3202839",
    "end": "3208920"
  },
  {
    "text": "have network name we have name spaces not just network name spaces we have PID name spaces we have username spaces",
    "start": "3208920",
    "end": "3214680"
  },
  {
    "text": "there's a bunch of different user a bunch of different Nam spaces that make up a container and in this particular",
    "start": "3214680",
    "end": "3220720"
  },
  {
    "text": "example of privilege escalation what we're going to play with is a command called NS enter which allows you to change the effective namespace that",
    "start": "3220720",
    "end": "3227799"
  },
  {
    "text": "you're in this can be a great diagnostic tool actually if you're trying to",
    "start": "3227799",
    "end": "3233200"
  },
  {
    "text": "understand what's wrong with an application inside of a container or orchestration tool like NS Center is a",
    "start": "3233200",
    "end": "3238599"
  },
  {
    "text": "great tool for that but at the same time it requires quite a bit more privilege because you're basically allowing",
    "start": "3238599",
    "end": "3244760"
  },
  {
    "text": "someone who can use n Center to jump into the actual running application",
    "start": "3244760",
    "end": "3250440"
  },
  {
    "text": "inside of other containers it's very similar to Docker exec in that way right if you had the docker exec command and",
    "start": "3250440",
    "end": "3255680"
  },
  {
    "text": "NS Center Docker exec is really just NS enter with like lipstick it's the same thing you know",
    "start": "3255680",
    "end": "3263319"
  },
  {
    "text": "and the center lets you actually pick which name spaces you're jump into Docker exec just tries to make it a very",
    "start": "3266760",
    "end": "3272720"
  },
  {
    "text": "useful uh user command so now that we've actually",
    "start": "3272720",
    "end": "3279040"
  },
  {
    "text": "created our policy for sit set and S let's go ahead and try to see what",
    "start": "3279040",
    "end": "3285839"
  },
  {
    "text": "happens next right so our next command we're going to jump into the SI Seth the Sith infiltrator and we should be able",
    "start": "3285839",
    "end": "3291720"
  },
  {
    "text": "to see that bin bash command run down here at the bottom",
    "start": "3291720",
    "end": "3297798"
  },
  {
    "text": "and then while we're in there we're going to use the NS Center command to",
    "start": "3299240",
    "end": "3304920"
  },
  {
    "text": "escalate our privilege jump into the host name",
    "start": "3304920",
    "end": "3310520"
  },
  {
    "text": "space this ENT the NS enter command in this particular case what it's doing you can actually even see that the name of",
    "start": "3323440",
    "end": "3330319"
  },
  {
    "text": "the process changed a little bit but you can see N A Center which is the command that's like the C Swiss it's like the",
    "start": "3330319",
    "end": "3336680"
  },
  {
    "text": "Swiss army knife of Nam spaces I want to enter into all of the name spaces",
    "start": "3336680",
    "end": "3342359"
  },
  {
    "text": "associated with PID one so- t means which",
    "start": "3342359",
    "end": "3347960"
  },
  {
    "text": "PID and because I'm not specifi and because I say- a it means I just want to",
    "start": "3347960",
    "end": "3353000"
  },
  {
    "text": "be in all of the name spaces that PID one is in right and to give you just a little bit",
    "start": "3353000",
    "end": "3358720"
  },
  {
    "text": "more context if I were to do LS slpr SL1",
    "start": "3358720",
    "end": "3367480"
  },
  {
    "text": "slns and then do that with - Al because it will help you understand",
    "start": "3367480",
    "end": "3374119"
  },
  {
    "text": "what's happening here so here are the actual name spaces",
    "start": "3374119",
    "end": "3379440"
  },
  {
    "text": "the integers associated with the namespaces that PID One is using and here are all the Nam spaces that make up",
    "start": "3379440",
    "end": "3386559"
  },
  {
    "text": "effectively that that container or that process in this particular example what",
    "start": "3386559",
    "end": "3392319"
  },
  {
    "text": "do you think the name of PID one is on a running Linux host",
    "start": "3392319",
    "end": "3397520"
  },
  {
    "text": "generally anybody know four-letter",
    "start": "3397520",
    "end": "3402920"
  },
  {
    "text": "word in it the first process right is in it and",
    "start": "3402920",
    "end": "3408680"
  },
  {
    "text": "so what we're doing is we're saying I want to be in all the name spaces that in it is in so effectively we've just rooted this",
    "start": "3408680",
    "end": "3416480"
  },
  {
    "text": "thing from within a container because the container that we created had the ability to interact with host PID and",
    "start": "3416480",
    "end": "3423079"
  },
  {
    "text": "because that container is running in a privileged fashion we can immediately exit the name spaces that the container",
    "start": "3423079",
    "end": "3429400"
  },
  {
    "text": "is running into and jump right into just like connecting to this thing",
    "start": "3429400",
    "end": "3434640"
  },
  {
    "text": "as root yeah but every process in Linux is",
    "start": "3434640",
    "end": "3441079"
  },
  {
    "text": "actually if you were to do this like proc LS minus Al proc proc PID NS you're",
    "start": "3441079",
    "end": "3446240"
  },
  {
    "text": "going to be able to see the name spaces that every process is in and if you look at a container the real difference between a container and any other",
    "start": "3446240",
    "end": "3452520"
  },
  {
    "text": "process running on a Linux on a Linux kernel is that those numbers will be different right that's the only real",
    "start": "3452520",
    "end": "3458720"
  },
  {
    "text": "difference if you look at like a process that's been containerized like the engine X process you're going to find",
    "start": "3458720",
    "end": "3464480"
  },
  {
    "text": "that the actual network name space of that process will be different than the one that is associated with PID one",
    "start": "3464480",
    "end": "3470280"
  },
  {
    "text": "because it was started just for that container",
    "start": "3470280",
    "end": "3474720"
  },
  {
    "text": "say it if you jump into another terminal and show the same thing you show that",
    "start": "3478280",
    "end": "3483920"
  },
  {
    "text": "yeah I mean I will I will leave that to you to explore but that is how it",
    "start": "3483920",
    "end": "3488680"
  },
  {
    "text": "works so let's take a look at our events did we catch",
    "start": "3489520",
    "end": "3494559"
  },
  {
    "text": "it looks like we did right we saw the change",
    "start": "3494559",
    "end": "3503318"
  },
  {
    "text": "we going do a check to make sure everything passes and then we can move on to the next",
    "start": "3512520",
    "end": "3519279"
  },
  {
    "text": "step once we have actually managed to take over an underlying host just getting access is one thing but it'd be",
    "start": "3522680",
    "end": "3529880"
  },
  {
    "text": "kind of cool if we could stay there like we could figure out how to make it a persistent threat as opposed to just our",
    "start": "3529880",
    "end": "3536119"
  },
  {
    "text": "current model which is like we got in but like how do we actually make this more",
    "start": "3536119",
    "end": "3542039"
  },
  {
    "text": "persistent so the first thing we're going to do just from our our perspective is we're going to write a tricing policy that will detect an",
    "start": "3543880",
    "end": "3552119"
  },
  {
    "text": "invisible pod now this is a interesting thing within the kuber nus project or actually within the cubet specifically",
    "start": "3552119",
    "end": "3559000"
  },
  {
    "text": "so the cuet actually probably in service of another project within the kuber nus",
    "start": "3559000",
    "end": "3564559"
  },
  {
    "text": "ecosystem called Cube ADM the cubet is can create what's called a",
    "start": "3564559",
    "end": "3570000"
  },
  {
    "text": "mirror pod a mirror pod is a pod that is specified on dis at a particular path",
    "start": "3570000",
    "end": "3577280"
  },
  {
    "text": "usually Etsy kubernetes manifests if you put a manifest inside of that directory",
    "start": "3577280",
    "end": "3583119"
  },
  {
    "text": "path and you're running Cube ADM then the cubet is configured to start any container defined within that path and",
    "start": "3583119",
    "end": "3590440"
  },
  {
    "text": "to manage the life cycle of those containers or of those pods entirely on its own so the cubet is responsible for",
    "start": "3590440",
    "end": "3598480"
  },
  {
    "text": "the creation of this pod and also for registering this pod with the cube API",
    "start": "3598480",
    "end": "3603720"
  },
  {
    "text": "server but if it can't register it because there's no name space Associated",
    "start": "3603720",
    "end": "3608920"
  },
  {
    "text": "because the name space you specified in that yaml right then it will just keep running in perpetuity it'll keep trying",
    "start": "3608920",
    "end": "3615920"
  },
  {
    "text": "to register it until that namespace exists it will never actually show up you'll never be able to see that it's",
    "start": "3615920",
    "end": "3621319"
  },
  {
    "text": "there this is an interesting bug in kubernetes that we've never actually fixed",
    "start": "3621319",
    "end": "3626559"
  },
  {
    "text": "but it's but it actually uh you know illustrates an interesting challenge the",
    "start": "3626559",
    "end": "3632119"
  },
  {
    "text": "reason this is even possible is because QBE ADM when it's starting up it needs some way to start the API server",
    "start": "3632119",
    "end": "3638119"
  },
  {
    "text": "initially it needs some way to start the controller manager initially like and the uh and the scheduler so if you look",
    "start": "3638119",
    "end": "3646039"
  },
  {
    "text": "at a control plane node that's operated by QB ADM and you look at Etsy kuber manifest you're going to see the API",
    "start": "3646039",
    "end": "3652280"
  },
  {
    "text": "server there the controller manager and the scheduler you may even see ATD depending on how on",
    "start": "3652280",
    "end": "3658599"
  },
  {
    "text": "how that's actually being managed but let's go ahead and add that",
    "start": "3658599",
    "end": "3665359"
  },
  {
    "text": "tracing policy like I said again feel free to",
    "start": "3665359",
    "end": "3672440"
  },
  {
    "text": "um excuse me again feel free to uh take a look at",
    "start": "3673480",
    "end": "3678920"
  },
  {
    "text": "that policy if you'd like",
    "start": "3678920",
    "end": "3682680"
  },
  {
    "text": "and then let's go ahead and apply or create our um invisible",
    "start": "3686240",
    "end": "3693760"
  },
  {
    "text": "po inter Terminal 2 let's exec into our Sith infiltrator",
    "start": "3700440",
    "end": "3708039"
  },
  {
    "text": "we'll and a center back into their underlying host file system Network namespace PID namespace everything like",
    "start": "3708039",
    "end": "3714799"
  },
  {
    "text": "if I do PS EF I can see all the processes",
    "start": "3714799",
    "end": "3720680"
  },
  {
    "text": "Etc let's move into the SE kubernetes manifest directory and",
    "start": "3720680",
    "end": "3728200"
  },
  {
    "text": "there we have it those are the files I was referring to before there's the SCD this is actually the cubet that's",
    "start": "3728200",
    "end": "3733880"
  },
  {
    "text": "running on the control plane is managing the life cycle of these pods and although we see them if I do",
    "start": "3733880",
    "end": "3740160"
  },
  {
    "text": "Cube Kettle get pods I'll be able to see them it's only because the cubet was successful in registering them with the",
    "start": "3740160",
    "end": "3745920"
  },
  {
    "text": "API server next thing we're going to do is we're going to create our invisible pod and you'll note that the Nam space it's",
    "start": "3745920",
    "end": "3754839"
  },
  {
    "text": "uh namespace doesn't exist it does and it doesn't exist right so again this will actually get",
    "start": "3754839",
    "end": "3761319"
  },
  {
    "text": "started and it will run in perpetuity in the background the cubet will keep it alive if it were to die it will get",
    "start": "3761319",
    "end": "3768319"
  },
  {
    "text": "recreated if we're on the underlying host we can see that it was created right there's our hack latest container",
    "start": "3768440",
    "end": "3774720"
  },
  {
    "text": "running",
    "start": "3774720",
    "end": "3777720"
  },
  {
    "text": "but we did create a tracing policy that should allow us to catch this right this",
    "start": "3782400",
    "end": "3788720"
  },
  {
    "text": "creation do we see it right here's another example of",
    "start": "3788720",
    "end": "3795000"
  },
  {
    "text": "tetron showing us a lot more context about what's happening at that layer right so we saw the right of the",
    "start": "3795000",
    "end": "3802000"
  },
  {
    "text": "file and with tetragon and with celium anything you can observe curve you can",
    "start": "3802000",
    "end": "3807480"
  },
  {
    "text": "also",
    "start": "3807480",
    "end": "3809760"
  },
  {
    "text": "enforce do our check move on to the next",
    "start": "3813079",
    "end": "3819720"
  },
  {
    "text": "section this is another attack so it's a slightly different",
    "start": "3821799",
    "end": "3827680"
  },
  {
    "text": "attack but it kind of jumps into another one of the interesting ways of interacting with this stuff so let's",
    "start": "3827680",
    "end": "3834160"
  },
  {
    "text": "let's walk through it in this example again we're going to be watching for events in terminal",
    "start": "3834160",
    "end": "3841640"
  },
  {
    "text": "one in terminal three we're going to jump into our Sith",
    "start": "3844000",
    "end": "3851839"
  },
  {
    "text": "infiltrator we're going to jump into the host namespace we're going",
    "start": "3852279",
    "end": "3858760"
  },
  {
    "text": "to figure out the hack latest container ID",
    "start": "3858760",
    "end": "3864400"
  },
  {
    "text": "we're going to exec into heck latest so now we're sitting inside of",
    "start": "3867599",
    "end": "3875240"
  },
  {
    "text": "that container that is a persistent container being operated by the",
    "start": "3875240",
    "end": "3880760"
  },
  {
    "text": "cuet so in terminal one where we were watching for the events right we can see",
    "start": "3885079",
    "end": "3891000"
  },
  {
    "text": "the escalation of privileges we can see the exec into",
    "start": "3891000",
    "end": "3897000"
  },
  {
    "text": "the process in Terminal Two we're going to",
    "start": "3897000",
    "end": "3903799"
  },
  {
    "text": "go ahead and run a different",
    "start": "3903799",
    "end": "3908559"
  },
  {
    "text": "command and in this case we're going to be watching for uh process",
    "start": "3909000",
    "end": "3914359"
  },
  {
    "text": "names right so we're we're we're looking at all of the events and we're looking for process names that include the word",
    "start": "3914359",
    "end": "3921480"
  },
  {
    "text": "curl or the word python and now back to our hidden our tucked",
    "start": "3921480",
    "end": "3928160"
  },
  {
    "text": "away secret container world and we'll run the grow",
    "start": "3928160",
    "end": "3934400"
  },
  {
    "text": "command back into Terminal 2 and we should see here in a",
    "start": "3937920",
    "end": "3944119"
  },
  {
    "text": "minute the curl and the python command running",
    "start": "3944599",
    "end": "3950559"
  },
  {
    "text": "sometimes these take a little longer but they do actually but all of the events are there so there's our curl command",
    "start": "3960760",
    "end": "3967079"
  },
  {
    "text": "you can see what the arguments were and we can now see that we have passed the output of that directly into",
    "start": "3967079",
    "end": "3973599"
  },
  {
    "text": "a python process and that python process is currently running",
    "start": "3973599",
    "end": "3980240"
  },
  {
    "text": "so lots more context about what's happening at runtime about what's happening inside the Linux",
    "start": "3998000",
    "end": "4004278"
  },
  {
    "text": "kernel so the next thing we're going to do is like I was saying before anything you can observe you can also",
    "start": "4011119",
    "end": "4019000"
  },
  {
    "text": "enforce so what if we wrote a policy that would not allow writing to",
    "start": "4019000",
    "end": "4026640"
  },
  {
    "text": "the path at seberus",
    "start": "4026640",
    "end": "4030160"
  },
  {
    "text": "manifests right because we know that it's restricted now the interesting thing about this this actually points",
    "start": "4032400",
    "end": "4038279"
  },
  {
    "text": "out a problem I mean a a a feature of ebpf which I think is super interesting",
    "start": "4038279",
    "end": "4044000"
  },
  {
    "text": "right when I write these policies and I apply them it's from the moment that I",
    "start": "4044000",
    "end": "4050319"
  },
  {
    "text": "apply them that they take effect so that API server the controller",
    "start": "4050319",
    "end": "4056119"
  },
  {
    "text": "manager the scheduler manifests that are sitting in that directory they're already",
    "start": "4056119",
    "end": "4061640"
  },
  {
    "text": "there and those are fine I want them to be there but after those things are there I don't want anything else to be",
    "start": "4061640",
    "end": "4068000"
  },
  {
    "text": "able to write to that directory without my explicit permission so I can apply this policy",
    "start": "4068000",
    "end": "4073720"
  },
  {
    "text": "after those things are up and running apply this policy and now after that policy is written nothing else can put",
    "start": "4073720",
    "end": "4079960"
  },
  {
    "text": "stuff in there that I don't want to be there right it gives me the ability to",
    "start": "4079960",
    "end": "4085920"
  },
  {
    "text": "change the security posture I have after",
    "start": "4085920",
    "end": "4091119"
  },
  {
    "text": "things that I actually care about being present are present another example of this is whenever you're running a",
    "start": "4091119",
    "end": "4097480"
  },
  {
    "text": "container orchestrator like Docker or container D there are a number of system calls that you have to allow because the",
    "start": "4097480",
    "end": "4105758"
  },
  {
    "text": "container de process needs them one of those system calls is actually called set u ID which is a very risky CIS call",
    "start": "4105759",
    "end": "4111480"
  },
  {
    "text": "because it allows you to change the permission of a particular Pro um",
    "start": "4111480",
    "end": "4116838"
  },
  {
    "text": "binary now in creating the container it makes sense you might need that but at",
    "start": "4116839",
    "end": "4121920"
  },
  {
    "text": "runtime do you need that would you want to be notified hey somebody who even you know you've written a set comp policy",
    "start": "4121920",
    "end": "4127758"
  },
  {
    "text": "that says you can't you have to be able to use set u ID so I've enabled set u ID to be used but I want to know when",
    "start": "4127759",
    "end": "4134199"
  },
  {
    "text": "somebody's using it outside of that container D process right there another great example of this right what if you",
    "start": "4134199",
    "end": "4140120"
  },
  {
    "text": "could write a policy that says don't use don't use set uid after after the",
    "start": "4140120",
    "end": "4145798"
  },
  {
    "text": "process has started as opposed to having to change the security posture of that process and having to restart that",
    "start": "4145799",
    "end": "4152679"
  },
  {
    "text": "process once that security posture has changed you can apply this dynamically what are you",
    "start": "4152679",
    "end": "4157798"
  },
  {
    "text": "doing no sleeping so",
    "start": "4157799",
    "end": "4166560"
  },
  {
    "text": "let's go ahead and work through",
    "start": "4166640",
    "end": "4169920"
  },
  {
    "text": "this so what we're doing right now is we're going to go ahead and apply a match actions stanza to this process",
    "start": "4180159",
    "end": "4187960"
  },
  {
    "text": "because before we were able to see that it happened but now we want to actually stop it from happening",
    "start": "4187960",
    "end": "4195480"
  },
  {
    "text": "and match actions is going to line up as you can see on the right here it's",
    "start": "4196199",
    "end": "4201600"
  },
  {
    "text": "going to line up basically at the same level as match",
    "start": "4201600",
    "end": "4206719"
  },
  {
    "text": "arcs for",
    "start": "4224320",
    "end": "4228280"
  },
  {
    "text": "has to be the same level same depth as mat arcs and and the thing we're going to",
    "start": "4260239",
    "end": "4265440"
  },
  {
    "text": "add is match actions we see our changes are saved up here at the",
    "start": "4265440",
    "end": "4272239"
  },
  {
    "text": "top let go back to terminal one and let's apply",
    "start": "4274199",
    "end": "4279040"
  },
  {
    "text": "it we Boop on down to the next section",
    "start": "4282320",
    "end": "4287239"
  },
  {
    "text": "so again in terminal one let's go ahead and run the command to watch for events",
    "start": "4290400",
    "end": "4295760"
  },
  {
    "text": "from this particular pod in Terminal Two let's exec in we'll do our n Center",
    "start": "4295760",
    "end": "4302440"
  },
  {
    "text": "that's still allowed we didn't drop that we can move into the target",
    "start": "4302440",
    "end": "4310120"
  },
  {
    "text": "directory and it doesn't allow us",
    "start": "4310120",
    "end": "4314320"
  },
  {
    "text": "right and if we go back to our events we can see the process being killed or being",
    "start": "4320639",
    "end": "4328960"
  },
  {
    "text": "overridden and that my friends everything I had to show you today",
    "start": "4340840",
    "end": "4347960"
  }
]