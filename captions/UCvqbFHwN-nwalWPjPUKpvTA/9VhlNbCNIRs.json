[
  {
    "start": "0",
    "end": "53000"
  },
  {
    "text": "hello thank you very much first of all for choosing our presentation it's our honor and well we have great conference",
    "start": "0",
    "end": "8610"
  },
  {
    "text": "this year right so Xavier and hi my name",
    "start": "8610",
    "end": "14370"
  },
  {
    "text": "is Andrew will will not tell you much about new features or new capabilities",
    "start": "14370",
    "end": "20640"
  },
  {
    "text": "instead we will kind of report on our journey with kubernetes that started",
    "start": "20640",
    "end": "27180"
  },
  {
    "text": "couple of years ago unless you can imagine along then along",
    "start": "27180",
    "end": "32308"
  },
  {
    "text": "this journey we learnt a lot we faced many challenges so that's kind of the objective of our talk today so just",
    "start": "32309",
    "end": "44129"
  },
  {
    "text": "that's our standard disclaimer this should be not treated as anything more",
    "start": "44129",
    "end": "49590"
  },
  {
    "text": "than education I won't make you read all of that okay so who we are actually so",
    "start": "49590",
    "end": "58140"
  },
  {
    "start": "53000",
    "end": "53000"
  },
  {
    "text": "two sigma it's a systemic investment manager which most people know as hedge",
    "start": "58140",
    "end": "64920"
  },
  {
    "text": "funds based in New York the film was founded by essentially a",
    "start": "64920",
    "end": "71430"
  },
  {
    "text": "pair of engineer and a mathematician that was back in roughly 2000 so we are",
    "start": "71430",
    "end": "78270"
  },
  {
    "text": "17 years old and since then since the founding the firm grew quite a lot we have more than 1,200 people now and",
    "start": "78270",
    "end": "86280"
  },
  {
    "text": "that's kind of between engineering",
    "start": "86280",
    "end": "91640"
  },
  {
    "text": "research and some business functions in supporting call of debt so we see",
    "start": "91640",
    "end": "99540"
  },
  {
    "text": "ourselves actually not as much as a financial company that you could think",
    "start": "99540",
    "end": "104909"
  },
  {
    "text": "of but more as a platform company that builds solutions and approaches to",
    "start": "104909",
    "end": "111600"
  },
  {
    "text": "essentially fulfill our mission and the mission is kind of simple discover value",
    "start": "111600",
    "end": "117299"
  },
  {
    "text": "in the world's data so that's what we ventured out to be and of course the",
    "start": "117299",
    "end": "122549"
  },
  {
    "text": "first main application is is is finance but it's not the only one so 2 Sigma",
    "start": "122549",
    "end": "128190"
  },
  {
    "text": "also has insurance branch that pretty much",
    "start": "128190",
    "end": "135730"
  },
  {
    "text": "attempts to apply analytics to insurance business and more will come I am sure as",
    "start": "135730",
    "end": "142599"
  },
  {
    "text": "the film matures and the fact that we are really a technology companies these",
    "start": "142599",
    "end": "149530"
  },
  {
    "text": "numbers more than 70% of our employees actually do not come from any financial",
    "start": "149530",
    "end": "155980"
  },
  {
    "text": "background whatsoever so this is a combination of engineers and and researchers participation and you know",
    "start": "155980",
    "end": "163660"
  },
  {
    "text": "all kinds of folks who from various walks of life but rarely from finance",
    "start": "163660",
    "end": "168989"
  },
  {
    "text": "and essentially building platforms is",
    "start": "168989",
    "end": "175569"
  },
  {
    "text": "what we believe will allow us to scale how to apply analytics across the board",
    "start": "175569",
    "end": "182159"
  },
  {
    "start": "182000",
    "end": "182000"
  },
  {
    "text": "so we are a financial sector company so what's unique about that of course we",
    "start": "182700",
    "end": "190030"
  },
  {
    "text": "are under significant pressure to meet security resiliency compliance",
    "start": "190030",
    "end": "196030"
  },
  {
    "text": "requirements and essentially meet our responsibilities for investors who trust",
    "start": "196030",
    "end": "201489"
  },
  {
    "text": "us with our money and and that's the primary thing that we have to care about",
    "start": "201489",
    "end": "207359"
  },
  {
    "text": "so we have to protect our intellectual property obviously against all kinds of",
    "start": "207359",
    "end": "215700"
  },
  {
    "text": "situations and because of that we are not really typical in a way of you know",
    "start": "215700",
    "end": "222400"
  },
  {
    "text": "most of the companies that present here and our challenges are also a little bit",
    "start": "222400",
    "end": "228459"
  },
  {
    "text": "a typical because of that and it will become obvious as as we as we go into more details of what we had to do and",
    "start": "228459",
    "end": "235060"
  },
  {
    "text": "what kind of things we are struggling with which often again are very unique I mean they are probably not very unique",
    "start": "235060",
    "end": "242079"
  },
  {
    "text": "to financial sector but certainly to two to four to situations that you are",
    "start": "242079",
    "end": "248200"
  },
  {
    "text": "familiar with last but not least we cannot be you know proverbial asleep at",
    "start": "248200",
    "end": "255250"
  },
  {
    "text": "the wheel at the same time we have to remain agile and while having all of",
    "start": "255250",
    "end": "261190"
  },
  {
    "text": "these requirements about resiliency and security and all of that we still have to keep our eyes open to remain competitive",
    "start": "261190",
    "end": "268060"
  },
  {
    "text": "essentially to be able to deliver new versions of analytics process data faster all of these things so this is",
    "start": "268060",
    "end": "274479"
  },
  {
    "text": "kind of a trade-off that we end at in line we always have to work how to marry",
    "start": "274479",
    "end": "279729"
  },
  {
    "text": "all of these aspects of our mission so why kubernetes well so before that we",
    "start": "279729",
    "end": "288220"
  },
  {
    "text": "had pretty successful run with private cloud based on OpenStack and so it obviously brought a lot of",
    "start": "288220",
    "end": "295110"
  },
  {
    "text": "advantage to our film to our engineers and let us scale much better but of",
    "start": "295110",
    "end": "302560"
  },
  {
    "text": "course it fell short in many respects that kind of the key ones are listed here so we did not grow a significant",
    "start": "302560",
    "end": "309850"
  },
  {
    "text": "ecosystem of cloud native apps because really OpenStack didn't encourage that",
    "start": "309850",
    "end": "315460"
  },
  {
    "text": "truly it kind of more brought in our traditional way of building systems with",
    "start": "315460",
    "end": "322000"
  },
  {
    "text": "it it didn't attempt to change it not in a way that kubernetes aspires to we",
    "start": "322000",
    "end": "330400"
  },
  {
    "text": "ended up with significant sprawl of VM images VMs which really were not are not",
    "start": "330400",
    "end": "336130"
  },
  {
    "text": "as easy to manage as we would like and as you can imagine in many types of our",
    "start": "336130",
    "end": "341740"
  },
  {
    "text": "workloads we actually do care about performance especially both data rates",
    "start": "341740",
    "end": "347199"
  },
  {
    "text": "latencies and virtualization is not the",
    "start": "347199",
    "end": "352389"
  },
  {
    "text": "best still even today for these reasons and we see kubernetes is essentially a",
    "start": "352389",
    "end": "357780"
  },
  {
    "text": "orchestration platform and also software deployment mechanism that can actually",
    "start": "357780",
    "end": "363460"
  },
  {
    "text": "address all of these things while letting us meet all of those heart requirements that we have - so how our",
    "start": "363460",
    "end": "375159"
  },
  {
    "start": "374000",
    "end": "374000"
  },
  {
    "text": "journey looks like up to today is kind of okay we started around 2016 and that",
    "start": "375159",
    "end": "380560"
  },
  {
    "text": "was more experimenting with things and trying to even understand what this",
    "start": "380560",
    "end": "388000"
  },
  {
    "text": "thing can be used for and useful for us in our context and remember back then in",
    "start": "388000",
    "end": "393610"
  },
  {
    "text": "2016 kubernetes itself was not necessarily very mature so",
    "start": "393610",
    "end": "399600"
  },
  {
    "text": "we took a somewhat premeditated approach to manage risk at every step of the way",
    "start": "399600",
    "end": "407280"
  },
  {
    "text": "here and essentially decided to start with our software life cycle systems so",
    "start": "407280",
    "end": "413640"
  },
  {
    "text": "our first target was essentially let's see whether we can develop and build our code test our code on kubernetes at",
    "start": "413640",
    "end": "420390"
  },
  {
    "text": "scale whether that's gonna work right so that was kind of initial objective throughout early to meet 2017 and only",
    "start": "420390",
    "end": "430020"
  },
  {
    "text": "after we gained some confidence around it we went into scaling it out a little",
    "start": "430020",
    "end": "435840"
  },
  {
    "text": "bit more so we actually g8 within two sigma of course our offering opening up",
    "start": "435840",
    "end": "443580"
  },
  {
    "text": "the door to more than just very selected use cases build out a little bit more",
    "start": "443580",
    "end": "450360"
  },
  {
    "text": "capacity even though we are not very aggressive about that because we still see public cloud and kubernetes has kind",
    "start": "450360",
    "end": "457290"
  },
  {
    "text": "of a unifying platform between public cloud and on-premise as a way to go so",
    "start": "457290",
    "end": "464190"
  },
  {
    "text": "we are not kind of thinking of investing too much into into on-premise capacity",
    "start": "464190",
    "end": "469940"
  },
  {
    "text": "and then since March we kind of took on way more types of use cases including",
    "start": "469940",
    "end": "476040"
  },
  {
    "text": "some that are more sensitive ones as well as started a little bit of alpha",
    "start": "476040",
    "end": "484230"
  },
  {
    "text": "type of applications for our our trading systems and this is very early obviously",
    "start": "484230",
    "end": "492660"
  },
  {
    "text": "we are essentially trying to see to what extent kubernetes is really the right answer for fleet-wide process and",
    "start": "492660",
    "end": "501690"
  },
  {
    "text": "software deployment across those via a variety of things so this is kind of where we are and I'll hand it over to",
    "start": "501690",
    "end": "509700"
  },
  {
    "text": "Javier to tell you a little bit more about how we how we came here right so",
    "start": "509700",
    "end": "516349"
  },
  {
    "text": "basically as Andrew mentioned like security is pretty important for us so",
    "start": "516349",
    "end": "521700"
  },
  {
    "start": "517000",
    "end": "517000"
  },
  {
    "text": "this translate into having stringent security constrained within the frame",
    "start": "521700",
    "end": "527490"
  },
  {
    "text": "right like there is no general root access for our engineers not even in",
    "start": "527490",
    "end": "532710"
  },
  {
    "text": "container we are limiting that the users can only be specific role accounts so a role",
    "start": "532710",
    "end": "539390"
  },
  {
    "text": "account is something it looks something like this or you basically have liked useful which is these Linux u UID and",
    "start": "539390",
    "end": "547970"
  },
  {
    "text": "GID and for example in this case it can be used by Andrew myself and these fou",
    "start": "547970",
    "end": "555140"
  },
  {
    "text": "is member of the group - this bar and this bar right so these are kind of like a part of our central management system",
    "start": "555140",
    "end": "563420"
  },
  {
    "text": "that we will have to make sure that we don't bioW late when movie people out",
    "start": "563420",
    "end": "569030"
  },
  {
    "text": "into corner these so like we also sundry",
    "start": "569030",
    "end": "574610"
  },
  {
    "text": "mention like we have large number of Virginia's applications of limited size some of them are large but in general we",
    "start": "574610",
    "end": "580970"
  },
  {
    "text": "have very true genius applications so instead of going with the model where",
    "start": "580970",
    "end": "587420"
  },
  {
    "text": "many people are building like user specific clusters from kubernetes we",
    "start": "587420",
    "end": "592580"
  },
  {
    "text": "decided to go into trying to build a multi-tenant cluster because we thought that this will provide us like a more",
    "start": "592580",
    "end": "599960"
  },
  {
    "text": "sustainable approach to operate the clusters at the same time like we had to",
    "start": "599960",
    "end": "609200"
  },
  {
    "text": "integrate like all these platform with our entitlements - for access control as",
    "start": "609200",
    "end": "616580"
  },
  {
    "text": "well as with cameras for authentication this is kind of normal in finance so",
    "start": "616580",
    "end": "623950"
  },
  {
    "text": "like something special about us is like we have for one reason or another we",
    "start": "624700",
    "end": "631880"
  },
  {
    "text": "came up to a point but we have like large size of bill artifacts whenever we",
    "start": "631880",
    "end": "637850"
  },
  {
    "text": "want to deploy some software like the solar itself with all these dependencies plus runtimes and that's being like in",
    "start": "637850",
    "end": "645110"
  },
  {
    "text": "the order of gigabytes so this is not idea for dog hair and the way token works so we had to find like a practical",
    "start": "645110",
    "end": "653030"
  },
  {
    "text": "approach for this if we want it to be successful so because people don't have",
    "start": "653030",
    "end": "661070"
  },
  {
    "start": "657000",
    "end": "657000"
  },
  {
    "text": "root in the company like they couldn't build doctor containers so what we",
    "start": "661070",
    "end": "667370"
  },
  {
    "text": "they're doing is creating like a building a building pipeline that will",
    "start": "667370",
    "end": "673580"
  },
  {
    "text": "allow people to basically specify what they want to have on their containers and then we will go and build it for",
    "start": "673580",
    "end": "680810"
  },
  {
    "text": "them and medic it available to them right so they can specify like here we have a simple example of how this",
    "start": "680810",
    "end": "688220"
  },
  {
    "text": "manifests look like where you can say hey I want to be based on Debian stretch",
    "start": "688220",
    "end": "694279"
  },
  {
    "text": "and I want to have these deployments that is associated with the code bases and this is the name of my specification",
    "start": "694279",
    "end": "701510"
  },
  {
    "text": "right we also took the concept of namespace from cornetist",
    "start": "701510",
    "end": "707230"
  },
  {
    "text": "in a way that we will map it namespaces between our building pipeline and",
    "start": "707230",
    "end": "713750"
  },
  {
    "text": "coordinate ease the way that we manage this large artifacts today is like like",
    "start": "713750",
    "end": "720410"
  },
  {
    "text": "us as the diagram shows like we have builders that are in each data center",
    "start": "720410",
    "end": "725420"
  },
  {
    "text": "could be on-prem could be on public cloud and then we will drop these artifacts into distributed store file",
    "start": "725420",
    "end": "734240"
  },
  {
    "text": "system on Prem we are using like a safe public cloud we are using like Google",
    "start": "734240",
    "end": "740270"
  },
  {
    "text": "persistent disks right so the idea is that we pay the cost of unloading everything once we make it there then we",
    "start": "740270",
    "end": "748490"
  },
  {
    "text": "snapshot it to make sure this read-only so we can still keep the immutability of containers and then at runtime we we",
    "start": "748490",
    "end": "756709"
  },
  {
    "text": "attach it to the containers in that way you are like the container start time is",
    "start": "756709",
    "end": "763459"
  },
  {
    "text": "pretty low because the base image is kept small a runtime we also had to make",
    "start": "763459",
    "end": "771620"
  },
  {
    "start": "769000",
    "end": "769000"
  },
  {
    "text": "some modifications this is a simplified version so basically because of Kerberos",
    "start": "771620",
    "end": "777020"
  },
  {
    "text": "we had to translate a Kerberos identity into something and kubernetes",
    "start": "777020",
    "end": "782810"
  },
  {
    "text": "understands so we built assist series that uses the kubernetes webhook",
    "start": "782810",
    "end": "792500"
  },
  {
    "text": "authentication and this service is kerberized so we translate a curved arrows identity into a very token",
    "start": "792500",
    "end": "800850"
  },
  {
    "text": "that then is sent to the API server and then API server is the line is missing",
    "start": "800850",
    "end": "806459"
  },
  {
    "text": "here but the API server will go back to this authentication service and ask okay is this token value I mean if you saw it",
    "start": "806459",
    "end": "812639"
  },
  {
    "text": "like through so another thing that we have on top of these is a manifest",
    "start": "812639",
    "end": "819660"
  },
  {
    "text": "service we call so basically Cornett is Jamel files we modify a little bit the",
    "start": "819660",
    "end": "825989"
  },
  {
    "text": "image field to kind of make reference to the previous system where we built our",
    "start": "825989",
    "end": "831529"
  },
  {
    "text": "containers so we can say hey I want to use this image from their namespace",
    "start": "831529",
    "end": "837389"
  },
  {
    "text": "contest and the name of the image is demo flash up and then this manifest",
    "start": "837389",
    "end": "842399"
  },
  {
    "text": "service what it does it call goes to the system find out what is the docker image find out what are the octave fact that",
    "start": "842399",
    "end": "849149"
  },
  {
    "text": "needs to be attached to the system and they enhance the the Jamel file that the",
    "start": "849149",
    "end": "854910"
  },
  {
    "text": "user has provided with all these volume mounts additional additional things to",
    "start": "854910",
    "end": "860669"
  },
  {
    "text": "make sure that things like Kerberos work properly inside things like SSD for",
    "start": "860669",
    "end": "867059"
  },
  {
    "text": "Linux identities also work right so once it goes there the API server will create",
    "start": "867059",
    "end": "875459"
  },
  {
    "text": "pulses normal I mean if the user has provided a notation saying that they",
    "start": "875459",
    "end": "880470"
  },
  {
    "text": "want any Kerberos credential like hey I want to have available make ever stikat so I can talk to kerberized services or",
    "start": "880470",
    "end": "887189"
  },
  {
    "text": "I want to have available key taps because I am a service that is going to",
    "start": "887189",
    "end": "892229"
  },
  {
    "text": "accept request against myself and is using cameras so the couplets will",
    "start": "892229",
    "end": "898829"
  },
  {
    "text": "basically go and retrieve dot those",
    "start": "898829",
    "end": "903889"
  },
  {
    "text": "artifacts keep material so here like how",
    "start": "903889",
    "end": "911369"
  },
  {
    "start": "908000",
    "end": "908000"
  },
  {
    "text": "do we enforce like users identities right so we are trying to build a multi-tenant system and we want to make",
    "start": "911369",
    "end": "917850"
  },
  {
    "text": "sure that again we don't violate what our central like corporate identity",
    "start": "917850",
    "end": "923279"
  },
  {
    "text": "system is saying right so what we did is we use our back rules so we are first",
    "start": "923279",
    "end": "929579"
  },
  {
    "text": "mapping every namespace to a specific role account or identity and within the namespace we only let them be",
    "start": "929579",
    "end": "936959"
  },
  {
    "text": "the user that they should be and then like we do this like for example with",
    "start": "936959",
    "end": "942720"
  },
  {
    "text": "the name a space is full they're going to have a role binding connecting to the cluster role edit so the user TS who can",
    "start": "942720",
    "end": "950669"
  },
  {
    "text": "operate in this full name space and then we have a cluster or binding time TS",
    "start": "950669",
    "end": "957029"
  },
  {
    "text": "full to a PSP that we have created like a possibility policy and then the possibility policy basically we say hey",
    "start": "957029",
    "end": "963720"
  },
  {
    "text": "this user can only be this Linux UID this user has to be can only have these",
    "start": "963720",
    "end": "969749"
  },
  {
    "text": "supplemental groups and that's how we are ensuring and then the additional",
    "start": "969749",
    "end": "975179"
  },
  {
    "text": "piece to make sure that they don't overt overcome this going around us is to have",
    "start": "975179",
    "end": "982829"
  },
  {
    "text": "an admission controller to ensure that the security context run as user is set",
    "start": "982829",
    "end": "989239"
  },
  {
    "text": "in the manifest in that way we are making sure that if somebody is trying",
    "start": "989239",
    "end": "994559"
  },
  {
    "text": "to use a user ID that is not allowed for him to use within an image space then",
    "start": "994559",
    "end": "1000319"
  },
  {
    "text": "they get rejected right so basically Paul won't start we also build like",
    "start": "1000319",
    "end": "1005980"
  },
  {
    "text": "system to synchronize kubernetes with our cooperative DC system so basically",
    "start": "1005980",
    "end": "1012079"
  },
  {
    "text": "we have some soup subscription mechanism that whenever we identify that there are",
    "start": "1012079",
    "end": "1017359"
  },
  {
    "text": "changes like for example this fool has been added to a new member is as being",
    "start": "1017359",
    "end": "1022910"
  },
  {
    "text": "added to a new group so we will detect these and update kubernetes or if it has to be removed from a group we will do",
    "start": "1022910",
    "end": "1029449"
  },
  {
    "text": "that or like in this case if we add or remove people that can use this name a",
    "start": "1029449",
    "end": "1035538"
  },
  {
    "text": "space we will also synchronize right in this case only unreal and myself will be able to run containers on this namespace",
    "start": "1035539",
    "end": "1041808"
  },
  {
    "text": "because we are the only ones that can log in as that enemy space next trying",
    "start": "1041809",
    "end": "1050720"
  },
  {
    "start": "1049000",
    "end": "1049000"
  },
  {
    "text": "to describe like a little bit without entering too much detail what is was our first attempt to integrate his camera to",
    "start": "1050720",
    "end": "1057649"
  },
  {
    "text": "integrate Kerberos within qualities so basically the user interface we try to",
    "start": "1057649",
    "end": "1063799"
  },
  {
    "text": "keep it very simple so we use like a kubernetes annotation to say hey I want to have these key tabs",
    "start": "1063799",
    "end": "1070910"
  },
  {
    "text": "I want to have tickets or certificates and then under the hood we made a few",
    "start": "1070910",
    "end": "1078410"
  },
  {
    "text": "modifications to kubernetes to make sure that we can translate these into depositing decry key material in the",
    "start": "1078410",
    "end": "1084260"
  },
  {
    "text": "right place right so here in this figure we have the orange parts is where we made modifications like for example the",
    "start": "1084260",
    "end": "1090920"
  },
  {
    "text": "scheduler what it basically does whenever users say hey I want to have my ticket Prestage on my container so this",
    "start": "1090920",
    "end": "1099590"
  },
  {
    "text": "is scheduler is going to get encrypted put it into the manifest of a container send it over and then the couplet once",
    "start": "1099590",
    "end": "1107090"
  },
  {
    "text": "it's received this manifest with decrypted and make sure that is in the right place in the container that has to",
    "start": "1107090",
    "end": "1112100"
  },
  {
    "text": "be so similarly if the user says I want certificates or kidnaps the couplet will",
    "start": "1112100",
    "end": "1119230"
  },
  {
    "text": "register itself or create the Kerberos logical host and as for the key",
    "start": "1119230",
    "end": "1125090"
  },
  {
    "text": "materials negotiated with curved arrows and all that make sure that everything is in the container and we have",
    "start": "1125090",
    "end": "1130370"
  },
  {
    "text": "additionally a controller that is going to make sure that everything is up to date and unfresh right like a new",
    "start": "1130370",
    "end": "1136550"
  },
  {
    "text": "certificate or the key material like for for curved arrows so these mostly works",
    "start": "1136550",
    "end": "1142910"
  },
  {
    "text": "so we have it in production working and it's been fine from our perspective but",
    "start": "1142910",
    "end": "1150110"
  },
  {
    "text": "this has the problem that is keeping us from upgrading faster kubernetes",
    "start": "1150110",
    "end": "1155810"
  },
  {
    "text": "versions so today we are in 187 so we would like to be closer to upstream the",
    "start": "1155810",
    "end": "1164180"
  },
  {
    "text": "other issue that our security team has raised is that today like a couplet can",
    "start": "1164180",
    "end": "1169250"
  },
  {
    "text": "add and remove themself form PVCs so that's given too much power they",
    "start": "1169250",
    "end": "1174890"
  },
  {
    "text": "would prefer to have a centralized way that only small number of machines can",
    "start": "1174890",
    "end": "1179960"
  },
  {
    "text": "have the power of modifying Kerberos identities yeah so and then finally like",
    "start": "1179960",
    "end": "1188240"
  },
  {
    "text": "we have exposed our number of issues related to the scalability of our cameras infrastructure so we been having",
    "start": "1188240",
    "end": "1196220"
  },
  {
    "text": "a hard time to keeping up I mean security has been having a hard time keeping up with your native",
    "start": "1196220",
    "end": "1202860"
  },
  {
    "text": "so we had to basically implement some rate limiting before they got up to",
    "start": "1202860",
    "end": "1209430"
  },
  {
    "text": "speed to make sure that we didn't take down their infrastructure so that was",
    "start": "1209430",
    "end": "1216180"
  },
  {
    "start": "1215000",
    "end": "1215000"
  },
  {
    "text": "the first right so now like we are working on our second attempt basically what we are trying to do is extract",
    "start": "1216180",
    "end": "1222660"
  },
  {
    "text": "everything out of kubernetes source code so we are not tied to versions and it's so hard to upgrade so we are rebuilding",
    "start": "1222660",
    "end": "1230220"
  },
  {
    "text": "everything out of three so the mechanisms are similar it's just the only thing to notice is that we are",
    "start": "1230220",
    "end": "1238170"
  },
  {
    "text": "leveraging in this case flex volumes to make sure like we can ask for the key",
    "start": "1238170",
    "end": "1244500"
  },
  {
    "text": "materia from the worker nodes and the other change is that now we are centrally going to manage Kerberos",
    "start": "1244500",
    "end": "1250830"
  },
  {
    "text": "cluster memberships from the from the control plane front from the controller",
    "start": "1250830",
    "end": "1255960"
  },
  {
    "text": "a few machines that will be the control now like for example could be coordinating masters in that way the",
    "start": "1255960",
    "end": "1262830"
  },
  {
    "text": "worker the only thing that needs to do like a run time when it's going to attach the directory with a flex model",
    "start": "1262830",
    "end": "1269940"
  },
  {
    "text": "in the Flex volume will run a set of commands to get the key tabs or tickets",
    "start": "1269940",
    "end": "1275490"
  },
  {
    "text": "or whatever it needs to be in case that users decide that they wanted that yeah",
    "start": "1275490",
    "end": "1281550"
  },
  {
    "text": "so and then we probably consider two open sources at some point so anybody",
    "start": "1281550",
    "end": "1286740"
  },
  {
    "text": "can take advantage of that so that's a little bit of the technical aspect so",
    "start": "1286740",
    "end": "1293220"
  },
  {
    "start": "1290000",
    "end": "1290000"
  },
  {
    "text": "now going to explain our weights of the use cases that we have like give some high-level overview so as we mentioned",
    "start": "1293220",
    "end": "1301860"
  },
  {
    "text": "before we have around 30,000 course I cross two data centers we are working to",
    "start": "1301860",
    "end": "1310140"
  },
  {
    "text": "expand to public cloud but it's still in the early stages so we have on board",
    "start": "1310140",
    "end": "1315480"
  },
  {
    "text": "like us a few like critical infrastructure like our billing test",
    "start": "1315480",
    "end": "1320490"
  },
  {
    "text": "form we have integration testing we have some distributed memory cache for",
    "start": "1320490",
    "end": "1326550"
  },
  {
    "text": "serving artifacts we have some components of the training system as",
    "start": "1326550",
    "end": "1331860"
  },
  {
    "text": "mostly like a post rating and then we have other workloads like as",
    "start": "1331860",
    "end": "1338820"
  },
  {
    "text": "part drivers or some translation systems like HR has a bunch of his stuff they",
    "start": "1338820",
    "end": "1345750"
  },
  {
    "text": "have their own dedicated class that we mentioned before so so in terms like a",
    "start": "1345750",
    "end": "1351390"
  },
  {
    "start": "1350000",
    "end": "1350000"
  },
  {
    "text": "sim farm like this is kind of besides we are talking today like we are building",
    "start": "1351390",
    "end": "1356880"
  },
  {
    "text": "around 250,000 bills per day and testing an average of 3 million unit",
    "start": "1356880",
    "end": "1364020"
  },
  {
    "text": "tests and then we generate and serve I mean we serve around hundred terabytes",
    "start": "1364020",
    "end": "1369990"
  },
  {
    "text": "of artifacts per day and again this comes back to the bloated artifacts that we have today because our dependencies",
    "start": "1369990",
    "end": "1377549"
  },
  {
    "text": "so the benefit the main benefit for this team has been that before maintenance",
    "start": "1377549",
    "end": "1384809"
  },
  {
    "text": "was a pain they had to maintain multiple versions of the operating based",
    "start": "1384809",
    "end": "1390210"
  },
  {
    "text": "operating system in different parameter machines they had to themselves like a hundred at infrastructure they have",
    "start": "1390210",
    "end": "1396929"
  },
  {
    "text": "issues with noisy neighbors they didn't have proper isolations and they also",
    "start": "1396929",
    "end": "1405210"
  },
  {
    "text": "cooling a scale because they were a nimble right like they were very slow moving because bare metal so cornetist",
    "start": "1405210",
    "end": "1413309"
  },
  {
    "text": "kind and in general container is like what it gives the option to solve many of these problems so they are pretty",
    "start": "1413309",
    "end": "1420780"
  },
  {
    "start": "1420000",
    "end": "1420000"
  },
  {
    "text": "happy so the other use case is continuous integration so we have",
    "start": "1420780",
    "end": "1426470"
  },
  {
    "text": "Jenkins based continuous integration we had two main use cases one where",
    "start": "1426470",
    "end": "1431760"
  },
  {
    "text": "different teams get their own Jenkins to basically define whatever pipelines they",
    "start": "1431760",
    "end": "1439169"
  },
  {
    "text": "want to create for integrations and then we have a kind of big jenkins for the",
    "start": "1439169",
    "end": "1444570"
  },
  {
    "text": "whole firm to run like automated post push tests integration tests right so so",
    "start": "1444570",
    "end": "1452760"
  },
  {
    "text": "here like we have in the like centralized Jenkins for everybody we",
    "start": "1452760",
    "end": "1458309"
  },
  {
    "text": "have around 5,000 pipelines that it tests around 300 around 30,000 tests a",
    "start": "1458309",
    "end": "1465840"
  },
  {
    "text": "day right so and these like basically give them the flexibility to very easily like hand out like",
    "start": "1465840",
    "end": "1472770"
  },
  {
    "text": "jenkies instances to people and easily to scale them up and down because",
    "start": "1472770",
    "end": "1477930"
  },
  {
    "text": "basically workers are being started as containers so it gives you a lot of power so we have a few challenges here",
    "start": "1477930",
    "end": "1486600"
  },
  {
    "text": "like drinking doesn't handle where it doesn't handle very well being terminated because it loses the state",
    "start": "1486600",
    "end": "1493800"
  },
  {
    "text": "and kill everything and it doesn't recover work well so Jenkins managed the",
    "start": "1493800",
    "end": "1502020"
  },
  {
    "text": "state using like tiny files in discs so it's not great for persistence like we",
    "start": "1502020",
    "end": "1508710"
  },
  {
    "text": "try I mean this team try and fs didn't work very well so today they are using",
    "start": "1508710",
    "end": "1514140"
  },
  {
    "text": "persistent volume claims backed by self and it seems to have like much better",
    "start": "1514140",
    "end": "1519270"
  },
  {
    "text": "performance than NFS but we find out that the RVD driver is not super",
    "start": "1519270",
    "end": "1527730"
  },
  {
    "text": "reliable like they had some race conditions you make kubernetes is slow",
    "start": "1527730",
    "end": "1533060"
  },
  {
    "text": "to mount and sometimes times out so we been working and we have deployed some",
    "start": "1533060",
    "end": "1540420"
  },
  {
    "text": "flex volumes that basically implement these making sure that it works a little",
    "start": "1540420",
    "end": "1545760"
  },
  {
    "text": "better so this is another use case the",
    "start": "1545760",
    "end": "1551460"
  },
  {
    "start": "1549000",
    "end": "1549000"
  },
  {
    "text": "news team he had like a large number of news",
    "start": "1551460",
    "end": "1556920"
  },
  {
    "text": "articles in all kind of languages and they were trying to use some commercial solution to translate them so we help",
    "start": "1556920",
    "end": "1565770"
  },
  {
    "text": "them to move it in to govern at ease I mean the vendor provided them a container and then we onboard them into",
    "start": "1565770",
    "end": "1571620"
  },
  {
    "text": "kubernetes and then the main issue that they had was capacity they wanted a lot of capacity and we kind of didn't have",
    "start": "1571620",
    "end": "1578160"
  },
  {
    "text": "that much capacity for them so what we ended up doing is creating like auto scaling solution for them again because",
    "start": "1578160",
    "end": "1585240"
  },
  {
    "text": "we are in all kubernetes we couldn't take advantage of all the new features that's starting 191 10 without the",
    "start": "1585240",
    "end": "1591900"
  },
  {
    "text": "scaling and preemption so we believe our own that basically what it does is scales down the test",
    "start": "1591900",
    "end": "1599220"
  },
  {
    "text": "farm and they scale them up right so here in this graph we have at the top like the queue of tests for the test",
    "start": "1599220",
    "end": "1607080"
  },
  {
    "text": "farm so on here in the middle we have the number of test workers so these are",
    "start": "1607080",
    "end": "1613110"
  },
  {
    "text": "number of container like here at the top we have 300 containers that is 300 pots",
    "start": "1613110",
    "end": "1619230"
  },
  {
    "text": "which is 13 containers per pot so like around 3000 containers and then here at",
    "start": "1619230",
    "end": "1626580"
  },
  {
    "text": "the bottom we have like like pots for the news guys which they basically had one container purple so like we are as",
    "start": "1626580",
    "end": "1635250"
  },
  {
    "text": "we can see like whenever the queue of tests goes up so we will basically scale",
    "start": "1635250",
    "end": "1642480"
  },
  {
    "text": "down well here you see but here we scale down and scale up the news guys and then",
    "start": "1642480",
    "end": "1649470"
  },
  {
    "text": "when the queue goes up we we go back and forth right so in that way we can easily give them as much capacity as they need",
    "start": "1649470",
    "end": "1656160"
  },
  {
    "text": "but we can take them down so again this is most of a proof of concept we",
    "start": "1656160",
    "end": "1661350"
  },
  {
    "text": "probably I mean we will implement this using like proper coordinate these primitives so we have like on board like",
    "start": "1661350",
    "end": "1670080"
  },
  {
    "text": "few training is cases one of them is this post processing training pipeline",
    "start": "1670080",
    "end": "1676370"
  },
  {
    "text": "basically we have some custom workflow engine that it will take information",
    "start": "1676370",
    "end": "1681960"
  },
  {
    "text": "about the trades from the colors and it's going to process some kind of workflows to generate reports that we",
    "start": "1681960",
    "end": "1690360"
  },
  {
    "text": "had to hand over to the authorities and like compliance so this has to be like a",
    "start": "1690360",
    "end": "1696780"
  },
  {
    "text": "pretty low latency high performance so they were testing through communities",
    "start": "1696780",
    "end": "1702150"
  },
  {
    "text": "they were able to satisfy their needs and has been working fine so far so we",
    "start": "1702150",
    "end": "1709170"
  },
  {
    "text": "are trying to onboard more people as they get interesting into communities so the domain of bondage that they had is",
    "start": "1709170",
    "end": "1715440"
  },
  {
    "text": "that until now they were kind of starting things manually or with crunchers so cornutus kind of gives you",
    "start": "1715440",
    "end": "1722970"
  },
  {
    "text": "a better way of managing these processes although yeah they don't use a lot of",
    "start": "1722970",
    "end": "1730260"
  },
  {
    "text": "the things that cornetist gives you like for example they are there is resisting to kind of take advantage of",
    "start": "1730260",
    "end": "1737090"
  },
  {
    "text": "coordinate is keeping your containers up so they prefer that is the pod goes down they want to look at it no understand",
    "start": "1737090",
    "end": "1744230"
  },
  {
    "text": "why he went down and they started again because for example if you run out of memory so their system is deterministic",
    "start": "1744230",
    "end": "1751250"
  },
  {
    "text": "so you will run out of my money again so they want to make sure that they increase it so in general with",
    "start": "1751250",
    "end": "1758630"
  },
  {
    "text": "kubernetes we try to avoid a mistake that we make with OpenStack and we are",
    "start": "1758630",
    "end": "1764030"
  },
  {
    "text": "trying to push for a cultural change like to move toward more cloud native applications so here we introduce the",
    "start": "1764030",
    "end": "1771710"
  },
  {
    "text": "cows engineering by default on our general-purpose clusters for now and we",
    "start": "1771710",
    "end": "1778190"
  },
  {
    "text": "have created like a process to triage those applications that are not cloud native basically we have a panel of",
    "start": "1778190",
    "end": "1786010"
  },
  {
    "text": "people that are going to talk with the customers that think that they are not",
    "start": "1786010",
    "end": "1792890"
  },
  {
    "text": "clone native and they deserve an exception and then we try to understand if they really need the exception",
    "start": "1792890",
    "end": "1798800"
  },
  {
    "text": "because the application doesn't support it or is that they don't want to do the work to really be cloud native right so",
    "start": "1798800",
    "end": "1804650"
  },
  {
    "text": "like so far we've been pretty successful we have a few exceptions like Sesay Junkins",
    "start": "1804650",
    "end": "1810080"
  },
  {
    "text": "it doesn't handle great being terminated saying with Postgres like we don't have",
    "start": "1810080",
    "end": "1815750"
  },
  {
    "text": "today a good HS 34 pro Postgres so we gave them a session for now so lesson",
    "start": "1815750",
    "end": "1823700"
  },
  {
    "start": "1822000",
    "end": "1822000"
  },
  {
    "text": "learned from operating our clusters so basically it's pretty hard to like build",
    "start": "1823700",
    "end": "1830390"
  },
  {
    "text": "well-behaved applications in cornetist like i in general it requires lot of communication with users trying to",
    "start": "1830390",
    "end": "1837260"
  },
  {
    "text": "educate them trying to make sure that they use cornetist primitives like",
    "start": "1837260",
    "end": "1842270"
  },
  {
    "text": "watching instead of being in busy wait all the time make sure that they can",
    "start": "1842270",
    "end": "1848840"
  },
  {
    "text": "scale horizontally and like they don't create problems in general kubernetes",
    "start": "1848840",
    "end": "1855470"
  },
  {
    "text": "hasn't proven proven to be very resilient and is scalable without a lot of effort so we having spent a lot of",
    "start": "1855470",
    "end": "1862670"
  },
  {
    "text": "time trying to tune different parameters to make sure that it works so it's pretty much works or",
    "start": "1862670",
    "end": "1868429"
  },
  {
    "text": "box the runtime yeah so whenever you",
    "start": "1868429",
    "end": "1874940"
  },
  {
    "text": "scale you will start seeing all kind of issues so we have seen runtime issues a lot of cameras problems docker has been",
    "start": "1874940",
    "end": "1883279"
  },
  {
    "text": "giving problems here and there operating system issues like for example we have",
    "start": "1883279",
    "end": "1890720"
  },
  {
    "text": "some issues out we don't know why the file system gets full we had to reboot",
    "start": "1890720",
    "end": "1896299"
  },
  {
    "text": "it to empty and we have our engineers trained to look into it it's maybe",
    "start": "1896299",
    "end": "1902360"
  },
  {
    "text": "because we are in all version of Debian but we haven't been able to figure out",
    "start": "1902360",
    "end": "1907610"
  },
  {
    "text": "what's going on so another problem we observe is a community scheduler is",
    "start": "1907610",
    "end": "1912619"
  },
  {
    "text": "pretty deterministic so whenever you have a bun node like the bun node is",
    "start": "1912619",
    "end": "1917990"
  },
  {
    "text": "going to swallow a lot of pots and it's going to basically crush them or a victim so like we had to we have",
    "start": "1917990",
    "end": "1926749"
  },
  {
    "text": "invested and we are keep working on creating more monitoring for early warnings actually proving to detect",
    "start": "1926749",
    "end": "1933409"
  },
  {
    "text": "these bad nodes to make sure that we take them off production and even better",
    "start": "1933409",
    "end": "1938480"
  },
  {
    "text": "we cannot fix them and put them back into production so so far we don't we've",
    "start": "1938480",
    "end": "1945169"
  },
  {
    "text": "done I think like to two or three upgrades in place so it mostly worked so",
    "start": "1945169",
    "end": "1952519"
  },
  {
    "text": "it requires a lot of work because we had to basically train ourselves a lot with",
    "start": "1952519",
    "end": "1958340"
  },
  {
    "text": "the upgrade make sure that we understand what has been changed and trying to see",
    "start": "1958340",
    "end": "1963379"
  },
  {
    "text": "what's going on to be prepared for when we do the actual upgrade in production",
    "start": "1963379",
    "end": "1968919"
  },
  {
    "text": "so we minimize they use the issues that we caused the people right so we are in process of kind of creating some",
    "start": "1968919",
    "end": "1976659"
  },
  {
    "text": "workflows where we will allow people to test their application like for example",
    "start": "1976659",
    "end": "1982429"
  },
  {
    "text": "some staging cluster where people can start testing the new version of",
    "start": "1982429",
    "end": "1987740"
  },
  {
    "text": "communities and then we scale up and down this is staging cluster as as we try to change versions but at the end we",
    "start": "1987740",
    "end": "1995090"
  },
  {
    "text": "do they are trained in place at least for now so finally like what",
    "start": "1995090",
    "end": "2002200"
  },
  {
    "text": "we're working on so basically we are working to trying to create a self-healing infrastructure so we want",
    "start": "2002200",
    "end": "2008409"
  },
  {
    "text": "to build more automation we want to be more tools to identify issues to fix issues with a cluster because as we grow",
    "start": "2008409",
    "end": "2015190"
  },
  {
    "text": "like this will become very important so we are today spending significant amount",
    "start": "2015190",
    "end": "2020830"
  },
  {
    "text": "of time trying to figure out issues and bugs with infrastructure so we are also",
    "start": "2020830",
    "end": "2027609"
  },
  {
    "text": "like working to expand our self to kubernetes in public cloud so again",
    "start": "2027609",
    "end": "2032830"
  },
  {
    "text": "because security constraints we cannot take advantage of the full public cloud so we had to be big in inside secure",
    "start": "2032830",
    "end": "2040749"
  },
  {
    "text": "zones like for example Google cousin like these VPC secure zones so we face",
    "start": "2040749",
    "end": "2048490"
  },
  {
    "text": "several challenges and whether we were when we were deciding whether to go with just virtual machines and deploy our",
    "start": "2048490",
    "end": "2055720"
  },
  {
    "text": "cluster or GK so we evaluated took into",
    "start": "2055720",
    "end": "2060760"
  },
  {
    "text": "consideration a few things like our custom operating system our integration with Kerberos like for example at the",
    "start": "2060760",
    "end": "2068349"
  },
  {
    "text": "time GK didn't have internal endpoints for the API server or hard like son",
    "start": "2068349",
    "end": "2074470"
  },
  {
    "text": "worked hacked to do it so eventually we",
    "start": "2074470",
    "end": "2079868"
  },
  {
    "text": "are there with our own cluster we are just running VMs and we are trying to",
    "start": "2079869",
    "end": "2085000"
  },
  {
    "text": "expand over there so we're also working on schedulers over the summer we have an intern the she was",
    "start": "2085000",
    "end": "2091329"
  },
  {
    "text": "working on trying to create our scheduler to improve quota management so today we have set fixed quotas to people",
    "start": "2091329",
    "end": "2099280"
  },
  {
    "text": "for people and this kind of they are over provisioned so if everybody tried",
    "start": "2099280",
    "end": "2105069"
  },
  {
    "text": "to use the full quota they won't be able to because there is not enough capacity so here we are trying to kind of make",
    "start": "2105069",
    "end": "2111270"
  },
  {
    "text": "use of the new features at kubernetes provide with preemption to have like a",
    "start": "2111270",
    "end": "2117430"
  },
  {
    "text": "dynamic quota management and to have different type of workloads with different priorities to make sure that",
    "start": "2117430",
    "end": "2123819"
  },
  {
    "text": "we can adopt cases like the news that I mentioned before to scale them up and",
    "start": "2123819",
    "end": "2129790"
  },
  {
    "text": "down as is required and yeah so we are working keep working",
    "start": "2129790",
    "end": "2135460"
  },
  {
    "text": "to gain trust within the company and trying to adopt more mission critical",
    "start": "2135460",
    "end": "2140800"
  },
  {
    "text": "applications bare-metal so like yeah so",
    "start": "2140800",
    "end": "2177180"
  },
  {
    "text": "like we don't have a real solution because we're oh so he's mentioning like",
    "start": "2177180",
    "end": "2183850"
  },
  {
    "text": "we are in Google in BBC so in within the VP CEO Google they don't offer like a",
    "start": "2183850",
    "end": "2190120"
  },
  {
    "text": "proper load balancer there is like the internal load balancer buddy has limitations on premiums and also on",
    "start": "2190120",
    "end": "2197440"
  },
  {
    "text": "program give me some plan okay so yeah so I'm Prem like our load balancer like",
    "start": "2197440",
    "end": "2203520"
  },
  {
    "text": "we think clusters what we have is a bit of a special set up we use like BGP to",
    "start": "2203520",
    "end": "2211660"
  },
  {
    "text": "do routing so basically every every node in cornet is is reka bgp router and then",
    "start": "2211660",
    "end": "2219520"
  },
  {
    "text": "we take advantage of the service service IP type so basically every machine",
    "start": "2219520",
    "end": "2226720"
  },
  {
    "text": "within the cluster announced the same service service IP range and then they",
    "start": "2226720",
    "end": "2234070"
  },
  {
    "text": "additionally announced their own cider for pots I piece right so they are",
    "start": "2234070",
    "end": "2239290"
  },
  {
    "text": "announcing to so with this and koala I mean quality the framework by bgp but",
    "start": "2239290",
    "end": "2245830"
  },
  {
    "text": "basically let us use this like internal service to route traffic so what and",
    "start": "2245830",
    "end": "2252850"
  },
  {
    "text": "that's happening is that the whole cluster becomes a router so you're going to go heat one of the machines and then",
    "start": "2252850",
    "end": "2259710"
  },
  {
    "text": "once you are inside the communities clustering with habitable you go to the right place",
    "start": "2259710",
    "end": "2266849"
  },
  {
    "text": "so these mostly work we are trying to get away from it so we are exploring to",
    "start": "2267690",
    "end": "2273480"
  },
  {
    "text": "use envoy because as they say like the whole class is a router so if one of",
    "start": "2273480",
    "end": "2279280"
  },
  {
    "text": "them has a problem so it becomes a black hole for your cluster is hard to debug it hard to identify so we are trying to",
    "start": "2279280",
    "end": "2288940"
  },
  {
    "text": "move away the service layer to use like it's something like homeboy for load balancing but the game will be our own",
    "start": "2288940",
    "end": "2295000"
  },
  {
    "text": "like you cannot take advantage of Google one yeah yeah basically not at the",
    "start": "2295000",
    "end": "2323500"
  },
  {
    "text": "moment but we are considering that but not not at the moment yeah so we are running flat networks we don't have",
    "start": "2323500",
    "end": "2329470"
  },
  {
    "text": "anything like colleague or nothing like that today",
    "start": "2329470",
    "end": "2333480"
  },
  {
    "text": "a year-plus also the question was about",
    "start": "2343550",
    "end": "2350840"
  },
  {
    "text": "Kerberos integration so yeah the the rough ballpark is a year-plus",
    "start": "2350840",
    "end": "2358000"
  },
  {
    "text": "all right yeah mostly ansible at this",
    "start": "2360550",
    "end": "2371690"
  },
  {
    "text": "point I guess one more question yeah yes",
    "start": "2371690",
    "end": "2386810"
  },
  {
    "text": "so basically he's asking about how do we implement chaos engineering so basically",
    "start": "2386810",
    "end": "2393170"
  },
  {
    "text": "we took this open source project about called cube monkey we made a few",
    "start": "2393170",
    "end": "2399320"
  },
  {
    "text": "modifications to it and basically what this project does is it generates a list",
    "start": "2399320",
    "end": "2406490"
  },
  {
    "text": "of candidates to be killed at one point in a day and then it kills",
    "start": "2406490",
    "end": "2412700"
  },
  {
    "text": "them through the day so that's the basic idea",
    "start": "2412700",
    "end": "2417460"
  },
  {
    "text": "thank you very much for coming [Applause]",
    "start": "2417790",
    "end": "2425389"
  }
]