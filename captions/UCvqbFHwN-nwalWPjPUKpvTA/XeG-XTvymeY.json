[
  {
    "start": "0",
    "end": "320000"
  },
  {
    "text": "so today I am going to present actually",
    "start": "60",
    "end": "5130"
  },
  {
    "text": "give you a live demo of bringing up a full with test cluster in front of you not just bring up a full width test",
    "start": "5130",
    "end": "11010"
  },
  {
    "text": "cluster but actually go through the process of all the recharging that we",
    "start": "11010",
    "end": "16170"
  },
  {
    "text": "are so proud about and to make things more exciting what I've done is I have",
    "start": "16170",
    "end": "22080"
  },
  {
    "text": "stood up a nap in front of the Vitas cluster that all of you can get on to",
    "start": "22080",
    "end": "28199"
  },
  {
    "text": "and start use you people to generate some load while I do all these",
    "start": "28199",
    "end": "35280"
  },
  {
    "text": "maintenance operations and we'll see if it survives I when I was testing it I",
    "start": "35280",
    "end": "43170"
  },
  {
    "text": "did see a few transient errors so you may see those but eventually things will go fine I think so we will see how that",
    "start": "43170",
    "end": "50700"
  },
  {
    "text": "goes so that's basically the intent of this presentation just a but I will give",
    "start": "50700",
    "end": "57600"
  },
  {
    "text": "you a five-minute intro of what we test is for those of you who don't know what it is I am the co-creator of it tests I've",
    "start": "57600",
    "end": "64588"
  },
  {
    "text": "been working on it since 2010 when we started the project at YouTube now",
    "start": "64589",
    "end": "69810"
  },
  {
    "text": "actually after we test moved to C&C f I have now started a company to provide",
    "start": "69810",
    "end": "75439"
  },
  {
    "text": "commercial support for with test which is a planet scale so what is with us in",
    "start": "75439",
    "end": "82650"
  },
  {
    "text": "very simple terms it's basically a middleware for my sequel for sharding",
    "start": "82650",
    "end": "89009"
  },
  {
    "text": "but it can basically scale massively you can essentially there is no known limit",
    "start": "89009",
    "end": "96360"
  },
  {
    "text": "to the to how far you can take with us at least there are companies that have pushed it in all kinds of directions",
    "start": "96360",
    "end": "103070"
  },
  {
    "text": "millions of QPS and we Tess has so far kept meeting their needs and the other",
    "start": "103070",
    "end": "111780"
  },
  {
    "text": "thing is it is also highly available you can comfortably get five nines of",
    "start": "111780",
    "end": "117030"
  },
  {
    "text": "availability would be tests and more importantly we test was built to live in",
    "start": "117030",
    "end": "123600"
  },
  {
    "text": "the Google Cloud work and eventually that's those same abilities were ported",
    "start": "123600",
    "end": "129450"
  },
  {
    "text": "for kubernetes when kubernetes was first released if two years ago in some respect with this",
    "start": "129450",
    "end": "135430"
  },
  {
    "text": "was kind of a pioneer of being able to show the ability to run a stateful set",
    "start": "135430",
    "end": "141400"
  },
  {
    "text": "under kubernetes as a matter of fact the",
    "start": "141400",
    "end": "146550"
  },
  {
    "text": "the oldest with tess instance has been running on kubernetes for over two years",
    "start": "146550",
    "end": "152500"
  },
  {
    "text": "now as far as I can tell and that - at pretty high QPS very high load and has",
    "start": "152500",
    "end": "157540"
  },
  {
    "text": "been a company called stitch labs they were the first ones to do this I think it was 2016 when they went into",
    "start": "157540",
    "end": "163810"
  },
  {
    "text": "production and they've been still they are still on kubernetes as far as I can tell so that's a quick background of",
    "start": "163810",
    "end": "171640"
  },
  {
    "text": "what we test is these are some of the stats the most the coolest at in my",
    "start": "171640",
    "end": "177730"
  },
  {
    "text": "opinion are is not how many people have adopted with tests but who is adopting",
    "start": "177730",
    "end": "182860"
  },
  {
    "text": "with us like most of the renowned software companies have all either",
    "start": "182860",
    "end": "188920"
  },
  {
    "text": "adopted with tests or actually are evaluating it which is pretty exciting and this is not like a peripheral",
    "start": "188920",
    "end": "198300"
  },
  {
    "text": "product that they are trying on these are companies that are actually betting their business and relying on the fact",
    "start": "198300",
    "end": "204850"
  },
  {
    "text": "that we tests will not go down on them be like these are the level of reliance on which if we test went down on them",
    "start": "204850",
    "end": "210850"
  },
  {
    "text": "the company goes out of business kind of reliance so that's a pretty heavy stamp",
    "start": "210850",
    "end": "217150"
  },
  {
    "text": "of approval for us slack for example has about 20% migrated and now they are",
    "start": "217150",
    "end": "224290"
  },
  {
    "text": "accelerating their migration so they will be getting 200% very soon how many of you we're at cube con",
    "start": "224290",
    "end": "231130"
  },
  {
    "text": "Shanghai none of you okay oh you were in cube con Shanghai JD dot-com is actually",
    "start": "231130",
    "end": "239530"
  },
  {
    "text": "a huge company in in China they are kind",
    "start": "239530",
    "end": "244840"
  },
  {
    "text": "of the Amazon of China and they have they are running they've been running",
    "start": "244840",
    "end": "251110"
  },
  {
    "text": "with us at scale at massive scale over 10,000 VT tablets and they were kind of",
    "start": "251110",
    "end": "257260"
  },
  {
    "text": "the highlight of cube con when when it was take taken place in Shanghai",
    "start": "257260",
    "end": "264889"
  },
  {
    "text": "and all of you know square and a very interesting tidbit is this is a very",
    "start": "264889",
    "end": "270560"
  },
  {
    "text": "recent tweet by mr. Jack himself as you can see the squares cash app made it to",
    "start": "270560",
    "end": "277820"
  },
  {
    "text": "the top charts in iOS and Android and the cash app now fully runs on with us",
    "start": "277820",
    "end": "285410"
  },
  {
    "text": "when they first they first migrated their Uncharted database to Vitesse and then charted with us underneath from",
    "start": "285410",
    "end": "292820"
  },
  {
    "text": "what I hear is they are growing so fast that they are shouting every week is what I'm hearing so if you can see here",
    "start": "292820",
    "end": "298789"
  },
  {
    "text": "the top app uses with tests the second app also uses the tests and the cash",
    "start": "298789",
    "end": "307099"
  },
  {
    "text": "apps engineer keeps bugging me saying that we have now taken the creator of with tests because YouTube was the",
    "start": "307099",
    "end": "313009"
  },
  {
    "text": "creator of it test so we are going after Burger King next so yes all right so",
    "start": "313009",
    "end": "321320"
  },
  {
    "start": "320000",
    "end": "362000"
  },
  {
    "text": "this is kind of the community that that we test has actually it's a lot bigger than this these are the people we have",
    "start": "321320",
    "end": "327650"
  },
  {
    "text": "permissions from to use their logos if you look at if you join into slack you",
    "start": "327650",
    "end": "333320"
  },
  {
    "text": "will see bustling activity you can check out people from all kinds of big",
    "start": "333320",
    "end": "338599"
  },
  {
    "text": "companies migrating to Vitesse and not only migrating from my sequel to Vitesse",
    "start": "338599",
    "end": "344090"
  },
  {
    "text": "there are people migrating from to Vitas Cassandra to Vitesse so we are",
    "start": "344090",
    "end": "350300"
  },
  {
    "text": "beginning to see something that I have not seen before which is uncomfortably",
    "start": "350300",
    "end": "355520"
  },
  {
    "text": "exciting is that is the word I would talk about so it's like I will see how things go",
    "start": "355520",
    "end": "362379"
  },
  {
    "start": "362000",
    "end": "415000"
  },
  {
    "text": "this is the high level so the negative the rest few slides I will gloss them over very quickly because I want to get",
    "start": "362530",
    "end": "368270"
  },
  {
    "text": "to the demo and give myself enough time for it this is the high level architecture of it s you the takeaway",
    "start": "368270",
    "end": "375409"
  },
  {
    "text": "from this architecture is that on the left hand side the app servers connect to this proxy called VT gate and they",
    "start": "375409",
    "end": "382669"
  },
  {
    "text": "don't care about what is behind VT gate they just treat we de gate as if it's a giant database PT gate speaks the my",
    "start": "382669",
    "end": "389779"
  },
  {
    "text": "sickle protocol so you connect to VT gate as if you are connecting to a my sequel server and just issue queries and mitigate",
    "start": "389779",
    "end": "397770"
  },
  {
    "text": "we'll figure out how to fetch the data for you and behind the scenes that is a lock server that is used internally by",
    "start": "397770",
    "end": "405360"
  },
  {
    "text": "with us for discovery and for management so this is a very fast and quick",
    "start": "405360",
    "end": "411090"
  },
  {
    "text": "overview of how we test does what it does this is a kind of view that you get",
    "start": "411090",
    "end": "418740"
  },
  {
    "text": "is that once you have written your app server to use with tests then you mostly don't have to change it while you things",
    "start": "418740",
    "end": "425640"
  },
  {
    "text": "do well you do things underneath to the database for example you add replicas and with tests will automatically load",
    "start": "425640",
    "end": "431970"
  },
  {
    "text": "balance against them the demo that I'm going to show is going to show he's going to go through these workflows",
    "start": "431970",
    "end": "439400"
  },
  {
    "text": "hopefully we'll get to the end before time runs out so the first thing usually you do when",
    "start": "439400",
    "end": "445320"
  },
  {
    "text": "you run into scalability issues is split your database into smaller parts you",
    "start": "445320",
    "end": "451620"
  },
  {
    "text": "basically take a few tables move them out into a separate database so that's the first thing that you get help with",
    "start": "451620",
    "end": "457590"
  },
  {
    "text": "we test will do that migration for you without affecting the application as I",
    "start": "457590",
    "end": "462810"
  },
  {
    "text": "said before and then but this type of approach goes only so far because",
    "start": "462810",
    "end": "468240"
  },
  {
    "text": "eventually some of your tables are going to get too big and you have to shard",
    "start": "468240",
    "end": "473670"
  },
  {
    "text": "them so that's your only option and when that time comes we say we test can help you do the sharding and keep scaling as",
    "start": "473670",
    "end": "482180"
  },
  {
    "text": "as your app grows and eventually you can deploy Vitesse into multiple zones",
    "start": "482180",
    "end": "489030"
  },
  {
    "text": "throughout your world and basically have a worldwide deployment and still as far",
    "start": "489030",
    "end": "496710"
  },
  {
    "text": "as the application server it is still talking to the same database except it's now huge and giant so the demo that I'm",
    "start": "496710",
    "end": "504660"
  },
  {
    "text": "going to show is a very classic use case it's a commerce application where there",
    "start": "504660",
    "end": "510300"
  },
  {
    "text": "are products and customers come in place orders and you start off with a single",
    "start": "510300",
    "end": "517289"
  },
  {
    "text": "database all these three tables being in a single database the first thing that we are going to do is move customer and",
    "start": "517290",
    "end": "523860"
  },
  {
    "text": "order into a separate uncharted database while the site is still continuing to",
    "start": "523860",
    "end": "531300"
  },
  {
    "text": "serve traffic and after that what we are going to do is rashard the customer",
    "start": "531300",
    "end": "536940"
  },
  {
    "text": "database into multiple charts and while again all of you keep generating load",
    "start": "536940",
    "end": "543900"
  },
  {
    "text": "into the application that I have written as an engineer has straight and you will",
    "start": "543900",
    "end": "550920"
  },
  {
    "text": "you will you will see it when you see the UI that it was not a design person",
    "start": "550920",
    "end": "557930"
  },
  {
    "text": "alright so let's get to the demo so before I jump into the demo I will show",
    "start": "558320",
    "end": "564390"
  },
  {
    "text": "you what I'm going to do so if you go to the Vita's website and go to examples",
    "start": "564390",
    "end": "571260"
  },
  {
    "text": "slash Elm you will see a bunch of EML files they are all numbered so if you",
    "start": "571260",
    "end": "577710"
  },
  {
    "text": "launch mini cube and execute these yeah Mel files one after another that's essentially what I'm going to do",
    "start": "577710",
    "end": "584400"
  },
  {
    "text": "the demo and these files actually give you the full sequence that I'm going to",
    "start": "584400",
    "end": "590100"
  },
  {
    "text": "show here but I have changed so these EML files are tuned to run on mini cube I have made some modifications",
    "start": "590100",
    "end": "597180"
  },
  {
    "text": "to that far to those files so that they can run real kubernetes instance like",
    "start": "597180",
    "end": "603060"
  },
  {
    "text": "what I how you export the service and how you use the resources and stuff so they are more expanded and the",
    "start": "603060",
    "end": "610500"
  },
  {
    "text": "instructions for this are in the Vita store I your website the brand-new website that we have built for 3.0 and",
    "start": "610500",
    "end": "616820"
  },
  {
    "text": "you can follow these instructions right here under tutorials ok",
    "start": "616820",
    "end": "624330"
  },
  {
    "text": "so for for the sake of time I have already done the first launch as you can",
    "start": "624330",
    "end": "631050"
  },
  {
    "start": "625000",
    "end": "700000"
  },
  {
    "text": "see let me scroll back is the text visible should I make it a little bigger I think I will make it slightly bigger",
    "start": "631050",
    "end": "638720"
  },
  {
    "text": "alright so if you scroll back up what I did was I did a helm install of the",
    "start": "638720",
    "end": "648300"
  },
  {
    "text": "first script which is 101 which is script 101 so what the script has done",
    "start": "648300",
    "end": "653880"
  },
  {
    "text": "is actually brought up my cluster which I can show you here you can see",
    "start": "653880",
    "end": "661500"
  },
  {
    "text": "a few parts that have come up and you'll also see about ten parts for the",
    "start": "661500",
    "end": "666660"
  },
  {
    "text": "Commerce application actually it's better to show them here and I get jobs",
    "start": "666660",
    "end": "673260"
  },
  {
    "text": "in parts you see there are ten application parts they are stateless they just redirect convert your requests",
    "start": "673260",
    "end": "680310"
  },
  {
    "text": "into queries and there are three global EDD instances there is one at Selene",
    "start": "680310",
    "end": "686070"
  },
  {
    "text": "cents per zone there's a net CB operator which I use and there are those",
    "start": "686070",
    "end": "693380"
  },
  {
    "text": "components that I showed you in the architecture diagram the three VT tablets are the Commerce sweetie tablets",
    "start": "693380",
    "end": "700020"
  },
  {
    "start": "700000",
    "end": "730000"
  },
  {
    "text": "so if you go to the Vitesse console it might have locked me out let's see if it allows me yes",
    "start": "700020",
    "end": "707550"
  },
  {
    "text": "it didn't lock me out okay so you can see that there is a Commerce database if you look at the schema for the database",
    "start": "707550",
    "end": "713670"
  },
  {
    "text": "there's order customer and product order is called C order because order is a",
    "start": "713670",
    "end": "719250"
  },
  {
    "text": "database keyword SQL keyword so it does not like such names I mean you can make",
    "start": "719250",
    "end": "724470"
  },
  {
    "text": "it use such name so but it's very inconvenient because you have to keep escaping it I will show you the gamal file for this",
    "start": "724470",
    "end": "733640"
  },
  {
    "text": "here's the amel file so the so I'm using helm charts to show this demo and what",
    "start": "735740",
    "end": "743310"
  },
  {
    "text": "the help charts have done is actually abstracted all the pods and stuff away but then given you the ability to talk",
    "start": "743310",
    "end": "751080"
  },
  {
    "text": "the Vitesse language you can see here I have something called a topology",
    "start": "751080",
    "end": "756180"
  },
  {
    "text": "I have cells so these are elements of width s and I have created one key space",
    "start": "756180",
    "end": "763200"
  },
  {
    "text": "which is my commerce key space and I say there is only one shot because this is",
    "start": "763200",
    "end": "769140"
  },
  {
    "text": "an uncharted key space there are a few replicas that I've clear that I have specified and my schema I have given it",
    "start": "769140",
    "end": "776250"
  },
  {
    "text": "right in line here you can see the three tables product customer and see order i've also defined a V schema a V schema",
    "start": "776250",
    "end": "785520"
  },
  {
    "text": "is also a Vita schema or another way to say it is basically your sharding schema",
    "start": "785520",
    "end": "790560"
  },
  {
    "text": "it tells with us how the database is charted underneath and that's what we test use to abstract the details of riding away",
    "start": "790560",
    "end": "799079"
  },
  {
    "text": "from the application so far so good and once this is executed all those parts",
    "start": "799079",
    "end": "805410"
  },
  {
    "text": "came up and magically so I could even even have a my sequel so this is my my",
    "start": "805410",
    "end": "813600"
  },
  {
    "text": "sequel script I can do things like show tables select star from user sorry",
    "start": "813600",
    "end": "823379"
  },
  {
    "text": "customer it's empty so now I'm going to",
    "start": "823379",
    "end": "829019"
  },
  {
    "start": "828000",
    "end": "920000"
  },
  {
    "text": "reveal my website to you my e-commerce website it's called planet-scale labs",
    "start": "829019",
    "end": "834360"
  },
  {
    "text": "comm so you are welcome to go there please don't try to buffer overflow me it'll probably break but as long as you",
    "start": "834360",
    "end": "843299"
  },
  {
    "text": "give reasonable inputs it should be here fine I'm going to start off by entering",
    "start": "843299",
    "end": "849089"
  },
  {
    "text": "myself as customer I am customer ID number one and feel free to start",
    "start": "849089",
    "end": "855389"
  },
  {
    "text": "creating what I have done is these tables will show the last 20 rows that",
    "start": "855389",
    "end": "862319"
  },
  {
    "text": "were created because I was I don't know how aggressive you are going to get",
    "start": "862319",
    "end": "868379"
  },
  {
    "text": "about inserting rows because you could do enter until interment create lots of rows so oh looks like some people have",
    "start": "868379",
    "end": "876749"
  },
  {
    "text": "started creating their customer so ideally a good application will enforce",
    "start": "876749",
    "end": "882299"
  },
  {
    "text": "relationships which means that if you enter a skew it will make it has to make sure that there is a product with that",
    "start": "882299",
    "end": "887399"
  },
  {
    "text": "SKU in it this one does not because I didn't have that time to do that but and",
    "start": "887399",
    "end": "893069"
  },
  {
    "text": "it's not really necessary for this demo but as I go through the demo you are",
    "start": "893069",
    "end": "899429"
  },
  {
    "text": "welcome to keep hitting this application and generating load so the next thing",
    "start": "899429",
    "end": "904649"
  },
  {
    "text": "I'm going to do is split this database into two because we want to do the",
    "start": "904649",
    "end": "910769"
  },
  {
    "text": "recharging so we are going to move the customer and see order table out of",
    "start": "910769",
    "end": "915779"
  },
  {
    "text": "commerce into a separate customer database and the way to do that are",
    "start": "915779",
    "end": "920910"
  },
  {
    "start": "920000",
    "end": "955000"
  },
  {
    "text": "through the subsequent scripts which is so the way you you do this is by issuing",
    "start": "920910",
    "end": "929319"
  },
  {
    "text": "upgrade commands soups and the first",
    "start": "929319",
    "end": "939350"
  },
  {
    "text": "upgrade command that you issue is 201 which is the next one so the first step I'm going to do is say",
    "start": "939350",
    "end": "945949"
  },
  {
    "text": "that I'm going to create a crease key space called customer so it's an empty ski space it's just a placeholder if you",
    "start": "945949",
    "end": "952129"
  },
  {
    "text": "actually went and saw into the dashboard customer has shown up here as a key",
    "start": "952129",
    "end": "958579"
  },
  {
    "start": "955000",
    "end": "1025000"
  },
  {
    "text": "space but it has no shards it has nothing the next thing I'm going to do is create one shard for that customer",
    "start": "958579",
    "end": "964759"
  },
  {
    "text": "and also make it do some aliasing so the",
    "start": "964759",
    "end": "971809"
  },
  {
    "text": "what we are going to do is the customer key space is going to be created we are going to add tables the customer and",
    "start": "971809",
    "end": "979519"
  },
  {
    "text": "order tables to that key space but when the application sends queries they are",
    "start": "979519",
    "end": "984709"
  },
  {
    "text": "still going to go to commerce which is the place where the original tables are so when that happens what we are going",
    "start": "984709",
    "end": "990769"
  },
  {
    "text": "to do is under the covers we are going to copy the contents of customer and order into the customer database and set",
    "start": "990769",
    "end": "998419"
  },
  {
    "text": "up continuous replication from commerce to customer so once the replication has fully caught",
    "start": "998419",
    "end": "1005350"
  },
  {
    "text": "up we can then say just cut over the traffic from one to the other and hopefully the application should see no",
    "start": "1005350",
    "end": "1012549"
  },
  {
    "text": "change at all so I have to see these parts take a while to come up let's see if they have come up they are coming up",
    "start": "1012549",
    "end": "1018850"
  },
  {
    "text": "it's 4 of 6 it should go to 6 of 6 when",
    "start": "1018850",
    "end": "1023860"
  },
  {
    "text": "it is done and in the meantime I will show you what the Vita's console shows",
    "start": "1023860",
    "end": "1031558"
  },
  {
    "start": "1025000",
    "end": "1085000"
  },
  {
    "text": "it says that now customer has one shard which is short 0 0 usually means",
    "start": "1031559",
    "end": "1037418"
  },
  {
    "text": "uncharted but you can also mark it as charted so it allows us to go back and",
    "start": "1037419",
    "end": "1042579"
  },
  {
    "text": "forth in terms of testing and these are the I'm basically having three one",
    "start": "1042579",
    "end": "1049029"
  },
  {
    "text": "master and two replicas as a setup for this let's see if our sword has come up",
    "start": "1049029",
    "end": "1055400"
  },
  {
    "text": "it's mostly come up I think the next step should work let's see so the next",
    "start": "1055400",
    "end": "1060410"
  },
  {
    "text": "step is to say start this process of reach Rd which is to a vertical split I",
    "start": "1060410",
    "end": "1067370"
  },
  {
    "text": "will show you what the command is while it executes if you look at the vertical let me see how is the load going and we",
    "start": "1067370",
    "end": "1075140"
  },
  {
    "text": "all been really doing load generation whoa all right 59 and 244 awesome ok so when I do the",
    "start": "1075140",
    "end": "1085310"
  },
  {
    "start": "1085000",
    "end": "1135000"
  },
  {
    "text": "vertical split you can I will show you the command here keeps pace so here I am",
    "start": "1085310",
    "end": "1092840"
  },
  {
    "text": "saying that perform a vertical split clone which means that clone the customer and order tables from the",
    "start": "1092840",
    "end": "1100460"
  },
  {
    "text": "customer from the Commerce into customer so this is the command and once I issue",
    "start": "1100460",
    "end": "1107660"
  },
  {
    "text": "this command it should hopefully finish soon let's see what it is done so that",
    "start": "1107660",
    "end": "1112910"
  },
  {
    "text": "job ok it says what VT vertical a VT worker vertical split is successful",
    "start": "1112910",
    "end": "1119840"
  },
  {
    "text": "which means that it has finished the clone it has done the copy and it is now doing replication so as you insert rows",
    "start": "1119840",
    "end": "1125990"
  },
  {
    "text": "all those rows are actually being copied into the customer database now I am",
    "start": "1125990",
    "end": "1133790"
  },
  {
    "text": "going to start doing the cut over so the cut over is 204 vertical migrate",
    "start": "1133790",
    "end": "1140960"
  },
  {
    "start": "1135000",
    "end": "1285000"
  },
  {
    "text": "replicas so the cut over is done one step at a time so remember these are things that you do with hundreds of",
    "start": "1140960",
    "end": "1147860"
  },
  {
    "text": "terabytes of data so all these steps are things that happen over a period of many days so I'm just crunching them all",
    "start": "1147860",
    "end": "1153980"
  },
  {
    "text": "within a few minutes so at this point I'm saying the the traffic is being cut",
    "start": "1153980",
    "end": "1159380"
  },
  {
    "text": "over all the replicas traffic now is being moved over to customer and I can",
    "start": "1159380",
    "end": "1165290"
  },
  {
    "text": "show you using my sequel actually it'll be a cool thing let's see if we can do that use customer :",
    "start": "1165290",
    "end": "1176840"
  },
  {
    "text": "use customer at master so if I say use customer at as master I'm going to do a",
    "start": "1176840",
    "end": "1184250"
  },
  {
    "text": "count sir I don't know how many rows you insert it from customer this query is going to go to the master",
    "start": "1184250",
    "end": "1192110"
  },
  {
    "text": "but if I say use customer at replica",
    "start": "1192110",
    "end": "1197470"
  },
  {
    "text": "this query is going to go to the customer database 77 so the replication",
    "start": "1197470",
    "end": "1203659"
  },
  {
    "text": "is still happening and now I'm going to do the final cut over which is move over",
    "start": "1203659",
    "end": "1209270"
  },
  {
    "text": "the traffic of the master to customer which is 205 it has been done did any of",
    "start": "1209270",
    "end": "1220429"
  },
  {
    "text": "you see any errors no you did when you",
    "start": "1220429",
    "end": "1226159"
  },
  {
    "text": "created the the customer shard right yeah that should not happen so we should",
    "start": "1226159",
    "end": "1231320"
  },
  {
    "text": "file a bug and do that no no one has complained about it so it's still working are you still able to submit data all right so what we have",
    "start": "1231320",
    "end": "1242960"
  },
  {
    "text": "done is now that if you now go look at the database here in the dashboard you",
    "start": "1242960",
    "end": "1250940"
  },
  {
    "text": "will see that commerce still has customer and product but you cannot write to it anymore but customer has also customer and order",
    "start": "1250940",
    "end": "1262580"
  },
  {
    "text": "you but you can write to all your rights are now going to customer and order and at this point I can go delete the tables",
    "start": "1262580",
    "end": "1268520"
  },
  {
    "text": "from commerce because they are not useful anymore which is what this cleanup step does which is 206",
    "start": "1268520",
    "end": "1275648"
  },
  {
    "text": "I will show you the step in 206 you can see drop table customer and drop table",
    "start": "1278290",
    "end": "1285400"
  },
  {
    "start": "1285000",
    "end": "1345000"
  },
  {
    "text": "order they have been dropped so these",
    "start": "1285400",
    "end": "1295210"
  },
  {
    "text": "are logical foreign keys these are to be enforced by the application so we test assists you but doesn't enforce it the",
    "start": "1295210",
    "end": "1302890"
  },
  {
    "text": "there is a big debate about foreign keys because many people shun it there are",
    "start": "1302890",
    "end": "1310930"
  },
  {
    "text": "some good aspects of foreign key some bad aspects of foreign key we tests exposes the good ones at least what we",
    "start": "1310930",
    "end": "1316660"
  },
  {
    "text": "believe are the good ones which is the efficiency of reusing indexes when there",
    "start": "1316660",
    "end": "1322510"
  },
  {
    "text": "is a foreign key relationship but enforcing a foreign key potentially is very expensive therefore we test doesn't",
    "start": "1322510",
    "end": "1328630"
  },
  {
    "text": "reinforce them it relies on the application to do it so-oh 670 it's interesting ok we'll see",
    "start": "1328630",
    "end": "1336400"
  },
  {
    "text": "we'll see I have a magic number that you should not exceed if you do I have to go hack my scripts yeah oh ok ok I won't",
    "start": "1336400",
    "end": "1349060"
  },
  {
    "text": "reveal the number because you will hit it ok so the next step is so this is",
    "start": "1349060",
    "end": "1358120"
  },
  {
    "text": "kind of an easy part this is something that you could brute-force manually moving tables from one database to",
    "start": "1358120",
    "end": "1363910"
  },
  {
    "text": "another you can kind of brute force it using some kind of my sequel filter replication but the next step is to",
    "start": "1363910",
    "end": "1370120"
  },
  {
    "text": "rashard the customer database split those tables into smaller parts so for",
    "start": "1370120",
    "end": "1375670"
  },
  {
    "text": "that what we are going to do the first step the first it's a step itself is a problem because if you saw those tables",
    "start": "1375670",
    "end": "1381700"
  },
  {
    "text": "they have my sequel order increments how is auto increment going to work in sharded environment where tables are",
    "start": "1381700",
    "end": "1389290"
  },
  {
    "text": "spread across multiple shots so it doesn't work so what we did in width s was provide an equivalent feature using",
    "start": "1389290",
    "end": "1395830"
  },
  {
    "text": "a sequence table that issues monotonically increasing numbers so we",
    "start": "1395830",
    "end": "1400900"
  },
  {
    "text": "are going to do that step which is basically migrated from mice equals Auto increment to using Vitesse's",
    "start": "1400900",
    "end": "1409380"
  },
  {
    "text": "sequence tables so that is this yeah Mel and I should have checked the number",
    "start": "1410529",
    "end": "1418690"
  },
  {
    "start": "1415000",
    "end": "1475000"
  },
  {
    "text": "let's see Oh thousand oh it is thousand",
    "start": "1418690",
    "end": "1429889"
  },
  {
    "text": "let's see let's see now thousand is very it went somebody insert something 10,000 okay so yeah",
    "start": "1429889",
    "end": "1440149"
  },
  {
    "text": "IIIi was worried that you will hit over a thousand so I made it ten thousand so",
    "start": "1440149",
    "end": "1446830"
  },
  {
    "text": "yeah so I started the sequence off at ten thousand so that there are no overlaps and now if you actually you can",
    "start": "1446830",
    "end": "1456019"
  },
  {
    "text": "see that it is now counting up from ten thousand but these rows are these rows currently are still going to an",
    "start": "1456019",
    "end": "1462320"
  },
  {
    "text": "uncharted database but we are going to split it and it will continue to behave",
    "start": "1462320",
    "end": "1467690"
  },
  {
    "text": "the same way so the next step now that is there is an interesting thing that to",
    "start": "1467690",
    "end": "1473149"
  },
  {
    "text": "that I want to show in the amyl here is now the sharded V schema is not a simple",
    "start": "1473149",
    "end": "1479629"
  },
  {
    "start": "1475000",
    "end": "1575000"
  },
  {
    "text": "JSON anymore it is a lot more complex because we are now expressing a very",
    "start": "1479629",
    "end": "1484970"
  },
  {
    "text": "complex deployment scheme to with this we are saying that these tables are sharded this customer table is charted",
    "start": "1484970",
    "end": "1492909"
  },
  {
    "text": "with us does not believe in the word sharding key even though we use it and",
    "start": "1492909",
    "end": "1498350"
  },
  {
    "text": "we like to call it the primary windex because we are a database system it's kind of like a primary key but it is a",
    "start": "1498350",
    "end": "1505309"
  },
  {
    "text": "primary sharding key and but then the primary index is capable you are the",
    "start": "1505309",
    "end": "1510950"
  },
  {
    "text": "best part of the primary of of index is that you can provide custom functions for it and the other cool thing that we",
    "start": "1510950",
    "end": "1518029"
  },
  {
    "text": "have done is in the customer table I have said the customer ID is your primary index in the order table it's a",
    "start": "1518029",
    "end": "1526490"
  },
  {
    "text": "gain customer ID which is the primary index even though order ID is the primary key for order the customer ID is",
    "start": "1526490",
    "end": "1533360"
  },
  {
    "text": "the sharding key for order so what what that gives me is to co-locate rows of a",
    "start": "1533360",
    "end": "1539659"
  },
  {
    "text": "customer's orders with the customer itself which means that when I do a joint between customer and",
    "start": "1539659",
    "end": "1545120"
  },
  {
    "text": "order it'll be a single-shot query that entire join will be sent down to one",
    "start": "1545120",
    "end": "1550760"
  },
  {
    "text": "shot if you have transactions that affect both customer and order they will",
    "start": "1550760",
    "end": "1556100"
  },
  {
    "text": "also be single-shot transactions and therefore efficiently executed so this is something that I will try to show you",
    "start": "1556100",
    "end": "1563270"
  },
  {
    "text": "an example data later about whatever how you whatever you created ended up in",
    "start": "1563270",
    "end": "1569299"
  },
  {
    "text": "different charts and and with rows that are related still living together alright so this is now apply it should",
    "start": "1569299",
    "end": "1576559"
  },
  {
    "start": "1575000",
    "end": "1705000"
  },
  {
    "text": "be applied I'm not going to check I'm going to assume optimistically that it is done I am now going to fire up the",
    "start": "1576559",
    "end": "1583309"
  },
  {
    "text": "shards this takes a while because six parts need to come up and those part",
    "start": "1583309",
    "end": "1589820"
  },
  {
    "text": "need to create my sequel instances and initialize them so let's see you will",
    "start": "1589820",
    "end": "1598610"
  },
  {
    "text": "see a lot of units that are so what so what I am now doing is actually the way",
    "start": "1598610",
    "end": "1604309"
  },
  {
    "text": "you reach shard in with us is you don't touch the original shot the original shot remains as as it is you create",
    "start": "1604309",
    "end": "1611870"
  },
  {
    "text": "brand new shots which are your target shots into which Vitesse is going to move data and the way it does it is by",
    "start": "1611870",
    "end": "1618980"
  },
  {
    "text": "splitting so when is it's again two-step process when you do a split clone is basically copies the data divides them",
    "start": "1618980",
    "end": "1626059"
  },
  {
    "text": "into two or or three or n any any number that you want and then copies different",
    "start": "1626059",
    "end": "1631309"
  },
  {
    "text": "portions to the different targets once they are all copied it sets up replication from source to all those",
    "start": "1631309",
    "end": "1637940"
  },
  {
    "text": "destinations but in a filtered fashion it will only send the row that was affected to the shard that it belongs to",
    "start": "1637940",
    "end": "1644270"
  },
  {
    "text": "and again and this is again very similar to vertical slip split but it happens",
    "start": "1644270",
    "end": "1650299"
  },
  {
    "text": "for recharging also with us can do merge shards if you think that your shards",
    "start": "1650299",
    "end": "1656120"
  },
  {
    "text": "have become too thin you can also merge them back so let's see if they are running it just looks like it's almost",
    "start": "1656120",
    "end": "1662210"
  },
  {
    "text": "ready four of six and let me see if I",
    "start": "1662210",
    "end": "1667309"
  },
  {
    "text": "can show you the Yammer for that you can see the the Yamal keeps growing and",
    "start": "1667309",
    "end": "1675470"
  },
  {
    "text": "shrinking depending on what we do so the cool thing about this help chart is you can create jobs and",
    "start": "1675470",
    "end": "1681200"
  },
  {
    "text": "then in the next yeah Mel you delete that job you create a new one it'll also cause the old job to go away so it keeps",
    "start": "1681200",
    "end": "1687620"
  },
  {
    "text": "your kubernetes instance pretty clean so you can see that some of the jobs that I",
    "start": "1687620",
    "end": "1694580"
  },
  {
    "text": "launched earlier are not there anymore like those vertical splits and horizontal splits they don't exist",
    "start": "1694580",
    "end": "1700190"
  },
  {
    "text": "anymore let's see where if we stand okay we are all ready to do the sharding how are we",
    "start": "1700190",
    "end": "1705410"
  },
  {
    "start": "1705000",
    "end": "1785000"
  },
  {
    "text": "doing on the load test this is when you should pound the database okay I am",
    "start": "1705410",
    "end": "1712070"
  },
  {
    "text": "ready to start the shouting the first step is actually non-intrusive",
    "start": "1712070",
    "end": "1717730"
  },
  {
    "text": "because i'm just going to do the split alone it's going to copy all the data in the background while while it is there",
    "start": "1717730",
    "end": "1726080"
  },
  {
    "text": "so there is nothing affected there is no cut over or anything so let's see how long that process takes no it's already",
    "start": "1726080",
    "end": "1732020"
  },
  {
    "text": "done and which let's then start migrating let's do 3 or 4 replicas",
    "start": "1732020",
    "end": "1743840"
  },
  {
    "text": "traffic is migrated and let's see if it is done it is quickly done alright so",
    "start": "1743840",
    "end": "1751700"
  },
  {
    "text": "now is now if you migrate you may see some errors because we are now going to",
    "start": "1751700",
    "end": "1756800"
  },
  {
    "text": "move from short 0 to shards - 80 and 80 - so if you ask why 80 and why not 50",
    "start": "1756800",
    "end": "1763640"
  },
  {
    "text": "it's because we are hexadecimal 8 is the middle for hexadecimal 1 2 3 okay go did",
    "start": "1763640",
    "end": "1774050"
  },
  {
    "text": "it survive yes it did ten thousand 18 okay so now",
    "start": "1774050",
    "end": "1782090"
  },
  {
    "text": "if you let's let's let's do some verification some random random verifications so select select customer",
    "start": "1782090",
    "end": "1798050"
  },
  {
    "start": "1785000",
    "end": "1935000"
  },
  {
    "text": "ID from customer limit one I don't know",
    "start": "1798050",
    "end": "1806810"
  },
  {
    "text": "if this will work let's see four okay so select customer ID comma name comma Q",
    "start": "1806810",
    "end": "1821480"
  },
  {
    "text": "let's say from customer join join",
    "start": "1821480",
    "end": "1831220"
  },
  {
    "text": "product it'll probably complain on",
    "start": "1831220",
    "end": "1836440"
  },
  {
    "text": "customer on customer dot I should alias",
    "start": "1836440",
    "end": "1843110"
  },
  {
    "text": "these see hold on sorry so C dot customer ID I'll tell you",
    "start": "1843110",
    "end": "1853250"
  },
  {
    "text": "why - alias them C dot name actually let's do CC dot name comma C dot SKU",
    "start": "1853250",
    "end": "1862360"
  },
  {
    "text": "poor dot Q SKU from customer see join",
    "start": "1862360",
    "end": "1871510"
  },
  {
    "text": "order o on C order yes C order on seed",
    "start": "1871510",
    "end": "1882140"
  },
  {
    "text": "or customer ID equal to o dot customer ID",
    "start": "1882140",
    "end": "1889179"
  },
  {
    "text": "oops whoa 1672 rose somebody placed a",
    "start": "1889970",
    "end": "1895190"
  },
  {
    "text": "lot of orders so this is actually was a single shot query so we test knows that",
    "start": "1895190",
    "end": "1902330"
  },
  {
    "text": "these these customer and order rose lived together and sent that query to just that one shot so and you can just",
    "start": "1902330",
    "end": "1910879"
  },
  {
    "text": "so that's the cool thing about Vitas is you can just bring up with us and then bring up my sequel console connect to it",
    "start": "1910879",
    "end": "1916580"
  },
  {
    "text": "and start issuing random queries like this cool all right",
    "start": "1916580",
    "end": "1922820"
  },
  {
    "text": "and that then after this there is there are a few more steps that you performed",
    "start": "1922820",
    "end": "1928340"
  },
  {
    "text": "to finally clean up you have to go delete shard zero and get rid of all the old artifacts which I am NOT going to do",
    "start": "1928340",
    "end": "1935120"
  },
  {
    "start": "1935000",
    "end": "1945000"
  },
  {
    "text": "right now instead I am going to conclude this session with a few advertisements",
    "start": "1935120",
    "end": "1944019"
  },
  {
    "text": "as you know the talk was supposed to be given by me and Dan Kozlowski who is",
    "start": "1944019",
    "end": "1949159"
  },
  {
    "start": "1945000",
    "end": "2025000"
  },
  {
    "text": "sitting here but we decided that I will give this talk today and he will do the deep dive tomorrow tomorrow he is going",
    "start": "1949159",
    "end": "1956059"
  },
  {
    "text": "to show you how to play a whack-a-mole with parts with Vitesse parts just bring",
    "start": "1956059",
    "end": "1961399"
  },
  {
    "text": "up a bunch of parts and start killing them and see if we test survives which is basically the most important",
    "start": "1961399",
    "end": "1968029"
  },
  {
    "text": "requirement for a stateful system to live in the cloud so that is going to be",
    "start": "1968029",
    "end": "1975200"
  },
  {
    "text": "tomorrow and HubSpot is actually also one of the oldest users of it as they've",
    "start": "1975200",
    "end": "1980509"
  },
  {
    "text": "been using the test for over a year now and they were the first ones to develop a kubernetes operator for with DES and",
    "start": "1980509",
    "end": "1988669"
  },
  {
    "text": "so they will be presenting this on Thursday and slack channel is very",
    "start": "1988669",
    "end": "1996200"
  },
  {
    "text": "friendly and bustling with activity so you're welcome to join it and feel free",
    "start": "1996200",
    "end": "2002710"
  },
  {
    "text": "to try your class so the Vita's you can bring it up either in kubernetes or",
    "start": "2002710",
    "end": "2007929"
  },
  {
    "text": "outside kubernetes you can just bring up a Rob it has cluster in your laptop there are instructions for that also so",
    "start": "2007929",
    "end": "2015190"
  },
  {
    "text": "that's it for now if you have any questions yes",
    "start": "2015190",
    "end": "2021059"
  },
  {
    "text": "so the speed of loading data the question is what's the speed of loading data into the cluster it is as fast as",
    "start": "2022020",
    "end": "2028660"
  },
  {
    "start": "2025000",
    "end": "2090000"
  },
  {
    "text": "my sequel can't handle it and the which essentially means there is no limit to",
    "start": "2028660",
    "end": "2035050"
  },
  {
    "text": "how fast we can ingest data it's basically how wide can you shard so",
    "start": "2035050",
    "end": "2041170"
  },
  {
    "text": "typically I have seen that a single my sequel instance can ingest about three",
    "start": "2041170",
    "end": "2047680"
  },
  {
    "text": "thousand inserts insert statements per second if you if you actually group",
    "start": "2047680",
    "end": "2053470"
  },
  {
    "text": "those inserts into single statements it does go much faster but since there is no limit on the number of shards there",
    "start": "2053470",
    "end": "2061148"
  },
  {
    "text": "is there is essentially no limit so we are running some benchmark tests with",
    "start": "2061149",
    "end": "2068530"
  },
  {
    "text": "our customers and we are seeing like 200,000 QPS of inserts and that is just",
    "start": "2068530",
    "end": "2075040"
  },
  {
    "text": "on basically on the hardware that we have provisioned if you provision more you can you can do more so there is",
    "start": "2075040",
    "end": "2081730"
  },
  {
    "text": "essentially no limit to how much you can ingest with the test so the load data a",
    "start": "2081730",
    "end": "2089138"
  },
  {
    "text": "local in file is a feature that is being worked on there is actually a pull request that is that I have held off on",
    "start": "2089139",
    "end": "2097600"
  },
  {
    "start": "2090000",
    "end": "2150000"
  },
  {
    "text": "because I've told them that they need to write tests that is one thing that we really really insist on with with test",
    "start": "2097600",
    "end": "2104410"
  },
  {
    "text": "because the the way we test works is we push code today in production tomorrow slack is going to import that",
    "start": "2104410",
    "end": "2110740"
  },
  {
    "text": "and push it we submit code into github today on master then three days later",
    "start": "2110740",
    "end": "2116470"
  },
  {
    "text": "slack pulls that code and applies it on their production so we are very very insistent that whatever feature you",
    "start": "2116470",
    "end": "2123100"
  },
  {
    "text": "write will work and has all the tests that are required and it's the case with almost every Vitas user today YouTube",
    "start": "2123100",
    "end": "2129010"
  },
  {
    "text": "also within a week of getting something getting submitted gets pulled into",
    "start": "2129010",
    "end": "2134050"
  },
  {
    "text": "YouTube and goes into production so and sometimes they say why do why do you why",
    "start": "2134050",
    "end": "2139180"
  },
  {
    "text": "don't you have more releases we don't like every one of our submits to master is a release so that's how you've been",
    "start": "2139180",
    "end": "2146140"
  },
  {
    "text": "operating yes yes yes we test can run on any platform",
    "start": "2146140",
    "end": "2154900"
  },
  {
    "start": "2150000",
    "end": "2185000"
  },
  {
    "text": "essentially it runs on Prem in draw platform",
    "start": "2154900",
    "end": "2160160"
  },
  {
    "text": "it runs on slack uses it on AWS but not without not with kubernetes they run it",
    "start": "2160160",
    "end": "2165410"
  },
  {
    "text": "on their ec2 instances it even runs on mesas it runs on whatever what else yes",
    "start": "2165410",
    "end": "2175249"
  },
  {
    "text": "it is very customizable and it can run on any hardware yes I recently created a",
    "start": "2175249",
    "end": "2185390"
  },
  {
    "text": "VT tablet modes section in with s which actually tells you how to make the tests",
    "start": "2185390",
    "end": "2192890"
  },
  {
    "text": "how to point with tests at an existing my sequel instance you can just it's a middleware right so you can bring up",
    "start": "2192890",
    "end": "2199279"
  },
  {
    "text": "with test and say here is the my sequel serve traffic and then you can go back and forth you can send traffic to my",
    "start": "2199279",
    "end": "2206450"
  },
  {
    "text": "sequel directly or you can send it through with us and you can that way slowly migrate if you already have a",
    "start": "2206450",
    "end": "2212630"
  },
  {
    "text": "working my sequel instance",
    "start": "2212630",
    "end": "2216130"
  },
  {
    "text": "Oh where does it say five five oh that's",
    "start": "2225590",
    "end": "2230900"
  },
  {
    "text": "a lie that's a that's with us claiming to be five five it's a number that we",
    "start": "2230900",
    "end": "2236600"
  },
  {
    "text": "have hard-coded in fact the I don't think we support five five really I we",
    "start": "2236600",
    "end": "2242360"
  },
  {
    "text": "support five six five seven eight oh Maria DB ten dot X all mariadb versions",
    "start": "2242360",
    "end": "2249620"
  },
  {
    "text": "yes we it's probably it's probably five five because Maria DB ten dot zero dot",
    "start": "2249620",
    "end": "2257540"
  },
  {
    "text": "one was based on five five and we hard-coded it that's five five there is",
    "start": "2257540",
    "end": "2263300"
  },
  {
    "text": "a bug out there that we've been procrastinating on saying that we test should should actually publish a more",
    "start": "2263300",
    "end": "2269060"
  },
  {
    "text": "meaningful version number",
    "start": "2269060",
    "end": "2272380"
  },
  {
    "text": "right now only my sequels and their derivatives we test can run on RDS it",
    "start": "2277250",
    "end": "2283520"
  },
  {
    "text": "can run on RDS Aurora it can shard RDS Aurora if you choose to do so",
    "start": "2283520",
    "end": "2292359"
  },
  {
    "text": "there have been many inquiries about Postgres and we are beginning to think",
    "start": "2292359",
    "end": "2298520"
  },
  {
    "text": "about what we can do to make it work with Postgres",
    "start": "2298520",
    "end": "2303730"
  },
  {
    "text": "one more question",
    "start": "2307580",
    "end": "2310480"
  },
  {
    "text": "that's a very good question whether replication is supported across data",
    "start": "2315339",
    "end": "2320420"
  },
  {
    "text": "centers and regions absolutely we test does not care you can we have demos that",
    "start": "2320420",
    "end": "2326900"
  },
  {
    "text": "actually show this disability we have demos that show replicating from",
    "start": "2326900",
    "end": "2332599"
  },
  {
    "text": "one cloud to another demos that show replication from a cloud to an on cloud",
    "start": "2332599",
    "end": "2337849"
  },
  {
    "text": "as long as the right pipelines are set and security is enforced replication",
    "start": "2337849",
    "end": "2345560"
  },
  {
    "text": "works from anything to anything the",
    "start": "2345560",
    "end": "2350720"
  },
  {
    "start": "2350000",
    "end": "2395000"
  },
  {
    "text": "replication can be bi-directional what I mean by bi-directional is that if you",
    "start": "2350720",
    "end": "2356270"
  },
  {
    "text": "have a cluster that have many masters you could have one master in one one",
    "start": "2356270",
    "end": "2362000"
  },
  {
    "text": "cloud replicating two replicas in another cloud and a different master in the other cloud replicating the other",
    "start": "2362000",
    "end": "2368390"
  },
  {
    "text": "way replication otherwise from for a single shard is the unidirectional it goes from",
    "start": "2368390",
    "end": "2373609"
  },
  {
    "text": "the master to a replica but you can failover the master from one cloud to",
    "start": "2373609",
    "end": "2378619"
  },
  {
    "text": "another in which case the replication will immediately be reversed by with this because it will start pushing data",
    "start": "2378619",
    "end": "2384140"
  },
  {
    "text": "in the the other way around yes",
    "start": "2384140",
    "end": "2390190"
  },
  {
    "text": "the in the case of a multi cloud center the thing that we have to do is make the",
    "start": "2394990",
    "end": "2401369"
  },
  {
    "start": "2395000",
    "end": "2425000"
  },
  {
    "text": "the lock server globally accessible by both by both parts and once that is",
    "start": "2401369",
    "end": "2409569"
  },
  {
    "text": "possible once that is achieved then these different clusters can talk to each other because the lock server gives",
    "start": "2409569",
    "end": "2416140"
  },
  {
    "text": "you tells you what is where so that's essentially how we achieve multi-cloud",
    "start": "2416140",
    "end": "2422460"
  },
  {
    "text": "yes oh so yes we actually the question is",
    "start": "2422760",
    "end": "2431829"
  },
  {
    "start": "2425000",
    "end": "2470000"
  },
  {
    "text": "how does it work with github Zorka strider we actually approached slow me who is the author of Orchestrator pretty",
    "start": "2431829",
    "end": "2438250"
  },
  {
    "text": "early on to integrate with that so actually the the reparent story for we",
    "start": "2438250",
    "end": "2445480"
  },
  {
    "text": "test on a master going down unplanned fail a failure of a master he is",
    "start": "2445480",
    "end": "2451329"
  },
  {
    "text": "actually handled by the orchestrator so you can set up special variables in the orchestrator where Orchestrator will",
    "start": "2451329",
    "end": "2457750"
  },
  {
    "text": "perform the failover and tell with a Z I have now repented here's your new master oh so he's going to do that so he's",
    "start": "2457750",
    "end": "2474220"
  },
  {
    "start": "2470000",
    "end": "2505000"
  },
  {
    "text": "going to give you the orchestrator demo suomi is a very good friend of Vitas their github is also evaluating and in",
    "start": "2474220",
    "end": "2481510"
  },
  {
    "text": "the process of adopting with tests so we are actually collaborating very closely with them the goes there is also",
    "start": "2481510",
    "end": "2489760"
  },
  {
    "text": "integration with ghost which is another tool that slow me wrote yes",
    "start": "2489760",
    "end": "2498930"
  },
  {
    "text": "that's a very good question so what is the latency overhead of Vitesse it is",
    "start": "2503890",
    "end": "2509589"
  },
  {
    "start": "2505000",
    "end": "2562000"
  },
  {
    "text": "around 2 milliseconds per hawk it's basically two hops so it is one millisecond per hop it's a very",
    "start": "2509589",
    "end": "2516900"
  },
  {
    "text": "conservative estimate people have observed lower latencies but if you are",
    "start": "2516900",
    "end": "2522849"
  },
  {
    "text": "planning you have to kind of assume that every one of your queries there's going to be this two millisecond additional",
    "start": "2522849",
    "end": "2529150"
  },
  {
    "text": "overhead at least I had a high level planning it's good to keep that in mind",
    "start": "2529150",
    "end": "2534390"
  },
  {
    "text": "there are ways to actually reduce that latency if you really really want it there are some trade-offs we can make",
    "start": "2534390",
    "end": "2541239"
  },
  {
    "text": "and we have done that for a few people but the default way vitas operates gives",
    "start": "2541239",
    "end": "2548890"
  },
  {
    "text": "you a two millisecond latency",
    "start": "2548890",
    "end": "2551970"
  },
  {
    "text": "all right thank you very much [Applause]",
    "start": "2556530",
    "end": "2564660"
  }
]