[
  {
    "start": "0",
    "end": "148000"
  },
  {
    "text": "today welcome to today CN CF webinar simplifying app migration to kubernetes with an app centric abstraction I'm",
    "start": "0",
    "end": "7200"
  },
  {
    "text": "Chris short principal Technical Marketing Manager Red Hat and also cloud native ambassador I'll be moderating",
    "start": "7200",
    "end": "13469"
  },
  {
    "text": "today's webinar a few housekeeping items before we get started during the webinar you're not able to speak as an attendee",
    "start": "13469",
    "end": "20070"
  },
  {
    "text": "sorry but you have a Q&A box we really want you to use this Q&A box as the as a",
    "start": "20070",
    "end": "26720"
  },
  {
    "text": "webinar is progressing feel free to drop in questions there we will get to as",
    "start": "26720",
    "end": "33360"
  },
  {
    "text": "many as the end and I'll be curating them and we have another moderator on the line as well so your questions will",
    "start": "33360",
    "end": "38700"
  },
  {
    "text": "get answered more than likely today so what was really cool that you're here today for this webinar this is an official CN CF webinar as",
    "start": "38700",
    "end": "44969"
  },
  {
    "text": "such it is subject to the CN CF code of conduct please do not add anything to the chat for questions that would be in",
    "start": "44969",
    "end": "51090"
  },
  {
    "text": "violation of that code of conduct basically be respectful of all of your fellow participants and presenters I",
    "start": "51090",
    "end": "58699"
  },
  {
    "text": "would be excuse me I'd like to welcome",
    "start": "58699",
    "end": "64768"
  },
  {
    "text": "our presenter today Anoop director of engineering at high scale a new Peugeot ahead and take it",
    "start": "64769",
    "end": "71220"
  },
  {
    "text": "away thank you thank you Chris and thank",
    "start": "71220",
    "end": "77939"
  },
  {
    "text": "you everyone for joining the webinar today we're from high scale we've been",
    "start": "77939",
    "end": "83520"
  },
  {
    "text": "working on solutions in the container space for nearly five years now from the",
    "start": "83520",
    "end": "91500"
  },
  {
    "text": "very early days of docker and the last couple of years in the kubernetes space",
    "start": "91500",
    "end": "99110"
  },
  {
    "text": "so my name is Anu I take care of engineering at high scale and I have",
    "start": "99110",
    "end": "107970"
  },
  {
    "text": "with me my co-panelists MIOSHA who manages the product and I also have",
    "start": "107970",
    "end": "115829"
  },
  {
    "text": "Divya link addition who helps us with our participation and interaction with",
    "start": "115829",
    "end": "122369"
  },
  {
    "text": "the community so we're here today to share some of our experiences in",
    "start": "122369",
    "end": "128910"
  },
  {
    "text": "migrating a particular micro service based application to kubernetes some of",
    "start": "128910",
    "end": "135600"
  },
  {
    "text": "the challenges that we face some technical insights that we thought might be interesting or useful and also you",
    "start": "135600",
    "end": "144000"
  },
  {
    "text": "know how we went about simplifying the whole thing all right so the application",
    "start": "144000",
    "end": "150570"
  },
  {
    "start": "148000",
    "end": "148000"
  },
  {
    "text": "itself was an enterprise platform this",
    "start": "150570",
    "end": "155730"
  },
  {
    "text": "platform is a local development platform so users which sign up in order to build",
    "start": "155730",
    "end": "164280"
  },
  {
    "text": "out applications in an easier way that's what the platform let them do and as you can see this is a",
    "start": "164280",
    "end": "173580"
  },
  {
    "text": "picture of the kind of services that were there and it had service discovery",
    "start": "173580",
    "end": "182280"
  },
  {
    "text": "load balancer stapled services and so on",
    "start": "182280",
    "end": "189920"
  },
  {
    "text": "so so they wanted to move to kubernetes",
    "start": "190550",
    "end": "195690"
  },
  {
    "text": "because a lot of their customers were on different clouds and they wanted this",
    "start": "195690",
    "end": "201810"
  },
  {
    "text": "platform to be set up you know for them on the cloud of their choice and so",
    "start": "201810",
    "end": "208709"
  },
  {
    "text": "kubernetes became a natural choice for this because you know you can set up",
    "start": "208709",
    "end": "214530"
  },
  {
    "text": "your application and and deploy in exactly the same way everywhere and",
    "start": "214530",
    "end": "221120"
  },
  {
    "text": "there were a couple of other reasons so they would get you know user demand with",
    "start": "221120",
    "end": "229650"
  },
  {
    "text": "some level of volatility so sometimes you would have more users using the",
    "start": "229650",
    "end": "235079"
  },
  {
    "text": "platform than at other times and again and you know it turned out to be a",
    "start": "235079",
    "end": "241680"
  },
  {
    "text": "natural choice kubernetes and then they also wanted to make things a bit more",
    "start": "241680",
    "end": "249900"
  },
  {
    "text": "economical and then finally the declarative approach and the mutability",
    "start": "249900",
    "end": "256950"
  },
  {
    "text": "of containers were particularly attractive to make everything reliable",
    "start": "256950",
    "end": "262979"
  },
  {
    "text": "much more than what it was before so the pre kubernetes scenario looked something like this",
    "start": "262979",
    "end": "269800"
  },
  {
    "start": "265000",
    "end": "265000"
  },
  {
    "text": "so yeah you know we had these Williams and the DevOps would set up the",
    "start": "269800",
    "end": "276550"
  },
  {
    "text": "application stack requirements Java or Tomcat and other stuff like that and",
    "start": "276550",
    "end": "282790"
  },
  {
    "text": "configure all of that and then also handle things like security patch into those stacks etc and and then obviously",
    "start": "282790",
    "end": "292090"
  },
  {
    "text": "the the deployment was very simple so you would mainly deploy the the wall",
    "start": "292090",
    "end": "299020"
  },
  {
    "text": "file this is a java-based application so it would mostly be Wars our jar files",
    "start": "299020",
    "end": "304210"
  },
  {
    "text": "and that would be the deployment scenario with kubernetes this was all",
    "start": "304210",
    "end": "312330"
  },
  {
    "text": "about to change its and it is obviously easier to talk about in hindsight but",
    "start": "312330",
    "end": "320080"
  },
  {
    "text": "essentially you know all of these things the stuff that there was folks on the",
    "start": "320080",
    "end": "327250"
  },
  {
    "text": "team dead and the pure developers on the team dead all that had to sort of get",
    "start": "327250",
    "end": "335440"
  },
  {
    "text": "combined packaged into an image and you",
    "start": "335440",
    "end": "341470"
  },
  {
    "text": "know and then all of this would go through as a single deployment into the",
    "start": "341470",
    "end": "351060"
  },
  {
    "text": "cluster so this was a sort of shift in",
    "start": "351060",
    "end": "356080"
  },
  {
    "text": "the way there was happened in the way deployment happened I'm just going to",
    "start": "356080",
    "end": "362020"
  },
  {
    "text": "pause here looks like the screen is cutting off for some folks Chris can you",
    "start": "362020",
    "end": "368830"
  },
  {
    "text": "confirm if it's ok it seems to be OK for",
    "start": "368830",
    "end": "376210"
  },
  {
    "text": "me all right ok might be a temporary glitch I guess then",
    "start": "376210",
    "end": "382210"
  },
  {
    "text": "I'll move on all right so with this sort of shift that you know",
    "start": "382210",
    "end": "389290"
  },
  {
    "start": "384000",
    "end": "384000"
  },
  {
    "text": "that happened in the way things were deployed and delivered there are some",
    "start": "389290",
    "end": "395140"
  },
  {
    "text": "considerations that we had to keep in mind you know with the immutability of",
    "start": "395140",
    "end": "402330"
  },
  {
    "text": "containers coming in any small change that would be needed whether it's a you",
    "start": "402330",
    "end": "409740"
  },
  {
    "text": "know a change in the application or a change in its dependencies and whatever",
    "start": "409740",
    "end": "414900"
  },
  {
    "text": "it was it would mean that you'd kind of redeploy you rebuild and redeploy you",
    "start": "414900",
    "end": "420690"
  },
  {
    "text": "never update anything and this also meant that you know the frequency would kind of go up a lot of containers would",
    "start": "420690",
    "end": "429330"
  },
  {
    "text": "live for a very short time there would be a change in how troubleshooting would happen how debugging would happen and",
    "start": "429330",
    "end": "435390"
  },
  {
    "text": "again fixes would require rebuild and redeploy and there's a sort of a role shift which is indicated in the previous",
    "start": "435390",
    "end": "444630"
  },
  {
    "text": "slide as well so this entire shift brought about three new challenges so",
    "start": "444630",
    "end": "454380"
  },
  {
    "start": "446000",
    "end": "446000"
  },
  {
    "text": "the whole workflow had to change there's a lot of new concepts and terminologies",
    "start": "454380",
    "end": "461760"
  },
  {
    "text": "that everybody involved in the delivery would have to become familiar with I'm",
    "start": "461760",
    "end": "467610"
  },
  {
    "text": "sure a lot of you are familiar with with the fact that there's new stuff to be",
    "start": "467610",
    "end": "474120"
  },
  {
    "text": "learned here and and again you know troubleshooting in office is very different as we're gonna see so what we",
    "start": "474120",
    "end": "482400"
  },
  {
    "text": "want to do here is to kind of get into a",
    "start": "482400",
    "end": "487590"
  },
  {
    "text": "bit of detail on the kind of things that we had to deal with and again we're not",
    "start": "487590",
    "end": "496080"
  },
  {
    "text": "wanting to present sort of best practices or anything like that in a",
    "start": "496080",
    "end": "502110"
  },
  {
    "text": "very comprehensive manner that's available to us but what we wanted to talk about is the journey that we went",
    "start": "502110",
    "end": "509669"
  },
  {
    "text": "through and some of the learnings we got through that journey and hopefully",
    "start": "509669",
    "end": "515280"
  },
  {
    "text": "that's useful at least to some of you",
    "start": "515280",
    "end": "520440"
  },
  {
    "text": "who would want to migrate your applications to kubernetes so for the",
    "start": "520440",
    "end": "525839"
  },
  {
    "text": "next ten minutes you know I'm going to get into each of these aspects and what we did there and then after that",
    "start": "525839",
    "end": "533860"
  },
  {
    "text": "I'm gonna zoom out and come back to a bird's-eye view and talk about how we",
    "start": "533860",
    "end": "539709"
  },
  {
    "text": "ease things so I'll start with service discovery so a lot of the applications",
    "start": "539709",
    "end": "549750"
  },
  {
    "text": "the micro services based applications in particular or even other applications might be dependent on service discovery",
    "start": "549750",
    "end": "557890"
  },
  {
    "text": "mechanisms from the past and some of those mechanisms may not work very well",
    "start": "557890",
    "end": "564640"
  },
  {
    "text": "or even if they do work we'll see why it might make sense to move to kubernetes",
    "start": "564640",
    "end": "570760"
  },
  {
    "text": "native discovery how we went about trying to do that without making changes",
    "start": "570760",
    "end": "576760"
  },
  {
    "text": "to the code first and then and then later did that so we're gonna talk about at the points you see here so a quick",
    "start": "576760",
    "end": "584350"
  },
  {
    "start": "582000",
    "end": "582000"
  },
  {
    "text": "recap you know a lot of you would be familiar with this so we so in this",
    "start": "584350",
    "end": "591399"
  },
  {
    "text": "particular application they were using console and so we had services that",
    "start": "591399",
    "end": "598510"
  },
  {
    "text": "wanted to talk to other services so just a recap of basic service discovery right so platform service would come up for",
    "start": "598510",
    "end": "605860"
  },
  {
    "text": "example this is pre kubernetes and basically there would be a sort of a",
    "start": "605860",
    "end": "612550"
  },
  {
    "text": "post hook which would register its IP into console and then when some other service like a studio service for",
    "start": "612550",
    "end": "618910"
  },
  {
    "text": "example which is the name of another service there would simply query console for the platform IP and then talk to the",
    "start": "618910",
    "end": "625630"
  },
  {
    "text": "platform so there were several reasons to want to move to where Cuba natives",
    "start": "625630",
    "end": "631420"
  },
  {
    "text": "kubernetes native discovery one obvious",
    "start": "631420",
    "end": "637620"
  },
  {
    "text": "point would be that we wouldn't need to maintain or run console anymore",
    "start": "637620",
    "end": "642990"
  },
  {
    "text": "kubernetes itself would do the job and then registration is automatic so here",
    "start": "642990",
    "end": "651339"
  },
  {
    "text": "we would need to write some post ups and do stuff like that but in kubernetes you don't need to do registration then you",
    "start": "651339",
    "end": "660579"
  },
  {
    "text": "know because this works well with kubernetes DNS so if you worry for a service name",
    "start": "660579",
    "end": "668570"
  },
  {
    "text": "in kubernetes once you deploy to your service then you would be able to get",
    "start": "668570",
    "end": "674300"
  },
  {
    "text": "back the service IP by simply making a DNS call just like that right without",
    "start": "674300",
    "end": "679910"
  },
  {
    "text": "any extra effort or extra code or scripts on your part and finally you",
    "start": "679910",
    "end": "687560"
  },
  {
    "text": "know if you have a lot of replicas for your service I assume most of you would",
    "start": "687560",
    "end": "693680"
  },
  {
    "text": "be familiar with pods and replicas then you know if your service has many pause",
    "start": "693680",
    "end": "699950"
  },
  {
    "text": "and as replicas then then kubernetes service discovery will return you a",
    "start": "699950",
    "end": "706330"
  },
  {
    "text": "service IP which is a single IP and then behind the scenes when you hit the",
    "start": "706330",
    "end": "711830"
  },
  {
    "text": "service IP it would automatically round-robin the traffic to all of the",
    "start": "711830",
    "end": "717950"
  },
  {
    "text": "pods behind to the different pot I piece which is again very useful so so how did",
    "start": "717950",
    "end": "727220"
  },
  {
    "start": "726000",
    "end": "726000"
  },
  {
    "text": "we go about that right so that's that's you know playing kubernetes stuff but so",
    "start": "727220",
    "end": "732529"
  },
  {
    "text": "initially from console we wanted to not",
    "start": "732529",
    "end": "737660"
  },
  {
    "text": "change everything at one shot so we had like in this application there were 15",
    "start": "737660",
    "end": "743510"
  },
  {
    "text": "or so micro services and all those had the console library as part of the code",
    "start": "743510",
    "end": "750649"
  },
  {
    "text": "which would - the code would talk to console through that library and all of that so we would have to go in and and",
    "start": "750649",
    "end": "757670"
  },
  {
    "text": "rip out that quote from all the 15 services with it so the idea was they didn't want to do that until they were",
    "start": "757670",
    "end": "763550"
  },
  {
    "text": "sure that communities would work so initially we simply modified the entries",
    "start": "763550",
    "end": "769370"
  },
  {
    "text": "that went into console so that console the court would continue to query console and console would return just",
    "start": "769370",
    "end": "776300"
  },
  {
    "text": "the kubernetes service name to the fan IP and then from that point the service would would talk or make",
    "start": "776300",
    "end": "783680"
  },
  {
    "text": "HTTP calls using kubernetes service name which would simply resolve through the kubernetes DMS obviously this is not a",
    "start": "783680",
    "end": "791180"
  },
  {
    "text": "great idea to go to production right so this is still the journey so you'd have",
    "start": "791180",
    "end": "796820"
  },
  {
    "text": "two hops to to the service but it allowed the application to get onto kubernetes very",
    "start": "796820",
    "end": "803789"
  },
  {
    "text": "quickly and you know people could totally deal with other challenges while",
    "start": "803789",
    "end": "808919"
  },
  {
    "text": "this one was still being fixed so from there we came to the second attempt",
    "start": "808919",
    "end": "813959"
  },
  {
    "text": "which was to avoid the two hops and then since by that point we had shown that it",
    "start": "813959",
    "end": "821159"
  },
  {
    "text": "would work reasonably well so we got rid of console completely and then simply",
    "start": "821159",
    "end": "827639"
  },
  {
    "text": "depended on kubernetes dns to get the service IP there are some interesting caveats here",
    "start": "827639",
    "end": "833999"
  },
  {
    "text": "to know when you do this so one interesting thing is that when you when",
    "start": "833999",
    "end": "840629"
  },
  {
    "text": "you try to resolve the service name in kubernetes you will get a service IP even if the pods you know there's not",
    "start": "840629",
    "end": "848549"
  },
  {
    "text": "even a single Todd that's that's healthy so you'll still get the service IP so",
    "start": "848549",
    "end": "854609"
  },
  {
    "text": "you wouldn't know until you make the request to that service and then there",
    "start": "854609",
    "end": "861689"
  },
  {
    "text": "were issues we faced with connection pooling not sure if that as a result or",
    "start": "861689",
    "end": "868109"
  },
  {
    "text": "can be because you get a service IP if you have multiple replicas behind and so",
    "start": "868109",
    "end": "874709"
  },
  {
    "text": "you don't get to the actual part IP right the service I t's like a proxy to the parts behind and so you can't really",
    "start": "874709",
    "end": "882299"
  },
  {
    "text": "set up a connection pool which is very useful if you're if you want to do that for a database use case and again you're",
    "start": "882299",
    "end": "889649"
  },
  {
    "text": "limited to you know the ground robin of the traffic to the pods behind so then",
    "start": "889649",
    "end": "897449"
  },
  {
    "text": "we did a different thing so that we could only get to the healthy parts so",
    "start": "897449",
    "end": "902669"
  },
  {
    "text": "what we did then was to change things around so instead of depending on the kubernetes dns to get the service IP we",
    "start": "902669",
    "end": "909509"
  },
  {
    "text": "would query kubernetes api to get the the pod IPS so if you had three parts",
    "start": "909509",
    "end": "916439"
  },
  {
    "text": "three part replicas for your service it would return the deployed ids and we would then have to cash those IPS and",
    "start": "916439",
    "end": "923129"
  },
  {
    "text": "periodically invalidate and refresh the cache etc but now we could then you know",
    "start": "923129",
    "end": "929309"
  },
  {
    "text": "kubernetes would return they're only those which were healthy and we can do things like bullying etc",
    "start": "929309",
    "end": "937370"
  },
  {
    "text": "there's pros and cons to both doing the second way here and the third",
    "start": "937370",
    "end": "943680"
  },
  {
    "text": "way here for a lot of simple services you simply might want to rely on the kubernetes dns out but if you have an",
    "start": "943680",
    "end": "950580"
  },
  {
    "text": "advanced use case then then you might want to go and get the pot eyepiece",
    "start": "950580",
    "end": "956780"
  },
  {
    "start": "956000",
    "end": "956000"
  },
  {
    "text": "so after this whole migration was done in in recent times in recent months",
    "start": "956780",
    "end": "962670"
  },
  {
    "text": "they're having some other options that have come up and and we've come across",
    "start": "962670",
    "end": "968090"
  },
  {
    "text": "you might want to use something like the ribbon library if you're using spring or",
    "start": "968090",
    "end": "973170"
  },
  {
    "text": "there could be similar libraries in other languages which will help you to",
    "start": "973170",
    "end": "978390"
  },
  {
    "text": "query the kubernetes api for polities in your code and then console and and even",
    "start": "978390",
    "end": "985530"
  },
  {
    "text": "others like maybe eureka etc service discovery mechanisms they have now",
    "start": "985530",
    "end": "992420"
  },
  {
    "text": "libraries or ways to link to set up a sync between say console and kubernetes",
    "start": "992420",
    "end": "999000"
  },
  {
    "text": "service discovery we haven't really used this in production or anything like that",
    "start": "999000",
    "end": "1006050"
  },
  {
    "text": "and you know we're not sure what kind of out of sync issues you might get it's",
    "start": "1006050",
    "end": "1011690"
  },
  {
    "text": "broken networks etc there is something you might want to check but these",
    "start": "1011690",
    "end": "1017300"
  },
  {
    "text": "options exist alright so and I move to",
    "start": "1017300",
    "end": "1022790"
  },
  {
    "text": "the second thing and of course the six things that we're going to talk about here are not comprehensive right there's",
    "start": "1022790",
    "end": "1029329"
  },
  {
    "text": "a lot more things that you would need to do to migrate your application but you",
    "start": "1029329",
    "end": "1034490"
  },
  {
    "text": "know these were kind of important or insightful things for us and so we",
    "start": "1034490",
    "end": "1040819"
  },
  {
    "text": "thought to cover these so in this one I'm going to talk a little bit about you",
    "start": "1040820",
    "end": "1046189"
  },
  {
    "text": "know what we did and what we try to do for volumes and handling data etc so",
    "start": "1046190",
    "end": "1057350"
  },
  {
    "text": "again a quick recap you know I'm sure many of you are familiar with this",
    "start": "1057350",
    "end": "1064520"
  },
  {
    "text": "these concepts so there's persisting volumes PD's in short right and for example this",
    "start": "1064520",
    "end": "1072380"
  },
  {
    "text": "represents I mean in very rough terms I can say this represents a physical",
    "start": "1072380",
    "end": "1077540"
  },
  {
    "text": "volume so for example it would present an EBS volume if you're using EBS as your storage and then there's the PVCs",
    "start": "1077540",
    "end": "1088460"
  },
  {
    "text": "or persistent volume claims where you kind of specify which pod this",
    "start": "1088460",
    "end": "1094610"
  },
  {
    "text": "particular pv needs to get attached into and then whenever you need to do persistent volumes you will deploy your",
    "start": "1094610",
    "end": "1101120"
  },
  {
    "text": "services as a stateful set so typically the services you deploy into kubernetes",
    "start": "1101120",
    "end": "1107929"
  },
  {
    "text": "you know there's two primary ways to deploy them one is you might want to deploy them as a deployment as what is",
    "start": "1107929",
    "end": "1115490"
  },
  {
    "text": "called a deployment right now or what is called a stateful set but in this case with PBS you want to do stateful set",
    "start": "1115490",
    "end": "1123410"
  },
  {
    "text": "because then the state will set will ensure that whenever the pod is scheduled or rescheduled the volume",
    "start": "1123410",
    "end": "1131750"
  },
  {
    "text": "attachments are properly maintained and so that's a quick recap all right so",
    "start": "1131750",
    "end": "1140170"
  },
  {
    "start": "1138000",
    "end": "1138000"
  },
  {
    "text": "some of the things we've you know we did in the course of the migration so if you",
    "start": "1140170",
    "end": "1146690"
  },
  {
    "text": "know wherever we had some EBS volumes or you know either with data or you know we",
    "start": "1146690",
    "end": "1153650"
  },
  {
    "text": "brought back a volume from a snapshot or something like that or we had yeah at",
    "start": "1153650",
    "end": "1158780"
  },
  {
    "text": "that point we didn't have they didn't have snapshot the snapshot support in committees was still alpha I think it's",
    "start": "1158780",
    "end": "1166790"
  },
  {
    "text": "still beat all right now so we we would create a volume from the snapshot and then create a it PB to sort of represent",
    "start": "1166790",
    "end": "1176179"
  },
  {
    "text": "that volume and then do all of these things that I talked about so this was a how we kind of brought back data that",
    "start": "1176179",
    "end": "1184130"
  },
  {
    "text": "was existing elsewhere in you know in a volume or in a in a snapshot I look",
    "start": "1184130",
    "end": "1193760"
  },
  {
    "text": "today I believe you can also specify your snapshot I directly here in your penis or pcs and",
    "start": "1193760",
    "end": "1201250"
  },
  {
    "text": "black kubernetes handle it that is now supported by several providers but again it's a beta feature you might want to",
    "start": "1201250",
    "end": "1208270"
  },
  {
    "text": "use with caution then there's dynamic provisioning which",
    "start": "1208270",
    "end": "1214660"
  },
  {
    "text": "which basically means instead of creating a you know persistent volume",
    "start": "1214660",
    "end": "1220510"
  },
  {
    "text": "let's saying you don't have existing data you're doing a fresh deployment so we had a few cases where we were",
    "start": "1220510",
    "end": "1225760"
  },
  {
    "text": "deploying services afresh like for example services that might need to store some data persist data temporarily",
    "start": "1225760",
    "end": "1232960"
  },
  {
    "text": "until that data was shipped away to some other place in those cases it would start blank in and in those services we",
    "start": "1232960",
    "end": "1240220"
  },
  {
    "text": "would simply create a persistent volume claim and let the claim automatically manage the lifecycle of the required",
    "start": "1240220",
    "end": "1247240"
  },
  {
    "text": "volume so it would automatically bring up physical volumes when this was deployed and that you know that was",
    "start": "1247240",
    "end": "1254260"
  },
  {
    "text": "helpful for some of these other cases where the the data had to be temporarily",
    "start": "1254260",
    "end": "1260170"
  },
  {
    "text": "persisted and then there's the third case which was stateful set with a claim",
    "start": "1260170",
    "end": "1267120"
  },
  {
    "text": "template so if you need to sort of have",
    "start": "1267120",
    "end": "1274020"
  },
  {
    "text": "a case where you are going to create replicas of your service so once again",
    "start": "1274020",
    "end": "1280120"
  },
  {
    "text": "we did this for some cases where we wanted to use like say logs and stuff",
    "start": "1280120",
    "end": "1285190"
  },
  {
    "text": "or some time there's debug data which we wanted to which would then get shipped",
    "start": "1285190",
    "end": "1290800"
  },
  {
    "text": "off periodically and if we wanted to scale that service then that service we",
    "start": "1290800",
    "end": "1296770"
  },
  {
    "text": "would create with what is called a clean template inside stateful set and so this",
    "start": "1296770",
    "end": "1303040"
  },
  {
    "text": "makes sure that whenever a new replica part is created then you know a a",
    "start": "1303040",
    "end": "1309250"
  },
  {
    "text": "persistent volume is automatically attached to that new replica it also",
    "start": "1309250",
    "end": "1314770"
  },
  {
    "text": "makes things easier because you just handle the stateful set yamo but that's anyway that's where we use this kind of",
    "start": "1314770",
    "end": "1322900"
  },
  {
    "text": "a thing so some of the considerations so we would you know sometimes get",
    "start": "1322900",
    "end": "1328630"
  },
  {
    "start": "1323000",
    "end": "1323000"
  },
  {
    "text": "breakages here because as you can see there's a lot of referencing that needs to be proper and",
    "start": "1328630",
    "end": "1335380"
  },
  {
    "text": "you don't want to take a chance with your data volumes and stuff so you need",
    "start": "1335380",
    "end": "1341770"
  },
  {
    "text": "to make sure that you refer the right things in the right ya Mo's or yellow",
    "start": "1341770",
    "end": "1349690"
  },
  {
    "text": "sections I guess then if you're doing",
    "start": "1349690",
    "end": "1355990"
  },
  {
    "text": "volume resizing and you know we we were using claim templates and we ran into",
    "start": "1355990",
    "end": "1361630"
  },
  {
    "text": "this problem at some point where we wanted to resize it is not possible to submit a resize match to the claim",
    "start": "1361630",
    "end": "1368500"
  },
  {
    "text": "template so if you're using a claim template then you know that would add it",
    "start": "1368500",
    "end": "1377409"
  },
  {
    "text": "up so you would want to query the claim template to figure out what clean got",
    "start": "1377409",
    "end": "1384580"
  },
  {
    "text": "created for you by this claim template and then apply a resize onto it so yeah",
    "start": "1384580",
    "end": "1391450"
  },
  {
    "text": "a bit of technicality but that was again something that tripped us up and we had",
    "start": "1391450",
    "end": "1397390"
  },
  {
    "text": "to do that finally there's multi-zone challenges that that were faced so for",
    "start": "1397390",
    "end": "1403210"
  },
  {
    "text": "example so if you're running in two different availability zones and let's",
    "start": "1403210",
    "end": "1410919"
  },
  {
    "text": "say let's say the par died and the pod got rescheduled to the second zone then",
    "start": "1410919",
    "end": "1417100"
  },
  {
    "text": "you know but your volume is stuck in the first zone so now after at some point after we did",
    "start": "1417100",
    "end": "1424659"
  },
  {
    "text": "this migration so I think we have topology aware provisioning in",
    "start": "1424659",
    "end": "1431080"
  },
  {
    "text": "kubernetes last I checked that was still beta and",
    "start": "1431080",
    "end": "1436559"
  },
  {
    "text": "supported on the major public cloud providers so this might not be a problem",
    "start": "1436559",
    "end": "1443470"
  },
  {
    "text": "anymore but if you're running some kind of a zone set up in your data center",
    "start": "1443470",
    "end": "1449200"
  },
  {
    "text": "then you will likely face this problem so what we did to solve this was we",
    "start": "1449200",
    "end": "1455020"
  },
  {
    "text": "don't want this products to come back in a different zone when it does so when the pod dies kubernetes will try to read",
    "start": "1455020",
    "end": "1461800"
  },
  {
    "text": "automatically right so we we don't want it to come back in a different zone so you would want to use labels for your",
    "start": "1461800",
    "end": "1470030"
  },
  {
    "text": "zones and set up what is called no definite East right and then set up the node affinity for your part so that the",
    "start": "1470030",
    "end": "1478160"
  },
  {
    "text": "poured would always get rescheduled onto the same so where you have your volume",
    "start": "1478160",
    "end": "1485450"
  },
  {
    "text": "so we sold it with no affinity alright so moving on so you know we we had our",
    "start": "1485450",
    "end": "1492920"
  },
  {
    "text": "own low balancer and in kubernetes Thursday's so that they need a way to do that how do we configure rate and what",
    "start": "1492920",
    "end": "1499940"
  },
  {
    "text": "sort of abstraction does kubernetes provide let's talk a little bit about that so so in the pre kubernetes",
    "start": "1499940",
    "end": "1507710"
  },
  {
    "start": "1503000",
    "end": "1503000"
  },
  {
    "text": "scenario we had consoles and you know",
    "start": "1507710",
    "end": "1513470"
  },
  {
    "text": "and and then we would have some code which would watch console and register",
    "start": "1513470",
    "end": "1519950"
  },
  {
    "text": "all the nodes into the load balancer in kubernetes you will use something like",
    "start": "1519950",
    "end": "1526040"
  },
  {
    "text": "an English controller right so so the",
    "start": "1526040",
    "end": "1531080"
  },
  {
    "text": "ingress controller web sort of control the whole of the way work and then you",
    "start": "1531080",
    "end": "1536690"
  },
  {
    "text": "have ingresses which is basically a set of rules and these rules specify what",
    "start": "1536690",
    "end": "1544700"
  },
  {
    "text": "context path should go to which service so if you get traffic for a specific",
    "start": "1544700",
    "end": "1550850"
  },
  {
    "text": "context part like slash login then it should go to the login service so this",
    "start": "1550850",
    "end": "1556070"
  },
  {
    "text": "sort of here is in plain English but obviously you need to write the animal for it so you would want to do this and",
    "start": "1556070",
    "end": "1564320"
  },
  {
    "text": "then you will create an ingress and deploy that ingress into kubernetes and",
    "start": "1564320",
    "end": "1570110"
  },
  {
    "text": "then your ingress controller is watching for mewing grasses that you submit and then those particular rules would then",
    "start": "1570110",
    "end": "1578330"
  },
  {
    "text": "get activated so again this is you know to burn any stuff a couple of things",
    "start": "1578330",
    "end": "1583880"
  },
  {
    "text": "that we did so initially we aggregated all of our context pots pointing to",
    "start": "1583880",
    "end": "1590480"
  },
  {
    "text": "different services in a single ingress so you multiple roles multiple rules and so we",
    "start": "1590480",
    "end": "1596360"
  },
  {
    "text": "would we created a single ingress and then the English controller would pick up that ingress and apply all the routes",
    "start": "1596360",
    "end": "1601510"
  },
  {
    "text": "basically men all the context parts one of the problems with that is that you",
    "start": "1601510",
    "end": "1607340"
  },
  {
    "text": "can you know the you can only set a single set of timeouts or things like",
    "start": "1607340",
    "end": "1613040"
  },
  {
    "text": "headers and so on for all of it so things like you know headers or timeouts",
    "start": "1613040",
    "end": "1620270"
  },
  {
    "text": "would be set at the controller level per ingress so if you have all the route all",
    "start": "1620270",
    "end": "1626180"
  },
  {
    "text": "the rules or all the context spots in a single ingress then all of them would get the same configurations of you know",
    "start": "1626180",
    "end": "1635030"
  },
  {
    "text": "size limits or timeouts and stuff so what you want to be able to do is then",
    "start": "1635030",
    "end": "1640520"
  },
  {
    "text": "you actually want to create a different ingress itself for each of your services",
    "start": "1640520",
    "end": "1647110"
  },
  {
    "text": "so that was one interesting thing we went through and then the other thing is",
    "start": "1647110",
    "end": "1654770"
  },
  {
    "text": "you would want to do SSL configuration for for some of the ingress or some of",
    "start": "1654770",
    "end": "1660290"
  },
  {
    "text": "the hosts that you have and that you will need to create a kubernetes secret",
    "start": "1660290",
    "end": "1666740"
  },
  {
    "text": "which is the secret store in kubernetes right and and then you would push your",
    "start": "1666740",
    "end": "1672710"
  },
  {
    "text": "certificate chains and stuff like that into the secret and then refer that",
    "start": "1672710",
    "end": "1678520"
  },
  {
    "text": "inside your ingress rule so you know then again we spent a fair bit of time",
    "start": "1678520",
    "end": "1683660"
  },
  {
    "text": "trying to get that right some were considerations about ingress so the",
    "start": "1683660",
    "end": "1691160"
  },
  {
    "start": "1687000",
    "end": "1687000"
  },
  {
    "text": "context path routing and a couple of things around it like setting up",
    "start": "1691160",
    "end": "1697010"
  },
  {
    "text": "different host names for route etc so if you those context path related things are abstracted but a lot of other",
    "start": "1697010",
    "end": "1705170"
  },
  {
    "text": "configurations are provider specific so one thing I a missed to mention which",
    "start": "1705170",
    "end": "1712400"
  },
  {
    "text": "was on the earlier slide was that ingress controllers are they are not",
    "start": "1712400",
    "end": "1720260"
  },
  {
    "text": "native in the sense that ingress controllers you have different types of injuries controllers",
    "start": "1720260",
    "end": "1726380"
  },
  {
    "text": "so you've got different providers for example you have an engine X ingress controller or a traffic English",
    "start": "1726380",
    "end": "1732710"
  },
  {
    "text": "controller and so on right and so whatever configuration goes into the",
    "start": "1732710",
    "end": "1738530"
  },
  {
    "text": "ingress controller is sort of provider specific so like for example if you use",
    "start": "1738530",
    "end": "1744770"
  },
  {
    "text": "an engine X ingress controller then you would need to use config maps and ingress annotations to configure it if",
    "start": "1744770",
    "end": "1752510"
  },
  {
    "text": "you used maybe a traffic unless controller you might use service",
    "start": "1752510",
    "end": "1757610"
  },
  {
    "text": "annotations to configure etcetera so things like that so every ingress",
    "start": "1757610",
    "end": "1763130"
  },
  {
    "text": "controller type has provider specific configurations and that's I guess it's",
    "start": "1763130",
    "end": "1770180"
  },
  {
    "text": "just the way it is and it's probably evolving and that's something we have to",
    "start": "1770180",
    "end": "1775370"
  },
  {
    "text": "deal with and again another thing was that the reg X that is supported that you put into an English is a little",
    "start": "1775370",
    "end": "1781460"
  },
  {
    "text": "different from the one that is directly supported by some of the providers like",
    "start": "1781460",
    "end": "1787130"
  },
  {
    "text": "nginx etc and one thing to definitely",
    "start": "1787130",
    "end": "1792440"
  },
  {
    "text": "definitely do is you want to set your ingress controller to watch out for ingress only within relevant namespaces",
    "start": "1792440",
    "end": "1800540"
  },
  {
    "text": "so let's say you've got a staging namespace and a production namespace alright and you have a an ingress",
    "start": "1800540",
    "end": "1806570"
  },
  {
    "text": "controller that's you want to restrict to watch staging namespace for aggresses you don't want a production ingress to",
    "start": "1806570",
    "end": "1813680"
  },
  {
    "text": "be grabbed by that stadium rest controller so that that's that's one",
    "start": "1813680",
    "end": "1822650"
  },
  {
    "text": "thing to do I guess that's one also one way of using namespaces in kubernetes is to do different environments in each",
    "start": "1822650",
    "end": "1830840"
  },
  {
    "text": "namespace that's how we did it moving on so you've got configuration properties",
    "start": "1830840",
    "end": "1837740"
  },
  {
    "text": "right and and templates so there's contact maps in kubernetes how did we do",
    "start": "1837740",
    "end": "1845450"
  },
  {
    "start": "1844000",
    "end": "1844000"
  },
  {
    "text": "configuration earlier so you would have application code which would get deployed along with the configuration",
    "start": "1845450",
    "end": "1851770"
  },
  {
    "text": "either a file or some an environment property and the application would read it from there in",
    "start": "1851770",
    "end": "1857240"
  },
  {
    "text": "kubernetes so basically the application is getting packaged into your container",
    "start": "1857240",
    "end": "1862970"
  },
  {
    "text": "and the props are going separately into the context or in kubernetes and then",
    "start": "1862970",
    "end": "1869720"
  },
  {
    "text": "you can configure that to get injected as an environment variable or get",
    "start": "1869720",
    "end": "1874790"
  },
  {
    "text": "mounted as a file inside your pod right and so that the application can then",
    "start": "1874790",
    "end": "1880190"
  },
  {
    "text": "continue to read it the way it used to read it before some things to be aware",
    "start": "1880190",
    "end": "1885860"
  },
  {
    "text": "of so since you're going to be deploying these properties are changing the values in your config map independent",
    "start": "1885860",
    "end": "1891890"
  },
  {
    "text": "potentially independent of your image changes you would want to make sure that",
    "start": "1891890",
    "end": "1898010"
  },
  {
    "text": "you'll revise those config Maps in some way you maintain revisions by yourself",
    "start": "1898010",
    "end": "1903050"
  },
  {
    "text": "somewhere either you get with some tagging or some other mechanism to know",
    "start": "1903050",
    "end": "1908330"
  },
  {
    "text": "when what value was deployed so that if you ever want to roll back some of those configurations value changes you'll be",
    "start": "1908330",
    "end": "1915050"
  },
  {
    "text": "able to do that another important thing is so if you're using environment variables for properties and you change",
    "start": "1915050",
    "end": "1921020"
  },
  {
    "text": "a value in a context map then those changes won't reflect until you restart your pod that problem won't exist if",
    "start": "1921020",
    "end": "1930020"
  },
  {
    "text": "you're using it as a file so those are two important things now you have",
    "start": "1930020",
    "end": "1935030"
  },
  {
    "start": "1932000",
    "end": "1932000"
  },
  {
    "text": "different configurations for different environments so I have staging and production etc and ham charts as many of",
    "start": "1935030",
    "end": "1943250"
  },
  {
    "text": "you would be familiar provide a way to to sort of have different configuration",
    "start": "1943250",
    "end": "1950690"
  },
  {
    "text": "properties without having to you know write a different set of Yama's itself for every environment which you don't",
    "start": "1950690",
    "end": "1957290"
  },
  {
    "text": "want to do right so you create a single set of the animals for your service and you know sort of with like placeholders",
    "start": "1957290",
    "end": "1964340"
  },
  {
    "text": "and then helm users go completing so in",
    "start": "1964340",
    "end": "1969800"
  },
  {
    "text": "order to understand a health card you need to understand the yellows and go templating one of the things with them",
    "start": "1969800",
    "end": "1977810"
  },
  {
    "text": "is sometimes debugging can be hard because you don't know the problem is in",
    "start": "1977810",
    "end": "1983150"
  },
  {
    "text": "the health part or you know or in the application or the configuration that that you've written",
    "start": "1983150",
    "end": "1989190"
  },
  {
    "text": "right and the helm chart author is somebody else and if it's third-party it's all the more challenging unless you",
    "start": "1989190",
    "end": "1996059"
  },
  {
    "text": "understand the chart well the other thing we found with home charts is that",
    "start": "1996059",
    "end": "2001100"
  },
  {
    "text": "it provides a very nice way to group all the ammos of a particular service or an",
    "start": "2001100",
    "end": "2006139"
  },
  {
    "text": "application so for example for a given service you might write six or seven",
    "start": "2006139",
    "end": "2011769"
  },
  {
    "text": "different llamo files and that sort of gets grouped nicely without having",
    "start": "2011769",
    "end": "2017869"
  },
  {
    "text": "charged but once you deploy this then that grouping is lost and you know sort of becomes like just scattered and",
    "start": "2017869",
    "end": "2024230"
  },
  {
    "text": "independent resources inside kubernetes we found the charts to be useful for a",
    "start": "2024230",
    "end": "2030710"
  },
  {
    "text": "lot of off-the-shelf services and less for the kind of custom services that we had in that particular application all",
    "start": "2030710",
    "end": "2040009"
  },
  {
    "text": "right so the fifth thing I want to cover is the manifest themselves the llamo files very important to know what goes",
    "start": "2040009",
    "end": "2047629"
  },
  {
    "text": "into the docker file and what goes into the Animas so for example you might have ports in your docker file but you know",
    "start": "2047629",
    "end": "2054319"
  },
  {
    "text": "that's not going to make any difference that won't get honored and last you put those ports in your kubernetes llamo so",
    "start": "2054319",
    "end": "2063079"
  },
  {
    "text": "things like that so you need to know what goes where especially if you're coming from the container world then",
    "start": "2063079",
    "end": "2069138"
  },
  {
    "text": "that becomes important it's also important to know what type of kubernetes configurations go into which",
    "start": "2069139",
    "end": "2077179"
  },
  {
    "text": "kind of kubernetes resources so what what kind of things can you put inside a",
    "start": "2077179",
    "end": "2082220"
  },
  {
    "text": "stateful set versus a deployment versus a replica set versus a job and so on so",
    "start": "2082220",
    "end": "2089210"
  },
  {
    "text": "that's important and then everything everything that you would ever deploy",
    "start": "2089210",
    "end": "2094940"
  },
  {
    "text": "whether it's a property configuration and you know some sort of definition whatever it is all of it is now Yambol",
    "start": "2094940",
    "end": "2102140"
  },
  {
    "text": "so it's very important to understand kubernetes terminologies and concepts",
    "start": "2102140",
    "end": "2107540"
  },
  {
    "text": "which can get quite daunting very quickly and then also you need to bind",
    "start": "2107540",
    "end": "2113540"
  },
  {
    "text": "those things together so you've got all these six seven llamo and different resources configured",
    "start": "2113540",
    "end": "2119050"
  },
  {
    "text": "inside them and you would use labels to sort of bind all those different things",
    "start": "2119050",
    "end": "2124660"
  },
  {
    "text": "together to work correctly for a given service all right so some challenges",
    "start": "2124660",
    "end": "2132400"
  },
  {
    "text": "with troubleshooting so typically in order to get logs so you would go figure",
    "start": "2132400",
    "end": "2137590"
  },
  {
    "text": "out your deployment get the pods of that deployment then get the containers in",
    "start": "2137590",
    "end": "2142750"
  },
  {
    "text": "the pod and then go get the logs of each of those containers and do that for all the replicas that you have so something",
    "start": "2142750",
    "end": "2151450"
  },
  {
    "text": "get the gets really tedious and difficult at some point so you definitely want to consider log",
    "start": "2151450",
    "end": "2157840"
  },
  {
    "text": "aggregation you would well you know want to use citecar agents to collect the",
    "start": "2157840",
    "end": "2163600"
  },
  {
    "text": "logs and send it off somewhere it's a very important thing we struggled",
    "start": "2163600",
    "end": "2169030"
  },
  {
    "text": "initially with this and then immediately went into log aggregation with sidecars",
    "start": "2169030",
    "end": "2174610"
  },
  {
    "text": "sometimes there's sort of a temptation to get into the pod so it's sort of like",
    "start": "2174610",
    "end": "2180190"
  },
  {
    "text": "doing an ssh into the pod maybe maybe if you want to check the process tree",
    "start": "2180190",
    "end": "2185620"
  },
  {
    "text": "that's running inside etc but this is something you would do very cautiously because you don't want to inadvertently",
    "start": "2185620",
    "end": "2191710"
  },
  {
    "text": "change something then you would lose immutability and and that will cause a",
    "start": "2191710",
    "end": "2198160"
  },
  {
    "text": "lot of yeah a lot of headache so yeah you know this was one place where we",
    "start": "2198160",
    "end": "2204640"
  },
  {
    "text": "started to consider observability tools and debugging agents and so on is",
    "start": "2204640",
    "end": "2211390"
  },
  {
    "text": "something hard to get away from and I guess also cultural and finally the",
    "start": "2211390",
    "end": "2217240"
  },
  {
    "text": "other challenge with troubleshooting was the kind of error messages that you get",
    "start": "2217240",
    "end": "2222550"
  },
  {
    "text": "can be quite cryptic these are definitely messages that typically a",
    "start": "2222550",
    "end": "2227980"
  },
  {
    "text": "devops skilled person or a develop difficult application developer would",
    "start": "2227980",
    "end": "2233410"
  },
  {
    "text": "not understand right so you know what do you do with errors like that and what",
    "start": "2233410",
    "end": "2239320"
  },
  {
    "text": "does it mean how do you then debug it etc so those were some of the challenges we",
    "start": "2239320",
    "end": "2245110"
  },
  {
    "text": "faced so I'm going to take a step back and come back to a bird's-eye view so",
    "start": "2245110",
    "end": "2250660"
  },
  {
    "text": "with all of those kind of things that we dealt with to do the migration what did we find was that there are a lot of",
    "start": "2250660",
    "end": "2257500"
  },
  {
    "text": "complexities that we would require many people in the team to understand and that definitely is time-consuming",
    "start": "2257500",
    "end": "2263740"
  },
  {
    "text": "there's a lot of rapidly left foot because we had to create a lot of different yeah moles for different",
    "start": "2263740",
    "end": "2269950"
  },
  {
    "text": "services and and again you know do that for other applications do subsequently",
    "start": "2269950",
    "end": "2277930"
  },
  {
    "text": "we started to migrate other applications and and you know we found similar",
    "start": "2277930",
    "end": "2282940"
  },
  {
    "text": "challenges in the first couple of migrations there's some friction because",
    "start": "2282940",
    "end": "2289240"
  },
  {
    "text": "you know everybody is working off the same set of Yama's there are some inputs coming in from developers some inputs",
    "start": "2289240",
    "end": "2296020"
  },
  {
    "text": "from DevOps and as we saw at the very beginning this is sort of like a process overlap that has happened and then the",
    "start": "2296020",
    "end": "2304360"
  },
  {
    "text": "debugging challenges would cause sort of delivery cycles to slow down we sought",
    "start": "2304360",
    "end": "2311800"
  },
  {
    "text": "to find some solutions towards all this to make the migrations easier so one of",
    "start": "2311800",
    "end": "2319330"
  },
  {
    "text": "the things we did was to create an abstraction over to an ad so that you know developers or application teams",
    "start": "2319330",
    "end": "2326890"
  },
  {
    "text": "could simply specify the needs of their service in terminologies that they already understand and wouldn't have to",
    "start": "2326890",
    "end": "2334570"
  },
  {
    "text": "learn something new and then automatically generate all the ammo files and the doctor files needed this",
    "start": "2334570",
    "end": "2341890"
  },
  {
    "text": "would provide a standard way of doing things and different teams different service teams wouldn't go away and start",
    "start": "2341890",
    "end": "2350290"
  },
  {
    "text": "reinventing the wheel in different ways and it would provide a I mean the goal",
    "start": "2350290",
    "end": "2356230"
  },
  {
    "text": "was to provide a self-service way for the teams to quickly deliver or deploy",
    "start": "2356230",
    "end": "2364110"
  },
  {
    "text": "so what is the abstraction that we created so you know there's terminologies that application teams",
    "start": "2364110",
    "end": "2370630"
  },
  {
    "text": "would intuitively understand right so people would be family",
    "start": "2370630",
    "end": "2375640"
  },
  {
    "text": "what is the volume on her health check report and things like that but in",
    "start": "2375640",
    "end": "2381280"
  },
  {
    "text": "kubernetes there's a whole lot of things to know obviously you know your service",
    "start": "2381280",
    "end": "2387520"
  },
  {
    "text": "or application may not need all of these things but it's important to figure out which of these things you should know",
    "start": "2387520",
    "end": "2392980"
  },
  {
    "text": "and how those different things fit together and hence we felt the need for",
    "start": "2392980",
    "end": "2398940"
  },
  {
    "text": "abstracting a lot of the stuff how do we do that so we started to create app centric",
    "start": "2398940",
    "end": "2405790"
  },
  {
    "text": "keywords I'll show you some examples in the next slide that are very easy for",
    "start": "2405790",
    "end": "2410890"
  },
  {
    "text": "teams to just put in or intuitive to understand when you read them and then",
    "start": "2410890",
    "end": "2415900"
  },
  {
    "text": "you know then start writing a tool that would then infer what needs to be done",
    "start": "2415900",
    "end": "2420910"
  },
  {
    "text": "so for example if you specify that your service needs a data part right a particular part to where it stores data",
    "start": "2420910",
    "end": "2428890"
  },
  {
    "text": "to be persisted then we would infer the tool would then look at that and infer",
    "start": "2428890",
    "end": "2434320"
  },
  {
    "text": "that it needs to generate a stateful set llamo a PVC template and so on and so",
    "start": "2434320",
    "end": "2442000"
  },
  {
    "text": "forth right and and then so all these things would be translated into",
    "start": "2442000",
    "end": "2447430"
  },
  {
    "text": "kubernetes speak which means translating all the relevant kinds and resources",
    "start": "2447430",
    "end": "2453130"
  },
  {
    "text": "bind them all correctly using the right labels and then also try and provide a",
    "start": "2453130",
    "end": "2459370"
  },
  {
    "text": "way to troubleshoot in in plain English I guess so",
    "start": "2459370",
    "end": "2464770"
  },
  {
    "start": "2463000",
    "end": "2463000"
  },
  {
    "text": "this is the kind of abstraction that we started to build from whatever we",
    "start": "2464770",
    "end": "2470680"
  },
  {
    "text": "learned through that migration and also other migrations so these are some sample snippets of what we called heads",
    "start": "2470680",
    "end": "2479470"
  },
  {
    "text": "back we made the schema for the spec heads back available on github and you",
    "start": "2479470",
    "end": "2485080"
  },
  {
    "text": "can check it out so if you want a volume for your service you pretty much just just say that something like that and",
    "start": "2485080",
    "end": "2492430"
  },
  {
    "text": "then then essentially let it create all the person's volume claims and staple",
    "start": "2492430",
    "end": "2497620"
  },
  {
    "text": "tests and so on let's say you want to set up auto scaling for your service so you we'll just say I need one man one for",
    "start": "2497620",
    "end": "2505859"
  },
  {
    "text": "max or whatever so something like this would generate the required kind of the animals and similarly for things like",
    "start": "2505859",
    "end": "2512010"
  },
  {
    "text": "health check which would generate a lightness check or readiness check and so on and so forth so stuff like that",
    "start": "2512010",
    "end": "2517980"
  },
  {
    "text": "you can check out more on the spec and so once you've got the spec essentially",
    "start": "2517980",
    "end": "2524040"
  },
  {
    "text": "you prepare a complete spec of all the things that your service needs which typically tends to be about 15 20 lines",
    "start": "2524040",
    "end": "2531950"
  },
  {
    "text": "for most services sometimes a little bit more and then you you know you invoke",
    "start": "2531950",
    "end": "2538680"
  },
  {
    "text": "the tools so we created a tool which would read the spec and do the right inference generate the docker file if",
    "start": "2538680",
    "end": "2545970"
  },
  {
    "text": "necessary journey a kubernetes manifest and then talk to the kubernetes api and",
    "start": "2545970",
    "end": "2552240"
  },
  {
    "text": "deploy and essentially you will get back a URL so a few months ago we decided to",
    "start": "2552240",
    "end": "2557780"
  },
  {
    "text": "make this available to the community and so we made that open source and it's",
    "start": "2557780",
    "end": "2564330"
  },
  {
    "text": "available again at that github URL that you see on the screen right now so so",
    "start": "2564330",
    "end": "2572130"
  },
  {
    "text": "yeah that's how we did the deployment and essentially we've started you know",
    "start": "2572130",
    "end": "2577700"
  },
  {
    "text": "building out the instruction for troubleshooting so if you get UQ ladies",
    "start": "2577700",
    "end": "2582839"
  },
  {
    "text": "you know returns in error message like crash do back then you know we try to",
    "start": "2582839",
    "end": "2589680"
  },
  {
    "text": "run through a flowchart inside the tool automatically and that would check",
    "start": "2589680",
    "end": "2594720"
  },
  {
    "text": "various things and then it would try and tell you where the problem might be so might tell you hey there's problems in",
    "start": "2594720",
    "end": "2600330"
  },
  {
    "text": "the start commands like your CMD or other stuff and or it'll tell you hey some of your health check is failing or",
    "start": "2600330",
    "end": "2606630"
  },
  {
    "text": "it's an incorrect health check and so on so we try to translate it and abstract out the complex or cryptic messages as",
    "start": "2606630",
    "end": "2615089"
  },
  {
    "text": "much as possible so we made a start towards this and this should be out in a day or two we have you know some of this",
    "start": "2615089",
    "end": "2622800"
  },
  {
    "text": "coming out so yeah I think through this whole talk you know we focused mostly on",
    "start": "2622800",
    "end": "2630420"
  },
  {
    "start": "2623000",
    "end": "2623000"
  },
  {
    "text": "the automation and the abstraction required which which is where a lot of the you",
    "start": "2630420",
    "end": "2636390"
  },
  {
    "text": "know because that's where you talk to kubernetes and there's a lot of complexity but obviously to complete the migration we also built sort of a you",
    "start": "2636390",
    "end": "2644760"
  },
  {
    "text": "know layer other than this right or on top of this automation which we do",
    "start": "2644760",
    "end": "2651750"
  },
  {
    "text": "things like integrate with your CI or Jenkins and then do container image",
    "start": "2651750",
    "end": "2656820"
  },
  {
    "text": "scanning other dedsec ops stuff do change tracking and all of that but again those are things you would do",
    "start": "2656820",
    "end": "2663500"
  },
  {
    "text": "anyhow and not very kubernetes specific so mostly we've covered is but just for",
    "start": "2663500",
    "end": "2670710"
  },
  {
    "text": "sake of completeness we also I just want to mention we also built sort of a the",
    "start": "2670710",
    "end": "2676950"
  },
  {
    "text": "whole CI TB and the pipeline stuff separately for the sake of that",
    "start": "2676950",
    "end": "2682050"
  },
  {
    "text": "migration so some of our observations",
    "start": "2682050",
    "end": "2688310"
  },
  {
    "start": "2683000",
    "end": "2683000"
  },
  {
    "text": "especially after we employed some of the solutions that we built you know in some",
    "start": "2688310",
    "end": "2695100"
  },
  {
    "text": "of the abstractions etc so there are some some things which we were kind of able to measure like you know to be save",
    "start": "2695100",
    "end": "2701820"
  },
  {
    "text": "on some of the effort or something you know like we saved a lot of like it's",
    "start": "2701820",
    "end": "2707040"
  },
  {
    "text": "hard to measure but a lot of lines of the animals for example and definitely update times went down between the VM",
    "start": "2707040",
    "end": "2712890"
  },
  {
    "text": "world and the kubernetes so there were some things which we could kind of",
    "start": "2712890",
    "end": "2718500"
  },
  {
    "text": "measure and then there were some soft findings like for example you know the the learning curve went really low so we",
    "start": "2718500",
    "end": "2725130"
  },
  {
    "text": "would be able to bring somebody new onto the team and they would be able to very easily deal with deployments in a very",
    "start": "2725130",
    "end": "2731790"
  },
  {
    "text": "short span of time things like that so that's pretty much",
    "start": "2731790",
    "end": "2737240"
  },
  {
    "text": "pretty much it about our experience we",
    "start": "2737240",
    "end": "2742920"
  },
  {
    "text": "would like to invite you to try high-scale if you like what you see please start us on github and you can",
    "start": "2742920",
    "end": "2750330"
  },
  {
    "text": "reach out to us at any time for any sort of queries or even ideas twitter is",
    "start": "2750330",
    "end": "2759599"
  },
  {
    "text": "or if you would want to do email there's an email ID at this point I would like",
    "start": "2759599",
    "end": "2768029"
  },
  {
    "text": "to invite you all to take its short pull",
    "start": "2768029",
    "end": "2774569"
  },
  {
    "text": "a couple of questions just three questions it would take a minute or so",
    "start": "2774569",
    "end": "2780869"
  },
  {
    "text": "this will help us understand better the needs of the community and continue to",
    "start": "2780869",
    "end": "2787259"
  },
  {
    "text": "build out the tool and evolve the heads back so please do take a minute or two",
    "start": "2787259",
    "end": "2793979"
  },
  {
    "text": "to do the poll and yeah and then we can we can do some Q&A if there are any",
    "start": "2793979",
    "end": "2801660"
  },
  {
    "text": "questions sure thank you very much for the wonderful presentation today so",
    "start": "2801660",
    "end": "2808489"
  },
  {
    "text": "there is a question in the Q&A but I think it's like a broader question that",
    "start": "2808489",
    "end": "2814019"
  },
  {
    "text": "we could probably both help answer to an extent question is with pod process",
    "start": "2814019",
    "end": "2820739"
  },
  {
    "text": "namespace sharing that's new and gates 1.17 is it possible to decouple tightly",
    "start": "2820739",
    "end": "2829140"
  },
  {
    "text": "coupled legacy apps communicate through IPC named pipe shared memory so forth",
    "start": "2829140",
    "end": "2835410"
  },
  {
    "text": "and migrate as separate containers within a pod so do you want to take a",
    "start": "2835410",
    "end": "2844049"
  },
  {
    "text": "stab at that or do you want to talk about this together",
    "start": "2844049",
    "end": "2848749"
  },
  {
    "text": "so yeah Tamil this is that this is a very like kubernetes Pacific question but I can help you with it a little bit",
    "start": "2856609",
    "end": "2863519"
  },
  {
    "text": "I don't run any multiple containers in the same pod it's fine alright like you can do that natively right out of box",
    "start": "2863519",
    "end": "2870209"
  },
  {
    "text": "now that's basically what sidecars are they're just another container in the",
    "start": "2870209",
    "end": "2875489"
  },
  {
    "text": "same pod sharing that same environment how you communicate within that pod is",
    "start": "2875489",
    "end": "2883229"
  },
  {
    "text": "entirely up to you at that point right like you've got the pod Network there everything's self-contained in that pod",
    "start": "2883229",
    "end": "2888269"
  },
  {
    "text": "so however you want to communicate is fine I'm not sure the question about names face sharing and memory sharing I'm not",
    "start": "2888269",
    "end": "2895560"
  },
  {
    "text": "I'm not sure where that comes in but feel free to contact me afterwards Chris",
    "start": "2895560",
    "end": "2903150"
  },
  {
    "text": "short on Twitter Chris at Chris short that is my email and we can talk about that further if you want another",
    "start": "2903150",
    "end": "2911370"
  },
  {
    "text": "question come in from a tool a assuming that you will be able to ingest existing",
    "start": "2911370",
    "end": "2917250"
  },
  {
    "text": "yellow files and create a CH spec for use with high scale question mark",
    "start": "2917250",
    "end": "2922770"
  },
  {
    "text": "what about pure Dockers form deployments would you be able to convert to Kate's environment constructs Thanks yeah so",
    "start": "2922770",
    "end": "2933330"
  },
  {
    "text": "how is take somebody from dr. swarm over to high scale basically is the question",
    "start": "2933330",
    "end": "2938510"
  },
  {
    "text": "yeah and also about the ingestion so at this point of time so we since we",
    "start": "2938510",
    "end": "2945960"
  },
  {
    "text": "started to build this abstraction mainly to help with you know to help with moving our clothes into kubernetes",
    "start": "2945960",
    "end": "2954330"
  },
  {
    "text": "so you know it started off with the assumption that there is no kubernetes GMOs existing right because that's",
    "start": "2954330",
    "end": "2961350"
  },
  {
    "text": "that's how it won't but this is something that that has come up before word to us and you know we're certainly",
    "start": "2961350",
    "end": "2967970"
  },
  {
    "text": "going to consider it if you if you guys think that you know it'll be cool to take your existing animals and then",
    "start": "2967970",
    "end": "2974900"
  },
  {
    "text": "provide it back automatically that can be built and no that's great feedback we",
    "start": "2974900",
    "end": "2983490"
  },
  {
    "text": "don't have that right now but we can then make it possible for you to just simply use the aspect and then continue",
    "start": "2983490",
    "end": "2989160"
  },
  {
    "text": "deployments with the head spec and let it manage the Yama's and the life cycles whatever yamo changes need to happen and about",
    "start": "2989160",
    "end": "2999810"
  },
  {
    "text": "docker swarm yeah so again there's no conversion back right there for kubernetes families or for dog or swarm",
    "start": "2999810",
    "end": "3006890"
  },
  {
    "text": "but it's fairly simpler to come come away from docker swarm because a lot of the sort of the constructs of the",
    "start": "3006890",
    "end": "3014180"
  },
  {
    "text": "directive you be intuitively familiar with so it's not",
    "start": "3014180",
    "end": "3020010"
  },
  {
    "text": "a huge amount of effort to do that change I'd be happy to talk a little",
    "start": "3020010",
    "end": "3025830"
  },
  {
    "text": "more on that feel free to reach out on the email id yeah I'm going going from",
    "start": "3025830",
    "end": "3035190"
  },
  {
    "text": "docker swarm mammals to kubernetes animal is possible there's tool set out",
    "start": "3035190",
    "end": "3040440"
  },
  {
    "text": "there I've used them but if your swarm configuration is very very like you know",
    "start": "3040440",
    "end": "3046140"
  },
  {
    "text": "long or except you know like very has a lot of configuration options that are very docker specific there might be ya",
    "start": "3046140",
    "end": "3052410"
  },
  {
    "text": "might have to do your own mucking around but there's a way to go from swarm to kate's but then injesting from Kate's",
    "start": "3052410",
    "end": "3060170"
  },
  {
    "text": "into high scale like that is the interesting point yeah that's pretty",
    "start": "3060170",
    "end": "3067020"
  },
  {
    "text": "interesting I mean this is comically once or twice but it has come up before but we would definitely love to see you",
    "start": "3067020",
    "end": "3074670"
  },
  {
    "text": "know folks would wanna use my skill in head spec you know even though they're",
    "start": "3074670",
    "end": "3081030"
  },
  {
    "text": "already in kubernetes because you know it may be simplifies for their deployments or for their changes to your",
    "start": "3081030",
    "end": "3087630"
  },
  {
    "text": "application then it would make sense to ingest those caves the animals and give",
    "start": "3087630",
    "end": "3095370"
  },
  {
    "text": "you back the head like so we'll certainly consider that awesome there",
    "start": "3095370",
    "end": "3105420"
  },
  {
    "text": "was a question about the license I went ahead and looked that up and put that in the chat and the Q&A it's apache2 licensed for everybody they",
    "start": "3105420",
    "end": "3111630"
  },
  {
    "text": "didn't see it in text and I think that covers it any other questions from the",
    "start": "3111630",
    "end": "3119340"
  },
  {
    "text": "audience before we log off here feel free to drop them in chat Q&A box whatever works for you Oh",
    "start": "3119340",
    "end": "3124710"
  },
  {
    "text": "anonymous attendee what is the roadmap for high scale yeah there are some",
    "start": "3124710",
    "end": "3132720"
  },
  {
    "text": "things around creating additional specs",
    "start": "3132720",
    "end": "3138470"
  },
  {
    "text": "for things like jobs for example is something that we've been tasked and",
    "start": "3138470",
    "end": "3143550"
  },
  {
    "text": "again we're trying to refer to early new in in the community like I said it's just a",
    "start": "3143550",
    "end": "3149550"
  },
  {
    "text": "couple of months now and you know in between we had all the holidays in December so we'd certainly like to hear",
    "start": "3149550",
    "end": "3155820"
  },
  {
    "text": "more from you guys please feel free to put some issues on get up and we also",
    "start": "3155820",
    "end": "3161600"
  },
  {
    "text": "make some efforts to put up the roadmap on get up soon so that you can see what's coming up and yeah the other",
    "start": "3161600",
    "end": "3171210"
  },
  {
    "text": "thing we want to strengthen is the troubleshooting stuff right so definitely want to strengthen troubleshooting we find that incredibly",
    "start": "3171210",
    "end": "3177600"
  },
  {
    "text": "useful and we hope thank you as well - I know if I just may add here a little bit",
    "start": "3177600",
    "end": "3184410"
  },
  {
    "text": "on the roadmap you guys can hear me like yes yeah yes so so basically I know in",
    "start": "3184410",
    "end": "3191850"
  },
  {
    "text": "this journey of automating and making simply a whole journey to component is simpler what we are doing with high",
    "start": "3191850",
    "end": "3197940"
  },
  {
    "text": "scale is we started with the most popular workloads so basically our traditional web workloads and custom",
    "start": "3197940",
    "end": "3205560"
  },
  {
    "text": "application workloads we've now taken this journey to also other kinds of work lots of now we are looking at data",
    "start": "3205560",
    "end": "3210900"
  },
  {
    "text": "workloads we are looking at new form of cellulose and other kind of workload so not there's rapid so we are increasing",
    "start": "3210900",
    "end": "3219150"
  },
  {
    "text": "in the types of workloads that high scale can automate additionally as kubernetes is progressing in its a",
    "start": "3219150",
    "end": "3226920"
  },
  {
    "text": "journey we are almost in sort of line in in line with kubernetes so we make a lot",
    "start": "3226920",
    "end": "3233790"
  },
  {
    "text": "of improvements in high scale with the learnings that we have from kubernetes and there's two versions of high school",
    "start": "3233790",
    "end": "3242430"
  },
  {
    "text": "so there's the open-source version and there is an enterprise version so for folks who also want to are looking at",
    "start": "3242430",
    "end": "3247740"
  },
  {
    "text": "more - like not scale deployments there are a lot of capabilities in the enterprise version that we are adding",
    "start": "3247740",
    "end": "3253770"
  },
  {
    "text": "and on monitoring and on troubleshooting around just overall operational",
    "start": "3253770",
    "end": "3259290"
  },
  {
    "text": "simplicity of kubernetes deployment so all of that is getting is part of the",
    "start": "3259290",
    "end": "3264960"
  },
  {
    "text": "roadmap awesome alright we're running out of",
    "start": "3264960",
    "end": "3270720"
  },
  {
    "text": "time very quickly here but we have two more questions what was a typical migration process involve and what kind",
    "start": "3270720",
    "end": "3275849"
  },
  {
    "text": "of timelines are you looking at yeah I guess that really depends on the",
    "start": "3275849",
    "end": "3284520"
  },
  {
    "text": "application itself so usually what we do is that at the beginning of the migration we do an assessment of the",
    "start": "3284520",
    "end": "3292349"
  },
  {
    "text": "application itself even before we start so you know what kind of an application do you have is the type of services they",
    "start": "3292349",
    "end": "3300900"
  },
  {
    "text": "have legacy components and what kind of staple services include etc etcetera and",
    "start": "3300900",
    "end": "3307770"
  },
  {
    "text": "then you know typically one of the things that invariably comes up is you know hey is this good for kubernetes",
    "start": "3307770",
    "end": "3314040"
  },
  {
    "text": "right should we do kubernetes at all for this kind of an application so that",
    "start": "3314040",
    "end": "3319580"
  },
  {
    "text": "assessment usually helps us decide the time there are some really small things",
    "start": "3319580",
    "end": "3325830"
  },
  {
    "text": "that some teams have done like you know hey I have these three services and can",
    "start": "3325830",
    "end": "3330960"
  },
  {
    "text": "I just migrate it so that's you know in roughly it a week to two weeks they've",
    "start": "3330960",
    "end": "3335970"
  },
  {
    "text": "got these services running inside kubernetes because of you know hey I just write a head spec and deploy so",
    "start": "3335970",
    "end": "3342780"
  },
  {
    "text": "that's very simple but if you have a large application which is in production a large number of users and we'll go",
    "start": "3342780",
    "end": "3350010"
  },
  {
    "text": "through a much much bigger cycle and the first the big one that I talked about in",
    "start": "3350010",
    "end": "3355320"
  },
  {
    "text": "the beginning of their presentation today that took us several months",
    "start": "3355320",
    "end": "3362119"
  },
  {
    "text": "several months to do that migration just to give you an idea can i scale be",
    "start": "3362119",
    "end": "3369359"
  },
  {
    "text": "integrated with any abilities monitoring tools yeah great question so yeah we do abstract outside cards so you can attach",
    "start": "3369359",
    "end": "3377130"
  },
  {
    "text": "a an agent a monitoring agent or a logging agent in a very simple way using",
    "start": "3377130",
    "end": "3384270"
  },
  {
    "text": "the abstraction we have that's you can go check that out also on our gate",
    "start": "3384270",
    "end": "3390250"
  },
  {
    "text": "eh we also have a nice tutorial on high skilled IO which will help you and so if",
    "start": "3390250",
    "end": "3397150"
  },
  {
    "text": "you you want to do marketing using agents or sigh karst then yeah otherwise",
    "start": "3397150",
    "end": "3404770"
  },
  {
    "text": "if you're doing it separately like using let's say a daemon set in your notes then it's that separate from application",
    "start": "3404770",
    "end": "3412630"
  },
  {
    "text": "deployment that's how you would do it and and one interesting point here is if",
    "start": "3412630",
    "end": "3418480"
  },
  {
    "text": "you're doing side parts to high scale then so right now we're just deploying those as simple containers inside the",
    "start": "3418480",
    "end": "3425620"
  },
  {
    "text": "pot right but with 1.18 we're definitely going to take advantage of the flight card behind",
    "start": "3425620",
    "end": "3431680"
  },
  {
    "text": "and we hope that comes out it's supposed to come out in 17 but once that's out",
    "start": "3431680",
    "end": "3436870"
  },
  {
    "text": "then high-skill will automatically generate a fight card kind so you get a",
    "start": "3436870",
    "end": "3442390"
  },
  {
    "text": "like this kind of an advantage or like you can automatically take advantage of",
    "start": "3442390",
    "end": "3447670"
  },
  {
    "text": "new kubernetes features in that way so yeah that's pretty much on the side ok",
    "start": "3447670",
    "end": "3464170"
  },
  {
    "text": "well Chris had a drop sorry about that he had a conflicting meeting and so I'm gonna close this up I think some new for",
    "start": "3464170",
    "end": "3470200"
  },
  {
    "text": "a great presentation and thanks for",
    "start": "3470200",
    "end": "3475210"
  },
  {
    "text": "everyone joining us today I will really appreciate you coming along with us for this webinar the recording and slides",
    "start": "3475210",
    "end": "3481810"
  },
  {
    "text": "will be online later today at the CN CF webinar page and we're looking forward",
    "start": "3481810",
    "end": "3487240"
  },
  {
    "text": "to seeing you out of future stands not have a great day everybody thank you",
    "start": "3487240",
    "end": "3493930"
  },
  {
    "text": "everybody",
    "start": "3493930",
    "end": "3496020"
  }
]