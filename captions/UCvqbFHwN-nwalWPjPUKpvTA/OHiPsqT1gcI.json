[
  {
    "text": "hello can you guys hear me yep okay",
    "start": "410",
    "end": "4350"
  },
  {
    "text": "great everybody so we're going to talk",
    "start": "4350",
    "end": "8610"
  },
  {
    "text": "about spiffy inspired today a little bit",
    "start": "8610",
    "end": "11040"
  },
  {
    "text": "deeper dive into spire my name is Scott",
    "start": "11040",
    "end": "13889"
  },
  {
    "text": "Emmons and I work for Scytale my name is",
    "start": "13889",
    "end": "16830"
  },
  {
    "text": "Liliana Birnbaum and I also work for",
    "start": "16830",
    "end": "18810"
  },
  {
    "text": "Saito so today we're you know cutting to",
    "start": "18810",
    "end": "23760"
  },
  {
    "text": "cover a couple of things I mean the main",
    "start": "23760",
    "end": "26099"
  },
  {
    "text": "thing we're going to talk about is",
    "start": "26099",
    "end": "27300"
  },
  {
    "text": "deploying spire on kubernetes and",
    "start": "27300",
    "end": "30599"
  },
  {
    "text": "Scott's going to give a demo showing",
    "start": "30599",
    "end": "33630"
  },
  {
    "text": "that so you know during coop con we've",
    "start": "33630",
    "end": "37290"
  },
  {
    "text": "had we've had a couple of talks today",
    "start": "37290",
    "end": "39120"
  },
  {
    "text": "Evan and Sean Crampton had a really",
    "start": "39120",
    "end": "42300"
  },
  {
    "text": "great talk about zero trust the back and",
    "start": "42300",
    "end": "46649"
  },
  {
    "text": "forth can't you know chemistry was",
    "start": "46649",
    "end": "49320"
  },
  {
    "text": "amazing",
    "start": "49320",
    "end": "50700"
  },
  {
    "text": "and then tomorrow Evans also given a",
    "start": "50700",
    "end": "54149"
  },
  {
    "text": "talk on securing multi cloud across",
    "start": "54149",
    "end": "57210"
  },
  {
    "text": "clusters with spiffy inspire and then",
    "start": "57210",
    "end": "59699"
  },
  {
    "text": "we're we're finishing it off with Tyler",
    "start": "59699",
    "end": "62520"
  },
  {
    "text": "Julian and Dan Feldman talking about",
    "start": "62520",
    "end": "64939"
  },
  {
    "text": "uber security and how they're building",
    "start": "64939",
    "end": "67920"
  },
  {
    "text": "workload identity platform so since last",
    "start": "67920",
    "end": "73320"
  },
  {
    "text": "coop con what we've really done it is we",
    "start": "73320",
    "end": "76470"
  },
  {
    "text": "went back and concentrated on on getting",
    "start": "76470",
    "end": "78689"
  },
  {
    "text": "spire running on kubernetes",
    "start": "78689",
    "end": "80790"
  },
  {
    "text": "and that's what a lot of the work that",
    "start": "80790",
    "end": "82619"
  },
  {
    "text": "we've been doing for the last I would",
    "start": "82619",
    "end": "86310"
  },
  {
    "text": "say four months and some of the things",
    "start": "86310",
    "end": "90270"
  },
  {
    "text": "that we did is we created a SATA tester",
    "start": "90270",
    "end": "93180"
  },
  {
    "text": "so a SATA tester is using the service",
    "start": "93180",
    "end": "97500"
  },
  {
    "text": "account token from from kubernetes and",
    "start": "97500",
    "end": "100790"
  },
  {
    "text": "really it's for virgins of kubernetes",
    "start": "100790",
    "end": "103590"
  },
  {
    "text": "that don't support that don't have the",
    "start": "103590",
    "end": "107369"
  },
  {
    "text": "token volume projection and things like",
    "start": "107369",
    "end": "111600"
  },
  {
    "text": "eks or an older version of kubernetes",
    "start": "111600",
    "end": "116119"
  },
  {
    "text": "and with the SATA tester it gives you",
    "start": "116119",
    "end": "120390"
  },
  {
    "text": "the ability to to use the PKI in",
    "start": "120390",
    "end": "123180"
  },
  {
    "text": "kubernetes you don't have to write node",
    "start": "123180",
    "end": "125820"
  },
  {
    "text": "attestation policies that are relying on",
    "start": "125820",
    "end": "128310"
  },
  {
    "text": "the",
    "start": "128310",
    "end": "130410"
  },
  {
    "text": "the infrastructure that you're running",
    "start": "130410",
    "end": "133750"
  },
  {
    "text": "on for instance AWS security groups that",
    "start": "133750",
    "end": "137260"
  },
  {
    "text": "you could write a test search for that",
    "start": "137260",
    "end": "139500"
  },
  {
    "text": "and then the other thing we've done is",
    "start": "139500",
    "end": "141850"
  },
  {
    "text": "we actually created another a tester for",
    "start": "141850",
    "end": "144670"
  },
  {
    "text": "for peace at tokens and that's really",
    "start": "144670",
    "end": "148750"
  },
  {
    "text": "four versions of one 12 and higher and",
    "start": "148750",
    "end": "151920"
  },
  {
    "text": "peace at will give you the difference",
    "start": "151920",
    "end": "157090"
  },
  {
    "text": "between P sad and sad is that you get",
    "start": "157090",
    "end": "159150"
  },
  {
    "text": "you could rotate them you could expire",
    "start": "159150",
    "end": "161590"
  },
  {
    "text": "them and you also get some stronger",
    "start": "161590",
    "end": "163630"
  },
  {
    "text": "arbok controls around your tokens and",
    "start": "163630",
    "end": "166030"
  },
  {
    "text": "Scott will will demonstrate that and the",
    "start": "166030",
    "end": "172000"
  },
  {
    "text": "last thing we did is kubernetes bundle",
    "start": "172000",
    "end": "174250"
  },
  {
    "text": "notifier so the problem we were trying",
    "start": "174250",
    "end": "177400"
  },
  {
    "text": "to solve is how do we get the initial",
    "start": "177400",
    "end": "179380"
  },
  {
    "text": "bundle to to the agent when it tries to",
    "start": "179380",
    "end": "183190"
  },
  {
    "text": "do its bootstrap back to the spire",
    "start": "183190",
    "end": "186010"
  },
  {
    "text": "server so we actually had to create a",
    "start": "186010",
    "end": "188350"
  },
  {
    "text": "new class of a plugin for this and the",
    "start": "188350",
    "end": "193480"
  },
  {
    "text": "first one we did was for kubernetes",
    "start": "193480",
    "end": "195430"
  },
  {
    "text": "and it basically delivers the bundle two",
    "start": "195430",
    "end": "198660"
  },
  {
    "text": "to two the agent using the config map",
    "start": "198660",
    "end": "201790"
  },
  {
    "text": "and again Scott is gonna show that and",
    "start": "201790",
    "end": "204670"
  },
  {
    "text": "demonstrate that so that's really a lot",
    "start": "204670",
    "end": "206710"
  },
  {
    "text": "of the work that we've been doing now",
    "start": "206710",
    "end": "208000"
  },
  {
    "text": "for like like I said the last last",
    "start": "208000",
    "end": "211990"
  },
  {
    "text": "couple of months and all of this now is",
    "start": "211990",
    "end": "214450"
  },
  {
    "text": "in the last version of spire that we",
    "start": "214450",
    "end": "216070"
  },
  {
    "text": "released actually this week 0.8 so",
    "start": "216070",
    "end": "220330"
  },
  {
    "text": "another thing I want to talk about is",
    "start": "220330",
    "end": "223020"
  },
  {
    "text": "initio Citadel plugin that we've we have",
    "start": "223020",
    "end": "226600"
  },
  {
    "text": "right now and review it hasn't hasn't",
    "start": "226600",
    "end": "228880"
  },
  {
    "text": "been merged in but it's an experimental",
    "start": "228880",
    "end": "231810"
  },
  {
    "text": "CA module and what we really wanted to",
    "start": "231810",
    "end": "234340"
  },
  {
    "text": "do with with this do is have spire be a",
    "start": "234340",
    "end": "238510"
  },
  {
    "text": "CA plugin into Citadel so we what we're",
    "start": "238510",
    "end": "242740"
  },
  {
    "text": "trying to what we're showing is off mesh",
    "start": "242740",
    "end": "245530"
  },
  {
    "text": "expansion off of an SEO mesh so you",
    "start": "245530",
    "end": "248230"
  },
  {
    "text": "could have a workload in sto talked to a",
    "start": "248230",
    "end": "250450"
  },
  {
    "text": "workload outside of Ischia using spire",
    "start": "250450",
    "end": "253990"
  },
  {
    "text": "as a bridge for that so we're not gonna",
    "start": "253990",
    "end": "258579"
  },
  {
    "text": "do a demo of that but if anyone's",
    "start": "258580",
    "end": "260109"
  },
  {
    "text": "curious we definitely will share that",
    "start": "260109",
    "end": "263650"
  },
  {
    "text": "I hadn't put the URL for it but it's out",
    "start": "263650",
    "end": "266350"
  },
  {
    "text": "there so I'm gonna just go over how we",
    "start": "266350",
    "end": "269680"
  },
  {
    "text": "do this so what we're doing what we're",
    "start": "269680",
    "end": "273100"
  },
  {
    "text": "showing here is just initio deployment",
    "start": "273100",
    "end": "276820"
  },
  {
    "text": "with a with two workloads you have a",
    "start": "276820",
    "end": "279789"
  },
  {
    "text": "task application and a task API that you",
    "start": "279789",
    "end": "283330"
  },
  {
    "text": "want to talk to you and the tasks API is",
    "start": "283330",
    "end": "286330"
  },
  {
    "text": "is running outside of the ischial mesh",
    "start": "286330",
    "end": "288669"
  },
  {
    "text": "and what we do is we deploy a spire",
    "start": "288669",
    "end": "293080"
  },
  {
    "text": "server",
    "start": "293080",
    "end": "294340"
  },
  {
    "text": "inspired agent outside of that mesh and",
    "start": "294340",
    "end": "298020"
  },
  {
    "text": "we're using our spire see a client and",
    "start": "298020",
    "end": "301330"
  },
  {
    "text": "the ISTE Onoda tester right do two",
    "start": "301330",
    "end": "304570"
  },
  {
    "text": "pieces of code that we've written that",
    "start": "304570",
    "end": "306729"
  },
  {
    "text": "allows the issue node agent two to go",
    "start": "306729",
    "end": "309880"
  },
  {
    "text": "back and and get a s fit from the spire",
    "start": "309880",
    "end": "312669"
  },
  {
    "text": "server and there's a little setup that",
    "start": "312669",
    "end": "316720"
  },
  {
    "text": "we have to do first we have to get a",
    "start": "316720",
    "end": "320080"
  },
  {
    "text": "secret so we have to get a bearer token",
    "start": "320080",
    "end": "322000"
  },
  {
    "text": "out of the kubernetes api and and a",
    "start": "322000",
    "end": "324880"
  },
  {
    "text": "bundle to to basically go back and talk",
    "start": "324880",
    "end": "327940"
  },
  {
    "text": "to the token review api and again this",
    "start": "327940",
    "end": "331840"
  },
  {
    "text": "is our our experimental first shot at",
    "start": "331840",
    "end": "336099"
  },
  {
    "text": "this so what happens is that the envoy",
    "start": "336099",
    "end": "340690"
  },
  {
    "text": "tries to get his kiss s vid and I kind",
    "start": "340690",
    "end": "345550"
  },
  {
    "text": "of skipped over it but the the tasks API",
    "start": "345550",
    "end": "348699"
  },
  {
    "text": "is already attested to the spire agent",
    "start": "348699",
    "end": "352750"
  },
  {
    "text": "it's already gotten his identity and",
    "start": "352750",
    "end": "354250"
  },
  {
    "text": "that's been delivered to the Envoy",
    "start": "354250",
    "end": "356349"
  },
  {
    "text": "running in the in the docker container",
    "start": "356349",
    "end": "359820"
  },
  {
    "text": "so what uh what the spires basically the",
    "start": "359820",
    "end": "367090"
  },
  {
    "text": "this geo node agent will talk to the",
    "start": "367090",
    "end": "368919"
  },
  {
    "text": "spire C a plug-in client which will then",
    "start": "368919",
    "end": "372190"
  },
  {
    "text": "communicate back to the spire server",
    "start": "372190",
    "end": "374340"
  },
  {
    "text": "using our our node API so that's how we",
    "start": "374340",
    "end": "378400"
  },
  {
    "text": "could communicate back into the spire",
    "start": "378400",
    "end": "380289"
  },
  {
    "text": "server and send the CSR requests back to",
    "start": "380289",
    "end": "383949"
  },
  {
    "text": "spire and once we receive that spire",
    "start": "383949",
    "end": "387880"
  },
  {
    "text": "will use the the service account token",
    "start": "387880",
    "end": "392229"
  },
  {
    "text": "at the bundle that it received to",
    "start": "392229",
    "end": "393490"
  },
  {
    "text": "authenticate back to the token review",
    "start": "393490",
    "end": "395500"
  },
  {
    "text": "API",
    "start": "395500",
    "end": "397000"
  },
  {
    "text": "and then it'll present the token that",
    "start": "397000",
    "end": "399400"
  },
  {
    "text": "was delivered from the CA client if",
    "start": "399400",
    "end": "404949"
  },
  {
    "text": "that's verified and you know if that's",
    "start": "404949",
    "end": "407080"
  },
  {
    "text": "if that's a valid token then we will do",
    "start": "407080",
    "end": "409990"
  },
  {
    "text": "the CSR request and then we will deliver",
    "start": "409990",
    "end": "413650"
  },
  {
    "text": "the s feedback to the Envoy proxy inside",
    "start": "413650",
    "end": "416410"
  },
  {
    "text": "of the mesh and now you could talk the",
    "start": "416410",
    "end": "420880"
  },
  {
    "text": "task app could now talk to the tasks API",
    "start": "420880",
    "end": "423400"
  },
  {
    "text": "and again we you know we ran this",
    "start": "423400",
    "end": "427690"
  },
  {
    "text": "outside but you could easily run the",
    "start": "427690",
    "end": "429729"
  },
  {
    "text": "Speier server and all of that inside of",
    "start": "429729",
    "end": "432340"
  },
  {
    "text": "the mesh and just have a spire agent",
    "start": "432340",
    "end": "434680"
  },
  {
    "text": "outside of the mesh this is all running",
    "start": "434680",
    "end": "436840"
  },
  {
    "text": "as one trust domain and again this is a",
    "start": "436840",
    "end": "439229"
  },
  {
    "text": "experimental implementation that we did",
    "start": "439229",
    "end": "442570"
  },
  {
    "text": "and hopefully it will be merged soon so",
    "start": "442570",
    "end": "447610"
  },
  {
    "text": "now I'm gonna I'm gonna hand it off to",
    "start": "447610",
    "end": "448660"
  },
  {
    "text": "Scott Scott's gonna do a little more",
    "start": "448660",
    "end": "450960"
  },
  {
    "text": "deep dive on how do we deploy spire and",
    "start": "450960",
    "end": "454900"
  },
  {
    "text": "kubernetes all right here I'll just use",
    "start": "454900",
    "end": "458259"
  },
  {
    "text": "the keyboard yep all right so there's a",
    "start": "458259",
    "end": "461289"
  },
  {
    "text": "lot of considerations about deploying",
    "start": "461289",
    "end": "463510"
  },
  {
    "text": "spire on kubernetes a lot of decisions",
    "start": "463510",
    "end": "465580"
  },
  {
    "text": "to make so I'm just gonna out loan",
    "start": "465580",
    "end": "467860"
  },
  {
    "text": "outline just some of the things to think",
    "start": "467860",
    "end": "469900"
  },
  {
    "text": "about and some suggestions you'll find",
    "start": "469900",
    "end": "473500"
  },
  {
    "text": "that most of the time spire server is",
    "start": "473500",
    "end": "475479"
  },
  {
    "text": "going to be deployed as a stateful set",
    "start": "475479",
    "end": "477159"
  },
  {
    "text": "it that's not a requirement but it",
    "start": "477159",
    "end": "480820"
  },
  {
    "text": "really depends on what configuration you",
    "start": "480820",
    "end": "482710"
  },
  {
    "text": "have setup because fire is is pretty",
    "start": "482710",
    "end": "486310"
  },
  {
    "text": "adaptable and configurable for different",
    "start": "486310",
    "end": "488289"
  },
  {
    "text": "environments for kubernetes most likely",
    "start": "488289",
    "end": "492760"
  },
  {
    "text": "you're going to require a persistent",
    "start": "492760",
    "end": "494440"
  },
  {
    "text": "volume for the data dated or a volume",
    "start": "494440",
    "end": "496720"
  },
  {
    "text": "claim template in stateful set is a",
    "start": "496720",
    "end": "498909"
  },
  {
    "text": "really powerful way to let kubernetes",
    "start": "498909",
    "end": "501340"
  },
  {
    "text": "just sort of manage that volume so you",
    "start": "501340",
    "end": "503080"
  },
  {
    "text": "don't have to provision it separately I",
    "start": "503080",
    "end": "504760"
  },
  {
    "text": "know I'll go into a little bit more",
    "start": "504760",
    "end": "506409"
  },
  {
    "text": "detail on that in a production",
    "start": "506409",
    "end": "508810"
  },
  {
    "text": "environment spire server requires a",
    "start": "508810",
    "end": "510669"
  },
  {
    "text": "shared database currently Postgres in my",
    "start": "510669",
    "end": "512740"
  },
  {
    "text": "sequel are are supported and scaling out",
    "start": "512740",
    "end": "515830"
  },
  {
    "text": "spire services is really fairly easy you",
    "start": "515830",
    "end": "518979"
  },
  {
    "text": "just need some sort of load balancer or",
    "start": "518979",
    "end": "520900"
  },
  {
    "text": "round robin DNS maybe there'll be more",
    "start": "520900",
    "end": "523570"
  },
  {
    "text": "more ways to do this in the future but",
    "start": "523570",
    "end": "525880"
  },
  {
    "text": "those those do work today but one thing",
    "start": "525880",
    "end": "529150"
  },
  {
    "text": "you do need to be a",
    "start": "529150",
    "end": "530020"
  },
  {
    "text": "the certificate store is eventually",
    "start": "530020",
    "end": "532390"
  },
  {
    "text": "consistent it's not synchronous and what",
    "start": "532390",
    "end": "534430"
  },
  {
    "text": "that means is if you bring up a brand",
    "start": "534430",
    "end": "536080"
  },
  {
    "text": "new spire server that's completely new",
    "start": "536080",
    "end": "538330"
  },
  {
    "text": "that's not using a shared file from",
    "start": "538330",
    "end": "543010"
  },
  {
    "text": "previous or sorry sheriff volume from a",
    "start": "543010",
    "end": "545440"
  },
  {
    "text": "previous instance none of the agents are",
    "start": "545440",
    "end": "548290"
  },
  {
    "text": "going to know about that server it's not",
    "start": "548290",
    "end": "549640"
  },
  {
    "text": "going to trust the bundle so it takes",
    "start": "549640",
    "end": "551320"
  },
  {
    "text": "some time for that bundle to get",
    "start": "551320",
    "end": "552970"
  },
  {
    "text": "propagated to the existing agents so",
    "start": "552970",
    "end": "555190"
  },
  {
    "text": "that they can trust it and so because of",
    "start": "555190",
    "end": "557410"
  },
  {
    "text": "that you just need to make sure that you",
    "start": "557410",
    "end": "559030"
  },
  {
    "text": "deploy servers and rule them out and I",
    "start": "559030",
    "end": "561370"
  },
  {
    "text": "in a kind of slow inconsistent manner",
    "start": "561370",
    "end": "563170"
  },
  {
    "text": "because you don't want to strand your",
    "start": "563170",
    "end": "564970"
  },
  {
    "text": "your agents for deploying the agent",
    "start": "564970",
    "end": "568450"
  },
  {
    "text": "that's a little bit more rigid it's",
    "start": "568450",
    "end": "570760"
  },
  {
    "text": "always going to be a daemon set in",
    "start": "570760",
    "end": "572470"
  },
  {
    "text": "kubernetes it may require local storage",
    "start": "572470",
    "end": "575380"
  },
  {
    "text": "for the data Durr",
    "start": "575380",
    "end": "576910"
  },
  {
    "text": "that depends really on the a tester",
    "start": "576910",
    "end": "579280"
  },
  {
    "text": "that's in use and I'm gonna go into a",
    "start": "579280",
    "end": "580600"
  },
  {
    "text": "little bit more detail on that shortly",
    "start": "580600",
    "end": "582130"
  },
  {
    "text": "and then finally we need to expose the",
    "start": "582130",
    "end": "585100"
  },
  {
    "text": "agent workload API UNIX domain socket",
    "start": "585100",
    "end": "587710"
  },
  {
    "text": "mouthful into the workload and this is",
    "start": "587710",
    "end": "592510"
  },
  {
    "text": "it's it's not tricky but there are",
    "start": "592510",
    "end": "595030"
  },
  {
    "text": "things a couple things you want to know",
    "start": "595030",
    "end": "596500"
  },
  {
    "text": "about first of all make sure that you",
    "start": "596500",
    "end": "598840"
  },
  {
    "text": "are exposing in the directory not just",
    "start": "598840",
    "end": "601210"
  },
  {
    "text": "the socket file because otherwise what",
    "start": "601210",
    "end": "603220"
  },
  {
    "text": "happens is if the agent crashes and",
    "start": "603220",
    "end": "605530"
  },
  {
    "text": "restarts you're going to strand all of",
    "start": "605530",
    "end": "607450"
  },
  {
    "text": "your workloads on that node because it's",
    "start": "607450",
    "end": "609070"
  },
  {
    "text": "not the same file anymore so this is",
    "start": "609070",
    "end": "612670"
  },
  {
    "text": "kind of what the configuration looks",
    "start": "612670",
    "end": "614020"
  },
  {
    "text": "like for that on the spire agent we have",
    "start": "614020",
    "end": "617200"
  },
  {
    "text": "a volume mount with read only false",
    "start": "617200",
    "end": "619330"
  },
  {
    "text": "because we want the agent to be able to",
    "start": "619330",
    "end": "620920"
  },
  {
    "text": "create that socket and for the type we",
    "start": "620920",
    "end": "623530"
  },
  {
    "text": "set it to directory or create so that if",
    "start": "623530",
    "end": "625780"
  },
  {
    "text": "that directory doesn't already exist it",
    "start": "625780",
    "end": "628150"
  },
  {
    "text": "will be it will be created as a as a",
    "start": "628150",
    "end": "630670"
  },
  {
    "text": "host path for each of the workloads this",
    "start": "630670",
    "end": "634870"
  },
  {
    "text": "looks exactly the same except for two",
    "start": "634870",
    "end": "637210"
  },
  {
    "text": "things we've flipped read-only to true",
    "start": "637210",
    "end": "639460"
  },
  {
    "text": "and type two directory so we don't want",
    "start": "639460",
    "end": "641890"
  },
  {
    "text": "to work load to be able to create any",
    "start": "641890",
    "end": "643300"
  },
  {
    "text": "files in that and we don't want the",
    "start": "643300",
    "end": "645070"
  },
  {
    "text": "workload to be able to create the",
    "start": "645070",
    "end": "646570"
  },
  {
    "text": "directory right because you wouldn't",
    "start": "646570",
    "end": "648220"
  },
  {
    "text": "want a rogue workload masquerading as",
    "start": "648220",
    "end": "651040"
  },
  {
    "text": "the spire agent and don't worry even",
    "start": "651040",
    "end": "653650"
  },
  {
    "text": "though it's read-only is true the",
    "start": "653650",
    "end": "655330"
  },
  {
    "text": "workloads can't connect to that UNIX",
    "start": "655330",
    "end": "656980"
  },
  {
    "text": "domain socket and and write to it",
    "start": "656980",
    "end": "660250"
  },
  {
    "text": "so I mentioned no data to attestation",
    "start": "660250",
    "end": "663590"
  },
  {
    "text": "and kind of how that affects potential",
    "start": "663590",
    "end": "667070"
  },
  {
    "text": "persistence of the data der so there are",
    "start": "667070",
    "end": "669470"
  },
  {
    "text": "several different noted testers that you",
    "start": "669470",
    "end": "671060"
  },
  {
    "text": "can use we have the ones that Emiliano",
    "start": "671060",
    "end": "673250"
  },
  {
    "text": "mentioned there that are specific to",
    "start": "673250",
    "end": "675320"
  },
  {
    "text": "kubernetes the service account token and",
    "start": "675320",
    "end": "677420"
  },
  {
    "text": "projected service account token but even",
    "start": "677420",
    "end": "680360"
  },
  {
    "text": "though you're running in kubernetes it",
    "start": "680360",
    "end": "681560"
  },
  {
    "text": "doesn't mean you can't necessarily use",
    "start": "681560",
    "end": "684260"
  },
  {
    "text": "the cloud provider of testers if you're",
    "start": "684260",
    "end": "686600"
  },
  {
    "text": "running a managed kubernetes you're",
    "start": "686600",
    "end": "688070"
  },
  {
    "text": "going to be your hands are going to be",
    "start": "688070",
    "end": "689150"
  },
  {
    "text": "tied a little bit more if you're just",
    "start": "689150",
    "end": "690950"
  },
  {
    "text": "running on your own instances there",
    "start": "690950",
    "end": "693050"
  },
  {
    "text": "isn't generally nothing that prevents",
    "start": "693050",
    "end": "694700"
  },
  {
    "text": "you from using the cloud provider",
    "start": "694700",
    "end": "696800"
  },
  {
    "text": "specific testers but one thing you need",
    "start": "696800",
    "end": "701180"
  },
  {
    "text": "to be aware of is you probably are going",
    "start": "701180",
    "end": "703010"
  },
  {
    "text": "to need a local data Durr and buy local",
    "start": "703010",
    "end": "705590"
  },
  {
    "text": "data doreen local to the node right so a",
    "start": "705590",
    "end": "707840"
  },
  {
    "text": "host path type of type of storage and",
    "start": "707840",
    "end": "711080"
  },
  {
    "text": "the reason for that is that the cloud",
    "start": "711080",
    "end": "713840"
  },
  {
    "text": "provider our testers once an agent has",
    "start": "713840",
    "end": "716000"
  },
  {
    "text": "attested you can never attest again as",
    "start": "716000",
    "end": "718490"
  },
  {
    "text": "that agent you need some persistent",
    "start": "718490",
    "end": "720380"
  },
  {
    "text": "state and the reason for that if you",
    "start": "720380",
    "end": "722690"
  },
  {
    "text": "think about how an identity document",
    "start": "722690",
    "end": "724550"
  },
  {
    "text": "works say in AWS or Google you don't",
    "start": "724550",
    "end": "727010"
  },
  {
    "text": "want someone to be able to steal that",
    "start": "727010",
    "end": "728270"
  },
  {
    "text": "identity and then masquerade as your",
    "start": "728270",
    "end": "730130"
  },
  {
    "text": "node and then be able to register as a",
    "start": "730130",
    "end": "732170"
  },
  {
    "text": "server so for the kubernetes of testers",
    "start": "732170",
    "end": "737120"
  },
  {
    "text": "how do we verify that the agent is who",
    "start": "737120",
    "end": "741170"
  },
  {
    "text": "the agent says is to the to the server",
    "start": "741170",
    "end": "743690"
  },
  {
    "text": "there's two methods that are available",
    "start": "743690",
    "end": "745720"
  },
  {
    "text": "we can verify with a token certificate",
    "start": "745720",
    "end": "749540"
  },
  {
    "text": "or or public key or use the token review",
    "start": "749540",
    "end": "752330"
  },
  {
    "text": "API if you have a new enough version of",
    "start": "752330",
    "end": "754190"
  },
  {
    "text": "kubernetes and the token review API is",
    "start": "754190",
    "end": "756890"
  },
  {
    "text": "all that's available if you're running",
    "start": "756890",
    "end": "758270"
  },
  {
    "text": "on google kubernetes engine for example",
    "start": "758270",
    "end": "761260"
  },
  {
    "text": "both both of the attest errs support",
    "start": "761260",
    "end": "763790"
  },
  {
    "text": "either method as of 0.8 and then as",
    "start": "763790",
    "end": "768890"
  },
  {
    "text": "Emiliana mentioned the new kubernetes",
    "start": "768890",
    "end": "770750"
  },
  {
    "text": "bundle notifier plugin so with this with",
    "start": "770750",
    "end": "774650"
  },
  {
    "text": "this plugin we can replace both the",
    "start": "774650",
    "end": "777110"
  },
  {
    "text": "bootstrap certificate and the upstream",
    "start": "777110",
    "end": "778940"
  },
  {
    "text": "CA so the bootstrap certificate is a",
    "start": "778940",
    "end": "781880"
  },
  {
    "text": "static certificate that the agent uses",
    "start": "781880",
    "end": "784220"
  },
  {
    "text": "the first time it starts up to connect",
    "start": "784220",
    "end": "786260"
  },
  {
    "text": "to a spire server to to get the TLS",
    "start": "786260",
    "end": "789110"
  },
  {
    "text": "handshake started an upstream CA is an",
    "start": "789110",
    "end": "792800"
  },
  {
    "text": "option",
    "start": "792800",
    "end": "793950"
  },
  {
    "text": "it's not a requirement it's never been a",
    "start": "793950",
    "end": "795810"
  },
  {
    "text": "requirement it was an option where you",
    "start": "795810",
    "end": "797970"
  },
  {
    "text": "can use another signing Authority and",
    "start": "797970",
    "end": "804350"
  },
  {
    "text": "instead of just having that being a",
    "start": "804350",
    "end": "806370"
  },
  {
    "text": "self-signed certificate with the bundle",
    "start": "806370",
    "end": "808440"
  },
  {
    "text": "notifier you can kind of replace both of",
    "start": "808440",
    "end": "810720"
  },
  {
    "text": "those just with the notifier and what",
    "start": "810720",
    "end": "813600"
  },
  {
    "text": "happens is that the bundle is now stored",
    "start": "813600",
    "end": "815700"
  },
  {
    "text": "in a config map and that's completely",
    "start": "815700",
    "end": "817950"
  },
  {
    "text": "managed by the spire server via",
    "start": "817950",
    "end": "821150"
  },
  {
    "text": "kubernetes api so that actually is never",
    "start": "821150",
    "end": "824370"
  },
  {
    "text": "even mounted into spy on spire server as",
    "start": "824370",
    "end": "826770"
  },
  {
    "text": "a config map it just acts a spire server",
    "start": "826770",
    "end": "829380"
  },
  {
    "text": "just modifies it directly through the",
    "start": "829380",
    "end": "831840"
  },
  {
    "text": "kubernetes api their version using",
    "start": "831840",
    "end": "834330"
  },
  {
    "text": "kubernetes object versioning so we can",
    "start": "834330",
    "end": "837210"
  },
  {
    "text": "make sure that that it doesn't get",
    "start": "837210",
    "end": "838650"
  },
  {
    "text": "corrupted that way that config map is",
    "start": "838650",
    "end": "840810"
  },
  {
    "text": "mounted read-only into the spire agents",
    "start": "840810",
    "end": "842880"
  },
  {
    "text": "and if you are using this this plugin",
    "start": "842880",
    "end": "846570"
  },
  {
    "text": "the spire server data dirt does need to",
    "start": "846570",
    "end": "848610"
  },
  {
    "text": "be on a persistent volume because",
    "start": "848610",
    "end": "850380"
  },
  {
    "text": "there's some state that's that's really",
    "start": "850380",
    "end": "852030"
  },
  {
    "text": "important there talk a little bit about",
    "start": "852030",
    "end": "855960"
  },
  {
    "text": "registration entries for for for spiffy",
    "start": "855960",
    "end": "860280"
  },
  {
    "text": "right so you want to put some thought",
    "start": "860280",
    "end": "862860"
  },
  {
    "text": "into how your workload nodes will be",
    "start": "862860",
    "end": "865680"
  },
  {
    "text": "grouped when I when I first started",
    "start": "865680",
    "end": "868080"
  },
  {
    "text": "playing around with spire it really",
    "start": "868080",
    "end": "869160"
  },
  {
    "text": "wasn't clear to me how do I organize my",
    "start": "869160",
    "end": "871530"
  },
  {
    "text": "spiffy identities how do I organize",
    "start": "871530",
    "end": "873240"
  },
  {
    "text": "things so that everything gets attested",
    "start": "873240",
    "end": "875430"
  },
  {
    "text": "what's the difference between node",
    "start": "875430",
    "end": "877020"
  },
  {
    "text": "attestation and workload at the station",
    "start": "877020",
    "end": "878880"
  },
  {
    "text": "and how do i how do I do all of that so",
    "start": "878880",
    "end": "882480"
  },
  {
    "text": "I found that creating hierarchies and",
    "start": "882480",
    "end": "884580"
  },
  {
    "text": "groupings that are kind of natural for",
    "start": "884580",
    "end": "886590"
  },
  {
    "text": "your workload works works pretty well",
    "start": "886590",
    "end": "888900"
  },
  {
    "text": "for this and just kind of a final note",
    "start": "888900",
    "end": "893120"
  },
  {
    "text": "if you find yourself creating manual",
    "start": "893120",
    "end": "897060"
  },
  {
    "text": "entries that are using very specific",
    "start": "897060",
    "end": "898950"
  },
  {
    "text": "node or specific information like a node",
    "start": "898950",
    "end": "902010"
  },
  {
    "text": "UID that's kind of a good indicator that",
    "start": "902010",
    "end": "904170"
  },
  {
    "text": "your might want to take a different",
    "start": "904170",
    "end": "905940"
  },
  {
    "text": "approach because if you're creating many",
    "start": "905940",
    "end": "907560"
  },
  {
    "text": "manual entries on something that's like",
    "start": "907560",
    "end": "909930"
  },
  {
    "text": "that massive thing that probably won't",
    "start": "909930",
    "end": "912360"
  },
  {
    "text": "be around very long it's probably not",
    "start": "912360",
    "end": "915090"
  },
  {
    "text": "not the way you want to go now if you're",
    "start": "915090",
    "end": "917340"
  },
  {
    "text": "doing automated type of registration",
    "start": "917340",
    "end": "919860"
  },
  {
    "text": "then this is a this is this is a",
    "start": "919860",
    "end": "923070"
  },
  {
    "text": "different situation right because if you",
    "start": "923070",
    "end": "924840"
  },
  {
    "text": "use the automated registration",
    "start": "924840",
    "end": "926220"
  },
  {
    "text": "it handles all of that for you so let's",
    "start": "926220",
    "end": "929879"
  },
  {
    "text": "just take a really simple example of two",
    "start": "929879",
    "end": "932129"
  },
  {
    "text": "workloads and we know that those",
    "start": "932129",
    "end": "933839"
  },
  {
    "text": "workloads are gonna be part of this kind",
    "start": "933839",
    "end": "935879"
  },
  {
    "text": "of set of nodes so the next thing we'll",
    "start": "935879",
    "end": "938819"
  },
  {
    "text": "do is map that into our spiffy namespace",
    "start": "938819",
    "end": "941819"
  },
  {
    "text": "so we'll create something called my",
    "start": "941819",
    "end": "944189"
  },
  {
    "text": "cluster IO nodes that will represent all",
    "start": "944189",
    "end": "947129"
  },
  {
    "text": "of the nodes that that the workload will",
    "start": "947129",
    "end": "949290"
  },
  {
    "text": "be running on and then for each of the",
    "start": "949290",
    "end": "951480"
  },
  {
    "text": "workloads we have my cluster do slash",
    "start": "951480",
    "end": "953879"
  },
  {
    "text": "workload slash a in workload slash B so",
    "start": "953879",
    "end": "957029"
  },
  {
    "text": "that kind of creates our hierarchy and",
    "start": "957029",
    "end": "959970"
  },
  {
    "text": "our groupings and then that directly",
    "start": "959970",
    "end": "962370"
  },
  {
    "text": "translates into these registration",
    "start": "962370",
    "end": "964560"
  },
  {
    "text": "entries so for the for the nodes entry",
    "start": "964560",
    "end": "968160"
  },
  {
    "text": "we're gonna we create a node entry it",
    "start": "968160",
    "end": "972389"
  },
  {
    "text": "doesn't have a parent we specify this 50",
    "start": "972389",
    "end": "974910"
  },
  {
    "text": "ID that we just do we just mentioned",
    "start": "974910",
    "end": "976800"
  },
  {
    "text": "nodes 1 and then set up a selectors for",
    "start": "976800",
    "end": "980459"
  },
  {
    "text": "our piece at a tester which we'll be",
    "start": "980459",
    "end": "982560"
  },
  {
    "text": "using in in the example and similarly",
    "start": "982560",
    "end": "985649"
  },
  {
    "text": "for the workloads we'll we can translate",
    "start": "985649",
    "end": "988199"
  },
  {
    "text": "those directly in the parent is going to",
    "start": "988199",
    "end": "990389"
  },
  {
    "text": "be our my cluster do nodes entry these",
    "start": "990389",
    "end": "994560"
  },
  {
    "text": "50 IDs gonna clearly be whatever our",
    "start": "994560",
    "end": "996779"
  },
  {
    "text": "workload is and then we're going to have",
    "start": "996779",
    "end": "998160"
  },
  {
    "text": "some set of selectors that are",
    "start": "998160",
    "end": "999689"
  },
  {
    "text": "appropriate for for the workload all",
    "start": "999689",
    "end": "1003860"
  },
  {
    "text": "right",
    "start": "1003860",
    "end": "1005029"
  },
  {
    "text": "it's withdrew right yep ok so we got out",
    "start": "1005029",
    "end": "1008089"
  },
  {
    "text": "I'm we got to move the machine so give",
    "start": "1008089",
    "end": "1010699"
  },
  {
    "text": "us one second",
    "start": "1010699",
    "end": "1013630"
  },
  {
    "text": "so well you know while we wait what",
    "start": "1020829",
    "end": "1023389"
  },
  {
    "text": "Scott's gonna show us is the piece at a",
    "start": "1023389",
    "end": "1025490"
  },
  {
    "text": "tester and the bundle notifier that we",
    "start": "1025490",
    "end": "1029240"
  },
  {
    "text": "were talking about so just give it one",
    "start": "1029240",
    "end": "1031880"
  },
  {
    "text": "second and yes it worked all right right",
    "start": "1031880",
    "end": "1038538"
  },
  {
    "text": "well that's half of the demo right there",
    "start": "1038539",
    "end": "1040699"
  },
  {
    "text": "just plug into the oh yeah whoops",
    "start": "1040699",
    "end": "1044829"
  },
  {
    "text": "there's no typos there okay so let's",
    "start": "1044829",
    "end": "1047178"
  },
  {
    "text": "take a look at our configuration so now",
    "start": "1047179",
    "end": "1049909"
  },
  {
    "text": "that customized is part of cube CTL 1.14",
    "start": "1049909",
    "end": "1054350"
  },
  {
    "text": "I've started to use it everywhere I I",
    "start": "1054350",
    "end": "1058190"
  },
  {
    "text": "think I've gotten my head around it and",
    "start": "1058190",
    "end": "1061490"
  },
  {
    "text": "so let's take a look at the",
    "start": "1061490",
    "end": "1063049"
  },
  {
    "text": "customization yeah Mille that we're",
    "start": "1063049",
    "end": "1064850"
  },
  {
    "text": "going to use so we're going to inject a",
    "start": "1064850",
    "end": "1067880"
  },
  {
    "text": "config map for the spire servers",
    "start": "1067880",
    "end": "1070789"
  },
  {
    "text": "configuration and a config map for the",
    "start": "1070789",
    "end": "1074389"
  },
  {
    "text": "agents configuration and then an empty",
    "start": "1074389",
    "end": "1078830"
  },
  {
    "text": "config map with with absolutely no",
    "start": "1078830",
    "end": "1081529"
  },
  {
    "text": "content and this is going to be used by",
    "start": "1081529",
    "end": "1083990"
  },
  {
    "text": "the bundle notifier so that spire server",
    "start": "1083990",
    "end": "1086299"
  },
  {
    "text": "will inject that that bundle there and",
    "start": "1086299",
    "end": "1088880"
  },
  {
    "text": "then don't worry I'm not going to go",
    "start": "1088880",
    "end": "1090049"
  },
  {
    "text": "through every ammo file because that",
    "start": "1090049",
    "end": "1092299"
  },
  {
    "text": "would be very painful so let's take a",
    "start": "1092299",
    "end": "1094309"
  },
  {
    "text": "look at the server deployment so I just",
    "start": "1094309",
    "end": "1098360"
  },
  {
    "text": "in case you're not familiar with",
    "start": "1098360",
    "end": "1100070"
  },
  {
    "text": "stateful sets and persistent volume",
    "start": "1100070",
    "end": "1102649"
  },
  {
    "text": "claims they're fairly new in kubernetes",
    "start": "1102649",
    "end": "1105100"
  },
  {
    "text": "what this entry does is whenever a node",
    "start": "1105100",
    "end": "1109370"
  },
  {
    "text": "or pod for spire server comes up it will",
    "start": "1109370",
    "end": "1112970"
  },
  {
    "text": "automatically allocate a volume let's",
    "start": "1112970",
    "end": "1117409"
  },
  {
    "text": "take a look at the spire server",
    "start": "1117409",
    "end": "1120740"
  },
  {
    "text": "configuration so here we are setting up",
    "start": "1120740",
    "end": "1126049"
  },
  {
    "text": "all of the configuration for the piece",
    "start": "1126049",
    "end": "1128600"
  },
  {
    "text": "at a tester so we give the cluster a",
    "start": "1128600",
    "end": "1131690"
  },
  {
    "text": "name demo cluster and then here we",
    "start": "1131690",
    "end": "1136250"
  },
  {
    "text": "specify what what service account and",
    "start": "1136250",
    "end": "1139880"
  },
  {
    "text": "namespace is allowed or we're willing to",
    "start": "1139880",
    "end": "1143450"
  },
  {
    "text": "accept agents for and if you've looked",
    "start": "1143450",
    "end": "1148039"
  },
  {
    "text": "at most of the other examples you'll",
    "start": "1148039",
    "end": "1149510"
  },
  {
    "text": "find an upstream CA here and you'll see",
    "start": "1149510",
    "end": "1151549"
  },
  {
    "text": "we've replaced that with the",
    "start": "1151549",
    "end": "1153500"
  },
  {
    "text": "Bundle notifier which we'll take a look",
    "start": "1153500",
    "end": "1156440"
  },
  {
    "text": "a little closer look at here shortly and",
    "start": "1156440",
    "end": "1161870"
  },
  {
    "text": "now let's take a look at the spire agent",
    "start": "1161870",
    "end": "1164630"
  },
  {
    "text": "deployment so the first thing to note is",
    "start": "1164630",
    "end": "1167840"
  },
  {
    "text": "you saw this a few a few slides ago this",
    "start": "1167840",
    "end": "1171140"
  },
  {
    "text": "is setting up the socket that is used",
    "start": "1171140",
    "end": "1173180"
  },
  {
    "text": "for the workload API and here is the",
    "start": "1173180",
    "end": "1179330"
  },
  {
    "text": "entry to inject the projected service",
    "start": "1179330",
    "end": "1181760"
  },
  {
    "text": "account token so you'll see that it",
    "start": "1181760",
    "end": "1184190"
  },
  {
    "text": "we've set it to expire after 7,200",
    "start": "1184190",
    "end": "1186650"
  },
  {
    "text": "seconds and then as we mentioned we have",
    "start": "1186650",
    "end": "1189290"
  },
  {
    "text": "a little bit more controls over a kind",
    "start": "1189290",
    "end": "1191810"
  },
  {
    "text": "of traditional service account token and",
    "start": "1191810",
    "end": "1193640"
  },
  {
    "text": "that we can specify an audience of who",
    "start": "1193640",
    "end": "1195530"
  },
  {
    "text": "that token is valid for and then finally",
    "start": "1195530",
    "end": "1200570"
  },
  {
    "text": "we'll bring in that empty config map",
    "start": "1200570",
    "end": "1203300"
  },
  {
    "text": "here and just to kind of see where that",
    "start": "1203300",
    "end": "1206660"
  },
  {
    "text": "is so it makes more sense when we look",
    "start": "1206660",
    "end": "1208070"
  },
  {
    "text": "at the configs so we're gonna mount that",
    "start": "1208070",
    "end": "1209870"
  },
  {
    "text": "in at runs fire bundle whoops and let's",
    "start": "1209870",
    "end": "1217880"
  },
  {
    "text": "take a look at the agent config so this",
    "start": "1217880",
    "end": "1221480"
  },
  {
    "text": "entry right here trust bundle path again",
    "start": "1221480",
    "end": "1223430"
  },
  {
    "text": "if you look at older examples you're",
    "start": "1223430",
    "end": "1224840"
  },
  {
    "text": "gonna see the bootstrap certificate here",
    "start": "1224840",
    "end": "1227000"
  },
  {
    "text": "right this is a certificate that that",
    "start": "1227000",
    "end": "1229280"
  },
  {
    "text": "spire agent uses to on its first",
    "start": "1229280",
    "end": "1231440"
  },
  {
    "text": "connection to spire server and now we're",
    "start": "1231440",
    "end": "1233900"
  },
  {
    "text": "gonna use the bundle notifier for that",
    "start": "1233900",
    "end": "1236590"
  },
  {
    "text": "and then here just as the server-side",
    "start": "1236590",
    "end": "1240740"
  },
  {
    "text": "had its configuration for that piece at",
    "start": "1240740",
    "end": "1242750"
  },
  {
    "text": "a tester spire agent has its",
    "start": "1242750",
    "end": "1244790"
  },
  {
    "text": "configuration as well and we just use",
    "start": "1244790",
    "end": "1248570"
  },
  {
    "text": "the same cluster name and then this is",
    "start": "1248570",
    "end": "1250880"
  },
  {
    "text": "the path where that projected service",
    "start": "1250880",
    "end": "1252860"
  },
  {
    "text": "account token gets injected into all",
    "start": "1252860",
    "end": "1256820"
  },
  {
    "text": "right so let's apply this so first let's",
    "start": "1256820",
    "end": "1261080"
  },
  {
    "text": "get this running so this is just shows",
    "start": "1261080",
    "end": "1262580"
  },
  {
    "text": "that we're running in mini cube and then",
    "start": "1262580",
    "end": "1264200"
  },
  {
    "text": "it'll show our posit or deployed in the",
    "start": "1264200",
    "end": "1266120"
  },
  {
    "text": "spire namespace as well as the default",
    "start": "1266120",
    "end": "1267830"
  },
  {
    "text": "namespace",
    "start": "1267830",
    "end": "1270039"
  },
  {
    "text": "and wait for it wait for it now it's the",
    "start": "1273960",
    "end": "1279280"
  },
  {
    "text": "bigger fun everything flows off a little",
    "start": "1279280",
    "end": "1280990"
  },
  {
    "text": "bit no it's okay up there okay",
    "start": "1280990",
    "end": "1283180"
  },
  {
    "text": "okay so now we have a running Speier",
    "start": "1283180",
    "end": "1285430"
  },
  {
    "text": "agent and server just great let us look",
    "start": "1285430",
    "end": "1289630"
  },
  {
    "text": "at that config map that was empty so",
    "start": "1289630",
    "end": "1292990"
  },
  {
    "text": "you'll see now that it has kind of",
    "start": "1292990",
    "end": "1294970"
  },
  {
    "text": "format funny anyway anyway now you can",
    "start": "1294970",
    "end": "1297160"
  },
  {
    "text": "see that there's a bundle CRT in that",
    "start": "1297160",
    "end": "1298690"
  },
  {
    "text": "config map so spire server has injected",
    "start": "1298690",
    "end": "1301330"
  },
  {
    "text": "in the bundle certificate and and made",
    "start": "1301330",
    "end": "1304600"
  },
  {
    "text": "that available to the agents now I",
    "start": "1304600",
    "end": "1307870"
  },
  {
    "text": "mentioned that scaling spire is is easy",
    "start": "1307870",
    "end": "1311700"
  },
  {
    "text": "so let's do it",
    "start": "1311700",
    "end": "1315150"
  },
  {
    "text": "all right now now we have two Spyder",
    "start": "1315150",
    "end": "1318580"
  },
  {
    "text": "servers running now I'm lying a little",
    "start": "1318580",
    "end": "1320590"
  },
  {
    "text": "bit I'm not using a database remember",
    "start": "1320590",
    "end": "1322210"
  },
  {
    "text": "earlier I said that in a production",
    "start": "1322210",
    "end": "1323500"
  },
  {
    "text": "environment we need a shared database so",
    "start": "1323500",
    "end": "1325930"
  },
  {
    "text": "I haven't done that here so let's go",
    "start": "1325930",
    "end": "1328150"
  },
  {
    "text": "ahead and kill that let's so I want to",
    "start": "1328150",
    "end": "1332710"
  },
  {
    "text": "show one thing if you're not familiar",
    "start": "1332710",
    "end": "1334570"
  },
  {
    "text": "with the way persistent volume claims",
    "start": "1334570",
    "end": "1337090"
  },
  {
    "text": "work you'll see that even though we've",
    "start": "1337090",
    "end": "1339430"
  },
  {
    "text": "scaled down to only one instance of",
    "start": "1339430",
    "end": "1341620"
  },
  {
    "text": "spire server there's still two volumes",
    "start": "1341620",
    "end": "1344700"
  },
  {
    "text": "here and with the persistent volume",
    "start": "1344700",
    "end": "1348550"
  },
  {
    "text": "claims in a save Ville set if I was to",
    "start": "1348550",
    "end": "1351220"
  },
  {
    "text": "scale that back up to two two servers it",
    "start": "1351220",
    "end": "1354190"
  },
  {
    "text": "wouldn't create a new volume it would",
    "start": "1354190",
    "end": "1355990"
  },
  {
    "text": "use one of the existing wolf the",
    "start": "1355990",
    "end": "1357580"
  },
  {
    "text": "existing volume in the ordinal wall in",
    "start": "1357580",
    "end": "1360220"
  },
  {
    "text": "the ordinal number for that pod right",
    "start": "1360220",
    "end": "1361870"
  },
  {
    "text": "which in this case would be would be one",
    "start": "1361870",
    "end": "1363730"
  },
  {
    "text": "so it's just something you need to be",
    "start": "1363730",
    "end": "1365680"
  },
  {
    "text": "aware of it's a good thing for for the",
    "start": "1365680",
    "end": "1368470"
  },
  {
    "text": "purposes of spire okay let us look at a",
    "start": "1368470",
    "end": "1374530"
  },
  {
    "text": "client so now we want to deploy a client",
    "start": "1374530",
    "end": "1376780"
  },
  {
    "text": "workload to see that we're able to get",
    "start": "1376780",
    "end": "1379150"
  },
  {
    "text": "an S FID I'm kind of lazy here so we're",
    "start": "1379150",
    "end": "1382660"
  },
  {
    "text": "just going to use the spire agent",
    "start": "1382660",
    "end": "1384370"
  },
  {
    "text": "container only instead of running the",
    "start": "1384370",
    "end": "1387850"
  },
  {
    "text": "spire agent we're just going to run",
    "start": "1387850",
    "end": "1389290"
  },
  {
    "text": "sleep so that we can exec into it and",
    "start": "1389290",
    "end": "1391770"
  },
  {
    "text": "and run some commands so let us apply",
    "start": "1391770",
    "end": "1396160"
  },
  {
    "text": "that guy",
    "start": "1396160",
    "end": "1398760"
  },
  {
    "text": "just a little bit of typing here oops",
    "start": "1402260",
    "end": "1405950"
  },
  {
    "text": "oops yeah ice messed up can't see",
    "start": "1405950",
    "end": "1415309"
  },
  {
    "text": "P I watch",
    "start": "1417790",
    "end": "1421230"
  },
  {
    "text": "okay so we're getting an error here no",
    "start": "1425460",
    "end": "1431140"
  },
  {
    "text": "identity issued and that's really simple",
    "start": "1431140",
    "end": "1433570"
  },
  {
    "text": "this is expected because we haven't had",
    "start": "1433570",
    "end": "1435400"
  },
  {
    "text": "created any registration entries all",
    "start": "1435400",
    "end": "1437200"
  },
  {
    "text": "right this workloads not allowed to run",
    "start": "1437200",
    "end": "1438820"
  },
  {
    "text": "it's not allowed to get an S fit and in",
    "start": "1438820",
    "end": "1441640"
  },
  {
    "text": "fact we haven't even created our note",
    "start": "1441640",
    "end": "1443170"
  },
  {
    "text": "entry so our agent really isn't even",
    "start": "1443170",
    "end": "1445660"
  },
  {
    "text": "attesting correctly so let's look at",
    "start": "1445660",
    "end": "1448510"
  },
  {
    "text": "what that registration entries will look",
    "start": "1448510",
    "end": "1451420"
  },
  {
    "text": "like that will create if you remember my",
    "start": "1451420",
    "end": "1454300"
  },
  {
    "text": "earlier diagram with the tree these are",
    "start": "1454300",
    "end": "1456540"
  },
  {
    "text": "exactly those really one one side of",
    "start": "1456540",
    "end": "1459640"
  },
  {
    "text": "that tree so we created a note entry for",
    "start": "1459640",
    "end": "1463750"
  },
  {
    "text": "the cluster we create a selector so",
    "start": "1463750",
    "end": "1468790"
  },
  {
    "text": "again if you remember within the spire",
    "start": "1468790",
    "end": "1471220"
  },
  {
    "text": "agent and server configurations",
    "start": "1471220",
    "end": "1473050"
  },
  {
    "text": "I had demo cluster in there so this this",
    "start": "1473050",
    "end": "1476650"
  },
  {
    "text": "matches that we've attested to be a",
    "start": "1476650",
    "end": "1479200"
  },
  {
    "text": "member of that cluster and then for the",
    "start": "1479200",
    "end": "1482320"
  },
  {
    "text": "workload it's very similar we're going",
    "start": "1482320",
    "end": "1484570"
  },
  {
    "text": "to have a parent which is the previous",
    "start": "1484570",
    "end": "1486730"
  },
  {
    "text": "entry the cluster nodes we're going to",
    "start": "1486730",
    "end": "1491020"
  },
  {
    "text": "give it this spiffy ID and then we're",
    "start": "1491020",
    "end": "1494380"
  },
  {
    "text": "going to use this selector this is a",
    "start": "1494380",
    "end": "1496300"
  },
  {
    "text": "terrible selector to use by the way",
    "start": "1496300",
    "end": "1497710"
  },
  {
    "text": "don't ever use this except in a demo",
    "start": "1497710",
    "end": "1499510"
  },
  {
    "text": "right because this is basically a",
    "start": "1499510",
    "end": "1500950"
  },
  {
    "text": "testing that anything running in the",
    "start": "1500950",
    "end": "1503140"
  },
  {
    "text": "default namespace a service account is a",
    "start": "1503140",
    "end": "1506440"
  },
  {
    "text": "tested but it's only a demo so it's okay",
    "start": "1506440",
    "end": "1509190"
  },
  {
    "text": "so let us run that",
    "start": "1509190",
    "end": "1517379"
  },
  {
    "text": "and in a few seconds yay so we've now",
    "start": "1517419",
    "end": "1523009"
  },
  {
    "text": "attested the workload so we are able to",
    "start": "1523009",
    "end": "1524899"
  },
  {
    "text": "be issued an S vid and you know you can",
    "start": "1524899",
    "end": "1528409"
  },
  {
    "text": "see our spiffy ID there that's it for",
    "start": "1528409",
    "end": "1532220"
  },
  {
    "text": "the demo yep so that's it for our",
    "start": "1532220",
    "end": "1538730"
  },
  {
    "text": "presentation so do want to throw up the",
    "start": "1538730",
    "end": "1541580"
  },
  {
    "text": "other slide yeah yeah let me let me just",
    "start": "1541580",
    "end": "1543289"
  },
  {
    "text": "throw up our URLs one second one more to",
    "start": "1543289",
    "end": "1548330"
  },
  {
    "text": "Teru",
    "start": "1548330",
    "end": "1550570"
  },
  {
    "text": "okay so yep so let's see if that yep so",
    "start": "1560860",
    "end": "1567220"
  },
  {
    "text": "you could find all this you could find",
    "start": "1567220",
    "end": "1569470"
  },
  {
    "text": "us at it github also our our slack check",
    "start": "1569470",
    "end": "1572740"
  },
  {
    "text": "our slack is spiffy IO and that's it for",
    "start": "1572740",
    "end": "1578860"
  },
  {
    "text": "us so up thank you Scott thanks",
    "start": "1578860",
    "end": "1586299"
  },
  {
    "text": "any questions no questions all right",
    "start": "1586299",
    "end": "1595480"
  },
  {
    "text": "well we answered everything Wow find",
    "start": "1595480",
    "end": "1598179"
  },
  {
    "text": "that hard to believe",
    "start": "1598179",
    "end": "1599549"
  },
  {
    "text": "it was good did really good job all",
    "start": "1599549",
    "end": "1603490"
  },
  {
    "text": "right all right thanks everybody thanks",
    "start": "1603490",
    "end": "1604690"
  },
  {
    "text": "and we'll post a slides later today",
    "start": "1604690",
    "end": "1607570"
  },
  {
    "text": "[Applause]",
    "start": "1607570",
    "end": "1610659"
  }
]