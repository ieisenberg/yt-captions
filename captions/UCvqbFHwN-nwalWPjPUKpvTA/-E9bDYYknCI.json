[
  {
    "text": "thanks for coming uh thanks for coming thanks for your effort I appreciate that",
    "start": "280",
    "end": "7720"
  },
  {
    "text": "you came to probably one of the last session of this ccon",
    "start": "7720",
    "end": "14040"
  },
  {
    "text": "Paris uh please be indulgent it's not easy to pass Friday at 400 p.m. uh we're",
    "start": "14040",
    "end": "22960"
  },
  {
    "text": "all tired I hope you won't be sleeping during the presentation H I hope I won't be",
    "start": "22960",
    "end": "29480"
  },
  {
    "text": "sleeping too so we are on stage we're going to talk",
    "start": "29480",
    "end": "35680"
  },
  {
    "text": "about using Keo to control um and apply",
    "start": "35680",
    "end": "42160"
  },
  {
    "text": "policies in Cloud narrative projects uh using kop policies rul is going to start",
    "start": "42160",
    "end": "49840"
  },
  {
    "text": "and Mariam will talk about uh recent additions in KERO and I will talk about",
    "start": "49840",
    "end": "57199"
  },
  {
    "text": "the future of KERO what happened during the past year and how K could change in",
    "start": "57199",
    "end": "64559"
  },
  {
    "text": "the next version so R yeah thank you all",
    "start": "64559",
    "end": "71680"
  },
  {
    "text": "right so hi everyone my name is R Garcia I work for the diix one of the biggest",
    "start": "71680",
    "end": "78320"
  },
  {
    "text": "uh internet Exchange in Germany and um yeah before we start with that uh let me",
    "start": "78320",
    "end": "86400"
  },
  {
    "text": "quickly introduce uh who diig is and and uh also show you about how the",
    "start": "86400",
    "end": "92640"
  },
  {
    "text": "environment is looking exactly before we then move over how we have implemented keano and why",
    "start": "92640",
    "end": "99280"
  },
  {
    "text": "exactly so diix is one of the leading operators of ips in the world to",
    "start": "99280",
    "end": "104920"
  },
  {
    "text": "facilitate the interconnection of networks so that we make uh improvements into the efficiency of Internet services",
    "start": "104920",
    "end": "112000"
  },
  {
    "text": "globally we offer a lot of different services like uh for peering or other",
    "start": "112000",
    "end": "117479"
  },
  {
    "text": "interconnections like Cloud connects so the um yeah we basically play a crucial role",
    "start": "117479",
    "end": "124719"
  },
  {
    "text": "in thank you a crucial role in the internet architecture for Network providers",
    "start": "124719",
    "end": "130599"
  },
  {
    "text": "CDN uh large Enterprise networks so that yeah all of these networks exchange",
    "start": "130599",
    "end": "136080"
  },
  {
    "text": "traffic directly um so that basically we reduce latency increase bandwidth and uh",
    "start": "136080",
    "end": "143879"
  },
  {
    "text": "yeah increase the reliability on the internet uh here on this map you can basically see where we are present and",
    "start": "143879",
    "end": "150480"
  },
  {
    "text": "where you can basically interconnect with us how is the environment looking so we",
    "start": "150480",
    "end": "159040"
  },
  {
    "text": "basically have an application platform team which um yeah is providing centralized services like a monitoring a",
    "start": "159040",
    "end": "166280"
  },
  {
    "text": "long-term metric storage a logging stack uh we also provide oci image registry we",
    "start": "166280",
    "end": "172159"
  },
  {
    "text": "have a secret store codre pository and so on so basically we try to provide a holistic stack for all the teams and",
    "start": "172159",
    "end": "179319"
  },
  {
    "text": "then we have different teams that get manage kubernetes",
    "start": "179319",
    "end": "184599"
  },
  {
    "text": "clusters they get a monitoring stack they get a logging environment that we take care of we provide them with incest",
    "start": "184599",
    "end": "191400"
  },
  {
    "text": "controller with Secret store access and so on and so forth but all in a way that",
    "start": "191400",
    "end": "197760"
  },
  {
    "text": "they still are able to do selfservice so we want the teams to create their",
    "start": "197760",
    "end": "202879"
  },
  {
    "text": "deployments by themselves to use kubernetes techniques and um yeah all of",
    "start": "202879",
    "end": "208120"
  },
  {
    "text": "this however in a in a guidelin way so we don't allow the teams to do basically",
    "start": "208120",
    "end": "215040"
  },
  {
    "text": "everything they want so for that is exactly where keano comes into place and",
    "start": "215040",
    "end": "221799"
  },
  {
    "text": "um yeah before we go in and look into some examples of how we use Keno let me",
    "start": "221799",
    "end": "227239"
  },
  {
    "text": "quickly introduce Keno for those of you who have not gained experience so far",
    "start": "227239",
    "end": "232400"
  },
  {
    "text": "with Keno so what is Keno Keno is an open source policy engine which is",
    "start": "232400",
    "end": "237840"
  },
  {
    "text": "integrating natively into kubernetes it is uh it comes with a huge stack of",
    "start": "237840",
    "end": "244720"
  },
  {
    "text": "functions that you can use to validate to mutate to generate or to clean up resources it also has a Poss possibility",
    "start": "244720",
    "end": "252920"
  },
  {
    "text": "to do uh image signature verification next to it it also has a rich reporting functionality so that you",
    "start": "252920",
    "end": "259880"
  },
  {
    "text": "can uh you get an overview with a user interface to see which policies or which",
    "start": "259880",
    "end": "265919"
  },
  {
    "text": "validations of policies are passing and which of them are failing uh you can also expose promus metrics",
    "start": "265919",
    "end": "273199"
  },
  {
    "text": "which is pretty good so if you want to see in a long term how your teams are behaving and uh yeah last but not least",
    "start": "273199",
    "end": "280120"
  },
  {
    "text": "there is a huge community in Keno existing so they have already 5,000 stars in GitHub and um yeah there is",
    "start": "280120",
    "end": "287680"
  },
  {
    "text": "also a huge um amount of policy examples on keen.io policies where you basically",
    "start": "287680",
    "end": "293479"
  },
  {
    "text": "find predefined policies for every use case all right let's have a look what we",
    "start": "293479",
    "end": "300800"
  },
  {
    "text": "are using it for so at day KS since I mentioned like two slides before we",
    "start": "300800",
    "end": "305919"
  },
  {
    "text": "provide teams with managed kubernetes clusters we want them to deploy their",
    "start": "305919",
    "end": "311320"
  },
  {
    "text": "stuff by themselves however we don't want them for example to um deploy",
    "start": "311320",
    "end": "317000"
  },
  {
    "text": "privileged containers or also to deploy Services of type notep pod or load",
    "start": "317000",
    "end": "322479"
  },
  {
    "text": "balancer so that they don't expose uh any kind of like uh traffic to the",
    "start": "322479",
    "end": "328360"
  },
  {
    "text": "Internet by themselves which is not regulated by our Network team next to this we also prevent them by the on the",
    "start": "328360",
    "end": "336600"
  },
  {
    "text": "management of resources so let's say we deploy resources to the clusters of the",
    "start": "336600",
    "end": "342720"
  },
  {
    "text": "specific teams like the Ingress controller and so on we don't want them to be able to make modifications on the",
    "start": "342720",
    "end": "348960"
  },
  {
    "text": "incest controller we don't want them to be able to change the incest controller to change the image version and so on so",
    "start": "348960",
    "end": "355319"
  },
  {
    "text": "we basically have a rule in place that mitigates that they make changes to the manage name spaces that are provided by",
    "start": "355319",
    "end": "362039"
  },
  {
    "text": "us next to this um yeah we also have a validation policy in place that ensures",
    "start": "362039",
    "end": "369960"
  },
  {
    "text": "that no one can deploy any blocking pot disruption budget I mean we have seen quite often the situation that teams",
    "start": "369960",
    "end": "377479"
  },
  {
    "text": "deploy a deployment where they say replica is one and then someone goes and",
    "start": "377479",
    "end": "383319"
  },
  {
    "text": "deploys a PO disruption budget that says me available is also one when it comes",
    "start": "383319",
    "end": "388720"
  },
  {
    "text": "now to the cluster update the train of the node would be blocked because the",
    "start": "388720",
    "end": "393800"
  },
  {
    "text": "Min available and the replica is equal so the train would not be a the node would not be able to be trained in order",
    "start": "393800",
    "end": "400520"
  },
  {
    "text": "to prevent this we have created a Keno policy that is preventing this and I",
    "start": "400520",
    "end": "406039"
  },
  {
    "text": "will show you also an example of this on the next slide um yeah what else do we have we",
    "start": "406039",
    "end": "412880"
  },
  {
    "text": "also have policies in place to mutate so basically we add to every pot that the",
    "start": "412880",
    "end": "418720"
  },
  {
    "text": "team deploys a note selector so that every pot that the team deploys ends up",
    "start": "418720",
    "end": "423840"
  },
  {
    "text": "on the correct note pool um yeah last but not least on the mutate side we also disable the",
    "start": "423840",
    "end": "430680"
  },
  {
    "text": "automount service account token for the default service account so in case that any team says that they want to make any",
    "start": "430680",
    "end": "438720"
  },
  {
    "text": "calls from their port against the API server they have to create an independent service account for this",
    "start": "438720",
    "end": "444680"
  },
  {
    "text": "specific service and last but not least we also use Keno to generate Road bindings for",
    "start": "444680",
    "end": "451360"
  },
  {
    "text": "user created name spaces so in our environment users only have permission",
    "start": "451360",
    "end": "457039"
  },
  {
    "text": "to do operations on Nam spaces that they create by themselves and we use keano to",
    "start": "457039",
    "end": "462800"
  },
  {
    "text": "create the necessary Road bindings so that only the team members of the specific cluster get access to the name",
    "start": "462800",
    "end": "469360"
  },
  {
    "text": "spaces that they create by themselves every other name space they don't have access to they can they can read in the",
    "start": "469360",
    "end": "475759"
  },
  {
    "text": "namespace but they can any modification and this is all being handled by the RO Bindings that are",
    "start": "475759",
    "end": "481560"
  },
  {
    "text": "automatically being created using Keo all right let me quickly let me",
    "start": "481560",
    "end": "488440"
  },
  {
    "text": "quickly show you an example so um what we see here on on the slide is one of",
    "start": "488440",
    "end": "495080"
  },
  {
    "text": "our rules that we have in place to mitigate that uh we run into a a",
    "start": "495080",
    "end": "500319"
  },
  {
    "text": "blocking pot disruption budget so what we see here online let me just make this bit bigger here so what we see yeah okay",
    "start": "500319",
    "end": "508759"
  },
  {
    "text": "what we see here on line uh 58 is that we can that we are running this rule",
    "start": "508759",
    "end": "514640"
  },
  {
    "text": "whenever a deployment scale command is being passed to the cluster so whenever you say Cube CTL scale deployment D-",
    "start": "514640",
    "end": "522839"
  },
  {
    "text": "replica uh two for example this rule is going to check if a deployment that is",
    "start": "522839",
    "end": "530200"
  },
  {
    "text": "existing for this scale command so that you see for example here online",
    "start": "530200",
    "end": "535440"
  },
  {
    "text": "62 is being is existing and if it is existing then we basically go check the",
    "start": "535440",
    "end": "541920"
  },
  {
    "text": "replica that is defined in this deployment and next then we go make",
    "start": "541920",
    "end": "547000"
  },
  {
    "text": "another call with this uh Json match expression to obtain the Min available",
    "start": "547000",
    "end": "552839"
  },
  {
    "text": "definition of the PO disruption budget that is linked to this deployment so once we got these two numbers we know",
    "start": "552839",
    "end": "559160"
  },
  {
    "text": "how much is the Min available and how much is the replica value in the deployment and next then we compare them",
    "start": "559160",
    "end": "565480"
  },
  {
    "text": "to each other so we check how many replicas have have we defined in the deployment and how many min available",
    "start": "565480",
    "end": "572800"
  },
  {
    "text": "have we defined in the PO disruption budget so should the replica in the deployment now be equal to the amount of",
    "start": "572800",
    "end": "579880"
  },
  {
    "text": "Min available this policy is going to block the operation and same is also",
    "start": "579880",
    "end": "585040"
  },
  {
    "text": "happening if the replica is going to be less than the amount of Min available in",
    "start": "585040",
    "end": "591000"
  },
  {
    "text": "the PO disruption budget so that no user can create any blocking po disruption budget and I mean you can see this is",
    "start": "591000",
    "end": "597600"
  },
  {
    "text": "only a short overview of what this policy is doing you can see there are uh",
    "start": "597600",
    "end": "602880"
  },
  {
    "text": "some more rules defined um yeah and this is basically one of our use cases we",
    "start": "602880",
    "end": "611480"
  },
  {
    "text": "yeah we have I think currently like 30 um rules in place in every cluster which",
    "start": "611480",
    "end": "617120"
  },
  {
    "text": "we use to prevent the users from doing anything that uh yeah we will we do not",
    "start": "617120",
    "end": "622160"
  },
  {
    "text": "allow on the platform and yeah by that",
    "start": "622160",
    "end": "627959"
  },
  {
    "text": "I'm done and and give over to Mariam thank [Applause]",
    "start": "627959",
    "end": "636740"
  },
  {
    "text": "you um hi everyone um I am Mariam fi uh",
    "start": "639279",
    "end": "644600"
  },
  {
    "text": "I am a maintainer and um I'm working as a software engineer at",
    "start": "644600",
    "end": "650240"
  },
  {
    "text": "nurata uh today I'm going to talk about kuet is validating admission policies",
    "start": "650240",
    "end": "655720"
  },
  {
    "text": "and how keru uh provides a full policy man management experience to validating",
    "start": "655720",
    "end": "661480"
  },
  {
    "text": "admission policies so yeah no thank you so uh before digging",
    "start": "661480",
    "end": "670480"
  },
  {
    "text": "into kubernetes validating admission policies I would like to explain first",
    "start": "670480",
    "end": "676120"
  },
  {
    "text": "uh what problems do validating admission policies solve and why do they even",
    "start": "676120",
    "end": "682120"
  },
  {
    "text": "exist so before validating admission policies custom policies were enforced",
    "start": "682120",
    "end": "688560"
  },
  {
    "text": "through admiss web hooks so typically when you create um a new deployment an",
    "start": "688560",
    "end": "695639"
  },
  {
    "text": "AI an API request is sent to the API server and then this API request gets",
    "start": "695639",
    "end": "702880"
  },
  {
    "text": "processed and you know it gets through different phases of",
    "start": "702880",
    "end": "708279"
  },
  {
    "text": "execution uh the first stage of course is the authentication and the",
    "start": "708279",
    "end": "713320"
  },
  {
    "text": "authorization where you want to know um who sent the API request and and whether",
    "start": "713320",
    "end": "720720"
  },
  {
    "text": "uh he is applicable to perform that action or not um and the second phase is the most",
    "start": "720720",
    "end": "728959"
  },
  {
    "text": "interesting part here it is uh the admission controllers um the thing is that",
    "start": "728959",
    "end": "735639"
  },
  {
    "text": "kubernetes run a different built-in admission controller where um it is",
    "start": "735639",
    "end": "741760"
  },
  {
    "text": "configured in the API server uh some of the admission controllers run directly",
    "start": "741760",
    "end": "747839"
  },
  {
    "text": "in the API server whereas some of them uh can run as an external system and uh",
    "start": "747839",
    "end": "755399"
  },
  {
    "text": "this external system often is often used when you want to perform complex",
    "start": "755399",
    "end": "761720"
  },
  {
    "text": "validations or you know complex mutations and in this case you use keru",
    "start": "761720",
    "end": "768720"
  },
  {
    "text": "uh which will be responsible of receiving the API request from the API server and then responds back to that",
    "start": "768720",
    "end": "776760"
  },
  {
    "text": "request with either allow or or deny and as you see you know uh this can cause",
    "start": "776760",
    "end": "784399"
  },
  {
    "text": "some delay or some latency in the cetes cluster and of course the cluster",
    "start": "784399",
    "end": "790680"
  },
  {
    "text": "administrators will take the responsibility to make release plans for this admission",
    "start": "790680",
    "end": "797519"
  },
  {
    "text": "controller and for that you know for the for these reasons uh validating",
    "start": "797519",
    "end": "803399"
  },
  {
    "text": "admission policies comes in so yeah sorry so validating admission policies",
    "start": "803399",
    "end": "811040"
  },
  {
    "text": "provides an alternative solution for admission web hooks specifically for the",
    "start": "811040",
    "end": "817079"
  },
  {
    "text": "validating admission use cases uh you know in validating admission policies you re you write uh",
    "start": "817079",
    "end": "824959"
  },
  {
    "text": "validation Expressions uh in cell language and these validation expressions are usually uh evaluated",
    "start": "824959",
    "end": "832880"
  },
  {
    "text": "directly in the API server and um as you see it's directly ated in the API server",
    "start": "832880",
    "end": "840880"
  },
  {
    "text": "so there is no need for admission controllers at all and hence validating",
    "start": "840880",
    "end": "846320"
  },
  {
    "text": "admission policies reduce the latency that comes you know as a result of the",
    "start": "846320",
    "end": "851519"
  },
  {
    "text": "round trip between the API server and the admission controller and of course",
    "start": "851519",
    "end": "857839"
  },
  {
    "text": "it also reduces the complexity of writing and maintaining a Val uh an admission",
    "start": "857839",
    "end": "864480"
  },
  {
    "text": "controller um yeah so yeah with that said let's",
    "start": "864480",
    "end": "870639"
  },
  {
    "text": "take you know a quick look a quick look on you know how to write a validating admission policy so first of all you",
    "start": "870639",
    "end": "878279"
  },
  {
    "text": "write a policy definition where uh you specify the resources that you want to",
    "start": "878279",
    "end": "885399"
  },
  {
    "text": "check uh that you want to apply the policies to them so for the sake of this",
    "start": "885399",
    "end": "891040"
  },
  {
    "text": "example in the left manifest you will see that we have a policy definition that matches deployments and you also",
    "start": "891040",
    "end": "899079"
  },
  {
    "text": "specify validation Expressions those cell expressions are going to be checked",
    "start": "899079",
    "end": "905279"
  },
  {
    "text": "against the incoming resource so in this example um it checks for the deployment",
    "start": "905279",
    "end": "912199"
  },
  {
    "text": "replica it makes sure that any incoming deployment should be less than or equal",
    "start": "912199",
    "end": "918720"
  },
  {
    "text": "five and of course this cell expression will be evaluated to either true or",
    "start": "918720",
    "end": "924519"
  },
  {
    "text": "false so if it is evaluated to true this means that the API server will allow the",
    "start": "924519",
    "end": "931440"
  },
  {
    "text": "creation of such resource uh because it doesn't violate the policy otherwise if",
    "start": "931440",
    "end": "937680"
  },
  {
    "text": "you know if if it if it is VI if it violates the policy then the cell expression will be evaluated to false",
    "start": "937680",
    "end": "945120"
  },
  {
    "text": "and the API server will will have to take you know an action regarding this",
    "start": "945120",
    "end": "950720"
  },
  {
    "text": "regarding uh the violation of the resource and uh this is um this is",
    "start": "950720",
    "end": "957319"
  },
  {
    "text": "important and this is how the validating and Mission policy binding is important",
    "start": "957319",
    "end": "962519"
  },
  {
    "text": "for us so the validating and Mission policy binding as you see in you know",
    "start": "962519",
    "end": "968120"
  },
  {
    "text": "the example in the right uh manifest uh you will see that U you can use the",
    "start": "968120",
    "end": "975120"
  },
  {
    "text": "binding to specify the validation action that the API server will take in case",
    "start": "975120",
    "end": "981600"
  },
  {
    "text": "the resource violates the policy and in this exam in this example it is set to",
    "start": "981600",
    "end": "987360"
  },
  {
    "text": "deny which means that the API server will block any resource that violates",
    "start": "987360",
    "end": "993120"
  },
  {
    "text": "the policy and another thing is that binding provides scoping to the",
    "start": "993120",
    "end": "999399"
  },
  {
    "text": "resources that is mentioned in the policy definition itself uh what does",
    "start": "999399",
    "end": "1004440"
  },
  {
    "text": "that mean so as you see in the right manifest uh The Binding is actually uh",
    "start": "1004440",
    "end": "1011560"
  },
  {
    "text": "uh specifies match resources field where you know it specifies that it will be",
    "start": "1011560",
    "end": "1018240"
  },
  {
    "text": "applied to to all resources whose namespace labels is set to environment",
    "start": "1018240",
    "end": "1023519"
  },
  {
    "text": "as a key uh this means that together with the policy and The Binding it will be",
    "start": "1023519",
    "end": "1030280"
  },
  {
    "text": "applied to deployments but not all deployments it will be applied to only",
    "start": "1030280",
    "end": "1036360"
  },
  {
    "text": "the deployment whose name space labels H has you know the environment",
    "start": "1036360",
    "end": "1043160"
  },
  {
    "text": "label yeah uh with that said uh validating and Mission policies um you",
    "start": "1044520",
    "end": "1051400"
  },
  {
    "text": "know is used to write policy definitions and apply them to resources but it lacks",
    "start": "1051400",
    "end": "1058400"
  },
  {
    "text": "some important tools that provides a full policy management experience to",
    "start": "1058400",
    "end": "1064120"
  },
  {
    "text": "users and that's where keru comes in so keru is a batteries included experience",
    "start": "1064120",
    "end": "1071360"
  },
  {
    "text": "when it comes to uh managing validating ad Mission policies um one of the most important",
    "start": "1071360",
    "end": "1078919"
  },
  {
    "text": "tools provided by keru is the keru CLI so the CLI can be used to apply",
    "start": "1078919",
    "end": "1087039"
  },
  {
    "text": "validating admission policies to resources locally or against clusters",
    "start": "1087039",
    "end": "1092840"
  },
  {
    "text": "and this is uh this makes it easier for you to um you know uh simulate the",
    "start": "1092840",
    "end": "1099320"
  },
  {
    "text": "policy enforcements without altering the cluster State and of course it makes it",
    "start": "1099320",
    "end": "1104559"
  },
  {
    "text": "easier for policy authors to make adjustments to the policy before",
    "start": "1104559",
    "end": "1109720"
  },
  {
    "text": "deployment and you know making sure that the policy achieve their the the desired",
    "start": "1109720",
    "end": "1117200"
  },
  {
    "text": "outcome uh and of course users can use the K CLI to validate resources in cicd",
    "start": "1117200",
    "end": "1124960"
  },
  {
    "text": "pipelines and there are many much resources uh sorry there are many much",
    "start": "1124960",
    "end": "1130159"
  },
  {
    "text": "use cases that you can benefit from the K CLI um I prepared a quick demo uh you",
    "start": "1130159",
    "end": "1137480"
  },
  {
    "text": "know on applying valid dating admission policies to resources using the kerno playground so that you can see uh how",
    "start": "1137480",
    "end": "1145520"
  },
  {
    "text": "how you can you know run validating admission policies without actually deploying them in the",
    "start": "1145520",
    "end": "1152400"
  },
  {
    "text": "cluster so uh first of all um on the left side we have the policy definition",
    "start": "1152400",
    "end": "1158919"
  },
  {
    "text": "and here it is you know the same example as uh the Manifest we have I have ched",
    "start": "1158919",
    "end": "1165320"
  },
  {
    "text": "in the slides so this validating admission policy matches deployments and",
    "start": "1165320",
    "end": "1171640"
  },
  {
    "text": "uh it checks that the deployment replica is less than or equal to",
    "start": "1171640",
    "end": "1178080"
  },
  {
    "text": "and yeah sorry and we have also uh the validating",
    "start": "1178080",
    "end": "1186000"
  },
  {
    "text": "and Mission policy binding okay as you see here uh the validating and Mission",
    "start": "1186000",
    "end": "1192000"
  },
  {
    "text": "policy binding is used to select deployments uh with a label with the app",
    "start": "1192000",
    "end": "1198280"
  },
  {
    "text": "label so again this policy will not be applied to all deployments it will only",
    "start": "1198280",
    "end": "1204159"
  },
  {
    "text": "be applied to the deployments who has you know the app label and the",
    "start": "1204159",
    "end": "1210280"
  },
  {
    "text": "validation action is set to deny which means that the resource will be blocked in case it violates the in case it",
    "start": "1210280",
    "end": "1217280"
  },
  {
    "text": "violates the policy okay with that said you will see on the right side uh",
    "start": "1217280",
    "end": "1224080"
  },
  {
    "text": "sorry yeah on the right side um um very is manifest we have um",
    "start": "1224080",
    "end": "1232240"
  },
  {
    "text": "two deployments the first deployment you know is called busy box deployment and",
    "start": "1232240",
    "end": "1237720"
  },
  {
    "text": "it has a replica of four uh and as you see here it has the label app and the",
    "start": "1237720",
    "end": "1244880"
  },
  {
    "text": "second deployment is the engine X deployment one and um it has also uh the",
    "start": "1244880",
    "end": "1253080"
  },
  {
    "text": "the app the label app but with a different value okay uh",
    "start": "1253080",
    "end": "1259120"
  },
  {
    "text": "and you know it has a replica of four again so both deployments violates the",
    "start": "1259120",
    "end": "1265880"
  },
  {
    "text": "policy but one of them uh uh uh the policy will be applied to and the other",
    "start": "1265880",
    "end": "1272600"
  },
  {
    "text": "the resource will be skipped because it doesn't match the policy in the first",
    "start": "1272600",
    "end": "1278679"
  },
  {
    "text": "place okay if we run it",
    "start": "1278840",
    "end": "1284640"
  },
  {
    "text": "yeah you will see that uh uh only the engine x deployments uh batches yeah H",
    "start": "1284640",
    "end": "1292919"
  },
  {
    "text": "you will see that only only uh the deployments the engine X deployments",
    "start": "1292919",
    "end": "1298400"
  },
  {
    "text": "that matches the policy so the policies appli to them one of them fail and the other pass uh this is because there is a",
    "start": "1298400",
    "end": "1306360"
  },
  {
    "text": "third deployment that has uh a replica of two but yeah I I forgot about",
    "start": "1306360",
    "end": "1314240"
  },
  {
    "text": "it yeah anyways yeah here is it um anyway uh I provided a link to this",
    "start": "1314240",
    "end": "1323360"
  },
  {
    "text": "example in the slides so that you can enter you know click on the link and you",
    "start": "1323360",
    "end": "1328720"
  },
  {
    "text": "can manipulate with the with the resources further more and if you have any questions please reach out to me it",
    "start": "1328720",
    "end": "1335360"
  },
  {
    "text": "is just a basic uh example uh if you want more examples yeah I'm glad to help",
    "start": "1335360",
    "end": "1341440"
  },
  {
    "text": "if you have any specific use case Okay uh the last",
    "start": "1341440",
    "end": "1349200"
  },
  {
    "text": "yeah uh the last thing that I want to talk about is um the reporting system so",
    "start": "1349200",
    "end": "1356640"
  },
  {
    "text": "in addition to keru CLI keru provides a reporting system that generates policy",
    "start": "1356640",
    "end": "1363360"
  },
  {
    "text": "reports as a result of applying validating admission policies to",
    "start": "1363360",
    "end": "1368559"
  },
  {
    "text": "resources and these reports you know provide valuable insights and",
    "start": "1368559",
    "end": "1374000"
  },
  {
    "text": "information about the compliance and the state of the cluster as sorry and the state of the policies in the cluster and",
    "start": "1374000",
    "end": "1381960"
  },
  {
    "text": "you know teams can analyze these reports and um identify for example the policy",
    "start": "1381960",
    "end": "1388600"
  },
  {
    "text": "violations and then they can take appropriate actions to rectify them uh",
    "start": "1388600",
    "end": "1394480"
  },
  {
    "text": "you you can also even have an existing resources um and then you and then you",
    "start": "1394480",
    "end": "1400840"
  },
  {
    "text": "for example deploy the policy so you want to um apply this new validating",
    "start": "1400840",
    "end": "1407480"
  },
  {
    "text": "admission policy to the existing resources so this is extremely benefit",
    "start": "1407480",
    "end": "1413000"
  },
  {
    "text": "when you want to you know have a background scanning for the existing resources and um uh there is some you",
    "start": "1413000",
    "end": "1421400"
  },
  {
    "text": "know U manifest some part of the Manifest of the policy report uh it",
    "start": "1421400",
    "end": "1426760"
  },
  {
    "text": "shows us the result of applying the validating admission policy which is called check deployment replica to the",
    "start": "1426760",
    "end": "1434799"
  },
  {
    "text": "deployment uh whose name space is staging an s and the result is fail as",
    "start": "1434799",
    "end": "1440720"
  },
  {
    "text": "you see and why does it fail because you know it violates uh uh the the",
    "start": "1440720",
    "end": "1447080"
  },
  {
    "text": "deployment replica it should be less than or equal five but it seems that this resource has you know uh a higher",
    "start": "1447080",
    "end": "1454840"
  },
  {
    "text": "number of replica uh that's it if you have any questions yeah you know I will be glad",
    "start": "1454840",
    "end": "1461440"
  },
  {
    "text": "to help um next we will talk about keru Jason and chalar will uh yeah with take",
    "start": "1461440",
    "end": "1468640"
  },
  {
    "text": "the lead in this part thank",
    "start": "1468640",
    "end": "1472000"
  },
  {
    "text": "you okay thanks Mariam so my name is",
    "start": "1477399",
    "end": "1483520"
  },
  {
    "text": "Char I'm working at neata as a staff engineer in the same t as Mariam so I",
    "start": "1483520",
    "end": "1490520"
  },
  {
    "text": "started working at neata two years ago I did a lot of contributions to K",
    "start": "1490520",
    "end": "1498600"
  },
  {
    "text": "during the first year and the past year I spent most of my time doing research",
    "start": "1498600",
    "end": "1504760"
  },
  {
    "text": "and Innovation to see how we could do the same thing as Kau but",
    "start": "1504760",
    "end": "1512399"
  },
  {
    "text": "outside of kubernetes cluster basically uh so we're going to talk about that and",
    "start": "1512399",
    "end": "1519480"
  },
  {
    "text": "that's what the two infinity and beyond is about how do we take what we add with",
    "start": "1519480",
    "end": "1525840"
  },
  {
    "text": "K know working well in in kubernetes clusters and make this generic enough to",
    "start": "1525840",
    "end": "1532120"
  },
  {
    "text": "apply that to other Technologies than kubernetes so to start with uh we",
    "start": "1532120",
    "end": "1539960"
  },
  {
    "text": "studied the strengths and weaknesses of keano because um there's something",
    "start": "1539960",
    "end": "1547080"
  },
  {
    "text": "important to realize is that Keno is a kubernetes native project being a",
    "start": "1547080",
    "end": "1554000"
  },
  {
    "text": "kubernetes native project is great because uh it works well in the cloud",
    "start": "1554000",
    "end": "1560640"
  },
  {
    "text": "native ecosystem it was built for kuties so um it's",
    "start": "1560640",
    "end": "1566600"
  },
  {
    "text": "definitely extremely easy to to use CNO in a ketes cluster but when you try to",
    "start": "1566600",
    "end": "1573960"
  },
  {
    "text": "use the same tool outside of kubernetes what was an advantage at the",
    "start": "1573960",
    "end": "1580760"
  },
  {
    "text": "beginning becomes a problem actually so we had to first ask the question what",
    "start": "1580760",
    "end": "1587440"
  },
  {
    "text": "are the strength and what are the weaknesses of K so for those who know K it will be an Evidence",
    "start": "1587440",
    "end": "1596120"
  },
  {
    "text": "and obvious for those who don't know kivano it will be good reasons to adopt",
    "start": "1596120",
    "end": "1602000"
  },
  {
    "text": "it so kivano is simple uh it doesn't",
    "start": "1602000",
    "end": "1607559"
  },
  {
    "text": "require any coding language and then it's really easy to adop and to start",
    "start": "1607559",
    "end": "1613200"
  },
  {
    "text": "with it is kubernetes native so if you're running kubernetes it's",
    "start": "1613200",
    "end": "1619760"
  },
  {
    "text": "great but it makes it not portable and uh with those",
    "start": "1619760",
    "end": "1627880"
  },
  {
    "text": "attributes of course kivano grew quickly and became widely adopted um it evolved",
    "start": "1627880",
    "end": "1635840"
  },
  {
    "text": "fastly but also suffered a lot from the kubernetes influence uh we added features in kivano",
    "start": "1635840",
    "end": "1644000"
  },
  {
    "text": "but we were always focusing on making those features work work well in",
    "start": "1644000",
    "end": "1649159"
  },
  {
    "text": "kubernetes clusters so in the end the more we added features the more we were",
    "start": "1649159",
    "end": "1656720"
  },
  {
    "text": "coupled with kubernetes and the more it was going to be difficult to move",
    "start": "1656720",
    "end": "1663120"
  },
  {
    "text": "outside of cuberes and to do that we probably wanted to do something",
    "start": "1663120",
    "end": "1673720"
  },
  {
    "text": "different thank you uh uh but different but but the same",
    "start": "1673720",
    "end": "1682000"
  },
  {
    "text": "actually and other slides will be same but different but yeah it's kind of similar so basically we would like to",
    "start": "1682000",
    "end": "1690360"
  },
  {
    "text": "keep uh what we love in our toy but making it more uh modern and more",
    "start": "1690360",
    "end": "1697279"
  },
  {
    "text": "adapted to the today needs so for example most of",
    "start": "1697279",
    "end": "1704039"
  },
  {
    "text": "our users wanted to be able to use CNO policies with infrastructure as code and",
    "start": "1704039",
    "end": "1709840"
  },
  {
    "text": "they wanted to write policies for their tform code they wanted to write policies",
    "start": "1709840",
    "end": "1715240"
  },
  {
    "text": "in the same way they do it for k no so with just basic caml definitions in a",
    "start": "1715240",
    "end": "1721000"
  },
  {
    "text": "declarative way and that's what we wanted to do um for that uh we had to escape the",
    "start": "1721000",
    "end": "1731720"
  },
  {
    "text": "kubernetes jail keano was logged in while keeping the simplicity",
    "start": "1731720",
    "end": "1739080"
  },
  {
    "text": "while keeping the no coding requirement we wanted to erase the",
    "start": "1739080",
    "end": "1744840"
  },
  {
    "text": "kubernetes native uh attribute and make it portable so for that we had to look",
    "start": "1744840",
    "end": "1752200"
  },
  {
    "text": "at the anatomy of a Keno policy what is a Keno policy actually what is doing a",
    "start": "1752200",
    "end": "1758480"
  },
  {
    "text": "policy engine we can summarize the job of a policy engine like very simply given a",
    "start": "1758480",
    "end": "1768240"
  },
  {
    "text": "object you have an object in your hand and you have a set of policies the policy Eng is going to take all the",
    "start": "1768240",
    "end": "1776440"
  },
  {
    "text": "rules in your policy in your policies is going to first determine if the rule",
    "start": "1776440",
    "end": "1782799"
  },
  {
    "text": "applies to the object if it doesn't apply it will move to the next policy",
    "start": "1782799",
    "end": "1789559"
  },
  {
    "text": "and the next rule if it applies it's going to evaluate the content of the",
    "start": "1789559",
    "end": "1795120"
  },
  {
    "text": "rule against the object you provided and provide an outcome so is it matching the",
    "start": "1795120",
    "end": "1803000"
  },
  {
    "text": "expected requirements or not so and at the end you have a bunch of outcomes",
    "start": "1803000",
    "end": "1810360"
  },
  {
    "text": "corresponding to the result of evaluating every wule with the given object and you can make a decision I am",
    "start": "1810360",
    "end": "1817039"
  },
  {
    "text": "going to validate this object or not um for that the structure we have",
    "start": "1817039",
    "end": "1824640"
  },
  {
    "text": "here is perfectly adapted but if we look on the right there are a lot of things",
    "start": "1824640",
    "end": "1831720"
  },
  {
    "text": "that are very kubernetes specific like resource kinds labels name spaces",
    "start": "1831720",
    "end": "1838760"
  },
  {
    "text": "cluster roles all this is completely kubernetes specific so taking this",
    "start": "1838760",
    "end": "1845840"
  },
  {
    "text": "didn't make sense keeping the same structure made sense but without the",
    "start": "1845840",
    "end": "1851159"
  },
  {
    "text": "kubernetes specific parts so we are somehow uh to replace that the question",
    "start": "1851159",
    "end": "1857399"
  },
  {
    "text": "is are are we going to replace it with and we are uh going to go through a",
    "start": "1857399",
    "end": "1866960"
  },
  {
    "text": "few example of how we could do that by comparing uh Keno policies and the keno",
    "start": "1866960",
    "end": "1873679"
  },
  {
    "text": "Jon policies on the left we have a k policies for deployment so the match",
    "start": "1873679",
    "end": "1879000"
  },
  {
    "text": "statement says any resource that has the kind deployment we can do the same in uh",
    "start": "1879000",
    "end": "1886399"
  },
  {
    "text": "K Json with some something quite similar uh we will match on any object",
    "start": "1886399",
    "end": "1892679"
  },
  {
    "text": "that has a field called API version and the value is apps V1 and another field",
    "start": "1892679",
    "end": "1900080"
  },
  {
    "text": "that has the name kind and the value is deployment so this time we don't have any",
    "start": "1900080",
    "end": "1908240"
  },
  {
    "text": "dependency on the kubernetes schema uh instead of API version apps V1 it could",
    "start": "1908240",
    "end": "1915840"
  },
  {
    "text": "be type S3 it's just the partial definition of an",
    "start": "1915840",
    "end": "1921799"
  },
  {
    "text": "object if the object we are provided matches the partial definition we have",
    "start": "1921799",
    "end": "1927559"
  },
  {
    "text": "here uh it will be matching and same for",
    "start": "1927559",
    "end": "1932880"
  },
  {
    "text": "extrud the second uh point is how can we for example uh check that the number of",
    "start": "1932880",
    "end": "1941279"
  },
  {
    "text": "replicas of the deployment is greater than two so in a policy in AO policy we",
    "start": "1941279",
    "end": "1949559"
  },
  {
    "text": "used uh patterns which represented comparison operations so we go in Spec",
    "start": "1949559",
    "end": "1956519"
  },
  {
    "text": "then in replicas and we applied the greater greater or equal to two and this",
    "start": "1956519",
    "end": "1964279"
  },
  {
    "text": "was replaced in uh K oison with something a bit different but a lot more",
    "start": "1964279",
    "end": "1970880"
  },
  {
    "text": "flexible so we are we replaced validate with asset and we have all check that",
    "start": "1970880",
    "end": "1978840"
  },
  {
    "text": "are intermediary standard and we are checking that spec and this time we take",
    "start": "1978840",
    "end": "1985919"
  },
  {
    "text": "replicas we apply a comparison operator",
    "start": "1985919",
    "end": "1990960"
  },
  {
    "text": "so replicas greater or equal than two and we expect this to be true so it",
    "start": "1990960",
    "end": "1997480"
  },
  {
    "text": "looks a bit different but also close to what we had in the in the first place",
    "start": "1997480",
    "end": "2005720"
  },
  {
    "text": "but in the second case we would have other conditions and things like this so",
    "start": "2005720",
    "end": "2010840"
  },
  {
    "text": "it makes it a lot more flexible and the third one is about uh",
    "start": "2010840",
    "end": "2018440"
  },
  {
    "text": "doing uh array processing differently so we introduced a way",
    "start": "2018440",
    "end": "2024919"
  },
  {
    "text": "to process arrays uh a bit more elegantly and",
    "start": "2024919",
    "end": "2032600"
  },
  {
    "text": "uh yeah a bit more elegantly and with more flexibility so we now have",
    "start": "2032600",
    "end": "2039559"
  },
  {
    "text": "the til in front of the data that means that um K Jon will iterate over every",
    "start": "2039559",
    "end": "2047240"
  },
  {
    "text": "item applying the same assertion to every item in the",
    "start": "2047240",
    "end": "2053280"
  },
  {
    "text": "array uh so basically this allowed us to write K policies",
    "start": "2053280",
    "end": "2061200"
  },
  {
    "text": "for um terraform code and in this one we have a match this match is going to",
    "start": "2061200",
    "end": "2068638"
  },
  {
    "text": "match on something that's completely different than uh kubernetes resource for this one it is an NCS task",
    "start": "2068639",
    "end": "2076280"
  },
  {
    "text": "definition so if the payload we are receiving contains any ECS task",
    "start": "2076280",
    "end": "2082839"
  },
  {
    "text": "definition is going to check that the resource AWS ACS task definition Network Mode is",
    "start": "2082839",
    "end": "2091760"
  },
  {
    "text": "AWS VPC so if it's different than that",
    "start": "2091760",
    "end": "2097040"
  },
  {
    "text": "uh the resource will be considered violating the rule and will be",
    "start": "2097040",
    "end": "2103000"
  },
  {
    "text": "reported so basically uh this is the new tool K Json this one is simple it has no",
    "start": "2103000",
    "end": "2111040"
  },
  {
    "text": "coding required it is portable this time and it",
    "start": "2111040",
    "end": "2116280"
  },
  {
    "text": "gives more freedom for policy authors allowing uh for example to use it as a",
    "start": "2116280",
    "end": "2123480"
  },
  {
    "text": "goong library so one developing is Z Tool",
    "start": "2123480",
    "end": "2129640"
  },
  {
    "text": "uh yes uh sorry uh so it can be used as a CLI tool as a goong library or as an",
    "start": "2132839",
    "end": "2142359"
  },
  {
    "text": "API and finally uh this is mostly a",
    "start": "2142359",
    "end": "2148000"
  },
  {
    "text": "technology this is not really a complete project because when you are talking",
    "start": "2148000",
    "end": "2153480"
  },
  {
    "text": "about terraform code for example you are probably talking about TF files those TF",
    "start": "2153480",
    "end": "2159520"
  },
  {
    "text": "files are not directly expressed in Json so you probably have to convert that to",
    "start": "2159520",
    "end": "2164760"
  },
  {
    "text": "Json before you can process them with k or Json um so this is more technology than",
    "start": "2164760",
    "end": "2172560"
  },
  {
    "text": "product there's probably something to build on top of that uh for that we",
    "start": "2172560",
    "end": "2177599"
  },
  {
    "text": "created two tools uh the first one is Keno chains so it's a tool to run end to",
    "start": "2177599",
    "end": "2183720"
  },
  {
    "text": "end tests that we used internally and that we open source",
    "start": "2183720",
    "end": "2189560"
  },
  {
    "text": "and a lot of folks started adopting it and we are creating an Envoy",
    "start": "2189839",
    "end": "2196160"
  },
  {
    "text": "plug-in to be able to perform authorization based on policies in",
    "start": "2196160",
    "end": "2202480"
  },
  {
    "text": "service maches like ISO so this is really a project this time uh and this",
    "start": "2202480",
    "end": "2210000"
  },
  {
    "text": "is really outside kubernetes clusters because uh we are going to use it for very different things than before",
    "start": "2210000",
    "end": "2218880"
  },
  {
    "text": "and in the end the goal is to give that back to kiano so that keano we should",
    "start": "2218880",
    "end": "2226200"
  },
  {
    "text": "benefit those Evolutions in the in the",
    "start": "2226200",
    "end": "2231240"
  },
  {
    "text": "future oops sorry and yes uh finally those two tools are working uh well so",
    "start": "2231240",
    "end": "2240839"
  },
  {
    "text": "the next challenge is to get this back in kivano that's it and thank you",
    "start": "2240839",
    "end": "2248040"
  },
  {
    "text": "so just to recap you can join the community we have a very active slack",
    "start": "2248040",
    "end": "2254040"
  },
  {
    "text": "Channel we have weekly meetings you can contribute to our projects share your feedback and we hope",
    "start": "2254040",
    "end": "2261240"
  },
  {
    "text": "you enjoyed the conference uh and they keep going this",
    "start": "2261240",
    "end": "2266599"
  },
  {
    "text": "year",
    "start": "2270720",
    "end": "2273720"
  }
]