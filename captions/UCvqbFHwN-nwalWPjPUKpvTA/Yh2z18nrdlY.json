[
  {
    "start": "0",
    "end": "29000"
  },
  {
    "text": "good morning everybody this is the signal tea cluster deep-dive my name is Paul I work on the kubernetes ecosystem",
    "start": "60",
    "end": "6330"
  },
  {
    "text": "at Red Hat and this is my esteemed colleague orphan who works for Huawei so",
    "start": "6330",
    "end": "12210"
  },
  {
    "text": "today's agenda we're gonna cover just really quickly the mission of this cig",
    "start": "12210",
    "end": "17699"
  },
  {
    "text": "talk about the different sub projects and excuse me then do a deep dive",
    "start": "17699",
    "end": "24480"
  },
  {
    "text": "focusing on different aspects of Federation v2 so the sig multi cluster",
    "start": "24480",
    "end": "30210"
  },
  {
    "start": "29000",
    "end": "29000"
  },
  {
    "text": "mission and I'm glad you're all sitting down for this shocking news is to solve",
    "start": "30210",
    "end": "35730"
  },
  {
    "text": "common challenges related to management of multiple kubernetes clusters and the applications that we want to deploy on",
    "start": "35730",
    "end": "41940"
  },
  {
    "text": "them so that includes designing discussing implementing and maintaining api's tools and documentation related to",
    "start": "41940",
    "end": "49379"
  },
  {
    "text": "multi cluster it doesn't necessarily include only particular styles of",
    "start": "49379",
    "end": "55289"
  },
  {
    "text": "approaches like the one that we take currently in Federation and also",
    "start": "55289",
    "end": "60359"
  },
  {
    "text": "includes standalone building blocks and if there are changes to push into kubernetes where appropriate includes",
    "start": "60359",
    "end": "66240"
  },
  {
    "text": "those two you can read more in the cig multi cluster readme at the link below",
    "start": "66240",
    "end": "72289"
  },
  {
    "start": "72000",
    "end": "72000"
  },
  {
    "text": "so these some of this portion is already covered as part of intro so we are just",
    "start": "72950",
    "end": "79560"
  },
  {
    "text": "quickly gonna browse to them so we have three active projects right now Federation v2 what we call is the most",
    "start": "79560",
    "end": "87390"
  },
  {
    "text": "active of all of them we also have cluster registry and cube mci the details of that has already been",
    "start": "87390",
    "end": "93780"
  },
  {
    "text": "covered covered in intro we are more interested in diving deep into a federation v2 project for this",
    "start": "93780",
    "end": "100020"
  },
  {
    "text": "particular deep dive session so what we",
    "start": "100020",
    "end": "106049"
  },
  {
    "start": "103000",
    "end": "103000"
  },
  {
    "text": "did not cover as part of intro was something about the history of Federation or there was something called",
    "start": "106049",
    "end": "113189"
  },
  {
    "text": "Federation v1 or when it was designed it actually had some original goals we",
    "start": "113189",
    "end": "119280"
  },
  {
    "text": "still stick to those goals and those are mainly to do with problems associated",
    "start": "119280",
    "end": "124770"
  },
  {
    "text": "with handling multiple clusters so when you have why do you or why the users",
    "start": "124770",
    "end": "130800"
  },
  {
    "text": "would need multiple clusters so I single pleasure is running out of",
    "start": "130800",
    "end": "136660"
  },
  {
    "text": "capacity that is when a user wants another cluster or more clusters when there are workloads which can be run in",
    "start": "136660",
    "end": "143680"
  },
  {
    "text": "the one in the single which can be run in one cluster but cannot be run in the cluster which are say security sensitive",
    "start": "143680",
    "end": "150100"
  },
  {
    "text": "or because of some policies they need to be run in some geography alone that is also a reason to have multiple pressures",
    "start": "150100",
    "end": "156720"
  },
  {
    "text": "when users want to avoid being stick stuck to a single vendor that is also",
    "start": "156720",
    "end": "163630"
  },
  {
    "text": "when there's a possibility for users to use multiple clusters and essays obviously one of the main reasons to",
    "start": "163630",
    "end": "170230"
  },
  {
    "text": "have more than one clusters in case a single pressure network connectivity or the whole cluster goes down in itself so",
    "start": "170230",
    "end": "179430"
  },
  {
    "start": "179000",
    "end": "179000"
  },
  {
    "text": "you've heard us talk about Federation as being v2 we're going to talk a lot about",
    "start": "179430",
    "end": "185320"
  },
  {
    "text": "Federation v2 today but one thing that we want to mention is one of the main motivations for v2 is that we have a",
    "start": "185320",
    "end": "193510"
  },
  {
    "text": "very different world today than when the original Federation project was created",
    "start": "193510",
    "end": "198730"
  },
  {
    "text": "the most salient difference is that now kubernetes has an API surface that can",
    "start": "198730",
    "end": "205090"
  },
  {
    "text": "be extended by kubernetes api so you may have heard of this thing called custom",
    "start": "205090",
    "end": "210340"
  },
  {
    "text": "resource definitions and that really means that in order for a something like",
    "start": "210340",
    "end": "215980"
  },
  {
    "text": "Federation to be useful it has to support types that we don't know about in advance when we write Federation that",
    "start": "215980",
    "end": "223660"
  },
  {
    "text": "has motivated us in Federation v2 to move to a purely configuration driven approach and bass Federation v2 entirely",
    "start": "223660",
    "end": "232150"
  },
  {
    "text": "on CR DS so just to go over some of the use cases that we support today the the",
    "start": "232150",
    "end": "238570"
  },
  {
    "start": "233000",
    "end": "233000"
  },
  {
    "text": "headline here is that you can add Federation support for any kubernetes resource whether it's in an API server",
    "start": "238570",
    "end": "244959"
  },
  {
    "text": "maybe the kubernetes api server or one that you wrote yourself or a custom",
    "start": "244959",
    "end": "250000"
  },
  {
    "text": "resource definition you can deploy workloads composed of these arbitrary",
    "start": "250000",
    "end": "255070"
  },
  {
    "text": "API resources across multiple clusters with a active push reconciler meaning",
    "start": "255070",
    "end": "260919"
  },
  {
    "text": "that we're pushing API resources from where Federation is hosted in to the",
    "start": "260919",
    "end": "266470"
  },
  {
    "text": "clusters and customize different fields about these resources per cluster so",
    "start": "266470",
    "end": "272230"
  },
  {
    "text": "this is kind of like the basis basic level of workload distribution we have some really interesting behaviors built",
    "start": "272230",
    "end": "278950"
  },
  {
    "text": "on top of that for class cross cluster service discovery it's a little bit of a tongue twister and service failover",
    "start": "278950",
    "end": "285730"
  },
  {
    "text": "across clusters and then also dynamic rescheduling and rebalancing of replica workloads across clusters but those are",
    "start": "285730",
    "end": "292750"
  },
  {
    "text": "really just two examples because the sky's the limit and we'll talk about how you may want to write your own higher",
    "start": "292750",
    "end": "300160"
  },
  {
    "text": "level controller operator that targets Federation so one last thing for folks",
    "start": "300160",
    "end": "306760"
  },
  {
    "text": "that are interested in how do you actually run this stuff in a cluster one of the most interesting things to me",
    "start": "306760",
    "end": "312640"
  },
  {
    "text": "that we've done in Federation so far is that you can deploy Federation on a namespace basis meaning that you can",
    "start": "312640",
    "end": "318430"
  },
  {
    "text": "host multiple copies of Federation within the same cluster you can have different users target the same cluster",
    "start": "318430",
    "end": "325360"
  },
  {
    "text": "and not stomp on I'll stomp all over one another so to speak so who's ready to",
    "start": "325360",
    "end": "332980"
  },
  {
    "text": "jump off the diving board I've got my swim trunks on under here but you're not gonna see him today",
    "start": "332980",
    "end": "339030"
  },
  {
    "start": "339000",
    "end": "339000"
  },
  {
    "text": "you may have seen this this diagram if you read the blog post that we published",
    "start": "339030",
    "end": "345520"
  },
  {
    "text": "on onto the kubernetes blog and may have seen this in the sig intro but her Fon",
    "start": "345520",
    "end": "352240"
  },
  {
    "text": "and I made this diagram so we felt like we could use it again I do notice looking this that it's an awful lot of",
    "start": "352240",
    "end": "358720"
  },
  {
    "text": "boxes so perhaps or fun maybe we can just constrain this to something smaller more manageable to start with let's zoom",
    "start": "358720",
    "end": "366310"
  },
  {
    "text": "in so I have restricted the whole diagram to say six boxes right now and",
    "start": "366310",
    "end": "372570"
  },
  {
    "text": "let me explain what these are so we have in the blue big rectangle that you see",
    "start": "372570",
    "end": "379120"
  },
  {
    "text": "we have a template I hope it's legible we have a template a placement and an override those are basically type",
    "start": "379120",
    "end": "386710"
  },
  {
    "text": "definitions of the api's that we associate with a target resource in a",
    "start": "386710",
    "end": "393130"
  },
  {
    "text": "given KS cluster so this is basically all the information that is provided",
    "start": "393130",
    "end": "398550"
  },
  {
    "text": "additionally for federating resource in the federation control plane that we",
    "start": "398550",
    "end": "403600"
  },
  {
    "text": "have other three are the type configuration and propagation that is inbuilt or the core type definition of",
    "start": "403600",
    "end": "411930"
  },
  {
    "text": "provided inside the federation control plane which specifies of which specifies",
    "start": "411930",
    "end": "418120"
  },
  {
    "text": "the association between the target type and the type definitions that i specified as template placement and",
    "start": "418120",
    "end": "423640"
  },
  {
    "text": "override and then there is cluster configuration that is also one of the core resources within the Federation control plane so how exactly the control",
    "start": "423640",
    "end": "436240"
  },
  {
    "text": "plane knows about what clusters to propagate to that happens or that can be",
    "start": "436240",
    "end": "441700"
  },
  {
    "text": "done using queue fed join so when a user does or an admin does a queue for join",
    "start": "441700",
    "end": "446860"
  },
  {
    "text": "he basically specifying a target cluster and telling the control plane that this",
    "start": "446860",
    "end": "453400"
  },
  {
    "text": "is one of the clusters which will be associated with the Federation and multiple clusters can be joined to",
    "start": "453400",
    "end": "459880"
  },
  {
    "text": "Federation and we haven't put any limit to that also as of here how does",
    "start": "459880",
    "end": "464970"
  },
  {
    "text": "Federation know or the control plane knows what type to associate with so we",
    "start": "464970",
    "end": "472510"
  },
  {
    "text": "have provided a tooling for that also that we call it Q fed fed rate and what it basically does is creates the type",
    "start": "472510",
    "end": "479260"
  },
  {
    "text": "configuration associating a target type and the type definitions which are there in Federation control plane once these",
    "start": "479260",
    "end": "486790"
  },
  {
    "text": "two things are created we have a sync controller or a sync loop which basically can propagate the resources",
    "start": "486790",
    "end": "492520"
  },
  {
    "text": "based on the specifications in the template placement and override to the target clusters and create or reconcile",
    "start": "492520",
    "end": "499450"
  },
  {
    "text": "resources over there so when we were planning this presentation out we said",
    "start": "499450",
    "end": "505210"
  },
  {
    "text": "we can't have something that's a deep dive session without showing yamo so we're gonna see some yellow there are",
    "start": "505210",
    "end": "510670"
  },
  {
    "text": "some examples cool so we talked about the type configuration this is just a",
    "start": "510670",
    "end": "518580"
  },
  {
    "text": "concise Ammal representation it's not the whole you'll also of water-type",
    "start": "518580",
    "end": "523840"
  },
  {
    "text": "configuration looks like so what you see here is you can find on the seventh line",
    "start": "523840",
    "end": "530560"
  },
  {
    "text": "you find the target so this basically is specifying that the target resource for federating",
    "start": "530560",
    "end": "539030"
  },
  {
    "text": "in the resource is the deployment here and version can also be specified which is v1 it also says to associate this",
    "start": "539030",
    "end": "547700"
  },
  {
    "text": "target resource with the definition information control plane the template override and placement types are what so",
    "start": "547700",
    "end": "554150"
  },
  {
    "text": "for the Federated or the names of those types of what so the federated deployment is the name of that type of the template type of",
    "start": "554150",
    "end": "562160"
  },
  {
    "text": "federated deployment override is the override type and federated deployment placement is the placement type one of",
    "start": "562160",
    "end": "569000"
  },
  {
    "text": "the very key information also which is the last line and specified in blue is the propagation enabled so this tells",
    "start": "569000",
    "end": "576500"
  },
  {
    "text": "this controller or the sync loop to propagate the resource or you can sell the resource in individual clusters or",
    "start": "576500",
    "end": "582680"
  },
  {
    "text": "not so this is a totally admin defined stuff or this is the configuration",
    "start": "582680",
    "end": "588080"
  },
  {
    "text": "provided to the admin of which can be created and controlled by the admin next",
    "start": "588080",
    "end": "595450"
  },
  {
    "text": "on this slide I we have put that definition or the CRD definition which",
    "start": "595450",
    "end": "602870"
  },
  {
    "text": "will define that type of template so this is defining the API type in",
    "start": "602870",
    "end": "610400"
  },
  {
    "text": "Federation so we don't have any code so far written for that additional code that we have to bootstrap the API and",
    "start": "610400",
    "end": "616400"
  },
  {
    "text": "all this stuff it is not needed at all we just create the cid type and install",
    "start": "616400",
    "end": "621650"
  },
  {
    "text": "it in on a given creators API server and that's the Associated template type same",
    "start": "621650",
    "end": "627140"
  },
  {
    "text": "way we have the associated placement types and the override types we have just removed the aminals for that",
    "start": "627140",
    "end": "635060"
  },
  {
    "text": "because it will be too much of a mess otherwise now let's have a look at the",
    "start": "635060",
    "end": "640540"
  },
  {
    "text": "actual object or the actual resource so we have a type definition already there",
    "start": "640540",
    "end": "645650"
  },
  {
    "text": "and if you look at this resource camel what it is specifying is it is the kind",
    "start": "645650",
    "end": "652400"
  },
  {
    "text": "fredita deployment which we have called template and the spec is nothing but",
    "start": "652400",
    "end": "657950"
  },
  {
    "text": "actual deployment resource in a given chaos api server so whatever deployment resource that you want to propagate to",
    "start": "657950",
    "end": "664490"
  },
  {
    "text": "the individual pleasures that is what you would specify over here in the",
    "start": "664490",
    "end": "669920"
  },
  {
    "text": "placement there is nothing else but the list of clusters so the spec basically defines that as the list of clusters",
    "start": "669920",
    "end": "676660"
  },
  {
    "text": "those that's the list of clusters among the federated clusters this resource",
    "start": "676660",
    "end": "681950"
  },
  {
    "text": "should be federated to and we have been able to implement a generic override",
    "start": "681950",
    "end": "689090"
  },
  {
    "text": "mechanism also where you can just specify a cluster a path and a value",
    "start": "689090",
    "end": "695060"
  },
  {
    "text": "which needs to be overridden in that cluster at that specific path in the",
    "start": "695060",
    "end": "700280"
  },
  {
    "text": "spec of the given resource so I think we",
    "start": "700280",
    "end": "705350"
  },
  {
    "text": "have some understanding of this we bungled the transition there it's",
    "start": "705350",
    "end": "711140"
  },
  {
    "text": "alright I hear you get one before they kick you out of cubic on so we're okay",
    "start": "711140",
    "end": "716170"
  },
  {
    "text": "so now we understand a little bit more about this big picture with a lot of",
    "start": "716170",
    "end": "722540"
  },
  {
    "text": "boxes but there's some that we haven't touched on yet I want to draw your attention down here to this box status",
    "start": "722540",
    "end": "729620"
  },
  {
    "text": "and sort of equally important to spec you could say in kubernetes api is this",
    "start": "729620",
    "end": "737150"
  },
  {
    "text": "refers to though we have talked a lot about how do we get resources into",
    "start": "737150",
    "end": "742280"
  },
  {
    "text": "clusters that were targeting we also want to understand what the status of those resources are status is one of the",
    "start": "742280",
    "end": "749780"
  },
  {
    "text": "things that can be an input along with policy which might refer to something",
    "start": "749780",
    "end": "755150"
  },
  {
    "text": "like in data jurisdiction requirements that say that a particular workload has to run in a particular geographic",
    "start": "755150",
    "end": "761510"
  },
  {
    "text": "boundary those two things status and policy are inputs to the concept of",
    "start": "761510",
    "end": "767150"
  },
  {
    "text": "scheduling which is moving workloads around scaling workloads etc and",
    "start": "767150",
    "end": "774220"
  },
  {
    "text": "scheduling is an example of one of these higher-level api's that we want to",
    "start": "774220",
    "end": "779570"
  },
  {
    "text": "enable people to write and target the lower level Federation primitives another one is the DNS feature of",
    "start": "779570",
    "end": "787190"
  },
  {
    "text": "Federation which allows you to program DNS records for federated services and",
    "start": "787190",
    "end": "792620"
  },
  {
    "text": "ingress to do the DNS provider programming we're using a project from another part of the cube",
    "start": "792620",
    "end": "799130"
  },
  {
    "text": "ecosystem called external DNS and what this allows us to do is to get exposure",
    "start": "799130",
    "end": "804290"
  },
  {
    "text": "to a large number of DNS providers without actually having to become experts in programming DNS so now that",
    "start": "804290",
    "end": "811910"
  },
  {
    "text": "we kind of understand the lay of the land since this is a deep dive we're",
    "start": "811910",
    "end": "817100"
  },
  {
    "text": "gonna zoom back in on this box propagation there and talk about exactly what happens to make all this stuff work",
    "start": "817100",
    "end": "825110"
  },
  {
    "start": "822000",
    "end": "822000"
  },
  {
    "text": "so one of the themes that we're gonna have presented a number of times in this",
    "start": "825110",
    "end": "831770"
  },
  {
    "text": "slide is that the same process happens whether we're talking about a built in kubernetes api type or a CRD that no one",
    "start": "831770",
    "end": "840650"
  },
  {
    "text": "knows about but us our signal tea cluster deep-dive 2018 north america CRD",
    "start": "840650",
    "end": "847130"
  },
  {
    "text": "so obviously we've got a Federation API surface right and we've talked about the Federated type config resource that that",
    "start": "847130",
    "end": "854420"
  },
  {
    "text": "Irvine has just walked us through the type config controllers watching the federated type config resource and when",
    "start": "854420",
    "end": "861140"
  },
  {
    "text": "for example we see one that points Federation at Secrets as an example the",
    "start": "861140",
    "end": "867890"
  },
  {
    "text": "type config controller starts a new sink controller for the secret type and that",
    "start": "867890",
    "end": "873860"
  },
  {
    "text": "handles you know doing the the math basically of figuring out exactly which state of the secret goes to which",
    "start": "873860",
    "end": "880100"
  },
  {
    "text": "cluster and then since we're using push propagation right now actively pushing",
    "start": "880100",
    "end": "885380"
  },
  {
    "text": "the secret resources to the right target clusters similarly if the type config",
    "start": "885380",
    "end": "891050"
  },
  {
    "text": "controller sees a new federated type config for the service type it's going to start a sink controller for services",
    "start": "891050",
    "end": "897230"
  },
  {
    "text": "and that's gonna do the exact same thing do the math figure out where stuff is",
    "start": "897230",
    "end": "902839"
  },
  {
    "text": "gonna go push it there etc now this is",
    "start": "902839",
    "end": "908300"
  },
  {
    "text": "made possible using the same code path by the dynamic client and unstructured",
    "start": "908300",
    "end": "913700"
  },
  {
    "text": "resources which mean that we don't have to differentiate the control or",
    "start": "913700",
    "end": "919010"
  },
  {
    "text": "differentiate the code for these different resources is the exact same code that runs which is pretty neat I'm",
    "start": "919010",
    "end": "925100"
  },
  {
    "text": "glad that we have smarter people than myself working on this API machinery and client goes stuff to make",
    "start": "925100",
    "end": "931100"
  },
  {
    "text": "this happened so that's how we turn it on when we want to turn it off oh sorry",
    "start": "931100",
    "end": "937190"
  },
  {
    "text": "well I kind of talked through this there's some boxes here that represent all the other things you might want to",
    "start": "937190",
    "end": "942860"
  },
  {
    "text": "use this on same stuff runs for those so when we want to stop propagation",
    "start": "942860",
    "end": "948260"
  },
  {
    "text": "resources we can delete the federated type config or you can flip that propagation enabled bit that we saw",
    "start": "948260",
    "end": "954830"
  },
  {
    "text": "earlier and what happens at this point is that the type config controller gets a watch event says hey I need to stop",
    "start": "954830",
    "end": "960770"
  },
  {
    "text": "the propagation for this and it will stop these controllers that it started",
    "start": "960770",
    "end": "967930"
  },
  {
    "text": "you want to talk about scheduling so the code or the code base for schedulers is",
    "start": "967930",
    "end": "974780"
  },
  {
    "start": "971000",
    "end": "971000"
  },
  {
    "text": "also very similar to the same controller so there's an API surface and there's a",
    "start": "974780",
    "end": "981470"
  },
  {
    "text": "scheduler manager that we call watching a similar type config for the target",
    "start": "981470",
    "end": "986750"
  },
  {
    "text": "types for example we have we have written scheduling controller for deployments so for for deployment type",
    "start": "986750",
    "end": "994190"
  },
  {
    "text": "the scheduler manager watches the API surface and if there is a type config that is created by an admin and type",
    "start": "994190",
    "end": "1000670"
  },
  {
    "text": "definition already provided for deployments then it basically starts the",
    "start": "1000670",
    "end": "1006400"
  },
  {
    "text": "scheduling controller associated scheduling controller for deployments the same way so this is also to provide",
    "start": "1006400",
    "end": "1015790"
  },
  {
    "text": "a reference mechanism for any high-level controllers to be written and implemented in a very similar fashion",
    "start": "1015790",
    "end": "1022570"
  },
  {
    "text": "and the implementation of these controllers is such that a new say in",
    "start": "1022570",
    "end": "1030310"
  },
  {
    "text": "each scheduling controller can be plugged in very efficiently without updating much of the code so same way",
    "start": "1030310",
    "end": "1035438"
  },
  {
    "text": "when a type configure the target type is removed the Shalem scheduling manager",
    "start": "1035439",
    "end": "1041380"
  },
  {
    "text": "understands that it has been removed and it will just stop the scheduling controller for that particular type for",
    "start": "1041380",
    "end": "1047079"
  },
  {
    "text": "example deployments",
    "start": "1047079",
    "end": "1049980"
  },
  {
    "start": "1052000",
    "end": "1052000"
  },
  {
    "text": "so we've thrown a lot of API resources at everybody today and to keep them",
    "start": "1052130",
    "end": "1058049"
  },
  {
    "text": "straight we put them into different groups the the federated type config and federated cluster resources are part of",
    "start": "1058049",
    "end": "1064020"
  },
  {
    "text": "the intrinsic API for Federation that programs Federation those are in the core group the primitives group contains",
    "start": "1064020",
    "end": "1070590"
  },
  {
    "text": "the auto-generated resources for the Federation api's and scheduling and",
    "start": "1070590",
    "end": "1075929"
  },
  {
    "text": "multi clustered DNS groups are yeah scheduling group and multi clustered DNS groups are pretty much what they sound",
    "start": "1075929",
    "end": "1081419"
  },
  {
    "text": "like they hold resources for the scheduling and DNS api's so since we do",
    "start": "1081419",
    "end": "1087179"
  },
  {
    "text": "have a lot of different API pieces that work together we needed a way to have an API that wasn't riddled with object",
    "start": "1087179",
    "end": "1094559"
  },
  {
    "text": "references in order to do that we have come up with a naming scheme that allows",
    "start": "1094559",
    "end": "1101880"
  },
  {
    "start": "1100000",
    "end": "1100000"
  },
  {
    "text": "us to have a naming convention to make it very clear which resources and the",
    "start": "1101880",
    "end": "1108690"
  },
  {
    "text": "Federation API is aligned with one another so as an example if I've got a deployment called my DEP the template",
    "start": "1108690",
    "end": "1115260"
  },
  {
    "text": "definition for that thing lives in the federated deployment and the placement and overrides live in the resources of",
    "start": "1115260",
    "end": "1122580"
  },
  {
    "text": "the same name and namespace a similar thing with scheduling and multi cluster",
    "start": "1122580",
    "end": "1128010"
  },
  {
    "text": "DNS for services and ingress now we've",
    "start": "1128010",
    "end": "1133620"
  },
  {
    "start": "1132000",
    "end": "1132000"
  },
  {
    "text": "we've said multiple times how we're not writing any code to do this well we don't have to want to have to write all",
    "start": "1133620",
    "end": "1140159"
  },
  {
    "text": "the CML either so the what we've done to",
    "start": "1140159",
    "end": "1145289"
  },
  {
    "text": "enable that is the cube fed to federated type command this creates the federated",
    "start": "1145289",
    "end": "1150600"
  },
  {
    "text": "type config and generates the Federation api's we we touched on maybe glossed",
    "start": "1150600",
    "end": "1157289"
  },
  {
    "text": "over it in this run-through of the validation schema will generate a",
    "start": "1157289",
    "end": "1162480"
  },
  {
    "text": "validation schema for the Federation API is based on what the API server reports",
    "start": "1162480",
    "end": "1167490"
  },
  {
    "text": "for open API or if it's a custom resource just slurp that validation schema up and reuse it in the Federation",
    "start": "1167490",
    "end": "1174179"
  },
  {
    "text": "API when we want to disable propagation or outright delete the Federation API is",
    "start": "1174179",
    "end": "1180000"
  },
  {
    "text": "from a cluster we've got the cube fed to disable and delete commands so the cuvette federate type was",
    "start": "1180000",
    "end": "1190080"
  },
  {
    "text": "basically federating a type resource or it tells the Federation control plane to",
    "start": "1190080",
    "end": "1197550"
  },
  {
    "text": "enable the Federation for a given type for example deployments but users still",
    "start": "1197550",
    "end": "1203190"
  },
  {
    "text": "have same manifests or a whole set of yaw Mills for their applications which",
    "start": "1203190",
    "end": "1209510"
  },
  {
    "text": "we think is also one of the reasons or one of the use cases where we can ease",
    "start": "1209510",
    "end": "1216480"
  },
  {
    "text": "it for the users to translate those animals into the Federated equivalents at least keep the placeholders which are",
    "start": "1216480",
    "end": "1223380"
  },
  {
    "text": "fed it equivalents and if there is some update needed then users can go ahead and update those manifests so we are",
    "start": "1223380",
    "end": "1229920"
  },
  {
    "text": "basically working on that tooling right now we are going to name it federate resource so the federate resource for",
    "start": "1229920",
    "end": "1237270"
  },
  {
    "text": "example deployment can federate existing k8s resource which as in this example it",
    "start": "1237270",
    "end": "1244380"
  },
  {
    "text": "says my deployment or we can extend it further and this this particular tooling",
    "start": "1244380",
    "end": "1251280"
  },
  {
    "text": "can take existing manifest as input and emit equivalent federated gamal for the",
    "start": "1251280",
    "end": "1258120"
  },
  {
    "text": "same same thing we might also think of extending it as a plug-in or some",
    "start": "1258120",
    "end": "1264750"
  },
  {
    "text": "mechanism of extending the same thing into helm based implementations because that's what we think might be the most used to",
    "start": "1264750",
    "end": "1271020"
  },
  {
    "text": "tool for deploying applications as of now okay so last what we are right now",
    "start": "1271020",
    "end": "1282300"
  },
  {
    "start": "1275000",
    "end": "1275000"
  },
  {
    "text": "focusing on or what is in pipeline or the future work for us is usability the highest on our list for now is usability",
    "start": "1282300",
    "end": "1290460"
  },
  {
    "text": "we have been able to build basics or the primitives basics properly and it seems",
    "start": "1290460",
    "end": "1296070"
  },
  {
    "text": "to work quite fine so we are like in the previous slide in",
    "start": "1296070",
    "end": "1302550"
  },
  {
    "text": "the previous slide we specified that we are trying to work on a tooling which will ease the translation of or",
    "start": "1302550",
    "end": "1309180"
  },
  {
    "text": "transition of your existing K tracer sources into the Federated equivalent we",
    "start": "1309180",
    "end": "1315270"
  },
  {
    "text": "also went through all the resources and we saw that there are n number of set of",
    "start": "1315270",
    "end": "1320809"
  },
  {
    "text": "resources we are in the process of discussions of trying or figuring out if",
    "start": "1320809",
    "end": "1327140"
  },
  {
    "text": "we should merge these resources which might make it easy for the users one of",
    "start": "1327140",
    "end": "1333110"
  },
  {
    "text": "the very important things that we also want to take at as a next step is the actual user facing API so because we",
    "start": "1333110",
    "end": "1340940"
  },
  {
    "text": "have so many resources and there are so many different pieces that needs to be worked in together it might make it move",
    "start": "1340940",
    "end": "1348620"
  },
  {
    "text": "it might make more sense to define API which is a very concise presentation or",
    "start": "1348620",
    "end": "1354140"
  },
  {
    "text": "representation of what a user wants to do with while federating resource status",
    "start": "1354140",
    "end": "1360260"
  },
  {
    "text": "aggregation is also one of our goals for now it's not completely done we have some mechanism of consolidating the",
    "start": "1360260",
    "end": "1367760"
  },
  {
    "text": "status from individual clusters but we want to do it in a more tailored fashion",
    "start": "1367760",
    "end": "1374660"
  },
  {
    "text": "where it might be something that user might be able to make meaning out of we",
    "start": "1374660",
    "end": "1380690"
  },
  {
    "text": "will be working on more high-level schedule behaviors full reconciliation and then this list is not complete it's",
    "start": "1380690",
    "end": "1387919"
  },
  {
    "text": "not exhaustive but these are the main pointers we wanted to showcase that we",
    "start": "1387919",
    "end": "1394400"
  },
  {
    "text": "would be working on so before we do QA I wanted to make a note that when when we",
    "start": "1394400",
    "end": "1400190"
  },
  {
    "text": "were discussing how this session should flow we talked about doing a demo we decided earlier today that nothing could",
    "start": "1400190",
    "end": "1405980"
  },
  {
    "text": "top Danes demo of deploying sto with Federation that we gave in the intro session so since we have limited time to",
    "start": "1405980",
    "end": "1414320"
  },
  {
    "text": "cover all this material today we encourage you to check that out if you'd like to see a demo and now we've got",
    "start": "1414320",
    "end": "1421490"
  },
  {
    "text": "some time for Q&A can we get a microphone for the",
    "start": "1421490",
    "end": "1426890"
  },
  {
    "text": "questions that'd be great why don't you ask your question I'll",
    "start": "1426890",
    "end": "1432500"
  },
  {
    "text": "just repeat it you sure the command-line tool in",
    "start": "1432500",
    "end": "1437660"
  },
  {
    "text": "preparation are there programmatic API is as well so as you had Buster's programmatically like absolutely all the",
    "start": "1437660",
    "end": "1444890"
  },
  {
    "text": "the all the CLI tooling is doing is just making API calls so for example the cube",
    "start": "1444890",
    "end": "1451220"
  },
  {
    "text": "that in federated enable come in it just automates what you would be able",
    "start": "1451220",
    "end": "1456560"
  },
  {
    "text": "to do manually it's just less annoying",
    "start": "1456560",
    "end": "1462370"
  },
  {
    "text": "okay gotcha alright maybe we can just ask questions",
    "start": "1466420",
    "end": "1473330"
  },
  {
    "text": "and we'll repeat them the question that I answered which I forgot to repeat is is there an API surface other than the",
    "start": "1473330",
    "end": "1481550"
  },
  {
    "text": "CLI commands all right the question was",
    "start": "1481550",
    "end": "1503360"
  },
  {
    "text": "that the federated namespace type has some different behaviors from the other ones or phone you want to take that one",
    "start": "1503360",
    "end": "1509240"
  },
  {
    "text": "so basically all these API definitions that we are talking about they are see",
    "start": "1509240",
    "end": "1515150"
  },
  {
    "text": "Rd is installed on our given caters cluster in that case the namespace is used from that cluster so when I",
    "start": "1515150",
    "end": "1522410"
  },
  {
    "text": "actually install a CRE type I'm actually installing that CRE type in a name space",
    "start": "1522410",
    "end": "1527750"
  },
  {
    "text": "in that KS cluster so there is actually no separate namespace which is federated",
    "start": "1527750",
    "end": "1532810"
  },
  {
    "text": "so you you understand what what I mean right",
    "start": "1532810",
    "end": "1538240"
  },
  {
    "text": "so yeah I mean we have that also so we have a Fed rate namespace Federation",
    "start": "1543180",
    "end": "1549250"
  },
  {
    "text": "also so where you can Fed rate a namespace but when we talk about the",
    "start": "1549250",
    "end": "1554710"
  },
  {
    "text": "type definitions and and all that we are actually using a namespace from the",
    "start": "1554710",
    "end": "1560920"
  },
  {
    "text": "chaos cluster on which the control plane is installed on so the the question is",
    "start": "1560920",
    "end": "1567850"
  },
  {
    "text": "about the like the the matter that the question touches is the difference",
    "start": "1567850",
    "end": "1573100"
  },
  {
    "text": "between a cluster scope deployment of Federation and a namespace scope deployment of Federation so the",
    "start": "1573100",
    "end": "1579790"
  },
  {
    "text": "difference being that in a cluster scoped deployment the same Federation",
    "start": "1579790",
    "end": "1585370"
  },
  {
    "text": "controller has to handle multiple namespaces in a namespace scope deployment your intrinsically bound to a",
    "start": "1585370",
    "end": "1593440"
  },
  {
    "text": "single namespace that the Federation is deployed into does that make sense so the Federated namespace semantics are",
    "start": "1593440",
    "end": "1602070"
  },
  {
    "text": "are definitely different than the rest of the resources right you can see that",
    "start": "1602070",
    "end": "1607090"
  },
  {
    "text": "we can take this question offline at the end I tell you what I'm gonna just surf",
    "start": "1607090",
    "end": "1612970"
  },
  {
    "text": "around here and you can you can speak into the lapel and you're closest to me",
    "start": "1612970",
    "end": "1618400"
  },
  {
    "text": "here the production level production rate in this level of Federation so",
    "start": "1618400",
    "end": "1627070"
  },
  {
    "text": "that's a really good question the the API level is alpha right now I think we",
    "start": "1627070",
    "end": "1633490"
  },
  {
    "text": "had a slide where we talked about going to beta early next year we are we are expecting to go beat early next year in",
    "start": "1633490",
    "end": "1642880"
  },
  {
    "text": "the meantime we'd love to have any feedback if people want to kick the tires or if you have the kindness in",
    "start": "1642880",
    "end": "1651340"
  },
  {
    "text": "your heart and the resources in your calendar to do so to try it out and give",
    "start": "1651340",
    "end": "1656590"
  },
  {
    "text": "us some feedback that will allow us to make a good decision around that alright I see yeah so you talked about cluster",
    "start": "1656590",
    "end": "1666850"
  },
  {
    "text": "level Federation and a namespace scope can you actually do a group or set of namespaces or single Federation",
    "start": "1666850",
    "end": "1673850"
  },
  {
    "text": "yes so one of the slides we actually mentioned that the same cluster a user",
    "start": "1673850",
    "end": "1680720"
  },
  {
    "text": "can actually install multiple Federation's and joining cluster can also be such that same cluster can be",
    "start": "1680720",
    "end": "1687920"
  },
  {
    "text": "joining to multiple user specified Federation's so both of that is possible yeah what",
    "start": "1687920",
    "end": "1697790"
  },
  {
    "text": "are the use cases that drive Federation how can you repeat that psi so what use",
    "start": "1697790",
    "end": "1705770"
  },
  {
    "text": "case is require Federation oh we covered that test part of our first slide I mean",
    "start": "1705770",
    "end": "1711290"
  },
  {
    "text": "the initial slides right I think so there were there are many set of use cases and we also covered about the",
    "start": "1711290",
    "end": "1717380"
  },
  {
    "text": "goals which might lead the user to consider Federation so which were like H",
    "start": "1717380",
    "end": "1722780"
  },
  {
    "text": "a you don't want to be logged in into single vendor and those kind of things you can probably go through the slides",
    "start": "1722780",
    "end": "1728060"
  },
  {
    "text": "again so when you were talking about the scheduling like where there's custom",
    "start": "1728060",
    "end": "1734810"
  },
  {
    "text": "schedulers for each federated resource type like where do those things consume so there is a possibility of custom",
    "start": "1734810",
    "end": "1742910"
  },
  {
    "text": "schedulers for many types for example jobs could be scheduled or all the types",
    "start": "1742910",
    "end": "1749030"
  },
  {
    "text": "which have replicas basically which are workload types so we have done some reference implementation of the schedulers for say deployments and",
    "start": "1749030",
    "end": "1757190"
  },
  {
    "text": "replicas sets and jobs and there could be more schedulers written to you know",
    "start": "1757190",
    "end": "1763910"
  },
  {
    "text": "have either a little different behavior than what we have implemented or aggregate that behavior and then there",
    "start": "1763910",
    "end": "1770360"
  },
  {
    "text": "are a lot of possibilities of and jobs yes so we we've only got about five",
    "start": "1770360",
    "end": "1777860"
  },
  {
    "text": "minutes left in the session I'll be around after if we need to take questions offline so as an app developer",
    "start": "1777860",
    "end": "1786650"
  },
  {
    "text": "what I would like to do is say I want to deploy hundred instances in region us West I don't care whether there are",
    "start": "1786650",
    "end": "1793610"
  },
  {
    "text": "three clusters five clusters ten I'm presuming this can be done with what you have what would be nice is to explain",
    "start": "1793610",
    "end": "1800360"
  },
  {
    "text": "how would an app developer express this concept without being able to specify clusters",
    "start": "1800360",
    "end": "1807160"
  },
  {
    "text": "yep so the what the user basically has",
    "start": "1807160",
    "end": "1812600"
  },
  {
    "text": "to do is or as a user you don't have to do that the admin will basically create",
    "start": "1812600",
    "end": "1818750"
  },
  {
    "text": "a federation the use case could be solved in this way that admin creates a federation he has joined a set of",
    "start": "1818750",
    "end": "1824780"
  },
  {
    "text": "clusters and he labeled the set of clusters as some uswest and some are in US East or some are in Asia or someplace",
    "start": "1824780",
    "end": "1832220"
  },
  {
    "text": "and while creating the cluster of while creating the workload the user specifies",
    "start": "1832220",
    "end": "1838610"
  },
  {
    "text": "or labels the workload as that this workload should ideally go only in clusters which are us West and",
    "start": "1838610",
    "end": "1844960"
  },
  {
    "text": "Federation will take care of that that's almost already in place so there",
    "start": "1844960",
    "end": "1849980"
  },
  {
    "text": "is something called label Bay based placements which is under implementation right now and which is always useful",
    "start": "1849980",
    "end": "1855550"
  },
  {
    "text": "could you describe close across cluster networking at a high level it's actually",
    "start": "1855550",
    "end": "1862880"
  },
  {
    "text": "a complete talk in itself so and I I actually attend a couple of DNS talks",
    "start": "1862880",
    "end": "1869030"
  },
  {
    "text": "yesterday and they talked about Federation and cross cluster service discovery in Federation so we actually did put out a blog yesterday and some",
    "start": "1869030",
    "end": "1877100"
  },
  {
    "text": "portions of that are covered in that blog I encourage encourage you to have a look at that it's chaos board a slice",
    "start": "1877100",
    "end": "1886670"
  },
  {
    "text": "I'll be updating against the skin you mentioned that there was a push",
    "start": "1886670",
    "end": "1892100"
  },
  {
    "text": "mechanism to push the updates to other clusters is there any thing to decouple that so you can do like a storm forward",
    "start": "1892100",
    "end": "1897800"
  },
  {
    "text": "in case you have an infrequently connected second cluster yeah sure now",
    "start": "1897800",
    "end": "1904130"
  },
  {
    "text": "one thing that I'm not sure that we gave a great treatment of in this session is that the push reconciler that we have",
    "start": "1904130",
    "end": "1911270"
  },
  {
    "text": "now is just one of many that we could have in fact like we're quite interested to have people implement alternate",
    "start": "1911270",
    "end": "1919420"
  },
  {
    "text": "propagation mechanisms like for example push reconciliation",
    "start": "1919420",
    "end": "1924470"
  },
  {
    "text": "I'm sorry pull reconciliation is something that there's been some interest in in the group so far so",
    "start": "1924470",
    "end": "1930530"
  },
  {
    "text": "certainly our intention is that people should be able to implement their own",
    "start": "1930530",
    "end": "1936429"
  },
  {
    "text": "it's a follow-up to her question to the other question basically without going",
    "start": "1938350",
    "end": "1944620"
  },
  {
    "text": "in details but will the go to be one no",
    "start": "1944620",
    "end": "1949720"
  },
  {
    "text": "or one part in one cluster be able to talk to the other part in the other",
    "start": "1949720",
    "end": "1955360"
  },
  {
    "text": "clusters where IP addresses with that okay I can answer that so the goal of cross cluster service discovery is not",
    "start": "1955360",
    "end": "1962400"
  },
  {
    "text": "enable part to part network that is actually an overlay the goal of cross",
    "start": "1962400",
    "end": "1968740"
  },
  {
    "text": "cluster service discovery is to be able for one application to talk to another",
    "start": "1968740",
    "end": "1974410"
  },
  {
    "text": "application not necessarily constrained by the boundaries of single clusters all",
    "start": "1974410",
    "end": "1979480"
  },
  {
    "text": "right we've got time for one last question here I'm just just wondering",
    "start": "1979480",
    "end": "1986710"
  },
  {
    "text": "about the support of storage related to resources like PVCs and all that already",
    "start": "1986710",
    "end": "1991810"
  },
  {
    "text": "part of the data Federation as well I think ivan who is also part of our sync",
    "start": "1991810",
    "end": "1998950"
  },
  {
    "text": "might want to answer that he had a great presentation about something similar related to storage yesterday separating",
    "start": "1998950",
    "end": "2006540"
  },
  {
    "text": "your deployment without your storage [Music] given Ivan the mic up there",
    "start": "2006540",
    "end": "2013750"
  },
  {
    "text": "[Music] so the way federation handles actually",
    "start": "2013750",
    "end": "2019170"
  },
  {
    "text": "enabling any resource type in theory it should work so I encourage you to try it",
    "start": "2019170",
    "end": "2025500"
  },
  {
    "text": "there may be some gotchas with it but persistent volume claims and storage",
    "start": "2025500",
    "end": "2030870"
  },
  {
    "text": "related resources should be enabled to be propagated does that answer your",
    "start": "2030870",
    "end": "2036450"
  },
  {
    "text": "question right so right so yeah the idea",
    "start": "2036450",
    "end": "2050820"
  },
  {
    "text": "there is that you have the necessary resources in each cluster as you're propagating to those clusters so you",
    "start": "2050820",
    "end": "2058350"
  },
  {
    "text": "could one way you could do that is just using like the default storage class in each cluster and then you can create",
    "start": "2058350",
    "end": "2063990"
  },
  {
    "text": "PVCs and distribute them to different clusters and then the default storage class can back that in each cluster all",
    "start": "2063990",
    "end": "2070379"
  },
  {
    "text": "right we are at time now thanks everybody for coming we're around if you want to chat about this stuff afterward thank you",
    "start": "2070380",
    "end": "2078650"
  }
]