[
  {
    "text": "right good afternoon everyone welcome to the multi cluster special interest group introduction I'm Quinton who I am the",
    "start": "30",
    "end": "9150"
  },
  {
    "text": "sig lead for multi cluster and my colleague Irfan and I will be giving you",
    "start": "9150",
    "end": "14549"
  },
  {
    "text": "a brief introduction to the work that we've been doing what the sig is all",
    "start": "14549",
    "end": "19859"
  },
  {
    "text": "about hopefully encourage you to contribute and engage with the sig and",
    "start": "19859",
    "end": "26269"
  },
  {
    "text": "answer any questions that you might have along the way all right with no further",
    "start": "26269",
    "end": "32250"
  },
  {
    "text": "ado it looks like we've got a couple of people rolling in late from lunch here we'll get started so this is roughly",
    "start": "32250",
    "end": "42450"
  },
  {
    "text": "what we're going to talk to you about you know what do we see the mission of this particular special interest group to be what what is the current work",
    "start": "42450",
    "end": "49289"
  },
  {
    "text": "we're doing as many of you might be familiar in kubernetes we have this concept of a sig a special interest",
    "start": "49289",
    "end": "55680"
  },
  {
    "text": "group and inside the sig we typically have one or more projects sub projects and these sometimes are you know",
    "start": "55680",
    "end": "62719"
  },
  {
    "text": "relatively unrelated to each other other than the general area of the sig and sometimes they're much more closely",
    "start": "62719",
    "end": "67740"
  },
  {
    "text": "related so we'll talk about what we're doing and we're also encourage you to you know if there are other projects or",
    "start": "67740",
    "end": "73830"
  },
  {
    "text": "if you have projects that are kind of floating around outside there somewhere that are closely related to multi",
    "start": "73830",
    "end": "79650"
  },
  {
    "text": "cluster work we'd like to encourage you to you know come and talk to us about them and collaborate etc and we're going",
    "start": "79650",
    "end": "88350"
  },
  {
    "text": "to go into some detail on a couple of them Federation in particular what we call Federation version two if one's",
    "start": "88350",
    "end": "94920"
  },
  {
    "text": "going to take you through some of the concepts there the level of detail is not going to be very deep today that's",
    "start": "94920",
    "end": "100350"
  },
  {
    "text": "what tomorrow's session is for we have a deep dive session where we're going to go into much more detail there demonstrate the api's and how it all",
    "start": "100350",
    "end": "106770"
  },
  {
    "text": "works so yeah just so you clear on what we're going to be doing today if anybody",
    "start": "106770",
    "end": "113220"
  },
  {
    "text": "wants to interrupt us along the way we're quite happy with that there will be a Q&A section at the end but",
    "start": "113220",
    "end": "119189"
  },
  {
    "text": "sometimes it's easier we got a nice small group here so if you do have a specific question related to the topic",
    "start": "119189",
    "end": "124860"
  },
  {
    "text": "we're talking about I don't mind if you interrupt me",
    "start": "124860",
    "end": "129200"
  },
  {
    "text": "so let's start with you know what a little bit of history about where the multi cluster sig came from what kinds",
    "start": "130190",
    "end": "137900"
  },
  {
    "text": "of problems were trying to solve etc so some of you may remember as far back as",
    "start": "137900",
    "end": "143200"
  },
  {
    "text": "essentially the beginning of kubernetes I was at the time working at Google and",
    "start": "143200",
    "end": "148310"
  },
  {
    "text": "I had a history at Google of running big systems in particular the advertising",
    "start": "148310",
    "end": "154550"
  },
  {
    "text": "systems at Google and we had you know many many clusters I don't have pictures I had used to have some nice slides",
    "start": "154550",
    "end": "159980"
  },
  {
    "text": "showing you know how many clusters Google and Amazon these days as well also have around the world and you know",
    "start": "159980",
    "end": "166070"
  },
  {
    "text": "most of the applications in these big companies run in all of these data centers and I was you know one of the",
    "start": "166070",
    "end": "171980"
  },
  {
    "text": "people responsible for managing all of these things and we ended up building a lot of tooling on top of Borg at the",
    "start": "171980",
    "end": "178400"
  },
  {
    "text": "time which was the internal container management system used at Google to to",
    "start": "178400",
    "end": "183740"
  },
  {
    "text": "make all the stuff work properly and so because we didn't have that in kubernetes at the time kubernetes was a",
    "start": "183740",
    "end": "188870"
  },
  {
    "text": "single cluster thing I kicked off a project which became known as Federation",
    "start": "188870",
    "end": "194410"
  },
  {
    "text": "cluster Federation and there was a nickname given called uber Nettie's at",
    "start": "194410",
    "end": "199490"
  },
  {
    "text": "the time which some of you might remember so that's you know the history behind where this came from",
    "start": "199490",
    "end": "204980"
  },
  {
    "text": "we then broadened our scope I guess that was 18 months ago two years ago something like that there was this",
    "start": "204980",
    "end": "211370"
  },
  {
    "text": "realization that there are actually many different ways to solve some of these problems and we didn't want to be too",
    "start": "211370",
    "end": "216890"
  },
  {
    "text": "prescriptive about you need to use cluster Federation to solve any multi cluster problem and so we renamed the",
    "start": "216890",
    "end": "224540"
  },
  {
    "text": "sig and broadened the Charter slightly to make it clear that if you using spinnaker to you know replicate stuff",
    "start": "224540",
    "end": "232190"
  },
  {
    "text": "across clusters or if you have you know github repos where you check something in and it gets pulled into a lot of",
    "start": "232190",
    "end": "238220"
  },
  {
    "text": "clusters this is all fundamentally trying to solve similar problems which is how do you manage large numbers of",
    "start": "238220",
    "end": "244489"
  },
  {
    "text": "clusters in the same way that kubernetes manages large numbers of nodes so some",
    "start": "244489",
    "end": "249709"
  },
  {
    "text": "of you remember in the days before kubernetes you would kind of log into each node and you know run containers or virtual",
    "start": "249709",
    "end": "255590"
  },
  {
    "text": "machines or whatever and we solve that problem but you know as soon as you have",
    "start": "255590",
    "end": "261350"
  },
  {
    "text": "even you know 5 or 10 or teen clusters and we have people using cluster Federation you have thousands of",
    "start": "261350",
    "end": "267030"
  },
  {
    "text": "clusters the problem starts to look quite similar but there are some fundamental differences that that need",
    "start": "267030",
    "end": "273930"
  },
  {
    "text": "to be solved so that's you know a little bit of anecdotal background to what we're doing here so this is all common challenges",
    "start": "273930",
    "end": "281009"
  },
  {
    "text": "related to the management of multiple clusters and not only the clusters themselves obviously but the",
    "start": "281009",
    "end": "286020"
  },
  {
    "text": "applications that live inside them so it's not uncommon to have an application that spans across multiple regions or",
    "start": "286020",
    "end": "292469"
  },
  {
    "text": "multiple continents even and then how do you make these applications work how do you replicate data how do you do load",
    "start": "292469",
    "end": "298919"
  },
  {
    "text": "balancing between clusters how do you make sure that the the configuration of your application is consistent across",
    "start": "298919",
    "end": "304409"
  },
  {
    "text": "the clusters all of these things how do you upgrade your software in such a way that you don't bring all the clusters down at the same time so these are",
    "start": "304409",
    "end": "311069"
  },
  {
    "text": "problems that are you know near and dear to our heart and and that's what we like to spend our time thinking about and",
    "start": "311069",
    "end": "317069"
  },
  {
    "text": "building software to solve so what are the api's looked like we started off in",
    "start": "317069",
    "end": "324810"
  },
  {
    "text": "the early days with sort of a first attempt which was to take the kubernetes api and say what happens if we took",
    "start": "324810",
    "end": "331349"
  },
  {
    "text": "exactly that api and we just said instead of having one kubernetes cluster that you send this thing to we have",
    "start": "331349",
    "end": "338539"
  },
  {
    "text": "software that makes sure that that kubernetes specification goes to all the clusters in a consistent and sensible",
    "start": "338539",
    "end": "345360"
  },
  {
    "text": "way we very quickly realized and we kind of anticipated this that the API itself",
    "start": "345360",
    "end": "351659"
  },
  {
    "text": "of kubernetes was never designed to handle multiple clusters so we ended up",
    "start": "351659",
    "end": "356699"
  },
  {
    "text": "saying oh okay you know what happens if I have a daemon set or a replica set or",
    "start": "356699",
    "end": "362400"
  },
  {
    "text": "deployment and I want to have you know 2/3 of it go to this cluster and 1/3 of it go to another cluster there's no way",
    "start": "362400",
    "end": "368909"
  },
  {
    "text": "in the API to express that so we we knew that was a problem but we thought we'd at least prove out the concept and we",
    "start": "368909",
    "end": "375089"
  },
  {
    "text": "used at the time annotations so we annotated the existing kubernetes api objects with this kind of information",
    "start": "375089",
    "end": "382110"
  },
  {
    "text": "and we got you know fairly far down the line proving out the idea and then round",
    "start": "382110",
    "end": "387960"
  },
  {
    "text": "about two years ago 18 months ago we redesigned the whole API so that that",
    "start": "387960",
    "end": "393209"
  },
  {
    "text": "Multi cluster is a first-class concept in the API so it's has a lot of similarities with",
    "start": "393209",
    "end": "399439"
  },
  {
    "text": "kubernetes but it is actually more specifically designed for multi cluster",
    "start": "399439",
    "end": "405330"
  },
  {
    "text": "applications and yeah so so another you",
    "start": "405330",
    "end": "413999"
  },
  {
    "text": "know interesting part of the sig is that we're not only about you know end-to-end solutions Federation is maybe an example",
    "start": "413999",
    "end": "419400"
  },
  {
    "text": "of you can run this thing and you can manage multiple clusters using it but we",
    "start": "419400",
    "end": "425279"
  },
  {
    "text": "also quite like the idea of building stand-alone useful things that can be used in other contexts as well so there",
    "start": "425279",
    "end": "431789"
  },
  {
    "text": "are good examples in the sub projects we have a cluster registry so there are many cases that don't necessarily",
    "start": "431789",
    "end": "437849"
  },
  {
    "text": "involve Federation where you need to have a list of clusters that exist and you need to be able to log in to them",
    "start": "437849",
    "end": "443279"
  },
  {
    "text": "all and do various things with them so that's a standalone project that we have and it's used in a variety of different",
    "start": "443279",
    "end": "449550"
  },
  {
    "text": "contexts and there you know command line tools that are useful for when you have lots of clusters to manage all of these",
    "start": "449550",
    "end": "456089"
  },
  {
    "text": "kinds of things any questions so far make sense I'm seeing some nods in the",
    "start": "456089",
    "end": "463289"
  },
  {
    "text": "audience so hopefully this stuff makes sense so I've alluded to some of our sub",
    "start": "463289",
    "end": "469979"
  },
  {
    "text": "projects I think we've spoken about Federation v2 at the moment it sort of provides two tiers of support at the",
    "start": "469979",
    "end": "478110"
  },
  {
    "text": "moment so we found that there were use cases where all that somebody wanted to do was take a configuration you know",
    "start": "478110",
    "end": "486060"
  },
  {
    "text": "whether it's a cluster configuration or an application configuration and just replicated as is across a bunch of",
    "start": "486060",
    "end": "493110"
  },
  {
    "text": "clusters must be exactly the same don't do anything fancy and we built a set of components and a subsystem that can do",
    "start": "493110",
    "end": "500639"
  },
  {
    "text": "that for you but then we also found that there were you know once you get into slightly more sophisticated situations",
    "start": "500639",
    "end": "507180"
  },
  {
    "text": "you often need software that can automatically decide for example where these things should go maybe you don't",
    "start": "507180",
    "end": "513510"
  },
  {
    "text": "want to deploy to all your clusters but only a subset of them maybe your company has a policy that says that you know",
    "start": "513510",
    "end": "519930"
  },
  {
    "text": "test workloads go into clusters a B and C but production workloads go into de and F and you don't want to have your",
    "start": "519930",
    "end": "528380"
  },
  {
    "text": "application administrators making these decisions because based on experience that for",
    "start": "528380",
    "end": "533490"
  },
  {
    "text": "example I had at Google these clusters change all the time you know at one point in time you might have thirty five",
    "start": "533490",
    "end": "539850"
  },
  {
    "text": "of them and we're tearing down three of them this month and we're bringing up another six next month and you don't",
    "start": "539850",
    "end": "545040"
  },
  {
    "text": "have to reconfigure all your applications every every time this happens so you want software to do that",
    "start": "545040",
    "end": "550290"
  },
  {
    "text": "automatically for you so we provide these higher-level features as well in terms of the road",
    "start": "550290",
    "end": "557640"
  },
  {
    "text": "map for this functionality we have an alpha version out today we're using it not in production yet what we're trying",
    "start": "557640",
    "end": "563970"
  },
  {
    "text": "to do is prove out the api's and and stabilize there the implementation we plan to have that beta in the very near",
    "start": "563970",
    "end": "570930"
  },
  {
    "text": "future I would like to say 2018 that might be a little optimistic but certainly not long after the end of this",
    "start": "570930",
    "end": "576330"
  },
  {
    "text": "year and then we would encourage people to use it and and get it into GA early",
    "start": "576330",
    "end": "582210"
  },
  {
    "text": "next year and we have quite a few companies collaborating you know making that happen as I mentioned we have the",
    "start": "582210",
    "end": "588210"
  },
  {
    "text": "cluster registry this is a you know conceptually a fairly simple thing you",
    "start": "588210",
    "end": "593730"
  },
  {
    "text": "want to be able to list a bunch of clusters you want to make sure that everyone knows where they are what the API endpoints are what they called want",
    "start": "593730",
    "end": "600360"
  },
  {
    "text": "to be able to label them perhaps you want to be able to find all the clusters that are labeled for production or for",
    "start": "600360",
    "end": "605880"
  },
  {
    "text": "testing or for a 10 and a or tenant B any of these applications are valid applications for the cluster registry we",
    "start": "605880",
    "end": "613830"
  },
  {
    "text": "have an implementation at the moment it is deployed as a custom resource definition as CRD in a normal kubernetes",
    "start": "613830",
    "end": "620970"
  },
  {
    "text": "cluster and you can use it and in fact we use this internally in Federation to",
    "start": "620970",
    "end": "626040"
  },
  {
    "text": "keep track of our clusters and then we have a project that was mostly initiated",
    "start": "626040",
    "end": "631620"
  },
  {
    "text": "by Google actually multi cluster ingress so one of the common problems that a lot",
    "start": "631620",
    "end": "636900"
  },
  {
    "text": "of people face is what happens if you have an application that spans multiple clusters and you want to do load",
    "start": "636900",
    "end": "643980"
  },
  {
    "text": "balancing across across these clusters so some of you will be familiar with the ingress load balancer abstraction in",
    "start": "643980",
    "end": "650610"
  },
  {
    "text": "kubernetes so how do you make that thing work across multiple clusters and so we have an implementation of that it",
    "start": "650610",
    "end": "656910"
  },
  {
    "text": "currently works only on Google cloud but but it is extensible to other other public and private clouds if anyone's",
    "start": "656910",
    "end": "663840"
  },
  {
    "text": "interested in extending it that would be very well received and",
    "start": "663840",
    "end": "672720"
  },
  {
    "text": "something else that you know I've kind of briefly touched on but I want to make it very clear that you may not be",
    "start": "672720",
    "end": "679630"
  },
  {
    "text": "interested in cluster Federation you may not be interested in in the cluster registry but we've come across a lot of",
    "start": "679630",
    "end": "685960"
  },
  {
    "text": "organizations and I haven't actually cleared with any of them whether I could mention their names here so I will withhold them but I'm aware of at least",
    "start": "685960",
    "end": "692730"
  },
  {
    "text": "four companies or five companies that are doing production stuff with large numbers of clusters some of them started",
    "start": "692730",
    "end": "700240"
  },
  {
    "text": "with Federation v1 and then morphed that into whatever they needed others you know started with other approaches and",
    "start": "700240",
    "end": "705490"
  },
  {
    "text": "many of them are are trying to solve the same problems and one of the functions",
    "start": "705490",
    "end": "710650"
  },
  {
    "text": "of the special interest groups in cubanelle at least in yeah in kubernetes is to provide a sort of a neutral home",
    "start": "710650",
    "end": "716890"
  },
  {
    "text": "for these discussions to happen we don't all need to be solving the same problem you know five times over in slightly",
    "start": "716890",
    "end": "722680"
  },
  {
    "text": "different ways there's a general interest in trying to standardize some of the stuff and share experiences so that's something we really strongly",
    "start": "722680",
    "end": "729790"
  },
  {
    "text": "encourage and we have collaboration work going on with various companies doing this kind of stuff this is just a you",
    "start": "729790",
    "end": "737650"
  },
  {
    "text": "know a list of a few active contributors at the moment in cig multi cluster and",
    "start": "737650",
    "end": "742870"
  },
  {
    "text": "most of them are actively involved in fact all of those on the list are actively involved in in the Federation",
    "start": "742870",
    "end": "749710"
  },
  {
    "text": "project as I mentioned Google is also involved in the cube MCI multi cluster",
    "start": "749710",
    "end": "755200"
  },
  {
    "text": "ingress and the cluster registry and we would strongly encourage any of your companies who have an interest in",
    "start": "755200",
    "end": "762340"
  },
  {
    "text": "running you know more than one cluster to come and talk to us about what your ideas are and at this point I am gonna",
    "start": "762340",
    "end": "770590"
  },
  {
    "text": "hand over to my colleague Irfan who's gonna dive a little deeper into some of the sub projects in particular",
    "start": "770590",
    "end": "776560"
  },
  {
    "text": "Federation hello am i audible with this it's on yes",
    "start": "776560",
    "end": "788600"
  },
  {
    "text": "yeah it seems to yeah so we talked about",
    "start": "788600",
    "end": "799430"
  },
  {
    "text": "the three projects that we have been working on actively saying last one year",
    "start": "799430",
    "end": "805660"
  },
  {
    "text": "Federation v2 effort is the most I would say well received or the most seeing",
    "start": "805660",
    "end": "812840"
  },
  {
    "text": "most active contribution and the folks listed in the previous slide were",
    "start": "812840",
    "end": "818300"
  },
  {
    "text": "actually all of the companies which are contributing to Federation v2 so as",
    "start": "818300",
    "end": "823430"
  },
  {
    "text": "Quinton also mentioned cube mci and treasure and history is something that Google folks did available so what is",
    "start": "823430",
    "end": "832760"
  },
  {
    "text": "Federation v2 how many of you actually knew about Federation or the v1 effort I",
    "start": "832760",
    "end": "839210"
  },
  {
    "text": "mean can I see a raise of hands okay so Federation b1 was something",
    "start": "839210",
    "end": "848540"
  },
  {
    "text": "where we tried to reuse the k8s API the same caters APA the way it is exactly",
    "start": "848540",
    "end": "854630"
  },
  {
    "text": "and fitted into the Federation control plane and the resources created over",
    "start": "854630",
    "end": "860180"
  },
  {
    "text": "there we tried to make an intelligent guess how to distribute that resource into the sub clusters that didn't work",
    "start": "860180",
    "end": "867890"
  },
  {
    "text": "out very well for us because there was a lot of information that was needed to specify details about what cluster I",
    "start": "867890",
    "end": "875240"
  },
  {
    "text": "have what labels where it has to go and so for and so so much so what we had to",
    "start": "875240",
    "end": "881330"
  },
  {
    "text": "do was we had to define a set of metadata which is specific to the",
    "start": "881330",
    "end": "889010"
  },
  {
    "text": "Federation control plane and that wraps around the caters resource okay it is",
    "start": "889010",
    "end": "895130"
  },
  {
    "text": "API that is how the Federation v2 API is is or that's how it looks like as of now",
    "start": "895130",
    "end": "902800"
  },
  {
    "text": "so by definition if you see is it's a common interface or a common layer which",
    "start": "902800",
    "end": "909070"
  },
  {
    "text": "we want to put forth as a surface to the multiplicity of chaos",
    "start": "909070",
    "end": "915650"
  },
  {
    "text": "clusters and we started off with a separate API server so when we initiated",
    "start": "915650",
    "end": "923060"
  },
  {
    "text": "this project we started off with API server builder if you folks know there is a project called API server builder",
    "start": "923060",
    "end": "929660"
  },
  {
    "text": "which can bootstrap your api's and install that as a standalone API server which can be aggregated with the k8s api",
    "start": "929660",
    "end": "936950"
  },
  {
    "text": "server but now we have moved on to the cid based resources so that need also is gone the aggregating an API server has",
    "start": "936950",
    "end": "944780"
  },
  {
    "text": "its own challenges you have to deal with authorization yourself and there are a",
    "start": "944780",
    "end": "949970"
  },
  {
    "text": "couple of other things in case of cid based approach you can use all the stuff",
    "start": "949970",
    "end": "955040"
  },
  {
    "text": "that is available with given api server so any kubernetes cluster you have everything is managed and maintained you",
    "start": "955040",
    "end": "962420"
  },
  {
    "text": "just need to install this API on top of that so how we do it is we we have a",
    "start": "962420",
    "end": "972380"
  },
  {
    "text": "layered approach so we say we have the primitives or the building blocks where you can define the resources the",
    "start": "972380",
    "end": "980300"
  },
  {
    "text": "template which this federated API should wrap so for example a federated secret",
    "start": "980300",
    "end": "985790"
  },
  {
    "text": "is wrapped by a up for example equipment at a secret is wrapped by a federated secret then additional two resources are",
    "start": "985790",
    "end": "993650"
  },
  {
    "text": "you have to define a placement and an override a placement is in which",
    "start": "993650",
    "end": "998750"
  },
  {
    "text": "clusters this particular resource goes and an override is per cluster what are",
    "start": "998750",
    "end": "1005110"
  },
  {
    "text": "the fields you want to change or be different or make different so I",
    "start": "1005110",
    "end": "1011950"
  },
  {
    "text": "mentioned as we are currently bootstrapping this using queue builder we use cluster registry as the source of",
    "start": "1011950",
    "end": "1019750"
  },
  {
    "text": "the cluster endpoints so when we install the federated API or the Federation",
    "start": "1019750",
    "end": "1025360"
  },
  {
    "text": "control plane it needs to know about what clusters to federate and broad clusters - you know propagate the",
    "start": "1025360",
    "end": "1031600"
  },
  {
    "text": "resources - so we use cluster registry as the source of that information we",
    "start": "1031600",
    "end": "1038949"
  },
  {
    "text": "will have a I'll be dealing with a much more deeper view of the same thing I will be talking about the controllers I",
    "start": "1038949",
    "end": "1045100"
  },
  {
    "text": "will be talking about the layout of the API I'll be talking about the groups it involves and all this stuff if you are interested in",
    "start": "1045100",
    "end": "1051860"
  },
  {
    "text": "that please attend the deep dive tomorrow so this is a you know I won't",
    "start": "1051860",
    "end": "1061730"
  },
  {
    "text": "call it an architecture it's more like concepts diagram it is available on our",
    "start": "1061730",
    "end": "1066880"
  },
  {
    "text": "github page also so what it says is that conceptually you have a pressure",
    "start": "1066880",
    "end": "1074690"
  },
  {
    "text": "configuration and you have a propagation configuration and you have type",
    "start": "1074690",
    "end": "1081110"
  },
  {
    "text": "configuration type configuration means for the particular resource so for a replica set or for a deployment or for a",
    "start": "1081110",
    "end": "1087500"
  },
  {
    "text": "secret that's to do with the type configuration so these three things is",
    "start": "1087500",
    "end": "1093580"
  },
  {
    "text": "received through the API and the the API",
    "start": "1093580",
    "end": "1099740"
  },
  {
    "text": "surface the building blocks comprises of the template placement and overrides for",
    "start": "1099740",
    "end": "1105080"
  },
  {
    "text": "a given K test type and using only that",
    "start": "1105080",
    "end": "1110480"
  },
  {
    "text": "much the upper half the upper three boxes here and that configuration any KS",
    "start": "1110480",
    "end": "1116360"
  },
  {
    "text": "the source could be federated and the simple Federation would be that a given resource can be propagated as is",
    "start": "1116360",
    "end": "1124279"
  },
  {
    "text": "to the given clusters for example you want to put secrets you have you have",
    "start": "1124279",
    "end": "1130580"
  },
  {
    "text": "say five clusters and you specify the list of those five clusters in your cluster configuration and in your",
    "start": "1130580",
    "end": "1136399"
  },
  {
    "text": "propagation configuration you say that propagate only to first three clusters and in the type configuration you say I",
    "start": "1136399",
    "end": "1143360"
  },
  {
    "text": "want to propagate kubernetes secrets then template placement and overrides",
    "start": "1143360",
    "end": "1150110"
  },
  {
    "text": "are sort of created for you or there for you and and if a user creates a",
    "start": "1150110",
    "end": "1157520"
  },
  {
    "text": "federated secret in the Federation control plane the secrets would be",
    "start": "1157520",
    "end": "1162950"
  },
  {
    "text": "created in the first three clusters based on the extra contribution there are so I mentioned that it's more like a",
    "start": "1162950",
    "end": "1170750"
  },
  {
    "text": "layered approach using that basic building blocks much more complex things can be built so a dynamic scheduling can",
    "start": "1170750",
    "end": "1177799"
  },
  {
    "text": "be done we fact I already have a dynamic deployment",
    "start": "1177799",
    "end": "1183480"
  },
  {
    "text": "and replica section Euler which basically takes input as how many",
    "start": "1183480",
    "end": "1188820"
  },
  {
    "text": "replicas do you want to distribute across say five clusters you can say 50 replicas and the scheduler will",
    "start": "1188820",
    "end": "1194190"
  },
  {
    "text": "automatically partition that it will watch the individual clusters for failing replicas it will rebalance and",
    "start": "1194190",
    "end": "1200580"
  },
  {
    "text": "all that kind of stuff but using the building blocks and we",
    "start": "1200580",
    "end": "1206520"
  },
  {
    "text": "also have a cross cluster service discovery I am talking about features which are already done which we have",
    "start": "1206520",
    "end": "1211590"
  },
  {
    "text": "already completed in our effort and similar higher level stuff can be built",
    "start": "1211590",
    "end": "1218460"
  },
  {
    "text": "using these lower level concepts I did",
    "start": "1218460",
    "end": "1225870"
  },
  {
    "text": "not talk about status so status is something which is collected so when you",
    "start": "1225870",
    "end": "1231179"
  },
  {
    "text": "say rest of the API is it's always propagated status is something observed",
    "start": "1231179",
    "end": "1236670"
  },
  {
    "text": "from individual clusters and based on that observation the schedulers all the",
    "start": "1236670",
    "end": "1241679"
  },
  {
    "text": "higher-level api's can make their decisions so what we have achieved so",
    "start": "1241679",
    "end": "1250170"
  },
  {
    "text": "far we have like I mentioned we started",
    "start": "1250170",
    "end": "1255630"
  },
  {
    "text": "with aggregated API approach we have been able to successfully move to a CID based approach and we have a API surface",
    "start": "1255630",
    "end": "1265860"
  },
  {
    "text": "which is CRD installable on any KS cluster it has there is a controller manager associated we have a push",
    "start": "1265860",
    "end": "1273540"
  },
  {
    "text": "reconciliation for any arbitrary type like you in fact including the CID so if",
    "start": "1273540",
    "end": "1279929"
  },
  {
    "text": "as a user you have created your own CR D and that is what you have in your clusters which you want to federate that",
    "start": "1279929",
    "end": "1287220"
  },
  {
    "text": "is also something which can be federated and the pushed against the conciliation",
    "start": "1287220",
    "end": "1292460"
  },
  {
    "text": "conciliation can be active on it or activated on it we have completed the",
    "start": "1292460",
    "end": "1298290"
  },
  {
    "text": "DNS based service discovery we have completed the scheduling type the time ends mentioned and we also have so",
    "start": "1298290",
    "end": "1307559"
  },
  {
    "text": "earlier what we used what we needed to do was like if I want to Fed rate type probably say stateful set was not",
    "start": "1307559",
    "end": "1315070"
  },
  {
    "text": "federated earlier and I have if I have to federate a stateful set I needed to",
    "start": "1315070",
    "end": "1321150"
  },
  {
    "text": "you know generate some code write some code write some API stuff in Federation",
    "start": "1321150",
    "end": "1327370"
  },
  {
    "text": "control plane and that after that compile and do a release and that's how",
    "start": "1327370",
    "end": "1332410"
  },
  {
    "text": "I would say that now federated state for self it's a full set is available that",
    "start": "1332410",
    "end": "1337900"
  },
  {
    "text": "need is not there anymore so we are able to federate any arbitrary tribe without writing in any code also yeah and some",
    "start": "1337900",
    "end": "1347200"
  },
  {
    "text": "scheduling behavior also is in in the",
    "start": "1347200",
    "end": "1353170"
  },
  {
    "text": "roadmap we have overrides of arbitrary fields so right now we need some some",
    "start": "1353170",
    "end": "1361630"
  },
  {
    "text": "code that is need to be written if you want to override some fields a meaningful fields for example replicas",
    "start": "1361630",
    "end": "1368140"
  },
  {
    "text": "is a meaningful field which I might want to override when the replica sets are propagated into individual clusters but",
    "start": "1368140",
    "end": "1377640"
  },
  {
    "text": "support for any field was not there we are building that support the status I",
    "start": "1377640",
    "end": "1383860"
  },
  {
    "text": "showed in one of the previous slides the aggregation of that is not complete so we are doing that so aggregation of the",
    "start": "1383860",
    "end": "1390310"
  },
  {
    "text": "statuses would be like user might want to know how our given resources there in",
    "start": "1390310",
    "end": "1396070"
  },
  {
    "text": "each of the clusters how what is the status of that resource in the clusters and that in an aggregated way means for",
    "start": "1396070",
    "end": "1402670"
  },
  {
    "text": "example replicas set current replicas they all can be merged and total replicas can be shown or the individual",
    "start": "1402670",
    "end": "1411130"
  },
  {
    "text": "per cluster would be like current replicas per cluster can be shown we are",
    "start": "1411130",
    "end": "1418080"
  },
  {
    "text": "building more high-level scheduling behaviors for example the job scheduling",
    "start": "1418080",
    "end": "1424330"
  },
  {
    "text": "is there's an open PR for that we are we",
    "start": "1424330",
    "end": "1430060"
  },
  {
    "text": "are also towards completion of the codeless Federation so I mean enabling",
    "start": "1430060",
    "end": "1437950"
  },
  {
    "text": "Federation of a resource without writing any code so we have already completed tooling for that which is which we use",
    "start": "1437950",
    "end": "1445000"
  },
  {
    "text": "you you fell - and we say federate and for example I can say Q fare to federate",
    "start": "1445000",
    "end": "1451680"
  },
  {
    "text": "replica said if it's not already federated or q fare to federate HPA if",
    "start": "1451680",
    "end": "1456970"
  },
  {
    "text": "it's not already federated and the the CID port for that would be auto-generated and will be installed on",
    "start": "1456970",
    "end": "1462730"
  },
  {
    "text": "to my API server so far what we have been doing is push reconciliation we",
    "start": "1462730",
    "end": "1470620"
  },
  {
    "text": "might also be looking at the pull basic and reconciliation approach which is more useful for get base workflows and",
    "start": "1470620",
    "end": "1477460"
  },
  {
    "text": "that kind of stuff okay",
    "start": "1477460",
    "end": "1482560"
  },
  {
    "text": "cluster registry I can define cluster industries simply as a managed cube",
    "start": "1482560",
    "end": "1489040"
  },
  {
    "text": "config in very simple words it could be called as a managed cube config of multiple clusters so cube config is",
    "start": "1489040",
    "end": "1496270"
  },
  {
    "text": "something which is local cluster registry what it enables is it provides an API and an active controller for",
    "start": "1496270",
    "end": "1503440"
  },
  {
    "text": "using which users of that API can get the information about the clusters and",
    "start": "1503440",
    "end": "1508510"
  },
  {
    "text": "the details of how to authenticate with those clusters and all this was done say",
    "start": "1508510",
    "end": "1517000"
  },
  {
    "text": "six months ago and there has been some some main",
    "start": "1517000",
    "end": "1522370"
  },
  {
    "text": "problems which which are around the authentication because of which we have not been able to go towards beta for",
    "start": "1522370",
    "end": "1529690"
  },
  {
    "text": "this this also update is that it has",
    "start": "1529690",
    "end": "1535000"
  },
  {
    "text": "been I mean Clarence Lee also is a CR D which is available as of now and status",
    "start": "1535000",
    "end": "1541300"
  },
  {
    "text": "field is updated our intention is to move to beta once the discussions about",
    "start": "1541300",
    "end": "1546790"
  },
  {
    "text": "the authorization are resolved cube M CI is a tool which can currently is done",
    "start": "1546790",
    "end": "1553990"
  },
  {
    "text": "only for Google but the concept can be extended for other clouds also so for Google Cloud scheme MCI is a tool which",
    "start": "1553990",
    "end": "1559930"
  },
  {
    "text": "can program the Google load balancer getting the information about the",
    "start": "1559930",
    "end": "1565510"
  },
  {
    "text": "ingress is stored in the different clusters so so this was this is",
    "start": "1565510",
    "end": "1573550"
  },
  {
    "text": "something that concept is about sort of a load balancer which is common to multiple questions so using that Singh",
    "start": "1573550",
    "end": "1579630"
  },
  {
    "text": "point users or the users of the application which is deployed can reach out to the applications installed in the",
    "start": "1579630",
    "end": "1586710"
  },
  {
    "text": "different clusters and it can do a graphical load balancing and whatever",
    "start": "1586710",
    "end": "1591770"
  },
  {
    "text": "benefits are available with the Google load balancers this is this is as of now",
    "start": "1591770",
    "end": "1601260"
  },
  {
    "text": "beta and one reason this hasn't gone towards J's sittin around the Q K it s",
    "start": "1601260",
    "end": "1608940"
  },
  {
    "text": "embrace also caters ingress also is one API which is not G as of now so yeah",
    "start": "1608940",
    "end": "1615600"
  },
  {
    "text": "this is something that I explained so cube MCI folks are actually soliciting",
    "start": "1615600",
    "end": "1623130"
  },
  {
    "text": "feedback from the users and there is an issue open for that in their echo yeah",
    "start": "1623130",
    "end": "1634140"
  },
  {
    "text": "so this intro is also about trying to get the feedback from you folks trying",
    "start": "1634140",
    "end": "1641730"
  },
  {
    "text": "to get the feedback from the community and easing out the involvement of new",
    "start": "1641730",
    "end": "1648510"
  },
  {
    "text": "developers so these are a couple of links you can make a note of that I will upload the presentation also so you can",
    "start": "1648510",
    "end": "1654380"
  },
  {
    "text": "get the information from there this is",
    "start": "1654380",
    "end": "1660390"
  },
  {
    "text": "also some information I will upload the presentation which can be taken from there and I think we are almost running",
    "start": "1660390",
    "end": "1666000"
  },
  {
    "text": "out of time so I'll keep to say five minutes for the questions if there are any and there will be much more details",
    "start": "1666000",
    "end": "1673770"
  },
  {
    "text": "about especially Federation b2 into tomorrow's deep dive so we can talk more",
    "start": "1673770",
    "end": "1681720"
  },
  {
    "text": "over there also so questions",
    "start": "1681720",
    "end": "1686870"
  },
  {
    "text": "hi I understand that the Frisian clusters are more for replication",
    "start": "1689539",
    "end": "1694650"
  },
  {
    "text": "purpose would will be any kind of plan to support a like to actually manage",
    "start": "1694650",
    "end": "1702419"
  },
  {
    "text": "multiple resources in one cluster instead of just replication for example",
    "start": "1702419",
    "end": "1708090"
  },
  {
    "text": "for I have multiple environments first of my QA environment my production",
    "start": "1708090",
    "end": "1713490"
  },
  {
    "text": "environment I want to interface it with one cluster that is not something that",
    "start": "1713490",
    "end": "1720210"
  },
  {
    "text": "we have really spent a lot of time thinking about this may not answer your",
    "start": "1720210",
    "end": "1725850"
  },
  {
    "text": "question but I presume you familiar with helm or so-so helm is a good way of you",
    "start": "1725850",
    "end": "1731370"
  },
  {
    "text": "know aggregating lots of different resource types that comprise an application and making sure that they",
    "start": "1731370",
    "end": "1736830"
  },
  {
    "text": "get deployed as a whole in a cluster I'm not a helm expert but I'm guessing that you can do that more than once fairly",
    "start": "1736830",
    "end": "1743880"
  },
  {
    "text": "easily but it's an interesting concept and certainly you know having a test",
    "start": "1743880",
    "end": "1751140"
  },
  {
    "text": "implementation and a production installation in the same cluster is a general problem I think it's largely",
    "start": "1751140",
    "end": "1758070"
  },
  {
    "text": "save solve the things like labels and templates but if that is not something",
    "start": "1758070",
    "end": "1763740"
  },
  {
    "text": "that that you can do with vanilla kubernetes easily today then it's worth thinking about I think it's pretty much",
    "start": "1763740",
    "end": "1769470"
  },
  {
    "text": "a solved problem though I can extend the answer so the main concept around having",
    "start": "1769470",
    "end": "1777600"
  },
  {
    "text": "multiple environments in the same cluster is solved using namespaces right",
    "start": "1777600",
    "end": "1782630"
  },
  {
    "text": "the the whatever workgroup that we are",
    "start": "1782630",
    "end": "1788070"
  },
  {
    "text": "involved with it is about handling multiple clusters and we also have enabled the similar name space based",
    "start": "1788070",
    "end": "1795030"
  },
  {
    "text": "Federation so that same clusters can be assigned to different users so say you",
    "start": "1795030",
    "end": "1801150"
  },
  {
    "text": "have three clusters you can have workloads which span say production workload in a different namespace in",
    "start": "1801150",
    "end": "1807659"
  },
  {
    "text": "these three clusters and in a different namespace depth workloads could be installed in the same questions so",
    "start": "1807659",
    "end": "1814799"
  },
  {
    "text": "that's how we are trying to deal with this particular problem so we call it named spaced Federation",
    "start": "1814799",
    "end": "1821510"
  },
  {
    "text": "this wasn't your question but I wanted to mention this anyway so I'll just take this time very briefly to do so another",
    "start": "1821610",
    "end": "1827700"
  },
  {
    "text": "area which we haven't spoken about yet is is that you know these clusters don't",
    "start": "1827700",
    "end": "1833340"
  },
  {
    "text": "need to run on the same cloud provider so each cluster you might have you know clusters running on Amazon AWS on Google",
    "start": "1833340",
    "end": "1839430"
  },
  {
    "text": "on as your on-premise etc so one of the goals of this is to provide you with a",
    "start": "1839430",
    "end": "1845010"
  },
  {
    "text": "with a consistent deployment experience even if you're doing multi cluster or",
    "start": "1845010",
    "end": "1850980"
  },
  {
    "text": "multi cloud provider deployments and you know we haven't solved all the problems certainly things like inter cluster",
    "start": "1850980",
    "end": "1857760"
  },
  {
    "text": "networking become tricky especially if you have different cloud providers and different networks but that's very much",
    "start": "1857760",
    "end": "1863250"
  },
  {
    "text": "within the scope of the stuff we're solving and we have some work going on with the ISTE efforts for example to to",
    "start": "1863250",
    "end": "1869790"
  },
  {
    "text": "span multiple clusters using sto meshes and that'll you know go some way towards",
    "start": "1869790",
    "end": "1875280"
  },
  {
    "text": "solving that class of problems and and there are other similar problems you know how do you move storage around",
    "start": "1875280",
    "end": "1880800"
  },
  {
    "text": "between different different cloud providers that have different storage topologies well the group plan to solve",
    "start": "1880800",
    "end": "1892830"
  },
  {
    "text": "the program that marty-mar kubernetes cluster which deep link Buddhist version",
    "start": "1892830",
    "end": "1899960"
  },
  {
    "text": "that's a very good question it's too hard for me so I'm gonna give it a fun yeah so the prediction API so this was",
    "start": "1902390",
    "end": "1916350"
  },
  {
    "text": "one of the problems so I'll repeat this question again so what he is saying is how do you solve the problem of",
    "start": "1916350",
    "end": "1921830"
  },
  {
    "text": "federating api is from different clusters all of them with say different",
    "start": "1921830",
    "end": "1927000"
  },
  {
    "text": "API versions that's right yeah different kubernetes versions itself so different",
    "start": "1927000",
    "end": "1934020"
  },
  {
    "text": "kubernetes versions might have different API versions so that's how the problem is broken in toontown so earlier what we",
    "start": "1934020",
    "end": "1940620"
  },
  {
    "text": "were doing is in Federation v1 we were using the same API or replicating the same API so we were actually we were",
    "start": "1940620",
    "end": "1947550"
  },
  {
    "text": "trying to break our head which version of the API to use if we are federating",
    "start": "1947550",
    "end": "1952980"
  },
  {
    "text": "which are of different versions now what we have done is we are using Federation",
    "start": "1952980",
    "end": "1958970"
  },
  {
    "text": "specific version so our API has its own version and at any given point of time",
    "start": "1958970",
    "end": "1964590"
  },
  {
    "text": "we use the for a given cluster we use the uppermost so the higher most",
    "start": "1964590",
    "end": "1969929"
  },
  {
    "text": "available API version of that cluster so that way we are able to federate say a",
    "start": "1969929",
    "end": "1975750"
  },
  {
    "text": "range of different version kubernetes clusters and it doesn't break per se but",
    "start": "1975750",
    "end": "1981840"
  },
  {
    "text": "it does not guarantee that the break cannot happen because a different API version if previously a test version has",
    "start": "1981840",
    "end": "1990150"
  },
  {
    "text": "an older API version might not have a newer field which is available with a newer version so that's so far in our",
    "start": "1990150",
    "end": "1998130"
  },
  {
    "text": "tests and whatever we are doing we are actually federating different versions also and we have seen versions from 1.9",
    "start": "1998130",
    "end": "2005090"
  },
  {
    "text": "onwards the latest release and it all works fine but it doesn't guarantee that",
    "start": "2005090",
    "end": "2010760"
  },
  {
    "text": "the break would not be there",
    "start": "2010760",
    "end": "2013929"
  },
  {
    "text": "I have two questions of question number one is when we want to do to a crowd",
    "start": "2020010",
    "end": "2026250"
  },
  {
    "text": "solution because sometimes we deploy our workload in private cloud and does this",
    "start": "2026250",
    "end": "2031770"
  },
  {
    "text": "solution solve the issue that ought to the autumn I grade some workload when",
    "start": "2031770",
    "end": "2040380"
  },
  {
    "text": "there's some high usage in public cloud to public health and the second issue is",
    "start": "2040380",
    "end": "2048500"
  },
  {
    "text": "because right now we are considering deploying a huge cluster companies but",
    "start": "2048500",
    "end": "2054658"
  },
  {
    "text": "for one single crook when is Craster when you reach 1,000 or 2,000 it is some",
    "start": "2054659",
    "end": "2060720"
  },
  {
    "text": "kind of here some kind of limit unless you do some kind of refinement but what",
    "start": "2060720",
    "end": "2066270"
  },
  {
    "text": "if we use this kind of Federation or not the cluster to use it to solve this problem and this question is how many",
    "start": "2066270",
    "end": "2074368"
  },
  {
    "text": "subclass that it can handle okay so the",
    "start": "2074369",
    "end": "2081118"
  },
  {
    "text": "first question yeah first question was something like I actually had our talk about that in the",
    "start": "2081119",
    "end": "2087300"
  },
  {
    "text": "previous cube corn and the title of that talk was cloud bursting with kubernetes so we did a feature called federated HPA",
    "start": "2087300",
    "end": "2096358"
  },
  {
    "text": "in federation v1 and it actually solved this particular scenario so if you have",
    "start": "2096359",
    "end": "2101369"
  },
  {
    "text": "high usage and say on prime cluster it will move the replicas using the HPA concepts it'll move the replicas to our",
    "start": "2101369",
    "end": "2108960"
  },
  {
    "text": "cloud cluster or hosted cluster somewhere the second question okay so the second",
    "start": "2108960",
    "end": "2118859"
  },
  {
    "text": "question is probably about scalability to what scale can you go so the scalability is limited by the storage",
    "start": "2118859",
    "end": "2125190"
  },
  {
    "text": "and the computation that we have so this we are not putting any cap or the upper limit as of now and we haven't done",
    "start": "2125190",
    "end": "2131790"
  },
  {
    "text": "scalability tests honestly so but there is no upper cap on what we say the",
    "start": "2131790",
    "end": "2138390"
  },
  {
    "text": "number of clusters that we can federate or join together in due course of time",
    "start": "2138390",
    "end": "2144359"
  },
  {
    "text": "probably will be doing there those scalability tests also but the first step is that getting acceptance from the",
    "start": "2144359",
    "end": "2150840"
  },
  {
    "text": "user community and getting feedback from them I can just add very briefly to that and",
    "start": "2150840",
    "end": "2156750"
  },
  {
    "text": "we were out of time now so I'll be very short but our initial thinking was you know hundred clusters roughly was was",
    "start": "2156750",
    "end": "2162960"
  },
  {
    "text": "kind of a sensible number we've subsequently found users who have many more than that like a thousand or more",
    "start": "2162960",
    "end": "2169349"
  },
  {
    "text": "and it looks and and we haven't you know there's no fundamental design things",
    "start": "2169349",
    "end": "2174510"
  },
  {
    "text": "that are different you can think of it as a similar scaling problem to kubernetes how many nodes can a",
    "start": "2174510",
    "end": "2179700"
  },
  {
    "text": "kubernetes cluster manage and you know that depending on how you set it up",
    "start": "2179700",
    "end": "2184829"
  },
  {
    "text": "could be thousands and and this is sort of bounded by similar constraints in fact less in a way you could",
    "start": "2184829",
    "end": "2191490"
  },
  {
    "text": "conceptually you could manage more clusters than kubernetes can manage knows and run into fewer problems we are",
    "start": "2191490",
    "end": "2198119"
  },
  {
    "text": "actually using the same API plane and a controller is an application in kubernetes so that's a it's the",
    "start": "2198119",
    "end": "2205829"
  },
  {
    "text": "scalability is limited by the caters itself any other questions we are",
    "start": "2205829",
    "end": "2212910"
  },
  {
    "text": "actually out of time officially",
    "start": "2212910",
    "end": "2216798"
  }
]