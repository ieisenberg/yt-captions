[
  {
    "text": "let's do it hi everyone uh thank you for",
    "start": "1020",
    "end": "3959"
  },
  {
    "text": "coming",
    "start": "3959",
    "end": "5100"
  },
  {
    "text": "I'm Mike tudoron I'm a lead Cloud",
    "start": "5100",
    "end": "7319"
  },
  {
    "text": "engineer at Adobe this is where you can",
    "start": "7319",
    "end": "9840"
  },
  {
    "text": "find me on the interwebs",
    "start": "9840",
    "end": "12240"
  },
  {
    "text": "um so just uh do have one favor of you",
    "start": "12240",
    "end": "15719"
  },
  {
    "text": "leave me a good review it is my birthday",
    "start": "15719",
    "end": "17640"
  },
  {
    "text": "it's um",
    "start": "17640",
    "end": "19320"
  },
  {
    "text": "been wanting to come out",
    "start": "19320",
    "end": "22460"
  },
  {
    "text": "so",
    "start": "23460",
    "end": "24900"
  },
  {
    "text": "a little nervous but it is my birthday",
    "start": "24900",
    "end": "26340"
  },
  {
    "text": "so I figure you know hey you got two",
    "start": "26340",
    "end": "27900"
  },
  {
    "text": "reasons to celebrate today so birthday",
    "start": "27900",
    "end": "29460"
  },
  {
    "text": "and a talk right",
    "start": "29460",
    "end": "31920"
  },
  {
    "text": "so a little bit about Adobe we have a",
    "start": "31920",
    "end": "35340"
  },
  {
    "text": "decent size installation quite a bit of",
    "start": "35340",
    "end": "38040"
  },
  {
    "text": "compute memory CPU workloads there the",
    "start": "38040",
    "end": "42059"
  },
  {
    "text": "interesting thing with this is we have",
    "start": "42059",
    "end": "44100"
  },
  {
    "text": "around 75 to 100 different",
    "start": "44100",
    "end": "46079"
  },
  {
    "text": "infrastructure components like installed",
    "start": "46079",
    "end": "48239"
  },
  {
    "text": "per cluster now those do vary depending",
    "start": "48239",
    "end": "50879"
  },
  {
    "text": "upon the cluster itself and by the",
    "start": "50879",
    "end": "54719"
  },
  {
    "text": "number of clusters that you can see",
    "start": "54719",
    "end": "55860"
  },
  {
    "text": "there we have close to 300 of them right",
    "start": "55860",
    "end": "57420"
  },
  {
    "text": "now and that is growing",
    "start": "57420",
    "end": "59879"
  },
  {
    "text": "um kubecon North America last year I",
    "start": "59879",
    "end": "61680"
  },
  {
    "text": "think we were around 235 clusters we are",
    "start": "61680",
    "end": "64920"
  },
  {
    "text": "somewhat newer users of the REO",
    "start": "64920",
    "end": "66780"
  },
  {
    "text": "ecosystem newer git Ops users for the",
    "start": "66780",
    "end": "70200"
  },
  {
    "text": "infrastructure side our applications",
    "start": "70200",
    "end": "71700"
  },
  {
    "text": "teams have been using them for longer",
    "start": "71700",
    "end": "73320"
  },
  {
    "text": "than the infrastructure side and we are",
    "start": "73320",
    "end": "75720"
  },
  {
    "text": "migrating all of our stuff over to",
    "start": "75720",
    "end": "77280"
  },
  {
    "text": "Cluster API and being used along with",
    "start": "77280",
    "end": "80520"
  },
  {
    "text": "the get Ops system",
    "start": "80520",
    "end": "83700"
  },
  {
    "text": "so why does get Ops matter for",
    "start": "83700",
    "end": "85560"
  },
  {
    "text": "infrastructure teams I apologize this",
    "start": "85560",
    "end": "87659"
  },
  {
    "text": "does look like a marketing slide it came",
    "start": "87659",
    "end": "90420"
  },
  {
    "text": "from a marketing slide but it does",
    "start": "90420",
    "end": "93960"
  },
  {
    "text": "resonate with me",
    "start": "93960",
    "end": "95659"
  },
  {
    "text": "declarative infrastructure code does",
    "start": "95659",
    "end": "98820"
  },
  {
    "text": "make things simpler to understand it",
    "start": "98820",
    "end": "100799"
  },
  {
    "text": "does make it so that",
    "start": "100799",
    "end": "102720"
  },
  {
    "text": "every level of the engineering team who",
    "start": "102720",
    "end": "105600"
  },
  {
    "text": "works on the infrastructure can",
    "start": "105600",
    "end": "106740"
  },
  {
    "text": "understand what's going to happen they",
    "start": "106740",
    "end": "108240"
  },
  {
    "text": "can understand the inputs they can",
    "start": "108240",
    "end": "109860"
  },
  {
    "text": "understand the outputs",
    "start": "109860",
    "end": "112380"
  },
  {
    "text": "um you know what you see is what you get",
    "start": "112380",
    "end": "113880"
  },
  {
    "text": "everybody wants that it's shown to work",
    "start": "113880",
    "end": "116700"
  },
  {
    "text": "on application code it can show and has",
    "start": "116700",
    "end": "119340"
  },
  {
    "text": "been shown to work on infrastructure",
    "start": "119340",
    "end": "120600"
  },
  {
    "text": "code as well it lowers the risk and get",
    "start": "120600",
    "end": "122939"
  },
  {
    "text": "Ops it's argocon you know the benefits",
    "start": "122939",
    "end": "124860"
  },
  {
    "text": "of git Ops I don't need to explain that",
    "start": "124860",
    "end": "126420"
  },
  {
    "text": "but it does reduce the complexity it",
    "start": "126420",
    "end": "128819"
  },
  {
    "text": "does reduce that drift that happens with",
    "start": "128819",
    "end": "131099"
  },
  {
    "text": "infrastructure code that happens before",
    "start": "131099",
    "end": "133140"
  },
  {
    "text": "git Ops somebody's made some change",
    "start": "133140",
    "end": "134819"
  },
  {
    "text": "manually somebody's you know some cloud",
    "start": "134819",
    "end": "137459"
  },
  {
    "text": "system has changed and it's manipulated",
    "start": "137459",
    "end": "139440"
  },
  {
    "text": "what's happened there and all of a",
    "start": "139440",
    "end": "140640"
  },
  {
    "text": "sudden you go to do something and",
    "start": "140640",
    "end": "142500"
  },
  {
    "text": "something got blown away because you",
    "start": "142500",
    "end": "144060"
  },
  {
    "text": "didn't know what happened get Ops keeps",
    "start": "144060",
    "end": "145680"
  },
  {
    "text": "all that in sync",
    "start": "145680",
    "end": "147959"
  },
  {
    "text": "so in the way back before times last",
    "start": "147959",
    "end": "151020"
  },
  {
    "text": "year",
    "start": "151020",
    "end": "151940"
  },
  {
    "text": "we had this homegrown python monolith we",
    "start": "151940",
    "end": "156060"
  },
  {
    "text": "had some Azure arm templates cloud",
    "start": "156060",
    "end": "157739"
  },
  {
    "text": "formation templates all this mess",
    "start": "157739",
    "end": "161040"
  },
  {
    "text": "and now we're moving everything to a",
    "start": "161040",
    "end": "162660"
  },
  {
    "text": "declarative infrastructure cluster API",
    "start": "162660",
    "end": "165000"
  },
  {
    "text": "Amazon for Kappa Azure for cap Z",
    "start": "165000",
    "end": "169200"
  },
  {
    "text": "the Argo ecosystem Helm charts for all",
    "start": "169200",
    "end": "172019"
  },
  {
    "text": "of our stuff and custom operators",
    "start": "172019",
    "end": "174060"
  },
  {
    "text": "custom operators is really huge for",
    "start": "174060",
    "end": "176160"
  },
  {
    "text": "declarative system for your",
    "start": "176160",
    "end": "178140"
  },
  {
    "text": "infrastructure it's back to that you",
    "start": "178140",
    "end": "180480"
  },
  {
    "text": "know what you see is what you get if you",
    "start": "180480",
    "end": "182700"
  },
  {
    "text": "don't use a custom operator you're back",
    "start": "182700",
    "end": "184500"
  },
  {
    "text": "to writing that code that's",
    "start": "184500",
    "end": "187040"
  },
  {
    "text": "interrogates the system goes what's",
    "start": "187040",
    "end": "188940"
  },
  {
    "text": "there it sounds counterintuitive because",
    "start": "188940",
    "end": "191640"
  },
  {
    "text": "that's what the operator does right it",
    "start": "191640",
    "end": "193379"
  },
  {
    "text": "still has to go out talk to the cloud",
    "start": "193379",
    "end": "195260"
  },
  {
    "text": "providers it still has to talk to the",
    "start": "195260",
    "end": "197340"
  },
  {
    "text": "different systems to figure out what the",
    "start": "197340",
    "end": "199500"
  },
  {
    "text": "end stage should be like",
    "start": "199500",
    "end": "201000"
  },
  {
    "text": "but that code is written by the subject",
    "start": "201000",
    "end": "203700"
  },
  {
    "text": "matter experts the individual",
    "start": "203700",
    "end": "205319"
  },
  {
    "text": "infrastructure Engineers are still",
    "start": "205319",
    "end": "206819"
  },
  {
    "text": "writing their code in the declarative",
    "start": "206819",
    "end": "208260"
  },
  {
    "text": "fashion so that their risk their",
    "start": "208260",
    "end": "211080"
  },
  {
    "text": "understanding is still much more minimal",
    "start": "211080",
    "end": "213540"
  },
  {
    "text": "so that's why I put this on that slide",
    "start": "213540",
    "end": "216599"
  },
  {
    "text": "it moving to the custom operators is a",
    "start": "216599",
    "end": "219720"
  },
  {
    "text": "large part of this journey for us",
    "start": "219720",
    "end": "222959"
  },
  {
    "text": "so I've mentioned cluster API",
    "start": "222959",
    "end": "225299"
  },
  {
    "text": "building clusters for us now has gone",
    "start": "225299",
    "end": "227040"
  },
  {
    "text": "from that monolithic python code Azure",
    "start": "227040",
    "end": "229739"
  },
  {
    "text": "arm templates cloud formation to looking",
    "start": "229739",
    "end": "232140"
  },
  {
    "text": "something very simplistic in a way like",
    "start": "232140",
    "end": "235080"
  },
  {
    "text": "this on the left we have our cluster",
    "start": "235080",
    "end": "237720"
  },
  {
    "text": "definition it references the control",
    "start": "237720",
    "end": "239580"
  },
  {
    "text": "plane references some infrastructure",
    "start": "239580",
    "end": "242400"
  },
  {
    "text": "on the right that's kind of what it",
    "start": "242400",
    "end": "244620"
  },
  {
    "text": "looks like hey we got a managed control",
    "start": "244620",
    "end": "246420"
  },
  {
    "text": "plane here's its name",
    "start": "246420",
    "end": "248519"
  },
  {
    "text": "we got some public and private endpoints",
    "start": "248519",
    "end": "250560"
  },
  {
    "text": "we have an allow list we have some roles",
    "start": "250560",
    "end": "253620"
  },
  {
    "text": "that associate to it and a kubernetes",
    "start": "253620",
    "end": "255180"
  },
  {
    "text": "version",
    "start": "255180",
    "end": "256440"
  },
  {
    "text": "so to a developer on the infrastructure",
    "start": "256440",
    "end": "258600"
  },
  {
    "text": "team that wants to deploy a kubernetes",
    "start": "258600",
    "end": "260040"
  },
  {
    "text": "cluster an eks cluster in this case",
    "start": "260040",
    "end": "262440"
  },
  {
    "text": "this is what their template ends up",
    "start": "262440",
    "end": "264840"
  },
  {
    "text": "looking like now this is Helm so they",
    "start": "264840",
    "end": "267300"
  },
  {
    "text": "don't even have to program all of this",
    "start": "267300",
    "end": "269040"
  },
  {
    "text": "they put in a couple of values a cluster",
    "start": "269040",
    "end": "270720"
  },
  {
    "text": "name and a kubernetes version",
    "start": "270720",
    "end": "273300"
  },
  {
    "text": "being there done",
    "start": "273300",
    "end": "275600"
  },
  {
    "text": "now you do have to do a little bit more",
    "start": "275600",
    "end": "277800"
  },
  {
    "text": "when you get into the compute tiers",
    "start": "277800",
    "end": "279360"
  },
  {
    "text": "there's a little bit more to it you have",
    "start": "279360",
    "end": "281040"
  },
  {
    "text": "to Define okay what's the machine going",
    "start": "281040",
    "end": "283560"
  },
  {
    "text": "to look like what are your failure",
    "start": "283560",
    "end": "285000"
  },
  {
    "text": "domains or availability zones",
    "start": "285000",
    "end": "287479"
  },
  {
    "text": "sizes encryption instance profiles stuff",
    "start": "287479",
    "end": "290880"
  },
  {
    "text": "like that so it does start to get a",
    "start": "290880",
    "end": "292139"
  },
  {
    "text": "little more complicated",
    "start": "292139",
    "end": "293460"
  },
  {
    "text": "but those of you that have had to deal",
    "start": "293460",
    "end": "295680"
  },
  {
    "text": "with arm templates cloud formation",
    "start": "295680",
    "end": "298560"
  },
  {
    "text": "um at least from my perspective this is",
    "start": "298560",
    "end": "300419"
  },
  {
    "text": "a lot easier to understand and for a",
    "start": "300419",
    "end": "302820"
  },
  {
    "text": "human to grok and go through and say oh",
    "start": "302820",
    "end": "306000"
  },
  {
    "text": "I just want",
    "start": "306000",
    "end": "307139"
  },
  {
    "text": "you know this size root volume boom",
    "start": "307139",
    "end": "309180"
  },
  {
    "text": "bottle being I'm done",
    "start": "309180",
    "end": "311340"
  },
  {
    "text": "you throw into Argo CD the output is a",
    "start": "311340",
    "end": "314400"
  },
  {
    "text": "rendered Helm chart Argo CD applies it",
    "start": "314400",
    "end": "316680"
  },
  {
    "text": "through the cluster API next thing you",
    "start": "316680",
    "end": "318720"
  },
  {
    "text": "know you have a kubernetes cluster",
    "start": "318720",
    "end": "319979"
  },
  {
    "text": "that's built",
    "start": "319979",
    "end": "322520"
  },
  {
    "text": "performing upgrades with cluster API",
    "start": "324240",
    "end": "326580"
  },
  {
    "text": "really helps us manage this large Fleet",
    "start": "326580",
    "end": "328740"
  },
  {
    "text": "of clusters so the 300 cluster Fleet if",
    "start": "328740",
    "end": "330900"
  },
  {
    "text": "we had to go through in the old world it",
    "start": "330900",
    "end": "332639"
  },
  {
    "text": "would take us months upon months to do",
    "start": "332639",
    "end": "334860"
  },
  {
    "text": "upgrades we'd have to run through the",
    "start": "334860",
    "end": "336600"
  },
  {
    "text": "code do it go along now what happens is",
    "start": "336600",
    "end": "340080"
  },
  {
    "text": "as we go through these Helm templates",
    "start": "340080",
    "end": "341780"
  },
  {
    "text": "update the helm template change the",
    "start": "341780",
    "end": "344340"
  },
  {
    "text": "kubernetes version",
    "start": "344340",
    "end": "345660"
  },
  {
    "text": "cluster API takes that kubernetes",
    "start": "345660",
    "end": "348240"
  },
  {
    "text": "version change and starts going through",
    "start": "348240",
    "end": "350100"
  },
  {
    "text": "its processing we do this through two",
    "start": "350100",
    "end": "352440"
  },
  {
    "text": "com two commits the first commit updates",
    "start": "352440",
    "end": "355080"
  },
  {
    "text": "the control plane so we want to make",
    "start": "355080",
    "end": "356880"
  },
  {
    "text": "sure that our compute nodes are not",
    "start": "356880",
    "end": "358500"
  },
  {
    "text": "running a newer version than the control",
    "start": "358500",
    "end": "361139"
  },
  {
    "text": "plane so after the control plane's been",
    "start": "361139",
    "end": "363300"
  },
  {
    "text": "updated the AKs or eks cluster has been",
    "start": "363300",
    "end": "365460"
  },
  {
    "text": "updated then we go through do that",
    "start": "365460",
    "end": "367259"
  },
  {
    "text": "second commit that starts updating the",
    "start": "367259",
    "end": "368840"
  },
  {
    "text": "compute nodes at that point cluster API",
    "start": "368840",
    "end": "372539"
  },
  {
    "text": "starts going through its drain process",
    "start": "372539",
    "end": "373979"
  },
  {
    "text": "we don't follow that exact cluster API",
    "start": "373979",
    "end": "377160"
  },
  {
    "text": "process though it's a very good one we",
    "start": "377160",
    "end": "379919"
  },
  {
    "text": "run a tool called Kate Shredder that we",
    "start": "379919",
    "end": "381600"
  },
  {
    "text": "open source this allows us to handle",
    "start": "381600",
    "end": "384360"
  },
  {
    "text": "things that cluster API can't do so I'm",
    "start": "384360",
    "end": "387360"
  },
  {
    "text": "sure all of you run large installations",
    "start": "387360",
    "end": "390060"
  },
  {
    "text": "of just workloads I've dealt with pods",
    "start": "390060",
    "end": "392639"
  },
  {
    "text": "and crash loop back off or people",
    "start": "392639",
    "end": "394680"
  },
  {
    "text": "writing bad pdbs where you just can't",
    "start": "394680",
    "end": "396419"
  },
  {
    "text": "evict workloads and you're like well",
    "start": "396419",
    "end": "397800"
  },
  {
    "text": "what do I do so I just boot the workload",
    "start": "397800",
    "end": "400199"
  },
  {
    "text": "and risk having an outage or am I stuck",
    "start": "400199",
    "end": "403740"
  },
  {
    "text": "not being able to replace my worker",
    "start": "403740",
    "end": "405660"
  },
  {
    "text": "nodes",
    "start": "405660",
    "end": "406680"
  },
  {
    "text": "and so Kate Strider goes through and has",
    "start": "406680",
    "end": "408600"
  },
  {
    "text": "some business logic in there that tries",
    "start": "408600",
    "end": "411720"
  },
  {
    "text": "to be",
    "start": "411720",
    "end": "413580"
  },
  {
    "text": "safer I guess with doing those things",
    "start": "413580",
    "end": "416460"
  },
  {
    "text": "and booting the workloads",
    "start": "416460",
    "end": "419039"
  },
  {
    "text": "um but it uh it still tries to respect",
    "start": "419039",
    "end": "421440"
  },
  {
    "text": "the pdbs but is a little more flexible",
    "start": "421440",
    "end": "423539"
  },
  {
    "text": "and a little more aggressive with it",
    "start": "423539",
    "end": "427199"
  },
  {
    "text": "um but this process then goes over a",
    "start": "427199",
    "end": "428759"
  },
  {
    "text": "period of like seven days and evicts the",
    "start": "428759",
    "end": "431460"
  },
  {
    "text": "workloads over time it notifies the the",
    "start": "431460",
    "end": "434400"
  },
  {
    "text": "tenants of their workloads and labels",
    "start": "434400",
    "end": "437460"
  },
  {
    "text": "and annotates the pods and nodes and",
    "start": "437460",
    "end": "439919"
  },
  {
    "text": "things are going so at this point what's",
    "start": "439919",
    "end": "441360"
  },
  {
    "text": "happened is all the developers had to do",
    "start": "441360",
    "end": "443759"
  },
  {
    "text": "is update a kubernetes version in their",
    "start": "443759",
    "end": "445560"
  },
  {
    "text": "manifest",
    "start": "445560",
    "end": "447000"
  },
  {
    "text": "clusters are upgrading so the power of",
    "start": "447000",
    "end": "450060"
  },
  {
    "text": "the declarative infrastructure has made",
    "start": "450060",
    "end": "452220"
  },
  {
    "text": "it",
    "start": "452220",
    "end": "453599"
  },
  {
    "text": "um",
    "start": "453599",
    "end": "454520"
  },
  {
    "text": "excuse me",
    "start": "454520",
    "end": "456479"
  },
  {
    "text": "easier for someone to understand what's",
    "start": "456479",
    "end": "459599"
  },
  {
    "text": "happening as they go along",
    "start": "459599",
    "end": "462360"
  },
  {
    "text": "so one of the cool things with this is",
    "start": "462360",
    "end": "464880"
  },
  {
    "text": "using the Argo ecosystem we also have",
    "start": "464880",
    "end": "467039"
  },
  {
    "text": "the events that get triggered so when",
    "start": "467039",
    "end": "469440"
  },
  {
    "text": "this applies happen through Argo CD Argo",
    "start": "469440",
    "end": "472380"
  },
  {
    "text": "event is created that event then you",
    "start": "472380",
    "end": "476940"
  },
  {
    "text": "know the sensors and all of that goes",
    "start": "476940",
    "end": "478560"
  },
  {
    "text": "through and a workflow gets triggered",
    "start": "478560",
    "end": "480000"
  },
  {
    "text": "and that's what adds those labels that",
    "start": "480000",
    "end": "482460"
  },
  {
    "text": "things like Shredder can use and just",
    "start": "482460",
    "end": "484620"
  },
  {
    "text": "other things that tenants can then be",
    "start": "484620",
    "end": "486599"
  },
  {
    "text": "notified of that there are upgrades",
    "start": "486599",
    "end": "488220"
  },
  {
    "text": "happening on the Clusters and that",
    "start": "488220",
    "end": "490139"
  },
  {
    "text": "allows us to do things like saying hey",
    "start": "490139",
    "end": "491699"
  },
  {
    "text": "tenants that don't you know want their",
    "start": "491699",
    "end": "494220"
  },
  {
    "text": "pods to be evicted a pod disruption",
    "start": "494220",
    "end": "495840"
  },
  {
    "text": "budget of zero we can push a",
    "start": "495840",
    "end": "498000"
  },
  {
    "text": "notification to them through the event",
    "start": "498000",
    "end": "499440"
  },
  {
    "text": "cycle and over that seven day period",
    "start": "499440",
    "end": "502199"
  },
  {
    "text": "they can do their their own evictions",
    "start": "502199",
    "end": "504419"
  },
  {
    "text": "and their own migration of their",
    "start": "504419",
    "end": "505680"
  },
  {
    "text": "workloads so we're a little bit",
    "start": "505680",
    "end": "507479"
  },
  {
    "text": "forgiving with them and give them that",
    "start": "507479",
    "end": "509160"
  },
  {
    "text": "time So eventually over this time all of",
    "start": "509160",
    "end": "511379"
  },
  {
    "text": "our nodes are replaced but from a",
    "start": "511379",
    "end": "514140"
  },
  {
    "text": "infrastructure engineer perspective all",
    "start": "514140",
    "end": "516479"
  },
  {
    "text": "they've done is that commit so there's",
    "start": "516479",
    "end": "518099"
  },
  {
    "text": "no real human actions happening there",
    "start": "518099",
    "end": "522360"
  },
  {
    "text": "a few things to watch out for with large",
    "start": "522360",
    "end": "523979"
  },
  {
    "text": "installations though",
    "start": "523979",
    "end": "525440"
  },
  {
    "text": "if you don't change your reconciliation",
    "start": "525440",
    "end": "528680"
  },
  {
    "text": "concurrency rate you can end up where it",
    "start": "528680",
    "end": "532260"
  },
  {
    "text": "doesn't reconcile all of your clusters",
    "start": "532260",
    "end": "534120"
  },
  {
    "text": "or all of your resources",
    "start": "534120",
    "end": "536940"
  },
  {
    "text": "um there's a good git issue on there to",
    "start": "536940",
    "end": "538320"
  },
  {
    "text": "check out somebody's done some really",
    "start": "538320",
    "end": "540120"
  },
  {
    "text": "good performance data with that",
    "start": "540120",
    "end": "542040"
  },
  {
    "text": "um it's fairly new a lot of good stuff",
    "start": "542040",
    "end": "545720"
  },
  {
    "text": "um if you've ever run a cluster with a",
    "start": "545760",
    "end": "548580"
  },
  {
    "text": "lot of Secrets and Watchers and config",
    "start": "548580",
    "end": "551339"
  },
  {
    "text": "Maps where there's a lot of things",
    "start": "551339",
    "end": "552540"
  },
  {
    "text": "watching resources you need to run a",
    "start": "552540",
    "end": "554760"
  },
  {
    "text": "larger control plane watches are very",
    "start": "554760",
    "end": "557100"
  },
  {
    "text": "expensive on its CD uses a lot of memory",
    "start": "557100",
    "end": "559680"
  },
  {
    "text": "they're expensive operations",
    "start": "559680",
    "end": "563060"
  },
  {
    "text": "um do use a management cluster per cloud",
    "start": "563339",
    "end": "566279"
  },
  {
    "text": "provider that way there you can take",
    "start": "566279",
    "end": "568560"
  },
  {
    "text": "advantage of native authentication irsa",
    "start": "568560",
    "end": "571800"
  },
  {
    "text": "for Amazon workload identity for",
    "start": "571800",
    "end": "574080"
  },
  {
    "text": "Microsoft things of that",
    "start": "574080",
    "end": "576420"
  },
  {
    "text": "watch out with the Kappa the AWS managed",
    "start": "576420",
    "end": "580380"
  },
  {
    "text": "machine pool I know I have that",
    "start": "580380",
    "end": "581880"
  },
  {
    "text": "explicitly mentioned there but I really",
    "start": "581880",
    "end": "583500"
  },
  {
    "text": "want to mention that that uses ASG",
    "start": "583500",
    "end": "585180"
  },
  {
    "text": "instance refresh which does mean that",
    "start": "585180",
    "end": "587700"
  },
  {
    "text": "your workloads are not drained first it",
    "start": "587700",
    "end": "589620"
  },
  {
    "text": "just uses Amazon's replace the node that",
    "start": "589620",
    "end": "592800"
  },
  {
    "text": "could be really bad that almost bit us",
    "start": "592800",
    "end": "595620"
  },
  {
    "text": "very badly",
    "start": "595620",
    "end": "597140"
  },
  {
    "text": "thankfully we noticed that before it",
    "start": "597140",
    "end": "599459"
  },
  {
    "text": "happened",
    "start": "599459",
    "end": "601560"
  },
  {
    "text": "let's see here",
    "start": "601560",
    "end": "603420"
  },
  {
    "text": "so with that many clusters we need to",
    "start": "603420",
    "end": "605700"
  },
  {
    "text": "dynamically register them into Argo CD",
    "start": "605700",
    "end": "607940"
  },
  {
    "text": "so we have an automated process that",
    "start": "607940",
    "end": "611160"
  },
  {
    "text": "again uses the Argo ecosystem to go",
    "start": "611160",
    "end": "613019"
  },
  {
    "text": "through and do that it sits there we've",
    "start": "613019",
    "end": "615720"
  },
  {
    "text": "added an event source that triggers",
    "start": "615720",
    "end": "619500"
  },
  {
    "text": "um on another Argo workflow it watches",
    "start": "619500",
    "end": "621720"
  },
  {
    "text": "for config map that gets deployed by the",
    "start": "621720",
    "end": "623700"
  },
  {
    "text": "application set generator you'll notice",
    "start": "623700",
    "end": "625740"
  },
  {
    "text": "there as I talk here application sets",
    "start": "625740",
    "end": "627600"
  },
  {
    "text": "are really big for us",
    "start": "627600",
    "end": "629100"
  },
  {
    "text": "what this does is it gets the different",
    "start": "629100",
    "end": "630660"
  },
  {
    "text": "labels and annotations that the we're",
    "start": "630660",
    "end": "633180"
  },
  {
    "text": "going to need for the Argo CD from this",
    "start": "633180",
    "end": "635160"
  },
  {
    "text": "config map",
    "start": "635160",
    "end": "636360"
  },
  {
    "text": "it authenticates the appropriate Argo CD",
    "start": "636360",
    "end": "638820"
  },
  {
    "text": "cluster registers the cluster into there",
    "start": "638820",
    "end": "641220"
  },
  {
    "text": "or updates the cluster into there based",
    "start": "641220",
    "end": "643680"
  },
  {
    "text": "upon the information that's in that",
    "start": "643680",
    "end": "645480"
  },
  {
    "text": "config map we want to make sure we do",
    "start": "645480",
    "end": "646860"
  },
  {
    "text": "updates because if we add labels or",
    "start": "646860",
    "end": "648540"
  },
  {
    "text": "annotations we don't want it to be",
    "start": "648540",
    "end": "649920"
  },
  {
    "text": "whatever the cluster was first",
    "start": "649920",
    "end": "651000"
  },
  {
    "text": "registered with",
    "start": "651000",
    "end": "652260"
  },
  {
    "text": "we want to keep whatever is the current",
    "start": "652260",
    "end": "654480"
  },
  {
    "text": "for there",
    "start": "654480",
    "end": "656579"
  },
  {
    "text": "this config map is something like this",
    "start": "656579",
    "end": "659940"
  },
  {
    "text": "we have just populated again via helm it",
    "start": "659940",
    "end": "664440"
  },
  {
    "text": "pulls either from you know from that",
    "start": "664440",
    "end": "666240"
  },
  {
    "text": "chart that defines the cluster API",
    "start": "666240",
    "end": "668880"
  },
  {
    "text": "definition for a cluster you know what's",
    "start": "668880",
    "end": "671160"
  },
  {
    "text": "some of the attributes per cluster is",
    "start": "671160",
    "end": "673320"
  },
  {
    "text": "its GPU Kata where's our environment or",
    "start": "673320",
    "end": "676800"
  },
  {
    "text": "cloud provider for filtering",
    "start": "676800",
    "end": "678660"
  },
  {
    "text": "and then optionally an Argo CD server or",
    "start": "678660",
    "end": "681720"
  },
  {
    "text": "it calculates out which Argo CD server",
    "start": "681720",
    "end": "684300"
  },
  {
    "text": "it should be registering this cluster",
    "start": "684300",
    "end": "686100"
  },
  {
    "text": "into and we'll talk a little bit later",
    "start": "686100",
    "end": "687720"
  },
  {
    "text": "on about why the Argo CD server is a",
    "start": "687720",
    "end": "692579"
  },
  {
    "text": "field to be selecting to because we'll",
    "start": "692579",
    "end": "695700"
  },
  {
    "text": "see about well I'll talk about that in a",
    "start": "695700",
    "end": "697680"
  },
  {
    "text": "moment",
    "start": "697680",
    "end": "699600"
  },
  {
    "text": "um and then the Event Source is a",
    "start": "699600",
    "end": "701820"
  },
  {
    "text": "straightforward Argo Event Source that",
    "start": "701820",
    "end": "704100"
  },
  {
    "text": "just watches on the config map and then",
    "start": "704100",
    "end": "706740"
  },
  {
    "text": "triggers that workflow",
    "start": "706740",
    "end": "708540"
  },
  {
    "text": "takes it Argo CD cluster ad",
    "start": "708540",
    "end": "713480"
  },
  {
    "text": "so we talked about 285 clusters 75 to",
    "start": "714480",
    "end": "719100"
  },
  {
    "text": "100 different components",
    "start": "719100",
    "end": "720779"
  },
  {
    "text": "it's around 200 000 resources at its",
    "start": "720779",
    "end": "723779"
  },
  {
    "text": "basic set that's a lot",
    "start": "723779",
    "end": "726600"
  },
  {
    "text": "it's actually more than that last I",
    "start": "726600",
    "end": "729839"
  },
  {
    "text": "checked we're actually running around",
    "start": "729839",
    "end": "732779"
  },
  {
    "text": "20ish on average resources per thing",
    "start": "732779",
    "end": "735480"
  },
  {
    "text": "it's too much for a single Argo to run",
    "start": "735480",
    "end": "737779"
  },
  {
    "text": "in an optimal manner",
    "start": "737779",
    "end": "741240"
  },
  {
    "text": "Argo does do really really well out of",
    "start": "741240",
    "end": "743820"
  },
  {
    "text": "the box here's some stats that Dan",
    "start": "743820",
    "end": "745380"
  },
  {
    "text": "Garfield and Joe Sandoval Dan's at code",
    "start": "745380",
    "end": "748980"
  },
  {
    "text": "fresh and Joe's another Adobe employee",
    "start": "748980",
    "end": "750660"
  },
  {
    "text": "did at last kubecon",
    "start": "750660",
    "end": "752640"
  },
  {
    "text": "I highly recommend checking out their",
    "start": "752640",
    "end": "754620"
  },
  {
    "text": "talk there's some docs on that",
    "start": "754620",
    "end": "757079"
  },
  {
    "text": "it does really well and in most",
    "start": "757079",
    "end": "758940"
  },
  {
    "text": "situations out of the box with some",
    "start": "758940",
    "end": "760680"
  },
  {
    "text": "basic aha setup you're good to go",
    "start": "760680",
    "end": "762660"
  },
  {
    "text": "however for our expected growth this",
    "start": "762660",
    "end": "765540"
  },
  {
    "text": "year and into next year",
    "start": "765540",
    "end": "767579"
  },
  {
    "text": "um that's not going to be sufficient",
    "start": "767579",
    "end": "771180"
  },
  {
    "text": "so what we've done is we've set up an",
    "start": "771180",
    "end": "773579"
  },
  {
    "text": "Argo of Argo sort of pattern so we have",
    "start": "773579",
    "end": "775800"
  },
  {
    "text": "a basically a tier zero Argo that",
    "start": "775800",
    "end": "778920"
  },
  {
    "text": "manages a bunch of sub-argos and so you",
    "start": "778920",
    "end": "782339"
  },
  {
    "text": "know it each as you commit to one it",
    "start": "782339",
    "end": "784260"
  },
  {
    "text": "creates the sub Argos based upon the",
    "start": "784260",
    "end": "786959"
  },
  {
    "text": "config files that we've set up we",
    "start": "786959",
    "end": "788459"
  },
  {
    "text": "committed into helm",
    "start": "788459",
    "end": "790079"
  },
  {
    "text": "creates the sub ones and we actually",
    "start": "790079",
    "end": "791519"
  },
  {
    "text": "technically have two Argos",
    "start": "791519",
    "end": "793500"
  },
  {
    "text": "two tier zeros that manage each other so",
    "start": "793500",
    "end": "796139"
  },
  {
    "text": "that we have that kind of redundancy a",
    "start": "796139",
    "end": "797880"
  },
  {
    "text": "non-prod and a prod and it trees down",
    "start": "797880",
    "end": "800399"
  },
  {
    "text": "into the different environments",
    "start": "800399",
    "end": "802820"
  },
  {
    "text": "that registration process",
    "start": "802820",
    "end": "805500"
  },
  {
    "text": "does the calculation based upon the",
    "start": "805500",
    "end": "807300"
  },
  {
    "text": "cluster's environment region cloud",
    "start": "807300",
    "end": "808860"
  },
  {
    "text": "provider and so on determines which",
    "start": "808860",
    "end": "810540"
  },
  {
    "text": "Argos server to go into",
    "start": "810540",
    "end": "812519"
  },
  {
    "text": "now that can be overridden on an",
    "start": "812519",
    "end": "814620"
  },
  {
    "text": "individual basis if decided or as we",
    "start": "814620",
    "end": "817680"
  },
  {
    "text": "update this Argo of Argos chart that",
    "start": "817680",
    "end": "820980"
  },
  {
    "text": "auto registration process will",
    "start": "820980",
    "end": "822899"
  },
  {
    "text": "deregister from one Argo",
    "start": "822899",
    "end": "824880"
  },
  {
    "text": "and move it to the other Argo and that",
    "start": "824880",
    "end": "827279"
  },
  {
    "text": "way there when we find that one is",
    "start": "827279",
    "end": "828540"
  },
  {
    "text": "overwhelmed and we want to say okay we",
    "start": "828540",
    "end": "830820"
  },
  {
    "text": "had five sub-argas we want to have six",
    "start": "830820",
    "end": "832620"
  },
  {
    "text": "now",
    "start": "832620",
    "end": "833579"
  },
  {
    "text": "it'll Auto reallocate them all to where",
    "start": "833579",
    "end": "836100"
  },
  {
    "text": "they need to go as we determined from",
    "start": "836100",
    "end": "838200"
  },
  {
    "text": "the monitoring",
    "start": "838200",
    "end": "839360"
  },
  {
    "text": "wrong choice awards they're not",
    "start": "839360",
    "end": "841139"
  },
  {
    "text": "monitoring um",
    "start": "841139",
    "end": "843540"
  },
  {
    "text": "the just the metrics dashboarding seeing",
    "start": "843540",
    "end": "845820"
  },
  {
    "text": "how the performance is going you know",
    "start": "845820",
    "end": "847800"
  },
  {
    "text": "are things going slow are they going",
    "start": "847800",
    "end": "849720"
  },
  {
    "text": "appropriately just be careful if you do",
    "start": "849720",
    "end": "852300"
  },
  {
    "text": "that you don't want to accidentally",
    "start": "852300",
    "end": "853440"
  },
  {
    "text": "unregister it and have it uninstall your",
    "start": "853440",
    "end": "856079"
  },
  {
    "text": "applications",
    "start": "856079",
    "end": "857459"
  },
  {
    "text": "um v0.1 did do that",
    "start": "857459",
    "end": "860820"
  },
  {
    "text": "um not what you want to have happen",
    "start": "860820",
    "end": "864620"
  },
  {
    "text": "so with this many applications and",
    "start": "865019",
    "end": "868740"
  },
  {
    "text": "clusters testing of these Helm charts is",
    "start": "868740",
    "end": "871320"
  },
  {
    "text": "really important to us",
    "start": "871320",
    "end": "874079"
  },
  {
    "text": "our testing needs to go against full",
    "start": "874079",
    "end": "875940"
  },
  {
    "text": "featured clusters due to dependencies",
    "start": "875940",
    "end": "877680"
  },
  {
    "text": "and we use proud to trigger RCI",
    "start": "877680",
    "end": "880800"
  },
  {
    "text": "so we use the headshaw of the pr and the",
    "start": "880800",
    "end": "884579"
  },
  {
    "text": "application name as we build these",
    "start": "884579",
    "end": "886260"
  },
  {
    "text": "clusters either with our Legacy system",
    "start": "886260",
    "end": "888420"
  },
  {
    "text": "during a transition period or with",
    "start": "888420",
    "end": "890820"
  },
  {
    "text": "cluster API",
    "start": "890820",
    "end": "892800"
  },
  {
    "text": "and so we build up the cluster with that",
    "start": "892800",
    "end": "894420"
  },
  {
    "text": "and then each of the applications that",
    "start": "894420",
    "end": "896399"
  },
  {
    "text": "we're deploying has again an application",
    "start": "896399",
    "end": "898380"
  },
  {
    "text": "set that either installs that PR code or",
    "start": "898380",
    "end": "902459"
  },
  {
    "text": "the head and then we run a bunch of",
    "start": "902459",
    "end": "904440"
  },
  {
    "text": "metric checks to see when that things",
    "start": "904440",
    "end": "907199"
  },
  {
    "text": "are successful",
    "start": "907199",
    "end": "908519"
  },
  {
    "text": "so what this looks like is this here we",
    "start": "908519",
    "end": "910620"
  },
  {
    "text": "use the merge generator",
    "start": "910620",
    "end": "912240"
  },
  {
    "text": "that does a selector of any clusters",
    "start": "912240",
    "end": "914760"
  },
  {
    "text": "that are in the CI environment and we",
    "start": "914760",
    "end": "917040"
  },
  {
    "text": "say that the version is blank and then",
    "start": "917040",
    "end": "919920"
  },
  {
    "text": "we select the pull request where you",
    "start": "919920",
    "end": "922440"
  },
  {
    "text": "know from this repository for my app",
    "start": "922440",
    "end": "926639"
  },
  {
    "text": "um and then we say where the app and",
    "start": "926639",
    "end": "929100"
  },
  {
    "text": "then we have another select or as",
    "start": "929100",
    "end": "931800"
  },
  {
    "text": "another generator all the Clusters where",
    "start": "931800",
    "end": "934680"
  },
  {
    "text": "the application name is not my app",
    "start": "934680",
    "end": "937680"
  },
  {
    "text": "and the reason why we do these two",
    "start": "937680",
    "end": "939360"
  },
  {
    "text": "different ones is we say when it hits",
    "start": "939360",
    "end": "941699"
  },
  {
    "text": "that Burge generator it'll create a",
    "start": "941699",
    "end": "943860"
  },
  {
    "text": "cluster that installs with that PR",
    "start": "943860",
    "end": "946740"
  },
  {
    "text": "and then when that cluster is not using",
    "start": "946740",
    "end": "948779"
  },
  {
    "text": "the my app it'll install head of all the",
    "start": "948779",
    "end": "951540"
  },
  {
    "text": "other applications that are out there",
    "start": "951540",
    "end": "954240"
  },
  {
    "text": "so with 75 applications trying to get",
    "start": "954240",
    "end": "956579"
  },
  {
    "text": "into there we want to use the latest",
    "start": "956579",
    "end": "959459"
  },
  {
    "text": "code from all of those",
    "start": "959459",
    "end": "961199"
  },
  {
    "text": "that is stable",
    "start": "961199",
    "end": "962880"
  },
  {
    "text": "but we want to use what's in the pr for",
    "start": "962880",
    "end": "965160"
  },
  {
    "text": "the other ones I see a few days faces so",
    "start": "965160",
    "end": "967800"
  },
  {
    "text": "maybe I'm not explaining this properly",
    "start": "967800",
    "end": "970800"
  },
  {
    "text": "um",
    "start": "970800",
    "end": "972420"
  },
  {
    "text": "but let me see if I can word this",
    "start": "972420",
    "end": "974579"
  },
  {
    "text": "slightly differently",
    "start": "974579",
    "end": "976199"
  },
  {
    "text": "um",
    "start": "976199",
    "end": "977699"
  },
  {
    "text": "when there is no PR associated with this",
    "start": "977699",
    "end": "980699"
  },
  {
    "text": "application",
    "start": "980699",
    "end": "981959"
  },
  {
    "text": "it uses whatever the latest released",
    "start": "981959",
    "end": "983940"
  },
  {
    "text": "version was and that's what that",
    "start": "983940",
    "end": "986279"
  },
  {
    "text": "selection on the right does the",
    "start": "986279",
    "end": "988560"
  },
  {
    "text": "selection on the left merges the CI",
    "start": "988560",
    "end": "990959"
  },
  {
    "text": "cluster with the pull request to say",
    "start": "990959",
    "end": "993839"
  },
  {
    "text": "okay in this case I'm using the version",
    "start": "993839",
    "end": "996480"
  },
  {
    "text": "of the application that's associated",
    "start": "996480",
    "end": "998160"
  },
  {
    "text": "with this PR to install onto this",
    "start": "998160",
    "end": "1000320"
  },
  {
    "text": "cluster and that way there we can do the",
    "start": "1000320",
    "end": "1002600"
  },
  {
    "text": "test and that's where this conditional",
    "start": "1002600",
    "end": "1004399"
  },
  {
    "text": "on the bottom right tells it which",
    "start": "1004399",
    "end": "1006139"
  },
  {
    "text": "version to install",
    "start": "1006139",
    "end": "1007940"
  },
  {
    "text": "this is the same application set that is",
    "start": "1007940",
    "end": "1010279"
  },
  {
    "text": "going to end up being used for the",
    "start": "1010279",
    "end": "1012440"
  },
  {
    "text": "production deployment and we'll expand",
    "start": "1012440",
    "end": "1014000"
  },
  {
    "text": "upon this as we go on over the next",
    "start": "1014000",
    "end": "1015500"
  },
  {
    "text": "couple of minutes here",
    "start": "1015500",
    "end": "1018019"
  },
  {
    "text": "so our Prometheus rules for testing are",
    "start": "1018019",
    "end": "1020660"
  },
  {
    "text": "also in the same realm where it's the",
    "start": "1020660",
    "end": "1023600"
  },
  {
    "text": "same ones we use for production for our",
    "start": "1023600",
    "end": "1025459"
  },
  {
    "text": "learning and our monitoring and so that",
    "start": "1025459",
    "end": "1027438"
  },
  {
    "text": "way there it's back to that Simplicity",
    "start": "1027439",
    "end": "1029000"
  },
  {
    "text": "concept where when a developer looks at",
    "start": "1029000",
    "end": "1031640"
  },
  {
    "text": "something they have that full",
    "start": "1031640",
    "end": "1033260"
  },
  {
    "text": "understanding of the stack I don't have",
    "start": "1033260",
    "end": "1035418"
  },
  {
    "text": "to look here for what I'm doing CI",
    "start": "1035419",
    "end": "1037280"
  },
  {
    "text": "testing I don't have to look here when",
    "start": "1037280",
    "end": "1039380"
  },
  {
    "text": "I'm doing unit testing I don't have to",
    "start": "1039380",
    "end": "1040880"
  },
  {
    "text": "look here when I'm doing production",
    "start": "1040880",
    "end": "1042020"
  },
  {
    "text": "testing it's all right here so my",
    "start": "1042020",
    "end": "1044600"
  },
  {
    "text": "application up",
    "start": "1044600",
    "end": "1045980"
  },
  {
    "text": "select sub 2 that'll go to page Duty",
    "start": "1045980",
    "end": "1049040"
  },
  {
    "text": "checks for CI only we have a label",
    "start": "1049040",
    "end": "1051620"
  },
  {
    "text": "integration test and then on the right",
    "start": "1051620",
    "end": "1053660"
  },
  {
    "text": "you can see kind of the query that we",
    "start": "1053660",
    "end": "1055160"
  },
  {
    "text": "use within that and so this unified rule",
    "start": "1055160",
    "end": "1059179"
  },
  {
    "text": "is really cool the best thing about it",
    "start": "1059179",
    "end": "1060620"
  },
  {
    "text": "is is we can do dashboarding at any time",
    "start": "1060620",
    "end": "1064039"
  },
  {
    "text": "that shows the state of the CI tests",
    "start": "1064039",
    "end": "1066799"
  },
  {
    "text": "so a lot of times historically what",
    "start": "1066799",
    "end": "1068720"
  },
  {
    "text": "we've had is you get to know the state",
    "start": "1068720",
    "end": "1070700"
  },
  {
    "text": "of your CI test when you do a deployment",
    "start": "1070700",
    "end": "1072620"
  },
  {
    "text": "because you did your deployment you run",
    "start": "1072620",
    "end": "1074240"
  },
  {
    "text": "CI you know the state well so what if",
    "start": "1074240",
    "end": "1076820"
  },
  {
    "text": "something happened along the lines of",
    "start": "1076820",
    "end": "1078140"
  },
  {
    "text": "the live cluster it's not something you",
    "start": "1078140",
    "end": "1079820"
  },
  {
    "text": "alert to page of Duty on but it does",
    "start": "1079820",
    "end": "1081799"
  },
  {
    "text": "affect the state of the application",
    "start": "1081799",
    "end": "1083120"
  },
  {
    "text": "let's say so in this case if you do have",
    "start": "1083120",
    "end": "1086059"
  },
  {
    "text": "an alert that triggered and you want to",
    "start": "1086059",
    "end": "1087440"
  },
  {
    "text": "know the state of the health of the",
    "start": "1087440",
    "end": "1088700"
  },
  {
    "text": "application you've got to do a bunch of",
    "start": "1088700",
    "end": "1089900"
  },
  {
    "text": "research with this all of your CI",
    "start": "1089900",
    "end": "1092360"
  },
  {
    "text": "testing those metrics will automatically",
    "start": "1092360",
    "end": "1094820"
  },
  {
    "text": "be available in that dashboard at any",
    "start": "1094820",
    "end": "1097220"
  },
  {
    "text": "time all the time so that's been a",
    "start": "1097220",
    "end": "1099919"
  },
  {
    "text": "really powerful debugging feature for us",
    "start": "1099919",
    "end": "1102320"
  },
  {
    "text": "as we've had to do research",
    "start": "1102320",
    "end": "1106240"
  },
  {
    "text": "so as we've gone Along coming out of the",
    "start": "1106840",
    "end": "1110240"
  },
  {
    "text": "Miss in the Argo world there's evolved",
    "start": "1110240",
    "end": "1113600"
  },
  {
    "text": "the application set Progressive syncs",
    "start": "1113600",
    "end": "1115460"
  },
  {
    "text": "this is really cool for those of you",
    "start": "1115460",
    "end": "1118100"
  },
  {
    "text": "that have used application sets before",
    "start": "1118100",
    "end": "1119720"
  },
  {
    "text": "you've got a large number of clusters",
    "start": "1119720",
    "end": "1121100"
  },
  {
    "text": "you want to go out to you may be aware",
    "start": "1121100",
    "end": "1122480"
  },
  {
    "text": "you want to go to some clusters first",
    "start": "1122480",
    "end": "1124580"
  },
  {
    "text": "then to another's and others you have to",
    "start": "1124580",
    "end": "1126260"
  },
  {
    "text": "use different generators to say okay I'm",
    "start": "1126260",
    "end": "1129200"
  },
  {
    "text": "selecting this group first and then this",
    "start": "1129200",
    "end": "1131000"
  },
  {
    "text": "group and then this group and kind of",
    "start": "1131000",
    "end": "1132440"
  },
  {
    "text": "conditionalize how you go out and every",
    "start": "1132440",
    "end": "1134120"
  },
  {
    "text": "time you want to move to that next set",
    "start": "1134120",
    "end": "1135559"
  },
  {
    "text": "you have to do another PR change the",
    "start": "1135559",
    "end": "1137299"
  },
  {
    "text": "version and",
    "start": "1137299",
    "end": "1138620"
  },
  {
    "text": "progressively do it through a PR commit",
    "start": "1138620",
    "end": "1140660"
  },
  {
    "text": "to get it out to all your different",
    "start": "1140660",
    "end": "1141919"
  },
  {
    "text": "environments Now application set with",
    "start": "1141919",
    "end": "1145039"
  },
  {
    "text": "Progressive sync will do that for you",
    "start": "1145039",
    "end": "1146780"
  },
  {
    "text": "automatically very cool however do keep",
    "start": "1146780",
    "end": "1149360"
  },
  {
    "text": "in mind it is still Alpha and there are",
    "start": "1149360",
    "end": "1151580"
  },
  {
    "text": "some limitations and we will talk about",
    "start": "1151580",
    "end": "1153740"
  },
  {
    "text": "those as well",
    "start": "1153740",
    "end": "1156500"
  },
  {
    "text": "so this is building upon the application",
    "start": "1156500",
    "end": "1159620"
  },
  {
    "text": "set that we talked about before",
    "start": "1159620",
    "end": "1161539"
  },
  {
    "text": "so we started with that merge generator",
    "start": "1161539",
    "end": "1163280"
  },
  {
    "text": "there we got a selection of the CI and",
    "start": "1163280",
    "end": "1166160"
  },
  {
    "text": "then we have a selection now for where",
    "start": "1166160",
    "end": "1169160"
  },
  {
    "text": "the environment is not in CI stage or",
    "start": "1169160",
    "end": "1170960"
  },
  {
    "text": "prod we're going to install head that's",
    "start": "1170960",
    "end": "1172760"
  },
  {
    "text": "for our Dev clusters",
    "start": "1172760",
    "end": "1174440"
  },
  {
    "text": "then we have an environment selector of",
    "start": "1174440",
    "end": "1176419"
  },
  {
    "text": "stage we're going to install version",
    "start": "1176419",
    "end": "1177700"
  },
  {
    "text": "1.0.13 and for prob we're going to do",
    "start": "1177700",
    "end": "1180260"
  },
  {
    "text": "version 1.0.8 we still want to keep prod",
    "start": "1180260",
    "end": "1182840"
  },
  {
    "text": "and Stage different versions perhaps but",
    "start": "1182840",
    "end": "1185120"
  },
  {
    "text": "we have 280 something clusters there's a",
    "start": "1185120",
    "end": "1187760"
  },
  {
    "text": "lot of stage clusters and there's a lot",
    "start": "1187760",
    "end": "1189380"
  },
  {
    "text": "of prod clusters so we still want to be",
    "start": "1189380",
    "end": "1191059"
  },
  {
    "text": "careful with how we roll these out to",
    "start": "1191059",
    "end": "1192679"
  },
  {
    "text": "those environments again it's still the",
    "start": "1192679",
    "end": "1195200"
  },
  {
    "text": "same application set so here's where it",
    "start": "1195200",
    "end": "1198260"
  },
  {
    "text": "gets interesting we have the rolling",
    "start": "1198260",
    "end": "1199640"
  },
  {
    "text": "sync",
    "start": "1199640",
    "end": "1200840"
  },
  {
    "text": "so for the environments not in stage of",
    "start": "1200840",
    "end": "1203720"
  },
  {
    "text": "prod we do a Max update of a hundred",
    "start": "1203720",
    "end": "1205820"
  },
  {
    "text": "percent do all of those clusters at the",
    "start": "1205820",
    "end": "1208220"
  },
  {
    "text": "same time and just do them",
    "start": "1208220",
    "end": "1210380"
  },
  {
    "text": "for the environment stage Canary group",
    "start": "1210380",
    "end": "1212900"
  },
  {
    "text": "do a Max update 25 at a time",
    "start": "1212900",
    "end": "1216260"
  },
  {
    "text": "so at that point uh when it hits that",
    "start": "1216260",
    "end": "1218480"
  },
  {
    "text": "maintenance group it'll do 25 25 then 25",
    "start": "1218480",
    "end": "1221980"
  },
  {
    "text": "assuming that the previous 25 went fine",
    "start": "1221980",
    "end": "1225320"
  },
  {
    "text": "then for those that are not in the state",
    "start": "1225320",
    "end": "1227419"
  },
  {
    "text": "Canary maintenance group of stage it'll",
    "start": "1227419",
    "end": "1229520"
  },
  {
    "text": "do it 10 at a time and then",
    "start": "1229520",
    "end": "1231799"
  },
  {
    "text": "progressively on for the prod and so on",
    "start": "1231799",
    "end": "1236120"
  },
  {
    "text": "so what is really nice about this is we",
    "start": "1236120",
    "end": "1241220"
  },
  {
    "text": "get that Progressive sink and again a",
    "start": "1241220",
    "end": "1243860"
  },
  {
    "text": "human doesn't have to keep making those",
    "start": "1243860",
    "end": "1245360"
  },
  {
    "text": "updates each time we want to go on to",
    "start": "1245360",
    "end": "1247039"
  },
  {
    "text": "that the next one if the",
    "start": "1247039",
    "end": "1249380"
  },
  {
    "text": "Sync has gone successfully",
    "start": "1249380",
    "end": "1251840"
  },
  {
    "text": "it's gone successfully",
    "start": "1251840",
    "end": "1254360"
  },
  {
    "text": "um and you or sorry if it hasn't gone",
    "start": "1254360",
    "end": "1256520"
  },
  {
    "text": "successfully it will stop progressing to",
    "start": "1256520",
    "end": "1259280"
  },
  {
    "text": "that next bit and things will stop",
    "start": "1259280",
    "end": "1261620"
  },
  {
    "text": "you'll get the notification and you can",
    "start": "1261620",
    "end": "1263720"
  },
  {
    "text": "take whatever action you need to take",
    "start": "1263720",
    "end": "1265039"
  },
  {
    "text": "with it really cool something to watch",
    "start": "1265039",
    "end": "1267140"
  },
  {
    "text": "out for with this that's not quite clear",
    "start": "1267140",
    "end": "1269360"
  },
  {
    "text": "in the documentation that I need to open",
    "start": "1269360",
    "end": "1270860"
  },
  {
    "text": "a PR for",
    "start": "1270860",
    "end": "1272660"
  },
  {
    "text": "um I banged my head against this in the",
    "start": "1272660",
    "end": "1274400"
  },
  {
    "text": "beginning I keep forgetting to get back",
    "start": "1274400",
    "end": "1275840"
  },
  {
    "text": "to it is that this the match Expressions",
    "start": "1275840",
    "end": "1279380"
  },
  {
    "text": "is on the application template not on",
    "start": "1279380",
    "end": "1283400"
  },
  {
    "text": "the cluster labels so when you see here",
    "start": "1283400",
    "end": "1286340"
  },
  {
    "text": "the Mac match Expressions key",
    "start": "1286340",
    "end": "1288620"
  },
  {
    "text": "environment and key maintenance group",
    "start": "1288620",
    "end": "1290960"
  },
  {
    "text": "that's on the template labels",
    "start": "1290960",
    "end": "1293480"
  },
  {
    "text": "environment and labels maintenance group",
    "start": "1293480",
    "end": "1295340"
  },
  {
    "text": "of the application not on the ones",
    "start": "1295340",
    "end": "1297500"
  },
  {
    "text": "coming from the cluster so it's a little",
    "start": "1297500",
    "end": "1299720"
  },
  {
    "text": "bit confusing so it's not selecting",
    "start": "1299720",
    "end": "1301220"
  },
  {
    "text": "clusters that match those labels it's",
    "start": "1301220",
    "end": "1303980"
  },
  {
    "text": "selecting the applications that were",
    "start": "1303980",
    "end": "1305780"
  },
  {
    "text": "generated from those cluster labels",
    "start": "1305780",
    "end": "1308480"
  },
  {
    "text": "so",
    "start": "1308480",
    "end": "1309559"
  },
  {
    "text": "just a little bit of a gotcha there",
    "start": "1309559",
    "end": "1312140"
  },
  {
    "text": "so really big gotchas with this which",
    "start": "1312140",
    "end": "1315740"
  },
  {
    "text": "unfortunately is preventing us from",
    "start": "1315740",
    "end": "1317539"
  },
  {
    "text": "moving forward with Progressive sinks is",
    "start": "1317539",
    "end": "1321260"
  },
  {
    "text": "that it does not respect sync windows",
    "start": "1321260",
    "end": "1323240"
  },
  {
    "text": "and it does sometimes get stuck ends up",
    "start": "1323240",
    "end": "1325640"
  },
  {
    "text": "in a state where it constantly thinks it",
    "start": "1325640",
    "end": "1327440"
  },
  {
    "text": "needs to reconcile and it doesn't",
    "start": "1327440",
    "end": "1329299"
  },
  {
    "text": "actually progressively roll out these",
    "start": "1329299",
    "end": "1331520"
  },
  {
    "text": "bugs are being worked on so they're",
    "start": "1331520",
    "end": "1333020"
  },
  {
    "text": "getting really close there but we are",
    "start": "1333020",
    "end": "1334520"
  },
  {
    "text": "really excited about this functionality",
    "start": "1334520",
    "end": "1338360"
  },
  {
    "text": "um don't get too tricky with your",
    "start": "1338360",
    "end": "1339799"
  },
  {
    "text": "rolling sync selectors that can get",
    "start": "1339799",
    "end": "1341960"
  },
  {
    "text": "really complicated and you can end up in",
    "start": "1341960",
    "end": "1343880"
  },
  {
    "text": "a situation where you've excluded a set",
    "start": "1343880",
    "end": "1345740"
  },
  {
    "text": "of applications where you didn't mean to",
    "start": "1345740",
    "end": "1347840"
  },
  {
    "text": "so assign those labels ahead of time on",
    "start": "1347840",
    "end": "1350960"
  },
  {
    "text": "the cluster and then a space upon that",
    "start": "1350960",
    "end": "1353299"
  },
  {
    "text": "assigned that label to the application",
    "start": "1353299",
    "end": "1355700"
  },
  {
    "text": "so that it's much easier to do that",
    "start": "1355700",
    "end": "1357559"
  },
  {
    "text": "selection",
    "start": "1357559",
    "end": "1359380"
  },
  {
    "text": "also broken clusters if you've ever had",
    "start": "1359380",
    "end": "1362240"
  },
  {
    "text": "a cluster that's just gone down that",
    "start": "1362240",
    "end": "1364340"
  },
  {
    "text": "will prevent the rollout from",
    "start": "1364340",
    "end": "1365960"
  },
  {
    "text": "progressing through the entire set so",
    "start": "1365960",
    "end": "1368480"
  },
  {
    "text": "that can be really really bad",
    "start": "1368480",
    "end": "1372158"
  },
  {
    "text": "so quickly here what does this look like",
    "start": "1372220",
    "end": "1376780"
  },
  {
    "text": "so here's basically the application set",
    "start": "1377720",
    "end": "1380260"
  },
  {
    "text": "that we saw before it's got two",
    "start": "1380260",
    "end": "1382760"
  },
  {
    "text": "different Shaws this is just the basic",
    "start": "1382760",
    "end": "1384860"
  },
  {
    "text": "guest book I've got a whole bunch of",
    "start": "1384860",
    "end": "1386539"
  },
  {
    "text": "clusters here they're all synced",
    "start": "1386539",
    "end": "1388760"
  },
  {
    "text": "you'll see that they're on that Shaw and",
    "start": "1388760",
    "end": "1393620"
  },
  {
    "text": "I'm gonna go ahead and swap the shaw",
    "start": "1394640",
    "end": "1397100"
  },
  {
    "text": "and apply it",
    "start": "1397100",
    "end": "1399620"
  },
  {
    "text": "apply it maybe I could sped this up a",
    "start": "1399620",
    "end": "1401240"
  },
  {
    "text": "little sorry",
    "start": "1401240",
    "end": "1403658"
  },
  {
    "text": "um what we'll see here in a moment is",
    "start": "1403700",
    "end": "1405500"
  },
  {
    "text": "everything's going to kick over to out",
    "start": "1405500",
    "end": "1406820"
  },
  {
    "text": "of sync",
    "start": "1406820",
    "end": "1408020"
  },
  {
    "text": "and you'll see everything's out of sync",
    "start": "1408020",
    "end": "1409640"
  },
  {
    "text": "including the devs that are at the top",
    "start": "1409640",
    "end": "1411799"
  },
  {
    "text": "you'll see some of the prods on the",
    "start": "1411799",
    "end": "1414020"
  },
  {
    "text": "bottom right there and now you'll see",
    "start": "1414020",
    "end": "1415700"
  },
  {
    "text": "that all the devs are sinking but you",
    "start": "1415700",
    "end": "1418520"
  },
  {
    "text": "see it like on the bottom right now some",
    "start": "1418520",
    "end": "1420860"
  },
  {
    "text": "of those prods",
    "start": "1420860",
    "end": "1422440"
  },
  {
    "text": "are not sinking so it's just syncing the",
    "start": "1422440",
    "end": "1426200"
  },
  {
    "text": "ones",
    "start": "1426200",
    "end": "1427820"
  },
  {
    "text": "um",
    "start": "1427820",
    "end": "1429200"
  },
  {
    "text": "so it's doing it like we talked about",
    "start": "1429200",
    "end": "1431780"
  },
  {
    "text": "doing it progressively I am going to",
    "start": "1431780",
    "end": "1434240"
  },
  {
    "text": "speed this up",
    "start": "1434240",
    "end": "1436760"
  },
  {
    "text": "because of time",
    "start": "1436760",
    "end": "1439039"
  },
  {
    "text": "so after I do the first set it moved on",
    "start": "1439039",
    "end": "1441200"
  },
  {
    "text": "to the stage and now it's doing those in",
    "start": "1441200",
    "end": "1443179"
  },
  {
    "text": "the smaller",
    "start": "1443179",
    "end": "1444820"
  },
  {
    "text": "sets",
    "start": "1444820",
    "end": "1446919"
  },
  {
    "text": "where is it here",
    "start": "1446919",
    "end": "1449900"
  },
  {
    "text": "come on",
    "start": "1449900",
    "end": "1451100"
  },
  {
    "text": "so you can describe your application set",
    "start": "1451100",
    "end": "1454120"
  },
  {
    "text": "and see where it's gotten with each one",
    "start": "1454120",
    "end": "1456559"
  },
  {
    "text": "and in the status it'll show you uh",
    "start": "1456559",
    "end": "1459740"
  },
  {
    "text": "where it's gotten you know it doesn't",
    "start": "1459740",
    "end": "1461299"
  },
  {
    "text": "have pending State changes and is in a",
    "start": "1461299",
    "end": "1463880"
  },
  {
    "text": "waiting state to get applied is it",
    "start": "1463880",
    "end": "1466159"
  },
  {
    "text": "healthy and applied is it pending and in",
    "start": "1466159",
    "end": "1470240"
  },
  {
    "text": "progressing state so on and so forth",
    "start": "1470240",
    "end": "1473960"
  },
  {
    "text": "um I am just about out of time here",
    "start": "1473960",
    "end": "1477320"
  },
  {
    "text": "uh uh so that is it on the demo",
    "start": "1477320",
    "end": "1483759"
  },
  {
    "text": "here's where you can reach me on the",
    "start": "1484220",
    "end": "1485600"
  },
  {
    "text": "interwebs",
    "start": "1485600",
    "end": "1488080"
  },
  {
    "text": "questions for the minute or so I have",
    "start": "1492559",
    "end": "1495080"
  },
  {
    "text": "left",
    "start": "1495080",
    "end": "1497320"
  },
  {
    "text": "do I have a minute or so left Dan yes",
    "start": "1497360",
    "end": "1499760"
  },
  {
    "text": "yes great",
    "start": "1499760",
    "end": "1502179"
  },
  {
    "text": "sorry",
    "start": "1503059",
    "end": "1504980"
  },
  {
    "text": "I heard you",
    "start": "1504980",
    "end": "1507580"
  },
  {
    "text": "I uh mostly one question",
    "start": "1507640",
    "end": "1510440"
  },
  {
    "text": "um we have a nearly identical",
    "start": "1510440",
    "end": "1512539"
  },
  {
    "text": "architecture as you do but much smaller",
    "start": "1512539",
    "end": "1515740"
  },
  {
    "text": "and we are using Carpenter to manage our",
    "start": "1515740",
    "end": "1518480"
  },
  {
    "text": "AWS worker nodes yes instead of the ASG",
    "start": "1518480",
    "end": "1520940"
  },
  {
    "text": "because the ASG is very slow and uh it",
    "start": "1520940",
    "end": "1523400"
  },
  {
    "text": "does some dumb stuff that we think it",
    "start": "1523400",
    "end": "1525320"
  },
  {
    "text": "shouldn't be doing but of course it's",
    "start": "1525320",
    "end": "1527360"
  },
  {
    "text": "not major kubernetes so oh well what do",
    "start": "1527360",
    "end": "1529400"
  },
  {
    "text": "you do but these rollouts these uh for",
    "start": "1529400",
    "end": "1533360"
  },
  {
    "text": "example",
    "start": "1533360",
    "end": "1534340"
  },
  {
    "text": "Gates shred hasn't been tested to work",
    "start": "1534340",
    "end": "1537860"
  },
  {
    "text": "with something like Carpenter",
    "start": "1537860",
    "end": "1540500"
  },
  {
    "text": "um so it has not been tested with",
    "start": "1540500",
    "end": "1542299"
  },
  {
    "text": "Carpenter we are working on that",
    "start": "1542299",
    "end": "1543860"
  },
  {
    "text": "actually",
    "start": "1543860",
    "end": "1544700"
  },
  {
    "text": "um somebody's got a PR that I was",
    "start": "1544700",
    "end": "1546500"
  },
  {
    "text": "co-reviewing this morning",
    "start": "1546500",
    "end": "1548600"
  },
  {
    "text": "um but the way that uh Kate Shredder",
    "start": "1548600",
    "end": "1550640"
  },
  {
    "text": "works is it actually relies on the",
    "start": "1550640",
    "end": "1552380"
  },
  {
    "text": "cluster Auto scaler or Carpenter or",
    "start": "1552380",
    "end": "1554179"
  },
  {
    "text": "cluster API or something else to",
    "start": "1554179",
    "end": "1555740"
  },
  {
    "text": "actually do the final removal of the",
    "start": "1555740",
    "end": "1557659"
  },
  {
    "text": "node it just handles the eviction of the",
    "start": "1557659",
    "end": "1560840"
  },
  {
    "text": "workloads",
    "start": "1560840",
    "end": "1563000"
  },
  {
    "text": "um so it has the the business logic to",
    "start": "1563000",
    "end": "1564679"
  },
  {
    "text": "either do a rolling restart eviction or",
    "start": "1564679",
    "end": "1567320"
  },
  {
    "text": "a force delete when the time has expired",
    "start": "1567320",
    "end": "1570620"
  },
  {
    "text": "so we had one more question over here",
    "start": "1570620",
    "end": "1572840"
  },
  {
    "text": "that was the gentleman in The Firm you",
    "start": "1572840",
    "end": "1574700"
  },
  {
    "text": "got it okay oh same question oh great",
    "start": "1574700",
    "end": "1577220"
  },
  {
    "text": "yeah and I'll be happy to talk with you",
    "start": "1577220",
    "end": "1578840"
  },
  {
    "text": "more about it if you'd like to know more",
    "start": "1578840",
    "end": "1580159"
  },
  {
    "text": "details yeah we'll give Mike a big round",
    "start": "1580159",
    "end": "1582200"
  },
  {
    "text": "of applause thank you Mike all right",
    "start": "1582200",
    "end": "1586000"
  }
]