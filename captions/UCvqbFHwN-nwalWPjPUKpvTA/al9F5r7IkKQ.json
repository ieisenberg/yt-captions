[
  {
    "text": "yupi engine um so WP engine",
    "start": "0",
    "end": "5879"
  },
  {
    "text": "today we're undergoing a shift in our",
    "start": "5879",
    "end": "7890"
  },
  {
    "text": "infrastructure working to migrate from",
    "start": "7890",
    "end": "9780"
  },
  {
    "text": "VMs to kubernetes we currently run over",
    "start": "9780",
    "end": "14690"
  },
  {
    "text": "6000 VMs which we use to power over",
    "start": "14690",
    "end": "17600"
  },
  {
    "text": "500,000 domains which are on 300,000",
    "start": "17600",
    "end": "21869"
  },
  {
    "text": "WordPress installations we estimate that",
    "start": "21869",
    "end": "25289"
  },
  {
    "text": "5% of the online world visits at least",
    "start": "25289",
    "end": "28500"
  },
  {
    "text": "one site we host every single day so for",
    "start": "28500",
    "end": "34350"
  },
  {
    "text": "those of you that aren't familiar with",
    "start": "34350",
    "end": "35489"
  },
  {
    "text": "WordPress it was open sourced in 2003",
    "start": "35489",
    "end": "38219"
  },
  {
    "text": "and founded then it's traditionally ran",
    "start": "38219",
    "end": "41670"
  },
  {
    "text": "on a lamp sack and so you normally run",
    "start": "41670",
    "end": "44789"
  },
  {
    "text": "that on a VM or with a VPS provider your",
    "start": "44789",
    "end": "48480"
  },
  {
    "text": "classic use case with that is generally",
    "start": "48480",
    "end": "51090"
  },
  {
    "text": "a pretty low utilization website so you",
    "start": "51090",
    "end": "54420"
  },
  {
    "text": "have a lot of customers that run their",
    "start": "54420",
    "end": "56160"
  },
  {
    "text": "personal blogs things like websites for",
    "start": "56160",
    "end": "59010"
  },
  {
    "text": "law firms engineering firms and",
    "start": "59010",
    "end": "60960"
  },
  {
    "text": "apartment complexes and so forth that",
    "start": "60960",
    "end": "63090"
  },
  {
    "text": "run on WordPress but then you also have",
    "start": "63090",
    "end": "65220"
  },
  {
    "text": "customers who run extremely high",
    "start": "65220",
    "end": "66869"
  },
  {
    "text": "performance sites so some large",
    "start": "66869",
    "end": "68760"
  },
  {
    "text": "instances of WordPress that are out",
    "start": "68760",
    "end": "70470"
  },
  {
    "text": "there today are like the CMAs for the",
    "start": "70470",
    "end": "72750"
  },
  {
    "text": "Country Music Awards",
    "start": "72750",
    "end": "73979"
  },
  {
    "text": "the TechCrunch web site runs on",
    "start": "73979",
    "end": "76049"
  },
  {
    "text": "WordPress as does the New Yorker so with",
    "start": "76049",
    "end": "79950"
  },
  {
    "text": "WP engine we allow our customers to",
    "start": "79950",
    "end": "82100"
  },
  {
    "text": "install any plugins they want in their",
    "start": "82100",
    "end": "84900"
  },
  {
    "text": "WordPress installation and they can add",
    "start": "84900",
    "end": "87780"
  },
  {
    "text": "any custom code that they have so this",
    "start": "87780",
    "end": "90509"
  },
  {
    "text": "creates some of our difficulties and",
    "start": "90509",
    "end": "93299"
  },
  {
    "text": "with WordPress all of your workers",
    "start": "93299",
    "end": "95689"
  },
  {
    "text": "require access to the same file system",
    "start": "95689",
    "end": "98579"
  },
  {
    "text": "so that if something's changed they all",
    "start": "98579",
    "end": "101070"
  },
  {
    "text": "see the exact same file system so what",
    "start": "101070",
    "end": "105600"
  },
  {
    "text": "we're trying to do is we have today our",
    "start": "105600",
    "end": "107850"
  },
  {
    "text": "virtual machines which have engine acts",
    "start": "107850",
    "end": "109890"
  },
  {
    "text": "a caching layer PHP and then we have our",
    "start": "109890",
    "end": "113820"
  },
  {
    "text": "storage and our databases and they all",
    "start": "113820",
    "end": "115740"
  },
  {
    "text": "live in that VM so what we're trying to",
    "start": "115740",
    "end": "118290"
  },
  {
    "text": "do and one of the problems we face with",
    "start": "118290",
    "end": "120810"
  },
  {
    "text": "this is the domains we host they live on",
    "start": "120810",
    "end": "123600"
  },
  {
    "text": "that single VM so if that instance goes",
    "start": "123600",
    "end": "125340"
  },
  {
    "text": "offline their entire site is offline so",
    "start": "125340",
    "end": "129060"
  },
  {
    "text": "the first thing we're trying to do is",
    "start": "129060",
    "end": "130410"
  },
  {
    "text": "move the PHP piece of this out of",
    "start": "130410",
    "end": "133840"
  },
  {
    "text": "the VM and into the kubernetes cluster",
    "start": "133840",
    "end": "135900"
  },
  {
    "text": "this will allow us to eventually move",
    "start": "135900",
    "end": "138370"
  },
  {
    "text": "all of these pieces off of the single VM",
    "start": "138370",
    "end": "140620"
  },
  {
    "text": "and allow us to provide a more reliable",
    "start": "140620",
    "end": "143190"
  },
  {
    "text": "infrastructure for our customers but",
    "start": "143190",
    "end": "145750"
  },
  {
    "text": "we're doing it one piece at a time as to",
    "start": "145750",
    "end": "147819"
  },
  {
    "text": "keep the process as simple as we can so",
    "start": "147819",
    "end": "151750"
  },
  {
    "text": "we first started looking into how we",
    "start": "151750",
    "end": "153489"
  },
  {
    "text": "were going to do this and our first",
    "start": "153489",
    "end": "155260"
  },
  {
    "text": "thought was we'll just give every",
    "start": "155260",
    "end": "157720"
  },
  {
    "text": "installation that we host their own PHP",
    "start": "157720",
    "end": "160060"
  },
  {
    "text": "fpm instance in kubernetes will deploy",
    "start": "160060",
    "end": "163540"
  },
  {
    "text": "those will let kubernetes manage all of",
    "start": "163540",
    "end": "165340"
  },
  {
    "text": "this for us everything will go great",
    "start": "165340",
    "end": "167739"
  },
  {
    "text": "we'll just kubernetes all the things it",
    "start": "167739",
    "end": "170110"
  },
  {
    "text": "will do everything for us we can even do",
    "start": "170110",
    "end": "172690"
  },
  {
    "text": "multiples we can do replica sets and",
    "start": "172690",
    "end": "176130"
  },
  {
    "text": "everything will be great",
    "start": "176130",
    "end": "178500"
  },
  {
    "text": "yeah it turns out not so much remember",
    "start": "178500",
    "end": "180790"
  },
  {
    "text": "has said we have three hundred thousand",
    "start": "180790",
    "end": "182290"
  },
  {
    "text": "installations that we have to power so",
    "start": "182290",
    "end": "184840"
  },
  {
    "text": "kubernetes has some limits those limits",
    "start": "184840",
    "end": "187480"
  },
  {
    "text": "in 1/8 are 150,000 pods per cluster we",
    "start": "187480",
    "end": "191680"
  },
  {
    "text": "have 300,000 installations and we want",
    "start": "191680",
    "end": "195519"
  },
  {
    "text": "to run multiple instances of those so if",
    "start": "195519",
    "end": "197769"
  },
  {
    "text": "one fails we still have reliability so",
    "start": "197769",
    "end": "201430"
  },
  {
    "text": "that's way more than 150,000 not to",
    "start": "201430",
    "end": "204190"
  },
  {
    "text": "mention you can only have a hundred pods",
    "start": "204190",
    "end": "206200"
  },
  {
    "text": "per node websites especially WordPress",
    "start": "206200",
    "end": "210250"
  },
  {
    "text": "sites their utilization is extremely",
    "start": "210250",
    "end": "212769"
  },
  {
    "text": "volatile so one minute it will be doing",
    "start": "212769",
    "end": "215560"
  },
  {
    "text": "nothing then it might for the next 10",
    "start": "215560",
    "end": "217870"
  },
  {
    "text": "minutes use all the CPU and memory as",
    "start": "217870",
    "end": "219670"
  },
  {
    "text": "and then do nothing for the rest of the",
    "start": "219670",
    "end": "221230"
  },
  {
    "text": "day that creates a problem when you're",
    "start": "221230",
    "end": "223150"
  },
  {
    "text": "trying to schedule and you can only put",
    "start": "223150",
    "end": "225250"
  },
  {
    "text": "a hundred pods per node so we needed",
    "start": "225250",
    "end": "228850"
  },
  {
    "text": "something that allowed us to go more",
    "start": "228850",
    "end": "230290"
  },
  {
    "text": "dense than that which led us to go back",
    "start": "230290",
    "end": "232930"
  },
  {
    "text": "to the drawing board",
    "start": "232930",
    "end": "234400"
  },
  {
    "text": "so with these limits in mind we took our",
    "start": "234400",
    "end": "236920"
  },
  {
    "text": "domain expertise which is around serving",
    "start": "236920",
    "end": "239620"
  },
  {
    "text": "WordPress and built our own PHP",
    "start": "239620",
    "end": "241630"
  },
  {
    "text": "application server so what this does is",
    "start": "241630",
    "end": "245880"
  },
  {
    "text": "the solution we found was to develop a",
    "start": "245880",
    "end": "248440"
  },
  {
    "text": "custom server written and go which runs",
    "start": "248440",
    "end": "251290"
  },
  {
    "text": "PHP fpm workers we then mount the site's",
    "start": "251290",
    "end": "255010"
  },
  {
    "text": "content into an isolated worker gel for",
    "start": "255010",
    "end": "258489"
  },
  {
    "text": "every request as they come in so this is",
    "start": "258489",
    "end": "261970"
  },
  {
    "text": "very similar to what you get with a VM",
    "start": "261970",
    "end": "263590"
  },
  {
    "text": "or any other PHP fpm process but we",
    "start": "263590",
    "end": "267230"
  },
  {
    "text": "in real-time for each request as they",
    "start": "267230",
    "end": "269450"
  },
  {
    "text": "come in this allows us to limit the PHP",
    "start": "269450",
    "end": "274070"
  },
  {
    "text": "fpm worker to only the resources that it",
    "start": "274070",
    "end": "276590"
  },
  {
    "text": "needs which brings the total number of",
    "start": "276590",
    "end": "279440"
  },
  {
    "text": "deployments we need from 300,000 down to",
    "start": "279440",
    "end": "282320"
  },
  {
    "text": "only six thousand one for each of the",
    "start": "282320",
    "end": "284240"
  },
  {
    "text": "VMS we process so this is what our setup",
    "start": "284240",
    "end": "289310"
  },
  {
    "text": "looks like in this first stage so we've",
    "start": "289310",
    "end": "292250"
  },
  {
    "text": "got our VM and the request comes in to",
    "start": "292250",
    "end": "294890"
  },
  {
    "text": "our VM and so once it hits the VM just",
    "start": "294890",
    "end": "298220"
  },
  {
    "text": "like it always has with our",
    "start": "298220",
    "end": "299240"
  },
  {
    "text": "infrastructure and then from there the",
    "start": "299240",
    "end": "301880"
  },
  {
    "text": "request gets sent to one of the",
    "start": "301880",
    "end": "303200"
  },
  {
    "text": "application servers in kubernetes and",
    "start": "303200",
    "end": "305860"
  },
  {
    "text": "from there what happens is that",
    "start": "305860",
    "end": "307850"
  },
  {
    "text": "application server looks at its",
    "start": "307850",
    "end": "309260"
  },
  {
    "text": "available workers that are free which",
    "start": "309260",
    "end": "311420"
  },
  {
    "text": "are all running inside their own",
    "start": "311420",
    "end": "313250"
  },
  {
    "text": "namespace to isolate and then it will",
    "start": "313250",
    "end": "316940"
  },
  {
    "text": "mount the files for that specific",
    "start": "316940",
    "end": "319250"
  },
  {
    "text": "request in and send the request to the",
    "start": "319250",
    "end": "321260"
  },
  {
    "text": "worker once the worker finishes",
    "start": "321260",
    "end": "323270"
  },
  {
    "text": "processing that request that will then",
    "start": "323270",
    "end": "325970"
  },
  {
    "text": "send the response back out we unmount",
    "start": "325970",
    "end": "327710"
  },
  {
    "text": "the files and the response goes back to",
    "start": "327710",
    "end": "329510"
  },
  {
    "text": "the VM and back out to the customers",
    "start": "329510",
    "end": "331070"
  },
  {
    "text": "that made the request and then we make",
    "start": "331070",
    "end": "333890"
  },
  {
    "text": "the worker once everything has been",
    "start": "333890",
    "end": "335780"
  },
  {
    "text": "cleaned up out of that worker we add it",
    "start": "335780",
    "end": "338150"
  },
  {
    "text": "back to the pool of available workers so",
    "start": "338150",
    "end": "340430"
  },
  {
    "text": "that we can reuse that same worker for",
    "start": "340430",
    "end": "342710"
  },
  {
    "text": "another request for a different",
    "start": "342710",
    "end": "344030"
  },
  {
    "text": "installation so this has brought us down",
    "start": "344030",
    "end": "349340"
  },
  {
    "text": "from 300,000 deployments to only 6,000",
    "start": "349340",
    "end": "353030"
  },
  {
    "text": "now so now how are we gonna manage 6000",
    "start": "353030",
    "end": "355670"
  },
  {
    "text": "deployments it sounds a lot more",
    "start": "355670",
    "end": "357890"
  },
  {
    "text": "manageable at least so we like to use",
    "start": "357890",
    "end": "362030"
  },
  {
    "text": "helm for all of our internal deployments",
    "start": "362030",
    "end": "364780"
  },
  {
    "text": "and so helm requires three pieces of",
    "start": "364780",
    "end": "367580"
  },
  {
    "text": "information to do a deploy you first",
    "start": "367580",
    "end": "370130"
  },
  {
    "text": "have to have the chart which is all of",
    "start": "370130",
    "end": "371900"
  },
  {
    "text": "your templates that you're going to",
    "start": "371900",
    "end": "373820"
  },
  {
    "text": "deploy for your application and then you",
    "start": "373820",
    "end": "376550"
  },
  {
    "text": "have the values and these are the things",
    "start": "376550",
    "end": "378260"
  },
  {
    "text": "that are going to be different between",
    "start": "378260",
    "end": "379580"
  },
  {
    "text": "the different deployments of this",
    "start": "379580",
    "end": "381620"
  },
  {
    "text": "application so these could be database",
    "start": "381620",
    "end": "383690"
  },
  {
    "text": "connection these could be passwords",
    "start": "383690",
    "end": "386240"
  },
  {
    "text": "anything like that that happens to vary",
    "start": "386240",
    "end": "388430"
  },
  {
    "text": "between your deployments and then you",
    "start": "388430",
    "end": "391040"
  },
  {
    "text": "have what helm calls a tiller and the",
    "start": "391040",
    "end": "394340"
  },
  {
    "text": "tiller is something that runs inside of",
    "start": "394340",
    "end": "396230"
  },
  {
    "text": "your kubernetes cluster and it's",
    "start": "396230",
    "end": "398210"
  },
  {
    "text": "responsible for actually",
    "start": "398210",
    "end": "401100"
  },
  {
    "text": "deploying and creating the kubernetes",
    "start": "401100",
    "end": "403600"
  },
  {
    "text": "objects that you've asked helm to create",
    "start": "403600",
    "end": "406240"
  },
  {
    "text": "so the local helm command will actually",
    "start": "406240",
    "end": "408700"
  },
  {
    "text": "pass everything to the tiller and it",
    "start": "408700",
    "end": "410470"
  },
  {
    "text": "will then process it and create that for",
    "start": "410470",
    "end": "412330"
  },
  {
    "text": "you inside of your cluster and we'll see",
    "start": "412330",
    "end": "415750"
  },
  {
    "text": "some examples of how that works in a",
    "start": "415750",
    "end": "417310"
  },
  {
    "text": "little bit so now we only have 6,000",
    "start": "417310",
    "end": "422140"
  },
  {
    "text": "workers we have to manage and our",
    "start": "422140",
    "end": "424780"
  },
  {
    "text": "initial we like to use helm but we have",
    "start": "424780",
    "end": "428140"
  },
  {
    "text": "6,000 unique value files that we have to",
    "start": "428140",
    "end": "431290"
  },
  {
    "text": "manage for helm so this gets to be",
    "start": "431290",
    "end": "433540"
  },
  {
    "text": "really hard to maintain we also have to",
    "start": "433540",
    "end": "436390"
  },
  {
    "text": "remember which of our seven regional",
    "start": "436390",
    "end": "438820"
  },
  {
    "text": "clusters we have to deploy each of those",
    "start": "438820",
    "end": "441010"
  },
  {
    "text": "values files to so",
    "start": "441010",
    "end": "443500"
  },
  {
    "text": "6000 spread across seven clusters what",
    "start": "443500",
    "end": "446650"
  },
  {
    "text": "if we have to add a new fill to that",
    "start": "446650",
    "end": "448210"
  },
  {
    "text": "file sounds like a lot of work if we're",
    "start": "448210",
    "end": "450220"
  },
  {
    "text": "actually having to manage these files so",
    "start": "450220",
    "end": "452980"
  },
  {
    "text": "our thought was what if we didn't manage",
    "start": "452980",
    "end": "455890"
  },
  {
    "text": "these files what if something could",
    "start": "455890",
    "end": "457510"
  },
  {
    "text": "automatically do this for us and so",
    "start": "457510",
    "end": "460600"
  },
  {
    "text": "something we've seen throughout the",
    "start": "460600",
    "end": "462220"
  },
  {
    "text": "community was this pattern of using an",
    "start": "462220",
    "end": "464830"
  },
  {
    "text": "operator and so operators are being",
    "start": "464830",
    "end": "470080"
  },
  {
    "text": "built where there's logic that you have",
    "start": "470080",
    "end": "472060"
  },
  {
    "text": "for deploying your working unit of",
    "start": "472060",
    "end": "473890"
  },
  {
    "text": "software and so following this pattern",
    "start": "473890",
    "end": "476320"
  },
  {
    "text": "allows us to manage our infrastructure",
    "start": "476320",
    "end": "478030"
  },
  {
    "text": "with code which greatly reduces the",
    "start": "478030",
    "end": "480340"
  },
  {
    "text": "likelihood of an error during our",
    "start": "480340",
    "end": "481900"
  },
  {
    "text": "deployment and so we decided that we",
    "start": "481900",
    "end": "484480"
  },
  {
    "text": "would deploy our new PHP workers using",
    "start": "484480",
    "end": "486820"
  },
  {
    "text": "the operator pattern and so for the",
    "start": "486820",
    "end": "489490"
  },
  {
    "text": "deployment operator to actually be",
    "start": "489490",
    "end": "491050"
  },
  {
    "text": "useful for us though we needed a way to",
    "start": "491050",
    "end": "493060"
  },
  {
    "text": "make all of the existing data we had",
    "start": "493060",
    "end": "495070"
  },
  {
    "text": "about our VMs available to that operator",
    "start": "495070",
    "end": "497770"
  },
  {
    "text": "in the kubernetes cluster so to solve",
    "start": "497770",
    "end": "500440"
  },
  {
    "text": "this we built a tool that watches our",
    "start": "500440",
    "end": "502450"
  },
  {
    "text": "cloud providers api's and creates a",
    "start": "502450",
    "end": "505420"
  },
  {
    "text": "custom resource inside of our kubernetes",
    "start": "505420",
    "end": "507700"
  },
  {
    "text": "cluster that represents the VMS that are",
    "start": "507700",
    "end": "510730"
  },
  {
    "text": "in the same region as that kubernetes",
    "start": "510730",
    "end": "513340"
  },
  {
    "text": "cluster so for those of you that aren't",
    "start": "513340",
    "end": "517419"
  },
  {
    "text": "familiar with custom resources they",
    "start": "517419",
    "end": "519969"
  },
  {
    "text": "basically allow you to extend the",
    "start": "519970",
    "end": "521919"
  },
  {
    "text": "kubernetes api I personally like to",
    "start": "521919",
    "end": "525070"
  },
  {
    "text": "think about them as a way to put",
    "start": "525070",
    "end": "526480"
  },
  {
    "text": "whatever data I care about into the",
    "start": "526480",
    "end": "528550"
  },
  {
    "text": "kubernetes cluster and work with them",
    "start": "528550",
    "end": "530740"
  },
  {
    "text": "just the same way I would any other",
    "start": "530740",
    "end": "532600"
  },
  {
    "text": "objects in",
    "start": "532600",
    "end": "534489"
  },
  {
    "text": "you can store any data you want in the",
    "start": "534489",
    "end": "536709"
  },
  {
    "text": "meta fields of a custom resource and",
    "start": "536709",
    "end": "539499"
  },
  {
    "text": "they were released in kubernetes 1.7 and",
    "start": "539499",
    "end": "543069"
  },
  {
    "text": "they replaced the now deprecated",
    "start": "543069",
    "end": "544869"
  },
  {
    "text": "third-party resources so if you are",
    "start": "544869",
    "end": "547269"
  },
  {
    "text": "familiar with third-party resources",
    "start": "547269",
    "end": "548649"
  },
  {
    "text": "these are very similar in just the next",
    "start": "548649",
    "end": "550629"
  },
  {
    "text": "step in the process so here we have an",
    "start": "550629",
    "end": "554919"
  },
  {
    "text": "example of a custom resource definition",
    "start": "554919",
    "end": "557470"
  },
  {
    "text": "so to be able to create custom resources",
    "start": "557470",
    "end": "559839"
  },
  {
    "text": "we first have to create a definition so",
    "start": "559839",
    "end": "561929"
  },
  {
    "text": "this looks like if you're familiar with",
    "start": "561929",
    "end": "564549"
  },
  {
    "text": "kubernetes objects the slips very",
    "start": "564549",
    "end": "566350"
  },
  {
    "text": "familiar so we've got our API version",
    "start": "566350",
    "end": "568809"
  },
  {
    "text": "and our kind defined and then for our",
    "start": "568809",
    "end": "571059"
  },
  {
    "text": "name this is a very specific name that's",
    "start": "571059",
    "end": "573790"
  },
  {
    "text": "required it has to be the plural name of",
    "start": "573790",
    "end": "576429"
  },
  {
    "text": "the objects you're creating and then the",
    "start": "576429",
    "end": "578829"
  },
  {
    "text": "group that this is going to go in so",
    "start": "578829",
    "end": "582459"
  },
  {
    "text": "then down in our spec we have our scope",
    "start": "582459",
    "end": "584470"
  },
  {
    "text": "and so this one's currently scoped to a",
    "start": "584470",
    "end": "586600"
  },
  {
    "text": "namespace and so you can have two",
    "start": "586600",
    "end": "589779"
  },
  {
    "text": "different scopes named spaced or",
    "start": "589779",
    "end": "591220"
  },
  {
    "text": "clusters most objects in kubernetes are",
    "start": "591220",
    "end": "594069"
  },
  {
    "text": "named spaced so they're only available",
    "start": "594069",
    "end": "596499"
  },
  {
    "text": "in the same namespace you're in but you",
    "start": "596499",
    "end": "598269"
  },
  {
    "text": "can also create cluster available custom",
    "start": "598269",
    "end": "601329"
  },
  {
    "text": "resources so for our VM custom resources",
    "start": "601329",
    "end": "604779"
  },
  {
    "text": "those are actually available no matter",
    "start": "604779",
    "end": "606610"
  },
  {
    "text": "what namespace you're in for the entire",
    "start": "606610",
    "end": "608949"
  },
  {
    "text": "cluster and then you define your group",
    "start": "608949",
    "end": "611379"
  },
  {
    "text": "so in this case we have stable nicole",
    "start": "611379",
    "end": "613419"
  },
  {
    "text": "renee io and that's just the dns name",
    "start": "613419",
    "end": "616959"
  },
  {
    "text": "that you're going to use it's no",
    "start": "616959",
    "end": "618069"
  },
  {
    "text": "different than what's there at the top",
    "start": "618069",
    "end": "619480"
  },
  {
    "text": "API extensions Cades io and then we",
    "start": "619480",
    "end": "623559"
  },
  {
    "text": "define our version so v1 and then for",
    "start": "623559",
    "end": "625809"
  },
  {
    "text": "our names we defined our kind which is",
    "start": "625809",
    "end": "627850"
  },
  {
    "text": "character and the plural and the",
    "start": "627850",
    "end": "630220"
  },
  {
    "text": "singular of that which are characters in",
    "start": "630220",
    "end": "632379"
  },
  {
    "text": "character and then we're able to create",
    "start": "632379",
    "end": "635919"
  },
  {
    "text": "a actual custom resource so because we",
    "start": "635919",
    "end": "638619"
  },
  {
    "text": "deployed that custom resource definition",
    "start": "638619",
    "end": "640839"
  },
  {
    "text": "in we're now able to use API version",
    "start": "640839",
    "end": "643149"
  },
  {
    "text": "stable that nicole renee io / v1 and",
    "start": "643149",
    "end": "646239"
  },
  {
    "text": "kind of character this allows it and",
    "start": "646239",
    "end": "649029"
  },
  {
    "text": "then just like any object in communities",
    "start": "649029",
    "end": "651369"
  },
  {
    "text": "it's required to have a metadata name so",
    "start": "651369",
    "end": "654069"
  },
  {
    "text": "we called it thing one and then in spec",
    "start": "654069",
    "end": "655809"
  },
  {
    "text": "we're able to add any fields we want so",
    "start": "655809",
    "end": "658329"
  },
  {
    "text": "we created thing one from cat and the",
    "start": "658329",
    "end": "659919"
  },
  {
    "text": "hat and dr.seuss created thing one so",
    "start": "659919",
    "end": "664539"
  },
  {
    "text": "have a little demo here showing",
    "start": "664539",
    "end": "666980"
  },
  {
    "text": "the use of custom resources and how you",
    "start": "666980",
    "end": "672019"
  },
  {
    "text": "can interact with them so if you see",
    "start": "672019",
    "end": "673940"
  },
  {
    "text": "this is our custom resource definition",
    "start": "673940",
    "end": "675920"
  },
  {
    "text": "that I was just showing a minute ago and",
    "start": "675920",
    "end": "678310"
  },
  {
    "text": "it's the characters that's table got",
    "start": "678310",
    "end": "680690"
  },
  {
    "text": "Nicole Rene and so we can just cube",
    "start": "680690",
    "end": "683959"
  },
  {
    "text": "control apply this just like we could",
    "start": "683959",
    "end": "687889"
  },
  {
    "text": "any other kubernetes file and we can see",
    "start": "687889",
    "end": "690380"
  },
  {
    "text": "a custom resource definition for",
    "start": "690380",
    "end": "692329"
  },
  {
    "text": "characters was created so then we'll",
    "start": "692329",
    "end": "695269"
  },
  {
    "text": "take a look here at a CR for things and",
    "start": "695269",
    "end": "699470"
  },
  {
    "text": "so we've got two characters listed in",
    "start": "699470",
    "end": "701750"
  },
  {
    "text": "here so we've got thing 1 and thing 2",
    "start": "701750",
    "end": "703779"
  },
  {
    "text": "because those two troublemakers always",
    "start": "703779",
    "end": "706130"
  },
  {
    "text": "come together and so we'll go ahead and",
    "start": "706130",
    "end": "709850"
  },
  {
    "text": "create these just like we would and",
    "start": "709850",
    "end": "714550"
  },
  {
    "text": "and we can see that without doing",
    "start": "722800",
    "end": "725000"
  },
  {
    "text": "anything for cute control it",
    "start": "725000",
    "end": "726410"
  },
  {
    "text": "automatically knew how to tell us that",
    "start": "726410",
    "end": "728210"
  },
  {
    "text": "it created a character it didn't tell us",
    "start": "728210",
    "end": "730910"
  },
  {
    "text": "a custom resource was created so this",
    "start": "730910",
    "end": "732530"
  },
  {
    "text": "character thing one and character thing",
    "start": "732530",
    "end": "734360"
  },
  {
    "text": "two were created then we're just gonna",
    "start": "734360",
    "end": "736790"
  },
  {
    "text": "go ahead and create one more that we'll",
    "start": "736790",
    "end": "738740"
  },
  {
    "text": "call Nemo and character Nemo is created",
    "start": "738740",
    "end": "741310"
  },
  {
    "text": "and so we can work with these objects",
    "start": "741310",
    "end": "743930"
  },
  {
    "text": "just like anything else so we can",
    "start": "743930",
    "end": "746090"
  },
  {
    "text": "actually do a kubernetes get characters",
    "start": "746090",
    "end": "748480"
  },
  {
    "text": "and this works for everyone who has",
    "start": "748480",
    "end": "751220"
  },
  {
    "text": "access to the cluster without any",
    "start": "751220",
    "end": "752840"
  },
  {
    "text": "client-side configuration and you can",
    "start": "752840",
    "end": "755120"
  },
  {
    "text": "see all three characters that we created",
    "start": "755120",
    "end": "756830"
  },
  {
    "text": "and then you can also describe these",
    "start": "756830",
    "end": "759980"
  },
  {
    "text": "just like all other objects so we can",
    "start": "759980",
    "end": "762890"
  },
  {
    "text": "actually take a look here at Nemo and we",
    "start": "762890",
    "end": "765650"
  },
  {
    "text": "can see all the fields we specified that",
    "start": "765650",
    "end": "767240"
  },
  {
    "text": "it's by Disney from Finding Nemo and the",
    "start": "767240",
    "end": "769790"
  },
  {
    "text": "names Nemo but for those of you familiar",
    "start": "769790",
    "end": "772700"
  },
  {
    "text": "with Disney characters you'll know that",
    "start": "772700",
    "end": "774260"
  },
  {
    "text": "Nemo is technically a Pixar character so",
    "start": "774260",
    "end": "776960"
  },
  {
    "text": "let's go ahead and fix that let's take a",
    "start": "776960",
    "end": "779360"
  },
  {
    "text": "look at this file here let's switch it",
    "start": "779360",
    "end": "781400"
  },
  {
    "text": "over to Pixar and then we can just apply",
    "start": "781400",
    "end": "790370"
  },
  {
    "text": "this file and it will update the custom",
    "start": "790370",
    "end": "793640"
  },
  {
    "text": "resource to use the new fields and we",
    "start": "793640",
    "end": "798350"
  },
  {
    "text": "can take a look at it again",
    "start": "798350",
    "end": "801579"
  },
  {
    "text": "and we're able to see that it's now by",
    "start": "809180",
    "end": "811700"
  },
  {
    "text": "Pixar so one of the interesting cases",
    "start": "811700",
    "end": "814220"
  },
  {
    "text": "with custom resources is if you name",
    "start": "814220",
    "end": "816350"
  },
  {
    "text": "your custom resource the same thing as a",
    "start": "816350",
    "end": "819230"
  },
  {
    "text": "built in kubernetes object you'll have",
    "start": "819230",
    "end": "821390"
  },
  {
    "text": "to access it using the full path name",
    "start": "821390",
    "end": "824800"
  },
  {
    "text": "including the DNS piece so in this case",
    "start": "824800",
    "end": "828140"
  },
  {
    "text": "we'll cube control get characters dot",
    "start": "828140",
    "end": "830510"
  },
  {
    "text": "stable dot Nicole Renee IO and it will",
    "start": "830510",
    "end": "833630"
  },
  {
    "text": "print those for us so if you decide to",
    "start": "833630",
    "end": "835280"
  },
  {
    "text": "name yours something like deployment or",
    "start": "835280",
    "end": "838600"
  },
  {
    "text": "along those lines then you have that",
    "start": "838600",
    "end": "840950"
  },
  {
    "text": "problem so now that we've got custom",
    "start": "840950",
    "end": "844400"
  },
  {
    "text": "resources for all of our VMs we built an",
    "start": "844400",
    "end": "847250"
  },
  {
    "text": "operator that we've made available open",
    "start": "847250",
    "end": "849440"
  },
  {
    "text": "source on github called list ramos and",
    "start": "849440",
    "end": "852130"
  },
  {
    "text": "what Louis Ramos does is it watches",
    "start": "852130",
    "end": "856130"
  },
  {
    "text": "custom resources in Corona DS and then",
    "start": "856130",
    "end": "858710"
  },
  {
    "text": "will deploy a home chart for you passing",
    "start": "858710",
    "end": "861590"
  },
  {
    "text": "in the values that are defined in the",
    "start": "861590",
    "end": "863510"
  },
  {
    "text": "custom resource to the helm chart so we",
    "start": "863510",
    "end": "866870"
  },
  {
    "text": "run a version internally that monitors",
    "start": "866870",
    "end": "869120"
  },
  {
    "text": "our VMs and we'll deploy our PHP worker",
    "start": "869120",
    "end": "871580"
  },
  {
    "text": "for every VM we have automatically when",
    "start": "871580",
    "end": "874580"
  },
  {
    "text": "the new VM gets created with Google or",
    "start": "874580",
    "end": "877580"
  },
  {
    "text": "Amazon the custom resource gets",
    "start": "877580",
    "end": "879920"
  },
  {
    "text": "provisioned and then the PHP worker gets",
    "start": "879920",
    "end": "881960"
  },
  {
    "text": "automatically deployed no manual",
    "start": "881960",
    "end": "884360"
  },
  {
    "text": "intervention is required so we've got a",
    "start": "884360",
    "end": "887840"
  },
  {
    "text": "little you know demo here showing some",
    "start": "887840",
    "end": "890570"
  },
  {
    "text": "of this we create Nemo and that creates",
    "start": "890570",
    "end": "894410"
  },
  {
    "text": "the character Nostromo's gets the",
    "start": "894410",
    "end": "896330"
  },
  {
    "text": "notification that it was created which",
    "start": "896330",
    "end": "898340"
  },
  {
    "text": "then will call out to tiller and create",
    "start": "898340",
    "end": "900920"
  },
  {
    "text": "anything that's in our helm chart and",
    "start": "900920",
    "end": "902950"
  },
  {
    "text": "the same thing works for deletions so in",
    "start": "902950",
    "end": "906230"
  },
  {
    "text": "this case we already have our character",
    "start": "906230",
    "end": "907580"
  },
  {
    "text": "and our deployments and then if we are",
    "start": "907580",
    "end": "909950"
  },
  {
    "text": "to go through and delete Nemo we'll see",
    "start": "909950",
    "end": "914120"
  },
  {
    "text": "the character gets removed and that will",
    "start": "914120",
    "end": "917090"
  },
  {
    "text": "go out to the tiller and actually remove",
    "start": "917090",
    "end": "920240"
  },
  {
    "text": "all of those services that it's deployed",
    "start": "920240",
    "end": "922990"
  },
  {
    "text": "so now let's see this actually work so",
    "start": "922990",
    "end": "927590"
  },
  {
    "text": "what we have first is a really simple",
    "start": "927590",
    "end": "929780"
  },
  {
    "text": "demo application written and go all it's",
    "start": "929780",
    "end": "933230"
  },
  {
    "text": "going to do is print out that the name",
    "start": "933230",
    "end": "938000"
  },
  {
    "text": "first appears in where they're from and",
    "start": "938000",
    "end": "940850"
  },
  {
    "text": "who created it so",
    "start": "940850",
    "end": "942350"
  },
  {
    "text": "by and it's using environment variables",
    "start": "942350",
    "end": "944840"
  },
  {
    "text": "to get those so we're going to use",
    "start": "944840",
    "end": "946550"
  },
  {
    "text": "resource name resource from and resource",
    "start": "946550",
    "end": "948710"
  },
  {
    "text": "by so that we can pass those in so then",
    "start": "948710",
    "end": "953450"
  },
  {
    "text": "let's take a look at our sample chart",
    "start": "953450",
    "end": "955220"
  },
  {
    "text": "that will actually deploy our deployment",
    "start": "955220",
    "end": "957950"
  },
  {
    "text": "and so most of this is pretty stock but",
    "start": "957950",
    "end": "963260"
  },
  {
    "text": "down at the very bottom we pass in the",
    "start": "963260",
    "end": "965690"
  },
  {
    "text": "environment variables and right here the",
    "start": "965690",
    "end": "968840"
  },
  {
    "text": "part that matters is if you're not",
    "start": "968840",
    "end": "970460"
  },
  {
    "text": "familiar with helm you have values which",
    "start": "970460",
    "end": "973220"
  },
  {
    "text": "is all of your values but we've created",
    "start": "973220",
    "end": "975500"
  },
  {
    "text": "values not resource by passing in all",
    "start": "975500",
    "end": "977870"
  },
  {
    "text": "the fields of the resource so then we",
    "start": "977870",
    "end": "979940"
  },
  {
    "text": "can call spec name SPECT up from spec",
    "start": "979940",
    "end": "983120"
  },
  {
    "text": "top by you can nest these they can be",
    "start": "983120",
    "end": "985460"
  },
  {
    "text": "arrays they can be maps you can go all",
    "start": "985460",
    "end": "987740"
  },
  {
    "text": "the way down so now we're gonna so now",
    "start": "987740",
    "end": "996140"
  },
  {
    "text": "let's take a look at our config file for",
    "start": "996140",
    "end": "998300"
  },
  {
    "text": "lush rows here so we can see that we're",
    "start": "998300",
    "end": "1000640"
  },
  {
    "text": "telling it the CRD that we're going to",
    "start": "1000640",
    "end": "1002140"
  },
  {
    "text": "monitor is the group's table not in Col",
    "start": "1002140",
    "end": "1004540"
  },
  {
    "text": "Renee died oh and the names characters",
    "start": "1004540",
    "end": "1007240"
  },
  {
    "text": "we're giving our demo chart we're",
    "start": "1007240",
    "end": "1010000"
  },
  {
    "text": "telling it to deploy into the namespace",
    "start": "1010000",
    "end": "1011740"
  },
  {
    "text": "demo and we're telling it where to find",
    "start": "1011740",
    "end": "1013570"
  },
  {
    "text": "the tiller and then we're doing some",
    "start": "1013570",
    "end": "1015640"
  },
  {
    "text": "pretty logging generally if you're to",
    "start": "1015640",
    "end": "1017440"
  },
  {
    "text": "play in this in a kubernetes cluster",
    "start": "1017440",
    "end": "1018670"
  },
  {
    "text": "your tiller would be tiller cube -",
    "start": "1018670",
    "end": "1021640"
  },
  {
    "text": "system but in this case we're doing some",
    "start": "1021640",
    "end": "1024069"
  },
  {
    "text": "work to make this where we can run it",
    "start": "1024070",
    "end": "1025420"
  },
  {
    "text": "locally instead of in the cluster",
    "start": "1025420",
    "end": "1027189"
  },
  {
    "text": "so we port forwarded the tiller to",
    "start": "1027190",
    "end": "1029620"
  },
  {
    "text": "localhost so as you can see we still",
    "start": "1029620",
    "end": "1032800"
  },
  {
    "text": "have our thing 1 and our thing - from",
    "start": "1032800",
    "end": "1035350"
  },
  {
    "text": "earlier so we can go ahead and start",
    "start": "1035350",
    "end": "1036970"
  },
  {
    "text": "blister Mouse here",
    "start": "1036970",
    "end": "1039929"
  },
  {
    "text": "and we can see that as soon as it",
    "start": "1046929",
    "end": "1049190"
  },
  {
    "text": "started it immediately noticed that the",
    "start": "1049190",
    "end": "1051139"
  },
  {
    "text": "resource for thing one and thing two",
    "start": "1051139",
    "end": "1052750"
  },
  {
    "text": "were there and created those so",
    "start": "1052750",
    "end": "1056860"
  },
  {
    "text": "instantly it found those on startup at",
    "start": "1056860",
    "end": "1060230"
  },
  {
    "text": "startup it finds all the existing ones",
    "start": "1060230",
    "end": "1062330"
  },
  {
    "text": "and considers those added so then we can",
    "start": "1062330",
    "end": "1066590"
  },
  {
    "text": "come down here we can actually look at",
    "start": "1066590",
    "end": "1069049"
  },
  {
    "text": "home now and we can see that helm has",
    "start": "1069049",
    "end": "1071659"
  },
  {
    "text": "two releases lotion most thing one",
    "start": "1071659",
    "end": "1074240"
  },
  {
    "text": "unless you're most thing to and those",
    "start": "1074240",
    "end": "1077090"
  },
  {
    "text": "were deployed with our cue con demo",
    "start": "1077090",
    "end": "1078980"
  },
  {
    "text": "chart so next up we're going to take a",
    "start": "1078980",
    "end": "1088010"
  },
  {
    "text": "look at the services just and we can see",
    "start": "1088010",
    "end": "1090169"
  },
  {
    "text": "that those were created so part of those",
    "start": "1090169",
    "end": "1092299"
  },
  {
    "text": "we created thing one and thing two and",
    "start": "1092299",
    "end": "1094519"
  },
  {
    "text": "then we can see the actual deployments",
    "start": "1094519",
    "end": "1096830"
  },
  {
    "text": "that are running for those applications",
    "start": "1096830",
    "end": "1102010"
  },
  {
    "text": "so those are there to serve our basic",
    "start": "1102010",
    "end": "1104919"
  },
  {
    "text": "website that we called so now we can",
    "start": "1104919",
    "end": "1108080"
  },
  {
    "text": "curl one of those services and we can",
    "start": "1108080",
    "end": "1110840"
  },
  {
    "text": "see that thing one first appeared in cat",
    "start": "1110840",
    "end": "1112820"
  },
  {
    "text": "in the hat' created by dr. Seuss so now",
    "start": "1112820",
    "end": "1116539"
  },
  {
    "text": "the nice thing is less your mouse is",
    "start": "1116539",
    "end": "1118549"
  },
  {
    "text": "still running up there at the top and so",
    "start": "1118549",
    "end": "1121279"
  },
  {
    "text": "if you watch you can see here that we",
    "start": "1121279",
    "end": "1123380"
  },
  {
    "text": "can go down at the bottom and we can",
    "start": "1123380",
    "end": "1127210"
  },
  {
    "text": "apply to create Nemo again and you'll",
    "start": "1127210",
    "end": "1132470"
  },
  {
    "text": "see here that when this runs up at the",
    "start": "1132470",
    "end": "1134750"
  },
  {
    "text": "top let's we'll clear that so you can",
    "start": "1134750",
    "end": "1137210"
  },
  {
    "text": "see but as soon as we submit this lush",
    "start": "1137210",
    "end": "1140149"
  },
  {
    "text": "most will notice oh yeah I hope if you",
    "start": "1140149",
    "end": "1142580"
  },
  {
    "text": "type the file name right",
    "start": "1142580",
    "end": "1145539"
  },
  {
    "text": "and lush most immediately noticed and",
    "start": "1146740",
    "end": "1149050"
  },
  {
    "text": "created that so the helm deployment for",
    "start": "1149050",
    "end": "1152530"
  },
  {
    "text": "that as well was created and so we have",
    "start": "1152530",
    "end": "1156130"
  },
  {
    "text": "all of that available so let's go ahead",
    "start": "1156130",
    "end": "1158679"
  },
  {
    "text": "and get the service for that one",
    "start": "1158679",
    "end": "1161970"
  },
  {
    "text": "so we can curl the NEEMO service and we",
    "start": "1174570",
    "end": "1180360"
  },
  {
    "text": "can see that nemo first appeared in",
    "start": "1180360",
    "end": "1181890"
  },
  {
    "text": "Finding Nemo created by Pixar and then",
    "start": "1181890",
    "end": "1188400"
  },
  {
    "text": "so for the next piece will show updating",
    "start": "1188400",
    "end": "1192620"
  },
  {
    "text": "so we're going to go ahead and edit",
    "start": "1192620",
    "end": "1194900"
  },
  {
    "text": "think one and we're going to go ahead",
    "start": "1194900",
    "end": "1198720"
  },
  {
    "text": "and adjust this so that the name is",
    "start": "1198720",
    "end": "1200940"
  },
  {
    "text": "thing a",
    "start": "1200940",
    "end": "1203570"
  },
  {
    "text": "and then we'll change by will use Nicole",
    "start": "1210769",
    "end": "1214169"
  },
  {
    "text": "and from will set to cube con and so if",
    "start": "1214169",
    "end": "1218580"
  },
  {
    "text": "you watch as we save this file up at the",
    "start": "1218580",
    "end": "1220769"
  },
  {
    "text": "top you'll see it immediately got the",
    "start": "1220769",
    "end": "1222960"
  },
  {
    "text": "update unless you're us and redeployed",
    "start": "1222960",
    "end": "1225120"
  },
  {
    "text": "the helm chart and so now if we come",
    "start": "1225120",
    "end": "1227700"
  },
  {
    "text": "down here at the bottom and we curl",
    "start": "1227700",
    "end": "1229440"
  },
  {
    "text": "thing a which used to be thing one we",
    "start": "1229440",
    "end": "1233580"
  },
  {
    "text": "can actually see the new response which",
    "start": "1233580",
    "end": "1238500"
  },
  {
    "text": "is thing a first appeared in Cuba and",
    "start": "1238500",
    "end": "1240899"
  },
  {
    "text": "created by Nicola and so this works and",
    "start": "1240899",
    "end": "1244169"
  },
  {
    "text": "allows us to also handle deletions of",
    "start": "1244169",
    "end": "1247049"
  },
  {
    "text": "custom resources so when we remove a",
    "start": "1247049",
    "end": "1249870"
  },
  {
    "text": "custom resource it will also remove all",
    "start": "1249870",
    "end": "1253080"
  },
  {
    "text": "of the helm release for it",
    "start": "1253080",
    "end": "1257059"
  },
  {
    "text": "let me see that lower most received that",
    "start": "1264530",
    "end": "1267530"
  },
  {
    "text": "the resources and emote was deleted I'm",
    "start": "1267530",
    "end": "1270470"
  },
  {
    "text": "going to see in helm that Nemo is now",
    "start": "1270470",
    "end": "1272960"
  },
  {
    "text": "gone so as we were building this we had",
    "start": "1272960",
    "end": "1280820"
  },
  {
    "text": "some challenges we had to overcome one",
    "start": "1280820",
    "end": "1283520"
  },
  {
    "text": "of those was the first was how fast",
    "start": "1283520",
    "end": "1285200"
  },
  {
    "text": "should our deploys be currently in our",
    "start": "1285200",
    "end": "1287870"
  },
  {
    "text": "environment when we have to deploy to",
    "start": "1287870",
    "end": "1289730"
  },
  {
    "text": "the 6000 plus VMs that we have that",
    "start": "1289730",
    "end": "1292250"
  },
  {
    "text": "generally takes us over 24 hours to",
    "start": "1292250",
    "end": "1294620"
  },
  {
    "text": "complete a deploy we knew it couldn't be",
    "start": "1294620",
    "end": "1297770"
  },
  {
    "text": "that slow had to be faster so we shot",
    "start": "1297770",
    "end": "1301280"
  },
  {
    "text": "for a target of within an hour to be",
    "start": "1301280",
    "end": "1304250"
  },
  {
    "text": "able to deploy to all of these we found",
    "start": "1304250",
    "end": "1307880"
  },
  {
    "text": "a few bugs that were working through I'm",
    "start": "1307880",
    "end": "1310429"
  },
  {
    "text": "working with the helm community on",
    "start": "1310429",
    "end": "1311840"
  },
  {
    "text": "around concurrent deployments with helm",
    "start": "1311840",
    "end": "1314510"
  },
  {
    "text": "so when you pass the tiller concurrent",
    "start": "1314510",
    "end": "1316700"
  },
  {
    "text": "deployments it will actually sometimes",
    "start": "1316700",
    "end": "1318740"
  },
  {
    "text": "mix the values up between deployments so",
    "start": "1318740",
    "end": "1321440"
  },
  {
    "text": "we're working on figuring out how to",
    "start": "1321440",
    "end": "1322940"
  },
  {
    "text": "resolve that I actually had some good",
    "start": "1322940",
    "end": "1325340"
  },
  {
    "text": "discussions about that this week so with",
    "start": "1325340",
    "end": "1329270"
  },
  {
    "text": "that once that route is resolved you'll",
    "start": "1329270",
    "end": "1331490"
  },
  {
    "text": "be able to handle deployments and this",
    "start": "1331490",
    "end": "1333799"
  },
  {
    "text": "is actually able to deploy almost as",
    "start": "1333799",
    "end": "1335600"
  },
  {
    "text": "fast as your cluster can actually spin",
    "start": "1335600",
    "end": "1337280"
  },
  {
    "text": "these resources up another thing we",
    "start": "1337280",
    "end": "1341600"
  },
  {
    "text": "wanted the ability to do phase deploys",
    "start": "1341600",
    "end": "1343370"
  },
  {
    "text": "so that we could do Canaries and",
    "start": "1343370",
    "end": "1345049"
  },
  {
    "text": "different stages of deploy instead of",
    "start": "1345049",
    "end": "1347419"
  },
  {
    "text": "hitting all of these at once so we've",
    "start": "1347419",
    "end": "1349880"
  },
  {
    "text": "added the ability to create lower most",
    "start": "1349880",
    "end": "1352280"
  },
  {
    "text": "instances that filter and only watch",
    "start": "1352280",
    "end": "1354919"
  },
  {
    "text": "certain custom resources so you can",
    "start": "1354919",
    "end": "1357559"
  },
  {
    "text": "apply an annotation to your custom",
    "start": "1357559",
    "end": "1359720"
  },
  {
    "text": "resource and that can exclude it from",
    "start": "1359720",
    "end": "1362559"
  },
  {
    "text": "lush promise and so another piece was",
    "start": "1362559",
    "end": "1366860"
  },
  {
    "text": "monitoring how do we monitor all of this",
    "start": "1366860",
    "end": "1369169"
  },
  {
    "text": "so low stress itself has a Prometheus",
    "start": "1369169",
    "end": "1372260"
  },
  {
    "text": "metrics endpoint that exposes all of the",
    "start": "1372260",
    "end": "1375169"
  },
  {
    "text": "data about what it's doing so it",
    "start": "1375169",
    "end": "1376850"
  },
  {
    "text": "includes the number of added resources",
    "start": "1376850",
    "end": "1378650"
  },
  {
    "text": "the number of deleted resources updated",
    "start": "1378650",
    "end": "1381200"
  },
  {
    "text": "resources and the number of ones that",
    "start": "1381200",
    "end": "1383480"
  },
  {
    "text": "have felt it also includes a total",
    "start": "1383480",
    "end": "1386270"
  },
  {
    "text": "number of resources that are being",
    "start": "1386270",
    "end": "1387799"
  },
  {
    "text": "managed by listeners so that you can",
    "start": "1387799",
    "end": "1390080"
  },
  {
    "text": "tell if you know you have 300 custom",
    "start": "1390080",
    "end": "1393289"
  },
  {
    "text": "resources and less remote says it's only",
    "start": "1393289",
    "end": "1395360"
  },
  {
    "text": "managing 298 you know",
    "start": "1395360",
    "end": "1397290"
  },
  {
    "text": "have a problem and then there was",
    "start": "1397290",
    "end": "1400680"
  },
  {
    "text": "reconciliation what happens if we miss",
    "start": "1400680",
    "end": "1402990"
  },
  {
    "text": "an event because los nmeros is offline",
    "start": "1402990",
    "end": "1404790"
  },
  {
    "text": "say we're deploying a new version and a",
    "start": "1404790",
    "end": "1406620"
  },
  {
    "text": "custom resource gets recreated or",
    "start": "1406620",
    "end": "1408900"
  },
  {
    "text": "changed or created for that matter and",
    "start": "1408900",
    "end": "1411090"
  },
  {
    "text": "then what happens if someone changes",
    "start": "1411090",
    "end": "1413280"
  },
  {
    "text": "something so what happens is lush mas",
    "start": "1413280",
    "end": "1416490"
  },
  {
    "text": "has an option to do a resync",
    "start": "1416490",
    "end": "1419580"
  },
  {
    "text": "and you can specify any duration of time",
    "start": "1419580",
    "end": "1421740"
  },
  {
    "text": "and at that duration it will resync",
    "start": "1421740",
    "end": "1425730"
  },
  {
    "text": "every custom resource and redeploy the",
    "start": "1425730",
    "end": "1428580"
  },
  {
    "text": "helm chart to ensure that it's the",
    "start": "1428580",
    "end": "1430350"
  },
  {
    "text": "correct version and undo any changes",
    "start": "1430350",
    "end": "1432480"
  },
  {
    "text": "that have manually been made in your",
    "start": "1432480",
    "end": "1434400"
  },
  {
    "text": "cluster we also at startup read in every",
    "start": "1434400",
    "end": "1439080"
  },
  {
    "text": "custom resource that exists and update",
    "start": "1439080",
    "end": "1441630"
  },
  {
    "text": "the state in the tiller to match the",
    "start": "1441630",
    "end": "1443940"
  },
  {
    "text": "state that it should be so some other",
    "start": "1443940",
    "end": "1448530"
  },
  {
    "text": "use cases besides our simple VM use case",
    "start": "1448530",
    "end": "1451710"
  },
  {
    "text": "is you could create databases for your",
    "start": "1451710",
    "end": "1454680"
  },
  {
    "text": "application create custom resource",
    "start": "1454680",
    "end": "1456840"
  },
  {
    "text": "called database and every time you",
    "start": "1456840",
    "end": "1458970"
  },
  {
    "text": "needed a database for your application",
    "start": "1458970",
    "end": "1460620"
  },
  {
    "text": "you could just create a database custom",
    "start": "1460620",
    "end": "1463230"
  },
  {
    "text": "resource and that would deploy your",
    "start": "1463230",
    "end": "1465210"
  },
  {
    "text": "database for you using the home chart",
    "start": "1465210",
    "end": "1467720"
  },
  {
    "text": "you could also use it to deploy a",
    "start": "1467720",
    "end": "1470160"
  },
  {
    "text": "monitoring agent say you're using RDS or",
    "start": "1470160",
    "end": "1473280"
  },
  {
    "text": "cloud sequel for your databases and you",
    "start": "1473280",
    "end": "1475800"
  },
  {
    "text": "want to run your own monitoring agent in",
    "start": "1475800",
    "end": "1477930"
  },
  {
    "text": "the cluster for each of those instances",
    "start": "1477930",
    "end": "1479880"
  },
  {
    "text": "you could represent those items in your",
    "start": "1479880",
    "end": "1482880"
  },
  {
    "text": "cluster and when they change or get",
    "start": "1482880",
    "end": "1485490"
  },
  {
    "text": "updated automatically deploy a",
    "start": "1485490",
    "end": "1487890"
  },
  {
    "text": "monitoring agent so one of the pieces of",
    "start": "1487890",
    "end": "1492000"
  },
  {
    "text": "Luschka MOS is ACR watcher and that's a",
    "start": "1492000",
    "end": "1495410"
  },
  {
    "text": "library within there that makes watching",
    "start": "1495410",
    "end": "1497910"
  },
  {
    "text": "custom resources extremely easy provides",
    "start": "1497910",
    "end": "1501150"
  },
  {
    "text": "a nice library around that and so you",
    "start": "1501150",
    "end": "1503040"
  },
  {
    "text": "could import that into another package",
    "start": "1503040",
    "end": "1505290"
  },
  {
    "text": "if you wanted and use them so some",
    "start": "1505290",
    "end": "1507840"
  },
  {
    "text": "examples there is you could actually do",
    "start": "1507840",
    "end": "1509640"
  },
  {
    "text": "dns updates where you can just manage",
    "start": "1509640",
    "end": "1511920"
  },
  {
    "text": "your dns through custom resources or you",
    "start": "1511920",
    "end": "1514920"
  },
  {
    "text": "could actually create cloud resources so",
    "start": "1514920",
    "end": "1517560"
  },
  {
    "text": "if you wanted to actually create the",
    "start": "1517560",
    "end": "1519660"
  },
  {
    "text": "cloud sequel database or RDS instances",
    "start": "1519660",
    "end": "1522810"
  },
  {
    "text": "you could just create those using",
    "start": "1522810",
    "end": "1524850"
  },
  {
    "text": "kubernetes objects and have them created",
    "start": "1524850",
    "end": "1526860"
  },
  {
    "text": "with your cloud provider",
    "start": "1526860",
    "end": "1529400"
  },
  {
    "text": "so summer it is we have for where we",
    "start": "1529590",
    "end": "1532020"
  },
  {
    "text": "want to go with lesser mos includes",
    "start": "1532020",
    "end": "1534210"
  },
  {
    "text": "supporting watching resources beyond",
    "start": "1534210",
    "end": "1537410"
  },
  {
    "text": "custom resources so for every deployment",
    "start": "1537410",
    "end": "1540750"
  },
  {
    "text": "we have we want to be able to also",
    "start": "1540750",
    "end": "1543630"
  },
  {
    "text": "deploy this other thing or anything",
    "start": "1543630",
    "end": "1545880"
  },
  {
    "text": "along those lines",
    "start": "1545880",
    "end": "1546840"
  },
  {
    "text": "or for every service in our cluster we",
    "start": "1546840",
    "end": "1549300"
  },
  {
    "text": "want to and then support for additional",
    "start": "1549300",
    "end": "1552180"
  },
  {
    "text": "deployment mechanisms so in addition to",
    "start": "1552180",
    "end": "1554670"
  },
  {
    "text": "home we also support using go templates",
    "start": "1554670",
    "end": "1556800"
  },
  {
    "text": "so if you don't want to use home and you",
    "start": "1556800",
    "end": "1559260"
  },
  {
    "text": "just want to have go templates for your",
    "start": "1559260",
    "end": "1560880"
  },
  {
    "text": "gamma files you can do that and that's",
    "start": "1560880",
    "end": "1563220"
  },
  {
    "text": "and we also welcome any other ideas or",
    "start": "1563220",
    "end": "1565680"
  },
  {
    "text": "pull requests any questions",
    "start": "1565680",
    "end": "1571430"
  },
  {
    "text": "so that's a good question",
    "start": "1587899",
    "end": "1590190"
  },
  {
    "text": "question was if we allow our customers",
    "start": "1590190",
    "end": "1592499"
  },
  {
    "text": "to create any files they want what stops",
    "start": "1592499",
    "end": "1594570"
  },
  {
    "text": "them from creating a PHP info file and",
    "start": "1594570",
    "end": "1597299"
  },
  {
    "text": "dumping the environment variables that",
    "start": "1597299",
    "end": "1599609"
  },
  {
    "text": "could include database passwords so in",
    "start": "1599609",
    "end": "1602129"
  },
  {
    "text": "our case we actually limit the",
    "start": "1602129",
    "end": "1603840"
  },
  {
    "text": "environment variables that we pass in to",
    "start": "1603840",
    "end": "1605700"
  },
  {
    "text": "our customers to remove any that we use",
    "start": "1605700",
    "end": "1608159"
  },
  {
    "text": "on our side which aren't very many and",
    "start": "1608159",
    "end": "1611220"
  },
  {
    "text": "then we also in this case the customer",
    "start": "1611220",
    "end": "1615149"
  },
  {
    "text": "would only be leaking their database",
    "start": "1615149",
    "end": "1617190"
  },
  {
    "text": "password which luckily we don't actually",
    "start": "1617190",
    "end": "1620580"
  },
  {
    "text": "pass in passwords for those such as the",
    "start": "1620580",
    "end": "1623909"
  },
  {
    "text": "database via environment variables we",
    "start": "1623909",
    "end": "1625859"
  },
  {
    "text": "stick those in the WordPress",
    "start": "1625859",
    "end": "1626820"
  },
  {
    "text": "configuration file anything else awesome",
    "start": "1626820",
    "end": "1637230"
  },
  {
    "text": "oh yes",
    "start": "1637230",
    "end": "1640789"
  },
  {
    "text": "I honestly don't know I haven't looked",
    "start": "1645210",
    "end": "1652289"
  },
  {
    "text": "at the dashboard to see if custom",
    "start": "1652289",
    "end": "1654360"
  },
  {
    "text": "resources are represented in it I'm not",
    "start": "1654360",
    "end": "1656490"
  },
  {
    "text": "sure is there another question yeah",
    "start": "1656490",
    "end": "1662120"
  },
  {
    "text": "so for our clusters we actually run on",
    "start": "1673560",
    "end": "1676240"
  },
  {
    "text": "top of gke so our kubernetes master is",
    "start": "1676240",
    "end": "1679510"
  },
  {
    "text": "managed by google for us so in it scales",
    "start": "1679510",
    "end": "1682180"
  },
  {
    "text": "with the size of our cluster so we",
    "start": "1682180",
    "end": "1683920"
  },
  {
    "text": "haven't had any problems there yeah so",
    "start": "1683920",
    "end": "1692410"
  },
  {
    "text": "you can pass in the chart so it if you",
    "start": "1692410",
    "end": "1695650"
  },
  {
    "text": "looked at that config file for list that",
    "start": "1695650",
    "end": "1697960"
  },
  {
    "text": "was actually a path I was running it",
    "start": "1697960",
    "end": "1700930"
  },
  {
    "text": "locally on my machine normally so in our",
    "start": "1700930",
    "end": "1703450"
  },
  {
    "text": "case we actually deploy it as a config",
    "start": "1703450",
    "end": "1705430"
  },
  {
    "text": "map so we add the chart as a config map",
    "start": "1705430",
    "end": "1707860"
  },
  {
    "text": "and then mount that as a volume in our",
    "start": "1707860",
    "end": "1710500"
  },
  {
    "text": "list for most deployment and if you were",
    "start": "1710500",
    "end": "1714100"
  },
  {
    "text": "using a public chart unfortunately that",
    "start": "1714100",
    "end": "1716380"
  },
  {
    "text": "doesn't work so you'd have to pull it",
    "start": "1716380",
    "end": "1718150"
  },
  {
    "text": "down and push it up yes",
    "start": "1718150",
    "end": "1726810"
  },
  {
    "text": "yeah so so if we look here at our entire",
    "start": "1727880",
    "end": "1734570"
  },
  {
    "text": "stack for a VM wow that was all the way",
    "start": "1734570",
    "end": "1736970"
  },
  {
    "text": "back here all of those things",
    "start": "1736970",
    "end": "1740720"
  },
  {
    "text": "potentially we haven't done all the",
    "start": "1740720",
    "end": "1743419"
  },
  {
    "text": "research research on moving the database",
    "start": "1743419",
    "end": "1745700"
  },
  {
    "text": "and the storage in but we know after we",
    "start": "1745700",
    "end": "1748220"
  },
  {
    "text": "successfully complete moving all of the",
    "start": "1748220",
    "end": "1749960"
  },
  {
    "text": "PHP n we do want to start on the engine",
    "start": "1749960",
    "end": "1752750"
  },
  {
    "text": "X and caching layers and then once",
    "start": "1752750",
    "end": "1754580"
  },
  {
    "text": "that's complete we want to start",
    "start": "1754580",
    "end": "1755720"
  },
  {
    "text": "researching what we can do for storage",
    "start": "1755720",
    "end": "1757429"
  },
  {
    "text": "and database",
    "start": "1757429",
    "end": "1760210"
  },
  {
    "text": "all right awesome",
    "start": "1766950",
    "end": "1769360"
  },
  {
    "text": "[Applause]",
    "start": "1769360",
    "end": "1776350"
  }
]