[
  {
    "text": "hey everyone and uh thanks so much for attending this session today uh I'm nanin I'm a software engineer on the",
    "start": "680",
    "end": "7520"
  },
  {
    "text": "Azure kubernetes service team at Microsoft um I'm working on the DDO add-on for AKs and I've also made some",
    "start": "7520",
    "end": "14599"
  },
  {
    "text": "contributions to the DDO codebase and documentation so a lot of my recent work",
    "start": "14599",
    "end": "21359"
  },
  {
    "text": "has focused on deciding uh which DDO features to incorporate into our add-on",
    "start": "21359",
    "end": "26840"
  },
  {
    "text": "and deciding which features to block or exclude um as well as how to go about doing so so in this presentation I",
    "start": "26840",
    "end": "34160"
  },
  {
    "text": "wanted to share some of those lessons uh with you to help you untangle your DDO",
    "start": "34160",
    "end": "39480"
  },
  {
    "text": "mesh and make DDO more manageable and secure with feature",
    "start": "39480",
    "end": "45399"
  },
  {
    "text": "Gates so just an overview of what I plan on covering here um first just wanted to",
    "start": "45719",
    "end": "51160"
  },
  {
    "text": "talk about the general problem we're trying to solve and why feature gates are the solution to that problem uh then",
    "start": "51160",
    "end": "58039"
  },
  {
    "text": "wanted to cover how you could go about feature gating your environment and establishing these guard rails and also",
    "start": "58039",
    "end": "64720"
  },
  {
    "text": "touch on some criteria to help you decide uh which features to allow or disallow in your",
    "start": "64720",
    "end": "70960"
  },
  {
    "text": "environments and finally to conclude um I'm just going to reiterate the primary",
    "start": "70960",
    "end": "76439"
  },
  {
    "text": "takeaways and touch on some relevant developments in the DDO Community related to",
    "start": "76439",
    "end": "83280"
  },
  {
    "text": "this so as I'm sure uh most of you are already aware um Ito has a lot of",
    "start": "84079",
    "end": "89560"
  },
  {
    "text": "features and not only are there so many features but there are so many ways of",
    "start": "89560",
    "end": "95200"
  },
  {
    "text": "configuring them so here's what I mean um take plug",
    "start": "95200",
    "end": "101000"
  },
  {
    "text": "inserts uh I can pass this into the mesh config CA certificates field or through",
    "start": "101000",
    "end": "106560"
  },
  {
    "text": "populating the caer kubernetes secret in the root name space um another case in point is uh",
    "start": "106560",
    "end": "114200"
  },
  {
    "text": "setting uh environment variables for the proxy uh we can do this through the mesh config but we also have a resource level",
    "start": "114200",
    "end": "122039"
  },
  {
    "text": "annotations as an option um or we can use the proxy config custom resource",
    "start": "122039",
    "end": "127520"
  },
  {
    "text": "right and uh these are just some of numerous examples of how uh there could be multiple ways of accomplishing a",
    "start": "127520",
    "end": "134680"
  },
  {
    "text": "given task in its Doo so there are definitely some clear",
    "start": "134680",
    "end": "140239"
  },
  {
    "text": "uh benefits and upsides to this broad feature set and configurability uh for one thing it makes itdo versatile and",
    "start": "140239",
    "end": "147160"
  },
  {
    "text": "adaptable to various Cloud environments so uh organizations using distributed",
    "start": "147160",
    "end": "152519"
  },
  {
    "text": "platforms like kubernetes have a vast and complex needs but uh ito's broad",
    "start": "152519",
    "end": "159440"
  },
  {
    "text": "feature set enables it to meet these various needs and also having multiple",
    "start": "159440",
    "end": "164840"
  },
  {
    "text": "Avenues of configuration gives flexibility in terms of how operators go",
    "start": "164840",
    "end": "169959"
  },
  {
    "text": "about fine-tuning their mesh um in some cases we want some settings to be configured on a mesh wide level but use",
    "start": "169959",
    "end": "177159"
  },
  {
    "text": "custom resources or annotations to tweak settings at a more granular level",
    "start": "177159",
    "end": "183000"
  },
  {
    "text": "on name space or a workload level however there are some clear",
    "start": "183000",
    "end": "189080"
  },
  {
    "text": "drawbacks to this um with this uh growing list of features and the",
    "start": "189080",
    "end": "194280"
  },
  {
    "text": "numerous ways of configuring them uh we've heard a lot of complaints about um it Doo's operational complexity uh",
    "start": "194280",
    "end": "200680"
  },
  {
    "text": "despite some very important and um ongoing efforts in the community to simplify its do um and part of the",
    "start": "200680",
    "end": "208319"
  },
  {
    "text": "reason for this is while the broad array of features um",
    "start": "208319",
    "end": "213680"
  },
  {
    "text": "makes it appealing to uh a broad array of users um each user just typically",
    "start": "213680",
    "end": "220280"
  },
  {
    "text": "needs a subset of itdo features not all of them um there's also a steep learning curve to become familiar with the itdo",
    "start": "220280",
    "end": "227120"
  },
  {
    "text": "apis um with complexity comes the possibility of misconfiguration and",
    "start": "227120",
    "end": "233079"
  },
  {
    "text": "policy mismatches which can break traffic or uh lead to workloads in our",
    "start": "233079",
    "end": "238959"
  },
  {
    "text": "mesh being vulnerable able to attacks and previously I mentioned being able to",
    "start": "238959",
    "end": "244720"
  },
  {
    "text": "configure fields at a mesh wide or Nam space or workload level um but maybe",
    "start": "244720",
    "end": "250920"
  },
  {
    "text": "there are cases where a platform engineer doesn't want this um they want certain mesh wide constraints and they",
    "start": "250920",
    "end": "256720"
  },
  {
    "text": "don't want those constraints to be circumvented um at a lower level and",
    "start": "256720",
    "end": "262240"
  },
  {
    "text": "because of disagreements like this we could end up with bottlenecks between fform engineers and the service owners",
    "start": "262240",
    "end": "271000"
  },
  {
    "text": "so the solution to this is to feature gate our IO environment so uh typically",
    "start": "271000",
    "end": "276960"
  },
  {
    "text": "when we talk about feature Gates and kubernetes um they're used to refer to key value pairs that we could use to uh",
    "start": "276960",
    "end": "283800"
  },
  {
    "text": "turn specific features on or off um Ito does offer something similar with pilot",
    "start": "283800",
    "end": "289520"
  },
  {
    "text": "environment variables or um other installation settings um however as per",
    "start": "289520",
    "end": "295680"
  },
  {
    "text": "the itdo maintainers uh this isn't necessarily uh the recommended route for enabling or disabling features in itdo",
    "start": "295680",
    "end": "303440"
  },
  {
    "text": "um though I believe there is some work to improve this long term also uh operators might want to",
    "start": "303440",
    "end": "309160"
  },
  {
    "text": "look Beyond toggling features per se and add additional guard rails say related to custom resources or specific uh",
    "start": "309160",
    "end": "316960"
  },
  {
    "text": "configuration options or having external policy enforcement mechanisms um so yeah",
    "start": "316960",
    "end": "323240"
  },
  {
    "text": "just to clarify when I'm using uh the phrase feature Gates or feature gating",
    "start": "323240",
    "end": "328319"
  },
  {
    "text": "uh for the rest of the presentation um I'm not just talking about enabling and disabling features per se but uh",
    "start": "328319",
    "end": "335639"
  },
  {
    "text": "also establishing boundaries on uh configuration options and custom resources as",
    "start": "335639",
    "end": "342759"
  },
  {
    "text": "well so uh feature Gates uh often talked about in terms of uh say cloud providers",
    "start": "343000",
    "end": "348600"
  },
  {
    "text": "offering manage itdo who uh establish guard rails in the mesh beforehand for",
    "start": "348600",
    "end": "354360"
  },
  {
    "text": "their users but uh this isn't always necessarily the case right um we could have a mesh administrator using Open",
    "start": "354360",
    "end": "361319"
  },
  {
    "text": "Source itdo Who uh wants to establish their own guard rails um for instance to",
    "start": "361319",
    "end": "367960"
  },
  {
    "text": "limit operational complexity um enforcing administrative control uh",
    "start": "367960",
    "end": "373560"
  },
  {
    "text": "preventing uh some common misconfigurations and policy mismatches that could uh compromise the mesh and",
    "start": "373560",
    "end": "381639"
  },
  {
    "text": "also uh they might want to ensure that certain best practices regarding security or observability or a resource",
    "start": "381639",
    "end": "388960"
  },
  {
    "text": "consumption are being adhered to so we have several items in our",
    "start": "388960",
    "end": "395120"
  },
  {
    "text": "toolkit as to how to go about establishing these guard rails in our mesh environment um we could use",
    "start": "395120",
    "end": "401039"
  },
  {
    "text": "kubernetes admission controllers or even take a uh shift left approach and do",
    "start": "401039",
    "end": "406280"
  },
  {
    "text": "some of these validations at a CI level um we have ro-based access control to",
    "start": "406280",
    "end": "411520"
  },
  {
    "text": "restrict capabilities to Cluster admins uh we could use gitops tools to prevent",
    "start": "411520",
    "end": "416759"
  },
  {
    "text": "configuration drift and enforce configurations specifications for our mesh through uh something called",
    "start": "416759",
    "end": "423400"
  },
  {
    "text": "configuration as code and um we could also develop API abstraction layers on",
    "start": "423400",
    "end": "429800"
  },
  {
    "text": "top of itdo custom resources uh to selectively expose certain fields in the",
    "start": "429800",
    "end": "435280"
  },
  {
    "text": "itdo apis to the developers so uh let's start off talking",
    "start": "435280",
    "end": "442319"
  },
  {
    "text": "about how we could accomplish this through admission controllers so um just a brief overview of how this works in",
    "start": "442319",
    "end": "448080"
  },
  {
    "text": "kubernetes uh when you publish a manifest to the API server um it'll be subjected to certain mutations and",
    "start": "448080",
    "end": "455360"
  },
  {
    "text": "validations uh before being uh persisted to atcd so the idea here is to add",
    "start": "455360",
    "end": "461080"
  },
  {
    "text": "validations for its do custom resources um so IO does offer its own",
    "start": "461080",
    "end": "468800"
  },
  {
    "text": "valid validating web hook server um but this mainly does some uh sort of broader",
    "start": "468800",
    "end": "474479"
  },
  {
    "text": "higher level validations to make sure that uh the custom resources are being L",
    "start": "474479",
    "end": "479759"
  },
  {
    "text": "defined correctly and there are not any um blatant misconfigurations and I've provided an",
    "start": "479759",
    "end": "486039"
  },
  {
    "text": "example in the slide here of what the configuration for the validating webook looks",
    "start": "486039",
    "end": "491879"
  },
  {
    "text": "like but uh we might need to add some additional validations on top of these",
    "start": "491879",
    "end": "497400"
  },
  {
    "text": "um so adding some other verifications for custom resources uh perhaps even blocking some custom resources altoe um",
    "start": "497400",
    "end": "505520"
  },
  {
    "text": "there may be some situations that require validating the mesh config or the Global proxy config um there are",
    "start": "505520",
    "end": "512479"
  },
  {
    "text": "some cases where resources through annotations uh can bypass desired mesh",
    "start": "512479",
    "end": "517959"
  },
  {
    "text": "wide constraints or even circumvent sidecar injection so we want to validate those manifests as well and uh there are",
    "start": "517959",
    "end": "525839"
  },
  {
    "text": "some broader uh best practices we should Implement uh with respect to pod privileges and resource quotas to uh",
    "start": "525839",
    "end": "533200"
  },
  {
    "text": "safegard the overall security and behavior of the system",
    "start": "533200",
    "end": "540000"
  },
  {
    "text": "uh so as an example of a custom resource that uh might require validation um here's the peer authentication uh",
    "start": "540519",
    "end": "547600"
  },
  {
    "text": "resource so here I have a peer authentication resource uh that sets a",
    "start": "547600",
    "end": "553440"
  },
  {
    "text": "global mtls to strict um by applying this in the root name space um and",
    "start": "553440",
    "end": "560279"
  },
  {
    "text": "usually operators would do this after having uh migrated all of their workloads to the mesh to ensure that no",
    "start": "560279",
    "end": "567800"
  },
  {
    "text": "pods are uh accepting PL Tex traffic anymore um however it's possible to",
    "start": "567800",
    "end": "575360"
  },
  {
    "text": "bypass this Global enforcement of mtls if you look at this policy precedent statement here um if we create a peer",
    "start": "575360",
    "end": "582040"
  },
  {
    "text": "authentication at a workload specific level um that would take precedence over",
    "start": "582040",
    "end": "587240"
  },
  {
    "text": "a namespace scope peer authentication policy which in turn would take precedence over the global peer",
    "start": "587240",
    "end": "592880"
  },
  {
    "text": "authentication policy so um an administrator could enforce through admission control that uh no peer",
    "start": "592880",
    "end": "599560"
  },
  {
    "text": "authentication resource can bypass this Global mtls by changing the mtls mode to",
    "start": "599560",
    "end": "607279"
  },
  {
    "text": "permissive uh relatedly um another validation we could add is for the destination rule so destination rules uh",
    "start": "607279",
    "end": "614440"
  },
  {
    "text": "control whether the traffic emitted by the proxy is plain text or encrypted so",
    "start": "614440",
    "end": "621279"
  },
  {
    "text": "a validation we could add here um is to ensure that destination rules don't uh",
    "start": "621279",
    "end": "627120"
  },
  {
    "text": "override the default Auto TLS setting by disabling mtls or setting the TLs mode",
    "start": "627120",
    "end": "633480"
  },
  {
    "text": "to simple it's also good practice to",
    "start": "633480",
    "end": "638680"
  },
  {
    "text": "enforce the existence of a deny by default authorization policy such as this one in uh the root name space so uh",
    "start": "638680",
    "end": "647360"
  },
  {
    "text": "this way the service owners and or the mesh operators uh would need to apply",
    "start": "647360",
    "end": "653600"
  },
  {
    "text": "authorization policies uh individually to enable workload to workload communication in the mesh",
    "start": "653600",
    "end": "661240"
  },
  {
    "text": "uh so besides custom resources um another thing to potentially validate is the itdo mesh config um so because the",
    "start": "662320",
    "end": "669880"
  },
  {
    "text": "mesh config typically controls uh the mesh wide settings uh it would typically be handled by the platform Engineers or",
    "start": "669880",
    "end": "677200"
  },
  {
    "text": "the cluster administrators but in any case it might still be worth uh restricting the configurability of the",
    "start": "677200",
    "end": "683959"
  },
  {
    "text": "mesh config uh say if operators wanted to establish some guard rails among",
    "start": "683959",
    "end": "689000"
  },
  {
    "text": "themselves or set upper or lower limits on some specific Fields um in some cases the",
    "start": "689000",
    "end": "696839"
  },
  {
    "text": "mesh experts or administrators might need to open up a subset of certain mesh config fields to uh developers or",
    "start": "696839",
    "end": "704040"
  },
  {
    "text": "certain development teams another thing to consider for the mesh config is that certain mesh wide",
    "start": "704040",
    "end": "710920"
  },
  {
    "text": "settings that we enforce could potentially be circumvented through custom resources or annotations and",
    "start": "710920",
    "end": "717120"
  },
  {
    "text": "labels uh so let's say for instance we have an organization and uh one of their",
    "start": "717120",
    "end": "723959"
  },
  {
    "text": "requirements is that um all traffic is logged with Envoy access logging and forwarded to a log analytics workspace",
    "start": "723959",
    "end": "731680"
  },
  {
    "text": "so uh one way of configuring this mesh wide is through the access log file field in the mesh config um but as you",
    "start": "731680",
    "end": "740320"
  },
  {
    "text": "could see in this example here I have a Telemetry API resource that uh specifically disables access logging uh",
    "start": "740320",
    "end": "747920"
  },
  {
    "text": "in the fu namespace so mesh admin in this case uh would want to prevent developers from being able to uh",
    "start": "747920",
    "end": "754920"
  },
  {
    "text": "circumvent the desired behavior in this manner uh so one great solution for",
    "start": "754920",
    "end": "762160"
  },
  {
    "text": "defining these policies is gatekeeper which is a kubernetes admission controller that uh enforces policies",
    "start": "762160",
    "end": "768560"
  },
  {
    "text": "through the open policy agent um you could write these policies in a programming language called Rego and the",
    "start": "768560",
    "end": "776160"
  },
  {
    "text": "um examples I've linked here provide uh some real world examples of um how the",
    "start": "776160",
    "end": "782800"
  },
  {
    "text": "io custom resource policies could be defined in Rego for",
    "start": "782800",
    "end": "788800"
  },
  {
    "text": "gatekeeper also just wanted to make a quick note here that um in addition to doing this through admission control uh",
    "start": "789560",
    "end": "795680"
  },
  {
    "text": "you could take a shift left approach and uh do these validations at a CI level so",
    "start": "795680",
    "end": "802120"
  },
  {
    "text": "um you have your CI lters that validate the itdo manifests um before being",
    "start": "802120",
    "end": "807399"
  },
  {
    "text": "pushed to production and you have your uh admission controllers uh you're",
    "start": "807399",
    "end": "812600"
  },
  {
    "text": "validating web hooks in kubernetes as kind of a a last line of",
    "start": "812600",
    "end": "818279"
  },
  {
    "text": "defense so another great tool we could leverage to feature gate and set guard rails uh for our environment is uh",
    "start": "818399",
    "end": "825360"
  },
  {
    "text": "kubernetes role-based access control um so it's good practice to restrict uh",
    "start": "825360",
    "end": "830920"
  },
  {
    "text": "management of the control plane and um Ingress and egress name spaces to",
    "start": "830920",
    "end": "835959"
  },
  {
    "text": "Cluster administrators um should also probably limit uh management of uh",
    "start": "835959",
    "end": "842519"
  },
  {
    "text": "specific potentially sensitive custom resources like authorization policies",
    "start": "842519",
    "end": "847720"
  },
  {
    "text": "peer authentications and so on to mesh admins and specific service",
    "start": "847720",
    "end": "854720"
  },
  {
    "text": "accounts uh so another way of feature getting our mesh and enforcing desired mesh configurations is through gitops so",
    "start": "855920",
    "end": "864240"
  },
  {
    "text": "uh giops has become an increasingly popular route for managing infrastructure on platforms like",
    "start": "864240",
    "end": "870079"
  },
  {
    "text": "kubernetes and a lot of hdto users uh now leverage Frameworks like flux and",
    "start": "870079",
    "end": "876480"
  },
  {
    "text": "Flagger to uh streamline the process of safely deploying and upgrading itdo but",
    "start": "876480",
    "end": "883279"
  },
  {
    "text": "uh we could also Define the configuration of our mesh and mesh policies declaratively as well um",
    "start": "883279",
    "end": "889560"
  },
  {
    "text": "through a configuration as code approach so one major benefit of this is",
    "start": "889560",
    "end": "894720"
  },
  {
    "text": "that it prevents configuration drift um even with a strong mission control and",
    "start": "894720",
    "end": "900000"
  },
  {
    "text": "rback mechanisms in place um it's not uh feasible to prevent all untracked",
    "start": "900000",
    "end": "906480"
  },
  {
    "text": "changes to our environment right um but with giops we have a controller um that",
    "start": "906480",
    "end": "914120"
  },
  {
    "text": "continuously watches our infrastructure and ensures through reconciliation that",
    "start": "914120",
    "end": "919240"
  },
  {
    "text": "it matches the desired state that we have defined in",
    "start": "919240",
    "end": "924519"
  },
  {
    "text": "git uh so for itdo U we could use giops tools to remediate changes to the DDO",
    "start": "924680",
    "end": "930959"
  },
  {
    "text": "installation settings and the kubernetes resources um we could potentially reconcile changes to the mesh config and",
    "start": "930959",
    "end": "938000"
  },
  {
    "text": "the global proxy config values that the system administrators have defined upon",
    "start": "938000",
    "end": "943360"
  },
  {
    "text": "installation um we could extend these to HDO custom resources as well and uh we",
    "start": "943360",
    "end": "948959"
  },
  {
    "text": "could reinforce that the aformentioned uh admission control policies and our a",
    "start": "948959",
    "end": "954880"
  },
  {
    "text": "role-based access control that we have defined as guard rails uh still exist and um match the expected",
    "start": "954880",
    "end": "963519"
  },
  {
    "text": "configuration so to take this example with DDO and a flux Helm release um in",
    "start": "963519",
    "end": "968880"
  },
  {
    "text": "my Helm release uh I've defined the configuration for itd uh the installation values and the kuet",
    "start": "968880",
    "end": "975360"
  },
  {
    "text": "settings um like Auto scale and memory but um I've also set some meshwi",
    "start": "975360",
    "end": "980480"
  },
  {
    "text": "configurations and the mesh config field here as well that I want its DOD to have",
    "start": "980480",
    "end": "985720"
  },
  {
    "text": "upon installation uh so when flux creates the the helm release for it DOD um it'll pull the itdd helm chart from a",
    "start": "985720",
    "end": "992839"
  },
  {
    "text": "Helm repository that I have defined elsewhere and it will pass in these values and install its do withd",
    "start": "992839",
    "end": "1000720"
  },
  {
    "text": "settings uh in terms of using uh flux to continuously uh reconcile changes to",
    "start": "1002880",
    "end": "1008880"
  },
  {
    "text": "helm resources uh Native drift detection in flux is um experimental for Helm and",
    "start": "1008880",
    "end": "1016199"
  },
  {
    "text": "and thus not suited for production yet but uh we could still potentially triggle trigger flux reconciliations",
    "start": "1016199",
    "end": "1022959"
  },
  {
    "text": "manually through an external mechanism like a Cron job for instance um so with this in place any undesired changes to",
    "start": "1022959",
    "end": "1030199"
  },
  {
    "text": "the itdo deployments or resources or uh to the default mesh config settings uh",
    "start": "1030199",
    "end": "1036038"
  },
  {
    "text": "would be reverted back to the initial declared State um and configuration that",
    "start": "1036039",
    "end": "1041240"
  },
  {
    "text": "we have defined in the helm release and thus with this we have eliminated the",
    "start": "1041240",
    "end": "1046839"
  },
  {
    "text": "possibility of configuration drift for these specific",
    "start": "1046839",
    "end": "1052360"
  },
  {
    "text": "specifications so the final technique that I wanted to discuss here is to create abstractions over its Doo apis um",
    "start": "1052919",
    "end": "1060360"
  },
  {
    "text": "this is already something that's being widely Incorporated by uh companies like Salesforce Airbnb and Splunk just to",
    "start": "1060360",
    "end": "1068080"
  },
  {
    "text": "name a few um so with these abstractions uh the developers and service owners um",
    "start": "1068080",
    "end": "1074600"
  },
  {
    "text": "they don't need to worry about learning its docrs um instead they work with some higher level uh apis and there would be",
    "start": "1074600",
    "end": "1082720"
  },
  {
    "text": "some CI tooling or automated process in place that would convert these to its",
    "start": "1082720",
    "end": "1088880"
  },
  {
    "text": "dods so in terms of how this relates to feature gating um if you think about it",
    "start": "1088880",
    "end": "1094480"
  },
  {
    "text": "you are effectively hiding uh much of the ddio API uh from the service owners",
    "start": "1094480",
    "end": "1100559"
  },
  {
    "text": "and operators are being selective in choosing um which particular fields in",
    "start": "1100559",
    "end": "1106000"
  },
  {
    "text": "the apis to expose to the developers and um these fields would have been decided",
    "start": "1106000",
    "end": "1112240"
  },
  {
    "text": "to be necessary or safe to configure so um if you take this example of what",
    "start": "1112240",
    "end": "1118080"
  },
  {
    "text": "Salesforce implements um we see on the right we sort of uh we have this authorization policy configuration um",
    "start": "1118080",
    "end": "1124960"
  },
  {
    "text": "but this is actually being deployed as part of a Helm chart so uh the service owners just uh focus on what you see",
    "start": "1124960",
    "end": "1131360"
  },
  {
    "text": "here on the left which is a values. yaml with a selected a set of configuration",
    "start": "1131360",
    "end": "1138000"
  },
  {
    "text": "options for them to",
    "start": "1138000",
    "end": "1141520"
  },
  {
    "text": "configure so now that we've seen some ways of feature gating our itdo environment um let's discuss some",
    "start": "1145120",
    "end": "1151960"
  },
  {
    "text": "criteria for deciding uh which features to whitelist or which configuration options to allow or exposed uh to the",
    "start": "1151960",
    "end": "1159679"
  },
  {
    "text": "developers or service owners so some of the factors worth considering is operational complexity um also what is",
    "start": "1159679",
    "end": "1167480"
  },
  {
    "text": "the status of the feature is it um suitable for for production uh what are the implications on security uh what",
    "start": "1167480",
    "end": "1175120"
  },
  {
    "text": "impact does it feature have on resource consumption or the overall performance of our system and is this feature or",
    "start": "1175120",
    "end": "1181960"
  },
  {
    "text": "resource necessary for your specific organizational requirements and use",
    "start": "1181960",
    "end": "1187960"
  },
  {
    "text": "cases so with respect to operational complexity um there's several worthwhile",
    "start": "1187960",
    "end": "1193600"
  },
  {
    "text": "considerations um how easy is said feature to understand and configure uh",
    "start": "1193600",
    "end": "1198760"
  },
  {
    "text": "if uh we run into issues with it um can we expect adequate support uh from the",
    "start": "1198760",
    "end": "1204120"
  },
  {
    "text": "community is there enough familiarity with this feature in the community to get help with troubleshooting um is",
    "start": "1204120",
    "end": "1210919"
  },
  {
    "text": "there adequate documentation surrounding this feature on the itdo blogs or the doc site and um are there multiple ways",
    "start": "1210919",
    "end": "1218799"
  },
  {
    "text": "of enabling or configuring this feature um if so I would recommend just trying",
    "start": "1218799",
    "end": "1224240"
  },
  {
    "text": "to restrict this to one way it is always less confusing to have one ground source",
    "start": "1224240",
    "end": "1229799"
  },
  {
    "text": "of Truth as opposed to multiple so uh a good example of an ISO",
    "start": "1229799",
    "end": "1237240"
  },
  {
    "text": "feature that widely regarded as complex is the avvo filter so um this allows",
    "start": "1237240",
    "end": "1242880"
  },
  {
    "text": "users to configure uh to to customize the envoy config generated by its DOD uh",
    "start": "1242880",
    "end": "1249080"
  },
  {
    "text": "Say by modifying specific fields or adding filters um and because we are",
    "start": "1249080",
    "end": "1254240"
  },
  {
    "text": "directly modifying the onway config uh this could be very complex and dangerous",
    "start": "1254240",
    "end": "1259799"
  },
  {
    "text": "um if we misconfigure an Envoy filter we risk destabilizing and compromising the entire mesh um but that hasn't stopped",
    "start": "1259799",
    "end": "1268320"
  },
  {
    "text": "the envoy filter from being widely used um here are some of the popular use cases uh for instance performing a local",
    "start": "1268320",
    "end": "1275840"
  },
  {
    "text": "rate limiting or running leis scripts so uh the solution here for",
    "start": "1275840",
    "end": "1283120"
  },
  {
    "text": "instance might be to allow Envoy filters but in a more limited capacity so uh if",
    "start": "1283120",
    "end": "1289039"
  },
  {
    "text": "you need onway filters for local rate limiting but not any of the other potential use cases um you could have a",
    "start": "1289039",
    "end": "1296360"
  },
  {
    "text": "more A fine grain validation uh of enway filters in your admission control um say",
    "start": "1296360",
    "end": "1301919"
  },
  {
    "text": "for instance looking for um specific filters in the configuration and",
    "start": "1301919",
    "end": "1308039"
  },
  {
    "text": "blocking what you don't need and it's also a good practice to restrict privileges of resources like Envoy",
    "start": "1308039",
    "end": "1314799"
  },
  {
    "text": "filters to Cluster administrators or mesh experts",
    "start": "1314799",
    "end": "1320520"
  },
  {
    "text": "another important factor to consider uh when we're restricting features is the status of the feature um so HDO",
    "start": "1321240",
    "end": "1328120"
  },
  {
    "text": "designates features as experimental Alpha Beta or stable and organizations",
    "start": "1328120",
    "end": "1335039"
  },
  {
    "text": "often have requirements that in their production environments uh they could only use beta or stable",
    "start": "1335039",
    "end": "1341000"
  },
  {
    "text": "features so uh one specific resource where this could be relevant is the Telemetry API um despite the a various",
    "start": "1341000",
    "end": "1349080"
  },
  {
    "text": "observability options and configurations opened up by the Telemetry API uh it is",
    "start": "1349080",
    "end": "1354919"
  },
  {
    "text": "still in an alpha status so uh this is an example of where we might prefer a",
    "start": "1354919",
    "end": "1360400"
  },
  {
    "text": "more uh tested route of configuring tet Tre through the mesh config or the",
    "start": "1360400",
    "end": "1365520"
  },
  {
    "text": "global proxy config uh we also want to take into",
    "start": "1365520",
    "end": "1371360"
  },
  {
    "text": "account the potential risks of said feature uh in terms of the security of the mesh so obviously um a reason why",
    "start": "1371360",
    "end": "1379120"
  },
  {
    "text": "people use DDO in the first place is for the security benefits like mtls and",
    "start": "1379120",
    "end": "1384600"
  },
  {
    "text": "creating a zero trust framework and uh because security is so important it",
    "start": "1384600",
    "end": "1389919"
  },
  {
    "text": "might be worth restricting the management of the custom resources that govern security to uh the mesh admins or",
    "start": "1389919",
    "end": "1398000"
  },
  {
    "text": "only expose a selected subset of these apis to developers right um we've seen a",
    "start": "1398000",
    "end": "1404039"
  },
  {
    "text": "lot of cases where we could have a misconfiguration or a policy mismatch like the conflicting peer",
    "start": "1404039",
    "end": "1409799"
  },
  {
    "text": "authentications that I was mentioning before um there are often mismatches between gateways and destination rules",
    "start": "1409799",
    "end": "1416679"
  },
  {
    "text": "and virtual services that lead to Common uh TLS configuration mistakes like um",
    "start": "1416679",
    "end": "1422120"
  },
  {
    "text": "double encryption or sometimes even uh no encryption at all um so if you take",
    "start": "1422120",
    "end": "1428000"
  },
  {
    "text": "this example I have here uh I have an authorization policy that is overly",
    "start": "1428000",
    "end": "1433640"
  },
  {
    "text": "permissive due to a misconfiguration um it is just a simple",
    "start": "1433640",
    "end": "1438880"
  },
  {
    "text": "extra Dash in front of the from statement so um situations like these",
    "start": "1438880",
    "end": "1443919"
  },
  {
    "text": "are a good case and point of uh why we should add some fine grain validations",
    "start": "1443919",
    "end": "1450000"
  },
  {
    "text": "over resources like authorization policy or perhaps restrict their management uh",
    "start": "1450000",
    "end": "1455400"
  },
  {
    "text": "Al together to the mesh experts and the cluster",
    "start": "1455400",
    "end": "1460520"
  },
  {
    "text": "admins uh considering the impact on resource consumption and the overall system performance is also important in",
    "start": "1461279",
    "end": "1468679"
  },
  {
    "text": "this example uh I have a sidecar resource that limits the scope of the onway config to only other workloads in",
    "start": "1468679",
    "end": "1476520"
  },
  {
    "text": "the uh same namespace and we have this uh deployed in the itso system namespace",
    "start": "1476520",
    "end": "1483559"
  },
  {
    "text": "to apply to all of our workloads in the mesh and this has been shown to significantly mitigate the memory",
    "start": "1483559",
    "end": "1488600"
  },
  {
    "text": "consumption of envoy um so one validation we could add here is uh",
    "start": "1488600",
    "end": "1493679"
  },
  {
    "text": "enforcing the existence of such a side car in the root name space and and ensuring that it's not bypassed on a per",
    "start": "1493679",
    "end": "1501200"
  },
  {
    "text": "workload or a per namespace basis and we also want to ensure for instance that",
    "start": "1501200",
    "end": "1507360"
  },
  {
    "text": "resources can't bypass the designated proxy CPU and memory limits the mesh",
    "start": "1507360",
    "end": "1513880"
  },
  {
    "text": "admin uh has configured upon installation and um this could be done",
    "start": "1513880",
    "end": "1519760"
  },
  {
    "text": "uh for instance with uh the sidecar annotations like proxy CPU and proxy",
    "start": "1519760",
    "end": "1525919"
  },
  {
    "text": "memory so we need to watch out for annotations like these in our resource",
    "start": "1525919",
    "end": "1531480"
  },
  {
    "text": "manifests and uh potentially block them if",
    "start": "1531480",
    "end": "1536399"
  },
  {
    "text": "needed uh another feature we might need to watch out for in terms of resource consumption is the wasm plug-in resource",
    "start": "1537000",
    "end": "1543760"
  },
  {
    "text": "or generating wasm based Telemetry through its do um because the wasm",
    "start": "1543760",
    "end": "1548960"
  },
  {
    "text": "binary executes in a VM spun up in each worker thread uh this has been shown to",
    "start": "1548960",
    "end": "1554120"
  },
  {
    "text": "significantly increase Envoy memory consumption in several cases",
    "start": "1554120",
    "end": "1559240"
  },
  {
    "text": "um it's also worth noting that the wasm plugin is Alpha and a wasm based",
    "start": "1559240",
    "end": "1564520"
  },
  {
    "text": "Telemetry in its Doo is experimental um so it might be safer to disallow both in",
    "start": "1564520",
    "end": "1570520"
  },
  {
    "text": "production environments in any case but um still both of these are very popular",
    "start": "1570520",
    "end": "1577279"
  },
  {
    "text": "so some use cases might deem it necessary to use them uh finally when establishing what",
    "start": "1577279",
    "end": "1585240"
  },
  {
    "text": "features to include in your environment it's obviously very important to consider uh your specific organizational",
    "start": "1585240",
    "end": "1592399"
  },
  {
    "text": "needs and requirements and use cases and to consider for example uh well why did",
    "start": "1592399",
    "end": "1598679"
  },
  {
    "text": "you adopt itdo in the first place and what is the minimum set of features and configurations to accomplish those",
    "start": "1598679",
    "end": "1605240"
  },
  {
    "text": "specific aims so I would recommend starting small maybe with some kind of deny by default policy with your",
    "start": "1605240",
    "end": "1612240"
  },
  {
    "text": "admission controller um and then as you build confidence as your use cases",
    "start": "1612240",
    "end": "1617399"
  },
  {
    "text": "become more complex um you could Whit list some additional features and apis and",
    "start": "1617399",
    "end": "1623320"
  },
  {
    "text": "configurations um so uh for instance if you're establishing validations around",
    "start": "1623320",
    "end": "1629440"
  },
  {
    "text": "uh virtual services or destination roles or creating an API abstraction layer on",
    "start": "1629440",
    "end": "1636320"
  },
  {
    "text": "top of them um maybe start out with just exposing the bare minimum to get traffic",
    "start": "1636320",
    "end": "1641360"
  },
  {
    "text": "working in the first place and uh once you get that working um as you gain",
    "start": "1641360",
    "end": "1646840"
  },
  {
    "text": "additional familiarity with uh you could start whitelisting more features and exposing more fields in",
    "start": "1646840",
    "end": "1653159"
  },
  {
    "text": "those apis so just to a quick recap of what",
    "start": "1653159",
    "end": "1658559"
  },
  {
    "text": "we've covered um we've talked about uh some several tools we could use for feature gating uh and limiting iso's",
    "start": "1658559",
    "end": "1665120"
  },
  {
    "text": "configurability and uh why we might want to do so um we've discussed some criteria to help",
    "start": "1665120",
    "end": "1671919"
  },
  {
    "text": "you assess what features and settings to be allowed in your environment and",
    "start": "1671919",
    "end": "1678200"
  },
  {
    "text": "viously one important takeaway from all this is that uh we haven't completely eliminated the need to do our homework",
    "start": "1678200",
    "end": "1684799"
  },
  {
    "text": "uh to navigate HDO safely right so uh platform Engineers uh still need to uh",
    "start": "1684799",
    "end": "1690919"
  },
  {
    "text": "take the effort to understand these features these apis their configurations",
    "start": "1690919",
    "end": "1696320"
  },
  {
    "text": "and uh evaluate them against the criteria that I was mentioning um and then deciding at the end of the day what",
    "start": "1696320",
    "end": "1702159"
  },
  {
    "text": "their allow list or exposed value sets would look like uh however I would argue that the",
    "start": "1702159",
    "end": "1709519"
  },
  {
    "text": "benefits of going through this process and really putting thought into it certainly outweighs the costs um at the",
    "start": "1709519",
    "end": "1716399"
  },
  {
    "text": "end of the day uh you end up with an untangled and decluttered mesh environment that is uh more secure and",
    "start": "1716399",
    "end": "1723840"
  },
  {
    "text": "much more manageable to navigate um and because of this uh we have improved",
    "start": "1723840",
    "end": "1729519"
  },
  {
    "text": "Harmony between the platform engineers and developers uh which is one of the reasons we chose to use DDO in the first",
    "start": "1729519",
    "end": "1736120"
  },
  {
    "text": "place um because now we have a declarative framework and strong policy",
    "start": "1736120",
    "end": "1741360"
  },
  {
    "text": "mechanisms in place for uh enforcing the desired behavior of our mesh so uh",
    "start": "1741360",
    "end": "1746799"
  },
  {
    "text": "platform Engineers can worry less about uh service owners potentially",
    "start": "1746799",
    "end": "1753760"
  },
  {
    "text": "misconfigured features or annotations and uh developers can prioritize the",
    "start": "1754480",
    "end": "1760120"
  },
  {
    "text": "business logic of their apps instead of dealing with convoluted apis and I would argue that the biggest",
    "start": "1760120",
    "end": "1766799"
  },
  {
    "text": "benefit is that when you take this initiative yourself um you could uh",
    "start": "1766799",
    "end": "1772720"
  },
  {
    "text": "design these constraints uh specifically based on your needs and use",
    "start": "1772720",
    "end": "1779039"
  },
  {
    "text": "cases uh finally I just wanted to touch on some relevant developments in the io community that will affect the process",
    "start": "1779240",
    "end": "1785840"
  },
  {
    "text": "of enabling and configuring itdo features uh down the road so uh the one I really wanted to highlight here is the",
    "start": "1785840",
    "end": "1793120"
  },
  {
    "text": "ongoing discussion in the iso Community for improving the feature graduation process",
    "start": "1793120",
    "end": "1798640"
  },
  {
    "text": "so uh currently there are a lot of features lingering in Alpha but recently",
    "start": "1798640",
    "end": "1805159"
  },
  {
    "text": "uh there's been more effort to expedite the testing and enhancement process to uh graduate features to a beta or stable",
    "start": "1805159",
    "end": "1812760"
  },
  {
    "text": "status um so for instance uh there is a proposal in uh currently for the work",
    "start": "1812760",
    "end": "1819279"
  },
  {
    "text": "involved to uh speed up Telemetry API to Beta so um as the itdo community gets",
    "start": "1819279",
    "end": "1826600"
  },
  {
    "text": "more features from experimental or Alpha to Beta or stable um you could start",
    "start": "1826600",
    "end": "1832440"
  },
  {
    "text": "incorporating these in your production environments with more confidence and expect to get uh more support for these",
    "start": "1832440",
    "end": "1839039"
  },
  {
    "text": "features from the community and um in general I also just wanted to highlight that uh there does",
    "start": "1839039",
    "end": "1845919"
  },
  {
    "text": "seem to be uh a preference in the community for a limit limiting configurability to uh one source of",
    "start": "1845919",
    "end": "1853000"
  },
  {
    "text": "Truth so uh this would involve for instance moving some configurations from mesh config and complicated custom",
    "start": "1853000",
    "end": "1860480"
  },
  {
    "text": "resources like Envoy filter to separate dedicated first class apis and uh this",
    "start": "1860480",
    "end": "1867600"
  },
  {
    "text": "will make the process of configuring and navigating IO much much more manageable",
    "start": "1867600",
    "end": "1873399"
  },
  {
    "text": "uh in the long run so uh that is it for this",
    "start": "1873399",
    "end": "1878840"
  },
  {
    "text": "presentation um I hope you found this valuable and and can take something away from it uh please feel free to reach out",
    "start": "1878840",
    "end": "1885440"
  },
  {
    "text": "and connect on LinkedIn um I'd be happy to answer any other questions or",
    "start": "1885440",
    "end": "1890840"
  },
  {
    "text": "continue this discussion if you have any additional inputs so yeah um thank you",
    "start": "1890840",
    "end": "1896840"
  },
  {
    "text": "so much for attending once again and please enjoy the rest of it dioon",
    "start": "1896840",
    "end": "1902799"
  }
]