[
  {
    "text": "hello everyone thank you for coming to",
    "start": "179",
    "end": "2550"
  },
  {
    "text": "the session I'll try to make it fun",
    "start": "2550",
    "end": "4830"
  },
  {
    "text": "we're going to extend kubernetes by",
    "start": "4830",
    "end": "7049"
  },
  {
    "text": "writing a custom resource and a custom",
    "start": "7049",
    "end": "9120"
  },
  {
    "text": "controller for it and a little bit about",
    "start": "9120",
    "end": "11429"
  },
  {
    "text": "myself",
    "start": "11429",
    "end": "12150"
  },
  {
    "text": "I'm originally from Eastern Europe",
    "start": "12150",
    "end": "13679"
  },
  {
    "text": "Belarus so I speak Russian ten years ago",
    "start": "13679",
    "end": "16500"
  },
  {
    "text": "I moved to United States and now I work",
    "start": "16500",
    "end": "18720"
  },
  {
    "text": "as a software engineer rancha labs we",
    "start": "18720",
    "end": "22500"
  },
  {
    "text": "work on the open source project that",
    "start": "22500",
    "end": "24449"
  },
  {
    "text": "extends kubernetes so we write a bunch",
    "start": "24449",
    "end": "27060"
  },
  {
    "text": "of controllers and a bunch of custom",
    "start": "27060",
    "end": "28560"
  },
  {
    "text": "resources and I hope to share some",
    "start": "28560",
    "end": "30390"
  },
  {
    "text": "experience with you and I'm curious how",
    "start": "30390",
    "end": "32758"
  },
  {
    "text": "many of you actually do write custom",
    "start": "32759",
    "end": "34980"
  },
  {
    "text": "controllers for kubernetes all right and",
    "start": "34980",
    "end": "38219"
  },
  {
    "text": "how many of you are thinking about",
    "start": "38219",
    "end": "39480"
  },
  {
    "text": "writing custom controllers for darkness",
    "start": "39480",
    "end": "41250"
  },
  {
    "text": "all right I like it already",
    "start": "41250",
    "end": "43219"
  },
  {
    "text": "okay so when do you actually start",
    "start": "43219",
    "end": "46110"
  },
  {
    "text": "thinking about writing custom",
    "start": "46110",
    "end": "47370"
  },
  {
    "text": "controllers it's when you need some",
    "start": "47370",
    "end": "49079"
  },
  {
    "text": "specific functionality there is not a",
    "start": "49079",
    "end": "51210"
  },
  {
    "text": "part of core kubernetes and you see you",
    "start": "51210",
    "end": "53219"
  },
  {
    "text": "don't think it's generic enough to",
    "start": "53219",
    "end": "54930"
  },
  {
    "text": "become a part of it or you want to",
    "start": "54930",
    "end": "57840"
  },
  {
    "text": "maintain your future release lifestyle",
    "start": "57840",
    "end": "59520"
  },
  {
    "text": "for yourself that's where you go with a",
    "start": "59520",
    "end": "61710"
  },
  {
    "text": "custom resource and a custom controller",
    "start": "61710",
    "end": "63270"
  },
  {
    "text": "and yeah every custom controller or",
    "start": "63270",
    "end": "66510"
  },
  {
    "text": "custom feature implies a custom resource",
    "start": "66510",
    "end": "68729"
  },
  {
    "text": "that user can view modifying and",
    "start": "68729",
    "end": "71240"
  },
  {
    "text": "monitoring and the controller appraised",
    "start": "71240",
    "end": "74250"
  },
  {
    "text": "on the custom resource by monitoring the",
    "start": "74250",
    "end": "76049"
  },
  {
    "text": "resources and running the backend logic",
    "start": "76049",
    "end": "78119"
  },
  {
    "text": "for based on the resource definition and",
    "start": "78119",
    "end": "80670"
  },
  {
    "text": "updates the object state of the resource",
    "start": "80670",
    "end": "83460"
  },
  {
    "text": "and if you think about the kubernetes",
    "start": "83460",
    "end": "86220"
  },
  {
    "text": "ecosystem it consists of the custom",
    "start": "86220",
    "end": "88770"
  },
  {
    "text": "controllers like clogging a learning",
    "start": "88770",
    "end": "90810"
  },
  {
    "text": "monitoring everything is out there",
    "start": "90810",
    "end": "92520"
  },
  {
    "text": "there's not a part of kubernetes is a",
    "start": "92520",
    "end": "94350"
  },
  {
    "text": "custom controller now I would really",
    "start": "94350",
    "end": "98909"
  },
  {
    "text": "like to focus on the custom resource",
    "start": "98909",
    "end": "100979"
  },
  {
    "text": "during this presentation you hear a lot",
    "start": "100979",
    "end": "102990"
  },
  {
    "text": "about custom controllers and the best",
    "start": "102990",
    "end": "104640"
  },
  {
    "text": "practices but how do like how do you",
    "start": "104640",
    "end": "106799"
  },
  {
    "text": "actually build your customer source like",
    "start": "106799",
    "end": "108720"
  },
  {
    "text": "what are the best practices for that so",
    "start": "108720",
    "end": "110970"
  },
  {
    "text": "they're like the little intro to the",
    "start": "110970",
    "end": "113490"
  },
  {
    "text": "customer source to your user it",
    "start": "113490",
    "end": "115619"
  },
  {
    "text": "shouldn't matter from the client",
    "start": "115619",
    "end": "117420"
  },
  {
    "text": "perspective it shouldn't matter whether",
    "start": "117420",
    "end": "119070"
  },
  {
    "text": "the resource is the part of the",
    "start": "119070",
    "end": "120540"
  },
  {
    "text": "kubernetes core project or whether it's",
    "start": "120540",
    "end": "123810"
  },
  {
    "text": "a some external resource he wants to use",
    "start": "123810",
    "end": "126509"
  },
  {
    "text": "the cube CTL he wants to use the UI the",
    "start": "126509",
    "end": "128369"
  },
  {
    "text": "API and he wants to lease these",
    "start": "128369",
    "end": "130349"
  },
  {
    "text": "resources as he would least pause for",
    "start": "130349",
    "end": "132629"
  },
  {
    "text": "example",
    "start": "132629",
    "end": "133270"
  },
  {
    "text": "on this picture I gave an example of",
    "start": "133270",
    "end": "134860"
  },
  {
    "text": "logs and alerts we shall like certain",
    "start": "134860",
    "end": "136720"
  },
  {
    "text": "resources controlled by external",
    "start": "136720",
    "end": "138460"
  },
  {
    "text": "controllers and he can just user can",
    "start": "138460",
    "end": "140560"
  },
  {
    "text": "just say keeps it he'll get alert and he",
    "start": "140560",
    "end": "142720"
  },
  {
    "text": "would get the customer source back now",
    "start": "142720",
    "end": "146320"
  },
  {
    "text": "what actually makes a customer source",
    "start": "146320",
    "end": "148540"
  },
  {
    "text": "what are the best practices for that",
    "start": "148540",
    "end": "149980"
  },
  {
    "text": "I've listed some as some parts of the",
    "start": "149980",
    "end": "153550"
  },
  {
    "text": "customer source in this picture the",
    "start": "153550",
    "end": "155350"
  },
  {
    "text": "first one is the metadata and the green",
    "start": "155350",
    "end": "157420"
  },
  {
    "text": "parts on it is United standard felts",
    "start": "157420",
    "end": "160210"
  },
  {
    "text": "it's going to be like a name namespace",
    "start": "160210",
    "end": "162190"
  },
  {
    "text": "if your resources namespace is going to",
    "start": "162190",
    "end": "163930"
  },
  {
    "text": "be labels annotations finalizes object",
    "start": "163930",
    "end": "167380"
  },
  {
    "text": "references initializers if you use them",
    "start": "167380",
    "end": "170110"
  },
  {
    "text": "well we don't in our project but it's a",
    "start": "170110",
    "end": "172360"
  },
  {
    "text": "useful feature and then there is a spec",
    "start": "172360",
    "end": "174640"
  },
  {
    "text": "spec is a desired set of the resource",
    "start": "174640",
    "end": "176880"
  },
  {
    "text": "that's a definition that user creates",
    "start": "176880",
    "end": "180040"
  },
  {
    "text": "when he creates a custom resource and",
    "start": "180040",
    "end": "181930"
  },
  {
    "text": "then the steers is something that",
    "start": "181930",
    "end": "184000"
  },
  {
    "text": "controller generates based on the",
    "start": "184000",
    "end": "185770"
  },
  {
    "text": "backend logic and updates with a set of",
    "start": "185770",
    "end": "188440"
  },
  {
    "text": "custom fields and there's one Greenfield",
    "start": "188440",
    "end": "191140"
  },
  {
    "text": "that I listed on the on the diagram",
    "start": "191140",
    "end": "194290"
  },
  {
    "text": "which is called condition there's",
    "start": "194290",
    "end": "196270"
  },
  {
    "text": "actually an alternative to steer us in",
    "start": "196270",
    "end": "199000"
  },
  {
    "text": "kubernetes we're going to talk about it",
    "start": "199000",
    "end": "200470"
  },
  {
    "text": "more during the demo now as much as I",
    "start": "200470",
    "end": "204459"
  },
  {
    "text": "like slice I like live demos better and",
    "start": "204459",
    "end": "207010"
  },
  {
    "text": "I like looking at the coding idea better",
    "start": "207010",
    "end": "208840"
  },
  {
    "text": "so let's build something from scratch",
    "start": "208840",
    "end": "210990"
  },
  {
    "text": "let's build a kubernetes cluster",
    "start": "210990",
    "end": "212980"
  },
  {
    "text": "management tool which will allow user to",
    "start": "212980",
    "end": "215890"
  },
  {
    "text": "create kubernetes cluster view them",
    "start": "215890",
    "end": "218920"
  },
  {
    "text": "using the cube CTL and will also give",
    "start": "218920",
    "end": "221950"
  },
  {
    "text": "user and a chance to use the cube config",
    "start": "221950",
    "end": "225310"
  },
  {
    "text": "and to connect to this newly generated",
    "start": "225310",
    "end": "226570"
  },
  {
    "text": "clustering now what are we going to",
    "start": "226570",
    "end": "229900"
  },
  {
    "text": "showed you in the demo we're going to",
    "start": "229900",
    "end": "232090"
  },
  {
    "text": "show the client generation from scratch",
    "start": "232090",
    "end": "234480"
  },
  {
    "text": "then we're going to show how to handle",
    "start": "234480",
    "end": "236860"
  },
  {
    "text": "cluster delete update events how to",
    "start": "236860",
    "end": "239110"
  },
  {
    "text": "utilize the resource conditions to",
    "start": "239110",
    "end": "240880"
  },
  {
    "text": "reflect cluster state and how to use",
    "start": "240880",
    "end": "243670"
  },
  {
    "text": "finalizer to execute prefix and a little",
    "start": "243670",
    "end": "246430"
  },
  {
    "text": "disclaimer at Rancher we actually build",
    "start": "246430",
    "end": "248290"
  },
  {
    "text": "a framework to create the boiler place",
    "start": "248290",
    "end": "250810"
  },
  {
    "text": "for all of that but for this",
    "start": "250810",
    "end": "252370"
  },
  {
    "text": "presentation I was like no I'm not gonna",
    "start": "252370",
    "end": "254050"
  },
  {
    "text": "use the framework I'm just going to use",
    "start": "254050",
    "end": "255459"
  },
  {
    "text": "whatever that regular user would use the",
    "start": "255459",
    "end": "258100"
  },
  {
    "text": "user who would first thinking about you",
    "start": "258100",
    "end": "259840"
  },
  {
    "text": "know writing the controller for customer",
    "start": "259840",
    "end": "262540"
  },
  {
    "text": "source so and here the tool that I'm",
    "start": "262540",
    "end": "265479"
  },
  {
    "text": "going to use",
    "start": "265479",
    "end": "266680"
  },
  {
    "text": "the Cuban a disco generation tool which",
    "start": "266680",
    "end": "269199"
  },
  {
    "text": "is a kubernetes tool for generating the",
    "start": "269199",
    "end": "271180"
  },
  {
    "text": "controller's Lister's informers for the",
    "start": "271180",
    "end": "273580"
  },
  {
    "text": "customer resource and then I'm gonna use",
    "start": "273580",
    "end": "276190"
  },
  {
    "text": "the open for the clustered provision in",
    "start": "276190",
    "end": "277840"
  },
  {
    "text": "itself I'm gonna use this open source",
    "start": "277840",
    "end": "279790"
  },
  {
    "text": "our key tool which is to build by",
    "start": "279790",
    "end": "282160"
  },
  {
    "text": "Rancher but like any tool can be used I",
    "start": "282160",
    "end": "284050"
  },
  {
    "text": "just prefer to use our tools like I'm",
    "start": "284050",
    "end": "285699"
  },
  {
    "text": "sure that you're going to run into",
    "start": "285699",
    "end": "286870"
  },
  {
    "text": "issues even the demo and I was like",
    "start": "286870",
    "end": "288729"
  },
  {
    "text": "through for this issues back to the team",
    "start": "288729",
    "end": "290320"
  },
  {
    "text": "and then here is a demo control of logic",
    "start": "290320",
    "end": "293020"
  },
  {
    "text": "that can be found here on the github",
    "start": "293020",
    "end": "295860"
  },
  {
    "text": "alright demo time so as I mentioned we",
    "start": "295860",
    "end": "302500"
  },
  {
    "text": "start with first what do you start with",
    "start": "302500",
    "end": "304870"
  },
  {
    "text": "you start with defining your resource so",
    "start": "304870",
    "end": "309760"
  },
  {
    "text": "our resource is clustered the first two",
    "start": "309760",
    "end": "313780"
  },
  {
    "text": "fields type meta an object matter is a",
    "start": "313780",
    "end": "315880"
  },
  {
    "text": "standard kubernetes fields the next two",
    "start": "315880",
    "end": "318880"
  },
  {
    "text": "fields cluster spec and cluster status",
    "start": "318880",
    "end": "321130"
  },
  {
    "text": "is our our specific fields and also",
    "start": "321130",
    "end": "325360"
  },
  {
    "text": "define them in the same file here we can",
    "start": "325360",
    "end": "329830"
  },
  {
    "text": "say it has that what is that",
    "start": "329830",
    "end": "333750"
  },
  {
    "text": "yeah I'll do it bigger I'll make it",
    "start": "333750",
    "end": "336190"
  },
  {
    "text": "bigger it's better I would like to",
    "start": "336190",
    "end": "345250"
  },
  {
    "text": "really keep this I tried presentation",
    "start": "345250",
    "end": "346780"
  },
  {
    "text": "mode but I lose the structure of the I",
    "start": "346780",
    "end": "348700"
  },
  {
    "text": "use this structure and I would like to",
    "start": "348700",
    "end": "350530"
  },
  {
    "text": "demo it yeah so I forgot to mention one",
    "start": "350530",
    "end": "354280"
  },
  {
    "text": "thing the code generator requires you to",
    "start": "354280",
    "end": "356410"
  },
  {
    "text": "have a specific specific layout for type",
    "start": "356410",
    "end": "360280"
  },
  {
    "text": "definition so it all starts with this",
    "start": "360280",
    "end": "362410"
  },
  {
    "text": "pick eg folder so you create a pkg",
    "start": "362410",
    "end": "364750"
  },
  {
    "text": "folder and then you create an EP is",
    "start": "364750",
    "end": "367090"
  },
  {
    "text": "subfolder in it and then you create the",
    "start": "367090",
    "end": "369610"
  },
  {
    "text": "version for your api's and that's where",
    "start": "369610",
    "end": "372280"
  },
  {
    "text": "actually tied that go goes and then you",
    "start": "372280",
    "end": "375430"
  },
  {
    "text": "also have to create this register that",
    "start": "375430",
    "end": "377110"
  },
  {
    "text": "go file with a group name for your API",
    "start": "377110",
    "end": "379150"
  },
  {
    "text": "and then after you define the stairs",
    "start": "379150",
    "end": "382210"
  },
  {
    "text": "that go you actually run the update code",
    "start": "382210",
    "end": "385960"
  },
  {
    "text": "gem script which actually invokes the",
    "start": "385960",
    "end": "389910"
  },
  {
    "text": "cogent functions to generate the",
    "start": "389910",
    "end": "392289"
  },
  {
    "text": "Lister's Informers and the deep copy and",
    "start": "392289",
    "end": "394719"
  },
  {
    "text": "now let's go back to the let's go back",
    "start": "394719",
    "end": "397750"
  },
  {
    "text": "here and actually gonna do the present",
    "start": "397750",
    "end": "399980"
  },
  {
    "text": "mode to make it better okay here you go",
    "start": "399980",
    "end": "405920"
  },
  {
    "text": "so yes the quest cluster status this",
    "start": "405920",
    "end": "409010"
  },
  {
    "text": "condition is somewhat the generic field",
    "start": "409010",
    "end": "410600"
  },
  {
    "text": "recommended way of storing the resource",
    "start": "410600",
    "end": "412640"
  },
  {
    "text": "seed and it's actually an array of the",
    "start": "412640",
    "end": "415250"
  },
  {
    "text": "condition because you can have more than",
    "start": "415250",
    "end": "416750"
  },
  {
    "text": "one controller operating the same",
    "start": "416750",
    "end": "418460"
  },
  {
    "text": "resource and it's better that one",
    "start": "418460",
    "end": "421040"
  },
  {
    "text": "condition is used and said by one",
    "start": "421040",
    "end": "424640"
  },
  {
    "text": "controller actually any other controller",
    "start": "424640",
    "end": "426470"
  },
  {
    "text": "can evaluate it but it's better that",
    "start": "426470",
    "end": "428360"
  },
  {
    "text": "it's only one controller that updates",
    "start": "428360",
    "end": "430400"
  },
  {
    "text": "this field and then I also have this",
    "start": "430400",
    "end": "432890"
  },
  {
    "text": "absurd generation field but it's",
    "start": "432890",
    "end": "435290"
  },
  {
    "text": "actually there are some issues in using",
    "start": "435290",
    "end": "436760"
  },
  {
    "text": "it if you're a kubernetes version is",
    "start": "436760",
    "end": "438380"
  },
  {
    "text": "less than one that stands for custom",
    "start": "438380",
    "end": "439640"
  },
  {
    "text": "resources I'm gonna no it's more about",
    "start": "439640",
    "end": "441530"
  },
  {
    "text": "it later and then thus once the resource",
    "start": "441530",
    "end": "445610"
  },
  {
    "text": "is defined you have to put some",
    "start": "445610",
    "end": "447260"
  },
  {
    "text": "annotations on top of it in order for a",
    "start": "447260",
    "end": "449150"
  },
  {
    "text": "code Jam to generate the proper client",
    "start": "449150",
    "end": "451610"
  },
  {
    "text": "for your resource right now let's look",
    "start": "451610",
    "end": "459740"
  },
  {
    "text": "at our controllers",
    "start": "459740",
    "end": "462580"
  },
  {
    "text": "so once the types are defined you're",
    "start": "469020",
    "end": "471300"
  },
  {
    "text": "going to start with the controller's",
    "start": "471300",
    "end": "472440"
  },
  {
    "text": "logic so in this tool I have I have four",
    "start": "472440",
    "end": "476190"
  },
  {
    "text": "controllers the main one is the",
    "start": "476190",
    "end": "478530"
  },
  {
    "text": "provisioner tool that's control that is",
    "start": "478530",
    "end": "480750"
  },
  {
    "text": "going to be actually responsible for the",
    "start": "480750",
    "end": "482220"
  },
  {
    "text": "clusters provisioning and there are",
    "start": "482220",
    "end": "484230"
  },
  {
    "text": "several more the health checker",
    "start": "484230",
    "end": "486330"
  },
  {
    "text": "controller will actually check for the",
    "start": "486330",
    "end": "487830"
  },
  {
    "text": "cluster health seed and will update the",
    "start": "487830",
    "end": "490320"
  },
  {
    "text": "appropriate condition and there's also",
    "start": "490320",
    "end": "492300"
  },
  {
    "text": "confusion area controller that is going",
    "start": "492300",
    "end": "494310"
  },
  {
    "text": "to generate the cube config based on the",
    "start": "494310",
    "end": "496170"
  },
  {
    "text": "cluster once it's provisioned and",
    "start": "496170",
    "end": "498180"
  },
  {
    "text": "there's one extra controller that is",
    "start": "498180",
    "end": "500280"
  },
  {
    "text": "purely for the annotations of these so",
    "start": "500280",
    "end": "502710"
  },
  {
    "text": "let's look at the provisionary",
    "start": "502710",
    "end": "504200"
  },
  {
    "text": "controller go you're going to switch",
    "start": "504200",
    "end": "514260"
  },
  {
    "text": "back to the presentation mode so this",
    "start": "514260",
    "end": "519960"
  },
  {
    "text": "register method the register is the",
    "start": "519960",
    "end": "522450"
  },
  {
    "text": "controller I use the task queue and and",
    "start": "522450",
    "end": "526050"
  },
  {
    "text": "the clustering former but and again in",
    "start": "526050",
    "end": "529320"
  },
  {
    "text": "this presentation I'm not going to focus",
    "start": "529320",
    "end": "530490"
  },
  {
    "text": "too much on that you can you can find it",
    "start": "530490",
    "end": "532830"
  },
  {
    "text": "in the sample controller example given",
    "start": "532830",
    "end": "535440"
  },
  {
    "text": "by kubernetes all the specifics about",
    "start": "535440",
    "end": "537480"
  },
  {
    "text": "that task queue and stuff but here what",
    "start": "537480",
    "end": "539520"
  },
  {
    "text": "we do we actually going to listen for",
    "start": "539520",
    "end": "540900"
  },
  {
    "text": "the add and updates events on the",
    "start": "540900",
    "end": "543330"
  },
  {
    "text": "cluster and then we are going to invoke",
    "start": "543330",
    "end": "546270"
  },
  {
    "text": "the sync method that will actually take",
    "start": "546270",
    "end": "549000"
  },
  {
    "text": "care of the cluster provisioning so this",
    "start": "549000",
    "end": "551640"
  },
  {
    "text": "cluster handle cluster ad will actually",
    "start": "551640",
    "end": "554430"
  },
  {
    "text": "do the provisioning let's try it out",
    "start": "554430",
    "end": "558410"
  },
  {
    "text": "let's actually look at how our resource",
    "start": "558410",
    "end": "563130"
  },
  {
    "text": "looks like",
    "start": "563130",
    "end": "565580"
  },
  {
    "text": "that's our custom resource definition so",
    "start": "569380",
    "end": "572350"
  },
  {
    "text": "it contains we're gonna place some",
    "start": "572350",
    "end": "573610"
  },
  {
    "text": "metadata on it you're gonna label it",
    "start": "573610",
    "end": "575710"
  },
  {
    "text": "with AWS because the cluster is going to",
    "start": "575710",
    "end": "577480"
  },
  {
    "text": "be provisioned on the AWS host and this",
    "start": "577480",
    "end": "580240"
  },
  {
    "text": "is a config file to config path to the",
    "start": "580240",
    "end": "582610"
  },
  {
    "text": "actual cost for specification it's",
    "start": "582610",
    "end": "588010"
  },
  {
    "text": "pretty simple it's just address where",
    "start": "588010",
    "end": "590980"
  },
  {
    "text": "your cluster is going to recite the the",
    "start": "590980",
    "end": "592990"
  },
  {
    "text": "credentials and the role for which node",
    "start": "592990",
    "end": "595870"
  },
  {
    "text": "for for this particular host so the",
    "start": "595870",
    "end": "598900"
  },
  {
    "text": "controller working on a CD of the",
    "start": "598900",
    "end": "601240"
  },
  {
    "text": "cluster the Fiona provision all gonna",
    "start": "601240",
    "end": "602920"
  },
  {
    "text": "reside on a single node so and now let's",
    "start": "602920",
    "end": "606760"
  },
  {
    "text": "start our controller and before we",
    "start": "606760",
    "end": "608050"
  },
  {
    "text": "create a cluster a little bit about my",
    "start": "608050",
    "end": "613330"
  },
  {
    "text": "setup I run our sects and I have mini",
    "start": "613330",
    "end": "615250"
  },
  {
    "text": "cube so and I run my controller here so",
    "start": "615250",
    "end": "618790"
  },
  {
    "text": "what it does first it crazy release and",
    "start": "618790",
    "end": "620560"
  },
  {
    "text": "then it registers all the controller",
    "start": "620560",
    "end": "622480"
  },
  {
    "text": "that you just went over and now and it",
    "start": "622480",
    "end": "625810"
  },
  {
    "text": "sits and listening for the cluster",
    "start": "625810",
    "end": "627490"
  },
  {
    "text": "create event there's no cluster yet",
    "start": "627490",
    "end": "629350"
  },
  {
    "text": "let's create it and I'm using coop CTL",
    "start": "629350",
    "end": "635080"
  },
  {
    "text": "to create it alright so what's going on",
    "start": "635080",
    "end": "641470"
  },
  {
    "text": "here so you can see the message that",
    "start": "641470",
    "end": "643570"
  },
  {
    "text": "cluster is updated provisioning so the",
    "start": "643570",
    "end": "646450"
  },
  {
    "text": "actual provisioning is going to happen",
    "start": "646450",
    "end": "647890"
  },
  {
    "text": "here for I think it's it will take a",
    "start": "647890",
    "end": "650020"
  },
  {
    "text": "while because we download the images the",
    "start": "650020",
    "end": "652060"
  },
  {
    "text": "kubernetes cluster gets deployed in the",
    "start": "652060",
    "end": "653530"
  },
  {
    "text": "container we download the images here",
    "start": "653530",
    "end": "655480"
  },
  {
    "text": "but let's just focus on this message it",
    "start": "655480",
    "end": "658390"
  },
  {
    "text": "says cluster is updated provisioning",
    "start": "658390",
    "end": "661210"
  },
  {
    "text": "does it mean that the provisioning code",
    "start": "661210",
    "end": "664360"
  },
  {
    "text": "is going to be invoked on every update",
    "start": "664360",
    "end": "666160"
  },
  {
    "text": "because you can update multiple fields",
    "start": "666160",
    "end": "668470"
  },
  {
    "text": "on your object like you can update the",
    "start": "668470",
    "end": "670150"
  },
  {
    "text": "metadata you can update labels you can",
    "start": "670150",
    "end": "672820"
  },
  {
    "text": "update or you can update the spec so",
    "start": "672820",
    "end": "675430"
  },
  {
    "text": "what we really want to happen is for the",
    "start": "675430",
    "end": "678460"
  },
  {
    "text": "provisioning logic to be invoked only",
    "start": "678460",
    "end": "680530"
  },
  {
    "text": "when the spec field gets updated how do",
    "start": "680530",
    "end": "683830"
  },
  {
    "text": "we achieve that I as I use kubernetes",
    "start": "683830",
    "end": "688150"
  },
  {
    "text": "1.8 unfortunately I cannot use the",
    "start": "688150",
    "end": "690610"
  },
  {
    "text": "observed generation and generation but",
    "start": "690610",
    "end": "692860"
  },
  {
    "text": "in kubernetes one that tan there is a",
    "start": "692860",
    "end": "696310"
  },
  {
    "text": "generation field in the metadata that",
    "start": "696310",
    "end": "698410"
  },
  {
    "text": "gets changed",
    "start": "698410",
    "end": "699130"
  },
  {
    "text": "only when the spec gets updated and as a",
    "start": "699130",
    "end": "701710"
  },
  {
    "text": "controller you can",
    "start": "701710",
    "end": "702950"
  },
  {
    "text": "restore the observed generation in the",
    "start": "702950",
    "end": "704990"
  },
  {
    "text": "status and you can invoke your",
    "start": "704990",
    "end": "706880"
  },
  {
    "text": "controller if your observed generation",
    "start": "706880",
    "end": "709070"
  },
  {
    "text": "is different from the generation in the",
    "start": "709070",
    "end": "711529"
  },
  {
    "text": "metadata increased by kubernetes in my",
    "start": "711529",
    "end": "714350"
  },
  {
    "text": "case what I do I just store the apply it",
    "start": "714350",
    "end": "717110"
  },
  {
    "text": "configure that config the cluster config",
    "start": "717110",
    "end": "719660"
  },
  {
    "text": "that get applied I get storing the",
    "start": "719660",
    "end": "721940"
  },
  {
    "text": "status and then I check the one from the",
    "start": "721940",
    "end": "723920"
  },
  {
    "text": "spec with the one from the status if",
    "start": "723920",
    "end": "725779"
  },
  {
    "text": "they're identical there is nothing that",
    "start": "725779",
    "end": "727639"
  },
  {
    "text": "I'm gonna do I'm just gonna return nil",
    "start": "727639",
    "end": "730000"
  },
  {
    "text": "and do nothing now let's check what",
    "start": "730000",
    "end": "733850"
  },
  {
    "text": "happened okay so it still going I'm",
    "start": "733850",
    "end": "738019"
  },
  {
    "text": "looking for the red markers like error",
    "start": "738019",
    "end": "740089"
  },
  {
    "text": "you don't see us yet so it's a good",
    "start": "740089",
    "end": "742459"
  },
  {
    "text": "thing so there is something that we do",
    "start": "742459",
    "end": "750290"
  },
  {
    "text": "in the beginning so here I call",
    "start": "750290",
    "end": "751880"
  },
  {
    "text": "something called initialize and",
    "start": "751880",
    "end": "753949"
  },
  {
    "text": "initialize method I install I inject the",
    "start": "753949",
    "end": "757760"
  },
  {
    "text": "finalizer into the object so now does",
    "start": "757760",
    "end": "761660"
  },
  {
    "text": "anybody know what finalizar is for okay",
    "start": "761660",
    "end": "765230"
  },
  {
    "text": "okay awesome yeah so finalize there is",
    "start": "765230",
    "end": "768680"
  },
  {
    "text": "something that actually some construct",
    "start": "768680",
    "end": "773870"
  },
  {
    "text": "that allows you to run the pre deletion",
    "start": "773870",
    "end": "775850"
  },
  {
    "text": "hook when your object gets removed so",
    "start": "775850",
    "end": "778279"
  },
  {
    "text": "like let's say you decide that you're",
    "start": "778279",
    "end": "779930"
  },
  {
    "text": "going to remove you're going to remove",
    "start": "779930",
    "end": "782180"
  },
  {
    "text": "the cluster and you want some logic to",
    "start": "782180",
    "end": "783649"
  },
  {
    "text": "run before object is actually gone from",
    "start": "783649",
    "end": "785360"
  },
  {
    "text": "the ECD database in this case you inject",
    "start": "785360",
    "end": "788029"
  },
  {
    "text": "the finalizer and kubernetes will not",
    "start": "788029",
    "end": "790579"
  },
  {
    "text": "remove this objects from these in the",
    "start": "790579",
    "end": "792260"
  },
  {
    "text": "database till you run your logic until",
    "start": "792260",
    "end": "794209"
  },
  {
    "text": "you remove this finalizer okay I'm gonna",
    "start": "794209",
    "end": "796670"
  },
  {
    "text": "check on our guy still going ok",
    "start": "796670",
    "end": "803589"
  },
  {
    "text": "so nothing failing yet let's look at how",
    "start": "806649",
    "end": "810259"
  },
  {
    "text": "our object looks like all right there is",
    "start": "810259",
    "end": "814879"
  },
  {
    "text": "a cluster there is no smoke a so there",
    "start": "814879",
    "end": "821479"
  },
  {
    "text": "is some status does it mean that is oh",
    "start": "821479",
    "end": "824449"
  },
  {
    "text": "yeah successfully producing cluster",
    "start": "824449",
    "end": "826369"
  },
  {
    "text": "that's good but but I wonder I wonder",
    "start": "826369",
    "end": "835989"
  },
  {
    "text": "where is my I wonder my conditions are I",
    "start": "835989",
    "end": "842899"
  },
  {
    "text": "think I I think I broke something in and",
    "start": "842899",
    "end": "844999"
  },
  {
    "text": "in my code I just I just made this very",
    "start": "844999",
    "end": "847069"
  },
  {
    "text": "last community before the demo is always",
    "start": "847069",
    "end": "849019"
  },
  {
    "text": "it's always always a bad idea but what",
    "start": "849019",
    "end": "851989"
  },
  {
    "text": "actually should happen here in the",
    "start": "851989",
    "end": "853309"
  },
  {
    "text": "status you should see the condition that",
    "start": "853309",
    "end": "855199"
  },
  {
    "text": "says provisioned true and then you",
    "start": "855199",
    "end": "857899"
  },
  {
    "text": "should see another condition that says",
    "start": "857899",
    "end": "859549"
  },
  {
    "text": "ready true so the provision means that",
    "start": "859549",
    "end": "862309"
  },
  {
    "text": "the cluster provisioner actually",
    "start": "862309",
    "end": "863809"
  },
  {
    "text": "successfully provision the provision the",
    "start": "863809",
    "end": "866479"
  },
  {
    "text": "cluster and ready true means that the",
    "start": "866479",
    "end": "869989"
  },
  {
    "text": "cluster health checker actually says",
    "start": "869989",
    "end": "871639"
  },
  {
    "text": "that the cluster is healthy and and",
    "start": "871639",
    "end": "874489"
  },
  {
    "text": "ready to be used now why do we use two",
    "start": "874489",
    "end": "877069"
  },
  {
    "text": "conditions because like as I mentioned",
    "start": "877069",
    "end": "878539"
  },
  {
    "text": "it's better that the one condition is",
    "start": "878539",
    "end": "880429"
  },
  {
    "text": "modified by a single controller there is",
    "start": "880429",
    "end": "883189"
  },
  {
    "text": "one more rule that we try to apply to",
    "start": "883189",
    "end": "885289"
  },
  {
    "text": "when it comes to conditions it's better",
    "start": "885289",
    "end": "887720"
  },
  {
    "text": "that conditions are consistent in a way",
    "start": "887720",
    "end": "889729"
  },
  {
    "text": "the true means good and false means bad",
    "start": "889729",
    "end": "892909"
  },
  {
    "text": "because sometimes you might want to see",
    "start": "892909",
    "end": "894859"
  },
  {
    "text": "the you might see the conditions in the",
    "start": "894859",
    "end": "896509"
  },
  {
    "text": "kinetise world when the actually false",
    "start": "896509",
    "end": "898220"
  },
  {
    "text": "means a good thing it's like condition",
    "start": "898220",
    "end": "900199"
  },
  {
    "text": "can be can be named like I don't know",
    "start": "900199",
    "end": "902089"
  },
  {
    "text": "cluster is failing and then forth and it",
    "start": "902089",
    "end": "904309"
  },
  {
    "text": "means you're good it's better to use the",
    "start": "904309",
    "end": "906079"
  },
  {
    "text": "same construct across your conditions so",
    "start": "906079",
    "end": "908449"
  },
  {
    "text": "later on if you would like to signal to",
    "start": "908449",
    "end": "911989"
  },
  {
    "text": "your user that cluster is good you can",
    "start": "911989",
    "end": "913669"
  },
  {
    "text": "actually fetch all the conditions and",
    "start": "913669",
    "end": "915409"
  },
  {
    "text": "based on their you know based on their",
    "start": "915409",
    "end": "917359"
  },
  {
    "text": "value you can say whether it's good or",
    "start": "917359",
    "end": "918739"
  },
  {
    "text": "bad without applying any custom logic so",
    "start": "918739",
    "end": "924319"
  },
  {
    "text": "now we've covered condition recovered",
    "start": "924319",
    "end": "926289"
  },
  {
    "text": "apply it's back and observed generation",
    "start": "926289",
    "end": "928759"
  },
  {
    "text": "now there are a couple of standard",
    "start": "928759",
    "end": "931489"
  },
  {
    "text": "kubernetes fields that people tend to",
    "start": "931489",
    "end": "933919"
  },
  {
    "text": "use very often one is labels and",
    "start": "933919",
    "end": "936860"
  },
  {
    "text": "is the annotations when do you use one",
    "start": "936860",
    "end": "939920"
  },
  {
    "text": "over another so what would you use",
    "start": "939920",
    "end": "941900"
  },
  {
    "text": "labels so I usually use labels when my",
    "start": "941900",
    "end": "944480"
  },
  {
    "text": "resource is meant to be queried based on",
    "start": "944480",
    "end": "946910"
  },
  {
    "text": "a certain label or you would like to",
    "start": "946910",
    "end": "948590"
  },
  {
    "text": "group the resources like in this case",
    "start": "948590",
    "end": "950150"
  },
  {
    "text": "for example my cluster is AWS and let's",
    "start": "950150",
    "end": "953060"
  },
  {
    "text": "say and keep CTL I would like to list",
    "start": "953060",
    "end": "954560"
  },
  {
    "text": "all my AWS clusters so I just do I get",
    "start": "954560",
    "end": "959270"
  },
  {
    "text": "cluster and I guess my cluster back",
    "start": "959270",
    "end": "966370"
  },
  {
    "text": "right and now where would you use",
    "start": "966520",
    "end": "969470"
  },
  {
    "text": "annotations than annotations we usually",
    "start": "969470",
    "end": "971810"
  },
  {
    "text": "use to store some kind of like sort of",
    "start": "971810",
    "end": "973430"
  },
  {
    "text": "metadata like in this case annotations",
    "start": "973430",
    "end": "978920"
  },
  {
    "text": "annotations annotations I don't think I",
    "start": "978920",
    "end": "984170"
  },
  {
    "text": "don't think I said annotation here but",
    "start": "984170",
    "end": "986060"
  },
  {
    "text": "what you can store in the nation in this",
    "start": "986060",
    "end": "987860"
  },
  {
    "text": "case you can store for example the",
    "start": "987860",
    "end": "989330"
  },
  {
    "text": "underline kubernetes version there was",
    "start": "989330",
    "end": "992810"
  },
  {
    "text": "one object that we create as we created",
    "start": "992810",
    "end": "995090"
  },
  {
    "text": "the cluster we created the cube config",
    "start": "995090",
    "end": "999430"
  },
  {
    "text": "wasn't created something went wrong",
    "start": "1000900",
    "end": "1005340"
  },
  {
    "text": "something went wrong let's restart it",
    "start": "1005340",
    "end": "1010760"
  },
  {
    "text": "[Music]",
    "start": "1010760",
    "end": "1014039"
  },
  {
    "text": "okay I have no idea why the chief config",
    "start": "1014860",
    "end": "1016930"
  },
  {
    "text": "wasn't created but I've kind of expected",
    "start": "1016930",
    "end": "1021310"
  },
  {
    "text": "it it's demo it's meant to fail but the",
    "start": "1021310",
    "end": "1023890"
  },
  {
    "text": "cube config is the resource that was",
    "start": "1023890",
    "end": "1026260"
  },
  {
    "text": "meant to be created as a child resource",
    "start": "1026260",
    "end": "1028240"
  },
  {
    "text": "of the cluster II so what does it mean",
    "start": "1028240",
    "end": "1030850"
  },
  {
    "text": "to be the child resource so it means",
    "start": "1030850",
    "end": "1033010"
  },
  {
    "text": "that the object lifecycle can be kind of",
    "start": "1033010",
    "end": "1036790"
  },
  {
    "text": "like manage indirectly by the parents",
    "start": "1036790",
    "end": "1038709"
  },
  {
    "text": "resource so it's like when you create a",
    "start": "1038709",
    "end": "1040120"
  },
  {
    "text": "parent resource you create a child",
    "start": "1040120",
    "end": "1041319"
  },
  {
    "text": "resource when your parent resources gone",
    "start": "1041320",
    "end": "1043089"
  },
  {
    "text": "your child resource is gone and you",
    "start": "1043089",
    "end": "1045069"
  },
  {
    "text": "don't have to handle this cleanup",
    "start": "1045070",
    "end": "1046510"
  },
  {
    "text": "yourself you can actually rely on",
    "start": "1046510",
    "end": "1049470"
  },
  {
    "text": "communities garbage collection in this",
    "start": "1049470",
    "end": "1052000"
  },
  {
    "text": "case Granger garbage collection like",
    "start": "1052000",
    "end": "1054250"
  },
  {
    "text": "once the parent resource is removed is",
    "start": "1054250",
    "end": "1055930"
  },
  {
    "text": "going to remove all the child resources",
    "start": "1055930",
    "end": "1058740"
  },
  {
    "text": "so that's what the only reference is for",
    "start": "1058740",
    "end": "1062830"
  },
  {
    "text": "it but now let's try to just list one",
    "start": "1062830",
    "end": "1065980"
  },
  {
    "text": "cluster once again oops okay so we have",
    "start": "1065980",
    "end": "1071920"
  },
  {
    "text": "our finalizar at least this was injected",
    "start": "1071920",
    "end": "1074170"
  },
  {
    "text": "let's just tell the finalizer logic",
    "start": "1074170",
    "end": "1076060"
  },
  {
    "text": "let's just stop the controller I'm just",
    "start": "1076060",
    "end": "1078460"
  },
  {
    "text": "gonna stop it and let's remove the",
    "start": "1078460",
    "end": "1081040"
  },
  {
    "text": "cluster all right and let's see if the",
    "start": "1081040",
    "end": "1087280"
  },
  {
    "text": "cluster was actually removed no it's",
    "start": "1087280",
    "end": "1091000"
  },
  {
    "text": "still here but let's look closer at the",
    "start": "1091000",
    "end": "1092560"
  },
  {
    "text": "cluster you see that it although it",
    "start": "1092560",
    "end": "1095680"
  },
  {
    "text": "wasn't removed there was some deletion",
    "start": "1095680",
    "end": "1097540"
  },
  {
    "text": "time stamp that was set for it and if I",
    "start": "1097540",
    "end": "1100000"
  },
  {
    "text": "start my controller back it should look",
    "start": "1100000",
    "end": "1103360"
  },
  {
    "text": "at the deletion timestamp and based on",
    "start": "1103360",
    "end": "1105520"
  },
  {
    "text": "its value it should decide whether it",
    "start": "1105520",
    "end": "1107260"
  },
  {
    "text": "needs to go ahead with a provisioning or",
    "start": "1107260",
    "end": "1109480"
  },
  {
    "text": "whether it needs to go ahead with the",
    "start": "1109480",
    "end": "1111130"
  },
  {
    "text": "removing good boy it's removing so what",
    "start": "1111130",
    "end": "1119350"
  },
  {
    "text": "it does it actually goes to that AWS",
    "start": "1119350",
    "end": "1121210"
  },
  {
    "text": "host and it cleans up all the containers",
    "start": "1121210",
    "end": "1122920"
  },
  {
    "text": "that that have a good run at is faster",
    "start": "1122920",
    "end": "1125110"
  },
  {
    "text": "deployed",
    "start": "1125110",
    "end": "1127410"
  },
  {
    "text": "right",
    "start": "1130460",
    "end": "1133460"
  },
  {
    "text": "yes let's clean it up and now the",
    "start": "1141480",
    "end": "1146100"
  },
  {
    "text": "research should be gone okay so no more",
    "start": "1146100",
    "end": "1151019"
  },
  {
    "text": "clusters yeah removed alright so a",
    "start": "1151019",
    "end": "1161240"
  },
  {
    "text": "little bit like a reflection based on",
    "start": "1161240",
    "end": "1163649"
  },
  {
    "text": "the demo so be careful always be careful",
    "start": "1163649",
    "end": "1166830"
  },
  {
    "text": "with the update logic because any update",
    "start": "1166830",
    "end": "1169200"
  },
  {
    "text": "on the resource whether you update the",
    "start": "1169200",
    "end": "1170760"
  },
  {
    "text": "status or you update the metadata and",
    "start": "1170760",
    "end": "1172409"
  },
  {
    "text": "label triggers the resource update and",
    "start": "1172409",
    "end": "1174539"
  },
  {
    "text": "your controller should be smart enough",
    "start": "1174539",
    "end": "1176549"
  },
  {
    "text": "to figure out when to run the actual",
    "start": "1176549",
    "end": "1178740"
  },
  {
    "text": "update logic so use observed generation",
    "start": "1178740",
    "end": "1182220"
  },
  {
    "text": "if you could run a test version for your",
    "start": "1182220",
    "end": "1183750"
  },
  {
    "text": "charities if you could run a DS version",
    "start": "1183750",
    "end": "1185580"
  },
  {
    "text": "is one that ten use some custom logic if",
    "start": "1185580",
    "end": "1187860"
  },
  {
    "text": "your kubernetes version is less than",
    "start": "1187860",
    "end": "1189360"
  },
  {
    "text": "that and also kubernetes one that ten",
    "start": "1189360",
    "end": "1191789"
  },
  {
    "text": "offers a new construct that I'm yet to",
    "start": "1191789",
    "end": "1193830"
  },
  {
    "text": "try they actually created a CR D for the",
    "start": "1193830",
    "end": "1196889"
  },
  {
    "text": "status so you can you can actually check",
    "start": "1196889",
    "end": "1199139"
  },
  {
    "text": "you can actually keep your status",
    "start": "1199139",
    "end": "1200399"
  },
  {
    "text": "separate from your main resource so when",
    "start": "1200399",
    "end": "1202440"
  },
  {
    "text": "you change your main resource only then",
    "start": "1202440",
    "end": "1204659"
  },
  {
    "text": "you get that updates in the in the",
    "start": "1204659",
    "end": "1206820"
  },
  {
    "text": "controller logic when you change the",
    "start": "1206820",
    "end": "1208740"
  },
  {
    "text": "status that does not happen yeah I'm",
    "start": "1208740",
    "end": "1211799"
  },
  {
    "text": "gonna try it after the cube con and then",
    "start": "1211799",
    "end": "1216179"
  },
  {
    "text": "conditions so each condition should",
    "start": "1216179",
    "end": "1218639"
  },
  {
    "text": "represent a single functionality state",
    "start": "1218639",
    "end": "1221059"
  },
  {
    "text": "for multi functionality reflection you",
    "start": "1221059",
    "end": "1223529"
  },
  {
    "text": "should consider using multiple",
    "start": "1223529",
    "end": "1224850"
  },
  {
    "text": "conditions and yes avoid updating",
    "start": "1224850",
    "end": "1227220"
  },
  {
    "text": "multiple conditions by multiple",
    "start": "1227220",
    "end": "1228750"
  },
  {
    "text": "controllers and there's a rule number",
    "start": "1228750",
    "end": "1230340"
  },
  {
    "text": "three true should mean like a good thing",
    "start": "1230340",
    "end": "1233130"
  },
  {
    "text": "and be consistent across your conditions",
    "start": "1233130",
    "end": "1236000"
  },
  {
    "text": "then the finalizer use the finalizer",
    "start": "1236000",
    "end": "1238980"
  },
  {
    "text": "only one you have to run the custom",
    "start": "1238980",
    "end": "1241529"
  },
  {
    "text": "clean out logic for your resource if",
    "start": "1241529",
    "end": "1243330"
  },
  {
    "text": "you're just listening on the on the on",
    "start": "1243330",
    "end": "1248039"
  },
  {
    "text": "the changes to the resource and like you",
    "start": "1248039",
    "end": "1249960"
  },
  {
    "text": "don't care about the cleanup like you",
    "start": "1249960",
    "end": "1251370"
  },
  {
    "text": "don't need to access that objects back",
    "start": "1251370",
    "end": "1252960"
  },
  {
    "text": "after it's gone from the it CD then you",
    "start": "1252960",
    "end": "1255330"
  },
  {
    "text": "don't need the finalizer you can just go",
    "start": "1255330",
    "end": "1256860"
  },
  {
    "text": "with the regular sync logic and then the",
    "start": "1256860",
    "end": "1259740"
  },
  {
    "text": "owner references always try to find out",
    "start": "1259740",
    "end": "1262440"
  },
  {
    "text": "whether the kubernetes has some built-in",
    "start": "1262440",
    "end": "1264840"
  },
  {
    "text": "functionality that you can invoke by",
    "start": "1264840",
    "end": "1266730"
  },
  {
    "text": "placing a certain field on your object",
    "start": "1266730",
    "end": "1268980"
  },
  {
    "text": "like use on the reference to invoke the",
    "start": "1268980",
    "end": "1271260"
  },
  {
    "text": "garbage collection for your child",
    "start": "1271260",
    "end": "1272669"
  },
  {
    "text": "resources don't",
    "start": "1272669",
    "end": "1273990"
  },
  {
    "text": "the cleanup manually and thank you all",
    "start": "1273990",
    "end": "1278550"
  },
  {
    "text": "for coming",
    "start": "1278550",
    "end": "1279270"
  },
  {
    "text": "if you have any questions you can ask",
    "start": "1279270",
    "end": "1280920"
  },
  {
    "text": "them now or you can reach me out later",
    "start": "1280920",
    "end": "1282690"
  },
  {
    "text": "on Twitter I can just step by and yeah",
    "start": "1282690",
    "end": "1285390"
  },
  {
    "text": "yeah I don't know we use actually use",
    "start": "1285390",
    "end": "1300570"
  },
  {
    "text": "like on this hundred percent use go I",
    "start": "1300570",
    "end": "1302370"
  },
  {
    "text": "have no idea about the fight and support",
    "start": "1302370",
    "end": "1304110"
  },
  {
    "text": "unfortunately yeah oh yeah where's Mike",
    "start": "1304110",
    "end": "1314179"
  },
  {
    "text": "is it oh yeah yeah thanks a lot very",
    "start": "1314179",
    "end": "1322140"
  },
  {
    "text": "nice talk so my question would be we",
    "start": "1322140",
    "end": "1325050"
  },
  {
    "text": "heard about operators and your talk",
    "start": "1325050",
    "end": "1326910"
  },
  {
    "text": "mentions controllers so what's the",
    "start": "1326910",
    "end": "1329160"
  },
  {
    "text": "difference I think this is an operator",
    "start": "1329160",
    "end": "1331110"
  },
  {
    "text": "because it builds a stateful thing it",
    "start": "1331110",
    "end": "1333030"
  },
  {
    "text": "manages stateful it's just two different",
    "start": "1333030",
    "end": "1335940"
  },
  {
    "text": "names I think I pureed is the term yeah",
    "start": "1335940",
    "end": "1337890"
  },
  {
    "text": "invented by Korres I believe and it's",
    "start": "1337890",
    "end": "1341130"
  },
  {
    "text": "basically the same thing it's just a",
    "start": "1341130",
    "end": "1342480"
  },
  {
    "text": "custom logic for you know for keeping",
    "start": "1342480",
    "end": "1344550"
  },
  {
    "text": "yeah state of for keeping track with the",
    "start": "1344550",
    "end": "1346890"
  },
  {
    "text": "customer sources for baiting the",
    "start": "1346890",
    "end": "1348090"
  },
  {
    "text": "customer resources and you have four",
    "start": "1348090",
    "end": "1350010"
  },
  {
    "text": "controllers in this yeah I have four",
    "start": "1350010",
    "end": "1351750"
  },
  {
    "text": "controllers in this and they're pretty",
    "start": "1351750",
    "end": "1352950"
  },
  {
    "text": "simple yeah thanks",
    "start": "1352950",
    "end": "1357110"
  },
  {
    "text": "how do you deal with controller failures",
    "start": "1362450",
    "end": "1365940"
  },
  {
    "text": "because if my controller does some",
    "start": "1365940",
    "end": "1367650"
  },
  {
    "text": "stateful stuff and it crashes before",
    "start": "1367650",
    "end": "1370610"
  },
  {
    "text": "communicating the change to the resource",
    "start": "1370610",
    "end": "1374309"
  },
  {
    "text": "spec I the controller will be restarted",
    "start": "1374309",
    "end": "1377340"
  },
  {
    "text": "and we'll run it again so I'd say that's",
    "start": "1377340",
    "end": "1380130"
  },
  {
    "text": "my controller logic has to be idempotent",
    "start": "1380130",
    "end": "1382620"
  },
  {
    "text": "yeah it has to be it has to be the",
    "start": "1382620",
    "end": "1385230"
  },
  {
    "text": "opponents like basically you do the",
    "start": "1385230",
    "end": "1386429"
  },
  {
    "text": "Rican self or your resource as you would",
    "start": "1386429",
    "end": "1388559"
  },
  {
    "text": "just you know do it in any like regular",
    "start": "1388559",
    "end": "1390780"
  },
  {
    "text": "update case you don't rely on some",
    "start": "1390780",
    "end": "1392370"
  },
  {
    "text": "previously state yeah saved information",
    "start": "1392370",
    "end": "1394530"
  },
  {
    "text": "and if something fails you just we just",
    "start": "1394530",
    "end": "1397380"
  },
  {
    "text": "Riku the object and then the update will",
    "start": "1397380",
    "end": "1399929"
  },
  {
    "text": "come again and we'll rerun the logic",
    "start": "1399929",
    "end": "1401610"
  },
  {
    "text": "once again yeah I guess in some case I",
    "start": "1401610",
    "end": "1404040"
  },
  {
    "text": "have to be super careful if I for",
    "start": "1404040",
    "end": "1406290"
  },
  {
    "text": "example you you created a cluster",
    "start": "1406290",
    "end": "1407880"
  },
  {
    "text": "outside and yeah for some reason your",
    "start": "1407880",
    "end": "1410160"
  },
  {
    "text": "controller needs to be restarted you",
    "start": "1410160",
    "end": "1412679"
  },
  {
    "text": "have to check if there are some outside",
    "start": "1412679",
    "end": "1414480"
  },
  {
    "text": "changes you have to take into",
    "start": "1414480",
    "end": "1415830"
  },
  {
    "text": "consideration or to health that's",
    "start": "1415830",
    "end": "1420360"
  },
  {
    "text": "actually a very good question but it's",
    "start": "1420360",
    "end": "1421679"
  },
  {
    "text": "also like whether you support external",
    "start": "1421679",
    "end": "1423570"
  },
  {
    "text": "update your resource or whether you only",
    "start": "1423570",
    "end": "1426030"
  },
  {
    "text": "support the update when it comes like",
    "start": "1426030",
    "end": "1427830"
  },
  {
    "text": "let's say user comes to cube CTL and",
    "start": "1427830",
    "end": "1429780"
  },
  {
    "text": "here there's the cluster spec while your",
    "start": "1429780",
    "end": "1431880"
  },
  {
    "text": "controller is down your controller",
    "start": "1431880",
    "end": "1433710"
  },
  {
    "text": "should be able to handle cases like that",
    "start": "1433710",
    "end": "1435660"
  },
  {
    "text": "but cases like user goes to AWS and",
    "start": "1435660",
    "end": "1438990"
  },
  {
    "text": "maliciously like removes the docker",
    "start": "1438990",
    "end": "1440580"
  },
  {
    "text": "container the controller won't do it",
    "start": "1440580",
    "end": "1443520"
  },
  {
    "text": "you can yet potentially you can you know",
    "start": "1443520",
    "end": "1445440"
  },
  {
    "text": "you can run some agent there that will",
    "start": "1445440",
    "end": "1447809"
  },
  {
    "text": "report back the status the actual status",
    "start": "1447809",
    "end": "1450090"
  },
  {
    "text": "of the cluster II in that case yes you",
    "start": "1450090",
    "end": "1452580"
  },
  {
    "text": "can do something about it",
    "start": "1452580",
    "end": "1453919"
  },
  {
    "text": "yeah can you pass the mic please so I",
    "start": "1453919",
    "end": "1461400"
  },
  {
    "text": "saw you used go annotations there for",
    "start": "1461400",
    "end": "1464669"
  },
  {
    "text": "mapping the the schema but there's yeah",
    "start": "1464669",
    "end": "1467880"
  },
  {
    "text": "we'd open API integration in the series",
    "start": "1467880",
    "end": "1470820"
  },
  {
    "text": "there are many there are many things I",
    "start": "1470820",
    "end": "1472620"
  },
  {
    "text": "just use it for example I think it did",
    "start": "1472620",
    "end": "1475350"
  },
  {
    "text": "you have an OPI spec behind the scenes",
    "start": "1475350",
    "end": "1477450"
  },
  {
    "text": "that we didn't see or did you just write",
    "start": "1477450",
    "end": "1478890"
  },
  {
    "text": "it in straight code no for this one I",
    "start": "1478890",
    "end": "1480419"
  },
  {
    "text": "just I just ran it as it was advised",
    "start": "1480419",
    "end": "1482250"
  },
  {
    "text": "like a wise example in the sample",
    "start": "1482250",
    "end": "1484169"
  },
  {
    "text": "controller like Brunetti sample",
    "start": "1484169",
    "end": "1485730"
  },
  {
    "text": "controller but we actually in Rancher we",
    "start": "1485730",
    "end": "1487830"
  },
  {
    "text": "have our own framework for defining the",
    "start": "1487830",
    "end": "1489929"
  },
  {
    "text": "CRTs for building the clients for them",
    "start": "1489929",
    "end": "1491700"
  },
  {
    "text": "and for yeah for defining all this",
    "start": "1491700",
    "end": "1493320"
  },
  {
    "text": "boilerplate for",
    "start": "1493320",
    "end": "1494850"
  },
  {
    "text": "informers Lister's and yeah one more",
    "start": "1494850",
    "end": "1498180"
  },
  {
    "text": "questions yeah so the the operative",
    "start": "1498180",
    "end": "1500490"
  },
  {
    "text": "framework was just announced by court I",
    "start": "1500490",
    "end": "1502800"
  },
  {
    "text": "know two days ago yeah I would like did",
    "start": "1502800",
    "end": "1504750"
  },
  {
    "text": "you know about that before we made you",
    "start": "1504750",
    "end": "1505950"
  },
  {
    "text": "talk what is that did you know about",
    "start": "1505950",
    "end": "1507510"
  },
  {
    "text": "that no I did not I did know about it",
    "start": "1507510",
    "end": "1509310"
  },
  {
    "text": "before the talk yeah as I said I think",
    "start": "1509310",
    "end": "1512190"
  },
  {
    "text": "every every big company come up with",
    "start": "1512190",
    "end": "1514140"
  },
  {
    "text": "some sort of the framework and is good",
    "start": "1514140",
    "end": "1516240"
  },
  {
    "text": "if it's open source but then you just",
    "start": "1516240",
    "end": "1518970"
  },
  {
    "text": "watch the adoption like how is it it to",
    "start": "1518970",
    "end": "1520680"
  },
  {
    "text": "use how wide ladies adopted and then you",
    "start": "1520680",
    "end": "1523260"
  },
  {
    "text": "can talk about the framework popularity",
    "start": "1523260",
    "end": "1525030"
  },
  {
    "text": "and thank you I think there's one more",
    "start": "1525030",
    "end": "1536250"
  },
  {
    "text": "question",
    "start": "1536250",
    "end": "1538520"
  },
  {
    "text": "so if you have multiple controllers for",
    "start": "1541490",
    "end": "1543990"
  },
  {
    "text": "H a how do you arbitrate access among",
    "start": "1543990",
    "end": "1546390"
  },
  {
    "text": "them if it's just later election simple",
    "start": "1546390",
    "end": "1549150"
  },
  {
    "text": "one like just one mastery yeah there's",
    "start": "1549150",
    "end": "1550950"
  },
  {
    "text": "only one master yeah yeah more questions",
    "start": "1550950",
    "end": "1559519"
  },
  {
    "text": "questions thank you again",
    "start": "1562970",
    "end": "1565790"
  },
  {
    "text": "[Applause]",
    "start": "1565790",
    "end": "1571359"
  }
]