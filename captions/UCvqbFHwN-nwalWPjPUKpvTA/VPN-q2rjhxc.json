[
  {
    "text": "so hey everybody thank you for coming to",
    "start": "840",
    "end": "3360"
  },
  {
    "text": "my talk and staying so late so today",
    "start": "3360",
    "end": "6799"
  },
  {
    "text": "we're going to talk about effortless",
    "start": "6799",
    "end": "8559"
  },
  {
    "text": "profiling on",
    "start": "8559",
    "end": "10120"
  },
  {
    "text": "kubernetes a little bit about myself so",
    "start": "10120",
    "end": "12519"
  },
  {
    "text": "my name is Eden I'm currently an",
    "start": "12519",
    "end": "14719"
  },
  {
    "text": "engineer at Yahoo I've been coding for",
    "start": "14719",
    "end": "18240"
  },
  {
    "text": "almost 15 years now H I'm really into",
    "start": "18240",
    "end": "21560"
  },
  {
    "text": "everything observability and profiling I",
    "start": "21560",
    "end": "24640"
  },
  {
    "text": "think that uh finding performance issues",
    "start": "24640",
    "end": "27439"
  },
  {
    "text": "in production is my hobby and uh I",
    "start": "27439",
    "end": "30359"
  },
  {
    "text": "created one of the tools that I'm going",
    "start": "30359",
    "end": "32000"
  },
  {
    "text": "to show you here today called Cube C",
    "start": "32000",
    "end": "36559"
  },
  {
    "text": "flame so uh today we first going to",
    "start": "36800",
    "end": "39800"
  },
  {
    "text": "start by some a little bit of",
    "start": "39800",
    "end": "41840"
  },
  {
    "text": "introduction to what is profiling and",
    "start": "41840",
    "end": "44480"
  },
  {
    "text": "how how do you analyze a profile H",
    "start": "44480",
    "end": "47239"
  },
  {
    "text": "what's the best way to visualize a",
    "start": "47239",
    "end": "49520"
  },
  {
    "text": "profile uh secondly we're going to talk",
    "start": "49520",
    "end": "51760"
  },
  {
    "text": "about some of the",
    "start": "51760",
    "end": "53160"
  },
  {
    "text": "challenges uh in general in profiling",
    "start": "53160",
    "end": "56039"
  },
  {
    "text": "and secondly in specifically when",
    "start": "56039",
    "end": "59079"
  },
  {
    "text": "profiling in",
    "start": "59079",
    "end": "60519"
  },
  {
    "text": "Rees and lastly we're going to do some",
    "start": "60519",
    "end": "63600"
  },
  {
    "text": "demo I'm going to try to profile",
    "start": "63600",
    "end": "66360"
  },
  {
    "text": "multiple applications and uh do it first",
    "start": "66360",
    "end": "69320"
  },
  {
    "text": "manually and then H by using Cube CTL",
    "start": "69320",
    "end": "74439"
  },
  {
    "text": "flame so profiling is the act of",
    "start": "74439",
    "end": "77640"
  },
  {
    "text": "analyzing the performance of",
    "start": "77640",
    "end": "79320"
  },
  {
    "text": "applications in order to improve Poly",
    "start": "79320",
    "end": "81640"
  },
  {
    "text": "Performance section of code and simple",
    "start": "81640",
    "end": "84560"
  },
  {
    "text": "worlds is basically per profiling is the",
    "start": "84560",
    "end": "87759"
  },
  {
    "text": "process you do when you have some slow",
    "start": "87759",
    "end": "89600"
  },
  {
    "text": "run running application and you want to",
    "start": "89600",
    "end": "91600"
  },
  {
    "text": "understand why this application runs so",
    "start": "91600",
    "end": "93799"
  },
  {
    "text": "slowly uh one of the most popular ways",
    "start": "93799",
    "end": "96600"
  },
  {
    "text": "to visualize a profile to present a",
    "start": "96600",
    "end": "99040"
  },
  {
    "text": "profile is by generating something that",
    "start": "99040",
    "end": "101240"
  },
  {
    "text": "is called Flame",
    "start": "101240",
    "end": "102720"
  },
  {
    "text": "graph uh flame graphs look something",
    "start": "102720",
    "end": "105360"
  },
  {
    "text": "like that it's uh multiple stock traces",
    "start": "105360",
    "end": "109000"
  },
  {
    "text": "stocked on top of each other uh",
    "start": "109000",
    "end": "111520"
  },
  {
    "text": "basically the y- axis is the stock def",
    "start": "111520",
    "end": "113960"
  },
  {
    "text": "is basically the stack itself the x-axis",
    "start": "113960",
    "end": "117079"
  },
  {
    "text": "is the sample population basically the Y",
    "start": "117079",
    "end": "120200"
  },
  {
    "text": "the flame is H the longer a method call",
    "start": "120200",
    "end": "124399"
  },
  {
    "text": "took uh the color is usually used in",
    "start": "124399",
    "end": "127439"
  },
  {
    "text": "order to differentiate between different",
    "start": "127439",
    "end": "129640"
  },
  {
    "text": "type of uh of method cods for example",
    "start": "129640",
    "end": "132520"
  },
  {
    "text": "here H green can be Java code red can be",
    "start": "132520",
    "end": "136120"
  },
  {
    "text": "C code and orang can be some I don't",
    "start": "136120",
    "end": "138760"
  },
  {
    "text": "know k space code and the order is",
    "start": "138760",
    "end": "141560"
  },
  {
    "text": "usually not that important uh H flame",
    "start": "141560",
    "end": "145319"
  },
  {
    "text": "graphs are usually ordered",
    "start": "145319",
    "end": "146879"
  },
  {
    "text": "alphabetically",
    "start": "146879",
    "end": "149879"
  },
  {
    "text": "so I try to to think about why profiling",
    "start": "149959",
    "end": "153319"
  },
  {
    "text": "is so hard and I think it comes down to",
    "start": "153319",
    "end": "156040"
  },
  {
    "text": "two main reasons uh the F the first is",
    "start": "156040",
    "end": "159920"
  },
  {
    "text": "overhead uh simply the act of profiling",
    "start": "159920",
    "end": "163120"
  },
  {
    "text": "an application makes the application run",
    "start": "163120",
    "end": "166239"
  },
  {
    "text": "slower H this is the main reason that",
    "start": "166239",
    "end": "169200"
  },
  {
    "text": "most people try to avoid profiling in",
    "start": "169200",
    "end": "172800"
  },
  {
    "text": "production because we don't want to hurt",
    "start": "172800",
    "end": "174840"
  },
  {
    "text": "our production",
    "start": "174840",
    "end": "177319"
  },
  {
    "text": "applications uh secondly is that if I",
    "start": "177319",
    "end": "180560"
  },
  {
    "text": "have some application that is not ready",
    "start": "180560",
    "end": "183200"
  },
  {
    "text": "to be profiled yet it's not profil I",
    "start": "183200",
    "end": "187120"
  },
  {
    "text": "need to to modify the code in multiple",
    "start": "187120",
    "end": "189879"
  },
  {
    "text": "ways in order to H be able to profile",
    "start": "189879",
    "end": "193040"
  },
  {
    "text": "the",
    "start": "193040",
    "end": "193720"
  },
  {
    "text": "application uh for example in languages",
    "start": "193720",
    "end": "196280"
  },
  {
    "text": "like node.js or python you have to add",
    "start": "196280",
    "end": "199080"
  },
  {
    "text": "some Flags to the execution command or",
    "start": "199080",
    "end": "201760"
  },
  {
    "text": "if you are working for example in goang",
    "start": "201760",
    "end": "204000"
  },
  {
    "text": "you have to import some Library into",
    "start": "204000",
    "end": "206000"
  },
  {
    "text": "your code like a PR",
    "start": "206000",
    "end": "208239"
  },
  {
    "text": "Library uh choosing the right profiler",
    "start": "208239",
    "end": "211720"
  },
  {
    "text": "might solve those two problems but",
    "start": "211720",
    "end": "214360"
  },
  {
    "text": "knowing which profiler to choose is not",
    "start": "214360",
    "end": "217159"
  },
  {
    "text": "an easy task by itself it's something",
    "start": "217159",
    "end": "219720"
  },
  {
    "text": "that is highly dependent both on the",
    "start": "219720",
    "end": "222200"
  },
  {
    "text": "programming language and on the",
    "start": "222200",
    "end": "223840"
  },
  {
    "text": "operating",
    "start": "223840",
    "end": "225000"
  },
  {
    "text": "system and it requires a",
    "start": "225000",
    "end": "228760"
  },
  {
    "text": "research so those two pain points are",
    "start": "228760",
    "end": "232400"
  },
  {
    "text": "only getting harder when dealing with",
    "start": "232400",
    "end": "235200"
  },
  {
    "text": "applications running on top of",
    "start": "235200",
    "end": "237120"
  },
  {
    "text": "kubernetes so uh let's say we want to",
    "start": "237120",
    "end": "240360"
  },
  {
    "text": "add a profile to our container image we",
    "start": "240360",
    "end": "243239"
  },
  {
    "text": "need to Prof to modify the image itself",
    "start": "243239",
    "end": "246560"
  },
  {
    "text": "we need to include the relevant profile",
    "start": "246560",
    "end": "248840"
  },
  {
    "text": "or",
    "start": "248840",
    "end": "249599"
  },
  {
    "text": "binary uh and then modify the",
    "start": "249599",
    "end": "252159"
  },
  {
    "text": "application code after we did all those",
    "start": "252159",
    "end": "254799"
  },
  {
    "text": "changes we have to uh build the modified",
    "start": "254799",
    "end": "257560"
  },
  {
    "text": "image push it to some registry and",
    "start": "257560",
    "end": "259479"
  },
  {
    "text": "deploy it to our cluster this very",
    "start": "259479",
    "end": "262160"
  },
  {
    "text": "deployment May trigger an application",
    "start": "262160",
    "end": "264600"
  },
  {
    "text": "restarts and when you are dealing with a",
    "start": "264600",
    "end": "267440"
  },
  {
    "text": "performance issue you don't want to",
    "start": "267440",
    "end": "269720"
  },
  {
    "text": "restart your application because some",
    "start": "269720",
    "end": "271720"
  },
  {
    "text": "performance issues for example like",
    "start": "271720",
    "end": "273720"
  },
  {
    "text": "memory leaks uh may disappear when",
    "start": "273720",
    "end": "276360"
  },
  {
    "text": "application",
    "start": "276360",
    "end": "278840"
  },
  {
    "text": "restarts so uh we wrote a tool to try to",
    "start": "279039",
    "end": "283240"
  },
  {
    "text": "handles all those uh complexities it's a",
    "start": "283240",
    "end": "286240"
  },
  {
    "text": "cube C plugin called Cube C",
    "start": "286240",
    "end": "289320"
  },
  {
    "text": "flame um so it's a cube CTL plugin you",
    "start": "289320",
    "end": "292280"
  },
  {
    "text": "can easily install it via crew crew is a",
    "start": "292280",
    "end": "295919"
  },
  {
    "text": "package man package manager for cctl",
    "start": "295919",
    "end": "299840"
  },
  {
    "text": "H it's a really cool project if you're",
    "start": "299840",
    "end": "301600"
  },
  {
    "text": "not familiar with it I highly recommend",
    "start": "301600",
    "end": "304080"
  },
  {
    "text": "you check it out uh Cube C flame aims to",
    "start": "304080",
    "end": "308320"
  },
  {
    "text": "make profiling effortless by uh by",
    "start": "308320",
    "end": "313400"
  },
  {
    "text": "removing the need to do code",
    "start": "313400",
    "end": "315639"
  },
  {
    "text": "modifications and by doing profiling",
    "start": "315639",
    "end": "318280"
  },
  {
    "text": "without having to do restart to your",
    "start": "318280",
    "end": "320080"
  },
  {
    "text": "applications or causing any",
    "start": "320080",
    "end": "322440"
  },
  {
    "text": "downtime the way it works is that Cube",
    "start": "322440",
    "end": "324960"
  },
  {
    "text": "CDL flame is basically a facade for",
    "start": "324960",
    "end": "327400"
  },
  {
    "text": "choosing the best profiler for every",
    "start": "327400",
    "end": "329360"
  },
  {
    "text": "task",
    "start": "329360",
    "end": "330280"
  },
  {
    "text": "so if we trying to profile a go",
    "start": "330280",
    "end": "332280"
  },
  {
    "text": "Application it will choose an ebpf based",
    "start": "332280",
    "end": "335039"
  },
  {
    "text": "profiler if we try to do a profile for",
    "start": "335039",
    "end": "338440"
  },
  {
    "text": "Java any jvm based it will choose Asing",
    "start": "338440",
    "end": "341120"
  },
  {
    "text": "profiler for python it will be ppy and",
    "start": "341120",
    "end": "344120"
  },
  {
    "text": "for Ruby it will be ARB spy and many",
    "start": "344120",
    "end": "347120"
  },
  {
    "text": "more languages are coming",
    "start": "347120",
    "end": "350440"
  },
  {
    "text": "soon so the way it basically works it's",
    "start": "350440",
    "end": "353440"
  },
  {
    "text": "so it's a cube CDL uh plugin so it's",
    "start": "353440",
    "end": "356000"
  },
  {
    "text": "basically a command line interface",
    "start": "356000",
    "end": "358039"
  },
  {
    "text": "application that communicates Ates with",
    "start": "358039",
    "end": "360120"
  },
  {
    "text": "the kubernetes apii server it detects uh",
    "start": "360120",
    "end": "364479"
  },
  {
    "text": "which node the the target container is",
    "start": "364479",
    "end": "367240"
  },
  {
    "text": "scheduled on and it creates another",
    "start": "367240",
    "end": "369840"
  },
  {
    "text": "container the profile profiler container",
    "start": "369840",
    "end": "373479"
  },
  {
    "text": "uh which create which H contains all the",
    "start": "373479",
    "end": "376120"
  },
  {
    "text": "profiler",
    "start": "376120",
    "end": "378160"
  },
  {
    "text": "binaries um those containers are sharing",
    "start": "378160",
    "end": "381199"
  },
  {
    "text": "the same process ID's namespace and the",
    "start": "381199",
    "end": "383759"
  },
  {
    "text": "same file system via host BF H this way",
    "start": "383759",
    "end": "387639"
  },
  {
    "text": "we can inject the profiler into a",
    "start": "387639",
    "end": "389599"
  },
  {
    "text": "running container a running Pod without",
    "start": "389599",
    "end": "391479"
  },
  {
    "text": "having to do any code modifications or",
    "start": "391479",
    "end": "394319"
  },
  {
    "text": "any",
    "start": "394319",
    "end": "396360"
  },
  {
    "text": "restarts so uh enough with presentations",
    "start": "396360",
    "end": "399520"
  },
  {
    "text": "let's do some",
    "start": "399520",
    "end": "400800"
  },
  {
    "text": "profiling um so in order to demonstrate",
    "start": "400800",
    "end": "404120"
  },
  {
    "text": "uh this tool this profiling I'm going to",
    "start": "404120",
    "end": "407120"
  },
  {
    "text": "use a microservices demo from Google",
    "start": "407120",
    "end": "409479"
  },
  {
    "text": "Cloud it's like a u demo of e-commerce",
    "start": "409479",
    "end": "414520"
  },
  {
    "text": "app which contains like 10 microservices",
    "start": "414520",
    "end": "417879"
  },
  {
    "text": "in five different uh",
    "start": "417879",
    "end": "420160"
  },
  {
    "text": "programming languages and even some Rish",
    "start": "420160",
    "end": "422479"
  },
  {
    "text": "database uh we are going to focus on two",
    "start": "422479",
    "end": "426240"
  },
  {
    "text": "uh main applications one in Java and one",
    "start": "426240",
    "end": "429080"
  },
  {
    "text": "in Python the Java one is a ad service",
    "start": "429080",
    "end": "431960"
  },
  {
    "text": "the application that is responsible for",
    "start": "431960",
    "end": "434479"
  },
  {
    "text": "displaying advertisements and in Python",
    "start": "434479",
    "end": "437319"
  },
  {
    "text": "it's the recommendation service it's the",
    "start": "437319",
    "end": "439120"
  },
  {
    "text": "application that is responsible for H",
    "start": "439120",
    "end": "441960"
  },
  {
    "text": "showing recommendations on products so",
    "start": "441960",
    "end": "445199"
  },
  {
    "text": "just to give you like a an idea what is",
    "start": "445199",
    "end": "447400"
  },
  {
    "text": "this application it's simply e-commerce",
    "start": "447400",
    "end": "450000"
  },
  {
    "text": "site you can buy",
    "start": "450000",
    "end": "452000"
  },
  {
    "text": "products okay to the demo so um I",
    "start": "452000",
    "end": "456720"
  },
  {
    "text": "already have this application deployed",
    "start": "456720",
    "end": "458639"
  },
  {
    "text": "here locally on my mini Cube cluster so",
    "start": "458639",
    "end": "461879"
  },
  {
    "text": "let's start with uh doing the profiling",
    "start": "461879",
    "end": "464680"
  },
  {
    "text": "first manually and then we'll try to",
    "start": "464680",
    "end": "466520"
  },
  {
    "text": "improve this process using CBE C flame",
    "start": "466520",
    "end": "469919"
  },
  {
    "text": "so the first thing we need to do is to",
    "start": "469919",
    "end": "471720"
  },
  {
    "text": "modify the container images to include",
    "start": "471720",
    "end": "474440"
  },
  {
    "text": "profiler so let's start with the",
    "start": "474440",
    "end": "476400"
  },
  {
    "text": "recommendation service",
    "start": "476400",
    "end": "479919"
  },
  {
    "text": "I'm going to go ahead",
    "start": "479919",
    "end": "482599"
  },
  {
    "text": "and modify the",
    "start": "482599",
    "end": "484800"
  },
  {
    "text": "image um so the I already did the",
    "start": "484800",
    "end": "489759"
  },
  {
    "text": "research and choose and chose to use ppy",
    "start": "489759",
    "end": "493000"
  },
  {
    "text": "profiler because it's a python",
    "start": "493000",
    "end": "494360"
  },
  {
    "text": "application there are many other profil",
    "start": "494360",
    "end": "496560"
  },
  {
    "text": "profil as you can use and uh to add it",
    "start": "496560",
    "end": "500440"
  },
  {
    "text": "to Simply add it to the container image",
    "start": "500440",
    "end": "503000"
  },
  {
    "text": "I'm going to add a a pip install ppy",
    "start": "503000",
    "end": "506599"
  },
  {
    "text": "command and um I already have scaffold",
    "start": "506599",
    "end": "510240"
  },
  {
    "text": "running in the background and scaffold",
    "start": "510240",
    "end": "512240"
  },
  {
    "text": "is like a local cicd that automatically",
    "start": "512240",
    "end": "515640"
  },
  {
    "text": "watches all the files that have changing",
    "start": "515640",
    "end": "518399"
  },
  {
    "text": "and it's going to build the image for me",
    "start": "518399",
    "end": "521200"
  },
  {
    "text": "and push it to a registry and deploy to",
    "start": "521200",
    "end": "523000"
  },
  {
    "text": "the cluster once I will save this Docker",
    "start": "523000",
    "end": "525200"
  },
  {
    "text": "file so let's go ahead and do",
    "start": "525200",
    "end": "528760"
  },
  {
    "text": "that let's watch him do his",
    "start": "528760",
    "end": "533560"
  },
  {
    "text": "thing let's wait a second and",
    "start": "534000",
    "end": "539519"
  },
  {
    "text": "and we should have a freshly created",
    "start": "541120",
    "end": "544200"
  },
  {
    "text": "recommendation service you can see by",
    "start": "544200",
    "end": "546079"
  },
  {
    "text": "the age so now we have the profiler",
    "start": "546079",
    "end": "549600"
  },
  {
    "text": "installed on top of the recommendation",
    "start": "549600",
    "end": "551680"
  },
  {
    "text": "service let's go ahead and invoke it so",
    "start": "551680",
    "end": "555000"
  },
  {
    "text": "the first thing you need to do is to",
    "start": "555000",
    "end": "557240"
  },
  {
    "text": "execute H into the Pod and then invoke",
    "start": "557240",
    "end": "560920"
  },
  {
    "text": "the",
    "start": "560920",
    "end": "563160"
  },
  {
    "text": "profile um the way you invoke the p by",
    "start": "565959",
    "end": "569640"
  },
  {
    "text": "profiler is by running those",
    "start": "569640",
    "end": "573880"
  },
  {
    "text": "commands so what these commands do is",
    "start": "574519",
    "end": "577519"
  },
  {
    "text": "basically saying let's profile a the",
    "start": "577519",
    "end": "579959"
  },
  {
    "text": "process ID number one for 10 seconds and",
    "start": "579959",
    "end": "582880"
  },
  {
    "text": "save it as a /tmp profile. SVG file so",
    "start": "582880",
    "end": "587640"
  },
  {
    "text": "let's go ahead and invoke this profile",
    "start": "587640",
    "end": "592120"
  },
  {
    "text": "okay great so now we created a",
    "start": "599600",
    "end": "602920"
  },
  {
    "text": "profile um let's copy over this file to",
    "start": "602920",
    "end": "607120"
  },
  {
    "text": "to my machine so we can um watch it on",
    "start": "607120",
    "end": "611680"
  },
  {
    "text": "the browser so I'm going to use a CU",
    "start": "611680",
    "end": "614120"
  },
  {
    "text": "CCP uh from /tmp profile. SVG to here",
    "start": "614120",
    "end": "620040"
  },
  {
    "text": "let's call it re.",
    "start": "620040",
    "end": "622959"
  },
  {
    "text": "SVG okay and now we can open",
    "start": "622959",
    "end": "628680"
  },
  {
    "text": "just a",
    "start": "631880",
    "end": "634279"
  },
  {
    "text": "second and we can open our LV flame",
    "start": "635000",
    "end": "637800"
  },
  {
    "text": "graph and see uh exactly what our",
    "start": "637800",
    "end": "640880"
  },
  {
    "text": "recommendation service is doing and",
    "start": "640880",
    "end": "643160"
  },
  {
    "text": "analyze it and find all the bugs and the",
    "start": "643160",
    "end": "645880"
  },
  {
    "text": "poorly performing uh code",
    "start": "645880",
    "end": "648839"
  },
  {
    "text": "sections so now let's do the same but",
    "start": "648839",
    "end": "651480"
  },
  {
    "text": "for the Java service so again we're",
    "start": "651480",
    "end": "654320"
  },
  {
    "text": "going to edit the container image",
    "start": "654320",
    "end": "658880"
  },
  {
    "text": "uh for Java I already did the the",
    "start": "661800",
    "end": "663639"
  },
  {
    "text": "research and I chose to to run it with",
    "start": "663639",
    "end": "666040"
  },
  {
    "text": "Asing",
    "start": "666040",
    "end": "667079"
  },
  {
    "text": "profiler uh this time we're going to add",
    "start": "667079",
    "end": "669519"
  },
  {
    "text": "it to the container image uh a little",
    "start": "669519",
    "end": "672360"
  },
  {
    "text": "bit differently we're going to do W get",
    "start": "672360",
    "end": "674560"
  },
  {
    "text": "download the latest release from GitHub",
    "start": "674560",
    "end": "676920"
  },
  {
    "text": "extract it uh the the T gzip file and",
    "start": "676920",
    "end": "681320"
  },
  {
    "text": "move it to slop profile again I will",
    "start": "681320",
    "end": "684639"
  },
  {
    "text": "save this file and scaffold will build",
    "start": "684639",
    "end": "687079"
  },
  {
    "text": "the the image for me and H deploy to the",
    "start": "687079",
    "end": "693000"
  },
  {
    "text": "cluster so let's wait a",
    "start": "694040",
    "end": "696040"
  },
  {
    "text": "[Music]",
    "start": "696040",
    "end": "697639"
  },
  {
    "text": "second",
    "start": "697639",
    "end": "699920"
  },
  {
    "text": "great and now if we do c c pods we",
    "start": "699920",
    "end": "703959"
  },
  {
    "text": "should have a newly created ad service",
    "start": "703959",
    "end": "707120"
  },
  {
    "text": "with the age of 8",
    "start": "707120",
    "end": "708920"
  },
  {
    "text": "seconds and now we can execute into this",
    "start": "708920",
    "end": "712279"
  },
  {
    "text": "pod",
    "start": "712279",
    "end": "714680"
  },
  {
    "text": "again and invoke the profiler",
    "start": "716480",
    "end": "721240"
  },
  {
    "text": "so let's go to the profiler",
    "start": "721320",
    "end": "724040"
  },
  {
    "text": "directory and again we're going to run",
    "start": "724040",
    "end": "726480"
  },
  {
    "text": "this command which basically says Pro",
    "start": "726480",
    "end": "729160"
  },
  {
    "text": "profile for 10 seconds the process ID",
    "start": "729160",
    "end": "731560"
  },
  {
    "text": "number one and save it at slmp profile.",
    "start": "731560",
    "end": "736760"
  },
  {
    "text": "HTML okay great so now let's do the same",
    "start": "746160",
    "end": "749199"
  },
  {
    "text": "quick let's copy it over to my",
    "start": "749199",
    "end": "752460"
  },
  {
    "text": "[Music]",
    "start": "752460",
    "end": "755599"
  },
  {
    "text": "machine let's call it ss.",
    "start": "757920",
    "end": "762240"
  },
  {
    "text": "HTML and now we can open",
    "start": "762240",
    "end": "764760"
  },
  {
    "text": "it and see again what our Java",
    "start": "764760",
    "end": "768199"
  },
  {
    "text": "application is doing and analyze this",
    "start": "768199",
    "end": "770279"
  },
  {
    "text": "profiling so let's recap for a minute",
    "start": "770279",
    "end": "773639"
  },
  {
    "text": "what we just did all this manual process",
    "start": "773639",
    "end": "776839"
  },
  {
    "text": "first we had to do we had to do research",
    "start": "776839",
    "end": "778839"
  },
  {
    "text": "we had to find out what is the best",
    "start": "778839",
    "end": "780600"
  },
  {
    "text": "profiler first for Python and secondly",
    "start": "780600",
    "end": "783279"
  },
  {
    "text": "for Java the second step we have to do",
    "start": "783279",
    "end": "786279"
  },
  {
    "text": "is to add it to the container uh as you",
    "start": "786279",
    "end": "789440"
  },
  {
    "text": "saw in every profilers there is a",
    "start": "789440",
    "end": "791240"
  },
  {
    "text": "different way to Ed it uh to The",
    "start": "791240",
    "end": "793199"
  },
  {
    "text": "Container sometimes you install it via",
    "start": "793199",
    "end": "795600"
  },
  {
    "text": "package man package manager like peep",
    "start": "795600",
    "end": "798480"
  },
  {
    "text": "sometimes you have to do W get and",
    "start": "798480",
    "end": "800880"
  },
  {
    "text": "extract it there are many different",
    "start": "800880",
    "end": "803920"
  },
  {
    "text": "ways uh the third step the third step is",
    "start": "803920",
    "end": "806959"
  },
  {
    "text": "to actually execute into the container",
    "start": "806959",
    "end": "809240"
  },
  {
    "text": "and invoke the profiler there are two",
    "start": "809240",
    "end": "812000"
  },
  {
    "text": "main issues with this step first",
    "start": "812000",
    "end": "814839"
  },
  {
    "text": "executing to into the container and",
    "start": "814839",
    "end": "817519"
  },
  {
    "text": "running this command actually assumes",
    "start": "817519",
    "end": "820079"
  },
  {
    "text": "there is some a a shell shell on the",
    "start": "820079",
    "end": "824160"
  },
  {
    "text": "container on the image which is not",
    "start": "824160",
    "end": "826160"
  },
  {
    "text": "always true for example if you're using",
    "start": "826160",
    "end": "828480"
  },
  {
    "text": "a really tiny image like distes or",
    "start": "828480",
    "end": "831240"
  },
  {
    "text": "images like that you don't always have",
    "start": "831240",
    "end": "833920"
  },
  {
    "text": "shell in your container image so this",
    "start": "833920",
    "end": "837480"
  },
  {
    "text": "whole manual process might not even work",
    "start": "837480",
    "end": "840440"
  },
  {
    "text": "but let's say you do have a shell you",
    "start": "840440",
    "end": "842480"
  },
  {
    "text": "still have to execute into the into the",
    "start": "842480",
    "end": "844560"
  },
  {
    "text": "container and run some kind of command",
    "start": "844560",
    "end": "847399"
  },
  {
    "text": "every profiler have a different API you",
    "start": "847399",
    "end": "850160"
  },
  {
    "text": "need to understand and read",
    "start": "850160",
    "end": "852440"
  },
  {
    "text": "documentation and know what are the",
    "start": "852440",
    "end": "855639"
  },
  {
    "text": "command line arguments and what every",
    "start": "855639",
    "end": "858040"
  },
  {
    "text": "argument",
    "start": "858040",
    "end": "859639"
  },
  {
    "text": "does and after you did all this you",
    "start": "859639",
    "end": "862360"
  },
  {
    "text": "still have to go ahead and copy the file",
    "start": "862360",
    "end": "865320"
  },
  {
    "text": "over to your machine so you can examine",
    "start": "865320",
    "end": "867160"
  },
  {
    "text": "it and open it and visualize it in some",
    "start": "867160",
    "end": "869560"
  },
  {
    "text": "kind of browser for",
    "start": "869560",
    "end": "871199"
  },
  {
    "text": "example so overall not a very friendly",
    "start": "871199",
    "end": "874880"
  },
  {
    "text": "process uh let's try to make it better",
    "start": "874880",
    "end": "877880"
  },
  {
    "text": "so the first thing I'm going to do is to",
    "start": "877880",
    "end": "879600"
  },
  {
    "text": "roll back the changes that I did so we",
    "start": "879600",
    "end": "882600"
  },
  {
    "text": "can remove the profiler from the image I",
    "start": "882600",
    "end": "885320"
  },
  {
    "text": "will save the files and scaffold will",
    "start": "885320",
    "end": "888360"
  },
  {
    "text": "automatically deploy it for",
    "start": "888360",
    "end": "892040"
  },
  {
    "text": "me great so now let me let me show you",
    "start": "896560",
    "end": "899360"
  },
  {
    "text": "how we're going to do it with Cube C",
    "start": "899360",
    "end": "900720"
  },
  {
    "text": "flame so for the purpose I'm going to do",
    "start": "900720",
    "end": "904000"
  },
  {
    "text": "it in two terminals side by side the",
    "start": "904000",
    "end": "906880"
  },
  {
    "text": "right terminal is going to have some",
    "start": "906880",
    "end": "908800"
  },
  {
    "text": "watch on Cube steel get pods this way we",
    "start": "908800",
    "end": "911959"
  },
  {
    "text": "can see all the on the pods that created",
    "start": "911959",
    "end": "914639"
  },
  {
    "text": "in real time and it will help us to",
    "start": "914639",
    "end": "916759"
  },
  {
    "text": "understand better how ql flame Works",
    "start": "916759",
    "end": "918800"
  },
  {
    "text": "behind the scenes and here I'm going to",
    "start": "918800",
    "end": "921360"
  },
  {
    "text": "actually execute the commands so as I",
    "start": "921360",
    "end": "924360"
  },
  {
    "text": "said area Cube C flame it's basically a",
    "start": "924360",
    "end": "926680"
  },
  {
    "text": "cube CTL plugin so after you install it",
    "start": "926680",
    "end": "929959"
  },
  {
    "text": "you simply use it like any other",
    "start": "929959",
    "end": "932079"
  },
  {
    "text": "subcomment in CBE CDL so you do Cube CDL",
    "start": "932079",
    "end": "935199"
  },
  {
    "text": "flame let's start with the Java",
    "start": "935199",
    "end": "938600"
  },
  {
    "text": "service H you need to specify which",
    "start": "938600",
    "end": "940959"
  },
  {
    "text": "language let's say",
    "start": "940959",
    "end": "942839"
  },
  {
    "text": "Java uh for how long for 10 seconds and",
    "start": "942839",
    "end": "946440"
  },
  {
    "text": "let's save it at",
    "start": "946440",
    "end": "948199"
  },
  {
    "text": "s2.",
    "start": "948199",
    "end": "950000"
  },
  {
    "text": "SVG so once we run it you can see that a",
    "start": "950000",
    "end": "953680"
  },
  {
    "text": "new h Profile pod is created on the same",
    "start": "953680",
    "end": "957480"
  },
  {
    "text": "node it will start running it will",
    "start": "957480",
    "end": "959759"
  },
  {
    "text": "attach to the running ad Service uh",
    "start": "959759",
    "end": "963399"
  },
  {
    "text": "invoke the profiler automatically for us",
    "start": "963399",
    "end": "966319"
  },
  {
    "text": "and we H terminate when it finish and",
    "start": "966319",
    "end": "969839"
  },
  {
    "text": "the file is also copied over to our",
    "start": "969839",
    "end": "972279"
  },
  {
    "text": "machine and the another cool thing",
    "start": "972279",
    "end": "975279"
  },
  {
    "text": "is that ad service you can look at the",
    "start": "975279",
    "end": "978199"
  },
  {
    "text": "age did not restart it at all so now I",
    "start": "978199",
    "end": "981639"
  },
  {
    "text": "can open the file that is",
    "start": "981639",
    "end": "984720"
  },
  {
    "text": "created and again we have the same flame",
    "start": "984720",
    "end": "987160"
  },
  {
    "text": "graph as earlier",
    "start": "987160",
    "end": "989920"
  },
  {
    "text": "let's do the same thing but for the",
    "start": "989920",
    "end": "991480"
  },
  {
    "text": "python",
    "start": "991480",
    "end": "993839"
  },
  {
    "text": "application again from 30 seconds and",
    "start": "1002720",
    "end": "1005959"
  },
  {
    "text": "let's call it R 2",
    "start": "1005959",
    "end": "1008680"
  },
  {
    "text": "SVG again we we can see that a new",
    "start": "1008680",
    "end": "1011519"
  },
  {
    "text": "profile pod is created on the same node",
    "start": "1011519",
    "end": "1014600"
  },
  {
    "text": "with the relevant profiler inside it",
    "start": "1014600",
    "end": "1016560"
  },
  {
    "text": "will attach to the recommendation",
    "start": "1016560",
    "end": "1018399"
  },
  {
    "text": "service",
    "start": "1018399",
    "end": "1019959"
  },
  {
    "text": "uh run the profiler and terminate at the",
    "start": "1019959",
    "end": "1025079"
  },
  {
    "text": "end and again we can open the same image",
    "start": "1025079",
    "end": "1027959"
  },
  {
    "text": "the same flame graphs and understand",
    "start": "1027959",
    "end": "1030120"
  },
  {
    "text": "exactly what our recommendation service",
    "start": "1030120",
    "end": "1032640"
  },
  {
    "text": "is currently",
    "start": "1032640",
    "end": "1034520"
  },
  {
    "text": "doing so this uh keep plugin this flame",
    "start": "1034520",
    "end": "1039120"
  },
  {
    "text": "plugin actually saves us from learning H",
    "start": "1039120",
    "end": "1043120"
  },
  {
    "text": "which is the best profiler to use what",
    "start": "1043120",
    "end": "1045319"
  },
  {
    "text": "is the specific API details and copying",
    "start": "1045319",
    "end": "1049440"
  },
  {
    "text": "over the file having to restart our",
    "start": "1049440",
    "end": "1052960"
  },
  {
    "text": "application having",
    "start": "1052960",
    "end": "1055200"
  },
  {
    "text": "to have a shell on our container image",
    "start": "1055200",
    "end": "1059039"
  },
  {
    "text": "all those are uh saved for us by this ql",
    "start": "1059039",
    "end": "1064160"
  },
  {
    "text": "plugin so this was for the",
    "start": "1064160",
    "end": "1068640"
  },
  {
    "text": "demo let's go back to so actually the",
    "start": "1069640",
    "end": "1074200"
  },
  {
    "text": "last thing that I wanted to talk about",
    "start": "1074200",
    "end": "1076400"
  },
  {
    "text": "is like a few points for the the future",
    "start": "1076400",
    "end": "1079200"
  },
  {
    "text": "of profiling as I see it h there are",
    "start": "1079200",
    "end": "1082039"
  },
  {
    "text": "three main features that are going to",
    "start": "1082039",
    "end": "1084440"
  },
  {
    "text": "make profiling better in the",
    "start": "1084440",
    "end": "1086480"
  },
  {
    "text": "future the first thing is a newly",
    "start": "1086480",
    "end": "1090000"
  },
  {
    "text": "featured in kubernetes called the F",
    "start": "1090000",
    "end": "1092520"
  },
  {
    "text": "containers uh it's it's already in Alpha",
    "start": "1092520",
    "end": "1095720"
  },
  {
    "text": "in version",
    "start": "1095720",
    "end": "1097159"
  },
  {
    "text": "1.22 uh with the feature gate H",
    "start": "1097159",
    "end": "1100000"
  },
  {
    "text": "basically it brings a native support to",
    "start": "1100000",
    "end": "1102039"
  },
  {
    "text": "kubernetes to attach a a container into",
    "start": "1102039",
    "end": "1105640"
  },
  {
    "text": "a running Pod without having to do all",
    "start": "1105640",
    "end": "1107880"
  },
  {
    "text": "those rock around that I'm currently",
    "start": "1107880",
    "end": "1109919"
  },
  {
    "text": "doing H it will make profiling much more",
    "start": "1109919",
    "end": "1112880"
  },
  {
    "text": "accessible without having to H use host",
    "start": "1112880",
    "end": "1116080"
  },
  {
    "text": "path or process ID",
    "start": "1116080",
    "end": "1118760"
  },
  {
    "text": "namespaces the second idea is a ebpf new",
    "start": "1118760",
    "end": "1122679"
  },
  {
    "text": "feature ebpf by itself is a huge game",
    "start": "1122679",
    "end": "1125840"
  },
  {
    "text": "changer regarding everything relating to",
    "start": "1125840",
    "end": "1128559"
  },
  {
    "text": "profiling and",
    "start": "1128559",
    "end": "1130480"
  },
  {
    "text": "observability H but it's whole new topic",
    "start": "1130480",
    "end": "1133520"
  },
  {
    "text": "by itself there are tons of other talks",
    "start": "1133520",
    "end": "1136280"
  },
  {
    "text": "here in cucon on specifically on ebpf",
    "start": "1136280",
    "end": "1139240"
  },
  {
    "text": "they recently added a new feature called",
    "start": "1139240",
    "end": "1141080"
  },
  {
    "text": "compile ones run everywhere which makes",
    "start": "1141080",
    "end": "1143919"
  },
  {
    "text": "running ebpf applications much more",
    "start": "1143919",
    "end": "1146480"
  },
  {
    "text": "easier you don't have to have all those",
    "start": "1146480",
    "end": "1149600"
  },
  {
    "text": "uh Linux headers inside your node or",
    "start": "1149600",
    "end": "1153760"
  },
  {
    "text": "container and the third uh the third uh",
    "start": "1153760",
    "end": "1156640"
  },
  {
    "text": "point is H continuous profiling tools uh",
    "start": "1156640",
    "end": "1160520"
  },
  {
    "text": "there are more and more uh tools that",
    "start": "1160520",
    "end": "1162559"
  },
  {
    "text": "try to make profiling a continuously",
    "start": "1162559",
    "end": "1164880"
  },
  {
    "text": "running process with a flame graphs that",
    "start": "1164880",
    "end": "1167880"
  },
  {
    "text": "are generated continuously and always on",
    "start": "1167880",
    "end": "1171400"
  },
  {
    "text": "I tried a tool named Pro filer a few",
    "start": "1171400",
    "end": "1174720"
  },
  {
    "text": "days ago which looks very promising and",
    "start": "1174720",
    "end": "1178480"
  },
  {
    "text": "there are lot of work to do in this area",
    "start": "1178480",
    "end": "1181120"
  },
  {
    "text": "but once those tools are become mature H",
    "start": "1181120",
    "end": "1185000"
  },
  {
    "text": "it will change the way we do profiling H",
    "start": "1185000",
    "end": "1187440"
  },
  {
    "text": "for the",
    "start": "1187440",
    "end": "1189200"
  },
  {
    "text": "B uh that's it h thank you for listening",
    "start": "1189200",
    "end": "1193440"
  },
  {
    "text": "if you have any questions I'll be happy",
    "start": "1193440",
    "end": "1195120"
  },
  {
    "text": "to answer",
    "start": "1195120",
    "end": "1196510"
  },
  {
    "text": "[Applause]",
    "start": "1196510",
    "end": "1201390"
  }
]