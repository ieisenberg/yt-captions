[
  {
    "text": "okay so we are going to start welcome to the next cube con session cube contact",
    "start": "30",
    "end": "8149"
  },
  {
    "text": "my name is P odd I'm a member of program committee of this conference I'm here to",
    "start": "8150",
    "end": "13650"
  },
  {
    "text": "introduce the next speakers so Guido and Raphael are working for slack where they",
    "start": "13650",
    "end": "22460"
  },
  {
    "text": "designed and built and scaled a distributed database service based on",
    "start": "22460",
    "end": "28619"
  },
  {
    "text": "with us if you are curious how please",
    "start": "28619",
    "end": "34260"
  },
  {
    "text": "join me and welcome on the stage Rafael Chacon and Guido yeah Quinn tea",
    "start": "34260",
    "end": "41989"
  },
  {
    "text": "hello everyone and thank you like we are so excited to be here and sharing our experience with all of you and also for",
    "start": "44720",
    "end": "51800"
  },
  {
    "text": "us is super cool to see so many people interested about the test and I just want to ask you a key question who knew",
    "start": "51800",
    "end": "59270"
  },
  {
    "text": "about be test before CN CF could you raise your hand cool okay without further ado I just I",
    "start": "59270",
    "end": "66020"
  },
  {
    "text": "gained a little bit a little bit more about me my name is rafael chicken I'm",
    "start": "66020",
    "end": "71740"
  },
  {
    "text": "infrastructure lead engineer at slack and I've been part of the team that took me tests from a prototype to now B nor",
    "start": "71740",
    "end": "78410"
  },
  {
    "text": "main data store in production as part of that I also made a big amount of",
    "start": "78410",
    "end": "83479"
  },
  {
    "text": "contributions to be test open source project and nama maintainer there my",
    "start": "83479",
    "end": "89930"
  },
  {
    "text": "name is Vidya Quinte and they work a site reliability engineer previously it was one of the first areas lack where I",
    "start": "89930",
    "end": "96890"
  },
  {
    "text": "design and build the first implementation of ITA's I'm not working for them again as freelancer for some",
    "start": "96890",
    "end": "102680"
  },
  {
    "text": "special project so the agenda for today I start with an introduction about our",
    "start": "102680",
    "end": "108440"
  },
  {
    "text": "current databases set up and will then talk about what running database in a",
    "start": "108440",
    "end": "114170"
  },
  {
    "text": "cloud world means jumping then on challenges of fault tolerance in isolation key lesson and then I hope",
    "start": "114170",
    "end": "121550"
  },
  {
    "text": "we're going to have plenty of time for Q&A so for who is not familiar with our",
    "start": "121550",
    "end": "127729"
  },
  {
    "text": "product here is our mission statement slack is where work happened slack is a",
    "start": "127729",
    "end": "134510"
  },
  {
    "text": "new layer that the business technology stack that bring together people application and data let's now talk",
    "start": "134510",
    "end": "142700"
  },
  {
    "text": "about our database setup so first of all",
    "start": "142700",
    "end": "147770"
  },
  {
    "text": "my secret is the primary storage and single source of truth for all our customer data we currently run on two",
    "start": "147770",
    "end": "156290"
  },
  {
    "text": "different set of sharp or infrastructure what we internally now call legacy shard",
    "start": "156290",
    "end": "161720"
  },
  {
    "text": "and Vitas we are in the process of migrating our entire data set to with us",
    "start": "161720",
    "end": "168379"
  },
  {
    "text": "and we plan to complete this migration by mid or end next year so due to time",
    "start": "168379",
    "end": "176540"
  },
  {
    "text": "constraint we are not going to go into like much detail about why we are moving away from our previous",
    "start": "176540",
    "end": "182750"
  },
  {
    "text": "architecture or why we should be tasks or how does it work as all of those",
    "start": "182750",
    "end": "188240"
  },
  {
    "text": "topic have been already covered in few presentation that we link here in this slide the TLDR is any way that we wanted",
    "start": "188240",
    "end": "196520"
  },
  {
    "text": "to support like different sharding models that our product can benefit from",
    "start": "196520",
    "end": "201650"
  },
  {
    "text": "as well as work around some shard size limits improve our inefficient resource",
    "start": "201650",
    "end": "207650"
  },
  {
    "text": "distribution and operational overhead that was required to run the previous architecture so legacy shard ran on a",
    "start": "207650",
    "end": "217550"
  },
  {
    "text": "pretty unique architecture so it's a my sequel master master set up our key is",
    "start": "217550",
    "end": "223610"
  },
  {
    "text": "via a synchronous replication the charting is done at the application level and the only shard in his support",
    "start": "223610",
    "end": "230840"
  },
  {
    "text": "is workspace or team ID this architecture surveyed us very well",
    "start": "230840",
    "end": "236960"
  },
  {
    "text": "for several years of hyperbolic growth but we knew that eventually we needed to change it the Vitesse's char topology",
    "start": "236960",
    "end": "245630"
  },
  {
    "text": "use a more traditional primary replica setup that is fully managed by with us",
    "start": "245630",
    "end": "253030"
  },
  {
    "text": "here you can see few of the statistic of our database tier that can give you a",
    "start": "253450",
    "end": "258980"
  },
  {
    "text": "better overview of the scale that we are operating today as today we serve over",
    "start": "258980",
    "end": "265610"
  },
  {
    "text": "50 billion queries with this data flowing from thousand of terabytes",
    "start": "265610",
    "end": "271340"
  },
  {
    "text": "stored on thousand of database server and I currently we serve roughly 40% of",
    "start": "271340",
    "end": "278420"
  },
  {
    "text": "those QPS with this new architecture but we are targeting to reach 70% by the end",
    "start": "278420",
    "end": "285440"
  },
  {
    "text": "of the year at peak we are serving several millions of queries per second let's now discuss",
    "start": "285440",
    "end": "296270"
  },
  {
    "text": "what running database in a cloud would mean when we start a new project we",
    "start": "296270",
    "end": "304070"
  },
  {
    "text": "usually start with a small fleet of hosts like the customization is easy we",
    "start": "304070",
    "end": "309169"
  },
  {
    "text": "can treat our infrastructure as pets each one can have like its own name each one can even",
    "start": "309169",
    "end": "315450"
  },
  {
    "text": "serve a specific workload or even a set of table at this scale when we make a",
    "start": "315450",
    "end": "322830"
  },
  {
    "text": "change we can fit that variation in our head this is not idea but probably still okay",
    "start": "322830",
    "end": "329669"
  },
  {
    "text": "again all the change can fit in our head so we're kind of good now imagine a",
    "start": "329669",
    "end": "336600"
  },
  {
    "text": "similar situation but at a much larger scale what if you have a hundred or",
    "start": "336600",
    "end": "343380"
  },
  {
    "text": "thousand of database server at that scale it's hard to keep track of those",
    "start": "343380",
    "end": "349800"
  },
  {
    "text": "changes as well as correlate them with performance regression production issue",
    "start": "349800",
    "end": "354930"
  },
  {
    "text": "new releases and so on to avoid that we",
    "start": "354930",
    "end": "360630"
  },
  {
    "text": "should strive to adopt few of the concept of a beautiful infrastructure where for example instance are untouched",
    "start": "360630",
    "end": "367860"
  },
  {
    "text": "after getting provision configuration change only happened through reprovision",
    "start": "367860",
    "end": "372900"
  },
  {
    "text": "in those hosts and no in place patching is allowed at that stage technically you",
    "start": "372900",
    "end": "378750"
  },
  {
    "text": "can run with a read-only file system and those live operation like SSH become",
    "start": "378750",
    "end": "384300"
  },
  {
    "text": "useless of course you need to invest in monitoring logging and troubleshooting",
    "start": "384300",
    "end": "389970"
  },
  {
    "text": "tools to make this transition happen but the benefits that are greater than the app they effort that you need to input",
    "start": "389970",
    "end": "398690"
  },
  {
    "text": "let's now talk about instance failure so how do we treat an instance failure",
    "start": "399979",
    "end": "405450"
  },
  {
    "text": "event in a cloud environment the good thing is that we have a couple of click",
    "start": "405450",
    "end": "410640"
  },
  {
    "text": "or even automatically we can reap revision a host so should we trust an",
    "start": "410640",
    "end": "416610"
  },
  {
    "text": "instance that fail us even once if you",
    "start": "416610",
    "end": "422729"
  },
  {
    "text": "are flying a plane and your engine fail all bets are off from that moment on the plane is trying",
    "start": "422729",
    "end": "430380"
  },
  {
    "text": "to kill you and from that moment on the plane is a problem of the insurance company your primary goal is to save",
    "start": "430380",
    "end": "437580"
  },
  {
    "text": "yourself and don't care if the plane is not going to survive and the same",
    "start": "437580",
    "end": "443099"
  },
  {
    "text": "concept should apply to databases especially in the cloud when an instance",
    "start": "443099",
    "end": "448620"
  },
  {
    "text": "fail it can't be trust just replace it okay",
    "start": "448620",
    "end": "455789"
  },
  {
    "text": "this sounds good but also challenging for few set up like if you use an actual",
    "start": "455789",
    "end": "461460"
  },
  {
    "text": "storage you can simply just stop and start your instance as your storage changing is the couple from the compute",
    "start": "461460",
    "end": "468570"
  },
  {
    "text": "engine if you use it in some store that's unfortunately different like to",
    "start": "468570",
    "end": "474120"
  },
  {
    "text": "do that you need to complete a restore and so download possibly terabyte of",
    "start": "474120",
    "end": "479310"
  },
  {
    "text": "data from your last backup the compress it on the horse then my sequel has to",
    "start": "479310",
    "end": "485340"
  },
  {
    "text": "start and catch up with replication and due to that like recovery time is most",
    "start": "485340",
    "end": "491490"
  },
  {
    "text": "impacted by the available bandwidth that you have are unique and despite that is virtual is not infinite look at this",
    "start": "491490",
    "end": "501120"
  },
  {
    "text": "point there is also the never-ending question about running a bigger number of small shard versus running a small",
    "start": "501120",
    "end": "508949"
  },
  {
    "text": "number of big shots so my personal answer is that it depends it depends on",
    "start": "508949",
    "end": "515880"
  },
  {
    "text": "your setup it depends on your workload in depends on your data set and so on so",
    "start": "515880",
    "end": "521370"
  },
  {
    "text": "there are few Pro about running a higher number of small shard like for example",
    "start": "521370",
    "end": "526800"
  },
  {
    "text": "having like lower recovery time like reduce blast radius and those who have",
    "start": "526800",
    "end": "532380"
  },
  {
    "text": "like much distributed workload and even at the host level less contention that",
    "start": "532380",
    "end": "538290"
  },
  {
    "text": "is in my sequel especially is a big plus but there are also few cause of death like you're gonna have broader scatter",
    "start": "538290",
    "end": "545100"
  },
  {
    "text": "queries better chance to heat hypervisor noisy neighbor issue and so on",
    "start": "545100",
    "end": "551779"
  },
  {
    "text": "traditional data storage software treated data as durable as it soon as it",
    "start": "553550",
    "end": "559260"
  },
  {
    "text": "was flushed to disk a new approach of durability is achieved by copy the data",
    "start": "559260",
    "end": "565680"
  },
  {
    "text": "to multiple machine and even geographical location in this example we",
    "start": "565680",
    "end": "572579"
  },
  {
    "text": "have a replication topology with a master node and three replicas in semi synchronous configuration",
    "start": "572579",
    "end": "578269"
  },
  {
    "text": "all deployed in different data centers we can fit over to a new replica when",
    "start": "578269",
    "end": "584059"
  },
  {
    "text": "the master died with no data loss or even a replica dies let's simply",
    "start": "584059",
    "end": "590809"
  },
  {
    "text": "reprobation it from scratch and we can do that because we rely on semi",
    "start": "590809",
    "end": "596059"
  },
  {
    "text": "synchronous replication and those two settings the first is the value in",
    "start": "596059",
    "end": "601309"
  },
  {
    "text": "millisecond that control how long the master will wait on a commit for acknowledgment from a replica we set it",
    "start": "601309",
    "end": "609110"
  },
  {
    "text": "to a very high number technically infinite as we never want to hock a transaction that hasn't been",
    "start": "609110",
    "end": "615439"
  },
  {
    "text": "racked up by at least one replica the second setting is the number of replicas",
    "start": "615439",
    "end": "621860"
  },
  {
    "text": "that need to acknowledge the transaction in this example we are okay to just",
    "start": "621860",
    "end": "627050"
  },
  {
    "text": "receive one ACK as it means that the data has been correctly replicated on a host in another physical location rely",
    "start": "627050",
    "end": "638089"
  },
  {
    "text": "on the replication stream also allow us to loosen some of the disk durability setting for example we will technically",
    "start": "638089",
    "end": "645889"
  },
  {
    "text": "turn off sink bin log and relax the in ODB flash log setting in this scenario",
    "start": "645889",
    "end": "651740"
  },
  {
    "text": "we use all buffered i/o for all the operation which will give us much higher",
    "start": "651740",
    "end": "657230"
  },
  {
    "text": "throughput and better latencies than the previous approach an important disclaimer here like you can safely do",
    "start": "657230",
    "end": "664189"
  },
  {
    "text": "this only if you always throw away a fail note but that's exactly what we",
    "start": "664189",
    "end": "669410"
  },
  {
    "text": "suggest so we're good let's now talk about how we run with as a slack so we",
    "start": "669410",
    "end": "678679"
  },
  {
    "text": "run our database stack on AWS in multiple geographic location we",
    "start": "678679",
    "end": "685790"
  },
  {
    "text": "currently run we test fully on ec2 but we are evaluating to move a few components to cube follow in the way of",
    "start": "685790",
    "end": "692509"
  },
  {
    "text": "other teams as lag the Twitter's you can see on the right is from last year and a",
    "start": "692509",
    "end": "699259"
  },
  {
    "text": "lot of things have changed since then we test can anyway fill the gaps there but in our setup were not there yet",
    "start": "699259",
    "end": "707230"
  },
  {
    "text": "state waste components are deployed in auto scaling group so that we don't need to care if an",
    "start": "707230",
    "end": "713270"
  },
  {
    "text": "instance fail or if it gets the provision by Amazon our engineer only",
    "start": "713270",
    "end": "718970"
  },
  {
    "text": "need to manage our stateful fleet leveraging some custom tool that we wrote another interesting fact is that",
    "start": "718970",
    "end": "727760"
  },
  {
    "text": "our stateless fleet run on my sequel 5/7 / : edition and that we use a ephemeral",
    "start": "727760",
    "end": "735290"
  },
  {
    "text": "storage on non-volatile memory that give us very high and stable at your performance despite the storage that",
    "start": "735290",
    "end": "742130"
  },
  {
    "text": "they offer is only ephemeral so with that I want to dig a little bit",
    "start": "742130",
    "end": "748460"
  },
  {
    "text": "deeper into how we deploy with us at slack and what do we learn along the way when it comes to fault tolerance and",
    "start": "748460",
    "end": "755030"
  },
  {
    "text": "isolation at our scale so first I just want to do a very like quick refresher",
    "start": "755030",
    "end": "760340"
  },
  {
    "text": "of what the BTS architecture looks like I'm not going to enter into many details but if you're interested about this",
    "start": "760340",
    "end": "766670"
  },
  {
    "text": "topic just reach out after the talk and I'm happy to talk about it so first on the left you have a mitigate beta guys",
    "start": "766670",
    "end": "774350"
  },
  {
    "text": "are at a stainless router that the application uses to talk to your Vitas cluster from the application perspective",
    "start": "774350",
    "end": "781220"
  },
  {
    "text": "Abita gate looks just as you are talking to any Mexico instance mitigates",
    "start": "781220",
    "end": "786320"
  },
  {
    "text": "implement a Mexico protocol then on the top you have this very important",
    "start": "786320",
    "end": "791510"
  },
  {
    "text": "component for the test that is the topology service the topology service contains all the metadata about your",
    "start": "791510",
    "end": "798380"
  },
  {
    "text": "charts in the chart and information so when a bt gates needs to find a char in",
    "start": "798380",
    "end": "803690"
  },
  {
    "text": "the test it does that through information that comes from the topology service and then on the right you have",
    "start": "803690",
    "end": "809510"
  },
  {
    "text": "bt tablets bit it out as you can think of them as a sidecar that protects my",
    "start": "809510",
    "end": "814670"
  },
  {
    "text": "Seco from bad users in your application and Bitto gates talk to the charts",
    "start": "814670",
    "end": "819950"
  },
  {
    "text": "through bt tablets and then also an important thing in the test charts is that there is a single master for a",
    "start": "819950",
    "end": "827360"
  },
  {
    "text": "given charge and that replicas are first-class citizen in a/b test deployment so if your application can",
    "start": "827360",
    "end": "833990"
  },
  {
    "text": "tolerate stay let's read they can specify this when they connect to a mitigate and",
    "start": "833990",
    "end": "839660"
  },
  {
    "text": "mitigate can serve traffic from your replicas in your message so with that how do you actually deploy",
    "start": "839660",
    "end": "848660"
  },
  {
    "text": "a test in your infrastructure the standard with test deployment looks something like this",
    "start": "848660",
    "end": "854110"
  },
  {
    "text": "first it's really important to notice this distinction that the there is global and local topologies the idea is",
    "start": "854110",
    "end": "861679"
  },
  {
    "text": "that in the global topology you have the minimum information that is required to strut the components so for example when",
    "start": "861679",
    "end": "868999"
  },
  {
    "text": "a vita gate starts the first thing that is that it does is that it asks the global topology what is the local",
    "start": "868999",
    "end": "874879"
  },
  {
    "text": "topology that I should be using moving forward and from that moment on in never talks to the global topology and then",
    "start": "874879",
    "end": "883059"
  },
  {
    "text": "you have this concept of cells cells are also a first class citizen impetus the",
    "start": "883059",
    "end": "889069"
  },
  {
    "text": "idea is that you deploy all components within the cell and the cells encapsulate a failure domain and they",
    "start": "889069",
    "end": "896240"
  },
  {
    "text": "should map to your data centers so then within each cell you deployed local topology with the gates and bt tablets",
    "start": "896240",
    "end": "904179"
  },
  {
    "text": "one important thing that is important time to call out is that in with tests",
    "start": "904179",
    "end": "910249"
  },
  {
    "text": "you can only cross the cell boundary when talking to masters of a sharp given",
    "start": "910249",
    "end": "916009"
  },
  {
    "text": "that there is a single master for each chart it makes sense that the cells need to be able to find masters in other",
    "start": "916009",
    "end": "922879"
  },
  {
    "text": "cells however it does not allow you to route replicas that are in a different cell and this was a design decision that",
    "start": "922879",
    "end": "931339"
  },
  {
    "text": "made sense when all the data centers were physically like separated geographic location so how we map this",
    "start": "931339",
    "end": "940309"
  },
  {
    "text": "deployment to or infrastructure as slack so as we mentioned earlier we use AWS",
    "start": "940309",
    "end": "947240"
  },
  {
    "text": "heavily an orbit test cluster is deployed on top of in situ in l WS easy",
    "start": "947240",
    "end": "953839"
  },
  {
    "text": "to is hosted in multiple locations around the world and those locations are",
    "start": "953839",
    "end": "959629"
  },
  {
    "text": "composed of regions with availability zones the regions are separate separate",
    "start": "959629",
    "end": "965929"
  },
  {
    "text": "geographic areas and as you can see in that image you can have a region in US East or North Carolina Sydney Tokyo etc",
    "start": "965929",
    "end": "974269"
  },
  {
    "text": "etc but within those regions you have this availability songs the",
    "start": "974269",
    "end": "979620"
  },
  {
    "text": "availability songs are connected to low latency links and the idea is that you",
    "start": "979620",
    "end": "985080"
  },
  {
    "text": "can think of this as you have data centers that are physically separated but still close to each other so you",
    "start": "985080",
    "end": "991890"
  },
  {
    "text": "give you the benefits of having like different failure domains for your infrastructure but not paying high",
    "start": "991890",
    "end": "998760"
  },
  {
    "text": "penalties when it comes to latency to connect to data centers that are in different parts of the world",
    "start": "998760",
    "end": "1004670"
  },
  {
    "text": "and when people deploy services in aid oh yes it is normal that they rely heavily in the concept of ASIS normally",
    "start": "1004670",
    "end": "1012020"
  },
  {
    "text": "they deploy in different regions but then within those regions they deployed in different places and that's kind of",
    "start": "1012020",
    "end": "1018620"
  },
  {
    "text": "what we did a slack and something to call out is that at this point we have",
    "start": "1018620",
    "end": "1024110"
  },
  {
    "text": "clusters in multiple regions but for the sake of the example I'm just going to use one region also we deploy in",
    "start": "1024110",
    "end": "1031520"
  },
  {
    "text": "multiple agencies but to make this like simple I'm going to show how we use to deploy a vides cluster in let's say us",
    "start": "1031520",
    "end": "1038990"
  },
  {
    "text": "is one and using two aces so the first",
    "start": "1038990",
    "end": "1044689"
  },
  {
    "text": "thing to notice is that we use console as the console kV as the underlying backing log server for with us in B test",
    "start": "1044690",
    "end": "1052670"
  },
  {
    "text": "you could use HCV and zookeeper for this but at SLAC we use console and we deploy",
    "start": "1052670",
    "end": "1058400"
  },
  {
    "text": "the global topology across all ACS in the region next it's important to notice",
    "start": "1058400",
    "end": "1066680"
  },
  {
    "text": "that data center that we are having for console that is the default data center",
    "start": "1066680",
    "end": "1072380"
  },
  {
    "text": "this will be relevant later now the next",
    "start": "1072380",
    "end": "1078470"
  },
  {
    "text": "important thing to mention is that we deploy a single cell this cell Maps to",
    "start": "1078470",
    "end": "1084230"
  },
  {
    "text": "the region but across multiple ACS and then within that cell we deployed the",
    "start": "1084230",
    "end": "1091070"
  },
  {
    "text": "local topology for the cell but notice that we use the same data center for us",
    "start": "1091070",
    "end": "1096560"
  },
  {
    "text": "the global topology meaning that we were sharing the same underlying infrastructure for console for both the",
    "start": "1096560",
    "end": "1103610"
  },
  {
    "text": "global topology and the topology last but not least we deployed",
    "start": "1103610",
    "end": "1109380"
  },
  {
    "text": "mitigates in with the tablets in physical different locations because they were spread across all the ACS but",
    "start": "1109380",
    "end": "1116460"
  },
  {
    "text": "from the test perspective they were part of the same cell so how this compared to",
    "start": "1116460",
    "end": "1123990"
  },
  {
    "text": "the B test standard deployment I think there are like two main differences the",
    "start": "1123990",
    "end": "1129480"
  },
  {
    "text": "first one is that instead of having a cell per data center we were having a",
    "start": "1129480",
    "end": "1134850"
  },
  {
    "text": "cell for the whole region this does not seem that bad but it end up being problematic you may ask like why do you",
    "start": "1134850",
    "end": "1142440"
  },
  {
    "text": "do that and the reason is that there was a fundamental limitation as I mentioned in earlier in the test the current route",
    "start": "1142440",
    "end": "1150270"
  },
  {
    "text": "between cells like between cross cells when you were doing replica reads when",
    "start": "1150270",
    "end": "1157020"
  },
  {
    "text": "we were using like ACS heavily we needed that Abita gate in a given AC was able to",
    "start": "1157020",
    "end": "1163710"
  },
  {
    "text": "talk to another tablet that was in the same region but in a different NC so",
    "start": "1163710",
    "end": "1169980"
  },
  {
    "text": "basically from the Vita's perspective at that point we were we didn't have any",
    "start": "1169980",
    "end": "1175590"
  },
  {
    "text": "other option than using a cell that mapped to the whole region second we were using the same log server for both",
    "start": "1175590",
    "end": "1183000"
  },
  {
    "text": "the local and the global topology this was just circumstantial a slag was a completely different",
    "start": "1183000",
    "end": "1188940"
  },
  {
    "text": "company two and a half years ago different scale different tooling so from a practical perspective when we",
    "start": "1188940",
    "end": "1195570"
  },
  {
    "text": "were starting to ramp up these inner productions services it just made sense to reuse the same console the set up for",
    "start": "1195570",
    "end": "1203220"
  },
  {
    "text": "the most part worked like pretty well but in time it surface some problems",
    "start": "1203220",
    "end": "1208620"
  },
  {
    "text": "that I want to discuss now so what happened we would there was an issue in",
    "start": "1208620",
    "end": "1214549"
  },
  {
    "text": "console well you have a fire in the global topology and you think oh this is",
    "start": "1214549",
    "end": "1219809"
  },
  {
    "text": "okay because the global topology is not needed for serving queries but because",
    "start": "1219809",
    "end": "1225090"
  },
  {
    "text": "it was the same underlying console it meant that you also had a fire in the",
    "start": "1225090",
    "end": "1230309"
  },
  {
    "text": "local topology to make your team more complicated because our cell span across",
    "start": "1230309",
    "end": "1237030"
  },
  {
    "text": "the whole region fired in the local in the console",
    "start": "1237030",
    "end": "1242410"
  },
  {
    "text": "created a firing global crater finding local and also a fire that spread across all or a disease and because you know",
    "start": "1242410",
    "end": "1249370"
  },
  {
    "text": "when it rains it pours we also discovered some bugs in the local topology that affected or serving path",
    "start": "1249370",
    "end": "1255730"
  },
  {
    "text": "meaning that when we were in this situation as some queries will fail in in orbiters cluster in a nutshell a",
    "start": "1255730",
    "end": "1262630"
  },
  {
    "text": "failure in or default console data center put us in a very bad state so I",
    "start": "1262630",
    "end": "1269230"
  },
  {
    "text": "think that mr. Massey coal could have its set up better if the desktop is made",
    "start": "1269230",
    "end": "1274420"
  },
  {
    "text": "of you it should be and after this it was definitely in top of my for us so",
    "start": "1274420",
    "end": "1279610"
  },
  {
    "text": "what do we do to fix this well for us the most important part was to serve our",
    "start": "1279610",
    "end": "1285340"
  },
  {
    "text": "customers so we need everything that we could to make sure that these issues do not affect the serving path so every",
    "start": "1285340",
    "end": "1292960"
  },
  {
    "text": "time we discover a console a problem due to scale and then having another ability",
    "start": "1292960",
    "end": "1298750"
  },
  {
    "text": "in the local topology we made the local topology more robust and if you look in the upstream meters project you will see",
    "start": "1298750",
    "end": "1305740"
  },
  {
    "text": "many contribution from the slack making this more robust and more resilient however when you think about",
    "start": "1305740",
    "end": "1312160"
  },
  {
    "text": "it what we were doing is just taking a defensive programming approach every time you run into a failure you try to",
    "start": "1312160",
    "end": "1318520"
  },
  {
    "text": "make sure that the failure doesn't happen again in the future but for us this was not enough and it was not",
    "start": "1318520",
    "end": "1325870"
  },
  {
    "text": "enough because the combination of a single cell that spread across multiple",
    "start": "1325870",
    "end": "1331060"
  },
  {
    "text": "Isis plus the fact that we were sharing the same underlying infrastructure for",
    "start": "1331060",
    "end": "1336490"
  },
  {
    "text": "the topology surface as a fundamental problem in order program and the problem",
    "start": "1336490",
    "end": "1342040"
  },
  {
    "text": "was not that we were having issues killing the console cluster or that there were bugs in the local topology",
    "start": "1342040",
    "end": "1347410"
  },
  {
    "text": "this should be business as usual for any company that is growing a really fast and that is constantly pushing the",
    "start": "1347410",
    "end": "1354490"
  },
  {
    "text": "limits of its infrastructure the problem was that those failures cascaded to",
    "start": "1354490",
    "end": "1360520"
  },
  {
    "text": "other components without clear boundaries so we step back and kind of",
    "start": "1360520",
    "end": "1365860"
  },
  {
    "text": "like took like first principles approach and thought what do we need to make our",
    "start": "1365860",
    "end": "1371050"
  },
  {
    "text": "deployment more what we wanted was that when the unexpected happened the blast radius was",
    "start": "1371050",
    "end": "1378169"
  },
  {
    "text": "minimum and for this isolation is key and here we mean real isolation for",
    "start": "1378169",
    "end": "1385940"
  },
  {
    "text": "instance in our case it did not matter that we were already using multiple ACS if they were tightly coupled together",
    "start": "1385940",
    "end": "1392740"
  },
  {
    "text": "and I think in that image like chips are like really good at samples of isolation",
    "start": "1392740",
    "end": "1398659"
  },
  {
    "text": "and both heading but the analogy will be that we created like some both heading but then left like a small hole at the",
    "start": "1398659",
    "end": "1404360"
  },
  {
    "text": "bottom and then it didn't matter the water it came through all those holes the other thing that we think is really",
    "start": "1404360",
    "end": "1410779"
  },
  {
    "text": "important is that you think about your dependencies this might sound trivial but is not when there is fundamental",
    "start": "1410779",
    "end": "1417440"
  },
  {
    "text": "complexity in the systems that you are operating also when you take the fact that things are changing rapidly it is",
    "start": "1417440",
    "end": "1426019"
  },
  {
    "text": "also important to mention that you cannot overlook the fact that sometimes you are basically learning how these",
    "start": "1426019",
    "end": "1432289"
  },
  {
    "text": "things all fit together in the full mental model of your operating these",
    "start": "1432289",
    "end": "1437360"
  },
  {
    "text": "services and production is not fully developed but if you don't invest in this it will bite you hard in our case",
    "start": "1437360",
    "end": "1445159"
  },
  {
    "text": "it was counsel but everyone should see like what are the dependencies that it is hard to see what will happen when",
    "start": "1445159",
    "end": "1451399"
  },
  {
    "text": "failures in those dependencies cascade across your whole infrastructure so what",
    "start": "1451399",
    "end": "1457250"
  },
  {
    "text": "we wanted was kind of to have the standard with test deployment but that was able to map to an AWS infrastructure",
    "start": "1457250",
    "end": "1466789"
  },
  {
    "text": "so you may think that this was an easy task just adapting those changes but in",
    "start": "1466789",
    "end": "1472580"
  },
  {
    "text": "fact it took a big amount of effort to rebound the B test apology to be able to",
    "start": "1472580",
    "end": "1478490"
  },
  {
    "text": "have the concept of ASIS and so far this has been one of like the biggest contributions that I met to beat as",
    "start": "1478490",
    "end": "1484850"
  },
  {
    "text": "open-source and it was a project that took us around three months but now like everyone who wants to Adobe test in AWS",
    "start": "1484850",
    "end": "1490850"
  },
  {
    "text": "should be able to deploy a cluster there that embraces the fact that you have multiple ACS so after we did these",
    "start": "1490850",
    "end": "1499070"
  },
  {
    "text": "changes we took the time to migrate or topologies to have dedicated console clusters",
    "start": "1499070",
    "end": "1504620"
  },
  {
    "text": "you can now see that each topology has a different console data center also orbit",
    "start": "1504620",
    "end": "1510740"
  },
  {
    "text": "as deployment now have cells that maps to ACS instead of having a cell for the",
    "start": "1510740",
    "end": "1516650"
  },
  {
    "text": "whole region this has a pretty neat property the failure domain and the",
    "start": "1516650",
    "end": "1522170"
  },
  {
    "text": "blast radius of orbiters components has a one-to-one mapping to the physical infrastructure it is super clear what",
    "start": "1522170",
    "end": "1530390"
  },
  {
    "text": "will be affected when we have AC failures and we've been in this setup",
    "start": "1530390",
    "end": "1536059"
  },
  {
    "text": "for about six months now we migrated everything and we are already seeing benefits so couple months ago we had an",
    "start": "1536059",
    "end": "1543350"
  },
  {
    "text": "issue with an AC during backup times and we discover that when backups are",
    "start": "1543350",
    "end": "1548870"
  },
  {
    "text": "happening if the local topology is not available backups will fail in meters and the very",
    "start": "1548870",
    "end": "1555559"
  },
  {
    "text": "cool thing is that this time first didn't a fad or SLO for backups because the others a C's were fine and this was",
    "start": "1555559",
    "end": "1562790"
  },
  {
    "text": "just contained within one cell and the other like critical thing is that now we discover this new unexpected failure",
    "start": "1562790",
    "end": "1569090"
  },
  {
    "text": "mode we are able to fix it we are not going to run into this issue again but",
    "start": "1569090",
    "end": "1574100"
  },
  {
    "text": "from our clients perspective this was completely transparent we didn't do this",
    "start": "1574100",
    "end": "1580250"
  },
  {
    "text": "project for performance reasons but it also unlock some performance games so",
    "start": "1580250",
    "end": "1586520"
  },
  {
    "text": "given that now that ACS are a first class citizen impetus as well we can have logic in VTA's that know when",
    "start": "1586520",
    "end": "1595490"
  },
  {
    "text": "they're routing to a replica to prefer a replica that is in the same AC if that",
    "start": "1595490",
    "end": "1600830"
  },
  {
    "text": "is possible so some tables at SLAC use replica reads heavily and for this kind of table this",
    "start": "1600830",
    "end": "1607250"
  },
  {
    "text": "avoid an extra network hub in the query serving path which had latency gains and",
    "start": "1607250",
    "end": "1614420"
  },
  {
    "text": "also some cost reductions because idle years charges you when you cross a C's in this graph you can guess when we",
    "start": "1614420",
    "end": "1621320"
  },
  {
    "text": "deploy this change and it was a pretty neat performance win where we got 300",
    "start": "1621320",
    "end": "1626540"
  },
  {
    "text": "microns back in the p50 of all requests to that table which was significant for",
    "start": "1626540",
    "end": "1631730"
  },
  {
    "text": "us last I want to start closing with some off like Carol the key lessons that",
    "start": "1631730",
    "end": "1637340"
  },
  {
    "text": "we along the way in this yearning of scaling orbiters cluster at SLAC first I",
    "start": "1637340",
    "end": "1645130"
  },
  {
    "text": "think it is important to have in mind that complex systems are simply dangerous and here I mean like",
    "start": "1645130",
    "end": "1652150"
  },
  {
    "text": "fundamental complexity when you are running systems that need to have 10 million users connected at the same time",
    "start": "1652150",
    "end": "1658860"
  },
  {
    "text": "the infrastructure to support that has some complexity that is not incidental and then when you have the windows",
    "start": "1658860",
    "end": "1666730"
  },
  {
    "text": "failure when those systems fails the consequences are very high and like basically it's like money that is being",
    "start": "1666730",
    "end": "1672040"
  },
  {
    "text": "lost over time it is natural that you will construct multiple layers of the",
    "start": "1672040",
    "end": "1678520"
  },
  {
    "text": "defense against those kind of failures including like redundancy backup systems",
    "start": "1678520",
    "end": "1684370"
  },
  {
    "text": "and also the human processes that make life safer to operate those systems but what is more interesting to us is that",
    "start": "1684370",
    "end": "1691470"
  },
  {
    "text": "in these kind of systems catastrophe is always just around the corner especially",
    "start": "1691470",
    "end": "1696850"
  },
  {
    "text": "when there are changes so rapidly and it's just not feasible to protect from unexpected failures so you kind of have",
    "start": "1696850",
    "end": "1704770"
  },
  {
    "text": "to embrace this fact is not enough to defend against failures you also have to be ready to make sure too that you can",
    "start": "1704770",
    "end": "1712300"
  },
  {
    "text": "tolerate those failures and there is not going to affect all your infrastructure",
    "start": "1712300",
    "end": "1718050"
  },
  {
    "text": "so one thing that it's really important for us here is that these bullet points",
    "start": "1718050",
    "end": "1724810"
  },
  {
    "text": "are not actually from me and there are from the paper 20 years ago from a doctor and it was talking about failure",
    "start": "1724810",
    "end": "1733120"
  },
  {
    "text": "in hospitals and in the health system so I found like pretty remarkable because",
    "start": "1733120",
    "end": "1738730"
  },
  {
    "text": "to me if if I didn't tell you I think all those bullets apply like 1 to 1 to",
    "start": "1738730",
    "end": "1744010"
  },
  {
    "text": "distribute complex system but in fact they come from a different field and then I think this led us to think that",
    "start": "1744010",
    "end": "1753730"
  },
  {
    "text": "our inner industry sometimes we feel that we are always on the edge of everything and that we are always",
    "start": "1753730",
    "end": "1759220"
  },
  {
    "text": "solving like super normal problems but in fact there are many lessons that we can get from other industries and I",
    "start": "1759220",
    "end": "1765910"
  },
  {
    "text": "think to us is really important that you have like humility towards this kind of complexity and we reach out to other",
    "start": "1765910",
    "end": "1773380"
  },
  {
    "text": "fields and learn from the experience and with that I think that wraps up what we",
    "start": "1773380",
    "end": "1779020"
  },
  {
    "text": "wanted to share today also just a quick theme if you are more interested in away",
    "start": "1779020",
    "end": "1784720"
  },
  {
    "text": "with test there are many talks too that are happening this week these are some of them thank you very much and if you have",
    "start": "1784720",
    "end": "1792309"
  },
  {
    "text": "questions we are [Applause]",
    "start": "1792309",
    "end": "1803210"
  },
  {
    "text": "question here are those slack issued cakes you're wearing sorry your sneakers",
    "start": "1803210",
    "end": "1809500"
  },
  {
    "text": "yeah but you can find them online",
    "start": "1809500",
    "end": "1816700"
  },
  {
    "text": "questions anyone",
    "start": "1817660",
    "end": "1821260"
  },
  {
    "text": "so did you have a reason to increase because your size grew the data data",
    "start": "1825970",
    "end": "1832450"
  },
  {
    "text": "size growth do you have a need to increase the number of shards and then how did that work",
    "start": "1832450",
    "end": "1837789"
  },
  {
    "text": "yes so part of again scaling our fleet is like doing capacity planning and",
    "start": "1837789",
    "end": "1843630"
  },
  {
    "text": "again as part of capacity planning front at the time as team we decide okay maybe we need to recharge again a key space so",
    "start": "1843630",
    "end": "1851260"
  },
  {
    "text": "a set of table or database and again that's something that we test is very powerful because that's done and they",
    "start": "1851260",
    "end": "1858070"
  },
  {
    "text": "say that's something that already provided out of the box so there is very little kind of operational overhead to",
    "start": "1858070",
    "end": "1864820"
  },
  {
    "text": "do that can you tell more about why it's not right well you know decide not",
    "start": "1864820",
    "end": "1869830"
  },
  {
    "text": "around cornettos why it's not suitable for people at this cluster why AC tune yeah so you can run like Vitas on cue",
    "start": "1869830",
    "end": "1876640"
  },
  {
    "text": "and again where let's say this a Vitas is cloud native we just not run it yet",
    "start": "1876640",
    "end": "1883570"
  },
  {
    "text": "for kind of historical reason so there are a few services and azlok that are",
    "start": "1883570",
    "end": "1888640"
  },
  {
    "text": "again starting to move on cube we're not there yet because we are open right now",
    "start": "1888640",
    "end": "1894429"
  },
  {
    "text": "prioritizing other work with respect to storage how do you manage a node failure",
    "start": "1894429",
    "end": "1900760"
  },
  {
    "text": "and how do you bring back whatever it was that denoted so we use an open source tool called Orchestrator so our B",
    "start": "1900760",
    "end": "1909250"
  },
  {
    "text": "test shards are my sequel cluster and they are watched by Orchestrator so when",
    "start": "1909250",
    "end": "1914890"
  },
  {
    "text": "there is a master fell over there is an automated process that chooses another master and promotes that a master and",
    "start": "1914890",
    "end": "1920940"
  },
  {
    "text": "notifies with tes backups that's a good",
    "start": "1920940",
    "end": "1927340"
  },
  {
    "text": "one so we are using ghost but because in B test we have like now thousands of",
    "start": "1927340",
    "end": "1932350"
  },
  {
    "text": "charts we build an internal tool that orchestrates is not much akima change",
    "start": "1932350",
    "end": "1939610"
  },
  {
    "text": "sorry backups are built in a/b tests so we test provides you the management to be",
    "start": "1939610",
    "end": "1944919"
  },
  {
    "text": "able to take backups of your charts and we use that yeah another thing that we",
    "start": "1944919",
    "end": "1953530"
  },
  {
    "text": "want to say we are hiring also like we added to those a slide like",
    "start": "1953530",
    "end": "1958750"
  },
  {
    "text": "very short appendix like some configuration setting that we use in our setup those are the results of like",
    "start": "1958750",
    "end": "1965350"
  },
  {
    "text": "several years of tuning so we just wanted to share them with the community so you can benefit as well in your",
    "start": "1965350",
    "end": "1973030"
  },
  {
    "text": "initial sorry I'm over here in your initial infrastructure you said that you wanted to replicate across a Z",
    "start": "1973030",
    "end": "1979090"
  },
  {
    "text": "so that's why you made the cells go across a ZZZ why did you want to replicate like that across a C's yeah",
    "start": "1979090",
    "end": "1985350"
  },
  {
    "text": "for you do the ability reasons so we want to make because as we don't mention",
    "start": "1985350",
    "end": "1992590"
  },
  {
    "text": "like or durability or slack is not on disk so we rely on replication for durability so if our replicas were not",
    "start": "1992590",
    "end": "2000059"
  },
  {
    "text": "in different AZ's if you lose wanna see you could have data loss yeah",
    "start": "2000059",
    "end": "2005580"
  },
  {
    "text": "just answer so again if you're on again semi sync with one ACK if let's say a",
    "start": "2005580",
    "end": "2011730"
  },
  {
    "text": "mastery in USD one a u.s. Pony acknowledges I have like your",
    "start": "2011730",
    "end": "2016919"
  },
  {
    "text": "transaction it means that has been already replicated on another data center so if that data center just blows",
    "start": "2016919",
    "end": "2022950"
  },
  {
    "text": "up like in one second we still have that right somewhere hi yeah I wanted to ask",
    "start": "2022950",
    "end": "2032280"
  },
  {
    "text": "you if basically your applications I mean the replicas are just read-only",
    "start": "2032280",
    "end": "2037559"
  },
  {
    "text": "replicas or also multi master replicas so the replicas just read-only replicas",
    "start": "2037559",
    "end": "2044940"
  },
  {
    "text": "so again we don't want to have replicas ahead of the master because that really impact again then like topology changes",
    "start": "2044940",
    "end": "2052530"
  },
  {
    "text": "consistency and so on yeah so all replicas are technically the same of",
    "start": "2052530",
    "end": "2058169"
  },
  {
    "text": "course we're running with semi sync so we might have like a bit of drift between all of those but again that's",
    "start": "2058169",
    "end": "2065669"
  },
  {
    "text": "expected usually when we again we want to read after write consistency like right now",
    "start": "2065669",
    "end": "2072419"
  },
  {
    "text": "in Vitesse you can just do it by creating the master and you can specify that we are also evaluating to a",
    "start": "2072419",
    "end": "2078148"
  },
  {
    "text": "standing Vitesse to expose in the global transaction ID that our replica has and",
    "start": "2078149",
    "end": "2083310"
  },
  {
    "text": "then every time that you do a write you get back in the client a global transaction ID and on the next",
    "start": "2083310",
    "end": "2089889"
  },
  {
    "text": "you can say hey Vitas like a query whatever but please use a replicated",
    "start": "2089890",
    "end": "2095830"
  },
  {
    "text": "that is at least at this point in the transaction it's a quick question you",
    "start": "2095830",
    "end": "2103510"
  },
  {
    "text": "mentioned that you're using ec2 JW s and then k it on top of it is there a reason",
    "start": "2103510",
    "end": "2108520"
  },
  {
    "text": "you're doing that instead of just going with eks or kubernetes service yeah I",
    "start": "2108520",
    "end": "2113710"
  },
  {
    "text": "think we replied before but let's say that we are now kind of less is likely",
    "start": "2113710",
    "end": "2118780"
  },
  {
    "text": "some wording like new services to kubernetes and then again we're not",
    "start": "2118780",
    "end": "2124390"
  },
  {
    "text": "there yet we want to solve a maybe a couple of other problem before like move",
    "start": "2124390",
    "end": "2129400"
  },
  {
    "text": "into cube but that's definitely on our roadmap what did the transition look",
    "start": "2129400",
    "end": "2137380"
  },
  {
    "text": "like going from your initial single topology to the multi topology how",
    "start": "2137380",
    "end": "2142720"
  },
  {
    "text": "automated was that and what did it take to do that so the good thing is that",
    "start": "2142720",
    "end": "2149080"
  },
  {
    "text": "because we treat like all or instances kind of like ephemeral when all the code",
    "start": "2149080",
    "end": "2154510"
  },
  {
    "text": "changes were ready to support that we deployed the console the new console topologies we created a new cell symbol",
    "start": "2154510",
    "end": "2160630"
  },
  {
    "text": "test and then it was just a matter of recycling all nodes in the fleet and",
    "start": "2160630",
    "end": "2165820"
  },
  {
    "text": "then when they come up they really register to a new cell and then that was it so actually like the big effort was",
    "start": "2165820",
    "end": "2172180"
  },
  {
    "text": "just making it as ready for that but deploying it it was a bit time consuming",
    "start": "2172180",
    "end": "2177190"
  },
  {
    "text": "but recycling all the hosts and I was it another thing that we the measure for",
    "start": "2177190",
    "end": "2183690"
  },
  {
    "text": "people that are still here here are like tons of stickers if you want to take on your world thank you one more question",
    "start": "2183690",
    "end": "2195690"
  },
  {
    "text": "also we are hiring so I have a question",
    "start": "2195690",
    "end": "2201940"
  },
  {
    "text": "about our application you just mentioned you would have to assign your application is that across data center",
    "start": "2201940",
    "end": "2208510"
  },
  {
    "text": "orders awaiting single did I send her okay sorry so you mentioned that you",
    "start": "2208510",
    "end": "2213730"
  },
  {
    "text": "would used to assign me replication to do to do the replication right but is that only for a one data center or is",
    "start": "2213730",
    "end": "2220150"
  },
  {
    "text": "cross data center if it's cross data center where the latency pretty high so it's crushed data centers",
    "start": "2220150",
    "end": "2228529"
  },
  {
    "text": "in an AC but we don't have semi sync between regions in a region let me think",
    "start": "2228529",
    "end": "2234980"
  },
  {
    "text": "turn on within a region so usually we have let's say within the same ad you",
    "start": "2234980",
    "end": "2240740"
  },
  {
    "text": "have sub-millisecond latency across ad you usually have milliseconds latency",
    "start": "2240740",
    "end": "2246410"
  },
  {
    "text": "but we don't do cross region replication yet okay Cossacks so you said you don't",
    "start": "2246410",
    "end": "2262220"
  },
  {
    "text": "do cross region replication now we don't do it we don't say you shouldn't yeah there's a the test give you the ability",
    "start": "2262220",
    "end": "2269089"
  },
  {
    "text": "to you like asynchronous yes so you a Singh cross region but sim I think local",
    "start": "2269089",
    "end": "2274369"
  },
  {
    "text": "exactly so again I don't know if it's kind of best practice but I will suggest",
    "start": "2274369",
    "end": "2279980"
  },
  {
    "text": "exactly what you said so you usually do something within the same region or maybe even like close region and then I",
    "start": "2279980",
    "end": "2289069"
  },
  {
    "text": "don't know if for disaster recovery port we do disasters cover in another way but like if you need to again have a",
    "start": "2289069",
    "end": "2296119"
  },
  {
    "text": "synchronous replicas in Sydney your data center is in Europe you can do that you're just gonna pay probably 150",
    "start": "2296119",
    "end": "2302960"
  },
  {
    "text": "second round trip lettuce so do you basically define in each cell like semi",
    "start": "2302960",
    "end": "2308359"
  },
  {
    "text": "sync to these cells or we defined semi sync between different cells but same",
    "start": "2308359",
    "end": "2314180"
  },
  {
    "text": "region and then the other clusters that are in different regions they don't know about change but you can do that yeah",
    "start": "2314180",
    "end": "2324670"
  },
  {
    "text": "how many master nodes and thousand of",
    "start": "2328749",
    "end": "2338089"
  },
  {
    "text": "nodes but you cannot go too much into details of numbers thousands yeah could you just on the on",
    "start": "2338089",
    "end": "2347260"
  },
  {
    "text": "the on the new architect you just step through the the mapping of cells to",
    "start": "2347260",
    "end": "2352930"
  },
  {
    "text": "availability zones just really quickly yeah so in the new architecture this is",
    "start": "2352930",
    "end": "2361150"
  },
  {
    "text": "how it looks so we deployed the global topology in the region across all ASIS and then we",
    "start": "2361150",
    "end": "2368350"
  },
  {
    "text": "create cells for each AC and those cells map to with ourselves and when within",
    "start": "2368350",
    "end": "2375130"
  },
  {
    "text": "those cells deploy all with as components so the cell is like the whole failure domain for okay so your full",
    "start": "2375130",
    "end": "2382300"
  },
  {
    "text": "domain in that senses within an a within the AC and then to make sure that the",
    "start": "2382300",
    "end": "2388359"
  },
  {
    "text": "data is resilient how do you had it within within that how does the data stay across that fault domain like if",
    "start": "2388359",
    "end": "2395590"
  },
  {
    "text": "there is a failure within that I was trying to work out how that so a there",
    "start": "2395590",
    "end": "2403000"
  },
  {
    "text": "is semi sync between like that's allowed for replication they cross cells okay so",
    "start": "2403000",
    "end": "2410380"
  },
  {
    "text": "guys so you basically finna ties across the cell yeah I'm gonna easy and and is",
    "start": "2410380",
    "end": "2416290"
  },
  {
    "text": "the guarantee sync to see it is it's a synchronous Karen yeah so you'll pry your one sync is across it",
    "start": "2416290",
    "end": "2422920"
  },
  {
    "text": "exactly so that's for durability purposes like we we need to make sure that again a master before saying to the",
    "start": "2422920",
    "end": "2430480"
  },
  {
    "text": "client had yeah I have your transaction that transaction has been replicated to",
    "start": "2430480",
    "end": "2436480"
  },
  {
    "text": "another physical location okay and that that does to another photo make another sale so if let's say everything explode",
    "start": "2436480",
    "end": "2445720"
  },
  {
    "text": "in us this one a we still have data in other places",
    "start": "2445720",
    "end": "2452279"
  },
  {
    "text": "the global top illegal it does not apply but the good thing about the global",
    "start": "2454020",
    "end": "2459400"
  },
  {
    "text": "topology is that it's only required to bootstrap the other components so our",
    "start": "2459400",
    "end": "2464650"
  },
  {
    "text": "idea is that if a global topology is partially unavailable because there are issues between ACS that only affects",
    "start": "2464650",
    "end": "2472090"
  },
  {
    "text": "bringing up new things but not normal operation okay so okay so then how long",
    "start": "2472090",
    "end": "2477250"
  },
  {
    "text": "does it take to get the global topology back on online does it take like in case",
    "start": "2477250",
    "end": "2482440"
  },
  {
    "text": "that in yeah it goes like down I think I get that pulled the pain off like the kind of like failure for us it's like",
    "start": "2482440",
    "end": "2489580"
  },
  {
    "text": "behind the scenes that's a control cluster we haven't had to recover like",
    "start": "2489580",
    "end": "2494980"
  },
  {
    "text": "for an entire failure but again we have another team that manager kind of",
    "start": "2494980",
    "end": "2500350"
  },
  {
    "text": "key-value like locking service and service discovery again they do backup",
    "start": "2500350",
    "end": "2505920"
  },
  {
    "text": "is it regularly so again for us as the global topology is not on the serving",
    "start": "2505920",
    "end": "2511060"
  },
  {
    "text": "path like we wouldn't be impact yeah like we will be impact like if we need",
    "start": "2511060",
    "end": "2516550"
  },
  {
    "text": "to bootstrap again and other cells or like things like that Thanks",
    "start": "2516550",
    "end": "2523320"
  },
  {
    "text": "all right okay thank you very much thank you thank you",
    "start": "2523320",
    "end": "2528900"
  }
]