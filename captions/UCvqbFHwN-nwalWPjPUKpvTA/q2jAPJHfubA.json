[
  {
    "text": "um we're going to spend a few minutes",
    "start": "640",
    "end": "1680"
  },
  {
    "text": "today just talking about our adventures",
    "start": "1680",
    "end": "3679"
  },
  {
    "text": "and using Argo workflows to run the CI",
    "start": "3679",
    "end": "6359"
  },
  {
    "text": "for Argo workflows um before we dive in",
    "start": "6359",
    "end": "9480"
  },
  {
    "text": "just to introduce ourselves uh my name",
    "start": "9480",
    "end": "11440"
  },
  {
    "text": "is Tim I'm the infrastructure guy at pip",
    "start": "11440",
    "end": "13679"
  },
  {
    "text": "kit um I spend quite a lot of my time in",
    "start": "13679",
    "end": "15920"
  },
  {
    "text": "the cncf slack answering your Argo",
    "start": "15920",
    "end": "17960"
  },
  {
    "text": "questions uh I'm also part of the Argo",
    "start": "17960",
    "end": "19840"
  },
  {
    "text": "Helm team delivering the helm charts for",
    "start": "19840",
    "end": "21920"
  },
  {
    "text": "all of the Argo projects uh hi I'm",
    "start": "21920",
    "end": "24480"
  },
  {
    "text": "Denise Shannon I'm the VP of engineering",
    "start": "24480",
    "end": "26279"
  },
  {
    "text": "at La Labs um as an engineer I didn't",
    "start": "26279",
    "end": "29400"
  },
  {
    "text": "actually make any of my slides just to",
    "start": "29400",
    "end": "31320"
  },
  {
    "text": "let you know didn't design them I know",
    "start": "31320",
    "end": "32960"
  },
  {
    "text": "the content",
    "start": "32960",
    "end": "35399"
  },
  {
    "text": "but so just a bit about pip kit um we're",
    "start": "35399",
    "end": "38520"
  },
  {
    "text": "a group of Argo maintainers and experts",
    "start": "38520",
    "end": "40840"
  },
  {
    "text": "uh we regularly contribute to Argo",
    "start": "40840",
    "end": "42160"
  },
  {
    "text": "workflows as well as other Argo and open",
    "start": "42160",
    "end": "44039"
  },
  {
    "text": "source projects um so if you invest in",
    "start": "44039",
    "end": "46360"
  },
  {
    "text": "PIP kit you're investing in Argo um",
    "start": "46360",
    "end": "48520"
  },
  {
    "text": "Happy Days um we provide an Enterprise",
    "start": "48520",
    "end": "50960"
  },
  {
    "text": "control plane for Argo workflows uh it",
    "start": "50960",
    "end": "52760"
  },
  {
    "text": "makes your arback life easier lets you",
    "start": "52760",
    "end": "54640"
  },
  {
    "text": "trigger runs through git with minimal",
    "start": "54640",
    "end": "56559"
  },
  {
    "text": "config um and lets you view and run your",
    "start": "56559",
    "end": "58559"
  },
  {
    "text": "workflows across multiple clusters",
    "start": "58559",
    "end": "60960"
  },
  {
    "text": "um also if you're in need of an SLA on",
    "start": "60960",
    "end": "63440"
  },
  {
    "text": "your open source uh Argo installation um",
    "start": "63440",
    "end": "66400"
  },
  {
    "text": "and you or you want something like",
    "start": "66400",
    "end": "67799"
  },
  {
    "text": "deeper support in that um we're happy to",
    "start": "67799",
    "end": "71479"
  },
  {
    "text": "help um so L Labs is the creator of",
    "start": "71479",
    "end": "74840"
  },
  {
    "text": "several open source projects includes V",
    "start": "74840",
    "end": "76840"
  },
  {
    "text": "cluster devpt Dev space JS policy across",
    "start": "76840",
    "end": "79799"
  },
  {
    "text": "our projects we have a lot of GitHub",
    "start": "79799",
    "end": "81520"
  },
  {
    "text": "stars and active slack Community earlier",
    "start": "81520",
    "end": "83799"
  },
  {
    "text": "this year we raised our series a round",
    "start": "83799",
    "end": "85640"
  },
  {
    "text": "and currently we're at a size of uh 50 I",
    "start": "85640",
    "end": "88720"
  },
  {
    "text": "think we just hit and growing",
    "start": "88720",
    "end": "91920"
  },
  {
    "text": "so why do we want to do the whole dog",
    "start": "93799",
    "end": "95640"
  },
  {
    "text": "fooding thing um so in my opinionated",
    "start": "95640",
    "end": "98240"
  },
  {
    "text": "opinion um the developer experience of",
    "start": "98240",
    "end": "100240"
  },
  {
    "text": "the Upstream arci um isn't great um and",
    "start": "100240",
    "end": "104240"
  },
  {
    "text": "could be improved um so if you make a",
    "start": "104240",
    "end": "106439"
  },
  {
    "text": "fork of the Upstream",
    "start": "106439",
    "end": "107920"
  },
  {
    "text": "CI uh the Upstream sorry Upstream Argo",
    "start": "107920",
    "end": "110600"
  },
  {
    "text": "workflows repo uh you see that the",
    "start": "110600",
    "end": "112840"
  },
  {
    "text": "GitHub actions C doesn't run on your",
    "start": "112840",
    "end": "115600"
  },
  {
    "text": "fork um that leads you to either pick",
    "start": "115600",
    "end": "119159"
  },
  {
    "text": "and choose which to endest you want to",
    "start": "119159",
    "end": "120719"
  },
  {
    "text": "run locally manually while you're doing",
    "start": "120719",
    "end": "123479"
  },
  {
    "text": "a development um you could wait until",
    "start": "123479",
    "end": "126280"
  },
  {
    "text": "you've pushed your change all the way",
    "start": "126280",
    "end": "127640"
  },
  {
    "text": "upstream and then you can really annoy",
    "start": "127640",
    "end": "129319"
  },
  {
    "text": "some Argo maintainer by doing a load of",
    "start": "129319",
    "end": "131640"
  },
  {
    "text": "back and forth with them um or you can",
    "start": "131640",
    "end": "134000"
  },
  {
    "text": "adjust the GitHub actions to make them",
    "start": "134000",
    "end": "136120"
  },
  {
    "text": "run on your fork but then you've got",
    "start": "136120",
    "end": "137800"
  },
  {
    "text": "this kind of weird problem where you",
    "start": "137800",
    "end": "139200"
  },
  {
    "text": "have to undo your adjustments to push",
    "start": "139200",
    "end": "141280"
  },
  {
    "text": "the change up to upstream and it's it's",
    "start": "141280",
    "end": "143879"
  },
  {
    "text": "just messy um so each of those options",
    "start": "143879",
    "end": "146360"
  },
  {
    "text": "has its",
    "start": "146360",
    "end": "147920"
  },
  {
    "text": "drawbacks um secondly the CI that's up",
    "start": "147920",
    "end": "150959"
  },
  {
    "text": "there at the moment doesn't run as you",
    "start": "150959",
    "end": "152400"
  },
  {
    "text": "might expect it to run um so the CI does",
    "start": "152400",
    "end": "154800"
  },
  {
    "text": "build container images um and then",
    "start": "154800",
    "end": "157680"
  },
  {
    "text": "doesn't use them for the endtoend tests",
    "start": "157680",
    "end": "159720"
  },
  {
    "text": "um it just puts them to the side and",
    "start": "159720",
    "end": "161400"
  },
  {
    "text": "then runs binaries",
    "start": "161400",
    "end": "163800"
  },
  {
    "text": "instead and lastly we pip kit know that",
    "start": "163800",
    "end": "166599"
  },
  {
    "text": "Argo workflows is great for CI we use it",
    "start": "166599",
    "end": "168720"
  },
  {
    "text": "for CI internally we have customers that",
    "start": "168720",
    "end": "170720"
  },
  {
    "text": "use it for CI um so it feels kind of",
    "start": "170720",
    "end": "172959"
  },
  {
    "text": "fitting that we should do this and prove",
    "start": "172959",
    "end": "174920"
  },
  {
    "text": "that workflows can run CI for itself",
    "start": "174920",
    "end": "180200"
  },
  {
    "text": "so we set ourselves some kind of high",
    "start": "180800",
    "end": "182319"
  },
  {
    "text": "level goals and boundaries for this",
    "start": "182319",
    "end": "184040"
  },
  {
    "text": "project um we obviously wanted to use",
    "start": "184040",
    "end": "186200"
  },
  {
    "text": "our good workflows to run the CI um but",
    "start": "186200",
    "end": "188720"
  },
  {
    "text": "we wanted to run all the things that the",
    "start": "188720",
    "end": "190519"
  },
  {
    "text": "CI up there currently runs we wanted to",
    "start": "190519",
    "end": "194280"
  },
  {
    "text": "leave the tests alone in theory the",
    "start": "194280",
    "end": "196400"
  },
  {
    "text": "tests are solid and they should run with",
    "start": "196400",
    "end": "198879"
  },
  {
    "text": "whatever framework you wrap around",
    "start": "198879",
    "end": "201599"
  },
  {
    "text": "them we wanted to keep our workflows",
    "start": "201599",
    "end": "204760"
  },
  {
    "text": "manifest in a separate repo um",
    "start": "204760",
    "end": "207840"
  },
  {
    "text": "from uh the the repo that we're forking",
    "start": "207840",
    "end": "211480"
  },
  {
    "text": "just to give us that ability to to push",
    "start": "211480",
    "end": "213560"
  },
  {
    "text": "the changes back quickly and manage the",
    "start": "213560",
    "end": "215799"
  },
  {
    "text": "the framework",
    "start": "215799",
    "end": "216959"
  },
  {
    "text": "separately obviously we wanted to run as",
    "start": "216959",
    "end": "219360"
  },
  {
    "text": "fast as we can but reliably so and",
    "start": "219360",
    "end": "222159"
  },
  {
    "text": "lastly we only wanted to use open source",
    "start": "222159",
    "end": "224040"
  },
  {
    "text": "tools to to complete this project so",
    "start": "224040",
    "end": "226959"
  },
  {
    "text": "that we can then give this to other",
    "start": "226959",
    "end": "228920"
  },
  {
    "text": "companies and projects in the longer",
    "start": "228920",
    "end": "231480"
  },
  {
    "text": "term so let's have a look at the",
    "start": "231480",
    "end": "233879"
  },
  {
    "text": "existing Upstream CI um first there's a",
    "start": "233879",
    "end": "237079"
  },
  {
    "text": "load of things that I'm just not showing",
    "start": "237079",
    "end": "238959"
  },
  {
    "text": "you um frankly because they're quite",
    "start": "238959",
    "end": "240760"
  },
  {
    "text": "boring um so there's unit testing",
    "start": "240760",
    "end": "242480"
  },
  {
    "text": "linting Cod checks all that sort of",
    "start": "242480",
    "end": "244480"
  },
  {
    "text": "stuff and they were really easy to Port",
    "start": "244480",
    "end": "246640"
  },
  {
    "text": "across from GitHub actions to ARA",
    "start": "246640",
    "end": "248360"
  },
  {
    "text": "workflows um there's a kind of onetoone",
    "start": "248360",
    "end": "250599"
  },
  {
    "text": "mapping really of you know unit tests",
    "start": "250599",
    "end": "253280"
  },
  {
    "text": "are a logical block that you just move",
    "start": "253280",
    "end": "255280"
  },
  {
    "text": "into a workflow step so I just didn't",
    "start": "255280",
    "end": "256919"
  },
  {
    "text": "bother um but on the slightly trickier",
    "start": "256919",
    "end": "259040"
  },
  {
    "text": "level it's probably worth noting that",
    "start": "259040",
    "end": "260479"
  },
  {
    "text": "there are some windows unit tests",
    "start": "260479",
    "end": "262479"
  },
  {
    "text": "Upstream um so if we wanted to run that",
    "start": "262479",
    "end": "265160"
  },
  {
    "text": "or if we want to run that in Argo",
    "start": "265160",
    "end": "266960"
  },
  {
    "text": "workflows we need Windows kubernetes",
    "start": "266960",
    "end": "268800"
  },
  {
    "text": "nodes and and all the fun that comes",
    "start": "268800",
    "end": "270600"
  },
  {
    "text": "with that um it actually wasn't too",
    "start": "270600",
    "end": "273280"
  },
  {
    "text": "difficult for us to add Windows nodes to",
    "start": "273280",
    "end": "274720"
  },
  {
    "text": "our eks cluster to get that working um",
    "start": "274720",
    "end": "276960"
  },
  {
    "text": "and I guess just in case you didn't know",
    "start": "276960",
    "end": "278280"
  },
  {
    "text": "Argo workflows does run absolutely fine",
    "start": "278280",
    "end": "280080"
  },
  {
    "text": "on Windows as as fine as anything runs",
    "start": "280080",
    "end": "282520"
  },
  {
    "text": "on Windows",
    "start": "282520",
    "end": "284720"
  },
  {
    "text": "um the trickiest part really came with",
    "start": "284720",
    "end": "287520"
  },
  {
    "text": "the endtoend tests or e2e tests as",
    "start": "287520",
    "end": "290199"
  },
  {
    "text": "they're called in the Upstream EI CI",
    "start": "290199",
    "end": "292120"
  },
  {
    "text": "kind of interchangeably and here's how",
    "start": "292120",
    "end": "294240"
  },
  {
    "text": "they",
    "start": "294240",
    "end": "295039"
  },
  {
    "text": "operate um so GitHub actions builds just",
    "start": "295039",
    "end": "297960"
  },
  {
    "text": "plain Argo binaries for n end tests and",
    "start": "297960",
    "end": "300800"
  },
  {
    "text": "they sit outside of a kubernetes cluster",
    "start": "300800",
    "end": "303320"
  },
  {
    "text": "and then using magic um they talk to the",
    "start": "303320",
    "end": "306160"
  },
  {
    "text": "kubernetes cluster and the actual",
    "start": "306160",
    "end": "307360"
  },
  {
    "text": "cluster runs the tests themselves the",
    "start": "307360",
    "end": "310560"
  },
  {
    "text": "binaries themselves have full admin",
    "start": "310560",
    "end": "312120"
  },
  {
    "text": "permissions to the kubernetes cluster so",
    "start": "312120",
    "end": "313720"
  },
  {
    "text": "arbac is basically ignored in those",
    "start": "313720",
    "end": "316240"
  },
  {
    "text": "tests um which is slightly concerning um",
    "start": "316240",
    "end": "320199"
  },
  {
    "text": "and then when the actual tests are run",
    "start": "320199",
    "end": "323319"
  },
  {
    "text": "the endend test are run they are grouped",
    "start": "323319",
    "end": "325039"
  },
  {
    "text": "into 10 logical groups of tests um each",
    "start": "325039",
    "end": "328639"
  },
  {
    "text": "of those tests has a ess's cluster so",
    "start": "328639",
    "end": "331560"
  },
  {
    "text": "there's 10 k3d clusters in that mix",
    "start": "331560",
    "end": "334319"
  },
  {
    "text": "there's 10 workflow controller binaries",
    "start": "334319",
    "end": "336240"
  },
  {
    "text": "running etc",
    "start": "336240",
    "end": "337919"
  },
  {
    "text": "etc um each group of tests has a very",
    "start": "337919",
    "end": "341000"
  },
  {
    "text": "slightly different dependency setup um",
    "start": "341000",
    "end": "343400"
  },
  {
    "text": "so they might they look largely the same",
    "start": "343400",
    "end": "345520"
  },
  {
    "text": "but there are some slight nuances",
    "start": "345520",
    "end": "347080"
  },
  {
    "text": "between",
    "start": "347080",
    "end": "348039"
  },
  {
    "text": "them if you're running the test locally",
    "start": "348039",
    "end": "350639"
  },
  {
    "text": "you only get one cuetes cluster and then",
    "start": "350639",
    "end": "352680"
  },
  {
    "text": "you have to run what you want to run in",
    "start": "352680",
    "end": "354560"
  },
  {
    "text": "series so it takes a lot",
    "start": "354560",
    "end": "356880"
  },
  {
    "text": "longer and finally there's there's a",
    "start": "356880",
    "end": "359000"
  },
  {
    "text": "handful of third party tools added to",
    "start": "359000",
    "end": "360720"
  },
  {
    "text": "the mix um inside your kubernetes",
    "start": "360720",
    "end": "363720"
  },
  {
    "text": "clusters um so there's minio for",
    "start": "363720",
    "end": "365720"
  },
  {
    "text": "artifact things and myql for databas",
    "start": "365720",
    "end": "367759"
  },
  {
    "text": "things um and there's a few other things",
    "start": "367759",
    "end": "369680"
  },
  {
    "text": "in there that just uh aren't really",
    "start": "369680",
    "end": "371479"
  },
  {
    "text": "worth mentioning",
    "start": "371479",
    "end": "373400"
  },
  {
    "text": "today so then here is our desired state",
    "start": "373400",
    "end": "376319"
  },
  {
    "text": "for our endtoend tests so firstly we",
    "start": "376319",
    "end": "378759"
  },
  {
    "text": "would have a pre-existing Argo workflows",
    "start": "378759",
    "end": "380440"
  },
  {
    "text": "installation that builds Argo images",
    "start": "380440",
    "end": "382560"
  },
  {
    "text": "pushes them to a",
    "start": "382560",
    "end": "384120"
  },
  {
    "text": "registry and secondly a workflow step",
    "start": "384120",
    "end": "386280"
  },
  {
    "text": "acts as a test Runner executing the same",
    "start": "386280",
    "end": "388080"
  },
  {
    "text": "make commands that GitHub actions would",
    "start": "388080",
    "end": "390240"
  },
  {
    "text": "run this time installing the controller",
    "start": "390240",
    "end": "392919"
  },
  {
    "text": "and server pods inside the",
    "start": "392919",
    "end": "395160"
  },
  {
    "text": "cluster as a bonus because they're now",
    "start": "395160",
    "end": "397360"
  },
  {
    "text": "inside the cluster we can do kubernetes",
    "start": "397360",
    "end": "399520"
  },
  {
    "text": "rback testing properly uh ensure that",
    "start": "399520",
    "end": "402240"
  },
  {
    "text": "the test passed with some sort of",
    "start": "402240",
    "end": "403440"
  },
  {
    "text": "minimally permissive rback",
    "start": "403440",
    "end": "406240"
  },
  {
    "text": "setup finally we installed the exact",
    "start": "406240",
    "end": "408520"
  },
  {
    "text": "same third party tools using the exact",
    "start": "408520",
    "end": "410960"
  },
  {
    "text": "same manifests um as before and luckily",
    "start": "410960",
    "end": "414080"
  },
  {
    "text": "for me most of the hard work uh was",
    "start": "414080",
    "end": "416000"
  },
  {
    "text": "already done Upstream so uh Upstream the",
    "start": "416000",
    "end": "418560"
  },
  {
    "text": "container builds are done they're just",
    "start": "418560",
    "end": "420479"
  },
  {
    "text": "not used um so the container builds are",
    "start": "420479",
    "end": "422440"
  },
  {
    "text": "done using buildkit Upstream you can run",
    "start": "422440",
    "end": "424360"
  },
  {
    "text": "buildkit in a cuetes cluster no problem",
    "start": "424360",
    "end": "426479"
  },
  {
    "text": "you can manage that with ARA workflow is",
    "start": "426479",
    "end": "427919"
  },
  {
    "text": "absolutely no problem um to trigger the",
    "start": "427919",
    "end": "430639"
  },
  {
    "text": "tests I just need a workflow step with",
    "start": "430639",
    "end": "432680"
  },
  {
    "text": "make installed and I could run the same",
    "start": "432680",
    "end": "434759"
  },
  {
    "text": "make commands that the cab actions",
    "start": "434759",
    "end": "436960"
  },
  {
    "text": "runs all of the required kubernetes",
    "start": "436960",
    "end": "439520"
  },
  {
    "text": "manifests so minio uh Argo workflows",
    "start": "439520",
    "end": "442720"
  },
  {
    "text": "even uh all available upam um so I can",
    "start": "442720",
    "end": "445039"
  },
  {
    "text": "just steal them put them into my cluster",
    "start": "445039",
    "end": "447039"
  },
  {
    "text": "and pretend excuse me and pretend I",
    "start": "447039",
    "end": "448960"
  },
  {
    "text": "worked really",
    "start": "448960",
    "end": "450520"
  },
  {
    "text": "hard so at this point the biggest hurdle",
    "start": "450520",
    "end": "452919"
  },
  {
    "text": "is how do we scale how do we get those",
    "start": "452919",
    "end": "455080"
  },
  {
    "text": "10 kubernetes clusters each with all the",
    "start": "455080",
    "end": "457800"
  },
  {
    "text": "prerequisites and our freshly built",
    "start": "457800",
    "end": "459560"
  },
  {
    "text": "container images installed into them um",
    "start": "459560",
    "end": "461840"
  },
  {
    "text": "how can I interact with all the",
    "start": "461840",
    "end": "463759"
  },
  {
    "text": "installed Argo workflows using make to",
    "start": "463759",
    "end": "466280"
  },
  {
    "text": "get them to run the tests um so to get",
    "start": "466280",
    "end": "468840"
  },
  {
    "text": "those 10 identical clusters I could sit",
    "start": "468840",
    "end": "471919"
  },
  {
    "text": "there with some terraform or open tofu",
    "start": "471919",
    "end": "473680"
  },
  {
    "text": "or cloud formation if I want to make my",
    "start": "473680",
    "end": "475440"
  },
  {
    "text": "life really difficult um to spin up 10",
    "start": "475440",
    "end": "477840"
  },
  {
    "text": "new eks clusters my boss would have a",
    "start": "477840",
    "end": "480639"
  },
  {
    "text": "small heart attack at the end of the",
    "start": "480639",
    "end": "481720"
  },
  {
    "text": "month because of the cost um and we're",
    "start": "481720",
    "end": "484720"
  },
  {
    "text": "probably looking at generously an",
    "start": "484720",
    "end": "487000"
  },
  {
    "text": "additional 30 minutes waiting for those",
    "start": "487000",
    "end": "488560"
  },
  {
    "text": "clusters to start up or um as luck would",
    "start": "488560",
    "end": "491840"
  },
  {
    "text": "have it I'm doing this talk with Denise",
    "start": "491840",
    "end": "493039"
  },
  {
    "text": "from Loft and so you've probably guessed",
    "start": "493039",
    "end": "494520"
  },
  {
    "text": "the solution",
    "start": "494520",
    "end": "496918"
  },
  {
    "text": "already okay so we obviously used V",
    "start": "497520",
    "end": "500400"
  },
  {
    "text": "cluster so what is V cluster so V",
    "start": "500400",
    "end": "502720"
  },
  {
    "text": "cluster started in 2021 and essentially",
    "start": "502720",
    "end": "504800"
  },
  {
    "text": "allows you to create virtual kubernetes",
    "start": "504800",
    "end": "506800"
  },
  {
    "text": "cluster it fact it's the only certified",
    "start": "506800",
    "end": "509479"
  },
  {
    "text": "kubernetes drro for creating virtual",
    "start": "509479",
    "end": "511680"
  },
  {
    "text": "kubernetes clusters and its open source",
    "start": "511680",
    "end": "514200"
  },
  {
    "text": "so right now we have over 6,500 people",
    "start": "514200",
    "end": "516560"
  },
  {
    "text": "starring in in GitHub if you want to",
    "start": "516560",
    "end": "517919"
  },
  {
    "text": "check it out yourself feel free to go to",
    "start": "517919",
    "end": "519399"
  },
  {
    "text": "our GitHub link or vcl cluster.com",
    "start": "519399",
    "end": "522800"
  },
  {
    "text": "so at its Core V cluster allows you to",
    "start": "522800",
    "end": "525680"
  },
  {
    "text": "create secure multi-tenancy for",
    "start": "525680",
    "end": "527600"
  },
  {
    "text": "kubernetes let's first talk about how",
    "start": "527600",
    "end": "529360"
  },
  {
    "text": "companies tend to usually hand out",
    "start": "529360",
    "end": "530600"
  },
  {
    "text": "kubernetes clusters whenever anyone",
    "start": "530600",
    "end": "532440"
  },
  {
    "text": "needs a cluster like in our example",
    "start": "532440",
    "end": "534040"
  },
  {
    "text": "you'd have to figure out let's provision",
    "start": "534040",
    "end": "536360"
  },
  {
    "text": "10 separate kubernetes clusters at first",
    "start": "536360",
    "end": "538760"
  },
  {
    "text": "that seems simple enough enough to keep",
    "start": "538760",
    "end": "539959"
  },
  {
    "text": "up with but slowly over time we know",
    "start": "539959",
    "end": "541880"
  },
  {
    "text": "that each additional cluster is more",
    "start": "541880",
    "end": "543600"
  },
  {
    "text": "time and money spent as Tim has been",
    "start": "543600",
    "end": "545000"
  },
  {
    "text": "talking about now the alternative that",
    "start": "545000",
    "end": "548200"
  },
  {
    "text": "companies often use is they might want",
    "start": "548200",
    "end": "550079"
  },
  {
    "text": "to try and save money with multi-",
    "start": "550079",
    "end": "551399"
  },
  {
    "text": "tendency and kubernetes and that default",
    "start": "551399",
    "end": "553000"
  },
  {
    "text": "way today is usually to hand out name",
    "start": "553000",
    "end": "555000"
  },
  {
    "text": "spaces in the same cluster the downside",
    "start": "555000",
    "end": "557480"
  },
  {
    "text": "of this approach is that it's not truly",
    "start": "557480",
    "end": "558959"
  },
  {
    "text": "secure as tenants share cluster wide",
    "start": "558959",
    "end": "561160"
  },
  {
    "text": "resources which can quickly create",
    "start": "561160",
    "end": "562720"
  },
  {
    "text": "conflicts for example if different",
    "start": "562720",
    "end": "564640"
  },
  {
    "text": "tenants wanted to test out different",
    "start": "564640",
    "end": "566480"
  },
  {
    "text": "versions of the same crd sharing name",
    "start": "566480",
    "end": "568440"
  },
  {
    "text": "spaces wouldn't be Poss possible and",
    "start": "568440",
    "end": "569760"
  },
  {
    "text": "their only solution would be to get",
    "start": "569760",
    "end": "571160"
  },
  {
    "text": "their own independent cluster so how is",
    "start": "571160",
    "end": "573440"
  },
  {
    "text": "V cluster different with v cluster",
    "start": "573440",
    "end": "575680"
  },
  {
    "text": "you're able to truly isolate the tenants",
    "start": "575680",
    "end": "577600"
  },
  {
    "text": "first we start off with a kubernetes",
    "start": "577600",
    "end": "579640"
  },
  {
    "text": "cluster that we refer to as a host",
    "start": "579640",
    "end": "581160"
  },
  {
    "text": "cluster running V cluster is nothing",
    "start": "581160",
    "end": "583000"
  },
  {
    "text": "more than deploying a pod onto that host",
    "start": "583000",
    "end": "585360"
  },
  {
    "text": "cluster in that pod V cluster runs a",
    "start": "585360",
    "end": "588079"
  },
  {
    "text": "kubernetes control plane and you make it",
    "start": "588079",
    "end": "590079"
  },
  {
    "text": "available via a low balance or Ingress",
    "start": "590079",
    "end": "592200"
  },
  {
    "text": "Etc and the Tenant talks directly to the",
    "start": "592200",
    "end": "594360"
  },
  {
    "text": "V clusters control plane there's no",
    "start": "594360",
    "end": "596839"
  },
  {
    "text": "longer competition or conflict between",
    "start": "596839",
    "end": "598680"
  },
  {
    "text": "the tenants since they are truly",
    "start": "598680",
    "end": "600360"
  },
  {
    "text": "isolated from each other and they're",
    "start": "600360",
    "end": "602000"
  },
  {
    "text": "talking directly to their own distinct",
    "start": "602000",
    "end": "604200"
  },
  {
    "text": "control planes all while using the same",
    "start": "604200",
    "end": "606040"
  },
  {
    "text": "underlying host cluster in that example",
    "start": "606040",
    "end": "608320"
  },
  {
    "text": "I mentioned earlier where multiple",
    "start": "608320",
    "end": "609600"
  },
  {
    "text": "tenants want to test out different",
    "start": "609600",
    "end": "610760"
  },
  {
    "text": "versions of the same crd they now can do",
    "start": "610760",
    "end": "612800"
  },
  {
    "text": "that using V cluster and still share the",
    "start": "612800",
    "end": "614640"
  },
  {
    "text": "same host cluster their crds would be",
    "start": "614640",
    "end": "616600"
  },
  {
    "text": "deployed into their individual control",
    "start": "616600",
    "end": "618160"
  },
  {
    "text": "planes and there would be no conflict on",
    "start": "618160",
    "end": "619920"
  },
  {
    "text": "the host cluster another benefit of V",
    "start": "619920",
    "end": "622560"
  },
  {
    "text": "cluster is that once you have your host",
    "start": "622560",
    "end": "624360"
  },
  {
    "text": "cluster available it's easy to quickly",
    "start": "624360",
    "end": "626040"
  },
  {
    "text": "provision more virtual clusters since",
    "start": "626040",
    "end": "627600"
  },
  {
    "text": "deploying a v cluster is nothing nothing",
    "start": "627600",
    "end": "629880"
  },
  {
    "text": "more than deploying another",
    "start": "629880",
    "end": "633160"
  },
  {
    "text": "pod now it's obvious we can immediately",
    "start": "633440",
    "end": "636079"
  },
  {
    "text": "save costs in physical infrastructure",
    "start": "636079",
    "end": "637720"
  },
  {
    "text": "with v cluster but there are even more",
    "start": "637720",
    "end": "639120"
  },
  {
    "text": "ways that you can stack your cost",
    "start": "639120",
    "end": "640240"
  },
  {
    "text": "savings by having one host cluster you",
    "start": "640240",
    "end": "642639"
  },
  {
    "text": "can deploy what we call a shared",
    "start": "642639",
    "end": "644720"
  },
  {
    "text": "platform stack that allows you deploy",
    "start": "644720",
    "end": "646279"
  },
  {
    "text": "applications and CRTs into the host",
    "start": "646279",
    "end": "648000"
  },
  {
    "text": "cluster but be able to use those",
    "start": "648000",
    "end": "649680"
  },
  {
    "text": "applications across all your virtual",
    "start": "649680",
    "end": "651600"
  },
  {
    "text": "clusters without needing to redeploy",
    "start": "651600",
    "end": "653279"
  },
  {
    "text": "them into every single cluster that you",
    "start": "653279",
    "end": "655320"
  },
  {
    "text": "have in addition to these benefits we",
    "start": "655320",
    "end": "657200"
  },
  {
    "text": "also have the ability to put your V",
    "start": "657200",
    "end": "658480"
  },
  {
    "text": "cluster and workloads to sleep when",
    "start": "658480",
    "end": "660160"
  },
  {
    "text": "they're not in use in order to save on",
    "start": "660160",
    "end": "661760"
  },
  {
    "text": "resource usage",
    "start": "661760",
    "end": "664639"
  },
  {
    "text": "costs so to summarize why did we use V",
    "start": "664800",
    "end": "667959"
  },
  {
    "text": "cluster in this challenge so in our",
    "start": "667959",
    "end": "669320"
  },
  {
    "text": "example we had 10 different Argo",
    "start": "669320",
    "end": "670760"
  },
  {
    "text": "workflows that we wanted to test out and",
    "start": "670760",
    "end": "672399"
  },
  {
    "text": "be able to test them with true",
    "start": "672399",
    "end": "673639"
  },
  {
    "text": "kubernetes arbac in in order to mimic",
    "start": "673639",
    "end": "676160"
  },
  {
    "text": "the real world use we would have have",
    "start": "676160",
    "end": "677480"
  },
  {
    "text": "required 10 individual clusters and the",
    "start": "677480",
    "end": "679639"
  },
  {
    "text": "reason why we chose it was we now only",
    "start": "679639",
    "end": "681360"
  },
  {
    "text": "needed one host cluster it's open source",
    "start": "681360",
    "end": "683720"
  },
  {
    "text": "is a certified kubernetes drro and each",
    "start": "683720",
    "end": "686279"
  },
  {
    "text": "kubernetes cluster is isolated from each",
    "start": "686279",
    "end": "688240"
  },
  {
    "text": "other so we could easily run our 10",
    "start": "688240",
    "end": "690720"
  },
  {
    "text": "workflows in parallel overall it saved",
    "start": "690720",
    "end": "692760"
  },
  {
    "text": "us a lot of time and",
    "start": "692760",
    "end": "695880"
  },
  {
    "text": "money so it's slightly anticlimactic but",
    "start": "696160",
    "end": "699200"
  },
  {
    "text": "we did the thing um with v cluster in",
    "start": "699200",
    "end": "701480"
  },
  {
    "text": "the mix We achieved what we set out to",
    "start": "701480",
    "end": "703120"
  },
  {
    "text": "do uh we added a workflow step that span",
    "start": "703120",
    "end": "705360"
  },
  {
    "text": "up the 10 V clusters as Denise just said",
    "start": "705360",
    "end": "707920"
  },
  {
    "text": "we connected to them within a minute uh",
    "start": "707920",
    "end": "710440"
  },
  {
    "text": "installed the dependencies and",
    "start": "710440",
    "end": "711800"
  },
  {
    "text": "everything we wanted to test and then",
    "start": "711800",
    "end": "712920"
  },
  {
    "text": "the test ran once the tests were",
    "start": "712920",
    "end": "715040"
  },
  {
    "text": "complete we had a workflows exit Handler",
    "start": "715040",
    "end": "716839"
  },
  {
    "text": "just to tear down the Fe clusters so in",
    "start": "716839",
    "end": "719600"
  },
  {
    "text": "terms of runtime uh we're comparable",
    "start": "719600",
    "end": "722000"
  },
  {
    "text": "with Upstream CI slightly quicker if",
    "start": "722000",
    "end": "724279"
  },
  {
    "text": "you're feeling generous um and of course",
    "start": "724279",
    "end": "726560"
  },
  {
    "text": "this is definitely faster than running",
    "start": "726560",
    "end": "728519"
  },
  {
    "text": "locally in terms of cost um it's never",
    "start": "728519",
    "end": "731600"
  },
  {
    "text": "going to defeat free um we were running",
    "start": "731600",
    "end": "735079"
  },
  {
    "text": "AWS on demand nodes um am amd64 nodes uh",
    "start": "735079",
    "end": "739279"
  },
  {
    "text": "with gp3 storage so it works at about $2",
    "start": "739279",
    "end": "741839"
  },
  {
    "text": "a half do per run um I'm pretty",
    "start": "741839",
    "end": "744800"
  },
  {
    "text": "confident we could half that with a bit",
    "start": "744800",
    "end": "746560"
  },
  {
    "text": "more effort um but that's where we're at",
    "start": "746560",
    "end": "748199"
  },
  {
    "text": "right now",
    "start": "748199",
    "end": "751160"
  },
  {
    "text": "so all that is at least hopefully mildly",
    "start": "751160",
    "end": "753720"
  },
  {
    "text": "interesting um but probably not super",
    "start": "753720",
    "end": "755839"
  },
  {
    "text": "useful in terms of what you're doing in",
    "start": "755839",
    "end": "757360"
  },
  {
    "text": "your day-to-day um so I want to take a",
    "start": "757360",
    "end": "760120"
  },
  {
    "text": "few minutes just to break down some of",
    "start": "760120",
    "end": "761600"
  },
  {
    "text": "the challenges and the decisions we made",
    "start": "761600",
    "end": "763360"
  },
  {
    "text": "along the way which hopefully kind of",
    "start": "763360",
    "end": "764600"
  },
  {
    "text": "helps you in your your cish journey with",
    "start": "764600",
    "end": "767519"
  },
  {
    "text": "Argo um this slide in particular is",
    "start": "767519",
    "end": "770120"
  },
  {
    "text": "quite clicky um with loads of links to",
    "start": "770120",
    "end": "772639"
  },
  {
    "text": "various helpful places um you can",
    "start": "772639",
    "end": "774120"
  },
  {
    "text": "download the slide deck there's a link a",
    "start": "774120",
    "end": "775600"
  },
  {
    "text": "little bit later um it's on ched and all",
    "start": "775600",
    "end": "777920"
  },
  {
    "text": "that sort of stuff as well if that's",
    "start": "777920",
    "end": "779279"
  },
  {
    "text": "what you want to do um so anyway just to",
    "start": "779279",
    "end": "781600"
  },
  {
    "text": "highlight a few of the things on this",
    "start": "781600",
    "end": "783160"
  },
  {
    "text": "slide um we opted to use an NFS share to",
    "start": "783160",
    "end": "786360"
  },
  {
    "text": "pass data between workflow steps rather",
    "start": "786360",
    "end": "788480"
  },
  {
    "text": "than using the artifacts that are sort",
    "start": "788480",
    "end": "790880"
  },
  {
    "text": "of the default method of doing that",
    "start": "790880",
    "end": "792399"
  },
  {
    "text": "within workflows um in the majority of",
    "start": "792399",
    "end": "794760"
  },
  {
    "text": "cases I believe this is quite a lot",
    "start": "794760",
    "end": "796760"
  },
  {
    "text": "cheaper and quite a lot faster um for",
    "start": "796760",
    "end": "799240"
  },
  {
    "text": "this sort of in workflow transient data",
    "start": "799240",
    "end": "801079"
  },
  {
    "text": "management um I did a talk making my",
    "start": "801079",
    "end": "803199"
  },
  {
    "text": "case on it on this a couple of years",
    "start": "803199",
    "end": "805399"
  },
  {
    "text": "back so that's where that first link",
    "start": "805399",
    "end": "807519"
  },
  {
    "text": "goes um as I mentioned the Upstream",
    "start": "807519",
    "end": "810040"
  },
  {
    "text": "tests don't really consider qvs ARB back",
    "start": "810040",
    "end": "813199"
  },
  {
    "text": "um so we had to add our own in and make",
    "start": "813199",
    "end": "815240"
  },
  {
    "text": "our own stuff up um the big thing to be",
    "start": "815240",
    "end": "817680"
  },
  {
    "text": "aware of in terms of workflows arbac in",
    "start": "817680",
    "end": "820000"
  },
  {
    "text": "general um is that you really need to uh",
    "start": "820000",
    "end": "823920"
  },
  {
    "text": "allow the workflow executive to patch",
    "start": "823920",
    "end": "825519"
  },
  {
    "text": "workflow task results if you don't your",
    "start": "825519",
    "end": "828160"
  },
  {
    "text": "workflow will just hang in weird places",
    "start": "828160",
    "end": "830079"
  },
  {
    "text": "and it's really confusing if you come",
    "start": "830079",
    "end": "831920"
  },
  {
    "text": "here today wanting to know why your",
    "start": "831920",
    "end": "833560"
  },
  {
    "text": "workflows are hanging that's why um",
    "start": "833560",
    "end": "835519"
  },
  {
    "text": "you're welcome you can go home",
    "start": "835519",
    "end": "839480"
  },
  {
    "text": "we had to teach our cluster autoscaling",
    "start": "839600",
    "end": "842120"
  },
  {
    "text": "U not to terminate nodes that were being",
    "start": "842120",
    "end": "844320"
  },
  {
    "text": "used run uh being used throughout the",
    "start": "844320",
    "end": "846040"
  },
  {
    "text": "tests so if a test pod is removed when",
    "start": "846040",
    "end": "848880"
  },
  {
    "text": "it's running all the tests just",
    "start": "848880",
    "end": "850079"
  },
  {
    "text": "instantly fail um so that more or less",
    "start": "850079",
    "end": "852639"
  },
  {
    "text": "forced us to use those on demand",
    "start": "852639",
    "end": "854120"
  },
  {
    "text": "instances which is What's um spiking the",
    "start": "854120",
    "end": "856399"
  },
  {
    "text": "cost of RCI jobs at the moment um we",
    "start": "856399",
    "end": "859240"
  },
  {
    "text": "would obviously prefer to use spot",
    "start": "859240",
    "end": "860560"
  },
  {
    "text": "instances but spot instances can be",
    "start": "860560",
    "end": "863199"
  },
  {
    "text": "terminated in very short notice so I",
    "start": "863199",
    "end": "866519"
  },
  {
    "text": "would really like to put the effort in",
    "start": "866519",
    "end": "868160"
  },
  {
    "text": "over time to teach the framework that",
    "start": "868160",
    "end": "870399"
  },
  {
    "text": "retries are fine and should be embraced",
    "start": "870399",
    "end": "872800"
  },
  {
    "text": "and and all that sort of stuff and then",
    "start": "872800",
    "end": "874079"
  },
  {
    "text": "we could lower the cost that way um if",
    "start": "874079",
    "end": "876720"
  },
  {
    "text": "you are starting in starting out in some",
    "start": "876720",
    "end": "878839"
  },
  {
    "text": "sort of cloud native cicd Journey even",
    "start": "878839",
    "end": "881040"
  },
  {
    "text": "if it's not going to be Argo in the end",
    "start": "881040",
    "end": "883320"
  },
  {
    "text": "definitely Embrace spot instances you",
    "start": "883320",
    "end": "884839"
  },
  {
    "text": "will save a ton of money um yeah",
    "start": "884839",
    "end": "887360"
  },
  {
    "text": "definitely do it",
    "start": "887360",
    "end": "889600"
  },
  {
    "text": "um when we first started building out",
    "start": "889600",
    "end": "891880"
  },
  {
    "text": "this test framework and and running it",
    "start": "891880",
    "end": "894639"
  },
  {
    "text": "um we we started hitting all sorts of",
    "start": "894639",
    "end": "897399"
  },
  {
    "text": "weird alerts in our alerting system",
    "start": "897399",
    "end": "899079"
  },
  {
    "text": "system specifically this contract error",
    "start": "899079",
    "end": "901880"
  },
  {
    "text": "um the error itself isn't important um",
    "start": "901880",
    "end": "905279"
  },
  {
    "text": "what I really want to try and emphasize",
    "start": "905279",
    "end": "907160"
  },
  {
    "text": "is that you need some sort of solid",
    "start": "907160",
    "end": "908880"
  },
  {
    "text": "observability solution in your system um",
    "start": "908880",
    "end": "911560"
  },
  {
    "text": "in your cluster before you start messing",
    "start": "911560",
    "end": "914120"
  },
  {
    "text": "around with ARG workflows or or anything",
    "start": "914120",
    "end": "916040"
  },
  {
    "text": "of that sort of scale in in your cluster",
    "start": "916040",
    "end": "918440"
  },
  {
    "text": "um without this I could have taken our",
    "start": "918440",
    "end": "919920"
  },
  {
    "text": "cluster offline for probably some time",
    "start": "919920",
    "end": "922320"
  },
  {
    "text": "and not really understood why for a very",
    "start": "922320",
    "end": "924680"
  },
  {
    "text": "long period of time um if I didn't have",
    "start": "924680",
    "end": "926600"
  },
  {
    "text": "that kind of observability Stack there",
    "start": "926600",
    "end": "929319"
  },
  {
    "text": "um if you don't have any ARA workflows",
    "start": "929319",
    "end": "932120"
  },
  {
    "text": "observability at the moment I do",
    "start": "932120",
    "end": "933680"
  },
  {
    "text": "appreciate that the whole observability",
    "start": "933680",
    "end": "936040"
  },
  {
    "text": "thing sounds quite daunting um at pip",
    "start": "936040",
    "end": "938680"
  },
  {
    "text": "kit we have a completely free work uh",
    "start": "938680",
    "end": "940959"
  },
  {
    "text": "workflow metrics offering um that gives",
    "start": "940959",
    "end": "943279"
  },
  {
    "text": "you a no config look into the health of",
    "start": "943279",
    "end": "945240"
  },
  {
    "text": "your workflows um there's no strings you",
    "start": "945240",
    "end": "947160"
  },
  {
    "text": "can just sign up use it you can just see",
    "start": "947160",
    "end": "949120"
  },
  {
    "text": "those metrics almost",
    "start": "949120",
    "end": "951000"
  },
  {
    "text": "immediately um similarly this whole work",
    "start": "951000",
    "end": "953240"
  },
  {
    "text": "emphasized the importance of a cluster",
    "start": "953240",
    "end": "954800"
  },
  {
    "text": "wide logging solution um it was really",
    "start": "954800",
    "end": "957120"
  },
  {
    "text": "helpful to have a single view of log",
    "start": "957120",
    "end": "959399"
  },
  {
    "text": "into each of those workflow controllers",
    "start": "959399",
    "end": "961199"
  },
  {
    "text": "each of those V clusters every single",
    "start": "961199",
    "end": "962959"
  },
  {
    "text": "pod etc etc um Argo workflows does come",
    "start": "962959",
    "end": "965920"
  },
  {
    "text": "with a log archiving solution and even",
    "start": "965920",
    "end": "968120"
  },
  {
    "text": "the Argo workflow stocks tell you not to",
    "start": "968120",
    "end": "970120"
  },
  {
    "text": "use it for production so don't um it",
    "start": "970120",
    "end": "972839"
  },
  {
    "text": "doesn't archive everything it is quite",
    "start": "972839",
    "end": "974600"
  },
  {
    "text": "expensive in terms of the log",
    "start": "974600",
    "end": "975920"
  },
  {
    "text": "compression and all that sort of stuff",
    "start": "975920",
    "end": "977560"
  },
  {
    "text": "and the search is poor um it is really",
    "start": "977560",
    "end": "981160"
  },
  {
    "text": "worth you putting the effort into a more",
    "start": "981160",
    "end": "982959"
  },
  {
    "text": "dedicated cluster-wide logging solution",
    "start": "982959",
    "end": "985279"
  },
  {
    "text": "um I'm more than happy to have a",
    "start": "985279",
    "end": "986279"
  },
  {
    "text": "conversation with you about that there's",
    "start": "986279",
    "end": "987480"
  },
  {
    "text": "loads of options there so um yeah come",
    "start": "987480",
    "end": "989920"
  },
  {
    "text": "and find me at some",
    "start": "989920",
    "end": "991160"
  },
  {
    "text": "point um Docker Hub was a real problem",
    "start": "991160",
    "end": "993680"
  },
  {
    "text": "for us um a lot of the tests use Alpine",
    "start": "993680",
    "end": "996880"
  },
  {
    "text": "or they were using whal say um there's a",
    "start": "996880",
    "end": "999959"
  },
  {
    "text": "few other things in there um and each of",
    "start": "999959",
    "end": "1002279"
  },
  {
    "text": "them pull from Docker Hub by default and",
    "start": "1002279",
    "end": "1004560"
  },
  {
    "text": "and Docker Hub is quite strict on how",
    "start": "1004560",
    "end": "1006399"
  },
  {
    "text": "much allocation they'll let you pull",
    "start": "1006399",
    "end": "1008040"
  },
  {
    "text": "before they start to stop letting you",
    "start": "1008040",
    "end": "1010279"
  },
  {
    "text": "pull basically um there's a number of",
    "start": "1010279",
    "end": "1012079"
  },
  {
    "text": "solutions to that problem you could mix",
    "start": "1012079",
    "end": "1014040"
  },
  {
    "text": "and match them so you could patch in an",
    "start": "1014040",
    "end": "1015680"
  },
  {
    "text": "image pool secret into all those places",
    "start": "1015680",
    "end": "1017399"
  },
  {
    "text": "that you need one so the you get you can",
    "start": "1017399",
    "end": "1020319"
  },
  {
    "text": "do that for free still with a with some",
    "start": "1020319",
    "end": "1022040"
  },
  {
    "text": "sort of GitHub uh Docker Hub",
    "start": "1022040",
    "end": "1023880"
  },
  {
    "text": "authentication you could introduce a",
    "start": "1023880",
    "end": "1026240"
  },
  {
    "text": "local pull through cache like ECR",
    "start": "1026240",
    "end": "1028240"
  },
  {
    "text": "something like that um we use a tool",
    "start": "1028240",
    "end": "1030240"
  },
  {
    "text": "called Spiegel that automatically caches",
    "start": "1030240",
    "end": "1032678"
  },
  {
    "text": "pools in your cluster across nodes so if",
    "start": "1032679",
    "end": "1035160"
  },
  {
    "text": "a node over there has already pulled the",
    "start": "1035160",
    "end": "1037000"
  },
  {
    "text": "image the node over here can just pull",
    "start": "1037000",
    "end": "1038839"
  },
  {
    "text": "it internally without having to bother",
    "start": "1038839",
    "end": "1040520"
  },
  {
    "text": "the querying um Docker",
    "start": "1040520",
    "end": "1043760"
  },
  {
    "text": "Hub lastly to ensure a reliable cleanup",
    "start": "1043760",
    "end": "1046600"
  },
  {
    "text": "once the tests were finished we made use",
    "start": "1046600",
    "end": "1049120"
  },
  {
    "text": "of argo's exit handlers um but we also",
    "start": "1049120",
    "end": "1051919"
  },
  {
    "text": "use a tool called Cube janitor so Cube",
    "start": "1051919",
    "end": "1054840"
  },
  {
    "text": "janitor allows you to set a TTL",
    "start": "1054840",
    "end": "1056480"
  },
  {
    "text": "annotation on things in your cluster and",
    "start": "1056480",
    "end": "1059600"
  },
  {
    "text": "when the TTL has has been reached Cube",
    "start": "1059600",
    "end": "1061679"
  },
  {
    "text": "janitor comes along and cleans it up um",
    "start": "1061679",
    "end": "1064120"
  },
  {
    "text": "so that's a great belt and braces",
    "start": "1064120",
    "end": "1065559"
  },
  {
    "text": "solution to if you if your exit handle",
    "start": "1065559",
    "end": "1068240"
  },
  {
    "text": "doesn't fire properly and you've written",
    "start": "1068240",
    "end": "1069840"
  },
  {
    "text": "bad yamel like I always do um you know",
    "start": "1069840",
    "end": "1072160"
  },
  {
    "text": "you've got something there to clean up",
    "start": "1072160",
    "end": "1073559"
  },
  {
    "text": "those V clusters and all the associated",
    "start": "1073559",
    "end": "1075480"
  },
  {
    "text": "things um just to keep everything clean",
    "start": "1075480",
    "end": "1077679"
  },
  {
    "text": "and everything as cheap as possible",
    "start": "1077679",
    "end": "1080840"
  },
  {
    "text": "so in terms of bumps in the road we",
    "start": "1081280",
    "end": "1082760"
  },
  {
    "text": "found uh with the Upstream tests and the",
    "start": "1082760",
    "end": "1084760"
  },
  {
    "text": "setup um the yaml manifests that I stole",
    "start": "1084760",
    "end": "1088799"
  },
  {
    "text": "have no persistance and they have no",
    "start": "1088799",
    "end": "1090679"
  },
  {
    "text": "resource requests set that's sort of",
    "start": "1090679",
    "end": "1093919"
  },
  {
    "text": "fish for uh local testing um because",
    "start": "1093919",
    "end": "1097440"
  },
  {
    "text": "you're probably only using like a single",
    "start": "1097440",
    "end": "1098679"
  },
  {
    "text": "node cluster U you're not going to be",
    "start": "1098679",
    "end": "1100400"
  },
  {
    "text": "using it for anything else um I was",
    "start": "1100400",
    "end": "1102480"
  },
  {
    "text": "being brave and I was using our internal",
    "start": "1102480",
    "end": "1105679"
  },
  {
    "text": "CI cluster um while all the developers",
    "start": "1105679",
    "end": "1108280"
  },
  {
    "text": "were also using the same cluster to do",
    "start": "1108280",
    "end": "1110000"
  },
  {
    "text": "actual work um and so that could have",
    "start": "1110000",
    "end": "1112840"
  },
  {
    "text": "gone bad um so to fix the underlying",
    "start": "1112840",
    "end": "1115840"
  },
  {
    "text": "problem we needed to add resource",
    "start": "1115840",
    "end": "1117600"
  },
  {
    "text": "requests um appropriately everywhere in",
    "start": "1117600",
    "end": "1120159"
  },
  {
    "text": "all of those uh manifest basically",
    "start": "1120159",
    "end": "1122240"
  },
  {
    "text": "otherwise the cube scheduler just tries",
    "start": "1122240",
    "end": "1123640"
  },
  {
    "text": "to put far too much stuff onto a single",
    "start": "1123640",
    "end": "1126360"
  },
  {
    "text": "node um we also set some default",
    "start": "1126360",
    "end": "1129640"
  },
  {
    "text": "resource requests in the workflow",
    "start": "1129640",
    "end": "1131080"
  },
  {
    "text": "controller config map inside each V",
    "start": "1131080",
    "end": "1132840"
  },
  {
    "text": "cluster so that there was some",
    "start": "1132840",
    "end": "1134320"
  },
  {
    "text": "guaranteed resources for every single um",
    "start": "1134320",
    "end": "1136600"
  },
  {
    "text": "test step as well similarly things like",
    "start": "1136600",
    "end": "1138960"
  },
  {
    "text": "minio and myl um those manifests from",
    "start": "1138960",
    "end": "1141880"
  },
  {
    "text": "Upstream also have none of that stuff",
    "start": "1141880",
    "end": "1143360"
  },
  {
    "text": "set um they became much more reliable",
    "start": "1143360",
    "end": "1145840"
  },
  {
    "text": "once we added things like PVCs for",
    "start": "1145840",
    "end": "1147440"
  },
  {
    "text": "storage rather than hoping that",
    "start": "1147440",
    "end": "1148880"
  },
  {
    "text": "everything would just stay in memory for",
    "start": "1148880",
    "end": "1150280"
  },
  {
    "text": "the duration of the tests which they",
    "start": "1150280",
    "end": "1152400"
  },
  {
    "text": "didn't um in terms of what you can learn",
    "start": "1152400",
    "end": "1155159"
  },
  {
    "text": "from this uh it really does pay to set",
    "start": "1155159",
    "end": "1158120"
  },
  {
    "text": "appropriate resource requests on",
    "start": "1158120",
    "end": "1159799"
  },
  {
    "text": "everything in your cluster so that's not",
    "start": "1159799",
    "end": "1161120"
  },
  {
    "text": "just workflow stuff but that is",
    "start": "1161120",
    "end": "1162360"
  },
  {
    "text": "everything and it's painstaking and it's",
    "start": "1162360",
    "end": "1164559"
  },
  {
    "text": "dull and yeah I get it but it really",
    "start": "1164559",
    "end": "1166919"
  },
  {
    "text": "does pay off um in terms of like cluster",
    "start": "1166919",
    "end": "1169919"
  },
  {
    "text": "efficiency and workflow",
    "start": "1169919",
    "end": "1173240"
  },
  {
    "text": "reliability by running the test through",
    "start": "1173240",
    "end": "1175280"
  },
  {
    "text": "ARA workflows rather than through the G",
    "start": "1175280",
    "end": "1176760"
  },
  {
    "text": "Hub actions we actually found a number",
    "start": "1176760",
    "end": "1178559"
  },
  {
    "text": "of test cases that were failing in our",
    "start": "1178559",
    "end": "1180400"
  },
  {
    "text": "environment um but not Upstream so we",
    "start": "1180400",
    "end": "1183440"
  },
  {
    "text": "caught and fixed a reasonably serious",
    "start": "1183440",
    "end": "1185480"
  },
  {
    "text": "worth Argo 3.6 issue before 3.6 got",
    "start": "1185480",
    "end": "1188480"
  },
  {
    "text": "released um that probably wouldn't have",
    "start": "1188480",
    "end": "1190400"
  },
  {
    "text": "been found um unless we' done",
    "start": "1190400",
    "end": "1192919"
  },
  {
    "text": "this we also found some flaky tests",
    "start": "1192919",
    "end": "1195480"
  },
  {
    "text": "along the way so the test had things",
    "start": "1195480",
    "end": "1197760"
  },
  {
    "text": "like hardcoded timer outs uh rather than",
    "start": "1197760",
    "end": "1200520"
  },
  {
    "text": "checking the cluster for a state change",
    "start": "1200520",
    "end": "1202000"
  },
  {
    "text": "or something like that um and some tests",
    "start": "1202000",
    "end": "1204320"
  },
  {
    "text": "were designed to work in a kind of not",
    "start": "1204320",
    "end": "1206799"
  },
  {
    "text": "real cluster environment rather than we",
    "start": "1206799",
    "end": "1209760"
  },
  {
    "text": "were essentially running this sest in",
    "start": "1209760",
    "end": "1211159"
  },
  {
    "text": "eks um and so bad things happened um we",
    "start": "1211159",
    "end": "1214520"
  },
  {
    "text": "have Push fixes for most of them already",
    "start": "1214520",
    "end": "1217400"
  },
  {
    "text": "um with some more fixes on the way",
    "start": "1217400",
    "end": "1220039"
  },
  {
    "text": "hopefully so what next um we really want",
    "start": "1220039",
    "end": "1223360"
  },
  {
    "text": "to open source the work we've done um",
    "start": "1223360",
    "end": "1225600"
  },
  {
    "text": "what we've done is pretty messy and very",
    "start": "1225600",
    "end": "1228120"
  },
  {
    "text": "customized are set up um which is why I",
    "start": "1228120",
    "end": "1230679"
  },
  {
    "text": "haven't just plastered a massive QR code",
    "start": "1230679",
    "end": "1232320"
  },
  {
    "text": "or something like that here um but",
    "start": "1232320",
    "end": "1234000"
  },
  {
    "text": "there's no secret if you want to see my",
    "start": "1234000",
    "end": "1236640"
  },
  {
    "text": "mess um just give me a shout out and",
    "start": "1236640",
    "end": "1238960"
  },
  {
    "text": "I'll email it to you it's it's not a",
    "start": "1238960",
    "end": "1240520"
  },
  {
    "text": "problem um my bigger dream for this is",
    "start": "1240520",
    "end": "1242600"
  },
  {
    "text": "that it becomes the default that kind of",
    "start": "1242600",
    "end": "1244880"
  },
  {
    "text": "deao CI um for Argo workflows um we are",
    "start": "1244880",
    "end": "1248799"
  },
  {
    "text": "some way off achieving this at the",
    "start": "1248799",
    "end": "1250039"
  },
  {
    "text": "moment um definitely need more work we",
    "start": "1250039",
    "end": "1252000"
  },
  {
    "text": "need to improve the CI we need to",
    "start": "1252000",
    "end": "1253159"
  },
  {
    "text": "improve the test R the cost the speed um",
    "start": "1253159",
    "end": "1256280"
  },
  {
    "text": "and I guess more importantly we need to",
    "start": "1256280",
    "end": "1257960"
  },
  {
    "text": "persuade someone to actually host the",
    "start": "1257960",
    "end": "1260120"
  },
  {
    "text": "the thing um but one of the reasons I",
    "start": "1260120",
    "end": "1262559"
  },
  {
    "text": "wanted to talk about this today is just",
    "start": "1262559",
    "end": "1264280"
  },
  {
    "text": "to gauge Community interest so if you're",
    "start": "1264280",
    "end": "1266280"
  },
  {
    "text": "interested in getting involved in that",
    "start": "1266280",
    "end": "1268080"
  },
  {
    "text": "kind of projects then yeah just give me",
    "start": "1268080",
    "end": "1270039"
  },
  {
    "text": "a shout and we'll we'll see what we can",
    "start": "1270039",
    "end": "1271320"
  },
  {
    "text": "put",
    "start": "1271320",
    "end": "1273320"
  },
  {
    "text": "together that's it thanks for listening",
    "start": "1273320",
    "end": "1275720"
  },
  {
    "text": "um so the talk slides are on that first",
    "start": "1275720",
    "end": "1277840"
  },
  {
    "text": "that top left link up there um if you",
    "start": "1277840",
    "end": "1280559"
  },
  {
    "text": "want to use the free observability tool",
    "start": "1280559",
    "end": "1283039"
  },
  {
    "text": "I was talking about that's the middle",
    "start": "1283039",
    "end": "1284400"
  },
  {
    "text": "left link um if you want kind of General",
    "start": "1284400",
    "end": "1287799"
  },
  {
    "text": "Argo help um do come by our booth we'd",
    "start": "1287799",
    "end": "1290799"
  },
  {
    "text": "love chatting with you about open sourcy",
    "start": "1290799",
    "end": "1292799"
  },
  {
    "text": "stuff and all that kind of thing um if",
    "start": "1292799",
    "end": "1295080"
  },
  {
    "text": "you don't like face to face or human",
    "start": "1295080",
    "end": "1296840"
  },
  {
    "text": "interaction and that sort of stuff um we",
    "start": "1296840",
    "end": "1299080"
  },
  {
    "text": "do as exactly the same thing on Zoom",
    "start": "1299080",
    "end": "1301679"
  },
  {
    "text": "regularly as well so there's there's a",
    "start": "1301679",
    "end": "1303279"
  },
  {
    "text": "zoom link there if you want that um",
    "start": "1303279",
    "end": "1305279"
  },
  {
    "text": "lastly if you come and find me over the",
    "start": "1305279",
    "end": "1306960"
  },
  {
    "text": "next few days I do have some limited",
    "start": "1306960",
    "end": "1308400"
  },
  {
    "text": "edition kind of uh workflows dog fooding",
    "start": "1308400",
    "end": "1311960"
  },
  {
    "text": "um swag it's not dog food um so yeah",
    "start": "1311960",
    "end": "1316559"
  },
  {
    "text": "come and find me yeah and uh if you'd",
    "start": "1316559",
    "end": "1319520"
  },
  {
    "text": "like to check out V cluster you can head",
    "start": "1319520",
    "end": "1321240"
  },
  {
    "text": "to our install link learn more about how",
    "start": "1321240",
    "end": "1323159"
  },
  {
    "text": "to deploy it we're also on the booth",
    "start": "1323159",
    "end": "1325400"
  },
  {
    "text": "floor you can come find me Booth A6 I",
    "start": "1325400",
    "end": "1328360"
  },
  {
    "text": "think is what we are so yeah thanks for",
    "start": "1328360",
    "end": "1332520"
  },
  {
    "text": "coming all right yeah so we have time",
    "start": "1333679",
    "end": "1336679"
  },
  {
    "text": "for a few questions yes so there's one",
    "start": "1336679",
    "end": "1339279"
  },
  {
    "text": "right",
    "start": "1339279",
    "end": "1341520"
  },
  {
    "text": "here I'm sorry it's just a real quick",
    "start": "1343880",
    "end": "1346080"
  },
  {
    "text": "question can you put back up you said",
    "start": "1346080",
    "end": "1347720"
  },
  {
    "text": "reach out if we wanted wanted to uh",
    "start": "1347720",
    "end": "1349320"
  },
  {
    "text": "learn more work with you on that uh but",
    "start": "1349320",
    "end": "1351679"
  },
  {
    "text": "you went by too quick with how to",
    "start": "1351679",
    "end": "1353440"
  },
  {
    "text": "contact you so can you either throw that",
    "start": "1353440",
    "end": "1355799"
  },
  {
    "text": "slide back up real quick or sh it's not",
    "start": "1355799",
    "end": "1357720"
  },
  {
    "text": "actually on the slide",
    "start": "1357720",
    "end": "1359279"
  },
  {
    "text": "um we don't actually want you to contact",
    "start": "1359279",
    "end": "1361760"
  },
  {
    "text": "us that's what is saying your best bet",
    "start": "1361760",
    "end": "1364159"
  },
  {
    "text": "is to find us on the booth um we'll have",
    "start": "1364159",
    "end": "1366799"
  },
  {
    "text": "a chat there um or P kit. there's loads",
    "start": "1366799",
    "end": "1370480"
  },
  {
    "text": "of ways to contact us through that um",
    "start": "1370480",
    "end": "1372880"
  },
  {
    "text": "that's probably the best way thank you",
    "start": "1372880",
    "end": "1377960"
  },
  {
    "text": "all",
    "start": "1379720",
    "end": "1381919"
  },
  {
    "text": "right yeah so hi so you talked about the",
    "start": "1382799",
    "end": "1385440"
  },
  {
    "text": "V cluster stuff how do you manage like",
    "start": "1385440",
    "end": "1388520"
  },
  {
    "text": "resources I know you can just add a pod",
    "start": "1388520",
    "end": "1390120"
  },
  {
    "text": "to create a new cluster but eventually",
    "start": "1390120",
    "end": "1391480"
  },
  {
    "text": "you're going to run out of resources",
    "start": "1391480",
    "end": "1392720"
  },
  {
    "text": "there or does it just spin up new pods",
    "start": "1392720",
    "end": "1394600"
  },
  {
    "text": "in in the hosting cluster H how do you",
    "start": "1394600",
    "end": "1396760"
  },
  {
    "text": "manage that piece for costing there's I",
    "start": "1396760",
    "end": "1399360"
  },
  {
    "text": "think there's resource limits on the V",
    "start": "1399360",
    "end": "1400760"
  },
  {
    "text": "cluster pod itself so I mean you it's",
    "start": "1400760",
    "end": "1403039"
  },
  {
    "text": "like any kubernetes cluster where you",
    "start": "1403039",
    "end": "1404720"
  },
  {
    "text": "have to kind of manage how many pods you",
    "start": "1404720",
    "end": "1406960"
  },
  {
    "text": "have running on it so we V cluster is no",
    "start": "1406960",
    "end": "1409240"
  },
  {
    "text": "different so V cluster specifically the",
    "start": "1409240",
    "end": "1411480"
  },
  {
    "text": "way V cluster works is it only syncs",
    "start": "1411480",
    "end": "1413600"
  },
  {
    "text": "down in your virtual kubernetes cluster",
    "start": "1413600",
    "end": "1415919"
  },
  {
    "text": "it only syncs down to the host cluster",
    "start": "1415919",
    "end": "1418120"
  },
  {
    "text": "the actual resources that need to be",
    "start": "1418120",
    "end": "1419559"
  },
  {
    "text": "exposed so pods services and so there's",
    "start": "1419559",
    "end": "1422799"
  },
  {
    "text": "that's how you can save on resources in",
    "start": "1422799",
    "end": "1424480"
  },
  {
    "text": "in to begin with because it never",
    "start": "1424480",
    "end": "1426559"
  },
  {
    "text": "actually goes to the host cluster begin",
    "start": "1426559",
    "end": "1429720"
  },
  {
    "text": "with gang y'all crushed that",
    "start": "1429720",
    "end": "1431720"
  },
  {
    "text": "presentation it was excellent um one",
    "start": "1431720",
    "end": "1434760"
  },
  {
    "text": "question I had was within the um cluster",
    "start": "1434760",
    "end": "1437799"
  },
  {
    "text": "architecture it looked like or or you",
    "start": "1437799",
    "end": "1440720"
  },
  {
    "text": "have the ability to Define like shared",
    "start": "1440720",
    "end": "1443159"
  },
  {
    "text": "resources that are installed like at the",
    "start": "1443159",
    "end": "1445520"
  },
  {
    "text": "global level is that where the Argo",
    "start": "1445520",
    "end": "1447480"
  },
  {
    "text": "server and the workflow controller was",
    "start": "1447480",
    "end": "1448840"
  },
  {
    "text": "installed or did you do it in each V we",
    "start": "1448840",
    "end": "1451480"
  },
  {
    "text": "have to do it in each because they are",
    "start": "1451480",
    "end": "1453960"
  },
  {
    "text": "slightly the slight differences between",
    "start": "1453960",
    "end": "1456760"
  },
  {
    "text": "all of those setups for various reasons",
    "start": "1456760",
    "end": "1459080"
  },
  {
    "text": "you know they're testing different",
    "start": "1459080",
    "end": "1460640"
  },
  {
    "text": "things you know there's a bunch of datab",
    "start": "1460640",
    "end": "1462520"
  },
  {
    "text": "basy test there's a bunch of artifact",
    "start": "1462520",
    "end": "1464520"
  },
  {
    "text": "tests for example and so the the config",
    "start": "1464520",
    "end": "1466520"
  },
  {
    "text": "of each is ever so slightly different so",
    "start": "1466520",
    "end": "1468080"
  },
  {
    "text": "we could didn't use that shared model",
    "start": "1468080",
    "end": "1470240"
  },
  {
    "text": "unfortunately in this case but we talked",
    "start": "1470240",
    "end": "1472480"
  },
  {
    "text": "about it uh time for one more question",
    "start": "1472480",
    "end": "1476278"
  },
  {
    "text": "here so I must have missed it one of the",
    "start": "1477520",
    "end": "1481039"
  },
  {
    "text": "original problems you were trying to",
    "start": "1481039",
    "end": "1482559"
  },
  {
    "text": "solve was",
    "start": "1482559",
    "end": "1484360"
  },
  {
    "text": "enabling Forks to run tests how did how",
    "start": "1484360",
    "end": "1490200"
  },
  {
    "text": "did y'all through this solution and",
    "start": "1490200",
    "end": "1491720"
  },
  {
    "text": "stuff enable that yeah I did gloss over",
    "start": "1491720",
    "end": "1494200"
  },
  {
    "text": "that",
    "start": "1494200",
    "end": "1495200"
  },
  {
    "text": "um so we internally use pip kit to do a",
    "start": "1495200",
    "end": "1499919"
  },
  {
    "text": "lot of the the glue for that so our Fork",
    "start": "1499919",
    "end": "1502880"
  },
  {
    "text": "is linked through pip kit U pip kit acts",
    "start": "1502880",
    "end": "1506159"
  },
  {
    "text": "as effectively the same thing that Argo",
    "start": "1506159",
    "end": "1508159"
  },
  {
    "text": "events would do in terms of uh your your",
    "start": "1508159",
    "end": "1511640"
  },
  {
    "text": "P request on your fork would trigger the",
    "start": "1511640",
    "end": "1513679"
  },
  {
    "text": "stuff to happen in Argo workflows um in",
    "start": "1513679",
    "end": "1516840"
  },
  {
    "text": "a pure open source environment you would",
    "start": "1516840",
    "end": "1518640"
  },
  {
    "text": "then use Argo events and to create all",
    "start": "1518640",
    "end": "1521120"
  },
  {
    "text": "that glue to set all that up so it isn't",
    "start": "1521120",
    "end": "1524200"
  },
  {
    "text": "as simple as currently anyway it's not",
    "start": "1524200",
    "end": "1526799"
  },
  {
    "text": "as simple as make the fork and Magic",
    "start": "1526799",
    "end": "1528760"
  },
  {
    "text": "happens there's there's make the fork",
    "start": "1528760",
    "end": "1530440"
  },
  {
    "text": "and do some setup um but frankly the",
    "start": "1530440",
    "end": "1532840"
  },
  {
    "text": "setup was dull so I didn't talk about",
    "start": "1532840",
    "end": "1535279"
  },
  {
    "text": "it I'll come talk to you afterwards",
    "start": "1535279",
    "end": "1537360"
  },
  {
    "text": "that'll be",
    "start": "1537360",
    "end": "1538360"
  },
  {
    "text": "great I'll",
    "start": "1538360",
    "end": "1540919"
  },
  {
    "text": "complain all right thank you very much",
    "start": "1540919",
    "end": "1542799"
  },
  {
    "text": "everyone thank cheers guys thanks",
    "start": "1542799",
    "end": "1547120"
  }
]