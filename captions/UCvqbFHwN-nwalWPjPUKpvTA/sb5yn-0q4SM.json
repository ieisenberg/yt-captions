[
  {
    "text": "[Applause]",
    "start": "0",
    "end": "1040"
  },
  {
    "text": "thanks everyone so uh when I did this",
    "start": "1040",
    "end": "3520"
  },
  {
    "text": "practice I was right up against the",
    "start": "3520",
    "end": "4799"
  },
  {
    "text": "10-minute Mark so I'm going to try and",
    "start": "4799",
    "end": "6040"
  },
  {
    "text": "speed through this um my talk is what's",
    "start": "6040",
    "end": "8400"
  },
  {
    "text": "in a hash would a gradual roll out by",
    "start": "8400",
    "end": "10440"
  },
  {
    "text": "any other hashing algorithm still smell",
    "start": "10440",
    "end": "12040"
  },
  {
    "text": "as sweet and yes it's a Shakespeare",
    "start": "12040",
    "end": "13759"
  },
  {
    "text": "reference so first off I'm CM griffing",
    "start": "13759",
    "end": "16320"
  },
  {
    "text": "on all socials I stream on Twitch like",
    "start": "16320",
    "end": "19000"
  },
  {
    "text": "five days a week I'm a developer",
    "start": "19000",
    "end": "20680"
  },
  {
    "text": "Advocate at git Kraken and it's my first",
    "start": "20680",
    "end": "22320"
  },
  {
    "text": "time in this role I've been a software",
    "start": "22320",
    "end": "23680"
  },
  {
    "text": "Dev for about 10 years and I'm a",
    "start": "23680",
    "end": "25760"
  },
  {
    "text": "snowboarder at any given moment I'd",
    "start": "25760",
    "end": "27720"
  },
  {
    "text": "probably rather be snowboarding",
    "start": "27720",
    "end": "30119"
  },
  {
    "text": "so basically uh this talk came about",
    "start": "30119",
    "end": "32920"
  },
  {
    "text": "because I made my own feature flagging",
    "start": "32920",
    "end": "34320"
  },
  {
    "text": "tool it's a bad idea you probably",
    "start": "34320",
    "end": "36040"
  },
  {
    "text": "shouldn't do it but I did anyway because",
    "start": "36040",
    "end": "37719"
  },
  {
    "text": "it's good stream content uh it's static",
    "start": "37719",
    "end": "40160"
  },
  {
    "text": "file based it's git native like a gitops",
    "start": "40160",
    "end": "42280"
  },
  {
    "text": "approach and it wasn't something that",
    "start": "42280",
    "end": "44079"
  },
  {
    "text": "other people were doing I didn't know",
    "start": "44079",
    "end": "45480"
  },
  {
    "text": "about growth book until just last year I",
    "start": "45480",
    "end": "48000"
  },
  {
    "text": "probably would have just used growth",
    "start": "48000",
    "end": "49760"
  },
  {
    "text": "book but what is a gradual release it's",
    "start": "49760",
    "end": "52920"
  },
  {
    "text": "basically the building block to an AB",
    "start": "52920",
    "end": "54800"
  },
  {
    "text": "test you're going to roll something out",
    "start": "54800",
    "end": "56079"
  },
  {
    "text": "to a percentage of your users and you",
    "start": "56079",
    "end": "57800"
  },
  {
    "text": "want that to be a consistent roll out so",
    "start": "57800",
    "end": "59680"
  },
  {
    "text": "that you can have the same check done on",
    "start": "59680",
    "end": "61680"
  },
  {
    "text": "your server and on your client and",
    "start": "61680",
    "end": "63440"
  },
  {
    "text": "you're getting the same consistent set",
    "start": "63440",
    "end": "64799"
  },
  {
    "text": "of users you can add a seed to maybe get",
    "start": "64799",
    "end": "66880"
  },
  {
    "text": "a different set of users but you need to",
    "start": "66880",
    "end": "68400"
  },
  {
    "text": "be consistent with that so basically you",
    "start": "68400",
    "end": "71400"
  },
  {
    "text": "know building block to AB testing",
    "start": "71400",
    "end": "72880"
  },
  {
    "text": "similar to maybe Canary releases or blue",
    "start": "72880",
    "end": "74560"
  },
  {
    "text": "green deployments but featured flags for",
    "start": "74560",
    "end": "77560"
  },
  {
    "text": "a gradual release need to be done at",
    "start": "77560",
    "end": "79080"
  },
  {
    "text": "runtime not build time that's how you",
    "start": "79080",
    "end": "81280"
  },
  {
    "text": "can change these things on the Fly nice",
    "start": "81280",
    "end": "83040"
  },
  {
    "text": "and quick and actually be able to turn",
    "start": "83040",
    "end": "85240"
  },
  {
    "text": "off a feature that's maybe costing you",
    "start": "85240",
    "end": "88280"
  },
  {
    "text": "money so why a custom algorithm I wrote",
    "start": "88280",
    "end": "91439"
  },
  {
    "text": "my own custom algorithm for this I",
    "start": "91439",
    "end": "93479"
  },
  {
    "text": "wanted it to be portable because I wrote",
    "start": "93479",
    "end": "95159"
  },
  {
    "text": "sdks in 10 languages because it's just",
    "start": "95159",
    "end": "97439"
  },
  {
    "text": "good stream content um and I was",
    "start": "97439",
    "end": "99799"
  },
  {
    "text": "wondering well maybe performance because",
    "start": "99799",
    "end": "102040"
  },
  {
    "text": "cryptographic hashes are actually meant",
    "start": "102040",
    "end": "103799"
  },
  {
    "text": "to be slow for password hashing and",
    "start": "103799",
    "end": "106040"
  },
  {
    "text": "things like that I wanted something fast",
    "start": "106040",
    "end": "107960"
  },
  {
    "text": "because your feature flag check could be",
    "start": "107960",
    "end": "109360"
  },
  {
    "text": "on a hot",
    "start": "109360",
    "end": "110560"
  },
  {
    "text": "path so how my original algorithm worked",
    "start": "110560",
    "end": "113399"
  },
  {
    "text": "very naive I just took the user ID right",
    "start": "113399",
    "end": "116600"
  },
  {
    "text": "the string broke it into characters",
    "start": "116600",
    "end": "118240"
  },
  {
    "text": "added them up multiplied them by some",
    "start": "118240",
    "end": "119920"
  },
  {
    "text": "magic numbers in this case 42 and then",
    "start": "119920",
    "end": "122640"
  },
  {
    "text": "hashed it or moduled it into a number",
    "start": "122640",
    "end": "124759"
  },
  {
    "text": "between 0 and 100 and or actually this",
    "start": "124759",
    "end": "127600"
  },
  {
    "text": "then becomes a value between zero and",
    "start": "127600",
    "end": "129200"
  },
  {
    "text": "one but same",
    "start": "129200",
    "end": "130599"
  },
  {
    "text": "thing there's also some other hashing",
    "start": "130599",
    "end": "132760"
  },
  {
    "text": "algorithms that I decided to test and",
    "start": "132760",
    "end": "134800"
  },
  {
    "text": "run against this one's called Graham",
    "start": "134800",
    "end": "136560"
  },
  {
    "text": "hash not Graham from growth book this is",
    "start": "136560",
    "end": "138200"
  },
  {
    "text": "Graham A viewer from my stream and I",
    "start": "138200",
    "end": "140440"
  },
  {
    "text": "believe he got this from like the",
    "start": "140440",
    "end": "142080"
  },
  {
    "text": "Minecraft like World seeding hashing",
    "start": "142080",
    "end": "144200"
  },
  {
    "text": "algorithm so it's got a a few magic",
    "start": "144200",
    "end": "146959"
  },
  {
    "text": "numbers in there those magic numbers",
    "start": "146959",
    "end": "148720"
  },
  {
    "text": "date back like 40 years so there's",
    "start": "148720",
    "end": "150680"
  },
  {
    "text": "nothing proprietary about what Minecraft",
    "start": "150680",
    "end": "152560"
  },
  {
    "text": "is doing with this but uh you know it",
    "start": "152560",
    "end": "154680"
  },
  {
    "text": "was just worth testing out and seeing",
    "start": "154680",
    "end": "156440"
  },
  {
    "text": "how it worked another one that's very",
    "start": "156440",
    "end": "158879"
  },
  {
    "text": "popular is fnv 1A this is something that",
    "start": "158879",
    "end": "161040"
  },
  {
    "text": "growth book uses as well and the",
    "start": "161040",
    "end": "163560"
  },
  {
    "text": "algorithm is still very simple but again",
    "start": "163560",
    "end": "166519"
  },
  {
    "text": "what you're going to see in a lot of",
    "start": "166519",
    "end": "167720"
  },
  {
    "text": "these hashing algorithms is the use of",
    "start": "167720",
    "end": "169400"
  },
  {
    "text": "magic numbers uh and here we see a prime",
    "start": "169400",
    "end": "172000"
  },
  {
    "text": "value and an offset basis which is kind",
    "start": "172000",
    "end": "174159"
  },
  {
    "text": "of like where the number starts",
    "start": "174159",
    "end": "175400"
  },
  {
    "text": "incrementing and adding and then finally",
    "start": "175400",
    "end": "178120"
  },
  {
    "text": "someone told me about this thing called",
    "start": "178120",
    "end": "179360"
  },
  {
    "text": "DJ B2 um I had never heard about it",
    "start": "179360",
    "end": "182120"
  },
  {
    "text": "before but I figured I'd check it out",
    "start": "182120",
    "end": "183680"
  },
  {
    "text": "and what you're going to see is that a",
    "start": "183680",
    "end": "184680"
  },
  {
    "text": "lot of these are just taking a value",
    "start": "184680",
    "end": "186680"
  },
  {
    "text": "splitting it and then adding up to a",
    "start": "186680",
    "end": "188640"
  },
  {
    "text": "number and multiplying and doing some",
    "start": "188640",
    "end": "191360"
  },
  {
    "text": "magic I also then took all of the nodejs",
    "start": "191360",
    "end": "195200"
  },
  {
    "text": "Native algorithms in the crypto library",
    "start": "195200",
    "end": "197760"
  },
  {
    "text": "and just ran them and created just a",
    "start": "197760",
    "end": "200360"
  },
  {
    "text": "giant CSV value set of all the results",
    "start": "200360",
    "end": "203879"
  },
  {
    "text": "of how long it took how evenly",
    "start": "203879",
    "end": "205799"
  },
  {
    "text": "distributed these things are and",
    "start": "205799",
    "end": "208640"
  },
  {
    "text": "basically right I wanted to see how fast",
    "start": "208640",
    "end": "210959"
  },
  {
    "text": "were they because that's important but",
    "start": "210959",
    "end": "212760"
  },
  {
    "text": "also how even is the distribution across",
    "start": "212760",
    "end": "215159"
  },
  {
    "text": "like the entire 0 to 100 spread right",
    "start": "215159",
    "end": "217400"
  },
  {
    "text": "you got to make sure that you're not",
    "start": "217400",
    "end": "218920"
  },
  {
    "text": "having a bias towards a certain",
    "start": "218920",
    "end": "222360"
  },
  {
    "text": "amount so first off here's a graph this",
    "start": "222360",
    "end": "225080"
  },
  {
    "text": "is the speed iteration you know of a",
    "start": "225080",
    "end": "227720"
  },
  {
    "text": "thousand iterations I got rid of some of",
    "start": "227720",
    "end": "229519"
  },
  {
    "text": "the outliers and we see that my custom",
    "start": "229519",
    "end": "231519"
  },
  {
    "text": "algorithm actually still has way worse",
    "start": "231519",
    "end": "234360"
  },
  {
    "text": "like speed profile so my original",
    "start": "234360",
    "end": "236360"
  },
  {
    "text": "assumption totally wrong uh it's really",
    "start": "236360",
    "end": "239000"
  },
  {
    "text": "fast when it's fast but then it's also",
    "start": "239000",
    "end": "240760"
  },
  {
    "text": "really slow when it's slow uh when we",
    "start": "240760",
    "end": "243280"
  },
  {
    "text": "look and see maybe GB 32 that's growth",
    "start": "243280",
    "end": "245799"
  },
  {
    "text": "books 32-bit uh version they also have a",
    "start": "245799",
    "end": "248040"
  },
  {
    "text": "64-bit version fnv 1A in my",
    "start": "248040",
    "end": "250799"
  },
  {
    "text": "implementation is actually slower than",
    "start": "250799",
    "end": "252560"
  },
  {
    "text": "those so some interesting stuff but what",
    "start": "252560",
    "end": "254400"
  },
  {
    "text": "we see is that the naive like non-",
    "start": "254400",
    "end": "256680"
  },
  {
    "text": "cryptographic hashing algorithms are",
    "start": "256680",
    "end": "258600"
  },
  {
    "text": "still much faster than things like md5",
    "start": "258600",
    "end": "261040"
  },
  {
    "text": "or SSL md5 like all that",
    "start": "261040",
    "end": "264280"
  },
  {
    "text": "stuff uh and basically yes I ran against",
    "start": "264280",
    "end": "267440"
  },
  {
    "text": "50 to 60 of these algorithms and what",
    "start": "267440",
    "end": "269560"
  },
  {
    "text": "we're we're seeing are really just like",
    "start": "269560",
    "end": "270680"
  },
  {
    "text": "the top 10 so now when we consider the",
    "start": "270680",
    "end": "273120"
  },
  {
    "text": "distribution I'm running this on a",
    "start": "273120",
    "end": "274919"
  },
  {
    "text": "string ID and we can see that growth",
    "start": "274919",
    "end": "277720"
  },
  {
    "text": "books uh the hybrid one is something",
    "start": "277720",
    "end": "280039"
  },
  {
    "text": "that I ended up doing later that I'll",
    "start": "280039",
    "end": "281600"
  },
  {
    "text": "tell you a little bit about but um right",
    "start": "281600",
    "end": "284080"
  },
  {
    "text": "my custom one actually has a great",
    "start": "284080",
    "end": "285759"
  },
  {
    "text": "distribution even though it's not quite",
    "start": "285759",
    "end": "287199"
  },
  {
    "text": "as fast we can see that the Minecraft uh",
    "start": "287199",
    "end": "289840"
  },
  {
    "text": "hashing algorithm has a decent",
    "start": "289840",
    "end": "291240"
  },
  {
    "text": "distribution but this is only for a 100",
    "start": "291240",
    "end": "292960"
  },
  {
    "text": "iterations so you're not going to get a",
    "start": "292960",
    "end": "295120"
  },
  {
    "text": "perfect distribution as the numbers go",
    "start": "295120",
    "end": "296960"
  },
  {
    "text": "up you'll get you know those numbers to",
    "start": "296960",
    "end": "299039"
  },
  {
    "text": "solidify and be a little more",
    "start": "299039",
    "end": "300680"
  },
  {
    "text": "predictable as we can see here you know",
    "start": "300680",
    "end": "303120"
  },
  {
    "text": "they all kind of coales into these",
    "start": "303120",
    "end": "304560"
  },
  {
    "text": "values but what we're looking for is a",
    "start": "304560",
    "end": "306840"
  },
  {
    "text": "perfect Blue Bar there that's at 25% and",
    "start": "306840",
    "end": "309639"
  },
  {
    "text": "75% and then the middle line value right",
    "start": "309639",
    "end": "312440"
  },
  {
    "text": "there at 50 and we can see that GB 32",
    "start": "312440",
    "end": "314840"
  },
  {
    "text": "hybrid there my custom one and some of",
    "start": "314840",
    "end": "317560"
  },
  {
    "text": "these others perform admirably well but",
    "start": "317560",
    "end": "320319"
  },
  {
    "text": "not all of your IDs or you know things",
    "start": "320319",
    "end": "322720"
  },
  {
    "text": "that you're going to want to be hashing",
    "start": "322720",
    "end": "323919"
  },
  {
    "text": "and distributing for are going to be",
    "start": "323919",
    "end": "325800"
  },
  {
    "text": "strings and when we look at numbers we",
    "start": "325800",
    "end": "328080"
  },
  {
    "text": "see some very different things happening",
    "start": "328080",
    "end": "330319"
  },
  {
    "text": "so my custom one definitely has a bias",
    "start": "330319",
    "end": "332280"
  },
  {
    "text": "towards the upper end the grash the",
    "start": "332280",
    "end": "334560"
  },
  {
    "text": "Minecraft algorithm definitely not",
    "start": "334560",
    "end": "336960"
  },
  {
    "text": "something you want to use for numeric",
    "start": "336960",
    "end": "338199"
  },
  {
    "text": "IDs so I threw that one out djb2",
    "start": "338199",
    "end": "341080"
  },
  {
    "text": "definitely wasn't good either um and",
    "start": "341080",
    "end": "343919"
  },
  {
    "text": "yeah like we're basically just trying to",
    "start": "343919",
    "end": "345440"
  },
  {
    "text": "Hash for a good distribution but also",
    "start": "345440",
    "end": "348160"
  },
  {
    "text": "still sorting by speed because we want",
    "start": "348160",
    "end": "350160"
  },
  {
    "text": "it to still be fast so again we go to a",
    "start": "350160",
    "end": "353840"
  },
  {
    "text": "thousand iterations and the gram one at",
    "start": "353840",
    "end": "356000"
  },
  {
    "text": "a th iterations actually ends up being",
    "start": "356000",
    "end": "357680"
  },
  {
    "text": "fast but a terrible distribution",
    "start": "357680",
    "end": "361160"
  },
  {
    "text": "so there was a bit of a hiccup and this",
    "start": "361160",
    "end": "363360"
  },
  {
    "text": "is a little cut off that's my mistake I",
    "start": "363360",
    "end": "365639"
  },
  {
    "text": "thought I had these images sides just",
    "start": "365639",
    "end": "367199"
  },
  {
    "text": "right but oh well uh but basically in",
    "start": "367199",
    "end": "370240"
  },
  {
    "text": "JavaScript when bitwise operations are",
    "start": "370240",
    "end": "372800"
  },
  {
    "text": "done it's going to convert to a 32-bit",
    "start": "372800",
    "end": "375199"
  },
  {
    "text": "number and then back uh do the bitwise",
    "start": "375199",
    "end": "377440"
  },
  {
    "text": "operation and then convert back to",
    "start": "377440",
    "end": "379240"
  },
  {
    "text": "64-bit so I was actually having",
    "start": "379240",
    "end": "381319"
  },
  {
    "text": "inconsistent like hash values from the",
    "start": "381319",
    "end": "383360"
  },
  {
    "text": "JavaScript on the client maybe and the",
    "start": "383360",
    "end": "385960"
  },
  {
    "text": "go code on the server so because of that",
    "start": "385960",
    "end": "388720"
  },
  {
    "text": "there's like some magic and really",
    "start": "388720",
    "end": "390800"
  },
  {
    "text": "growth book didn't have this problem so",
    "start": "390800",
    "end": "392240"
  },
  {
    "text": "I had to look at what they were doing",
    "start": "392240",
    "end": "394199"
  },
  {
    "text": "basically what was happening in the old",
    "start": "394199",
    "end": "396120"
  },
  {
    "text": "one is when the bitwise operation was",
    "start": "396120",
    "end": "397919"
  },
  {
    "text": "happening converting it to 32-bit it was",
    "start": "397919",
    "end": "399840"
  },
  {
    "text": "truncating the value because they were",
    "start": "399840",
    "end": "401440"
  },
  {
    "text": "multiplying by a very large uh uh basis",
    "start": "401440",
    "end": "404720"
  },
  {
    "text": "number or prime number here in the",
    "start": "404720",
    "end": "407039"
  },
  {
    "text": "growth book algorithm they're doing some",
    "start": "407039",
    "end": "408560"
  },
  {
    "text": "other bitwise magic and I don't",
    "start": "408560",
    "end": "410880"
  },
  {
    "text": "understand it myself at all but it does",
    "start": "410880",
    "end": "412880"
  },
  {
    "text": "work so that's pretty cool and really I",
    "start": "412880",
    "end": "416800"
  },
  {
    "text": "ended up basically using growth books",
    "start": "416800",
    "end": "418800"
  },
  {
    "text": "algorithm CU it's MIT licensed you know",
    "start": "418800",
    "end": "420800"
  },
  {
    "text": "I definitely shout out the license and",
    "start": "420800",
    "end": "422440"
  },
  {
    "text": "all that uh but they are using a numeric",
    "start": "422440",
    "end": "425840"
  },
  {
    "text": "seed value and I'm using or sorry",
    "start": "425840",
    "end": "427919"
  },
  {
    "text": "they're using a string seed value and I",
    "start": "427919",
    "end": "429800"
  },
  {
    "text": "ended up using a numeric seed value just",
    "start": "429800",
    "end": "431840"
  },
  {
    "text": "a value between zero and one so I ended",
    "start": "431840",
    "end": "434039"
  },
  {
    "text": "up needing to like modify theirs just a",
    "start": "434039",
    "end": "436319"
  },
  {
    "text": "bit and what you can see is in their",
    "start": "436319",
    "end": "437960"
  },
  {
    "text": "algorithm they're doing the seed plus",
    "start": "437960",
    "end": "439960"
  },
  {
    "text": "the value as just strings and instead",
    "start": "439960",
    "end": "443000"
  },
  {
    "text": "I'm doing the hash times my seed value",
    "start": "443000",
    "end": "446039"
  },
  {
    "text": "and that's you know basically the talk",
    "start": "446039",
    "end": "448919"
  },
  {
    "text": "okay I rushed through that way quicker",
    "start": "448919",
    "end": "450319"
  },
  {
    "text": "than I planned um but are there any",
    "start": "450319",
    "end": "454639"
  },
  {
    "text": "questions yeah sorry that was way",
    "start": "456000",
    "end": "458759"
  },
  {
    "text": "quicker than I had done",
    "start": "458759",
    "end": "461639"
  },
  {
    "text": "before that was great Chris um yeah so",
    "start": "461639",
    "end": "464199"
  },
  {
    "text": "are there any questions about this out",
    "start": "464199",
    "end": "466039"
  },
  {
    "text": "in the audience Graham do you want to",
    "start": "466039",
    "end": "467440"
  },
  {
    "text": "throw any questions out there around",
    "start": "467440",
    "end": "468919"
  },
  {
    "text": "your or or any additional context around",
    "start": "468919",
    "end": "471000"
  },
  {
    "text": "your hashing",
    "start": "471000",
    "end": "472000"
  },
  {
    "text": "algorithms no awesome I think that means",
    "start": "472000",
    "end": "475560"
  },
  {
    "text": "I did my job um amazing so Chris you",
    "start": "475560",
    "end": "478039"
  },
  {
    "text": "beat your time by two minutes I feel",
    "start": "478039",
    "end": "480080"
  },
  {
    "text": "like our lightning talk speakers have",
    "start": "480080",
    "end": "481840"
  },
  {
    "text": "definitely like took that lightning talk",
    "start": "481840",
    "end": "483720"
  },
  {
    "text": "Challenge and definitely met it and",
    "start": "483720",
    "end": "486159"
  },
  {
    "text": "delivered so much amazing information um",
    "start": "486159",
    "end": "489039"
  },
  {
    "text": "so can we please give one massive Round",
    "start": "489039",
    "end": "491639"
  },
  {
    "text": "of Applause again for Chris griffing",
    "start": "491639",
    "end": "495080"
  },
  {
    "text": "everybody amazing thanks",
    "start": "496120",
    "end": "499800"
  }
]