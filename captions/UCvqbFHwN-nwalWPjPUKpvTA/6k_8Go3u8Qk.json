[
  {
    "text": "okay I think we are um ready to start um so let me introduce uh myself",
    "start": "599",
    "end": "10759"
  },
  {
    "text": "uh I'm mik I'm a software engineer uh working for Google and today I will",
    "start": "10759",
    "end": "16840"
  },
  {
    "text": "co-present with uh Yuki who is a software engineer at uh cyber agent and",
    "start": "16840",
    "end": "23760"
  },
  {
    "text": "uh we are going to talk about Q um which",
    "start": "23760",
    "end": "28800"
  },
  {
    "text": "is the project that we are maintainers of um and we will show and",
    "start": "28800",
    "end": "34640"
  },
  {
    "text": "demonstrate capabilities of Q to build uh a platform for running AIML",
    "start": "34640",
    "end": "41000"
  },
  {
    "text": "workloads uh and in particular focusing on the capabilities for qu uh Resource",
    "start": "41000",
    "end": "48160"
  },
  {
    "text": "Management so let me start by introducing what uh is Q so Q is a job",
    "start": "48160",
    "end": "55440"
  },
  {
    "text": "level scheduler and as such is its responsibility",
    "start": "55440",
    "end": "60760"
  },
  {
    "text": "is to determine when to start or stop a job so it operates a one level higher of",
    "start": "60760",
    "end": "67280"
  },
  {
    "text": "abstraction than uh Cube schedular that operates on pods so with Q we uh delay",
    "start": "67280",
    "end": "75479"
  },
  {
    "text": "uh po creation actually until the job is started and this is very important because with this capability we are able",
    "start": "75479",
    "end": "82720"
  },
  {
    "text": "to offload the uh API server and Cube Schuler uh another important",
    "start": "82720",
    "end": "89400"
  },
  {
    "text": "characteristic of Q is that we have the goal of supporting uh All or Nothing",
    "start": "89400",
    "end": "95840"
  },
  {
    "text": "semantic so for machine learning jobs uh it is very important that all pods are",
    "start": "95840",
    "end": "100920"
  },
  {
    "text": "running at the same time uh so as you can imagine with limited resources if two large jobs start at the same time",
    "start": "100920",
    "end": "107960"
  },
  {
    "text": "they could deadlock and could not run all the pots so this is one of the important goals for Q um and of course",
    "start": "107960",
    "end": "115719"
  },
  {
    "text": "with Q we support quter management so we support quter management both at the team level that lets you specify the",
    "start": "115719",
    "end": "122880"
  },
  {
    "text": "quotas per team um because maybe they have different priorities uh we also support specifying",
    "start": "122880",
    "end": "130640"
  },
  {
    "text": "qu for different resource uh types like different models of gpus and we also",
    "start": "130640",
    "end": "136360"
  },
  {
    "text": "give you control of preferences for different um machines like how they are",
    "start": "136360",
    "end": "142160"
  },
  {
    "text": "provisioned is it on demand or reservations that you have some discounts on because maybe there are",
    "start": "142160",
    "end": "147800"
  },
  {
    "text": "different prices depending on how the uh nodes come to be so how does q achieve its goals so",
    "start": "147800",
    "end": "155280"
  },
  {
    "text": "the main design principle of Q is actually very simple uh we want to be Cloud native and what this means so this",
    "start": "155280",
    "end": "163120"
  },
  {
    "text": "means that for example we don't need to have any external database so uh",
    "start": "163120",
    "end": "168720"
  },
  {
    "text": "everything lives in inside etcd that is managed by Cube API server also we are",
    "start": "168720",
    "end": "176480"
  },
  {
    "text": "compatible and coexist nicely with all uh cor kubernetes components such as",
    "start": "176480",
    "end": "182200"
  },
  {
    "text": "cluster autoscaler Cube schedular or job controller so none of the components is forked or replaced uh when working with",
    "start": "182200",
    "end": "189840"
  },
  {
    "text": "q and of course sometimes we encounter gaps in the core components",
    "start": "189840",
    "end": "195840"
  },
  {
    "text": "um but then we have like policy for pushing the required uh enhancements",
    "start": "195840",
    "end": "202159"
  },
  {
    "text": "Upstream so one success uh story for the pushing uh the required mment as",
    "start": "202159",
    "end": "209200"
  },
  {
    "text": "Upstream is the suspense semantic uh so uh this is what we needed for Q to delay",
    "start": "209200",
    "end": "216360"
  },
  {
    "text": "uh P creation and it was added to the badge job the core kubernetes uh API and",
    "start": "216360",
    "end": "223319"
  },
  {
    "text": "soon later adopted by other job crds letting us to integrate Q with uh with",
    "start": "223319",
    "end": "230360"
  },
  {
    "text": "the crds and by today Q supports uh simulus integration with job job Set uh",
    "start": "230360",
    "end": "238200"
  },
  {
    "text": "a portfolio of cube flow jobs that let you run uh ml uh Frameworks such as",
    "start": "238200",
    "end": "244439"
  },
  {
    "text": "tensor flow or pytorch uh we also support Ray and we also expose job",
    "start": "244439",
    "end": "251159"
  },
  {
    "text": "framework that lets you build your Integrations with your own in-house uh job crds and also by the way we support",
    "start": "251159",
    "end": "258959"
  },
  {
    "text": "pod groups so if you're in your environment you create pods by some external uh systems then we you can also",
    "start": "258959",
    "end": "267040"
  },
  {
    "text": "integrate them with q so to better understand how Q Works",
    "start": "267040",
    "end": "272160"
  },
  {
    "text": "let's take and where is its place uh among other kubernetes controllers let's",
    "start": "272160",
    "end": "277720"
  },
  {
    "text": "take a look at the job life cycle so um the job starts uh to Exist by uh user",
    "start": "277720",
    "end": "285960"
  },
  {
    "text": "that creates the job uh and in the web hook creation Q suspends the job with",
    "start": "285960",
    "end": "293280"
  },
  {
    "text": "the uh field that I mentioned and it is cute until the qu is reserved so once",
    "start": "293280",
    "end": "298919"
  },
  {
    "text": "the qu Is Res reserved for the job uh we have an additional optional um check for",
    "start": "298919",
    "end": "306600"
  },
  {
    "text": "uh admission check so this is basically a plugin mechanism that let you inject your own logic uh before admitting a a",
    "start": "306600",
    "end": "315520"
  },
  {
    "text": "job uh and once the admission check are uh fulfilled uh the job starts to run",
    "start": "315520",
    "end": "321120"
  },
  {
    "text": "and the job controller creates the pods uh the job still can be preempted like",
    "start": "321120",
    "end": "326600"
  },
  {
    "text": "stop by uh Q if another uh higher priority job comes in uh but in the",
    "start": "326600",
    "end": "332880"
  },
  {
    "text": "happy path the cluster autoscaler takes over and creates nodes for the pods and",
    "start": "332880",
    "end": "340319"
  },
  {
    "text": "finally Cube schedular binds the pods to the nodes so now let's take a look at Q from",
    "start": "340319",
    "end": "347120"
  },
  {
    "text": "yet another angle of API objects that are uh relevant in this picture so the",
    "start": "347120",
    "end": "353240"
  },
  {
    "text": "most uh basic object is job so and is pretty much the only object that users",
    "start": "353240",
    "end": "359400"
  },
  {
    "text": "in interact with so uh jobs are created by users and in here is where the user",
    "start": "359400",
    "end": "366360"
  },
  {
    "text": "specify um the number of PODS that the job uh requires and also the PO template",
    "start": "366360",
    "end": "372960"
  },
  {
    "text": "that specify the amount of different resources uh required to run the",
    "start": "372960",
    "end": "378560"
  },
  {
    "text": "pods and as I was saying you support various types of jobs so in order to",
    "start": "378560",
    "end": "384880"
  },
  {
    "text": "abstract out uh them and also add some extra details we uh Q creates the uh",
    "start": "384880",
    "end": "391919"
  },
  {
    "text": "workload object and maintains one to one correspondence between the workload and the job created by the user and the jobs",
    "start": "391919",
    "end": "399479"
  },
  {
    "text": "are sent to uh local cues uh that is indicated by the label on the job added",
    "start": "399479",
    "end": "406000"
  },
  {
    "text": "by the user um and all the qu management is possible due to",
    "start": "406000",
    "end": "412560"
  },
  {
    "text": "the cluster Q uh object API where uh the",
    "start": "412560",
    "end": "418000"
  },
  {
    "text": "admin configures the quas and the main concept for configuring the quas is",
    "start": "418000",
    "end": "424400"
  },
  {
    "text": "resource flavor uh so resource flavor is like an abstraction for a set of U",
    "start": "424400",
    "end": "431199"
  },
  {
    "text": "Machines of the common characteristic where the one dimension of the common",
    "start": "431199",
    "end": "436360"
  },
  {
    "text": "characteristic maybe let's say the model of GPU uh that you want to use or another maybe how the machines are",
    "start": "436360",
    "end": "444560"
  },
  {
    "text": "provisioned is it reservation Spot On Demand or just like partis of basically",
    "start": "444560",
    "end": "450960"
  },
  {
    "text": "uh a set of machines with common characteristic uh another important",
    "start": "450960",
    "end": "456680"
  },
  {
    "text": "concept for Q is cohort so cohort basically sets you the uh scoping for",
    "start": "456680",
    "end": "462639"
  },
  {
    "text": "preemption and borrowing um for a set of cluster cues",
    "start": "462639",
    "end": "468080"
  },
  {
    "text": "and then we also have the concept mentioned before of admission checks that let you uh Define the additional",
    "start": "468080",
    "end": "475360"
  },
  {
    "text": "conditions under which the job is sub uh uh admitted",
    "start": "475360",
    "end": "481000"
  },
  {
    "text": "now I would like to present you the uh project of the batch reference architecture so the goal of this project",
    "start": "481000",
    "end": "489000"
  },
  {
    "text": "uh is to help the um Cloud Architects or system Architects to build platforms for",
    "start": "489000",
    "end": "495479"
  },
  {
    "text": "running AIML workloads and this is inspired based on um the",
    "start": "495479",
    "end": "502560"
  },
  {
    "text": "um feedback from the GK users uh so it's like to collect all the best practices",
    "start": "502560",
    "end": "508840"
  },
  {
    "text": "for building such systems it doesn't necessarily correspond to one to one to any of the like systems but it's a kind",
    "start": "508840",
    "end": "516159"
  },
  {
    "text": "of abstraction for um or recommendation how to uh what is the starting point for",
    "start": "516159",
    "end": "522640"
  },
  {
    "text": "building such systems uh but they still can be customized per user uh preferences if you are interested more",
    "start": "522640",
    "end": "529160"
  },
  {
    "text": "into the deals of the project here the link so I recommend to take you to take a look at",
    "start": "529160",
    "end": "535320"
  },
  {
    "text": "this uh but in this section I would like to show you the like what how Q Works",
    "start": "535320",
    "end": "542000"
  },
  {
    "text": "based on the simplified uh example inspired by the batch reference architecture where I would like to show",
    "start": "542000",
    "end": "549399"
  },
  {
    "text": "you um the how how Q works so in this setup we have two teams the blue one is",
    "start": "549399",
    "end": "556560"
  },
  {
    "text": "the higher priority team and the green one is the lower priority team they send",
    "start": "556560",
    "end": "561640"
  },
  {
    "text": "the workloads to the corresponding local cues pointing to the cluster cues that are wrapped into the um",
    "start": "561640",
    "end": "569959"
  },
  {
    "text": "cord and at the end of the day we have physical resources in the cluster that are split into three resource flavors",
    "start": "569959",
    "end": "576800"
  },
  {
    "text": "the reservations on demand and spot and you can for Simplicity think that we are",
    "start": "576800",
    "end": "582560"
  },
  {
    "text": "talking about one model of GPU uh so in this scenario let's say we",
    "start": "582560",
    "end": "589440"
  },
  {
    "text": "have the low priority workload sent to the um by the green team so for the",
    "start": "589440",
    "end": "596480"
  },
  {
    "text": "first workload uh what C uses is we consider the uh resource flavor defined",
    "start": "596480",
    "end": "602680"
  },
  {
    "text": "for the cluster queue uh below in order so we first consider the reservation",
    "start": "602680",
    "end": "608720"
  },
  {
    "text": "resource flavor and in this case we uh don't have nominal qu but we have the",
    "start": "608720",
    "end": "614560"
  },
  {
    "text": "buring limit that allows us to run one of the workloads um because we will borrow from",
    "start": "614560",
    "end": "622040"
  },
  {
    "text": "the other cluster CU so this is this allows us to put the one the first workload on reservations",
    "start": "622040",
    "end": "630079"
  },
  {
    "text": "for the second for the remaining workloads we no longer can borrow uh so",
    "start": "630079",
    "end": "635320"
  },
  {
    "text": "we land them on the spot machines uh now let's say the high priority workloads come in so uh again Q",
    "start": "635320",
    "end": "644000"
  },
  {
    "text": "considers the workload in the order first we try reservations but what we see is reservations are already taken so",
    "start": "644000",
    "end": "651839"
  },
  {
    "text": "we would need to preempt to run and this is a configuration option but by default",
    "start": "651839",
    "end": "657240"
  },
  {
    "text": "we prefer not to preempt so the first of the workloads will land on on demand",
    "start": "657240",
    "end": "662440"
  },
  {
    "text": "resource flavor for the second uh we cannot longer put them put it on demand",
    "start": "662440",
    "end": "668480"
  },
  {
    "text": "in this example because we don't have more cluster cues to borrow from so we",
    "start": "668480",
    "end": "674040"
  },
  {
    "text": "uh start preempting uh the preempted workload is recued and uh the high priority workload",
    "start": "674040",
    "end": "681680"
  },
  {
    "text": "lands on reservations and then finally the low priority workload lens on the",
    "start": "681680",
    "end": "687720"
  },
  {
    "text": "spot so yeah with this simple relatively example you could see the main concept",
    "start": "687720",
    "end": "693320"
  },
  {
    "text": "of Q working and how borrowing and preemption works and with that I will",
    "start": "693320",
    "end": "699240"
  },
  {
    "text": "now hand over to Yuki who will show how Q is used in production in cyber",
    "start": "699240",
    "end": "706199"
  },
  {
    "text": "agent uh next topic is production cases uh first of all uh uh let me introduce",
    "start": "713360",
    "end": "720440"
  },
  {
    "text": "my company uh it is often said uh are you a cyber security provider uh but",
    "start": "720440",
    "end": "727920"
  },
  {
    "text": "answer is no uh actually my company is a content provider uh with a blog site and",
    "start": "727920",
    "end": "735560"
  },
  {
    "text": "streaming prop home uh smartone games and uh internet adver advertisement",
    "start": "735560",
    "end": "742199"
  },
  {
    "text": "agency in Japan so in this topic uh let me introduce uh Q in cyber agent",
    "start": "742199",
    "end": "751040"
  },
  {
    "text": "uh my company has uh in turn uh on premise M platform is a static Computing",
    "start": "751040",
    "end": "757639"
  },
  {
    "text": "uh in in this infr structure uh we use bamet uh machine for dpu noes and and uh",
    "start": "757639",
    "end": "766320"
  },
  {
    "text": "the environment is heterogenous with seven types of gpus like",
    "start": "766320",
    "end": "772519"
  },
  {
    "text": "this uh additionally uh based on the left side uh our kubernetes crust is",
    "start": "772519",
    "end": "779959"
  },
  {
    "text": "built as the single Baner M cluster the cluster has over 300 name",
    "start": "779959",
    "end": "787079"
  },
  {
    "text": "spaces and all name spaces are created uh for",
    "start": "787079",
    "end": "792600"
  },
  {
    "text": "users also uh we've been operating this cluster for over four years so we did",
    "start": "792600",
    "end": "800360"
  },
  {
    "text": "not create a new cluster to install Q uh we just inser Q into the cluster in",
    "start": "800360",
    "end": "808120"
  },
  {
    "text": "operation uh next uh let me explain about kind of",
    "start": "808120",
    "end": "813440"
  },
  {
    "text": "work rules and Frameworks uh as you can see here uh we have primary three types",
    "start": "813440",
    "end": "820079"
  },
  {
    "text": "of work RS uh training models uh notebook and serving",
    "start": "820079",
    "end": "825360"
  },
  {
    "text": "models uh basically uh in every workr uh we use uh open source Frameworks like Q",
    "start": "825360",
    "end": "832480"
  },
  {
    "text": "Pro Casa B job and so on but uh we manage only notebooks uh by",
    "start": "832480",
    "end": "840639"
  },
  {
    "text": "ourselves uh as we mentioned before uh C can easily adapt to inhouse uh kuber",
    "start": "840639",
    "end": "848399"
  },
  {
    "text": "resources so we implemented to a small",
    "start": "848399",
    "end": "853600"
  },
  {
    "text": "in-house Q job controller uh for Notebook after the next slide uh I will",
    "start": "853600",
    "end": "859920"
  },
  {
    "text": "show you detail detail to uh training",
    "start": "859920",
    "end": "866320"
  },
  {
    "text": "workers uh once our training workr is building LM uh the training jobs are",
    "start": "866440",
    "end": "874160"
  },
  {
    "text": "managed by Upstream q and QPR MPI jobs uh please check our please check our",
    "start": "874160",
    "end": "880519"
  },
  {
    "text": "hugging face repository for more details uh in this slide uh let me",
    "start": "880519",
    "end": "887160"
  },
  {
    "text": "explain uh how to guarantee the sequential admission of M jobs uh the",
    "start": "887160",
    "end": "892759"
  },
  {
    "text": "cube Pro MPI job is constructed by two roles uh Rancher and worker",
    "start": "892759",
    "end": "900360"
  },
  {
    "text": "uh the Rancher R is responsible for starting the NPI process using NP R and",
    "start": "900360",
    "end": "906320"
  },
  {
    "text": "so on uh the the worker Ro is responsible for performing actual",
    "start": "906320",
    "end": "911720"
  },
  {
    "text": "training processes so we need to allocate resources to all R Parts at the same",
    "start": "911720",
    "end": "919320"
  },
  {
    "text": "time in general uh such behavior is called all or ning",
    "start": "919320",
    "end": "925560"
  },
  {
    "text": "scheduling but uh by default Q does not uh guarantee that the C job Parts",
    "start": "925560",
    "end": "931600"
  },
  {
    "text": "actually get ready uh therefore a resources may be allocated to",
    "start": "931600",
    "end": "936759"
  },
  {
    "text": "subsequence job part uh here we can imagine the situation in which GPU UTI U",
    "start": "936759",
    "end": "943480"
  },
  {
    "text": "utilization fragments among no uh for example there is a situation in which uh",
    "start": "943480",
    "end": "950399"
  },
  {
    "text": "five free gpus exist in the cruster however each node has only one",
    "start": "950399",
    "end": "956399"
  },
  {
    "text": "free zpu uh in this situation when we submit a job requiring two dpus in every part",
    "start": "956399",
    "end": "965360"
  },
  {
    "text": "uh job part cannot submit cannot start uh even though the C admit the",
    "start": "965360",
    "end": "971360"
  },
  {
    "text": "job uh wait for part ready feature H give us uh possibility to resolve such",
    "start": "971360",
    "end": "977399"
  },
  {
    "text": "issues uh we can also uh configure the uh location uh head or tail of the",
    "start": "977399",
    "end": "985079"
  },
  {
    "text": "queue uh when the recued job is put",
    "start": "985079",
    "end": "990920"
  },
  {
    "text": "uh once the C Parts uh cannot get ready until time out uh the job is evicted and",
    "start": "992199",
    "end": "998759"
  },
  {
    "text": "pushed back into the head or tail of the",
    "start": "998759",
    "end": "1003879"
  },
  {
    "text": "queue uh in this slide uh I would like to introduce uh issues spe specific uh",
    "start": "1004040",
    "end": "1010720"
  },
  {
    "text": "to Long running operational clusters uh ideally we should manage all Computing",
    "start": "1010720",
    "end": "1017399"
  },
  {
    "text": "resources and work byq uh however uh there are some gaps in",
    "start": "1017399",
    "end": "1023399"
  },
  {
    "text": "the real world because in general uh some kind of quarter and work management",
    "start": "1023399",
    "end": "1029400"
  },
  {
    "text": "system already exist and uh the existing system and Q often",
    "start": "1029400",
    "end": "1036480"
  },
  {
    "text": "conflict uh actually there are such gaps in micr uh in micer the existing cor",
    "start": "1036679",
    "end": "1043480"
  },
  {
    "text": "management system depends on the kubernetes core resource quarter",
    "start": "1043480",
    "end": "1050520"
  },
  {
    "text": "uh initially uh we were we were planning to switch from the existing system to Q",
    "start": "1050520",
    "end": "1056120"
  },
  {
    "text": "at once uh however we we F we found that uh we need to migrate uh step by step",
    "start": "1056120",
    "end": "1063360"
  },
  {
    "text": "because we need to avoid stop",
    "start": "1063360",
    "end": "1067240"
  },
  {
    "text": "services so we need we consider uh two approaches to migrate from existing",
    "start": "1068440",
    "end": "1074520"
  },
  {
    "text": "system toq uh the first approach is uh we part ready uh and the second approach",
    "start": "1074520",
    "end": "1081679"
  },
  {
    "text": "is admission check for resource scer after we evaluate it to approaches",
    "start": "1081679",
    "end": "1087520"
  },
  {
    "text": "we selected the second one admission check for resource quer uh in the next slide uh let me",
    "start": "1087520",
    "end": "1095080"
  },
  {
    "text": "explain the result of the evaluation as I mentioned before uh the",
    "start": "1095080",
    "end": "1101200"
  },
  {
    "text": "rate for part ready uh can be introduced easily uh because we can use the feature",
    "start": "1101200",
    "end": "1107679"
  },
  {
    "text": "only by modifying the cube configuration but uh when admited job",
    "start": "1107679",
    "end": "1113240"
  },
  {
    "text": "job uh biate resource coder uh Cube control manager continues to try to",
    "start": "1113240",
    "end": "1119039"
  },
  {
    "text": "create uh job parts and uh job continue to be",
    "start": "1119039",
    "end": "1124880"
  },
  {
    "text": "recued uh this repeat three creation uh increase the cube Cube AP serers Road uh",
    "start": "1124880",
    "end": "1132360"
  },
  {
    "text": "in general the capacity of Q APS server is limited and variable so we get up to",
    "start": "1132360",
    "end": "1139520"
  },
  {
    "text": "migrate only by we to ready uh in the second approach",
    "start": "1139520",
    "end": "1145880"
  },
  {
    "text": "admission check for resource corer uh we can avoid increasing the Q Ser Road as M",
    "start": "1145880",
    "end": "1152520"
  },
  {
    "text": "mentioned before uh Q provid the admission check for extensible admission",
    "start": "1152520",
    "end": "1157720"
  },
  {
    "text": "decisions so we can add other admission decisions easily by implementing the",
    "start": "1157720",
    "end": "1163600"
  },
  {
    "text": "small contoller and next uh in this SL uh I",
    "start": "1163600",
    "end": "1170039"
  },
  {
    "text": "will show some situations in which crust Q can be configured uh in our environment uh we",
    "start": "1170039",
    "end": "1177480"
  },
  {
    "text": "have conflicting demands uh first one is uh all zpus uh always should be",
    "start": "1177480",
    "end": "1184120"
  },
  {
    "text": "allocated to users work second one is cluster admin uh wants to verify Pon",
    "start": "1184120",
    "end": "1190640"
  },
  {
    "text": "features using zpus so we Define the Adin cluster Q as entirely overlapped",
    "start": "1190640",
    "end": "1198720"
  },
  {
    "text": "with the user cross IQ then we decided only borrowing remit",
    "start": "1198720",
    "end": "1205039"
  },
  {
    "text": "uh in the adom adom CR once user jobs are submitted to the",
    "start": "1205039",
    "end": "1211240"
  },
  {
    "text": "queue ad me job are preempted uh the second conflicting",
    "start": "1211240",
    "end": "1217159"
  },
  {
    "text": "demand uh that uh the first one is uh uh important project uh want to resolve a",
    "start": "1217159",
    "end": "1224799"
  },
  {
    "text": "GPS so that uh they can use GPS when they want to use it the second one is uh",
    "start": "1224799",
    "end": "1230919"
  },
  {
    "text": "any gpus should not be left over for efficient usage uh so we created uh dedicated",
    "start": "1230919",
    "end": "1239520"
  },
  {
    "text": "cross IQ against important tenants uh in business perspective and all all same",
    "start": "1239520",
    "end": "1245880"
  },
  {
    "text": "priority tenants CR belongs to the same Cod also uh any declaiming with within",
    "start": "1245880",
    "end": "1253159"
  },
  {
    "text": "cohort preemption policy uh gives us possibility to realize the above conf",
    "start": "1253159",
    "end": "1258600"
  },
  {
    "text": "creting demand uh next topic uh is new features",
    "start": "1258600",
    "end": "1265280"
  },
  {
    "text": "uh recently we make significant uh progresses to improve resource utilization and uh increase",
    "start": "1265280",
    "end": "1274840"
  },
  {
    "text": "scalability the first feature is the rending limit uh as miar mentioned in",
    "start": "1274840",
    "end": "1280400"
  },
  {
    "text": "the previous slide uh we can configure quarter through the Nal quarter and",
    "start": "1280400",
    "end": "1285640"
  },
  {
    "text": "bwing liit uh in the class IQ but only those quarter configuration uh",
    "start": "1285640",
    "end": "1292200"
  },
  {
    "text": "crust IQ cannot prevent to rent resources to other crust cues so we",
    "start": "1292200",
    "end": "1298279"
  },
  {
    "text": "introduce that rending liit as another Knob to configure",
    "start": "1298279",
    "end": "1303440"
  },
  {
    "text": "quod uh in this slide let me introduce dynamically admission of uh job and",
    "start": "1303440",
    "end": "1309960"
  },
  {
    "text": "reclaiming resources so first uh I'm introducing the paral admission by default Q meets",
    "start": "1309960",
    "end": "1319159"
  },
  {
    "text": "jobs only when all job Parts can be allocated to enough resources but uh I understand to demand",
    "start": "1319159",
    "end": "1326679"
  },
  {
    "text": "that uh we may be satisfied if only a minimum number of parts are",
    "start": "1326679",
    "end": "1331799"
  },
  {
    "text": "started uh based on left side diagram uh when we enable the part admission uh we",
    "start": "1331799",
    "end": "1338600"
  },
  {
    "text": "can deploy only the currently available pism into the cruster out of requested",
    "start": "1338600",
    "end": "1346760"
  },
  {
    "text": "parm uh it means that that only part of job is De pred the next feature is",
    "start": "1346760",
    "end": "1353480"
  },
  {
    "text": "dynamic claiming resources uh this feature has similar use cases and",
    "start": "1353480",
    "end": "1359159"
  },
  {
    "text": "concept with partial admission as I mentioned before uh paral",
    "start": "1359159",
    "end": "1364200"
  },
  {
    "text": "admission affects the admission decision but this feature affects the quarter",
    "start": "1364200",
    "end": "1369760"
  },
  {
    "text": "release decisions when some job parts are completed uh even though some job",
    "start": "1369760",
    "end": "1376080"
  },
  {
    "text": "Parts still running by default uh Q keeps Mark marking all allocated quarter as in use",
    "start": "1376080",
    "end": "1384320"
  },
  {
    "text": "even if some job Parts have already finished based on right side right side",
    "start": "1384320",
    "end": "1391799"
  },
  {
    "text": "diagram uh the dynamical climing resources allows us to release the",
    "start": "1391799",
    "end": "1396880"
  },
  {
    "text": "quarter as soon as the job ports are",
    "start": "1396880",
    "end": "1401159"
  },
  {
    "text": "finished okay uh so I would like to continue with the other features that we are passionate about and they are",
    "start": "1404080",
    "end": "1411159"
  },
  {
    "text": "currently either in alpha or uh design or implementation phase so just coming",
    "start": "1411159",
    "end": "1416279"
  },
  {
    "text": "soon uh the first one is the integration with the provisioning request uh API so",
    "start": "1416279",
    "end": "1423480"
  },
  {
    "text": "uh maybe let me first introduce the provisioning request uh itself so this is the new API developed in",
    "start": "1423480",
    "end": "1429840"
  },
  {
    "text": "collaboration with the uh cluster autoscaler team uh and the aim of the",
    "start": "1429840",
    "end": "1435360"
  },
  {
    "text": "API is to provide the all nothing semantic to the uh Q so the current",
    "start": "1435360",
    "end": "1442080"
  },
  {
    "text": "problem with cluster autoscaler integration with Q is that uh",
    "start": "1442080",
    "end": "1447120"
  },
  {
    "text": "cluster autoscaler only creates nodes based on existing pods so this requires us to create pods and then for large",
    "start": "1447120",
    "end": "1455559"
  },
  {
    "text": "machine learning training jobs um the first of all the scale UPS can take very",
    "start": "1455559",
    "end": "1461279"
  },
  {
    "text": "long uh so that some pods are running some are not and we are in weird situation but also we can just fail due",
    "start": "1461279",
    "end": "1469640"
  },
  {
    "text": "to GPU stockouts and 0 having 99% of PODS is not enough so uh provisioning request",
    "start": "1469640",
    "end": "1477600"
  },
  {
    "text": "API aims to solve this problem without the need of uh the pods to be created so",
    "start": "1477600",
    "end": "1483679"
  },
  {
    "text": "this is basically the API that is exposed first we have the PO sets uh so",
    "start": "1483679",
    "end": "1489600"
  },
  {
    "text": "this Fields let's like a single po set is uh basically lets you specify the",
    "start": "1489600",
    "end": "1494679"
  },
  {
    "text": "number of uh pots that are required and the pot template that contains uh the",
    "start": "1494679",
    "end": "1500440"
  },
  {
    "text": "requirements on the amount of uh resources and we have a PO sets so a",
    "start": "1500440",
    "end": "1505559"
  },
  {
    "text": "list of Po sets uh in order to support heterogeneous jobs second we have",
    "start": "1505559",
    "end": "1511679"
  },
  {
    "text": "provisioning class name so this Fields is like a string it's a string that lets",
    "start": "1511679",
    "end": "1517559"
  },
  {
    "text": "you um indicate the semantic for the provisioning request so there are a",
    "start": "1517559",
    "end": "1522799"
  },
  {
    "text": "couple of semantic builds into cluster autoscaler uh but uh you can extend the",
    "start": "1522799",
    "end": "1528600"
  },
  {
    "text": "Leist by using some cloud provider specific uh apis and finally we have parameters that",
    "start": "1528600",
    "end": "1536279"
  },
  {
    "text": "let you uh configure the uh desired Behavior so let's take a look how Q",
    "start": "1536279",
    "end": "1542000"
  },
  {
    "text": "integrates with provisioning request so as before we have the job created by the",
    "start": "1542000",
    "end": "1547039"
  },
  {
    "text": "user the job is suspended and the quot is reserved and at this point uh Q",
    "start": "1547039",
    "end": "1553000"
  },
  {
    "text": "creates the provisioning request API and now is the job of the cluster autoscaler",
    "start": "1553000",
    "end": "1558080"
  },
  {
    "text": "to provision the notes so once uh cluster autoscaler is done the corresponding admission check is marked",
    "start": "1558080",
    "end": "1565039"
  },
  {
    "text": "as ready uh and now is back to Q to inject all the necessary information",
    "start": "1565039",
    "end": "1571360"
  },
  {
    "text": "like no selectors labels and whatnot so that the point pods can bind to the uh",
    "start": "1571360",
    "end": "1576840"
  },
  {
    "text": "newly created or reserved nodes uh the next feature that we are",
    "start": "1576840",
    "end": "1581919"
  },
  {
    "text": "passionate about uh is multicluster job dispatching AKA multiq so the main uh",
    "start": "1581919",
    "end": "1589960"
  },
  {
    "text": "goals for this um project are two the first one is to uh improve the GPU",
    "start": "1589960",
    "end": "1595919"
  },
  {
    "text": "obtainability so by using clusters in different regions you can uh get to um",
    "start": "1595919",
    "end": "1602799"
  },
  {
    "text": "maybe in different regions you have the gpus available at different times due to peak hours being at different times uh",
    "start": "1602799",
    "end": "1610640"
  },
  {
    "text": "and you can with this feature also Pro prob GPU obtainability from different",
    "start": "1610640",
    "end": "1615840"
  },
  {
    "text": "Cloud providers the the Second Use case is to scale up big computational clusters by",
    "start": "1615840",
    "end": "1622000"
  },
  {
    "text": "offloading to smaller execution clusters uh so in this design as you can see we",
    "start": "1622000",
    "end": "1627760"
  },
  {
    "text": "have a set of execution clusters and we have a single management clusters at",
    "start": "1627760",
    "end": "1633080"
  },
  {
    "text": "with which uh the user interacts with uh so it's like fully transparent in this",
    "start": "1633080",
    "end": "1638120"
  },
  {
    "text": "design to the user that there are multiple clusters uh behind and in order to achieve that uh",
    "start": "1638120",
    "end": "1645799"
  },
  {
    "text": "in the management cluster we don't create pods so there are no actual computations uh and the status of the",
    "start": "1645799",
    "end": "1652000"
  },
  {
    "text": "job created by the user is uh live updated based on the progress in the",
    "start": "1652000",
    "end": "1657360"
  },
  {
    "text": "execution cluster uh by the multiq controller so uh in order to achieve",
    "start": "1657360",
    "end": "1664320"
  },
  {
    "text": "this we push the Upstream uh Improvement to the job controller and if you are",
    "start": "1664320",
    "end": "1670279"
  },
  {
    "text": "interested in technical details here is the cap uh the next feature is for",
    "start": "1670279",
    "end": "1675480"
  },
  {
    "text": "sharing so um uh let's say we have a cohort like this and team X is currently",
    "start": "1675480",
    "end": "1682760"
  },
  {
    "text": "not using its uh resources because it's temporarily working on another project",
    "start": "1682760",
    "end": "1688120"
  },
  {
    "text": "so team a and Team B compete for the resources and as it is currently in the",
    "start": "1688120",
    "end": "1693720"
  },
  {
    "text": "queue um the workloads are admitted in the 5 order um so this can lead to",
    "start": "1693720",
    "end": "1701399"
  },
  {
    "text": "imbalances which you can sense that it's not fair so uh with this uh feature we",
    "start": "1701399",
    "end": "1707480"
  },
  {
    "text": "will resolve all the CL imbalances uh by preemption the next feature motivated by",
    "start": "1707480",
    "end": "1714799"
  },
  {
    "text": "the feedback from users of Q uh at larger scales is that U we need to",
    "start": "1714799",
    "end": "1721120"
  },
  {
    "text": "introduce hierarchical cohorts in order to reflect deeper uh organizational",
    "start": "1721120",
    "end": "1726200"
  },
  {
    "text": "structures so maybe you want to have different rules for quot management at the team level than on the department",
    "start": "1726200",
    "end": "1733640"
  },
  {
    "text": "level so this is what will be uh achieved with this feature and the next next nice thing is that by having deeper",
    "start": "1733640",
    "end": "1741600"
  },
  {
    "text": "uh organizational structure we can prioritize borrowing uh",
    "start": "1741600",
    "end": "1747679"
  },
  {
    "text": "on close distances so as shown in this picture team a uh borrows from Team B",
    "start": "1747679",
    "end": "1754720"
  },
  {
    "text": "and this is prioritized by Q uh so now let me conclude saying that",
    "start": "1754720",
    "end": "1761480"
  },
  {
    "text": "if you are interested in using q that we recommend trying yourself you can just",
    "start": "1761480",
    "end": "1766960"
  },
  {
    "text": "uh use uh the latest release or wait for the next or you can collaborate with us on the",
    "start": "1766960",
    "end": "1773720"
  },
  {
    "text": "features so that we know your use cases better um and if you are interested in",
    "start": "1773720",
    "end": "1780000"
  },
  {
    "text": "getting involved then uh one good uh option is to contact us over slack uh",
    "start": "1780000",
    "end": "1787600"
  },
  {
    "text": "because the project is uh developed by bchw workking group uh attend one of the",
    "start": "1787600",
    "end": "1794120"
  },
  {
    "text": "uh regular meetings uh you can find more information on the batw working group group in the link or if you are",
    "start": "1794120",
    "end": "1799760"
  },
  {
    "text": "interested more in the what batch working group is doing then we invite you for our presentation on Friday and",
    "start": "1799760",
    "end": "1806960"
  },
  {
    "text": "with that I'm happy to take some",
    "start": "1806960",
    "end": "1811760"
  },
  {
    "text": "[Music]",
    "start": "1815010",
    "end": "1818170"
  },
  {
    "text": "questions hi thank you for the great session um so you've mentioned initially for the Cyber agent use case that you're",
    "start": "1821039",
    "end": "1827600"
  },
  {
    "text": "using uh a single large cluster um so my question is you know have you considered",
    "start": "1827600",
    "end": "1835000"
  },
  {
    "text": "multiple clusters and what was the reasoning behind this this",
    "start": "1835000",
    "end": "1840559"
  },
  {
    "text": "Choice uh so uh does it to mean uh",
    "start": "1843880",
    "end": "1850640"
  },
  {
    "text": "uh uh we we don't why why we don't need Mar",
    "start": "1850640",
    "end": "1856200"
  },
  {
    "text": "closser yeah so the the you have single large multic cluster I guess that you're",
    "start": "1856720",
    "end": "1862000"
  },
  {
    "text": "multi establishing tency using the a space boundary so have you considered because there was a later slide talking",
    "start": "1862000",
    "end": "1868799"
  },
  {
    "text": "about multi qes and multi clusters have you considered in the future maybe or I'm also interested in how or why you",
    "start": "1868799",
    "end": "1875360"
  },
  {
    "text": "considered just a single cluster versus distributed um uh jobs across multiple",
    "start": "1875360",
    "end": "1880760"
  },
  {
    "text": "clusters so uh yes so uh it's a good question uh so uh actually",
    "start": "1880760",
    "end": "1889120"
  },
  {
    "text": "so uh we we are considering the using mq",
    "start": "1889120",
    "end": "1894559"
  },
  {
    "text": "uh uh but so uh mq is uh Alpha stage",
    "start": "1894559",
    "end": "1901039"
  },
  {
    "text": "features uh so uh uh we we still uh not using marq",
    "start": "1901039",
    "end": "1911679"
  },
  {
    "text": "features does it sound",
    "start": "1911679",
    "end": "1915398"
  },
  {
    "text": "good hello so I see some feature like a",
    "start": "1916840",
    "end": "1923880"
  },
  {
    "text": "multi- level queue is a little similar like other framework like Unicon and how",
    "start": "1923880",
    "end": "1929320"
  },
  {
    "text": "you compare Q with framework like Unicon or volcano or maybe is possible to",
    "start": "1929320",
    "end": "1936760"
  },
  {
    "text": "integrate them together or uh yeah just some sorts thank",
    "start": "1936760",
    "end": "1942880"
  },
  {
    "text": "you so you want like to compare uh uh Q",
    "start": "1945159",
    "end": "1950360"
  },
  {
    "text": "with other schedulers such as volcano or um unicorn",
    "start": "1950360",
    "end": "1956080"
  },
  {
    "text": "right uh so we uh we have a slightly different",
    "start": "1956080",
    "end": "1961880"
  },
  {
    "text": "approach uh so we think that one of the most important benefits of Q is uh to",
    "start": "1961880",
    "end": "1969279"
  },
  {
    "text": "delay the PO creation um um because it really creates a lot of",
    "start": "1969279",
    "end": "1976080"
  },
  {
    "text": "load and complications load on the API server and also on Cube and there was",
    "start": "1976080",
    "end": "1983000"
  },
  {
    "text": "like a great summary uh comparing different approaches uh which I would",
    "start": "1983000",
    "end": "1988720"
  },
  {
    "text": "like recommend you very much I don't I I think I will not do that good job of",
    "start": "1988720",
    "end": "1994000"
  },
  {
    "text": "comparing the approaches and what are the complications as um there was yesterday uh talk you you you can find",
    "start": "1994000",
    "end": "2001200"
  },
  {
    "text": "in the schedule it was uh excellent um but maybe uh because we don't create",
    "start": "2001200",
    "end": "2008039"
  },
  {
    "text": "Parts uh we don't have like the co scheduling on G gang scheduling in built",
    "start": "2008039",
    "end": "2013880"
  },
  {
    "text": "in Q however you can actually use schedulers from volcano uh and use them",
    "start": "2013880",
    "end": "2021279"
  },
  {
    "text": "with Q so this is one way you can achieve that H but generally for All or",
    "start": "2021279",
    "end": "2027000"
  },
  {
    "text": "Nothing semantic we have a slightly different approach of provisioning request",
    "start": "2027000",
    "end": "2032880"
  },
  {
    "text": "API uh yeah thank you great talk and I have",
    "start": "2036720",
    "end": "2043039"
  },
  {
    "text": "one question so regarding the GPU machines what kind of a special you know",
    "start": "2043039",
    "end": "2048638"
  },
  {
    "text": "strategy you applied via this queue like compared to the regular CPU",
    "start": "2048639",
    "end": "2054599"
  },
  {
    "text": "machines uh can you talk about a little detail about that I mean how to scale",
    "start": "2054599",
    "end": "2060878"
  },
  {
    "text": "the GPU and the CPU yeah um",
    "start": "2060879",
    "end": "2068800"
  },
  {
    "text": "so gpus are maybe yeah they are a little bit special uh first of all there is",
    "start": "2068800",
    "end": "2075960"
  },
  {
    "text": "they are scar resource resources so there is not a lot of them uh provided",
    "start": "2075960",
    "end": "2082240"
  },
  {
    "text": "by the cloud providers so you often hit stockouts uh and also another maybe",
    "start": "2082240",
    "end": "2088000"
  },
  {
    "text": "special thing about machine learning jobs is that very often they require all",
    "start": "2088000",
    "end": "2093200"
  },
  {
    "text": "of the parts running at the same time so these are like the important",
    "start": "2093200",
    "end": "2098240"
  },
  {
    "text": "considerations that differentiate running uh training jobs from other",
    "start": "2098240",
    "end": "2104000"
  },
  {
    "text": "batch workloads uh so with the efforts like provisioning request we really aim to",
    "start": "2104000",
    "end": "2110800"
  },
  {
    "text": "improve like both the obtainability and the All or Nothing semantic so we can uh",
    "start": "2110800",
    "end": "2116839"
  },
  {
    "text": "better support running jobs that require GPU",
    "start": "2116839",
    "end": "2122599"
  },
  {
    "text": "um does it answer question thank",
    "start": "2122599",
    "end": "2129640"
  },
  {
    "text": "thanks for your presentation so I have a one question does q has a plan uh to",
    "start": "2131920",
    "end": "2138480"
  },
  {
    "text": "support uh the future like a queing hint or",
    "start": "2138480",
    "end": "2143680"
  },
  {
    "text": "something can you repeat like like what uh queing hint in the kubernetes",
    "start": "2143839",
    "end": "2150440"
  },
  {
    "text": "Upstream sched has uh okay so Q is not",
    "start": "2150440",
    "end": "2155680"
  },
  {
    "text": "uh uh pot scheduler so uh so as I can remember so queing",
    "start": "2155680",
    "end": "2163240"
  },
  {
    "text": "hint uh is a feature for cube schedu so uh uh we don't have any plans to",
    "start": "2163240",
    "end": "2171960"
  },
  {
    "text": "implement Qing hint okay maybe uh there is also I can add",
    "start": "2171960",
    "end": "2180160"
  },
  {
    "text": "that we are considering to use in the future uh scheduling gates for job this",
    "start": "2180160",
    "end": "2185680"
  },
  {
    "text": "is uh uh s of plant uh enhancement Upstream uh and this can be useful for",
    "start": "2185680",
    "end": "2194000"
  },
  {
    "text": "interactive jobs uh that you have a duck dependencies between jobs and you want",
    "start": "2194000",
    "end": "2199520"
  },
  {
    "text": "to start a given job only once all of its dependencies are completed uh but",
    "start": "2199520",
    "end": "2205960"
  },
  {
    "text": "yeah it's hard for me to assess when this will happen but we are considering definitely uh in the future using uh uh",
    "start": "2205960",
    "end": "2213800"
  },
  {
    "text": "scheduling gates for job uh once they land Upstream but yeah",
    "start": "2213800",
    "end": "2219079"
  },
  {
    "text": "it's it's somewhere behind our",
    "start": "2219079",
    "end": "2224440"
  },
  {
    "text": "heads hi um this is abishek from IBM research um the question is regarding",
    "start": "2226960",
    "end": "2233319"
  },
  {
    "text": "provisioning request uh interaction and and Q As I understood from the slides",
    "start": "2233319",
    "end": "2238480"
  },
  {
    "text": "you reserve the Kota and allow the machines to come into the cluster that may take sometimes if you are requesting",
    "start": "2238480",
    "end": "2245200"
  },
  {
    "text": "hundreds of machines from the cloud provider provider so the question really is while that is booting up would you",
    "start": "2245200",
    "end": "2253280"
  },
  {
    "text": "support a back filling kind of functionality inside Q",
    "start": "2253280",
    "end": "2259720"
  },
  {
    "text": "uh so so could you maybe reface a little bit what do you mean like but by back",
    "start": "2259720",
    "end": "2265240"
  },
  {
    "text": "filling uh in in this context so here's an example you wait for 100",
    "start": "2265240",
    "end": "2271480"
  },
  {
    "text": "machines um 10 of them arrive 50 of them arrive and there are pending jobs in the",
    "start": "2271480",
    "end": "2276960"
  },
  {
    "text": "queue that can utilize the machines that are already on the cluster while the 100 machine comes up",
    "start": "2276960",
    "end": "2285200"
  },
  {
    "text": "so with provisioning request uh we have the philosophy at least in Q uh maybe so",
    "start": "2285200",
    "end": "2292400"
  },
  {
    "text": "first of all provisioning request is still I think better in the cluster autoscaler so if you have some use cases",
    "start": "2292400",
    "end": "2298480"
  },
  {
    "text": "then uh maybe you should open uh some issue or discuss at some forums so but",
    "start": "2298480",
    "end": "2305280"
  },
  {
    "text": "for now the basic philosophy is that we create one provisioning request per job",
    "start": "2305280",
    "end": "2310480"
  },
  {
    "text": "so it's like responsible for provisioning uh nodes only for that job",
    "start": "2310480",
    "end": "2315680"
  },
  {
    "text": "so there is like one to one correspondence and so other jobs cannot",
    "start": "2315680",
    "end": "2320880"
  },
  {
    "text": "uh uh land on the notes provisioned for the job um and also that we just await",
    "start": "2320880",
    "end": "2328040"
  },
  {
    "text": "so for example with some um uh cloud",
    "start": "2328040",
    "end": "2333160"
  },
  {
    "text": "provider specific apis you can maybe wait uh when when you want to let's say",
    "start": "2333160",
    "end": "2339119"
  },
  {
    "text": "provision thousand nodes GPU nodes uh the cloud provider may not give you",
    "start": "2339119",
    "end": "2344720"
  },
  {
    "text": "immediately the uh the nodes because it doesn't have but maybe it can see where",
    "start": "2344720",
    "end": "2352520"
  },
  {
    "text": "uh they are available like predict when they will be available so that you don't",
    "start": "2352520",
    "end": "2357599"
  },
  {
    "text": "get you don't kick off the scale up immediately but it is cute and you wait",
    "start": "2357599",
    "end": "2362680"
  },
  {
    "text": "let's say uh uh a couple of hours but once you get you are guaranteed to have",
    "start": "2362680",
    "end": "2369880"
  },
  {
    "text": "thousand machines okay I'll I'll open an issue",
    "start": "2369880",
    "end": "2375280"
  },
  {
    "text": "yeah thank you thank",
    "start": "2375280",
    "end": "2379280"
  },
  {
    "text": "you do we have some more questions or",
    "start": "2394200",
    "end": "2399318"
  },
  {
    "text": "okay so thank you once again thank",
    "start": "2400680",
    "end": "2405800"
  },
  {
    "text": "you",
    "start": "2407240",
    "end": "2410240"
  }
]