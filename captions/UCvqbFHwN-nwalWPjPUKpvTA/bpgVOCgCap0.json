[
  {
    "start": "0",
    "end": "50000"
  },
  {
    "text": "okay I'll try not to yell at it if I do somebody just tell me to do lower it down a little bit I'm used to conference",
    "start": "30",
    "end": "6180"
  },
  {
    "text": "speaking in much larger rooms so I tend to project so first off thanks everybody",
    "start": "6180",
    "end": "12210"
  },
  {
    "text": "for actually coming out and anybody who actually works on the project or in the community thank you for your work I've",
    "start": "12210",
    "end": "18630"
  },
  {
    "text": "been doing this for some time now and without some of that I wouldn't be able to do what I do so I both get to keep",
    "start": "18630",
    "end": "24660"
  },
  {
    "text": "and lose my sanity because of all you so I want to say thank you to some of the",
    "start": "24660",
    "end": "31410"
  },
  {
    "text": "people that are actually crazy enough to be here and prepare yourselves for what",
    "start": "31410",
    "end": "37200"
  },
  {
    "text": "I would refer to as some pastafarian nightmare spaghetti monster of what I do now this is all made possible thanks to",
    "start": "37200",
    "end": "44430"
  },
  {
    "text": "the help project and several of the partners that we have throughout the project and community so let me just go",
    "start": "44430",
    "end": "50700"
  },
  {
    "start": "50000",
    "end": "80000"
  },
  {
    "text": "ahead and get started let's set some of the groundwork here I need you",
    "start": "50700",
    "end": "57180"
  },
  {
    "text": "understand the scale that we're working with all right the size and complexity",
    "start": "57180",
    "end": "62699"
  },
  {
    "text": "of the application that I'm trying to deploy might look like I'm lying to you at first until you actually dig in a",
    "start": "62699",
    "end": "70799"
  },
  {
    "text": "little bit and see what I'm actually talking about you don't understand the suite and you don't understand the",
    "start": "70799",
    "end": "76920"
  },
  {
    "text": "challenge that we're actually trying to address so let's look at scale now we",
    "start": "76920",
    "end": "86850"
  },
  {
    "start": "80000",
    "end": "270000"
  },
  {
    "text": "have five external dependencies that's it right well there's some of them that",
    "start": "86850",
    "end": "92400"
  },
  {
    "text": "are actually fort because we need to make changes that weren't ready for being up streamed or we knew that upstream wouldn't necessarily accept or",
    "start": "92400",
    "end": "99450"
  },
  {
    "text": "we just had to integrate so tightly with it that we didn't have a choice so we have a few of them that are actually",
    "start": "99450",
    "end": "104939"
  },
  {
    "text": "forked from upstream and we have a few of them and that are developed completely in parallel because the up streams didn't exist when we started and",
    "start": "104939",
    "end": "111329"
  },
  {
    "text": "we didn't think ours was quality enough at the time but then we also have ten and Counting internal charts that we",
    "start": "111329",
    "end": "118290"
  },
  {
    "text": "have to keep in line orchestrated and Inter woven fully enabled right now",
    "start": "118290",
    "end": "123630"
  },
  {
    "text": "excluding our operator that's approximately 6,000 lines and Counting",
    "start": "123630",
    "end": "129720"
  },
  {
    "text": "of output now who wants to tell me the largest chart",
    "start": "129720",
    "end": "134790"
  },
  {
    "text": "that they know of all in the public repositories pick a number any number",
    "start": "134790",
    "end": "140040"
  },
  {
    "text": "you can be wrong I expect you to be it's cool take a number what's the most output of",
    "start": "140040",
    "end": "148800"
  },
  {
    "text": "a public chart at this time by line count there are a lot of charts that",
    "start": "148800",
    "end": "160830"
  },
  {
    "text": "actually do spit out several hundred lines somewhere between the range of three and six hundred is the average",
    "start": "160830",
    "end": "167370"
  },
  {
    "text": "chart so to give you the visibility in scale that's relatively one-tenth our",
    "start": "167370",
    "end": "174540"
  },
  {
    "text": "size now to be fair that's also because we're basically spitting out 19 charts",
    "start": "174540",
    "end": "181380"
  },
  {
    "text": "in one so understand that goes to show the level of complexity that we have to",
    "start": "181380",
    "end": "188400"
  },
  {
    "text": "deal with so when I tell you that we have to deal with an entire application suite I am not joking this is the public",
    "start": "188400",
    "end": "197430"
  },
  {
    "text": "architecture documentation that we have that actually outlines all the components and ways that things interact",
    "start": "197430",
    "end": "203630"
  },
  {
    "text": "our chart isn't even all of this yet okay when people think of get labid I",
    "start": "203630",
    "end": "212070"
  },
  {
    "text": "think it's an application it's what they interface with in reality it's an entire suite of applications behind it that we",
    "start": "212070",
    "end": "219120"
  },
  {
    "text": "have to keep very tightly integrated in a Roven and orchestrated no matter what platform that is now our our truck",
    "start": "219120",
    "end": "227400"
  },
  {
    "text": "can't actually be as simple if our edict is to be self-contained and manageable scalable we have to actually do some",
    "start": "227400",
    "end": "233760"
  },
  {
    "text": "complex things in the background we can't make a great new deployment method and then immediately tell our customers",
    "start": "233760",
    "end": "239820"
  },
  {
    "text": "hey here's our awesome new way to do things by the way it's harder which if",
    "start": "239820",
    "end": "245250"
  },
  {
    "text": "you're coming from the Omnibus Kate Lab land so operating in standard VM deployments it really is as simple as",
    "start": "245250",
    "end": "252030"
  },
  {
    "text": "apt-get install get lab so I have to make the helm charts and the use of",
    "start": "252030",
    "end": "257910"
  },
  {
    "text": "commodities as easy as hell install get lab or at least try really hard to do",
    "start": "257910",
    "end": "265440"
  },
  {
    "text": "that and I need you to remember though not",
    "start": "265440",
    "end": "271330"
  },
  {
    "start": "270000",
    "end": "363000"
  },
  {
    "text": "everybody understands what we're doing okay they have to be very very simple to",
    "start": "271330",
    "end": "277780"
  },
  {
    "text": "use while being extremely complex in the background but at the same time",
    "start": "277780",
    "end": "283740"
  },
  {
    "text": "development perspective those of us working on complex charts of any kind we're working with Suites of charts put",
    "start": "283740",
    "end": "289870"
  },
  {
    "text": "together orchestrating all of that gets hard especially when you have competing",
    "start": "289870",
    "end": "295210"
  },
  {
    "text": "styles or maintainability issues and kind of keeping all those things straight and then we have to remember",
    "start": "295210",
    "end": "300880"
  },
  {
    "text": "that our target consumer may not understand the depths of helm so they may not be able to make small",
    "start": "300880",
    "end": "306100"
  },
  {
    "text": "modifications to make it work and it's possible they don't really understand",
    "start": "306100",
    "end": "312700"
  },
  {
    "text": "kubernetes as at all when you stop and think about it they could be just an application developer",
    "start": "312700",
    "end": "318790"
  },
  {
    "text": "that needs to install a tool that they can use or they could be just a caperna DS administrator who's never seen an",
    "start": "318790",
    "end": "325240"
  },
  {
    "text": "application this complex before this is not a knock to anybody who might want to use a chart it's we're talking about new",
    "start": "325240",
    "end": "331720"
  },
  {
    "text": "technologies kubernetes itself as a project is barely 5 years old",
    "start": "331720",
    "end": "336760"
  },
  {
    "text": "Hamels a project is not even half that we're doing things with technology that",
    "start": "336760",
    "end": "342160"
  },
  {
    "text": "were not imagined 15 years ago when the cloud got big and people started",
    "start": "342160",
    "end": "348010"
  },
  {
    "text": "understanding virtual machines and how to work with them we are changing the way people think about application",
    "start": "348010",
    "end": "354010"
  },
  {
    "text": "deployment so you need to understand not everybody has caught up yet and thus I",
    "start": "354010",
    "end": "359800"
  },
  {
    "text": "need to do things in a couple of interesting ways so what's my actual",
    "start": "359800",
    "end": "365320"
  },
  {
    "start": "363000",
    "end": "418000"
  },
  {
    "text": "challenge with these charts it's pretty simple I've got to be able to install",
    "start": "365320",
    "end": "371170"
  },
  {
    "text": "the charts on any cloud with a few commands as possible any cloud one command is the challenge itself we do",
    "start": "371170",
    "end": "379990"
  },
  {
    "text": "our darndest to say the least but not everything is completely perfect the",
    "start": "379990",
    "end": "385300"
  },
  {
    "text": "idea being that you can simply add the repo pull your updates and actually run the install command with as little",
    "start": "385300",
    "end": "391090"
  },
  {
    "text": "configuration as possible now that one in particular says timeout of 600 if",
    "start": "391090",
    "end": "397690"
  },
  {
    "text": "you're deploying everything and your cost is not sized correctly that might take longer just due to pressures but ideally",
    "start": "397690",
    "end": "405770"
  },
  {
    "text": "if it takes you 10 minutes to deploy maybe you need to figure out what's",
    "start": "405770",
    "end": "411080"
  },
  {
    "text": "going on with your administrator to make sure that everything's keeping up so let",
    "start": "411080",
    "end": "419600"
  },
  {
    "start": "418000",
    "end": "486000"
  },
  {
    "text": "me explain why we need to make the move to cloud native we've been developing",
    "start": "419600",
    "end": "425000"
  },
  {
    "text": "the omnibus gate lab for years it's great no really it is it is actually awesome to use it's also inspiring ly",
    "start": "425000",
    "end": "434030"
  },
  {
    "text": "large complex and heavy that thing is now over a gig and a half ok compressed",
    "start": "434030",
    "end": "440650"
  },
  {
    "text": "but these two say it's a monolith - only",
    "start": "440650",
    "end": "446060"
  },
  {
    "text": "gets you so far at coop con in Seattle I gave a presentation outlining our work and",
    "start": "446060",
    "end": "452360"
  },
  {
    "text": "progress at the time but I'm just going to summarize that here the omnibus is massive when you multiply that size and",
    "start": "452360",
    "end": "460490"
  },
  {
    "text": "complexity with the size and complexity of deploying a multi million user SAS you learn the meaning of growing pains",
    "start": "460490",
    "end": "467780"
  },
  {
    "text": "and Pyrrhic lee we got to the point where we were on our ant interation",
    "start": "467780",
    "end": "473690"
  },
  {
    "text": "iteration on the in-house develop development and deployment tools and we realized we really need to make progress",
    "start": "473690",
    "end": "479810"
  },
  {
    "text": "on this on something that's more maintainable for the future and designed for the future so let's set some",
    "start": "479810",
    "end": "488990"
  },
  {
    "start": "486000",
    "end": "557000"
  },
  {
    "text": "grounding here right this this particular meme came up just the other",
    "start": "488990",
    "end": "494750"
  },
  {
    "text": "day and it was so timely I had to put it in why is this thing so massive our goal",
    "start": "494750",
    "end": "501590"
  },
  {
    "text": "is to actually encompass the entire development lifecycle as a tool while dogfooding at all while we proved it as",
    "start": "501590",
    "end": "507080"
  },
  {
    "text": "a result that means that we're incorporating all the tools that we use if not making new ones to fill in those",
    "start": "507080",
    "end": "513709"
  },
  {
    "text": "gaps and I know there's some people are going to be why not do this piece by piece why not chart by chart unix-style",
    "start": "513709",
    "end": "520250"
  },
  {
    "text": "one thing does one thing well ok cool if I told you to deploy that right would",
    "start": "520250",
    "end": "527779"
  },
  {
    "text": "you think hey this is easy really which one of us is lying to ourselves",
    "start": "527779",
    "end": "533630"
  },
  {
    "text": "because I just showed you that architecture graph if you had to deploy",
    "start": "533630",
    "end": "538759"
  },
  {
    "text": "every single component and keep track of all the interconnections the secrets the TLS for every single component how long",
    "start": "538759",
    "end": "545839"
  },
  {
    "text": "would that take you to do manually that's the level of complexity that I",
    "start": "545839",
    "end": "551660"
  },
  {
    "text": "face so that you don't have to then we",
    "start": "551660",
    "end": "557870"
  },
  {
    "start": "557000",
    "end": "720000"
  },
  {
    "text": "have to worry about the basic things what are our targets in the project right it's got to be maintainable a",
    "start": "557870",
    "end": "564829"
  },
  {
    "text": "number one absolute with it something this large you've got to be able to maintain it as it grows even if it",
    "start": "564829",
    "end": "571790"
  },
  {
    "text": "mutates if you lose this fight the game is over because you won't be able to",
    "start": "571790",
    "end": "578180"
  },
  {
    "text": "manage it which means you can't use it which means your consumers can't use it whether that's in-house or out of house",
    "start": "578180",
    "end": "583250"
  },
  {
    "text": "doesn't matter it's got to be flexible and I mean really flexible this is the",
    "start": "583250",
    "end": "590300"
  },
  {
    "text": "close second I really heard for me to separate between maintainability but if I can't use it it doesn't matter right",
    "start": "590300",
    "end": "596050"
  },
  {
    "text": "the chart won't be deployed either as a some whole and with very little",
    "start": "596050",
    "end": "601069"
  },
  {
    "text": "modification for most people but for others say customers running several",
    "start": "601069",
    "end": "607279"
  },
  {
    "text": "thousand users or tens of thousands of users or hundreds of thousands of users it's got to be able to be swapped",
    "start": "607279",
    "end": "613970"
  },
  {
    "text": "component by component with the existing patterns and I have to be able to roll from an architecture that's been in",
    "start": "613970",
    "end": "620149"
  },
  {
    "text": "deployment for five to ten years and then slowly migrate all components over",
    "start": "620149",
    "end": "626480"
  },
  {
    "text": "because if you have a global customer that's in you know every single region he can't have the downtime because if he",
    "start": "626480",
    "end": "633290"
  },
  {
    "text": "does it while the Americans are asleep well that's gonna mess with everybody in a pack and probably make for a bad",
    "start": "633290",
    "end": "639649"
  },
  {
    "text": "morning over here in amia right so I have to be able to install all or part",
    "start": "639649",
    "end": "645649"
  },
  {
    "text": "or just the minimum requirements for us downtime is insanely costly I can't make",
    "start": "645649",
    "end": "653329"
  },
  {
    "text": "that mistake to where I break things and force you to do pump-and-dump right back it up drop it throw into",
    "start": "653329",
    "end": "659480"
  },
  {
    "text": "production again can't do that right it's a bad thing for us it's a bad PR and it's really bad for any of our",
    "start": "659480",
    "end": "665480"
  },
  {
    "text": "customers and we have a lot the last thing in this project is it has to be industry accepted this new method",
    "start": "665480",
    "end": "673250"
  },
  {
    "text": "has to be able to make use of industry recognized tools with a level of maturity that's sufficient to know that",
    "start": "673250",
    "end": "681019"
  },
  {
    "text": "we're not gonna be facing large sweeping changes in the future that we're not gonna get broken things in between major",
    "start": "681019",
    "end": "686329"
  },
  {
    "text": "releases or I should say minor releases major releases hey we all know what's coming and I look forward to it but it",
    "start": "686329",
    "end": "694009"
  },
  {
    "text": "also has to be adopted broadly enough throughout all my customers that they'll actually make use of the thing I'm doing we had choices when we started this",
    "start": "694009",
    "end": "701509"
  },
  {
    "text": "project a little over two years ago and helm was the best choice that was",
    "start": "701509",
    "end": "706519"
  },
  {
    "text": "available at the time and personally I think that's the best decision we could have made we definitely think it has the",
    "start": "706519",
    "end": "713540"
  },
  {
    "text": "highest traction at this point and soon with more flexibility coming it'll gain even more so let's get to the gory",
    "start": "713540",
    "end": "721519"
  },
  {
    "start": "720000",
    "end": "802000"
  },
  {
    "text": "details because let's face it that's why y'all came right so we make extremely",
    "start": "721519",
    "end": "731389"
  },
  {
    "text": "heavy use of templating and by extremely I mean that that list the project's open",
    "start": "731389",
    "end": "738649"
  },
  {
    "text": "you guys can see this this is 40-plus of our templates plus a couple of the",
    "start": "738649",
    "end": "744319"
  },
  {
    "text": "templates that are forked it's insane the amount of templating we make use of but we do it for very good very solid",
    "start": "744319",
    "end": "753050"
  },
  {
    "text": "reasons and sometimes people don't believe why we're doing it the way we do it some people don't believe that it's",
    "start": "753050",
    "end": "760670"
  },
  {
    "text": "required and you know what when you see something this big it's not when you see",
    "start": "760670",
    "end": "765829"
  },
  {
    "text": "something this big it gets really hard to not now I yes I wish that we could",
    "start": "765829",
    "end": "777709"
  },
  {
    "text": "condense this and even maybe even separate out our charts so that we don't have one big monolithic chart but with",
    "start": "777709",
    "end": "785480"
  },
  {
    "text": "as many templates as we have here if we could do that we would do that but",
    "start": "785480",
    "end": "790670"
  },
  {
    "text": "remember that library charts aren't here yet so I have to make do as best I can",
    "start": "790670",
    "end": "798170"
  },
  {
    "text": "with the tools that I have so we have to worry about the values",
    "start": "798170",
    "end": "806040"
  },
  {
    "text": "that we're templating the sections of config maps or repeated chunks of code",
    "start": "806040",
    "end": "811200"
  },
  {
    "text": "right this is what library charts will eventually do and we also have to worry about our Global's",
    "start": "811200",
    "end": "816920"
  },
  {
    "text": "one of the things we do is as you saw in the previous slides I have all of these",
    "start": "816920",
    "end": "822060"
  },
  {
    "text": "individual sections of primary helpers these are actually whole sections of",
    "start": "822060",
    "end": "827089"
  },
  {
    "text": "configuration or even individual values or comprised values so that I actually",
    "start": "827089",
    "end": "832260"
  },
  {
    "text": "have a way to say I don't have to create the URL for the API server 15 times I",
    "start": "832260",
    "end": "838860"
  },
  {
    "text": "can set the template once and then just include the template in line and it'll actually work this is one such example",
    "start": "838860",
    "end": "847339"
  },
  {
    "text": "what we're doing here is literally just give me the host name for the actual gitlab instance",
    "start": "847339",
    "end": "852930"
  },
  {
    "text": "that'll be reuse later as part of the URL it'll be reused for API endpoint",
    "start": "852930",
    "end": "858839"
  },
  {
    "text": "values it'll be reused for any number of things but you'll notice we have the",
    "start": "858839",
    "end": "864720"
  },
  {
    "text": "internal template for a symbol host which actually pulls together some of the things so that you'll have to set as",
    "start": "864720",
    "end": "870029"
  },
  {
    "text": "many values but also the specific value provided through our global setup and",
    "start": "870029",
    "end": "876270"
  },
  {
    "text": "I'll cover Global's in a second but we have our global host and get lab so the",
    "start": "876270",
    "end": "881430"
  },
  {
    "text": "actual gitlab api instance you can specify its name directly outside of our",
    "start": "881430",
    "end": "886920"
  },
  {
    "text": "defined patterns if you choose otherwise we'll actually go and assemble that for",
    "start": "886920",
    "end": "891930"
  },
  {
    "text": "you so we actually have chart values plus global values plus assemble value",
    "start": "891930",
    "end": "897720"
  },
  {
    "text": "and then the ability to override that if you choose yes that's a stack and stack",
    "start": "897720",
    "end": "903180"
  },
  {
    "text": "and stack of things but remember helm 2 only has go template text with sprig and",
    "start": "903180",
    "end": "910200"
  },
  {
    "text": "a couple of salts functions right we don't have Lua we don't have the ability",
    "start": "910200",
    "end": "915480"
  },
  {
    "text": "to programmatically do this we had to do this by dealing with the output of templates stacked upon each other and",
    "start": "915480",
    "end": "921600"
  },
  {
    "text": "remember that that is always text right so you have some limitations in the",
    "start": "921600",
    "end": "927420"
  },
  {
    "text": "ecosystem and the tools that we have to work around so",
    "start": "927420",
    "end": "933770"
  },
  {
    "text": "there we go let's set a few ground rules and what we're actually doing when it",
    "start": "935279",
    "end": "941200"
  },
  {
    "start": "937000",
    "end": "1059000"
  },
  {
    "text": "comes to our templates we have a document out there in our documentation",
    "start": "941200",
    "end": "946899"
  },
  {
    "text": "that specifically says architecture decisions I'm going to cover a few of those and how they specifically relate",
    "start": "946899",
    "end": "951970"
  },
  {
    "text": "to the depth and use of our templates is because library charges don't exist yet",
    "start": "951970",
    "end": "959190"
  },
  {
    "text": "we have to make sure that the template partials whenever we use them are as",
    "start": "959190",
    "end": "964480"
  },
  {
    "text": "close to the chart that needs it but not all the way in the global space imagine if I had one templates folder at the",
    "start": "964480",
    "end": "970060"
  },
  {
    "text": "head that had all 45 template files in it or worse one template file that was",
    "start": "970060",
    "end": "976510"
  },
  {
    "text": "all 45 and one if you opened a 2600 line",
    "start": "976510",
    "end": "982450"
  },
  {
    "text": "file for a template file would you like where the heck did I put stuff in here now imagine instead of",
    "start": "982450",
    "end": "989470"
  },
  {
    "text": "2,600 lines that's closer to a hundred thousand lines you don't do that we have",
    "start": "989470",
    "end": "997240"
  },
  {
    "text": "to be able to structure these specifically now I've actually kind of dropped a few things in here right out",
    "start": "997240",
    "end": "1002670"
  },
  {
    "text": "of our documentation but I want to point out that the reason we're doing it this way is we needed to be able to use dry",
    "start": "1002670",
    "end": "1008370"
  },
  {
    "text": "patterns you know we don't keep repeating ourselves all the time if we can use it once and do it through a",
    "start": "1008370",
    "end": "1013589"
  },
  {
    "text": "template do it that way and remember that templates are actually global so",
    "start": "1013589",
    "end": "1019500"
  },
  {
    "text": "you can stack them and the first one read in through hierarchy is the one that actually wins by that name it's",
    "start": "1019500",
    "end": "1026339"
  },
  {
    "text": "kind of a dynamic JIT but not quite that comes into play in the way we use things because for example we actually override",
    "start": "1026339",
    "end": "1033959"
  },
  {
    "text": "at the PostgreSQL service name so that we can deploy PostgreSQL but also know",
    "start": "1033959",
    "end": "1039990"
  },
  {
    "text": "exactly what it's name is going to be and have that be controlled by our chart instead of the downstream chart that has",
    "start": "1039990",
    "end": "1047100"
  },
  {
    "text": "actually come into play throughout the entire chart in dealing with some of the Forks that we've had to deal with but",
    "start": "1047100",
    "end": "1053480"
  },
  {
    "text": "it's a particular case that I have to point out so here's another one this is",
    "start": "1053480",
    "end": "1061290"
  },
  {
    "text": "one that's unique to us as far as I found we actually have a pattern in play",
    "start": "1061290",
    "end": "1066430"
  },
  {
    "text": "that makes use of helm templates to specifically detect a configuration that",
    "start": "1066430",
    "end": "1072430"
  },
  {
    "text": "was passed that would actually be deprecated in a future release so if we know that we need to move configuration",
    "start": "1072430",
    "end": "1079030"
  },
  {
    "text": "values we actually intentionally make use of the fail logic that's available to actually do as close as we get",
    "start": "1079030",
    "end": "1087840"
  },
  {
    "text": "programmatic checks on the values and tell you okay this was moved to a secret",
    "start": "1087840",
    "end": "1093010"
  },
  {
    "text": "please create that and move that value here here's the link to the documentation or hey we moved this",
    "start": "1093010",
    "end": "1099610"
  },
  {
    "text": "entire configuration for sam'l auth from the individual chart up to a global",
    "start": "1099610",
    "end": "1105460"
  },
  {
    "text": "property because we realized that it needed to be set in six different charts not one this allows us to actually have",
    "start": "1105460",
    "end": "1112840"
  },
  {
    "text": "rolling changes in minor releases without going oh just broke 15 people in",
    "start": "1112840",
    "end": "1118480"
  },
  {
    "text": "production because that would be bad to say the least and let's face it not everybody has a full change management",
    "start": "1118480",
    "end": "1124450"
  },
  {
    "text": "in place so if we don't try to protect them just a little bit we'll end up breaking a lot of people in bad ways and",
    "start": "1124450",
    "end": "1131380"
  },
  {
    "text": "that's a nasty support call for us and not great PR either as a product now we",
    "start": "1131380",
    "end": "1139179"
  },
  {
    "text": "intentionally try to do these both during install and during upgrade I will",
    "start": "1139179",
    "end": "1144429"
  },
  {
    "text": "point out though that when you use our chart we actually specifically document to never use the reused values flag does",
    "start": "1144429",
    "end": "1152559"
  },
  {
    "text": "anybody here know why reuse value is bad and dangerous it does not take in new",
    "start": "1152559",
    "end": "1160990"
  },
  {
    "text": "default values so if you deploy the chart at one revision and then I go and",
    "start": "1160990",
    "end": "1168640"
  },
  {
    "text": "make a new revision and I've added say a new dependency that requires defaults and you say helm upgrade tack tack reuse",
    "start": "1168640",
    "end": "1176559"
  },
  {
    "text": "values there's a whole sections of value defaults that are no longer present that",
    "start": "1176559",
    "end": "1183370"
  },
  {
    "text": "template will fail and fail horribly and not explain to you why so we actually",
    "start": "1183370",
    "end": "1188500"
  },
  {
    "text": "ask people to use helm get values and then pass that in to how upgrade the",
    "start": "1188500",
    "end": "1194679"
  },
  {
    "text": "reason being now we don't have to worry about new default values not coming through they'll get rolled in",
    "start": "1194679",
    "end": "1200110"
  },
  {
    "text": "and tiller will actually behave appropriately this one has bitten us in",
    "start": "1200110",
    "end": "1205270"
  },
  {
    "text": "the community before just I had to address it because I have so many dependent Ruiz and I've had a lot of",
    "start": "1205270",
    "end": "1210940"
  },
  {
    "text": "properties have to move over time the",
    "start": "1210940",
    "end": "1216280"
  },
  {
    "text": "next thing I have is based on that same kind of logic is the ability to actually",
    "start": "1216280",
    "end": "1221350"
  },
  {
    "text": "check for configuration that will be bad an example we have both Redis and Redis",
    "start": "1221350",
    "end": "1228130"
  },
  {
    "text": "H a we have them as separate Forks because of another choice that I'll talk",
    "start": "1228130",
    "end": "1234250"
  },
  {
    "text": "about in a minute but if you tried to deploy Redis and Redis H a which one am I going to hook the application to why",
    "start": "1234250",
    "end": "1242890"
  },
  {
    "text": "am I going to consume both sets of resources which one's gonna win the service name war that's like why would",
    "start": "1242890",
    "end": "1250450"
  },
  {
    "text": "you do that it's a mistake but it's a mistake that more than one person has made or could make so we used the same",
    "start": "1250450",
    "end": "1257260"
  },
  {
    "text": "kind of logic in deprecations which I can show you at the end if you choose so that if we detect that you've set two",
    "start": "1257260",
    "end": "1264130"
  },
  {
    "text": "values that are competing or that you've set a value but not set a dependent value we will actually stop you from",
    "start": "1264130",
    "end": "1270820"
  },
  {
    "text": "deploying the chart and deploying a known broken state so when we can find",
    "start": "1270820",
    "end": "1275860"
  },
  {
    "text": "and detect those we prevent people from doing that then we have the very",
    "start": "1275860",
    "end": "1285250"
  },
  {
    "start": "1282000",
    "end": "1460000"
  },
  {
    "text": "pervasive use of values global and when I say pervasive meaning if you do a helm",
    "start": "1285250",
    "end": "1292540"
  },
  {
    "text": "install dry run debug and look at the output you will see what you put in",
    "start": "1292540",
    "end": "1298120"
  },
  {
    "text": "which is anywhere between one and sixty values depending on how twiki you get",
    "start": "1298120",
    "end": "1304030"
  },
  {
    "text": "with the settings however when you go to computed values you're gonna see the same list of global default behaviors a",
    "start": "1304030",
    "end": "1311940"
  },
  {
    "text": "lot but that's because we don't want to have to configure everything ten times",
    "start": "1311940",
    "end": "1318490"
  },
  {
    "text": "and we don't want you to have to configure everything ten times say you want to use an existing production grade",
    "start": "1318490",
    "end": "1324549"
  },
  {
    "text": "H eh you know region resilient Postgres right whether that's using cloud sequel",
    "start": "1324549",
    "end": "1330730"
  },
  {
    "text": "whether that's using the updated charts from fit Nami you need to be able to configure that now imagine that I have to tell every",
    "start": "1330730",
    "end": "1338019"
  },
  {
    "text": "single individual component hey Postgres is over there hey postgrads is over there hey here's",
    "start": "1338019",
    "end": "1343719"
  },
  {
    "text": "Postgres secret over here imagine I had to do that to every component out of the",
    "start": "1343719",
    "end": "1350489"
  },
  {
    "text": "eleven that need that information would that drive you insane having to copy and",
    "start": "1350489",
    "end": "1356559"
  },
  {
    "text": "paste the same values in the settings all the time I mean cool you could do it and with Helmuth we you start to get partials and",
    "start": "1356559",
    "end": "1363009"
  },
  {
    "text": "things like that and you can kind of use customize but if you use customize then it's more held template pass-through",
    "start": "1363009",
    "end": "1369399"
  },
  {
    "text": "customize pass-through past right I can do it this way it's usable it's",
    "start": "1369399",
    "end": "1375249"
  },
  {
    "text": "manageable I have a secured template set that I know are going to behave the right way and I can put them in place on top of",
    "start": "1375249",
    "end": "1383529"
  },
  {
    "text": "that I can check one place for a broken configuration if you tell me that and",
    "start": "1383529",
    "end": "1388749"
  },
  {
    "text": "hey here's the external and you didn't bother to tell me whether or not you want SSL let alone if there's a password",
    "start": "1388749",
    "end": "1394389"
  },
  {
    "text": "on it I'm probably gonna tell you you're using external postgrads why are you not using a password right this comes into",
    "start": "1394389",
    "end": "1403539"
  },
  {
    "text": "play specifically when it comes to Redis and Postgres I have approached bitNami",
    "start": "1403539",
    "end": "1409450"
  },
  {
    "text": "in coop Khan in Seattle then I met with him again in Barcelona and said look it's nice that I can configure it this",
    "start": "1409450",
    "end": "1416710"
  },
  {
    "text": "way but there's a lot of flight I have to deal with because if I need to set PostgreSQL I have to override this and I",
    "start": "1416710",
    "end": "1423039"
  },
  {
    "text": "have to override this but I don't want to keep maintaining my own Fork first off I have an old Fork second off",
    "start": "1423039",
    "end": "1429070"
  },
  {
    "text": "I'd rather them each make use of the community resources if at all possible so I've worked with them and you will",
    "start": "1429070",
    "end": "1435580"
  },
  {
    "text": "actually see certain things in the global patterns begin to come up in the charts that they're coming into play because they've recognized some of these",
    "start": "1435580",
    "end": "1441609"
  },
  {
    "text": "patterns are useful so hopefully you guys will see that as well I'm not saying everything should be global I am",
    "start": "1441609",
    "end": "1447940"
  },
  {
    "text": "saying if I can configure one set of values once and we can all abide by them it will save everybody a lot of",
    "start": "1447940",
    "end": "1454059"
  },
  {
    "text": "maintenance time",
    "start": "1454059",
    "end": "1456570"
  },
  {
    "start": "1460000",
    "end": "1582000"
  },
  {
    "text": "second this is different we do not put secrets in environment ever I don't care",
    "start": "1460289",
    "end": "1468370"
  },
  {
    "text": "if it's an end from secret key I don't do it I don't do it I don't do it now",
    "start": "1468370",
    "end": "1474330"
  },
  {
    "text": "this stems from the 12th ad to wrap everybody familiar with containerization 12 factor app and all this stuff right",
    "start": "1474330",
    "end": "1481480"
  },
  {
    "text": "I'm getting a bunch of nods a couple of head tilts okay we actually make use of",
    "start": "1481480",
    "end": "1486700"
  },
  {
    "text": "an an it contain er that populates all secret content yes this does mean when the secrets change some of our pods have",
    "start": "1486700",
    "end": "1493419"
  },
  {
    "text": "to be fully restarted instead of allowing it to just be hooked and pick up the new values right now the reason",
    "start": "1493419",
    "end": "1502450"
  },
  {
    "text": "is one of the things that our customers do often is make use of get lab runner get live runner if they're going to use",
    "start": "1502450",
    "end": "1508750"
  },
  {
    "text": "some of their existing workflows includes the use of doctor and doctor doctor and doctor entails the access of",
    "start": "1508750",
    "end": "1514690"
  },
  {
    "text": "what flag in communities privileged what does privilege do it gives you the",
    "start": "1514690",
    "end": "1521890"
  },
  {
    "text": "ability to actually query the underlying runtime this is a problem why because",
    "start": "1521890",
    "end": "1527159"
  },
  {
    "text": "doctor info is something that'll get run",
    "start": "1527159",
    "end": "1532330"
  },
  {
    "text": "and you'll see it run on the API logs all the time but that then contains a huge amount of actual secret data if you",
    "start": "1532330",
    "end": "1540789"
  },
  {
    "text": "put it in the environment so in order to protect our users and prevent bad habits",
    "start": "1540789",
    "end": "1546610"
  },
  {
    "text": "we don't allow environment in secrets ever we instead put a container in place",
    "start": "1546610",
    "end": "1555220"
  },
  {
    "text": "that actually populates those values and then passes them through a ephemeral temp of s over to the running container",
    "start": "1555220",
    "end": "1563340"
  },
  {
    "text": "that allows us to be a little agnostic about where that content comes from so",
    "start": "1563340",
    "end": "1568360"
  },
  {
    "text": "we can use kms we can use vault we can use AWS it doesn't really matter but our",
    "start": "1568360",
    "end": "1574029"
  },
  {
    "text": "application then also doesn't have to change or be knowledgeable of those secrets we can just bam it works so I'm",
    "start": "1574029",
    "end": "1582610"
  },
  {
    "start": "1582000",
    "end": "1652000"
  },
  {
    "text": "almost done and I'll let people ask me all kinds of questions for the rest of the day but I want to say thank you to",
    "start": "1582610",
    "end": "1589419"
  },
  {
    "text": "the maintainer of the other projects that we make heavy use of being nginx and specifically they're",
    "start": "1589419",
    "end": "1597000"
  },
  {
    "text": "reluctant support of TCP connections we really appreciate that you listened to",
    "start": "1597000",
    "end": "1602769"
  },
  {
    "text": "us when we said we really would like to not break all of our users that are using SSH please I will actually be",
    "start": "1602769",
    "end": "1611620"
  },
  {
    "text": "putting forward a patch to make it not reset all TCP balancing when you need to",
    "start": "1611620",
    "end": "1616990"
  },
  {
    "text": "make a change to the ports I want to thank bit Nami for the work that they've done in the major changes to PostgreSQL",
    "start": "1616990",
    "end": "1623740"
  },
  {
    "text": "Redis and upcoming manao that's going to help me significantly because I can",
    "start": "1623740",
    "end": "1629200"
  },
  {
    "text": "please stop forking these things because I'd rather stay closer to mainstream than anything else and especially to jet",
    "start": "1629200",
    "end": "1636070"
  },
  {
    "text": "stack if you guys aren't familiar with jet stack and the things that they do within the community both kubernetes and",
    "start": "1636070",
    "end": "1641500"
  },
  {
    "text": "helm specifically with their work with cert manager I really appreciate the",
    "start": "1641500",
    "end": "1646509"
  },
  {
    "text": "work that they have done the education that they're doing to the users and contributors it's great stuff so with",
    "start": "1646509",
    "end": "1653440"
  },
  {
    "start": "1652000",
    "end": "1837000"
  },
  {
    "text": "the one minute that I have anybody want to get a question on record if not on",
    "start": "1653440",
    "end": "1660549"
  },
  {
    "text": "record you can see me in three minutes it would be cool the question was ever",
    "start": "1660549",
    "end": "1673899"
  },
  {
    "text": "since our public GA how has the adoption been by our gitlab users of the helm",
    "start": "1673899",
    "end": "1679659"
  },
  {
    "text": "charts the adoption is definitely slow but it's not due to the fact that the",
    "start": "1679659",
    "end": "1685360"
  },
  {
    "text": "helm charts are new per se we obviously we have things we need to add to it we need to be better at a certain number of",
    "start": "1685360",
    "end": "1691570"
  },
  {
    "text": "things and we have an open tracker but we have large customers anywhere between a thousand and fifty thousand that are",
    "start": "1691570",
    "end": "1699730"
  },
  {
    "text": "actually making use of the charts I will not tell you that the mainstay of our users are going to be moving to",
    "start": "1699730",
    "end": "1706059"
  },
  {
    "text": "kubernetes anytime soon mostly its customers that already have kubernetes or have a roadmap that includes it and",
    "start": "1706059",
    "end": "1712299"
  },
  {
    "text": "then realized that we have this as an option anybody else quickly",
    "start": "1712299",
    "end": "1720360"
  },
  {
    "text": "the question is with all of those charts how painful is it to go through all that yeah Moe as a developer I'm quite",
    "start": "1723980",
    "end": "1730110"
  },
  {
    "text": "familiar with it the easiest way is honestly to run home templates on the output and then search for the known",
    "start": "1730110",
    "end": "1736350"
  },
  {
    "text": "path of where the things coming from but if you output the whole thing and actually try to manually read 6000 plus",
    "start": "1736350",
    "end": "1742860"
  },
  {
    "text": "lines of yamo yeah your your eyes are gonna hurt after a little bit you need to know which section you're looking for",
    "start": "1742860",
    "end": "1748350"
  },
  {
    "text": "hundred percent",
    "start": "1748350",
    "end": "1751340"
  },
  {
    "text": "so the question was if I already have existing infrastructure example cert",
    "start": "1762089",
    "end": "1767169"
  },
  {
    "text": "manager nginx and a post-grad for example what should they make use of the",
    "start": "1767169",
    "end": "1773440"
  },
  {
    "text": "chart is designed componentized it's designed to be deployed as a whole but",
    "start": "1773440",
    "end": "1779019"
  },
  {
    "text": "again because we have to roll over every single component is interchangeable we actually have documentation in place",
    "start": "1779019",
    "end": "1784929"
  },
  {
    "text": "to use an external cert manager and external nginx or traffic as well as external postgrads",
    "start": "1784929",
    "end": "1790779"
  },
  {
    "text": "object storage Redis even to out mode any particular state data because",
    "start": "1790779",
    "end": "1796779"
  },
  {
    "text": "postgrads was not stateful ready when we started this work and our giddily",
    "start": "1796779",
    "end": "1803469"
  },
  {
    "text": "service which is an RPC network service forget this is something that often",
    "start": "1803469",
    "end": "1809440"
  },
  {
    "text": "people actually run outside so they can make safe use of NFS to do replication",
    "start": "1809440",
    "end": "1814649"
  },
  {
    "text": "so it's literally flags as a couple of values yeah okay I believe I am stuck to",
    "start": "1814649",
    "end": "1822940"
  },
  {
    "text": "time so thank you everybody for coming out [Applause]",
    "start": "1822940",
    "end": "1832089"
  },
  {
    "text": "[Music]",
    "start": "1835210",
    "end": "1838319"
  }
]