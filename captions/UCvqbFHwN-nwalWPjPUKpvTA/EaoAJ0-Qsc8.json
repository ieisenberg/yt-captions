[
  {
    "start": "0",
    "end": "0"
  },
  {
    "text": "hello i'm cornelius and i will be",
    "start": "1199",
    "end": "3439"
  },
  {
    "text": "talking about measuring magnetic network",
    "start": "3439",
    "end": "5520"
  },
  {
    "text": "performance",
    "start": "5520",
    "end": "7200"
  },
  {
    "text": "i am a software engineer at suvelant",
    "start": "7200",
    "end": "9519"
  },
  {
    "text": "where i work on cilium which is a",
    "start": "9519",
    "end": "12160"
  },
  {
    "text": "network observability and security",
    "start": "12160",
    "end": "14719"
  },
  {
    "text": "platform for container environments such",
    "start": "14719",
    "end": "17119"
  },
  {
    "text": "as kubernetes",
    "start": "17119",
    "end": "18800"
  },
  {
    "text": "we implement celium",
    "start": "18800",
    "end": "20880"
  },
  {
    "text": "by extensively using ebpf but this talk",
    "start": "20880",
    "end": "24960"
  },
  {
    "text": "is not about celium or ebpf",
    "start": "24960",
    "end": "28000"
  },
  {
    "text": "in the ceiling team we spend a lot of",
    "start": "28000",
    "end": "29679"
  },
  {
    "text": "time evaluating network performance",
    "start": "29679",
    "end": "32000"
  },
  {
    "text": "identifying bottlenecks and fixing them",
    "start": "32000",
    "end": "34640"
  },
  {
    "text": "so in this talk i would like to offer",
    "start": "34640",
    "end": "37520"
  },
  {
    "text": "some practical advice for practitioners",
    "start": "37520",
    "end": "39920"
  },
  {
    "text": "who also want to evaluate the network",
    "start": "39920",
    "end": "42160"
  },
  {
    "text": "performance of the kubernetes cluster",
    "start": "42160",
    "end": "46079"
  },
  {
    "start": "46000",
    "end": "46000"
  },
  {
    "text": "and i will start by discussing potential",
    "start": "46079",
    "end": "49440"
  },
  {
    "text": "motivations for doing so",
    "start": "49440",
    "end": "52399"
  },
  {
    "text": "performance valuation is really useful",
    "start": "52399",
    "end": "54320"
  },
  {
    "text": "for asserting or disproving assumptions",
    "start": "54320",
    "end": "57199"
  },
  {
    "text": "for example",
    "start": "57199",
    "end": "59840"
  },
  {
    "text": "it can be used to verify that using more",
    "start": "60239",
    "end": "62480"
  },
  {
    "text": "expensive machines with better network",
    "start": "62480",
    "end": "64640"
  },
  {
    "text": "cards will actually improve",
    "start": "64640",
    "end": "66799"
  },
  {
    "text": "application performance",
    "start": "66799",
    "end": "68880"
  },
  {
    "text": "and going even further it can also check",
    "start": "68880",
    "end": "72799"
  },
  {
    "text": "or verify that the benefit the",
    "start": "72799",
    "end": "75680"
  },
  {
    "text": "performance benefit that applications",
    "start": "75680",
    "end": "77920"
  },
  {
    "text": "will get will actually justify the",
    "start": "77920",
    "end": "80560"
  },
  {
    "text": "additional cost of acquiring this new",
    "start": "80560",
    "end": "82799"
  },
  {
    "text": "hardware",
    "start": "82799",
    "end": "84960"
  },
  {
    "text": "on a related topic evaluation can be",
    "start": "84960",
    "end": "88000"
  },
  {
    "text": "used to offer concrete and objective",
    "start": "88000",
    "end": "90479"
  },
  {
    "text": "arguments for making technical choices",
    "start": "90479",
    "end": "93040"
  },
  {
    "text": "for example if an organization wants to",
    "start": "93040",
    "end": "96079"
  },
  {
    "text": "select a cloud provider and data",
    "start": "96079",
    "end": "98640"
  },
  {
    "text": "performance is a factor in this decision",
    "start": "98640",
    "end": "102799"
  },
  {
    "text": "evaluation can be used",
    "start": "102799",
    "end": "104960"
  },
  {
    "text": "to actually quantify the different",
    "start": "104960",
    "end": "107920"
  },
  {
    "text": "tradeoffs between the different cloud",
    "start": "107920",
    "end": "110240"
  },
  {
    "text": "providers and also um",
    "start": "110240",
    "end": "115600"
  },
  {
    "text": "try to",
    "start": "115600",
    "end": "117280"
  },
  {
    "text": "do the experiment considering what are",
    "start": "117280",
    "end": "120479"
  },
  {
    "text": "the unique needs or workloads for this",
    "start": "120479",
    "end": "123600"
  },
  {
    "text": "specific organization",
    "start": "123600",
    "end": "125920"
  },
  {
    "text": "and finally evaluation can help with",
    "start": "125920",
    "end": "128959"
  },
  {
    "text": "better understanding your platform for",
    "start": "128959",
    "end": "131120"
  },
  {
    "text": "example if there are applications that",
    "start": "131120",
    "end": "133520"
  },
  {
    "text": "exhibit random delays in communication",
    "start": "133520",
    "end": "136720"
  },
  {
    "text": "you can use evaluation to try to figure",
    "start": "136720",
    "end": "139200"
  },
  {
    "text": "out whether this is a network problem or",
    "start": "139200",
    "end": "141360"
  },
  {
    "text": "something else",
    "start": "141360",
    "end": "142879"
  },
  {
    "text": "is going on",
    "start": "142879",
    "end": "144400"
  },
  {
    "text": "and generally speaking playing with",
    "start": "144400",
    "end": "147360"
  },
  {
    "text": "benchmarks it's a great way to",
    "start": "147360",
    "end": "149040"
  },
  {
    "text": "understand your infrastructure",
    "start": "149040",
    "end": "152480"
  },
  {
    "text": "the problem is that benchmarking is a",
    "start": "152959",
    "end": "155599"
  },
  {
    "text": "really hard process and kubernetes",
    "start": "155599",
    "end": "158000"
  },
  {
    "text": "network benchmarking even more so",
    "start": "158000",
    "end": "161040"
  },
  {
    "text": "and the reason for that is that there",
    "start": "161040",
    "end": "163760"
  },
  {
    "start": "163000",
    "end": "163000"
  },
  {
    "text": "are many different layers involved in",
    "start": "163760",
    "end": "166319"
  },
  {
    "text": "making",
    "start": "166319",
    "end": "167360"
  },
  {
    "text": "for example two kubernetes",
    "start": "167360",
    "end": "170080"
  },
  {
    "text": "boards talk to each other",
    "start": "170080",
    "end": "172640"
  },
  {
    "text": "first there is a network itself",
    "start": "172640",
    "end": "175120"
  },
  {
    "text": "which in many cases",
    "start": "175120",
    "end": "177200"
  },
  {
    "text": "might have an unknown topology",
    "start": "177200",
    "end": "179599"
  },
  {
    "text": "and also it might be used by multiple",
    "start": "179599",
    "end": "182640"
  },
  {
    "text": "different users having different",
    "start": "182640",
    "end": "184720"
  },
  {
    "text": "workloads and this means that",
    "start": "184720",
    "end": "186720"
  },
  {
    "text": "performance might vary between",
    "start": "186720",
    "end": "190640"
  },
  {
    "text": "different times or even depending on",
    "start": "190640",
    "end": "193200"
  },
  {
    "text": "where the machine is located",
    "start": "193200",
    "end": "196560"
  },
  {
    "text": "furthermore uh the nik",
    "start": "196560",
    "end": "199440"
  },
  {
    "text": "or the network interface card which is",
    "start": "199440",
    "end": "201519"
  },
  {
    "text": "the part",
    "start": "201519",
    "end": "202800"
  },
  {
    "text": "the hardware piece that connects a",
    "start": "202800",
    "end": "204640"
  },
  {
    "text": "machine to the network",
    "start": "204640",
    "end": "206319"
  },
  {
    "text": "is a very complicated piece of hardware",
    "start": "206319",
    "end": "208959"
  },
  {
    "text": "and it includes a number of",
    "start": "208959",
    "end": "212720"
  },
  {
    "text": "optimizations",
    "start": "212720",
    "end": "214239"
  },
  {
    "text": "that are responsible for",
    "start": "214239",
    "end": "216879"
  },
  {
    "text": "providing good performance just to give",
    "start": "216879",
    "end": "219200"
  },
  {
    "text": "some examples",
    "start": "219200",
    "end": "220720"
  },
  {
    "text": "this includes multiple unique hardware",
    "start": "220720",
    "end": "223440"
  },
  {
    "text": "cues",
    "start": "223440",
    "end": "224319"
  },
  {
    "text": "receive such scaling protocol exam",
    "start": "224319",
    "end": "227120"
  },
  {
    "text": "offload hardware segmentation offload",
    "start": "227120",
    "end": "229519"
  },
  {
    "text": "interrupt coalescing and a bunch of",
    "start": "229519",
    "end": "231200"
  },
  {
    "text": "others and all of these optimizations",
    "start": "231200",
    "end": "233920"
  },
  {
    "text": "need to properly work in order to get",
    "start": "233920",
    "end": "237599"
  },
  {
    "text": "the best performance you can out of your",
    "start": "237599",
    "end": "239280"
  },
  {
    "text": "kubernetes network",
    "start": "239280",
    "end": "242239"
  },
  {
    "text": "another",
    "start": "242239",
    "end": "244799"
  },
  {
    "text": "factor is that the",
    "start": "244799",
    "end": "248080"
  },
  {
    "text": "host machine",
    "start": "248080",
    "end": "249599"
  },
  {
    "text": "might not be a physical machine but",
    "start": "249599",
    "end": "251840"
  },
  {
    "text": "actually a virtual machine a vm and",
    "start": "251840",
    "end": "255120"
  },
  {
    "text": "this vm would share the node hardware",
    "start": "255120",
    "end": "258079"
  },
  {
    "text": "with other virtual machines which",
    "start": "258079",
    "end": "260320"
  },
  {
    "text": "introduces additional complications when",
    "start": "260320",
    "end": "263040"
  },
  {
    "text": "trying to evaluate performance",
    "start": "263040",
    "end": "266240"
  },
  {
    "text": "going further up the stack there is the",
    "start": "266240",
    "end": "269199"
  },
  {
    "text": "host",
    "start": "269199",
    "end": "270320"
  },
  {
    "text": "network stack which includes everything",
    "start": "270320",
    "end": "272639"
  },
  {
    "text": "from the nic driver to the protocol",
    "start": "272639",
    "end": "275360"
  },
  {
    "text": "processing stack",
    "start": "275360",
    "end": "276880"
  },
  {
    "text": "and this is also a layer which has a lot",
    "start": "276880",
    "end": "279199"
  },
  {
    "text": "of different optimizations such as",
    "start": "279199",
    "end": "281919"
  },
  {
    "text": "polling",
    "start": "281919",
    "end": "282960"
  },
  {
    "text": "such as segmentation of load implemented",
    "start": "282960",
    "end": "285199"
  },
  {
    "text": "in software and things like fast",
    "start": "285199",
    "end": "288240"
  },
  {
    "text": "packet forwarding between different",
    "start": "288240",
    "end": "289919"
  },
  {
    "text": "devices which is really important for",
    "start": "289919",
    "end": "293040"
  },
  {
    "text": "kubernetes",
    "start": "293040",
    "end": "294840"
  },
  {
    "text": "networks and again all of these",
    "start": "294840",
    "end": "297199"
  },
  {
    "text": "optimizations are needed in order to",
    "start": "297199",
    "end": "299680"
  },
  {
    "text": "guarantee good performance",
    "start": "299680",
    "end": "301680"
  },
  {
    "text": "and",
    "start": "301680",
    "end": "303520"
  },
  {
    "text": "how they interact with the hardware or",
    "start": "303520",
    "end": "305440"
  },
  {
    "text": "with other layers it's not always",
    "start": "305440",
    "end": "307600"
  },
  {
    "text": "obvious",
    "start": "307600",
    "end": "309360"
  },
  {
    "text": "and finally",
    "start": "309360",
    "end": "311039"
  },
  {
    "text": "there is the piece of software that",
    "start": "311039",
    "end": "313440"
  },
  {
    "text": "implements the kubernetes network",
    "start": "313440",
    "end": "315280"
  },
  {
    "text": "abstractions",
    "start": "315280",
    "end": "316479"
  },
  {
    "text": "and so these are things like pods and",
    "start": "316479",
    "end": "319199"
  },
  {
    "text": "services load balancing security",
    "start": "319199",
    "end": "321840"
  },
  {
    "text": "policies and so on so forth and this",
    "start": "321840",
    "end": "325120"
  },
  {
    "text": "piece",
    "start": "325120",
    "end": "326080"
  },
  {
    "text": "of software uses mechanisms such as",
    "start": "326080",
    "end": "328880"
  },
  {
    "text": "connection tracking or address",
    "start": "328880",
    "end": "330639"
  },
  {
    "text": "translations",
    "start": "330639",
    "end": "332080"
  },
  {
    "text": "that complicate",
    "start": "332080",
    "end": "333600"
  },
  {
    "text": "packet processing further",
    "start": "333600",
    "end": "336720"
  },
  {
    "text": "so",
    "start": "336720",
    "end": "337600"
  },
  {
    "text": "to summarize the hardware and software",
    "start": "337600",
    "end": "340160"
  },
  {
    "text": "stacks that implement a modern",
    "start": "340160",
    "end": "343440"
  },
  {
    "text": "kubernetes network are extremely",
    "start": "343440",
    "end": "345520"
  },
  {
    "text": "complicated and this makes performance",
    "start": "345520",
    "end": "347919"
  },
  {
    "text": "valuation a really challenging process",
    "start": "347919",
    "end": "351360"
  },
  {
    "start": "351000",
    "end": "351000"
  },
  {
    "text": "so now that i've talked about the",
    "start": "351360",
    "end": "353600"
  },
  {
    "text": "challenges i'll talk a bit about the",
    "start": "353600",
    "end": "356240"
  },
  {
    "text": "evaluation process from a high level",
    "start": "356240",
    "end": "358240"
  },
  {
    "text": "perspective",
    "start": "358240",
    "end": "359600"
  },
  {
    "text": "and i find it useful to think of this as",
    "start": "359600",
    "end": "362000"
  },
  {
    "text": "a",
    "start": "362000",
    "end": "362639"
  },
  {
    "text": "series of steps starting with setting",
    "start": "362639",
    "end": "365680"
  },
  {
    "text": "the goal for this evaluation",
    "start": "365680",
    "end": "367840"
  },
  {
    "text": "then defining the setup and this",
    "start": "367840",
    "end": "370479"
  },
  {
    "text": "includes things like the workload or the",
    "start": "370479",
    "end": "373360"
  },
  {
    "text": "metrics that we want to monitor or",
    "start": "373360",
    "end": "376560"
  },
  {
    "text": "generally speaking the system",
    "start": "376560",
    "end": "377759"
  },
  {
    "text": "configuration",
    "start": "377759",
    "end": "379039"
  },
  {
    "text": "while we have defined the setup we can",
    "start": "379039",
    "end": "381199"
  },
  {
    "text": "move forward and do the experiment and",
    "start": "381199",
    "end": "384479"
  },
  {
    "text": "get the results that we can evaluate",
    "start": "384479",
    "end": "387600"
  },
  {
    "text": "an important",
    "start": "387600",
    "end": "389360"
  },
  {
    "text": "thing here is to try and treat this as",
    "start": "389360",
    "end": "393600"
  },
  {
    "text": "iterative process",
    "start": "393600",
    "end": "395919"
  },
  {
    "text": "where you evaluate results and then go",
    "start": "395919",
    "end": "398160"
  },
  {
    "text": "back into other experiments to kind of",
    "start": "398160",
    "end": "400240"
  },
  {
    "text": "refine your understanding and improve",
    "start": "400240",
    "end": "402240"
  },
  {
    "text": "your understanding",
    "start": "402240",
    "end": "403680"
  },
  {
    "text": "rather than a thing that you do once and",
    "start": "403680",
    "end": "406160"
  },
  {
    "text": "you are done with",
    "start": "406160",
    "end": "409440"
  },
  {
    "start": "409000",
    "end": "409000"
  },
  {
    "text": "now i'll talk a bit about the",
    "start": "409440",
    "end": "411840"
  },
  {
    "text": "setting and evaluation goal and while",
    "start": "411840",
    "end": "414080"
  },
  {
    "text": "this might be",
    "start": "414080",
    "end": "416319"
  },
  {
    "text": "might sound simple it is really",
    "start": "416319",
    "end": "418400"
  },
  {
    "text": "important that each evaluation",
    "start": "418400",
    "end": "420880"
  },
  {
    "text": "strives to answer a question and the",
    "start": "420880",
    "end": "422880"
  },
  {
    "text": "more specific the question the better",
    "start": "422880",
    "end": "425440"
  },
  {
    "text": "and it's even better if the answer to",
    "start": "425440",
    "end": "427759"
  },
  {
    "text": "the question",
    "start": "427759",
    "end": "429120"
  },
  {
    "text": "will lead to a specific decision so that",
    "start": "429120",
    "end": "430960"
  },
  {
    "text": "you can move forward in whatever your",
    "start": "430960",
    "end": "432800"
  },
  {
    "text": "goal is",
    "start": "432800",
    "end": "434240"
  },
  {
    "text": "another thing that i find useful is to",
    "start": "434240",
    "end": "436479"
  },
  {
    "text": "try and set an expectation of the result",
    "start": "436479",
    "end": "440080"
  },
  {
    "text": "for the evaluation and this might be",
    "start": "440080",
    "end": "442000"
  },
  {
    "text": "verified or not but",
    "start": "442000",
    "end": "444400"
  },
  {
    "text": "i find it really useful to think about",
    "start": "444400",
    "end": "446800"
  },
  {
    "text": "the sort of thing",
    "start": "446800",
    "end": "448800"
  },
  {
    "text": "about sort of things proactively",
    "start": "448800",
    "end": "452400"
  },
  {
    "text": "um",
    "start": "452400",
    "end": "452880"
  },
  {
    "text": "[Music]",
    "start": "452880",
    "end": "454400"
  },
  {
    "text": "during this talk i'll mention a couple",
    "start": "454400",
    "end": "456720"
  },
  {
    "text": "of pitfalls uh that i think people",
    "start": "456720",
    "end": "459360"
  },
  {
    "text": "should keep in mind when trying to",
    "start": "459360",
    "end": "460880"
  },
  {
    "text": "evaluate kubernetes network",
    "start": "460880",
    "end": "462840"
  },
  {
    "text": "performance and one of them it's uh",
    "start": "462840",
    "end": "466639"
  },
  {
    "text": "is that it's really easy to get booked",
    "start": "466639",
    "end": "468240"
  },
  {
    "text": "down in details due to complexity as",
    "start": "468240",
    "end": "470639"
  },
  {
    "text": "i've mentioned before the hardware",
    "start": "470639",
    "end": "472639"
  },
  {
    "text": "software stacks are really complicated",
    "start": "472639",
    "end": "475039"
  },
  {
    "text": "and it's easy and sometimes it's also",
    "start": "475039",
    "end": "477039"
  },
  {
    "text": "interesting try to figure out exactly",
    "start": "477039",
    "end": "478720"
  },
  {
    "text": "what's going on on every different",
    "start": "478720",
    "end": "480160"
  },
  {
    "text": "player",
    "start": "480160",
    "end": "481280"
  },
  {
    "text": "so",
    "start": "481280",
    "end": "482639"
  },
  {
    "text": "it's really important to try to focus",
    "start": "482639",
    "end": "484720"
  },
  {
    "text": "your efforts and keep things as simple",
    "start": "484720",
    "end": "487520"
  },
  {
    "text": "as possible so that you can get",
    "start": "487520",
    "end": "488800"
  },
  {
    "text": "meaningful results and then iterate and",
    "start": "488800",
    "end": "491360"
  },
  {
    "text": "refine your understanding so this is",
    "start": "491360",
    "end": "493360"
  },
  {
    "text": "something to watch out for",
    "start": "493360",
    "end": "496400"
  },
  {
    "text": "now",
    "start": "496400",
    "end": "497680"
  },
  {
    "text": "um",
    "start": "497680",
    "end": "498639"
  },
  {
    "text": "i will try to",
    "start": "498639",
    "end": "500879"
  },
  {
    "text": "uh",
    "start": "500879",
    "end": "503120"
  },
  {
    "text": "mention some examples of what do i mean",
    "start": "503199",
    "end": "505840"
  },
  {
    "text": "by a question",
    "start": "505840",
    "end": "507599"
  },
  {
    "text": "that an evaluation should try to answer",
    "start": "507599",
    "end": "510479"
  },
  {
    "text": "so",
    "start": "510479",
    "end": "511680"
  },
  {
    "text": "an example of such a question might be",
    "start": "511680",
    "end": "513760"
  },
  {
    "text": "how does saline perform but this is not",
    "start": "513760",
    "end": "516399"
  },
  {
    "text": "a very useful question because it",
    "start": "516399",
    "end": "518240"
  },
  {
    "text": "doesn't really say much about how to",
    "start": "518240",
    "end": "520959"
  },
  {
    "text": "design the experiment and what to do",
    "start": "520959",
    "end": "522959"
  },
  {
    "text": "with it",
    "start": "522959",
    "end": "523919"
  },
  {
    "text": "instead if i say what is the performance",
    "start": "523919",
    "end": "526560"
  },
  {
    "text": "overhead introduced by celium for two",
    "start": "526560",
    "end": "528800"
  },
  {
    "text": "project changing tcp messages that is a",
    "start": "528800",
    "end": "531519"
  },
  {
    "text": "much better question that can help the",
    "start": "531519",
    "end": "533120"
  },
  {
    "text": "guide design the experiment",
    "start": "533120",
    "end": "537200"
  },
  {
    "text": "so",
    "start": "537760",
    "end": "539200"
  },
  {
    "text": "one",
    "start": "539200",
    "end": "540080"
  },
  {
    "text": "big part of",
    "start": "540080",
    "end": "542399"
  },
  {
    "text": "benchmarking networks is the workload",
    "start": "542399",
    "end": "544959"
  },
  {
    "text": "then specifically",
    "start": "544959",
    "end": "546399"
  },
  {
    "text": "the network traffic that we apply to do",
    "start": "546399",
    "end": "550000"
  },
  {
    "text": "the experiment",
    "start": "550000",
    "end": "551519"
  },
  {
    "text": "and this includes different dimensions",
    "start": "551519",
    "end": "554080"
  },
  {
    "text": "for example it includes the",
    "start": "554080",
    "end": "555440"
  },
  {
    "text": "communication pattern it includes the",
    "start": "555440",
    "end": "557760"
  },
  {
    "text": "protocol which can be either",
    "start": "557760",
    "end": "559600"
  },
  {
    "text": "udp or tcp or even layer seven protocols",
    "start": "559600",
    "end": "563200"
  },
  {
    "text": "such as http",
    "start": "563200",
    "end": "564959"
  },
  {
    "text": "but also what are the different",
    "start": "564959",
    "end": "566240"
  },
  {
    "text": "endpoints that talk to each other for",
    "start": "566240",
    "end": "568080"
  },
  {
    "text": "example",
    "start": "568080",
    "end": "569360"
  },
  {
    "text": "is it portrait pod is it brought to host",
    "start": "569360",
    "end": "572000"
  },
  {
    "text": "is it pod to service or what have you",
    "start": "572000",
    "end": "576240"
  },
  {
    "text": "and um another kind of common pitfall",
    "start": "576240",
    "end": "579360"
  },
  {
    "text": "here that is really important to keep in",
    "start": "579360",
    "end": "581519"
  },
  {
    "text": "mind is that",
    "start": "581519",
    "end": "583440"
  },
  {
    "text": "while benchmarks with artificial",
    "start": "583440",
    "end": "585519"
  },
  {
    "text": "workloads are definitely useful and i'm",
    "start": "585519",
    "end": "587760"
  },
  {
    "text": "going to talk a bit more about this sort",
    "start": "587760",
    "end": "589600"
  },
  {
    "text": "of benchmarks in the subsequent slides",
    "start": "589600",
    "end": "592320"
  },
  {
    "text": "it's really important to keep in mind",
    "start": "592320",
    "end": "594000"
  },
  {
    "text": "that they do not paint the full picture",
    "start": "594000",
    "end": "597839"
  },
  {
    "text": "in terms of production workloads so in",
    "start": "597839",
    "end": "600080"
  },
  {
    "text": "production",
    "start": "600080",
    "end": "601360"
  },
  {
    "text": "things are much more complicated",
    "start": "601360",
    "end": "603680"
  },
  {
    "text": "and so",
    "start": "603680",
    "end": "605360"
  },
  {
    "text": "when doing this artificial workload",
    "start": "605360",
    "end": "607200"
  },
  {
    "text": "benchmarks it's really important to keep",
    "start": "607200",
    "end": "609519"
  },
  {
    "text": "this in mind and there is",
    "start": "609519",
    "end": "611360"
  },
  {
    "text": "a very kind of delicate balance between",
    "start": "611360",
    "end": "614079"
  },
  {
    "text": "kind of keep things simple so that you",
    "start": "614079",
    "end": "615920"
  },
  {
    "text": "can make",
    "start": "615920",
    "end": "618480"
  },
  {
    "text": "assessments but also",
    "start": "619120",
    "end": "621279"
  },
  {
    "text": "you know not getting too carried away",
    "start": "621279",
    "end": "624079"
  },
  {
    "text": "in terms of having",
    "start": "624079",
    "end": "626640"
  },
  {
    "text": "of expectation of having expectations",
    "start": "626640",
    "end": "629040"
  },
  {
    "text": "with respect to actual protection",
    "start": "629040",
    "end": "631040"
  },
  {
    "text": "workloads",
    "start": "631040",
    "end": "633519"
  },
  {
    "start": "633000",
    "end": "633000"
  },
  {
    "text": "so um i'll",
    "start": "633519",
    "end": "635839"
  },
  {
    "text": "start talking a bit about some different",
    "start": "635839",
    "end": "638560"
  },
  {
    "text": "communication patterns",
    "start": "638560",
    "end": "640320"
  },
  {
    "text": "i'll",
    "start": "640320",
    "end": "641279"
  },
  {
    "text": "to to make the com the examples a bit",
    "start": "641279",
    "end": "643279"
  },
  {
    "text": "more concrete i'll talk about multiple",
    "start": "643279",
    "end": "645680"
  },
  {
    "text": "communication using",
    "start": "645680",
    "end": "647360"
  },
  {
    "text": "tcp",
    "start": "647360",
    "end": "648720"
  },
  {
    "text": "but many of the patterns that i took",
    "start": "648720",
    "end": "651279"
  },
  {
    "text": "about here can be",
    "start": "651279",
    "end": "654000"
  },
  {
    "text": "expanded into other kind of protocols or",
    "start": "654000",
    "end": "657040"
  },
  {
    "text": "other situations as well",
    "start": "657040",
    "end": "659440"
  },
  {
    "text": "so probably the most popular benchmark",
    "start": "659440",
    "end": "661519"
  },
  {
    "text": "is the one where one can find point a",
    "start": "661519",
    "end": "664320"
  },
  {
    "text": "pod in this case tries to push as much",
    "start": "664320",
    "end": "667680"
  },
  {
    "text": "traffic as possible to another boat and",
    "start": "667680",
    "end": "670399"
  },
  {
    "text": "in this case traffic goes",
    "start": "670399",
    "end": "672880"
  },
  {
    "text": "over",
    "start": "672880",
    "end": "673920"
  },
  {
    "text": "goes",
    "start": "673920",
    "end": "674880"
  },
  {
    "text": "over only one direction at least the",
    "start": "674880",
    "end": "677360"
  },
  {
    "text": "user traffic because there are also",
    "start": "677360",
    "end": "679600"
  },
  {
    "text": "acknowledge",
    "start": "679600",
    "end": "680880"
  },
  {
    "text": "packets that go the other way but this",
    "start": "680880",
    "end": "683279"
  },
  {
    "text": "is not part of the user traffic",
    "start": "683279",
    "end": "686240"
  },
  {
    "text": "and so the metric for this benchmark is",
    "start": "686240",
    "end": "689040"
  },
  {
    "text": "measuring how much uh bytes you can push",
    "start": "689040",
    "end": "692160"
  },
  {
    "text": "on",
    "start": "692160",
    "end": "693120"
  },
  {
    "text": "on the on a time of unit for example",
    "start": "693120",
    "end": "695040"
  },
  {
    "text": "bytes per second",
    "start": "695040",
    "end": "697279"
  },
  {
    "text": "and there are many optimizations that",
    "start": "697279",
    "end": "699040"
  },
  {
    "text": "target this particular workload such as",
    "start": "699040",
    "end": "701600"
  },
  {
    "text": "segmentation offload the interrupt",
    "start": "701600",
    "end": "703279"
  },
  {
    "text": "coalescing and also things like jumbo",
    "start": "703279",
    "end": "706000"
  },
  {
    "text": "frames",
    "start": "706000",
    "end": "707760"
  },
  {
    "text": "and while this is one of the most common",
    "start": "707760",
    "end": "710480"
  },
  {
    "text": "benchmarks",
    "start": "710480",
    "end": "711920"
  },
  {
    "text": "people tend to use",
    "start": "711920",
    "end": "713760"
  },
  {
    "text": "it's",
    "start": "713760",
    "end": "714639"
  },
  {
    "text": "useful to keep in mind that it might not",
    "start": "714639",
    "end": "717600"
  },
  {
    "text": "be representative of the workload that",
    "start": "717600",
    "end": "720079"
  },
  {
    "text": "your applications",
    "start": "720079",
    "end": "721920"
  },
  {
    "text": "have",
    "start": "721920",
    "end": "723040"
  },
  {
    "text": "and if your applications",
    "start": "723040",
    "end": "725279"
  },
  {
    "text": "frequently exchange large files then",
    "start": "725279",
    "end": "727920"
  },
  {
    "text": "sure that's a very useful workload to",
    "start": "727920",
    "end": "731120"
  },
  {
    "text": "keep in mind but if your applications",
    "start": "731120",
    "end": "733839"
  },
  {
    "text": "exchange small messages as i don't know",
    "start": "733839",
    "end": "737440"
  },
  {
    "text": "many microservice applications would do",
    "start": "737440",
    "end": "740240"
  },
  {
    "text": "then this is probably not a good",
    "start": "740240",
    "end": "742839"
  },
  {
    "text": "workload uh to kind of",
    "start": "742839",
    "end": "745680"
  },
  {
    "text": "study or understand the performance of",
    "start": "745680",
    "end": "747839"
  },
  {
    "text": "your network",
    "start": "747839",
    "end": "749839"
  },
  {
    "text": "instead for applications that exchange",
    "start": "749839",
    "end": "752399"
  },
  {
    "text": "messages",
    "start": "752399",
    "end": "753519"
  },
  {
    "text": "this echo reply pattern is much better",
    "start": "753519",
    "end": "756720"
  },
  {
    "text": "and in its simplest form",
    "start": "756720",
    "end": "759200"
  },
  {
    "text": "this is a pod sending a message to",
    "start": "759200",
    "end": "762000"
  },
  {
    "text": "another pod and then waiting for the",
    "start": "762000",
    "end": "763920"
  },
  {
    "text": "reply and then sending another message",
    "start": "763920",
    "end": "766240"
  },
  {
    "text": "and so on so forth",
    "start": "766240",
    "end": "767920"
  },
  {
    "text": "and we do this for a number of times and",
    "start": "767920",
    "end": "770839"
  },
  {
    "text": "then we",
    "start": "770839",
    "end": "774160"
  },
  {
    "text": "record the round trip latency of these",
    "start": "774240",
    "end": "778160"
  },
  {
    "text": "requests and replies and we can do",
    "start": "778160",
    "end": "780399"
  },
  {
    "text": "meaningful statistics on them such as",
    "start": "780399",
    "end": "782639"
  },
  {
    "text": "the median latency or even the tail",
    "start": "782639",
    "end": "785279"
  },
  {
    "text": "latency uh such as the 99.9 percentile",
    "start": "785279",
    "end": "789360"
  },
  {
    "text": "latency",
    "start": "789360",
    "end": "790720"
  },
  {
    "text": "and one thing to keep in mind uh here in",
    "start": "790720",
    "end": "794000"
  },
  {
    "text": "terms of optimizations",
    "start": "794000",
    "end": "795920"
  },
  {
    "text": "is that many of the optimizations",
    "start": "795920",
    "end": "798320"
  },
  {
    "text": "that we talked on the previous",
    "start": "798320",
    "end": "801120"
  },
  {
    "text": "stream benchmark",
    "start": "801120",
    "end": "802720"
  },
  {
    "text": "not only they do not help in this",
    "start": "802720",
    "end": "804639"
  },
  {
    "text": "particular case but they can also be",
    "start": "804639",
    "end": "807200"
  },
  {
    "text": "detrimental",
    "start": "807200",
    "end": "809360"
  },
  {
    "text": "so from a high level",
    "start": "809360",
    "end": "811440"
  },
  {
    "text": "uh kind of point of view the thing to",
    "start": "811440",
    "end": "813519"
  },
  {
    "text": "keep in mind is that",
    "start": "813519",
    "end": "815440"
  },
  {
    "text": "it's not a common it's not uncommon for",
    "start": "815440",
    "end": "817760"
  },
  {
    "text": "optimizations for bandwidth and",
    "start": "817760",
    "end": "819920"
  },
  {
    "text": "throughput",
    "start": "819920",
    "end": "821040"
  },
  {
    "text": "to hurt",
    "start": "821040",
    "end": "823680"
  },
  {
    "text": "performance",
    "start": "823839",
    "end": "825199"
  },
  {
    "text": "for",
    "start": "825199",
    "end": "826000"
  },
  {
    "text": "latency critical workloads and vice",
    "start": "826000",
    "end": "828720"
  },
  {
    "text": "versa so",
    "start": "828720",
    "end": "831440"
  },
  {
    "text": "optimizations are in many cases",
    "start": "831440",
    "end": "833839"
  },
  {
    "text": "depending on the type of workload that",
    "start": "833839",
    "end": "835440"
  },
  {
    "text": "you're trying",
    "start": "835440",
    "end": "836560"
  },
  {
    "text": "to uh to apply to your network",
    "start": "836560",
    "end": "840480"
  },
  {
    "text": "and",
    "start": "840480",
    "end": "841440"
  },
  {
    "start": "841000",
    "end": "841000"
  },
  {
    "text": "a generalization of the second reply",
    "start": "841440",
    "end": "844560"
  },
  {
    "text": "workload is instead of one to have",
    "start": "844560",
    "end": "847600"
  },
  {
    "text": "multiple requests in flight and this uh",
    "start": "847600",
    "end": "851279"
  },
  {
    "text": "sometimes is referred as the best as the",
    "start": "851279",
    "end": "854160"
  },
  {
    "text": "burst",
    "start": "854160",
    "end": "855920"
  },
  {
    "text": "parameter and in this example i'm using",
    "start": "855920",
    "end": "858880"
  },
  {
    "text": "five",
    "start": "858880",
    "end": "860320"
  },
  {
    "text": "and this means that that at any point in",
    "start": "860320",
    "end": "862959"
  },
  {
    "text": "time there are five either requests or",
    "start": "862959",
    "end": "865839"
  },
  {
    "text": "replies in flight",
    "start": "865839",
    "end": "868959"
  },
  {
    "text": "and using this variation we can now",
    "start": "868959",
    "end": "872000"
  },
  {
    "text": "start thinking uh about throughput in",
    "start": "872000",
    "end": "875120"
  },
  {
    "text": "terms of requests per second in addition",
    "start": "875120",
    "end": "878399"
  },
  {
    "text": "to the latency that we've discussed",
    "start": "878399",
    "end": "880880"
  },
  {
    "text": "before",
    "start": "880880",
    "end": "882240"
  },
  {
    "text": "and again other optimizations now that",
    "start": "882240",
    "end": "885279"
  },
  {
    "text": "this is a more kind of throughput",
    "start": "885279",
    "end": "888000"
  },
  {
    "text": "oriented benchmark coming to play such",
    "start": "888000",
    "end": "890079"
  },
  {
    "text": "as for example",
    "start": "890079",
    "end": "891680"
  },
  {
    "text": "polling",
    "start": "891680",
    "end": "892720"
  },
  {
    "text": "or or other things as well",
    "start": "892720",
    "end": "896240"
  },
  {
    "text": "these particular benchmarks allows you",
    "start": "897279",
    "end": "899760"
  },
  {
    "text": "to do",
    "start": "899760",
    "end": "901040"
  },
  {
    "text": "a very interesting in my opinion graph",
    "start": "901040",
    "end": "903680"
  },
  {
    "text": "which is",
    "start": "903680",
    "end": "905120"
  },
  {
    "text": "this one",
    "start": "905120",
    "end": "906560"
  },
  {
    "text": "the",
    "start": "906560",
    "end": "907360"
  },
  {
    "text": "specific numbers don't really matter",
    "start": "907360",
    "end": "909199"
  },
  {
    "text": "that much this is from an experiment i",
    "start": "909199",
    "end": "911519"
  },
  {
    "text": "did i think",
    "start": "911519",
    "end": "913279"
  },
  {
    "text": "one year ago or so or maybe less",
    "start": "913279",
    "end": "917040"
  },
  {
    "text": "but the basic idea here is that on the",
    "start": "917040",
    "end": "920079"
  },
  {
    "text": "x-axis you have throughput",
    "start": "920079",
    "end": "922480"
  },
  {
    "text": "and on the y-axis you have latency in",
    "start": "922480",
    "end": "925600"
  },
  {
    "text": "this case i'm using medium latency but",
    "start": "925600",
    "end": "929040"
  },
  {
    "text": "you can also do tail latency for example",
    "start": "929040",
    "end": "932560"
  },
  {
    "text": "and",
    "start": "932560",
    "end": "933839"
  },
  {
    "text": "what we do here is that we do different",
    "start": "933839",
    "end": "935920"
  },
  {
    "text": "experiments for different values of",
    "start": "935920",
    "end": "937839"
  },
  {
    "text": "burst",
    "start": "937839",
    "end": "938880"
  },
  {
    "text": "in this particular example i'm using",
    "start": "938880",
    "end": "941120"
  },
  {
    "text": "burst which bursts with increasing",
    "start": "941120",
    "end": "944160"
  },
  {
    "text": "powers of two",
    "start": "944160",
    "end": "946399"
  },
  {
    "text": "and the interesting part here as we draw",
    "start": "946399",
    "end": "949040"
  },
  {
    "text": "the",
    "start": "949040",
    "end": "949839"
  },
  {
    "text": "the different points and doing the graph",
    "start": "949839",
    "end": "952480"
  },
  {
    "text": "is that there are different areas",
    "start": "952480",
    "end": "955519"
  },
  {
    "text": "that have very different behavior",
    "start": "955519",
    "end": "958000"
  },
  {
    "text": "so in the beginning we can see as we",
    "start": "958000",
    "end": "959839"
  },
  {
    "text": "increase the burst",
    "start": "959839",
    "end": "961759"
  },
  {
    "text": "size",
    "start": "961759",
    "end": "963120"
  },
  {
    "text": "throughput increases without affecting",
    "start": "963120",
    "end": "965360"
  },
  {
    "text": "latency",
    "start": "965360",
    "end": "966880"
  },
  {
    "text": "but after a point which",
    "start": "966880",
    "end": "969199"
  },
  {
    "text": "is around the 1.8 value we see that",
    "start": "969199",
    "end": "973040"
  },
  {
    "text": "adding more packets in flight saturates",
    "start": "973040",
    "end": "976639"
  },
  {
    "text": "the system",
    "start": "976639",
    "end": "977839"
  },
  {
    "text": "and",
    "start": "977839",
    "end": "979759"
  },
  {
    "text": "throughput is not increased that much",
    "start": "979759",
    "end": "981839"
  },
  {
    "text": "and latency basically uh rapidly",
    "start": "981839",
    "end": "984959"
  },
  {
    "text": "increases",
    "start": "984959",
    "end": "986399"
  },
  {
    "text": "so",
    "start": "986399",
    "end": "987600"
  },
  {
    "text": "uh",
    "start": "987600",
    "end": "988880"
  },
  {
    "text": "this is uh something interesting because",
    "start": "988880",
    "end": "991440"
  },
  {
    "text": "it's really important to know which part",
    "start": "991440",
    "end": "993600"
  },
  {
    "text": "of",
    "start": "993600",
    "end": "994399"
  },
  {
    "text": "the curve uh your benchmark or your",
    "start": "994399",
    "end": "997279"
  },
  {
    "text": "applications are",
    "start": "997279",
    "end": "998959"
  },
  {
    "text": "and",
    "start": "998959",
    "end": "1000480"
  },
  {
    "text": "what is the point where your system will",
    "start": "1000480",
    "end": "1003199"
  },
  {
    "text": "saturate",
    "start": "1003199",
    "end": "1005759"
  },
  {
    "text": "now",
    "start": "1005839",
    "end": "1007759"
  },
  {
    "start": "1007000",
    "end": "1007000"
  },
  {
    "text": "so far i've talked about basic kind of",
    "start": "1007759",
    "end": "1011199"
  },
  {
    "text": "point-to-point communication patterns",
    "start": "1011199",
    "end": "1013920"
  },
  {
    "text": "but",
    "start": "1013920",
    "end": "1016160"
  },
  {
    "text": "there are also a lot of reasons why you",
    "start": "1017199",
    "end": "1019920"
  },
  {
    "text": "would want to scale your workloads",
    "start": "1019920",
    "end": "1022880"
  },
  {
    "text": "one specific reason is that",
    "start": "1022880",
    "end": "1025839"
  },
  {
    "text": "mix are getting faster while cores",
    "start": "1025839",
    "end": "1028959"
  },
  {
    "text": "do not",
    "start": "1028959",
    "end": "1030480"
  },
  {
    "text": "and this means that for",
    "start": "1030480",
    "end": "1034558"
  },
  {
    "text": "say fast",
    "start": "1035919",
    "end": "1037600"
  },
  {
    "text": "network cards such as 100 gigabit",
    "start": "1037600",
    "end": "1039918"
  },
  {
    "text": "definite devices a single tcp stream",
    "start": "1039919",
    "end": "1042880"
  },
  {
    "text": "that is a single core cannot saturate",
    "start": "1042880",
    "end": "1046160"
  },
  {
    "text": "the link",
    "start": "1046160",
    "end": "1047839"
  },
  {
    "text": "and this means that stressing the system",
    "start": "1047839",
    "end": "1051360"
  },
  {
    "text": "requires exercising multiple cpus and",
    "start": "1051360",
    "end": "1054000"
  },
  {
    "text": "multiple streams",
    "start": "1054000",
    "end": "1055440"
  },
  {
    "text": "so",
    "start": "1055440",
    "end": "1056720"
  },
  {
    "text": "in the graph",
    "start": "1056720",
    "end": "1058000"
  },
  {
    "text": "so here you can see that a single stream",
    "start": "1058000",
    "end": "1061520"
  },
  {
    "text": "can achieve 20 gigabits per second and",
    "start": "1061520",
    "end": "1064480"
  },
  {
    "text": "again the specific numbers don't really",
    "start": "1064480",
    "end": "1066559"
  },
  {
    "text": "matter",
    "start": "1066559",
    "end": "1067760"
  },
  {
    "text": "so much different configurations or",
    "start": "1067760",
    "end": "1070320"
  },
  {
    "text": "different hardware will produce",
    "start": "1070320",
    "end": "1072640"
  },
  {
    "text": "different numbers but the basic idea is",
    "start": "1072640",
    "end": "1075520"
  },
  {
    "text": "that if you want to kind of stress the",
    "start": "1075520",
    "end": "1078000"
  },
  {
    "text": "system this requires using multiple cpus",
    "start": "1078000",
    "end": "1083679"
  },
  {
    "text": "and this can be done by using either",
    "start": "1083679",
    "end": "1085600"
  },
  {
    "text": "multiple processes multiple threads or",
    "start": "1085600",
    "end": "1087679"
  },
  {
    "text": "even multiple pods depending exactly on",
    "start": "1087679",
    "end": "1090400"
  },
  {
    "text": "what you want to do",
    "start": "1090400",
    "end": "1092720"
  },
  {
    "text": "in addition to that you can",
    "start": "1092720",
    "end": "1095120"
  },
  {
    "text": "also think about using multiple numbers",
    "start": "1095120",
    "end": "1098640"
  },
  {
    "text": "for",
    "start": "1098640",
    "end": "1099840"
  },
  {
    "text": "evaluating the full cluster rather than",
    "start": "1099840",
    "end": "1102640"
  },
  {
    "text": "just uh two single nodes",
    "start": "1102640",
    "end": "1105360"
  },
  {
    "text": "and this makes the kind of",
    "start": "1105360",
    "end": "1108880"
  },
  {
    "text": "experiment much more complicated because",
    "start": "1108880",
    "end": "1110960"
  },
  {
    "text": "you have to track",
    "start": "1110960",
    "end": "1112240"
  },
  {
    "text": "uh multiple things but it's also uh",
    "start": "1112240",
    "end": "1115679"
  },
  {
    "text": "really useful because it's a much more",
    "start": "1115679",
    "end": "1117440"
  },
  {
    "text": "realistic workload and you can",
    "start": "1117440",
    "end": "1119840"
  },
  {
    "text": "start kind of evaluating things like",
    "start": "1119840",
    "end": "1122160"
  },
  {
    "text": "quality of service and fairness and",
    "start": "1122160",
    "end": "1124640"
  },
  {
    "text": "things like that",
    "start": "1124640",
    "end": "1127280"
  },
  {
    "start": "1127000",
    "end": "1127000"
  },
  {
    "text": "i've already talked a bit about metrics",
    "start": "1127679",
    "end": "1130320"
  },
  {
    "text": "but i've mostly mentioned basic",
    "start": "1130320",
    "end": "1132320"
  },
  {
    "text": "performance metrics so things like",
    "start": "1132320",
    "end": "1134320"
  },
  {
    "text": "throughput which are buckets",
    "start": "1134320",
    "end": "1136400"
  },
  {
    "text": "bytes per second or packets per second",
    "start": "1136400",
    "end": "1138960"
  },
  {
    "text": "and also latency",
    "start": "1138960",
    "end": "1140640"
  },
  {
    "text": "one thing i would like to note here is",
    "start": "1140640",
    "end": "1142559"
  },
  {
    "text": "that tail latency that is kind of",
    "start": "1142559",
    "end": "1144960"
  },
  {
    "text": "worst-case scenario latency is really",
    "start": "1144960",
    "end": "1147440"
  },
  {
    "text": "important as scale grows and there's an",
    "start": "1147440",
    "end": "1149679"
  },
  {
    "text": "interesting paper that",
    "start": "1149679",
    "end": "1152080"
  },
  {
    "text": "talks about this from google folk that",
    "start": "1152080",
    "end": "1155039"
  },
  {
    "text": "is called",
    "start": "1155039",
    "end": "1156480"
  },
  {
    "text": "the taylor scale and you can look at",
    "start": "1156480",
    "end": "1158160"
  },
  {
    "text": "that for more information",
    "start": "1158160",
    "end": "1161360"
  },
  {
    "text": "in addition to basic performance metrics",
    "start": "1161679",
    "end": "1165760"
  },
  {
    "text": "when doing an evaluation we should also",
    "start": "1165760",
    "end": "1167520"
  },
  {
    "text": "consider overhead metrics",
    "start": "1167520",
    "end": "1169919"
  },
  {
    "text": "and this includes things like cpu",
    "start": "1169919",
    "end": "1171760"
  },
  {
    "text": "utilization or even memory utilization",
    "start": "1171760",
    "end": "1174720"
  },
  {
    "text": "and to give you an example of why this",
    "start": "1174720",
    "end": "1176400"
  },
  {
    "text": "is useful there might be a",
    "start": "1176400",
    "end": "1179200"
  },
  {
    "text": "an optimization or a",
    "start": "1179200",
    "end": "1182080"
  },
  {
    "text": "system a different system that achieves",
    "start": "1182080",
    "end": "1184960"
  },
  {
    "text": "one percent performance improvement at",
    "start": "1184960",
    "end": "1187200"
  },
  {
    "text": "the cost of doubling the cpu utilization",
    "start": "1187200",
    "end": "1190000"
  },
  {
    "text": "so if you consider the overhead this is",
    "start": "1190000",
    "end": "1191919"
  },
  {
    "text": "not necessarily a very attractive",
    "start": "1191919",
    "end": "1193600"
  },
  {
    "text": "optimization so",
    "start": "1193600",
    "end": "1197120"
  },
  {
    "text": "it's also worth keeping in mind what the",
    "start": "1197600",
    "end": "1199840"
  },
  {
    "text": "overhead of a certain approach is",
    "start": "1199840",
    "end": "1202559"
  },
  {
    "text": "another set of metrics are metrics which",
    "start": "1202559",
    "end": "1205280"
  },
  {
    "text": "have to do with performance",
    "start": "1205280",
    "end": "1206559"
  },
  {
    "text": "interpretation or identifying botnets",
    "start": "1206559",
    "end": "1209120"
  },
  {
    "text": "and",
    "start": "1209120",
    "end": "1210000"
  },
  {
    "text": "to give some examples here one",
    "start": "1210000",
    "end": "1212640"
  },
  {
    "text": "thing that you can measure is",
    "start": "1212640",
    "end": "1214799"
  },
  {
    "text": "how the network card interrupts are",
    "start": "1214799",
    "end": "1217919"
  },
  {
    "text": "distributed into different cores so that",
    "start": "1217919",
    "end": "1220480"
  },
  {
    "text": "you make sure that the traffic is",
    "start": "1220480",
    "end": "1222799"
  },
  {
    "text": "actually balanced",
    "start": "1222799",
    "end": "1225679"
  },
  {
    "text": "there are also",
    "start": "1225679",
    "end": "1227039"
  },
  {
    "text": "things like bpf flame graphs which give",
    "start": "1227039",
    "end": "1229440"
  },
  {
    "text": "you a really nice way of looking at",
    "start": "1229440",
    "end": "1232080"
  },
  {
    "text": "where time is spent",
    "start": "1232080",
    "end": "1234960"
  },
  {
    "text": "when",
    "start": "1234960",
    "end": "1235760"
  },
  {
    "text": "kernel processes",
    "start": "1235760",
    "end": "1237520"
  },
  {
    "text": "packets",
    "start": "1237520",
    "end": "1238559"
  },
  {
    "text": "and also there are many tools using bpf",
    "start": "1238559",
    "end": "1241840"
  },
  {
    "text": "which can help kind of trying to figure",
    "start": "1241840",
    "end": "1244240"
  },
  {
    "text": "out specific things such as what is the",
    "start": "1244240",
    "end": "1246960"
  },
  {
    "text": "size of the packet buffer processed by",
    "start": "1246960",
    "end": "1250080"
  },
  {
    "text": "nick driver",
    "start": "1250080",
    "end": "1251679"
  },
  {
    "text": "functions",
    "start": "1251679",
    "end": "1254158"
  },
  {
    "start": "1255000",
    "end": "1255000"
  },
  {
    "text": "so",
    "start": "1255919",
    "end": "1257600"
  },
  {
    "text": "with respect to system configuration the",
    "start": "1257600",
    "end": "1259679"
  },
  {
    "text": "basic",
    "start": "1259679",
    "end": "1260960"
  },
  {
    "text": "goal here is to try to control the",
    "start": "1260960",
    "end": "1262799"
  },
  {
    "text": "environment and to give an example",
    "start": "1262799",
    "end": "1265679"
  },
  {
    "text": "if you want",
    "start": "1265679",
    "end": "1267280"
  },
  {
    "text": "to do a protopod benchmark you need to",
    "start": "1267280",
    "end": "1273520"
  },
  {
    "text": "ensure that the pods are scheduled in",
    "start": "1274000",
    "end": "1276559"
  },
  {
    "text": "different nodes because otherwise it's a",
    "start": "1276559",
    "end": "1278720"
  },
  {
    "text": "very different sort of situation",
    "start": "1278720",
    "end": "1282000"
  },
  {
    "text": "and generally speaking the system",
    "start": "1282000",
    "end": "1283520"
  },
  {
    "text": "configuration",
    "start": "1283520",
    "end": "1285600"
  },
  {
    "text": "should try to isolate",
    "start": "1285600",
    "end": "1288159"
  },
  {
    "text": "systems to avoid an",
    "start": "1288159",
    "end": "1290000"
  },
  {
    "text": "unwanted interference",
    "start": "1290000",
    "end": "1291840"
  },
  {
    "text": "so for example when we are benchmarking",
    "start": "1291840",
    "end": "1293760"
  },
  {
    "text": "celium we try to remove",
    "start": "1293760",
    "end": "1296880"
  },
  {
    "text": "uh all all unwanted interaction so we",
    "start": "1296880",
    "end": "1300559"
  },
  {
    "text": "run bare metal we disable preemption in",
    "start": "1300559",
    "end": "1303600"
  },
  {
    "text": "the kernel we disable core",
    "start": "1303600",
    "end": "1305840"
  },
  {
    "text": "frequency scaling",
    "start": "1305840",
    "end": "1307360"
  },
  {
    "text": "we pin nic interrupts specific cores and",
    "start": "1307360",
    "end": "1310240"
  },
  {
    "text": "do a bunch of other things just to focus",
    "start": "1310240",
    "end": "1312640"
  },
  {
    "text": "on the serium performance and not",
    "start": "1312640",
    "end": "1314400"
  },
  {
    "text": "external factors now obviously the",
    "start": "1314400",
    "end": "1317039"
  },
  {
    "text": "specific decisions might not be",
    "start": "1317039",
    "end": "1318960"
  },
  {
    "text": "appropriate for the goal that you have",
    "start": "1318960",
    "end": "1320799"
  },
  {
    "text": "said so",
    "start": "1320799",
    "end": "1323679"
  },
  {
    "text": "this is a process where given the",
    "start": "1323679",
    "end": "1325520"
  },
  {
    "text": "specific goal that you have you try to",
    "start": "1325520",
    "end": "1327520"
  },
  {
    "text": "figure out what are the most important",
    "start": "1327520",
    "end": "1329280"
  },
  {
    "text": "things that you need",
    "start": "1329280",
    "end": "1330880"
  },
  {
    "text": "to focus on and try to configure the",
    "start": "1330880",
    "end": "1333360"
  },
  {
    "text": "system so that you exclude all other",
    "start": "1333360",
    "end": "1337679"
  },
  {
    "text": "things that might mess your experiment",
    "start": "1337679",
    "end": "1341679"
  },
  {
    "start": "1341000",
    "end": "1341000"
  },
  {
    "text": "so when it comes to time to actually",
    "start": "1342000",
    "end": "1344799"
  },
  {
    "text": "perform the experiment",
    "start": "1344799",
    "end": "1347440"
  },
  {
    "text": "i would",
    "start": "1347440",
    "end": "1348559"
  },
  {
    "text": "definitely advise you to in in addition",
    "start": "1348559",
    "end": "1351039"
  },
  {
    "text": "to the results record system information",
    "start": "1351039",
    "end": "1354240"
  },
  {
    "text": "and this includes hardware and these",
    "start": "1354240",
    "end": "1356720"
  },
  {
    "text": "configurations",
    "start": "1356720",
    "end": "1358159"
  },
  {
    "text": "and this for example might be",
    "start": "1358159",
    "end": "1360559"
  },
  {
    "text": "cpus another cpus nics what is the new",
    "start": "1360559",
    "end": "1364080"
  },
  {
    "text": "configuration memory and things like",
    "start": "1364080",
    "end": "1365840"
  },
  {
    "text": "that but also the software uh parts as",
    "start": "1365840",
    "end": "1368799"
  },
  {
    "text": "well",
    "start": "1368799",
    "end": "1369520"
  },
  {
    "text": "so for every software component that",
    "start": "1369520",
    "end": "1371760"
  },
  {
    "text": "feels it's",
    "start": "1371760",
    "end": "1373039"
  },
  {
    "text": "that you feel it's relevant",
    "start": "1373039",
    "end": "1374960"
  },
  {
    "text": "you can record its version or its",
    "start": "1374960",
    "end": "1377360"
  },
  {
    "text": "configuration and this includes things",
    "start": "1377360",
    "end": "1379360"
  },
  {
    "text": "like the kernel to the kubernetes",
    "start": "1379360",
    "end": "1381679"
  },
  {
    "text": "version or the cni",
    "start": "1381679",
    "end": "1384320"
  },
  {
    "text": "that you are using",
    "start": "1384320",
    "end": "1386960"
  },
  {
    "text": "uh in addition to that",
    "start": "1386960",
    "end": "1390080"
  },
  {
    "text": "running just one experiment is typically",
    "start": "1390080",
    "end": "1393360"
  },
  {
    "text": "a bad idea because you don't really know",
    "start": "1393360",
    "end": "1395520"
  },
  {
    "text": "whether the experiment that you did is",
    "start": "1395520",
    "end": "1398159"
  },
  {
    "text": "actually a representative one so you are",
    "start": "1398159",
    "end": "1400960"
  },
  {
    "text": "strongly advised to",
    "start": "1400960",
    "end": "1403120"
  },
  {
    "text": "increase your confidence in the results",
    "start": "1403120",
    "end": "1405280"
  },
  {
    "text": "by performing multiple experiments i",
    "start": "1405280",
    "end": "1407840"
  },
  {
    "text": "would argue at least",
    "start": "1407840",
    "end": "1409760"
  },
  {
    "text": "three if not uh even more",
    "start": "1409760",
    "end": "1412400"
  },
  {
    "text": "just to make sure that you know what you",
    "start": "1412400",
    "end": "1414880"
  },
  {
    "text": "are seeing is actually",
    "start": "1414880",
    "end": "1416640"
  },
  {
    "text": "something that happens commonly",
    "start": "1416640",
    "end": "1420240"
  },
  {
    "start": "1419000",
    "end": "1419000"
  },
  {
    "text": "uh and to give you uh some sort of a war",
    "start": "1420320",
    "end": "1423120"
  },
  {
    "text": "story uh on how we do network",
    "start": "1423120",
    "end": "1426000"
  },
  {
    "text": "benchmarking in celium",
    "start": "1426000",
    "end": "1427840"
  },
  {
    "text": "uh during the 1.9 release cycle we did a",
    "start": "1427840",
    "end": "1431840"
  },
  {
    "text": "very extensive performance evaluation",
    "start": "1431840",
    "end": "1434559"
  },
  {
    "text": "and one of the things that we figured",
    "start": "1434559",
    "end": "1436559"
  },
  {
    "text": "out was that native ray native",
    "start": "1436559",
    "end": "1440480"
  },
  {
    "text": "excuse me native routing as a opposed to",
    "start": "1440480",
    "end": "1443279"
  },
  {
    "text": "tunneling had reduced performance which",
    "start": "1443279",
    "end": "1445760"
  },
  {
    "text": "was unexpected because",
    "start": "1445760",
    "end": "1448000"
  },
  {
    "text": "tunneling for example has additional",
    "start": "1448000",
    "end": "1450159"
  },
  {
    "text": "encapsulation so we would expect",
    "start": "1450159",
    "end": "1452799"
  },
  {
    "text": "uh native native writing to",
    "start": "1452799",
    "end": "1455679"
  },
  {
    "text": "perform at least as well as fundamental",
    "start": "1455679",
    "end": "1459279"
  },
  {
    "text": "and so the way that we tried to address",
    "start": "1459279",
    "end": "1462320"
  },
  {
    "text": "this issue was to try to figure out",
    "start": "1462320",
    "end": "1464720"
  },
  {
    "text": "whether the problem was in cilium or in",
    "start": "1464720",
    "end": "1468240"
  },
  {
    "text": "something else and what we did was we",
    "start": "1468240",
    "end": "1470799"
  },
  {
    "text": "replicated the setup but in this time",
    "start": "1470799",
    "end": "1472960"
  },
  {
    "text": "without selum so we did everything",
    "start": "1472960",
    "end": "1475840"
  },
  {
    "text": "but without the bpf datapath that serium",
    "start": "1475840",
    "end": "1478960"
  },
  {
    "text": "introduces and did the same",
    "start": "1478960",
    "end": "1481520"
  },
  {
    "text": "benchmark and it turned out that",
    "start": "1481520",
    "end": "1484559"
  },
  {
    "text": "the performance problem was still there",
    "start": "1484559",
    "end": "1486400"
  },
  {
    "text": "which",
    "start": "1486400",
    "end": "1487600"
  },
  {
    "text": "kind of led us to",
    "start": "1487600",
    "end": "1489340"
  },
  {
    "text": "[Music]",
    "start": "1489340",
    "end": "1490640"
  },
  {
    "text": "figure out that the issue was on the",
    "start": "1490640",
    "end": "1493600"
  },
  {
    "text": "fifth",
    "start": "1493600",
    "end": "1494640"
  },
  {
    "text": "uh",
    "start": "1494640",
    "end": "1495600"
  },
  {
    "text": "virtual electronic device handling",
    "start": "1495600",
    "end": "1497440"
  },
  {
    "text": "rather than ceiling",
    "start": "1497440",
    "end": "1498840"
  },
  {
    "text": "itself and",
    "start": "1498840",
    "end": "1500720"
  },
  {
    "text": "once the issue was pinpointed",
    "start": "1500720",
    "end": "1503790"
  },
  {
    "text": "[Music]",
    "start": "1503790",
    "end": "1504960"
  },
  {
    "text": "members of our team contributed",
    "start": "1504960",
    "end": "1507120"
  },
  {
    "text": "modifications to the linux kernel that",
    "start": "1507120",
    "end": "1509760"
  },
  {
    "text": "actually addressed this issue so",
    "start": "1509760",
    "end": "1511840"
  },
  {
    "text": "if you have a recent enough version of a",
    "start": "1511840",
    "end": "1514400"
  },
  {
    "text": "kernel and recent enough version of",
    "start": "1514400",
    "end": "1516640"
  },
  {
    "text": "psyllium then this problem will not",
    "start": "1516640",
    "end": "1519120"
  },
  {
    "text": "be there anymore",
    "start": "1519120",
    "end": "1522158"
  },
  {
    "start": "1521000",
    "end": "1521000"
  },
  {
    "text": "so i'll i want to also talk a bit about",
    "start": "1522400",
    "end": "1524960"
  },
  {
    "text": "tooling",
    "start": "1524960",
    "end": "1526080"
  },
  {
    "text": "there are many tools that you can use",
    "start": "1526080",
    "end": "1527840"
  },
  {
    "text": "for doing the benchmarking",
    "start": "1527840",
    "end": "1530080"
  },
  {
    "text": "my personal preference is netperf which",
    "start": "1530080",
    "end": "1532799"
  },
  {
    "text": "is an old tool",
    "start": "1532799",
    "end": "1534400"
  },
  {
    "text": "and maybe not very user friendly by",
    "start": "1534400",
    "end": "1536960"
  },
  {
    "text": "today's standards",
    "start": "1536960",
    "end": "1538640"
  },
  {
    "text": "but it's very powerful and it can",
    "start": "1538640",
    "end": "1541520"
  },
  {
    "text": "implement all the different workload",
    "start": "1541520",
    "end": "1543679"
  },
  {
    "text": "patterns i mentioned before but also",
    "start": "1543679",
    "end": "1546000"
  },
  {
    "text": "many",
    "start": "1546000",
    "end": "1546960"
  },
  {
    "text": "more",
    "start": "1546960",
    "end": "1548320"
  },
  {
    "text": "uh we've also developed our own internal",
    "start": "1548320",
    "end": "1550799"
  },
  {
    "text": "tool which is called uh cubenet benz",
    "start": "1550799",
    "end": "1554000"
  },
  {
    "text": "which",
    "start": "1554000",
    "end": "1555440"
  },
  {
    "text": "uh uses networth underneath but it deals",
    "start": "1555440",
    "end": "1559039"
  },
  {
    "text": "with uh some of the things like for",
    "start": "1559039",
    "end": "1561440"
  },
  {
    "text": "example",
    "start": "1561440",
    "end": "1562559"
  },
  {
    "text": "uh spawning uh pods into a kubernetes",
    "start": "1562559",
    "end": "1566000"
  },
  {
    "text": "cluster ensuring that they run at",
    "start": "1566000",
    "end": "1567760"
  },
  {
    "text": "different nodes",
    "start": "1567760",
    "end": "1569120"
  },
  {
    "text": "and some automations for example such as",
    "start": "1569120",
    "end": "1571679"
  },
  {
    "text": "gathering automatically gathering",
    "start": "1571679",
    "end": "1573520"
  },
  {
    "text": "configuration data or even automatically",
    "start": "1573520",
    "end": "1577279"
  },
  {
    "text": "gathering",
    "start": "1577279",
    "end": "1579279"
  },
  {
    "text": "the road data for doing",
    "start": "1579279",
    "end": "1581840"
  },
  {
    "text": "ppf",
    "start": "1581840",
    "end": "1584159"
  },
  {
    "text": "flame graphs",
    "start": "1584159",
    "end": "1586000"
  },
  {
    "text": "and there is a",
    "start": "1586000",
    "end": "1587840"
  },
  {
    "text": "wide variety of bpf tools that you can",
    "start": "1587840",
    "end": "1590400"
  },
  {
    "text": "use",
    "start": "1590400",
    "end": "1591520"
  },
  {
    "text": "to understand performance and",
    "start": "1591520",
    "end": "1594400"
  },
  {
    "text": "i highly suggest looking at",
    "start": "1594400",
    "end": "1596960"
  },
  {
    "text": "brendan gregg's resources",
    "start": "1596960",
    "end": "1600400"
  },
  {
    "text": "for that either the book or the web",
    "start": "1600400",
    "end": "1602400"
  },
  {
    "text": "pages are really great",
    "start": "1602400",
    "end": "1604640"
  },
  {
    "text": "and they can help you really really",
    "start": "1604640",
    "end": "1607600"
  },
  {
    "text": "use bpf to better understand performance",
    "start": "1607600",
    "end": "1610960"
  },
  {
    "text": "another utility that we frequently use",
    "start": "1610960",
    "end": "1613919"
  },
  {
    "text": "is perf which is very common and popular",
    "start": "1613919",
    "end": "1616559"
  },
  {
    "text": "in kernel developers",
    "start": "1616559",
    "end": "1618480"
  },
  {
    "text": "it's also not very user friendly but",
    "start": "1618480",
    "end": "1621039"
  },
  {
    "text": "documentation has been",
    "start": "1621039",
    "end": "1623039"
  },
  {
    "text": "improving over the last years",
    "start": "1623039",
    "end": "1627399"
  },
  {
    "start": "1626000",
    "end": "1626000"
  },
  {
    "text": "finally some additional resources for",
    "start": "1628880",
    "end": "1631360"
  },
  {
    "text": "people that want to dig deeper into",
    "start": "1631360",
    "end": "1633440"
  },
  {
    "text": "performance validation",
    "start": "1633440",
    "end": "1635360"
  },
  {
    "text": "one of them is a book again by",
    "start": "1635360",
    "end": "1638080"
  },
  {
    "text": "brendan about systems performance and",
    "start": "1638080",
    "end": "1640559"
  },
  {
    "text": "this",
    "start": "1640559",
    "end": "1641360"
  },
  {
    "text": "discusses",
    "start": "1641360",
    "end": "1642799"
  },
  {
    "text": "all different aspects of systems not on",
    "start": "1642799",
    "end": "1645120"
  },
  {
    "text": "networking",
    "start": "1645120",
    "end": "1647039"
  },
  {
    "text": "another book is a bit older maybe not",
    "start": "1647039",
    "end": "1650720"
  },
  {
    "text": "sorel advantages but i also but i still",
    "start": "1650720",
    "end": "1653840"
  },
  {
    "text": "find it uh useful at least in terms of",
    "start": "1653840",
    "end": "1656880"
  },
  {
    "text": "the principles it discusses and that's",
    "start": "1656880",
    "end": "1659840"
  },
  {
    "text": "the art of computer systems performance",
    "start": "1659840",
    "end": "1661760"
  },
  {
    "text": "analysis",
    "start": "1661760",
    "end": "1663039"
  },
  {
    "text": "and finally if you want to understand",
    "start": "1663039",
    "end": "1664960"
  },
  {
    "text": "how the internals of the kernel work",
    "start": "1664960",
    "end": "1667919"
  },
  {
    "text": "either with respect to networking or",
    "start": "1667919",
    "end": "1670159"
  },
  {
    "text": "something else i highly recommend the",
    "start": "1670159",
    "end": "1672559"
  },
  {
    "text": "kernel pages",
    "start": "1672559",
    "end": "1674720"
  },
  {
    "text": "on",
    "start": "1674720",
    "end": "1675760"
  },
  {
    "text": "lwn linux linux",
    "start": "1675760",
    "end": "1679279"
  },
  {
    "start": "1679000",
    "end": "1679000"
  },
  {
    "text": "so to conclude i'd like to summarize",
    "start": "1679279",
    "end": "1682159"
  },
  {
    "text": "with three of takeaway messages",
    "start": "1682159",
    "end": "1684880"
  },
  {
    "text": "that i'm hoping",
    "start": "1684880",
    "end": "1686399"
  },
  {
    "text": "uh",
    "start": "1686399",
    "end": "1687520"
  },
  {
    "text": "people will consider from this",
    "start": "1687520",
    "end": "1688799"
  },
  {
    "text": "presentation",
    "start": "1688799",
    "end": "1690159"
  },
  {
    "text": "one is",
    "start": "1690159",
    "end": "1691200"
  },
  {
    "text": "design your benchmarks so that they",
    "start": "1691200",
    "end": "1692960"
  },
  {
    "text": "answer a specific question",
    "start": "1692960",
    "end": "1694799"
  },
  {
    "text": "the other is start simple and iterate",
    "start": "1694799",
    "end": "1698240"
  },
  {
    "text": "and there is more to neutral performance",
    "start": "1698240",
    "end": "1699919"
  },
  {
    "text": "on string benchmarks so i would like to",
    "start": "1699919",
    "end": "1702399"
  },
  {
    "text": "thank my colleagues",
    "start": "1702399",
    "end": "1704640"
  },
  {
    "text": "daniel gilbertopol and the rest of the",
    "start": "1704640",
    "end": "1706640"
  },
  {
    "text": "ceiling team",
    "start": "1706640",
    "end": "1708000"
  },
  {
    "text": "and also mentioned that you can find us",
    "start": "1708000",
    "end": "1710880"
  },
  {
    "text": "on selum slide on the performance",
    "start": "1710880",
    "end": "1712640"
  },
  {
    "text": "testing",
    "start": "1712640",
    "end": "1714080"
  },
  {
    "text": "on the performance testing channel where",
    "start": "1714080",
    "end": "1715679"
  },
  {
    "text": "we can talk about kubernetes and google",
    "start": "1715679",
    "end": "1718399"
  },
  {
    "text": "performance",
    "start": "1718399",
    "end": "1719679"
  },
  {
    "text": "uh thank you very much for your",
    "start": "1719679",
    "end": "1721520"
  },
  {
    "text": "attention and i'll be online to",
    "start": "1721520",
    "end": "1724640"
  },
  {
    "text": "take your questions",
    "start": "1724640",
    "end": "1728039"
  }
]