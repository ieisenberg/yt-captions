[
  {
    "text": "I'm engineer there I'm also a flex maintenance",
    "start": "4339",
    "end": "9960"
  },
  {
    "text": "and I just wanted to also mention that uh just a little shout out to sule that that he was very instrumental in getting",
    "start": "9960",
    "end": "16980"
  },
  {
    "text": "Helm oci support into flux and also was the person who implemented Helm cosine",
    "start": "16980",
    "end": "22740"
  },
  {
    "text": "uh verification of Lux so thank you very much uh and yeah um",
    "start": "22740",
    "end": "29880"
  },
  {
    "text": "I you you might be walking in for the first time so I'll just say I'm Scott Rigby from weaveworks I'm also hosting the",
    "start": "29880",
    "end": "35760"
  },
  {
    "text": "event but uh I'm giving this talk as well I am a Helm and a flux maintainer",
    "start": "35760",
    "end": "44239"
  },
  {
    "text": "oh right so so thanks for joining us everybody",
    "start": "49100",
    "end": "54719"
  },
  {
    "text": "um so today we're going to be talking about the integration of oci",
    "start": "54719",
    "end": "60300"
  },
  {
    "text": "artifacts as sources and flux um you know flux has the concept of of sources and they can be uh get as a",
    "start": "60300",
    "end": "68460"
  },
  {
    "text": "source oci or excuse me you know F3 compatible buckets as a source um Helm repositories as a source and now",
    "start": "68460",
    "end": "75540"
  },
  {
    "text": "uh oci repositories as a source for for everything",
    "start": "75540",
    "end": "81119"
  },
  {
    "text": "um we're going to start with uh an intro where we'll see what our OC artifacts",
    "start": "81119",
    "end": "86400"
  },
  {
    "text": "are um what their advantages are and why we even want to use them and we'll then",
    "start": "86400",
    "end": "91979"
  },
  {
    "text": "cover new features introducing flux around OCR and effects and um finally we",
    "start": "91979",
    "end": "97020"
  },
  {
    "text": "will have a demo and we'll give you some info at the end with links",
    "start": "97020",
    "end": "103579"
  },
  {
    "text": "okay right so thanks uh yeah so what's what is an OCR effect and why would we",
    "start": "106200",
    "end": "111720"
  },
  {
    "text": "want to use it so what we're showing up on Serena right now is something that",
    "start": "111720",
    "end": "116880"
  },
  {
    "text": "many of you should be familiar with um so you're here at kubecon",
    "start": "116880",
    "end": "123360"
  },
  {
    "text": "um but if not and either way we're going to do a comparison with artifact so this is",
    "start": "123360",
    "end": "129599"
  },
  {
    "text": "um an actual uh the Json for an oci image manifest it is a um",
    "start": "129599",
    "end": "136319"
  },
  {
    "text": "uh oci for everyone hopefully you know stands for open container initiative and",
    "start": "136319",
    "end": "142080"
  },
  {
    "text": "it's essentially what happens when you build a Docker image or use any other oci compatible tool to to build um",
    "start": "142080",
    "end": "150720"
  },
  {
    "text": "distribute images so uh the image manifest describes the the",
    "start": "150720",
    "end": "156780"
  },
  {
    "text": "um components that makes up an image so it's basically what pretty much",
    "start": "156780",
    "end": "162780"
  },
  {
    "text": "everything that you will need to run a container down the road so the and the",
    "start": "162780",
    "end": "169560"
  },
  {
    "text": "config layer that you see at the top contains layer ordering information so",
    "start": "169560",
    "end": "176700"
  },
  {
    "text": "um if you've got you know if you you've seen images have have multiple layers right",
    "start": "176700",
    "end": "182879"
  },
  {
    "text": "um so that you want them to go in a certain order generally speaking um",
    "start": "182879",
    "end": "188280"
  },
  {
    "text": "uh and uh excuse me and what basically",
    "start": "188280",
    "end": "193560"
  },
  {
    "text": "what needs to be um applied in order to get root file system",
    "start": "193560",
    "end": "198720"
  },
  {
    "text": "so the digest feature of or the the digest um key up there is uh a cryptic a",
    "start": "198720",
    "end": "206459"
  },
  {
    "text": "cryptographic hash of the compressed content of the target component so the media and then the media type will tell",
    "start": "206459",
    "end": "213840"
  },
  {
    "text": "us um uh excuse me what compression standard is going to be used so uh the you know",
    "start": "213840",
    "end": "221760"
  },
  {
    "text": "oci dot image.config.v1 plus Json um gives you that that's what I'm",
    "start": "221760",
    "end": "228420"
  },
  {
    "text": "talking about and gives you that information and so you know the the digest is similar to digest or other",
    "start": "228420",
    "end": "233640"
  },
  {
    "text": "things and it's a unique um and you need cache so if the content",
    "start": "233640",
    "end": "238739"
  },
  {
    "text": "changes the digest will will also change right so um when fetching a manifest uh",
    "start": "238739",
    "end": "246060"
  },
  {
    "text": "either the config or layer we have to apply the hash function to verify that it's consistent",
    "start": "246060",
    "end": "252060"
  },
  {
    "text": "um this makes the content immutable and addressable by its Digest",
    "start": "252060",
    "end": "257720"
  },
  {
    "text": "um so what what do you have on the other side is a nursery registry and that is where we store images the",
    "start": "259859",
    "end": "267419"
  },
  {
    "text": "the videos we give is a nice API in order to handle Australia images",
    "start": "267419",
    "end": "273060"
  },
  {
    "text": "uh if you if you look at the top here you can see we have several endpoints for every kind of",
    "start": "273060",
    "end": "280820"
  },
  {
    "text": "components we have we have uh in the endpoint resource identifier identifier",
    "start": "280820",
    "end": "287520"
  },
  {
    "text": "you have the name and you can do some Access Control bed based on the name and",
    "start": "287520",
    "end": "293520"
  },
  {
    "text": "on the top you have the tag the tagged endpoint that you can use for Content Discovery so",
    "start": "293520",
    "end": "300419"
  },
  {
    "text": "um we said that digests are immutable tags are not tags are emitable you can",
    "start": "300419",
    "end": "305880"
  },
  {
    "text": "use tags for the human readable versioning of our images so if you use",
    "start": "305880",
    "end": "311280"
  },
  {
    "text": "the tag endpoint we can achieve uh do content Discovery and retrieve tags for",
    "start": "311280",
    "end": "316620"
  },
  {
    "text": "a given image then we can use the manifesting point and giving a reference so reference is either a tag or a digest",
    "start": "316620",
    "end": "324419"
  },
  {
    "text": "we can retrieve the Manifest once we have the Manifest we have everything needed to pull the configs on the Block",
    "start": "324419",
    "end": "330300"
  },
  {
    "text": "on the blocks of our given image by pulling using the blob endpoint so we",
    "start": "330300",
    "end": "337080"
  },
  {
    "text": "want to show you this because device nice features we have a Content",
    "start": "337080",
    "end": "343380"
  },
  {
    "text": "duplication we can do resumable push or pull and the other services doing",
    "start": "343380",
    "end": "349979"
  },
  {
    "text": "garbage collection as well if an image is not defense at all this garbage collected for us",
    "start": "349979",
    "end": "356360"
  },
  {
    "text": "so at some point users really wanted an artifact um",
    "start": "358860",
    "end": "364500"
  },
  {
    "text": "basically that a type of oci thing that it can can store other artifacts that",
    "start": "364500",
    "end": "371039"
  },
  {
    "text": "aren't containers right so um basically the the way it was important",
    "start": "371039",
    "end": "376560"
  },
  {
    "text": "to be able to um oh actually do we show the artifact type yes type oh the media type Oh I",
    "start": "376560",
    "end": "384660"
  },
  {
    "text": "thought you actually meant that the artifact type yeah yeah so so basically like this is the standard",
    "start": "384660",
    "end": "391680"
  },
  {
    "text": "um uh um excuse me um artifact type for Helm",
    "start": "391680",
    "end": "398400"
  },
  {
    "text": "it's registered um as a as a media type",
    "start": "398400",
    "end": "403500"
  },
  {
    "text": "um and that's the application vendor cncf Helm config B1 plus Json type",
    "start": "403500",
    "end": "410819"
  },
  {
    "text": "um so that that allowed people like say if you're using tools uh to get",
    "start": "410819",
    "end": "417840"
  },
  {
    "text": "information from an oci registry to say hey I just want my Helm charts that are stored there in this case it's Helen",
    "start": "417840",
    "end": "423479"
  },
  {
    "text": "charts other artifacts can be stored as well um and a different and you don't want to say parse through all of the container",
    "start": "423479",
    "end": "429240"
  },
  {
    "text": "images in that same registry this type was a thing to allow you to do that and the um the Microsoft uh well what was",
    "start": "429240",
    "end": "436440"
  },
  {
    "text": "then the Microsoft Project which is now uh cncf uh vendor independent project",
    "start": "436440",
    "end": "441539"
  },
  {
    "text": "called oras um uh which is oci registry as at Ridge",
    "start": "441539",
    "end": "447900"
  },
  {
    "text": "streets as storage has fun has a really good tool set to",
    "start": "447900",
    "end": "453479"
  },
  {
    "text": "allow these things so you don't have to do it by API but you could um yeah and um we've",
    "start": "453479",
    "end": "460560"
  },
  {
    "text": "um sorry uh",
    "start": "460560",
    "end": "467280"
  },
  {
    "text": "yeah I mean ultimately you know like the the idea is to use config media type for",
    "start": "467280",
    "end": "472680"
  },
  {
    "text": "this um but uh you know users",
    "start": "472680",
    "end": "478259"
  },
  {
    "text": "there is a thing that was just added called artifact types and that's I think",
    "start": "478259",
    "end": "484199"
  },
  {
    "text": "that's what you meant there was that um that is a way kind of to to categorize",
    "start": "484199",
    "end": "489860"
  },
  {
    "text": "uh artifacts so that you don't have to register every type so you could say I",
    "start": "489860",
    "end": "495300"
  },
  {
    "text": "have six different artifact types you know one's customized manifests one's Helm charts one's",
    "start": "495300",
    "end": "501660"
  },
  {
    "text": "um oppa policy you know whatever right um and uh and I want to be able to get",
    "start": "501660",
    "end": "507120"
  },
  {
    "text": "only those things through an API it wasn't really easy to do that unless you um unless you specify the media type and",
    "start": "507120",
    "end": "514020"
  },
  {
    "text": "generally you have to register that if you want to use it for anything besides internal use",
    "start": "514020",
    "end": "519180"
  },
  {
    "text": "um and so uh so what the spec chain uh basically with that addition very soon",
    "start": "519180",
    "end": "525360"
  },
  {
    "text": "you'll be able to not only have a different media type but you'll be able to use the standard media type for",
    "start": "525360",
    "end": "530459"
  },
  {
    "text": "artifacts with um different artifact type keys",
    "start": "530459",
    "end": "535820"
  },
  {
    "text": "uh so why would you use uh OCR artifact the first uh use case is in order to",
    "start": "536339",
    "end": "543060"
  },
  {
    "text": "collocate your code on your configuration you could um for example for those of you that know about flux",
    "start": "543060",
    "end": "549839"
  },
  {
    "text": "image uh automation controllers today we use this to automatically reconcile",
    "start": "549839",
    "end": "555360"
  },
  {
    "text": "actually our code our application every time we have a new version of our code the image control automation automation",
    "start": "555360",
    "end": "562080"
  },
  {
    "text": "is reconciling it for us into our kubernetes cluster today if you have",
    "start": "562080",
    "end": "567180"
  },
  {
    "text": "your hotel you config as possible artifacts you can do the same things with your configuration the second thing",
    "start": "567180",
    "end": "573000"
  },
  {
    "text": "is consistently preventing your images with your digest you can do tag versioning and you can do access control",
    "start": "573000",
    "end": "580200"
  },
  {
    "text": "as we showed with the registries cool",
    "start": "580200",
    "end": "586080"
  },
  {
    "text": "um right yeah so so basically we're just showing you the difference how you",
    "start": "586080",
    "end": "591360"
  },
  {
    "text": "migrate using if you're flux user how you migrate from using a Helm repository",
    "start": "591360",
    "end": "596640"
  },
  {
    "text": "to using um your charge sort in an oci Registries",
    "start": "596640",
    "end": "602880"
  },
  {
    "text": "repository um really it's just these two things that's uh the square of red around there",
    "start": "602880",
    "end": "610100"
  },
  {
    "text": "it's really in the spec URL you just put the URL as if you're a Helm user you",
    "start": "610100",
    "end": "616200"
  },
  {
    "text": "know that you can do this using the helm CLI it's the exact same URL that you would pass for um for where your oci",
    "start": "616200",
    "end": "625140"
  },
  {
    "text": "charts are stored it just needs to use the the uh the oci scheme in the URI and",
    "start": "625140",
    "end": "631740"
  },
  {
    "text": "maybe just because on the left it's a hemipository that for a hemipository",
    "start": "631740",
    "end": "638519"
  },
  {
    "text": "with an index an https one as we say and on the right side is when you move this",
    "start": "638519",
    "end": "644579"
  },
  {
    "text": "to oci yeah yeah good good distinction yeah so or um we should probably say",
    "start": "644579",
    "end": "649920"
  },
  {
    "text": "that yeah that the HTTP Helm repository um if for anyone that doesn't know has",
    "start": "649920",
    "end": "657420"
  },
  {
    "text": "an index file that lists all the information about all of the charts in",
    "start": "657420",
    "end": "662760"
  },
  {
    "text": "that https uh Helm repository and all of the versions for each of those charts so",
    "start": "662760",
    "end": "669480"
  },
  {
    "text": "there have been cases this is a pretty important point for people that are concerned with bottlenecks for example",
    "start": "669480",
    "end": "675019"
  },
  {
    "text": "you may or may not have uh ran into this if you're a legacy chart user for",
    "start": "675019",
    "end": "681839"
  },
  {
    "text": "bitnami betnami is one of the major chart distributed chart",
    "start": "681839",
    "end": "687600"
  },
  {
    "text": "um sets of maintainers you know who regularly rigorously tests their charts",
    "start": "687600",
    "end": "694440"
  },
  {
    "text": "and images um and just they've been doing this for a really long time and so a lot of folks",
    "start": "694440",
    "end": "699720"
  },
  {
    "text": "trust them they had to truncate all older versions from their",
    "start": "699720",
    "end": "705120"
  },
  {
    "text": "um Beyond a certain point for their charts because just the index file was like",
    "start": "705120",
    "end": "711240"
  },
  {
    "text": "something like gigabytes it was just ridiculously huge um and the reason that it needs that is",
    "start": "711240",
    "end": "717120"
  },
  {
    "text": "because it doesn't have something like oci which has its own API for for doing tags listing and things like that so",
    "start": "717120",
    "end": "724260"
  },
  {
    "text": "um that that's the only actual uh functional change you need to make in your crds for Helm Repository",
    "start": "724260",
    "end": "731660"
  },
  {
    "text": "um the the other the other change um it really just when you're moving from a from a git",
    "start": "732899",
    "end": "738540"
  },
  {
    "text": "reposit so that was from a Helm repository to an ocm repository if you're moving from a git repository as your Source",
    "start": "738540",
    "end": "744540"
  },
  {
    "text": "um it's really just that you you simply change the url um instead of pointing to your",
    "start": "744540",
    "end": "751320"
  },
  {
    "text": "um yeah to your get uh URL you point to the",
    "start": "751320",
    "end": "756600"
  },
  {
    "text": "um the URI for oci and uh December and everything works December constraints",
    "start": "756600",
    "end": "762120"
  },
  {
    "text": "the ranges and all that they work exactly the same",
    "start": "762120",
    "end": "766579"
  },
  {
    "text": "so we have also implemented uh an integration with cosine",
    "start": "768120",
    "end": "773899"
  },
  {
    "text": "in Flex so just to tell you how cosine works the",
    "start": "773899",
    "end": "778920"
  },
  {
    "text": "cosine is used to uh to sign oci artifacts so the way it works",
    "start": "778920",
    "end": "785880"
  },
  {
    "text": "is uh you create a key pair and they keep an electric curve keeper you sign",
    "start": "785880",
    "end": "791880"
  },
  {
    "text": "yourself or your artifact manifest and you store the signature with the",
    "start": "791880",
    "end": "797339"
  },
  {
    "text": "other oci artifacts and in order to do the decryption the",
    "start": "797339",
    "end": "803519"
  },
  {
    "text": "verification we retrieve the signature for the from the registry you verify the",
    "start": "803519",
    "end": "809160"
  },
  {
    "text": "signature against a public key and you verify the claims as well",
    "start": "809160",
    "end": "814320"
  },
  {
    "text": "verifying the client mean uh you have a payload in the signature that they knew what uh what digest manifest digest has",
    "start": "814320",
    "end": "821279"
  },
  {
    "text": "been signed and you verify that the digest correspond and there is an experimental feature of that is a",
    "start": "821279",
    "end": "828480"
  },
  {
    "text": "transparency log that can be that can be used that's how it does work",
    "start": "828480",
    "end": "834480"
  },
  {
    "text": "um so let's just show you how we do the Hem",
    "start": "834480",
    "end": "839940"
  },
  {
    "text": "release reconciliation so for this we assume that we have uh a running plug",
    "start": "839940",
    "end": "846600"
  },
  {
    "text": "winning clutch controller a hem controller or Source controller and that you have applied uh given many test uh",
    "start": "846600",
    "end": "853200"
  },
  {
    "text": "then how does it work from a user spec spectative you push your hand shot so to",
    "start": "853200",
    "end": "858480"
  },
  {
    "text": "your officer which is in your repository then Flex Source controller is managing",
    "start": "858480",
    "end": "865040"
  },
  {
    "text": "hemipositories and hemises custom resources so what it's going to do is first pull the signature so this is",
    "start": "865040",
    "end": "872820"
  },
  {
    "text": "optional that's why we have this like this you but if you have enabled it",
    "start": "872820",
    "end": "879600"
  },
  {
    "text": "you pull the signature and you do the the chart verification if the charge application is successful you can move",
    "start": "879600",
    "end": "886199"
  },
  {
    "text": "on if not you have a nice condition in the custom resource when you do keep cattle describe that shows you why the",
    "start": "886199",
    "end": "893459"
  },
  {
    "text": "the build is not successful otherwise after the verification it is going to",
    "start": "893459",
    "end": "898500"
  },
  {
    "text": "pull your hair much effect build how much effect with the given optional value files because what we do with",
    "start": "898500",
    "end": "905639"
  },
  {
    "text": "search controller is the the default value file is not included if it's not",
    "start": "905639",
    "end": "910800"
  },
  {
    "text": "if you do not specify it then you package the store to do the chart and we store it as a notch effect with the",
    "start": "910800",
    "end": "917760"
  },
  {
    "text": "location that can be used and then it's the kubernetes API servers receive a notification and notify all",
    "start": "917760",
    "end": "925500"
  },
  {
    "text": "watching controllers and one of the watching controllers is the Hem controller what the Hem controller is",
    "start": "925500",
    "end": "931139"
  },
  {
    "text": "going to do is first fetch all the values that you have set",
    "start": "931139",
    "end": "936600"
  },
  {
    "text": "and into your resources the resources being config maps and secrets that you",
    "start": "936600",
    "end": "942660"
  },
  {
    "text": "merge them together and then it will fetch the artifact and we'll do the",
    "start": "942660",
    "end": "948060"
  },
  {
    "text": "deployment of server list the deployment being either a hem install or Helm",
    "start": "948060",
    "end": "953399"
  },
  {
    "text": "update and then this is the same process that exists today",
    "start": "953399",
    "end": "959000"
  },
  {
    "text": "we have also integrated uh while integrating oci you have want to also integrated context file login and I",
    "start": "959699",
    "end": "966959"
  },
  {
    "text": "think this is you okay what we do is this is something that we",
    "start": "966959",
    "end": "973199"
  },
  {
    "text": "already had with the image automation controller what what it does is that it's uh take",
    "start": "973199",
    "end": "980040"
  },
  {
    "text": "your image your profile your cloud provider",
    "start": "980040",
    "end": "986880"
  },
  {
    "text": "identity service and if you specify that we want to use a given provider it will",
    "start": "986880",
    "end": "992279"
  },
  {
    "text": "use the workload identity either to the service account attach your controller",
    "start": "992279",
    "end": "999180"
  },
  {
    "text": "either to to the node just the I don't attached to your node and what it's",
    "start": "999180",
    "end": "1004699"
  },
  {
    "text": "going to do is instead of providing a secret with uh authentication tokens you",
    "start": "1004699",
    "end": "1013160"
  },
  {
    "text": "can just set a field provider with the name of your cloud provider and what Plex will",
    "start": "1013160",
    "end": "1019399"
  },
  {
    "text": "do is flex will ask your cloud provider for a token in order to authenticate and be able to pull the given artifact",
    "start": "1019399",
    "end": "1028178"
  },
  {
    "text": "uh construct yeah only one other node I wanted to",
    "start": "1028339",
    "end": "1036260"
  },
  {
    "text": "to mention about that is um it's it's actually a yes yeah I'm sorry",
    "start": "1036260",
    "end": "1042678"
  },
  {
    "text": "um it's it's a key on the oci registry custom resource definition that just",
    "start": "1042679",
    "end": "1047839"
  },
  {
    "text": "says provider we didn't put those in the earlier slides because we didn't want to confuse didn't want to add that new",
    "start": "1047839",
    "end": "1053240"
  },
  {
    "text": "functionality we were talking just about migration but uh but yeah you just simply say gcp AWS",
    "start": "1053240",
    "end": "1059600"
  },
  {
    "text": "Etc and um the open ID connects you support to provider gcp awus and Azure cloud",
    "start": "1059600",
    "end": "1068960"
  },
  {
    "text": "cool yeah and um you know this the CLI",
    "start": "1068960",
    "end": "1075440"
  },
  {
    "text": "um has some flux CLI again you don't need to use the flux CLI in order to be a flux user uh it just it's really handy",
    "start": "1075440",
    "end": "1083480"
  },
  {
    "text": "so most people like to use it for different things such as this so for example you could use the orus project",
    "start": "1083480",
    "end": "1089240"
  },
  {
    "text": "directly to build your artifacts but um but flux has built-in tooling to call",
    "start": "1089240",
    "end": "1095960"
  },
  {
    "text": "that just like Helm does for um you know the the build Push Pull so",
    "start": "1095960",
    "end": "1102620"
  },
  {
    "text": "these are the these are the commands flux build artifact you give it you specify it uh a path to where your",
    "start": "1102620",
    "end": "1110179"
  },
  {
    "text": "manifests are when you want to package them up um and again since this is for",
    "start": "1110179",
    "end": "1115640"
  },
  {
    "text": "customized controller it can be your manifest in this case can be plain yaml",
    "start": "1115640",
    "end": "1121400"
  },
  {
    "text": "or customized overlays um and then you just give it an output where you want the packaged artifact to",
    "start": "1121400",
    "end": "1128240"
  },
  {
    "text": "live on your file system um [Music] you you probably some of you may have",
    "start": "1128240",
    "end": "1133880"
  },
  {
    "text": "seen pinky stock earlier where she just she talked about terraform influx so uh in that that's an example of if you're",
    "start": "1133880",
    "end": "1140960"
  },
  {
    "text": "using a controller that reads manifests that are packaged in a different way or represented in a different way like your terraform plans",
    "start": "1140960",
    "end": "1147440"
  },
  {
    "text": "um or excuse me your terraform uh resources you your path would be toward",
    "start": "1147440",
    "end": "1153260"
  },
  {
    "text": "that directory where you keep those um or or in the single file and then uh",
    "start": "1153260",
    "end": "1159380"
  },
  {
    "text": "you can do this uh essentially use use flux CLI to push as well",
    "start": "1159380",
    "end": "1164600"
  },
  {
    "text": "um it uses or uh it basically it uses the API the same API under the hood um you just do your Docker login to get",
    "start": "1164600",
    "end": "1171740"
  },
  {
    "text": "your config or however you want your to authorize your um uh to the registry",
    "start": "1171740",
    "end": "1178520"
  },
  {
    "text": "that you want to use and you just do a flux push you do the same thing you you give it the path that you of the repo",
    "start": "1178520",
    "end": "1186400"
  },
  {
    "text": "excuse me you give it the URI of the oci registry that you want and then",
    "start": "1186400",
    "end": "1193220"
  },
  {
    "text": "um you know the the the app in this case that's the that's the repo and then what",
    "start": "1193220",
    "end": "1198679"
  },
  {
    "text": "this is doing is just getting um the tag um",
    "start": "1198679",
    "end": "1203780"
  },
  {
    "text": "and um and then you're you give it the path where you where you want your manifests to come from uh if you",
    "start": "1203780",
    "end": "1210200"
  },
  {
    "text": "optionally right if you hadn't already packaged it you give it your um your Source uh the sources on the web is then",
    "start": "1210200",
    "end": "1217160"
  },
  {
    "text": "you put this as annotation if actually on the artifact right yeah exactly so it can comply with oci",
    "start": "1217160",
    "end": "1224059"
  },
  {
    "text": "annotation um information so that you can parse that with your tooling and um in this",
    "start": "1224059",
    "end": "1230960"
  },
  {
    "text": "case um why are we adding the revision now that I'm actually what we do here which we take",
    "start": "1230960",
    "end": "1237080"
  },
  {
    "text": "the because this is from git we get the the current uh git commit and you put it as",
    "start": "1237080",
    "end": "1245059"
  },
  {
    "text": "the revision actually as an annotation uh when you push artifacts so can we",
    "start": "1245059",
    "end": "1250340"
  },
  {
    "text": "prove that in fact we have The annotation and you can see it on the on the flex",
    "start": "1250340",
    "end": "1255740"
  },
  {
    "text": "side in the customer service uh that's so awesome uh Soule knows more about this than I do obviously that's really",
    "start": "1255740",
    "end": "1261440"
  },
  {
    "text": "great um and yeah then there's also the pull command and it's it's almost the opposite of the pressure uh",
    "start": "1261440",
    "end": "1270019"
  },
  {
    "text": "now the for the demo we have we will be using a fork of body info from Stefan",
    "start": "1270260",
    "end": "1277640"
  },
  {
    "text": "and we have two skills can I use the first one is that you're going to migrate Podium for kubernetes manifest",
    "start": "1277640",
    "end": "1285559"
  },
  {
    "text": "from git to oci so we will be handling packaging and pushing the Manifest to",
    "start": "1285559",
    "end": "1292760"
  },
  {
    "text": "GitHub container registry signing it with cosine and deploying them to kubernetes the the second one is the",
    "start": "1292760",
    "end": "1300679"
  },
  {
    "text": "same thing but you will be using the provided Helm chart to Market it to oci and again packaging signing and entering",
    "start": "1300679",
    "end": "1309140"
  },
  {
    "text": "to kubernetes uh so let's see",
    "start": "1309140",
    "end": "1316120"
  },
  {
    "text": "so I uh yeah we use a pack of putting for as I said so we put info is giving",
    "start": "1320600",
    "end": "1327140"
  },
  {
    "text": "us um manifest we have a customization HPA on the",
    "start": "1327140",
    "end": "1333020"
  },
  {
    "text": "service uh deployment and we have added or shared we have added so here this is a",
    "start": "1333020",
    "end": "1339320"
  },
  {
    "text": "deployment so I'm just going to move in and what we have added is you have added",
    "start": "1339320",
    "end": "1344840"
  },
  {
    "text": "a secret [Music] which just to show you how you can",
    "start": "1344840",
    "end": "1350960"
  },
  {
    "text": "package together many different manifests so this is encrypted with age",
    "start": "1350960",
    "end": "1357500"
  },
  {
    "text": "what we're going to do is we're going to package our manifest",
    "start": "1357500",
    "end": "1363740"
  },
  {
    "text": "our archive and then we're going to push them to OS what's the package them so we put what",
    "start": "1363740",
    "end": "1370880"
  },
  {
    "text": "is insured and what is in customized into archive I will show you what's inside",
    "start": "1370880",
    "end": "1377360"
  },
  {
    "text": "and then we're going to push with us when you push it RS what you're going to do is uh we give the location and the",
    "start": "1377360",
    "end": "1385880"
  },
  {
    "text": "name of the the other artifact with the tag and we provide as well the major",
    "start": "1385880",
    "end": "1391100"
  },
  {
    "text": "type here is going to be a layer of the and compass with gzip",
    "start": "1391100",
    "end": "1397460"
  },
  {
    "text": "so then we push it and and that's just to show again that you can push with either flux CLI or RS",
    "start": "1397460",
    "end": "1406720"
  },
  {
    "text": "so we have the digest what you can go is local",
    "start": "1407120",
    "end": "1412640"
  },
  {
    "text": "on GitHub that we have new digest with 6.2.2",
    "start": "1412640",
    "end": "1417860"
  },
  {
    "text": "then we're going to sign it in order to sign it we use the cosine CLI that will be generating uh isometric keys for us",
    "start": "1417860",
    "end": "1426280"
  },
  {
    "text": "private on a public key and we're going to sign our artifact",
    "start": "1426280",
    "end": "1431419"
  },
  {
    "text": "with the private key so when we sign we specify the location",
    "start": "1431419",
    "end": "1436940"
  },
  {
    "text": "of the artifact and because I'm going to pull it retrieve the Manifest and sign it first",
    "start": "1436940",
    "end": "1442580"
  },
  {
    "text": "and then push the signature collocated with the Manifest when it is pushing the signature what we can see here is that",
    "start": "1442580",
    "end": "1450620"
  },
  {
    "text": "uh it's it uh set a tag for the signature find finishing with that Sig and the tag",
    "start": "1450620",
    "end": "1458000"
  },
  {
    "text": "actually is uh the digest of the Manifest of the USA many test",
    "start": "1458000",
    "end": "1465100"
  },
  {
    "text": "so now this is done so we need actually we need the public the",
    "start": "1466760",
    "end": "1472880"
  },
  {
    "text": "public key in order to do the verification uh in kubernetes side so we create a secret with this and then what",
    "start": "1472880",
    "end": "1479059"
  },
  {
    "text": "you're going to do is we're going to coming back we're going to deploy an oci repository",
    "start": "1479059",
    "end": "1486140"
  },
  {
    "text": "then put info with the location of our wholesale artifact I'm going to provide",
    "start": "1486140",
    "end": "1492679"
  },
  {
    "text": "a Sim somewhere and at the end we what we do is we set a verify",
    "start": "1492679",
    "end": "1500419"
  },
  {
    "text": "field with the provider set to cosine and we give the security friends for",
    "start": "1500419",
    "end": "1506080"
  },
  {
    "text": "containing our public key so we apply this",
    "start": "1506080",
    "end": "1514059"
  },
  {
    "text": "and then once it's applied we can look at our custody I will say",
    "start": "1515720",
    "end": "1523460"
  },
  {
    "text": "repository and here what you can see is that you have an artifact",
    "start": "1523460",
    "end": "1528679"
  },
  {
    "text": "Attica containing our manifest and we can see at the end that we have",
    "start": "1528679",
    "end": "1534200"
  },
  {
    "text": "a 60 in the condition you can see that we have condition type search by a file",
    "start": "1534200",
    "end": "1539240"
  },
  {
    "text": "and that it has six digits and you have the verified the signature of the given revision",
    "start": "1539240",
    "end": "1547240"
  },
  {
    "text": "true so now what you're going to do is we're going to using the flex CLI we",
    "start": "1548179",
    "end": "1557000"
  },
  {
    "text": "are going to create a customization that is going to fetch uh the the artifact",
    "start": "1557000",
    "end": "1562880"
  },
  {
    "text": "set by the oci repository and apply the given manifesting kubernetes",
    "start": "1562880",
    "end": "1569679"
  },
  {
    "text": "and you provided the sub decryption key for the for the subsequent",
    "start": "1572720",
    "end": "1578659"
  },
  {
    "text": "so this is applied here we but you can see if you look",
    "start": "1578659",
    "end": "1584240"
  },
  {
    "text": "at the status you can see here we have an uh the customized controller existing",
    "start": "1584240",
    "end": "1590240"
  },
  {
    "text": "as an inventory in the inventory you can see what is half applied so here we can see it has",
    "start": "1590240",
    "end": "1596539"
  },
  {
    "text": "supplied a secret a service a deployment and an HPA",
    "start": "1596539",
    "end": "1602379"
  },
  {
    "text": "those are all the manifests that were part of the icon that you push at the beginning",
    "start": "1602480",
    "end": "1609380"
  },
  {
    "text": "foreign so we look at them then",
    "start": "1609380",
    "end": "1614320"
  },
  {
    "text": "we check that all of them already the deployment and also uh we have checked that here",
    "start": "1615200",
    "end": "1622940"
  },
  {
    "text": "you can see the secret the secret name the required has been decrypted it's a local config.json",
    "start": "1622940",
    "end": "1628940"
  },
  {
    "text": "it's not uh it's not anymore a subscripted secret",
    "start": "1628940",
    "end": "1634460"
  },
  {
    "text": "so that was for the first one so let's move on to the second one skip this",
    "start": "1634460",
    "end": "1641080"
  },
  {
    "text": "so the second one uh is now a question",
    "start": "1641740",
    "end": "1647020"
  },
  {
    "text": "so this is not the second file you see this control is uh Podium 4",
    "start": "1647020",
    "end": "1654500"
  },
  {
    "text": "providers also with the chart so here we have the Hem chart is the",
    "start": "1654500",
    "end": "1660380"
  },
  {
    "text": "first one is 6.2.1 so let's move on what we're going to do is we will package it with the mcli and",
    "start": "1660380",
    "end": "1666799"
  },
  {
    "text": "package and then we will push it to the this time you're using you are using a",
    "start": "1666799",
    "end": "1673039"
  },
  {
    "text": "gcp artifact registry and you are going to use uh the expense experimental",
    "start": "1673039",
    "end": "1678500"
  },
  {
    "text": "feature of cosine you are going to do Achilles signing",
    "start": "1678500",
    "end": "1683659"
  },
  {
    "text": "keyless timing so so we packages",
    "start": "1683659",
    "end": "1690158"
  },
  {
    "text": "we push it we check that we have a new version 6.2.1",
    "start": "1690980",
    "end": "1696860"
  },
  {
    "text": "then we do uh experimental cosine so when we do the experimentary cosine uh",
    "start": "1696860",
    "end": "1702799"
  },
  {
    "text": "see a keyless signature what it's going to do is it's going to authenticate us",
    "start": "1702799",
    "end": "1708080"
  },
  {
    "text": "with um um with no IDC um",
    "start": "1708080",
    "end": "1714020"
  },
  {
    "text": "schemes so we are let's see so what we're going to do is going to authenticate this",
    "start": "1714020",
    "end": "1720740"
  },
  {
    "text": "because what it's going to do is is using the special certificate authority",
    "start": "1720740",
    "end": "1726559"
  },
  {
    "text": "to to generate uh a really uh short-lived certificate to do to do that",
    "start": "1726559",
    "end": "1733340"
  },
  {
    "text": "to do to do the signature shortly meaning 10 minutes here and uh when you",
    "start": "1733340",
    "end": "1739100"
  },
  {
    "text": "generate the certificate as a alternate name you will have your email",
    "start": "1739100",
    "end": "1744860"
  },
  {
    "text": "address actually this is something to know",
    "start": "1744860",
    "end": "1749679"
  },
  {
    "text": "so now this is done and here but you can see is that it has signed and pushes at",
    "start": "1750440",
    "end": "1757820"
  },
  {
    "text": "the bottom we can see that sassan and push the signature to our view this way",
    "start": "1757820",
    "end": "1763340"
  },
  {
    "text": "so then what you're going to do the same thing here that we showed uh Hemi repository pointing to our location and",
    "start": "1763340",
    "end": "1771860"
  },
  {
    "text": "we have set provider gcp here that's means we're doing a contextual login we're asking uh Helm",
    "start": "1771860",
    "end": "1780460"
  },
  {
    "text": "we are asking Flex to use our our add-on sheet not identity to fetch",
    "start": "1780460",
    "end": "1787640"
  },
  {
    "text": "our artifact from drastic registry without providing any authentication token or anything otherwise and then we",
    "start": "1787640",
    "end": "1795980"
  },
  {
    "text": "declare a heavy release that is pointing to this repository that will fetch but info",
    "start": "1795980",
    "end": "1802100"
  },
  {
    "text": "and apply Force so let's see what once we do this",
    "start": "1802100",
    "end": "1808039"
  },
  {
    "text": "to reapply everything so first we declare the ham repository",
    "start": "1808039",
    "end": "1814100"
  },
  {
    "text": "we see that this has 168 so it has six degrees in logging and verifying the",
    "start": "1814100",
    "end": "1820340"
  },
  {
    "text": "Authentication uh to a repository and then we see the",
    "start": "1820340",
    "end": "1826159"
  },
  {
    "text": "release and we see that the release has succeeded and it has installed on the",
    "start": "1826159",
    "end": "1831620"
  },
  {
    "text": "the body for the hand shot and it has done the verification you",
    "start": "1831620",
    "end": "1836899"
  },
  {
    "text": "have you can see here that we said verify provide a cosine and if you look",
    "start": "1836899",
    "end": "1842299"
  },
  {
    "text": "at the helm charts itself",
    "start": "1842299",
    "end": "1845919"
  },
  {
    "text": "we can see here that the handshot uh asset the artifact",
    "start": "1847580",
    "end": "1854539"
  },
  {
    "text": "and then in the condition you can see that the search daily pirate has succeeded as well",
    "start": "1854539",
    "end": "1861520"
  },
  {
    "text": "and that was the end yeah yeah so it was",
    "start": "1861679",
    "end": "1867860"
  },
  {
    "text": "we should can you just do the conclusion yeah yeah absolutely um so basically uh thanks for uh we're",
    "start": "1867860",
    "end": "1875840"
  },
  {
    "text": "maybe going over like a minute and a half two minutes so um then the coffee breaks are basically just like wrap up a couple of links and",
    "start": "1875840",
    "end": "1883520"
  },
  {
    "text": "some just info how you can get in touch with us so so basically like what again why are we transitioning to oci from",
    "start": "1883520",
    "end": "1890120"
  },
  {
    "text": "Helm it's to make sure that we adopt the same delivery it's when you want to I shouldn't say when you want to adopt the",
    "start": "1890120",
    "end": "1896899"
  },
  {
    "text": "same delivery mechanism for applications and configs so um there's no there's also no scaling",
    "start": "1896899",
    "end": "1903020"
  },
  {
    "text": "issues um uh related to the index.yaml that I mentioned before as an example with",
    "start": "1903020",
    "end": "1908419"
  },
  {
    "text": "bonami but that's just one example of many um really every time you call out to the",
    "start": "1908419",
    "end": "1914000"
  },
  {
    "text": "index file you're making another round trip so it takes that away it also",
    "start": "1914000",
    "end": "1919460"
  },
  {
    "text": "enables charts signature verification the same way that you do your images and",
    "start": "1919460",
    "end": "1924980"
  },
  {
    "text": "it um as uh sulay was just showing in the demo you can leverage leverage your provider edit ID service for off",
    "start": "1924980",
    "end": "1932299"
  },
  {
    "text": "so or oven so and then why would you transition from get to oci very similar first reason adopting the",
    "start": "1932299",
    "end": "1940279"
  },
  {
    "text": "same delivery mechanism um you also uh avoid Distributing objects with",
    "start": "1940279",
    "end": "1945679"
  },
  {
    "text": "different life cycles within the same repository um and you uh and similarly you enable",
    "start": "1945679",
    "end": "1952039"
  },
  {
    "text": "your config objects verification using cosine it also allows",
    "start": "1952039",
    "end": "1958520"
  },
  {
    "text": "better access control over a given artifact and um",
    "start": "1958520",
    "end": "1964220"
  },
  {
    "text": "the same with your your off end as well so",
    "start": "1964220",
    "end": "1969320"
  },
  {
    "text": "um there's some links if anyone wants to screenshot it yeah it will also we'll also uh you know upload this this uh PDF",
    "start": "1969320",
    "end": "1977240"
  },
  {
    "text": "with these links and um please please um yeah please stop by the flux Booth",
    "start": "1977240",
    "end": "1984320"
  },
  {
    "text": "we've got a lot of good talks coming up on this topic and other topics so uh",
    "start": "1984320",
    "end": "1989960"
  },
  {
    "text": "thank you very much thank you [Applause]",
    "start": "1989960",
    "end": "1996260"
  }
]