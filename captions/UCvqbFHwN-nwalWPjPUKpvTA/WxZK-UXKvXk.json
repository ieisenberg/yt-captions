[
  {
    "text": "hi everyone",
    "start": "2399",
    "end": "4140"
  },
  {
    "text": "how are we doing this afternoon",
    "start": "4140",
    "end": "6899"
  },
  {
    "text": "excellent thanks for uh thanks for",
    "start": "6899",
    "end": "10019"
  },
  {
    "text": "showing up uh 4 30 on Wednesday I know",
    "start": "10019",
    "end": "12900"
  },
  {
    "text": "the",
    "start": "12900",
    "end": "13860"
  },
  {
    "text": "parties are going to get started here",
    "start": "13860",
    "end": "15120"
  },
  {
    "text": "another hour or so so I really",
    "start": "15120",
    "end": "16440"
  },
  {
    "text": "appreciate you guys",
    "start": "16440",
    "end": "18779"
  },
  {
    "text": "sticking around for uh the late",
    "start": "18779",
    "end": "20340"
  },
  {
    "text": "afternoon talks we're heading out uh",
    "start": "20340",
    "end": "23760"
  },
  {
    "text": "this afternoon we're going to be talking",
    "start": "23760",
    "end": "24960"
  },
  {
    "text": "about uh C group V2",
    "start": "24960",
    "end": "27119"
  },
  {
    "text": "and uh taking a little journey of uh how",
    "start": "27119",
    "end": "30000"
  },
  {
    "text": "Adobe uh kind of came across this uh",
    "start": "30000",
    "end": "33540"
  },
  {
    "text": "this new development in kubernetes",
    "start": "33540",
    "end": "35940"
  },
  {
    "text": "uh before we get started my name is Tony",
    "start": "35940",
    "end": "38160"
  },
  {
    "text": "Goslin I'm a senior Cloud engineer at",
    "start": "38160",
    "end": "40980"
  },
  {
    "text": "ethos or excuse me with the ethos team",
    "start": "40980",
    "end": "43440"
  },
  {
    "text": "at Adobe and uh this is my co-presenter",
    "start": "43440",
    "end": "46500"
  },
  {
    "text": "I'm Mike tujron I'm a lead Cloud",
    "start": "46500",
    "end": "48420"
  },
  {
    "text": "engineer also at Adobe on the ethos team",
    "start": "48420",
    "end": "50399"
  },
  {
    "text": "and you can see all of our contact",
    "start": "50399",
    "end": "52020"
  },
  {
    "text": "information",
    "start": "52020",
    "end": "53399"
  },
  {
    "text": "below",
    "start": "53399",
    "end": "55680"
  },
  {
    "text": "excellent and before we start just a",
    "start": "55680",
    "end": "57840"
  },
  {
    "text": "little bit about who the ethos team is",
    "start": "57840",
    "end": "59840"
  },
  {
    "text": "ethos is how Adobe does containerized",
    "start": "59840",
    "end": "63420"
  },
  {
    "text": "workloads we uh it is basically it's",
    "start": "63420",
    "end": "66000"
  },
  {
    "text": "kubadium based uh kubernetes install",
    "start": "66000",
    "end": "70159"
  },
  {
    "text": "and Beyond just kubernetes it is also a",
    "start": "70159",
    "end": "74580"
  },
  {
    "text": "layer of tools and processes and",
    "start": "74580",
    "end": "77040"
  },
  {
    "text": "practices on top of that so container is",
    "start": "77040",
    "end": "79740"
  },
  {
    "text": "a service platform as a service Ingress",
    "start": "79740",
    "end": "82259"
  },
  {
    "text": "CI CD uh",
    "start": "82259",
    "end": "85020"
  },
  {
    "text": "security controls",
    "start": "85020",
    "end": "87420"
  },
  {
    "text": "you name it we do it we uh we basically",
    "start": "87420",
    "end": "90000"
  },
  {
    "text": "uh have a whole Suite of tools available",
    "start": "90000",
    "end": "93299"
  },
  {
    "text": "for our developers uh",
    "start": "93299",
    "end": "95579"
  },
  {
    "text": "we read across a number of clouds and",
    "start": "95579",
    "end": "98100"
  },
  {
    "text": "across a number of nodes we have the",
    "start": "98100",
    "end": "99960"
  },
  {
    "text": "prerequisite brag sheet there so you all",
    "start": "99960",
    "end": "101939"
  },
  {
    "text": "can ooh and awe uh with the the workload",
    "start": "101939",
    "end": "105360"
  },
  {
    "text": "sizes that we're doing and basically the",
    "start": "105360",
    "end": "107579"
  },
  {
    "text": "philosophy of ethos is uh we try to make",
    "start": "107579",
    "end": "110280"
  },
  {
    "text": "the container mistakes for everyone once",
    "start": "110280",
    "end": "111840"
  },
  {
    "text": "so that they can focus on deploying",
    "start": "111840",
    "end": "114060"
  },
  {
    "text": "really great applications uh",
    "start": "114060",
    "end": "117540"
  },
  {
    "text": "and are there any members of either of",
    "start": "117540",
    "end": "120119"
  },
  {
    "text": "our families here just in case there are",
    "start": "120119",
    "end": "122399"
  },
  {
    "text": "just want to really emphasize we have",
    "start": "122399",
    "end": "124500"
  },
  {
    "text": "nothing to do with how often acrobat",
    "start": "124500",
    "end": "126479"
  },
  {
    "text": "updates it's not our team that's",
    "start": "126479",
    "end": "128940"
  },
  {
    "text": "somebody else",
    "start": "128940",
    "end": "131660"
  },
  {
    "text": "so how'd this talk come to be uh I'd",
    "start": "132420",
    "end": "134459"
  },
  {
    "text": "love to sit here and tell you that you",
    "start": "134459",
    "end": "136440"
  },
  {
    "text": "know tuj and I got together and we uh",
    "start": "136440",
    "end": "139140"
  },
  {
    "text": "did a careful study of of Linux history",
    "start": "139140",
    "end": "141480"
  },
  {
    "text": "internals and you know picked out a",
    "start": "141480",
    "end": "144060"
  },
  {
    "text": "really great topic or that we uh we had",
    "start": "144060",
    "end": "146280"
  },
  {
    "text": "a meditation on on kubernetes releases",
    "start": "146280",
    "end": "148500"
  },
  {
    "text": "and neither of those things happened uh",
    "start": "148500",
    "end": "151080"
  },
  {
    "text": "what really happened was we knew the two",
    "start": "151080",
    "end": "153300"
  },
  {
    "text": "is greater than one uh we're operators",
    "start": "153300",
    "end": "156120"
  },
  {
    "text": "and uh we're kubernetes operators and we",
    "start": "156120",
    "end": "158760"
  },
  {
    "text": "really focused normally at that API",
    "start": "158760",
    "end": "161280"
  },
  {
    "text": "level give me an API let me deploy what",
    "start": "161280",
    "end": "164220"
  },
  {
    "text": "I want we don't really think about you",
    "start": "164220",
    "end": "166680"
  },
  {
    "text": "know what's underneath kubernetes all",
    "start": "166680",
    "end": "168239"
  },
  {
    "text": "the time we we want to deal with the fun",
    "start": "168239",
    "end": "170700"
  },
  {
    "text": "stuff the yaml everyone loves yaml today",
    "start": "170700",
    "end": "174120"
  },
  {
    "text": "we're not talking about yaml",
    "start": "174120",
    "end": "176940"
  },
  {
    "text": "um so here's what happened about",
    "start": "176940",
    "end": "179459"
  },
  {
    "text": "gosh almost a year ago we were going",
    "start": "179459",
    "end": "182040"
  },
  {
    "text": "through just a normal upgrade of our",
    "start": "182040",
    "end": "184260"
  },
  {
    "text": "clusters we were going ahead and",
    "start": "184260",
    "end": "185819"
  },
  {
    "text": "upgrading the underlying operating",
    "start": "185819",
    "end": "187140"
  },
  {
    "text": "system we use uh convoke flat car how",
    "start": "187140",
    "end": "190739"
  },
  {
    "text": "many people are familiar with flat car",
    "start": "190739",
    "end": "193080"
  },
  {
    "text": "excellent some black car fans here we're",
    "start": "193080",
    "end": "195480"
  },
  {
    "text": "big fans",
    "start": "195480",
    "end": "197099"
  },
  {
    "text": "so we went ahead uh we upgraded to uh",
    "start": "197099",
    "end": "199800"
  },
  {
    "text": "version",
    "start": "199800",
    "end": "201560"
  },
  {
    "text": "2969.0.0 and this particular version had",
    "start": "201560",
    "end": "205080"
  },
  {
    "text": "a a new note in the release logins now",
    "start": "205080",
    "end": "208260"
  },
  {
    "text": "we're defaulting to C group V2",
    "start": "208260",
    "end": "210599"
  },
  {
    "text": "that sounds great",
    "start": "210599",
    "end": "212400"
  },
  {
    "text": "2 is greater than one I love new",
    "start": "212400",
    "end": "215459"
  },
  {
    "text": "software let's let's enable it so we",
    "start": "215459",
    "end": "217980"
  },
  {
    "text": "went ahead and we went with it the first",
    "start": "217980",
    "end": "219540"
  },
  {
    "text": "thing that we found out was ah cluster",
    "start": "219540",
    "end": "221519"
  },
  {
    "text": "doesn't work that's that's no good so we",
    "start": "221519",
    "end": "224580"
  },
  {
    "text": "did a little research",
    "start": "224580",
    "end": "226379"
  },
  {
    "text": "come to find out we actually have to",
    "start": "226379",
    "end": "228840"
  },
  {
    "text": "make kublet and our container runtime",
    "start": "228840",
    "end": "232019"
  },
  {
    "text": "aware that we're running this new",
    "start": "232019",
    "end": "233879"
  },
  {
    "text": "version of C group okay great we can",
    "start": "233879",
    "end": "237180"
  },
  {
    "text": "figure that",
    "start": "237180",
    "end": "238200"
  },
  {
    "text": "our cluster starts fantastic",
    "start": "238200",
    "end": "241680"
  },
  {
    "text": "uh so we're uh going through uh with our",
    "start": "241680",
    "end": "245760"
  },
  {
    "text": "testing and then we find out that gosh",
    "start": "245760",
    "end": "247860"
  },
  {
    "text": "metric server is missing some key",
    "start": "247860",
    "end": "249239"
  },
  {
    "text": "metrics and in some cases it's it's not",
    "start": "249239",
    "end": "251280"
  },
  {
    "text": "starting so that's that's not good so we",
    "start": "251280",
    "end": "253680"
  },
  {
    "text": "we dive in a little deeper and find out",
    "start": "253680",
    "end": "255360"
  },
  {
    "text": "oh",
    "start": "255360",
    "end": "256380"
  },
  {
    "text": "C group uh actually is responsible for",
    "start": "256380",
    "end": "259500"
  },
  {
    "text": "some of the metrics that come out and",
    "start": "259500",
    "end": "261060"
  },
  {
    "text": "we're finding things like horizontal pod",
    "start": "261060",
    "end": "263880"
  },
  {
    "text": "Auto scaling wasn't working",
    "start": "263880",
    "end": "266340"
  },
  {
    "text": "so uh that's okay uh C group or excuse",
    "start": "266340",
    "end": "270360"
  },
  {
    "text": "me uh metric server rather relies on the",
    "start": "270360",
    "end": "273060"
  },
  {
    "text": "C advisor and the version of C advisor",
    "start": "273060",
    "end": "275820"
  },
  {
    "text": "that came with our version of kubernetes",
    "start": "275820",
    "end": "277199"
  },
  {
    "text": "which at the time was 1.20",
    "start": "277199",
    "end": "279560"
  },
  {
    "text": "it wasn't compatible or it wasn't aware",
    "start": "279560",
    "end": "282000"
  },
  {
    "text": "of secret V2 not a problem we won't use",
    "start": "282000",
    "end": "285360"
  },
  {
    "text": "that we'll run a newer version of C",
    "start": "285360",
    "end": "287340"
  },
  {
    "text": "advisor as a Daemon set we're very smart",
    "start": "287340",
    "end": "291660"
  },
  {
    "text": "so we run uh zero four three uh and it",
    "start": "291660",
    "end": "295500"
  },
  {
    "text": "works kind of uh some of the metrics now",
    "start": "295500",
    "end": "298919"
  },
  {
    "text": "work some do not at this point our",
    "start": "298919",
    "end": "301139"
  },
  {
    "text": "Telemetry team says guys",
    "start": "301139",
    "end": "302940"
  },
  {
    "text": "no we're no we're not doing this",
    "start": "302940",
    "end": "306360"
  },
  {
    "text": "um you've broken our metrics where we're",
    "start": "306360",
    "end": "308220"
  },
  {
    "text": "Flying Blind here this is definitely not",
    "start": "308220",
    "end": "311040"
  },
  {
    "text": "the way we can operate",
    "start": "311040",
    "end": "312600"
  },
  {
    "text": "and we were dumbfounded two is greater",
    "start": "312600",
    "end": "315120"
  },
  {
    "text": "than one we you know we're upgrading",
    "start": "315120",
    "end": "317400"
  },
  {
    "text": "software why why is this not working we",
    "start": "317400",
    "end": "319440"
  },
  {
    "text": "we looked through the logs uh you know",
    "start": "319440",
    "end": "321660"
  },
  {
    "text": "we had seen that c group V2 it was",
    "start": "321660",
    "end": "324479"
  },
  {
    "text": "mentioned in in the 119 release Vlog",
    "start": "324479",
    "end": "327419"
  },
  {
    "text": "should work with kubernetes 120. so we",
    "start": "327419",
    "end": "330479"
  },
  {
    "text": "stopped by signode and we said what did",
    "start": "330479",
    "end": "333360"
  },
  {
    "text": "we do wrong",
    "start": "333360",
    "end": "334500"
  },
  {
    "text": "and they kind of sat us down and uh and",
    "start": "334500",
    "end": "336840"
  },
  {
    "text": "let us know that it's a lot more than",
    "start": "336840",
    "end": "339180"
  },
  {
    "text": "just setting a config flag and starting",
    "start": "339180",
    "end": "342000"
  },
  {
    "text": "your cluster there are some",
    "start": "342000",
    "end": "343199"
  },
  {
    "text": "considerations you have to take before",
    "start": "343199",
    "end": "345419"
  },
  {
    "text": "you go ahead and enable this new feature",
    "start": "345419",
    "end": "348000"
  },
  {
    "text": "and this is kind of the the thrust of",
    "start": "348000",
    "end": "350220"
  },
  {
    "text": "what we wanted to talk about today what",
    "start": "350220",
    "end": "351840"
  },
  {
    "text": "what do you need to consider before you",
    "start": "351840",
    "end": "353940"
  },
  {
    "text": "go ahead and just flip the switch on C",
    "start": "353940",
    "end": "356039"
  },
  {
    "text": "group V2",
    "start": "356039",
    "end": "358759"
  },
  {
    "text": "so what are c groups",
    "start": "358800",
    "end": "361020"
  },
  {
    "text": "c groups are control groups uh control",
    "start": "361020",
    "end": "364440"
  },
  {
    "text": "groups were added to the Linux kernel",
    "start": "364440",
    "end": "366180"
  },
  {
    "text": "starting in January of 2008",
    "start": "366180",
    "end": "369660"
  },
  {
    "text": "and they're accessible via virtual file",
    "start": "369660",
    "end": "371580"
  },
  {
    "text": "system like everything else in the Linux",
    "start": "371580",
    "end": "374460"
  },
  {
    "text": "kernel",
    "start": "374460",
    "end": "375539"
  },
  {
    "text": "and and really uh c groups the the main",
    "start": "375539",
    "end": "378780"
  },
  {
    "text": "function is to help you control and",
    "start": "378780",
    "end": "381600"
  },
  {
    "text": "account for resources so this is where",
    "start": "381600",
    "end": "384539"
  },
  {
    "text": "you can",
    "start": "384539",
    "end": "385560"
  },
  {
    "text": "basically at a process level set limits",
    "start": "385560",
    "end": "389160"
  },
  {
    "text": "on how much of a resource a process can",
    "start": "389160",
    "end": "392520"
  },
  {
    "text": "use and as well as find out what its",
    "start": "392520",
    "end": "396840"
  },
  {
    "text": "current usage is so we get that kind of",
    "start": "396840",
    "end": "399300"
  },
  {
    "text": "accounting and and Resource Management",
    "start": "399300",
    "end": "401639"
  },
  {
    "text": "out of the system without c groups",
    "start": "401639",
    "end": "405720"
  },
  {
    "text": "there are no containers uh and there is",
    "start": "405720",
    "end": "408419"
  },
  {
    "text": "no kubernetes",
    "start": "408419",
    "end": "410160"
  },
  {
    "text": "um just to be very clear this is a",
    "start": "410160",
    "end": "412919"
  },
  {
    "text": "feature that we all of us use every day",
    "start": "412919",
    "end": "416060"
  },
  {
    "text": "whether we know it or not and it's it's",
    "start": "416060",
    "end": "418800"
  },
  {
    "text": "really part and parcel to uh to how",
    "start": "418800",
    "end": "421860"
  },
  {
    "text": "these systems function so it's you know",
    "start": "421860",
    "end": "424500"
  },
  {
    "text": "it's",
    "start": "424500",
    "end": "425400"
  },
  {
    "text": "it's a system that we have to uh really",
    "start": "425400",
    "end": "427680"
  },
  {
    "text": "give some thought when we're we're",
    "start": "427680",
    "end": "429120"
  },
  {
    "text": "making changes to it uh and about how it",
    "start": "429120",
    "end": "432120"
  },
  {
    "text": "functions and and what is compatible",
    "start": "432120",
    "end": "433740"
  },
  {
    "text": "with it",
    "start": "433740",
    "end": "435840"
  },
  {
    "text": "how in particular you know what are some",
    "start": "435840",
    "end": "438000"
  },
  {
    "text": "examples of where you might see this in",
    "start": "438000",
    "end": "440039"
  },
  {
    "text": "kubernetes",
    "start": "440039",
    "end": "441120"
  },
  {
    "text": "the two most common examples you're",
    "start": "441120",
    "end": "443520"
  },
  {
    "text": "setting your resources and your limits",
    "start": "443520",
    "end": "445259"
  },
  {
    "text": "on a container that's actually flowing",
    "start": "445259",
    "end": "447660"
  },
  {
    "text": "back down through to the C group level",
    "start": "447660",
    "end": "450840"
  },
  {
    "text": "as well as the metrics you might get for",
    "start": "450840",
    "end": "454319"
  },
  {
    "text": "you know resource usage for a particular",
    "start": "454319",
    "end": "456479"
  },
  {
    "text": "pod or container those are also coming",
    "start": "456479",
    "end": "459180"
  },
  {
    "text": "from c groups the system is basically",
    "start": "459180",
    "end": "461900"
  },
  {
    "text": "interrogating down through the levels",
    "start": "461900",
    "end": "463800"
  },
  {
    "text": "and that's where it's pulling those",
    "start": "463800",
    "end": "465240"
  },
  {
    "text": "metrics",
    "start": "465240",
    "end": "466860"
  },
  {
    "text": "um other things that might use c groups",
    "start": "466860",
    "end": "469380"
  },
  {
    "text": "uh either directly or indirectly are",
    "start": "469380",
    "end": "471720"
  },
  {
    "text": "things that rely on those metrics like",
    "start": "471720",
    "end": "473759"
  },
  {
    "text": "again horizontal pod Auto scalar is a is",
    "start": "473759",
    "end": "476220"
  },
  {
    "text": "a good example of that",
    "start": "476220",
    "end": "479180"
  },
  {
    "text": "so secret V2 what changed",
    "start": "479460",
    "end": "483120"
  },
  {
    "text": "secret V2 is introduced to the kernel as",
    "start": "483120",
    "end": "486599"
  },
  {
    "text": "a non-experimental feature in uh 4.5",
    "start": "486599",
    "end": "489780"
  },
  {
    "text": "that was back in March of 2015. so it's",
    "start": "489780",
    "end": "492479"
  },
  {
    "text": "it's fair it's been stable for gosh",
    "start": "492479",
    "end": "495300"
  },
  {
    "text": "seven years now",
    "start": "495300",
    "end": "497340"
  },
  {
    "text": "um the single biggest feature that was",
    "start": "497340",
    "end": "499860"
  },
  {
    "text": "introduced was the introduction of a",
    "start": "499860",
    "end": "502080"
  },
  {
    "text": "single and what I call a strict",
    "start": "502080",
    "end": "504599"
  },
  {
    "text": "hierarchy",
    "start": "504599",
    "end": "505979"
  },
  {
    "text": "so",
    "start": "505979",
    "end": "507300"
  },
  {
    "text": "c groups when it was first invented or",
    "start": "507300",
    "end": "510060"
  },
  {
    "text": "first written rather it was a feature",
    "start": "510060",
    "end": "512520"
  },
  {
    "text": "that was written with maximum",
    "start": "512520",
    "end": "514020"
  },
  {
    "text": "flexibility basically the the kernel",
    "start": "514020",
    "end": "516659"
  },
  {
    "text": "developers at the time wanted to give",
    "start": "516659",
    "end": "519260"
  },
  {
    "text": "folks writing software",
    "start": "519260",
    "end": "522060"
  },
  {
    "text": "as many ways as possible to to manage uh",
    "start": "522060",
    "end": "525899"
  },
  {
    "text": "resources around their processes and in",
    "start": "525899",
    "end": "528540"
  },
  {
    "text": "the process they kind of created a",
    "start": "528540",
    "end": "530640"
  },
  {
    "text": "system that was really hard to manage",
    "start": "530640",
    "end": "534420"
  },
  {
    "text": "um so for example",
    "start": "534420",
    "end": "536160"
  },
  {
    "text": "hopefully this is big enough for you to",
    "start": "536160",
    "end": "537839"
  },
  {
    "text": "see I tried to blow up this diagram as",
    "start": "537839",
    "end": "540240"
  },
  {
    "text": "big as possible",
    "start": "540240",
    "end": "541800"
  },
  {
    "text": "but on the top here we have a c groups",
    "start": "541800",
    "end": "545040"
  },
  {
    "text": "V1 hierarchy",
    "start": "545040",
    "end": "547080"
  },
  {
    "text": "so you can see here",
    "start": "547080",
    "end": "549720"
  },
  {
    "text": "excuse me",
    "start": "549720",
    "end": "551100"
  },
  {
    "text": "at the top of my hierarchy I have what",
    "start": "551100",
    "end": "553019"
  },
  {
    "text": "are called by controllers so I have a",
    "start": "553019",
    "end": "554760"
  },
  {
    "text": "controller per resource in this",
    "start": "554760",
    "end": "557160"
  },
  {
    "text": "particular example I have a controller",
    "start": "557160",
    "end": "558720"
  },
  {
    "text": "for Block i o memory and process IDs",
    "start": "558720",
    "end": "562860"
  },
  {
    "text": "and then underneath that you can see I",
    "start": "562860",
    "end": "564959"
  },
  {
    "text": "have software I have uh BG and ad hoc",
    "start": "564959",
    "end": "567720"
  },
  {
    "text": "and I have groups under there group a",
    "start": "567720",
    "end": "569519"
  },
  {
    "text": "and Group B",
    "start": "569519",
    "end": "571440"
  },
  {
    "text": "in this particular example for one",
    "start": "571440",
    "end": "574200"
  },
  {
    "text": "process I'm actually spread out across",
    "start": "574200",
    "end": "576420"
  },
  {
    "text": "multiple groups I have a group",
    "start": "576420",
    "end": "578220"
  },
  {
    "text": "controlling my block i o for a but then",
    "start": "578220",
    "end": "580800"
  },
  {
    "text": "I also have a group for a controlling",
    "start": "580800",
    "end": "582899"
  },
  {
    "text": "memory limits they're two different",
    "start": "582899",
    "end": "584580"
  },
  {
    "text": "groups now if I want to control things",
    "start": "584580",
    "end": "587880"
  },
  {
    "text": "completely from a resource perspective",
    "start": "587880",
    "end": "589620"
  },
  {
    "text": "resources first that's great that's a",
    "start": "589620",
    "end": "592380"
  },
  {
    "text": "great way to organize things",
    "start": "592380",
    "end": "594000"
  },
  {
    "text": "what turned out in practice as most",
    "start": "594000",
    "end": "596339"
  },
  {
    "text": "people manage resources at the process",
    "start": "596339",
    "end": "598620"
  },
  {
    "text": "level they want to be able to restrict",
    "start": "598620",
    "end": "600839"
  },
  {
    "text": "in a coordinated fashion",
    "start": "600839",
    "end": "602880"
  },
  {
    "text": "at the process so they want to group",
    "start": "602880",
    "end": "604740"
  },
  {
    "text": "their CPU and their memory usage",
    "start": "604740",
    "end": "606480"
  },
  {
    "text": "together they want to group their block",
    "start": "606480",
    "end": "607860"
  },
  {
    "text": "i o and their Network everything",
    "start": "607860",
    "end": "609360"
  },
  {
    "text": "together controlled and tied to one pit",
    "start": "609360",
    "end": "612260"
  },
  {
    "text": "in this particular setup with c groups",
    "start": "612260",
    "end": "615839"
  },
  {
    "text": "V1 what you actually could do or wind up",
    "start": "615839",
    "end": "619140"
  },
  {
    "text": "doing is you could actually attach",
    "start": "619140",
    "end": "621480"
  },
  {
    "text": "particular threads for a process",
    "start": "621480",
    "end": "623940"
  },
  {
    "text": "to different groups",
    "start": "623940",
    "end": "626399"
  },
  {
    "text": "so in order to manage these resources it",
    "start": "626399",
    "end": "629160"
  },
  {
    "text": "became incredibly difficult people wrote",
    "start": "629160",
    "end": "631140"
  },
  {
    "text": "some really convoluted code to try to do",
    "start": "631140",
    "end": "633420"
  },
  {
    "text": "coordinated management from a process",
    "start": "633420",
    "end": "635640"
  },
  {
    "text": "perspective for a tree that was really",
    "start": "635640",
    "end": "637740"
  },
  {
    "text": "oriented from a resource perspective",
    "start": "637740",
    "end": "641399"
  },
  {
    "text": "so when this was written in c groups V2",
    "start": "641399",
    "end": "643800"
  },
  {
    "text": "the model was flipped on its head now we",
    "start": "643800",
    "end": "646920"
  },
  {
    "text": "have processes at the top of the tree",
    "start": "646920",
    "end": "648660"
  },
  {
    "text": "it's a single hierarchy the process is",
    "start": "648660",
    "end": "651480"
  },
  {
    "text": "at the top",
    "start": "651480",
    "end": "652740"
  },
  {
    "text": "I have a subgroup that says these are",
    "start": "652740",
    "end": "655740"
  },
  {
    "text": "the resources I'm managing I have",
    "start": "655740",
    "end": "657600"
  },
  {
    "text": "another subgroup where I actually set",
    "start": "657600",
    "end": "659100"
  },
  {
    "text": "those limits",
    "start": "659100",
    "end": "660720"
  },
  {
    "text": "and so now I'm able to manage things at",
    "start": "660720",
    "end": "663240"
  },
  {
    "text": "the process level in a very tightly",
    "start": "663240",
    "end": "665579"
  },
  {
    "text": "coordinated fashion there are also some",
    "start": "665579",
    "end": "668040"
  },
  {
    "text": "other rules",
    "start": "668040",
    "end": "669420"
  },
  {
    "text": "um uh and some flexibility that was",
    "start": "669420",
    "end": "672120"
  },
  {
    "text": "taken away at this point that makes it a",
    "start": "672120",
    "end": "674880"
  },
  {
    "text": "lot easier to manage resources so for",
    "start": "674880",
    "end": "676740"
  },
  {
    "text": "example all threads can only belong to",
    "start": "676740",
    "end": "679380"
  },
  {
    "text": "one group",
    "start": "679380",
    "end": "680519"
  },
  {
    "text": "amazing",
    "start": "680519",
    "end": "682560"
  },
  {
    "text": "um",
    "start": "682560",
    "end": "684620"
  },
  {
    "text": "yeah so",
    "start": "685260",
    "end": "687480"
  },
  {
    "text": "that was uh basically uh probably the",
    "start": "687480",
    "end": "691200"
  },
  {
    "text": "single biggest feature for C group V2 it",
    "start": "691200",
    "end": "694680"
  },
  {
    "text": "makes it safer to uh",
    "start": "694680",
    "end": "697500"
  },
  {
    "text": "coordinate resource management",
    "start": "697500",
    "end": "700220"
  },
  {
    "text": "all in one group make sure that it's a",
    "start": "700220",
    "end": "703920"
  },
  {
    "text": "lot more thread safe that we're",
    "start": "703920",
    "end": "706140"
  },
  {
    "text": "you know basically coordinating threads",
    "start": "706140",
    "end": "707940"
  },
  {
    "text": "in one group it basically takes a lot of",
    "start": "707940",
    "end": "709980"
  },
  {
    "text": "the convoluted programming around",
    "start": "709980",
    "end": "712160"
  },
  {
    "text": "resource management",
    "start": "712160",
    "end": "714600"
  },
  {
    "text": "and just builds it directly into the C",
    "start": "714600",
    "end": "716459"
  },
  {
    "text": "group system as opposed to having to",
    "start": "716459",
    "end": "718620"
  },
  {
    "text": "abstract it out and build it in the",
    "start": "718620",
    "end": "721019"
  },
  {
    "text": "layer above",
    "start": "721019",
    "end": "722399"
  },
  {
    "text": "some other cool features that came out",
    "start": "722399",
    "end": "723959"
  },
  {
    "text": "of secret V2 uh EBP ebpf oriented device",
    "start": "723959",
    "end": "728700"
  },
  {
    "text": "control so in secret V1 devices were",
    "start": "728700",
    "end": "731040"
  },
  {
    "text": "often controlled via static files now",
    "start": "731040",
    "end": "733500"
  },
  {
    "text": "sea group V2 was actually built with",
    "start": "733500",
    "end": "736320"
  },
  {
    "text": "ties into EBP ebpf to control devices",
    "start": "736320",
    "end": "741480"
  },
  {
    "text": "uh there's the exposure of pressure",
    "start": "741480",
    "end": "744240"
  },
  {
    "text": "stall information so",
    "start": "744240",
    "end": "747240"
  },
  {
    "text": "Beyond just having metrics around point",
    "start": "747240",
    "end": "750300"
  },
  {
    "text": "in time usage for resources now we have",
    "start": "750300",
    "end": "753240"
  },
  {
    "text": "information about usage over time is",
    "start": "753240",
    "end": "756060"
  },
  {
    "text": "your application",
    "start": "756060",
    "end": "757380"
  },
  {
    "text": "or a process rather having spiky usage",
    "start": "757380",
    "end": "760680"
  },
  {
    "text": "did it all of a sudden consume 50 more",
    "start": "760680",
    "end": "764100"
  },
  {
    "text": "memory and getting close to its limit or",
    "start": "764100",
    "end": "766620"
  },
  {
    "text": "did that happen over a longer period of",
    "start": "766620",
    "end": "769019"
  },
  {
    "text": "time and that kind of information you",
    "start": "769019",
    "end": "771180"
  },
  {
    "text": "can actually use to make decisions about",
    "start": "771180",
    "end": "773220"
  },
  {
    "text": "how you deal with resources and",
    "start": "773220",
    "end": "775980"
  },
  {
    "text": "prioritization processes",
    "start": "775980",
    "end": "778980"
  },
  {
    "text": "twos we'll get into that a little more",
    "start": "778980",
    "end": "780660"
  },
  {
    "text": "as well and how that deals with",
    "start": "780660",
    "end": "781920"
  },
  {
    "text": "kubernetes",
    "start": "781920",
    "end": "783120"
  },
  {
    "text": "and finally um with secret V2",
    "start": "783120",
    "end": "787139"
  },
  {
    "text": "um one of the things that gets enabled",
    "start": "787139",
    "end": "789420"
  },
  {
    "text": "that's really awesome is a resource",
    "start": "789420",
    "end": "791639"
  },
  {
    "text": "limitation for rootless containers in",
    "start": "791639",
    "end": "793800"
  },
  {
    "text": "secret V1 in order to run c groups they",
    "start": "793800",
    "end": "797100"
  },
  {
    "text": "had to run with root permissions",
    "start": "797100",
    "end": "799440"
  },
  {
    "text": "um so with secret V1 in kubernetes you",
    "start": "799440",
    "end": "803820"
  },
  {
    "text": "could run a rootless container but you",
    "start": "803820",
    "end": "805980"
  },
  {
    "text": "couldn't limit the resources on it you",
    "start": "805980",
    "end": "808800"
  },
  {
    "text": "basically had to allow whatever",
    "start": "808800",
    "end": "810120"
  },
  {
    "text": "resources it wanted with C group V2",
    "start": "810120",
    "end": "812940"
  },
  {
    "text": "enabled you actually can set limits and",
    "start": "812940",
    "end": "815639"
  },
  {
    "text": "this sets up a whole world of security",
    "start": "815639",
    "end": "818279"
  },
  {
    "text": "benefits now we can start actually",
    "start": "818279",
    "end": "820200"
  },
  {
    "text": "running containers uh not as root uh",
    "start": "820200",
    "end": "824399"
  },
  {
    "text": "which would you know and gaining all the",
    "start": "824399",
    "end": "826800"
  },
  {
    "text": "security benefits that come from that",
    "start": "826800",
    "end": "829980"
  },
  {
    "text": "so just a quick timeline of what the you",
    "start": "829980",
    "end": "833459"
  },
  {
    "text": "know how this access was added or",
    "start": "833459",
    "end": "835560"
  },
  {
    "text": "accessed how this feature was added to",
    "start": "835560",
    "end": "837360"
  },
  {
    "text": "kubernetes",
    "start": "837360",
    "end": "838380"
  },
  {
    "text": "uh in late 2019 this is when we first",
    "start": "838380",
    "end": "841800"
  },
  {
    "text": "started seeing all the major uh",
    "start": "841800",
    "end": "844380"
  },
  {
    "text": "container runtimes actually add support",
    "start": "844380",
    "end": "846420"
  },
  {
    "text": "for c groups V2",
    "start": "846420",
    "end": "849000"
  },
  {
    "text": "and 119 initial support just for nodes",
    "start": "849000",
    "end": "852120"
  },
  {
    "text": "was added to uh kubernetes and by this",
    "start": "852120",
    "end": "856019"
  },
  {
    "text": "basically means nodes will run",
    "start": "856019",
    "end": "859260"
  },
  {
    "text": "um and that was it so no C advisor yet",
    "start": "859260",
    "end": "862860"
  },
  {
    "text": "we couldn't actually get the metrics out",
    "start": "862860",
    "end": "864360"
  },
  {
    "text": "but you could actually run nodes using C",
    "start": "864360",
    "end": "867360"
  },
  {
    "text": "group V2",
    "start": "867360",
    "end": "869579"
  },
  {
    "text": "uh after that we started seeing some",
    "start": "869579",
    "end": "871860"
  },
  {
    "text": "Alpha features being filtered into",
    "start": "871860",
    "end": "873480"
  },
  {
    "text": "subsequent releases uh one of which is",
    "start": "873480",
    "end": "875820"
  },
  {
    "text": "memory quality",
    "start": "875820",
    "end": "877519"
  },
  {
    "text": "memory quality of service",
    "start": "877519",
    "end": "880199"
  },
  {
    "text": "which again to usual talk about in just",
    "start": "880199",
    "end": "882120"
  },
  {
    "text": "a minute here",
    "start": "882120",
    "end": "883260"
  },
  {
    "text": "and then probably the the key moment",
    "start": "883260",
    "end": "885420"
  },
  {
    "text": "when C group V2 actually became possible",
    "start": "885420",
    "end": "888360"
  },
  {
    "text": "for kubernetes was in November of 2021",
    "start": "888360",
    "end": "890760"
  },
  {
    "text": "we saw the release of C advisor",
    "start": "890760",
    "end": "893540"
  },
  {
    "text": "0.43 this is uh the point where we got",
    "start": "893540",
    "end": "897420"
  },
  {
    "text": "full C group V2 support in C advisor",
    "start": "897420",
    "end": "901380"
  },
  {
    "text": "which means we can actually get metrics",
    "start": "901380",
    "end": "902820"
  },
  {
    "text": "back out so not only can we set limits",
    "start": "902820",
    "end": "905279"
  },
  {
    "text": "now but now we can actually see what is",
    "start": "905279",
    "end": "908639"
  },
  {
    "text": "my process what is my container using",
    "start": "908639",
    "end": "910820"
  },
  {
    "text": "and then have full enforcement over that",
    "start": "910820",
    "end": "913920"
  },
  {
    "text": "uh I have a small asterisk here that",
    "start": "913920",
    "end": "916620"
  },
  {
    "text": "there were a couple small metrics bugs",
    "start": "916620",
    "end": "918839"
  },
  {
    "text": "in zero four three so really we got that",
    "start": "918839",
    "end": "921300"
  },
  {
    "text": "support with zero four four which came",
    "start": "921300",
    "end": "923160"
  },
  {
    "text": "in February of the following year but",
    "start": "923160",
    "end": "925680"
  },
  {
    "text": "zero four three was the official Seeger",
    "start": "925680",
    "end": "928019"
  },
  {
    "text": "V2 release",
    "start": "928019",
    "end": "929880"
  },
  {
    "text": "and then finally",
    "start": "929880",
    "end": "931500"
  },
  {
    "text": "uh we got full stable",
    "start": "931500",
    "end": "934320"
  },
  {
    "text": "support for C group V2 uh in kubernetes",
    "start": "934320",
    "end": "937500"
  },
  {
    "text": "125 which came out just this last June",
    "start": "937500",
    "end": "940860"
  },
  {
    "text": "so that means we have support across the",
    "start": "940860",
    "end": "944040"
  },
  {
    "text": "entire feature set",
    "start": "944040",
    "end": "945480"
  },
  {
    "text": "and I'm going to let two take it over",
    "start": "945480",
    "end": "947820"
  },
  {
    "text": "from here and he'll talk a little bit",
    "start": "947820",
    "end": "949260"
  },
  {
    "text": "about what that means",
    "start": "949260",
    "end": "952279"
  },
  {
    "text": "um so what does this all mean for me or",
    "start": "954180",
    "end": "956699"
  },
  {
    "text": "more appropriately I guess for all of",
    "start": "956699",
    "end": "958380"
  },
  {
    "text": "you uh so these important hierarchy",
    "start": "958380",
    "end": "960720"
  },
  {
    "text": "changes the pressure stall information",
    "start": "960720",
    "end": "962519"
  },
  {
    "text": "is important because this starts to",
    "start": "962519",
    "end": "964920"
  },
  {
    "text": "bring it in on a per container or more",
    "start": "964920",
    "end": "967860"
  },
  {
    "text": "appropriately per C group basis so",
    "start": "967860",
    "end": "971040"
  },
  {
    "text": "instead of being tied to just the",
    "start": "971040",
    "end": "973079"
  },
  {
    "text": "process that was much more at that top",
    "start": "973079",
    "end": "976680"
  },
  {
    "text": "level now it can now be brought down",
    "start": "976680",
    "end": "979500"
  },
  {
    "text": "into the the C group itself so you can",
    "start": "979500",
    "end": "981660"
  },
  {
    "text": "get that overall picture and that kind",
    "start": "981660",
    "end": "983699"
  },
  {
    "text": "of can tie into the memory qos",
    "start": "983699",
    "end": "985260"
  },
  {
    "text": "perspective prior to C group V2 what",
    "start": "985260",
    "end": "988560"
  },
  {
    "text": "would happen is you can set the memory",
    "start": "988560",
    "end": "991079"
  },
  {
    "text": "limit higher than the memory request",
    "start": "991079",
    "end": "993120"
  },
  {
    "text": "right but memory isn't compressible you",
    "start": "993120",
    "end": "995880"
  },
  {
    "text": "can't",
    "start": "995880",
    "end": "996779"
  },
  {
    "text": "use memory that doesn't exist kubernetes",
    "start": "996779",
    "end": "999959"
  },
  {
    "text": "before when scheduling could schedule",
    "start": "999959",
    "end": "1002540"
  },
  {
    "text": "all of that memory all at once and as",
    "start": "1002540",
    "end": "1004579"
  },
  {
    "text": "another pod came in and it wanted to go",
    "start": "1004579",
    "end": "1006920"
  },
  {
    "text": "a little bit above its memory one of",
    "start": "1006920",
    "end": "1008779"
  },
  {
    "text": "those two would oom right because the",
    "start": "1008779",
    "end": "1011420"
  },
  {
    "text": "memory just doesn't exist now when",
    "start": "1011420",
    "end": "1013820"
  },
  {
    "text": "kubernetes did that it would assign all",
    "start": "1013820",
    "end": "1015920"
  },
  {
    "text": "the memory at once there was just",
    "start": "1015920",
    "end": "1017540"
  },
  {
    "text": "nothing it would do it would take it all",
    "start": "1017540",
    "end": "1019759"
  },
  {
    "text": "so now what it can do based upon the PSI",
    "start": "1019759",
    "end": "1022459"
  },
  {
    "text": "you can look to see what's there it can",
    "start": "1022459",
    "end": "1024740"
  },
  {
    "text": "use some of the C group functionality to",
    "start": "1024740",
    "end": "1028160"
  },
  {
    "text": "assign a little bit more of the memory",
    "start": "1028160",
    "end": "1030020"
  },
  {
    "text": "and then add a little bit more to the",
    "start": "1030020",
    "end": "1031760"
  },
  {
    "text": "other or it can add a little bit more",
    "start": "1031760",
    "end": "1033079"
  },
  {
    "text": "there's a formula that it uses so that",
    "start": "1033079",
    "end": "1035360"
  },
  {
    "text": "it doesn't allocate all the memory all",
    "start": "1035360",
    "end": "1037699"
  },
  {
    "text": "at once and gives that basically a",
    "start": "1037699",
    "end": "1039798"
  },
  {
    "text": "quality of service to both of them as it",
    "start": "1039799",
    "end": "1042140"
  },
  {
    "text": "goes beyond the requests into the limits",
    "start": "1042140",
    "end": "1044000"
  },
  {
    "text": "and provide that information back",
    "start": "1044000",
    "end": "1045918"
  },
  {
    "text": "reporting those metrics to you so that",
    "start": "1045919",
    "end": "1048740"
  },
  {
    "text": "you as a user can also see where your",
    "start": "1048740",
    "end": "1050419"
  },
  {
    "text": "application is going with inside that",
    "start": "1050419",
    "end": "1052280"
  },
  {
    "text": "pod in those containers it's a huge win",
    "start": "1052280",
    "end": "1054559"
  },
  {
    "text": "to those of us that over subscribe our",
    "start": "1054559",
    "end": "1056360"
  },
  {
    "text": "nodes I don't know how many of you out",
    "start": "1056360",
    "end": "1058039"
  },
  {
    "text": "there have nodes that you know have",
    "start": "1058039",
    "end": "1060620"
  },
  {
    "text": "three four five hundred percent over",
    "start": "1060620",
    "end": "1062480"
  },
  {
    "text": "subscription rates because users just",
    "start": "1062480",
    "end": "1064580"
  },
  {
    "text": "don't use what they request but for us",
    "start": "1064580",
    "end": "1067580"
  },
  {
    "text": "that's really common so this is going to",
    "start": "1067580",
    "end": "1069500"
  },
  {
    "text": "be a huge win we don't end up oomming",
    "start": "1069500",
    "end": "1072799"
  },
  {
    "text": "those sort of situations",
    "start": "1072799",
    "end": "1075500"
  },
  {
    "text": "um Facebook's doing some really cool",
    "start": "1075500",
    "end": "1076940"
  },
  {
    "text": "stuff in user space oom Killers",
    "start": "1076940",
    "end": "1080299"
  },
  {
    "text": "um it also brings into a situation",
    "start": "1080299",
    "end": "1082220"
  },
  {
    "text": "that's not there yet in kubernetes but",
    "start": "1082220",
    "end": "1084980"
  },
  {
    "text": "it's going to allow us to do container",
    "start": "1084980",
    "end": "1087440"
  },
  {
    "text": "aware oom killing in many cases a common",
    "start": "1087440",
    "end": "1091039"
  },
  {
    "text": "pattern is to have a logging Sidecar so",
    "start": "1091039",
    "end": "1094160"
  },
  {
    "text": "let's say all of a sudden your",
    "start": "1094160",
    "end": "1095240"
  },
  {
    "text": "application starts doing a lot of",
    "start": "1095240",
    "end": "1096919"
  },
  {
    "text": "logging and you're running your sidecar",
    "start": "1096919",
    "end": "1098840"
  },
  {
    "text": "with just a little bit of memory because",
    "start": "1098840",
    "end": "1100280"
  },
  {
    "text": "usually your logging isn't that bad and",
    "start": "1100280",
    "end": "1103100"
  },
  {
    "text": "your logging side across any spikes in",
    "start": "1103100",
    "end": "1105020"
  },
  {
    "text": "its memory usage right now today with C",
    "start": "1105020",
    "end": "1106820"
  },
  {
    "text": "group B1 it'll kill the entire pod",
    "start": "1106820",
    "end": "1109280"
  },
  {
    "text": "because it o end",
    "start": "1109280",
    "end": "1111020"
  },
  {
    "text": "one of the potential features now with C",
    "start": "1111020",
    "end": "1112940"
  },
  {
    "text": "group V2 is to oom killed just that one",
    "start": "1112940",
    "end": "1116419"
  },
  {
    "text": "container restart that one container and",
    "start": "1116419",
    "end": "1119240"
  },
  {
    "text": "the main pod stays up so your",
    "start": "1119240",
    "end": "1121400"
  },
  {
    "text": "application doesn't go down now granted",
    "start": "1121400",
    "end": "1123260"
  },
  {
    "text": "that feature isn't there yet but that",
    "start": "1123260",
    "end": "1125419"
  },
  {
    "text": "functionality is possible with C group",
    "start": "1125419",
    "end": "1127400"
  },
  {
    "text": "C2 which is really cool really powerful",
    "start": "1127400",
    "end": "1129740"
  },
  {
    "text": "feature that can come down the pipe so",
    "start": "1129740",
    "end": "1131780"
  },
  {
    "text": "I'm really excited about that Tony",
    "start": "1131780",
    "end": "1133940"
  },
  {
    "text": "mentioned rootless containers as many of",
    "start": "1133940",
    "end": "1136640"
  },
  {
    "text": "you know there's been a big effort",
    "start": "1136640",
    "end": "1137960"
  },
  {
    "text": "inside of kubernetes to go more secure",
    "start": "1137960",
    "end": "1140360"
  },
  {
    "text": "overall kubernetes historically has been",
    "start": "1140360",
    "end": "1143799"
  },
  {
    "text": "unsecure by default as a way of saying",
    "start": "1143799",
    "end": "1146780"
  },
  {
    "text": "it this moves us more towards the secure",
    "start": "1146780",
    "end": "1150020"
  },
  {
    "text": "by default approach the more we can run",
    "start": "1150020",
    "end": "1152840"
  },
  {
    "text": "things as non-root the much better we'll",
    "start": "1152840",
    "end": "1156380"
  },
  {
    "text": "we will be",
    "start": "1156380",
    "end": "1157760"
  },
  {
    "text": "so all new resource management",
    "start": "1157760",
    "end": "1160100"
  },
  {
    "text": "features you know new things like the",
    "start": "1160100",
    "end": "1162020"
  },
  {
    "text": "memory qos the container aware om killer",
    "start": "1162020",
    "end": "1165559"
  },
  {
    "text": "these will all be built for nodes and",
    "start": "1165559",
    "end": "1167780"
  },
  {
    "text": "cubelets things like that that are",
    "start": "1167780",
    "end": "1169760"
  },
  {
    "text": "running C group V2 only C group V1 new",
    "start": "1169760",
    "end": "1172700"
  },
  {
    "text": "features will not be coming to that so",
    "start": "1172700",
    "end": "1174919"
  },
  {
    "text": "moving forward that's where things will",
    "start": "1174919",
    "end": "1176539"
  },
  {
    "text": "be going C group V1 will still be",
    "start": "1176539",
    "end": "1179000"
  },
  {
    "text": "supported that's really important to",
    "start": "1179000",
    "end": "1180799"
  },
  {
    "text": "know however something to keep in mind",
    "start": "1180799",
    "end": "1183440"
  },
  {
    "text": "according to the Linux mailing groups",
    "start": "1183440",
    "end": "1185260"
  },
  {
    "text": "systemd will no longer support C group",
    "start": "1185260",
    "end": "1187940"
  },
  {
    "text": "E1 at the end of year 2023.",
    "start": "1187940",
    "end": "1190940"
  },
  {
    "text": "so what does that mean for kubernetes I",
    "start": "1190940",
    "end": "1193880"
  },
  {
    "text": "don't know there hasn't been an",
    "start": "1193880",
    "end": "1194840"
  },
  {
    "text": "announcement yet but if I was a betting",
    "start": "1194840",
    "end": "1197299"
  },
  {
    "text": "person I would say we're going to see",
    "start": "1197299",
    "end": "1199039"
  },
  {
    "text": "some sort of deprecation announcement",
    "start": "1199039",
    "end": "1200480"
  },
  {
    "text": "coming in the next few months about C",
    "start": "1200480",
    "end": "1202160"
  },
  {
    "text": "group V1 because of the Linux kernel",
    "start": "1202160",
    "end": "1204679"
  },
  {
    "text": "doesn't support it in system D and",
    "start": "1204679",
    "end": "1206660"
  },
  {
    "text": "systemd is a requirement for C group V2",
    "start": "1206660",
    "end": "1209900"
  },
  {
    "text": "we're going to see something happening",
    "start": "1209900",
    "end": "1211520"
  },
  {
    "text": "at some point so something to be",
    "start": "1211520",
    "end": "1213020"
  },
  {
    "text": "prepared about and to think about in the",
    "start": "1213020",
    "end": "1215120"
  },
  {
    "text": "future",
    "start": "1215120",
    "end": "1216500"
  },
  {
    "text": "so with great power comes many updates",
    "start": "1216500",
    "end": "1219440"
  },
  {
    "text": "but thankfully this time around there's",
    "start": "1219440",
    "end": "1221840"
  },
  {
    "text": "not that many we have to worry about",
    "start": "1221840",
    "end": "1224539"
  },
  {
    "text": "so cluster operators what do you need to",
    "start": "1224539",
    "end": "1227059"
  },
  {
    "text": "do to prep to prepare well the most",
    "start": "1227059",
    "end": "1230240"
  },
  {
    "text": "obvious does your operating system",
    "start": "1230240",
    "end": "1231980"
  },
  {
    "text": "support it it's kind of a duh moment but",
    "start": "1231980",
    "end": "1234980"
  },
  {
    "text": "uh when you're doing your testing it may",
    "start": "1234980",
    "end": "1237080"
  },
  {
    "text": "not be as obvious as you think it is uh",
    "start": "1237080",
    "end": "1239840"
  },
  {
    "text": "kernel 5.8 or higher you can run this",
    "start": "1239840",
    "end": "1242720"
  },
  {
    "text": "quick little command to CFC group V2 is",
    "start": "1242720",
    "end": "1245240"
  },
  {
    "text": "enabled",
    "start": "1245240",
    "end": "1247039"
  },
  {
    "text": "um you can see where it returns there",
    "start": "1247039",
    "end": "1248480"
  },
  {
    "text": "some operating systems have it enabled",
    "start": "1248480",
    "end": "1250820"
  },
  {
    "text": "by default some don't some require you",
    "start": "1250820",
    "end": "1254419"
  },
  {
    "text": "to reboot to enable it some let you set",
    "start": "1254419",
    "end": "1257960"
  },
  {
    "text": "it at boot time if you're running like",
    "start": "1257960",
    "end": "1260360"
  },
  {
    "text": "an AWS Auto scaler that replaces nodes",
    "start": "1260360",
    "end": "1263179"
  },
  {
    "text": "on reboot keep that in mind if you have",
    "start": "1263179",
    "end": "1265160"
  },
  {
    "text": "to set it then reboot your node you may",
    "start": "1265160",
    "end": "1266960"
  },
  {
    "text": "end up terminating your node on that",
    "start": "1266960",
    "end": "1268340"
  },
  {
    "text": "reboot and then you did yourself no",
    "start": "1268340",
    "end": "1270559"
  },
  {
    "text": "favors",
    "start": "1270559",
    "end": "1271640"
  },
  {
    "text": "kubernetes 125 is where it becomes",
    "start": "1271640",
    "end": "1273799"
  },
  {
    "text": "stable keep that in mind we highly",
    "start": "1273799",
    "end": "1276080"
  },
  {
    "text": "recommend running that you can use it on",
    "start": "1276080",
    "end": "1278240"
  },
  {
    "text": "an earlier version your mileage may vary",
    "start": "1278240",
    "end": "1280640"
  },
  {
    "text": "you may have to run C advisor as a",
    "start": "1280640",
    "end": "1282620"
  },
  {
    "text": "Daemon set to get everything you may not",
    "start": "1282620",
    "end": "1285039"
  },
  {
    "text": "so keep that in mind",
    "start": "1285039",
    "end": "1287660"
  },
  {
    "text": "you need to be running seed or system D",
    "start": "1287660",
    "end": "1289940"
  },
  {
    "text": "for both your container runtime and for",
    "start": "1289940",
    "end": "1292700"
  },
  {
    "text": "cubelet",
    "start": "1292700",
    "end": "1293860"
  },
  {
    "text": "previously you didn't have to do that",
    "start": "1293860",
    "end": "1295940"
  },
  {
    "text": "you had to you could run",
    "start": "1295940",
    "end": "1299299"
  },
  {
    "text": "um well you didn't have to use systemd",
    "start": "1299299",
    "end": "1302200"
  },
  {
    "text": "for for both you just have to be",
    "start": "1302200",
    "end": "1305419"
  },
  {
    "text": "consistent with what you used",
    "start": "1305419",
    "end": "1307220"
  },
  {
    "text": "the good news is is that cubelet will",
    "start": "1307220",
    "end": "1309260"
  },
  {
    "text": "detect which C group version you're",
    "start": "1309260",
    "end": "1311480"
  },
  {
    "text": "using C group V1 or C group V2 so that",
    "start": "1311480",
    "end": "1314240"
  },
  {
    "text": "means you can launch a node pool that's",
    "start": "1314240",
    "end": "1315919"
  },
  {
    "text": "using C group V1 and a no group or no",
    "start": "1315919",
    "end": "1318620"
  },
  {
    "text": "node pool that's using C group V V1 and",
    "start": "1318620",
    "end": "1321200"
  },
  {
    "text": "V2 as separate pools so that you can",
    "start": "1321200",
    "end": "1323419"
  },
  {
    "text": "test your applications test your",
    "start": "1323419",
    "end": "1325039"
  },
  {
    "text": "performance with the different",
    "start": "1325039",
    "end": "1326179"
  },
  {
    "text": "approaches",
    "start": "1326179",
    "end": "1327980"
  },
  {
    "text": "um that way there you can make sure your",
    "start": "1327980",
    "end": "1330140"
  },
  {
    "text": "automation Works make sure your",
    "start": "1330140",
    "end": "1331460"
  },
  {
    "text": "application works all that kind of stuff",
    "start": "1331460",
    "end": "1333559"
  },
  {
    "text": "as Sonya mentioned if you're running see",
    "start": "1333559",
    "end": "1335840"
  },
  {
    "text": "advisor as a Daemon set really make sure",
    "start": "1335840",
    "end": "1338299"
  },
  {
    "text": "that you're running the right version I",
    "start": "1338299",
    "end": "1339799"
  },
  {
    "text": "believe they're up to 0.55 but 0.44 is",
    "start": "1339799",
    "end": "1344000"
  },
  {
    "text": "your minimum version you need to run",
    "start": "1344000",
    "end": "1347059"
  },
  {
    "text": "so as a developer what do you need to do",
    "start": "1347059",
    "end": "1349700"
  },
  {
    "text": "to prepare well once again kind of a duh",
    "start": "1349700",
    "end": "1353059"
  },
  {
    "text": "sort of moment make sure your language",
    "start": "1353059",
    "end": "1354559"
  },
  {
    "text": "of choice supports C group V2 especially",
    "start": "1354559",
    "end": "1357559"
  },
  {
    "text": "if you're using multi-processor",
    "start": "1357559",
    "end": "1358940"
  },
  {
    "text": "multi-threaded applications for Java jdk",
    "start": "1358940",
    "end": "1362299"
  },
  {
    "text": "you know version I can't read the screen",
    "start": "1362299",
    "end": "1364340"
  },
  {
    "text": "here",
    "start": "1364340",
    "end": "1365980"
  },
  {
    "text": "11.0.16 or jdk greater than or equal to",
    "start": "1365980",
    "end": "1369020"
  },
  {
    "text": "15. if you're in go and you use the auto",
    "start": "1369020",
    "end": "1372020"
  },
  {
    "text": "max proc make sure you're using greater",
    "start": "1372020",
    "end": "1374000"
  },
  {
    "text": "than or equal to version 15 or 1.5.0",
    "start": "1374000",
    "end": "1378080"
  },
  {
    "text": "uh python 3.12 you might get it there's",
    "start": "1378080",
    "end": "1382580"
  },
  {
    "text": "been a git issue open forever about",
    "start": "1382580",
    "end": "1384559"
  },
  {
    "text": "having any native C group support I",
    "start": "1384559",
    "end": "1387919"
  },
  {
    "text": "don't bring that up to bash on python",
    "start": "1387919",
    "end": "1389600"
  },
  {
    "text": "because I use it a lot and I'm a huge",
    "start": "1389600",
    "end": "1391520"
  },
  {
    "text": "fan of python uh the point of it is is",
    "start": "1391520",
    "end": "1394460"
  },
  {
    "text": "that some languages and some tools and",
    "start": "1394460",
    "end": "1396620"
  },
  {
    "text": "libraries kind of have their own c-group",
    "start": "1396620",
    "end": "1399260"
  },
  {
    "text": "support and the way that they do it is",
    "start": "1399260",
    "end": "1401419"
  },
  {
    "text": "they look to the file systems themselves",
    "start": "1401419",
    "end": "1403580"
  },
  {
    "text": "to figure it out",
    "start": "1403580",
    "end": "1404960"
  },
  {
    "text": "so if you're using an older Library an",
    "start": "1404960",
    "end": "1407720"
  },
  {
    "text": "older tool that looks to the c groups",
    "start": "1407720",
    "end": "1409940"
  },
  {
    "text": "they may not support C group V2 you need",
    "start": "1409940",
    "end": "1413000"
  },
  {
    "text": "to know what your tools are using know",
    "start": "1413000",
    "end": "1415159"
  },
  {
    "text": "what your legacy systems are doing and",
    "start": "1415159",
    "end": "1417860"
  },
  {
    "text": "do they even support C group V2 and do",
    "start": "1417860",
    "end": "1420740"
  },
  {
    "text": "they need to be updated to support both",
    "start": "1420740",
    "end": "1422419"
  },
  {
    "text": "I know in Python there's lots of tools",
    "start": "1422419",
    "end": "1424880"
  },
  {
    "text": "and lots of libraries out there that use",
    "start": "1424880",
    "end": "1427700"
  },
  {
    "text": "their own way of looking to the file",
    "start": "1427700",
    "end": "1430280"
  },
  {
    "text": "systems to figure out how much CPU and",
    "start": "1430280",
    "end": "1432140"
  },
  {
    "text": "how much memory a container has just",
    "start": "1432140",
    "end": "1434360"
  },
  {
    "text": "because there is no native support at",
    "start": "1434360",
    "end": "1436640"
  },
  {
    "text": "the time that it was written so that",
    "start": "1436640",
    "end": "1438500"
  },
  {
    "text": "means testing testing and not maybe more",
    "start": "1438500",
    "end": "1441500"
  },
  {
    "text": "testing definitely more testing because",
    "start": "1441500",
    "end": "1445340"
  },
  {
    "text": "otherwise things will break",
    "start": "1445340",
    "end": "1447860"
  },
  {
    "text": "but hey don't take my word for it don't",
    "start": "1447860",
    "end": "1451039"
  },
  {
    "text": "take Tony's word for it",
    "start": "1451039",
    "end": "1453200"
  },
  {
    "text": "um",
    "start": "1453200",
    "end": "1453799"
  },
  {
    "text": "just because you know test your stuff",
    "start": "1453799",
    "end": "1457220"
  },
  {
    "text": "so let's do a quick demo of doing it",
    "start": "1457220",
    "end": "1460280"
  },
  {
    "text": "right versus doing it wrong this was put",
    "start": "1460280",
    "end": "1462380"
  },
  {
    "text": "together by Jansen Alton uh Cloud on",
    "start": "1462380",
    "end": "1465200"
  },
  {
    "text": "engineer also at Adobe",
    "start": "1465200",
    "end": "1468140"
  },
  {
    "text": "um if the sound crew can turn on the",
    "start": "1468140",
    "end": "1470000"
  },
  {
    "text": "computer audio and we'll do a quick demo",
    "start": "1470000",
    "end": "1471799"
  },
  {
    "text": "by him",
    "start": "1471799",
    "end": "1472700"
  },
  {
    "text": "thank you",
    "start": "1472700",
    "end": "1475039"
  },
  {
    "text": "hi my name is Jansen often I am a cloud",
    "start": "1475039",
    "end": "1477799"
  },
  {
    "text": "engineer on the ethos team at Adobe and",
    "start": "1477799",
    "end": "1480080"
  },
  {
    "text": "in this demo we will see what could",
    "start": "1480080",
    "end": "1481580"
  },
  {
    "text": "happen to a go Application when moving",
    "start": "1481580",
    "end": "1483799"
  },
  {
    "text": "to c groups V2 if it is using the Uber",
    "start": "1483799",
    "end": "1486140"
  },
  {
    "text": "Go Auto Max prox package to",
    "start": "1486140",
    "end": "1489020"
  },
  {
    "text": "automatically set the go Max prox",
    "start": "1489020",
    "end": "1490820"
  },
  {
    "text": "variable to match the Linux container",
    "start": "1490820",
    "end": "1492799"
  },
  {
    "text": "CPU quota",
    "start": "1492799",
    "end": "1494659"
  },
  {
    "text": "so here we have a kubernetes cluster",
    "start": "1494659",
    "end": "1497179"
  },
  {
    "text": "built with version 125",
    "start": "1497179",
    "end": "1499280"
  },
  {
    "text": "and deployed on this cluster we have two",
    "start": "1499280",
    "end": "1501320"
  },
  {
    "text": "pods running the same go application",
    "start": "1501320",
    "end": "1503840"
  },
  {
    "text": "disco application spins up a number of",
    "start": "1503840",
    "end": "1505940"
  },
  {
    "text": "threads matching Eco Max procs variable",
    "start": "1505940",
    "end": "1508220"
  },
  {
    "text": "and then does some busy work",
    "start": "1508220",
    "end": "1510380"
  },
  {
    "text": "both are running the same code but the",
    "start": "1510380",
    "end": "1512419"
  },
  {
    "text": "Pod suffix with old is using an older",
    "start": "1512419",
    "end": "1514520"
  },
  {
    "text": "version of the Automax prox package and",
    "start": "1514520",
    "end": "1516559"
  },
  {
    "text": "the one suffix with new is using a newer",
    "start": "1516559",
    "end": "1518480"
  },
  {
    "text": "version which includes the needed patch",
    "start": "1518480",
    "end": "1520700"
  },
  {
    "text": "to correctly run on c groups V2",
    "start": "1520700",
    "end": "1523159"
  },
  {
    "text": "both are running on a node that has",
    "start": "1523159",
    "end": "1525260"
  },
  {
    "text": "enabled c groups V2",
    "start": "1525260",
    "end": "1528799"
  },
  {
    "text": "these pods have their limits set well we",
    "start": "1528799",
    "end": "1532100"
  },
  {
    "text": "can look at that",
    "start": "1532100",
    "end": "1534020"
  },
  {
    "text": "their CPU limits set to one so we'd",
    "start": "1534020",
    "end": "1536480"
  },
  {
    "text": "expect this package to set the go Max",
    "start": "1536480",
    "end": "1539059"
  },
  {
    "text": "prox variable to one so if we look at",
    "start": "1539059",
    "end": "1541940"
  },
  {
    "text": "the logs",
    "start": "1541940",
    "end": "1543860"
  },
  {
    "text": "of the new pod sure enough that's that's",
    "start": "1543860",
    "end": "1545840"
  },
  {
    "text": "what we see",
    "start": "1545840",
    "end": "1547640"
  },
  {
    "text": "however when we look at the logs of the",
    "start": "1547640",
    "end": "1550460"
  },
  {
    "text": "old version we see that it was unable to",
    "start": "1550460",
    "end": "1553100"
  },
  {
    "text": "determine the CPU quota and defaults to",
    "start": "1553100",
    "end": "1555440"
  },
  {
    "text": "setting the value of the variable to the",
    "start": "1555440",
    "end": "1557480"
  },
  {
    "text": "overall CPU offered by the node which in",
    "start": "1557480",
    "end": "1559700"
  },
  {
    "text": "this case is two",
    "start": "1559700",
    "end": "1561380"
  },
  {
    "text": "what this means is that the application",
    "start": "1561380",
    "end": "1563299"
  },
  {
    "text": "will now spin up two threads of busy",
    "start": "1563299",
    "end": "1565340"
  },
  {
    "text": "work and hit the CPU limit quicker in",
    "start": "1565340",
    "end": "1567620"
  },
  {
    "text": "each CPU period resulting in the",
    "start": "1567620",
    "end": "1570020"
  },
  {
    "text": "application getting throttled for the",
    "start": "1570020",
    "end": "1571580"
  },
  {
    "text": "remainder of the CPU period",
    "start": "1571580",
    "end": "1573500"
  },
  {
    "text": "so on the left we are showing this the",
    "start": "1573500",
    "end": "1576080"
  },
  {
    "text": "throttle percentage which is the",
    "start": "1576080",
    "end": "1577760"
  },
  {
    "text": "percentage of CPU periods where the",
    "start": "1577760",
    "end": "1579980"
  },
  {
    "text": "container ran but was stopped from",
    "start": "1579980",
    "end": "1581659"
  },
  {
    "text": "running the whole period",
    "start": "1581659",
    "end": "1583299"
  },
  {
    "text": "the lines here show when the Pod is",
    "start": "1583299",
    "end": "1586159"
  },
  {
    "text": "being throttled and which for the old",
    "start": "1586159",
    "end": "1588260"
  },
  {
    "text": "pod is 98 to 99 of the time and the gaps",
    "start": "1588260",
    "end": "1592340"
  },
  {
    "text": "in the lines show when the quota was",
    "start": "1592340",
    "end": "1593960"
  },
  {
    "text": "renewed and no throttling moves taking",
    "start": "1593960",
    "end": "1595880"
  },
  {
    "text": "place",
    "start": "1595880",
    "end": "1597200"
  },
  {
    "text": "in comparison we see the new pod is not",
    "start": "1597200",
    "end": "1599480"
  },
  {
    "text": "being throttled nearly as much as the",
    "start": "1599480",
    "end": "1600980"
  },
  {
    "text": "old and as you can imagine as the Delta",
    "start": "1600980",
    "end": "1603559"
  },
  {
    "text": "between the go match procs variable and",
    "start": "1603559",
    "end": "1605840"
  },
  {
    "text": "the CPU limit of the Pod increases the",
    "start": "1605840",
    "end": "1608419"
  },
  {
    "text": "quicker the application will hit its CPU",
    "start": "1608419",
    "end": "1610400"
  },
  {
    "text": "limit within the period and start",
    "start": "1610400",
    "end": "1612440"
  },
  {
    "text": "getting throttled thank you",
    "start": "1612440",
    "end": "1615679"
  },
  {
    "text": "thank you Jensen",
    "start": "1615679",
    "end": "1617419"
  },
  {
    "text": "and thank you every month everyone",
    "start": "1617419",
    "end": "1620179"
  },
  {
    "text": "um I hope this talk has been informative",
    "start": "1620179",
    "end": "1622640"
  },
  {
    "text": "I hope you're as excited about C group",
    "start": "1622640",
    "end": "1625640"
  },
  {
    "text": "V2 as we are again the big takeaways we",
    "start": "1625640",
    "end": "1629299"
  },
  {
    "text": "had for this is that this is a major",
    "start": "1629299",
    "end": "1630980"
  },
  {
    "text": "upgrade for something that's so",
    "start": "1630980",
    "end": "1633620"
  },
  {
    "text": "core and important to kubernetes and",
    "start": "1633620",
    "end": "1636799"
  },
  {
    "text": "this really is setting us up for a lot",
    "start": "1636799",
    "end": "1639320"
  },
  {
    "text": "of great features for both operators and",
    "start": "1639320",
    "end": "1641720"
  },
  {
    "text": "developers alike it's also something to",
    "start": "1641720",
    "end": "1644000"
  },
  {
    "text": "be very much aware for you know in the",
    "start": "1644000",
    "end": "1646039"
  },
  {
    "text": "next 12 to 18 months in terms of",
    "start": "1646039",
    "end": "1648860"
  },
  {
    "text": "upgrades to both your infrastructure as",
    "start": "1648860",
    "end": "1652100"
  },
  {
    "text": "well as your applications",
    "start": "1652100",
    "end": "1653840"
  },
  {
    "text": "just a couple talks here to be aware of",
    "start": "1653840",
    "end": "1656240"
  },
  {
    "text": "this week we actually have another",
    "start": "1656240",
    "end": "1658340"
  },
  {
    "text": "secret V2 talk this is such a popular",
    "start": "1658340",
    "end": "1660640"
  },
  {
    "text": "subject we have another team actually",
    "start": "1660640",
    "end": "1663200"
  },
  {
    "text": "talking about it our friends over at red",
    "start": "1663200",
    "end": "1665179"
  },
  {
    "text": "hat and Google will be talking about",
    "start": "1665179",
    "end": "1666740"
  },
  {
    "text": "this on Friday at 2 pm and at 4 pm if",
    "start": "1666740",
    "end": "1670640"
  },
  {
    "text": "you're interested in all things node uh",
    "start": "1670640",
    "end": "1673520"
  },
  {
    "text": "definitely would love for you to check",
    "start": "1673520",
    "end": "1675500"
  },
  {
    "text": "out signode again they were instrumental",
    "start": "1675500",
    "end": "1679460"
  },
  {
    "text": "in how kind of helping us get on the",
    "start": "1679460",
    "end": "1681740"
  },
  {
    "text": "right path with this and they're a",
    "start": "1681740",
    "end": "1683960"
  },
  {
    "text": "really friendly bunch of folks and they",
    "start": "1683960",
    "end": "1685880"
  },
  {
    "text": "would love to tell you more about their",
    "start": "1685880",
    "end": "1687559"
  },
  {
    "text": "Sig and what they do and how you can",
    "start": "1687559",
    "end": "1689900"
  },
  {
    "text": "help contribute also if you're",
    "start": "1689900",
    "end": "1692120"
  },
  {
    "text": "interested in C group V2 and how it",
    "start": "1692120",
    "end": "1694340"
  },
  {
    "text": "actually affects the stable release",
    "start": "1694340",
    "end": "1697000"
  },
  {
    "text": "there is a release blog out every",
    "start": "1697000",
    "end": "1700220"
  },
  {
    "text": "release has a number of blogs on major",
    "start": "1700220",
    "end": "1702140"
  },
  {
    "text": "features and this is no exception so",
    "start": "1702140",
    "end": "1704600"
  },
  {
    "text": "definitely check that out",
    "start": "1704600",
    "end": "1706100"
  },
  {
    "text": "and again that's uh what we have thank",
    "start": "1706100",
    "end": "1708980"
  },
  {
    "text": "you very much everyone I appreciate it",
    "start": "1708980",
    "end": "1711060"
  },
  {
    "text": "[Applause]",
    "start": "1711060",
    "end": "1713530"
  }
]