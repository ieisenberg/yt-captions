[
  {
    "start": "0",
    "end": "18000"
  },
  {
    "text": "all right hi I'm Josh Marantz I work on",
    "start": "30",
    "end": "3650"
  },
  {
    "text": "load balancing and envoy at Google and",
    "start": "3650",
    "end": "6660"
  },
  {
    "text": "this is Otto Vander chef and we're going",
    "start": "6660",
    "end": "8700"
  },
  {
    "text": "to talk to you today about some tools",
    "start": "8700",
    "end": "11880"
  },
  {
    "text": "that we've been using and working on to",
    "start": "11880",
    "end": "14670"
  },
  {
    "text": "help improve envoy scalability so man",
    "start": "14670",
    "end": "20460"
  },
  {
    "start": "18000",
    "end": "18000"
  },
  {
    "text": "every talk has been a great lead-in",
    "start": "20460",
    "end": "22140"
  },
  {
    "text": "everybody is talking about how awesome",
    "start": "22140",
    "end": "24000"
  },
  {
    "text": "the observability is and that's exactly",
    "start": "24000",
    "end": "25619"
  },
  {
    "text": "our observation as well that you can",
    "start": "25619",
    "end": "27949"
  },
  {
    "text": "kind of put Envoy next to every system",
    "start": "27949",
    "end": "33420"
  },
  {
    "text": "within your service-oriented",
    "start": "33420",
    "end": "35670"
  },
  {
    "text": "architecture and you get a ton of",
    "start": "35670",
    "end": "37469"
  },
  {
    "text": "visibility and one thing I really want",
    "start": "37469",
    "end": "39510"
  },
  {
    "text": "to point out is that it's a very kind of",
    "start": "39510",
    "end": "43469"
  },
  {
    "text": "extensible system that's got support for",
    "start": "43469",
    "end": "46890"
  },
  {
    "text": "stats Z and Zipkin and stackdriver a",
    "start": "46890",
    "end": "49590"
  },
  {
    "text": "bunch of other things but it's also got",
    "start": "49590",
    "end": "51809"
  },
  {
    "text": "a really nice extension architecture so",
    "start": "51809",
    "end": "53850"
  },
  {
    "text": "that you can plug in any stats",
    "start": "53850",
    "end": "56250"
  },
  {
    "text": "observability system that you want",
    "start": "56250",
    "end": "57899"
  },
  {
    "text": "including proprietary ones it's one of",
    "start": "57899",
    "end": "61770"
  },
  {
    "text": "the themes is that envoy is kind of",
    "start": "61770",
    "end": "64680"
  },
  {
    "text": "visualization agnostic and it just gives",
    "start": "64680",
    "end": "66900"
  },
  {
    "text": "you a ton of hooks to be able to see",
    "start": "66900",
    "end": "69240"
  },
  {
    "text": "everything that's going on so the big",
    "start": "69240",
    "end": "72270"
  },
  {
    "text": "question for us is how does it scale and",
    "start": "72270",
    "end": "76610"
  },
  {
    "start": "76000",
    "end": "76000"
  },
  {
    "text": "you know the needs of the company that",
    "start": "76610",
    "end": "79979"
  },
  {
    "text": "originally built it lift are not exactly",
    "start": "79979",
    "end": "81960"
  },
  {
    "text": "the same as some of the needs of the",
    "start": "81960",
    "end": "84659"
  },
  {
    "text": "companies that have been adopting it and",
    "start": "84659",
    "end": "86670"
  },
  {
    "text": "will do so in the future and one thing",
    "start": "86670",
    "end": "89759"
  },
  {
    "text": "that really interested us is to explore",
    "start": "89759",
    "end": "93689"
  },
  {
    "text": "what happens when you have a lot of",
    "start": "93689",
    "end": "94770"
  },
  {
    "text": "tenets or different applications sharing",
    "start": "94770",
    "end": "97500"
  },
  {
    "text": "the same proxies this might happen you",
    "start": "97500",
    "end": "100590"
  },
  {
    "text": "might want to do this if you are using",
    "start": "100590",
    "end": "102299"
  },
  {
    "text": "envoy as a front end to a large internet",
    "start": "102299",
    "end": "105030"
  },
  {
    "text": "company or something like that or is a",
    "start": "105030",
    "end": "107040"
  },
  {
    "text": "proxy for a content delivery network or",
    "start": "107040",
    "end": "109380"
  },
  {
    "text": "for load balancing and an interesting",
    "start": "109380",
    "end": "112470"
  },
  {
    "text": "point in this space that we just look at",
    "start": "112470",
    "end": "115320"
  },
  {
    "text": "as a benchmark is 10,000 clusters or you",
    "start": "115320",
    "end": "118110"
  },
  {
    "text": "know which is envoy terminology for a",
    "start": "118110",
    "end": "120210"
  },
  {
    "text": "back-end service how do how does",
    "start": "120210",
    "end": "122189"
  },
  {
    "text": "everything work when you kind of go to",
    "start": "122189",
    "end": "124320"
  },
  {
    "start": "124000",
    "end": "124000"
  },
  {
    "text": "those numbers and so for the rest of",
    "start": "124320",
    "end": "127049"
  },
  {
    "text": "this talk will focus on five different",
    "start": "127049",
    "end": "128700"
  },
  {
    "text": "tools and techniques that we've been",
    "start": "128700",
    "end": "130429"
  },
  {
    "text": "using to kind",
    "start": "130430",
    "end": "132190"
  },
  {
    "text": "learn more about that that space so one",
    "start": "132190",
    "end": "136450"
  },
  {
    "start": "135000",
    "end": "135000"
  },
  {
    "text": "of the first things that I found when I",
    "start": "136450",
    "end": "137860"
  },
  {
    "text": "started to work with envoy with the",
    "start": "137860",
    "end": "139600"
  },
  {
    "text": "large number of clusters was there was",
    "start": "139600",
    "end": "141280"
  },
  {
    "text": "some pretty severe quadratic behavior in",
    "start": "141280",
    "end": "144040"
  },
  {
    "text": "parts of the system this kind of",
    "start": "144040",
    "end": "146920"
  },
  {
    "text": "pathological situation was actually very",
    "start": "146920",
    "end": "150100"
  },
  {
    "text": "easy to spot in fact just by hitting",
    "start": "150100",
    "end": "152560"
  },
  {
    "text": "ctrl C while in the debugger you not",
    "start": "152560",
    "end": "154390"
  },
  {
    "text": "only know exactly where the problem is",
    "start": "154390",
    "end": "156100"
  },
  {
    "text": "but have all the context you need to",
    "start": "156100",
    "end": "157630"
  },
  {
    "text": "understand how to solve it and solving",
    "start": "157630",
    "end": "161140"
  },
  {
    "text": "it was you know took some time but was",
    "start": "161140",
    "end": "163150"
  },
  {
    "text": "not really all that it was relatively",
    "start": "163150",
    "end": "165280"
  },
  {
    "text": "straightforward and got us a 20x",
    "start": "165280",
    "end": "167560"
  },
  {
    "text": "speed-up bringing the startup time from",
    "start": "167560",
    "end": "170500"
  },
  {
    "text": "over 10 minutes to 22 seconds but it",
    "start": "170500",
    "end": "174220"
  },
  {
    "text": "wasn't really very satisfying to have to",
    "start": "174220",
    "end": "175690"
  },
  {
    "text": "take 22 seconds just to start up",
    "start": "175690",
    "end": "177250"
  },
  {
    "text": "approximately 10,000 clusters so we move",
    "start": "177250",
    "end": "179710"
  },
  {
    "text": "forward once again at 22 seconds the",
    "start": "179710",
    "end": "184750"
  },
  {
    "start": "180000",
    "end": "180000"
  },
  {
    "text": "problem was pretty easy to spot in the",
    "start": "184750",
    "end": "186280"
  },
  {
    "text": "debugger but profiling tools are really",
    "start": "186280",
    "end": "188110"
  },
  {
    "text": "helpful as well in particular call grind",
    "start": "188110",
    "end": "192660"
  },
  {
    "text": "helps you identify like how many times",
    "start": "192660",
    "end": "195370"
  },
  {
    "text": "the regular expression library was being",
    "start": "195370",
    "end": "197110"
  },
  {
    "text": "called 10 million and of course we don't",
    "start": "197110",
    "end": "202060"
  },
  {
    "text": "know why you know we still don't know",
    "start": "202060",
    "end": "204880"
  },
  {
    "text": "what the best way to solve the problem",
    "start": "204880",
    "end": "207130"
  },
  {
    "text": "is we also don't want to just drop the",
    "start": "207130",
    "end": "209620"
  },
  {
    "text": "regular expressions they were providing",
    "start": "209620",
    "end": "211090"
  },
  {
    "text": "a lot of that really great stats",
    "start": "211090",
    "end": "212410"
  },
  {
    "text": "functionality like being able to take",
    "start": "212410",
    "end": "214630"
  },
  {
    "text": "kind of a flat list of stats and add",
    "start": "214630",
    "end": "216730"
  },
  {
    "text": "some structure to it which is really",
    "start": "216730",
    "end": "218470"
  },
  {
    "text": "good for some of the stats visualization",
    "start": "218470",
    "end": "222220"
  },
  {
    "text": "tools like Prometheus and so on so we",
    "start": "222220",
    "end": "225040"
  },
  {
    "text": "knew the problem was regular expressions",
    "start": "225040",
    "end": "226540"
  },
  {
    "text": "about how to solve it was not completely",
    "start": "226540",
    "end": "228459"
  },
  {
    "text": "clear so this brings us to our second",
    "start": "228459",
    "end": "233470"
  },
  {
    "text": "method of performance improvements",
    "start": "233470",
    "end": "237220"
  },
  {
    "text": "called annotations so here we've put",
    "start": "237220",
    "end": "239230"
  },
  {
    "text": "together a really small library of",
    "start": "239230",
    "end": "240850"
  },
  {
    "text": "macros and support functions and use",
    "start": "240850",
    "end": "244000"
  },
  {
    "text": "them to annotate the source code where",
    "start": "244000",
    "end": "245709"
  },
  {
    "text": "we thought the problem might lie and in",
    "start": "245709",
    "end": "248830"
  },
  {
    "text": "particular the tag extraction regular",
    "start": "248830",
    "end": "250600"
  },
  {
    "text": "expressions so the way that this works",
    "start": "250600",
    "end": "252790"
  },
  {
    "start": "251000",
    "end": "251000"
  },
  {
    "text": "is that you you first of all have these",
    "start": "252790",
    "end": "254920"
  },
  {
    "text": "macros that don't you know they compile",
    "start": "254920",
    "end": "257650"
  },
  {
    "text": "to nothing if you're not enabling",
    "start": "257650",
    "end": "259180"
  },
  {
    "text": "performance annotations but when you do",
    "start": "259180",
    "end": "262940"
  },
  {
    "text": "you can the perf annotation macro kind",
    "start": "262940",
    "end": "266509"
  },
  {
    "text": "of initiates at heimer",
    "start": "266509",
    "end": "267590"
  },
  {
    "text": "then there's a record macro which",
    "start": "267590",
    "end": "271960"
  },
  {
    "text": "records the time and in particular",
    "start": "271960",
    "end": "275199"
  },
  {
    "text": "there's kind of two bits of annotations",
    "start": "275199",
    "end": "277909"
  },
  {
    "text": "that you want here one of them is a",
    "start": "277909",
    "end": "278990"
  },
  {
    "text": "static one which identifies in this case",
    "start": "278990",
    "end": "281000"
  },
  {
    "text": "did the code go on the match path or the",
    "start": "281000",
    "end": "284750"
  },
  {
    "text": "miss path and the other one which was",
    "start": "284750",
    "end": "286909"
  },
  {
    "text": "really important was what exactly was",
    "start": "286909",
    "end": "289639"
  },
  {
    "text": "the pattern that it was trying to match",
    "start": "289639",
    "end": "291800"
  },
  {
    "text": "when it took a lot of time so once you",
    "start": "291800",
    "end": "294409"
  },
  {
    "text": "have all all that you can dump out the",
    "start": "294409",
    "end": "297319"
  },
  {
    "text": "results into a table and you get",
    "start": "297319",
    "end": "298669"
  },
  {
    "text": "something that looks like that and then",
    "start": "298669",
    "end": "301729"
  },
  {
    "text": "suddenly the clouds kind of parted",
    "start": "301729",
    "end": "303289"
  },
  {
    "text": "because first of all we noticed that",
    "start": "303289",
    "end": "306560"
  },
  {
    "text": "almost all of the high cost operations",
    "start": "306560",
    "end": "309020"
  },
  {
    "text": "were mismatches so basically we were",
    "start": "309020",
    "end": "311720"
  },
  {
    "text": "spending so three of them were more more",
    "start": "311720",
    "end": "315380"
  },
  {
    "text": "than the others that were spending over",
    "start": "315380",
    "end": "317659"
  },
  {
    "text": "three-quarters of the initialization",
    "start": "317659",
    "end": "318889"
  },
  {
    "text": "time basically finding nothing finding",
    "start": "318889",
    "end": "321770"
  },
  {
    "text": "you know tags you know finding stats",
    "start": "321770",
    "end": "324710"
  },
  {
    "text": "that didn't match a tag structure that",
    "start": "324710",
    "end": "326449"
  },
  {
    "text": "we were looking for and only one of the",
    "start": "326449",
    "end": "329870"
  },
  {
    "text": "kind of significant time consumers which",
    "start": "329870",
    "end": "332270"
  },
  {
    "text": "took about point four seconds was",
    "start": "332270",
    "end": "333740"
  },
  {
    "text": "actually a match that delivered any",
    "start": "333740",
    "end": "335539"
  },
  {
    "text": "value so diving into what the regular",
    "start": "335539",
    "end": "339020"
  },
  {
    "start": "337000",
    "end": "337000"
  },
  {
    "text": "expressions actually looked like this",
    "start": "339020",
    "end": "340219"
  },
  {
    "text": "was an example of a regular expression",
    "start": "340219",
    "end": "341659"
  },
  {
    "text": "Bush extracted some cluster information",
    "start": "341659",
    "end": "346759"
  },
  {
    "text": "and some SSL cipher and we noticed that",
    "start": "346759",
    "end": "351469"
  },
  {
    "text": "this regular expression must begin with",
    "start": "351469",
    "end": "354259"
  },
  {
    "text": "a literal string cluster and must also",
    "start": "354259",
    "end": "357590"
  },
  {
    "text": "include another literal string SSL dot",
    "start": "357590",
    "end": "360050"
  },
  {
    "text": "ciphers so you might think that it would",
    "start": "360050",
    "end": "363710"
  },
  {
    "text": "be possible for the regular expression",
    "start": "363710",
    "end": "365210"
  },
  {
    "text": "library to notice this itself because it",
    "start": "365210",
    "end": "367159"
  },
  {
    "text": "is compiled and do something really good",
    "start": "367159",
    "end": "369800"
  },
  {
    "text": "when the required literal string is not",
    "start": "369800",
    "end": "372860"
  },
  {
    "text": "in there but it does not it goes slowly",
    "start": "372860",
    "end": "374719"
  },
  {
    "text": "so it's actually better to do a quick",
    "start": "374719",
    "end": "376759"
  },
  {
    "text": "scan ahead of time and so when we",
    "start": "376759",
    "end": "383569"
  },
  {
    "text": "reallocate the code we first of all have",
    "start": "383569",
    "end": "385699"
  },
  {
    "text": "to split the",
    "start": "385699",
    "end": "387130"
  },
  {
    "text": "system into an initialization phase",
    "start": "387130",
    "end": "389620"
  },
  {
    "text": "where we build kind of a prefix match so",
    "start": "389620",
    "end": "391810"
  },
  {
    "text": "all of the you know all of the regular",
    "start": "391810",
    "end": "396160"
  },
  {
    "text": "expressions that might match cluster dot",
    "start": "396160",
    "end": "398110"
  },
  {
    "text": "will be put into a list and those are",
    "start": "398110",
    "end": "400060"
  },
  {
    "text": "the only ones that we want to evaluate",
    "start": "400060",
    "end": "401380"
  },
  {
    "text": "and then we can also do the skip of the",
    "start": "401380",
    "end": "405790"
  },
  {
    "text": "Reg ax eval when the required substring",
    "start": "405790",
    "end": "409000"
  },
  {
    "text": "is not in there so this brings up a very",
    "start": "409000",
    "end": "411970"
  },
  {
    "text": "different story now all of those misses",
    "start": "411970",
    "end": "415420"
  },
  {
    "text": "that were in the original annotation are",
    "start": "415420",
    "end": "417190"
  },
  {
    "text": "now gone there the whole thing takes",
    "start": "417190",
    "end": "419950"
  },
  {
    "text": "3.75 seconds and now we're kind of into",
    "start": "419950",
    "end": "422350"
  },
  {
    "text": "more acceptable range of operation the",
    "start": "422350",
    "end": "427120"
  },
  {
    "text": "question is do you stop here and the",
    "start": "427120",
    "end": "428980"
  },
  {
    "text": "answer is yes we actually stop there but",
    "start": "428980",
    "end": "431370"
  },
  {
    "text": "that's kind of good enough but but you",
    "start": "431370",
    "end": "434950"
  },
  {
    "text": "know for the purposes of this talk I",
    "start": "434950",
    "end": "436180"
  },
  {
    "text": "said well why don't we just keep going a",
    "start": "436180",
    "end": "437440"
  },
  {
    "text": "little bit further because that point",
    "start": "437440",
    "end": "439960"
  },
  {
    "text": "four seconds looks like it might be",
    "start": "439960",
    "end": "441400"
  },
  {
    "text": "low-hanging fruit so now we can dive",
    "start": "441400",
    "end": "443650"
  },
  {
    "start": "442000",
    "end": "442000"
  },
  {
    "text": "into the regular expression library",
    "start": "443650",
    "end": "444940"
  },
  {
    "text": "actually the other thing that happened",
    "start": "444940",
    "end": "447040"
  },
  {
    "text": "in the meantime was that Matt added re -",
    "start": "447040",
    "end": "450460"
  },
  {
    "text": "support - Envoy which kind of enabled",
    "start": "450460",
    "end": "452530"
  },
  {
    "text": "this to occur which is the other the",
    "start": "452530",
    "end": "454600"
  },
  {
    "text": "other kind of gating item for this",
    "start": "454600",
    "end": "456430"
  },
  {
    "text": "particular optimization so the first",
    "start": "456430",
    "end": "459190"
  },
  {
    "text": "thing that we want to do is is look",
    "start": "459190",
    "end": "460620"
  },
  {
    "text": "deeply at how well the regular",
    "start": "460620",
    "end": "463750"
  },
  {
    "text": "expression library is performing we know",
    "start": "463750",
    "end": "465400"
  },
  {
    "text": "that student Rugg X is not the best",
    "start": "465400",
    "end": "467670"
  },
  {
    "text": "implementation for our purposes it has a",
    "start": "467670",
    "end": "469810"
  },
  {
    "text": "lot of platform variants it actually",
    "start": "469810",
    "end": "471520"
  },
  {
    "text": "allocates memory during the matching",
    "start": "471520",
    "end": "473770"
  },
  {
    "text": "phase at least the way that we were",
    "start": "473770",
    "end": "477040"
  },
  {
    "text": "calling it in some cases so it's time to",
    "start": "477040",
    "end": "482500"
  },
  {
    "text": "bring in micro benchmarks because if you",
    "start": "482500",
    "end": "484300"
  },
  {
    "text": "want to make a decision like moving from",
    "start": "484300",
    "end": "486070"
  },
  {
    "text": "one library to another you want to do so",
    "start": "486070",
    "end": "487780"
  },
  {
    "text": "with real data so micro benchmarking",
    "start": "487780",
    "end": "490420"
  },
  {
    "text": "helps measure the performance of a very",
    "start": "490420",
    "end": "492670"
  },
  {
    "text": "small and specific piece of code Google",
    "start": "492670",
    "end": "495190"
  },
  {
    "text": "has a micro benchmarking library which",
    "start": "495190",
    "end": "496690"
  },
  {
    "text": "I'm really familiar with but also",
    "start": "496690",
    "end": "498180"
  },
  {
    "text": "there's tons of other alternative micro",
    "start": "498180",
    "end": "500980"
  },
  {
    "text": "benchmark libraries that you can find on",
    "start": "500980",
    "end": "502450"
  },
  {
    "text": "the web so these are really good at many",
    "start": "502450",
    "end": "505420"
  },
  {
    "text": "phases of development including when",
    "start": "505420",
    "end": "507970"
  },
  {
    "text": "you're first writing code if you want to",
    "start": "507970",
    "end": "509350"
  },
  {
    "text": "evaluate which algorithm is going to",
    "start": "509350",
    "end": "510850"
  },
  {
    "text": "work best for a data set that you think",
    "start": "510850",
    "end": "512710"
  },
  {
    "text": "you have and then also when you have",
    "start": "512710",
    "end": "515310"
  },
  {
    "text": "identified",
    "start": "515310",
    "end": "517450"
  },
  {
    "text": "a potential problem in your code and you",
    "start": "517450",
    "end": "519130"
  },
  {
    "text": "want to now make try out a solution",
    "start": "519130",
    "end": "522190"
  },
  {
    "text": "before you start to make a broader",
    "start": "522190",
    "end": "524050"
  },
  {
    "text": "system test where it's harder to discern",
    "start": "524050",
    "end": "525820"
  },
  {
    "text": "subtle differences so the this is the",
    "start": "525820",
    "end": "531430"
  },
  {
    "text": "exact regular expression that was in",
    "start": "531430",
    "end": "536440"
  },
  {
    "text": "place and I kind of looked at that and",
    "start": "536440",
    "end": "539649"
  },
  {
    "text": "thought it wasn't the most intuitive way",
    "start": "539649",
    "end": "540970"
  },
  {
    "text": "to write it so I wrote it a different",
    "start": "540970",
    "end": "542410"
  },
  {
    "text": "way and we can try that one we can try",
    "start": "542410",
    "end": "544690"
  },
  {
    "text": "it with with multiple regular expression",
    "start": "544690",
    "end": "546519"
  },
  {
    "text": "library see which one works at best and",
    "start": "546519",
    "end": "548500"
  },
  {
    "start": "547000",
    "end": "547000"
  },
  {
    "text": "this is what we came out with so the the",
    "start": "548500",
    "end": "552279"
  },
  {
    "text": "starting point was that it took about",
    "start": "552279",
    "end": "554050"
  },
  {
    "text": "1.3 microseconds to evaluate that",
    "start": "554050",
    "end": "556990"
  },
  {
    "text": "regular expression on a candidate set of",
    "start": "556990",
    "end": "559240"
  },
  {
    "text": "of inputs and actually that's a pretty",
    "start": "559240",
    "end": "562450"
  },
  {
    "text": "small number and if that was being done",
    "start": "562450",
    "end": "564339"
  },
  {
    "text": "once then you would be done and that",
    "start": "564339",
    "end": "565959"
  },
  {
    "text": "would be fine but this was being done a",
    "start": "565959",
    "end": "567459"
  },
  {
    "text": "million times for that one you know per",
    "start": "567459",
    "end": "570370"
  },
  {
    "text": "regular expression I mean per yeah for",
    "start": "570370",
    "end": "574029"
  },
  {
    "text": "each regular expression so it was worth",
    "start": "574029",
    "end": "575380"
  },
  {
    "text": "optimizing just switching the regular",
    "start": "575380",
    "end": "579010"
  },
  {
    "text": "expression library to use a string view",
    "start": "579010",
    "end": "580930"
  },
  {
    "text": "rather than a string reduce the number",
    "start": "580930",
    "end": "582490"
  },
  {
    "text": "of allocations and that was kind of a",
    "start": "582490",
    "end": "584019"
  },
  {
    "text": "very easy way to get five percent",
    "start": "584019",
    "end": "585339"
  },
  {
    "text": "improvement and then switching to that",
    "start": "585339",
    "end": "588220"
  },
  {
    "text": "alternate pattern I thought that was",
    "start": "588220",
    "end": "590320"
  },
  {
    "text": "gonna make things better withstood reg X",
    "start": "590320",
    "end": "592240"
  },
  {
    "text": "but it made it substantially worse I was",
    "start": "592240",
    "end": "594640"
  },
  {
    "text": "surprised at that I still don't really",
    "start": "594640",
    "end": "596110"
  },
  {
    "text": "know why that is but with re2 everything",
    "start": "596110",
    "end": "598630"
  },
  {
    "text": "was much better it brought it down to a",
    "start": "598630",
    "end": "603279"
  },
  {
    "text": "microsecond for the original form and to",
    "start": "603279",
    "end": "605949"
  },
  {
    "text": "less than half of a microsecond for the",
    "start": "605949",
    "end": "609730"
  },
  {
    "text": "alternate version that i wrote so now",
    "start": "609730",
    "end": "614190"
  },
  {
    "text": "that that basically more than cut in",
    "start": "614190",
    "end": "619329"
  },
  {
    "text": "half the time that we spent on that on",
    "start": "619329",
    "end": "621970"
  },
  {
    "text": "the longest regular expression improved",
    "start": "621970",
    "end": "625540"
  },
  {
    "text": "the overall start up envoy by 10 percent",
    "start": "625540",
    "end": "629100"
  },
  {
    "text": "really for just changing row get 1 reg X",
    "start": "629100",
    "end": "631779"
  },
  {
    "text": "that seemed worth it so the takeaway is",
    "start": "631779",
    "end": "636880"
  },
  {
    "start": "634000",
    "end": "634000"
  },
  {
    "text": "for micro benchmark sanitation is that",
    "start": "636880",
    "end": "639010"
  },
  {
    "text": "first you need to run the system with",
    "start": "639010",
    "end": "640870"
  },
  {
    "text": "realistic data to learn where the",
    "start": "640870",
    "end": "642250"
  },
  {
    "text": "bottlenecks are and then you can start",
    "start": "642250",
    "end": "643600"
  },
  {
    "text": "bringing in",
    "start": "643600",
    "end": "644920"
  },
  {
    "text": "the micro benchmarks to understand in",
    "start": "644920",
    "end": "647320"
  },
  {
    "text": "detail what you need to change so so far",
    "start": "647320",
    "end": "651579"
  },
  {
    "text": "we've been talking about startup",
    "start": "651579",
    "end": "652990"
  },
  {
    "text": "performance but proxies spend a lot more",
    "start": "652990",
    "end": "654820"
  },
  {
    "text": "time moving packets around than they do",
    "start": "654820",
    "end": "656980"
  },
  {
    "text": "initializing so we need also application",
    "start": "656980",
    "end": "660339"
  },
  {
    "text": "load test infrastructure and when you're",
    "start": "660339",
    "end": "664149"
  },
  {
    "text": "building a really high performance",
    "start": "664149",
    "end": "665589"
  },
  {
    "text": "system when you have a really well",
    "start": "665589",
    "end": "667510"
  },
  {
    "text": "performing proxy like Envoy you also",
    "start": "667510",
    "end": "669970"
  },
  {
    "text": "need a really high performance piece of",
    "start": "669970",
    "end": "672880"
  },
  {
    "text": "test infrastructure in order to",
    "start": "672880",
    "end": "674440"
  },
  {
    "text": "adequately measure it you want one with",
    "start": "674440",
    "end": "676120"
  },
  {
    "text": "really low jitter you want one that can",
    "start": "676120",
    "end": "679540"
  },
  {
    "text": "handle the HTTP protocol hb2 protocol",
    "start": "679540",
    "end": "681880"
  },
  {
    "text": "which has some different performance",
    "start": "681880",
    "end": "683680"
  },
  {
    "text": "characteristics in many ways and we of",
    "start": "683680",
    "end": "688389"
  },
  {
    "text": "course on our team were really busy you",
    "start": "688389",
    "end": "693040"
  },
  {
    "text": "know building load balancers and",
    "start": "693040",
    "end": "695019"
  },
  {
    "text": "improving on voice control plane and",
    "start": "695019",
    "end": "697180"
  },
  {
    "text": "other things and we really wanted to",
    "start": "697180",
    "end": "698949"
  },
  {
    "text": "bring in somebody to help us evaluate",
    "start": "698949",
    "end": "700660"
  },
  {
    "text": "what the next step should be that had a",
    "start": "700660",
    "end": "702820"
  },
  {
    "text": "lot of experience with those with this",
    "start": "702820",
    "end": "704560"
  },
  {
    "text": "so we contacted auto vendor chef who",
    "start": "704560",
    "end": "708850"
  },
  {
    "text": "will take us through the load generator",
    "start": "708850",
    "end": "710490"
  },
  {
    "text": "yeah so we knew that there was no tool",
    "start": "710490",
    "end": "717130"
  },
  {
    "text": "out there that would satisfy all our",
    "start": "717130",
    "end": "719680"
  },
  {
    "text": "requirements up front because most of",
    "start": "719680",
    "end": "722470"
  },
  {
    "text": "them predate like h2 and large multi",
    "start": "722470",
    "end": "725199"
  },
  {
    "text": "core systems so we were looking at",
    "start": "725199",
    "end": "728410"
  },
  {
    "text": "something that we could modify and",
    "start": "728410",
    "end": "729790"
  },
  {
    "text": "improve and for that we will need a code",
    "start": "729790",
    "end": "734649"
  },
  {
    "text": "base that would be well tested like",
    "start": "734649",
    "end": "737410"
  },
  {
    "text": "invoice and with a licensing scheme that",
    "start": "737410",
    "end": "740019"
  },
  {
    "text": "would work for us so we evaluate that",
    "start": "740019",
    "end": "743980"
  },
  {
    "start": "742000",
    "end": "742000"
  },
  {
    "text": "ten existing tools and based on the",
    "start": "743980",
    "end": "747579"
  },
  {
    "text": "earlier requirements we were able to",
    "start": "747579",
    "end": "749680"
  },
  {
    "text": "narrow them down to two w RK and 40 o so",
    "start": "749680",
    "end": "756339"
  },
  {
    "start": "755000",
    "end": "755000"
  },
  {
    "text": "well 40 L has some great technical",
    "start": "756339",
    "end": "761589"
  },
  {
    "text": "properties what we didn't find was h2",
    "start": "761589",
    "end": "764560"
  },
  {
    "text": "support or a community",
    "start": "764560",
    "end": "769199"
  },
  {
    "start": "770000",
    "end": "770000"
  },
  {
    "text": "4008 kind of like a different set of",
    "start": "770170",
    "end": "773240"
  },
  {
    "text": "trade-offs we also didn't find the",
    "start": "773240",
    "end": "776390"
  },
  {
    "text": "community we were looking for whatever",
    "start": "776390",
    "end": "777920"
  },
  {
    "text": "also some the the the the latency is",
    "start": "777920",
    "end": "784430"
  },
  {
    "text": "reported were kind of like less accurate",
    "start": "784430",
    "end": "786950"
  },
  {
    "text": "than compared to W or K and control",
    "start": "786950",
    "end": "788990"
  },
  {
    "text": "measurements in we could pinpoint those",
    "start": "788990",
    "end": "791300"
  },
  {
    "text": "two and even request release timings and",
    "start": "791300",
    "end": "795700"
  },
  {
    "text": "possibly garbage collection and go",
    "start": "795700",
    "end": "798230"
  },
  {
    "text": "scheduler and fairness issues sorry so",
    "start": "798230",
    "end": "807860"
  },
  {
    "start": "802000",
    "end": "802000"
  },
  {
    "text": "we ended up deciding to build a load",
    "start": "807860",
    "end": "809810"
  },
  {
    "text": "generator on top of envoi that would",
    "start": "809810",
    "end": "814310"
  },
  {
    "text": "allow us to piggyback upon a networking",
    "start": "814310",
    "end": "817100"
  },
  {
    "text": "stack that is being invested by by a lot",
    "start": "817100",
    "end": "819320"
  },
  {
    "text": "of people across a lot of companies",
    "start": "819320",
    "end": "821800"
  },
  {
    "text": "concretely HTTP 3 support is in",
    "start": "821800",
    "end": "825980"
  },
  {
    "text": "development as we speak and once that",
    "start": "825980",
    "end": "828020"
  },
  {
    "text": "lanced and nighthawk would basically get",
    "start": "828020",
    "end": "831590"
  },
  {
    "text": "that for free and we also decided to",
    "start": "831590",
    "end": "836120"
  },
  {
    "text": "make two visualization agnostic so we",
    "start": "836120",
    "end": "840980"
  },
  {
    "text": "would exploit existing visualizations",
    "start": "840980",
    "end": "843980"
  },
  {
    "text": "including for TOS that new tool is",
    "start": "843980",
    "end": "848090"
  },
  {
    "text": "called Night Out nighthawk resides in a",
    "start": "848090",
    "end": "853790"
  },
  {
    "text": "parallel get app repository next envoy",
    "start": "853790",
    "end": "856940"
  },
  {
    "text": "and it's dark largely done using m4",
    "start": "856940",
    "end": "860120"
  },
  {
    "text": "style test coverage and CI it's got a",
    "start": "860120",
    "end": "864740"
  },
  {
    "text": "lot of great dials and switches to help",
    "start": "864740",
    "end": "866570"
  },
  {
    "text": "us understand how aprox you other HTTP",
    "start": "866570",
    "end": "869420"
  },
  {
    "text": "to stack can scale in a bunch of",
    "start": "869420",
    "end": "871190"
  },
  {
    "text": "dimensions it supports closed loop mode",
    "start": "871190",
    "end": "877630"
  },
  {
    "start": "873000",
    "end": "873000"
  },
  {
    "text": "where when I requested issues another",
    "start": "877630",
    "end": "882110"
  },
  {
    "text": "one will not be issued until the reply",
    "start": "882110",
    "end": "884330"
  },
  {
    "text": "from the server has been observed and",
    "start": "884330",
    "end": "886780"
  },
  {
    "text": "this mode strives to provide a",
    "start": "886780",
    "end": "889130"
  },
  {
    "text": "consistent stress on the surface",
    "start": "889130",
    "end": "890900"
  },
  {
    "text": "throughout time in closed loop mode",
    "start": "890900",
    "end": "895120"
  },
  {
    "start": "893000",
    "end": "893000"
  },
  {
    "text": "Nigel will report how much time it was",
    "start": "895120",
    "end": "899390"
  },
  {
    "text": "spent",
    "start": "899390",
    "end": "900810"
  },
  {
    "text": "blocked waiting for the surfer to",
    "start": "900810",
    "end": "906540"
  },
  {
    "text": "respond in open loop modes a low",
    "start": "906540",
    "end": "910050"
  },
  {
    "start": "908000",
    "end": "908000"
  },
  {
    "text": "generator can send up of multiple",
    "start": "910050",
    "end": "913080"
  },
  {
    "text": "asynchronous requests without waiting",
    "start": "913080",
    "end": "915480"
  },
  {
    "text": "for the server to respond this is more",
    "start": "915480",
    "end": "918000"
  },
  {
    "text": "like how browsers work especially in",
    "start": "918000",
    "end": "920070"
  },
  {
    "text": "HTTP to an open loop we strive to",
    "start": "920070",
    "end": "923190"
  },
  {
    "text": "provide a cost of work load to the",
    "start": "923190",
    "end": "924990"
  },
  {
    "text": "server throughout time within configured",
    "start": "924990",
    "end": "927390"
  },
  {
    "text": "resource limits so in open loop there's",
    "start": "927390",
    "end": "931590"
  },
  {
    "start": "930000",
    "end": "930000"
  },
  {
    "text": "no blocking diagram and instead if the",
    "start": "931590",
    "end": "934860"
  },
  {
    "text": "server can't keep up with the load we",
    "start": "934860",
    "end": "936450"
  },
  {
    "text": "may observe local connection pool",
    "start": "936450",
    "end": "937980"
  },
  {
    "text": "overflows meaning that the request is",
    "start": "937980",
    "end": "939840"
  },
  {
    "text": "skipped in this case from the surface",
    "start": "939840",
    "end": "941490"
  },
  {
    "text": "point of view we can use nighthawk to",
    "start": "941490",
    "end": "945930"
  },
  {
    "start": "944000",
    "end": "944000"
  },
  {
    "text": "collect accurate data and export it to",
    "start": "945930",
    "end": "947760"
  },
  {
    "text": "4tl to visualize the long tail in this",
    "start": "947760",
    "end": "950550"
  },
  {
    "text": "case the two millisecond long tail",
    "start": "950550",
    "end": "952940"
  },
  {
    "text": "really was a test setup problem because",
    "start": "952940",
    "end": "955500"
  },
  {
    "text": "we didn't pin the server to a specific",
    "start": "955500",
    "end": "960500"
  },
  {
    "text": "CPU core and the OS scheduler wasn't",
    "start": "960500",
    "end": "964800"
  },
  {
    "text": "optimal in that case so when we did that",
    "start": "964800",
    "end": "967950"
  },
  {
    "start": "967000",
    "end": "967000"
  },
  {
    "text": "we see that long tail dropped from two",
    "start": "967950",
    "end": "970820"
  },
  {
    "text": "milliseconds to six hundred microseconds",
    "start": "970820",
    "end": "974280"
  },
  {
    "text": "so here we compare envoi in direct",
    "start": "974280",
    "end": "982440"
  },
  {
    "start": "977000",
    "end": "977000"
  },
  {
    "text": "response mode and on the left side we",
    "start": "982440",
    "end": "985950"
  },
  {
    "text": "have added running on one and two",
    "start": "985950",
    "end": "990360"
  },
  {
    "text": "threads and on the right hand side we",
    "start": "990360",
    "end": "991800"
  },
  {
    "text": "introduce an extra and for hope and also",
    "start": "991800",
    "end": "995280"
  },
  {
    "text": "run it on one and two threads and we can",
    "start": "995280",
    "end": "998090"
  },
  {
    "text": "see that well clearly the multi-threaded",
    "start": "998090",
    "end": "1002090"
  },
  {
    "text": "envoi is a good idea when you introduce",
    "start": "1002090",
    "end": "1006500"
  },
  {
    "text": "an extra hop sometimes just looking at",
    "start": "1006500",
    "end": "1012830"
  },
  {
    "text": "the global aggregated numbers doesn't",
    "start": "1012830",
    "end": "1015500"
  },
  {
    "text": "tell all in this case the latency plot",
    "start": "1015500",
    "end": "1019670"
  },
  {
    "text": "is an odd shape which cannot be",
    "start": "1019670",
    "end": "1021710"
  },
  {
    "text": "explained without looking at the",
    "start": "1021710",
    "end": "1023120"
  },
  {
    "text": "underlying data so here we pulled out",
    "start": "1023120",
    "end": "1027949"
  },
  {
    "text": "like the per worker output of nighthawk",
    "start": "1027949",
    "end": "1031089"
  },
  {
    "text": "using plotly",
    "start": "1031089",
    "end": "1033110"
  },
  {
    "text": "and we can see that some of the",
    "start": "1033110",
    "end": "1036140"
  },
  {
    "text": "connections or and that of unevenly",
    "start": "1036140",
    "end": "1039290"
  },
  {
    "text": "spread across different employed workers",
    "start": "1039290",
    "end": "1040970"
  },
  {
    "text": "and obviously obviously the more basic",
    "start": "1040970",
    "end": "1044089"
  },
  {
    "text": "threats shall worse latencies in this",
    "start": "1044089",
    "end": "1046730"
  },
  {
    "text": "case and this explains like the weird",
    "start": "1046730",
    "end": "1048920"
  },
  {
    "text": "glow ball arrogated shape next we look",
    "start": "1048920",
    "end": "1054799"
  },
  {
    "start": "1053000",
    "end": "1053000"
  },
  {
    "text": "at in comparison of HTTP 1 versus HTTP 2",
    "start": "1054799",
    "end": "1059270"
  },
  {
    "text": "and surprisingly we observe HTTP one to",
    "start": "1059270",
    "end": "1063679"
  },
  {
    "text": "be faster then HTTP 2 by 5 microseconds",
    "start": "1063679",
    "end": "1067910"
  },
  {
    "text": "and that's kind of unexpected because",
    "start": "1067910",
    "end": "1070360"
  },
  {
    "text": "HTTP 2 is a binary protocol and you'd",
    "start": "1070360",
    "end": "1072980"
  },
  {
    "text": "expect that to be faster so we didn't",
    "start": "1072980",
    "end": "1076940"
  },
  {
    "text": "take into this but this is like an",
    "start": "1076940",
    "end": "1078350"
  },
  {
    "text": "interesting shell case of whites using",
    "start": "1078350",
    "end": "1081650"
  },
  {
    "text": "accurate measurement tools can help",
    "start": "1081650",
    "end": "1086230"
  },
  {
    "text": "inside gaynelle can help gain insight",
    "start": "1086230",
    "end": "1089299"
  },
  {
    "text": "into performance so furthermore a",
    "start": "1089299",
    "end": "1093740"
  },
  {
    "start": "1091000",
    "end": "1091000"
  },
  {
    "text": "nighthawk supports in tracing which can",
    "start": "1093740",
    "end": "1097809"
  },
  {
    "text": "it can perform trace initiation and that",
    "start": "1097809",
    "end": "1101540"
  },
  {
    "text": "can help you gain insight into how a",
    "start": "1101540",
    "end": "1106010"
  },
  {
    "text": "workload how addressed a Bluetooth",
    "start": "1106010",
    "end": "1111470"
  },
  {
    "text": "system behaves under certain workloads",
    "start": "1111470",
    "end": "1115690"
  },
  {
    "start": "1115000",
    "end": "1115000"
  },
  {
    "text": "now nighthawk is a load generation tool",
    "start": "1115690",
    "end": "1118400"
  },
  {
    "text": "and not a framework but it has a variety",
    "start": "1118400",
    "end": "1120049"
  },
  {
    "text": "of features to help make it easier to",
    "start": "1120049",
    "end": "1122240"
  },
  {
    "text": "integrate into a framework either as a",
    "start": "1122240",
    "end": "1124549"
  },
  {
    "text": "surfer controlled via a RPC or via",
    "start": "1124549",
    "end": "1127880"
  },
  {
    "text": "scripting hooks such such as replay and",
    "start": "1127880",
    "end": "1130040"
  },
  {
    "text": "termination conditions so with that back",
    "start": "1130040",
    "end": "1134780"
  },
  {
    "text": "to you -",
    "start": "1134780",
    "end": "1136210"
  },
  {
    "text": "thanks Otto okay so to finish up with",
    "start": "1136210",
    "end": "1141220"
  },
  {
    "text": "the last technique I wanted to describe",
    "start": "1141220",
    "end": "1144850"
  },
  {
    "text": "something that's maybe somewhat more",
    "start": "1144850",
    "end": "1147279"
  },
  {
    "text": "speculative and crazy which is using",
    "start": "1147279",
    "end": "1149139"
  },
  {
    "text": "fuzzing as a performance tool so fuzzing",
    "start": "1149139",
    "end": "1152980"
  },
  {
    "start": "1152000",
    "end": "1152000"
  },
  {
    "text": "is not intended to be a performance tool",
    "start": "1152980",
    "end": "1155110"
  },
  {
    "text": "it's intended to find potential security",
    "start": "1155110",
    "end": "1157240"
  },
  {
    "text": "problems but it also finds among those",
    "start": "1157240",
    "end": "1160389"
  },
  {
    "text": "denial of service Valle 'nor abilities",
    "start": "1160389",
    "end": "1162340"
  },
  {
    "text": "which are really a flavor of performance",
    "start": "1162340",
    "end": "1164350"
  },
  {
    "text": "issue where the data controlled outside",
    "start": "1164350",
    "end": "1167559"
  },
  {
    "text": "the system can influence its performance",
    "start": "1167559",
    "end": "1170610"
  },
  {
    "text": "so in the Envoy fuzzing framework which",
    "start": "1170610",
    "end": "1174369"
  },
  {
    "start": "1171000",
    "end": "1171000"
  },
  {
    "text": "is hosted on OSS fuzz comm you get a big",
    "start": "1174369",
    "end": "1178960"
  },
  {
    "text": "table of metrics out with all the",
    "start": "1178960",
    "end": "1180820"
  },
  {
    "text": "buzzers vertically and a whole bunch of",
    "start": "1180820",
    "end": "1183039"
  },
  {
    "text": "data horizontally of which I showed only",
    "start": "1183039",
    "end": "1185799"
  },
  {
    "text": "a small subset here you can imagine",
    "start": "1185799",
    "end": "1189519"
  },
  {
    "text": "using this table kind of the way that a",
    "start": "1189519",
    "end": "1191619"
  },
  {
    "text": "day trader would use a stock screen to",
    "start": "1191619",
    "end": "1194080"
  },
  {
    "text": "pick out potential interesting",
    "start": "1194080",
    "end": "1195999"
  },
  {
    "text": "investments so in this case a fuzzer",
    "start": "1195999",
    "end": "1200799"
  },
  {
    "text": "that runs very slowly less than two",
    "start": "1200799",
    "end": "1202840"
  },
  {
    "text": "evaluations per second and it reports a",
    "start": "1202840",
    "end": "1205779"
  },
  {
    "text": "lot of timeouts",
    "start": "1205779",
    "end": "1206909"
  },
  {
    "text": "failures due to time out and it doesn't",
    "start": "1206909",
    "end": "1209440"
  },
  {
    "text": "crash too much I should say that",
    "start": "1209440",
    "end": "1212460"
  },
  {
    "text": "crashing in fuzzers actually is not that",
    "start": "1212460",
    "end": "1214929"
  },
  {
    "text": "unexpected it doesn't mean there's a",
    "start": "1214929",
    "end": "1216580"
  },
  {
    "text": "security problem necessarily or a",
    "start": "1216580",
    "end": "1218860"
  },
  {
    "text": "problem with the code usually you're",
    "start": "1218860",
    "end": "1220659"
  },
  {
    "text": "running fuzzers on a subsystem with",
    "start": "1220659",
    "end": "1222519"
  },
  {
    "text": "preconditions and when those",
    "start": "1222519",
    "end": "1223600"
  },
  {
    "text": "preconditions are violated you may get",
    "start": "1223600",
    "end": "1225850"
  },
  {
    "text": "an assertion so it doesn't mean that",
    "start": "1225850",
    "end": "1227529"
  },
  {
    "text": "there's a problem but it means that the",
    "start": "1227529",
    "end": "1228970"
  },
  {
    "text": "fuzzer runs really slowly because the",
    "start": "1228970",
    "end": "1231369"
  },
  {
    "text": "assertions take a long time to execute",
    "start": "1231369",
    "end": "1234220"
  },
  {
    "text": "even when they pass and if they fail it",
    "start": "1234220",
    "end": "1237220"
  },
  {
    "text": "really takes a long time for the fuzzing",
    "start": "1237220",
    "end": "1238840"
  },
  {
    "text": "infrastructure to recover and you waste",
    "start": "1238840",
    "end": "1240220"
  },
  {
    "text": "a lot of your your time kind of",
    "start": "1240220",
    "end": "1242320"
  },
  {
    "text": "rebooting your system the fuzzing",
    "start": "1242320",
    "end": "1246340"
  },
  {
    "text": "infrastructure itself is slow as well so",
    "start": "1246340",
    "end": "1249730"
  },
  {
    "text": "if you're finding like less crashes than",
    "start": "1249730",
    "end": "1251950"
  },
  {
    "text": "the other ones like 7% and a bunch of",
    "start": "1251950",
    "end": "1254740"
  },
  {
    "text": "timeouts",
    "start": "1254740",
    "end": "1255659"
  },
  {
    "text": "maybe it's a performance bug so you get",
    "start": "1255659",
    "end": "1259059"
  },
  {
    "text": "this automated notification that you had",
    "start": "1259059",
    "end": "1263139"
  },
  {
    "text": "a fuzz timeout and this happened to be",
    "start": "1263139",
    "end": "1264789"
  },
  {
    "text": "an area that we were",
    "start": "1264789",
    "end": "1265900"
  },
  {
    "text": "a lot about anyway which is the Envoy HP",
    "start": "1265900",
    "end": "1269050"
  },
  {
    "text": "header class and then you can pull up a",
    "start": "1269050",
    "end": "1273310"
  },
  {
    "text": "flame graph from that and there it",
    "start": "1273310",
    "end": "1275020"
  },
  {
    "text": "actually shows the problem pretty",
    "start": "1275020",
    "end": "1276400"
  },
  {
    "text": "clearly that there was an N squared",
    "start": "1276400",
    "end": "1279040"
  },
  {
    "text": "issue with updating account when new",
    "start": "1279040",
    "end": "1283300"
  },
  {
    "text": "when new headers arrived similarly it's",
    "start": "1283300",
    "end": "1287290"
  },
  {
    "text": "almost always harder to find these",
    "start": "1287290",
    "end": "1289390"
  },
  {
    "text": "problems than it is to fix them the fix",
    "start": "1289390",
    "end": "1291100"
  },
  {
    "text": "was relatively straightforward this",
    "start": "1291100",
    "end": "1293410"
  },
  {
    "text": "resulted in a CVE for an N squared",
    "start": "1293410",
    "end": "1296470"
  },
  {
    "text": "sensitivity but the main point is that",
    "start": "1296470",
    "end": "1300790"
  },
  {
    "text": "the fuzzer helped us kind of find this",
    "start": "1300790",
    "end": "1302440"
  },
  {
    "text": "problem and it can find other",
    "start": "1302440",
    "end": "1304120"
  },
  {
    "text": "performance related problems as well so",
    "start": "1304120",
    "end": "1306760"
  },
  {
    "text": "this is not a slam-dunk you know as I've",
    "start": "1306760",
    "end": "1309490"
  },
  {
    "start": "1307000",
    "end": "1307000"
  },
  {
    "text": "said the Envoy fuzz tests are really",
    "start": "1309490",
    "end": "1312040"
  },
  {
    "text": "slow for reasons having nothing to do",
    "start": "1312040",
    "end": "1314200"
  },
  {
    "text": "with the performance of the actual code",
    "start": "1314200",
    "end": "1315730"
  },
  {
    "text": "so being able to kind of discern that",
    "start": "1315730",
    "end": "1317640"
  },
  {
    "text": "would really help the frezzer the",
    "start": "1317640",
    "end": "1322630"
  },
  {
    "text": "fuzzing let's see other other reasons",
    "start": "1322630",
    "end": "1326740"
  },
  {
    "text": "the feds are slow are that they're built",
    "start": "1326740",
    "end": "1328660"
  },
  {
    "text": "using mocks in the mocks or slopes",
    "start": "1328660",
    "end": "1330340"
  },
  {
    "text": "they're designed for you know functional",
    "start": "1330340",
    "end": "1331930"
  },
  {
    "text": "testing and not for performance but one",
    "start": "1331930",
    "end": "1336070"
  },
  {
    "text": "of the things that I thought might have",
    "start": "1336070",
    "end": "1337780"
  },
  {
    "text": "potential is the fuzzing infrastructure",
    "start": "1337780",
    "end": "1339430"
  },
  {
    "text": "is actually built on on code coverage",
    "start": "1339430",
    "end": "1343540"
  },
  {
    "text": "because it intersects the code coverage",
    "start": "1343540",
    "end": "1345940"
  },
  {
    "text": "as its generating patterns in order to",
    "start": "1345940",
    "end": "1348220"
  },
  {
    "text": "try to guide the pattern generation to",
    "start": "1348220",
    "end": "1350470"
  },
  {
    "text": "cover more code so as long as it's doing",
    "start": "1350470",
    "end": "1352840"
  },
  {
    "text": "that maybe it can tell us whether we",
    "start": "1352840",
    "end": "1355540"
  },
  {
    "text": "were spending time in the code under",
    "start": "1355540",
    "end": "1356950"
  },
  {
    "text": "tests or in the test infrastructure or",
    "start": "1356950",
    "end": "1359440"
  },
  {
    "text": "in the fuds tests and then we could use",
    "start": "1359440",
    "end": "1362140"
  },
  {
    "text": "that to help us screen out potential",
    "start": "1362140",
    "end": "1364210"
  },
  {
    "text": "issues anyway the goals are aligned",
    "start": "1364210",
    "end": "1368080"
  },
  {
    "text": "because if you write efficient fuzzers",
    "start": "1368080",
    "end": "1370380"
  },
  {
    "text": "there'll be better fuzzers for security",
    "start": "1370380",
    "end": "1372790"
  },
  {
    "text": "to they'll find they'll be able to find",
    "start": "1372790",
    "end": "1374470"
  },
  {
    "text": "more cases and we might also potentially",
    "start": "1374470",
    "end": "1377350"
  },
  {
    "text": "be able to find performance problems so",
    "start": "1377350",
    "end": "1381820"
  },
  {
    "text": "next steps I think the big news here is",
    "start": "1381820",
    "end": "1383890"
  },
  {
    "text": "that we've put a ton of work we meeting",
    "start": "1383890",
    "end": "1387190"
  },
  {
    "text": "mostly auto but also the people that",
    "start": "1387190",
    "end": "1389770"
  },
  {
    "text": "have been revealing Harvey and others",
    "start": "1389770",
    "end": "1393420"
  },
  {
    "text": "- and we've evolved what I think is the",
    "start": "1393429",
    "end": "1396669"
  },
  {
    "text": "bones of a really useful performance",
    "start": "1396669",
    "end": "1398380"
  },
  {
    "text": "tool that works it in with a modern",
    "start": "1398380",
    "end": "1401230"
  },
  {
    "text": "architecture on top of the Envoy Network",
    "start": "1401230",
    "end": "1403210"
  },
  {
    "text": "stack speaking HTTP - and it will",
    "start": "1403210",
    "end": "1405940"
  },
  {
    "text": "inherit the ability to speak quick and",
    "start": "1405940",
    "end": "1407919"
  },
  {
    "text": "HTTP three as well there's still a lot",
    "start": "1407919",
    "end": "1411970"
  },
  {
    "text": "of work to do it is a load generator it",
    "start": "1411970",
    "end": "1414460"
  },
  {
    "text": "is not a load test infrastructure it is",
    "start": "1414460",
    "end": "1416889"
  },
  {
    "text": "built to be easy to integrate into a",
    "start": "1416889",
    "end": "1419110"
  },
  {
    "text": "load test infrastructure but we would",
    "start": "1419110",
    "end": "1420700"
  },
  {
    "text": "love to have some more participation",
    "start": "1420700",
    "end": "1423120"
  },
  {
    "text": "echoing Matz earlier comments I think",
    "start": "1423120",
    "end": "1425559"
  },
  {
    "text": "that if we if we think this kind of tool",
    "start": "1425559",
    "end": "1428620"
  },
  {
    "text": "is valuable we would love to have more",
    "start": "1428620",
    "end": "1430269"
  },
  {
    "text": "people participate in this and and",
    "start": "1430269",
    "end": "1432840"
  },
  {
    "text": "please join us it's github envoy proxy",
    "start": "1432840",
    "end": "1437379"
  },
  {
    "text": "nighthawk so fuzz testing for",
    "start": "1437379",
    "end": "1442269"
  },
  {
    "text": "performance is more of a hope I hope",
    "start": "1442269",
    "end": "1444159"
  },
  {
    "text": "something gels out of this I think that",
    "start": "1444159",
    "end": "1445659"
  },
  {
    "text": "it would be potentially useful to find",
    "start": "1445659",
    "end": "1447399"
  },
  {
    "text": "performance problems using this",
    "start": "1447399",
    "end": "1448960"
  },
  {
    "text": "infrastructure and I think its goals are",
    "start": "1448960",
    "end": "1451210"
  },
  {
    "text": "also really aligned with the needs of",
    "start": "1451210",
    "end": "1453009"
  },
  {
    "text": "the fuzzing for security so with that I",
    "start": "1453009",
    "end": "1458679"
  },
  {
    "text": "thank you for for your time and I think",
    "start": "1458679",
    "end": "1461049"
  },
  {
    "text": "we have a little bit of time for",
    "start": "1461049",
    "end": "1462159"
  },
  {
    "text": "questions",
    "start": "1462159",
    "end": "1462690"
  },
  {
    "text": "[Applause]",
    "start": "1462690",
    "end": "1463160"
  },
  {
    "text": "[Music]",
    "start": "1463160",
    "end": "1466350"
  },
  {
    "text": "[Applause]",
    "start": "1466350",
    "end": "1470330"
  },
  {
    "text": "question",
    "start": "1475280",
    "end": "1478280"
  },
  {
    "text": "so in indirect mode its I'm gonna repeat",
    "start": "1484180",
    "end": "1487370"
  },
  {
    "text": "the question first I'm sorry yeah so the",
    "start": "1487370",
    "end": "1490760"
  },
  {
    "text": "difference between",
    "start": "1490760",
    "end": "1491480"
  },
  {
    "text": "envoi and direct mode and envious",
    "start": "1491480",
    "end": "1493550"
  },
  {
    "text": "approach is that indirect mode mode",
    "start": "1493550",
    "end": "1495800"
  },
  {
    "text": "envoi actually generates it response",
    "start": "1495800",
    "end": "1499670"
  },
  {
    "text": "itself so and when I introduced the",
    "start": "1499670",
    "end": "1503420"
  },
  {
    "text": "extra hope it actually loops back",
    "start": "1503420",
    "end": "1504830"
  },
  {
    "text": "through an anti proxy yeah part of the",
    "start": "1504830",
    "end": "1509360"
  },
  {
    "text": "nighthawk package includes envoy as an",
    "start": "1509360",
    "end": "1512990"
  },
  {
    "text": "origin server for the purpose of",
    "start": "1512990",
    "end": "1514640"
  },
  {
    "text": "generating test data for for doing the",
    "start": "1514640",
    "end": "1516830"
  },
  {
    "text": "tests question",
    "start": "1516830",
    "end": "1522820"
  },
  {
    "text": "question is have we looked into doing",
    "start": "1529760",
    "end": "1533040"
  },
  {
    "text": "profile guided optimization and how that",
    "start": "1533040",
    "end": "1536910"
  },
  {
    "text": "would work with this performance testing",
    "start": "1536910",
    "end": "1540560"
  },
  {
    "text": "certainly in certainly the answer is yes",
    "start": "1540770",
    "end": "1544500"
  },
  {
    "text": "I don't think we've done that",
    "start": "1544500",
    "end": "1547200"
  },
  {
    "text": "we've prepared data based on that on top",
    "start": "1547200",
    "end": "1549810"
  },
  {
    "text": "of this talk but it seems to me like",
    "start": "1549810",
    "end": "1551820"
  },
  {
    "text": "Nighthawk would be a great source of",
    "start": "1551820",
    "end": "1553800"
  },
  {
    "text": "data for for performance guided",
    "start": "1553800",
    "end": "1559170"
  },
  {
    "text": "optimization you could also potentially",
    "start": "1559170",
    "end": "1562580"
  },
  {
    "text": "couple that with replay data from actual",
    "start": "1562580",
    "end": "1565620"
  },
  {
    "text": "logs but yeah I think that's a good",
    "start": "1565620",
    "end": "1568170"
  },
  {
    "text": "direction to go",
    "start": "1568170",
    "end": "1570710"
  }
]