[
  {
    "text": "okay let's get",
    "start": "1159",
    "end": "4800"
  },
  {
    "text": "started welcome to the session I hope everyone has enjoyed their Day At cubec",
    "start": "7719",
    "end": "15000"
  },
  {
    "text": "Con I'm yanen from Apple cloud services team I've been working on Apple",
    "start": "15000",
    "end": "22080"
  },
  {
    "text": "kubernetes infrastructure I've been a active contributor to CES project with a focus",
    "start": "22080",
    "end": "29519"
  },
  {
    "text": "on SC security is something new to me so I'm still learning um and yeah I'm also at Apple",
    "start": "29519",
    "end": "36960"
  },
  {
    "text": "over in the field engineering team so helping work with various customers across uh across the company to make",
    "start": "36960",
    "end": "42640"
  },
  {
    "text": "sure that they're kind of successful on our kubernetes platforms and working with you on this migration okay here is the agenda of our",
    "start": "42640",
    "end": "50760"
  },
  {
    "text": "talk I'm going to give a introduction overview of different service account",
    "start": "50760",
    "end": "56359"
  },
  {
    "text": "token kubernetes and parameters and feature gate BS that can be used to",
    "start": "56359",
    "end": "62280"
  },
  {
    "text": "manage to configure the tokens in kubernetes then all different kind of",
    "start": "62280",
    "end": "67640"
  },
  {
    "text": "the tokens their implications and potential impact on different use cases",
    "start": "67640",
    "end": "74080"
  },
  {
    "text": "I will also talk about and how to track and monitor the different service",
    "start": "74080",
    "end": "79400"
  },
  {
    "text": "account tokens in kues then JS will Deep dive into how can we and simy and",
    "start": "79400",
    "end": "87640"
  },
  {
    "text": "upgrade or transition from the traditional old neacy token to the more",
    "start": "87640",
    "end": "94119"
  },
  {
    "text": "Dynamic time Bond and more secure",
    "start": "94119",
    "end": "98439"
  },
  {
    "text": "tokens so if we look at the service and account token API token",
    "start": "99920",
    "end": "106520"
  },
  {
    "text": "Ines uh token is a pieces of information that authenticate application container",
    "start": "106520",
    "end": "114079"
  },
  {
    "text": "port to API servers it's very important to secure and manage",
    "start": "114079",
    "end": "121039"
  },
  {
    "text": "tokens properly because token and uh this is used to Grant class resources to",
    "start": "121039",
    "end": "129360"
  },
  {
    "text": "different applications any of the compromise right can have",
    "start": "129360",
    "end": "135319"
  },
  {
    "text": "significant uh security implications so traditionally as you may know right and",
    "start": "135319",
    "end": "141280"
  },
  {
    "text": "uh the nexy token is based on the use the secret so when you create a service",
    "start": "141280",
    "end": "147400"
  },
  {
    "text": "account it automatically and generate uh secrets with the tokens this token",
    "start": "147400",
    "end": "153120"
  },
  {
    "text": "never and expired so it's there secure also the service accounts can be shared",
    "start": "153120",
    "end": "158599"
  },
  {
    "text": "by multiple or different applications so that's also make it n secure so it's",
    "start": "158599",
    "end": "164040"
  },
  {
    "text": "definitely it's not recommended but unfortunately in a lot of the Clusters neacy application and workload may still",
    "start": "164040",
    "end": "172720"
  },
  {
    "text": "use the uh old tokens and neacy and non leave the secret secret based tokens",
    "start": "172720",
    "end": "180319"
  },
  {
    "text": "so now of course we are and moving to this and more Dynamic and time limited",
    "start": "180319",
    "end": "185599"
  },
  {
    "text": "tokens and acquire aend and by from the token the request API then application",
    "start": "185599",
    "end": "193360"
  },
  {
    "text": "or the kubernets will refresh renot it automatically or periodically and one",
    "start": "193360",
    "end": "199360"
  },
  {
    "text": "example is spond and service token for the ports finally there are still in the sum",
    "start": "199360",
    "end": "206239"
  },
  {
    "text": "and the long leave the token if you really need it you can manually create a secret and associate with the uh service",
    "start": "206239",
    "end": "214159"
  },
  {
    "text": "account and that's another way and support and the non leave token but on N",
    "start": "214159",
    "end": "220200"
  },
  {
    "text": "it's Master necessary is still not recommended and for non leave",
    "start": "220200",
    "end": "226640"
  },
  {
    "text": "tokens so really need a go and uh so we have been working on and uh try to share",
    "start": "226640",
    "end": "232560"
  },
  {
    "text": "with you disc is how can we and migrate upgrade right move from this and the",
    "start": "232560",
    "end": "238760"
  },
  {
    "text": "neacy o would uh never expire the tokens right to this more secure and dynamic",
    "start": "238760",
    "end": "245680"
  },
  {
    "text": "and time bound tokens the key challenge or the important thing is make sure right we are not going to break the",
    "start": "245680",
    "end": "252159"
  },
  {
    "text": "current usage disrupt the current workload use so now I'm I'm de deeping diving a",
    "start": "252159",
    "end": "261079"
  },
  {
    "text": "little bit about and all different tokens and this is the neacy very old",
    "start": "261079",
    "end": "267880"
  },
  {
    "text": "right automatically generate and the secret based token so if you are familiar with the old version right",
    "start": "267880",
    "end": "274400"
  },
  {
    "text": "kubernetes when you create a service account it will automatically and",
    "start": "274400",
    "end": "279560"
  },
  {
    "text": "generate generates a uh secret with the tokens so then",
    "start": "279560",
    "end": "286080"
  },
  {
    "text": "bound to the the port it's never expired and if you can you can definitely share",
    "start": "286080",
    "end": "292120"
  },
  {
    "text": "these tokens right across different ports if they use the same and uh",
    "start": "292120",
    "end": "297199"
  },
  {
    "text": "service account as here you can see right on the top if a service account it",
    "start": "297199",
    "end": "302800"
  },
  {
    "text": "will have this and uh yeah okay have a secret and this name and reference so",
    "start": "302800",
    "end": "308840"
  },
  {
    "text": "it's by directional reference reference to this in the secret and uh inside the",
    "start": "308840",
    "end": "314520"
  },
  {
    "text": "secret you will see and hear right also have a service account and",
    "start": "314520",
    "end": "321160"
  },
  {
    "text": "annotations is used to reference to the service account so this is the the old",
    "start": "321160",
    "end": "326880"
  },
  {
    "text": "way to use this and the Never the uh never expired secret based tokens of",
    "start": "326880",
    "end": "334280"
  },
  {
    "text": "course now and we are moving to this and the time Bond tokens using the token",
    "start": "334280",
    "end": "341800"
  },
  {
    "text": "request API so you request a Time limited and uh tokens from the token",
    "start": "341800",
    "end": "348479"
  },
  {
    "text": "request API and here example right you can see and uh you get this and token",
    "start": "348479",
    "end": "354560"
  },
  {
    "text": "there service account also there are some expiration time and the last",
    "start": "354560",
    "end": "360160"
  },
  {
    "text": "uh use the time step and all this kind of information important thing is yeah also it's audience Bond right which and",
    "start": "360160",
    "end": "368039"
  },
  {
    "text": "you have particular ports and this token associated with and definitely it's have",
    "start": "368039",
    "end": "373280"
  },
  {
    "text": "expiration time one example is yeah since and the",
    "start": "373280",
    "end": "378919"
  },
  {
    "text": "kubernetes 121 and this call and the bond service and the account token",
    "start": "378919",
    "end": "384840"
  },
  {
    "text": "change the behavior right we used to create this and automatic create this",
    "start": "384840",
    "end": "390360"
  },
  {
    "text": "and secret based long leave and uh service cont token then the secret is",
    "start": "390360",
    "end": "397440"
  },
  {
    "text": "mounted as volume and import but now is the kuet will",
    "start": "397440",
    "end": "403479"
  },
  {
    "text": "oburn a token from the token request API",
    "start": "403479",
    "end": "408560"
  },
  {
    "text": "and now and mounted right this project volume then expiration time and uh by",
    "start": "408560",
    "end": "416160"
  },
  {
    "text": "default now and uh yeah it should be in the fining one hour so then CET will",
    "start": "416160",
    "end": "421400"
  },
  {
    "text": "automatically and refresh that and Renoe that and for the port running uh using",
    "start": "421400",
    "end": "427759"
  },
  {
    "text": "the service account and the token but in order to facilitate and the transition",
    "start": "427759",
    "end": "433879"
  },
  {
    "text": "and upgrade so now there are flag called service account extend token expiration",
    "start": "433879",
    "end": "440479"
  },
  {
    "text": "so by default that's true and this means even it's expired and then the token",
    "start": "440479",
    "end": "447120"
  },
  {
    "text": "will be automatically and extend to one one year of course after certain version in future and this you may you should",
    "start": "447120",
    "end": "454520"
  },
  {
    "text": "and switch or change it to force then just have this in the short time limited",
    "start": "454520",
    "end": "460639"
  },
  {
    "text": "and tokens so as you can see here that's the project and the tokens and uh",
    "start": "460639",
    "end": "466360"
  },
  {
    "text": "finally and uh as I mentioned early and uh you can still create some long Liv tokens and Bs secret but now you have to",
    "start": "466360",
    "end": "474520"
  },
  {
    "text": "automat manually created it means you create a service count it won't",
    "start": "474520",
    "end": "480120"
  },
  {
    "text": "automatically generate any of the uh tokens or secret for you and uh you have",
    "start": "480120",
    "end": "486120"
  },
  {
    "text": "to manually create another secret then you add annotation special annotation",
    "start": "486120",
    "end": "493840"
  },
  {
    "text": "and reference this service account then control plan will generate a uh long",
    "start": "493840",
    "end": "500440"
  },
  {
    "text": "leave the token for this and the secret this scen also if you delete this and the service account this secrets and the",
    "start": "500440",
    "end": "507879"
  },
  {
    "text": "tokens will be deleted as well so this is different from the automatic one this by directional reference and they could",
    "start": "507879",
    "end": "515760"
  },
  {
    "text": "be shared across multiple and service account so very important thing here is",
    "start": "515760",
    "end": "522479"
  },
  {
    "text": "yeah it's can be a little bit and confusing and uh sometimes hard to",
    "start": "522479",
    "end": "527920"
  },
  {
    "text": "land there are quite a bunch of the feature flags and the parameters that can control and the token and usage and",
    "start": "527920",
    "end": "537200"
  },
  {
    "text": "configurations and other thing here and is a list of the uh sake",
    "start": "537200",
    "end": "544160"
  },
  {
    "text": "feature Flags feature Gates and configuration and flags that can use to",
    "start": "544160",
    "end": "549560"
  },
  {
    "text": "control this token for example the first one basically and is something okay the",
    "start": "549560",
    "end": "555880"
  },
  {
    "text": "power okay I didn't notice that okay thanks the audience sir okay thank you",
    "start": "555880",
    "end": "562399"
  },
  {
    "text": "okay so the bond service token volume this is enable disable right this and uh",
    "start": "562399",
    "end": "569640"
  },
  {
    "text": "Bond service token and uh service account extend basically means right two",
    "start": "569640",
    "end": "575279"
  },
  {
    "text": "means we automatically extend this expired port and tokens in case you",
    "start": "575279",
    "end": "581000"
  },
  {
    "text": "don't automatically and uh refresh it and the Marx token expiration of course",
    "start": "581000",
    "end": "587640"
  },
  {
    "text": "when you request a uh new token time Bond token from token request API you",
    "start": "587640",
    "end": "593279"
  },
  {
    "text": "can specify uh token and expiration time but also the administrate can set a",
    "start": "593279",
    "end": "600839"
  },
  {
    "text": "limit right maximum and a expiration time also now as I mentioned even we are",
    "start": "600839",
    "end": "607519"
  },
  {
    "text": "now migrating and uh recommend and use the uh time Bond tokens but still and if",
    "start": "607519",
    "end": "615480"
  },
  {
    "text": "you set this neacy service account token no autogeneration and force so you can",
    "start": "615480",
    "end": "621480"
  },
  {
    "text": "Ste and create this and automatically create this and the secrets and uh non",
    "start": "621480",
    "end": "628720"
  },
  {
    "text": "na and service token uh uh service account tokens and last two is the last",
    "start": "628720",
    "end": "636320"
  },
  {
    "text": "two more is about the tracking and clean up this the service cont tokens so the tracking means yeah how do you track the",
    "start": "636320",
    "end": "643320"
  },
  {
    "text": "the the neacy token use clean up means finally do we need it's still working progress it's basically means right if a",
    "start": "643320",
    "end": "650600"
  },
  {
    "text": "negative token has not been used for well should clean up delete",
    "start": "650600",
    "end": "657600"
  },
  {
    "text": "it so if we talk about this all this changes and the not work going on impact",
    "start": "658040",
    "end": "664760"
  },
  {
    "text": "on different the use cases and so if you look at that we still have a lot of the",
    "start": "664760",
    "end": "670800"
  },
  {
    "text": "old system Ney applications and use this and autog generated secret based no n",
    "start": "670800",
    "end": "676720"
  },
  {
    "text": "the tokens the good news is yeah until so far the kubernetes one 30 right you",
    "start": "676720",
    "end": "684959"
  },
  {
    "text": "can still use it but then also you can still and generate this and",
    "start": "684959",
    "end": "690600"
  },
  {
    "text": "automatically and generate this non leave tokens even it's not highly not recommended right unless it's necessary",
    "start": "690600",
    "end": "697880"
  },
  {
    "text": "and in kubernetes 129 we disable and stop supporting these features so",
    "start": "697880",
    "end": "703519"
  },
  {
    "text": "definitely I think the team and should consider and uh yeah migrating now and how to migrating it also and after Kutis",
    "start": "703519",
    "end": "711839"
  },
  {
    "text": "130 and it's working progress we talk about this and how to clean up the",
    "start": "711839",
    "end": "717440"
  },
  {
    "text": "existing and neacy and the tokens so that's what you can plan and uh yeah the",
    "start": "717440",
    "end": "723800"
  },
  {
    "text": "transition upgrade uh properly so the the second is yeah so now since",
    "start": "723800",
    "end": "730880"
  },
  {
    "text": "kubernetes 121 it's beta 122 it's GA right we use this project volume this",
    "start": "730880",
    "end": "737560"
  },
  {
    "text": "bound service token so the kuber net and we refresh and get a new tokens for Port",
    "start": "737560",
    "end": "744480"
  },
  {
    "text": "right automatically from the token request API the good use is most",
    "start": "744480",
    "end": "749959"
  },
  {
    "text": "applications and it should still work in particular applications if you use the standard and the library and should",
    "start": "749959",
    "end": "757440"
  },
  {
    "text": "automatically reload and the tokens from right the disk if anything changes but",
    "start": "757440",
    "end": "762920"
  },
  {
    "text": "of course and if if the application whatever reason you use very and old outdated and the",
    "start": "762920",
    "end": "770160"
  },
  {
    "text": "library right it didn't renod this and new tokens so one thing as I mentioned",
    "start": "770160",
    "end": "776959"
  },
  {
    "text": "earlyer this service account extend token expiration right we can still use it and set is true Now the default is",
    "start": "776959",
    "end": "784480"
  },
  {
    "text": "true can extend and the token expiration to one year and after 126 and most",
    "start": "784480",
    "end": "793079"
  },
  {
    "text": "likely and you want to the make sure and the the port right and the the project",
    "start": "793079",
    "end": "798560"
  },
  {
    "text": "volume and Port tokens and use a short yeah the expiration time like default is",
    "start": "798560",
    "end": "805399"
  },
  {
    "text": "hour finally and later and the JM deep dive into if you have some external",
    "start": "805399",
    "end": "811839"
  },
  {
    "text": "system Right Use the tokens so secret that's could be challenging right how",
    "start": "811839",
    "end": "816959"
  },
  {
    "text": "can you upgrade it also once you use the dynamic One how can you make sure and",
    "start": "816959",
    "end": "822320"
  },
  {
    "text": "the system can use this new and generated tokens access the uh talk to",
    "start": "822320",
    "end": "827880"
  },
  {
    "text": "interact with your kubernetes clusters here is a summary and all these",
    "start": "827880",
    "end": "833680"
  },
  {
    "text": "different features future gate and may apply to different cases yeah hopefully",
    "start": "833680",
    "end": "839800"
  },
  {
    "text": "yeah you can use this as a reference and see which one and is applicable to which",
    "start": "839800",
    "end": "845639"
  },
  {
    "text": "cases we find it useful so another interesting thing",
    "start": "845639",
    "end": "850880"
  },
  {
    "text": "right we talk about a lot of the features and the different cases and how to upgrade it I I think the most",
    "start": "850880",
    "end": "857360"
  },
  {
    "text": "important thing right and observability right you need to understand so so far and what's the current use of your token",
    "start": "857360",
    "end": "865399"
  },
  {
    "text": "so good news and fortunately yeah upstream and uh yeah we also contribute",
    "start": "865399",
    "end": "871120"
  },
  {
    "text": "uh recently PR to the kubernetes is we can track the different token usages one",
    "start": "871120",
    "end": "877759"
  },
  {
    "text": "is the API server audit log now already and the record and quite a few and",
    "start": "877759",
    "end": "884320"
  },
  {
    "text": "different the events with the annotations for example even we extend the",
    "start": "884320",
    "end": "889959"
  },
  {
    "text": "token uh expiration right but some already expired right so this still",
    "start": "889959",
    "end": "896800"
  },
  {
    "text": "token you can fight from the audit log the second thing is this and the negy",
    "start": "896800",
    "end": "903120"
  },
  {
    "text": "token right automatically generated by control plan and you can also identify",
    "start": "903120",
    "end": "909000"
  },
  {
    "text": "this type of tokens the third one and is the manual and create Secrets right then",
    "start": "909000",
    "end": "915320"
  },
  {
    "text": "generate the nonl tokens you can use this and by looking into the audit APS",
    "start": "915320",
    "end": "922680"
  },
  {
    "text": "Ser audit log you can find all this and here is some examples of different annotations in audit logs",
    "start": "922680",
    "end": "930519"
  },
  {
    "text": "and uh the second secondly is also now there a bunch of metrics you can use to",
    "start": "930519",
    "end": "937920"
  },
  {
    "text": "look at see how many Ste tokens right neacy tokens or different type of tokens",
    "start": "937920",
    "end": "944000"
  },
  {
    "text": "and still running or still are being used in your system so all this information of course and we believe it",
    "start": "944000",
    "end": "951639"
  },
  {
    "text": "will be very helpful useful right for administrate and to understand so the",
    "start": "951639",
    "end": "957680"
  },
  {
    "text": "current status of your cluster and how all different tokens been used then you",
    "start": "957680",
    "end": "964279"
  },
  {
    "text": "can based on this data right make a decision and when right the custom",
    "start": "964279",
    "end": "969319"
  },
  {
    "text": "should migrate which feature uh gate you should turn on disable enable and make",
    "start": "969319",
    "end": "975120"
  },
  {
    "text": "sure on one hand can make this and the token more secure right and uh manage it",
    "start": "975120",
    "end": "981639"
  },
  {
    "text": "properly without disrupting and your current use right it's very critical you",
    "start": "981639",
    "end": "986880"
  },
  {
    "text": "don't want the customer page you and midnight said my my application now and yeah cannot and access the API server or",
    "start": "986880",
    "end": "995040"
  },
  {
    "text": "yeah not working anymore okay then next and uh James and uh we'll talk about",
    "start": "995040",
    "end": "1002040"
  },
  {
    "text": "yeah show some examples yeah how you could and uh upgrade or migrate your",
    "start": "1002040",
    "end": "1008519"
  },
  {
    "text": "tokens and also how to integrate external system and with the kubernetes",
    "start": "1008519",
    "end": "1014120"
  },
  {
    "text": "yeah yes thanks very much so as you can probably tell from all of this there are a lot of options there's a lot of knobs",
    "start": "1014120",
    "end": "1019680"
  },
  {
    "text": "to turn and a lot of things to tune so we kind of this is an example of like how you could go through this um and",
    "start": "1019680",
    "end": "1025880"
  },
  {
    "text": "like ways that you can gradually migrate users across rather than like an all-in-one everything breaks uh for well",
    "start": "1025880",
    "end": "1032839"
  },
  {
    "text": "we suddenly surprise users who and say like your tokens are going to expire in a month's time you better roll out some",
    "start": "1032839",
    "end": "1038000"
  },
  {
    "text": "changes to your software to re roll uh rotate your tokens so the first thing that we'd recommend doing well we'd say",
    "start": "1038000",
    "end": "1044959"
  },
  {
    "text": "you could do maybe I don't want to recommend that you make your classes less secure but we need to get there somehow uh is actually extending that uh",
    "start": "1044959",
    "end": "1052679"
  },
  {
    "text": "that duration that we do things for so allowing up to a year which I think is the maximum supported in kubernetes um",
    "start": "1052679",
    "end": "1058760"
  },
  {
    "text": "so allowing up to a year um for your tokens to expire so that means anyone submitting a request through the token",
    "start": "1058760",
    "end": "1064280"
  },
  {
    "text": "request API can ask for up to a year um we then also enable like automatically",
    "start": "1064280",
    "end": "1069919"
  },
  {
    "text": "making pods tokens valid for one year so that helps to like prevent your current",
    "start": "1069919",
    "end": "1075320"
  },
  {
    "text": "running workloads suddenly getting disrupted one year here is is chosen as a number because it's you know quite a",
    "start": "1075320",
    "end": "1081280"
  },
  {
    "text": "long time and gives you enough time to try and get through these remaining migration steps and reach out I think",
    "start": "1081280",
    "end": "1086520"
  },
  {
    "text": "one of the most essential things here though is tracking which is why there's so many of these parameters that Yan's talked about here um because you're",
    "start": "1086520",
    "end": "1093200"
  },
  {
    "text": "going to need to work with these teams work with these uh individuals to actually make sure that they are updating uh send warnings and",
    "start": "1093200",
    "end": "1100080"
  },
  {
    "text": "potentially even generate you know emails whatever else notifications to actually speak with them um yeah so the",
    "start": "1100080",
    "end": "1108520"
  },
  {
    "text": "other thing as well is you probably have some people who are still using Long Live tokens and that you know touched on",
    "start": "1108520",
    "end": "1113840"
  },
  {
    "text": "we'll get to it in a bit the external systems often you know we've historically G created a service account",
    "start": "1113840",
    "end": "1119280"
  },
  {
    "text": "borrowed the token dumped it into some other Secret store or something else CI pipeline um that's probably going to",
    "start": "1119280",
    "end": "1125240"
  },
  {
    "text": "have to continue for now um so yeah re well disabling the feature gate the",
    "start": "1125240",
    "end": "1130559"
  },
  {
    "text": "polarity of these things can be a bit confusing but uh basically service count Legacy service count token no Auto",
    "start": "1130559",
    "end": "1137120"
  },
  {
    "text": "generation setting that to fold to allow you to uh to allow you to continue",
    "start": "1137120",
    "end": "1142240"
  },
  {
    "text": "generating those Secrets by default um so that those who expect a secret to",
    "start": "1142240",
    "end": "1147400"
  },
  {
    "text": "exist can then well it continues to exist um so yeah as you go further along",
    "start": "1147400",
    "end": "1155440"
  },
  {
    "text": "and this is kind of again time is passing here I think throughout this whole thing you're looking at these",
    "start": "1155440",
    "end": "1160919"
  },
  {
    "text": "metrics you're assessing what the impact of these things are um and going from there so I I will say this is an example",
    "start": "1160919",
    "end": "1167000"
  },
  {
    "text": "of a plan if no ones listening you might need to go back and revisit some this plan and adjust accordingly or get them",
    "start": "1167000",
    "end": "1174320"
  },
  {
    "text": "to listen um but yeah the next thing that we can start looking at doing is disabling that automatic generation of",
    "start": "1174320",
    "end": "1181000"
  },
  {
    "text": "the secrets for each service account so this will then require that people annotate their secret like create a secret object and annotate them so this",
    "start": "1181000",
    "end": "1187919"
  },
  {
    "text": "again there's no magic to this this is going to require communication people actually working and making changes to",
    "start": "1187919",
    "end": "1194000"
  },
  {
    "text": "their processes um and that's why obviously we focus on why we're doing this to actually build a more secure",
    "start": "1194000",
    "end": "1200000"
  },
  {
    "text": "posture to begin with um gradually and here we've got one month I think you know we need to",
    "start": "1200000",
    "end": "1206880"
  },
  {
    "text": "consider what we choose but gradually reducing that maximum token expiration um again this is going to have to be",
    "start": "1206880",
    "end": "1212840"
  },
  {
    "text": "based on your progress with like actually getting people to update and that's why having these tracking things in the audit log having things like the",
    "start": "1212840",
    "end": "1220320"
  },
  {
    "text": "uh metrics we talked about is essential and uh yeah you're probably going to need at least someone uh to sit there",
    "start": "1220320",
    "end": "1227240"
  },
  {
    "text": "and really drive this effort to make sure it works um or make sure it's on track um so yeah as we talk about here",
    "start": "1227240",
    "end": "1235720"
  },
  {
    "text": "disabling sorry the polarity on this one always confuses me because we got a no and a true and a false um but then",
    "start": "1235720",
    "end": "1240840"
  },
  {
    "text": "disabling that automatic Generation Um as we go further along and",
    "start": "1240840",
    "end": "1246720"
  },
  {
    "text": "now like we've started to set a bit of a path here we continue to actually reduce",
    "start": "1246720",
    "end": "1251880"
  },
  {
    "text": "this um reduce that maximum expiration time uh yeah we disable automat aut",
    "start": "1251880",
    "end": "1258240"
  },
  {
    "text": "atically extending that on pods so people can then go and customize things themselves so if they need to but um",
    "start": "1258240",
    "end": "1263880"
  },
  {
    "text": "just gradually reducing this down uh over time down to yeah the actual default of 1 hour so it sounds very",
    "start": "1263880",
    "end": "1271679"
  },
  {
    "text": "simple when you put it up on a screen like this because I think we're skipping out the bit where we go around with our",
    "start": "1271679",
    "end": "1277120"
  },
  {
    "text": "users and continuously try and get them to do it and then they don't listen and you get them to do it again um and then",
    "start": "1277120",
    "end": "1283640"
  },
  {
    "text": "as well in 128 we actually have the ability to enable the uh Legacy Serv account tracking uh token tracking",
    "start": "1283640",
    "end": "1290000"
  },
  {
    "text": "feature gate now that will actually automatically um it will automatically annotate",
    "start": "1290000",
    "end": "1296039"
  },
  {
    "text": "our service account objects or secret objects I have to remember secret um",
    "start": "1296039",
    "end": "1301640"
  },
  {
    "text": "secret thank you Jordan um yeah this one can enable you allow you to check that",
    "start": "1301640",
    "end": "1307440"
  },
  {
    "text": "the last use right the time step of the last use of this negy one so you can",
    "start": "1307440",
    "end": "1312760"
  },
  {
    "text": "basic this basically can use to clean up the unused neacy tokens yeah so that's",
    "start": "1312760",
    "end": "1318320"
  },
  {
    "text": "really useful for actually understanding like we might have obviously we're going to have potentially thousands or however",
    "start": "1318320",
    "end": "1324120"
  },
  {
    "text": "many service account tokens as secrets in your cluster we don't actually know if they're used like they might not be",
    "start": "1324120",
    "end": "1329440"
  },
  {
    "text": "being used at all especially if these are for like workloads running in pods they're now using projected tokens so",
    "start": "1329440",
    "end": "1335520"
  },
  {
    "text": "the secrets aren't actually being used anymore um so by having this feature enabled we can see that and we can start",
    "start": "1335520",
    "end": "1341400"
  },
  {
    "text": "building you know dashboards whatever else and as you see in a minute when it comes to 130 we can",
    "start": "1341400",
    "end": "1347440"
  },
  {
    "text": "actually start to uh automatically delete and clean up these uh unused",
    "start": "1347440",
    "end": "1353120"
  },
  {
    "text": "secrets so that overall kind of gets us slightly closer to a more secure place",
    "start": "1353120",
    "end": "1358480"
  },
  {
    "text": "uh because we don't leave a load of unexpired tokens around because these are still genuine tokens associated with",
    "start": "1358480",
    "end": "1364159"
  },
  {
    "text": "a service account that's got arback permissions to do things so these are security risks already um so by actually",
    "start": "1364159",
    "end": "1371159"
  },
  {
    "text": "deleting them we can automatically clean well we have controller automatically cleans them up and uh prevents them from",
    "start": "1371159",
    "end": "1377080"
  },
  {
    "text": "being used again because they don't don't exist anymore so yeah that touches on kind of",
    "start": "1377080",
    "end": "1384000"
  },
  {
    "text": "like a lot of the workloads in kubernetes like your pod objects and so on I well yeah your pods uh where you",
    "start": "1384000",
    "end": "1390440"
  },
  {
    "text": "get your projected tokens external systems can be a little bit trickier um because ultimately we are making a",
    "start": "1390440",
    "end": "1395679"
  },
  {
    "text": "change like previously you know unbeknownst to your to you or perhaps not intentionally you've allowed people",
    "start": "1395679",
    "end": "1401400"
  },
  {
    "text": "to go and create a credential that never expires can be used forever really convenient to drop into your CI line or",
    "start": "1401400",
    "end": "1408440"
  },
  {
    "text": "something like that and you you know your users are probably going to be a bit unhappy that they can't do that",
    "start": "1408440",
    "end": "1413520"
  },
  {
    "text": "anymore um and it is going to require a different approach so there's kind of two ways to do it and I I think some of",
    "start": "1413520",
    "end": "1419799"
  },
  {
    "text": "you may have seen I think last year or so uh you can get things like Federated oidc um this is again stepping outside",
    "start": "1419799",
    "end": "1426960"
  },
  {
    "text": "of service account tokens these aren't service account tokens anymore this is technically a different orth method happens to use",
    "start": "1426960",
    "end": "1432880"
  },
  {
    "text": "jwt's um but yeah something like that well in fact I'll go to the next slide",
    "start": "1432880",
    "end": "1438400"
  },
  {
    "text": "um yeah this is a very effective method I think uh depending on the capabilities",
    "start": "1438400",
    "end": "1443720"
  },
  {
    "text": "of the external system you're working with so if you have some form of identity um identity document in your",
    "start": "1443720",
    "end": "1451000"
  },
  {
    "text": "external system you can utilize that to actually pivot into a token that could be used to authenticate um I mean",
    "start": "1451000",
    "end": "1458000"
  },
  {
    "text": "depending on your identity document you might just be able to do it straight away it's kind of the cheating one because it relies on your external",
    "start": "1458000",
    "end": "1463360"
  },
  {
    "text": "system running in an environment that has an identity that you can then use to pivot into something for",
    "start": "1463360",
    "end": "1469799"
  },
  {
    "text": "kubernetes the best the alternative that we can do um which I mean it still",
    "start": "1469799",
    "end": "1477279"
  },
  {
    "text": "relies on service account tokens but it's uh yeah it's certainly more portable and easier is probably",
    "start": "1477279",
    "end": "1484000"
  },
  {
    "text": "something closer to how the cubet the cubet sort of works today where the cubet does have a long lived credential",
    "start": "1484000",
    "end": "1489520"
  },
  {
    "text": "which it uses to go and actually interact with the API server on behalf of your pods to get those tokens and",
    "start": "1489520",
    "end": "1494760"
  },
  {
    "text": "that is to actually have have some form of long lived credential um which you can then utilize that only has",
    "start": "1494760",
    "end": "1501240"
  },
  {
    "text": "permission to actually go and request a short live token um on its behalf so",
    "start": "1501240",
    "end": "1507159"
  },
  {
    "text": "again you have something long lived but in this in this instance you've got a little bit more control or at least",
    "start": "1507159",
    "end": "1512399"
  },
  {
    "text": "tracking over um over like how these things are used that leads nicely on to the final",
    "start": "1512399",
    "end": "1519720"
  },
  {
    "text": "piece I want to mention which is a recently merg feature um around credential identifiers so because we now",
    "start": "1519720",
    "end": "1527000"
  },
  {
    "text": "have the idea of um you're going from a long lived to a shortlived token those",
    "start": "1527000",
    "end": "1532039"
  },
  {
    "text": "shortlived tokens will have some kind of identifier that is unique to that specific token now because we're going",
    "start": "1532039",
    "end": "1539000"
  },
  {
    "text": "from a long lived to a shortlived there each time we do that they we actually have an identifier for that that like",
    "start": "1539000",
    "end": "1546600"
  },
  {
    "text": "issuance and by like tracking these things back we can see when they're first used when they're first issued so",
    "start": "1546600",
    "end": "1552320"
  },
  {
    "text": "if there is some kind of an issue we can actually track this stuff back this is an alpha featureing uh cul",
    "start": "1552320",
    "end": "1558600"
  },
  {
    "text": "129 which I don't think is out yet no um but yeah that that's that's another",
    "start": "1558600",
    "end": "1564919"
  },
  {
    "text": "feature that we've kind of got that kind of helps us to actually build our posture here in the meantime whilst we actually develop uh like further",
    "start": "1564919",
    "end": "1571799"
  },
  {
    "text": "capabilities in um our external systems too so yeah to kind of summarize here um",
    "start": "1571799",
    "end": "1580440"
  },
  {
    "text": "newer kubernetes versions are using time bound tokens VI the token request API the cubet is doing this for you by",
    "start": "1580440",
    "end": "1585799"
  },
  {
    "text": "default uh the API server is making sure your pods get these credentials if they need them um we're gradually moving away",
    "start": "1585799",
    "end": "1592520"
  },
  {
    "text": "from long lived autogenerated tokens and this is going to be a long migration I think um for most of us I think it very",
    "start": "1592520",
    "end": "1599480"
  },
  {
    "text": "much depends on the type of workloads you run and how you run them um tracking is key tracking monitoring all these",
    "start": "1599480",
    "end": "1606120"
  },
  {
    "text": "things communication feedback loops on that how effective is your communication it's almost you know like running a big",
    "start": "1606120",
    "end": "1612640"
  },
  {
    "text": "SE SEO Campa campaign internally um for yourselves to actually make sure that these things things are effective uh and",
    "start": "1612640",
    "end": "1619320"
  },
  {
    "text": "that in itself is a whole other kind of worms that we're not even touching on in this talk um there are a lot of feature",
    "start": "1619320",
    "end": "1626760"
  },
  {
    "text": "Gates there's a lot of options there's a lot of parameters and it's important to actually get familiar with them to really understand how we do",
    "start": "1626760",
    "end": "1632520"
  },
  {
    "text": "them uh and yeah I think we've just got a few acknowledgements because along the way we've had quite a lot of people",
    "start": "1632520",
    "end": "1638720"
  },
  {
    "text": "helping on this um and aside from that thank you very much for attending",
    "start": "1638720",
    "end": "1645039"
  },
  {
    "text": "the talk um thank you very much for the talk and if you got any more questions then we've got some time to answer",
    "start": "1645039",
    "end": "1650830"
  },
  {
    "text": "[Applause]",
    "start": "1650830",
    "end": "1653990"
  },
  {
    "text": "them yeah please provide your feedback and uh oh yeah appreciate there's a big",
    "start": "1656720",
    "end": "1662200"
  },
  {
    "text": "QR code here to SC thanks for staying so late and during",
    "start": "1662200",
    "end": "1667799"
  },
  {
    "text": "our session oh okay if you have question please use the microphone speak for over",
    "start": "1667799",
    "end": "1674600"
  },
  {
    "text": "there and if you don't then we'll be around here anyway if you yeah yeah yeah no questions it's good cool oh good",
    "start": "1674600",
    "end": "1686000"
  },
  {
    "text": "one all right how close do I need to get can you hear me y um great so I guess uh",
    "start": "1688279",
    "end": "1695159"
  },
  {
    "text": "you know as we're moving towards these time based expired um tokens and you've got this automatic uh process to rotate",
    "start": "1695159",
    "end": "1703200"
  },
  {
    "text": "credentials even during the span of a lifetime of a you know container",
    "start": "1703200",
    "end": "1708440"
  },
  {
    "text": "um how do you like how are you approaching kind of what needs to take place in the application itself to like",
    "start": "1708440",
    "end": "1714519"
  },
  {
    "text": "discover that that's changed and it needs to uh you know absorb or",
    "start": "1714519",
    "end": "1719679"
  },
  {
    "text": "understand that that change is required because it's now like a config change in the life of the you know container so",
    "start": "1719679",
    "end": "1728399"
  },
  {
    "text": "yeah so so like we mentioned in the the tracking and the different the case is",
    "start": "1728399",
    "end": "1734159"
  },
  {
    "text": "important so the idea and all the plan we are proposed in here is right you shouldn't have negative token student",
    "start": "1734159",
    "end": "1741480"
  },
  {
    "text": "running working and uh but the same time you mon to collect the data like an anotation in APS Ser audit log you",
    "start": "1741480",
    "end": "1748880"
  },
  {
    "text": "identifies that yes it's still working right take some proactive actions then you can ordering and identify the",
    "start": "1748880",
    "end": "1756200"
  },
  {
    "text": "applications it could stop working after right we stop supporting the neacy tokens so that's why we think this",
    "start": "1756200",
    "end": "1763399"
  },
  {
    "text": "anotations and the event L very important and let help you identify find",
    "start": "1763399",
    "end": "1768519"
  },
  {
    "text": "who are the potential right workloads customer they are still using the old",
    "start": "1768519",
    "end": "1773679"
  },
  {
    "text": "Ney tokens and then work with them and come up with a plan right how to migrate",
    "start": "1773679",
    "end": "1780320"
  },
  {
    "text": "it this is the way and Vis I think the other side like terms of what we",
    "start": "1780320",
    "end": "1786279"
  },
  {
    "text": "recommend to those users when we reach out to them um if you're using like an up-to-date version of client go for example that will automatically uh be",
    "start": "1786279",
    "end": "1793399"
  },
  {
    "text": "able to like see that a token has changed and refresh that um it kind of comes down to client support",
    "start": "1793399",
    "end": "1799440"
  },
  {
    "text": "and I think that forms part of your communication strategy is making sure that you are understanding you know how",
    "start": "1799440",
    "end": "1805159"
  },
  {
    "text": "they're doing like what they're doing how they're doing it um that's the big fuzzy hole in this whole thing that is",
    "start": "1805159",
    "end": "1811519"
  },
  {
    "text": "very difficult for us to actually really say because it's very organization specific like it's reaching out to",
    "start": "1811519",
    "end": "1816679"
  },
  {
    "text": "people it could be you know looking into the audit log looking at user agents to try and you know understand what kind of",
    "start": "1816679",
    "end": "1822440"
  },
  {
    "text": "client they're running um and it very much depends on what kind of platform you're running because if you've got",
    "start": "1822440",
    "end": "1828080"
  },
  {
    "text": "kind of if it's just you running your cluster it's probably a little bit easier you understand your own workloads and applications if you're running a",
    "start": "1828080",
    "end": "1834000"
  },
  {
    "text": "larger platform where you don't necessarily control these things uh that's why you need to extend it to a",
    "start": "1834000",
    "end": "1839760"
  },
  {
    "text": "year or yeah I don't want to say more because you're not allowed to do more uh but yeah you've got to come up",
    "start": "1839760",
    "end": "1846320"
  },
  {
    "text": "with something thanks all right speaking of more what is the max duration you could set for",
    "start": "1846320",
    "end": "1853039"
  },
  {
    "text": "this time bound token so I the maximum you can extend it to from what I understand I've got the",
    "start": "1853039",
    "end": "1859320"
  },
  {
    "text": "two people who did it here in front of me but I think it's one year um hence one year uh beyond that like we're",
    "start": "1859320",
    "end": "1865440"
  },
  {
    "text": "gradually reducing that default so I think 1 hour is eventually where we're trying to get to so we have like",
    "start": "1865440",
    "end": "1871480"
  },
  {
    "text": "constantly rotating things going on got it and does it always need some sort of developer so I work for defense and I",
    "start": "1871480",
    "end": "1878880"
  },
  {
    "text": "have to feel this and we have a air gap so once it's underway and fielded I I can't have access to it as a developer",
    "start": "1878880",
    "end": "1885600"
  },
  {
    "text": "for x amount of years so so with this autogeneration of token or going to time",
    "start": "1885600",
    "end": "1891080"
  },
  {
    "text": "time bound tokens do I still have the ability to rotate it or refresh it or do",
    "start": "1891080",
    "end": "1896159"
  },
  {
    "text": "I need to send some sort of support to constantly update this so if this is like a you mean for like a a token",
    "start": "1896159",
    "end": "1903080"
  },
  {
    "text": "mounted into a pod or something yeah yeah so that the cubet will automatically do that for you so it I",
    "start": "1903080",
    "end": "1909039"
  },
  {
    "text": "sometime before it expires it's going to actually go and fetch a new one using the token request API again talk to the",
    "start": "1909039",
    "end": "1914919"
  },
  {
    "text": "API server fetch a new token and make it available it is up to your application now your workload to actually notice",
    "start": "1914919",
    "end": "1921600"
  },
  {
    "text": "that so using up to-date client libraries and whatever else is you know essential okay right thank",
    "start": "1921600",
    "end": "1927679"
  },
  {
    "text": "you hey hi so in one of your slides you mentioned something about the stale",
    "start": "1927679",
    "end": "1932960"
  },
  {
    "text": "tokens so does this token request API deletes the stale tokens as well with",
    "start": "1932960",
    "end": "1938799"
  },
  {
    "text": "the version 1.30 plus try to find it yeah I I think you",
    "start": "1938799",
    "end": "1946120"
  },
  {
    "text": "probably mentioned yeah there are some metrics and uh also yeah the steel tokens right yeah",
    "start": "1946120",
    "end": "1954120"
  },
  {
    "text": "yeah the steel tokens means yeah now we we we migrate to this and the time Bond",
    "start": "1954120",
    "end": "1959480"
  },
  {
    "text": "tokens right and but with some feature flag right feature gate we are still",
    "start": "1959480",
    "end": "1964639"
  },
  {
    "text": "supporting even you right ex automatically extended but we are on WE",
    "start": "1964639",
    "end": "1969799"
  },
  {
    "text": "warning and you right and uh some your tokens ready and uh expired and so it's",
    "start": "1969799",
    "end": "1975519"
  },
  {
    "text": "still working but give the expired tokens so this also give you idea right",
    "start": "1975519",
    "end": "1980919"
  },
  {
    "text": "like the previous question and so how can you identify the potential right and",
    "start": "1980919",
    "end": "1986200"
  },
  {
    "text": "workload or customers and that could be broken right in future if we and disable",
    "start": "1986200",
    "end": "1992480"
  },
  {
    "text": "this Auto genery or aut extension yeah because if the token stale it implies that the client hasn't actually reloaded",
    "start": "1992480",
    "end": "1998720"
  },
  {
    "text": "it from dis or whatever else so you know they're kind of like warning indicators reach out to those people well sometime",
    "start": "1998720",
    "end": "2005240"
  },
  {
    "text": "in the next year at least um but pretty promptly sure and and you mentioned something about the tracking of the what",
    "start": "2005240",
    "end": "2011760"
  },
  {
    "text": "do you call the Long Live tokens so how do you use those tracking for like uh to",
    "start": "2011760",
    "end": "2017360"
  },
  {
    "text": "delete automatically with the version 1.30 Plus or yeah for that one and uh",
    "start": "2017360",
    "end": "2023559"
  },
  {
    "text": "yeah it's still I I believe and uh yeah it's not uh GA and uh yet okay so that",
    "start": "2023559",
    "end": "2031360"
  },
  {
    "text": "feature basically like said this tracking means Wheel track use a config map store a Time step of that token that",
    "start": "2031360",
    "end": "2038440"
  },
  {
    "text": "being used last time then when this enabled you can get each token and the last used the time step then in future",
    "start": "2038440",
    "end": "2046279"
  },
  {
    "text": "uh in future in the version 130 and I think the plan is then you can based on that said if a token has not been used",
    "start": "2046279",
    "end": "2053760"
  },
  {
    "text": "and longer than one year or certain period of time this token will be deleted okay that tracking feature",
    "start": "2053760",
    "end": "2060118"
  },
  {
    "text": "basically means should I and record and the time step of the used I see yeah",
    "start": "2060119",
    "end": "2065560"
  },
  {
    "text": "okay thank you thank you it's a new feature and still and working progress believe anymore okay if there are no",
    "start": "2065560",
    "end": "2073079"
  },
  {
    "text": "more questions and thanks again for coming to our session and uh enjoying the rest of your day and thank you very",
    "start": "2073079",
    "end": "2081480"
  },
  {
    "text": "much",
    "start": "2081480",
    "end": "2084480"
  }
]