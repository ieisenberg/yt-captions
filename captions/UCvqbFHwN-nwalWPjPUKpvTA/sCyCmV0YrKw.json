[
  {
    "text": "aha welcome thank you so much for coming so meet hero hero is application",
    "start": "520",
    "end": "9240"
  },
  {
    "text": "source code on a developer's laptop hero longs to be a real application running",
    "start": "9240",
    "end": "15839"
  },
  {
    "text": "in production serving in users and we're going to help hero on their",
    "start": "15839",
    "end": "21320"
  },
  {
    "text": "Journey our job is to help hero navigate hundreds of cncf projects choose which",
    "start": "21320",
    "end": "27640"
  },
  {
    "text": "ones to use integrate them with one another so hero can live their dream I'm",
    "start": "27640",
    "end": "33480"
  },
  {
    "text": "Whitney this is Victor and together we host a streaming show called you choose",
    "start": "33480",
    "end": "39239"
  },
  {
    "text": "on Victor's devops toolkit channel so in our show each episode is a system design",
    "start": "39239",
    "end": "46000"
  },
  {
    "text": "Choice and then we gather all the relevant cncf technologies that can do that thing we get experts from each",
    "start": "46000",
    "end": "53879"
  },
  {
    "text": "technology and then we give our experts only five minutes to tell us what their technology does then at the end of the",
    "start": "53879",
    "end": "60519"
  },
  {
    "text": "episode we ask the community to vote and whichever uh technology gets chosen is",
    "start": "60519",
    "end": "66080"
  },
  {
    "text": "the one we Implement in our ongoing demo that's it right so based on choices",
    "start": "66080",
    "end": "71640"
  },
  {
    "text": "you've already made in the show right now in the demo environment we have a cluster it's an AWS eks cluster defined",
    "start": "71640",
    "end": "79759"
  },
  {
    "text": "with crossplane resources we also have Argo CD doing get Ops for us and our",
    "start": "79759",
    "end": "85720"
  },
  {
    "text": "applications already deployed and we have Contour a as a way for our uh end",
    "start": "85720",
    "end": "92040"
  },
  {
    "text": "users to be able to access our application so wait it sounds like hero already is in production serving end",
    "start": "92040",
    "end": "97759"
  },
  {
    "text": "users what are we doing here it's over we did it yeah good job no so the thing",
    "start": "97759",
    "end": "104920"
  },
  {
    "text": "is there's no security in our production cluster and so heroes in danger and so",
    "start": "104920",
    "end": "110360"
  },
  {
    "text": "are the users in the system so we need to save the day so this is where we need your help please get out your phones and",
    "start": "110360",
    "end": "117000"
  },
  {
    "text": "scan this QR code and we're going to do a live vote today we're going to go through four system design choices and",
    "start": "117000",
    "end": "124000"
  },
  {
    "text": "then Victor's going to build a demo based on what you choose so we're going to add cluster level policies we're",
    "start": "124000",
    "end": "130920"
  },
  {
    "text": "going to do runtime uh policies we're going to manage secrets and we're going to secure podt pod communication so",
    "start": "130920",
    "end": "138920"
  },
  {
    "text": "let's do this thing I love how Victor hasn't said a word yet this is",
    "start": "138920",
    "end": "145160"
  },
  {
    "text": "great all right so first up we're going to do admission controller policy or cluster level policy",
    "start": "145160",
    "end": "150400"
  },
  {
    "text": "our Cho choices are kerno Opa gatekeeper and Cube Warden but first of all why do",
    "start": "150400",
    "end": "157239"
  },
  {
    "text": "we need policy well as things stand our applications could become bloated and use way too many resources or they might",
    "start": "157239",
    "end": "164239"
  },
  {
    "text": "run outdated versions or they might uh pull from untrusted container Registries",
    "start": "164239",
    "end": "170280"
  },
  {
    "text": "so we need to add rules to our cluster that will help prevent this and like a",
    "start": "170280",
    "end": "175480"
  },
  {
    "text": "bajillion other things that we don't want to happen from happening so um a policy is a rule that defines",
    "start": "175480",
    "end": "182680"
  },
  {
    "text": "expectations of actions that are are or are not allowed to happen to objects in our system it's important to know that",
    "start": "182680",
    "end": "188720"
  },
  {
    "text": "it's organization specific so we could do things for example like add resource limits or we",
    "start": "188720",
    "end": "195879"
  },
  {
    "text": "could um declare which versions We want to use or we could prevent our container",
    "start": "195879",
    "end": "200920"
  },
  {
    "text": "from pulling from untrusted Registries and also bajillion other things so how does it work so our um",
    "start": "200920",
    "end": "207799"
  },
  {
    "text": "our uh when we make a rule we commit to uh sorry I lost my train of that when we",
    "start": "207799",
    "end": "214120"
  },
  {
    "text": "make a new rule it adds configuration to cube API in the form of an admission controller web hook so basically if you",
    "start": "214120",
    "end": "221400"
  },
  {
    "text": "try to make a change to the cluster that falls under the jurisdiction of this rule it's going to ask for permission",
    "start": "221400",
    "end": "226920"
  },
  {
    "text": "from the admission controller the admission controller is a piece of software that's running and if it's a",
    "start": "226920",
    "end": "232159"
  },
  {
    "text": "validating admission controller it's going to answer yes or no if it's a mutating admission controller it might",
    "start": "232159",
    "end": "237879"
  },
  {
    "text": "change something about the resource either way it's going to return a response and then the cube API is going",
    "start": "237879",
    "end": "243000"
  },
  {
    "text": "to act in accordance with policy so let's talk about our tools the first one is kerno kerno is an admission",
    "start": "243000",
    "end": "250239"
  },
  {
    "text": "controller that's built specifically for kubernetes so you can write policy in",
    "start": "250239",
    "end": "255680"
  },
  {
    "text": "yaml kind of it's really a J uh J let's see CNO Json query language and it's",
    "start": "255680",
    "end": "263759"
  },
  {
    "text": "meant to look and feel like yo with the idea that people who are working in kubernetes can reasonably author and the",
    "start": "263759",
    "end": "269840"
  },
  {
    "text": "can reason about policy well there's a ton of other bells and whistles it's a mature technology but that's not a",
    "start": "269840",
    "end": "275960"
  },
  {
    "text": "different those aren't differentiators so I'm going to move on next up we have Opa gatekeeper Opa stands for open",
    "start": "275960",
    "end": "282000"
  },
  {
    "text": "policy agents and with Opa gatekeeper um well with let's say open policy agents",
    "start": "282000",
    "end": "288160"
  },
  {
    "text": "you can um use that with lots of different stuff all over your estate not just cloud and not just kubernetes and",
    "start": "288160",
    "end": "295479"
  },
  {
    "text": "opa gatekeeper the gatekeeper part pulls Opa into kubernetes can use it in kubernetes it has one big benefit and",
    "start": "295479",
    "end": "303840"
  },
  {
    "text": "one big drawback and those two happen to be the same thing and that thing is Rego",
    "start": "303840",
    "end": "311759"
  },
  {
    "text": "so with Opa gatekeeper you write your policy in Rego and then you can use it",
    "start": "311759",
    "end": "318120"
  },
  {
    "text": "across your entire system your policies are reusable the drawback is Rego is",
    "start": "318120",
    "end": "323440"
  },
  {
    "text": "notoriously difficult to work with so maybe just maybe you don't want to write policy in yl and you don't want to write",
    "start": "323440",
    "end": "329960"
  },
  {
    "text": "policy in Rego what should you do maybe you want to consider CU boarden with Q boarden you can write your policy in any",
    "start": "329960",
    "end": "336160"
  },
  {
    "text": "language you choose and then that policy gets compiled into a wasum module the wasm module is an oci artifact you can",
    "start": "336160",
    "end": "343440"
  },
  {
    "text": "even write your policy in in Rego and put it in a a Wasa module uh if you really want to make your life hard for",
    "start": "343440",
    "end": "349080"
  },
  {
    "text": "no reason and then uh and then you can run that waza module as part of the emission the keboard and emission",
    "start": "349080",
    "end": "355280"
  },
  {
    "text": "controller so now's the moment which do you choose",
    "start": "355280",
    "end": "361638"
  },
  {
    "text": "please uh oh that's how much people like security oh this is",
    "start": "362960",
    "end": "370400"
  },
  {
    "text": "exciting so I just want to remind y all that this is not like a popularity contest it's not a competition it all it",
    "start": "370400",
    "end": "377440"
  },
  {
    "text": "is is like what do you want to learn more about so if there's one you already know don't vote for that one you",
    "start": "377440",
    "end": "384280"
  },
  {
    "text": "know it seems like there it's it's a consensus shall we close it yeah we're",
    "start": "384280",
    "end": "389639"
  },
  {
    "text": "going to close it with cerno let's see it okay now I'm allowed to talk",
    "start": "389639",
    "end": "395720"
  },
  {
    "text": "obviously okay cool um so I'm going to",
    "start": "395720",
    "end": "401199"
  },
  {
    "text": "uh copy some policy that I prepar I I will show you the policy but I want to copy it mostly because",
    "start": "401199",
    "end": "407840"
  },
  {
    "text": "um uh why uh because it will take a bit of time until Argo CD picks it up so add",
    "start": "407840",
    "end": "414080"
  },
  {
    "text": "commit dhm D whatever and push uh push there we go now the thing I",
    "start": "414080",
    "end": "422319"
  },
  {
    "text": "pushed is here policies CNO",
    "start": "422319",
    "end": "427520"
  },
  {
    "text": "right right this is a policy I'm going to push three policy to three or more policies to be more specific what can we",
    "start": "427520",
    "end": "434720"
  },
  {
    "text": "do with the cluster uh sorry not what what we can do with deployments and this one says hey",
    "start": "434720",
    "end": "441160"
  },
  {
    "text": "this policy applies to creating and updating resources and applies to the namespace production and the number of",
    "start": "441160",
    "end": "448479"
  },
  {
    "text": "replicas needs to be great than two right very simple policy and then we have another one for databases hey you",
    "start": "448479",
    "end": "454680"
  },
  {
    "text": "can um you can uh you can create databases in this case using cross plan compositions or composite claims they",
    "start": "454680",
    "end": "462199"
  },
  {
    "text": "need to be small medium or large and if you try to create databases specifically",
    "start": "462199",
    "end": "468039"
  },
  {
    "text": "in production then uh they need to be medium or large cannot be small right very simple policies nothing special",
    "start": "468039",
    "end": "474560"
  },
  {
    "text": "just to demonstrate how all that works now while I was talking hopefully uh",
    "start": "474560",
    "end": "481120"
  },
  {
    "text": "aroid uh cluster policies uh SE uh Argo cidd probably yes Aro C picked it up",
    "start": "481120",
    "end": "488560"
  },
  {
    "text": "from git deploy it to my management cluster and you can see that here I have those three policies that I explained",
    "start": "488560",
    "end": "493840"
  },
  {
    "text": "before now what I'm going to do next is the most important part and that's that I'm going to uh copy uh cncf demo ytt",
    "start": "493840",
    "end": "503080"
  },
  {
    "text": "which is my application uh defined as caral YT and now if you're asking why is",
    "start": "503080",
    "end": "508400"
  },
  {
    "text": "caralt that's because in the previous talk we had nobody knows when people chose that one uh so I'm copying my",
    "start": "508400",
    "end": "516360"
  },
  {
    "text": "application uh and I'm going to edit and commit and push there we go and now Argo",
    "start": "516360",
    "end": "524600"
  },
  {
    "text": "CD uh we'll pick it up um and we can watch it so let's say Cube cutle Get do",
    "start": "524600",
    "end": "531080"
  },
  {
    "text": "do namespace production get uh deployments for example right no that's",
    "start": "531080",
    "end": "538079"
  },
  {
    "text": "wrong thing it's not deployment that's deployments there we go now uh let me",
    "start": "538079",
    "end": "543880"
  },
  {
    "text": "just make sure that Argo CD picks this up and it creates something it might work it might not work my uh measurement",
    "start": "543880",
    "end": "552000"
  },
  {
    "text": "of success is that if it doesn't fail at the very beginning um what might be happening is",
    "start": "552000",
    "end": "557959"
  },
  {
    "text": "that uh port forwarding Aro CD let's say oh okay yes it's getting back up will it",
    "start": "557959",
    "end": "567839"
  },
  {
    "text": "find out there's my application cool right so this says try again and",
    "start": "567839",
    "end": "573760"
  },
  {
    "text": "then you try it again anyways my application has been deployed but the important part is that if I do Cube",
    "start": "573760",
    "end": "580399"
  },
  {
    "text": "cutle namespace uh production I get all you",
    "start": "580399",
    "end": "586040"
  },
  {
    "text": "will see hopefully that there is a there is a pod but not from the application",
    "start": "586040",
    "end": "592079"
  },
  {
    "text": "there is a service there is state for set from the application the deployment is missing right why it's missing because of the polic easy uh so uh Cube",
    "start": "592079",
    "end": "601079"
  },
  {
    "text": "cutle let's see what's going on Cube cutle Cube cutle uh npace production",
    "start": "601079",
    "end": "608600"
  },
  {
    "text": "it's very hard to type while this thing is sticking in my eyes",
    "start": "608600",
    "end": "613800"
  },
  {
    "text": "um describe uh deployment uhhuh no there is no",
    "start": "613800",
    "end": "621440"
  },
  {
    "text": "deployment uh yeah sorry for that uh there is no deployment because uh Cavo",
    "start": "621440",
    "end": "628600"
  },
  {
    "text": "prevented it from create being created right so what I'm going to do next is that I'm going to increase the number of",
    "start": "628600",
    "end": "633839"
  },
  {
    "text": "replicas of my application and you put the prompt to the top of the screen yes I can thank you there we go right CNO",
    "start": "633839",
    "end": "642079"
  },
  {
    "text": "prevented it from running and um what it's still on the bottom what's at the",
    "start": "642079",
    "end": "648000"
  },
  {
    "text": "bottom the prompts like people in the back can't thing okay okay you're too",
    "start": "648000",
    "end": "656200"
  },
  {
    "text": "demanding that's just and and there we go",
    "start": "656200",
    "end": "661630"
  },
  {
    "text": "[Laughter]",
    "start": "661630",
    "end": "667519"
  },
  {
    "text": "okay is it enough beautiful are you Happ now yes thank you very by the way they",
    "start": "667519",
    "end": "672880"
  },
  {
    "text": "call her grumpy the last talk and this is a proof okay let's fix it I I don't have",
    "start": "672880",
    "end": "679880"
  },
  {
    "text": "enough time uh to chat with Whitney Vim uh I'm going to fix it y uh y vales prod",
    "start": "679880",
    "end": "688680"
  },
  {
    "text": "I'm going to change something here uh what am I going to change uh I forgot I forgot yes what",
    "start": "688680",
    "end": "699040"
  },
  {
    "text": "replicas yeah replicas exactly replicas uh no I forgot what I put it put put it",
    "start": "699040",
    "end": "705000"
  },
  {
    "text": "too what did two they say two yeah but I'm not sure whether that's the value I",
    "start": "705000",
    "end": "710360"
  },
  {
    "text": "put let's say it's two that one right and let's say that I might be completely wrong here but um I know I for forgot",
    "start": "710360",
    "end": "717959"
  },
  {
    "text": "something okay that's fine fine that's fine maybe it will work maybe it will not get add there we go push and now it",
    "start": "717959",
    "end": "726160"
  },
  {
    "text": "will adjusted for a while we can go to the next choice and come back to this later well I'm on penss and needles you",
    "start": "726160",
    "end": "733320"
  },
  {
    "text": "want slides now yes please okay uh I'm going to get your",
    "start": "733320",
    "end": "740519"
  },
  {
    "text": "slides there are your slides let me try to move the",
    "start": "740680",
    "end": "746440"
  },
  {
    "text": "prompt you're inspiring all kinds of confidence um runtime policies is what we're talking about next we're going to",
    "start": "746959",
    "end": "753600"
  },
  {
    "text": "talk about Falco and Cube armor but first what are runtime policies so do",
    "start": "753600",
    "end": "759600"
  },
  {
    "text": "you completely trust everything that's running in your cluster do you trust the internal applications do you trust third",
    "start": "759600",
    "end": "767120"
  },
  {
    "text": "party tools do you trust your dependencies do you trust every single",
    "start": "767120",
    "end": "772160"
  },
  {
    "text": "process that's running in your whole cluster uh what how do you know if",
    "start": "772160",
    "end": "777720"
  },
  {
    "text": "something suspicious is going going on and that's where runtime policy comes in so with runtime policy we're looking at",
    "start": "777720",
    "end": "785279"
  },
  {
    "text": "what's happening at the kernel level of each host machine so we're looking at",
    "start": "785279",
    "end": "790440"
  },
  {
    "text": "kernel events and looking for suspicious Behavior so we're uh looking for unknown",
    "start": "790440",
    "end": "795720"
  },
  {
    "text": "unknowns at runtime so with uh runtime policy you monitor your application",
    "start": "795720",
    "end": "802839"
  },
  {
    "text": "Define your expected behavior and then you can make a runtime policy that does something when in an is detected now",
    "start": "802839",
    "end": "810600"
  },
  {
    "text": "what that something is depends on our technology so let's jump in first up we have Falco Falco is a cloud native",
    "start": "810600",
    "end": "817920"
  },
  {
    "text": "threat detector Falco has a few different sources so you can get S um",
    "start": "817920",
    "end": "823000"
  },
  {
    "text": "kernel events from the kernel module or you can get it from the ebpf probe but",
    "start": "823000",
    "end": "828040"
  },
  {
    "text": "you can also there are plugin so you can pull in like Cube cuddle logs or cloud provider logs or um there a bunch of",
    "start": "828040",
    "end": "834199"
  },
  {
    "text": "them 13 or maybe um so that's Falco what happens if an anomaly happens is an",
    "start": "834199",
    "end": "840920"
  },
  {
    "text": "alert is triggered and so that alert is really just a text that has some sort of a priority associated with it then that",
    "start": "840920",
    "end": "849040"
  },
  {
    "text": "alert you can forward to other so you can use Falco sidekick to forward alerts to compatible destinations they're like",
    "start": "849040",
    "end": "855800"
  },
  {
    "text": "50 or 60 so like email or telegram or whatever and then you can use um Falco",
    "start": "855800",
    "end": "861759"
  },
  {
    "text": "towan to do something when an alert occurs so what that's something will happen after the alert and it might be",
    "start": "861759",
    "end": "868240"
  },
  {
    "text": "kill a container or get extra information and then we have Cube armor",
    "start": "868240",
    "end": "875240"
  },
  {
    "text": "with Cube armor it's still does the monitoring it still does the alerting",
    "start": "875240",
    "end": "881079"
  },
  {
    "text": "but it does attack prevention so this time when an attack is attempted it",
    "start": "881079",
    "end": "888279"
  },
  {
    "text": "fails so it never happens at all so Cub armer also uses ebpf to hook in the",
    "start": "888279",
    "end": "894560"
  },
  {
    "text": "Linux kernel in a safe and performant way and then it also uses LSM or Linux",
    "start": "894560",
    "end": "900440"
  },
  {
    "text": "security modules which are basically Access Control to the Linux kernel and that's the mechanism it uses to prevent",
    "start": "900440",
    "end": "907040"
  },
  {
    "text": "attacks it's a younger project Falco Talent has graduated and it's time to",
    "start": "907040",
    "end": "914560"
  },
  {
    "text": "vote okay can I finish my previous section while they're voting uh no because we want to yeah sorry",
    "start": "915399",
    "end": "924360"
  },
  {
    "text": "okay Cube armor",
    "start": "926680",
    "end": "930959"
  },
  {
    "text": "I see the fal folks are trying hard it's moving but not and they're not mutually",
    "start": "932639",
    "end": "937839"
  },
  {
    "text": "exclus exclusive like I'm pretty sure you can forward Cube armor alerts to like Falco sidekick just just FYI it's",
    "start": "937839",
    "end": "944399"
  },
  {
    "text": "not a competition yeah all right you're up okay I'm not going to implement that",
    "start": "944399",
    "end": "951040"
  },
  {
    "text": "I'm going to implement where I was before because I forgot a couple of things uh first of all uh database size",
    "start": "951040",
    "end": "959199"
  },
  {
    "text": "should be medium because the uh the the the the the policy said",
    "start": "959199",
    "end": "965079"
  },
  {
    "text": "that it must be medium in production and more important thing that would uh",
    "start": "965079",
    "end": "970360"
  },
  {
    "text": "prevent me from doing anything is that I forgot to convert from ytt Carell ytt to Pure yaml before putting it to uh to get",
    "start": "970360",
    "end": "978000"
  },
  {
    "text": "you know what I'm getting lazy I'm going to copy it I have it somewhere look at this this is a get repo that you have",
    "start": "978000",
    "end": "984480"
  },
  {
    "text": "access to also yeah there we go there we go there we go uh okay and now I can get",
    "start": "984480",
    "end": "992560"
  },
  {
    "text": "push and add and comit and push and whatever order doesn't matter anymore",
    "start": "992560",
    "end": "999560"
  },
  {
    "text": "there we go and now if I go back to Argo CD and I refresh it uh is it working yes",
    "start": "999560",
    "end": "1007480"
  },
  {
    "text": "synchronize refresh the Argo C is Tabor is still thinking that it needs to do",
    "start": "1007480",
    "end": "1012600"
  },
  {
    "text": "what it was doing before so I'm going to stop it and then start it again and there we go deployment was created and",
    "start": "1012600",
    "end": "1018319"
  },
  {
    "text": "the datab was created and cool now what was chosen Cube",
    "start": "1018319",
    "end": "1025530"
  },
  {
    "text": "[Applause] armor what was chosen Cube armor Cube armor okay Cube",
    "start": "1025530",
    "end": "1034199"
  },
  {
    "text": "armor let's do it uh what first uh Cube cutle okay so what I'm going to do is",
    "start": "1034199",
    "end": "1040280"
  },
  {
    "text": "try to do something I shouldn't be able to do in a in a container of uh one of my applications so I'm going to do Cube",
    "start": "1040280",
    "end": "1047480"
  },
  {
    "text": "cutle no Cube Cube cutle name space name",
    "start": "1047480",
    "end": "1053400"
  },
  {
    "text": "space uh production I want to exit something uh and that something is",
    "start": "1053400",
    "end": "1060640"
  },
  {
    "text": "cncf demo uh controller this is actually um schema hero now and the reason why",
    "start": "1060640",
    "end": "1068000"
  },
  {
    "text": "I'm using schema hero instead of my application is because my application is based on scratch image and there is nothing you can do to it anyways um but",
    "start": "1068000",
    "end": "1076520"
  },
  {
    "text": "uh I'm going to say hey I want to Output all the files uh in this container right this should not be allowed because if",
    "start": "1076520",
    "end": "1083080"
  },
  {
    "text": "somebody malicious comes and outputs and they can do stuff to those files right this should not have happened so to fix",
    "start": "1083080",
    "end": "1090840"
  },
  {
    "text": "that I'm going to say I'm going to annotate annotate uh Nam space",
    "start": "1090840",
    "end": "1097760"
  },
  {
    "text": "production uh and say Cube uh armor uh F uh file",
    "start": "1097760",
    "end": "1106240"
  },
  {
    "text": "posture uh equals block and overwrite what over why don't you",
    "start": "1106240",
    "end": "1114159"
  },
  {
    "text": "correct me are you French you don't know English is that the thing overwrite",
    "start": "1114159",
    "end": "1120000"
  },
  {
    "text": "um okay and now uh the last thing I need is uh I'm going to copy the policies for",
    "start": "1120000",
    "end": "1126600"
  },
  {
    "text": "cube armor there we go Cube armor and uh to infrastructure run does a matter here",
    "start": "1126600",
    "end": "1133559"
  },
  {
    "text": "we go and I'm going to push it to get and comit and",
    "start": "1133559",
    "end": "1139440"
  },
  {
    "text": "push no add comit push push there we go um and now Argo should deploy Cube armor",
    "start": "1139440",
    "end": "1148000"
  },
  {
    "text": "and I will be able to apply the rules and you can see what I just uh uh the",
    "start": "1148000",
    "end": "1153559"
  },
  {
    "text": "policy that I just applied here it is that's what I push to get I'm just saying hey this essentially long story",
    "start": "1153559",
    "end": "1161640"
  },
  {
    "text": "short uh this is the only thing you can execute in that container anything else not allowed right the short version",
    "start": "1161640",
    "end": "1169400"
  },
  {
    "text": "uh of of all that now if I say Cube armor name",
    "start": "1169400",
    "end": "1174720"
  },
  {
    "text": "space uh name space ah Cube armor D Das",
    "start": "1174720",
    "end": "1180320"
  },
  {
    "text": "D Das name space production get uh Cube armor",
    "start": "1180320",
    "end": "1187720"
  },
  {
    "text": "policies there is no policy there is no policy there is no policy",
    "start": "1187720",
    "end": "1194080"
  },
  {
    "text": "infra because Argo CD did not yet infra I said there we",
    "start": "1194080",
    "end": "1200440"
  },
  {
    "text": "go not yet pick it up it fill probably eventually uh is it there there we go",
    "start": "1200440",
    "end": "1207960"
  },
  {
    "text": "there is a policy no it's not yet wait wait wait now I'm going to execute the same command before right this is from",
    "start": "1207960",
    "end": "1213720"
  },
  {
    "text": "my history remember this command that output all the",
    "start": "1213720",
    "end": "1218120"
  },
  {
    "text": "files that's not the reason to CP come on I don't know what I did wrong I'm",
    "start": "1223640",
    "end": "1229799"
  },
  {
    "text": "going to probably annotated it bad CU AR",
    "start": "1229799",
    "end": "1235039"
  },
  {
    "text": "more arm more file P that sounds correct block you know what imagine that it",
    "start": "1235039",
    "end": "1242880"
  },
  {
    "text": "worked let's go on imagine that it work in the real world it works when I'm not",
    "start": "1243640",
    "end": "1249320"
  },
  {
    "text": "when when these things are not sticking in my nose it works it's important to know",
    "start": "1249320",
    "end": "1255039"
  },
  {
    "text": "it's Victor's failing and not Q B's failing I think exactly all right you want to keep yeah it still",
    "start": "1255039",
    "end": "1262960"
  },
  {
    "text": "works okay okay go for it you can think it through while I talk",
    "start": "1262960",
    "end": "1270120"
  },
  {
    "text": "about Secrets management so for Secrets management we have three tools external Secrets operator Secrets store CSI",
    "start": "1270120",
    "end": "1277640"
  },
  {
    "text": "driver and Sops so with Secrets management our application and applications like ours have a lot of",
    "start": "1277640",
    "end": "1284760"
  },
  {
    "text": "different confidential information they need to manage so most most of this can be done with a vault a vault is a",
    "start": "1284760",
    "end": "1292159"
  },
  {
    "text": "technology that um basically it stores secrets safely and it has an API to access it that's the bare minimum uh",
    "start": "1292159",
    "end": "1299240"
  },
  {
    "text": "Vault with Sal is probably also doing Secret uh rotation and helping with remediation but the vault is not what",
    "start": "1299240",
    "end": "1305720"
  },
  {
    "text": "we're talking about what we're concerned with how do we get our secrets into kubernetes so first we're going to talk",
    "start": "1305720",
    "end": "1311000"
  },
  {
    "text": "about how external Secrets operator does that so it um what it does is it",
    "start": "1311000",
    "end": "1316440"
  },
  {
    "text": "connects to the Vault API it gets the secret and then it writes that secret it",
    "start": "1316440",
    "end": "1322279"
  },
  {
    "text": "makes it a kubernetes secret and it also manages the life cycle of the kubernetes secret then our application can get it",
    "start": "1322279",
    "end": "1330200"
  },
  {
    "text": "and our application has its secret NE um external Secrets operator",
    "start": "1330200",
    "end": "1335840"
  },
  {
    "text": "has two rad Alpha features for one it can take kubernetes secrets and it can push them to the vaults and it can also",
    "start": "1335840",
    "end": "1342279"
  },
  {
    "text": "generate kubernetes Secrets next up we have Secret store CSI driver as you can maybe guess from the",
    "start": "1342279",
    "end": "1349000"
  },
  {
    "text": "name it uses CSI or container container storage interface the idea here is they",
    "start": "1349000",
    "end": "1355720"
  },
  {
    "text": "think that um kubernetes Secrets aren't very safe they're basically just Bas 64 encoded and stored in ETD so they want",
    "start": "1355720",
    "end": "1362320"
  },
  {
    "text": "to make a secret solution that doesn't use kubernets so what Secret store CSI",
    "start": "1362320",
    "end": "1367360"
  },
  {
    "text": "driver the first thing it'll do is mount a temporary file system to the Pod then it reaches into the Vault and gets the",
    "start": "1367360",
    "end": "1374080"
  },
  {
    "text": "secret and writes the secret to that volume and then our our application can",
    "start": "1374080",
    "end": "1379480"
  },
  {
    "text": "access the secret as part of its file system and then uh the next one is stops",
    "start": "1379480",
    "end": "1387240"
  },
  {
    "text": "this is short for Secrets operations but if you call it Secrets operations no one will know what you're talking",
    "start": "1387240",
    "end": "1393200"
  },
  {
    "text": "about with stops all it is is it's a a CLI that can encrypt and decrypt files",
    "start": "1393200",
    "end": "1400960"
  },
  {
    "text": "so here we are defining our kubernetes secrets and we can use the SOP CLI to",
    "start": "1400960",
    "end": "1406320"
  },
  {
    "text": "encrypt the secret parts and then there's also a decryption key associated with it so how that works in our",
    "start": "1406320",
    "end": "1412720"
  },
  {
    "text": "workflow is our vault is now storing the decryption key it's not storing our secret anymore so because that is",
    "start": "1412720",
    "end": "1419480"
  },
  {
    "text": "encrypted we can commit it to get so we commit it to get Argo CD picks up the",
    "start": "1419480",
    "end": "1424559"
  },
  {
    "text": "change and then Argo CD sees it has an encrypted file now you have to teach Argo CD what to do so we use a configure",
    "start": "1424559",
    "end": "1431720"
  },
  {
    "text": "man configuration management plugin and then it will pull up the SOP CLI which",
    "start": "1431720",
    "end": "1437000"
  },
  {
    "text": "gets this the decryption key and can decrypt the file then that can be",
    "start": "1437000",
    "end": "1442080"
  },
  {
    "text": "applied to cube API we have kubernetes secret or we can access it",
    "start": "1442080",
    "end": "1447799"
  },
  {
    "text": "and and that's uh stops so now you get to vote",
    "start": "1447799",
    "end": "1454039"
  },
  {
    "text": "please oh",
    "start": "1460320",
    "end": "1463799"
  },
  {
    "text": "interesting it got really quiet in here here they're all concentrated on",
    "start": "1466039",
    "end": "1471850"
  },
  {
    "text": "[Laughter] voting all right it seems pretty definitive Secret store CSI driers is",
    "start": "1471850",
    "end": "1479080"
  },
  {
    "text": "what they've chosen SS csid D cool okay I'm not going to do",
    "start": "1479080",
    "end": "1488080"
  },
  {
    "text": "it and the reason is very simple it's actually great but it works only with your applications and I'm planning to",
    "start": "1488080",
    "end": "1495120"
  },
  {
    "text": "put a secret for my database that is used by cross plan and any third party application expect secrets so volumes",
    "start": "1495120",
    "end": "1500840"
  },
  {
    "text": "will not work right great project doesn't work for me today",
    "start": "1500840",
    "end": "1506520"
  },
  {
    "text": "so I'm going to choose myself what I'm going to use then and I'm going to use external",
    "start": "1506520",
    "end": "1513200"
  },
  {
    "text": "[Applause]",
    "start": "1513470",
    "end": "1517749"
  },
  {
    "text": "Secrets this is the first time I'm doing that meaning that uh I I Am pro choice",
    "start": "1518520",
    "end": "1524480"
  },
  {
    "text": "but not today uh so uh if I take a look at the",
    "start": "1524480",
    "end": "1530000"
  },
  {
    "text": "secret uh cncf demo DB password right uh and output it to yaml and this is the",
    "start": "1530000",
    "end": "1537200"
  },
  {
    "text": "secret I already have in my cluster right and you can see the password and if I output that password in base",
    "start": "1537200",
    "end": "1544120"
  },
  {
    "text": "64 uh base 64 decoded you can see that",
    "start": "1544120",
    "end": "1550799"
  },
  {
    "text": "uh what is wrong what did they do WR equal in the",
    "start": "1550799",
    "end": "1556960"
  },
  {
    "text": "end ah okay okay cool cool cool there we go that's my password now the problem",
    "start": "1556960",
    "end": "1562640"
  },
  {
    "text": "with this password is that it got coding your manifest that I applied before I started this talk this is unacceptable",
    "start": "1562640",
    "end": "1568799"
  },
  {
    "text": "because if you go to my GitHub repository you will find out what the password is we shouldn't be doing that",
    "start": "1568799",
    "end": "1574000"
  },
  {
    "text": "so instead what I have is this uh I'm going",
    "start": "1574000",
    "end": "1579279"
  },
  {
    "text": "to go to my application and here um there we go this is my application",
    "start": "1579279",
    "end": "1586960"
  },
  {
    "text": "right now and somewhere there is that secret there is this secret right unacceptable anybody can see it so what",
    "start": "1586960",
    "end": "1594360"
  },
  {
    "text": "I'm going to do is open that uh you know the value spr that I used before",
    "start": "1594360",
    "end": "1599520"
  },
  {
    "text": "unsuccessfully um and I'm going to say that my database should not be in Secure",
    "start": "1599520",
    "end": "1605720"
  },
  {
    "text": "uh this is false um and I'm going to execute ytt again to generate uh the the",
    "start": "1605720",
    "end": "1615000"
  },
  {
    "text": "Manifest which probably this time might work who knows uh there we go and I'm",
    "start": "1615000",
    "end": "1621120"
  },
  {
    "text": "going to push it and comit and push it",
    "start": "1621120",
    "end": "1626760"
  },
  {
    "text": "and do all the things and now if I do Cube cutle tou do namespace production",
    "start": "1626760",
    "end": "1633440"
  },
  {
    "text": "get uh external uh secrets. external secrets. iio uh it's",
    "start": "1633440",
    "end": "1643760"
  },
  {
    "text": "probably not yet there but I will refresh my application in",
    "start": "1643760",
    "end": "1649600"
  },
  {
    "text": "uh Argo C up there we go uhuh and this one come on come on come",
    "start": "1649600",
    "end": "1657520"
  },
  {
    "text": "on uhuh and now if I there we go there's",
    "start": "1657520",
    "end": "1664799"
  },
  {
    "text": "external secret right now what this did is that uh this is now this now went to my external secret uh to secret manager",
    "start": "1664799",
    "end": "1672440"
  },
  {
    "text": "in AWS and retrieve the secret for me uh and if I do get uh secrets you will see",
    "start": "1672440",
    "end": "1681720"
  },
  {
    "text": "that there is a secret uh my DB password and if I output",
    "start": "1681720",
    "end": "1687440"
  },
  {
    "text": "that just as before and this time remember to copy",
    "start": "1687440",
    "end": "1693559"
  },
  {
    "text": "the everything there we go Echo",
    "start": "1693559",
    "end": "1699440"
  },
  {
    "text": "Das this is the secret from my secret manager it worked this time two out of",
    "start": "1700880",
    "end": "1707880"
  },
  {
    "text": "three let's go with me let's do it one more so",
    "start": "1707880",
    "end": "1713200"
  },
  {
    "text": "next we're going to secure our pod to pod communication our choices for this",
    "start": "1713200",
    "end": "1718399"
  },
  {
    "text": "are ISO Linker D and psyllium so there are three aspects we need to concern us",
    "start": "1718399",
    "end": "1724159"
  },
  {
    "text": "help us with to secure uh podt pod communication the first one is identity",
    "start": "1724159",
    "end": "1729559"
  },
  {
    "text": "we need each of our our pods to have identity and we need them to be able to verify each other's identity the second",
    "start": "1729559",
    "end": "1735240"
  },
  {
    "text": "one is encryption we need to encrypt the connections between the pod and then finally we need policy so pods",
    "start": "1735240",
    "end": "1741320"
  },
  {
    "text": "that shouldn't be able to talk to one another uh shouldn't be able to talk to one another don't let them and sdo and",
    "start": "1741320",
    "end": "1748200"
  },
  {
    "text": "Linker D both do this in a similar way that in a service mesh way so here's our",
    "start": "1748200",
    "end": "1753840"
  },
  {
    "text": "cluster it's flattened so I can illustrate how this works so basically esto and Linker D they inject an extra",
    "start": "1753840",
    "end": "1760440"
  },
  {
    "text": "container into every pod that's running and then sto or Linker D can act oh and",
    "start": "1760440",
    "end": "1765960"
  },
  {
    "text": "then those containers act as a proxy for all the requests going to and from the Pod so then isio or Linker D acts as",
    "start": "1765960",
    "end": "1773559"
  },
  {
    "text": "a control plane that a human could use with lots of custom resources to to do",
    "start": "1773559",
    "end": "1778760"
  },
  {
    "text": "the complex work of configuring how all those proxies talk to one another so that's called the data plane is all the",
    "start": "1778760",
    "end": "1785880"
  },
  {
    "text": "proxies so what differentiates oh let's talk about how it relates to our three things so ISO Linker D use mtls which",
    "start": "1785880",
    "end": "1794720"
  },
  {
    "text": "does the the identity and the encryption Allin one step with certificates so it's",
    "start": "1794720",
    "end": "1800039"
  },
  {
    "text": "using uh digital certificates and X x509 certificates and then you can use",
    "start": "1800039",
    "end": "1805559"
  },
  {
    "text": "policies that you create with the tools to restrict access between pods so ISO and Linker D iio is uses",
    "start": "1805559",
    "end": "1813679"
  },
  {
    "text": "Envoy as the data plane which is very powerful and very complex and that ISO",
    "start": "1813679",
    "end": "1820840"
  },
  {
    "text": "is uh a super full featured tool if if you can do it with service mesh you can",
    "start": "1820840",
    "end": "1826480"
  },
  {
    "text": "do it with ISO and Linker D can do most things almost all of the things but",
    "start": "1826480",
    "end": "1833240"
  },
  {
    "text": "really it focuses on operational Simplicity and performance so is linkerd",
    "start": "1833240",
    "end": "1839799"
  },
  {
    "text": "uses a custom written rust proxy as its data plane and the linkerd people will",
    "start": "1839799",
    "end": "1846440"
  },
  {
    "text": "tell you that this proxy uses only 10% of the resources of the envoy data plane",
    "start": "1846440",
    "end": "1852279"
  },
  {
    "text": "that that ISO uses but if you ask the iso people they'll say ah that used to",
    "start": "1852279",
    "end": "1858240"
  },
  {
    "text": "be true a few years ago maybe but these days it's about the same I don't know who to believe so I'm just presenting",
    "start": "1858240",
    "end": "1864200"
  },
  {
    "text": "both sides uh then we have celium celium this is a whole different piece so celium is",
    "start": "1864200",
    "end": "1870880"
  },
  {
    "text": "a cni implementation cni stands for container networking interface so scen",
    "start": "1870880",
    "end": "1876840"
  },
  {
    "text": "and ey is a specification for how a cuet gives a an IP address to a new pod that",
    "start": "1876840",
    "end": "1883760"
  },
  {
    "text": "it's creating so cuet and cyia might have a conversation like like hey can I have an IP address please and San would",
    "start": "1883760",
    "end": "1891000"
  },
  {
    "text": "be like yeah totally here's your networking stack with an IP address and like thank you so much and then s's like",
    "start": "1891000",
    "end": "1898639"
  },
  {
    "text": "also I've given the Pod an identity using spiffy and Cub's like I don't know",
    "start": "1898639",
    "end": "1905200"
  },
  {
    "text": "why you're telling me this it doesn't have anything to do with me and Cam's like also I have this ebpf program that",
    "start": "1905200",
    "end": "1912080"
  },
  {
    "text": "I'm running at the colonel level in the Pod network name space and cubit's like",
    "start": "1912080",
    "end": "1917399"
  },
  {
    "text": "seriously and then cuets like also this pod",
    "start": "1917399",
    "end": "1925679"
  },
  {
    "text": "generates um generates events for everything that the Pod does so this",
    "start": "1925679",
    "end": "1931000"
  },
  {
    "text": "ebpf program generates events for everything the Pod does and the cubit's like I think I hear Cube API calling me",
    "start": "1931000",
    "end": "1938080"
  },
  {
    "text": "I got to go uh and so here we are selum how does it work with the three things",
    "start": "1938080",
    "end": "1943519"
  },
  {
    "text": "that that make pod to pod communication secure so first of all we already Ted aled about identity it does that with",
    "start": "1943519",
    "end": "1949679"
  },
  {
    "text": "spiffy and that also secures connections between pods um it does encryption you can do",
    "start": "1949679",
    "end": "1955600"
  },
  {
    "text": "that with either wire shark or IP SEC so now these two things are decoupled in in our other use case it they're together",
    "start": "1955600",
    "end": "1962440"
  },
  {
    "text": "IP shark or wire shark and IP sa yes and then it also you can configure it to",
    "start": "1962440",
    "end": "1968120"
  },
  {
    "text": "restrict access between pods so the thing about celium is as a",
    "start": "1968120",
    "end": "1973360"
  },
  {
    "text": "cni a cluster cannot operate unless it has a c cni so we must already have a",
    "start": "1973360",
    "end": "1980399"
  },
  {
    "text": "cni running in our cluster and um if it's not celium it's not something you",
    "start": "1980399",
    "end": "1986039"
  },
  {
    "text": "can just like switch out like You' probably have to take down your cluster and rebuild it so Victor do we have",
    "start": "1986039",
    "end": "1992760"
  },
  {
    "text": "celium running already yeah it's it's the default anyway it's the default so",
    "start": "1992760",
    "end": "1998039"
  },
  {
    "text": "there there's not really any competition for celium you might not have it as your cni if you uh if you just went with your",
    "start": "1998039",
    "end": "2005360"
  },
  {
    "text": "cloud provider defaults if you're using a manage cluster but if you put any thought into it at all you'll almost certainly have celium running so our",
    "start": "2005360",
    "end": "2012159"
  },
  {
    "text": "choices are ISO linkerd and celium which is already",
    "start": "2012159",
    "end": "2017399"
  },
  {
    "text": "running but I can put link the orist on top of it so don't worry about that yes",
    "start": "2017399",
    "end": "2023279"
  },
  {
    "text": "and there are reasons to psyllium um is great for the three things we talk about but in terms of all the the features",
    "start": "2023279",
    "end": "2029120"
  },
  {
    "text": "that ISO and Linker D can do it's not there",
    "start": "2029120",
    "end": "2034120"
  },
  {
    "text": "yet I think that's it all right that's it I",
    "start": "2036720",
    "end": "2042039"
  },
  {
    "text": "think that's helium okay so",
    "start": "2042039",
    "end": "2047960"
  },
  {
    "text": "uh there we go um there we go I'm going to execute a quick script that will help",
    "start": "2047960",
    "end": "2056800"
  },
  {
    "text": "me set up a couple of things uh that are just boring to do manually uh",
    "start": "2056800",
    "end": "2062240"
  },
  {
    "text": "cumsh uh and it will install um actually see ium is already",
    "start": "2062240",
    "end": "2068358"
  },
  {
    "text": "installed but what I did not install in advance uh is piffy Right which gives",
    "start": "2068359",
    "end": "2074280"
  },
  {
    "text": "identity uh to my stuff and that will probably happen soon uh Whitney tell them a joke while",
    "start": "2074280",
    "end": "2081480"
  },
  {
    "text": "we're waiting why did the man fall down the well because he couldn't see that",
    "start": "2081480",
    "end": "2090358"
  },
  {
    "text": "well can you do a funny joke for a change why did the monkey fall out of",
    "start": "2090359",
    "end": "2097040"
  },
  {
    "text": "the tree because it was",
    "start": "2097040",
    "end": "2101520"
  },
  {
    "text": "dead okay no more joks for no more okay",
    "start": "2103119",
    "end": "2111839"
  },
  {
    "text": "um uh installation ofum is going do you want to open another Tab and try to troubleshoot cuar",
    "start": "2111839",
    "end": "2119599"
  },
  {
    "text": "uh no happen maybe let me see",
    "start": "2119599",
    "end": "2126640"
  },
  {
    "text": "uh CH cutle uh well",
    "start": "2126640",
    "end": "2132000"
  },
  {
    "text": "Source well there we [Music] go so we do have a repo that we'll have",
    "start": "2132000",
    "end": "2139480"
  },
  {
    "text": "a QR code for later but if you don't like the choices that your peers have made today you can go to our repo and",
    "start": "2139480",
    "end": "2145359"
  },
  {
    "text": "you can explore how other choices might work together also you can do it from the very beginning of the story so there",
    "start": "2145359",
    "end": "2150920"
  },
  {
    "text": "are this is we've been doing this for over a year so we've gone through quite a lot of system design choices at this",
    "start": "2150920",
    "end": "2156440"
  },
  {
    "text": "point well okay ah there we go it started actually takes a bit of time",
    "start": "2156440",
    "end": "2162520"
  },
  {
    "text": "because uh after if you install spify later some some things needs to be",
    "start": "2162520",
    "end": "2168480"
  },
  {
    "text": "restarted and whatso not right anyways uh so if I do Cube cutle Cube cutle uh n spaces production",
    "start": "2168480",
    "end": "2177000"
  },
  {
    "text": "get uh celium end points what are we doing uh end points",
    "start": "2177000",
    "end": "2182680"
  },
  {
    "text": "yes there we go you can see that uh in my production cluster uh the the pods",
    "start": "2182680",
    "end": "2188880"
  },
  {
    "text": "that were already running there got their own end points and they should be actually now uh speaking with other",
    "start": "2188880",
    "end": "2195200"
  },
  {
    "text": "things uh in or outside of the in the cluster actually mostly",
    "start": "2195200",
    "end": "2200400"
  },
  {
    "text": "um uh securely uh what else what else do they want to so uh no that's not what they",
    "start": "2200400",
    "end": "2207240"
  },
  {
    "text": "wanted um uh yes yes yes this let's take a look at the at the policy for example how",
    "start": "2207240",
    "end": "2214240"
  },
  {
    "text": "much time do we have Whitney she the red shirt red sh 2 minutes okay uh very",
    "start": "2214240",
    "end": "2220880"
  },
  {
    "text": "quickly policy cium uh Network policy there we go there's one policy over",
    "start": "2220880",
    "end": "2226240"
  },
  {
    "text": "there that says hey if you go from the from this standpoint um of the application sleep",
    "start": "2226240",
    "end": "2233359"
  },
  {
    "text": "only those that are U let actually see the policy match label sleep yeah only",
    "start": "2233359",
    "end": "2238920"
  },
  {
    "text": "those that have specific label up for sleep can actually access this specific application and so on and so forth we",
    "start": "2238920",
    "end": "2245119"
  },
  {
    "text": "have no time to uh to show you the because I would need to spin up a couple of other applications but there is",
    "start": "2245119",
    "end": "2252119"
  },
  {
    "text": "identity secure communication between pods and the policies uh that you can Define here's",
    "start": "2252119",
    "end": "2259520"
  },
  {
    "text": "more secure than they were before will you put the slides back they're not more secure but okay not we didn't and not every choice",
    "start": "2259520",
    "end": "2267280"
  },
  {
    "text": "there are other service measures we didn't talk about there there are a couple other secret Solutions we didn't talk about we just talked about what we",
    "start": "2267280",
    "end": "2272920"
  },
  {
    "text": "had time for so here's our hero running in a safer production cluster there also",
    "start": "2272920",
    "end": "2278640"
  },
  {
    "text": "lots of security choices we didn't choose um this QR code is a feedback form please give us feedback and then",
    "start": "2278640",
    "end": "2285200"
  },
  {
    "text": "that one is the link to the cncf demo and we'll be doing our our last episode",
    "start": "2285200",
    "end": "2291480"
  },
  {
    "text": "of you choose of just a recap an in to end demo we'll be doing that at Booth C1",
    "start": "2291480",
    "end": "2297319"
  },
  {
    "text": "on Friday morning at 10:30 which is the tanzu booth don't come it's going to",
    "start": "2297319",
    "end": "2302440"
  },
  {
    "text": "take two hours to go through it all come hang out with us for two hours you must",
    "start": "2302440",
    "end": "2308160"
  },
  {
    "text": "have better things to do okay that's uh no time for over time",
    "start": "2308160",
    "end": "2316400"
  },
  {
    "text": "limit we are getting kicked out not time for questions uh we'll be around I'll",
    "start": "2316400",
    "end": "2322520"
  },
  {
    "text": "have you two stickers so please do stop me and and get one thank you so much yall appreciate",
    "start": "2322520",
    "end": "2328600"
  },
  {
    "text": "[Applause] you",
    "start": "2328600",
    "end": "2333760"
  }
]