[
  {
    "start": "0",
    "end": "18000"
  },
  {
    "text": "so today we're gonna talk about managing kubernetes specifically around day two operations we're going to take a",
    "start": "30",
    "end": "5490"
  },
  {
    "text": "slightly different take than what you might be expecting but hopefully this ends up being a a good resource for you",
    "start": "5490",
    "end": "12860"
  },
  {
    "text": "so my name is Craig Tracy I should probably turn this thing on my name is Craig Tracy I have been in",
    "start": "12860",
    "end": "21990"
  },
  {
    "start": "18000",
    "end": "154000"
  },
  {
    "text": "infrastructure for a little over twenty years now you know time I've worked at a whole series of different places some of",
    "start": "21990",
    "end": "28320"
  },
  {
    "text": "these may be household household names depending on your household but in that",
    "start": "28320",
    "end": "34620"
  },
  {
    "text": "time I've done a whole bunch of stuff I first started off as a kernel developer of all things working on very specific",
    "start": "34620",
    "end": "40260"
  },
  {
    "text": "and proprietary network drivers even worked on an ASIC in that time and",
    "start": "40260",
    "end": "47210"
  },
  {
    "text": "basically decided that during that time the difficulty that I was having with that my career choices at that point was",
    "start": "47210",
    "end": "53430"
  },
  {
    "text": "that working on something that's very bespoke like that are very specific like that you don't always get to see what a",
    "start": "53430",
    "end": "59550"
  },
  {
    "text": "customer sees you don't get to see like your work in the real world so I eventually worked my way up the stack",
    "start": "59550",
    "end": "65239"
  },
  {
    "text": "eventually working on cloud infrastructure both from a consumer side as well as as a vendor from the vendor",
    "start": "65240",
    "end": "72299"
  },
  {
    "text": "side and found that I was actually working a lot closer to customers that's something that I really loved because",
    "start": "72299",
    "end": "78570"
  },
  {
    "text": "this is where the rubber meets the road this is where you actually get to see all the hard work that we're putting in with things like kubernetes is it just a",
    "start": "78570",
    "end": "84930"
  },
  {
    "text": "science project or it can we make it real change with it and that's why I joined tempio so I turned software",
    "start": "84930",
    "end": "90900"
  },
  {
    "text": "developer into field field engineer at Papio and I work with customers every single day those customers range from",
    "start": "90900",
    "end": "98640"
  },
  {
    "text": "small startups all the way through fortune 100 banks and a lot of the patterns that I've seen along the way",
    "start": "98640",
    "end": "104450"
  },
  {
    "text": "are very similar across all these organizations and actually also mentioned these these customers I work",
    "start": "104450",
    "end": "110759"
  },
  {
    "text": "with are spread across many different verticals so I think it's a good representation of what we see actually",
    "start": "110759",
    "end": "116549"
  },
  {
    "text": "you know how Koreans is being adopted in a while and by the way I'll it",
    "start": "116549",
    "end": "121860"
  },
  {
    "text": "right now so this is something I really enjoy if you're also enjoy if you also enjoy working with close with customers we are hiring so please see me after",
    "start": "121860",
    "end": "130700"
  },
  {
    "text": "and then in my free time I'm doing something else I'm writing a book you'll be surprised to learn that it's called managing kubernetes it's not",
    "start": "131099",
    "end": "138900"
  },
  {
    "text": "quite done yet it should be out sometime this summer but I'm working with Brendan burns on this and it's a lot of the topics that we'll talk about here or at",
    "start": "138900",
    "end": "145230"
  },
  {
    "text": "least some of the topics that we'll talk about today are in that book but please",
    "start": "145230",
    "end": "150239"
  },
  {
    "text": "look for that sometime this summer all right let's start with some questions",
    "start": "150239",
    "end": "157280"
  },
  {
    "start": "154000",
    "end": "274000"
  },
  {
    "text": "who in the room would consider themselves to be a user of Koreans and what I mean by user is a user is someone",
    "start": "157280",
    "end": "163409"
  },
  {
    "text": "who has API access keeps ETL cube kuddle whatever you want to call it you Bechdel",
    "start": "163409",
    "end": "169010"
  },
  {
    "text": "and their day to day work with Koreans is basically deploying applications okay",
    "start": "169010",
    "end": "177840"
  },
  {
    "text": "it's hard to tell because you guys didn't raise your hands too high but and say that's maybe about 50% how about",
    "start": "177840",
    "end": "183120"
  },
  {
    "text": "operators operators the Koreans would be cluster administrators okay I'd say",
    "start": "183120",
    "end": "188909"
  },
  {
    "text": "that's probably also about 50% and all right I want you to be honest on this one as well so who has been using",
    "start": "188909",
    "end": "193949"
  },
  {
    "text": "Koreans for more than two years okay do you guys want to give this done and how",
    "start": "193949",
    "end": "201629"
  },
  {
    "text": "about one year to two years okay and less than one year okay this is kind of",
    "start": "201629",
    "end": "208769"
  },
  {
    "text": "the this is kind of what I expected so I think right where we are right now with kubernetes is we see a lot of people we",
    "start": "208769",
    "end": "214590"
  },
  {
    "text": "actually work with customers who are pretty well adopted at this point but also work with customers who are very",
    "start": "214590",
    "end": "219780"
  },
  {
    "text": "much in the phases of their deployment and this talk is really geared towards that it's more of a beginner to",
    "start": "219780",
    "end": "225180"
  },
  {
    "text": "intermediate talk and the thing I so part of this when I think about giving",
    "start": "225180",
    "end": "231329"
  },
  {
    "text": "this talk I had all these ideas in my head and then I realized it's only 35 minutes that's why we started a little bit early and that's why also that's",
    "start": "231329",
    "end": "238019"
  },
  {
    "text": "also why I'll be talking very quickly but a lot of the day to operations talks",
    "start": "238019",
    "end": "243329"
  },
  {
    "text": "that you encounter in the wild they're very tactical they talk about hey if you",
    "start": "243329",
    "end": "248549"
  },
  {
    "text": "want to monitor your platform this is the tool that you use and this is how you use that tool to do it I want to",
    "start": "248549",
    "end": "254040"
  },
  {
    "text": "take a slightly different approach because those are very reactive approaches right this is something happened and I need to know how to fix",
    "start": "254040",
    "end": "260400"
  },
  {
    "text": "that particular thing and this what we'll talk about is the more proactive ways the ways that",
    "start": "260400",
    "end": "265510"
  },
  {
    "text": "you should think about deploying kubernetes and the ways that your the way that you think about cadres is going",
    "start": "265510",
    "end": "271000"
  },
  {
    "text": "to affect day two so whenever I first",
    "start": "271000",
    "end": "276940"
  },
  {
    "start": "274000",
    "end": "332000"
  },
  {
    "text": "engage with customers it's typically on the phone before I get on site and the one thing I always say them is that if",
    "start": "276940",
    "end": "283480"
  },
  {
    "text": "you're adopting kubernetes it is is just as much cultural as it is technical and a lot of people don't seem to recognize",
    "start": "283480",
    "end": "289930"
  },
  {
    "text": "that or maybe discount that to some degree when just like with when we did",
    "start": "289930",
    "end": "295870"
  },
  {
    "text": "when we moved from like into the cloud era you know cloud deploying",
    "start": "295870",
    "end": "300910"
  },
  {
    "text": "infrastructure on cloud infrastructure I start deploying applications on cloud infrastructure there was a mindset you",
    "start": "300910",
    "end": "306100"
  },
  {
    "text": "have to have a different mindset about how you deploy your application application has to be tolerant of failure we were placing more of the",
    "start": "306100",
    "end": "311530"
  },
  {
    "text": "burden on being having that awareness or that graceful restart into the application versus waiting for the",
    "start": "311530",
    "end": "317380"
  },
  {
    "text": "hardware or the infrastructure to save us the same is true for kubernetes and even though it's still adopting some of",
    "start": "317380",
    "end": "324550"
  },
  {
    "text": "those same cloud properties there are different ways that we have to think about deploying micro services the first",
    "start": "324550",
    "end": "333490"
  },
  {
    "start": "332000",
    "end": "388000"
  },
  {
    "text": "thing I always tell customers when I work with them is to think simplicity you think about simplicity and you almost invariably when I work with a",
    "start": "333490",
    "end": "339580"
  },
  {
    "text": "very new customer the first two questions I get are how fast will it run and how big what scale and these are",
    "start": "339580",
    "end": "345760"
  },
  {
    "text": "precisely the wrong types of questions that you should be asking these those questions imply that you want to at some",
    "start": "345760",
    "end": "351430"
  },
  {
    "text": "point just dry this thing into the ground or to make it perform perhaps beyond its means kubernetes itself is",
    "start": "351430",
    "end": "358750"
  },
  {
    "text": "very simple like if you think about the frameworks of the past we have frameworks that are massively complex they were hard to operate and I think",
    "start": "358750",
    "end": "366160"
  },
  {
    "text": "those reasons alone or those reasons to a large part played played into the fact",
    "start": "366160",
    "end": "372250"
  },
  {
    "text": "that we didn't adopt those very heavily I guess kibriya the architecture of",
    "start": "372250",
    "end": "377860"
  },
  {
    "text": "quarries is very simplistic you should think about the simplicity of kubernetes and how you can adopt those same patterns for your infrastructure don't",
    "start": "377860",
    "end": "384580"
  },
  {
    "text": "try to do everything at once the same thing applies for user",
    "start": "384580",
    "end": "390649"
  },
  {
    "start": "388000",
    "end": "524000"
  },
  {
    "text": "experience so don't try to boil the ocean people when they get into kubernetes for the first time they start",
    "start": "390649",
    "end": "395899"
  },
  {
    "text": "thinking about it as a greenfield application or a green field deployment methodology and that's not really the",
    "start": "395899",
    "end": "402319"
  },
  {
    "text": "case you know typically you'll see customers come in our customers come to",
    "start": "402319",
    "end": "408019"
  },
  {
    "text": "us and they say okay we're deploying kubernetes and we have this monitoring platform we're using Nagios we're using whatever tools we have in place and you",
    "start": "408019",
    "end": "414709"
  },
  {
    "text": "know we decided like you know everything's gonna be new we're just gonna go prometheus and don't get me wrong using Prometheus is is great but",
    "start": "414709",
    "end": "421159"
  },
  {
    "text": "at the same and it will get you really far along your your path but you need to think about the user experience because",
    "start": "421159",
    "end": "427069"
  },
  {
    "text": "almost invariably with inside any organization that I work with there's some degree of pushback about adopting a",
    "start": "427069",
    "end": "432739"
  },
  {
    "text": "new pattern for the way you deploy applications and if you're thinking about the user experience and the the",
    "start": "432739",
    "end": "438709"
  },
  {
    "text": "ways that you're impacting the your stakeholders you're gonna get a lot more a lot further along so if you have great",
    "start": "438709",
    "end": "446299"
  },
  {
    "text": "tools use them and optics matter so I'll give you an example so and this by the way this talk is meant to talk to the",
    "start": "446299",
    "end": "453139"
  },
  {
    "text": "examples that I've seen in the while so I went to a customer this is late last year and I walked I walked on site and",
    "start": "453139",
    "end": "459619"
  },
  {
    "text": "I'm staying there I go to engage with the the you know engagement lead and he comes up to me and he says you know we",
    "start": "459619",
    "end": "468050"
  },
  {
    "text": "can't do anything that I would we have a p0 outage and like we need to work on this and like we'll see you like later",
    "start": "468050",
    "end": "473809"
  },
  {
    "text": "even maybe this afternoon tomorrow and I said well ok but like maybe how can I",
    "start": "473809",
    "end": "480589"
  },
  {
    "text": "help in this scenario I didn't I didn't know if it had do anything with kubernetes or what not it turns out that it's a Java shop and their Java stack",
    "start": "480589",
    "end": "488419"
  },
  {
    "text": "traces their multi-line Java Java stack traces were actually showing up as single lines and Splunk and this was all",
    "start": "488419",
    "end": "493759"
  },
  {
    "text": "coming from kubernetes and i'm sitting there scratching my head and like this doesn't really sound like a p0 outage but the whole team was working out they",
    "start": "493759",
    "end": "499549"
  },
  {
    "text": "were frantic about it and the reason why they were frantic about it was precisely this is the optics they were their",
    "start": "499549",
    "end": "504889"
  },
  {
    "text": "internal to that organization they were trying to push kubernetes and if if their users didn't have the same tools",
    "start": "504889",
    "end": "509989"
  },
  {
    "text": "didn't have the same debug or or capabilities that they had with the existing what I'll call legacy ec2",
    "start": "509989",
    "end": "515149"
  },
  {
    "text": "deployment pattern then it just wasn't going to work so keep things simple and focus on the",
    "start": "515149",
    "end": "520370"
  },
  {
    "text": "user experience from a tactical point of view there's",
    "start": "520370",
    "end": "527750"
  },
  {
    "start": "524000",
    "end": "783000"
  },
  {
    "text": "three areas that I think you should focus on if you're if you're going to be thinking about day two operations the",
    "start": "527750",
    "end": "534110"
  },
  {
    "text": "first is platform and when I talk about platform talking about how we deploy @cd how we deploy the nodes what the cluster",
    "start": "534110",
    "end": "540529"
  },
  {
    "text": "looks like as a whole the second area that you should focus on is the API",
    "start": "540529",
    "end": "546500"
  },
  {
    "text": "server and API server we'll get into this a little bit later the API server is where you're going to be able to just",
    "start": "546500",
    "end": "552740"
  },
  {
    "text": "natively out of the box for the kubernetes extract a lot of management capabilities and the third will be in",
    "start": "552740",
    "end": "561560"
  },
  {
    "text": "the area of controllers and I'm not talking when I talk about controllers I'm not talking about the controllers like the pods or replica sets or",
    "start": "561560",
    "end": "570740"
  },
  {
    "text": "deployments I'm talking about controllers that we can leverage or ways of thinking ways that we can think like kubernetes things so when we talk about",
    "start": "570740",
    "end": "579829"
  },
  {
    "text": "platform people here would argue that platform is a day one concern and they",
    "start": "579829",
    "end": "585529"
  },
  {
    "text": "probably right but I would also contend that you cannot talk about day two or you can't talk about day two or if you",
    "start": "585529",
    "end": "592459"
  },
  {
    "text": "want to call it day two at all unless you talk about day one and in fact I think there's probably no distinction",
    "start": "592459",
    "end": "597680"
  },
  {
    "text": "between day one day two and day and it's just really continuum how you think about deploying your systems um",
    "start": "597680",
    "end": "604610"
  },
  {
    "text": "and at the same time people say that you know there's dozens of installers out there and people say that you know",
    "start": "604610",
    "end": "610910"
  },
  {
    "text": "installation is a solved problem kubernetes I would say that's not quite the case I think I think that shows that",
    "start": "610910",
    "end": "618589"
  },
  {
    "text": "this is not a solved problem and with regard to installation how you install",
    "start": "618589",
    "end": "625520"
  },
  {
    "text": "effects day - so in almost invariably when I work with customers they they get",
    "start": "625520",
    "end": "631010"
  },
  {
    "text": "to install point or they've already installed using some tool and it's like mission accomplished we're ready to go",
    "start": "631010",
    "end": "636110"
  },
  {
    "text": "and that's not the case at all the decisions that you make during installation time will affect date two",
    "start": "636110",
    "end": "641959"
  },
  {
    "text": "and we specifically see these things in is in areas like Hardware tuning and people say like well what hardware",
    "start": "641959",
    "end": "647750"
  },
  {
    "text": "tuning do I really have to do if you're using large large instances whether they be on",
    "start": "647750",
    "end": "653560"
  },
  {
    "text": "or in the cloud there are cubelet configuration parameters that you'll want to adjust for instance max pods or",
    "start": "653560",
    "end": "660310"
  },
  {
    "text": "this the amount of reserved space so the reserved space is memory and disk etc",
    "start": "660310",
    "end": "665980"
  },
  {
    "text": "that you're gonna reserve for things like the cubelet processes as well as system system demons like SSH and you",
    "start": "665980",
    "end": "672160"
  },
  {
    "text": "def etcetera and unfortunately today we don't have a capability to really change",
    "start": "672160",
    "end": "678160"
  },
  {
    "text": "those things in production this is coming so the cubelet will soon support dynamic configuration but we don't have",
    "start": "678160",
    "end": "684190"
  },
  {
    "text": "that just quite yet and the other thing to think about with how you deploy",
    "start": "684190",
    "end": "689410"
  },
  {
    "text": "kubernetes from the platform side is the component life cycles if you look at some tools out there with with that",
    "start": "689410",
    "end": "695320"
  },
  {
    "text": "perform installations like cops does this today I'm not picking on cops the",
    "start": "695320",
    "end": "700330"
  },
  {
    "text": "cops is actually a really great tool but cops will deploy at CD to the same nodes as the control plane well at CD and",
    "start": "700330",
    "end": "706960"
  },
  {
    "text": "Cabrini's have very different component life cycles if you think about the migration from Etsy d2 to d3 it's not",
    "start": "706960",
    "end": "713890"
  },
  {
    "text": "the same as the migration from let's say a net CD sorry a kubernetes 1.92 1.10 we",
    "start": "713890",
    "end": "719260"
  },
  {
    "text": "can think about the coronaries control plane and even the workers as being mostly ephemeral we should be able to",
    "start": "719260",
    "end": "724900"
  },
  {
    "text": "kill them there's no real assets on those machines there may be some assets like PKI assets on the masters but for",
    "start": "724900",
    "end": "731440"
  },
  {
    "text": "the most part they are basically ephemeral instances and we should start thinking about immutable infrastructure in that way on the flip side we have",
    "start": "731440",
    "end": "738339"
  },
  {
    "text": "Etsy D this is the thing you care about this is the pet in your environment this is the thing that you should care and feed for so we had happy I would",
    "start": "738339",
    "end": "746170"
  },
  {
    "text": "recommend that you keep Etsy D external for the cluster still deploy in the same manner I like at least three to five @",
    "start": "746170",
    "end": "752320"
  },
  {
    "text": "çd nodes but that they remain external to the actual kubernetes cluster and a",
    "start": "752320",
    "end": "758500"
  },
  {
    "text": "lot as long as I talk about platform as well you should start to think about those services that you'll you'll Balt",
    "start": "758500",
    "end": "763690"
  },
  {
    "text": "on the side of kubernetes that will start to help you manage kubernetes towards de - so I'd have to deal we have",
    "start": "763690",
    "end": "769330"
  },
  {
    "text": "two projects in particular sonobuoy sonobuoys and and conformance testing for clusters so as you deploy you might",
    "start": "769330",
    "end": "774790"
  },
  {
    "text": "want to run sonobuoy to make sure that the things you deployed make sense and arc which is backup in recovery for",
    "start": "774790",
    "end": "781480"
  },
  {
    "text": "kubernetes the other question that we invariably get asked and this also affect your day",
    "start": "781480",
    "end": "787250"
  },
  {
    "start": "783000",
    "end": "903000"
  },
  {
    "text": "to operations is availability there's certainly use cases in the wild where high availability does not matter and I",
    "start": "787250",
    "end": "794120"
  },
  {
    "text": "want to caution a lot of people in the room or people watching this that um be",
    "start": "794120",
    "end": "799220"
  },
  {
    "text": "very precise in what you require from high availability oftentimes it's just a checkbox it's like okay we're highly",
    "start": "799220",
    "end": "805339"
  },
  {
    "text": "available and therefore you know we must be good we had a customer late last year",
    "start": "805339",
    "end": "810950"
  },
  {
    "text": "as well they had very few resources and they were using their cluster for a CI CD platform and they started talking",
    "start": "810950",
    "end": "817130"
  },
  {
    "text": "about they need AJ and all these sorts of things and we said well it's a CI CD platform like if this thing goes down",
    "start": "817130",
    "end": "822470"
  },
  {
    "text": "the middle of night is it really gonna be the end of the world right your cash registers not closed if that happens so",
    "start": "822470",
    "end": "828589"
  },
  {
    "text": "think about you think about it holistically and then wouldn't you know",
    "start": "828589",
    "end": "833779"
  },
  {
    "text": "when we we actually have this internal debate the whole time inside inside hefty it was like which is the right",
    "start": "833779",
    "end": "838940"
  },
  {
    "text": "pattern to use when you go into a cloud environment is it do you spray kubernetes across multiple availability",
    "start": "838940",
    "end": "845240"
  },
  {
    "text": "zones within the same region or do you set up multiple clusters within the same",
    "start": "845240",
    "end": "850610"
  },
  {
    "text": "region in single availability zones so that would be single cluster multi and cluster prasing I think both are viable",
    "start": "850610",
    "end": "858200"
  },
  {
    "text": "options but it depends what you're optimizing for right so if you're optimizing for always being up-and-coming want to leave things alone",
    "start": "858200",
    "end": "864680"
  },
  {
    "text": "and hope things that work well the one you know if you think about most cloud",
    "start": "864680",
    "end": "871190"
  },
  {
    "text": "providers they have these guarantees around that one easy you will only one AZ will fail at a time but remember when",
    "start": "871190",
    "end": "876920"
  },
  {
    "text": "you like things will slow down things will not be the same so keep that in",
    "start": "876920",
    "end": "884089"
  },
  {
    "text": "mind on the other side you have cluster per AZ and in this case you're basically you're going to have to be doing a bunch",
    "start": "884089",
    "end": "890570"
  },
  {
    "text": "more work upfront in how you manage applications across clusters but you you should have a much lower mean time to",
    "start": "890570",
    "end": "897170"
  },
  {
    "text": "recovery",
    "start": "897170",
    "end": "899410"
  },
  {
    "text": "okay so we also talked this the second box on the previous slide was or the",
    "start": "903699",
    "end": "908870"
  },
  {
    "text": "three main areas that we talked want to talk about are the API server API servers where you can wield a ton of",
    "start": "908870",
    "end": "915050"
  },
  {
    "text": "control and when I this is also happens when I walk into a customer when we walk",
    "start": "915050",
    "end": "920389"
  },
  {
    "text": "into a customer one of the first questions they say is how do we set up our back how do we you know make sure that we're doing this right when you use",
    "start": "920389",
    "end": "926690"
  },
  {
    "text": "this the installers that are out there today you have things like you know cube ATM does this cops those this they all",
    "start": "926690",
    "end": "931760"
  },
  {
    "text": "do it they give you an x.509 client certificate and that's the thing that typically most customers that I engage",
    "start": "931760",
    "end": "937010"
  },
  {
    "text": "with end up using for everything right it's the administrator and Bob over here",
    "start": "937010",
    "end": "942290"
  },
  {
    "text": "is using the same certificate there's no real authentication strategy when they're talking when they're setting up their cluster so authentication we're",
    "start": "942290",
    "end": "949430"
  },
  {
    "text": "going to be asking has this users proven their identity an access control or authorization will ask like is the user",
    "start": "949430",
    "end": "954440"
  },
  {
    "text": "allowed to perform this task and in admission control we're going to ask does this request look like something",
    "start": "954440",
    "end": "960649"
  },
  {
    "text": "that I should accept or if it doesn't look like something I should accept can i mutate it in such a fashion that I can",
    "start": "960649",
    "end": "965720"
  },
  {
    "text": "make it looks like look like something I um so I just started talking about",
    "start": "965720",
    "end": "973220"
  },
  {
    "start": "969000",
    "end": "1098000"
  },
  {
    "text": "authentication in a second ago but one thing that users also don't understand in kubernetes is that there are there's",
    "start": "973220",
    "end": "978380"
  },
  {
    "text": "no resource or you call the user right they and they find it's very weird that you cannot run cube CTL get users",
    "start": "978380",
    "end": "984230"
  },
  {
    "text": "there's no such thing what there is though inside kubernetes is this user info resource and what kubernetes does",
    "start": "984230",
    "end": "990470"
  },
  {
    "text": "this is one thing I really like about kubernetes is that kubernetes basically delegates handling of users to some",
    "start": "990470",
    "end": "996110"
  },
  {
    "text": "other process there are a bazillion ways to handle this within kubernetes from authenticating",
    "start": "996110",
    "end": "1002110"
  },
  {
    "text": "proxies OAD see the static tokens you name it the one that we do recommend now",
    "start": "1002110",
    "end": "1008260"
  },
  {
    "text": "is OID C and what oh I D C gives you is the ability to basically manage users external to the cluster it usually",
    "start": "1008260",
    "end": "1014079"
  },
  {
    "text": "typically provides you a way to manage them in a consistent manner across your organization almost invariably any",
    "start": "1014079",
    "end": "1019750"
  },
  {
    "text": "organization they're gonna have some sort of user management scenario or system whether it be LDAP ad you name it",
    "start": "1019750",
    "end": "1028650"
  },
  {
    "text": "unfortunately AD more I guess yeah I think it's actually fortunately and I don't want Koreans to be managing",
    "start": "1028650",
    "end": "1034180"
  },
  {
    "text": "users Cabrini's will not talk directly to ad or LDAP they are there's a project out there called Dex by core OS which",
    "start": "1034180",
    "end": "1040900"
  },
  {
    "text": "acts as a user authentication broker for these back-end services and it provides you an OID C front-end having an OID",
    "start": "1040900",
    "end": "1047439"
  },
  {
    "text": "front-end makes it really easy for you to onboard and off-board users and then",
    "start": "1047440",
    "end": "1053380"
  },
  {
    "text": "we have a project called gangly this is a project that I developed with a customer late last year and the idea",
    "start": "1053380",
    "end": "1059440"
  },
  {
    "text": "behind gangway is very simple it provides a a web UI for someone to easily log them or easily onboard",
    "start": "1059440",
    "end": "1065860"
  },
  {
    "text": "themselves into your kubernetes cluster so you point them at the URL they get all the commands of the need to basically set up their cube kubernetes",
    "start": "1065860",
    "end": "1072790"
  },
  {
    "text": "environment and away they go it leaves you out of the picture of having to manage them on a one-off basis and",
    "start": "1072790",
    "end": "1081750"
  },
  {
    "text": "always remember the dashboard people deploy the dashboard remember you don't want to end up like a very famous",
    "start": "1081750",
    "end": "1087240"
  },
  {
    "text": "automotive company that was compromised by leaving their dashboard wide open with the dashboard you can basically do",
    "start": "1087240",
    "end": "1092470"
  },
  {
    "text": "anything make sure that you are locking down your dashboard use an authenticating proxy or something the",
    "start": "1092470",
    "end": "1100570"
  },
  {
    "text": "other thing that you see a lot of clusters is that people do not implement our back you should implement our back and the",
    "start": "1100570",
    "end": "1106300"
  },
  {
    "text": "way that our back works is very simple we're basically talking about verbs against resources so if we look in the",
    "start": "1106300",
    "end": "1112120"
  },
  {
    "text": "top right there when we a lot of people don't understand how our back works and this is basically how it works it's just",
    "start": "1112120",
    "end": "1118120"
  },
  {
    "text": "working on rest where we have resources which in this case would be pods and the verbs that a user would be able to",
    "start": "1118120",
    "end": "1125190"
  },
  {
    "text": "affect on those particular resources the this means nothing it means almost",
    "start": "1125190",
    "end": "1131770"
  },
  {
    "text": "nothing if you're using expose and not client certificates any single client certificate so this is why authentication is so important in the",
    "start": "1131770",
    "end": "1137980"
  },
  {
    "text": "first and the first half so what happens is during authentication is we get the user information this is the output of a",
    "start": "1137980",
    "end": "1143860"
  },
  {
    "text": "jdl ET token that we've gotten from auth0 in this case which is by the way as a fantastic service it gets mapped to",
    "start": "1143860",
    "end": "1149350"
  },
  {
    "text": "a user info struct and this user info struct is then used to basically apply this role which is a policy and bind it",
    "start": "1149350",
    "end": "1155590"
  },
  {
    "text": "to a user in this case we're binding it to Jane so think about it that way it's very simple don't overthink it and",
    "start": "1155590",
    "end": "1161410"
  },
  {
    "text": "kubernetes makes us very very like someone obfuscated and hard to",
    "start": "1161410",
    "end": "1166980"
  },
  {
    "text": "understand this is very the one thing that you should also understand the Arabic though is that there are some",
    "start": "1166980",
    "end": "1172170"
  },
  {
    "text": "implicit grant oh the other thing I should before I continue is arbic ad",
    "start": "1172170",
    "end": "1179179"
  },
  {
    "text": "actions that a user can take on a resource but also understand that some",
    "start": "1179780",
    "end": "1184800"
  },
  {
    "text": "of these are at some of these are implicit so if you give user the ability to basically create a pod they would",
    "start": "1184800",
    "end": "1190770"
  },
  {
    "text": "also have access to secrets so don't think that you are doing anything funny",
    "start": "1190770",
    "end": "1195809"
  },
  {
    "text": "there by just giving them pods and not secrets the third part of the API flow",
    "start": "1195809",
    "end": "1201780"
  },
  {
    "start": "1199000",
    "end": "1663000"
  },
  {
    "text": "is admission control and this is where we can also start to affect a lot of business logic this is where you can start to make it make decisions around",
    "start": "1201780",
    "end": "1207540"
  },
  {
    "text": "what you demand from your users in your environment so first and foremost if you",
    "start": "1207540",
    "end": "1213420"
  },
  {
    "text": "intend to do any sort of bin packing like heavier utilization you're on your clusters you're going to need to do resource quotas and if you're not even",
    "start": "1213420",
    "end": "1221550"
  },
  {
    "text": "if you're not doing resource quarters there are some usage patterns like I'm using Java 8 or less Java 8 does not",
    "start": "1221550",
    "end": "1227250"
  },
  {
    "text": "respect resource limits so you should have mechanisms place that are basically",
    "start": "1227250",
    "end": "1233150"
  },
  {
    "text": "ensuring that you're a single pod cannot basically take control of a worker node",
    "start": "1233150",
    "end": "1238640"
  },
  {
    "text": "the other thing that we get through a Mission Control is pod security policies you should be also implementing these and make sure that users not doing",
    "start": "1238640",
    "end": "1245010"
  },
  {
    "text": "things that you don't consider to be within spec it has brought their there a",
    "start": "1245010",
    "end": "1250470"
  },
  {
    "text": "broad set of rules that you can apply for pod security policies but if they if those don't exist we also have dynamic",
    "start": "1250470",
    "end": "1255929"
  },
  {
    "text": "admission control and this is where you can actually write things there's very specific to your organization for",
    "start": "1255929",
    "end": "1261570"
  },
  {
    "text": "instance do I require a specific set of labels on a pod if do I want to apply",
    "start": "1261570",
    "end": "1267300"
  },
  {
    "text": "labels automatically to a pod you can write this in any language that you want and basically API server will call this",
    "start": "1267300",
    "end": "1272490"
  },
  {
    "text": "and mutate an incoming request on the fly the two capabilities during dynamic",
    "start": "1272490",
    "end": "1278220"
  },
  {
    "text": "admission control both to verify that the request is good as well as the mutated if it's not and the third area",
    "start": "1278220",
    "end": "1288330"
  },
  {
    "text": "that I'd like to instruct users to think about is the the use of custom controllers and I can give another",
    "start": "1288330",
    "end": "1294840"
  },
  {
    "text": "example here but let's talk about why this is important so the way the Cabrini's works is very simple we declare state and kubernetes",
    "start": "1294840",
    "end": "1301559"
  },
  {
    "text": "will reconcile until you achieve that state and this is how you should be thinking about your deployments to",
    "start": "1301559",
    "end": "1306660"
  },
  {
    "text": "kubernetes I went to a customer again late last year and they had this there",
    "start": "1306660",
    "end": "1313800"
  },
  {
    "text": "basically they were trying to do service discovery with external service discovery so they had an existing ec2 environment they want to use Eureka and",
    "start": "1313800",
    "end": "1320490"
  },
  {
    "text": "console and kubernetes service discovery and there were reasons for that basically was a migration path you know",
    "start": "1320490",
    "end": "1326760"
  },
  {
    "text": "and they had this what they had done is they had basically written a container such that when the container came up it",
    "start": "1326760",
    "end": "1332670"
  },
  {
    "text": "was starting to do this service discovery but the problem with that is then when you launch these containers horizontally right all these containers",
    "start": "1332670",
    "end": "1339300"
  },
  {
    "text": "are trying to basically update service discovery and that doesn't really make a lot of sense it also doesn't handle the case where you're turning down the pod",
    "start": "1339300",
    "end": "1346050"
  },
  {
    "text": "and you want to basically remove from you remove your entries from service discovery so what I what we talked about",
    "start": "1346050",
    "end": "1352020"
  },
  {
    "text": "is you should be thinking about as if you can deploy your code as a controller and the controller is just basically",
    "start": "1352020",
    "end": "1358200"
  },
  {
    "text": "taking the the state that it sees within the koreans cluster these can be deployed just as pods just like anything",
    "start": "1358200",
    "end": "1363840"
  },
  {
    "text": "else they just have access to the to the koreans api and can affect change based upon events that happen across the",
    "start": "1363840",
    "end": "1369600"
  },
  {
    "text": "koreans api and we took their use case and we wrote a custom controller custom controller was roughly about 20 lines of",
    "start": "1369600",
    "end": "1376260"
  },
  {
    "text": "code and what it does is it just sits there and listens for a new pod a new service to come online and register is",
    "start": "1376260",
    "end": "1381540"
  },
  {
    "text": "it with rica eureka and when that thing goes away it removes it from eureka very simple so again back to simplicity back",
    "start": "1381540",
    "end": "1387570"
  },
  {
    "text": "to user experience you should be thinking simply and controllers let you do that controllers can also be written in",
    "start": "1387570",
    "end": "1393240"
  },
  {
    "text": "language there are put there by programming bindings for all kinds of",
    "start": "1393240",
    "end": "1399120"
  },
  {
    "text": "languages whether it be Ruby Java Python go what I will say though is that these",
    "start": "1399120",
    "end": "1404370"
  },
  {
    "text": "bindings are built from swagger and they are are primarily auto-generated code so there are some limitations there just",
    "start": "1404370",
    "end": "1411059"
  },
  {
    "text": "understand that there are limitations there if you have a preference per go or are you inclined to use go or think",
    "start": "1411059",
    "end": "1416640"
  },
  {
    "text": "about using go that's definitely the most supported path and the other thing about to understand understand about",
    "start": "1416640",
    "end": "1422850"
  },
  {
    "text": "custom controllers is that there are different use usage patterns so the most simplistic usage usage pattern would be",
    "start": "1422850",
    "end": "1429060"
  },
  {
    "text": "through CR DS and custom controllers in this case you're using the something native to kubernetes called custom",
    "start": "1429060",
    "end": "1434520"
  },
  {
    "text": "resource definitions and you are basically affecting change on some object that you have defined a",
    "start": "1434520",
    "end": "1439680"
  },
  {
    "text": "limitation there though is that it uses open API spec as for validation so if you have complex validations you",
    "start": "1439680",
    "end": "1445170"
  },
  {
    "text": "probably won't be able to do them you'll be able to do simple ones like string an integer but something like this if this",
    "start": "1445170",
    "end": "1450540"
  },
  {
    "text": "field in this field you can't do that sort of thing and the other thing is that with custom resource custom",
    "start": "1450540",
    "end": "1457770"
  },
  {
    "text": "resources you're actually affecting those objects against your local @ çd source so if you expect a high degree of",
    "start": "1457770",
    "end": "1462870"
  },
  {
    "text": "churn you should probably think about using something else and fortunately Cabrini's provides a different mechanism",
    "start": "1462870",
    "end": "1468210"
  },
  {
    "text": "which is called aggregate api the difference is that it's a little bit more complex to set up with an aggregate",
    "start": "1468210",
    "end": "1473880"
  },
  {
    "text": "api you still define your own objects but what ends up happening is that in the API flow it comes through the API",
    "start": "1473880",
    "end": "1480270"
  },
  {
    "text": "server here and then when it when API server sees hey this is an object I don't know about it actually proxies it",
    "start": "1480270",
    "end": "1486360"
  },
  {
    "text": "down to your custom API server that knows about it but you'll notice that um this custom API server has its own sed",
    "start": "1486360",
    "end": "1492510"
  },
  {
    "text": "so this is a complication during the installation that you'll need to think about and the so this is not very very",
    "start": "1492510",
    "end": "1501390"
  },
  {
    "text": "hard but it is something more complex than the standard set up the other thing you'll want to think about here is that these should all be encrypted through",
    "start": "1501390",
    "end": "1507150"
  },
  {
    "text": "TLS and that's again another deployment challenge I'll call it and you should",
    "start": "1507150",
    "end": "1513480"
  },
  {
    "text": "use this use case if you have a lot of churn or you have a very unique use case I guess",
    "start": "1513480",
    "end": "1520030"
  },
  {
    "text": "what does the future look like so I think you know there are a lot of",
    "start": "1520030",
    "end": "1526070"
  },
  {
    "text": "limitations now and how we can manage clusters at scale we have tools out",
    "start": "1526070",
    "end": "1531470"
  },
  {
    "text": "there but the tools could use a little bit of I guess additional help so one",
    "start": "1531470",
    "end": "1537740"
  },
  {
    "text": "thing that's I think very exciting that will help us through both day 1 and day 2 if we want to call it those things is",
    "start": "1537740",
    "end": "1543559"
  },
  {
    "text": "the cluster API this is a new initiative that's happening in open in the community and the idea is that we can",
    "start": "1543559",
    "end": "1549080"
  },
  {
    "text": "start to manage kubernetes clusters with kubernetes itself so in the cluster API",
    "start": "1549080",
    "end": "1554330"
  },
  {
    "text": "there are two primary routes primary resources they are the cluster and the machine and what we do with that is we",
    "start": "1554330",
    "end": "1559610"
  },
  {
    "text": "basically define a cluster just like we would define a pod or anything like that through llamó interface push that to the",
    "start": "1559610",
    "end": "1564799"
  },
  {
    "text": "API server and then we define a couple machines that are part of that cluster whether they're lit whether they are work or knowns or they're part of",
    "start": "1564799",
    "end": "1570409"
  },
  {
    "text": "control plane and then from there we have the normal control flow right we have a controller that understands how",
    "start": "1570409",
    "end": "1575630"
  },
  {
    "text": "to deploy to G GCE how to deploy to EC 2 etcetera and this could be applied to all sorts of",
    "start": "1575630",
    "end": "1580789"
  },
  {
    "text": "different environments the thing that's nice about this is that we start to",
    "start": "1580789",
    "end": "1585830"
  },
  {
    "text": "commoditize deployment like we don't have to start thinking about how to deploy specifically to GC or ec2 we can",
    "start": "1585830",
    "end": "1591890"
  },
  {
    "text": "start to develop a common frameworks across all these and strategies for how we manage clusters and we also",
    "start": "1591890",
    "end": "1597380"
  },
  {
    "text": "standardize the operations so cluster api is capable of doing things like upgrades and if we in fact they're",
    "start": "1597380",
    "end": "1603200"
  },
  {
    "text": "introducing it right now into cluster 8 but as to how we define strategies for what the upgrade looks like it's it in",
    "start": "1603200",
    "end": "1609080"
  },
  {
    "text": "place is it blue green how do we do that and one other really nice thing about",
    "start": "1609080",
    "end": "1614350"
  },
  {
    "text": "the cluster API is I think it's going to start to ring us more towards the idea of a registry so there are other efforts",
    "start": "1614350",
    "end": "1620090"
  },
  {
    "text": "out there around cluster registries but I think the the having cluster API have",
    "start": "1620090",
    "end": "1627110"
  },
  {
    "text": "knowledge of the environment the clout the cluster versions the machine versions whatnot will get us closer to",
    "start": "1627110",
    "end": "1633320"
  },
  {
    "text": "be able to do things like Federation and this has been a relative pain point in",
    "start": "1633320",
    "end": "1638659"
  },
  {
    "text": "the community I think to date one thing I didn't put on here by dimension for it to is the future I think with feature",
    "start": "1638659",
    "end": "1644720"
  },
  {
    "text": "will also start to see that more of these more of the native kubernetes components components will start to have",
    "start": "1644720",
    "end": "1650120"
  },
  {
    "text": "dynamic configuration so we're getting that with the cubelet I think the API server does not yet support that but",
    "start": "1650120",
    "end": "1655520"
  },
  {
    "text": "I'd have to know this is something that we are particularly interested in because it start is going to start to ease some of those day two concerns so",
    "start": "1655520",
    "end": "1664130"
  },
  {
    "start": "1663000",
    "end": "1815000"
  },
  {
    "text": "to wrap up I totally stole this Voltron moment from our CEO Craig who mentioned last week so this is where all the",
    "start": "1664130",
    "end": "1670190"
  },
  {
    "text": "pieces start to come together like those five things that you should think about number one is simplicity number two is user experience make sure",
    "start": "1670190",
    "end": "1676940"
  },
  {
    "text": "that with these two cultural aspects you're giving users what they want in a",
    "start": "1676940",
    "end": "1681950"
  },
  {
    "text": "simplistic way this will get you the first way into your adoption of kubernetes and then from a very tactical",
    "start": "1681950",
    "end": "1687860"
  },
  {
    "text": "point of view we should we talked about the platform we talked about API request flow and custom controllers I do have",
    "start": "1687860",
    "end": "1696410"
  },
  {
    "text": "some references and we actually went a bit ahead of time so I'm happy to take questions as well and thanks",
    "start": "1696410",
    "end": "1704690"
  },
  {
    "text": "[Applause]",
    "start": "1704690",
    "end": "1712929"
  },
  {
    "text": "yeah so you can there are other things to think about when you get there as well so we didn't cover that I mean so",
    "start": "1731370",
    "end": "1738210"
  },
  {
    "text": "there are I'm sorry yes I apologize the question is when you when we talk about",
    "start": "1738210",
    "end": "1744060"
  },
  {
    "text": "multiple availability zones have we seen things like network latencies etc between availability zones yes you can",
    "start": "1744060",
    "end": "1750720"
  },
  {
    "text": "certainly have late sees but typically with most cloud providers you do have some guarantee and it's pretty it's pretty good you know again you sorry the",
    "start": "1750720",
    "end": "1759990"
  },
  {
    "text": "skaters were talking about here right yeah um so we this is actually something",
    "start": "1759990",
    "end": "1765480"
  },
  {
    "text": "we've discussed internally you will have some of that and I think this is why the recommendation that we made is like when",
    "start": "1765480",
    "end": "1771000"
  },
  {
    "text": "you have when you experience these AZ failures that's something that's typically a time where services are",
    "start": "1771000",
    "end": "1776610"
  },
  {
    "text": "trying to restart something is happening in in the environment that may affect latency so that is definitely something",
    "start": "1776610",
    "end": "1781770"
  },
  {
    "text": "to consider when you decide between these two usage patterns the other thing to remember to around now I'm both these",
    "start": "1781770",
    "end": "1787680"
  },
  {
    "text": "scenarios actually is that volumes would be tied to a local AZ so if you're using",
    "start": "1787680",
    "end": "1792780"
  },
  {
    "text": "EBS of volume is local to the AZ which will affect how you place pods",
    "start": "1792780",
    "end": "1798090"
  },
  {
    "text": "effectively anybody else okay",
    "start": "1798090",
    "end": "1806760"
  },
  {
    "text": "good so I will be out front if you have a question you just like to ask them you happy to answer it and we again we are",
    "start": "1806760",
    "end": "1813660"
  },
  {
    "text": "hiring so come see me that",
    "start": "1813660",
    "end": "1817730"
  }
]