[
  {
    "text": "hi folks today we're going to talk about skill service mesh simplified beyond a single",
    "start": "0",
    "end": "6720"
  },
  {
    "text": "cluster my name is linsa i'm a senior technical staff member at ibm i'm also a contributor to the",
    "start": "6720",
    "end": "14639"
  },
  {
    "text": "istio project uh savann you are introducing hi i'm awesome i'm a",
    "start": "14639",
    "end": "23919"
  },
  {
    "text": "yes sorry a little lag there uh i'm sven mawson i'm a principal engineer at",
    "start": "24080",
    "end": "29519"
  },
  {
    "text": "google working on istio and related service mesh technologies at google",
    "start": "29519",
    "end": "36480"
  },
  {
    "text": "so we're going to talk about istio simplified on single cluster a lot of work we have",
    "start": "39760",
    "end": "46079"
  },
  {
    "text": "done in this area and then we're going to dive into the background multi-cluster and then",
    "start": "46079",
    "end": "53760"
  },
  {
    "text": "we're going to show you some of the work we're working on together in the community uh how we simplify multi-cluster",
    "start": "53760",
    "end": "60719"
  },
  {
    "text": "experience for a user and we're going to give you a really interesting demo",
    "start": "60719",
    "end": "66479"
  },
  {
    "text": "and then we're going to pass on to talk about what if you're running on vms running your service some vms",
    "start": "66479",
    "end": "73600"
  },
  {
    "text": "how will simplify your experience in that scenario",
    "start": "73600",
    "end": "79039"
  },
  {
    "text": "so i don't know if you guys uh talk uh listen to our talk from louis",
    "start": "80400",
    "end": "86799"
  },
  {
    "text": "and the steve about it's still simplified on servicemeshcon europe early this year",
    "start": "86799",
    "end": "94159"
  },
  {
    "text": "so essentially uh to summarize uh that app uh just give you guys a background um",
    "start": "94159",
    "end": "100960"
  },
  {
    "text": "we have done a lot of work in the istio community to simplify istio itself",
    "start": "100960",
    "end": "108560"
  },
  {
    "text": "um so first the mixer goes away well the mixer functionality folded into the cycle proxy",
    "start": "108560",
    "end": "116479"
  },
  {
    "text": "we have the injection system again the config config system goes away and that",
    "start": "116479",
    "end": "123280"
  },
  {
    "text": "function folded into pilot we have the cyca injector is also folded into",
    "start": "123280",
    "end": "129280"
  },
  {
    "text": "pilot and the last we also have the node agent folded into our pilot",
    "start": "129280",
    "end": "135840"
  },
  {
    "text": "agent so that you don't need a set of parts security policies",
    "start": "135840",
    "end": "141360"
  },
  {
    "text": "we also have a citadel function folded into pilot so pilot is becoming",
    "start": "141360",
    "end": "147440"
  },
  {
    "text": "hcld where the d stands for daemon and it really helps our",
    "start": "147440",
    "end": "154560"
  },
  {
    "text": "operators who runs istio control plane because they only have to",
    "start": "154560",
    "end": "160319"
  },
  {
    "text": "worry about one single components um so great simplification work done by the",
    "start": "160319",
    "end": "166080"
  },
  {
    "text": "community for the single cluster um some of you might have already set up",
    "start": "166080",
    "end": "173840"
  },
  {
    "text": "a multi-cluster with istio mesh and i if you do i guarantee you",
    "start": "173840",
    "end": "180879"
  },
  {
    "text": "you're probably very confused on why are we having two models we have this model called replicate",
    "start": "180879",
    "end": "188000"
  },
  {
    "text": "control plane which is uh what's on the left side uh a lot of users are",
    "start": "188000",
    "end": "193040"
  },
  {
    "text": "actually very interested in their model because they have this model provides high availability",
    "start": "193040",
    "end": "199360"
  },
  {
    "text": "on the control plane so you could have a istio control plane running in cluster one and cluster two and you",
    "start": "199360",
    "end": "207200"
  },
  {
    "text": "could selectively expose what other services services you want to expose to the other cluster",
    "start": "207200",
    "end": "214640"
  },
  {
    "text": "instead of everything together we also have another interesting model on the right side",
    "start": "214640",
    "end": "220000"
  },
  {
    "text": "called shell control plane model which means two of the cluster are actually using",
    "start": "220000",
    "end": "226319"
  },
  {
    "text": "one istio control plane and in this case all the services are shared among the",
    "start": "226319",
    "end": "233360"
  },
  {
    "text": "clusters so there's a lot of confusing to your user uh you know which one should i use",
    "start": "233360",
    "end": "239200"
  },
  {
    "text": "why we have to you know why some requires uh core dns setup the other one doesn't",
    "start": "239200",
    "end": "245920"
  },
  {
    "text": "require why the other one doesn't allow users to selectively choose what they",
    "start": "245920",
    "end": "251599"
  },
  {
    "text": "are exposing to the other cluster so a lot of confusing in this the good",
    "start": "251599",
    "end": "257759"
  },
  {
    "text": "news is we are taking a lot of effort in the community to unify the istio",
    "start": "257759",
    "end": "264320"
  },
  {
    "text": "multi-cluster model so with this new model um if you have",
    "start": "264320",
    "end": "269520"
  },
  {
    "text": "two cluster like what's the diagram shows um you would be thinking about um based",
    "start": "269520",
    "end": "276400"
  },
  {
    "text": "on your requirement whether you are going to need to run sdod on just one cluster or whether you run",
    "start": "276400",
    "end": "284560"
  },
  {
    "text": "sdod also for high availability of your control plane um on the second cluster so it's up to",
    "start": "284560",
    "end": "291840"
  },
  {
    "text": "you as a choice um you can also choose to run uh whether you're on ingress",
    "start": "291840",
    "end": "298400"
  },
  {
    "text": "gateway um both cluster or just running it on your primary cluster",
    "start": "298400",
    "end": "303440"
  },
  {
    "text": "so that's also a choice uh to you based on your control plane model and also based",
    "start": "303440",
    "end": "310160"
  },
  {
    "text": "on your network model topologies and then finally you can also choose",
    "start": "310160",
    "end": "315520"
  },
  {
    "text": "for the services on your data plane you can choose what services are you exposing to the",
    "start": "315520",
    "end": "322160"
  },
  {
    "text": "other clusters and you can also uh based on your needs to create the mirror for the services",
    "start": "322160",
    "end": "329520"
  },
  {
    "text": "as needed seven can you take over this",
    "start": "329520",
    "end": "338240"
  },
  {
    "text": "um so lynn talked about some of these choices already but",
    "start": "338240",
    "end": "343280"
  },
  {
    "text": "basically we're trying to have a unified model here where you as the user you know are are in",
    "start": "343280",
    "end": "348880"
  },
  {
    "text": "charge of of what control planes you run so for each cluster do you want to run a",
    "start": "348880",
    "end": "354000"
  },
  {
    "text": "control plane in it for availability and redundancy or do you want to use you know",
    "start": "354000",
    "end": "359039"
  },
  {
    "text": "fewer control planes so you have less to manage and use remote control planes um the network choices usually aren't",
    "start": "359039",
    "end": "365520"
  },
  {
    "text": "really up to you it depends on your network topology but istio works with kind of whatever network topology you",
    "start": "365520",
    "end": "371120"
  },
  {
    "text": "have um whether everything is on one network and is reachable all the pods can reach each other or if you need to go through some gateways",
    "start": "371120",
    "end": "378400"
  },
  {
    "text": "um and as lynn mentioned you can also choose which services become visible to other clusters",
    "start": "378400",
    "end": "384160"
  },
  {
    "text": "um and then there's also the sort of notions of identity and trust within the mesh",
    "start": "384160",
    "end": "389360"
  },
  {
    "text": "where the um different cas in the mesh with their different",
    "start": "389360",
    "end": "394639"
  },
  {
    "text": "routes um all come together and trust each other and so within the mesh",
    "start": "394639",
    "end": "400080"
  },
  {
    "text": "you can talk um from one pod to another and and everything works um you can also set up federated trust",
    "start": "400080",
    "end": "406479"
  },
  {
    "text": "between meshes so you can have multiple meshes that talk to each other we also talk in our multi-cluster model a lot",
    "start": "406479",
    "end": "413120"
  },
  {
    "text": "about tenancy models and istio really supports two different models here one is kind of a namespace tenancy model",
    "start": "413120",
    "end": "419919"
  },
  {
    "text": "where you don't worry as much about clusters and it's really just the namespace name",
    "start": "419919",
    "end": "425039"
  },
  {
    "text": "determines sort of the team name and that's kind of the the built-in model where names are treated the same if",
    "start": "425039",
    "end": "431919"
  },
  {
    "text": "they're in the same name space but you can also use clusters as your tenancy model where maybe one team owns",
    "start": "431919",
    "end": "437680"
  },
  {
    "text": "a particular cluster we recommend even if you do that that you do actually still split out namespaces and make sure namespaces are",
    "start": "437680",
    "end": "444319"
  },
  {
    "text": "unique um so just a little bit more detail on kind of the the first two things the",
    "start": "444319",
    "end": "450960"
  },
  {
    "text": "control planes and the networks um so control planes it's really your choice right where do you want to install a control",
    "start": "450960",
    "end": "457599"
  },
  {
    "text": "plane um you can install you know a control plane in each cluster and those are sort of",
    "start": "457599",
    "end": "462800"
  },
  {
    "text": "known as primary clusters you can also choose not to install a control plane and just have a cluster that is a remote to some",
    "start": "462800",
    "end": "469680"
  },
  {
    "text": "other um control plane and you just set that up as part of installing histo as part of our guides",
    "start": "469680",
    "end": "475680"
  },
  {
    "text": "you choose this cluster as a remote and it's remote to this particular primary",
    "start": "475680",
    "end": "480720"
  },
  {
    "text": "so it's really your choice you recommend that you have enough primary clusters that you have",
    "start": "480720",
    "end": "486960"
  },
  {
    "text": "the availability that you need so usually at least one per region",
    "start": "486960",
    "end": "493120"
  },
  {
    "text": "there's another model that actually recently has been coming out of the studio community",
    "start": "493120",
    "end": "498400"
  },
  {
    "text": "which is this notion of external control planes and so when you have that remote cluster",
    "start": "498400",
    "end": "504160"
  },
  {
    "text": "it's remote to some control plane that control plane doesn't actually need to run in one of your clusters it can run",
    "start": "504160",
    "end": "510639"
  },
  {
    "text": "outside it can be a vendor provided control plane it can be one that a platform team is running for",
    "start": "510639",
    "end": "517599"
  },
  {
    "text": "teams within your organization however you want to set it up but this lets you separate the",
    "start": "517599",
    "end": "523599"
  },
  {
    "text": "management of the mesh from the management of the control plane and basically all your clusters become remote clusters to",
    "start": "523599",
    "end": "529839"
  },
  {
    "text": "these external control planes um the network side as i mentioned istio",
    "start": "529839",
    "end": "535920"
  },
  {
    "text": "supports kind of whatever network setup you have um and the way we do this is when you're",
    "start": "535920",
    "end": "541120"
  },
  {
    "text": "within the same network um where pods can just talk to each other they'll just talk to each other",
    "start": "541120",
    "end": "546160"
  },
  {
    "text": "and they'll call directly and again you can run you know multiple control planes you can run a primary",
    "start": "546160",
    "end": "551200"
  },
  {
    "text": "remote however you want to set it up but we also support multiple networks where you want to run istio on a different network in a",
    "start": "551200",
    "end": "558399"
  },
  {
    "text": "cluster on a different network but you want those all to be one mesh and the way we do this is we use gateways",
    "start": "558399",
    "end": "563680"
  },
  {
    "text": "so you have gateways that can talk to each other and we tunnel the traffic through those gateways so to the applications they don't need",
    "start": "563680",
    "end": "570720"
  },
  {
    "text": "to worry or care where they're running if they're in a different network than some service they're calling",
    "start": "570720",
    "end": "576720"
  },
  {
    "text": "they just call the service and istio makes it all work",
    "start": "576720",
    "end": "581519"
  },
  {
    "text": "um so lynn is actually going to talk through the sort of four base scenarios that we",
    "start": "581920",
    "end": "588000"
  },
  {
    "text": "have documented on the istio website so go ahead lin",
    "start": "588000",
    "end": "594399"
  },
  {
    "text": "okay great thank you savanne so let's talk about different topology models we have so in",
    "start": "594399",
    "end": "601120"
  },
  {
    "text": "this one is multi-primary same network so the first step you do",
    "start": "601120",
    "end": "608240"
  },
  {
    "text": "is install istio onto each of your cluster and notice here",
    "start": "608240",
    "end": "614720"
  },
  {
    "text": "on the second cluster you want to make sure you have the right cluster name and network uh",
    "start": "614720",
    "end": "621920"
  },
  {
    "text": "it's the same and the main thing is the cluster name and then the second thing is uh create",
    "start": "621920",
    "end": "627279"
  },
  {
    "text": "the remote secret so that uh it can do endpoint discovery",
    "start": "627279",
    "end": "633120"
  },
  {
    "text": "for the remote cluster and the way you do it is using create",
    "start": "633120",
    "end": "638399"
  },
  {
    "text": "remote secret command um so that was it at the the same network was",
    "start": "638399",
    "end": "644000"
  },
  {
    "text": "really simple if you do have a multiple network and you do want a multiple primary for high availability",
    "start": "644000",
    "end": "651279"
  },
  {
    "text": "of your control plane in this case similarly as the previous you do is still",
    "start": "651279",
    "end": "656959"
  },
  {
    "text": "install istio when you do remote uh service create remote secret you want",
    "start": "656959",
    "end": "663519"
  },
  {
    "text": "to do it on both of the clusters uh so make sure the endpoints can watch",
    "start": "663519",
    "end": "669040"
  },
  {
    "text": "the other clusters api server and then you want to make sure you are setting up",
    "start": "669040",
    "end": "674800"
  },
  {
    "text": "the east and west gateway uh to help you bridge on the network so",
    "start": "674800",
    "end": "680399"
  },
  {
    "text": "that the traffic can download through the gateway and reach the other cluster um",
    "start": "680399",
    "end": "686959"
  },
  {
    "text": "the last step is you want to also expose your user services uh to make sure you know service a can",
    "start": "686959",
    "end": "694399"
  },
  {
    "text": "be uh can reach out to talk to service b so um we we provide samples to allow you",
    "start": "694399",
    "end": "701680"
  },
  {
    "text": "to by default i think it exposes all the services out on the gateway but you could potentially",
    "start": "701680",
    "end": "708720"
  },
  {
    "text": "tune that to based on your business needs uh the third mod model we have is uh",
    "start": "708720",
    "end": "716480"
  },
  {
    "text": "you run primary and remote uh to the same with the same network in this",
    "start": "716480",
    "end": "722800"
  },
  {
    "text": "case uh similar as the previous one you would install istio on the primary cluster uh",
    "start": "722800",
    "end": "730160"
  },
  {
    "text": "notice here we just install is still on only one of the clustered which we call primary cluster",
    "start": "730160",
    "end": "736800"
  },
  {
    "text": "and the second cluster which is using the control plane from the first cluster and then you would also the",
    "start": "736800",
    "end": "743920"
  },
  {
    "text": "second step is set up the cluster two secret on the primary cluster one so that you",
    "start": "743920",
    "end": "750720"
  },
  {
    "text": "can make sure the seodcam discovery uh endpoints are for uh endpoints on the",
    "start": "750720",
    "end": "759040"
  },
  {
    "text": "cluster two the third step is to set up the easter west gateway",
    "start": "759040",
    "end": "764800"
  },
  {
    "text": "to help traffic communication in this case uh you can see it also helps our service",
    "start": "764800",
    "end": "771279"
  },
  {
    "text": "be to reach our back to is your control plane on the primary cluster um",
    "start": "771279",
    "end": "778959"
  },
  {
    "text": "the fourth step is it exposes issue d on the gateway sorry i said a little bit earlier yeah that was for the purpose of",
    "start": "778959",
    "end": "785760"
  },
  {
    "text": "service b to reach out to sdod because it's in the same network in this case",
    "start": "785760",
    "end": "790959"
  },
  {
    "text": "our service a and service b are actually communicate to each other directly",
    "start": "790959",
    "end": "796000"
  },
  {
    "text": "without the needing to hop through the gateway um the last but not the least model we",
    "start": "796000",
    "end": "802880"
  },
  {
    "text": "have is primary remote uh mlt networks in this case uh you install",
    "start": "802880",
    "end": "810320"
  },
  {
    "text": "sdod only on the primary cluster same as the previous one and same as previous one you create this",
    "start": "810320",
    "end": "817839"
  },
  {
    "text": "uh the cluster 2 secret on cluster 1 for endpoint discoveries",
    "start": "817839",
    "end": "823519"
  },
  {
    "text": "and then you set up the istio and west gateway uh same as the the previous one the fourth one step",
    "start": "823519",
    "end": "831120"
  },
  {
    "text": "four it exposed is your d on the gateway it's also same but you do have to do one",
    "start": "831120",
    "end": "837519"
  },
  {
    "text": "additional step on step five to expose your user services this is because",
    "start": "837519",
    "end": "843680"
  },
  {
    "text": "your user service a and service bui is not going to be able to talk to each other directly because you have multiple",
    "start": "843680",
    "end": "850959"
  },
  {
    "text": "networks so it has to go through the gateway so you want to make sure your services",
    "start": "850959",
    "end": "856959"
  },
  {
    "text": "are exposed on the gateway for the other for services from the other",
    "start": "856959",
    "end": "862720"
  },
  {
    "text": "cluster to consume so what's really nice about these models",
    "start": "862720",
    "end": "869279"
  },
  {
    "text": "as you can see is they are like building blocks right you can based on your requirements",
    "start": "869279",
    "end": "876800"
  },
  {
    "text": "and your needs and you choose the building blocks that's needed to to fix your",
    "start": "876800",
    "end": "884000"
  },
  {
    "text": "requirements so with that we are going to be very excited to talk to you guys",
    "start": "884000",
    "end": "889920"
  },
  {
    "text": "about our demo gosh i've never set up something um across different clouds so we",
    "start": "889920",
    "end": "896959"
  },
  {
    "text": "actually have uh four clusters on the left side we have two clusters uh",
    "start": "896959",
    "end": "903120"
  },
  {
    "text": "cluster y um with uh and cluster 2i on ibm cloud",
    "start": "903120",
    "end": "908720"
  },
  {
    "text": "in this uh setup um on the left side i believe they are primary",
    "start": "908720",
    "end": "916240"
  },
  {
    "text": "multiple multiple primary and they are also multiple networks because we don't have flat",
    "start": "916240",
    "end": "923680"
  },
  {
    "text": "networks on our cloud so this is one of the model we talked about um",
    "start": "923680",
    "end": "929759"
  },
  {
    "text": "on the right side um savann has set up two clusters on google cloud and in this",
    "start": "929759",
    "end": "936320"
  },
  {
    "text": "case i noticed we only have sdod running on cluster one and there's no seod on cluster two so",
    "start": "936320",
    "end": "943600"
  },
  {
    "text": "this is a primary remote and i believe uh this is the same network uh",
    "start": "943600",
    "end": "949279"
  },
  {
    "text": "in his environment so you can see where experimental different topologies",
    "start": "949279",
    "end": "954720"
  },
  {
    "text": "across different clouds and we're setting up the same um the single mesh among these four",
    "start": "954720",
    "end": "961920"
  },
  {
    "text": "clusters from our application point of view the purpose is to show you guys",
    "start": "961920",
    "end": "968000"
  },
  {
    "text": "the multi-cluster topology so we decided to use really simple book info examples as you",
    "start": "968000",
    "end": "974720"
  },
  {
    "text": "can see we have product page and review version one running on cluster one i and then we",
    "start": "974720",
    "end": "981600"
  },
  {
    "text": "have review version 2 running on 2i",
    "start": "981600",
    "end": "986880"
  },
  {
    "text": "and review version 3 have high availability running on google cloud with cluster 1 and 2.",
    "start": "986880",
    "end": "994399"
  },
  {
    "text": "with that um i'm going to go ahead share my screen",
    "start": "994399",
    "end": "999519"
  },
  {
    "text": "and uh and show you guys the demo",
    "start": "999519",
    "end": "1010240"
  },
  {
    "text": "so we would like to show you um our demo now uh so istio.io go to multi-cluster",
    "start": "1010240",
    "end": "1017920"
  },
  {
    "text": "installation to set up multi-clusters um the first thing we are",
    "start": "1017920",
    "end": "1025918"
  },
  {
    "text": "looking at is um config trust um so we want to make sure all the clusters",
    "start": "1025919",
    "end": "1033120"
  },
  {
    "text": "are using the same root ca and each of the cluster would plug in",
    "start": "1033120",
    "end": "1039360"
  },
  {
    "text": "the intermediate ca which this common uh root of trust",
    "start": "1039360",
    "end": "1044558"
  },
  {
    "text": "on my environment i already have um all the certificates and keys created",
    "start": "1044559",
    "end": "1050160"
  },
  {
    "text": "for each of the cluster now i'm just creating the ca",
    "start": "1050160",
    "end": "1055360"
  },
  {
    "text": "search in istio system namespace for two of the clusters",
    "start": "1055360",
    "end": "1062559"
  },
  {
    "text": "so the way it still works is if you plug in your own key and search you need to make",
    "start": "1063600",
    "end": "1069360"
  },
  {
    "text": "sure it's named the ca search so that essentially tells issue not to",
    "start": "1069360",
    "end": "1075679"
  },
  {
    "text": "generate self-signed key and certificate now i'm installing uh istio um",
    "start": "1075679",
    "end": "1084640"
  },
  {
    "text": "issue on this cluster now and this is my configuration yamo you can see i'm",
    "start": "1085520",
    "end": "1091039"
  },
  {
    "text": "installing a primary cluster in this environment with my network and my cluster name",
    "start": "1091039",
    "end": "1098160"
  },
  {
    "text": "and on to the next cluster to ui seminar plan except i'm having a",
    "start": "1098160",
    "end": "1103679"
  },
  {
    "text": "different cluster name and a different network name so let's go ahead and",
    "start": "1103679",
    "end": "1109600"
  },
  {
    "text": "install that as well",
    "start": "1109600",
    "end": "1113520"
  },
  {
    "text": "so this basically installs uh the default profile of the istio which you can see",
    "start": "1119760",
    "end": "1126080"
  },
  {
    "text": "it's it's essentially just the ingress gateway that comes with the default and also the",
    "start": "1126080",
    "end": "1133039"
  },
  {
    "text": "icod control plane we talked about earlier we're down to one single control plane",
    "start": "1133039",
    "end": "1138240"
  },
  {
    "text": "components uh istio d so now we're looking at what next should",
    "start": "1138240",
    "end": "1145600"
  },
  {
    "text": "we be setting up in this environment so",
    "start": "1145600",
    "end": "1150640"
  },
  {
    "text": "the model we're installing is a multi-primary different networks so we're going to",
    "start": "1150640",
    "end": "1157120"
  },
  {
    "text": "need to set up endpoint discovery we're going to need to set up east and west gateway",
    "start": "1157120",
    "end": "1165840"
  },
  {
    "text": "so we will set up our finish on cluster 2 now",
    "start": "1170960",
    "end": "1176960"
  },
  {
    "text": "let's check how the installation did as you can see um all the components",
    "start": "1177760",
    "end": "1185360"
  },
  {
    "text": "reaches running within a minute",
    "start": "1185360",
    "end": "1189840"
  },
  {
    "text": "now we're going to set up east and west gateway onto each of the two clusters ibm cloud",
    "start": "1191440",
    "end": "1199280"
  },
  {
    "text": "um the key thing on this configuration of the gateway yama for east and west gateway",
    "start": "1199280",
    "end": "1205039"
  },
  {
    "text": "is the cluster name and the network name and also the port number what are the",
    "start": "1205039",
    "end": "1210640"
  },
  {
    "text": "number of reports you are exposing on the gateway",
    "start": "1210640",
    "end": "1216720"
  },
  {
    "text": "so now we're going to uh install the easter easter and west gateway onto the",
    "start": "1216960",
    "end": "1223440"
  },
  {
    "text": "clusters so easter cuddle install command it used",
    "start": "1223440",
    "end": "1230960"
  },
  {
    "text": "to be called the israel cuddle manifest generates and then you apply",
    "start": "1230960",
    "end": "1237120"
  },
  {
    "text": "cube applies so now we actually have a single command that takes is your operator yamaha and",
    "start": "1237120",
    "end": "1243520"
  },
  {
    "text": "then you can apply things uh so i i really like that simplification",
    "start": "1243520",
    "end": "1249840"
  },
  {
    "text": "now we're going to do the same thing on the cluster 2",
    "start": "1251039",
    "end": "1256960"
  },
  {
    "text": "to install the east and west gateway",
    "start": "1258559",
    "end": "1263840"
  },
  {
    "text": "okay we got on this install let's look at the next step",
    "start": "1265600",
    "end": "1271679"
  },
  {
    "text": "you would run create remote secrets and generate the secrets the yama file",
    "start": "1273760",
    "end": "1279600"
  },
  {
    "text": "so that um your cluster 2 can consume that i'm also passing that yama file to",
    "start": "1279600",
    "end": "1286559"
  },
  {
    "text": "savann so he could use endpoint discovery on my cluster from",
    "start": "1286559",
    "end": "1292559"
  },
  {
    "text": "google cloud so now we got remote secret generated",
    "start": "1292559",
    "end": "1298400"
  },
  {
    "text": "for both of our both of my two cluster now we're applying uh on the second cluster we're applying",
    "start": "1298400",
    "end": "1306000"
  },
  {
    "text": "the first cluster secret which enables uh the second clusters",
    "start": "1306000",
    "end": "1311039"
  },
  {
    "text": "to look up uh to query the api server on the first cluster to do",
    "start": "1311039",
    "end": "1316400"
  },
  {
    "text": "endpoint discovery uh upon the uh upon the secrets are",
    "start": "1316400",
    "end": "1323360"
  },
  {
    "text": "applied you would see the remote is your remote secret with the cluster name",
    "start": "1323360",
    "end": "1329120"
  },
  {
    "text": "um as part of your secret in the israel system",
    "start": "1329120",
    "end": "1335280"
  },
  {
    "text": "so as you can see on both of my cluster i have consistent um consistent secrets",
    "start": "1335679",
    "end": "1343280"
  },
  {
    "text": "the next thing we're looking at is to expose services so that the other cluster can",
    "start": "1343280",
    "end": "1350880"
  },
  {
    "text": "consume it so we're going to expose the services on the cross",
    "start": "1350880",
    "end": "1356000"
  },
  {
    "text": "network gateway uh savann over to you great um so i'm just gonna show what we",
    "start": "1356000",
    "end": "1364159"
  },
  {
    "text": "set up in a very similar way over on gcp so i have two clusters um they're each running well actually",
    "start": "1364159",
    "end": "1371280"
  },
  {
    "text": "one of them is running primary ones remote so first let's look at the primary one so the primary cluster has that same",
    "start": "1371280",
    "end": "1378080"
  },
  {
    "text": "thing that lin just set up on ibm cloud it has an east west gateway an ingress gateway and this dod and then",
    "start": "1378080",
    "end": "1383760"
  },
  {
    "text": "on cluster 2 we just have the ingress gateway in s2d we don't have an east west case gateway",
    "start": "1383760",
    "end": "1388960"
  },
  {
    "text": "because we're not running the full control plane there is duty in that cluster is actually just the ca",
    "start": "1388960",
    "end": "1394240"
  },
  {
    "text": "it's not running the the xds server so it's a little bit confusing but it's",
    "start": "1394240",
    "end": "1399840"
  },
  {
    "text": "actually not running the whole control plane and we're actually working on removing that out and so you can see the same thing on the service level",
    "start": "1399840",
    "end": "1406080"
  },
  {
    "text": "there's this is2d dash remote service that is actually what the remote cluster is using to talk to",
    "start": "1406080",
    "end": "1412880"
  },
  {
    "text": "um the server and the installation is very similar to what",
    "start": "1412880",
    "end": "1417919"
  },
  {
    "text": "lynn showed as well we just have these issue operator files that have cluster one and cluster two um on",
    "start": "1417919",
    "end": "1424640"
  },
  {
    "text": "cluster two the difference is this is actually set up as a remote cluster the profile's remote and it has a remote",
    "start": "1424640",
    "end": "1429679"
  },
  {
    "text": "pilot address um that is the address of the east-west gateway running in the primary cluster",
    "start": "1429679",
    "end": "1437120"
  },
  {
    "text": "and so basically that's it we have uh two clusters on gcp all set up and ready to go so back to you lynn",
    "start": "1437120",
    "end": "1444640"
  },
  {
    "text": "okay great and now steven give me his secrets so i apply his secrets on both of my clusters",
    "start": "1444640",
    "end": "1451600"
  },
  {
    "text": "so i can do endpoint discoveries now you can see all the secrets are applied so i have",
    "start": "1451600",
    "end": "1458159"
  },
  {
    "text": "on each of my cluster i have three of the remote clusters um so now we're going to look",
    "start": "1458159",
    "end": "1466400"
  },
  {
    "text": "at deploy book info we talked about in the diagram we're deploying book info",
    "start": "1466400",
    "end": "1472320"
  },
  {
    "text": "with version 2 version 1 of the review on the first cluster in ibm cloud",
    "start": "1472320",
    "end": "1480799"
  },
  {
    "text": "so we're going to need to expose the booking for product page on the",
    "start": "1482240",
    "end": "1488240"
  },
  {
    "text": "gateway so we can reach out to a booking for product page so let's check it out",
    "start": "1488240",
    "end": "1496880"
  },
  {
    "text": "so the gateway configuration it's very simple basically we're exposing booking",
    "start": "1496880",
    "end": "1502400"
  },
  {
    "text": "for http 80 on these different uri passes slash product page is our landing",
    "start": "1502400",
    "end": "1510559"
  },
  {
    "text": "page so i have the gateway information early",
    "start": "1510559",
    "end": "1516320"
  },
  {
    "text": "on so one two three is the ip address of my gateway",
    "start": "1516320",
    "end": "1522720"
  },
  {
    "text": "so as you can see as a visit book info i should only see review version 1 which",
    "start": "1523919",
    "end": "1530559"
  },
  {
    "text": "is no star so now we're going to deploy review version 2 onto",
    "start": "1530559",
    "end": "1538960"
  },
  {
    "text": "cluster 2i in ibm cloud this is just a review version 2",
    "start": "1538960",
    "end": "1546000"
  },
  {
    "text": "deployments and service looks like",
    "start": "1546000",
    "end": "1550399"
  },
  {
    "text": "now if i ever hit the refresh button you can see you know now it's wrong rob in",
    "start": "1551279",
    "end": "1556799"
  },
  {
    "text": "between two of my clusters so certainly my product page um first cluster reaches out",
    "start": "1556799",
    "end": "1563039"
  },
  {
    "text": "over to use event and so what lane was just showing we",
    "start": "1563039",
    "end": "1569520"
  },
  {
    "text": "have the product page working with um just v1 and v2 and now we're actually",
    "start": "1569520",
    "end": "1577120"
  },
  {
    "text": "going to go install v3 over in google cloud and this one has red stars instead it's a it's a big",
    "start": "1577120",
    "end": "1582840"
  },
  {
    "text": "upgrade um and so really similar to what lynn just showed we have reviews deployment the review service",
    "start": "1582840",
    "end": "1589760"
  },
  {
    "text": "and actually the rating service because reviews actually calls back to ratings which is running back",
    "start": "1589760",
    "end": "1596080"
  },
  {
    "text": "in um ibm cloud in cluster one so the path is actually coming into ingress",
    "start": "1596080",
    "end": "1603919"
  },
  {
    "text": "on the ibm cloud side going to reviews over in google and then going back to",
    "start": "1603919",
    "end": "1609039"
  },
  {
    "text": "ibm for ratings and then back out so it's actually bouncing back and forth between clouds but as the app",
    "start": "1609039",
    "end": "1615120"
  },
  {
    "text": "owner i don't actually care about any of that i just deploy and now i have red stars",
    "start": "1615120",
    "end": "1620559"
  },
  {
    "text": "um so this is actually a multi-cloud application that is running between the two so it's",
    "start": "1620559",
    "end": "1626799"
  },
  {
    "text": "pretty exciting um and as you see at round robins between round robins between the various",
    "start": "1626799",
    "end": "1633440"
  },
  {
    "text": "options",
    "start": "1633440",
    "end": "1635840"
  },
  {
    "text": "i think that's it for our demo yeah i'm going to stop sharing and submit uh",
    "start": "1639039",
    "end": "1646559"
  },
  {
    "text": "over to you to finish up the rest of the slides",
    "start": "1646559",
    "end": "1652000"
  },
  {
    "text": "yeah let me talk a little bit about um vms now so um so what we showed is how you can have",
    "start": "1652240",
    "end": "1659360"
  },
  {
    "text": "you know a bunch of different kubernetes clusters all connected but uh we know our users have a lot of",
    "start": "1659360",
    "end": "1665279"
  },
  {
    "text": "services on vms and they want all those same benefits and so what istio has this model that we've",
    "start": "1665279",
    "end": "1670799"
  },
  {
    "text": "called vm expansion or mesh expansion um and it's really it's letting you attach",
    "start": "1670799",
    "end": "1677279"
  },
  {
    "text": "vms kind of the same way that you attach clusters and that's actually how we kind of have a unified model here",
    "start": "1677279",
    "end": "1683840"
  },
  {
    "text": "so i can run what we call a workload group which is really just a group of vms um similar to kind of like a deployment",
    "start": "1683840",
    "end": "1690159"
  },
  {
    "text": "but it's you know loosely defined as just any vms that you want to have as a group and they can use",
    "start": "1690159",
    "end": "1696240"
  },
  {
    "text": "that same east west gateway they can use this 2d as if they were a remote cluster um and they you know",
    "start": "1696240",
    "end": "1703520"
  },
  {
    "text": "get registered in the api server and then you can use those vms as back-ends for yours",
    "start": "1703520",
    "end": "1709600"
  },
  {
    "text": "for your services and actually have them call into your other services in the mesh so it all works as",
    "start": "1709600",
    "end": "1715520"
  },
  {
    "text": "one giant big match um so let's look at some of the improvements",
    "start": "1715520",
    "end": "1722399"
  },
  {
    "text": "that we've made recently to this because we've actually had this for a while but it hasn't been the easiest to use",
    "start": "1722399",
    "end": "1728640"
  },
  {
    "text": "the big improvements coming in ist 1.8 are around improving how you",
    "start": "1728640",
    "end": "1735120"
  },
  {
    "text": "register those vms and how you create them so we're actually introducing two new uh commands i actually realized i left",
    "start": "1735120",
    "end": "1740960"
  },
  {
    "text": "out the x for experimental on these these are experimental commands but you can create a workload group really easily it generates the ammo for",
    "start": "1740960",
    "end": "1747840"
  },
  {
    "text": "you and then based on that workload group you can just ask to configure an individual vm",
    "start": "1747840",
    "end": "1754000"
  },
  {
    "text": "and it'll actually spit out all the configuration files that we need to set that up um so you can just copy those over and",
    "start": "1754000",
    "end": "1760240"
  },
  {
    "text": "run istio on the vm and it'll be set up correctly um some of the other improvements we have",
    "start": "1760240",
    "end": "1766159"
  },
  {
    "text": "are we have dns proxing which um before this you had to go and manually",
    "start": "1766159",
    "end": "1772480"
  },
  {
    "text": "change your dns configuration for your bm either changing it to point at one of",
    "start": "1772480",
    "end": "1779120"
  },
  {
    "text": "the kubernetes clusters dnsers or setting up your own local proxy that",
    "start": "1779120",
    "end": "1785120"
  },
  {
    "text": "forwards things for the mesh to the cube one and otherwise keeps them in whatever you have for your vms",
    "start": "1785120",
    "end": "1791279"
  },
  {
    "text": "basically all that is simplified um as part of running istio we actually run a dns proxy",
    "start": "1791279",
    "end": "1797360"
  },
  {
    "text": "that will automatically resolve mesh names to ips and otherwise um forward to existing dns",
    "start": "1797360",
    "end": "1802480"
  },
  {
    "text": "infrastructure so that greatly simplifies setup we also have changed how identity",
    "start": "1802480",
    "end": "1808080"
  },
  {
    "text": "bootstrapping happens in previous versions there was a very complicated setup with",
    "start": "1808080",
    "end": "1813279"
  },
  {
    "text": "certificates and i believe the the 1.7 one you could only really have",
    "start": "1813279",
    "end": "1818399"
  },
  {
    "text": "one vm attached to a cluster uh didn't really expand very well this actually uses the existing",
    "start": "1818399",
    "end": "1824559"
  },
  {
    "text": "kubernetes token infrastructure to bootstrap them so as part of that workload entry configure",
    "start": "1824559",
    "end": "1830080"
  },
  {
    "text": "this will actually automatically be generated for you we generate the token you copy that to the vm",
    "start": "1830080",
    "end": "1835679"
  },
  {
    "text": "and then that bootstraps certificate which from then on uses just the normal istio certificate infrastructure um",
    "start": "1835679",
    "end": "1842159"
  },
  {
    "text": "we've also added auto registration so you don't have to um worry about manually registering each",
    "start": "1842159",
    "end": "1847840"
  },
  {
    "text": "vm as it comes up which doesn't work well if you have auto scaling and we also have health checking coming in too so these all make",
    "start": "1847840",
    "end": "1854799"
  },
  {
    "text": "vms kind of as easy to use hopefully as pods um once they're all in place and let me",
    "start": "1854799",
    "end": "1861039"
  },
  {
    "text": "give kind of a brief example of how this works so um just like in multi-cluster you set up",
    "start": "1861039",
    "end": "1868080"
  },
  {
    "text": "your primary cluster once you have that in place you can register a workload group",
    "start": "1868080",
    "end": "1874080"
  },
  {
    "text": "and so again we can use these new experimental commands here at least i included the x i should have um so this says i want to",
    "start": "1874080",
    "end": "1881600"
  },
  {
    "text": "create a new thing called hello vms in the sample namespace here are some labels and then that generates a yaml file and",
    "start": "1881600",
    "end": "1888640"
  },
  {
    "text": "then i can just apply that to stick that in the api server and the reason i do that is when i want",
    "start": "1888640",
    "end": "1894080"
  },
  {
    "text": "to generate config for the vm itself i can actually reuse that existing one",
    "start": "1894080",
    "end": "1899440"
  },
  {
    "text": "um actually you can call by name here i'm actually using the file but if it's in the api server you can actually just refer to it by name um",
    "start": "1899440",
    "end": "1906640"
  },
  {
    "text": "you call workload entry configure with that name and namespace and it generates into the configure all",
    "start": "1906640",
    "end": "1911919"
  },
  {
    "text": "the artifacts that you need to run the vm um and basically that's it you copy",
    "start": "1911919",
    "end": "1917200"
  },
  {
    "text": "those to the vm and you run istio and the vms will then",
    "start": "1917200",
    "end": "1923200"
  },
  {
    "text": "connect through that east-west gateway to s2d they'll be practicing dns for you and",
    "start": "1923200",
    "end": "1929120"
  },
  {
    "text": "all the requests between the entire mesh can now go to those vm",
    "start": "1929120",
    "end": "1934240"
  },
  {
    "text": "end points and vm end points can call into the mesh so all the networking is just set up and",
    "start": "1934240",
    "end": "1939760"
  },
  {
    "text": "working that's basically it um so we've walked through a lot of",
    "start": "1939760",
    "end": "1946320"
  },
  {
    "text": "different parts of istio in this and here are kind of the the key takeaways",
    "start": "1946320",
    "end": "1952720"
  },
  {
    "text": "so we've been working really hard to make it easy to build a mesh out of multiple clusters it",
    "start": "1952720",
    "end": "1957760"
  },
  {
    "text": "was kind of doable before it was definitely not easy now it's actually pretty simple it",
    "start": "1957760",
    "end": "1962880"
  },
  {
    "text": "was uh even amazing to me and and maybe the lin 2 that we were able to get",
    "start": "1962880",
    "end": "1968320"
  },
  {
    "text": "a multi-cloud mesh multi-cloud multi-cluster mesh with remotes and multiple primaries and",
    "start": "1968320",
    "end": "1974240"
  },
  {
    "text": "all these regions and different networks um some things on flat network some in in isolated mode",
    "start": "1974240",
    "end": "1980240"
  },
  {
    "text": "and they're all connected and to add an end point to a service was just a single yaml file",
    "start": "1980240",
    "end": "1987600"
  },
  {
    "text": "on one of the clusters and instantly you know product page was able to route to that",
    "start": "1987600",
    "end": "1992799"
  },
  {
    "text": "right istio took care of all the routing and management of that you know you don't have to go set anything up you don't have to set up all",
    "start": "1992799",
    "end": "1998960"
  },
  {
    "text": "these kind of crazy rules and things that just it has it for you and you know it's all secure and with",
    "start": "1998960",
    "end": "2004000"
  },
  {
    "text": "mtls and authorization policies and all that good stuff um as part of this you can you know",
    "start": "2004000",
    "end": "2009039"
  },
  {
    "text": "choose where you want to install those control planes obviously um it works across multiple networks and",
    "start": "2009039",
    "end": "2014240"
  },
  {
    "text": "then the other takeaway is that this is you know works great for kubernetes but we're also making it really simple and",
    "start": "2014240",
    "end": "2019919"
  },
  {
    "text": "easy for vms as well so those will also be able to join um so",
    "start": "2019919",
    "end": "2025519"
  },
  {
    "text": "thank you very much um lynn do you have any other closing remarks if not i think we're uh",
    "start": "2025519",
    "end": "2030640"
  },
  {
    "text": "we're done with their talk so we appreciate it and thanks for listening yeah same as you i'm super pleased",
    "start": "2030640",
    "end": "2038480"
  },
  {
    "text": "to actually set up the demo with you and everything runs just smoothly",
    "start": "2038480",
    "end": "2044080"
  },
  {
    "text": "without hitting any major issues it's amazing",
    "start": "2044080",
    "end": "2050800"
  },
  {
    "text": "well thank you all hopefully to see you guys at the conference",
    "start": "2052000",
    "end": "2061838"
  },
  {
    "text": "hey i think we're",
    "start": "2065679",
    "end": "2068638"
  },
  {
    "text": "really live for some of the um",
    "start": "2073040",
    "end": "2089839"
  },
  {
    "text": "so the first question",
    "start": "2100960",
    "end": "2106320"
  },
  {
    "text": "um",
    "start": "2114839",
    "end": "2117839"
  },
  {
    "text": "try that can you hear me lynn bye tom okay so um the observability",
    "start": "2135920",
    "end": "2142960"
  },
  {
    "text": "work we haven't okay great uh yes technical technical issues with live not cute right here um",
    "start": "2142960",
    "end": "2149599"
  },
  {
    "text": "observability isn't uh totally multi-cluster aware yet we're actually working on that um i think hopefully in the 1.9 release",
    "start": "2149599",
    "end": "2158880"
  },
  {
    "text": "of this video we'll be able to have some better stuff there it's possible to set up but but it's not easy sort of to",
    "start": "2158880",
    "end": "2164720"
  },
  {
    "text": "the we want to make things easy not just possible um theme here it's it's not yet that easy",
    "start": "2164720",
    "end": "2170560"
  },
  {
    "text": "right we don't have built-in multi-cluster dashboards um you kind of have to set that up yourself you can actually have",
    "start": "2170560",
    "end": "2176400"
  },
  {
    "text": "like a single grafana that um is pulling from prometheus in multiple",
    "start": "2176400",
    "end": "2181920"
  },
  {
    "text": "clusters or you could have a single prometheus pulling from all cluster sources there's a bunch of ways to do it um you don't yet have that all set up",
    "start": "2181920",
    "end": "2188640"
  },
  {
    "text": "and i think that's something we want to work on",
    "start": "2188640",
    "end": "2192160"
  },
  {
    "text": "so i can i can maybe look at the next question uh so there was a question about um",
    "start": "2195040",
    "end": "2201440"
  },
  {
    "text": "about federation support and inter accounts and intro accounts i'm not actually quite sure what",
    "start": "2201440",
    "end": "2207599"
  },
  {
    "text": "that is meant to mean um federation is something we want to continue also",
    "start": "2207599",
    "end": "2213280"
  },
  {
    "text": "making easier um that's that's also not quite as easy as we'd like it yet",
    "start": "2213280",
    "end": "2218480"
  },
  {
    "text": "but we'll get there if you want to follow up on exactly what you mean about inter accounts versus intro accounts we can we can follow up",
    "start": "2218480",
    "end": "2224880"
  },
  {
    "text": "on the question there um then do you want to answer the one about one buddy",
    "start": "2224880",
    "end": "2243680"
  },
  {
    "text": "thank you",
    "start": "2243680",
    "end": "2257838"
  },
  {
    "text": "yeah the the hope had been that this 198 would actually be out before this this talk um but we had",
    "start": "2266880",
    "end": "2273599"
  },
  {
    "text": "some last minute fixes that had to get it so it's not quite",
    "start": "2273599",
    "end": "2285839"
  },
  {
    "text": "yeah in our demo yeah in our demo the east west gateway",
    "start": "2332880",
    "end": "2339119"
  },
  {
    "text": "gateways were exposed publicly on the internet and they did rely on mutual tls",
    "start": "2339119",
    "end": "2346160"
  },
  {
    "text": "um to authenticate and encrypt the connections there are other choices if you want to",
    "start": "2346160",
    "end": "2352000"
  },
  {
    "text": "set up you know private bbc or something like that you can do that too",
    "start": "2352000",
    "end": "2357920"
  },
  {
    "text": "then our in our demo they were",
    "start": "2359599",
    "end": "2369839"
  },
  {
    "text": "i think there were a couple questions noticing the problem again sorry about that",
    "start": "2370560",
    "end": "2383838"
  },
  {
    "text": "i think that oh there's a question another question about the network setup in this case so um on the",
    "start": "2384320",
    "end": "2397838"
  },
  {
    "text": "the internet um publicly but you know protected with um security and then",
    "start": "2413680",
    "end": "2421760"
  },
  {
    "text": "lynn can talk about what's the ibm side of that",
    "start": "2421760",
    "end": "2439838"
  },
  {
    "text": "uh the uh the network set up on the ibm side how is the network set up over",
    "start": "2445520",
    "end": "2454480"
  },
  {
    "text": "there",
    "start": "2464839",
    "end": "2467839"
  },
  {
    "text": "okay should we talk about the failover case um",
    "start": "2495280",
    "end": "2501680"
  },
  {
    "text": "so uh the basically there's there's this feature called locality where loop balancing in istio that",
    "start": "2505359",
    "end": "2512480"
  },
  {
    "text": "solves this case for you so the question is about how do i do um failover so if i have the same service",
    "start": "2512480",
    "end": "2519520"
  },
  {
    "text": "in two different clusters um they're mirrored how do i make sure it stays local when it's stale but",
    "start": "2519520",
    "end": "2525200"
  },
  {
    "text": "there but then fails over to the other cluster if needed um and that's what locality where",
    "start": "2525200",
    "end": "2532319"
  },
  {
    "text": "load balancing is actually for so you can keep it in the local cluster um and only send it",
    "start": "2532319",
    "end": "2538880"
  },
  {
    "text": "over the other cluster if it does rather than just blindly you know round-robining between them",
    "start": "2538880",
    "end": "2550720"
  },
  {
    "text": "so you can you can look at the issue documentation for details on",
    "start": "2550720",
    "end": "2555440"
  },
  {
    "text": "sorry we're having some lag between between our video streams",
    "start": "2558240",
    "end": "2565838"
  },
  {
    "text": "then you want to take the next question about upgrades",
    "start": "2591760",
    "end": "2607838"
  },
  {
    "text": "i think we're we're just about out of time there",
    "start": "2667520",
    "end": "2677839"
  },
  {
    "text": "and we'll we'll try to answer the rest of the questions offline",
    "start": "2686720",
    "end": "2691838"
  }
]