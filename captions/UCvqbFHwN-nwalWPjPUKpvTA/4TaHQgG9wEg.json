[
  {
    "start": "0",
    "end": "18000"
  },
  {
    "text": "good evening everyone I'm Matt Emery here I work at CSD so I'm this talks",
    "start": "30",
    "end": "5940"
  },
  {
    "text": "about obviously kubernetes schedulers okay so we are going to start with the",
    "start": "5940",
    "end": "13530"
  },
  {
    "text": "index for this talk first I'm going to talk a little bit about the default",
    "start": "13530",
    "end": "18720"
  },
  {
    "start": "18000",
    "end": "18000"
  },
  {
    "text": "cornetist scheduler which has a lot of features maybe you don't know about some",
    "start": "18720",
    "end": "24539"
  },
  {
    "text": "of these alpha-beta features and yeah it you can use the default kubernetes",
    "start": "24539",
    "end": "29760"
  },
  {
    "text": "scheduler don't go and Raymond the wheel okay use the default one then we are",
    "start": "29760",
    "end": "36239"
  },
  {
    "text": "going to look at creating your own scheduler hey I have some code I have some examples I'm going to do a live",
    "start": "36239",
    "end": "43140"
  },
  {
    "text": "demo after that using cloud cluster so hopefully everything goes well and yeah",
    "start": "43140",
    "end": "51510"
  },
  {
    "text": "I'm going to show you a little bit you know the main loop are the the main functions that you will need to",
    "start": "51510",
    "end": "56940"
  },
  {
    "text": "implement if you want to create your own okay this first implementation is going",
    "start": "56940",
    "end": "62850"
  },
  {
    "text": "to be very naive very basic but the at",
    "start": "62850",
    "end": "68010"
  },
  {
    "text": "the end of the presentation I have some improvements that you will need to implement to move towards a more",
    "start": "68010",
    "end": "74970"
  },
  {
    "text": "production ready implementation okay some of them are actually implemented in this code some of them are proposed some",
    "start": "74970",
    "end": "82409"
  },
  {
    "text": "of them will come from the public at the end of the talk okay so we will end with the Q question and",
    "start": "82409",
    "end": "89009"
  },
  {
    "text": "answers and yeah looking forward to hear",
    "start": "89009",
    "end": "95939"
  },
  {
    "text": "your ideas so yeah okay this talk is not about 60 but allow me 30 seconds so",
    "start": "95939",
    "end": "105920"
  },
  {
    "start": "98000",
    "end": "98000"
  },
  {
    "text": "cystic is the container intelligence platform if you are using kubernetes if you are using micro services it's just",
    "start": "105920",
    "end": "113430"
  },
  {
    "text": "one unified platform that will do monitoring alerting ranting security",
    "start": "113430",
    "end": "119780"
  },
  {
    "text": "troubleshooting forensics okay we have open source versions we have the",
    "start": "119780",
    "end": "125070"
  },
  {
    "text": "commercial versions try this at home take that's all I'm going to say about",
    "start": "125070",
    "end": "131910"
  },
  {
    "text": "that's it okay you know that the kubernetes terminology and concepts are",
    "start": "131910",
    "end": "138630"
  },
  {
    "start": "132000",
    "end": "132000"
  },
  {
    "text": "growing every week every month it's crazy so what this talk is also not",
    "start": "138630",
    "end": "144060"
  },
  {
    "text": "about it's not about the coordinates additional policy recentl Paulo to",
    "start": "144060",
    "end": "149220"
  },
  {
    "text": "scalar or HPA actually the HPA is a little more difficult to implement I have another running implementation if",
    "start": "149220",
    "end": "156540"
  },
  {
    "text": "you go to that URL okay so I suppose everyone knows whole how to implement I",
    "start": "156540",
    "end": "163470"
  },
  {
    "text": "mean how to run an HPA and what an HPA does scale is the number of poles in a",
    "start": "163470",
    "end": "168720"
  },
  {
    "text": "deployment it's not about the vertical scalars which is a quite new feature",
    "start": "168720",
    "end": "173970"
  },
  {
    "text": "that will actually size dynamically every individual path according to",
    "start": "173970",
    "end": "180810"
  },
  {
    "text": "current stress and resource consumption okay it's a different thing and it's not",
    "start": "180810",
    "end": "186690"
  },
  {
    "text": "about the no the scalars no the scalars are mostly club and on the dependent so",
    "start": "186690",
    "end": "193050"
  },
  {
    "text": "every every you know every Amazon Engine or Google will will provide you with a",
    "start": "193050",
    "end": "198420"
  },
  {
    "text": "nappy to scale the notes this talk is",
    "start": "198420",
    "end": "203520"
  },
  {
    "text": "about the kubernetes scheduler okay so as you probably know this",
    "start": "203520",
    "end": "209550"
  },
  {
    "text": "component is in charge of watching the",
    "start": "209550",
    "end": "215070"
  },
  {
    "text": "newly created pots and then deciding in which node this pot is going to live okay it's going to be created so the",
    "start": "215070",
    "end": "224610"
  },
  {
    "text": "scheduler is well it's not a controller but is a control in the sense that it watches the API looks at the decide of",
    "start": "224610",
    "end": "234209"
  },
  {
    "text": "the state the size of final States looks at the current state and move things towards the desired State",
    "start": "234209",
    "end": "240420"
  },
  {
    "text": "okay yeah I actually stole this from Joe",
    "start": "240420",
    "end": "245940"
  },
  {
    "start": "243000",
    "end": "243000"
  },
  {
    "text": "swear that's law this is what I really like this diagram because it's very important to know cycling at which point",
    "start": "245940",
    "end": "253650"
  },
  {
    "text": "the schedule is going to interact with your with your API okay so first you",
    "start": "253650",
    "end": "259919"
  },
  {
    "text": "write the pod F initial into at CD okay then the scheduler retrieves the",
    "start": "259919",
    "end": "266940"
  },
  {
    "text": "list of pots that are pending but the scheduler is not going to act upon the",
    "start": "266940",
    "end": "273720"
  },
  {
    "text": "pot directly it's going to write a rescission back to @cd okay and it's EDD I mean the API and the",
    "start": "273720",
    "end": "282210"
  },
  {
    "text": "cubelet the other components that are going to actually create and run the the",
    "start": "282210",
    "end": "287610"
  },
  {
    "text": "pot so it it's important to note that this happens after authorization by the",
    "start": "287610",
    "end": "295199"
  },
  {
    "text": "AP there are mission controllers and persistence in EDD okay we will talk at",
    "start": "295199",
    "end": "301560"
  },
  {
    "text": "the end why this is important but happens before the kulit actually pulls the image and runs the image yeah this",
    "start": "301560",
    "end": "311460"
  },
  {
    "start": "310000",
    "end": "310000"
  },
  {
    "text": "is just going a little deeper you get",
    "start": "311460",
    "end": "316620"
  },
  {
    "text": "the list of posts that are published you apply your scheduling filter create a binding you write back the binding in",
    "start": "316620",
    "end": "323039"
  },
  {
    "text": "the observer and then this body is",
    "start": "323039",
    "end": "328460"
  },
  {
    "text": "updated with a new node name okay yeah",
    "start": "328460",
    "end": "334020"
  },
  {
    "text": "you need to watch for posts that are impending have no no no no name assign",
    "start": "334020",
    "end": "339150"
  },
  {
    "text": "and are explicitly requesting your scheduler okay we will go into that",
    "start": "339150",
    "end": "344190"
  },
  {
    "text": "later so yeah I want to talk a little bit",
    "start": "344190",
    "end": "351330"
  },
  {
    "start": "347000",
    "end": "347000"
  },
  {
    "text": "about the default scheduler because it's a good starting point okay so you if you",
    "start": "351330",
    "end": "356669"
  },
  {
    "text": "know what the default scheduler is doing is you will get a lot of ideas for your own scheduler so basically it has two",
    "start": "356669",
    "end": "364289"
  },
  {
    "text": "phases one is filtering and the other is ranking filtering is we can call it like this hard face and the soft requirements",
    "start": "364289",
    "end": "372060"
  },
  {
    "text": "phase so filtering is based on the on the pod resource requests so if this",
    "start": "372060",
    "end": "379530"
  },
  {
    "text": "node cannot accept this port is out of the list filtering depends on the data volumes that you need locally or knows",
    "start": "379530",
    "end": "387330"
  },
  {
    "text": "that I are explicitly discarded by selectors okay once you have the heart",
    "start": "387330",
    "end": "393240"
  },
  {
    "text": "requirements out you will you will rank the node depending on the of course the least",
    "start": "393240",
    "end": "400410"
  },
  {
    "text": "requested priority basically the the note that is has more free resources okay the affinities an aunty affinities",
    "start": "400410",
    "end": "407789"
  },
  {
    "text": "I'm going to talk about that a little bit later and the I like this the last one the calculator spread a split",
    "start": "407789",
    "end": "414600"
  },
  {
    "text": "priority I didn't know about this one it tries to separate the pots that belong",
    "start": "414600",
    "end": "421830"
  },
  {
    "text": "to the same service okay so by default is going to do a nice balance and",
    "start": "421830",
    "end": "427710"
  },
  {
    "text": "spreading over all your notes those are",
    "start": "427710",
    "end": "435360"
  },
  {
    "start": "432000",
    "end": "432000"
  },
  {
    "text": "the hard core strings that you can you can use with the with the default the scheduler you probably you are probably",
    "start": "435360",
    "end": "441810"
  },
  {
    "text": "very familiar with them I mean you can have tines you can have tines tolerance",
    "start": "441810",
    "end": "448680"
  },
  {
    "text": "you can have a note selector that explicitly matches a set of labels etc",
    "start": "448680",
    "end": "456270"
  },
  {
    "text": "not going to talk much about this because it's common stuff soft",
    "start": "456270",
    "end": "462030"
  },
  {
    "start": "461000",
    "end": "461000"
  },
  {
    "text": "constraints are maybe a little more advanced so you have for example the",
    "start": "462030",
    "end": "469110"
  },
  {
    "text": "preferred no schedule effect which is soft version of no schedule for example in your master knows you may prefer if",
    "start": "469110",
    "end": "476490"
  },
  {
    "text": "you don't put too much effort in the master notes but if if that is an",
    "start": "476490",
    "end": "482010"
  },
  {
    "text": "emergency and the other nodes are not responding you can use prefers prefer no schedule okay for example know the",
    "start": "482010",
    "end": "489479"
  },
  {
    "text": "affinity is the same thing but for the note selector and the pod affinity so",
    "start": "489479",
    "end": "495659"
  },
  {
    "text": "Paula affinity have you used both affinity before and pull some the",
    "start": "495659",
    "end": "500729"
  },
  {
    "text": "affinity and this kind of things okay so you can you can do a split it",
    "start": "500729",
    "end": "506370"
  },
  {
    "text": "optimization for example if you have two components that talk a lot okay",
    "start": "506370",
    "end": "511919"
  },
  {
    "text": "interchange a lot of bandwidth so you want them together because it's more efficient or the way the other way",
    "start": "511919",
    "end": "518099"
  },
  {
    "text": "around you have a pot that has a lot of privilege and a pod that has a lot of",
    "start": "518099",
    "end": "523500"
  },
  {
    "text": "sensitive data so you prefer if those two are not together okay because you",
    "start": "523500",
    "end": "530100"
  },
  {
    "text": "know I you are gaining privilege into one of the containers will be able to access the other and you also have this is an",
    "start": "530100",
    "end": "538160"
  },
  {
    "text": "alpha feature you have up waits for the pots okay one thing it's very cool to",
    "start": "538160",
    "end": "548810"
  },
  {
    "start": "544000",
    "end": "544000"
  },
  {
    "text": "think about the relations between your poles and okay and start to imagine that",
    "start": "548810",
    "end": "554270"
  },
  {
    "text": "you want these two poles together but you know this is our relation graph and this is not linear okay so don't don't",
    "start": "554270",
    "end": "561650"
  },
  {
    "text": "become very happy with these kind of things because then the scheduler will",
    "start": "561650",
    "end": "567500"
  },
  {
    "text": "be more complex and will take more time okay so keep keep things to the minimum",
    "start": "567500",
    "end": "573830"
  },
  {
    "text": "if possible yeah this priority is an",
    "start": "573830",
    "end": "579020"
  },
  {
    "start": "576000",
    "end": "576000"
  },
  {
    "text": "alpha feature in 1.10 and you can establish a wait for the for the pots",
    "start": "579020",
    "end": "585620"
  },
  {
    "text": "and it will have three different effects preemption so a pod that wants to be",
    "start": "585620",
    "end": "593150"
  },
  {
    "text": "scheduled will kick out less important pots if if there is no room for for",
    "start": "593150",
    "end": "600530"
  },
  {
    "text": "everyone okay the scheduling queue you will have different priorities so the more the",
    "start": "600530",
    "end": "606850"
  },
  {
    "text": "most important pots will get a schedule at first and also out of resource",
    "start": "606850",
    "end": "612470"
  },
  {
    "text": "eviction which is like the first point but the opposite situation all the pots are in the in the in the null so they",
    "start": "612470",
    "end": "619730"
  },
  {
    "text": "will start a bit in the last important ones okay and yeah then you have this",
    "start": "619730",
    "end": "627310"
  },
  {
    "text": "paint base eviction which is also another alpha feature okay where you can",
    "start": "627310",
    "end": "633880"
  },
  {
    "text": "express problems that you are having in the node as stains and tolerance so for",
    "start": "633880",
    "end": "641630"
  },
  {
    "text": "example if you don't have network connections you can you can dynamically tack this this node with a taint and you",
    "start": "641630",
    "end": "648560"
  },
  {
    "text": "can have also these Toleration seconds which means that the pot is going to be",
    "start": "648560",
    "end": "653750"
  },
  {
    "text": "a victor but it will wait for example five minutes so if the network problem",
    "start": "653750",
    "end": "659900"
  },
  {
    "text": "goes away in two minutes it will stay in the node this can be very useful if for example",
    "start": "659900",
    "end": "665200"
  },
  {
    "text": "you have a lot of local state and it's heavy for you to destroy and recreate",
    "start": "665200",
    "end": "670660"
  },
  {
    "text": "okay so you want to leave that note but not not so fast okay not not inmediately",
    "start": "670660",
    "end": "679710"
  },
  {
    "text": "okay so that's basically what you can do",
    "start": "681060",
    "end": "686380"
  },
  {
    "text": "with the default we're not a scheduler let's go and create around kubernetes",
    "start": "686380",
    "end": "692050"
  },
  {
    "text": "custom scheduler why the first the first question is why would you want to do",
    "start": "692050",
    "end": "698740"
  },
  {
    "start": "694000",
    "end": "694000"
  },
  {
    "text": "that right okay so if you use the default the scheduler you are mostly",
    "start": "698740",
    "end": "703750"
  },
  {
    "text": "limited to a set of hardware hardware",
    "start": "703750",
    "end": "709240"
  },
  {
    "text": "constraints like CPU this pressure memory there are four or five things or",
    "start": "709240",
    "end": "716080"
  },
  {
    "text": "you need to come up with a manual an explicit set of labels and you know affinities and the affinity selectors",
    "start": "716080",
    "end": "723100"
  },
  {
    "text": "note selectors which is basically a manual and a static and a static thing",
    "start": "723100",
    "end": "729010"
  },
  {
    "text": "okay what if you want to schedule based on different metrics like application",
    "start": "729010",
    "end": "734440"
  },
  {
    "text": "metrics for example you want for HTTP latency or HD HTTP bandwidth you want to",
    "start": "734440",
    "end": "741100"
  },
  {
    "text": "schedule paths closer to the consumer or GPU performance this is I mean this is",
    "start": "741100",
    "end": "747100"
  },
  {
    "text": "very hot now you know for artificial intelligence crypto coins or well or",
    "start": "747100",
    "end": "753810"
  },
  {
    "text": "yeah artificial intelligence graphics or these kind of things so you want to know",
    "start": "753810",
    "end": "759190"
  },
  {
    "text": "exactly how many flops are available at this time so this is a variable metric it's like CPU but for the for the",
    "start": "759190",
    "end": "767170"
  },
  {
    "text": "graphical unit okay you can do it with with a custom scheduler or you have you are having a bottleneck so most most of",
    "start": "767170",
    "end": "774790"
  },
  {
    "text": "the nodes I mean the service in general is behaving well but one one of the nodes is having problems needs more",
    "start": "774790",
    "end": "781570"
  },
  {
    "text": "workers there okay to to carry away all the work okay so you can you can send",
    "start": "781570",
    "end": "787510"
  },
  {
    "text": "more workers to that particular node you have three examples and so you can come",
    "start": "787510",
    "end": "794530"
  },
  {
    "text": "up with more so from governmentís 1.6 you have",
    "start": "794530",
    "end": "800449"
  },
  {
    "text": "multiple schedulers at the same time so you don't have to go and replace the default one you just cover additional",
    "start": "800449",
    "end": "807559"
  },
  {
    "text": "schedulers in the same cluster okay this is very important you will see why this",
    "start": "807559",
    "end": "814309"
  },
  {
    "text": "customer scheduler can run outside you can directly contact the API and run it",
    "start": "814309",
    "end": "819589"
  },
  {
    "text": "outside the cluster or run it inside uh suppose I mean what I will recommend is",
    "start": "819589",
    "end": "827319"
  },
  {
    "text": "you will run outside the cluster for testing developing when you don't want to you know recreate the pod and deploy",
    "start": "827319",
    "end": "833509"
  },
  {
    "text": "and do all these kind of things but eventually when you have a proper version is much better if you run it",
    "start": "833509",
    "end": "839569"
  },
  {
    "text": "inside this outer container is a pod inside the cluster it's not external so",
    "start": "839569",
    "end": "844730"
  },
  {
    "text": "what you have to contact I know usually once you create your own scheduler if",
    "start": "844730",
    "end": "850299"
  },
  {
    "text": "you know sky's the limit any API any parameter you want to use for a",
    "start": "850299",
    "end": "857179"
  },
  {
    "text": "scheduler it's good yeah a couple of",
    "start": "857179",
    "end": "863389"
  },
  {
    "start": "860000",
    "end": "860000"
  },
  {
    "text": "considerations at this point you will need to create a service account for",
    "start": "863389",
    "end": "871279"
  },
  {
    "text": "this pot but you you already have a cluster role that is the Cuba scheduler",
    "start": "871279",
    "end": "877879"
  },
  {
    "text": "okay so this pot is going to contact the API and is going to modify and send",
    "start": "877879",
    "end": "884029"
  },
  {
    "text": "objects and write objects to the to a coordinates API so it needs this set of priorities way not important for this",
    "start": "884029",
    "end": "891290"
  },
  {
    "text": "tour but just in case you actually want to do it and also there are two two",
    "start": "891290",
    "end": "900649"
  },
  {
    "start": "893000",
    "end": "893000"
  },
  {
    "text": "types of bindings this is the there is a bending object which is was the default",
    "start": "900649",
    "end": "905839"
  },
  {
    "text": "but is deprecated in 1.7 and now you are supposed to use the bending super",
    "start": "905839",
    "end": "911419"
  },
  {
    "text": "resource of the path remember that the scheduler doesn't actually do anything",
    "start": "911419",
    "end": "918109"
  },
  {
    "text": "it just post a decision which is basically a bending object it doesn't",
    "start": "918109",
    "end": "924350"
  },
  {
    "text": "take the action itself yeah and this common line is",
    "start": "924350",
    "end": "929810"
  },
  {
    "text": "basically showing that with this air back role you have both you have access to the buildings and the both meanings",
    "start": "929810",
    "end": "936830"
  },
  {
    "text": "okay okay so let's go to the cold",
    "start": "936830",
    "end": "943930"
  },
  {
    "start": "938000",
    "end": "938000"
  },
  {
    "text": "suspense wheel okay so basically I have",
    "start": "949270",
    "end": "958760"
  },
  {
    "text": "a vanilla pretty simple nginx and the",
    "start": "958760",
    "end": "965990"
  },
  {
    "text": "only thing I need to do is to claim that I need that the scheduler in particular",
    "start": "965990",
    "end": "971600"
  },
  {
    "text": "for this set of pots okay that's all you need to do on the poor definition on the",
    "start": "971600",
    "end": "977450"
  },
  {
    "text": "implementation you need to do a little more okay so the implementation",
    "start": "977450",
    "end": "982660"
  },
  {
    "text": "basically what you do is you subscribe to this event queue you subscribe to the",
    "start": "982660",
    "end": "988760"
  },
  {
    "text": "new IP pots and you check that this pot",
    "start": "988760",
    "end": "995960"
  },
  {
    "text": "is is one of the one of the interesting to you okay so you spend in the",
    "start": "995960",
    "end": "1001110"
  },
  {
    "text": "scheduler name is the one that you are looking for and it was just added okay",
    "start": "1001110",
    "end": "1007860"
  },
  {
    "text": "and then you have the decision algorithm obviously we have implemented this using",
    "start": "1007860",
    "end": "1013900"
  },
  {
    "text": "Cystic matrix okay but you can go and replace this method with any other API",
    "start": "1013900",
    "end": "1022900"
  },
  {
    "text": "that you want and that's basically the main loop so let's go and try it out",
    "start": "1022900",
    "end": "1031620"
  },
  {
    "text": "okay so this these pots are going to be pending forever like they are requesting",
    "start": "1039970",
    "end": "1045850"
  },
  {
    "text": "are a scheduler that doesn't exist so they are never going to leave the",
    "start": "1045850",
    "end": "1051190"
  },
  {
    "text": "pending estate basically I'm running my",
    "start": "1051190",
    "end": "1061029"
  },
  {
    "text": "scheduler I will I will post them they did have a address at the end this is my",
    "start": "1061029",
    "end": "1068169"
  },
  {
    "text": "scheduler obviously I need the coop config for the certificates and so on I",
    "start": "1068169",
    "end": "1074710"
  },
  {
    "text": "specify one of the metrics you can put plus or minus depending if you want to",
    "start": "1074710",
    "end": "1082090"
  },
  {
    "text": "order for I mean if more is better or less is better okay in terms of ranking",
    "start": "1082090",
    "end": "1088360"
  },
  {
    "text": "and then this is the Cystic token for for the api okay so it has detected that",
    "start": "1088360",
    "end": "1102490"
  },
  {
    "text": "these nodes are pending conducted the API and according to this net HTTP",
    "start": "1102490",
    "end": "1109120"
  },
  {
    "text": "request time schedule at all all the nodes okay so hopefully okay simple",
    "start": "1109120",
    "end": "1119649"
  },
  {
    "text": "simple as that",
    "start": "1119649",
    "end": "1122519"
  },
  {
    "text": "okay now if we go back here",
    "start": "1128670",
    "end": "1132980"
  },
  {
    "start": "1140000",
    "end": "1140000"
  },
  {
    "text": "okay that's what I told you too I mean",
    "start": "1140040",
    "end": "1145890"
  },
  {
    "text": "first look at the default the scheduler because creating you desk I mean this",
    "start": "1145890",
    "end": "1152340"
  },
  {
    "text": "this example was very simple but creating your scheduler is a brave thing to do okay I will show you some",
    "start": "1152340",
    "end": "1161370"
  },
  {
    "text": "improvements that I have coded for this one but there is a lot of things that can grow grow okay first improvement",
    "start": "1161370",
    "end": "1170700"
  },
  {
    "start": "1168000",
    "end": "1168000"
  },
  {
    "text": "this one is implemented I will go back to the terminal matrix Kiche is a very common case that",
    "start": "1170700",
    "end": "1176910"
  },
  {
    "text": "you have a new deployment and suddenly you have 20 new pots do you really need",
    "start": "1176910",
    "end": "1182220"
  },
  {
    "text": "to worry the upbeat 20 times probably not okay so the first obvious",
    "start": "1182220",
    "end": "1190700"
  },
  {
    "text": "optimization that you can do is create a matrix catch a every time that you retrieve a metric from the API you put a",
    "start": "1190700",
    "end": "1196620"
  },
  {
    "text": "time stamp and you decide if it's fresh or not if you want to go even further you can do adaptive may adapt ah to",
    "start": "1196620",
    "end": "1204240"
  },
  {
    "text": "catch a so you know metrics that are changing more often you retrieve more often from the API lots of things you",
    "start": "1204240",
    "end": "1212730"
  },
  {
    "text": "can do okay there this is very important this is very important the failsafe",
    "start": "1212730",
    "end": "1218850"
  },
  {
    "start": "1215000",
    "end": "1215000"
  },
  {
    "text": "mechanism you need a lot of different you know you need to take into consideration every everything that can",
    "start": "1218850",
    "end": "1226500"
  },
  {
    "text": "go wrong for example the matrix API is not responsive it happens twice a month okay",
    "start": "1226500",
    "end": "1231870"
  },
  {
    "text": "happens twice a month matrix API is just not responding okay let the gut check",
    "start": "1231870",
    "end": "1238350"
  },
  {
    "text": "and mitigate this but for a few seconds when told you have to give up you are",
    "start": "1238350",
    "end": "1245100"
  },
  {
    "text": "too strict with your restriction and there is no good candidate maybe you need to relax you",
    "start": "1245100",
    "end": "1250580"
  },
  {
    "text": "your requisites time out okay don't forget that we are writing a scheduler",
    "start": "1250580",
    "end": "1257400"
  },
  {
    "text": "and the scheduler is an optimization mechanism if it's taking too long it it's not worth it anymore okay so it's",
    "start": "1257400",
    "end": "1264630"
  },
  {
    "text": "better to timeout and go back to the default one and multiple exception code",
    "start": "1264630",
    "end": "1271470"
  },
  {
    "text": "has box okay you need to catch any any exception that may happen in your call you always need",
    "start": "1271470",
    "end": "1279960"
  },
  {
    "text": "a a plan B that's the main idea I mean if your scheduler fails pots are pending",
    "start": "1279960",
    "end": "1286830"
  },
  {
    "text": "forever that's not good I mean any decision is better than no decision at all so one of the most obvious",
    "start": "1286830",
    "end": "1296970"
  },
  {
    "text": "strategies in this case is to delegate to the default scheduler",
    "start": "1296970",
    "end": "1302030"
  },
  {
    "text": "there is a small problem here and that goes back to the first diagram and the",
    "start": "1302090",
    "end": "1310680"
  },
  {
    "text": "small problem is that you can actually you cannot actually change the scheduler on a running path it's not a permission",
    "start": "1310680",
    "end": "1320040"
  },
  {
    "text": "thing is forbidden by the sign okay so what you need to do is you need to",
    "start": "1320040",
    "end": "1325590"
  },
  {
    "text": "actually go back to the parent let's say the deployment changed the parameter in",
    "start": "1325590",
    "end": "1332340"
  },
  {
    "text": "the deployment the plumbing will observe that the decider state is not compliant",
    "start": "1332340",
    "end": "1339000"
  },
  {
    "text": "it will kill the post and it will recreate new ones okay another thing",
    "start": "1339000",
    "end": "1346350"
  },
  {
    "text": "that you can do is that you can Ricky you can do the queuing so if your main method returns a certain cold air or the",
    "start": "1346350",
    "end": "1355950"
  },
  {
    "text": "API will understand that it needs to put the pots back into the pending queue okay you can do that I never tried",
    "start": "1355950",
    "end": "1364110"
  },
  {
    "text": "myself but you can do that so yeah in",
    "start": "1364110",
    "end": "1370530"
  },
  {
    "text": "this case just okay another first simple",
    "start": "1370530",
    "end": "1378840"
  },
  {
    "text": "stupid demo okay we have the pending",
    "start": "1378840",
    "end": "1385050"
  },
  {
    "text": "pots and now I want to schedule but my",
    "start": "1385050",
    "end": "1390510"
  },
  {
    "text": "token is I made a typo in my token so the API is not going to respond so I'm",
    "start": "1390510",
    "end": "1397230"
  },
  {
    "text": "alone okay okay I have the fallback that",
    "start": "1397230",
    "end": "1404670"
  },
  {
    "text": "will delegate to the default the scheduler in this case",
    "start": "1404670",
    "end": "1409430"
  },
  {
    "text": "all this part of the call basically what it does is it ask for the parent object",
    "start": "1411590",
    "end": "1418020"
  },
  {
    "text": "the parent object is a replica said ask for the parent object of the Perito",
    "start": "1418020",
    "end": "1423180"
  },
  {
    "text": "object which is a deployment retrieves the deployment modifies this parameter",
    "start": "1423180",
    "end": "1429900"
  },
  {
    "text": "and then the deployment will actually if",
    "start": "1429900",
    "end": "1437430"
  },
  {
    "text": "you realize the names of the pots okay",
    "start": "1437430",
    "end": "1443660"
  },
  {
    "text": "those are new ones before what I've said",
    "start": "1444620",
    "end": "1450120"
  },
  {
    "text": "I mean it's definitely before there is",
    "start": "1450120",
    "end": "1455190"
  },
  {
    "text": "no way of changing changing a running container okay and another improvement",
    "start": "1455190",
    "end": "1465390"
  },
  {
    "start": "1462000",
    "end": "1462000"
  },
  {
    "text": "number four number five I don't know if you know everything I was explaining at",
    "start": "1465390",
    "end": "1471330"
  },
  {
    "text": "the beginning of the talk about all these kind of cool things that you can do with the default scheduler",
    "start": "1471330",
    "end": "1477600"
  },
  {
    "text": "they are not implemented in your scheduler by free okay you need to you",
    "start": "1477600",
    "end": "1482610"
  },
  {
    "text": "need to actually go and code them so another obvious improvement is adding",
    "start": "1482610",
    "end": "1489120"
  },
  {
    "text": "more variables to the mix like respecting the the CPU limits honoring",
    "start": "1489120",
    "end": "1495510"
  },
  {
    "text": "the affinities and the affinities all these kind of things which is probably quite hard to implement all this all",
    "start": "1495510",
    "end": "1503160"
  },
  {
    "text": "this stack of priorities and relations",
    "start": "1503160",
    "end": "1508520"
  },
  {
    "start": "1508000",
    "end": "1508000"
  },
  {
    "text": "yeah another thing that you can do is writing a mutation and mission webhook",
    "start": "1508730",
    "end": "1514560"
  },
  {
    "text": "okay in case you for example you have 300 channels with 300 definitions of",
    "start": "1514560",
    "end": "1521070"
  },
  {
    "text": "deployment samples and you don't want to go into every one of them and change the scheduler you can always create an a",
    "start": "1521070",
    "end": "1527730"
  },
  {
    "text": "mission controller this also goes back to the first diagram because there are missions controllers happen before the",
    "start": "1527730",
    "end": "1536100"
  },
  {
    "text": "object is persisted in @cd so at this point you can actually go and",
    "start": "1536100",
    "end": "1541440"
  },
  {
    "text": "change the scheduler name at this point is it is possible later on it is not",
    "start": "1541440",
    "end": "1550250"
  },
  {
    "text": "yeah and then if for some reason you",
    "start": "1550250",
    "end": "1556769"
  },
  {
    "start": "1551000",
    "end": "1551000"
  },
  {
    "text": "want to have I mean one of the posts that is pending can be selected by one more than one scheduler I don't know why",
    "start": "1556769",
    "end": "1563759"
  },
  {
    "text": "maybe for high availability reasons then you know you have to be careful with who",
    "start": "1563759",
    "end": "1570600"
  },
  {
    "text": "gets the lock of debt who changes the state of the poll leader election but",
    "start": "1570600",
    "end": "1577350"
  },
  {
    "text": "you know that was a an entire subject at college so I'm not going into into that",
    "start": "1577350",
    "end": "1583559"
  },
  {
    "text": "at this moment okay so yeah that's basically what I wanted to show if you",
    "start": "1583559",
    "end": "1591450"
  },
  {
    "text": "have any more questions at this point yeah yes I mean the default one is I",
    "start": "1591450",
    "end": "1604559"
  },
  {
    "text": "mean you have the source available so yeah he was asking that instead of writing your own scheduler if you can go",
    "start": "1604559",
    "end": "1613409"
  },
  {
    "text": "and write yeah yeah like taking taking",
    "start": "1613409",
    "end": "1619440"
  },
  {
    "text": "the default one and to use the affinity and so on but also extend on these features with your own yeah then you",
    "start": "1619440",
    "end": "1625830"
  },
  {
    "text": "will assume you will get the code of the default the Cuban a scheduler and you will you will commit on that you will",
    "start": "1625830",
    "end": "1632070"
  },
  {
    "text": "complete over that that's actually that's a good I mean if you want to do thing is that if you are doing a",
    "start": "1632070",
    "end": "1638759"
  },
  {
    "text": "scheduler you probably want a very specific task very very specific task so you don't care that much how all the",
    "start": "1638759",
    "end": "1645090"
  },
  {
    "text": "ante affinities held and these kind of things but if you want to do more complete more complete one probably you",
    "start": "1645090",
    "end": "1651450"
  },
  {
    "text": "you are better off starting with the with the default the scheduler can you",
    "start": "1651450",
    "end": "1657539"
  },
  {
    "text": "actually like evict some in our pots based on your scheduler or just shadow a",
    "start": "1657539",
    "end": "1663779"
  },
  {
    "text": "new one no you cannot evict scheduler once you have the decision and you have",
    "start": "1663779",
    "end": "1669240"
  },
  {
    "text": "taken the decision and rewritten the decision to the API scale",
    "start": "1669240",
    "end": "1674710"
  },
  {
    "text": "work is done hi hello [Music]",
    "start": "1674710",
    "end": "1682210"
  },
  {
    "text": "if you happy to scare if you happen to have your custom scheduler as simple as your rotator and tries to put a pod in",
    "start": "1682210",
    "end": "1688570"
  },
  {
    "text": "you know that has no memory left or not enough resources what happens then let's kubernetes does anything about",
    "start": "1688570",
    "end": "1694899"
  },
  {
    "text": "that or it doesn't care you just come in here basically okay so you put this okay",
    "start": "1694899",
    "end": "1700240"
  },
  {
    "text": "so you are not taking into consideration there are the limits and you put they not I think at that point I mean the",
    "start": "1700240",
    "end": "1709450"
  },
  {
    "text": "cubelet will start misbehaving I have not tried that but it's like any other",
    "start": "1709450",
    "end": "1718750"
  },
  {
    "text": "process that that goes over the harbor limits in your in your operative system",
    "start": "1718750",
    "end": "1723899"
  },
  {
    "text": "not try to perform any sort of if you don't call them performance that's",
    "start": "1723899",
    "end": "1729580"
  },
  {
    "text": "that's what I was saying that if you you know if you can't use the default one you say for one because otherwise you",
    "start": "1729580",
    "end": "1735010"
  },
  {
    "text": "will have to call a to call a lot of things a lot of restriction okay when",
    "start": "1735010",
    "end": "1749710"
  },
  {
    "text": "your scheduler is failing at the deployment and change the scheduler you",
    "start": "1749710",
    "end": "1757330"
  },
  {
    "text": "can't edit a stateful set so you're saying it can only use this for deployments no no I was using",
    "start": "1757330",
    "end": "1763510"
  },
  {
    "text": "deployments what I say is that you cannot go and change the pod directly you need to contact the entity that",
    "start": "1763510",
    "end": "1769390"
  },
  {
    "text": "created the body yes but stateful sets you can't edit them unless it's a replica and something",
    "start": "1769390",
    "end": "1777039"
  },
  {
    "text": "else so some I'm just asking if there is a way of doing it without editing the",
    "start": "1777039",
    "end": "1783909"
  },
  {
    "text": "resource I don't think so I mean I know if I",
    "start": "1783909",
    "end": "1792950"
  },
  {
    "text": "suppose you need to go to a state full set a check and change the parameter okay okay thank you",
    "start": "1792950",
    "end": "1800898"
  },
  {
    "text": "hey just a quick one if you use the mutating admission hook haha and you got",
    "start": "1807860",
    "end": "1813980"
  },
  {
    "text": "to equip it to your custom scheduler but it fails and you want to use the default scheduler aha we didn't the hook we hook",
    "start": "1813980",
    "end": "1822049"
  },
  {
    "text": "it back to your custom scheduler okay good question you change it so you used",
    "start": "1822049",
    "end": "1830659"
  },
  {
    "text": "you change the mutation and then no no",
    "start": "1830659",
    "end": "1837470"
  },
  {
    "text": "because because you are directly writing the object that is in HCV you know and",
    "start": "1837470",
    "end": "1844210"
  },
  {
    "text": "that happens after if I'm correct but",
    "start": "1844210",
    "end": "1849519"
  },
  {
    "text": "you do authorization you do the mutation we hook it gets modified it gets written",
    "start": "1849519",
    "end": "1854960"
  },
  {
    "text": "to the HCV and you retrieve the object from its CD and write in to add CD again",
    "start": "1854960",
    "end": "1861970"
  },
  {
    "text": "so if I not grown it it won't happen it will still work this mechanism anyone",
    "start": "1861970",
    "end": "1871880"
  },
  {
    "text": "else what were you can do presentation",
    "start": "1871880",
    "end": "1880730"
  },
  {
    "text": "yes yes I will put my presentation actually read your Twitter handle oh there it is right is my Twitter handle",
    "start": "1880730",
    "end": "1886840"
  },
  {
    "text": "and yeah",
    "start": "1886840",
    "end": "1891070"
  },
  {
    "text": "so",
    "start": "1900250",
    "end": "1902880"
  },
  {
    "text": "you know open-source pr's welcome all",
    "start": "1906110",
    "end": "1911480"
  },
  {
    "text": "that kind of stuff so this implementation is naive but it's not so",
    "start": "1911480",
    "end": "1917780"
  },
  {
    "text": "naive I mean it has catchy and it has a fallback mechanism is starting to do",
    "start": "1917780",
    "end": "1925400"
  },
  {
    "text": "some more interesting things but still needs more improvement because I can",
    "start": "1925400",
    "end": "1931520"
  },
  {
    "text": "consider it you know something that you will put in production",
    "start": "1931520",
    "end": "1936910"
  },
  {
    "text": "[Applause]",
    "start": "1939020",
    "end": "1942960"
  }
]