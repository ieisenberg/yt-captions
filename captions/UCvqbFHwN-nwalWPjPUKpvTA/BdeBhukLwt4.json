[
  {
    "text": "hey",
    "start": "359",
    "end": "2899"
  },
  {
    "text": "thank you so yeah as I mentioned this is",
    "start": "2899",
    "end": "6779"
  },
  {
    "text": "a talk about using wasm to deliver",
    "start": "6779",
    "end": "9540"
  },
  {
    "text": "policies",
    "start": "9540",
    "end": "11099"
  },
  {
    "text": "um across your stack wherever you might",
    "start": "11099",
    "end": "13380"
  },
  {
    "text": "want to run policy logic",
    "start": "13380",
    "end": "15240"
  },
  {
    "text": "um",
    "start": "15240",
    "end": "15960"
  },
  {
    "text": "using wasm to do so that's what this",
    "start": "15960",
    "end": "17880"
  },
  {
    "text": "this talk is about",
    "start": "17880",
    "end": "20220"
  },
  {
    "text": "so hello my name is Charlie I work on",
    "start": "20220",
    "end": "22859"
  },
  {
    "text": "the developer relations team at styra",
    "start": "22859",
    "end": "25699"
  },
  {
    "text": "that involves working quite a lot with",
    "start": "25699",
    "end": "27779"
  },
  {
    "text": "the open policy agent project",
    "start": "27779",
    "end": "30359"
  },
  {
    "text": "um but the other part of my role is",
    "start": "30359",
    "end": "31920"
  },
  {
    "text": "coming out and speaking about Opa and um",
    "start": "31920",
    "end": "35180"
  },
  {
    "text": "being a proponent for the project as",
    "start": "35180",
    "end": "37620"
  },
  {
    "text": "well",
    "start": "37620",
    "end": "38579"
  },
  {
    "text": "if you want to find me you can find me",
    "start": "38579",
    "end": "40440"
  },
  {
    "text": "any of these places as my email address",
    "start": "40440",
    "end": "43140"
  },
  {
    "text": "and I'm also going to be around at the",
    "start": "43140",
    "end": "44700"
  },
  {
    "text": "open store throughout kubecon 2.",
    "start": "44700",
    "end": "48480"
  },
  {
    "text": "so",
    "start": "48480",
    "end": "49860"
  },
  {
    "text": "what are policies when when I talk about",
    "start": "49860",
    "end": "52140"
  },
  {
    "text": "policy what what do I mean by that I",
    "start": "52140",
    "end": "54539"
  },
  {
    "text": "think we've we've likely all got ideas",
    "start": "54539",
    "end": "56940"
  },
  {
    "text": "about policies in our in our minds when",
    "start": "56940",
    "end": "59940"
  },
  {
    "text": "I say that word",
    "start": "59940",
    "end": "61140"
  },
  {
    "text": "and",
    "start": "61140",
    "end": "62820"
  },
  {
    "text": "perhaps when the most obvious one that",
    "start": "62820",
    "end": "64739"
  },
  {
    "text": "comes to mind in in a sort of technical",
    "start": "64739",
    "end": "66960"
  },
  {
    "text": "sense or technical use case is um",
    "start": "66960",
    "end": "71100"
  },
  {
    "text": "now these kinds of policies where we're",
    "start": "71100",
    "end": "73140"
  },
  {
    "text": "talking about who is allowed to do what",
    "start": "73140",
    "end": "74780"
  },
  {
    "text": "particular users within an organization",
    "start": "74780",
    "end": "77040"
  },
  {
    "text": "can do particular actions and this is",
    "start": "77040",
    "end": "79860"
  },
  {
    "text": "policy that we as we know it and as we",
    "start": "79860",
    "end": "81900"
  },
  {
    "text": "interacted it on a usually daily basis",
    "start": "81900",
    "end": "85500"
  },
  {
    "text": "um but policy I like to think of policy",
    "start": "85500",
    "end": "87840"
  },
  {
    "text": "as a more General sort of business",
    "start": "87840",
    "end": "90259"
  },
  {
    "text": "encoding of business rules and functions",
    "start": "90259",
    "end": "93180"
  },
  {
    "text": "so many of you will have flown here to",
    "start": "93180",
    "end": "96180"
  },
  {
    "text": "Amsterdam and you won't have been able",
    "start": "96180",
    "end": "98220"
  },
  {
    "text": "to book a plane seat in row 13",
    "start": "98220",
    "end": "101460"
  },
  {
    "text": "um it's common for planes in the Western",
    "start": "101460",
    "end": "103439"
  },
  {
    "text": "World at least to not feature a row 13",
    "start": "103439",
    "end": "105299"
  },
  {
    "text": "at all and that's that's a policy that",
    "start": "105299",
    "end": "107880"
  },
  {
    "text": "needs to be enforced in a system that",
    "start": "107880",
    "end": "110040"
  },
  {
    "text": "handles the booking of plane tickets",
    "start": "110040",
    "end": "113299"
  },
  {
    "text": "um and policies can also be pretty",
    "start": "113520",
    "end": "117240"
  },
  {
    "text": "unusual or you know slightly out there",
    "start": "117240",
    "end": "120659"
  },
  {
    "text": "when it comes to we're not just always",
    "start": "120659",
    "end": "122460"
  },
  {
    "text": "talking about whether admins have access",
    "start": "122460",
    "end": "124619"
  },
  {
    "text": "to certain data sets and and so on so",
    "start": "124619",
    "end": "127500"
  },
  {
    "text": "this is this is an interesting policy I",
    "start": "127500",
    "end": "129179"
  },
  {
    "text": "saw just last week",
    "start": "129179",
    "end": "131280"
  },
  {
    "text": "um the idea is that a product can only",
    "start": "131280",
    "end": "133020"
  },
  {
    "text": "be sold between January the 1st and the",
    "start": "133020",
    "end": "135060"
  },
  {
    "text": "first Sunday after the full moon that",
    "start": "135060",
    "end": "136560"
  },
  {
    "text": "occurs on or after the Spring Equinox",
    "start": "136560",
    "end": "138300"
  },
  {
    "text": "and you might be thinking oh this is",
    "start": "138300",
    "end": "140160"
  },
  {
    "text": "this is a bit of a joke but in actual",
    "start": "140160",
    "end": "142319"
  },
  {
    "text": "fact there's a brand of Easter eggs that",
    "start": "142319",
    "end": "144599"
  },
  {
    "text": "uses this policy to decide whether or",
    "start": "144599",
    "end": "146340"
  },
  {
    "text": "not",
    "start": "146340",
    "end": "147180"
  },
  {
    "text": "um Easter eggs should be sold in the UK",
    "start": "147180",
    "end": "149700"
  },
  {
    "text": "um on those between those dates and I",
    "start": "149700",
    "end": "152400"
  },
  {
    "text": "was wondering after our talk earlier",
    "start": "152400",
    "end": "153959"
  },
  {
    "text": "whether this would be an interesting",
    "start": "153959",
    "end": "155099"
  },
  {
    "text": "Shopify plug-in for vendors who had",
    "start": "155099",
    "end": "157920"
  },
  {
    "text": "Easter related Goods that they were",
    "start": "157920",
    "end": "160080"
  },
  {
    "text": "selling",
    "start": "160080",
    "end": "161220"
  },
  {
    "text": "so the point I'm trying to make here",
    "start": "161220",
    "end": "163200"
  },
  {
    "text": "really is that businesses are built on",
    "start": "163200",
    "end": "165360"
  },
  {
    "text": "policies and when we talk about policies",
    "start": "165360",
    "end": "168360"
  },
  {
    "text": "often we're talking about business logic",
    "start": "168360",
    "end": "171000"
  },
  {
    "text": "so we need a way to enforce these",
    "start": "171000",
    "end": "173640"
  },
  {
    "text": "policies and evaluate policy logic and",
    "start": "173640",
    "end": "175500"
  },
  {
    "text": "enforce them so",
    "start": "175500",
    "end": "177900"
  },
  {
    "text": "to try and give a model as to how we",
    "start": "177900",
    "end": "179640"
  },
  {
    "text": "might do that this is how I like to",
    "start": "179640",
    "end": "181319"
  },
  {
    "text": "think about policy evaluation",
    "start": "181319",
    "end": "183540"
  },
  {
    "text": "so we've we've got a policy enforcement",
    "start": "183540",
    "end": "186420"
  },
  {
    "text": "point which is typically a contact point",
    "start": "186420",
    "end": "188040"
  },
  {
    "text": "with some user an application web app",
    "start": "188040",
    "end": "190860"
  },
  {
    "text": "mobile app an API perhaps that's been",
    "start": "190860",
    "end": "194099"
  },
  {
    "text": "interacted with by another automated",
    "start": "194099",
    "end": "196500"
  },
  {
    "text": "service and it's providing some context",
    "start": "196500",
    "end": "199739"
  },
  {
    "text": "information and a request to some other",
    "start": "199739",
    "end": "202379"
  },
  {
    "text": "part of either the same application or",
    "start": "202379",
    "end": "204239"
  },
  {
    "text": "another application which is going to",
    "start": "204239",
    "end": "206280"
  },
  {
    "text": "make the policy decision",
    "start": "206280",
    "end": "208860"
  },
  {
    "text": "that policy decision point is has been",
    "start": "208860",
    "end": "211200"
  },
  {
    "text": "loaded with some policy logic and",
    "start": "211200",
    "end": "213180"
  },
  {
    "text": "perhaps some extra data that enables it",
    "start": "213180",
    "end": "214920"
  },
  {
    "text": "to make policy decisions",
    "start": "214920",
    "end": "216780"
  },
  {
    "text": "and then it returns a decision result to",
    "start": "216780",
    "end": "219120"
  },
  {
    "text": "the policy enforcement point which then",
    "start": "219120",
    "end": "221220"
  },
  {
    "text": "deals with that decision as is required",
    "start": "221220",
    "end": "225239"
  },
  {
    "text": "so depending on what you're used to",
    "start": "225239",
    "end": "226980"
  },
  {
    "text": "working with this might look familiar",
    "start": "226980",
    "end": "228599"
  },
  {
    "text": "this is how I imagine that",
    "start": "228599",
    "end": "232019"
  },
  {
    "text": "um I just have I've sort of structured",
    "start": "232019",
    "end": "233459"
  },
  {
    "text": "it for",
    "start": "233459",
    "end": "234480"
  },
  {
    "text": "if we were doing policy evaluation in a",
    "start": "234480",
    "end": "236819"
  },
  {
    "text": "single application we might have a web",
    "start": "236819",
    "end": "239040"
  },
  {
    "text": "endpoint Handler that was making a call",
    "start": "239040",
    "end": "241379"
  },
  {
    "text": "to an authorization module in the same",
    "start": "241379",
    "end": "243180"
  },
  {
    "text": "application and returning a result for",
    "start": "243180",
    "end": "245760"
  },
  {
    "text": "that decision based on some codified",
    "start": "245760",
    "end": "247260"
  },
  {
    "text": "rules and perhaps some extra user role",
    "start": "247260",
    "end": "250379"
  },
  {
    "text": "data for example",
    "start": "250379",
    "end": "252060"
  },
  {
    "text": "and we can do a similar thing in a",
    "start": "252060",
    "end": "253680"
  },
  {
    "text": "distributed system where we have a",
    "start": "253680",
    "end": "256199"
  },
  {
    "text": "business application which is making a",
    "start": "256199",
    "end": "257940"
  },
  {
    "text": "call to an authorization server which",
    "start": "257940",
    "end": "259919"
  },
  {
    "text": "may or may not be open or something",
    "start": "259919",
    "end": "261540"
  },
  {
    "text": "based on Opa which is loaded in data and",
    "start": "261540",
    "end": "264180"
  },
  {
    "text": "policy in order to help it make that",
    "start": "264180",
    "end": "266220"
  },
  {
    "text": "decision",
    "start": "266220",
    "end": "268080"
  },
  {
    "text": "so",
    "start": "268080",
    "end": "270000"
  },
  {
    "text": "I alluded to wherever this was going",
    "start": "270000",
    "end": "272100"
  },
  {
    "text": "like we need a tool we need some way of",
    "start": "272100",
    "end": "274139"
  },
  {
    "text": "making policy decisions and",
    "start": "274139",
    "end": "277020"
  },
  {
    "text": "um this is where open policy agent comes",
    "start": "277020",
    "end": "279240"
  },
  {
    "text": "in so what is open policy agent what's",
    "start": "279240",
    "end": "282180"
  },
  {
    "text": "open it's a cloud native Computing",
    "start": "282180",
    "end": "284400"
  },
  {
    "text": "Foundation project and it aspires to be",
    "start": "284400",
    "end": "287160"
  },
  {
    "text": "a general purpose policy engine",
    "start": "287160",
    "end": "289639"
  },
  {
    "text": "going into a little bit more detail I",
    "start": "289639",
    "end": "292199"
  },
  {
    "text": "like to think of it as a sum of these",
    "start": "292199",
    "end": "294720"
  },
  {
    "text": "three parts really I see it as a",
    "start": "294720",
    "end": "297780"
  },
  {
    "text": "domain-specific policy language which is",
    "start": "297780",
    "end": "299400"
  },
  {
    "text": "a declarative language specifically for",
    "start": "299400",
    "end": "302280"
  },
  {
    "text": "describing policy rules which we'll see",
    "start": "302280",
    "end": "304320"
  },
  {
    "text": "a little bit more of in just a moment",
    "start": "304320",
    "end": "306419"
  },
  {
    "text": "we policy server implementation",
    "start": "306419",
    "end": "309240"
  },
  {
    "text": "which has the functionality to run this",
    "start": "309240",
    "end": "313139"
  },
  {
    "text": "Rego language and also a series of",
    "start": "313139",
    "end": "315479"
  },
  {
    "text": "language sdks both a native go SDK and",
    "start": "315479",
    "end": "319320"
  },
  {
    "text": "various um it wasn't based sdks as well",
    "start": "319320",
    "end": "323820"
  },
  {
    "text": "and you bring all of that together along",
    "start": "323820",
    "end": "325680"
  },
  {
    "text": "with some tooling and the community and",
    "start": "325680",
    "end": "327300"
  },
  {
    "text": "you get that you get open at least",
    "start": "327300",
    "end": "329160"
  },
  {
    "text": "that's how I like to think of it",
    "start": "329160",
    "end": "331620"
  },
  {
    "text": "so whatever your use case for Opa is",
    "start": "331620",
    "end": "333840"
  },
  {
    "text": "whether you're running Opa as a server",
    "start": "333840",
    "end": "335400"
  },
  {
    "text": "or whether you're running Opera within",
    "start": "335400",
    "end": "336960"
  },
  {
    "text": "an application",
    "start": "336960",
    "end": "338520"
  },
  {
    "text": "um perhaps using wasm like this I see as",
    "start": "338520",
    "end": "341759"
  },
  {
    "text": "I see it what brings it together is the",
    "start": "341759",
    "end": "343500"
  },
  {
    "text": "is the declarative policy language",
    "start": "343500",
    "end": "345240"
  },
  {
    "text": "called Rego so let's dig into Rego and",
    "start": "345240",
    "end": "348419"
  },
  {
    "text": "have a look at some examples",
    "start": "348419",
    "end": "350759"
  },
  {
    "text": "so this is about the most simple policy",
    "start": "350759",
    "end": "353100"
  },
  {
    "text": "I could come up with it's similar to the",
    "start": "353100",
    "end": "354720"
  },
  {
    "text": "first one I introduced about admins",
    "start": "354720",
    "end": "356880"
  },
  {
    "text": "being allowed to do a particular action",
    "start": "356880",
    "end": "359280"
  },
  {
    "text": "so in this example we have a package",
    "start": "359280",
    "end": "361620"
  },
  {
    "text": "it's an authorization package and by",
    "start": "361620",
    "end": "364979"
  },
  {
    "text": "default nobody is allowed by invoking",
    "start": "364979",
    "end": "367860"
  },
  {
    "text": "the allowed Rule and this policy by",
    "start": "367860",
    "end": "370020"
  },
  {
    "text": "default the answer is false however if",
    "start": "370020",
    "end": "373139"
  },
  {
    "text": "the context information that's provided",
    "start": "373139",
    "end": "374820"
  },
  {
    "text": "to this policy contains that the role of",
    "start": "374820",
    "end": "377520"
  },
  {
    "text": "that call or some some user is an admin",
    "start": "377520",
    "end": "380759"
  },
  {
    "text": "then it's allowed",
    "start": "380759",
    "end": "382919"
  },
  {
    "text": "so that's a fairly trivial example that",
    "start": "382919",
    "end": "384960"
  },
  {
    "text": "hopefully gives starts to give you a",
    "start": "384960",
    "end": "386819"
  },
  {
    "text": "feel for a little bit about how the",
    "start": "386819",
    "end": "388680"
  },
  {
    "text": "language Works where we have a default",
    "start": "388680",
    "end": "390720"
  },
  {
    "text": "case and that's evaluated if none of the",
    "start": "390720",
    "end": "393479"
  },
  {
    "text": "other cases",
    "start": "393479",
    "end": "394680"
  },
  {
    "text": "resolve",
    "start": "394680",
    "end": "397680"
  },
  {
    "text": "so it doesn't have to be a Boolean",
    "start": "397800",
    "end": "400139"
  },
  {
    "text": "result though I think it's important to",
    "start": "400139",
    "end": "402139"
  },
  {
    "text": "you know remember that we're often",
    "start": "402139",
    "end": "404580"
  },
  {
    "text": "dealing with human users and we",
    "start": "404580",
    "end": "406199"
  },
  {
    "text": "sometimes want to help them understand",
    "start": "406199",
    "end": "407520"
  },
  {
    "text": "the results of some policy decision",
    "start": "407520",
    "end": "410699"
  },
  {
    "text": "so this is an example policy it's a deny",
    "start": "410699",
    "end": "414300"
  },
  {
    "text": "policy which is expecting some input",
    "start": "414300",
    "end": "417419"
  },
  {
    "text": "containing an email",
    "start": "417419",
    "end": "418680"
  },
  {
    "text": "and I've declared some different rules",
    "start": "418680",
    "end": "421259"
  },
  {
    "text": "some different policy rules around how",
    "start": "421259",
    "end": "423060"
  },
  {
    "text": "we're validating this email address",
    "start": "423060",
    "end": "425759"
  },
  {
    "text": "um so instead of saying allow or deny in",
    "start": "425759",
    "end": "427500"
  },
  {
    "text": "this case if we provide an email address",
    "start": "427500",
    "end": "429300"
  },
  {
    "text": "like this uh we we see a series of error",
    "start": "429300",
    "end": "432479"
  },
  {
    "text": "messages or validation messages back",
    "start": "432479",
    "end": "435600"
  },
  {
    "text": "from the policy",
    "start": "435600",
    "end": "437340"
  },
  {
    "text": "um the rules that I've encoded aren't",
    "start": "437340",
    "end": "438900"
  },
  {
    "text": "particularly exciting we're doing",
    "start": "438900",
    "end": "440280"
  },
  {
    "text": "regular expression validation we're",
    "start": "440280",
    "end": "442319"
  },
  {
    "text": "checking that nobody's using an",
    "start": "442319",
    "end": "443699"
  },
  {
    "text": "example.com domain and we're making sure",
    "start": "443699",
    "end": "445979"
  },
  {
    "text": "that people are using lowercase for",
    "start": "445979",
    "end": "447900"
  },
  {
    "text": "whatever reason",
    "start": "447900",
    "end": "449819"
  },
  {
    "text": "so um",
    "start": "449819",
    "end": "451520"
  },
  {
    "text": "both of those policies we've seen so far",
    "start": "451520",
    "end": "453840"
  },
  {
    "text": "both the email example and this trivial",
    "start": "453840",
    "end": "457199"
  },
  {
    "text": "kind of allow deny admin example you can",
    "start": "457199",
    "end": "460199"
  },
  {
    "text": "imagine implementing quite trivially in",
    "start": "460199",
    "end": "462120"
  },
  {
    "text": "almost any programming language",
    "start": "462120",
    "end": "463979"
  },
  {
    "text": "but I think uh Rego actually offers some",
    "start": "463979",
    "end": "467880"
  },
  {
    "text": "interesting functionality when it comes",
    "start": "467880",
    "end": "469560"
  },
  {
    "text": "to writing policies and policy code and",
    "start": "469560",
    "end": "472319"
  },
  {
    "text": "I'm going to try and show that with this",
    "start": "472319",
    "end": "473940"
  },
  {
    "text": "next example",
    "start": "473940",
    "end": "475500"
  },
  {
    "text": "so",
    "start": "475500",
    "end": "476819"
  },
  {
    "text": "imagine that you have an organization",
    "start": "476819",
    "end": "478560"
  },
  {
    "text": "chart which is some data which is",
    "start": "478560",
    "end": "480720"
  },
  {
    "text": "structured structured in this way where",
    "start": "480720",
    "end": "482759"
  },
  {
    "text": "you have a series of business units",
    "start": "482759",
    "end": "484380"
  },
  {
    "text": "starting with a boss Human Resources",
    "start": "484380",
    "end": "486539"
  },
  {
    "text": "developers interns and so on and who",
    "start": "486539",
    "end": "489780"
  },
  {
    "text": "they manage",
    "start": "489780",
    "end": "491039"
  },
  {
    "text": "or who sorry who they are managed by and",
    "start": "491039",
    "end": "493020"
  },
  {
    "text": "what they can access",
    "start": "493020",
    "end": "494340"
  },
  {
    "text": "so here the human resources business",
    "start": "494340",
    "end": "497280"
  },
  {
    "text": "unit is managed by the boss and they",
    "start": "497280",
    "end": "499199"
  },
  {
    "text": "have access to salary information",
    "start": "499199",
    "end": "501960"
  },
  {
    "text": "we can write some more Rego code which",
    "start": "501960",
    "end": "504599"
  },
  {
    "text": "uh transforms that data such that it's",
    "start": "504599",
    "end": "508560"
  },
  {
    "text": "in a different format ready for policy",
    "start": "508560",
    "end": "510599"
  },
  {
    "text": "evaluation",
    "start": "510599",
    "end": "511860"
  },
  {
    "text": "so in this first snippet org chart graph",
    "start": "511860",
    "end": "514560"
  },
  {
    "text": "we're creating",
    "start": "514560",
    "end": "516300"
  },
  {
    "text": "um a",
    "start": "516300",
    "end": "517380"
  },
  {
    "text": "series of edges in effect from one",
    "start": "517380",
    "end": "520140"
  },
  {
    "text": "business unit to another business unit",
    "start": "520140",
    "end": "521520"
  },
  {
    "text": "in our organization chart",
    "start": "521520",
    "end": "523800"
  },
  {
    "text": "so we find some business unit in the org",
    "start": "523800",
    "end": "526320"
  },
  {
    "text": "chart and we find the edges",
    "start": "526320",
    "end": "528500"
  },
  {
    "text": "based on other members other business",
    "start": "528500",
    "end": "530760"
  },
  {
    "text": "units in the org chart where the managed",
    "start": "530760",
    "end": "533040"
  },
  {
    "text": "by value is the business unit that we",
    "start": "533040",
    "end": "535200"
  },
  {
    "text": "selected at the beginning so we're kind",
    "start": "535200",
    "end": "536940"
  },
  {
    "text": "of searching through the org chart and",
    "start": "536940",
    "end": "538500"
  },
  {
    "text": "building up a series of graph edges",
    "start": "538500",
    "end": "542100"
  },
  {
    "text": "um and then in this next in this next",
    "start": "542100",
    "end": "544380"
  },
  {
    "text": "example we are in this next snippet I I",
    "start": "544380",
    "end": "547680"
  },
  {
    "text": "suppose we are then aggregating the",
    "start": "547680",
    "end": "550740"
  },
  {
    "text": "access permissions based on that",
    "start": "550740",
    "end": "552600"
  },
  {
    "text": "organization graph that we generated in",
    "start": "552600",
    "end": "554640"
  },
  {
    "text": "this previous example so we find some",
    "start": "554640",
    "end": "556800"
  },
  {
    "text": "business unit and we use the Rego",
    "start": "556800",
    "end": "559080"
  },
  {
    "text": "built-in function graph.reachable to",
    "start": "559080",
    "end": "561360"
  },
  {
    "text": "walk through the graph and aggregate up",
    "start": "561360",
    "end": "564060"
  },
  {
    "text": "for Missions or gather up permissions",
    "start": "564060",
    "end": "566820"
  },
  {
    "text": "from the reachable business units in the",
    "start": "566820",
    "end": "569160"
  },
  {
    "text": "graph but by finding another business",
    "start": "569160",
    "end": "572040"
  },
  {
    "text": "unit in from the series of reachable",
    "start": "572040",
    "end": "575399"
  },
  {
    "text": "business units and aggregating up there",
    "start": "575399",
    "end": "578339"
  },
  {
    "text": "the access that that business unit had",
    "start": "578339",
    "end": "581399"
  },
  {
    "text": "and that allows us to write a policy",
    "start": "581399",
    "end": "583019"
  },
  {
    "text": "that looks like this so if I have a",
    "start": "583019",
    "end": "585060"
  },
  {
    "text": "request",
    "start": "585060",
    "end": "586080"
  },
  {
    "text": "let's imagine that the boss is trying to",
    "start": "586080",
    "end": "587880"
  },
  {
    "text": "view salary information",
    "start": "587880",
    "end": "589339"
  },
  {
    "text": "if the organization chart permissions",
    "start": "589339",
    "end": "591839"
  },
  {
    "text": "object for the boss unit contains the",
    "start": "591839",
    "end": "596399"
  },
  {
    "text": "salaries value then that request is",
    "start": "596399",
    "end": "599940"
  },
  {
    "text": "allowed that's okay but if the interns",
    "start": "599940",
    "end": "602940"
  },
  {
    "text": "for example who don't have access to",
    "start": "602940",
    "end": "604440"
  },
  {
    "text": "salaries were to make the same request",
    "start": "604440",
    "end": "606019"
  },
  {
    "text": "they're they're not allowed",
    "start": "606019",
    "end": "608940"
  },
  {
    "text": "so",
    "start": "608940",
    "end": "610320"
  },
  {
    "text": "so hopefully you can see that you would",
    "start": "610320",
    "end": "612899"
  },
  {
    "text": "need to spend more time with the regular",
    "start": "612899",
    "end": "614279"
  },
  {
    "text": "language to really dig into this but",
    "start": "614279",
    "end": "615899"
  },
  {
    "text": "hopefully you can see some value in in",
    "start": "615899",
    "end": "617880"
  },
  {
    "text": "rhaego for writing policy code so this",
    "start": "617880",
    "end": "620220"
  },
  {
    "text": "but this talk is really about bringing",
    "start": "620220",
    "end": "621720"
  },
  {
    "text": "that to to your application with lots of",
    "start": "621720",
    "end": "624839"
  },
  {
    "text": "uh with webassembly and there are pros",
    "start": "624839",
    "end": "628140"
  },
  {
    "text": "and cons to using Opa and rasm within",
    "start": "628140",
    "end": "630779"
  },
  {
    "text": "your application versus using opa's",
    "start": "630779",
    "end": "632940"
  },
  {
    "text": "distributed server that you call but",
    "start": "632940",
    "end": "636120"
  },
  {
    "text": "some of the advantages of running it",
    "start": "636120",
    "end": "637980"
  },
  {
    "text": "within your application are that you can",
    "start": "637980",
    "end": "639420"
  },
  {
    "text": "get very fast feedback you can",
    "start": "639420",
    "end": "641459"
  },
  {
    "text": "standardize logic in places you wouldn't",
    "start": "641459",
    "end": "643320"
  },
  {
    "text": "have been able to before places you",
    "start": "643320",
    "end": "645180"
  },
  {
    "text": "couldn't run open before",
    "start": "645180",
    "end": "648000"
  },
  {
    "text": "um and use the same logic everywhere and",
    "start": "648000",
    "end": "649980"
  },
  {
    "text": "potentially get improved performance for",
    "start": "649980",
    "end": "651480"
  },
  {
    "text": "data intensive policies",
    "start": "651480",
    "end": "653640"
  },
  {
    "text": "so I'm going to give a brief demo now",
    "start": "653640",
    "end": "656040"
  },
  {
    "text": "where I've got",
    "start": "656040",
    "end": "658440"
  },
  {
    "text": "um a demo which is based on the booking",
    "start": "658440",
    "end": "660360"
  },
  {
    "text": "of train tickets where I've got an",
    "start": "660360",
    "end": "662519"
  },
  {
    "text": "example",
    "start": "662519",
    "end": "663720"
  },
  {
    "text": "go application which builds webs and",
    "start": "663720",
    "end": "666180"
  },
  {
    "text": "modules",
    "start": "666180",
    "end": "667220"
  },
  {
    "text": "as they are invoked by these two",
    "start": "667220",
    "end": "669360"
  },
  {
    "text": "different Services I've got booking API",
    "start": "669360",
    "end": "671700"
  },
  {
    "text": "and I've got a JavaScript web client and",
    "start": "671700",
    "end": "674339"
  },
  {
    "text": "now talking to each other over http",
    "start": "674339",
    "end": "676680"
  },
  {
    "text": "and both of these two services are going",
    "start": "676680",
    "end": "679320"
  },
  {
    "text": "to be enforcing policy logic which is",
    "start": "679320",
    "end": "681899"
  },
  {
    "text": "evaluated as a wasn't module which has",
    "start": "681899",
    "end": "684720"
  },
  {
    "text": "been generated based on some regular",
    "start": "684720",
    "end": "686220"
  },
  {
    "text": "code",
    "start": "686220",
    "end": "687300"
  },
  {
    "text": "so I'm going to show that now",
    "start": "687300",
    "end": "690120"
  },
  {
    "text": "um",
    "start": "690120",
    "end": "691079"
  },
  {
    "text": "come here",
    "start": "691079",
    "end": "692700"
  },
  {
    "text": "so",
    "start": "692700",
    "end": "694260"
  },
  {
    "text": "This Is My Demo application where I'm",
    "start": "694260",
    "end": "697440"
  },
  {
    "text": "going to be building my policy at the",
    "start": "697440",
    "end": "698940"
  },
  {
    "text": "moment it's blank but I have some",
    "start": "698940",
    "end": "700380"
  },
  {
    "text": "example policies I'm going to bring in",
    "start": "700380",
    "end": "701640"
  },
  {
    "text": "in a minute",
    "start": "701640",
    "end": "702839"
  },
  {
    "text": "this is my server interface where I'm",
    "start": "702839",
    "end": "705899"
  },
  {
    "text": "showing the list of bookings that have",
    "start": "705899",
    "end": "707700"
  },
  {
    "text": "been completed and this is my example",
    "start": "707700",
    "end": "710339"
  },
  {
    "text": "ticket booking application that I've",
    "start": "710339",
    "end": "712980"
  },
  {
    "text": "built to simulate what a train booking",
    "start": "712980",
    "end": "715260"
  },
  {
    "text": "UI might look like",
    "start": "715260",
    "end": "717899"
  },
  {
    "text": "so at the moment uh there's no",
    "start": "717899",
    "end": "720720"
  },
  {
    "text": "validation running no policy is loaded",
    "start": "720720",
    "end": "723060"
  },
  {
    "text": "into either the booking client or the",
    "start": "723060",
    "end": "725519"
  },
  {
    "text": "booking server so if I click book",
    "start": "725519",
    "end": "727380"
  },
  {
    "text": "tickets it's accepted immediately the",
    "start": "727380",
    "end": "729899"
  },
  {
    "text": "request is sent to the server and I have",
    "start": "729899",
    "end": "731519"
  },
  {
    "text": "an invalid booking is created in my in",
    "start": "731519",
    "end": "734640"
  },
  {
    "text": "my booking server we we don't really",
    "start": "734640",
    "end": "736260"
  },
  {
    "text": "want that we want to use open policy",
    "start": "736260",
    "end": "738680"
  },
  {
    "text": "distributed to these components with",
    "start": "738680",
    "end": "741240"
  },
  {
    "text": "webassembly to block such requests",
    "start": "741240",
    "end": "745079"
  },
  {
    "text": "so the first thing I think we're going",
    "start": "745079",
    "end": "747120"
  },
  {
    "text": "to validate is the email something that",
    "start": "747120",
    "end": "749339"
  },
  {
    "text": "we're all familiar with validating",
    "start": "749339",
    "end": "750959"
  },
  {
    "text": "perhaps so I'm going to bring in some",
    "start": "750959",
    "end": "753360"
  },
  {
    "text": "policy to do that just now",
    "start": "753360",
    "end": "756560"
  },
  {
    "text": "just going to update this",
    "start": "756660",
    "end": "759000"
  },
  {
    "text": "so it's not very exciting it's similar",
    "start": "759000",
    "end": "761519"
  },
  {
    "text": "to the policy we had at the beginning of",
    "start": "761519",
    "end": "762839"
  },
  {
    "text": "the talk we're validating we're going to",
    "start": "762839",
    "end": "765360"
  },
  {
    "text": "deny where the reason where the reason",
    "start": "765360",
    "end": "767040"
  },
  {
    "text": "is associated with the email field if we",
    "start": "767040",
    "end": "769860"
  },
  {
    "text": "find that the regular expression doesn't",
    "start": "769860",
    "end": "772320"
  },
  {
    "text": "the email provider doesn't match the",
    "start": "772320",
    "end": "774660"
  },
  {
    "text": "regular expression and we're also going",
    "start": "774660",
    "end": "776519"
  },
  {
    "text": "to provide another message if they're",
    "start": "776519",
    "end": "779040"
  },
  {
    "text": "using an example.com email address",
    "start": "779040",
    "end": "782459"
  },
  {
    "text": "so I've now updated my policy in my",
    "start": "782459",
    "end": "786019"
  },
  {
    "text": "configuration app and if I I'm going to",
    "start": "786019",
    "end": "788880"
  },
  {
    "text": "enforce this policy first on the server",
    "start": "788880",
    "end": "790560"
  },
  {
    "text": "so if I reload the policy on the server",
    "start": "790560",
    "end": "792720"
  },
  {
    "text": "and now submit the empty form again I",
    "start": "792720",
    "end": "794700"
  },
  {
    "text": "get a message from the server thing",
    "start": "794700",
    "end": "796139"
  },
  {
    "text": "might be quite small but from the server",
    "start": "796139",
    "end": "798959"
  },
  {
    "text": "saying that the email pattern must match",
    "start": "798959",
    "end": "801360"
  },
  {
    "text": "search and search",
    "start": "801360",
    "end": "802920"
  },
  {
    "text": "so I'm going to put my put an email",
    "start": "802920",
    "end": "804839"
  },
  {
    "text": "address in let's just test it out a bit",
    "start": "804839",
    "end": "806820"
  },
  {
    "text": "and",
    "start": "806820",
    "end": "809160"
  },
  {
    "text": "mix",
    "start": "809160",
    "end": "810240"
  },
  {
    "text": "um",
    "start": "810240",
    "end": "811019"
  },
  {
    "text": "immediately can't type as soon as you",
    "start": "811019",
    "end": "812820"
  },
  {
    "text": "stand up here",
    "start": "812820",
    "end": "814620"
  },
  {
    "text": "um so it's it's running the other part",
    "start": "814620",
    "end": "816600"
  },
  {
    "text": "of that rule as well so I'm going to",
    "start": "816600",
    "end": "818519"
  },
  {
    "text": "change it and put my my actual email",
    "start": "818519",
    "end": "820200"
  },
  {
    "text": "address in",
    "start": "820200",
    "end": "822120"
  },
  {
    "text": "yeah",
    "start": "822120",
    "end": "823560"
  },
  {
    "text": "I still can't type",
    "start": "823560",
    "end": "825060"
  },
  {
    "text": "and now it's been accepted and if I",
    "start": "825060",
    "end": "828839"
  },
  {
    "text": "reload our bookings we can see that my",
    "start": "828839",
    "end": "831060"
  },
  {
    "text": "booking has gone through but we have",
    "start": "831060",
    "end": "832560"
  },
  {
    "text": "some other validations that we want to",
    "start": "832560",
    "end": "833940"
  },
  {
    "text": "quickly put in place as well",
    "start": "833940",
    "end": "835920"
  },
  {
    "text": "so the next thing I'm going to validate",
    "start": "835920",
    "end": "837959"
  },
  {
    "text": "is these from and two Fields so I'm",
    "start": "837959",
    "end": "840839"
  },
  {
    "text": "going to show you the policy for this",
    "start": "840839",
    "end": "842040"
  },
  {
    "text": "now",
    "start": "842040",
    "end": "843680"
  },
  {
    "text": "it's going to update this",
    "start": "843680",
    "end": "847459"
  },
  {
    "text": "okay",
    "start": "848880",
    "end": "849779"
  },
  {
    "text": "so we want to make sure that the",
    "start": "849779",
    "end": "852779"
  },
  {
    "text": "departure and destination station are",
    "start": "852779",
    "end": "854279"
  },
  {
    "text": "different so we can write a simple rule",
    "start": "854279",
    "end": "856200"
  },
  {
    "text": "that says if they're equal we should",
    "start": "856200",
    "end": "857639"
  },
  {
    "text": "show a message we want to make sure",
    "start": "857639",
    "end": "859620"
  },
  {
    "text": "they're both set so none is the value",
    "start": "859620",
    "end": "861600"
  },
  {
    "text": "that is provided if they're not set we",
    "start": "861600",
    "end": "863519"
  },
  {
    "text": "can return another message in that case",
    "start": "863519",
    "end": "865260"
  },
  {
    "text": "but we also want to make sure that we",
    "start": "865260",
    "end": "867180"
  },
  {
    "text": "book stations that are within the same",
    "start": "867180",
    "end": "869040"
  },
  {
    "text": "area so the two areas that I have",
    "start": "869040",
    "end": "871380"
  },
  {
    "text": "bothered to Define are Europe and Japan",
    "start": "871380",
    "end": "873600"
  },
  {
    "text": "you can't take a train from Europe to",
    "start": "873600",
    "end": "875639"
  },
  {
    "text": "Japan so",
    "start": "875639",
    "end": "877079"
  },
  {
    "text": "um these are my two areas that I'm using",
    "start": "877079",
    "end": "879420"
  },
  {
    "text": "so we're going to make sure that people",
    "start": "879420",
    "end": "881160"
  },
  {
    "text": "book from and within an area and we do",
    "start": "881160",
    "end": "885180"
  },
  {
    "text": "that by by using this object and looking",
    "start": "885180",
    "end": "887339"
  },
  {
    "text": "up the area for each the departure and",
    "start": "887339",
    "end": "889800"
  },
  {
    "text": "destination station and if they're",
    "start": "889800",
    "end": "891000"
  },
  {
    "text": "different we produce a message",
    "start": "891000",
    "end": "893760"
  },
  {
    "text": "so I'm going to reload the policy on the",
    "start": "893760",
    "end": "895320"
  },
  {
    "text": "client this time and we'll see that the",
    "start": "895320",
    "end": "897660"
  },
  {
    "text": "validation is happening on the client",
    "start": "897660",
    "end": "899880"
  },
  {
    "text": "side now so if I try and book a train",
    "start": "899880",
    "end": "901860"
  },
  {
    "text": "from Amsterdam",
    "start": "901860",
    "end": "903779"
  },
  {
    "text": "um it says it's now the policy has been",
    "start": "903779",
    "end": "906240"
  },
  {
    "text": "evaluated in wasm and you see the",
    "start": "906240",
    "end": "908399"
  },
  {
    "text": "responses immediate this hasn't gone",
    "start": "908399",
    "end": "910560"
  },
  {
    "text": "through to the server it's been blocked",
    "start": "910560",
    "end": "912320"
  },
  {
    "text": "and it's telling me that the departure",
    "start": "912320",
    "end": "914399"
  },
  {
    "text": "and destination station must be set if I",
    "start": "914399",
    "end": "916800"
  },
  {
    "text": "choose Amsterdam to Tokyo try and book",
    "start": "916800",
    "end": "919019"
  },
  {
    "text": "the ticket it will show me that the",
    "start": "919019",
    "end": "920399"
  },
  {
    "text": "route must be within the same area so",
    "start": "920399",
    "end": "922440"
  },
  {
    "text": "instead let's go to Paris",
    "start": "922440",
    "end": "925440"
  },
  {
    "text": "so now",
    "start": "925440",
    "end": "926820"
  },
  {
    "text": "um that booking's gone through so we've",
    "start": "926820",
    "end": "928620"
  },
  {
    "text": "done we're now doing validation of the",
    "start": "928620",
    "end": "930660"
  },
  {
    "text": "of these rules on the client and on the",
    "start": "930660",
    "end": "932579"
  },
  {
    "text": "server",
    "start": "932579",
    "end": "933899"
  },
  {
    "text": "all based on this regular code",
    "start": "933899",
    "end": "936360"
  },
  {
    "text": "so I've got some other things we need to",
    "start": "936360",
    "end": "938760"
  },
  {
    "text": "validate as well though the first thing",
    "start": "938760",
    "end": "940380"
  },
  {
    "text": "we're going to make sure is we're going",
    "start": "940380",
    "end": "941399"
  },
  {
    "text": "to make sure that users submit at least",
    "start": "941399",
    "end": "944579"
  },
  {
    "text": "the Ninja Book at least one ticket",
    "start": "944579",
    "end": "946339"
  },
  {
    "text": "because if they book zero tickets it",
    "start": "946339",
    "end": "948779"
  },
  {
    "text": "doesn't really mean anything",
    "start": "948779",
    "end": "950699"
  },
  {
    "text": "and that's very simple we're just going",
    "start": "950699",
    "end": "952199"
  },
  {
    "text": "to do a simple comparison with a with a",
    "start": "952199",
    "end": "954959"
  },
  {
    "text": "number and check that that's correct",
    "start": "954959",
    "end": "957720"
  },
  {
    "text": "um so if I reload the policy again and",
    "start": "957720",
    "end": "959760"
  },
  {
    "text": "try booking the tickets it says that I",
    "start": "959760",
    "end": "961680"
  },
  {
    "text": "must have at least one passenger",
    "start": "961680",
    "end": "964199"
  },
  {
    "text": "the other thing that we want to check",
    "start": "964199",
    "end": "965519"
  },
  {
    "text": "though and this is I've got a slightly",
    "start": "965519",
    "end": "967260"
  },
  {
    "text": "more involved policy is I want to make",
    "start": "967260",
    "end": "969300"
  },
  {
    "text": "sure that users are so so on my on my",
    "start": "969300",
    "end": "973019"
  },
  {
    "text": "trains I imagine that I'm running the",
    "start": "973019",
    "end": "975660"
  },
  {
    "text": "strain company like I want people to",
    "start": "975660",
    "end": "978240"
  },
  {
    "text": "make sure that they book their seats",
    "start": "978240",
    "end": "979560"
  },
  {
    "text": "next to each other so that we people are",
    "start": "979560",
    "end": "981660"
  },
  {
    "text": "sitting with their friends and that they",
    "start": "981660",
    "end": "983459"
  },
  {
    "text": "they aren't leaving odd seats out and",
    "start": "983459",
    "end": "985380"
  },
  {
    "text": "making the train fill up in an awkward",
    "start": "985380",
    "end": "987420"
  },
  {
    "text": "way",
    "start": "987420",
    "end": "988440"
  },
  {
    "text": "so instead of what I've tried to Define",
    "start": "988440",
    "end": "990420"
  },
  {
    "text": "as a policy that says that it'd be valid",
    "start": "990420",
    "end": "992639"
  },
  {
    "text": "to book seats that are next to each",
    "start": "992639",
    "end": "994320"
  },
  {
    "text": "other but it wouldn't be valid the book",
    "start": "994320",
    "end": "996240"
  },
  {
    "text": "seats that are all over the place",
    "start": "996240",
    "end": "998759"
  },
  {
    "text": "and so what I've done is I've defined a",
    "start": "998759",
    "end": "1000620"
  },
  {
    "text": "policy which has a seat adjacency Matrix",
    "start": "1000620",
    "end": "1003680"
  },
  {
    "text": "or graph if you like",
    "start": "1003680",
    "end": "1005959"
  },
  {
    "text": "um where and I'm going to use that same",
    "start": "1005959",
    "end": "1007959"
  },
  {
    "text": "graph.reachable function which is built",
    "start": "1007959",
    "end": "1010160"
  },
  {
    "text": "into Rego to determine whether or not",
    "start": "1010160",
    "end": "1012560"
  },
  {
    "text": "this booking of seats is is valid so we",
    "start": "1012560",
    "end": "1015980"
  },
  {
    "text": "find the seats that the user has",
    "start": "1015980",
    "end": "1018320"
  },
  {
    "text": "selected we then go and find all of the",
    "start": "1018320",
    "end": "1021680"
  },
  {
    "text": "reachable seats all of the adjacent",
    "start": "1021680",
    "end": "1023120"
  },
  {
    "text": "seats to that one and for each seat",
    "start": "1023120",
    "end": "1025819"
  },
  {
    "text": "that's selected if we find that",
    "start": "1025819",
    "end": "1029298"
  },
  {
    "text": "um it's adjacent to seats which aren't",
    "start": "1029299",
    "end": "1031339"
  },
  {
    "text": "also also in the reachable set then we",
    "start": "1031339",
    "end": "1033980"
  },
  {
    "text": "can produce a another error message",
    "start": "1033980",
    "end": "1036199"
  },
  {
    "text": "saying that we have seats that aren't",
    "start": "1036199",
    "end": "1037699"
  },
  {
    "text": "adjacent so I've updated that let's",
    "start": "1037699",
    "end": "1040520"
  },
  {
    "text": "update the policy",
    "start": "1040520",
    "end": "1042860"
  },
  {
    "text": "um so if I book my tickets now it's",
    "start": "1042860",
    "end": "1045798"
  },
  {
    "text": "going to give me a warning say that I've",
    "start": "1045799",
    "end": "1046938"
  },
  {
    "text": "got to book at least one so if I book",
    "start": "1046939",
    "end": "1048740"
  },
  {
    "text": "one seat that's no that's fine that",
    "start": "1048740",
    "end": "1050900"
  },
  {
    "text": "should be allowed you can't book",
    "start": "1050900",
    "end": "1052700"
  },
  {
    "text": "adjacent seats if you're only booking",
    "start": "1052700",
    "end": "1054440"
  },
  {
    "text": "one but if I want to book two seats",
    "start": "1054440",
    "end": "1057080"
  },
  {
    "text": "I should be able to book these two seats",
    "start": "1057080",
    "end": "1059059"
  },
  {
    "text": "that should be allowed but if I want to",
    "start": "1059059",
    "end": "1061039"
  },
  {
    "text": "book these two seats which aren't",
    "start": "1061039",
    "end": "1062539"
  },
  {
    "text": "adjacent to each other that should be",
    "start": "1062539",
    "end": "1064280"
  },
  {
    "text": "denied",
    "start": "1064280",
    "end": "1065299"
  },
  {
    "text": "so here it's giving me a warning it's",
    "start": "1065299",
    "end": "1066860"
  },
  {
    "text": "saying seat 12 which is this one is not",
    "start": "1066860",
    "end": "1069020"
  },
  {
    "text": "adjacent to any other selected seats and",
    "start": "1069020",
    "end": "1070760"
  },
  {
    "text": "seat one is also not adjacent to any",
    "start": "1070760",
    "end": "1073039"
  },
  {
    "text": "other selected seats",
    "start": "1073039",
    "end": "1075260"
  },
  {
    "text": "and again because without saying like I",
    "start": "1075260",
    "end": "1078620"
  },
  {
    "text": "can reload this policy on the server and",
    "start": "1078620",
    "end": "1082340"
  },
  {
    "text": "if I refresh my page which will clear",
    "start": "1082340",
    "end": "1085160"
  },
  {
    "text": "the policy that's been loaded in the",
    "start": "1085160",
    "end": "1086780"
  },
  {
    "text": "client and I submit the empty form now",
    "start": "1086780",
    "end": "1089480"
  },
  {
    "text": "it's giving me warnings which are coming",
    "start": "1089480",
    "end": "1092240"
  },
  {
    "text": "back from the service I'm enforcing that",
    "start": "1092240",
    "end": "1093860"
  },
  {
    "text": "policy and policy the exact same policy",
    "start": "1093860",
    "end": "1096140"
  },
  {
    "text": "in two places",
    "start": "1096140",
    "end": "1097820"
  },
  {
    "text": "so yeah um that's that's the end of the",
    "start": "1097820",
    "end": "1100640"
  },
  {
    "text": "demo uh that's I think it's interesting",
    "start": "1100640",
    "end": "1103760"
  },
  {
    "text": "to see how you can distribute the policy",
    "start": "1103760",
    "end": "1107240"
  },
  {
    "text": "and as it was a module relatively easily",
    "start": "1107240",
    "end": "1109880"
  },
  {
    "text": "to different",
    "start": "1109880",
    "end": "1111440"
  },
  {
    "text": "um to different applications in your",
    "start": "1111440",
    "end": "1112880"
  },
  {
    "text": "stack",
    "start": "1112880",
    "end": "1113840"
  },
  {
    "text": "I'm just going to jump back to my uh",
    "start": "1113840",
    "end": "1116900"
  },
  {
    "text": "presentation",
    "start": "1116900",
    "end": "1119679"
  },
  {
    "text": "so",
    "start": "1119720",
    "end": "1121840"
  },
  {
    "text": "I wanna I wanna just take a little bit",
    "start": "1121840",
    "end": "1124580"
  },
  {
    "text": "of time to talk about",
    "start": "1124580",
    "end": "1126760"
  },
  {
    "text": "webassembly in in the OPA project and",
    "start": "1126760",
    "end": "1130039"
  },
  {
    "text": "what the history is and the State of",
    "start": "1130039",
    "end": "1132140"
  },
  {
    "text": "Affairs where we are today and um and",
    "start": "1132140",
    "end": "1135200"
  },
  {
    "text": "and maybe give some ideas for how people",
    "start": "1135200",
    "end": "1136940"
  },
  {
    "text": "might be able to get involved",
    "start": "1136940",
    "end": "1139160"
  },
  {
    "text": "so",
    "start": "1139160",
    "end": "1140720"
  },
  {
    "text": "um and this as this comes with a",
    "start": "1140720",
    "end": "1142520"
  },
  {
    "text": "disclaimer this is this predates my",
    "start": "1142520",
    "end": "1144320"
  },
  {
    "text": "involvement in the open project it",
    "start": "1144320",
    "end": "1146960"
  },
  {
    "text": "predates my joining styra and working",
    "start": "1146960",
    "end": "1149179"
  },
  {
    "text": "full-time with the open project so this",
    "start": "1149179",
    "end": "1151460"
  },
  {
    "text": "has been a little bit of a history",
    "start": "1151460",
    "end": "1152360"
  },
  {
    "text": "lesson for myself in in working out how",
    "start": "1152360",
    "end": "1154520"
  },
  {
    "text": "this has pieced together",
    "start": "1154520",
    "end": "1156320"
  },
  {
    "text": "so roll back to 2018",
    "start": "1156320",
    "end": "1159620"
  },
  {
    "text": "um we we had this idea oppa is this open",
    "start": "1159620",
    "end": "1163340"
  },
  {
    "text": "policy agent it runs adjacent to",
    "start": "1163340",
    "end": "1165980"
  },
  {
    "text": "applications in a distributed system and",
    "start": "1165980",
    "end": "1168260"
  },
  {
    "text": "you call it over over a local connection",
    "start": "1168260",
    "end": "1171020"
  },
  {
    "text": "over an HTTP API",
    "start": "1171020",
    "end": "1174260"
  },
  {
    "text": "this is this poses a challenge to some",
    "start": "1174260",
    "end": "1176240"
  },
  {
    "text": "users and it it poses a challenge to the",
    "start": "1176240",
    "end": "1178460"
  },
  {
    "text": "goal of being a general purpose policy",
    "start": "1178460",
    "end": "1180380"
  },
  {
    "text": "engine which you can use everywhere",
    "start": "1180380",
    "end": "1182080"
  },
  {
    "text": "everywhere also includes places where",
    "start": "1182080",
    "end": "1184880"
  },
  {
    "text": "you can't run an arbitrary server",
    "start": "1184880",
    "end": "1188080"
  },
  {
    "text": "container or something like it I think a",
    "start": "1188080",
    "end": "1190940"
  },
  {
    "text": "good example is a CDN so and around this",
    "start": "1190940",
    "end": "1194059"
  },
  {
    "text": "time we're starting to see some of the",
    "start": "1194059",
    "end": "1195679"
  },
  {
    "text": "content delivery networks provide",
    "start": "1195679",
    "end": "1198140"
  },
  {
    "text": "functionality based on wasm and when I",
    "start": "1198140",
    "end": "1201320"
  },
  {
    "text": "suppose the writing then is on the wall",
    "start": "1201320",
    "end": "1202760"
  },
  {
    "text": "saying",
    "start": "1202760",
    "end": "1204559"
  },
  {
    "text": "look you're not going to be able to run",
    "start": "1204559",
    "end": "1206120"
  },
  {
    "text": "over everywhere opa's not going to be",
    "start": "1206120",
    "end": "1207799"
  },
  {
    "text": "able to run here and so I suppose that",
    "start": "1207799",
    "end": "1210020"
  },
  {
    "text": "was what kicked off the creation of this",
    "start": "1210020",
    "end": "1212299"
  },
  {
    "text": "functionality in Opa at the same time",
    "start": "1212299",
    "end": "1214820"
  },
  {
    "text": "like the",
    "start": "1214820",
    "end": "1216260"
  },
  {
    "text": "the initial",
    "start": "1216260",
    "end": "1217880"
  },
  {
    "text": "um proof of concept that we developed we",
    "start": "1217880",
    "end": "1220100"
  },
  {
    "text": "saw good some good performance",
    "start": "1220100",
    "end": "1221840"
  },
  {
    "text": "improvements for data intensive policies",
    "start": "1221840",
    "end": "1223520"
  },
  {
    "text": "which I suppose pushed it on and getting",
    "start": "1223520",
    "end": "1226039"
  },
  {
    "text": "to getting this into into merged in and",
    "start": "1226039",
    "end": "1229400"
  },
  {
    "text": "into something that we're actually",
    "start": "1229400",
    "end": "1230660"
  },
  {
    "text": "working with and using and adopted in",
    "start": "1230660",
    "end": "1233059"
  },
  {
    "text": "the project and that also triggered I",
    "start": "1233059",
    "end": "1236000"
  },
  {
    "text": "suppose being able to develop the first",
    "start": "1236000",
    "end": "1238160"
  },
  {
    "text": "node node.js SDK for Opa for open wasm",
    "start": "1238160",
    "end": "1242419"
  },
  {
    "text": "modules",
    "start": "1242419",
    "end": "1244520"
  },
  {
    "text": "at the moment",
    "start": "1244520",
    "end": "1246200"
  },
  {
    "text": "um we now have there was some support",
    "start": "1246200",
    "end": "1248539"
  },
  {
    "text": "it's available it's ready for people to",
    "start": "1248539",
    "end": "1250820"
  },
  {
    "text": "use in Opa today we also have a range of",
    "start": "1250820",
    "end": "1253580"
  },
  {
    "text": "sdks for specific languages these are",
    "start": "1253580",
    "end": "1256460"
  },
  {
    "text": "the languages that we support today I've",
    "start": "1256460",
    "end": "1257960"
  },
  {
    "text": "made use of the Python SDK which is a",
    "start": "1257960",
    "end": "1260419"
  },
  {
    "text": "community developed",
    "start": "1260419",
    "end": "1262299"
  },
  {
    "text": "Opa wasm evaluation module I've also",
    "start": "1262299",
    "end": "1266720"
  },
  {
    "text": "made use of the node.js fund which is",
    "start": "1266720",
    "end": "1268360"
  },
  {
    "text": "officially implemented",
    "start": "1268360",
    "end": "1271580"
  },
  {
    "text": "um and we have good support depending on",
    "start": "1271580",
    "end": "1273860"
  },
  {
    "text": "whether you have a glass off empty or",
    "start": "1273860",
    "end": "1275600"
  },
  {
    "text": "half full view of the world good support",
    "start": "1275600",
    "end": "1277700"
  },
  {
    "text": "for the range of the Rego functions",
    "start": "1277700",
    "end": "1281000"
  },
  {
    "text": "regular built-in functions",
    "start": "1281000",
    "end": "1284120"
  },
  {
    "text": "looking forward into the future I think",
    "start": "1284120",
    "end": "1287120"
  },
  {
    "text": "it's an interesting point to end on like",
    "start": "1287120",
    "end": "1289940"
  },
  {
    "text": "how and particularly for this audience",
    "start": "1289940",
    "end": "1291799"
  },
  {
    "text": "you know based on this morning there's a",
    "start": "1291799",
    "end": "1293600"
  },
  {
    "text": "lot of wasm expertise in the room and it",
    "start": "1293600",
    "end": "1296480"
  },
  {
    "text": "would be exciting for me to speak to",
    "start": "1296480",
    "end": "1299179"
  },
  {
    "text": "some of you who are interested if there",
    "start": "1299179",
    "end": "1301039"
  },
  {
    "text": "are any of you who are interested as to",
    "start": "1301039",
    "end": "1303020"
  },
  {
    "text": "how we might move the wasm support in",
    "start": "1303020",
    "end": "1305720"
  },
  {
    "text": "Opa forward",
    "start": "1305720",
    "end": "1307340"
  },
  {
    "text": "so",
    "start": "1307340",
    "end": "1308659"
  },
  {
    "text": "the way that Opa works is in the servers",
    "start": "1308659",
    "end": "1312200"
  },
  {
    "text": "we load in potentially quite a large",
    "start": "1312200",
    "end": "1314000"
  },
  {
    "text": "amount of data and then have multiple",
    "start": "1314000",
    "end": "1316220"
  },
  {
    "text": "threads of policy evaluation running at",
    "start": "1316220",
    "end": "1318260"
  },
  {
    "text": "any one time operating on that same data",
    "start": "1318260",
    "end": "1320299"
  },
  {
    "text": "I think this is an interest interesting",
    "start": "1320299",
    "end": "1321980"
  },
  {
    "text": "use case for some threads that's",
    "start": "1321980",
    "end": "1324260"
  },
  {
    "text": "something that wasn't really available",
    "start": "1324260",
    "end": "1326000"
  },
  {
    "text": "when Oprah was initially implementing",
    "start": "1326000",
    "end": "1329059"
  },
  {
    "text": "wasm support that's the issue that's the",
    "start": "1329059",
    "end": "1331460"
  },
  {
    "text": "first issue",
    "start": "1331460",
    "end": "1333679"
  },
  {
    "text": "um Native support within for support for",
    "start": "1333679",
    "end": "1336799"
  },
  {
    "text": "Envoy filters uh we don't we don't have",
    "start": "1336799",
    "end": "1339260"
  },
  {
    "text": "that at the moment",
    "start": "1339260",
    "end": "1340820"
  },
  {
    "text": "um that would we already have a lot of",
    "start": "1340820",
    "end": "1342620"
  },
  {
    "text": "people who are using Envoy and opa",
    "start": "1342620",
    "end": "1344539"
  },
  {
    "text": "together that would be a really great",
    "start": "1344539",
    "end": "1345679"
  },
  {
    "text": "feature for a lot of them",
    "start": "1345679",
    "end": "1347720"
  },
  {
    "text": "um that's the issue for this one",
    "start": "1347720",
    "end": "1350480"
  },
  {
    "text": "um",
    "start": "1350480",
    "end": "1351200"
  },
  {
    "text": "and also I think flipping that around",
    "start": "1351200",
    "end": "1353600"
  },
  {
    "text": "also you know we had to talk earlier",
    "start": "1353600",
    "end": "1355760"
  },
  {
    "text": "about extensions and a generic extension",
    "start": "1355760",
    "end": "1358159"
  },
  {
    "text": "interface based on on wasm like being",
    "start": "1358159",
    "end": "1361520"
  },
  {
    "text": "able to extend the regular language",
    "start": "1361520",
    "end": "1363020"
  },
  {
    "text": "being able to extend oppa perhaps in",
    "start": "1363020",
    "end": "1364880"
  },
  {
    "text": "other ways with webassembly is another",
    "start": "1364880",
    "end": "1367159"
  },
  {
    "text": "really interesting interesting idea and",
    "start": "1367159",
    "end": "1370100"
  },
  {
    "text": "that's that's the third issue that I",
    "start": "1370100",
    "end": "1371900"
  },
  {
    "text": "link to there of course there's always",
    "start": "1371900",
    "end": "1373940"
  },
  {
    "text": "the",
    "start": "1373940",
    "end": "1374960"
  },
  {
    "text": "a list of to do built-in functions as",
    "start": "1374960",
    "end": "1377900"
  },
  {
    "text": "well",
    "start": "1377900",
    "end": "1378679"
  },
  {
    "text": "as I say new contributors have been very",
    "start": "1378679",
    "end": "1380539"
  },
  {
    "text": "welcome",
    "start": "1380539",
    "end": "1382159"
  },
  {
    "text": "so um yeah if you want to get the slides",
    "start": "1382159",
    "end": "1385340"
  },
  {
    "text": "or any of these links this first link I",
    "start": "1385340",
    "end": "1387799"
  },
  {
    "text": "kind of aggregate them all there",
    "start": "1387799",
    "end": "1390500"
  },
  {
    "text": "um you might want to go and read the",
    "start": "1390500",
    "end": "1391460"
  },
  {
    "text": "open docs",
    "start": "1391460",
    "end": "1393620"
  },
  {
    "text": "my colleague Anders has a has a awesome",
    "start": "1393620",
    "end": "1396440"
  },
  {
    "text": "open list which contains a list to links",
    "start": "1396440",
    "end": "1399380"
  },
  {
    "text": "to various other opal bars and projects",
    "start": "1399380",
    "end": "1401120"
  },
  {
    "text": "including the sdks that I've used today",
    "start": "1401120",
    "end": "1403179"
  },
  {
    "text": "the code is available at the at the top",
    "start": "1403179",
    "end": "1406580"
  },
  {
    "text": "for the first link and that initial",
    "start": "1406580",
    "end": "1408559"
  },
  {
    "text": "proof of concept blog is available on",
    "start": "1408559",
    "end": "1410900"
  },
  {
    "text": "the open policy agent blog as well",
    "start": "1410900",
    "end": "1413120"
  },
  {
    "text": "and just a little shout out we have an",
    "start": "1413120",
    "end": "1414679"
  },
  {
    "text": "open Meetup this evening I checked",
    "start": "1414679",
    "end": "1416659"
  },
  {
    "text": "before lunch and there was still some",
    "start": "1416659",
    "end": "1417679"
  },
  {
    "text": "spaces",
    "start": "1417679",
    "end": "1418760"
  },
  {
    "text": "um so if anybody's interested please",
    "start": "1418760",
    "end": "1420260"
  },
  {
    "text": "come along to that as well",
    "start": "1420260",
    "end": "1422240"
  },
  {
    "text": "so again",
    "start": "1422240",
    "end": "1423440"
  },
  {
    "text": "um you can find me at these places I'm",
    "start": "1423440",
    "end": "1425240"
  },
  {
    "text": "going to be around all kubecon I'll be",
    "start": "1425240",
    "end": "1427100"
  },
  {
    "text": "at the OPA stall a fair bit",
    "start": "1427100",
    "end": "1429320"
  },
  {
    "text": "um thanks very much thanks for listening",
    "start": "1429320",
    "end": "1431600"
  },
  {
    "text": "[Applause]",
    "start": "1431600",
    "end": "1436039"
  },
  {
    "text": "yes this was absolutely fantastic and I",
    "start": "1436039",
    "end": "1439220"
  },
  {
    "text": "think one of the things I love about",
    "start": "1439220",
    "end": "1440419"
  },
  {
    "text": "this is it really shows the power of",
    "start": "1440419",
    "end": "1443360"
  },
  {
    "text": "webassembly of being able to execute the",
    "start": "1443360",
    "end": "1446240"
  },
  {
    "text": "exact same policy on your front end and",
    "start": "1446240",
    "end": "1449120"
  },
  {
    "text": "back-end down to the literal bites if",
    "start": "1449120",
    "end": "1451700"
  },
  {
    "text": "you want to shows just how powerful this",
    "start": "1451700",
    "end": "1453980"
  },
  {
    "text": "stuff freaking is so this is amazing and",
    "start": "1453980",
    "end": "1457039"
  },
  {
    "text": "I definitely have questions but I want",
    "start": "1457039",
    "end": "1458299"
  },
  {
    "text": "to open it up to the audience uh anyone",
    "start": "1458299",
    "end": "1460100"
  },
  {
    "text": "here have any questions about anything",
    "start": "1460100",
    "end": "1462220"
  },
  {
    "text": "that was just discussed here this is",
    "start": "1462220",
    "end": "1464659"
  },
  {
    "text": "really amazing stuff",
    "start": "1464659",
    "end": "1467620"
  },
  {
    "text": "please go ahead and introduce yourself",
    "start": "1470059",
    "end": "1473000"
  },
  {
    "text": "uh hello I'm Roman from cosmonic",
    "start": "1473000",
    "end": "1476360"
  },
  {
    "text": "um so I don't know if you've looked at",
    "start": "1476360",
    "end": "1477799"
  },
  {
    "text": "component model at all and um wasn't yet",
    "start": "1477799",
    "end": "1480940"
  },
  {
    "text": "but so one thing currently missing from",
    "start": "1480940",
    "end": "1483860"
  },
  {
    "text": "like with interfaces is something like",
    "start": "1483860",
    "end": "1486140"
  },
  {
    "text": "validation for example if you're like",
    "start": "1486140",
    "end": "1487700"
  },
  {
    "text": "data structures and you know like maybe",
    "start": "1487700",
    "end": "1490640"
  },
  {
    "text": "some more",
    "start": "1490640",
    "end": "1491960"
  },
  {
    "text": "um complex policies you could add on",
    "start": "1491960",
    "end": "1493520"
  },
  {
    "text": "like how when you can call this function",
    "start": "1493520",
    "end": "1495200"
  },
  {
    "text": "you cannot call this functional kind of",
    "start": "1495200",
    "end": "1496640"
  },
  {
    "text": "arguments you know like things like that",
    "start": "1496640",
    "end": "1498260"
  },
  {
    "text": "so",
    "start": "1498260",
    "end": "1499880"
  },
  {
    "text": "um could like the technology you showed",
    "start": "1499880",
    "end": "1502159"
  },
  {
    "text": "be used somehow might be close to say",
    "start": "1502159",
    "end": "1505100"
  },
  {
    "text": "the or you can think like a Proto Buffs",
    "start": "1505100",
    "end": "1507860"
  },
  {
    "text": "and there was like product get validate",
    "start": "1507860",
    "end": "1509419"
  },
  {
    "text": "I don't know if you used a Proto boss",
    "start": "1509419",
    "end": "1510620"
  },
  {
    "text": "before but like it's also something like",
    "start": "1510620",
    "end": "1512419"
  },
  {
    "text": "you could like add annotations to",
    "start": "1512419",
    "end": "1514100"
  },
  {
    "text": "validate fields and whatnot so could",
    "start": "1514100",
    "end": "1516860"
  },
  {
    "text": "this technology be used somehow maybe",
    "start": "1516860",
    "end": "1518780"
  },
  {
    "text": "together with width and close and to",
    "start": "1518780",
    "end": "1521419"
  },
  {
    "text": "kind of validate things on the Fly could",
    "start": "1521419",
    "end": "1523340"
  },
  {
    "text": "be like a layer in between you know",
    "start": "1523340",
    "end": "1525200"
  },
  {
    "text": "between the request going to the to the",
    "start": "1525200",
    "end": "1527480"
  },
  {
    "text": "host or validating stuff I think",
    "start": "1527480",
    "end": "1530179"
  },
  {
    "text": "potentially",
    "start": "1530179",
    "end": "1531380"
  },
  {
    "text": "um but maybe not right away I think like",
    "start": "1531380",
    "end": "1534020"
  },
  {
    "text": "if if I'm correct your question is about",
    "start": "1534020",
    "end": "1536720"
  },
  {
    "text": "sort of using this as a sort of",
    "start": "1536720",
    "end": "1539200"
  },
  {
    "text": "pre-validation Step based on some known",
    "start": "1539200",
    "end": "1542659"
  },
  {
    "text": "schema of input yeah so so actually a",
    "start": "1542659",
    "end": "1545720"
  },
  {
    "text": "relatively new feature to land in Opa",
    "start": "1545720",
    "end": "1547940"
  },
  {
    "text": "and in Rego but the go",
    "start": "1547940",
    "end": "1550700"
  },
  {
    "text": "um run time for Rego is Jason schema",
    "start": "1550700",
    "end": "1554419"
  },
  {
    "text": "validation so you can say if this object",
    "start": "1554419",
    "end": "1557600"
  },
  {
    "text": "that was provided as input to the policy",
    "start": "1557600",
    "end": "1559520"
  },
  {
    "text": "isn't conformant with this Json schema",
    "start": "1559520",
    "end": "1561740"
  },
  {
    "text": "then return a result in the same way",
    "start": "1561740",
    "end": "1564260"
  },
  {
    "text": "that I was using these built-in",
    "start": "1564260",
    "end": "1565340"
  },
  {
    "text": "functions here that that's not supported",
    "start": "1565340",
    "end": "1567380"
  },
  {
    "text": "in wasm yet in in the way that we've",
    "start": "1567380",
    "end": "1570200"
  },
  {
    "text": "implemented you could always",
    "start": "1570200",
    "end": "1572000"
  },
  {
    "text": "um it could we could either support it",
    "start": "1572000",
    "end": "1573620"
  },
  {
    "text": "by adding those functions as external to",
    "start": "1573620",
    "end": "1576080"
  },
  {
    "text": "the sdks or we could add it to Amazon",
    "start": "1576080",
    "end": "1579320"
  },
  {
    "text": "but it would involve some C code",
    "start": "1579320",
    "end": "1581720"
  },
  {
    "text": "um and I'm not sure exactly what's",
    "start": "1581720",
    "end": "1583400"
  },
  {
    "text": "available there in order to do that I",
    "start": "1583400",
    "end": "1585500"
  },
  {
    "text": "think that's probably like",
    "start": "1585500",
    "end": "1587000"
  },
  {
    "text": "how I would imagine solving that problem",
    "start": "1587000",
    "end": "1588799"
  },
  {
    "text": "but there are maybe other ways you could",
    "start": "1588799",
    "end": "1591140"
  },
  {
    "text": "you could do that as well I suppose if",
    "start": "1591140",
    "end": "1593120"
  },
  {
    "text": "you wanted to make manual checks against",
    "start": "1593120",
    "end": "1595340"
  },
  {
    "text": "input you could obviously do that but",
    "start": "1595340",
    "end": "1597140"
  },
  {
    "text": "Jason schema I guess is how we often see",
    "start": "1597140",
    "end": "1599659"
  },
  {
    "text": "people wanting to do that",
    "start": "1599659",
    "end": "1601520"
  },
  {
    "text": "um so yeah kind of maybe I guess uh on",
    "start": "1601520",
    "end": "1604580"
  },
  {
    "text": "the answer I guess I don't know if that",
    "start": "1604580",
    "end": "1605960"
  },
  {
    "text": "answers your question",
    "start": "1605960",
    "end": "1607159"
  },
  {
    "text": "it does yes thanks uh but so like maybe",
    "start": "1607159",
    "end": "1609559"
  },
  {
    "text": "like a quick follow-up so but you you",
    "start": "1609559",
    "end": "1611720"
  },
  {
    "text": "validate Json then like or what is the",
    "start": "1611720",
    "end": "1613940"
  },
  {
    "text": "format of this data yeah the data for",
    "start": "1613940",
    "end": "1616100"
  },
  {
    "text": "Opa is Json yeah",
    "start": "1616100",
    "end": "1618140"
  },
  {
    "text": "um it's all based on input and output",
    "start": "1618140",
    "end": "1620600"
  },
  {
    "text": "Json data yeah",
    "start": "1620600",
    "end": "1622340"
  },
  {
    "text": "uh I'm I'm not familiar with any other",
    "start": "1622340",
    "end": "1625940"
  },
  {
    "text": "it's it's all it's all pretty heavily",
    "start": "1625940",
    "end": "1628279"
  },
  {
    "text": "based on Json at the moment yeah",
    "start": "1628279",
    "end": "1631900"
  },
  {
    "text": "any other questions from folks",
    "start": "1632779",
    "end": "1636460"
  },
  {
    "text": "all right and especially like for me as",
    "start": "1638240",
    "end": "1640159"
  },
  {
    "text": "a you know language narrative it's so",
    "start": "1640159",
    "end": "1642080"
  },
  {
    "text": "cool to see a declarative language just",
    "start": "1642080",
    "end": "1644179"
  },
  {
    "text": "compiled straight to webassembly modules",
    "start": "1644179",
    "end": "1645860"
  },
  {
    "text": "this is absolutely fantastic but so can",
    "start": "1645860",
    "end": "1648140"
  },
  {
    "text": "we all give it up again for Charlie this",
    "start": "1648140",
    "end": "1649820"
  },
  {
    "text": "is fantastic thank you so much thank you",
    "start": "1649820",
    "end": "1653980"
  }
]