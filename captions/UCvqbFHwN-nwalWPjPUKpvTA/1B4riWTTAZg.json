[
  {
    "start": "0",
    "end": "4000"
  },
  {
    "text": "hello uh this is doshu uh today",
    "start": "80",
    "end": "3679"
  },
  {
    "text": "nick and i will give give a brief",
    "start": "3679",
    "end": "6560"
  },
  {
    "start": "4000",
    "end": "32000"
  },
  {
    "text": "introduction of thai kv",
    "start": "6560",
    "end": "7919"
  },
  {
    "text": "which is the cloud native key valley",
    "start": "7919",
    "end": "9840"
  },
  {
    "text": "database",
    "start": "9840",
    "end": "10960"
  },
  {
    "text": "uh you know tegami is a cncf project",
    "start": "10960",
    "end": "14320"
  },
  {
    "text": "and now it is incubating level project",
    "start": "14320",
    "end": "16720"
  },
  {
    "text": "but",
    "start": "16720",
    "end": "17680"
  },
  {
    "text": "um take away uh right now",
    "start": "17680",
    "end": "20800"
  },
  {
    "text": "is on the graduation process",
    "start": "20800",
    "end": "24480"
  },
  {
    "text": "so maybe uh next month",
    "start": "24480",
    "end": "28080"
  },
  {
    "text": "uh takeaway will become the graduated",
    "start": "28080",
    "end": "31359"
  },
  {
    "text": "project",
    "start": "31359",
    "end": "32719"
  },
  {
    "text": "okay uh this is me and i'm the the",
    "start": "32719",
    "end": "35760"
  },
  {
    "text": "co-founder and ceo of pincap",
    "start": "35760",
    "end": "38000"
  },
  {
    "text": "pincap is the company behind idp and",
    "start": "38000",
    "end": "40960"
  },
  {
    "text": "thai kv",
    "start": "40960",
    "end": "42879"
  },
  {
    "text": "it is a database company and i",
    "start": "42879",
    "end": "46320"
  },
  {
    "text": "am a database geek i use a lot of",
    "start": "46320",
    "end": "48480"
  },
  {
    "text": "databases",
    "start": "48480",
    "end": "49600"
  },
  {
    "text": "and i also uh worked as a distributed",
    "start": "49600",
    "end": "53760"
  },
  {
    "text": "system engineer for like 10 years um",
    "start": "53760",
    "end": "58160"
  },
  {
    "text": "okay we we we use rust and gold a lot",
    "start": "58160",
    "end": "61760"
  },
  {
    "text": "um you know thai kv is built",
    "start": "61760",
    "end": "64799"
  },
  {
    "text": "by um you know built in rust",
    "start": "64799",
    "end": "68159"
  },
  {
    "text": "and the tide db which is the single",
    "start": "68159",
    "end": "70159"
  },
  {
    "text": "layer of",
    "start": "70159",
    "end": "71360"
  },
  {
    "text": "on top of thai kv it is using gola",
    "start": "71360",
    "end": "75200"
  },
  {
    "text": "so this is my twitter and this is my",
    "start": "75200",
    "end": "77280"
  },
  {
    "text": "email if you have any",
    "start": "77280",
    "end": "78960"
  },
  {
    "text": "following questions just feel free to",
    "start": "78960",
    "end": "81439"
  },
  {
    "text": "reach out to me",
    "start": "81439",
    "end": "83520"
  },
  {
    "start": "82000",
    "end": "108000"
  },
  {
    "text": "i'm nick cameron i'll be giving the",
    "start": "83520",
    "end": "85600"
  },
  {
    "text": "second part of this talk",
    "start": "85600",
    "end": "88000"
  },
  {
    "text": "i'm a senior engineer at pingcap where i",
    "start": "88000",
    "end": "91439"
  },
  {
    "text": "work",
    "start": "91439",
    "end": "91840"
  },
  {
    "text": "mostly on thai kv i'm also a member of",
    "start": "91840",
    "end": "95439"
  },
  {
    "text": "the",
    "start": "95439",
    "end": "95840"
  },
  {
    "text": "rust core team you can find me on",
    "start": "95840",
    "end": "98479"
  },
  {
    "text": "twitter",
    "start": "98479",
    "end": "99439"
  },
  {
    "text": "nick underscore underscore cameron or",
    "start": "99439",
    "end": "102560"
  },
  {
    "text": "github and many other places on the",
    "start": "102560",
    "end": "105920"
  },
  {
    "text": "internet is",
    "start": "105920",
    "end": "106799"
  },
  {
    "text": "nrc okay",
    "start": "106799",
    "end": "109920"
  },
  {
    "text": "today's talk will be divided into two",
    "start": "109920",
    "end": "112479"
  },
  {
    "text": "parts",
    "start": "112479",
    "end": "113439"
  },
  {
    "text": "uh first i will give a brief background",
    "start": "113439",
    "end": "115920"
  },
  {
    "text": "of",
    "start": "115920",
    "end": "117280"
  },
  {
    "text": "background introduction of thai kv",
    "start": "117280",
    "end": "120240"
  },
  {
    "text": "project",
    "start": "120240",
    "end": "121040"
  },
  {
    "text": "and share some stories and a little bit",
    "start": "121040",
    "end": "123920"
  },
  {
    "text": "of history of this project",
    "start": "123920",
    "end": "125840"
  },
  {
    "text": "to explain why we are doing this",
    "start": "125840",
    "end": "129440"
  },
  {
    "text": "in the second half nick will share some",
    "start": "129440",
    "end": "132080"
  },
  {
    "text": "technical details",
    "start": "132080",
    "end": "133440"
  },
  {
    "text": "benchmarks",
    "start": "133440",
    "end": "134590"
  },
  {
    "text": "[Music]",
    "start": "134590",
    "end": "136480"
  },
  {
    "text": "and the roadmap of of thai kv okay",
    "start": "136480",
    "end": "141040"
  },
  {
    "start": "140000",
    "end": "268000"
  },
  {
    "text": "um a little bit of history you know i",
    "start": "141120",
    "end": "143840"
  },
  {
    "text": "just mentioned that",
    "start": "143840",
    "end": "144800"
  },
  {
    "text": "pincap is the company behind idv and",
    "start": "144800",
    "end": "147520"
  },
  {
    "text": "thai kv",
    "start": "147520",
    "end": "148720"
  },
  {
    "text": "uh before i founded pingap uh i",
    "start": "148720",
    "end": "151760"
  },
  {
    "text": "i was in the big internet company in",
    "start": "151760",
    "end": "155440"
  },
  {
    "text": "china",
    "start": "155440",
    "end": "156319"
  },
  {
    "text": "and at the time i was in charge of our",
    "start": "156319",
    "end": "159760"
  },
  {
    "text": "internal",
    "start": "159760",
    "end": "160640"
  },
  {
    "text": "mysql cluster you know at the time",
    "start": "160640",
    "end": "164480"
  },
  {
    "text": "our business was growing so fast and",
    "start": "164480",
    "end": "168319"
  },
  {
    "text": "and the amount of data was getting",
    "start": "168319",
    "end": "170560"
  },
  {
    "text": "bigger and bigger",
    "start": "170560",
    "end": "171920"
  },
  {
    "text": "of course um so my job is",
    "start": "171920",
    "end": "175040"
  },
  {
    "text": "you know to recharge",
    "start": "175040",
    "end": "178239"
  },
  {
    "text": "uh our mysql all the time um",
    "start": "178239",
    "end": "181920"
  },
  {
    "text": "to you know scale out the the cluster",
    "start": "181920",
    "end": "185599"
  },
  {
    "text": "but believe me it is not funny at all",
    "start": "185599",
    "end": "189440"
  },
  {
    "text": "at the time i i still remember i read",
    "start": "189440",
    "end": "192640"
  },
  {
    "text": "the spam expander paper around the",
    "start": "192640",
    "end": "195360"
  },
  {
    "text": "beginning of 2015",
    "start": "195360",
    "end": "198400"
  },
  {
    "text": "that paper described an implementation",
    "start": "198400",
    "end": "200879"
  },
  {
    "text": "of a distributed",
    "start": "200879",
    "end": "202159"
  },
  {
    "text": "transactional database",
    "start": "202159",
    "end": "205360"
  },
  {
    "text": "which is widely used inside google and",
    "start": "205360",
    "end": "208239"
  },
  {
    "text": "also",
    "start": "208239",
    "end": "209599"
  },
  {
    "text": "i read another paper called google f1",
    "start": "209599",
    "end": "212239"
  },
  {
    "text": "which",
    "start": "212239",
    "end": "212640"
  },
  {
    "text": "was the sql layer on top of spanner",
    "start": "212640",
    "end": "216080"
  },
  {
    "text": "at that time spanner is more like a",
    "start": "216080",
    "end": "217680"
  },
  {
    "text": "nosql database",
    "start": "217680",
    "end": "219360"
  },
  {
    "text": "so this paper said spanner plus",
    "start": "219360",
    "end": "222879"
  },
  {
    "text": "f1 replace their sql cluster",
    "start": "222879",
    "end": "226000"
  },
  {
    "text": "behind google ads and",
    "start": "226000",
    "end": "229200"
  },
  {
    "text": "so we we were so excited about that so",
    "start": "229200",
    "end": "231760"
  },
  {
    "text": "we",
    "start": "231760",
    "end": "232640"
  },
  {
    "text": "we decided uh out my colleague and i",
    "start": "232640",
    "end": "235360"
  },
  {
    "text": "decided to",
    "start": "235360",
    "end": "236080"
  },
  {
    "text": "start a startup to to do the open source",
    "start": "236080",
    "end": "239680"
  },
  {
    "text": "implementation of of spanner plus f1",
    "start": "239680",
    "end": "244000"
  },
  {
    "text": "and with the mysql particle and it",
    "start": "244000",
    "end": "246319"
  },
  {
    "text": "should be compatible with mysql",
    "start": "246319",
    "end": "248959"
  },
  {
    "text": "you know at that time we don't have such",
    "start": "248959",
    "end": "250799"
  },
  {
    "text": "database in open source community",
    "start": "250799",
    "end": "254319"
  },
  {
    "text": "um here is a screenshot of those two",
    "start": "254319",
    "end": "257199"
  },
  {
    "text": "important papers that",
    "start": "257199",
    "end": "258479"
  },
  {
    "text": "i think uh you know that that these two",
    "start": "258479",
    "end": "261359"
  },
  {
    "text": "papers describe the beginning",
    "start": "261359",
    "end": "263280"
  },
  {
    "text": "of uh you know so-called cloud database",
    "start": "263280",
    "end": "269199"
  },
  {
    "start": "268000",
    "end": "358000"
  },
  {
    "text": "okay um you know this is a very",
    "start": "269199",
    "end": "271199"
  },
  {
    "text": "ambitious",
    "start": "271199",
    "end": "272240"
  },
  {
    "text": "uh project for a small startup at that",
    "start": "272240",
    "end": "275440"
  },
  {
    "text": "time we just have three engineers",
    "start": "275440",
    "end": "277520"
  },
  {
    "text": "including us and um",
    "start": "277520",
    "end": "280560"
  },
  {
    "text": "so we should should be focused on",
    "start": "280560",
    "end": "282720"
  },
  {
    "text": "something right uh we choose to start",
    "start": "282720",
    "end": "284720"
  },
  {
    "text": "with the sql layer",
    "start": "284720",
    "end": "286240"
  },
  {
    "text": "which is the f1 part uh the reason is",
    "start": "286240",
    "end": "289520"
  },
  {
    "text": "that",
    "start": "289520",
    "end": "290479"
  },
  {
    "text": "we think that the sql layer is",
    "start": "290479",
    "end": "294080"
  },
  {
    "text": "uh closer to the application layer",
    "start": "294080",
    "end": "296800"
  },
  {
    "text": "closer to the",
    "start": "296800",
    "end": "297919"
  },
  {
    "text": "to the developers um and there's a",
    "start": "297919",
    "end": "301520"
  },
  {
    "text": "better",
    "start": "301520",
    "end": "302400"
  },
  {
    "text": "you know uh it better expresses our",
    "start": "302400",
    "end": "306080"
  },
  {
    "text": "ideas",
    "start": "306080",
    "end": "306720"
  },
  {
    "text": "in the early days and more importantly",
    "start": "306720",
    "end": "309600"
  },
  {
    "text": "uh i said",
    "start": "309600",
    "end": "310960"
  },
  {
    "text": "i just mentioned that thai db speaks",
    "start": "310960",
    "end": "314320"
  },
  {
    "text": "mysql particle we decided to speak mysql",
    "start": "314320",
    "end": "317120"
  },
  {
    "text": "particle",
    "start": "317120",
    "end": "318000"
  },
  {
    "text": "so for the quality uh qualitative",
    "start": "318000",
    "end": "321120"
  },
  {
    "text": "purpose",
    "start": "321120",
    "end": "322160"
  },
  {
    "text": "we want to you reuse the test cases from",
    "start": "322160",
    "end": "325199"
  },
  {
    "text": "mysql",
    "start": "325199",
    "end": "326000"
  },
  {
    "text": "and mysql community for example",
    "start": "326000",
    "end": "329039"
  },
  {
    "text": "we can borrow some test cases from",
    "start": "329039",
    "end": "331520"
  },
  {
    "text": "wordpress",
    "start": "331520",
    "end": "332560"
  },
  {
    "text": "because wordpress is using mysql as",
    "start": "332560",
    "end": "336000"
  },
  {
    "text": "its storage engine",
    "start": "336000",
    "end": "339199"
  },
  {
    "text": "so in the test case",
    "start": "339199",
    "end": "342320"
  },
  {
    "text": "of uh wordpress it should be some you",
    "start": "342320",
    "end": "345360"
  },
  {
    "text": "know",
    "start": "345360",
    "end": "345759"
  },
  {
    "text": "a sequel uh some test cases related",
    "start": "345759",
    "end": "349600"
  },
  {
    "text": "to to to the mysql so we can reuse this",
    "start": "349600",
    "end": "352960"
  },
  {
    "text": "these test cases to test our sql layer",
    "start": "352960",
    "end": "358400"
  },
  {
    "start": "358000",
    "end": "378000"
  },
  {
    "text": "and then we after a few months we open",
    "start": "359039",
    "end": "362000"
  },
  {
    "text": "source the first version of thai db's",
    "start": "362000",
    "end": "365199"
  },
  {
    "text": "sql layer it is true that many people in",
    "start": "365199",
    "end": "368400"
  },
  {
    "text": "the community were",
    "start": "368400",
    "end": "369600"
  },
  {
    "text": "really really interested in our project",
    "start": "369600",
    "end": "373440"
  },
  {
    "text": "but they soon discovered a very serious",
    "start": "373440",
    "end": "376720"
  },
  {
    "text": "problem",
    "start": "376720",
    "end": "378800"
  },
  {
    "start": "378000",
    "end": "398000"
  },
  {
    "text": "you know we claim ourselves as a",
    "start": "378800",
    "end": "382240"
  },
  {
    "text": "you know kdb is a distributed database",
    "start": "382240",
    "end": "384960"
  },
  {
    "text": "but",
    "start": "384960",
    "end": "385280"
  },
  {
    "text": "in 2016 we only have a",
    "start": "385280",
    "end": "388960"
  },
  {
    "text": "secret layer so that means we don't",
    "start": "388960",
    "end": "392319"
  },
  {
    "text": "actually store",
    "start": "392319",
    "end": "393199"
  },
  {
    "text": "any data because we don't have a storage",
    "start": "393199",
    "end": "395600"
  },
  {
    "text": "engine right",
    "start": "395600",
    "end": "398000"
  },
  {
    "start": "398000",
    "end": "413000"
  },
  {
    "text": "as you can see f1 is on the left and",
    "start": "398000",
    "end": "401120"
  },
  {
    "text": "we are on the right the even though f1",
    "start": "401120",
    "end": "404479"
  },
  {
    "text": "is just an exact layer",
    "start": "404479",
    "end": "406080"
  },
  {
    "text": "but the data is stored inside google's",
    "start": "406080",
    "end": "408400"
  },
  {
    "text": "banner",
    "start": "408400",
    "end": "409120"
  },
  {
    "text": "right but at the time we don't have our",
    "start": "409120",
    "end": "411599"
  },
  {
    "text": "own spanner",
    "start": "411599",
    "end": "414160"
  },
  {
    "start": "413000",
    "end": "459000"
  },
  {
    "text": "so in order to make idb more like a",
    "start": "414160",
    "end": "417520"
  },
  {
    "text": "database",
    "start": "417520",
    "end": "418560"
  },
  {
    "text": "we decided to use hbase as our storage",
    "start": "418560",
    "end": "421520"
  },
  {
    "text": "engine",
    "start": "421520",
    "end": "422000"
  },
  {
    "text": "at that time however we know that hps",
    "start": "422000",
    "end": "426080"
  },
  {
    "text": "doesn't support the cross-cross",
    "start": "426080",
    "end": "428400"
  },
  {
    "text": "road transactions or you know acid",
    "start": "428400",
    "end": "431360"
  },
  {
    "text": "transaction acid semantic",
    "start": "431360",
    "end": "433680"
  },
  {
    "text": "right but uh spanner can",
    "start": "433680",
    "end": "436960"
  },
  {
    "text": "so we implemented the two phrase commit",
    "start": "436960",
    "end": "439680"
  },
  {
    "text": "on hbase",
    "start": "439680",
    "end": "440720"
  },
  {
    "text": "using its uh co-processor mechanism",
    "start": "440720",
    "end": "444400"
  },
  {
    "text": "uh it is provided by hbase",
    "start": "444400",
    "end": "447440"
  },
  {
    "text": "so this is us in 2016",
    "start": "447440",
    "end": "451039"
  },
  {
    "text": "and that makes tidbit you know",
    "start": "451039",
    "end": "454160"
  },
  {
    "text": "look like a discrete database making",
    "start": "454160",
    "end": "456960"
  },
  {
    "text": "sense",
    "start": "456960",
    "end": "457360"
  },
  {
    "text": "right but there's another problem which",
    "start": "457360",
    "end": "461599"
  },
  {
    "start": "459000",
    "end": "519000"
  },
  {
    "text": "is very very serious but",
    "start": "461599",
    "end": "464319"
  },
  {
    "text": "it's really hard to solve it is the",
    "start": "464319",
    "end": "466960"
  },
  {
    "text": "performance problem",
    "start": "466960",
    "end": "468639"
  },
  {
    "text": "you know even for a single write request",
    "start": "468639",
    "end": "471919"
  },
  {
    "text": "it has to go from the bicycle client",
    "start": "471919",
    "end": "475280"
  },
  {
    "text": "to tidy b sql layer sequel parser sequel",
    "start": "475280",
    "end": "479520"
  },
  {
    "text": "optimizer",
    "start": "479520",
    "end": "480879"
  },
  {
    "text": "and goes through the the",
    "start": "480879",
    "end": "484000"
  },
  {
    "text": "the hbase co-processor to run the two",
    "start": "484000",
    "end": "486639"
  },
  {
    "text": "phrase commit particle",
    "start": "486639",
    "end": "488639"
  },
  {
    "text": "and the requests go to the hbase hbase",
    "start": "488639",
    "end": "492080"
  },
  {
    "text": "part",
    "start": "492080",
    "end": "492960"
  },
  {
    "text": "to the region master and then the data",
    "start": "492960",
    "end": "495520"
  },
  {
    "text": "is written to",
    "start": "495520",
    "end": "497280"
  },
  {
    "text": "uh to the hdfs data node",
    "start": "497280",
    "end": "500960"
  },
  {
    "text": "and the performance is really really bad",
    "start": "500960",
    "end": "504160"
  },
  {
    "text": "and to be honest uh you know maintaining",
    "start": "504160",
    "end": "507039"
  },
  {
    "text": "the hadoop stack",
    "start": "507039",
    "end": "508160"
  },
  {
    "text": "is really painful is",
    "start": "508160",
    "end": "511199"
  },
  {
    "text": "uh i think it is even",
    "start": "511199",
    "end": "514719"
  },
  {
    "text": "you know more painful than maintaining",
    "start": "514719",
    "end": "516880"
  },
  {
    "text": "the mysql cluster",
    "start": "516880",
    "end": "519518"
  },
  {
    "start": "519000",
    "end": "726000"
  },
  {
    "text": "so uh by the end of 2016 we",
    "start": "519519",
    "end": "524959"
  },
  {
    "text": "decided to build our own spanner we want",
    "start": "524959",
    "end": "527920"
  },
  {
    "text": "to build our own distributed key value",
    "start": "527920",
    "end": "530399"
  },
  {
    "text": "layer",
    "start": "530399",
    "end": "531040"
  },
  {
    "text": "for thai db um",
    "start": "531040",
    "end": "534080"
  },
  {
    "text": "so this is some design",
    "start": "534080",
    "end": "537200"
  },
  {
    "text": "requirements or design goals for this",
    "start": "537200",
    "end": "540160"
  },
  {
    "text": "such project",
    "start": "540160",
    "end": "541440"
  },
  {
    "text": "at the very beginning first uh",
    "start": "541440",
    "end": "544560"
  },
  {
    "text": "this key value database key value layer",
    "start": "544560",
    "end": "546880"
  },
  {
    "text": "should",
    "start": "546880",
    "end": "547680"
  },
  {
    "text": "scale out should have the scalability",
    "start": "547680",
    "end": "550080"
  },
  {
    "text": "right",
    "start": "550080",
    "end": "550720"
  },
  {
    "text": "it should be scaled out like other nosql",
    "start": "550720",
    "end": "553120"
  },
  {
    "text": "systems like",
    "start": "553120",
    "end": "554000"
  },
  {
    "text": "you know hbase like sanja",
    "start": "554000",
    "end": "557760"
  },
  {
    "text": "second uh the performance",
    "start": "557760",
    "end": "560800"
  },
  {
    "text": "is you know performance matter matters",
    "start": "560800",
    "end": "564640"
  },
  {
    "text": "uh yeah i will not explain more about",
    "start": "564640",
    "end": "568320"
  },
  {
    "text": "this",
    "start": "568320",
    "end": "568800"
  },
  {
    "text": "it's very straightforward right now",
    "start": "568800",
    "end": "571920"
  },
  {
    "text": "third uh it should have a building",
    "start": "571920",
    "end": "575680"
  },
  {
    "text": "transaction support right uh because you",
    "start": "575680",
    "end": "578560"
  },
  {
    "text": "know",
    "start": "578560",
    "end": "579200"
  },
  {
    "text": "this spanner have the the the",
    "start": "579200",
    "end": "582480"
  },
  {
    "text": "transaction",
    "start": "582480",
    "end": "583440"
  },
  {
    "text": "uh it is the biggest selling point of",
    "start": "583440",
    "end": "586080"
  },
  {
    "text": "that system right",
    "start": "586080",
    "end": "588839"
  },
  {
    "text": "uh and",
    "start": "588839",
    "end": "590300"
  },
  {
    "text": "[Music]",
    "start": "590300",
    "end": "591440"
  },
  {
    "text": "and next uh it is you know",
    "start": "591440",
    "end": "595040"
  },
  {
    "text": "two thousand and it was 2016",
    "start": "595040",
    "end": "599920"
  },
  {
    "text": "we have some more than data replication",
    "start": "599920",
    "end": "602560"
  },
  {
    "text": "particles like",
    "start": "602560",
    "end": "603839"
  },
  {
    "text": "raft like pack sauce like multi-pack",
    "start": "603839",
    "end": "606560"
  },
  {
    "text": "sauce",
    "start": "606560",
    "end": "608000"
  },
  {
    "text": "so we decided to use some well modern",
    "start": "608000",
    "end": "610880"
  },
  {
    "text": "data replication particle like",
    "start": "610880",
    "end": "613040"
  },
  {
    "text": "uh just like raft",
    "start": "613040",
    "end": "616839"
  },
  {
    "text": "okay and uh",
    "start": "616839",
    "end": "619920"
  },
  {
    "text": "the last but not the least uh we want",
    "start": "619920",
    "end": "622240"
  },
  {
    "text": "this system",
    "start": "622240",
    "end": "623360"
  },
  {
    "text": "uh have less dependencies",
    "start": "623360",
    "end": "626880"
  },
  {
    "text": "compares to the the hbase or the hadoop",
    "start": "626880",
    "end": "630320"
  },
  {
    "text": "stack",
    "start": "630320",
    "end": "631600"
  },
  {
    "text": "so and then",
    "start": "631600",
    "end": "635040"
  },
  {
    "text": "it is a little bit related to the",
    "start": "635040",
    "end": "636959"
  },
  {
    "text": "performance",
    "start": "636959",
    "end": "639600"
  },
  {
    "text": "performance perspective and",
    "start": "640959",
    "end": "645760"
  },
  {
    "text": "we found that such a system if we have",
    "start": "645760",
    "end": "648640"
  },
  {
    "text": "this",
    "start": "648640",
    "end": "649680"
  },
  {
    "text": "we have uh build such a system this",
    "start": "649680",
    "end": "652720"
  },
  {
    "text": "system has the potential to be the",
    "start": "652720",
    "end": "654560"
  },
  {
    "text": "building block",
    "start": "654560",
    "end": "655760"
  },
  {
    "text": "for other these distributed systems",
    "start": "655760",
    "end": "659200"
  },
  {
    "text": "so imagine that",
    "start": "659200",
    "end": "662399"
  },
  {
    "text": "you are making the another uh",
    "start": "662399",
    "end": "665839"
  },
  {
    "text": "distributed file system for example if",
    "start": "665839",
    "end": "668720"
  },
  {
    "text": "you want to build",
    "start": "668720",
    "end": "670160"
  },
  {
    "text": "a new hdfs you may need",
    "start": "670160",
    "end": "674000"
  },
  {
    "text": "a you know metadata store right not just",
    "start": "674000",
    "end": "677279"
  },
  {
    "text": "like",
    "start": "677279",
    "end": "677839"
  },
  {
    "text": "hdfs name node uh you won't",
    "start": "677839",
    "end": "681360"
  },
  {
    "text": "want it to to be you know the the scale",
    "start": "681360",
    "end": "685120"
  },
  {
    "text": "scalable scale out uh",
    "start": "685120",
    "end": "688640"
  },
  {
    "text": "method metadata store but you may be",
    "start": "688640",
    "end": "691920"
  },
  {
    "text": "you know concerned that the metadata",
    "start": "691920",
    "end": "693839"
  },
  {
    "text": "store is becoming the bottleneck",
    "start": "693839",
    "end": "696000"
  },
  {
    "text": "so if there is a scalable and",
    "start": "696000",
    "end": "699920"
  },
  {
    "text": "lightweight distributed",
    "start": "699920",
    "end": "703680"
  },
  {
    "text": "key value store which also supports",
    "start": "703680",
    "end": "706399"
  },
  {
    "text": "transaction",
    "start": "706399",
    "end": "707839"
  },
  {
    "text": "that will be greatly reduced the",
    "start": "707839",
    "end": "710079"
  },
  {
    "text": "complexity",
    "start": "710079",
    "end": "710959"
  },
  {
    "text": "of building your you know the new hdfs",
    "start": "710959",
    "end": "715519"
  },
  {
    "text": "right building such as systems so",
    "start": "715519",
    "end": "718560"
  },
  {
    "text": "where thai can be causing i think this",
    "start": "718560",
    "end": "721680"
  },
  {
    "text": "is the",
    "start": "721680",
    "end": "722320"
  },
  {
    "text": "the purpose why we view this",
    "start": "722320",
    "end": "726240"
  },
  {
    "start": "726000",
    "end": "809000"
  },
  {
    "text": "okay um we choose rust",
    "start": "726560",
    "end": "731040"
  },
  {
    "text": "uh not java to to to build",
    "start": "731040",
    "end": "734720"
  },
  {
    "text": "thai kv and uh we we",
    "start": "734720",
    "end": "737839"
  },
  {
    "text": "we use roxdb as the the local",
    "start": "737839",
    "end": "741440"
  },
  {
    "text": "storage engine for the for the need of",
    "start": "741440",
    "end": "745360"
  },
  {
    "text": "performance and we implemented the",
    "start": "745360",
    "end": "748639"
  },
  {
    "text": "building two phrase commit",
    "start": "748639",
    "end": "750240"
  },
  {
    "text": "particle inside this system",
    "start": "750240",
    "end": "753600"
  },
  {
    "text": "but we also provide uh the the",
    "start": "753600",
    "end": "757040"
  },
  {
    "text": "atomic key value api semantic",
    "start": "757040",
    "end": "761279"
  },
  {
    "text": "for the performance purpose and",
    "start": "761279",
    "end": "765040"
  },
  {
    "text": "we choose to use raft to",
    "start": "765040",
    "end": "768480"
  },
  {
    "text": "for the data replication and our",
    "start": "768480",
    "end": "772240"
  },
  {
    "text": "uh that the whole system is not the",
    "start": "772240",
    "end": "775040"
  },
  {
    "text": "single rough",
    "start": "775040",
    "end": "775839"
  },
  {
    "text": "group it is a multi-rough architecture",
    "start": "775839",
    "end": "778000"
  },
  {
    "text": "just like uh the cockroachdb",
    "start": "778000",
    "end": "780480"
  },
  {
    "text": "and uh this project um",
    "start": "780480",
    "end": "784000"
  },
  {
    "text": "it is not like ncd as it is a single",
    "start": "784000",
    "end": "786480"
  },
  {
    "text": "raft group",
    "start": "786480",
    "end": "787360"
  },
  {
    "text": "but take away it is automatically scale",
    "start": "787360",
    "end": "790639"
  },
  {
    "text": "our system",
    "start": "790639",
    "end": "791360"
  },
  {
    "text": "and it is a multi-rough architecture and",
    "start": "791360",
    "end": "794480"
  },
  {
    "text": "thanks to the multi-rough architecture",
    "start": "794480",
    "end": "796399"
  },
  {
    "text": "we don't need another",
    "start": "796399",
    "end": "798079"
  },
  {
    "text": "distributed file system uh and",
    "start": "798079",
    "end": "801920"
  },
  {
    "text": "yeah this is uh we don't need",
    "start": "801920",
    "end": "805200"
  },
  {
    "text": "hdfs for the for the scalability right",
    "start": "805200",
    "end": "810000"
  },
  {
    "start": "809000",
    "end": "834000"
  },
  {
    "text": "so it took us about one years to finish",
    "start": "810000",
    "end": "813200"
  },
  {
    "text": "the first version of thai kv and we",
    "start": "813200",
    "end": "815680"
  },
  {
    "text": "open-sourced it",
    "start": "815680",
    "end": "817120"
  },
  {
    "text": "and then we donated to to the cncf",
    "start": "817120",
    "end": "821120"
  },
  {
    "text": "and here is my tweet",
    "start": "821120",
    "end": "824880"
  },
  {
    "text": "at the day we done the type",
    "start": "824880",
    "end": "828160"
  },
  {
    "text": "type kv and enter the the sandbox",
    "start": "828160",
    "end": "833040"
  },
  {
    "text": "okay yeah this is a little bit of",
    "start": "833040",
    "end": "835760"
  },
  {
    "start": "834000",
    "end": "858000"
  },
  {
    "text": "history of thai kv and",
    "start": "835760",
    "end": "837680"
  },
  {
    "text": "the the background uh and next i will",
    "start": "837680",
    "end": "840959"
  },
  {
    "text": "hand over to nick to",
    "start": "840959",
    "end": "844160"
  },
  {
    "text": "give a brief introduction of technical",
    "start": "844160",
    "end": "846639"
  },
  {
    "text": "details",
    "start": "846639",
    "end": "847519"
  },
  {
    "text": "thank you",
    "start": "847519",
    "end": "849920"
  },
  {
    "text": "great thanks ed so",
    "start": "850560",
    "end": "854000"
  },
  {
    "text": "i'm going to start by talking about the",
    "start": "854000",
    "end": "855920"
  },
  {
    "text": "high level design of",
    "start": "855920",
    "end": "857279"
  },
  {
    "text": "taikov taikfe is a",
    "start": "857279",
    "end": "861360"
  },
  {
    "start": "858000",
    "end": "901000"
  },
  {
    "text": "distributed transactional key value",
    "start": "861360",
    "end": "863600"
  },
  {
    "text": "store i'm going to spend the next few",
    "start": "863600",
    "end": "865600"
  },
  {
    "text": "slides digging into the distributed and",
    "start": "865600",
    "end": "867680"
  },
  {
    "text": "the transactional part of that",
    "start": "867680",
    "end": "870320"
  },
  {
    "text": "key value store means that",
    "start": "870320",
    "end": "873360"
  },
  {
    "text": "it just stores keys",
    "start": "873360",
    "end": "876560"
  },
  {
    "text": "and values it does not it's not a",
    "start": "876560",
    "end": "879760"
  },
  {
    "text": "relational database it doesn't offer an",
    "start": "879760",
    "end": "881760"
  },
  {
    "text": "sql",
    "start": "881760",
    "end": "882800"
  },
  {
    "text": "type interface",
    "start": "882800",
    "end": "885839"
  },
  {
    "text": "you could call it a nosql database but",
    "start": "886079",
    "end": "888800"
  },
  {
    "text": "typically",
    "start": "888800",
    "end": "889920"
  },
  {
    "text": "nosql databases don't offer",
    "start": "889920",
    "end": "894480"
  },
  {
    "text": "transactions and the consistency",
    "start": "894480",
    "end": "897040"
  },
  {
    "text": "properties",
    "start": "897040",
    "end": "897839"
  },
  {
    "text": "that thai kv does",
    "start": "897839",
    "end": "901120"
  },
  {
    "start": "901000",
    "end": "948000"
  },
  {
    "text": "so a tai kv cluster it looks like this",
    "start": "901760",
    "end": "906560"
  },
  {
    "text": "the thai kv nodes are in the bottom",
    "start": "906560",
    "end": "910160"
  },
  {
    "text": "right you can have as many of them as",
    "start": "910160",
    "end": "912240"
  },
  {
    "text": "you like",
    "start": "912240",
    "end": "913600"
  },
  {
    "text": "three is the usual minimum to the left",
    "start": "913600",
    "end": "917519"
  },
  {
    "text": "we have the thai kv client in this case",
    "start": "917519",
    "end": "920160"
  },
  {
    "text": "we're using tie db",
    "start": "920160",
    "end": "921680"
  },
  {
    "text": "which is an sql layer",
    "start": "921680",
    "end": "925440"
  },
  {
    "text": "which can sit on on top of tai kv",
    "start": "925440",
    "end": "929120"
  },
  {
    "text": "and on the top right we have placement",
    "start": "929120",
    "end": "931920"
  },
  {
    "text": "driver nodes",
    "start": "931920",
    "end": "933759"
  },
  {
    "text": "and these have two jobs one is",
    "start": "933759",
    "end": "936959"
  },
  {
    "text": "to supply monotonic and unique",
    "start": "936959",
    "end": "939759"
  },
  {
    "text": "timestamps to the clients for use in",
    "start": "939759",
    "end": "941920"
  },
  {
    "text": "transactions",
    "start": "941920",
    "end": "943360"
  },
  {
    "text": "and the other is to manage the taikv",
    "start": "943360",
    "end": "945839"
  },
  {
    "text": "nodes",
    "start": "945839",
    "end": "948240"
  },
  {
    "start": "948000",
    "end": "991000"
  },
  {
    "text": "data in taikvi is sharded into",
    "start": "948560",
    "end": "951360"
  },
  {
    "text": "contiguous ranges which we call",
    "start": "951360",
    "end": "953600"
  },
  {
    "text": "regions these regions are replicated",
    "start": "953600",
    "end": "957759"
  },
  {
    "text": "across",
    "start": "957759",
    "end": "958399"
  },
  {
    "text": "multiple nodes and",
    "start": "958399",
    "end": "961600"
  },
  {
    "text": "pd can manage these regions so",
    "start": "961600",
    "end": "964959"
  },
  {
    "text": "regions can be merged or split or moved",
    "start": "964959",
    "end": "969680"
  },
  {
    "text": "so that traffic to each node can",
    "start": "969680",
    "end": "973519"
  },
  {
    "text": "can be kept roughly similar if",
    "start": "973519",
    "end": "976880"
  },
  {
    "text": "if a node goes down ikv can recover",
    "start": "976880",
    "end": "980560"
  },
  {
    "text": "by regenerating the lost data from the",
    "start": "980560",
    "end": "983680"
  },
  {
    "text": "other replicas in each region",
    "start": "983680",
    "end": "986160"
  },
  {
    "text": "and putting that data onto",
    "start": "986160",
    "end": "989279"
  },
  {
    "text": "other nodes",
    "start": "989279",
    "end": "992000"
  },
  {
    "start": "991000",
    "end": "1109000"
  },
  {
    "text": "so i've described so far",
    "start": "992320",
    "end": "995680"
  },
  {
    "text": "what a thai kv cluster looks like uh",
    "start": "995680",
    "end": "998720"
  },
  {
    "text": "next",
    "start": "998720",
    "end": "999279"
  },
  {
    "text": "let's have a look at the what uh tai kv",
    "start": "999279",
    "end": "1003759"
  },
  {
    "text": "internal implementation looks like so it",
    "start": "1003759",
    "end": "1006399"
  },
  {
    "text": "has a",
    "start": "1006399",
    "end": "1007199"
  },
  {
    "text": "very strongly layered architecture at",
    "start": "1007199",
    "end": "1009360"
  },
  {
    "text": "the bottom of the",
    "start": "1009360",
    "end": "1011040"
  },
  {
    "text": "of the stack we have a low",
    "start": "1011040",
    "end": "1014079"
  },
  {
    "text": "level local key value store",
    "start": "1014079",
    "end": "1017279"
  },
  {
    "text": "for which we use roxdb and this is the",
    "start": "1017279",
    "end": "1020639"
  },
  {
    "text": "way that we",
    "start": "1020639",
    "end": "1021680"
  },
  {
    "text": "um persist data to disk",
    "start": "1021680",
    "end": "1026480"
  },
  {
    "text": "on top of that we have the raft layer",
    "start": "1026480",
    "end": "1029839"
  },
  {
    "text": "where we have an implementation of",
    "start": "1029839",
    "end": "1032959"
  },
  {
    "text": "the raft consensus protocol",
    "start": "1032959",
    "end": "1037199"
  },
  {
    "text": "and this layer uh",
    "start": "1037199",
    "end": "1040640"
  },
  {
    "text": "presents an abstraction over the um",
    "start": "1040959",
    "end": "1044319"
  },
  {
    "text": "the the three replicas of of any piece",
    "start": "1044319",
    "end": "1047520"
  },
  {
    "text": "of data so that it",
    "start": "1047520",
    "end": "1049039"
  },
  {
    "text": "looks like we're just dealing with a",
    "start": "1049039",
    "end": "1050559"
  },
  {
    "text": "single node from from above this layer",
    "start": "1050559",
    "end": "1055120"
  },
  {
    "text": "now the the top of the stack",
    "start": "1055600",
    "end": "1058720"
  },
  {
    "text": "we've got our transaction implementation",
    "start": "1058720",
    "end": "1061520"
  },
  {
    "text": "which is a multiversion concurrency",
    "start": "1061520",
    "end": "1063840"
  },
  {
    "text": "control system",
    "start": "1063840",
    "end": "1067120"
  },
  {
    "text": "and on top of that the the transactions",
    "start": "1067120",
    "end": "1070080"
  },
  {
    "text": "api which is how",
    "start": "1070080",
    "end": "1072160"
  },
  {
    "text": "the server and the client communicate",
    "start": "1072160",
    "end": "1076960"
  },
  {
    "text": "off to the right we've got um",
    "start": "1077360",
    "end": "1080559"
  },
  {
    "text": "the the co-processor",
    "start": "1080559",
    "end": "1084080"
  },
  {
    "text": "which is not really uh doesn't really",
    "start": "1084080",
    "end": "1086000"
  },
  {
    "text": "fit into that layered architecture so",
    "start": "1086000",
    "end": "1088080"
  },
  {
    "text": "much",
    "start": "1088080",
    "end": "1089280"
  },
  {
    "text": "but is a piece of software which",
    "start": "1089280",
    "end": "1092720"
  },
  {
    "text": "takes uh intermediate representation of",
    "start": "1092720",
    "end": "1096080"
  },
  {
    "text": "some uh probably sql uh",
    "start": "1096080",
    "end": "1099200"
  },
  {
    "text": "uh query fragments and",
    "start": "1099200",
    "end": "1102320"
  },
  {
    "text": "executes that close to the data itself",
    "start": "1102320",
    "end": "1105679"
  },
  {
    "text": "for the sake of",
    "start": "1105679",
    "end": "1106799"
  },
  {
    "text": "uh performance",
    "start": "1106799",
    "end": "1109840"
  },
  {
    "text": "so taika v is transactional",
    "start": "1110559",
    "end": "1114080"
  },
  {
    "text": "in terms of the the acid breakdown",
    "start": "1114080",
    "end": "1117520"
  },
  {
    "text": "all our transactions are atomic and",
    "start": "1117520",
    "end": "1120840"
  },
  {
    "text": "durable",
    "start": "1120840",
    "end": "1122080"
  },
  {
    "text": "and we offer the snapshot isolation",
    "start": "1122080",
    "end": "1125919"
  },
  {
    "text": "consistency property snapshot isolation",
    "start": "1125919",
    "end": "1129200"
  },
  {
    "text": "means",
    "start": "1129200",
    "end": "1129760"
  },
  {
    "text": "that you will never read uncommitted",
    "start": "1129760",
    "end": "1132480"
  },
  {
    "text": "data",
    "start": "1132480",
    "end": "1133360"
  },
  {
    "text": "and you will never lose a committed",
    "start": "1133360",
    "end": "1135039"
  },
  {
    "text": "update and if you read the same",
    "start": "1135039",
    "end": "1138000"
  },
  {
    "text": "key multiple times in the same",
    "start": "1138000",
    "end": "1140240"
  },
  {
    "text": "transaction",
    "start": "1140240",
    "end": "1141200"
  },
  {
    "text": "you'll always get back the same value",
    "start": "1141200",
    "end": "1143360"
  },
  {
    "text": "taikevi transactions",
    "start": "1143360",
    "end": "1145039"
  },
  {
    "text": "are also linearizable",
    "start": "1145039",
    "end": "1148799"
  },
  {
    "start": "1148000",
    "end": "1194000"
  },
  {
    "text": "in terms of implementation our",
    "start": "1149520",
    "end": "1151840"
  },
  {
    "text": "transactions",
    "start": "1151840",
    "end": "1152799"
  },
  {
    "text": "are a two-phase commit protocol",
    "start": "1152799",
    "end": "1156320"
  },
  {
    "text": "and that's based on the percolator",
    "start": "1156320",
    "end": "1158559"
  },
  {
    "text": "algorithm from",
    "start": "1158559",
    "end": "1159679"
  },
  {
    "text": "google and as i said before we",
    "start": "1159679",
    "end": "1164640"
  },
  {
    "text": "implement that internally using a",
    "start": "1164640",
    "end": "1166960"
  },
  {
    "text": "multiversion concurrency control scheme",
    "start": "1166960",
    "end": "1170559"
  },
  {
    "text": "which means that rather than saving a",
    "start": "1170559",
    "end": "1174080"
  },
  {
    "text": "single value for each key we",
    "start": "1174080",
    "end": "1177360"
  },
  {
    "text": "save a history of values for each key",
    "start": "1177360",
    "end": "1180000"
  },
  {
    "text": "and so when you",
    "start": "1180000",
    "end": "1181200"
  },
  {
    "text": "once when you run a transaction it sees",
    "start": "1181200",
    "end": "1184160"
  },
  {
    "text": "a snapshot",
    "start": "1184160",
    "end": "1185360"
  },
  {
    "text": "of the data a consistent snapshot of the",
    "start": "1185360",
    "end": "1188160"
  },
  {
    "text": "data",
    "start": "1188160",
    "end": "1188799"
  },
  {
    "text": "at a particular point in in the history",
    "start": "1188799",
    "end": "1191840"
  },
  {
    "text": "of each key",
    "start": "1191840",
    "end": "1194320"
  },
  {
    "start": "1194000",
    "end": "1315000"
  },
  {
    "text": "that's a a very brief introduction to",
    "start": "1194320",
    "end": "1197039"
  },
  {
    "text": "the design of",
    "start": "1197039",
    "end": "1198160"
  },
  {
    "text": "of tai kv and i just want to talk about",
    "start": "1198160",
    "end": "1201360"
  },
  {
    "text": "um a few of the",
    "start": "1201360",
    "end": "1204720"
  },
  {
    "text": "the properties that are important to",
    "start": "1204720",
    "end": "1207919"
  },
  {
    "text": "kv so the",
    "start": "1207919",
    "end": "1211440"
  },
  {
    "text": "the database is usually a really",
    "start": "1211440",
    "end": "1213200"
  },
  {
    "text": "fundamental piece",
    "start": "1213200",
    "end": "1214480"
  },
  {
    "text": "of the of um of software",
    "start": "1214480",
    "end": "1219280"
  },
  {
    "text": "and so you know you really cannot afford",
    "start": "1219280",
    "end": "1222799"
  },
  {
    "text": "to have the kind of errors in a database",
    "start": "1222799",
    "end": "1225600"
  },
  {
    "text": "that would",
    "start": "1225600",
    "end": "1226080"
  },
  {
    "text": "lead to you losing data so reliability",
    "start": "1226080",
    "end": "1228880"
  },
  {
    "text": "of thai kv is extremely important",
    "start": "1228880",
    "end": "1231760"
  },
  {
    "text": "so we run uh regression and performance",
    "start": "1231760",
    "end": "1234559"
  },
  {
    "text": "tests",
    "start": "1234559",
    "end": "1235760"
  },
  {
    "text": "these range from tiny unit tests",
    "start": "1235760",
    "end": "1239679"
  },
  {
    "text": "up to long-running multi-day",
    "start": "1239679",
    "end": "1244240"
  },
  {
    "text": "tests which was run with real world data",
    "start": "1244240",
    "end": "1246799"
  },
  {
    "text": "and as",
    "start": "1246799",
    "end": "1247440"
  },
  {
    "text": "close to a real world situation as as we",
    "start": "1247440",
    "end": "1250159"
  },
  {
    "text": "can simulate",
    "start": "1250159",
    "end": "1252320"
  },
  {
    "text": "if you're familiar with the japson",
    "start": "1252320",
    "end": "1254400"
  },
  {
    "text": "organization",
    "start": "1254400",
    "end": "1255360"
  },
  {
    "text": "they they test databases and other",
    "start": "1255360",
    "end": "1258240"
  },
  {
    "text": "distributed systems for",
    "start": "1258240",
    "end": "1259840"
  },
  {
    "text": "various consistency claims",
    "start": "1259840",
    "end": "1262960"
  },
  {
    "text": "and we run a range of the open source",
    "start": "1262960",
    "end": "1266480"
  },
  {
    "text": "jepson tools on our own infrastructure",
    "start": "1266480",
    "end": "1269200"
  },
  {
    "text": "to ensure that we uh deliver on the",
    "start": "1269200",
    "end": "1272640"
  },
  {
    "text": "the the the promise transaction promises",
    "start": "1272640",
    "end": "1277360"
  },
  {
    "text": "that we we have made",
    "start": "1277360",
    "end": "1280720"
  },
  {
    "text": "we we do chaos engineering style testing",
    "start": "1280720",
    "end": "1284240"
  },
  {
    "text": "using a tool called chaos mesh",
    "start": "1284240",
    "end": "1286799"
  },
  {
    "text": "which has just been accepted into the",
    "start": "1286799",
    "end": "1288480"
  },
  {
    "text": "cncf sandbox",
    "start": "1288480",
    "end": "1290000"
  },
  {
    "text": "which is great and",
    "start": "1290000",
    "end": "1293919"
  },
  {
    "text": "that allows us to to simulate nodes",
    "start": "1293919",
    "end": "1296880"
  },
  {
    "text": "going down",
    "start": "1296880",
    "end": "1297760"
  },
  {
    "text": "or network links slowing down or",
    "start": "1297760",
    "end": "1300159"
  },
  {
    "text": "disappearing and so forth",
    "start": "1300159",
    "end": "1302559"
  },
  {
    "text": "and finally we model all the the key",
    "start": "1302559",
    "end": "1306080"
  },
  {
    "text": "algorithms we use",
    "start": "1306080",
    "end": "1307280"
  },
  {
    "text": "in tla plus to get as close as we can to",
    "start": "1307280",
    "end": "1310400"
  },
  {
    "text": "a formal proof of",
    "start": "1310400",
    "end": "1311679"
  },
  {
    "text": "correctness for those algorithms",
    "start": "1311679",
    "end": "1316320"
  },
  {
    "start": "1315000",
    "end": "1358000"
  },
  {
    "text": "so as well as reliability everyone looks",
    "start": "1316880",
    "end": "1320400"
  },
  {
    "text": "for",
    "start": "1320400",
    "end": "1320960"
  },
  {
    "text": "performance in a in a database so",
    "start": "1320960",
    "end": "1324400"
  },
  {
    "text": "uh i just want to present some",
    "start": "1324400",
    "end": "1326240"
  },
  {
    "text": "benchmarking that we did at the",
    "start": "1326240",
    "end": "1328400"
  },
  {
    "text": "the end of last year we used the ycsb",
    "start": "1328400",
    "end": "1331679"
  },
  {
    "text": "benchmark suite and we compared tidy b",
    "start": "1331679",
    "end": "1335440"
  },
  {
    "text": "with spanner from google",
    "start": "1335440",
    "end": "1338480"
  },
  {
    "text": "and we performed the benchmark in the",
    "start": "1338480",
    "end": "1341440"
  },
  {
    "text": "cloud",
    "start": "1341440",
    "end": "1342159"
  },
  {
    "text": "and the way that google offer",
    "start": "1342159",
    "end": "1345520"
  },
  {
    "text": "spanner means that we we can't use",
    "start": "1345520",
    "end": "1347919"
  },
  {
    "text": "exactly the same hardware",
    "start": "1347919",
    "end": "1349840"
  },
  {
    "text": "so instead we um paid",
    "start": "1349840",
    "end": "1353200"
  },
  {
    "text": "pretty much the same amount of money for",
    "start": "1353200",
    "end": "1355600"
  },
  {
    "text": "for the two setups",
    "start": "1355600",
    "end": "1358400"
  },
  {
    "start": "1358000",
    "end": "1411000"
  },
  {
    "text": "and here's some uh charts of the the",
    "start": "1358400",
    "end": "1361200"
  },
  {
    "text": "results of that benchmarking",
    "start": "1361200",
    "end": "1363360"
  },
  {
    "text": "uh the top row is throughput where",
    "start": "1363360",
    "end": "1365919"
  },
  {
    "text": "bigger is better",
    "start": "1365919",
    "end": "1366960"
  },
  {
    "text": "the bottom row is latency where",
    "start": "1366960",
    "end": "1370159"
  },
  {
    "text": "smaller is better and spanner is in blue",
    "start": "1370159",
    "end": "1373360"
  },
  {
    "text": "on the left",
    "start": "1373360",
    "end": "1374240"
  },
  {
    "text": "and tidy b is on in green on the right",
    "start": "1374240",
    "end": "1377679"
  },
  {
    "text": "so uh just at a glance you can see that",
    "start": "1377679",
    "end": "1381280"
  },
  {
    "text": "um tidy b has uniformly better",
    "start": "1381280",
    "end": "1384240"
  },
  {
    "text": "throughput",
    "start": "1384240",
    "end": "1384880"
  },
  {
    "text": "than spanner significantly so in most",
    "start": "1384880",
    "end": "1387840"
  },
  {
    "text": "cases",
    "start": "1387840",
    "end": "1389919"
  },
  {
    "text": "in terms of latency uh reads in tidyb",
    "start": "1389919",
    "end": "1393360"
  },
  {
    "text": "are better but rights are a bit worse",
    "start": "1393360",
    "end": "1397840"
  },
  {
    "text": "and we've got some work going on at the",
    "start": "1397840",
    "end": "1400080"
  },
  {
    "text": "moment to the transaction system",
    "start": "1400080",
    "end": "1402480"
  },
  {
    "text": "uh which hopefully will be in version 5",
    "start": "1402480",
    "end": "1404960"
  },
  {
    "text": "which should make our",
    "start": "1404960",
    "end": "1406960"
  },
  {
    "text": "our rights much faster than they are",
    "start": "1406960",
    "end": "1409840"
  },
  {
    "text": "today",
    "start": "1409840",
    "end": "1410640"
  },
  {
    "text": "version 4 of taikov was released in june",
    "start": "1410640",
    "end": "1413760"
  },
  {
    "text": "this year",
    "start": "1413760",
    "end": "1414640"
  },
  {
    "text": "and we're planning to release version 5",
    "start": "1414640",
    "end": "1417760"
  },
  {
    "text": "early in 2021 there's a bunch of really",
    "start": "1417760",
    "end": "1420640"
  },
  {
    "text": "exciting things planned",
    "start": "1420640",
    "end": "1422240"
  },
  {
    "text": "uh so i want to go over a few of those",
    "start": "1422240",
    "end": "1424320"
  },
  {
    "text": "in the",
    "start": "1424320",
    "end": "1425679"
  },
  {
    "text": "i mentioned earlier in the talk how we",
    "start": "1425679",
    "end": "1427360"
  },
  {
    "start": "1426000",
    "end": "1476000"
  },
  {
    "text": "use roxdb as a local key value store",
    "start": "1427360",
    "end": "1430960"
  },
  {
    "text": "so one of the things we're working on is",
    "start": "1430960",
    "end": "1433520"
  },
  {
    "text": "allowing you to",
    "start": "1433520",
    "end": "1434480"
  },
  {
    "text": "bring your own key value store and use",
    "start": "1434480",
    "end": "1436960"
  },
  {
    "text": "whichever",
    "start": "1436960",
    "end": "1437600"
  },
  {
    "text": "one you like so you can choose the",
    "start": "1437600",
    "end": "1439679"
  },
  {
    "text": "performance",
    "start": "1439679",
    "end": "1440880"
  },
  {
    "text": "characteristics and other properties",
    "start": "1440880",
    "end": "1442880"
  },
  {
    "text": "that that you want",
    "start": "1442880",
    "end": "1445840"
  },
  {
    "text": "another major change i i talked about uh",
    "start": "1445840",
    "end": "1449039"
  },
  {
    "text": "transactions in thai kv that's an api",
    "start": "1449039",
    "end": "1453039"
  },
  {
    "text": "between the server and client there's",
    "start": "1453039",
    "end": "1455679"
  },
  {
    "text": "another api which lets you just deal",
    "start": "1455679",
    "end": "1457760"
  },
  {
    "text": "with",
    "start": "1457760",
    "end": "1458720"
  },
  {
    "text": "raw bytes with a simple get set kind of",
    "start": "1458720",
    "end": "1462320"
  },
  {
    "text": "interface rather than the the",
    "start": "1462320",
    "end": "1464799"
  },
  {
    "text": "transactional",
    "start": "1464799",
    "end": "1465760"
  },
  {
    "text": "api and we're adding a third api which",
    "start": "1465760",
    "end": "1469679"
  },
  {
    "text": "gives you manual control over the",
    "start": "1469679",
    "end": "1472559"
  },
  {
    "text": "multiversion concurrency",
    "start": "1472559",
    "end": "1476640"
  },
  {
    "text": "we're looking to improve stability",
    "start": "1477279",
    "end": "1479600"
  },
  {
    "text": "especially under",
    "start": "1479600",
    "end": "1480799"
  },
  {
    "text": "very large scale workloads",
    "start": "1480799",
    "end": "1483919"
  },
  {
    "text": "we're looking we're implementing latency",
    "start": "1483919",
    "end": "1486559"
  },
  {
    "text": "based",
    "start": "1486559",
    "end": "1487120"
  },
  {
    "text": "flow control we're implementing auto",
    "start": "1487120",
    "end": "1490080"
  },
  {
    "text": "scaling",
    "start": "1490080",
    "end": "1490799"
  },
  {
    "text": "and we're looking to",
    "start": "1490799",
    "end": "1494000"
  },
  {
    "text": "re smooth out some of the latency jitter",
    "start": "1494000",
    "end": "1496880"
  },
  {
    "text": "that",
    "start": "1496880",
    "end": "1498000"
  },
  {
    "text": "you can observe with with some workloads",
    "start": "1498000",
    "end": "1500640"
  },
  {
    "text": "at the moment",
    "start": "1500640",
    "end": "1503200"
  },
  {
    "start": "1502000",
    "end": "1549000"
  },
  {
    "text": "uh we're also looking always to improve",
    "start": "1504320",
    "end": "1507360"
  },
  {
    "text": "performance",
    "start": "1507360",
    "end": "1508240"
  },
  {
    "text": "and for version five we're particularly",
    "start": "1508240",
    "end": "1511440"
  },
  {
    "text": "looking",
    "start": "1511440",
    "end": "1512000"
  },
  {
    "text": "at more constrained",
    "start": "1512000",
    "end": "1515279"
  },
  {
    "text": "environments to operate in uh",
    "start": "1515279",
    "end": "1518720"
  },
  {
    "text": "rather than the traditional super",
    "start": "1518720",
    "end": "1520400"
  },
  {
    "text": "high-powered database server",
    "start": "1520400",
    "end": "1522720"
  },
  {
    "text": "so we're looking at optimizations using",
    "start": "1522720",
    "end": "1525760"
  },
  {
    "text": "uh slower hard disks",
    "start": "1525760",
    "end": "1529360"
  },
  {
    "text": "starting with uh sata ssds",
    "start": "1529360",
    "end": "1532960"
  },
  {
    "text": "we're looking at operating using less",
    "start": "1532960",
    "end": "1536400"
  },
  {
    "text": "memory",
    "start": "1536400",
    "end": "1537200"
  },
  {
    "text": "and we're also implementing joint",
    "start": "1537200",
    "end": "1539120"
  },
  {
    "text": "consensus in",
    "start": "1539120",
    "end": "1540720"
  },
  {
    "text": "in raft which should improve performance",
    "start": "1540720",
    "end": "1543760"
  },
  {
    "text": "especially",
    "start": "1543760",
    "end": "1544720"
  },
  {
    "text": "for uh geo-replicated clusters",
    "start": "1544720",
    "end": "1548960"
  },
  {
    "text": "in this final section i want to talk",
    "start": "1548960",
    "end": "1551200"
  },
  {
    "start": "1549000",
    "end": "1577000"
  },
  {
    "text": "about taikovs community",
    "start": "1551200",
    "end": "1554000"
  },
  {
    "text": "because uh taika v is an open source",
    "start": "1554000",
    "end": "1557440"
  },
  {
    "text": "project",
    "start": "1557440",
    "end": "1558080"
  },
  {
    "text": "and it just wouldn't be where it is",
    "start": "1558080",
    "end": "1559840"
  },
  {
    "text": "today without its community",
    "start": "1559840",
    "end": "1561919"
  },
  {
    "text": "our core repository has over 100",
    "start": "1561919",
    "end": "1565600"
  },
  {
    "text": "contributors",
    "start": "1565600",
    "end": "1567840"
  },
  {
    "text": "and that community is active and growing",
    "start": "1567840",
    "end": "1571360"
  },
  {
    "text": "using taikov filing bug reports and",
    "start": "1571360",
    "end": "1574559"
  },
  {
    "text": "writing code",
    "start": "1574559",
    "end": "1577440"
  },
  {
    "start": "1577000",
    "end": "1604000"
  },
  {
    "text": "as part of that work to grow the",
    "start": "1578080",
    "end": "1579760"
  },
  {
    "text": "community we've recently formed some",
    "start": "1579760",
    "end": "1582320"
  },
  {
    "text": "special interest",
    "start": "1582320",
    "end": "1583360"
  },
  {
    "text": "groups around the the key",
    "start": "1583360",
    "end": "1586960"
  },
  {
    "text": "components that i talked about earlier",
    "start": "1586960",
    "end": "1590159"
  },
  {
    "text": "the engine group works on the the low",
    "start": "1590159",
    "end": "1592480"
  },
  {
    "text": "level single node storage such as using",
    "start": "1592480",
    "end": "1595200"
  },
  {
    "text": "roxdb",
    "start": "1595200",
    "end": "1596320"
  },
  {
    "text": "and the raft transactions and",
    "start": "1596320",
    "end": "1598720"
  },
  {
    "text": "co-processor groups",
    "start": "1598720",
    "end": "1600480"
  },
  {
    "text": "work in their respective areas",
    "start": "1600480",
    "end": "1604880"
  },
  {
    "start": "1604000",
    "end": "1658000"
  },
  {
    "text": "these are not just groups for developers",
    "start": "1604880",
    "end": "1607760"
  },
  {
    "text": "but",
    "start": "1607760",
    "end": "1608320"
  },
  {
    "text": "for anybody who's interested in the the",
    "start": "1608320",
    "end": "1611520"
  },
  {
    "text": "kind of things i've been talking about",
    "start": "1611520",
    "end": "1614320"
  },
  {
    "text": "so if that's you please come and join us",
    "start": "1614320",
    "end": "1618159"
  },
  {
    "text": "we develop on github and we chat on",
    "start": "1618159",
    "end": "1621440"
  },
  {
    "text": "slack",
    "start": "1621440",
    "end": "1622159"
  },
  {
    "text": "in the tai kvwg which you can find",
    "start": "1622159",
    "end": "1626159"
  },
  {
    "text": "by following either the qr code or the",
    "start": "1626159",
    "end": "1629200"
  },
  {
    "text": "url",
    "start": "1629200",
    "end": "1629919"
  },
  {
    "text": "on this page i'm",
    "start": "1629919",
    "end": "1633120"
  },
  {
    "text": "nrc in both places so please come say hi",
    "start": "1633120",
    "end": "1636880"
  },
  {
    "text": "and let me know if there's anything i",
    "start": "1636880",
    "end": "1638720"
  },
  {
    "text": "can do to help you get involved",
    "start": "1638720",
    "end": "1642159"
  },
  {
    "text": "all right that's all we've got for today",
    "start": "1642159",
    "end": "1645279"
  },
  {
    "text": "thank you for listening and i hope you",
    "start": "1645279",
    "end": "1646559"
  },
  {
    "text": "enjoyed it and the online format",
    "start": "1646559",
    "end": "1649440"
  },
  {
    "text": "uh we're looking forward to answering",
    "start": "1649440",
    "end": "1651440"
  },
  {
    "text": "your questions live",
    "start": "1651440",
    "end": "1652720"
  },
  {
    "text": "when this talk is broadcast later this",
    "start": "1652720",
    "end": "1655679"
  },
  {
    "text": "month",
    "start": "1655679",
    "end": "1656919"
  },
  {
    "text": "cheers",
    "start": "1656919",
    "end": "1659919"
  }
]