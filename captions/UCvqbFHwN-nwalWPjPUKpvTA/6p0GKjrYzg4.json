[
  {
    "start": "0",
    "end": "55000"
  },
  {
    "text": "all right good hi everyone my name is Bassam tabara I",
    "start": "3140",
    "end": "10650"
  },
  {
    "text": "am the CTO at quantum where we started as far as a culture which I'm excited to",
    "start": "10650",
    "end": "16410"
  },
  {
    "text": "tell you about today and walk you through storage and kubernetes so who's here to hear about storage ok I thought",
    "start": "16410",
    "end": "24660"
  },
  {
    "text": "you're not at the right place no kidding what I thought would be interesting to",
    "start": "24660",
    "end": "31019"
  },
  {
    "text": "do is to actually walk through I think you hear the term storage and persistent",
    "start": "31019",
    "end": "36630"
  },
  {
    "text": "storage and people think about storage in different ways so maybe maybe we can start with a review of storage and",
    "start": "36630",
    "end": "43890"
  },
  {
    "text": "kubernetes and then lead up to where I think we should be going or we are going",
    "start": "43890",
    "end": "50160"
  },
  {
    "text": "with storage can everyone hear me OK in the back okay so here's my fancy drawing",
    "start": "50160",
    "end": "59190"
  },
  {
    "start": "55000",
    "end": "253000"
  },
  {
    "text": "of a kubernetes cluster there's a masters and three nodes typically when",
    "start": "59190",
    "end": "68159"
  },
  {
    "text": "you you know when kubernetes first started there was no persistent storage there's nothing outside of a cluster so",
    "start": "68159",
    "end": "75090"
  },
  {
    "text": "this is a camera which version that but essentially if you wanted to store data that survived a pod moving between nodes",
    "start": "75090",
    "end": "83850"
  },
  {
    "text": "you're you're kind of screwed all storage was essentially on the actual",
    "start": "83850",
    "end": "90270"
  },
  {
    "text": "node and that was all that was available you heard the big announcement today",
    "start": "90270",
    "end": "96060"
  },
  {
    "text": "around 11.6 with dynamic provisioning where we've done is that we've with",
    "start": "96060",
    "end": "101700"
  },
  {
    "text": "kubernetes can now manage volumes that essentially are provided by external",
    "start": "101700",
    "end": "108810"
  },
  {
    "text": "storage clusters so if you think about what that means just like just like",
    "start": "108810",
    "end": "114540"
  },
  {
    "text": "managing the network or managing pods managing replication and all those things kubernetes can now manage the",
    "start": "114540",
    "end": "122119"
  },
  {
    "text": "creation of volumes and the mapping or attaching of volumes to pods right but",
    "start": "122119",
    "end": "129810"
  },
  {
    "text": "kubernetes does not manage the other side of the the actual storage cluster providing",
    "start": "129810",
    "end": "135510"
  },
  {
    "text": "these volumes right so if you're in a",
    "start": "135510",
    "end": "140610"
  },
  {
    "text": "public cloud environment like AWS or Google cloud that's typically not a",
    "start": "140610",
    "end": "146340"
  },
  {
    "text": "problem because you have persistent disks or we have EBS or you have you know the your",
    "start": "146340",
    "end": "153900"
  },
  {
    "text": "cloud providers storage that with dynamic provisioning kubernetes can",
    "start": "153900",
    "end": "160140"
  },
  {
    "text": "essentially Mountain EBS volume attach it to your instance it could make it available part as part of the pod yeah",
    "start": "160140",
    "end": "167370"
  },
  {
    "text": "and the same with Google system disk if you're not running in a public cloud environment you're kind of out of luck",
    "start": "167370",
    "end": "176120"
  },
  {
    "text": "you essentially have to run a storage cluster that can provide volumes to",
    "start": "176120",
    "end": "183629"
  },
  {
    "text": "Granny's somehow and the way you do that is it's an external thing it's not part",
    "start": "183629",
    "end": "189120"
  },
  {
    "text": "of the kubernetes environment so if you're running a software-defined stack such as staff or Gluster you essentially",
    "start": "189120",
    "end": "196530"
  },
  {
    "text": "have to run a full deployment of self and Gluster and/or Gluster and you do",
    "start": "196530",
    "end": "203130"
  },
  {
    "text": "that in a traditional way as you do it as part you typically have storage admins that are managing it it is",
    "start": "203130",
    "end": "208980"
  },
  {
    "text": "essentially a completely external to kubernetes or you use traditional",
    "start": "208980",
    "end": "214170"
  },
  {
    "text": "hardware whether it's NetApp filers or emc boxes or whatever your enterprise has for",
    "start": "214170",
    "end": "221069"
  },
  {
    "text": "storage you can certainly use those but it's the same thing there completely",
    "start": "221069",
    "end": "226859"
  },
  {
    "text": "outside this environment required with a require some admin or ticket system or",
    "start": "226859",
    "end": "232980"
  },
  {
    "text": "something to provision storage in this world and it's just essentially external",
    "start": "232980",
    "end": "240500"
  },
  {
    "text": "making sense so far I would love and interactive sessions you feel free to ask questions I'm happy to happy to make",
    "start": "240950",
    "end": "247620"
  },
  {
    "text": "this as interactive as you can",
    "start": "247620",
    "end": "251000"
  },
  {
    "start": "253000",
    "end": "392000"
  },
  {
    "text": "so what if we brought the storage cluster into the kubernetes environment",
    "start": "253240",
    "end": "259380"
  },
  {
    "text": "instead of having it be an external least that's managed and just like we've done with say networking or like we've",
    "start": "259380",
    "end": "267310"
  },
  {
    "text": "done with monitoring or like we're done with load balancing what if we actually",
    "start": "267310",
    "end": "273190"
  },
  {
    "text": "brought in ran the actual storage cluster and had it be managed by",
    "start": "273190",
    "end": "278650"
  },
  {
    "text": "kubernetes itself so if we did that then",
    "start": "278650",
    "end": "283740"
  },
  {
    "text": "to create the storage cluster I just cube cuddle I start up a a new",
    "start": "283740",
    "end": "290890"
  },
  {
    "text": "storage cluster like I would say a load balancer or like I would say Prometheus",
    "start": "290890",
    "end": "298560"
  },
  {
    "text": "and what if that storage cluster could actually provide volumes through dynamic",
    "start": "298560",
    "end": "305170"
  },
  {
    "text": "provisioning to other pods running in the same cluster we think that that's",
    "start": "305170",
    "end": "314170"
  },
  {
    "text": "what we have to do to solve the storage problem in kubernetes we think that",
    "start": "314170",
    "end": "319740"
  },
  {
    "text": "that's not only going to be a the default way of running storage in",
    "start": "319740",
    "end": "325960"
  },
  {
    "text": "kubernetes but it's going to unlock scenarios around portability across clouds and the ability to actually",
    "start": "325960",
    "end": "333700"
  },
  {
    "text": "reduce the management and the reduce the surface area of what is running in Kupa",
    "start": "333700",
    "end": "339550"
  },
  {
    "text": "days now that doesn't mean that you kind",
    "start": "339550",
    "end": "344740"
  },
  {
    "text": "of have to run in a converged mode like that you can actually if you wanted to create another kubernetes cluster just",
    "start": "344740",
    "end": "350920"
  },
  {
    "text": "for storage and scale your storage independently from your compute and your",
    "start": "350920",
    "end": "357670"
  },
  {
    "text": "applications but there is no reason if your organization is settling on using",
    "start": "357670",
    "end": "366220"
  },
  {
    "text": "kubernetes as the you know the single way of managing and running applications there's no reason why you can't go in",
    "start": "366220",
    "end": "372430"
  },
  {
    "text": "your storage cluster even a dedicated one in the same way that you run your applications",
    "start": "372430",
    "end": "379260"
  },
  {
    "text": "make sense so what I thought I would do at this point is just switch over and",
    "start": "380510",
    "end": "386750"
  },
  {
    "text": "let's talk about one of these storage systems that now runs in this way it's a",
    "start": "386750",
    "end": "393210"
  },
  {
    "start": "392000",
    "end": "548000"
  },
  {
    "text": "project called rook rook is essentially an open source file block and object",
    "start": "393210",
    "end": "402330"
  },
  {
    "text": "storage that is runs as part of your cloud native environment it runs as an",
    "start": "402330",
    "end": "409080"
  },
  {
    "text": "app in kubernetes it's completely integrated and now I'll demo it and we",
    "start": "409080",
    "end": "414960"
  },
  {
    "text": "can walk through all the details of how how how we're implementing it now before",
    "start": "414960",
    "end": "425010"
  },
  {
    "text": "I say that I think there's going to be a number of these coming up right I think I don't know of another one at this",
    "start": "425010",
    "end": "431880"
  },
  {
    "text": "point that is running in this way but I think that that trend is going to is a good one we're going to see more more",
    "start": "431880",
    "end": "438979"
  },
  {
    "text": "storage running in this fashion and then the reason for that is if you think",
    "start": "438979",
    "end": "445620"
  },
  {
    "text": "about software-defined storage its itself a distributed application it's made of many different parts it has it",
    "start": "445620",
    "end": "454590"
  },
  {
    "text": "needs to be scaled it needs to be scales according to certain dimensions metrics",
    "start": "454590",
    "end": "460880"
  },
  {
    "text": "so it looks like any other application and kubernetes is designed to deal with",
    "start": "460880",
    "end": "468240"
  },
  {
    "text": "these distributed application so it's a really good fit for for essentially the software-defined storage so what is rook",
    "start": "468240",
    "end": "478530"
  },
  {
    "text": "rook is essentially battle-tested software-defined storage and I say",
    "start": "478530",
    "end": "484470"
  },
  {
    "text": "battle-tested because we base truck on the version of stuff embedded stuff that",
    "start": "484470",
    "end": "490800"
  },
  {
    "text": "we make part of their raw binary stuff is awesome",
    "start": "490800",
    "end": "496620"
  },
  {
    "text": "EF has ten years of production deployments on top of it and runs the",
    "start": "496620",
    "end": "503310"
  },
  {
    "text": "world some of the world's largest storage clusters [Music]",
    "start": "503310",
    "end": "508759"
  },
  {
    "text": "so what you can think of rook as taking stuff and making it cloud native making",
    "start": "508759",
    "end": "515180"
  },
  {
    "text": "it so that it runs really nicely on environments like kubernetes and integrates it's very deeply into",
    "start": "515180",
    "end": "521360"
  },
  {
    "text": "kubernetes and then we'll see that rook itself is open source it's an Apache 200",
    "start": "521360",
    "end": "528260"
  },
  {
    "text": "license it is you know designed so that",
    "start": "528260",
    "end": "533660"
  },
  {
    "text": "people like you here and I'm hoping that you can all help make rook better can",
    "start": "533660",
    "end": "540079"
  },
  {
    "text": "participate and make in actually driving storage into kubernetes okay that's",
    "start": "540079",
    "end": "550690"
  },
  {
    "start": "548000",
    "end": "611000"
  },
  {
    "text": "pretty much all the slides let's actually do some demo and talk locate look at Yambol files I know you've are",
    "start": "550690",
    "end": "557089"
  },
  {
    "text": "all excited to see more llamo files",
    "start": "557089",
    "end": "560529"
  },
  {
    "text": "all right why don't we start with the",
    "start": "567130",
    "end": "575540"
  },
  {
    "text": "first UML file can you guys read this this is readable okay yes I can make a",
    "start": "575540",
    "end": "584810"
  },
  {
    "text": "larger for the guys in the front here the popcorn section up here to the left",
    "start": "584810",
    "end": "597760"
  },
  {
    "text": "to the left to the right all right let's",
    "start": "600450",
    "end": "607690"
  },
  {
    "text": "see okay so the first thing we're going",
    "start": "607690",
    "end": "613330"
  },
  {
    "start": "611000",
    "end": "783000"
  },
  {
    "text": "to do is that we're going to teach kubernetes how to manage storage clusters by extending kubernetes and the",
    "start": "613330",
    "end": "620770"
  },
  {
    "text": "way that you can extend kubernetes today is by essentially creating an operator",
    "start": "620770",
    "end": "626110"
  },
  {
    "text": "or canoe controller so part of what what Rooke does is it has a controller that's designed to",
    "start": "626110",
    "end": "633580"
  },
  {
    "text": "manage storage in the cluster we've",
    "start": "633580",
    "end": "638860"
  },
  {
    "text": "designed this again to be so deeply integrating the kubernetes so we're using third-party resources to describe",
    "start": "638860",
    "end": "644200"
  },
  {
    "text": "every aspect of the storage cluster now I'll walk through that so first I'm",
    "start": "644200",
    "end": "650500"
  },
  {
    "text": "going to create a deployment that starts the rook operator and again the rook",
    "start": "650500",
    "end": "655630"
  },
  {
    "text": "operator you can think of as an extension of kubernetes that helps a deal with storage concepts pools storage",
    "start": "655630",
    "end": "664420"
  },
  {
    "text": "clusters file systems block stores object stores etc and it's a really",
    "start": "664420",
    "end": "672940"
  },
  {
    "text": "simple deployment right now just one replicas the rook operator is of tiny binary just runs and essentially it's",
    "start": "672940",
    "end": "680320"
  },
  {
    "text": "going to watch for changes in the environment or instructions from the",
    "start": "680320",
    "end": "685810"
  },
  {
    "text": "admin about running storage and clusters so we'll start with that and sorry it's",
    "start": "685810",
    "end": "696160"
  },
  {
    "text": "quite simple we will I have a window",
    "start": "696160",
    "end": "701380"
  },
  {
    "text": "here that it's kind of watching the cluster and showing what pods and",
    "start": "701380",
    "end": "707770"
  },
  {
    "text": "resources are in it and I have a window down here where I'm going to run a command and so that's pretty much it the",
    "start": "707770",
    "end": "719830"
  },
  {
    "text": "rook operator is now running but first thing that there happens at the rook operator creates is sent a set of",
    "start": "719830",
    "end": "725320"
  },
  {
    "text": "third-party resources which is again a way to extend the kubernetes api the",
    "start": "725320",
    "end": "731020"
  },
  {
    "text": "ones we create are for storage cluster for pools and a number of others that",
    "start": "731020",
    "end": "736629"
  },
  {
    "text": "that essentially why what's up I don't",
    "start": "736629",
    "end": "744999"
  },
  {
    "text": "know I think I create I've been creating and stopping it a few times maybe it's",
    "start": "744999",
    "end": "750610"
  },
  {
    "text": "the first creation good question there's",
    "start": "750610",
    "end": "755769"
  },
  {
    "text": "no magic this is a live demo and so that",
    "start": "755769",
    "end": "764199"
  },
  {
    "text": "once the operator is running that you only have to do this once in a cluster once the operator is running from this",
    "start": "764199",
    "end": "770589"
  },
  {
    "text": "point onwards can go create new clusters you can create pools you can do all sorts of things with clusters and and",
    "start": "770589",
    "end": "778059"
  },
  {
    "text": "we'll do that this is a what again a one-time operation now let's actually",
    "start": "778059",
    "end": "785499"
  },
  {
    "start": "783000",
    "end": "1163000"
  },
  {
    "text": "look at the ammo for a cluster so again this is a fairly simple description",
    "start": "785499",
    "end": "792069"
  },
  {
    "text": "you'll see the kind here is a new kind it's a real cluster it's not so real",
    "start": "792069",
    "end": "799449"
  },
  {
    "text": "cluster is a third party resource by default kubernetes does not understand",
    "start": "799449",
    "end": "805379"
  },
  {
    "text": "rook clusters but we just define them and this will what's up",
    "start": "805379",
    "end": "817199"
  },
  {
    "text": "which company do you work for all right",
    "start": "823820",
    "end": "843150"
  },
  {
    "text": "we'll do this idea and when the demo fails all right so now that they have",
    "start": "843150",
    "end": "850350"
  },
  {
    "text": "the operator running and all the third-party resources have been declared we're going to go create a cluster and",
    "start": "850350",
    "end": "855450"
  },
  {
    "text": "we do that by creating a yellow file of kind or cluster so what this says is the declarative declarative statement it",
    "start": "855450",
    "end": "862920"
  },
  {
    "text": "says I would like a new cluster a new cluster to be deployed on this kubernetes cluster and you can also set",
    "start": "862920",
    "end": "869910"
  },
  {
    "text": "you can set the namespace that you'd like the cluster we deploy it on and a",
    "start": "869910",
    "end": "875280"
  },
  {
    "text": "bunch of metadata parameters that are essentially define the cluster right now it's very simple which version of image",
    "start": "875280",
    "end": "883200"
  },
  {
    "text": "to use a Brooke we're just using latest weather to use devices or data ders and",
    "start": "883200",
    "end": "889590"
  },
  {
    "text": "a bunch of device filters this is well you will see a lot more here but this is",
    "start": "889590",
    "end": "895350"
  },
  {
    "text": "this is essentially the minimal cluster so I will go ahead and do that let me",
    "start": "895350",
    "end": "904800"
  },
  {
    "text": "just create this cluster and what",
    "start": "904800",
    "end": "910740"
  },
  {
    "text": "happens is in if an instance of the cluster is created the operator is watching this there are party resources",
    "start": "910740",
    "end": "916520"
  },
  {
    "text": "it sees that oh somebody wants a new cluster and here are the parameters for",
    "start": "916520",
    "end": "921780"
  },
  {
    "text": "the cluster so the operator wakes up says I'm going to go deploy a new cluster and what the operator does is it",
    "start": "921780",
    "end": "928410"
  },
  {
    "text": "actually looks at the size of the cluster it looks at the number of nodes in the cluster it looks at storage nodes",
    "start": "928410",
    "end": "934680"
  },
  {
    "text": "it finds it uses a number of heuristics to figure out what the right size of",
    "start": "934680",
    "end": "940140"
  },
  {
    "text": "cluster to deploy and in this case and it starts with creating essentially the",
    "start": "940140",
    "end": "948210"
  },
  {
    "text": "set monitors bootstrapping them creating a quorum waiting for them to come up",
    "start": "948210",
    "end": "953649"
  },
  {
    "text": "putting the networking setting everything else around the cluster and",
    "start": "953649",
    "end": "963769"
  },
  {
    "text": "as I said that this is the time when the screen should come up there we go and so",
    "start": "963769",
    "end": "979310"
  },
  {
    "text": "you'll see that it created three monitors this is a step term if you're",
    "start": "979310",
    "end": "984410"
  },
  {
    "text": "not familiar with chef Steph has essentially its own Paxos role where it",
    "start": "984410",
    "end": "991610"
  },
  {
    "text": "uses it for essentially maps and and consistently in the cluster so this rook",
    "start": "991610",
    "end": "997880"
  },
  {
    "text": "operator created three monitors in a three node cluster it created three",
    "start": "997880",
    "end": "1003690"
  },
  {
    "text": "storage nodes one for each device on each of the nodes and it set it set",
    "start": "1003690",
    "end": "1010990"
  },
  {
    "text": "those up and it created a rook API server that's also running as part of the cluster if we were to grow this",
    "start": "1010990",
    "end": "1016660"
  },
  {
    "text": "cluster the operator will actually notice that that has the node size has changed and it will grow the cluster if",
    "start": "1016660",
    "end": "1023110"
  },
  {
    "text": "we were to shrink the cluster then the operator will actually also react it'll reduce the cluster size it will move and",
    "start": "1023110",
    "end": "1030010"
  },
  {
    "text": "rebalance the data as needed now a lot of this machinery is done by SEF but the",
    "start": "1030010",
    "end": "1037150"
  },
  {
    "text": "rook operators is essentially what's making SEF work in a kubernetes",
    "start": "1037150",
    "end": "1042520"
  },
  {
    "text": "environment time to think about it that way question so the operator is not on",
    "start": "1042520",
    "end": "1051040"
  },
  {
    "text": "the data path so the data path is identical to SEF you or that was one of",
    "start": "1051040",
    "end": "1056799"
  },
  {
    "text": "a explicit design point for us like I said it's ten years of production experience awesome code base we did not",
    "start": "1056799",
    "end": "1063700"
  },
  {
    "text": "want to be on the data path yeah",
    "start": "1063700",
    "end": "1067679"
  },
  {
    "text": "yep yeah so the other thing that rook does is it essentially abstracts a lot",
    "start": "1069760",
    "end": "1076810"
  },
  {
    "text": "of the complexities of stuff around not that they're not important concepts but",
    "start": "1076810",
    "end": "1082360"
  },
  {
    "text": "we think that we can expose simpler concepts that essentially right on top",
    "start": "1082360",
    "end": "1088030"
  },
  {
    "text": "of us crash maps are the ones here you mentioned are a good example of that super powerful constructs what we're",
    "start": "1088030",
    "end": "1095980"
  },
  {
    "text": "doing is at a PPR level you can specify a location in topology torque notes and",
    "start": "1095980",
    "end": "1102190"
  },
  {
    "text": "that essentially results in crushed maps being created for you and managed for you by the PI work any other questions I",
    "start": "1102190",
    "end": "1112270"
  },
  {
    "text": "thought someone yeah yes yep SSD nvme",
    "start": "1112270",
    "end": "1122820"
  },
  {
    "text": "there's different layouts on each of the storage nodes rook is in alpha so which",
    "start": "1122820",
    "end": "1130840"
  },
  {
    "text": "is near alphabets I'm sure lot of room for improvement in terms of which what kind of layouts and",
    "start": "1130840",
    "end": "1138460"
  },
  {
    "text": "all these things that were talking about but so here we go um yes yes yes",
    "start": "1138460",
    "end": "1152710"
  },
  {
    "text": "so the basic policy is that if you use if you one of the in cluster you could",
    "start": "1152710",
    "end": "1163810"
  },
  {
    "start": "1163000",
    "end": "1834000"
  },
  {
    "text": "you'll see I said they use all use all devices equals true this essentially is a flag that says I'm essentially I have",
    "start": "1163810",
    "end": "1171940"
  },
  {
    "text": "a dedicated storage cluster all physical the storage devices will be turned into",
    "start": "1171940",
    "end": "1178540"
  },
  {
    "text": "a rook cluster right so will will in you ate all your devices will figure out the",
    "start": "1178540",
    "end": "1184300"
  },
  {
    "text": "layout and we will use them for storage you can use so if you can turn that off",
    "start": "1184300",
    "end": "1189550"
  },
  {
    "text": "and you'd have to tell us which devices on each of the storage nodes or you could also use just directories and",
    "start": "1189550",
    "end": "1196840"
  },
  {
    "text": "we'll we'll actually just use the directory as you can imagine there's a lot of different policies that people",
    "start": "1196840",
    "end": "1202810"
  },
  {
    "text": "want to specify here and there's a whole proposal so",
    "start": "1202810",
    "end": "1226390"
  },
  {
    "text": "what about is that all face what about the data yes",
    "start": "1226390",
    "end": "1235450"
  },
  {
    "text": "so surf surf is really good at all of that stuff has internal mechanisms for",
    "start": "1235450",
    "end": "1240780"
  },
  {
    "text": "detecting wine storage note goes away what was both temporarily and permanently and triggering essentially",
    "start": "1240780",
    "end": "1248230"
  },
  {
    "text": "their rebalancing and and and the rear application of data so that we take advantage of all of that what at the",
    "start": "1248230",
    "end": "1255400"
  },
  {
    "text": "rook level will also recognize when a new node shows up in a kubernetes cluster and then add it to stuff and",
    "start": "1255400",
    "end": "1263350"
  },
  {
    "text": "manage that that part of it ok yeah you",
    "start": "1263350",
    "end": "1272530"
  },
  {
    "text": "do yes not not right now I mean if you",
    "start": "1272530",
    "end": "1280270"
  },
  {
    "text": "have a storage cluster and you shoot all the nodes and add your shooting your data in ed that's right that's right",
    "start": "1280270",
    "end": "1288580"
  },
  {
    "text": "right now there is no you know that how typically the way that these things are",
    "start": "1288580",
    "end": "1295840"
  },
  {
    "text": "set up is that you know they're not on an replications not at a node basis it's a logical basis and so removing a node",
    "start": "1295840",
    "end": "1304270"
  },
  {
    "text": "might trigger you know some data to move but it's not a loss and it's not",
    "start": "1304270",
    "end": "1311140"
  },
  {
    "text": "necessarily affecting a single pool right it might be affecting different pools but if you're asking how do I if I",
    "start": "1311140",
    "end": "1319750"
  },
  {
    "text": "want to decommission this set of notes harder and how do I know which order to do them there isn't any sports for this right",
    "start": "1319750",
    "end": "1325420"
  },
  {
    "text": "now yep ok let's move on a little more so I've created a cluster at this point",
    "start": "1325420",
    "end": "1332500"
  },
  {
    "text": "I've deployed as a rook cluster that's running and has an API server and every",
    "start": "1332500",
    "end": "1337520"
  },
  {
    "text": "else in these pods it's running in a namespace called rook so I have essentially a dedicated namespace my",
    "start": "1337520",
    "end": "1343970"
  },
  {
    "text": "storage cluster let's actually do something with it so I'm going let's",
    "start": "1343970",
    "end": "1353500"
  },
  {
    "text": "what I'm going to do next and I'll show you this it's a this one has a little",
    "start": "1354640",
    "end": "1360410"
  },
  {
    "text": "bit of a hack until we get our volume plugin but I'll show you so I'm going to",
    "start": "1360410",
    "end": "1369470"
  },
  {
    "text": "do two things now that I have a physical cluster running I'm going to create a",
    "start": "1369470",
    "end": "1375110"
  },
  {
    "text": "pool and a pool is essentially a logical construct that says I want you know this",
    "start": "1375110",
    "end": "1381170"
  },
  {
    "text": "kind of replication policy or maybe it's a racial coding and I can select devices",
    "start": "1381170",
    "end": "1386630"
  },
  {
    "text": "whether it's SSD and p.m. et cetera kind of alike and I can I can its I could use",
    "start": "1386630",
    "end": "1393710"
  },
  {
    "text": "this pool in for certain applications or for certain workloads it Maps very",
    "start": "1393710",
    "end": "1401960"
  },
  {
    "text": "closely to the concept of a storage class in kubernetes so the approach",
    "start": "1401960",
    "end": "1407690"
  },
  {
    "text": "we're taking is that a storage class can actually reference a pool but you can create the pool directly from using a",
    "start": "1407690",
    "end": "1415010"
  },
  {
    "text": "third party resource so I'm going to do that here the top part is kind equals root rook pool so that creates a new",
    "start": "1415010",
    "end": "1422240"
  },
  {
    "text": "pool it's set to replicate and right now just one replicas as in very very",
    "start": "1422240",
    "end": "1429380"
  },
  {
    "text": "durable and on the bottom section shows a storage class and this is a this is an",
    "start": "1429380",
    "end": "1436070"
  },
  {
    "text": "existing API code concept as part of kubernetes and there will actually point",
    "start": "1436070",
    "end": "1444410"
  },
  {
    "text": "the storage class to the rook pool so I'll let's actually do that",
    "start": "1444410",
    "end": "1453669"
  },
  {
    "text": "so if you're not familiar with storage classes they're essentially a way for admins to design a policy for how",
    "start": "1455230",
    "end": "1461810"
  },
  {
    "text": "volumes get created right from which pools which discs in a say AWS",
    "start": "1461810",
    "end": "1468140"
  },
  {
    "text": "environment it could specify the kind of EBS volumes you want mount and once you",
    "start": "1468140",
    "end": "1473660"
  },
  {
    "text": "create a storage class then people can use the storage class application",
    "start": "1473660",
    "end": "1478690"
  },
  {
    "text": "developers can actually use the service to create volumes and volume claims and we'll walk through that so at this point",
    "start": "1478690",
    "end": "1486340"
  },
  {
    "text": "I've done I created a pool I have a storage class let's go ahead and go",
    "start": "1486340",
    "end": "1493130"
  },
  {
    "text": "create an application I'm going to use WordPress WordPress requires persistent storage itself for its art for its",
    "start": "1493130",
    "end": "1500570"
  },
  {
    "text": "content but it also uses MySQL MySQL requires persistent volumes to store the",
    "start": "1500570",
    "end": "1507350"
  },
  {
    "text": "data to be reliable so let me show you what that looks like and then just quickly so the top bar creates a",
    "start": "1507350",
    "end": "1515990"
  },
  {
    "text": "persistent volume claim for the MySQL database that's going to be used by by",
    "start": "1515990",
    "end": "1523960"
  },
  {
    "text": "WordPress and you'll see that there's a storage class set to rooked look rip",
    "start": "1523960",
    "end": "1530060"
  },
  {
    "text": "block and then a set of labels and size of 20 gigabytes and the access mode",
    "start": "1530060",
    "end": "1535760"
  },
  {
    "text": "read/write right so this claim essentially matches up to",
    "start": "1535760",
    "end": "1541220"
  },
  {
    "text": "the search class and the storage class matches up to the pool and the pool is connected to the cluster that's",
    "start": "1541220",
    "end": "1548420"
  },
  {
    "text": "essentially the chain of how we know which devices end up storing the data",
    "start": "1548420",
    "end": "1553940"
  },
  {
    "text": "that's sitting underneath the spool and it's also how we know the kind of replication policy or what are using a",
    "start": "1553940",
    "end": "1559370"
  },
  {
    "text": "ratio coding or all that stuff to define on that path but it's defined in different forms in different ways so",
    "start": "1559370",
    "end": "1566510"
  },
  {
    "text": "that there's a nice separation of concern between an admin and an application developer Lucas",
    "start": "1566510",
    "end": "1574720"
  },
  {
    "text": "I think so yeah I think so",
    "start": "1576260",
    "end": "1581929"
  },
  {
    "text": "it's supported it's supported by the size of volume plugin and by others yep okay so I will skip",
    "start": "1581929",
    "end": "1591710"
  },
  {
    "text": "the rest let me actually maybe just show you the usage of this in case you've not",
    "start": "1591710",
    "end": "1596720"
  },
  {
    "text": "looked at this so here is the actual MySQL database the pod for that you'll",
    "start": "1596720",
    "end": "1605090"
  },
  {
    "text": "see in the bottom here is a volume which uses the claim so at the time of when",
    "start": "1605090",
    "end": "1612140"
  },
  {
    "text": "the pot is launched or scheduled k√ºbra days will go and it will create a",
    "start": "1612140",
    "end": "1617179"
  },
  {
    "text": "new volume and I'll do so against the storage class in the pools and everything else and then when the pod is",
    "start": "1617179",
    "end": "1625150"
  },
  {
    "text": "scheduled on the machine it's running as a part of docker then it will mount and",
    "start": "1625150",
    "end": "1630770"
  },
  {
    "text": "there is the mount that volume on that path all right so let's do that and",
    "start": "1630770",
    "end": "1643990"
  },
  {
    "text": "you'll see the bottom two lines show that two volumes have been created one",
    "start": "1644650",
    "end": "1650690"
  },
  {
    "text": "for MySQL the other for WordPress 20 gigabytes each now after those are",
    "start": "1650690",
    "end": "1657980"
  },
  {
    "text": "created the WordPress application is running and so the MySQL database that's",
    "start": "1657980",
    "end": "1664880"
  },
  {
    "text": "supporting it all of this was done automatically right all the volumes are",
    "start": "1664880",
    "end": "1671390"
  },
  {
    "text": "created everything cluster all of it let's actually start it up and see it",
    "start": "1671390",
    "end": "1680299"
  },
  {
    "text": "running",
    "start": "1680299",
    "end": "1682510"
  },
  {
    "text": "there's WordPress let's see",
    "start": "1706010",
    "end": "1712850"
  },
  {
    "text": "we're going to install WordPress well again and here we go so a couple of",
    "start": "1724250",
    "end": "1742139"
  },
  {
    "text": "things I want to mention I only use cube cuddle to provision this whole thing",
    "start": "1742139",
    "end": "1749070"
  },
  {
    "text": "I didn't use any third-party tools I didn't use any other CLI I truly just",
    "start": "1749070",
    "end": "1755580"
  },
  {
    "text": "used kubernetes to bootstrap an entire storage cluster and use it itself again",
    "start": "1755580",
    "end": "1762510"
  },
  {
    "text": "a testament to both the extensibility of kubernetes but also the fact that you",
    "start": "1762510",
    "end": "1768899"
  },
  {
    "text": "should think of storage as just another app that runs as part of your cluster um",
    "start": "1768899",
    "end": "1776600"
  },
  {
    "text": "question",
    "start": "1776600",
    "end": "1779600"
  },
  {
    "text": "can somebody press the button again",
    "start": "1782990",
    "end": "1787070"
  },
  {
    "text": "kill the pod I I planted him yeah",
    "start": "1791510",
    "end": "1808220"
  },
  {
    "text": "to restart another node yes promising",
    "start": "1813750",
    "end": "1820700"
  },
  {
    "text": "you know you know it's a very good question I'll tell you that some of the",
    "start": "1820760",
    "end": "1826530"
  },
  {
    "text": "early users of rook do exact how the same thing on AWS and there the numbers",
    "start": "1826530",
    "end": "1834180"
  },
  {
    "text": "are up to an hour to detach a volume from an instance and attach it to",
    "start": "1834180",
    "end": "1840330"
  },
  {
    "text": "another instance could take up to an hour and so if you're running something like in this case Prometheus on top of",
    "start": "1840330",
    "end": "1847650"
  },
  {
    "text": "storage you're you're beautiful charts look like they have big gaps in them and you don't know why and the reason is",
    "start": "1847650",
    "end": "1855570"
  },
  {
    "text": "it's actually the just how long it takes of storage the other the other reasons that people look at this in these",
    "start": "1855570",
    "end": "1862500"
  },
  {
    "text": "environments is that they you know at least in Amazon an EBS volume is you",
    "start": "1862500",
    "end": "1869100"
  },
  {
    "text": "know essentially within one availability zone you can't say detach it from one",
    "start": "1869100",
    "end": "1874500"
  },
  {
    "text": "zone and attach it in another zone you have to snapshot and move it right by running a software-defined stack you can",
    "start": "1874500",
    "end": "1880380"
  },
  {
    "text": "actually create a cluster that is across multiple zones and a pod could fail over",
    "start": "1880380",
    "end": "1885690"
  },
  {
    "text": "across zones without needing to actually do anything and in such environments so",
    "start": "1885690",
    "end": "1893610"
  },
  {
    "text": "so again I was hinting earlier about well I said Amazon all these questions",
    "start": "1893610",
    "end": "1900390"
  },
  {
    "text": "came up why we do that afterwards I don't even",
    "start": "1900390",
    "end": "1907070"
  },
  {
    "text": "know how to question yeah yeah good",
    "start": "1907070",
    "end": "1929630"
  },
  {
    "text": "question right now we're using the standard CFR Biddy plugin that's part of kubernetes that big big statement here",
    "start": "1929630",
    "end": "1941480"
  },
  {
    "text": "with all these exports and magic acts in it is to work around a set of issues with the RVD plugin we're creating a",
    "start": "1941480",
    "end": "1948830"
  },
  {
    "text": "rook plugin we hope we hope will be part of 1.7 kubernetes 1.7 that makes this",
    "start": "1948830",
    "end": "1953930"
  },
  {
    "text": "whole experience a lot better the other thing I'll say is that rook is not just",
    "start": "1953930",
    "end": "1960020"
  },
  {
    "text": "like stuff it's not just blog storage so you can actually run a shared file system here as well and so you know you",
    "start": "1960020",
    "end": "1968420"
  },
  {
    "text": "could not you can go through a path of not just RVD that sefa 'this is the other path um and there you just use you",
    "start": "1968420",
    "end": "1978410"
  },
  {
    "text": "know whatever your favorite SP client is from or swift client that's right yeah",
    "start": "1978410",
    "end": "1987380"
  },
  {
    "text": "you could the way it would look going forward is that there will be a TP are for object storage you created TPR and",
    "start": "1987380",
    "end": "1993620"
  },
  {
    "text": "then Rick will manage the object store in your own essentially or an s3 running",
    "start": "1993620",
    "end": "1998840"
  },
  {
    "text": "in the cluster yep another question",
    "start": "1998840",
    "end": "2005370"
  },
  {
    "text": "[Music] network traffic there very good question",
    "start": "2007780",
    "end": "2016120"
  },
  {
    "text": "so so in general I'll say at the managing resources kubernetes there's a",
    "start": "2016120",
    "end": "2022120"
  },
  {
    "text": "lot of facilities for managing memory and CPU and you know with labels and selectors and all policies you can set",
    "start": "2022120",
    "end": "2028840"
  },
  {
    "text": "network traffic very different story typically with CNI you have you know one",
    "start": "2028840",
    "end": "2036210"
  },
  {
    "text": "interface that you set on a volume or on a container and that's all you get you",
    "start": "2036210",
    "end": "2044070"
  },
  {
    "text": "can play games with things like SRV io and others at the host level to do this",
    "start": "2044070",
    "end": "2050010"
  },
  {
    "text": "you can play games with v-line colouring essentially you can mount multiple",
    "start": "2050010",
    "end": "2057030"
  },
  {
    "text": "networks in a container even with C and I there is there are ways to do that",
    "start": "2057030",
    "end": "2062810"
  },
  {
    "text": "right now we're taking the simple case it is not the fastest case the fastest",
    "start": "2062810",
    "end": "2068850"
  },
  {
    "text": "case will be one where you have to color the traffic and prioritize it in one of",
    "start": "2068850",
    "end": "2074370"
  },
  {
    "text": "the ways I just mentioned question yes",
    "start": "2074370",
    "end": "2088950"
  },
  {
    "text": "yeah that was one of the pictures I showed earlier yep that's pretty much it",
    "start": "2088950",
    "end": "2100350"
  },
  {
    "text": "I was going to show one more slide and then wrap up I'm happy to take any more",
    "start": "2100350",
    "end": "2106470"
  },
  {
    "text": "questions so let me talk a lil I have it",
    "start": "2106470",
    "end": "2111570"
  },
  {
    "text": "on adjust we have a bunch of stuff on the read media helps you walk through all of us I'll put this exact demo on",
    "start": "2111570",
    "end": "2118110"
  },
  {
    "text": "there as well so just to wrap up kind of what the storage operator is and what",
    "start": "2118110",
    "end": "2124350"
  },
  {
    "text": "it's doing essentially it's defining desired state this is what I want to happen in my cluster through third-party",
    "start": "2124350",
    "end": "2131070"
  },
  {
    "text": "resources and you can take those extensions to kubernetes just like there",
    "start": "2131070",
    "end": "2136200"
  },
  {
    "text": "is a deployment and a service and all those concepts that are in kubernetes we now added a cluster or storage cluster",
    "start": "2136200",
    "end": "2143160"
  },
  {
    "text": "in a pool an object storage and all those those are essentially concepts that are now extending kubernetes the",
    "start": "2143160",
    "end": "2149730"
  },
  {
    "text": "operator tries to achieve this desired state the you know the will of the admin the desired by watching both what's",
    "start": "2149730",
    "end": "2157590"
  },
  {
    "text": "happening in a network what's happening in the cluster and watching the actual desired state and it's sitting",
    "start": "2157590",
    "end": "2163380"
  },
  {
    "text": "essentially in the loop just like other controllers trying to make actual state",
    "start": "2163380",
    "end": "2169440"
  },
  {
    "text": "approximate desired state that's the role and it knows a lot about the",
    "start": "2169440",
    "end": "2175180"
  },
  {
    "text": "storage cluster itself so it's doing it in a way that is very you know unjust",
    "start": "2175180",
    "end": "2183420"
  },
  {
    "text": "understanding of the fact that it's a stateful data and needs rebalancing and you need notes come out and all those",
    "start": "2183420",
    "end": "2188950"
  },
  {
    "text": "deficits and then the last part I'll say is that it's not on a data path can be",
    "start": "2188950",
    "end": "2194140"
  },
  {
    "text": "offline for minutes not everything will run but when it comes back up everything is everything's normal",
    "start": "2194140",
    "end": "2200350"
  },
  {
    "text": "and it can run in an H a pair to a deployments if we need it to and finally",
    "start": "2200350",
    "end": "2207940"
  },
  {
    "text": "if you want more info go there Lucas here is doing a talk tomorrow that has",
    "start": "2207940",
    "end": "2213540"
  },
  {
    "text": "showing cube Adam and rook on raspberry pi do not miss that talk should be",
    "start": "2213540",
    "end": "2218980"
  },
  {
    "text": "really cool it's tomorrow at 1400",
    "start": "2218980",
    "end": "2225869"
  }
]