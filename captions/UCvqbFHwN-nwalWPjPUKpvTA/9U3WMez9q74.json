[
  {
    "text": "good morning CubeCon Can you hear us all right We are going to be here talk about",
    "start": "240",
    "end": "6720"
  },
  {
    "text": "journey at New York Time is cyclless service mesh ambient mesh disappearing",
    "start": "6720",
    "end": "11920"
  },
  {
    "text": "into the infrastructure Uh my name is Selen I come from Raleigh North Carolina a",
    "start": "11920",
    "end": "18800"
  },
  {
    "text": "suburb of Raleigh Kerry Uh I work at Solo and a fun fact about my employer we",
    "start": "18800",
    "end": "25199"
  },
  {
    "text": "are the 10th largest contributor to all of the CNCF project combined Now I'm",
    "start": "25199",
    "end": "30880"
  },
  {
    "text": "going to pass to my co-speaker Thank you Lyn Hello everyone My name is Ahmed Bors",
    "start": "30880",
    "end": "36800"
  },
  {
    "text": "I'm a principal engineer at the New York Times I work in infrastructure I do Kubernetes I do STO And this is a",
    "start": "36800",
    "end": "42879"
  },
  {
    "text": "specific talk is special It's my second talk that I have my daughter with me",
    "start": "42879",
    "end": "48160"
  },
  {
    "text": "She's sitting over here Let's give her a round of applause",
    "start": "48160",
    "end": "54360"
  },
  {
    "text": "So let's start talk about the New York Times Our mission is simple We seek the truth and help people understand the",
    "start": "55760",
    "end": "62000"
  },
  {
    "text": "world And we aim to do that by building the essential subscription for every",
    "start": "62000",
    "end": "67119"
  },
  {
    "text": "English speaking person so they can understand the world One question I get a lot is like what we do like we are",
    "start": "67119",
    "end": "73840"
  },
  {
    "text": "very known for our news and journalism but we also do other things like games like I'm sure you heard about Wordle",
    "start": "73840",
    "end": "80080"
  },
  {
    "text": "crosswords and other games that we provide We also have the cooking apps if you are inspired to do some recipes",
    "start": "80080",
    "end": "86000"
  },
  {
    "text": "Would love to talk to you about what's your favorite recipes And then we have the wire cutter if you want a product",
    "start": "86000",
    "end": "91400"
  },
  {
    "text": "recommendation Athletic for like all of our sports fans and audio as well if you",
    "start": "91400",
    "end": "96799"
  },
  {
    "text": "want to listen to our stories and different articles as well So let's",
    "start": "96799",
    "end": "102079"
  },
  {
    "text": "start by a question Do we really need a service mesh who's in here use a service mesh",
    "start": "102079",
    "end": "108880"
  },
  {
    "text": "can you raise your hand everyone here uses service mesh That's great But like",
    "start": "108880",
    "end": "113920"
  },
  {
    "text": "sometimes you come to a question when like you start to build your infrastructure and your platform and you",
    "start": "113920",
    "end": "119040"
  },
  {
    "text": "ask your team like hey we need a service mesh Some people would say hm why do we",
    "start": "119040",
    "end": "124560"
  },
  {
    "text": "need it for sometimes it's hard to answer this question So I'm here today to tell you about our journey on why we",
    "start": "124560",
    "end": "131520"
  },
  {
    "text": "decided to use a service mesh So as a platform team we offer",
    "start": "131520",
    "end": "137680"
  },
  {
    "text": "multiple things to our end users When I talk about our end users I'm talking about our product engineering teams So",
    "start": "137680",
    "end": "144879"
  },
  {
    "text": "our road map is like workflows So we started to define the workflows for our engineers when they want to create a",
    "start": "144879",
    "end": "151680"
  },
  {
    "text": "service and then they start like code the service and they get like CI/CD pipelines out of the box and we have a",
    "start": "151680",
    "end": "158800"
  },
  {
    "text": "shared Kubernetes cluster that we run things on Then we route all of that traffic through our platform and all of",
    "start": "158800",
    "end": "165200"
  },
  {
    "text": "that is encapsulated with observability out of the box So that what we offer on",
    "start": "165200",
    "end": "170319"
  },
  {
    "text": "a high level context But what about routing how we do routing so we do routing like this in some way in some",
    "start": "170319",
    "end": "177280"
  },
  {
    "text": "sense So by default when you build a platform you wanted your platform to be resilient You want it to be high",
    "start": "177280",
    "end": "183680"
  },
  {
    "text": "available So we think about it from like a multi-reion perspective How can we do that so we have a multiple regions DNS",
    "start": "183680",
    "end": "191040"
  },
  {
    "text": "load balancers gateway services But what happened when service A want to talk to",
    "start": "191040",
    "end": "196239"
  },
  {
    "text": "service D like they are in the same cluster how they do that like how he do retries what if service D is not",
    "start": "196239",
    "end": "202720"
  },
  {
    "text": "available what if service C is deployed in a multiple clusters but the local",
    "start": "202720",
    "end": "208400"
  },
  {
    "text": "cluster dies and then like we have to switch traffic to somewhere else what happen when we want to do a canary",
    "start": "208400",
    "end": "214480"
  },
  {
    "text": "deployment how all of this would happen you still can do it but you have to build it in your application and you",
    "start": "214480",
    "end": "220720"
  },
  {
    "text": "build it in your application by like having HD client do retries timeouts all of that kind of stuff So it added an",
    "start": "220720",
    "end": "227040"
  },
  {
    "text": "overload to your application teams to think about all of these steps when they",
    "start": "227040",
    "end": "232080"
  },
  {
    "text": "develop their applications So we need a mesh and here's why So first we need to route",
    "start": "232080",
    "end": "239040"
  },
  {
    "text": "traffic We need to route traffic between services in a fine grained way We need to be able to do canary deployments We",
    "start": "239040",
    "end": "245360"
  },
  {
    "text": "need to do traffic shifting If cluster is failing if a if a service is failing how we do that we also need to decouple",
    "start": "245360",
    "end": "252640"
  },
  {
    "text": "the application teams from being able to route traffic through their clients and",
    "start": "252640",
    "end": "257680"
  },
  {
    "text": "through custom logic that they have Once we have it transparent in a different layer it's decoupling all of the",
    "start": "257680",
    "end": "263440"
  },
  {
    "text": "application logic from the routing logic But also other things that we look at we need to have it secure by default So",
    "start": "263440",
    "end": "269520"
  },
  {
    "text": "MTLS we need to offer this out of the box We don't need them to worry about certificates and spiffy and all of the",
    "start": "269520",
    "end": "275680"
  },
  {
    "text": "IDs that they need to have to keep their application running All of that is delivered to them and at the end we need",
    "start": "275680",
    "end": "283280"
  },
  {
    "text": "to have observability layer across the service mesh and not just across service mesh across everything So why we ask",
    "start": "283280",
    "end": "290639"
  },
  {
    "text": "them to like hey expose all of your metrics like do this with your clients So we need to offer all of that layer 7",
    "start": "290639",
    "end": "297840"
  },
  {
    "text": "fine grain matrix to the service teams So we'll walk you through the journey So",
    "start": "297840",
    "end": "303520"
  },
  {
    "text": "when we start doing like multi-tenant cluster as a New York Times we looked at what we need we need networking we need",
    "start": "303520",
    "end": "310400"
  },
  {
    "text": "like a very efficient powerful matrix that we can look at and like how to do",
    "start": "310400",
    "end": "316160"
  },
  {
    "text": "isolation So we start with selium selium seems to be the right fit from that perspective then we have a multicluster",
    "start": "316160",
    "end": "323199"
  },
  {
    "text": "architecture so we have some challenges how to do that across multiple VBCs",
    "start": "323199",
    "end": "328720"
  },
  {
    "text": "across multiple tenants So we started to flatten the network use selium cluster",
    "start": "328720",
    "end": "334320"
  },
  {
    "text": "mesh to make everything flat and there that's when we looked at we need a mesh",
    "start": "334320",
    "end": "339840"
  },
  {
    "text": "we need to be able to shift traffic from one place to another we thought about like using services in selium and",
    "start": "339840",
    "end": "345199"
  },
  {
    "text": "cluster mesh and we I give a talk with Peta uh one of the engineers that I work",
    "start": "345199",
    "end": "350320"
  },
  {
    "text": "with on the service mesh most of the times and we have found out that like we need something that is really like",
    "start": "350320",
    "end": "356880"
  },
  {
    "text": "capable of doing service mesh across the board so that's why We used STO So STO",
    "start": "356880",
    "end": "362639"
  },
  {
    "text": "out of the box is a very service mesh rich in all of the features that it can",
    "start": "362639",
    "end": "368560"
  },
  {
    "text": "offer It can offer a lot on what you can do But here's the thing nothing comes",
    "start": "368560",
    "end": "373680"
  },
  {
    "text": "for free It comes with a cost You have to run it You run a control plane data plane there are proxies there are",
    "start": "373680",
    "end": "379680"
  },
  {
    "text": "different things It works and delivers the value but there's an overhead that we can see And from there ambient came",
    "start": "379680",
    "end": "387600"
  },
  {
    "text": "on and it's a game changer because like now we are shifting how we use proxy and",
    "start": "387600",
    "end": "393840"
  },
  {
    "text": "sidec cars in our application to something like less proxies because believe it or not you don't need",
    "start": "393840",
    "end": "400319"
  },
  {
    "text": "everything that you offer out of the box but you need to have this decoupled in a way and from here on give it to Lynn so",
    "start": "400319",
    "end": "407759"
  },
  {
    "text": "she can walk us through the ambient architecture All right I was so excited to see so many people raise up hands on",
    "start": "407759",
    "end": "415039"
  },
  {
    "text": "using service mesh So you're all probably familiar with the site architecture When we started almost",
    "start": "415039",
    "end": "422000"
  },
  {
    "text": "eight years ago we had a vision that we wanted a service mesh to be transparent",
    "start": "422000",
    "end": "428400"
  },
  {
    "text": "to the application workload And we find out throughout the years of developing",
    "start": "428400",
    "end": "433680"
  },
  {
    "text": "service mesh with ISTO we couldn't achieve that goal with SCAS because the",
    "start": "433680",
    "end": "439199"
  },
  {
    "text": "moment you drag the side car with your application you always have to restart your application The moment there is a",
    "start": "439199",
    "end": "446479"
  },
  {
    "text": "envoy CVE you always have to restart your application pod So this is why we",
    "start": "446479",
    "end": "453680"
  },
  {
    "text": "innovated in the community with is still ambient So let me quickly walk you",
    "start": "453680",
    "end": "459120"
  },
  {
    "text": "through on the architecture How many of you know uh the concept of node agent in",
    "start": "459120",
    "end": "464639"
  },
  {
    "text": "kuberneti i assume it's everybody uh right it's a agent serving all the pods",
    "start": "464639",
    "end": "470400"
  },
  {
    "text": "on the node Um so with your ambient we introduce the zero trust tunnel who is",
    "start": "470400",
    "end": "477759"
  },
  {
    "text": "the node agent You can think about it as a node agent running on your Kubernetes",
    "start": "477759",
    "end": "483520"
  },
  {
    "text": "uh node that serves all the paths in ambient on that node Uh what does it do",
    "start": "483520",
    "end": "490879"
  },
  {
    "text": "it provides um identity for the pods in ambient through spiffy It upgrades the",
    "start": "490879",
    "end": "498319"
  },
  {
    "text": "connection through mutual TS So we have transition uh encryption in transit We",
    "start": "498319",
    "end": "504400"
  },
  {
    "text": "have we can do fips uh 14203 it can enforce a simple authorization policy at",
    "start": "504400",
    "end": "511520"
  },
  {
    "text": "the layer 4 So that's what's provided for uh Z tunnel Uh the other interesting",
    "start": "511520",
    "end": "518719"
  },
  {
    "text": "factor of ambient architecture uh you all familiar how many of you are you",
    "start": "518719",
    "end": "524000"
  },
  {
    "text": "running gateways in Kubernetes or familiar with Kubernetes gateway API So gateway controls the traffic coming into",
    "start": "524000",
    "end": "531600"
  },
  {
    "text": "your cubernetic cluster or the traffic from your cubernetic cluster going outside of your cluster to external",
    "start": "531600",
    "end": "538640"
  },
  {
    "text": "service like open AI Right so we brought the concept of the gateway into the mesh",
    "start": "538640",
    "end": "545040"
  },
  {
    "text": "through our layer 7 proxy which we call it the layer 7 processing layer called",
    "start": "545040",
    "end": "551040"
  },
  {
    "text": "waypoint And the reason we brought uh the waypoint proxy as a gateway into",
    "start": "551040",
    "end": "557519"
  },
  {
    "text": "ambient architecture is we want to bring the same gateway experience you have on",
    "start": "557519",
    "end": "563200"
  },
  {
    "text": "the ingress on the egress into the service mesh So you have the consistent",
    "start": "563200",
    "end": "568399"
  },
  {
    "text": "experience through Kubernetic gateway API to control traffic for multiple",
    "start": "568399",
    "end": "574080"
  },
  {
    "text": "direction whether it's east west or ingress or egress So the layer 7 proxy",
    "start": "574080",
    "end": "580560"
  },
  {
    "text": "uh waypoint does all the service mesh layer 7 capability that Aman just talked",
    "start": "580560",
    "end": "586399"
  },
  {
    "text": "about uh traffic management traffic resilience uh layer 7 observability",
    "start": "586399",
    "end": "592399"
  },
  {
    "text": "layer 7 security policies uh authorization policy enforcement so",
    "start": "592399",
    "end": "597839"
  },
  {
    "text": "that's all provided and we reuse envoy proxy to implement uh the waypoint",
    "start": "597839",
    "end": "604680"
  },
  {
    "text": "proxy so the key innovation of your ambient architecture when we invented",
    "start": "604680",
    "end": "609839"
  },
  {
    "text": "ambient is this multi-layer architecture the layer 4 which is the zero trust",
    "start": "609839",
    "end": "615600"
  },
  {
    "text": "tunnel that provides all the function related to uh uh traffic management at",
    "start": "615600",
    "end": "622160"
  },
  {
    "text": "TCP security and observability at layer 4 that you can share for all the",
    "start": "622160",
    "end": "627920"
  },
  {
    "text": "applications in ambient on that single node and the layer 7 proxy through",
    "start": "627920",
    "end": "633200"
  },
  {
    "text": "waypoint and you got to define what is the scope for your waypoint point",
    "start": "633200",
    "end": "638399"
  },
  {
    "text": "Typically we see user running a waypoint per namespace You can also run a",
    "start": "638399",
    "end": "644079"
  },
  {
    "text": "waypoint per service or you can run a waypoint per multiple uh name space",
    "start": "644079",
    "end": "649760"
  },
  {
    "text": "depends on what tenant scope you feel comfortable And what's really cool about",
    "start": "649760",
    "end": "654880"
  },
  {
    "text": "the architecture is the Z tunnel and the waypoint proxy are all running outside",
    "start": "654880",
    "end": "660320"
  },
  {
    "text": "of your application pod So we can achieve the goal of service match we said eight years ago to be truly",
    "start": "660320",
    "end": "667839"
  },
  {
    "text": "transparent to your application workload Now why two layer architecture",
    "start": "667839",
    "end": "674160"
  },
  {
    "text": "why are we not using envoy proxy for the layer 4 because envoy inherently wasn't",
    "start": "674160",
    "end": "680640"
  },
  {
    "text": "designed for multi-tenency There's noise label factor you have to concern Uh",
    "start": "680640",
    "end": "686480"
  },
  {
    "text": "there is an outage you have to concern You don't want to be one busy neighbor",
    "start": "686480",
    "end": "693600"
  },
  {
    "text": "on that node and bring down your entire proxy that's serving everybody else on",
    "start": "693600",
    "end": "699040"
  },
  {
    "text": "the node who may come from a different tenant different application and the founder of enmatt client definitely",
    "start": "699040",
    "end": "705279"
  },
  {
    "text": "agree with us on that sentiment Uh we did announce is still ambient uh going g",
    "start": "705279",
    "end": "711920"
  },
  {
    "text": "in solic city uh in November last year So now I'm going to pass to Ahmed to",
    "start": "711920",
    "end": "719040"
  },
  {
    "text": "talk a lot more about ambient Thank you Lynn So imagine this going from one side to",
    "start": "719040",
    "end": "726160"
  },
  {
    "text": "another But like if you are using like small clusters you might not see this out of the box quickly But like if we",
    "start": "726160",
    "end": "733200"
  },
  {
    "text": "are running hundreds of nodes thousands of buds like this is what you need This",
    "start": "733200",
    "end": "738480"
  },
  {
    "text": "is what you look for like all of these proxies on that side will go away because like you don't necessarily need",
    "start": "738480",
    "end": "745040"
  },
  {
    "text": "every single proxy for every single bud like if I run like thousands of buds that mean like the same number of buds",
    "start": "745040",
    "end": "751200"
  },
  {
    "text": "I'm running the same number of side cars that I'm running but like what if I don't need all of them what if I need to",
    "start": "751200",
    "end": "756480"
  },
  {
    "text": "process my traffic differently that's when you move to the ambient side and we only have the L4 proxy which is the Z",
    "start": "756480",
    "end": "763600"
  },
  {
    "text": "tunnel that Lynn talked about that can move a lot of that traffic can manage MTLS identity like layer 4 policies and",
    "start": "763600",
    "end": "771600"
  },
  {
    "text": "if I need to have a layer 7 I can add a waypoint and that's what I can do distribute traffic through so it give us",
    "start": "771600",
    "end": "778880"
  },
  {
    "text": "like multiple option about like the way that it's designed we can have like ambient and waypoints running per",
    "start": "778880",
    "end": "785760"
  },
  {
    "text": "namespace or running per application so also decoupling the scaling from the mesh to the application so now my",
    "start": "785760",
    "end": "792639"
  },
  {
    "text": "applications can scale independently from my routing traffic layer on how",
    "start": "792639",
    "end": "797760"
  },
  {
    "text": "that day scale And that gives us like a like a different architecture for how it works",
    "start": "797760",
    "end": "804320"
  },
  {
    "text": "And I still remember the days I was talking to the team about like hey there's this thing called ambient like",
    "start": "804320",
    "end": "809600"
  },
  {
    "text": "what do you think about and then we start testing it I was like that's great like we can reduce a lot of footprint of",
    "start": "809600",
    "end": "815600"
  },
  {
    "text": "our CPU and memory and all of the things that like comes with a service mesh into like a simpler layer So let's talk about",
    "start": "815600",
    "end": "822959"
  },
  {
    "text": "how we tested it So we start testing it to see like what's really happening over there First there's no sidecars So if",
    "start": "822959",
    "end": "829920"
  },
  {
    "text": "you are into like annotations like start like hold your application until the",
    "start": "829920",
    "end": "835920"
  },
  {
    "text": "proxy starts and like you get some 503 and like you've been playing with like how this happens That doesn't happen",
    "start": "835920",
    "end": "842079"
  },
  {
    "text": "anymore Web hook injection doesn't happen anymore application can on board",
    "start": "842079",
    "end": "847120"
  },
  {
    "text": "faster into this way because like you either have an L4 tunnel which is by",
    "start": "847120",
    "end": "852160"
  },
  {
    "text": "default running on the node or you can have a waypoint that will route traffic too So simplified everything from our",
    "start": "852160",
    "end": "858680"
  },
  {
    "text": "perspective goes to like CPU by default you are losing a lot of the proxy CPU",
    "start": "858680",
    "end": "865519"
  },
  {
    "text": "and memory So like that is a waste and now we like achieved that by like",
    "start": "865519",
    "end": "870639"
  },
  {
    "text": "removing that proxy But like also if you look at the performance of how the Z tunnel versus the proxy you're going to",
    "start": "870639",
    "end": "877040"
  },
  {
    "text": "see like more improvement on the Z tunnel Z tunnel is written in rust So it's more performant on the CPU layer It",
    "start": "877040",
    "end": "883360"
  },
  {
    "text": "can do more things that like what invoy can do So it's better like 25% uh",
    "start": "883360",
    "end": "889760"
  },
  {
    "text": "reduction in latency the numbers when you look at the numbers from like a very low like uh I had that number on the",
    "start": "889760",
    "end": "896160"
  },
  {
    "text": "screen and it was like hey we reduced it from like 498 4.98 milliseconds to 3.7",
    "start": "896160",
    "end": "902800"
  },
  {
    "text": "millisecond doesn't seem like a lot but it's 25% on a large scale that can improve like all of the latency and",
    "start": "902800",
    "end": "909279"
  },
  {
    "text": "imagine like when we talk a service mesh and a microser architecture like every millisecond matters because like the",
    "start": "909279",
    "end": "916560"
  },
  {
    "text": "request through your cluster might go through multiple services across So ambient is working for us as we are",
    "start": "916560",
    "end": "923279"
  },
  {
    "text": "expected on a multicluster level with thousands of buds hundreds of nodes",
    "start": "923279",
    "end": "928360"
  },
  {
    "text": "multicluster let's talk about it So what we learned through the process of that",
    "start": "928360",
    "end": "933920"
  },
  {
    "text": "is that we can just label the name space So the way that we like looked at it we're like okay we'll install like the",
    "start": "933920",
    "end": "940320"
  },
  {
    "text": "STO data plane with sidec cars and we'll install also the ambient data plane and we'll start migrate like a namespace by",
    "start": "940320",
    "end": "947040"
  },
  {
    "text": "namespace a service by service and see how it works That works very well Ambient D tunnels will be able to pick",
    "start": "947040",
    "end": "954560"
  },
  {
    "text": "the traffic as it's needed and we don't see any interruptions Then apps doesn't",
    "start": "954560",
    "end": "960240"
  },
  {
    "text": "need to change anything they don't need change policies if they don't do like a lot of things that works in the ambient",
    "start": "960240",
    "end": "966480"
  },
  {
    "text": "as it's expected also there's a lot of debugging tooling that we have used from httl waypoint and the tunnel config to",
    "start": "966480",
    "end": "973920"
  },
  {
    "text": "make sure how things are working but I wouldn't be honest if I didn't tell you",
    "start": "973920",
    "end": "979519"
  },
  {
    "text": "about the things that didn't work well so when we started looking at this earlier last year we found out that some",
    "start": "979519",
    "end": "987360"
  },
  {
    "text": "policies in oz might behave differently on the ambient player and these are the",
    "start": "987360",
    "end": "992639"
  },
  {
    "text": "things that like when you are a very early adopter for a technology things like start like get resolved and like",
    "start": "992639",
    "end": "998959"
  },
  {
    "text": "working with Lynn and John Howard and like all of the community and STO maintainers they would able like to do a",
    "start": "998959",
    "end": "1004959"
  },
  {
    "text": "priority for all of that main features that we need to do to adopt something like this Some of the obserability work",
    "start": "1004959",
    "end": "1011759"
  },
  {
    "text": "also needs some tweaks from filtering because like architecture has changed like instead of having a proxy for every",
    "start": "1011759",
    "end": "1017680"
  },
  {
    "text": "bot now you have something else Now we have way points you have Z tunnel you have like shared architecture across the",
    "start": "1017680",
    "end": "1023680"
  },
  {
    "text": "node So some of these stuff might be different Expectation has changed Also",
    "start": "1023680",
    "end": "1028720"
  },
  {
    "text": "like earlier in the process when we started to load test some of the Z tunnel proxies we found out that they",
    "start": "1028720",
    "end": "1035438"
  },
  {
    "text": "have a CBU spikes when we board many services like one at a time or like a",
    "start": "1035439",
    "end": "1040959"
  },
  {
    "text": "lot at a time So that also was like something that we have to look at but working with the SD team that was able",
    "start": "1040959",
    "end": "1046959"
  },
  {
    "text": "to get resolved over the next release But here's the point We run a multicluster So what happened is we were",
    "start": "1046959",
    "end": "1054640"
  },
  {
    "text": "too excited to go through and then like we went through it works well for a single cluster but unfortunately it",
    "start": "1054640",
    "end": "1061600"
  },
  {
    "text": "doesn't work for a multicluster So we're still in that space We are excited but we are not there yet until I talk to Len",
    "start": "1061600",
    "end": "1068240"
  },
  {
    "text": "more about it and she gonna announce like some stuff about ambient mode",
    "start": "1068240",
    "end": "1073919"
  },
  {
    "text": "Yeah So we're very very first of shout being one of our early testing adopter",
    "start": "1073919",
    "end": "1081080"
  },
  {
    "text": "for help us identify this issue and we were able to resolve all the issues he",
    "start": "1081080",
    "end": "1086559"
  },
  {
    "text": "highlighted for him So I'm very happy on that Now working with uh the community on the multicluster uh the community is",
    "start": "1086559",
    "end": "1094400"
  },
  {
    "text": "working really really hard on driving multicluster coming to is upstream So",
    "start": "1094400",
    "end": "1099760"
  },
  {
    "text": "we're going to have similar multicluster support as the scika multicluster Uh the",
    "start": "1099760",
    "end": "1104880"
  },
  {
    "text": "interesting thing with ambient multicluster coming is we the traffic will go through the zero trust tunnel Uh",
    "start": "1104880",
    "end": "1111440"
  },
  {
    "text": "so you don't have to drag the side car and depends whether your destination has the waypoint The traffic will go through",
    "start": "1111440",
    "end": "1117600"
  },
  {
    "text": "the east west gateway hop to the waypoint for additional authorization policy or layer 7 policy enforcement",
    "start": "1117600",
    "end": "1125039"
  },
  {
    "text": "before it goes to the target destination All right with that um who wants to see",
    "start": "1125039",
    "end": "1130880"
  },
  {
    "text": "a live demo of ambient yes All right let's see it We have uh 10 more minutes",
    "start": "1130880",
    "end": "1138000"
  },
  {
    "text": "So I'm going to be actually didn't show Ammon this demo So I told him before our",
    "start": "1138000",
    "end": "1144559"
  },
  {
    "text": "session if this time I can show a two minutes demo of ambient So I do have",
    "start": "1144559",
    "end": "1150880"
  },
  {
    "text": "this is my cubernetic cluster and I have uh my client application my demo",
    "start": "1150880",
    "end": "1157039"
  },
  {
    "text": "application I'm also learning generative AI myself So I have the rag application",
    "start": "1157039",
    "end": "1162160"
  },
  {
    "text": "I have with version one and version two In my default namespace I have the",
    "start": "1162160",
    "end": "1168080"
  },
  {
    "text": "waypoint proxy deployed I also have a waypoint proxy deployed in the egress um",
    "start": "1168080",
    "end": "1174160"
  },
  {
    "text": "namespace that controls all the traffic going to the large language model which runs outside of the Kubernetes cluster",
    "start": "1174160",
    "end": "1181039"
  },
  {
    "text": "also on my machine It's a llama right here Um I also have ambient installed I",
    "start": "1181039",
    "end": "1188960"
  },
  {
    "text": "have is ingress gateway installed and I also have a kayali permissis installed I",
    "start": "1188960",
    "end": "1196320"
  },
  {
    "text": "have uh zero tunnel installed Z tunnel installed of course So uh this is the",
    "start": "1196320",
    "end": "1202120"
  },
  {
    "text": "application looks like So the first thing I want to show you about the",
    "start": "1202120",
    "end": "1207200"
  },
  {
    "text": "application Wow I guess let's see if I can get it working Uh we're going to",
    "start": "1207200",
    "end": "1212240"
  },
  {
    "text": "analyze the mood of the audience Um so what I'm going to do is actually connect",
    "start": "1212240",
    "end": "1218480"
  },
  {
    "text": "the application to my phone By the way the application is all running in ambient uh right now So um I'm going to",
    "start": "1218480",
    "end": "1226000"
  },
  {
    "text": "connect to my phone and we're going to put you guys on stage Let's see if we",
    "start": "1226000",
    "end": "1231280"
  },
  {
    "text": "can do that Ament All right So we're going to analyze your mood Thank you for the",
    "start": "1231280",
    "end": "1237360"
  },
  {
    "text": "lights I appreciate that And we're going to take a picture Um Whoa No Okay So",
    "start": "1237360",
    "end": "1244320"
  },
  {
    "text": "that's when like live demos goes wrong That's when live demo goes Okay How fun Let me see if we can do a",
    "start": "1244320",
    "end": "1251200"
  },
  {
    "text": "chat Okay Okay Let me see if this works What",
    "start": "1251200",
    "end": "1258400"
  },
  {
    "text": "is fun things to do in London okay I may need to kick off some",
    "start": "1258400",
    "end": "1265039"
  },
  {
    "text": "part Uh let me see Uh unfortunately uh this uh demo application hasn't gone",
    "start": "1265039",
    "end": "1272400"
  },
  {
    "text": "through too well Uh certainly my machine has been getting up and down So let me",
    "start": "1272400",
    "end": "1277760"
  },
  {
    "text": "see if I can bring it up Uh if not maybe we can't do a live demo",
    "start": "1277760",
    "end": "1283400"
  },
  {
    "text": "today All right let's see what it says Connection reset Okay I'm having a",
    "start": "1283400",
    "end": "1288720"
  },
  {
    "text": "little bit connection issue So uh what I'm going to do is what I'm going to do",
    "start": "1288720",
    "end": "1294799"
  },
  {
    "text": "is see if I can just delete this part and bring up them up live Uh because",
    "start": "1294799",
    "end": "1301559"
  },
  {
    "text": "um all right see if they can be running So I'm going to delete um a couple of",
    "start": "1301559",
    "end": "1307320"
  },
  {
    "text": "pods Going to delete this pods too Um let's see if not or we'll get",
    "start": "1307320",
    "end": "1315120"
  },
  {
    "text": "back to questions Actually does anyone have question while I bring up uh the environment up",
    "start": "1315120",
    "end": "1321880"
  },
  {
    "text": "um if uh there's a microphone in the middle if you guys have any questions uh",
    "start": "1321880",
    "end": "1327039"
  },
  {
    "text": "we can take questions too And if that demo didn't work we still like promise I'm going to come in",
    "start": "1327039",
    "end": "1333600"
  },
  {
    "text": "another CubeCon with like an actual demo for our production setup like hearing Lynn talking about multicluster",
    "start": "1333600",
    "end": "1340000"
  },
  {
    "text": "architecture that will be promising to see how this works in production and like how we like test this with like",
    "start": "1340000",
    "end": "1346320"
  },
  {
    "text": "actual read traffic for the New York Times",
    "start": "1346320",
    "end": "1351360"
  },
  {
    "text": "Any questions looks like we got one Mike's phone is over there if you want to Hello",
    "start": "1352760",
    "end": "1360559"
  },
  {
    "text": "Can you hear uh yeah Thank you very very nice presentation first of all Um my",
    "start": "1360559",
    "end": "1365679"
  },
  {
    "text": "question was um you mentioned that you started with the Celium CNI and Celium",
    "start": "1365679",
    "end": "1371520"
  },
  {
    "text": "um cluster mesh Yeah Um so was there any particular reason why you didn't go with",
    "start": "1371520",
    "end": "1377200"
  },
  {
    "text": "selium service mesh and do you think that might have been solved by now potentially as well that's actually a",
    "start": "1377200",
    "end": "1384720"
  },
  {
    "text": "great question So the question like we started with psyllium why we didn't go with the selium service mesh actually that was like my earlier intent to go",
    "start": "1384720",
    "end": "1391440"
  },
  {
    "text": "with the selium service mesh but the thing that like we found out that like selium for the service mesh",
    "start": "1391440",
    "end": "1398120"
  },
  {
    "text": "specifically didn't try to like create its own CRD as have I seen like it",
    "start": "1398120",
    "end": "1404320"
  },
  {
    "text": "started to depend on like the service like the actual service object in Kubernetes and it doesn't give you a lot",
    "start": "1404320",
    "end": "1410480"
  },
  {
    "text": "of flexibility and like how to do like different things because like they were working around annotations So you can",
    "start": "1410480",
    "end": "1416000"
  },
  {
    "text": "like define here's my global service here's my local service like the options that you can get in that service It it",
    "start": "1416000",
    "end": "1423200"
  },
  {
    "text": "didn't work until to the extent that we want to It works out of the box We can get like sure like a multicluster",
    "start": "1423200",
    "end": "1430960"
  },
  {
    "text": "differences between two regions We can like shift traffic quickly but we can get retries We can get canary deployment",
    "start": "1430960",
    "end": "1437200"
  },
  {
    "text": "Like there's a lot of things that like we have to work through And selium at this time as well wasn't integrated",
    "start": "1437200",
    "end": "1442400"
  },
  {
    "text": "really well with the gateway API and that's where STO came into the mix and like will offer some of its ingress So",
    "start": "1442400",
    "end": "1449440"
  },
  {
    "text": "they are complimenting to each other like they are complementing each other in a way that like we still use selium and we're not planning to move away",
    "start": "1449440",
    "end": "1455919"
  },
  {
    "text": "because they provide us with all of the Hubble flow logs all of the stuff on a",
    "start": "1455919",
    "end": "1461279"
  },
  {
    "text": "very like layer three layer four where like we can see like who's talking to who but handle like most of the other",
    "start": "1461279",
    "end": "1468559"
  },
  {
    "text": "like layer 4 processing identity all of the spiffy maybe we merge them one day but we're still using CNI with the S2CI",
    "start": "1468559",
    "end": "1476720"
  },
  {
    "text": "combined together and then like we has a waypoint and uh ambient on top of it",
    "start": "1476720",
    "end": "1482159"
  },
  {
    "text": "Thank you very much Hi Um my question is more on the",
    "start": "1482159",
    "end": "1487440"
  },
  {
    "text": "services which are outside of the service mesh which are actually not participating in the service mesh So",
    "start": "1487440",
    "end": "1492559"
  },
  {
    "text": "with sidecar you can actually have traffic policies applied on them as well But now it looks like with waypoint",
    "start": "1492559",
    "end": "1499360"
  },
  {
    "text": "proxies all those policies will be applied on ingress rather than on egress So is it still possible to like have",
    "start": "1499360",
    "end": "1505760"
  },
  {
    "text": "those policies applied on those external services which are not part of the service mesh yes it's still possible",
    "start": "1505760",
    "end": "1513360"
  },
  {
    "text": "like that wasn't the use case that we tried but like with the new architecture there's also you can deploy it as an",
    "start": "1513360",
    "end": "1519039"
  },
  {
    "text": "egress way that you can control your policies through the egress So like you could have a waypoint Lynn I didn't try",
    "start": "1519039",
    "end": "1526000"
  },
  {
    "text": "this personally but you can have a wayoint for your egress So the question was more about like what if the traffic",
    "start": "1526000",
    "end": "1532080"
  },
  {
    "text": "is going outside of the cluster can we handle this with all of the policies that we apply That's what I was hoping",
    "start": "1532080",
    "end": "1538640"
  },
  {
    "text": "to show you in the demo too So basically you can deploy the waypoint proxy to control traffic into your namespace You",
    "start": "1538640",
    "end": "1546880"
  },
  {
    "text": "can also deploy a egress waypoint to control traffic going from within your",
    "start": "1546880",
    "end": "1552480"
  },
  {
    "text": "cluster to external uh services like uh Amazon um storage service or open AI So",
    "start": "1552480",
    "end": "1560559"
  },
  {
    "text": "that's all possible and uh you can use the egress uh waypoint as the policy",
    "start": "1560559",
    "end": "1566240"
  },
  {
    "text": "enforcement You can do retry resilience all that capability of layer 7 proxy is",
    "start": "1566240",
    "end": "1572320"
  },
  {
    "text": "available in the egress waypoint That's awesome Thank you Welcome Any more questions while we get",
    "start": "1572320",
    "end": "1578799"
  },
  {
    "text": "the live demo to",
    "start": "1578799",
    "end": "1581679"
  },
  {
    "text": "work give it a minute Yeah Any other questions uh we have three minutes left",
    "start": "1585480",
    "end": "1593640"
  },
  {
    "text": "You see an actual debugging for live demos That's why like usually people like go for like let's record the demo",
    "start": "1593679",
    "end": "1598880"
  },
  {
    "text": "and not risk it But like Lynn here is so brave to call this last minute So let's",
    "start": "1598880",
    "end": "1604559"
  },
  {
    "text": "see if we can get it to",
    "start": "1604559",
    "end": "1607679"
  },
  {
    "text": "work All right I'm bouncing a bunch of my pods So hopefully um the what's",
    "start": "1613559",
    "end": "1619360"
  },
  {
    "text": "happening I think if I get it work I'll explain to you all what's",
    "start": "1619360",
    "end": "1625360"
  },
  {
    "text": "happening Okay",
    "start": "1626360",
    "end": "1630360"
  },
  {
    "text": "Looks like we have one more questions Yeah nice talk Thank you My question is about the 50% CPU",
    "start": "1634320",
    "end": "1642919"
  },
  {
    "text": "utilization So did you see the same number in production i mean what could",
    "start": "1642919",
    "end": "1649039"
  },
  {
    "text": "you share the details of the testing yes So the the details of the testing are",
    "start": "1649039",
    "end": "1654159"
  },
  {
    "text": "actually public on the benchmark itself like you can look at this But like what we have seen is the Z tunnel CPU usage",
    "start": "1654159",
    "end": "1660720"
  },
  {
    "text": "is 50% less than the S2 proxy usage itself So if you compare that to this it",
    "start": "1660720",
    "end": "1667440"
  },
  {
    "text": "will like you see the 50% Also keep in mind like you you also like control now",
    "start": "1667440",
    "end": "1673200"
  },
  {
    "text": "all of the CPUs that like you've been wasting on the proxy and",
    "start": "1673200",
    "end": "1679030"
  },
  {
    "text": "[Applause] all right let's bring you all on",
    "start": "1679030",
    "end": "1686440"
  },
  {
    "text": "stage I'm so sorry but I will explain to you what happens uh after I got this",
    "start": "1686440",
    "end": "1692480"
  },
  {
    "text": "analyze All right",
    "start": "1692480",
    "end": "1696440"
  },
  {
    "text": "Sorry No that's good And just like debugging on the stage Love it All right",
    "start": "1699039",
    "end": "1704399"
  },
  {
    "text": "The audience are engaged Awesome Some taking notes",
    "start": "1704399",
    "end": "1711919"
  },
  {
    "text": "Active listening and engagement Awesome I love you all",
    "start": "1711919",
    "end": "1718159"
  },
  {
    "text": "Thank you all Thank you man So uh just a quick note um I do you want",
    "start": "1718159",
    "end": "1725360"
  },
  {
    "text": "to finish answer the question first no like I answer the question like we were talking about the CPU usage Okay perfect",
    "start": "1725360",
    "end": "1731760"
  },
  {
    "text": "So just a quick note on what's going on with my environment because I'm running everything in the my laptop the",
    "start": "1731760",
    "end": "1737360"
  },
  {
    "text": "conference Wi-Fi is horrible So what happens is it still does certificate rotation every 24 hours for all the pods",
    "start": "1737360",
    "end": "1745840"
  },
  {
    "text": "in ambient So um I have my demo application I have my uh waypoint I have",
    "start": "1745840",
    "end": "1752799"
  },
  {
    "text": "my uh egress waypoint and my namespace waypoint So because I'm running on my",
    "start": "1752799",
    "end": "1758480"
  },
  {
    "text": "laptop I'm not always connected right not running So when the certificate rotation happens my environment was down",
    "start": "1758480",
    "end": "1765440"
  },
  {
    "text": "Now when I bring up I I lost the window of certificate rotation So some of my um",
    "start": "1765440",
    "end": "1772640"
  },
  {
    "text": "paths doesn't have the right certificates So when when I show you",
    "start": "1772640",
    "end": "1778159"
  },
  {
    "text": "guys the live demo and it tries to go through the demo application through the",
    "start": "1778159",
    "end": "1783480"
  },
  {
    "text": "waypoints if one of them doesn't have the right certificates it would hit it would fail with the 503 or unable to",
    "start": "1783480",
    "end": "1790559"
  },
  {
    "text": "connect So that's exactly what happens in my environment After I delete all the pod make sure they have the latest",
    "start": "1790559",
    "end": "1796240"
  },
  {
    "text": "search from Isto Then we will able to get the environment running And you can",
    "start": "1796240",
    "end": "1802880"
  },
  {
    "text": "see this is what I just showed by the way the traffic come to the ingress and",
    "start": "1802880",
    "end": "1808080"
  },
  {
    "text": "come to my demo application and it's all secure through mutual TLS And uh so",
    "start": "1808080",
    "end": "1816640"
  },
  {
    "text": "that's the observability portion uh we just talked about So if you zoom in to",
    "start": "1816640",
    "end": "1822559"
  },
  {
    "text": "the last 10 minutes you're going to see it's connect through uh egress waypoint",
    "start": "1822559",
    "end": "1829679"
  },
  {
    "text": "to the external large language model which I think one of you was asking that question You see a lot of red because",
    "start": "1829679",
    "end": "1836720"
  },
  {
    "text": "that was me struggle to bring the demo environment up running and we see the",
    "start": "1836720",
    "end": "1842240"
  },
  {
    "text": "HTTP request metric that Aman talk about right layer 7 metrics all available So",
    "start": "1842240",
    "end": "1848480"
  },
  {
    "text": "my application is all available without us needing to do anything There's no",
    "start": "1848480",
    "end": "1853600"
  },
  {
    "text": "psych in the environment All powered by the Z tunnel and the way points All",
    "start": "1853600",
    "end": "1859200"
  },
  {
    "text": "right I think um we're over time We're right on time We're one minute over Thank you all so much I appreciate it",
    "start": "1859200",
    "end": "1868679"
  }
]