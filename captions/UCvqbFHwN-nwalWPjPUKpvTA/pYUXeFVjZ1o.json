[
  {
    "start": "0",
    "end": "44000"
  },
  {
    "text": "hello and welcome today we'll be talking",
    "start": "80",
    "end": "2960"
  },
  {
    "text": "about",
    "start": "2960",
    "end": "3919"
  },
  {
    "text": "running machine learning workloads on a",
    "start": "3919",
    "end": "5680"
  },
  {
    "text": "service mesh",
    "start": "5680",
    "end": "7680"
  },
  {
    "text": "my name is har simran singh man i work",
    "start": "7680",
    "end": "10480"
  },
  {
    "text": "on the machine learning engineering team",
    "start": "10480",
    "end": "12160"
  },
  {
    "text": "here at splunk",
    "start": "12160",
    "end": "13280"
  },
  {
    "text": "i'm based out of vancouver canada my",
    "start": "13280",
    "end": "16240"
  },
  {
    "text": "interests include",
    "start": "16240",
    "end": "17359"
  },
  {
    "text": "distributed systems i like the",
    "start": "17359",
    "end": "19680"
  },
  {
    "text": "scalability aspect of distributed",
    "start": "19680",
    "end": "21199"
  },
  {
    "text": "systems",
    "start": "21199",
    "end": "21840"
  },
  {
    "text": "i have some experience working on",
    "start": "21840",
    "end": "23119"
  },
  {
    "text": "multi-cloud as well as security in the",
    "start": "23119",
    "end": "25680"
  },
  {
    "text": "cloud",
    "start": "25680",
    "end": "26880"
  },
  {
    "text": "i try and contribute to open source as",
    "start": "26880",
    "end": "29519"
  },
  {
    "text": "and when i can",
    "start": "29519",
    "end": "30400"
  },
  {
    "text": "i try and use open source components in",
    "start": "30400",
    "end": "32320"
  },
  {
    "text": "my day to day job",
    "start": "32320",
    "end": "34079"
  },
  {
    "text": "to solve everyday problems as well you",
    "start": "34079",
    "end": "37120"
  },
  {
    "text": "can find me on",
    "start": "37120",
    "end": "38320"
  },
  {
    "text": "github linkedin twitter or medium",
    "start": "38320",
    "end": "42000"
  },
  {
    "text": "with my username brandman",
    "start": "42000",
    "end": "45280"
  },
  {
    "start": "44000",
    "end": "96000"
  },
  {
    "text": "today we'll start by going over some",
    "start": "45280",
    "end": "48079"
  },
  {
    "text": "background",
    "start": "48079",
    "end": "48879"
  },
  {
    "text": "on on what kind of problems we are",
    "start": "48879",
    "end": "51120"
  },
  {
    "text": "trying to solve here at splunk",
    "start": "51120",
    "end": "53680"
  },
  {
    "text": "and how service mesh help us achieve",
    "start": "53680",
    "end": "56320"
  },
  {
    "text": "some of our goals",
    "start": "56320",
    "end": "58960"
  },
  {
    "text": "better and at scale we'll also talk",
    "start": "58960",
    "end": "61600"
  },
  {
    "text": "about the journey",
    "start": "61600",
    "end": "62640"
  },
  {
    "text": "and that we went through the transition",
    "start": "62640",
    "end": "64239"
  },
  {
    "text": "that we had adopting service mesh into",
    "start": "64239",
    "end": "67360"
  },
  {
    "text": "into our workflows and the benefits that",
    "start": "67360",
    "end": "69840"
  },
  {
    "text": "we got as a result",
    "start": "69840",
    "end": "71600"
  },
  {
    "text": "and we'll also go over some of the",
    "start": "71600",
    "end": "73439"
  },
  {
    "text": "obstacles and challenges that we",
    "start": "73439",
    "end": "75759"
  },
  {
    "text": "that we run into while doing the",
    "start": "75759",
    "end": "77119"
  },
  {
    "text": "implementation i'm sure many of you",
    "start": "77119",
    "end": "79759"
  },
  {
    "text": "would have run into similar problems so",
    "start": "79759",
    "end": "82640"
  },
  {
    "text": "so",
    "start": "82640",
    "end": "83040"
  },
  {
    "text": "we will see some techniques that we used",
    "start": "83040",
    "end": "85040"
  },
  {
    "text": "and and i hope that",
    "start": "85040",
    "end": "87280"
  },
  {
    "text": "it will be helpful for for many of you",
    "start": "87280",
    "end": "90240"
  },
  {
    "text": "in other scenarios",
    "start": "90240",
    "end": "91840"
  },
  {
    "text": "when you try and move existing workloads",
    "start": "91840",
    "end": "94400"
  },
  {
    "text": "onto a service mesh",
    "start": "94400",
    "end": "96640"
  },
  {
    "start": "96000",
    "end": "218000"
  },
  {
    "text": "to give you some background about a year",
    "start": "96640",
    "end": "98880"
  },
  {
    "text": "ago we decided to re-envision our",
    "start": "98880",
    "end": "101439"
  },
  {
    "text": "machine learning offering here at splunk",
    "start": "101439",
    "end": "104079"
  },
  {
    "text": "splunk has grown massively over the last",
    "start": "104079",
    "end": "106479"
  },
  {
    "text": "few years",
    "start": "106479",
    "end": "108079"
  },
  {
    "text": "and the customer demands for more",
    "start": "108079",
    "end": "110560"
  },
  {
    "text": "intelligent systems have grown as well",
    "start": "110560",
    "end": "113680"
  },
  {
    "text": "to cater to those demands we we decided",
    "start": "113680",
    "end": "116719"
  },
  {
    "text": "to re-envision our machine learning",
    "start": "116719",
    "end": "119119"
  },
  {
    "text": "offering",
    "start": "119119",
    "end": "120320"
  },
  {
    "text": "and we had a few clear goals for the",
    "start": "120320",
    "end": "123200"
  },
  {
    "text": "project",
    "start": "123200",
    "end": "124799"
  },
  {
    "text": "first was we wanted to run at splunk",
    "start": "124799",
    "end": "127119"
  },
  {
    "text": "scale",
    "start": "127119",
    "end": "129440"
  },
  {
    "text": "for those of you who are using splunk",
    "start": "129440",
    "end": "131120"
  },
  {
    "text": "systems you would know",
    "start": "131120",
    "end": "132480"
  },
  {
    "text": "the kind of scale that splunk operates",
    "start": "132480",
    "end": "134400"
  },
  {
    "text": "at so so we wanted our machine learning",
    "start": "134400",
    "end": "137680"
  },
  {
    "text": "offering to be at par and be able to",
    "start": "137680",
    "end": "140879"
  },
  {
    "text": "handle",
    "start": "140879",
    "end": "142160"
  },
  {
    "text": "data that uh thrown at the splunk",
    "start": "142160",
    "end": "144400"
  },
  {
    "text": "systems",
    "start": "144400",
    "end": "145920"
  },
  {
    "text": "we wanted to build a system to allow the",
    "start": "145920",
    "end": "148400"
  },
  {
    "text": "data scientist",
    "start": "148400",
    "end": "149440"
  },
  {
    "text": "to come and experiment with the data",
    "start": "149440",
    "end": "152480"
  },
  {
    "text": "build their machine learning models and",
    "start": "152480",
    "end": "154319"
  },
  {
    "text": "then",
    "start": "154319",
    "end": "155680"
  },
  {
    "text": "we also wanted to have them",
    "start": "155680",
    "end": "156959"
  },
  {
    "text": "operationalize them so we wanted to",
    "start": "156959",
    "end": "159760"
  },
  {
    "text": "take these models and deploy those",
    "start": "159760",
    "end": "161519"
  },
  {
    "text": "models in production",
    "start": "161519",
    "end": "163680"
  },
  {
    "text": "and and then we also wanted to build the",
    "start": "163680",
    "end": "166000"
  },
  {
    "text": "system which has a low barrier to",
    "start": "166000",
    "end": "168000"
  },
  {
    "text": "adoption",
    "start": "168000",
    "end": "169040"
  },
  {
    "text": "we did not want to start from scratch",
    "start": "169040",
    "end": "171200"
  },
  {
    "text": "and and create yet another machine",
    "start": "171200",
    "end": "173040"
  },
  {
    "text": "learning system",
    "start": "173040",
    "end": "174239"
  },
  {
    "text": "we wanted to explore and see what people",
    "start": "174239",
    "end": "176480"
  },
  {
    "text": "are comfortable with what kind of tools",
    "start": "176480",
    "end": "178080"
  },
  {
    "text": "they are already using",
    "start": "178080",
    "end": "179599"
  },
  {
    "text": "so we can we can build upon those tools",
    "start": "179599",
    "end": "182879"
  },
  {
    "text": "so while while doing our research we",
    "start": "182879",
    "end": "184800"
  },
  {
    "text": "looked at a few",
    "start": "184800",
    "end": "185920"
  },
  {
    "text": "options in the open source world and and",
    "start": "185920",
    "end": "188800"
  },
  {
    "text": "we narrowed down our focus",
    "start": "188800",
    "end": "190480"
  },
  {
    "text": "onto onto jupiter notebooks",
    "start": "190480",
    "end": "193680"
  },
  {
    "text": "they came across as a very convenient",
    "start": "193680",
    "end": "196560"
  },
  {
    "text": "way for for data scientists to use",
    "start": "196560",
    "end": "199200"
  },
  {
    "text": "to experiment with machine learning",
    "start": "199200",
    "end": "200959"
  },
  {
    "text": "algorithms to try out a few things to do",
    "start": "200959",
    "end": "204159"
  },
  {
    "text": "do a different kind of data manipulation",
    "start": "204159",
    "end": "206319"
  },
  {
    "text": "and preparation",
    "start": "206319",
    "end": "207760"
  },
  {
    "text": "for machine learning and and all of that",
    "start": "207760",
    "end": "211360"
  },
  {
    "text": "so we decided to take take that as the",
    "start": "211360",
    "end": "214080"
  },
  {
    "text": "base",
    "start": "214080",
    "end": "214640"
  },
  {
    "text": "and and build our offering around that",
    "start": "214640",
    "end": "217360"
  },
  {
    "text": "project",
    "start": "217360",
    "end": "219120"
  },
  {
    "start": "218000",
    "end": "534000"
  },
  {
    "text": "before we jump into like where we are",
    "start": "219120",
    "end": "221280"
  },
  {
    "text": "here at splunk",
    "start": "221280",
    "end": "222239"
  },
  {
    "text": "let's start off by going over a simple",
    "start": "222239",
    "end": "224400"
  },
  {
    "text": "definition of machine learning",
    "start": "224400",
    "end": "226879"
  },
  {
    "text": "so i stole this from wikipedia it says",
    "start": "226879",
    "end": "229599"
  },
  {
    "text": "it's the study of computer algorithms",
    "start": "229599",
    "end": "231680"
  },
  {
    "text": "that learn through experience and and",
    "start": "231680",
    "end": "235040"
  },
  {
    "text": "what it really translates",
    "start": "235040",
    "end": "236239"
  },
  {
    "text": "into is is this so we start by defining",
    "start": "236239",
    "end": "239680"
  },
  {
    "text": "a problem",
    "start": "239680",
    "end": "240799"
  },
  {
    "text": "and then we source some data for which",
    "start": "240799",
    "end": "242959"
  },
  {
    "text": "we're trying to solve this problem",
    "start": "242959",
    "end": "245040"
  },
  {
    "text": "we'll massage this data a bit and then",
    "start": "245040",
    "end": "248080"
  },
  {
    "text": "run some algorithms on it that's that's",
    "start": "248080",
    "end": "250720"
  },
  {
    "text": "the modeling part",
    "start": "250720",
    "end": "252400"
  },
  {
    "text": "and once once we get the model as a",
    "start": "252400",
    "end": "254159"
  },
  {
    "text": "result we would do some evaluations on",
    "start": "254159",
    "end": "256320"
  },
  {
    "text": "it",
    "start": "256320",
    "end": "256799"
  },
  {
    "text": "at this point we might decide to go back",
    "start": "256799",
    "end": "259759"
  },
  {
    "text": "maybe rework the data",
    "start": "259759",
    "end": "261440"
  },
  {
    "text": "then retrain the model so so so once we",
    "start": "261440",
    "end": "264880"
  },
  {
    "text": "are satisfied",
    "start": "264880",
    "end": "265759"
  },
  {
    "text": "we will take this model and deploy it on",
    "start": "265759",
    "end": "268880"
  },
  {
    "text": "on to production where this model can",
    "start": "268880",
    "end": "271120"
  },
  {
    "text": "now do",
    "start": "271120",
    "end": "272080"
  },
  {
    "text": "do really smart things with the data it",
    "start": "272080",
    "end": "274080"
  },
  {
    "text": "has not seen before",
    "start": "274080",
    "end": "275759"
  },
  {
    "text": "so what does it really look like in",
    "start": "275759",
    "end": "277360"
  },
  {
    "text": "practice",
    "start": "277360",
    "end": "279680"
  },
  {
    "text": "here at splunk we got a polyglot when we",
    "start": "279680",
    "end": "282160"
  },
  {
    "text": "tried to build our machine learning",
    "start": "282160",
    "end": "283440"
  },
  {
    "text": "environment",
    "start": "283440",
    "end": "284240"
  },
  {
    "text": "we started building it around jupiter",
    "start": "284240",
    "end": "286000"
  },
  {
    "text": "notebooks but soon we were writing",
    "start": "286000",
    "end": "287840"
  },
  {
    "text": "services in scala",
    "start": "287840",
    "end": "289600"
  },
  {
    "text": "we had components in r a lot of golang",
    "start": "289600",
    "end": "292639"
  },
  {
    "text": "services",
    "start": "292639",
    "end": "293919"
  },
  {
    "text": "python is heavily used for the",
    "start": "293919",
    "end": "296240"
  },
  {
    "text": "experimentation side as well as for data",
    "start": "296240",
    "end": "298720"
  },
  {
    "text": "preparation",
    "start": "298720",
    "end": "300000"
  },
  {
    "text": "and we use apache link to parallelize",
    "start": "300000",
    "end": "302960"
  },
  {
    "text": "our data processing jobs",
    "start": "302960",
    "end": "305120"
  },
  {
    "text": "we run on top of kubernetes using an hto",
    "start": "305120",
    "end": "307360"
  },
  {
    "text": "service mesh",
    "start": "307360",
    "end": "308639"
  },
  {
    "text": "and all of this is closely tied to",
    "start": "308639",
    "end": "310479"
  },
  {
    "text": "splunk which is our",
    "start": "310479",
    "end": "312160"
  },
  {
    "text": "central data repository so we have data",
    "start": "312160",
    "end": "314960"
  },
  {
    "text": "flowing",
    "start": "314960",
    "end": "316000"
  },
  {
    "text": "between all of these different",
    "start": "316000",
    "end": "317919"
  },
  {
    "text": "components",
    "start": "317919",
    "end": "319039"
  },
  {
    "text": "and and we we use our machine learning",
    "start": "319039",
    "end": "321360"
  },
  {
    "text": "models",
    "start": "321360",
    "end": "322160"
  },
  {
    "text": "on top of this data but this wasn't",
    "start": "322160",
    "end": "325520"
  },
  {
    "text": "always like this",
    "start": "325520",
    "end": "327120"
  },
  {
    "text": "we started off with a very simple",
    "start": "327120",
    "end": "329919"
  },
  {
    "text": "jupyter hub deployment",
    "start": "329919",
    "end": "331600"
  },
  {
    "text": "so jupiter hub is a project that helps",
    "start": "331600",
    "end": "334320"
  },
  {
    "text": "run",
    "start": "334320",
    "end": "334639"
  },
  {
    "text": "jupyter notebooks on kubernetes it has",
    "start": "334639",
    "end": "338639"
  },
  {
    "text": "two main components one is a proxy the",
    "start": "338639",
    "end": "340720"
  },
  {
    "text": "other one is the hub",
    "start": "340720",
    "end": "342400"
  },
  {
    "text": "hub takes care of things like",
    "start": "342400",
    "end": "343840"
  },
  {
    "text": "authentication and handling user request",
    "start": "343840",
    "end": "347280"
  },
  {
    "text": "proxy takes care of routing traffic to",
    "start": "347280",
    "end": "349600"
  },
  {
    "text": "the hub",
    "start": "349600",
    "end": "350479"
  },
  {
    "text": "or to the user notebooks depending upon",
    "start": "350479",
    "end": "353360"
  },
  {
    "text": "where the request needs to be routed to",
    "start": "353360",
    "end": "356319"
  },
  {
    "text": "in order to better understand jupiter",
    "start": "356319",
    "end": "358160"
  },
  {
    "text": "hub",
    "start": "358160",
    "end": "359360"
  },
  {
    "text": "let's do a deployment on a kubernetes",
    "start": "359360",
    "end": "361520"
  },
  {
    "text": "cluster i have a kubernetes cluster",
    "start": "361520",
    "end": "363520"
  },
  {
    "text": "running",
    "start": "363520",
    "end": "364479"
  },
  {
    "text": "that we can use to deploy jupiter hub",
    "start": "364479",
    "end": "367199"
  },
  {
    "text": "let's look at different components of",
    "start": "367199",
    "end": "368800"
  },
  {
    "text": "jupiter hub",
    "start": "368800",
    "end": "369759"
  },
  {
    "text": "that we'll be deploying today",
    "start": "369759",
    "end": "373120"
  },
  {
    "text": "this is a project that helps deploy",
    "start": "373280",
    "end": "375520"
  },
  {
    "text": "jupiter hub you can find this on",
    "start": "375520",
    "end": "378080"
  },
  {
    "text": "on my github links would be shared in",
    "start": "378080",
    "end": "379919"
  },
  {
    "text": "the slide",
    "start": "379919",
    "end": "381840"
  },
  {
    "text": "like you saw in the diagram we have two",
    "start": "381840",
    "end": "384000"
  },
  {
    "text": "components a hub and a proxy",
    "start": "384000",
    "end": "386319"
  },
  {
    "text": "we have an additional component here",
    "start": "386319",
    "end": "389120"
  },
  {
    "text": "called namespace",
    "start": "389120",
    "end": "390639"
  },
  {
    "text": "that would create the kubernetes",
    "start": "390639",
    "end": "392000"
  },
  {
    "text": "namespace for us",
    "start": "392000",
    "end": "393759"
  },
  {
    "text": "let's look at all the components that",
    "start": "393759",
    "end": "395280"
  },
  {
    "text": "we're going to deploy to the cluster",
    "start": "395280",
    "end": "397600"
  },
  {
    "text": "we have a config map a deployment a",
    "start": "397600",
    "end": "400319"
  },
  {
    "text": "secret",
    "start": "400319",
    "end": "401600"
  },
  {
    "text": "some are back related components for hub",
    "start": "401600",
    "end": "404160"
  },
  {
    "text": "for proxy we have a couple of services",
    "start": "404160",
    "end": "406160"
  },
  {
    "text": "one called the public service other one",
    "start": "406160",
    "end": "407680"
  },
  {
    "text": "called the api",
    "start": "407680",
    "end": "409199"
  },
  {
    "text": "and a deployment component let's do the",
    "start": "409199",
    "end": "412479"
  },
  {
    "text": "deployment",
    "start": "412479",
    "end": "415039"
  },
  {
    "text": "as you can see all these components are",
    "start": "421599",
    "end": "423840"
  },
  {
    "text": "being created in the cluster",
    "start": "423840",
    "end": "425520"
  },
  {
    "text": "let's take a look at all the new",
    "start": "425520",
    "end": "426880"
  },
  {
    "text": "components that we just created",
    "start": "426880",
    "end": "430319"
  },
  {
    "text": "so here you see we have three services",
    "start": "431919",
    "end": "435360"
  },
  {
    "text": "two parts a couple of deployments and",
    "start": "435360",
    "end": "437520"
  },
  {
    "text": "they're applica sets",
    "start": "437520",
    "end": "439440"
  },
  {
    "text": "let's see what it looks like in the",
    "start": "439440",
    "end": "440880"
  },
  {
    "text": "browser for that i'll need to put",
    "start": "440880",
    "end": "443039"
  },
  {
    "text": "forward to",
    "start": "443039",
    "end": "444319"
  },
  {
    "text": "to the proxy public service",
    "start": "444319",
    "end": "447599"
  },
  {
    "text": "so that we can access this in the",
    "start": "447599",
    "end": "450639"
  },
  {
    "text": "in the browser",
    "start": "450639",
    "end": "453360"
  },
  {
    "text": "if i go to the browser and and open up",
    "start": "456160",
    "end": "458160"
  },
  {
    "text": "this url now",
    "start": "458160",
    "end": "459199"
  },
  {
    "text": "i should see a login page and i can i",
    "start": "459199",
    "end": "462319"
  },
  {
    "text": "can log",
    "start": "462319",
    "end": "462880"
  },
  {
    "text": "in here and you'll see that",
    "start": "462880",
    "end": "467440"
  },
  {
    "text": "a new pod is being spawned and we get a",
    "start": "467440",
    "end": "470319"
  },
  {
    "text": "jupyter notebook",
    "start": "470319",
    "end": "472960"
  },
  {
    "text": "in the back end let's see what it looks",
    "start": "472960",
    "end": "475520"
  },
  {
    "text": "like",
    "start": "475520",
    "end": "476879"
  },
  {
    "text": "so let me see all the resources once",
    "start": "476879",
    "end": "478560"
  },
  {
    "text": "again now as you see",
    "start": "478560",
    "end": "481039"
  },
  {
    "text": "there's an additional user part this is",
    "start": "481039",
    "end": "484240"
  },
  {
    "text": "this is what is responsible for serving",
    "start": "484240",
    "end": "487280"
  },
  {
    "text": "that",
    "start": "487280",
    "end": "487840"
  },
  {
    "text": "notebook ui in the browser",
    "start": "487840",
    "end": "491120"
  },
  {
    "text": "all the requests that that you see in",
    "start": "491120",
    "end": "493280"
  },
  {
    "text": "the browser are being routed through",
    "start": "493280",
    "end": "494720"
  },
  {
    "text": "this",
    "start": "494720",
    "end": "495520"
  },
  {
    "text": "proxy public when i did the login it",
    "start": "495520",
    "end": "498720"
  },
  {
    "text": "went",
    "start": "498720",
    "end": "499919"
  },
  {
    "text": "to this hub service and and once the",
    "start": "499919",
    "end": "502639"
  },
  {
    "text": "user's notebook was",
    "start": "502639",
    "end": "504560"
  },
  {
    "text": "was created all the requests started",
    "start": "504560",
    "end": "506879"
  },
  {
    "text": "going directly to the user's part",
    "start": "506879",
    "end": "509680"
  },
  {
    "text": "i hope that the demo makes understanding",
    "start": "509680",
    "end": "511520"
  },
  {
    "text": "this diagram a little easier",
    "start": "511520",
    "end": "513200"
  },
  {
    "text": "but you all must be wondering by now",
    "start": "513200",
    "end": "514880"
  },
  {
    "text": "what about service mesh",
    "start": "514880",
    "end": "516560"
  },
  {
    "text": "that's the exact question the splunk",
    "start": "516560",
    "end": "518399"
  },
  {
    "text": "security team asked us",
    "start": "518399",
    "end": "520000"
  },
  {
    "text": "when we tried to move this service to",
    "start": "520000",
    "end": "521680"
  },
  {
    "text": "production all cloud services in splunk",
    "start": "521680",
    "end": "524320"
  },
  {
    "text": "are required to ensure",
    "start": "524320",
    "end": "526800"
  },
  {
    "text": "end-to-end network traffic encryption",
    "start": "526800",
    "end": "530720"
  },
  {
    "text": "and for us this was the foray into",
    "start": "530720",
    "end": "533120"
  },
  {
    "text": "service mesh",
    "start": "533120",
    "end": "535519"
  },
  {
    "start": "534000",
    "end": "761000"
  },
  {
    "text": "so service mesh as described by easter",
    "start": "535519",
    "end": "537600"
  },
  {
    "text": "docks here",
    "start": "537600",
    "end": "538959"
  },
  {
    "text": "is used to understand the network of",
    "start": "538959",
    "end": "541040"
  },
  {
    "text": "microservices",
    "start": "541040",
    "end": "542320"
  },
  {
    "text": "and how they interact amongst themselves",
    "start": "542320",
    "end": "544640"
  },
  {
    "text": "and how the traffic flows",
    "start": "544640",
    "end": "546959"
  },
  {
    "text": "between one service and the other",
    "start": "546959",
    "end": "550320"
  },
  {
    "text": "and when we got this requirement the",
    "start": "550320",
    "end": "553200"
  },
  {
    "text": "first thing that we did was to",
    "start": "553200",
    "end": "555040"
  },
  {
    "text": "go out to the community and see what",
    "start": "555040",
    "end": "556959"
  },
  {
    "text": "options we have and",
    "start": "556959",
    "end": "558399"
  },
  {
    "text": "this is what we found so there was an",
    "start": "558399",
    "end": "560800"
  },
  {
    "text": "open request on",
    "start": "560800",
    "end": "562000"
  },
  {
    "text": "the jupiter hub kubernetes community to",
    "start": "562000",
    "end": "564959"
  },
  {
    "text": "support",
    "start": "564959",
    "end": "566080"
  },
  {
    "text": "securing connections between different",
    "start": "566080",
    "end": "567920"
  },
  {
    "text": "jupiter hub components",
    "start": "567920",
    "end": "569680"
  },
  {
    "text": "using istio and that's exactly the kind",
    "start": "569680",
    "end": "572240"
  },
  {
    "text": "of problem we had on our hands",
    "start": "572240",
    "end": "574959"
  },
  {
    "text": "i did some reading and i thought i was",
    "start": "574959",
    "end": "577040"
  },
  {
    "text": "ready",
    "start": "577040",
    "end": "578080"
  },
  {
    "text": "to enable sto on the namespace and",
    "start": "578080",
    "end": "580399"
  },
  {
    "text": "things should just magically work",
    "start": "580399",
    "end": "582480"
  },
  {
    "text": "but our life as engineers is not so easy",
    "start": "582480",
    "end": "586000"
  },
  {
    "text": "everything broke when i enabled sto on",
    "start": "586000",
    "end": "588720"
  },
  {
    "text": "the namespace so i had to learn how to",
    "start": "588720",
    "end": "591040"
  },
  {
    "text": "troubleshoot the service mesh",
    "start": "591040",
    "end": "593040"
  },
  {
    "text": "every time i would solve one problem i",
    "start": "593040",
    "end": "594959"
  },
  {
    "text": "would turn into the next roadblock",
    "start": "594959",
    "end": "597200"
  },
  {
    "text": "but slowly all the pieces were coming",
    "start": "597200",
    "end": "599279"
  },
  {
    "text": "together to get a working application",
    "start": "599279",
    "end": "602320"
  },
  {
    "text": "this this is what the application",
    "start": "602320",
    "end": "604160"
  },
  {
    "text": "evolved towards",
    "start": "604160",
    "end": "605440"
  },
  {
    "text": "so there were a few issues the moment we",
    "start": "605440",
    "end": "607600"
  },
  {
    "text": "enabled istio",
    "start": "607600",
    "end": "608959"
  },
  {
    "text": "on the namespace the first issue was",
    "start": "608959",
    "end": "612160"
  },
  {
    "text": "the proxy itself it couldn't route the",
    "start": "612160",
    "end": "615200"
  },
  {
    "text": "traffic anymore",
    "start": "615200",
    "end": "616160"
  },
  {
    "text": "to the hub or to the user pods because",
    "start": "616160",
    "end": "619360"
  },
  {
    "text": "there was some header mismatch",
    "start": "619360",
    "end": "620800"
  },
  {
    "text": "on the outgoing request which istio",
    "start": "620800",
    "end": "622640"
  },
  {
    "text": "sidecars didn't like",
    "start": "622640",
    "end": "624160"
  },
  {
    "text": "and they would simply drop this request",
    "start": "624160",
    "end": "627200"
  },
  {
    "text": "thinking that there is no destination",
    "start": "627200",
    "end": "629120"
  },
  {
    "text": "route for this request",
    "start": "629120",
    "end": "631360"
  },
  {
    "text": "i fixed this by rewriting the proxy to",
    "start": "631360",
    "end": "633360"
  },
  {
    "text": "override the host headers appropriately",
    "start": "633360",
    "end": "635519"
  },
  {
    "text": "and things seemed to work the next issue",
    "start": "635519",
    "end": "638720"
  },
  {
    "text": "we ran into was",
    "start": "638720",
    "end": "640240"
  },
  {
    "text": "the moment a user would log in and",
    "start": "640240",
    "end": "643279"
  },
  {
    "text": "try to spawn a new notebook pod for",
    "start": "643279",
    "end": "646000"
  },
  {
    "text": "themselves",
    "start": "646000",
    "end": "647600"
  },
  {
    "text": "it wouldn't work and the reason was that",
    "start": "647600",
    "end": "650800"
  },
  {
    "text": "hub was not able to connect to this pod",
    "start": "650800",
    "end": "653839"
  },
  {
    "text": "to see if it was alive or not and this",
    "start": "653839",
    "end": "656480"
  },
  {
    "text": "caused",
    "start": "656480",
    "end": "657760"
  },
  {
    "text": "it to think that the pods were not being",
    "start": "657760",
    "end": "660079"
  },
  {
    "text": "spawned",
    "start": "660079",
    "end": "661120"
  },
  {
    "text": "and it got stuck in an infinite loop",
    "start": "661120",
    "end": "664240"
  },
  {
    "text": "to mitigate this we introduced a",
    "start": "664240",
    "end": "665839"
  },
  {
    "text": "kubernetes service to front",
    "start": "665839",
    "end": "667360"
  },
  {
    "text": "all the pods this required patching the",
    "start": "667360",
    "end": "670320"
  },
  {
    "text": "hub itself",
    "start": "670320",
    "end": "671360"
  },
  {
    "text": "so all the traffic from the hub to the",
    "start": "671360",
    "end": "673839"
  },
  {
    "text": "user pods",
    "start": "673839",
    "end": "674880"
  },
  {
    "text": "would flow by kubernetes services we had",
    "start": "674880",
    "end": "678079"
  },
  {
    "text": "a working version",
    "start": "678079",
    "end": "679279"
  },
  {
    "text": "and we deployed it and gave access to",
    "start": "679279",
    "end": "681680"
  },
  {
    "text": "our users",
    "start": "681680",
    "end": "682720"
  },
  {
    "text": "everything worked fine for the first few",
    "start": "682720",
    "end": "684320"
  },
  {
    "text": "days but as the number of users grew on",
    "start": "684320",
    "end": "687120"
  },
  {
    "text": "the system and the usage went up",
    "start": "687120",
    "end": "689839"
  },
  {
    "text": "users started complaining about",
    "start": "689839",
    "end": "691600"
  },
  {
    "text": "connectivity issues to the service",
    "start": "691600",
    "end": "694079"
  },
  {
    "text": "we were getting reports of more and more",
    "start": "694079",
    "end": "696560"
  },
  {
    "text": "of issues like these",
    "start": "696560",
    "end": "698560"
  },
  {
    "text": "when i did the troubleshooting i found",
    "start": "698560",
    "end": "700640"
  },
  {
    "text": "that the root cause for all these issues",
    "start": "700640",
    "end": "702720"
  },
  {
    "text": "was the proxy itself it was not able to",
    "start": "702720",
    "end": "705920"
  },
  {
    "text": "handle so many user requests",
    "start": "705920",
    "end": "707519"
  },
  {
    "text": "and was failing to process them and",
    "start": "707519",
    "end": "710000"
  },
  {
    "text": "because of all the hacks that we had",
    "start": "710000",
    "end": "711839"
  },
  {
    "text": "done",
    "start": "711839",
    "end": "712240"
  },
  {
    "text": "to get the system to work it was not",
    "start": "712240",
    "end": "714959"
  },
  {
    "text": "possible to add more of these proxy pods",
    "start": "714959",
    "end": "717600"
  },
  {
    "text": "to handle more traffic",
    "start": "717600",
    "end": "719839"
  },
  {
    "text": "so we had to go back to the design board",
    "start": "719839",
    "end": "721760"
  },
  {
    "text": "once again",
    "start": "721760",
    "end": "722880"
  },
  {
    "text": "and this time when doing the analysis we",
    "start": "722880",
    "end": "725120"
  },
  {
    "text": "looked at the service mesh for",
    "start": "725120",
    "end": "726880"
  },
  {
    "text": "scalability needs",
    "start": "726880",
    "end": "728240"
  },
  {
    "text": "so we ended up removing this proxy all",
    "start": "728240",
    "end": "730320"
  },
  {
    "text": "together",
    "start": "730320",
    "end": "731360"
  },
  {
    "text": "and replacing it with one simple api so",
    "start": "731360",
    "end": "734399"
  },
  {
    "text": "all the traffic",
    "start": "734399",
    "end": "735360"
  },
  {
    "text": "would now come in through an istio",
    "start": "735360",
    "end": "737120"
  },
  {
    "text": "gateway",
    "start": "737120",
    "end": "738399"
  },
  {
    "text": "that would be routed to the user pod or",
    "start": "738399",
    "end": "741360"
  },
  {
    "text": "to the hub itself based on the kind of",
    "start": "741360",
    "end": "743279"
  },
  {
    "text": "request",
    "start": "743279",
    "end": "744079"
  },
  {
    "text": "we introduced a new service which was",
    "start": "744079",
    "end": "745920"
  },
  {
    "text": "compliant to the hub proxy api",
    "start": "745920",
    "end": "748399"
  },
  {
    "text": "to configure istio and all of this was",
    "start": "748399",
    "end": "750800"
  },
  {
    "text": "done in a couple of days",
    "start": "750800",
    "end": "752399"
  },
  {
    "text": "i don't think this would have been",
    "start": "752399",
    "end": "753600"
  },
  {
    "text": "possible had we not relied on",
    "start": "753600",
    "end": "756399"
  },
  {
    "text": "what the community has built in terms of",
    "start": "756399",
    "end": "758240"
  },
  {
    "text": "service mesh all the cool features that",
    "start": "758240",
    "end": "760079"
  },
  {
    "text": "it ships with",
    "start": "760079",
    "end": "762480"
  },
  {
    "text": "so this is what it really came down to",
    "start": "762480",
    "end": "764720"
  },
  {
    "text": "in the end",
    "start": "764720",
    "end": "766000"
  },
  {
    "text": "when hub starts it registered itself",
    "start": "766000",
    "end": "769120"
  },
  {
    "text": "as one of the routes on the istio",
    "start": "769120",
    "end": "771519"
  },
  {
    "text": "gateway",
    "start": "771519",
    "end": "773120"
  },
  {
    "text": "to handle all the traffic coming to",
    "start": "773120",
    "end": "775120"
  },
  {
    "text": "jupiter hub",
    "start": "775120",
    "end": "777440"
  },
  {
    "text": "once this route is ready users can now",
    "start": "777440",
    "end": "779760"
  },
  {
    "text": "come in and",
    "start": "779760",
    "end": "780800"
  },
  {
    "text": "and start requesting their server parts",
    "start": "780800",
    "end": "783360"
  },
  {
    "text": "when a new request comes in",
    "start": "783360",
    "end": "785120"
  },
  {
    "text": "to register a server pod hub would go",
    "start": "785120",
    "end": "788320"
  },
  {
    "text": "create the user part and also create the",
    "start": "788320",
    "end": "790399"
  },
  {
    "text": "corresponding",
    "start": "790399",
    "end": "791600"
  },
  {
    "text": "kubernetes service and once it knows",
    "start": "791600",
    "end": "794079"
  },
  {
    "text": "that it can talk to this",
    "start": "794079",
    "end": "795440"
  },
  {
    "text": "user part via that service",
    "start": "795440",
    "end": "798480"
  },
  {
    "text": "it goes to the proxy api which is the",
    "start": "798480",
    "end": "801760"
  },
  {
    "text": "jupiter hub steer proxy in this case",
    "start": "801760",
    "end": "804160"
  },
  {
    "text": "to register a new route once this route",
    "start": "804160",
    "end": "807600"
  },
  {
    "text": "is created and is ready to use",
    "start": "807600",
    "end": "809279"
  },
  {
    "text": "the route is returned to hub which then",
    "start": "809279",
    "end": "811040"
  },
  {
    "text": "redirects the user",
    "start": "811040",
    "end": "812560"
  },
  {
    "text": "on to the user port",
    "start": "812560",
    "end": "815680"
  },
  {
    "text": "so the architecture is very similar to",
    "start": "815680",
    "end": "817440"
  },
  {
    "text": "what it was before",
    "start": "817440",
    "end": "819120"
  },
  {
    "text": "except that we replaced a few components",
    "start": "819120",
    "end": "821839"
  },
  {
    "text": "and we got the system working on",
    "start": "821839",
    "end": "824160"
  },
  {
    "text": "on the service mesh so we got mutual tls",
    "start": "824160",
    "end": "826880"
  },
  {
    "text": "so far and we got the scale that we",
    "start": "826880",
    "end": "829360"
  },
  {
    "text": "needed",
    "start": "829360",
    "end": "830880"
  },
  {
    "text": "let's see all of this in action",
    "start": "830880",
    "end": "834079"
  },
  {
    "text": "we're going to go back to the",
    "start": "834079",
    "end": "835279"
  },
  {
    "text": "application that we deployed earlier",
    "start": "835279",
    "end": "837199"
  },
  {
    "text": "and enable hto on the namespace before",
    "start": "837199",
    "end": "840399"
  },
  {
    "text": "we do that",
    "start": "840399",
    "end": "841360"
  },
  {
    "text": "let's take a look at all the changes",
    "start": "841360",
    "end": "843279"
  },
  {
    "text": "that we'll have to make",
    "start": "843279",
    "end": "844480"
  },
  {
    "text": "in order to get this going quebec diff",
    "start": "844480",
    "end": "847360"
  },
  {
    "text": "allows us to see",
    "start": "847360",
    "end": "848320"
  },
  {
    "text": "all the changes before we deploy them",
    "start": "848320",
    "end": "852720"
  },
  {
    "text": "so here you can see we have a few",
    "start": "852880",
    "end": "856079"
  },
  {
    "text": "components that would be changed when we",
    "start": "856079",
    "end": "857760"
  },
  {
    "text": "do the deployment",
    "start": "857760",
    "end": "859360"
  },
  {
    "text": "as we talked about earlier we no longer",
    "start": "859360",
    "end": "861440"
  },
  {
    "text": "need the proxy",
    "start": "861440",
    "end": "863040"
  },
  {
    "text": "public component as istio gateway would",
    "start": "863040",
    "end": "865760"
  },
  {
    "text": "take care of routing the traffic now",
    "start": "865760",
    "end": "868160"
  },
  {
    "text": "we have some changes to the port for",
    "start": "868160",
    "end": "870800"
  },
  {
    "text": "proxy api",
    "start": "870800",
    "end": "872320"
  },
  {
    "text": "this is just to satisfy the port",
    "start": "872320",
    "end": "874480"
  },
  {
    "text": "requirements for the new service",
    "start": "874480",
    "end": "878160"
  },
  {
    "text": "then we are also updating hub with some",
    "start": "878639",
    "end": "882000"
  },
  {
    "text": "of the routing information to tell it",
    "start": "882000",
    "end": "885040"
  },
  {
    "text": "how the traffic is being routed to it",
    "start": "885040",
    "end": "887199"
  },
  {
    "text": "and",
    "start": "887199",
    "end": "888160"
  },
  {
    "text": "and how it should behave with respect to",
    "start": "888160",
    "end": "890000"
  },
  {
    "text": "the incoming request",
    "start": "890000",
    "end": "892320"
  },
  {
    "text": "on the proxy itself we are passing in",
    "start": "892320",
    "end": "894320"
  },
  {
    "text": "some additional configuration we are",
    "start": "894320",
    "end": "895680"
  },
  {
    "text": "passing in the name of a new",
    "start": "895680",
    "end": "897680"
  },
  {
    "text": "istio gateway as well as the namespace",
    "start": "897680",
    "end": "900160"
  },
  {
    "text": "where",
    "start": "900160",
    "end": "901199"
  },
  {
    "text": "the new virtual services would be",
    "start": "901199",
    "end": "902639"
  },
  {
    "text": "created and some other configuration",
    "start": "902639",
    "end": "905040"
  },
  {
    "text": "that we need",
    "start": "905040",
    "end": "907600"
  },
  {
    "text": "so we also update the proxy command",
    "start": "907839",
    "end": "910880"
  },
  {
    "text": "to be the starting point of the new",
    "start": "910880",
    "end": "913120"
  },
  {
    "text": "application instead of the old",
    "start": "913120",
    "end": "915120"
  },
  {
    "text": "proxy that came bundled with jupiter",
    "start": "915120",
    "end": "916959"
  },
  {
    "text": "operationally",
    "start": "916959",
    "end": "918800"
  },
  {
    "text": "we're also able to make some additional",
    "start": "918800",
    "end": "920240"
  },
  {
    "text": "changes like how we restart the pods and",
    "start": "920240",
    "end": "922800"
  },
  {
    "text": "things like that which were not possible",
    "start": "922800",
    "end": "925040"
  },
  {
    "text": "before we moved our implementation using",
    "start": "925040",
    "end": "927519"
  },
  {
    "text": "the new component",
    "start": "927519",
    "end": "930399"
  },
  {
    "text": "we are deploying an istio gateway",
    "start": "930480",
    "end": "934560"
  },
  {
    "text": "component",
    "start": "934560",
    "end": "935600"
  },
  {
    "text": "so this is to to intercept all the",
    "start": "935600",
    "end": "938160"
  },
  {
    "text": "requests coming in",
    "start": "938160",
    "end": "940160"
  },
  {
    "text": "to the gateway and to route them",
    "start": "940160",
    "end": "943120"
  },
  {
    "text": "appropriately using the virtual services",
    "start": "943120",
    "end": "945279"
  },
  {
    "text": "and the destination host that we'll",
    "start": "945279",
    "end": "946800"
  },
  {
    "text": "configure on the services",
    "start": "946800",
    "end": "949199"
  },
  {
    "text": "using the new proxy api",
    "start": "949199",
    "end": "952560"
  },
  {
    "text": "we're also deploying a peer",
    "start": "952560",
    "end": "954240"
  },
  {
    "text": "authentication",
    "start": "954240",
    "end": "955759"
  },
  {
    "text": "component to the namespace to ensure",
    "start": "955759",
    "end": "958000"
  },
  {
    "text": "that",
    "start": "958000",
    "end": "958880"
  },
  {
    "text": "all components they have mutual tls",
    "start": "958880",
    "end": "961680"
  },
  {
    "text": "enabled",
    "start": "961680",
    "end": "962720"
  },
  {
    "text": "and we are using it in the strict mode",
    "start": "962720",
    "end": "964560"
  },
  {
    "text": "which means that all components must use",
    "start": "964560",
    "end": "967199"
  },
  {
    "text": "mtls when talking to each other the last",
    "start": "967199",
    "end": "970000"
  },
  {
    "text": "change that we are making",
    "start": "970000",
    "end": "971519"
  },
  {
    "text": "is to enable istio injection on the",
    "start": "971519",
    "end": "973920"
  },
  {
    "text": "namespace",
    "start": "973920",
    "end": "975759"
  },
  {
    "text": "this would mean that all the pods that",
    "start": "975759",
    "end": "978720"
  },
  {
    "text": "would start in the namespace would now",
    "start": "978720",
    "end": "980399"
  },
  {
    "text": "have",
    "start": "980399",
    "end": "981199"
  },
  {
    "text": "the side cars injected into them",
    "start": "981199",
    "end": "984320"
  },
  {
    "text": "let's go ahead and deploy this change",
    "start": "984320",
    "end": "997839"
  },
  {
    "text": "so all these components are now updated",
    "start": "999440",
    "end": "1002000"
  },
  {
    "text": "as you can see we deleted one service",
    "start": "1002000",
    "end": "1004079"
  },
  {
    "text": "and we created a few",
    "start": "1004079",
    "end": "1006079"
  },
  {
    "text": "new components and some other components",
    "start": "1006079",
    "end": "1008399"
  },
  {
    "text": "were updated",
    "start": "1008399",
    "end": "1010800"
  },
  {
    "text": "let's take a look at all the components",
    "start": "1010800",
    "end": "1012959"
  },
  {
    "text": "that we have here",
    "start": "1012959",
    "end": "1015839"
  },
  {
    "text": "as you can see our pods are now running",
    "start": "1019839",
    "end": "1022240"
  },
  {
    "text": "with",
    "start": "1022240",
    "end": "1022880"
  },
  {
    "text": "a 2x2 what this means is that two",
    "start": "1022880",
    "end": "1025120"
  },
  {
    "text": "containers running inside every pod",
    "start": "1025120",
    "end": "1027438"
  },
  {
    "text": "one of them being the actual application",
    "start": "1027439",
    "end": "1030240"
  },
  {
    "text": "part the other one is the istio sidecar",
    "start": "1030240",
    "end": "1032240"
  },
  {
    "text": "that takes care of",
    "start": "1032240",
    "end": "1033839"
  },
  {
    "text": "all the networking bits on this pod we",
    "start": "1033839",
    "end": "1037038"
  },
  {
    "text": "also removed one of the services",
    "start": "1037039",
    "end": "1039120"
  },
  {
    "text": "and there are no additional components",
    "start": "1039120",
    "end": "1041520"
  },
  {
    "text": "as of now",
    "start": "1041520",
    "end": "1043760"
  },
  {
    "text": "let's also take a look at any virtual",
    "start": "1043760",
    "end": "1045438"
  },
  {
    "text": "services that might have been created as",
    "start": "1045439",
    "end": "1047038"
  },
  {
    "text": "a result",
    "start": "1047039",
    "end": "1048000"
  },
  {
    "text": "as we see here there is one virtual",
    "start": "1048000",
    "end": "1049760"
  },
  {
    "text": "service already created",
    "start": "1049760",
    "end": "1051600"
  },
  {
    "text": "and if you remember from the diagram",
    "start": "1051600",
    "end": "1053440"
  },
  {
    "text": "when hub starts",
    "start": "1053440",
    "end": "1054720"
  },
  {
    "text": "it would register itself as the",
    "start": "1054720",
    "end": "1057039"
  },
  {
    "text": "destination for all the traffic",
    "start": "1057039",
    "end": "1059840"
  },
  {
    "text": "coming to that route so let's see what",
    "start": "1059840",
    "end": "1061919"
  },
  {
    "text": "this what this rule",
    "start": "1061919",
    "end": "1063280"
  },
  {
    "text": "looks like we describe this",
    "start": "1063280",
    "end": "1067760"
  },
  {
    "text": "virtual service we see that the",
    "start": "1067760",
    "end": "1069919"
  },
  {
    "text": "destination for all these services",
    "start": "1069919",
    "end": "1071840"
  },
  {
    "text": "is the hub service and we are routing",
    "start": "1071840",
    "end": "1074799"
  },
  {
    "text": "all that all the paths on this route",
    "start": "1074799",
    "end": "1077679"
  },
  {
    "text": "let's go to the browser and try to use",
    "start": "1077679",
    "end": "1080480"
  },
  {
    "text": "jupyter hub now",
    "start": "1080480",
    "end": "1083360"
  },
  {
    "text": "we didn't need to do any port forwarding",
    "start": "1088000",
    "end": "1089840"
  },
  {
    "text": "because we are directly talking to the",
    "start": "1089840",
    "end": "1091760"
  },
  {
    "text": "istio gateway which is running",
    "start": "1091760",
    "end": "1093760"
  },
  {
    "text": "at localhost id in this case and i can",
    "start": "1093760",
    "end": "1096799"
  },
  {
    "text": "log in",
    "start": "1096799",
    "end": "1098640"
  },
  {
    "text": "and you should see the service being",
    "start": "1098640",
    "end": "1102000"
  },
  {
    "text": "spawned",
    "start": "1102000",
    "end": "1102960"
  },
  {
    "text": "and so the user gets their notebook once",
    "start": "1102960",
    "end": "1107600"
  },
  {
    "text": "again",
    "start": "1107600",
    "end": "1109039"
  },
  {
    "text": "let's go back and take a look at what's",
    "start": "1109039",
    "end": "1111200"
  },
  {
    "text": "going on under the hood",
    "start": "1111200",
    "end": "1112720"
  },
  {
    "text": "let's take a look at all the services",
    "start": "1112720",
    "end": "1114480"
  },
  {
    "text": "that are now running in the namespace",
    "start": "1114480",
    "end": "1117919"
  },
  {
    "text": "we have the new user part running as you",
    "start": "1118799",
    "end": "1121440"
  },
  {
    "text": "can see this",
    "start": "1121440",
    "end": "1122000"
  },
  {
    "text": "also has two containers one of them is",
    "start": "1122000",
    "end": "1123840"
  },
  {
    "text": "the hto sidecar",
    "start": "1123840",
    "end": "1125120"
  },
  {
    "text": "the other one being the notebook server",
    "start": "1125120",
    "end": "1126960"
  },
  {
    "text": "itself",
    "start": "1126960",
    "end": "1128160"
  },
  {
    "text": "and we also have a new service now to",
    "start": "1128160",
    "end": "1130240"
  },
  {
    "text": "front the",
    "start": "1130240",
    "end": "1131520"
  },
  {
    "text": "user part so every time hub would spawn",
    "start": "1131520",
    "end": "1134559"
  },
  {
    "text": "a new user part it will also spawn a",
    "start": "1134559",
    "end": "1137120"
  },
  {
    "text": "corresponding service",
    "start": "1137120",
    "end": "1138720"
  },
  {
    "text": "this allows this this hub pod",
    "start": "1138720",
    "end": "1142160"
  },
  {
    "text": "to talk to this user part and ensure",
    "start": "1142160",
    "end": "1144320"
  },
  {
    "text": "that it's up and running",
    "start": "1144320",
    "end": "1145600"
  },
  {
    "text": "before it starts configuring the network",
    "start": "1145600",
    "end": "1147840"
  },
  {
    "text": "on the hto gateway",
    "start": "1147840",
    "end": "1149600"
  },
  {
    "text": "using this proxy which is now just the",
    "start": "1149600",
    "end": "1151840"
  },
  {
    "text": "api",
    "start": "1151840",
    "end": "1152720"
  },
  {
    "text": "that listens to hub and would make a",
    "start": "1152720",
    "end": "1154720"
  },
  {
    "text": "call to the kubernetes api",
    "start": "1154720",
    "end": "1156640"
  },
  {
    "text": "to create new istio virtual services",
    "start": "1156640",
    "end": "1160160"
  },
  {
    "text": "we can also take a look at the virtual",
    "start": "1160160",
    "end": "1162320"
  },
  {
    "text": "services",
    "start": "1162320",
    "end": "1163760"
  },
  {
    "text": "as we can see here there is a new istio",
    "start": "1163760",
    "end": "1165520"
  },
  {
    "text": "virtual service that was created",
    "start": "1165520",
    "end": "1168640"
  },
  {
    "text": "let's try and describe the service",
    "start": "1168640",
    "end": "1172320"
  },
  {
    "text": "this looks very similar to the service",
    "start": "1174559",
    "end": "1176320"
  },
  {
    "text": "that we saw earlier",
    "start": "1176320",
    "end": "1178240"
  },
  {
    "text": "the only difference here is the uri",
    "start": "1178240",
    "end": "1179840"
  },
  {
    "text": "prefix",
    "start": "1179840",
    "end": "1181440"
  },
  {
    "text": "and the destination so when a request",
    "start": "1181440",
    "end": "1184320"
  },
  {
    "text": "comes in",
    "start": "1184320",
    "end": "1184960"
  },
  {
    "text": "for slash user slash username it will",
    "start": "1184960",
    "end": "1188559"
  },
  {
    "text": "read out the traffic appropriately to",
    "start": "1188559",
    "end": "1191039"
  },
  {
    "text": "the",
    "start": "1191039",
    "end": "1192080"
  },
  {
    "text": "user service which is running under",
    "start": "1192080",
    "end": "1194080"
  },
  {
    "text": "jupyter dash username",
    "start": "1194080",
    "end": "1196080"
  },
  {
    "text": "as we saw in the list of components",
    "start": "1196080",
    "end": "1199760"
  },
  {
    "text": "so what this allows us to do is to",
    "start": "1199919",
    "end": "1201600"
  },
  {
    "text": "delegate all the network scalability",
    "start": "1201600",
    "end": "1203919"
  },
  {
    "text": "needs to",
    "start": "1203919",
    "end": "1205600"
  },
  {
    "text": "we are able to use the side cars for",
    "start": "1205600",
    "end": "1207600"
  },
  {
    "text": "mutual tls",
    "start": "1207600",
    "end": "1209120"
  },
  {
    "text": "whenever one component talks to other",
    "start": "1209120",
    "end": "1211200"
  },
  {
    "text": "component",
    "start": "1211200",
    "end": "1212240"
  },
  {
    "text": "all the traffic is encrypted between",
    "start": "1212240",
    "end": "1214000"
  },
  {
    "text": "them and we are able to use istio",
    "start": "1214000",
    "end": "1216400"
  },
  {
    "text": "gateway",
    "start": "1216400",
    "end": "1217360"
  },
  {
    "text": "and the concept of virtual services",
    "start": "1217360",
    "end": "1219440"
  },
  {
    "text": "configured with",
    "start": "1219440",
    "end": "1220400"
  },
  {
    "text": "appropriate destination host to route",
    "start": "1220400",
    "end": "1223280"
  },
  {
    "text": "the traffic",
    "start": "1223280",
    "end": "1225600"
  },
  {
    "text": "this allows us to run our services at",
    "start": "1225600",
    "end": "1227600"
  },
  {
    "text": "scale by delegating the network",
    "start": "1227600",
    "end": "1230000"
  },
  {
    "text": "scalability needs to the hto service",
    "start": "1230000",
    "end": "1232000"
  },
  {
    "text": "mesh",
    "start": "1232000",
    "end": "1232880"
  },
  {
    "text": "before we go back to the slides let's",
    "start": "1232880",
    "end": "1235360"
  },
  {
    "text": "quickly verify that our traffic is",
    "start": "1235360",
    "end": "1237039"
  },
  {
    "text": "indeed routed through the sidecars",
    "start": "1237039",
    "end": "1240720"
  },
  {
    "text": "we are going to tail the logs for the",
    "start": "1246400",
    "end": "1248799"
  },
  {
    "text": "istio",
    "start": "1248799",
    "end": "1249600"
  },
  {
    "text": "proxy container inside the pod",
    "start": "1249600",
    "end": "1253600"
  },
  {
    "text": "as you can see here the sidecar",
    "start": "1254080",
    "end": "1255760"
  },
  {
    "text": "intercepts the outgoing request from",
    "start": "1255760",
    "end": "1257840"
  },
  {
    "text": "this part",
    "start": "1257840",
    "end": "1258799"
  },
  {
    "text": "so this part is continuously sending",
    "start": "1258799",
    "end": "1260640"
  },
  {
    "text": "heartbeats to the hub service",
    "start": "1260640",
    "end": "1262880"
  },
  {
    "text": "and all those events are locked here in",
    "start": "1262880",
    "end": "1265280"
  },
  {
    "text": "the sidecar",
    "start": "1265280",
    "end": "1268000"
  },
  {
    "text": "at this point we were really comfortable",
    "start": "1269039",
    "end": "1270880"
  },
  {
    "text": "working with the service mesh",
    "start": "1270880",
    "end": "1272960"
  },
  {
    "text": "we were now looking at ways of using the",
    "start": "1272960",
    "end": "1274799"
  },
  {
    "text": "service mesh to solve some of the other",
    "start": "1274799",
    "end": "1276640"
  },
  {
    "text": "problems",
    "start": "1276640",
    "end": "1277760"
  },
  {
    "text": "that we had in our system and this is",
    "start": "1277760",
    "end": "1281200"
  },
  {
    "start": "1279000",
    "end": "1359000"
  },
  {
    "text": "where compliance and audit comes in",
    "start": "1281200",
    "end": "1284000"
  },
  {
    "text": "so once we had the service running for a",
    "start": "1284000",
    "end": "1286000"
  },
  {
    "text": "while and we got it on mutual tls",
    "start": "1286000",
    "end": "1289200"
  },
  {
    "text": "we wanted to make sure that we don't",
    "start": "1289200",
    "end": "1291600"
  },
  {
    "text": "regress on these things",
    "start": "1291600",
    "end": "1293280"
  },
  {
    "text": "so we need to put in the checks to",
    "start": "1293280",
    "end": "1295440"
  },
  {
    "text": "ensure",
    "start": "1295440",
    "end": "1296799"
  },
  {
    "text": "that our services are compliant and stay",
    "start": "1296799",
    "end": "1299200"
  },
  {
    "text": "compliant",
    "start": "1299200",
    "end": "1300559"
  },
  {
    "text": "this is a prometheus metric for hto",
    "start": "1300559",
    "end": "1303760"
  },
  {
    "text": "that we are continuously collecting from",
    "start": "1303760",
    "end": "1305679"
  },
  {
    "text": "the system",
    "start": "1305679",
    "end": "1307200"
  },
  {
    "text": "which tells us the state of mutual tls",
    "start": "1307200",
    "end": "1310159"
  },
  {
    "text": "here you can see the connection security",
    "start": "1310159",
    "end": "1311919"
  },
  {
    "text": "policy is set to mutual tls",
    "start": "1311919",
    "end": "1314880"
  },
  {
    "text": "and we can set up our alerts on this to",
    "start": "1314880",
    "end": "1317360"
  },
  {
    "text": "ensure that",
    "start": "1317360",
    "end": "1318159"
  },
  {
    "text": "this policy is enforced all the time",
    "start": "1318159",
    "end": "1321760"
  },
  {
    "text": "we can look at the services that are",
    "start": "1321760",
    "end": "1323760"
  },
  {
    "text": "involved and also where this",
    "start": "1323760",
    "end": "1326640"
  },
  {
    "text": "metric is being collected it's important",
    "start": "1326640",
    "end": "1328880"
  },
  {
    "text": "here to know that the connection",
    "start": "1328880",
    "end": "1330080"
  },
  {
    "text": "security policy is reported",
    "start": "1330080",
    "end": "1332640"
  },
  {
    "text": "correctly on the reporter type",
    "start": "1332640",
    "end": "1334480"
  },
  {
    "text": "destination",
    "start": "1334480",
    "end": "1336080"
  },
  {
    "text": "for every request there is a source and",
    "start": "1336080",
    "end": "1337679"
  },
  {
    "text": "a destination if you if you look at the",
    "start": "1337679",
    "end": "1340080"
  },
  {
    "text": "request that",
    "start": "1340080",
    "end": "1340799"
  },
  {
    "text": "originates from a source where the",
    "start": "1340799",
    "end": "1343200"
  },
  {
    "text": "reporter is equal to source",
    "start": "1343200",
    "end": "1345120"
  },
  {
    "text": "you might not see the correct connection",
    "start": "1345120",
    "end": "1347919"
  },
  {
    "text": "policy because at that time",
    "start": "1347919",
    "end": "1349760"
  },
  {
    "text": "it's not known whether the connection",
    "start": "1349760",
    "end": "1352159"
  },
  {
    "text": "would be",
    "start": "1352159",
    "end": "1353200"
  },
  {
    "text": "a mutual tls connection or not so it's",
    "start": "1353200",
    "end": "1355120"
  },
  {
    "text": "always beneficial to look at the",
    "start": "1355120",
    "end": "1356640"
  },
  {
    "text": "reported destination",
    "start": "1356640",
    "end": "1360000"
  },
  {
    "start": "1359000",
    "end": "1498000"
  },
  {
    "text": "had started this project with a very",
    "start": "1360000",
    "end": "1361760"
  },
  {
    "text": "small team",
    "start": "1361760",
    "end": "1363360"
  },
  {
    "text": "but as the project scope expanded more",
    "start": "1363360",
    "end": "1366400"
  },
  {
    "text": "and more engineers joined the team",
    "start": "1366400",
    "end": "1368480"
  },
  {
    "text": "we had the need to be able to iterate",
    "start": "1368480",
    "end": "1370720"
  },
  {
    "text": "fast on the product",
    "start": "1370720",
    "end": "1372480"
  },
  {
    "text": "this meant that we needed to deploy and",
    "start": "1372480",
    "end": "1374480"
  },
  {
    "text": "we needed to deploy fast",
    "start": "1374480",
    "end": "1376240"
  },
  {
    "text": "and allow engineers to test their",
    "start": "1376240",
    "end": "1377760"
  },
  {
    "text": "features in a production-like",
    "start": "1377760",
    "end": "1379120"
  },
  {
    "text": "environment",
    "start": "1379120",
    "end": "1380240"
  },
  {
    "text": "and also to be able to demo these",
    "start": "1380240",
    "end": "1382240"
  },
  {
    "text": "features to the stakeholders",
    "start": "1382240",
    "end": "1384640"
  },
  {
    "text": "we again used features from the service",
    "start": "1384640",
    "end": "1387039"
  },
  {
    "text": "mesh to build out these capabilities we",
    "start": "1387039",
    "end": "1389440"
  },
  {
    "text": "extended",
    "start": "1389440",
    "end": "1391039"
  },
  {
    "text": "the features that were built around hdr",
    "start": "1391039",
    "end": "1392960"
  },
  {
    "text": "virtual services and destination host",
    "start": "1392960",
    "end": "1395360"
  },
  {
    "text": "to allow selective routing on deployment",
    "start": "1395360",
    "end": "1397919"
  },
  {
    "text": "so this",
    "start": "1397919",
    "end": "1398880"
  },
  {
    "text": "allowed every engineer to to deploy",
    "start": "1398880",
    "end": "1401039"
  },
  {
    "text": "their component and test them",
    "start": "1401039",
    "end": "1403039"
  },
  {
    "text": "in a production like setting service",
    "start": "1403039",
    "end": "1405600"
  },
  {
    "text": "mesh also gives you additional benefits",
    "start": "1405600",
    "end": "1407360"
  },
  {
    "text": "around",
    "start": "1407360",
    "end": "1408000"
  },
  {
    "text": "things like rate limiting if you recall",
    "start": "1408000",
    "end": "1411200"
  },
  {
    "text": "from the diagram that we shared earlier",
    "start": "1411200",
    "end": "1413520"
  },
  {
    "text": "on the polyglot of services that we",
    "start": "1413520",
    "end": "1416000"
  },
  {
    "text": "have it's really hard to go and",
    "start": "1416000",
    "end": "1418960"
  },
  {
    "text": "implement",
    "start": "1418960",
    "end": "1419679"
  },
  {
    "text": "the same features like rate limiting",
    "start": "1419679",
    "end": "1422400"
  },
  {
    "text": "retries",
    "start": "1422400",
    "end": "1423200"
  },
  {
    "text": "on each and every service with service",
    "start": "1423200",
    "end": "1425760"
  },
  {
    "text": "mesh",
    "start": "1425760",
    "end": "1426320"
  },
  {
    "text": "you can retry failed network requests",
    "start": "1426320",
    "end": "1428880"
  },
  {
    "text": "you can put rate limits",
    "start": "1428880",
    "end": "1430400"
  },
  {
    "text": "so that one service does not abuse",
    "start": "1430400",
    "end": "1433919"
  },
  {
    "text": "the system and you can also do",
    "start": "1433919",
    "end": "1437039"
  },
  {
    "text": "interesting things like",
    "start": "1437039",
    "end": "1438080"
  },
  {
    "text": "fault tolerant this this helps you",
    "start": "1438080",
    "end": "1442159"
  },
  {
    "text": "inject faults into into the system and",
    "start": "1442159",
    "end": "1445039"
  },
  {
    "text": "see how your system behaves",
    "start": "1445039",
    "end": "1447440"
  },
  {
    "text": "so all these when combined together",
    "start": "1447440",
    "end": "1450320"
  },
  {
    "text": "makes",
    "start": "1450320",
    "end": "1450720"
  },
  {
    "text": "for a really pleasant engineering",
    "start": "1450720",
    "end": "1453279"
  },
  {
    "text": "experience because you",
    "start": "1453279",
    "end": "1454559"
  },
  {
    "text": "you are focused on delivering the",
    "start": "1454559",
    "end": "1456000"
  },
  {
    "text": "features and not worried about",
    "start": "1456000",
    "end": "1458880"
  },
  {
    "text": "building a lot of infra that we can",
    "start": "1458880",
    "end": "1462159"
  },
  {
    "text": "build using a service mesh",
    "start": "1462159",
    "end": "1465279"
  },
  {
    "text": "and another important gain for using a",
    "start": "1465279",
    "end": "1467840"
  },
  {
    "text": "service mesh is around telemetry",
    "start": "1467840",
    "end": "1470400"
  },
  {
    "text": "so as all the traffic is now flowing",
    "start": "1470400",
    "end": "1472400"
  },
  {
    "text": "through the service mesh",
    "start": "1472400",
    "end": "1474159"
  },
  {
    "text": "we can easily see what's going on in the",
    "start": "1474159",
    "end": "1477279"
  },
  {
    "text": "system",
    "start": "1477279",
    "end": "1478640"
  },
  {
    "text": "so you we can see which service is",
    "start": "1478640",
    "end": "1480240"
  },
  {
    "text": "talking to which other service",
    "start": "1480240",
    "end": "1481760"
  },
  {
    "text": "we can see how many requests our service",
    "start": "1481760",
    "end": "1483840"
  },
  {
    "text": "is making how many requests are failing",
    "start": "1483840",
    "end": "1486720"
  },
  {
    "text": "how big of a data we are transferring",
    "start": "1486720",
    "end": "1488559"
  },
  {
    "text": "and things like that",
    "start": "1488559",
    "end": "1491039"
  },
  {
    "text": "while moving to a service mesh wasn't",
    "start": "1491039",
    "end": "1492880"
  },
  {
    "text": "our first choice",
    "start": "1492880",
    "end": "1494960"
  },
  {
    "text": "it all turned out to be a blessing in",
    "start": "1494960",
    "end": "1496720"
  },
  {
    "text": "disguise in the end",
    "start": "1496720",
    "end": "1499520"
  },
  {
    "start": "1498000",
    "end": "1576000"
  },
  {
    "text": "in conclusion i would like to say that a",
    "start": "1499520",
    "end": "1502159"
  },
  {
    "text": "polyglot environment",
    "start": "1502159",
    "end": "1503600"
  },
  {
    "text": "needs a service mesh the learnings that",
    "start": "1503600",
    "end": "1506000"
  },
  {
    "text": "you have from",
    "start": "1506000",
    "end": "1507120"
  },
  {
    "text": "putting one service on a service mesh",
    "start": "1507120",
    "end": "1509520"
  },
  {
    "text": "are transferable to all other services",
    "start": "1509520",
    "end": "1511600"
  },
  {
    "text": "that you're running in the system",
    "start": "1511600",
    "end": "1514080"
  },
  {
    "text": "although troubleshooting can be a little",
    "start": "1514080",
    "end": "1515760"
  },
  {
    "text": "tricky and you can run into some really",
    "start": "1515760",
    "end": "1517919"
  },
  {
    "text": "challenging scenarios with the network",
    "start": "1517919",
    "end": "1520320"
  },
  {
    "text": "once you are passed it",
    "start": "1520320",
    "end": "1521840"
  },
  {
    "text": "operating your services at scale in a",
    "start": "1521840",
    "end": "1524000"
  },
  {
    "text": "secure manner becomes really really easy",
    "start": "1524000",
    "end": "1528000"
  },
  {
    "text": "you are not running a service mesh in",
    "start": "1528000",
    "end": "1529520"
  },
  {
    "text": "your kubernetes cluster",
    "start": "1529520",
    "end": "1531520"
  },
  {
    "text": "i strongly encourage you to give it a",
    "start": "1531520",
    "end": "1533360"
  },
  {
    "text": "try",
    "start": "1533360",
    "end": "1535120"
  },
  {
    "text": "it can help ensure that your engineers",
    "start": "1535120",
    "end": "1537200"
  },
  {
    "text": "are focused on building the features",
    "start": "1537200",
    "end": "1538880"
  },
  {
    "text": "that your customers want",
    "start": "1538880",
    "end": "1540799"
  },
  {
    "text": "and also you have a very good",
    "start": "1540799",
    "end": "1543600"
  },
  {
    "text": "understanding of your network security",
    "start": "1543600",
    "end": "1545840"
  },
  {
    "text": "as well as you are able to scale your",
    "start": "1545840",
    "end": "1547600"
  },
  {
    "text": "network if you are interested to learn",
    "start": "1547600",
    "end": "1549840"
  },
  {
    "text": "more about the nitty gritties of",
    "start": "1549840",
    "end": "1552080"
  },
  {
    "text": "how to troubleshoot and store service",
    "start": "1552080",
    "end": "1554000"
  },
  {
    "text": "mesh i encourage you to check",
    "start": "1554000",
    "end": "1556000"
  },
  {
    "text": "out this repository on github",
    "start": "1556000",
    "end": "1559039"
  },
  {
    "text": "which has links to a blog detailing all",
    "start": "1559039",
    "end": "1562080"
  },
  {
    "text": "the steps that we went through while",
    "start": "1562080",
    "end": "1563679"
  },
  {
    "text": "troubleshooting",
    "start": "1563679",
    "end": "1564720"
  },
  {
    "text": "the challenges that we run into",
    "start": "1564720",
    "end": "1567840"
  },
  {
    "text": "i'm sure you'll be able to use some of",
    "start": "1567840",
    "end": "1569520"
  },
  {
    "text": "these learnings in ensuring you're able",
    "start": "1569520",
    "end": "1571760"
  },
  {
    "text": "to move your workloads onto a service",
    "start": "1571760",
    "end": "1573760"
  },
  {
    "text": "mesh",
    "start": "1573760",
    "end": "1574799"
  },
  {
    "text": "thank you",
    "start": "1574799",
    "end": "1577919"
  }
]