[
  {
    "text": "first welcome everyone to join this today's session today we are going to talk about quar to see how we can use",
    "start": "640",
    "end": "7520"
  },
  {
    "text": "quar to do kubernetes scaling test Revolution firstly a little bit about",
    "start": "7520",
    "end": "14799"
  },
  {
    "text": "ourselves my name is Wayan I work for Apple in the Apple service engineering team in the Upstream I'm the co-chair of",
    "start": "14799",
    "end": "21439"
  },
  {
    "text": "six scheding I'm also the maintainer of some schedule plug of some Cal sub",
    "start": "21439",
    "end": "26599"
  },
  {
    "text": "projects like schedule plugins and the qu uh my name is we way Yang I'm also",
    "start": "26599",
    "end": "32880"
  },
  {
    "text": "from Apple uh working in the AML data infrastructure and I'm ex vvp of apach",
    "start": "32880",
    "end": "39039"
  },
  {
    "text": "unicorn um and also I love kubernetes and open source I worked on many many open source projects",
    "start": "39039",
    "end": "46199"
  },
  {
    "text": "before so today's agenda is three parts first we will get you to know what's",
    "start": "46199",
    "end": "51440"
  },
  {
    "text": "kuber ntic SC we test as what's current state and secondly we will see how we can use qu to solve the scarber test pit",
    "start": "51440",
    "end": "59760"
  },
  {
    "text": "point point in a little different angle the lastly we will will show how in",
    "start": "59760",
    "end": "65280"
  },
  {
    "text": "reality how cor helps unicorn to uh load",
    "start": "65280",
    "end": "70360"
  },
  {
    "text": "the SC test the first part what is kubernetes",
    "start": "70360",
    "end": "76000"
  },
  {
    "text": "scil test so it's the term scil test sounds a little scar you may be panic",
    "start": "76000",
    "end": "81360"
  },
  {
    "text": "when you hear ter but by different definition is nothing but C how your",
    "start": "81360",
    "end": "90720"
  },
  {
    "text": "components respond along with the number change of your kubernetes API objects so",
    "start": "90720",
    "end": "96159"
  },
  {
    "text": "it can be multi-dimensional you can be can be nose change can be power change can be service change and points change",
    "start": "96159",
    "end": "102360"
  },
  {
    "text": "PB PVC Etc and also can be a particular uh combination that you care",
    "start": "102360",
    "end": "108799"
  },
  {
    "text": "most for for example for is maybe care most about how the end points end point",
    "start": "108799",
    "end": "113960"
  },
  {
    "text": "size Etc how it works like or it's related uh through objects so",
    "start": "113960",
    "end": "120439"
  },
  {
    "text": "why this is important because I think most of company right now are enter a day two world of running kubernetes so",
    "start": "120439",
    "end": "127799"
  },
  {
    "text": "for day two it's a master to measure the component to be assure you know the",
    "start": "127799",
    "end": "133560"
  },
  {
    "text": "limits and the boundary of your application running there and then so you can pre plan Your Capacity and so",
    "start": "133560",
    "end": "141080"
  },
  {
    "text": "that you can control the cost and also your user know the limits so they can",
    "start": "141080",
    "end": "146160"
  },
  {
    "text": "plan the application as well to know the limits and get the best user exp so in practice How We Do scri test",
    "start": "146160",
    "end": "154400"
  },
  {
    "text": "in kubernetes context uh over simplified Paradigm is like this we should have the",
    "start": "154400",
    "end": "161000"
  },
  {
    "text": "data inputs the data inputs is nothing but a series of uh work clows but you",
    "start": "161000",
    "end": "166360"
  },
  {
    "text": "may not choose the raw Vina yice describe all the N all power Etc maybe",
    "start": "166360",
    "end": "172560"
  },
  {
    "text": "you CH some tools help you abstract that with close and it also help you orchestrate you know t window like uh",
    "start": "172560",
    "end": "181120"
  },
  {
    "text": "how you describe a scenario to deploy 5,000 nails and deploy uh 10K parts and",
    "start": "181120",
    "end": "187280"
  },
  {
    "text": "see how how the C look looks like then",
    "start": "187280",
    "end": "192360"
  },
  {
    "text": "in the market there are some existing open source tool like cruster loader",
    "start": "192360",
    "end": "197680"
  },
  {
    "text": "Tool uh it's maintained by six scalability and it can offer a yo based",
    "start": "197680",
    "end": "206280"
  },
  {
    "text": "directly for you to describe uh what kind of work close orchestration will",
    "start": "206280",
    "end": "211439"
  },
  {
    "text": "look like so once you have the input you just put the data into the kubernetes",
    "start": "211439",
    "end": "218599"
  },
  {
    "text": "cluster we will get back later about how we compose spin up the kubernetes",
    "start": "218599",
    "end": "224159"
  },
  {
    "text": "cluster later and then you run the work close you wait for the work close to",
    "start": "224159",
    "end": "229799"
  },
  {
    "text": "complete and then you click the data output so the data output can be Matrix",
    "start": "229799",
    "end": "235319"
  },
  {
    "text": "can be log can be anything you care about and then you do the analysis and",
    "start": "235319",
    "end": "240560"
  },
  {
    "text": "Show app you can also L the existing famous uh observability tools like PR",
    "start": "240560",
    "end": "249079"
  },
  {
    "text": "and also you can uh build custom dashboard so let's take a look at cubern",
    "start": "249079",
    "end": "256759"
  },
  {
    "text": "cluster obvious a straightforward idea is yeah it's nothing about a kubernetes",
    "start": "256759",
    "end": "263280"
  },
  {
    "text": "cluster I just run the real cluster right that's right in the Upstream CI s",
    "start": "263280",
    "end": "269280"
  },
  {
    "text": "there is the job is to swing up 5,000 gcp noes you may be a little surprising",
    "start": "269280",
    "end": "277120"
  },
  {
    "text": "but it does is exist this kind of 5,000 GCB real nose test but interesting thing is that in",
    "start": "277120",
    "end": "284520"
  },
  {
    "text": "the uh right top it says run on all days you may be wondering why it run all days",
    "start": "284520",
    "end": "292080"
  },
  {
    "text": "why not one why why why it doesn't wrong every day and why it doesn't even Rong",
    "start": "292080",
    "end": "297120"
  },
  {
    "text": "maybe every few hours or just upon the PRS merge right the answer is also",
    "start": "297120",
    "end": "304160"
  },
  {
    "text": "obvious that's a lot of money you sp out 5,000 no VM right that's a lot of money",
    "start": "304160",
    "end": "311840"
  },
  {
    "text": "even up string cannot afford and also you have to wait for the cluster to real",
    "start": "311840",
    "end": "318039"
  },
  {
    "text": "be up and also destroy can be not tral uh work and then the third limitation is",
    "start": "318039",
    "end": "326199"
  },
  {
    "text": "that you are restricted to the cloud off skus you cannot config arbitrary skus",
    "start": "326199",
    "end": "334000"
  },
  {
    "text": "like how many CPU and memory you want so this kind of three limitations yes this kind of test does",
    "start": "334000",
    "end": "341400"
  },
  {
    "text": "has value especially you want to cover the end end from API object creation to",
    "start": "341400",
    "end": "346840"
  },
  {
    "text": "the uh cuade so it does exist have value but most of the time if you want to test",
    "start": "346840",
    "end": "352840"
  },
  {
    "text": "the control plan only components is way too much to be affordable so for for control plan only",
    "start": "352840",
    "end": "360840"
  },
  {
    "text": "components usually we run simulator kuber ntic cluster there is a tool",
    "start": "360840",
    "end": "366639"
  },
  {
    "text": "called Cube Mark which is short for kubernetes Benchmark so basically this",
    "start": "366639",
    "end": "371759"
  },
  {
    "text": "essential idea is that I don't want really want the CU blade because I don't care about the wrong time Behavior I",
    "start": "371759",
    "end": "377000"
  },
  {
    "text": "care about the control plan Behavior so the essence is I will implement the minimum CU interface and wrap it up as a",
    "start": "377000",
    "end": "386560"
  },
  {
    "text": "hollow node and that Hollow node talk to the API server to represent yourself as",
    "start": "386560",
    "end": "392479"
  },
  {
    "text": "a note so that if you want to compose 5,000 notes you just spin up 5,000",
    "start": "392479",
    "end": "399360"
  },
  {
    "text": "Hollow noes the the banies and you will get a fake 5,000 noes Custer let's use a",
    "start": "399360",
    "end": "407360"
  },
  {
    "text": "diagram to illustrate so firstly you have to have a control plan you want to",
    "start": "407360",
    "end": "413440"
  },
  {
    "text": "test against if you're not caring about the control plan is just Upstream one",
    "start": "413440",
    "end": "418479"
  },
  {
    "text": "and uh from your specific component for example CD controller you want to test",
    "start": "418479",
    "end": "423599"
  },
  {
    "text": "it so this is the target you want to test with and then you don't have noes",
    "start": "423599",
    "end": "429919"
  },
  {
    "text": "right so you will spin up this kind of hollow noes and those Hollow noes as I",
    "start": "429919",
    "end": "435680"
  },
  {
    "text": "mentioned earlier will registers as a fake cubet and then talk to the API",
    "start": "435680",
    "end": "442120"
  },
  {
    "text": "server in the a Target cluster but this kind of col not as mentioned does need",
    "start": "442120",
    "end": "449440"
  },
  {
    "text": "computer resource they're not coming for free you have to have a",
    "start": "449440",
    "end": "454720"
  },
  {
    "text": "concrete physical place to run this kind of hollow nails so usually uh a popular",
    "start": "454720",
    "end": "460680"
  },
  {
    "text": "pattern is you have you have to have a another kubernetes hosting cluster they are real clusters and then this hollow",
    "start": "460680",
    "end": "469240"
  },
  {
    "text": "Nails in the context of Hosting cluster is nothing but individual part they are",
    "start": "469240",
    "end": "475639"
  },
  {
    "text": "not no they're just a part be schedule as usual and then in the right part the Yellow Part",
    "start": "475639",
    "end": "482199"
  },
  {
    "text": "consists of the hosting cluster but in the left part themselves when talking to the",
    "start": "482199",
    "end": "488840"
  },
  {
    "text": "control plan they are no so this sounds a little complex but yes it does that is",
    "start": "488840",
    "end": "494360"
  },
  {
    "text": "why it has this is the pinpoint of the complexity so the other pin point is that it",
    "start": "494360",
    "end": "502120"
  },
  {
    "text": "doesn't come for free a consumer results the initial mem free print for each har is",
    "start": "502120",
    "end": "508960"
  },
  {
    "text": "one 100 megabytes so if you want compos 5,000 that means you have to have 500",
    "start": "508960",
    "end": "516440"
  },
  {
    "text": "gab uh to prepare for this kind of testing that is not tral resource I would say maybe you have to have a",
    "start": "516440",
    "end": "523279"
  },
  {
    "text": "hosting Custer for 100 noes maybe to simulate it 500 5,000 no test so how we",
    "start": "523279",
    "end": "531399"
  },
  {
    "text": "can make it better so that is the motivation of the project",
    "start": "531399",
    "end": "536519"
  },
  {
    "text": "qu in this part we will share what is called and why is performing and how",
    "start": "536519",
    "end": "542480"
  },
  {
    "text": "it's distinguished in terms of design philosophy to other Frameworks like Q",
    "start": "542480",
    "end": "548600"
  },
  {
    "text": "Mark so C is a shot for Cub without CU",
    "start": "548600",
    "end": "554200"
  },
  {
    "text": "blade so you may may be super confusing about ter without cuet but believe it or",
    "start": "554200",
    "end": "560959"
  },
  {
    "text": "not you may be already using it without noticing it for example if a Upstream",
    "start": "560959",
    "end": "567120"
  },
  {
    "text": "developer one you write test it doesn't spin up Cate it just",
    "start": "567120",
    "end": "572360"
  },
  {
    "text": "spin up apsd and the particular components you want test with also for m",
    "start": "572360",
    "end": "578680"
  },
  {
    "text": "test maybe you use C builder to do your uh to speed up your controller",
    "start": "578680",
    "end": "584920"
  },
  {
    "text": "development so there is a tool called m test working on this help you write very",
    "start": "584920",
    "end": "591120"
  },
  {
    "text": "distant test SS so m test also doesn't spin up KS but it spin a lot for your",
    "start": "591120",
    "end": "599519"
  },
  {
    "text": "testing right so but this kind of two types of",
    "start": "599519",
    "end": "604839"
  },
  {
    "text": "uh tools has this limitation the first one is has a uh has a bar there it's designed not",
    "start": "604839",
    "end": "612399"
  },
  {
    "text": "for end User it's requires you have certain knowledge of kubernets it's SDK",
    "start": "612399",
    "end": "619240"
  },
  {
    "text": "oriented instead of API oriented so you have to use scod compose this kind of test and also some of them doesn't have",
    "start": "619240",
    "end": "626279"
  },
  {
    "text": "the concept of virtual noes for example m test does give you a extensible mechanism to create nodes right so uh",
    "start": "626279",
    "end": "635519"
  },
  {
    "text": "it's just focus on controllers functionality testing and also the other more pin point of this is it doesn't",
    "start": "635519",
    "end": "642160"
  },
  {
    "text": "simulate the full life cycle of the objects just drop at percentage at a",
    "start": "642160",
    "end": "647360"
  },
  {
    "text": "certain stage so because there's no C back in them so the part will always be",
    "start": "647360",
    "end": "653839"
  },
  {
    "text": "pending States and if you create note there will always be in no ready status",
    "start": "653839",
    "end": "659680"
  },
  {
    "text": "so it may not fit your testing a lot of other scenarios in terms of SC test and",
    "start": "659680",
    "end": "665880"
  },
  {
    "text": "for hollow notes as I mentioned it's does have the entity to represent the",
    "start": "665880",
    "end": "672600"
  },
  {
    "text": "Cent but it designs by designs o fake nails and has a notal memory",
    "start": "672600",
    "end": "680959"
  },
  {
    "text": "footprint so how C resolve all this",
    "start": "680959",
    "end": "686639"
  },
  {
    "text": "problem in all in one time so first like this is a diagram of the",
    "start": "686639",
    "end": "693760"
  },
  {
    "text": "the classic kubernetes architecture so in the right part if cube is involved he",
    "start": "693760",
    "end": "702200"
  },
  {
    "text": "wants it doesn't need noes it's just a fake no but not fake node entity just",
    "start": "702200",
    "end": "708000"
  },
  {
    "text": "fake node API objects you can use Cube control to create this kind of node objects and then when this nails are get",
    "start": "708000",
    "end": "717440"
  },
  {
    "text": "created qu will will be notified the qu controller will be notified and then do",
    "start": "717440",
    "end": "723519"
  },
  {
    "text": "the rest of work for you to simulate the rest the life cycle of the NS to make it like real wantes to maintain the hobit",
    "start": "723519",
    "end": "731519"
  },
  {
    "text": "with the fake no objects to API server I will show you later in demo because this is f node in kuber",
    "start": "731519",
    "end": "739519"
  },
  {
    "text": "netics design everything is API objects so this F noes they exist as API objects",
    "start": "739519",
    "end": "745160"
  },
  {
    "text": "so they will be aware by schuer so when your schedule terms of out there they",
    "start": "745160",
    "end": "750399"
  },
  {
    "text": "will be scheduled properly by schedule It's Just landing on fake",
    "start": "750399",
    "end": "757279"
  },
  {
    "text": "news and also qu will continue the rest of life cycle to continue from scheduled",
    "start": "757279",
    "end": "764240"
  },
  {
    "text": "Stace to running stage or completed stage you you name it you it provide",
    "start": "764240",
    "end": "770079"
  },
  {
    "text": "injective annotation of some other stage and term for you to Define what kind of",
    "start": "770079",
    "end": "776040"
  },
  {
    "text": "rest of life cycle you will want to this part to go to so why is in",
    "start": "776040",
    "end": "784560"
  },
  {
    "text": "performant the first thing is that it's by design it doesn't have the concrete",
    "start": "784560",
    "end": "790279"
  },
  {
    "text": "entity to represent Cube Cube blet so it's by Design it's a one memory footprint and also internally uh it",
    "start": "790279",
    "end": "797199"
  },
  {
    "text": "doesn't follow a lot of like controllers design design philosophy to use Informer",
    "start": "797199",
    "end": "802320"
  },
  {
    "text": "to K all objects in memory it's more like a streaming processor about the",
    "start": "802320",
    "end": "809320"
  },
  {
    "text": "incoming objects so you just come through and go away and then because",
    "start": "809320",
    "end": "815000"
  },
  {
    "text": "this not it's not real work close or not real nails so that I don't need to keep the current state in memory for all my",
    "start": "815000",
    "end": "822320"
  },
  {
    "text": "life cycle of the qu controller so it saves a lot of memory so I will show you a little bit how the memory footprint is",
    "start": "822320",
    "end": "829320"
  },
  {
    "text": "looks like and C itself as I mentioned in",
    "start": "829320",
    "end": "834480"
  },
  {
    "text": "diagram I mentioned earlier uh it has the most core part is the Cor controller",
    "start": "834480",
    "end": "839600"
  },
  {
    "text": "it's aimed for maintain harits with the harit fils to AP server as well as PA",
    "start": "839600",
    "end": "846720"
  },
  {
    "text": "maintain this full life cycle of path as well as some other objects and it's tailor designed to optimize me memory",
    "start": "846720",
    "end": "854440"
  },
  {
    "text": "also it comes up with another handy to Kit called quot control to help you set",
    "start": "854440",
    "end": "860440"
  },
  {
    "text": "up your local testing environment very quickly so let me get into",
    "start": "860440",
    "end": "867680"
  },
  {
    "text": "demo so uh I have a qu control I have nothing",
    "start": "867680",
    "end": "875480"
  },
  {
    "text": "running here right now I have a qu control it's Alias for KW so because for",
    "start": "875480",
    "end": "881120"
  },
  {
    "text": "demo purposes and also I'm running on Mac is the most convenient way for me to",
    "start": "881120",
    "end": "886480"
  },
  {
    "text": "show you how it works looks like it's running in the bannery model so I have pre pre-build bannery of uh SD schedule",
    "start": "886480",
    "end": "894560"
  },
  {
    "text": "server control manager so when I created this",
    "start": "894560",
    "end": "899720"
  },
  {
    "text": "the C is that and also it has the qu controller running running there so it's",
    "start": "899720",
    "end": "905000"
  },
  {
    "text": "too much uh get into it yeah this is the qu controller itself is only 16",
    "start": "905000",
    "end": "912560"
  },
  {
    "text": "megabytes and the other components is look like server manager schedule so",
    "start": "912560",
    "end": "918199"
  },
  {
    "text": "right now you are running a bare bone control plane there's no notes",
    "start": "918199",
    "end": "924759"
  },
  {
    "text": "there's no parts so let me uh create some notes uh you can definitely use CU",
    "start": "924759",
    "end": "933680"
  },
  {
    "text": "control apply a notes back and again again to spin up but here uh we have",
    "start": "933680",
    "end": "942079"
  },
  {
    "text": "a good toet called C control to scale the no to 20 noes then once you run you",
    "start": "942079",
    "end": "949839"
  },
  {
    "text": "have 20 noes and how about the scheduling so I will start from small a",
    "start": "949839",
    "end": "957120"
  },
  {
    "text": "lat about try some crazy thing so suppose you have deployment and the",
    "start": "957120",
    "end": "962759"
  },
  {
    "text": "repast is 100 as I mentioned I have a full bone control plan so schedule can",
    "start": "962759",
    "end": "968800"
  },
  {
    "text": "schedule that and then the Quark will take over the rest of life cycle so I will give it looks",
    "start": "968800",
    "end": "976240"
  },
  {
    "text": "like so one all 100 Parts get schedule on this uh 20 fake news Al also one one",
    "start": "976720",
    "end": "985880"
  },
  {
    "text": "thing I forgot mention is that when you use qu control to create the things you will read some",
    "start": "985880",
    "end": "992160"
  },
  {
    "text": "pre uh config settings like here I just uh do some cation Vision on the QPS",
    "start": "992160",
    "end": "998720"
  },
  {
    "text": "because I want to push the uh status or push the limit of Schuler",
    "start": "998720",
    "end": "1004800"
  },
  {
    "text": "so and then there's no template here I just specify 32 CPUs and the schedule",
    "start": "1004800",
    "end": "1011680"
  },
  {
    "text": "also I tweak the QBs to 100 nothing else",
    "start": "1011680",
    "end": "1018079"
  },
  {
    "text": "so so yeah that's that's pretty much let me delete this",
    "start": "1018079",
    "end": "1024438"
  },
  {
    "text": "okay next share with you how unicor Community benefit from c yeah",
    "start": "1024439",
    "end": "1032600"
  },
  {
    "text": "um hopefully by far you understand you get a basic idea about",
    "start": "1032600",
    "end": "1038220"
  },
  {
    "text": "[Music] how why is so different than KARK and I",
    "start": "1038220",
    "end": "1043558"
  },
  {
    "text": "will be more talking about from a user perspective because um I'm from the unicorn Community what do we do is a",
    "start": "1043559",
    "end": "1051280"
  },
  {
    "text": "unicorn scheduler and that has a lot of to do with u performance testing or",
    "start": "1051280",
    "end": "1056640"
  },
  {
    "text": "scalability testing uh in case you don't know uh unicorn is a standard known",
    "start": "1056640",
    "end": "1062039"
  },
  {
    "text": "kubernetes scheduler that brings Mar tendency Readiness to kubernetes",
    "start": "1062039",
    "end": "1067559"
  },
  {
    "text": "clusters it's been widely used to schedule large scale data processing analytics and uh ml workloads uh right",
    "start": "1067559",
    "end": "1075520"
  },
  {
    "text": "now we we have been work operating really large large scale uh work cloes on unicorn ready um so it came with a",
    "start": "1075520",
    "end": "1083320"
  },
  {
    "text": "lot of scheduling capabilities such as um hierarchical cues resource fairness",
    "start": "1083320",
    "end": "1089679"
  },
  {
    "text": "um job ordering um job prion gun scheduling you may heard many of these",
    "start": "1089679",
    "end": "1094720"
  },
  {
    "text": "terms very um very well uh unicorn came with all those features um and also it",
    "start": "1094720",
    "end": "1101760"
  },
  {
    "text": "can be very easily integrated into kubernetes clusters also with different Cloud vendors um actually a lot of use",
    "start": "1101760",
    "end": "1108960"
  },
  {
    "text": "cases with unicorn is um work with um Cloud vendors uh clusters with",
    "start": "1108960",
    "end": "1114559"
  },
  {
    "text": "autoscaler even with Carpenter so why performance testing is so",
    "start": "1114559",
    "end": "1119960"
  },
  {
    "text": "important unicorn uh essentially unicorn is the scheduler so it it needs to work",
    "start": "1119960",
    "end": "1125080"
  },
  {
    "text": "with every part and node um and do the allocations from part to node and when",
    "start": "1125080",
    "end": "1131600"
  },
  {
    "text": "we operate on large scale uh when we deal with thousands of nodes or um",
    "start": "1131600",
    "end": "1137159"
  },
  {
    "text": "hundreds thousands of pods the surut really matters or not um and",
    "start": "1137159",
    "end": "1142600"
  },
  {
    "text": "we don't want to run into unknown zones before users so we want to stretch to that no we want to discover like how how",
    "start": "1142600",
    "end": "1150400"
  },
  {
    "text": "how many nodes we can scale how many parts we can scale before that really happens on the production and also the through I think",
    "start": "1150400",
    "end": "1157559"
  },
  {
    "text": "makes huge difference uh in terms of the cost efficiency and also the client side",
    "start": "1157559",
    "end": "1163480"
  },
  {
    "text": "latency just example that if we have 50,000 PS to be scheduled sh on the",
    "start": "1163480",
    "end": "1169000"
  },
  {
    "text": "cluster um just example you know 10 pods Ser versus 20 as a matter of the",
    "start": "1169000",
    "end": "1175679"
  },
  {
    "text": "difference for the customers users they'll be waiting for 40 minutes or 80 minutes for if you submit a job at the",
    "start": "1175679",
    "end": "1182320"
  },
  {
    "text": "end of the queue so that's a huge differ when we do um performance testing",
    "start": "1182320",
    "end": "1189360"
  },
  {
    "text": "in the past before Quirk um this is how we do it so there are a couple steps we build a cluster we run experiments we do",
    "start": "1189360",
    "end": "1197000"
  },
  {
    "text": "a bunch of iterations uh CL matric analysis the results then we go back to run more experiments because we want to",
    "start": "1197000",
    "end": "1204120"
  },
  {
    "text": "find out what is the bottom like in the inside of the code and uh so earlier",
    "start": "1204120",
    "end": "1209919"
  },
  {
    "text": "days so the only only tool we can use KARK it's a excellent tool so it",
    "start": "1209919",
    "end": "1215640"
  },
  {
    "text": "basically give us the opportunity to spin up thousands of no cluster um we",
    "start": "1215640",
    "end": "1221559"
  },
  {
    "text": "also develop a tool to do the LOE simulation and also some tools to cloud",
    "start": "1221559",
    "end": "1227400"
  },
  {
    "text": "matric and the draw charts so that's kind of what happened in the past few",
    "start": "1227400",
    "end": "1232600"
  },
  {
    "text": "years we've been running this for um three four times but why why only three",
    "start": "1232600",
    "end": "1238640"
  },
  {
    "text": "or four times because it's very expensive um cool Mark based Solutions is expensive in terms of both dollar",
    "start": "1238640",
    "end": "1247000"
  },
  {
    "text": "cost and also the engineering cost uh every time we run um such large scale",
    "start": "1247000",
    "end": "1253480"
  },
  {
    "text": "testing we need around 20 physics servers and in order to simulate like uh",
    "start": "1253480",
    "end": "1259559"
  },
  {
    "text": "10,000 nodes and 100 hundreds of thousand part skill that is very",
    "start": "1259559",
    "end": "1265400"
  },
  {
    "text": "difficult to set up and uh and sometimes we need even need to twe you know each of the server configs to for example uh",
    "start": "1265400",
    "end": "1272440"
  },
  {
    "text": "reduce the to uh increase the limit of uh processes or file descriptors lot of",
    "start": "1272440",
    "end": "1278960"
  },
  {
    "text": "things to to work on and every time the overall turn over time is about a month",
    "start": "1278960",
    "end": "1285120"
  },
  {
    "text": "and dedicate engineer work on a months to get offs get ourselves ready for the performance and it's also extremely",
    "start": "1285120",
    "end": "1292200"
  },
  {
    "text": "difficult to automate um but actually it it it it shouldn't be",
    "start": "1292200",
    "end": "1297960"
  },
  {
    "text": "that hard uh because in the schedule performance we what we really cares about is the uh the steps in the right",
    "start": "1297960",
    "end": "1305440"
  },
  {
    "text": "box from the P creation to the Pod allocation and that is where the heavy",
    "start": "1305440",
    "end": "1310720"
  },
  {
    "text": "lifting happening the inside of schedule basically doing the calculation about the scheduling uh we don't we we we",
    "start": "1310720",
    "end": "1317640"
  },
  {
    "text": "don't concern that much about The Binding phase and what we really need is the real control plane but really",
    "start": "1317640",
    "end": "1324720"
  },
  {
    "text": "lightweighted kuet to to to scale that that's why cork is changing",
    "start": "1324720",
    "end": "1330880"
  },
  {
    "text": "everything for us uh so in the past like just mentioned we set up um uh 20 servers to just for the for the",
    "start": "1330880",
    "end": "1338799"
  },
  {
    "text": "performance testing but now we can do that in one note even in one",
    "start": "1338799",
    "end": "1344320"
  },
  {
    "text": "laptop um C Core can give us just like demoe so you can easily bring up a",
    "start": "1344320",
    "end": "1350480"
  },
  {
    "text": "cluster at thousands of notes to that cluster on your locom ma which is",
    "start": "1350480",
    "end": "1356200"
  },
  {
    "text": "amazing uh and uh to use cork there are basically two approaches uh I've been using both uh I think they both have",
    "start": "1356200",
    "end": "1363240"
  },
  {
    "text": "different use cases one is use quk manage cluster um quk comes with a quk",
    "start": "1363240",
    "end": "1369559"
  },
  {
    "text": "cql which gives you helps users to bring up the cluster very very quickly and",
    "start": "1369559",
    "end": "1376080"
  },
  {
    "text": "what it does is basically bring up the control plan components um and it gives you the runtime uh options um what way",
    "start": "1376080",
    "end": "1384400"
  },
  {
    "text": "just demo is using the bannery but also you can use the container runtime use darker or pman and also you can use kind",
    "start": "1384400",
    "end": "1393679"
  },
  {
    "text": "um after you have the control plane you can use cor command or spec to create a",
    "start": "1393679",
    "end": "1399279"
  },
  {
    "text": "noes any number of nodes any type of noes you want another way to carry out your test",
    "start": "1399279",
    "end": "1406159"
  },
  {
    "text": "is to bring your own cluster work which is um uh sometimes more useful for us",
    "start": "1406159",
    "end": "1412039"
  },
  {
    "text": "because we want to really test some real control plane then we need a real kubernets cluster with some of the real",
    "start": "1412039",
    "end": "1419120"
  },
  {
    "text": "kubernets nodes um one of the limitation in the previous mode with a banner rate is that uh you don't have a even single",
    "start": "1419120",
    "end": "1426360"
  },
  {
    "text": "one real kuet node but in this case you can actually have a bunch of them um the",
    "start": "1426360",
    "end": "1432360"
  },
  {
    "text": "choice for the cluster you can do that locally if you want you can use kind",
    "start": "1432360",
    "end": "1438320"
  },
  {
    "text": "mini Cube or even desktop if it doesn't matter if one single kubernetes is working for you and also you can use a",
    "start": "1438320",
    "end": "1445480"
  },
  {
    "text": "remote cluster uh you can basically connect to any any of the uh clusters",
    "start": "1445480",
    "end": "1450960"
  },
  {
    "text": "provided by Cloud vendors or even on Prime after that similarly that cord can",
    "start": "1450960",
    "end": "1456400"
  },
  {
    "text": "simulate any number of nodes um also those nodes are coming with ttin so you need to make sure your your application",
    "start": "1456400",
    "end": "1463919"
  },
  {
    "text": "or where workloads are running with the tolerations and know the thing to make sure that they can run on those fake",
    "start": "1463919",
    "end": "1471960"
  },
  {
    "text": "nodes so then the environment setup becomes really easy s about the equip",
    "start": "1471960",
    "end": "1477039"
  },
  {
    "text": "that is uh even uh either use the cork managed or bring your own then install",
    "start": "1477039",
    "end": "1482640"
  },
  {
    "text": "cork create notes uh then install your appstack by saying appstack I for",
    "start": "1482640",
    "end": "1489279"
  },
  {
    "text": "example um for unicorn we do install how install unicorn then promises graph so",
    "start": "1489279",
    "end": "1495520"
  },
  {
    "text": "we can gather all the Matrix we needed then just start uh exploring so there",
    "start": "1495520",
    "end": "1501080"
  },
  {
    "text": "are a bunch of tips um so you you possibly you want to increase the QPS for control plane in order to uh really",
    "start": "1501080",
    "end": "1508600"
  },
  {
    "text": "push the push the cluster to the limit uh also uh in some cases you may want to",
    "start": "1508600",
    "end": "1514919"
  },
  {
    "text": "tweak the notes back to to the uh different you know tabs where you want",
    "start": "1514919",
    "end": "1520480"
  },
  {
    "text": "to cover your test scal then we do like uh collecting The",
    "start": "1520480",
    "end": "1526080"
  },
  {
    "text": "Matrix from the dashboard uh this is the query we use uh to directly gather The",
    "start": "1526080",
    "end": "1531520"
  },
  {
    "text": "Binding rate and also the um binding part Counts from from pruse right now",
    "start": "1531520",
    "end": "1538279"
  },
  {
    "text": "there's a jira in uh unicorn Community is doing the uh we're actually actively",
    "start": "1538279",
    "end": "1544720"
  },
  {
    "text": "working on replacing our tkit performance testing two Kit with Quirk and uh we are even thinking about uh",
    "start": "1544720",
    "end": "1551279"
  },
  {
    "text": "building a um pipeline City pipeline so we can do the performance testing over",
    "start": "1551279",
    "end": "1556919"
  },
  {
    "text": "and over again to avoid performance regressions um cork is is a is a perfect",
    "start": "1556919",
    "end": "1564919"
  },
  {
    "text": "suit for unicorn use cases but I believe it can suitable for many other use cases",
    "start": "1564919",
    "end": "1570120"
  },
  {
    "text": "if are doing development um on kubernetes um either it's a controller or application you can use it for local",
    "start": "1570120",
    "end": "1578000"
  },
  {
    "text": "testing and because this is so easy to bring up a cluster to deleted cluster",
    "start": "1578000",
    "end": "1583120"
  },
  {
    "text": "you can do your local testing very easily and also of course performance testing evaluation I think I believe",
    "start": "1583120",
    "end": "1590000"
  },
  {
    "text": "this is most of people will do with Cork and because so so efficient um",
    "start": "1590000",
    "end": "1596360"
  },
  {
    "text": "really we can do a lot of things in one single machine another part uh we don't talk",
    "start": "1596360",
    "end": "1601440"
  },
  {
    "text": "too much on this talk but um I think core comes with uh some chaos",
    "start": "1601440",
    "end": "1606760"
  },
  {
    "text": "engineering capabilities where you can random inject fur to P noes then um that",
    "start": "1606760",
    "end": "1613520"
  },
  {
    "text": "I mean that is very very good for maybe 90% use cases is for some of the um",
    "start": "1613520",
    "end": "1619880"
  },
  {
    "text": "common fur and then the CSD pipeline because uh",
    "start": "1619880",
    "end": "1625840"
  },
  {
    "text": "we no longer need a side of nodes 20 noes or more to set up an environment so",
    "start": "1625840",
    "end": "1631000"
  },
  {
    "text": "now we have the chance to build into this uh into the csad pipeline um with",
    "start": "1631000",
    "end": "1636240"
  },
  {
    "text": "the GitHub action you can trigger this uh per PR or lightly run um so this can",
    "start": "1636240",
    "end": "1642399"
  },
  {
    "text": "helps a lot to avoid the performance regression also if you build your your test case is early you can do that some",
    "start": "1642399",
    "end": "1649200"
  },
  {
    "text": "of the functional test too so I'm going to get back to wait for",
    "start": "1649200",
    "end": "1655399"
  },
  {
    "text": "the demo to I actually have two demos yeah test test test okay next",
    "start": "1655399",
    "end": "1665039"
  },
  {
    "text": "we're going to do some Crea things so I just show you I create a 20 no cruster",
    "start": "1665039",
    "end": "1671880"
  },
  {
    "text": "and with 100 100 P that is just a toy right let's do some serious things",
    "start": "1671880",
    "end": "1678440"
  },
  {
    "text": "so you name it how many NS you want to scale up to name",
    "start": "1678440",
    "end": "1684919"
  },
  {
    "text": "it 40,000 no that is beyond the limit of I",
    "start": "1684919",
    "end": "1691080"
  },
  {
    "text": "don't know if my laptop has support so basically under 5,000 I can I can give a",
    "start": "1691080",
    "end": "1696360"
  },
  {
    "text": "try 5,000 okay so you will you will need sometime",
    "start": "1696360",
    "end": "1702039"
  },
  {
    "text": "is because this operation is nothing but issue the Cube control create node but",
    "start": "1702039",
    "end": "1709399"
  },
  {
    "text": "it has some optimization because default Cube control has default QPS limitation",
    "start": "1709399",
    "end": "1715000"
  },
  {
    "text": "and also Cube control doesn't have the list pager so it basically uh oh sorry",
    "start": "1715000",
    "end": "1721000"
  },
  {
    "text": "this one is not so I will show you later yeah we'll wait for a while for I",
    "start": "1721000",
    "end": "1726399"
  },
  {
    "text": "think it rate is like uh 5,000 now maybe",
    "start": "1726399",
    "end": "1732559"
  },
  {
    "text": "needs 50 seconds to finish and also as the same time I can show you the",
    "start": "1732559",
    "end": "1740480"
  },
  {
    "text": "footprint of memory so this is the default",
    "start": "1740480",
    "end": "1745840"
  },
  {
    "text": "1.27 uh arm 64 Banner of APs server contr manager so you can see it's a",
    "start": "1745840",
    "end": "1752480"
  },
  {
    "text": "little already impressing okay Finish",
    "start": "1752480",
    "end": "1757720"
  },
  {
    "text": "good then are there",
    "start": "1757720",
    "end": "1762640"
  },
  {
    "text": "running nice 5000 notes on my laptop so",
    "start": "1765320",
    "end": "1771440"
  },
  {
    "text": "next let's do another crazy thing how many P you want to test with",
    "start": "1771440",
    "end": "1777320"
  },
  {
    "text": "limit 10K 20K the limit maybe we can store with 20K",
    "start": "1777320",
    "end": "1785000"
  },
  {
    "text": "pass proper play and I have a inhouse program to",
    "start": "1785000",
    "end": "1792120"
  },
  {
    "text": "measure the ther so that is also a tip when you want to test against your components",
    "start": "1792120",
    "end": "1797840"
  },
  {
    "text": "you can definitely use metric but for some specific case you may need to more",
    "start": "1797840",
    "end": "1803760"
  },
  {
    "text": "fine green uh metric collecting logic you want to customize so this is the I",
    "start": "1803760",
    "end": "1809039"
  },
  {
    "text": "can open source this is just pretty easy I specify how many I",
    "start": "1809039",
    "end": "1816120"
  },
  {
    "text": "forgot 20,000 right for this program it's",
    "start": "1816120",
    "end": "1821399"
  },
  {
    "text": "just watch the schedule PA and then for every second is output the",
    "start": "1821399",
    "end": "1828159"
  },
  {
    "text": "yeah let's get it 20,000 pass on a 5,000",
    "start": "1828159",
    "end": "1837799"
  },
  {
    "text": "NS yeah starting and same time let's take it you can see my CPU usage is",
    "start": "1837799",
    "end": "1845880"
  },
  {
    "text": "spiking right and by the memory footprint you can see API server also at",
    "start": "1845880",
    "end": "1851279"
  },
  {
    "text": "time goes ISO spin up and let's take a like qu only 200 megabytes in this case I",
    "start": "1851279",
    "end": "1862039"
  },
  {
    "text": "would expect if there's some kind of",
    "start": "1862039",
    "end": "1866278"
  },
  {
    "text": "cross that is what I mentioned it's optimized by design that is like streaming processing so that's not allow",
    "start": "1868320",
    "end": "1875519"
  },
  {
    "text": "the object stay in memory for the quad",
    "start": "1875519",
    "end": "1879440"
  },
  {
    "text": "controller yeah it server it's okay yeah it's almost",
    "start": "1886000",
    "end": "1892240"
  },
  {
    "text": "finished I think also you are if you don't care",
    "start": "1892240",
    "end": "1898159"
  },
  {
    "text": "about that kind of fine grain accuracy of your therap you can also use the",
    "start": "1898159",
    "end": "1903399"
  },
  {
    "text": "default Matrix here because I me up uh Prometheus locally and you can use",
    "start": "1903399",
    "end": "1911399"
  },
  {
    "text": "this uh check this is the aps server check is about resource and about the",
    "start": "1911399",
    "end": "1917240"
  },
  {
    "text": "bonding operation AB banding St resource and the world poos that is what default schedule opposed to APS so yeah because",
    "start": "1917240",
    "end": "1926519"
  },
  {
    "text": "it's a binding rate that is the thing that other simulators cannot do because",
    "start": "1926519",
    "end": "1931679"
  },
  {
    "text": "it doesn't simulate the rest part of the the life cycle of the PA is just the in schedule",
    "start": "1931679",
    "end": "1938880"
  },
  {
    "text": "phase all right that's pretty much but maybe one more thing is that what if you",
    "start": "1938880",
    "end": "1945080"
  },
  {
    "text": "want dump the current state of the cluster core control so helps you to do",
    "start": "1945080",
    "end": "1951799"
  },
  {
    "text": "that just in one single command uh yeah that's snapshot I",
    "start": "1951799",
    "end": "1958039"
  },
  {
    "text": "think snapshot export specify the local cluster name a filter is filter note and",
    "start": "1958039",
    "end": "1965000"
  },
  {
    "text": "part because right now scheding only K about that and uh yeah locally let me",
    "start": "1965000",
    "end": "1970200"
  },
  {
    "text": "see how soon it can be generated so basically they will have at",
    "start": "1970200",
    "end": "1976320"
  },
  {
    "text": "Le oh super quick so basically you have 5,000 noes and another 20K part in total",
    "start": "1976320",
    "end": "1986760"
  },
  {
    "text": "25,000 this is in a non compressed format it's just nothing but",
    "start": "1986760",
    "end": "1993720"
  },
  {
    "text": "node and part objects here see node and then",
    "start": "1993720",
    "end": "2000320"
  },
  {
    "text": "kind P so yeah that's it so basically",
    "start": "2000320",
    "end": "2005559"
  },
  {
    "text": "this can be useful if you want shut down your local customer and want to uh replay some some else some someplace",
    "start": "2005559",
    "end": "2012120"
  },
  {
    "text": "else so that's pretty much the demo yeah hopeing you enjoy",
    "start": "2012120",
    "end": "2018600"
  },
  {
    "text": "it if you have any questions there's a mic there another page so uh where do I go next so this is",
    "start": "2021080",
    "end": "2029159"
  },
  {
    "text": "the official website of the PK it's still a pretty young project just I think in one year and you can ask any",
    "start": "2029159",
    "end": "2036279"
  },
  {
    "text": "questions in the select Channel and also there's two ccon talks related with how you do simulation uh using or not using",
    "start": "2036279",
    "end": "2044080"
  },
  {
    "text": "qu and the second talk is I think there's a good point to say okay uh",
    "start": "2044080",
    "end": "2049480"
  },
  {
    "text": "maybe we need some kind of Tracer snapshot instead of just one single point you you want to snapshot along a t",
    "start": "2049480",
    "end": "2057320"
  },
  {
    "text": "windows so you can catch up you can catch all the events that having in window so yeah that's all my talk all",
    "start": "2057320",
    "end": "2065599"
  },
  {
    "text": "our talk today and thank thank you and if you want to give some feedback yeah feel free to scan the QR code and we",
    "start": "2065599",
    "end": "2071760"
  },
  {
    "text": "have a couple minutes to take",
    "start": "2071760",
    "end": "2076079"
  },
  {
    "text": "questions um cool thanks for your talk this is really interesting add two questions um does qua have any sort of",
    "start": "2078200",
    "end": "2087158"
  },
  {
    "text": "uh API endpoints like if you wanted to interact with it programmatically instead of through the command line uh",
    "start": "2087159",
    "end": "2094599"
  },
  {
    "text": "no all the API is kubernetes AP I see okay yeah so you'll create whatever",
    "start": "2094599",
    "end": "2099800"
  },
  {
    "text": "you're doing against the real cluster you can do in against the the yeah cor um and then does qua",
    "start": "2099800",
    "end": "2106640"
  },
  {
    "text": "expose uh Prometheus metrics for any of the nodes or pods that are running on it",
    "start": "2106640",
    "end": "2112119"
  },
  {
    "text": "uh there's some ongoing work on simulat the metrix that happening on the Node so",
    "start": "2112119",
    "end": "2118520"
  },
  {
    "text": "uh there's some details out there so you can check the website I I think there is some yeah some some working items on",
    "start": "2118520",
    "end": "2126000"
  },
  {
    "text": "going okay perfect thank you so much I don't know if this is viable or",
    "start": "2126000",
    "end": "2131920"
  },
  {
    "text": "possible but is there a way of running a service and simulating just a almost",
    "start": "2131920",
    "end": "2137079"
  },
  {
    "text": "like a hello world text on a page can you is there something like that can you do with with this to kind of simulate",
    "start": "2137079",
    "end": "2144040"
  },
  {
    "text": "bringing up a lot of web services at a very basic level does does that make sense if it involves concrete wrong time",
    "start": "2144040",
    "end": "2151280"
  },
  {
    "text": "logic like you said some that needs computer resource that is not in the scope of kind of testing but you can",
    "start": "2151280",
    "end": "2158079"
  },
  {
    "text": "bring up the services can't you you can have the services and they could point to the pods they just wouldn't necessarily do anything",
    "start": "2158079",
    "end": "2165160"
  },
  {
    "text": "there items in the community to ensure the service is",
    "start": "2165160",
    "end": "2170680"
  },
  {
    "text": "reachable yeah but not runable to yeah that so if you have a pipeline to test",
    "start": "2170680",
    "end": "2178480"
  },
  {
    "text": "the connectivity of the service actually call can help you do that but for wrong time behav anything else yeah yeah yeah",
    "start": "2178480",
    "end": "2184160"
  },
  {
    "text": "excellent thanks a lot thanks okay I me we are out of time maybe yeah we can",
    "start": "2184160",
    "end": "2189599"
  },
  {
    "text": "take maybe one more question and then I will just aside to answer question have",
    "start": "2189599",
    "end": "2195160"
  },
  {
    "text": "uh have you thought about supporting other types of workloads like virtu machines with",
    "start": "2195160",
    "end": "2201119"
  },
  {
    "text": "cubert uh sorry could you kind of repeat so like you like you showed pods where",
    "start": "2201119",
    "end": "2206560"
  },
  {
    "text": "the main runtime you use have you thought about supporting virtual machines like like using cver and and",
    "start": "2206560",
    "end": "2212880"
  },
  {
    "text": "actually supporting that as a potential work test scaling virtual machine",
    "start": "2212880",
    "end": "2218119"
  },
  {
    "text": "Mach so I don't know what kind of layer you",
    "start": "2218119",
    "end": "2224400"
  },
  {
    "text": "mean by supporting virtual machines sure so like with cubert the virtual machine",
    "start": "2224400",
    "end": "2229720"
  },
  {
    "text": "actually runs inside the Pod like it's just a process okay so so technically",
    "start": "2229720",
    "end": "2235359"
  },
  {
    "text": "like I mean CU has its own control plane that runs inside kubernetes so I guess the idea like kind of what I'm saying is",
    "start": "2235359",
    "end": "2242160"
  },
  {
    "text": "think about it as um instead of a pod like you're you're you're sending around gaml everywhere test the control plan it",
    "start": "2242160",
    "end": "2248359"
  },
  {
    "text": "would be just testing the virtu if you want if you want to test a",
    "start": "2248359",
    "end": "2253680"
  },
  {
    "text": "controller perfect it yeah yeah so I guess another way to ask it is like you can technically support any crd or API",
    "start": "2253680",
    "end": "2259760"
  },
  {
    "text": "extension to move through the API server to test skillability okay that's a that's a very perfect fit for this comp",
    "start": "2259760",
    "end": "2268079"
  },
  {
    "text": "okay uh I will be outside to ask questions thank you [Applause]",
    "start": "2268079",
    "end": "2275359"
  },
  {
    "text": "everyone",
    "start": "2275359",
    "end": "2278359"
  }
]