[
  {
    "start": "0",
    "end": "62000"
  },
  {
    "text": "hello um this is well this is it's the notary v2 working session",
    "start": "160",
    "end": "5279"
  },
  {
    "text": "unfortunately due to the um difficulties of recording and live everything we've had to do the",
    "start": "5279",
    "end": "11120"
  },
  {
    "text": "work for you um but we'll be doing some sessions shortly anyway so um do come along but this is a",
    "start": "11120",
    "end": "17680"
  },
  {
    "text": "summary of the work in progress for natural ev2 um i'm justin cormack i'm an engineer at",
    "start": "17680",
    "end": "23600"
  },
  {
    "text": "docker maintainer of notary and i'm on the cncftc and i work with sig security and i've got a real",
    "start": "23600",
    "end": "30080"
  },
  {
    "text": "interest in um security and cloud native hi i'm steve laskar i'm a pm architect",
    "start": "30080",
    "end": "36880"
  },
  {
    "text": "on azure container registry uh i work on things like you know tob for oci",
    "start": "36880",
    "end": "42160"
  },
  {
    "text": "and registry work like oci artifacts and auras uh and one of the things i really enjoy is just the whole end and workflows from",
    "start": "42160",
    "end": "49120"
  },
  {
    "text": "registries for dev to deployment where registries play a key part of that so we've been engaged in this notary v2",
    "start": "49120",
    "end": "56320"
  },
  {
    "text": "thing for a while and we're excited to share our progress",
    "start": "56320",
    "end": "60960"
  },
  {
    "start": "62000",
    "end": "62000"
  },
  {
    "text": "so what is notre v2 about um though if you missed if you really want it from the beginning we had an intro",
    "start": "62640",
    "end": "68720"
  },
  {
    "text": "session um but you could which you can all say what shall attend um but the key things that we're looking",
    "start": "68720",
    "end": "75920"
  },
  {
    "text": "for in notary v2 um that we're kind of missing from the existing nursery v1 version",
    "start": "75920",
    "end": "83119"
  },
  {
    "text": "first of all registry native what we really mean by that was that notary v1 was actually implemented as a",
    "start": "83119",
    "end": "91200"
  },
  {
    "text": "database that you and application that you run on the side of a registry um but that's because there's all sorts",
    "start": "91200",
    "end": "98240"
  },
  {
    "text": "of issues it turned out over the five years or so we've been running it because it's not a native part of the registry",
    "start": "98240",
    "end": "105600"
  },
  {
    "text": "and it doesn't um it's not part of the registry protocols and signatures and artifacts are not",
    "start": "105600",
    "end": "111520"
  },
  {
    "text": "actually registry objects and that makes a lot of things more difficult so we really want everything to be natively part of",
    "start": "111520",
    "end": "117439"
  },
  {
    "text": "the registry um security there's a bunch of security",
    "start": "117439",
    "end": "122799"
  },
  {
    "text": "things that were not ideal with v1 trust on first use was one that was particularly problematic um",
    "start": "122799",
    "end": "131039"
  },
  {
    "text": "for ephemeral ephemeral servers trusting things the first time they call them well the first time is the only time and so",
    "start": "131039",
    "end": "138160"
  },
  {
    "text": "it doesn't really give you much guarantees um but there's other other security guarantees we want to add as well",
    "start": "138160",
    "end": "145520"
  },
  {
    "text": "portability we want as part of being registered native we want every registry to support notary and we want to be able",
    "start": "145520",
    "end": "151200"
  },
  {
    "text": "to move artifacts around which was not a design criteria at all for notary v1 because at the time",
    "start": "151200",
    "end": "157200"
  },
  {
    "text": "there weren't a lot of registries and there wasn't really that kind of registry multi-registry workflow that was we've",
    "start": "157200",
    "end": "162640"
  },
  {
    "text": "seen in the last five years building up um this is kind of multi-tenant project for",
    "start": "162640",
    "end": "169360"
  },
  {
    "text": "lots of people run very large registries for lots of users some people run private registers themselves but they're",
    "start": "169360",
    "end": "175440"
  },
  {
    "text": "that they're often multi-tenant use cases there's lots of offline use cases that",
    "start": "175440",
    "end": "180879"
  },
  {
    "text": "again weren't really an issue with v1 it kind of can be kind of persuaded to for to work with",
    "start": "180879",
    "end": "188560"
  },
  {
    "text": "them but it wasn't really a use case that was thought of at the time and usability you can't move them then",
    "start": "188560",
    "end": "193840"
  },
  {
    "text": "it kind of works in the offline scenario with your gap because you can't move them anyway yeah that's as well um",
    "start": "193840",
    "end": "201760"
  },
  {
    "text": "and then usability we really want um it to be much easier to use so that everyone can use it",
    "start": "202000",
    "end": "208640"
  },
  {
    "text": "so naturally v1 didn't meet all these requirements but that's what we want to do with v2",
    "start": "208640",
    "end": "213840"
  },
  {
    "text": "and the usability is a big deal right i mean if something is super secure but you can't use it then people won't",
    "start": "213840",
    "end": "220239"
  },
  {
    "text": "yeah it doesn't matter it's super secure yeah absolutely and we've got to balance that usability and",
    "start": "220239",
    "end": "225519"
  },
  {
    "text": "security aspect yeah and v1 has now got the usage that we'd like and that's one of the issues and i think a lot of",
    "start": "225519",
    "end": "232879"
  },
  {
    "text": "that's about usability um so there's a bunch of requirements so",
    "start": "232879",
    "end": "240720"
  },
  {
    "start": "236000",
    "end": "236000"
  },
  {
    "text": "we've spent a lot of time working on requirements this is just a very short summary of them really um there's",
    "start": "240720",
    "end": "246720"
  },
  {
    "text": "lots more in the um in the repo um so um",
    "start": "246720",
    "end": "253680"
  },
  {
    "text": "what some of the things that you know we want is support for um offline signatures we want support",
    "start": "253680",
    "end": "261519"
  },
  {
    "text": "for um multiple signatures people want their keys to be secured um",
    "start": "261519",
    "end": "268240"
  },
  {
    "text": "in external places like cloud providers key vaults notre v1 has ub key support but not it wasn't",
    "start": "268240",
    "end": "274560"
  },
  {
    "text": "designed for widespread use of external key storage",
    "start": "274560",
    "end": "281120"
  },
  {
    "text": "and it should work you know whatever kind of user you are whether you're a hobbyist or an open source project or a",
    "start": "281120",
    "end": "287600"
  },
  {
    "text": "large vendor or anything so different you know different kind of keys are suitable for those",
    "start": "287600",
    "end": "293120"
  },
  {
    "text": "kind of use cases um and then the ephemeral thing we talked about a little bit before but that's something that's",
    "start": "293120",
    "end": "299120"
  },
  {
    "text": "very important because that's the kind of the essence of cloud native yeah it's kind of like a little fancy",
    "start": "299120",
    "end": "304800"
  },
  {
    "text": "word i mean like by ephemeral clients we just spin them up and down all the",
    "start": "304800",
    "end": "310000"
  },
  {
    "text": "time it's like that's what we do in cloud native it's like things are not long-lived and that's it",
    "start": "310000",
    "end": "315440"
  },
  {
    "text": "but it does affect the security i mean just from cloud vendors that we want you'd be",
    "start": "315440",
    "end": "321120"
  },
  {
    "text": "able to spin up containers super fast and the idea is we have compute that's sitting there waiting for all customers",
    "start": "321120",
    "end": "327199"
  },
  {
    "text": "and when we hand it to you you know like justin gets an instance to run his container there's nothing on it",
    "start": "327199",
    "end": "332639"
  },
  {
    "text": "yet so he's got no previous state on it and that's what we kind of mean by the ephemeral clients is you get a something given to you you use",
    "start": "332639",
    "end": "340800"
  },
  {
    "text": "it you toss it um and there's no state restored from a previous point but you want to make sure that it's secure",
    "start": "340800",
    "end": "346960"
  },
  {
    "text": "yeah but the security model has to account for this those kinds of things",
    "start": "346960",
    "end": "352800"
  },
  {
    "text": "so we were trying to put together a workflow that we would be able to communicate and we'll spend a couple of",
    "start": "352800",
    "end": "357919"
  },
  {
    "start": "353000",
    "end": "353000"
  },
  {
    "text": "uh slides here just talking about the communication model because when you have so many people working on",
    "start": "357919",
    "end": "363120"
  },
  {
    "text": "something that has been the the core effort so we have this example",
    "start": "363120",
    "end": "368319"
  },
  {
    "text": "we have the wabit networks and company and they're putting together a network monitor software they build it off on their own",
    "start": "368319",
    "end": "375759"
  },
  {
    "text": "um they've got their own build environment doesn't really matter whether it's in a cloud or not point is they have a build environment",
    "start": "375759",
    "end": "382400"
  },
  {
    "text": "they're generating an image their network monitor software they have a bill of materials that says what's in it",
    "start": "382400",
    "end": "389039"
  },
  {
    "text": "they might even have some source for some open source projects for gpl licensing requirements and so forth and they'll",
    "start": "389039",
    "end": "395199"
  },
  {
    "text": "bundle all that well the bundle separately the separate oci artifacts you could submit to a registry",
    "start": "395199",
    "end": "400240"
  },
  {
    "text": "and you can put an oci index on it to say i want these things to be as one this is the kind of model that",
    "start": "400240",
    "end": "406240"
  },
  {
    "text": "people are looking to now at the moment lots of people are just pushing images but um the whole bill of materials and and all",
    "start": "406240",
    "end": "412960"
  },
  {
    "text": "the other requirements have have been quite important for the situations we've been discussing",
    "start": "412960",
    "end": "419360"
  },
  {
    "text": "so when they put these things together like a bill of materials and all these things are only if as good if you can trust them so",
    "start": "419360",
    "end": "426400"
  },
  {
    "text": "we want to make sure that the wabit networks can sign it with their key so they now have their software all",
    "start": "426400",
    "end": "433120"
  },
  {
    "text": "those individual artifacts are signed and the index is signed and then for discoverability they want",
    "start": "433120",
    "end": "438560"
  },
  {
    "text": "to be able to push it to a well-known location like docker hub now as soon as you push it to docker hub",
    "start": "438560",
    "end": "445199"
  },
  {
    "text": "we want to make sure those keys can go with it this is the transportability thing that we were talking about",
    "start": "445199",
    "end": "450479"
  },
  {
    "text": "so now wabbit networks has got some content up on docker hub but they're kind of in the community space we don't really know if they're",
    "start": "450479",
    "end": "457199"
  },
  {
    "text": "good or bad or evil or just some random person they have a key okay but don't really",
    "start": "457199",
    "end": "463280"
  },
  {
    "text": "know about them so what we want to be able to do is support scenarios where we could add",
    "start": "463280",
    "end": "468879"
  },
  {
    "text": "another key for some trust so docker hub might want to say i want certified content",
    "start": "468879",
    "end": "474560"
  },
  {
    "text": "and you can do that more than just a badge on the the page we could actually have it",
    "start": "474560",
    "end": "480080"
  },
  {
    "text": "signed by docker io and saying all right this now has a secondary key so if a company like acme rockets over",
    "start": "480080",
    "end": "487680"
  },
  {
    "text": "here has a policy that you could only bring content certified content from docker",
    "start": "487680",
    "end": "493120"
  },
  {
    "text": "hub then they can now pull that and they might be blocked by pulling it when wabbit networks wasn't certified as",
    "start": "493120",
    "end": "500160"
  },
  {
    "text": "they get to you know know and trust wabbit networks and other software they might trust those keys as well so",
    "start": "500160",
    "end": "506560"
  },
  {
    "text": "those are the kind of things we're thinking about but now as with any best practice i want",
    "start": "506560",
    "end": "511599"
  },
  {
    "text": "to bring that network monitor software into the acme rockets environment",
    "start": "511599",
    "end": "517039"
  },
  {
    "text": "because we don't want to you know deploy production stuff from public points of interest",
    "start": "517039",
    "end": "522719"
  },
  {
    "text": "it's not just a matter of whether you know docker hub is up or the dns is still working",
    "start": "522719",
    "end": "528399"
  },
  {
    "text": "or any of that even in the best case scenarios if wabit networks is publishing a security fix which is",
    "start": "528399",
    "end": "534560"
  },
  {
    "text": "still from them that doesn't necessarily mean it's going to work in my environment they might have done something around doing",
    "start": "534560",
    "end": "540800"
  },
  {
    "text": "security patching that affects how the software would run in my environment it might fail",
    "start": "540800",
    "end": "546560"
  },
  {
    "text": "so we always want to have a certification process for any content we depend on and i might so in that case i would",
    "start": "546560",
    "end": "553920"
  },
  {
    "text": "actually have an acme rockets key or a signature assigned to that",
    "start": "553920",
    "end": "559279"
  },
  {
    "text": "content so now i know that i only trust stuff from docker hub or wabit networks but i'm only going to deploy stuff that",
    "start": "559279",
    "end": "566800"
  },
  {
    "text": "has been verified and proven verified by an acme rockets key i might have a deploy artifact that i'm",
    "start": "566800",
    "end": "573920"
  },
  {
    "text": "also signing keep track of what i'm deploying and then you would have something like a",
    "start": "573920",
    "end": "579200"
  },
  {
    "text": "policy management infrastructure like open policy agent and the idea here is that we have",
    "start": "579200",
    "end": "584880"
  },
  {
    "text": "signatures that attest to what it is but we're not stating anything about policy we're not stating it has to be",
    "start": "584880",
    "end": "591120"
  },
  {
    "text": "signed by three entities or anything um what we're saying is that's more of the policy management software's",
    "start": "591120",
    "end": "597279"
  },
  {
    "text": "responsibility and it can take that content and say all right it's signed with the acme rockets key so",
    "start": "597279",
    "end": "604480"
  },
  {
    "text": "and it comes from the acme rockets registry so i can actually deploy it in my environment",
    "start": "604480",
    "end": "610320"
  },
  {
    "text": "so that's kind of gives a sense of the workflow we also can support air gapped environments that's also a core",
    "start": "610320",
    "end": "616640"
  },
  {
    "text": "requirement so all this validation and and so forth can happen there and air gap is kind of interesting",
    "start": "616640",
    "end": "623120"
  },
  {
    "text": "because we used to think of air gap requirements as being you know the the submarine scenario or",
    "start": "623120",
    "end": "628399"
  },
  {
    "text": "the oil platform but what we're seeing more and more is customers that have been on prom",
    "start": "628399",
    "end": "633519"
  },
  {
    "text": "on-prem and reluctant maybe to go to the cloud because they always have their private and ip environment that we can provide that",
    "start": "633519",
    "end": "639760"
  },
  {
    "text": "in the cloud they still get a private network um so they have more trust around it and there literally is not no public",
    "start": "639760",
    "end": "645680"
  },
  {
    "text": "endpoints on inside of those environments or the public endpoints are very tightly controlled",
    "start": "645680",
    "end": "652399"
  },
  {
    "start": "652000",
    "end": "652000"
  },
  {
    "text": "so prototyping things is the interesting one so there's",
    "start": "653200",
    "end": "658320"
  },
  {
    "text": "as with any of these complex systems we're trying to figure out how do we communicate amongst ourselves because we want to",
    "start": "658320",
    "end": "663920"
  },
  {
    "text": "enlist experts there's no one person that actually understands all these pieces together so how do we establish this model for",
    "start": "663920",
    "end": "670320"
  },
  {
    "text": "communication to bring people in and we're trying to we're trying to understand people's requirements and",
    "start": "670320",
    "end": "675440"
  },
  {
    "text": "and because it's it turns out that these things are not clear we're not totally clear and at all",
    "start": "675440",
    "end": "683839"
  },
  {
    "text": "so if i said we as everybody watching this we want to build a house together what does that mean to you like",
    "start": "683839",
    "end": "690959"
  },
  {
    "text": "clearly that's not the extent of the house and i guess it's close to an a-frame but you know if everybody's trying to",
    "start": "690959",
    "end": "696160"
  },
  {
    "text": "picture that house that we're going to build what is your you know bias what is your",
    "start": "696160",
    "end": "701519"
  },
  {
    "text": "background what is the the experiences that you've had that make you think about what is this house going to look like",
    "start": "701519",
    "end": "708320"
  },
  {
    "text": "and you know i can write words down right we can write requirements and all that but even those words get",
    "start": "708320",
    "end": "714079"
  },
  {
    "text": "interpreted and we think about the story we hear about books right we could all read the same book",
    "start": "714079",
    "end": "719360"
  },
  {
    "text": "and come away with a very different perception experience of what that story really meant",
    "start": "719360",
    "end": "724800"
  },
  {
    "text": "we all go watch the same movie and we're being told what to think and see we",
    "start": "724800",
    "end": "730000"
  },
  {
    "text": "might not all like to say movie but we kind of all saw it the same way so that's the next piece that we wanted",
    "start": "730000",
    "end": "735600"
  },
  {
    "text": "to iterate on so if i drew this you know have this bathroom drawn up and it's clearly it's got two sinks it's got the separate part",
    "start": "735600",
    "end": "742079"
  },
  {
    "text": "for the toilet it's got you know a big shower and tub and the doors and everything and like we're ready to go and steve",
    "start": "742079",
    "end": "749040"
  },
  {
    "text": "steve this hasn't got a b day you know what are you doing this is not a bathroom not a complete bathroom why would i end",
    "start": "749040",
    "end": "756399"
  },
  {
    "text": "the day right it's like in the u.s we don't think about that now maybe we should at the whole toilet",
    "start": "756399",
    "end": "761760"
  },
  {
    "text": "paper covered thing so there's definitely some learnings here isn't it to think about but like okay so we out of the day",
    "start": "761760",
    "end": "770399"
  },
  {
    "text": "now we can see that if we try to add it later it really doesn't fit um we lost our door the shower's like",
    "start": "770399",
    "end": "776720"
  },
  {
    "text": "this weird closet now uh so the point is we want this iterative approach",
    "start": "776720",
    "end": "782399"
  },
  {
    "text": "we want to make sure that we can bring all the subject matter experts in i you know uh you're",
    "start": "782399",
    "end": "789040"
  },
  {
    "text": "one of our key masters right you know all of our security work we've got uh neos from aws that's been awesome for",
    "start": "789040",
    "end": "795120"
  },
  {
    "text": "you know thinking about key management um we've got the the notary folks they're the tough folks that have been",
    "start": "795120",
    "end": "800480"
  },
  {
    "text": "working on all of the update semantics and we each have our perspectives but it's really hard to",
    "start": "800480",
    "end": "806399"
  },
  {
    "text": "communicate with each other you know without sketching these things out",
    "start": "806399",
    "end": "812000"
  },
  {
    "text": "turns out sketching isn't just enough um you know if you look at uh the churches",
    "start": "812000",
    "end": "819199"
  },
  {
    "text": "in barcelona right the church is not just there but other places they were big and you know massive pillars inside",
    "start": "819199",
    "end": "825760"
  },
  {
    "text": "to hold up these roofs that were you know concrete and then maybe a wood roof at the top but there was just really massive",
    "start": "825760",
    "end": "832240"
  },
  {
    "text": "structures and anthony gowdy was had a different vision",
    "start": "832240",
    "end": "837519"
  },
  {
    "text": "for what he wanted to see and he couldn't really figure out how to communicate that vision very well",
    "start": "837519",
    "end": "843040"
  },
  {
    "text": "or figure out how to build it quite frankly so he'd make sketches and you'd look at going that's awesome",
    "start": "843040",
    "end": "849680"
  },
  {
    "text": "but i don't know how to how we're going to pull it off it's like going to collapse on itself or it'll just be so bulky so he started doing",
    "start": "849680",
    "end": "857040"
  },
  {
    "text": "modeling he took his sketches and he was building models and prototypes and this one is really interesting so",
    "start": "857040",
    "end": "862639"
  },
  {
    "text": "when we can all travel again or search online if you go to the scrota familia that",
    "start": "862639",
    "end": "867680"
  },
  {
    "text": "you'll see that this is actually strings that are hung from the ceiling",
    "start": "867680",
    "end": "873120"
  },
  {
    "text": "with little shot pellets that are in these little canvas bags that help",
    "start": "873120",
    "end": "878639"
  },
  {
    "text": "shape the formation that becomes the pillars that holds up the church that's kind of familiar and",
    "start": "878639",
    "end": "886000"
  },
  {
    "text": "he did a lot of these iterations if you just look up gowdy models you'll just see the amazing things that he put together",
    "start": "886000",
    "end": "892000"
  },
  {
    "text": "and that was able to facilitate all the different trades to figure out where are they going to put the lighting",
    "start": "892000",
    "end": "897519"
  },
  {
    "text": "where are they going to put the gas pipes or whatever they use for electricity back 120 years ago um they didn't have so they had well i",
    "start": "897519",
    "end": "905279"
  },
  {
    "text": "was trying to figure it out so i guess where they could put the candles without",
    "start": "905279",
    "end": "910639"
  },
  {
    "text": "burning everything down so you had to figure out how to get all these different trades to fit in",
    "start": "910639",
    "end": "915680"
  },
  {
    "text": "whether it be stairwells or whatever and that's what he was able to build these models and",
    "start": "915680",
    "end": "920720"
  },
  {
    "text": "everybody could look all right i can put the pipes here because the things are not there and so forth and",
    "start": "920720",
    "end": "926959"
  },
  {
    "text": "you know it's just an absolutely amazing uh sculpture and uh you can just see the pillars and the way they look like trees",
    "start": "926959",
    "end": "933440"
  },
  {
    "text": "and so forth so the point here is not just to appreciate auntie gowdy but it's that you know communicate write things",
    "start": "933440",
    "end": "940959"
  },
  {
    "text": "down sketch prototype and throw it out and start over again is the approach we've been taking uh",
    "start": "940959",
    "end": "947759"
  },
  {
    "text": "with this project so we've we're in this prototyping phase",
    "start": "947759",
    "end": "953440"
  },
  {
    "text": "at the moment so um prototype one kind of is really um c is going to talk about in a second",
    "start": "953440",
    "end": "959440"
  },
  {
    "text": "but that's a kind of exercise in generic signing of content",
    "start": "959440",
    "end": "964480"
  },
  {
    "text": "in a registry context um how that would involve how can you copy signatures the air gap issues",
    "start": "964480",
    "end": "972399"
  },
  {
    "text": "um we're going to look at key management issues um and what kind of persistence and",
    "start": "972399",
    "end": "977440"
  },
  {
    "text": "retrieval there is for for signatures are they separate artifacts or the same",
    "start": "977440",
    "end": "983600"
  },
  {
    "text": "or part of the same artifact um so you know um detached keys or join keys are they",
    "start": "983600",
    "end": "989600"
  },
  {
    "text": "um all those kind of issues about um what what what is a key",
    "start": "989600",
    "end": "995360"
  },
  {
    "text": "in a register what is the signature in a registry and then um that's going to lead into",
    "start": "995360",
    "end": "1001839"
  },
  {
    "text": "in parallel we're going through working on a lot of design decisions um and then registers nearly registered",
    "start": "1001839",
    "end": "1008959"
  },
  {
    "text": "a bunch of other prototyping so prototyping what tough looks like in a registry",
    "start": "1008959",
    "end": "1014000"
  },
  {
    "text": "looking at the issues around rollback in a registry context and ephemeral clients we'll talk about in a",
    "start": "1014000",
    "end": "1020000"
  },
  {
    "text": "few in a few minutes so as part of building this prototype um",
    "start": "1020000",
    "end": "1026640"
  },
  {
    "start": "1023000",
    "end": "1023000"
  },
  {
    "text": "and doing this iterative model we you know we want to carve out what we really want to you know chew on right",
    "start": "1026640",
    "end": "1031760"
  },
  {
    "text": "now and what we're going to defer so um we've got a prototype for an nv2",
    "start": "1031760",
    "end": "1036798"
  },
  {
    "text": "client and all it does is sign and verify it actually doesn't even know about a",
    "start": "1036799",
    "end": "1041918"
  },
  {
    "text": "registry it just knows how to sign content and verify that content related to that key",
    "start": "1041919",
    "end": "1048000"
  },
  {
    "text": "of course it can sign an artifact and we're targeting oci artifacts and there's a manifest for how those things",
    "start": "1048000",
    "end": "1054240"
  },
  {
    "text": "come in we'll talk about that in a second and based on that manifest the digest we can generate a signature",
    "start": "1054240",
    "end": "1060480"
  },
  {
    "text": "once we have the signature and the artifact we can push it to a registry using something like the",
    "start": "1060480",
    "end": "1066320"
  },
  {
    "text": "ores client which is again a good prototyping tool because it's really meant to be a library for other clis",
    "start": "1066320",
    "end": "1073280"
  },
  {
    "text": "but now we can see how we can leverage the oci artifacts model for pushing additional content into a registry",
    "start": "1073280",
    "end": "1079280"
  },
  {
    "text": "with these tools and we can get a kind of a rapid prototype going here",
    "start": "1079280",
    "end": "1084799"
  },
  {
    "text": "so we've started with x509 certs and justin will talk a little bit more around you know how we want to expand the type",
    "start": "1084799",
    "end": "1090880"
  },
  {
    "text": "of keys that we supported key signing but what was interesting about this is",
    "start": "1090880",
    "end": "1096000"
  },
  {
    "text": "uh sheeway who's been working on this part of it uh you know if we use the bathroom analogy again",
    "start": "1096000",
    "end": "1102320"
  },
  {
    "text": "you know he created some artwork on the wall in this bathroom that we weren't really expecting",
    "start": "1102320",
    "end": "1107360"
  },
  {
    "text": "and we're kind of all grocking it now so let's kind of take a look at what this all happens so",
    "start": "1107360",
    "end": "1112559"
  },
  {
    "text": "we take an ssl sorry a next 509 key and the c name is the registry",
    "start": "1112559",
    "end": "1120480"
  },
  {
    "text": "that the artifact was originally in it doesn't limit where it can be pulled to it's just saying we're",
    "start": "1120480",
    "end": "1126480"
  },
  {
    "text": "going to have a certificate that has a registry baked into it so we build an image we're tagging it",
    "start": "1126480",
    "end": "1133679"
  },
  {
    "text": "with the registry the source registry now this is where to support offline",
    "start": "1133679",
    "end": "1139039"
  },
  {
    "text": "scenarios we needed a manifest locally um manifesto typically generated as part of a push",
    "start": "1139039",
    "end": "1144880"
  },
  {
    "text": "operation and you can get it from the registry so here we actually um she always built",
    "start": "1144880",
    "end": "1150000"
  },
  {
    "text": "this generate manifest tool uh that you can you know get it manifest locally and you just pass it the name of",
    "start": "1150000",
    "end": "1155840"
  },
  {
    "text": "the image and you say output it to this net monitor json file",
    "start": "1155840",
    "end": "1161200"
  },
  {
    "text": "so now i can take the nv2 client and one of many methods we want to",
    "start": "1161200",
    "end": "1166240"
  },
  {
    "text": "support is x509 so we had gpg and we pulled it out we're we're trying to figure out how we want",
    "start": "1166240",
    "end": "1171919"
  },
  {
    "text": "to do this best but imagine there's multiple methods for now we do x509 i give it the wabit networks key and uh",
    "start": "1171919",
    "end": "1179600"
  },
  {
    "text": "the registry that i want to tag this thing associated with and i",
    "start": "1179600",
    "end": "1185200"
  },
  {
    "text": "pass it in the net monitor v1 manifest json file because that's what it's going to sign",
    "start": "1185200",
    "end": "1190400"
  },
  {
    "text": "and then the signature object it generates is the netmonitor.signature.json",
    "start": "1190400",
    "end": "1196160"
  },
  {
    "text": "okay so you got the docker build generator manifest and then i'm going to sign it so that",
    "start": "1196160",
    "end": "1203120"
  },
  {
    "start": "1202000",
    "end": "1202000"
  },
  {
    "text": "net monitor signature json object what we have here is the top part is the references to the",
    "start": "1203120",
    "end": "1209919"
  },
  {
    "text": "certificate you know the expiration not before and i always forget what i t stands for",
    "start": "1209919",
    "end": "1215039"
  },
  {
    "text": "um then what we have is uh it's called an oci descriptor what",
    "start": "1215039",
    "end": "1220960"
  },
  {
    "text": "this says is i am signing this artifact that's in the registry",
    "start": "1220960",
    "end": "1226320"
  },
  {
    "text": "it has a media type for the whether it's an index or manifest manifest list or index sorry manifest list or manifest so this",
    "start": "1226320",
    "end": "1234080"
  },
  {
    "text": "is representing ocr manifest it has the digest that digest is the",
    "start": "1234080",
    "end": "1239120"
  },
  {
    "text": "digest of that manifest and the size those three parts are referred to as an ocean descriptor",
    "start": "1239120",
    "end": "1245039"
  },
  {
    "text": "and then here's the interesting part that we're playing with is their certificate has to match the registry if you put it",
    "start": "1245039",
    "end": "1251840"
  },
  {
    "text": "in here and it's only for assigning it just means that i can't use the a different key just as x 5 and 9 key to",
    "start": "1251840",
    "end": "1259200"
  },
  {
    "text": "sign a different registry url at that point the output of that is the bottom section",
    "start": "1259200",
    "end": "1266000"
  },
  {
    "text": "that that is the actual signature so this is the basically the config",
    "start": "1266000",
    "end": "1271840"
  },
  {
    "text": "object that we will or the signature object that we've generated and you'll see we have lots of",
    "start": "1271840",
    "end": "1277919"
  },
  {
    "text": "conversations around the formatting of the white space no white space canonical and so forth but",
    "start": "1277919",
    "end": "1284159"
  },
  {
    "text": "that's one of the debates we're having so now if i've got that file i can push it",
    "start": "1284159",
    "end": "1291039"
  },
  {
    "text": "to a registry as a notary v2 artifact so i can use the auras client",
    "start": "1291039",
    "end": "1298559"
  },
  {
    "text": "and i say or as push to the web next wabit networks registry i pass it a manifest config of the json",
    "start": "1298559",
    "end": "1305919"
  },
  {
    "text": "file the signature object and i've given it a notary v2 artifact type",
    "start": "1305919",
    "end": "1312400"
  },
  {
    "text": "and the media sorry the manifest of that as it goes into the registry uh",
    "start": "1313200",
    "end": "1318320"
  },
  {
    "text": "is a zero layer object it's got the config object right there this whole config object is",
    "start": "1318320",
    "end": "1324159"
  },
  {
    "text": "the signature and now i've got you know the artifact and the signature in the registry",
    "start": "1324159",
    "end": "1333360"
  },
  {
    "start": "1331000",
    "end": "1331000"
  },
  {
    "text": "so okay so yeah so key management obviously is an important part of this and that's something that",
    "start": "1333360",
    "end": "1339919"
  },
  {
    "text": "like this experiment has kind of illuminated a bunch of things about it um",
    "start": "1339919",
    "end": "1345360"
  },
  {
    "text": "first of all we it used x509 um um actually",
    "start": "1345360",
    "end": "1351919"
  },
  {
    "text": "one of the interesting things about notre dame v1 is that it give you could choose to use x509 or",
    "start": "1351919",
    "end": "1357440"
  },
  {
    "text": "um kind of ad hoc case and that was actually um kind of",
    "start": "1357440",
    "end": "1364240"
  },
  {
    "text": "giving people a choice was actually kind of weird because it meant that some there was functionality that you could do with x509 like",
    "start": "1364240",
    "end": "1371840"
  },
  {
    "text": "see who had signed an image much more easily um but you couldn't rely on that",
    "start": "1371840",
    "end": "1377520"
  },
  {
    "text": "functionality being there because some people didn't use x509 so it was a kind of mixed bag i think like some of",
    "start": "1377520",
    "end": "1384000"
  },
  {
    "text": "the functionality was quite nice but no one ever liked to rely on it because x 509 keys are really",
    "start": "1384000",
    "end": "1389520"
  },
  {
    "text": "mostly used for signatures as opposed to for tls in",
    "start": "1389520",
    "end": "1395760"
  },
  {
    "text": "the us government and a few other large organizations they're not widely used elsewhere",
    "start": "1395760",
    "end": "1401200"
  },
  {
    "text": "and unfortunately you can't use the let's encrypt for signing a normal object for for reasons that",
    "start": "1401200",
    "end": "1407919"
  },
  {
    "text": "won't talk about now but it does give this useful potentially useful binding but",
    "start": "1407919",
    "end": "1413520"
  },
  {
    "text": "maybe between the the name and the what you're signing for but maybe there are other means we can use",
    "start": "1413520",
    "end": "1420640"
  },
  {
    "text": "some people are kind of in the gpg ecosystem um which comes with this web of trust thing",
    "start": "1420640",
    "end": "1427440"
  },
  {
    "text": "but really only debian is the only user of that and in these covered times",
    "start": "1427440",
    "end": "1432960"
  },
  {
    "text": "we don't go to key signing parties even if we ever did um and it's not clear that the web of",
    "start": "1432960",
    "end": "1438640"
  },
  {
    "text": "trust model is is is real um i was wondering where you were going with this code reference",
    "start": "1438640",
    "end": "1444000"
  },
  {
    "text": "of key parties um and so ad-hoc cases is which is what",
    "start": "1444000",
    "end": "1450320"
  },
  {
    "text": "tough specifies although tough does say you can use other kinds of keys as well which is why notary was able to use um x509",
    "start": "1450320",
    "end": "1458640"
  },
  {
    "text": "is probably the most likely option but we're anyway we're still going through the kind of options there",
    "start": "1458640",
    "end": "1464559"
  },
  {
    "text": "um definitely we know we want to be able to manage you know keys with existing tools particularly hardware security",
    "start": "1464559",
    "end": "1470559"
  },
  {
    "text": "so things like cloud keys or stores or um vault or parsec project or yubikeys",
    "start": "1470559",
    "end": "1476720"
  },
  {
    "text": "which um i have noticed v1 had support for so there's a bunch of things we do know and there's a bunch of things that",
    "start": "1476720",
    "end": "1482960"
  },
  {
    "text": "you know we're still experimenting with there and part of this is coming because you",
    "start": "1482960",
    "end": "1488159"
  },
  {
    "text": "know like we showed the bathroom and it you know with the bidet conversation or the multiple",
    "start": "1488159",
    "end": "1493440"
  },
  {
    "text": "keys you know it's like one of the things we're debating is should we support multiple keys because we want the hobbyist to not have to pay",
    "start": "1493440",
    "end": "1499840"
  },
  {
    "text": "anything and super simple and have maybe the appropriate level of trust associated with that",
    "start": "1499840",
    "end": "1505440"
  },
  {
    "text": "where larger software vendors where it's or maybe it's a more critical workload or even a company that wants to have you know their",
    "start": "1505440",
    "end": "1511919"
  },
  {
    "text": "certificate more trusted there's that realm as well so these are just kind of some of the things that",
    "start": "1511919",
    "end": "1517120"
  },
  {
    "text": "we've been you know debating around because now we can see what this thing's starting to look like so there's a yeah we spun out",
    "start": "1517120",
    "end": "1522480"
  },
  {
    "text": "a key management group on fridays to go through these issues",
    "start": "1522480",
    "end": "1529679"
  },
  {
    "start": "1529000",
    "end": "1529000"
  },
  {
    "text": "um so that on the on the prototyping road map um one of the things that really",
    "start": "1529679",
    "end": "1536400"
  },
  {
    "text": "once we've experimented a little bit you know we now we've got some sort of concrete experiments with putting keys",
    "start": "1536400",
    "end": "1542080"
  },
  {
    "text": "in aci then there's an interest in mapping the update framework into oci",
    "start": "1542080",
    "end": "1548799"
  },
  {
    "text": "registry types because um it's a design for files in a file system",
    "start": "1548799",
    "end": "1554159"
  },
  {
    "text": "and mostly notary v1 carried that over because it had a separate database but as we want to put things in the registry",
    "start": "1554159",
    "end": "1561760"
  },
  {
    "text": "there's some little differences um some of them are just small things like oci descriptors include the mime type",
    "start": "1561760",
    "end": "1567120"
  },
  {
    "text": "whereas the tough um pointers which are much the same don't include a mime type but",
    "start": "1567120",
    "end": "1573200"
  },
  {
    "text": "so it's just a minor thing um if we use external signature objects rather than",
    "start": "1573200",
    "end": "1578960"
  },
  {
    "text": "tough signature objects it's tough signatures are in line if we're standardizing on external signatures in",
    "start": "1578960",
    "end": "1584159"
  },
  {
    "text": "the registry then that makes little differences to the layout i mean this is fine",
    "start": "1584159",
    "end": "1589679"
  },
  {
    "text": "as long as it it maps and it preserves the security properties i mean tough does say that",
    "start": "1589679",
    "end": "1595279"
  },
  {
    "text": "these are examples and not required but we need to do an exact mapping um you know there are there are a bunch",
    "start": "1595279",
    "end": "1602559"
  },
  {
    "text": "of options but we need these it to be aci structured with at least to some extent with the ocr structure because that's how",
    "start": "1602559",
    "end": "1609200"
  },
  {
    "text": "registers do garbage collection we don't want signatures to be or tough metadata to be garbage collected so",
    "start": "1609200",
    "end": "1616159"
  },
  {
    "text": "and or images that are pointed to from there well yeah eventually but we want them to be managed in the normal workflow of the",
    "start": "1616159",
    "end": "1623760"
  },
  {
    "text": "registry and then there's some other questions about putting toughness registry that we've discussed a bit so notary v1",
    "start": "1623760",
    "end": "1631600"
  },
  {
    "text": "made a tough repository equal to a um registry repository i.e um you know so",
    "start": "1631600",
    "end": "1639360"
  },
  {
    "text": "docker hub slash justin cormac slash my program that would be one tough repo that meant they were",
    "start": "1639360",
    "end": "1644960"
  },
  {
    "text": "a huge number of keys um the tough team think that the whole registry is the",
    "start": "1644960",
    "end": "1650159"
  },
  {
    "text": "right scope um but i don't think we've we haven't convinced the registry operators that that's not too large escape",
    "start": "1650159",
    "end": "1657200"
  },
  {
    "text": "um so maybe the answer is in between it's the org scope or anyway so there's still some work there",
    "start": "1657200",
    "end": "1663039"
  },
  {
    "text": "but that affects things like how delegations work and there's a whole a lot of complex",
    "start": "1663039",
    "end": "1668559"
  },
  {
    "text": "issues around um discoverability of information about signed objects and things that",
    "start": "1668559",
    "end": "1674399"
  },
  {
    "text": "also affect the design so it's a complicated thing that we so we need to make some",
    "start": "1674399",
    "end": "1679679"
  },
  {
    "text": "more progress on that um more design work that we're having an",
    "start": "1679679",
    "end": "1686720"
  },
  {
    "start": "1684000",
    "end": "1684000"
  },
  {
    "text": "ongoing discussion about rollback protection which is a really interesting subject i'm i'm writing some",
    "start": "1686720",
    "end": "1693279"
  },
  {
    "text": "blog posts on this at the minute um to just kind of sort out my thinking about this but",
    "start": "1693279",
    "end": "1698399"
  },
  {
    "text": "um this is and there's a bunch of articles that um justin capos has written on this so",
    "start": "1698399",
    "end": "1705520"
  },
  {
    "text": "um there's a problem with um the tough models kind of assumes that",
    "start": "1705520",
    "end": "1710720"
  },
  {
    "text": "you have a persistent history again of of what's been going on and then so someone",
    "start": "1710720",
    "end": "1716159"
  },
  {
    "text": "can't come along and you know just say oh no there haven't been any updates for the last three years the latest version is the one from",
    "start": "1716159",
    "end": "1722399"
  },
  {
    "text": "three years ago you should use that um which is still signed by the same design so",
    "start": "1722399",
    "end": "1727840"
  },
  {
    "text": "it still looks valid but you actually no you should know that there's actually been updates since and so um one solution is to update",
    "start": "1727840",
    "end": "1735919"
  },
  {
    "text": "you know the client and tell it um and it's basically telling that where the state of the world was when it",
    "start": "1735919",
    "end": "1742320"
  },
  {
    "text": "was created but that's more work we've also been looking at the kind of there's a relation between",
    "start": "1742320",
    "end": "1747840"
  },
  {
    "text": "transparency logs which are kind of used for um public attestation of um",
    "start": "1747840",
    "end": "1753600"
  },
  {
    "text": "tls keys and this is sets and things like that and there's a very interesting relation",
    "start": "1753600",
    "end": "1759520"
  },
  {
    "text": "between those and the kind of um the rollback protection",
    "start": "1759520",
    "end": "1764640"
  },
  {
    "text": "but it's complicated and we're still working on that um you know i think this we know that ephemeral infrastructure is important so",
    "start": "1764640",
    "end": "1771440"
  },
  {
    "text": "we need to um you know work out how to use it effectively and keep it secure",
    "start": "1771440",
    "end": "1777760"
  },
  {
    "text": "i mean it's kind of interesting we've been this is one of the reasons this is interesting debate is uh you know for deployment we kind of",
    "start": "1777760",
    "end": "1783360"
  },
  {
    "text": "follow this best practice that every deployment is a unique tag right you would never deploy latest you should never be building on latest",
    "start": "1783360",
    "end": "1789520"
  },
  {
    "text": "um latest is good for like demos and trying to get things started or even a deployment right having a single tag",
    "start": "1789520",
    "end": "1795679"
  },
  {
    "text": "in an environment where you have lots of nodes you want to make sure they're all running the exact same version",
    "start": "1795679",
    "end": "1801840"
  },
  {
    "text": "so we don't really think of the update scenario being part of the deployment but on your build statement like you're",
    "start": "1801840",
    "end": "1808000"
  },
  {
    "text": "from we do want to use what we refer to as stable tags you know i want but node nine and when there's a new",
    "start": "1808000",
    "end": "1814799"
  },
  {
    "text": "security update to node nine i wanna get that without having to change my docker file to reference a new tag",
    "start": "1814799",
    "end": "1820799"
  },
  {
    "text": "so we definitely have these kind of semantics it's just it's kind of where is it in the priority list and",
    "start": "1820799",
    "end": "1825840"
  },
  {
    "text": "where do we carve off and we need to solve the the complexity and the uh the reliability of the of this this",
    "start": "1825840",
    "end": "1833120"
  },
  {
    "text": "yeah i mean i think there's some of the ways in which we decide you know in the practice of using",
    "start": "1833120",
    "end": "1841279"
  },
  {
    "text": "containers um things you know everyone everyone understands the latest is kind of",
    "start": "1841279",
    "end": "1847440"
  },
  {
    "text": "has been an issue ever since it was kind of created and so um you know we need to think",
    "start": "1847440",
    "end": "1854559"
  },
  {
    "text": "about questions like um over time it was you know was that",
    "start": "1854559",
    "end": "1859840"
  },
  {
    "text": "the right design and do we need to try and um change that over time but we we",
    "start": "1859840",
    "end": "1866640"
  },
  {
    "text": "one of the design criteria of this project is we're not trying to change what people do we're trying to make what they do",
    "start": "1866640",
    "end": "1873919"
  },
  {
    "text": "secure um because um changing this kind of thing is hard and if you tell people",
    "start": "1873919",
    "end": "1879440"
  },
  {
    "text": "they have to change before they're secure they're quite likely to just not change and carry on being insecure",
    "start": "1879440",
    "end": "1884960"
  },
  {
    "text": "so we we we have this difficult thing of trying to work with things as they are even if they're not necessarily",
    "start": "1884960",
    "end": "1892159"
  },
  {
    "text": "ideal but it's important to kind of explore how we could make things better by if by",
    "start": "1892159",
    "end": "1897840"
  },
  {
    "text": "making change but we can't assume that we make those changes first",
    "start": "1897840",
    "end": "1903120"
  },
  {
    "start": "1903000",
    "end": "1903000"
  },
  {
    "text": "um yeah so this is kind of summarized a little bit in this slide but you know the update this framework is",
    "start": "1904399",
    "end": "1910720"
  },
  {
    "text": "concerned with updates but there's not a good model in the registry of what updates are and i looked at the ubuntu",
    "start": "1910720",
    "end": "1918399"
  },
  {
    "text": "repo in docker hub and it's got 386 tags and technically five of them and kind of",
    "start": "1918399",
    "end": "1925120"
  },
  {
    "text": "latest are up to date and the other ones are probably old and you shouldn't probably be using",
    "start": "1925120",
    "end": "1932559"
  },
  {
    "text": "them most of the time um and um you know so um this kind of",
    "start": "1932559",
    "end": "1941600"
  },
  {
    "text": "thing you know that we we're discouraging use of latest and and we and people want immutable tags",
    "start": "1941600",
    "end": "1948320"
  },
  {
    "text": "but actually most of the um most of the immutable tags are mainly",
    "start": "1948320",
    "end": "1953679"
  },
  {
    "text": "for historical interest and you shouldn't actually be running them right now because they're they are old so you know i actually",
    "start": "1953679",
    "end": "1960799"
  },
  {
    "text": "um i've been thinking about this quite a lot recently i think we did make some uh you know i do think there are some",
    "start": "1960799",
    "end": "1967279"
  },
  {
    "text": "mistakes here in terms of the way the design works you're human",
    "start": "1967279",
    "end": "1974000"
  },
  {
    "text": "well you know these things have you know these things have been around for a long time and there are some right things about them",
    "start": "1974000",
    "end": "1979679"
  },
  {
    "text": "and um and some you know i think we need to tweak them a little bit but",
    "start": "1979679",
    "end": "1985200"
  },
  {
    "text": "it's you know these things are kind of um the usage is a kind of in",
    "start": "1985200",
    "end": "1993120"
  },
  {
    "text": "in the sort of fabric of how people use things now and um it's definitely going to be a challenge",
    "start": "1993120",
    "end": "1998799"
  },
  {
    "text": "to change them so this is sagrada familia",
    "start": "1998799",
    "end": "2006720"
  },
  {
    "start": "2004000",
    "end": "2004000"
  },
  {
    "text": "um a couple of years ago this is the top of uh of a a spacex rocket like",
    "start": "2006720",
    "end": "2013440"
  },
  {
    "text": "did like barcelona go off and make a rocket silo in the top of this thing um so we're building this thing uh it's",
    "start": "2013440",
    "end": "2020960"
  },
  {
    "text": "not going to take as long as cigar familia um we're actually you know shipping",
    "start": "2020960",
    "end": "2026880"
  },
  {
    "text": "things quite fast now we've got you know we're next to kubecon we're going to have um prototype in the state that everyone",
    "start": "2026880",
    "end": "2033840"
  },
  {
    "text": "can really play with it and get their hands on it before we shift it into production so come and join us",
    "start": "2033840",
    "end": "2040240"
  },
  {
    "text": "um the details are on the next slide um yep so we have weekly meetings",
    "start": "2040240",
    "end": "2047519"
  },
  {
    "text": "do get in touch with us get in touch with me and steve directly and we're happy we'll be around to answer questions and",
    "start": "2047519",
    "end": "2052800"
  },
  {
    "text": "so thanks very much for listening and we there's a lot of work to do so let's have a working session",
    "start": "2052800",
    "end": "2061839"
  }
]