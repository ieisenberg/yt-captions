[
  {
    "start": "0",
    "end": "29000"
  },
  {
    "text": "all right so my name is Eric and with me",
    "start": "30",
    "end": "3060"
  },
  {
    "text": "I have Alex and Miss Dalek and we're",
    "start": "3060",
    "end": "6509"
  },
  {
    "text": "here to talk about how we migrated HTTP",
    "start": "6509",
    "end": "9150"
  },
  {
    "text": "traffic from our old system to a new and",
    "start": "9150",
    "end": "11790"
  },
  {
    "text": "web-based one now someone told me that",
    "start": "11790",
    "end": "13799"
  },
  {
    "text": "this is the worst way to introduce a",
    "start": "13799",
    "end": "15269"
  },
  {
    "text": "talk that you should say something funny",
    "start": "15269",
    "end": "16680"
  },
  {
    "text": "or tell a joke I'm not the funny person",
    "start": "16680",
    "end": "21029"
  },
  {
    "text": "so you will not hear a joke from me so",
    "start": "21029",
    "end": "23850"
  },
  {
    "text": "we go with that that thing I just said",
    "start": "23850",
    "end": "25439"
  },
  {
    "text": "and instead alright great so here's",
    "start": "25439",
    "end": "29970"
  },
  {
    "start": "29000",
    "end": "29000"
  },
  {
    "text": "roughly the agenda for the talk I will",
    "start": "29970",
    "end": "32008"
  },
  {
    "text": "try to set the context and describe or",
    "start": "32009",
    "end": "35100"
  },
  {
    "text": "our old system for you what we migrating",
    "start": "35100",
    "end": "39180"
  },
  {
    "text": "from nest Olek we'll talk about our new",
    "start": "39180",
    "end": "43760"
  },
  {
    "text": "system and then Alex will talk about the",
    "start": "43760",
    "end": "46920"
  },
  {
    "text": "migration itself and finally we'll share",
    "start": "46920",
    "end": "48480"
  },
  {
    "text": "some some learnings along the way all",
    "start": "48480",
    "end": "59789"
  },
  {
    "start": "59000",
    "end": "59000"
  },
  {
    "text": "right so just quickly about Spotify most",
    "start": "59789",
    "end": "62070"
  },
  {
    "text": "of you probably know what Spotify is but",
    "start": "62070",
    "end": "64170"
  },
  {
    "text": "I will go through it quickly anyway so",
    "start": "64170",
    "end": "66360"
  },
  {
    "text": "it's a it's the world's largest music",
    "start": "66360",
    "end": "68729"
  },
  {
    "text": "streaming service we have 248 million",
    "start": "68729",
    "end": "71340"
  },
  {
    "text": "monthly active users it's a global",
    "start": "71340",
    "end": "74610"
  },
  {
    "text": "product so we're on I think 79 markets",
    "start": "74610",
    "end": "77070"
  },
  {
    "text": "right now we're on hundreds of different",
    "start": "77070",
    "end": "80670"
  },
  {
    "text": "platforms so phones and cars and",
    "start": "80670",
    "end": "83340"
  },
  {
    "text": "speakers and so on our service in",
    "start": "83340",
    "end": "87180"
  },
  {
    "text": "Florence in in TCP so we're on in three",
    "start": "87180",
    "end": "91200"
  },
  {
    "text": "regions US Central Europe and Asia East",
    "start": "91200",
    "end": "94700"
  },
  {
    "text": "at peak we serve about 8 million RPS and",
    "start": "94700",
    "end": "98490"
  },
  {
    "text": "the backend we have is a micro service",
    "start": "98490",
    "end": "101220"
  },
  {
    "text": "back then so fairly standard stuff this",
    "start": "101220",
    "end": "103740"
  },
  {
    "text": "is kind of what it would look like",
    "start": "103740",
    "end": "104759"
  },
  {
    "text": "you've probably seen dozens of these",
    "start": "104759",
    "end": "106530"
  },
  {
    "text": "pictures so on the left you have the",
    "start": "106530",
    "end": "108119"
  },
  {
    "text": "various Spotify clients and on the right",
    "start": "108119",
    "end": "109710"
  },
  {
    "text": "you have the various Spotify back-end",
    "start": "109710",
    "end": "111479"
  },
  {
    "text": "services one thing to note is that we",
    "start": "111479",
    "end": "114119"
  },
  {
    "text": "serve content from CDN so",
    "start": "114119",
    "end": "116979"
  },
  {
    "text": "like the action music audio files and",
    "start": "116979",
    "end": "119290"
  },
  {
    "text": "and thumbnail pictures of an album art",
    "start": "119290",
    "end": "122860"
  },
  {
    "text": "and so on comes from CDN and this black",
    "start": "122860",
    "end": "125500"
  },
  {
    "text": "line here is the perimeter the border",
    "start": "125500",
    "end": "127869"
  },
  {
    "text": "between the internet and our back-end",
    "start": "127869",
    "end": "129369"
  },
  {
    "text": "and if we zoom in on that a bit this is",
    "start": "129369",
    "end": "131739"
  },
  {
    "start": "131000",
    "end": "131000"
  },
  {
    "text": "what it used to look like in the way way",
    "start": "131739",
    "end": "133630"
  },
  {
    "text": "like really really old times like 2010",
    "start": "133630",
    "end": "136810"
  },
  {
    "text": "or 11 or so so we have this we have this",
    "start": "136810",
    "end": "140080"
  },
  {
    "text": "client sending RPC and establishing",
    "start": "140080",
    "end": "143380"
  },
  {
    "text": "stateful connections over mr. protocols",
    "start": "143380",
    "end": "145630"
  },
  {
    "text": "to our legacy stateful service we",
    "start": "145630",
    "end": "149800"
  },
  {
    "text": "divided the traffic up here in our PC",
    "start": "149800",
    "end": "152319"
  },
  {
    "text": "and and stateful sessions and then to",
    "start": "152319",
    "end": "156640"
  },
  {
    "text": "the back ends the the perimeter would be",
    "start": "156640",
    "end": "159549"
  },
  {
    "text": "Hermes which is our homegrown HTTP 1.1",
    "start": "159549",
    "end": "163120"
  },
  {
    "text": "version which were very much working to",
    "start": "163120",
    "end": "166540"
  },
  {
    "text": "migrate away from and the sessions are",
    "start": "166540",
    "end": "168880"
  },
  {
    "text": "used for things like playlist update so",
    "start": "168880",
    "end": "172840"
  },
  {
    "text": "you follow a playlist and it gets an",
    "start": "172840",
    "end": "174370"
  },
  {
    "text": "update and we can we can tell the",
    "start": "174370",
    "end": "176019"
  },
  {
    "text": "connected clients about this happening a",
    "start": "176019",
    "end": "177580"
  },
  {
    "text": "remote control is also a big use case",
    "start": "177580",
    "end": "181079"
  },
  {
    "text": "right now or like rather half a year ago",
    "start": "181079",
    "end": "184720"
  },
  {
    "text": "the perimeter looked like this so we're",
    "start": "184720",
    "end": "186549"
  },
  {
    "text": "slowly but surely moving away from the",
    "start": "186549",
    "end": "189070"
  },
  {
    "text": "legacy stuff on the on the English side",
    "start": "189070",
    "end": "192220"
  },
  {
    "text": "to to more standard protocols like",
    "start": "192220",
    "end": "195220"
  },
  {
    "text": "WebSockets and HTTP and then we have a",
    "start": "195220",
    "end": "198930"
  },
  {
    "text": "gateway that translates between Hermes",
    "start": "198930",
    "end": "202660"
  },
  {
    "text": "and HTTP so that we can decouple the",
    "start": "202660",
    "end": "206260"
  },
  {
    "text": "back-end migration from through the",
    "start": "206260",
    "end": "207640"
  },
  {
    "text": "client migration and lastly we have web",
    "start": "207640",
    "end": "212829"
  },
  {
    "text": "traffic so mostly websites the",
    "start": "212829",
    "end": "215829"
  },
  {
    "text": "dub-dub-dub Spotify Chrome Web Player",
    "start": "215829",
    "end": "217900"
  },
  {
    "text": "and about 150 different websites that we",
    "start": "217900",
    "end": "221290"
  },
  {
    "text": "have and a couple of rest api as well",
    "start": "221290",
    "end": "224170"
  },
  {
    "text": "and this talk is mainly focused on this",
    "start": "224170",
    "end": "226209"
  },
  {
    "text": "part which we now have migrated away so",
    "start": "226209",
    "end": "229209"
  },
  {
    "text": "if you look at the web load balancer for",
    "start": "229209",
    "end": "231160"
  },
  {
    "start": "230000",
    "end": "230000"
  },
  {
    "text": "a bit this is kind of what it looked",
    "start": "231160",
    "end": "232690"
  },
  {
    "text": "like the old system so the two main",
    "start": "232690",
    "end": "238870"
  },
  {
    "text": "components in this one is nginx and HT",
    "start": "238870",
    "end": "241750"
  },
  {
    "text": "proxy and basically a browser will make",
    "start": "241750",
    "end": "245290"
  },
  {
    "text": "like DNS lookup of W Bob Spotify dot-com",
    "start": "245290",
    "end": "248290"
  },
  {
    "text": "for example get a response that raw",
    "start": "248290",
    "end": "250490"
  },
  {
    "text": "sit to the closest tcp load balancer",
    "start": "250490",
    "end": "252860"
  },
  {
    "text": "regional tcp load balancer remember",
    "start": "252860",
    "end": "254930"
  },
  {
    "text": "we're in three regions so you'll get if",
    "start": "254930",
    "end": "256340"
  },
  {
    "text": "you're in Europe you will go to the",
    "start": "256340",
    "end": "257359"
  },
  {
    "text": "Europe one the browser would connect to",
    "start": "257360",
    "end": "260780"
  },
  {
    "text": "the nginx which would terminate TLS and",
    "start": "260780",
    "end": "263480"
  },
  {
    "text": "HP proxy Bowden load balance the traffic",
    "start": "263480",
    "end": "265940"
  },
  {
    "text": "over all or over the upstream servers",
    "start": "265940",
    "end": "270260"
  },
  {
    "text": "right the system is configured with",
    "start": "270260",
    "end": "273650"
  },
  {
    "text": "puppet so the user interface to like the",
    "start": "273650",
    "end": "277640"
  },
  {
    "text": "interface to the Spotify teams use this",
    "start": "277640",
    "end": "279230"
  },
  {
    "text": "is to write",
    "start": "279230",
    "end": "280250"
  },
  {
    "text": "Yaman files and ruby templates and we",
    "start": "280250",
    "end": "283640"
  },
  {
    "text": "have about 25 different features exposed",
    "start": "283640",
    "end": "286160"
  },
  {
    "text": "so you can said you can do redirects and",
    "start": "286160",
    "end": "288820"
  },
  {
    "text": "configure custom health checks and set",
    "start": "288820",
    "end": "291350"
  },
  {
    "text": "timeouts and and so on another thing to",
    "start": "291350",
    "end": "295430"
  },
  {
    "text": "notice that we use puppet for doing",
    "start": "295430",
    "end": "297020"
  },
  {
    "text": "service discovery so basically if you",
    "start": "297020",
    "end": "299270"
  },
  {
    "text": "spawn up more more instances for your",
    "start": "299270",
    "end": "301160"
  },
  {
    "text": "back-end cluster they would be",
    "start": "301160",
    "end": "302990"
  },
  {
    "text": "registered in our service registry and",
    "start": "302990",
    "end": "306260"
  },
  {
    "text": "then on each puppet run we will pop it",
    "start": "306260",
    "end": "308540"
  },
  {
    "text": "will populate the HT proxy configuration",
    "start": "308540",
    "end": "310850"
  },
  {
    "text": "with new hosts so this system has served",
    "start": "310850",
    "end": "316490"
  },
  {
    "start": "314000",
    "end": "314000"
  },
  {
    "text": "us well for seven years or so but it's",
    "start": "316490",
    "end": "318500"
  },
  {
    "text": "not like we it's not really good enough",
    "start": "318500",
    "end": "322640"
  },
  {
    "text": "anymore like it's it's hard to hard to",
    "start": "322640",
    "end": "325430"
  },
  {
    "text": "extend not so not very flexible like",
    "start": "325430",
    "end": "328040"
  },
  {
    "text": "puppet in and ruby in all on but it's",
    "start": "328040",
    "end": "331400"
  },
  {
    "text": "it's it becomes it's become quite a mess",
    "start": "331400",
    "end": "335200"
  },
  {
    "text": "as I mentioned the service discovery",
    "start": "335200",
    "end": "337460"
  },
  {
    "text": "being tied to puppet has the drawback",
    "start": "337460",
    "end": "338990"
  },
  {
    "text": "that it's quite slow I think a puppet",
    "start": "338990",
    "end": "341000"
  },
  {
    "text": "run normally takes between seven and ten",
    "start": "341000",
    "end": "343790"
  },
  {
    "text": "minutes on one of these hosts which",
    "start": "343790",
    "end": "345620"
  },
  {
    "text": "doesn't work very well with ephemeral",
    "start": "345620",
    "end": "348230"
  },
  {
    "text": "services like kubernetes is it's not",
    "start": "348230",
    "end": "350450"
  },
  {
    "text": "we're playing along well with this for",
    "start": "350450",
    "end": "352490"
  },
  {
    "text": "example and it's an intuitive to use so",
    "start": "352490",
    "end": "354890"
  },
  {
    "text": "like these features that I mentioned",
    "start": "354890",
    "end": "356300"
  },
  {
    "text": "they've been added haphazardly over the",
    "start": "356300",
    "end": "358130"
  },
  {
    "text": "year kind of so there are some that",
    "start": "358130",
    "end": "360440"
  },
  {
    "text": "don't make any sense anymore and others",
    "start": "360440",
    "end": "362780"
  },
  {
    "text": "that that have been added twice with",
    "start": "362780",
    "end": "365060"
  },
  {
    "text": "different names and most importantly may",
    "start": "365060",
    "end": "368540"
  },
  {
    "text": "be that anything we would do with this",
    "start": "368540",
    "end": "369860"
  },
  {
    "text": "system would only benefit the actual",
    "start": "369860",
    "end": "371510"
  },
  {
    "text": "like the web traffic and not the rest of",
    "start": "371510",
    "end": "375200"
  },
  {
    "text": "the ingress traffic so what we want to",
    "start": "375200",
    "end": "377450"
  },
  {
    "text": "do instead we have this vision of the",
    "start": "377450",
    "end": "382280"
  },
  {
    "start": "378000",
    "end": "378000"
  },
  {
    "text": "unified perimeter",
    "start": "382280",
    "end": "383520"
  },
  {
    "text": "want to build one system one system in",
    "start": "383520",
    "end": "387120"
  },
  {
    "text": "front of all these different types of",
    "start": "387120",
    "end": "389490"
  },
  {
    "text": "ingress traffic that we have and have",
    "start": "389490",
    "end": "392099"
  },
  {
    "text": "that thing do all the perimeter things",
    "start": "392099",
    "end": "394110"
  },
  {
    "text": "so I put up a nice list here of things",
    "start": "394110",
    "end": "397590"
  },
  {
    "text": "that we imagine the perimeter could do",
    "start": "397590",
    "end": "400759"
  },
  {
    "text": "I'll let you read that so doing stuff",
    "start": "400759",
    "end": "406860"
  },
  {
    "text": "like authorization adding support for",
    "start": "406860",
    "end": "409169"
  },
  {
    "text": "new protocols we've been looking at",
    "start": "409169",
    "end": "410639"
  },
  {
    "text": "quick and and there's strong push for",
    "start": "410639",
    "end": "412680"
  },
  {
    "text": "ipv6 right now as well",
    "start": "412680",
    "end": "415470"
  },
  {
    "text": "security hardening and creating audit",
    "start": "415470",
    "end": "417509"
  },
  {
    "text": "rates and all of these things we want to",
    "start": "417509",
    "end": "418979"
  },
  {
    "text": "implement once and just to to mention",
    "start": "418979",
    "end": "421530"
  },
  {
    "text": "like we have for example I think we're",
    "start": "421530",
    "end": "423090"
  },
  {
    "text": "up to five different authorization",
    "start": "423090",
    "end": "424590"
  },
  {
    "text": "systems within Spotify and at least",
    "start": "424590",
    "end": "426150"
  },
  {
    "text": "three implementations of global rate",
    "start": "426150",
    "end": "428009"
  },
  {
    "text": "limiting so yeah so these are things",
    "start": "428009",
    "end": "432300"
  },
  {
    "text": "that we want to implement once in our",
    "start": "432300",
    "end": "434130"
  },
  {
    "text": "new perimeter and and support it there",
    "start": "434130",
    "end": "437789"
  },
  {
    "text": "and yeah now nest Alec will describe how",
    "start": "437789",
    "end": "441330"
  },
  {
    "text": "he built our new system and which proxy",
    "start": "441330",
    "end": "444210"
  },
  {
    "text": "software we decided to use he will never",
    "start": "444210",
    "end": "446250"
  },
  {
    "text": "get guess which one it was",
    "start": "446250",
    "end": "449300"
  },
  {
    "start": "454000",
    "end": "454000"
  },
  {
    "text": "hello",
    "start": "455419",
    "end": "457349"
  },
  {
    "text": "so while considering multiple load",
    "start": "457349",
    "end": "459419"
  },
  {
    "text": "balancing and proxy technologies for",
    "start": "459419",
    "end": "461130"
  },
  {
    "text": "next-generation perimeter we decided to",
    "start": "461130",
    "end": "464219"
  },
  {
    "text": "go with Android for multiple reasons",
    "start": "464219",
    "end": "467780"
  },
  {
    "text": "first and the main one is Spotify is",
    "start": "468199",
    "end": "470849"
  },
  {
    "text": "moving up the stack and adopting cnc of",
    "start": "470849",
    "end": "473250"
  },
  {
    "text": "college like you Burnett the service",
    "start": "473250",
    "end": "476699"
  },
  {
    "text": "mesh and JK and what turns out to be a",
    "start": "476699",
    "end": "479159"
  },
  {
    "text": "natural fit for our environment and by",
    "start": "479159",
    "end": "481620"
  },
  {
    "text": "moving up the stack here we mean that we",
    "start": "481620",
    "end": "483569"
  },
  {
    "text": "either adopt the existing ones or",
    "start": "483569",
    "end": "485930"
  },
  {
    "text": "develop our own tools to hide the",
    "start": "485930",
    "end": "488610"
  },
  {
    "text": "complexity and help developers iterate",
    "start": "488610",
    "end": "491909"
  },
  {
    "text": "faster by focusing on what's right for",
    "start": "491909",
    "end": "493800"
  },
  {
    "text": "them mainly on the product features next",
    "start": "493800",
    "end": "498539"
  },
  {
    "text": "XDS the Shanon feature of envoy which",
    "start": "498539",
    "end": "501139"
  },
  {
    "text": "helps us to manage our proxy instances",
    "start": "501139",
    "end": "504060"
  },
  {
    "text": "at Spotify scale and as an open source",
    "start": "504060",
    "end": "509580"
  },
  {
    "text": "project and what gives us power to move",
    "start": "509580",
    "end": "512279"
  },
  {
    "text": "faster and to make impact by",
    "start": "512279",
    "end": "513690"
  },
  {
    "text": "contributing",
    "start": "513690",
    "end": "516020"
  },
  {
    "text": "last but not least and variables quickly",
    "start": "516870",
    "end": "519990"
  },
  {
    "text": "as communities quite responsive to",
    "start": "519990",
    "end": "521640"
  },
  {
    "text": "customer needs and here you could see",
    "start": "521640",
    "end": "527040"
  },
  {
    "start": "524000",
    "end": "524000"
  },
  {
    "text": "their overview of our new perimeter we",
    "start": "527040",
    "end": "529920"
  },
  {
    "text": "call it edge and we currently allow our",
    "start": "529920",
    "end": "532710"
  },
  {
    "text": "users to expose HTTP HTTPS and therapy C",
    "start": "532710",
    "end": "536040"
  },
  {
    "text": "services we leverage a fee Google",
    "start": "536040",
    "end": "539100"
  },
  {
    "text": "front-end as a global l7 load balancer",
    "start": "539100",
    "end": "541590"
  },
  {
    "text": "and with Google we can just expose one",
    "start": "541590",
    "end": "544380"
  },
  {
    "text": "IP and that Google decide which data",
    "start": "544380",
    "end": "546360"
  },
  {
    "text": "center and which point of presence to",
    "start": "546360",
    "end": "548040"
  },
  {
    "text": "connect and road traffic to sorry",
    "start": "548040",
    "end": "553580"
  },
  {
    "text": "and we currently run 100 a standard",
    "start": "553580",
    "end": "556950"
  },
  {
    "text": "eight core TCP instances for our proxies",
    "start": "556950",
    "end": "559530"
  },
  {
    "text": "with some over provisioning and next to",
    "start": "559530",
    "end": "561630"
  },
  {
    "text": "active and a stats collector and",
    "start": "561630",
    "end": "564080"
  },
  {
    "text": "obviously setup we serve one person of",
    "start": "564080",
    "end": "567420"
  },
  {
    "text": "interest traffic and for us oh there it",
    "start": "567420",
    "end": "571740"
  },
  {
    "text": "was need to be authorized which adds",
    "start": "571740",
    "end": "573660"
  },
  {
    "text": "some extra latency and nowadays we use",
    "start": "573660",
    "end": "576120"
  },
  {
    "text": "active not only for authorization but",
    "start": "576120",
    "end": "578700"
  },
  {
    "text": "also for JLP header decoration which is",
    "start": "578700",
    "end": "581490"
  },
  {
    "text": "not the purpose of authorization api and",
    "start": "581490",
    "end": "585750"
  },
  {
    "text": "there are multiple reasons that drove",
    "start": "585750",
    "end": "587220"
  },
  {
    "text": "that decision at the time when the",
    "start": "587220",
    "end": "589170"
  },
  {
    "text": "service was developed our engineers",
    "start": "589170",
    "end": "591210"
  },
  {
    "text": "wanted to move faster they didn't want",
    "start": "591210",
    "end": "593460"
  },
  {
    "text": "to spend time on setting up the ICD",
    "start": "593460",
    "end": "595800"
  },
  {
    "text": "pipelines for Android extensions and",
    "start": "595800",
    "end": "597450"
  },
  {
    "text": "also they were just simply more familiar",
    "start": "597450",
    "end": "600300"
  },
  {
    "text": "with Java and currently in your edge",
    "start": "600300",
    "end": "604140"
  },
  {
    "text": "supports most common features like",
    "start": "604140",
    "end": "606030"
  },
  {
    "text": "expose in your service doing a SSL",
    "start": "606030",
    "end": "608880"
  },
  {
    "text": "termination authorization joy be",
    "start": "608880",
    "end": "612320"
  },
  {
    "text": "redirects and house checking we also run",
    "start": "612320",
    "end": "616770"
  },
  {
    "text": "a control plane in a separate cluster to",
    "start": "616770",
    "end": "619350"
  },
  {
    "text": "configure our proxy instances",
    "start": "619350",
    "end": "621060"
  },
  {
    "text": "dynamically and the reason why we",
    "start": "621060",
    "end": "622860"
  },
  {
    "text": "decided with our own control plane is a",
    "start": "622860",
    "end": "624720"
  },
  {
    "text": "at the time when we started the project",
    "start": "624720",
    "end": "626550"
  },
  {
    "text": "there was no existing control plane that",
    "start": "626550",
    "end": "629160"
  },
  {
    "text": "would satisfy our needs and also we",
    "start": "629160",
    "end": "631410"
  },
  {
    "text": "wanted to tailor exposure API to a",
    "start": "631410",
    "end": "633480"
  },
  {
    "text": "Spotify requirements and with a new edge",
    "start": "633480",
    "end": "638760"
  },
  {
    "start": "637000",
    "end": "637000"
  },
  {
    "text": "setup we introduced multiple risks as a",
    "start": "638760",
    "end": "642750"
  },
  {
    "text": "service exposure is now centralized in",
    "start": "642750",
    "end": "644850"
  },
  {
    "text": "one system but deploys could take down",
    "start": "644850",
    "end": "646860"
  },
  {
    "text": "everything",
    "start": "646860",
    "end": "649279"
  },
  {
    "text": "there is also risk of over exhausting",
    "start": "649520",
    "end": "652170"
  },
  {
    "text": "the resources by back citizen as",
    "start": "652170",
    "end": "653760"
  },
  {
    "text": "resources are now shared and therefore",
    "start": "653760",
    "end": "658260"
  },
  {
    "text": "potential outages with squirtle",
    "start": "658260",
    "end": "660810"
  },
  {
    "text": "balancing infrastructure we came up with",
    "start": "660810",
    "end": "663270"
  },
  {
    "text": "what we call H direct setup is basically",
    "start": "663270",
    "end": "665880"
  },
  {
    "text": "we are exposing our proxy instances",
    "start": "665880",
    "end": "667920"
  },
  {
    "text": "directly to the public internet with",
    "start": "667920",
    "end": "670320"
  },
  {
    "text": "external DNS and leveraged load",
    "start": "670320",
    "end": "672180"
  },
  {
    "text": "balancing to DNS and now my colleague",
    "start": "672180",
    "end": "676320"
  },
  {
    "text": "Alex will tell you more about the",
    "start": "676320",
    "end": "677850"
  },
  {
    "text": "migration process thank you hello",
    "start": "677850",
    "end": "685650"
  },
  {
    "start": "682000",
    "end": "682000"
  },
  {
    "text": "everyone so I am going to be talking",
    "start": "685650",
    "end": "688620"
  },
  {
    "text": "about the steps for the migration like",
    "start": "688620",
    "end": "691680"
  },
  {
    "text": "what we did in what order we're going to",
    "start": "691680",
    "end": "693630"
  },
  {
    "text": "start with the going over the goals we",
    "start": "693630",
    "end": "695580"
  },
  {
    "text": "set for dem aggression before we even",
    "start": "695580",
    "end": "697050"
  },
  {
    "text": "started so the first goal we had was",
    "start": "697050",
    "end": "701190"
  },
  {
    "text": "that we wanted it to be transparent for",
    "start": "701190",
    "end": "703050"
  },
  {
    "text": "both up and down streams we",
    "start": "703050",
    "end": "704700"
  },
  {
    "text": "transparently mean that there should be",
    "start": "704700",
    "end": "706710"
  },
  {
    "text": "like no visible change once we switch",
    "start": "706710",
    "end": "708360"
  },
  {
    "text": "over to the new system this is",
    "start": "708360",
    "end": "710220"
  },
  {
    "text": "especially important for us for the up",
    "start": "710220",
    "end": "711930"
  },
  {
    "text": "streams because there's a lot of talk",
    "start": "711930",
    "end": "713280"
  },
  {
    "text": "when in Spotify about migration fatigue",
    "start": "713280",
    "end": "715710"
  },
  {
    "text": "and we're constantly moving to new",
    "start": "715710",
    "end": "717270"
  },
  {
    "text": "things so we wanted to take the burden",
    "start": "717270",
    "end": "719610"
  },
  {
    "text": "away or anyone else and just have it",
    "start": "719610",
    "end": "721860"
  },
  {
    "text": "work we wanted to target zero downtime",
    "start": "721860",
    "end": "725400"
  },
  {
    "text": "so that our end users would not see any",
    "start": "725400",
    "end": "727740"
  },
  {
    "text": "deterioration in the use of our",
    "start": "727740",
    "end": "729810"
  },
  {
    "text": "different websites and apps we wanted to",
    "start": "729810",
    "end": "734190"
  },
  {
    "text": "make sure that the migration was gradual",
    "start": "734190",
    "end": "736110"
  },
  {
    "text": "so that we moved a bit of traffic at",
    "start": "736110",
    "end": "738900"
  },
  {
    "text": "once so that if we run into any issues",
    "start": "738900",
    "end": "740250"
  },
  {
    "text": "we could it would be only localized at",
    "start": "740250",
    "end": "744330"
  },
  {
    "text": "ease one site or part of traffic that we",
    "start": "744330",
    "end": "747150"
  },
  {
    "text": "moved so not everyone would have an",
    "start": "747150",
    "end": "749010"
  },
  {
    "text": "issue and it was very important for us",
    "start": "749010",
    "end": "752520"
  },
  {
    "text": "to during this migration has some sort",
    "start": "752520",
    "end": "754260"
  },
  {
    "text": "of very easy and quick safety switch",
    "start": "754260",
    "end": "756090"
  },
  {
    "text": "like a red button you would just hit and",
    "start": "756090",
    "end": "757890"
  },
  {
    "text": "all traffic would move back to the old",
    "start": "757890",
    "end": "759840"
  },
  {
    "text": "system which we know worked this red",
    "start": "759840",
    "end": "762330"
  },
  {
    "text": "button was only a metaphorical it was",
    "start": "762330",
    "end": "763950"
  },
  {
    "text": "not actually real which is a shame we",
    "start": "763950",
    "end": "765600"
  },
  {
    "text": "could have brought it here hit it made a",
    "start": "765600",
    "end": "767490"
  },
  {
    "text": "live demo into there's some excitement",
    "start": "767490",
    "end": "768900"
  },
  {
    "text": "in the dispersant ation so the first",
    "start": "768900",
    "end": "772890"
  },
  {
    "start": "771000",
    "end": "771000"
  },
  {
    "text": "step we took after setting up the goals",
    "start": "772890",
    "end": "774720"
  },
  {
    "text": "was we wanted to put some traffic on our",
    "start": "774720",
    "end": "777270"
  },
  {
    "text": "new system and",
    "start": "777270",
    "end": "778770"
  },
  {
    "text": "learn about how it would perform and",
    "start": "778770",
    "end": "780839"
  },
  {
    "text": "operate so we wanted to start quite",
    "start": "780839",
    "end": "784020"
  },
  {
    "text": "small we needed to find something that",
    "start": "784020",
    "end": "786330"
  },
  {
    "text": "wouldn't have a big impact or big bad",
    "start": "786330",
    "end": "789149"
  },
  {
    "text": "impact on anything if something went",
    "start": "789149",
    "end": "791160"
  },
  {
    "text": "wrong so out of all of these different",
    "start": "791160",
    "end": "794730"
  },
  {
    "text": "perimeter systems we have we have a",
    "start": "794730",
    "end": "796709"
  },
  {
    "text": "separate deployment of the HTTP to our",
    "start": "796709",
    "end": "799740"
  },
  {
    "text": "custom protocol Hermus the gateway this",
    "start": "799740",
    "end": "802560"
  },
  {
    "text": "a separate deployment is only used for",
    "start": "802560",
    "end": "804450"
  },
  {
    "text": "experiments like hack projects and stuff",
    "start": "804450",
    "end": "806310"
  },
  {
    "text": "so we thought we can move this because",
    "start": "806310",
    "end": "808260"
  },
  {
    "text": "we promise much lower availability and I",
    "start": "808260",
    "end": "810720"
  },
  {
    "text": "said oh for it and it shouldn't have",
    "start": "810720",
    "end": "812490"
  },
  {
    "text": "anything related to production on it and",
    "start": "812490",
    "end": "816720"
  },
  {
    "text": "we moved this using simple DNS change no",
    "start": "816720",
    "end": "819959"
  },
  {
    "text": "like a very strong easy way to switch",
    "start": "819959",
    "end": "823380"
  },
  {
    "text": "back but every thought it was good",
    "start": "823380",
    "end": "825450"
  },
  {
    "text": "enough for this first test and it worked",
    "start": "825450",
    "end": "827610"
  },
  {
    "text": "quite well we learned a lot",
    "start": "827610",
    "end": "830000"
  },
  {
    "start": "830000",
    "end": "830000"
  },
  {
    "text": "next we needed something more",
    "start": "830000",
    "end": "832410"
  },
  {
    "text": "substantial we thought so that we could",
    "start": "832410",
    "end": "834180"
  },
  {
    "text": "prove that we can actually move the",
    "start": "834180",
    "end": "836370"
  },
  {
    "text": "websites so we decided to move the",
    "start": "836370",
    "end": "840870"
  },
  {
    "text": "Spotify Web Player which is available on",
    "start": "840870",
    "end": "843390"
  },
  {
    "text": "open Spotify Chrome so it will be today",
    "start": "843390",
    "end": "845459"
  },
  {
    "text": "it's served by envoy we decided to",
    "start": "845459",
    "end": "849540"
  },
  {
    "text": "choose this specific service because it",
    "start": "849540",
    "end": "851700"
  },
  {
    "text": "serves a significant amount of traffic",
    "start": "851700",
    "end": "853020"
  },
  {
    "text": "and the team that operates the service",
    "start": "853020",
    "end": "855450"
  },
  {
    "text": "they are based in Stockholm same office",
    "start": "855450",
    "end": "857130"
  },
  {
    "text": "as us so we could collaborate with them",
    "start": "857130",
    "end": "860270"
  },
  {
    "text": "here is where we started devising the",
    "start": "860270",
    "end": "862620"
  },
  {
    "text": "actual gradual rollout strategy",
    "start": "862620",
    "end": "864510"
  },
  {
    "text": "we'd considered a few different options",
    "start": "864510",
    "end": "867060"
  },
  {
    "text": "like redirects and other stuff but most",
    "start": "867060",
    "end": "869940"
  },
  {
    "text": "of it was it didn't feel all the",
    "start": "869940",
    "end": "872610"
  },
  {
    "text": "business needs for the different web",
    "start": "872610",
    "end": "874350"
  },
  {
    "text": "sites so in the end we decided to go by",
    "start": "874350",
    "end": "877589"
  },
  {
    "text": "using the cloud l7 load balancer that",
    "start": "877589",
    "end": "879839"
  },
  {
    "text": "Google has we migrated the old legacy",
    "start": "879839",
    "end": "883500"
  },
  {
    "text": "system from the regional TCP load",
    "start": "883500",
    "end": "885180"
  },
  {
    "text": "balancers to sit behind the l7 dot",
    "start": "885180",
    "end": "887160"
  },
  {
    "text": "balancer and by doing this we could use",
    "start": "887160",
    "end": "889440"
  },
  {
    "text": "the API is available to move traffic",
    "start": "889440",
    "end": "892110"
  },
  {
    "text": "from the old system to the new system",
    "start": "892110",
    "end": "894050"
  },
  {
    "text": "and this also gave us a fast safety",
    "start": "894050",
    "end": "897120"
  },
  {
    "text": "switch we wanted because when you make",
    "start": "897120",
    "end": "899040"
  },
  {
    "text": "this IP I call it except a few minutes",
    "start": "899040",
    "end": "900870"
  },
  {
    "text": "and traffic will go back to the old",
    "start": "900870",
    "end": "902190"
  },
  {
    "text": "system",
    "start": "902190",
    "end": "904339"
  },
  {
    "text": "and initially we were only running this",
    "start": "904980",
    "end": "907690"
  },
  {
    "text": "web player during office hours on the",
    "start": "907690",
    "end": "909759"
  },
  {
    "text": "Envoy solution the reasoning for this",
    "start": "909759",
    "end": "911860"
  },
  {
    "text": "was that we were not we were not quite",
    "start": "911860",
    "end": "916420"
  },
  {
    "text": "yet sure how we wanted to set up our",
    "start": "916420",
    "end": "918279"
  },
  {
    "text": "monitoring and alerting like which",
    "start": "918279",
    "end": "919720"
  },
  {
    "text": "signals to alert on and what press",
    "start": "919720",
    "end": "921459"
  },
  {
    "text": "thresholds to use as we wanted to gain",
    "start": "921459",
    "end": "924129"
  },
  {
    "text": "some more insights into that before we",
    "start": "924129",
    "end": "925810"
  },
  {
    "text": "ran it's 24/7 so once we had moved the",
    "start": "925810",
    "end": "932439"
  },
  {
    "start": "928000",
    "end": "928000"
  },
  {
    "text": "web player may we're happy with the",
    "start": "932439",
    "end": "933670"
  },
  {
    "text": "state of it there was of course about",
    "start": "933670",
    "end": "935170"
  },
  {
    "text": "over 100 more services to move so we had",
    "start": "935170",
    "end": "938500"
  },
  {
    "text": "to devise a strategy for doing that so",
    "start": "938500",
    "end": "942790"
  },
  {
    "text": "as my colleague Eric mentioned earlier",
    "start": "942790",
    "end": "945040"
  },
  {
    "text": "there were about 25 features that",
    "start": "945040",
    "end": "946899"
  },
  {
    "text": "developers come to configure for their",
    "start": "946899",
    "end": "948490"
  },
  {
    "text": "different services the expose on the old",
    "start": "948490",
    "end": "950110"
  },
  {
    "text": "system so we had to do it make an",
    "start": "950110",
    "end": "952269"
  },
  {
    "text": "inventory of these and realize how we",
    "start": "952269",
    "end": "953860"
  },
  {
    "text": "would implement them in Envoy while",
    "start": "953860",
    "end": "958120"
  },
  {
    "text": "doing this inventory we were also very",
    "start": "958120",
    "end": "959649"
  },
  {
    "text": "conscious about can we get rid of some",
    "start": "959649",
    "end": "961959"
  },
  {
    "text": "of these features do we really need all",
    "start": "961959",
    "end": "963699"
  },
  {
    "text": "of them can we do them in a simpler way",
    "start": "963699",
    "end": "965589"
  },
  {
    "text": "so we made a lot of effort into reducing",
    "start": "965589",
    "end": "968529"
  },
  {
    "text": "the configuration service and we also",
    "start": "968529",
    "end": "973569"
  },
  {
    "text": "finalized the monitoring and alerting so",
    "start": "973569",
    "end": "975639"
  },
  {
    "text": "that we had more confidence that we",
    "start": "975639",
    "end": "977889"
  },
  {
    "text": "would catch errors early and in an",
    "start": "977889",
    "end": "980199"
  },
  {
    "text": "automatic way when we moved the rest of",
    "start": "980199",
    "end": "981939"
  },
  {
    "text": "the traffic so what we ended up doing",
    "start": "981939",
    "end": "988389"
  },
  {
    "start": "985000",
    "end": "985000"
  },
  {
    "text": "was we did indeed get rid of a lot of",
    "start": "988389",
    "end": "990279"
  },
  {
    "text": "the different configuration parameters",
    "start": "990279",
    "end": "992259"
  },
  {
    "text": "like was mentioned some of them was just",
    "start": "992259",
    "end": "994810"
  },
  {
    "text": "a know up they didn't do anything",
    "start": "994810",
    "end": "996430"
  },
  {
    "text": "anymore or they were duplicates the",
    "start": "996430",
    "end": "1001199"
  },
  {
    "text": "majority of services in the old system",
    "start": "1001199",
    "end": "1003240"
  },
  {
    "text": "they used a subset of these different",
    "start": "1003240",
    "end": "1005790"
  },
  {
    "text": "configuration parameters which was a bit",
    "start": "1005790",
    "end": "1008550"
  },
  {
    "text": "simpler and more straightforward so we",
    "start": "1008550",
    "end": "1010860"
  },
  {
    "text": "could migrate most stuff with the",
    "start": "1010860",
    "end": "1012420"
  },
  {
    "text": "scripts so about 75% of the services we",
    "start": "1012420",
    "end": "1017069"
  },
  {
    "text": "migrated with the simple scripts the",
    "start": "1017069",
    "end": "1019379"
  },
  {
    "text": "remaining 25% all were a bits no play",
    "start": "1019379",
    "end": "1021720"
  },
  {
    "text": "key and use different features so we",
    "start": "1021720",
    "end": "1024659"
  },
  {
    "text": "thought it was simpler to simply port",
    "start": "1024659",
    "end": "1027298"
  },
  {
    "text": "them manually and have peer reviewed and",
    "start": "1027299",
    "end": "1029490"
  },
  {
    "text": "add more edge cases of the scripts",
    "start": "1029490",
    "end": "1033408"
  },
  {
    "text": "one consequence of how we decided to do",
    "start": "1034319",
    "end": "1038730"
  },
  {
    "text": "the gradual rollout that we ran into",
    "start": "1038730",
    "end": "1040709"
  },
  {
    "text": "here was that we did not quite have the",
    "start": "1040709",
    "end": "1043409"
  },
  {
    "text": "granularity we wanted when choosing",
    "start": "1043409",
    "end": "1045808"
  },
  {
    "text": "which traffic to move so it ended up",
    "start": "1045809",
    "end": "1048600"
  },
  {
    "text": "being a bit of an either/or rollout if I",
    "start": "1048600",
    "end": "1050640"
  },
  {
    "text": "removed some of all traffic or all of",
    "start": "1050640",
    "end": "1054570"
  },
  {
    "text": "all traffic to the new system instead of",
    "start": "1054570",
    "end": "1056549"
  },
  {
    "text": "a little bit the short of sort of",
    "start": "1056549",
    "end": "1060809"
  },
  {
    "text": "showcases this is sort of how their",
    "start": "1060809",
    "end": "1062390"
  },
  {
    "text": "setup looked like you had your Google",
    "start": "1062390",
    "end": "1065700"
  },
  {
    "text": "load balancer and behind it you had your",
    "start": "1065700",
    "end": "1067830"
  },
  {
    "text": "two different system the old one and the",
    "start": "1067830",
    "end": "1070139"
  },
  {
    "text": "new one and it sort of shut off traffic",
    "start": "1070139",
    "end": "1072360"
  },
  {
    "text": "to one of them and then it would spill",
    "start": "1072360",
    "end": "1074610"
  },
  {
    "text": "over to their other one so but anyway we",
    "start": "1074610",
    "end": "1080730"
  },
  {
    "start": "1077000",
    "end": "1077000"
  },
  {
    "text": "moved all the traffic and what we ended",
    "start": "1080730",
    "end": "1084840"
  },
  {
    "text": "up with was that we now serve the same",
    "start": "1084840",
    "end": "1086309"
  },
  {
    "text": "traffic as before but with much fewer",
    "start": "1086309",
    "end": "1088740"
  },
  {
    "text": "course so we have a cost saving for the",
    "start": "1088740",
    "end": "1092490"
  },
  {
    "text": "cloud computing port a caveat here is",
    "start": "1092490",
    "end": "1095070"
  },
  {
    "text": "that the old system is seven years old",
    "start": "1095070",
    "end": "1097740"
  },
  {
    "text": "and we moved to the cloud that was like",
    "start": "1097740",
    "end": "1100200"
  },
  {
    "text": "three years ago and when we moved",
    "start": "1100200",
    "end": "1102450"
  },
  {
    "text": "someone probably just over provision",
    "start": "1102450",
    "end": "1103799"
  },
  {
    "text": "this old system and didn't think much",
    "start": "1103799",
    "end": "1107730"
  },
  {
    "text": "about it so we still save some money but",
    "start": "1107730",
    "end": "1110909"
  },
  {
    "text": "yeah one cool thing is that we got the",
    "start": "1110909",
    "end": "1115440"
  },
  {
    "text": "projects and we could announce it being",
    "start": "1115440",
    "end": "1117720"
  },
  {
    "text": "GA for HTTP up streams before the",
    "start": "1117720",
    "end": "1120450"
  },
  {
    "text": "Spotify hack week which all of R&D",
    "start": "1120450",
    "end": "1122220"
  },
  {
    "text": "participates in which means that we got",
    "start": "1122220",
    "end": "1124980"
  },
  {
    "text": "a lot of new users on it during this",
    "start": "1124980",
    "end": "1126419"
  },
  {
    "text": "week and we got a lot of really good",
    "start": "1126419",
    "end": "1127679"
  },
  {
    "text": "feedback it seems that we're doing",
    "start": "1127679",
    "end": "1129779"
  },
  {
    "text": "something correct here people are quite",
    "start": "1129779",
    "end": "1132240"
  },
  {
    "text": "happy about how it's more intuitive to",
    "start": "1132240",
    "end": "1133710"
  },
  {
    "text": "configure services which is really good",
    "start": "1133710",
    "end": "1137510"
  },
  {
    "text": "and this red button I mentioned ended up",
    "start": "1137570",
    "end": "1140279"
  },
  {
    "text": "being very very useful during the",
    "start": "1140279",
    "end": "1142440"
  },
  {
    "text": "migration like if sort of the procedure",
    "start": "1142440",
    "end": "1145980"
  },
  {
    "text": "was that someone would come into our",
    "start": "1145980",
    "end": "1147330"
  },
  {
    "text": "slack channel say hey is something wrong",
    "start": "1147330",
    "end": "1149669"
  },
  {
    "text": "and everyone would like immediately hit",
    "start": "1149669",
    "end": "1151320"
  },
  {
    "text": "the button and then we would ask you",
    "start": "1151320",
    "end": "1153450"
  },
  {
    "text": "we're looking into it and a few minutes",
    "start": "1153450",
    "end": "1155190"
  },
  {
    "text": "after did it fix itself yeah it fixed",
    "start": "1155190",
    "end": "1157860"
  },
  {
    "text": "itself",
    "start": "1157860",
    "end": "1158220"
  },
  {
    "text": "which was",
    "start": "1158220",
    "end": "1159610"
  },
  {
    "text": "very useful so please welcome my",
    "start": "1159610",
    "end": "1163820"
  },
  {
    "text": "colleague nostalgic back on stage as he",
    "start": "1163820",
    "end": "1165500"
  },
  {
    "text": "will talk about the learnings and some",
    "start": "1165500",
    "end": "1167330"
  },
  {
    "text": "of the problems that cost is getting of",
    "start": "1167330",
    "end": "1169640"
  },
  {
    "text": "the red button hello again",
    "start": "1169640",
    "end": "1176720"
  },
  {
    "start": "1172000",
    "end": "1172000"
  },
  {
    "text": "so alongside the migration we didn't",
    "start": "1176720",
    "end": "1179630"
  },
  {
    "text": "achieve our dream of zero down time we",
    "start": "1179630",
    "end": "1182030"
  },
  {
    "text": "actually broke our three and a half 9s",
    "start": "1182030",
    "end": "1183980"
  },
  {
    "text": "monthly SLO and used up the error budget",
    "start": "1183980",
    "end": "1186970"
  },
  {
    "text": "our team experienced multiple incidents",
    "start": "1186970",
    "end": "1189410"
  },
  {
    "text": "which were caused by human factor and",
    "start": "1189410",
    "end": "1192020"
  },
  {
    "text": "manual approach and the scripts by not",
    "start": "1192020",
    "end": "1194090"
  },
  {
    "text": "first in some corner cases and also",
    "start": "1194090",
    "end": "1196240"
  },
  {
    "text": "guilt a lack of insights into Google",
    "start": "1196240",
    "end": "1198680"
  },
  {
    "text": "cloud load balancing functionality we",
    "start": "1198680",
    "end": "1203150"
  },
  {
    "text": "also bumped into some unexpected failure",
    "start": "1203150",
    "end": "1204920"
  },
  {
    "text": "modes one example is men Excel service",
    "start": "1204920",
    "end": "1207800"
  },
  {
    "text": "was overloaded our envoy aprox instances",
    "start": "1207800",
    "end": "1211040"
  },
  {
    "text": "bro configure to return forbidden or",
    "start": "1211040",
    "end": "1213080"
  },
  {
    "text": "wishes a client a type of error code so",
    "start": "1213080",
    "end": "1215750"
  },
  {
    "text": "that gia fielded and directed traffic",
    "start": "1215750",
    "end": "1217610"
  },
  {
    "text": "out of our loaded proxy instances also",
    "start": "1217610",
    "end": "1223070"
  },
  {
    "text": "we expected to have suffered to work out",
    "start": "1223070",
    "end": "1225200"
  },
  {
    "text": "of the box that are moving the arab",
    "start": "1225200",
    "end": "1226430"
  },
  {
    "text": "sockets traffic but we actually had to",
    "start": "1226430",
    "end": "1228890"
  },
  {
    "text": "enable web sockets manually and it",
    "start": "1228890",
    "end": "1231020"
  },
  {
    "text": "turned out that and boy didn't fully",
    "start": "1231020",
    "end": "1232520"
  },
  {
    "text": "followed i receive is the regards of",
    "start": "1232520",
    "end": "1234260"
  },
  {
    "text": "content land header and it was a quite",
    "start": "1234260",
    "end": "1236810"
  },
  {
    "text": "confusing to discover during the",
    "start": "1236810",
    "end": "1238310"
  },
  {
    "text": "troubleshooting we also expected",
    "start": "1238310",
    "end": "1242990"
  },
  {
    "text": "performance to improve significantly but",
    "start": "1242990",
    "end": "1245060"
  },
  {
    "text": "it was a surprise for us it turned out",
    "start": "1245060",
    "end": "1247130"
  },
  {
    "text": "to be order of magnitude lower or two",
    "start": "1247130",
    "end": "1249710"
  },
  {
    "text": "compared to of publicly available",
    "start": "1249710",
    "end": "1251210"
  },
  {
    "text": "benchmarks so we did run a production",
    "start": "1251210",
    "end": "1254120"
  },
  {
    "text": "load test on a 10-8 core GCP instances",
    "start": "1254120",
    "end": "1257870"
  },
  {
    "text": "for android machines with a vanilla",
    "start": "1257870",
    "end": "1259580"
  },
  {
    "text": "setup and after that yeah and we put",
    "start": "1259580",
    "end": "1263420"
  },
  {
    "text": "like a production lot of 600 QPS and",
    "start": "1263420",
    "end": "1266150"
  },
  {
    "text": "after that we saturated the course and",
    "start": "1266150",
    "end": "1268070"
  },
  {
    "text": "reached 100",
    "start": "1268070",
    "end": "1269540"
  },
  {
    "text": "CPU usage and finally we did the",
    "start": "1269540",
    "end": "1271790"
  },
  {
    "text": "breakdown and it turns out that anvil",
    "start": "1271790",
    "end": "1274070"
  },
  {
    "text": "was using 75% and the rest was used by",
    "start": "1274070",
    "end": "1277100"
  },
  {
    "text": "acts of service",
    "start": "1277100",
    "end": "1279940"
  },
  {
    "start": "1280000",
    "end": "1280000"
  },
  {
    "text": "so alongside the migration we also",
    "start": "1280600",
    "end": "1283730"
  },
  {
    "text": "encountered some on buybacks and about",
    "start": "1283730",
    "end": "1287060"
  },
  {
    "text": "patches upstream one example is a bug",
    "start": "1287060",
    "end": "1290330"
  },
  {
    "text": "with",
    "start": "1290330",
    "end": "1291230"
  },
  {
    "text": "filter so whenever user wanted to",
    "start": "1291230",
    "end": "1293360"
  },
  {
    "text": "configure their out with a direct or a",
    "start": "1293360",
    "end": "1295610"
  },
  {
    "text": "direct response action the Excel filter",
    "start": "1295610",
    "end": "1298669"
  },
  {
    "text": "was just working in loop mode it was",
    "start": "1298669",
    "end": "1300590"
  },
  {
    "text": "skipped so we fixed that and one more",
    "start": "1300590",
    "end": "1304010"
  },
  {
    "text": "example is when our team was working",
    "start": "1304010",
    "end": "1306590"
  },
  {
    "text": "with your PC house checking for the up",
    "start": "1306590",
    "end": "1308690"
  },
  {
    "text": "streams and as our infrastructure is",
    "start": "1308690",
    "end": "1311480"
  },
  {
    "text": "enforcing your PC deadlines everywhere",
    "start": "1311480",
    "end": "1314510"
  },
  {
    "text": "we found out that Android wasn't full",
    "start": "1314510",
    "end": "1316669"
  },
  {
    "text": "propagating that so we fixed that as",
    "start": "1316669",
    "end": "1318500"
  },
  {
    "text": "well yeah and so far we have just",
    "start": "1318500",
    "end": "1327019"
  },
  {
    "start": "1324000",
    "end": "1324000"
  },
  {
    "text": "migrated HTTP and HTTPS traffic but we",
    "start": "1327019",
    "end": "1330139"
  },
  {
    "text": "have lots of things planned I have and",
    "start": "1330139",
    "end": "1331669"
  },
  {
    "text": "the main task for us is to move the rest",
    "start": "1331669",
    "end": "1334309"
  },
  {
    "text": "of traffic behind edge or new perimeter",
    "start": "1334309",
    "end": "1336080"
  },
  {
    "text": "and which details RPC and persistent",
    "start": "1336080",
    "end": "1339830"
  },
  {
    "text": "connections we would also like to run",
    "start": "1339830",
    "end": "1343010"
  },
  {
    "text": "our systems on kubernetes as fortifies",
    "start": "1343010",
    "end": "1345440"
  },
  {
    "text": "moment hours from our infrastructure to",
    "start": "1345440",
    "end": "1347389"
  },
  {
    "text": "reduce the cost and maintenance lot yeah",
    "start": "1347389",
    "end": "1351740"
  },
  {
    "text": "and we would love to remove her header",
    "start": "1351740",
    "end": "1353149"
  },
  {
    "text": "decoration with recursive JP had a",
    "start": "1353149",
    "end": "1355970"
  },
  {
    "text": "decoration from EXO service and into",
    "start": "1355970",
    "end": "1358330"
  },
  {
    "text": "dedicated amber extension and they were",
    "start": "1358330",
    "end": "1363169"
  },
  {
    "text": "thinking about doing performance tuning",
    "start": "1363169",
    "end": "1364760"
  },
  {
    "text": "as it not satisfactory for us and we",
    "start": "1364760",
    "end": "1367039"
  },
  {
    "text": "have already identified the potential",
    "start": "1367039",
    "end": "1368630"
  },
  {
    "text": "areas of improvement we would also like",
    "start": "1368630",
    "end": "1372409"
  },
  {
    "text": "to support more authorization schemes",
    "start": "1372409",
    "end": "1374179"
  },
  {
    "text": "for our customers such as I am Ge Ge",
    "start": "1374179",
    "end": "1377029"
  },
  {
    "text": "octa and our custom authorization",
    "start": "1377029",
    "end": "1379850"
  },
  {
    "text": "schemes rate-limiting has been a very",
    "start": "1379850",
    "end": "1384370"
  },
  {
    "text": "common ask from our customers and it",
    "start": "1384370",
    "end": "1386899"
  },
  {
    "text": "hasn't been supported in the old system",
    "start": "1386899",
    "end": "1388490"
  },
  {
    "text": "as well and lastly we were thinking",
    "start": "1388490",
    "end": "1391580"
  },
  {
    "text": "about exploring adaptive concurrency for",
    "start": "1391580",
    "end": "1393649"
  },
  {
    "text": "reliability and this is it from us thank",
    "start": "1393649",
    "end": "1398720"
  },
  {
    "start": "1396000",
    "end": "1396000"
  },
  {
    "text": "you here you could find our context and",
    "start": "1398720",
    "end": "1401779"
  },
  {
    "text": "in case you have any questions for us",
    "start": "1401779",
    "end": "1403340"
  },
  {
    "text": "please come and find us at cube Khan we",
    "start": "1403340",
    "end": "1406100"
  },
  {
    "text": "would like to have discussions and we",
    "start": "1406100",
    "end": "1407840"
  },
  {
    "text": "will also be happy to hear about your",
    "start": "1407840",
    "end": "1410090"
  },
  {
    "text": "experiences",
    "start": "1410090",
    "end": "1412630"
  },
  {
    "text": "[Applause]",
    "start": "1412630",
    "end": "1419650"
  }
]