[
  {
    "start": "0",
    "end": "98000"
  },
  {
    "text": "hello everyone and welcome to a talk on",
    "start": "30",
    "end": "2700"
  },
  {
    "text": "open policy agent",
    "start": "2700",
    "end": "4770"
  },
  {
    "text": "my name is la middlin BR I'm a platform",
    "start": "4770",
    "end": "6779"
  },
  {
    "text": "architected pivotal and my co-presenter",
    "start": "6779",
    "end": "9240"
  },
  {
    "text": "today is also from pivotal mark i'm mark",
    "start": "9240",
    "end": "12210"
  },
  {
    "text": "perry come also from pivotal i'm also a",
    "start": "12210",
    "end": "14009"
  },
  {
    "text": "platform architect thank you open policy",
    "start": "14009",
    "end": "19980"
  },
  {
    "text": "agent is a general purpose policy engine",
    "start": "19980",
    "end": "22350"
  },
  {
    "text": "and as part of our job mark and I get to",
    "start": "22350",
    "end": "28230"
  },
  {
    "text": "speak to a lot of customers and",
    "start": "28230",
    "end": "30510"
  },
  {
    "text": "prospects who are planning to adopt",
    "start": "30510",
    "end": "32430"
  },
  {
    "text": "kubernetes so there is this one question",
    "start": "32430",
    "end": "35700"
  },
  {
    "text": "that comes up always is how do we",
    "start": "35700",
    "end": "37680"
  },
  {
    "text": "implement policies custom policies on",
    "start": "37680",
    "end": "40230"
  },
  {
    "text": "kubernetes policies which they were used",
    "start": "40230",
    "end": "42899"
  },
  {
    "text": "to implementing within their",
    "start": "42899",
    "end": "44989"
  },
  {
    "text": "organization probably for running their",
    "start": "44989",
    "end": "47219"
  },
  {
    "text": "apps other apps how do we do that on",
    "start": "47219",
    "end": "49590"
  },
  {
    "text": "kubernetes right before I get into the",
    "start": "49590",
    "end": "53030"
  },
  {
    "text": "crux of the talk how many of you are",
    "start": "53030",
    "end": "56610"
  },
  {
    "text": "quick show of hands how many of you have",
    "start": "56610",
    "end": "58260"
  },
  {
    "text": "used open policy agent before nice so",
    "start": "58260",
    "end": "64948"
  },
  {
    "text": "the agenda for today is it's an",
    "start": "64949",
    "end": "66689"
  },
  {
    "text": "introduction to open policy agent mark",
    "start": "66689",
    "end": "69630"
  },
  {
    "text": "will be introducing open policy agent",
    "start": "69630",
    "end": "72780"
  },
  {
    "text": "it's also called as OPA and he'll be",
    "start": "72780",
    "end": "75780"
  },
  {
    "text": "talking about the architecture of OPA",
    "start": "75780",
    "end": "78119"
  },
  {
    "text": "and how does it fit in with kubernetes",
    "start": "78119",
    "end": "80100"
  },
  {
    "text": "right and after that I will be talking",
    "start": "80100",
    "end": "83700"
  },
  {
    "text": "about Rhaego",
    "start": "83700",
    "end": "84900"
  },
  {
    "text": "which is a policy language which is used",
    "start": "84900",
    "end": "87150"
  },
  {
    "text": "to order your policies and then do a",
    "start": "87150",
    "end": "90450"
  },
  {
    "text": "demo on how it all works together and",
    "start": "90450",
    "end": "93540"
  },
  {
    "text": "hopefully the demo works what do you",
    "start": "93540",
    "end": "95880"
  },
  {
    "text": "Mike",
    "start": "95880",
    "end": "96299"
  },
  {
    "text": "okay thanks I mean so I'm gonna talk a",
    "start": "96299",
    "end": "100229"
  },
  {
    "start": "98000",
    "end": "410000"
  },
  {
    "text": "little bit about what opera is I'm gonna",
    "start": "100229",
    "end": "103500"
  },
  {
    "text": "talk a little bit about what policies",
    "start": "103500",
    "end": "104759"
  },
  {
    "text": "are and I'm gonna talk a little bit",
    "start": "104759",
    "end": "106619"
  },
  {
    "text": "about the architecture of oak there's a",
    "start": "106619",
    "end": "109320"
  },
  {
    "text": "few different versions of it so I'm",
    "start": "109320",
    "end": "110790"
  },
  {
    "text": "going to sort of outline the difference",
    "start": "110790",
    "end": "113130"
  },
  {
    "text": "between those versions so I'll start",
    "start": "113130",
    "end": "115950"
  },
  {
    "text": "with OPA it's a what it is it's a",
    "start": "115950",
    "end": "118649"
  },
  {
    "text": "unified policy toolset across the cloud",
    "start": "118649",
    "end": "121530"
  },
  {
    "text": "native stack which is a bit of a",
    "start": "121530",
    "end": "123600"
  },
  {
    "text": "mouthful and so we're going to kind of",
    "start": "123600",
    "end": "125820"
  },
  {
    "text": "break that down a little bit into a",
    "start": "125820",
    "end": "127469"
  },
  {
    "text": "little bit",
    "start": "127469",
    "end": "128080"
  },
  {
    "text": "or easier to understand what it is so",
    "start": "128080",
    "end": "131230"
  },
  {
    "text": "it's a general purpose policy engine so",
    "start": "131230",
    "end": "133630"
  },
  {
    "text": "what a policy engine kind of does so",
    "start": "133630",
    "end": "135550"
  },
  {
    "text": "guess is it takes some information from",
    "start": "135550",
    "end": "140170"
  },
  {
    "text": "anna kubernetes point of view it takes",
    "start": "140170",
    "end": "142090"
  },
  {
    "text": "it from a resource and we'll pass that",
    "start": "142090",
    "end": "146620"
  },
  {
    "text": "through a policy engine and can either",
    "start": "146620",
    "end": "148450"
  },
  {
    "text": "mutate that resource or it can reject",
    "start": "148450",
    "end": "152500"
  },
  {
    "text": "that resource so if you think about the",
    "start": "152500",
    "end": "155260"
  },
  {
    "text": "way that kubernetes works it's obviously",
    "start": "155260",
    "end": "157240"
  },
  {
    "text": "it's a declarative system we have",
    "start": "157240",
    "end": "158830"
  },
  {
    "text": "resources they're all defined generally",
    "start": "158830",
    "end": "161680"
  },
  {
    "text": "in nominal files and then we have",
    "start": "161680",
    "end": "164050"
  },
  {
    "text": "controllers that kind of watch those",
    "start": "164050",
    "end": "165460"
  },
  {
    "text": "resources and they keep your cuban",
    "start": "165460",
    "end": "168430"
  },
  {
    "text": "eddie's system running ask your",
    "start": "168430",
    "end": "171460"
  },
  {
    "text": "resources so one of the things to update",
    "start": "171460",
    "end": "174820"
  },
  {
    "text": "this you go through obviously the Cuban",
    "start": "174820",
    "end": "177070"
  },
  {
    "text": "Eddy's API and one of the things that",
    "start": "177070",
    "end": "179350"
  },
  {
    "text": "kubernetes api has Admission controllers",
    "start": "179350",
    "end": "183550"
  },
  {
    "text": "and we'll talk about I'll talk a little",
    "start": "183550",
    "end": "184660"
  },
  {
    "text": "bit about that as we go through and",
    "start": "184660",
    "end": "186970"
  },
  {
    "text": "those emission controllers will allow",
    "start": "186970",
    "end": "189010"
  },
  {
    "text": "you to basically mutate and validate",
    "start": "189010",
    "end": "192540"
  },
  {
    "text": "your your resource updates and this is",
    "start": "192540",
    "end": "197260"
  },
  {
    "text": "really where all perfect saying it will",
    "start": "197260",
    "end": "198580"
  },
  {
    "text": "come in and it will it will hook out",
    "start": "198580",
    "end": "201010"
  },
  {
    "text": "from those web hooks effectively and it",
    "start": "201010",
    "end": "203980"
  },
  {
    "text": "will validate what you're doing so you",
    "start": "203980",
    "end": "206020"
  },
  {
    "text": "can use this to kind of enforce",
    "start": "206020",
    "end": "207820"
  },
  {
    "text": "governance rules and you can use it for",
    "start": "207820",
    "end": "211510"
  },
  {
    "text": "things for kind of all sorts of stuff so",
    "start": "211510",
    "end": "214060"
  },
  {
    "text": "if you think of any that need to find a",
    "start": "214060",
    "end": "215530"
  },
  {
    "text": "resource you can kind of pretty much you",
    "start": "215530",
    "end": "218709"
  },
  {
    "text": "can kind of pretty much validate that so",
    "start": "218709",
    "end": "220420"
  },
  {
    "text": "things like which registries to pull",
    "start": "220420",
    "end": "221920"
  },
  {
    "text": "from network policies that kind of stuff",
    "start": "221920",
    "end": "224890"
  },
  {
    "text": "anything you would define and container",
    "start": "224890",
    "end": "227200"
  },
  {
    "text": "capability so you know what kind of the",
    "start": "227200",
    "end": "230050"
  },
  {
    "text": "size of CPU that kind of stuff you have",
    "start": "230050",
    "end": "231820"
  },
  {
    "text": "in it so that's all that kind of stuff",
    "start": "231820",
    "end": "235060"
  },
  {
    "text": "you can easily validate and you can",
    "start": "235060",
    "end": "238150"
  },
  {
    "text": "mutate up to a point and I'll talk a",
    "start": "238150",
    "end": "239530"
  },
  {
    "text": "little bit about that as we go through",
    "start": "239530",
    "end": "241000"
  },
  {
    "text": "so the policies are defined in DSL",
    "start": "241000",
    "end": "243340"
  },
  {
    "text": "called regal which I think I mentioned",
    "start": "243340",
    "end": "245709"
  },
  {
    "text": "in his introduction so he's going to",
    "start": "245709",
    "end": "247600"
  },
  {
    "text": "talk a little bit more about that later",
    "start": "247600",
    "end": "249730"
  },
  {
    "text": "in the talk but it's effectively a DSL",
    "start": "249730",
    "end": "255910"
  },
  {
    "text": "that processes effectively a resource I",
    "start": "255910",
    "end": "258100"
  },
  {
    "text": "guess to check various things on it",
    "start": "258100",
    "end": "261060"
  },
  {
    "text": "and provide whether you can whether it's",
    "start": "261060",
    "end": "264000"
  },
  {
    "text": "you know invalid or on my guest you",
    "start": "264000",
    "end": "267840"
  },
  {
    "text": "store the Regal and config maps so",
    "start": "267840",
    "end": "271080"
  },
  {
    "text": "pretty easy to set up just goes and",
    "start": "271080",
    "end": "272910"
  },
  {
    "text": "takes inky like everything else except",
    "start": "272910",
    "end": "274800"
  },
  {
    "text": "and in version 3 there's also custom",
    "start": "274800",
    "end": "279000"
  },
  {
    "text": "resources around that as well we'll talk",
    "start": "279000",
    "end": "280440"
  },
  {
    "text": "a little bit about as we go through the",
    "start": "280440",
    "end": "282330"
  },
  {
    "text": "difference and their architectures",
    "start": "282330",
    "end": "283620"
  },
  {
    "text": "between the various versions of of OPA",
    "start": "283620",
    "end": "287570"
  },
  {
    "text": "so a couple of concrete examples of a",
    "start": "287570",
    "end": "289919"
  },
  {
    "text": "ser policy it might be that we come up",
    "start": "289919",
    "end": "291330"
  },
  {
    "text": "to holiday period at the moment so it",
    "start": "291330",
    "end": "292770"
  },
  {
    "text": "might be something like you know you",
    "start": "292770",
    "end": "294840"
  },
  {
    "text": "might have a production black-eye period",
    "start": "294840",
    "end": "296280"
  },
  {
    "text": "you could use a you could actually set",
    "start": "296280",
    "end": "297840"
  },
  {
    "text": "up a policy for that to say that no one",
    "start": "297840",
    "end": "300510"
  },
  {
    "text": "completion - or no one can run",
    "start": "300510",
    "end": "302850"
  },
  {
    "text": "deployments in production you might have",
    "start": "302850",
    "end": "305550"
  },
  {
    "text": "some GPU nodes in your cluster that you",
    "start": "305550",
    "end": "308700"
  },
  {
    "text": "want to stop anyone using apart from",
    "start": "308700",
    "end": "310860"
  },
  {
    "text": "seeing your data science team so that",
    "start": "310860",
    "end": "312419"
  },
  {
    "text": "would be kind of another type of thing",
    "start": "312419",
    "end": "313740"
  },
  {
    "text": "so this is kind of things you can do and",
    "start": "313740",
    "end": "316470"
  },
  {
    "text": "I think finally there I've got you might",
    "start": "316470",
    "end": "318360"
  },
  {
    "text": "have a check to see the whole",
    "start": "318360",
    "end": "320430"
  },
  {
    "text": "internet-facing services are using HTTP",
    "start": "320430",
    "end": "323580"
  },
  {
    "text": "so I think the example that emits gonna",
    "start": "323580",
    "end": "327720"
  },
  {
    "text": "go through later in the talk is actually",
    "start": "327720",
    "end": "330210"
  },
  {
    "text": "around restricting which container",
    "start": "330210",
    "end": "334169"
  },
  {
    "text": "registry so you can pull from right yeah",
    "start": "334169",
    "end": "335610"
  },
  {
    "text": "yeah ok so I'm going to go through so",
    "start": "335610",
    "end": "339210"
  },
  {
    "text": "kind of quick overview of what it is",
    "start": "339210",
    "end": "340650"
  },
  {
    "text": "we'll quickly go through the sort of",
    "start": "340650",
    "end": "342450"
  },
  {
    "text": "architecture and we'll start at v1 or",
    "start": "342450",
    "end": "346050"
  },
  {
    "text": "actually we'll talk about mission",
    "start": "346050",
    "end": "347039"
  },
  {
    "text": "controllers first",
    "start": "347039",
    "end": "348120"
  },
  {
    "text": "so I mentioned mission controllers",
    "start": "348120",
    "end": "349740"
  },
  {
    "text": "earlier and just to give you a quick",
    "start": "349740",
    "end": "351570"
  },
  {
    "text": "overview of what they are and from the",
    "start": "351570",
    "end": "353850"
  },
  {
    "text": "kubernetes documentation here which I'll",
    "start": "353850",
    "end": "356010"
  },
  {
    "text": "read out for you is an administrator and",
    "start": "356010",
    "end": "357450"
  },
  {
    "text": "admission control is a piece of code",
    "start": "357450",
    "end": "359010"
  },
  {
    "text": "that intercepts Quest the Cuban Eddy's",
    "start": "359010",
    "end": "361110"
  },
  {
    "text": "API server prior to persistence the",
    "start": "361110",
    "end": "363060"
  },
  {
    "text": "object but after the requesters",
    "start": "363060",
    "end": "364380"
  },
  {
    "text": "authenticate and authorize so that's",
    "start": "364380",
    "end": "366389"
  },
  {
    "text": "quite key so a she request comes into",
    "start": "366389",
    "end": "368789"
  },
  {
    "text": "the API server it's going to get then ok",
    "start": "368789",
    "end": "370590"
  },
  {
    "text": "that's going to get authorized then it's",
    "start": "370590",
    "end": "372539"
  },
  {
    "text": "going to go to what we call",
    "start": "372539",
    "end": "373770"
  },
  {
    "text": "it's a mutating web hook that's going to",
    "start": "373770",
    "end": "376590"
  },
  {
    "text": "pass out to OPA",
    "start": "376590",
    "end": "377580"
  },
  {
    "text": "so you might have something on there",
    "start": "377580",
    "end": "379650"
  },
  {
    "text": "like you have labels for instance then",
    "start": "379650",
    "end": "381840"
  },
  {
    "text": "you need to have a required labels on",
    "start": "381840",
    "end": "384120"
  },
  {
    "text": "your deployments and you can make her",
    "start": "384120",
    "end": "387840"
  },
  {
    "text": "all Park effectively mutate that and add",
    "start": "387840",
    "end": "389970"
  },
  {
    "text": "that",
    "start": "389970",
    "end": "390300"
  },
  {
    "text": "for you and after it's gone through the",
    "start": "390300",
    "end": "393030"
  },
  {
    "text": "mutating one and then goes through the",
    "start": "393030",
    "end": "394470"
  },
  {
    "text": "validation once which effectively is",
    "start": "394470",
    "end": "396449"
  },
  {
    "text": "going to return it's a web pick is going",
    "start": "396449",
    "end": "398430"
  },
  {
    "text": "to return a yes and your response on",
    "start": "398430",
    "end": "400229"
  },
  {
    "text": "whether or not that's valid and if it's",
    "start": "400229",
    "end": "402599"
  },
  {
    "text": "invalid obviously it's not going to",
    "start": "402599",
    "end": "403680"
  },
  {
    "text": "possess that resource and update your",
    "start": "403680",
    "end": "405629"
  },
  {
    "text": "cluster okay so if we talk look at the",
    "start": "405629",
    "end": "412229"
  },
  {
    "start": "410000",
    "end": "647000"
  },
  {
    "text": "different architectures I've made these",
    "start": "412229",
    "end": "413430"
  },
  {
    "text": "really simple these diagrams so you know",
    "start": "413430",
    "end": "415979"
  },
  {
    "text": "then we can follow the knees is probably",
    "start": "415979",
    "end": "417180"
  },
  {
    "text": "a bit more complexity in reality and so",
    "start": "417180",
    "end": "420569"
  },
  {
    "text": "if you think about this is v1 so v1 is",
    "start": "420569",
    "end": "423300"
  },
  {
    "text": "probably what most people are using",
    "start": "423300",
    "end": "424770"
  },
  {
    "text": "today from an OPA point of view and",
    "start": "424770",
    "end": "427319"
  },
  {
    "text": "there's actually a couple two more",
    "start": "427319",
    "end": "428969"
  },
  {
    "text": "versions and I'll quickly go through",
    "start": "428969",
    "end": "430110"
  },
  {
    "text": "those as well but I'll quickly talk",
    "start": "430110",
    "end": "431789"
  },
  {
    "text": "through the floor through this so",
    "start": "431789",
    "end": "433860"
  },
  {
    "text": "obviously you've got you a coop cuddle",
    "start": "433860",
    "end": "435150"
  },
  {
    "text": "here or you might have a control",
    "start": "435150",
    "end": "436919"
  },
  {
    "text": "pipeline something that's using the API",
    "start": "436919",
    "end": "438900"
  },
  {
    "text": "a given Eddie's API that's going to send",
    "start": "438900",
    "end": "442530"
  },
  {
    "text": "it to the API server the API server is",
    "start": "442530",
    "end": "445919"
  },
  {
    "text": "then going to go off to all perfective",
    "start": "445919",
    "end": "447629"
  },
  {
    "text": "lee through the web hooks and we talked",
    "start": "447629",
    "end": "448919"
  },
  {
    "text": "about a minute ago it's going to either",
    "start": "448919",
    "end": "450990"
  },
  {
    "text": "mutate or potentially mutate and",
    "start": "450990",
    "end": "453840"
  },
  {
    "text": "validate that that resource and I think",
    "start": "453840",
    "end": "458840"
  },
  {
    "text": "will demonstrate that when he comes demo",
    "start": "458840",
    "end": "463159"
  },
  {
    "text": "and the policy data so that is",
    "start": "463159",
    "end": "466199"
  },
  {
    "text": "effectively the array goal that stores",
    "start": "466199",
    "end": "468050"
  },
  {
    "text": "affecting this cube management site on",
    "start": "468050",
    "end": "470400"
  },
  {
    "text": "here so what that actually has in there",
    "start": "470400",
    "end": "473430"
  },
  {
    "text": "it's it's basically watching that policy",
    "start": "473430",
    "end": "475680"
  },
  {
    "text": "data config and will update it so it's",
    "start": "475680",
    "end": "478919"
  },
  {
    "text": "all cash than there so if there's any",
    "start": "478919",
    "end": "480449"
  },
  {
    "text": "kind of changes it will update but it",
    "start": "480449",
    "end": "482490"
  },
  {
    "text": "doesn't go out every time you get an or",
    "start": "482490",
    "end": "484110"
  },
  {
    "text": "progress then to check to reread that",
    "start": "484110",
    "end": "486389"
  },
  {
    "text": "data so it's trying to reduce the amount",
    "start": "486389",
    "end": "488099"
  },
  {
    "text": "of network traffic they have so that's",
    "start": "488099",
    "end": "490169"
  },
  {
    "text": "kind of how it flows through and in a",
    "start": "490169",
    "end": "492300"
  },
  {
    "text": "kind of heart very high level v2 has",
    "start": "492300",
    "end": "496560"
  },
  {
    "text": "come along I think a year or two ago",
    "start": "496560",
    "end": "499069"
  },
  {
    "text": "it's moved out some of the web hooks",
    "start": "499069",
    "end": "501810"
  },
  {
    "text": "into there's policy controller that's",
    "start": "501810",
    "end": "504029"
  },
  {
    "text": "added some extra things in there so it's",
    "start": "504029",
    "end": "506099"
  },
  {
    "text": "added order and a few other bits and",
    "start": "506099",
    "end": "508349"
  },
  {
    "text": "pieces in there so it's also kind of",
    "start": "508349",
    "end": "510810"
  },
  {
    "text": "made I guess a little bit more",
    "start": "510810",
    "end": "512539"
  },
  {
    "text": "kubernetes like cabinet separated acts",
    "start": "512539",
    "end": "515268"
  },
  {
    "text": "probably and slightly a better model and",
    "start": "515269",
    "end": "517310"
  },
  {
    "text": "from that sense and I think that came",
    "start": "517310",
    "end": "519289"
  },
  {
    "text": "actually at Microsoft and then finally",
    "start": "519289",
    "end": "523219"
  },
  {
    "text": "we've got now there is gatekeeper which",
    "start": "523219",
    "end": "528829"
  },
  {
    "text": "is version three so this is an alpha at",
    "start": "528829",
    "end": "530779"
  },
  {
    "text": "the moment and so I don't think there's",
    "start": "530779",
    "end": "534079"
  },
  {
    "text": "anyone really using it in any anger but",
    "start": "534079",
    "end": "536089"
  },
  {
    "text": "there's a couple of key changes on this",
    "start": "536089",
    "end": "538100"
  },
  {
    "text": "they've kind of collapsed the Okajima",
    "start": "538100",
    "end": "540920"
  },
  {
    "text": "kind of collapse that enter into one",
    "start": "540920",
    "end": "542959"
  },
  {
    "text": "thing on the actual OPA server rather",
    "start": "542959",
    "end": "545540"
  },
  {
    "text": "than having the three different things",
    "start": "545540",
    "end": "547010"
  },
  {
    "text": "they had previously",
    "start": "547010",
    "end": "547760"
  },
  {
    "text": "they've also the other key thing that",
    "start": "547760",
    "end": "549860"
  },
  {
    "text": "they've done is they've added custom",
    "start": "549860",
    "end": "551449"
  },
  {
    "text": "resources so now when you do your regel",
    "start": "551449",
    "end": "555019"
  },
  {
    "text": "you can have that templated and won't",
    "start": "555019",
    "end": "557480"
  },
  {
    "text": "because your template of it you can get",
    "start": "557480",
    "end": "558949"
  },
  {
    "text": "reuse of it so if you've got something",
    "start": "558949",
    "end": "560449"
  },
  {
    "text": "for instance like a label check you can",
    "start": "560449",
    "end": "563300"
  },
  {
    "text": "have a template for that in your Rago",
    "start": "563300",
    "end": "564709"
  },
  {
    "text": "and then you can have a custom resource",
    "start": "564709",
    "end": "566269"
  },
  {
    "text": "to define what label it's chicken so",
    "start": "566269",
    "end": "568730"
  },
  {
    "text": "that kind of stops you have to basically",
    "start": "568730",
    "end": "571730"
  },
  {
    "text": "cut and paste your way go through",
    "start": "571730",
    "end": "573260"
  },
  {
    "text": "multiple multiple versions and multiple",
    "start": "573260",
    "end": "576980"
  },
  {
    "text": "different slightly you know similar use",
    "start": "576980",
    "end": "579800"
  },
  {
    "text": "cases but with maybe slightly different",
    "start": "579800",
    "end": "581630"
  },
  {
    "text": "syntax and it's looking for so that's",
    "start": "581630",
    "end": "584990"
  },
  {
    "text": "kind of the three different versions of",
    "start": "584990",
    "end": "586730"
  },
  {
    "text": "OPA I'm going to just quickly talk if",
    "start": "586730",
    "end": "590089"
  },
  {
    "text": "you want to get it installed it's very",
    "start": "590089",
    "end": "592069"
  },
  {
    "text": "easy to get up and running out recommend",
    "start": "592069",
    "end": "593720"
  },
  {
    "text": "probably just using wanted to version",
    "start": "593720",
    "end": "594980"
  },
  {
    "text": "one or two and I bet keepers say kind of",
    "start": "594980",
    "end": "597860"
  },
  {
    "text": "early days at the moment it's gonna be",
    "start": "597860",
    "end": "599779"
  },
  {
    "text": "pretty easy if you install though it's",
    "start": "599779",
    "end": "601250"
  },
  {
    "text": "just set up a namespace then you",
    "start": "601250",
    "end": "603800"
  },
  {
    "text": "effectively you need to create a",
    "start": "603800",
    "end": "605209"
  },
  {
    "text": "certificate for the internal SSL and",
    "start": "605209",
    "end": "607870"
  },
  {
    "text": "Union point deploy the admission",
    "start": "607870",
    "end": "610010"
  },
  {
    "text": "controllers for the web hooks",
    "start": "610010",
    "end": "612170"
  },
  {
    "text": "effectively in the sidecars for that and",
    "start": "612170",
    "end": "614329"
  },
  {
    "text": "that's your kind of pretty much done",
    "start": "614329",
    "end": "615470"
  },
  {
    "text": "right so it's just that effectively at",
    "start": "615470",
    "end": "617540"
  },
  {
    "text": "that point it's almost not much more",
    "start": "617540",
    "end": "619850"
  },
  {
    "text": "than just a person and abilities",
    "start": "619850",
    "end": "621410"
  },
  {
    "text": "deployment really and with a few extra",
    "start": "621410",
    "end": "623449"
  },
  {
    "text": "little bits and then you could add your",
    "start": "623449",
    "end": "625069"
  },
  {
    "text": "policies it's very well documented if",
    "start": "625069",
    "end": "628220"
  },
  {
    "text": "you do want to go there's a really good",
    "start": "628220",
    "end": "629389"
  },
  {
    "text": "story actually on open policy agent org",
    "start": "629389",
    "end": "632360"
  },
  {
    "text": "which is where you can find all the",
    "start": "632360",
    "end": "633649"
  },
  {
    "text": "stuff about OPA and if you work through",
    "start": "633649",
    "end": "636170"
  },
  {
    "text": "that you'll get it up and running in no",
    "start": "636170",
    "end": "637970"
  },
  {
    "text": "time so I think with that I'm it's gonna",
    "start": "637970",
    "end": "641000"
  },
  {
    "text": "now go through and he's gonna",
    "start": "641000",
    "end": "643180"
  },
  {
    "text": "demo Abrego thanks mark",
    "start": "643180",
    "end": "648250"
  },
  {
    "start": "647000",
    "end": "820000"
  },
  {
    "text": "that was a good introduction to the",
    "start": "648250",
    "end": "650170"
  },
  {
    "text": "evolving architecture of OPA",
    "start": "650170",
    "end": "653890"
  },
  {
    "text": "so OPA comes with policy language called",
    "start": "653890",
    "end": "657490"
  },
  {
    "text": "Lego where you can which you can use to",
    "start": "657490",
    "end": "660180"
  },
  {
    "text": "describe your policies sorry other your",
    "start": "660180",
    "end": "662980"
  },
  {
    "text": "policies right so I'll walk through a",
    "start": "662980",
    "end": "666070"
  },
  {
    "text": "policy return Griego what this policy is",
    "start": "666070",
    "end": "670240"
  },
  {
    "text": "doing is it's restricting all image",
    "start": "670240",
    "end": "673000"
  },
  {
    "text": "pulls from Myron sphere oh sorry all in",
    "start": "673000",
    "end": "676660"
  },
  {
    "text": "all images which are being referenced in",
    "start": "676660",
    "end": "678850"
  },
  {
    "text": "your pod can come only from my registry",
    "start": "678850",
    "end": "681310"
  },
  {
    "text": "dot IO so how many of you have deployed",
    "start": "681310",
    "end": "684550"
  },
  {
    "text": "a pod on kubernetes",
    "start": "684550",
    "end": "685560"
  },
  {
    "text": "before yeah the interest of those who",
    "start": "685560",
    "end": "689200"
  },
  {
    "text": "have not deployed a pod pod is a very",
    "start": "689200",
    "end": "691450"
  },
  {
    "text": "basic unit of deployment and it can have",
    "start": "691450",
    "end": "693670"
  },
  {
    "text": "more one or more containers and these",
    "start": "693670",
    "end": "695860"
  },
  {
    "text": "containers have to reference an image",
    "start": "695860",
    "end": "698080"
  },
  {
    "text": "from any major industry so what this",
    "start": "698080",
    "end": "700180"
  },
  {
    "text": "policy is doing here is it is going to",
    "start": "700180",
    "end": "702370"
  },
  {
    "text": "restrict all image pulls from my",
    "start": "702370",
    "end": "704800"
  },
  {
    "text": "registry at i/o to understand this",
    "start": "704800",
    "end": "707910"
  },
  {
    "text": "policy written in Drago it starts with a",
    "start": "707910",
    "end": "711400"
  },
  {
    "text": "deny rule which says that all these",
    "start": "711400",
    "end": "716620"
  },
  {
    "text": "requests I mean the first validation is",
    "start": "716620",
    "end": "718780"
  },
  {
    "text": "this apart being deployed right to",
    "start": "718780",
    "end": "721960"
  },
  {
    "text": "understand this better you need to look",
    "start": "721960",
    "end": "723910"
  },
  {
    "text": "at this admission review request which",
    "start": "723910",
    "end": "726700"
  },
  {
    "text": "comes from the kubernetes api server to",
    "start": "726700",
    "end": "729510"
  },
  {
    "text": "OPA and OPA goes through this admission",
    "start": "729510",
    "end": "732700"
  },
  {
    "text": "review request to validate the policy",
    "start": "732700",
    "end": "734560"
  },
  {
    "text": "whether whether this deployment or this",
    "start": "734560",
    "end": "736510"
  },
  {
    "text": "resource can be created updated or",
    "start": "736510",
    "end": "738700"
  },
  {
    "text": "deleted right so this is the admission",
    "start": "738700",
    "end": "740650"
  },
  {
    "text": "review request as mark explained this is",
    "start": "740650",
    "end": "743320"
  },
  {
    "text": "architecture v1 and there is an",
    "start": "743320",
    "end": "746170"
  },
  {
    "text": "admission controller webhook configure",
    "start": "746170",
    "end": "748540"
  },
  {
    "text": "on kubernetes api server for it to fire",
    "start": "748540",
    "end": "752110"
  },
  {
    "text": "off that web hook to OPA right that's",
    "start": "752110",
    "end": "754840"
  },
  {
    "text": "how the admission review request hits",
    "start": "754840",
    "end": "757540"
  },
  {
    "text": "OPA so this is an admission review",
    "start": "757540",
    "end": "760420"
  },
  {
    "text": "request and this is kind of",
    "start": "760420",
    "end": "762460"
  },
  {
    "text": "self-explanatory",
    "start": "762460",
    "end": "763450"
  },
  {
    "text": "the deny rule is saying that if it first",
    "start": "763450",
    "end": "767020"
  },
  {
    "text": "checks whether it's a pod being created",
    "start": "767020",
    "end": "768640"
  },
  {
    "text": "imagine we are just after pods here then",
    "start": "768640",
    "end": "773230"
  },
  {
    "text": "it checks it basically does builds an",
    "start": "773230",
    "end": "776660"
  },
  {
    "text": "iterator over all the images here as you",
    "start": "776660",
    "end": "779060"
  },
  {
    "text": "can see there are two images being",
    "start": "779060",
    "end": "780860"
  },
  {
    "text": "referenced there are two containers",
    "start": "780860",
    "end": "782509"
  },
  {
    "text": "which are part of this pod once coming",
    "start": "782509",
    "end": "786740"
  },
  {
    "text": "from my registry dot IO so in this",
    "start": "786740",
    "end": "789319"
  },
  {
    "text": "imaginary example that's our trusted",
    "start": "789319",
    "end": "791899"
  },
  {
    "text": "registry right and the other one is from",
    "start": "791899",
    "end": "794149"
  },
  {
    "text": "Bad registry at i/o so as we go through",
    "start": "794149",
    "end": "797060"
  },
  {
    "text": "this all the images you get a list of",
    "start": "797060",
    "end": "799790"
  },
  {
    "text": "images here and as I said it rates over",
    "start": "799790",
    "end": "803269"
  },
  {
    "text": "it and checks whether both the images",
    "start": "803269",
    "end": "806000"
  },
  {
    "text": "are coming from our trusted registry",
    "start": "806000",
    "end": "807790"
  },
  {
    "text": "since bad registry dot I or doesn't",
    "start": "807790",
    "end": "810379"
  },
  {
    "text": "match it it fails it and the deployment",
    "start": "810379",
    "end": "812990"
  },
  {
    "text": "doesn't go forward right so we will look",
    "start": "812990",
    "end": "816110"
  },
  {
    "text": "at this example in action in a couple of",
    "start": "816110",
    "end": "819410"
  },
  {
    "text": "minutes so I want to introduce to you",
    "start": "819410",
    "end": "822920"
  },
  {
    "start": "820000",
    "end": "922000"
  },
  {
    "text": "record the playground which is really",
    "start": "822920",
    "end": "825889"
  },
  {
    "text": "handy if you want to try out your",
    "start": "825889",
    "end": "827600"
  },
  {
    "text": "policies so let's have a look",
    "start": "827600",
    "end": "831279"
  },
  {
    "text": "all right as you can see this is the",
    "start": "839160",
    "end": "841020"
  },
  {
    "text": "same policy which I was showing so it's",
    "start": "841020",
    "end": "853770"
  },
  {
    "text": "a it's the same policy which I showed",
    "start": "853770",
    "end": "856890"
  },
  {
    "text": "you before and this is the admission",
    "start": "856890",
    "end": "859380"
  },
  {
    "text": "review request here and you can evaluate",
    "start": "859380",
    "end": "862470"
  },
  {
    "text": "these policies and as you can see here",
    "start": "862470",
    "end": "866000"
  },
  {
    "text": "the result is that the bad registry dot",
    "start": "866000",
    "end": "868620"
  },
  {
    "text": "IO is not allowed to be pulled from this",
    "start": "868620",
    "end": "871080"
  },
  {
    "text": "registry so if I if I were to go in here",
    "start": "871080",
    "end": "873930"
  },
  {
    "text": "and change it to my registry and run the",
    "start": "873930",
    "end": "879660"
  },
  {
    "text": "evaluation again you can see that it",
    "start": "879660",
    "end": "881340"
  },
  {
    "text": "passes this check",
    "start": "881340",
    "end": "883080"
  },
  {
    "text": "so this is really handy because you can",
    "start": "883080",
    "end": "884880"
  },
  {
    "text": "go and check evaluate parts of this",
    "start": "884880",
    "end": "887820"
  },
  {
    "text": "policy was just saying evaluate",
    "start": "887820",
    "end": "890160"
  },
  {
    "text": "selection as you can see it's a pod and",
    "start": "890160",
    "end": "893100"
  },
  {
    "text": "and it returns true you can also see",
    "start": "893100",
    "end": "895950"
  },
  {
    "text": "what gets actually created in this",
    "start": "895950",
    "end": "899910"
  },
  {
    "text": "section here",
    "start": "899910",
    "end": "900840"
  },
  {
    "text": "you can see as I said you'll get both",
    "start": "900840",
    "end": "903330"
  },
  {
    "text": "the images and an iterator is created",
    "start": "903330",
    "end": "906060"
  },
  {
    "text": "which will be traded over in the next",
    "start": "906060",
    "end": "909080"
  },
  {
    "text": "statement so that's an example of this",
    "start": "909080",
    "end": "912480"
  },
  {
    "text": "in action this is a really handy tool",
    "start": "912480",
    "end": "914220"
  },
  {
    "text": "which I thought is really easy to you",
    "start": "914220",
    "end": "917160"
  },
  {
    "text": "know understand the policy language",
    "start": "917160",
    "end": "919050"
  },
  {
    "text": "better as well okay I thought I'll show",
    "start": "919050",
    "end": "926010"
  },
  {
    "start": "922000",
    "end": "995000"
  },
  {
    "text": "you another policy this policy is is not",
    "start": "926010",
    "end": "929190"
  },
  {
    "text": "going to allow any containers which do",
    "start": "929190",
    "end": "931680"
  },
  {
    "text": "not have the CPU limits defined to be",
    "start": "931680",
    "end": "935360"
  },
  {
    "text": "deployed into a production namespace",
    "start": "935360",
    "end": "937680"
  },
  {
    "text": "alright let's have a look at how this",
    "start": "937680",
    "end": "939840"
  },
  {
    "text": "policy would look in drag oh so this is",
    "start": "939840",
    "end": "945870"
  },
  {
    "text": "the policy and this is the resource",
    "start": "945870",
    "end": "949140"
  },
  {
    "text": "limits the first container the engine X",
    "start": "949140",
    "end": "954260"
  },
  {
    "text": "container has a CPU limit and the second",
    "start": "954260",
    "end": "957390"
  },
  {
    "text": "one the radius container doesn't have a",
    "start": "957390",
    "end": "959400"
  },
  {
    "text": "CPU limit so if we were to evaluate this",
    "start": "959400",
    "end": "961740"
  },
  {
    "text": "policy it's very similar to the previous",
    "start": "961740",
    "end": "963870"
  },
  {
    "text": "one but it includes a check on the",
    "start": "963870",
    "end": "966390"
  },
  {
    "text": "namespace checks whether the namespaces",
    "start": "966390",
    "end": "968220"
  },
  {
    "text": "production gets all the containers",
    "start": "968220",
    "end": "970710"
  },
  {
    "text": "checks whether the CPU has been defined",
    "start": "970710",
    "end": "972840"
  },
  {
    "text": "for each of those containers right so if",
    "start": "972840",
    "end": "975180"
  },
  {
    "text": "I were to evaluate this one okay sorry",
    "start": "975180",
    "end": "979250"
  },
  {
    "text": "you can see the content of radius does",
    "start": "979250",
    "end": "982830"
  },
  {
    "text": "not define CPU limits hence this policy",
    "start": "982830",
    "end": "984810"
  },
  {
    "text": "will be denied I mean the request will",
    "start": "984810",
    "end": "987120"
  },
  {
    "text": "be denied and the part wouldn't be",
    "start": "987120",
    "end": "989130"
  },
  {
    "text": "created hopefully that gives you an",
    "start": "989130",
    "end": "992070"
  },
  {
    "text": "understanding of how to write policies",
    "start": "992070",
    "end": "994650"
  },
  {
    "text": "in Drago now implementing a policy using",
    "start": "994650",
    "end": "999000"
  },
  {
    "start": "995000",
    "end": "1149000"
  },
  {
    "text": "Opa Opa the team behind opa the",
    "start": "999000",
    "end": "1001970"
  },
  {
    "text": "community behind has created this nice",
    "start": "1001970",
    "end": "1003920"
  },
  {
    "text": "unit testing framework for you to",
    "start": "1003920",
    "end": "1005810"
  },
  {
    "text": "actually test this policy write a policy",
    "start": "1005810",
    "end": "1009470"
  },
  {
    "text": "in a tentative and fashion probably used",
    "start": "1009470",
    "end": "1011930"
  },
  {
    "text": "it in agate tops freshmen as well have a",
    "start": "1011930",
    "end": "1014540"
  },
  {
    "text": "CSE D pipeline have this policies unit",
    "start": "1014540",
    "end": "1017870"
  },
  {
    "text": "tested before you can actually deploy it",
    "start": "1017870",
    "end": "1019670"
  },
  {
    "text": "into any environment so I'll quickly",
    "start": "1019670",
    "end": "1022520"
  },
  {
    "text": "show you what these look like so this is",
    "start": "1022520",
    "end": "1027050"
  },
  {
    "text": "I'm sorry I I don't think everyone can",
    "start": "1027050",
    "end": "1029240"
  },
  {
    "text": "see this it's not very clear but this is",
    "start": "1029240",
    "end": "1030980"
  },
  {
    "text": "the policy which I was showing before",
    "start": "1030980",
    "end": "1032360"
  },
  {
    "text": "and you just write a test for this",
    "start": "1032360",
    "end": "1037550"
  },
  {
    "text": "policy here maybe my visual studio might",
    "start": "1037550",
    "end": "1041510"
  },
  {
    "text": "be better for this even this is not",
    "start": "1041510",
    "end": "1046850"
  },
  {
    "text": "really clear sorry anyway the point is",
    "start": "1046850",
    "end": "1052040"
  },
  {
    "text": "you can write unit tests against these",
    "start": "1052040",
    "end": "1054220"
  },
  {
    "text": "policies Thanks",
    "start": "1054220",
    "end": "1062450"
  },
  {
    "text": "so as you can see I've just have that",
    "start": "1062450",
    "end": "1066680"
  },
  {
    "text": "mock request the admission review",
    "start": "1066680",
    "end": "1068000"
  },
  {
    "text": "request I have shipped out all those",
    "start": "1068000",
    "end": "1069320"
  },
  {
    "text": "fields which are not necessarily for",
    "start": "1069320",
    "end": "1070610"
  },
  {
    "text": "this test all it's doing is calling",
    "start": "1070610",
    "end": "1075010"
  },
  {
    "text": "calling this okay first I will show you",
    "start": "1075010",
    "end": "1078290"
  },
  {
    "text": "how this test is run so that you",
    "start": "1078290",
    "end": "1079940"
  },
  {
    "text": "understand what we are doing here so the",
    "start": "1079940",
    "end": "1084290"
  },
  {
    "text": "way to run this test is you need to",
    "start": "1084290",
    "end": "1085700"
  },
  {
    "text": "first pass in your policy which is",
    "start": "1085700",
    "end": "1088460"
  },
  {
    "text": "written in rego and then you pass in the",
    "start": "1088460",
    "end": "1090290"
  },
  {
    "text": "test case for that policy so as you can",
    "start": "1090290",
    "end": "1092870"
  },
  {
    "text": "see you can run it in verbose mode and",
    "start": "1092870",
    "end": "1094700"
  },
  {
    "text": "see that it has passed right this is a",
    "start": "1094700",
    "end": "1096440"
  },
  {
    "text": "really nice way of iterating over your",
    "start": "1096440",
    "end": "1099440"
  },
  {
    "text": "policy and then finally you know",
    "start": "1099440",
    "end": "1101950"
  },
  {
    "text": "committing it into your repository",
    "start": "1101950",
    "end": "1103880"
  },
  {
    "text": "rather than trying to troubleshoot it in",
    "start": "1103880",
    "end": "1106730"
  },
  {
    "text": "an environment right so once this is",
    "start": "1106730",
    "end": "1109520"
  },
  {
    "text": "done I'll bring up the test case quickly",
    "start": "1109520",
    "end": "1114190"
  },
  {
    "text": "so all that is it's doing is it's",
    "start": "1114190",
    "end": "1117260"
  },
  {
    "text": "asserting here that the expected message",
    "start": "1117260",
    "end": "1120800"
  },
  {
    "text": "that needs to come back from when the",
    "start": "1120800",
    "end": "1122960"
  },
  {
    "text": "policy is evaluated is going to be bad",
    "start": "1122960",
    "end": "1125360"
  },
  {
    "text": "registry or IO",
    "start": "1125360",
    "end": "1126350"
  },
  {
    "text": "sidecar for container sidecar does not",
    "start": "1126350",
    "end": "1128630"
  },
  {
    "text": "come from a trusted entrust comes from",
    "start": "1128630",
    "end": "1131500"
  },
  {
    "text": "comes from an untrusted registry right",
    "start": "1131500",
    "end": "1134300"
  },
  {
    "text": "that's basically what the last statement",
    "start": "1134300",
    "end": "1135890"
  },
  {
    "text": "is doing with input as unsafe image",
    "start": "1135890",
    "end": "1138680"
  },
  {
    "text": "requests that's basically this marked",
    "start": "1138680",
    "end": "1140510"
  },
  {
    "text": "out request here and it's very well",
    "start": "1140510",
    "end": "1145610"
  },
  {
    "text": "documented as well on the up our website",
    "start": "1145610",
    "end": "1148810"
  },
  {
    "text": "so once you have written your unit test",
    "start": "1148810",
    "end": "1151700"
  },
  {
    "start": "1149000",
    "end": "1206000"
  },
  {
    "text": "for your policy you can then deploy the",
    "start": "1151700",
    "end": "1154730"
  },
  {
    "text": "policy as a config Mac config map to",
    "start": "1154730",
    "end": "1157070"
  },
  {
    "text": "your kubernetes cluster so I have I have",
    "start": "1157070",
    "end": "1160880"
  },
  {
    "text": "connected to kubernetes cluster here and",
    "start": "1160880",
    "end": "1165790"
  },
  {
    "text": "I'm just going to deploy that policy as",
    "start": "1165790",
    "end": "1168710"
  },
  {
    "text": "a config map right so I'm going to",
    "start": "1168710",
    "end": "1171080"
  },
  {
    "text": "create create a config map with the name",
    "start": "1171080",
    "end": "1177080"
  },
  {
    "text": "image from trusted registry policy and",
    "start": "1177080",
    "end": "1179110"
  },
  {
    "text": "I'm referencing a file which is the regu",
    "start": "1179110",
    "end": "1182870"
  },
  {
    "text": "which I showed you before we just had",
    "start": "1182870",
    "end": "1190520"
  },
  {
    "text": "our Christmas party yesterday night so",
    "start": "1190520",
    "end": "1192080"
  },
  {
    "text": "please don't be disappointed if the demo",
    "start": "1192080",
    "end": "1194210"
  },
  {
    "text": "doesn't work and if I type something",
    "start": "1194210",
    "end": "1195500"
  },
  {
    "text": "wrong I can't remember anything",
    "start": "1195500",
    "end": "1197560"
  },
  {
    "text": "so that's created the policy the next",
    "start": "1197560",
    "end": "1203690"
  },
  {
    "text": "step is to check whether the policy has",
    "start": "1203690",
    "end": "1207470"
  },
  {
    "start": "1206000",
    "end": "1265000"
  },
  {
    "text": "been deployed correctly so what happens",
    "start": "1207470",
    "end": "1209090"
  },
  {
    "text": "now is as Mark mentioned the config map",
    "start": "1209090",
    "end": "1211850"
  },
  {
    "text": "has been created in the open and",
    "start": "1211850",
    "end": "1213170"
  },
  {
    "text": "namespace and OPA is constantly",
    "start": "1213170",
    "end": "1216430"
  },
  {
    "text": "you know watching for config Mac being",
    "start": "1216430",
    "end": "1219940"
  },
  {
    "text": "created in the namespace it's going to",
    "start": "1219940",
    "end": "1222160"
  },
  {
    "text": "get a callback and then it's going to",
    "start": "1222160",
    "end": "1223990"
  },
  {
    "text": "validate that policy so the way you can",
    "start": "1223990",
    "end": "1226180"
  },
  {
    "text": "figure out that your syntax was right",
    "start": "1226180",
    "end": "1228730"
  },
  {
    "text": "and the policy was all good is you can",
    "start": "1228730",
    "end": "1230890"
  },
  {
    "text": "describe that policy which has been just",
    "start": "1230890",
    "end": "1232900"
  },
  {
    "text": "created so all I'm going to do here is",
    "start": "1232900",
    "end": "1235950"
  },
  {
    "text": "described that config map which we just",
    "start": "1235950",
    "end": "1238420"
  },
  {
    "text": "created yep so you can see here I never",
    "start": "1238420",
    "end": "1244930"
  },
  {
    "text": "I didn't add an annotation on that",
    "start": "1244930",
    "end": "1246700"
  },
  {
    "text": "config map what OPA has you know",
    "start": "1246700",
    "end": "1250330"
  },
  {
    "text": "ingested this policy and put a status",
    "start": "1250330",
    "end": "1253660"
  },
  {
    "text": "message of okay saying that okay the",
    "start": "1253660",
    "end": "1255640"
  },
  {
    "text": "policy syntax looks good everything's",
    "start": "1255640",
    "end": "1257410"
  },
  {
    "text": "alright with this policy and it will",
    "start": "1257410",
    "end": "1259750"
  },
  {
    "text": "start evaluating any resource updates",
    "start": "1259750",
    "end": "1262270"
  },
  {
    "text": "against this policy so once that's done",
    "start": "1262270",
    "end": "1266160"
  },
  {
    "start": "1265000",
    "end": "1337000"
  },
  {
    "text": "the last test you want to do is actually",
    "start": "1266160",
    "end": "1269110"
  },
  {
    "text": "deploy a resource and check whether the",
    "start": "1269110",
    "end": "1272380"
  },
  {
    "text": "policy is being really evaluated so in",
    "start": "1272380",
    "end": "1274510"
  },
  {
    "text": "this case what we are going to try out",
    "start": "1274510",
    "end": "1276370"
  },
  {
    "text": "now is create a pod from Bad Rogers",
    "start": "1276370",
    "end": "1282420"
  },
  {
    "text": "referencing an image from bad registry",
    "start": "1282420",
    "end": "1284260"
  },
  {
    "text": "dot IO and see that what happens when",
    "start": "1284260",
    "end": "1287770"
  },
  {
    "text": "you try to do that all right",
    "start": "1287770",
    "end": "1294460"
  },
  {
    "text": "to make sense of this I'm showing you",
    "start": "1294460",
    "end": "1298930"
  },
  {
    "text": "the policy as well so a developer or",
    "start": "1298930",
    "end": "1301960"
  },
  {
    "text": "your system trying to deploy this pod",
    "start": "1301960",
    "end": "1304330"
  },
  {
    "text": "will get this message saying image not",
    "start": "1304330",
    "end": "1306610"
  },
  {
    "text": "from your trusted registry a bad",
    "start": "1306610",
    "end": "1308440"
  },
  {
    "text": "registry at i/o slash Engine X so that's",
    "start": "1308440",
    "end": "1312670"
  },
  {
    "text": "coming from here right the policy has",
    "start": "1312670",
    "end": "1315160"
  },
  {
    "text": "been evaluated and the requester has",
    "start": "1315160",
    "end": "1316660"
  },
  {
    "text": "been denied so as you can see you can",
    "start": "1316660",
    "end": "1318940"
  },
  {
    "text": "you can think of all your custom",
    "start": "1318940",
    "end": "1321070"
  },
  {
    "text": "policies within your organization you",
    "start": "1321070",
    "end": "1323350"
  },
  {
    "text": "can try and think of how can you do this",
    "start": "1323350",
    "end": "1325450"
  },
  {
    "text": "in drag oh this is just an example but",
    "start": "1325450",
    "end": "1327460"
  },
  {
    "text": "you know it's really handy you can have",
    "start": "1327460",
    "end": "1329650"
  },
  {
    "text": "really fine grained control on what and",
    "start": "1329650",
    "end": "1333280"
  },
  {
    "text": "how you can write your policies right",
    "start": "1333280",
    "end": "1337020"
  },
  {
    "start": "1337000",
    "end": "1515000"
  },
  {
    "text": "all right",
    "start": "1337020",
    "end": "1339610"
  },
  {
    "text": "so I just wanted to summarize okay what",
    "start": "1339610",
    "end": "1342140"
  },
  {
    "text": "what did what did I actually do in this",
    "start": "1342140",
    "end": "1343880"
  },
  {
    "text": "demo so as kubernetes administrator I",
    "start": "1343880",
    "end": "1348790"
  },
  {
    "text": "will create a config map within a",
    "start": "1348790",
    "end": "1352070"
  },
  {
    "text": "particular namespace now mark showed",
    "start": "1352070",
    "end": "1356930"
  },
  {
    "text": "this architecture that's version 1 where",
    "start": "1356930",
    "end": "1358910"
  },
  {
    "text": "we have cube management cube management",
    "start": "1358910",
    "end": "1361370"
  },
  {
    "text": "picks up this config map and evaluates",
    "start": "1361370",
    "end": "1364790"
  },
  {
    "text": "the policy and adds the annotation with",
    "start": "1364790",
    "end": "1367190"
  },
  {
    "text": "the value policy status ok right it",
    "start": "1367190",
    "end": "1370040"
  },
  {
    "text": "queue management is basically watching",
    "start": "1370040",
    "end": "1371240"
  },
  {
    "text": "for these I think OPA makes that final",
    "start": "1371240",
    "end": "1373730"
  },
  {
    "text": "decision whether the syntax and",
    "start": "1373730",
    "end": "1374840"
  },
  {
    "text": "everything the OPA container makes the",
    "start": "1374840",
    "end": "1376550"
  },
  {
    "text": "decision policy status of okay then the",
    "start": "1376550",
    "end": "1380540"
  },
  {
    "text": "next a developer comes in tries to",
    "start": "1380540",
    "end": "1382490"
  },
  {
    "text": "deploy a pod since we have a web hook",
    "start": "1382490",
    "end": "1386930"
  },
  {
    "text": "configured on the API server this",
    "start": "1386930",
    "end": "1389600"
  },
  {
    "text": "admission review request is sent to OPA",
    "start": "1389600",
    "end": "1392840"
  },
  {
    "text": "to evaluate the policy depending on the",
    "start": "1392840",
    "end": "1395450"
  },
  {
    "text": "policy is deployed or PI there allows or",
    "start": "1395450",
    "end": "1397520"
  },
  {
    "text": "denies this request the admission review",
    "start": "1397520",
    "end": "1401120"
  },
  {
    "text": "response is sent back to the API server",
    "start": "1401120",
    "end": "1403130"
  },
  {
    "text": "and the developer gets this sad message",
    "start": "1403130",
    "end": "1406730"
  },
  {
    "text": "that you know the request has been",
    "start": "1406730",
    "end": "1410110"
  },
  {
    "text": "denied and it also gets a message saying",
    "start": "1410110",
    "end": "1413660"
  },
  {
    "text": "that image from not from your trusted",
    "start": "1413660",
    "end": "1415670"
  },
  {
    "text": "registry all right hope this puts",
    "start": "1415670",
    "end": "1418040"
  },
  {
    "text": "everything in perspective and it's clear",
    "start": "1418040",
    "end": "1420290"
  },
  {
    "text": "enough for everyone to see finally I'd",
    "start": "1420290",
    "end": "1424400"
  },
  {
    "text": "like to talk about getting context in",
    "start": "1424400",
    "end": "1427310"
  },
  {
    "text": "policies right sometimes just having an",
    "start": "1427310",
    "end": "1431420"
  },
  {
    "text": "admission review request is not enough",
    "start": "1431420",
    "end": "1433340"
  },
  {
    "text": "to make a decision to whether to allow",
    "start": "1433340",
    "end": "1435830"
  },
  {
    "text": "or deny this request coming in for",
    "start": "1435830",
    "end": "1439490"
  },
  {
    "text": "example imagine there is a request to",
    "start": "1439490",
    "end": "1442520"
  },
  {
    "text": "create an ingress object and you don't",
    "start": "1442520",
    "end": "1445070"
  },
  {
    "text": "want to ingresses to have this to",
    "start": "1445070",
    "end": "1447830"
  },
  {
    "text": "reference the same host field so what is",
    "start": "1447830",
    "end": "1451760"
  },
  {
    "text": "happening here is till now the examples",
    "start": "1451760",
    "end": "1454850"
  },
  {
    "text": "which we saw were using just the",
    "start": "1454850",
    "end": "1457670"
  },
  {
    "text": "admission review request to make a",
    "start": "1457670",
    "end": "1459350"
  },
  {
    "text": "decision on whether to allow or deny but",
    "start": "1459350",
    "end": "1461600"
  },
  {
    "text": "what this is doing here is it's",
    "start": "1461600",
    "end": "1464030"
  },
  {
    "text": "referencing the ingresses in all",
    "start": "1464030",
    "end": "1465920"
  },
  {
    "text": "namespaces basically it's getting data",
    "start": "1465920",
    "end": "1467780"
  },
  {
    "text": "which has been created within kubernetes",
    "start": "1467780",
    "end": "1469640"
  },
  {
    "text": "to make that decision it's",
    "start": "1469640",
    "end": "1471890"
  },
  {
    "text": "iterating over all the ingresses which",
    "start": "1471890",
    "end": "1473870"
  },
  {
    "text": "are available in the cluster and then",
    "start": "1473870",
    "end": "1477590"
  },
  {
    "text": "comparing it with the incoming ingress",
    "start": "1477590",
    "end": "1479690"
  },
  {
    "text": "request ingress creatress resource and",
    "start": "1479690",
    "end": "1482170"
  },
  {
    "text": "making a decision that okay if the host",
    "start": "1482170",
    "end": "1484580"
  },
  {
    "text": "matches any previously created ingresses",
    "start": "1484580",
    "end": "1487010"
  },
  {
    "text": "then we are going to deny this request",
    "start": "1487010",
    "end": "1488870"
  },
  {
    "text": "right so this is very well documented in",
    "start": "1488870",
    "end": "1492680"
  },
  {
    "text": "those in that URL open policy agent",
    "start": "1492680",
    "end": "1497200"
  },
  {
    "text": "please have a read it's it's very well",
    "start": "1497200",
    "end": "1501440"
  },
  {
    "text": "described that's all we had",
    "start": "1501440",
    "end": "1506240"
  },
  {
    "text": "okay hope you found our session helpful",
    "start": "1506240",
    "end": "1508820"
  },
  {
    "text": "and thanks for coming",
    "start": "1508820",
    "end": "1510920"
  },
  {
    "text": "[Applause]",
    "start": "1510920",
    "end": "1516880"
  }
]