[
  {
    "start": "0",
    "end": "20000"
  },
  {
    "text": "[Applause] hi everyone thank you so much for coming to our talk from snowflake servers to",
    "start": "280",
    "end": "6870"
  },
  {
    "text": "snowflake clusters my name is Alison Rashard a-and I'm with a company called OC I and we're working with mastercard",
    "start": "6870",
    "end": "13440"
  },
  {
    "text": "and Fabio's with MasterCard so today",
    "start": "13440",
    "end": "20310"
  },
  {
    "start": "20000",
    "end": "20000"
  },
  {
    "text": "there are a few things we want to focus on security patterns and common",
    "start": "20310",
    "end": "26460"
  },
  {
    "text": "workloads that we can draw on from the patterns and then get ups and how it",
    "start": "26460",
    "end": "32099"
  },
  {
    "text": "helps us to achieve our goals and then finally we'll go into some implementation details these are hand",
    "start": "32099",
    "end": "43770"
  },
  {
    "start": "41000",
    "end": "41000"
  },
  {
    "text": "embroidery patterns in art we want variety and uniqueness we are drawn to",
    "start": "43770",
    "end": "50090"
  },
  {
    "text": "imperfection and we want new and different however we don't necessarily",
    "start": "50090",
    "end": "55920"
  },
  {
    "text": "want this with servers so some issues with this are they can be difficult to",
    "start": "55920",
    "end": "62129"
  },
  {
    "text": "reproduce and debugging and testing can be hard also changes and upgrades are",
    "start": "62129",
    "end": "69330"
  },
  {
    "text": "problematic and can cause breakage also instances can become out of sync and",
    "start": "69330",
    "end": "76549"
  },
  {
    "text": "then it also can lead to environment mismatch so typically we want dev stage",
    "start": "76549",
    "end": "83939"
  },
  {
    "text": "and production to all match and when we're dealing with snowflake servers this typically can be a problem",
    "start": "83939",
    "end": "91110"
  },
  {
    "text": "and finally there's also lack of audit trails so understanding how who and when",
    "start": "91110",
    "end": "96960"
  },
  {
    "text": "a change was initiated so we're really going to focus on patterns that's a",
    "start": "96960",
    "end": "102570"
  },
  {
    "text": "theme you'll see today throughout the talk and how to rebalance similarities with uniqueness",
    "start": "102570",
    "end": "110479"
  },
  {
    "start": "111000",
    "end": "111000"
  },
  {
    "text": "snowflake servers are not a thing of the past now we have snowflake clusters and",
    "start": "113220",
    "end": "118950"
  },
  {
    "text": "with kubernetes comes great power and a responsibility when we began our journey",
    "start": "118950",
    "end": "124840"
  },
  {
    "text": "we spoke with application teams who needed to move legacy applications to",
    "start": "124840",
    "end": "130090"
  },
  {
    "text": "containerized workloads and many needed a dedicated cluster due to several",
    "start": "130090",
    "end": "135880"
  },
  {
    "text": "constraints first of which was regional requirements so with on sole",
    "start": "135880",
    "end": "141970"
  },
  {
    "text": "requirements an application needs to ensure that all of the data all transactions and anything associated",
    "start": "141970",
    "end": "148239"
  },
  {
    "text": "with the application remains in a specific region and then there are also",
    "start": "148239",
    "end": "153459"
  },
  {
    "text": "security concerns our tenants need access to their own deployments while at",
    "start": "153459",
    "end": "159940"
  },
  {
    "text": "the same time not having access to another tenant deployments or as well as",
    "start": "159940",
    "end": "166450"
  },
  {
    "text": "the entire cluster so with these constraints and the number of teams were",
    "start": "166450",
    "end": "173590"
  },
  {
    "text": "working with some requiring hard multi-tenancy we need to support tens to",
    "start": "173590",
    "end": "179920"
  },
  {
    "text": "hundreds of clusters for environment and finally we really wanted to focus on",
    "start": "179920",
    "end": "187750"
  },
  {
    "text": "developer experience and operator experience this can be difficult and we",
    "start": "187750",
    "end": "193450"
  },
  {
    "text": "wanted to be sure that we had easy onboarding for our tenants and that",
    "start": "193450",
    "end": "198670"
  },
  {
    "text": "upgrades and changes would not impact our customers and we need resilient and",
    "start": "198670",
    "end": "204459"
  },
  {
    "text": "reproducible infrastructure so now let's talk about our vision and how we",
    "start": "204459",
    "end": "209739"
  },
  {
    "text": "addressed this so with security we need",
    "start": "209739",
    "end": "215680"
  },
  {
    "text": "tenant isolation we have multi-tenancy and in order to do this we use namespace",
    "start": "215680",
    "end": "222160"
  },
  {
    "text": "isolation and also utilize role based access control and then for those",
    "start": "222160",
    "end": "227350"
  },
  {
    "text": "tenants who require hard multi-tenancy they have their own dedicated cluster as this is not currently possible with",
    "start": "227350",
    "end": "234010"
  },
  {
    "text": "kubernetes and then we have common services that are based on pattern and these are patterns that we found",
    "start": "234010",
    "end": "240980"
  },
  {
    "text": "when we were speaking with application teams and you know it's things like ingress monitoring logging continuous",
    "start": "240980",
    "end": "248569"
  },
  {
    "text": "deployment tracing so all of these common tools that everyone needs and we",
    "start": "248569",
    "end": "254150"
  },
  {
    "text": "need it to be easy for tenants to onboard so the snowflakes give us this",
    "start": "254150",
    "end": "260570"
  },
  {
    "text": "opportunity and we're able to draw on a pattern to find what everyone needs so",
    "start": "260570",
    "end": "270410"
  },
  {
    "text": "how did we make this vision a reality based on the patterns we distilled our",
    "start": "270410",
    "end": "275780"
  },
  {
    "text": "cluster types down to three different types first we have a control cluster we",
    "start": "275780",
    "end": "281660"
  },
  {
    "text": "have one per environment it manages deployments and it has global monitoring",
    "start": "281660",
    "end": "286750"
  },
  {
    "text": "then we have single tenant clusters which are for teams who require hard",
    "start": "286750",
    "end": "292160"
  },
  {
    "text": "multi-tenancy and finally we have multi tenant clusters for teams who are able",
    "start": "292160",
    "end": "297800"
  },
  {
    "text": "to work with soft multi-tenancy and deployment of our services we needed to",
    "start": "297800",
    "end": "304039"
  },
  {
    "text": "ensure it was automated and get ops helps us to achieve this and finally we",
    "start": "304039",
    "end": "310190"
  },
  {
    "text": "want our tenants to benefit from our core base services that we offer so we",
    "start": "310190",
    "end": "315289"
  },
  {
    "text": "give them the ability to customize for their unique needs for their unique pattern so now let's discuss the",
    "start": "315289",
    "end": "325639"
  },
  {
    "start": "322000",
    "end": "322000"
  },
  {
    "text": "timeline of our journey in early 2018 we",
    "start": "325639",
    "end": "331430"
  },
  {
    "text": "introduced kubernetes for application teams they were excited about the ability to control deployments and",
    "start": "331430",
    "end": "338180"
  },
  {
    "text": "really wanted to learn more they quickly realized that it was complex and third",
    "start": "338180",
    "end": "345740"
  },
  {
    "text": "quarter of 2018 application teams were seeming to be overwhelmed and they were",
    "start": "345740",
    "end": "351139"
  },
  {
    "text": "having a difficult time navigating the technology then in fourth quarter of",
    "start": "351139",
    "end": "357289"
  },
  {
    "text": "2018 we began to draw on the patterns we were seeing and consolidated the base",
    "start": "357289",
    "end": "362870"
  },
  {
    "text": "services we built in more automation and we worked on creating",
    "start": "362870",
    "end": "369280"
  },
  {
    "text": "redundant and secure infrastructure then",
    "start": "369280",
    "end": "374720"
  },
  {
    "text": "in first quarter of 2019 we worked more on tenant management so we worked with tenant isolation we extended based",
    "start": "374720",
    "end": "381980"
  },
  {
    "text": "services and allowed them to customize for their unique needs so for example a custom grip on a",
    "start": "381980",
    "end": "389060"
  },
  {
    "text": "dashboard so now let's have an overview of what get apses get is get get apps is",
    "start": "389060",
    "end": "401890"
  },
  {
    "text": "basically a couple different things go into the definition so git is the source",
    "start": "401890",
    "end": "407900"
  },
  {
    "text": "of truth and you have declarative definitions of environments configuration and deployments so for our",
    "start": "407900",
    "end": "416180"
  },
  {
    "text": "case we use home floor template a and we use customized for manifests so in that",
    "start": "416180",
    "end": "422900"
  },
  {
    "text": "transition from home to customize we use helm convert and customize that's how we",
    "start": "422900",
    "end": "429890"
  },
  {
    "text": "deal with snowflakes the patterns give us our base services and then we use overlays to customize for tenants for",
    "start": "429890",
    "end": "436970"
  },
  {
    "text": "things like ingress and then all of this is stored in get another part of get ops",
    "start": "436970",
    "end": "443660"
  },
  {
    "text": "is managing deployments from get in an automated fashion so we use a continuous",
    "start": "443660",
    "end": "450290"
  },
  {
    "text": "deployment tool which manages our automated deployments it ensures the",
    "start": "450290",
    "end": "455810"
  },
  {
    "text": "declared and actual states match and the tool we've chosen is Argos CD so argo CD",
    "start": "455810",
    "end": "462860"
  },
  {
    "text": "is a kubernetes controller and it does a diff basically and looks at what does declare didn't get and what is actually",
    "start": "462860",
    "end": "469580"
  },
  {
    "text": "running on the cluster and if there are any differences it's able to reconcile that so before we move on I just want to",
    "start": "469580",
    "end": "477230"
  },
  {
    "text": "get a read of the room who has used customized okay and then what about Argo",
    "start": "477230",
    "end": "484100"
  },
  {
    "text": "CD well hopefully for those of you who",
    "start": "484100",
    "end": "489110"
  },
  {
    "text": "are new to these technologies we'll give you a good introduction and then those of you who are familiar",
    "start": "489110",
    "end": "494920"
  },
  {
    "text": "with them hopefully we give you some new ideas and some things to take home and back to your companies to work with next",
    "start": "494920",
    "end": "505240"
  },
  {
    "start": "503000",
    "end": "503000"
  },
  {
    "text": "I want to go into some background information of some tools that we're using at MasterCard so for our",
    "start": "505240",
    "end": "511780"
  },
  {
    "text": "infrastructure we have PKS that were utilizing it is pivotal container",
    "start": "511780",
    "end": "517090"
  },
  {
    "text": "service for kubernetes we have three availability zones and we're utilizing",
    "start": "517090",
    "end": "522659"
  },
  {
    "text": "PKS Bosch director and ops manager we",
    "start": "522660",
    "end": "528370"
  },
  {
    "text": "have object and block storage spanning all availability zones and then NSX T is",
    "start": "528370",
    "end": "534640"
  },
  {
    "text": "our software-defined Network the PKS infrastructure has its own dedicated subnet and talks to the Gateway and IP",
    "start": "534640",
    "end": "542740"
  },
  {
    "text": "backbone which has access to the entire network so next I want to go into how we",
    "start": "542740",
    "end": "551950"
  },
  {
    "start": "548000",
    "end": "548000"
  },
  {
    "text": "create clusters and our cluster creation is based on git ops we add a cluster",
    "start": "551950",
    "end": "559780"
  },
  {
    "text": "definition to get this kicks off a concourse build concourse is an open",
    "start": "559780",
    "end": "567430"
  },
  {
    "text": "source pipeline base to CI CD tool and then through the PKS API a new cluster",
    "start": "567430",
    "end": "573460"
  },
  {
    "text": "is created we define the number of nodes and by default we have three masters so",
    "start": "573460",
    "end": "579910"
  },
  {
    "text": "we're fully ajay the system namespaces are created so cube system and PKS",
    "start": "579910",
    "end": "586900"
  },
  {
    "text": "system PKS system is a pivotal specific namespace and each has its own subnet",
    "start": "586900",
    "end": "596200"
  },
  {
    "text": "for communication with the Gateway we have the ability to set IP ranges and",
    "start": "596200",
    "end": "601570"
  },
  {
    "text": "set up network rules as well and so the same goes for any non system namespaces",
    "start": "601570",
    "end": "610710"
  },
  {
    "text": "so this is a strong foundation that we can use to build out single and multi",
    "start": "610710",
    "end": "616330"
  },
  {
    "text": "tenant clusters next I'll hand it off to Fabio to talk a little bit more about",
    "start": "616330",
    "end": "621400"
  },
  {
    "text": "our specific clusters and what we have running on them as base services so there's a lesson",
    "start": "621400",
    "end": "632120"
  },
  {
    "start": "627000",
    "end": "627000"
  },
  {
    "text": "explained we are building many clusters for our different talent so we run all of this on premise so the first problem",
    "start": "632120",
    "end": "637730"
  },
  {
    "text": "we're facing is how we gotta manage all these clusters right because the complexity manage one cluster from an",
    "start": "637730",
    "end": "643250"
  },
  {
    "text": "Operations standpoint imagine start to manage hundreds of those potentially so we introduced this concept of control",
    "start": "643250",
    "end": "649610"
  },
  {
    "text": "cluster and we use this control cluster to basically have a single place where we can operate all the other cluster",
    "start": "649610",
    "end": "655460"
  },
  {
    "text": "they are part of the environment so for each individual environment we always have a control cluster that bootstrap",
    "start": "655460",
    "end": "661670"
  },
  {
    "text": "the environment itself so for monitoring we created a single pane of glass so",
    "start": "661670",
    "end": "668900"
  },
  {
    "start": "664000",
    "end": "664000"
  },
  {
    "text": "what we've done is we deployed a combination of parameters and tunnels if you are not familiar with Thomas tunnels",
    "start": "668900",
    "end": "674810"
  },
  {
    "text": "is a component that allows you to do H a Prometheus so you can deploy several",
    "start": "674810",
    "end": "680360"
  },
  {
    "text": "parameters instances and then tano's will reconsolidate the data and they duplicate the data for you so the",
    "start": "680360",
    "end": "687680"
  },
  {
    "text": "tunnels they are deployed you know are the same in all of these clusters controller non control they will scrape",
    "start": "687680",
    "end": "694700"
  },
  {
    "text": "data from primitives which scraped from everything else and then they gonna send",
    "start": "694700",
    "end": "700220"
  },
  {
    "text": "the data to our object storage and in doing that you can also set some of the",
    "start": "700220",
    "end": "709630"
  },
  {
    "text": "data you can change the basically retention and you can down sample your",
    "start": "709690",
    "end": "716930"
  },
  {
    "text": "data so in that way you can basically have the ability of retaining longer",
    "start": "716930",
    "end": "722960"
  },
  {
    "text": "data for analytics later on and once you do this the tunnels on the control",
    "start": "722960",
    "end": "729320"
  },
  {
    "text": "cluster also has the ability to go and read the data from there and provide through graph ahna a single pane of",
    "start": "729320",
    "end": "735620"
  },
  {
    "text": "glass for our operations so we have set up graph honest dashboards where you can go and choose and select all the",
    "start": "735620",
    "end": "741890"
  },
  {
    "text": "different clusters they are part of your environment so then you can basically monitor everything from that place and",
    "start": "741890",
    "end": "747710"
  },
  {
    "text": "it goes from both the core services we deploy to the tenant space is where our applications are running",
    "start": "747710",
    "end": "756540"
  },
  {
    "text": "for logging we did a very similar thing so we deploy a fluent bit for each",
    "start": "756540",
    "end": "762010"
  },
  {
    "start": "757000",
    "end": "757000"
  },
  {
    "text": "individual node in those clusters and those fluent bit will relay data into an",
    "start": "762010",
    "end": "768250"
  },
  {
    "text": "elastic data store that we have on our control cluster so all the logs are",
    "start": "768250",
    "end": "775960"
  },
  {
    "text": "going there we have some logs we are not representing ever some logs there for compliance and and go to Splunk we can",
    "start": "775960",
    "end": "786460"
  },
  {
    "text": "send those out there but the majority of our logs are going to elasticsearch and and again that provides through Cabana a",
    "start": "786460",
    "end": "793660"
  },
  {
    "text": "single place for people to further our operations to go and look at those logs",
    "start": "793660",
    "end": "799560"
  },
  {
    "text": "we also use our control cluster for to have a unified CI CD pipeline so when",
    "start": "799560",
    "end": "807850"
  },
  {
    "start": "801000",
    "end": "801000"
  },
  {
    "text": "you're gonna go and do a changing it we basically have an Argo CD that listen to",
    "start": "807850",
    "end": "813550"
  },
  {
    "text": "those changes in get to those application and projects that we have reference through our go and then our go",
    "start": "813550",
    "end": "819580"
  },
  {
    "text": "goes and automatically deploys both the core services that we defined and/or",
    "start": "819580",
    "end": "825630"
  },
  {
    "text": "custom dashboard or custom services that we've done so if you're not familiar",
    "start": "825630",
    "end": "830680"
  },
  {
    "text": "with Argo Argo basically stands the concept of desired state versus actual",
    "start": "830680",
    "end": "836230"
  },
  {
    "text": "state the kubernetes and so when you do a deployment in kubernetes kubernetes college effort is really running versus",
    "start": "836230",
    "end": "842530"
  },
  {
    "text": "what your deployment is saying it should run and if you know there is a mismatch it's gonna go and bring up more pods or",
    "start": "842530",
    "end": "848290"
  },
  {
    "text": "tear pods down or whatever is required Argo takes the further upstream so",
    "start": "848290",
    "end": "853750"
  },
  {
    "text": "basically he has a concept of what an application should be when he runs and he matched the deployment so if you do a",
    "start": "853750",
    "end": "860680"
  },
  {
    "text": "change let's say an image change it will go and check if your deployment has the version of the image that you want to",
    "start": "860680",
    "end": "867370"
  },
  {
    "text": "deploy and if it doesn't it's gonna go and update the deployment which then in turn is gonna update the pods downstream",
    "start": "867370",
    "end": "873880"
  },
  {
    "text": "so it's a very powerful tool and we found it very useful for automating all these steps ok",
    "start": "873880",
    "end": "879810"
  },
  {
    "text": "next a little bit on customized I know this is now about customized by just give you a flavor customized does",
    "start": "879810",
    "end": "886610"
  },
  {
    "start": "881000",
    "end": "881000"
  },
  {
    "text": "so customizes the ability of taking a base deployment llamo right and it can",
    "start": "886610",
    "end": "892730"
  },
  {
    "text": "be any type of yum all deployments can also be on CR DS and actually that's what we do we use customizers two",
    "start": "892730",
    "end": "898400"
  },
  {
    "text": "definitions as I will show you later so you can clone you know Yama file you can",
    "start": "898400",
    "end": "905450"
  },
  {
    "text": "build it as we do from helm template so we leverage the community as much as we can you know because there's a lot of",
    "start": "905450",
    "end": "911300"
  },
  {
    "text": "good stuff around on you know basing or foundation for deployment of applications and then we write an",
    "start": "911300",
    "end": "917750"
  },
  {
    "text": "overlay and you know customize of many many ways of doing this strategic manner jazz pace Jason patch and all sorts of",
    "start": "917750",
    "end": "925580"
  },
  {
    "text": "ways you can write these overlays on top of it in this example I use a Jason patch so it's very simple right it's a",
    "start": "925580",
    "end": "931790"
  },
  {
    "text": "JSON path where you gotta say replace something somewhere so in this case it's gonna go and replace the cabana generic",
    "start": "931790",
    "end": "939080"
  },
  {
    "text": "name into actually a DNS fully qualified",
    "start": "939080",
    "end": "944690"
  },
  {
    "text": "name that will be used for a hypothetical cluster the same thing can be done with the host itself so then you",
    "start": "944690",
    "end": "951110"
  },
  {
    "text": "can write as many as you wanted this they can go and change and modify whatever parts that you want of your deployments once you've done there",
    "start": "951110",
    "end": "958030"
  },
  {
    "text": "basically you do a customized build and actually customize now as part of the",
    "start": "958030",
    "end": "964490"
  },
  {
    "text": "cube CTL has been fully integrated but customized we'll do a build take your",
    "start": "964490",
    "end": "969650"
  },
  {
    "text": "base application that your reference apply the overlays they're rather relevant for what you are deploying and",
    "start": "969650",
    "end": "975650"
  },
  {
    "text": "build a new yellow files or multiple Java files as a result and those would",
    "start": "975650",
    "end": "982310"
  },
  {
    "text": "be applied by your cube CTL in our case we don't use cube CTL but we use our go so then our go integrates as we",
    "start": "982310",
    "end": "988910"
  },
  {
    "text": "customize so basically when are gone is to check the if an application is up-to-date or now it's gonna go as",
    "start": "988910",
    "end": "995750"
  },
  {
    "text": "customized customized we'll build a thing for our go are just gonna check the desired state versus the color state",
    "start": "995750",
    "end": "1001180"
  },
  {
    "text": "and if he's needed is going to push those channels into kubernetes and and kubernetes will take",
    "start": "1001180",
    "end": "1006670"
  },
  {
    "text": "from there so let's call it to be more in the details so how we build the",
    "start": "1006670",
    "end": "1011800"
  },
  {
    "text": "cluster and auto provision so the goal here for us is application comes in they want the dedicated cluster they can",
    "start": "1011800",
    "end": "1018709"
  },
  {
    "text": "choose among a kind of set of Alucard services that we provide and then they",
    "start": "1018709",
    "end": "1024079"
  },
  {
    "text": "built they put the ingot they make a get request and from there on is 100%",
    "start": "1024079",
    "end": "1029480"
  },
  {
    "text": "automated we don't touch it so let's start so they go and make a couple of",
    "start": "1029480",
    "end": "1035120"
  },
  {
    "start": "1033000",
    "end": "1033000"
  },
  {
    "text": "files they usually request a cluster and then they request a la carte services so",
    "start": "1035120",
    "end": "1042319"
  },
  {
    "text": "you see these are CR these customers whose definitions that we introduced and we are actually looking at Italy now at",
    "start": "1042319",
    "end": "1049370"
  },
  {
    "text": "the cluster specs which is came out recently and you know we want to follow them and see if how their progress",
    "start": "1049370",
    "end": "1055549"
  },
  {
    "text": "because we see a lot of overlap with what we are doing but the bottom line is that you know they're going to create",
    "start": "1055549",
    "end": "1061039"
  },
  {
    "text": "the CR D I know people use here the most or most people know CR DS in relationship wave operators but we are",
    "start": "1061039",
    "end": "1067429"
  },
  {
    "text": "taking this with a slightly different spin so it's a way of expressing what you want in the environment and then",
    "start": "1067429",
    "end": "1074150"
  },
  {
    "text": "when that's done concourse is listening to those github rapids and it's gonna",
    "start": "1074150",
    "end": "1080150"
  },
  {
    "text": "basically come up talk to the PKS API and then PKS can provision a cluster so",
    "start": "1080150",
    "end": "1086570"
  },
  {
    "text": "when a new cluster is done concourse will do a last part which is",
    "start": "1086570",
    "end": "1092780"
  },
  {
    "text": "we'll start in our control cluster a kubernetes job that kubernetes job will",
    "start": "1092780",
    "end": "1099080"
  },
  {
    "text": "basically go and operate on the get it's gonna clone the git repo and it's gonna go and create a new customized",
    "start": "1099080",
    "end": "1107539"
  },
  {
    "text": "deployment that customized deployment is based on both information about the cluster itself as well as the general",
    "start": "1107539",
    "end": "1115250"
  },
  {
    "text": "mapping because as Alison said you know they our application teams one the login",
    "start": "1115250",
    "end": "1120860"
  },
  {
    "text": "the monitoring so there are a part is common and there is a part there is the ala carte or some of the services are",
    "start": "1120860",
    "end": "1127039"
  },
  {
    "text": "relevant for them and so the job will end up building these customized",
    "start": "1127039",
    "end": "1132440"
  },
  {
    "text": "templates which reference to the application definition which are basically the basic definition llamo",
    "start": "1132440",
    "end": "1139970"
  },
  {
    "text": "definition to deploy tano's permit use the login all these kind of guys and once this is done basically the job",
    "start": "1139970",
    "end": "1149040"
  },
  {
    "text": "is gonna tell agro then now this new application exists inside the Geeta",
    "start": "1149040",
    "end": "1154740"
  },
  {
    "text": "gravel at a point Argo points those and of course what is gonna do is gonna see that none of these applications are in",
    "start": "1154740",
    "end": "1162210"
  },
  {
    "text": "the cluster that's been created because it's brand new and for that like the desire state is",
    "start": "1162210",
    "end": "1167550"
  },
  {
    "text": "not the same as the actual state so it's gonna go and start to deploy everything that has been requested",
    "start": "1167550",
    "end": "1174480"
  },
  {
    "text": "okay and you can replay deploy the core stuff as well as all the a la carte",
    "start": "1174480",
    "end": "1180270"
  },
  {
    "text": "services so let's go little bit more in deep on in detail of what we done with",
    "start": "1180270",
    "end": "1186840"
  },
  {
    "start": "1185000",
    "end": "1185000"
  },
  {
    "text": "the different CR DS so let's start from the cluster spec this is very simple I apologize to put llamo here but I",
    "start": "1186840",
    "end": "1194010"
  },
  {
    "text": "couldn't refrain from doing so so it's very simple basically we define the type of cluster",
    "start": "1194010",
    "end": "1200520"
  },
  {
    "text": "you want you get a a name you have a URL for it you want to give it and then",
    "start": "1200520",
    "end": "1205830"
  },
  {
    "text": "there is the part very interesting beside you know the plan and the number of nodes you want for this cluster we",
    "start": "1205830",
    "end": "1211230"
  },
  {
    "text": "define a cancer comforter of a cluster type and the ability to inherit so there",
    "start": "1211230",
    "end": "1217560"
  },
  {
    "text": "are other types that will be defined so let's say this is a car lawyer the fake example in what you want to be a single",
    "start": "1217560",
    "end": "1223890"
  },
  {
    "text": "tenant cluster which will mean some of the stuff they are part of their core constituency's will be bringing into the",
    "start": "1223890",
    "end": "1230070"
  },
  {
    "text": "cluster and then you know you deal with PII data and you want to be PCI compliant and that will bring different",
    "start": "1230070",
    "end": "1236040"
  },
  {
    "text": "type of applications by the vault into the cluster before this particular",
    "start": "1236040",
    "end": "1242250"
  },
  {
    "text": "application team will deploy their own workloads so in the customize deployment",
    "start": "1242250",
    "end": "1250410"
  },
  {
    "text": "we have we are creating variables so we can use those variables to then use them",
    "start": "1250410",
    "end": "1256440"
  },
  {
    "text": "inject them into the overlay so then the deployment of those monitoring login and",
    "start": "1256440",
    "end": "1261990"
  },
  {
    "text": "other stuff will be directly related to that particular cluster so mapping so",
    "start": "1261990",
    "end": "1271290"
  },
  {
    "start": "1269000",
    "end": "1269000"
  },
  {
    "text": "this is the other part to the equation right what we're doing here we're saying okay what applications what a la carte",
    "start": "1271290",
    "end": "1278940"
  },
  {
    "text": "services you want to bring as part of your own definition and so we have the a la carte",
    "start": "1278940",
    "end": "1283980"
  },
  {
    "text": "one where these are part of the two original series that the application will submit and they will basically say",
    "start": "1283980",
    "end": "1290970"
  },
  {
    "text": "well for my particular one I need this storage service or two service or whatever it is which are part of the",
    "start": "1290970",
    "end": "1297090"
  },
  {
    "text": "core services but there is also a bunch of existing services that as I said",
    "start": "1297090",
    "end": "1303060"
  },
  {
    "text": "before will be based on the types you inherit from so let's say if B III PCI single tenant and we also have a",
    "start": "1303060",
    "end": "1309900"
  },
  {
    "text": "constant of pour which is like it doesn't matter which type of class that you deploy which type of application or",
    "start": "1309900",
    "end": "1315690"
  },
  {
    "text": "what type of service Eric RT want we're gonna deploy anyway because these are for our own usage to basically manage",
    "start": "1315690",
    "end": "1321570"
  },
  {
    "text": "and run those clusters so when all of",
    "start": "1321570",
    "end": "1327060"
  },
  {
    "text": "this is done the customize is very simple because now what you do you bring",
    "start": "1327060",
    "end": "1332460"
  },
  {
    "text": "in those base deployments you bring in the cluster definition that they have",
    "start": "1332460",
    "end": "1337770"
  },
  {
    "text": "created and those overlays will bring in",
    "start": "1337770",
    "end": "1342780"
  },
  {
    "text": "the up definitions and they may have certain set of customized components in",
    "start": "1342780",
    "end": "1349650"
  },
  {
    "text": "it that needs to be adapted for that particular cluster so for instance looking at logging what it can happen",
    "start": "1349650",
    "end": "1356610"
  },
  {
    "text": "the Cabana in grass for that particular application may have a replacement",
    "start": "1356610",
    "end": "1361950"
  },
  {
    "text": "operation and this is very similar to the example I show you before on purpose now you see though the the real thing is",
    "start": "1361950",
    "end": "1368280"
  },
  {
    "text": "transforming with a bunch of variables they are inherited from the cluster definition and a mapper definition so up",
    "start": "1368280",
    "end": "1376140"
  },
  {
    "text": "named cluster name and qualified modified domain name are coming from those theories so I don't have to",
    "start": "1376140",
    "end": "1382740"
  },
  {
    "text": "constantly change my deployments or make my deployments tailored to a particular",
    "start": "1382740",
    "end": "1387960"
  },
  {
    "text": "cluster or to a particular application which we require manual intervention is all taken from templates and variable",
    "start": "1387960",
    "end": "1394740"
  },
  {
    "text": "and is only injected at the time of deployment okay there is what allow us",
    "start": "1394740",
    "end": "1400490"
  },
  {
    "text": "to basically don't touch anything and let this cluster being built",
    "start": "1400490",
    "end": "1407120"
  },
  {
    "start": "1407000",
    "end": "1407000"
  },
  {
    "text": "and lastly if you guys are familiar with Argo this is a very typical definition",
    "start": "1407930",
    "end": "1413820"
  },
  {
    "text": "of another application and deployment and again we inject variables in it we",
    "start": "1413820",
    "end": "1419220"
  },
  {
    "text": "have the application name the cluster name so we can make this application in",
    "start": "1419220",
    "end": "1424350"
  },
  {
    "text": "the metadata specific so when we retrieved from the log we will know which application they belong to which",
    "start": "1424350",
    "end": "1429870"
  },
  {
    "text": "cluster they belong to in that particular environment and with this",
    "start": "1429870",
    "end": "1435990"
  },
  {
    "text": "I'll pass back to Allison for the future plans",
    "start": "1435990",
    "end": "1443150"
  },
  {
    "start": "1441000",
    "end": "1441000"
  },
  {
    "text": "okay so you've seen a bit of our journey and where we've come from on the left",
    "start": "1447460",
    "end": "1454180"
  },
  {
    "text": "it's sort of grayed out that's you know where we are where we've been and moving forward we want to share some of our",
    "start": "1454180",
    "end": "1460750"
  },
  {
    "text": "future plans for our journey so this this quarter we've been working a lot on",
    "start": "1460750",
    "end": "1467560"
  },
  {
    "text": "improving onboarding and improving the tenant experience and also making enhancements to automation next quarter",
    "start": "1467560",
    "end": "1475360"
  },
  {
    "text": "we'll be rolling out an application which is a UI for tenant onboarding which will greatly simplify the process",
    "start": "1475360",
    "end": "1481750"
  },
  {
    "text": "and allow them to select some custom dashboards and then other customizations",
    "start": "1481750",
    "end": "1488440"
  },
  {
    "text": "for their unique patterning and then finally the end of this year we plan to be back at coop con in the US to present",
    "start": "1488440",
    "end": "1496000"
  },
  {
    "text": "some updates and then also share this tool we'll be rolling out shortly we",
    "start": "1496000",
    "end": "1504940"
  },
  {
    "start": "1502000",
    "end": "1502000"
  },
  {
    "text": "started the talk with a focus on security patterns and get-ups",
    "start": "1504940",
    "end": "1510120"
  },
  {
    "text": "hopefully you've seen this throughout the talk and have learned some things",
    "start": "1510120",
    "end": "1515200"
  },
  {
    "text": "you can take home we think it's very important to identify security concerns",
    "start": "1515200",
    "end": "1520870"
  },
  {
    "text": "and requirements upfront as this can have a big impact on your journey and where you end up going we also focus on",
    "start": "1520870",
    "end": "1529450"
  },
  {
    "text": "patterns and we've drawn on the patterns to find unique needs and also needs that",
    "start": "1529450",
    "end": "1535930"
  },
  {
    "text": "are universal for our application teams for our customers so these patterns have",
    "start": "1535930",
    "end": "1541900"
  },
  {
    "text": "helped us limited the types of clusters also limit the differences between the types of clusters and we've been able to",
    "start": "1541900",
    "end": "1549850"
  },
  {
    "text": "come up with base services that all teams can benefit from while also",
    "start": "1549850",
    "end": "1555930"
  },
  {
    "text": "allowing them to customize using overlays for services so we provide a",
    "start": "1555930",
    "end": "1562510"
  },
  {
    "text": "platform and a product how can we best enable our customers and then get-ups",
    "start": "1562510",
    "end": "1568540"
  },
  {
    "text": "we're using declarative definitions in version control and have automated deployments with a built in audit trail",
    "start": "1568540",
    "end": "1577320"
  },
  {
    "text": "so if we update an image in the changed is merged and then all",
    "start": "1577320",
    "end": "1582970"
  },
  {
    "text": "clusters running this are automatically updated this is pretty powerful",
    "start": "1582970",
    "end": "1587980"
  },
  {
    "text": "and then with the C and C F you've probably noticed a lot of the tools we",
    "start": "1587980",
    "end": "1594610"
  },
  {
    "text": "have discussed throughout this talk are open source many of them are part of the CNC F this is a known road to success on",
    "start": "1594610",
    "end": "1602920"
  },
  {
    "text": "our cloud native journey and we really feel it's important to embrace that and",
    "start": "1602920",
    "end": "1608280"
  },
  {
    "text": "as well as taking advantage of that we would like to give back to the community",
    "start": "1608280",
    "end": "1614230"
  },
  {
    "text": "as well additionally we'll be leveraging some technologies including the cluster API",
    "start": "1614230",
    "end": "1620800"
  },
  {
    "text": "and the multi-tenancy sig and feel it's good to draw on the community and",
    "start": "1620800",
    "end": "1629850"
  },
  {
    "text": "research and usage in in the community as well as giving back so thank you so",
    "start": "1629850",
    "end": "1637120"
  },
  {
    "text": "much for coming to our talk hope you enjoyed it and let us know if you have any questions",
    "start": "1637120",
    "end": "1643530"
  },
  {
    "text": "we have a few minutes for questions oh sorry hi thank you very much um how do",
    "start": "1649160",
    "end": "1659040"
  },
  {
    "text": "you manage secrets and configure management in this kind of pipeline with Argos so how how do you inject this",
    "start": "1659040",
    "end": "1664650"
  },
  {
    "text": "secrets and disconfirm has been my behaviour in room time yeah good",
    "start": "1664650",
    "end": "1670440"
  },
  {
    "text": "question we we inject the secrets at the beginning we can coerce a little show",
    "start": "1670440",
    "end": "1675690"
  },
  {
    "text": "that part and we basically had evolved for each individual environment one",
    "start": "1675690",
    "end": "1682140"
  },
  {
    "text": "vault / environment so we bootstrap the secrets that we use for our own core",
    "start": "1682140",
    "end": "1687960"
  },
  {
    "text": "services we don't manage right now the secrets for the application they",
    "start": "1687960",
    "end": "1694320"
  },
  {
    "text": "managing themselves this how do you study secrets how you strut the secrets",
    "start": "1694320",
    "end": "1702150"
  },
  {
    "text": "from concourse so what is the backend our concourse basically bootstrap the secrets into vault all right and then",
    "start": "1702150",
    "end": "1708750"
  },
  {
    "text": "the application have a one-time token when they come up they gonna talk to vault retrieve the secrets and we use a",
    "start": "1708750",
    "end": "1714930"
  },
  {
    "text": "path that is similar to the deployment structuring customized to involve where",
    "start": "1714930",
    "end": "1720090"
  },
  {
    "text": "the secrets are stored so if I am up a large bar that's the equivalent path",
    "start": "1720090",
    "end": "1726450"
  },
  {
    "text": "will be my vault path to find my own stuff yeah so how granular do you go",
    "start": "1726450",
    "end": "1735090"
  },
  {
    "text": "into the gear repositories do you have a big one where you have all the classrooms defined or do you have small",
    "start": "1735090",
    "end": "1741180"
  },
  {
    "text": "gear repositories which conquer just checks all of them right now we have",
    "start": "1741180",
    "end": "1749270"
  },
  {
    "text": "several different repositories one where we have environments we have based applications to declare it there then we",
    "start": "1749270",
    "end": "1757320"
  },
  {
    "text": "have attendant repository where all the tenants have like we have their role",
    "start": "1757320",
    "end": "1762360"
  },
  {
    "text": "based access control and different security setup for managing tenancy we",
    "start": "1762360",
    "end": "1768720"
  },
  {
    "text": "have our clusters defined in one repository am i missing",
    "start": "1768720",
    "end": "1774600"
  },
  {
    "text": "no but basically we have one repository for environment so the environments are",
    "start": "1774600",
    "end": "1781090"
  },
  {
    "text": "divided of sandbox stage and then inside there are the classes so we don't have one repository pair environment well",
    "start": "1781090",
    "end": "1787029"
  },
  {
    "text": "just one and then we classify the different deployments the different",
    "start": "1787029",
    "end": "1792519"
  },
  {
    "text": "environments right there yeah can you",
    "start": "1792519",
    "end": "1798490"
  },
  {
    "text": "talk a little bit more about how you automate all the infrastructure for those clusters like you talked about the",
    "start": "1798490",
    "end": "1805029"
  },
  {
    "text": "api's do you have but are you leveraging any tools like terraform or stuff like that for all the infrastructure is there",
    "start": "1805029",
    "end": "1812100"
  },
  {
    "text": "so as Adam said we are using PKS the pivotal solution so pivotal has a",
    "start": "1812100",
    "end": "1822720"
  },
  {
    "text": "basically it's built on their boss foundation and through the API you can",
    "start": "1822720",
    "end": "1829090"
  },
  {
    "text": "request the creation on the cluster which will talk to the center create",
    "start": "1829090",
    "end": "1835090"
  },
  {
    "text": "events and then deploy the core components the kubernetes pieces into it so we are not using terraform it's all",
    "start": "1835090",
    "end": "1842250"
  },
  {
    "text": "delivered as part of the PKS platform okay and just one follow-up sorry can",
    "start": "1842250",
    "end": "1851260"
  },
  {
    "text": "you hear me one two",
    "start": "1851260",
    "end": "1858120"
  },
  {
    "text": "no nothing",
    "start": "1862270",
    "end": "1866850"
  },
  {
    "text": "hello hello they're all dead",
    "start": "1869480",
    "end": "1877268"
  },
  {
    "text": "we are the core service so basically imagine that you are coming to us and",
    "start": "1891470",
    "end": "1897030"
  },
  {
    "text": "you say I need a cluster to run this application or applications and you are",
    "start": "1897030",
    "end": "1902580"
  },
  {
    "text": "one of the business unit so we will be the cluster based on the type of class that you require we will provision the cluster and deploy",
    "start": "1902580",
    "end": "1910380"
  },
  {
    "text": "all the core application core services they are needed for managing the cluster",
    "start": "1910380",
    "end": "1918360"
  },
  {
    "text": "[Music]",
    "start": "1918360",
    "end": "1921410"
  },
  {
    "text": "yeah sorry [Music]",
    "start": "1927200",
    "end": "1935169"
  },
  {
    "text": "are you getting audio yes",
    "start": "1965720",
    "end": "1970190"
  },
  {
    "text": "based on so if I define a namespace the namespace",
    "start": "2014690",
    "end": "2021670"
  }
]