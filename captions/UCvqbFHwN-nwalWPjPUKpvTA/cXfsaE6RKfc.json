[
  {
    "start": "0",
    "end": "45000"
  },
  {
    "text": "so as I mentioned I'm Gareth rush Grove from the UK hence the accent I work at a",
    "start": "60",
    "end": "7189"
  },
  {
    "text": "security company making job tools called six I contribute to a bunch of",
    "start": "7189",
    "end": "12389"
  },
  {
    "text": "open-source projects and I'm more obviously gonna be talking about that here today I want to take a step back",
    "start": "12389",
    "end": "20430"
  },
  {
    "text": "from the over long title and talk a little bit about what we mean by policy in the context of software development",
    "start": "20430",
    "end": "26070"
  },
  {
    "text": "and I want to introduce open policy agent and some tools from that ecosystem",
    "start": "26070",
    "end": "31380"
  },
  {
    "text": "and then really dive into an example what looking at where it's useful and",
    "start": "31380",
    "end": "36600"
  },
  {
    "text": "how we can do so like test policy in a suit make policy assertions throughout our pipeline so what what do we mean by",
    "start": "36600",
    "end": "48510"
  },
  {
    "start": "45000",
    "end": "119000"
  },
  {
    "text": "policy and always like a dictionary definition to kick things off and a set",
    "start": "48510",
    "end": "54750"
  },
  {
    "text": "of ideas are a plan of what to do in a particular situation that has been agreed to officially by a group of",
    "start": "54750",
    "end": "59760"
  },
  {
    "text": "people a business organization government or political party and obviously here we're mainly talking about maybe the most senior people in",
    "start": "59760",
    "end": "68010"
  },
  {
    "text": "your organization going into a room and deciding on certain things that you you do or don't do so maybe it's that",
    "start": "68010",
    "end": "77070"
  },
  {
    "text": "someone has that mandated all all of your go projects should be using a specific version of go again applicable",
    "start": "77070",
    "end": "84570"
  },
  {
    "text": "to all sorts of other different languages and frameworks maybe it's that the lawyers are involved and all the",
    "start": "84570",
    "end": "92070"
  },
  {
    "text": "open source projects should all use the specific as the same license if you're releasing code under an open-source",
    "start": "92070",
    "end": "98369"
  },
  {
    "text": "project you've decided it has to be this license or maybe it's more specific",
    "start": "98369",
    "end": "103770"
  },
  {
    "text": "maybe it's about all those docket for creating or other assets you're creating",
    "start": "103770",
    "end": "108990"
  },
  {
    "text": "and you have some rules about them and you have all doctor files you have a",
    "start": "108990",
    "end": "114899"
  },
  {
    "text": "maintainer label we don't use latest tags whatever it might be so if that's",
    "start": "114899",
    "end": "120869"
  },
  {
    "start": "119000",
    "end": "250000"
  },
  {
    "text": "the sort of working definition of policy at least for the next half an hour",
    "start": "120869",
    "end": "127369"
  },
  {
    "text": "h-how'd might we choose to enforce that in our software pipelines",
    "start": "127489",
    "end": "133780"
  },
  {
    "text": "and the why there is really that scaling",
    "start": "133780",
    "end": "139060"
  },
  {
    "text": "policy enforcement where it is that sort of some people hopefully haven't gone into a smoke-filled room but might",
    "start": "139060",
    "end": "144910"
  },
  {
    "text": "Hutton come up with these rules and then written them into work word document and then put it on SharePoint and like yep",
    "start": "144910",
    "end": "151450"
  },
  {
    "text": "we're all good now all of those things are true that doesn't work",
    "start": "151450",
    "end": "156870"
  },
  {
    "text": "ultimately people don't find it people don't believe it people don't pay",
    "start": "156870",
    "end": "162100"
  },
  {
    "text": "attention to it people appreciate that it's probably out of date like maintaining that as a sort of static",
    "start": "162100",
    "end": "169510"
  },
  {
    "text": "thing that's manually enforced really just leads to the stress of often people",
    "start": "169510",
    "end": "176200"
  },
  {
    "text": "on the security side or compliance side running around your organization like",
    "start": "176200",
    "end": "181269"
  },
  {
    "text": "trying to play whack-a-mole not because people are doing the wrong things on purpose but because it's hard to Italy",
    "start": "181269",
    "end": "188860"
  },
  {
    "text": "scale processes built on people so how can we automate that if this is a sort",
    "start": "188860",
    "end": "194830"
  },
  {
    "text": "of our very simplified model of our process pipeline Application Lifecycle",
    "start": "194830",
    "end": "202180"
  },
  {
    "text": "and really just for the purposes of this talk again your you'll point me more",
    "start": "202180",
    "end": "207280"
  },
  {
    "text": "complex but generalizing an important thing to note here is feedback like it's",
    "start": "207280",
    "end": "216160"
  },
  {
    "text": "not just enough to know the current state of okay yep we need to know that",
    "start": "216160",
    "end": "222100"
  },
  {
    "text": "like 10% of our NGO projects are not on the correct version but how do we actually fix that like just reporting it",
    "start": "222100",
    "end": "229540"
  },
  {
    "text": "isn't probably good enough the reality is that we need feedback often to developers to resolve those things",
    "start": "229540",
    "end": "237000"
  },
  {
    "text": "testing earlier is faster feedback but maybe not complete you're not gonna see",
    "start": "237000",
    "end": "242049"
  },
  {
    "text": "everything testing later like this is maybe where you're running everything this is if you care about most but it's",
    "start": "242049",
    "end": "248590"
  },
  {
    "text": "slower feedback and we'll come back to why that's so interesting a bit later on",
    "start": "248590",
    "end": "253620"
  },
  {
    "start": "250000",
    "end": "328000"
  },
  {
    "text": "so um who's come across open policy agent",
    "start": "253620",
    "end": "259060"
  },
  {
    "text": "what's hands who's using it fewer hands that's what I thought",
    "start": "259060",
    "end": "265800"
  },
  {
    "text": "so what is our policy agent so I like to",
    "start": "265820",
    "end": "272300"
  },
  {
    "text": "think of it as an open-source policy engine so so open source project it's part of the CNCs sort of family of",
    "start": "272300",
    "end": "279650"
  },
  {
    "text": "projects now and and it's an engine for making policy decisions ultimately",
    "start": "279650",
    "end": "286130"
  },
  {
    "text": "you've probably built sort of hard-coded versions of sort of policy engines in your code before open just solves all",
    "start": "286130",
    "end": "293000"
  },
  {
    "text": "the same problems in a generalized way you can use it as a library and go you can run it as a service and only you",
    "start": "293000",
    "end": "301580"
  },
  {
    "text": "give it some policy and written in a language called rego and I'll show some examples of that and you give it some",
    "start": "301580",
    "end": "308510"
  },
  {
    "text": "data and it gives you back the like the answers to I will actually what happened",
    "start": "308510",
    "end": "314600"
  },
  {
    "text": "when we input we applied that policy to that data and it's also a really nice",
    "start": "314600",
    "end": "320180"
  },
  {
    "text": "like friendly open-source community there there's a sensible slight channel there's a whole bunch of nice folks",
    "start": "320180",
    "end": "327080"
  },
  {
    "text": "around or Vincent described it it's my new favorite hammer tells that you",
    "start": "327080",
    "end": "333260"
  },
  {
    "start": "328000",
    "end": "448000"
  },
  {
    "text": "because it's very general you can apply it to all sorts of different problem problems so here's a quick example let's",
    "start": "333260",
    "end": "344150"
  },
  {
    "text": "say that we're having a conversation about the rest like where we're going to",
    "start": "344150",
    "end": "349580"
  },
  {
    "text": "go for food this evening and because we're at solve our conference we've decided to collect that list in a JSON",
    "start": "349580",
    "end": "356840"
  },
  {
    "text": "document like bear with me so well we've",
    "start": "356840",
    "end": "362450"
  },
  {
    "text": "got a data structure we've we've listed some restaurants that we could go to and maybe different people have suggested",
    "start": "362450",
    "end": "367700"
  },
  {
    "text": "different ones but I've got some opinions about where we might eat and",
    "start": "367700",
    "end": "375310"
  },
  {
    "text": "realistically I can't bear unlimited breadsticks it's just it's not good",
    "start": "375310",
    "end": "382430"
  },
  {
    "text": "so I'm saying a policy which says here well if it like we will basically fail",
    "start": "382430",
    "end": "388910"
  },
  {
    "text": "we will say that no we're out of policy if Olive Garden is in that list totally",
    "start": "388910",
    "end": "395720"
  },
  {
    "text": "unfair but an example of the type of thing you",
    "start": "395720",
    "end": "400880"
  },
  {
    "text": "can do so this is rego this is the policy language the DSL that were using",
    "start": "400880",
    "end": "407600"
  },
  {
    "text": "to make these assertions so obviously",
    "start": "407600",
    "end": "414640"
  },
  {
    "text": "making decisions about where we go 308 it's probably not a super strong use",
    "start": "414640",
    "end": "420290"
  },
  {
    "text": "case open policy agent is integrated into all sorts of different services and this list keeps growing so it's",
    "start": "420290",
    "end": "427400"
  },
  {
    "text": "integrated into sto and safe and gatekeeper which I'll come onto later",
    "start": "427400",
    "end": "432610"
  },
  {
    "text": "because there's lots of services where you want to make policy decisions and open gives you a really powerful tool to",
    "start": "432610",
    "end": "439580"
  },
  {
    "text": "do so and there's advantages to have being able to describe your policies for different things in the same language",
    "start": "439580",
    "end": "447910"
  },
  {
    "start": "448000",
    "end": "571000"
  },
  {
    "text": "it's quite commonly used actually in the connecting space in the moment now this",
    "start": "448840",
    "end": "454070"
  },
  {
    "text": "is strong like link between the two areas it's mainly used over here so it's",
    "start": "454070",
    "end": "459140"
  },
  {
    "text": "mainly used in our sort of simplified model in production in your in connect",
    "start": "459140",
    "end": "464300"
  },
  {
    "text": "these questions often as part of an emission controller and we'll come on to an example of that later with gatekeeper",
    "start": "464300",
    "end": "469940"
  },
  {
    "text": "but mainly over here what we said before was actually that and this is great for in compliance and sort of completeness",
    "start": "469940",
    "end": "479980"
  },
  {
    "text": "but not great for fast feedback so going",
    "start": "479980",
    "end": "485300"
  },
  {
    "text": "back sort of a little while ago I was sort of super interesting open source engine but I was more interested in that",
    "start": "485300",
    "end": "490670"
  },
  {
    "text": "side of things I was more like well how can we get the power of policy into",
    "start": "490670",
    "end": "496010"
  },
  {
    "text": "developers hands so I had some time on my hands somehow took open policy agent",
    "start": "496010",
    "end": "504230"
  },
  {
    "text": "and wrote a contest so I did it hot just introducing contest in Barcelona so this",
    "start": "504230",
    "end": "512719"
  },
  {
    "text": "is built on top of open policy agent open policy I didn't use all the hard work context provides and developer",
    "start": "512720",
    "end": "520849"
  },
  {
    "text": "focused user experience and user interface on top of that and so it's",
    "start": "520849",
    "end": "526870"
  },
  {
    "text": "still a general purpose tool but it a very specific use case really around",
    "start": "526870",
    "end": "533850"
  },
  {
    "text": "testing so it's much more like more of a local testing tool or a tool for CI",
    "start": "533850",
    "end": "539120"
  },
  {
    "text": "intervention and it has a whole bunch of things that just make it easier to solve",
    "start": "539120",
    "end": "544620"
  },
  {
    "text": "those types of problems so own policy agent really cares about data well confidence based he says I know about",
    "start": "544620",
    "end": "551850"
  },
  {
    "text": "all the data formats you're using just give me them and I'll sort it out so it supports Jason and Yama on nine I and",
    "start": "551850",
    "end": "558030"
  },
  {
    "text": "HCl and Tamil and Q and dockerfile and probably some others at this point so give it your config files and some",
    "start": "558030",
    "end": "565620"
  },
  {
    "text": "policy and we can make assertions on that it also has some built-in tools for sharing and like sort of develop a",
    "start": "565620",
    "end": "572580"
  },
  {
    "text": "friendly output so for our example previously let's say that our list of",
    "start": "572580",
    "end": "579780"
  },
  {
    "text": "restaurants was in risk restaurants Jason restaurant stop rego is the rego file we looked at and we can just run",
    "start": "579780",
    "end": "586470"
  },
  {
    "text": "comp test test 20 of those things and we'll get some hopefully useful output",
    "start": "586470",
    "end": "592399"
  },
  {
    "text": "whereas Oprah is sort of integrated into I guess that more server-side services",
    "start": "593480",
    "end": "599130"
  },
  {
    "text": "comp test basically then ends up integrated into various developer tools so there's github actions there's Tecton",
    "start": "599130",
    "end": "605700"
  },
  {
    "text": "tasks there's a circle CI orb that was contributed by a someone who was using",
    "start": "605700",
    "end": "610800"
  },
  {
    "text": "circle and came along and joined the project so that's that's the sort of",
    "start": "610800",
    "end": "616080"
  },
  {
    "text": "components parts that I'm gonna use to sort of build out this pipeline but",
    "start": "616080",
    "end": "621960"
  },
  {
    "text": "let's jump into an actual example I'm good because I want to make this like a",
    "start": "621960",
    "end": "630630"
  },
  {
    "text": "bit more real I'm picking a specific project that means I needed to pick sangwich I've picked Python because I",
    "start": "630630",
    "end": "638100"
  },
  {
    "text": "like Python but this is totally applicable to anything the real the reality is if you've got some other",
    "start": "638100",
    "end": "644580"
  },
  {
    "text": "language shell framework you're gonna have some config files you know what they are and so don't worry about the",
    "start": "644580",
    "end": "651000"
  },
  {
    "text": "Python specific bits you've probably got some config file in your repo for everything so one of the things that a",
    "start": "651000",
    "end": "658950"
  },
  {
    "text": "Python project often has is wow there's a number of different alternatives PIPP file is one of them for describing",
    "start": "658950",
    "end": "667810"
  },
  {
    "text": "our defining the dependencies of the project so which packages am i using in",
    "start": "667810",
    "end": "673510"
  },
  {
    "text": "my Python project so this might in Java you might have a pom to XML file or a Gradle file in Ruby it might be a gem",
    "start": "673510",
    "end": "680290"
  },
  {
    "text": "file in node project on Jason all of those files a configuration and well in",
    "start": "680290",
    "end": "688870"
  },
  {
    "text": "my organization my hypothetical organization we've got some rules around those in one case well we should be on",
    "start": "688870",
    "end": "697540"
  },
  {
    "text": "Python 3 and big s well that's a patent to is their end of life so that's",
    "start": "697540",
    "end": "703390"
  },
  {
    "text": "definitely something where organizations would say it this isn't describing it in code also we",
    "start": "703390",
    "end": "710500"
  },
  {
    "text": "should be using SSL so simple assertions about things that you could like have a",
    "start": "710500",
    "end": "717399"
  },
  {
    "text": "conversation about now encoding described in code so let's have a look",
    "start": "717399",
    "end": "723990"
  },
  {
    "text": "well that might look like hopefully it's big enough so I'm in the",
    "start": "724860",
    "end": "730810"
  },
  {
    "text": "repo with a load of these config files so contest spell test so I'm gonna run",
    "start": "730810",
    "end": "745209"
  },
  {
    "text": "contest test I'm gonna tell the tell contest that this is Tamil and pip file",
    "start": "745209",
    "end": "752310"
  },
  {
    "text": "doesn't have an extension not and not easy to auto discover that so basically",
    "start": "752310",
    "end": "757480"
  },
  {
    "text": "we're being explicit in this case and namespaces me saying use the policies",
    "start": "757480",
    "end": "762940"
  },
  {
    "text": "related to pip file and what and pip file is the actual file so I can run that and lo and behold we fail if I",
    "start": "762940",
    "end": "771660"
  },
  {
    "text": "change my Tamil file obviously again don't region which flows civics and we",
    "start": "771660",
    "end": "779709"
  },
  {
    "text": "run obviously like I've started all problems and like that was something",
    "start": "779709",
    "end": "785290"
  },
  {
    "text": "that I just ran in my project that was generic to my organization my project had a problem I was able to fix it and obviously we could fix the other one as",
    "start": "785290",
    "end": "791470"
  },
  {
    "text": "well so pretty simple but and in this",
    "start": "791470",
    "end": "798370"
  },
  {
    "text": "particular project there's actually quite a few different config files there's a PI test file there's some",
    "start": "798370",
    "end": "804340"
  },
  {
    "text": "kubernetes configs there's a docker file well using the same tooling we can test",
    "start": "804340",
    "end": "812310"
  },
  {
    "text": "let's do we can test our PI test file",
    "start": "812310",
    "end": "821160"
  },
  {
    "text": "and you'll note there that we've got instead of hard failures like instead of",
    "start": "821160",
    "end": "827260"
  },
  {
    "text": "it exiting with a non zero exit code and giving you red flashing failures we're saying well actually there are some",
    "start": "827260",
    "end": "833410"
  },
  {
    "text": "things where it it's a strong hint but yeah we'll probably let you off most the time maybe these become hard failures in",
    "start": "833410",
    "end": "839170"
  },
  {
    "text": "the future so it contests you can issue warnings as well and the other thing",
    "start": "839170",
    "end": "847870"
  },
  {
    "text": "here is when you start going well okay",
    "start": "847870",
    "end": "853030"
  },
  {
    "text": "but how do I know my policies work and I'm using this tool and I've written",
    "start": "853030",
    "end": "859180"
  },
  {
    "text": "some Rigo code but how do I know the Rieger code doesn't have bugs and well",
    "start": "859180",
    "end": "865000"
  },
  {
    "text": "turns out open policy agent has a unit testing framework because it is a",
    "start": "865000",
    "end": "871170"
  },
  {
    "text": "developer tool so let's have a look at some tests and again this is rego",
    "start": "871170",
    "end": "878080"
  },
  {
    "text": "ocurred testing the poll of the policies we wrote so again here we're saying well",
    "start": "878080",
    "end": "885790"
  },
  {
    "text": "we should deny we it should fail if the input is this so we're able to write",
    "start": "885790",
    "end": "893470"
  },
  {
    "text": "tests for our policies and then use those policies with a lot more confidence and confidence makes it",
    "start": "893470",
    "end": "900400"
  },
  {
    "text": "really easy to just run those tests with contest verify so that we'll run all the",
    "start": "900400",
    "end": "906940"
  },
  {
    "text": "unit tests for your policies so you have some confidence that like if someone says oh yeah like but you've had to take",
    "start": "906940",
    "end": "913870"
  },
  {
    "text": "that word document and you've turned it into code machines are good at doing the wrong thing if you've told them to do well we can solve that with testing we",
    "start": "913870",
    "end": "920530"
  },
  {
    "text": "do that everywhere else we can do it here with a ballsy agent",
    "start": "920530",
    "end": "926640"
  },
  {
    "text": "so I mentioned a few of these examples you never know if demos are not gonna work again think of all those",
    "start": "929290",
    "end": "937490"
  },
  {
    "text": "configuration files that you have in your repos that scatter around think of all the things that you know are the",
    "start": "937490",
    "end": "942950"
  },
  {
    "text": "right thing to do but you probably don't know whether you do them everywhere and suddenly you've got a very general",
    "start": "942950",
    "end": "949250"
  },
  {
    "text": "purpose tool that can take any of those input formats and start reasoning about them complex also and this is southern",
    "start": "949250",
    "end": "959690"
  },
  {
    "text": "new thing actually has a Titan library as well so if someone's like I don't want another tool I already have a",
    "start": "959690",
    "end": "965630"
  },
  {
    "text": "testing tool I'm already writing my tests you can actually just use Cobb",
    "start": "965630",
    "end": "971090"
  },
  {
    "text": "test as a library in in hit word written in Python but here in PI unit tests and",
    "start": "971090",
    "end": "978580"
  },
  {
    "text": "maybe other people will but build a saw plugin for other things you're still writing your tests in Rego but your test",
    "start": "978580",
    "end": "984140"
  },
  {
    "text": "Runner is now the thing you're already running in your CI system which can be have some nice properties so and we're",
    "start": "984140",
    "end": "992870"
  },
  {
    "start": "989000",
    "end": "1022000"
  },
  {
    "text": "at kluve con so talking about how that applies to karate is sort of interesting and turns up we definitely have config",
    "start": "992870",
    "end": "999950"
  },
  {
    "text": "in cuba Nettie's there's quite a lot of it like I like turns out that there's",
    "start": "999950",
    "end": "1005770"
  },
  {
    "text": "probably close to 2 million like individual files probably hung get herb Exar Kun a t-shaped and that's public",
    "start": "1005770",
    "end": "1012940"
  },
  {
    "text": "ones how many there are worldwide for everywhere else is a point of",
    "start": "1012940",
    "end": "1018100"
  },
  {
    "text": "speculation but it's not a small number we definitely have a lot of config and",
    "start": "1018100",
    "end": "1023830"
  },
  {
    "start": "1022000",
    "end": "1079000"
  },
  {
    "text": "there are definitely best practices issues like things you can do right or",
    "start": "1023830",
    "end": "1029589"
  },
  {
    "text": "wrong we're at quite a low level of abstraction for the most part their shout-out to some prior art that coops",
    "start": "1029590",
    "end": "1037060"
  },
  {
    "text": "tech project they're a good job of sort of going through and coming up with some best practices around this useful wooden",
    "start": "1037060",
    "end": "1044199"
  },
  {
    "text": "shot tool one of the things we've been doing is sort of taking those rules and",
    "start": "1044200",
    "end": "1049570"
  },
  {
    "text": "encoding them in rego and again actually you're sort of building the same thing there it's just that you can be then",
    "start": "1049570",
    "end": "1055590"
  },
  {
    "text": "adding your own rules becomes easier having rules that are you don't like",
    "start": "1055590",
    "end": "1061060"
  },
  {
    "text": "maybe you don't like what I've got the rules there though you want something to be more important or something slightly different obviously having a general",
    "start": "1061060",
    "end": "1067390"
  },
  {
    "text": "purpose tool and the language around it makes that possible but there's definitely space for like",
    "start": "1067390",
    "end": "1072850"
  },
  {
    "text": "point-and-shoot specific tools and general ones in my opinion so we've been porting a bunch of the coupe's tech",
    "start": "1072850",
    "end": "1077890"
  },
  {
    "text": "rules to Tirico another thing that crops up around committees configuration",
    "start": "1077890",
    "end": "1083950"
  },
  {
    "start": "1079000",
    "end": "1161000"
  },
  {
    "text": "especially in the security space and so our best practice areas been pod security policies there are some pros",
    "start": "1083950",
    "end": "1089860"
  },
  {
    "text": "and cons around of that there's a session on the wood sig off on Thursday I think talking about that but there's",
    "start": "1089860",
    "end": "1096430"
  },
  {
    "text": "actually been some work with Rita from Microsoft who is one of the leads on the",
    "start": "1096430",
    "end": "1102370"
  },
  {
    "text": "gatekeeper project to pour pod security policies to Rigo and again making it",
    "start": "1102370",
    "end": "1107980"
  },
  {
    "text": "much more flexible and easy to sort of evolve and change outside a big queue betty's release so there's a help again",
    "start": "1107980",
    "end": "1123730"
  },
  {
    "text": "as well so like again I'm trying to integrate this into like the tools people are using to make it as easy as",
    "start": "1123730",
    "end": "1129520"
  },
  {
    "text": "possible like helm is a good example where people are packaging up their",
    "start": "1129520",
    "end": "1134530"
  },
  {
    "text": "communities config well does that look good does that work is it secure and so",
    "start": "1134530",
    "end": "1141580"
  },
  {
    "text": "the Helton plug-in basically just allows you to run helm contests that will take the values that will take the templates",
    "start": "1141580",
    "end": "1146920"
  },
  {
    "text": "that will put it all together and apply the policy on that so you don't have to you could sort of do contest can take",
    "start": "1146920",
    "end": "1153790"
  },
  {
    "text": "things on standard in so you could pipe helm template in well the helm plug-in base is just abstract you away from that",
    "start": "1153790",
    "end": "1160920"
  },
  {
    "text": "so with contest we've got a local set of",
    "start": "1160920",
    "end": "1166000"
  },
  {
    "start": "1161000",
    "end": "1348000"
  },
  {
    "text": "tooling that we can use to write policy for all sorts of structured data and any",
    "start": "1166000",
    "end": "1171880"
  },
  {
    "text": "of those config files and that you have laying around we can now with the same",
    "start": "1171880",
    "end": "1177550"
  },
  {
    "text": "tool set and the same language write policy about so that's powerful that's useful and again like that's really good",
    "start": "1177550",
    "end": "1183100"
  },
  {
    "text": "for local fast feedback so how do we start getting that into a CI system because we want to enforce that as well",
    "start": "1183100",
    "end": "1190230"
  },
  {
    "text": "so and this is the sole model I've been using really well make sure our policy a",
    "start": "1190230",
    "end": "1196220"
  },
  {
    "text": "disc the unit s if it doesn't applying our policy is a bad thing to do and if it does we'll we can just paralyze all",
    "start": "1196220",
    "end": "1202460"
  },
  {
    "text": "of these things so running our PIP file running our docker file through running the helm chart through this is really",
    "start": "1202460",
    "end": "1208370"
  },
  {
    "text": "our PI tasted like this is a real project with real world config we can apply all sorts of things obviously",
    "start": "1208370",
    "end": "1217160"
  },
  {
    "text": "there are loads of different CI systems and people are using different ones so I",
    "start": "1217160",
    "end": "1222400"
  },
  {
    "text": "offered like because I like it I've been playing with techs on here there's a",
    "start": "1222400",
    "end": "1227809"
  },
  {
    "text": "sort of interesting model of config and note that whether it's Tecton or circle",
    "start": "1227809",
    "end": "1235250"
  },
  {
    "text": "or Jenkins Oliver a lot of these are actually configured by data and you",
    "start": "1235250",
    "end": "1240679"
  },
  {
    "text": "might have policies about your CI configuration that are tested in your CI",
    "start": "1240679",
    "end": "1246650"
  },
  {
    "text": "configuration so like you can get quite meta with this stuff pretty quickly especially when you think about your",
    "start": "1246650",
    "end": "1252380"
  },
  {
    "text": "writing unit tests for your policy in rego and your potentially then running them in the piping unit s you can get quite meta it it makes it quite powerful",
    "start": "1252380",
    "end": "1261400"
  },
  {
    "text": "so let's say we we can start a pipeline in Tecton we can run that we and we can",
    "start": "1261400",
    "end": "1267440"
  },
  {
    "text": "see the output as well and again let's have a look at what that looks like in",
    "start": "1267440",
    "end": "1274160"
  },
  {
    "text": "the Tecton dashboard and again obviously your CI tool of choice will have something very similar where we can see",
    "start": "1274160",
    "end": "1282080"
  },
  {
    "text": "the results of that policy being constantly applied so in this case well",
    "start": "1282080",
    "end": "1287809"
  },
  {
    "text": "yeah I had a very poorly configured helm jar and it's been caught into the eye and now I need to go fix those before my",
    "start": "1287809",
    "end": "1294200"
  },
  {
    "text": "home child can get deployed and again you like this is just another thing that",
    "start": "1294200",
    "end": "1299360"
  },
  {
    "text": "can be added into your CI system you're still doing your unit tests you're still doing your integration test you're still",
    "start": "1299360",
    "end": "1304820"
  },
  {
    "text": "writing like testing everything else is another area that you can solve test",
    "start": "1304820",
    "end": "1310040"
  },
  {
    "text": "often very quickly because for the most part you're like you're not having to",
    "start": "1310040",
    "end": "1315500"
  },
  {
    "text": "write policies per project your policies are more general they're possibly even for this entire community and so there's",
    "start": "1315500",
    "end": "1323120"
  },
  {
    "text": "not the I need to write all the policies often about reusing it's also generally",
    "start": "1323120",
    "end": "1330390"
  },
  {
    "text": "speaking very fast to run so you're not talking about something that's going to be hugely slowing down your pipelines so",
    "start": "1330390",
    "end": "1339020"
  },
  {
    "text": "we've got a tool set that can be used luckily we've got a tool set like that",
    "start": "1339020",
    "end": "1345120"
  },
  {
    "text": "that is useful in CI where we can sort of do some enforcement and so we started getting into production this is where",
    "start": "1345120",
    "end": "1353220"
  },
  {
    "start": "1348000",
    "end": "1435000"
  },
  {
    "text": "gate keeper comes in like complicities focused on that develop a problem in the CI space you get keeper is focused very",
    "start": "1353220",
    "end": "1360210"
  },
  {
    "text": "squarely on making your policy agent useful in a kubernetes context so how it",
    "start": "1360210",
    "end": "1368280"
  },
  {
    "text": "does this is basically it allows you to write add some controllers to committees and then some some custom resources and",
    "start": "1368280",
    "end": "1374970"
  },
  {
    "text": "you can describe constraints and constraint templates off the bottom here",
    "start": "1374970",
    "end": "1380700"
  },
  {
    "text": "just a bit is actually a whole bunch of Rigo so the language we were using for a portage and can be busy packaged into",
    "start": "1380700",
    "end": "1388140"
  },
  {
    "text": "kubernetes resources and uploaded to your cluster and gatekeeper there in acts as a an admission controller and",
    "start": "1388140",
    "end": "1394740"
  },
  {
    "text": "the Webber can busy enforces that I'll show that in a second that does get into",
    "start": "1394740",
    "end": "1401250"
  },
  {
    "text": "the because you've got the sort of policy written in Rego and you want to",
    "start": "1401250",
    "end": "1406740"
  },
  {
    "text": "write the tests with that and the tool set is built around that you end up wanting to then package that up into",
    "start": "1406740",
    "end": "1413120"
  },
  {
    "text": "basically these constraint and documents the Yunel documents that you send off there's a few like tool starting to",
    "start": "1413120",
    "end": "1419760"
  },
  {
    "text": "emerge in this area and this it's still a bit often manual in a lot of places I've written a really opinionated tool",
    "start": "1419760",
    "end": "1427290"
  },
  {
    "text": "that allows me to just feel like pointer add rego file and it will generate me a constraint template with some",
    "start": "1427290",
    "end": "1433290"
  },
  {
    "text": "assumptions and actually I run this in actions so I've missed you've got a repo",
    "start": "1433290",
    "end": "1441780"
  },
  {
    "text": "of a load of rego files and whenever I change those an action kicks in and",
    "start": "1441780",
    "end": "1447540"
  },
  {
    "text": "basically regenerates my constraint templates so not having to manage multiple things I can I just have one",
    "start": "1447540",
    "end": "1453420"
  },
  {
    "text": "set of policies that I can check out the repo and run but running my CI and",
    "start": "1453420",
    "end": "1458990"
  },
  {
    "text": "also then get built-in to constrain templates that can be then deployed to crises",
    "start": "1458990",
    "end": "1464050"
  },
  {
    "text": "so manage one set of policies that can be used throughout the process Gale",
    "start": "1464050",
    "end": "1472160"
  },
  {
    "start": "1471000",
    "end": "1687000"
  },
  {
    "text": "actions is really nice for like ad-hoc automation than this sort of stuff so",
    "start": "1472160",
    "end": "1478929"
  },
  {
    "text": "let's have a look at what that actually means the demo is easier to see",
    "start": "1478929",
    "end": "1484540"
  },
  {
    "text": "so I've already met these cluster",
    "start": "1484540",
    "end": "1493130"
  },
  {
    "text": "running I've got gatekeeper installed I've already at like blooded my policies",
    "start": "1493130",
    "end": "1499630"
  },
  {
    "text": "actually I think it's yeah so here you",
    "start": "1501670",
    "end": "1509690"
  },
  {
    "text": "can see all of that rego being put into a kubernetes shaped object again this is",
    "start": "1509690",
    "end": "1517250"
  },
  {
    "text": "also generated I don't write this by hand to make it a little bit easier I've",
    "start": "1517250",
    "end": "1524330"
  },
  {
    "text": "got a couple of namespaces set up so what I'm gonna do is I'm going to try",
    "start": "1524330",
    "end": "1530270"
  },
  {
    "text": "and just send this deployment off to kubernetes to deploy it the deployment is very simple straight up like basic",
    "start": "1530270",
    "end": "1538700"
  },
  {
    "text": "hello world example and I tried to",
    "start": "1538700",
    "end": "1547520"
  },
  {
    "text": "deploy but this cluster is this namespace is configured with those",
    "start": "1547520",
    "end": "1552950"
  },
  {
    "text": "constraints and cumin if he says no QA he says well women they're like the policy says you can't have this",
    "start": "1552950",
    "end": "1560300"
  },
  {
    "text": "configured like this and I've just blocked you I'm not allowed to deploy that deployment connect is at an early",
    "start": "1560300",
    "end": "1566390"
  },
  {
    "text": "stage Y at the API level just said no not having that so that's useful it also",
    "start": "1566390",
    "end": "1576440"
  },
  {
    "text": "might be if you turn up to your work and you've written a lot of policy and you upload it to gatekeeper and now",
    "start": "1576440",
    "end": "1583880"
  },
  {
    "text": "everything is blocked that's probably not the best idea like basically everyone will come and kill you is the",
    "start": "1583880",
    "end": "1590660"
  },
  {
    "text": "short version of how that ends like the like so gate keeper also allows basically to audit I can't remember the",
    "start": "1590660",
    "end": "1601190"
  },
  {
    "text": "entire command so I've got a handy Mac file so here we're actually looking at",
    "start": "1601190",
    "end": "1609740"
  },
  {
    "text": "where we've bases just run coupe CGL get on the the custom resource that was",
    "start": "1609740",
    "end": "1616220"
  },
  {
    "text": "created by gatekeeper and you can see a",
    "start": "1616220",
    "end": "1622070"
  },
  {
    "text": "bunch of metadata but then in the status we have all of the violations of this",
    "start": "1622070",
    "end": "1627170"
  },
  {
    "text": "policy so actually if I try and deploy this to that if I try and deploy my",
    "start": "1627170",
    "end": "1632540"
  },
  {
    "text": "deployment to the audit namespace it gets deployed but I have a way of asking",
    "start": "1632540",
    "end": "1639410"
  },
  {
    "text": "committees which things in that namespace are out of policy and obviously I can then use this to go okay",
    "start": "1639410",
    "end": "1646970"
  },
  {
    "text": "yep let's go fix those problems let's work with teams let's get that into their CI systems and then at some point",
    "start": "1646970",
    "end": "1653720"
  },
  {
    "text": "this will be a list of 0 and then we can enforce it and once we're enforcing we",
    "start": "1653720",
    "end": "1659660"
  },
  {
    "text": "have like we're checking in our what we're giving tools to offer so they can very easily verify that it's not like",
    "start": "1659660",
    "end": "1665440"
  },
  {
    "text": "coming in late and saying security says no like it's in there CI systems and if",
    "start": "1665440",
    "end": "1670970"
  },
  {
    "text": "anyone says like more I'm just gonna bypass CI and I'm just going to run command against the cluster well the cluster will protect yourself so you can",
    "start": "1670970",
    "end": "1677840"
  },
  {
    "text": "build a really a sort of developer friendly but controlling workflow using",
    "start": "1677840",
    "end": "1684410"
  },
  {
    "text": "the open policy agent toolset so if all",
    "start": "1684410",
    "end": "1689870"
  },
  {
    "start": "1687000",
    "end": "1804000"
  },
  {
    "text": "you take away from this is local development is important especially when",
    "start": "1689870",
    "end": "1696320"
  },
  {
    "text": "it comes to things that are potentially gonna slow you down like make adopting good practice easy and people will do so",
    "start": "1696320",
    "end": "1704620"
  },
  {
    "text": "do it in smoke-filled rooms with documents and it just doesn't scale like enforcement in continuous integration is",
    "start": "1704620",
    "end": "1711080"
  },
  {
    "text": "where developers get feedback like so it's the logical place to introduce all the types of feedback like policy and",
    "start": "1711080",
    "end": "1718000"
  },
  {
    "text": "then you probably still want to get your clusters and have tools that allow your auditing properties because that's where",
    "start": "1718000",
    "end": "1724429"
  },
  {
    "text": "you're actually running the things that you want the policies to enforce so few",
    "start": "1724429",
    "end": "1730779"
  },
  {
    "text": "takeaways open cells is pretty great a policy agent is a really interesting low-level project that can be used for",
    "start": "1730779",
    "end": "1737289"
  },
  {
    "text": "all sorts of different use cases and it made making comtesse really easy and",
    "start": "1737289",
    "end": "1742629"
  },
  {
    "text": "contests then went from me hacking on something to now six like maintainer x'",
    "start": "1742629",
    "end": "1748389"
  },
  {
    "text": "and a whole bunch of people contributing more than I am now and it's been used in a bunch places six months later which is",
    "start": "1748389",
    "end": "1753460"
  },
  {
    "text": "nice they make a really good toolkit and again I've taken a certain opinionated",
    "start": "1753460",
    "end": "1760269"
  },
  {
    "text": "table flow for that workflow but that's not the tools that's me you could do",
    "start": "1760269",
    "end": "1766990"
  },
  {
    "text": "some of their all of it or something completely different they're really powerful general purpose tools there's a lot of room to build",
    "start": "1766990",
    "end": "1773500"
  },
  {
    "text": "actually of the projects potentially on top that are more opinionated and and the last thing is sharing like a load of",
    "start": "1773500",
    "end": "1782200"
  },
  {
    "text": "these policies are general they're not just for me they're not just for my projects they're things that actually is",
    "start": "1782200",
    "end": "1788919"
  },
  {
    "text": "a community especially in the community space we can probably all agree on a good set of best practices and getting",
    "start": "1788919",
    "end": "1794529"
  },
  {
    "text": "girls into code and into the tooling would be really nice I think sharing is really the next step for me for the sort",
    "start": "1794529",
    "end": "1802629"
  },
  {
    "text": "of open policy agent project and with that thank you very much hopefully it's been of interest and yeah",
    "start": "1802629",
    "end": "1808629"
  },
  {
    "start": "1804000",
    "end": "1898000"
  },
  {
    "text": "come say hi",
    "start": "1808629",
    "end": "1811470"
  },
  {
    "text": "so any questions in the audience hey Gareth thank you for that",
    "start": "1816810",
    "end": "1822820"
  },
  {
    "text": "so I'm little confused about the the difference between comp test and gate",
    "start": "1822820",
    "end": "1830490"
  },
  {
    "text": "gatekeeper is it in in terms of the configuration so it sounds like you're you've written a tool that ports the",
    "start": "1830490",
    "end": "1837250"
  },
  {
    "text": "confess configuration over is that correct yes so comp test just deals with",
    "start": "1837250",
    "end": "1843820"
  },
  {
    "text": "rego and gatekeeper basically takes rego and packages it up for kubernetes so you",
    "start": "1843820",
    "end": "1850480"
  },
  {
    "text": "can send it to the queue Metis API so it's just a wrapper around the rigor in llamo to go to the coop to basically",
    "start": "1850480",
    "end": "1856630"
  },
  {
    "text": "talk to the corrected API and so like you can do that by hand and I've just",
    "start": "1856630",
    "end": "1862510"
  },
  {
    "text": "written a tool that makes it easier for me to the you to reuse the same rego in both gatekeeper and in contest",
    "start": "1862510",
    "end": "1869440"
  },
  {
    "text": "so it seems you'd want to do that so I guess my my second kind of question was why not just use comp test or both it's",
    "start": "1869440",
    "end": "1879370"
  },
  {
    "text": "purely a user experience thing contest is a lot is a CLI tool and this use",
    "start": "1879370",
    "end": "1884620"
  },
  {
    "text": "locally gatekeeper basically is a controller that runs in your cluster and what all of the policy enforcement bits",
    "start": "1884620",
    "end": "1891190"
  },
  {
    "text": "are in open policy agent so they're really all about just making user experiences on top oh yeah so question",
    "start": "1891190",
    "end": "1900790"
  },
  {
    "start": "1898000",
    "end": "1977000"
  },
  {
    "text": "do you know how OPA will help with things like AWS policies specifically",
    "start": "1900790",
    "end": "1907000"
  },
  {
    "text": "like are you able to integrate the policies from op8 with like I am wrong policies or somewhere that yeah the",
    "start": "1907000",
    "end": "1913000"
  },
  {
    "text": "question that is around like ABS specific use cases and again like cloud",
    "start": "1913000",
    "end": "1918640"
  },
  {
    "text": "providers like if y'all configure anything like that has loads of config and let's say you're using terraform or",
    "start": "1918640",
    "end": "1924730"
  },
  {
    "text": "you're using cloud formation and they're just from the point of view of Congress they're just data structures and so you",
    "start": "1924730",
    "end": "1931810"
  },
  {
    "text": "can absolutely use Rigo and complex to test those and there's a little bit less",
    "start": "1931810",
    "end": "1938140"
  },
  {
    "text": "prior art and in terms of their big api services and less people are doing so but there are some people writing",
    "start": "1938140",
    "end": "1944550"
  },
  {
    "text": "policies mainly internally in organizations for those things there are some examples in the contest",
    "start": "1944550",
    "end": "1951040"
  },
  {
    "text": "repo of like serverless framework as well and there are some examples but only a few and Sam as well is another",
    "start": "1951040",
    "end": "1957940"
  },
  {
    "text": "example of all of these couplet it's just data from the point of view of these tools there's nothing connecting",
    "start": "1957940",
    "end": "1963460"
  },
  {
    "text": "specific in contest at all it's in the policy G right and the rego you're right that you start adding the domains yeah",
    "start": "1963460",
    "end": "1970210"
  },
  {
    "text": "I'd love to see a like a shared library of anybody s policy stuff I think it'll be great okay in your examples you",
    "start": "1970210",
    "end": "1979270"
  },
  {
    "text": "mentioned github actions but what if somebody were using github Enterprise",
    "start": "1979270",
    "end": "1985270"
  },
  {
    "text": "where actions don't exist yet so can we still use OPA there oh absolutely",
    "start": "1985270",
    "end": "1991390"
  },
  {
    "text": "the gear of actions PI is purely as a helper for generating some files that I",
    "start": "1991390",
    "end": "1997600"
  },
  {
    "text": "didn't want to manually transpose and but actually most people today a manual",
    "start": "1997600",
    "end": "2002670"
  },
  {
    "text": "either manually transposing them or have like if you've got a CI pipeline you could do that Auto generation there it's",
    "start": "2002670",
    "end": "2009300"
  },
  {
    "text": "purely an implementation detail certainly not required by any of the tooling along the chain thanks for the",
    "start": "2009300",
    "end": "2017280"
  },
  {
    "start": "2016000",
    "end": "2115000"
  },
  {
    "text": "talk so you were mentioning that you can use various different sources to bring",
    "start": "2017280",
    "end": "2022830"
  },
  {
    "text": "in rules theory go right so what kind of package management kind of currently",
    "start": "2022830",
    "end": "2028200"
  },
  {
    "text": "exists for this and like cool yeah what does the discoverability look like for these difference so discoverability and",
    "start": "2028200",
    "end": "2036660"
  },
  {
    "text": "sharing are super interesting but very new there's some tooling in complex that",
    "start": "2036660",
    "end": "2043950"
  },
  {
    "text": "allows you to share basically bundle peer bundles which include the rego and some data and the metadata and using an",
    "start": "2043950",
    "end": "2051450"
  },
  {
    "text": "OCR registry and it uses the new OCI artifact spec and which B isn't",
    "start": "2051450",
    "end": "2057360"
  },
  {
    "text": "implemented everywhere so actually this currently only works in a zoo and in the docker distribution open source project",
    "start": "2057360",
    "end": "2063030"
  },
  {
    "text": "and there's some new functionality that's been added I've a chance to look at a problem by some of the other maintain is that",
    "start": "2063030",
    "end": "2069960"
  },
  {
    "text": "actually makes sharing via s3 possible sharing via actually get repos possible so you basically have a push and pull",
    "start": "2069960",
    "end": "2077300"
  },
  {
    "text": "commands for pushing and pulling things I can push something open you can throw",
    "start": "2077300",
    "end": "2082500"
  },
  {
    "text": "it so early days with that and in there is actually a contest like config file",
    "start": "2082500",
    "end": "2089339"
  },
  {
    "text": "where you can describe some of these sources it's not all fully baked yet but",
    "start": "2089339",
    "end": "2096030"
  },
  {
    "text": "and there's a question of how much of a package management we want and filled also at the moment that's really in",
    "start": "2096030",
    "end": "2101940"
  },
  {
    "text": "committing within the contest project might be interesting to pull that out at some point and make it more generically",
    "start": "2101940",
    "end": "2107550"
  },
  {
    "text": "useful for the rest of the OPA ecosystem and some conversations there but we've",
    "start": "2107550",
    "end": "2113099"
  },
  {
    "text": "not done anything there yet hey very new opa but why we go i guess only one first",
    "start": "2113099",
    "end": "2121349"
  },
  {
    "start": "2115000",
    "end": "2184000"
  },
  {
    "text": "question yeah why rego i altom utley more verse all Opa Opa question um so",
    "start": "2121349",
    "end": "2129990"
  },
  {
    "text": "the OPA thought maintained is a good start it's really that's what they started with don't like their ritual",
    "start": "2129990",
    "end": "2138510"
  },
  {
    "text": "appreciate this bit like you dear cells have a lot of power and potentially a",
    "start": "2138510",
    "end": "2144540"
  },
  {
    "text": "high barrier to entry and some people absolutely hate their cells other people like oh I like I wanted ear cells for",
    "start": "2144540",
    "end": "2150990"
  },
  {
    "text": "everything and there are definitely downsides with Rigo just as a high barrier to entry it's a new thing to learn and but it's specifically designed",
    "start": "2150990",
    "end": "2158220"
  },
  {
    "text": "for this purpose it does this light policy and surgeons really really well I",
    "start": "2158220",
    "end": "2163619"
  },
  {
    "text": "yes you could sort of write assertions in a general-purpose language but though the the types of bugs you get and sort",
    "start": "2163619",
    "end": "2172050"
  },
  {
    "text": "of more general as well so it's an implementation detail above open policy",
    "start": "2172050",
    "end": "2178230"
  },
  {
    "text": "agent which is the thing the gatekeeper and conflicts are built on top of right",
    "start": "2178230",
    "end": "2183440"
  },
  {
    "start": "2184000",
    "end": "2258000"
  },
  {
    "text": "is there any interest from any group to generalize these rego files for what",
    "start": "2184790",
    "end": "2191040"
  },
  {
    "text": "best practices that are needed for production great cooperate is right so",
    "start": "2191040",
    "end": "2198119"
  },
  {
    "text": "that we can integrate yeah yes is the short version with like there's",
    "start": "2198119",
    "end": "2203609"
  },
  {
    "text": "definitely a few people who are like a bunch of these policies like hot security policies is a good example where we just want to someone in the",
    "start": "2203609",
    "end": "2210839"
  },
  {
    "text": "community right then when everyone can benefit and that definitely feels like it's the direction of travel there's not a",
    "start": "2210839",
    "end": "2216120"
  },
  {
    "text": "to defecate there are a few of us who keep writing like bigger things and",
    "start": "2216120",
    "end": "2221280"
  },
  {
    "text": "sharing them that's why I think this sharing tools are important there's there were some conversations at the six",
    "start": "2221280",
    "end": "2227850"
  },
  {
    "text": "security event yesterday about there's the newly launched security hub project",
    "start": "2227850",
    "end": "2233880"
  },
  {
    "text": "and we might look at being able to use security hub as a way of sharing like",
    "start": "2233880",
    "end": "2239040"
  },
  {
    "text": "good it like sort of if there's a good security config for kubernetes can we share on security hub and currently it's",
    "start": "2239040",
    "end": "2245580"
  },
  {
    "text": "mainly used for sharing Falco rules but sharing Rigo would make a really nice next step so early as but definitely",
    "start": "2245580",
    "end": "2254820"
  },
  {
    "text": "interests deftly conversations those",
    "start": "2254820",
    "end": "2260190"
  },
  {
    "start": "2258000",
    "end": "2327000"
  },
  {
    "text": "some of those examples that you did is it shared in some place in the github that we can pull yep yeah at the moment",
    "start": "2260190",
    "end": "2266790"
  },
  {
    "text": "there's most of the things are scattered in github repos I think retail I mentioned from the geikie projects got a bunch stuff that",
    "start": "2266790",
    "end": "2273480"
  },
  {
    "text": "all of the code I showed is on my github under Gareth R and I'll include a link in the sort of random yeah the best",
    "start": "2273480",
    "end": "2284580"
  },
  {
    "text": "about the moment is jump onto the opal policy agent slack and ask and there are a bunch of examples falling around which",
    "start": "2284580",
    "end": "2290970"
  },
  {
    "text": "we as a community we need to get better at putting that all in one place and sort of working on together",
    "start": "2290970",
    "end": "2296490"
  },
  {
    "text": "oh that sneak I just work there if you",
    "start": "2296490",
    "end": "2304890"
  },
  {
    "text": "want to see what we do though all of that's very cool and should come to that booth where we provide the ultimately",
    "start": "2304890",
    "end": "2311460"
  },
  {
    "text": "developer focused security tooling and so this is definitely of interest and we're doing some config stuff but I I",
    "start": "2311460",
    "end": "2317550"
  },
  {
    "text": "have like three jobs it's confusing yeah thanks to all the questions and",
    "start": "2317550",
    "end": "2323670"
  },
  {
    "text": "coming [Applause]",
    "start": "2323670",
    "end": "2329189"
  }
]