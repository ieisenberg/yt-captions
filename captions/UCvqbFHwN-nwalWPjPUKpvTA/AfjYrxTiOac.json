[
  {
    "text": "hello hello hi everyone thank you so much for joining us today um I am Leila",
    "start": "280",
    "end": "7400"
  },
  {
    "text": "jalali uh I am engineering manager at Google I've been a member of communist Community for three four years now and",
    "start": "7400",
    "end": "15000"
  },
  {
    "text": "I'm so proud to be a member of this amazing Community here Stefan is with me",
    "start": "15000",
    "end": "20279"
  },
  {
    "text": "today we are going to talk about API Machinery the seek overview the first part of the talk is overview",
    "start": "20279",
    "end": "27560"
  },
  {
    "text": "introduction how you can involve get involved and help us and um uh then",
    "start": "27560",
    "end": "33760"
  },
  {
    "text": "Stefan will have two topics and the demo amazing demo uh let's",
    "start": "33760",
    "end": "39960"
  },
  {
    "text": "start okay so nope nice works works okay where are we",
    "start": "39960",
    "end": "51199"
  },
  {
    "text": "on the journey uh C started 2013 2014 and now after 10 years we have 83,000",
    "start": "51199",
    "end": "60359"
  },
  {
    "text": "contributors and 96% of organizations are using kuus or evaluating it and um",
    "start": "60359",
    "end": "68479"
  },
  {
    "text": "the Blue Line shows the search term on Google for kubernetes API server and you",
    "start": "68479",
    "end": "74159"
  },
  {
    "text": "see that it's increased over time um there are many projects in kubernetes",
    "start": "74159",
    "end": "80360"
  },
  {
    "text": "and API Machinery is one of the important SE of kuber uh here you see the overview of",
    "start": "80360",
    "end": "87520"
  },
  {
    "text": "what is going on on cluster in kuber and uh the center is Cube API server and we",
    "start": "87520",
    "end": "93920"
  },
  {
    "text": "have a scheduler to schedule um the pods without assigned nodes we have",
    "start": "93920",
    "end": "99520"
  },
  {
    "text": "controller manager and different controllers have uh um uh the uh are all",
    "start": "99520",
    "end": "106399"
  },
  {
    "text": "com uh compiled into a single binary and controller manager we have Cloud controller manager for uh Cloud specific",
    "start": "106399",
    "end": "114399"
  },
  {
    "text": "um um logic and the node and cuet Cube proxy for to implement the kuus service",
    "start": "114399",
    "end": "122320"
  },
  {
    "text": "logic or the network rules and what do uh we have for API Machinery is",
    "start": "122320",
    "end": "129879"
  },
  {
    "text": "highlighted here some of the controllers are in API Machinery not all of them the",
    "start": "129879",
    "end": "135120"
  },
  {
    "text": "controller manager parts of the Machinery to uh create the objects and",
    "start": "135120",
    "end": "140440"
  },
  {
    "text": "apis and uh all the communications on the cluster are goes through this Cube",
    "start": "140440",
    "end": "147920"
  },
  {
    "text": "API server uh um now the question is why uh we see",
    "start": "147920",
    "end": "154400"
  },
  {
    "text": "like uh this API Machinery everywhere and it reminds me of this picture of lion king um everywhere light touched is",
    "start": "154400",
    "end": "163680"
  },
  {
    "text": "API Machinery I see this like everywhere in kuus and this is from our Charter uh",
    "start": "163680",
    "end": "171280"
  },
  {
    "text": "sck API Machinery is responsible for the development and enhancement of cernus",
    "start": "171280",
    "end": "176680"
  },
  {
    "text": "cluster control plane this scope uh includes the API server the persistent",
    "start": "176680",
    "end": "182480"
  },
  {
    "text": "layer or the data store for kubernetes the controller manager Cloud controller manager crds web Hooks and more um API",
    "start": "182480",
    "end": "193319"
  },
  {
    "text": "Machinery doesn't mean all the apis in kuus that is a misconception and uh we own some of the",
    "start": "193319",
    "end": "201239"
  },
  {
    "text": "apis we know about the apis we might be able to answer some of the questions on the apis but not all the individual apis",
    "start": "201239",
    "end": "208200"
  },
  {
    "text": "owned by API machiner and the charter that and that link has",
    "start": "208200",
    "end": "215239"
  },
  {
    "text": "the detailed list of what uh owned by API Machinery the mechanisms to read",
    "start": "215239",
    "end": "221680"
  },
  {
    "text": "modify delete um the objects parsing conversions defaulting",
    "start": "221680",
    "end": "227760"
  },
  {
    "text": "validation uh the open API Discovery crds web hooks client informal libraries",
    "start": "227760",
    "end": "236360"
  },
  {
    "text": "and how to maintain the healthy system that is very important and control rer manager garbage collection the name is",
    "start": "236360",
    "end": "242319"
  },
  {
    "text": "space cluster life cycle and our new um s which is s ETD and also scalability",
    "start": "242319",
    "end": "249920"
  },
  {
    "text": "they all own that persistent layer of data store and what is out of scope I already mentioned that those individual",
    "start": "249920",
    "end": "256479"
  },
  {
    "text": "apis how to work with them the applications are out of spoke uh out of",
    "start": "256479",
    "end": "261560"
  },
  {
    "text": "the scope for the API Machinery um now the question is why API",
    "start": "261560",
    "end": "266919"
  },
  {
    "text": "machiner is so complex the onboarding is so hard this was one of the most complex",
    "start": "266919",
    "end": "272160"
  },
  {
    "text": "projects that I worked on and everyone knows that this is very uh difficult it",
    "start": "272160",
    "end": "278199"
  },
  {
    "text": "is hard to contribute and um let's take a look at why this is the case this is a",
    "start": "278199",
    "end": "285039"
  },
  {
    "text": "kubernetes cluster we have the control plane in the center we have this API Center and the controller manager Cloud",
    "start": "285039",
    "end": "292160"
  },
  {
    "text": "controller manager scheduler at CD layer there we built some uh extensions to",
    "start": "292160",
    "end": "298240"
  },
  {
    "text": "work on uh the thing things on the control plane the things that are outside the control plane and there are",
    "start": "298240",
    "end": "304320"
  },
  {
    "text": "different users there that are that are that might be human users that might be clients that are just like python client",
    "start": "304320",
    "end": "311680"
  },
  {
    "text": "other things we build these extensions uh for the things that are in the control plane or outside each of these",
    "start": "311680",
    "end": "318240"
  },
  {
    "text": "uh uh things in the control plane have its own process and the um it adds to",
    "start": "318240",
    "end": "325199"
  },
  {
    "text": "the complexity then um to build a system that is highly available and fall",
    "start": "325199",
    "end": "331199"
  },
  {
    "text": "tolerant we have the replicas of this uh for example three or more replicas so we",
    "start": "331199",
    "end": "337240"
  },
  {
    "text": "make sure if the control plane is failed uh another control plane make sure the cluster is up and running so we have",
    "start": "337240",
    "end": "344280"
  },
  {
    "text": "different instances of uh the cluster and the control plane and the API server",
    "start": "344280",
    "end": "350560"
  },
  {
    "text": "and all these communications goes through API server and this ETD connects",
    "start": "350560",
    "end": "356000"
  },
  {
    "text": "through like stacked ETD nodes or external noes that adds to the",
    "start": "356000",
    "end": "361280"
  },
  {
    "text": "complexity for the load balancing there are cloud specifi like cloud provider",
    "start": "361280",
    "end": "366360"
  },
  {
    "text": "specific load balancing uh leral elction things but you see this picture shows",
    "start": "366360",
    "end": "372280"
  },
  {
    "text": "the complexity when you have different components each might have different version of kuus and now there are the",
    "start": "372280",
    "end": "378360"
  },
  {
    "text": "questions about what would be the maximum version school and uh the need for safer upgrades in",
    "start": "378360",
    "end": "385560"
  },
  {
    "text": "kubernetes uh one of the examples when I was thinking about of the complexity was",
    "start": "385560",
    "end": "391120"
  },
  {
    "text": "uh the aggregated discovery and this picture is from open API",
    "start": "391120",
    "end": "396280"
  },
  {
    "text": "2022 uh where um when whenever the clients make the calls for the",
    "start": "396280",
    "end": "402440"
  },
  {
    "text": "aggregated Discover for the discovery the discovery objects were so small and",
    "start": "402440",
    "end": "407840"
  },
  {
    "text": "there were so many of them there were so many API calls to get all those um",
    "start": "407840",
    "end": "413479"
  },
  {
    "text": "objects and uh to know what is available on the cluster like the operation operations and then then in 2023 the uh",
    "start": "413479",
    "end": "422400"
  },
  {
    "text": "another layer of aggregation built on top of uh the server that uh all the",
    "start": "422400",
    "end": "428319"
  },
  {
    "text": "services from the client for uh to ask for the discovery goes through the aggregated endpoint that means that the",
    "start": "428319",
    "end": "435759"
  },
  {
    "text": "latency that we saw in those API calls removed the performance increased and",
    "start": "435759",
    "end": "440919"
  },
  {
    "text": "you see how much this picture is simple uh by just uh having that and there were",
    "start": "440919",
    "end": "446720"
  },
  {
    "text": "alternatives to aggregated Discovery to alternative implementation that the team",
    "start": "446720",
    "end": "451840"
  },
  {
    "text": "went through and work on that um Jeff Ying Antoine piss and um uh Alex zinsky",
    "start": "451840",
    "end": "460240"
  },
  {
    "text": "was part of that so you see one thing one proposal how it connects to so many",
    "start": "460240",
    "end": "465919"
  },
  {
    "text": "different things in API machinery and that is one of the reason that it is",
    "start": "465919",
    "end": "471240"
  },
  {
    "text": "complex uh we um had two approaches to see how much code uh do we own the first",
    "start": "471240",
    "end": "477840"
  },
  {
    "text": "one was using S label and we said this signal BS might be introduced in 2018 so",
    "start": "477840",
    "end": "484199"
  },
  {
    "text": "we went through another approach that was like file cataloging and we got 25",
    "start": "484199",
    "end": "490479"
  },
  {
    "text": "to 40% of the code ownership for API Machinery depending on which approach we use this is huge and this is another",
    "start": "490479",
    "end": "497360"
  },
  {
    "text": "reason why we see this complexity this is uh from uh",
    "start": "497360",
    "end": "504080"
  },
  {
    "text": "1.29 enhancement tracking we have different things going on uh the things",
    "start": "504080",
    "end": "510800"
  },
  {
    "text": "related to Performance priority and fairness uh by I think U Mike",
    "start": "510800",
    "end": "517599"
  },
  {
    "text": "Spiner uh to generalize the API request to get have the priority and uh cues for",
    "start": "517599",
    "end": "524080"
  },
  {
    "text": "each priority then C serializer from Ben the work from Ben and then we have the",
    "start": "524080",
    "end": "530880"
  },
  {
    "text": "informers the work from uh Locus to get the stream of data uh the work on sales",
    "start": "530880",
    "end": "539240"
  },
  {
    "text": "cell is a huge project uh CC uh is working on that jaho F CC has a talk",
    "start": "539240",
    "end": "546680"
  },
  {
    "text": "tomorrow uh it is around noon and declarative everything I really encourage everyone to join that talk and",
    "start": "546680",
    "end": "554480"
  },
  {
    "text": "uh there stepan will talk about some parts of cell today uh the work that Alex seninsky is working on and then we",
    "start": "554480",
    "end": "562959"
  },
  {
    "text": "have things related to maintainance things uh for SLO Improvement the support for uh list queries um for the",
    "start": "562959",
    "end": "570720"
  },
  {
    "text": "commun API and also the work for the to support web sockets that uh Sean San is",
    "start": "570720",
    "end": "577160"
  },
  {
    "text": "leading that and uh these are the main work there are other works that are going on the aggregated Discovery was",
    "start": "577160",
    "end": "583680"
  },
  {
    "text": "one of them that I uh already talked about and um now I talk about like uh",
    "start": "583680",
    "end": "591320"
  },
  {
    "text": "who uh is the leadership of the siik we have David E and Federico bani they are",
    "start": "591320",
    "end": "598240"
  },
  {
    "text": "six uh um chairs and uh for the sick teals we have Jets and David eids um",
    "start": "598240",
    "end": "605959"
  },
  {
    "text": "they're working tremendously with the people in the team and um all the projects and the directions of the sick",
    "start": "605959",
    "end": "613480"
  },
  {
    "text": "uh they are helping and uh giving guidance and um they're awesome to work with and then",
    "start": "613480",
    "end": "622560"
  },
  {
    "text": "uh we how you can get involved if you're uh thinking about joining and working on",
    "start": "622560",
    "end": "628760"
  },
  {
    "text": "something we have the S meetings like other six this is uh like 60 Minute meeting that is bi- weekly and then we",
    "start": "628760",
    "end": "636320"
  },
  {
    "text": "have the B triage meeting which is twice a week this is a great way to join us and uh focus on how we can get involved",
    "start": "636320",
    "end": "643839"
  },
  {
    "text": "not only on the like issues that are raised but the tasks that are helping the more like um larger projects uh we",
    "start": "643839",
    "end": "653240"
  },
  {
    "text": "have the working groups that are API expression C builder the working group that is for sale is very active and they",
    "start": "653240",
    "end": "660600"
  },
  {
    "text": "have their own meetings their own slack channels and Communications uh there is upcoming",
    "start": "660600",
    "end": "666839"
  },
  {
    "text": "project based mentorship program uh we had a list of mentors and the list of",
    "start": "666839",
    "end": "672200"
  },
  {
    "text": "projects we are going to announce this and people can apply for this mentorship program it is 3 to six months one to one",
    "start": "672200",
    "end": "679839"
  },
  {
    "text": "mentorship and uh and it is Project based because we want those larger",
    "start": "679839",
    "end": "685760"
  },
  {
    "text": "projects to have more people but it doesn't mean that you can uh not suggest other projects we are uh there to see",
    "start": "685760",
    "end": "693680"
  },
  {
    "text": "the ideas uh we hope to uh have this program kick off uh next year in January",
    "start": "693680",
    "end": "700760"
  },
  {
    "text": "and with that I think I uh give it to",
    "start": "700760",
    "end": "706720"
  },
  {
    "text": "Sean yeah so uh you have seen all the Caps um lots of work going going on I",
    "start": "706720",
    "end": "712160"
  },
  {
    "text": "want to highlight two topics um two caps which are bit under rater um not so",
    "start": "712160",
    "end": "717880"
  },
  {
    "text": "feature heavy but um one is more like about the philosophy of what we are doing and the second one is about CS",
    "start": "717880",
    "end": "724680"
  },
  {
    "text": "everybody uses cids validation place a role everybody knows the pain of changing validation so this second topic",
    "start": "724680",
    "end": "731560"
  },
  {
    "text": "so first one um philosophy I said um um that's a cap 4080 um it's not really a",
    "start": "731560",
    "end": "738519"
  },
  {
    "text": "feature thing it's more like a code reorganization it's about um building or",
    "start": "738519",
    "end": "745079"
  },
  {
    "text": "extracting something from kubernetes adding a new layer um in the layers we already have so everybody knows Kate as",
    "start": "745079",
    "end": "751160"
  },
  {
    "text": "API server for example as one layer one repository and at the end there's of course Cube API server Cube API server",
    "start": "751160",
    "end": "757199"
  },
  {
    "text": "uses um the API extension API server the aggregator and then of course the actual apis of Q and what we're doing here is",
    "start": "757199",
    "end": "764360"
  },
  {
    "text": "um adding another layer called a generic control plane basically um building a cluster like um an API server with",
    "start": "764360",
    "end": "771279"
  },
  {
    "text": "controllers which feels like Cube but there are no pots no networking nothing nothing which is basically pot related",
    "start": "771279",
    "end": "778440"
  },
  {
    "text": "and um yeah it feels natural to have that today everything in Cube API server",
    "start": "778440",
    "end": "784519"
  },
  {
    "text": "is basically hardwired so um you can do that and people have done it but um you have to Fork basically Cube API server",
    "start": "784519",
    "end": "791120"
  },
  {
    "text": "to do it and this approach is or this attempt is to to make this clearer and",
    "start": "791120",
    "end": "796279"
  },
  {
    "text": "um allow use of kubernetes for our other purposes but also to improve the code",
    "start": "796279",
    "end": "801720"
  },
  {
    "text": "quality like Cube API server is really it's big spaghetti ball with um everything is connected to everything",
    "start": "801720",
    "end": "808240"
  },
  {
    "text": "basically so it's very hard to understand and this layer will help um it's ongoing so there are some changes",
    "start": "808240",
    "end": "814160"
  },
  {
    "text": "in 12 128 um some 29 it's not finished yet so it's ongoing work so basic idea",
    "start": "814160",
    "end": "820399"
  },
  {
    "text": "and this is not really um it's a sketch right so um we might have or might get a new staging repository called generic",
    "start": "820399",
    "end": "827760"
  },
  {
    "text": "control plane um but don't take this by word yet it might be called a little bit",
    "start": "827760",
    "end": "833040"
  },
  {
    "text": "different or this is just a sketch for the direction we want to go to like the vision and um what we want to put there",
    "start": "833040",
    "end": "840480"
  },
  {
    "text": "is basically um what we have in those packages today so there's control plane",
    "start": "840480",
    "end": "845600"
  },
  {
    "text": "API server in KK today and there's Cube API over options Cube API over admission",
    "start": "845600",
    "end": "850880"
  },
  {
    "text": "and if you look into them um they are kind of generic already interestingly",
    "start": "850880",
    "end": "855959"
  },
  {
    "text": "package control plan is not generic so it's a big I I mean we inherited that or",
    "start": "855959",
    "end": "861199"
  },
  {
    "text": "we we named those packages years ago when there was not not such a plane uh plan so they're not really um re",
    "start": "861199",
    "end": "868759"
  },
  {
    "text": "presenting what we have put into those packages and we will change that and that's part of this 4080",
    "start": "868759",
    "end": "874920"
  },
  {
    "text": "um 4080 uh cap and basically when you think about what is a generic control",
    "start": "874920",
    "end": "880240"
  },
  {
    "text": "plane you will come to something like that cads obviously are generic namespaces are generic some of the",
    "start": "880240",
    "end": "887399"
  },
  {
    "text": "resources in core like Secrets config Maps um all the authorization is generic",
    "start": "887399",
    "end": "892880"
  },
  {
    "text": "service accounts it's the whole admission um stack and we have many things like web Hooks and policies now",
    "start": "892880",
    "end": "898800"
  },
  {
    "text": "days it's uh generic qua is mostly generic aration API Services um as well",
    "start": "898800",
    "end": "905639"
  },
  {
    "text": "and of course for all those API um you have controllers um which are running and some of them are really I mean you",
    "start": "905639",
    "end": "912160"
  },
  {
    "text": "basically need them for a cluster which feels like you garbage collection for example um things should go away when",
    "start": "912160",
    "end": "917880"
  },
  {
    "text": "you remove um an owner of an object then the children should be also removed Nam",
    "start": "917880",
    "end": "922959"
  },
  {
    "text": "delion is a thing you just expect from a cluster and if you want to have um resource quter there's a quter",
    "start": "922959",
    "end": "928639"
  },
  {
    "text": "controller plus an admission plugin to do that so this is basically um what you want to have um get something like a",
    "start": "928639",
    "end": "934959"
  },
  {
    "text": "cube control plane with those features but some of them obviously are are optional so you can think of basically",
    "start": "934959",
    "end": "941880"
  },
  {
    "text": "um depending on the purpose of your control plan you don't want authorization because you have a different mechanism for authorization or",
    "start": "941880",
    "end": "947959"
  },
  {
    "text": "secrets and config Maps don't make sense um or you don't want extensibility maybe you don't want admission MEAP hooks at",
    "start": "947959",
    "end": "954440"
  },
  {
    "text": "all because you have everything coded in go um so all those things can be disabled and the idea is to make this",
    "start": "954440",
    "end": "960759"
  },
  {
    "text": "much easier than today so um quick demo it's not super",
    "start": "960759",
    "end": "966720"
  },
  {
    "text": "extensive but let me see just want to give you a flavor of what we're doing so if you have seen um or built an API",
    "start": "966720",
    "end": "973560"
  },
  {
    "text": "server there's this very Central method it's called create server chain and um",
    "start": "973560",
    "end": "979480"
  },
  {
    "text": "basically what is what this is doing is takes the cad API server so the API",
    "start": "979480",
    "end": "984600"
  },
  {
    "text": "extension um creates that one and then it um puts another API server in front",
    "start": "984600",
    "end": "992000"
  },
  {
    "text": "namely that's the cube API server so the main one of cube like uh the one which implements conf maps and secrets and",
    "start": "992000",
    "end": "998519"
  },
  {
    "text": "other things and the search one is usually the aggregator so the aggregator is um yeah what uh has been shown before",
    "start": "998519",
    "end": "1006920"
  },
  {
    "text": "it it serves Discovery uh aggregated Discovery it serves open API and those things um so it's pretty Central",
    "start": "1006920",
    "end": "1013639"
  },
  {
    "text": "actually it's not only implementing aggregation like redirecting to other servers it's doing much more inators and",
    "start": "1013639",
    "end": "1020240"
  },
  {
    "text": "those three make up um Cube API over basically and um yeah you can run this",
    "start": "1020240",
    "end": "1026558"
  },
  {
    "text": "thing so um this is a it's prototype it's not merged yet so um yeah just to",
    "start": "1026559",
    "end": "1032839"
  },
  {
    "text": "show um most of you will know the test server which we have in integration test so you can you can run that and um see",
    "start": "1032839",
    "end": "1040240"
  },
  {
    "text": "what comes out so if you run that um it just prints as a test um the apis which",
    "start": "1040240",
    "end": "1045720"
  },
  {
    "text": "we have so all the API groups and resources here conf Maps Secrets um",
    "start": "1045720",
    "end": "1050760"
  },
  {
    "text": "service accounts and so on everything which is part of an API server and you already notice there are things like um",
    "start": "1050760",
    "end": "1056440"
  },
  {
    "text": "priority and fairness for example which um kind of is essential for a control plan if you want to have priorities um",
    "start": "1056440",
    "end": "1062880"
  },
  {
    "text": "in request handling so there are things also leases which is unexpected so there are some things um which belong to a",
    "start": "1062880",
    "end": "1069559"
  },
  {
    "text": "control plan and we will come to that what a control plan actually is uh in a second and um what I tried I took that",
    "start": "1069559",
    "end": "1076520"
  },
  {
    "text": "and uh I wanted to go one step further so what is a minimal control plane which we can build that way so I did the same",
    "start": "1076520",
    "end": "1083159"
  },
  {
    "text": "thing the same experiment and remove things and hope that it doesn't crash so",
    "start": "1083159",
    "end": "1088600"
  },
  {
    "text": "like authorization doesn't crash because there's no airbu anymore right those things you have to fix and um you see",
    "start": "1088600",
    "end": "1094200"
  },
  {
    "text": "the list is already a lot shorter so this could be basically a very minimal control plane and um it would work right",
    "start": "1094200",
    "end": "1101880"
  },
  {
    "text": "but it's it's not so simple like um I just show it quickly if you if you launch that um completely you wait for",
    "start": "1101880",
    "end": "1108919"
  },
  {
    "text": "Readiness of the API server you will notice it will not start like you see all those reflector issues here you see",
    "start": "1108919",
    "end": "1115039"
  },
  {
    "text": "endpoints and services and you will you will think about why endpoints and services where are they even used right",
    "start": "1115039",
    "end": "1120679"
  },
  {
    "text": "but you will find out our agregation layer Cube agregator it uses pots and secrets right so you need those Concepts",
    "start": "1120679",
    "end": "1127520"
  },
  {
    "text": "to even to even run agregation so there's more work to do like we if you want to do that we would need an",
    "start": "1127520",
    "end": "1133440"
  },
  {
    "text": "aggregator which is not aggregating it's not redirecting anywhere else or with a different mechan mechanism whatever so",
    "start": "1133440",
    "end": "1139520"
  },
  {
    "text": "there's more work to do than just disabling apis all right so let's go back um so",
    "start": "1139520",
    "end": "1147679"
  },
  {
    "text": "what is a minimal Cube control plan and this is a philosophical topic right um",
    "start": "1147679",
    "end": "1153600"
  },
  {
    "text": "we have just seen that this was generic the first one first example um everybody will agree this is a control plan this",
    "start": "1153600",
    "end": "1160000"
  },
  {
    "text": "feels like a kubernetes cluster when you when you work with it um it has everything I mean not the workload",
    "start": "1160000",
    "end": "1165559"
  },
  {
    "text": "resources but it has everything else basically it's extend ible like you can have cids you can have admission V Hooks",
    "start": "1165559",
    "end": "1171840"
  },
  {
    "text": "and policies um those things are complete uh in that clust you have airb",
    "start": "1171840",
    "end": "1177760"
  },
  {
    "text": "and you have authentication so you can call out to another um authorization web hook uh authentication web hook all",
    "start": "1177760",
    "end": "1184480"
  },
  {
    "text": "those things work right but um yeah is this a control plane the minimal one the",
    "start": "1184480",
    "end": "1189679"
  },
  {
    "text": "second example I had I would say yes um you don't have cads anymore so I just disabled this part where I instantiate",
    "start": "1189679",
    "end": "1195919"
  },
  {
    "text": "the API extension API server and what what you are left with is basically those hardcoded goang apis um if you",
    "start": "1195919",
    "end": "1202640"
  },
  {
    "text": "want to use that you could do it um but you have to implement basically your apis in go so but this could be a Rel",
    "start": "1202640",
    "end": "1208280"
  },
  {
    "text": "use case right um if you look at ecosystem people are doing experiments",
    "start": "1208280",
    "end": "1214880"
  },
  {
    "text": "and they call that kubernetes like they have implementations which very much look like kubernetes so one I'm not sure",
    "start": "1214880",
    "end": "1221159"
  },
  {
    "text": "people have seen that this is tool tilt um I think it's owned by Docker now um if you use a command line tool you say",
    "start": "1221159",
    "end": "1227440"
  },
  {
    "text": "API resource it will show you Cube resources this is an API server and to my knowledge it's",
    "start": "1227440",
    "end": "1233799"
  },
  {
    "text": "using kubernetes so if anybody knows about that I'm happy to hear but if you look on the API resources this is super",
    "start": "1233799",
    "end": "1240320"
  },
  {
    "text": "minimal there is no um airbu anymore there is no not even a namespace exists",
    "start": "1240320",
    "end": "1246360"
  },
  {
    "text": "right so it's super minimal and is this kubernetes is this an API server we could call kubernetes so it's an open",
    "start": "1246360",
    "end": "1252880"
  },
  {
    "text": "question and um to my knowledge as I said this uses kubernetes under the hood and you can go one step further so Aron",
    "start": "1252880",
    "end": "1260679"
  },
  {
    "text": "was just announced I know a week ago or so um and Darren um the author or the",
    "start": "1260679",
    "end": "1267200"
  },
  {
    "text": "main author of the studing um he implements apis which are Cube cutle compatible even controller compatible so",
    "start": "1267200",
    "end": "1274120"
  },
  {
    "text": "you can run informers against that so they support all the quads including watches but it's not Cube API server",
    "start": "1274120",
    "end": "1281840"
  },
  {
    "text": "it's not API Machinery there are some parts say they borrow from API Machinery but it's um it's a yeah it implements",
    "start": "1281840",
    "end": "1289080"
  },
  {
    "text": "the API but it's not Cube anymore so I wouldn't call that a cube cluster there's no feeling of a cluster so you",
    "start": "1289080",
    "end": "1295360"
  },
  {
    "text": "don't um you use that you use C cutle to do cut but that's basically it and so",
    "start": "1295360",
    "end": "1300720"
  },
  {
    "text": "that's a philosoph philosophical pression whether we call that um a minimal control plane what is this and",
    "start": "1300720",
    "end": "1307520"
  },
  {
    "text": "um of course there's a question to to the sick and um that's a question basically for the ecosystem do we want",
    "start": "1307520",
    "end": "1312880"
  },
  {
    "text": "to support those things those experiments may maybe could be part of the sck or we we leave that as",
    "start": "1312880",
    "end": "1318480"
  },
  {
    "text": "contributions outside um nothing to answer today but um just want to show that all right that's the first topic um",
    "start": "1318480",
    "end": "1325799"
  },
  {
    "text": "second one is about cads very concrete um 408 is a cap and um Alex basically",
    "start": "1325799",
    "end": "1335120"
  },
  {
    "text": "showed up uh a few months ago and said uh I hate how we do validation in cubes",
    "start": "1335120",
    "end": "1341200"
  },
  {
    "text": "it's so awkward to change validations and most of you will probably have",
    "start": "1341200",
    "end": "1346360"
  },
  {
    "text": "experiened it themselves like when you um strengthen or weaken validation for",
    "start": "1346360",
    "end": "1351679"
  },
  {
    "text": "Fields you always have to think there is something ETD already so users might have objects which don't validate",
    "start": "1351679",
    "end": "1358000"
  },
  {
    "text": "anymore and the consequences of that are pretty um yeah extreme so we will see it",
    "start": "1358000",
    "end": "1363720"
  },
  {
    "text": "in a second so this it's an example here um yeah a custom resource definition",
    "start": "1363720",
    "end": "1368760"
  },
  {
    "text": "with a schema and it has two Fields replicas and IPS don't ask me about the",
    "start": "1368760",
    "end": "1374559"
  },
  {
    "text": "context here it's just made up but replicas is it's obviously a number and um IP is a string right so many people",
    "start": "1374559",
    "end": "1382279"
  },
  {
    "text": "start like that um generate with Cube Builder usually and they get a schema and they're happy and then users put",
    "start": "1382279",
    "end": "1389520"
  },
  {
    "text": "something in um into the fields like 2.5 um IPS which have five components",
    "start": "1389520",
    "end": "1395640"
  },
  {
    "text": "obviously um doesn't make sense it's not what we wanted right but people have um created those objects in the cluster so",
    "start": "1395640",
    "end": "1402840"
  },
  {
    "text": "um they are in ETD and if you now go ahead in the next version you realize okay I forgot the minimum that's the",
    "start": "1402840",
    "end": "1409440"
  },
  {
    "text": "first mistake and um the type number was maybe not good integer is much better",
    "start": "1409440",
    "end": "1414520"
  },
  {
    "text": "right for the IP um I want a format or RX or something like that so I want to restrict it to real IPS and what will",
    "start": "1414520",
    "end": "1421520"
  },
  {
    "text": "happen those objects are basically immutable so when those fields have those um yeah those strange values you",
    "start": "1421520",
    "end": "1429799"
  },
  {
    "text": "cannot edit this spe anymore because validation fails um you cannot even annotate like if you have a tool which",
    "start": "1429799",
    "end": "1435279"
  },
  {
    "text": "annotates objects this will fail because the spec has invalid values and um there",
    "start": "1435279",
    "end": "1441120"
  },
  {
    "text": "can be like Machinery issues finalizers if there are finalizers in those objects you cannot remove them because the spec",
    "start": "1441120",
    "end": "1447240"
  },
  {
    "text": "is invalid so it's a very bad situation and we living with that for years right",
    "start": "1447240",
    "end": "1452640"
  },
  {
    "text": "so um yeah but CL so CL solves everything right so um if I want to",
    "start": "1452640",
    "end": "1458200"
  },
  {
    "text": "strengthen validation why can't I just do it in C in cell and basically",
    "start": "1458200",
    "end": "1463360"
  },
  {
    "text": "reference um the old self right doesn't work now it works okay maybe not so I'm",
    "start": "1463360",
    "end": "1471320"
  },
  {
    "text": "use mouse cursor here so he you reference old self and you check that um",
    "start": "1471320",
    "end": "1476840"
  },
  {
    "text": "old self like in the example of replicas it was not an integer before and if it",
    "start": "1476840",
    "end": "1483399"
  },
  {
    "text": "wasn't one before hasn't been one before I'm fine with that right I don't um",
    "start": "1483399",
    "end": "1488919"
  },
  {
    "text": "issue a phone error this is basically what this is saying if it's not an integer in the old self that I don't",
    "start": "1488919",
    "end": "1495360"
  },
  {
    "text": "care but it if it had been has been an integer before then I want to check and",
    "start": "1495360",
    "end": "1500520"
  },
  {
    "text": "if it's not the case um I show the error only integers are allowed and I try the same thing of course um for the IPS and",
    "start": "1500520",
    "end": "1508200"
  },
  {
    "text": "you will realize when you're trying that this is not what you want actually because um in the moment you reference",
    "start": "1508200",
    "end": "1513720"
  },
  {
    "text": "old self this is an update rule which means it's not um validated on create",
    "start": "1513720",
    "end": "1520320"
  },
  {
    "text": "which means it's not what you want because you want new objects to follow the rules right so um what you find out",
    "start": "1520320",
    "end": "1526520"
  },
  {
    "text": "quickly you cannot EXP that with the CL we have so was an oversight kind of um",
    "start": "1526520",
    "end": "1532080"
  },
  {
    "text": "but you cannot express that so we need something new and um what we came up",
    "start": "1532080",
    "end": "1537640"
  },
  {
    "text": "with um so this is mainly Alex work so he's all he's pushing that topic and",
    "start": "1537640",
    "end": "1543039"
  },
  {
    "text": "doing all the development of the theory and implementation um what we came up",
    "start": "1543039",
    "end": "1549039"
  },
  {
    "text": "with or mostly Alex came up with um we validate per field and we call it riting riting",
    "start": "1549039",
    "end": "1556640"
  },
  {
    "text": "validation is something we have in go um everywhere today like we sometimes we",
    "start": "1556640",
    "end": "1562039"
  },
  {
    "text": "introduce some new validation and we check that the old object um validated and then the new one also has to",
    "start": "1562039",
    "end": "1567480"
  },
  {
    "text": "validate so we do that in code but but we haven't done it in cads so the idea is um when replicas um are not changed",
    "start": "1567480",
    "end": "1574880"
  },
  {
    "text": "like replicas um keep the value of 2.5 in the example then this green box is",
    "start": "1574880",
    "end": "1580159"
  },
  {
    "text": "not required um same thing for the IP so on field level basically you look on the",
    "start": "1580159",
    "end": "1586000"
  },
  {
    "text": "open API schema and this appli to the field it's um specified in and we call",
    "start": "1586000",
    "end": "1591039"
  },
  {
    "text": "that obviously reting and you see this graphic here um this is the the logic",
    "start": "1591039",
    "end": "1596320"
  },
  {
    "text": "behind in the moment you validate once it must validate all the time in the future",
    "start": "1596320",
    "end": "1603240"
  },
  {
    "text": "um sometimes this is not enough sometimes you need more logic and uh as we have seen C alone is not um able to",
    "start": "1603240",
    "end": "1611240"
  },
  {
    "text": "to express those things so um C gets an extension it's called optional old self",
    "start": "1611240",
    "end": "1616480"
  },
  {
    "text": "and those rules rules are not update rules anymore they are um checked on",
    "start": "1616480",
    "end": "1621840"
  },
  {
    "text": "update and on Create and you have this has value and value function on the old self to express what you want to express",
    "start": "1621840",
    "end": "1629320"
  },
  {
    "text": "so this way you can basically Define arbitrary reting validation rules so this is um better in 129 um and",
    "start": "1629320",
    "end": "1638559"
  },
  {
    "text": "yeah for that reason so it's it's available soon I hope it helps people",
    "start": "1638559",
    "end": "1643880"
  },
  {
    "text": "writing validations and makes the life easier and what I want to point out here if you see what um I just described this",
    "start": "1643880",
    "end": "1651000"
  },
  {
    "text": "looks super simple right but it took months to get the understanding what we actually want because you can do much",
    "start": "1651000",
    "end": "1657559"
  },
  {
    "text": "more reting validation especially the automatic one in CS it's not obvious that this is what we want so um there's",
    "start": "1657559",
    "end": "1663799"
  },
  {
    "text": "a lot of work behind although it looks super simple and um yeah that's why I called it it's running under the radar",
    "start": "1663799",
    "end": "1669960"
  },
  {
    "text": "it's something everybody will have soon and I hope it helps people so thanks to Alex for all the great work and for",
    "start": "1669960",
    "end": "1677200"
  },
  {
    "text": "pushing or starting this topic all right that's it I think we have seven minutes",
    "start": "1677200",
    "end": "1683000"
  },
  {
    "text": "left um just to point out that is on Thursday there is a um the old um meet",
    "start": "1683000",
    "end": "1688840"
  },
  {
    "text": "the six meeting it's called meet the committed contributor Community um 3 hours we are there so if you have any",
    "start": "1688840",
    "end": "1695360"
  },
  {
    "text": "questions about um any of the Caps or anything else meet us there yeah that's all thank you and we",
    "start": "1695360",
    "end": "1703120"
  },
  {
    "text": "have time for questions I think",
    "start": "1703120",
    "end": "1709440"
  },
  {
    "text": "yes curious similarities between the work that was done in kcp and the generic control that you talked",
    "start": "1717840",
    "end": "1724279"
  },
  {
    "text": "about yeah so kcp uh did this work manually right we we Cube didn't support",
    "start": "1724279",
    "end": "1731320"
  },
  {
    "text": "this generic control plan yet so it's very similar in a sense that um the work",
    "start": "1731320",
    "end": "1736399"
  },
  {
    "text": "here which I presented plus workspaces this is kcp kind of maybe plus API",
    "start": "1736399",
    "end": "1741519"
  },
  {
    "text": "bindings um but yeah it's a similar Direction",
    "start": "1741519",
    "end": "1746679"
  },
  {
    "text": "obviously yes is there any relationship between the generic control plane and",
    "start": "1747679",
    "end": "1753320"
  },
  {
    "text": "control liary I don't think the controller runtime Library does anything specific",
    "start": "1753320",
    "end": "1760679"
  },
  {
    "text": "it just works with generic control plan and this is the idea right all the tooling the ecosystem should just work",
    "start": "1760679",
    "end": "1767000"
  },
  {
    "text": "control runtime things like um gitops tools they should just work because it's it's a cube cluster right but the",
    "start": "1767000",
    "end": "1774120"
  },
  {
    "text": "question is like the other examples I brought up which are not clusters are they compatible with the Tooling in the",
    "start": "1774120",
    "end": "1779519"
  },
  {
    "text": "ecosystem it's not so clear right thank you for your talk Stefan Lea",
    "start": "1779519",
    "end": "1786320"
  },
  {
    "text": "thank you uh in your estimation what do you see the future to be in these these like Acorn and tilt that are popping up",
    "start": "1786320",
    "end": "1793159"
  },
  {
    "text": "are these built for purpose kind of control planes where you could see maybe they get used in uh you know more for",
    "start": "1793159",
    "end": "1800519"
  },
  {
    "text": "compliance reasons you know that are off the map I mean it looks a little a skewed it doesn't look like it's going",
    "start": "1800519",
    "end": "1806200"
  },
  {
    "text": "to be mainstream to me but what is your general thought thinking around it I me in aan that's that's their API right you",
    "start": "1806200",
    "end": "1814080"
  },
  {
    "text": "can write you can use giops against Aron and deploy your applications so it's the",
    "start": "1814080",
    "end": "1819600"
  },
  {
    "text": "API and it's even the implementation they use for their controllers right they they like the controller pattern",
    "start": "1819600",
    "end": "1825840"
  },
  {
    "text": "internally so they want to implement controllers via informers and events everything but you know so um",
    "start": "1825840",
    "end": "1833760"
  },
  {
    "text": "yeah okay thank you",
    "start": "1833760",
    "end": "1839080"
  },
  {
    "text": "yes",
    "start": "1842799",
    "end": "1845799"
  },
  {
    "text": "are",
    "start": "1848440",
    "end": "1851440"
  },
  {
    "text": "valid oh I have to ask Joe",
    "start": "1855639",
    "end": "1860720"
  },
  {
    "text": "maybe yes there's something called match conditions on uh admission we Hooks and",
    "start": "1862760",
    "end": "1868600"
  },
  {
    "text": "we're super excited about it um so you can put a cell expression that sees the old object in the new object and can",
    "start": "1868600",
    "end": "1874799"
  },
  {
    "text": "make any decision it wants about whether to call out to an admission web hook um",
    "start": "1874799",
    "end": "1880519"
  },
  {
    "text": "yeah",
    "start": "1880519",
    "end": "1883519"
  },
  {
    "text": "thanks forther question",
    "start": "1885559",
    "end": "1889158"
  },
  {
    "text": "um hey do you feel with the generic control plane that people could PEC meal",
    "start": "1894080",
    "end": "1899799"
  },
  {
    "text": "specific kubernetes apis into their own control planes and if so do you think",
    "start": "1899799",
    "end": "1905000"
  },
  {
    "text": "like that modularity would then blead to making client go interfaces a bit more",
    "start": "1905000",
    "end": "1911200"
  },
  {
    "text": "modular too so basically you can you can use client go even if it's big right you",
    "start": "1911200",
    "end": "1917399"
  },
  {
    "text": "have all the apis you can use it against the control plan just for see what this works um I don't think there are plans",
    "start": "1917399",
    "end": "1922440"
  },
  {
    "text": "to split it up at the",
    "start": "1922440",
    "end": "1925559"
  },
  {
    "text": "moment okay so David's on",
    "start": "1927840",
    "end": "1932600"
  },
  {
    "text": "Thursday and um whether you can pick apis from Cube I mean this is",
    "start": "1937399",
    "end": "1944919"
  },
  {
    "text": "the idea here I mean the code is there right you can pick some part I mean I picked service accounts just to be part",
    "start": "1944919",
    "end": "1951200"
  },
  {
    "text": "of this and you could have I don't know just Engish apis you could do that where that makes sense depends on your use",
    "start": "1951200",
    "end": "1957159"
  },
  {
    "text": "case okay thanks all right thank you umk",
    "start": "1957159",
    "end": "1965240"
  },
  {
    "text": "you",
    "start": "1967240",
    "end": "1970240"
  }
]