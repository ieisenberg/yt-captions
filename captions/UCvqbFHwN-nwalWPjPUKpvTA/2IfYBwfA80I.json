[
  {
    "start": "0",
    "end": "0"
  },
  {
    "text": "hi everyone thanks for joining our talk",
    "start": "0",
    "end": "2320"
  },
  {
    "text": "today",
    "start": "2320",
    "end": "3120"
  },
  {
    "text": "today we are going to share our thoughts",
    "start": "3120",
    "end": "5040"
  },
  {
    "text": "on maintaining kubernetes cluster",
    "start": "5040",
    "end": "7040"
  },
  {
    "text": "reliability",
    "start": "7040",
    "end": "8240"
  },
  {
    "text": "with a nasal driven approach my name is",
    "start": "8240",
    "end": "11360"
  },
  {
    "text": "chen and i work at ant group as an",
    "start": "11360",
    "end": "13599"
  },
  {
    "text": "infrastructure sre",
    "start": "13599",
    "end": "15200"
  },
  {
    "text": "we have another si here on the cloud",
    "start": "15200",
    "end": "17520"
  },
  {
    "text": "joining us today",
    "start": "17520",
    "end": "18640"
  },
  {
    "text": "welcome tom",
    "start": "18640",
    "end": "21279"
  },
  {
    "text": "all right so our primary interests",
    "start": "21840",
    "end": "24960"
  },
  {
    "text": "include running large-scale kubernetes",
    "start": "24960",
    "end": "27199"
  },
  {
    "text": "clusters while maintaining high",
    "start": "27199",
    "end": "29039"
  },
  {
    "text": "reliability",
    "start": "29039",
    "end": "30720"
  },
  {
    "text": "so today's talk is going to divide it",
    "start": "30720",
    "end": "34399"
  },
  {
    "start": "32000",
    "end": "32000"
  },
  {
    "text": "into",
    "start": "34399",
    "end": "34960"
  },
  {
    "text": "three different parts first i will",
    "start": "34960",
    "end": "36960"
  },
  {
    "text": "briefly talk about",
    "start": "36960",
    "end": "38399"
  },
  {
    "text": "our motivations and the problems we",
    "start": "38399",
    "end": "40879"
  },
  {
    "text": "encountered",
    "start": "40879",
    "end": "41600"
  },
  {
    "text": "when we are doing reliability",
    "start": "41600",
    "end": "43360"
  },
  {
    "text": "engineering on kubernetes clusters",
    "start": "43360",
    "end": "46480"
  },
  {
    "text": "and then my colleague tone will do a",
    "start": "46480",
    "end": "48559"
  },
  {
    "text": "deep dive on",
    "start": "48559",
    "end": "49760"
  },
  {
    "text": "slo designs specifically for each",
    "start": "49760",
    "end": "52399"
  },
  {
    "text": "kubernetes components",
    "start": "52399",
    "end": "54640"
  },
  {
    "text": "and then i will share some thoughts",
    "start": "54640",
    "end": "56480"
  },
  {
    "text": "about doing snl management",
    "start": "56480",
    "end": "58800"
  },
  {
    "text": "specifically i will introduce our",
    "start": "58800",
    "end": "61039"
  },
  {
    "text": "slo-based alerting mechanism",
    "start": "61039",
    "end": "63039"
  },
  {
    "text": "to help us to monitor our system better",
    "start": "63039",
    "end": "67680"
  },
  {
    "start": "67000",
    "end": "67000"
  },
  {
    "text": "so motivations",
    "start": "67680",
    "end": "71200"
  },
  {
    "text": "today clustering management becomes",
    "start": "71200",
    "end": "73680"
  },
  {
    "text": "really",
    "start": "73680",
    "end": "74320"
  },
  {
    "text": "increasingly challenging for us because",
    "start": "74320",
    "end": "76960"
  },
  {
    "text": "our clusters really",
    "start": "76960",
    "end": "78640"
  },
  {
    "text": "grow up really significantly so for",
    "start": "78640",
    "end": "81280"
  },
  {
    "text": "example",
    "start": "81280",
    "end": "81920"
  },
  {
    "text": "at any group we have thousands of nodes",
    "start": "81920",
    "end": "85040"
  },
  {
    "text": "in each clusters",
    "start": "85040",
    "end": "86400"
  },
  {
    "text": "with millions of parts and",
    "start": "86400",
    "end": "89600"
  },
  {
    "text": "you know like as an sre our philosophy",
    "start": "89600",
    "end": "92960"
  },
  {
    "text": "includes say our head count say sre have",
    "start": "92960",
    "end": "96560"
  },
  {
    "text": "come",
    "start": "96560",
    "end": "96880"
  },
  {
    "text": "should only grow say stop linearly",
    "start": "96880",
    "end": "100240"
  },
  {
    "text": "or even remain constant while our",
    "start": "100240",
    "end": "102720"
  },
  {
    "text": "corresponding service grew up",
    "start": "102720",
    "end": "104640"
  },
  {
    "text": "right so we have to deal with the",
    "start": "104640",
    "end": "106720"
  },
  {
    "text": "exponential growth",
    "start": "106720",
    "end": "107840"
  },
  {
    "text": "of kubernetes part who is only a small",
    "start": "107840",
    "end": "110720"
  },
  {
    "text": "team",
    "start": "110720",
    "end": "112000"
  },
  {
    "start": "112000",
    "end": "112000"
  },
  {
    "text": "so fleet management is really",
    "start": "112000",
    "end": "113920"
  },
  {
    "text": "challenging especially when we are doing",
    "start": "113920",
    "end": "115920"
  },
  {
    "text": "releases",
    "start": "115920",
    "end": "117040"
  },
  {
    "text": "i think sre we always do releases right",
    "start": "117040",
    "end": "120159"
  },
  {
    "text": "sometimes we have to roll out new",
    "start": "120159",
    "end": "122159"
  },
  {
    "text": "components for",
    "start": "122159",
    "end": "123200"
  },
  {
    "text": "master components in kubernetes say api",
    "start": "123200",
    "end": "126320"
  },
  {
    "text": "server and",
    "start": "126320",
    "end": "127600"
  },
  {
    "text": "schedulers and somehow like",
    "start": "127600",
    "end": "130959"
  },
  {
    "text": "when you are doing releases you have to",
    "start": "130959",
    "end": "133360"
  },
  {
    "text": "consider",
    "start": "133360",
    "end": "134080"
  },
  {
    "text": "consider reliability right if you",
    "start": "134080",
    "end": "137120"
  },
  {
    "text": "release too frequently",
    "start": "137120",
    "end": "138640"
  },
  {
    "text": "then in the early days you may not know",
    "start": "138640",
    "end": "141520"
  },
  {
    "text": "what happened",
    "start": "141520",
    "end": "142239"
  },
  {
    "text": "in the cluster actually right because",
    "start": "142239",
    "end": "145040"
  },
  {
    "text": "all of the components interact with each",
    "start": "145040",
    "end": "147120"
  },
  {
    "text": "other",
    "start": "147120",
    "end": "147760"
  },
  {
    "text": "and it's really complicated",
    "start": "147760",
    "end": "150800"
  },
  {
    "text": "another story is about doing node level",
    "start": "150800",
    "end": "152959"
  },
  {
    "text": "component upgrade",
    "start": "152959",
    "end": "154640"
  },
  {
    "text": "say you are going to release a new",
    "start": "154640",
    "end": "156959"
  },
  {
    "text": "version of kubelet",
    "start": "156959",
    "end": "159360"
  },
  {
    "text": "you know when you are doing a release",
    "start": "159360",
    "end": "161360"
  },
  {
    "text": "for 10 000 node cluster",
    "start": "161360",
    "end": "163440"
  },
  {
    "text": "is a totally different story than doing",
    "start": "163440",
    "end": "165760"
  },
  {
    "text": "a release for 10 node",
    "start": "165760",
    "end": "167920"
  },
  {
    "text": "customer right for example let's say",
    "start": "167920",
    "end": "170560"
  },
  {
    "text": "your kublet is trying to",
    "start": "170560",
    "end": "172080"
  },
  {
    "text": "list all parts and in a 10 node faster",
    "start": "172080",
    "end": "176400"
  },
  {
    "text": "your api server may feel nothing because",
    "start": "176400",
    "end": "178800"
  },
  {
    "text": "the load is really",
    "start": "178800",
    "end": "180480"
  },
  {
    "text": "pretty low right however for 000",
    "start": "180480",
    "end": "183840"
  },
  {
    "text": "node cluster if all the cool blades are",
    "start": "183840",
    "end": "186800"
  },
  {
    "text": "going to",
    "start": "186800",
    "end": "188640"
  },
  {
    "text": "like say list all the parts for in the",
    "start": "188640",
    "end": "190959"
  },
  {
    "text": "entire cluster",
    "start": "190959",
    "end": "191920"
  },
  {
    "text": "and send the request to api server at",
    "start": "191920",
    "end": "193760"
  },
  {
    "text": "the same time trust me your api server",
    "start": "193760",
    "end": "196239"
  },
  {
    "text": "will shout out loudly and",
    "start": "196239",
    "end": "198319"
  },
  {
    "text": "you may encounter situations like out of",
    "start": "198319",
    "end": "201280"
  },
  {
    "text": "memory",
    "start": "201280",
    "end": "202159"
  },
  {
    "text": "or even high cpu loads which makes your",
    "start": "202159",
    "end": "204799"
  },
  {
    "text": "cluster",
    "start": "204799",
    "end": "205519"
  },
  {
    "text": "unusable well you may argue that",
    "start": "205519",
    "end": "209920"
  },
  {
    "text": "well the recommended way to do",
    "start": "209920",
    "end": "212959"
  },
  {
    "text": "cool blade update is to first reschedule",
    "start": "212959",
    "end": "215280"
  },
  {
    "text": "all the parts from the",
    "start": "215280",
    "end": "217280"
  },
  {
    "text": "from the node and then do a code update",
    "start": "217280",
    "end": "219840"
  },
  {
    "text": "right",
    "start": "219840",
    "end": "220640"
  },
  {
    "text": "however this is not possible in real",
    "start": "220640",
    "end": "223040"
  },
  {
    "text": "world",
    "start": "223040",
    "end": "223760"
  },
  {
    "text": "because we may not have enough capacity",
    "start": "223760",
    "end": "227280"
  },
  {
    "text": "okay so now let's talk about how we are",
    "start": "227280",
    "end": "230400"
  },
  {
    "start": "228000",
    "end": "228000"
  },
  {
    "text": "going to do reliability engineering",
    "start": "230400",
    "end": "233040"
  },
  {
    "text": "so the general approach consists of",
    "start": "233040",
    "end": "235120"
  },
  {
    "text": "three different stages",
    "start": "235120",
    "end": "236879"
  },
  {
    "text": "so the first stage is the production",
    "start": "236879",
    "end": "238959"
  },
  {
    "text": "stage which represents",
    "start": "238959",
    "end": "240720"
  },
  {
    "text": "your service current status",
    "start": "240720",
    "end": "243760"
  },
  {
    "text": "and somehow if your production",
    "start": "243760",
    "end": "247120"
  },
  {
    "text": "hit some issue or have some trouble",
    "start": "247120",
    "end": "249680"
  },
  {
    "text": "because maybe you",
    "start": "249680",
    "end": "250799"
  },
  {
    "text": "triggered some alerts or some incident",
    "start": "250799",
    "end": "253120"
  },
  {
    "text": "happened",
    "start": "253120",
    "end": "254239"
  },
  {
    "text": "then you are going to do going to the",
    "start": "254239",
    "end": "256400"
  },
  {
    "text": "design and improvement stage",
    "start": "256400",
    "end": "258560"
  },
  {
    "text": "where you sit down with your dev team",
    "start": "258560",
    "end": "260400"
  },
  {
    "text": "and your customer to figure out what",
    "start": "260400",
    "end": "262160"
  },
  {
    "text": "happens",
    "start": "262160",
    "end": "263040"
  },
  {
    "text": "and maybe you have to do a post-modern",
    "start": "263040",
    "end": "264800"
  },
  {
    "text": "review to figure out what to improve",
    "start": "264800",
    "end": "267040"
  },
  {
    "text": "maybe it's some bad fix or maybe it's",
    "start": "267040",
    "end": "270160"
  },
  {
    "text": "some",
    "start": "270160",
    "end": "270720"
  },
  {
    "text": "alert management for some monitoring",
    "start": "270720",
    "end": "273520"
  },
  {
    "text": "changes",
    "start": "273520",
    "end": "274800"
  },
  {
    "text": "then you are going to the change",
    "start": "274800",
    "end": "276639"
  },
  {
    "text": "management state",
    "start": "276639",
    "end": "278160"
  },
  {
    "text": "in this stage so you may follow your",
    "start": "278160",
    "end": "281680"
  },
  {
    "text": "company's",
    "start": "281680",
    "end": "282560"
  },
  {
    "text": "like change management policies maybe",
    "start": "282560",
    "end": "285120"
  },
  {
    "text": "you can only do",
    "start": "285120",
    "end": "286400"
  },
  {
    "text": "new releases during say business days",
    "start": "286400",
    "end": "290400"
  },
  {
    "text": "under business hours right or maybe it's",
    "start": "290400",
    "end": "293840"
  },
  {
    "text": "about to be thanksgiving days and you",
    "start": "293840",
    "end": "296639"
  },
  {
    "text": "have to do a production freeze",
    "start": "296639",
    "end": "298960"
  },
  {
    "text": "no commit or no release can be pushed",
    "start": "298960",
    "end": "301919"
  },
  {
    "text": "except",
    "start": "301919",
    "end": "302479"
  },
  {
    "text": "for like say emergency practices",
    "start": "302479",
    "end": "306560"
  },
  {
    "start": "307000",
    "end": "307000"
  },
  {
    "text": "so a national based approach is just a",
    "start": "307120",
    "end": "310560"
  },
  {
    "text": "specific implementation of the general",
    "start": "310560",
    "end": "312800"
  },
  {
    "text": "reliability",
    "start": "312800",
    "end": "313759"
  },
  {
    "text": "approach so we you just use the slo",
    "start": "313759",
    "end": "317360"
  },
  {
    "text": "as a lead to go through all the",
    "start": "317360",
    "end": "319039"
  },
  {
    "text": "different stages",
    "start": "319039",
    "end": "320479"
  },
  {
    "text": "from the production stage to the",
    "start": "320479",
    "end": "322800"
  },
  {
    "text": "improvement stage",
    "start": "322800",
    "end": "324320"
  },
  {
    "text": "you use slo based alerting to trigger",
    "start": "324320",
    "end": "327600"
  },
  {
    "text": "your incident response your sres will",
    "start": "327600",
    "end": "330720"
  },
  {
    "text": "focus",
    "start": "330720",
    "end": "331919"
  },
  {
    "text": "more on slo alerts and then use them to",
    "start": "331919",
    "end": "336160"
  },
  {
    "text": "drive your dev team",
    "start": "336160",
    "end": "337520"
  },
  {
    "text": "to do improvements and new designs so",
    "start": "337520",
    "end": "340560"
  },
  {
    "text": "in the design and change management",
    "start": "340560",
    "end": "342720"
  },
  {
    "text": "stage transition",
    "start": "342720",
    "end": "344479"
  },
  {
    "text": "you may say redefine your slos",
    "start": "344479",
    "end": "347680"
  },
  {
    "text": "if after let's say a",
    "start": "347680",
    "end": "350880"
  },
  {
    "text": "careful review you believe your asl",
    "start": "350880",
    "end": "353840"
  },
  {
    "text": "doesn't represent",
    "start": "353840",
    "end": "355120"
  },
  {
    "text": "or doesn't align with your user interest",
    "start": "355120",
    "end": "358319"
  },
  {
    "text": "then you may go through like say a",
    "start": "358319",
    "end": "361280"
  },
  {
    "text": "refinement stage",
    "start": "361280",
    "end": "362960"
  },
  {
    "text": "to redesign your slo and then maybe some",
    "start": "362960",
    "end": "366960"
  },
  {
    "text": "align with some code changes go into the",
    "start": "366960",
    "end": "369440"
  },
  {
    "text": "change management stage",
    "start": "369440",
    "end": "371280"
  },
  {
    "text": "in this stage you will use slo",
    "start": "371280",
    "end": "374400"
  },
  {
    "text": "documentations and agreements",
    "start": "374400",
    "end": "376639"
  },
  {
    "text": "so let's say you",
    "start": "376639",
    "end": "378450"
  },
  {
    "text": "[Music]",
    "start": "378450",
    "end": "379840"
  },
  {
    "text": "daddy agree on like say if the slo is",
    "start": "379840",
    "end": "383199"
  },
  {
    "text": "broken",
    "start": "383199",
    "end": "383759"
  },
  {
    "text": "i'm not going to push new releases until",
    "start": "383759",
    "end": "386639"
  },
  {
    "text": "like say",
    "start": "386639",
    "end": "387199"
  },
  {
    "text": "slo is back to the normal level",
    "start": "387199",
    "end": "390560"
  },
  {
    "text": "so this is the general slo-based",
    "start": "390560",
    "end": "393039"
  },
  {
    "text": "approach and",
    "start": "393039",
    "end": "394319"
  },
  {
    "text": "the philosophy under it and then i will",
    "start": "394319",
    "end": "398080"
  },
  {
    "text": "hand over to my colleague to do a more",
    "start": "398080",
    "end": "401199"
  },
  {
    "text": "device on my server designs for",
    "start": "401199",
    "end": "403120"
  },
  {
    "text": "kubernetes itself",
    "start": "403120",
    "end": "406240"
  },
  {
    "text": "hi everyone i'm tong and i'm going to",
    "start": "406240",
    "end": "408800"
  },
  {
    "text": "talk about seo design for",
    "start": "408800",
    "end": "410479"
  },
  {
    "text": "kubernetes first let's do a quick recap",
    "start": "410479",
    "end": "414160"
  },
  {
    "start": "412000",
    "end": "412000"
  },
  {
    "text": "on the definition of sli seo and soa",
    "start": "414160",
    "end": "417919"
  },
  {
    "text": "soi is a mattress that you use to",
    "start": "417919",
    "end": "420560"
  },
  {
    "text": "measure",
    "start": "420560",
    "end": "421120"
  },
  {
    "text": "your service or health needs for example",
    "start": "421120",
    "end": "423919"
  },
  {
    "text": "for http server",
    "start": "423919",
    "end": "425360"
  },
  {
    "text": "it can be requested error ratio or the",
    "start": "425360",
    "end": "428080"
  },
  {
    "text": "average",
    "start": "428080",
    "end": "428560"
  },
  {
    "text": "request the latest sao is the",
    "start": "428560",
    "end": "431120"
  },
  {
    "text": "quantitative target that you and",
    "start": "431120",
    "end": "432720"
  },
  {
    "text": "your team try to achieve for example one",
    "start": "432720",
    "end": "435840"
  },
  {
    "text": "can target the 99 percenter success",
    "start": "435840",
    "end": "437840"
  },
  {
    "text": "ratio",
    "start": "437840",
    "end": "438560"
  },
  {
    "text": "for http requests that you must and",
    "start": "438560",
    "end": "441360"
  },
  {
    "text": "finally",
    "start": "441360",
    "end": "442080"
  },
  {
    "text": "seoa is the promise you make to your",
    "start": "442080",
    "end": "444639"
  },
  {
    "text": "user",
    "start": "444639",
    "end": "445520"
  },
  {
    "text": "like what would the user expect to",
    "start": "445520",
    "end": "448400"
  },
  {
    "text": "receive",
    "start": "448400",
    "end": "449039"
  },
  {
    "text": "when you broke the slo for example if",
    "start": "449039",
    "end": "452160"
  },
  {
    "text": "somebody paid to use your http service",
    "start": "452160",
    "end": "454720"
  },
  {
    "text": "and you failed to deliver that 99 seo",
    "start": "454720",
    "end": "457440"
  },
  {
    "text": "target",
    "start": "457440",
    "end": "458400"
  },
  {
    "text": "you may compensate to your customer with",
    "start": "458400",
    "end": "461120"
  },
  {
    "text": "cash",
    "start": "461120",
    "end": "462240"
  },
  {
    "text": "sometimes internally the word sao and",
    "start": "462240",
    "end": "465039"
  },
  {
    "text": "soa",
    "start": "465039",
    "end": "465919"
  },
  {
    "text": "are interchangeable",
    "start": "465919",
    "end": "468960"
  },
  {
    "start": "468000",
    "end": "468000"
  },
  {
    "text": "so back to our day-to-day job as a",
    "start": "469120",
    "end": "471840"
  },
  {
    "text": "infrasre",
    "start": "471840",
    "end": "473599"
  },
  {
    "text": "what we care about kubernetes itself as",
    "start": "473599",
    "end": "476240"
  },
  {
    "text": "chairman mentioned before",
    "start": "476240",
    "end": "477599"
  },
  {
    "text": "at the anti-group we run dozens of",
    "start": "477599",
    "end": "479680"
  },
  {
    "text": "clusters globally",
    "start": "479680",
    "end": "482000"
  },
  {
    "text": "and we have internal user to using",
    "start": "482000",
    "end": "484800"
  },
  {
    "text": "kubernetes for different purposes",
    "start": "484800",
    "end": "486879"
  },
  {
    "text": "for example provision pavement",
    "start": "486879",
    "end": "489919"
  },
  {
    "text": "and transaction system database as well",
    "start": "489919",
    "end": "492720"
  },
  {
    "text": "as",
    "start": "492720",
    "end": "492960"
  },
  {
    "text": "running batch job like machine learning",
    "start": "492960",
    "end": "496479"
  },
  {
    "text": "when we design our sao the first put",
    "start": "496479",
    "end": "499599"
  },
  {
    "text": "is user first that means sao should",
    "start": "499599",
    "end": "502560"
  },
  {
    "text": "represent the",
    "start": "502560",
    "end": "503520"
  },
  {
    "text": "real user behavior and experience",
    "start": "503520",
    "end": "506960"
  },
  {
    "text": "each user may have different privacy",
    "start": "506960",
    "end": "508800"
  },
  {
    "text": "when using kubernetes",
    "start": "508800",
    "end": "510400"
  },
  {
    "text": "however we can summarize them in four",
    "start": "510400",
    "end": "512719"
  },
  {
    "text": "categories",
    "start": "512719",
    "end": "514080"
  },
  {
    "text": "the first and the most important sao is",
    "start": "514080",
    "end": "516800"
  },
  {
    "text": "about the resource delivery",
    "start": "516800",
    "end": "518880"
  },
  {
    "text": "resource here often means port or",
    "start": "518880",
    "end": "521440"
  },
  {
    "text": "computing resources",
    "start": "521440",
    "end": "523760"
  },
  {
    "text": "in a shape of deployment or staff set",
    "start": "523760",
    "end": "527200"
  },
  {
    "text": "we care about delivery speed and success",
    "start": "527200",
    "end": "530399"
  },
  {
    "text": "rate",
    "start": "530399",
    "end": "530959"
  },
  {
    "text": "by using asking to create a deployment",
    "start": "530959",
    "end": "534240"
  },
  {
    "text": "in our clusters related to this seo",
    "start": "534240",
    "end": "538320"
  },
  {
    "text": "we believe we need to manage port",
    "start": "538320",
    "end": "540000"
  },
  {
    "text": "lifecycle precisely",
    "start": "540000",
    "end": "541920"
  },
  {
    "text": "this seo targeted on a single port but",
    "start": "541920",
    "end": "544959"
  },
  {
    "text": "during",
    "start": "544959",
    "end": "545600"
  },
  {
    "text": "it is a creation upgrade deletion",
    "start": "545600",
    "end": "548240"
  },
  {
    "text": "behavior",
    "start": "548240",
    "end": "550320"
  },
  {
    "text": "we use this seo to figure out our system",
    "start": "550320",
    "end": "552720"
  },
  {
    "text": "overall health status",
    "start": "552720",
    "end": "555360"
  },
  {
    "text": "and the third sao we believe we should",
    "start": "555360",
    "end": "558480"
  },
  {
    "text": "care is about whether all existing port",
    "start": "558480",
    "end": "561600"
  },
  {
    "text": "in the cluster are running as expected",
    "start": "561600",
    "end": "565519"
  },
  {
    "text": "if the class is having a network issue",
    "start": "565519",
    "end": "567920"
  },
  {
    "text": "and the port are disconnected with",
    "start": "567920",
    "end": "569839"
  },
  {
    "text": "other clusters we may say the port entry",
    "start": "569839",
    "end": "572560"
  },
  {
    "text": "or unhealthy state",
    "start": "572560",
    "end": "574399"
  },
  {
    "text": "then we can somehow summa sum up all the",
    "start": "574399",
    "end": "577519"
  },
  {
    "text": "health",
    "start": "577519",
    "end": "578160"
  },
  {
    "text": "time of the all posts to calculate the",
    "start": "578160",
    "end": "580959"
  },
  {
    "text": "class",
    "start": "580959",
    "end": "581440"
  },
  {
    "text": "level product uptime finally we know",
    "start": "581440",
    "end": "584480"
  },
  {
    "text": "user offers",
    "start": "584480",
    "end": "585519"
  },
  {
    "text": "interaction with api server directory",
    "start": "585519",
    "end": "588320"
  },
  {
    "text": "for query",
    "start": "588320",
    "end": "589120"
  },
  {
    "text": "or other behavior so we care about api",
    "start": "589120",
    "end": "592080"
  },
  {
    "text": "server success",
    "start": "592080",
    "end": "592959"
  },
  {
    "text": "ratio analytics",
    "start": "592959",
    "end": "596240"
  },
  {
    "start": "596000",
    "end": "596000"
  },
  {
    "text": "let's take a close look in into the one",
    "start": "596480",
    "end": "599120"
  },
  {
    "text": "of the n2 and",
    "start": "599120",
    "end": "600000"
  },
  {
    "text": "seo we would like to come up with a",
    "start": "600000",
    "end": "602560"
  },
  {
    "text": "magical to represent the",
    "start": "602560",
    "end": "604079"
  },
  {
    "text": "end-to-end port creation behavior and",
    "start": "604079",
    "end": "606640"
  },
  {
    "text": "the user",
    "start": "606640",
    "end": "607279"
  },
  {
    "text": "are happy to see a promise like 99",
    "start": "607279",
    "end": "609839"
  },
  {
    "text": "percent",
    "start": "609839",
    "end": "610560"
  },
  {
    "text": "ports should create it successfully to",
    "start": "610560",
    "end": "613440"
  },
  {
    "text": "reach a ready",
    "start": "613440",
    "end": "614640"
  },
  {
    "text": "state within five minutes in a month",
    "start": "614640",
    "end": "618320"
  },
  {
    "text": "as you can see the port creation",
    "start": "618320",
    "end": "620160"
  },
  {
    "text": "workflow in kubernetes is real conflicts",
    "start": "620160",
    "end": "624320"
  },
  {
    "text": "in real production cooperation cluster",
    "start": "624320",
    "end": "626800"
  },
  {
    "text": "you request the will pass wireless",
    "start": "626800",
    "end": "628720"
  },
  {
    "text": "customized web hook",
    "start": "628720",
    "end": "630079"
  },
  {
    "text": "may be your secondary the scheduler",
    "start": "630079",
    "end": "633440"
  },
  {
    "text": "to reach conflict sometimes you may have",
    "start": "633440",
    "end": "636399"
  },
  {
    "text": "multiple user defined controller to",
    "start": "636399",
    "end": "638320"
  },
  {
    "text": "register your port to",
    "start": "638320",
    "end": "639839"
  },
  {
    "text": "different external dependents just like",
    "start": "639839",
    "end": "642959"
  },
  {
    "text": "cmdbe network or metadata center",
    "start": "642959",
    "end": "646959"
  },
  {
    "text": "was a long journey for a port to create",
    "start": "646959",
    "end": "649360"
  },
  {
    "text": "created",
    "start": "649360",
    "end": "650800"
  },
  {
    "text": "our solution for measuring portal",
    "start": "650800",
    "end": "652640"
  },
  {
    "text": "creation seo is to collection virus",
    "start": "652640",
    "end": "654959"
  },
  {
    "text": "support",
    "start": "654959",
    "end": "655519"
  },
  {
    "text": "related audit log and event put them",
    "start": "655519",
    "end": "658480"
  },
  {
    "text": "into a centralized log energetic system",
    "start": "658480",
    "end": "661040"
  },
  {
    "text": "which product name as the unicode index",
    "start": "661040",
    "end": "664720"
  },
  {
    "text": "then the local enterprise system can",
    "start": "664720",
    "end": "667040"
  },
  {
    "text": "identify the latency during each",
    "start": "667040",
    "end": "668800"
  },
  {
    "text": "product's",
    "start": "668800",
    "end": "669600"
  },
  {
    "text": "status transaction for example",
    "start": "669600",
    "end": "672640"
  },
  {
    "text": "this spends three seconds during webhook",
    "start": "672640",
    "end": "674640"
  },
  {
    "text": "admission 10 seconds during the",
    "start": "674640",
    "end": "676320"
  },
  {
    "text": "scheduling and the 13 seconds",
    "start": "676320",
    "end": "678320"
  },
  {
    "text": "in imaging pulling also",
    "start": "678320",
    "end": "681440"
  },
  {
    "text": "the centralized local enterprise system",
    "start": "681440",
    "end": "683600"
  },
  {
    "text": "can identify if the port is in the",
    "start": "683600",
    "end": "685680"
  },
  {
    "text": "desired state",
    "start": "685680",
    "end": "687200"
  },
  {
    "text": "science users may have different",
    "start": "687200",
    "end": "688880"
  },
  {
    "text": "requirements for creation latency",
    "start": "688880",
    "end": "691680"
  },
  {
    "text": "some may tolerant to 10 minutes but some",
    "start": "691680",
    "end": "694160"
  },
  {
    "text": "may only tolerance",
    "start": "694160",
    "end": "695200"
  },
  {
    "text": "three minutes finally we produce",
    "start": "695200",
    "end": "698480"
  },
  {
    "text": "time series measurements to record the",
    "start": "698480",
    "end": "700399"
  },
  {
    "text": "end-to-end seo",
    "start": "700399",
    "end": "701680"
  },
  {
    "text": "and let our monitor system to scrap the",
    "start": "701680",
    "end": "704079"
  },
  {
    "text": "mattress",
    "start": "704079",
    "end": "705279"
  },
  {
    "text": "and produce meaningful sao based alert",
    "start": "705279",
    "end": "709519"
  },
  {
    "text": "so we will talk about a lot later",
    "start": "709519",
    "end": "713839"
  },
  {
    "text": "after implementing several end-to-end",
    "start": "714480",
    "end": "716800"
  },
  {
    "text": "seo",
    "start": "716800",
    "end": "718079"
  },
  {
    "text": "we are facing new issues although we can",
    "start": "718079",
    "end": "720959"
  },
  {
    "text": "leverage port",
    "start": "720959",
    "end": "721920"
  },
  {
    "text": "events for low end science and",
    "start": "721920",
    "end": "723680"
  },
  {
    "text": "individual tracing",
    "start": "723680",
    "end": "725200"
  },
  {
    "text": "it is less obvious to identify the case",
    "start": "725200",
    "end": "728480"
  },
  {
    "text": "for some component issues and affiliates",
    "start": "728480",
    "end": "731440"
  },
  {
    "text": "will sre receive",
    "start": "731440",
    "end": "732720"
  },
  {
    "text": "alert about seo filliams often we need",
    "start": "732720",
    "end": "735600"
  },
  {
    "text": "to",
    "start": "735600",
    "end": "736160"
  },
  {
    "text": "check different component dashboards to",
    "start": "736160",
    "end": "738480"
  },
  {
    "text": "see if api server is retaining better",
    "start": "738480",
    "end": "740959"
  },
  {
    "text": "response",
    "start": "740959",
    "end": "741839"
  },
  {
    "text": "or a customer or customer controller is",
    "start": "741839",
    "end": "745040"
  },
  {
    "text": "not working correctly to patch a",
    "start": "745040",
    "end": "746800"
  },
  {
    "text": "required label for the port to run",
    "start": "746800",
    "end": "749360"
  },
  {
    "text": "the entire process is like top down",
    "start": "749360",
    "end": "751760"
  },
  {
    "text": "approach",
    "start": "751760",
    "end": "753040"
  },
  {
    "text": "you first know something bad happened",
    "start": "753040",
    "end": "755440"
  },
  {
    "text": "and then",
    "start": "755440",
    "end": "756079"
  },
  {
    "text": "you start to drill down on each",
    "start": "756079",
    "end": "758720"
  },
  {
    "text": "individual component to find the",
    "start": "758720",
    "end": "760560"
  },
  {
    "text": "platform",
    "start": "760560",
    "end": "762320"
  },
  {
    "text": "the good thing is about end-to-end sao",
    "start": "762320",
    "end": "765279"
  },
  {
    "text": "it is",
    "start": "765279",
    "end": "766000"
  },
  {
    "text": "less noise once your matrices is well",
    "start": "766000",
    "end": "768800"
  },
  {
    "text": "designed",
    "start": "768800",
    "end": "769760"
  },
  {
    "text": "however the rule case search may take a",
    "start": "769760",
    "end": "772800"
  },
  {
    "text": "longer time and",
    "start": "772800",
    "end": "773760"
  },
  {
    "text": "make heavier relay on past experience",
    "start": "773760",
    "end": "778240"
  },
  {
    "start": "778000",
    "end": "778000"
  },
  {
    "text": "to take a step back let's revisit the",
    "start": "778720",
    "end": "781200"
  },
  {
    "text": "flowchart of the product creation",
    "start": "781200",
    "end": "783600"
  },
  {
    "text": "although we have tens component in this",
    "start": "783600",
    "end": "786000"
  },
  {
    "text": "graph",
    "start": "786000",
    "end": "786639"
  },
  {
    "text": "we actually can modern them in two types",
    "start": "786639",
    "end": "789600"
  },
  {
    "text": "namely",
    "start": "789600",
    "end": "790240"
  },
  {
    "text": "synchronize the components and",
    "start": "790240",
    "end": "791920"
  },
  {
    "text": "asynchronize the components",
    "start": "791920",
    "end": "794560"
  },
  {
    "text": "for synchronized components like api",
    "start": "794560",
    "end": "797040"
  },
  {
    "text": "server htc retreating and the validating",
    "start": "797040",
    "end": "799279"
  },
  {
    "text": "web hook",
    "start": "799279",
    "end": "800240"
  },
  {
    "text": "their interaction model is more stress",
    "start": "800240",
    "end": "802160"
  },
  {
    "text": "forward get requested in",
    "start": "802160",
    "end": "804480"
  },
  {
    "text": "process internally and send the response",
    "start": "804480",
    "end": "806720"
  },
  {
    "text": "out",
    "start": "806720",
    "end": "807760"
  },
  {
    "text": "for asymmetric component just like",
    "start": "807760",
    "end": "810320"
  },
  {
    "text": "scheduler",
    "start": "810320",
    "end": "811200"
  },
  {
    "text": "controller or customer operators",
    "start": "811200",
    "end": "814399"
  },
  {
    "text": "their interaction model are more likely",
    "start": "814399",
    "end": "816800"
  },
  {
    "text": "classical",
    "start": "816800",
    "end": "817519"
  },
  {
    "text": "leads than the watch pattern an intern",
    "start": "817519",
    "end": "820000"
  },
  {
    "text": "intended driver",
    "start": "820000",
    "end": "822079"
  },
  {
    "text": "they need to watch resource status chat",
    "start": "822079",
    "end": "825519"
  },
  {
    "text": "and then into the reconcile queue and do",
    "start": "825519",
    "end": "828480"
  },
  {
    "text": "the",
    "start": "828480",
    "end": "829120"
  },
  {
    "text": "we can sell nation repeatedly",
    "start": "829120",
    "end": "833279"
  },
  {
    "start": "833000",
    "end": "833000"
  },
  {
    "text": "so to design seo for synchronous",
    "start": "833680",
    "end": "836320"
  },
  {
    "text": "components",
    "start": "836320",
    "end": "837040"
  },
  {
    "text": "we believe we need to pay attention to",
    "start": "837040",
    "end": "839680"
  },
  {
    "text": "request the error rate",
    "start": "839680",
    "end": "841120"
  },
  {
    "text": "latency and also the component uptime",
    "start": "841120",
    "end": "844399"
  },
  {
    "text": "according to the google sre workbook the",
    "start": "844399",
    "end": "847199"
  },
  {
    "text": "other two",
    "start": "847199",
    "end": "848160"
  },
  {
    "text": "the other two golden signal are",
    "start": "848160",
    "end": "850320"
  },
  {
    "text": "situation and the traffic",
    "start": "850320",
    "end": "852800"
  },
  {
    "text": "but we believe that these two signals",
    "start": "852800",
    "end": "854959"
  },
  {
    "text": "are less important",
    "start": "854959",
    "end": "856000"
  },
  {
    "text": "and we can have another way to include",
    "start": "856000",
    "end": "858399"
  },
  {
    "text": "them in seo",
    "start": "858399",
    "end": "859519"
  },
  {
    "text": "design for example trafficker actually",
    "start": "859519",
    "end": "862240"
  },
  {
    "text": "can be",
    "start": "862240",
    "end": "862880"
  },
  {
    "text": "majoried from the client set",
    "start": "862880",
    "end": "865920"
  },
  {
    "text": "almost every component talks to api",
    "start": "865920",
    "end": "868320"
  },
  {
    "text": "server and",
    "start": "868320",
    "end": "869120"
  },
  {
    "text": "each of them has metrics to indicating",
    "start": "869120",
    "end": "871519"
  },
  {
    "text": "the success rate",
    "start": "871519",
    "end": "873040"
  },
  {
    "text": "to talk to api server the client-side",
    "start": "873040",
    "end": "875839"
  },
  {
    "text": "monetary agreement",
    "start": "875839",
    "end": "877360"
  },
  {
    "text": "on the request the error ratio can",
    "start": "877360",
    "end": "879920"
  },
  {
    "text": "somehow reflect",
    "start": "879920",
    "end": "881040"
  },
  {
    "text": "the situation and traffic conditions",
    "start": "881040",
    "end": "884880"
  },
  {
    "text": "to design the asynchronous component seo",
    "start": "884880",
    "end": "888320"
  },
  {
    "text": "similarly we care about the reconcile",
    "start": "888320",
    "end": "890720"
  },
  {
    "text": "error ratio",
    "start": "890720",
    "end": "891680"
  },
  {
    "text": "and latency of course component uptime",
    "start": "891680",
    "end": "895199"
  },
  {
    "text": "besides most component runs as a leader",
    "start": "895199",
    "end": "898560"
  },
  {
    "text": "follower pattern",
    "start": "898560",
    "end": "899920"
  },
  {
    "text": "so we can define sao for leader",
    "start": "899920",
    "end": "902639"
  },
  {
    "text": "selection time and",
    "start": "902639",
    "end": "903680"
  },
  {
    "text": "no leader time the reconcile query",
    "start": "903680",
    "end": "907279"
  },
  {
    "text": "system is another interesting asset",
    "start": "907279",
    "end": "910240"
  },
  {
    "text": "accepted",
    "start": "910240",
    "end": "911199"
  },
  {
    "text": "of asynchronous components so",
    "start": "911199",
    "end": "914480"
  },
  {
    "text": "we can design sao for the cue depths",
    "start": "914480",
    "end": "917519"
  },
  {
    "text": "and all these non-digital items to help",
    "start": "917519",
    "end": "920399"
  },
  {
    "text": "us",
    "start": "920399",
    "end": "920880"
  },
  {
    "text": "mature component healthness",
    "start": "920880",
    "end": "926320"
  },
  {
    "start": "925000",
    "end": "925000"
  },
  {
    "text": "okay finally to summarize our overall",
    "start": "926320",
    "end": "930399"
  },
  {
    "text": "seo design is a combination to top-down",
    "start": "930399",
    "end": "933839"
  },
  {
    "text": "approach and the bottom-up approach we",
    "start": "933839",
    "end": "936399"
  },
  {
    "text": "first separate",
    "start": "936399",
    "end": "937440"
  },
  {
    "text": "the seos into two layers the upper layer",
    "start": "937440",
    "end": "941040"
  },
  {
    "text": "is about end to end sao which we believe",
    "start": "941040",
    "end": "944720"
  },
  {
    "text": "both",
    "start": "944720",
    "end": "945120"
  },
  {
    "text": "user and sre care including the",
    "start": "945120",
    "end": "948399"
  },
  {
    "text": "resource deliver port lifecycle api",
    "start": "948399",
    "end": "951279"
  },
  {
    "text": "server interaction",
    "start": "951279",
    "end": "952399"
  },
  {
    "text": "existing port health needs the bottom",
    "start": "952399",
    "end": "955519"
  },
  {
    "text": "layer focuses more on",
    "start": "955519",
    "end": "957279"
  },
  {
    "text": "individual components and we believe sre",
    "start": "957279",
    "end": "959680"
  },
  {
    "text": "and dev scales more",
    "start": "959680",
    "end": "961040"
  },
  {
    "text": "on this layer each individual component",
    "start": "961040",
    "end": "964480"
  },
  {
    "text": "seo helps us",
    "start": "964480",
    "end": "965759"
  },
  {
    "text": "identify bottlenecks and the limiter in",
    "start": "965759",
    "end": "968639"
  },
  {
    "text": "our kubernetes cluster",
    "start": "968639",
    "end": "970079"
  },
  {
    "text": "and the word and then we can take",
    "start": "970079",
    "end": "972399"
  },
  {
    "text": "concrete",
    "start": "972399",
    "end": "973199"
  },
  {
    "text": "action to improve each of them",
    "start": "973199",
    "end": "976320"
  },
  {
    "text": "okay next i will hand back to chen to",
    "start": "976320",
    "end": "979360"
  },
  {
    "text": "talk about",
    "start": "979360",
    "end": "979920"
  },
  {
    "text": "sao management thank you",
    "start": "979920",
    "end": "983839"
  },
  {
    "text": "all right thanks tom for sharing",
    "start": "984560",
    "end": "987839"
  },
  {
    "text": "now i'll talk about how we do srm",
    "start": "987839",
    "end": "990320"
  },
  {
    "text": "management",
    "start": "990320",
    "end": "991040"
  },
  {
    "text": "specifically i'll use an example of",
    "start": "991040",
    "end": "993360"
  },
  {
    "text": "doing slo-based alerting",
    "start": "993360",
    "end": "997040"
  },
  {
    "start": "997000",
    "end": "997000"
  },
  {
    "text": "suppose we have an slow say 99.9 percent",
    "start": "997040",
    "end": "1000959"
  },
  {
    "text": "of the requests",
    "start": "1000959",
    "end": "1001920"
  },
  {
    "text": "to api server are successful every month",
    "start": "1001920",
    "end": "1005040"
  },
  {
    "text": "so this means a successful request",
    "start": "1005040",
    "end": "1008240"
  },
  {
    "text": "will like say return http status code",
    "start": "1008240",
    "end": "1010880"
  },
  {
    "text": "less than 500",
    "start": "1010880",
    "end": "1012000"
  },
  {
    "text": "this is kind of simple and",
    "start": "1012000",
    "end": "1013839"
  },
  {
    "text": "straightforward right",
    "start": "1013839",
    "end": "1016160"
  },
  {
    "text": "so as an sre you can actually set up",
    "start": "1016160",
    "end": "1019519"
  },
  {
    "text": "very simple alerts based on the ratio",
    "start": "1019519",
    "end": "1022240"
  },
  {
    "text": "rate",
    "start": "1022240",
    "end": "1023040"
  },
  {
    "text": "as i listed here in this following",
    "start": "1023040",
    "end": "1025839"
  },
  {
    "text": "prometheus code snippet",
    "start": "1025839",
    "end": "1028160"
  },
  {
    "text": "you first define two recording rules one",
    "start": "1028160",
    "end": "1030959"
  },
  {
    "text": "to",
    "start": "1030959",
    "end": "1032160"
  },
  {
    "text": "sum up all the sli error count in a",
    "start": "1032160",
    "end": "1035600"
  },
  {
    "text": "minute",
    "start": "1035600",
    "end": "1036400"
  },
  {
    "text": "and the other recording rules to sum up",
    "start": "1036400",
    "end": "1038798"
  },
  {
    "text": "or the total",
    "start": "1038799",
    "end": "1039918"
  },
  {
    "text": "counting a minute right so now we have",
    "start": "1039919",
    "end": "1042480"
  },
  {
    "text": "the per minute",
    "start": "1042480",
    "end": "1043760"
  },
  {
    "text": "like error account and total count we",
    "start": "1043760",
    "end": "1045918"
  },
  {
    "text": "simply do a division",
    "start": "1045919",
    "end": "1047760"
  },
  {
    "text": "and compare it with 0.1",
    "start": "1047760",
    "end": "1051600"
  },
  {
    "text": "and if the error ratio is greater than",
    "start": "1051600",
    "end": "1054160"
  },
  {
    "text": "0.1 percent we",
    "start": "1054160",
    "end": "1055760"
  },
  {
    "text": "alert and if you have",
    "start": "1055760",
    "end": "1059440"
  },
  {
    "text": "set up this type of alert in the past",
    "start": "1059440",
    "end": "1061760"
  },
  {
    "text": "you may already",
    "start": "1061760",
    "end": "1062640"
  },
  {
    "text": "find out that this is very problematic",
    "start": "1062640",
    "end": "1066240"
  },
  {
    "text": "because you will receive a lot of noise",
    "start": "1066240",
    "end": "1070799"
  },
  {
    "text": "as i demonstrate here in this",
    "start": "1070799",
    "end": "1072559"
  },
  {
    "text": "hypothetical error ratio graph",
    "start": "1072559",
    "end": "1075360"
  },
  {
    "text": "so if you use the ratio rate under",
    "start": "1075360",
    "end": "1079120"
  },
  {
    "text": "setup then every spec here which about",
    "start": "1079120",
    "end": "1082000"
  },
  {
    "text": "this horizontal line",
    "start": "1082000",
    "end": "1083520"
  },
  {
    "text": "will trigger the alert and it will cost",
    "start": "1083520",
    "end": "1086480"
  },
  {
    "text": "you and the sri team",
    "start": "1086480",
    "end": "1087840"
  },
  {
    "text": "a bunch of operational hours to deal",
    "start": "1087840",
    "end": "1090160"
  },
  {
    "text": "with the noise",
    "start": "1090160",
    "end": "1091360"
  },
  {
    "text": "and maybe to deal with the real outage",
    "start": "1091360",
    "end": "1095679"
  },
  {
    "text": "and then you may think about say how can",
    "start": "1095679",
    "end": "1098720"
  },
  {
    "text": "we reduce the noise",
    "start": "1098720",
    "end": "1099840"
  },
  {
    "text": "right a very straightforward thinking is",
    "start": "1099840",
    "end": "1102960"
  },
  {
    "text": "to add a holding period let's say if",
    "start": "1102960",
    "end": "1105919"
  },
  {
    "text": "this error ratio continues for five",
    "start": "1105919",
    "end": "1107919"
  },
  {
    "text": "minutes",
    "start": "1107919",
    "end": "1109039"
  },
  {
    "text": "then we trigger the alert however this",
    "start": "1109039",
    "end": "1112480"
  },
  {
    "text": "is also problematic because",
    "start": "1112480",
    "end": "1116000"
  },
  {
    "text": "i can easily bypass this type of alert",
    "start": "1116000",
    "end": "1118640"
  },
  {
    "text": "but",
    "start": "1118640",
    "end": "1119280"
  },
  {
    "text": "still broke my slo because",
    "start": "1119280",
    "end": "1122559"
  },
  {
    "text": "you can think about this situation let's",
    "start": "1122559",
    "end": "1124799"
  },
  {
    "text": "say in the first three minutes",
    "start": "1124799",
    "end": "1126720"
  },
  {
    "text": "your aps server receives like 100 narrow",
    "start": "1126720",
    "end": "1129600"
  },
  {
    "text": "rates",
    "start": "1129600",
    "end": "1130559"
  },
  {
    "text": "and then in the next two minutes because",
    "start": "1130559",
    "end": "1133120"
  },
  {
    "text": "there is no traffic",
    "start": "1133120",
    "end": "1134240"
  },
  {
    "text": "let's say there's no traffic and so the",
    "start": "1134240",
    "end": "1137120"
  },
  {
    "text": "error rate",
    "start": "1137120",
    "end": "1138000"
  },
  {
    "text": "is like say 0 and then the traffic",
    "start": "1138000",
    "end": "1141840"
  },
  {
    "text": "comes in again and it becomes 100 error",
    "start": "1141840",
    "end": "1145200"
  },
  {
    "text": "and then 2 minutes there's no traffic",
    "start": "1145200",
    "end": "1147039"
  },
  {
    "text": "this repeated pattern",
    "start": "1147039",
    "end": "1148480"
  },
  {
    "text": "will cost you sixty percent every weight",
    "start": "1148480",
    "end": "1151520"
  },
  {
    "text": "or let's say a hundred percent so",
    "start": "1151520",
    "end": "1155360"
  },
  {
    "text": "again this type of fail to capture this",
    "start": "1155360",
    "end": "1158400"
  },
  {
    "text": "type of",
    "start": "1158400",
    "end": "1159600"
  },
  {
    "text": "like outage so what can we do",
    "start": "1159600",
    "end": "1163360"
  },
  {
    "text": "so let's reconsider our learning",
    "start": "1163360",
    "end": "1165200"
  },
  {
    "start": "1164000",
    "end": "1164000"
  },
  {
    "text": "philosophy",
    "start": "1165200",
    "end": "1166400"
  },
  {
    "text": "we know that our solo target should",
    "start": "1166400",
    "end": "1168720"
  },
  {
    "text": "never be 100",
    "start": "1168720",
    "end": "1170080"
  },
  {
    "text": "otherwise it's meaningless that means",
    "start": "1170080",
    "end": "1173280"
  },
  {
    "text": "like the for the total requesting",
    "start": "1173280",
    "end": "1175919"
  },
  {
    "text": "amounts",
    "start": "1175919",
    "end": "1176720"
  },
  {
    "text": "we can divided them into two parts",
    "start": "1176720",
    "end": "1179760"
  },
  {
    "text": "we have an expected portion that we want",
    "start": "1179760",
    "end": "1183200"
  },
  {
    "text": "to serve reliably right it can be 99.9",
    "start": "1183200",
    "end": "1187120"
  },
  {
    "text": "of the total requests and we always have",
    "start": "1187120",
    "end": "1190320"
  },
  {
    "text": "like say 0.1",
    "start": "1190320",
    "end": "1191760"
  },
  {
    "text": "error portions and we think we can",
    "start": "1191760",
    "end": "1194960"
  },
  {
    "text": "manage",
    "start": "1194960",
    "end": "1196160"
  },
  {
    "text": "the risk of it right so",
    "start": "1196160",
    "end": "1199200"
  },
  {
    "text": "these risks can sometimes come from your",
    "start": "1199200",
    "end": "1201360"
  },
  {
    "text": "dependency failures",
    "start": "1201360",
    "end": "1202799"
  },
  {
    "text": "or you can encounter unexpected",
    "start": "1202799",
    "end": "1206400"
  },
  {
    "text": "network hiccups right so",
    "start": "1206400",
    "end": "1210559"
  },
  {
    "text": "this red portion we call it the error",
    "start": "1210559",
    "end": "1213280"
  },
  {
    "text": "budget",
    "start": "1213280",
    "end": "1214000"
  },
  {
    "text": "that we can tolerate then we can come up",
    "start": "1214000",
    "end": "1217520"
  },
  {
    "text": "with our learning strategy",
    "start": "1217520",
    "end": "1219600"
  },
  {
    "text": "so first we set up our slow targets",
    "start": "1219600",
    "end": "1222480"
  },
  {
    "text": "saying 99.9",
    "start": "1222480",
    "end": "1224559"
  },
  {
    "text": "the request to aps server are successful",
    "start": "1224559",
    "end": "1227600"
  },
  {
    "text": "every month and then we implement our",
    "start": "1227600",
    "end": "1230559"
  },
  {
    "text": "sli metrics",
    "start": "1230559",
    "end": "1231919"
  },
  {
    "text": "to monitor ourselves right",
    "start": "1231919",
    "end": "1235360"
  },
  {
    "text": "so typically we have two metrics the",
    "start": "1235360",
    "end": "1237600"
  },
  {
    "text": "error",
    "start": "1237600",
    "end": "1238480"
  },
  {
    "text": "metric and the total metric",
    "start": "1238480",
    "end": "1241919"
  },
  {
    "text": "and then we can figure out our maximum",
    "start": "1241919",
    "end": "1243840"
  },
  {
    "text": "tolerable failed requesting amounts",
    "start": "1243840",
    "end": "1246559"
  },
  {
    "text": "that is our error budget and then we",
    "start": "1246559",
    "end": "1249280"
  },
  {
    "text": "only alert",
    "start": "1249280",
    "end": "1250480"
  },
  {
    "text": "if a predefined portion of the error",
    "start": "1250480",
    "end": "1253039"
  },
  {
    "text": "budget",
    "start": "1253039",
    "end": "1254320"
  },
  {
    "text": "are consumed in a short time window so",
    "start": "1254320",
    "end": "1257440"
  },
  {
    "text": "to demonstrate",
    "start": "1257440",
    "end": "1258720"
  },
  {
    "text": "this philosophy i set up two",
    "start": "1258720",
    "end": "1262320"
  },
  {
    "text": "levels of hourly say the first level is",
    "start": "1262320",
    "end": "1265440"
  },
  {
    "text": "the page level that means sres needs to",
    "start": "1265440",
    "end": "1268960"
  },
  {
    "text": "come up with the solution really quickly",
    "start": "1268960",
    "end": "1271440"
  },
  {
    "text": "because it's really an emergency issue",
    "start": "1271440",
    "end": "1273919"
  },
  {
    "text": "so the page alert says number of sli",
    "start": "1273919",
    "end": "1277440"
  },
  {
    "text": "failures in an hour",
    "start": "1277440",
    "end": "1279679"
  },
  {
    "text": "if it's greater than three percent of",
    "start": "1279679",
    "end": "1282400"
  },
  {
    "text": "the entire error budget",
    "start": "1282400",
    "end": "1283919"
  },
  {
    "text": "of the month zero budget calculation is",
    "start": "1283919",
    "end": "1286559"
  },
  {
    "text": "a very straightforward simple map",
    "start": "1286559",
    "end": "1288960"
  },
  {
    "text": "one minus 0.99 times the number of total",
    "start": "1288960",
    "end": "1292159"
  },
  {
    "text": "requests in a month",
    "start": "1292159",
    "end": "1293360"
  },
  {
    "text": "right if that happens then we alert",
    "start": "1293360",
    "end": "1297280"
  },
  {
    "text": "so that we need to react on this",
    "start": "1297280",
    "end": "1299679"
  },
  {
    "text": "failures",
    "start": "1299679",
    "end": "1301280"
  },
  {
    "text": "and we have another level say the ticket",
    "start": "1301280",
    "end": "1303440"
  },
  {
    "text": "level",
    "start": "1303440",
    "end": "1304320"
  },
  {
    "text": "this is to deal with those somehow mild",
    "start": "1304320",
    "end": "1307600"
  },
  {
    "text": "situation",
    "start": "1307600",
    "end": "1308880"
  },
  {
    "text": "says slos sri failures in a day",
    "start": "1308880",
    "end": "1313360"
  },
  {
    "text": "say it's greater than 5 of the entire",
    "start": "1313360",
    "end": "1317280"
  },
  {
    "text": "error budget so why we choose three",
    "start": "1317280",
    "end": "1319679"
  },
  {
    "text": "percent and five percent here",
    "start": "1319679",
    "end": "1321760"
  },
  {
    "text": "so three percent in an hour it means",
    "start": "1321760",
    "end": "1324400"
  },
  {
    "text": "like say",
    "start": "1324400",
    "end": "1325120"
  },
  {
    "text": "in 34 hours we will burn up",
    "start": "1325120",
    "end": "1328880"
  },
  {
    "text": "all of our budget so we will miss our",
    "start": "1328880",
    "end": "1332159"
  },
  {
    "text": "sro target",
    "start": "1332159",
    "end": "1333039"
  },
  {
    "text": "for the month and for five percent",
    "start": "1333039",
    "end": "1336159"
  },
  {
    "text": "portion in a day it means in 20 days if",
    "start": "1336159",
    "end": "1338559"
  },
  {
    "text": "we do nothing",
    "start": "1338559",
    "end": "1340080"
  },
  {
    "text": "that means cslo will be broken",
    "start": "1340080",
    "end": "1344158"
  },
  {
    "text": "so to implement these alerts in",
    "start": "1344240",
    "end": "1347360"
  },
  {
    "text": "practice let's say we use prometheus as",
    "start": "1347360",
    "end": "1349919"
  },
  {
    "text": "an example",
    "start": "1349919",
    "end": "1350559"
  },
  {
    "text": "in this code snippet let's say i want to",
    "start": "1350559",
    "end": "1352720"
  },
  {
    "text": "implement the page level alert",
    "start": "1352720",
    "end": "1355120"
  },
  {
    "text": "so other than the per minute sr error",
    "start": "1355120",
    "end": "1357840"
  },
  {
    "text": "count",
    "start": "1357840",
    "end": "1358320"
  },
  {
    "text": "and sli total count which we used in the",
    "start": "1358320",
    "end": "1361679"
  },
  {
    "text": "racial rate based alert",
    "start": "1361679",
    "end": "1363520"
  },
  {
    "text": "we need to come up with two more",
    "start": "1363520",
    "end": "1365120"
  },
  {
    "text": "recording rules one",
    "start": "1365120",
    "end": "1366799"
  },
  {
    "text": "to sum up all the error",
    "start": "1366799",
    "end": "1370000"
  },
  {
    "text": "counts in the past hour so we some of",
    "start": "1370000",
    "end": "1373600"
  },
  {
    "text": "the time",
    "start": "1373600",
    "end": "1374000"
  },
  {
    "text": "for the permanent error count this is",
    "start": "1374000",
    "end": "1377120"
  },
  {
    "text": "also very straightforward",
    "start": "1377120",
    "end": "1378240"
  },
  {
    "text": "right and we can come up with another",
    "start": "1378240",
    "end": "1380960"
  },
  {
    "text": "recording rules",
    "start": "1380960",
    "end": "1381919"
  },
  {
    "text": "to get the monthly total count this can",
    "start": "1381919",
    "end": "1384720"
  },
  {
    "text": "help us",
    "start": "1384720",
    "end": "1385520"
  },
  {
    "text": "calculate the error budget very",
    "start": "1385520",
    "end": "1387520"
  },
  {
    "text": "straightforward",
    "start": "1387520",
    "end": "1389120"
  },
  {
    "text": "um so then we can come up with the final",
    "start": "1389120",
    "end": "1391600"
  },
  {
    "text": "alert",
    "start": "1391600",
    "end": "1392320"
  },
  {
    "text": "the left-hand side is apparently the",
    "start": "1392320",
    "end": "1395200"
  },
  {
    "text": "hourly",
    "start": "1395200",
    "end": "1396640"
  },
  {
    "text": "sli error count and the right-hand side",
    "start": "1396640",
    "end": "1399840"
  },
  {
    "text": "either three percent of the error budget",
    "start": "1399840",
    "end": "1404480"
  },
  {
    "text": "anyway due to the time limit i can only",
    "start": "1405760",
    "end": "1408799"
  },
  {
    "text": "share",
    "start": "1408799",
    "end": "1409200"
  },
  {
    "text": "this much about slow alerting so to do a",
    "start": "1409200",
    "end": "1412000"
  },
  {
    "start": "1412000",
    "end": "1412000"
  },
  {
    "text": "quick recap on today's session",
    "start": "1412000",
    "end": "1415200"
  },
  {
    "text": "we basically talk about three different",
    "start": "1415200",
    "end": "1417280"
  },
  {
    "text": "things first",
    "start": "1417280",
    "end": "1418400"
  },
  {
    "text": "how we define our fine-grained slos for",
    "start": "1418400",
    "end": "1421120"
  },
  {
    "text": "kubernetes clusters",
    "start": "1421120",
    "end": "1422559"
  },
  {
    "text": "right we do component level and we do",
    "start": "1422559",
    "end": "1424960"
  },
  {
    "text": "like the user level",
    "start": "1424960",
    "end": "1426640"
  },
  {
    "text": "so users may care more about n2n slos",
    "start": "1426640",
    "end": "1430159"
  },
  {
    "text": "and we care more about",
    "start": "1430159",
    "end": "1431919"
  },
  {
    "text": "on component level and we know how to",
    "start": "1431919",
    "end": "1434799"
  },
  {
    "text": "use",
    "start": "1434799",
    "end": "1435200"
  },
  {
    "text": "slo-based metrics to do our monitoring",
    "start": "1435200",
    "end": "1437440"
  },
  {
    "text": "and alerting",
    "start": "1437440",
    "end": "1438480"
  },
  {
    "text": "because they are less noisy and can be",
    "start": "1438480",
    "end": "1440880"
  },
  {
    "text": "very effective",
    "start": "1440880",
    "end": "1442799"
  },
  {
    "text": "i don't have enough time to go through",
    "start": "1442799",
    "end": "1444880"
  },
  {
    "text": "how we do slo documentations",
    "start": "1444880",
    "end": "1446960"
  },
  {
    "text": "and how we do discussions with our",
    "start": "1446960",
    "end": "1449039"
  },
  {
    "text": "partners and their teams to reach",
    "start": "1449039",
    "end": "1450880"
  },
  {
    "text": "agreements",
    "start": "1450880",
    "end": "1452000"
  },
  {
    "text": "but we can discuss them later well in",
    "start": "1452000",
    "end": "1454960"
  },
  {
    "text": "the future",
    "start": "1454960",
    "end": "1455679"
  },
  {
    "text": "since our kubernetes clusters continues",
    "start": "1455679",
    "end": "1458080"
  },
  {
    "text": "to grow",
    "start": "1458080",
    "end": "1459120"
  },
  {
    "text": "and we need to continuously review our",
    "start": "1459120",
    "end": "1461919"
  },
  {
    "text": "slos to align with our user interests",
    "start": "1461919",
    "end": "1464960"
  },
  {
    "text": "and maybe we will do like say monthly or",
    "start": "1464960",
    "end": "1467520"
  },
  {
    "text": "quarterly",
    "start": "1467520",
    "end": "1468080"
  },
  {
    "text": "slo reports for like",
    "start": "1468080",
    "end": "1471440"
  },
  {
    "text": "the entire fleet",
    "start": "1471440",
    "end": "1474480"
  },
  {
    "text": "anyway we already started another very",
    "start": "1474480",
    "end": "1477200"
  },
  {
    "text": "interesting project",
    "start": "1477200",
    "end": "1478400"
  },
  {
    "text": "on automation we want to automate the",
    "start": "1478400",
    "end": "1480480"
  },
  {
    "text": "recording",
    "start": "1480480",
    "end": "1481600"
  },
  {
    "text": "process based on our slo-based alerts",
    "start": "1481600",
    "end": "1484559"
  },
  {
    "text": "and",
    "start": "1484559",
    "end": "1484960"
  },
  {
    "text": "other slo-based metrics anyway",
    "start": "1484960",
    "end": "1488159"
  },
  {
    "text": "thanks for listening and now we can take",
    "start": "1488159",
    "end": "1490320"
  },
  {
    "text": "some questions",
    "start": "1490320",
    "end": "1493679"
  }
]