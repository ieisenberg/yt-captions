[
  {
    "text": "all right all right all right so we're starting again with uh ARA pulido uh the",
    "start": "19640",
    "end": "26480"
  },
  {
    "text": "developer Advocate from datadog with the kubernetes",
    "start": "26480",
    "end": "31560"
  },
  {
    "text": "um Gateway API we are after hour we're going to have a 30 minutes break and we're going to",
    "start": "31560",
    "end": "37620"
  },
  {
    "text": "restart again at 3 30. uh but for now ARA will you join me give it up Ferrara",
    "start": "37620",
    "end": "43320"
  },
  {
    "text": "please thanks thanks William good luck thank you so yes",
    "start": "43320",
    "end": "51059"
  },
  {
    "text": "um thanks thanks for having me and and thanks for the organizers for this amazing conference it's super well run",
    "start": "51059",
    "end": "57719"
  },
  {
    "text": "the venue it's super cool it's like a Club come on this is very hack hacker",
    "start": "57719",
    "end": "65040"
  },
  {
    "text": "Club 90s kind of feeling which is great but today I'm going to be talking about kubernetes Gateway API which I consider",
    "start": "65040",
    "end": "72600"
  },
  {
    "text": "it to be the new way to travel north south um so just just some words about data",
    "start": "72600",
    "end": "80040"
  },
  {
    "text": "dog is a platform that helps companies improve observability and security of their imprint applications and that of",
    "start": "80040",
    "end": "86700"
  },
  {
    "text": "course includes kubernetes as a platform but also the the workloads the",
    "start": "86700",
    "end": "91920"
  },
  {
    "text": "applications that you run on on top we actually have a brand new office in Amsterdam they're very keen to host uh",
    "start": "91920",
    "end": "100560"
  },
  {
    "text": "community events so if you have a Meetup that you want to have a space to run",
    "start": "100560",
    "end": "105780"
  },
  {
    "text": "just ping me and I'll put you in contact with the right people but today North South traffic what is",
    "start": "105780",
    "end": "113040"
  },
  {
    "text": "North South traffic and I wanted to call this talk north south and also to",
    "start": "113040",
    "end": "119460"
  },
  {
    "text": "explain with this term which not everybody knows and I didn't know when the first time that I saw North South",
    "start": "119460",
    "end": "125399"
  },
  {
    "text": "traffic I was so confused about it um what is North South traffic is just",
    "start": "125399",
    "end": "130580"
  },
  {
    "text": "external traffic into your cluster um I don't know we why we come up with terms",
    "start": "130580",
    "end": "137099"
  },
  {
    "text": "like that but that's basically north south um as opposed to West East traffic which",
    "start": "137099",
    "end": "144180"
  },
  {
    "text": "basically means the tracking between the services into your cluster so this is",
    "start": "144180",
    "end": "149459"
  },
  {
    "text": "more or less how it looks like north south but because of the slice format most of",
    "start": "149459",
    "end": "156000"
  },
  {
    "text": "my graphs are going to look like this but always nurse out um",
    "start": "156000",
    "end": "161640"
  },
  {
    "text": "good so how do we do North South traffic in kubernetes so usually what we do we",
    "start": "161640",
    "end": "167400"
  },
  {
    "text": "have to get a load balancer to get traffic in and if you're in a public",
    "start": "167400",
    "end": "172620"
  },
  {
    "text": "Cloud so if you're running gque or AKs AKs and others there is all these clouds provide",
    "start": "172620",
    "end": "179580"
  },
  {
    "text": "controllers so when you create a service and Salman is playing a little bit this morning all about this so thanks thanks",
    "start": "179580",
    "end": "186060"
  },
  {
    "text": "to that I can be a little bit faster in this if you do a type load balancer service",
    "start": "186060",
    "end": "192200"
  },
  {
    "text": "the cloud internally is going to have a controller that is going to provision a",
    "start": "192200",
    "end": "197519"
  },
  {
    "text": "load an actual load balancer for you and that's how you get trafficking your classic you know public Cloud if you",
    "start": "197519",
    "end": "203879"
  },
  {
    "text": "know if you're running your own infrastructure you can actually write your own controller to do the same thing",
    "start": "203879",
    "end": "210840"
  },
  {
    "text": "but what happens in reality is that you may have more than one service that you need to",
    "start": "210840",
    "end": "217379"
  },
  {
    "text": "get traffic from from external um and having a single load balancer per",
    "start": "217379",
    "end": "223560"
  },
  {
    "text": "service is not a great idea because they are very expensive because they are scars",
    "start": "223560",
    "end": "230340"
  },
  {
    "text": "they actually give you an IP that is routable on the internet and we know",
    "start": "230340",
    "end": "235500"
  },
  {
    "text": "that there are not that many of those so they get pretty expensive so what we",
    "start": "235500",
    "end": "240599"
  },
  {
    "text": "do in kubernetes up until now is that we create this Ingress objects and",
    "start": "240599",
    "end": "245659"
  },
  {
    "text": "basically an Ingress object it's an abstraction of things like reverse",
    "start": "245659",
    "end": "251280"
  },
  {
    "text": "proxies for example L7 reverse proxies so you can you are able to Route traffic",
    "start": "251280",
    "end": "258000"
  },
  {
    "text": "based on HTTP application levels so you can say things like if the traffic is",
    "start": "258000",
    "end": "264060"
  },
  {
    "text": "coming to corporate.com Route the traffic to my service called corporate but it's it's shop.corporary.com route",
    "start": "264060",
    "end": "272340"
  },
  {
    "text": "the traffic to service e-commerce and that's that's usually what we do",
    "start": "272340",
    "end": "277800"
  },
  {
    "text": "and this is how the Ingress object looks like um",
    "start": "277800",
    "end": "282840"
  },
  {
    "text": "it's basically that there are a couple of more things you can do things like TLS termination and ex put it there but",
    "start": "282840",
    "end": "289800"
  },
  {
    "text": "it's very very simple it's a very simple spec is part of the networking core kubernetes API so very official it's GA",
    "start": "289800",
    "end": "298139"
  },
  {
    "text": "um and but but the it's it's super simple it's that basically you create rules based on the for example the host",
    "start": "298139",
    "end": "305100"
  },
  {
    "text": "and you can do reroute space for example URL prefixes",
    "start": "305100",
    "end": "311580"
  },
  {
    "text": "um again you can do a little bit more than that with Ingress but that's that's more or less uh what you what you can do",
    "start": "311580",
    "end": "317520"
  },
  {
    "text": "in this example if the traffic goes to fubad.com",
    "start": "317520",
    "end": "322639"
  },
  {
    "text": "it routes the traffic to service one on 4200 uh if it does slash bar it goes to",
    "start": "322639",
    "end": "329520"
  },
  {
    "text": "service to poor 80. and that's very simple to understand it's it's a very very good abstraction to be honest",
    "start": "329520",
    "end": "337380"
  },
  {
    "text": "um so we're good yeah we're right where we we are we we can finish this talk",
    "start": "337380",
    "end": "342479"
  },
  {
    "text": "today um not not quite um if we step back a little bit uh we",
    "start": "342479",
    "end": "349259"
  },
  {
    "text": "know that in kubernetes there is this reconciliation Loop we have a set of binaries called controllers that",
    "start": "349259",
    "end": "355440"
  },
  {
    "text": "basically would they do this watching for changes on your cluster for specific",
    "start": "355440",
    "end": "360720"
  },
  {
    "text": "resources and do something about it and there is a component in kubernetes called the controller manager that has a",
    "start": "360720",
    "end": "367259"
  },
  {
    "text": "set of controllers you have controllers for replica sets for deployments for other things and those come from",
    "start": "367259",
    "end": "373740"
  },
  {
    "text": "kubernetes itself so from the kubernetes distribution itself the Ingress object is not like this the",
    "start": "373740",
    "end": "379860"
  },
  {
    "text": "Ingress is a is a core kubernetes API but it doesn't come with a default",
    "start": "379860",
    "end": "385500"
  },
  {
    "text": "controller you have to deploy it on your cluster externally so you only you only",
    "start": "385500",
    "end": "390900"
  },
  {
    "text": "get the API but know the controller with it so what happens is that many options I",
    "start": "390900",
    "end": "397979"
  },
  {
    "text": "just put here four of them but basically any open source project or company that",
    "start": "397979",
    "end": "403860"
  },
  {
    "text": "they are on the realm of uh I don't know APA gateways or reverse proxies all that",
    "start": "403860",
    "end": "409860"
  },
  {
    "text": "area probably are going to implement one of these Ingress controllers",
    "start": "409860",
    "end": "415860"
  },
  {
    "text": "and this should be fine like the the API its core is there so you should be able",
    "start": "415860",
    "end": "422400"
  },
  {
    "text": "to move from one to another and everything should be fine the problem is that the Ingress resource",
    "start": "422400",
    "end": "429120"
  },
  {
    "text": "is pretty simple and you may want to do things very classic things that you do",
    "start": "429120",
    "end": "435000"
  },
  {
    "text": "with reverse proxies like Shifting the traffic based on weight like if you want",
    "start": "435000",
    "end": "440400"
  },
  {
    "text": "to do canaries or a B testing or things like that you may want to say okay send",
    "start": "440400",
    "end": "445860"
  },
  {
    "text": "90 of the traffic to the first version of my application and 10 of the traffic",
    "start": "445860",
    "end": "451680"
  },
  {
    "text": "to the second version but the Ingress object that sing a lot",
    "start": "451680",
    "end": "456900"
  },
  {
    "text": "for this um but because it feels like it should all",
    "start": "456900",
    "end": "463560"
  },
  {
    "text": "these implementations started to actually accepting to do these things in several",
    "start": "463560",
    "end": "470699"
  },
  {
    "text": "ways again the Ingress object only allows for many like very small number of things",
    "start": "470699",
    "end": "480599"
  },
  {
    "text": "but uh here comes nginx and says okay my users wants to do calories so if you",
    "start": "480599",
    "end": "487800"
  },
  {
    "text": "want to canaries using the Ingress object you're able to hack it a little bit with annotation so we are going to",
    "start": "487800",
    "end": "493740"
  },
  {
    "text": "provide you with annotations there are English controller understands and",
    "start": "493740",
    "end": "498780"
  },
  {
    "text": "you're able to do these things that you want to do that's great but then comes contour and",
    "start": "498780",
    "end": "505199"
  },
  {
    "text": "said okay if with our Ingress controller you're able to do anything that you want",
    "start": "505199",
    "end": "510419"
  },
  {
    "text": "to do with Ingress but if you want to do something more you're going to use these crds that we came up with instead same",
    "start": "510419",
    "end": "519839"
  },
  {
    "text": "with Ambassador they came up with different crds and cone with a plugin",
    "start": "519839",
    "end": "525540"
  },
  {
    "text": "that is not even part of the open source release so you can start seeing the",
    "start": "525540",
    "end": "530760"
  },
  {
    "text": "problem already and this is not only happens at a L7 reverse proxy level",
    "start": "530760",
    "end": "538860"
  },
  {
    "text": "this is where the problem is really really apparent but it also happens at",
    "start": "538860",
    "end": "545580"
  },
  {
    "text": "an L4 so because the spec of service in kubernetes only allows to say type load",
    "start": "545580",
    "end": "551700"
  },
  {
    "text": "balancer and nothing else Cloud providers also do these things",
    "start": "551700",
    "end": "556740"
  },
  {
    "text": "because they say okay I can provision for you a load balancer but you actually have three types of load balancers which",
    "start": "556740",
    "end": "563040"
  },
  {
    "text": "one do you want so because you cannot say that you for example in this case is",
    "start": "563040",
    "end": "568260"
  },
  {
    "text": "an example with G key you can create an annotation to get for example internal load balancer",
    "start": "568260",
    "end": "574860"
  },
  {
    "text": "so we have a problem in kubernetes and this is why they came up with with",
    "start": "574860",
    "end": "581519"
  },
  {
    "text": "Gateway API so Gateway API to the rescue three about three years ago so it took a",
    "start": "581519",
    "end": "587279"
  },
  {
    "text": "while until this was more or less usable they a lot of people in the networking",
    "start": "587279",
    "end": "593760"
  },
  {
    "text": "space and kubernetes coming from Google coming from Contour with all the same people who created the problem",
    "start": "593760",
    "end": "600019"
  },
  {
    "text": "acknowledge that they had created a problem and they started trying to fix it",
    "start": "600019",
    "end": "606000"
  },
  {
    "text": "so they decided that they wanted to build a set of new kubernetes apis to",
    "start": "606000",
    "end": "611700"
  },
  {
    "text": "deploy L4 and L7 routing so both both levels not only L7",
    "start": "611700",
    "end": "617459"
  },
  {
    "text": "and from the very beginning they they had this this North Star to focus on",
    "start": "617459",
    "end": "622740"
  },
  {
    "text": "while designing it and this North Star was like the Gateway API is going to be",
    "start": "622740",
    "end": "628320"
  },
  {
    "text": "designed to be portable meaning that if you have a resource that you have",
    "start": "628320",
    "end": "633600"
  },
  {
    "text": "created in a controller you can move to a different controller and it's going to continue it's very simple but it's clear",
    "start": "633600",
    "end": "640440"
  },
  {
    "text": "that we need a little bit more so we are going to build it so you can express all",
    "start": "640440",
    "end": "646680"
  },
  {
    "text": "your routing needs but it's also going to be extensible because we know that some point we",
    "start": "646680",
    "end": "654480"
  },
  {
    "text": "cannot design everything for now and the future so we need to design it in a way",
    "start": "654480",
    "end": "660959"
  },
  {
    "text": "that it can be extended in the in the future and and also role oriented with the idea",
    "start": "660959",
    "end": "667500"
  },
  {
    "text": "that because we are going to create so many different uh different resources each of those resources are going to be",
    "start": "667500",
    "end": "675320"
  },
  {
    "text": "designed for a specific Persona in your cluster so not all your users all your",
    "start": "675320",
    "end": "683100"
  },
  {
    "text": "the users of your cluster are going to be using the same type of resources",
    "start": "683100",
    "end": "688680"
  },
  {
    "text": "good um so without further Ado this is the most important resources that you're going to find on the Gateway API not the",
    "start": "688680",
    "end": "695640"
  },
  {
    "text": "only ones but basically it's a very simple Gateway classes gateways and",
    "start": "695640",
    "end": "700740"
  },
  {
    "text": "routes and there are many type of routes again this is L4 and L7 so",
    "start": "700740",
    "end": "706440"
  },
  {
    "text": "we have TCP routes UDP routes erpc routes but the most mature obviously and",
    "start": "706440",
    "end": "713760"
  },
  {
    "text": "the the really the first one that was designed is the one that we are going to be seeing today in the talk",
    "start": "713760",
    "end": "719760"
  },
  {
    "text": "which is HTTP routes which you can consider really the the replacement for",
    "start": "719760",
    "end": "725760"
  },
  {
    "text": "for the Ingress object so how does it look like um",
    "start": "725760",
    "end": "731160"
  },
  {
    "text": "the Gateway class and thinking about this role Oriental model is going to be",
    "start": "731160",
    "end": "736740"
  },
  {
    "text": "created by improv providers and nobody else so if for example in this case if",
    "start": "736740",
    "end": "743279"
  },
  {
    "text": "you're running in this example if you're running a key cluster with Gateway API which already you can do",
    "start": "743279",
    "end": "750899"
  },
  {
    "text": "uh they are going to have these Gateway classes for you so instead of having to",
    "start": "750899",
    "end": "756360"
  },
  {
    "text": "create an annotation for the type of load balancer that you need they are going to have those created for you you",
    "start": "756360",
    "end": "765060"
  },
  {
    "text": "can see there is a typo external this is actually on GQ so if you create a gke",
    "start": "765060",
    "end": "770339"
  },
  {
    "text": "cluster you can see that there is a typo under definition of Gateway class at least this time I check which I find it",
    "start": "770339",
    "end": "777300"
  },
  {
    "text": "very funny um but then once you have those Gateway classes that you can use as a cluster",
    "start": "777300",
    "end": "785339"
  },
  {
    "text": "operator or as an application developer if your policy allows for that again this is the different resources allows",
    "start": "785339",
    "end": "793500"
  },
  {
    "text": "for a very specific rbac rules to control who can do what you're able to",
    "start": "793500",
    "end": "800579"
  },
  {
    "text": "create those load balancers by creating gateways on your on your cluster",
    "start": "800579",
    "end": "808200"
  },
  {
    "text": "and you have to specify basically a Gateway class if you do this in UK again",
    "start": "808200",
    "end": "814019"
  },
  {
    "text": "I mentioned GK a lot because they have a very very mature implementation",
    "start": "814019",
    "end": "820579"
  },
  {
    "text": "not like other other clouds at this point uh but today we are going to do a lot of",
    "start": "820579",
    "end": "827760"
  },
  {
    "text": "examples on HTTP routes which I think are the most important ones for most",
    "start": "827760",
    "end": "833459"
  },
  {
    "text": "people and most people are application Developers",
    "start": "833459",
    "end": "838500"
  },
  {
    "text": "um I don't I didn't have time to do demos I only have one demo for today and",
    "start": "838500",
    "end": "843540"
  },
  {
    "text": "it's and it's recorded I have actually three examples I'm going to show two one of them with one demo I didn't have time",
    "start": "843540",
    "end": "850260"
  },
  {
    "text": "while I was rehearsing this talk I was already over the time so I decided to reduce a lot but you can run everything",
    "start": "850260",
    "end": "859139"
  },
  {
    "text": "all the examples on a kind cluster if you clone that Reaper you have all the all the examples so you don't need",
    "start": "859139",
    "end": "865200"
  },
  {
    "text": "anything else on those examples I'm using Contour as the controller",
    "start": "865200",
    "end": "872040"
  },
  {
    "text": "and the reason why is Contour is because it's open source and also they they have",
    "start": "872040",
    "end": "879360"
  },
  {
    "text": "a very very up-to-date implementation as well",
    "start": "879360",
    "end": "884899"
  },
  {
    "text": "um we are going to be using an application so this is the app for the example so it has a front end and a",
    "start": "885600",
    "end": "891180"
  },
  {
    "text": "couple of of services behind discounts and and that's backed up by a database",
    "start": "891180",
    "end": "897000"
  },
  {
    "text": "uh this is how it looks like if you run the demo uh you can see it so this is an",
    "start": "897000",
    "end": "902880"
  },
  {
    "text": "e-commerce example application uh on the left you see what the discount service",
    "start": "902880",
    "end": "908040"
  },
  {
    "text": "is going to bring but which is a discount and on the right hand side you can see the the ads that you get and the",
    "start": "908040",
    "end": "916079"
  },
  {
    "text": "reason why it's it's just says one point something is to distinguish two versions because we are going to do routing of",
    "start": "916079",
    "end": "923579"
  },
  {
    "text": "traffic so you will see that you can get version one in blue or version 2 in red",
    "start": "923579",
    "end": "928980"
  },
  {
    "text": "and that way you're being you're going to be able um actual visually how the traffic is",
    "start": "928980",
    "end": "935699"
  },
  {
    "text": "being rerouted and everything by the way it's uh if you",
    "start": "935699",
    "end": "940860"
  },
  {
    "text": "clone the repo all this application is already instrumented with open Telemetry so if you use an open Telemetry backhand",
    "start": "940860",
    "end": "948740"
  },
  {
    "text": "you can actually actually see the how the traffic is is actually being",
    "start": "948740",
    "end": "955500"
  },
  {
    "text": "routed uh without um having to to do all the tests so you",
    "start": "955500",
    "end": "961320"
  },
  {
    "text": "can use it it's open Telemetry you can use it with whatever backend",
    "start": "961320",
    "end": "966360"
  },
  {
    "text": "uh okay so let's see a couple of examples the first one is something very",
    "start": "966360",
    "end": "971880"
  },
  {
    "text": "simple that you usually do with Ingress is like you say with a particular host",
    "start": "971880",
    "end": "978079"
  },
  {
    "text": "if uh the URL is slash Foo go here slash",
    "start": "978079",
    "end": "983519"
  },
  {
    "text": "bar go there this already you can do with Ingress so there's nothing special here but the problem is that if you do",
    "start": "983519",
    "end": "991079"
  },
  {
    "text": "that with the some Frameworks uh some web Frameworks like rails for example they will get confused because they",
    "start": "991079",
    "end": "998160"
  },
  {
    "text": "expect the application to be on the root URL",
    "start": "998160",
    "end": "1003620"
  },
  {
    "text": "so what you do usually on on reverse proxies rewriting that URL and that's",
    "start": "1003620",
    "end": "1009620"
  },
  {
    "text": "something that all these implementations can do but the Ingress object doesn't have an abstraction for that and you",
    "start": "1009620",
    "end": "1016579"
  },
  {
    "text": "want to do that rewriting that URL so your application believes that is",
    "start": "1016579",
    "end": "1022040"
  },
  {
    "text": "running on the route so you can do this with the Gateway API specification so the first thing we need",
    "start": "1022040",
    "end": "1028760"
  },
  {
    "text": "is a gateway and a listener in this case http and one",
    "start": "1028760",
    "end": "1035000"
  },
  {
    "text": "of the things that from a security model point of view in Gateway API is that because gateways may be created",
    "start": "1035000",
    "end": "1043880"
  },
  {
    "text": "by operators in a different namespace they need to say okay I'm going to allow",
    "start": "1043880",
    "end": "1050540"
  },
  {
    "text": "this gateway to be used by routes that are being created on a specific name",
    "start": "1050540",
    "end": "1056480"
  },
  {
    "text": "spaces obviously you can allow all your cluster if you want but you can specify only certain namespace in this case the",
    "start": "1056480",
    "end": "1064100"
  },
  {
    "text": "ones that match this label can use the Gateway then you need a couple of HTTP routes",
    "start": "1064100",
    "end": "1070960"
  },
  {
    "text": "this is how it looks like this is very similar to Ingress as I said",
    "start": "1070960",
    "end": "1076520"
  },
  {
    "text": "um you can do path prefix so anything a slash Foo goes to fronten or name space",
    "start": "1076520",
    "end": "1082700"
  },
  {
    "text": "one anything a slash bar to front end on namespace 2.",
    "start": "1082700",
    "end": "1088220"
  },
  {
    "text": "but this is the interesting bit the interesting bit is that things",
    "start": "1088220",
    "end": "1093500"
  },
  {
    "text": "interesting things like URL rewrites now are part of the spec meaning that you",
    "start": "1093500",
    "end": "1100940"
  },
  {
    "text": "write it the same way no matter the controller that you're using so once we do that you can see that if",
    "start": "1100940",
    "end": "1108559"
  },
  {
    "text": "it's you go to slash food it goes to version one slash bar goes to version",
    "start": "1108559",
    "end": "1114500"
  },
  {
    "text": "two and the application continues working and the reason why condition is",
    "start": "1114500",
    "end": "1120140"
  },
  {
    "text": "working if we check the trace that is being created you can see that the",
    "start": "1120140",
    "end": "1126080"
  },
  {
    "text": "application thinks that that is coming from from the root URL",
    "start": "1126080",
    "end": "1131960"
  },
  {
    "text": "okay so uh the another example and we are going to see a a recorded demo for",
    "start": "1131960",
    "end": "1137960"
  },
  {
    "text": "this one uh you can see in this case uh the example that we started with something that we want to do and Ingress",
    "start": "1137960",
    "end": "1144980"
  },
  {
    "text": "doing allows to do it but the implementations uh did which is uh",
    "start": "1144980",
    "end": "1151100"
  },
  {
    "text": "routine traffic by weight so in this case we want to Route traffic 80 of the traffic to our first version",
    "start": "1151100",
    "end": "1157280"
  },
  {
    "text": "and 20 of the traffic to a second version and in this case they have a new",
    "start": "1157280",
    "end": "1163880"
  },
  {
    "text": "object called the reference Grant because I'm saying that a route is going",
    "start": "1163880",
    "end": "1169280"
  },
  {
    "text": "to across boundaries to the next to the next name is space in order to do that",
    "start": "1169280",
    "end": "1176299"
  },
  {
    "text": "you can do that with nginx and Ingress already without any permission so unless",
    "start": "1176299",
    "end": "1181580"
  },
  {
    "text": "you have Network policies or things like that it allows you to do that in this case",
    "start": "1181580",
    "end": "1188179"
  },
  {
    "text": "they thought okay if you want to do that using the Gateway API as the owner of name Space 2 you are",
    "start": "1188179",
    "end": "1195620"
  },
  {
    "text": "going to accept traffic coming from routes so the way we are going to do that is first we create the HTTP route",
    "start": "1195620",
    "end": "1203600"
  },
  {
    "text": "that has two backends one in namespace one one in name space two and you can",
    "start": "1203600",
    "end": "1210320"
  },
  {
    "text": "see that routing traffic by weight it's in the spec so it's part of the",
    "start": "1210320",
    "end": "1217460"
  },
  {
    "text": "spec something it's not an annotation it's not another object that we don't know is",
    "start": "1217460",
    "end": "1223760"
  },
  {
    "text": "coming from is actually par part of the spec so something that you can do in the spec and then we have the reference ground so",
    "start": "1223760",
    "end": "1230600"
  },
  {
    "text": "on name Space 2 we are going to create a reference grant that basically says I'm",
    "start": "1230600",
    "end": "1236419"
  },
  {
    "text": "going to accept routes coming from namespace 1 to send traffic to my",
    "start": "1236419",
    "end": "1242440"
  },
  {
    "text": "backend services okay so let's see the demo",
    "start": "1242440",
    "end": "1248960"
  },
  {
    "text": "let's play this so basically this is the same thing that",
    "start": "1248960",
    "end": "1254120"
  },
  {
    "text": "we saw so we are creating first the reference Grant and we are going to also create the",
    "start": "1254120",
    "end": "1260900"
  },
  {
    "text": "routes in this case the route and once we do that if we start",
    "start": "1260900",
    "end": "1268340"
  },
  {
    "text": "refreshing the page we are going to get 80 of the times version one and twenty",
    "start": "1268340",
    "end": "1274580"
  },
  {
    "text": "percent of the time version two so I fast forward this a lot of times and",
    "start": "1274580",
    "end": "1281480"
  },
  {
    "text": "um after a while I can use this open Telemetry traces to",
    "start": "1281480",
    "end": "1288740"
  },
  {
    "text": "think about whether the Gateway API and the controller are doing what I'm supposed to be doing so if we check the",
    "start": "1288740",
    "end": "1296480"
  },
  {
    "text": "traces for the ad service we can see visually in purple is version 1.0 in",
    "start": "1296480",
    "end": "1302720"
  },
  {
    "text": "blue is is 2.0 you can see visually more or less 80 of the traffic is going to",
    "start": "1302720",
    "end": "1309559"
  },
  {
    "text": "the first version and 20 of the traffic is going to the second version and you",
    "start": "1309559",
    "end": "1314780"
  },
  {
    "text": "can also see some latency issues on the second version that probably you need to to check out",
    "start": "1314780",
    "end": "1320860"
  },
  {
    "text": "okay cool um so that was uh an example of you what you can do but I wanted to talk about as",
    "start": "1321740",
    "end": "1327919"
  },
  {
    "text": "well um on a little bit of of some of the design decisions on the Gateway API that",
    "start": "1327919",
    "end": "1333919"
  },
  {
    "text": "I found them very very cool so we mentioned the beginning that it's",
    "start": "1333919",
    "end": "1339020"
  },
  {
    "text": "designed to be portable so you you can move things from controller to controller and they continue working as",
    "start": "1339020",
    "end": "1345140"
  },
  {
    "text": "expected how do they do that how they I as an implementator of one of these",
    "start": "1345140",
    "end": "1351640"
  },
  {
    "text": "controllers how do I make sure that it's going to be portable so basically they offer support levels for",
    "start": "1351640",
    "end": "1358700"
  },
  {
    "text": "features they the Gateway API have a set of core features and those core features",
    "start": "1358700",
    "end": "1363919"
  },
  {
    "text": "mean that you if you want to be compliant you have because they have a set of compliance",
    "start": "1363919",
    "end": "1370220"
  },
  {
    "text": "tests you have to implement everything on the core level following the spec so if if you don't",
    "start": "1370220",
    "end": "1378200"
  },
  {
    "text": "want to be compliant that's fine but if you want to that's how you do it Then There are a set of extender",
    "start": "1378200",
    "end": "1384340"
  },
  {
    "text": "extended features meaning that it's optional for you as an as an",
    "start": "1384340",
    "end": "1391159"
  },
  {
    "text": "implementation to implement this set of features but if you do you have to do so by following the spec",
    "start": "1391159",
    "end": "1398720"
  },
  {
    "text": "you cannot create annotations or tricks you have to follow the spec",
    "start": "1398720",
    "end": "1404659"
  },
  {
    "text": "but they understand as well that they might be things that are very implementation specific because these",
    "start": "1404659",
    "end": "1413000"
  },
  {
    "text": "things are very broad some not for example in the case of of Gateway",
    "start": "1413000",
    "end": "1418100"
  },
  {
    "text": "classes not all clouds are going to have the same the same set of resources so there are",
    "start": "1418100",
    "end": "1424460"
  },
  {
    "text": "things that you can Implement that are specific to your cl to to your implementation but you have to do so",
    "start": "1424460",
    "end": "1430400"
  },
  {
    "text": "Following also some rules and the other funny thing about the",
    "start": "1430400",
    "end": "1436220"
  },
  {
    "text": "design of of the Gateway API is that they have a different release model so we are used to",
    "start": "1436220",
    "end": "1441880"
  },
  {
    "text": "apis and kubernetes to be part of the release of kubernetes in this case",
    "start": "1441880",
    "end": "1447320"
  },
  {
    "text": "they decided early on that they were going to be released as crds that",
    "start": "1447320",
    "end": "1452659"
  },
  {
    "text": "doesn't mean that it's not an official API it's an official API it's Gateway networking cates.io",
    "start": "1452659",
    "end": "1459380"
  },
  {
    "text": "but they decided early on that because there is not going to be a default controller part of kubernetes is going",
    "start": "1459380",
    "end": "1467120"
  },
  {
    "text": "to be always external there is not that need of type that with specific kubernetes release and also crds are so",
    "start": "1467120",
    "end": "1476059"
  },
  {
    "text": "much here now that people know how to deploy them how to maintain them so they say that this is what's going to be the",
    "start": "1476059",
    "end": "1482659"
  },
  {
    "text": "way to to release the Gateway API but because they're official they have to have some rules",
    "start": "1482659",
    "end": "1487940"
  },
  {
    "text": "and this is uh the way they manage those",
    "start": "1487940",
    "end": "1493159"
  },
  {
    "text": "um those releases so first of all you have API versions in this case we have V1",
    "start": "1493159",
    "end": "1500360"
  },
  {
    "text": "beta1 some resources are already better some resources are still V1 Alpha two we",
    "start": "1500360",
    "end": "1505700"
  },
  {
    "text": "only saw three of them there are many of those um and uh once uh nothing is GA yet but",
    "start": "1505700",
    "end": "1515000"
  },
  {
    "text": "it's going to be probably pretty soon at least for for three of them",
    "start": "1515000",
    "end": "1521299"
  },
  {
    "text": "um but inside those resources they also have standard features and experimental",
    "start": "1521299",
    "end": "1527600"
  },
  {
    "text": "features and standard features meaning that they are mature enough that they believe that they are not going to",
    "start": "1527600",
    "end": "1534860"
  },
  {
    "text": "change that much obviously it's a better object so it still can change a little",
    "start": "1534860",
    "end": "1540740"
  },
  {
    "text": "bit but they're they're pretty confident that they got it right but then they have experimental features",
    "start": "1540740",
    "end": "1546559"
  },
  {
    "text": "things are you have to know that they are going to be changing and anything in",
    "start": "1546559",
    "end": "1551960"
  },
  {
    "text": "Alpha is everything is experimental so they get all of that and they they",
    "start": "1551960",
    "end": "1558799"
  },
  {
    "text": "release versions of the Gateway API the latest one is",
    "start": "1558799",
    "end": "1564279"
  },
  {
    "text": "0.06 actually one but more or less zero six the only thing",
    "start": "1564279",
    "end": "1570679"
  },
  {
    "text": "it changes a little bit of compliance tests and they basically release a version",
    "start": "1570679",
    "end": "1576679"
  },
  {
    "text": "based on what they have but then you have as a consumer of the",
    "start": "1576679",
    "end": "1581779"
  },
  {
    "text": "Gateway API you have two ways of getting two channels to get that because you",
    "start": "1581779",
    "end": "1587120"
  },
  {
    "text": "it's not part of kubernetes release so you get it through these channels depending on what you need and the level",
    "start": "1587120",
    "end": "1594500"
  },
  {
    "text": "of maturity that you require for your clusters so if you get zero six zero",
    "start": "1594500",
    "end": "1599659"
  },
  {
    "text": "from the standard Channel you're only going to get V1 beta1 resources and only",
    "start": "1599659",
    "end": "1606220"
  },
  {
    "text": "standard features of those resources and actually on the demo if you if you clone that Reaper in the demo we are using",
    "start": "1606220",
    "end": "1614480"
  },
  {
    "text": "experimental feature URL rewrite is an experimental Feature Part of HTTP route",
    "start": "1614480",
    "end": "1620059"
  },
  {
    "text": "which is a V1 beta one so what I did is to download 060 from the experimental",
    "start": "1620059",
    "end": "1628340"
  },
  {
    "text": "channel in which you get everything you get V1 beta1 resources also alpha alpha",
    "start": "1628340",
    "end": "1633440"
  },
  {
    "text": "to resources and but you get experimental features as well",
    "start": "1633440",
    "end": "1639320"
  },
  {
    "text": "okay so coming to the end um so just a recap uh Gateway API is a",
    "start": "1639320",
    "end": "1645679"
  },
  {
    "text": "new it's a new communities AP extension to extenderize vendor implementations for both L4 and L7",
    "start": "1645679",
    "end": "1653480"
  },
  {
    "text": "it's an official kubernetes API but it's based on crd and this may confuse people",
    "start": "1653480",
    "end": "1659120"
  },
  {
    "text": "at the at the beginning but I believe that it's it's big is going to become a pattern so I they are the first ones but",
    "start": "1659120",
    "end": "1666740"
  },
  {
    "text": "I believe more apis will be will be written this way and if you use it watch out for two",
    "start": "1666740",
    "end": "1673520"
  },
  {
    "text": "things support levels if you're choosing an implementation and and also the",
    "start": "1673520",
    "end": "1679039"
  },
  {
    "text": "maturity level so what type of experimentation you you allow in your in",
    "start": "1679039",
    "end": "1685520"
  },
  {
    "text": "your cluster and and that's it thank you very much is",
    "start": "1685520",
    "end": "1690799"
  },
  {
    "text": "hiring so if you see anything on our careers page that looks interesting let us know and that's that's the repo in",
    "start": "1690799",
    "end": "1697640"
  },
  {
    "text": "case you missed it thanks [Applause]",
    "start": "1697640",
    "end": "1706640"
  },
  {
    "text": "so thank you uh thank you very much ARA it was brilliant do we have any",
    "start": "1706640",
    "end": "1711679"
  },
  {
    "text": "questions for ARA yes we do",
    "start": "1711679",
    "end": "1716019"
  },
  {
    "text": "two questions actually the first one is is there a way to define the custom traffic split like based not on the",
    "start": "1721460",
    "end": "1728299"
  },
  {
    "text": "weight but on the request itself like headers yes and maybe some external decision logic yes or everything that",
    "start": "1728299",
    "end": "1735260"
  },
  {
    "text": "you can think or already allowed to do with Ingress on",
    "start": "1735260",
    "end": "1742820"
  },
  {
    "text": "the hacky way on the all of that obviously they they had that as as the",
    "start": "1742820",
    "end": "1748580"
  },
  {
    "text": "as the base to Define so yes headers is definitely one of them okay and the",
    "start": "1748580",
    "end": "1753799"
  },
  {
    "text": "second question is there like version compatibility Matrix between Gateway API versions and kubernetes cluster versions",
    "start": "1753799",
    "end": "1761380"
  },
  {
    "text": "again it's a crd so the it's if you can use whatever whatever version",
    "start": "1761380",
    "end": "1768020"
  },
  {
    "text": "you you're in uh you have it's I think it's more important that to to think",
    "start": "1768020",
    "end": "1774679"
  },
  {
    "text": "about whether that those implementations have any problem with one version of the",
    "start": "1774679",
    "end": "1780799"
  },
  {
    "text": "other",
    "start": "1780799",
    "end": "1782919"
  },
  {
    "text": "I notice one thing regarding the crds that you mentioned basically the first",
    "start": "1787820",
    "end": "1794179"
  },
  {
    "text": "time I saw the the first time I saw the API was that in",
    "start": "1794179",
    "end": "1801440"
  },
  {
    "text": "order to include into the cluster you had to actually install these manifests to make the crd accessible",
    "start": "1801440",
    "end": "1808779"
  },
  {
    "text": "and now you mentioned that there are actually no plans to introduce this into",
    "start": "1808779",
    "end": "1814100"
  },
  {
    "text": "the standard kubernetes API and who is governing this Gateway API then is this",
    "start": "1814100",
    "end": "1821000"
  },
  {
    "text": "cncf or it's a the sick it's a very good question this is part of sick networking",
    "start": "1821000",
    "end": "1827539"
  },
  {
    "text": "so the same people who are um managing the Ingress for example API so",
    "start": "1827539",
    "end": "1834260"
  },
  {
    "text": "this is completely official part of the Sig networking and and one of the reasons uh I think why it took a little",
    "start": "1834260",
    "end": "1841880"
  },
  {
    "text": "bit longer is because they had to come up with a good set of conformance tests a good set of release model because they",
    "start": "1841880",
    "end": "1848960"
  },
  {
    "text": "are a little bit pioneering on on how to release this but again I really believe that there are going to be more six",
    "start": "1848960",
    "end": "1857360"
  },
  {
    "text": "creating creating new API extensions this way because again if it there is no",
    "start": "1857360",
    "end": "1864020"
  },
  {
    "text": "controller that is based that is part of kubernetes like like Gateway API in this",
    "start": "1864020",
    "end": "1869480"
  },
  {
    "text": "case there's really no need to type data to to um to a release model and it gives",
    "start": "1869480",
    "end": "1875360"
  },
  {
    "text": "them a lot of flexibility they they they can have a different pace of release if they if they need to",
    "start": "1875360",
    "end": "1882020"
  },
  {
    "text": "so one thing that is important is that once it becomes GA and probably the",
    "start": "1882020",
    "end": "1887419"
  },
  {
    "text": "first uh resources that are going to be GA are the the same ones that are better right now which are gateway gateway",
    "start": "1887419",
    "end": "1894320"
  },
  {
    "text": "class and and HTTP routes uh reference run I think is also better at this point",
    "start": "1894320",
    "end": "1900799"
  },
  {
    "text": "um once it gets to GA it's not it's not changing so that's why it's taking a",
    "start": "1900799",
    "end": "1908179"
  },
  {
    "text": "while to to to get to that level because they want to make sure that um they are not going to say a month",
    "start": "1908179",
    "end": "1914480"
  },
  {
    "text": "later oh my God no we are GA and we want to change it so they they won't change the the resource",
    "start": "1914480",
    "end": "1922360"
  },
  {
    "text": "thank you very much Ara um we are",
    "start": "1929840",
    "end": "1935360"
  },
  {
    "text": "um we are going to have a little break now until 3 30 at 3 30 we are going to",
    "start": "1935360",
    "end": "1940940"
  },
  {
    "text": "have Christina the vodka I don't know if I'm pronouncing it right pretty pretty sure not with managed",
    "start": "1940940",
    "end": "1948440"
  },
  {
    "text": "services with manage kubernetes service so you're free for a flower thank you",
    "start": "1948440",
    "end": "1957039"
  }
]