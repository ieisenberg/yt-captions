[
  {
    "text": "very nice to see so many people joining a presentation on a relatively narrowly",
    "start": "4799",
    "end": "10679"
  },
  {
    "text": "focused topic namely minimizing energy consumption in bare metal kubernetes",
    "start": "10679",
    "end": "15719"
  },
  {
    "text": "clusters I'm David Miller I'm working for one and one Mainland media which is not",
    "start": "15719",
    "end": "22920"
  },
  {
    "text": "immediately obvious what we are doing we are Germany's largest email provider with about 40 million active customers",
    "start": "22920",
    "end": "30500"
  },
  {
    "text": "I'm the lead architect for our infrastructure platform covering the entire life cycle of artifacts from the",
    "start": "30500",
    "end": "36840"
  },
  {
    "text": "first line of code until running it in production in kubernetes clusters along",
    "start": "36840",
    "end": "42239"
  },
  {
    "text": "that way I became sort of an expert for continuous integration and continuous delivery and as you can see I spent",
    "start": "42239",
    "end": "48660"
  },
  {
    "text": "quite a lot of time in IIT by now so that's my history in a nutshell",
    "start": "48660",
    "end": "57198"
  },
  {
    "text": "yeah hi everyone I'm Marco and yes I'm getting old and doing it operations",
    "start": "57719",
    "end": "62879"
  },
  {
    "text": "since a while currently I have the honor to lead a group of people basically Cloud",
    "start": "62879",
    "end": "70380"
  },
  {
    "text": "Engineers within the company to provide the platform based on kubernetes that",
    "start": "70380",
    "end": "76140"
  },
  {
    "text": "David is has mentioned so but of course yeah this is not about",
    "start": "76140",
    "end": "82200"
  },
  {
    "text": "me or us today I would like to start with a question actually so who of you",
    "start": "82200",
    "end": "88140"
  },
  {
    "text": "in the audience is doing bare metal kubernetes wow okay that surprises me a bit",
    "start": "88140",
    "end": "95640"
  },
  {
    "text": "honestly um but then of course you're in the right talk and maybe we have a chat",
    "start": "95640",
    "end": "101700"
  },
  {
    "text": "afterwards and we can have a conversation about our challenges",
    "start": "101700",
    "end": "106740"
  },
  {
    "text": "um but today the topic is basically Energy savings in bare metal so to give a bit more of context David",
    "start": "106740",
    "end": "114780"
  },
  {
    "text": "mentioned we are the largest email provider in Germany over 42 million active users so that's",
    "start": "114780",
    "end": "121860"
  },
  {
    "text": "quite a lot um in the yesterday's keynote I saw someone",
    "start": "121860",
    "end": "128819"
  },
  {
    "text": "um telling why they do Cloud native because it accelerates their development it",
    "start": "128819",
    "end": "137400"
  },
  {
    "text": "helps growing the business and this reminded me we had the same kind of",
    "start": "137400",
    "end": "143040"
  },
  {
    "text": "Journey five six seven years ago so the company decided okay we break we break it down",
    "start": "143040",
    "end": "148980"
  },
  {
    "text": "into microservices and then it gets very very easily in the",
    "start": "148980",
    "end": "154739"
  },
  {
    "text": "direction of having a container runtime and so today we are doing a multi-tenant",
    "start": "154739",
    "end": "160739"
  },
  {
    "text": "kubernetes platform for our internal um users on bare metal",
    "start": "160739",
    "end": "167099"
  },
  {
    "text": "since uh 2017 by the way we do this on premise why do we do it on",
    "start": "167099",
    "end": "172800"
  },
  {
    "text": "premise the short answer is yeah because we can um",
    "start": "172800",
    "end": "178200"
  },
  {
    "text": "the bit longer answer is we have some data protection constraints we take we",
    "start": "178200",
    "end": "183660"
  },
  {
    "text": "take security very serious and also",
    "start": "183660",
    "end": "189860"
  },
  {
    "text": "Jonas the company who operates the data centers for us is also a member of the",
    "start": "189860",
    "end": "197280"
  },
  {
    "text": "the larger corporation that one-on-one male in media where we work is part of",
    "start": "197280",
    "end": "202920"
  },
  {
    "text": "to give some numbers there on the slides we have like uh",
    "start": "202920",
    "end": "207959"
  },
  {
    "text": "about 70 000 CPU cores in our clusters",
    "start": "207959",
    "end": "213980"
  },
  {
    "text": "yeah and a lot of energy consumption Network Ingress is like 600 000 requests",
    "start": "215280",
    "end": "221700"
  },
  {
    "text": "per second just to give you an idea this is this is kind of huge so",
    "start": "221700",
    "end": "227760"
  },
  {
    "text": "this this slide should illustrate what's actually the problem with uh having bare",
    "start": "227760",
    "end": "233040"
  },
  {
    "text": "metal so when you have your own servers in your data center the scale out is not as easy as it is with public Cloud so",
    "start": "233040",
    "end": "239519"
  },
  {
    "text": "you usually have too much Hardware in the data center because um this this four step process that I",
    "start": "239519",
    "end": "247319"
  },
  {
    "text": "have here is simplified of course and it should show what happens when we decide",
    "start": "247319",
    "end": "252720"
  },
  {
    "text": "we need more Hardware um not a very very easy thing so we have to",
    "start": "252720",
    "end": "260040"
  },
  {
    "text": "to have budget constraints we talk to the procurement department they get render quotes then the hardware arrives",
    "start": "260040",
    "end": "267180"
  },
  {
    "text": "there's Logistics involved racking you know that when you do when you have a data center you know this this takes time this takes about in our case a few",
    "start": "267180",
    "end": "275460"
  },
  {
    "text": "months until we have the boxes arrived and and really um available and the fourth step in in",
    "start": "275460",
    "end": "282120"
  },
  {
    "text": "this process here is the only step that we control that my team actually controls the the kubernetes node",
    "start": "282120",
    "end": "289199"
  },
  {
    "text": "provisioning so um what this means in a simple sentence",
    "start": "289199",
    "end": "294720"
  },
  {
    "text": "is we need enough spare capacity available in the data centers all the",
    "start": "294720",
    "end": "300180"
  },
  {
    "text": "time all right let's get everybody quickly on",
    "start": "300180",
    "end": "305880"
  },
  {
    "text": "the same page why are we talking about the topic uh well it's trending anyway um but anyway uh save your car save CO2",
    "start": "305880",
    "end": "314820"
  },
  {
    "text": "reduce your carbon footprint help save the planet um that's uh that's the overarching",
    "start": "314820",
    "end": "320100"
  },
  {
    "text": "story um but then particularly here in Europe uh you probably all know for the last",
    "start": "320100",
    "end": "325979"
  },
  {
    "text": "one and a half years there's some kind of energy crisis due to the geopolitical events",
    "start": "325979",
    "end": "332039"
  },
  {
    "text": "um Energy prices skyrocketed and wildly oscillate I brought a little diagram on",
    "start": "332039",
    "end": "338160"
  },
  {
    "text": "the bottom right that shows the German electricity prices over the last one and a half years so that's sort of crazy",
    "start": "338160",
    "end": "345960"
  },
  {
    "text": "um so saving any amount of that saves you varying amounts but",
    "start": "345960",
    "end": "351120"
  },
  {
    "text": "sizable amounts of money um so that's all good good incentives to",
    "start": "351120",
    "end": "356220"
  },
  {
    "text": "to work on minimizing the energy consumption um enough on top of that if you can",
    "start": "356220",
    "end": "362820"
  },
  {
    "text": "measure and quantify that uh properly that's a very good addition to the mandatory sustainability reports we need",
    "start": "362820",
    "end": "369720"
  },
  {
    "text": "to publish of course okay let's jump to a very quick and",
    "start": "369720",
    "end": "375840"
  },
  {
    "text": "simple solution for minimizing the energy consumption as the title says",
    "start": "375840",
    "end": "381900"
  },
  {
    "text": "no servers no energy okay thanks for being here oh no okay",
    "start": "381900",
    "end": "387780"
  },
  {
    "text": "obviously there's not only energy consumption but things that need to be",
    "start": "387780",
    "end": "393979"
  },
  {
    "text": "fulfilled as boundary conditions like providing compute power to our users",
    "start": "393979",
    "end": "400199"
  },
  {
    "text": "so um let's quickly start thinking about what",
    "start": "400199",
    "end": "405600"
  },
  {
    "text": "we actually need to measure and what we can optimize based on these measures",
    "start": "405600",
    "end": "411479"
  },
  {
    "text": "so obviously only the energy consumption is not not the only thing so we need to",
    "start": "411479",
    "end": "418500"
  },
  {
    "text": "measure the energy consumption with respect to various aspects",
    "start": "418500",
    "end": "423720"
  },
  {
    "text": "I'll go into that a little bit deeper in a moment but let's first think about",
    "start": "423720",
    "end": "429360"
  },
  {
    "text": "what kpis need to do so we have a sort of recipe for constructing kpis so they",
    "start": "429360",
    "end": "435780"
  },
  {
    "text": "obviously need to be reliable and repeatable so when I recalculate my kpis from last year I need to get the same",
    "start": "435780",
    "end": "443340"
  },
  {
    "text": "results and also they need to be robust against changes and any kind of",
    "start": "443340",
    "end": "450900"
  },
  {
    "text": "Dimensions that they are not related to like when when my customer base grows",
    "start": "450900",
    "end": "458099"
  },
  {
    "text": "obviously I need more compute power my energy consumption goes up and then I could have a kpi that measures energy",
    "start": "458099",
    "end": "465360"
  },
  {
    "text": "consumption per user maybe and so this is the this is the measure that's robust",
    "start": "465360",
    "end": "470880"
  },
  {
    "text": "against you know business growth and shows if you get more efficient with respect to users",
    "start": "470880",
    "end": "477539"
  },
  {
    "text": "so that was just one example and you'll see um that opens the field for creating an",
    "start": "477539",
    "end": "483840"
  },
  {
    "text": "entire set of kpis that sort of illuminate various aspects of your",
    "start": "483840",
    "end": "490380"
  },
  {
    "text": "operations and then if you're going as abstract as I just",
    "start": "490380",
    "end": "496400"
  },
  {
    "text": "figured out then it's clear that a lot of assumptions need to go in and lots of",
    "start": "496400",
    "end": "503240"
  },
  {
    "text": "simplifications to to be able to do these abstract more abstract kpis",
    "start": "503240",
    "end": "510000"
  },
  {
    "text": "but of course there's a lot of things that are more basic and we can quickly",
    "start": "510000",
    "end": "515339"
  },
  {
    "text": "have a look at what you can sort of do building up the stack of kpis the",
    "start": "515339",
    "end": "521159"
  },
  {
    "text": "Baseline for me is looking at the server idle power just wrecking the server putting a",
    "start": "521159",
    "end": "527399"
  },
  {
    "text": "power cord in there switching it on install kubernetes run no applications there and then it will have some kind of",
    "start": "527399",
    "end": "533700"
  },
  {
    "text": "idle consumption I did actually a plot here it's a it's a histogram of the idle",
    "start": "533700",
    "end": "539100"
  },
  {
    "text": "consumption overall of our servers numbers are eligible by purpose but I",
    "start": "539100",
    "end": "546240"
  },
  {
    "text": "can tell you that at the peak in the middle is around 220 or so Watts so",
    "start": "546240",
    "end": "553380"
  },
  {
    "text": "that's the average idle consumption of our servers um",
    "start": "553380",
    "end": "558899"
  },
  {
    "text": "and that gives you the opportunity to look into optimizing the various Hardware",
    "start": "558899",
    "end": "564300"
  },
  {
    "text": "components and configurations of your service and tune them up to save a couple of Watts times a thousand servers",
    "start": "564300",
    "end": "571620"
  },
  {
    "text": "that adds up quickly okay then idle servers are not very",
    "start": "571620",
    "end": "577620"
  },
  {
    "text": "useful in the end so let's step up a little bit and put some load on it that",
    "start": "577620",
    "end": "583800"
  },
  {
    "text": "would be the next kpi we propose to look at the server",
    "start": "583800",
    "end": "589920"
  },
  {
    "text": "the server uh power consumption on the load so this",
    "start": "589920",
    "end": "595620"
  },
  {
    "text": "opens up the uh the opportunity to optimize CPU settings thermal tuning",
    "start": "595620",
    "end": "601800"
  },
  {
    "text": "um because service get hotter when they do more work obviously and I brought a plot here too",
    "start": "601800",
    "end": "608000"
  },
  {
    "text": "this is a power consumption on the y-axis per CP average CPU load on the",
    "start": "608000",
    "end": "614220"
  },
  {
    "text": "x-axis and the immediate thing that you will probably ask is okay why is there",
    "start": "614220",
    "end": "620279"
  },
  {
    "text": "two groups of or two clouds or dots well the the left uh the upper left one",
    "start": "620279",
    "end": "626279"
  },
  {
    "text": "that's the service was gpus in there so the work is not done in the CPUs but",
    "start": "626279",
    "end": "631920"
  },
  {
    "text": "other way at a different place I I don't have the metrics available yet for that",
    "start": "631920",
    "end": "637440"
  },
  {
    "text": "so okay the dependency on CPU is a little bit different than the rest but",
    "start": "637440",
    "end": "643800"
  },
  {
    "text": "you see there's some kind of correlation in that lower Cloud points that the",
    "start": "643800",
    "end": "650700"
  },
  {
    "text": "energy consumption goes up and with a growing code which is what we expect of course but",
    "start": "650700",
    "end": "658260"
  },
  {
    "text": "then the immediate thing that you can ask is what what other factors does that depend on",
    "start": "658260",
    "end": "665279"
  },
  {
    "text": "um which brings me to a side topic of normalization you probably have a mix of",
    "start": "665279",
    "end": "670680"
  },
  {
    "text": "various CPU Generations various CPU models maybe even different brands like",
    "start": "670680",
    "end": "678180"
  },
  {
    "text": "this you know Intel AMD maybe arms all of them behave differently you can tune",
    "start": "678180",
    "end": "683940"
  },
  {
    "text": "the CPU clocks all that kind of stuff has influence and will at some point in",
    "start": "683940",
    "end": "689640"
  },
  {
    "text": "the future of course need to disentangle that to see not just you",
    "start": "689640",
    "end": "695220"
  },
  {
    "text": "know that huge blob but the clearer correlation so that will certainly help you know",
    "start": "695220",
    "end": "701880"
  },
  {
    "text": "tuning the individual machine settings One Step Up",
    "start": "701880",
    "end": "707160"
  },
  {
    "text": "look at the cluster performance we all have clusters and so there's a huge or a",
    "start": "707160",
    "end": "712440"
  },
  {
    "text": "large large group of servers interacting with each other and there's you know an interplay between them and maybe",
    "start": "712440",
    "end": "719579"
  },
  {
    "text": "depending on the cluster tuning the power consumption can be optimized maybe",
    "start": "719579",
    "end": "724800"
  },
  {
    "text": "it everything gets more efficient when you distribute the load differently like",
    "start": "724800",
    "end": "729899"
  },
  {
    "text": "compacting the load of on more servers and get a few more on idle mode on maybe",
    "start": "729899",
    "end": "735300"
  },
  {
    "text": "spreading in evenly between all servers we don't know yet but that's a question",
    "start": "735300",
    "end": "740700"
  },
  {
    "text": "that's certainly worth answering and which has influence on scheduling on",
    "start": "740700",
    "end": "746160"
  },
  {
    "text": "kubernetes okay and then",
    "start": "746160",
    "end": "752100"
  },
  {
    "text": "at the last example we can look at the applications so I mean load is a nice",
    "start": "752100",
    "end": "758459"
  },
  {
    "text": "thing but in the end it's the applications that generate the load and so I'd really love to map power",
    "start": "758459",
    "end": "765000"
  },
  {
    "text": "consumptions to individual applications um and maybe also calculate power per",
    "start": "765000",
    "end": "772200"
  },
  {
    "text": "request that's that's been processed in various applications so that starts",
    "start": "772200",
    "end": "777779"
  },
  {
    "text": "creating a bridge to the business view on our products so I can talk to business paper and help them make good",
    "start": "777779",
    "end": "785459"
  },
  {
    "text": "decisions for the products and the development to minimize the energy",
    "start": "785459",
    "end": "790740"
  },
  {
    "text": "consumption of the applications yeah so that was a little bit of theory",
    "start": "790740",
    "end": "797220"
  },
  {
    "text": "um of course there's projects that I learned about and this kubecon um like kedar for scheduling things like",
    "start": "797220",
    "end": "804240"
  },
  {
    "text": "Kepler and and other projects for measuring and",
    "start": "804240",
    "end": "810079"
  },
  {
    "text": "quantifying energy consumption that's certainly is something we'll put in and evaluate into our next steps",
    "start": "810079",
    "end": "818000"
  },
  {
    "text": "but let's get away from Theory a bit and look what we can do in practice and what",
    "start": "818000",
    "end": "824519"
  },
  {
    "text": "can be measured with that kind of kpis",
    "start": "824519",
    "end": "828500"
  },
  {
    "text": "all right so um let's move into a bit of concrete things that we did or did then things",
    "start": "829800",
    "end": "837959"
  },
  {
    "text": "that we learned so remember I talked about that we have always too much",
    "start": "837959",
    "end": "843360"
  },
  {
    "text": "capacity available in the data center when running bare metal I think it's",
    "start": "843360",
    "end": "848459"
  },
  {
    "text": "important to understand what kind of Reserves do we actually have and",
    "start": "848459",
    "end": "854639"
  },
  {
    "text": "when we made up our minds about the topic we realized we have basically three types of reserves we have scale",
    "start": "854639",
    "end": "862440"
  },
  {
    "text": "out reserves for growth of business for example we have",
    "start": "862440",
    "end": "868760"
  },
  {
    "text": "geo-resident density reserves and Peak Performance reserves I go in in all these topics a bit more detail now",
    "start": "868760",
    "end": "878040"
  },
  {
    "text": "so scale out reserves scale out is basically as I mentioned growth in users for example which is great because in",
    "start": "878040",
    "end": "885240"
  },
  {
    "text": "the end it pays my salary so I like that um but this is for future then this is for",
    "start": "885240",
    "end": "892860"
  },
  {
    "text": "future use essentially it means maybe we can shut down some notes now so David said before zero serversy robots that's",
    "start": "892860",
    "end": "900000"
  },
  {
    "text": "great no it's not great it would upset our users they would uh post terrible",
    "start": "900000",
    "end": "905399"
  },
  {
    "text": "things on Twitter and then on sites like down detector.com and all those kind of things but how many servers can we",
    "start": "905399",
    "end": "912300"
  },
  {
    "text": "actually shut down and we identified what David said idle consumption is most",
    "start": "912300",
    "end": "918180"
  },
  {
    "text": "is the one of the most expensive kind of things so we we want to just power down",
    "start": "918180",
    "end": "924060"
  },
  {
    "text": "machines that are not actually used at um either they have zero usage or low",
    "start": "924060",
    "end": "930060"
  },
  {
    "text": "usage because the host specific infrastructure that you have in kubernetes like all these things that",
    "start": "930060",
    "end": "935579"
  },
  {
    "text": "are up up here the cubelets and and all the other demons that kind of things have uh consume load and energy in the",
    "start": "935579",
    "end": "945480"
  },
  {
    "text": "end so one important question is when we need a hardware how fast can we re-enable them",
    "start": "945480",
    "end": "952440"
  },
  {
    "text": "and there we learned that automation as often is key So the faster or the better",
    "start": "952440",
    "end": "961079"
  },
  {
    "text": "automation we have the the longer we can wait activating Hardware",
    "start": "961079",
    "end": "967139"
  },
  {
    "text": "and also what helped us in our setup is that we have",
    "start": "967139",
    "end": "972240"
  },
  {
    "text": "basically we have immutable infrastructure and our kubernetes nodes that means there is no SSH possible on",
    "start": "972240",
    "end": "978660"
  },
  {
    "text": "the nodes you cannot change anything there you can put the notes in debug mode and change stuff but then you have to",
    "start": "978660",
    "end": "984720"
  },
  {
    "text": "redeploy them from scratch into a specific state so these nodes are yeah there's no config drift there is no",
    "start": "984720",
    "end": "990060"
  },
  {
    "text": "puppet agent or anything and this this helps because when we take a note freshly it has the same state as",
    "start": "990060",
    "end": "997139"
  },
  {
    "text": "all the other nodes in our clusters second kind of Reserve is",
    "start": "997139",
    "end": "1004579"
  },
  {
    "text": "uh geo-regundancy Reserve I think a bit context is important there so we the",
    "start": "1004579",
    "end": "1010040"
  },
  {
    "text": "main kubernetes clusters that we have for our workload is running in in two different regions within Germany which",
    "start": "1010040",
    "end": "1017480"
  },
  {
    "text": "is um in an active active manner so we have no Disaster Recovery data center which",
    "start": "1017480",
    "end": "1024260"
  },
  {
    "text": "is doing nothing we have active active but what does what does this essentially",
    "start": "1024260",
    "end": "1029660"
  },
  {
    "text": "mean is that both data centers have enough spare capacity that if one data",
    "start": "1029660",
    "end": "1037100"
  },
  {
    "text": "center goes down the other can take over the load so we have not done that yet so that's",
    "start": "1037100",
    "end": "1043880"
  },
  {
    "text": "the plan for the future but when we want to do that this has some impact so we need",
    "start": "1043880",
    "end": "1050780"
  },
  {
    "text": "we need better automation faster automation because when a data center",
    "start": "1050780",
    "end": "1056000"
  },
  {
    "text": "breaks down it it's a matter of some minutes and we want to we want to have this kind of spare capacity available",
    "start": "1056000",
    "end": "1063140"
  },
  {
    "text": "for the Geo redundancy so it's it's not an option to wait like half a day until",
    "start": "1063140",
    "end": "1068360"
  },
  {
    "text": "all the servers are spin up and so what's also important is the",
    "start": "1068360",
    "end": "1074059"
  },
  {
    "text": "management has to have a buy in there we need to convince sea level management",
    "start": "1074059",
    "end": "1080419"
  },
  {
    "text": "um because there is a potential cost saving versus a potential risk",
    "start": "1080419",
    "end": "1086960"
  },
  {
    "text": "obviously and what helps there is to create just transparency transparency about the risk",
    "start": "1086960",
    "end": "1094880"
  },
  {
    "text": "interest transparency with some kpi numbers that David showed about",
    "start": "1094880",
    "end": "1101480"
  },
  {
    "text": "um about the the cost savings so regarding the risk what what's also I",
    "start": "1101480",
    "end": "1108200"
  },
  {
    "text": "think is important when you have all your operations team in the company is doing regular emergency drills for for",
    "start": "1108200",
    "end": "1115039"
  },
  {
    "text": "such a worst case scenario this ha this creates confidence in the operations",
    "start": "1115039",
    "end": "1120200"
  },
  {
    "text": "teams and in the management okay this graph is basically so I said",
    "start": "1120200",
    "end": "1126140"
  },
  {
    "text": "we are a mail provider we have a usually daily curve so this is two days of traffic within our kubernetes clusters",
    "start": "1126140",
    "end": "1133820"
  },
  {
    "text": "600 000 requests yeah so um during the night obviously",
    "start": "1133820",
    "end": "1140179"
  },
  {
    "text": "there is no so much email traffic because people are not reading their mail so often um",
    "start": "1140179",
    "end": "1145580"
  },
  {
    "text": "what what's what does what that means is that um it would be cool if we can put some",
    "start": "1145580",
    "end": "1153260"
  },
  {
    "text": "batch load that happens during the day for machine learning shops for example for in our data processing divisions and",
    "start": "1153260",
    "end": "1161960"
  },
  {
    "text": "and do this batch processing not during the day on on top of the usual",
    "start": "1161960",
    "end": "1167120"
  },
  {
    "text": "user workload but during the night so we can flatten the curve a bit that would be cool",
    "start": "1167120",
    "end": "1172700"
  },
  {
    "text": "um another thing is when we have let's assume we have really low usage during",
    "start": "1172700",
    "end": "1178580"
  },
  {
    "text": "the night wouldn't it be cool to just shut down those servers then if if they are not",
    "start": "1178580",
    "end": "1183679"
  },
  {
    "text": "needed like for example 11 pm shutdown a few hundred machines and power them up",
    "start": "1183679",
    "end": "1190280"
  },
  {
    "text": "in the morning 7 A.M when people wake up and retainers that would be really cool but what this means this this even needs",
    "start": "1190280",
    "end": "1196520"
  },
  {
    "text": "more automation because then yeah you you'll be you have to be very flexible",
    "start": "1196520",
    "end": "1201860"
  },
  {
    "text": "in the in the hardware and server management",
    "start": "1201860",
    "end": "1206860"
  },
  {
    "text": "all right so um another thing that we looked into is uh HPA the horizontal Part auto scaling",
    "start": "1208580",
    "end": "1217340"
  },
  {
    "text": "a few years ago I thought this is only a thing for cloud providers or public Cloud users because the hardware is",
    "start": "1217340",
    "end": "1222740"
  },
  {
    "text": "there anyway but yeah when when workload is scaling down because usage is low",
    "start": "1222740",
    "end": "1231500"
  },
  {
    "text": "automatically this would enable us really to shut down",
    "start": "1231500",
    "end": "1236960"
  },
  {
    "text": "servers then in the end as a consequence and also what's what we are looking into",
    "start": "1236960",
    "end": "1242480"
  },
  {
    "text": "that's the screenshot is uh it's actually the vpa recommender vpa is a",
    "start": "1242480",
    "end": "1250400"
  },
  {
    "text": "vertical pod Auto scaler it has a possibility to really automatically adjust the the resource",
    "start": "1250400",
    "end": "1258740"
  },
  {
    "text": "requests within the containers based on the current usage",
    "start": "1258740",
    "end": "1264620"
  },
  {
    "text": "like for example the last 24 hours um but we don't we don't want to do that",
    "start": "1264620",
    "end": "1270500"
  },
  {
    "text": "we're a bit more conservative we want to use the recommander this this would help our users our tenants our the teams who",
    "start": "1270500",
    "end": "1276799"
  },
  {
    "text": "are using kubernetes to see okay I requested for example 8 CPUs for my",
    "start": "1276799",
    "end": "1282440"
  },
  {
    "text": "application but I only need two so they would they have an incentive to help us save",
    "start": "1282440",
    "end": "1289880"
  },
  {
    "text": "energy to reduce the actual demand and we can maybe remove servers",
    "start": "1289880",
    "end": "1298539"
  },
  {
    "text": "all right this is interesting so this is basically I think that surprised me a",
    "start": "1298640",
    "end": "1304100"
  },
  {
    "text": "lot so some team members did some investigations",
    "start": "1304100",
    "end": "1309860"
  },
  {
    "text": "that our servers are really I mean we have those uh one rack unit Dell servers and the fans are usually",
    "start": "1309860",
    "end": "1316820"
  },
  {
    "text": "yeah very very fast spinning and uh we we turned them down a bit",
    "start": "1316820",
    "end": "1322340"
  },
  {
    "text": "so spin lower and this saved us about 15 watts per server 15 watts okay it's not",
    "start": "1322340",
    "end": "1328100"
  },
  {
    "text": "much but with thousand nodes it's actually 10 megawatt hours per month so",
    "start": "1328100",
    "end": "1334220"
  },
  {
    "text": "it it's a it's quite a bit this is just an example on also the",
    "start": "1334220",
    "end": "1340460"
  },
  {
    "text": "small things matter and it's really a quick win",
    "start": "1340460",
    "end": "1346480"
  },
  {
    "text": "right great so so we saw that also in practice uh measures with different",
    "start": "1348559",
    "end": "1354140"
  },
  {
    "text": "levels of complexity I can quickly save up a couple of megawatt hours per per",
    "start": "1354140",
    "end": "1359360"
  },
  {
    "text": "month or a couple of hundred maybe um so as far as I understand we are",
    "start": "1359360",
    "end": "1364640"
  },
  {
    "text": "saving another identinal 40 megawatt hours by just switching down the scale out sorry switching off the scale out",
    "start": "1364640",
    "end": "1371419"
  },
  {
    "text": "Reserve um so that adds up so it's really really worth entering into that effort",
    "start": "1371419",
    "end": "1378679"
  },
  {
    "text": "um yeah and for closing our session I just want to",
    "start": "1378679",
    "end": "1384140"
  },
  {
    "text": "have a quick look again at where we where I want to want to go with uh",
    "start": "1384140",
    "end": "1390260"
  },
  {
    "text": "evolving that kpi and measurement and optimization scheme as I mentioned we",
    "start": "1390260",
    "end": "1395659"
  },
  {
    "text": "can go as abstract with the kpis as we want and look at applications requests",
    "start": "1395659",
    "end": "1401900"
  },
  {
    "text": "users products product components if we if we manage to map on that we have a",
    "start": "1401900",
    "end": "1407900"
  },
  {
    "text": "link between the operations focused stuff and the business and also the",
    "start": "1407900",
    "end": "1413299"
  },
  {
    "text": "development and just imagine it's got that's going a bit beyond the topic of that talk and it's very generic of",
    "start": "1413299",
    "end": "1419720"
  },
  {
    "text": "course but imagine that a developer could save 20 or even 50 percent of CPU",
    "start": "1419720",
    "end": "1425480"
  },
  {
    "text": "Cycles by just optimizing their algorithms the implementation that would immediately save you 20 or 50 or",
    "start": "1425480",
    "end": "1431960"
  },
  {
    "text": "whatever kind of percentage of your infrastructure that would be huge so talking to them and giving them the",
    "start": "1431960",
    "end": "1438860"
  },
  {
    "text": "measures to to optimize their stuff is definitely a way to go so creating that",
    "start": "1438860",
    "end": "1444919"
  },
  {
    "text": "transparency will most likely open huge opportunities and well I I took the",
    "start": "1444919",
    "end": "1452600"
  },
  {
    "text": "opportunity today to talk a couple to talk to a couple of people from the tech sustainability uh here's a couple of",
    "start": "1452600",
    "end": "1459440"
  },
  {
    "text": "members so I'm definitely looking forward to getting connected to them and work together with them to figure out",
    "start": "1459440",
    "end": "1466659"
  },
  {
    "text": "what's the best way to go forward and that leaves us as planned",
    "start": "1466659",
    "end": "1473179"
  },
  {
    "text": "unfortunately quite some room for questions so there's two microphones I learned so",
    "start": "1473179",
    "end": "1479600"
  },
  {
    "text": "if you speak them in the microphone we can hear you well and the remote participants can hear you just as well",
    "start": "1479600",
    "end": "1487899"
  },
  {
    "text": "[Music] hi yeah I was wondering uh you had a",
    "start": "1490640",
    "end": "1496220"
  },
  {
    "text": "slide that showed a certain kilowatts per service I'm curious how you",
    "start": "1496220",
    "end": "1502159"
  },
  {
    "text": "calculate or measured uh power usage per service well thank you very much for that",
    "start": "1502159",
    "end": "1508820"
  },
  {
    "text": "question that's a pretty good one um probably most of the people running bare metal servers are familiar that",
    "start": "1508820",
    "end": "1515960"
  },
  {
    "text": "with that with the fact that most servers have a basement management controller and many of the servers have",
    "start": "1515960",
    "end": "1522140"
  },
  {
    "text": "an internal measurement of of their power consumption that might not be you",
    "start": "1522140",
    "end": "1527539"
  },
  {
    "text": "know too precise but it's a it's a you know relatively good measure if the",
    "start": "1527539",
    "end": "1533059"
  },
  {
    "text": "server consumes more power than that number goes up we are tapping into that and reading that every I think 30",
    "start": "1533059",
    "end": "1539779"
  },
  {
    "text": "seconds or so so it's relatively fine grained so we get a total consumption of power",
    "start": "1539779",
    "end": "1546580"
  },
  {
    "text": "follow-up question only one service per server no we are running of course the usual mixture that kubernetes loads on",
    "start": "1551860",
    "end": "1558740"
  },
  {
    "text": "the service so mapping from a power consumption to a sort of server-based",
    "start": "1558740",
    "end": "1565220"
  },
  {
    "text": "power consumption to an application based power consumption will require some kind of you know additional",
    "start": "1565220",
    "end": "1572360"
  },
  {
    "text": "measurements some kind of assumptions sort of you know dividing up the total Tower consumption to the various",
    "start": "1572360",
    "end": "1578900"
  },
  {
    "text": "applications that we have the numbers actually available in Prometheus like",
    "start": "1578900",
    "end": "1584000"
  },
  {
    "text": "the CPU consumptions per application per part per any kind of thing so we can use",
    "start": "1584000",
    "end": "1589100"
  },
  {
    "text": "that as a proxy but then I learned that project Kepler is digging using ebpf and",
    "start": "1589100",
    "end": "1594679"
  },
  {
    "text": "to into the actual you know CPU cycle counting and stuff like that so the",
    "start": "1594679",
    "end": "1600880"
  },
  {
    "text": "leveraging that as well as an opportunity we are certainly going to evaluate what's the easiest and quickest",
    "start": "1600880",
    "end": "1607279"
  },
  {
    "text": "and most reliable way to do that okay we have another question here",
    "start": "1607279",
    "end": "1613580"
  },
  {
    "text": "yeah I'm curious what do you use for provisioning the servers and cluster",
    "start": "1613580",
    "end": "1618919"
  },
  {
    "text": "management very good question thank you so um basically",
    "start": "1618919",
    "end": "1625039"
  },
  {
    "text": "um we are having uh the flat car container Linux as an operating system",
    "start": "1625039",
    "end": "1630080"
  },
  {
    "text": "and we have um I mean we can we can have a more detailed talk about all the details",
    "start": "1630080",
    "end": "1636260"
  },
  {
    "text": "basically but it's a combination of the the chorus container Linux mechanism like",
    "start": "1636260",
    "end": "1644240"
  },
  {
    "text": "the matchbox and we have our own company Asset Management uh",
    "start": "1644240",
    "end": "1650480"
  },
  {
    "text": "servers and is it which kind of CPU and stuff so there are automatic pipelines",
    "start": "1650480",
    "end": "1657559"
  },
  {
    "text": "run by gitlab CI who is then configuring the servers",
    "start": "1657559",
    "end": "1663140"
  },
  {
    "text": "um yeah do you use something like ironic or or like openstack ironic I mean or no",
    "start": "1663140",
    "end": "1670279"
  },
  {
    "text": "no load that's also good question we will be running really directly on bare metal we have no virtualization layer",
    "start": "1670279",
    "end": "1676400"
  },
  {
    "text": "Yeah ironic can can provision bare metal servers so that okay no no we have our",
    "start": "1676400",
    "end": "1683059"
  },
  {
    "text": "basic homegrown solution based on a bunch of scripts and uh the tooling that container Linux provides okay it would",
    "start": "1683059",
    "end": "1690799"
  },
  {
    "text": "be very interesting to talk more thank you you're welcome so maybe very basic question here but uh",
    "start": "1690799",
    "end": "1698539"
  },
  {
    "text": "the servers are very big like 800 gigabytes of memory each and there's kind of a limit of the amount of parts",
    "start": "1698539",
    "end": "1705740"
  },
  {
    "text": "per node that you can put on on a kubernetes so how you handle that are the pods very large I mean they all",
    "start": "1705740",
    "end": "1712460"
  },
  {
    "text": "consume a lot of memory or if you have a lot of micro services or can you concentrate like thousands of pods in a",
    "start": "1712460",
    "end": "1718760"
  },
  {
    "text": "bare metal server yeah we have uh some workload really consumes a lot of CPU cores so um but",
    "start": "1718760",
    "end": "1727640"
  },
  {
    "text": "regarding the number of pots um the the colleagues my colleagues can",
    "start": "1727640",
    "end": "1732980"
  },
  {
    "text": "answer the question better but I think we have a constraint about the IP addresses from Kaliko that we use as an",
    "start": "1732980",
    "end": "1739580"
  },
  {
    "text": "sdn which is I'm not sure if it's is it the 20 250",
    "start": "1739580",
    "end": "1747200"
  },
  {
    "text": "we enhanced that so I think we can run about 500 pods per machine",
    "start": "1747200",
    "end": "1753399"
  },
  {
    "text": "so I have two questions one is about your power usage Effectiveness do you",
    "start": "1755240",
    "end": "1760940"
  },
  {
    "text": "have some numbers if you have 50 spare devices and the other one is have you",
    "start": "1760940",
    "end": "1766520"
  },
  {
    "text": "tried to use other CPU processor architectures not only Intel switch to",
    "start": "1766520",
    "end": "1771799"
  },
  {
    "text": "arm or something like this because this could be also a promising this is the same or more workload to consume less",
    "start": "1771799",
    "end": "1779720"
  },
  {
    "text": "energy so let me answer the second question first uh so we we looked into",
    "start": "1779720",
    "end": "1785140"
  },
  {
    "text": "uh other as we didn't look into arm but we have basically a mixture between",
    "start": "1785140",
    "end": "1791059"
  },
  {
    "text": "Intel and AMD CPUs so the the newest generation of servers that we use are",
    "start": "1791059",
    "end": "1796640"
  },
  {
    "text": "based on the AMD epic CPUs and they are so we measured more efficiency as well",
    "start": "1796640",
    "end": "1804020"
  },
  {
    "text": "per um per core or could you could break it down into applications as well so they",
    "start": "1804020",
    "end": "1810679"
  },
  {
    "text": "are definitely more efficient um what was the first question sorry",
    "start": "1810679",
    "end": "1816700"
  },
  {
    "text": "okay okay uh well as Marco mentioned the data centers are not fully under our",
    "start": "1817159",
    "end": "1822260"
  },
  {
    "text": "control they operated by the colleagues of ionos um so I I can't probably answer the",
    "start": "1822260",
    "end": "1827659"
  },
  {
    "text": "questions related to them we are in contact but they are running the data centers uh I don't have the numbers in",
    "start": "1827659",
    "end": "1833360"
  },
  {
    "text": "the top of my head um but of course they are also optimizing the data center set up as",
    "start": "1833360",
    "end": "1839299"
  },
  {
    "text": "good as they can we have for example had discussions about the terminal setup uh",
    "start": "1839299",
    "end": "1845059"
  },
  {
    "text": "you know Rising the data center temperature reduces cooling requirements stuff like that that that's being done",
    "start": "1845059",
    "end": "1852140"
  },
  {
    "text": "um but you know our work starts when nobody needs to touch a screwdriver again",
    "start": "1852140",
    "end": "1858279"
  },
  {
    "text": "silly question but I know you have lots of span and it's still",
    "start": "1858279",
    "end": "1863620"
  },
  {
    "text": "exploding so how much energy do you spend for cleaning the spam",
    "start": "1863620",
    "end": "1869779"
  },
  {
    "text": "so you sorted the the spikes in the in in the in the daily variation craft that I showed yeah that's because spammers",
    "start": "1869779",
    "end": "1877159"
  },
  {
    "text": "like spammers seem to use KRON hourly Kron yeah I cannot really say how much this",
    "start": "1877159",
    "end": "1883640"
  },
  {
    "text": "what this exactly means in kilowatt or megawatt or whatever but uh",
    "start": "1883640",
    "end": "1890299"
  },
  {
    "text": "I would say it's a lot um we're not so far regarding the kpis that David showed",
    "start": "1890299",
    "end": "1896659"
  },
  {
    "text": "this is in in a phase where we spend a lot of thinking about measuring but we don't",
    "start": "1896659",
    "end": "1904700"
  },
  {
    "text": "have like today we don't have this metric available I cannot say this spam field application is causing this amount",
    "start": "1904700",
    "end": "1912559"
  },
  {
    "text": "of energy we hope we can maybe in the in the next cubecon next year",
    "start": "1912559",
    "end": "1917960"
  },
  {
    "text": "yeah yeah that's something to go and well giving a rough guesstimate it's a it's a",
    "start": "1917960",
    "end": "1924620"
  },
  {
    "text": "low three digit number of megawatt hours per per month to to filter out to spam um but you know maybe next year we can",
    "start": "1924620",
    "end": "1932539"
  },
  {
    "text": "tell a little bit more and with more precise numbers okay next question would be that side hi",
    "start": "1932539",
    "end": "1938419"
  },
  {
    "text": "yeah thank you very much uh you touched upon some great subjects here and I'm really happy to discuss them further",
    "start": "1938419",
    "end": "1944840"
  },
  {
    "text": "with you in the tag environmental sustainability tag that is and I just want to pick one of these sub subjects",
    "start": "1944840",
    "end": "1952940"
  },
  {
    "text": "which was the fan speed which you reduced um did you also measure how much that increased the temperature",
    "start": "1952940",
    "end": "1960260"
  },
  {
    "text": "um on on on the chips and how that affected the lifespan of the devices",
    "start": "1960260",
    "end": "1966620"
  },
  {
    "text": "very good question thank you um yes we did we did measure that I don't have the concrete numbers on top",
    "start": "1966620",
    "end": "1973159"
  },
  {
    "text": "of my head right now but okay my colleague is also not having it I have had a look",
    "start": "1973159",
    "end": "1978919"
  },
  {
    "text": "um we have a grafana dashboard we can have a look later if you want um but definitely it didn't decrease or",
    "start": "1978919",
    "end": "1985580"
  },
  {
    "text": "um worsen the the life span of the of the chips of the server or something",
    "start": "1985580",
    "end": "1992000"
  },
  {
    "text": "um we can compare a bit our data center provider increase the room temperature in the data center from I don't know the",
    "start": "1992000",
    "end": "1998539"
  },
  {
    "text": "exact numbers but they increased some some degree centigrade",
    "start": "1998539",
    "end": "2004000"
  },
  {
    "text": "and it didn't affect too much anything so it's it's basically the same you you",
    "start": "2004000",
    "end": "2009580"
  },
  {
    "text": "you don't run your data center at 16 degrees Centigrade anymore today 23 or so is fine that's really",
    "start": "2009580",
    "end": "2016360"
  },
  {
    "text": "interesting because I just read an article about that and yeah I'd love to hear more about it on the tag maybe so",
    "start": "2016360",
    "end": "2021399"
  },
  {
    "text": "I'll meet up so short answers we did we didn't see a correlation on [Music] lifetime of servers because of cool",
    "start": "2021399",
    "end": "2028899"
  },
  {
    "text": "thank you very much hi um I just wanted to piggyback off of",
    "start": "2028899",
    "end": "2034240"
  },
  {
    "text": "an earlier question um regarding pod density I just wondered if you guys the basic question had any",
    "start": "2034240",
    "end": "2039460"
  },
  {
    "text": "issues with um storage i o performance and running lots of Pods at once on",
    "start": "2039460",
    "end": "2046059"
  },
  {
    "text": "those big nodes short answer no no not yet",
    "start": "2046059",
    "end": "2051940"
  },
  {
    "text": "um long answer most of our microservices are actually stateless so they essentially get get fed their data by",
    "start": "2051940",
    "end": "2059679"
  },
  {
    "text": "Network streams and they reply by Network extremes and we have the servers",
    "start": "2059679",
    "end": "2064780"
  },
  {
    "text": "equipped with uh 10 gigabyte per node and newer nodes with more CPU cores with 25 gigabits and an option to double that",
    "start": "2064780",
    "end": "2072760"
  },
  {
    "text": "so we are safe on that side up to now um we have a couple of applications that",
    "start": "2072760",
    "end": "2078398"
  },
  {
    "text": "are accessing remote storage so that's not supposed to be super fast anyway and",
    "start": "2078399",
    "end": "2083740"
  },
  {
    "text": "they seem to be happy with what they get um yeah as a side remark we we probably",
    "start": "2083740",
    "end": "2091000"
  },
  {
    "text": "never will put the real big storage requirement application like you know",
    "start": "2091000",
    "end": "2097060"
  },
  {
    "text": "the email store or the cloud file storage on kubernetes that doesn't make sense in the multi-tens of petabyte",
    "start": "2097060",
    "end": "2103839"
  },
  {
    "text": "range so we're doing that on bare metal by themselves and that's a the same way to",
    "start": "2103839",
    "end": "2110200"
  },
  {
    "text": "go anyway okay we are probably very close to the",
    "start": "2110200",
    "end": "2115480"
  },
  {
    "text": "end maybe one question left maybe one last question we'll stay we'll stick around",
    "start": "2115480",
    "end": "2121540"
  },
  {
    "text": "the entrance area so you can have a chat with us afterwards if you like so the question is on the energy",
    "start": "2121540",
    "end": "2128380"
  },
  {
    "text": "consumption of the network is this factored in how much do you have any estimates and how can you measure that",
    "start": "2128380",
    "end": "2134560"
  },
  {
    "text": "if this is sometimes external to the actual machines that's such an excellent question I had",
    "start": "2134560",
    "end": "2140320"
  },
  {
    "text": "exactly the same discussion discussion with David a couple of days ago and the short answers unfortunately we don't",
    "start": "2140320",
    "end": "2146440"
  },
  {
    "text": "have these numbers because the network operations as well is not within our direct influence it's not it's in the",
    "start": "2146440",
    "end": "2152260"
  },
  {
    "text": "same company that provides the data center and um yeah we don't have we just have not the",
    "start": "2152260",
    "end": "2159940"
  },
  {
    "text": "technology right now to combine those kind of numbers but my personal goal would be to get there and to to be able",
    "start": "2159940",
    "end": "2167619"
  },
  {
    "text": "to do that as well because it does it only makes sense if we have the full picture from the hardware Network",
    "start": "2167619",
    "end": "2174520"
  },
  {
    "text": "up to the application and the the algorithm efficiency yeah you need everything thank you",
    "start": "2174520",
    "end": "2181859"
  }
]