[
  {
    "start": "0",
    "end": "19000"
  },
  {
    "text": "good afternoon everyone we're gonna go ahead and get started I'm here with Mike",
    "start": "179",
    "end": "6210"
  },
  {
    "text": "Curtis you guys should have seen them yesterday on the keynote and I'm Dan",
    "start": "6210",
    "end": "11700"
  },
  {
    "text": "Berg and we're gonna take you through a session here to talk about security and services mesh so what's the problem that",
    "start": "11700",
    "end": "21779"
  },
  {
    "start": "19000",
    "end": "39000"
  },
  {
    "text": "we're all trying to solve right we're we're moving towards highly distributed systems and those systems especially",
    "start": "21779",
    "end": "29490"
  },
  {
    "text": "moving into the cloud are complex right they're complex to monitor they're",
    "start": "29490",
    "end": "34770"
  },
  {
    "text": "complex to manage they're complex to secure why is that well we're dealing",
    "start": "34770",
    "end": "40920"
  },
  {
    "text": "with all kinds of problems in our code we're dealing with network problems dealing with lapses in the network",
    "start": "40920",
    "end": "48210"
  },
  {
    "text": "itself how do we deal with that we're building in retries in our logic we're dealing what we're building in retries",
    "start": "48210",
    "end": "55770"
  },
  {
    "text": "fault injections directly into our code we're dealing with authentication issues",
    "start": "55770",
    "end": "64010"
  },
  {
    "text": "authentication authorization so but we're as developers we're building that",
    "start": "64010",
    "end": "69659"
  },
  {
    "text": "into each of our services we're building that into our code so every single one has their own mechanism their own",
    "start": "69659",
    "end": "75689"
  },
  {
    "text": "complexities for dealing with that how do you even observe what's going on",
    "start": "75689",
    "end": "80700"
  },
  {
    "text": "in these highly distributed systems so even understanding the services how they",
    "start": "80700",
    "end": "86040"
  },
  {
    "text": "communicate what are the lapses in the security in the network it's very difficult it's very complicated",
    "start": "86040",
    "end": "92549"
  },
  {
    "text": "so fault tolerance as well is another issue that dealing with a highly",
    "start": "92549",
    "end": "98759"
  },
  {
    "text": "distributed system you have to assume that every single one of the components in your system it's gonna fail it will",
    "start": "98759",
    "end": "105000"
  },
  {
    "text": "fail eventually so how do you build in that fault tolerance again as developers you're building that into your code",
    "start": "105000",
    "end": "110549"
  },
  {
    "text": "you're building that into the logic and it's very inconsistent and at the end of",
    "start": "110549",
    "end": "115590"
  },
  {
    "text": "the day you got to deliver these changes your operations you have to deliver into these highly distributed environments",
    "start": "115590",
    "end": "122630"
  },
  {
    "text": "into multiple different clusters multiple different clouds you need to reduce the risk as you're delivering",
    "start": "122630",
    "end": "129750"
  },
  {
    "text": "that end and it's very complicated to do that so how do we do this what is the service",
    "start": "129750",
    "end": "136920"
  },
  {
    "text": "mesh that we do this within it what we use what we work on is sto and unless",
    "start": "136920",
    "end": "142860"
  },
  {
    "text": "you've been in a vacuum during this conference or you just arrived this morning this may be the first time",
    "start": "142860",
    "end": "149580"
  },
  {
    "text": "you've heard of this do but hopefully this is probably the hundredth time you've heard of this do but sto is a",
    "start": "149580",
    "end": "156420"
  },
  {
    "text": "service mesh that allows us to connect manage monitor and secure all of your",
    "start": "156420",
    "end": "162300"
  },
  {
    "text": "services in your environments so why do we have is do why do we have this",
    "start": "162300",
    "end": "168930"
  },
  {
    "start": "165000",
    "end": "251000"
  },
  {
    "text": "service mesh ultimately it's to deal with the problems that we just discussed",
    "start": "168930",
    "end": "173940"
  },
  {
    "text": "here but in the end it's about resiliency resiliency and efficiency",
    "start": "173940",
    "end": "179790"
  },
  {
    "text": "dealing with how do you ensure that each of your services can communicate and can",
    "start": "179790",
    "end": "186000"
  },
  {
    "text": "communicate well and deal with failures in your environment how do you manage",
    "start": "186000",
    "end": "191190"
  },
  {
    "text": "because it's so distributed you've got a lot of micro services you've got a lot of services in your environment how do",
    "start": "191190",
    "end": "196920"
  },
  {
    "text": "you manage the operations around them and we want to move instead of individual configurations of each of",
    "start": "196920",
    "end": "203100"
  },
  {
    "text": "your services we want to move to a policy driven approach so that it's much easier to operate you need the",
    "start": "203100",
    "end": "210480"
  },
  {
    "text": "visibility in your environment so sto provides that fleet wide visibility into",
    "start": "210480",
    "end": "216060"
  },
  {
    "text": "all the services that are available in your environment and the policies for managing those and definitely you have",
    "start": "216060",
    "end": "225390"
  },
  {
    "text": "to have security by default and you need that security distributed down to the endpoints so we want to ensure that with",
    "start": "225390",
    "end": "232799"
  },
  {
    "text": "this do all of your services are always secure from day one and a lot of this is",
    "start": "232799",
    "end": "239519"
  },
  {
    "text": "moving moving the complexity that we talked about earlier from your code and moving that out of the code and",
    "start": "239519",
    "end": "246180"
  },
  {
    "text": "distributing that down to the to the mesh down to the endpoints so let's take",
    "start": "246180",
    "end": "252450"
  },
  {
    "start": "251000",
    "end": "374000"
  },
  {
    "text": "a look at this do what it what is the architecture of this do most of you probably you've seen this so we'll go",
    "start": "252450",
    "end": "258209"
  },
  {
    "text": "through this very quickly sto is distributed into two main sections there's a control plane and there's a data plane and the control",
    "start": "258209",
    "end": "264660"
  },
  {
    "text": "plane is the api's of the management of that of sto it has three main components pilot",
    "start": "264660",
    "end": "272060"
  },
  {
    "text": "which is used for managing the routing of your environment routing between your",
    "start": "272060",
    "end": "277220"
  },
  {
    "text": "services mixer mixer is responsible for collecting the telemetry the metrics",
    "start": "277220",
    "end": "283070"
  },
  {
    "text": "it's also responsible for managing the policy the fleet wide policy enforcement's and definitions an sto",
    "start": "283070",
    "end": "291680"
  },
  {
    "text": "auth is responsible for providing the security the Identity Management and the",
    "start": "291680",
    "end": "297740"
  },
  {
    "text": "security of your services the mutual TLS and that is all used to control and",
    "start": "297740",
    "end": "304190"
  },
  {
    "text": "manage the the functionality and the data plane the data plane is where your",
    "start": "304190",
    "end": "310120"
  },
  {
    "text": "applications actually run where your containers where your pods actually run in your environment and the way sto",
    "start": "310120",
    "end": "315770"
  },
  {
    "text": "works is we inject a sidecar which is built and built using the Envoy",
    "start": "315770",
    "end": "321290"
  },
  {
    "text": "technology and it provides that control point that we use for communicating from",
    "start": "321290",
    "end": "326510"
  },
  {
    "text": "one service to another service and it's all programmed using the control plane the components in the SCO control plane",
    "start": "326510",
    "end": "333020"
  },
  {
    "text": "so that's the general architecture we don't want to go to much more detail in it what we want to do now is to hand it",
    "start": "333020",
    "end": "340040"
  },
  {
    "text": "over and talk about what are the key things for securing sto we're not going to do a general sto session here we're",
    "start": "340040",
    "end": "347450"
  },
  {
    "text": "gonna focus on how do we secure this platform I'm gonna turn it over to the spike to take you through more of that",
    "start": "347450",
    "end": "353420"
  },
  {
    "text": "detail alright awesome thanks Dan so what I'd like to do is spend a little time talking about some of the security",
    "start": "353420",
    "end": "361910"
  },
  {
    "text": "features that are available in sto today then we'll do a quick demo talk about some vulnerabilities and how is do can",
    "start": "361910",
    "end": "368690"
  },
  {
    "text": "help you mitigate those vulnerabilities and then I'm gonna hand it back to Dan and he's going to talk about the roadmap for the future so the sort of my",
    "start": "368690",
    "end": "377690"
  },
  {
    "text": "favorite the big mainline feature that we've gotten into is do around security",
    "start": "377690",
    "end": "383750"
  },
  {
    "text": "is the ability to set up mutually authenticated TLS connections for all of",
    "start": "383750",
    "end": "388910"
  },
  {
    "text": "the workloads in the service mesh what that means is that you can turn this on and without making any changes to your",
    "start": "388910",
    "end": "395360"
  },
  {
    "text": "application code you can encrypt the data and authenticate both ends of the connection we do this in a really",
    "start": "395360",
    "end": "402440"
  },
  {
    "text": "standard way its standard TLS and we're doing indication not only of the server side",
    "start": "402440",
    "end": "408980"
  },
  {
    "text": "but also the client side so this is also interoperable with other implementations of TLS so if you've ever thought about",
    "start": "408980",
    "end": "416090"
  },
  {
    "text": "implementing TLS in your infrastructure you probably know that the difficult",
    "start": "416090",
    "end": "422990"
  },
  {
    "text": "piece is not actually getting support for the TLS protocol that's pretty easy it's built into basically every library",
    "start": "422990",
    "end": "428530"
  },
  {
    "text": "that communicates over the network but the tricky bit is getting the",
    "start": "428530",
    "end": "435860"
  },
  {
    "text": "bootstrapping of trust those security certificates into each of the workloads and that's where we spend a lot of time",
    "start": "435860",
    "end": "441560"
  },
  {
    "text": "in the sto is actually building out the infrastructure to deliver those secrets so that you can authenticate both ends",
    "start": "441560",
    "end": "448010"
  },
  {
    "text": "of the connect of the connection so we do that with a component called sto CA and it is compliant with the spiffy",
    "start": "448010",
    "end": "455210"
  },
  {
    "text": "protocol which is a set of standards that we are currently developing along",
    "start": "455210",
    "end": "460640"
  },
  {
    "text": "with the rest of this 50 community basically this is a way to standardize",
    "start": "460640",
    "end": "468020"
  },
  {
    "text": "the way we identify workloads in our environment so each workload gets a",
    "start": "468020",
    "end": "473060"
  },
  {
    "text": "spiffy ID we mint a certificate and then put that into the workload now in kubernetes today we're using",
    "start": "473060",
    "end": "479330"
  },
  {
    "text": "cooper-cooper - any secrets to mount those certificates and in other",
    "start": "479330",
    "end": "485000"
  },
  {
    "text": "workloads like VMs we'll have a node agent that will securely deliver the certificates to the workload once we",
    "start": "485000",
    "end": "490910"
  },
  {
    "text": "actually have those certificates then envoy is responsible for bringing up the",
    "start": "490910",
    "end": "496220"
  },
  {
    "text": "encrypted connection and authenticating both ends and we also do a secure naming",
    "start": "496220",
    "end": "501230"
  },
  {
    "text": "check so when you make a connection to another pod in in the mesh we know what",
    "start": "501230",
    "end": "512200"
  },
  {
    "text": "what the service is that you're trying to connect to we examine the kubernetes api to know what service accounts are",
    "start": "512200",
    "end": "519650"
  },
  {
    "text": "actually running that service and make sure that the pod that we're connecting to is actually one of the ones that that",
    "start": "519650",
    "end": "525770"
  },
  {
    "text": "is running your service so we're doing a secure naming check is what we call it to make sure that you're talking to a legitimate authority",
    "start": "525770",
    "end": "532250"
  },
  {
    "text": "for the service that you're trying to reach misty also has an ingress service",
    "start": "532250",
    "end": "540110"
  },
  {
    "start": "535000",
    "end": "579000"
  },
  {
    "text": "and as a sort of standard feature of ingress we can terminate TLS this is a",
    "start": "540110",
    "end": "548680"
  },
  {
    "text": "bit of a work in progress for us because we in misty Oh today",
    "start": "548680",
    "end": "555610"
  },
  {
    "text": "allow you to insert a single certificate into the sto ingress and sort of",
    "start": "555610",
    "end": "561170"
  },
  {
    "text": "anything up there a lot of what we're",
    "start": "561170",
    "end": "566210"
  },
  {
    "text": "moving to is having more than one service being able to be exposed by your",
    "start": "566210",
    "end": "572420"
  },
  {
    "text": "cluster and so for that we need the ETL SS and I and that's coming later and Dan will talk a little bit more about that",
    "start": "572420",
    "end": "578000"
  },
  {
    "text": "on the roadmap so the mutual TLS gives",
    "start": "578000",
    "end": "583250"
  },
  {
    "start": "579000",
    "end": "717000"
  },
  {
    "text": "you the encryption piece and the authentication piece which is figuring out who you're talking to in order to",
    "start": "583250",
    "end": "590540"
  },
  {
    "text": "build a secure system you also need an authorization component so not just knowing who you're talking to but being",
    "start": "590540",
    "end": "597470"
  },
  {
    "text": "able to answer the question you know should I be allowing that request and so in the sto architecture we use mixer for",
    "start": "597470",
    "end": "604580"
  },
  {
    "text": "this so when a request comes in to an envoy before we give that request to the",
    "start": "604580",
    "end": "610100"
  },
  {
    "text": "actual workload that is serving that request we make a check against mixer",
    "start": "610100",
    "end": "615610"
  },
  {
    "text": "and pass all the attributes of the incoming request and then mixer passes",
    "start": "615610",
    "end": "620810"
  },
  {
    "text": "it on to one of several backends they're built in backends like whitelists and blacklists and a bunch of different",
    "start": "620810",
    "end": "626680"
  },
  {
    "text": "authorization backends that are being built speakers we now so once the the",
    "start": "626680",
    "end": "635120"
  },
  {
    "text": "check comes in mixer renders a decision on it returns it to envoy if it's okay",
    "start": "635120",
    "end": "640370"
  },
  {
    "text": "then it passes that request on to the back end which on to your service which serves up the response if not then it",
    "start": "640370",
    "end": "646880"
  },
  {
    "text": "returns a 403 and we do a lot of caching here so it's not like this is happening on every single request there's a cache",
    "start": "646880",
    "end": "654770"
  },
  {
    "text": "that your local envoy is keeping and then mixer will return back an answer",
    "start": "654770",
    "end": "659900"
  },
  {
    "text": "and another request comes in that has the attributes that were used to render that decision the same then it'll just make",
    "start": "659900",
    "end": "667260"
  },
  {
    "text": "the same decision and not pass it on to mixer mixer is also used for telemetry",
    "start": "667260",
    "end": "673730"
  },
  {
    "text": "and the reason that I'm bringing telemetry up in a security talk in addition to like the operational",
    "start": "673730",
    "end": "680880"
  },
  {
    "text": "concerns that you have adjust to being able to debug your application observability is super important from a",
    "start": "680880",
    "end": "686430"
  },
  {
    "text": "security perspective you have to be able to know what's going on in your cluster and you have to be able to see into it",
    "start": "686430",
    "end": "691890"
  },
  {
    "text": "to have any chance of detecting bad actors if they are able to slip in so",
    "start": "691890",
    "end": "697800"
  },
  {
    "text": "mixer supports stackdriver and just outputting to the standard i/o and again",
    "start": "697800",
    "end": "703830"
  },
  {
    "text": "a bunch of additional login components are being built right now so your your",
    "start": "703830",
    "end": "711300"
  },
  {
    "text": "favorite logging backends hopefully will be supported with mixer before too much longer we also want to talk about egress",
    "start": "711300",
    "end": "720180"
  },
  {
    "start": "717000",
    "end": "800000"
  },
  {
    "text": "policy now egress in this case we're talking about egress from the service mesh itself so for for connections in",
    "start": "720180",
    "end": "727170"
  },
  {
    "text": "the service mesh we have that mechanism of mutual TLS and authentication to know",
    "start": "727170",
    "end": "732540"
  },
  {
    "text": "who you're talking to but you will often have services that want to make external API calls to take advantage of other",
    "start": "732540",
    "end": "739860"
  },
  {
    "text": "services so if you're running in IBM maybe you want to make calls to the watson services if you're running in an",
    "start": "739860",
    "end": "746790"
  },
  {
    "text": "gke maybe you want to take advantage of some of the google cloud features so you want to be able to control what the",
    "start": "746790",
    "end": "753150"
  },
  {
    "text": "things in your mesh are making calls to so enabling the things that actually are",
    "start": "753150",
    "end": "759030"
  },
  {
    "text": "used in your application and disabling the ability for your pods to make connections to other places and the",
    "start": "759030",
    "end": "766830"
  },
  {
    "text": "reason that you care about that is that attackers might be able to slip code",
    "start": "766830",
    "end": "772980"
  },
  {
    "text": "into your pods through a number of vectors maybe by corrupting your build system or maybe by corrupting some",
    "start": "772980",
    "end": "779400"
  },
  {
    "text": "public images that you use in your system or maybe even by fishing you know",
    "start": "779400",
    "end": "784950"
  },
  {
    "text": "your system they've been or something like that and these things when they come up they often try and make a connection out to some command and",
    "start": "784950",
    "end": "791190"
  },
  {
    "text": "control server or exfiltrate your data you can shut that down by using egress policy all right",
    "start": "791190",
    "end": "801190"
  },
  {
    "start": "800000",
    "end": "835000"
  },
  {
    "text": "so let's do a quick demonstration what I'm gonna show is a cluster that is",
    "start": "801190",
    "end": "809260"
  },
  {
    "text": "running kubernetes and then we have calico installed in cluster as well as",
    "start": "809260",
    "end": "815290"
  },
  {
    "text": "sto and then an application that looks like this in the cluster and this is",
    "start": "815290",
    "end": "820840"
  },
  {
    "text": "going to talk about mutual TLS and it's also going to talk about authorization and the reason that you need both of",
    "start": "820840",
    "end": "828040"
  },
  {
    "text": "these things in order to be able to secure what you're doing fullscreen so",
    "start": "828040",
    "end": "845950"
  },
  {
    "start": "835000",
    "end": "1027000"
  },
  {
    "text": "I've got my application running in the cluster and has very simple architecture",
    "start": "845950",
    "end": "852760"
  },
  {
    "text": "it is a micro service so I've got a front-end pod which is called the customer UI so that's where people",
    "start": "852760",
    "end": "858580"
  },
  {
    "text": "actually my customers actually connect to and sort of see on the web and that",
    "start": "858580",
    "end": "864160"
  },
  {
    "text": "connects to a single micro service in the backend which summarizes that person's accounts and then I have a",
    "start": "864160",
    "end": "870580"
  },
  {
    "text": "database which is actually persisting all the account information and then I'm",
    "start": "870580",
    "end": "876490"
  },
  {
    "text": "not showing in the demo but you know there's a teller UI that the teller uses when I go to the bank and either",
    "start": "876490",
    "end": "882850"
  },
  {
    "text": "withdraw or deposit money and that creates transactions which are processed in a micro service and that actually",
    "start": "882850",
    "end": "888370"
  },
  {
    "text": "updates the database so it's called y AO Bank yet another online bank and it's",
    "start": "888370",
    "end": "894970"
  },
  {
    "text": "very simple and as I said it just shows me my account summary which is my current balance so I have this running",
    "start": "894970",
    "end": "902589"
  },
  {
    "text": "in sto and I have mutual TLS enabled so what that means is that if I grab the IP",
    "start": "902589",
    "end": "912820"
  },
  {
    "text": "address of the database even though I actually do have network connectivity to",
    "start": "912820",
    "end": "921339"
  },
  {
    "text": "the database from my laptop so I can ping the database if I try and",
    "start": "921339",
    "end": "930410"
  },
  {
    "text": "make a request to the database and",
    "start": "930410",
    "end": "937190"
  },
  {
    "text": "notice that I have to use HTTPS here because I have mutual TLS set up in my",
    "start": "937190",
    "end": "943130"
  },
  {
    "text": "cluster",
    "start": "943130",
    "end": "945519"
  },
  {
    "text": "when I get back is handshake failure and that's because the HTTP listener that is",
    "start": "952319",
    "end": "959970"
  },
  {
    "text": "in front of that database is expecting an HTTP connection and it's expecting it to present a certificate that proves",
    "start": "959970",
    "end": "967679"
  },
  {
    "text": "that I'm part of the service mesh my laptop doesn't have one of those so I get handshake failure and that gets shut",
    "start": "967679",
    "end": "973619"
  },
  {
    "text": "down so we're already doing pretty well here we're able to encrypt the data and also prevent people from outside the",
    "start": "973619",
    "end": "980039"
  },
  {
    "text": "cluster from making contact to any of the micro services that are running inside the mesh but there are still some",
    "start": "980039",
    "end": "988229"
  },
  {
    "text": "vulnerabilities that we want to be able to deal with that just mutual TLS is not",
    "start": "988229",
    "end": "994289"
  },
  {
    "text": "going to help you with so one of the problems is that we're not doing any",
    "start": "994289",
    "end": "1000139"
  },
  {
    "text": "authorization only do not end ocation we're basically asking is the person that I'm talking to a member of the",
    "start": "1000139",
    "end": "1005449"
  },
  {
    "text": "cluster and if they are I'm gonna allow the connection so that means that if an attacker is able to take over one of my",
    "start": "1005449",
    "end": "1012739"
  },
  {
    "text": "pods by exploiting some vulnerability in the pod they'll be able to make",
    "start": "1012739",
    "end": "1017809"
  },
  {
    "text": "connections anywhere else in my cluster and be able to use that as a base of operations to start launching additional",
    "start": "1017809",
    "end": "1023629"
  },
  {
    "text": "attacks and I don't want that so instead",
    "start": "1023629",
    "end": "1028938"
  },
  {
    "text": "of actually exploiting a vulnerability in my cluster since I'm not a hacker I'm",
    "start": "1028939",
    "end": "1036260"
  },
  {
    "text": "going to cheat and use cue cuddle exec to show what what it would look like if",
    "start": "1036260",
    "end": "1042798"
  },
  {
    "text": "I was able to exploit a vulnerability so I'm gonna keep cuddle exactly into the",
    "start": "1042799",
    "end": "1047899"
  },
  {
    "text": "customer pod and basically you know even though I didn't exploit a vulnerability from here on out this is basically what",
    "start": "1047899",
    "end": "1054860"
  },
  {
    "text": "when it would have been like in from what we know of the equifax attack so the attackers there exploited a",
    "start": "1054860",
    "end": "1061639"
  },
  {
    "text": "vulnerability in an Apache struts and then use that to install a web console and then use that web console to launch",
    "start": "1061639",
    "end": "1068539"
  },
  {
    "text": "attacks and the rest of equifax its network so I'm gonna launch an attack against the database from here and",
    "start": "1068539",
    "end": "1077240"
  },
  {
    "text": "notice that I only need to use HTTP because I have the Envoy that will happily encrypt and authorize this",
    "start": "1077240",
    "end": "1083480"
  },
  {
    "text": "connection for me to use and I'll do a cursive",
    "start": "1083480",
    "end": "1100150"
  },
  {
    "text": "equals true and pipe that through pythons json tool so that you can see",
    "start": "1100150",
    "end": "1112170"
  },
  {
    "text": "what information I get back and so just from being able to exploit one one part",
    "start": "1112170",
    "end": "1117880"
  },
  {
    "text": "I'm able to connect to the database and I can get names I can get account",
    "start": "1117880",
    "end": "1123430"
  },
  {
    "text": "numbers I can get balances I've basically owned this database from one exploit so that's definitely been",
    "start": "1123430",
    "end": "1130530"
  },
  {
    "text": "another class of attacks is even though I may not be able to completely exploit",
    "start": "1130530",
    "end": "1137110"
  },
  {
    "text": "a pod and get remote code execution it's often easier to convince a pod to tell",
    "start": "1137110",
    "end": "1143230"
  },
  {
    "text": "you something that you shouldn't know to have it read out portions of its memory",
    "start": "1143230",
    "end": "1148630"
  },
  {
    "text": "or read files from disks so the heartbleed vulnerability that we had a few years ago is a good example of this",
    "start": "1148630",
    "end": "1153820"
  },
  {
    "text": "where there was a vulnerability in open SSL and if you had a server that was",
    "start": "1153820",
    "end": "1159340"
  },
  {
    "text": "running with open SSL that had a vulnerable version then attackers could convince it to read out portions of the",
    "start": "1159340",
    "end": "1166210"
  },
  {
    "text": "memory and that was used to steal certificates and secrets so to simulate",
    "start": "1166210",
    "end": "1171310"
  },
  {
    "text": "what that might be like again I'm going to use the kubernetes api instead of finding on wrong vulnerability so I",
    "start": "1171310",
    "end": "1177610"
  },
  {
    "text": "wrote a little program that just goes to the kubernetes api and gets a set of secrets for a service account and I'm",
    "start": "1177610",
    "end": "1183730"
  },
  {
    "text": "gonna grab the secrets for the summary service account so when I do that I get both the key and the certificate chain",
    "start": "1183730",
    "end": "1191320"
  },
  {
    "text": "as if I had stolen it and now if I repeat that connection attempt and",
    "start": "1191320",
    "end": "1198100"
  },
  {
    "text": "provide the key and the certificate then",
    "start": "1198100",
    "end": "1203860"
  },
  {
    "text": "I'm able to now connect to the database and I can do something sort of even more",
    "start": "1203860",
    "end": "1210370"
  },
  {
    "text": "transgressive so since I already know account names and numbers",
    "start": "1210370",
    "end": "1216210"
  },
  {
    "text": "I'm gonna change my balance 100,000 it's",
    "start": "1217580",
    "end": "1227279"
  },
  {
    "text": "a million dollars actually mistyped my",
    "start": "1227279",
    "end": "1243509"
  },
  {
    "text": "account number there we go there we go so now when I run that and go back to my",
    "start": "1243509",
    "end": "1251759"
  },
  {
    "text": "bank account you'll see that you know I they able to yeah okay just modify my balance at the bank so again we don't",
    "start": "1251759",
    "end": "1258749"
  },
  {
    "text": "want that so the way we're gonna deal with both of these attacks is in the same way it's by applying authorization",
    "start": "1258749",
    "end": "1265529"
  },
  {
    "text": "policy so in this case we're going to use Calico application layer policy and",
    "start": "1265529",
    "end": "1270929"
  },
  {
    "text": "I'll show you what the policy actually looks like it's pretty simple so we're applying network policy and just like in",
    "start": "1270929",
    "end": "1277559"
  },
  {
    "text": "kubernetes network policy we're gonna use selectors to select which pods the policy applies to so this first policy",
    "start": "1277559",
    "end": "1283979"
  },
  {
    "text": "just applies to the customer micro service and then I list a set of rules so I'm gonna allow any HTTP method or",
    "start": "1283979",
    "end": "1291509"
  },
  {
    "text": "any requests that come in and better gets what's the customer micro service no matter who it is from for the summary",
    "start": "1291509",
    "end": "1298200"
  },
  {
    "text": "micro service since that's not exposed to the world I don't want anybody except for things inside my cluster to talk to",
    "start": "1298200",
    "end": "1304259"
  },
  {
    "text": "it and in particular I only want the customer UI Micra service to talk to it because I know that that's the only",
    "start": "1304259",
    "end": "1310559"
  },
  {
    "text": "person using that in my cluster so I'm going to allow connections only from the",
    "start": "1310559",
    "end": "1315839"
  },
  {
    "text": "customer microservice my service account and then for the database I know that",
    "start": "1315839",
    "end": "1322440"
  },
  {
    "text": "the summary micro service is the one talking to it so I'm only going to allow connections from the service account",
    "start": "1322440",
    "end": "1329309"
  },
  {
    "text": "from there and I can select service accounts either by name or by labels if I have a lot of service accounts or",
    "start": "1329309",
    "end": "1335690"
  },
  {
    "text": "you'd rather control your policy via labels so once I apply that policy",
    "start": "1335690",
    "end": "1343879"
  },
  {
    "text": "let's repeat some of these attacks I'm actually gonna drop the json formatting",
    "start": "1351450",
    "end": "1361299"
  },
  {
    "text": "because i don't actually get a json response back I get 403 forbidden so Sto does the check with the service account",
    "start": "1361299",
    "end": "1370630"
  },
  {
    "text": "that's provided and the customer microcircuit is not allowed to talk to the database so I get 403 forbidden now",
    "start": "1370630",
    "end": "1377440"
  },
  {
    "text": "I'm also going to repeat this attack where I stolen a certificate and when I do that it also fails now you might",
    "start": "1377440",
    "end": "1385179"
  },
  {
    "text": "wonder well how do it how do i do that because i actually did steal this cryptographic identity well in calico",
    "start": "1385179",
    "end": "1392140"
  },
  {
    "text": "i'm able to enforce at multiple layers so not just looking at the cryptographic identity but Calico is monitoring the",
    "start": "1392140",
    "end": "1398770"
  },
  {
    "text": "kubernetes api and it knows what pods are being run by what service accounts",
    "start": "1398770",
    "end": "1404799"
  },
  {
    "text": "and what IP addresses those pods have so it's able to verify against the network layer as well because i'm trying to make",
    "start": "1404799",
    "end": "1410890"
  },
  {
    "text": "a request from a place that is not valid for that service account I can shut it",
    "start": "1410890",
    "end": "1417160"
  },
  {
    "text": "down all right let's jump back to the",
    "start": "1417160",
    "end": "1423790"
  },
  {
    "text": "presentation and one of these is it's",
    "start": "1423790",
    "end": "1431740"
  },
  {
    "start": "1428000",
    "end": "1902000"
  },
  {
    "text": "not only that authorization is really important but also the way that we've built security policy into sto is based",
    "start": "1431740",
    "end": "1439510"
  },
  {
    "text": "on kubernetes ideas so we're using service accounts for identities all of",
    "start": "1439510",
    "end": "1445630"
  },
  {
    "text": "the sto configuration is stored as custom resources so you can look at them with Q cuttle you can use all your",
    "start": "1445630",
    "end": "1451840"
  },
  {
    "text": "favorite kubernetes api tools to look at what that configures you can use your CI",
    "start": "1451840",
    "end": "1458200"
  },
  {
    "text": "see these systems that are designed to talk to the kubernetes api and push",
    "start": "1458200",
    "end": "1463360"
  },
  {
    "text": "config internet ease to work with them as well and the way authorization policy",
    "start": "1463360",
    "end": "1469840"
  },
  {
    "text": "is defined so Calico policy which i just showed is based on kubernetes network policy and we're also working on",
    "start": "1469840",
    "end": "1477240"
  },
  {
    "text": "Sto our back so if you don't like the network policy paradigm and you'd rather in a role",
    "start": "1477240",
    "end": "1483040"
  },
  {
    "text": "based access control system then you can use sto our back and that is designed to look like kubernetes our back and so",
    "start": "1483040",
    "end": "1489790"
  },
  {
    "text": "with that I'm gonna hand it back to Dan who's gonna talk about the roadmap thanks Mike so that was pretty amazing",
    "start": "1489790",
    "end": "1498220"
  },
  {
    "text": "right I mean all of that was done keep in mind spike didn't have to write or change any",
    "start": "1498220",
    "end": "1504790"
  },
  {
    "text": "of his code right all those security features again were made available in the mesh and it provides a way to",
    "start": "1504790",
    "end": "1511870"
  },
  {
    "text": "program the mesh and have it apply to all the endpoint making the developers much more productive there's already a",
    "start": "1511870",
    "end": "1518290"
  },
  {
    "text": "lot available today in sto around securing your services it's pretty rich",
    "start": "1518290",
    "end": "1524980"
  },
  {
    "text": "out-of-the-box already available today but there's a lot a lot more work that",
    "start": "1524980",
    "end": "1530080"
  },
  {
    "text": "we want to do there's more features we want to add to this again we want that secure by default we want services",
    "start": "1530080",
    "end": "1536800"
  },
  {
    "text": "highly secure by default so some of the things that we're working on in the near",
    "start": "1536800",
    "end": "1541930"
  },
  {
    "text": "future so this first slide is all about what we're doing in 4q we're already in 4q you saw the snow yesterday so clearly",
    "start": "1541930",
    "end": "1548590"
  },
  {
    "text": "we're in for Q so around mutual TLS one of the things with the mutual TLS right",
    "start": "1548590",
    "end": "1555040"
  },
  {
    "text": "now one of the problems is when you're in the mesh you're in the mesh that means you're communicating mutual TLS",
    "start": "1555040",
    "end": "1561130"
  },
  {
    "text": "between your services but the problem is what if you have to call a service",
    "start": "1561130",
    "end": "1566230"
  },
  {
    "text": "that's not in the mesh it's not participating in the mesh itself therefore it doesn't have the",
    "start": "1566230",
    "end": "1571810"
  },
  {
    "text": "capabilities to do the mutual TLS today those will fail what's what we're",
    "start": "1571810",
    "end": "1576820"
  },
  {
    "text": "working on and what we're going to be delivering very soon is the ability to enable or disable individual services so",
    "start": "1576820",
    "end": "1583090"
  },
  {
    "text": "you can have a service in the mesh be able to call a service not in the mesh and it will disable that invocation from",
    "start": "1583090",
    "end": "1589600"
  },
  {
    "text": "mutual TLS so you can allow those external services to be communicated the",
    "start": "1589600",
    "end": "1595210"
  },
  {
    "text": "other aspect is as well one of the key things with SEO is that we want and we",
    "start": "1595210",
    "end": "1600310"
  },
  {
    "text": "allow for you to incrementally adopt portions of the mesh and the capabilities along the way so as you",
    "start": "1600310",
    "end": "1608170"
  },
  {
    "text": "grow and you mature and you start adopting more of this do you can turn those features well one of those might",
    "start": "1608170",
    "end": "1614380"
  },
  {
    "text": "be mutual TLS so you might have a cluster in which case you don't have sto",
    "start": "1614380",
    "end": "1619720"
  },
  {
    "text": "authentication turned on you're just using sto with no authentication we want to provide the ability that there's zero",
    "start": "1619720",
    "end": "1626290"
  },
  {
    "text": "down time to turn it on which is pretty impressive if you think about it I mean you've got all your services out there",
    "start": "1626290",
    "end": "1631930"
  },
  {
    "text": "they're running with no authentication we're gonna enable the ability to just turn it on with zero downtime and mutual",
    "start": "1631930",
    "end": "1638140"
  },
  {
    "text": "TLS will be turned on across the matter a huge one for us right now is also sni",
    "start": "1638140",
    "end": "1644740"
  },
  {
    "text": "for the ingress spike was commenting on this earlier this gives us the ability to define ingress rules into the mesh",
    "start": "1644740",
    "end": "1652510"
  },
  {
    "text": "and use multiple different host names today we're limited to a single single host for that authorization policy",
    "start": "1652510",
    "end": "1661120"
  },
  {
    "text": "choices we want to expand the different choices that you have to be able to",
    "start": "1661120",
    "end": "1667260"
  },
  {
    "text": "authorize the identity of those services and and more importantly users",
    "start": "1667260",
    "end": "1672970"
  },
  {
    "text": "eventually so right now we have basically service accounts but we want to move towards role based access so our",
    "start": "1672970",
    "end": "1679570"
  },
  {
    "text": "back as a way to authentic authorize your services within the mesh itself and",
    "start": "1679570",
    "end": "1686590"
  },
  {
    "text": "in spite on that a little bit moving towards the ISTE Oh our back or the way to define service roles and service role",
    "start": "1686590",
    "end": "1694060"
  },
  {
    "text": "bindings using our back OPA is another another technology that we're looking at",
    "start": "1694060",
    "end": "1700810"
  },
  {
    "text": "the open policy agent as well as the Calico unified policy two other ways of",
    "start": "1700810",
    "end": "1706450"
  },
  {
    "text": "doing authorization when in your mesh on the open policy agent there's actually a talk this afternoon that women whose my",
    "start": "1706450",
    "end": "1715630"
  },
  {
    "text": "colleague on the sto security policy team will be giving so if you're interested in open policy agent",
    "start": "1715630",
    "end": "1721660"
  },
  {
    "text": "definitely check that one out and lastly on this slide basically drinking our own",
    "start": "1721660",
    "end": "1728590"
  },
  {
    "text": "champagne sto on sto using sto to manage the control plane for is do so managing",
    "start": "1728590",
    "end": "1735460"
  },
  {
    "text": "pilot mixer and the CA components now",
    "start": "1735460",
    "end": "1740830"
  },
  {
    "text": "moving forward looking into next year one quarter out we're looking at some other capabilities",
    "start": "1740830",
    "end": "1746780"
  },
  {
    "text": "as well so around mutual TLS the ability mentioned it a little bit but more work",
    "start": "1746780",
    "end": "1751790"
  },
  {
    "text": "around interoperating with non mesh services so services that are not in the mesh but a key one is to allow you to",
    "start": "1751790",
    "end": "1760100"
  },
  {
    "text": "work with clusters and services that are not just contained within a single",
    "start": "1760100",
    "end": "1765800"
  },
  {
    "text": "cluster so you have multi cluster services running outside the cluster we want to enable the ability to",
    "start": "1765800",
    "end": "1772150"
  },
  {
    "text": "authenticate with a common identity across multiple cluster cluster",
    "start": "1772150",
    "end": "1777980"
  },
  {
    "text": "boundaries so that work is ongoing and user authentication so right now in our",
    "start": "1777980",
    "end": "1785210"
  },
  {
    "text": "examples that we were showing here you're authenticating and using the identity of your services so using",
    "start": "1785210",
    "end": "1791840"
  },
  {
    "text": "service accounts and and some of the other capabilities that I mentioned on the other slide with Auerbach and others",
    "start": "1791840",
    "end": "1798520"
  },
  {
    "text": "that's still the service account so we're authenticating and using the identity of the services but we want to",
    "start": "1798520",
    "end": "1804770"
  },
  {
    "text": "enable the ability for you as a customer of this teo to use your users identity",
    "start": "1804770",
    "end": "1810140"
  },
  {
    "text": "for defining and defining the policies and authenticating within the mesh",
    "start": "1810140",
    "end": "1817550"
  },
  {
    "text": "itself so it's your users identity that's going to be coming using JWT in this case going even further with doing",
    "start": "1817550",
    "end": "1827590"
  },
  {
    "text": "authentication and using different tools around that we want to leave leverage the various identity management systems",
    "start": "1827590",
    "end": "1834260"
  },
  {
    "text": "for from the cloud providers so almost every cloud provider has an identity",
    "start": "1834260",
    "end": "1839540"
  },
  {
    "text": "management system we want to be able to integrate that into the service mesh and",
    "start": "1839540",
    "end": "1845120"
  },
  {
    "text": "be able to use those identities as well and then lastly leveraging external",
    "start": "1845120",
    "end": "1850430"
  },
  {
    "text": "certificate authorities very much like the kubernetes and community is doing with secrets we want to enable external",
    "start": "1850430",
    "end": "1858190"
  },
  {
    "text": "authorities as well to manage the certificates so that's basically our roadmap if there's other things that",
    "start": "1858190",
    "end": "1865130"
  },
  {
    "text": "you're interested in or you would like to see please give get in contact with us there's multiple ways to contact the",
    "start": "1865130",
    "end": "1872120"
  },
  {
    "text": "folks working on Sto we have SEO users groups we have",
    "start": "1872120",
    "end": "1877710"
  },
  {
    "text": "we have a Twitter account definitely tweet us if there's more that you would like to see in the cert security of the",
    "start": "1877710",
    "end": "1885000"
  },
  {
    "text": "mesh definitely reach out get involved go out to the sto da do site start using",
    "start": "1885000",
    "end": "1891210"
  },
  {
    "text": "it check out all the cool features showing how you can secure your services but definitely get involved give us some",
    "start": "1891210",
    "end": "1897600"
  },
  {
    "text": "feedback thank you everyone [Applause]",
    "start": "1897600",
    "end": "1903849"
  }
]