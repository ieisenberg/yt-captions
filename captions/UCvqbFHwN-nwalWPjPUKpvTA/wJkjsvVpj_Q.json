[
  {
    "text": "so hello everybody thanks for coming um conscious it's getting towards the end now so yeah appreciate it and good to",
    "start": "120",
    "end": "7439"
  },
  {
    "text": "see a good turn out my name is Charlie I work on the developer relations team at styra and on the OPA project I split my",
    "start": "7439",
    "end": "14920"
  },
  {
    "text": "time between working as an open source maintainer and doing things like this where I come to events and meet all you",
    "start": "14920",
    "end": "21000"
  },
  {
    "text": "lovely people um yeah I'll let s introduce himself hello everyone uh my",
    "start": "21000",
    "end": "26199"
  },
  {
    "text": "name is Sage I work at Microsoft I'm a engineer man manager there and then I'm an oper",
    "start": "26199",
    "end": "33040"
  },
  {
    "text": "maintainer so the agenda for today's session is I'm going to give a short overview of the OPA project and then go",
    "start": "33040",
    "end": "39719"
  },
  {
    "text": "into uh a little bit little bit more detail about some recent updates that have happened in the project since maybe",
    "start": "39719",
    "end": "45559"
  },
  {
    "text": "you last watched a talk like this um and then so that's going to give an update about what's happening on the gatekeeper",
    "start": "45559",
    "end": "51440"
  },
  {
    "text": "side for kubernetes admission so if you're not familiar with",
    "start": "51440",
    "end": "56800"
  },
  {
    "text": "the OPA project you may have seen the logo before in the the cncf landscape uh Opa is a graduated um cncf graduated",
    "start": "56800",
    "end": "65040"
  },
  {
    "text": "project and the idea is that op is a domain agnostic general purpose policy",
    "start": "65040",
    "end": "71600"
  },
  {
    "text": "engine which you can use for a variety of different policy use cases so the",
    "start": "71600",
    "end": "76840"
  },
  {
    "text": "intention is that you can decouple policy evaluation from uh where you may be enforcing that policy for example you",
    "start": "76840",
    "end": "84079"
  },
  {
    "text": "might have applications enforcing what users can do um make make making changes",
    "start": "84079",
    "end": "89920"
  },
  {
    "text": "to a particular State and so on you may have kubernetes admins making changes in different clusters different",
    "start": "89920",
    "end": "95880"
  },
  {
    "text": "environments different name spaces um you also may have automated processes",
    "start": "95880",
    "end": "100960"
  },
  {
    "text": "updating clusters or making changes to infrastructure as code Stacks um and and",
    "start": "100960",
    "end": "107479"
  },
  {
    "text": "any of these different places in addition to just controlling the messages between services in your",
    "start": "107479",
    "end": "112759"
  },
  {
    "text": "infrastructure um are places where you may want to enforce policy and opa is there a general purpose policy engine to",
    "start": "112759",
    "end": "120840"
  },
  {
    "text": "run policy in all of those different places so in a little bit more detail",
    "start": "120840",
    "end": "126439"
  },
  {
    "text": "technically um this is how I like to think of opa opa is a combination of a",
    "start": "126439",
    "end": "132080"
  },
  {
    "text": "few different components crucially it's a domain specific policy language called Rego uh this is the language of opa if",
    "start": "132080",
    "end": "138920"
  },
  {
    "text": "you're writing policies for Opa you're writing them in Rego um and I'll give a brief overview of Rego policy in a",
    "start": "138920",
    "end": "145360"
  },
  {
    "text": "second um Opa is also a policy server where you can run a long running policy",
    "start": "145360",
    "end": "151239"
  },
  {
    "text": "server um perhaps next to your application or in a number of different uh architectures I suppose um in order",
    "start": "151239",
    "end": "158239"
  },
  {
    "text": "to perform policy evaluation um but it also has functionality to reload policy",
    "start": "158239",
    "end": "163319"
  },
  {
    "text": "and log policy decisions as they are happening and that's the most common way",
    "start": "163319",
    "end": "168519"
  },
  {
    "text": "that people use Opa today uh we also have language sdks so you can build Opa into go applications natively and we",
    "start": "168519",
    "end": "175959"
  },
  {
    "text": "have web assembly modules so it's possible to compile Rego to web assembly and run Opa within applications that way",
    "start": "175959",
    "end": "182599"
  },
  {
    "text": "too you bring that together with projects like gatekeeper for kubernetes admission and com test for working with",
    "start": "182599",
    "end": "189200"
  },
  {
    "text": "configuration files and running policy over configuration files and we bring that all together with the community and",
    "start": "189200",
    "end": "194440"
  },
  {
    "text": "you get Opa and the OPA project so this is just a little example of a policy um that's I'm showing in the",
    "start": "194440",
    "end": "202000"
  },
  {
    "text": "playground the idea is that you can create rules and based on the input or",
    "start": "202000",
    "end": "207720"
  },
  {
    "text": "based on the data which is provided to the policy uh the decision is made by Opa and returned as the as the output so",
    "start": "207720",
    "end": "214959"
  },
  {
    "text": "here we've got an example where we're allowing an admin um but not allowing anybody else defaulting to",
    "start": "214959",
    "end": "221519"
  },
  {
    "text": "false so in a distributed system this is how uh typical architecture might look",
    "start": "221519",
    "end": "227760"
  },
  {
    "text": "you have some business application which is making a call it may provide information about a request that it's",
    "start": "227760",
    "end": "233599"
  },
  {
    "text": "just received to Opa um Opa then receives that request and say it runs",
    "start": "233599",
    "end": "238920"
  },
  {
    "text": "and runs some policy performs a policy evaluation it will do this using the",
    "start": "238920",
    "end": "244120"
  },
  {
    "text": "policy which it has loaded into it at that time in addition to any additional data that's been loaded in for example",
    "start": "244120",
    "end": "250599"
  },
  {
    "text": "in a in this example it might be might commonly be some information that describes what users and their roles are",
    "start": "250599",
    "end": "257239"
  },
  {
    "text": "allowed to do so bringing that together the policy rules the data and the information about the request uh it",
    "start": "257239",
    "end": "264199"
  },
  {
    "text": "makes a decision and returns that to the business application to enforce the decision so Opa is the policy decision",
    "start": "264199",
    "end": "269639"
  },
  {
    "text": "point and the application is the policy enforcement point and this is a very similar example",
    "start": "269639",
    "end": "275440"
  },
  {
    "text": "of how you could how you could use op within an application to have much the same effect where a particular part",
    "start": "275440",
    "end": "281840"
  },
  {
    "text": "perhaps some module um that's uh responsible for serving web requests makes a function call to an",
    "start": "281840",
    "end": "288840"
  },
  {
    "text": "authorization module in the same program uh which is based on OA based on Opa uh",
    "start": "288840",
    "end": "294440"
  },
  {
    "text": "and you can also use external data and or additional data and policy",
    "start": "294440",
    "end": "300120"
  },
  {
    "text": "uh that's been loaded into that module in much the same way so what are some common policy",
    "start": "300120",
    "end": "306479"
  },
  {
    "text": "enforcement points we've been talking about oper the policy decision Point um your application is a very common policy",
    "start": "306479",
    "end": "312880"
  },
  {
    "text": "enforcement Point you're receiving requests and you're trying to work out whether or not a request is allowed or",
    "start": "312880",
    "end": "318840"
  },
  {
    "text": "or what message should be displayed if it isn't and so on um that's that's a particular particularly common policy",
    "start": "318840",
    "end": "325120"
  },
  {
    "text": "enforcement point the kubernetes API server um set is going to talk about the gatekeeper project which is a native Opa",
    "start": "325120",
    "end": "331759"
  },
  {
    "text": "integration for working with the kubernetes admission control integration uh this is another we are at ccon after",
    "start": "331759",
    "end": "338080"
  },
  {
    "text": "all this is another important uh policy enforcement point for for a lot of people here I'm",
    "start": "338080",
    "end": "344000"
  },
  {
    "text": "sure so um you've also got com test this is a common tool that people use in cicd",
    "start": "344000",
    "end": "351440"
  },
  {
    "text": "pipelines uh to to run uh policy against changes to terraform Stacks or or other",
    "start": "351440",
    "end": "357720"
  },
  {
    "text": "standard configuration files uh and the envoy proxy we have a native integration for that too if you're using using",
    "start": "357720",
    "end": "364960"
  },
  {
    "text": "that just a quick update on some Community milestones and and uh stats",
    "start": "364960",
    "end": "371800"
  },
  {
    "text": "from last last year ccon North America uh we've had contributions from 26",
    "start": "371800",
    "end": "377080"
  },
  {
    "text": "contributors from 26 new company new companies uh we've had over 1300 people",
    "start": "377080",
    "end": "382680"
  },
  {
    "text": "join the OPA slack the opas slack is our main channel of community support and",
    "start": "382680",
    "end": "387880"
  },
  {
    "text": "discussion uh the QR code at the bottom of the screen takes you to the signup page if you're interested um on average",
    "start": "387880",
    "end": "394800"
  },
  {
    "text": "each week two new repos are shared on GitHub which contain Rego source code um",
    "start": "394800",
    "end": "400720"
  },
  {
    "text": "and we've also in the OPA core project at least merged over 570 PRS and that's",
    "start": "400720",
    "end": "405919"
  },
  {
    "text": "not including the pool requests merged to other projects in the OPA um",
    "start": "405919",
    "end": "412360"
  },
  {
    "text": "community so I'm going to dig into a little bit more detail now about some recent changes to op the language and",
    "start": "412360",
    "end": "419440"
  },
  {
    "text": "functionalities of the OPA server so but first just a a public",
    "start": "419440",
    "end": "425280"
  },
  {
    "text": "service announcement uh we're no longer going to be publishing the rootless flavor of opa images uh for the next",
    "start": "425280",
    "end": "431720"
  },
  {
    "text": "release the current release is not. 58 uh this is the the last release that will feature this this flavor so if you",
    "start": "431720",
    "end": "438440"
  },
  {
    "text": "are and if you are in particular using latest um latest D rootless you should just switch to well perhaps you should",
    "start": "438440",
    "end": "445400"
  },
  {
    "text": "switch to a versioned oper image but um crucially you you will no longer be",
    "start": "445400",
    "end": "450759"
  },
  {
    "text": "getting updates on that channel so yeah please um we we are now all of the OPA",
    "start": "450759",
    "end": "456960"
  },
  {
    "text": "images are not using a root user so um you should feel confident to use one of",
    "start": "456960",
    "end": "462440"
  },
  {
    "text": "the um the standard flavors instead so we release once uh release",
    "start": "462440",
    "end": "468360"
  },
  {
    "text": "Opa once a month at the end of the month uh I last gave a maintainer update in Amsterdam uh that was when we were on",
    "start": "468360",
    "end": "474720"
  },
  {
    "text": "not. 52 we're now on not. 58 um so I'm going to give a summary of the updates",
    "start": "474720",
    "end": "479800"
  },
  {
    "text": "since that since that point including One update that happened before which",
    "start": "479800",
    "end": "486120"
  },
  {
    "text": "the North American audience made may have missed out on starting with some updates to the",
    "start": "486120",
    "end": "491479"
  },
  {
    "text": "Rego language uh we we have two new features I'm going to talk about today we've got support for what we call",
    "start": "491479",
    "end": "497879"
  },
  {
    "text": "General references and Rule heads which is perhaps a bit of a mouthful but I'll try and explain why it's useful in a",
    "start": "497879",
    "end": "503039"
  },
  {
    "text": "moment and we also now support the default keyword I don't know if you remember in the example I showed earlier",
    "start": "503039",
    "end": "509000"
  },
  {
    "text": "we had default allow false that was with a rule we now support that same keyword",
    "start": "509000",
    "end": "514560"
  },
  {
    "text": "for functions too um I was going to click the link and",
    "start": "514560",
    "end": "520599"
  },
  {
    "text": "show it in the playground but we've got a bit of a system with the screens going on so I'm going to try and explain it",
    "start": "520599",
    "end": "526640"
  },
  {
    "text": "instead um the idea here is that what when we're talking about a general",
    "start": "526640",
    "end": "531880"
  },
  {
    "text": "reference a general reference is a token which has got multiple variables in",
    "start": "531880",
    "end": "537760"
  },
  {
    "text": "contained within it uh so this rule which I don't think you can see my cursor unfortunately but the users by",
    "start": "537760",
    "end": "544440"
  },
  {
    "text": "roll rule um has got Ro and ID are both variables things which are unknown um",
    "start": "544440",
    "end": "551880"
  },
  {
    "text": "prior to evaluation and what this allows you to do in this example is restructure",
    "start": "551880",
    "end": "557200"
  },
  {
    "text": "what is a list of users uh as a sort of nested structure of objects grouping",
    "start": "557200",
    "end": "562959"
  },
  {
    "text": "users uh by their role and ID and this is something that was previously quite",
    "start": "562959",
    "end": "568040"
  },
  {
    "text": "difficult to write in Rego this is a cool new feature um we've also as I mentioned",
    "start": "568040",
    "end": "573920"
  },
  {
    "text": "we've got the default keyword um this I was going to show a little example but",
    "start": "573920",
    "end": "580640"
  },
  {
    "text": "hopefully you can see how it would have worked the idea is that we can Define default outputs for functions as well so",
    "start": "580640",
    "end": "587519"
  },
  {
    "text": "uh by default someone's nearest cucon is cucon North America um but if the user",
    "start": "587519",
    "end": "593200"
  },
  {
    "text": "city is in Paris then they get uh they get shown they get shown the coupon U as",
    "start": "593200",
    "end": "598760"
  },
  {
    "text": "being then nearest cucon um if their time zone offset is within a particular range they get shown North America and",
    "start": "598760",
    "end": "605240"
  },
  {
    "text": "if they are on a different planet or Celestial body then by default we show them cucon North",
    "start": "605240",
    "end": "612560"
  },
  {
    "text": "America so we've also made uh some updates to rare goat's built-in functions uh we have a wide collection",
    "start": "612560",
    "end": "619200"
  },
  {
    "text": "wide range of built-in functions to make writing policies easier the functions are focused on things that people tend",
    "start": "619200",
    "end": "625279"
  },
  {
    "text": "to be writing policy about so a lot of security um uh security related",
    "start": "625279",
    "end": "631680"
  },
  {
    "text": "functions uh the HTTP send function is a function which you can use to call external systems uh in a Rego policy we",
    "start": "631680",
    "end": "639560"
  },
  {
    "text": "usually recommend that people try and bring the data to Opa to make um uh to make the policy evaluation faster but if",
    "start": "639560",
    "end": "646360"
  },
  {
    "text": "you must call an external system as part of your policy evaluation we've made a change to this function which now allows",
    "start": "646360",
    "end": "651959"
  },
  {
    "text": "you to exponentially back off while using it um the numbers range step function um is useful for generating r",
    "start": "651959",
    "end": "659000"
  },
  {
    "text": "ranges of numbers with particular increments this is useful to sometimes iterate over um a collection of",
    "start": "659000",
    "end": "665760"
  },
  {
    "text": "different cases or iterate through different data structures I won't go into all the",
    "start": "665760",
    "end": "671240"
  },
  {
    "text": "details on all of them but um we also have crypto hmac equal which is for",
    "start": "671240",
    "end": "676519"
  },
  {
    "text": "securely comparing hashes and Json verify schema and match schema uh which",
    "start": "676519",
    "end": "682240"
  },
  {
    "text": "are the two which they they're older than the last six months but I thought I would remind the North American audience",
    "start": "682240",
    "end": "688639"
  },
  {
    "text": "of the as well while we're here which are useful for doing runtime doing Json scheme of validation at",
    "start": "688639",
    "end": "696000"
  },
  {
    "text": "runtime so um again this was going to be a little demo but hopefully you can spot it uh",
    "start": "696000",
    "end": "704399"
  },
  {
    "text": "the idea here is I don't know if anybody can spot their mistake in this policy uh the input is on the right the input",
    "start": "704399",
    "end": "710320"
  },
  {
    "text": "that's been provided to the policy and uh on the left is the policy that's defined at the moment allow will be set",
    "start": "710320",
    "end": "719440"
  },
  {
    "text": "we maybe we find that allow is true when we were expecting it to be false we're providing an example email I don't know",
    "start": "719440",
    "end": "726079"
  },
  {
    "text": "if anybody can spot the mistake in the policy had a hand over here",
    "start": "726079",
    "end": "732000"
  },
  {
    "text": "cont yeah that's exactly right so um it's some data that looks mostly correct",
    "start": "732000",
    "end": "737760"
  },
  {
    "text": "but actually um because the data that's been provided isn't in the expected format in this case we would allow a",
    "start": "737760",
    "end": "744079"
  },
  {
    "text": "request through um that that we didn't expect to um you can I won't click the",
    "start": "744079",
    "end": "749800"
  },
  {
    "text": "link because I can't see the screen but um and to to show you correctly but there the Json match schema function is",
    "start": "749800",
    "end": "757120"
  },
  {
    "text": "a good way to make sure that the data that you're operating on in one of your rules is actually as you",
    "start": "757120",
    "end": "765320"
  },
  {
    "text": "expect so uh a few other features that are in the OPA that we've added to the OPA server we've added support for open",
    "start": "765320",
    "end": "772639"
  },
  {
    "text": "to open Telemetry trace and span IDs in in decision logs so U decision log are",
    "start": "772639",
    "end": "779360"
  },
  {
    "text": "what we call I suppose our audit audit logging of policy evaluations as policy evaluations are happening you can",
    "start": "779360",
    "end": "786360"
  },
  {
    "text": "collect uh decision logs and send them to an additional external service U we",
    "start": "786360",
    "end": "792279"
  },
  {
    "text": "support open Telemetry trace and span IDs if that's something that you're using uh we also now support the the",
    "start": "792279",
    "end": "799160"
  },
  {
    "text": "setting of a decision ID in the OPA SDK that's the OPA go SDK which is the recommended way to use Opa within a go",
    "start": "799160",
    "end": "806360"
  },
  {
    "text": "Application uh and it's also possible to to drop certain decision logs based on a",
    "start": "806360",
    "end": "812279"
  },
  {
    "text": "Rego policy as you may have expected op test now supports watching",
    "start": "812279",
    "end": "817920"
  },
  {
    "text": "for changes in files so if you're editing files uh editing tests Opa can op test can now automatically rerun your",
    "start": "817920",
    "end": "824600"
  },
  {
    "text": "test as you're working on them this is great for um developer workflow and we also support the schema flag uh which is",
    "start": "824600",
    "end": "832240"
  },
  {
    "text": "something that's been available in Opa run for some time but it's now in op test as",
    "start": "832240",
    "end": "837279"
  },
  {
    "text": "well we've added uh or improved the output from op from",
    "start": "837279",
    "end": "843079"
  },
  {
    "text": "the profiler uh to show generated Expressions sometimes rules can generate",
    "start": "843079",
    "end": "848759"
  },
  {
    "text": "uh more expressions or or be working under the hood in ways that people don't expect so this is useful for uh",
    "start": "848759",
    "end": "855399"
  },
  {
    "text": "debugging in those cases and we have a new authentication method for the oci",
    "start": "855399",
    "end": "860440"
  },
  {
    "text": "bundle downloader too another shout out to the rootless images This is the End",
    "start": "860440",
    "end": "865600"
  },
  {
    "text": "we've been talking about this for quite some time this is the end of the rootless uh flavor of the images um say goodbye",
    "start": "865600",
    "end": "872519"
  },
  {
    "text": "and please update um so yeah getting to the end of my section now if you're using Opa we'd",
    "start": "872519",
    "end": "880399"
  },
  {
    "text": "really love to hear about it we hear from users all the time um and but it's great to show showcase the users and",
    "start": "880399",
    "end": "888040"
  },
  {
    "text": "what how how they're using Opa Opa is general purpose it's really exciting to to hear about all the different use",
    "start": "888040",
    "end": "894279"
  },
  {
    "text": "cases that people are applying op in so we have this this file in Opa main Opa",
    "start": "894279",
    "end": "900279"
  },
  {
    "text": "repo called adopters if you're using Opa please feel free to open a poll request and myself or one of the others will",
    "start": "900279",
    "end": "907480"
  },
  {
    "text": "review it and we'll get that merged in that would be really great if you're building on Opa if you have a product or",
    "start": "907480",
    "end": "914759"
  },
  {
    "text": "open source project which is based on Opa using Opa in some way or features some Opa integration uh we've been doing",
    "start": "914759",
    "end": "921320"
  },
  {
    "text": "a lot of work on the OPA what we call the OPA ecosystem page on the website recently where we're trying to group",
    "start": "921320",
    "end": "927560"
  },
  {
    "text": "different Integrations BAS B on op together uh so that we can showcase I suppose all of the different use cases",
    "start": "927560",
    "end": "934160"
  },
  {
    "text": "where people have applied op so um yeah go and check that out it's it's been updated in the last couple of months and",
    "start": "934160",
    "end": "941040"
  },
  {
    "text": "if you've got something where you're using it within one of your products or you have a even if it's a side project",
    "start": "941040",
    "end": "946440"
  },
  {
    "text": "please do get in touch we'd love to hear all about it and finally uh at styra where I where",
    "start": "946440",
    "end": "954279"
  },
  {
    "text": "I work we've been working on a linta for Rego uh so I work in developer relations",
    "start": "954279",
    "end": "959920"
  },
  {
    "text": "it's important to us that new users in particular have a have a good experience",
    "start": "959920",
    "end": "965279"
  },
  {
    "text": "when they get started with op and this is one way that we are are trying quite",
    "start": "965279",
    "end": "971000"
  },
  {
    "text": "hard to help users before they even ask for help so um in in the playground we now feature the linter output U so",
    "start": "971000",
    "end": "978199"
  },
  {
    "text": "that's the easiest way to try out the linter but but do if you have regular files in in some of your repos do run um",
    "start": "978199",
    "end": "985920"
  },
  {
    "text": "Regal there as well we've got a GitHub integration out of the box but it's a",
    "start": "985920",
    "end": "991560"
  },
  {
    "text": "relatively simple program to install and to use as well um so yeah um one final update uh",
    "start": "991560",
    "end": "1000240"
  },
  {
    "text": "we're over the next few few months hoping to share uh a document about Opa",
    "start": "1000240",
    "end": "1006199"
  },
  {
    "text": "V1 and the changes that will be coming in Opa V1 um with the community for",
    "start": "1006199",
    "end": "1012440"
  },
  {
    "text": "feedback the the focus of the document will be around changes to adopting modern Rego uh and and what that will",
    "start": "1012440",
    "end": "1019720"
  },
  {
    "text": "mean for existing policies and existing policy authors um please stay tuned to the different op channels if this is",
    "start": "1019720",
    "end": "1026038"
  },
  {
    "text": "something that's important to you um I was hoping to share it but it should be",
    "start": "1026039",
    "end": "1031400"
  },
  {
    "text": "coming quite soon for feedback and and we are targeting a V1 Opa in",
    "start": "1031400",
    "end": "1037079"
  },
  {
    "text": "2024 so yeah um but we're at ccon after all so let's talk about Opa in the",
    "start": "1037079",
    "end": "1042600"
  },
  {
    "text": "context of kubernetes admission control and I'm going to hand over to CAC to cover that section thank",
    "start": "1042600",
    "end": "1049960"
  },
  {
    "text": "you so for those that are not familiar gatekeeper is a customizable communities ad Mission weok uh that helps inforce",
    "start": "1049960",
    "end": "1056760"
  },
  {
    "text": "policies and strengthen governance uh so uh here I'm going to talk briefly about",
    "start": "1056760",
    "end": "1062000"
  },
  {
    "text": "what gatekeeper does and then we're going to talk about what are have been the major updates since last cucon and",
    "start": "1062000",
    "end": "1067400"
  },
  {
    "text": "since last 3.3x uh you might already been using gatekeeper and you might not uh know",
    "start": "1067400",
    "end": "1074160"
  },
  {
    "text": "about it uh we have uh official uh Integrations with m services like Google",
    "start": "1074160",
    "end": "1080000"
  },
  {
    "text": "kubernetes engine or Azure policy for kubernetes and then we have uh other Integrations with some of our uh the",
    "start": "1080000",
    "end": "1086520"
  },
  {
    "text": "other companies and uh if you have a manage service or inte integration that you would like to Future at our website",
    "start": "1086520",
    "end": "1092600"
  },
  {
    "text": "uh we would uh welcome to open a PR and add your service or integration",
    "start": "1092600",
    "end": "1098480"
  },
  {
    "text": "there so let's talk about gatekeeper motivations um if your organization has",
    "start": "1098480",
    "end": "1104240"
  },
  {
    "text": "been operating kubernetes uh you probably have been looking uh for ways to control what end users can do on the",
    "start": "1104240",
    "end": "1110919"
  },
  {
    "text": "cluster uh and then these uh policies may be there for uh governance or legal",
    "start": "1110919",
    "end": "1116919"
  },
  {
    "text": "requirements or it could be for uh best practices or organizational uh",
    "start": "1116919",
    "end": "1123080"
  },
  {
    "text": "conventions uh often the the need for a policy uh comes into play uh after uh",
    "start": "1123080",
    "end": "1129679"
  },
  {
    "text": "the cluster or workloads are in production already and it is very dangerous to uh introduce something that",
    "start": "1129679",
    "end": "1135880"
  },
  {
    "text": "is in a production environment and which can uh bring your workloads down or bring your entire service",
    "start": "1135880",
    "end": "1143480"
  },
  {
    "text": "down so how do we help ensure uh conformance without sacrificing agility",
    "start": "1143480",
    "end": "1148919"
  },
  {
    "text": "and autonomy uh so gatekeeper um sols these",
    "start": "1148919",
    "end": "1154360"
  },
  {
    "text": "in a in a few ways so uh first is a policy as code uh so in gatekeeper",
    "start": "1154360",
    "end": "1159760"
  },
  {
    "text": "policy is defined as as Rego um or or sell in in the future we'll we'll talk",
    "start": "1159760",
    "end": "1164919"
  },
  {
    "text": "about that in a bit later and gatekeeper provides a validating admission webbook uh to uh",
    "start": "1164919",
    "end": "1172200"
  },
  {
    "text": "make sure the uh community's admission requests are denied or or get",
    "start": "1172200",
    "end": "1177799"
  },
  {
    "text": "warned and gatekeeper provides a mutating admission web hook uh so you",
    "start": "1177799",
    "end": "1183120"
  },
  {
    "text": "can uh either defa to uh for security reasons or organizational conventions or",
    "start": "1183120",
    "end": "1189360"
  },
  {
    "text": "however you want and then uh this is coming back to the preview the effects of a policy",
    "start": "1189360",
    "end": "1196039"
  },
  {
    "text": "change so uh gatekeeper provides an audit functionality so you can preview the the effects of the the policies",
    "start": "1196039",
    "end": "1203039"
  },
  {
    "text": "before rolling out uh like in a deny uh mode uh so you can see what would happen",
    "start": "1203039",
    "end": "1210559"
  },
  {
    "text": "if you were to roll roll these policies out and gatekeeper does this recurringly in the",
    "start": "1210559",
    "end": "1217440"
  },
  {
    "text": "background and then gatekeeper uh also provides a CLI uh for shiftless",
    "start": "1217440",
    "end": "1222720"
  },
  {
    "text": "validation and this CLI is what we call Gator um so in in this case",
    "start": "1222720",
    "end": "1228760"
  },
  {
    "text": "you can um validate your uh policies uh in your CI even without the kubernetes",
    "start": "1228760",
    "end": "1235400"
  },
  {
    "text": "API server um gatekeeper provides an",
    "start": "1235400",
    "end": "1240919"
  },
  {
    "text": "external data functionality uh this external data functionality is used for",
    "start": "1240919",
    "end": "1246640"
  },
  {
    "text": "uh communicating with external Services uh an example would be uh is a container",
    "start": "1246640",
    "end": "1252720"
  },
  {
    "text": "uh registry for for example and then you can think of it uh something like a container uh image signing so how do you",
    "start": "1252720",
    "end": "1260720"
  },
  {
    "text": "verify that then every image is",
    "start": "1260720",
    "end": "1265080"
  },
  {
    "text": "signed uh last but not least uh gatekeeper provides a community policy Library uh where you can get started",
    "start": "1265799",
    "end": "1272600"
  },
  {
    "text": "right away with uh with uh policies contributed uh from the community uh",
    "start": "1272600",
    "end": "1278640"
  },
  {
    "text": "these are things like the part security or or or or many",
    "start": "1278640",
    "end": "1283880"
  },
  {
    "text": "more and for the community policy Library uh here are uh our URLs um so",
    "start": "1283880",
    "end": "1291559"
  },
  {
    "text": "you can either find it on our website or in artifact Hub uh and then this is an",
    "start": "1291559",
    "end": "1296679"
  },
  {
    "text": "example of a a policy Library policy uh where this is a mitigation for a cve uh",
    "start": "1296679",
    "end": "1303720"
  },
  {
    "text": "and then you should be able to get started right away using the policy library or if you are interested in",
    "start": "1303720",
    "end": "1310000"
  },
  {
    "text": "modifying in any way or contributing uh please you're also welcome to do",
    "start": "1310000",
    "end": "1316600"
  },
  {
    "text": "so uh let's switch gears to project updates",
    "start": "1317039",
    "end": "1322080"
  },
  {
    "text": "uh so since last cucon we had two releases 3.13 and",
    "start": "1322080",
    "end": "1328039"
  },
  {
    "text": "14 so some of the not notable updates are uh we improved our multi- engine",
    "start": "1329039",
    "end": "1334400"
  },
  {
    "text": "support with experimental validating admission policy uh driver with common expression language uh which is",
    "start": "1334400",
    "end": "1342480"
  },
  {
    "text": "cell we added uh popup uh support for audit uh which eliminates the CD size uh",
    "start": "1342480",
    "end": "1349480"
  },
  {
    "text": "limitation for larger number of limitations um so this and so by default at CD has a 1.5 megabytes uh limit per",
    "start": "1349480",
    "end": "1358559"
  },
  {
    "text": "object in a cubes cluster uh so if you have a cluster that have a larger uh",
    "start": "1358559",
    "end": "1364320"
  },
  {
    "text": "number of violations uh you will hit this limit because you can only store so much in a kuun",
    "start": "1364320",
    "end": "1372039"
  },
  {
    "text": "object um expansion template that validate broke load resources has graduated to Beta and in rload resources",
    "start": "1372039",
    "end": "1379200"
  },
  {
    "text": "are things like uh deployments or stateful",
    "start": "1379200",
    "end": "1384120"
  },
  {
    "text": "sets and we added support for external data provider audit and validating weap",
    "start": "1384559",
    "end": "1391360"
  },
  {
    "text": "cache and uh observability statistics for uh admission uh audit and Gator CLI",
    "start": "1391360",
    "end": "1397480"
  },
  {
    "text": "are now available and last but not least we added support for uh Opa",
    "start": "1397480",
    "end": "1404480"
  },
  {
    "text": "0.571 in our last release so I mentioned um uh multi-engine",
    "start": "1404480",
    "end": "1411520"
  },
  {
    "text": "support uh in as part of notable updates let's dig deeper a little bit on this",
    "start": "1411520",
    "end": "1417640"
  },
  {
    "text": "one uh so as of kues 1.28 uh the validation admission policy uh which is",
    "start": "1417640",
    "end": "1424320"
  },
  {
    "text": "based on cell is is a beta future for kues it is a declarative in process",
    "start": "1424320",
    "end": "1429840"
  },
  {
    "text": "alternative to the validating admission Web Box so uh we're talking about gatekeeper",
    "start": "1429840",
    "end": "1437480"
  },
  {
    "text": "and validating policy admission like when do we use what so validating admission policy which short is Gap WAP",
    "start": "1437480",
    "end": "1446360"
  },
  {
    "text": "uh it's an entry uh Native in process so this is entry for",
    "start": "1446360",
    "end": "1452200"
  },
  {
    "text": "kubernetes uh it reduces the admission request latency because it removes the",
    "start": "1452200",
    "end": "1457360"
  },
  {
    "text": "Hop to to the uh to to the web hook it improves liability and availability",
    "start": "1457360",
    "end": "1463320"
  },
  {
    "text": "because uh of this change because it is in and it is able to to be fail closed",
    "start": "1463320",
    "end": "1469240"
  },
  {
    "text": "without impacting the availability mean this this comes back to the uh removing the Hop because what happens if the the",
    "start": "1469240",
    "end": "1475799"
  },
  {
    "text": "the web service is down and reduces operation uh burdens of webx because you",
    "start": "1475799",
    "end": "1482279"
  },
  {
    "text": "don't have an extra web to worry about uh it uses the common expression language",
    "start": "1482279",
    "end": "1489080"
  },
  {
    "text": "cell and let's talk about gatekeeper so gatekeeper provides an",
    "start": "1489080",
    "end": "1494240"
  },
  {
    "text": "audit functionality we just uh talked about earlier which previews the effect effect of uh the your",
    "start": "1494240",
    "end": "1501399"
  },
  {
    "text": "policies gatekeeper provides a ability to uh use referential policies and you",
    "start": "1501399",
    "end": "1506840"
  },
  {
    "text": "can think of it as uh checking for uniqueness for example unique Ingress",
    "start": "1506840",
    "end": "1512440"
  },
  {
    "text": "names so for objects that already exist in the cluster where you want to compare",
    "start": "1512440",
    "end": "1517760"
  },
  {
    "text": "any policies to uh and we talked about external data",
    "start": "1517760",
    "end": "1523080"
  },
  {
    "text": "functionality for cing external data sources such as container registries",
    "start": "1523080",
    "end": "1529159"
  },
  {
    "text": "uh mutation uh shift left validation with our CLI so you can uh make sure to shift",
    "start": "1529159",
    "end": "1536840"
  },
  {
    "text": "left validation so you can uh uh validate your policies and G keeper provides uh",
    "start": "1536840",
    "end": "1543880"
  },
  {
    "text": "complex rules that cell may not be handled today with with Rago and uh we we also just talked about",
    "start": "1543880",
    "end": "1551559"
  },
  {
    "text": "the community policy library and then uh since uh it's",
    "start": "1551559",
    "end": "1557720"
  },
  {
    "text": "beginning mult uh gatekeeper has been designed with multi-engine and multi um",
    "start": "1557720",
    "end": "1562960"
  },
  {
    "text": "language in in mind uh so it's can support Opa and more or Rego and",
    "start": "1562960",
    "end": "1568559"
  },
  {
    "text": "more so uh we just talked about different things but is there a way to",
    "start": "1568559",
    "end": "1573640"
  },
  {
    "text": "get Best of Both Worlds so um as I mentioned earlier",
    "start": "1573640",
    "end": "1580279"
  },
  {
    "text": "gatekeeper has been designed with multi-engine in mind from the start this is why we created this project called",
    "start": "1580279",
    "end": "1586360"
  },
  {
    "text": "constraint framework which provides an abstraction layer um uh so constraint framework is multi",
    "start": "1586360",
    "end": "1594200"
  },
  {
    "text": "language and multi-target enforcement in languages could be like Rego cell or others in the future and then targets",
    "start": "1594200",
    "end": "1601039"
  },
  {
    "text": "could be kubernetes admission could be terraform or or others and this is what provides the",
    "start": "1601039",
    "end": "1608840"
  },
  {
    "text": "core uh constraint template and constrainted uh functionality for gatekeeper",
    "start": "1608840",
    "end": "1615200"
  },
  {
    "text": "today uh and then recently we add added uh the sell in uh the support for",
    "start": "1615200",
    "end": "1621240"
  },
  {
    "text": "validation admission policy to the constraint framework and then we're continuing to improve on this so",
    "start": "1621240",
    "end": "1627600"
  },
  {
    "text": "together with uh gatekeeper and the gator CLI uh so uh us users can get",
    "start": "1627600",
    "end": "1633799"
  },
  {
    "text": "audit and shift left validation for validating admission policy for free H and then this is available um",
    "start": "1633799",
    "end": "1641200"
  },
  {
    "text": "with an experimental flag uh in gatekeeper 3.14 today and then any feedback is welcome",
    "start": "1641200",
    "end": "1648360"
  },
  {
    "text": "and then there's a flag to enable the support so uh we just talked about all",
    "start": "1648360",
    "end": "1653960"
  },
  {
    "text": "this stuff but let's look at this like graphically and how how this might work right so so if an admission request",
    "start": "1653960",
    "end": "1662600"
  },
  {
    "text": "comes into a kubernetes API server uh say this is like a validating admission policy uh it can go to go to Val",
    "start": "1662600",
    "end": "1669399"
  },
  {
    "text": "validation uh validating admission policy admission controller and then depending on the The Binding and the",
    "start": "1669399",
    "end": "1675559"
  },
  {
    "text": "policy validating admission policy it will be executed or it can go to uh",
    "start": "1675559",
    "end": "1680760"
  },
  {
    "text": "validate ad Mission webook such as gatekeeper and then uh inside gatekeeper",
    "start": "1680760",
    "end": "1687159"
  },
  {
    "text": "gatekeeper will query Opa and then based on the constraint and then the constraint template uh it will be the",
    "start": "1687159",
    "end": "1694559"
  },
  {
    "text": "policy will be executed in the end uh so for future uh we're thinking",
    "start": "1694559",
    "end": "1700240"
  },
  {
    "text": "gatekeeper as front end for kuties policies uh so you still have the constraint templates and in constraints",
    "start": "1700240",
    "end": "1707240"
  },
  {
    "text": "but uh one difference here is the engine so if you uh notice in the engine we",
    "start": "1707240",
    "end": "1712360"
  },
  {
    "text": "have Kat native validation or the the the OPA Rego uh engine so depending on",
    "start": "1712360",
    "end": "1719000"
  },
  {
    "text": "the the engine type in the gate keeper controller will decide uh if it is uh if",
    "start": "1719000",
    "end": "1724360"
  },
  {
    "text": "it's case native validation or or Opa validation and then depending on the the kubernetes version uh it will either",
    "start": "1724360",
    "end": "1731559"
  },
  {
    "text": "create the validating admission policy so it will be executed with the the entry uh um the validating admission",
    "start": "1731559",
    "end": "1739519"
  },
  {
    "text": "policy engine inside kubernetes or if if the kubernetes version is older and does",
    "start": "1739519",
    "end": "1745200"
  },
  {
    "text": "not support relating admission policy it will go through uh gatekeeper and then",
    "start": "1745200",
    "end": "1750600"
  },
  {
    "text": "gatekeeper will uh uh will will execute the validating admission policy in then",
    "start": "1750600",
    "end": "1756039"
  },
  {
    "text": "the cell uh because gatekeeper Imports the community's libraries that can can can can interpret and execute this",
    "start": "1756039",
    "end": "1764679"
  },
  {
    "text": "policy so and this this work similarly for audit so if you have an constrain",
    "start": "1764679",
    "end": "1773080"
  },
  {
    "text": "template with Opa Rego it will use the the Oppa driver and if you have a uh",
    "start": "1773080",
    "end": "1780159"
  },
  {
    "text": "engine case n validation it will use the cas dat validation driver inside",
    "start": "1780159",
    "end": "1786399"
  },
  {
    "text": "gatekeeper so let's look at a um a demo so in this case uh we're going to show a",
    "start": "1786399",
    "end": "1794880"
  },
  {
    "text": "uh quick demo where we use uh Dapper runtime and a pops up broker and in this case we're going to use reddis but",
    "start": "1794880",
    "end": "1801760"
  },
  {
    "text": "Dapper supports many other Brokers so you're not limited to um to to redit so",
    "start": "1801760",
    "end": "1807120"
  },
  {
    "text": "we're going to have two constraint templates so one of them is going to use the KES native validation um and then",
    "start": "1807120",
    "end": "1813919"
  },
  {
    "text": "the other one is going to use the the Rego engine and then we're going to get the uh gatekeeper audit results and uh",
    "start": "1813919",
    "end": "1822159"
  },
  {
    "text": "publish to uh to our pops up program",
    "start": "1822159",
    "end": "1829240"
  },
  {
    "text": "[Music] okay is it is",
    "start": "1831940",
    "end": "1838080"
  },
  {
    "text": "it there the video is let me move so I cannot see it over",
    "start": "1838760",
    "end": "1844159"
  },
  {
    "text": "there all right so um so if you're familiar with a constraint template this",
    "start": "1844159",
    "end": "1849840"
  },
  {
    "text": "look similar but the difference is uh this is this is using the cell Expressions instead of Rego so we're",
    "start": "1849840",
    "end": "1856840"
  },
  {
    "text": "going to to deploy our um uh uh cellbase constraint",
    "start": "1856840",
    "end": "1865480"
  },
  {
    "text": "template and and cellbase con uh just this uh regular constraint and then this",
    "start": "1865880",
    "end": "1871159"
  },
  {
    "text": "is another policy this is this uses Rego so uh so in this demo we're going",
    "start": "1871159",
    "end": "1876720"
  },
  {
    "text": "to see side by side cell and Rego policies uh executed by gatekeeper in an",
    "start": "1876720",
    "end": "1884480"
  },
  {
    "text": "older kubernetes version that does not support well dating admission policy by default so this is I believe this was a",
    "start": "1884480",
    "end": "1891039"
  },
  {
    "text": "kind one 27 cluster um and then this is like how you would get the constraint violations",
    "start": "1891039",
    "end": "1897320"
  },
  {
    "text": "today for a cell policy there are no changes as far as like the user facing",
    "start": "1897320",
    "end": "1903399"
  },
  {
    "text": "uh you you'll still get the audit results and then this is a new future we added uh for uh pops up so you'll be",
    "start": "1903399",
    "end": "1911159"
  },
  {
    "text": "able to uh subscribe to the audit logs and then um and then retrieve them and",
    "start": "1911159",
    "end": "1917519"
  },
  {
    "text": "then in this way you don't get uh limited by the HD object size so you if you have a lot of violations like 10,000",
    "start": "1917519",
    "end": "1925279"
  },
  {
    "text": "violations whatever you'll be able to see all of them uh and then you'll get both cell and and and Rego violations",
    "start": "1925279",
    "end": "1933080"
  },
  {
    "text": "obviously okay I'm going to go back",
    "start": "1933080",
    "end": "1937000"
  },
  {
    "text": "up okay and then final shout out to comest uh which is an Opa project to run",
    "start": "1940240",
    "end": "1945760"
  },
  {
    "text": "Rego um on structured configuration data uh and uh they added support for uh",
    "start": "1945760",
    "end": "1951799"
  },
  {
    "text": "Azure devops in their latest update and then thank you for all all",
    "start": "1951799",
    "end": "1957120"
  },
  {
    "text": "the contributors um and then if you are interested on joining the community uh here are some",
    "start": "1957120",
    "end": "1964159"
  },
  {
    "text": "of the URLs and a uh slack signup uh QR code uh please reach out anytime um",
    "start": "1964159",
    "end": "1972360"
  },
  {
    "text": "connected um and then feedback is is welcome uh so yeah let us know",
    "start": "1972360",
    "end": "1978120"
  },
  {
    "text": "thanks I'm just going to pop over [Applause]",
    "start": "1978120",
    "end": "1985190"
  },
  {
    "text": "to um I think we have a very short amount of time for questions um we are",
    "start": "1985399",
    "end": "1991080"
  },
  {
    "text": "going to be in the project Pavilion or at least I will be from 1 until 2:30",
    "start": "1991080",
    "end": "1996799"
  },
  {
    "text": "when it closes today if you have any burning open questions please uh come by",
    "start": "1996799",
    "end": "2002120"
  },
  {
    "text": "and say hi and ask them then otherwise the slack the OPA slack is the best way",
    "start": "2002120",
    "end": "2007320"
  },
  {
    "text": "to get in touch with us um that's the QR code again if you did miss it we're here",
    "start": "2007320",
    "end": "2013679"
  },
  {
    "text": "at ccon Keen to chat to new people new OP users in in particular and make sure",
    "start": "2013679",
    "end": "2019000"
  },
  {
    "text": "we get them off on the in the right direction so yeah I think um any questions and queries please do come by",
    "start": "2019000",
    "end": "2025480"
  },
  {
    "text": "the kiosk and uh and say hi I'll I'm going to grab my lunch and then I'll be back there at about one o'clock so maybe",
    "start": "2025480",
    "end": "2031760"
  },
  {
    "text": "see you there thanks very much",
    "start": "2031760",
    "end": "2038960"
  }
]