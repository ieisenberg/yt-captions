[
  {
    "text": "hello this is the nuts deep dive 2020.",
    "start": "80",
    "end": "3520"
  },
  {
    "text": "um this is about building decentralized",
    "start": "3520",
    "end": "6720"
  },
  {
    "text": "applications and using nets",
    "start": "6720",
    "end": "8559"
  },
  {
    "text": "my name is valde marquevedo one of the",
    "start": "8559",
    "end": "11040"
  },
  {
    "text": "core maintainers from",
    "start": "11040",
    "end": "12559"
  },
  {
    "text": "next i have been using nuts-based",
    "start": "12559",
    "end": "15440"
  },
  {
    "text": "platforms for a number of years",
    "start": "15440",
    "end": "17279"
  },
  {
    "text": "i also wrote a book uh two years ago",
    "start": "17279",
    "end": "20960"
  },
  {
    "text": "about it's called practical nets",
    "start": "20960",
    "end": "24080"
  },
  {
    "text": "and it covers a lot of the features and",
    "start": "24080",
    "end": "26560"
  },
  {
    "text": "the api from",
    "start": "26560",
    "end": "27599"
  },
  {
    "text": "nasa v1 especially we're currently at",
    "start": "27599",
    "end": "30800"
  },
  {
    "text": "nats version 2",
    "start": "30800",
    "end": "32238"
  },
  {
    "text": "and also working at cynidia building and",
    "start": "32239",
    "end": "34880"
  },
  {
    "text": "that's a global",
    "start": "34880",
    "end": "36000"
  },
  {
    "text": "service you can find it on twitter at",
    "start": "36000",
    "end": "38640"
  },
  {
    "text": "wally qs",
    "start": "38640",
    "end": "40399"
  },
  {
    "text": "so in this talk i wanted to give a",
    "start": "40399",
    "end": "44399"
  },
  {
    "text": "kind of a deep dive and internals from a",
    "start": "44399",
    "end": "46800"
  },
  {
    "text": "chat application",
    "start": "46800",
    "end": "47920"
  },
  {
    "text": "that is using some of the security",
    "start": "47920",
    "end": "50399"
  },
  {
    "text": "features from nets to build a",
    "start": "50399",
    "end": "53440"
  },
  {
    "text": "decentralized chat application that",
    "start": "53440",
    "end": "57600"
  },
  {
    "text": "new users can kind of join in and then",
    "start": "57600",
    "end": "60160"
  },
  {
    "text": "have their present secure credentials be",
    "start": "60160",
    "end": "61920"
  },
  {
    "text": "provisioned",
    "start": "61920",
    "end": "62800"
  },
  {
    "text": "uh on the fly all this repo all this",
    "start": "62800",
    "end": "65280"
  },
  {
    "text": "code you can find it at the repo",
    "start": "65280",
    "end": "67119"
  },
  {
    "text": "uh the yqs cubecon 2020 uh so you can't",
    "start": "67119",
    "end": "70799"
  },
  {
    "text": "use that um",
    "start": "70799",
    "end": "72000"
  },
  {
    "text": "try use the examples on your own as well",
    "start": "72000",
    "end": "76560"
  },
  {
    "text": "this is how the chat uh will look like",
    "start": "77759",
    "end": "81040"
  },
  {
    "text": "uh with the basic kind of like a slack",
    "start": "81040",
    "end": "83360"
  },
  {
    "text": "light",
    "start": "83360",
    "end": "84960"
  },
  {
    "text": "you can see that there are a number of",
    "start": "84960",
    "end": "86240"
  },
  {
    "text": "channels uh you can send uh direct",
    "start": "86240",
    "end": "89040"
  },
  {
    "text": "messages",
    "start": "89040",
    "end": "90079"
  },
  {
    "text": "and uh there's a small notification",
    "start": "90079",
    "end": "94240"
  },
  {
    "text": "uh circle that",
    "start": "94240",
    "end": "97280"
  },
  {
    "text": "gets filled in whenever you have a that",
    "start": "97840",
    "end": "100720"
  },
  {
    "text": "direct message to you",
    "start": "100720",
    "end": "102880"
  },
  {
    "text": "so one quick recap about nets uh strings",
    "start": "102880",
    "end": "106720"
  },
  {
    "text": "and",
    "start": "106720",
    "end": "107040"
  },
  {
    "text": "uh and services so nets is a",
    "start": "107040",
    "end": "110720"
  },
  {
    "text": "publisher skype pure published scribe",
    "start": "110720",
    "end": "112479"
  },
  {
    "text": "system so everything is a pops up",
    "start": "112479",
    "end": "114640"
  },
  {
    "text": "and the protocol itself has not changed",
    "start": "114640",
    "end": "117360"
  },
  {
    "text": "uh",
    "start": "117360",
    "end": "118159"
  },
  {
    "text": "pretty much has not changed in in a",
    "start": "118159",
    "end": "120399"
  },
  {
    "text": "decade since uh",
    "start": "120399",
    "end": "121759"
  },
  {
    "text": "when the project started uh but",
    "start": "121759",
    "end": "124320"
  },
  {
    "text": "published subscribe are more like",
    "start": "124320",
    "end": "125759"
  },
  {
    "text": "uh terms of the api level so when we're",
    "start": "125759",
    "end": "128479"
  },
  {
    "text": "talking about building applications",
    "start": "128479",
    "end": "130720"
  },
  {
    "text": "we really want to uh",
    "start": "130720",
    "end": "134239"
  },
  {
    "text": "talk about that how we're using a stream",
    "start": "134239",
    "end": "137040"
  },
  {
    "text": "of events",
    "start": "137040",
    "end": "137920"
  },
  {
    "text": "or how we're using a service and",
    "start": "137920",
    "end": "140800"
  },
  {
    "text": "throughout this talk we're gonna be",
    "start": "140800",
    "end": "142640"
  },
  {
    "text": "um being very explicit in what is",
    "start": "142640",
    "end": "145920"
  },
  {
    "text": "a stream in in terms of this application",
    "start": "145920",
    "end": "148480"
  },
  {
    "text": "and what is a service",
    "start": "148480",
    "end": "150080"
  },
  {
    "text": "a stream uh you could say it's like a a",
    "start": "150080",
    "end": "152560"
  },
  {
    "text": "flow or just a sequence",
    "start": "152560",
    "end": "154239"
  },
  {
    "text": "uh sequence of events that can be found",
    "start": "154239",
    "end": "157200"
  },
  {
    "text": "out to a multiple of consumers",
    "start": "157200",
    "end": "159440"
  },
  {
    "text": "a service is on the other hand something",
    "start": "159440",
    "end": "162080"
  },
  {
    "text": "that",
    "start": "162080",
    "end": "163200"
  },
  {
    "text": "can take a message and also uh respond",
    "start": "163200",
    "end": "166400"
  },
  {
    "text": "to that message",
    "start": "166400",
    "end": "167680"
  },
  {
    "text": "using the q subscribes api from nets",
    "start": "167680",
    "end": "169920"
  },
  {
    "text": "they become load balanced",
    "start": "169920",
    "end": "171840"
  },
  {
    "text": "uh for free you know how that's why you",
    "start": "171840",
    "end": "173680"
  },
  {
    "text": "don't need extra load balancers",
    "start": "173680",
    "end": "175280"
  },
  {
    "text": "when using nets but the idea is that",
    "start": "175280",
    "end": "178080"
  },
  {
    "text": "with services uh",
    "start": "178080",
    "end": "179519"
  },
  {
    "text": "they take requests and they're able to",
    "start": "179519",
    "end": "181519"
  },
  {
    "text": "have responses",
    "start": "181519",
    "end": "185840"
  },
  {
    "text": "when a very basics",
    "start": "189519",
    "end": "192640"
  },
  {
    "text": "uh",
    "start": "192640",
    "end": "194879"
  },
  {
    "text": "i theme well using next how do you want",
    "start": "197280",
    "end": "199680"
  },
  {
    "text": "to define your subjects such subjects",
    "start": "199680",
    "end": "201920"
  },
  {
    "text": "are",
    "start": "201920",
    "end": "202720"
  },
  {
    "text": "um the strings that will be useful",
    "start": "202720",
    "end": "207040"
  },
  {
    "text": "for creating the subscriptions uh you",
    "start": "207040",
    "end": "209200"
  },
  {
    "text": "can have a",
    "start": "209200",
    "end": "210879"
  },
  {
    "text": "wildcard subscriptions and in this case",
    "start": "210879",
    "end": "212879"
  },
  {
    "text": "the asterisk will match everything that",
    "start": "212879",
    "end": "214879"
  },
  {
    "text": "is on that",
    "start": "214879",
    "end": "215920"
  },
  {
    "text": "at the bar level of the bus level and",
    "start": "215920",
    "end": "219519"
  },
  {
    "text": "you can't this can be in between from a",
    "start": "219519",
    "end": "222239"
  },
  {
    "text": "full subject",
    "start": "222239",
    "end": "223840"
  },
  {
    "text": "and also you can have a the greater than",
    "start": "223840",
    "end": "226319"
  },
  {
    "text": "full wildcard that is going to match",
    "start": "226319",
    "end": "228239"
  },
  {
    "text": "everything uh on the subject uh all of",
    "start": "228239",
    "end": "231519"
  },
  {
    "text": "these",
    "start": "231519",
    "end": "232000"
  },
  {
    "text": "uh subjects and walkers are used as",
    "start": "232000",
    "end": "234799"
  },
  {
    "text": "internally and nets clients to create uh",
    "start": "234799",
    "end": "236720"
  },
  {
    "text": "inboxes",
    "start": "236720",
    "end": "237519"
  },
  {
    "text": "uh unique inboxes as well which is how",
    "start": "237519",
    "end": "239760"
  },
  {
    "text": "the requests",
    "start": "239760",
    "end": "241840"
  },
  {
    "text": "work so",
    "start": "241840",
    "end": "245120"
  },
  {
    "text": "streams and services they both use",
    "start": "245120",
    "end": "246879"
  },
  {
    "text": "subjects um",
    "start": "246879",
    "end": "248879"
  },
  {
    "text": "in this in this example on the left",
    "start": "248879",
    "end": "251439"
  },
  {
    "text": "we're using the accounts isolation so we",
    "start": "251439",
    "end": "253599"
  },
  {
    "text": "have a couple of accounts",
    "start": "253599",
    "end": "255200"
  },
  {
    "text": "that it one is exporting a stream",
    "start": "255200",
    "end": "258320"
  },
  {
    "text": "from the acme account to the cncf",
    "start": "258320",
    "end": "260720"
  },
  {
    "text": "account",
    "start": "260720",
    "end": "261840"
  },
  {
    "text": "uh you can see here that is is importing",
    "start": "261840",
    "end": "264560"
  },
  {
    "text": "from the acme account this",
    "start": "264560",
    "end": "266000"
  },
  {
    "text": "subject matching anything on this",
    "start": "266000",
    "end": "267759"
  },
  {
    "text": "wildcard",
    "start": "267759",
    "end": "269040"
  },
  {
    "text": "uh when we're talking about the streams",
    "start": "269040",
    "end": "270560"
  },
  {
    "text": "the apis that",
    "start": "270560",
    "end": "272080"
  },
  {
    "text": "we are going to be using are uh publish",
    "start": "272080",
    "end": "274960"
  },
  {
    "text": "and subscribe",
    "start": "274960",
    "end": "275759"
  },
  {
    "text": "mainly so here the exporter of the",
    "start": "275759",
    "end": "278960"
  },
  {
    "text": "survey or this other stream",
    "start": "278960",
    "end": "280800"
  },
  {
    "text": "and it's gonna be producing events",
    "start": "280800",
    "end": "282720"
  },
  {
    "text": "publishing on the acme dot hello",
    "start": "282720",
    "end": "285040"
  },
  {
    "text": "and then they're from the other account",
    "start": "285040",
    "end": "286639"
  },
  {
    "text": "we're gonna be importing",
    "start": "286639",
    "end": "288880"
  },
  {
    "text": "into this uh prefix import. um prefix",
    "start": "288880",
    "end": "292639"
  },
  {
    "text": "uh any event that has been published by",
    "start": "292639",
    "end": "296080"
  },
  {
    "text": "this other account",
    "start": "296080",
    "end": "297680"
  },
  {
    "text": "so that's an example of isolated streams",
    "start": "297680",
    "end": "301199"
  },
  {
    "text": "between uh different accounts uh with",
    "start": "301199",
    "end": "303039"
  },
  {
    "text": "that v2 it's",
    "start": "303039",
    "end": "304400"
  },
  {
    "text": "uh very useful that you can't i just",
    "start": "304400",
    "end": "307280"
  },
  {
    "text": "have these subject name spaces",
    "start": "307280",
    "end": "311759"
  },
  {
    "text": "for for the streams",
    "start": "311759",
    "end": "315120"
  },
  {
    "text": "and data sharing and besides streams we",
    "start": "315120",
    "end": "318639"
  },
  {
    "text": "also have the",
    "start": "318639",
    "end": "319759"
  },
  {
    "text": "the services and the services at the",
    "start": "319759",
    "end": "322800"
  },
  {
    "text": "nets api label we're talking about both",
    "start": "322800",
    "end": "325680"
  },
  {
    "text": "using that subscribe",
    "start": "325680",
    "end": "326800"
  },
  {
    "text": "something that's going to handle a",
    "start": "326800",
    "end": "327840"
  },
  {
    "text": "message uh",
    "start": "327840",
    "end": "329230"
  },
  {
    "text": "[Music]",
    "start": "329230",
    "end": "330639"
  },
  {
    "text": "recommended to use a q subscription so",
    "start": "330639",
    "end": "332639"
  },
  {
    "text": "that they become load balance uh",
    "start": "332639",
    "end": "334560"
  },
  {
    "text": "out of the box and",
    "start": "334560",
    "end": "337600"
  },
  {
    "text": "it's gonna respond or publish into the",
    "start": "337600",
    "end": "339840"
  },
  {
    "text": "subs uh",
    "start": "339840",
    "end": "340720"
  },
  {
    "text": "inbox for this particular message so in",
    "start": "340720",
    "end": "342960"
  },
  {
    "text": "this case",
    "start": "342960",
    "end": "343759"
  },
  {
    "text": "the acme account is exposing a service",
    "start": "343759",
    "end": "347120"
  },
  {
    "text": "name hello",
    "start": "347120",
    "end": "348639"
  },
  {
    "text": "uh to this uh cncf account that is going",
    "start": "348639",
    "end": "352240"
  },
  {
    "text": "to be",
    "start": "352240",
    "end": "352639"
  },
  {
    "text": "available within this subject namespace",
    "start": "352639",
    "end": "355199"
  },
  {
    "text": "under cncf.hello",
    "start": "355199",
    "end": "356800"
  },
  {
    "text": "then this client can make a request to",
    "start": "356800",
    "end": "358520"
  },
  {
    "text": "cncf.hello",
    "start": "358520",
    "end": "360240"
  },
  {
    "text": "and expect a response so just basics",
    "start": "360240",
    "end": "365600"
  },
  {
    "text": "course subjects of uh using nets",
    "start": "365600",
    "end": "370639"
  },
  {
    "text": "so we're talking about the streams and",
    "start": "370639",
    "end": "373120"
  },
  {
    "text": "building this",
    "start": "373120",
    "end": "374160"
  },
  {
    "text": "chat application basically anything that",
    "start": "374160",
    "end": "377520"
  },
  {
    "text": "is",
    "start": "377520",
    "end": "378639"
  },
  {
    "text": "part of the ui uh of this la",
    "start": "378639",
    "end": "381680"
  },
  {
    "text": "uh the nuts chat client",
    "start": "381680",
    "end": "386000"
  },
  {
    "text": "um it is going to be a stream so in this",
    "start": "386000",
    "end": "388400"
  },
  {
    "text": "case all the channels",
    "start": "388400",
    "end": "390080"
  },
  {
    "text": "uh that are part of the the chat",
    "start": "390080",
    "end": "392560"
  },
  {
    "text": "application",
    "start": "392560",
    "end": "393199"
  },
  {
    "text": "are part of a wildcard subscription",
    "start": "393199",
    "end": "396240"
  },
  {
    "text": "called in this case chat.kubecon",
    "start": "396240",
    "end": "398560"
  },
  {
    "text": "posts so in this case the answer is",
    "start": "398560",
    "end": "401520"
  },
  {
    "text": "gonna match",
    "start": "401520",
    "end": "402160"
  },
  {
    "text": "to the room in this case for it could be",
    "start": "402160",
    "end": "404319"
  },
  {
    "text": "kubecon that's uh general",
    "start": "404319",
    "end": "406720"
  },
  {
    "text": "we'll also have support for direct",
    "start": "406720",
    "end": "408960"
  },
  {
    "text": "messages",
    "start": "408960",
    "end": "409919"
  },
  {
    "text": "the direct messages is also a wild card",
    "start": "409919",
    "end": "412639"
  },
  {
    "text": "uh from",
    "start": "412639",
    "end": "413360"
  },
  {
    "text": "any from from the subject and also the",
    "start": "413360",
    "end": "416960"
  },
  {
    "text": "three",
    "start": "416960",
    "end": "417520"
  },
  {
    "text": "of uh the list of users that are",
    "start": "417520",
    "end": "420240"
  },
  {
    "text": "available",
    "start": "420240",
    "end": "420880"
  },
  {
    "text": "they're going to be represented as",
    "start": "420880",
    "end": "422400"
  },
  {
    "text": "heartbeats that are critically sent",
    "start": "422400",
    "end": "424720"
  },
  {
    "text": "to this chat dot coupon online",
    "start": "424720",
    "end": "427759"
  },
  {
    "text": "stream so all of these are streams uh",
    "start": "427759",
    "end": "430960"
  },
  {
    "text": "when we're actually using the",
    "start": "430960",
    "end": "432560"
  },
  {
    "text": "application",
    "start": "432560",
    "end": "434160"
  },
  {
    "text": "when services come into the picture is",
    "start": "434160",
    "end": "437199"
  },
  {
    "text": "when you need to make a a new user you",
    "start": "437199",
    "end": "440720"
  },
  {
    "text": "need to make a new",
    "start": "440720",
    "end": "442080"
  },
  {
    "text": "user request uh through nets to another",
    "start": "442080",
    "end": "445120"
  },
  {
    "text": "uh service that is available from within",
    "start": "445120",
    "end": "447840"
  },
  {
    "text": "nets",
    "start": "447840",
    "end": "448479"
  },
  {
    "text": "that you can you can send in a request",
    "start": "448479",
    "end": "450639"
  },
  {
    "text": "to get a new pair of credentials",
    "start": "450639",
    "end": "453599"
  },
  {
    "text": "to be able to get uh into the be part of",
    "start": "453599",
    "end": "456800"
  },
  {
    "text": "the",
    "start": "456800",
    "end": "457680"
  },
  {
    "text": "this uh nuts",
    "start": "457680",
    "end": "460880"
  },
  {
    "text": "chat system",
    "start": "460880",
    "end": "464639"
  },
  {
    "text": "so you have three streams and one",
    "start": "464639",
    "end": "467520"
  },
  {
    "text": "service",
    "start": "467520",
    "end": "468000"
  },
  {
    "text": "for this and there is no single",
    "start": "468000",
    "end": "471199"
  },
  {
    "text": "central uh chat server on anything",
    "start": "471199",
    "end": "473440"
  },
  {
    "text": "everything is on there",
    "start": "473440",
    "end": "475039"
  },
  {
    "text": "uh part of the client logic",
    "start": "475039",
    "end": "478319"
  },
  {
    "text": "so you have a three",
    "start": "478319",
    "end": "481919"
  },
  {
    "text": "different types of users that we will",
    "start": "481919",
    "end": "483919"
  },
  {
    "text": "need to create because we want to",
    "start": "483919",
    "end": "486000"
  },
  {
    "text": "have the proper permissioning and data",
    "start": "486000",
    "end": "488479"
  },
  {
    "text": "sharing",
    "start": "488479",
    "end": "489440"
  },
  {
    "text": "between the users there you can only",
    "start": "489440",
    "end": "492000"
  },
  {
    "text": "read your own vms but you can also you",
    "start": "492000",
    "end": "493759"
  },
  {
    "text": "can send to anyone on any channel within",
    "start": "493759",
    "end": "496000"
  },
  {
    "text": "the chat application and you also need",
    "start": "496000",
    "end": "499360"
  },
  {
    "text": "to be able to request",
    "start": "499360",
    "end": "500479"
  },
  {
    "text": "for uh users right so",
    "start": "500479",
    "end": "503919"
  },
  {
    "text": "uh requesting for a user is going to be",
    "start": "503919",
    "end": "506639"
  },
  {
    "text": "a",
    "start": "506639",
    "end": "507120"
  },
  {
    "text": "simple nuts request on a subject named",
    "start": "507120",
    "end": "509840"
  },
  {
    "text": "chat.rec",
    "start": "509840",
    "end": "510800"
  },
  {
    "text": "access with where the payload is going",
    "start": "510800",
    "end": "513039"
  },
  {
    "text": "to be the username that you want",
    "start": "513039",
    "end": "515039"
  },
  {
    "text": "we'll have another uh service next",
    "start": "515039",
    "end": "517518"
  },
  {
    "text": "client that is going to be receiving",
    "start": "517519",
    "end": "519279"
  },
  {
    "text": "those",
    "start": "519279",
    "end": "520000"
  },
  {
    "text": "requests so this is the uh",
    "start": "520000",
    "end": "523518"
  },
  {
    "text": "the responder that will have its own",
    "start": "523519",
    "end": "527360"
  },
  {
    "text": "user to be able to",
    "start": "527360",
    "end": "528720"
  },
  {
    "text": "reply back and we also have uh the",
    "start": "528720",
    "end": "531839"
  },
  {
    "text": "dynamically generated users",
    "start": "531839",
    "end": "535839"
  },
  {
    "text": "to create all the accounts and users",
    "start": "539680",
    "end": "541760"
  },
  {
    "text": "will be using",
    "start": "541760",
    "end": "543200"
  },
  {
    "text": "nsc now nsc is the tool that you can use",
    "start": "543200",
    "end": "546880"
  },
  {
    "text": "to",
    "start": "546880",
    "end": "549440"
  },
  {
    "text": "manage users when uh",
    "start": "549440",
    "end": "552720"
  },
  {
    "text": "on the jwts uh from a net system",
    "start": "552720",
    "end": "556160"
  },
  {
    "text": "on whether it's using when it's uh",
    "start": "556160",
    "end": "559680"
  },
  {
    "text": "running in trusted operator mode so in",
    "start": "559680",
    "end": "561920"
  },
  {
    "text": "this script",
    "start": "561920",
    "end": "562800"
  },
  {
    "text": "if you can uh it's just ns",
    "start": "562800",
    "end": "565920"
  },
  {
    "text": "nsc being initialized to create a new",
    "start": "565920",
    "end": "568480"
  },
  {
    "text": "operator",
    "start": "568480",
    "end": "569600"
  },
  {
    "text": "jwt that is going to be used for adding",
    "start": "569600",
    "end": "573519"
  },
  {
    "text": "new accounts and users in this case",
    "start": "573519",
    "end": "576000"
  },
  {
    "text": "we'll start",
    "start": "576000",
    "end": "576720"
  },
  {
    "text": "i will create a special account named",
    "start": "576720",
    "end": "578320"
  },
  {
    "text": "kubecon so it's going to be nsc ad",
    "start": "578320",
    "end": "580800"
  },
  {
    "text": "account",
    "start": "580800",
    "end": "581440"
  },
  {
    "text": "uh with the cubecon with namecubecom",
    "start": "581440",
    "end": "584880"
  },
  {
    "text": "and everything that is part of this chat",
    "start": "584880",
    "end": "587120"
  },
  {
    "text": "application is going to be",
    "start": "587120",
    "end": "588720"
  },
  {
    "text": "under this account",
    "start": "588720",
    "end": "591839"
  },
  {
    "text": "so we generate the account for",
    "start": "593519",
    "end": "596800"
  },
  {
    "text": "kubecon and because we want to",
    "start": "596800",
    "end": "600720"
  },
  {
    "text": "create a new users by this other service",
    "start": "600720",
    "end": "604079"
  },
  {
    "text": "within nets",
    "start": "604079",
    "end": "604959"
  },
  {
    "text": "we will create a signing key something",
    "start": "604959",
    "end": "608399"
  },
  {
    "text": "called",
    "start": "608399",
    "end": "608880"
  },
  {
    "text": "is called the signing key assigning is a",
    "start": "608880",
    "end": "611200"
  },
  {
    "text": "special",
    "start": "611200",
    "end": "612079"
  },
  {
    "text": "uh type of well it's another extra key",
    "start": "612079",
    "end": "615120"
  },
  {
    "text": "that can be used uh within this account",
    "start": "615120",
    "end": "618959"
  },
  {
    "text": "for",
    "start": "618959",
    "end": "621200"
  },
  {
    "text": "[Music]",
    "start": "621310",
    "end": "622560"
  },
  {
    "text": "creating well for signing uh users",
    "start": "622560",
    "end": "626160"
  },
  {
    "text": "for current users so nsc and we edit the",
    "start": "626160",
    "end": "629279"
  },
  {
    "text": "account jwt to be able to have a new",
    "start": "629279",
    "end": "632000"
  },
  {
    "text": "signing key",
    "start": "632000",
    "end": "634720"
  },
  {
    "text": "and now if we inspect the jwt",
    "start": "635040",
    "end": "638079"
  },
  {
    "text": "uh from the kubecon account we'll see",
    "start": "638079",
    "end": "641440"
  },
  {
    "text": "that",
    "start": "641440",
    "end": "642000"
  },
  {
    "text": "now we have this public key",
    "start": "642000",
    "end": "645360"
  },
  {
    "text": "as part of the jwt from the account",
    "start": "645360",
    "end": "650160"
  },
  {
    "text": "we'll use this nsc",
    "start": "650160",
    "end": "654160"
  },
  {
    "text": "uh again to generate the configuration",
    "start": "654160",
    "end": "658000"
  },
  {
    "text": "for the net server so this is gonna",
    "start": "658000",
    "end": "659839"
  },
  {
    "text": "create a",
    "start": "659839",
    "end": "661120"
  },
  {
    "text": "memory resolver set up uh that it's",
    "start": "661120",
    "end": "663760"
  },
  {
    "text": "gonna",
    "start": "663760",
    "end": "664720"
  },
  {
    "text": "contain the all the accounts",
    "start": "664720",
    "end": "667760"
  },
  {
    "text": "that are part of the current cluster you",
    "start": "667760",
    "end": "671040"
  },
  {
    "text": "you can also this is a static version of",
    "start": "671040",
    "end": "674480"
  },
  {
    "text": "the",
    "start": "674480",
    "end": "675120"
  },
  {
    "text": "accounts but you can also you also have",
    "start": "675120",
    "end": "677120"
  },
  {
    "text": "the alternative of",
    "start": "677120",
    "end": "679040"
  },
  {
    "text": "making this uh url resolver so that you",
    "start": "679040",
    "end": "682000"
  },
  {
    "text": "can have a",
    "start": "682000",
    "end": "683040"
  },
  {
    "text": "nuts account server be",
    "start": "683040",
    "end": "686160"
  },
  {
    "text": "enabled the one that hosts all these",
    "start": "686160",
    "end": "688000"
  },
  {
    "text": "accounts uh these",
    "start": "688000",
    "end": "689519"
  },
  {
    "text": "uh and serve them through http in this",
    "start": "689519",
    "end": "692000"
  },
  {
    "text": "case it's uh simple enough to just",
    "start": "692000",
    "end": "694240"
  },
  {
    "text": "use the memory resolver so just",
    "start": "694240",
    "end": "696720"
  },
  {
    "text": "degenerated",
    "start": "696720",
    "end": "698240"
  },
  {
    "text": "nuts configuration and start the",
    "start": "698240",
    "end": "702880"
  },
  {
    "text": "the server using that setup",
    "start": "702880",
    "end": "706240"
  },
  {
    "text": "and we'll create a user for",
    "start": "710000",
    "end": "714480"
  },
  {
    "text": "the uh",
    "start": "714839",
    "end": "717680"
  },
  {
    "text": "credentials provisioner in this case",
    "start": "717680",
    "end": "720720"
  },
  {
    "text": "called the uh",
    "start": "720720",
    "end": "721440"
  },
  {
    "text": "chat access using the signing key",
    "start": "721440",
    "end": "725600"
  },
  {
    "text": "then that we created uh previously so in",
    "start": "725600",
    "end": "728000"
  },
  {
    "text": "this case",
    "start": "728000",
    "end": "728639"
  },
  {
    "text": "it's gonna be adding uh nc nsc add user",
    "start": "728639",
    "end": "732399"
  },
  {
    "text": "all of this happening within the",
    "start": "732399",
    "end": "734480"
  },
  {
    "text": "kubecon account and then we're gonna run",
    "start": "734480",
    "end": "738639"
  },
  {
    "text": "the provisioner that is going to be",
    "start": "738639",
    "end": "740880"
  },
  {
    "text": "using the",
    "start": "740880",
    "end": "741760"
  },
  {
    "text": "kubecon account jwt",
    "start": "741760",
    "end": "745360"
  },
  {
    "text": "then the signing key to create users",
    "start": "745360",
    "end": "748720"
  },
  {
    "text": "and then its own credentials to be able",
    "start": "748720",
    "end": "751519"
  },
  {
    "text": "to connect to nets",
    "start": "751519",
    "end": "759360"
  },
  {
    "text": "in terms of the code you we can see that",
    "start": "759360",
    "end": "762320"
  },
  {
    "text": "it is using the",
    "start": "762320",
    "end": "765040"
  },
  {
    "text": "the jwt",
    "start": "765040",
    "end": "768079"
  },
  {
    "text": "signing keys keeper that it gets to",
    "start": "768079",
    "end": "772160"
  },
  {
    "text": "create on the fly and other credentials",
    "start": "772160",
    "end": "776079"
  },
  {
    "text": "for each one of the users and we have",
    "start": "776079",
    "end": "778720"
  },
  {
    "text": "seen that it is constraining the",
    "start": "778720",
    "end": "780240"
  },
  {
    "text": "permissions",
    "start": "780240",
    "end": "781519"
  },
  {
    "text": "for each one of the users on which",
    "start": "781519",
    "end": "784720"
  },
  {
    "text": "subjects they can publish",
    "start": "784720",
    "end": "786079"
  },
  {
    "text": "and they can subscribe uh all of this",
    "start": "786079",
    "end": "788399"
  },
  {
    "text": "using the nats io",
    "start": "788399",
    "end": "790399"
  },
  {
    "text": "uh jwt library that is on the",
    "start": "790399",
    "end": "793360"
  },
  {
    "text": "organization",
    "start": "793360",
    "end": "795120"
  },
  {
    "text": "and it is going to create uh an n keys",
    "start": "795120",
    "end": "798160"
  },
  {
    "text": "uh user we and then",
    "start": "798160",
    "end": "802399"
  },
  {
    "text": "add the public key to as part of",
    "start": "802399",
    "end": "805760"
  },
  {
    "text": "that jw team and that is going to be the",
    "start": "805760",
    "end": "808240"
  },
  {
    "text": "response",
    "start": "808240",
    "end": "808959"
  },
  {
    "text": "from the provisioner",
    "start": "808959",
    "end": "812000"
  },
  {
    "text": "so in terms of the next client code it",
    "start": "813200",
    "end": "815440"
  },
  {
    "text": "this is going to be",
    "start": "815440",
    "end": "816880"
  },
  {
    "text": "represented by a q subscription so you",
    "start": "816880",
    "end": "818880"
  },
  {
    "text": "can have multiple of these and all of",
    "start": "818880",
    "end": "820320"
  },
  {
    "text": "them",
    "start": "820320",
    "end": "820639"
  },
  {
    "text": "will be load balanced and also in case",
    "start": "820639",
    "end": "822959"
  },
  {
    "text": "you have a",
    "start": "822959",
    "end": "824079"
  },
  {
    "text": "super cluster that is with gateway",
    "start": "824079",
    "end": "826320"
  },
  {
    "text": "connections then the one that is closest",
    "start": "826320",
    "end": "828399"
  },
  {
    "text": "to you is the one that's going to be",
    "start": "828399",
    "end": "830320"
  },
  {
    "text": "receiving the request and only when that",
    "start": "830320",
    "end": "833839"
  },
  {
    "text": "all the uh subscriptions that are local",
    "start": "833839",
    "end": "838079"
  },
  {
    "text": "to you",
    "start": "838079",
    "end": "838880"
  },
  {
    "text": "fail then and externally within another",
    "start": "838880",
    "end": "841839"
  },
  {
    "text": "cluster",
    "start": "841839",
    "end": "844320"
  },
  {
    "text": "subscriber and well q subscription",
    "start": "844519",
    "end": "847279"
  },
  {
    "text": "service is gonna be",
    "start": "847279",
    "end": "848480"
  },
  {
    "text": "reply and give you the credentials",
    "start": "848480",
    "end": "851920"
  },
  {
    "text": "instead",
    "start": "854839",
    "end": "856560"
  },
  {
    "text": "so this is the credentials probationer",
    "start": "856560",
    "end": "859680"
  },
  {
    "text": "now for to request access this is going",
    "start": "859680",
    "end": "862639"
  },
  {
    "text": "to be a simple",
    "start": "862639",
    "end": "863920"
  },
  {
    "text": "uh nats request",
    "start": "863920",
    "end": "867040"
  },
  {
    "text": "but we do need permissions to make that",
    "start": "867040",
    "end": "869360"
  },
  {
    "text": "request in this case we're going to",
    "start": "869360",
    "end": "870800"
  },
  {
    "text": "create another",
    "start": "870800",
    "end": "872240"
  },
  {
    "text": "uh user",
    "start": "872240",
    "end": "875440"
  },
  {
    "text": "in this case we're calling it the chat",
    "start": "875440",
    "end": "876959"
  },
  {
    "text": "credentials request",
    "start": "876959",
    "end": "878560"
  },
  {
    "text": "user and this can be these are",
    "start": "878560",
    "end": "880800"
  },
  {
    "text": "credentials that can be shared",
    "start": "880800",
    "end": "882800"
  },
  {
    "text": "for example we could put the we could",
    "start": "882800",
    "end": "884480"
  },
  {
    "text": "put this inside of a",
    "start": "884480",
    "end": "886320"
  },
  {
    "text": "docker container and because the the",
    "start": "886320",
    "end": "888959"
  },
  {
    "text": "recourses",
    "start": "888959",
    "end": "889839"
  },
  {
    "text": "there is the permissions are so",
    "start": "889839",
    "end": "892959"
  },
  {
    "text": "scoped to barely doing anything",
    "start": "892959",
    "end": "896000"
  },
  {
    "text": "uh they're they're fine to",
    "start": "896000",
    "end": "899199"
  },
  {
    "text": "sharing this as a credential so it could",
    "start": "899199",
    "end": "900720"
  },
  {
    "text": "be like a public credential",
    "start": "900720",
    "end": "902560"
  },
  {
    "text": "for anyone that wants to join this uh",
    "start": "902560",
    "end": "905360"
  },
  {
    "text": "server",
    "start": "905360",
    "end": "906000"
  },
  {
    "text": "this service so",
    "start": "906000",
    "end": "909120"
  },
  {
    "text": "this is only you can do this every is",
    "start": "909120",
    "end": "911839"
  },
  {
    "text": "the most that you can do with this",
    "start": "911839",
    "end": "912880"
  },
  {
    "text": "service is",
    "start": "912880",
    "end": "913760"
  },
  {
    "text": "request access so we create this",
    "start": "913760",
    "end": "917360"
  },
  {
    "text": "new credenti this new user for credit",
    "start": "917360",
    "end": "919839"
  },
  {
    "text": "credentials",
    "start": "919839",
    "end": "921279"
  },
  {
    "text": "making sure that you are able to make uh",
    "start": "921279",
    "end": "924560"
  },
  {
    "text": "subscriptions on inbox inbox is a",
    "start": "924560",
    "end": "927040"
  },
  {
    "text": "special",
    "start": "927040",
    "end": "928079"
  },
  {
    "text": "subject used for receiving requests",
    "start": "928079",
    "end": "931680"
  },
  {
    "text": "uh within the same cluster in case we",
    "start": "931680",
    "end": "934240"
  },
  {
    "text": "have a",
    "start": "934240",
    "end": "934800"
  },
  {
    "text": "cluster of clusters there is gonna be uh",
    "start": "934800",
    "end": "937199"
  },
  {
    "text": "and changing between accounts",
    "start": "937199",
    "end": "938720"
  },
  {
    "text": "this inbox prefix changes",
    "start": "938720",
    "end": "942320"
  },
  {
    "text": "it should be underscore r underscore",
    "start": "942320",
    "end": "945360"
  },
  {
    "text": "uh greater than",
    "start": "945360",
    "end": "948399"
  },
  {
    "text": "so with that we now we have a user for",
    "start": "948480",
    "end": "950320"
  },
  {
    "text": "making requests and",
    "start": "950320",
    "end": "954320"
  },
  {
    "text": "for example we so we already have the",
    "start": "954320",
    "end": "956240"
  },
  {
    "text": "credentials provisional running",
    "start": "956240",
    "end": "957680"
  },
  {
    "text": "we make a request to get",
    "start": "957680",
    "end": "960959"
  },
  {
    "text": "access and then the pro the credentials",
    "start": "960959",
    "end": "963279"
  },
  {
    "text": "provisioner is going to be",
    "start": "963279",
    "end": "964800"
  },
  {
    "text": "replying back with this jwt",
    "start": "964800",
    "end": "968959"
  },
  {
    "text": "back and not as along with a private key",
    "start": "968959",
    "end": "972480"
  },
  {
    "text": "that we can use",
    "start": "972480",
    "end": "975279"
  },
  {
    "text": "within these jwt we can see that",
    "start": "978880",
    "end": "984000"
  },
  {
    "text": "as i previously mentioned you the",
    "start": "984000",
    "end": "986079"
  },
  {
    "text": "permissions are scoped",
    "start": "986079",
    "end": "987440"
  },
  {
    "text": "are very limited in scope that you can",
    "start": "987440",
    "end": "988880"
  },
  {
    "text": "do it was",
    "start": "988880",
    "end": "991199"
  },
  {
    "text": "for each one of these users a public key",
    "start": "991199",
    "end": "994000"
  },
  {
    "text": "pair was generated so",
    "start": "994000",
    "end": "996160"
  },
  {
    "text": "the the private key was shared to us and",
    "start": "996160",
    "end": "998000"
  },
  {
    "text": "the public and public end key",
    "start": "998000",
    "end": "1000639"
  },
  {
    "text": "is part of the jwt so and is uh",
    "start": "1000639",
    "end": "1002959"
  },
  {
    "text": "represented here",
    "start": "1002959",
    "end": "1004000"
  },
  {
    "text": "and the it is uh the",
    "start": "1004000",
    "end": "1007680"
  },
  {
    "text": "user is named foo in this case",
    "start": "1007680",
    "end": "1010720"
  },
  {
    "text": "but it's better represented by the",
    "start": "1010720",
    "end": "1012240"
  },
  {
    "text": "public and key that belongs to this jwt",
    "start": "1012240",
    "end": "1016079"
  },
  {
    "text": "and this public end key we also use it",
    "start": "1016079",
    "end": "1018720"
  },
  {
    "text": "to be able to",
    "start": "1018720",
    "end": "1019600"
  },
  {
    "text": "create this uh subscription permission",
    "start": "1019600",
    "end": "1023040"
  },
  {
    "text": "for the direct messages so we have a",
    "start": "1023040",
    "end": "1025959"
  },
  {
    "text": "chat.kubecon",
    "start": "1025959",
    "end": "1027600"
  },
  {
    "text": "direct messages under the public end key",
    "start": "1027600",
    "end": "1030798"
  },
  {
    "text": "and this makes sure that",
    "start": "1030799",
    "end": "1034079"
  },
  {
    "text": "this ensures that no other user is able",
    "start": "1034079",
    "end": "1037038"
  },
  {
    "text": "to read",
    "start": "1037039",
    "end": "1037438"
  },
  {
    "text": "wrong messages because it is isolated",
    "start": "1037439",
    "end": "1040640"
  },
  {
    "text": "via the permissions",
    "start": "1040640",
    "end": "1043600"
  },
  {
    "text": "and this issuer account is of course the",
    "start": "1044799",
    "end": "1047120"
  },
  {
    "text": "kubecon jwt account",
    "start": "1047120",
    "end": "1050160"
  },
  {
    "text": "that generated this",
    "start": "1050160",
    "end": "1053840"
  },
  {
    "text": "so now we can connect to the chat",
    "start": "1056240",
    "end": "1060320"
  },
  {
    "text": "uh using those credentials that were",
    "start": "1060320",
    "end": "1063120"
  },
  {
    "text": "provisioned by",
    "start": "1063120",
    "end": "1066720"
  },
  {
    "text": "by the provisioner",
    "start": "1066720",
    "end": "1069600"
  },
  {
    "text": "and we can use those same credentials to",
    "start": "1071120",
    "end": "1073679"
  },
  {
    "text": "able to inspect messages for example we",
    "start": "1073679",
    "end": "1075679"
  },
  {
    "text": "can see",
    "start": "1075679",
    "end": "1077120"
  },
  {
    "text": "subscribe with a regular nets up",
    "start": "1077120",
    "end": "1080400"
  },
  {
    "text": "using those conditions to get uh",
    "start": "1080400",
    "end": "1084559"
  },
  {
    "text": "to see who is online in this case we're",
    "start": "1084559",
    "end": "1087600"
  },
  {
    "text": "receiving the jwt",
    "start": "1087600",
    "end": "1089440"
  },
  {
    "text": "uh with the payload from the harbinger",
    "start": "1089440",
    "end": "1093520"
  },
  {
    "text": "that this other user is",
    "start": "1093520",
    "end": "1095440"
  },
  {
    "text": "is online and available",
    "start": "1095440",
    "end": "1098639"
  },
  {
    "text": "but again because of this code",
    "start": "1099440",
    "end": "1101120"
  },
  {
    "text": "permission this uh",
    "start": "1101120",
    "end": "1103039"
  },
  {
    "text": "you're only able to subscribe to your",
    "start": "1103039",
    "end": "1106400"
  },
  {
    "text": "own messages and if you try to subscribe",
    "start": "1106400",
    "end": "1109440"
  },
  {
    "text": "to for example a wildcard subscription",
    "start": "1109440",
    "end": "1111039"
  },
  {
    "text": "then",
    "start": "1111039",
    "end": "1111440"
  },
  {
    "text": "you're not able to receive the messages",
    "start": "1111440",
    "end": "1115919"
  },
  {
    "text": "so this uh the chat client itself is",
    "start": "1117120",
    "end": "1119520"
  },
  {
    "text": "fairly simple",
    "start": "1119520",
    "end": "1120799"
  },
  {
    "text": "you only have a need to subscribe to the",
    "start": "1120799",
    "end": "1125280"
  },
  {
    "text": "uh receiving",
    "start": "1125280",
    "end": "1128400"
  },
  {
    "text": "from the general channels in this case",
    "start": "1128400",
    "end": "1130320"
  },
  {
    "text": "subscribing to the",
    "start": "1130320",
    "end": "1132080"
  },
  {
    "text": "uh that posts post to your own the",
    "start": "1132080",
    "end": "1135520"
  },
  {
    "text": "dms and the subscription for to the",
    "start": "1135520",
    "end": "1137919"
  },
  {
    "text": "harvest to see who like who is online",
    "start": "1137919",
    "end": "1140720"
  },
  {
    "text": "so it's very simple and it's only all",
    "start": "1140720",
    "end": "1142559"
  },
  {
    "text": "client login in the client",
    "start": "1142559",
    "end": "1146399"
  },
  {
    "text": "and then when you want to make a request",
    "start": "1147280",
    "end": "1149440"
  },
  {
    "text": "it is a publish",
    "start": "1149440",
    "end": "1151120"
  },
  {
    "text": "and depending on whether it is going to",
    "start": "1151120",
    "end": "1153600"
  },
  {
    "text": "be a direct message",
    "start": "1153600",
    "end": "1154960"
  },
  {
    "text": "and you need to get the public the",
    "start": "1154960",
    "end": "1157760"
  },
  {
    "text": "proper republican key from that user",
    "start": "1157760",
    "end": "1161520"
  },
  {
    "text": "to able to send a message to that",
    "start": "1161520",
    "end": "1165840"
  },
  {
    "text": "other user",
    "start": "1166160",
    "end": "1168880"
  },
  {
    "text": "and otherwise going to be sending to",
    "start": "1170400",
    "end": "1173760"
  },
  {
    "text": "some particular channel",
    "start": "1173760",
    "end": "1178960"
  },
  {
    "text": "and i think that's pretty much it and",
    "start": "1178960",
    "end": "1180960"
  },
  {
    "text": "you can see the code",
    "start": "1180960",
    "end": "1182080"
  },
  {
    "text": "uh the kubecon uh 2020.",
    "start": "1182080",
    "end": "1185360"
  },
  {
    "text": "i can share my screen to share a little",
    "start": "1185360",
    "end": "1187919"
  },
  {
    "text": "bit of",
    "start": "1187919",
    "end": "1188880"
  },
  {
    "text": "how it works",
    "start": "1188880",
    "end": "1193840"
  },
  {
    "text": "so in this case we have",
    "start": "1198080",
    "end": "1201279"
  },
  {
    "text": "the nets configuration this is the",
    "start": "1202080",
    "end": "1204880"
  },
  {
    "text": "memory resolver we have a few accounts",
    "start": "1204880",
    "end": "1207520"
  },
  {
    "text": "this is the kubecon account that",
    "start": "1207520",
    "end": "1209840"
  },
  {
    "text": "represents everything that was",
    "start": "1209840",
    "end": "1212400"
  },
  {
    "text": "uh all the users but it doesn't have any",
    "start": "1212400",
    "end": "1215360"
  },
  {
    "text": "notion about the",
    "start": "1215360",
    "end": "1216320"
  },
  {
    "text": "which users have been created it only",
    "start": "1216320",
    "end": "1218720"
  },
  {
    "text": "has",
    "start": "1218720",
    "end": "1219360"
  },
  {
    "text": "knows that there is an account that has",
    "start": "1219360",
    "end": "1221919"
  },
  {
    "text": "a",
    "start": "1221919",
    "end": "1222720"
  },
  {
    "text": "public end key assigning",
    "start": "1222720",
    "end": "1226720"
  },
  {
    "text": "key okay so we'll start the server",
    "start": "1227120",
    "end": "1231120"
  },
  {
    "text": "then we can't make a request",
    "start": "1233679",
    "end": "1236960"
  },
  {
    "text": "for credentials let's say case user",
    "start": "1236960",
    "end": "1241440"
  },
  {
    "text": "[Music]",
    "start": "1243070",
    "end": "1245919"
  },
  {
    "text": "and now we use these credentials to join",
    "start": "1245919",
    "end": "1248960"
  },
  {
    "text": "the chat",
    "start": "1248960",
    "end": "1251520"
  },
  {
    "text": "once again",
    "start": "1252320",
    "end": "1254880"
  },
  {
    "text": "ah i need to start the provisioner",
    "start": "1256320",
    "end": "1263840"
  },
  {
    "text": "so this is started",
    "start": "1264320",
    "end": "1267360"
  },
  {
    "text": "let me make a request and we can jump",
    "start": "1267600",
    "end": "1278640"
  },
  {
    "text": "so we have joined the chat let's join",
    "start": "1278640",
    "end": "1281120"
  },
  {
    "text": "from another",
    "start": "1281120",
    "end": "1283919"
  },
  {
    "text": "account",
    "start": "1288840",
    "end": "1291840"
  },
  {
    "text": "let's say",
    "start": "1296080",
    "end": "1298559"
  },
  {
    "text": "for example localhost",
    "start": "1301120",
    "end": "1305840"
  },
  {
    "text": "these are big reds so i have two users",
    "start": "1318080",
    "end": "1323600"
  },
  {
    "text": "hello to kubecon 2020",
    "start": "1324400",
    "end": "1333840"
  },
  {
    "text": "we also have support for the",
    "start": "1335600",
    "end": "1338960"
  },
  {
    "text": "private messages so",
    "start": "1340320",
    "end": "1346480"
  },
  {
    "text": "we see that this got highlighted because",
    "start": "1346480",
    "end": "1350240"
  },
  {
    "text": "it detected the private message",
    "start": "1350240",
    "end": "1353840"
  },
  {
    "text": "we can read our own message",
    "start": "1353840",
    "end": "1361840"
  },
  {
    "text": "that's it so furniture forward",
    "start": "1367840",
    "end": "1371280"
  },
  {
    "text": "but that is uh thanks to all the",
    "start": "1371280",
    "end": "1374799"
  },
  {
    "text": "uh security pieces that we have in uh",
    "start": "1374799",
    "end": "1378080"
  },
  {
    "text": "as part of the nats v2 release",
    "start": "1378080",
    "end": "1381679"
  },
  {
    "text": "so that's it for my talk and thank you",
    "start": "1381679",
    "end": "1385840"
  },
  {
    "text": "for attending the talk so i'll try to go",
    "start": "1385840",
    "end": "1388400"
  },
  {
    "text": "um",
    "start": "1388400",
    "end": "1389600"
  },
  {
    "text": "one by one over the questions um",
    "start": "1389600",
    "end": "1394159"
  },
  {
    "text": "i i see some coming so one from",
    "start": "1394159",
    "end": "1396559"
  },
  {
    "text": "sebastian",
    "start": "1396559",
    "end": "1397280"
  },
  {
    "text": "if you have a test and production",
    "start": "1397280",
    "end": "1398720"
  },
  {
    "text": "environment with a kubernetes cluster",
    "start": "1398720",
    "end": "1400799"
  },
  {
    "text": "in each of them would you recommend to",
    "start": "1400799",
    "end": "1403120"
  },
  {
    "text": "separate nuts clusters in each",
    "start": "1403120",
    "end": "1404799"
  },
  {
    "text": "environment or one that's clustered in",
    "start": "1404799",
    "end": "1406960"
  },
  {
    "text": "both",
    "start": "1406960",
    "end": "1407919"
  },
  {
    "text": "so you have a test and production",
    "start": "1407919",
    "end": "1409440"
  },
  {
    "text": "environments",
    "start": "1409440",
    "end": "1411440"
  },
  {
    "text": "uh okay",
    "start": "1411440",
    "end": "1416080"
  },
  {
    "text": "sorry my video was off okay so so yeah",
    "start": "1416080",
    "end": "1419520"
  },
  {
    "text": "we're",
    "start": "1419520",
    "end": "1420080"
  },
  {
    "text": "we have uh the two different",
    "start": "1420080",
    "end": "1423600"
  },
  {
    "text": "kubernetes clusters and",
    "start": "1423600",
    "end": "1428400"
  },
  {
    "text": "we i mean depends on whether we want to",
    "start": "1428840",
    "end": "1433840"
  },
  {
    "text": "i mean it is definitely possible to",
    "start": "1433840",
    "end": "1436000"
  },
  {
    "text": "create like a large",
    "start": "1436000",
    "end": "1437120"
  },
  {
    "text": "super cluster with multiple kubernetes",
    "start": "1437120",
    "end": "1440400"
  },
  {
    "text": "um and connect the production one to",
    "start": "1440400",
    "end": "1443200"
  },
  {
    "text": "test but",
    "start": "1443200",
    "end": "1444240"
  },
  {
    "text": "in this case i i would just keep them",
    "start": "1444240",
    "end": "1446320"
  },
  {
    "text": "separate because they're",
    "start": "1446320",
    "end": "1448240"
  },
  {
    "text": "uh test and production",
    "start": "1448240",
    "end": "1451360"
  },
  {
    "text": "but there is it's totally fine to have a",
    "start": "1451360",
    "end": "1454559"
  },
  {
    "text": "use the same cluster",
    "start": "1454559",
    "end": "1457600"
  },
  {
    "text": "for",
    "start": "1457600",
    "end": "1459840"
  },
  {
    "text": "in terms of the application level yeah i",
    "start": "1463120",
    "end": "1465120"
  },
  {
    "text": "mean it is fine to have the same",
    "start": "1465120",
    "end": "1467760"
  },
  {
    "text": "nats cluster and then use accounts for",
    "start": "1467760",
    "end": "1470640"
  },
  {
    "text": "example to",
    "start": "1470640",
    "end": "1471600"
  },
  {
    "text": "separate the applications that are",
    "start": "1471600",
    "end": "1474480"
  },
  {
    "text": "running with the test version of the",
    "start": "1474480",
    "end": "1476080"
  },
  {
    "text": "applications",
    "start": "1476080",
    "end": "1476960"
  },
  {
    "text": "so you can have an accounts or namespace",
    "start": "1476960",
    "end": "1479840"
  },
  {
    "text": "for the test applications and then",
    "start": "1479840",
    "end": "1482080"
  },
  {
    "text": "another one for the production",
    "start": "1482080",
    "end": "1483919"
  },
  {
    "text": "applications and then you can even use",
    "start": "1483919",
    "end": "1486240"
  },
  {
    "text": "uh some of the permissioning",
    "start": "1486240",
    "end": "1488480"
  },
  {
    "text": "from the queue groups so you can have",
    "start": "1488480",
    "end": "1492960"
  },
  {
    "text": "an example a queue subscription that is",
    "start": "1492960",
    "end": "1495279"
  },
  {
    "text": "registered to the",
    "start": "1495279",
    "end": "1496720"
  },
  {
    "text": "production group and it is using the",
    "start": "1496720",
    "end": "1499039"
  },
  {
    "text": "same the same name so application is the",
    "start": "1499039",
    "end": "1501200"
  },
  {
    "text": "same",
    "start": "1501200",
    "end": "1502159"
  },
  {
    "text": "uh but you can have um this uh",
    "start": "1502159",
    "end": "1505919"
  },
  {
    "text": "application that subscribes to foo using",
    "start": "1505919",
    "end": "1508320"
  },
  {
    "text": "the queue group uh",
    "start": "1508320",
    "end": "1509360"
  },
  {
    "text": "production and then the other one is",
    "start": "1509360",
    "end": "1511120"
  },
  {
    "text": "using the q group uh",
    "start": "1511120",
    "end": "1512880"
  },
  {
    "text": "test and then you can that way you can",
    "start": "1512880",
    "end": "1516480"
  },
  {
    "text": "more uh finally",
    "start": "1516480",
    "end": "1519840"
  },
  {
    "text": "uh scope with what applications",
    "start": "1519840",
    "end": "1522960"
  },
  {
    "text": "can to which topics applications can",
    "start": "1522960",
    "end": "1525360"
  },
  {
    "text": "send topics",
    "start": "1525360",
    "end": "1526240"
  },
  {
    "text": "so okay so for the application one",
    "start": "1526240",
    "end": "1528880"
  },
  {
    "text": "single",
    "start": "1528880",
    "end": "1530320"
  },
  {
    "text": "nut server uh i think it's fine yes",
    "start": "1530320",
    "end": "1533520"
  },
  {
    "text": "it's fine",
    "start": "1533520",
    "end": "1536000"
  },
  {
    "text": "uh the other question is we have uh",
    "start": "1536880",
    "end": "1540720"
  },
  {
    "text": "three kubernetes clusters in three",
    "start": "1540720",
    "end": "1542720"
  },
  {
    "text": "different regions we're trying to use",
    "start": "1542720",
    "end": "1544240"
  },
  {
    "text": "nets",
    "start": "1544240",
    "end": "1544799"
  },
  {
    "text": "for communication between these clusters",
    "start": "1544799",
    "end": "1547440"
  },
  {
    "text": "it is a good use case for gateways",
    "start": "1547440",
    "end": "1550000"
  },
  {
    "text": "uh yes yes a multi-region",
    "start": "1550000",
    "end": "1553039"
  },
  {
    "text": "is uh precisely the one of the",
    "start": "1553039",
    "end": "1556880"
  },
  {
    "text": "the use cases for the gateways uh",
    "start": "1556880",
    "end": "1560240"
  },
  {
    "text": "gateways they need to be",
    "start": "1560240",
    "end": "1563679"
  },
  {
    "text": "um you basically export expose a port",
    "start": "1563679",
    "end": "1567760"
  },
  {
    "text": "for the whole nuts cluster we often make",
    "start": "1567760",
    "end": "1570240"
  },
  {
    "text": "this 75",
    "start": "1570240",
    "end": "1571279"
  },
  {
    "text": "22. um that doesn't have any clash with",
    "start": "1571279",
    "end": "1575200"
  },
  {
    "text": "other ports and that we know of",
    "start": "1575200",
    "end": "1577679"
  },
  {
    "text": "so you expose the 75 22",
    "start": "1577679",
    "end": "1581279"
  },
  {
    "text": "port for each one of the notes uh in",
    "start": "1581279",
    "end": "1584400"
  },
  {
    "text": "kubernetes terms you could use",
    "start": "1584400",
    "end": "1586159"
  },
  {
    "text": "uh this means that you have to use",
    "start": "1586159",
    "end": "1590000"
  },
  {
    "text": "something like a host port for because",
    "start": "1590000",
    "end": "1592640"
  },
  {
    "text": "each one of the nodes",
    "start": "1592640",
    "end": "1593919"
  },
  {
    "text": "needs to be be able to talk to the other",
    "start": "1593919",
    "end": "1598320"
  },
  {
    "text": "gateways so the way this is gonna happen",
    "start": "1598320",
    "end": "1601120"
  },
  {
    "text": "is that all of them",
    "start": "1601120",
    "end": "1602320"
  },
  {
    "text": "let's say you have a cluster of three",
    "start": "1602320",
    "end": "1603600"
  },
  {
    "text": "nodes so each one of them",
    "start": "1603600",
    "end": "1606000"
  },
  {
    "text": "will have its own host port for the",
    "start": "1606000",
    "end": "1608240"
  },
  {
    "text": "gateway connections",
    "start": "1608240",
    "end": "1609919"
  },
  {
    "text": "and then they know from at least another",
    "start": "1609919",
    "end": "1613440"
  },
  {
    "text": "end point a gateway endpoint",
    "start": "1613440",
    "end": "1617039"
  },
  {
    "text": "so then they will try to connect to at",
    "start": "1617039",
    "end": "1620080"
  },
  {
    "text": "least one",
    "start": "1620080",
    "end": "1621840"
  },
  {
    "text": "have at least one connection to",
    "start": "1621840",
    "end": "1625120"
  },
  {
    "text": "a member from the other cluster and",
    "start": "1625120",
    "end": "1628720"
  },
  {
    "text": "um they will figure out that the routing",
    "start": "1628720",
    "end": "1631279"
  },
  {
    "text": "is uh properly there's some gossiping",
    "start": "1631279",
    "end": "1633600"
  },
  {
    "text": "as well so that it is important to",
    "start": "1633600",
    "end": "1636720"
  },
  {
    "text": "always use the public ips",
    "start": "1636720",
    "end": "1639840"
  },
  {
    "text": "that you want then advertise uh",
    "start": "1639840",
    "end": "1641600"
  },
  {
    "text": "otherwise accidentally you could have uh",
    "start": "1641600",
    "end": "1643279"
  },
  {
    "text": "internal",
    "start": "1643279",
    "end": "1644399"
  },
  {
    "text": "ips be advertised to the nodes",
    "start": "1644399",
    "end": "1647679"
  },
  {
    "text": "that were meant for uh external access",
    "start": "1647679",
    "end": "1651120"
  },
  {
    "text": "but but yes so that's one option to use",
    "start": "1651120",
    "end": "1654080"
  },
  {
    "text": "nuts gateways",
    "start": "1654080",
    "end": "1655520"
  },
  {
    "text": "depending on the requirements you could",
    "start": "1655520",
    "end": "1657360"
  },
  {
    "text": "also use a leaf nodes",
    "start": "1657360",
    "end": "1660080"
  },
  {
    "text": "leaf node connections are interesting",
    "start": "1660080",
    "end": "1663120"
  },
  {
    "text": "because",
    "start": "1663120",
    "end": "1664880"
  },
  {
    "text": "you could use another super cluster",
    "start": "1664880",
    "end": "1668320"
  },
  {
    "text": "for example you could say you could use",
    "start": "1668320",
    "end": "1670000"
  },
  {
    "text": "uh you already have a one",
    "start": "1670000",
    "end": "1672480"
  },
  {
    "text": "not super cluster that has connectivity",
    "start": "1672480",
    "end": "1683679"
  },
  {
    "text": "this super cluster",
    "start": "1683679",
    "end": "1686720"
  },
  {
    "text": "and that would be another way to get a",
    "start": "1686720",
    "end": "1689360"
  },
  {
    "text": "multi-region",
    "start": "1689360",
    "end": "1690480"
  },
  {
    "text": "without having the applications",
    "start": "1690480",
    "end": "1694000"
  },
  {
    "text": "um themselves connect to using the",
    "start": "1694000",
    "end": "1697120"
  },
  {
    "text": "gateway connections to all the other",
    "start": "1697120",
    "end": "1699120"
  },
  {
    "text": "nodes so",
    "start": "1699120",
    "end": "1700559"
  },
  {
    "text": "you can start you start with gateway",
    "start": "1700559",
    "end": "1702399"
  },
  {
    "text": "connections or if you already have a",
    "start": "1702399",
    "end": "1704240"
  },
  {
    "text": "super cluster",
    "start": "1704240",
    "end": "1705360"
  },
  {
    "text": "use lyft node connections for the",
    "start": "1705360",
    "end": "1706799"
  },
  {
    "text": "multi-region connectivity",
    "start": "1706799",
    "end": "1711840"
  },
  {
    "text": "yeah um i'll wait for a couple of uh",
    "start": "1712880",
    "end": "1717679"
  },
  {
    "text": "so uh yeah there's a um",
    "start": "1717679",
    "end": "1720799"
  },
  {
    "text": "also gave another tutorial session where",
    "start": "1720799",
    "end": "1723200"
  },
  {
    "text": "you can see some of these",
    "start": "1723200",
    "end": "1724000"
  },
  {
    "text": "uh concepts live and you can definitely",
    "start": "1724000",
    "end": "1727120"
  },
  {
    "text": "check out the",
    "start": "1727120",
    "end": "1728240"
  },
  {
    "text": "the code on the kubecon 2020 repo that i",
    "start": "1728240",
    "end": "1731520"
  },
  {
    "text": "shared",
    "start": "1731520",
    "end": "1732640"
  },
  {
    "text": "um so you can uh",
    "start": "1732640",
    "end": "1737279"
  },
  {
    "text": "play with the chat application and",
    "start": "1737360",
    "end": "1740799"
  },
  {
    "text": "maybe inspect the traffic and use the",
    "start": "1740799",
    "end": "1742399"
  },
  {
    "text": "system accounts to be able to",
    "start": "1742399",
    "end": "1744559"
  },
  {
    "text": "monitor how the events are flying by",
    "start": "1744559",
    "end": "1748640"
  },
  {
    "text": "so if there are no",
    "start": "1748640",
    "end": "1753120"
  },
  {
    "text": "uh further questions i",
    "start": "1753120",
    "end": "1756880"
  },
  {
    "text": "think they are not in the chat either",
    "start": "1756880",
    "end": "1760720"
  },
  {
    "text": "we can",
    "start": "1761039",
    "end": "1766080"
  },
  {
    "text": "and one second here we can i think we",
    "start": "1766080",
    "end": "1769520"
  },
  {
    "text": "can uh wrap it up in this case",
    "start": "1769520",
    "end": "1771840"
  },
  {
    "text": "uh so thank you again for attending talk",
    "start": "1771840",
    "end": "1773760"
  },
  {
    "text": "and enjoy uh kubecon",
    "start": "1773760",
    "end": "1778240"
  }
]