[
  {
    "start": "0",
    "end": "19000"
  },
  {
    "text": "hello uh",
    "start": "80",
    "end": "1760"
  },
  {
    "text": "good afternoon",
    "start": "1760",
    "end": "3439"
  },
  {
    "text": "all right",
    "start": "3439",
    "end": "4799"
  },
  {
    "text": "so i guess yeah my name is james um i'm",
    "start": "4799",
    "end": "8160"
  },
  {
    "text": "here to give a talk about a project that",
    "start": "8160",
    "end": "10880"
  },
  {
    "text": "we did where we",
    "start": "10880",
    "end": "12320"
  },
  {
    "text": "moved a sort of interesting system that",
    "start": "12320",
    "end": "15040"
  },
  {
    "text": "we had over to use fluent logging",
    "start": "15040",
    "end": "19199"
  },
  {
    "start": "19000",
    "end": "38000"
  },
  {
    "text": "so just quick background about myself",
    "start": "19199",
    "end": "21760"
  },
  {
    "text": "i work at asana",
    "start": "21760",
    "end": "23439"
  },
  {
    "text": "where i'm a technical lead on the infra",
    "start": "23439",
    "end": "25760"
  },
  {
    "text": "topology",
    "start": "25760",
    "end": "27519"
  },
  {
    "text": "pod like team group um been there since",
    "start": "27519",
    "end": "30720"
  },
  {
    "text": "2019 mostly working on",
    "start": "30720",
    "end": "33760"
  },
  {
    "text": "stability and scalability",
    "start": "33760",
    "end": "36239"
  },
  {
    "text": "uh yeah",
    "start": "36239",
    "end": "38480"
  },
  {
    "start": "38000",
    "end": "79000"
  },
  {
    "text": "just a quick background on the system",
    "start": "38480",
    "end": "41040"
  },
  {
    "text": "that we had to work with here it's not",
    "start": "41040",
    "end": "44719"
  },
  {
    "text": "it wasn't quite logging per say it was",
    "start": "44719",
    "end": "46879"
  },
  {
    "text": "event logging",
    "start": "46879",
    "end": "48399"
  },
  {
    "text": "which was",
    "start": "48399",
    "end": "50879"
  },
  {
    "text": "sort of the same thing but basically the",
    "start": "50879",
    "end": "53760"
  },
  {
    "text": "goal was to allow developers",
    "start": "53760",
    "end": "57120"
  },
  {
    "text": "who are working on the application to",
    "start": "57120",
    "end": "60239"
  },
  {
    "text": "like send events and reliably get them",
    "start": "60239",
    "end": "62640"
  },
  {
    "text": "to",
    "start": "62640",
    "end": "63760"
  },
  {
    "text": "uh where they wanted them to go so like",
    "start": "63760",
    "end": "65680"
  },
  {
    "text": "they could process things elsewhere for",
    "start": "65680",
    "end": "68080"
  },
  {
    "text": "example think notifications like when",
    "start": "68080",
    "end": "70720"
  },
  {
    "text": "you create a task in the sauna like you",
    "start": "70720",
    "end": "73200"
  },
  {
    "text": "want to send the notification out to a",
    "start": "73200",
    "end": "74880"
  },
  {
    "text": "bunch of people",
    "start": "74880",
    "end": "76159"
  },
  {
    "text": "and that happened through this system",
    "start": "76159",
    "end": "79758"
  },
  {
    "text": "and in effect the system worked like",
    "start": "79920",
    "end": "82159"
  },
  {
    "text": "this",
    "start": "82159",
    "end": "82960"
  },
  {
    "text": "so we had a bunch of ec2 nodes",
    "start": "82960",
    "end": "86479"
  },
  {
    "text": "and those ec2 nodes were running",
    "start": "86479",
    "end": "89280"
  },
  {
    "text": "a single like running some set of node",
    "start": "89280",
    "end": "91680"
  },
  {
    "text": "processes",
    "start": "91680",
    "end": "93040"
  },
  {
    "text": "node.js",
    "start": "93040",
    "end": "94720"
  },
  {
    "text": "and they would write",
    "start": "94720",
    "end": "96720"
  },
  {
    "text": "those events into a sync",
    "start": "96720",
    "end": "99520"
  },
  {
    "text": "which we'll go into detail later that's",
    "start": "99520",
    "end": "101439"
  },
  {
    "text": "the component that we're talking about",
    "start": "101439",
    "end": "103200"
  },
  {
    "text": "here",
    "start": "103200",
    "end": "104320"
  },
  {
    "text": "but and this sink would basically handle",
    "start": "104320",
    "end": "107119"
  },
  {
    "text": "writing them to kinesis",
    "start": "107119",
    "end": "109840"
  },
  {
    "text": "and the reason that we did it this way",
    "start": "109840",
    "end": "112880"
  },
  {
    "text": "initially is because these node",
    "start": "112880",
    "end": "114479"
  },
  {
    "text": "processes didn't have a very long",
    "start": "114479",
    "end": "116560"
  },
  {
    "text": "lifetime and so like we cycle them",
    "start": "116560",
    "end": "119040"
  },
  {
    "text": "relatively often",
    "start": "119040",
    "end": "120960"
  },
  {
    "text": "so like having an external process here",
    "start": "120960",
    "end": "124320"
  },
  {
    "text": "helped us get durability helped us get",
    "start": "124320",
    "end": "127119"
  },
  {
    "text": "some reliance on like during network",
    "start": "127119",
    "end": "129119"
  },
  {
    "text": "outages and so on",
    "start": "129119",
    "end": "132000"
  },
  {
    "text": "uh",
    "start": "132000",
    "end": "132879"
  },
  {
    "text": "yeah",
    "start": "132879",
    "end": "134800"
  },
  {
    "text": "and",
    "start": "134800",
    "end": "135599"
  },
  {
    "start": "135000",
    "end": "172000"
  },
  {
    "text": "so the api that we exposed to developers",
    "start": "135599",
    "end": "138560"
  },
  {
    "text": "for this interface",
    "start": "138560",
    "end": "140160"
  },
  {
    "text": "was just",
    "start": "140160",
    "end": "141599"
  },
  {
    "text": "you basically call to the event logger",
    "start": "141599",
    "end": "144080"
  },
  {
    "text": "and log the category that you want and",
    "start": "144080",
    "end": "146560"
  },
  {
    "text": "then you'd pass the data",
    "start": "146560",
    "end": "149120"
  },
  {
    "text": "and then additionally you could also",
    "start": "149120",
    "end": "150640"
  },
  {
    "text": "configure where you wanted your events",
    "start": "150640",
    "end": "152879"
  },
  {
    "text": "to go",
    "start": "152879",
    "end": "153920"
  },
  {
    "text": "so in our system like you you basically",
    "start": "153920",
    "end": "156480"
  },
  {
    "text": "passed in the name of the kinesis stream",
    "start": "156480",
    "end": "158560"
  },
  {
    "text": "and uh",
    "start": "158560",
    "end": "159920"
  },
  {
    "text": "then you could set the",
    "start": "159920",
    "end": "161680"
  },
  {
    "text": "event category",
    "start": "161680",
    "end": "163280"
  },
  {
    "text": "to",
    "start": "163280",
    "end": "164160"
  },
  {
    "text": "direct this and otherwise everything",
    "start": "164160",
    "end": "165680"
  },
  {
    "text": "just went to the default stream",
    "start": "165680",
    "end": "168319"
  },
  {
    "text": "which was pretty cool um",
    "start": "168319",
    "end": "171680"
  },
  {
    "text": "yeah so this system as a whole processes",
    "start": "171680",
    "end": "174440"
  },
  {
    "start": "172000",
    "end": "187000"
  },
  {
    "text": "3.3 billion events per day",
    "start": "174440",
    "end": "177440"
  },
  {
    "text": "and",
    "start": "177440",
    "end": "178239"
  },
  {
    "text": "almost all of those events are actually",
    "start": "178239",
    "end": "179920"
  },
  {
    "text": "really important so we needed to be",
    "start": "179920",
    "end": "181599"
  },
  {
    "text": "really sure to",
    "start": "181599",
    "end": "182959"
  },
  {
    "text": "get the durability",
    "start": "182959",
    "end": "184879"
  },
  {
    "text": "aspect here",
    "start": "184879",
    "end": "187519"
  },
  {
    "start": "187000",
    "end": "263000"
  },
  {
    "text": "and",
    "start": "187519",
    "end": "188400"
  },
  {
    "text": "out of out of these events like",
    "start": "188400",
    "end": "191519"
  },
  {
    "text": "for this for the system we basically",
    "start": "191519",
    "end": "193280"
  },
  {
    "text": "gathered these four requirements",
    "start": "193280",
    "end": "196239"
  },
  {
    "text": "that the system had to be flexible",
    "start": "196239",
    "end": "198560"
  },
  {
    "text": "uh so we needed to be able to",
    "start": "198560",
    "end": "201280"
  },
  {
    "text": "basically send anything we wanted to it",
    "start": "201280",
    "end": "203280"
  },
  {
    "text": "without",
    "start": "203280",
    "end": "204480"
  },
  {
    "text": "doing too much work or too much effort",
    "start": "204480",
    "end": "207440"
  },
  {
    "text": "we wanted developers to do like minimal",
    "start": "207440",
    "end": "209519"
  },
  {
    "text": "effort logging here",
    "start": "209519",
    "end": "212560"
  },
  {
    "text": "but but also we wanted to be really high",
    "start": "212959",
    "end": "215280"
  },
  {
    "text": "performance so",
    "start": "215280",
    "end": "217440"
  },
  {
    "text": "we",
    "start": "217440",
    "end": "219120"
  },
  {
    "text": "basically wanted it to be able to handle",
    "start": "219120",
    "end": "221280"
  },
  {
    "text": "the load and we wanted to be able to",
    "start": "221280",
    "end": "224319"
  },
  {
    "text": "send like get those events into kinesis",
    "start": "224319",
    "end": "226560"
  },
  {
    "text": "as fast as possible",
    "start": "226560",
    "end": "228159"
  },
  {
    "text": "um and ideally the these",
    "start": "228159",
    "end": "231120"
  },
  {
    "text": "uh this system was meant to",
    "start": "231120",
    "end": "234080"
  },
  {
    "text": "support to survive like as i mentioned",
    "start": "234080",
    "end": "237280"
  },
  {
    "text": "no node crashes and outages as well like",
    "start": "237280",
    "end": "240560"
  },
  {
    "text": "the ec2 node",
    "start": "240560",
    "end": "242879"
  },
  {
    "text": "going down or like the availability zone",
    "start": "242879",
    "end": "245120"
  },
  {
    "text": "going down even and stuff like that",
    "start": "245120",
    "end": "248159"
  },
  {
    "text": "and then",
    "start": "248159",
    "end": "249360"
  },
  {
    "text": "also we need to be able to",
    "start": "249360",
    "end": "251280"
  },
  {
    "text": "configure",
    "start": "251280",
    "end": "252560"
  },
  {
    "text": "the system easily",
    "start": "252560",
    "end": "254560"
  },
  {
    "text": "so because we expected really anyone",
    "start": "254560",
    "end": "257440"
  },
  {
    "text": "anyone at the company to be able to do",
    "start": "257440",
    "end": "259120"
  },
  {
    "text": "it",
    "start": "259120",
    "end": "260959"
  },
  {
    "text": "um yeah so",
    "start": "260959",
    "end": "263840"
  },
  {
    "start": "263000",
    "end": "363000"
  },
  {
    "text": "in the past we",
    "start": "263840",
    "end": "265520"
  },
  {
    "text": "had this architecture built out with",
    "start": "265520",
    "end": "267759"
  },
  {
    "text": "scribe",
    "start": "267759",
    "end": "269919"
  },
  {
    "text": "for those of you not familiar with",
    "start": "269919",
    "end": "271360"
  },
  {
    "text": "scribe it's a system that was developed",
    "start": "271360",
    "end": "273280"
  },
  {
    "text": "by facebook",
    "start": "273280",
    "end": "274960"
  },
  {
    "text": "back in",
    "start": "274960",
    "end": "275919"
  },
  {
    "text": "i think it was 2009",
    "start": "275919",
    "end": "278560"
  },
  {
    "text": "and they killed it off back in 2014 but",
    "start": "278560",
    "end": "281919"
  },
  {
    "text": "we still had it yay",
    "start": "281919",
    "end": "285360"
  },
  {
    "text": "and it was finally time to get rid of",
    "start": "286080",
    "end": "288000"
  },
  {
    "text": "this but yeah",
    "start": "288000",
    "end": "290160"
  },
  {
    "text": "and we we did this with scribe which",
    "start": "290160",
    "end": "292320"
  },
  {
    "text": "which basically handled the buff the",
    "start": "292320",
    "end": "294560"
  },
  {
    "text": "buffering part and the receiving",
    "start": "294560",
    "end": "296160"
  },
  {
    "text": "messages part but it didn't have this",
    "start": "296160",
    "end": "298400"
  },
  {
    "text": "ability to like pump things into kinesis",
    "start": "298400",
    "end": "300880"
  },
  {
    "text": "and stuff so what you could do there",
    "start": "300880",
    "end": "303039"
  },
  {
    "text": "was you could implement a custom scribe",
    "start": "303039",
    "end": "305600"
  },
  {
    "text": "server",
    "start": "305600",
    "end": "307120"
  },
  {
    "text": "just that supported this protocol",
    "start": "307120",
    "end": "310160"
  },
  {
    "text": "which we had implemented a custom",
    "start": "310160",
    "end": "312720"
  },
  {
    "text": "jvm application called describe kinesis",
    "start": "312720",
    "end": "315280"
  },
  {
    "text": "sync",
    "start": "315280",
    "end": "316080"
  },
  {
    "text": "which handled this",
    "start": "316080",
    "end": "317759"
  },
  {
    "text": "taking those log messages and pushing",
    "start": "317759",
    "end": "319600"
  },
  {
    "text": "them out into",
    "start": "319600",
    "end": "321400"
  },
  {
    "text": "kinesis um",
    "start": "321400",
    "end": "324400"
  },
  {
    "text": "yeah",
    "start": "324400",
    "end": "325759"
  },
  {
    "text": "but as i mentioned we needed to move",
    "start": "325759",
    "end": "328320"
  },
  {
    "text": "away from this uh mostly this is part of",
    "start": "328320",
    "end": "330800"
  },
  {
    "text": "a bigger project moving us on a",
    "start": "330800",
    "end": "332960"
  },
  {
    "text": "dishonest system into kubernetes",
    "start": "332960",
    "end": "336080"
  },
  {
    "text": "and scribe being dead in 2014",
    "start": "336080",
    "end": "339600"
  },
  {
    "text": "made it very hard to do this because",
    "start": "339600",
    "end": "341919"
  },
  {
    "text": "uh it like it was a c binary it needed",
    "start": "341919",
    "end": "344800"
  },
  {
    "text": "to be compiled especially for it it",
    "start": "344800",
    "end": "346720"
  },
  {
    "text": "needed like a bunch of",
    "start": "346720",
    "end": "348560"
  },
  {
    "text": "work uh the jvm application doesn't",
    "start": "348560",
    "end": "351199"
  },
  {
    "text": "really help with",
    "start": "351199",
    "end": "353039"
  },
  {
    "text": "like doing very small services and small",
    "start": "353039",
    "end": "355360"
  },
  {
    "text": "pods",
    "start": "355360",
    "end": "356319"
  },
  {
    "text": "so we ended up deciding to",
    "start": "356319",
    "end": "358560"
  },
  {
    "text": "get rid of this",
    "start": "358560",
    "end": "361280"
  },
  {
    "text": "yeah so when looking at our options",
    "start": "362400",
    "end": "366160"
  },
  {
    "start": "363000",
    "end": "397000"
  },
  {
    "text": "we had",
    "start": "366160",
    "end": "367520"
  },
  {
    "text": "we had effectively three options that we",
    "start": "367520",
    "end": "369440"
  },
  {
    "text": "really considered we could just let the",
    "start": "369440",
    "end": "371840"
  },
  {
    "text": "node process do things directly",
    "start": "371840",
    "end": "374479"
  },
  {
    "text": "there wasn't really",
    "start": "374479",
    "end": "377120"
  },
  {
    "text": "and just there is a kinesis library for",
    "start": "377120",
    "end": "379360"
  },
  {
    "text": "node um",
    "start": "379360",
    "end": "381280"
  },
  {
    "text": "and there's also we could have like",
    "start": "381280",
    "end": "383840"
  },
  {
    "text": "written uh log files out and then like",
    "start": "383840",
    "end": "388080"
  },
  {
    "text": "used fluentd or fluent bit to parse",
    "start": "388080",
    "end": "390000"
  },
  {
    "text": "those files and write those into kinesis",
    "start": "390000",
    "end": "392400"
  },
  {
    "text": "and then we could also used the forward",
    "start": "392400",
    "end": "394639"
  },
  {
    "text": "port",
    "start": "394639",
    "end": "396560"
  },
  {
    "text": "and when like we looked at these",
    "start": "396560",
    "end": "399039"
  },
  {
    "start": "397000",
    "end": "450000"
  },
  {
    "text": "and like looked at the pros and cons of",
    "start": "399039",
    "end": "401280"
  },
  {
    "text": "these approaches",
    "start": "401280",
    "end": "403039"
  },
  {
    "text": "and ended up selecting fluency with the",
    "start": "403039",
    "end": "405680"
  },
  {
    "text": "forward port and mostly the reason for",
    "start": "405680",
    "end": "408080"
  },
  {
    "text": "this",
    "start": "408080",
    "end": "409039"
  },
  {
    "text": "was because",
    "start": "409039",
    "end": "410960"
  },
  {
    "text": "well direct to kinesis",
    "start": "410960",
    "end": "412960"
  },
  {
    "text": "it doesn't survive node process crashes",
    "start": "412960",
    "end": "416080"
  },
  {
    "text": "so like if there was something left in",
    "start": "416080",
    "end": "418319"
  },
  {
    "text": "the process like you if you hadn't",
    "start": "418319",
    "end": "419840"
  },
  {
    "text": "gotten it out to kinesis for like",
    "start": "419840",
    "end": "422080"
  },
  {
    "text": "network outages or something it was",
    "start": "422080",
    "end": "424240"
  },
  {
    "text": "going to be lost",
    "start": "424240",
    "end": "426960"
  },
  {
    "text": "so that was more or less off the table",
    "start": "427039",
    "end": "429120"
  },
  {
    "text": "due to that",
    "start": "429120",
    "end": "430720"
  },
  {
    "text": "the log file tooth",
    "start": "430720",
    "end": "432720"
  },
  {
    "text": "plus fluency approach was",
    "start": "432720",
    "end": "435199"
  },
  {
    "text": "a little bit more enticing it was it was",
    "start": "435199",
    "end": "437599"
  },
  {
    "text": "arguably simpler",
    "start": "437599",
    "end": "439360"
  },
  {
    "text": "but the main thing that made it hard for",
    "start": "439360",
    "end": "441759"
  },
  {
    "text": "us to work with it was because of",
    "start": "441759",
    "end": "444560"
  },
  {
    "text": "the",
    "start": "444560",
    "end": "445360"
  },
  {
    "text": "low ease of use in the sense that",
    "start": "445360",
    "end": "448319"
  },
  {
    "text": "going back to uh",
    "start": "448319",
    "end": "451680"
  },
  {
    "start": "450000",
    "end": "468000"
  },
  {
    "text": "this slide like this configuration of",
    "start": "451680",
    "end": "455680"
  },
  {
    "text": "the uh",
    "start": "455680",
    "end": "457440"
  },
  {
    "text": "like categories like we really wanted to",
    "start": "457440",
    "end": "459280"
  },
  {
    "text": "be able to do anything here and like",
    "start": "459280",
    "end": "462400"
  },
  {
    "text": "being able to send various tags and so",
    "start": "462400",
    "end": "465440"
  },
  {
    "text": "on and it wasn't possible to have",
    "start": "465440",
    "end": "468319"
  },
  {
    "start": "468000",
    "end": "529000"
  },
  {
    "text": "the same tag",
    "start": "468319",
    "end": "469919"
  },
  {
    "text": "uh",
    "start": "469919",
    "end": "471120"
  },
  {
    "text": "like",
    "start": "471120",
    "end": "471919"
  },
  {
    "text": "it needed for a file",
    "start": "471919",
    "end": "474319"
  },
  {
    "text": "at the time at least it needed to be",
    "start": "474319",
    "end": "477039"
  },
  {
    "text": "this file gets this tag",
    "start": "477039",
    "end": "479440"
  },
  {
    "text": "so we need to have multiple files for",
    "start": "479440",
    "end": "481919"
  },
  {
    "text": "every single category which",
    "start": "481919",
    "end": "484720"
  },
  {
    "text": "was difficult so",
    "start": "484720",
    "end": "486960"
  },
  {
    "text": "being using the forward port and the",
    "start": "486960",
    "end": "488879"
  },
  {
    "text": "fluent protocol allowed us to basically",
    "start": "488879",
    "end": "491039"
  },
  {
    "text": "send these messages directly to",
    "start": "491039",
    "end": "493919"
  },
  {
    "text": "fluentd influent bit",
    "start": "493919",
    "end": "496400"
  },
  {
    "text": "with like the category actually encoded",
    "start": "496400",
    "end": "498879"
  },
  {
    "text": "as the fluent tag",
    "start": "498879",
    "end": "501199"
  },
  {
    "text": "so that's why we went with that",
    "start": "501199",
    "end": "503280"
  },
  {
    "text": "this has some cost to durability because",
    "start": "503280",
    "end": "506160"
  },
  {
    "text": "now you need to make sure to send the",
    "start": "506160",
    "end": "508319"
  },
  {
    "text": "message to",
    "start": "508319",
    "end": "509840"
  },
  {
    "text": "to fluently",
    "start": "509840",
    "end": "512080"
  },
  {
    "text": "before the process dies but hopefully",
    "start": "512080",
    "end": "514159"
  },
  {
    "text": "this is mitigated a little bit by",
    "start": "514159",
    "end": "516479"
  },
  {
    "text": "the process being local to the",
    "start": "516479",
    "end": "520320"
  },
  {
    "text": "to the ec2 node",
    "start": "520320",
    "end": "522880"
  },
  {
    "text": "yeah so that's the approach we went with",
    "start": "522880",
    "end": "525360"
  },
  {
    "text": "so let's talk about how we built it",
    "start": "525360",
    "end": "529040"
  },
  {
    "start": "529000",
    "end": "566000"
  },
  {
    "text": "so we set this up initially using",
    "start": "529040",
    "end": "530959"
  },
  {
    "text": "fluentd",
    "start": "530959",
    "end": "532399"
  },
  {
    "text": "the reason for this was just because we",
    "start": "532399",
    "end": "534080"
  },
  {
    "text": "were already using fluentd for logging",
    "start": "534080",
    "end": "536640"
  },
  {
    "text": "and so like it was",
    "start": "536640",
    "end": "538560"
  },
  {
    "text": "pretty natural to just let's drop in a",
    "start": "538560",
    "end": "541360"
  },
  {
    "text": "forward port config here and see what",
    "start": "541360",
    "end": "544000"
  },
  {
    "text": "happens",
    "start": "544000",
    "end": "544959"
  },
  {
    "text": "um",
    "start": "544959",
    "end": "546880"
  },
  {
    "text": "and yeah and we set this up with disk",
    "start": "546880",
    "end": "549600"
  },
  {
    "text": "buffering of course so that when it",
    "start": "549600",
    "end": "551279"
  },
  {
    "text": "couldn't flush events um it would just",
    "start": "551279",
    "end": "554399"
  },
  {
    "text": "save them and try again later",
    "start": "554399",
    "end": "556800"
  },
  {
    "text": "um",
    "start": "556800",
    "end": "557920"
  },
  {
    "text": "and",
    "start": "557920",
    "end": "558720"
  },
  {
    "text": "yeah and",
    "start": "558720",
    "end": "560640"
  },
  {
    "text": "basically this turned out to be a",
    "start": "560640",
    "end": "563040"
  },
  {
    "text": "pretty good swap for the existing system",
    "start": "563040",
    "end": "566240"
  },
  {
    "start": "566000",
    "end": "613000"
  },
  {
    "text": "um",
    "start": "566240",
    "end": "567120"
  },
  {
    "text": "yeah",
    "start": "567120",
    "end": "568320"
  },
  {
    "text": "so we tagged the record so as you passed",
    "start": "568320",
    "end": "571360"
  },
  {
    "text": "in",
    "start": "571360",
    "end": "572080"
  },
  {
    "text": "log it got tagged with like uh",
    "start": "572080",
    "end": "576480"
  },
  {
    "text": "sorry this is a um a fluent record",
    "start": "576480",
    "end": "579680"
  },
  {
    "text": "like a format according to the fluent",
    "start": "579680",
    "end": "581600"
  },
  {
    "text": "protocol",
    "start": "581600",
    "end": "583120"
  },
  {
    "text": "so this is the tag as it ends up",
    "start": "583120",
    "end": "587040"
  },
  {
    "text": "and this is the timestamp that it gets",
    "start": "587040",
    "end": "590240"
  },
  {
    "text": "and then this is the log message itself",
    "start": "590240",
    "end": "593600"
  },
  {
    "text": "and then",
    "start": "593600",
    "end": "594640"
  },
  {
    "text": "inside the configuration",
    "start": "594640",
    "end": "596880"
  },
  {
    "text": "we had just during our deployments we",
    "start": "596880",
    "end": "599120"
  },
  {
    "text": "had this template",
    "start": "599120",
    "end": "600640"
  },
  {
    "text": "configuration which gener which we used",
    "start": "600640",
    "end": "602959"
  },
  {
    "text": "to just generate the",
    "start": "602959",
    "end": "605040"
  },
  {
    "text": "configuration for fluent fluent eve",
    "start": "605040",
    "end": "608079"
  },
  {
    "text": "from the",
    "start": "608079",
    "end": "609360"
  },
  {
    "text": "json setup",
    "start": "609360",
    "end": "612160"
  },
  {
    "text": "yeah",
    "start": "612399",
    "end": "613920"
  },
  {
    "start": "613000",
    "end": "670000"
  },
  {
    "text": "so",
    "start": "613920",
    "end": "614640"
  },
  {
    "text": "in in order to test this",
    "start": "614640",
    "end": "617040"
  },
  {
    "text": "we really didn't want to lose any events",
    "start": "617040",
    "end": "618880"
  },
  {
    "text": "here so what we decided to do",
    "start": "618880",
    "end": "621200"
  },
  {
    "text": "was uh we set this up just side by side",
    "start": "621200",
    "end": "624800"
  },
  {
    "text": "so we still had scribe and everything",
    "start": "624800",
    "end": "626640"
  },
  {
    "text": "running",
    "start": "626640",
    "end": "628079"
  },
  {
    "text": "but we just added this config to fluentd",
    "start": "628079",
    "end": "633120"
  },
  {
    "text": "and then also what we did was we just",
    "start": "633120",
    "end": "635360"
  },
  {
    "text": "made a test kinesis stream",
    "start": "635360",
    "end": "638079"
  },
  {
    "text": "where we wrote everything so basically",
    "start": "638079",
    "end": "640399"
  },
  {
    "text": "every single event that the node process",
    "start": "640399",
    "end": "642480"
  },
  {
    "text": "had",
    "start": "642480",
    "end": "643920"
  },
  {
    "text": "it now wrote it both to scribe",
    "start": "643920",
    "end": "646320"
  },
  {
    "text": "anti-fluenty",
    "start": "646320",
    "end": "647920"
  },
  {
    "text": "and fluenty all it did with it was just",
    "start": "647920",
    "end": "650160"
  },
  {
    "text": "put it into a random kinesis stream",
    "start": "650160",
    "end": "652000"
  },
  {
    "text": "where it would get thrown away but uh",
    "start": "652000",
    "end": "654880"
  },
  {
    "text": "yeah what this did for us was that it",
    "start": "654880",
    "end": "657040"
  },
  {
    "text": "allowed us to",
    "start": "657040",
    "end": "658480"
  },
  {
    "text": "basically roll out everything as we were",
    "start": "658480",
    "end": "660640"
  },
  {
    "text": "as we actually",
    "start": "660640",
    "end": "662480"
  },
  {
    "text": "as the system was supposed to work but",
    "start": "662480",
    "end": "664720"
  },
  {
    "text": "without",
    "start": "664720",
    "end": "665760"
  },
  {
    "text": "relying fully on it",
    "start": "665760",
    "end": "667760"
  },
  {
    "text": "and through this we actually caught",
    "start": "667760",
    "end": "669120"
  },
  {
    "text": "quite a few bugs",
    "start": "669120",
    "end": "670880"
  },
  {
    "start": "670000",
    "end": "800000"
  },
  {
    "text": "um",
    "start": "670880",
    "end": "672000"
  },
  {
    "text": "so",
    "start": "672000",
    "end": "673440"
  },
  {
    "text": "yeah the big one that we ran into was",
    "start": "673440",
    "end": "676240"
  },
  {
    "text": "that um",
    "start": "676240",
    "end": "677440"
  },
  {
    "text": "once we were at about 500 events per",
    "start": "677440",
    "end": "679760"
  },
  {
    "text": "second",
    "start": "679760",
    "end": "681120"
  },
  {
    "text": "um then",
    "start": "681120",
    "end": "684000"
  },
  {
    "text": "then we just saw like the graph the",
    "start": "684000",
    "end": "686480"
  },
  {
    "text": "graph drop events like this",
    "start": "686480",
    "end": "689200"
  },
  {
    "text": "so this is",
    "start": "689200",
    "end": "691279"
  },
  {
    "text": "what this metric is is it's emitted by",
    "start": "691279",
    "end": "693760"
  },
  {
    "text": "the node process",
    "start": "693760",
    "end": "695440"
  },
  {
    "text": "as as",
    "start": "695440",
    "end": "696880"
  },
  {
    "text": "so as perceived by the node process how",
    "start": "696880",
    "end": "699360"
  },
  {
    "text": "many events one eye died didn't i",
    "start": "699360",
    "end": "701920"
  },
  {
    "text": "managed to send out",
    "start": "701920",
    "end": "704000"
  },
  {
    "text": "so we saw like random spikes of",
    "start": "704000",
    "end": "708079"
  },
  {
    "text": "like 40 events",
    "start": "708079",
    "end": "709920"
  },
  {
    "text": "which meant that when the process died",
    "start": "709920",
    "end": "712079"
  },
  {
    "text": "there were 40 events left in the queue",
    "start": "712079",
    "end": "713920"
  },
  {
    "text": "that we weren't able to even get to",
    "start": "713920",
    "end": "716000"
  },
  {
    "text": "fluency",
    "start": "716000",
    "end": "718639"
  },
  {
    "text": "so in in inspecting this uh one thing we",
    "start": "719440",
    "end": "722560"
  },
  {
    "text": "realized was that this system had like",
    "start": "722560",
    "end": "724959"
  },
  {
    "text": "really highly spiky loads so",
    "start": "724959",
    "end": "727580"
  },
  {
    "text": "[Music]",
    "start": "727580",
    "end": "729200"
  },
  {
    "text": "developers would some developers would",
    "start": "729200",
    "end": "731040"
  },
  {
    "text": "write an action that suddenly just like",
    "start": "731040",
    "end": "732800"
  },
  {
    "text": "generated 10 000 events",
    "start": "732800",
    "end": "735279"
  },
  {
    "text": "um and this",
    "start": "735279",
    "end": "737360"
  },
  {
    "text": "so like all of a sudden like this one",
    "start": "737360",
    "end": "740240"
  },
  {
    "text": "note process would just need to send",
    "start": "740240",
    "end": "742240"
  },
  {
    "text": "thousands of events into one fluency",
    "start": "742240",
    "end": "744880"
  },
  {
    "text": "cluster and then it would just drop to",
    "start": "744880",
    "end": "746639"
  },
  {
    "text": "zero after that",
    "start": "746639",
    "end": "748079"
  },
  {
    "text": "um",
    "start": "748079",
    "end": "750079"
  },
  {
    "text": "so",
    "start": "750079",
    "end": "750959"
  },
  {
    "text": "and then what we did then",
    "start": "750959",
    "end": "753200"
  },
  {
    "text": "we looked into like why this was",
    "start": "753200",
    "end": "755360"
  },
  {
    "text": "happening why we're losing",
    "start": "755360",
    "end": "757360"
  },
  {
    "text": "these events and it turned out that the",
    "start": "757360",
    "end": "759760"
  },
  {
    "text": "library",
    "start": "759760",
    "end": "761839"
  },
  {
    "text": "the way it had implemented",
    "start": "761839",
    "end": "764240"
  },
  {
    "text": "its send queue",
    "start": "764240",
    "end": "766240"
  },
  {
    "text": "was was",
    "start": "766240",
    "end": "768320"
  },
  {
    "text": "basically meant that it needed to write",
    "start": "768320",
    "end": "771440"
  },
  {
    "text": "one event or one fluent record",
    "start": "771440",
    "end": "774240"
  },
  {
    "text": "so one of these",
    "start": "774240",
    "end": "776399"
  },
  {
    "text": "and it will wait",
    "start": "776399",
    "end": "777920"
  },
  {
    "text": "for that entire write to complete before",
    "start": "777920",
    "end": "780720"
  },
  {
    "text": "being able to send the next event",
    "start": "780720",
    "end": "784639"
  },
  {
    "text": "so like wait for",
    "start": "784639",
    "end": "786639"
  },
  {
    "text": "uh the operating system to report this",
    "start": "786639",
    "end": "789440"
  },
  {
    "text": "uh right had fully been written to the",
    "start": "789440",
    "end": "791519"
  },
  {
    "text": "socket and this actually had quite a",
    "start": "791519",
    "end": "794240"
  },
  {
    "text": "huge performance cost",
    "start": "794240",
    "end": "796399"
  },
  {
    "text": "um",
    "start": "796399",
    "end": "798399"
  },
  {
    "text": "in in this so basically what we did was",
    "start": "798399",
    "end": "801279"
  },
  {
    "text": "just decided to make a faster library um",
    "start": "801279",
    "end": "804560"
  },
  {
    "text": "and",
    "start": "804560",
    "end": "805760"
  },
  {
    "start": "805000",
    "end": "852000"
  },
  {
    "text": "yeah",
    "start": "805760",
    "end": "806720"
  },
  {
    "text": "we we implemented a different library",
    "start": "806720",
    "end": "809920"
  },
  {
    "text": "which had a little bit of a different",
    "start": "809920",
    "end": "811519"
  },
  {
    "text": "architecture to be able to",
    "start": "811519",
    "end": "814399"
  },
  {
    "text": "control how like how many events you",
    "start": "814399",
    "end": "816880"
  },
  {
    "text": "wrote at the same time and how many",
    "start": "816880",
    "end": "818800"
  },
  {
    "text": "events like",
    "start": "818800",
    "end": "820160"
  },
  {
    "text": "uh",
    "start": "820160",
    "end": "821360"
  },
  {
    "text": "what type of",
    "start": "821360",
    "end": "822800"
  },
  {
    "text": "forwarding protocol the fluent protocol",
    "start": "822800",
    "end": "825199"
  },
  {
    "text": "supports three to",
    "start": "825199",
    "end": "826880"
  },
  {
    "text": "four different",
    "start": "826880",
    "end": "828399"
  },
  {
    "text": "ways of sending events so like you can",
    "start": "828399",
    "end": "830160"
  },
  {
    "text": "batch them together or you can uh send",
    "start": "830160",
    "end": "832639"
  },
  {
    "text": "them one by one and we wanted to be able",
    "start": "832639",
    "end": "834639"
  },
  {
    "text": "to like test which one worked for us",
    "start": "834639",
    "end": "838320"
  },
  {
    "text": "and also like things like",
    "start": "838320",
    "end": "839920"
  },
  {
    "text": "acknowledgements and about a bunch of",
    "start": "839920",
    "end": "842800"
  },
  {
    "text": "stuff",
    "start": "842800",
    "end": "844079"
  },
  {
    "text": "if you're interested in this i highly",
    "start": "844079",
    "end": "845760"
  },
  {
    "text": "recommend checking it out",
    "start": "845760",
    "end": "848720"
  },
  {
    "text": "yeah",
    "start": "848959",
    "end": "850160"
  },
  {
    "text": "and anyway we did this",
    "start": "850160",
    "end": "852240"
  },
  {
    "text": "and now node was actually able to keep",
    "start": "852240",
    "end": "854880"
  },
  {
    "text": "up so we didn't see",
    "start": "854880",
    "end": "857040"
  },
  {
    "text": "as many drop messages",
    "start": "857040",
    "end": "859519"
  },
  {
    "text": "so we were actually able to go from 500",
    "start": "859519",
    "end": "862000"
  },
  {
    "text": "events per second on the last slide to",
    "start": "862000",
    "end": "864720"
  },
  {
    "text": "30k events per second",
    "start": "864720",
    "end": "867760"
  },
  {
    "text": "events per second",
    "start": "867760",
    "end": "869360"
  },
  {
    "text": "at",
    "start": "869360",
    "end": "870560"
  },
  {
    "text": "during peak time",
    "start": "870560",
    "end": "872720"
  },
  {
    "text": "which was about 240 events per second",
    "start": "872720",
    "end": "875040"
  },
  {
    "text": "per host",
    "start": "875040",
    "end": "877199"
  },
  {
    "text": "what we actually ran into here was a",
    "start": "877199",
    "end": "879680"
  },
  {
    "text": "different like slightly larger problem",
    "start": "879680",
    "end": "882000"
  },
  {
    "text": "was that at this load we saw fluent",
    "start": "882000",
    "end": "884720"
  },
  {
    "text": "fluent d actually run into issues",
    "start": "884720",
    "end": "888000"
  },
  {
    "text": "basically",
    "start": "888000",
    "end": "889040"
  },
  {
    "text": "it started using about two gigs of",
    "start": "889040",
    "end": "890880"
  },
  {
    "text": "memory",
    "start": "890880",
    "end": "892480"
  },
  {
    "text": "and started losing a lot of events so",
    "start": "892480",
    "end": "895519"
  },
  {
    "text": "effectively",
    "start": "895519",
    "end": "897519"
  },
  {
    "text": "immediately as we rolled out to 30 30",
    "start": "897519",
    "end": "900079"
  },
  {
    "text": "000 events like when we're at 20 000",
    "start": "900079",
    "end": "903120"
  },
  {
    "text": "this was this graph was at zero and then",
    "start": "903120",
    "end": "905440"
  },
  {
    "text": "we went out went up to",
    "start": "905440",
    "end": "908000"
  },
  {
    "text": "30 000 um this graph",
    "start": "908000",
    "end": "910639"
  },
  {
    "text": "went up to 80 000",
    "start": "910639",
    "end": "913600"
  },
  {
    "text": "over 300 300 000 events so we're",
    "start": "913600",
    "end": "916480"
  },
  {
    "text": "dropping like a relatively huge amount",
    "start": "916480",
    "end": "918880"
  },
  {
    "text": "of events over 20",
    "start": "918880",
    "end": "921120"
  },
  {
    "text": "um",
    "start": "921120",
    "end": "922800"
  },
  {
    "text": "and this just turned out to be",
    "start": "922800",
    "end": "925279"
  },
  {
    "text": "a",
    "start": "925279",
    "end": "926320"
  },
  {
    "text": "lower",
    "start": "926320",
    "end": "927279"
  },
  {
    "text": "like i guess",
    "start": "927279",
    "end": "929040"
  },
  {
    "text": "uh lower performance of fluency so",
    "start": "929040",
    "end": "932639"
  },
  {
    "text": "yeah like there were a bunch of",
    "start": "932639",
    "end": "933839"
  },
  {
    "text": "approaches that we could have taken here",
    "start": "933839",
    "end": "935920"
  },
  {
    "text": "we could",
    "start": "935920",
    "end": "937199"
  },
  {
    "text": "fluently has this thing called workers",
    "start": "937199",
    "end": "939440"
  },
  {
    "text": "so we thought about setting that up but",
    "start": "939440",
    "end": "942079"
  },
  {
    "text": "before we did that",
    "start": "942079",
    "end": "944160"
  },
  {
    "start": "944000",
    "end": "949000"
  },
  {
    "text": "someone just said let's try out fluent",
    "start": "944160",
    "end": "945839"
  },
  {
    "text": "pit and see what happens",
    "start": "945839",
    "end": "948320"
  },
  {
    "text": "so that's we just did that",
    "start": "948320",
    "end": "950639"
  },
  {
    "text": "it actually took less than a day to just",
    "start": "950639",
    "end": "953120"
  },
  {
    "text": "throw it out to our infrastructure",
    "start": "953120",
    "end": "955440"
  },
  {
    "text": "and try it and we set up like we had the",
    "start": "955440",
    "end": "958320"
  },
  {
    "text": "same setup",
    "start": "958320",
    "end": "959759"
  },
  {
    "text": "file system buffering the only thing",
    "start": "959759",
    "end": "961759"
  },
  {
    "text": "that we needed to do",
    "start": "961759",
    "end": "963519"
  },
  {
    "text": "especially was that",
    "start": "963519",
    "end": "966720"
  },
  {
    "text": "the the",
    "start": "966839",
    "end": "969120"
  },
  {
    "text": "default plug-in in c didn't have a",
    "start": "969120",
    "end": "972720"
  },
  {
    "text": "fluent",
    "start": "972720",
    "end": "973680"
  },
  {
    "text": "kinesis aggregation",
    "start": "973680",
    "end": "976000"
  },
  {
    "text": "so we needed to set up the custom go",
    "start": "976000",
    "end": "978880"
  },
  {
    "text": "line plug-in to do that",
    "start": "978880",
    "end": "981680"
  },
  {
    "text": "but we didn't see any performance issue",
    "start": "981680",
    "end": "984000"
  },
  {
    "text": "so we",
    "start": "984000",
    "end": "984959"
  },
  {
    "text": "rolled out fully",
    "start": "984959",
    "end": "986480"
  },
  {
    "text": "so all of our events were getting double",
    "start": "986480",
    "end": "988720"
  },
  {
    "text": "written to both scribe and kinesis and",
    "start": "988720",
    "end": "991519"
  },
  {
    "text": "we saw no drop messages",
    "start": "991519",
    "end": "994880"
  },
  {
    "text": "from the perspective node",
    "start": "994880",
    "end": "997199"
  },
  {
    "text": "uh",
    "start": "997199",
    "end": "998160"
  },
  {
    "text": "so it managed to flush out all of its",
    "start": "998160",
    "end": "1000000"
  },
  {
    "text": "events into",
    "start": "1000000",
    "end": "1001600"
  },
  {
    "text": "fluent fluent bit",
    "start": "1001600",
    "end": "1003199"
  },
  {
    "text": "um so at this point we sort of",
    "start": "1003199",
    "end": "1006000"
  },
  {
    "text": "were a little bit sad that we had to",
    "start": "1006000",
    "end": "1007440"
  },
  {
    "text": "introduce a new system so now we both",
    "start": "1007440",
    "end": "1009839"
  },
  {
    "text": "have fluency and fluent bit but we",
    "start": "1009839",
    "end": "1012320"
  },
  {
    "text": "decided to go we had with what we had",
    "start": "1012320",
    "end": "1015519"
  },
  {
    "text": "and there's still actually a pending",
    "start": "1015519",
    "end": "1017680"
  },
  {
    "text": "thing to",
    "start": "1017680",
    "end": "1018800"
  },
  {
    "text": "dig into if we can improve the",
    "start": "1018800",
    "end": "1020480"
  },
  {
    "text": "performance of fluenty but i'm actually",
    "start": "1020480",
    "end": "1022880"
  },
  {
    "text": "now pushing for fluent bit",
    "start": "1022880",
    "end": "1025678"
  },
  {
    "text": "um yeah so",
    "start": "1025679",
    "end": "1027678"
  },
  {
    "text": "now that we've done this uh",
    "start": "1027679",
    "end": "1029839"
  },
  {
    "text": "we need we need to actually roll this",
    "start": "1029839",
    "end": "1032240"
  },
  {
    "text": "out so start relying on it",
    "start": "1032240",
    "end": "1034400"
  },
  {
    "text": "um what we did",
    "start": "1034400",
    "end": "1036558"
  },
  {
    "text": "with this was we set it to a per",
    "start": "1036559",
    "end": "1039199"
  },
  {
    "text": "category thing uh so",
    "start": "1039199",
    "end": "1042079"
  },
  {
    "text": "for category a we could set our",
    "start": "1042079",
    "end": "1044640"
  },
  {
    "text": "configuration to write it to fluent bit",
    "start": "1044640",
    "end": "1046798"
  },
  {
    "text": "and write everything else described",
    "start": "1046799",
    "end": "1049039"
  },
  {
    "text": "and then slowly we increase the size of",
    "start": "1049039",
    "end": "1051520"
  },
  {
    "text": "this set that gets written to fluent bit",
    "start": "1051520",
    "end": "1055280"
  },
  {
    "text": "and then we worked with",
    "start": "1055280",
    "end": "1057679"
  },
  {
    "text": "like the",
    "start": "1057679",
    "end": "1058720"
  },
  {
    "text": "consumer teams",
    "start": "1058720",
    "end": "1060080"
  },
  {
    "text": "to ensure that the rollout went well so",
    "start": "1060080",
    "end": "1063200"
  },
  {
    "text": "like they were monitoring their",
    "start": "1063200",
    "end": "1064400"
  },
  {
    "text": "downstream systems to make sure",
    "start": "1064400",
    "end": "1066480"
  },
  {
    "text": "that like the log volume didn't drop",
    "start": "1066480",
    "end": "1069120"
  },
  {
    "text": "massively all of a sudden and so on",
    "start": "1069120",
    "end": "1072400"
  },
  {
    "text": "and this went pretty well",
    "start": "1072400",
    "end": "1075840"
  },
  {
    "text": "we had a couple issues with fluentpit it",
    "start": "1075840",
    "end": "1078400"
  },
  {
    "start": "1076000",
    "end": "1143000"
  },
  {
    "text": "wasn't quite free",
    "start": "1078400",
    "end": "1080799"
  },
  {
    "text": "we had",
    "start": "1080799",
    "end": "1081840"
  },
  {
    "text": "uh",
    "start": "1081840",
    "end": "1083760"
  },
  {
    "text": "base basically the main problems here",
    "start": "1083760",
    "end": "1086160"
  },
  {
    "text": "were actually the kinesis of the kinesis",
    "start": "1086160",
    "end": "1089120"
  },
  {
    "text": "plug-in",
    "start": "1089120",
    "end": "1090640"
  },
  {
    "text": "the the kinesis plug-in had some issues",
    "start": "1090640",
    "end": "1093200"
  },
  {
    "text": "with",
    "start": "1093200",
    "end": "1094799"
  },
  {
    "text": "how it did kpl aggregation",
    "start": "1094799",
    "end": "1097679"
  },
  {
    "text": "which actually ended up causing",
    "start": "1097679",
    "end": "1099679"
  },
  {
    "text": "corruption bugs in fluent bit so we",
    "start": "1099679",
    "end": "1101919"
  },
  {
    "text": "ended up with corrupt chunks in there",
    "start": "1101919",
    "end": "1105600"
  },
  {
    "text": "so turning chaksumming on for fluent for",
    "start": "1105600",
    "end": "1108799"
  },
  {
    "text": "fluent bit uh when you're using disk",
    "start": "1108799",
    "end": "1111039"
  },
  {
    "text": "buffering is really cool uh what it does",
    "start": "1111039",
    "end": "1113520"
  },
  {
    "text": "then is it just checks hey is this uh",
    "start": "1113520",
    "end": "1116960"
  },
  {
    "text": "is this trunk like",
    "start": "1116960",
    "end": "1118559"
  },
  {
    "text": "does it it checks the crc checksum so",
    "start": "1118559",
    "end": "1121280"
  },
  {
    "text": "hey is this chunk still okay",
    "start": "1121280",
    "end": "1123440"
  },
  {
    "text": "and if it if it's broken then it just",
    "start": "1123440",
    "end": "1125280"
  },
  {
    "text": "throws it throws it away instead of",
    "start": "1125280",
    "end": "1128240"
  },
  {
    "text": "what we saw happening was just a crash",
    "start": "1128240",
    "end": "1130000"
  },
  {
    "text": "loop",
    "start": "1130000",
    "end": "1131280"
  },
  {
    "text": "and then",
    "start": "1131280",
    "end": "1133039"
  },
  {
    "text": "yeah and then we fixed the upstream bugs",
    "start": "1133039",
    "end": "1135120"
  },
  {
    "text": "on how it",
    "start": "1135120",
    "end": "1136400"
  },
  {
    "text": "computed partition keys",
    "start": "1136400",
    "end": "1138480"
  },
  {
    "text": "for kpl aggregation",
    "start": "1138480",
    "end": "1141039"
  },
  {
    "text": "um",
    "start": "1141039",
    "end": "1142960"
  },
  {
    "text": "yeah and with that we managed to roll it",
    "start": "1142960",
    "end": "1145120"
  },
  {
    "start": "1143000",
    "end": "1165000"
  },
  {
    "text": "out fully",
    "start": "1145120",
    "end": "1147120"
  },
  {
    "text": "it's just running in production now and",
    "start": "1147120",
    "end": "1149360"
  },
  {
    "text": "we like this boosted our",
    "start": "1149360",
    "end": "1152240"
  },
  {
    "text": "we've actually since managed to also",
    "start": "1152240",
    "end": "1153919"
  },
  {
    "text": "move this most of the system over to",
    "start": "1153919",
    "end": "1155679"
  },
  {
    "text": "kubernetes so",
    "start": "1155679",
    "end": "1157520"
  },
  {
    "text": "that really helped with that",
    "start": "1157520",
    "end": "1159679"
  },
  {
    "text": "and just a quick timeline for",
    "start": "1159679",
    "end": "1162559"
  },
  {
    "text": "this work",
    "start": "1162559",
    "end": "1164559"
  },
  {
    "text": "and",
    "start": "1164559",
    "end": "1165360"
  },
  {
    "start": "1165000",
    "end": "1216000"
  },
  {
    "text": "yeah",
    "start": "1165360",
    "end": "1166400"
  },
  {
    "text": "a couple learnings of this work for like",
    "start": "1166400",
    "end": "1169280"
  },
  {
    "text": "for me uh personally was that being able",
    "start": "1169280",
    "end": "1172240"
  },
  {
    "text": "to do this double right thing like",
    "start": "1172240",
    "end": "1173760"
  },
  {
    "text": "allowed us to be really calm in the",
    "start": "1173760",
    "end": "1175679"
  },
  {
    "text": "rollout so like oh no it broke and we",
    "start": "1175679",
    "end": "1177679"
  },
  {
    "text": "just turned it off",
    "start": "1177679",
    "end": "1179200"
  },
  {
    "text": "um",
    "start": "1179200",
    "end": "1180559"
  },
  {
    "text": "getting like getting actually high",
    "start": "1180559",
    "end": "1182240"
  },
  {
    "text": "performance like i had a lot of fringe",
    "start": "1182240",
    "end": "1184720"
  },
  {
    "text": "cases that ended up being sort of just i",
    "start": "1184720",
    "end": "1187600"
  },
  {
    "text": "guess this is what was broken",
    "start": "1187600",
    "end": "1190240"
  },
  {
    "text": "um it was like some of them ended up",
    "start": "1190240",
    "end": "1192080"
  },
  {
    "text": "being kind of hard to reproduce",
    "start": "1192080",
    "end": "1194400"
  },
  {
    "text": "and also just",
    "start": "1194400",
    "end": "1195679"
  },
  {
    "text": "going in and fixing the open source code",
    "start": "1195679",
    "end": "1198480"
  },
  {
    "text": "was just really easy and",
    "start": "1198480",
    "end": "1200640"
  },
  {
    "text": "it also like helped",
    "start": "1200640",
    "end": "1202640"
  },
  {
    "text": "us get a very deep understanding of the",
    "start": "1202640",
    "end": "1204559"
  },
  {
    "text": "system",
    "start": "1204559",
    "end": "1207280"
  },
  {
    "text": "yeah thank you",
    "start": "1207280",
    "end": "1209440"
  },
  {
    "text": "there's time for questions i think if",
    "start": "1209440",
    "end": "1211679"
  },
  {
    "text": "yeah",
    "start": "1211679",
    "end": "1212880"
  },
  {
    "text": "no there isn't",
    "start": "1212880",
    "end": "1214720"
  },
  {
    "text": "so",
    "start": "1214720",
    "end": "1215600"
  },
  {
    "text": "i'm on slack if you want to ask me",
    "start": "1215600",
    "end": "1217840"
  },
  {
    "text": "anything",
    "start": "1217840",
    "end": "1219630"
  },
  {
    "text": "[Applause]",
    "start": "1219630",
    "end": "1226000"
  },
  {
    "text": "maybe one question if",
    "start": "1226000",
    "end": "1228000"
  },
  {
    "text": "anyone has it anyone have any questions",
    "start": "1228000",
    "end": "1231280"
  },
  {
    "text": "maybe do one real quick",
    "start": "1231280",
    "end": "1234400"
  },
  {
    "start": "1238000",
    "end": "1320000"
  },
  {
    "text": "yeah i was interested in the",
    "start": "1238400",
    "end": "1240720"
  },
  {
    "text": "maybe it's not it's only a part of the",
    "start": "1240720",
    "end": "1243039"
  },
  {
    "text": "big picture that you explained by the",
    "start": "1243039",
    "end": "1245039"
  },
  {
    "text": "way",
    "start": "1245039",
    "end": "1245840"
  },
  {
    "text": "great work",
    "start": "1245840",
    "end": "1247120"
  },
  {
    "text": "and i was interested in the disk",
    "start": "1247120",
    "end": "1249520"
  },
  {
    "text": "buffering so you are on amazon right yes",
    "start": "1249520",
    "end": "1253600"
  },
  {
    "text": "and this disk buffering how does it",
    "start": "1253600",
    "end": "1256640"
  },
  {
    "text": "work",
    "start": "1256640",
    "end": "1257600"
  },
  {
    "text": "um",
    "start": "1257600",
    "end": "1259039"
  },
  {
    "text": "so basically uh we",
    "start": "1259039",
    "end": "1263200"
  },
  {
    "text": "so i can actually follow up with you",
    "start": "1263200",
    "end": "1265200"
  },
  {
    "text": "better after after this um but",
    "start": "1265200",
    "end": "1267760"
  },
  {
    "text": "in effect what we did was we just set it",
    "start": "1267760",
    "end": "1270559"
  },
  {
    "text": "up to cash forever",
    "start": "1270559",
    "end": "1272880"
  },
  {
    "text": "so if anything happens we collect chunks",
    "start": "1272880",
    "end": "1276080"
  },
  {
    "text": "indefinitely we do have a cleanup",
    "start": "1276080",
    "end": "1278240"
  },
  {
    "text": "process that cleans these up eventually",
    "start": "1278240",
    "end": "1280320"
  },
  {
    "text": "but",
    "start": "1280320",
    "end": "1281280"
  },
  {
    "text": "most of the time we just we",
    "start": "1281280",
    "end": "1283280"
  },
  {
    "text": "we wanted the high durability",
    "start": "1283280",
    "end": "1286080"
  },
  {
    "text": "in kubernetes of course we do regular",
    "start": "1286080",
    "end": "1288480"
  },
  {
    "text": "deployments and so on uh",
    "start": "1288480",
    "end": "1291600"
  },
  {
    "text": "yeah",
    "start": "1291600",
    "end": "1292960"
  },
  {
    "text": "i'm not sure if that answers your",
    "start": "1292960",
    "end": "1294159"
  },
  {
    "text": "question yeah sorry if that's pretty",
    "start": "1294159",
    "end": "1296000"
  },
  {
    "text": "it's okay it's okay thank you",
    "start": "1296000",
    "end": "1299440"
  },
  {
    "text": "anything else anyone else got a question",
    "start": "1302720",
    "end": "1305280"
  },
  {
    "text": "before we wrap up the wrap-up session",
    "start": "1305280",
    "end": "1307440"
  },
  {
    "text": "will take about five minutes so",
    "start": "1307440",
    "end": "1310960"
  },
  {
    "text": "okay",
    "start": "1312559",
    "end": "1313600"
  },
  {
    "text": "all right awesome thank you so much",
    "start": "1313600",
    "end": "1316560"
  },
  {
    "text": "[Applause]",
    "start": "1316560",
    "end": "1320480"
  },
  {
    "text": "you",
    "start": "1320480",
    "end": "1322559"
  }
]