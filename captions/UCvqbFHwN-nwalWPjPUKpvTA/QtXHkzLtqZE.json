[
  {
    "start": "0",
    "end": "116000"
  },
  {
    "text": "okay it's 4:30 I'm gonna go ahead and get started welcome to creating financial applications with spreadsheet",
    "start": "0",
    "end": "5069"
  },
  {
    "text": "macros no I'm just kidding so you know it's a basic kubernetes",
    "start": "5069",
    "end": "11040"
  },
  {
    "text": "debugging kit and I mean a couple of things by that and you'll see what I mean as we go on I put a few of the",
    "start": "11040",
    "end": "16730"
  },
  {
    "text": "usual suspects up there but we're gonna see some other things as well Who am I",
    "start": "16730",
    "end": "22550"
  },
  {
    "text": "why are we here why are we sitting in this room why are you bothering to listen to me and what is the ultimate",
    "start": "22550",
    "end": "28980"
  },
  {
    "text": "fate that we're all bound for well probably the ultimate fate we're all bound for is to get back on our command",
    "start": "28980",
    "end": "34680"
  },
  {
    "text": "lines when we get out of here and go back home this is some basic info about me I've been an IT for bout close to 25",
    "start": "34680",
    "end": "42660"
  },
  {
    "text": "years now I've worked for Capital One core OS Red Hat shout to anybody in the",
    "start": "42660",
    "end": "48660"
  },
  {
    "text": "room there's work for those places before I started with kubernetes in early 2015 so I'm at least as new as",
    "start": "48660",
    "end": "55410"
  },
  {
    "text": "most of you are and I've been working with it full-time since late 2015 when I joined core OS currently work at",
    "start": "55410",
    "end": "60989"
  },
  {
    "text": "mesosphere we are hiring come see me come to our booth pronouns",
    "start": "60989",
    "end": "66270"
  },
  {
    "text": "he and him blood type caffeine positive that's probably the most important thing on this slide and I have some contact",
    "start": "66270",
    "end": "73470"
  },
  {
    "text": "info there and that great big ugly QR code is that same contact info plus the slide URL so I'm gonna leave this up for",
    "start": "73470",
    "end": "80009"
  },
  {
    "text": "a second if anybody wants to grab that because I apologize in advance some of the command line text on these slides is",
    "start": "80009",
    "end": "86490"
  },
  {
    "text": "a little bit hard to read from way in the back of the room because they're intended to be read and kind of referred",
    "start": "86490",
    "end": "92130"
  },
  {
    "text": "to rather than just be pretty slides so you might want to grab that QR code now",
    "start": "92130",
    "end": "97409"
  },
  {
    "text": "so you can pull those slides up and follow along or pull them up later and catch up either way and give them at for",
    "start": "97409",
    "end": "104490"
  },
  {
    "text": "a few more seconds and these are posted on the sched by the",
    "start": "104490",
    "end": "111119"
  },
  {
    "text": "way so if you want you can just go there and download them later why low-level",
    "start": "111119",
    "end": "119009"
  },
  {
    "start": "116000",
    "end": "185000"
  },
  {
    "text": "tools still matter in this world where we have all these nifty new cloud native tools that do all kinds of nifty new",
    "start": "119009",
    "end": "124770"
  },
  {
    "text": "cloud native things sometimes your new tools don't go in place smoothly",
    "start": "124770",
    "end": "130849"
  },
  {
    "text": "sometimes they break that's just the way things are other",
    "start": "130849",
    "end": "136950"
  },
  {
    "text": "reasons they might matter in your day-to-day operations they're already there you already know how to use them",
    "start": "136950",
    "end": "143010"
  },
  {
    "text": "you just have to pick them up and put them to work and you'll probably get further with tools that you're",
    "start": "143010",
    "end": "148530"
  },
  {
    "text": "experienced with all other things being equal then something that you're trying to learn how to use for the first time",
    "start": "148530",
    "end": "153660"
  },
  {
    "text": "in an emergency I don't know about anybody else but I have been the guy in the data center and somebody says oh",
    "start": "153660",
    "end": "159510"
  },
  {
    "text": "just run the debug tool that we wrote for that and I'm like okay how what do I need to do I tried to run it it didn't",
    "start": "159510",
    "end": "166380"
  },
  {
    "text": "work what arguments do I need so we're",
    "start": "166380",
    "end": "171750"
  },
  {
    "text": "gonna go through this is probably the meat of the talk this is the basic tools that we're gonna go over and then we're gonna see some applications of those",
    "start": "171750",
    "end": "177959"
  },
  {
    "text": "tools and we'll talk about you know some of the ways that you can get those tools in where you need them to be in",
    "start": "177959",
    "end": "184910"
  },
  {
    "start": "185000",
    "end": "276000"
  },
  {
    "text": "everybody's seen coop control I hope if you haven't well that's why you're here",
    "start": "186140",
    "end": "192269"
  },
  {
    "text": "right so you can get familiar with that kind of thing some of the lesser-known cube control",
    "start": "192269",
    "end": "198810"
  },
  {
    "text": "things that you can do you can do a coop siku control attach you watch the standard output of a container in real",
    "start": "198810",
    "end": "204660"
  },
  {
    "text": "time if you read the documentation it will say that you can actually send signals to the process I've never gotten",
    "start": "204660",
    "end": "210239"
  },
  {
    "text": "that to work and I was talking to one of the kubernetes maintainer yesterday a contributor summit and I said and he was",
    "start": "210239",
    "end": "215250"
  },
  {
    "text": "one of the CLI people and I said hey what about this I've never been able to get this to work anyone oh yeah I never have either",
    "start": "215250",
    "end": "220320"
  },
  {
    "text": "so I didn't feel so bad anymore but I",
    "start": "220320",
    "end": "226110"
  },
  {
    "text": "mean basically so you know what we're looking at here is I just created a container and all it does is it",
    "start": "226110",
    "end": "231989"
  },
  {
    "text": "continuously writes random data to standard out and also tease it to a file",
    "start": "231989",
    "end": "238910"
  },
  {
    "text": "so speaking of things going to a file if you read the 12 factor manifesto it says",
    "start": "238910",
    "end": "243989"
  },
  {
    "text": "do not log to a file log to standard out and let the environment pick it up guess what a lot of applications do anyway so",
    "start": "243989",
    "end": "250880"
  },
  {
    "text": "if you want to get that log file you have to break into the container and grab it somehow well one of the easy",
    "start": "250880",
    "end": "256350"
  },
  {
    "text": "ways to do it is cube CT Cube control CP you can just copy a file out of the",
    "start": "256350",
    "end": "261419"
  },
  {
    "text": "container you can put one into the container it'll actually let you do some some more interesting things but",
    "start": "261419",
    "end": "267880"
  },
  {
    "text": "the basic usage is just this it looks a lot like copying to an NFS share if",
    "start": "267880",
    "end": "272889"
  },
  {
    "text": "you've ever done that before I'm sure some of you have you can find out more",
    "start": "272889",
    "end": "278169"
  },
  {
    "start": "276000",
    "end": "345000"
  },
  {
    "text": "about what's going on than you ever wanted to know by throwing a couple of V arguments at it you can just give it a",
    "start": "278169",
    "end": "283570"
  },
  {
    "text": "Kubb CTL get nodes gives you the nice neat little table if we say cube CTL V -",
    "start": "283570",
    "end": "290440"
  },
  {
    "text": "v6 get nodes we get a little more output if we say cube CTL - V 99 get nodes we",
    "start": "290440",
    "end": "298960"
  },
  {
    "text": "get a lot more output I actually clip this off because it's just pages and pages and pages of config loaded from",
    "start": "298960",
    "end": "305080"
  },
  {
    "text": "cash and config loaded from this file in that file and then it gets down to this here and this is the part that I really",
    "start": "305080",
    "end": "310210"
  },
  {
    "text": "wanted to show you is it actually shows you right here this is the curl command that you can run they would do the same",
    "start": "310210",
    "end": "317020"
  },
  {
    "text": "thing but it just did and then it tells you here this is the response that it got these are the response headers this",
    "start": "317020",
    "end": "323500"
  },
  {
    "text": "is the response body it's basically every single piece of data that you could have except for the raw TCP dump",
    "start": "323500",
    "end": "330160"
  },
  {
    "text": "packet capture from this particular transaction now in reality there aren't 99 separate levels of verbosity I think",
    "start": "330160",
    "end": "337630"
  },
  {
    "text": "it stops around 8 or 9 but the 99 is just kind of the the community convention 4 give me everything you got",
    "start": "337630",
    "end": "345478"
  },
  {
    "start": "345000",
    "end": "501000"
  },
  {
    "text": "there's a couple things you can do to get help on the fly if you're trying to remember things what when might you be",
    "start": "346380",
    "end": "352389"
  },
  {
    "text": "trying to remember things that you can't just go look them up I wonder when that might be almost like if you were being",
    "start": "352389",
    "end": "359139"
  },
  {
    "text": "put to some sort of test maybe some sort of certification test so you know it",
    "start": "359139",
    "end": "367270"
  },
  {
    "text": "might be helpful if you could have your utilities explain things to you of",
    "start": "367270",
    "end": "373300"
  },
  {
    "text": "course if you're in the data center you know you're trying to read things on your phone this might be helpful there - just on the off-chance you can say",
    "start": "373300",
    "end": "379930"
  },
  {
    "text": "explain CRT and it gives you a description of a CRD a custom resource definition and it gives you all the",
    "start": "379930",
    "end": "385780"
  },
  {
    "text": "fields in a brief description of the fields and if you say well wait a minute I want more detail on that field you can",
    "start": "385780",
    "end": "391690"
  },
  {
    "text": "say explain CRT dot spec and it tells you all about all the subfields in the",
    "start": "391690",
    "end": "397840"
  },
  {
    "text": "spec of a CRT you can keep going this far down as you want you can actually go all the way down to where it just says hey that's a",
    "start": "397840",
    "end": "404390"
  },
  {
    "text": "string this is the string I have no more for you there's a couple of links down",
    "start": "404390",
    "end": "410090"
  },
  {
    "text": "there there are some other things cube see tail completion you can actually have cube control output shell",
    "start": "410090",
    "end": "415760"
  },
  {
    "text": "completion logic for your shell if you're using bash or zsh off can I",
    "start": "415760",
    "end": "421750"
  },
  {
    "text": "literally just you say cube cube control off can I create plot and it says yes or",
    "start": "421750",
    "end": "427370"
  },
  {
    "text": "it says no and then API resources gives you a summary of all the API resources",
    "start": "427370",
    "end": "432530"
  },
  {
    "text": "there aren't really arguments or options for that it's basically just a quick reference table of all the things you",
    "start": "432530",
    "end": "437960"
  },
  {
    "text": "can do on that server go so if you have multiple clusters with multiple API versions you can actually ask it what's",
    "start": "437960",
    "end": "444530"
  },
  {
    "text": "valid on this cluster and it'll tell you output control - oh yeah Mel gives you a",
    "start": "444530",
    "end": "454640"
  },
  {
    "text": "nice and manifest it actually gives you some extra stuff you probably have never created a Yambol manifest with things",
    "start": "454640",
    "end": "460340"
  },
  {
    "text": "like generation or creation timestamp probably well you might have created",
    "start": "460340",
    "end": "465560"
  },
  {
    "text": "some with annotations and then it has a status field but the point is that you",
    "start": "465560",
    "end": "470600"
  },
  {
    "text": "get options for how you are given the description of the workload that you're",
    "start": "470600",
    "end": "475910"
  },
  {
    "text": "looking at you can do JSON and it'll give you it in JSON format and we're",
    "start": "475910",
    "end": "481550"
  },
  {
    "text": "actually gonna be looking a lot at JSON very very shortly oh and also look at",
    "start": "481550",
    "end": "488870"
  },
  {
    "text": "JSON path support as well that allows you to do some pre filtering of that JSON right there from your cube control",
    "start": "488870",
    "end": "494450"
  },
  {
    "text": "command you can give it a filter expression and it'll just give you back the bits of JSON that you're actually interested in so then we turn to curl we",
    "start": "494450",
    "end": "505070"
  },
  {
    "start": "501000",
    "end": "605000"
  },
  {
    "text": "saw earlier that Cube control will tell us how to curl a transaction to duplicate the functionality of the cube",
    "start": "505070",
    "end": "511850"
  },
  {
    "text": "control utility well one of the things you have to do to actually do that is you have to throw a header in there if",
    "start": "511850",
    "end": "517339"
  },
  {
    "text": "you're using bearer tokens or something to say this is my authorization token and that's how you do it you just say -",
    "start": "517339",
    "end": "522650"
  },
  {
    "text": "- header it's not rocket science there's some other things that you'll need to potentially do with curl and",
    "start": "522650",
    "end": "529339"
  },
  {
    "text": "we'll get to those and some of the things you have to pay attention to are what kind of requests",
    "start": "529339",
    "end": "535300"
  },
  {
    "text": "are you making with curl if you're just getting info on a resource or if you're",
    "start": "535300",
    "end": "541600"
  },
  {
    "text": "watching or listing resources that's a get you don't need to specify a method with that that's the default",
    "start": "541600",
    "end": "547029"
  },
  {
    "text": "method then you if you're doing other things you need to use a different submission method post creates a",
    "start": "547029",
    "end": "554199"
  },
  {
    "text": "resource hatch merge updates a resource you give it a patch blob or manifest and",
    "start": "554199",
    "end": "561310"
  },
  {
    "text": "it merges that into the pot or the whatever resource it is you're updating same thing with put and delete they have",
    "start": "561310",
    "end": "567880"
  },
  {
    "text": "their place I gave you a quick example of a get here this is just get me a pod",
    "start": "567880",
    "end": "573190"
  },
  {
    "text": "list and you know this is a scrolling thing so you can see it goes all the way down to the bottom and then I cut it off",
    "start": "573190",
    "end": "579279"
  },
  {
    "text": "because you get the point at that point and then I put links down here there are",
    "start": "579279",
    "end": "584860"
  },
  {
    "text": "actual detailed guides in the API reference for write operations and read operations on pods and everything else",
    "start": "584860",
    "end": "591550"
  },
  {
    "text": "too for a lot of these things if you go in there and you look at the API spec for it you click on it in the and the",
    "start": "591550",
    "end": "597610"
  },
  {
    "text": "table to the left it'll give you write operations the read operation its delete operations you know yada yada watching",
    "start": "597610",
    "end": "608019"
  },
  {
    "start": "605000",
    "end": "736000"
  },
  {
    "text": "for changes so this is you could take this you can watch for changes to",
    "start": "608019",
    "end": "614260"
  },
  {
    "text": "resources this is basically the core of every custom resource control you've",
    "start": "614260",
    "end": "620019"
  },
  {
    "text": "ever seen they put a watch on something and then as data comes through they act on it and if the watch terminates for",
    "start": "620019",
    "end": "626949"
  },
  {
    "text": "some reason the connections broken or something they pick up where they left off and they start the watch again until you",
    "start": "626949",
    "end": "632470"
  },
  {
    "text": "terminate that resource controller so this is how you do it you just say whatever it was if you look back at what",
    "start": "632470",
    "end": "639730"
  },
  {
    "text": "we got before this curl command here is the same as this curl command here",
    "start": "639730",
    "end": "647079"
  },
  {
    "text": "except I added this at the end of it so you can watch pretty much any API",
    "start": "647079",
    "end": "653110"
  },
  {
    "text": "endpoint there's also a watch part of the API it seems like the convention is",
    "start": "653110",
    "end": "658510"
  },
  {
    "text": "to use question mark watch equals true at the end of the endpoint rather than using the",
    "start": "658510",
    "end": "663640"
  },
  {
    "text": "JP I specifically use whichever one works for you I haven't found any cases where they're different at all the other",
    "start": "663640",
    "end": "670660"
  },
  {
    "text": "thing I want to call your attention to here is we have this bit here so it",
    "start": "670660",
    "end": "677950"
  },
  {
    "text": "tells us a type because we're looking at pods it tells us that are no excuse me",
    "start": "677950",
    "end": "685630"
  },
  {
    "text": "we're looking at nodes here we were looking at pods before pods in the cluster I did this on don't change much",
    "start": "685630",
    "end": "691029"
  },
  {
    "text": "I threw an example pot in there and so it said hey there is a pod so it's as added because then your controller would",
    "start": "691029",
    "end": "697600"
  },
  {
    "text": "go oh there's a pot I need to watch it do something with nodes are a little more active nodes actually check in",
    "start": "697600",
    "end": "703300"
  },
  {
    "text": "every few seconds and they constantly update themselves so what you get in this three node cluster is right when",
    "start": "703300",
    "end": "709329"
  },
  {
    "text": "you do the watch you get the info on the nodes at their current state as an added",
    "start": "709329",
    "end": "715839"
  },
  {
    "text": "type then as they start updating you start getting these modified types down here because now they're updating their",
    "start": "715839",
    "end": "721930"
  },
  {
    "text": "status every 5 10 seconds whatever the interval is and so you can actually",
    "start": "721930",
    "end": "727209"
  },
  {
    "text": "watch what's going on in your cluster nodes if you filter that information down you can see it goes all the way off",
    "start": "727209",
    "end": "732820"
  },
  {
    "text": "to the right here but you know feeding",
    "start": "732820",
    "end": "738610"
  },
  {
    "start": "736000",
    "end": "820000"
  },
  {
    "text": "results to other things so what good does it do to just sit there with a curl",
    "start": "738610",
    "end": "743949"
  },
  {
    "text": "spitting info on your command why not much but what you can do is you can take",
    "start": "743949",
    "end": "751050"
  },
  {
    "text": "this curl command here and you can have it you can run a bash while read if",
    "start": "751050",
    "end": "758740"
  },
  {
    "text": "anybody's ever used read line or or other read operations in here you can have it reading everything that comes",
    "start": "758740",
    "end": "765070"
  },
  {
    "text": "through all of these added and modified events that are coming through here can be read and acted upon and in this case",
    "start": "765070",
    "end": "772899"
  },
  {
    "text": "I'm piping them to this whole long JQ thing here this is all a JQ pipeline",
    "start": "772899",
    "end": "780220"
  },
  {
    "text": "will talk more about JQ pipelines in a little bit what I'm doing is I'm filtering out some info about that node",
    "start": "780220",
    "end": "786130"
  },
  {
    "text": "and then I'm putting it into a formatter I want and this is what I get it down at the bottom it actually says here's a",
    "start": "786130",
    "end": "791920"
  },
  {
    "text": "node this is the node name that's all I'm interested in that there's another thing you can do with",
    "start": "791920",
    "end": "799029"
  },
  {
    "text": "Bosch it's called a co proc depending on who you talk to you they'll say it's",
    "start": "799029",
    "end": "804190"
  },
  {
    "text": "either the greatest thing since sliced bread or you should never use it at all but if you want to do that and",
    "start": "804190",
    "end": "809819"
  },
  {
    "text": "investigate whether that's the thing for you this is a very simple co proc that",
    "start": "809819",
    "end": "814930"
  },
  {
    "text": "does basically the same thing as this so",
    "start": "814930",
    "end": "821800"
  },
  {
    "start": "820000",
    "end": "930000"
  },
  {
    "text": "OpenSSL everybody here loves open SSL right it's it's the most user-friendly tool in your arsenal right hands up",
    "start": "821800",
    "end": "828850"
  },
  {
    "text": "user friendly okay some certificates verify live in this case what I did was",
    "start": "828850",
    "end": "835779"
  },
  {
    "text": "I literally just extracted the CA certificate for my cluster and said this is a trusted CA so I told open SSL here",
    "start": "835779",
    "end": "843430"
  },
  {
    "text": "there's your trusted CA now verify for me whether this client cert is valid and",
    "start": "843430",
    "end": "850240"
  },
  {
    "text": "it came back and said that client cert is okay you trust the CA that generated it if I take that out that's enough it's",
    "start": "850240",
    "end": "858339"
  },
  {
    "text": "a self generated CA so of course it's not trusted by anything in the world but this is the kind of thing that open SSL",
    "start": "858339",
    "end": "863380"
  },
  {
    "text": "throws out at you if you have a problem with your certificates you probably will",
    "start": "863380",
    "end": "868930"
  },
  {
    "text": "see that all the time if you're browsing to the dashboard or something on a kubernetes cluster and your cluster",
    "start": "868930",
    "end": "874689"
  },
  {
    "text": "certificate was self generated Firefox complains that you Chrome complains at you I think Chrome won't even let you go",
    "start": "874689",
    "end": "879790"
  },
  {
    "text": "there anymore it's it distrust self generated certificates so much that it",
    "start": "879790",
    "end": "885040"
  },
  {
    "text": "doesn't even let the user override in some cases see so working with a live",
    "start": "885040",
    "end": "893500"
  },
  {
    "text": "server so that's great if you have certificate files already on disk that you can just read but what if you need",
    "start": "893500",
    "end": "899529"
  },
  {
    "text": "to verify with a particular server whether it's valid or not you can do",
    "start": "899529",
    "end": "905410"
  },
  {
    "text": "that with open SSL S client you tell it to connect to a server and it connects to the server and says no that",
    "start": "905410",
    "end": "912639"
  },
  {
    "text": "certificate is not valid I don't trust the CA that issued that certificate I'm unable to verify that but then it'll",
    "start": "912639",
    "end": "919240"
  },
  {
    "text": "give you the certificate chain anyway so you can see what it is that it's having issues with if you feed it the CA",
    "start": "919240",
    "end": "925389"
  },
  {
    "text": "certificate with CA file again it'll tell you yeah that's fine",
    "start": "925389",
    "end": "931019"
  },
  {
    "start": "930000",
    "end": "1050000"
  },
  {
    "text": "some of the other basic tools I don't have examples for these because any examples I did would basically just be",
    "start": "931800",
    "end": "937329"
  },
  {
    "text": "man page examples and you can go look at the man page for them but there are some things to note Digg tcpdump netcat and",
    "start": "937329",
    "end": "944200"
  },
  {
    "text": "SS or some people just say sis tat they",
    "start": "944200",
    "end": "949600"
  },
  {
    "text": "are useful for debugging your network traffic and your network interfaces you",
    "start": "949600",
    "end": "954820"
  },
  {
    "text": "can break into a container and run a dig and say well ok dns resolution isn't working why isn't it working you can",
    "start": "954820",
    "end": "961240"
  },
  {
    "text": "actually recurse your way up the dns chain and pinpoint where that is failing you can do a TCP dump you can say well",
    "start": "961240",
    "end": "968170"
  },
  {
    "text": "ok I know traffic is going out of this container is it coming into this container no it's not or yes it is if",
    "start": "968170",
    "end": "975279"
  },
  {
    "text": "it's coming in maybe something else is happening to it netcat you can test bandwidth between",
    "start": "975279",
    "end": "980829"
  },
  {
    "text": "two systems two containers whatever you can see if something is slowing you down there shouldn't be and SS cysts at which",
    "start": "980829",
    "end": "988870"
  },
  {
    "text": "is the new instead of netstat to look at what's listening on open ports you",
    "start": "988870",
    "end": "994570"
  },
  {
    "text": "should be using SS instead of netstat these days and so that's one of the things that I wanted to note there was",
    "start": "994570",
    "end": "999870"
  },
  {
    "text": "you know some of these tools have been the traditional tools have been deprecated like I have config you should",
    "start": "999870",
    "end": "1006540"
  },
  {
    "text": "not be using ifconfig anymore not even for old-style debugging of regular bare metal systems should be using IP at or",
    "start": "1006540",
    "end": "1014070"
  },
  {
    "text": "show IP route show that kind of thing the IP route to tools set and that stat",
    "start": "1014070",
    "end": "1019620"
  },
  {
    "text": "has been replaced by SS the other thing is be aware of dependencies of these things a lot of the time you can't just",
    "start": "1019620",
    "end": "1026308"
  },
  {
    "text": "copy the binary and expect it to work there's gonna be libraries it depends on in particular anything that involves DNS",
    "start": "1026309",
    "end": "1032880"
  },
  {
    "text": "is going to work differently in a muscle based container that doesn't have the traditional Lib C in it so if you're",
    "start": "1032880",
    "end": "1038490"
  },
  {
    "text": "running alpine and Digg is acting funny that may be why it's not that it's",
    "start": "1038490",
    "end": "1043678"
  },
  {
    "text": "broken it just acts differently it is very strictly within the spec for Lib C so now we come to JQ we've already",
    "start": "1043679",
    "end": "1053010"
  },
  {
    "start": "1050000",
    "end": "1302000"
  },
  {
    "text": "seen that Jake you can filter your JSON for you but you know what can you do with it basic usage you pipe",
    "start": "1053010",
    "end": "1058809"
  },
  {
    "text": "some JSON content at it you give it some flags you give it a filter expression and it spits out put out the other end",
    "start": "1058809",
    "end": "1066059"
  },
  {
    "text": "easy filters the dot filter you say JQ dot and it doesn't filter it at all",
    "start": "1066059",
    "end": "1073750"
  },
  {
    "text": "asterisk why did I put asterisk there because the JSON spec actually says that",
    "start": "1073750",
    "end": "1080080"
  },
  {
    "text": "beyond a certain precision you are not required to faithfully reproduce numbers so if you feed",
    "start": "1080080",
    "end": "1085659"
  },
  {
    "text": "something in that JQ recognizes as an integer that is of a higher precision",
    "start": "1085659",
    "end": "1090700"
  },
  {
    "text": "than it can handle it will smash it down to lower precision and there is not a darn thing you can do about it and yes",
    "start": "1090700",
    "end": "1097600"
  },
  {
    "text": "the bug has been filed and the maintainer said it's allowed by the spec so I'm not going to change it you won't",
    "start": "1097600",
    "end": "1104380"
  },
  {
    "text": "probably run into that too often the one place that I've run into it a lot though is if you're piping out put out of etsy",
    "start": "1104380",
    "end": "1110679"
  },
  {
    "text": "D because an Etsy denote ID is at U n 64 and that's a higher precision than the",
    "start": "1110679",
    "end": "1116049"
  },
  {
    "text": "JSON spec handles and so if you pipe at C D JSON cluster info into JQ the note",
    "start": "1116049",
    "end": "1125710"
  },
  {
    "text": "IDs that you get out are not the actual IDs of the nodes because of that precision issue but you can see here",
    "start": "1125710",
    "end": "1132190"
  },
  {
    "text": "what I did was I just took this long single line JSON expression which is",
    "start": "1132190",
    "end": "1137409"
  },
  {
    "text": "very hard to read and I piped it through JQ dot + JQ gave me this nice little key",
    "start": "1137409",
    "end": "1143559"
  },
  {
    "text": "tree here so you can see what's going on I can do a little more than that I can",
    "start": "1143559",
    "end": "1150909"
  },
  {
    "text": "say dot key - and then what it says is oh he's just interested in this here so",
    "start": "1150909",
    "end": "1157269"
  },
  {
    "text": "it gives me just the value of key - in that tree I can say hey there's an array",
    "start": "1157269",
    "end": "1164710"
  },
  {
    "text": "there I want the second item in that array there zero based arrays so if I say dot key for index one it gives me",
    "start": "1164710",
    "end": "1174220"
  },
  {
    "text": "this because that's the second item in the array there are functions built into",
    "start": "1174220",
    "end": "1181000"
  },
  {
    "text": "JSON it's not all just hierarchy filters you can see here I said select something",
    "start": "1181000",
    "end": "1187590"
  },
  {
    "text": "based on can painting something and so what I end up with there is this long expression I",
    "start": "1187590",
    "end": "1195159"
  },
  {
    "text": "basically took that same expression I had before and I duplicated it and changed some of the values and so if you",
    "start": "1195159",
    "end": "1201820"
  },
  {
    "text": "go in there and you play with this in the slides after this talk you'll actually see that what you what you",
    "start": "1201820",
    "end": "1207730"
  },
  {
    "text": "would get there if you just ran it through JQ dot would be about twice this much output and because of this select",
    "start": "1207730",
    "end": "1213730"
  },
  {
    "text": "expression its zeroing in on a one half of that object the other thing is I",
    "start": "1213730",
    "end": "1219129"
  },
  {
    "text": "didn't want to I can sit here and talk all day about JQ there's a JQ cookbook and a JQ manual you should definitely go",
    "start": "1219129",
    "end": "1225309"
  },
  {
    "text": "read those the cookbook especially the other thing is if you're having trouble with something and you feel like you're",
    "start": "1225309",
    "end": "1230679"
  },
  {
    "text": "almost there but you can't quite get it there's a Stack Overflow community around JQ they do ask that if it's a",
    "start": "1230679",
    "end": "1237249"
  },
  {
    "text": "problem with using JQ and not an actual bug that you put it in Stack Overflow and tag it rather than filing a github",
    "start": "1237249",
    "end": "1242950"
  },
  {
    "text": "issue scripting beyond one-liners you",
    "start": "1242950",
    "end": "1248169"
  },
  {
    "text": "can create a script file just like you can create a bash script file and for most of the same reasons it's more",
    "start": "1248169",
    "end": "1253690"
  },
  {
    "text": "readable that way it helps mitigate some quoting issues one of the things you may",
    "start": "1253690",
    "end": "1258730"
  },
  {
    "text": "notice if you go back and look at this example is I have single quotes around this whole filter expression and that's",
    "start": "1258730",
    "end": "1264909"
  },
  {
    "text": "because you know if you don't put single quotes around it sometimes your content contains like dollar signs and they try",
    "start": "1264909",
    "end": "1270549"
  },
  {
    "text": "to get interpreted variables and she'll meta characters and it just becomes a big mess so putting your JQ filter into",
    "start": "1270549",
    "end": "1277690"
  },
  {
    "text": "a script file can help mitigate that so here I just created a very simple script at JQ that was essentially the exact",
    "start": "1277690",
    "end": "1284950"
  },
  {
    "text": "same thing that I had here so this one-liner JQ becomes call a",
    "start": "1284950",
    "end": "1291039"
  },
  {
    "text": "script file and I get the same output but it's a little bit cleaner to read",
    "start": "1291039",
    "end": "1296139"
  },
  {
    "text": "this than it is to try and make sense of it in a single one-liner on the command line after a pipe let's see where are we",
    "start": "1296139",
    "end": "1305679"
  },
  {
    "start": "1302000",
    "end": "1376000"
  },
  {
    "text": "on time I think we've got time your bash prompt is actually an important",
    "start": "1305679",
    "end": "1312399"
  },
  {
    "text": "debugging tool and can help keep you out of trouble so one of the things that we've all gotten used to is if you're",
    "start": "1312399",
    "end": "1317830"
  },
  {
    "text": "running is root your prompt change to a hash mark from a dollar sign or is that you normally use so a visual",
    "start": "1317830",
    "end": "1325159"
  },
  {
    "text": "reminder which cluster you're working in and what context you're working in can be useful and so I actually put a little",
    "start": "1325159",
    "end": "1331899"
  },
  {
    "text": "example here of what you could do in your bash profile this is a command I just found out about a few months ago",
    "start": "1331899",
    "end": "1337940"
  },
  {
    "text": "you can define a prompt set command and then it will actually create you know",
    "start": "1337940",
    "end": "1345799"
  },
  {
    "text": "you can put whatever you want in there and then when you run that through your",
    "start": "1345799",
    "end": "1351080"
  },
  {
    "text": "bash profile when your bash profile gets sourced on login now anytime I have coop config set I get this up there it tells",
    "start": "1351080",
    "end": "1358340"
  },
  {
    "text": "me hey you're in this Cates context admin at local so that's kind of a",
    "start": "1358340",
    "end": "1363500"
  },
  {
    "text": "warning to me I could even put like colors and highlighting and bold and stuff in there if I wanted I just did",
    "start": "1363500",
    "end": "1369049"
  },
  {
    "text": "that as a real quick demo let's see okay",
    "start": "1369049",
    "end": "1375080"
  },
  {
    "text": "we're doing good on time getting your tools in where you need them so we have lots of tools in our toolbox now how do",
    "start": "1375080",
    "end": "1381590"
  },
  {
    "text": "we actually get them inside the containers to use them in some cases if you've ever done this with docker you",
    "start": "1381590",
    "end": "1388309"
  },
  {
    "text": "can easily plug one container into another containers in network namespace with this - - and that equals container",
    "start": "1388309",
    "end": "1395450"
  },
  {
    "text": "you just give it the container ID it's basically the same way as when you do - - net equals host and then what that",
    "start": "1395450",
    "end": "1402140"
  },
  {
    "text": "allows you to do is in this case I just ran Fedora on the same container in the",
    "start": "1402140",
    "end": "1407330"
  },
  {
    "text": "same network namespaces the container I started way back at the beginning of this talk that's just outputting random",
    "start": "1407330",
    "end": "1413179"
  },
  {
    "text": "data and then because it's a fedora container I don't have IP route yet so I",
    "start": "1413179",
    "end": "1418340"
  },
  {
    "text": "install that stuff and now when I do IPA I can actually see my container network interface there so what if you're not",
    "start": "1418340",
    "end": "1425179"
  },
  {
    "text": "using docker containers what if you're one of the one of the fortunate people out there who's using something else I",
    "start": "1425179",
    "end": "1431029"
  },
  {
    "text": "don't want to bust on docker too bad they just they're so dominant that it makes me happy whenever I see anybody who said well we run rocket cuz I used",
    "start": "1431029",
    "end": "1438320"
  },
  {
    "text": "to work at core OS you can still get into that container because what you can",
    "start": "1438320",
    "end": "1445460"
  },
  {
    "text": "do is in this case I'm saying well where is that container running what node is it running on so that's the note it's",
    "start": "1445460",
    "end": "1450529"
  },
  {
    "text": "running on I do get pods - Oh wine and it told me the node now I go on that No",
    "start": "1450529",
    "end": "1455630"
  },
  {
    "text": "and I say okay what's the process ID well this is the process this is the",
    "start": "1455630",
    "end": "1461360"
  },
  {
    "text": "process ID what can I do with that process ID I can NS enter that process",
    "start": "1461360",
    "end": "1468049"
  },
  {
    "text": "ID and say put me in that processes namespace and if I don't give it something to run it just runs a shell",
    "start": "1468049",
    "end": "1474140"
  },
  {
    "text": "and so in this case it puts me in a shell in that process namespace and you",
    "start": "1474140",
    "end": "1480320"
  },
  {
    "text": "can see I'm looking at the same container interface without needing to do a docker attached to it so if you're",
    "start": "1480320",
    "end": "1489770"
  },
  {
    "start": "1487000",
    "end": "1574000"
  },
  {
    "text": "gonna run a debug container like that which one should you run anybody want to take a guess which container I recommend",
    "start": "1489770",
    "end": "1495620"
  },
  {
    "text": "you run come on somebody somebody throw something huh mmm good yes it's really",
    "start": "1495620",
    "end": "1505970"
  },
  {
    "text": "up to you I don't care which one you run I want you to figure out which one you",
    "start": "1505970",
    "end": "1511789"
  },
  {
    "text": "should run and it needs to have all the tools you need in it it could be a standard distro container if you've ever",
    "start": "1511789",
    "end": "1517460"
  },
  {
    "text": "used core OSS toolbox utility on container or Linux all toolbox does is download an extractor for the or a",
    "start": "1517460",
    "end": "1523669"
  },
  {
    "text": "container and run it as a privileged container and that way you can yum install all those tools or actually I",
    "start": "1523669",
    "end": "1529970"
  },
  {
    "text": "should say DNF install all those tools that core OS doesn't have to debug your core OS host I remember I used to teach",
    "start": "1529970",
    "end": "1537200"
  },
  {
    "text": "classes for them and I taught a class once and I had a guy in the front row and he went oh my god that's awesome",
    "start": "1537200",
    "end": "1542570"
  },
  {
    "text": "like he had no idea you could even do that if you aren't building your own",
    "start": "1542570",
    "end": "1548390"
  },
  {
    "text": "containers I recommend that you do it occasionally don't just say okay we're gonna use a district container and",
    "start": "1548390",
    "end": "1554150"
  },
  {
    "text": "that'd be the end of the conversation because this show containers tend to be pretty large and I want you to get a",
    "start": "1554150",
    "end": "1560720"
  },
  {
    "text": "sense of do we really need to be pulling in 600 Meg's of distro container every",
    "start": "1560720",
    "end": "1565940"
  },
  {
    "text": "time we need to debug something maybe you only need let's say a hundred Meg's or 50 Meg's what should be in your debug",
    "start": "1565940",
    "end": "1577190"
  },
  {
    "start": "1574000",
    "end": "1615000"
  },
  {
    "text": "container all your standard system tools that you need to debug your hosts and that includes potentially things like if",
    "start": "1577190",
    "end": "1583429"
  },
  {
    "text": "you have weird networking gear weird storage gear whatever it is filtering",
    "start": "1583429",
    "end": "1588559"
  },
  {
    "text": "and parsing tool we already saw JQ you know anything else that you feel comfortable with threw a",
    "start": "1588559",
    "end": "1594759"
  },
  {
    "text": "pearl in there if you like pearl it's been a while since I did any of it myself but yeah throw it in there any",
    "start": "1594759",
    "end": "1600940"
  },
  {
    "text": "tools specific to your apps if you're running Production apps I hope you have",
    "start": "1600940",
    "end": "1607359"
  },
  {
    "text": "debugging tools for them and management tools for them throw them in your containers because at some point you're",
    "start": "1607359",
    "end": "1612759"
  },
  {
    "text": "gonna need them demos this is always the",
    "start": "1612759",
    "end": "1618909"
  },
  {
    "start": "1615000",
    "end": "1975000"
  },
  {
    "text": "fun part right so what I'm gonna do is I'm actually gonna play you because it's",
    "start": "1618909",
    "end": "1624279"
  },
  {
    "text": "all command line based anyway and there's really no reason to do it live but I can if you really want to see it this is something so the story of this",
    "start": "1624279",
    "end": "1631809"
  },
  {
    "text": "demo is I was gonna demonstrate using curl to access the kubernetes api and it",
    "start": "1631809",
    "end": "1638440"
  },
  {
    "text": "wasn't working I was roughing it out on play with Kate's hands up everybody who's used play with Kate's in here okay",
    "start": "1638440",
    "end": "1644589"
  },
  {
    "text": "I see a couple of you there yeah so I was roughing it down and play with Kate's and it wasn't working and I was",
    "start": "1644589",
    "end": "1650259"
  },
  {
    "text": "like wow I extracted the certificate and it's not going what's going on so that debugging session actually became the",
    "start": "1650259",
    "end": "1657099"
  },
  {
    "text": "demo so we begin where I was I was sitting on the command line I was rude I mean I should be able to do",
    "start": "1657099",
    "end": "1663909"
  },
  {
    "text": "anything right I reinstall open SSL you",
    "start": "1663909",
    "end": "1670239"
  },
  {
    "text": "get to see me fumble around on the command line for a little bit JQ you",
    "start": "1670239",
    "end": "1678789"
  },
  {
    "text": "know this is this is one I think everything's gonna go great I'm just gonna do this it's gonna work I'm gonna copy and paste that into my slides and",
    "start": "1678789",
    "end": "1685229"
  },
  {
    "text": "and we're gonna be off and running okay that I expected because I didn't feed",
    "start": "1685229",
    "end": "1691929"
  },
  {
    "text": "any certificate or token or anything in there so the kubernetes api server shouldn't tell me I'm gonna authorised",
    "start": "1691929",
    "end": "1699119"
  },
  {
    "text": "so I said okay let's extract all the certificate info this by the way cube",
    "start": "1699119",
    "end": "1705249"
  },
  {
    "text": "control config do you minify extracts just the info about your current context from your cube config flattened preps it",
    "start": "1705249",
    "end": "1716499"
  },
  {
    "text": "to be actually bundled up and transport it somewhere else so you can see it put client key data and all that stuff that",
    "start": "1716499",
    "end": "1722109"
  },
  {
    "text": "it normally read acts there so if you really wanted to you could sit here and copy all this but this cluster is not gonna exist five",
    "start": "1722109",
    "end": "1728049"
  },
  {
    "text": "minutes after I finished so don't waste your time okay so pipe it through JSON okay we've got",
    "start": "1728049",
    "end": "1737140"
  },
  {
    "text": "it in the format that we can extract things with make sure that we have a",
    "start": "1737140",
    "end": "1742169"
  },
  {
    "text": "directory to put things in double-check",
    "start": "1742169",
    "end": "1748630"
  },
  {
    "text": "that I didn't already have that something in there that I was gonna overwrite okay throw the base64 encoded",
    "start": "1748630",
    "end": "1761500"
  },
  {
    "text": "output there there it is decode all that base64 output now I have my certificates there and I can use them",
    "start": "1761500",
    "end": "1768070"
  },
  {
    "text": "and so I said okay use my certificates and it said you're unauthorized and I",
    "start": "1768070",
    "end": "1774520"
  },
  {
    "text": "went what and I said okay is it a valid",
    "start": "1774520",
    "end": "1779679"
  },
  {
    "text": "certificate and OpenSSL told me yes it's",
    "start": "1779679",
    "end": "1785559"
  },
  {
    "text": "it's what it should be it's been issued by who you think it's issued it says that you are system masters and user",
    "start": "1785559",
    "end": "1791559"
  },
  {
    "text": "admin so what's going on so I said well let's throw a curl - VV in there and",
    "start": "1791559",
    "end": "1798059"
  },
  {
    "text": "that's when I saw this and I say like if",
    "start": "1798059",
    "end": "1803710"
  },
  {
    "text": "you heard a weird sound about a week ago it was my forehead slamming the table in my office repeatedly because I went why",
    "start": "1803710",
    "end": "1811299"
  },
  {
    "text": "why would you do that current versions of curl don't do this by the way because I actually went to file the bug and I",
    "start": "1811299",
    "end": "1817270"
  },
  {
    "text": "said well let me reproduce on my the door a laptop first and it didn't do it and I said okay now obviously they they",
    "start": "1817270",
    "end": "1822730"
  },
  {
    "text": "got complaints and they fixed it it didn't by the way do that with this client key it didn't do it with the CA",
    "start": "1822730",
    "end": "1829330"
  },
  {
    "text": "certificate it only did this weird thing with the client certificate but at least",
    "start": "1829330",
    "end": "1834429"
  },
  {
    "text": "it tells me what to do there so I said okay let's do that now I get lots of",
    "start": "1834429",
    "end": "1840970"
  },
  {
    "text": "output and now I can start filtering that output down and basically what I'm doing here is just progressively",
    "start": "1840970",
    "end": "1846309"
  },
  {
    "text": "filtering it down till all I have is the name of the nodes and you'll see that happen in just a second here",
    "start": "1846309",
    "end": "1853860"
  },
  {
    "text": "and there it is so I finally got authorized to the API server and I got",
    "start": "1857650",
    "end": "1863330"
  },
  {
    "text": "my node names second demo if I have time I do have a little bit of time second",
    "start": "1863330",
    "end": "1869990"
  },
  {
    "text": "demo is based on a scenario so we have a cluster we've been managing for a while we've got an employee named Jim hey",
    "start": "1869990",
    "end": "1875570"
  },
  {
    "text": "Jim's in here maybe a couple that don't want to raise their hands because they",
    "start": "1875570",
    "end": "1881120"
  },
  {
    "text": "know I'm about to say something bad we've got this employee Jim and he's been an admin on our cluster for a while",
    "start": "1881120",
    "end": "1887150"
  },
  {
    "text": "and Jim just kind of up and left under bad circumstances so we need to figure out exactly what we need to remove Jim",
    "start": "1887150",
    "end": "1894440"
  },
  {
    "text": "from because we haven't been doing our management like we should so how do we extract out from our cluster what",
    "start": "1894440",
    "end": "1901429"
  },
  {
    "text": "cluster roles is Jim bound to so we can do a get cluster role bindings - Oh JSON",
    "start": "1901429",
    "end": "1908090"
  },
  {
    "text": "and it throws this big blob of data at us I don't want to sit here and read all this I'm gonna filter it down with JQ",
    "start": "1908090",
    "end": "1914110"
  },
  {
    "text": "and so you can see what I did there if I can scroll back up a minute where they",
    "start": "1914110",
    "end": "1920480"
  },
  {
    "text": "go well I did a basic filter there we'll",
    "start": "1920480",
    "end": "1925730"
  },
  {
    "text": "just take that as read okay so you can",
    "start": "1925730",
    "end": "1931100"
  },
  {
    "text": "kind of see right there that I filtered it down and said tell me first of all",
    "start": "1931100",
    "end": "1937100"
  },
  {
    "text": "all of the cluster role bindings that have subjects because a lot of them",
    "start": "1937100",
    "end": "1942500"
  },
  {
    "text": "don't wear one of these subjects names contains Jim and it told me it gave me a",
    "start": "1942500",
    "end": "1951590"
  },
  {
    "text": "couple of data blobs and then I can further filter it down and say just give",
    "start": "1951590",
    "end": "1956929"
  },
  {
    "text": "me the names of those cluster role",
    "start": "1956929",
    "end": "1962270"
  },
  {
    "text": "bindings and now I know where I need to pull Jim out of the system from before he does any damage so with that final",
    "start": "1962270",
    "end": "1973820"
  },
  {
    "text": "thoughts I always like to throw a few in there don't panic that's the thing I always tell people I",
    "start": "1973820",
    "end": "1980030"
  },
  {
    "start": "1975000",
    "end": "2017000"
  },
  {
    "text": "know it always feels stressful when you're in there and something's gone wrong and and somebody's looking at even going find out the answer fix it fix it",
    "start": "1980030",
    "end": "1986390"
  },
  {
    "text": "fix it find out know your tools if you know your tools and you know what's underneath your",
    "start": "1986390",
    "end": "1992010"
  },
  {
    "text": "tools you can keep that panic reaction down we're not doing anything new here containers are just Linux I think",
    "start": "1992010",
    "end": "1998670"
  },
  {
    "text": "somebody actually has that on their sponsor booth containers are Linux I saw a guy walking around with that t-shirt I",
    "start": "1998670",
    "end": "2003830"
  },
  {
    "text": "think it was Red Hat thank you very much this is a QR code that links directly to",
    "start": "2003830",
    "end": "2010370"
  },
  {
    "text": "the slides that's just all that it is is the slide link anybody have any questions before",
    "start": "2010370",
    "end": "2016400"
  },
  {
    "text": "we have to get out of here",
    "start": "2016400",
    "end": "2019480"
  }
]