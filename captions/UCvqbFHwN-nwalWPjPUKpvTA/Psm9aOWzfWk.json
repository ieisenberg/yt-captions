[
  {
    "start": "0",
    "end": "120000"
  },
  {
    "text": "since I'm doing my whole my whole I'm using ASCII art for the whole presentation sadly I'm not doing any a",
    "start": "2520",
    "end": "11460"
  },
  {
    "text": "skier should've done it next time so",
    "start": "11460",
    "end": "18390"
  },
  {
    "text": "I'll let the room feel a little bit more how many of you were here for the last demo the last meeting",
    "start": "18390",
    "end": "24350"
  },
  {
    "text": "very few okay good we just find that Google was just presenting hybrid",
    "start": "24350",
    "end": "29699"
  },
  {
    "text": "control planes and in some ways that's the the peanut butter to this chocolate",
    "start": "29699",
    "end": "34860"
  },
  {
    "text": "but we can we can get into that in QA if we have time and I refuse to do Kubb",
    "start": "34860",
    "end": "43680"
  },
  {
    "text": "control I'm gonna be a good cuddler until I die sorry great so I apologize",
    "start": "43680",
    "end": "50700"
  },
  {
    "text": "for that in advance for those of you who have switched religions today and we",
    "start": "50700",
    "end": "56250"
  },
  {
    "text": "have a whole bunch to do how many people have used cube ADM good admin okay good",
    "start": "56250",
    "end": "63390"
  },
  {
    "text": "I just so I'm I'm gonna try and whip through things and I need to know how much explanation I need to do as we go",
    "start": "63390",
    "end": "68820"
  },
  {
    "text": "and I will start okay hello my name is",
    "start": "68820",
    "end": "74460"
  },
  {
    "text": "Rob Hirschfeld I am CEO and co-founder of a company called rockin I've been involved in the kubernetes community",
    "start": "74460",
    "end": "80700"
  },
  {
    "text": "since the very very early days the Oz con announcement and today we're going",
    "start": "80700",
    "end": "87689"
  },
  {
    "text": "to talk about some really exciting new stuff rack and focuses on operations",
    "start": "87689",
    "end": "93420"
  },
  {
    "text": "specifically on-premises physical metal operations right that's our area we do a",
    "start": "93420",
    "end": "99180"
  },
  {
    "text": "lot of other things too but that's really our focus area today we want to",
    "start": "99180",
    "end": "104310"
  },
  {
    "text": "talk about something that we think is really exciting which is immutable bootstrapping and then we're going to",
    "start": "104310",
    "end": "109409"
  },
  {
    "text": "talk about some other places where operations and kubernetes meet in interesting ways which is noted mission",
    "start": "109409",
    "end": "115079"
  },
  {
    "text": "and dynamic couplet configuration if you haven't heard of those things we'll get there if you're interested in community",
    "start": "115079",
    "end": "123990"
  },
  {
    "start": "120000",
    "end": "144000"
  },
  {
    "text": "side I'm involved in cluster ops sig so we like to try and roundup operators please get involved in that and then a",
    "start": "123990",
    "end": "131819"
  },
  {
    "text": "lot of what I'm going to show you we're gonna we're gonna with something called digital rebar which is an open source project that",
    "start": "131819",
    "end": "137069"
  },
  {
    "text": "rack and maintains for doing physical provisioning so the bare metal underlay side of this this whole equation and",
    "start": "137069",
    "end": "145410"
  },
  {
    "start": "144000",
    "end": "173000"
  },
  {
    "text": "before I get into the immutable boot it's it's worth doing a hat tip to Kubb",
    "start": "145410",
    "end": "150780"
  },
  {
    "text": "spray we've done a lot of work building tube spray deployments since version 1.2",
    "start": "150780",
    "end": "156740"
  },
  {
    "text": "back when it was coupe sprayed the first time and then cargo and then back to coupe spray and it's a really solid",
    "start": "156740",
    "end": "163170"
  },
  {
    "text": "ansible playbook it has great features like a CH a and plugins and things like that so I'm we're not trying to endorse",
    "start": "163170",
    "end": "169620"
  },
  {
    "text": "one installer over another we actually think if you like ansible coupes raise a",
    "start": "169620",
    "end": "175320"
  },
  {
    "text": "really good job but this this presentation has a lot of these pregnant",
    "start": "175320",
    "end": "180720"
  },
  {
    "text": "butts in it we think we think we can do better than what coupe spray does in",
    "start": "180720",
    "end": "186450"
  },
  {
    "text": "some in certain circumstances especially for turning over nodes and re provisioning and immutably because we",
    "start": "186450",
    "end": "192750"
  },
  {
    "text": "think that we can bring up kubernetes without central orchestration so without an external system telling all the nodes",
    "start": "192750",
    "end": "198630"
  },
  {
    "text": "what to do without having to build the inventory in advance right we wanted to notes just to come up boot and be",
    "start": "198630",
    "end": "204870"
  },
  {
    "text": "discovered that would be really nice without having SSH involved so if you're doing a mutable infrastructure I'm going",
    "start": "204870",
    "end": "210810"
  },
  {
    "text": "to pause and not assume the room knows what I mean by a mutable infrastructure like shell defined it I think of the",
    "start": "210810",
    "end": "215970"
  },
  {
    "text": "next slide the mutable infrastructure and then we just think it should be much",
    "start": "215970",
    "end": "221310"
  },
  {
    "text": "faster Coop's praise is really cool but it takes 20 minutes or so to run we'd like",
    "start": "221310",
    "end": "227220"
  },
  {
    "text": "to get that down in the sub five minutes range fast enough for me to demo in a presentation window so what is the",
    "start": "227220",
    "end": "236489"
  },
  {
    "start": "233000",
    "end": "359000"
  },
  {
    "text": "mutable infrastructure how many people know what a mutable infrastructure that term means something to them okay how",
    "start": "236489",
    "end": "241739"
  },
  {
    "text": "many people think they agree with my definition of a mutable mutability that's a dark I know I know you don't",
    "start": "241739",
    "end": "247500"
  },
  {
    "text": "that's a lie so immutability has has different",
    "start": "247500",
    "end": "252959"
  },
  {
    "text": "meanings for different people to me the fundamental architectural piece of it is this create destroy repeat pattern so if",
    "start": "252959",
    "end": "259049"
  },
  {
    "text": "you're doing cloud deployments you create a cloud an image some people would say am i but you create a golden",
    "start": "259049",
    "end": "266039"
  },
  {
    "text": "image for a system you deploy that image usually baked in a whole bunch of great stuff into that so",
    "start": "266039",
    "end": "271050"
  },
  {
    "text": "that by the time the image comes up you don't have to do much configuration or very limited configuration and then when",
    "start": "271050",
    "end": "277469"
  },
  {
    "text": "you're done you destroy that VM and you create a new VM with the new latest greatest stuff in it so we're switching",
    "start": "277469",
    "end": "283469"
  },
  {
    "text": "from a configuration pattern which is really what ansible drives to an immutable pattern where the image is pre",
    "start": "283469",
    "end": "289139"
  },
  {
    "text": "created with everything in it and you do you do much less and then you never patch or fix you always destroy and",
    "start": "289139",
    "end": "296490"
  },
  {
    "text": "replace we work on doing that on physical infrastructure so we're literally turning over nodes very",
    "start": "296490",
    "end": "302009"
  },
  {
    "text": "quickly I'll show you two ways that we do that and the reason we want to do",
    "start": "302009",
    "end": "307110"
  },
  {
    "text": "this pattern is it's one yeah two is the three is faster but it's a very",
    "start": "307110",
    "end": "313199"
  },
  {
    "text": "repeatable and predictable pattern so that means I can say this is the thing I want to deploy and you deploy it",
    "start": "313199",
    "end": "318349"
  },
  {
    "text": "configuration management tools are really good but they can be finicky or",
    "start": "318349",
    "end": "324150"
  },
  {
    "text": "especially over time configuration drift happens and it's very hard to maintain nodes and that makes everything simpler",
    "start": "324150",
    "end": "330839"
  },
  {
    "text": "and so in operations if we can increase simplicity and speed that's a big win and that's why we think immutability is",
    "start": "330839",
    "end": "337800"
  },
  {
    "text": "a very big deal there's a side effect in here that that we think is really important which is people know how to do",
    "start": "337800",
    "end": "343289"
  },
  {
    "text": "it in the cloud so if your automation works in the cloud and we can bring it back on premises then that's a big win",
    "start": "343289",
    "end": "349740"
  },
  {
    "text": "because then you've reduced your tool chains and you've reduced your test differences and you and you've increased the fidelity within your operational",
    "start": "349740",
    "end": "356580"
  },
  {
    "text": "environments so here's what we want to",
    "start": "356580",
    "end": "361710"
  },
  {
    "start": "359000",
    "end": "407000"
  },
  {
    "text": "show this is the zero configuration what we want to be able to do is do a three-step cluster initialization and",
    "start": "361710",
    "end": "367949"
  },
  {
    "text": "this is normal qu Badman if you if you haven't done it we just don't want to have to touch anything to make this",
    "start": "367949",
    "end": "373139"
  },
  {
    "text": "happen so we want to initialize the master we need to retrieve that token from the initialization and then we need",
    "start": "373139",
    "end": "379740"
  },
  {
    "text": "to join nodes with that token so it's this is normal if you've done it you log into one node you do things you log into",
    "start": "379740",
    "end": "385949"
  },
  {
    "text": "the other nodes with information we want to eliminate that step because that",
    "start": "385949",
    "end": "390960"
  },
  {
    "text": "still requires some coordination and synchronization manually if we get rid of that then clusters are going to come",
    "start": "390960",
    "end": "396060"
  },
  {
    "text": "up automatically if you look if you were in the last demo if somebody is hosting your control plan already then you can",
    "start": "396060",
    "end": "402449"
  },
  {
    "text": "do basically the skip the initialization step and use a remote control plane but",
    "start": "402449",
    "end": "408599"
  },
  {
    "start": "407000",
    "end": "454000"
  },
  {
    "text": "first you can't just go in and cube admin out of nothing you have to have",
    "start": "408599",
    "end": "414089"
  },
  {
    "text": "some preparation done so you you have to have an operating system installed you have to attach the disks to the system",
    "start": "414089",
    "end": "420690"
  },
  {
    "text": "so you have some persistent storage potentially we could do everything in memory but it makes sense to have some",
    "start": "420690",
    "end": "426959"
  },
  {
    "text": "persistence for the docker volumes to go somewhere instead of RAM and then you have to have docker installed right all",
    "start": "426959",
    "end": "433860"
  },
  {
    "text": "of these these are your prereqs is pretty simple but they need to get done and then to make the actual",
    "start": "433860",
    "end": "439800"
  },
  {
    "text": "bootstrapping go you need to have some control mechanism right so it's ansible or cloud in it or terraform or what",
    "start": "439800",
    "end": "447300"
  },
  {
    "text": "we've been able to do is eliminate those those pieces and just use the boot provision infrastructure we build with",
    "start": "447300",
    "end": "452669"
  },
  {
    "text": "digital rebar and it looks like this so",
    "start": "452669",
    "end": "458580"
  },
  {
    "text": "we have four nodes in the system we have to prep them so we have to install an",
    "start": "458580",
    "end": "464159"
  },
  {
    "text": "operating system and install docker pretty straightforward and then we need to let the admin node the master node",
    "start": "464159",
    "end": "470519"
  },
  {
    "text": "come up so it has to be a Kubb kuben it and create a cluster token right so that",
    "start": "470519",
    "end": "476550"
  },
  {
    "text": "token then is going to be used to join the other system so once that tokens available all the other systems are",
    "start": "476550",
    "end": "482789"
  },
  {
    "text": "going to come in and join it and then at that point we can just reply rinse repeat we can grow the cluster we could",
    "start": "482789",
    "end": "489209"
  },
  {
    "text": "drain and remove nodes from the cluster things become pretty straightforward at that point so this is this is the basic",
    "start": "489209",
    "end": "494250"
  },
  {
    "text": "bootstrapping process what we want to be able to do what we want to be able to do",
    "start": "494250",
    "end": "501719"
  },
  {
    "start": "499000",
    "end": "524000"
  },
  {
    "text": "there I'm gonna hold on that what we want to be able to do is synchronize",
    "start": "501719",
    "end": "507659"
  },
  {
    "text": "that process so we want the notes to come up just out of it as a group the first one up should be able to grab",
    "start": "507659",
    "end": "513899"
  },
  {
    "text": "being master create the token and then let the other notes go and that's what we'll show you in the demo and that'll",
    "start": "513899",
    "end": "520289"
  },
  {
    "text": "be able to bootstrap the cluster completely by itself but I do want to",
    "start": "520289",
    "end": "526649"
  },
  {
    "start": "524000",
    "end": "563000"
  },
  {
    "text": "before I demo I do want to give a PSA this is not a new installer we we believe very",
    "start": "526649",
    "end": "534990"
  },
  {
    "text": "strongly that we don't want distro Wars we don't want to install our worse in the kubernetes community so this is",
    "start": "534990",
    "end": "541230"
  },
  {
    "text": "using cube admin using cube admin primitives and it's using cube and commands there's no there's no magic",
    "start": "541230",
    "end": "547170"
  },
  {
    "text": "custom proprietary widget in this stuff it's it's a it's just using the tools",
    "start": "547170",
    "end": "552990"
  },
  {
    "text": "the way they are just like when we use coop spray we just use coop spray and that's our goal is to be able to use the",
    "start": "552990",
    "end": "560070"
  },
  {
    "text": "community tools the way the community tools are designed to be used all right so the demo all right so this is a coop",
    "start": "560070",
    "end": "570330"
  },
  {
    "start": "563000",
    "end": "755000"
  },
  {
    "text": "admin rebar which is digital rebar and immutable bootstrapping for the demo",
    "start": "570330",
    "end": "575720"
  },
  {
    "text": "I'll show you what these things look like this is the the overview system so",
    "start": "575720",
    "end": "582390"
  },
  {
    "text": "this is a digital rebar consoles where we're going to start and in this system I have put eight nodes because we're",
    "start": "582390",
    "end": "588990"
  },
  {
    "text": "gonna do two different deployments that are completely independent and my job here is not to show you digital rebar if",
    "start": "588990",
    "end": "595020"
  },
  {
    "text": "you want to do that go to the community site and you can you can duplicate all these steps there what I want to do is",
    "start": "595020",
    "end": "602130"
  },
  {
    "text": "focus on the the actual bring up and so for that what we've done can people see",
    "start": "602130",
    "end": "608100"
  },
  {
    "text": "this in the back okay I can that's why I asked there we go what what I've done",
    "start": "608100",
    "end": "617040"
  },
  {
    "text": "here is we've created two clusters in advance for for the demo one is a ram",
    "start": "617040",
    "end": "623790"
  },
  {
    "text": "cluster and one is a kubernetes install cluster and so in this cluster it",
    "start": "623790",
    "end": "629490"
  },
  {
    "text": "basically just tells you what the what it is a kubernetes cluster or crib my",
    "start": "629490",
    "end": "636840"
  },
  {
    "text": "naming not everybody my team loves that it works for me and I've created a",
    "start": "636840",
    "end": "642780"
  },
  {
    "text": "another cluster install that will actually do it one of them it's going to use our in memory fast booting",
    "start": "642780",
    "end": "649170"
  },
  {
    "text": "infrastructure the other one was actually gonna do a full regular CentOS install in this deployment and then what",
    "start": "649170",
    "end": "657240"
  },
  {
    "text": "we have to do is we have to assign these these profiles so in this case my first four nodes I've already put into",
    "start": "657240",
    "end": "664740"
  },
  {
    "text": "this Ram based cluster deployment so they're already booted they're waiting they're available for me and what I what",
    "start": "664740",
    "end": "671940"
  },
  {
    "text": "I need to do is go ahead and just tell it to start the install process outweigh ones thing to show you first and then",
    "start": "671940",
    "end": "678750"
  },
  {
    "text": "somebody can start a clock on the demo in this deployment we have a workflow so",
    "start": "678750",
    "end": "685560"
  },
  {
    "text": "we've already discovered and and put them in the wait state we call that that in that image sledgehammer and then what",
    "start": "685560",
    "end": "693570"
  },
  {
    "text": "we're gonna do after this is we're going to mount the disks step one we're gonna install docker step two and we're gonna",
    "start": "693570",
    "end": "698820"
  },
  {
    "text": "do the crib install step three and while that works I'll show you a little bit about the actual scripts that are going",
    "start": "698820",
    "end": "704130"
  },
  {
    "text": "on behind the scenes and then we're done we're just going to wait and then I'll run kubernetes for you so to launch that",
    "start": "704130",
    "end": "710699"
  },
  {
    "text": "script I just have to start the workflow to the mount local disks phase which I can do for are those four nodes pretty",
    "start": "710699",
    "end": "716610"
  },
  {
    "text": "easily nodes and I just need to go to",
    "start": "716610",
    "end": "723389"
  },
  {
    "text": "mount local disks so this is the beginning of that workflow so I've",
    "start": "723389",
    "end": "730920"
  },
  {
    "text": "applied that workflow you can see the stages are mounted here I'm gonna get some live events back as the system goes",
    "start": "730920",
    "end": "737550"
  },
  {
    "text": "through that process and that'll that'll let us see what's going on with these nodes so the first thing that's going to",
    "start": "737550",
    "end": "743310"
  },
  {
    "text": "happen for these nodes is that they're going to start going through the process",
    "start": "743310",
    "end": "748980"
  },
  {
    "text": "of building the actual infrastructure I'm looking at they're gonna go through",
    "start": "748980",
    "end": "758430"
  },
  {
    "start": "755000",
    "end": "1164000"
  },
  {
    "text": "the actual infrastructure phase and start running running the the install process for the disks and then we should",
    "start": "758430",
    "end": "765630"
  },
  {
    "text": "be able to start moving things all the way through so we're while we wait for that to kick off what I'm going to do is",
    "start": "765630",
    "end": "772560"
  },
  {
    "text": "I'm going to take the other four nodes that I have going and I'm going to add them into the other cluster that I have",
    "start": "772560",
    "end": "779250"
  },
  {
    "text": "ready to go and for them what we want to do is I need to put them in this case",
    "start": "779250",
    "end": "785190"
  },
  {
    "text": "install cluster so this is my second cluster you can see they're in that one and then I need to go ahead",
    "start": "785190",
    "end": "793220"
  },
  {
    "text": "and set them back at the beginning out sorry I want to set them to install",
    "start": "793220",
    "end": "798380"
  },
  {
    "text": "CentOS and then I want to let them reboot and so you'll see you'll actually",
    "start": "798380",
    "end": "810710"
  },
  {
    "text": "see I can expand this a little bit we're getting the updates and the machines are going through their cycle all right and",
    "start": "810710",
    "end": "823400"
  },
  {
    "text": "it looks like",
    "start": "823400",
    "end": "826660"
  },
  {
    "text": "I hit the wrong ones going through the wrong ways okay okay my CTS sitting in",
    "start": "829730",
    "end": "842630"
  },
  {
    "text": "my front row giving me glares or hints as I need it and so basically what's",
    "start": "842630",
    "end": "848149"
  },
  {
    "text": "going to happen in the in this case is the system's gonna go through and build the workflows and identify the cluster",
    "start": "848149",
    "end": "855730"
  },
  {
    "text": "with what's going on so if I check in on",
    "start": "855730",
    "end": "861860"
  },
  {
    "text": "and what we're waiting to happen is in this profile that we've built we're",
    "start": "861860",
    "end": "872570"
  },
  {
    "text": "gonna come back and as part of these two I'll take you through what the what the scripts look like that'll help explain",
    "start": "872570",
    "end": "878120"
  },
  {
    "text": "how we're using cube admin for this what will happen is is that as the cluster comes up the first node that's elected",
    "start": "878120",
    "end": "884480"
  },
  {
    "text": "is going to identify itself as the master and will inject I am the master",
    "start": "884480",
    "end": "890500"
  },
  {
    "text": "into the into this profile and that'll become a shared resource for all the other clusters so that's how we",
    "start": "890500",
    "end": "896149"
  },
  {
    "text": "coordinate this operation of a single node all the nodes boots simultaneously one becomes elected that self elects is",
    "start": "896149",
    "end": "902630"
  },
  {
    "text": "the cluster right we don't predefined that it's a it's basically a race one node wins and then once that node wins",
    "start": "902630",
    "end": "909170"
  },
  {
    "text": "the cube admin initialization step will pull back the required token and it's gonna then pull back join information",
    "start": "909170",
    "end": "916639"
  },
  {
    "text": "for all the other nodes to participate in so let me show you what that looks like so inside of this stage the crib",
    "start": "916639",
    "end": "929540"
  },
  {
    "text": "install stage here there's a single task in it and this is something relatively",
    "start": "929540",
    "end": "936110"
  },
  {
    "text": "new for us a lot of what we typically do is we would start to decompose this single tasks into multiple tasks and",
    "start": "936110",
    "end": "941899"
  },
  {
    "text": "then those tasks become alerts and information that get passed into the system so you could actually track the",
    "start": "941899",
    "end": "948620"
  },
  {
    "text": "install progress of an individual node and then notify other systems of what was going on so in this case what we",
    "start": "948620",
    "end": "955579"
  },
  {
    "text": "have is a template and the template is just the bash that you would use to install this node in the infrastructure",
    "start": "955579",
    "end": "963690"
  },
  {
    "text": "so it's going to go in and then if I dig through in here I have to install",
    "start": "963690",
    "end": "969810"
  },
  {
    "text": "couplet I have to come in and actually run somewhere down in all this code is",
    "start": "969810",
    "end": "977220"
  },
  {
    "text": "the actual Kubb admin init phase from there we're gonna grab the results of",
    "start": "977220",
    "end": "983520"
  },
  {
    "text": "Kubb admin in it all the other workers are gonna back off and then they're going to keep going through the",
    "start": "983520",
    "end": "989700"
  },
  {
    "text": "infrastructure from that side let me see where where we stand with the nodes we",
    "start": "989700",
    "end": "1000470"
  },
  {
    "text": "got it and so at this point I have this node in the docker install stage and so",
    "start": "1000470",
    "end": "1012050"
  },
  {
    "text": "literally this node is now installing docker and also although I can actually",
    "start": "1012050",
    "end": "1017480"
  },
  {
    "text": "see it from here all of these nodes are in the docker install step one of these four I still don't know which yet will",
    "start": "1017480",
    "end": "1024140"
  },
  {
    "text": "when it advances to the next phase in this workflow will become the master",
    "start": "1024140",
    "end": "1030410"
  },
  {
    "text": "node and it just takes a little bit of time to install docker one of the things",
    "start": "1030410",
    "end": "1035689"
  },
  {
    "text": "that we're doing in the background here is this this demo obviously I don't have a stack of servers here doing the demo",
    "start": "1035690",
    "end": "1041990"
  },
  {
    "text": "we're using something called packet net if you haven't tried them we actually have a coupon code rack in capital",
    "start": "1041990",
    "end": "1049550"
  },
  {
    "text": "letters 100 you can get I think a 30 dollar credit on packet to try out these",
    "start": "1049550",
    "end": "1054560"
  },
  {
    "text": "same types of things that are a bare-metal hosting company so if you're practicing you don't have a lab or even",
    "start": "1054560",
    "end": "1059660"
  },
  {
    "text": "if you do have a lab if you need spare spare metal servers we're big fans of what packets been doing and we have a",
    "start": "1059660",
    "end": "1064730"
  },
  {
    "text": "lot of integrations with their workflow so in this case we're just waiting for the docker install the finish and then",
    "start": "1064730",
    "end": "1072110"
  },
  {
    "text": "we'll get kubernetes install happening right after that just a minute yeah and",
    "start": "1072110",
    "end": "1079100"
  },
  {
    "text": "then part of what we're able to do in the background to do is actually see the",
    "start": "1079100",
    "end": "1086960"
  },
  {
    "text": "job progress so this is our docker install install actually running and then giving me",
    "start": "1086960",
    "end": "1092360"
  },
  {
    "text": "results of the docker bring up process okay so TAS docker docker finished and",
    "start": "1092360",
    "end": "1100890"
  },
  {
    "text": "then we should be able to start the kubernetes let me see yeah so now we're",
    "start": "1100890",
    "end": "1108370"
  },
  {
    "text": "actually doing the kubernetes install process in this case and then one of them is should win the leader election",
    "start": "1108370",
    "end": "1114600"
  },
  {
    "text": "let's see where we go right so in this",
    "start": "1114600",
    "end": "1122980"
  },
  {
    "text": "case node fifty-six one the leader election and so that will that node is",
    "start": "1122980",
    "end": "1129100"
  },
  {
    "text": "now doing the work of doing the coup Badman in it so if you've installed cube admitted it that's the first step that you're going to do and then the",
    "start": "1129100",
    "end": "1136059"
  },
  {
    "text": "information that gets initialized in that cluster will show up in this profile dynamically when we when we get",
    "start": "1136059",
    "end": "1142150"
  },
  {
    "text": "a little bit further in the stage okay",
    "start": "1142150",
    "end": "1147720"
  },
  {
    "text": "so I'm right on the edge I'm tempted to jump back to the slides but we're right on the edge of doing it alright so what",
    "start": "1147720",
    "end": "1155200"
  },
  {
    "text": "I'm gonna do is I'm gonna flip back to my slides for a minute and then I'll show you that way will preserve a little",
    "start": "1155200",
    "end": "1160600"
  },
  {
    "text": "bit of time I'll be able to show you the the cluster actually being built",
    "start": "1160600",
    "end": "1165780"
  },
  {
    "start": "1164000",
    "end": "1425000"
  },
  {
    "text": "okay so in this case right I just as",
    "start": "1165780",
    "end": "1173140"
  },
  {
    "text": "plot profile the nodes they're all coming up in a kubernetes cluster I'm actually building two kubernetes cluster one of them in RAM basically in a ram",
    "start": "1173140",
    "end": "1180100"
  },
  {
    "text": "boot system and then the other one is going through a full CentOS install and then it'll lay down cuve admin using",
    "start": "1180100",
    "end": "1186070"
  },
  {
    "text": "exactly the same scripts but there's a little bit more to do with this adding",
    "start": "1186070",
    "end": "1191860"
  },
  {
    "text": "nodes requires a token with cube admin we could create a long-lived token but that's that's not as cool as it would be",
    "start": "1191860",
    "end": "1198790"
  },
  {
    "text": "to actually inject the token and bring it back our couplets still requires configuration so if we want to make",
    "start": "1198790",
    "end": "1205780"
  },
  {
    "text": "things you know sort of different or interesting or you have site variation we're gonna end up having to inject configuration into the couplet and then",
    "start": "1205780",
    "end": "1214419"
  },
  {
    "text": "it would be really nice to be able to orchestrate this upgrade and run it using some cluster API so there's",
    "start": "1214419",
    "end": "1220780"
  },
  {
    "text": "there's plenty more bootstrapping things to do beyond where this goes the fact",
    "start": "1220780",
    "end": "1226240"
  },
  {
    "text": "that I can uh bootstrap without having any you know external things about the the system is really handy right so I",
    "start": "1226240",
    "end": "1233860"
  },
  {
    "text": "can just bring up a admin cluster and let it go so let me see where where we are with the kubernetes install at this",
    "start": "1233860",
    "end": "1241270"
  },
  {
    "text": "point so in this case what you'll see is",
    "start": "1241270",
    "end": "1246700"
  },
  {
    "text": "and this has been really good because I've been able to show you sir the intermediate steps we started with just the cluster and now we actually have the",
    "start": "1246700",
    "end": "1252940"
  },
  {
    "text": "cluster the join commands here those join commands are then being passed in automatically to the rest of the nodes",
    "start": "1252940",
    "end": "1258850"
  },
  {
    "text": "in the cluster and then what we also have here is we actually have the full",
    "start": "1258850",
    "end": "1264460"
  },
  {
    "text": "admin Kumpf file that we need to run the cluster and this is where the demo gets really fun to me so what what we've been",
    "start": "1264460",
    "end": "1272230"
  },
  {
    "text": "able to do because I now have the admin comp file I'm just scrolling up instead",
    "start": "1272230",
    "end": "1278049"
  },
  {
    "text": "of typing there it is what I'm able to",
    "start": "1278049",
    "end": "1284320"
  },
  {
    "text": "do is using the rebar CLI I can pull that file out of the configuration",
    "start": "1284320",
    "end": "1289990"
  },
  {
    "text": "values so in this case I'm specifying the cluster that I want to talk to so",
    "start": "1289990",
    "end": "1296500"
  },
  {
    "text": "this is the kubernetes cluster that's running in rat Ram and then I'm just pulling out the admin comp file so at",
    "start": "1296500",
    "end": "1302440"
  },
  {
    "text": "this point that same parameter that I showed you is now in the is now in my",
    "start": "1302440",
    "end": "1307900"
  },
  {
    "text": "local system which means I can start running and this is on my local system the clusters running in a data center in",
    "start": "1307900",
    "end": "1314380"
  },
  {
    "text": "New York I can actually go in as and use that kubernetes control admin file to",
    "start": "1314380",
    "end": "1321970"
  },
  {
    "text": "get the nodes that I just deployed right so in the course of this this little",
    "start": "1321970",
    "end": "1327220"
  },
  {
    "text": "demo I've actually managed to bring up a full kubernetes cluster I'm actually bringing up two of them in parallel and",
    "start": "1327220",
    "end": "1332590"
  },
  {
    "text": "then what gets really fun from there so cou Brunei's is up what we actually want",
    "start": "1332590",
    "end": "1338710"
  },
  {
    "text": "to be able to do and even more importantly I didn't have to figure out what my credentials were I didn't have",
    "start": "1338710",
    "end": "1343990"
  },
  {
    "text": "to figure out my login I actually was able to create a unique credential set within this infrastructure",
    "start": "1343990",
    "end": "1349470"
  },
  {
    "text": "boot up the nodes and then without knowing anything about that cluster log into it and get start getting access to",
    "start": "1349470",
    "end": "1355300"
  },
  {
    "text": "it from my local desktop but I'm going to do a little bit better and and could cuddle lets me do that so with these",
    "start": "1355300",
    "end": "1363090"
  },
  {
    "text": "potentials I can actually set up the proxy and so when I set up the proxy now",
    "start": "1363090",
    "end": "1368580"
  },
  {
    "text": "I have access through that proxy into that cluster that I'm using use with these credentials and so if I come back",
    "start": "1368580",
    "end": "1377120"
  },
  {
    "text": "this is this is letting me into my cube admitted admin dashboard okay so five",
    "start": "1377660",
    "end": "1384840"
  },
  {
    "text": "minutes cube cuddle no typing no logging into the machines no ssh required i have",
    "start": "1384840",
    "end": "1391530"
  },
  {
    "text": "a cluster that i can log into and start using it's a pretty big deal i think it's a big deal but i'm excited",
    "start": "1391530",
    "end": "1396920"
  },
  {
    "text": "alright so that makes sense that's the deaths bootstrapping demo if you're",
    "start": "1396920",
    "end": "1403260"
  },
  {
    "text": "trying to deploy this type of thing on site or if you're trying to extend on-premises infrastructure from what",
    "start": "1403260",
    "end": "1409410"
  },
  {
    "text": "like google was showing you with a hybrid cloud you could eject the parameters boot the nodes and it would be done even faster you wouldn't have to",
    "start": "1409410",
    "end": "1415410"
  },
  {
    "text": "do the initialization phase alright so",
    "start": "1415410",
    "end": "1423320"
  },
  {
    "text": "back to slides so there's two other things that we",
    "start": "1424520",
    "end": "1429820"
  },
  {
    "start": "1425000",
    "end": "1800000"
  },
  {
    "text": "talked we said we were going to talk about that we've been hearing a lot of interesting things for for can we make",
    "start": "1429820",
    "end": "1435880"
  },
  {
    "text": "this faster can we make this more secure one of them is noted mission noted",
    "start": "1435880",
    "end": "1441550"
  },
  {
    "text": "mission is this is a pattern and the in the presentation if you're in schedule",
    "start": "1441550",
    "end": "1447190"
  },
  {
    "text": "you can get a link back to these docks and the URLs ideally what we would get",
    "start": "1447190",
    "end": "1452710"
  },
  {
    "text": "with noted mission is that when we booted nodes we wouldn't need a token the node would boot we'd say hey I like",
    "start": "1452710",
    "end": "1458020"
  },
  {
    "text": "this node let it in and then configure it that's what we want to be able to do so we don't have to drive any",
    "start": "1458020",
    "end": "1463810"
  },
  {
    "text": "configuration infrastructure should make auto scaling easier so node admission it comes up something says yes I have a",
    "start": "1463810",
    "end": "1470350"
  },
  {
    "text": "picture I'll show you and that should make it faster we should be able to use kubernetes to do everything right sort",
    "start": "1470350",
    "end": "1475900"
  },
  {
    "text": "of a kubernetes conquers the world paradigm and it would look like this using this this an admission service so",
    "start": "1475900",
    "end": "1484030"
  },
  {
    "text": "a node would come in couplet comes in it tries to create itself right tries to create the node that node actually",
    "start": "1484030",
    "end": "1490990"
  },
  {
    "text": "create node action using the admission protocols says I can't create the node",
    "start": "1490990",
    "end": "1497050"
  },
  {
    "text": "until I check in with external service whatever web hook that web hook says yes",
    "start": "1497050",
    "end": "1503650"
  },
  {
    "text": "I trust what this that you're creating a node that you're allowed to do you could do this with any object in kubernetes",
    "start": "1503650",
    "end": "1510510"
  },
  {
    "text": "create validates that the node is a valid node and says yes kubernetes said wow what a relief I trust this node it",
    "start": "1510510",
    "end": "1517120"
  },
  {
    "text": "sends back the it'll creates the object and now couplets in the system right that's that's that's object admission",
    "start": "1517120",
    "end": "1523750"
  },
  {
    "text": "node admission protocol and this is a little bit scary so this is this is the",
    "start": "1523750",
    "end": "1530740"
  },
  {
    "text": "pattern that somebody described to me and they started to get very excited about HSM means a hardware signing",
    "start": "1530740",
    "end": "1536230"
  },
  {
    "text": "module so you could cryptographically sign the information that you put in that node and you could start the node",
    "start": "1536230",
    "end": "1543670"
  },
  {
    "text": "with a token from a trusted third party sign that node by the by the hardware",
    "start": "1543670",
    "end": "1549670"
  },
  {
    "text": "signing module on that note so it's unique to that node and then the encrypted token is what gets passed up",
    "start": "1549670",
    "end": "1556980"
  },
  {
    "text": "this is tricky to follow it gets the encrypted token nautical not the clear token it's passed up to the API server the API",
    "start": "1556980",
    "end": "1564100"
  },
  {
    "text": "server forwards it as part of the node admission request the external party goes back to the PKI",
    "start": "1564100",
    "end": "1570160"
  },
  {
    "text": "to decrypt that token using the public key and that that system says wow this",
    "start": "1570160",
    "end": "1575500"
  },
  {
    "text": "matches the key that I gave you nobody else knew about it except me and everybody's happy in this process and it",
    "start": "1575500",
    "end": "1583960"
  },
  {
    "text": "sounds really cool the challenge is that in bringing up the node this way you already have to inject information that",
    "start": "1583960",
    "end": "1589990"
  },
  {
    "text": "is is cryptographically relevant or unique per node it the level of extra",
    "start": "1589990",
    "end": "1596560"
  },
  {
    "text": "effort to do this really doesn't guarantee you that the node is any more secure so while it's a really",
    "start": "1596560",
    "end": "1601870"
  },
  {
    "text": "interesting pattern we iraq and think that this really doesn't provide any",
    "start": "1601870",
    "end": "1607300"
  },
  {
    "text": "additional security from a from a node authorization node guarantee space so we",
    "start": "1607300",
    "end": "1613540"
  },
  {
    "text": "think it's interesting but you've already got to be pretty sure you're bringing up a note of validating what the node is by putting a secure token on",
    "start": "1613540",
    "end": "1620260"
  },
  {
    "text": "it an admission token so marginal marginal benefits for a lot of complexity the other the other pattern",
    "start": "1620260",
    "end": "1628120"
  },
  {
    "text": "that looks like it should be super interesting for zero touch configuration is to use Kubla dynamic configuration so",
    "start": "1628120",
    "end": "1636160"
  },
  {
    "text": "you want to be able to say hey couplet here's a new node i trust it right we already went through this",
    "start": "1636160",
    "end": "1642160"
  },
  {
    "text": "process and i don't know anything about it you tell me everything I know to do",
    "start": "1642160",
    "end": "1648040"
  },
  {
    "text": "that configuration and that seems really cool because kubernetes has already has",
    "start": "1648040",
    "end": "1653200"
  },
  {
    "text": "to interact with the node why not let it configure the node - and there's a",
    "start": "1653200",
    "end": "1658870"
  },
  {
    "text": "there's a line of thinking along these lines which I which I call the bootstrap fallacy which is if I have a tool I",
    "start": "1658870",
    "end": "1664990"
  },
  {
    "text": "should have the tool bootstrap the tool we've made we've made this mistake before it doesn't always it's sort of",
    "start": "1664990",
    "end": "1671740"
  },
  {
    "text": "tricky I'm hinting it where I'm going with this but you'll see it's really it should look like this",
    "start": "1671740",
    "end": "1677380"
  },
  {
    "text": "we centrally configure the system we install kulit we allow Kubla to register",
    "start": "1677380",
    "end": "1683110"
  },
  {
    "text": "and kubernetes configures the couplet but it looks like this in practice and I",
    "start": "1683110",
    "end": "1691450"
  },
  {
    "text": "hope we're going to continue to see investment this is still an early feature so might get more like slide one but right",
    "start": "1691450",
    "end": "1697450"
  },
  {
    "text": "now it's like slide two you install the couplet you configure the couplet it registers to the API server you inject",
    "start": "1697450",
    "end": "1705220"
  },
  {
    "text": "your configuration into the the API server and then you reconfigure the",
    "start": "1705220",
    "end": "1710560"
  },
  {
    "text": "couplet to use dynamic configuration so it gets configuration from the server so",
    "start": "1710560",
    "end": "1716560"
  },
  {
    "text": "you literally have to configure configure reconfigure configure which",
    "start": "1716560",
    "end": "1723460"
  },
  {
    "text": "which isn't really that productive considering you still have to configure this is the bootstrap bootstrapping",
    "start": "1723460",
    "end": "1729280"
  },
  {
    "text": "problem so if I'm injecting configuration into the system I might as well just inject all the configuration",
    "start": "1729280",
    "end": "1735640"
  },
  {
    "text": "into the system and do it once and so from our perspective since we already",
    "start": "1735640",
    "end": "1741700"
  },
  {
    "text": "have to inject configuration and we already have an external system that's managing that configuration or at least",
    "start": "1741700",
    "end": "1746920"
  },
  {
    "text": "aware of that configuration we're not really saving anything by taking 50% or 75% of a configuration template and",
    "start": "1746920",
    "end": "1753160"
  },
  {
    "text": "putting it somewhere else matter of fact we might actually be making things harder and we start having multiple sources of truth and things",
    "start": "1753160",
    "end": "1759640"
  },
  {
    "text": "like that so it's interesting but we really don't see that we've we've accomplished as much because we haven't",
    "start": "1759640",
    "end": "1765340"
  },
  {
    "text": "eliminated the configuration stages for the node so it's only to keep on your radar from that perspective but overall",
    "start": "1765340",
    "end": "1772600"
  },
  {
    "text": "we're really making great progress right the fact that we're able to use coop admin to bootstrap a cluster this easily",
    "start": "1772600",
    "end": "1779170"
  },
  {
    "text": "to be able to just let this sort of three-step process automatically configure a cluster is really big deal",
    "start": "1779170",
    "end": "1787570"
  },
  {
    "text": "usability usability infrastructure and and it's it's the right direction right",
    "start": "1787570",
    "end": "1793660"
  },
  {
    "text": "so off to improve but this is this is a real step forward in how we're going to build and manage clusters so thank you",
    "start": "1793660",
    "end": "1802330"
  },
  {
    "start": "1800000",
    "end": "2148000"
  },
  {
    "text": "for your time and attention I appreciate that I have time for clap for questions",
    "start": "1802330",
    "end": "1808620"
  },
  {
    "text": "[Applause] they the profiles are available so that",
    "start": "1811380",
    "end": "1817550"
  },
  {
    "text": "everything I'm showing you is is available The Cribs stuff literally was",
    "start": "1817550",
    "end": "1824390"
  },
  {
    "text": "we finished it with lots of time to spare meaning Monday instead of Wednesday but",
    "start": "1824390",
    "end": "1831170"
  },
  {
    "text": "so it is available in the registry so in the digital rebar UX pieces I will show",
    "start": "1831170",
    "end": "1837650"
  },
  {
    "text": "you this there is a and we really didn't",
    "start": "1837650",
    "end": "1844460"
  },
  {
    "text": "I tried to not talk about rebar too much basically there's a Content package for",
    "start": "1844460",
    "end": "1849920"
  },
  {
    "text": "did called for for that for crib and the content package is available in the catalog for digital rebar so I don't",
    "start": "1849920",
    "end": "1858440"
  },
  {
    "text": "know which repo we ended up putting it in but yeah it's it's totally you can you can repeat this whole infrastructure",
    "start": "1858440",
    "end": "1864700"
  },
  {
    "text": "we're doing a longer demo of this with a longer discussion on Thursday as a",
    "start": "1864700",
    "end": "1869750"
  },
  {
    "text": "webinar so you're happy to participate but this is the type of thing we really",
    "start": "1869750",
    "end": "1875030"
  },
  {
    "text": "do want to see this extended decompose there's a lot of places to go with this",
    "start": "1875030",
    "end": "1880570"
  },
  {
    "text": "it's just it's just content from our perspective another question",
    "start": "1880570",
    "end": "1886960"
  },
  {
    "text": "great question so the question is what was the state of the the sledgehammer machines before they were pixie booted",
    "start": "1897210",
    "end": "1902890"
  },
  {
    "text": "into an in-memory image which is based on CentOS so we have optimized in-memory",
    "start": "1902890",
    "end": "1908170"
  },
  {
    "text": "boot environment and so yeah so it's a it literally the default process the",
    "start": "1908170",
    "end": "1913540"
  },
  {
    "text": "default workflows here workflow so in",
    "start": "1913540",
    "end": "1921070"
  },
  {
    "text": "this workflow discover is a pixie boot and then it literally just pinks it adds",
    "start": "1921070",
    "end": "1926830"
  },
  {
    "text": "SSH keys and inventories and then it waits so that's the minimal state it",
    "start": "1926830",
    "end": "1932290"
  },
  {
    "text": "takes it's pretty it's an optimized boot process for that perspective so very",
    "start": "1932290",
    "end": "1937900"
  },
  {
    "text": "easy to replicate to questions go on the right first so the question is what do",
    "start": "1937900",
    "end": "1950470"
  },
  {
    "text": "we think a linux kit we did a demo with linux kit awhile ago it was pretty nice we were able to make inject some images",
    "start": "1950470",
    "end": "1958120"
  },
  {
    "text": "and make mix links kick go and it's still floating around in the community I",
    "start": "1958120",
    "end": "1963220"
  },
  {
    "text": "think somewhere were we're just not seeing a lot of uptake on it and so in",
    "start": "1963220",
    "end": "1968920"
  },
  {
    "text": "the community it's one of those things we'd be happy to see more people trying to use it saying the same is true with",
    "start": "1968920",
    "end": "1974650"
  },
  {
    "text": "core OS right what we're doing it's generic so you could easily be running core OS through some of these processes",
    "start": "1974650",
    "end": "1980640"
  },
  {
    "text": "although core us is it's a little bit different some of what we do relies on",
    "start": "1980640",
    "end": "1985980"
  },
  {
    "text": "our post provisioning agent which is it's it gets dissolvable so it doesn't",
    "start": "1985980",
    "end": "1991570"
  },
  {
    "text": "stay in the system that our our post provisioning agent will pull down work out of the system so it's a question of",
    "start": "1991570",
    "end": "1997660"
  },
  {
    "text": "how you inject that post provisioning step into those immutable images just",
    "start": "1997660",
    "end": "2003180"
  },
  {
    "text": "that's the balance",
    "start": "2003180",
    "end": "2006020"
  },
  {
    "text": "so so ignition is actually built into the or components I'm looking at",
    "start": "2009360",
    "end": "2014710"
  },
  {
    "text": "greggy's so we're actually adding ignition into the post config into the",
    "start": "2014710",
    "end": "2020500"
  },
  {
    "text": "sledgehammer post config so you could actually run ignition scripts in this in memory boot state and take and then",
    "start": "2020500",
    "end": "2027280"
  },
  {
    "text": "drive directly to disk so that's that we're really excited about all that all",
    "start": "2027280",
    "end": "2033760"
  },
  {
    "text": "those things we think it's the right pattern and you had a question",
    "start": "2033760",
    "end": "2039390"
  },
  {
    "text": "so the question is can you accelerate this by by baking more things into the image yes hell yes",
    "start": "2056120",
    "end": "2063379"
  },
  {
    "text": "the what we did and this is a very deliberate decision sledgehammer which",
    "start": "2063380",
    "end": "2068480"
  },
  {
    "text": "is our sort of quick start boot discovery thing is we is really",
    "start": "2068480",
    "end": "2074450"
  },
  {
    "text": "optimized so at we didn't want to add this into sledgehammer but you could create and this was a subject of some",
    "start": "2074450",
    "end": "2081919"
  },
  {
    "text": "debate before I was just told no we the",
    "start": "2081920",
    "end": "2087980"
  },
  {
    "text": "way things work but we we almost made a",
    "start": "2087980",
    "end": "2093550"
  },
  {
    "text": "case ledge hammer or a kludge hammer or whatever google hammer something that would have had these things in it but",
    "start": "2093550",
    "end": "2100760"
  },
  {
    "text": "the reality is it's so fast to pull these images it's really not that much overhead for docker and cube but if you",
    "start": "2100760",
    "end": "2108800"
  },
  {
    "text": "had a whole bunch of other pieces then I would totally do that makes sense yeah more questions just",
    "start": "2108800",
    "end": "2117440"
  },
  {
    "text": "about out of time so we're happy to take you no more questions up here rackin",
    "start": "2117440",
    "end": "2122480"
  },
  {
    "text": "does have a booth down on the floor by where the swag stand is so please come by talk to the engineers who build this",
    "start": "2122480",
    "end": "2128240"
  },
  {
    "text": "stuff not the not the guy who has to do the demos so we're all here they're all",
    "start": "2128240",
    "end": "2133550"
  },
  {
    "text": "here and they're easily identifiable by their choice of clothing today kilts",
    "start": "2133550",
    "end": "2138980"
  },
  {
    "text": "their teams and kilts today excellent thank you everybody appreciate the time",
    "start": "2138980",
    "end": "2144590"
  },
  {
    "text": "[Applause]",
    "start": "2144590",
    "end": "2150359"
  }
]