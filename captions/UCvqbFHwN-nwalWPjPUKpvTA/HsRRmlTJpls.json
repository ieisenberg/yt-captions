[
  {
    "start": "0",
    "end": "122000"
  },
  {
    "text": "hi um i'm tabitha sable unfortunately tim was not able to make it but his his",
    "start": "80",
    "end": "6319"
  },
  {
    "text": "contribution will be here he'll be he'll be here with us by video in a moment so i want to start by showing you one of my",
    "start": "6319",
    "end": "12400"
  },
  {
    "text": "favorite tweets which is this tweet and the thing that i love so much about this tweet is on one hand it's like a",
    "start": "12400",
    "end": "19359"
  },
  {
    "text": "big pile of line noise on the other hand if you have kubernetes api access then",
    "start": "19359",
    "end": "24800"
  },
  {
    "text": "you can paste this tweet in and then you become root so that is super fun",
    "start": "24800",
    "end": "30800"
  },
  {
    "text": "and let's let's actually",
    "start": "30800",
    "end": "36960"
  },
  {
    "text": "do that we're going to do this blind",
    "start": "36960",
    "end": "41440"
  },
  {
    "text": "so here we are and now i now i think we're root we can get in here we can",
    "start": "42079",
    "end": "48480"
  },
  {
    "text": "etsy kubernetes",
    "start": "48480",
    "end": "52840"
  },
  {
    "text": "well anyway um there's a bunch of stuff in here like trust me we're we're really rude and",
    "start": "54879",
    "end": "60640"
  },
  {
    "text": "that's and that's creepy that's not super good so what can we",
    "start": "60640",
    "end": "66479"
  },
  {
    "text": "do about that is the question that i have and uh",
    "start": "66479",
    "end": "71600"
  },
  {
    "text": "we have an answer to that",
    "start": "71600",
    "end": "74960"
  },
  {
    "text": "and the answer to that is",
    "start": "82960",
    "end": "87840"
  },
  {
    "text": "that i can put this label",
    "start": "88560",
    "end": "93600"
  },
  {
    "text": "over here onto this onto this thing and",
    "start": "93600",
    "end": "100560"
  },
  {
    "text": "i am changing things this is also bad all right we are just going to get away from that",
    "start": "100560",
    "end": "106560"
  },
  {
    "text": "completely the point is that without admission control bad things are going to happen and so",
    "start": "106560",
    "end": "114320"
  },
  {
    "text": "therefore we want to have admission control",
    "start": "114320",
    "end": "119360"
  },
  {
    "text": "and so i'll clean up my windows here for you so yeah we want to have admission control we don't have admission control",
    "start": "120880",
    "end": "127280"
  },
  {
    "start": "122000",
    "end": "260000"
  },
  {
    "text": "bad things are going to happen and so now we actually have admission control i can label a namespace and it will block",
    "start": "127280",
    "end": "133840"
  },
  {
    "text": "me from being able to create that pod so yeah thank you so much for for joining me here virtually or in person for pod",
    "start": "133840",
    "end": "141120"
  },
  {
    "text": "security policy replacement past present and future like i said yeah tim wasn't able to join",
    "start": "141120",
    "end": "146400"
  },
  {
    "text": "us physically but he'll be here with us virtually in a couple of minutes he and i have prepared the session to show how",
    "start": "146400",
    "end": "153760"
  },
  {
    "text": "we came together as a community to make the demo that you couldn't see because it was",
    "start": "153760",
    "end": "158959"
  },
  {
    "text": "hidden from may happen so we'll start with the problem that we're trying to solve like what what does this even mean",
    "start": "158959",
    "end": "166480"
  },
  {
    "text": "why do we need an emission controller and the easiest way to describe that is",
    "start": "166480",
    "end": "172959"
  },
  {
    "text": "because without an admission controller kubernetes is a system administration tool everybody who can use it as a",
    "start": "172959",
    "end": "179280"
  },
  {
    "text": "system administrator which means everybody who can create a pub is rude on every note in the cluster and if",
    "start": "179280",
    "end": "184720"
  },
  {
    "text": "that's what you want you're perfect out of the box everything is golden but that's not really the way that we think",
    "start": "184720",
    "end": "190800"
  },
  {
    "text": "about kubernetes if we think about kubernetes as being for scaling workloads and and things we",
    "start": "190800",
    "end": "198239"
  },
  {
    "text": "we tend to think in terms of the pods and like we want to imagine that the nodes are just",
    "start": "198239",
    "end": "203280"
  },
  {
    "text": "a fungible resource and having everybody be able to do whatever they want to them",
    "start": "203280",
    "end": "208720"
  },
  {
    "text": "really breaks down that understanding so if you don't want",
    "start": "208720",
    "end": "214560"
  },
  {
    "text": "root on every node to be the same thing as creating a pub then you need to create you need to create a mission",
    "start": "214560",
    "end": "220159"
  },
  {
    "text": "control and like the reason for that is that fundamentally the api server is",
    "start": "220159",
    "end": "225360"
  },
  {
    "text": "like a really opinionated object database it has a bunch of object types it has pods deployments replicas that's",
    "start": "225360",
    "end": "231760"
  },
  {
    "text": "all the things that you're familiar with and that's the level that our back works at it just treats it like a database but",
    "start": "231760",
    "end": "238720"
  },
  {
    "text": "the reality of it is that the objects in these databases become things in the real world because",
    "start": "238720",
    "end": "245360"
  },
  {
    "text": "there are controllers that actually see these and act upon them and our back has no opinions about the",
    "start": "245360",
    "end": "252239"
  },
  {
    "text": "contents of those objects but you might have opinions on the contents of those objects",
    "start": "252239",
    "end": "258239"
  },
  {
    "text": "so like what are the kinds of use cases that we would have for deploying admission control into a cluster you",
    "start": "258239",
    "end": "265199"
  },
  {
    "start": "260000",
    "end": "544000"
  },
  {
    "text": "know we want to be able to encourage deployment best practices and",
    "start": "265199",
    "end": "270320"
  },
  {
    "text": "to say encourage in this context is is a little is a little heavy-handed because what we really mean is block",
    "start": "270320",
    "end": "277479"
  },
  {
    "text": "non-conformant things from being deployed but if you're doing this in a way that is",
    "start": "277479",
    "end": "283120"
  },
  {
    "text": "caring to the users you make some accessible way for them to",
    "start": "283120",
    "end": "288320"
  },
  {
    "text": "ask for the exceptions that they need and so in that sense it is encouraging best practices because",
    "start": "288320",
    "end": "294880"
  },
  {
    "text": "if you don't file an exception you have to follow the rules and if you really do need to break the rules then you",
    "start": "294880",
    "end": "301280"
  },
  {
    "text": "then you write down why and that's and that's reasonable one of my favorite",
    "start": "301280",
    "end": "306639"
  },
  {
    "text": "reasons to be going with admission control is to reduce the value of your credentials",
    "start": "306639",
    "end": "313280"
  },
  {
    "text": "being stolen so if we trust everybody nobody's ever",
    "start": "313280",
    "end": "318800"
  },
  {
    "text": "going to do anything bad then we just make everybody cluster admin and it'll be fine because nobody does anything",
    "start": "318800",
    "end": "324479"
  },
  {
    "text": "mean we just presume that everybody is going to be trustworthy and like maybe actually i trust all of my teammates",
    "start": "324479",
    "end": "330960"
  },
  {
    "text": "that much but i don't trust the person who just fished one of my teammates that much and so like as a system",
    "start": "330960",
    "end": "338720"
  },
  {
    "text": "administrator like i've been a system administrator since the earth cooled it's always a good feeling to actually",
    "start": "338720",
    "end": "344800"
  },
  {
    "text": "get some keys off of the keyring and and make it so that i'm not as worried that",
    "start": "344800",
    "end": "350880"
  },
  {
    "text": "i can do things that i shouldn't be able to or someone who has adopted my account can do things that they shouldn't be",
    "start": "350880",
    "end": "356800"
  },
  {
    "text": "able to and that's another that's another thing that you can get out of admission control",
    "start": "356800",
    "end": "361840"
  },
  {
    "text": "and then you know another really common reason is for multi-tenancy and like i",
    "start": "361840",
    "end": "367840"
  },
  {
    "text": "very carefully avoided putting multi-tenancy on the slide here because there are so many different things that",
    "start": "367840",
    "end": "373840"
  },
  {
    "text": "multi-tenancy can mean and like if we are talking about two users who absolutely hate each other and",
    "start": "373840",
    "end": "381120"
  },
  {
    "text": "want to hurt each other constantly setting up careful rbac and careful admission control and giving them both",
    "start": "381120",
    "end": "387759"
  },
  {
    "text": "kubernetes api access with sufficient effort and sufficient",
    "start": "387759",
    "end": "394639"
  },
  {
    "text": "testing you can probably get most of the way there but it's not",
    "start": "394639",
    "end": "400960"
  },
  {
    "text": "it's not really the level of of of strength of isolation that you",
    "start": "400960",
    "end": "406960"
  },
  {
    "text": "probably want but we have a lot more cases where we have multiple groups of users who are more or",
    "start": "406960",
    "end": "413919"
  },
  {
    "text": "less friendly to each other and need to be discouraged from accidentally harming each other and in that case you know",
    "start": "413919",
    "end": "421199"
  },
  {
    "text": "that's the sort of thing where again if you make it so that users don't have trivial access to root",
    "start": "421199",
    "end": "428880"
  },
  {
    "text": "on every node then that can be useful for that so this is these are the sorts of things",
    "start": "428880",
    "end": "434319"
  },
  {
    "text": "and there's a lot of good options for admission controllers now like you can",
    "start": "434319",
    "end": "440560"
  },
  {
    "text": "write your own if you really want to there is you know the gatekeeper is well known caverno is well known there are",
    "start": "440560",
    "end": "446960"
  },
  {
    "text": "some other open source ones that are a little bit less well known and pot security policy was sort of",
    "start": "446960",
    "end": "454720"
  },
  {
    "text": "the earliest one that really had a lot of of weight behind it you know",
    "start": "454720",
    "end": "460560"
  },
  {
    "text": "it's built in but psp is deprecated now and it's not going to be around forever",
    "start": "460560",
    "end": "467039"
  },
  {
    "text": "it had plenty of challenges but like now it will eventually just go away and that's a real challenge so",
    "start": "467039",
    "end": "474080"
  },
  {
    "text": "if you didn't adopt psp but you're here because you're thinking",
    "start": "474080",
    "end": "479759"
  },
  {
    "text": "about it because it was quite a newsworthy event let the fact that everybody is thinking",
    "start": "479759",
    "end": "485759"
  },
  {
    "text": "about psp be an opportunity to think about well maybe i can deploy admission control and if you did adopt psp you",
    "start": "485759",
    "end": "492720"
  },
  {
    "text": "need to be planning your move off in either case it's really important for kubernetes to give",
    "start": "492720",
    "end": "499840"
  },
  {
    "text": "a simple to use built-in choice so that that way folks",
    "start": "499840",
    "end": "504960"
  },
  {
    "text": "aren't required to adopt some external controller just to",
    "start": "504960",
    "end": "510639"
  },
  {
    "text": "be able to add these capabilities there's there's a great value in having those options",
    "start": "510639",
    "end": "515919"
  },
  {
    "text": "but making that complexity mandatory really wasn't",
    "start": "515919",
    "end": "520959"
  },
  {
    "text": "the way that we needed to be and so therefore we have a replacement and i am going to",
    "start": "520959",
    "end": "528160"
  },
  {
    "text": "bring up tim here so that he can tell you about it",
    "start": "528160",
    "end": "533720"
  },
  {
    "start": "544000",
    "end": "668000"
  },
  {
    "text": "thanks tabitha and with that i would like to introduce hot security admission",
    "start": "544399",
    "end": "550399"
  },
  {
    "text": "pod security admission is a new built-in admission controller uh that went to alpha in 122",
    "start": "550399",
    "end": "557600"
  },
  {
    "text": "designed to replace pod security policy and i'd say the primary goal of pod",
    "start": "557600",
    "end": "563600"
  },
  {
    "text": "security admission was to offer or is to offer out of the box security on kubernetes so that",
    "start": "563600",
    "end": "570720"
  },
  {
    "text": "create pod does not equal root in the cluster",
    "start": "570720",
    "end": "576200"
  },
  {
    "text": "uh and the way we do that is through a minimal configuration",
    "start": "576320",
    "end": "581440"
  },
  {
    "text": "where the user chooses one of three profiles per namespace",
    "start": "581440",
    "end": "587200"
  },
  {
    "text": "those profiles are privileged meaning that anything goes anything is allowed it's the equivalent of not",
    "start": "587200",
    "end": "592800"
  },
  {
    "text": "enabling the admission controller on that namespace baseline which allows the default pod",
    "start": "592800",
    "end": "599680"
  },
  {
    "text": "settings but doesn't allow you to escalate privileges beyond that and restricted which enforces",
    "start": "599680",
    "end": "606959"
  },
  {
    "text": "various security best practices such as running as non-root",
    "start": "606959",
    "end": "612399"
  },
  {
    "text": "and another goal of pod security admission was an emphasis on uh",
    "start": "613600",
    "end": "619120"
  },
  {
    "text": "rollout and upgrade safety this was something that was uh really problematic with pot security policy",
    "start": "619120",
    "end": "626240"
  },
  {
    "text": "it was really difficult to roll out and difficult to make changes to policies",
    "start": "626240",
    "end": "631600"
  },
  {
    "text": "so there's three different features of it of pod security admission",
    "start": "631600",
    "end": "636959"
  },
  {
    "text": "that we've added to make this easier and i'm going to demo those in a few minutes",
    "start": "636959",
    "end": "643120"
  },
  {
    "text": "and some of those are audit and worn modes which let you trial new policies before enforcing them",
    "start": "643120",
    "end": "649519"
  },
  {
    "text": "version pinning lets you decouple cluster upgrades from",
    "start": "649519",
    "end": "654800"
  },
  {
    "text": "profile upgrades on namespaces and dry run lets you preview your",
    "start": "654800",
    "end": "660160"
  },
  {
    "text": "changes against existing objects in the namespace so with that let's switch over to the",
    "start": "660160",
    "end": "666399"
  },
  {
    "text": "demo [Music]",
    "start": "666399",
    "end": "670299"
  },
  {
    "start": "668000",
    "end": "1084000"
  },
  {
    "text": "oh that font is too small [Music]",
    "start": "673120",
    "end": "680959"
  },
  {
    "text": "there we go that looks more readable um alright so i already have a cluster",
    "start": "680959",
    "end": "687600"
  },
  {
    "text": "running but if you'd like to follow along uh with this demo later",
    "start": "687600",
    "end": "693040"
  },
  {
    "text": "these are the settings that i use to start up a mini cube cluster for this demo",
    "start": "693040",
    "end": "699360"
  },
  {
    "text": "so you see it's a 122 cluster and because pod security is still alpha in 122 we need to explicitly",
    "start": "699360",
    "end": "707200"
  },
  {
    "text": "enable the feature gate i'm also going to",
    "start": "707200",
    "end": "712240"
  },
  {
    "text": "set the current namespace to the demo namespace and with that let's get started",
    "start": "712240",
    "end": "718639"
  },
  {
    "text": "let's take a look at again that pod escalation that was demoed at the very beginning",
    "start": "718639",
    "end": "726639"
  },
  {
    "text": "so here's a privileged pod that is enabled host pid and privileged and we see that",
    "start": "726639",
    "end": "734399"
  },
  {
    "text": "um if we create that that enables a super trivial privilege",
    "start": "734399",
    "end": "741279"
  },
  {
    "text": "escalation where we can grab the cubelet's credentials and impersonate the cubelet",
    "start": "741279",
    "end": "748320"
  },
  {
    "text": "so we don't want to allow our users to do that so let's go ahead and",
    "start": "748720",
    "end": "755279"
  },
  {
    "text": "apply this label to the namespace which tells pod security that we want to enforce the baseline profile on the demo",
    "start": "755279",
    "end": "762320"
  },
  {
    "text": "namespace now if we try and create that privilege pod again we see that it's denied",
    "start": "762320",
    "end": "769200"
  },
  {
    "text": "and calls out those two fields that i mentioned earlier uh host pid and privileged",
    "start": "769200",
    "end": "776560"
  },
  {
    "text": "now let's take a look at a baseline pod this is basically the minimum pod that you can specify",
    "start": "777200",
    "end": "783920"
  },
  {
    "text": "we just have a name and a single container without any settings on it",
    "start": "783920",
    "end": "791600"
  },
  {
    "text": "so we are allowed to create this minimal pod because it's using just the default",
    "start": "792399",
    "end": "797440"
  },
  {
    "text": "security settings and if we try our",
    "start": "797440",
    "end": "803040"
  },
  {
    "text": "privilege escalation from before we see that of course it doesn't work",
    "start": "803040",
    "end": "808160"
  },
  {
    "text": "so let's take a look at the restricted profile now [Music]",
    "start": "809360",
    "end": "816000"
  },
  {
    "text": "i'm going to update the label to enforce the restricted profile now",
    "start": "816000",
    "end": "822720"
  },
  {
    "text": "and if we try and create our baseline pod again we see that it fails with a bunch of error messages that's because",
    "start": "823120",
    "end": "829440"
  },
  {
    "text": "restricted places a bunch of requirements in it that go beyond just the pod",
    "start": "829440",
    "end": "835120"
  },
  {
    "text": "defaults so this restricted pod is basically the",
    "start": "835120",
    "end": "841120"
  },
  {
    "text": "um the minimum viable restricted pods so this is sort of the equivalent of the baseline pod that i just showed",
    "start": "841120",
    "end": "847920"
  },
  {
    "text": "but adding the minimal additional security constraints in the security context to for it to be",
    "start": "847920",
    "end": "855040"
  },
  {
    "text": "allowed [Music] so if i go and create that",
    "start": "855040",
    "end": "861600"
  },
  {
    "text": "of course it's allowed now and we can see that it is in fact",
    "start": "861600",
    "end": "867279"
  },
  {
    "text": "running as non-root",
    "start": "867279",
    "end": "870760"
  },
  {
    "text": "now i actually cheated a little bit and before this demo started i had already labeled",
    "start": "874560",
    "end": "880880"
  },
  {
    "text": "added an additional label to the namespace which is this enforce version",
    "start": "880880",
    "end": "886079"
  },
  {
    "text": "so we've actually been looking at enforcing the 119 version of all of these profiles",
    "start": "886079",
    "end": "893920"
  },
  {
    "text": "let's see what happens if i remove that label and try to run that restricted plot",
    "start": "893920",
    "end": "900800"
  },
  {
    "text": "again we see that now it's failed because actually in",
    "start": "900800",
    "end": "906000"
  },
  {
    "text": "122 we added an additional constraint to the pod security standards",
    "start": "906000",
    "end": "911600"
  },
  {
    "text": "that you must drop all capabilities for restricted pods",
    "start": "911600",
    "end": "918480"
  },
  {
    "text": "so this is a problem because if we hadn't pinned the version to 119 when we",
    "start": "919120",
    "end": "924160"
  },
  {
    "text": "upgraded our cluster to 122 suddenly pods that were working before",
    "start": "924160",
    "end": "929440"
  },
  {
    "text": "would start failing so let's take a look at how we could do this",
    "start": "929440",
    "end": "934959"
  },
  {
    "text": "upgrade more safely let's back up and say we have",
    "start": "934959",
    "end": "940639"
  },
  {
    "text": "add that version pin back and now let's take a look at warn mode",
    "start": "940639",
    "end": "947120"
  },
  {
    "text": "so to enable warn mode we're going to say that we want to warn on the restricted profile",
    "start": "947120",
    "end": "953519"
  },
  {
    "text": "so same as in force but we're going to set the worn version",
    "start": "953519",
    "end": "958639"
  },
  {
    "text": "to latest this is actually the sort of implied version if there's no",
    "start": "958639",
    "end": "964800"
  },
  {
    "text": "version pin label but i'm just making that explicit here now if we create our restricted pod",
    "start": "964800",
    "end": "973839"
  },
  {
    "text": "the pod is created but we still get that warning saying that this would violate the latest version of",
    "start": "974079",
    "end": "980880"
  },
  {
    "text": "the restricted profile would since it's not actually being enforced right now",
    "start": "980880",
    "end": "988560"
  },
  {
    "text": "audit mode works in much the same way except instead of returning that warning to the user it adds the warning to the",
    "start": "991839",
    "end": "998399"
  },
  {
    "text": "audit logs",
    "start": "998399",
    "end": "1001120"
  },
  {
    "text": "now this time i've left the pod running and let's take a look at what happens if i",
    "start": "1003839",
    "end": "1011519"
  },
  {
    "text": "update that enforce version to latest now except this time i'm going to set the",
    "start": "1011519",
    "end": "1017759"
  },
  {
    "text": "dry run command to the server side dry run",
    "start": "1017759",
    "end": "1022880"
  },
  {
    "text": "and if i go ahead and do that we see we get a warning that the",
    "start": "1022880",
    "end": "1028798"
  },
  {
    "text": "restricted pod this would be all pods running in the name space",
    "start": "1028799",
    "end": "1035039"
  },
  {
    "text": "actually violates the uh the new version of enforce",
    "start": "1035439",
    "end": "1040880"
  },
  {
    "text": "so this is saying that this new version that i'm enforcing",
    "start": "1040880",
    "end": "1047520"
  },
  {
    "text": "it is enforced now or it would be if it wasn't dry run but we have existing pods that violate",
    "start": "1047520",
    "end": "1053840"
  },
  {
    "text": "it so this would help detect if you go to upgrade and see that oh actually there's",
    "start": "1053840",
    "end": "1060480"
  },
  {
    "text": "pods in this name space that are going to start failing if i upgrade this that can let you roll back or if you if",
    "start": "1060480",
    "end": "1067919"
  },
  {
    "text": "you haven't done dry run or in the dry run case you can see that i need to go and update these pods before actually",
    "start": "1067919",
    "end": "1073120"
  },
  {
    "text": "applying that and that's the demo so with that i'll",
    "start": "1073120",
    "end": "1079039"
  },
  {
    "text": "hand it back over to tabitha thanks",
    "start": "1079039",
    "end": "1083279"
  },
  {
    "start": "1084000",
    "end": "1273000"
  },
  {
    "text": "thank you very much tim yeah so this is a little bit about what pod",
    "start": "1084320",
    "end": "1090160"
  },
  {
    "text": "security admission controller looks like a little bit about how it's used and the",
    "start": "1090160",
    "end": "1095919"
  },
  {
    "text": "story of pod security admission controller is really wrapped up tightly",
    "start": "1095919",
    "end": "1101039"
  },
  {
    "text": "with the story of psp so let's talk a little bit about the",
    "start": "1101039",
    "end": "1106559"
  },
  {
    "text": "history and the story of psp so it kind of evolved out of the",
    "start": "1106559",
    "end": "1112320"
  },
  {
    "text": "security constraints that were in openshift from very early days and pod",
    "start": "1112320",
    "end": "1118559"
  },
  {
    "text": "security policy was added as an admission controller in beta in kubernetes 1.3 this was like this was",
    "start": "1118559",
    "end": "1126720"
  },
  {
    "text": "before our back was a default the default service account was cluster admin like this was wild west days and",
    "start": "1126720",
    "end": "1134240"
  },
  {
    "text": "it evolved really rapidly over time so by 1.6",
    "start": "1134240",
    "end": "1139360"
  },
  {
    "text": "the resources to create pot security policies were available in",
    "start": "1139360",
    "end": "1144480"
  },
  {
    "text": "the api server by default you didn't have to turn on a feature gate form anymore by 1.7 you could bind them into",
    "start": "1144480",
    "end": "1151520"
  },
  {
    "text": "namespaces and there were tons of fixes in 1.8",
    "start": "1151520",
    "end": "1157039"
  },
  {
    "text": "and then development of pot security policy slowed down a little bit but it was still moderately active up",
    "start": "1157039",
    "end": "1164160"
  },
  {
    "text": "up through 115 you see occasional feature editions more pod fields that",
    "start": "1164160",
    "end": "1170480"
  },
  {
    "text": "can be controlled with psp and and things like that but the the fundamental",
    "start": "1170480",
    "end": "1176000"
  },
  {
    "text": "constraints of pod security policy continued to be in there",
    "start": "1176000",
    "end": "1181200"
  },
  {
    "text": "now those feature editions couldn't really make up",
    "start": "1181200",
    "end": "1187280"
  },
  {
    "text": "for the fundamental struggles that adopting pod security policy had",
    "start": "1187280",
    "end": "1193919"
  },
  {
    "text": "i'll briefly wave my hands at them like the fact that you must create this",
    "start": "1193919",
    "end": "1199919"
  },
  {
    "text": "policies before turning on the admission controller because it hard fails closed",
    "start": "1199919",
    "end": "1205440"
  },
  {
    "text": "and so if you simply turn on the admission controller your cluster is immediately broken has been difficult to",
    "start": "1205440",
    "end": "1213440"
  },
  {
    "text": "to deal with and you know there's there's a lot of other sharp edges",
    "start": "1213440",
    "end": "1219520"
  },
  {
    "text": "for more details about this there is a there is a sig off talk from several kubecons ago",
    "start": "1219520",
    "end": "1227200"
  },
  {
    "text": "that's linked from the psp deprecation blog post and in",
    "start": "1227200",
    "end": "1232480"
  },
  {
    "text": "a little while i don't know if it's the next session or a couple of sessions down uh sig off has a maintainer track",
    "start": "1232480",
    "end": "1238480"
  },
  {
    "text": "session where they will get into a lot more detail about like what those psp challenges were",
    "start": "1238480",
    "end": "1244000"
  },
  {
    "text": "but the challenges were there and so discussions about how to replace psp",
    "start": "1244000",
    "end": "1249360"
  },
  {
    "text": "started around 116 and those discussions were not able to",
    "start": "1249360",
    "end": "1254720"
  },
  {
    "text": "progress rapidly so we got to the point eventually where",
    "start": "1254720",
    "end": "1260960"
  },
  {
    "text": "other kubernetes administrative changes made it extremely likely that psp was going to be deprecated so like what even",
    "start": "1260960",
    "end": "1268080"
  },
  {
    "text": "is kubernetes deprecation it's the first step towards having a feature go away",
    "start": "1268080",
    "end": "1275360"
  },
  {
    "start": "1273000",
    "end": "1510000"
  },
  {
    "text": "and it's just a notice like it's a promise we are going to continue to support the feature for a certain amount",
    "start": "1275360",
    "end": "1281440"
  },
  {
    "text": "of time but you need to be aware that it will not be around forever and that is what is currently happening",
    "start": "1281440",
    "end": "1288400"
  },
  {
    "text": "with psp it was decorated in 1.21 it will be removed entirely in 125",
    "start": "1288400",
    "end": "1295120"
  },
  {
    "text": "but its story doesn't end even in 125 psp story ends when the last user turns it",
    "start": "1295120",
    "end": "1302880"
  },
  {
    "text": "off and so some of you might be wondering even whether you are using psp today",
    "start": "1302880",
    "end": "1309520"
  },
  {
    "text": "one way if you can inspect the command line arguments that are being passed to your cube api server you can look for",
    "start": "1309520",
    "end": "1315840"
  },
  {
    "text": "pod security policy in the enable admission plugins command line option um if you only have",
    "start": "1315840",
    "end": "1322880"
  },
  {
    "text": "kubernetes cluster access k get ps kubernete you know kub ctl get",
    "start": "1322880",
    "end": "1328159"
  },
  {
    "text": "psp will probably tell you if you're using psps because",
    "start": "1328159",
    "end": "1333440"
  },
  {
    "text": "certainly there must be some psps defined in your cluster or it would be broken",
    "start": "1333440",
    "end": "1338480"
  },
  {
    "text": "it is possible that you might not have access to them so coop ctl get psp is not a hundred",
    "start": "1338480",
    "end": "1345440"
  },
  {
    "text": "percent trustworthy but if you see it it does prove that you're using psp if you don't see it it",
    "start": "1345440",
    "end": "1352480"
  },
  {
    "text": "mostly proves you're not using it so if you are using psp it's going away",
    "start": "1352480",
    "end": "1359200"
  },
  {
    "text": "you're going to need to replace it with something and because psp was such a flexible feature",
    "start": "1359200",
    "end": "1367039"
  },
  {
    "text": "that could really be used in a lot of different ways some of which were quite straightforward some of which were quite",
    "start": "1367039",
    "end": "1373600"
  },
  {
    "text": "clever some of which were too clever you you can't simply replace it nothing",
    "start": "1373600",
    "end": "1379200"
  },
  {
    "text": "could just replace psp except psp but you can think about what are we",
    "start": "1379200",
    "end": "1385520"
  },
  {
    "text": "trying to get out of psp like it has mutation features it can default",
    "start": "1385520",
    "end": "1392400"
  },
  {
    "text": "certain pod settings to newer more hardened settings than what the kubernetes defaults are is that what",
    "start": "1392400",
    "end": "1398880"
  },
  {
    "text": "you're using psp for are you using it to exert really fine-grained control over pods in",
    "start": "1398880",
    "end": "1405840"
  },
  {
    "text": "different name spaces like for example if you are running a cni plug-in that",
    "start": "1405840",
    "end": "1411679"
  },
  {
    "text": "requires capnet admin and hostnet on its daemon set have you made a",
    "start": "1411679",
    "end": "1417679"
  },
  {
    "text": "namespace for that made a psp that allows only those features and enabled",
    "start": "1417679",
    "end": "1423679"
  },
  {
    "text": "that psp to be used in that namespace perhaps you are or perhaps you",
    "start": "1423679",
    "end": "1429279"
  },
  {
    "text": "let everything in that name space use all features you need to you need to think about what are you getting out of",
    "start": "1429279",
    "end": "1435120"
  },
  {
    "text": "it what do you want to get out of it because with whatever you replace it with you need to know the answers to",
    "start": "1435120",
    "end": "1441760"
  },
  {
    "text": "these questions so once you once you know what you want to get out of psp then you can start to",
    "start": "1441760",
    "end": "1449360"
  },
  {
    "text": "examine the alternatives that you could use to replace it if pod security admission covers your",
    "start": "1449360",
    "end": "1455360"
  },
  {
    "text": "needs you can walk through the documentation and have some guidance on how to migrate to",
    "start": "1455360",
    "end": "1461919"
  },
  {
    "text": "it if you are using advanced use cases that are beyond what pod security admission can do",
    "start": "1461919",
    "end": "1469039"
  },
  {
    "text": "then the various cncf open source alternatives",
    "start": "1469039",
    "end": "1474400"
  },
  {
    "text": "like gatekeeper or caverno i haven't actually read all of those docs but i",
    "start": "1474400",
    "end": "1480080"
  },
  {
    "text": "have glanced through them and i'm pretty confident that all of them have some documentation about how to switch from",
    "start": "1480080",
    "end": "1487200"
  },
  {
    "text": "psp to them but whatever whatever you choose the key is to make sure that you",
    "start": "1487200",
    "end": "1492799"
  },
  {
    "text": "are choosing something with intention that will serve the needs that you have so",
    "start": "1492799",
    "end": "1498960"
  },
  {
    "text": "that's what's going on with psp it's going away what you can do to make sure that you can get safely off of it and",
    "start": "1498960",
    "end": "1506320"
  },
  {
    "text": "with all of that said i would like to switch and instead talk about the story",
    "start": "1506320",
    "end": "1512400"
  },
  {
    "start": "1510000",
    "end": "1589000"
  },
  {
    "text": "of pod security admission and the reason for this is that psp deprecation is one",
    "start": "1512400",
    "end": "1519360"
  },
  {
    "text": "of the biggest breaking changes ever made in kubernetes and i",
    "start": "1519360",
    "end": "1524960"
  },
  {
    "text": "absolutely loved lockheed's keynote from the other day talking about getting dual",
    "start": "1524960",
    "end": "1531120"
  },
  {
    "text": "stack to ga support and how it was a very difficult process that",
    "start": "1531120",
    "end": "1536240"
  },
  {
    "text": "required bringing the community together iterating understanding what was really needed and and changing the work that",
    "start": "1536240",
    "end": "1543600"
  },
  {
    "text": "was being done and the story of pod security admission is very similar to",
    "start": "1543600",
    "end": "1548960"
  },
  {
    "text": "that so like how did we do that fundamentally a core group of folks came",
    "start": "1548960",
    "end": "1554559"
  },
  {
    "text": "together and showed reasonable possibilities in a way that helped to",
    "start": "1554559",
    "end": "1559679"
  },
  {
    "text": "focus the discussion in a practical way so that it didn't continue to swirl",
    "start": "1559679",
    "end": "1566159"
  },
  {
    "text": "then like we came together as a community and iterated until we got a rough consensus",
    "start": "1566159",
    "end": "1573520"
  },
  {
    "text": "and once we had a rough consensus of what it needed to look like then it was",
    "start": "1573520",
    "end": "1578559"
  },
  {
    "text": "ready it was baked it was ready to go into the cap process and",
    "start": "1578559",
    "end": "1583679"
  },
  {
    "text": "it proceeded through the process and and now it's implemented so the details the details about that they",
    "start": "1583679",
    "end": "1590640"
  },
  {
    "text": "look like first the sigoth leaders started asking about the future of psp they tried a few",
    "start": "1590640",
    "end": "1598559"
  },
  {
    "text": "times to get a design process going but it just wasn't happening and then in late 2020 there",
    "start": "1598559",
    "end": "1606240"
  },
  {
    "text": "was a new policy to get rid of perma-beta features can only remain in",
    "start": "1606240",
    "end": "1612000"
  },
  {
    "text": "beta for a certain amount of time and then they have to graduate or be deprecated and tim rallied sigoth again",
    "start": "1612000",
    "end": "1619600"
  },
  {
    "text": "to find a solution he wrote an outline doc with background and options put a discussion topic on the sig off meeting",
    "start": "1619600",
    "end": "1627200"
  },
  {
    "text": "and a show people showed up we had like a",
    "start": "1627200",
    "end": "1632240"
  },
  {
    "text": "couple dozen people in that meeting we had a great discussion and the discussion didn't really get us any",
    "start": "1632240",
    "end": "1637279"
  },
  {
    "text": "closer to an answer it was very similar to the previous discussions and so",
    "start": "1637279",
    "end": "1643520"
  },
  {
    "text": "my security co-chair and i ian we we said well",
    "start": "1643520",
    "end": "1649840"
  },
  {
    "text": "we will write a proposal that will stop this churn like that's gonna be easy right",
    "start": "1649840",
    "end": "1655600"
  },
  {
    "text": "no no of course that wasn't easy but like we we said that we would do it and and then we were then we were",
    "start": "1655600",
    "end": "1662399"
  },
  {
    "text": "then we we have to keep our promises and so the the idea was that if the proposal",
    "start": "1662399",
    "end": "1667440"
  },
  {
    "text": "was specific enough that we could start asking what if we adopted this or like",
    "start": "1667440",
    "end": "1672799"
  },
  {
    "text": "why can't we adopt this kinds of questions and when we bootstrapped that",
    "start": "1672799",
    "end": "1678159"
  },
  {
    "text": "it was based on our experiences as end users you know we've both run kubernetes in production in several places and",
    "start": "1678159",
    "end": "1685039"
  },
  {
    "text": "really have felt the pain and so we we put our end user feelings into",
    "start": "1685039",
    "end": "1690720"
  },
  {
    "text": "this and we had advantages the situation had gotten a lot better since the earlier",
    "start": "1690720",
    "end": "1697039"
  },
  {
    "text": "meetings you know now there's a bunch of third-party admission controller choices that are really good so",
    "start": "1697039",
    "end": "1703200"
  },
  {
    "text": "we don't have to solve everybody's possible use case in the way that psp",
    "start": "1703200",
    "end": "1708320"
  },
  {
    "text": "had to be everything to everybody and now we have the pod security standards document which gives some good",
    "start": "1708320",
    "end": "1715600"
  },
  {
    "text": "guidance on places that you can think of stopping",
    "start": "1715600",
    "end": "1720720"
  },
  {
    "text": "along your pod setting hardening journey so there's some there's some guidance there from that",
    "start": "1720720",
    "end": "1726480"
  },
  {
    "text": "and everybody agreed that kubernetes needed to have some kind of built-in option we",
    "start": "1726480",
    "end": "1733120"
  },
  {
    "text": "you know we had many folks who who were on board with that and we eventually came to",
    "start": "1733120",
    "end": "1739039"
  },
  {
    "text": "everybody agreeing with that because built in offers an unmatched simplicity of deployment and",
    "start": "1739039",
    "end": "1745360"
  },
  {
    "text": "we have to have something built in if we want to move kubernetes closer to being secure by default",
    "start": "1745360",
    "end": "1751039"
  },
  {
    "text": "and for users who can't or don't want to adopt some external complex admission controller",
    "start": "1751039",
    "end": "1757200"
  },
  {
    "text": "so as ian and i were working on this proposal for a psp-like feature that was",
    "start": "1757200",
    "end": "1762480"
  },
  {
    "text": "fairly complex had a lot of flexibility in it but had rounded off the the really",
    "start": "1762480",
    "end": "1769120"
  },
  {
    "text": "sharp edges that would cut you on psp tim and others were also writing a very",
    "start": "1769120",
    "end": "1774480"
  },
  {
    "text": "specific proposal for an extremely simplified feature it was almost binary",
    "start": "1774480",
    "end": "1779600"
  },
  {
    "text": "a particular namespace could allow everything or allow something that was quite restrictive",
    "start": "1779600",
    "end": "1786000"
  },
  {
    "text": "and we coordinated the release of these two competing basic proposals so that",
    "start": "1786000",
    "end": "1792240"
  },
  {
    "text": "neither one of them would get an unfair advantage due to timing we shared our proposals together with all of the rest",
    "start": "1792240",
    "end": "1798880"
  },
  {
    "text": "of the kubernetes community in google docs to the sig off and sig security",
    "start": "1798880",
    "end": "1804640"
  },
  {
    "text": "meetings slack channels and so on so that they could get improvements and both of these proposals generated a",
    "start": "1804640",
    "end": "1811919"
  },
  {
    "text": "lot of enthusiasm and discussion we took over a couple of weeks worth of the sig",
    "start": "1811919",
    "end": "1817360"
  },
  {
    "text": "security meetings and a couple of weeks worth of the sig auth meetings and at",
    "start": "1817360",
    "end": "1822399"
  },
  {
    "text": "that point tim said hey let's have a regularly standing breakout",
    "start": "1822399",
    "end": "1828240"
  },
  {
    "text": "meeting so that we can talk about our feelings about this and our respective",
    "start": "1828240",
    "end": "1833440"
  },
  {
    "text": "sigs can continue to do the rest of their business and this actually worked out really",
    "start": "1833440",
    "end": "1838480"
  },
  {
    "text": "really well i brought back to the sig security meeting how it was progressing i think",
    "start": "1838480",
    "end": "1845200"
  },
  {
    "text": "tim brought back to the sig off meeting how it was progressing and over the course of a few meetings this ad hoc",
    "start": "1845200",
    "end": "1850399"
  },
  {
    "text": "group really sharpened both proposals we just focused in more and more on what",
    "start": "1850399",
    "end": "1857360"
  },
  {
    "text": "could we agree with we built group consensus and as our goals and values became more",
    "start": "1857360",
    "end": "1864320"
  },
  {
    "text": "clear from the kinds of discussions we were having about both proposals jordan came and proposed and wrote a",
    "start": "1864320",
    "end": "1871200"
  },
  {
    "text": "prototype for a feature that combined almost all of the strengths of both",
    "start": "1871200",
    "end": "1878320"
  },
  {
    "text": "proposals that had been being discussed and dropped a lot of the shortcomings of both of them and it's very very similar",
    "start": "1878320",
    "end": "1886320"
  },
  {
    "text": "to how pod security admission is today you know it had it had this very",
    "start": "1886320",
    "end": "1891360"
  },
  {
    "text": "holistic design where user needs came first that means how to maintain it is",
    "start": "1891360",
    "end": "1897039"
  },
  {
    "text": "considered and the fact that there are other options was considered like we were able to simplify because we knew",
    "start": "1897039",
    "end": "1904880"
  },
  {
    "text": "that if somebody's needs were beyond what we could do that they had other choices and so these are really the lessons that",
    "start": "1904880",
    "end": "1912559"
  },
  {
    "text": "we learned from that that big decisions have a life cycle and you need to respect that life cycle that",
    "start": "1912559",
    "end": "1920799"
  },
  {
    "text": "when you see a problem it may seem obvious to you what the problem is but there are plenty of other",
    "start": "1920799",
    "end": "1928000"
  },
  {
    "text": "smart and caring people in the kubernetes community who also think the problem seems obvious to them and you",
    "start": "1928000",
    "end": "1934799"
  },
  {
    "text": "don't all agree on what that is and you need to come to a shared",
    "start": "1934799",
    "end": "1941120"
  },
  {
    "text": "understanding of what that of what that problem is and how to solve it and a cap review is a really hard place",
    "start": "1941120",
    "end": "1948640"
  },
  {
    "text": "to talk about your feelings so like i like to joke when i'm trying to solve an engineering deadlock problem we're going",
    "start": "1948640",
    "end": "1955440"
  },
  {
    "text": "to get all of the people who know what they want but don't know what they want into a room and we'll talk about our",
    "start": "1955440",
    "end": "1960559"
  },
  {
    "text": "feelings and we'll figure it out but like the reason that i love that joke is like it kind of disarms people they",
    "start": "1960559",
    "end": "1966320"
  },
  {
    "text": "laugh a little bit but the real truth is we actually are talking about our feelings",
    "start": "1966320",
    "end": "1971600"
  },
  {
    "text": "if the technical decisions were obvious we wouldn't have to have a meeting about them we wouldn't have to have a",
    "start": "1971600",
    "end": "1977279"
  },
  {
    "text": "discussion about them and so big technical decisions do involve our",
    "start": "1977279",
    "end": "1983760"
  },
  {
    "text": "feelings and so therefore exploring big questions together in a more form more",
    "start": "1983760",
    "end": "1989440"
  },
  {
    "text": "informal setting like meetings slacks google docs building consensus that way around an",
    "start": "1989440",
    "end": "1995919"
  },
  {
    "text": "understanding of the problem and understanding of a good potential solution then you can feed that into a cap that",
    "start": "1995919",
    "end": "2002960"
  },
  {
    "text": "is set up to be able to actually get refined and implemented",
    "start": "2002960",
    "end": "2008399"
  },
  {
    "text": "so try something ask for help and work together with folks",
    "start": "2008399",
    "end": "2014559"
  },
  {
    "start": "2014000",
    "end": "2108000"
  },
  {
    "text": "so you can get involved with pod security admission it might be good for your needs if you think it might be try",
    "start": "2014559",
    "end": "2020480"
  },
  {
    "text": "it it's in 1.22 we're targeting beta in 1.23 which would mean it'll be on by default",
    "start": "2020480",
    "end": "2026159"
  },
  {
    "text": "you can come to the sigoth kubernetes slack channel or come to the sig off meeting to tell us how that's going",
    "start": "2026159",
    "end": "2033760"
  },
  {
    "text": "there is a web hook implementation that's in progress you can look in the issues i'm sorry i don't have a link for",
    "start": "2033760",
    "end": "2039120"
  },
  {
    "text": "it and there's a lot of room to improve the documentation especially around migration from psp and advanced",
    "start": "2039120",
    "end": "2046159"
  },
  {
    "text": "configuration and we'd really love your help with that so thank you so much for hearing us and",
    "start": "2046159",
    "end": "2052878"
  },
  {
    "text": "please play with play with our tools like they're your tools they're our tools and let's make sure that we make",
    "start": "2052879",
    "end": "2059599"
  },
  {
    "text": "them as good as we can",
    "start": "2059599",
    "end": "2062399"
  },
  {
    "text": "thank you you were lovely uh we don't have time to take live q a in here",
    "start": "2068800",
    "end": "2074560"
  },
  {
    "text": "though if you asked a question through the meeting play app uh tabitha's co-speaker was in there answering those",
    "start": "2074560",
    "end": "2080158"
  },
  {
    "text": "virtually thank you tim i'm so glad to have done this with you i thought that was actually really",
    "start": "2080159",
    "end": "2086320"
  },
  {
    "text": "convenient and useful uh but tabitha's welcome to hang out in the hallway and answer questions if you'll have them",
    "start": "2086320",
    "end": "2093040"
  },
  {
    "text": "yeah yeah i'll be around here for a few minutes and happy to happy to talk to folks and otherwise we're kubernetes",
    "start": "2093040",
    "end": "2099839"
  },
  {
    "text": "we're in the internet people you know please come to slack thanks a lot",
    "start": "2099839",
    "end": "2107799"
  }
]