[
  {
    "text": "kubernetes open source tools that you need and 2023",
    "start": "0",
    "end": "6299"
  },
  {
    "text": "um and uh we're here to discuss uh tools that we use here at Fairwinds that we've",
    "start": "6299",
    "end": "12599"
  },
  {
    "text": "developed and that we use uh to manage kubernetes clusters because it's hard to",
    "start": "12599",
    "end": "18840"
  },
  {
    "text": "do and so whatever you know tooling you can find out there to to help manage",
    "start": "18840",
    "end": "26460"
  },
  {
    "text": "policies and help create um you know help create governance",
    "start": "26460",
    "end": "32700"
  },
  {
    "text": "policies that make your clusters more stable and more secure and more efficient and all that great stuff uh",
    "start": "32700",
    "end": "38280"
  },
  {
    "text": "you know the more you can use the better your lives will be as folks who operate",
    "start": "38280",
    "end": "43520"
  },
  {
    "text": "kubernetes clusters so um I'll do a quick intro here",
    "start": "43520",
    "end": "50579"
  },
  {
    "text": "um good question um so we're not allowed to start using these until 2023 is that what I'm",
    "start": "50579",
    "end": "55860"
  },
  {
    "text": "getting from I I think so okay so so wait a month take the next month off and",
    "start": "55860",
    "end": "61500"
  },
  {
    "text": "in 2023. so this is your New Year's present right like",
    "start": "61500",
    "end": "66659"
  },
  {
    "text": "crinkle Moss uh snuzzle tag if anyone watches uh Gumball",
    "start": "66659",
    "end": "72780"
  },
  {
    "text": "all right anyway so uh I'm Stevie Caldwell uh I'm an SRE technical lead here at Fairwinds I've been working uh",
    "start": "72780",
    "end": "80220"
  },
  {
    "text": "you know in tech for longer than I will ever admit to anyone um but I've been through lots of stuff",
    "start": "80220",
    "end": "86939"
  },
  {
    "text": "I've been a CIS admin a network engineer uh and uh you know devops and working",
    "start": "86939",
    "end": "92280"
  },
  {
    "text": "with kubernetes for a few years now and also uh starting uh with some open source development uh here at Fairwinds",
    "start": "92280",
    "end": "99960"
  },
  {
    "text": "with some of the tools that you see here today and I'm Andy I'm the CTO here at",
    "start": "99960",
    "end": "106380"
  },
  {
    "text": "Fairwinds and been using kubernetes for I think seven years now I've been with",
    "start": "106380",
    "end": "111479"
  },
  {
    "text": "Fairwinds for four and a half uh like Stevie have also been a sysadmin and I",
    "start": "111479",
    "end": "116700"
  },
  {
    "text": "like to call myself a reformed assist admin um for many many years and uh I'm also",
    "start": "116700",
    "end": "123720"
  },
  {
    "text": "an author and maintainer of a lot of our open source so awesome",
    "start": "123720",
    "end": "130099"
  },
  {
    "text": "do we want to say the mission statement oh I know you love reading the missions yeah because everyone loves a slide that",
    "start": "131459",
    "end": "137280"
  },
  {
    "text": "gets read out loud to them so Fairwinds is a trusted partner for kubernetes security policy and",
    "start": "137280",
    "end": "144000"
  },
  {
    "text": "governance with Fairwinds customers ship Cloud native applications faster more cost effectively and with less risk we",
    "start": "144000",
    "end": "150720"
  },
  {
    "text": "provide a unified view between Dev SEC and Ops removing friction between those teams with software that simplifies",
    "start": "150720",
    "end": "157200"
  },
  {
    "text": "complexity wonderful have you memorized that yet not yet no I should though it's my radio",
    "start": "157200",
    "end": "163319"
  },
  {
    "text": "voice all right I think we're going to kick off a polling question here for everybody just a little interactive",
    "start": "163319",
    "end": "170220"
  },
  {
    "text": "piece so what is your greatest opportunity to improve your kubernetes environment is it a getting help with",
    "start": "170220",
    "end": "177000"
  },
  {
    "text": "the basic B General best practices assessment C improving the security posture of your clusters D saving money",
    "start": "177000",
    "end": "185340"
  },
  {
    "text": "or E improving the reliability of apps running in kubernetes",
    "start": "185340",
    "end": "191220"
  },
  {
    "text": "I have to give Zoom points here Zoom doesn't let me vote in the polls some of the other platforms do let you vote as a",
    "start": "191220",
    "end": "198420"
  },
  {
    "text": "presenter so I mean I would definitely say",
    "start": "198420",
    "end": "203760"
  },
  {
    "text": "hey I need help with the basics I die all the time just like a CTO it's got",
    "start": "203760",
    "end": "210300"
  },
  {
    "text": "your hands and stuff and what are you doing all right we'll leave the pool open for",
    "start": "210300",
    "end": "215819"
  },
  {
    "text": "just five more seconds all right I like okay so it's like the secret",
    "start": "215819",
    "end": "221700"
  },
  {
    "text": "voice of Oz exactly it looks like we've got uh 14 are looking for help with the",
    "start": "221700",
    "end": "227580"
  },
  {
    "text": "basics so maybe Andy did something his answer there we've got uh 38 um getting a best practice assessment",
    "start": "227580",
    "end": "234299"
  },
  {
    "text": "13 improving security posture of your clusters and the remaining 38 improving",
    "start": "234299",
    "end": "240659"
  },
  {
    "text": "the reliability of apps running in kubernetes all right all right well uh I like that",
    "start": "240659",
    "end": "247680"
  },
  {
    "text": "b and e General best practices and improving the reliability are completely tied together because if you follow the",
    "start": "247680",
    "end": "252959"
  },
  {
    "text": "best practices hopefully you have a reliable cluster and I think that leads perfectly into the first tool that we're",
    "start": "252959",
    "end": "260340"
  },
  {
    "text": "going to talk about today which is Polaris so I'm going to figure out how to kill",
    "start": "260340",
    "end": "265560"
  },
  {
    "text": "these slides because I'm using a new browser these days and it is",
    "start": "265560",
    "end": "270600"
  },
  {
    "text": "sometimes baffling all right so let's talk about the setup here I have a",
    "start": "270600",
    "end": "277080"
  },
  {
    "text": "kubernetes cluster so if I keep CTO get nodes I believe Steven I will be using",
    "start": "277080",
    "end": "283139"
  },
  {
    "text": "the same cluster today um from different perspectives with the different tools",
    "start": "283139",
    "end": "288780"
  },
  {
    "text": "um so we have a cluster here it looks like it is working on uh scheduling down",
    "start": "288780",
    "end": "294540"
  },
  {
    "text": "some nodes that's interesting um and then I have two uh demo",
    "start": "294540",
    "end": "300960"
  },
  {
    "text": "applications running in here so I have some a relatively simple application",
    "start": "300960",
    "end": "306600"
  },
  {
    "text": "that just runs a single deployment it's got an Ingress and a horizontal pod Auto scaler and then a more complex",
    "start": "306600",
    "end": "312660"
  },
  {
    "text": "application that has a database and a cache and a front end and a back-end",
    "start": "312660",
    "end": "317940"
  },
  {
    "text": "it's a multi-tiered web app um and these are running in the cluster they're available at public endpoints so",
    "start": "317940",
    "end": "324120"
  },
  {
    "text": "we have this one here it just pings the pods over and over again and then we have this one here this is the multi-tiered web app it lets you vote",
    "start": "324120",
    "end": "330539"
  },
  {
    "text": "for where you want to go to lunch even though I think all of these places would be more than two hour drive for me so I",
    "start": "330539",
    "end": "336120"
  },
  {
    "text": "don't know that it's going to happen but we can vote on where to go to lunch and uh we are generating some traffic",
    "start": "336120",
    "end": "341940"
  },
  {
    "text": "against these so this vote count is just going to keep going up and up hopefully it may have finished uh generating load",
    "start": "341940",
    "end": "348900"
  },
  {
    "text": "but we have somewhat of a realistic situation here we have you know multi-tiered web app we've got another app there are different namespaces",
    "start": "348900",
    "end": "356520"
  },
  {
    "text": "um and we we want to figure out if we're following best practices and how we've deployed these and so the third thing",
    "start": "356520",
    "end": "363840"
  },
  {
    "text": "that I've installed in this cluster is Polaris um and if you go take a look at our",
    "start": "363840",
    "end": "370800"
  },
  {
    "text": "documentation page for Polaris uh which is at uh Polaris dot Docs",
    "start": "370800",
    "end": "379199"
  },
  {
    "text": "dot fairwinds.com you'll find instructions on how to install it it is",
    "start": "379199",
    "end": "384900"
  },
  {
    "text": "a relatively straightforward Helm installation I have customized it with a bunch of values that I won't necessarily",
    "start": "384900",
    "end": "391199"
  },
  {
    "text": "get into too much detail about just yet but what it has given us is a dashboard",
    "start": "391199",
    "end": "396800"
  },
  {
    "text": "you can also run Polaris as a CLI tool so you can run this exact this exact",
    "start": "396800",
    "end": "402180"
  },
  {
    "text": "same set of checks against your cluster just from the CLI I like the dashboard it's you know I'm an executive so I love",
    "start": "402180",
    "end": "409380"
  },
  {
    "text": "shiny shiny dashboards um and so um we can scroll down here and see right",
    "start": "409380",
    "end": "417000"
  },
  {
    "text": "now I believe we're filtered by namespace but if I drop the namespace filter we should see all of our",
    "start": "417000",
    "end": "424680"
  },
  {
    "text": "namespaces pop up here and we'll get a score that is related to",
    "start": "424680",
    "end": "431100"
  },
  {
    "text": "the number of passing versus failing checks um and we've got some errors some things",
    "start": "431100",
    "end": "436380"
  },
  {
    "text": "we consider dangerous some warnings and some passing uh so if we scroll down we",
    "start": "436380",
    "end": "441900"
  },
  {
    "text": "will start to see um some of the things that we care about I'm going to scroll",
    "start": "441900",
    "end": "449160"
  },
  {
    "text": "past all this uh um our back stuff for the moment and I'm",
    "start": "449160",
    "end": "454620"
  },
  {
    "text": "going to look at the different namespaces and we'll see different uh checks failing or passing in some of",
    "start": "454620",
    "end": "461099"
  },
  {
    "text": "these places so uh I'm going to look first at like this deployment and we see that we have some passing checks",
    "start": "461099",
    "end": "468720"
  },
  {
    "text": "um these are custom ones we're not using host path volumes because that's a big security No-No",
    "start": "468720",
    "end": "474539"
  },
  {
    "text": "um and then we have this check here that says I should have a pod disruption budget for my deployment well what does",
    "start": "474539",
    "end": "482280"
  },
  {
    "text": "that mean so I'm gonna click this question mark and that's going to take me back to that documentation page again",
    "start": "482280",
    "end": "488539"
  },
  {
    "text": "and I'm going to see here that missing pod disruption budget is the only one",
    "start": "488539",
    "end": "493860"
  },
  {
    "text": "that has no description nice uh didn't mean to do that but we should have",
    "start": "493860",
    "end": "498900"
  },
  {
    "text": "descriptions for a lot of these but essentially what we need to do is add a pod disruption budget that refers to that deployment",
    "start": "498900",
    "end": "504900"
  },
  {
    "text": "uh and so we have a whole bunch of these checks built in they're documented here under reliability efficiency and",
    "start": "504900",
    "end": "512339"
  },
  {
    "text": "security um and these are all best practices that we have learned followed and suggest all",
    "start": "512339",
    "end": "519300"
  },
  {
    "text": "of our customers as we've we've built and run kubernetes clusters over the years and so that's the very basics of what",
    "start": "519300",
    "end": "527640"
  },
  {
    "text": "Polaris is um and you saw all the built-in checks and now you may want to to add custom",
    "start": "527640",
    "end": "534420"
  },
  {
    "text": "checks to Polaris maybe there's some things that are specific to your environment or some things that you want to enforce and so this is where we'll",
    "start": "534420",
    "end": "541440"
  },
  {
    "text": "jump into the um Polaris uh values file that I have",
    "start": "541440",
    "end": "546480"
  },
  {
    "text": "used here and we'll scroll down into the config section and we see here the list of",
    "start": "546480",
    "end": "553680"
  },
  {
    "text": "checks and their uh their level of um",
    "start": "553680",
    "end": "559500"
  },
  {
    "text": "what would the right word for that be there uh severity level that's the word I'm",
    "start": "559500",
    "end": "564540"
  },
  {
    "text": "looking for so these are the different severity levels um ignore warning and danger so the",
    "start": "564540",
    "end": "570600"
  },
  {
    "text": "ignore ones just don't even show up and the uh the warning ones showed up on our",
    "start": "570600",
    "end": "576120"
  },
  {
    "text": "dashboard as warnings and then we have the danger the danger ones have the added ability of being able to be",
    "start": "576120",
    "end": "582000"
  },
  {
    "text": "blocked by our validating admission web hook which is another thing piece of Polaris that you can add so once you've",
    "start": "582000",
    "end": "589200"
  },
  {
    "text": "gone through and you're happy with the state of your cluster and you've fixed",
    "start": "589200",
    "end": "595200"
  },
  {
    "text": "all these things and you've put in your exemptions and whatnot you probably want to start blocking things from getting",
    "start": "595200",
    "end": "601860"
  },
  {
    "text": "into your cluster that violates some of these rules so you can mark them as danger and block them at the admission",
    "start": "601860",
    "end": "608459"
  },
  {
    "text": "request level all right so I was going to talk about",
    "start": "608459",
    "end": "614700"
  },
  {
    "text": "um custom policy so if we come down here we'll see that",
    "start": "614700",
    "end": "620100"
  },
  {
    "text": "I've added a few custom policies I've named them image registry resource limits and host path Mount and I've got",
    "start": "620100",
    "end": "627120"
  },
  {
    "text": "some Carpenter stuff in here that I've been tinkering with but we can look at this custom check for image Registries",
    "start": "627120",
    "end": "633180"
  },
  {
    "text": "so perhaps your um you know only pushing your images to a specific registry at your company or",
    "start": "633180",
    "end": "640260"
  },
  {
    "text": "you are um can folks see this I see my little",
    "start": "640260",
    "end": "645720"
  },
  {
    "text": "preview here and I'm concerned oh no never mind we're good I saw something else but",
    "start": "645720",
    "end": "651360"
  },
  {
    "text": "um but perhaps we want to say that all of our images have to come from a specific list of Registries we can write this policy here that says",
    "start": "651360",
    "end": "658740"
  },
  {
    "text": "um it's got a couple of messages to go with it signed a category to it it's targeting the container specification",
    "start": "658740",
    "end": "665399"
  },
  {
    "text": "and then we write our policies in Json schema and if you go into the Polaris",
    "start": "665399",
    "end": "670800"
  },
  {
    "text": "repository you'll see that um all of the default checks are in the",
    "start": "670800",
    "end": "676620"
  },
  {
    "text": "checks folder and they are listed uh they're in yaml files and they look exactly like this they're all Json",
    "start": "676620",
    "end": "682320"
  },
  {
    "text": "schema checks and so we're looking at the image property of the container and",
    "start": "682320",
    "end": "688680"
  },
  {
    "text": "we're going to say that it has to be any of these string pattern matches so this",
    "start": "688680",
    "end": "695040"
  },
  {
    "text": "should be coming from any one of these Registries and so any one of these that",
    "start": "695040",
    "end": "700140"
  },
  {
    "text": "doesn't match will pop up as a warning in our Polaris dashboard because we have",
    "start": "700140",
    "end": "706620"
  },
  {
    "text": "that currently set to warning so that's how we add custom checks and then the",
    "start": "706620",
    "end": "712019"
  },
  {
    "text": "last thing I'll talk about real fast is exemptions there's probably some things in here that have to run this way for",
    "start": "712019",
    "end": "717839"
  },
  {
    "text": "example that pod disruption budget for cert manager that I mentioned cert manager is a single pod controller in",
    "start": "717839",
    "end": "723899"
  },
  {
    "text": "this cluster there's no need for it to run more than one because it runs as a Reconciliation Loop and if it goes down",
    "start": "723899",
    "end": "731459"
  },
  {
    "text": "or disappears for a little bit it comes back it's going to take care of its business when it comes back that's not a big deal and so what I want to do is add",
    "start": "731459",
    "end": "739560"
  },
  {
    "text": "an exemption for for cert manager so I'm going to say",
    "start": "739560",
    "end": "744959"
  },
  {
    "text": "controller names and I'm going to go back here and see that the controller name is going to be cert manager",
    "start": "744959",
    "end": "753240"
  },
  {
    "text": "uh and so that here and then I'm going to say rules and it is going to be",
    "start": "753240",
    "end": "759360"
  },
  {
    "text": "exempt from the uh [Music]",
    "start": "759360",
    "end": "765340"
  },
  {
    "text": "what I don't remember the exact name of it missing pod disruption budget",
    "start": "765620",
    "end": "772040"
  },
  {
    "text": "rule all right so we'll add that in there as an exemption so ideally we're going to save this we're going to rerun",
    "start": "772040",
    "end": "779820"
  },
  {
    "text": "the helm install that references this values file we're going to update Polaris in that namespace",
    "start": "779820",
    "end": "786120"
  },
  {
    "text": "and I am going to wait for that to finish and go back to my dashboard and",
    "start": "786120",
    "end": "791220"
  },
  {
    "text": "hopefully that's gone away and then some of those other settings to set things to warning have been enabled",
    "start": "791220",
    "end": "798320"
  },
  {
    "text": "any questions or thoughts I'm trying to keep an eye on questions here feel free to use the Q a tab",
    "start": "798860",
    "end": "805620"
  },
  {
    "text": "to answer to ask questions of us and we will try to get them answered",
    "start": "805620",
    "end": "811740"
  },
  {
    "text": "um we're gonna get pods in the Polaris new",
    "start": "811740",
    "end": "818339"
  },
  {
    "text": "space and just see if we've got new ones yet and as soon as they're up",
    "start": "818339",
    "end": "826819"
  },
  {
    "text": "I will go check the dashboard",
    "start": "828480",
    "end": "832760"
  },
  {
    "text": "Maybe there we go all right we'll refresh this",
    "start": "833579",
    "end": "841160"
  },
  {
    "text": "and I'm going to go ahead and filter down to just the cert manager namespace",
    "start": "845040",
    "end": "854779"
  },
  {
    "text": "all right and we see here the deployment cert manager just has this new uh",
    "start": "857339",
    "end": "864180"
  },
  {
    "text": "security or this new check for priority class that I believe is a custom check",
    "start": "864180",
    "end": "871079"
  },
  {
    "text": "actually um so I'm not going to worry too much about that but our [Music]",
    "start": "871079",
    "end": "876240"
  },
  {
    "text": "um let's see where is the",
    "start": "876240",
    "end": "881940"
  },
  {
    "text": "uh the pdb one isn't showing as passing it should be passing so we should be",
    "start": "882660",
    "end": "888240"
  },
  {
    "text": "good um I don't see this failing so that's a good sign but that's custom policy",
    "start": "888240",
    "end": "894360"
  },
  {
    "text": "exemptions and how we deploy Polaris into our clusters and then once we have like I",
    "start": "894360",
    "end": "900600"
  },
  {
    "text": "said once we have that of working um I definitely am going to go once we have all of our policies green or we",
    "start": "900600",
    "end": "906360"
  },
  {
    "text": "have specific ones green that we care about a lot I'm going to go enable that validating admission web hook and start blocking uh things from entering the",
    "start": "906360",
    "end": "913680"
  },
  {
    "text": "cluster that don't meet these requirements that don't pass these policies",
    "start": "913680",
    "end": "920360"
  },
  {
    "text": "anything else about Polaris that I should cover that I didn't see",
    "start": "920519",
    "end": "925519"
  },
  {
    "text": "no I think that's the well then I think I will go ahead and",
    "start": "927060",
    "end": "934699"
  },
  {
    "text": "hand it off to you for the second one and one of the things that Polaris will",
    "start": "934699",
    "end": "940800"
  },
  {
    "text": "tell you to do all the time is to set your resource requests and limits on",
    "start": "940800",
    "end": "946079"
  },
  {
    "text": "your deployments and if those aren't set you may be asking me how to set them so that's where Steve comes",
    "start": "946079",
    "end": "952620"
  },
  {
    "text": "hello so I'm gonna see if I can share my screen I always have difficulty sharing like the right desktop",
    "start": "952620",
    "end": "959880"
  },
  {
    "text": "um because uh yeah let's see let's try this one see if",
    "start": "959880",
    "end": "965579"
  },
  {
    "text": "that works all right you all see a terminal here",
    "start": "965579",
    "end": "972260"
  },
  {
    "text": "yes yes I see I see a terminal you see a terminal over there I do yes excellente",
    "start": "972839",
    "end": "979800"
  },
  {
    "text": "yeah so um Goldilocks let me see if I can do this thing and show you a yay so",
    "start": "979800",
    "end": "987660"
  },
  {
    "text": "this is our documentation for Goldilocks a documentation page um it might be a touch small in the text",
    "start": "987660",
    "end": "993480"
  },
  {
    "text": "size just heads oh for release all right let me see if I can give you up make it big so how about that that's a",
    "start": "993480",
    "end": "1000860"
  },
  {
    "text": "little better yeah a little better you want even bigger I I mean it's hard to tell but I'm sure it's fine all right is",
    "start": "1000860",
    "end": "1007459"
  },
  {
    "text": "it also small on the uh terminal is that good it's fine for me all right then",
    "start": "1007459",
    "end": "1012980"
  },
  {
    "text": "we'll keep going unless somebody pops into the chat and says yo that's not good um all right so yeah Goldilocks uh what",
    "start": "1012980",
    "end": "1020959"
  },
  {
    "text": "does it do um and you know Andy was talking about how you'll get um reports from Polaris",
    "start": "1020959",
    "end": "1027620"
  },
  {
    "text": "um about setting resource requests and limits and I'm sure you've been it's been hammered into you like yes you have",
    "start": "1027620",
    "end": "1033918"
  },
  {
    "text": "to you should best practice set resource requests and limits for your CPU and memory and your workloads",
    "start": "1033919",
    "end": "1040160"
  },
  {
    "text": "um and you know that's always something that people will struggle to do because it requires you to like do some thinking",
    "start": "1040160",
    "end": "1046938"
  },
  {
    "text": "about it right you need metrics you need like to have a a good span of time for",
    "start": "1046939",
    "end": "1052820"
  },
  {
    "text": "metrics you know you need to capture traffic at your high loads and your low lows and all that other stuff and that's",
    "start": "1052820",
    "end": "1058520"
  },
  {
    "text": "a lot to do manually if you're pulling up graphs you know somewhere in a grafana or something uh and trying to do",
    "start": "1058520",
    "end": "1065000"
  },
  {
    "text": "that math Goldilocks does that for you um using uh some you know already",
    "start": "1065000",
    "end": "1070820"
  },
  {
    "text": "existing kubernetes projects because it's always great to build on uh trusted and uh tested uh you know projects and",
    "start": "1070820",
    "end": "1079039"
  },
  {
    "text": "open source open source software and so that's what Goldilocks does um so Goldilocks uh can be installed",
    "start": "1079039",
    "end": "1087200"
  },
  {
    "text": "um so actually first prerequisites for Goldilocks we're talking about you know those tried and true projects uh",
    "start": "1087200",
    "end": "1092720"
  },
  {
    "text": "Goldilocks requires you to install a metric server and vertical pod Auto scaler",
    "start": "1092720",
    "end": "1098780"
  },
  {
    "text": "um both those things are pretty standard I feel like you know most people have them installed in their clusters just so",
    "start": "1098780",
    "end": "1104299"
  },
  {
    "text": "you could do like a cube control top or something like that right um so this is the cluster Andy was",
    "start": "1104299",
    "end": "1110360"
  },
  {
    "text": "working on it looks a little different because we're accessing it a little differently and you know my all my stuff's just not as cool looking",
    "start": "1110360",
    "end": "1116960"
  },
  {
    "text": "as his I don't know it's just a it's a thing I aspire to but anyway",
    "start": "1116960",
    "end": "1122120"
  },
  {
    "text": "um you know if we look and I'm going to go ahead and disclaimer",
    "start": "1122120",
    "end": "1127700"
  },
  {
    "text": "um that um my typing gets really bad when I am uh",
    "start": "1127700",
    "end": "1136100"
  },
  {
    "text": "in front of folks and so there's gonna be a lot of copy pasta if I can help it so that I don't have to worry about my",
    "start": "1136100",
    "end": "1141980"
  },
  {
    "text": "typing so um as you can see we already have metric server installed in this cluster it's all running and good",
    "start": "1141980",
    "end": "1147440"
  },
  {
    "text": "because we can do the good old you know okay top pods and find stuff in there right",
    "start": "1147440",
    "end": "1153559"
  },
  {
    "text": "um and so the other thing that we need running in here like I said is the vertical pod Auto scaler",
    "start": "1153559",
    "end": "1159380"
  },
  {
    "text": "um vertical pod Auto scaler um it has three components to it and the",
    "start": "1159380",
    "end": "1164539"
  },
  {
    "text": "component that Goldilocks needs is the recommender um which uh you know we have installed",
    "start": "1164539",
    "end": "1171320"
  },
  {
    "text": "here um and we also have the right the updater but that's not exactly necessary you could get away with just doing the",
    "start": "1171320",
    "end": "1176780"
  },
  {
    "text": "recommender uh the third um portion of the vpa is uh the",
    "start": "1176780",
    "end": "1181820"
  },
  {
    "text": "admission controller we don't install that by default so you know you can install the metric server uh using their",
    "start": "1181820",
    "end": "1188179"
  },
  {
    "text": "Helm chart and for installing the uh the vertical pod Auto scaler now you can go",
    "start": "1188179",
    "end": "1193400"
  },
  {
    "text": "to their repo and install it in there I think they have a script and they're like hack folder or something like that",
    "start": "1193400",
    "end": "1199340"
  },
  {
    "text": "um we also have a Helm chart uh for the vpa because as far as we know there",
    "start": "1199340",
    "end": "1205039"
  },
  {
    "text": "isn't an official one yet um and so our chart is you know opinionated and will by default just",
    "start": "1205039",
    "end": "1210320"
  },
  {
    "text": "install the recommender and the updater and um the recommender and updater pretty much do exactly what it sounds",
    "start": "1210320",
    "end": "1216380"
  },
  {
    "text": "like the recommender um gets metrics uh from the metric server",
    "start": "1216380",
    "end": "1222020"
  },
  {
    "text": "um and then uses those metrics to like essentially make recommendations uh to",
    "start": "1222020",
    "end": "1227600"
  },
  {
    "text": "the vpa objects that are created for the deployments that you've attached to vpa",
    "start": "1227600",
    "end": "1232880"
  },
  {
    "text": "um and then uh based on those uh and Goldilocks essentially uses those values",
    "start": "1232880",
    "end": "1238340"
  },
  {
    "text": "to make recommendations or to surface those for you um uh you know based on the vpa so",
    "start": "1238340",
    "end": "1246280"
  },
  {
    "text": "uh these like I said this has already been installed in the cluster um and Goldilocks has been installed as",
    "start": "1246280",
    "end": "1252260"
  },
  {
    "text": "well which is also installable via a Helm chart um so we've installed the controller",
    "start": "1252260",
    "end": "1258140"
  },
  {
    "text": "um and the dashboard and those are pretty much all you need to have Goldilocks running and uh giving you",
    "start": "1258140",
    "end": "1265100"
  },
  {
    "text": "information for setting your resources um your resource limits and requests",
    "start": "1265100",
    "end": "1270500"
  },
  {
    "text": "um so how do you actually get Goldilocks attached to your workloads how do you get it to create uh vpa objects for your",
    "start": "1270500",
    "end": "1278059"
  },
  {
    "text": "workloads um that comes through um installing uh or sorry labeling",
    "start": "1278059",
    "end": "1284480"
  },
  {
    "text": "namespaces with a particular label right so we actually have",
    "start": "1284480",
    "end": "1290360"
  },
  {
    "text": "um already in this cluster because of the way we've set it up um we actually have a bunch of uh",
    "start": "1290360",
    "end": "1298539"
  },
  {
    "text": "namespaces that have uh the Goldilocks uh label on it but we did create as Andy",
    "start": "1298539",
    "end": "1305659"
  },
  {
    "text": "said uh two new namespaces uh this Yelp one here and this demo one here for the",
    "start": "1305659",
    "end": "1311360"
  },
  {
    "text": "demo app so we created those namespaces specifically to show you like Goldilocks in action",
    "start": "1311360",
    "end": "1317059"
  },
  {
    "text": "um so we're gonna work within those but just to show you if you say uh",
    "start": "1317059",
    "end": "1324620"
  },
  {
    "text": "if you say um uh K and get BPA and and K is just my shortcut for cube control",
    "start": "1324620",
    "end": "1331520"
  },
  {
    "text": "um you can see all the vpas that were created in this cluster because of uh Goldilocks and I'll show you how those",
    "start": "1331520",
    "end": "1337820"
  },
  {
    "text": "uh probably got created um in a little bit but uh let's start",
    "start": "1337820",
    "end": "1343820"
  },
  {
    "text": "off with just labeling well let's take a look at the Goldilocks dashboard first right I'm going to run this in another",
    "start": "1343820",
    "end": "1349820"
  },
  {
    "text": "uh terminal I'm not I'm not a tmux aficionado like my buddy here",
    "start": "1349820",
    "end": "1356000"
  },
  {
    "text": "um so I'm going to support forward uh Goldilocks dashboard",
    "start": "1356000",
    "end": "1361400"
  },
  {
    "text": "here and then we're going to go over to the",
    "start": "1361400",
    "end": "1366980"
  },
  {
    "text": "browser and look I even pulled up localhost already because I am super lazy so when I pull localhost 8080 and",
    "start": "1366980",
    "end": "1374360"
  },
  {
    "text": "here's the Goldilocks dashboard so normally if you've just set up Goldilocks in your cluster all this",
    "start": "1374360",
    "end": "1380419"
  },
  {
    "text": "stuff isn't going to be here these name spaces won't be here because you know you typically haven't labeled your name",
    "start": "1380419",
    "end": "1385700"
  },
  {
    "text": "spaces these namespaces are already labeled or they've already been you know set to have vpas so they show up",
    "start": "1385700",
    "end": "1393440"
  },
  {
    "text": "um if you were starting with like a pure vanilla installation there would be a nice little block of text up there and",
    "start": "1393440",
    "end": "1399679"
  },
  {
    "text": "it tells you exactly the command you need to run to manually label uh your namespace and that's the command I'm",
    "start": "1399679",
    "end": "1406220"
  },
  {
    "text": "going to show you now to get uh let's start with our demo app so we're going to get our demo app set up with the",
    "start": "1406220",
    "end": "1413659"
  },
  {
    "text": "Goldilocks um shoot the Goldilocks label and again",
    "start": "1413659",
    "end": "1420140"
  },
  {
    "text": "copy paste in like it's my job and in some cases it sometimes is uh so we're",
    "start": "1420140",
    "end": "1426260"
  },
  {
    "text": "doing a cube control label name space demo with that Goldilocks fairwinds.com enabled equals true we're going to",
    "start": "1426260",
    "end": "1434240"
  },
  {
    "text": "hit the OK on that and now we see that namespace is labeled",
    "start": "1434240",
    "end": "1439700"
  },
  {
    "text": "um and if we go back now over to our dashboard which is not there see if it's right",
    "start": "1439700",
    "end": "1446059"
  },
  {
    "text": "here no it's not right there either that's right here there we go and we",
    "start": "1446059",
    "end": "1452480"
  },
  {
    "text": "refresh that guy and we see demo namespace right here so that's how you that's that's just that's",
    "start": "1452480",
    "end": "1458900"
  },
  {
    "text": "uh how easily you can add workloads to Goldilocks um everything that's now deployed in",
    "start": "1458900",
    "end": "1465080"
  },
  {
    "text": "that demo namespace will be uh picked up and we'll have a vpa associated with it so if we do a vpa dash new space demo",
    "start": "1465080",
    "end": "1474620"
  },
  {
    "text": "um we can see there's the Goldilocks demo basic demo uh vpa and you'll notice well",
    "start": "1474620",
    "end": "1482360"
  },
  {
    "text": "let's actually just look into it a little bit",
    "start": "1482360",
    "end": "1486279"
  },
  {
    "text": "so a couple of things you'll notice in here um the update policy is set to off so",
    "start": "1487640",
    "end": "1493700"
  },
  {
    "text": "with the vertical pod Auto scaler uh if you have the updater installed the updater can actually uh vertically scale",
    "start": "1493700",
    "end": "1501080"
  },
  {
    "text": "your resources on your pods for you based on uh this information down here",
    "start": "1501080",
    "end": "1507140"
  },
  {
    "text": "from the recommender right um we have these set to off so it doesn't do this automatically for you",
    "start": "1507140",
    "end": "1514340"
  },
  {
    "text": "um and you know as I don't know if you noticed but when I did a a git labels",
    "start": "1514340",
    "end": "1520580"
  },
  {
    "text": "um on all the namespaces in the cluster there were some of them that had uh a label that was um update policy or",
    "start": "1520580",
    "end": "1527840"
  },
  {
    "text": "update mode set to Auto so you can pass another label to your namespace that",
    "start": "1527840",
    "end": "1533960"
  },
  {
    "text": "will enable the update mode to be Auto and so it will automatically uh scale",
    "start": "1533960",
    "end": "1539900"
  },
  {
    "text": "the resources on your uh on your on your deployment on your pods um as uh as needed but in our default",
    "start": "1539900",
    "end": "1547580"
  },
  {
    "text": "method or our default mode is set to off and then these recommendations here that",
    "start": "1547580",
    "end": "1553460"
  },
  {
    "text": "come from the recommender they play a part in how we uh recommend uh resource",
    "start": "1553460",
    "end": "1559460"
  },
  {
    "text": "limits and requests uh and Goldilocks so if we go back here and look at the demo app",
    "start": "1559460",
    "end": "1566260"
  },
  {
    "text": "we're going to just go ahead and collapse that little guy uh so you see it's a lot like Polaris um in the sense",
    "start": "1567440",
    "end": "1574340"
  },
  {
    "text": "that it you know there's a namespace so it shows you like the workload shows you the container and it shows you",
    "start": "1574340",
    "end": "1581659"
  },
  {
    "text": "um what Goldilocks uh is recommending you set for your resources and requests",
    "start": "1581659",
    "end": "1587059"
  },
  {
    "text": "right um and so this is the current and uh this is what they recommend for",
    "start": "1587059",
    "end": "1593240"
  },
  {
    "text": "guaranteed quality of service and reversible quality of service and for each of these it prints out some yaml",
    "start": "1593240",
    "end": "1600260"
  },
  {
    "text": "that you can then copy pasta yourself uh into your um you know your your Helm",
    "start": "1600260",
    "end": "1607640"
  },
  {
    "text": "charge or you know I guess you could live edit it in the cluster but I wouldn't recommend that you should be",
    "start": "1607640",
    "end": "1612919"
  },
  {
    "text": "doing some cicd stuff right so um also we have a little glossary down here that",
    "start": "1612919",
    "end": "1619520"
  },
  {
    "text": "explains uh some of the stuff about the difference between um the guaranteed quality of service and",
    "start": "1619520",
    "end": "1626179"
  },
  {
    "text": "the bursible quality of service which essentially about like how um kubernetes treats your workloads when",
    "start": "1626179",
    "end": "1632900"
  },
  {
    "text": "uh it's under resource uh pressure right so um",
    "start": "1632900",
    "end": "1638600"
  },
  {
    "text": "you know uh kubernetes the cube scheduler uses your resource request",
    "start": "1638600",
    "end": "1644179"
  },
  {
    "text": "um for how to for trying to you know Bim pack your your uh pods on the uh on",
    "start": "1644179",
    "end": "1650360"
  },
  {
    "text": "nodes uh the HPA horizontal pod Auto scaler also uses uh your request uh and",
    "start": "1650360",
    "end": "1656539"
  },
  {
    "text": "so um you know that's um that's important to uh have set but if you have both your",
    "start": "1656539",
    "end": "1663440"
  },
  {
    "text": "requests and your limits set to the same values then if you have some sort of resource contention",
    "start": "1663440",
    "end": "1669679"
  },
  {
    "text": "um your pods will um will both will sort of have a guaranteed like this is what",
    "start": "1669679",
    "end": "1675440"
  },
  {
    "text": "I'm going to use on this node right burstable means that your pod could go up or down for like short spikes of time",
    "start": "1675440",
    "end": "1682580"
  },
  {
    "text": "um you know except for uh except for a CPU I guess because then you you get throttled if you do that but for uh",
    "start": "1682580",
    "end": "1689480"
  },
  {
    "text": "memory you know you get a little burstable thing here and so that's makes it a little it makes it a little more flexible",
    "start": "1689480",
    "end": "1695720"
  },
  {
    "text": "um but I also think it means that it's more easily uh evicted if um",
    "start": "1695720",
    "end": "1701059"
  },
  {
    "text": "if you have some resource contention but uh so these are the things that the you",
    "start": "1701059",
    "end": "1706220"
  },
  {
    "text": "know Goldilocks will recommend these are starting points right so that's important to keep in mind like",
    "start": "1706220",
    "end": "1711380"
  },
  {
    "text": "ultimately you know your workloads and you know your um sort of your your business patterns uh better than we do",
    "start": "1711380",
    "end": "1718820"
  },
  {
    "text": "better than Goldilocks us so this is like a good starting point to like test out and tweak and and see how those",
    "start": "1718820",
    "end": "1725000"
  },
  {
    "text": "things uh will work um will work for you in terms of your traffic patterns",
    "start": "1725000",
    "end": "1730880"
  },
  {
    "text": "um there is a way to",
    "start": "1730880",
    "end": "1736460"
  },
  {
    "text": "uh there is a way to label all of your name spaces so like you know what I",
    "start": "1737500",
    "end": "1742520"
  },
  {
    "text": "showed you was going in and manually um adding a label to your namespace but",
    "start": "1742520",
    "end": "1748220"
  },
  {
    "text": "you can actually just go ahead and label all the namespaces um in your cluster",
    "start": "1748220",
    "end": "1755299"
  },
  {
    "text": "um or it's not actually labeling the namespaces but it's like tagging them for being used with Goldilocks because",
    "start": "1755299",
    "end": "1760880"
  },
  {
    "text": "if you do a show labels you'll find that they don't actually create a label in a",
    "start": "1760880",
    "end": "1766640"
  },
  {
    "text": "namespace but um it does create a vpa for every",
    "start": "1766640",
    "end": "1772340"
  },
  {
    "text": "for every uh namespace in your cluster um which means that any new uh names any",
    "start": "1772340",
    "end": "1778580"
  },
  {
    "text": "new um namespace will also automatically get uh vpas added for any workloads running",
    "start": "1778580",
    "end": "1785960"
  },
  {
    "text": "in those name spaces right so for example um let's see if this will work",
    "start": "1785960",
    "end": "1791899"
  },
  {
    "text": "I'm going to try and actually I'm not going to do that here because we actually didn't install Goldilocks with",
    "start": "1791899",
    "end": "1797360"
  },
  {
    "text": "Helm in this cluster uh so there is no Helm chart that I can upgrade but",
    "start": "1797360",
    "end": "1804080"
  },
  {
    "text": "potentially in my cluster um one just check it out here for a",
    "start": "1804080",
    "end": "1810799"
  },
  {
    "text": "second I do have a Goldilocks chart",
    "start": "1810799",
    "end": "1816820"
  },
  {
    "text": "and so this is my kind cluster this is what I meant when I said I was going to be",
    "start": "1816820",
    "end": "1822200"
  },
  {
    "text": "using a bunch of different clusters because I think I already ran this command so I'll just copy paste it so",
    "start": "1822200",
    "end": "1828140"
  },
  {
    "text": "you can see what it is but I won't necessarily run it here but this command uh there's a couple of",
    "start": "1828140",
    "end": "1835039"
  },
  {
    "text": "flags that you can set uh in the in Goldilocks um the controller Flags so if",
    "start": "1835039",
    "end": "1841340"
  },
  {
    "text": "you set controller flags on by default to True uh or flags on by default to true in both the controller and",
    "start": "1841340",
    "end": "1847760"
  },
  {
    "text": "dashboard uh sections of Goldilocks what that'll do is automatically add a vpa",
    "start": "1847760",
    "end": "1853340"
  },
  {
    "text": "for whatever new um uh namespace you create in your cluster which is which is pretty cool uh",
    "start": "1853340",
    "end": "1860419"
  },
  {
    "text": "and also create you know the vpas for all your existing stuff uh in the cluster",
    "start": "1860419",
    "end": "1865640"
  },
  {
    "text": "um and the last thing that I'll mention about Goldilocks uh I think is that",
    "start": "1865640",
    "end": "1872240"
  },
  {
    "text": "so Goldilocks uses the recommender um but you can actually and and so there's like a limited amount of",
    "start": "1872240",
    "end": "1877700"
  },
  {
    "text": "information like it only goes back so far I don't actually know how far back it goes but you know not super far but",
    "start": "1877700",
    "end": "1884419"
  },
  {
    "text": "you can actually install like Prometheus in your cluster and then hook uh Prometheus up to",
    "start": "1884419",
    "end": "1891919"
  },
  {
    "text": "um both uh hook that up to the vertical pod Auto scaler uh as a as a back-end",
    "start": "1891919",
    "end": "1898520"
  },
  {
    "text": "like as a storage um and then you'll have like however long you decide to set Prometheus for",
    "start": "1898520",
    "end": "1906500"
  },
  {
    "text": "um the worth of data to reference uh in terms of making those kinds of um",
    "start": "1906500",
    "end": "1911960"
  },
  {
    "text": "recommendations for CPU and and memory requests and limits uh",
    "start": "1911960",
    "end": "1919360"
  },
  {
    "text": "that's all I have any questions Andy don't ask me any questions Andy",
    "start": "1919360",
    "end": "1925760"
  },
  {
    "text": "I don't have any questions that was a great overview of Goldilocks all right so I'm going to stop sharing",
    "start": "1925760",
    "end": "1932179"
  },
  {
    "text": "actually I was thinking do you want to just do the Nova one and then oh I can do that way we don't have to flip the",
    "start": "1932179",
    "end": "1939080"
  },
  {
    "text": "screen shares four times sure sure okay all right all right so uh we're gonna go right into Nova",
    "start": "1939080",
    "end": "1945460"
  },
  {
    "text": "tool number three we're covering a lot of ground today we are we are all right",
    "start": "1945460",
    "end": "1950720"
  },
  {
    "text": "so Nova uh let's take you to the Nova page",
    "start": "1950720",
    "end": "1956480"
  },
  {
    "text": "bye bye localhost Nova documentation all right uh so Nova um",
    "start": "1956480",
    "end": "1963080"
  },
  {
    "text": "again uh this is a tool that uh we developed in-house when we just you know",
    "start": "1963080",
    "end": "1968120"
  },
  {
    "text": "found a need for it based on all the Clusters um that we managed and uh it scans uh",
    "start": "1968120",
    "end": "1975740"
  },
  {
    "text": "your cluster for updates to helm charts and container images if you're not using",
    "start": "1975740",
    "end": "1981080"
  },
  {
    "text": "help um so you know it's useful for like keeping track of add-ons you know uh",
    "start": "1981080",
    "end": "1988039"
  },
  {
    "text": "your cert managers your nginx and address uh external DNS all those things",
    "start": "1988039",
    "end": "1993500"
  },
  {
    "text": "um you know you want to keep track of you want to keep as up to date as possible with those because obviously there's all kinds of security patches",
    "start": "1993500",
    "end": "2000159"
  },
  {
    "text": "that'll come through stability patches and you know keeping those things up to date as to uh you know the the security",
    "start": "2000159",
    "end": "2006580"
  },
  {
    "text": "and stability of your cluster right it helps you know maintain that",
    "start": "2006580",
    "end": "2011679"
  },
  {
    "text": "um so Nova is really simple to use um I am actually going to so I can I can",
    "start": "2011679",
    "end": "2018640"
  },
  {
    "text": "do both right I'm gonna I'm gonna run it in in the cluster we're using but you're going to find oh that",
    "start": "2018640",
    "end": "2025659"
  },
  {
    "text": "was the other typed fine as I said fine and that was pretty it's pretty dope",
    "start": "2025659",
    "end": "2030880"
  },
  {
    "text": "um you're going to find that there's not a lot in this cluster because again uh this cluster doesn't have a lot of Helm",
    "start": "2030880",
    "end": "2036820"
  },
  {
    "text": "charts installed in it um but let me run through the command here so Nova find is the base command",
    "start": "2036820",
    "end": "2044320"
  },
  {
    "text": "um and uh by default Nova will output uh the stuff in Json",
    "start": "2044320",
    "end": "2050260"
  },
  {
    "text": "um and uh so you pass it the format uh table uh flag and it'll you know give",
    "start": "2050260",
    "end": "2057220"
  },
  {
    "text": "you this cute little table and dash that's wide is just uh more information that it shows you like if you did this",
    "start": "2057220",
    "end": "2062858"
  },
  {
    "text": "without the dash that's why um [Music]",
    "start": "2062859",
    "end": "2068260"
  },
  {
    "text": "you get like just a a little bit less just get the four columns",
    "start": "2068260",
    "end": "2073358"
  },
  {
    "text": "um are you about to say something Andy oh I was going to ask if you were going",
    "start": "2073359",
    "end": "2079000"
  },
  {
    "text": "to cover the dash dash containers but it looks like you are so yes cool um",
    "start": "2079000",
    "end": "2084638"
  },
  {
    "text": "and so this is a this is the helm uh this is uh how it finds um old and",
    "start": "2084639",
    "end": "2089740"
  },
  {
    "text": "deprecated uh versions of your or the terms if your Helm charts are old or",
    "start": "2089740",
    "end": "2094898"
  },
  {
    "text": "deprecated uh you know quickly going through these fields you know release name chart name new space the home",
    "start": "2094899",
    "end": "2101140"
  },
  {
    "text": "version so installed is obviously the chart version uh that's in your cluster uh latest is the latest chart version",
    "start": "2101140",
    "end": "2108640"
  },
  {
    "text": "that um Nova knows of old is a bull that",
    "start": "2108640",
    "end": "2113800"
  },
  {
    "text": "Boolean that says like yeah this is either your your version is old or not and then deprecated is",
    "start": "2113800",
    "end": "2120640"
  },
  {
    "text": "um a flag that sometimes inside actual Helm charts uh they can be set as",
    "start": "2120640",
    "end": "2125680"
  },
  {
    "text": "deprecated so that you know that Helm chart um you know should not be used in in the future you should start moving off of it",
    "start": "2125680",
    "end": "2132099"
  },
  {
    "text": "we saw this happen um you know in a big way when all those",
    "start": "2132099",
    "end": "2137260"
  },
  {
    "text": "charts started moving off of uh the stable charts repo and uh moved into their separate repos right so",
    "start": "2137260",
    "end": "2144880"
  },
  {
    "text": "um that's why that flag is there um and let's see so and where Nova gets uh",
    "start": "2144880",
    "end": "2154240"
  },
  {
    "text": "this information about the charts that are um you know the the uh different versions of charts and whether or not",
    "start": "2154240",
    "end": "2160359"
  },
  {
    "text": "they're deprecated is uh we pull uh artifact hub",
    "start": "2160359",
    "end": "2165460"
  },
  {
    "text": "um to get that information and uh there's one caveat that has been mentioned in previous",
    "start": "2165460",
    "end": "2171760"
  },
  {
    "text": "um presentations that I'll just you know make sure I'll carry on the tradition which is that you know you can Fork",
    "start": "2171760",
    "end": "2178540"
  },
  {
    "text": "charts charts can be forked and that's cool and sometimes those Forks charts wind up in artifact Hub",
    "start": "2178540",
    "end": "2185140"
  },
  {
    "text": "um and thechart.yaml is sometimes the same between the forked chart and the original chart which means that Nova",
    "start": "2185140",
    "end": "2192220"
  },
  {
    "text": "um doesn't have a way to Fig to to see which Upstream chart is actually the one",
    "start": "2192220",
    "end": "2197440"
  },
  {
    "text": "that your um your release uh came from so that is",
    "start": "2197440",
    "end": "2202540"
  },
  {
    "text": "important to just keep in mind we do um some matching and and",
    "start": "2202540",
    "end": "2208060"
  },
  {
    "text": "um scoring to try and like mitigate that but and we do a pretty good job of it but um that is just something to keep in",
    "start": "2208060",
    "end": "2214960"
  },
  {
    "text": "mind because that is where it gets that information from so what uh Andy was going to ask about",
    "start": "2214960",
    "end": "2221020"
  },
  {
    "text": "is showing the container scanning uh so Nova also scans container images uh I'm",
    "start": "2221020",
    "end": "2227980"
  },
  {
    "text": "just going to go ahead and copy pasta that command from over here",
    "start": "2227980",
    "end": "2234640"
  },
  {
    "text": "so let's see if we can find some containers and this is a",
    "start": "2234640",
    "end": "2241300"
  },
  {
    "text": "big cluster so it might take a moment",
    "start": "2241300",
    "end": "2244920"
  },
  {
    "text": "so you see we've got like a similar output here so these are um the containers running in this",
    "start": "2247000",
    "end": "2253420"
  },
  {
    "text": "cluster here's the current version and here's another Boolean it tells you whether or not it's old",
    "start": "2253420",
    "end": "2259300"
  },
  {
    "text": "um it tells you the latest container version but it also is so it tells you three different uh in three different",
    "start": "2259300",
    "end": "2265060"
  },
  {
    "text": "ways what um your different like how out of date you are so it Scopes it by the",
    "start": "2265060",
    "end": "2271540"
  },
  {
    "text": "latest um major version the latest uh minor version and the latest uh patch version",
    "start": "2271540",
    "end": "2278140"
  },
  {
    "text": "uh and that just gives you more info um on what to update right so you know",
    "start": "2278140",
    "end": "2284859"
  },
  {
    "text": "for example you might not have any concerns about updating your add-ons uh",
    "start": "2284859",
    "end": "2290440"
  },
  {
    "text": "to the latest patch version or even the latest minor version right if it's like um you know hey my latest minor version",
    "start": "2290440",
    "end": "2297400"
  },
  {
    "text": "is uh you know zero sixty I'm on 60.1",
    "start": "2297400",
    "end": "2303520"
  },
  {
    "text": "and the latest minor version is 0 68.1 or something you might be like yeah I can go ahead and patch that I don't",
    "start": "2303520",
    "end": "2309099"
  },
  {
    "text": "need to worry about any breaking changes and stuff like that so it just gives you more information so you can make linear",
    "start": "2309099",
    "end": "2314859"
  },
  {
    "text": "uh really granular decisions about how you want to handle matching your um your",
    "start": "2314859",
    "end": "2319960"
  },
  {
    "text": "add-ons and do those upgrades um another thing about Nova is that",
    "start": "2319960",
    "end": "2325359"
  },
  {
    "text": "there are some configurable options to it so there's a command you can run and",
    "start": "2325359",
    "end": "2330460"
  },
  {
    "text": "I'm just going to go ahead and do it here",
    "start": "2330460",
    "end": "2335099"
  },
  {
    "text": "more coffee pasta so Nova generate config will actually um",
    "start": "2335560",
    "end": "2341140"
  },
  {
    "text": "oh did I not do that right yep generate config it was a dash in between generate",
    "start": "2341140",
    "end": "2349119"
  },
  {
    "text": "Dash computers I think there we go um and so that will give you a",
    "start": "2349119",
    "end": "2357780"
  },
  {
    "text": "boa Anova config.yaml file uh let me actually put this at the top here I'd",
    "start": "2357880",
    "end": "2364180"
  },
  {
    "text": "rather have a bow than another gamble fun just saying so this is the config that uh Nova is",
    "start": "2364180",
    "end": "2371260"
  },
  {
    "text": "using when it runs uh all the I think it's essentially these map to like",
    "start": "2371260",
    "end": "2376660"
  },
  {
    "text": "command line arguments that you can pass into Nova on the fly right so for example you know format Json as you can",
    "start": "2376660",
    "end": "2384040"
  },
  {
    "text": "see that's the default and we pass in format um table from the command line but we could easily change this uh to",
    "start": "2384040",
    "end": "2390460"
  },
  {
    "text": "table uh the difference is that you'll then have to point Nova to your config file when you run it so that it uses",
    "start": "2390460",
    "end": "2396280"
  },
  {
    "text": "your your change to config so I guess we can actually even go ahead and uh",
    "start": "2396280",
    "end": "2403660"
  },
  {
    "text": "do a Quick Change there change it to table",
    "start": "2403660",
    "end": "2409480"
  },
  {
    "text": "and then I think if I go back up uh to Nova fun format table config",
    "start": "2409480",
    "end": "2419680"
  },
  {
    "text": "uration config Nova config.yaml",
    "start": "2420119",
    "end": "2425320"
  },
  {
    "text": "uh uh so this will just be all right so I wouldn't say",
    "start": "2425320",
    "end": "2431440"
  },
  {
    "text": "containers sorry where's my phone nurse",
    "start": "2431440",
    "end": "2437680"
  },
  {
    "text": "I think that will just give me by default um oh I said format table I'm on a",
    "start": "2437680",
    "end": "2444460"
  },
  {
    "text": "format table so I want to see if that works without it how about that",
    "start": "2444460",
    "end": "2451500"
  },
  {
    "text": "there's so many containers",
    "start": "2454500",
    "end": "2459000"
  },
  {
    "text": "see that's magical all right so yeah so because we changed that in the config",
    "start": "2459960",
    "end": "2465579"
  },
  {
    "text": "now you've got table as your default which is great because why would you ever really actually want that to be in",
    "start": "2465579",
    "end": "2471400"
  },
  {
    "text": "Json there's reasons you'd want it in Json but for this purpose you don't want it in Json a couple of other things that",
    "start": "2471400",
    "end": "2478300"
  },
  {
    "text": "are um interesting in this file that you can um look into",
    "start": "2478300",
    "end": "2484119"
  },
  {
    "text": "um is that you can set uh desired version so um that is a map that allows",
    "start": "2484119",
    "end": "2490900"
  },
  {
    "text": "you to specify the desired version of your um uh uh come chart or containers",
    "start": "2490900",
    "end": "2496900"
  },
  {
    "text": "here for example if you have some dependency in your cluster where you know I can't use anything above a Helm",
    "start": "2496900",
    "end": "2504220"
  },
  {
    "text": "chart of this version now you can put this in here and um and set that version",
    "start": "2504220",
    "end": "2509260"
  },
  {
    "text": "constraint essentially and then it'll ignore it it'll drop from the output of",
    "start": "2509260",
    "end": "2514599"
  },
  {
    "text": "of Nova um also there's a URL list down here so",
    "start": "2514599",
    "end": "2519940"
  },
  {
    "text": "you know I was telling you that Nova pulls from artifact or polls uh artifact Hub if you have other repos that you",
    "start": "2519940",
    "end": "2527320"
  },
  {
    "text": "know your Helm charts are sourced from like maybe you have some private repos you can add those to this URL list",
    "start": "2527320",
    "end": "2534880"
  },
  {
    "text": "um and it actually like uses both so you can have poll artifact Hub set to true and your own private URLs and it'll scan",
    "start": "2534880",
    "end": "2541960"
  },
  {
    "text": "or pull all those things things to give you a report um about your uh about your deprecated",
    "start": "2541960",
    "end": "2550119"
  },
  {
    "text": "and out of date so old and Dusty containers and uh Helm charts",
    "start": "2550119",
    "end": "2557560"
  },
  {
    "text": "um we have a question",
    "start": "2557560",
    "end": "2560820"
  },
  {
    "text": "I'm gonna I'm gonna read you the question all right I'm ready all right can we have your Elite bash prompt",
    "start": "2562740",
    "end": "2569440"
  },
  {
    "text": "config string can you have my Elite Bass Pro",
    "start": "2569440",
    "end": "2575280"
  },
  {
    "text": "oh uh actually you know who I got this Elite bash prompt config streaming from",
    "start": "2575280",
    "end": "2580839"
  },
  {
    "text": "you ready that guy right there oh my my CTO has",
    "start": "2580839",
    "end": "2586180"
  },
  {
    "text": "grabbed it from him because he has a whole really cool thing",
    "start": "2586180",
    "end": "2592240"
  },
  {
    "text": "um uh for using uh uh Starship so Starship is uh the",
    "start": "2592240",
    "end": "2599079"
  },
  {
    "text": "um what uh I use to configure my bash prompt so",
    "start": "2599079",
    "end": "2604540"
  },
  {
    "text": "um I don't know if that's public or not it is yes my data files are public I put",
    "start": "2604540",
    "end": "2610300"
  },
  {
    "text": "them I don't know that I can chat with everyone but I did answer the question",
    "start": "2610300",
    "end": "2616720"
  },
  {
    "text": "through Zoom so cool yeah yeah all right Starship",
    "start": "2616720",
    "end": "2623140"
  },
  {
    "text": "and there's sometimes it's more information like it gets a little messy depending on what I'm doing but yeah I",
    "start": "2623140",
    "end": "2629980"
  },
  {
    "text": "find it very helpful so shout out to uh shout out to my boss",
    "start": "2629980",
    "end": "2635760"
  },
  {
    "text": "uh did I miss anything okay I don't think so that was great",
    "start": "2636119",
    "end": "2641200"
  },
  {
    "text": "um I think yeah the only thing um oh no that's for Pluto no I think that's great",
    "start": "2641200",
    "end": "2646420"
  },
  {
    "text": "um thank you super I'm gonna stop sharing my screen I want you go back to yours",
    "start": "2646420",
    "end": "2651640"
  },
  {
    "text": "yours all right we have one more tool and then we've got just a couple of",
    "start": "2651640",
    "end": "2658119"
  },
  {
    "text": "things to talk about so let me get this zoom bar out of the way so I can actually see what I'm doing",
    "start": "2658119",
    "end": "2664260"
  },
  {
    "text": "I'm gonna go back to the cluster here and um the last tool",
    "start": "2664260",
    "end": "2670900"
  },
  {
    "text": "um yet another tool written as we ran into problems uh we were doing the kubernetes",
    "start": "2670900",
    "end": "2675960"
  },
  {
    "text": "1.16 upgrades and if anybody remembers that particular upgrade all of the old",
    "start": "2675960",
    "end": "2681520"
  },
  {
    "text": "uh deployment extensions V1 beta 1 API versions were removed in 1.16. and so if",
    "start": "2681520",
    "end": "2689380"
  },
  {
    "text": "you had a whole lot of old yaml laying around or you were deploying old Helm charts that had deprecated API versions",
    "start": "2689380",
    "end": "2695020"
  },
  {
    "text": "in them you were sort of uh scrambling potentially to update those and we needed a way across all of our customers",
    "start": "2695020",
    "end": "2701500"
  },
  {
    "text": "to tell them hey this is where you're using deprecated or removed ones particularly removed API versions but",
    "start": "2701500",
    "end": "2708220"
  },
  {
    "text": "deprecated as well and so we um we wrote this tool called Pluto and what we realized while we were",
    "start": "2708220",
    "end": "2716200"
  },
  {
    "text": "trying to write Pluto was that uh the kubernetes API server is a lot smarter than we are and it's",
    "start": "2716200",
    "end": "2722859"
  },
  {
    "text": "um automatically translates API versions from one to the next and so if I was",
    "start": "2722859",
    "end": "2729220"
  },
  {
    "text": "looking at a cluster that had a deprecated API version and I said Cube",
    "start": "2729220",
    "end": "2734560"
  },
  {
    "text": "CTL get deployment Dash o yaml it would give me back the apps V1 version",
    "start": "2734560",
    "end": "2739740"
  },
  {
    "text": "regardless of how I put it in the cluster because it said hey you gave me an extensions deployment but I know how",
    "start": "2739740",
    "end": "2746440"
  },
  {
    "text": "to translate that into an app speed one so I'm just going to do that which is great and it makes it so that we can",
    "start": "2746440",
    "end": "2751599"
  },
  {
    "text": "upgrade in place but then that breaks our ability to deploy to the cluster after we've done that upgrade and so we",
    "start": "2751599",
    "end": "2756760"
  },
  {
    "text": "wanted to prepare our customers beforehand rather than just blocking them from updating their clusters and so",
    "start": "2756760",
    "end": "2763119"
  },
  {
    "text": "there's a couple different strategies by which we do this first um you know we gave folks the ability to",
    "start": "2763119",
    "end": "2769240"
  },
  {
    "text": "just scan their yaml files that's kind of the most obvious thing is like I've got this list of yaml here I want to run",
    "start": "2769240",
    "end": "2775960"
  },
  {
    "text": "Pluto against it and say are any of these API versions removed or deprecated and then we thought okay well",
    "start": "2775960",
    "end": "2783400"
  },
  {
    "text": "you know we want to be able to do that with local files then we want to be able to template out Helm charts and feed",
    "start": "2783400",
    "end": "2788980"
  },
  {
    "text": "those into it and so Pluto has lots of different options so if we take a look",
    "start": "2788980",
    "end": "2794200"
  },
  {
    "text": "at Pluto another CLI tool like Nova we can run the help command and we'll see",
    "start": "2794200",
    "end": "2800200"
  },
  {
    "text": "that there's several detect commands here that detect different things so detect files you just pass it",
    "start": "2800200",
    "end": "2807520"
  },
  {
    "text": "a directory of files and it'll look through all of those that's relatively straightforward and then we have just",
    "start": "2807520",
    "end": "2812920"
  },
  {
    "text": "the straight up detect command and this one's pretty interesting so I'm going to",
    "start": "2812920",
    "end": "2819220"
  },
  {
    "text": "um I'm going to template out a Helm chart a very very old home chart this is",
    "start": "2819220",
    "end": "2824440"
  },
  {
    "text": "the cert manager 0.7 Helm chart this is probably what two and a half years old",
    "start": "2824440",
    "end": "2830980"
  },
  {
    "text": "at this point or something like that and if we take a look at this we template this out we're gonna scroll back up here",
    "start": "2830980",
    "end": "2838140"
  },
  {
    "text": "and see we've got um well we have a validating web hook",
    "start": "2838140",
    "end": "2844480"
  },
  {
    "text": "configuration that is the admission registration V1 beta 1 version that was removed in 1.22",
    "start": "2844480",
    "end": "2852700"
  },
  {
    "text": "um we've got the assert manager.kates.iov1 alpha one that's also been removed and deprecated uh so",
    "start": "2852700",
    "end": "2859960"
  },
  {
    "text": "there's a whole lot of versions in here that that we would not want to try to apply to a cluster today and obviously we wouldn't be applying this chart",
    "start": "2859960",
    "end": "2866200"
  },
  {
    "text": "because it's two and a half years old but it's a good um example here so then we're going to",
    "start": "2866200",
    "end": "2871900"
  },
  {
    "text": "pipe that into Pluto detect we're going to give it the old dash for standard in",
    "start": "2871900",
    "end": "2877079"
  },
  {
    "text": "shortcut that is so popular and we're gonna see it's going to by default",
    "start": "2877079",
    "end": "2884020"
  },
  {
    "text": "give us a table output um and we're going to see I'm going to zoom out just a little bit here so we",
    "start": "2884020",
    "end": "2889660"
  },
  {
    "text": "can see some some more of this output we're going to see a list of objects and",
    "start": "2889660",
    "end": "2894819"
  },
  {
    "text": "what kind they are and uh what version what API version they are what API",
    "start": "2894819",
    "end": "2900280"
  },
  {
    "text": "version replaces it and then we're gonna see has it been removed and has it been",
    "start": "2900280",
    "end": "2905440"
  },
  {
    "text": "deprecated all of these have both been deprecated and removed if you're not familiar with the way that kubernetes",
    "start": "2905440",
    "end": "2912579"
  },
  {
    "text": "apis are removed and deprecated and they are first marked as deprecated and then",
    "start": "2912579",
    "end": "2919119"
  },
  {
    "text": "in multiple versions of kubernetes later they will be removed and in the Pluto FAQ on our documentation site there's a",
    "start": "2919119",
    "end": "2926200"
  },
  {
    "text": "link to the policy that describes how this is done in in the kubernetes code base but there are specific rules about",
    "start": "2926200",
    "end": "2932079"
  },
  {
    "text": "how this happens the important thing to note is that once it's been removed you can't do anything with it you can't",
    "start": "2932079",
    "end": "2938500"
  },
  {
    "text": "query it you can't play a yaml that has it it basically seems like it doesn't exist anymore we have completely erased",
    "start": "2938500",
    "end": "2945160"
  },
  {
    "text": "it off the face of the Earth um so we don't want to be applying any removed API versions",
    "start": "2945160",
    "end": "2952420"
  },
  {
    "text": "Andy real quick I just want to figure uh it looks like maybe the last column",
    "start": "2952420",
    "end": "2957640"
  },
  {
    "text": "after replacement is like off screen there we go yes yeah it was actually",
    "start": "2957640",
    "end": "2963040"
  },
  {
    "text": "wrapping which is super annoying um but uh yeah we have the removed and",
    "start": "2963040",
    "end": "2968319"
  },
  {
    "text": "deprecated columns over here so I guess I could have used less or something like that but uh anyway",
    "start": "2968319",
    "end": "2975220"
  },
  {
    "text": "and that's how deprecations and such work so if the kubernetes API server can't tell us about these versions then",
    "start": "2975220",
    "end": "2982420"
  },
  {
    "text": "what can this is the question we asked ourselves well the first thing is Helm chart releases so when you apply a Helm",
    "start": "2982420",
    "end": "2989619"
  },
  {
    "text": "chart it creates a release object which inside of that really subject it has all of the yaml that was applied",
    "start": "2989619",
    "end": "2998079"
  },
  {
    "text": "um as part of that Helm chart in its raw form hasn't been translated through the API server yet so we can look for those",
    "start": "2998079",
    "end": "3004619"
  },
  {
    "text": "and ask for those so we have the Pluto detect Helm command which will give you",
    "start": "3004619",
    "end": "3011339"
  },
  {
    "text": "the opportunity to do that now I don't have any Helm charts As Stevie was pointing out in this cluster that are",
    "start": "3011339",
    "end": "3016440"
  },
  {
    "text": "deprecated but if I had applied any of them they would show up here with their name and namespace applied and then the",
    "start": "3016440",
    "end": "3022500"
  },
  {
    "text": "very last thing since we are actually running relatively short on time the very last thing that it does that has",
    "start": "3022500",
    "end": "3028859"
  },
  {
    "text": "been recently added thank you to a community contributor for that is the ability to detect if it's called the",
    "start": "3028859",
    "end": "3037500"
  },
  {
    "text": "Pluto detect API resources command and what that does is it looks for an",
    "start": "3037500",
    "end": "3044819"
  },
  {
    "text": "annotation that kubernetes adds to some resources depending on how you applied",
    "start": "3044819",
    "end": "3051000"
  },
  {
    "text": "them to the cluster um that is the last applied configuration annotation and what that",
    "start": "3051000",
    "end": "3058260"
  },
  {
    "text": "contains is essentially a string copy of the last applied yaml so if you keep CTL",
    "start": "3058260",
    "end": "3064800"
  },
  {
    "text": "apply your yamls then that um that annotation gets set and so we can look through that and see if there's",
    "start": "3064800",
    "end": "3072240"
  },
  {
    "text": "anything so actually I've found two things here using that functionality the",
    "start": "3072240",
    "end": "3077640"
  },
  {
    "text": "fun thing is that these are both provided by eks um and so they're not things that I",
    "start": "3077640",
    "end": "3083160"
  },
  {
    "text": "actually control in this cluster but Pluto has found the last supplied configuration annotation and said that",
    "start": "3083160",
    "end": "3090480"
  },
  {
    "text": "hey this this is something that should not exist so those are the different ways to use",
    "start": "3090480",
    "end": "3097440"
  },
  {
    "text": "Pluto to detect your deprecated API version since it's a CLI tool and we",
    "start": "3097440",
    "end": "3102720"
  },
  {
    "text": "control the exit codes based on whether we find resources that have been removed or deprecated you can use it in your CI",
    "start": "3102720",
    "end": "3109319"
  },
  {
    "text": "to block builds or fail builds if people are trying to deploy things that are not",
    "start": "3109319",
    "end": "3115619"
  },
  {
    "text": "um that are deprecated or removed depending on however you want to set that up so the that's the the last tool",
    "start": "3115619",
    "end": "3122339"
  },
  {
    "text": "you should use so we've talked about Polaris Goldilocks Nova and Pluto today I believe we also have content detailing",
    "start": "3122339",
    "end": "3129839"
  },
  {
    "text": "even more depth each one of those tools individually so take a look at our past webinars and you may find some more",
    "start": "3129839",
    "end": "3136680"
  },
  {
    "text": "content if you're curious about these but all together if you're running all four of these and fixing everything that",
    "start": "3136680",
    "end": "3141960"
  },
  {
    "text": "it finds and tells you you should be in a much better place in your kubernetes journey finding a lot more good",
    "start": "3141960",
    "end": "3147359"
  },
  {
    "text": "configurations and keeping things up to date and not deploying deprecated API versions and setting your resource",
    "start": "3147359",
    "end": "3153660"
  },
  {
    "text": "requests and limits properly so the last piece",
    "start": "3153660",
    "end": "3158700"
  },
  {
    "text": "because I can't leave without talking about it at least briefly is what if I don't want",
    "start": "3158700",
    "end": "3166140"
  },
  {
    "text": "to install all these tools and run them myself and write my own CI CD code and deploy these into my 100 clusters that",
    "start": "3166140",
    "end": "3173400"
  },
  {
    "text": "I'm running everywhere and I really just want to install a single little agent that's going to report all this",
    "start": "3173400",
    "end": "3180540"
  },
  {
    "text": "information back to a single dashboard can I do that",
    "start": "3180540",
    "end": "3185240"
  },
  {
    "text": "can I yes yes",
    "start": "3186359",
    "end": "3193520"
  },
  {
    "text": "all right yes you can okay so this is where we get to Fairwinds Insight so",
    "start": "3193520",
    "end": "3199200"
  },
  {
    "text": "Fairwinds insights is our commercial SAS platform it allows you to hook up all of these tools that we've talked about",
    "start": "3199200",
    "end": "3204839"
  },
  {
    "text": "today along with multiple other tools and then adds a much more additional functionality on top of them so we",
    "start": "3204839",
    "end": "3210900"
  },
  {
    "text": "normalize all of the results from all of these tools into what we call Action items and uh they're reported into this",
    "start": "3210900",
    "end": "3218460"
  },
  {
    "text": "dashboard from here you can route these to different places you can write",
    "start": "3218460",
    "end": "3224040"
  },
  {
    "text": "automation rules to send them to slack to generate jira tickets to generate GitHub issues",
    "start": "3224040",
    "end": "3231359"
  },
  {
    "text": "um and then we add in the ability to take a look at the cost and efficiency of your clusters as well so we've got",
    "start": "3231359",
    "end": "3238500"
  },
  {
    "text": "this entire section on cost that lets you see what your workloads are costing you how much your clusters are costing",
    "start": "3238500",
    "end": "3244859"
  },
  {
    "text": "you across multiple different clusters so if you like all these tools and you want to operationalize them at scale",
    "start": "3244859",
    "end": "3251220"
  },
  {
    "text": "across a lot of clusters give us a shout out give us a shout and we can talk to",
    "start": "3251220",
    "end": "3256800"
  },
  {
    "text": "you about Fairwinds insights and I don't see any additional questions",
    "start": "3256800",
    "end": "3263460"
  },
  {
    "text": "so I want to thank you Stevie for presenting with me today always a good",
    "start": "3263460",
    "end": "3269520"
  },
  {
    "text": "time thank you to everyone who joined today and gave us your time I hope you",
    "start": "3269520",
    "end": "3275099"
  },
  {
    "text": "all have a great rest of your week thanks",
    "start": "3275099",
    "end": "3279680"
  }
]