[
  {
    "start": "0",
    "end": "261000"
  },
  {
    "text": "um hello everyone uh good morning or",
    "start": "599",
    "end": "3600"
  },
  {
    "text": "almost afternoon uh thank you for being",
    "start": "3600",
    "end": "6440"
  },
  {
    "text": "present here at Thanos conon today uh",
    "start": "6440",
    "end": "8800"
  },
  {
    "text": "hope you've built some appetite for",
    "start": "8800",
    "end": "10519"
  },
  {
    "text": "Thanos in addition to lunch uh now that",
    "start": "10519",
    "end": "13960"
  },
  {
    "text": "we have some understanding of how as to",
    "start": "13960",
    "end": "16240"
  },
  {
    "text": "how tanos stands as a solution for skill",
    "start": "16240",
    "end": "18320"
  },
  {
    "text": "metrics and longer retention it is also",
    "start": "18320",
    "end": "21279"
  },
  {
    "text": "important to understand how to manage",
    "start": "21279",
    "end": "23640"
  },
  {
    "text": "this data in an efficient manner as it",
    "start": "23640",
    "end": "25439"
  },
  {
    "text": "grows so one way of doing this is",
    "start": "25439",
    "end": "28039"
  },
  {
    "text": "through multi-tenancy which is the topic",
    "start": "28039",
    "end": "30320"
  },
  {
    "text": "for our presentation today and uh maybe",
    "start": "30320",
    "end": "32680"
  },
  {
    "text": "a better way of calling it as Multiverse",
    "start": "32680",
    "end": "34920"
  },
  {
    "text": "of",
    "start": "34920",
    "end": "35879"
  },
  {
    "text": "Thanos so a bit of introduction to begin",
    "start": "35879",
    "end": "39200"
  },
  {
    "text": "with my name is Colleen and here's my uh",
    "start": "39200",
    "end": "41879"
  },
  {
    "text": "colleague Jacob uh Jac Jacob and I have",
    "start": "41879",
    "end": "44800"
  },
  {
    "text": "been working as software engineers at uh",
    "start": "44800",
    "end": "47399"
  },
  {
    "text": "red hat and we primarily work in the",
    "start": "47399",
    "end": "49600"
  },
  {
    "text": "observability realm and it's been about",
    "start": "49600",
    "end": "51760"
  },
  {
    "text": "a year and we contribute to monitoring",
    "start": "51760",
    "end": "53840"
  },
  {
    "text": "projects such as Thanos and Prometheus",
    "start": "53840",
    "end": "56120"
  },
  {
    "text": "and also this is our first time",
    "start": "56120",
    "end": "57600"
  },
  {
    "text": "attending cubec con okay okay uh to",
    "start": "57600",
    "end": "60680"
  },
  {
    "text": "begin with let's understand uh let's uh",
    "start": "60680",
    "end": "64320"
  },
  {
    "text": "understand this through definition what",
    "start": "64320",
    "end": "66439"
  },
  {
    "text": "multi-tenancy is this is basically a",
    "start": "66439",
    "end": "68880"
  },
  {
    "text": "concept in software architecture whereby",
    "start": "68880",
    "end": "71640"
  },
  {
    "text": "a single software instance can serve",
    "start": "71640",
    "end": "73799"
  },
  {
    "text": "multiple distinct user groups these user",
    "start": "73799",
    "end": "76400"
  },
  {
    "text": "groups can be as fine grain as a single",
    "start": "76400",
    "end": "79000"
  },
  {
    "text": "user or a group of users that come",
    "start": "79000",
    "end": "81119"
  },
  {
    "text": "together to form in the form of teams",
    "start": "81119",
    "end": "83159"
  },
  {
    "text": "Services clusters or",
    "start": "83159",
    "end": "85600"
  },
  {
    "text": "organizations so uh we can broadly",
    "start": "85600",
    "end": "88119"
  },
  {
    "text": "classify them as two types",
    "start": "88119",
    "end": "90680"
  },
  {
    "text": "uh uh the idea being of one is soft",
    "start": "90680",
    "end": "93680"
  },
  {
    "text": "tency which is also known as logical",
    "start": "93680",
    "end": "95920"
  },
  {
    "text": "tency uh taking the analy of an",
    "start": "95920",
    "end": "98840"
  },
  {
    "text": "apartment complex where each uh each of",
    "start": "98840",
    "end": "101640"
  },
  {
    "text": "the flats share common resources such as",
    "start": "101640",
    "end": "103759"
  },
  {
    "text": "water electricity wherein uh in Technic",
    "start": "103759",
    "end": "107119"
  },
  {
    "text": "technical terms that would mean",
    "start": "107119",
    "end": "108719"
  },
  {
    "text": "segregating your data and resources at",
    "start": "108719",
    "end": "110520"
  },
  {
    "text": "the application or database level uh",
    "start": "110520",
    "end": "113360"
  },
  {
    "text": "when they share the same resources or",
    "start": "113360",
    "end": "115479"
  },
  {
    "text": "physical Hardware uh the other form is",
    "start": "115479",
    "end": "118159"
  },
  {
    "text": "hard tendency also known as physical",
    "start": "118159",
    "end": "119960"
  },
  {
    "text": "tency where again you have a bunch of",
    "start": "119960",
    "end": "123039"
  },
  {
    "text": "houses that have their own utilities",
    "start": "123039",
    "end": "125159"
  },
  {
    "text": "separate utilities so that so basically",
    "start": "125159",
    "end": "127520"
  },
  {
    "text": "there's isolation at the physical level",
    "start": "127520",
    "end": "130119"
  },
  {
    "text": "means each tenants data is stored at a",
    "start": "130119",
    "end": "132080"
  },
  {
    "text": "separate physical or virtual",
    "start": "132080",
    "end": "134120"
  },
  {
    "text": "servers so now that we know what multi-",
    "start": "134120",
    "end": "137840"
  },
  {
    "text": "tency is uh we need to understand why do",
    "start": "137840",
    "end": "141000"
  },
  {
    "text": "we need tency so a disclaimer any",
    "start": "141000",
    "end": "144720"
  },
  {
    "text": "resemblance to real life is purely",
    "start": "144720",
    "end": "146760"
  },
  {
    "text": "coincidental and hope we do not uh",
    "start": "146760",
    "end": "149280"
  },
  {
    "text": "offend any D DC or Marvel fans otherwise",
    "start": "149280",
    "end": "151920"
  },
  {
    "text": "you can Su chat GPT for that okay uh so",
    "start": "151920",
    "end": "155360"
  },
  {
    "text": "we have international superhero Alliance",
    "start": "155360",
    "end": "157800"
  },
  {
    "text": "which is operating across the globe",
    "start": "157800",
    "end": "159920"
  },
  {
    "text": "managing different facets of superhero",
    "start": "159920",
    "end": "162480"
  },
  {
    "text": "activities such as Mission deployment",
    "start": "162480",
    "end": "164640"
  },
  {
    "text": "threat assessment Superior training and",
    "start": "164640",
    "end": "167200"
  },
  {
    "text": "emergency response now each team within",
    "start": "167200",
    "end": "169640"
  },
  {
    "text": "that Alliance as as normal engineers",
    "start": "169640",
    "end": "172760"
  },
  {
    "text": "make use of micros services and to",
    "start": "172760",
    "end": "175280"
  },
  {
    "text": "maintain their specific domains and they",
    "start": "175280",
    "end": "177200"
  },
  {
    "text": "heavily rely on observability to ensure",
    "start": "177200",
    "end": "179680"
  },
  {
    "text": "that that their operations run smoothly",
    "start": "179680",
    "end": "181800"
  },
  {
    "text": "and to quickly diagnose any uh and",
    "start": "181800",
    "end": "184200"
  },
  {
    "text": "address any",
    "start": "184200",
    "end": "185560"
  },
  {
    "text": "issues so here we have Dave he's a site",
    "start": "185560",
    "end": "189200"
  },
  {
    "text": "reliability engineer and a Multiverse",
    "start": "189200",
    "end": "190959"
  },
  {
    "text": "Guardian he Prides himself in keeping",
    "start": "190959",
    "end": "193319"
  },
  {
    "text": "the digital cogs running smoothly it's a",
    "start": "193319",
    "end": "195920"
  },
  {
    "text": "start of the month he's ready to tackle",
    "start": "195920",
    "end": "197640"
  },
  {
    "text": "whatever challenges come across his way",
    "start": "197640",
    "end": "200200"
  },
  {
    "text": "and uh",
    "start": "200200",
    "end": "202000"
  },
  {
    "text": "yeah so one morning his routine is",
    "start": "202000",
    "end": "204599"
  },
  {
    "text": "interrupted by the uh the cloud",
    "start": "204599",
    "end": "207319"
  },
  {
    "text": "infrastructure bills so even super",
    "start": "207319",
    "end": "209799"
  },
  {
    "text": "heroes are humbled by uh bills at the",
    "start": "209799",
    "end": "211760"
  },
  {
    "text": "end of the day and then he's wondering",
    "start": "211760",
    "end": "214439"
  },
  {
    "text": "uh these uh where these costs come from",
    "start": "214439",
    "end": "217000"
  },
  {
    "text": "is there a secret mission running or",
    "start": "217000",
    "end": "218560"
  },
  {
    "text": "some alien invasion then he quickly",
    "start": "218560",
    "end": "221080"
  },
  {
    "text": "starts digging into the cost Explorer",
    "start": "221080",
    "end": "222879"
  },
  {
    "text": "but the numbers don't make sense to him",
    "start": "222879",
    "end": "224879"
  },
  {
    "text": "and they look as cryptic as",
    "start": "224879",
    "end": "227159"
  },
  {
    "text": "ever so he so this superhero Alliance",
    "start": "227159",
    "end": "230360"
  },
  {
    "text": "basically sprawls across uh numerous",
    "start": "230360",
    "end": "233079"
  },
  {
    "text": "services and micro U uh services and U",
    "start": "233079",
    "end": "237200"
  },
  {
    "text": "each innovating at a break neck P he he",
    "start": "237200",
    "end": "239879"
  },
  {
    "text": "realizes that without tency implemented",
    "start": "239879",
    "end": "242480"
  },
  {
    "text": "in the observability he wouldn't be able",
    "start": "242480",
    "end": "244920"
  },
  {
    "text": "to attribute cost or hold teams",
    "start": "244920",
    "end": "247200"
  },
  {
    "text": "accountable for the resource usage that",
    "start": "247200",
    "end": "249319"
  },
  {
    "text": "they are uh making and this it's it's",
    "start": "249319",
    "end": "252760"
  },
  {
    "text": "like trying to solve a jigaw puzzle",
    "start": "252760",
    "end": "254439"
  },
  {
    "text": "without a picture in the box so they're",
    "start": "254439",
    "end": "257400"
  },
  {
    "text": "basically Flying Blind with the",
    "start": "257400",
    "end": "258840"
  },
  {
    "text": "company's credit",
    "start": "258840",
    "end": "261440"
  },
  {
    "start": "261000",
    "end": "433000"
  },
  {
    "text": "card right okay um so now hopefully we",
    "start": "261440",
    "end": "264479"
  },
  {
    "text": "convince you that you need tency right",
    "start": "264479",
    "end": "266360"
  },
  {
    "text": "so let's have a look at some of the",
    "start": "266360",
    "end": "267960"
  },
  {
    "text": "challenges you might face uh or some of",
    "start": "267960",
    "end": "270759"
  },
  {
    "text": "the requirements you have in a",
    "start": "270759",
    "end": "271960"
  },
  {
    "text": "multi-tenant setup so um obviously the",
    "start": "271960",
    "end": "274880"
  },
  {
    "text": "first thing that you want to do is to",
    "start": "274880",
    "end": "277120"
  },
  {
    "text": "have data isolation right um because",
    "start": "277120",
    "end": "280080"
  },
  {
    "text": "like if you're operating across the",
    "start": "280080",
    "end": "281280"
  },
  {
    "text": "Multiverse I mean obviously you don't",
    "start": "281280",
    "end": "282680"
  },
  {
    "text": "want to end up in a confusing situation",
    "start": "282680",
    "end": "284479"
  },
  {
    "text": "like these guys right so you need to",
    "start": "284479",
    "end": "286160"
  },
  {
    "text": "make sure that you know the data from",
    "start": "286160",
    "end": "289120"
  },
  {
    "text": "different tenants are kept in isolation",
    "start": "289120",
    "end": "291360"
  },
  {
    "text": "and separate from each other right and",
    "start": "291360",
    "end": "293800"
  },
  {
    "text": "and in fos we can use labels to do that",
    "start": "293800",
    "end": "295800"
  },
  {
    "text": "we'll we'll see how how it works in a",
    "start": "295800",
    "end": "298320"
  },
  {
    "text": "bit um",
    "start": "298320",
    "end": "300160"
  },
  {
    "text": "the other thing you kind of want to",
    "start": "300160",
    "end": "301680"
  },
  {
    "text": "think about is resource isolation right",
    "start": "301680",
    "end": "303560"
  },
  {
    "text": "so now you have a bunch of different",
    "start": "303560",
    "end": "305720"
  },
  {
    "text": "teams or tenants that are sort of",
    "start": "305720",
    "end": "308600"
  },
  {
    "text": "fighting for resources right and you",
    "start": "308600",
    "end": "311360"
  },
  {
    "text": "want to make sure that you don't have",
    "start": "311360",
    "end": "312960"
  },
  {
    "text": "like a bad tenant for example that",
    "start": "312960",
    "end": "315280"
  },
  {
    "text": "start like using a lot of resources and",
    "start": "315280",
    "end": "318840"
  },
  {
    "text": "then interrupting the service for all of",
    "start": "318840",
    "end": "321280"
  },
  {
    "text": "the other guys that are behaving well",
    "start": "321280",
    "end": "323400"
  },
  {
    "text": "right so a resource isolation is is",
    "start": "323400",
    "end": "326560"
  },
  {
    "text": "quite a good thing to have in a in a",
    "start": "326560",
    "end": "328039"
  },
  {
    "text": "multi-end setup and we have",
    "start": "328039",
    "end": "330639"
  },
  {
    "text": "uh some ways of of doing of um",
    "start": "330639",
    "end": "333280"
  },
  {
    "text": "implementing this in Fels as well which",
    "start": "333280",
    "end": "334960"
  },
  {
    "text": "we'll look into um slightly later uh and",
    "start": "334960",
    "end": "338919"
  },
  {
    "text": "then there's a you know a cost aspect as",
    "start": "338919",
    "end": "341319"
  },
  {
    "text": "well um it's um quite good to know if",
    "start": "341319",
    "end": "344880"
  },
  {
    "text": "you have multiple tenons that which one",
    "start": "344880",
    "end": "346919"
  },
  {
    "text": "are actually using up the more most",
    "start": "346919",
    "end": "349280"
  },
  {
    "text": "resources and are costing you a lot of",
    "start": "349280",
    "end": "351560"
  },
  {
    "text": "money right because we don't want to um",
    "start": "351560",
    "end": "355080"
  },
  {
    "text": "have the the infrastructure build just",
    "start": "355080",
    "end": "357520"
  },
  {
    "text": "run wild so you want to make sure to",
    "start": "357520",
    "end": "359199"
  },
  {
    "text": "attribute cost to different teams and",
    "start": "359199",
    "end": "360720"
  },
  {
    "text": "maybe you're even",
    "start": "360720",
    "end": "361919"
  },
  {
    "text": "building different teams or",
    "start": "361919",
    "end": "363600"
  },
  {
    "text": "organizations or even outside your",
    "start": "363600",
    "end": "365080"
  },
  {
    "text": "organization and you want to just have",
    "start": "365080",
    "end": "366840"
  },
  {
    "text": "an understanding of which which of the",
    "start": "366840",
    "end": "368720"
  },
  {
    "text": "tenants are are costing the most uh on",
    "start": "368720",
    "end": "372199"
  },
  {
    "text": "the infrastructure",
    "start": "372199",
    "end": "374319"
  },
  {
    "text": "side and so scale is something you know",
    "start": "374319",
    "end": "377919"
  },
  {
    "text": "we've had a couple of talks now on scale",
    "start": "377919",
    "end": "380000"
  },
  {
    "text": "and when you have a multitenant setup",
    "start": "380000",
    "end": "381520"
  },
  {
    "text": "you just want to make sure it's scalable",
    "start": "381520",
    "end": "383199"
  },
  {
    "text": "right um and yeah fenos hopefully should",
    "start": "383199",
    "end": "386560"
  },
  {
    "text": "work well for that so I won't really",
    "start": "386560",
    "end": "388400"
  },
  {
    "text": "dwell into too much detail details on",
    "start": "388400",
    "end": "390160"
  },
  {
    "text": "that one um and then there are some sort",
    "start": "390160",
    "end": "394199"
  },
  {
    "text": "of things you can think about on",
    "start": "394199",
    "end": "396000"
  },
  {
    "text": "security and compliance right um we",
    "start": "396000",
    "end": "399240"
  },
  {
    "text": "talked about like hard tendency and soft",
    "start": "399240",
    "end": "401280"
  },
  {
    "text": "tendency um and the difference between",
    "start": "401280",
    "end": "403440"
  },
  {
    "text": "them and I think uh if you have really",
    "start": "403440",
    "end": "406759"
  },
  {
    "text": "strict security or compliance",
    "start": "406759",
    "end": "408800"
  },
  {
    "text": "requirements you have quite sensitive",
    "start": "408800",
    "end": "410560"
  },
  {
    "text": "data in your in your database maybe you",
    "start": "410560",
    "end": "412960"
  },
  {
    "text": "want to think about doing more of a hard",
    "start": "412960",
    "end": "414840"
  },
  {
    "text": "tendency and hard doing harder",
    "start": "414840",
    "end": "417360"
  },
  {
    "text": "isolation um than having a a soft tennis",
    "start": "417360",
    "end": "420360"
  },
  {
    "text": "setup where things are closer together",
    "start": "420360",
    "end": "422160"
  },
  {
    "text": "right so it's a good thing just to to",
    "start": "422160",
    "end": "424400"
  },
  {
    "text": "keep in mind when setting up your system",
    "start": "424400",
    "end": "426919"
  },
  {
    "text": "and choosing kind of your tency model",
    "start": "426919",
    "end": "430800"
  },
  {
    "text": "and yeah I think that's it okay uh so",
    "start": "430800",
    "end": "433960"
  },
  {
    "start": "433000",
    "end": "616000"
  },
  {
    "text": "now let's look at how uh multi- teny is",
    "start": "433960",
    "end": "437080"
  },
  {
    "text": "adopted in Thanos uh here we have a",
    "start": "437080",
    "end": "439879"
  },
  {
    "text": "simple setup of Thanos and uh with this",
    "start": "439879",
    "end": "443120"
  },
  {
    "text": "various components uh there are two ways",
    "start": "443120",
    "end": "445639"
  },
  {
    "text": "of ingestion into a Thanos one is",
    "start": "445639",
    "end": "447440"
  },
  {
    "text": "through side car and receive for for t",
    "start": "447440",
    "end": "449919"
  },
  {
    "text": "for the purpose of tency we specifically",
    "start": "449919",
    "end": "451759"
  },
  {
    "text": "choose the receive component as of now",
    "start": "451759",
    "end": "455199"
  },
  {
    "text": "and U uh the receive component uh uh in",
    "start": "455199",
    "end": "459360"
  },
  {
    "text": "the injection path has had the tency",
    "start": "459360",
    "end": "461560"
  },
  {
    "text": "capability for a while and as of a",
    "start": "461560",
    "end": "463560"
  },
  {
    "text": "recent release now we have tency",
    "start": "463560",
    "end": "465159"
  },
  {
    "text": "awareness in the query",
    "start": "465159",
    "end": "468000"
  },
  {
    "text": "component so in so let's look at the",
    "start": "468000",
    "end": "470800"
  },
  {
    "text": "inje path so basically we don't need a",
    "start": "470800",
    "end": "473039"
  },
  {
    "text": "general setup uh receive will handle",
    "start": "473039",
    "end": "475000"
  },
  {
    "text": "tenants as they come in uh all you have",
    "start": "475000",
    "end": "477240"
  },
  {
    "text": "to do is in the remote right client",
    "start": "477240",
    "end": "479039"
  },
  {
    "text": "request you need to set up the HTTP",
    "start": "479039",
    "end": "480720"
  },
  {
    "text": "header with your tenant label and then",
    "start": "480720",
    "end": "483440"
  },
  {
    "text": "the receive adds a label to the ingested",
    "start": "483440",
    "end": "485400"
  },
  {
    "text": "metric and uh which corresponds to the",
    "start": "485400",
    "end": "487280"
  },
  {
    "text": "HTTP header and when a new value is",
    "start": "487280",
    "end": "489520"
  },
  {
    "text": "detected in the uh tenant HTTP header",
    "start": "489520",
    "end": "492560"
  },
  {
    "text": "receivers will provision and start and",
    "start": "492560",
    "end": "494680"
  },
  {
    "text": "manage an independent tsdb for that",
    "start": "494680",
    "end": "496520"
  },
  {
    "text": "tenant and then the tsdb blocks are sent",
    "start": "496520",
    "end": "499199"
  },
  {
    "text": "to S3 uh with the unique tenant ID and",
    "start": "499199",
    "end": "502000"
  },
  {
    "text": "then can be used to compact blocks",
    "start": "502000",
    "end": "504000"
  },
  {
    "text": "independently independently for each",
    "start": "504000",
    "end": "506800"
  },
  {
    "text": "tenant um now that we're able to ingest",
    "start": "506800",
    "end": "509840"
  },
  {
    "text": "metrics to receive we also want to limit",
    "start": "509840",
    "end": "512279"
  },
  {
    "text": "or control the amount of metrics that as",
    "start": "512279",
    "end": "514279"
  },
  {
    "text": "the services grow and we emit more",
    "start": "514279",
    "end": "516120"
  },
  {
    "text": "metrics so this helps to ensure that no",
    "start": "516120",
    "end": "519039"
  },
  {
    "text": "single tenant overloads the system or",
    "start": "519039",
    "end": "521080"
  },
  {
    "text": "causes outages or disturbances for the",
    "start": "521080",
    "end": "522959"
  },
  {
    "text": "other tenants uh the limits can be set",
    "start": "522959",
    "end": "525920"
  },
  {
    "text": "up on a global level at the component at",
    "start": "525920",
    "end": "527839"
  },
  {
    "text": "the receive component at a default uh uh",
    "start": "527839",
    "end": "531240"
  },
  {
    "text": "limit for all the tenants and also per",
    "start": "531240",
    "end": "533399"
  },
  {
    "text": "tenant limits uh looking at per tenant",
    "start": "533399",
    "end": "536959"
  },
  {
    "text": "limits uh uh the the limits are are set",
    "start": "536959",
    "end": "539760"
  },
  {
    "text": "at the request level so we have",
    "start": "539760",
    "end": "541880"
  },
  {
    "text": "something like size bite limits",
    "start": "541880",
    "end": "543640"
  },
  {
    "text": "basically the maximum uh size of the",
    "start": "543640",
    "end": "546279"
  },
  {
    "text": "incoming remote right request zero mean",
    "start": "546279",
    "end": "549079"
  },
  {
    "text": "zero meaning no limit uh then we have",
    "start": "549079",
    "end": "551519"
  },
  {
    "text": "the series limit which is the maximum",
    "start": "551519",
    "end": "553360"
  },
  {
    "text": "amount of Series in a remote uh single",
    "start": "553360",
    "end": "555760"
  },
  {
    "text": "remote ride request that can be sent for",
    "start": "555760",
    "end": "557480"
  },
  {
    "text": "that tenant and then there's a samples",
    "start": "557480",
    "end": "559600"
  },
  {
    "text": "limit which is the number of samples in",
    "start": "559600",
    "end": "561680"
  },
  {
    "text": "the remote ride request which is a sum",
    "start": "561680",
    "end": "563320"
  },
  {
    "text": "of all the sum from all the series that",
    "start": "563320",
    "end": "566279"
  },
  {
    "text": "uh are a part of that request um the",
    "start": "566279",
    "end": "569680"
  },
  {
    "text": "this is uh there's also a limit that you",
    "start": "569680",
    "end": "572079"
  },
  {
    "text": "can set based on the number of active",
    "start": "572079",
    "end": "574399"
  },
  {
    "text": "series across all the replicas and uh",
    "start": "574399",
    "end": "577480"
  },
  {
    "text": "yeah this is on on the tenant level so",
    "start": "577480",
    "end": "580959"
  },
  {
    "text": "uh there is also uh through the receive",
    "start": "580959",
    "end": "583920"
  },
  {
    "text": "hash ring you can also route your route",
    "start": "583920",
    "end": "587200"
  },
  {
    "text": "uh the metrics coming from a specific",
    "start": "587200",
    "end": "588959"
  },
  {
    "text": "tenant to a specific set of receivers so",
    "start": "588959",
    "end": "592079"
  },
  {
    "text": "uh this helps uh to ensure that say you",
    "start": "592079",
    "end": "595120"
  },
  {
    "text": "have a CR critical tenant and you want",
    "start": "595120",
    "end": "597160"
  },
  {
    "text": "to ensure that you don't lose metrics on",
    "start": "597160",
    "end": "598680"
  },
  {
    "text": "those tenants you can route it to a",
    "start": "598680",
    "end": "600800"
  },
  {
    "text": "specific set of receivers and um there",
    "start": "600800",
    "end": "603880"
  },
  {
    "text": "recently there's uh also a capability",
    "start": "603880",
    "end": "606399"
  },
  {
    "text": "that was added to uh match regex",
    "start": "606399",
    "end": "609320"
  },
  {
    "text": "patterns for the tenants in the part of",
    "start": "609320",
    "end": "611560"
  },
  {
    "text": "that list and uh which is an interesting",
    "start": "611560",
    "end": "614000"
  },
  {
    "text": "PA to take a look",
    "start": "614000",
    "end": "616519"
  },
  {
    "start": "616000",
    "end": "934000"
  },
  {
    "text": "at right okay so let's look at",
    "start": "616519",
    "end": "620680"
  },
  {
    "text": "um enforcement on the career path or",
    "start": "620680",
    "end": "623079"
  },
  {
    "text": "teny on the career path so this is a",
    "start": "623079",
    "end": "625079"
  },
  {
    "text": "pretty new thing it's only sort of the",
    "start": "625079",
    "end": "627279"
  },
  {
    "text": "last big piece I think in the last",
    "start": "627279",
    "end": "629079"
  },
  {
    "text": "relase",
    "start": "629079",
    "end": "630560"
  },
  {
    "text": "um and so there's a new flag to The",
    "start": "630560",
    "end": "632399"
  },
  {
    "text": "Courier to enable tendency enforcement",
    "start": "632399",
    "end": "634839"
  },
  {
    "text": "and it's off by default right so",
    "start": "634839",
    "end": "636839"
  },
  {
    "text": "everything will work as",
    "start": "636839",
    "end": "638399"
  },
  {
    "text": "normal um and it works like pretty",
    "start": "638399",
    "end": "641200"
  },
  {
    "text": "similar to to the receipt side right so",
    "start": "641200",
    "end": "643480"
  },
  {
    "text": "you uh you send a HTTP header to",
    "start": "643480",
    "end": "647000"
  },
  {
    "text": "identify the tenant and then what the",
    "start": "647000",
    "end": "649600"
  },
  {
    "text": "query actually does is that it enforces",
    "start": "649600",
    "end": "651760"
  },
  {
    "text": "a lab right and as we've heard that's a",
    "start": "651760",
    "end": "654800"
  },
  {
    "text": "bit of a topic today um we're using prom",
    "start": "654800",
    "end": "657639"
  },
  {
    "text": "label proxy in the back end we are are",
    "start": "657639",
    "end": "659519"
  },
  {
    "text": "importing it as a library so uh we",
    "start": "659519",
    "end": "662000"
  },
  {
    "text": "didn't add too too much specific code to",
    "start": "662000",
    "end": "663880"
  },
  {
    "text": "Fel which is",
    "start": "663880",
    "end": "665560"
  },
  {
    "text": "nice and yeah so that's basically how it",
    "start": "665560",
    "end": "669200"
  },
  {
    "text": "works pretty simple there's a quick",
    "start": "669200",
    "end": "671440"
  },
  {
    "text": "example here where we have a bunch of",
    "start": "671440",
    "end": "673040"
  },
  {
    "text": "metrics and with no tency enforced you",
    "start": "673040",
    "end": "675160"
  },
  {
    "text": "can see there's a bunch of um results",
    "start": "675160",
    "end": "677839"
  },
  {
    "text": "coming in from all of the different",
    "start": "677839",
    "end": "679200"
  },
  {
    "text": "tenants and then if we enable the tency",
    "start": "679200",
    "end": "682680"
  },
  {
    "text": "you will only see the one from your one",
    "start": "682680",
    "end": "685079"
  },
  {
    "text": "specific tenant there's a box in the UI",
    "start": "685079",
    "end": "687959"
  },
  {
    "text": "that will show up it didn't made make",
    "start": "687959",
    "end": "690079"
  },
  {
    "text": "last fre so it will come soon that will",
    "start": "690079",
    "end": "692120"
  },
  {
    "text": "allow you to like enter the tenant name",
    "start": "692120",
    "end": "694519"
  },
  {
    "text": "so you can kind of play around around",
    "start": "694519",
    "end": "696320"
  },
  {
    "text": "with the N",
    "start": "696320",
    "end": "698079"
  },
  {
    "text": "UI and yeah so that's uh like the",
    "start": "698079",
    "end": "700760"
  },
  {
    "text": "enforcement part now one of the cool",
    "start": "700760",
    "end": "703680"
  },
  {
    "text": "things now that we have tency awareness",
    "start": "703680",
    "end": "705920"
  },
  {
    "text": "and probably one of the main reasons",
    "start": "705920",
    "end": "707320"
  },
  {
    "text": "that we wanted it in there actually is",
    "start": "707320",
    "end": "710040"
  },
  {
    "text": "to get a better understanding of how the",
    "start": "710040",
    "end": "713360"
  },
  {
    "text": "tenants different tenants behave in in",
    "start": "713360",
    "end": "715720"
  },
  {
    "text": "on the query path right so this is",
    "start": "715720",
    "end": "717680"
  },
  {
    "text": "something we couldn't do before before",
    "start": "717680",
    "end": "718959"
  },
  {
    "text": "we have had a proxy in front to actually",
    "start": "718959",
    "end": "720519"
  },
  {
    "text": "enable to do the tency enforcement H but",
    "start": "720519",
    "end": "724000"
  },
  {
    "text": "now that we have it natively in in FAS",
    "start": "724000",
    "end": "726600"
  },
  {
    "text": "we can start getting some metrics so",
    "start": "726600",
    "end": "728240"
  },
  {
    "text": "there's one example here which is quite",
    "start": "728240",
    "end": "730639"
  },
  {
    "text": "interesting um it's actually meant for",
    "start": "730639",
    "end": "732920"
  },
  {
    "text": "like measuring CER latency in respect to",
    "start": "732920",
    "end": "735040"
  },
  {
    "text": "the result size of the of the of the",
    "start": "735040",
    "end": "738440"
  },
  {
    "text": "queres but we can also use it uh like",
    "start": "738440",
    "end": "741399"
  },
  {
    "text": "this so there's a bunch of different",
    "start": "741399",
    "end": "742560"
  },
  {
    "text": "buckets you can see on the left hand",
    "start": "742560",
    "end": "744760"
  },
  {
    "text": "side um and then on the right side is",
    "start": "744760",
    "end": "746760"
  },
  {
    "text": "basically how many times this tenant had",
    "start": "746760",
    "end": "748519"
  },
  {
    "text": "make a query that is of where the result",
    "start": "748519",
    "end": "750920"
  },
  {
    "text": "is of that size right so this first",
    "start": "750920",
    "end": "754320"
  },
  {
    "text": "tenant is making quite a lot of small",
    "start": "754320",
    "end": "757160"
  },
  {
    "text": "queries so you can see all of the",
    "start": "757160",
    "end": "759680"
  },
  {
    "text": "basically all of the the queries that",
    "start": "759680",
    "end": "761920"
  },
  {
    "text": "it's making is less than 100 samples and",
    "start": "761920",
    "end": "764800"
  },
  {
    "text": "100 series return so quite a small set",
    "start": "764800",
    "end": "767320"
  },
  {
    "text": "of",
    "start": "767320",
    "end": "768079"
  },
  {
    "text": "samples and if you look at a different",
    "start": "768079",
    "end": "770600"
  },
  {
    "text": "tenant this one has a more VAR set of",
    "start": "770600",
    "end": "774000"
  },
  {
    "text": "ques coming",
    "start": "774000",
    "end": "775279"
  },
  {
    "text": "in um and some really really large ones",
    "start": "775279",
    "end": "778399"
  },
  {
    "text": "so the top ones you can see are actually",
    "start": "778399",
    "end": "780959"
  },
  {
    "text": "hitting this infinite bucket which",
    "start": "780959",
    "end": "782680"
  },
  {
    "text": "probably means you should change your",
    "start": "782680",
    "end": "783880"
  },
  {
    "text": "bucket sizes right and to get a better",
    "start": "783880",
    "end": "787320"
  },
  {
    "text": "understanding of of the sizes of those",
    "start": "787320",
    "end": "789839"
  },
  {
    "text": "but even if these two tenants are like",
    "start": "789839",
    "end": "793480"
  },
  {
    "text": "do making the same amount of cures we",
    "start": "793480",
    "end": "795480"
  },
  {
    "text": "can probably say that this tenant here",
    "start": "795480",
    "end": "797240"
  },
  {
    "text": "is causing a lot more load on the system",
    "start": "797240",
    "end": "799560"
  },
  {
    "text": "and this is super interesting to start",
    "start": "799560",
    "end": "801160"
  },
  {
    "text": "to dig down into this kind of uh kind of",
    "start": "801160",
    "end": "804560"
  },
  {
    "text": "data um there's a bunch of other uh",
    "start": "804560",
    "end": "808560"
  },
  {
    "text": "metrics",
    "start": "808560",
    "end": "809720"
  },
  {
    "text": "we can look into uh there are some on",
    "start": "809720",
    "end": "812240"
  },
  {
    "text": "the store level as well because we're",
    "start": "812240",
    "end": "813720"
  },
  {
    "text": "propagating the tenant also all the way",
    "start": "813720",
    "end": "815959"
  },
  {
    "text": "to the store so you can start looking at",
    "start": "815959",
    "end": "818079"
  },
  {
    "text": "like which tenants are having a higher",
    "start": "818079",
    "end": "820519"
  },
  {
    "text": "utilization of the cash or something",
    "start": "820519",
    "end": "822240"
  },
  {
    "text": "like that",
    "start": "822240",
    "end": "824240"
  },
  {
    "text": "um cool um and also it's a good thing to",
    "start": "824240",
    "end": "828279"
  },
  {
    "text": "know that these metrics they will exist",
    "start": "828279",
    "end": "830560"
  },
  {
    "text": "even if you don't enable enforcement",
    "start": "830560",
    "end": "832360"
  },
  {
    "text": "right so even if you don't need",
    "start": "832360",
    "end": "834040"
  },
  {
    "text": "enforcements for some reason you can",
    "start": "834040",
    "end": "835720"
  },
  {
    "text": "still get the metrics uh which is cool",
    "start": "835720",
    "end": "838399"
  },
  {
    "text": "you just need to the HTTP header",
    "start": "838399",
    "end": "841000"
  },
  {
    "text": "correctly",
    "start": "841000",
    "end": "843120"
  },
  {
    "text": "and great uh so just a couple more",
    "start": "843120",
    "end": "846839"
  },
  {
    "text": "things on the architecture when you're",
    "start": "846839",
    "end": "850079"
  },
  {
    "text": "setting this up um so if you have",
    "start": "850079",
    "end": "852160"
  },
  {
    "text": "layered quers it's important to",
    "start": "852160",
    "end": "854240"
  },
  {
    "text": "know where we're actually enforcing the",
    "start": "854240",
    "end": "857079"
  },
  {
    "text": "tency and basically the thing to",
    "start": "857079",
    "end": "859560"
  },
  {
    "text": "remember is that we're just enforcing",
    "start": "859560",
    "end": "862000"
  },
  {
    "text": "tency on the first level quer which is",
    "start": "862000",
    "end": "865240"
  },
  {
    "text": "hit by a promt quy right so like this if",
    "start": "865240",
    "end": "868880"
  },
  {
    "text": "we enforcing it on the on the first quer",
    "start": "868880",
    "end": "871759"
  },
  {
    "text": "there it will work fine uh but if you",
    "start": "871759",
    "end": "875120"
  },
  {
    "text": "might think that you could enable uh",
    "start": "875120",
    "end": "878040"
  },
  {
    "text": "enforcement just on the on these uh cers",
    "start": "878040",
    "end": "881160"
  },
  {
    "text": "on the right hand side but that won't",
    "start": "881160",
    "end": "882920"
  },
  {
    "text": "actually work the all the request coming",
    "start": "882920",
    "end": "885480"
  },
  {
    "text": "in on our layer they won't have a",
    "start": "885480",
    "end": "888079"
  },
  {
    "text": "tendency enforced um so it's a good",
    "start": "888079",
    "end": "890600"
  },
  {
    "text": "thing to keep in mind I'm not sure if",
    "start": "890600",
    "end": "891920"
  },
  {
    "text": "this is what we want but this is how it",
    "start": "891920",
    "end": "894160"
  },
  {
    "text": "is for now at least uh something we can",
    "start": "894160",
    "end": "897040"
  },
  {
    "text": "to discuss maybe uh um and then the",
    "start": "897040",
    "end": "900880"
  },
  {
    "text": "other thing is that Thanos doesn't do",
    "start": "900880",
    "end": "903480"
  },
  {
    "text": "any authorization or authentication it",
    "start": "903480",
    "end": "906000"
  },
  {
    "text": "just looks at these HTTP headers that",
    "start": "906000",
    "end": "908040"
  },
  {
    "text": "are coming in and assume that it will be",
    "start": "908040",
    "end": "910600"
  },
  {
    "text": "fine um so probably you're going to want",
    "start": "910600",
    "end": "913399"
  },
  {
    "text": "to have something in front some proxy",
    "start": "913399",
    "end": "915800"
  },
  {
    "text": "that are actually putting these headers",
    "start": "915800",
    "end": "917360"
  },
  {
    "text": "in there to make sure",
    "start": "917360",
    "end": "919040"
  },
  {
    "text": "that you know that that it's the correct",
    "start": "919040",
    "end": "921560"
  },
  {
    "text": "tenants that are setting the correct",
    "start": "921560",
    "end": "924240"
  },
  {
    "text": "labels we use observatorium API but I'm",
    "start": "924240",
    "end": "927279"
  },
  {
    "text": "I'm sure there are a bunch of others",
    "start": "927279",
    "end": "929639"
  },
  {
    "text": "uh that can",
    "start": "929639",
    "end": "932160"
  },
  {
    "start": "934000",
    "end": "1236000"
  },
  {
    "text": "work yeah uh so looking at the future",
    "start": "934120",
    "end": "937120"
  },
  {
    "text": "now that we uh understand how tendency",
    "start": "937120",
    "end": "939560"
  },
  {
    "text": "is implemented in query and receive",
    "start": "939560",
    "end": "941639"
  },
  {
    "text": "there are also some future scope of work",
    "start": "941639",
    "end": "943440"
  },
  {
    "text": "that can be taken care of so uh like",
    "start": "943440",
    "end": "946800"
  },
  {
    "text": "like setting uh limits in the receive",
    "start": "946800",
    "end": "948800"
  },
  {
    "text": "component we can also set uh try and set",
    "start": "948800",
    "end": "951600"
  },
  {
    "text": "up limits in the query component which",
    "start": "951600",
    "end": "953519"
  },
  {
    "text": "prevents any single tenant from",
    "start": "953519",
    "end": "955120"
  },
  {
    "text": "monopolizing the shared resources to",
    "start": "955120",
    "end": "957040"
  },
  {
    "text": "ensure there's fair fair usage across",
    "start": "957040",
    "end": "959040"
  },
  {
    "text": "all tenants by uh uh so this way you can",
    "start": "959040",
    "end": "962440"
  },
  {
    "text": "prevent scenarios when there are",
    "start": "962440",
    "end": "963920"
  },
  {
    "text": "extensive queries that can degrade the",
    "start": "963920",
    "end": "965880"
  },
  {
    "text": "performance or cause a Noisy Neighbor",
    "start": "965880",
    "end": "969120"
  },
  {
    "text": "issue uh also for the purpose of d u",
    "start": "969120",
    "end": "972319"
  },
  {
    "text": "analytics or monitoring or billing it",
    "start": "972319",
    "end": "975000"
  },
  {
    "text": "there can be added a capability to cross",
    "start": "975000",
    "end": "977279"
  },
  {
    "text": "tenant queries from multiple tenants",
    "start": "977279",
    "end": "979279"
  },
  {
    "text": "under control uh circumstances this",
    "start": "979279",
    "end": "981480"
  },
  {
    "text": "becomes useful for ad administrators or",
    "start": "981480",
    "end": "984279"
  },
  {
    "text": "services that need to aggregate the data",
    "start": "984279",
    "end": "986519"
  },
  {
    "text": "across their uh systems uh lastly it's",
    "start": "986519",
    "end": "990680"
  },
  {
    "text": "at the end of the day it's all about how",
    "start": "990680",
    "end": "992600"
  },
  {
    "text": "you optimize your resource usage and the",
    "start": "992600",
    "end": "995720"
  },
  {
    "text": "metrics that you're sending and then",
    "start": "995720",
    "end": "997160"
  },
  {
    "text": "you're not overwhelming your systems",
    "start": "997160",
    "end": "998720"
  },
  {
    "text": "which boils down to infrastructure cost",
    "start": "998720",
    "end": "1001199"
  },
  {
    "text": "so this is uh this is an important",
    "start": "1001199",
    "end": "1003800"
  },
  {
    "text": "aspect to assess your resources consumed",
    "start": "1003800",
    "end": "1007079"
  },
  {
    "text": "uh including all the storage computer",
    "start": "1007079",
    "end": "1009120"
  },
  {
    "text": "and data transfer to all so that you can",
    "start": "1009120",
    "end": "1010920"
  },
  {
    "text": "allocate and budget your uh",
    "start": "1010920",
    "end": "1012920"
  },
  {
    "text": "observability",
    "start": "1012920",
    "end": "1014240"
  },
  {
    "text": "usage uh now going back to our use case",
    "start": "1014240",
    "end": "1017720"
  },
  {
    "text": "scenarios so they fin has implemented",
    "start": "1017720",
    "end": "1020000"
  },
  {
    "text": "multi-tenancy across his Alliance and uh",
    "start": "1020000",
    "end": "1023440"
  },
  {
    "text": "this uh this uh to recognize the",
    "start": "1023440",
    "end": "1026600"
  },
  {
    "text": "challenge of spiraling cost and he said",
    "start": "1026600",
    "end": "1028720"
  },
  {
    "text": "to uh ensure that each team each team",
    "start": "1028720",
    "end": "1031438"
  },
  {
    "text": "takes responsibility for their own",
    "start": "1031439",
    "end": "1033038"
  },
  {
    "text": "metrics and resource usage and yeah",
    "start": "1033039",
    "end": "1036520"
  },
  {
    "text": "thank you uh thank you for listening and",
    "start": "1036520",
    "end": "1038360"
  },
  {
    "text": "here are social handles please feel free",
    "start": "1038360",
    "end": "1041000"
  },
  {
    "text": "to",
    "start": "1041000",
    "end": "1042120"
  },
  {
    "text": "connect and uh like to take any",
    "start": "1042120",
    "end": "1044400"
  },
  {
    "text": "questions if there",
    "start": "1044400",
    "end": "1047079"
  },
  {
    "text": "are",
    "start": "1047840",
    "end": "1050840"
  },
  {
    "text": "Mar",
    "start": "1077840",
    "end": "1080840"
  },
  {
    "text": "um so any",
    "start": "1081960",
    "end": "1083400"
  },
  {
    "text": "questions F",
    "start": "1083400",
    "end": "1086960"
  },
  {
    "text": "okay um performance-wise is there a",
    "start": "1091400",
    "end": "1094200"
  },
  {
    "text": "difference to using the um tenanted",
    "start": "1094200",
    "end": "1097000"
  },
  {
    "text": "queries compared to just including say",
    "start": "1097000",
    "end": "1099240"
  },
  {
    "text": "the tenant label in the",
    "start": "1099240",
    "end": "1102400"
  },
  {
    "text": "query sorry could you repeat that so is",
    "start": "1102520",
    "end": "1105679"
  },
  {
    "text": "there fundamentally is there a",
    "start": "1105679",
    "end": "1107440"
  },
  {
    "text": "difference between if you have a a",
    "start": "1107440",
    "end": "1109080"
  },
  {
    "text": "tented query um to using the the",
    "start": "1109080",
    "end": "1111960"
  },
  {
    "text": "interface for um with the header or if",
    "start": "1111960",
    "end": "1115840"
  },
  {
    "text": "you just include the label in the query",
    "start": "1115840",
    "end": "1117480"
  },
  {
    "text": "the tenant",
    "start": "1117480",
    "end": "1118679"
  },
  {
    "text": "label hopefully not I mean the the",
    "start": "1118679",
    "end": "1121400"
  },
  {
    "text": "querer like if it just it just basically",
    "start": "1121400",
    "end": "1123799"
  },
  {
    "text": "adds label in front it we haven't done",
    "start": "1123799",
    "end": "1126159"
  },
  {
    "text": "any measurements but it should be pretty",
    "start": "1126159",
    "end": "1127960"
  },
  {
    "text": "quick to just inject the label",
    "start": "1127960",
    "end": "1130640"
  },
  {
    "text": "right yeah like you wouldn't face any",
    "start": "1130640",
    "end": "1133640"
  },
  {
    "text": "performance issues within tanos but it",
    "start": "1133640",
    "end": "1136080"
  },
  {
    "text": "depends on like what you're using as a",
    "start": "1136080",
    "end": "1137720"
  },
  {
    "text": "proxy so the proxy will authenticate and",
    "start": "1137720",
    "end": "1140480"
  },
  {
    "text": "then assign the ten head and then",
    "start": "1140480",
    "end": "1142159"
  },
  {
    "text": "forward the request so that's the only",
    "start": "1142159",
    "end": "1144520"
  },
  {
    "text": "latency",
    "start": "1144520",
    "end": "1146280"
  },
  {
    "text": "bump um is teny enforcement applicable",
    "start": "1146280",
    "end": "1150400"
  },
  {
    "text": "to Prometheus instances or other store",
    "start": "1150400",
    "end": "1154120"
  },
  {
    "text": "components um or is it only for the",
    "start": "1154120",
    "end": "1156400"
  },
  {
    "text": "receiver",
    "start": "1156400",
    "end": "1158600"
  },
  {
    "text": "now yeah so I guess anytime you would",
    "start": "1158600",
    "end": "1162039"
  },
  {
    "text": "have a tenant idb it will enforce it",
    "start": "1162039",
    "end": "1163960"
  },
  {
    "text": "right so if you ingest data in some",
    "start": "1163960",
    "end": "1166799"
  },
  {
    "text": "other way and you add correct labels",
    "start": "1166799",
    "end": "1169200"
  },
  {
    "text": "that the career will understand then it",
    "start": "1169200",
    "end": "1171400"
  },
  {
    "text": "will just enforce the",
    "start": "1171400",
    "end": "1174400"
  },
  {
    "text": "label hi um are there any scenarios that",
    "start": "1184039",
    "end": "1187520"
  },
  {
    "text": "should create separate receiver",
    "start": "1187520",
    "end": "1189480"
  },
  {
    "text": "instances instead of creating multi",
    "start": "1189480",
    "end": "1191600"
  },
  {
    "text": "tendency in one receiver",
    "start": "1191600",
    "end": "1194400"
  },
  {
    "text": "instance not specifically for tency I",
    "start": "1194400",
    "end": "1197120"
  },
  {
    "text": "think I mean uh it could be that like",
    "start": "1197120",
    "end": "1199880"
  },
  {
    "text": "you want to have different um tenants on",
    "start": "1199880",
    "end": "1202640"
  },
  {
    "text": "different receive like hash Rings",
    "start": "1202640",
    "end": "1205039"
  },
  {
    "text": "because you know some of the tenants are",
    "start": "1205039",
    "end": "1207360"
  },
  {
    "text": "using um or need like dedicated",
    "start": "1207360",
    "end": "1209799"
  },
  {
    "text": "instances because they're ingesting a",
    "start": "1209799",
    "end": "1211120"
  },
  {
    "text": "lot of data right but otherwise I think",
    "start": "1211120",
    "end": "1213159"
  },
  {
    "text": "you can run everything for a single",
    "start": "1213159",
    "end": "1217480"
  },
  {
    "text": "instance cool anyone",
    "start": "1217760",
    "end": "1222720"
  },
  {
    "text": "else going",
    "start": "1225280",
    "end": "1227159"
  },
  {
    "text": "once going Twi guys okay thanks Ken and",
    "start": "1227159",
    "end": "1233240"
  },
  {
    "text": "Jacob",
    "start": "1235960",
    "end": "1238960"
  }
]