[
  {
    "start": "0",
    "end": "65000"
  },
  {
    "text": "okay hello everyone so today's topic will be the road to",
    "start": "299",
    "end": "6299"
  },
  {
    "text": "start the floor playing six dollar ecosystem in a corporate environment",
    "start": "6299",
    "end": "11360"
  },
  {
    "text": "and in this talk we'll look on sixer on a bit of a different angle we look at it from the",
    "start": "12139",
    "end": "20220"
  },
  {
    "text": "corporate perspective in the past in the past month me and my",
    "start": "20220",
    "end": "25380"
  },
  {
    "text": "team in cycled we're looking extensively at six store researching and in order to",
    "start": "25380",
    "end": "31980"
  },
  {
    "text": "understand how he would take it and and apply it in our internal CI environments",
    "start": "31980",
    "end": "37920"
  },
  {
    "text": "and we wanted to achieve two goals we wanted a to sign or artifacts through the CI",
    "start": "37920",
    "end": "44579"
  },
  {
    "text": "carelessly and we wanted also to to use git sign to use git sign as it should",
    "start": "44579",
    "end": "49920"
  },
  {
    "text": "and to easily sign all our commits",
    "start": "49920",
    "end": "56120"
  },
  {
    "text": "originally also Gabrielle ahead of devops inside could work on this topic unfortunately couldn't come to the to",
    "start": "56120",
    "end": "63059"
  },
  {
    "text": "the conference so okay let's start with the agenda see this this is a sixth year conference so",
    "start": "63059",
    "end": "69240"
  },
  {
    "start": "65000",
    "end": "65000"
  },
  {
    "text": "we will start explaining what is extra I don't think it's much necessary but we will explain what it's texture and even",
    "start": "69240",
    "end": "76380"
  },
  {
    "text": "more important why corporate should adopt it um we explore the sixer tooling",
    "start": "76380",
    "end": "84840"
  },
  {
    "text": "and then we will go into a understand why what the issue could be have into uh",
    "start": "84840",
    "end": "91560"
  },
  {
    "text": "into working with the public infrastructure of six store in terms of privacy and how to create maybe",
    "start": "91560",
    "end": "98780"
  },
  {
    "text": "self-hosted secure infrastructure and also why um",
    "start": "98780",
    "end": "103920"
  },
  {
    "text": "then we will explore some how to use sixer to sign artifacts in several real",
    "start": "103920",
    "end": "110220"
  },
  {
    "text": "world CI environments and finally we'll talk about some of the insights of this",
    "start": "110220",
    "end": "116700"
  },
  {
    "text": "of this research um originally when I applied for this talk I also wanted to to talk about the",
    "start": "116700",
    "end": "123420"
  },
  {
    "text": "verification process and maybe more thoroughly talking about git sign and the issue of currently adopting Gita",
    "start": "123420",
    "end": "130560"
  },
  {
    "text": "incorporates unfortunately I don't have well I won't have enough time to talk about this in 20-20 minutes so maybe in",
    "start": "130560",
    "end": "139200"
  },
  {
    "text": "the next talks okay so I'm Alex El Geib I'm senior",
    "start": "139200",
    "end": "144720"
  },
  {
    "text": "security researcher at the cycle previously I led the Marvel research team at the checkpoint where I was doing",
    "start": "144720",
    "end": "152819"
  },
  {
    "text": "a lot of reverse engineering for complex pieces of malwares investigating attacks",
    "start": "152819",
    "end": "157980"
  },
  {
    "text": "both for generated in cyber crime and apts and nowadays I investigated",
    "start": "157980",
    "end": "164099"
  },
  {
    "text": "research of vulnerabilities and mitigations for software supply chain part of cycle",
    "start": "164099",
    "end": "170239"
  },
  {
    "text": "cycle is a cyber security company that provides a complete sort of supply chain",
    "start": "170239",
    "end": "176220"
  },
  {
    "text": "solution for organizations foreign",
    "start": "176220",
    "end": "181760"
  },
  {
    "text": "with all the great talks we had there so far um but basically a new standard for",
    "start": "186260",
    "end": "192360"
  },
  {
    "text": "signing very fine protecting aspects of software development development it was a",
    "start": "192360",
    "end": "199080"
  },
  {
    "text": "originally it was built especially a specific specifically for open source",
    "start": "199080",
    "end": "204239"
  },
  {
    "text": "projects but we will look at it from also a bit of a different perspective",
    "start": "204239",
    "end": "210900"
  },
  {
    "text": "um okay so what would be the motivation for a for corporate for example our",
    "start": "211800",
    "end": "219180"
  },
  {
    "start": "212000",
    "end": "212000"
  },
  {
    "text": "corporate when we look at it to into adopting uh adopting a six-store tooling",
    "start": "219180",
    "end": "227400"
  },
  {
    "text": "so let's say let's take an example uh we have two main cases for such",
    "start": "227400",
    "end": "232860"
  },
  {
    "text": "corporates the first one is a uh",
    "start": "232860",
    "end": "238040"
  },
  {
    "text": "using uh internal artifacts that are built in the CI environments of the corporate which are deployed into",
    "start": "238040",
    "end": "246560"
  },
  {
    "text": "the internal production environment of the corporate",
    "start": "246560",
    "end": "251840"
  },
  {
    "text": "um so we can it can be used to validate artifacts before deployment by the",
    "start": "252239",
    "end": "257280"
  },
  {
    "text": "corporate itself and I'm focusing mainly on the keyless signature for example we",
    "start": "257280",
    "end": "263160"
  },
  {
    "text": "could verify if we have like several personnels that are authorized to uh to",
    "start": "263160",
    "end": "269040"
  },
  {
    "text": "sign artifacts because verify that these were the only ones that were signing on this artifact before deployed",
    "start": "269040",
    "end": "275880"
  },
  {
    "text": "to production also it can be also used to validate the artifacts before being used by the",
    "start": "275880",
    "end": "281580"
  },
  {
    "text": "external clients they could be a clients that using this the components of of the",
    "start": "281580",
    "end": "289020"
  },
  {
    "text": "packages or they could be used also as a yeah also our clients like open source",
    "start": "289020",
    "end": "296280"
  },
  {
    "text": "clients so all these packages could be can you must be signed through the CIA",
    "start": "296280",
    "end": "303360"
  },
  {
    "text": "environment of the corporate and be verified uh that this was signed",
    "start": "303360",
    "end": "308699"
  },
  {
    "text": "specifically by the corporate for example email address or someone inside the",
    "start": "308699",
    "end": "315900"
  },
  {
    "text": "inside the the development process",
    "start": "315900",
    "end": "321000"
  },
  {
    "text": "a sum of additional benefits could have it's also could satisfy some of the",
    "start": "321000",
    "end": "326280"
  },
  {
    "text": "requirements for salsa similarly to the um",
    "start": "326280",
    "end": "331979"
  },
  {
    "text": "to the South Providence Builder that they're using a reusable workflows to satisfy non-falsified requirements",
    "start": "331979",
    "end": "339840"
  },
  {
    "text": "and achieve the success of free so you could also use the cosine for example to",
    "start": "339840",
    "end": "344940"
  },
  {
    "text": "sign additional pieces of information",
    "start": "344940",
    "end": "348560"
  },
  {
    "text": "in addition we could also adopt a git sign to sign commit and tags and to",
    "start": "351780",
    "end": "357720"
  },
  {
    "text": "allow tracing the origins of the code insertion this could help to remove the burden of",
    "start": "357720",
    "end": "364139"
  },
  {
    "text": "handling gpg keys and maintaining them across a large Enterprises",
    "start": "364139",
    "end": "370320"
  },
  {
    "text": "and also it allows you a higher Integrity level for each and every",
    "start": "370320",
    "end": "375360"
  },
  {
    "text": "commit inserted to the code repository and we even satisfy the some sales",
    "start": "375360",
    "end": "380400"
  },
  {
    "text": "requirements for example the verified history",
    "start": "380400",
    "end": "384680"
  },
  {
    "text": "so let's go over quickly some of the six or two link to understand how they work and then we'll see how can we use them",
    "start": "387240",
    "end": "395699"
  },
  {
    "text": "in some complex CI environment so the first one is record there are a",
    "start": "395699",
    "end": "401940"
  },
  {
    "text": "lot of been talking talking about a record here so basically it's a",
    "start": "401940",
    "end": "407400"
  },
  {
    "text": "it's a immutable temper resistant Ledger of a metadata built on top of a trillion",
    "start": "407400",
    "end": "412680"
  },
  {
    "text": "tool by Google basically it's a it's a public",
    "start": "412680",
    "end": "419120"
  },
  {
    "text": "infrastructure holds the public infrastructure of record that every work",
    "start": "419120",
    "end": "424380"
  },
  {
    "text": "can add the in the metadata to it and and query and verify that",
    "start": "424380",
    "end": "433139"
  },
  {
    "text": "um query and verified um so in six store it's mainly used to",
    "start": "433139",
    "end": "439860"
  },
  {
    "text": "store signatures for artifacts and also the certificates that are the",
    "start": "439860",
    "end": "445440"
  },
  {
    "text": "short-lived certificates that are have been used to to sign to sign that",
    "start": "445440",
    "end": "451620"
  },
  {
    "text": "artifact another additional important tools for",
    "start": "451620",
    "end": "457380"
  },
  {
    "start": "454000",
    "end": "454000"
  },
  {
    "text": "sale which is the root CA that that's in charge of signing and",
    "start": "457380",
    "end": "464360"
  },
  {
    "text": "issuing the short-lived certificates the poster basically it's a it's a you",
    "start": "464360",
    "end": "474660"
  },
  {
    "text": "you give it some oedc tokens so open the token that proves your identity",
    "start": "474660",
    "end": "482660"
  },
  {
    "text": "to check whether this token was is valid through some configuration it has it",
    "start": "483259",
    "end": "489720"
  },
  {
    "text": "that you can check it through a several identity providers it would be a GitHub",
    "start": "489720",
    "end": "495479"
  },
  {
    "text": "Microsoft Google GitHub actions could also use the Dex identity provider which",
    "start": "495479",
    "end": "500639"
  },
  {
    "text": "is an open source popular identity provider and if polter found that",
    "start": "500639",
    "end": "507080"
  },
  {
    "text": "the token is valid so it will issue it",
    "start": "507080",
    "end": "512580"
  },
  {
    "text": "will issue a short-lived certificate according to the",
    "start": "512580",
    "end": "517740"
  },
  {
    "text": "identity given identity from the the token",
    "start": "517740",
    "end": "523080"
  },
  {
    "text": "so one of the important factors about fulcio that's it's its",
    "start": "523080",
    "end": "528420"
  },
  {
    "text": "strength is is it depends on the root CA so if the root CA is a is a compromise",
    "start": "528420",
    "end": "535740"
  },
  {
    "text": "or isn't secured enough so we can't really trust the full sales so it's a",
    "start": "535740",
    "end": "541380"
  },
  {
    "text": "very important factor into whether you want or not to erase your own self-hosted version of a full C",
    "start": "541380",
    "end": "550279"
  },
  {
    "text": "kosan is a it's basically the signing tool",
    "start": "551339",
    "end": "558060"
  },
  {
    "text": "for for six store it allows you to sign artifacts and maybe additional attestation data and it stores the data",
    "start": "558060",
    "end": "567000"
  },
  {
    "text": "on the oci registry and find the git sign I think we can",
    "start": "567000",
    "end": "572279"
  },
  {
    "text": "skip that for you explain it way better than I do so if we look up from the corporate",
    "start": "572279",
    "end": "579720"
  },
  {
    "text": "perspective the using public instance of record could be quite problematic",
    "start": "579720",
    "end": "585779"
  },
  {
    "text": "um for example I used cosine to sign some simple image of mine it's called Simple go",
    "start": "585779",
    "end": "593040"
  },
  {
    "text": "server in this it was stored on the public instance of record we can see the the index number",
    "start": "593040",
    "end": "600540"
  },
  {
    "text": "everyone can just go and query this uh",
    "start": "600540",
    "end": "605640"
  },
  {
    "text": "this this entry in a record extract the certificate from it from the",
    "start": "605640",
    "end": "611459"
  },
  {
    "text": "century and get my my email number it could be personal copy corporate",
    "start": "611459",
    "end": "616560"
  },
  {
    "text": "and this could be quite an issue for a corporates specifically when also",
    "start": "616560",
    "end": "623240"
  },
  {
    "text": "looking on git sign which implies on the way and a lot more entries such that and",
    "start": "623240",
    "end": "630360"
  },
  {
    "text": "if the artifacts are private or the project as private they could be an",
    "start": "630360",
    "end": "635399"
  },
  {
    "text": "issue to expose a a lot of maybe email numbers it could be also maybe identity",
    "start": "635399",
    "end": "641880"
  },
  {
    "text": "of machines or GitHub action workflows or whatever",
    "start": "641880",
    "end": "647120"
  },
  {
    "text": "additional issues they could have with also wrote fools even though it's not publicly accessible to everyone it's",
    "start": "648560",
    "end": "655980"
  },
  {
    "text": "still the demands the trusting the Foster server to store your emails and",
    "start": "655980",
    "end": "661380"
  },
  {
    "text": "your certificates you need to trust the research fit or the root certificate and and the of app that",
    "start": "661380",
    "end": "670579"
  },
  {
    "text": "that gives you the short-lived certificate",
    "start": "670860",
    "end": "676399"
  },
  {
    "text": "so even though I don't recommend it to do it for any any organization it's still I wanted to experiment what it it",
    "start": "678120",
    "end": "686220"
  },
  {
    "text": "means to erase yourself your self-hosted infrastructure for a for Rico fulsio and",
    "start": "686220",
    "end": "693480"
  },
  {
    "text": "the rest of the six store and the best source was a sixth or the",
    "start": "693480",
    "end": "699120"
  },
  {
    "text": "hard way created by look and for several addition contributors and",
    "start": "699120",
    "end": "704760"
  },
  {
    "text": "it it wasn't so hard actually uh yeah it wasn't so hard but still I",
    "start": "704760",
    "end": "712320"
  },
  {
    "text": "will mention it in the end it uh the most problem it was maybe raising",
    "start": "712320",
    "end": "718800"
  },
  {
    "text": "the full instance but it demands like maintaining the uh the root CA and private Keys which can",
    "start": "718800",
    "end": "726000"
  },
  {
    "text": "be a very demanding for a maybe smaller companies so I don't recommend it for",
    "start": "726000",
    "end": "732540"
  },
  {
    "text": "every every organization but if you want it's possible so let's see some hello world for a",
    "start": "732540",
    "end": "740100"
  },
  {
    "start": "737000",
    "end": "737000"
  },
  {
    "text": "simple signature using the salesforce.in infrastructure first we'll need to Define several",
    "start": "740100",
    "end": "747620"
  },
  {
    "text": "environment variables we need to get the so-called new root CA there's also a",
    "start": "747620",
    "end": "755339"
  },
  {
    "text": "public key for a certificate transparent the part of the fulsion",
    "start": "755339",
    "end": "762690"
  },
  {
    "text": "[Music] um so whenever we want use it to just run",
    "start": "762690",
    "end": "767880"
  },
  {
    "text": "equal sign for our image that we want to save we give it an some additional",
    "start": "767880",
    "end": "772940"
  },
  {
    "text": "parameters like the the new so-called recore and full",
    "start": "772940",
    "end": "778200"
  },
  {
    "text": "strength of uh endpoint this leads us to some logging screen",
    "start": "778200",
    "end": "785040"
  },
  {
    "text": "similar to the to the public sector infrastructure using we're choosing our for example a",
    "start": "785040",
    "end": "792240"
  },
  {
    "text": "Google account or identities want to use it to sign the artifact and finally when the signature succeeds",
    "start": "792240",
    "end": "801240"
  },
  {
    "text": "succeeds we have like entry record that we we can query whenever we want and we",
    "start": "801240",
    "end": "808260"
  },
  {
    "text": "get our the identity the certificate which contains the identity which you that used uh that were used to sign the",
    "start": "808260",
    "end": "816600"
  },
  {
    "text": "artifact it also includes the issuer which in our",
    "start": "816600",
    "end": "822240"
  },
  {
    "text": "case it's of.cycle.dev that issue this certificate",
    "start": "822240",
    "end": "829220"
  },
  {
    "start": "829000",
    "end": "829000"
  },
  {
    "text": "similar procedure also we can apply for a git sign we need also to Define several",
    "start": "829560",
    "end": "836040"
  },
  {
    "text": "environmental variables that defines the the new self-hosted",
    "start": "836040",
    "end": "841139"
  },
  {
    "text": "infrastructure every commit we just log in through our",
    "start": "841139",
    "end": "846240"
  },
  {
    "text": "Google account which is Google account and we we have this entry that's saved",
    "start": "846240",
    "end": "851880"
  },
  {
    "text": "on record that we can verify and say that it contains",
    "start": "851880",
    "end": "857220"
  },
  {
    "text": "the certificate um on the name of the one who made the",
    "start": "857220",
    "end": "862500"
  },
  {
    "text": "commit okay so now now that we made some",
    "start": "862500",
    "end": "868500"
  },
  {
    "text": "introduction of the sixth row tooling and maybe how to create a self-hosted version for uh for corporates let's talk",
    "start": "868500",
    "end": "875700"
  },
  {
    "text": "about let's let's look away and several the a common use cases of CI environments in",
    "start": "875700",
    "end": "883139"
  },
  {
    "text": "in corporate and how can we integrate the sixer tooling including signing",
    "start": "883139",
    "end": "890519"
  },
  {
    "text": "artifacts using that environment totally carelessly and",
    "start": "890519",
    "end": "897740"
  },
  {
    "text": "and the point I want to mention is that we don't want the developers to know",
    "start": "897899",
    "end": "903600"
  },
  {
    "text": "about it to be transparent as we can for the developers themselves so we will explore it to uh two",
    "start": "903600",
    "end": "911459"
  },
  {
    "start": "908000",
    "end": "908000"
  },
  {
    "text": "scenarios and the first one is using a GitHub code management with GitHub action CI we'll use GitHub hosted",
    "start": "911459",
    "end": "918959"
  },
  {
    "text": "machines for the CI and finally we will push the artifact to a Docker up",
    "start": "918959",
    "end": "924839"
  },
  {
    "text": "and and for the second case which has been quite more complex we will manage",
    "start": "924839",
    "end": "930420"
  },
  {
    "text": "our code in gitlab and use gitlab Runner CI but we will use a self-manage or manage it",
    "start": "930420",
    "end": "938040"
  },
  {
    "text": "doesn't really matter if a private kubernetes cluster",
    "start": "938040",
    "end": "943279"
  },
  {
    "text": "that will run the sci builds in by the polling a gitlab and this bill should",
    "start": "943279",
    "end": "951360"
  },
  {
    "text": "build the the image and push it to Docker hub",
    "start": "951360",
    "end": "956959"
  },
  {
    "start": "957000",
    "end": "957000"
  },
  {
    "text": "so how the architecture pre-stick store will look like I'm a user I will be",
    "start": "957420",
    "end": "963600"
  },
  {
    "text": "pushing code into GitHub GitHub will provision me a new VM on each on each",
    "start": "963600",
    "end": "968699"
  },
  {
    "text": "new build and this is why job will push will build the image and push it to Docker hub",
    "start": "968699",
    "end": "976760"
  },
  {
    "text": "if I will be pushing the code to a gitlab I have like I managed in our case",
    "start": "976760",
    "end": "982440"
  },
  {
    "text": "GK cluster it could be AKs or eks it doesn't matter there will be a managed cluster and a",
    "start": "982440",
    "end": "988920"
  },
  {
    "text": "port inside the cluster that will be polling gitlab for new job whenever the new job will received you",
    "start": "988920",
    "end": "995639"
  },
  {
    "text": "will provision a new cloud and and that pod will do the CI job including pushing",
    "start": "995639",
    "end": "1001040"
  },
  {
    "text": "the image to Docker hub okay so first let's look at the GitHub",
    "start": "1001040",
    "end": "1008360"
  },
  {
    "text": "action case um a simple solution to this issue into",
    "start": "1008360",
    "end": "1014779"
  },
  {
    "text": "integrating six store could be through your reusable workflows uh very similar",
    "start": "1014779",
    "end": "1020240"
  },
  {
    "text": "to the salsa provenance Builder imagine a GitHub action a workflow when",
    "start": "1020240",
    "end": "1026900"
  },
  {
    "text": "the first with the heads two jobs the first job is like building the the image",
    "start": "1026900",
    "end": "1032720"
  },
  {
    "text": "and pushing it through Docker Hub and the second job will be adding a signature to the image it could",
    "start": "1032720",
    "end": "1040880"
  },
  {
    "text": "be it would be calling a reusable workflow and an external workflow that could be reused in also in several other",
    "start": "1040880",
    "end": "1048319"
  },
  {
    "text": "builds an important factor that it should be sent a permission to a with ID",
    "start": "1048319",
    "end": "1053780"
  },
  {
    "text": "token to that reusable workflow this ID token is is giving the",
    "start": "1053780",
    "end": "1059600"
  },
  {
    "text": "reasonable workflow a jaw token as an environment variable that could be used to give identity to the signature",
    "start": "1059600",
    "end": "1067460"
  },
  {
    "text": "process we're also sending a parameter of the the image damage should be assigning",
    "start": "1067460",
    "end": "1075320"
  },
  {
    "text": "so how this erasable workflow looks like first it should be defining several",
    "start": "1075320",
    "end": "1080360"
  },
  {
    "text": "environment variables we said we want to to try it out with a self-hosted",
    "start": "1080360",
    "end": "1085640"
  },
  {
    "text": "infrastructure so we're giving it the right recurrent fulcio we should also be giving it the",
    "start": "1085640",
    "end": "1093080"
  },
  {
    "text": "um the root ca for the full cell which is fetching from some from a gcp bucket",
    "start": "1093080",
    "end": "1100340"
  },
  {
    "text": "and inside the the workflow itself",
    "start": "1100340",
    "end": "1106039"
  },
  {
    "text": "it's very plain simple just signing it giving it the right parameters and giving it a IDC provider of GitHub",
    "start": "1106039",
    "end": "1113720"
  },
  {
    "text": "action uh fortunately a cost time is supporting GitHub action as many other identity",
    "start": "1113720",
    "end": "1119600"
  },
  {
    "text": "providers so he knows how to fetch the the job tokens from",
    "start": "1119600",
    "end": "1125240"
  },
  {
    "text": "environmental variable and use it to authenticate against the GitHub actions identity provider",
    "start": "1125240",
    "end": "1133100"
  },
  {
    "start": "1133000",
    "end": "1133000"
  },
  {
    "text": "and so what will be the result Imagine by running this CI build",
    "start": "1133100",
    "end": "1139059"
  },
  {
    "text": "this your usable workflow we are winning some our sample image so when we finish running it will be",
    "start": "1139059",
    "end": "1146720"
  },
  {
    "text": "succeed succeed in in pushing and building and pushing the image and we receive our entry in recall",
    "start": "1146720",
    "end": "1154539"
  },
  {
    "text": "when we query this entry we will see that it contains this",
    "start": "1154539",
    "end": "1160760"
  },
  {
    "text": "certificate a fullser is aware of GitHub action it knows how to put the right",
    "start": "1160760",
    "end": "1166419"
  },
  {
    "text": "properties in the certificate it contains handful of information first the issuer of GitHub actions the",
    "start": "1166419",
    "end": "1173480"
  },
  {
    "text": "workflow trigger the commission and the workflow name and more",
    "start": "1173480",
    "end": "1179720"
  },
  {
    "text": "so we were able to integrate integrate a sixth part of our SCI it wasn't so hard but let's look at the",
    "start": "1179720",
    "end": "1187460"
  },
  {
    "text": "more complex scenario for the second scenario said we are",
    "start": "1187460",
    "end": "1193160"
  },
  {
    "start": "1190000",
    "end": "1190000"
  },
  {
    "text": "using gitlab and kubernetes executor for gitlab this means that every every new",
    "start": "1193160",
    "end": "1198980"
  },
  {
    "text": "job is provisioned as a new pod in in the manager or in the self-hosted cluster",
    "start": "1198980",
    "end": "1205520"
  },
  {
    "text": "so to in order to sign keylessly the image in the uh in that in the",
    "start": "1205520",
    "end": "1212419"
  },
  {
    "text": "self-hosted OR managed kubernetes we need some identity in order to send to",
    "start": "1212419",
    "end": "1219320"
  },
  {
    "text": "fulsion and receive the self-hosted a self short-lived certificate so where can we fetch that identity from",
    "start": "1219320",
    "end": "1226220"
  },
  {
    "text": "we have several options the first will be to use the environment developer called CI job",
    "start": "1226220",
    "end": "1232840"
  },
  {
    "text": "JWT which Supply to every git lab execution",
    "start": "1232840",
    "end": "1239980"
  },
  {
    "text": "GitHub provides every every job this variable that contains",
    "start": "1239980",
    "end": "1246080"
  },
  {
    "text": "it's signed by the by the gitlab service itself and it gives information",
    "start": "1246080",
    "end": "1252620"
  },
  {
    "text": "about the the actual job that's running it can be used to many many use cases",
    "start": "1252620",
    "end": "1258919"
  },
  {
    "text": "many use cases are like using it to authenticate against hashico Vault and",
    "start": "1258919",
    "end": "1264400"
  },
  {
    "text": "additional cases specifically I don't recommend it using",
    "start": "1264400",
    "end": "1270020"
  },
  {
    "text": "here because it you can you can regenerate the token for specific audience like you can",
    "start": "1270020",
    "end": "1277880"
  },
  {
    "text": "in the other identity providers additional solution will be to use the",
    "start": "1277880",
    "end": "1284900"
  },
  {
    "text": "gcp metadata service I said we are using gke this means that there are the nodes",
    "start": "1284900",
    "end": "1289940"
  },
  {
    "text": "in the cluster are running as a compute virtual machines on",
    "start": "1289940",
    "end": "1295520"
  },
  {
    "text": "gcps or every VM is a can access to some metadata service and get its identity",
    "start": "1295520",
    "end": "1302780"
  },
  {
    "text": "from a gcp it's that validly signed by gcp we can maybe use this identity in order",
    "start": "1302780",
    "end": "1309679"
  },
  {
    "text": "to sign the artifact so we will have a strong authentication that the artifact",
    "start": "1309679",
    "end": "1314720"
  },
  {
    "text": "was signed in our buyer specific nodes in gcp",
    "start": "1314720",
    "end": "1320380"
  },
  {
    "text": "Um this can be a decent solution but it won't be enough because because we won't",
    "start": "1320419",
    "end": "1326120"
  },
  {
    "text": "be utilizing that we have a kubernetes cluster and we have specific parts that were doing this build so this solution",
    "start": "1326120",
    "end": "1332840"
  },
  {
    "text": "isn't good enough uh the third solution would be to using a kubernetes identity Service as I said we have like a managed",
    "start": "1332840",
    "end": "1340100"
  },
  {
    "text": "gke cluster so we can we can ask kubernetes to sign the token and use",
    "start": "1340100",
    "end": "1345620"
  },
  {
    "text": "that token uh it's also a decent solution but it",
    "start": "1345620",
    "end": "1350659"
  },
  {
    "text": "demands exposing the cluster JW cast endpoint so it should be a verified",
    "start": "1350659",
    "end": "1357140"
  },
  {
    "text": "somehow that that the stocking is actually valid uh so the final",
    "start": "1357140",
    "end": "1363760"
  },
  {
    "text": "solution that may be the most complex one is that use the specific spiral it",
    "start": "1363760",
    "end": "1369919"
  },
  {
    "text": "could give us the best of both floors both using the kubernetes and the commercial identity server and the gcp",
    "start": "1369919",
    "end": "1377059"
  },
  {
    "text": "member server and we can authenticate nodes using gcp and authenticate wallets",
    "start": "1377059",
    "end": "1383840"
  },
  {
    "text": "you workloads using the kubernetes workload the tester so we saw the architecture looks like",
    "start": "1383840",
    "end": "1391400"
  },
  {
    "text": "it's quite complex but we will go over it step by step",
    "start": "1391400",
    "end": "1397899"
  },
  {
    "start": "1399000",
    "end": "1399000"
  },
  {
    "text": "first we need to create some specific spiral infrastructure",
    "start": "1400039",
    "end": "1405700"
  },
  {
    "text": "there's excellent tutorials and quick starts for for that I personally I",
    "start": "1405980",
    "end": "1412820"
  },
  {
    "text": "suggest that to install Aspire on on some uh in some different or different server",
    "start": "1412820",
    "end": "1420260"
  },
  {
    "text": "than on the on the cluster you're using to build your images on",
    "start": "1420260",
    "end": "1425600"
  },
  {
    "text": "and you also installed the Aspire agent through some Demon set inside your kubernetes so every",
    "start": "1425600",
    "end": "1433280"
  },
  {
    "text": "uh every node that will be will have this spiral API",
    "start": "1433280",
    "end": "1439539"
  },
  {
    "text": "and the build that will be running on this node will have access to that API",
    "start": "1439539",
    "end": "1445960"
  },
  {
    "text": "also the spiral agent will be authenticating with the gcp metadata",
    "start": "1446559",
    "end": "1452179"
  },
  {
    "text": "service and and a test as the agent do the being part of our gcp project",
    "start": "1452179",
    "end": "1457820"
  },
  {
    "text": "for example so when I install these spiral agents and I went to the Spire server to see all the agent list I can",
    "start": "1457820",
    "end": "1464240"
  },
  {
    "text": "see I could say that I identified the three nodes I have in my cluster and each of them has a specific spiffy ID",
    "start": "1464240",
    "end": "1472520"
  },
  {
    "text": "a H this this that means that Aspire agent",
    "start": "1472520",
    "end": "1477919"
  },
  {
    "text": "was a successfully authenticated against the gcp service",
    "start": "1477919",
    "end": "1483940"
  },
  {
    "text": "next we'll have to Define some several selectors for the workload at the",
    "start": "1484820",
    "end": "1490100"
  },
  {
    "text": "station up to this point we tested the nose now we have now not attached the",
    "start": "1490100",
    "end": "1495320"
  },
  {
    "text": "the workloads that will be provisioned on every new build",
    "start": "1495320",
    "end": "1500480"
  },
  {
    "text": "so for that we're creating two a new entries in the Spire server the first we're giving a spiffy ID of build node",
    "start": "1500480",
    "end": "1508820"
  },
  {
    "text": "to every node that is specifically in our cycle Labs UCP project we already",
    "start": "1508820",
    "end": "1515240"
  },
  {
    "text": "attested the node so that's how he chooses the nodes and and",
    "start": "1515240",
    "end": "1522039"
  },
  {
    "text": "giving them the specific ID adding additional entry",
    "start": "1522039",
    "end": "1528679"
  },
  {
    "text": "with for a workloads that every workload was that there was that has parent ID of",
    "start": "1528679",
    "end": "1535580"
  },
  {
    "text": "the specific build node which is the previously defined and also in a namespace that's called gitlab Runner",
    "start": "1535580",
    "end": "1541880"
  },
  {
    "text": "will receive this specific ID of Builder which is specifically the given to a workloads",
    "start": "1541880",
    "end": "1548240"
  },
  {
    "text": "potentially we could add additional selectors here the spiffy expire it",
    "start": "1548240",
    "end": "1554059"
  },
  {
    "text": "supports a lot of selectors and the more we added the more secure the process will be",
    "start": "1554059",
    "end": "1561700"
  },
  {
    "text": "next we need to allow all the new pods with the video provisioned in the build",
    "start": "1563559",
    "end": "1569120"
  },
  {
    "text": "to have access to the Spire API because we are using a built-in gitlab",
    "start": "1569120",
    "end": "1575360"
  },
  {
    "text": "image for the for the pads which don't have the volume of the",
    "start": "1575360",
    "end": "1580760"
  },
  {
    "text": "spider mounted gitlab doesn't have support out of the box for a spire",
    "start": "1580760",
    "end": "1586100"
  },
  {
    "text": "so we use the kiverno policy to mount a",
    "start": "1586100",
    "end": "1591559"
  },
  {
    "text": "the Spire API this means the spiral unit Unix socket for every every new product",
    "start": "1591559",
    "end": "1598100"
  },
  {
    "text": "is specifically in the gitla brand or namespace which is the namespace in our cluster that all the new builds will be",
    "start": "1598100",
    "end": "1604960"
  },
  {
    "text": "created in so this kivano policies just solved this",
    "start": "1604960",
    "end": "1610100"
  },
  {
    "text": "issue for us and finally we need to configure the",
    "start": "1610100",
    "end": "1616279"
  },
  {
    "text": "GitHub CI workflow uh to get the SV that's with it's like a identity token",
    "start": "1616279",
    "end": "1621919"
  },
  {
    "text": "that we received from Aspire that identifies the specific workload so we're getting this svid we're sending it",
    "start": "1621919",
    "end": "1628640"
  },
  {
    "text": "to full Co to receive a a short-lived certificate on our on behalf on our",
    "start": "1628640",
    "end": "1635840"
  },
  {
    "text": "identity and we're using this certificate to sign the artifact",
    "start": "1635840",
    "end": "1641240"
  },
  {
    "text": "finally this entire workflow it's like quite complex to build but it has zero Key Management",
    "start": "1641240",
    "end": "1647440"
  },
  {
    "text": "and and building it you you don't need to be aware of the identities on the",
    "start": "1647440",
    "end": "1653480"
  },
  {
    "text": "underlying build system to build it so this is how they finally CI file in",
    "start": "1653480",
    "end": "1661400"
  },
  {
    "text": "gitlab looks like we are defining a batch of environment variables for the for the infrastructure",
    "start": "1661400",
    "end": "1668600"
  },
  {
    "text": "for we defining the spiffy endpoint socket and several six store variables",
    "start": "1668600",
    "end": "1674659"
  },
  {
    "text": "all these variables could also be defined through some caverno policy to",
    "start": "1674659",
    "end": "1679820"
  },
  {
    "text": "be default the finally we used the kaniko image to build the docker to build the",
    "start": "1679820",
    "end": "1687140"
  },
  {
    "text": "image and we're using a cost time with our at our variables with ODC provider",
    "start": "1687140",
    "end": "1695779"
  },
  {
    "text": "spiffy and for our server so of course in",
    "start": "1695779",
    "end": "1701139"
  },
  {
    "text": "nodes out of the box to work with the spiffy spiffy API and gets the S feed",
    "start": "1701360",
    "end": "1707840"
  },
  {
    "text": "and use it to sign the sign the image",
    "start": "1707840",
    "end": "1713419"
  },
  {
    "text": "so when we run it in gitlab we'll manage to assign our artifact to",
    "start": "1713419",
    "end": "1719120"
  },
  {
    "text": "push the the signature to a head to record and when we query Rico",
    "start": "1719120",
    "end": "1727580"
  },
  {
    "text": "we would see the next certificate certificate was issued to this spiffy",
    "start": "1727580",
    "end": "1735260"
  },
  {
    "text": "idea of of the Builder node which we defined in the inspire",
    "start": "1735260",
    "end": "1740419"
  },
  {
    "text": "and it was also issued by idc.cycle.dev which is the spiffy",
    "start": "1740419",
    "end": "1745940"
  },
  {
    "text": "Authority so this is what the the CIA use cases",
    "start": "1745940",
    "end": "1753500"
  },
  {
    "start": "1749000",
    "end": "1749000"
  },
  {
    "text": "that's some of the insights we had through the process um",
    "start": "1753500",
    "end": "1758899"
  },
  {
    "text": "the first regarding cell phones at fulsior as I said it may become",
    "start": "1758899",
    "end": "1764600"
  },
  {
    "text": "complicated due to a management of the root CA it could be a continuous to do",
    "start": "1764600",
    "end": "1771500"
  },
  {
    "text": "it and propagating the public fruit CA and the",
    "start": "1771500",
    "end": "1777279"
  },
  {
    "text": "certificate transparency look publicly to the signers and verifies could Implement some maintenance work",
    "start": "1777279",
    "end": "1786220"
  },
  {
    "text": "additional usages for cosine could we also do some artifactor station so we",
    "start": "1786520",
    "end": "1791899"
  },
  {
    "text": "could use the the the architecture we build right now you",
    "start": "1791899",
    "end": "1797179"
  },
  {
    "text": "can use it also to sign whether it will be provenanced s-bomb or an ability report or any any metadata we want it",
    "start": "1797179",
    "end": "1804620"
  },
  {
    "text": "will be attached to the specific artifact and also some regards regarding the",
    "start": "1804620",
    "end": "1811820"
  },
  {
    "text": "manage the kubernetes cluster or any other environment so um",
    "start": "1811820",
    "end": "1817600"
  },
  {
    "text": "it can take quite some time to build the right solution",
    "start": "1817600",
    "end": "1822760"
  },
  {
    "text": "can take some time and effort but this effort can be also beneficial",
    "start": "1822760",
    "end": "1829640"
  },
  {
    "text": "for not only selling the effect artifact but also additionally",
    "start": "1829640",
    "end": "1835000"
  },
  {
    "text": "additional stations that could bring you to a higher salsa level",
    "start": "1835000",
    "end": "1841299"
  },
  {
    "start": "1841000",
    "end": "1841000"
  },
  {
    "text": "so some takeaways from this talk we were experimenting six stores a lot",
    "start": "1841760",
    "end": "1848600"
  },
  {
    "text": "and we're trying to bring this this knowledge to the conference and the bottom line sector is great",
    "start": "1848600",
    "end": "1856220"
  },
  {
    "text": "um so even though it was designed with open source in mind we wanted to deliver that",
    "start": "1856220",
    "end": "1861260"
  },
  {
    "text": "it also can fit some organization to secure their artifact with whether they",
    "start": "1861260",
    "end": "1866720"
  },
  {
    "text": "are internally used or externally by by other clients",
    "start": "1866720",
    "end": "1873020"
  },
  {
    "text": "um creating all the infrastructure all the infrastructure from scratch is doable but it's not recommended for every organization",
    "start": "1873020",
    "end": "1879460"
  },
  {
    "text": "also you can apply some hybrid approach for example creating only the record instance and use the full seal",
    "start": "1879460",
    "end": "1886880"
  },
  {
    "text": "um and finally the support of identity Solutions in sixth or cosine",
    "start": "1886880",
    "end": "1892779"
  },
  {
    "text": "specifically is is enhancing the capabilities to support",
    "start": "1892779",
    "end": "1898760"
  },
  {
    "text": "some complex CI scenarios like we've seen in the in the species bar and",
    "start": "1898760",
    "end": "1903860"
  },
  {
    "text": "kubernetes environment okay that's it thank you",
    "start": "1903860",
    "end": "1911150"
  },
  {
    "text": "[Applause]",
    "start": "1911150",
    "end": "1915939"
  }
]