[
  {
    "start": "0",
    "end": "38000"
  },
  {
    "text": "thanks very much yeah so um I'm Justin I come from here this is Cambridge it's a small tech",
    "start": "4490",
    "end": "11700"
  },
  {
    "text": "village in the UK and I'm security leader docker at least I'm a said and",
    "start": "11700",
    "end": "20850"
  },
  {
    "text": "it's been a bit weird last week so just you know it's it's one of those things so yes I still work at darker yes darker",
    "start": "20850",
    "end": "27000"
  },
  {
    "text": "still exists yes we are doing all the fun bit still and we're excited to work",
    "start": "27000",
    "end": "35160"
  },
  {
    "text": "with the open source community for this talk we've had a lot of discussions",
    "start": "35160",
    "end": "40530"
  },
  {
    "start": "38000",
    "end": "66000"
  },
  {
    "text": "leading up to it with Steve from Microsoft is here the ec2 T registry",
    "start": "40530",
    "end": "46230"
  },
  {
    "text": "team Justin Kappas is also here and a bunch of other people and this talk is",
    "start": "46230",
    "end": "53399"
  },
  {
    "text": "cut out some suggestions and my thoughts about what's going on and and and it's not a committed roadmap or anything and",
    "start": "53399",
    "end": "59699"
  },
  {
    "text": "we I'll talk a bit more about that towards the end but you know it's it's",
    "start": "59699",
    "end": "64768"
  },
  {
    "text": "things I've been thinking about just to kind of frame it and had just mentioned supply chain security hopefully some of",
    "start": "64769",
    "end": "74220"
  },
  {
    "start": "66000",
    "end": "134000"
  },
  {
    "text": "you went to other talks and about that we've had earlier on but you know back in the day",
    "start": "74220",
    "end": "79650"
  },
  {
    "text": "Security's sort of seemed simpler you know you had you had hardware firewalls",
    "start": "79650",
    "end": "85080"
  },
  {
    "text": "and things like that and but if all your infrastructure is code then you can come",
    "start": "85080",
    "end": "91079"
  },
  {
    "text": "if you can commit any kind of code then you can change any of the infrastructure and break any kind of security",
    "start": "91079",
    "end": "96540"
  },
  {
    "text": "guarantees you have so attackers have realized that actually attacking the code that's shipped is really quite",
    "start": "96540",
    "end": "102960"
  },
  {
    "text": "compelling and so how you actually secure your code from commit deployment",
    "start": "102960",
    "end": "109680"
  },
  {
    "text": "becomes really important and in the container ecosystem is incredibly",
    "start": "109680",
    "end": "114750"
  },
  {
    "text": "important as well and so it's no notary's part of the kind of one of the pieces of tooling in this area there's",
    "start": "114750",
    "end": "122729"
  },
  {
    "text": "also the in toto project which is a new sandbox project which hopefully went to",
    "start": "122729",
    "end": "128550"
  },
  {
    "text": "some talks and as well which is also in this area and there's a lot of interest in this in cloud native deployments I just give",
    "start": "128550",
    "end": "136440"
  },
  {
    "start": "134000",
    "end": "271000"
  },
  {
    "text": "a very very short introduction toughened notary there's intercession on notary tomorrow as well and hopefully you had",
    "start": "136440",
    "end": "141510"
  },
  {
    "text": "maybe that's the tough one originally tough came back from looking at the",
    "start": "141510",
    "end": "147860"
  },
  {
    "text": "Linux package repositories really and what the kind of security issues with them were how you could attack those and",
    "start": "147860",
    "end": "155790"
  },
  {
    "text": "and basically install code on people's computers that would need to compromise",
    "start": "155790",
    "end": "161390"
  },
  {
    "text": "so obviously things like serving up fake packages it completely not what they say um but other things the more complicated",
    "start": "161390",
    "end": "168390"
  },
  {
    "text": "saying Isis things like getting someone to install an old vulnerable person in a package instead of the current one and",
    "start": "168390",
    "end": "174239"
  },
  {
    "text": "very lying about what his name is and things like or just telling them there are no updates and they don't need to",
    "start": "174239",
    "end": "179519"
  },
  {
    "text": "update and you know there's been a security issue and there's a whole set",
    "start": "179519",
    "end": "185069"
  },
  {
    "text": "of these as there's a set of tough papers if you look them up that on the",
    "start": "185069",
    "end": "190290"
  },
  {
    "text": "object framework website that cover days and it's really interesting and just just having TLS or signature or sign",
    "start": "190290",
    "end": "198569"
  },
  {
    "text": "does not really stop those problems you need to actually sign a collection of items and you need to resign regularly",
    "start": "198569",
    "end": "204540"
  },
  {
    "text": "to allow freshness checks to start these freeze attacks so basic stuff you know",
    "start": "204540",
    "end": "214109"
  },
  {
    "text": "you have a kind of the sort of viewpoint of tough is that you're trying to update",
    "start": "214109",
    "end": "219209"
  },
  {
    "text": "your software you can see the package repository you know you pull metadata",
    "start": "219209",
    "end": "225329"
  },
  {
    "text": "from it look and see what's going on you have a public key that you trust to give",
    "start": "225329",
    "end": "231000"
  },
  {
    "text": "you signatures and you can validate you can validate these these keys and then",
    "start": "231000",
    "end": "239310"
  },
  {
    "text": "there's a set of there's a set of there's a certain keys which are designed to basically allow you to",
    "start": "239310",
    "end": "245430"
  },
  {
    "text": "delegate an update different signing keys I mentioned in toto briefly as well",
    "start": "245430",
    "end": "252780"
  },
  {
    "text": "which in toto is kind of different part of the supply chain which answers questions about how code was built who",
    "start": "252780",
    "end": "258239"
  },
  {
    "text": "built it and was it did it go through the right process and that's really there to kind of help you I stopped",
    "start": "258239",
    "end": "264840"
  },
  {
    "text": "people attacking so during the build build and deployment before deployment process so this is",
    "start": "264840",
    "end": "274919"
  },
  {
    "text": "this talks really about what the things we want to fix and the lessons we've learned from nature as as it's been",
    "start": "274919",
    "end": "280380"
  },
  {
    "text": "built and deployed in the last few years nursery was originally a project from",
    "start": "280380",
    "end": "285780"
  },
  {
    "text": "dhaka implementing tough in 2015 and",
    "start": "285780",
    "end": "294260"
  },
  {
    "text": "which is I was not involved at the beginning I was that I just joined a little bit after around when the launch",
    "start": "294260",
    "end": "301139"
  },
  {
    "text": "was and the idea was the you know packages you know that the tough words",
    "start": "301139",
    "end": "308160"
  },
  {
    "text": "were about the Linux packages but obviously containers are kind of like packages so let's use the same model",
    "start": "308160",
    "end": "313470"
  },
  {
    "text": "which seems great who donated the CNC f along with tough specification in 2017",
    "start": "313470",
    "end": "319220"
  },
  {
    "text": "but back when it was designed if the container world was very different from",
    "start": "319220",
    "end": "324479"
  },
  {
    "text": "it isn't how containers in production we're not really very big we didn't",
    "start": "324479",
    "end": "330060"
  },
  {
    "text": "really know exactly what they're going to be used and I think you know although the basic idea was great we made a bunch",
    "start": "330060",
    "end": "336870"
  },
  {
    "text": "of design mistakes at the time that I think we need to fix for kind of 2.0 version some of the issues now are",
    "start": "336870",
    "end": "344970"
  },
  {
    "text": "around usage and I think you know naturally is not used as much as we",
    "start": "344970",
    "end": "352229"
  },
  {
    "text": "would like it to be people find it difficult to use for various user there's the first usability issues there",
    "start": "352229",
    "end": "360360"
  },
  {
    "text": "are some implementation and design issues that are kind of weird that we'll talk about it's difficult to understand",
    "start": "360360",
    "end": "366360"
  },
  {
    "text": "what's going on and observe you know if it's actually hard to see the metadata",
    "start": "366360",
    "end": "374130"
  },
  {
    "text": "and what's actually going on so it's kind of hard and it's not terribly modular or anything so I won't talk",
    "start": "374130",
    "end": "383220"
  },
  {
    "start": "381000",
    "end": "712000"
  },
  {
    "text": "about this kind of registry native idea as well when when we as part of building",
    "start": "383220",
    "end": "390919"
  },
  {
    "text": "docker back in the day we built this thing called registry and a registry is effectively a content addressable",
    "start": "390919",
    "end": "397080"
  },
  {
    "text": "storage mechanism with with so it's a basically you",
    "start": "397080",
    "end": "404400"
  },
  {
    "text": "address objects by their shell t56 hash and then there's a way of adding tags so",
    "start": "404400",
    "end": "410700"
  },
  {
    "text": "it it's really similar to get apart from the fact that it's designed for really large sets of data we didn't make the",
    "start": "410700",
    "end": "419010"
  },
  {
    "text": "mistake of using sha-1 because it was a bit later on and but it's conceptually",
    "start": "419010",
    "end": "424590"
  },
  {
    "text": "it's it's it's very similar designed to get and then and it's kind of nice it's",
    "start": "424590",
    "end": "430620"
  },
  {
    "text": "kind of nice model I think that there's a whole lot of guarantees about I mean",
    "start": "430620",
    "end": "436890"
  },
  {
    "text": "one of the reasons it works is that containers are designed to be immutable objects and the mutable objects don't change their content so addressing them",
    "start": "436890",
    "end": "443700"
  },
  {
    "text": "by that content hash makes a lot of sense because every time you pull it you know you're getting the right the right",
    "start": "443700",
    "end": "449070"
  },
  {
    "text": "bits there's a bunch of ongoing work in",
    "start": "449070",
    "end": "454830"
  },
  {
    "text": "actually expanding it not just to be container images but other things like helm charts and all sorts of other items",
    "start": "454830",
    "end": "460980"
  },
  {
    "text": "and then this and scene app and artifacts and and all sorts of things so there's a real bunch of work around",
    "start": "460980",
    "end": "468810"
  },
  {
    "text": "expanding the registry kind of usage use cases recently which is really cool",
    "start": "468810",
    "end": "476210"
  },
  {
    "text": "there's a set of JSON objects that are in the registry that basically describe",
    "start": "476210",
    "end": "482700"
  },
  {
    "text": "the actual bits and how to use them so things like the layers in the docker image and bits of metadata and so on and",
    "start": "482700",
    "end": "490530"
  },
  {
    "text": "then there's actually a hierarchical kind of layer set of these things so for example when we introduced support for",
    "start": "490530",
    "end": "496710"
  },
  {
    "text": "multiple architectures in darker different you know different platforms like Windows and arm containers things",
    "start": "496710",
    "end": "503280"
  },
  {
    "text": "like that we added another layer of indirection so you could choose which of them at which of the actual images you",
    "start": "503280",
    "end": "509790"
  },
  {
    "text": "wanted and there's a kind of they've",
    "start": "509790",
    "end": "517979"
  },
  {
    "text": "become some sort of ways in which people use registries so for example they tend to be very archival people don't tend to",
    "start": "517979",
    "end": "523409"
  },
  {
    "text": "delete stuff much from registries so because one of the advantages of",
    "start": "523410",
    "end": "528650"
  },
  {
    "text": "containers is reproducibility and if you want to go back and see you were running six weeks ago or six",
    "start": "528650",
    "end": "535139"
  },
  {
    "text": "months ago you can do it if you keep everything and then there was some kind",
    "start": "535139",
    "end": "540420"
  },
  {
    "text": "of bugs I think in the implementations so it wasn't even though it's",
    "start": "540420",
    "end": "548129"
  },
  {
    "text": "content-addressable often clients when they pull and push things will just pass the Jason and then push back a new bit",
    "start": "548129",
    "end": "554309"
  },
  {
    "text": "of Jason which could because Jason doesn't have a fixed form in general",
    "start": "554309",
    "end": "560399"
  },
  {
    "text": "sometimes will be different and changed the hash and that's really annoying so there was some sort of bugs in the in",
    "start": "560399",
    "end": "565410"
  },
  {
    "text": "the ecosystem as well but registries",
    "start": "565410",
    "end": "570660"
  },
  {
    "text": "were built originally without a sort of signing model I mean get acquired a",
    "start": "570660",
    "end": "576629"
  },
  {
    "text": "signing model over time so when no tree was introduced because there was nothing",
    "start": "576629",
    "end": "582449"
  },
  {
    "text": "built into the register specification it was built effectively as a sidecar that sits alongside your registry and it",
    "start": "582449",
    "end": "589049"
  },
  {
    "text": "provides it has a it sits there with a separate database and it gives you the",
    "start": "589049",
    "end": "595589"
  },
  {
    "text": "signature metadata and that models have been really kind of inconvenient in many",
    "start": "595589",
    "end": "602189"
  },
  {
    "text": "ways first are most registries don't actually run a notary server so docker",
    "start": "602189",
    "end": "608850"
  },
  {
    "text": "hub does and Azure does now but for example the AWS registries and most most",
    "start": "608850",
    "end": "615600"
  },
  {
    "text": "other registries don't actually run notary so you can't sign anything if your registry decides not to support it",
    "start": "615600",
    "end": "622139"
  },
  {
    "text": "and that's really weird but it means the functionality is not part of the",
    "start": "622139",
    "end": "627329"
  },
  {
    "text": "registry it's not native it's not like you know I've signed this git commit it's now in git it's like I've signed",
    "start": "627329",
    "end": "634559"
  },
  {
    "text": "this get commit it's in some other files and which is sitting somewhere else and",
    "start": "634559",
    "end": "639569"
  },
  {
    "text": "that'd be really inconvenient cuz you you know you pull and pull she'll get repository all the time and if you have to separately copy the signatures it",
    "start": "639569",
    "end": "646110"
  },
  {
    "text": "would be really really annoying but that's the situation we're in with them with notary way you can you pull and",
    "start": "646110",
    "end": "652889"
  },
  {
    "text": "push images but the signatures don't come with them and there's actually no easy API for pulling and pushing the",
    "start": "652889",
    "end": "657929"
  },
  {
    "text": "signatures at all so I mean you can pull them to check them but you can't actually push new ones back easily to",
    "start": "657929",
    "end": "665489"
  },
  {
    "text": "some other end points so one of the so I think one of the",
    "start": "665489",
    "end": "670840"
  },
  {
    "text": "really important things is that we want native signing that's part of their in inside the repository and you can pull",
    "start": "670840",
    "end": "677110"
  },
  {
    "text": "and push them so so the most important",
    "start": "677110",
    "end": "686530"
  },
  {
    "text": "part is actually signing content pieces there's actually the other question about say how you saw in tags which I'm",
    "start": "686530",
    "end": "691570"
  },
  {
    "text": "not going to talk about much because but gate allows you to sign both commits",
    "start": "691570",
    "end": "696690"
  },
  {
    "text": "which is much like signing an image in many ways and also tags so that you",
    "start": "696690",
    "end": "702880"
  },
  {
    "text": "can't move tags around and things like that I'm not going to talk much about tech signing there in this talk but",
    "start": "702880",
    "end": "708700"
  },
  {
    "text": "there's that's kind of important as well in some ways as a little diversion",
    "start": "708700",
    "end": "714360"
  },
  {
    "text": "signing Jason is kind of weird and annoying and tough the tough spectres",
    "start": "714360",
    "end": "722020"
  },
  {
    "text": "chose to use canonical Jason and canonical Jason is a standardized format",
    "start": "722020",
    "end": "730480"
  },
  {
    "text": "for Jason where you decide exactly how its laid out and how you order all the keys and things like that what we found",
    "start": "730480",
    "end": "736300"
  },
  {
    "text": "is that there's not a there's there's two different specs for canonical Jason",
    "start": "736300",
    "end": "741760"
  },
  {
    "text": "and I don't believe any of the implementations implement either of them correctly he's laughing he's tried yeah",
    "start": "741760",
    "end": "749680"
  },
  {
    "text": "and the problem is if we try and if you accidentally make an error and you",
    "start": "749680",
    "end": "755820"
  },
  {
    "text": "decide that you've got a bug in your canonical Jason implementation all your signatures then become invalid which is",
    "start": "755820",
    "end": "761620"
  },
  {
    "text": "really annoying there's a great blog post called how not to sign a JSON object from Asakura which I recommend",
    "start": "761620",
    "end": "768370"
  },
  {
    "text": "you read if you like this kind of problem but I think in a Content",
    "start": "768370",
    "end": "777790"
  },
  {
    "text": "addressed format the best thing to do is externally sign blobs so with a you know",
    "start": "777790",
    "end": "783250"
  },
  {
    "text": "basically have a detached signature and point at the thing you want to sign and say I'm signing this thing this is it's",
    "start": "783250",
    "end": "790180"
  },
  {
    "start": "785000",
    "end": "997000"
  },
  {
    "text": "hash I'm just going to sign that hash and",
    "start": "790180",
    "end": "794130"
  },
  {
    "text": "this seems to fit much better with the content address model because it means you don't have to mind about the",
    "start": "795350",
    "end": "803779"
  },
  {
    "text": "canonicalization you don't have to mind about anything else you and you just you're signing the content hash which is",
    "start": "803779",
    "end": "809870"
  },
  {
    "text": "what you really want to sign and it you",
    "start": "809870",
    "end": "817910"
  },
  {
    "text": "can if you have a signature as a separate objects in the registry that just points that the object you're signing then you can for example do",
    "start": "817910",
    "end": "824180"
  },
  {
    "text": "things like give people the hash of just the object without the signature for compatibility if they don't understand",
    "start": "824180",
    "end": "829699"
  },
  {
    "text": "signatures because you've got a separate thing to point it which makes it easier for us to experiment with different",
    "start": "829699",
    "end": "835009"
  },
  {
    "text": "signature formats detach signatures look something like this this is kind of a",
    "start": "835009",
    "end": "841459"
  },
  {
    "text": "kind of you got a list of signatures because you might want to sign things",
    "start": "841459",
    "end": "846860"
  },
  {
    "text": "multiple times each of them has some kind of key ID which tells you which key they are which this is from I mean tough",
    "start": "846860",
    "end": "855110"
  },
  {
    "text": "key IDs a hash of another sort of things but multiples and then the contents of",
    "start": "855110",
    "end": "862910"
  },
  {
    "text": "the actual signature which is just the block of signature we're signing the hash and then we have a point a normal",
    "start": "862910",
    "end": "869120"
  },
  {
    "text": "kind of pointer that points set in this case an index file with this particular hash so this is kind of quite a clean",
    "start": "869120",
    "end": "878089"
  },
  {
    "text": "model it doesn't mean there's an extra extra fetch from the registry but and we",
    "start": "878089",
    "end": "885769"
  },
  {
    "text": "need to have some meta we need to standardize some metadata so that we can put do things like handle expiry",
    "start": "885769",
    "end": "890870"
  },
  {
    "text": "fortunately the tough formats all will include that anyway and then we need",
    "start": "890870",
    "end": "899170"
  },
  {
    "text": "with multiples if you want multiple signatures it's kind of easy you can either sign at once or multiple times",
    "start": "899170",
    "end": "904639"
  },
  {
    "text": "you can you can modify the signature later or you can point another signature",
    "start": "904639",
    "end": "909740"
  },
  {
    "text": "at the first signature if you want that's also you can kind of chain signatures if you want all those things",
    "start": "909740",
    "end": "915949"
  },
  {
    "text": "are kind of valid strategies depending on how you want to use signatures and",
    "start": "915949",
    "end": "922389"
  },
  {
    "text": "yeah for backwards compatibility you can do kind of weird things like have a manifest list that has points at a",
    "start": "922389",
    "end": "928130"
  },
  {
    "text": "signature which then points another manifest list and so that better clients are told to",
    "start": "928130",
    "end": "935210"
  },
  {
    "text": "ignore things they don't understand so they can ignore a signature so I think",
    "start": "935210",
    "end": "941030"
  },
  {
    "text": "this kind of infrastructure fits quite well on the registry and I think that we can implement that relatively",
    "start": "941030",
    "end": "947080"
  },
  {
    "text": "straightforwardly there's been various issues on a hill in the OCI repo since",
    "start": "947080",
    "end": "952490"
  },
  {
    "text": "2016 about signatures I think I see how",
    "start": "952490",
    "end": "961640"
  },
  {
    "text": "it's not a very good place to define new things because their whole role is to standardize things that already exist so",
    "start": "961640",
    "end": "969640"
  },
  {
    "text": "my kind of view is that we need to sit down and implement these things do the kind of IETF style rough consensus",
    "start": "969640",
    "end": "975980"
  },
  {
    "text": "running cage let's get this stuff working let's get everyone agreed that that's what we want and actually kind of",
    "start": "975980",
    "end": "981170"
  },
  {
    "text": "ship stuff so it's it's really yeah I",
    "start": "981170",
    "end": "987290"
  },
  {
    "text": "don't think we want to sit there and do a sort of standardization process first we want to write some code implement it",
    "start": "987290",
    "end": "993500"
  },
  {
    "text": "and check these things work make sure they work for everyone's use cases and so on so there's kind of sort of about",
    "start": "993500",
    "end": "1000700"
  },
  {
    "start": "997000",
    "end": "1382000"
  },
  {
    "text": "how we sign things then obviously a lot of the stuff in notary and tough is",
    "start": "1000700",
    "end": "1008830"
  },
  {
    "text": "about signing collections of things so tough signs collections of things because you're signing effectively the",
    "start": "1008830",
    "end": "1015610"
  },
  {
    "text": "current set of packages so that you know what goes together what things you need to mirror what",
    "start": "1015610",
    "end": "1021280"
  },
  {
    "text": "names things have registries are kind of",
    "start": "1021280",
    "end": "1026699"
  },
  {
    "text": "don't sort of natively work like this because things like I mean ready the I",
    "start": "1026699",
    "end": "1033850"
  },
  {
    "text": "mean docker hub runs on s3 as a back-end and you know s3 does not have consistent",
    "start": "1033850",
    "end": "1040180"
  },
  {
    "text": "listings and things like that so you know it's not a it's not something that",
    "start": "1040180",
    "end": "1046170"
  },
  {
    "text": "falls naturally out of how you implement it but it's that's kind of okay because we can we can still kind of push these",
    "start": "1046170",
    "end": "1052750"
  },
  {
    "text": "documents into the registry that lists all the current contents a particular time so we can we can push effectively a",
    "start": "1052750",
    "end": "1059800"
  },
  {
    "text": "snapshot as a data item into it so this is what you know this is what",
    "start": "1059800",
    "end": "1066800"
  },
  {
    "text": "the manifest looked like in terms of implementation in terms of tough so you",
    "start": "1066800",
    "end": "1072410"
  },
  {
    "text": "basically again if you've just got a list of names hashes and sizes so just",
    "start": "1072410",
    "end": "1078500"
  },
  {
    "text": "you know this is what we have in our in our registry at this time is that this is the targets list and there but you",
    "start": "1078500",
    "end": "1088730"
  },
  {
    "text": "kind of think well actually there's something weird going on here because actually when we have a registry we",
    "start": "1088730",
    "end": "1095510"
  },
  {
    "text": "don't tend to actually have you know if you look at one set of files we usually",
    "start": "1095510",
    "end": "1104510"
  },
  {
    "text": "we usually stick different versions of",
    "start": "1104510",
    "end": "1109640"
  },
  {
    "text": "the same thing in one in one registry repository and where we have a bunch of",
    "start": "1109640",
    "end": "1116900"
  },
  {
    "text": "things that need to be there at the same time we we said we create them as like a",
    "start": "1116900",
    "end": "1122120"
  },
  {
    "text": "contentious tree of items and address them at once it's like why are we doing this kind of list of everything that's",
    "start": "1122120",
    "end": "1128390"
  },
  {
    "text": "in the registry and basically the answer is that when we design a tree we just",
    "start": "1128390",
    "end": "1136210"
  },
  {
    "text": "did something really really stupid so we made each so things like docket i/o",
    "start": "1136210",
    "end": "1144200"
  },
  {
    "text": "library Debian which is the Debian official images we made that a single tuff repository with its own root key",
    "start": "1144200",
    "end": "1150470"
  },
  {
    "text": "and that was just a really really really stupid idea because that was the wrong thing to do we should have made the",
    "start": "1150470",
    "end": "1156710"
  },
  {
    "text": "whole of docker library a tough repository because this is the collection of things that that the",
    "start": "1156710",
    "end": "1162200"
  },
  {
    "text": "maintainer of docker library are producing and it's the set of stuff across that that's important and we",
    "start": "1162200",
    "end": "1170840"
  },
  {
    "text": "ended up so we ended up with this kind of stupid strategy where we literally have hundreds and hundreds of root keys for all these separate things that we",
    "start": "1170840",
    "end": "1176740"
  },
  {
    "text": "that means that there's not actually a single root key for the whole of Dokka",
    "start": "1176740",
    "end": "1184250"
  },
  {
    "text": "library I think so here's his the we rosin carried in docker",
    "start": "1184250",
    "end": "1190340"
  },
  {
    "text": "Enterprise which is kind of weird that basically for example you could set it to trust everything",
    "start": "1190340",
    "end": "1195890"
  },
  {
    "text": "Dokka library and this is the list of Ches and it's a really stupid list of",
    "start": "1195890",
    "end": "1201200"
  },
  {
    "text": "Kay's that should be 1k it's also not one key for per repository because some of the people who were setting up these",
    "start": "1201200",
    "end": "1207410"
  },
  {
    "text": "repositories use the same key from multiple repositories and some of them obviously didn't so that was kind of",
    "start": "1207410",
    "end": "1212840"
  },
  {
    "text": "weird as well because I expect there to be the same as the number of projects not sure that's less and also like",
    "start": "1212840",
    "end": "1221230"
  },
  {
    "text": "there's other weird things that we've done with usage of repositories that I think it's just peculiar so we've put",
    "start": "1221230",
    "end": "1226790"
  },
  {
    "text": "all that we put all of Debian into one repository because we haven't got any more net we didn't give ourselves any",
    "start": "1226790",
    "end": "1232970"
  },
  {
    "text": "more hierarchical namespaces we kind of just gave ourselves you know library",
    "start": "1232970",
    "end": "1239290"
  },
  {
    "text": "miss out library in there but the library slash Debian but you can't have library slash Debian sighs stretch or",
    "start": "1239290",
    "end": "1246230"
  },
  {
    "text": "something like that because we almost every rigidly arbitrary cuts you off at",
    "start": "1246230",
    "end": "1251270"
  },
  {
    "text": "two levels of hierarchy which is again kind of stupid and tough is raise it up to a support hierarchical delegations",
    "start": "1251270",
    "end": "1258680"
  },
  {
    "text": "and it's really sensible so you can you can delegate different people ability to push to different paths but as we",
    "start": "1258680",
    "end": "1268610"
  },
  {
    "text": "basically only have like we don't allow any paths in our tough free players and",
    "start": "1268610",
    "end": "1273800"
  },
  {
    "text": "they re because we they're all at the top level it's totally stupid and the",
    "start": "1273800",
    "end": "1279050"
  },
  {
    "text": "delegation feature is almost totally useless and so and just confuses people",
    "start": "1279050",
    "end": "1286640"
  },
  {
    "text": "because they get the list up about delegations as like booked what do I just give everyone everything because",
    "start": "1286640",
    "end": "1292220"
  },
  {
    "text": "it's the same repository we don't have any names so I believe I believe some",
    "start": "1292220",
    "end": "1297230"
  },
  {
    "text": "registries actually give you lay longer paths more hierarchy but 99% of them",
    "start": "1297230",
    "end": "1303410"
  },
  {
    "text": "don't so that was you know other stupid things we did for now for I'm sure they",
    "start": "1303410",
    "end": "1308930"
  },
  {
    "text": "were good reasons at the time but they it's kind of wrong now and then for some",
    "start": "1308930",
    "end": "1316160"
  },
  {
    "text": "reason we I mean everyone keeps all their old images which is great cuz lots",
    "start": "1316160",
    "end": "1321740"
  },
  {
    "text": "of money and uh but hey and but is what you want to do like it's really",
    "start": "1321740",
    "end": "1328070"
  },
  {
    "text": "frustrating that like with they throw everything away from the main report and there is an archive in Debian but it's you're not allowed to use it in",
    "start": "1328070",
    "end": "1336320"
  },
  {
    "text": "production because it doesn't have much infrastructure supporting it it is really kind of cool because you can set so I say I once what apt would have",
    "start": "1336320",
    "end": "1343220"
  },
  {
    "text": "given me on the 3rd of September and it will give it to you it's nice I wish there was one for other distros I don't",
    "start": "1343220",
    "end": "1349340"
  },
  {
    "text": "think they have anything quite like that but we always sign all the stuff we",
    "start": "1349340",
    "end": "1355880"
  },
  {
    "text": "always the automated signing infrastructure for restyling snapshots and nature he just signs everything so",
    "start": "1355880",
    "end": "1361550"
  },
  {
    "text": "for some reason we or we sign all the old stuff that you should never install",
    "start": "1361550",
    "end": "1366670"
  },
  {
    "text": "because it's out of date and that's all the stuff in the replay so again the",
    "start": "1366670",
    "end": "1374330"
  },
  {
    "text": "kind of way we use things in the way that we kind of design nursery when we didn't know how we were going to use",
    "start": "1374330",
    "end": "1379460"
  },
  {
    "text": "things was all it's all kind of a bit wrong so there's that there's other",
    "start": "1379460",
    "end": "1387290"
  },
  {
    "start": "1382000",
    "end": "1642000"
  },
  {
    "text": "pieces as well I mean I think you know so I think anyway no jury was kind of an ambitious project to get tough working",
    "start": "1387290",
    "end": "1393310"
  },
  {
    "text": "when we didn't know how people were going to use things and so we made some",
    "start": "1393310",
    "end": "1401240"
  },
  {
    "text": "mistakes at the time and these are totally fixable I think it's really quite exciting now that I think that",
    "start": "1401240",
    "end": "1409300"
  },
  {
    "text": "we've had a bunch of community meetings about this actually recently and we who",
    "start": "1409300",
    "end": "1416300"
  },
  {
    "text": "talk to people they're never one agrees that yes funding is great we want to do signing let's get something that everyone can use it solves people's",
    "start": "1416300",
    "end": "1423080"
  },
  {
    "text": "problems and fix some issues and actually roll this thing out so that",
    "start": "1423080",
    "end": "1429160"
  },
  {
    "text": "it's used much more widely and as much",
    "start": "1429160",
    "end": "1434900"
  },
  {
    "text": "you know you know solves solve people's problems and doesn't have kind of weird design things that are kind of weird and",
    "start": "1434900",
    "end": "1441650"
  },
  {
    "text": "is native to registries and it's something that you can everyone can",
    "start": "1441650",
    "end": "1447340"
  },
  {
    "text": "everyone can use easily so this is kind",
    "start": "1447340",
    "end": "1454040"
  },
  {
    "text": "of becoming kind of the design phase of the we're in really is just beginning for notary kind of 2.0 where",
    "start": "1454040",
    "end": "1462400"
  },
  {
    "text": "so we've there's a lot of work to do around other pieces as well I mean I've",
    "start": "1462400",
    "end": "1467830"
  },
  {
    "text": "this talk only covers some other sort of technical issues that I think wrong doesn't really talk about some of the",
    "start": "1467830",
    "end": "1475090"
  },
  {
    "text": "dozen talk about all these some of the usability issues and related technical issues like having one root key for each",
    "start": "1475090",
    "end": "1481330"
  },
  {
    "text": "repository just least enormous proliferation of root keys which makes life annoying so those those directly",
    "start": "1481330",
    "end": "1487990"
  },
  {
    "text": "hinders usability but there are there are other issues around the actually one",
    "start": "1487990",
    "end": "1494320"
  },
  {
    "text": "things we talked about this morning was why'd you have to do the docker content trust equals one environment variable",
    "start": "1494320",
    "end": "1500050"
  },
  {
    "text": "well that was actually just a temporary kind of hack because we were supposed to just turn it on for everything all the",
    "start": "1500050",
    "end": "1506680"
  },
  {
    "text": "time but it became clear it wasn't possible to turn it on for everything all the time because it was going to it",
    "start": "1506680",
    "end": "1513790"
  },
  {
    "text": "was not going to actually work so and then we were going to just turn it on for doctoral official images and but",
    "start": "1513790",
    "end": "1520660"
  },
  {
    "text": "then like people think but we want to move our official images into a you know our local repository and still know that",
    "start": "1520660",
    "end": "1526510"
  },
  {
    "text": "the official images and still use signatures and is like well you're not going to be able to do that then and so",
    "start": "1526510",
    "end": "1531910"
  },
  {
    "text": "there were all these kinds of issues as well so so those for example no standard",
    "start": "1531910",
    "end": "1537700"
  },
  {
    "text": "you know way of fusing notary in kubernetes you know there's a bunch of",
    "start": "1537700",
    "end": "1542770"
  },
  {
    "text": "admission controllers that have their own kind of opinions but it's not you",
    "start": "1542770",
    "end": "1548140"
  },
  {
    "text": "know we once gets a stage where this is just integrated and everyone can just use it and it's easy and you know it's",
    "start": "1548140",
    "end": "1556330"
  },
  {
    "text": "it's obvious where you get your keys from how you get your keys where you put your keys what you have to check and",
    "start": "1556330",
    "end": "1561520"
  },
  {
    "text": "what you know what the what the model is and maybe and the kind of observability",
    "start": "1561520",
    "end": "1570190"
  },
  {
    "text": "of things like i'm it's really hard to know what's going on because for some reason we you can easily inspect the",
    "start": "1570190",
    "end": "1577060"
  },
  {
    "text": "metadata or ways it's kind of annoyingly it's it's annoyingly impossible when for",
    "start": "1577060",
    "end": "1584260"
  },
  {
    "text": "examples it's difficult to do anything when your certificate expires that",
    "start": "1584260",
    "end": "1589390"
  },
  {
    "text": "happen the other day with someone there's like debugging is like well we just give certificate expiration errors",
    "start": "1589390",
    "end": "1594580"
  },
  {
    "text": "that's not very helpful we can't check anything but yeah so there's lots of little pieces of those",
    "start": "1594580",
    "end": "1600190"
  },
  {
    "text": "kinds of usability pieces and just standardization that we need to do I",
    "start": "1600190",
    "end": "1607380"
  },
  {
    "text": "have created a notary v2 channel in the CN CF slack as of this morning we've got",
    "start": "1607380",
    "end": "1614260"
  },
  {
    "text": "a doc where there will be some meeting scheduled we're planning some more meetings soon with probably in Seattle",
    "start": "1614260",
    "end": "1623559"
  },
  {
    "text": "around the 12 of December as the current plan with you can ping me that I'm just",
    "start": "1623559",
    "end": "1630520"
  },
  {
    "text": "in Comicon every every possible thing if you've got questions you can find me on",
    "start": "1630520",
    "end": "1635950"
  },
  {
    "text": "on all the slacks and the universe and I",
    "start": "1635950",
    "end": "1642970"
  },
  {
    "start": "1642000",
    "end": "2136000"
  },
  {
    "text": "think you've come to the talk I hope you enjoyed it and I'm sure you've all got questions if I can't answer your",
    "start": "1642970",
    "end": "1649000"
  },
  {
    "text": "questions now I happy to answer them just drop me an email slack whatever at",
    "start": "1649000",
    "end": "1655480"
  },
  {
    "text": "any other point",
    "start": "1655480",
    "end": "1658049"
  },
  {
    "text": "thank you very much so we have about seven minutes for questions for the sake of the recording I'll run this my crown",
    "start": "1663159",
    "end": "1669380"
  },
  {
    "text": "to you to ask your question so with that it was he and so looking at this dr.",
    "start": "1669380",
    "end": "1683840"
  },
  {
    "text": "Condon frost notary like next generation something that always annoyed me is that there's some there's nothing similar to",
    "start": "1683840",
    "end": "1690980"
  },
  {
    "text": "like HSTs preload of images that you know are signed and should be signed and",
    "start": "1690980",
    "end": "1697429"
  },
  {
    "text": "you should enable content trust for those and you could bake that into the client maybe and have a like higher",
    "start": "1697429",
    "end": "1704390"
  },
  {
    "text": "degree of assurance of like for example the library images that are probably",
    "start": "1704390",
    "end": "1709490"
  },
  {
    "text": "going to be signed always yeah that's actually yeah that is gonna do because I",
    "start": "1709490",
    "end": "1716480"
  },
  {
    "text": "mean we definitely won you know the doctor library images are always signed",
    "start": "1716480",
    "end": "1721520"
  },
  {
    "text": "and you know that was the thing that we wanted to do to turn on first was enforcing that they should always be",
    "start": "1721520",
    "end": "1727850"
  },
  {
    "text": "signed and so yeah I think yeah including image metadata says that you should have checked the signature for",
    "start": "1727850",
    "end": "1733370"
  },
  {
    "text": "this at this point would be yeah it would definitely make sense yet yeah all right so so thank you this is I'm sure a",
    "start": "1733370",
    "end": "1740870"
  },
  {
    "text": "hard talk to give in some ways because it's always hard to talk about you know oops we made a lot of mistakes but it's",
    "start": "1740870",
    "end": "1748370"
  },
  {
    "text": "cool that there's a lot of like yeah a lot of learning experiences happened",
    "start": "1748370",
    "end": "1754039"
  },
  {
    "text": "yeah during the process um and one thing that we can take offline if it's more",
    "start": "1754039",
    "end": "1759289"
  },
  {
    "text": "detailed but I definitely be curious to talk more about the movement from having lots of root keys to having a single",
    "start": "1759289",
    "end": "1765320"
  },
  {
    "text": "root key I wonder if you can talk about that and also let me just prompt this by",
    "start": "1765320",
    "end": "1772190"
  },
  {
    "text": "saying have you thought about doing you know using the top level targets role in",
    "start": "1772190",
    "end": "1779210"
  },
  {
    "text": "the same way that you're planning on using this new single root role yes I",
    "start": "1779210",
    "end": "1784940"
  },
  {
    "text": "mean that was the kind of the point so you would yeah you yeah I think it was just that the you know",
    "start": "1784940",
    "end": "1793270"
  },
  {
    "text": "the things like Daka library taka daka like the official images we that that",
    "start": "1793450",
    "end": "1801250"
  },
  {
    "text": "should be one thing with one's one targets role and one you know this is something that you know we we maintain",
    "start": "1801250",
    "end": "1810130"
  },
  {
    "text": "all of these images there are there are thing it's we own this you know we own that thing we guarantee them all we",
    "start": "1810130",
    "end": "1816370"
  },
  {
    "text": "Karen see them all equally and that yes absolutely at the moment they were all just totally",
    "start": "1816370",
    "end": "1823410"
  },
  {
    "text": "independent in the lives an independent life which is kind of stupid because they're they're just they are a chunk of",
    "start": "1823410",
    "end": "1830110"
  },
  {
    "text": "things that you would like you would want to mirror together do you want to you might want to you know you you want",
    "start": "1830110",
    "end": "1836440"
  },
  {
    "text": "to you know we want them to be available on you know in different registries and",
    "start": "1836440",
    "end": "1841900"
  },
  {
    "text": "being able to check the signatures on them it's just it was just yeah it's just a off you know and off by one error",
    "start": "1841900",
    "end": "1849010"
  },
  {
    "text": "on the level really [Laughter] one issue that we've encountered at",
    "start": "1849010",
    "end": "1855700"
  },
  {
    "text": "least in the darker content trust model was you're dependent on the content",
    "start": "1855700",
    "end": "1861820"
  },
  {
    "text": "digest that the registry is gonna give you for an image that is not necessarily consistent across multiple registry",
    "start": "1861820",
    "end": "1867670"
  },
  {
    "text": "implementations so even if you have the same content itself multiple registers",
    "start": "1867670",
    "end": "1873550"
  },
  {
    "text": "will give them multiple digests for the same content which in turn will result in multiple signatures that no II wolves",
    "start": "1873550",
    "end": "1880210"
  },
  {
    "text": "have that shouldn't really be the case anymore I mean I think historically it",
    "start": "1880210",
    "end": "1888010"
  },
  {
    "text": "was the case with the old v1 registry format before because the registries originally weren't actually content",
    "start": "1888010",
    "end": "1893260"
  },
  {
    "text": "addressed and back in the bad old days",
    "start": "1893260",
    "end": "1899220"
  },
  {
    "text": "there was the worst security issue in Dhaka ever where someone discovered that",
    "start": "1899220",
    "end": "1905020"
  },
  {
    "text": "because the it wasn't actually a Content address thing it just looked like one you could basically just if you created",
    "start": "1905020",
    "end": "1914980"
  },
  {
    "text": "a collision with something like you know the layers of a bun so you could just you could just replace them with any",
    "start": "1914980",
    "end": "1921730"
  },
  {
    "text": "content because it wasn't actually kinda address so they are supposed to be kind of I think is that it's mainly a",
    "start": "1921730",
    "end": "1927280"
  },
  {
    "text": "I mean that on a direct probably the person to answer this question better but I really they supposed to be content",
    "start": "1927280",
    "end": "1934000"
  },
  {
    "text": "addressed and and so so v-22s fix that I",
    "start": "1934000",
    "end": "1945580"
  },
  {
    "text": "mean the the and also the content itself that you're pushing is content",
    "start": "1945580",
    "end": "1951370"
  },
  {
    "text": "addressable the only other issue sometimes that you'll see that the digest look like they don't match from",
    "start": "1951370",
    "end": "1959040"
  },
  {
    "text": "registry to registry is unfortunately some of the semantics around whether you're dealing with and manifest itself",
    "start": "1959040",
    "end": "1965770"
  },
  {
    "text": "and the digest of that manifest or of the manifest list that it's pointing to so sometimes yeah passes right through",
    "start": "1965770",
    "end": "1972790"
  },
  {
    "text": "some of those things so sometimes you could actually sign the manifest list even though when you actually pull something it pulls straight through that",
    "start": "1972790",
    "end": "1978730"
  },
  {
    "text": "top-level manifest and you get like just the amd64 image and you're now looking at the",
    "start": "1978730",
    "end": "1984340"
  },
  {
    "text": "digest yeah and those don't line up but they're still content addressable yes there's there's some weird semantics in",
    "start": "1984340",
    "end": "1990550"
  },
  {
    "text": "that last piece well I think will change with container D fixes that dock the docker containers the integration stuff",
    "start": "1990550",
    "end": "1997060"
  },
  {
    "text": "isn't kind of ship finished yet so docker doesn't really natively understand manifest lists it just read",
    "start": "1997060",
    "end": "2002580"
  },
  {
    "text": "ice through them so you'd get that problem when you pull with docker some",
    "start": "2002580",
    "end": "2008460"
  },
  {
    "text": "of the husband's carried over into scope yo and some of those tools as well katti gets it right and contains oh yeah and i",
    "start": "2008460",
    "end": "2016620"
  },
  {
    "text": "think that it's definitely the right thing to give you the manifest list hash",
    "start": "2016620",
    "end": "2023010"
  },
  {
    "text": "if that's what you pulled yeah and i should also point out that if you have older images that are still in v2 one",
    "start": "2023010",
    "end": "2029010"
  },
  {
    "text": "most registries won't up convert them to v2 two and those v2 one manifest contained not only the tag name but the",
    "start": "2029010",
    "end": "2035760"
  },
  {
    "text": "repository and the registry name as well so no it was forced to change the manifest digest when you add a new tags",
    "start": "2035760",
    "end": "2041910"
  },
  {
    "text": "change tags push them in different places but as long as you're pushing new images created with the latest v2 -",
    "start": "2041910",
    "end": "2047760"
  },
  {
    "text": "schema then there should be no changes as long as their client isn't munging it in some way as well yeah i think i think",
    "start": "2047760",
    "end": "2053908"
  },
  {
    "text": "yeah i mean again a lot of it comes down to we didn't realize at the beginning how important this whole kind",
    "start": "2053909",
    "end": "2060659"
  },
  {
    "text": "immutability and hashing and statics that virtually was and it's kind of you",
    "start": "2060660",
    "end": "2067330"
  },
  {
    "text": "know it is really important that we fix these things across the universe of clients and things over time because it",
    "start": "2067330",
    "end": "2075100"
  },
  {
    "text": "it does just make things just annoyingly broken and yeah there's other things like yeah just kind of making sure that",
    "start": "2075100",
    "end": "2084270"
  },
  {
    "text": "you can kind of you know the things do round-trip properly with push and pull",
    "start": "2084360",
    "end": "2090340"
  },
  {
    "text": "and there's things like that so yeah yeah I definitely has been frustrating",
    "start": "2090340",
    "end": "2096190"
  },
  {
    "text": "and I know you've had have had a lot of issues with it and and it's not very well now this does very well documented",
    "start": "2096190",
    "end": "2102940"
  },
  {
    "text": "it's kind of and and you don't actually realize that some you know the some",
    "start": "2102940",
    "end": "2109360"
  },
  {
    "text": "registries have different support for things because there's no kind of from you know there's there's no achieved",
    "start": "2109360",
    "end": "2114820"
  },
  {
    "text": "very little it's not very easy to find out because most anything that you pull things and it works that's fine kind of",
    "start": "2114820",
    "end": "2119890"
  },
  {
    "text": "thing unfortunately we are over time I'm sorry to encourage you all to continue",
    "start": "2119890",
    "end": "2125320"
  },
  {
    "text": "this Connor position out in the hallway track thank you very much thank you to Justin for having us today thank you",
    "start": "2125320",
    "end": "2133769"
  },
  {
    "text": "[Applause]",
    "start": "2134220",
    "end": "2138280"
  }
]